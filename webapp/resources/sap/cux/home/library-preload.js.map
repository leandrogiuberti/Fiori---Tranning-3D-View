{"version":3,"file":"library-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CardHelper","Button","CheckBox","CustomListItem","HBox","IconTabBar","IconTabFilter","Input","Label","sap_m_library","List","MessageStrip","MessageToast","ObjectStatus","OverflowToolbar","Panel","Text","Title","Toolbar","ToolbarSpacer","VBox","Element","EventBus","sap_ui_core_library","SimpleForm","JSONModel","FileUploader","Container","__BaseSettingsPanel","___utils_Accessibility","__AppManager","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_FESRUtil","__HttpHelper","__PageManager","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","FlexAlignItems","ToolbarStyle","ValueState","BaseSettingsPanel","checkPanelExists","AppManager","SETTINGS_PANELS_KEYS","recycleId","calculateDeviceType","DeviceType","addFESRSemanticStepName","FESR_EVENTS","HttpHelper","PageManager","PersonalisationUtils","UShellPersonalizer","ImportExportType","BASE_URL","REPO_BASE_URL","EXPORT_API","MYINSIGHT_SECTION_ID","NewsAndPagesContainerName","AppsContainerlName","InsightsContainerName","PagePanelName","FavAppPanelName","RecommendedAppPanelName","TilesPanelName","CardsPanelName","AdvancedSettingsPanel","extend","metadata","events","sectionsImported","constructor","_constructor","id","settings","BaseSettingsPanel.prototype.constructor.call","this","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","ADVANCED","_i18nBundle","getText","oEventBus","getInstance","oAppManagerInstance","oSectionsImported","oUserPersonalization","export","sections","fileName","sectionsSelected","error","import","selectedTab","showNoImport","oControlModel","addAggregation","getContent","addInnerContent","attachPanelNavigated","_this","oPageManagerInstance","getPersContainerId","_getPanel","getOwnerComponent","subscribe","channelId","eventId","data","customData","status","updateImportStatus","oDetailPage","getElementById","getProperty","layout","Mobile","_setRecommendationSettingsPanel","Promise","resolve","loadUserPersonalizationData","oImportBtn","setEnabled","enableDisableActions","setImportExportList","oExportMessage","setText","errorMessage","String","setType","errorType","oFileNameInput","setValue","oImportMessage","setVisible","reject","_setImportExportList","oExportList","destroy","setExportSectionList","_importExportPanel","addContent","oImportList","setImportSectionList","invalidate","_enableDisableActions","sType","oImportExportTab","setSelectedKey","IMPORT","oExportBtn","EXPORT","length","setExportImportValues","_setExportImportValues","_getContent","oContentVBox","getId","items","text","addStyleClass","_getImportExportPanel","headerToolbar","style","Clear","content","level","_getImportButton","_getExportButton","headerText","expanded","expandable","type","press","onImportPress","visible","PRESS","onExportPress","bind","_addInnerContent","backgroundDesign","selectedKey","oSelectedTab","select","onImportExportTabSelect","exportTab","key","SELECT","showIcon","exportText","fileInputContainer","alignItems","filenameLabel","labelFor","required","showColon","ariaLabelledBy","width","liveChange","onFileNameInputChange","value","addItem","importTab","importText","importSimpleForm","editable","labelSpanS","labelSpanM","fileUploader","tooltip","fileType","change","oEvent","onFileImport","maximumFileSize","sameFilenameAllowed","buttonText","classicImportTab","classicText","resetImportAppsNow","onResetImportApps","_setExportSectionList","exportSectionsList","growingThreshold","includeItemInSelection","setHeaderToolbar","setModel","bindItems","path","template","formatter","_isPanelAvailable","accDescription","parts","_formatAccDescription","onSectionsSelectionChange","selected","enabled","title","statusText","selectionText","instructionText","panelClassName","panelMappings","containerName","panelName","mapping","_setImportSectionList","importSectionsList","justifyContent","icon","state","_onSectionsSelectionChange","isImport","allSections","getItems","isSelected","innerCheckbox","isSectionSelected","some","oSection","getAggregation","getSelected","innerHbox","_onImportPress","_this2","attachEvent","setBusy","handleUserPersonalizationError","oExportData","_temp","importSections","aSelectedSections","bShowError","Error","oErr","_importSections","oImportData","sectionImportChain","aPromise","oSelectedSections","push","importApps","importTiles","importFavPages","reduce","chain","current","importCards","all","catch","oError","_importApps","apps","publish","groupInfo","_importTiles","tiles","_importFavPages","favouritePages","_importCards","cards","_updateImportStatus","sSectionTitle","errorState","sSectionId","find","oSec","undefined","Success","None","sectionTitles","Object","keys","imported","every","sTitle","fireEvent","resetImportModel","_resetImportModel","onOpen","getDeltaSectionViz","_getDeltaSectionViz","aImportedSections","_this3","_getSections","favSections","forEach","oImportedSection","aDelta","visualizations","filter","oImportViz","oViz","isBookmark","targetURL","vizId","getDeltaAuthSectionViz","_getDeltaAuthSectionViz","aDeltaSections","filterAuthSectionViz","_filterAuthSectionViz","aSections","_getCatalogApps","getServiceAsync","SearchableContent","getApps","includeAppsWithoutVisualizations","_filterAuthViz","aAppCatalog","aViz","aSectionViz","appCatalog","oAppCatalog","oSectionViz","oCatalogViz","target","action","semanticObject","displayFormatHint","map","filterAuthFavPages","_filterAuthFavPages","aFavPages","_exit","_this4","_temp3","_result","_temp2","fetchAllAvailablePages","aAvailablePages","oimportedPage","oAvailabePage","pageId","spaceId","_await$_this4$oPageMa","filterAuthCards","_filterAuthCards","aCards","_exit2","_temp5","_result2","_getParentApp","aAvailableApps","oCard","oApp","resolutionResult","applicationDependencies","name","parentAppId","_isNavigationSupported","oService","oParentApp","isNavigationSupported","aResponses","supported","_temp4","aServices","clientSideTargetResolution","Navigation","_oAdapter","_aInbounds","promise","aAuthCards","bIsNavigationSupported","_await$Promise$all$th","_onFileImport","files","getParameter","oFile","readFileContent","oFileContent","oEncodedFileContent","window","btoa","encodeURIComponent","replace","match","p1","fromCharCode","parseInt","Post","fileContent","oResponse","oImportDataString","JSON","parse","host","location","filterAuthorizedImportData","finally","_filterAuthorizedImportData","_this5","promises","isInsightsEnabled","_this5$isInsightsEnab","getInsightCards","aResponse","aAuthSections","aAuthFavPages","iInsightCardsCount","iTotalCardCount","Number","getImportedSections","getSelectedSections","_readFileContent","FileReader","reader","onload","event","blob","readAsText","_getPersonalizationData","_this6","_temp7","oPersonalizerInstance","read","_this6$oPersonalizerI","persData","_temp6","_UShellPersonalizer$g","_loadUserPersonalizationData","_this7","_this7$isInsightsEnab","_Promise$all","insightModel","favApps","insightTiles","insightCards","descriptorContent","personalization","aExportSections","refresh","_isInsightsEnabled","_exit3","_exit4","_getServiceAsync","message","_getSelectedSections","_isSectionSelected","sectionId","section","sec","_getImportedSections","oData","_this8","_temp9","isAppViz","oSections","panelClass","_this8$isInsightsEnab","_temp8","getDeltaFavPages","_getDeltaFavPages","aImportedFavPages","_this9","oImportedPage","oFavPage","_getInsightCards","_this0","_getServiceAsync2","cardHelperInstance","_getUserAllCardModel","oUserVisibleCardModel","aVisibleCards","visibility","_onExportPress","oExportFileName","oExportFileContent","getExportFileContent","require","File","save","stringify","show","_getExportFileContent","exportData","exportSections","oPersonalization","createdDate","Date","favoriteApps","filterNonSensitiveCards","_filterNonSensitiveCards","nonSensitiveCards","configuration","parameters","parameter","sensitiveProps","concat","getSensitiveProps","headerState","lineItemState","_getSensitiveProps","param","paramSensitiveProps","paramValue","sensitiveProp","ibnParams","_handleUserPersonalizationError","sErrorMsg","sErrorType","sDefaultErrorMsg","_onImportExportTabSelect","_onFileNameInputChange","sInputValue","trim","oInput","getSource","sValueState","sValueStateText","setValueState","setValueStateText","_onResetImportApps","_getRecommendationSettingsPanel","_this1","_recommendationSettingsPanel","panelId","showRecommendation","onRecommendationSettingChange","Center","_this10","recommendationSettingsPanel","_onRecommendationSettingChange","_this11","oPersData","write"],"sources":["AdvancedSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport CardHelper from \"sap/insights/CardHelper\";\nimport Button from \"sap/m/Button\";\nimport CheckBox, { CheckBox$SelectEvent } from \"sap/m/CheckBox\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport Input, { Input$LiveChangeEvent } from \"sap/m/Input\";\nimport Label from \"sap/m/Label\";\nimport { FlexAlignItems, ToolbarStyle } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectStatus from \"sap/m/ObjectStatus\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport File from \"sap/ui/core/util/File\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport FileUploader, { FileUploader$ChangeEvent } from \"sap/ui/unified/FileUploader\";\nimport Container from \"sap/ushell/Container\";\nimport ClientSideTargetResolution from \"sap/ushell/services/ClientSideTargetResolution\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport { $AdvancedSettingsPanelSettings } from \"./AdvancedSettingsPanel\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { IAppInbounds, IAppPersonalization, ISection, ISectionAndVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport { ICard, ICardActionParameters, ICardHelper, ICardHelperInstance, ICardManifest } from \"./interface/CardsInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { checkPanelExists } from \"./utils/Accessibility\";\nimport AppManager from \"./utils/AppManager\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { calculateDeviceType, DeviceType } from \"./utils/Device\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\nexport enum ImportExportType {\n\tIMPORT = \"import\",\n\tEXPORT = \"export\"\n}\n\nexport interface IExportData {\n\tapps?: ISection[];\n\ttiles?: ISectionAndVisualization[];\n\tgroupInfo?: IAppPersonalization[];\n\thost?: string;\n\tsections?: ISection[];\n\tcreatedDate?: string;\n\tfavouritePages: ISectionAndVisualization[] | IPage[];\n\tcards?: ICardManifest[];\n\tpersonalization?: IPersonalizationData;\n}\ninterface IExportSections {\n\ttitle: string;\n\tselected: boolean | undefined;\n\tenabled: boolean | undefined;\n\tpanelClass: string;\n\tstatus?: ValueState;\n}\ntype SectionOrVisualization = ISectionAndVisualization[] | IVisualization[];\ninterface IExportImportFile {\n\thost?: string;\n\tcreatedDate?: Date;\n\tsections?: SectionOrVisualization | [];\n\tgroupInfo?: IAppPersonalization[] | IVisualization[] | [];\n\ttiles?: SectionOrVisualization;\n\tcards?: ICardManifest[];\n\tfavouritePages: IPage[] | ISectionAndVisualization[];\n\tapps?: ISection[] | [];\n}\ninterface ApiResponse {\n\tvalue: { fileContent: string }[];\n\t// Define other properties if present in ApiResponse\n}\n\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\";\nconst REPO_BASE_URL = BASE_URL + \"insights_cards_repo_srv/0001/\";\nconst EXPORT_API = REPO_BASE_URL + \"INSIGHTS_CARDS/com.sap.gateway.srvd.ui2.insights_cards_repo_srv.v0001.importExport?\";\nconst MYINSIGHT_SECTION_ID = \"AZHJGRIT78TG7Y65RF6EPFJ9U\";\n\nconst NewsAndPagesContainerName: string = \"sap.cux.home.NewsAndPagesContainer\";\nconst AppsContainerlName: string = \"sap.cux.home.AppsContainer\";\nconst InsightsContainerName: string = \"sap.cux.home.InsightsContainer\";\nconst PagePanelName: string = \"sap.cux.home.PagePanel\";\nconst FavAppPanelName: string = \"sap.cux.home.FavAppPanel\";\nconst RecommendedAppPanelName: string = \"sap.cux.home.RecommendedAppPanel\";\nconst TilesPanelName: string = \"sap.cux.home.TilesPanel\";\nconst CardsPanelName: string = \"sap.cux.home.CardsPanel\";\n\n/**\n *\n * Class for My Home Advanced Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.AdvancedSettingsPanel\n */\nexport default class AdvancedSettingsPanel extends BaseSettingsPanel {\n\tprivate oControlModel!: JSONModel;\n\tprivate oImportExportTab!: IconTabBar;\n\tprivate oFileNameInput!: Input;\n\tprivate oSelectedTab!: string | undefined;\n\tprivate oExportList!: List;\n\tprivate oImportList!: List;\n\tprivate oImportBtn!: Button;\n\tprivate oExportBtn!: Button;\n\tprivate oEventBus!: EventBus;\n\tprivate oAppManagerInstance!: AppManager;\n\tprivate oPageManagerInstance!: PageManager;\n\tprivate oPersonalizerInstance!: UShellPersonalizer;\n\tprivate cardHelperInstance!: ICardHelperInstance;\n\tprivate persData!: IPersonalizationData;\n\tprivate oContentVBox!: VBox;\n\tprivate oExportMessage!: MessageStrip;\n\tprivate oImportMessage!: MessageStrip;\n\tprivate oDetailPage!: Page;\n\tprivate oSectionsImported!: {\n\t\t[key: string]: boolean;\n\t};\n\tprivate oUserPersonalization!: {\n\t\texport: {\n\t\t\tdata?: IExportData;\n\t\t\tsections?: IExportSections[];\n\t\t\tfileName?: string;\n\t\t\tsectionsSelected?: boolean;\n\t\t\terror?: boolean;\n\t\t\terrorMessage?: string;\n\t\t\terrorType?: string;\n\t\t};\n\t\timport: {\n\t\t\tdata?: IExportData | IExportImportFile;\n\t\t\tsections?: IExportSections[];\n\t\t\tsectionsSelected?: boolean;\n\t\t\terror?: boolean;\n\t\t\terrorMessage?: string;\n\t\t\terrorType?: MessageType;\n\t\t};\n\t\tselectedTab: string;\n\t\tshowNoImport: boolean;\n\t};\n\n\tconstructor(id?: string | $AdvancedSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $AdvancedSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $AdvancedSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tevents: {\n\t\t\tsectionsImported: {}\n\t\t}\n\t};\n\tprivate _recommendationSettingsPanel!: Panel;\n\tprivate _importExportPanel!: Panel;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.ADVANCED);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"advancedSettings\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://grid\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\tthis.oAppManagerInstance = AppManager.getInstance();\n\t\tthis.oSectionsImported = {};\n\t\tthis.oUserPersonalization = {\n\t\t\texport: {\n\t\t\t\tsections: [],\n\t\t\t\tfileName: \"MY_HOME\",\n\t\t\t\tsectionsSelected: false,\n\t\t\t\terror: false\n\t\t\t},\n\t\t\timport: {\n\t\t\t\tsections: [],\n\t\t\t\tsectionsSelected: false,\n\t\t\t\terror: false\n\t\t\t},\n\t\t\tselectedTab: \"export\",\n\t\t\tshowNoImport: false\n\t\t};\n\t\tthis.oControlModel = new JSONModel(this.oUserPersonalization);\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\t\tthis.addInnerContent();\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid (async () => {\n\t\t\t\tif (!this.oPageManagerInstance) {\n\t\t\t\t\tthis.oPageManagerInstance = PageManager.getInstance(\n\t\t\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// subscribe to all import events for all sections\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"tilesImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"insightsTiles\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"appsImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"favApps\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"favPagesImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"pages\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\tthis.oEventBus.subscribe(\n\t\t\t\t\t\"importChannel\",\n\t\t\t\t\t\"cardsImported\",\n\t\t\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t\t\tconst customData = (data as { status: boolean }).status;\n\t\t\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t\t\tthis.updateImportStatus(\"insightsCards\", !customData);\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t);\n\n\t\t\t\t//get the detailPage of advanced settingspanel\n\t\t\t\tthis.oDetailPage = Element.getElementById(this.getProperty(\"key\") + \"-detail-page\") as Page;\n\t\t\t\tconst layout = this._getPanel();\n\t\t\t\tif (checkPanelExists(layout, AppsContainerlName, RecommendedAppPanelName) && calculateDeviceType() !== DeviceType.Mobile) {\n\t\t\t\t\tvoid this._setRecommendationSettingsPanel();\n\t\t\t\t}\n\n\t\t\t\t//load user personalization data\n\t\t\t\tawait this.loadUserPersonalizationData();\n\n\t\t\t\t//import button set enabled/disabled based on sections selected\n\t\t\t\tthis.oImportBtn.setEnabled(this.oUserPersonalization.import.sectionsSelected);\n\t\t\t\tthis.enableDisableActions(this.oUserPersonalization.selectedTab as ImportExportType);\n\n\t\t\t\t//set export and import list\n\t\t\t\tthis.setImportExportList();\n\t\t\t\tthis.oExportMessage.setText(\n\t\t\t\t\tthis.oUserPersonalization.export.errorMessage ? String(this.oUserPersonalization.export.errorMessage) : \"\"\n\t\t\t\t);\n\t\t\t\tthis.oExportMessage.setType(this.oUserPersonalization.export.errorType as MessageType);\n\t\t\t\tthis.oExportMessage.setProperty(\"visible\", this.oUserPersonalization.export.error, true);\n\t\t\t\tthis.oFileNameInput.setValue(String(this.oUserPersonalization.export.fileName));\n\n\t\t\t\tthis.oImportMessage.setText(\n\t\t\t\t\tthis.oUserPersonalization.import.errorMessage ? String(this.oUserPersonalization.import.errorMessage) : \"\"\n\t\t\t\t);\n\t\t\t\tthis.oImportMessage.setType(this.oUserPersonalization.import.errorType as MessageType);\n\t\t\t\tthis.oImportMessage.setVisible(this.oUserPersonalization.import.error);\n\t\t\t})();\n\t\t});\n\t}\n\n\tprivate setImportExportList(): void {\n\t\tthis.oExportList?.destroy();\n\t\tthis.oExportList = this.setExportSectionList();\n\t\tthis._importExportPanel.addContent(this.oExportList);\n\t\tif (!this.oImportList) {\n\t\t\tthis.oImportList = this.setImportSectionList();\n\t\t\tthis._importExportPanel.addContent(this.oImportList);\n\t\t} else {\n\t\t\tthis.oImportList.invalidate();\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param sType selected tab type\n\t * Set import / export button enable property and selectedkey of importexport tab\n\t */\n\tprivate enableDisableActions(sType: ImportExportType): void {\n\t\tthis.oImportExportTab?.setSelectedKey(sType);\n\t\tthis.oImportBtn?.setVisible(sType === ImportExportType.IMPORT);\n\t\tthis.oExportBtn?.setVisible(sType === ImportExportType.EXPORT);\n\t\tif (this.oUserPersonalization.import.sectionsSelected && sType === ImportExportType.IMPORT) {\n\t\t\tthis.oImportBtn.setEnabled(true);\n\t\t} else {\n\t\t\tthis.oImportBtn.setEnabled(false);\n\t\t}\n\n\t\tif (\n\t\t\tsType === ImportExportType.EXPORT &&\n\t\t\tthis.oUserPersonalization.export.fileName &&\n\t\t\tthis.oUserPersonalization.export.sections?.length &&\n\t\t\tthis.oUserPersonalization.export.sectionsSelected\n\t\t) {\n\t\t\tthis.oExportBtn.setEnabled(true);\n\t\t} else {\n\t\t\tthis.oExportBtn.setEnabled(false);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param sType selected tab type\n\t * Set import/ export message values\n\t */\n\tprivate setExportImportValues(sType: ImportExportType): void {\n\t\tif (sType === ImportExportType.EXPORT) {\n\t\t\tthis.oExportMessage.setText(\n\t\t\t\tthis.oUserPersonalization.export.errorMessage ? String(this.oUserPersonalization.export.errorMessage) : \"\"\n\t\t\t);\n\t\t\tthis.oExportMessage.setType(this.oUserPersonalization.export.errorType as MessageType);\n\t\t\tthis.oExportMessage.setProperty(\"visible\", this.oUserPersonalization.export.error, true);\n\t\t} else if (sType === ImportExportType.IMPORT) {\n\t\t\tthis.oImportMessage.setText(\n\t\t\t\tthis.oUserPersonalization.import.errorMessage ? String(this.oUserPersonalization.import.errorMessage) : \"\"\n\t\t\t);\n\t\t\tthis.oImportMessage.setType(this.oUserPersonalization.import.errorType as MessageType);\n\t\t\tthis.oImportMessage.setProperty(\"visible\", this.oUserPersonalization.import.error);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the outer content VBox for the Advanced Settings Panel.\n\t * @returns VBox\n\t */\n\tprivate getContent(): VBox {\n\t\tif (!this.oContentVBox) {\n\t\t\tthis.oContentVBox = new VBox(this.getId() + \"--idAdvancedVBox\", {\n\t\t\t\titems: [\n\t\t\t\t\tnew Text(this.getId() + \"--idPersonalizationSubheader\", {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"advancedSettingsSubheader\")\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBegin sapUiSmallMarginTop\"),\n\n\t\t\t\t\tthis._getImportExportPanel()\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t\treturn this.oContentVBox;\n\t}\n\n\t/**\n\t * Returns the import/export panel.\n\t *\n\t * @private\n\t * @returns {Panel} The import/export panel.\n\t */\n\tprivate _getImportExportPanel() {\n\t\tif (!this._importExportPanel) {\n\t\t\tthis._importExportPanel = new Panel(`${this.getId()}-importExportPanel`, {\n\t\t\t\theaderToolbar: new OverflowToolbar(`${this.getId()}-importExportPanelToolbar`, {\n\t\t\t\t\tstyle: ToolbarStyle.Clear,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Title(`${this.getId()}-importExportPanelToolbarText`, {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"importAndExportPanelHeader\"),\n\t\t\t\t\t\t\tlevel: \"H3\"\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew ToolbarSpacer(`${this.getId()}-importExportPanelToolbarSpacer`),\n\t\t\t\t\t\tthis._getImportButton(),\n\t\t\t\t\t\tthis._getExportButton()\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\theaderText: this._i18nBundle.getText(\"importAndExportPanelHeader\"),\n\t\t\t\texpanded: true,\n\t\t\t\texpandable: true,\n\t\t\t\tcontent: []\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\n\t\treturn this._importExportPanel;\n\t}\n\n\t/**\n\t * Returns the import button.\n\t *\n\t * @private\n\t * @returns {Button} import button.\n\t */\n\tprivate _getImportButton() {\n\t\tif (!this.oImportBtn) {\n\t\t\tthis.oImportBtn = new Button({\n\t\t\t\tid: `${this.getId()}-importBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"import\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this.onImportPress();\n\t\t\t\t},\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this._getImportButton(), FESR_EVENTS.PRESS, \"importBtn\");\n\t\t}\n\t\treturn this.oImportBtn;\n\t}\n\n\t/**\n\t * Returns the export button.\n\t *\n\t * @private\n\t * @returns {Button} export button.\n\t */\n\tprivate _getExportButton() {\n\t\tif (!this.oExportBtn) {\n\t\t\tthis.oExportBtn = new Button({\n\t\t\t\tid: `${this.getId()}-exportBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"export\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: this.onExportPress.bind(this),\n\t\t\t\tvisible: true\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oExportBtn, FESR_EVENTS.PRESS, \"exportBtn\");\n\t\t}\n\t\treturn this.oExportBtn;\n\t}\n\n\t/**\n\t * Returns the inner content for the Advanced Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the Advanced Settings Panel content.\n\t */\n\tprivate addInnerContent(): void {\n\t\t//if not already initialised, create the import/export tab and inner controls\n\t\tif (!this.oImportExportTab) {\n\t\t\tthis.oImportExportTab = new IconTabBar(this.getId() + \"--idImportExportTab\", {\n\t\t\t\texpandable: false,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tselectedKey: this.oSelectedTab ? this.oSelectedTab : \"export\",\n\t\t\t\tselect: this.onImportExportTabSelect.bind(this)\n\t\t\t});\n\n\t\t\tconst exportTab = new IconTabFilter(this.getId() + \"--idExportTab\", {\n\t\t\t\tkey: \"export\",\n\t\t\t\ttext: this._i18nBundle.getText(\"exportFile\")\n\t\t\t});\n\t\t\t// Add FESR for export tab\n\t\t\taddFESRSemanticStepName(exportTab, FESR_EVENTS.SELECT, \"exportTab\");\n\n\t\t\t//export tab content\n\t\t\tthis.oExportMessage = new MessageStrip(this.getId() + \"--idExportMessageStrip\", {\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\");\n\t\t\tconst exportText = new Text(this.getId() + \"--idExportText\", { text: this._i18nBundle.getText(\"exportText\") }).addStyleClass(\n\t\t\t\t\"advancePadding\"\n\t\t\t);\n\t\t\tconst fileInputContainer = new HBox(this.getId() + \"--idFileInputContainer\", {\n\t\t\t\talignItems: \"Center\"\n\t\t\t}).addStyleClass(\"sapUiSmallMargin\");\n\t\t\tconst filenameLabel = new Label(this.getId() + \"--idFilenameLabel\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"exportFileNameLabel\"),\n\t\t\t\tlabelFor: \"idTitleFilenameInput\",\n\t\t\t\trequired: true,\n\t\t\t\tshowColon: true\n\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\t\t\tthis.oFileNameInput = new Input(this.getId() + \"--idFileNameInput\", {\n\t\t\t\tariaLabelledBy: [`${this.getId()}--idExportText`, `${this.getId()}--idFilenameLabel`],\n\t\t\t\trequired: true,\n\t\t\t\twidth: \"13rem\",\n\t\t\t\tliveChange: this.onFileNameInputChange.bind(this),\n\t\t\t\tvalue: \"\"\n\t\t\t});\n\n\t\t\tfileInputContainer.addItem(filenameLabel);\n\t\t\tfileInputContainer.addItem(this.oFileNameInput);\n\n\t\t\texportTab.addContent(this.oExportMessage);\n\t\t\texportTab.addContent(exportText);\n\t\t\texportTab.addContent(fileInputContainer);\n\n\t\t\t//import tab\n\t\t\tconst importTab = new IconTabFilter(this.getId() + \"--idImportTab\", {\n\t\t\t\tkey: \"import\",\n\t\t\t\ttext: this._i18nBundle.getText(\"importFile\")\n\t\t\t});\n\t\t\t// Add FESR for import tab\n\t\t\taddFESRSemanticStepName(importTab, FESR_EVENTS.SELECT, \"importTab\");\n\n\t\t\t//import tab content\n\t\t\tthis.oImportMessage = new MessageStrip(this.getId() + \"--idImportMessageStrip\", {\n\t\t\t\ttext: \"{advsettings>/import/errorMessage}\",\n\t\t\t\ttype: \"{advsettings>/import/errorType}\",\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\");\n\t\t\tconst importText = new Text(this.getId() + \"--idImportText\", { text: this._i18nBundle.getText(\"importText\") }).addStyleClass(\n\t\t\t\t\"advancePadding\"\n\t\t\t);\n\t\t\tconst importSimpleForm = new SimpleForm(this.getId() + \"--idImportSimpleForm\", {\n\t\t\t\teditable: true,\n\t\t\t\tlayout: \"ResponsiveGridLayout\",\n\t\t\t\tlabelSpanS: 4,\n\t\t\t\tlabelSpanM: 4\n\t\t\t});\n\t\t\tconst fileUploader = new FileUploader(this.getId() + \"--idImportFileUploader\", {\n\t\t\t\ttooltip: this._i18nBundle.getText(\"uploadImportFile\"),\n\t\t\t\tfileType: [\"txt\"],\n\t\t\t\tchange: (oEvent: FileUploader$ChangeEvent) => {\n\t\t\t\t\tvoid this.onFileImport(oEvent);\n\t\t\t\t},\n\t\t\t\tmaximumFileSize: 25,\n\t\t\t\tsameFilenameAllowed: true,\n\t\t\t\twidth: \"80%\",\n\t\t\t\tariaLabelledBy: [`${this.getId()}--idImportText`],\n\t\t\t\tbuttonText: this._i18nBundle.getText(\"importFileUploaderButton\")\n\t\t\t});\n\t\t\timportSimpleForm.addContent(fileUploader);\n\t\t\timportTab.addContent(this.oImportMessage);\n\t\t\timportTab.addContent(importText);\n\t\t\timportTab.addContent(importSimpleForm);\n\n\t\t\tconst classicImportTab = new IconTabFilter(this.getId() + \"--idClassicImportTab\", {\n\t\t\t\tkey: \"classicImport\",\n\t\t\t\ttext: this._i18nBundle.getText(\"classicImport\")\n\t\t\t});\n\t\t\t// Add FESR for classic import tab\n\t\t\taddFESRSemanticStepName(classicImportTab, FESR_EVENTS.SELECT, \"classicImportTab\");\n\t\t\tconst classicText = new Text(this.getId() + \"--idClassicImportText\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"classicImportText\")\n\t\t\t}).addStyleClass(\"sapUiSmallMarginBottom advancePadding\");\n\t\t\tconst resetImportAppsNow = new Button(this.getId() + \"--resetImportAppsNow\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"resetButton\"),\n\t\t\t\tpress: this.onResetImportApps.bind(this),\n\t\t\t\tariaLabelledBy: [`${this.getId()}--idClassicImportText`]\n\t\t\t}).addStyleClass(\"resetButtonPadding\");\n\t\t\taddFESRSemanticStepName(resetImportAppsNow, FESR_EVENTS.PRESS, \"resetImportApps\");\n\t\t\tclassicImportTab.addContent(classicText);\n\t\t\tclassicImportTab.addContent(resetImportAppsNow);\n\n\t\t\tthis.oImportExportTab.addItem(exportTab);\n\t\t\tthis.oImportExportTab.addItem(importTab);\n\t\t\tthis.oImportExportTab.addItem(classicImportTab);\n\t\t\tthis._importExportPanel.addContent(this.oImportExportTab);\n\t\t\tthis._importExportPanel.addContent(this.setExportSectionList());\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {List} export section list\n\t */\n\tprivate setExportSectionList(): List {\n\t\tconst exportSectionsList = new List(`${this.getId()}--exportSectionsList`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tgrowingThreshold: 50,\n\t\t\tincludeItemInSelection: true,\n\t\t\tvisible: \"{= ${advsettings>/selectedTab} === 'export'}\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tconst headerToolbar = new Toolbar(`${this.getId()}--exportSectionsListToolbar`, {\n\t\t\tcontent: [\n\t\t\t\tnew Title(this.getId() + \"--idExportSectionsListHeaderText\", {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"sectionExportListHeader\"),\n\t\t\t\t\tlevel: \"H4\"\n\t\t\t\t}).addStyleClass(\"sectionTitle\")\n\t\t\t]\n\t\t});\n\t\texportSectionsList.setHeaderToolbar(headerToolbar);\n\t\t//set model for the list and bind items to path advsettings>/export/sections\n\t\texportSectionsList.setModel(this.oControlModel, \"advsettings\");\n\n\t\texportSectionsList.bindItems({\n\t\t\tpath: \"advsettings>/export/sections\",\n\t\t\ttemplate: new CustomListItem(`${this.getId()}--exportCustomListItem`, {\n\t\t\t\tvisible: {\n\t\t\t\t\tpath: \"advsettings>panelClass\",\n\t\t\t\t\tformatter: this._isPanelAvailable.bind(this)\n\t\t\t\t},\n\t\t\t\taccDescription: {\n\t\t\t\t\tparts: [{ path: \"advsettings>enabled\" }, { path: \"advsettings>selected\" }, { path: \"advsettings>title\" }],\n\t\t\t\t\tformatter: this._formatAccDescription.bind(this)\n\t\t\t\t},\n\t\t\t\tcontent: [\n\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--exportContentBox`), {\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew CheckBox(recycleId(`${this.getId()}--exportListItemCheck`), {\n\t\t\t\t\t\t\t\tselect: this.onSectionsSelectionChange.bind(this, false),\n\t\t\t\t\t\t\t\tselected: \"{advsettings>selected}\",\n\t\t\t\t\t\t\t\tenabled: \"{advsettings>enabled}\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text(recycleId(`${this.getId()}--exportListItemText`), { text: \"{advsettings>title}\" })\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\t\tthis.oExportList = exportSectionsList;\n\t\treturn exportSectionsList;\n\t}\n\n\t/**\n\t * Returns an accessibility description string for a list item.\n\t *\n\t * @param enabled Indicates if the checkbox is enabled.\n\t * @param selected Indicates if the checkbox is selected (checked).\n\t * @param title The title of the list item.\n\t * @returns The formatted accessibility description.\n\t */\n\tprivate _formatAccDescription(enabled: boolean, selected: boolean, title: string): string {\n\t\tconst statusText = !enabled ? `${this._i18nBundle.getText(\"checkboxDisabledText\")}.` : \"\";\n\n\t\tconst selectionText = selected\n\t\t\t? this._i18nBundle.getText(\"checkboxCheckedText\")\n\t\t\t: this._i18nBundle.getText(\"checkboxUnCheckedText\");\n\n\t\tconst instructionText = this._i18nBundle.getText(\"checkboxInstructionText\");\n\n\t\treturn `${statusText}${selectionText}. ${title}. ${instructionText}`;\n\t}\n\n\tprivate _isPanelAvailable(panelClassName: string): boolean {\n\t\tconst panelMappings: Record<string, { containerName: string; panelName: string }> = {\n\t\t\t[FavAppPanelName]: { containerName: AppsContainerlName, panelName: FavAppPanelName },\n\t\t\t[PagePanelName]: { containerName: NewsAndPagesContainerName, panelName: PagePanelName },\n\t\t\t[TilesPanelName]: { containerName: InsightsContainerName, panelName: TilesPanelName },\n\t\t\t[CardsPanelName]: { containerName: InsightsContainerName, panelName: CardsPanelName }\n\t\t};\n\n\t\tconst mapping = panelMappings[panelClassName];\n\t\tif (!mapping) return false;\n\t\tconst layout = this._getPanel();\n\t\treturn checkPanelExists(layout, mapping.containerName, mapping.panelName);\n\t}\n\n\t/**\n\t *\n\t * @returns {List} import section list\n\t */\n\tprivate setImportSectionList(): List {\n\t\tconst importSectionsList = new List(this.getId() + \"--idImportSectionsList\", {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tgrowingThreshold: 50,\n\t\t\tincludeItemInSelection: true,\n\t\t\tvisible:\n\t\t\t\t\"{= ${advsettings>/selectedTab} === 'import' && (${advsettings>/import/sections/length} > 0 || ${advsettings>/showNoImport})}\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tconst headerToolbar = new Toolbar(this.getId() + \"--idImportSectionsListToolbar\", {\n\t\t\tcontent: [\n\t\t\t\tnew Title(`${this.getId()}--importSectionsListHeaderText`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"sectionImportListHeader\")\n\t\t\t\t}).addStyleClass(\"sectionTitle\")\n\t\t\t]\n\t\t});\n\t\timportSectionsList.setHeaderToolbar(headerToolbar);\n\t\t//set model for the list and bind items to path advsettings>/import/sections\n\t\timportSectionsList.setModel(this.oControlModel, \"advsettings\");\n\t\timportSectionsList.bindItems({\n\t\t\tpath: \"advsettings>/import/sections\",\n\t\t\ttemplate: new CustomListItem(`${this.getId()}--importCustomListItem`, {\n\t\t\t\taccDescription: {\n\t\t\t\t\tpath: \"advsettings>title\",\n\t\t\t\t\tformatter: this._formatAccDescription.bind(this)\n\t\t\t\t},\n\t\t\t\tcontent: [\n\t\t\t\t\tnew HBox(`${this.getId()}--importListCheckBox`, {\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew HBox(`${this.getId()}--importListItemCheckHBox`, {\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew CheckBox(`${this.getId()}--importListItemCheck`, {\n\t\t\t\t\t\t\t\t\t\tselect: this.onSectionsSelectionChange.bind(this, true),\n\t\t\t\t\t\t\t\t\t\tselected: \"{advsettings>selected}\",\n\t\t\t\t\t\t\t\t\t\tenabled: \"{advsettings>enabled}\"\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tnew Text(`${this.getId()}--importListItemText`, { text: \"{advsettings>title}\" }).addStyleClass(\n\t\t\t\t\t\t\t\t\t\t\"sapUiTinyMarginTop\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox(`${this.getId()}--importStatusHBox`, {\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew ObjectStatus(`${this.getId()}--importItemStatus`, {\n\t\t\t\t\t\t\t\t\t\ticon: \"{= ${advsettings>status} === 'Success' ? 'sap-icon://status-positive' : 'sap-icon://status-negative' }\",\n\t\t\t\t\t\t\t\t\t\tstate: \"{advsettings>status}\",\n\t\t\t\t\t\t\t\t\t\tvisible: \"{= ${advsettings>status} !== 'None'}\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\n\t\treturn importSectionsList;\n\t}\n\n\t/**\n\t * Selection change event handler for export and import sections\n\t * @param isImport boolean value to check if import or export tab is selected\n\t */\n\tprivate onSectionsSelectionChange(isImport: boolean): void {\n\t\tconst allSections = isImport ? this.oImportList.getItems() : this.oExportList.getItems();\n\t\tlet isSelected = false;\n\t\tlet content, innerCheckbox;\n\t\tconst isSectionSelected = allSections.some(function (oSection) {\n\t\t\tif (!isImport) {\n\t\t\t\tcontent = oSection.getAggregation(\"content\") as Control[];\n\t\t\t\tinnerCheckbox = (content[0] as HBox).getItems()[0] as CheckBox;\n\t\t\t\tisSelected = innerCheckbox.getSelected();\n\t\t\t} else {\n\t\t\t\tcontent = oSection.getAggregation(\"content\") as Control[];\n\t\t\t\tconst innerHbox = (content[0] as HBox).getItems()[0] as HBox;\n\t\t\t\tinnerCheckbox = innerHbox.getItems()[0] as CheckBox;\n\t\t\t\tisSelected = innerCheckbox.getSelected();\n\t\t\t}\n\t\t\treturn isSelected;\n\t\t});\n\t\tthis.oControlModel.setProperty((isImport ? \"/import\" : \"/export\") + \"/sectionsSelected\", isSectionSelected);\n\t\tthis.enableDisableActions((isImport ? \"import\" : \"export\") as ImportExportType);\n\t}\n\n\t/**\n\t * Handler for import button press\n\t *\n\t */\n\tprivate async onImportPress(): Promise<void> {\n\t\tthis.attachEvent(\"sectionsImported\", () => {\n\t\t\tthis.oDetailPage.setBusy(false);\n\t\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", false);\n\t\t});\n\t\tthis.oImportBtn.setEnabled(false);\n\t\tthis.oDetailPage.setBusy(true);\n\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, false, \"\", \"\");\n\t\tconst oExportData = this.oUserPersonalization.import.data;\n\t\ttry {\n\t\t\tconst aSelectedSections = await this.importSections(oExportData);\n\t\t\tconst bShowError: boolean = aSelectedSections.some((oSection) => {\n\t\t\t\treturn oSection.status === ValueState.Error;\n\t\t\t});\n\t\t\tif (bShowError) {\n\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\ttrue,\n\t\t\t\t\tString(this._i18nBundle.getText(\"userPersonalizationImportError\")),\n\t\t\t\t\t\"Warning\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.oControlModel.setProperty(\"/import/sections\", aSelectedSections);\n\t\t} catch (oErr: unknown) {\n\t\t\tLog.error(\"importpress\", String(oErr));\n\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\tImportExportType.IMPORT,\n\t\t\t\ttrue,\n\t\t\t\tString(this._i18nBundle.getText(\"userPersonalizationImportError\")),\n\t\t\t\t\"Error\"\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Invokes import of apps,tiles,pages and cards data\n\t * @param oImportData import data\n\t * @returns Promise<IExportSections[]>\n\t */\n\tprivate importSections(oImportData?: IExportData | IExportImportFile): Promise<IExportSections[] | []> {\n\t\tconst sectionImportChain: (() => Promise<void>)[] = [];\n\t\tconst aPromise: Promise<void>[] = [];\n\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\n\t\tsectionImportChain.push(() => this.importApps(oImportData));\n\t\tsectionImportChain.push(() => this.importTiles(oImportData));\n\t\tsectionImportChain.push(() => this.importFavPages(oImportData));\n\n\t\t// Execute apps, tiles, and pages sequentially\n\t\taPromise.push(\n\t\t\tsectionImportChain.reduce((chain, current) => {\n\t\t\t\treturn chain.then(() => current());\n\t\t\t}, Promise.resolve())\n\t\t);\n\n\t\taPromise.push(this.importCards(oImportData));\n\n\t\treturn Promise.all(aPromise)\n\t\t\t.then(() => {\n\t\t\t\treturn oSelectedSections;\n\t\t\t})\n\t\t\t.catch((oError: Error) => {\n\t\t\t\tLog.error(\"import failed\", String(oError));\n\t\t\t\treturn [];\n\t\t\t});\n\t}\n\n\tprivate importApps(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.apps &&\n\t\t\t\toImportData?.apps.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"favApps\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"favApps\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"appsImport\", { apps: oImportData.apps, groupInfo: oImportData.groupInfo });\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no apps / apps selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"favApps\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"favApps\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importTiles(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.tiles &&\n\t\t\t\toImportData.tiles.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"insightsTiles\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsTiles\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"tilesImport\", oImportData.tiles);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsTiles\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"insightsTiles\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importFavPages(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.favouritePages &&\n\t\t\t\toImportData.favouritePages.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"pages\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"pages\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImport\", oImportData.favouritePages);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"pages\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"pages\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate importCards(oImportData?: IExportData | IExportImportFile): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\t\tif (\n\t\t\t\toImportData?.cards &&\n\t\t\t\toImportData.cards.length > 0 &&\n\t\t\t\tthis.isSectionSelected(oSelectedSections, String(this._i18nBundle.getText(\"insightsCards\")))\n\t\t\t) {\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsCards\"))] = false;\n\t\t\t\tthis.oEventBus.publish(\"importChannel\", \"cardsImport\", oImportData.cards);\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\t// if no tiles / tiles section not selected then resolve the promise and mark the section as imported\n\t\t\t\tthis.oSectionsImported[String(this._i18nBundle.getText(\"insightsCards\"))] = true;\n\t\t\t\tthis.updateImportStatus(\"insightsCards\");\n\t\t\t\tresolve(); // Resolve the promise if condition doesn't meet\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t *  Updates status of sections being imported\n\t *\t@param {string} sSectionTitle - section title\n\t * \t@param {boolean} errorState - error state\n\t * \t@returns {void}\n\t */\n\tprivate updateImportStatus(sSectionTitle: string, errorState?: boolean): void {\n\t\tconst sSectionId = String(this._i18nBundle.getText(sSectionTitle));\n\t\tconst oSelectedSections = this.oControlModel.getProperty(\"/import/sections\") as IExportSections[];\n\t\tconst oSection = oSelectedSections.find(function (oSec) {\n\t\t\treturn oSec.title === sSectionId;\n\t\t});\n\t\tif (oSection) {\n\t\t\tif (errorState !== undefined) {\n\t\t\t\toSection.status = errorState ? ValueState.Error : ValueState.Success;\n\t\t\t} else {\n\t\t\t\toSection.status = ValueState.None;\n\t\t\t}\n\t\t\t//if a section's status has become success then disable that particular section\n\t\t\tif (oSection.status === ValueState.Success) {\n\t\t\t\toSection.enabled = false;\n\t\t\t}\n\t\t}\n\t\tthis.oSectionsImported[sSectionId] = true;\n\t\tconst sectionTitles = Object.keys(this.oSectionsImported);\n\t\t// if every section has been imported successfully then fire sectionsimported\n\t\tconst imported = sectionTitles.every((sTitle) => {\n\t\t\treturn this.oSectionsImported[sTitle];\n\t\t});\n\t\tif (imported) {\n\t\t\tthis.fireEvent(\"sectionsImported\");\n\t\t}\n\t}\n\n\t/**\n\t *  Resets the import model values\n\t *  @param {boolean} onOpen - value to show if the reset call is happening while opening the dialog for the first time\n\t * \t@private\n\t */\n\tpublic resetImportModel(onOpen?: boolean): void {\n\t\tthis.oControlModel.setProperty(\"/import/sections\", []);\n\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", false);\n\t\tthis.oControlModel.setProperty(\"/import/error\", false);\n\t\t// if called on settingsdialog open , reset value of selectedtab and fileUploader value\n\t\tif (onOpen) {\n\t\t\tthis.oControlModel.setProperty(\"/selectedTab\", \"export\");\n\t\t\t(Element.getElementById(this.getId() + \"--idImportFileUploader\") as FileUploader)?.setValue(\"\");\n\t\t}\n\t}\n\n\t/**\n\t * \tFind visualizations that are not already present in the favsections\n\t * @param aImportedSections\n\t * @returns {Promise<ISection[] | []>} aImportedSections\n\t */\n\tprivate async getDeltaSectionViz(aImportedSections: ISection[]): Promise<ISection[] | []> {\n\t\ttry {\n\t\t\tconst favSections: ISection[] = await this.oAppManagerInstance._getSections(true);\n\n\t\t\taImportedSections.forEach((oImportedSection) => {\n\t\t\t\tlet oSection: ISection | undefined;\n\t\t\t\tif (oImportedSection.default) {\n\t\t\t\t\toSection = favSections.find((oSec) => oSec.default);\n\t\t\t\t} else {\n\t\t\t\t\toSection = favSections.find((oSec) => oSec.id === oImportedSection.id);\n\t\t\t\t}\n\t\t\t\tif (oSection) {\n\t\t\t\t\t// find visualizations that are not already present in the favsections\n\t\t\t\t\tconst aDelta = oImportedSection.visualizations?.filter((oImportViz) => {\n\t\t\t\t\t\treturn oSection.visualizations?.every((oViz) =>\n\t\t\t\t\t\t\toViz.isBookmark ? oViz.targetURL !== oImportViz.targetURL : oViz.vizId !== oImportViz.vizId\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\toImportedSection.visualizations = aDelta;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Remove Sections with no visualizations\n\t\t\taImportedSections = aImportedSections.filter((oSection) => oSection.visualizations && oSection.visualizations.length > 0);\n\t\t\treturn aImportedSections;\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error occurred while fetching delta section visualizations:\" + String(error));\n\t\t\treturn []; // Return an empty array in case of error\n\t\t}\n\t}\n\n\tprivate getDeltaAuthSectionViz(aImportedSections: ISection[]): Promise<[] | ISection[]> {\n\t\t// Get delta visualization\n\t\tif (aImportedSections && aImportedSections.length) {\n\t\t\treturn this.getDeltaSectionViz(aImportedSections)\n\t\t\t\t.then((aDeltaSections: ISection[]) => {\n\t\t\t\t\t// Filter authorized section visualizations\n\t\t\t\t\treturn this.filterAuthSectionViz(aDeltaSections);\n\t\t\t\t})\n\t\t\t\t.catch((oError) => {\n\t\t\t\t\tLog.error(String(oError));\n\t\t\t\t\treturn [];\n\t\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]); // Return a promise resolving to void\n\t}\n\n\tprivate async filterAuthSectionViz(aSections: ISection[]): Promise<ISection[]> {\n\t\tconst _getCatalogApps = function () {\n\t\t\treturn Container.getServiceAsync<SearchableContent>(\"SearchableContent\").then(function (SearchableContent) {\n\t\t\t\treturn SearchableContent.getApps({ includeAppsWithoutVisualizations: false });\n\t\t\t});\n\t\t};\n\n\t\tconst _filterAuthViz = function (aAppCatalog: AppData[], aViz: IVisualization[] | undefined) {\n\t\t\tconst aSectionViz: IVisualization[] | undefined = [];\n\t\t\taViz?.forEach(function (oViz) {\n\t\t\t\tfor (let appCatalog of aAppCatalog) {\n\t\t\t\t\tconst oAppCatalog = appCatalog;\n\t\t\t\t\tconst oSectionViz = oAppCatalog.visualizations.find(function (oCatalogViz: IVisualization) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\toCatalogViz.vizId === oViz.vizId ||\n\t\t\t\t\t\t\t(oViz.isBookmark &&\n\t\t\t\t\t\t\t\toCatalogViz.target &&\n\t\t\t\t\t\t\t\toViz.target?.action === oCatalogViz.target.action &&\n\t\t\t\t\t\t\t\toViz.target?.semanticObject === oCatalogViz.target.semanticObject)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tif (oSectionViz) {\n\t\t\t\t\t\toSectionViz.displayFormatHint =\n\t\t\t\t\t\t\toViz.displayFormatHint !== \"standard\" ? String(oViz.displayFormatHint) : String(oSectionViz.displayFormatHint);\n\t\t\t\t\t\toSectionViz.id = String(oViz.id ?? oSectionViz.id);\n\t\t\t\t\t\taSectionViz.push(oViz.isBookmark ? oViz : oSectionViz);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aSectionViz;\n\t\t};\n\n\t\treturn await _getCatalogApps().then(function (aAppCatalog) {\n\t\t\treturn aSections.map(function (oSection) {\n\t\t\t\toSection.visualizations = _filterAuthViz(aAppCatalog, oSection.visualizations);\n\t\t\t\treturn oSection;\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Filter authorized favorite pages\n\t *\n\t * @param {Array} aFavPages - array of favorite pages\n\t * @returns {Promise} resolves to an array of authorized pages\n\t */\n\tprivate async filterAuthFavPages(aFavPages: IPage[]): Promise<IPage[] | []> {\n\t\tif (aFavPages && aFavPages.length > 0) {\n\t\t\treturn await this.oPageManagerInstance.fetchAllAvailablePages().then(function (aAvailablePages) {\n\t\t\t\treturn aFavPages.filter(function (oimportedPage) {\n\t\t\t\t\treturn aAvailablePages.filter(function (oAvailabePage) {\n\t\t\t\t\t\treturn oAvailabePage.pageId === oimportedPage.pageId && oAvailabePage.spaceId === oimportedPage.spaceId;\n\t\t\t\t\t}).length;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]);\n\t}\n\n\t/**\n\t * Filter authorized cards\n\t *\n\t * @param {Array} aCards - array of cards\n\t * @returns {Promise} resolves to an array of authorized cards\n\t */\n\tprivate async filterAuthCards(aCards: ICardManifest[] | void): Promise<ICardManifest[] | undefined> {\n\t\tconst _getParentApp = function (aAvailableApps: IAppInbounds[], oCard: ICardManifest) {\n\t\t\treturn aAvailableApps.find(function (oApp) {\n\t\t\t\treturn (\n\t\t\t\t\toApp.resolutionResult &&\n\t\t\t\t\toApp.resolutionResult.applicationDependencies &&\n\t\t\t\t\toCard[\"sap.insights\"] &&\n\t\t\t\t\toApp.resolutionResult.applicationDependencies.name === oCard[\"sap.insights\"].parentAppId\n\t\t\t\t);\n\t\t\t});\n\t\t};\n\n\t\tconst _isNavigationSupported = function (oService: Navigation, oParentApp: IAppInbounds | undefined) {\n\t\t\tif (oParentApp) {\n\t\t\t\treturn oService\n\t\t\t\t\t.isNavigationSupported([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tsemanticObject: oParentApp.semanticObject,\n\t\t\t\t\t\t\t\taction: oParentApp.action\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t])\n\t\t\t\t\t.then(function (aResponses) {\n\t\t\t\t\t\treturn aResponses[0].supported || false;\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn Promise.resolve(false);\n\t\t};\n\n\t\tif (aCards && aCards.length > 0) {\n\t\t\treturn await Promise.all([\n\t\t\t\tContainer.getServiceAsync<ClientSideTargetResolution>(\"ClientSideTargetResolution\"),\n\t\t\t\tContainer.getServiceAsync<Navigation>(\"Navigation\")\n\t\t\t]).then(function (aServices: [ClientSideTargetResolution, Navigation]) {\n\t\t\t\tconst clientSideTargetResolution = aServices[0];\n\t\t\t\tconst Navigation = aServices[1];\n\t\t\t\tconst aAvailableApps = clientSideTargetResolution._oAdapter._aInbounds || [];\n\n\t\t\t\treturn aCards.reduce<Promise<ICardManifest[]>>(async (promise: Promise<ICardManifest[]>, oCard: ICardManifest) => {\n\t\t\t\t\tconst aAuthCards: ICardManifest[] = await promise;\n\t\t\t\t\tconst oParentApp = _getParentApp(aAvailableApps, oCard);\n\t\t\t\t\tconst bIsNavigationSupported = await _isNavigationSupported(Navigation, oParentApp);\n\t\t\t\t\tif (bIsNavigationSupported) {\n\t\t\t\t\t\taAuthCards.push(oCard);\n\t\t\t\t\t}\n\t\t\t\t\treturn aAuthCards;\n\t\t\t\t}, Promise.resolve([]));\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve([]);\n\t}\n\n\t/**\n\t * Handles change event for fileuploader on import file\n\t *\n\t * @returns {Promise} resolves to available import sections being shown\n\t */\n\tprivate onFileImport(oEvent: FileUploader$ChangeEvent): Promise<void> {\n\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, false, \"\", \"\");\n\t\tthis.resetImportModel();\n\t\tthis.oDetailPage.setBusy(true);\n\n\t\tconst files = oEvent.getParameter(\"files\");\n\t\tconst oFile = files && (files[0] as File);\n\n\t\treturn this.readFileContent(oFile)\n\t\t\t.then((oFileContent) => {\n\t\t\t\t// btoa doesn't support the characters outside latin-1 range, so first encode to utf-8\n\t\t\t\tconst oEncodedFileContent = window.btoa(\n\t\t\t\t\tencodeURIComponent(oFileContent).replace(/%([0-9A-F]{2})/g, function (match, p1: string) {\n\t\t\t\t\t\treturn String.fromCharCode(parseInt(p1, 16)); // Convert p1 to a number using parseInt //String.fromCharCode(\"0x\" + p1);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn HttpHelper.Post(EXPORT_API, { fileContent: oEncodedFileContent }).then((oResponse: unknown) => {\n\t\t\t\t\tif (oResponse && (oResponse as { error: string }).error) {\n\t\t\t\t\t\tthrow new Error((oResponse as { error: string }).error);\n\t\t\t\t\t}\n\t\t\t\t\tif (oResponse && (oResponse as { value: string[] }).value && (oResponse as { value: string[] }).value.length) {\n\t\t\t\t\t\tconst oImportDataString: string | undefined = (oResponse as ApiResponse).value[0].fileContent;\n\n\t\t\t\t\t\t// Parse the stringified JSON into the defined type\n\t\t\t\t\t\tconst oImportData = JSON.parse(oImportDataString) as IExportImportFile;\n\t\t\t\t\t\tif (oImportData.host === window.location.host) {\n\t\t\t\t\t\t\tconst aImportedSections = (oImportData.sections as ISection[]) || ([] as ISection[]);\n\t\t\t\t\t\t\taImportedSections.push({\n\t\t\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\t\t\tvisualizations: (oImportData.tiles as IVisualization[]) || []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//filter authorized data\n\t\t\t\t\t\t\treturn this.filterAuthorizedImportData(aImportedSections, oImportData);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\t\tString(this._i18nBundle.getText(\"importSourceErrorMessage\")),\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((oError) => {\n\t\t\t\tLog.error(String(oError));\n\t\t\t\tthis.handleUserPersonalizationError(ImportExportType.IMPORT, true, \"\", \"\");\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.oDetailPage.setBusy(false);\n\t\t\t\tthis.enableDisableActions(ImportExportType.IMPORT);\n\t\t\t});\n\t}\n\n\tprivate async filterAuthorizedImportData(aImportedSections: ISection[], oImportData: IExportImportFile): Promise<void> {\n\t\tlet promises: Promise<[] | ISection[] | IPage[] | ICardManifest[] | undefined | JSONModel>[] = [\n\t\t\tthis.getDeltaAuthSectionViz(aImportedSections),\n\t\t\tthis.filterAuthFavPages(oImportData.favouritePages)\n\t\t];\n\t\tif (await this.isInsightsEnabled()) {\n\t\t\tpromises.push(this.filterAuthCards(oImportData.cards));\n\t\t\tpromises.push(this.getInsightCards()); // check : send only cards count here as all cards are not required\n\t\t}\n\t\treturn Promise.all(promises).then(async (aResponse) => {\n\t\t\tconst aAuthSections = aResponse[0] as ISection[];\n\t\t\tconst aAuthFavPages = aResponse[1] as IPage[];\n\t\t\tconst aAuthCards = (aResponse[2] || []) as ICardManifest[];\n\t\t\tconst iInsightCardsCount = ((aResponse[3] as JSONModel)?.getProperty(\"/cardCount\") as number) || 0;\n\t\t\toImportData.apps = aAuthSections.filter(function (oSection) {\n\t\t\t\treturn oSection.id !== MYINSIGHT_SECTION_ID;\n\t\t\t});\n\t\t\toImportData.tiles =\n\t\t\t\t(\n\t\t\t\t\taAuthSections.find(function (oSection) {\n\t\t\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t\t\t}) || {}\n\t\t\t\t).visualizations || [];\n\t\t\toImportData.favouritePages = aAuthFavPages;\n\t\t\toImportData.cards = aAuthCards || [];\n\t\t\tconst iTotalCardCount = iInsightCardsCount + Number(aAuthCards?.length);\n\t\t\tif (iTotalCardCount > 99) {\n\t\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\t\tImportExportType.IMPORT,\n\t\t\t\t\ttrue,\n\t\t\t\t\tString(this._i18nBundle.getText(\"importCardCountErrorMessage\")),\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t}\n\t\t\tlet aSections = await this.getImportedSections(oImportData, ImportExportType.IMPORT, iInsightCardsCount);\n\t\t\taSections = aSections.map(function (oSection) {\n\t\t\t\toSection.status = ValueState.None;\n\t\t\t\treturn oSection;\n\t\t\t});\n\t\t\tthis.oUserPersonalization.import.data = oImportData;\n\t\t\tthis.oControlModel.setProperty(\"/import/sections\", aSections);\n\t\t\tthis.oControlModel.setProperty(\"/import/sectionsSelected\", this.getSelectedSections(aSections).length > 0);\n\t\t\tthis.oControlModel.setProperty(\"/showNoImport\", aSections.length === 0);\n\t\t});\n\t}\n\n\tprivate readFileContent(oFile: File | undefined): Promise<string> {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tif (oFile && window.FileReader) {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = function (event: ProgressEvent<FileReader>) {\n\t\t\t\t\tconst target = event.target as FileReader;\n\t\t\t\t\tresolve(target?.result as string);\n\t\t\t\t};\n\t\t\t\t// Convert oFile to Blob\n\t\t\t\tconst blob = oFile as unknown as Blob;\n\t\t\t\treader.readAsText(blob);\n\t\t\t} else {\n\t\t\t\treject(new Error(\"Error\"));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _getPersonalizationData(): Promise<IPersonalizationData> {\n\t\tif (!this.oPersonalizerInstance) {\n\t\t\tthis.oPersonalizerInstance = await UShellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.persData = (await this.oPersonalizerInstance.read()) || {};\n\t\treturn this.persData;\n\t}\n\n\tprivate async loadUserPersonalizationData(): Promise<void> {\n\t\tthis.oExportList.setBusy(true);\n\t\tconst persData = await this._getPersonalizationData();\n\n\t\tlet promises: (Promise<ISection[]> | Promise<JSONModel>)[] = [this.oAppManagerInstance._getSections(true)];\n\t\tif (await this.isInsightsEnabled()) {\n\t\t\tpromises.push(this.getInsightCards());\n\t\t}\n\n\t\t// load all sections, insight apps and cards\n\t\tconst [favSections, insightModel] = (await Promise.all(promises)) as [ISection[], JSONModel];\n\n\t\tconst aSections = favSections,\n\t\t\tfavApps = aSections.filter((oSection) => {\n\t\t\t\treturn oSection.id !== MYINSIGHT_SECTION_ID && oSection.visualizations?.length;\n\t\t\t});\n\n\t\tconst insightTiles =\n\t\t\taSections.find((oSection) => {\n\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t})?.visualizations || [];\n\n\t\tconst insightCards: ICardManifest[] =\n\t\t\tinsightModel && insightModel.getProperty(\"/visibleCards\")\n\t\t\t\t? (insightModel.getProperty(\"/visibleCards\") as ICard[]).map((oCard: ICard) => {\n\t\t\t\t\t\treturn oCard.descriptorContent;\n\t\t\t\t\t})\n\t\t\t\t: [];\n\t\tconst oExportData = {\n\t\t\tapps: favApps,\n\t\t\ttiles: insightTiles,\n\t\t\tfavouritePages: persData.favouritePages,\n\t\t\tcards: insightCards,\n\t\t\tpersonalization: persData\n\t\t} as IExportData;\n\t\tconst aExportSections = await this.getImportedSections(oExportData, ImportExportType.EXPORT, 0);\n\t\tthis.oUserPersonalization.export.data = oExportData;\n\t\tthis.oUserPersonalization.export.sections = aExportSections;\n\t\tthis.oUserPersonalization.export.sectionsSelected = this.getSelectedSections(aExportSections).length > 0;\n\t\tthis.oControlModel.refresh();\n\t\tthis.oExportList.setBusy(false);\n\t}\n\n\t/**\n\t * Checks if insights is enabled for the system\n\t *\n\t * @private\n\t * @returns {boolean}\n\t */\n\tprivate async isInsightsEnabled(): Promise<boolean> {\n\t\ttry {\n\t\t\tif (await (CardHelper as ICardHelper).getServiceAsync()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (error) {\n\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Returns selected sections out of provided sections\n\t *\n\t * @param {Array} aSections - array of sections to show in import/export\n\t * @returns {Array} array of selected sections\n\t */\n\tgetSelectedSections(aSections: IExportSections[]): IExportSections[] {\n\t\treturn (\n\t\t\taSections.filter(function (oSection) {\n\t\t\t\treturn oSection.selected && oSection.enabled;\n\t\t\t}) || []\n\t\t);\n\t}\n\n\t/**\n\t * Returns if section is selected\n\t *\n\t * @param {Array} oSections - import/export sections\n\t * @param {String} sSectionId - import/export section id\n\t * @returns {boolean} returns true if section is selected\n\t */\n\tisSectionSelected(sections: IExportSections[], sectionId: string): boolean {\n\t\tconst section = sections.find(function (sec) {\n\t\t\treturn sec.title === sectionId;\n\t\t});\n\t\treturn !!(section && section.selected && section.enabled);\n\t}\n\n\t/**\n\t * Returns import/export sections\n\t *\n\t * @param {object} oData - export/import data\n\t * @param {ImportExportType} sType - export/import type\n\t * @param {number} iInsightCardsCount - cards count\n\t * @returns {Array} array of import/export sections\n\t */\n\tprivate async getImportedSections(\n\t\toData: IExportData | IExportImportFile,\n\t\tsType: ImportExportType,\n\t\tiInsightCardsCount: number\n\t): Promise<IExportSections[]> {\n\t\tconst aFavPages =\n\t\t\t\t(sType === ImportExportType.IMPORT ? await this.getDeltaFavPages(oData.favouritePages) : oData.favouritePages) || [],\n\t\t\tisAppViz =\n\t\t\t\toData.apps &&\n\t\t\t\toData.apps.some(function (oSections) {\n\t\t\t\t\treturn oSections && oSections.visualizations && oSections.visualizations.length > 0;\n\t\t\t\t});\n\n\t\tconst sections = [\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"favApps\") as string,\n\t\t\t\tselected: isAppViz,\n\t\t\t\tenabled: isAppViz,\n\t\t\t\tpanelClass: FavAppPanelName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"pages\") as string,\n\t\t\t\tselected: aFavPages?.length > 0,\n\t\t\t\tenabled: aFavPages?.length > 0,\n\t\t\t\tpanelClass: PagePanelName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: this._i18nBundle.getText(\"insightsTiles\") as string,\n\t\t\t\tselected: oData.tiles && oData.tiles.length > 0,\n\t\t\t\tenabled: oData.tiles && oData.tiles.length > 0,\n\t\t\t\tpanelClass: TilesPanelName\n\t\t\t}\n\t\t];\n\n\t\tif (await this.isInsightsEnabled()) {\n\t\t\tsections.push({\n\t\t\t\ttitle: this._i18nBundle.getText(\"insightsCards\") as string,\n\t\t\t\tselected: oData.cards && oData.cards.length > 0 && oData.cards.length + iInsightCardsCount <= 99,\n\t\t\t\tenabled: oData.cards && oData.cards.length > 0 && oData.cards.length + iInsightCardsCount <= 99,\n\t\t\t\tpanelClass: CardsPanelName\n\t\t\t});\n\t\t}\n\n\t\treturn sections;\n\t}\n\n\tprivate async getDeltaFavPages(aImportedFavPages: IPage[]): Promise<IPage[]> {\n\t\tconst persData = await this._getPersonalizationData();\n\t\tconst aFavPages = persData.favouritePages || [];\n\t\tif (aFavPages.length !== aImportedFavPages.length) {\n\t\t\treturn aImportedFavPages;\n\t\t}\n\t\treturn aImportedFavPages.filter(function (oImportedPage) {\n\t\t\treturn !aFavPages.find(function (oFavPage) {\n\t\t\t\treturn oImportedPage.pageId === oFavPage.pageId && oImportedPage.spaceId === oFavPage.spaceId;\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate async getInsightCards(): Promise<JSONModel> {\n\t\ttry {\n\t\t\tthis.cardHelperInstance = await (CardHelper as ICardHelper).getServiceAsync();\n\t\t\tconst oUserVisibleCardModel = await this.cardHelperInstance._getUserAllCardModel();\n\t\t\tconst aCards = oUserVisibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\t\tconst aVisibleCards = aCards.filter(function (oCard: ICard) {\n\t\t\t\treturn oCard.visibility;\n\t\t\t});\n\t\t\toUserVisibleCardModel.setProperty(\"/visibleCards\", aVisibleCards);\n\t\t\treturn oUserVisibleCardModel;\n\t\t} catch (error) {\n\t\t\t// Handle any errors\n\t\t\tconsole.error(\"Error in getInsightCards:\", error);\n\t\t\tthrow error; // Re-throw the error to be handled by the caller\n\t\t}\n\t}\n\n\t/**\n\t * Handles export button press\n\t */\n\tprivate onExportPress(): void {\n\t\tthis.handleUserPersonalizationError(ImportExportType.EXPORT, false, \"\", \"\");\n\t\tconst oExportFileName = this.oControlModel.getProperty(\"/export/fileName\") as string,\n\t\t\taExportSections = this.oControlModel.getProperty(\"/export/sections\") as IExportSections[],\n\t\t\toExportData = this.oUserPersonalization.export.data;\n\t\tconst oExportFileContent = this.getExportFileContent(oExportData, aExportSections);\n\t\tsap.ui.require([\"sap/ui/core/util/File\"], (File: File) => {\n\t\t\ttry {\n\t\t\t\tFile.save(JSON.stringify(oExportFileContent), oExportFileName, \"txt\", \"text/plain\", \"utf-8\");\n\t\t\t\tMessageToast.show(String(this._i18nBundle.getText(\"userPersonalizationExportSuccess\")));\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\tif (error instanceof Error && error?.name !== undefined && error.name !== \"AbortError\") {\n\t\t\t\t\t// Handle the error appropriately\n\t\t\t\t\tthis.handleUserPersonalizationError(ImportExportType.EXPORT, true, \"\", \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getExportFileContent(exportData: IExportData | undefined, exportSections: IExportSections[]): IExportImportFile {\n\t\tconst oPersonalization = exportData?.personalization,\n\t\t\toExportFileContent = {\n\t\t\t\thost: window.location.host,\n\t\t\t\tcreatedDate: new Date(),\n\t\t\t\tsections: [] as ISectionAndVisualization[] | IVisualization[] | [],\n\t\t\t\tgroupInfo: [] as IAppPersonalization[] | IVisualization[] | [],\n\t\t\t\ttiles: [] as ISectionAndVisualization[] | IVisualization[] | [],\n\t\t\t\tcards: [] as ICardManifest[],\n\t\t\t\tfavouritePages: [] as IPage[] | []\n\t\t\t};\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"favApps\") as string)) {\n\t\t\toExportFileContent.sections = exportData?.apps || [];\n\t\t\toExportFileContent.groupInfo = oPersonalization?.favoriteApps || [];\n\t\t}\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"pages\") as string)) {\n\t\t\toExportFileContent.favouritePages = oPersonalization?.favouritePages || [];\n\t\t}\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"insightsTiles\") as string)) {\n\t\t\toExportFileContent.tiles = exportData?.tiles || [];\n\t\t}\n\t\tif (this.isSectionSelected(exportSections, this._i18nBundle.getText(\"insightsCards\") as string)) {\n\t\t\toExportFileContent.cards = this.filterNonSensitiveCards(exportData?.cards || []);\n\t\t}\n\t\treturn oExportFileContent;\n\t}\n\n\t/**\n\t * Filters out the sensitive cards from the import data\n\t *\n\t * @private\n\t * @param {ICardManifest[]} cards Array of card to filter out before import\n\t * @returns {ICardManifest[]} Array of filtered cards\n\t */\n\tprivate filterNonSensitiveCards(cards: ICardManifest[]): ICardManifest[] {\n\t\tconst nonSensitiveCards = [] as ICardManifest[];\n\n\t\tcards.forEach((oCard) => {\n\t\t\tif (oCard[\"sap.card\"]?.configuration?.parameters) {\n\t\t\t\tconst parameter = oCard[\"sap.card\"].configuration.parameters;\n\t\t\t\tlet sensitiveProps: string[] = [];\n\t\t\t\tsensitiveProps = sensitiveProps\n\t\t\t\t\t.concat(this.getSensitiveProps(parameter.headerState))\n\t\t\t\t\t.concat(this.getSensitiveProps(parameter.lineItemState))\n\t\t\t\t\t.concat(this.getSensitiveProps(parameter.state));\n\t\t\t\tif (sensitiveProps.length === 0) {\n\t\t\t\t\tnonSensitiveCards.push(oCard);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnonSensitiveCards.push(oCard);\n\t\t\t}\n\t\t});\n\t\tif (cards.length !== nonSensitiveCards.length) {\n\t\t\tthis.handleUserPersonalizationError(\n\t\t\t\tImportExportType.EXPORT,\n\t\t\t\ttrue,\n\t\t\t\tString(this._i18nBundle.getText(\"exportSensitiveCardsErrorMessage\")),\n\t\t\t\t\"Warning\"\n\t\t\t);\n\t\t}\n\t\treturn nonSensitiveCards;\n\t}\n\n\t/**\n\t * Finds the sensitive properties and parameters\n\t *\n\t * @private\n\t * @param {({ value: string } | undefined)} param\n\t * @returns {string[]} Array of sensitive props as strings\n\t */\n\tprivate getSensitiveProps(param: { value: string } | undefined) {\n\t\tlet paramSensitiveProps: string[] = [];\n\t\tif (param?.value) {\n\t\t\tconst paramValue = JSON.parse(param.value) as { sensitiveProps: string[]; parameters: ICardActionParameters };\n\t\t\tconst sensitiveProp = paramValue.sensitiveProps || Object.keys(paramValue.parameters?.ibnParams?.sensitiveProps || {});\n\t\t\tif (sensitiveProp.length > 0) {\n\t\t\t\tparamSensitiveProps = paramSensitiveProps.concat(sensitiveProp);\n\t\t\t}\n\t\t}\n\t\treturn paramSensitiveProps;\n\t}\n\n\t/**\n\t * Handles user personalization error, shows the error msg and reset values\n\t *\n\t * @param {string} sType - type of import/export\n\t * @param {boolean} bShowError - flag to show or hide error msg\n\t * @param {string} sErrorMsg - error msg text\n\t * @param {string} sErrorType - error msg type\n\t */\n\tprivate handleUserPersonalizationError(sType: ImportExportType, bShowError: boolean, sErrorMsg: string, sErrorType: string): void {\n\t\tconst sDefaultErrorMsg = this._i18nBundle.getText(sType === ImportExportType.IMPORT ? \"importErrorMessage\" : \"exportErrorMessage\");\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/error\", bShowError, undefined, true);\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/errorMessage\", sErrorMsg || sDefaultErrorMsg, undefined, true);\n\t\tthis.oControlModel.setProperty(\"/\" + sType + \"/errorType\", sErrorType || \"Error\", undefined, true);\n\t\tthis.setExportImportValues(sType);\n\t}\n\n\t/**\n\t * Handles import/export tab select\n\t *\n\t * @param {object} oEvent - IconTabBarSeelect event\n\t */\n\tprivate onImportExportTabSelect(oEvent: IconTabBar$SelectEvent): void {\n\t\tconst selectedKey = oEvent.getParameter(\"selectedKey\");\n\t\tthis.oSelectedTab = selectedKey;\n\t\tthis.oControlModel.setProperty(\"/selectedTab\", selectedKey);\n\t\tthis.oExportList.setVisible(selectedKey === \"export\");\n\n\t\tthis.oImportBtn.setVisible(selectedKey === \"import\");\n\t\tthis.oExportBtn.setVisible(selectedKey === \"export\");\n\t\tthis.oImportBtn.setEnabled(this.oUserPersonalization.import.sectionsSelected);\n\t\tthis.oExportBtn.setEnabled(this.oUserPersonalization.export.sectionsSelected);\n\t\tthis.oExportBtn.setEnabled(\n\t\t\t!!(\n\t\t\t\tthis.oUserPersonalization.export.fileName &&\n\t\t\t\tthis.oUserPersonalization.export.sections &&\n\t\t\t\tthis.oUserPersonalization.export.sections.length > 0 &&\n\t\t\t\tthis.oUserPersonalization.export.sectionsSelected\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * Handles export file name input change\n\t *\n\t * @param {object} oEvent - event\n\t */\n\tprivate onFileNameInputChange(oEvent: Input$LiveChangeEvent): void {\n\t\tconst sInputValue: string | undefined = oEvent.getParameter(\"value\")?.trim();\n\t\tconst oInput = oEvent.getSource();\n\t\tlet sValueState = ValueState.None; // Initialize with ValueState.None\n\t\tlet sValueStateText = \"\";\n\n\t\t// Validate based on constraints provided at input\n\t\tif (!sInputValue || !sInputValue.length) {\n\t\t\tsValueState = ValueState.Error;\n\t\t\tsValueStateText = String(this._i18nBundle.getText(\"invalidExportFileName\"));\n\t\t}\n\n\t\t//update value state\n\t\toInput.setValueState(sValueState);\n\t\toInput.setValueStateText(sValueStateText);\n\t\tthis.oControlModel.setProperty(\"/export/fileName\", sInputValue);\n\t\tthis.enableDisableActions(ImportExportType.EXPORT);\n\t}\n\n\tprivate onResetImportApps(): void {\n\t\tthis.oEventBus.publish(\"importChannel\", \"resetImported\");\n\t\tMessageToast.show(this._i18nBundle.getText(\"importAppsNowBtnEnabled\") as string);\n\t}\n\n\t/**\n\t * Generates the recommendation settings panel\n\t * @returns {Panel} recommendation settings panel\n\t * @private\n\t */\n\tprivate async _getRecommendationSettingsPanel() {\n\t\tconst persData = await this._getPersonalizationData();\n\t\tif (!this._recommendationSettingsPanel) {\n\t\t\tconst panelId = this.getId() + \"--recommendationSettingsPanel\";\n\t\t\tthis._recommendationSettingsPanel = new Panel(panelId, {\n\t\t\t\theaderToolbar: new OverflowToolbar(this.getId() + \"--idRecommenedPanelToolbar\", {\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationSettingsHeader\"),\n\t\t\t\t\t\t\tlevel: \"H3\"\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\texpanded: true,\n\t\t\t\texpandable: true,\n\t\t\t\tcontent: [\n\t\t\t\t\tnew Text({\n\t\t\t\t\t\tid: `${panelId}-container-subHeader`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationSettingsSubHeader\")\n\t\t\t\t\t}),\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\tid: `${panelId}-container`,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew CheckBox({\n\t\t\t\t\t\t\t\tid: `${panelId}-container-checkBox`,\n\t\t\t\t\t\t\t\tselected: persData.showRecommendation ?? true,\n\t\t\t\t\t\t\t\tselect: (event) => this.onRecommendationSettingChange(event),\n\t\t\t\t\t\t\t\tariaLabelledBy: [`${panelId}-container-subHeader`, `${panelId}-container-label`]\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\tid: `${panelId}-container-label`,\n\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationSettingsCheckboxLabel\")\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\talignItems: FlexAlignItems.Center\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\")\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\t\treturn this._recommendationSettingsPanel;\n\t}\n\n\t/**\n\t * Adds recommendation settings panel to the content vbox, if recommendation feature is enabled\n\t * @returns {Promise<void>}\n\t * @private\n\t */\n\tprivate async _setRecommendationSettingsPanel() {\n\t\tthis.oDetailPage.setBusy(true);\n\t\tconst recommendationSettingsPanel = await this._getRecommendationSettingsPanel();\n\t\tif (recommendationSettingsPanel) {\n\t\t\tthis.oContentVBox.addItem(recommendationSettingsPanel);\n\t\t\tthis.oDetailPage.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Handles recommendation setting change\n\t *\n\t * @param {CheckBox$SelectEvent} event - checkbox select event\n\t * @private\n\t */\n\tprivate async onRecommendationSettingChange(event: CheckBox$SelectEvent) {\n\t\tconst showRecommendation = event.getParameter(\"selected\");\n\t\tthis.oEventBus.publish(\"importChannel\", \"recommendationSettingChanged\", { showRecommendation });\n\t\tconst oPersData = await this._getPersonalizationData();\n\t\tvoid this.oPersonalizerInstance.write({ ...oPersData, showRecommendation });\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":6,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GenericTile","mobileLibrary","Container","__BaseApp","__AppManager","_interopRequireDefault","obj","__esModule","default","BaseApp","AppManager","App","extend","metadata","library","properties","url","type","group","defaultValue","vizId","constructor","_constructor","id","settings","BaseApp.prototype.constructor.call","this","_getSSBRootControl","oSmartBusinessAppViz","getContent","getComponentInstance","getRootControl","oError","error","Error","message","String","_getInnerGenericTile","oControl","oControlMetadata","getMetadata","oDefaultAggregationDefinition","getDefaultAggregation","sDefaultAggregationName","name","aAggregationData","getAggregation","oAggregationValue","Array","isArray","getState","LoadState","Loaded","_launchApp","event","_this","appManagerInstance","getInstance","tile","getSource","Promise","resolve","fetchFavVizs","then","favoriteApps","selectedApp","find","app","appUrl","getUrl","includes","smartBusinessAppViz","vizInstance","isSmartBusinessTile","ssbRootControl","ssbGenericTile","firePress","getServiceAsync","spaceContentService","launchTileTarget","getTitle","e","reject","_handlePress","_this2","_temp"],"sources":["App.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport mobileLibrary from \"sap/m/library\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport SpaceContent from \"sap/ushell/services/SpaceContent\";\nimport { $AppSettings } from \"./App\";\nimport BaseApp from \"./BaseApp\";\nimport { ICustomVizInstance, ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\n\n/**\n *\n * App class for managing and storing Apps.\n *\n * @extends sap.cux.home.BaseApp\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.App\n */\nexport default class App extends BaseApp {\n\tconstructor(idOrSettings?: string | $AppSettings);\n\tconstructor(id?: string, settings?: $AppSettings);\n\t/**\n\t * Constructor for a new App.\n\t *\n\t * @param {string} [id] ID for the new app, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new app\n\t */\n\tpublic constructor(id?: string, settings?: $AppSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprivate appManagerInstance!: AppManager;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Url of the app where the user navigates to on click\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * VizId of the app. Used for enabling addition of apps to FavoriteApp panel\n\t\t\t */\n\t\t\tvizId: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t}\n\t};\n\tprivate _getSSBRootControl(oSmartBusinessAppViz: ICustomVizInstance): Control | null {\n\t\ttry {\n\t\t\treturn oSmartBusinessAppViz.getContent().getComponentInstance().getRootControl() as Control | null;\n\t\t} catch (oError) {\n\t\t\tLog.error(oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tprivate _getInnerGenericTile(oControl: Control | null): GenericTile | null {\n\t\tif (!oControl) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst oControlMetadata = oControl.getMetadata();\n\t\tconst oDefaultAggregationDefinition = oControlMetadata.getDefaultAggregation() as { name?: string } | null;\n\t\tconst sDefaultAggregationName = oDefaultAggregationDefinition ? oDefaultAggregationDefinition?.name : \"content\";\n\n\t\tconst aAggregationData = sDefaultAggregationName ? oControl.getAggregation(sDefaultAggregationName) : null;\n\t\tconst oAggregationValue = Array.isArray(aAggregationData) ? aAggregationData[0] : aAggregationData;\n\n\t\tif (!oAggregationValue) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (oAggregationValue instanceof GenericTile && oAggregationValue.getState() === mobileLibrary.LoadState.Loaded) {\n\t\t\treturn oAggregationValue;\n\t\t}\n\n\t\treturn this._getInnerGenericTile(oAggregationValue as Control);\n\t}\n\n\t/**\n\t * Navigates to the clicked app\n\t * @private\n\t */\n\tprivate async _launchApp(event: GenericTile$PressEvent): Promise<void> {\n\t\tthis.appManagerInstance = this.appManagerInstance || AppManager.getInstance();\n\t\tconst tile = event.getSource();\n\t\tconst favoriteApps: ISectionAndVisualization[] = await this.appManagerInstance.fetchFavVizs(false, true);\n\t\tconst selectedApp = favoriteApps.find((app) => {\n\t\t\tconst appUrl = app.url || \"\";\n\t\t\treturn tile.getUrl().includes(appUrl);\n\t\t});\n\t\tconst smartBusinessAppViz = selectedApp?.vizInstance;\n\t\tconst isSmartBusinessTile = selectedApp?.isSmartBusinessTile;\n\t\tif (smartBusinessAppViz) {\n\t\t\tconst ssbRootControl = this._getSSBRootControl(smartBusinessAppViz);\n\t\t\tconst ssbGenericTile = isSmartBusinessTile && this._getInnerGenericTile(ssbRootControl);\n\n\t\t\tif (ssbGenericTile) {\n\t\t\t\tssbGenericTile.firePress();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// Fallback in case smartBusinessAppViz is undefined or ssbGenericTile is not present\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait spaceContentService.launchTileTarget(this.getUrl(), this.getTitle());\n\t}\n\n\t/**\n\t * App Press Handler\n\t * @private\n\t */\n\tpublic async _handlePress(event: GenericTile$PressEvent) {\n\t\tif (this.getUrl()) {\n\t\t\tawait this._launchApp(event);\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,8BAAA,sHAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAaOG,EAAOJ,EAAAF,GAAA,MAEPO,EAAUL,EAAAD,GAEjB,MAeqBO,EAAYF,EAAOG,OAAA,oBAavBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,IAAK,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIpDC,MAAO,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,MAdjDE,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAeQG,mBAAkB,SAAAA,EAACC,GAC1B,IACC,OAAOA,EAAqBC,aAAaC,uBAAuBC,gBACjE,CAAE,MAAOC,GACRjC,EAAIkC,MAAMD,aAAkBE,MAAQF,EAAOG,QAAUC,OAAOJ,IAC5D,OAAO,IACR,CACD,EAEQK,qBAAoB,SAAAA,EAACC,GAC5B,IAAKA,EAAU,CACd,OAAO,IACR,CAEA,MAAMC,EAAmBD,EAASE,cAClC,MAAMC,EAAgCF,EAAiBG,wBACvD,MAAMC,EAA0BF,EAAgCA,GAA+BG,KAAO,UAEtG,MAAMC,EAAmBF,EAA0BL,EAASQ,eAAeH,GAA2B,KACtG,MAAMI,EAAoBC,MAAMC,QAAQJ,GAAoBA,EAAiB,GAAKA,EAElF,IAAKE,EAAmB,CACvB,OAAO,IACR,CAEA,GAAIA,aAA6B/C,GAAe+C,EAAkBG,aAAejD,EAAckD,UAAUC,OAAQ,CAChH,OAAOL,CACR,CAEA,OAAOrB,KAAKW,qBAAqBU,EAClC,EAMcM,WAAU,SAAAA,EAACC,GAA6B,IAAiB,MAAAC,EACtE7B,KAAA6B,EAAKC,mBAAqBD,EAAKC,oBAAsB9C,EAAW+C,cAChE,MAAMC,EAAOJ,EAAMK,YAAY,OAAAC,QAAAC,QACwBN,EAAKC,mBAAmBM,aAAa,MAAO,OAAKC,KAAA,SAAlGC,GACN,MAAMC,EAAcD,EAAaE,KAAMC,IACtC,MAAMC,EAASD,EAAInD,KAAO,GAC1B,OAAO0C,EAAKW,SAASC,SAASF,KAE/B,MAAMG,EAAsBN,GAAaO,YACzC,MAAMC,EAAsBR,GAAaQ,oBACzC,GAAIF,EAAqB,CACxB,MAAMG,EAAiBnB,EAAK5B,mBAAmB4C,GAC/C,MAAMI,EAAiBF,GAAuBlB,EAAKlB,qBAAqBqC,GAExE,GAAIC,EAAgB,CACnBA,EAAeC,YACf,MACD,CACD,CACA,OAAAhB,QAAAC,QACkC3D,EAAU2E,gBAA8B,iBAAed,KAAA,SAAnFe,GAAmB,OAAAlB,QAAAC,QACnBiB,EAAoBC,iBAAiBxB,EAAKc,SAAUd,EAAKyB,aAAWjB,KAAA,iBAC3E,CAAC,MAAAkB,GAAA,OAAArB,QAAAsB,OAAAD,EAAA,GAMYE,aAAY,SAAAA,EAAC7B,GAA6B,IAAE,MAAA8B,EACpD1D,KAAI,MAAA2D,EAAA,cAAJD,EAAKf,SAAQ,QAAAT,QAAAC,QACVuB,EAAK/B,WAAWC,IAAMS,KAAA,eADrB,GACqB,OAAAH,QAAAC,QAAAwB,KAAAtB,KAAAsB,EAAAtB,KAAA,qBAE9B,CAAC,MAAAkB,GAAA,OAAArB,QAAAsB,OAAAD,EAAA,YA9FmBtE,CAAG","ignoreList":[],"sourceRoot":""}},{"offset":{"line":11,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Button","CustomListItem","ExpandableText","FlexBox","GenericTile","HBox","Label","sap_m_library","MessageToast","Text","VBox","Fragment","sap_ui_core_library","ChangeReason","JSONModel","ResourceModel","Sorter","Container","__AppsContainer","__BaseSettingsPanel","__FavAppPanel","__InsightsContainer","__AppManager","___utils_Constants","___utils_DataFormatUtils","___utils_FeatureUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","_finallyRethrows","finalizer","bind","URLHelper","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","ValueState","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","AppsContainer","BaseSettingsPanel","FavAppPanel","InsightsContainer","AppManager","AI_APP_FINDER_API","AI_APP_FINDER_BASE_URL","CONTENT_ADDITION_PANEL_TYPES","DEFAULT_APP_ICON","FEATURE_TOGGLES","FESR_IDS","MYINSIGHT_SECTION_ID","recycleId","isNavigationSupportedForFeature","addFESRSemanticStepName","FESR_EVENTS","Constants","DeprecatedInfoText","MinQueryLength","MaxDescriptionLength","SearchStatus","ErrorType","TileType","AppsAdditionPanel","extend","constructor","apply","arguments","appManagerInstance","getInstance","resetSearch","userSelectedApps","clear","model","setProperty","Searching","appSuggestionList","removeSelections","resetFeedback","init","_init","BaseSettingsPanel.prototype.init.call","Set","AI_APP_FINDER","_i18nBundle","getText","_setupActions","_setupContent","attachEvent","_isDialogPersisted","getParent","resetPanel","addAppsButton","getId","text","type","Emphasized","press","onPressAddApps","bindProperty","parts","formatter","hasError","searchStatus","Complete","PRESS","ADD_AI_APP","addActionButton","Promise","resolve","getServiceAsync","_Container$getService","vizInstantiationService","load","id","name","controller","_Fragment$load","panelContent","addAggregation","query","errorType","NoResultsFound","errorDescription","Idle","loadingAnimations","_generateSearchingAnimations","suggestedAppsCount","suggestedApps","aiPolicyText","_generateAIPolicyText","invalidQuery","feedback","thumbsUp","thumbsDown","sampleQueries","index","setModel","bundleName","byId","bindAggregation","path","factory","_generateListItem","sorter","comparator","firstApp","secondApp","getPriority","statusArray","hasAlreadyAdded","includes","hasDeprecated","firstPriority","secondPriority","attachUpdateFinished","getProperty","getItems","focus","searchTextArea","onsapenter","onPressGo","context","listItem","selected","content","renderType","direction","alignItems","items","_getAppPreviewContainer","_getAppDetailsContainer","addStyleClass","getMultiSelectControl","setEnabled","container","addItem","mode","frameType","width","header","subheader","tileIcon","visible","url","event","_persistDialog","redirect","getSource","getUrl","vizData","instance","instantiateVisualization","setActive","attachPress","gap","maxCharacters","showColon","_generateStatusTexts","isSupported","_isSupported","_this2","_temp3","isPanelSupported","removeActionButton","contentAdditionDialog","removePanel","updateActionButtons","appsIntent","semanticObject","action","_temp2","undefined","_temp","getFavAppPanel","AI_SMART_APPFINDER","_isNavigationSupporte","loadingShimmer","_resetPanel","defaultModelProperties","setData","getData","_onPressGo","_this3","isValidQuery","_temp5","fetchAppsFromSearch","rawApps","_temp4","fetchAllAvailableVisualizations","allVisualizations","fetchFavVizs","favoriteApps","fetchInsightApps","insightsApps","apps","_generateApps","_filterUnsupportedApps","_handleError","updateAggregation","Refresh","detailedReason","err","error","message","_wasThrown","_result","updatedApps","filter","app","isStaticApp","intents","map","navigationService","isNavigationSupported","supportedAppIndices","_","homePageVisualizations","find","viz","vizId","chipID","addedToHomePage","some","visualization","title","subTitle","description","appDescription","icon","iconUrl","tileType","Static","status","getAppStatusTexts","configuration","targetURL","_isValidQuery","trim","_fetchAllAvailableVisualizations","_this4","_temp7","allAvailableVisualizations","_temp6","searchableContentService","getApps","enableVisualizationPreview","allAvailableApps","reduce","visualizations","currentApp","concat","_fetchCSRFToken","fetch","method","headers","response","get","_fetchAppsFromSearch","_this5","token","JSON","stringify","UserInput","_exit","_temp0","_result2","json","_response$json2","queryResult","_temp9","ok","_response$json","errorResponse","_temp8","_getAppStatusTexts","statusTexts","parsedConfig","parse","tileConfig","tileConfiguration","infoText","display_info_text","toLowerCase","warning","stausTexts","applyStatusClass","_applyStatusClass","_onPressAddApps","_this6","_temp14","_temp12","_temp10","close","show","selectedItem","selectedAppTitle","getBindingContext","messageKey","staticAppsPresent","_temp1","dynamicAppsPresent","refreshInsightsApps","_temp11","refreshFavoriteApps","_temp13","addVisualization","getLayout","_getLayout","getAppsContainer","_getAppsContainer","_getFavAppPanel","getContent","panel","_refreshFavoriteApps","_this7","refreshPanel","getInsightsContainer","_getInsightsContainer","_refreshInsightsApps","_this8","refreshData","onListSelectionChange","_onListSelectionChange","getParameter","delete","add","Array","from","suggestedResponseCount","errorCode","match","_getErrorType","ServiceError","onSearchTextAreaLiveChange","_onSearchTextAreaLiveChange","textArea","getValue","setValueState","Information","setValueStateText","Warning","None","getValueState","linkText","_resetFeedback","sendFeedback","_sendFeedback","feedbackType"],"sources":["AppsAdditionPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport ExpandableText from \"sap/m/ExpandableText\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport { ButtonType, URLHelper } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport { ListBase$SelectionChangeEvent } from \"sap/m/ListBase\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Text from \"sap/m/Text\";\nimport TextArea, { TextArea$LiveChangeEvent } from \"sap/m/TextArea\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport ChangeReason from \"sap/ui/model/ChangeReason\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport Sorter from \"sap/ui/model/Sorter\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation, { Target } from \"sap/ushell/services/Navigation\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport ContentAdditionDialog from \"./ContentAdditionDialog\";\nimport FavAppPanel from \"./FavAppPanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport { ICustomVisualization, ICustomVizInstance, IVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport {\n\tAI_APP_FINDER_API,\n\tAI_APP_FINDER_BASE_URL,\n\tCONTENT_ADDITION_PANEL_TYPES,\n\tDEFAULT_APP_ICON,\n\tFEATURE_TOGGLES,\n\tFESR_IDS,\n\tMYINSIGHT_SECTION_ID\n} from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { isNavigationSupportedForFeature } from \"./utils/FeatureUtils\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\nconst Constants = {\n\tDeprecatedInfoText: \"deprecated\",\n\tMinQueryLength: 2,\n\tMaxDescriptionLength: 500\n};\n\nenum SearchStatus {\n\tIdle = \"idle\",\n\tSearching = \"searching\",\n\tComplete = \"complete\"\n}\n\nenum ErrorType {\n\tNoResultsFound = \"noResultsFound\",\n\tServiceError = \"serviceError\"\n}\n\nenum TileType {\n\tStatic = \"STATIC\"\n}\n\ninterface RawAppData {\n\ttitle: string;\n\tsubTitle: string;\n\tappDescription: string;\n\tchipID: string;\n\ttileType: TileType;\n\ticonUrl: string;\n\tconfiguration: string;\n}\ninterface SuggestedApp {\n\ticon: string;\n\ttitle: string;\n\tchipID: string;\n\tstatus: string[];\n\tsubTitle: string;\n\tdescription: string;\n\tisStaticApp: boolean;\n\taddedToHomePage: boolean;\n\tvizData?: IVisualization;\n}\n\ninterface QueryResponse {\n\tvalue: RawAppData[];\n}\n\ninterface ErrorResponse {\n\terror: {\n\t\tcode: string;\n\t\tmessage: string;\n\t};\n}\n\ninterface Configuration {\n\ttileConfiguration: string;\n}\n\ninterface TileConfig {\n\tdisplay_info_text: string;\n\t[key: string]: string;\n}\n\n/**\n *\n * Class for Apps Addition Panel in MyHome.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.136\n *\n * @private\n *\n * @alias sap.cux.home.AppsAdditionPanel\n */\nexport default class AppsAdditionPanel extends BaseSettingsPanel {\n\tprivate appManagerInstance: AppManager = AppManager.getInstance();\n\tprivate vizInstantiationService!: VisualizationInstantiation;\n\tprivate allAvailableVisualizations!: IVisualization[];\n\tprivate userSelectedApps!: Set<CustomListItem>;\n\tprivate appSuggestionList!: List;\n\tprivate model!: JSONModel;\n\tprivate addAppsButton!: Button;\n\tprivate isPanelSupported!: boolean;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.userSelectedApps = new Set<CustomListItem>();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", CONTENT_ADDITION_PANEL_TYPES.AI_APP_FINDER);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"addAppsAndTile\"));\n\n\t\t//setup actions\n\t\tthis._setupActions();\n\n\t\t//setup content\n\t\tvoid this._setupContent();\n\n\t\t//setup events\n\t\tthis.attachEvent(\"onDialogClose\", () => {\n\t\t\tif (!this._isDialogPersisted(this.getParent() as ContentAdditionDialog)) {\n\t\t\t\tthis.resetPanel();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Sets up the actions for the Apps Addition Panel.\n\t *\n\t * @private\n\t */\n\tprivate _setupActions(): void {\n\t\tthis.addAppsButton = new Button(recycleId(`${this.getId()}-add-app-btn`), {\n\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogBtn\"),\n\t\t\ttype: ButtonType.Emphasized,\n\t\t\tpress: () => {\n\t\t\t\tvoid this.onPressAddApps();\n\t\t\t}\n\t\t});\n\n\t\tthis.addAppsButton.bindProperty(\"enabled\", {\n\t\t\tparts: [\"/hasError\", \"/searchStatus\", \"/userSelectedApps\"],\n\t\t\tformatter: (hasError: boolean, searchStatus: SearchStatus, userSelectedApps: string[]) => {\n\t\t\t\treturn !hasError && searchStatus === SearchStatus.Complete && userSelectedApps.length > 0;\n\t\t\t}\n\t\t});\n\n\t\taddFESRSemanticStepName(this.addAppsButton, FESR_EVENTS.PRESS, FESR_IDS.ADD_AI_APP);\n\t\tthis.addActionButton(this.addAppsButton);\n\t}\n\n\t/**\n\t * Sets up the content for the Apps Addition Panel.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _setupContent(): Promise<void> {\n\t\tthis.vizInstantiationService = await Container.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\");\n\n\t\t//load ui fragment\n\t\tconst panelContent = (await Fragment.load({\n\t\t\tid: `${this.getId()}-content`,\n\t\t\tname: \"sap.cux.home.utils.fragment.appsAdditionContent\",\n\t\t\tcontroller: this\n\t\t})) as Control;\n\t\tthis.addAggregation(\"content\", panelContent);\n\n\t\t//initialize ui model\n\t\tthis.model = new JSONModel({\n\t\t\tquery: \"\",\n\t\t\thasError: false,\n\t\t\terrorType: ErrorType.NoResultsFound,\n\t\t\terrorDescription: \"\",\n\t\t\tsearchStatus: SearchStatus.Idle,\n\t\t\tloadingAnimations: this._generateSearchingAnimations(),\n\t\t\tsuggestedAppsCount: 0,\n\t\t\tuserSelectedApps: [],\n\t\t\tsuggestedApps: [],\n\t\t\taiPolicyText: this._generateAIPolicyText(),\n\t\t\tinvalidQuery: true,\n\t\t\tfeedback: {\n\t\t\t\tthumbsUp: false,\n\t\t\t\tthumbsDown: false\n\t\t\t},\n\t\t\tsampleQueries: [\n\t\t\t\t{\n\t\t\t\t\tindex: 1,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_1\") as string\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 2,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_2\") as string\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 3,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_3\") as string\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\tpanelContent.setModel(this.model);\n\t\tpanelContent.setModel(new ResourceModel({ bundleName: \"sap.cux.home.i18n.messagebundle\" }), \"i18n\");\n\t\tthis.addAppsButton.setModel(this.model);\n\n\t\t//bind suggested apps list\n\t\tthis.appSuggestionList = Fragment.byId(`${this.getId()}-content`, \"appsList\") as List;\n\t\tthis.appSuggestionList.bindAggregation(\"items\", {\n\t\t\tpath: \"/suggestedApps\",\n\t\t\tfactory: this._generateListItem.bind(this),\n\t\t\tsorter: new Sorter({\n\t\t\t\tpath: \"status\",\n\t\t\t\tcomparator: (firstApp: string[], secondApp: string[]) => {\n\t\t\t\t\tconst getPriority = (statusArray: string[]) => {\n\t\t\t\t\t\tif (statusArray.length === 0) return 0; // Empty array has highest priority\n\n\t\t\t\t\t\tconst hasAlreadyAdded = statusArray.includes(this._i18nBundle.getText(\"alreadyAddedApp\") as string);\n\t\t\t\t\t\tconst hasDeprecated = statusArray.includes(this._i18nBundle.getText(\"deprecatedApp\") as string);\n\n\t\t\t\t\t\tif (hasAlreadyAdded && hasDeprecated) return 3; // Both statuses - lowest priority\n\t\t\t\t\t\tif (hasAlreadyAdded) return 1; // Only \"Already Added\"\n\t\t\t\t\t\tif (hasDeprecated) return 2; // Only \"Deprecated\"\n\n\t\t\t\t\t\treturn 4; // Any other combination (fallback)\n\t\t\t\t\t};\n\n\t\t\t\t\tconst firstPriority = getPriority(firstApp);\n\t\t\t\t\tconst secondPriority = getPriority(secondApp);\n\n\t\t\t\t\treturn firstPriority - secondPriority;\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\t//focus on the first item when the list is updated\n\t\tthis.appSuggestionList.attachUpdateFinished(() => {\n\t\t\tif (this.model.getProperty(\"/suggestedAppsCount\") > 0 && this.model.getProperty(\"/searchStatus\") === SearchStatus.Complete) {\n\t\t\t\tthis.appSuggestionList.getItems()?.[0]?.focus();\n\t\t\t}\n\t\t});\n\n\t\t//bind search field\n\t\tconst searchTextArea = Fragment.byId(`${this.getId()}-content`, \"searchTextArea\") as TextArea;\n\t\tsearchTextArea.onsapenter = this.onPressGo.bind(this);\n\t}\n\n\t/**\n\t * Generates a list item for the Apps Addition Panel.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the list item.\n\t * @param {Context} context - The binding context for the list item.\n\t * @returns {CustomListItem} The generated list item control.\n\t */\n\tprivate _generateListItem(id: string, context: Context): CustomListItem {\n\t\tconst listItem = new CustomListItem(id, {\n\t\t\tselected: context.getProperty(\"addedToHomePage\") as boolean,\n\t\t\tcontent: [\n\t\t\t\tnew FlexBox(recycleId(`${id}-result-container`), {\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tdirection: context.getProperty(\"isStaticApp\") ? \"Column\" : \"Row\",\n\t\t\t\t\talignItems: context.getProperty(\"isStaticApp\") ? \"Start\" : \"Center\",\n\t\t\t\t\titems: [this._getAppPreviewContainer(id, context), this._getAppDetailsContainer(id, context)]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMargin\")\n\t\t\t]\n\t\t});\n\n\t\t//bind associated checkbox to disable it when the app is already added to home page\n\t\tlistItem.getMultiSelectControl(true).setEnabled(!context.getProperty(\"addedToHomePage\"));\n\n\t\treturn listItem;\n\t}\n\n\t/**\n\t * Creates a preview container for the suggested app.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the container.\n\t * @param {Context} context - The binding context for the app.\n\t * @returns {HBox} The app preview container.\n\t */\n\tprivate _getAppPreviewContainer(id: string, context: Context): HBox {\n\t\tconst container = new HBox(recycleId(`${id}-suggestedAppContainer`), {\n\t\t\trenderType: \"Bare\"\n\t\t});\n\n\t\tif (context.getProperty(\"isStaticApp\") as boolean) {\n\t\t\t// create generic tile for static app\n\t\t\tcontainer.addItem(\n\t\t\t\tnew GenericTile(recycleId(`${id}-staticApp`), {\n\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\tframeType: \"TwoByHalf\",\n\t\t\t\t\twidth: \"19rem\",\n\t\t\t\t\theader: context.getProperty(\"title\") as string,\n\t\t\t\t\tsubheader: context.getProperty(\"subTitle\") as string,\n\t\t\t\t\ttileIcon: (context.getProperty(\"icon\") as string) || DEFAULT_APP_ICON,\n\t\t\t\t\tvisible: context.getProperty(\"isStaticApp\") as boolean,\n\t\t\t\t\turl: context.getProperty(\"url\") as string,\n\t\t\t\t\tpress: (event: GenericTile$PressEvent) => {\n\t\t\t\t\t\tthis._persistDialog(this.getParent() as ContentAdditionDialog);\n\t\t\t\t\t\tURLHelper.redirect(event.getSource()?.getUrl(), false);\n\t\t\t\t\t}\n\t\t\t\t}).addStyleClass(\"suggestedTile\")\n\t\t\t);\n\t\t} else {\n\t\t\t// create custom visualization for other apps\n\t\t\tconst vizData = context.getProperty(\"vizData\") as ICustomVisualization;\n\t\t\tconst instance = this.vizInstantiationService.instantiateVisualization(vizData) as ICustomVizInstance;\n\t\t\tinstance?.setActive(true);\n\t\t\tinstance?.attachPress(() => this._persistDialog(this.getParent() as ContentAdditionDialog));\n\t\t\tcontainer.addItem(instance);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t/**\n\t * Creates a details container for the suggested app.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the container.\n\t * @param {Context} context - The binding context for the app.\n\t * @returns {VBox} The app details container.\n\t */\n\tprivate _getAppDetailsContainer(id: string, context: Context): VBox {\n\t\treturn new VBox(recycleId(`${id}-app-details-container`), {\n\t\t\trenderType: \"Bare\",\n\t\t\tgap: \"0.5rem\",\n\t\t\titems: [\n\t\t\t\tnew ExpandableText(recycleId(`${id}-description`), {\n\t\t\t\t\ttext: context.getProperty(\"description\") as string,\n\t\t\t\t\tmaxCharacters: Constants.MaxDescriptionLength\n\t\t\t\t}),\n\t\t\t\tnew HBox(recycleId(`${id}-app-status-container`), {\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tvisible: (context.getProperty(\"status\") as string[]).length > 0,\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Label(recycleId(`${id}-appStatusLabel`), {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"appStatus\"),\n\t\t\t\t\t\t\tshowColon: true\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew HBox(recycleId(`${id}-app-status-texts`), {\n\t\t\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\t\t\titems: this._generateStatusTexts(id, context.getProperty(\"status\") as string[])\n\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin statusTextsContainer\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass((context.getProperty(\"isStaticApp\") as boolean) ? \"sapUiSmallMarginTop\" : \"sapUiSmallMarginBegin\");\n\t}\n\n\t/**\n\t * Checks if the Apps Addition Panel is supported. Internally, it checks if the\n\t * AI Smart App Finder feature toggle is enabled and if the associated application\n\t * is accessible for the user.\n\t *\n\t * @public\n\t * @override\n\t * @async\n\t * @returns {Promise<boolean>} A promise that resolves to a boolean indicating support.\n\t */\n\tpublic async isSupported(): Promise<boolean> {\n\t\tconst appsIntent: Target = {\n\t\t\ttarget: {\n\t\t\t\tsemanticObject: \"IntelligentPrompt\",\n\t\t\t\taction: \"propose\"\n\t\t\t}\n\t\t};\n\t\tif (this.isPanelSupported === undefined) {\n\t\t\tthis.isPanelSupported = false;\n\n\t\t\tif (this.getFavAppPanel()) {\n\t\t\t\tthis.isPanelSupported = await isNavigationSupportedForFeature(FEATURE_TOGGLES.AI_SMART_APPFINDER, appsIntent);\n\t\t\t}\n\t\t}\n\n\t\t//remove panel if it's not supported\n\t\tif (!this.isPanelSupported) {\n\t\t\tthis.removeActionButton(this.addAppsButton);\n\t\t\tconst contentAdditionDialog = this.getParent() as ContentAdditionDialog;\n\t\t\tcontentAdditionDialog.removePanel(this);\n\t\t\tcontentAdditionDialog.updateActionButtons();\n\t\t}\n\n\t\treturn this.isPanelSupported;\n\t}\n\n\t/**\n\t * Generates the searching animation SVG as a string.\n\t *\n\t * @private\n\t * @returns {string} The SVG string for the loading animation.\n\t */\n\tprivate _generateSearchingAnimations(): string[] {\n\t\tconst loadingShimmer = `<defs>\n\t\t\t<linearGradient id=\"loadingShimmer\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n\t\t\t\t<stop offset=\"0%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"20%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"50%\" stop-color=\"var(--sapContent_Placeholderloading_Background_Dark)\" />\n\t\t\t\t<stop offset=\"80%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"100%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"x1\"\n\t\t\t\t\tvalues=\"-0.6;0.6\"\n\t\t\t\t\tdur=\"2.5s\"\n\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"x2\"\n\t\t\t\t\tvalues=\"0.4;1.6\"\n\t\t\t\t\tdur=\"2.5s\"\n\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t</linearGradient>\n\t\t</defs>`;\n\n\t\treturn [\n\t\t\t`<svg height=\"167\" fill=\"none\">\n\t\t\t\t${loadingShimmer}\n\t\t\t\t<rect x=\"16\" y=\"75\" width=\"16\" height=\"16\" rx=\"4\" fill=\"var(--sapContent_Placeholderloading_Background)\"/>\n\t\t\t\t<rect x=\"48\" y=\"16\" width=\"37%\" height=\"70\" rx=\"16\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"48\" y=\"102\" width=\"93%\" height=\"48\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t</svg>`,\n\t\t\t`<svg height=\"180\" fill=\"none\">\n\t\t\t\t${loadingShimmer}\n\t\t\t\t<rect x=\"16\" y=\"82\" width=\"16\" height=\"16\" rx=\"4\" fill=\"var(--sapContent_Placeholderloading_Background)\"/>\n\t\t\t\t<rect x=\"48\" y=\"16\" width=\"148\" height=\"148\" rx=\"16\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"212\" y=\"54\" width=\"75%\" height=\"48\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"212\" y=\"110\" width=\"13%\" height=\"16\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t</svg>`\n\t\t];\n\t}\n\n\t/**\n\t * Resets the search state in the Apps Addition Panel.\n\t *\n\t * @private\n\t */\n\tprivate resetSearch: () => void = () => {\n\t\tthis.userSelectedApps.clear();\n\t\tthis.model.setProperty(\"/hasError\", false);\n\t\tthis.model.setProperty(\"/suggestedApps\", []);\n\t\tthis.model.setProperty(\"/suggestedAppsCount\", 0);\n\t\tthis.model.setProperty(\"/searchStatus\", SearchStatus.Searching);\n\t\tthis.model.setProperty(\"/userSelectedApps\", []);\n\t\tthis.appSuggestionList.removeSelections(true);\n\t\tthis.resetFeedback();\n\t};\n\n\t/**\n\t * Resets the panel to its default state.\n\t *\n\t * @private\n\t */\n\tpublic resetPanel(): void {\n\t\tconst defaultModelProperties = {\n\t\t\tquery: \"\",\n\t\t\thasError: false,\n\t\t\tsearchStatus: SearchStatus.Idle,\n\t\t\tsuggestedAppsCount: 0,\n\t\t\tuserSelectedApps: [],\n\t\t\tsuggestedApps: [],\n\t\t\tfeedback: {\n\t\t\t\tthumbsUp: false,\n\t\t\t\tthumbsDown: false\n\t\t\t},\n\t\t\tinvalidQuery: true\n\t\t};\n\n\t\tthis.model?.setData({ ...this.model.getData(), ...defaultModelProperties } as object);\n\t\tthis.userSelectedApps?.clear();\n\t}\n\n\t/**\n\t * Handles the \"Go\" button press event for searching suggested apps.\n\t *\n\t * @private\n\t * @async\n\t */\n\tpublic async onPressGo(): Promise<void> {\n\t\t// validate query\n\t\tconst query = this.model.getProperty(\"/query\") as string;\n\t\tif (!this.isValidQuery(query)) return;\n\n\t\ttry {\n\t\t\t// initiate search\n\t\t\tthis.resetSearch();\n\n\t\t\tconst rawApps = await this.fetchAppsFromSearch(query);\n\t\t\t// suggest apps if there are results and search is not cancelled\n\t\t\tif (this.model.getProperty(\"/searchStatus\") === SearchStatus.Searching) {\n\t\t\t\tconst allVisualizations = await this.fetchAllAvailableVisualizations();\n\t\t\t\tconst favoriteApps = await this.appManagerInstance.fetchFavVizs(true, true);\n\t\t\t\tconst insightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\n\t\t\t\t// generate suggested apps\n\t\t\t\tconst apps = this._generateApps(rawApps, allVisualizations, [...favoriteApps, ...insightsApps]);\n\t\t\t\tconst suggestedApps = await this._filterUnsupportedApps(apps);\n\n\t\t\t\tif (suggestedApps.length === 0 && !this.model.getProperty(\"/hasError\")) {\n\t\t\t\t\tthis._handleError(\"\", suggestedApps.length);\n\t\t\t\t} else {\n\t\t\t\t\t// update model with filtered apps\n\t\t\t\t\tthis.model.setProperty(\"/suggestedApps\", suggestedApps);\n\t\t\t\t\tthis.model.setProperty(\"/suggestedAppsCount\", suggestedApps.length);\n\t\t\t\t\tthis.appSuggestionList.updateAggregation(\"items\", ChangeReason.Refresh, { detailedReason: ChangeReason.Refresh });\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLog.error((err as Error).message);\n\t\t\tthis._handleError();\n\t\t} finally {\n\t\t\t// update search status only if search is not cancelled\n\t\t\tif (this.model.getProperty(\"/searchStatus\") === SearchStatus.Searching) {\n\t\t\t\tthis.model.setProperty(\"/searchStatus\", SearchStatus.Complete);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Filters out unsupported apps based on accessibility.\n\t *\n\t * @private\n\t * @param {SuggestedApp[]} apps - The list of suggested apps to filter.\n\t * @returns {Promise<SuggestedApp[]>} A promise that resolves to the filtered list of supported apps.\n\t */\n\tprivate async _filterUnsupportedApps(apps: SuggestedApp[]): Promise<SuggestedApp[]> {\n\t\tconst updatedApps = apps.filter((app) => (app.isStaticApp ? true : (app.vizData ?? false)));\n\t\tconst intents = updatedApps.map((app) => app.vizData?.target) || [];\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst supportedAppIndices = await navigationService.isNavigationSupported(intents as Target[]);\n\n\t\treturn updatedApps.filter((_, index) => supportedAppIndices[index]);\n\t}\n\n\t/**\n\t * Generates suggested apps from raw app data and visualizations.\n\t *\n\t * @private\n\t * @param {RawAppData[]} rawApps - The raw app data to process.\n\t * @param {IVisualization[]} allVisualizations - All available visualizations.\n\t * @param {ICustomVisualization[]} homePageVisualizations - Visualizations available in homepage.\n\t * @returns {SuggestedApp[]} The list of suggested apps.\n\t */\n\tprivate _generateApps(\n\t\trawApps: RawAppData[],\n\t\tallVisualizations: IVisualization[],\n\t\thomePageVisualizations: ICustomVisualization[]\n\t): SuggestedApp[] {\n\t\treturn rawApps.map((app) => {\n\t\t\tconst vizData = allVisualizations.find((viz) => viz.vizId === app.chipID);\n\t\t\tconst addedToHomePage = homePageVisualizations.some((viz) => viz.visualization?.vizId === app.chipID);\n\t\t\treturn {\n\t\t\t\ttitle: app.title,\n\t\t\t\tchipID: app.chipID,\n\t\t\t\tsubTitle: app.subTitle,\n\t\t\t\tdescription: app.appDescription,\n\t\t\t\ticon: app.iconUrl,\n\t\t\t\tvizData,\n\t\t\t\taddedToHomePage,\n\t\t\t\tisStaticApp: app.tileType === TileType.Static,\n\t\t\t\tstatus: this.getAppStatusTexts(app.configuration, addedToHomePage),\n\t\t\t\turl: vizData?.targetURL || \"\"\n\t\t\t};\n\t\t}) as SuggestedApp[];\n\t}\n\n\t/**\n\t * Validates the query string based on minimum length.\n\t *\n\t * @private\n\t * @param {string} query - The query string to validate.\n\t * @returns {boolean} True if the query is valid, otherwise false.\n\t */\n\tprivate isValidQuery(query: string = \"\"): boolean {\n\t\tquery = query?.trim();\n\t\treturn query.length >= Constants.MinQueryLength && query.length <= Constants.MaxDescriptionLength;\n\t}\n\n\t/**\n\t * Fetches all available visualizations for the user.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<IVisualization[]>} A promise that resolves to the list of visualizations.\n\t */\n\tprivate async fetchAllAvailableVisualizations(): Promise<IVisualization[]> {\n\t\tif (!this.allAvailableVisualizations) {\n\t\t\tconst searchableContentService = await Container.getServiceAsync<SearchableContent>(\"SearchableContent\");\n\t\t\tconst allAvailableApps = await searchableContentService.getApps({ enableVisualizationPreview: false });\n\t\t\tthis.allAvailableVisualizations = allAvailableApps.reduce((visualizations: IVisualization[], currentApp: AppData) => {\n\t\t\t\treturn visualizations.concat(currentApp.visualizations);\n\t\t\t}, []);\n\t\t}\n\n\t\treturn this.allAvailableVisualizations;\n\t}\n\n\t/**\n\t * Fetches a CSRF token for secure API requests.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<string | null>} A promise that resolves to the CSRF token or null if fetching fails.\n\t */\n\tprivate async _fetchCSRFToken(): Promise<string | null> {\n\t\ttry {\n\t\t\tconst response = await fetch(AI_APP_FINDER_BASE_URL, { method: \"GET\", headers: { \"X-CSRF-Token\": \"Fetch\" } });\n\t\t\treturn response.headers.get(\"X-CSRF-Token\");\n\t\t} catch (error) {\n\t\t\tLog.error(\"Failed to fetch CSRF token\", error as Error);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Fetches apps from the search API based on the query.\n\t *\n\t * @private\n\t * @async\n\t * @param {string} query - The search query string.\n\t * @returns {Promise<RawAppData[]>} A promise that resolves to the list of raw app data.\n\t */\n\tprivate async fetchAppsFromSearch(query: string): Promise<RawAppData[]> {\n\t\ttry {\n\t\t\tconst token = await this._fetchCSRFToken();\n\t\t\tconst headers = {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t...(token && { \"X-CSRF-Token\": token })\n\t\t\t};\n\n\t\t\tconst response = await fetch(AI_APP_FINDER_API, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify({ UserInput: query })\n\t\t\t});\n\n\t\t\t// handle error responses\n\t\t\tif (!response.ok) {\n\t\t\t\tconst errorResponse = (await response.json()) as ErrorResponse;\n\t\t\t\tthis._handleError(errorResponse.error?.message || \"\");\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst queryResult = (await response.json()) as QueryResponse;\n\t\t\treturn queryResult.value || [];\n\t\t} catch (error) {\n\t\t\tLog.error((error as Error).message);\n\t\t\tthis._handleError();\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves status texts for an app based on its configuration and homepage status.\n\t *\n\t * @private\n\t * @param {string} configuration - The app's configuration string.\n\t * @param {boolean} addedToHomePage - Indicates if the app is already added to the homepage.\n\t * @returns {string[]} An array of status texts for the app.\n\t */\n\tprivate getAppStatusTexts(configuration: string, addedToHomePage: boolean): string[] {\n\t\tlet statusTexts = [];\n\n\t\tif (configuration) {\n\t\t\ttry {\n\t\t\t\tconst parsedConfig = JSON.parse(configuration) as Configuration;\n\t\t\t\tconst tileConfig = JSON.parse(parsedConfig?.tileConfiguration) as TileConfig;\n\t\t\t\tconst infoText = (tileConfig?.display_info_text || \"\").toLowerCase();\n\t\t\t\tif (infoText === Constants.DeprecatedInfoText) {\n\t\t\t\t\tstatusTexts.push(this._i18nBundle.getText(\"deprecatedApp\") as string);\n\t\t\t\t}\n\t\t\t} catch (error: unknown) {\n\t\t\t\tLog.warning((error as Error).message);\n\t\t\t}\n\t\t}\n\n\t\tif (addedToHomePage) {\n\t\t\tstatusTexts.push(this._i18nBundle.getText(\"alreadyAddedApp\") as string);\n\t\t}\n\n\t\treturn statusTexts;\n\t}\n\n\t/**\n\t * Generates status text controls for the provided status texts.\n\t *\n\t * @private\n\t * @param {string} id - The id of the list item.\n\t * @param {string[]} stausTexts - The list of status texts.\n\t * @returns {Text[]} An array of Text controls with applied styles.\n\t */\n\tprivate _generateStatusTexts(id: string, stausTexts: string[]): Text[] {\n\t\treturn stausTexts.map((status, index) => {\n\t\t\treturn new Text(recycleId(`${id}-statusText-${index}`), {\n\t\t\t\ttext: status\n\t\t\t}).addStyleClass(this.applyStatusClass(status));\n\t\t});\n\t}\n\n\t/**\n\t * Applies a CSS class to the status text based on its type.\n\t *\n\t * @private\n\t * @param {string} status - The status text to classify.\n\t * @returns {string} The CSS class for the status text.\n\t */\n\tpublic applyStatusClass(status: string): string {\n\t\tif (status === this._i18nBundle.getText(\"alreadyAddedApp\")) {\n\t\t\treturn \"addedAppStatusText\";\n\t\t} else if (status === this._i18nBundle.getText(\"deprecatedApp\")) {\n\t\t\treturn \"deprecatedAppStatusText\";\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\t/**\n\t * Handles the \"Add Apps\" button press event to add selected apps to favorites.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async onPressAddApps(): Promise<void> {\n\t\tconst userSelectedApps = this.model.getProperty(\"/userSelectedApps\") as CustomListItem[];\n\t\tlet staticAppsPresent = false;\n\t\tlet dynamicAppsPresent = false;\n\n\t\tfor (const app of userSelectedApps) {\n\t\t\tconst isStaticApp = app.getBindingContext()?.getProperty(\"isStaticApp\") as boolean;\n\t\t\tif (isStaticApp) staticAppsPresent = true;\n\t\t\telse dynamicAppsPresent = true;\n\n\t\t\tconst vizId = app.getBindingContext()?.getProperty(\"chipID\") as string;\n\t\t\tawait this.appManagerInstance.addVisualization(vizId, isStaticApp ? undefined : MYINSIGHT_SECTION_ID);\n\t\t}\n\n\t\tif (staticAppsPresent) {\n\t\t\tawait this.refreshFavoriteApps();\n\t\t}\n\n\t\tif (dynamicAppsPresent) {\n\t\t\tawait this.refreshInsightsApps();\n\t\t}\n\n\t\t(this.getParent() as ContentAdditionDialog)?.close();\n\t\tif (userSelectedApps.length > 1) {\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"contentAddedToMyhome\") as string);\n\t\t} else {\n\t\t\tconst selectedItem = userSelectedApps?.[0];\n\t\t\tconst selectedAppTitle = (selectedItem?.getBindingContext?.()?.getProperty?.(\"title\") as string) ?? \"\";\n\t\t\tconst messageKey = staticAppsPresent ? \"appAddedToFavorites\" : \"tileAddedToInsights\";\n\t\t\tMessageToast.show(this._i18nBundle.getText(messageKey, [selectedAppTitle]) as string);\n\t\t}\n\t\tthis.resetPanel();\n\t}\n\n\t/**\n\t * Retrieves the parent BaseLayout instance for this panel.\n\t *\n\t * @private\n\t * @returns {BaseLayout} The parent BaseLayout instance.\n\t */\n\tprivate getLayout(): BaseLayout {\n\t\treturn this.getParent()?.getParent() as BaseLayout;\n\t}\n\n\t/**\n\t * Retrieves the AppsContainer instance from the parent layout.\n\t *\n\t * @private\n\t * @returns {AppsContainer | undefined} The AppsContainer instance or undefined if not found.\n\t */\n\tprivate getAppsContainer(): AppsContainer | undefined {\n\t\treturn this.getLayout()\n\t\t\t?.getItems()\n\t\t\t.find((container) => container instanceof AppsContainer);\n\t}\n\n\t/**\n\t * Retrieves the favorite apps panel from the AppsContainer.\n\t *\n\t * @private\n\t * @returns {FavAppPanel | undefined} The favorite apps panel or undefined if not found.\n\t */\n\tprivate getFavAppPanel(): FavAppPanel | undefined {\n\t\treturn this.getAppsContainer()\n\t\t\t?.getContent()\n\t\t\t.find((panel) => panel instanceof FavAppPanel);\n\t}\n\n\t/**\n\t * Refreshes the favorite apps panel in the AppsContainer.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async refreshFavoriteApps(): Promise<void> {\n\t\tawait this.getAppsContainer()?.refreshPanel(this.getFavAppPanel() as FavAppPanel);\n\t}\n\n\t/**\n\t * Retrieves the InsightsContainer instance from the parent layout.\n\t *\n\t * @private\n\t * @returns {InsightsContainer | undefined} The AppsContainer instance or undefined if not found.\n\t */\n\tprivate getInsightsContainer(): InsightsContainer | undefined {\n\t\treturn this.getLayout()\n\t\t\t?.getItems()\n\t\t\t.find((container) => container instanceof InsightsContainer);\n\t}\n\n\t/**\n\t * Refreshes the Insights tiles panel in the InsightsContainer.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async refreshInsightsApps(): Promise<void> {\n\t\tawait this.getInsightsContainer()?.refreshData(\"tiles\");\n\t}\n\n\t/**\n\t * Handles the selection change event for the suggested apps list.\n\t *\n\t * @public\n\t * @param {ListBase$SelectionChangeEvent} event - The selection change event.\n\t */\n\tpublic onListSelectionChange(event: ListBase$SelectionChangeEvent): void {\n\t\tconst listItem = event.getParameter(\"listItem\") as CustomListItem;\n\t\tconst selected = event.getParameter(\"selected\") as boolean;\n\n\t\tif (!selected) this.userSelectedApps.delete(listItem);\n\t\telse {\n\t\t\tconst context = listItem.getBindingContext();\n\t\t\tconst addedToHomePage = context?.getProperty(\"addedToHomePage\") as boolean;\n\t\t\tif (!addedToHomePage) this.userSelectedApps.add(listItem);\n\t\t}\n\n\t\tthis.model.setProperty(\"/userSelectedApps\", Array.from(this.userSelectedApps));\n\t}\n\n\t/**\n\t * Handles errors by updating the model with error details.\n\t *\n\t * @private\n\t * @param {string} [message=\"\"] - The error message to process.\n\t */\n\tprivate _handleError(message: string = \"\", suggestedResponseCount?: number): void {\n\t\tconst [, errorCode] = message.match(/\\((\\d{2})\\d*\\)\\s*(.*)/) || [];\n\t\tif (suggestedResponseCount === 0 || message.length === 0) {\n\t\t\tmessage = this._i18nBundle.getText(\"NoResultErrorDescription\") || \"\";\n\t\t}\n\t\tthis.model.setProperty(\"/hasError\", true);\n\t\tthis.model.setProperty(\"/errorType\", this._getErrorType(errorCode));\n\t\tthis.model.setProperty(\"/errorDescription\", message);\n\t}\n\n\t/**\n\t * Determines the error type based on the provided error code.\n\t *\n\t * @private\n\t * @param {string} [errorCode=\"\"] - The error code to evaluate.\n\t * @returns {ErrorType} The corresponding error type.\n\t */\n\tprivate _getErrorType(errorCode: string = \"\"): ErrorType {\n\t\tif (errorCode === \"10\") {\n\t\t\treturn ErrorType.ServiceError;\n\t\t} else {\n\t\t\treturn ErrorType.NoResultsFound;\n\t\t}\n\t}\n\n\t/**\n\t * Handles live change event for the search text area, updating value state and messages.\n\t *\n\t * @private\n\t * @param {TextArea$LiveChangeEvent} event - The live change event from the text area.\n\t */\n\tpublic onSearchTextAreaLiveChange(event: TextArea$LiveChangeEvent) {\n\t\tconst textArea = event.getSource();\n\t\tconst query = textArea.getValue().trim();\n\n\t\tif (query.length !== 0 && query.length < Constants.MinQueryLength) {\n\t\t\ttextArea.setValueState(ValueState.Information);\n\t\t\ttextArea.setValueStateText(this._i18nBundle.getText(\"minLengthRequired\"));\n\t\t} else if (query.length > Constants.MaxDescriptionLength) {\n\t\t\ttextArea.setValueState(ValueState.Warning);\n\t\t\ttextArea.setValueStateText(this._i18nBundle.getText(\"maxLengthExceeded\"));\n\t\t} else {\n\t\t\ttextArea.setValueState(ValueState.None);\n\t\t\ttextArea.setValueStateText(\"\");\n\t\t}\n\n\t\tthis.model.setProperty(\"/invalidQuery\", query.length === 0 || textArea.getValueState() !== ValueState.None);\n\t}\n\n\t/**\n\t * Generates the AI policy text with a link for display in the footer.\n\t *\n\t * @private\n\t * @returns {string} The formatted AI policy text.\n\t */\n\tpublic _generateAIPolicyText(): string {\n\t\tconst linkText = this._i18nBundle.getText(\"createdWithAI\");\n\t\treturn this._i18nBundle.getText(\"aiPolicyText\", [linkText])!;\n\t}\n\n\t/**\n\t * Resets the feedback state.\n\t *\n\t * @private\n\t */\n\tprivate resetFeedback(): void {\n\t\tthis.model.setProperty(\"/feedback\", {\n\t\t\tthumbsUp: false,\n\t\t\tthumbsDown: false\n\t\t});\n\t}\n\n\t/**\n\t * Marks feedback as provided and shows a confirmation message toast.\n\t *\n\t * @private\n\t */\n\tpublic sendFeedback(feedbackType: string): void {\n\t\tthis.resetFeedback();\n\t\tthis.model.setProperty(`/feedback/${feedbackType}`, true);\n\t\tMessageToast.show(this._i18nBundle.getText(\"feedBackSent\") as string, {\n\t\t\twidth: \"20em\"\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":16,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GenericTile","Panel","sap_m_library","EventBus","Parameters","S4MyHome","__BaseAppPersPanel","__BaseContainer","__Group","__RecommendedAppPanel","___utils_DataFormatUtils","___utils_Device","___utils_placeholder_AppsPlaceholder","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","FrameType","GenericTileMode","GenericTileScope","TileSizeBehavior","BaseAppPersPanel","BaseContainer","Group","RecommendedAppPanel","getLeanURL","calculateCardWidth","DeviceType","fetchElementProperties","getAppsPlaceholder","getDefaultAppColor","sLegendName","key","value","get","name","assigned","CONSTANTS","PLACEHOLDER_ITEMS_COUNT","MIN_TILE_WIDTH","MAX_TILE_WIDTH","AppsContainer","extend","metadata","events","appsLoaded","parameters","apps","type","tiles","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","this","_isInitialRender","init","_init","BaseContainer.prototype.init.call","setProperty","_i18nBundle","getText","eventBus","getInstance","subscribe","channelId","eventId","data","showRecommendation","firstAppsPanel","getContent","getProperty","addStyleClass","addCustomSetting","_attachRouteChangeEvent","_this","handleRouteChange","event","show","getParameter","_temp2","_temp","_appSwitched","showPersistedDialog","Promise","resolve","load","_setPanelsDirty","reject","attachRouteMatched","error","warning","Error","message","String","onBeforeRendering","_onBeforeRendering","_attachPanelSupportedEvent","adjustLayout","BaseContainer.prototype.onBeforeRendering.call","_removeUnsupportedPanels","onAfterRendering","_onAfterRendering","_this2","BaseContainer.prototype.onAfterRendering.call","_activateRecommendationTabPanel","_load","_this3","selectedPanels","getPanels","all","map","selectedPanel","_setApps","_getPanels","isPhone","getDeviceType","Mobile","_getSelectedPanel","_showPersistedDialog","firePersistDialog","panels","panel","setDesktopViewDirty","setMobileViewDirty","_generatePlaceholder","isLoaded","destroyAggregation","placeholderApps","generateApps","Array","fill","status","setApps","_updatePanelContent","_this4","_temp5","_temp4","fireEvent","_temp3","isDirty","isMobileDirty","loadApps","setLoaded","applyPersonalization","getApps","fetchTileVisualization","showErrorCard","getTitle","groups","getAggregation","wrapper","_generateMobileAppsWrapper","_generateAppsWrapper","aggregationName","items","_generateMobileCards","getId","_generateTiles","_addWrapperContent","_updatePanelContentVisibility","appsWrapper","_generateDesktopAppsWrapper","mobileAppsWrapper","errorCard","_generateErrorMessage","hasApps","length","setVisible","getParent","setWidth","_getAppTile","app","actions","tileId","scope","ActionMore","Display","state","getStatus","mode","IconMode","sizeBehavior","Small","header","backgroundColor","getBgColor","tileIcon","getIcon","url","getUrl","frameType","TwoByHalf","renderOnThemeChange","dropAreaOffset","subheader","getSubTitle","press","_onPress","width","_getGroupTile","group","tileBadge","getNumber","getGroupId","_onPanelSelect","_this5","BaseContainer.prototype._onPanelSelect.call","_refreshAllPanels","_this6","refreshPanel","_refreshPanel","_this7","_toggleTabView","supportedPanels","filter","isSupported","iconTabBarControl","_getInnerControl","toggleStyleClass","_onPanelSupported","currentPanel","setSupported","_togglePanelVisibility","isVisible","iconTabBar","tabs","getItems","selectedTab","find","tab","getKey","unSupportedPanels","hasListeners","attachSupported","bind","_this8","recommendedPanel","_temp6","_enableRecommendationTab","setTileWidth","_setTileWidth","minWidth","maxWidth","getDomRef","domProperties","availableWidth","Object","values","slice","reduce","propertyValue","tileCount","cardLayoutConfig","containerWidth","totalCards","gap","skipDeviceCheck","clampedWidth","getLayout","_adjustLayout","toggleActionButtons","forEach","currentPanelId","i","panelItems","backgroundDesign","Solid","height","content","push","item","addAggregation","_showErrorCard","getGenericPlaceholderContent","_getGenericPlaceholderContent"],"sources":["AppsContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport Panel from \"sap/m/Panel\";\nimport VBox from \"sap/m/VBox\";\nimport { BackgroundDesign, FrameType, GenericTileMode, GenericTileScope, LoadState, TileSizeBehavior } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Parameters from \"sap/ui/core/theming/Parameters\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport App from \"./App\";\nimport { $AppsContainerSettings } from \"./AppsContainer\";\nimport BaseApp from \"./BaseApp\";\nimport BaseAppPanel, { BaseAppPanel$SupportedEvent } from \"./BaseAppPanel\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport Group from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport RecommendedAppPanel from \"./RecommendedAppPanel\";\nimport { ICustomVisualization } from \"./interface/AppsInterface\";\nimport { getLeanURL } from \"./utils/DataFormatUtils\";\nimport { calculateCardWidth, DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { getAppsPlaceholder } from \"./utils/placeholder/AppsPlaceholder\";\n\nconst getDefaultAppColor = () => {\n\tconst sLegendName = \"sapLegendColor9\";\n\treturn {\n\t\tkey: sLegendName,\n\t\tvalue: Parameters.get({\n\t\t\tname: sLegendName\n\t\t}),\n\t\tassigned: false\n\t};\n};\n\nconst CONSTANTS = {\n\tPLACEHOLDER_ITEMS_COUNT: 5,\n\tMIN_TILE_WIDTH: 304,\n\tMAX_TILE_WIDTH: 456\n};\n\n/**\n *\n * Container class for managing and storing apps.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.AppsContainer\n */\nexport default class AppsContainer extends BaseContainer {\n\tprivate _isInitialRender = true;\n\tprivate _appSwitched!: boolean;\n\tstatic readonly renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired when apps are loaded.\n\t\t\t */\n\t\t\tappsLoaded: {\n\t\t\t\tparameters: {\n\t\t\t\t\tapps: { type: \"sap.cux.home.App[]\" },\n\t\t\t\t\ttiles: { type: \"sap.m.GenericTile[]\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconstructor(idOrSettings?: string | $AppsContainerSettings);\n\tconstructor(id?: string, settings?: $AppsContainerSettings);\n\t/**\n\t * Constructor for a new app container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $AppsContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"appsTitle\"));\n\t\t// Subscribe to recommendation setting change event\n\t\tconst eventBus = EventBus.getInstance();\n\t\teventBus.subscribe(\"importChannel\", \"recommendationSettingChanged\", (channelId?: string, eventId?: string, data?: object) => {\n\t\t\tconst showRecommendation = (data as { showRecommendation: boolean }).showRecommendation;\n\t\t\tif (!showRecommendation) {\n\t\t\t\tconst firstAppsPanel = this.getContent()?.[0];\n\t\t\t\tthis.setProperty(\"selectedKey\", firstAppsPanel?.getProperty(\"key\"));\n\t\t\t}\n\t\t});\n\n\t\t// disable lazy load for apps container as it's the hero element\n\t\tthis.setProperty(\"enableLazyLoad\", false);\n\t\tthis.addStyleClass(\"sapCuxAppsContainer\");\n\t\tthis.addCustomSetting(\"text\", this._i18nBundle.getText(\"myAppMsg\") as string);\n\t\tthis._attachRouteChangeEvent();\n\t}\n\n\t/**\n\t * Attaches an event handler to monitor route changes and manage application state accordingly.\n\t * @private\n\t *\n\t * @returns {void}\n\t */\n\n\tprivate _attachRouteChangeEvent(): void {\n\t\tconst handleRouteChange = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tif (show) {\n\t\t\t\tif (this._appSwitched) {\n\t\t\t\t\tthis._appSwitched = false;\n\t\t\t\t\tthis.showPersistedDialog();\n\t\t\t\t\tawait this.load();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._setPanelsDirty();\n\t\t\t\tthis._appSwitched = true;\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tS4MyHome.attachRouteMatched({}, handleRouteChange, this);\n\t\t} catch (error) {\n\t\t\tLog.warning(\"Unable to attach route change handler\", error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering() {\n\t\tif (this._isInitialRender) {\n\t\t\tthis._isInitialRender = false;\n\t\t\tthis._attachPanelSupportedEvent();\n\t\t}\n\n\t\tthis.adjustLayout();\n\t\tsuper.onBeforeRendering();\n\t\tthis._removeUnsupportedPanels();\n\t}\n\n\t/**\n\t * onAfterRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async onAfterRendering() {\n\t\tsuper.onAfterRendering();\n\t\t// activating the recommendation tab from appsContainer as personalization data in not available on init of panel.\n\t\tawait this._activateRecommendationTabPanel();\n\t}\n\n\t/**\n\t * Loads the AppsContainer section.\n\t * Overrides the load method of the BaseContainer.\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tpublic async load(): Promise<void> {\n\t\tconst selectedPanels = this.getPanels();\n\t\tawait Promise.all(selectedPanels.map((selectedPanel) => this._setApps(selectedPanel)));\n\t}\n\n\t/**\n\t * Retrieves the relevant panels based on the device type.\n\t *\n\t * @private\n\t * @returns {BaseAppPanel[]} An array of panels based on the device type.\n\t */\n\tprivate getPanels(): BaseAppPanel[] {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\treturn (isPhone ? this.getContent() : [this._getSelectedPanel()]) as BaseAppPanel[];\n\t}\n\n\t/**\n\t * Triggers navigation actions for the currently relevant panels.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\n\tprivate showPersistedDialog(): void {\n\t\tconst selectedPanels = this.getPanels();\n\t\tfor (const selectedPanel of selectedPanels) {\n\t\t\tselectedPanel.firePersistDialog();\n\t\t}\n\t}\n\n\t/**\n\t * Set all panels dirty state to true, to refresh all panels\n\t * @private\n\t */\n\tprivate _setPanelsDirty(): void {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tfor (const panel of panels) {\n\t\t\tpanel.setDesktopViewDirty(true);\n\t\t\tpanel.setMobileViewDirty(true);\n\t\t}\n\t}\n\n\t/**\n\t * Generate placeholer for the panel.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel for which placeholders has to be generated.\n\t */\n\tprivate _generatePlaceholder(panel: BaseAppPanel): void {\n\t\tif (!panel.isLoaded()) {\n\t\t\tpanel.destroyAggregation(\"apps\", true);\n\t\t\tconst placeholderApps = panel.generateApps(\n\t\t\t\tnew Array(CONSTANTS.PLACEHOLDER_ITEMS_COUNT).fill({ status: \"Loading\" }) as ICustomVisualization[]\n\t\t\t);\n\t\t\tpanel.setApps(placeholderApps);\n\t\t\tthis._updatePanelContent(panel);\n\t\t}\n\t}\n\n\t/**\n\t * Loads and sets the apps.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel for which apps has to be loaded.\n\t * @returns {Promise<void>} resolves when apps are loaded.\n\t */\n\tprivate async _setApps(panel: BaseAppPanel): Promise<void> {\n\t\ttry {\n\t\t\t// only load the apps if panel is in dirty state\n\t\t\tif (panel.isDirty() && panel.isMobileDirty()) {\n\t\t\t\tthis._generatePlaceholder(panel);\n\t\t\t\tawait panel.loadApps?.();\n\t\t\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\t\t\tpanel.setMobileViewDirty(false);\n\t\t\t\t} else {\n\t\t\t\t\tpanel.setDesktopViewDirty(false);\n\t\t\t\t}\n\t\t\t\tpanel.setLoaded(true);\n\t\t\t\tthis._updatePanelContent(panel);\n\n\t\t\t\tif (panel instanceof BaseAppPersPanel) {\n\t\t\t\t\t// don't wait for personalization to complete\n\t\t\t\t\tvoid panel.applyPersonalization(true);\n\t\t\t\t}\n\t\t\t\tlet tiles: GenericTile[] = [];\n\t\t\t\tlet apps = panel.getApps();\n\t\t\t\ttiles = panel.fetchTileVisualization(tiles);\n\t\t\t\tthis.fireEvent(\"appsLoaded\", { apps, tiles });\n\t\t\t}\n\n\t\t\t// fire panel loaded event\n\t\t\tpanel.fireEvent(\"loaded\");\n\t\t} catch (error: unknown) {\n\t\t\tthis.showErrorCard(panel);\n\t\t\tLog.error(`Error setting apps for panel: ${panel.getTitle()}`, error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n\n\t/**\n\t * Updates the content of the panel by replacing existing items with new apps and groups.\n\t * This method selects the appropriate wrapper based on the device type, and add apps/group or mobile cards to the wrapper.\n\t *\n\t * @param {BaseAppPanel} panel - The panel whose content needs to be updated.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updatePanelContent(panel: BaseAppPanel): void {\n\t\tconst apps = panel.getApps() || [];\n\t\tconst groups = (panel.getAggregation(\"groups\") || []) as Group[];\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst wrapper = isPhone ? panel._generateMobileAppsWrapper() : panel._generateAppsWrapper();\n\t\tconst aggregationName = isPhone ? \"content\" : \"items\";\n\t\twrapper.destroyAggregation(aggregationName);\n\t\tlet items = isPhone ? this._generateMobileCards([...groups, ...apps], panel.getId()) : this._generateTiles([...groups, ...apps]);\n\t\tthis._addWrapperContent(wrapper, items, aggregationName);\n\t\tthis._updatePanelContentVisibility(panel);\n\t}\n\n\t/**\n\t * Updates the visibility of the panel's content based on the current state and device type.\n\t * This method determines whether to display the apps or an error message based on the presence of apps and groups.\n\t * It also adjusts the visibility of different containers depending on whether the device is a phone or not.\n\t *\n\t * @param {BaseAppPanel} panel - The panel whose content visibility needs to be updated.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updatePanelContentVisibility(panel: BaseAppPanel): void {\n\t\tconst apps = panel.getApps() || [];\n\t\tconst groups = (panel.getAggregation(\"groups\") || []) as Group[];\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst appsWrapper = panel._generateDesktopAppsWrapper();\n\t\tconst mobileAppsWrapper = panel._generateMobileAppsWrapper();\n\t\tconst errorCard = panel._generateErrorMessage();\n\t\tconst hasApps = [...apps, ...groups].length !== 0;\n\t\tappsWrapper.setVisible(hasApps && !isPhone);\n\t\tmobileAppsWrapper.setVisible(hasApps && isPhone);\n\t\t(mobileAppsWrapper.getParent() as VBox).setWidth(isPhone && hasApps ? \"100%\" : \"auto\");\n\t\terrorCard.setVisible(!hasApps);\n\t}\n\n\t/**\n\t * Generates generic tile based on app.\n\t * @private\n\t * @param {sap.cux.home.App} app - App.\n\t * @returns {sap.m.GenericTile}.\n\t */\n\tpublic _getAppTile(app: App): GenericTile {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst actions = (app.getAggregation(\"menuItems\") || []) as MenuItem[];\n\t\tconst tileId = isPhone ? `${app.getId()}-mobile-tile` : `${app.getId()}-tile`;\n\t\treturn new GenericTile(tileId, {\n\t\t\tscope: actions.length && !isPhone ? GenericTileScope.ActionMore : GenericTileScope.Display,\n\t\t\tstate: app.getStatus() as LoadState,\n\t\t\tmode: GenericTileMode.IconMode,\n\t\t\tsizeBehavior: TileSizeBehavior.Small,\n\t\t\theader: app.getTitle(),\n\t\t\tbackgroundColor: app.getBgColor() || getDefaultAppColor()?.key,\n\t\t\ttileIcon: app.getIcon(),\n\t\t\turl: getLeanURL(app.getUrl()),\n\t\t\tframeType: FrameType.TwoByHalf,\n\t\t\trenderOnThemeChange: true,\n\t\t\tdropAreaOffset: 4,\n\t\t\tsubheader: app.getSubTitle(),\n\t\t\tpress: (e) => app._onPress(e),\n\t\t\twidth: isPhone ? \"15rem\" : \"100%\"\n\t\t}).addStyleClass(\"tileLayout sapMGTTwoByHalf\");\n\t}\n\n\t/**\n\t * Generates generic tile based on group.\n\t * @private\n\t * @param {sap.cux.home.Group} group - Group.\n\t * @returns {sap.m.GenericTile}.\n\t */\n\tprivate _getGroupTile(group: Group): GenericTile {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst actions = (group.getAggregation(\"menuItems\") || []) as MenuItem[];\n\t\tconst tileId = isPhone ? `${group.getId()}-mobile-tile` : `${group.getId()}-tile`;\n\t\treturn new GenericTile(tileId, {\n\t\t\tscope: actions.length && !isPhone ? GenericTileScope.ActionMore : GenericTileScope.Display,\n\t\t\tstate: group.getStatus() as LoadState,\n\t\t\tmode: GenericTileMode.IconMode,\n\t\t\tsizeBehavior: TileSizeBehavior.Small,\n\t\t\theader: group.getTitle(),\n\t\t\tbackgroundColor: group.getBgColor() || getDefaultAppColor()?.key,\n\t\t\ttileIcon: group.getIcon(),\n\t\t\tframeType: FrameType.TwoByHalf,\n\t\t\trenderOnThemeChange: true,\n\t\t\tdropAreaOffset: 4,\n\t\t\ttileBadge: group.getNumber(),\n\t\t\tpress: (e) => group._onPress(e),\n\t\t\twidth: isPhone ? \"15rem\" : \"100%\"\n\t\t})\n\t\t\t.addStyleClass(\"tileLayout sapMGTTwoByHalf\")\n\t\t\t.data(\"groupId\", group.getGroupId()) as GenericTile;\n\t}\n\n\t/**\n\t * Overridden method for selection of panel in the IconTabBar.\n\t * Loads the apps in selected panel\n\t * @private\n\t * @returns {Promise<void>} resolves when apps are loaded on panel selection.\n\t */\n\tprotected async _onPanelSelect(event: IconTabBar$SelectEvent) {\n\t\tsuper._onPanelSelect(event);\n\t\tconst selectedPanel = this._getSelectedPanel() as BaseAppPanel;\n\t\tawait this._setApps(selectedPanel);\n\t}\n\n\t/**\n\t * Refresh apps for all the panels.\n\t * @private\n\t * @returns {Promise<void>} resolves when all panels are set to dirty and apps for current panel are refreshed.\n\t */\n\tpublic async _refreshAllPanels(): Promise<void> {\n\t\t//set all panels to dirty\n\t\tthis._setPanelsDirty();\n\t\t//set apps for current section\n\t\tawait this._setApps(this._getSelectedPanel() as BaseAppPanel);\n\t}\n\n\t/**\n\t * Refresh apps for selected panel.\n\t * @private\n\t * @param {BaseAppPanel} panel - Panel that has be refreshed.\n\t * @returns {Promise<void>} resolves when apps are refreshed.\n\t */\n\tpublic async refreshPanel(panel: BaseAppPanel): Promise<void> {\n\t\tpanel.setMobileViewDirty(true);\n\t\tpanel.setDesktopViewDirty(true);\n\t\tawait this._setApps(panel);\n\t}\n\n\t/**\n\t * Toggles the visibility of the tab view based on the supported panels.\n\t * @private\n\t */\n\tprivate _toggleTabView() {\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\t\tconst supportedPanels = panels.filter((panel) => panel.isSupported());\n\t\t\tconst iconTabBarControl = this._getInnerControl() as IconTabBar;\n\t\t\ticonTabBarControl?.toggleStyleClass(\"sapUiITBHide\", supportedPanels.length === 1);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the supported state of the current panel.\n\t * If the panel is supported, it adds the panel to the content.\n\t * If the panel is not supported, it removes the panel from the content.\n\t * @param {BaseAppPanel} currentPanel - The panel to handle the supported state for.\n\t * @private\n\t */\n\tprivate _onPanelSupported(currentPanel: BaseAppPanel, event: BaseAppPanel$SupportedEvent) {\n\t\tconst isSupported = event.getParameter(\"isSupported\") as boolean;\n\t\tcurrentPanel.setSupported(isSupported);\n\t\tthis._togglePanelVisibility(currentPanel, isSupported);\n\t\tthis._toggleTabView();\n\t}\n\n\t/**\n\t * Toggles the visibility of the panel.\n\t * @param {BaseAppPanel} panel - The panel to toggle the visibility for.\n\t * @param {boolean} isVisible - The visibility state of the panel.\n\t * @private\n\t */\n\tprivate _togglePanelVisibility(panel: BaseAppPanel, isVisible: boolean) {\n\t\tconst iconTabBar = this._getInnerControl() as IconTabBar;\n\t\tconst tabs = (iconTabBar?.getItems() as IconTabFilter[]) || [];\n\t\tconst selectedTab = tabs.find((tab) => tab.getKey() === panel.getKey());\n\t\tselectedTab?.setVisible(isVisible);\n\t}\n\n\t/**\n\t * Removes unsupported panels from the container.\n\t * @private\n\t */\n\tprivate _removeUnsupportedPanels() {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tconst unSupportedPanels = panels.filter((panel) => !panel.isSupported());\n\t\tfor (const panel of unSupportedPanels) {\n\t\t\tthis._togglePanelVisibility(panel, false);\n\t\t}\n\t\tthis._toggleTabView();\n\t}\n\n\t/**\n\t * Attaches an event handler to the \"supported\" event for each panel in the container.\n\t * @private\n\t */\n\tprivate _attachPanelSupportedEvent() {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tfor (const panel of panels) {\n\t\t\tif (!panel.hasListeners(\"supported\")) {\n\t\t\t\tpanel.attachSupported(this._onPanelSupported.bind(this, panel));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calls the enable function to activate the recommendation tab for `RecommendedAppPanel`, unless the device is a mobile phone.\n\t *\n\t * @private\n\t */\n\tprivate async _activateRecommendationTabPanel(): Promise<void> {\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst recommendedPanel = panels ? panels.find((panel) => panel instanceof RecommendedAppPanel) : null;\n\t\tif (recommendedPanel instanceof RecommendedAppPanel && !isPhone) {\n\t\t\tawait recommendedPanel._enableRecommendationTab();\n\t\t} else {\n\t\t\trecommendedPanel?.setSupported(false);\n\t\t}\n\t}\n\n\tpublic setTileWidth(panel: BaseAppPanel): void {\n\t\tconst minWidth = CONSTANTS.MIN_TILE_WIDTH; // in px\n\t\tconst maxWidth = CONSTANTS.MAX_TILE_WIDTH; // in px\n\n\t\tconst wrapper = panel._generateAppsWrapper()?.getDomRef() as Element;\n\t\tif (!wrapper) return;\n\n\t\tconst domProperties = fetchElementProperties(wrapper, [\"width\", \"padding-left\", \"padding-right\", \"margin-left\", \"margin-right\"]);\n\t\tconst availableWidth = Object.values(domProperties)\n\t\t\t.slice(1)\n\t\t\t.reduce((width, propertyValue) => width - propertyValue, domProperties[\"width\"]);\n\n\t\tconst apps = panel.getApps() || [];\n\t\tconst groups = (panel.getAggregation(\"groups\") || []) as Group[];\n\t\tconst tileCount = apps.length + groups.length;\n\n\t\tif (tileCount === 0 || availableWidth <= 0) return;\n\n\t\tconst cardLayoutConfig = {\n\t\t\tcontainerWidth: availableWidth,\n\t\t\ttotalCards: tileCount,\n\t\t\tminWidth: minWidth,\n\t\t\tmaxWidth: maxWidth,\n\t\t\tgap: 8,\n\t\t\tskipDeviceCheck: true\n\t\t};\n\n\t\tconst clampedWidth = calculateCardWidth(cardLayoutConfig);\n\n\t\tpanel.setProperty(\"tileWidth\", clampedWidth);\n\t\tpanel\n\t\t\t._generateAppsWrapper()\n\t\t\t.getLayout()\n\t\t\t.setProperty(\"columnSize\", `${clampedWidth / 16}rem`);\n\t}\n\n\t/**\n\t * Adjusts the layout and visibility based on the device type.\n\t *\n\t * This method adjusts the layout type and visibility of containers based on whether the device is a phone\n\t * or not. It sets the container's layout property, toggles visibility of panels and their containers, and\n\t * adjusts background design accordingly.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tpublic adjustLayout(): void {\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst selectedPanel = this._getSelectedPanel() as BaseAppPanel;\n\t\tthis.setTileWidth(selectedPanel);\n\n\t\t//hide actions if the device is a phone\n\t\tthis.toggleActionButtons(!isPhone);\n\n\t\tconst panels = this.getContent() as BaseAppPanel[];\n\t\tpanels.forEach((panel) => {\n\t\t\t//if both the panels are dirty, then updated data will be loaded from onBeforeRendering, as layout change will trigger re-rendering\n\t\t\t//if both the panels are not dirty, i.e. doen't have any changes, then just toggle the visibility\n\t\t\tif (!panel.isDirty() && !panel.isMobileDirty()) {\n\t\t\t\tthis._updatePanelContentVisibility(panel);\n\t\t\t} else if (panel.isDirty() !== panel.isMobileDirty()) {\n\t\t\t\t//if one of the panels is dirty i.e. have updated data and other is not, then re-create the inner controls\n\t\t\t\tif (isPhone) {\n\t\t\t\t\tpanel.setMobileViewDirty(false);\n\t\t\t\t} else {\n\t\t\t\t\tpanel.setDesktopViewDirty(false);\n\t\t\t\t}\n\t\t\t\tthis._updatePanelContent(panel);\n\t\t\t}\n\t\t});\n\n\t\t//this is to handle scenario when unsupported propert is changed and then layout is changed.\n\t\tthis._removeUnsupportedPanels();\n\t}\n\n\t/**\n\t * Generates mobile card panel and add given apps/groups in the panel.\n\t *\n\t * @private\n\t * @param {BaseApp[]} items - Apps/Groups for which card panels has to be generated.\n\t * @param {string} currentPanelId - ID of the current panel.\n\t * @returns {sap.m.Panel} The newly created mobile card panel.\n\t */\n\tprivate _generateMobileCards(items: BaseApp[], currentPanelId?: string): Panel[] {\n\t\tconst panels: Panel[] = [];\n\t\tfor (let i = 0; i < items.length; i += 7) {\n\t\t\tconst panelItems = items.slice(i, i + 7);\n\t\t\tconst panel = new Panel(`${currentPanelId}--${i}`, {\n\t\t\t\tbackgroundDesign: BackgroundDesign.Solid,\n\t\t\t\theight: \"23.5rem\",\n\t\t\t\twidth: \"17rem\",\n\t\t\t\tcontent: this._generateTiles(panelItems)\n\t\t\t}).addStyleClass(\"sapUiMobileAppsCard appPanelBorder myAppMFBContent\");\n\t\t\tpanels.push(panel);\n\t\t}\n\t\treturn panels;\n\t}\n\n\t/**\n\t * Generates group/app generic tiles for given apps/groups.\n\t *\n\t * @private\n\t * @param {BaseApp[]} items - Apps/Groups for which tiles has to be generated.\n\t * @returns {sap.m.GenericTile[]} The generated tiles.\n\t */\n\tprivate _generateTiles(items: BaseApp[]): GenericTile[] {\n\t\treturn items.map((item) => (item instanceof Group ? this._getGroupTile(item) : this._getAppTile(item as App)));\n\t}\n\n\t/**\n\t * Adds given items into the wrapper.\n\t * @param {HeaderContainer | GridContainer} wrapper - wrapper for which items has to be added.\n\t * @param {Panel[] | GenericTile[]} items - items to be added.\n\t * @param {string} aggregationName - aggregation name to which items has to be added.\n\t * @private\n\t */\n\tprivate _addWrapperContent(wrapper: HeaderContainer | GridContainer, items: Panel[] | GenericTile[], aggregationName: string) {\n\t\twrapper.destroyAggregation(aggregationName);\n\t\titems.forEach((item) => {\n\t\t\twrapper.addAggregation(aggregationName, item);\n\t\t});\n\t}\n\n\t/**\n\t * Displays an error card in the provided panel.\n\t *\n\t * @param panel - The panel in which the error card should be displayed.\n\t */\n\tprivate showErrorCard(panel: BaseAppPanel): void {\n\t\tconst errorCard = panel._generateErrorMessage();\n\t\tconst appsWrapper = panel._generateDesktopAppsWrapper();\n\t\tconst mobileAppsWrapper = panel._generateMobileAppsWrapper();\n\t\tappsWrapper?.setVisible(false);\n\t\tmobileAppsWrapper?.setVisible(false);\n\t\terrorCard?.setVisible(true);\n\t}\n\n\t/**\n\t * Retrieves the generic placeholder content for the Apps container.\n\t *\n\t * @returns {string} The HTML string representing the Apps container's placeholder content.\n\t */\n\tprotected getGenericPlaceholderContent(): string {\n\t\treturn getAppsPlaceholder();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":21,"column":0},"map":{"version":3,"names":["sap","ui","define","List","Popover","StandardListItem","sap_m_library","Element","___utils_FESRUtil","ListType","addFESRSemanticStepName","FESR_EVENTS","getFESRId","BaseApp","extend","metadata","library","properties","title","type","group","defaultValue","subTitle","bgColor","icon","status","aggregations","menuItems","multiple","singularName","visibility","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","_onPress","event","sAction","getParameter","_handlePress","_loadActionsPopover","tile","getSource","actions","getAggregation","oPopover","ActionsPopover","get","onPopoverOpen","addStyleClass","onPopoverClose","removeStyleClass","detachBeforeOpen","detachAfterClose","attachBeforeOpen","attachAfterClose","openBy","_oMoreIcon","_closeActionsPopover","_popover","close","_actionsList","showHeader","placement","ariaLabelledBy","addContent","destroyItems","forEach","action","actionType","getType","oListItem","getId","getIcon","getTitle","tooltip","visible","press","oEvent","Navigation","firePress","listItem","PRESS","addItem"],"sources":["BaseApp.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport { ListType } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $BaseAppSettings } from \"./BaseApp\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\n\n/**\n *\n * Base App class for managing and storing Apps.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseApp\n */\nexport default abstract class BaseApp extends Element {\n\tconstructor(idOrSettings?: string | $BaseAppSettings);\n\tconstructor(id?: string, settings?: $BaseAppSettings);\n\t/**\n\t * Constructor for a new Base App.\n\t *\n\t * @param {string} [id] ID for the new app, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new app\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the app\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Sub header of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color of the app\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon of the app\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Whether the app is in loaded or loading status\n\t\t\t */\n\t\t\tstatus: { type: \"string\", group: \"Misc\", defaultValue: \"Loaded\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * MenuItems aggregation of the app. These items will be shown in a popover on click of showMore\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tabstract _handlePress(event: GenericTile$PressEvent): void;\n\n\t/**\n\t * Base App Press Handler\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _onPress(event: GenericTile$PressEvent): void {\n\t\tconst sAction = event.getParameter(\"action\") || \"Press\";\n\t\tif (sAction === \"Press\") {\n\t\t\tthis._handlePress(event);\n\t\t} else if (sAction === \"More\") {\n\t\t\tthis._loadActionsPopover(event);\n\t\t}\n\t}\n\n\t/**\n\t * Loads Actions available for selected app tile in popover\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _loadActionsPopover(event: GenericTile$PressEvent) {\n\t\tconst tile: GenericTile & { _oMoreIcon: Button } = event.getSource?.();\n\t\tconst actions = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tconst oPopover = ActionsPopover.get(actions);\n\t\t//Add Border around current tile\n\t\tconst onPopoverOpen = () => {\n\t\t\ttile.addStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t};\n\t\tconst onPopoverClose = () => {\n\t\t\ttile.removeStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t\toPopover.detachBeforeOpen(onPopoverOpen);\n\t\t\toPopover.detachAfterClose(onPopoverClose);\n\t\t};\n\t\toPopover.attachBeforeOpen(onPopoverOpen);\n\t\toPopover.attachAfterClose(onPopoverClose);\n\t\toPopover.openBy(tile._oMoreIcon);\n\t}\n}\n\nexport class ActionsPopover {\n\tprivate static _popover: Popover;\n\tprivate static _actionsList: List;\n\n\tprivate constructor() {}\n\n\tstatic _closeActionsPopover() {\n\t\tActionsPopover._popover.close();\n\t}\n\n\t// Method to get the singleton instance\n\tstatic get(actions?: MenuItem[]): Popover {\n\t\tif (!ActionsPopover._popover) {\n\t\t\tActionsPopover._actionsList = new List({\n\t\t\t\tid: `appActionsList`\n\t\t\t});\n\t\t\tActionsPopover._popover = new Popover(`appActionsPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: \"HorizontalPreferredRight\",\n\t\t\t\tariaLabelledBy: [`appActionsPopover`]\n\t\t\t})\n\t\t\t\t.addStyleClass(\"sapContrastPlus\")\n\t\t\t\t.addContent(ActionsPopover._actionsList);\n\t\t}\n\t\tActionsPopover._actionsList.destroyItems();\n\t\tactions?.forEach((action) => {\n\t\t\tconst actionType = action.getType() as ListType;\n\t\t\tconst oListItem = new StandardListItem(`${action.getId()}-index`, {\n\t\t\t\ticon: action.getIcon(),\n\t\t\t\ttitle: action.getTitle(),\n\t\t\t\ttooltip: action.getTitle(),\n\t\t\t\ttype: actionType,\n\t\t\t\tvisible: true,\n\t\t\t\tpress: (oEvent) => {\n\t\t\t\t\tif (actionType !== ListType.Navigation) {\n\t\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\t}\n\t\t\t\t\taction.firePress({ listItem: oEvent.getSource() });\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRSemanticStepName(oListItem, FESR_EVENTS.PRESS, getFESRId(action));\n\t\t\tActionsPopover._actionsList.addItem(oListItem);\n\t\t});\n\t\treturn ActionsPopover._popover;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,kCAAA,0HAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAUSC,EAAQH,EAAA,kBAKRI,EAAuBF,EAAA,iCAAEG,EAAWH,EAAA,qBAAEI,EAASJ,EAAA,aAExD,MAgB8BK,EAAgBN,EAAOO,OAAA,wBAapCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,SAAU,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIzDE,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIxDG,KAAM,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIrDI,OAAQ,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,WAExDK,aAAc,CAIbC,UAAW,CAAER,KAAM,wBAAyBS,SAAU,KAAMC,aAAc,WAAYC,WAAY,YAhC7FC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAyCOG,SAAQ,SAAAA,EAACC,GACf,MAAMC,EAAUD,EAAME,aAAa,WAAa,QAChD,GAAID,IAAY,QAAS,CACxBH,KAAKK,aAAaH,EACnB,MAAO,GAAIC,IAAY,OAAQ,CAC9BH,KAAKM,oBAAoBJ,EAC1B,CACD,EAOOI,oBAAmB,SAAAA,EAACJ,GAC1B,MAAMK,EAA6CL,EAAMM,cACzD,MAAMC,EAAUT,KAAKU,eAAe,aACpC,MAAMC,EAAWC,EAAeC,IAAIJ,GAEpC,MAAMK,EAAgBA,KACrBP,EAAKQ,cAAc,iCAEpB,MAAMC,EAAiBA,KACtBT,EAAKU,iBAAiB,gCACtBN,EAASO,iBAAiBJ,GAC1BH,EAASQ,iBAAiBH,IAE3BL,EAASS,iBAAiBN,GAC1BH,EAASU,iBAAiBL,GAC1BL,EAASW,OAAOf,EAAKgB,WACtB,IAGM,MAAMX,EAIJjB,cAAe,CAEvB,2BAAO6B,GACNZ,EAAea,SAASC,OACzB,CAGA,UAAOb,CAAIJ,GACV,IAAKG,EAAea,SAAU,CAC7Bb,EAAee,aAAe,IAAI5D,EAAK,CACtC8B,GAAI,mBAELe,EAAea,SAAW,IAAIzD,EAAQ,oBAAqB,CAC1D4D,WAAY,MACZC,UAAW,2BACXC,eAAgB,CAAC,uBAEhBf,cAAc,mBACdgB,WAAWnB,EAAee,aAC7B,CACAf,EAAee,aAAaK,eAC5BvB,GAASwB,QAASC,IACjB,MAAMC,EAAaD,EAAOE,UAC1B,MAAMC,EAAY,IAAIpE,EAAiB,GAAGiE,EAAOI,gBAAiB,CACjElD,KAAM8C,EAAOK,UACbzD,MAAOoD,EAAOM,WACdC,QAASP,EAAOM,WAChBzD,KAAMoD,EACNO,QAAS,KACTC,MAAQC,IACP,GAAIT,IAAe9D,EAASwE,WAAY,CACvCjC,EAAeY,sBAChB,CACAU,EAAOY,UAAU,CAAEC,SAAUH,EAAOpC,iBAGtClC,EAAwB+D,EAAW9D,EAAYyE,MAAOxE,EAAU0D,IAChEtB,EAAee,aAAasB,QAAQZ,KAErC,OAAOzB,EAAea,QACvB,EACAhD,EAAAmC,iBAAA,OAlI6BnC,CAAO","ignoreList":[],"sourceRoot":""}},{"offset":{"line":26,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerSettings","HeaderContainer","IllustratedMessage","IllustratedMessageSize","MessageToast","VBox","sap_m_library","Config","Container","__App","__BasePanel","__Group","__AppManager","___utils_DataFormatUtils","___utils_Device","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","_finallyRethrows","finalizer","bind","App","BasePanel","Group","AppManager","getLeanURL","recycleId","DeviceType","BaseAppPanel","extend","metadata","library","defaultAggregation","aggregations","content","multiple","singularName","visibility","apps","type","events","persistDialog","supported","parameters","isSupported","properties","tileWidth","group","defaultValue","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","_isDirty","_isMobileDirty","_isLoaded","_isSupported","_setAggregation","control","items","aggregationName","forEach","oItem","addAggregation","init","_init","BasePanel.prototype.init.call","appManagerInstance","getInstance","_controlMap","Map","_appsPanelWrapper","_generateWrapper","addContent","getId","_generateDesktopAppsWrapper","_generateMobileAppsWrapper","_generateErrorMessage","width","addStyleClass","controlId","get","set","_generateAppsWrapper","visible","getDeviceType","Mobile","backgroundDesign","Solid","_appsWrapper","layout","columnSize","getProperty","rowSize","gap","_mobileAppsWrapper","gridLayout","showDividers","height","_errorCard","wrap","generateIllustratedMessage","getApps","length","justifyContent","generateApps","_generateApps","visualizationsData","map","visualizationData","index","groupId","persConfig","sectionId","defaultSection","isDefaultSection","getKey","app","title","subTitle","subtitle","bgColor","BGColor","key","icon","url","vizId","visualization","status","oldAppId","data","menuItems","menuItem","setApps","_setApps","fetchTileVisualization","_fetchTileVisualization","tiles","cards","getContent","card","concat","getItems","convertActivitiesToVisualizations","_convertActivitiesToVisualizations","activities","_this","Promise","resolve","all","_getAllAvailableVisualizations","getServiceAsync","availableVisualizations","URLParsingService","appActivities","filter","activity","appType","orgAppId","appId","visualizations","_convertToVisualization","undefined","_updateVisualizationAvailability","reject","_this2","_temp2","_allAvailableVisualizations","_temp","_getCatalogApps","catalogApps","reduce","catalogApp","_this3","fetchFavVizs","favoriteVisualizations","addedInFavorites","some","favoriteVisualization","_updateActivityInfo","updatedVizConfig","_catalogVisualizationCache","targetURL","prepareAppsBeforeLoad","_prepareAppsBeforeLoad","_findBestMatchingVisualization","matchingVisualizations","matchedVisualization","find","matchingViz","matchedVisualizationCache","matchedVisualizations","viz","params","parseShellHash","prio","push","filteredVisualizations","_filterMatchingVisualization","sort","val1","val2","parshedShellHash","activityParameters","activityParameterKeys","Object","keys","visualizationParams","visualizationParamKeys","bMatch","every","includes","catalogVisualizations","catalogVisualization","target","semanticObject","action","_addAppToFavorites","event","_this4","setBusy","source","getSource","getParent","getVizId","_temp3","addVisualization","_refreshAllPanels","message","_i18nBundle","getText","getTitle","show","error","_wasThrown","_result","isLoaded","setLoaded","_setLoaded","val","isDirty","setDesktopViewDirty","_setDesktopViewDirty","isMobileDirty","setMobileViewDirty","_setMobileViewDirty","_setBusy","isBusy","oAppsWrapper","_getGroup","groups","getAggregation","getGroupId","setSupported","_setSupported","_attachUserActivityTracking","last","on","do","isTrackingActivityEnabled","fireSupported","refresh","_refresh","_this5","refreshPanel","_generateIllustratedMessage","_errorMessage","illustrationSize","Base","description","_applyUngroupedTileColor","item","color","updatedTileIndex","findIndex","tile","getUrl","setBackgroundColor","exit","_exit","destroy"],"sources":["BaseAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Panel from \"sap/m/Panel\";\nimport VBox from \"sap/m/VBox\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport type UI5Element from \"sap/ui/core/Element\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport URLParsing from \"sap/ushell/services/URLParsing\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport { $BaseAppPanelSettings } from \"./BaseAppPanel\";\nimport BasePanel from \"./BasePanel\";\nimport Group from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport { IActivity, ICustomVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { getLeanURL, recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Base App Panel class for managing and storing Apps.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @private\n *\n * @alias sap.cux.home.BaseAppPanel\n */\n\nexport default abstract class BaseAppPanel extends BasePanel {\n\tprivate _isDirty: boolean = true;\n\tprivate _isMobileDirty: boolean = true;\n\tprivate _isLoaded: boolean = false;\n\tprivate _appsWrapper!: GridContainer;\n\tprivate _errorCard!: VBox;\n\tprivate _errorMessage!: IllustratedMessage;\n\tprivate _appsPanelWrapper!: VBox;\n\tprivate _allAvailableVisualizations!: IVisualization[];\n\tprivate _catalogVisualizationCache!: Map<string, IVisualization>;\n\tprotected appManagerInstance!: AppManager;\n\tprivate _isSupported: boolean = true;\n\tprivate _mobileAppsWrapper!: HeaderContainer;\n\tprotected _menuItems!: MenuItem[];\n\tprotected _actionButtons!: Button[];\n\tprotected _controlMap!: Map<string, Control | UI5Element>;\n\n\tconstructor(idOrSettings?: string | $BaseAppPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Holds the apps aggregation\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fired when OnBeforeRendering of container is triggered.\n\t\t\t */\n\t\t\tpersistDialog: {},\n\t\t\t/**\n\t\t\t * Fired when the panel supported property is changed.\n\t\t\t */\n\t\t\tsupported: {\n\t\t\t\tparameters: {\n\t\t\t\t\tisSupported: { type: \"boolean\" }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies the width of the tile in pixels.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\ttileWidth: { type: \"float\", group: \"Misc\", defaultValue: 304, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * This method must be implemented by panel, to set the apps that needs to be shown in the panel.\n\t * @abstract\n\t */\n\tabstract loadApps(): Promise<void>;\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._controlMap = new Map();\n\t\t//Add Wrapper to Panel\n\t\tthis._appsPanelWrapper = this._generateWrapper();\n\t\tthis.addContent(this._appsPanelWrapper);\n\t}\n\n\t/**\n\t * Generates the wrapper for the apps panel, if it doesn't already exist\n\t *\n\t * @private\n\t * @override\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tif (!this._appsPanelWrapper) {\n\t\t\tthis._appsPanelWrapper = new VBox(`${this.getId()}-appsPanelWrapper`, {\n\t\t\t\titems: [this._generateDesktopAppsWrapper(), this._generateMobileAppsWrapper(), this._generateErrorMessage()],\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"sapCuxAppsPanel sapCuxAppsPanelWrapper\");\n\t\t}\n\t\treturn this._appsPanelWrapper;\n\t}\n\n\t/**\n\t * Generates desktop apps wrapper for displaying apps.\n\t * @private\n\t * @returns {sap.m.VBox} The generated apps wrapper.\n\t */\n\tpublic _generateDesktopAppsWrapper() {\n\t\tconst controlId = `${this.getId()}-desktopAppsWrapper`;\n\t\tif (!this._controlMap.get(controlId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tcontrolId,\n\t\t\t\tnew VBox({\n\t\t\t\t\tid: `${this.getId()}-desktopAppsWrapper`,\n\t\t\t\t\titems: [this._generateAppsWrapper()],\n\t\t\t\t\tvisible: this.getDeviceType() !== DeviceType.Mobile,\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Solid\n\t\t\t\t}).addStyleClass(\"sapCuxAppsPanel sapCuxAppsContainerBorder\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(controlId) as VBox;\n\t}\n\n\t/**\n\t * Generates app wrapper (GridContainer) for displaying apps.\n\t * @private\n\t * @returns {sap.m.GridContainer} The generated apps wrapper.\n\t */\n\tpublic _generateAppsWrapper(): GridContainer {\n\t\t//create container\n\t\tif (!this._appsWrapper) {\n\t\t\tthis._appsWrapper = new GridContainer({\n\t\t\t\tid: `${this.getId()}-appsWrapper`,\n\t\t\t\tlayout: new GridContainerSettings(`${this.getId()}-appsWrapperLayout`, {\n\t\t\t\t\tcolumnSize: `${this.getProperty(\"tileWidth\") / 16}rem`,\n\t\t\t\t\trowSize: \"4.375rem\",\n\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\t\treturn this._appsWrapper;\n\t}\n\n\t/**\n\t * Generates wrapper for displaying apps in mobile mode.\n\t * @private\n\t * @returns {sap.m.HeaderContainer} The generated apps wrapper.\n\t */\n\tpublic _generateMobileAppsWrapper() {\n\t\tif (!this._mobileAppsWrapper) {\n\t\t\tthis._mobileAppsWrapper = new HeaderContainer({\n\t\t\t\tid: `${this.getId()}-mobileAppsWrapper`,\n\t\t\t\tgridLayout: true,\n\t\t\t\tshowDividers: false,\n\t\t\t\theight: \"23.5rem\",\n\t\t\t\tcontent: [],\n\t\t\t\tvisible: this.getDeviceType() === DeviceType.Mobile\n\t\t\t}).addStyleClass(\"sapUiMargin-26Bottom\");\n\t\t}\n\t\treturn this._mobileAppsWrapper;\n\t}\n\n\t/**\n\t * Generates the error message wrapper with illustrated message.\n\t * @private\n\t * @returns {sap.m.VBox} Wrapper with illustrated message.\n\t */\n\tpublic _generateErrorMessage(): VBox {\n\t\tif (!this._errorCard) {\n\t\t\tthis._errorCard = new VBox(`${this.getId()}-errorCard`, {\n\t\t\t\twrap: \"Wrap\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\titems: [this.generateIllustratedMessage()],\n\t\t\t\tvisible: this.getApps().length === 0,\n\t\t\t\tjustifyContent: \"Center\"\n\t\t\t}).addStyleClass(\"sapCuxAppsPanel\");\n\t\t}\n\t\treturn this._errorCard;\n\t}\n\n\t/**\n\t * Creates and returns app instances for given app objects\n\t * @private\n\t * @param {object[]} appObjects - Array of app object.\n\t * @returns {sap.cux.home.App[]} - Array of app instances\n\t */\n\tpublic generateApps(visualizationsData: ICustomVisualization[]) {\n\t\treturn visualizationsData.map((visualizationData, index) => {\n\t\t\tconst groupId = visualizationData.persConfig?.sectionId;\n\t\t\tconst defaultSection = visualizationData.persConfig?.isDefaultSection;\n\t\t\tconst id =\n\t\t\t\tgroupId && !defaultSection ? recycleId(`${this.getKey()}-groupApp-${index}`) : recycleId(`${this.getKey()}-app-${index}`);\n\t\t\tconst app = new App(id, {\n\t\t\t\ttitle: visualizationData.title,\n\t\t\t\tsubTitle: visualizationData.subtitle,\n\t\t\t\tbgColor: typeof visualizationData.BGColor === \"object\" ? visualizationData.BGColor.key : visualizationData.BGColor,\n\t\t\t\ticon: visualizationData.icon,\n\t\t\t\turl: visualizationData.url,\n\t\t\t\tvizId: visualizationData.vizId || visualizationData.visualization?.vizId,\n\t\t\t\tstatus: visualizationData.status\n\t\t\t});\n\t\t\tif (visualizationData.oldAppId) {\n\t\t\t\tapp.data(\"oldAppId\", visualizationData.oldAppId);\n\t\t\t}\n\t\t\tvisualizationData.menuItems?.forEach((menuItem) => {\n\t\t\t\tapp.addAggregation(\"menuItems\", menuItem, true);\n\t\t\t});\n\t\t\treturn app;\n\t\t});\n\t}\n\n\t/**\n\t * Add multiple apps in the apps aggregation.\n\t * @param {sap.cux.home.App[]} apps - Array of apps.\n\t */\n\tpublic setApps(apps: App[]) {\n\t\tapps.forEach((app) => {\n\t\t\tthis.addAggregation(\"apps\", app, true);\n\t\t});\n\t}\n\n\t/**\n\t * Fetches and returns the tile visualizations for the current device type (Mobile or Desktop).\n\t *\n\t * @public\n\t * @param {GenericTile[]} tiles - This array will be updated with new tile data based on the device type.\n\t *\n\t * @returns {GenericTile[]} - returns updated tiles\n\t */\n\tpublic fetchTileVisualization(tiles: GenericTile[] = []): GenericTile[] {\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\tconst cards = (this._generateMobileAppsWrapper()?.getContent() || []) as Panel[];\n\t\t\tfor (const card of cards) {\n\t\t\t\ttiles = tiles.concat((card?.getContent() || []) as GenericTile[]);\n\t\t\t}\n\t\t} else {\n\t\t\ttiles = (this._generateAppsWrapper()?.getItems() || []) as GenericTile[];\n\t\t}\n\t\treturn tiles;\n\t}\n\n\t/**\n\t * Convert array of provided activities to app\n\t * @private\n\t * @param {object[]} activities - Array of activities.\n\t * @returns {object[]} - Array of apps\n\t */\n\tprotected async convertActivitiesToVisualizations(activities: IActivity[]) {\n\t\tconst [availableVisualizations, URLParsingService] = await Promise.all([\n\t\t\tthis._getAllAvailableVisualizations(),\n\t\t\tContainer.getServiceAsync<URLParsing>(\"URLParsing\")\n\t\t]);\n\t\tconst appActivities = activities\n\t\t\t.filter((activity) => activity.appType === \"Application\")\n\t\t\t.map((activity) => {\n\t\t\t\tactivity.orgAppId = activity.appId;\n\t\t\t\tactivity.appId = activity.url;\n\t\t\t\treturn activity;\n\t\t\t});\n\t\tconst visualizations = appActivities\n\t\t\t.map((activity) => this._convertToVisualization(activity, availableVisualizations, URLParsingService))\n\t\t\t.filter((activity): activity is IActivity => activity !== undefined);\n\t\tconst updatedVisualizations = await this._updateVisualizationAvailability(visualizations);\n\t\treturn updatedVisualizations;\n\t}\n\n\t/**\n\t * Returns promise that resolves to array of all available visualizations\n\t * @private\n\t * @returns {Promise} A Promise that resolves to array of all available visualizations.\n\t */\n\tprivate async _getAllAvailableVisualizations() {\n\t\tif (!this._allAvailableVisualizations) {\n\t\t\tconst catalogApps = await this.appManagerInstance._getCatalogApps();\n\t\t\tthis._allAvailableVisualizations = catalogApps.reduce((visualizations: IVisualization[], catalogApp) => {\n\t\t\t\treturn visualizations.concat(catalogApp.visualizations || []);\n\t\t\t}, []);\n\t\t}\n\t\treturn this._allAvailableVisualizations;\n\t}\n\n\t/**\n\t * Updates vizualization array with information - if vizualization is present in favorites .\n\t * @private\n\t * @param {object[]} visualizations - Array of vizualizations.\n\t * @returns {object[]} - Array of updated vizualizations.\n\t */\n\tprivate async _updateVisualizationAvailability(visualizations: IActivity[]) {\n\t\tconst favoriteVisualizations: ICustomVisualization[] = await this.appManagerInstance.fetchFavVizs(true, true);\n\t\tvisualizations.forEach((visualization) => {\n\t\t\tvisualization.addedInFavorites = favoriteVisualizations.some(\n\t\t\t\t(favoriteVisualization) => favoriteVisualization.oldAppId === visualization.orgAppId\n\t\t\t);\n\t\t});\n\t\treturn visualizations;\n\t}\n\n\t/**\n\t * Updates user activity with provided vizualization info\n\t * @private\n\t * @param {object} activity - User activity.\n\t * @param {object} updatedVizConfig - Updated vizualization config.\n\t * @returns {object} - Updated user acitvity.\n\t */\n\tprivate _updateActivityInfo(activity: IActivity, updatedVizConfig: IVisualization) {\n\t\tthis._catalogVisualizationCache = this._catalogVisualizationCache || new Map<string, IVisualization>();\n\t\tactivity.targetURL = updatedVizConfig.targetURL;\n\t\tactivity.vizId = updatedVizConfig.vizId;\n\t\tthis._catalogVisualizationCache.set(activity.orgAppId, updatedVizConfig);\n\t\treturn activity;\n\t}\n\n\t/**\n\t * Prepares app and tile data before loading.\n\t * @param {App[]} apps - List of app objects.\n\t * @param {GenericTile[]} tiles - List of tiles.\n\t * @returns {Promise<{ apps: App[], tiles: GenericTile[] }>} A promise resolving with the provided apps and tiles.\n\t */\n\tpublic prepareAppsBeforeLoad(apps: App[], tiles: GenericTile[]): Promise<{ apps: App[]; tiles: GenericTile[] }> {\n\t\treturn Promise.resolve({ apps, tiles });\n\t}\n\n\t/**\n\t * Finds the best matching visualization for a given activity from a list of matching visualizations.\n\t *\n\t * This method first attempts to find an exact match for the target URL of the activity among the matching visualizations.\n\t * If no exact match is found, it uses the URLParsingService to compare parameters of the target URLs to find the best match.\n\t * It then updates the activity information with the best matching visualization.\n\t *\n\t * @private\n\t * @param {IActivity} activity - The activity for which to find the best matching visualization.\n\t * @param {IVisualization[]} matchingVisualizations - A list of visualizations that match the activity.\n\t * @param {URLParsing} URLParsingService - A service used to parse and compare target URLs.\n\t * @returns {IVisualization | undefined} The best matching visualization, or undefined if no match is found.\n\t */\n\tprivate _findBestMatchingVisualization(activity: IActivity, matchingVisualizations: IVisualization[], URLParsingService: URLParsing) {\n\t\t//if there are multiple matching apps, compare the target urls\n\t\tconst matchedVisualization = matchingVisualizations.find((matchingViz) => matchingViz.targetURL === activity.url);\n\t\tif (matchedVisualization) {\n\t\t\treturn this._updateActivityInfo(activity, matchedVisualization);\n\t\t} else {\n\t\t\t//edge cases, when no exact targetUrl match\n\t\t\tconst matchedVisualizationCache = new Map<string, object>();\n\t\t\tconst matchedVisualizations: { viz: IVisualization; params: unknown; prio: number }[] = [];\n\n\t\t\tmatchingVisualizations.forEach((visualization) => {\n\t\t\t\tconst targetURL: string = visualization.targetURL;\n\t\t\t\tif (!matchedVisualizationCache.get(targetURL)) {\n\t\t\t\t\tconst matchedVisualization = {\n\t\t\t\t\t\tviz: visualization,\n\t\t\t\t\t\tparams: (URLParsingService.parseShellHash(visualization.targetURL) as { params: { [key: string]: unknown[] } })\n\t\t\t\t\t\t\t.params,\n\t\t\t\t\t\tprio: 0\n\t\t\t\t\t};\n\t\t\t\t\tmatchedVisualizationCache.set(targetURL, matchedVisualization);\n\t\t\t\t\tmatchedVisualizations.push(matchedVisualization);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst filteredVisualizations = matchedVisualizations.filter((matchedVisualization) =>\n\t\t\t\tthis._filterMatchingVisualization(activity, matchedVisualization, URLParsingService)\n\t\t\t);\n\t\t\tif (filteredVisualizations.length) {\n\t\t\t\t// more than 1 matching condition for unique targetUrls\n\t\t\t\t// this could be either because there is exact match and/or also allItems true and/or no params in VizData param keys\n\t\t\t\t// then find best match possible, based on prio\n\t\t\t\tfilteredVisualizations.sort((val1, val2) => val1.prio - val2.prio);\n\t\t\t\treturn this._updateActivityInfo(activity, filteredVisualizations[0].viz);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Filters matching visualizations based on activity parameters and assigns priority.\n\t *\n\t * This method compares the parameters of the activity with those of a matched visualization\n\t * to determine if they match.\n\t *\n\t * @private\n\t * @returns {boolean} Returns true if the visualization matches the activity, false otherwise.\n\t */\n\tprivate _filterMatchingVisualization(\n\t\tactivity: IActivity,\n\t\tmatchedVisualization: { viz: IVisualization; params: unknown; prio: number },\n\t\tURLParsingService: URLParsing\n\t) {\n\t\tconst parshedShellHash = URLParsingService.parseShellHash(activity.url) as { params: { [key: string]: unknown[] } };\n\t\tconst activityParameters = parshedShellHash.params;\n\n\t\tconst activityParameterKeys = Object.keys(activityParameters);\n\t\tconst visualizationParams = matchedVisualization.params as { [key: string]: unknown[] };\n\t\t//filter keys other than 'allItems', for myinbox tasks allItems key is a generally common key hence filter that\n\t\tconst visualizationParamKeys = Object.keys(visualizationParams).filter((key) => key !== \"allItems\");\n\t\tif (visualizationParamKeys.length === activityParameterKeys.length) {\n\t\t\tconst bMatch = activityParameterKeys.every(\n\t\t\t\t(key) => visualizationParamKeys.includes(key) && visualizationParams[key][0] === activityParameters[key][0]\n\t\t\t);\n\t\t\tif (bMatch) {\n\t\t\t\tmatchedVisualization.prio = 1;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (!visualizationParamKeys.length) {\n\t\t\t//this could mean either visualizationParamKeys did not have any key or the only key present was 'allItems'\n\t\t\t//if 'allItems' present give prio 2 else prio 3\n\t\t\tmatchedVisualization.prio = Object.keys(matchedVisualization.params as { [key: string]: unknown[] }).length ? 2 : 3;\n\t\t\treturn true;\n\t\t}\n\t\t//filtered visualizationParamKeys length doesnt match aAppParamKeys length & visualizationParamKeys length is not 0\n\t\treturn false;\n\t}\n\n\t/**\n\t * Converts given user activity to vizualization\n\t * @private\n\t * @param {object} activity - User Activity.\n\t * @param {object[]} catalogVisualizations - array of all available visualizations in catalog.\n\t * @param {object} URLParsingService - URL parsing service.\n\t * @returns {object} - visualization\n\t */\n\tprivate _convertToVisualization(activity: IActivity, catalogVisualizations: IVisualization[], URLParsingService: URLParsing) {\n\t\tthis._catalogVisualizationCache = this._catalogVisualizationCache || new Map<string, IVisualization>();\n\t\tconst catalogVisualization = this._catalogVisualizationCache.get(activity.orgAppId);\n\t\tif (catalogVisualization) {\n\t\t\treturn this._updateActivityInfo(activity, catalogVisualization);\n\t\t} else {\n\t\t\tconst matchingVisualizations = catalogVisualizations.filter(\n\t\t\t\t(visualization) =>\n\t\t\t\t\tvisualization.vizId && `#${visualization.target?.semanticObject}-${visualization.target?.action}` === activity.orgAppId\n\t\t\t);\n\t\t\tif (matchingVisualizations.length > 1) {\n\t\t\t\treturn this._findBestMatchingVisualization(activity, matchingVisualizations, URLParsingService);\n\t\t\t} else if (matchingVisualizations.length === 1) {\n\t\t\t\treturn this._updateActivityInfo(activity, matchingVisualizations[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds visualization to favorite apps\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprotected async _addAppToFavorites(event: Event) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst vizId = app.getVizId?.();\n\t\t\tif (vizId) {\n\t\t\t\t//Add Apps to the 'Recently Added Apps' section\n\t\t\t\tawait this.appManagerInstance.addVisualization(vizId);\n\t\t\t\tawait (this.getParent?.() as AppsContainer)._refreshAllPanels();\n\t\t\t\tconst message = this._i18nBundle.getText(\"appMovedToFavorites\", [app.getTitle()]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the panel is loaded. If the panel is not loaded then placholders are shown otherwise not\n\t * @private\n\t * @returns {boolean} true if the panel is loaded, false otherwise.\n\t */\n\tpublic isLoaded(): boolean {\n\t\treturn this._isLoaded;\n\t}\n\n\t/**\n\t * Set the loaded status of the app panel.\n\t * @private\n\t * @param {boolean} val - The new loaded status to set for the app panel.\n\t */\n\tpublic setLoaded(val: boolean): void {\n\t\tthis._isLoaded = val;\n\t}\n\n\t/**\n\t * Returns the dirty status of the app panel. If the panel is dirty then only re-render the apps\n\t * @private\n\t * @returns {boolean} true if the panel is dirty, false otherwise.\n\t */\n\tpublic isDirty(): boolean {\n\t\treturn this._isDirty;\n\t}\n\n\t/**\n\t * Set the dirty status of the app panel.\n\t * @private\n\t * @param {boolean} val - The new dirty status to set for the app panel.\n\t */\n\tpublic setDesktopViewDirty(val: boolean): void {\n\t\tthis._isDirty = val;\n\t}\n\n\t/**\n\t * Returns the dirty status of the app mobile panel. If the panel is dirty then only re-render the apps\n\t * @private\n\t * @returns {boolean} true if the panel is dirty, false otherwise.\n\t */\n\tpublic isMobileDirty(): boolean {\n\t\treturn this._isMobileDirty;\n\t}\n\n\t/**\n\t * Set the dirty status of the app mobile panel.\n\t * @private\n\t * @param {boolean} val - The new dirty status to set for the app mobile panel.\n\t */\n\tpublic setMobileViewDirty(val: boolean): void {\n\t\tthis._isMobileDirty = val;\n\t}\n\n\t/**\n\t * Sets aggregation for give control.\n\t * @param {Object} control - Control for which aggregation has to be set.\n\t * @param {Object[]} items - Items to be added in aggregation.\n\t * @param {string} aggregationName - Aggregation name\n\t * @private\n\t */\n\tpublic _setAggregation = function (control: Control | Group, items: Control[] | App[] = [], aggregationName = \"items\") {\n\t\titems.forEach((oItem) => {\n\t\t\tcontrol.addAggregation(aggregationName, oItem, true);\n\t\t});\n\t};\n\n\t/**\n\t * Sets the busy state of panel.\n\t * @private\n\t * @param {boolean} isBusy - Indicates whether the panel should be set to busy state.\n\t */\n\tprotected setBusy(isBusy: boolean) {\n\t\tconst oAppsWrapper = this._generateAppsWrapper();\n\t\toAppsWrapper.setBusy(isBusy);\n\t}\n\n\t/**\n\t * Retrieves the group with the specified group Id.\n\t * @private\n\t * @param {string} groupId - The Id of the group.\n\t * @returns {sap.cux.home.Group} The group with the specified group Id, or null if not found.\n\t */\n\tprotected _getGroup(groupId: string) {\n\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\treturn groups.find((group) => group.getGroupId() === groupId);\n\t}\n\n\t/**\n\t * Checks if the panel is supported.\n\t * @returns {boolean} True if the panel is supported, false otherwise.\n\t * @private\n\t */\n\tpublic isSupported() {\n\t\treturn this._isSupported;\n\t}\n\n\t/**\n\t * Sets panel as supported or unsupported.\n\t * @param {boolean} isSupported true if the panel is supported, false otherwise.\n\t * @private\n\t */\n\tpublic setSupported(isSupported: boolean) {\n\t\tthis._isSupported = isSupported;\n\t}\n\n\t/**\n\t * Attaches user activity tracking based on the configuration.\n\t * If user activity tracking is enabled, it listens to changes in tracking activity configuration\n\t * and fires a 'supported' event accordingly.\n\t * @private\n\t */\n\tprotected _attachUserActivityTracking() {\n\t\tif (Config.last(\"/core/shell/enableRecentActivity\")) {\n\t\t\tConfig.on(\"/core/shell/model/enableTrackingActivity\").do((isTrackingActivityEnabled: boolean) => {\n\t\t\t\tthis.setSupported(isTrackingActivityEnabled);\n\t\t\t\tthis.fireSupported({ isSupported: isTrackingActivityEnabled });\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Refreshes the panel.\n\t * @public\n\t */\n\tprotected async refresh() {\n\t\tawait (this.getParent() as AppsContainer).refreshPanel(this);\n\t}\n\n\t/**\n\t * Generates default illustrated message for panel.\n\t * @private\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message for panel.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tif (!this._errorMessage) {\n\t\t\tthis._errorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Base,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noData\")\n\t\t\t}).addStyleClass(\"appsSectionMessageCard\");\n\t\t}\n\t\treturn this._errorMessage;\n\t}\n\n\t/**\n\t * Applies the selected color to an ungrouped tile.\n\t * @param {sap.cux.home.App | sap.cux.home.Group} item - The item control.\n\t * @param {string} color - The selected color.\n\t * @private\n\t */\n\tprotected _applyUngroupedTileColor(item: App | Group, color: string) {\n\t\tconst tiles: GenericTile[] = this.fetchTileVisualization();\n\t\tconst groupId = item instanceof Group ? item.getGroupId() : null;\n\t\tconst updatedTileIndex = tiles.findIndex((tile) =>\n\t\t\tgroupId ? tile.data(\"groupId\") === groupId : tile.getUrl() === getLeanURL((item as App).getUrl())\n\t\t);\n\t\ttiles[updatedTileIndex]?.setBackgroundColor(color);\n\t}\n\n\t/**\n\t * Exit lifecycle method.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic exit() {\n\t\tthis._controlMap.forEach((control) => {\n\t\t\tcontrol.destroy();\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":31,"column":0},"map":{"version":3,"names":["sap","ui","define","EventBus","__BaseAppPanel","__Group","___utils_CommonUtils","___utils_Constants","___utils_DataFormatUtils","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseAppPanel","Group","getPageManagerInstance","DEFAULT_APP_ICON","DEFAULT_BG_COLOR","FALLBACK_ICON","MYHOME_PAGE_ID","getLeanURL","PersonalisationUtils","UshellPersonalizer","BaseAppPersPanel","extend","metadata","library","properties","persContainerId","type","group","defaultValue","visibility","constructor","_constructor","id","settings","BaseAppPanel.prototype.constructor.call","this","firstLoad","init","_init","BaseAppPanel.prototype.init.call","_eventBus","getInstance","subscribe","applyPersonalization","_getPersonalizer","_this","_getPersContainerId","Error","Promise","resolve","getOwnerComponent","e","reject","getPersonalization","_getPersonalization","_this2","then","personalizer","read","persData","setPersonalization","_setPersonalization","_this3","write","_getAppPersonalization","_this4","personalization","favoriteApps","setFavAppsPersonalization","_setFavAppsPersonalization","appsPersonalization","_this5","_temp","_applyPersonalization","shouldReload","_this6","tiles","fetchTileVisualization","_applyTilesPersonalization","undefined","groupId","_this7","all","_getFavPages","personalizations","favPages","appManagerInstance","_getAllFavPageApps","favPageVisualizations","groups","getAggregation","apps","_getGroup","getApps","tile","item","_getItem","color","icon","_getItemPersonalization","setProperty","setBackgroundColor","setTileIcon","tileGroupId","data","find","oGroup","getGroupId","oApp","getUrl","isSection","sectionId","BGColor","app","appIds","oldAppId","push","vizId","getVizId","appId","includes","oPersonalization","getMetadata","getName","isRecentlyAddedApp","favPageVisualization","oVisualization","colorInfo","key","panelName","_getFavAppIcon","getAppIcon","_this8","_getPageManagerInstance","getFavoritePages","aFavPages","concat","pageId","_getAppIcon","favPageIcon","getIcon","_pageManagerInstance","getProperty","getPersContainerId"],"sources":["BaseAppPersPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GenericTile from \"sap/m/GenericTile\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport BaseAppPanel from \"./BaseAppPanel\";\nimport { $BaseAppPersPanelSettings } from \"./BaseAppPersPanel\";\nimport Group from \"./Group\";\nimport { IAppPersonalization, ICustomVisualization, IItemPersonalization } from \"./interface/AppsInterface\";\nimport { getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { DEFAULT_APP_ICON, DEFAULT_BG_COLOR, FALLBACK_ICON, MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport { getLeanURL } from \"./utils/DataFormatUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\n/**\n *\n * Provides the BaseAppPersPanel Class which is BaseAppPanel with personalisation.\n *\n * @extends sap.cux.home.BaseAppPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @private\n *\n * @alias sap.cux.home.BaseAppPersPanel\n */\nexport default abstract class BaseAppPersPanel extends BaseAppPanel {\n\tprivate _pageManagerInstance!: PageManager;\n\tprivate _eventBus!: EventBus;\n\tprivate firstLoad = true;\n\n\tconstructor(idOrSettings?: string | $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings);\n\tconstructor(id?: string, settings?: $BaseAppPersPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tpersContainerId: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis._eventBus = EventBus.getInstance();\n\t\t//apply personalization on page update\n\t\tthis._eventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.applyPersonalization(!this.firstLoad);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the personalizer instance.\n\t * @returns {Promise<sap.cux.home.UshellPersonalizer>} A promise resolving to the personalizer instance.\n\t * @throws {Error} Throws an error if no container ID is provided for personalization.\n\t * @private\n\t */\n\tprivate async _getPersonalizer() {\n\t\tconst persContainerId = this._getPersContainerId();\n\t\tif (!persContainerId) {\n\t\t\tthrow new Error(\"No Container ID Provided for personalisation!\");\n\t\t}\n\t\tconst personalizer = await UshellPersonalizer?.getInstance(\n\t\t\tpersContainerId,\n\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t);\n\t\treturn personalizer;\n\t}\n\n\t/**\n\t * Retrieves personalization data.\n\t * @returns {Promise<IPersonalizationData>} A promise that resolves with the personalization data.\n\t * @private\n\t */\n\tprotected async getPersonalization() {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tconst persData = await personalizer?.read();\n\t\treturn persData || {};\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IPersonalizationData} persData - The personalization data to set.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setPersonalization(persData: IPersonalizationData) {\n\t\tconst personalizer = await this._getPersonalizer();\n\t\tawait personalizer.write(persData);\n\t}\n\n\t/**\n\t * Returns array of personalized favorite apps\n\t *\n\t * @returns {Promise} resolves to return array of personalized favorite apps\n\t */\n\tprotected async _getAppPersonalization() {\n\t\tconst personalization = await this.getPersonalization();\n\t\treturn personalization?.favoriteApps || ([] as IAppPersonalization[]);\n\t}\n\n\t/**\n\t * Sets the personalization data.\n\t * @param {IAppPersonalization[]} appsPersonalization - Personalization data for favorite apps.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is set.\n\t * @private\n\t */\n\tprotected async setFavAppsPersonalization(appsPersonalization: IAppPersonalization[]): Promise<void> {\n\t\tlet personalization = await this.getPersonalization();\n\t\tif (personalization) {\n\t\t\tpersonalization.favoriteApps = appsPersonalization;\n\t\t\tawait this.setPersonalization(personalization);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization settings to the tiles.\n\t * Retrieves tiles from the generated apps wrapper and applies personalization settings to each tile.\n\t * Personalization settings include background color and icon customization.\n\t * @param {boolean} [shouldReload=true] - A flag indicating whether to reload page visualizations.\n\t * @private\n\t * @async\n\t */\n\tpublic async applyPersonalization(shouldReload: boolean = false) {\n\t\tlet tiles = this.fetchTileVisualization();\n\t\tawait this._applyTilesPersonalization(tiles, undefined, shouldReload);\n\t\tif (this.firstLoad) {\n\t\t\tthis.firstLoad = false;\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization settings to the provided tiles.\n\t * @param {Array} tiles - An array of tiles to apply personalization settings to.\n\t * @param {string} [groupId] - Optional group ID for filtering personalization settings.\n\t * @param {boolean} [shouldReload=true] - A flag indicating whether to reload page visualizations.\n\t * @returns {Promise<void>} A promise that resolves when personalization settings are applied to the tiles.\n\t * @private\n\t */\n\tprotected async _applyTilesPersonalization(tiles: GenericTile[], groupId?: string, shouldReload = false) {\n\t\tconst [personalizations, favPages] = await Promise.all([this._getAppPersonalization(), this._getFavPages()]);\n\t\tconst favPageVisualizations = await this.appManagerInstance._getAllFavPageApps(favPages, shouldReload);\n\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\tconst apps = groupId ? this._getGroup(groupId)?.getApps() || [] : this.getApps() || [];\n\t\tfor (const tile of tiles) {\n\t\t\tconst item = this._getItem(tile, groups, apps);\n\t\t\tconst { color, icon } = this._getItemPersonalization(item, personalizations, favPageVisualizations, groupId);\n\n\t\t\tif (color) {\n\t\t\t\titem?.setProperty(\"bgColor\", color, true);\n\t\t\t\ttile.setBackgroundColor(color);\n\t\t\t}\n\n\t\t\tif (icon) {\n\t\t\t\titem?.setProperty(\"icon\", icon, true);\n\t\t\t\ttile.setTileIcon(icon);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the corresponding App or Group object associated with the given tile.\n\t * @param {GenericTile} tile - The tile for which to retrieve the corresponding item.\n\t * @param {Group[]} groups - An array of Group objects.\n\t * @param {App[]} apps - An array of App objects.\n\t * @returns {App | Group | undefined} The corresponding App or Group object, or undefined if not found.\n\t * @private\n\t */\n\tprivate _getItem(tile: GenericTile, groups: Group[], apps: App[]): App | Group | undefined {\n\t\tconst tileGroupId = tile.data(\"groupId\") as string | undefined;\n\t\tif (tileGroupId) {\n\t\t\treturn groups.find((oGroup) => oGroup.getGroupId() === tileGroupId);\n\t\t} else {\n\t\t\treturn apps.find((oApp) => getLeanURL(oApp.getUrl()) === tile.getUrl());\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the color and icon associated with the specified item based on personalizations.\n\t * @param {App | Group | undefined} item - The App or Group object for which to retrieve personalization data.\n\t * @param {IAppPersonalization[] | undefined} personalizations - An array of personalization objects.\n\t * @param {ICustomVisualization[]} favPageVisualizations - An array of favorite page visualizations.\n\t * @param {string | undefined} groupId - The ID of the group to which the item belongs.\n\t * @returns {IItemPersonalization} An object containing the color and icon associated with the item.\n\t * @private\n\t */\n\tprivate _getItemPersonalization(\n\t\titem: App | Group | undefined,\n\t\tpersonalizations: IAppPersonalization[] | undefined,\n\t\tfavPageVisualizations: ICustomVisualization[],\n\t\tgroupId?: string\n\t): IItemPersonalization {\n\t\tlet color: string = \"\";\n\t\tlet icon: string = \"\";\n\n\t\tif (!item) return { color, icon };\n\n\t\tif (item instanceof Group) {\n\t\t\tconst personalization = personalizations?.find(\n\t\t\t\t(personalization) => personalization.isSection && personalization.sectionId === item.getGroupId()\n\t\t\t);\n\t\t\tcolor = personalization?.BGColor as string;\n\t\t} else {\n\t\t\tconst app = item;\n\t\t\tconst appIds = [app.getUrl()];\n\t\t\tconst oldAppId = app.data(\"oldAppId\") as string | undefined;\n\t\t\tif (oldAppId) {\n\t\t\t\tappIds.push(oldAppId);\n\t\t\t}\n\t\t\tconst vizId = app.getVizId();\n\t\t\tconst personalization = groupId\n\t\t\t\t? personalizations?.find(\n\t\t\t\t\t\t(personalization) =>\n\t\t\t\t\t\t\t!personalization.isSection &&\n\t\t\t\t\t\t\tpersonalization.sectionId === groupId &&\n\t\t\t\t\t\t\tpersonalization.appId &&\n\t\t\t\t\t\t\tappIds.includes(personalization.appId)\n\t\t\t\t\t)\n\t\t\t\t: personalizations?.find((oPersonalization) =>\n\t\t\t\t\t\tthis?.getMetadata().getName() === \"sap.cux.home.FavAppPanel\"\n\t\t\t\t\t\t\t? oPersonalization.isRecentlyAddedApp && oPersonalization.appId && appIds.includes(oPersonalization.appId)\n\t\t\t\t\t\t\t: oPersonalization.appId && appIds.includes(oPersonalization.appId)\n\t\t\t\t\t);\n\t\t\tconst favPageVisualization = favPageVisualizations.find(\n\t\t\t\t(oVisualization) => oVisualization.vizId === vizId || (oVisualization.appId && appIds.includes(oVisualization.appId))\n\t\t\t);\n\t\t\tconst colorInfo = personalization?.BGColor || favPageVisualization?.BGColor || DEFAULT_BG_COLOR().key;\n\t\t\tconst panelName = this?.getMetadata().getName();\n\t\t\tcolor = typeof colorInfo === \"object\" ? colorInfo.key : colorInfo;\n\t\t\ticon =\n\t\t\t\tpanelName === \"sap.cux.home.FavAppPanel\" || panelName === \"sap.cux.home.SpacePanel\"\n\t\t\t\t\t? this._getFavAppIcon(app, favPageVisualization?.icon)\n\t\t\t\t\t: this.getAppIcon();\n\t\t}\n\n\t\treturn { color, icon };\n\t}\n\n\t/**\n\t * Retrieves favorite pages.\n\t * @returns {Promise<Array>} A promise that resolves with an array of favorite pages.\n\t * @private\n\t */\n\tprivate async _getFavPages() {\n\t\tconst aFavPages = await this._getPageManagerInstance().getFavoritePages();\n\t\treturn aFavPages.concat({\n\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\tBGColor: DEFAULT_BG_COLOR().key\n\t\t});\n\t}\n\n\t/**\n\t * Returns default app icon.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprotected getAppIcon(): string {\n\t\treturn DEFAULT_APP_ICON;\n\t}\n\n\t/**\n\t * Retrieves the icon for the specified app, prioritizing the favorite page icon if available.\n\t * @param {sap.cux.home.App} app - The app object.\n\t * @param {string} favPageIcon - The icon for the app from the favorite page.\n\t * @returns {string} The icon URL for the app.\n\t * @private\n\t */\n\tprivate _getFavAppIcon(app?: App, favPageIcon?: string): string {\n\t\treturn favPageIcon || app?.getIcon() || FALLBACK_ICON;\n\t}\n\n\tprivate _getPageManagerInstance() {\n\t\tthis._pageManagerInstance = this._pageManagerInstance || getPageManagerInstance(this);\n\t\treturn this._pageManagerInstance;\n\t}\n\n\tprivate _getPersContainerId(): string {\n\t\tlet persContainerId = this.getProperty(\"persContainerId\") as string;\n\t\tif (!persContainerId) {\n\t\t\tpersContainerId = PersonalisationUtils.getPersContainerId(this);\n\t\t}\n\t\treturn persContainerId;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":36,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","FlexBox","HBox","IconTabBar","List","Popover","StandardListItem","Title","sap_m_library","Control","CustomData","UI5Element","HTML","Lib","__BaseContainerRenderer","__BasePanel","__MenuItem","___library","___utils_Accessibility","___utils_DataFormatUtils","___utils_Device","___utils_FESRUtil","___utils_PerformanceUtils","__SideBySideIconTabFilter","_interopRequireDefault","obj","__esModule","default","BackgroundDesign","ButtonType","PlacementType","BaseContainerRenderer","BasePanel","MenuItem","OrientationType","getInvisibleText","recycleId","calculateDeviceType","DeviceType","addFESRId","addFESRSemanticStepName","FESR_EVENTS","getFESRId","recordElementLoadEnd","recordElementLoadStart","SideBySideIconTabFilter","BaseContainer","extend","renderer","metadata","library","properties","title","type","group","defaultValue","orientation","SideBySide","selectedKey","visibility","width","height","blocked","busy","busyIndicatorDelay","busyIndicatorSize","fieldGroupIds","visible","enableSettings","enableFullScreen","fullScreenName","enableLazyLoad","loaded","defaultAggregation","aggregations","content","singularName","multiple","actionButtons","menuItems","_placeholder","associations","layout","fullScreenButton","fullScreenMenuItem","events","onExpand","designtime","adjustLayout","_adjustLayout","load","_load","constructor","_constructor","id","settings","Control.prototype.constructor.call","this","_exemptedActions","init","_init","_controlMap","Map","_commonHeaderElementStates","_i18nBundle","getResourceBundleFor","_createHeader","containerCustomSettings","getId","key","value","addCustomData","placeholderContent","getGenericPlaceholderContent","setAggregation","getCustomSettings","_getCustomSettings","data","addCustomSetting","_addCustomSetting","control","controlId","isPanel","hasContainerTitle","getProperty","trim","length","get","set","renderType","addStyleClass","justifyContent","items","alignItems","addDependent","setTitleStyle","_getHeader","_getInnerControl","_iconTabBar","_wrapper","_onPanelSelect","event","setProperty","getParameter","_updateContainerHeader","_setPanelCount","panel","count","_getIconTabFilter","setCount","iconTabFilter","writeToDom","SELECT","onBeforeRendering","_onBeforeRendering","defaultKey","getContent","_createInnerControl","_addAllPanelContent","getVisible","_loadContent","_markPerformanceMetrics","onAfterRendering","_onAfterRendering","_attachResizeHandler","_observeContainer","_hidePanelHeaderIfSinglePanel","isSideBySideLayout","hasOnlyOnePanel","toggleStyleClass","getDomRef","_resizeObserver","disconnect","ResizeObserver","entries","_resizeTimeout","clearTimeout","window","setTimeout","_setDeviceType","observe","_detachResizeHandler","target","_containerObserver","IntersectionObserver","forEach","entry","isIntersecting","rootMargin","threshold","Horizontal","Vertical","setDirection","expandable","backgroundDesign","Transparent","headerMode","headerBackgroundDesign","select","isContainer","targetControl","removeAllItems","_updateHeader","headerTitle","setText","setVisible","_getLayout","_addLayoutHeaderElements","currentControl","_getSelectedPanel","_filterVisibleHeaderElements","getMenuItems","_addMenuItems","getAggregation","actionButton","addItem","_getHeaderButton","attachHeaderElements","elements","property","aggregation","headerElement","_getFullScreenMenuItem","_getHomeSettingsMenuItem","_getFullScreenButton","currentPropertyValue","previousPropertyValue","addAggregation","removeAggregation","setFullScreenElementRelations","isFullScreenEnabled","panels","_setupFullScreenElements","setupFullScreenElement","registerFullScreenElement","deregisterFullScreenElement","updateFullScreenElement","index","indexOfItem","_setFullScreenElementRelations","relation","targetAggregation","setAssociation","removeAssociation","menuItem","getText","icon","press","openSettingsDialog","toggleFullScreen","text","push","find","setSelectedKey","getPanelHeader","_getPanelHeader","header","isTitleVisible","getActionButtons","filter","element","_setTitle","list","itemPress","getSource","getParent","close","invisiblePopoverText","menuPopover","placement","VerticalPreferredBottom","showHeader","ariaLabelledBy","containerTitleId","menuButton","tooltip","openBy","item","_getMenuListItem","headerButton","firePress","PRESS","button","setTooltip","getTooltip","setIcon","getIcon","setEnabled","getEnabled","getElementById","getAssociation","getTitle","menuListItem","setTitle","toggleMenuListItem","_toggleMenuListItem","show","toggleActionButton","_toggleActionButton","actionButtonControl","removeContent","_removeContent","undefined","getWidth","_getWidth","toggleActionButtons","_toggleActionButtons","visibilityChanged","currentVisibility","includes","toggleFullScreenElements","_toggleFullScreenElements","fullScreenMenuButton","isPhone","getDeviceType","Mobile","parent","elementVisibilityChanged","fullScreenElement","elementKey","getKey","parentLayout","parentNode","clientWidth","deviceType","_deviceType","_getDeviceType","elementName","getMetadata","getName","attachEventOnce","exit","_exit","destroy","_getGenericPlaceholderContent"],"sources":["BaseContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport IconTabBar, { IconTabBar$SelectEvent } from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Title from \"sap/m/Title\";\nimport { BackgroundDesign, ButtonType, PlacementType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport HTML from \"sap/ui/core/HTML\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { CSSSize } from \"sap/ui/core/library\";\nimport { $BaseContainerSettings } from \"./BaseContainer\";\nimport BaseContainerRenderer from \"./BaseContainerRenderer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport MenuItem from \"./MenuItem\";\nimport { OrientationType } from \"./library\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { calculateDeviceType, DeviceType } from \"./utils/Device\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\nimport { recordElementLoadEnd, recordElementLoadStart, UIElements } from \"./utils/PerformanceUtils\";\nimport SideBySideIconTabFilter from \"./SideBySideIconTabFilter\";\n\ntype FullScreenElementRelation = {\n\tisFullScreenEnabled: boolean;\n\tcontrol: BaseContainer | BasePanel;\n\taggregation: string;\n\theaderElement: MenuItem | Button;\n};\n\n/**\n *\n * Abstract base class for all container controls in the Home Page Layout.\n *\n * @extends sap.ui.core.Control\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @ui5-metamodel\n * @alias sap.cux.home.BaseContainer\n */\nexport default abstract class BaseContainer extends Control {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _controlMap!: Map<string, Control | UI5Element>;\n\tprivate _wrapper!: FlexBox;\n\tprivate _iconTabBar!: IconTabBar;\n\tprivate _commonHeaderElementStates!: Map<string, boolean>;\n\tprivate _resizeObserver!: ResizeObserver;\n\tprivate _deviceType!: DeviceType;\n\tprivate _containerObserver!: IntersectionObserver;\n\tprivate _exemptedActions: string[] = [];\n\tpublic adjustLayout() {}\n\tprotected load() {}\n\tprivate _resizeTimeout!: number;\n\n\tconstructor(id?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\t/**\n\t * Constructor for a new Base Container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the container.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Data\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Orientation of the container.\n\t\t\t */\n\t\t\torientation: {\n\t\t\t\ttype: \"sap.cux.home.OrientationType\",\n\t\t\t\tgroup: \"Data\",\n\t\t\t\tdefaultValue: OrientationType.SideBySide\n\t\t\t},\n\t\t\t/**\n\t\t\t * Key of the selected panel of the container.\n\t\t\t */\n\t\t\tselectedKey: { type: \"string\", group: \"Data\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Width to be set for the container.\n\t\t\t * @public\n\t\t\t */\n\t\t\twidth: { type: \"sap.ui.core.CSSSize\", group: \"Appearance\", defaultValue: \"100%\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Height to be set for the container.\n\t\t\t * @public\n\t\t\t */\n\t\t\theight: { type: \"sap.ui.core.CSSSize\", group: \"Appearance\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Whether the control is currently in blocked state.\n\t\t\t */\n\t\t\tblocked: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout is currently in busy state.\n\t\t\t */\n\t\t\tbusy: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The delay in milliseconds, after which the busy indicator will show up for this control.\n\t\t\t */\n\t\t\tbusyIndicatorDelay: { type: \"int\", defaultValue: 1000, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The size of the BusyIndicator.\n\t\t\t */\n\t\t\tbusyIndicatorSize: { type: \"sap.ui.core.BusyIndicatorSize\", defaultValue: \"Medium\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The IDs of a logical field group that this control belongs to.\n\t\t\t */\n\t\t\tfieldGroupIds: { type: \"string[]\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The visible property of the container.\n\t\t\t */\n\t\t\tvisible: { type: \"boolean\", group: \"Appearance\", defaultValue: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether home settings are enabled for this control.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t * This property specifies the parameter key expected in the URL query string\n\t\t\t * to identify the container to be expanded.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether lazy loading is enabled for this control.\n\t\t\t */\n\t\t\tenableLazyLoad: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates if the container is loaded.\n\t\t\t */\n\t\t\tloaded: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * The container content aggregation which should be of type BasePanel.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcontent: { type: \"sap.cux.home.BasePanel\", singularName: \"content\", multiple: true, visibility: \"public\" },\n\t\t\t/**\n\t\t\t * This aggregation contains the actions that should be displayed within the container.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * This aggregation holds the items that should be shown within the dropdown menu of the container.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Hidden aggregation for placeholder.\n\t\t\t */\n\t\t\t_placeholder: { type: \"sap.ui.core.HTML\", multiple: false, singularName: \"placeholder\", visibility: \"hidden\" }\n\t\t},\n\t\tassociations: {\n\t\t\tlayout: { type: \"sap.cux.home.BaseLayout\", multiple: false, singularName: \"layout\", visibility: \"hidden\" },\n\t\t\tfullScreenButton: { type: \"sap.m.Button\", multiple: false, singularName: \"fullScreenButton\", visibility: \"hidden\" },\n\t\t\tfullScreenMenuItem: { type: \"sap.cux.home.MenuItem\", multiple: false, singularName: \"fullScreenMenuItem\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired before the container is expanded.\n\t\t\t */\n\t\t\tonExpand: {}\n\t\t},\n\t\tdesigntime: true\n\t};\n\n\tstatic renderer: typeof BaseContainerRenderer = BaseContainerRenderer;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._controlMap = new Map();\n\t\tthis._commonHeaderElementStates = new Map();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t\tthis._createHeader(this);\n\n\t\t//create custom settings data\n\t\tconst containerCustomSettings = new CustomData(`${this.getId()}-custom-settings`, {\n\t\t\tkey: \"custom-settings\",\n\t\t\tvalue: {}\n\t\t});\n\t\tthis.addCustomData(containerCustomSettings);\n\n\t\t//create placeholder\n\t\tconst placeholderContent = this.getGenericPlaceholderContent();\n\t\tif (placeholderContent) {\n\t\t\tthis.setAggregation(\"_placeholder\", new HTML({ content: placeholderContent }), true);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the custom settings data associated with the container\n\t * @private\n\t */\n\tpublic getCustomSettings() {\n\t\treturn (this.data(\"custom-settings\") || {}) as Record<string, string>;\n\t}\n\n\t/**\n\t * Adds the Custom setting data for the Section\n\t * @private\n\t * @param {string} key - The key of the Custom setting data\n\t * @param {string} value - The value to set for the specified key\n\t */\n\tprotected addCustomSetting(key: string, value: string) {\n\t\t(this.data(\"custom-settings\") as Record<string, string>)[key] = value;\n\t}\n\n\t/**\n\t * Creates and returns header for both container as well as panels\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - can be a container or a panel\n\t * @returns {HBox} header for the given container or panel\n\t */\n\tprivate _createHeader(control: BaseContainer | BasePanel): HBox {\n\t\tconst controlId = control.getId();\n\t\tconst id = `${controlId}-header`;\n\t\tconst isPanel = control instanceof BasePanel;\n\t\tconst hasContainerTitle = (this.getProperty(\"title\") as string)?.trim().length > 0;\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//create header elements\n\t\t\tthis._controlMap.set(`${controlId}-header-title`, new Title(`${controlId}-title`));\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-contentLeft`,\n\t\t\t\tnew HBox(`${controlId}-contentLeft`, { renderType: \"Bare\" }).addStyleClass(\"sapCuxSectionContentArea\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-contentRight`,\n\t\t\t\tnew HBox(`${controlId}-contentRight`, { renderType: \"Bare\" }).addStyleClass(\"sapCuxSectionContentArea\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${controlId}-header-content`,\n\t\t\t\tnew HBox(`${controlId}-header-content`, {\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-contentLeft`) as Control,\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-contentRight`) as Control\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin\")\n\t\t\t);\n\n\t\t\t//create header container\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew HBox(`${controlId}-header`, {\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-title`) as Control,\n\t\t\t\t\t\tthis._controlMap.get(`${controlId}-header-content`) as Control\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.addDependent(this._controlMap.get(id) as Control);\n\t\t}\n\n\t\t//add control-specific styling\n\t\t(this._controlMap.get(id) as HBox)?.addStyleClass(isPanel && hasContainerTitle ? \"sapCuxPanelHeader\" : \"sapUiContainerHeader\");\n\t\t(this._controlMap.get(`${controlId}-header-title`) as Title).setTitleStyle(isPanel && hasContainerTitle ? \"H6\" : \"H4\");\n\n\t\treturn this._controlMap.get(id) as HBox;\n\t}\n\n\t/**\n\t * Returns container header\n\t *\n\t * @private\n\t * @returns {Object} container header\n\t */\n\tpublic _getHeader(): HBox {\n\t\treturn this._controlMap.get(`${this.getId()}-header`) as HBox;\n\t}\n\n\t/**\n\t * Returns inner control corresponding to the specified layout\n\t *\n\t * @private\n\t * @returns {IconTabBar | FlexBox} inner control based on the layout\n\t */\n\tpublic _getInnerControl(): IconTabBar | FlexBox {\n\t\treturn this.getProperty(\"orientation\") === OrientationType.SideBySide ? this._iconTabBar : this._wrapper;\n\t}\n\n\t/**\n\t * Handler for selection of panel in SideBySide layout\n\t *\n\t * @private\n\t * @param {Event} event - event object\n\t */\n\tprotected _onPanelSelect(event: IconTabBar$SelectEvent) {\n\t\t//suppress invalidation to prevent container re-rendering. render the specific header element instead\n\t\tthis.setProperty(\"selectedKey\", event.getParameter(\"selectedKey\"), true);\n\t\tthis._updateContainerHeader(this);\n\t}\n\n\t/**\n\t * Updates the count information of IconTabFilter of IconTabBar inner control\n\t * in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {BasePanel} panel - associated panel\n\t * @param {string} count - updated count\n\t */\n\tpublic _setPanelCount(panel: BasePanel, count?: string) {\n\t\tif (this.getProperty(\"orientation\") === OrientationType.SideBySide) {\n\t\t\tthis._getIconTabFilter(panel).setCount(count);\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns IconTabBarFilter for the specified panel to be placed\n\t * in the IconTabBar inner control in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel whose icon tab filter must be fetched\n\t * @returns {IconTabFilter} IconTabFilter for the specified panel\n\t */\n\tprivate _getIconTabFilter(panel: BasePanel): IconTabFilter {\n\t\tconst id = `${panel.getId()}-tabFilter`;\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst iconTabFilter = new SideBySideIconTabFilter(id, { panel });\n\t\t\ticonTabFilter.addCustomData(\n\t\t\t\tnew CustomData(`${panel.getId()}--customFilter`, {\n\t\t\t\t\tkey: \"sap-ui-fastnavgroup\",\n\t\t\t\t\tvalue: \"true\",\n\t\t\t\t\twriteToDom: true\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(id, iconTabFilter);\n\t\t\taddFESRSemanticStepName(iconTabFilter, FESR_EVENTS.SELECT, panel.getProperty(\"key\") as string);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as IconTabFilter;\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering(): void {\n\t\t// set selected key to the first panel key if not set\n\t\tif (this.getProperty(\"selectedKey\") === \"\") {\n\t\t\tconst defaultKey = this.getContent()?.[0]?.getProperty(\"key\") as string;\n\t\t\tthis.setProperty(\"selectedKey\", defaultKey, true);\n\t\t}\n\n\t\t//create layout-specific inner control\n\t\tthis._createInnerControl();\n\n\t\t//fetch and update container header\n\t\tthis._updateContainerHeader(this);\n\n\t\t//add content from all panels to inner control\n\t\tthis._addAllPanelContent();\n\n\t\t//load content if lazy loading is disabled\n\t\tif (this.getProperty(\"enableLazyLoad\") === false && !this.getProperty(\"loaded\") && this.getVisible()) {\n\t\t\tthis._loadContent();\n\t\t}\n\n\t\t// mark performance metrics\n\t\tthis._markPerformanceMetrics();\n\t}\n\n\t/**\n\t * onAfterRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onAfterRendering(): void {\n\t\tthis._attachResizeHandler();\n\n\t\t//observe container for lazy loading if enabled\n\t\tif (this.getProperty(\"enableLazyLoad\") as boolean) {\n\t\t\tthis._observeContainer();\n\t\t}\n\n\t\tthis._hidePanelHeaderIfSinglePanel();\n\t}\n\n\t/**\n\t * Hides the panel header if there is only one panel in the container,\n\t * in case of side-by-side orientation.\n\t *\n\t * @private\n\t */\n\tprivate _hidePanelHeaderIfSinglePanel(): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst hasOnlyOnePanel = this.getContent()?.length === 1;\n\t\tthis.toggleStyleClass(\"sapUiITBHide\", isSideBySideLayout && hasOnlyOnePanel);\n\t}\n\n\t/**\n\t * Loads the content for the container.\n\t *\n\t * @private\n\t */\n\tprivate _loadContent() {\n\t\tthis.setProperty(\"loaded\", true);\n\t\tthis.load?.();\n\t}\n\n\t/**\n\t * Attaches a resize handler to the container to adjust\n\t * the layout based on device size changes.\n\t *\n\t * @private\n\t */\n\tpublic _attachResizeHandler() {\n\t\tif (this.getDomRef() && this.getProperty(\"loaded\")) {\n\t\t\tthis._resizeObserver?.disconnect();\n\t\t\tthis._resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tif (this._resizeTimeout) {\n\t\t\t\t\tclearTimeout(this._resizeTimeout);\n\t\t\t\t}\n\n\t\t\t\t//debounce resize event to prevent multiple calls\n\t\t\t\tthis._resizeTimeout = window.setTimeout(() => {\n\t\t\t\t\tif (this.getVisible()) {\n\t\t\t\t\t\tthis._setDeviceType(entries);\n\t\t\t\t\t\tthis.adjustLayout();\n\t\t\t\t\t}\n\t\t\t\t}, 10) as unknown as number;\n\t\t\t});\n\t\t\tthis._resizeObserver?.observe(this.getDomRef() as Element);\n\t\t}\n\t}\n\n\t/**\n\t * Detaches the resize handler from the container.\n\t *\n\t * @private\n\t */\n\tpublic _detachResizeHandler() {\n\t\tthis._resizeObserver?.disconnect();\n\t}\n\n\t/**\n\t * Adds intersection observer for lazy loading of container\n\t *\n\t * @private\n\t */\n\tprivate _observeContainer(): void {\n\t\tconst target = this.getDomRef();\n\t\tif (!this._containerObserver) {\n\t\t\tthis._containerObserver = new IntersectionObserver(\n\t\t\t\t(entries) =>\n\t\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\t\tif (!this.getProperty(\"loaded\") && this.getVisible() && entry.isIntersecting) {\n\t\t\t\t\t\t\tthis._loadContent();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t{ rootMargin: \"0px\", threshold: 0.1 }\n\t\t\t);\n\t\t}\n\t\tthis._containerObserver?.disconnect();\n\t\t//observe container\n\t\tif (target) {\n\t\t\tthis._containerObserver.observe(target);\n\t\t}\n\t}\n\n\t/**\n\t * Create inner control for storing content from panel\n\t *\n\t * @private\n\t */\n\tprivate _createInnerControl(): void {\n\t\tconst layout = this.getProperty(\"orientation\") as OrientationType;\n\n\t\tif (layout === OrientationType.Horizontal || layout === OrientationType.Vertical) {\n\t\t\tif (!this._wrapper) {\n\t\t\t\tthis._wrapper = new FlexBox(`${this.getId()}-wrapper`, {\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\trenderType: \"Bare\"\n\t\t\t\t}).addStyleClass(\"sapCuxBaseWrapper\");\n\t\t\t\tthis.addDependent(this._wrapper);\n\t\t\t}\n\t\t\tthis._wrapper.setDirection(layout === OrientationType.Horizontal ? \"Row\" : \"Column\");\n\t\t} else if (!this._iconTabBar) {\n\t\t\tthis._iconTabBar = new IconTabBar(`${this.getId()}-iconTabBar`, {\n\t\t\t\texpandable: true,\n\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent,\n\t\t\t\theaderMode: \"Inline\",\n\t\t\t\theaderBackgroundDesign: BackgroundDesign.Transparent,\n\t\t\t\tselect: (event: Event) => this._onPanelSelect(event)\n\t\t\t});\n\t\t\tthis.addDependent(this._iconTabBar);\n\t\t}\n\t}\n\n\t/**\n\t * Update container header information\n\t *\n\t * @private\n\t */\n\tpublic _updateContainerHeader(control: BaseContainer | BasePanel): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst isContainer = control instanceof BaseContainer;\n\t\tconst targetControl = !isContainer && isSideBySideLayout ? this : control;\n\n\t\t//clear container header elements\n\t\t(this._controlMap.get(targetControl.getId() + \"-header-contentLeft\") as HBox)?.removeAllItems();\n\t\t(this._controlMap.get(targetControl.getId() + \"-header-contentRight\") as HBox)?.removeAllItems();\n\n\t\t//update container header elements\n\t\tthis._updateHeader(control);\n\t}\n\n\t/**\n\t * Updates header information of a specified container or a panel\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - can be container or panel\n\t */\n\tprivate _updateHeader(control: BaseContainer | BasePanel): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst isContainer = control instanceof BaseContainer;\n\n\t\t//Update Title\n\t\tconst headerTitle = this._controlMap.get(control.getId() + \"-header-title\") as Title;\n\t\theaderTitle?.setText(control.getProperty(\"title\") as string);\n\t\theaderTitle?.setVisible((control.getProperty(\"title\") as string)?.trim().length > 0);\n\n\t\t//Update Panel Header, if applicable\n\t\tif (!isContainer && isSideBySideLayout) {\n\t\t\tthis._getIconTabFilter(control)?.setText(control.getProperty(\"title\") as string);\n\t\t}\n\n\t\t//Add common header elements\n\t\tif (this._getLayout()) {\n\t\t\tthis._addLayoutHeaderElements();\n\t\t}\n\n\t\tconst currentControl = isContainer && isSideBySideLayout ? this._getSelectedPanel() : control;\n\t\tconst targetControl = !isContainer && isSideBySideLayout ? this : control;\n\n\t\t//Update Menu Items\n\t\tconst menuItems = this._filterVisibleHeaderElements(currentControl?.getMenuItems());\n\t\tif (menuItems.length > 0) {\n\t\t\tthis._addMenuItems(targetControl, menuItems);\n\t\t}\n\n\t\t//Update Action Buttons\n\t\t(currentControl?.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton: Button) => {\n\t\t\t(this._controlMap.get(targetControl.getId() + \"-header-contentRight\") as HBox)?.addItem(this._getHeaderButton(actionButton));\n\t\t});\n\t}\n\n\t/**\n\t * Attaches layout header elements like settings menu and full screen action to each\n\t * panel in the container, if enabled.\n\t *\n\t * @private\n\t */\n\tprivate _addLayoutHeaderElements(): void {\n\t\tconst attachHeaderElements = (control: BaseContainer | BasePanel) => {\n\t\t\tconst elements = [\n\t\t\t\t{ property: \"enableFullScreen\", aggregation: \"menuItems\", headerElement: this._getFullScreenMenuItem(control) },\n\t\t\t\t{ property: \"enableSettings\", aggregation: \"menuItems\", headerElement: this._getHomeSettingsMenuItem(control) },\n\t\t\t\t{ property: \"enableFullScreen\", aggregation: \"actionButtons\", headerElement: this._getFullScreenButton(control) }\n\t\t\t];\n\n\t\t\telements.forEach(({ property, aggregation, headerElement }) => {\n\t\t\t\tconst currentPropertyValue = control.getProperty(property) as boolean;\n\t\t\t\tconst previousPropertyValue = this._commonHeaderElementStates.get(`${headerElement.getId()}-${property}`);\n\n\t\t\t\t//update common header elements only if there's a change in property value\n\t\t\t\tif (currentPropertyValue !== previousPropertyValue) {\n\t\t\t\t\tthis._commonHeaderElementStates.set(`${headerElement.getId()}-${property}`, currentPropertyValue);\n\n\t\t\t\t\tif (currentPropertyValue) {\n\t\t\t\t\t\tcontrol.addAggregation(aggregation, headerElement);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontrol.removeAggregation(aggregation, headerElement);\n\t\t\t\t\t}\n\n\t\t\t\t\t// set full screen element relations\n\t\t\t\t\tif (property === \"enableFullScreen\") {\n\t\t\t\t\t\tthis.setFullScreenElementRelations({\n\t\t\t\t\t\t\tisFullScreenEnabled: currentPropertyValue,\n\t\t\t\t\t\t\tcontrol,\n\t\t\t\t\t\t\taggregation,\n\t\t\t\t\t\t\theaderElement\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Add common header elements for container\n\t\tattachHeaderElements(this);\n\n\t\t// Add common header elements for inner panels\n\t\tconst panels = this.getContent() || [];\n\t\tpanels.forEach(attachHeaderElements);\n\n\t\t// setup full screen elements if required\n\t\tthis._setupFullScreenElements();\n\t}\n\n\t/**\n\t * Register/Degister elements for full screen, if enabled.\n\t *\n\t * @private\n\t */\n\tprivate _setupFullScreenElements() {\n\t\tconst layout = this._getLayout();\n\t\tconst setupFullScreenElement = (control: BaseContainer | BasePanel) => {\n\t\t\tconst currentPropertyValue = control.getProperty(\"enableFullScreen\") as boolean;\n\t\t\tconst previousPropertyValue = this._commonHeaderElementStates.get(`${control.getId()}-enableFullScreen`);\n\n\t\t\tif (currentPropertyValue !== previousPropertyValue) {\n\t\t\t\tthis._commonHeaderElementStates.set(`${control.getId()}-enableFullScreen`, currentPropertyValue);\n\n\t\t\t\tif (currentPropertyValue) {\n\t\t\t\t\tlayout?.registerFullScreenElement(control);\n\t\t\t\t} else {\n\t\t\t\t\tlayout?.deregisterFullScreenElement(control);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update index of full screen element\n\t\t\tif (currentPropertyValue) {\n\t\t\t\tlayout?.updateFullScreenElement(control, {\n\t\t\t\t\tindex: layout?.indexOfItem(this)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// Register full screen elements for container\n\t\tsetupFullScreenElement(this);\n\n\t\t// Register full screen elements for inner panels\n\t\tconst panels = this.getContent() || [];\n\t\tpanels.forEach(setupFullScreenElement);\n\t}\n\n\t/**\n\t * Sets or removes the full screen element relations based on the provided configuration.\n\t *\n\t * @private\n\t * @param {FullScreenElementRelation} relation - The configuration object containing the full screen element relation details.\n\t * @param {boolean} relation.isFullScreenEnabled - Indicates whether full screen is enabled.\n\t * @param {Control} relation.control - The control to set or remove the association.\n\t * @param {string} relation.aggregation - The aggregation type (e.g., \"actionButtons\").\n\t * @param {Element} relation.headerElement - The header element to associate or disassociate.\n\t *\n\t * @returns {void}\n\t */\n\tprivate setFullScreenElementRelations(relation: FullScreenElementRelation): void {\n\t\tconst { isFullScreenEnabled, control, aggregation, headerElement } = relation;\n\t\tconst targetAggregation = aggregation === \"actionButtons\" ? \"fullScreenButton\" : \"fullScreenMenuItem\";\n\n\t\tif (isFullScreenEnabled) {\n\t\t\tcontrol.setAssociation(targetAggregation, headerElement, true);\n\t\t} else {\n\t\t\tcontrol.removeAssociation(targetAggregation, headerElement, true);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the my home settings menu item for a given panel.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} panel - The panel for which to retrieve the home settings menu item.\n\t * @returns {MenuItem} The settings menu item for the given panel.\n\t */\n\tprivate _getHomeSettingsMenuItem(panel: BaseContainer | BasePanel): MenuItem {\n\t\tconst id = `${panel.getId()}-settings`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst menuItem = new MenuItem(id, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\t\ticon: \"sap-icon://user-settings\",\n\t\t\t\tpress: () => {\n\t\t\t\t\t//open settings dialog\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.openSettingsDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(menuItem, \"myHomeSettings\");\n\t\t\tthis._controlMap.set(id, menuItem);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as MenuItem;\n\t}\n\n\t/**\n\t * Retrieves the full screen menu item for a given panel.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} panel - The panel for which to retrieve the home settings menu item.\n\t * @returns {MenuItem} The settings menu item for the given panel.\n\t */\n\tprivate _getFullScreenMenuItem(panel: BaseContainer | BasePanel): MenuItem {\n\t\tconst id = `${panel.getId()}-showMore`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst fullScreenMenuItem = new MenuItem(id, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"expand\"),\n\t\t\t\ticon: \"sap-icon://display-more\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.toggleFullScreen(panel);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(fullScreenMenuItem, \"toggleFullScreen\");\n\t\t\tthis._controlMap.set(id, fullScreenMenuItem);\n\t\t}\n\t\treturn this._controlMap.get(id) as MenuItem;\n\t}\n\n\t/**\n\t * Generates a full screen action button for a given control, which can be a panel or a container.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control for which the full screen button is generated.\n\t * @returns {Button} A Button instance configured to toggle full screen mode for the specified control.\n\t */\n\tprivate _getFullScreenButton(control: BaseContainer | BasePanel): Button {\n\t\tconst id = `${control.getId()}-fullScreen`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst fullScreenButton = new Button(id, {\n\t\t\t\ttext: this._i18nBundle.getText(\"expand\"),\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\tpress: () => {\n\t\t\t\t\tconst layout = this._getLayout();\n\t\t\t\t\tlayout?.toggleFullScreen(control);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(fullScreenButton, \"toggleFullScreen\");\n\t\t\tthis._controlMap.set(id, fullScreenButton);\n\t\t\tthis._exemptedActions.push(id);\n\t\t}\n\n\t\treturn this._controlMap.get(id) as Button;\n\t}\n\n\t/**\n\t * Returns the selected panel in the IconTabBar inner control in\n\t * case of SideBySide layout\n\t *\n\t * @private\n\t * @returns {BasePanel} selected panel\n\t */\n\tpublic _getSelectedPanel(): BasePanel {\n\t\tconst panel =\n\t\t\tthis.getContent()?.find((panel) => panel.getProperty(\"key\") === this.getProperty(\"selectedKey\")) || this.getContent()?.[0];\n\t\tthis.setProperty(\"selectedKey\", panel?.getProperty(\"key\"), true);\n\n\t\treturn panel;\n\t}\n\n\t/**\n\t * Add content from all panels to the layout-specific inner control\n\t *\n\t * @private\n\t */\n\tprivate _addAllPanelContent(): void {\n\t\tconst panels = this.getContent() || [];\n\n\t\tif (this.getProperty(\"orientation\") === OrientationType.SideBySide) {\n\t\t\tthis._iconTabBar.removeAllItems();\n\t\t\tpanels.forEach((panel) => this._iconTabBar.addItem(this._getIconTabFilter(panel)));\n\t\t\tthis._iconTabBar.setSelectedKey(this.getProperty(\"selectedKey\") as string);\n\t\t}\n\t}\n\n\t/**\n\t * Returns header of the specified panel after updating it\n\t *\n\t * @private\n\t * @param {BasePanel} panel - panel to be updated\n\t * @returns {HBox} header associated with the panel\n\t */\n\tpublic getPanelHeader(panel: BasePanel): HBox {\n\t\tconst header = this._createHeader(panel);\n\t\tconst isTitleVisible = (panel.getProperty(\"title\") as string)?.trim().length > 0;\n\t\tconst hasContainerTitle = (this.getProperty(\"title\") as string)?.trim().length > 0;\n\n\t\t//update panel header elements\n\t\tthis._updateContainerHeader(panel);\n\n\t\t//add header styling only if any of the header elements are visible\n\t\theader.toggleStyleClass(\n\t\t\t\"sapCuxPanelHeader\",\n\t\t\thasContainerTitle &&\n\t\t\t\t(isTitleVisible ||\n\t\t\t\t\tthis._filterVisibleHeaderElements(panel.getMenuItems()).length > 0 ||\n\t\t\t\t\tthis._filterVisibleHeaderElements(panel.getActionButtons()).length > 0)\n\t\t);\n\n\t\treturn header;\n\t}\n\n\t/**\n\t * Filters the provided array of header elements to include only those that are visible.\n\t *\n\t * @private\n\t * @template T - The type of elements in the array, which can be either MenuItem or Button.\n\t * @param {T[]} [elements=[]] - The array of elements to filter. Defaults to an empty array if not provided.\n\t *\n\t * @returns {T[]} An array of elements that are visible.\n\t */\n\tprivate _filterVisibleHeaderElements<T extends MenuItem | Button>(elements: T[] = []): T[] {\n\t\treturn elements.filter((element) => element.getVisible());\n\t}\n\n\t/**\n\t * Setter for container title\n\t *\n\t * @private\n\t * @param {string} title - updated title\n\t * @returns {BaseContainer} BaseContainer instance for chaining\n\t */\n\tpublic _setTitle(title: string): BaseContainer {\n\t\t//suppress invalidate to prevent container re-rendering. re-render only the concerned element\n\t\tthis.setProperty(\"title\", title, true);\n\t\t(this._controlMap.get(`${this.getId()}-header-title`) as Title).setText(title);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds menu items to a control and sets up a menu button to display them.\n\t * If the menu for the control doesn't exist, it creates a new one.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to which the menu items will be added.\n\t * @param {MenuItem[]} menuItems - An array of menu items to be added to the menu.\n\t */\n\tprivate _addMenuItems(control: BaseContainer | BasePanel, menuItems: MenuItem[]): void {\n\t\tif (!this._controlMap.get(`${control.getId()}-menu`)) {\n\t\t\t//create menu list\n\t\t\tconst list = new List(`${control.getId()}-list`, {\n\t\t\t\titemPress: (event) => (event.getSource<List>().getParent() as Popover).close()\n\t\t\t});\n\t\t\tthis._controlMap.set(`${control.getId()}-menu`, list);\n\t\t\tconst invisiblePopoverText = getInvisibleText(\n\t\t\t\trecycleId(`${control.getId()}-popoverTitle`),\n\t\t\t\tthis._i18nBundle.getText(\"actions\")\n\t\t\t);\n\t\t\t//create menu popover\n\t\t\tconst menuPopover = new Popover(recycleId(`${control.getId()}-popover`), {\n\t\t\t\tplacement: PlacementType.VerticalPreferredBottom,\n\t\t\t\tshowHeader: false,\n\t\t\t\tariaLabelledBy: [invisiblePopoverText ? invisiblePopoverText?.getId() : \"\"],\n\t\t\t\tcontent: [list, invisiblePopoverText]\n\t\t\t});\n\n\t\t\tconst controlId = control.getId();\n\t\t\tconst containerTitleId = `${controlId}-header`;\n\n\t\t\t//create menu button\n\t\t\tconst menuButton = new Button(`${control.getId()}-menu-btn`, {\n\t\t\t\ticon: \"sap-icon://slim-arrow-down\",\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\ttooltip: this._i18nBundle.getText(\"more\"),\n\t\t\t\tariaLabelledBy: [containerTitleId],\n\t\t\t\tpress: (event) => menuPopover.openBy(event.getSource<Button>())\n\t\t\t});\n\t\t\tthis._controlMap.set(`${control.getId()}-menu-btn`, menuButton);\n\t\t}\n\n\t\t//add menu button to header\n\t\t(this._controlMap.get(control.getId() + \"-header-contentLeft\") as HBox)?.addItem(\n\t\t\tthis._controlMap.get(`${control.getId()}-menu-btn`) as Button\n\t\t);\n\n\t\t//Clear existing menu items and add new ones\n\t\t(this._controlMap.get(`${control.getId()}-menu`) as List).removeAllItems();\n\t\tmenuItems.forEach((item) => (this._controlMap.get(`${control.getId()}-menu`) as List).addItem(this._getMenuListItem(item)));\n\t}\n\n\t/**\n\t * Creates and returns a button for the corresponding header ActionButton\n\t *\n\t * @private\n\t * @param {Button} headerButton - ActionButton element\n\t * @returns {Button} Button instance created for the header element\n\t */\n\tprivate _getHeaderButton(headerButton: Button): Button {\n\t\tconst id = `${headerButton.getId()}-btn`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Button(id, {\n\t\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\t\tpress: () => headerButton.firePress()\n\t\t\t\t})\n\t\t\t);\n\t\t\taddFESRSemanticStepName(this._controlMap.get(id) as Button, FESR_EVENTS.PRESS, getFESRId(headerButton));\n\t\t}\n\n\t\t//Update button details\n\t\tconst button = this._controlMap.get(id) as Button;\n\t\tbutton.setText(headerButton.getText());\n\t\tbutton.setTooltip(headerButton.getTooltip() as string);\n\t\tbutton.setIcon(headerButton.getIcon());\n\t\tbutton.setVisible(headerButton.getVisible());\n\t\tbutton.setEnabled(headerButton.getEnabled());\n\n\t\treturn button;\n\t}\n\n\t/**\n\t * Retrieves the layout associated with the container, if available.\n\t *\n\t * @private\n\t * @returns {BaseLayout} The layout associated with the BaseContainer.\n\t */\n\tpublic _getLayout(): BaseLayout {\n\t\treturn UI5Element.getElementById(this.getAssociation(\"layout\", null) as string) as BaseLayout;\n\t}\n\n\t/**\n\t * Retrieves or creates a menu list item for a given menu item.\n\t *\n\t * @private\n\t * @param {MenuItem} menuItem - The menu item for which to retrieve or create a list item.\n\t * @returns {StandardListItem} The menu list item associated with the provided menu item.\n\t */\n\tprivate _getMenuListItem(menuItem: MenuItem): StandardListItem {\n\t\tif (!this._controlMap.get(`${menuItem.getId()}-listItem`)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${menuItem.getId()}-listItem`,\n\t\t\t\tnew StandardListItem(`${menuItem.getId()}-listItem`, {\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\ticon: menuItem.getIcon(),\n\t\t\t\t\ttitle: menuItem.getTitle(),\n\t\t\t\t\tpress: (event) => menuItem.firePress({ button: event.getSource<Button>() })\n\t\t\t\t})\n\t\t\t);\n\t\t\taddFESRSemanticStepName(\n\t\t\t\tthis._controlMap.get(`${menuItem.getId()}-listItem`) as StandardListItem,\n\t\t\t\tFESR_EVENTS.PRESS,\n\t\t\t\tgetFESRId(menuItem)\n\t\t\t);\n\t\t}\n\t\t//Update list item details\n\t\tconst menuListItem = this._controlMap.get(`${menuItem.getId()}-listItem`) as StandardListItem;\n\t\tmenuListItem.setIcon(menuItem.getIcon());\n\t\tmenuListItem.setTitle(menuItem.getTitle());\n\t\tmenuListItem.setVisible(menuItem.getVisible());\n\t\treturn menuListItem;\n\t}\n\n\t/**\n\t * Toggles the visibility of menu Item.\n\t *\n\t * @private\n\t * @param {boolean} show - Indicates whether to show or hide the menu item.\n\t * @returns {void}\n\t */\n\tpublic toggleMenuListItem(menuItem: MenuItem, show: boolean): void {\n\t\tif (menuItem) {\n\t\t\tconst menuListItem = this._getMenuListItem(menuItem);\n\t\t\tmenuListItem?.setVisible(show);\n\t\t\tmenuItem.setProperty(\"visible\", show, true);\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the visibility of action button.\n\t *\n\t * @private\n\t * @param {boolean} show - Indicates whether to show or hide the action button.\n\t * @returns {void}\n\t */\n\tpublic toggleActionButton(actionButton: Button, show: boolean): void {\n\t\tif (actionButton) {\n\t\t\tconst actionButtonControl = this._getHeaderButton(actionButton);\n\t\t\tactionButtonControl?.setVisible(show);\n\t\t\tactionButton.setProperty(\"visible\", show, true);\n\t\t}\n\t}\n\n\tpublic removeContent(panel: BasePanel) {\n\t\tif (this.getProperty(\"selectedKey\") && this.getProperty(\"selectedKey\") === panel?.getProperty?.(\"key\")) {\n\t\t\tthis.setProperty(\"selectedKey\", undefined, true);\n\t\t}\n\t\tthis.removeAggregation(\"content\", panel);\n\t}\n\n\t/**\n\t * Gets current value of property \"width\".\n\t *\n\t * Default value is: \"100%\"\n\t * @returns {CSSSize} Value of property \"width\"\n\t */\n\tpublic getWidth(): CSSSize {\n\t\treturn this.getProperty(\"width\") as CSSSize;\n\t}\n\n\t/**\n\t * Toggles the visibility of action buttons within the container and/or its inner panels.\n\t *\n\t * @private\n\t * @param {boolean} show - Indicates whether to show or hide the action buttons.\n\t * @returns {void}\n\t */\n\tpublic toggleActionButtons(show: boolean): void {\n\t\tconst isSideBySideLayout = this.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tlet visibilityChanged = false;\n\t\tconst toggleActionButtons = (control: BaseContainer | BasePanel) => {\n\t\t\tcontrol.getActionButtons()?.forEach((actionButton) => {\n\t\t\t\tconst currentVisibility = actionButton.getVisible();\n\t\t\t\tif (currentVisibility !== show && !this._exemptedActions.includes(actionButton.getId())) {\n\t\t\t\t\tactionButton.setProperty(\"visible\", show, true);\n\t\t\t\t\tvisibilityChanged = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!isSideBySideLayout && visibilityChanged) {\n\t\t\t\tthis._updateContainerHeader(control);\n\t\t\t}\n\t\t};\n\n\t\t// Toggle action buttons for container\n\t\ttoggleActionButtons(this);\n\n\t\t// Toggle action buttons for inner panels\n\t\tconst panels = this.getContent() || [];\n\t\tpanels.forEach(toggleActionButtons);\n\n\t\t// Update Header Container if required\n\t\tif (isSideBySideLayout && visibilityChanged) {\n\t\t\tthis._updateContainerHeader(this);\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the visibility of the full screen button for the specified element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to toggle the full screen button.\n\t * @param {boolean} show - Indicates whether to show or hide the full screen button.\n\t */\n\tpublic toggleFullScreenElements(element: BaseContainer | BasePanel, show: boolean): void {\n\t\tconst fullScreenButton = UI5Element.getElementById(element.getAssociation(\"fullScreenButton\", null) as string) as Button;\n\t\tconst fullScreenMenuButton = UI5Element.getElementById(element.getAssociation(\"fullScreenMenuItem\", null) as string) as MenuItem;\n\t\tconst isSideBySideLayout = this.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\tconst parent = element.getParent() as BaseContainer;\n\t\tlet elementVisibilityChanged = false;\n\t\tshow = !isPhone ? show : false;\n\t\t[fullScreenButton, fullScreenMenuButton].forEach((fullScreenElement: Button | MenuItem) => {\n\t\t\tif (fullScreenElement && show !== fullScreenElement.getVisible()) {\n\t\t\t\telementVisibilityChanged = true;\n\t\t\t\tfullScreenElement.setProperty(\"visible\", show, true);\n\t\t\t}\n\t\t});\n\t\tconst elementKey = element instanceof BasePanel && element.getKey();\n\t\tif (elementVisibilityChanged && (!isSideBySideLayout || (isSideBySideLayout && this.getProperty(\"selectedKey\") === elementKey))) {\n\t\t\tthis._updateContainerHeader(\n\t\t\t\tparent.getContent().length === 1 && !isSideBySideLayout ? (element.getParent() as BaseContainer) : element\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the device type based on the width of the container element.\n\t *\n\t * @private\n\t * @param {ResizeObserverEntry[]} entries - The entries returned by the ResizeObserver.\n\t * @returns {void}\n\t */\n\tprivate _setDeviceType(entries: ResizeObserverEntry[]): void {\n\t\tconst [entry] = entries;\n\t\tconst parentLayout = entry.target.parentNode as Element;\n\t\tconst width = parentLayout.clientWidth;\n\t\tconst deviceType = calculateDeviceType(width);\n\n\t\t//when width is zero, dom is not rendered hence setting device type can cause wrong calculation\n\t\tif (this._deviceType !== deviceType && width > 0) {\n\t\t\tthis._deviceType = deviceType;\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the device type for the current instance.\n\t *\n\t * @private\n\t * @returns {DeviceType} - The device type. If the device type is not set, it calculates\n\t * and returns the device type based on the current device width.\n\t */\n\tpublic getDeviceType(): DeviceType {\n\t\treturn this._deviceType || calculateDeviceType();\n\t}\n\n\t/**\n\t * Records the performance metrics for the container.\n\t * This is applicable only if the container is part of a layout.\n\t *\n\t * @private\n\t */\n\tprivate _markPerformanceMetrics() {\n\t\tconst elementName = this.getMetadata().getName() as keyof typeof UIElements;\n\t\trecordElementLoadStart(elementName);\n\n\t\tthis.getContent()?.forEach((panel) => {\n\t\t\tpanel.attachEventOnce(\"loaded\", () => {\n\t\t\t\trecordElementLoadEnd(elementName);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Exit lifecycle method, to clean up resources.\n\t *\n\t * @private\n\t * @override\n\t */\n\texit(): void | undefined {\n\t\tthis._controlMap.forEach((control) => {\n\t\t\tcontrol.destroy();\n\t\t});\n\t\tthis._detachResizeHandler();\n\t}\n\n\t/**\n\t * Default implementation: returns undefined.\n\t */\n\tprotected getGenericPlaceholderContent(): string | undefined {\n\t\treturn undefined;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,wCAAA,sdAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAeSG,EAAgBpB,EAAA,0BAAEqB,EAAUrB,EAAA,oBAAEsB,EAAatB,EAAA,uBAU7CuB,EAAqBP,EAAAV,GAAA,MAErBkB,EAASR,EAAAT,GAAA,MACTkB,EAAQT,EAAAR,GAAA,MACNkB,EAAejB,EAAA,yBACfkB,EAAgBjB,EAAA,0BAChBkB,EAASjB,EAAA,mBACTkB,EAAmBjB,EAAA,6BAAEkB,EAAUlB,EAAA,oBAC/BmB,EAASlB,EAAA,mBAAEmB,EAAuBnB,EAAA,iCAAEoB,EAAWpB,EAAA,qBAAEqB,EAASrB,EAAA,mBAC1DsB,EAAoBrB,EAAA,8BAAEsB,EAAsBtB,EAAA,gCAC9CuB,EAAuBrB,EAAAD,GAS9B,MAiB8BuB,EAAsBrC,EAAOsC,OAAA,8BA6InDC,SAAyCjB,EAnHhCkB,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,YAAa,CACZH,KAAM,+BACNC,MAAO,OACPC,aAAcrB,EAAgBuB,YAK/BC,YAAa,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAII,WAAY,UAK5EC,MAAO,CAAEP,KAAM,sBAAuBC,MAAO,aAAcC,aAAc,OAAQI,WAAY,UAK7FE,OAAQ,CAAER,KAAM,sBAAuBC,MAAO,aAAcK,WAAY,UAIxEG,QAAS,CAAET,KAAM,UAAWC,MAAO,aAAcC,aAAc,MAAOI,WAAY,UAIlFI,KAAM,CAAEV,KAAM,UAAWC,MAAO,aAAcC,aAAc,MAAOI,WAAY,UAI/EK,mBAAoB,CAAEX,KAAM,MAAOE,aAAc,IAAMI,WAAY,UAInEM,kBAAmB,CAAEZ,KAAM,gCAAiCE,aAAc,SAAUI,WAAY,UAIhGO,cAAe,CAAEb,KAAM,WAAYE,aAAc,GAAII,WAAY,UAIjEQ,QAAS,CAAEd,KAAM,UAAWC,MAAO,aAAcC,aAAc,KAAMI,WAAY,UAIjFS,eAAgB,CAAEf,KAAM,UAAWC,MAAO,OAAQK,WAAY,UAI9DU,iBAAkB,CAAEhB,KAAM,UAAWC,MAAO,OAAQK,WAAY,UAMhEW,eAAgB,CAAEjB,KAAM,SAAUC,MAAO,OAAQK,WAAY,UAI7DY,eAAgB,CAAElB,KAAM,UAAWC,MAAO,OAAQC,aAAc,KAAMI,WAAY,UAIlFa,OAAQ,CAAEnB,KAAM,UAAWC,MAAO,aAAcC,aAAc,MAAOI,WAAY,WAElFc,mBAAoB,UACpBC,aAAc,CAMbC,QAAS,CAAEtB,KAAM,yBAA0BuB,aAAc,UAAWC,SAAU,KAAMlB,WAAY,UAMhGmB,cAAe,CAAEzB,KAAM,eAAgBwB,SAAU,KAAMD,aAAc,eAAgBjB,WAAY,UAMjGoB,UAAW,CAAE1B,KAAM,wBAAyBwB,SAAU,KAAMD,aAAc,WAAYjB,WAAY,UAIlGqB,aAAc,CAAE3B,KAAM,mBAAoBwB,SAAU,MAAOD,aAAc,cAAejB,WAAY,WAErGsB,aAAc,CACbC,OAAQ,CAAE7B,KAAM,0BAA2BwB,SAAU,MAAOD,aAAc,SAAUjB,WAAY,UAChGwB,iBAAkB,CAAE9B,KAAM,eAAgBwB,SAAU,MAAOD,aAAc,mBAAoBjB,WAAY,UACzGyB,mBAAoB,CAAE/B,KAAM,wBAAyBwB,SAAU,MAAOD,aAAc,qBAAsBjB,WAAY,WAEvH0B,OAAQ,CAIPC,SAAU,CAAC,GAEZC,WAAY,MAhINC,aAAY,SAAAC,IAAI,EACbC,KAAI,SAAAC,IAAI,EAWXC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,GAAUE,KAdbC,iBAA6B,EAerC,EA6HOC,KAAI,SAAAC,IACVH,KAAKI,YAAc,IAAIC,IACvBL,KAAKM,2BAA6B,IAAID,IACtCL,KAAKO,YAAc3F,EAAI4F,qBAAqB,qBAC5CR,KAAKS,cAAcT,MAGnB,MAAMU,EAA0B,IAAIjG,EAAW,GAAGuF,KAAKW,0BAA2B,CACjFC,IAAK,kBACLC,MAAO,CAAC,IAETb,KAAKc,cAAcJ,GAGnB,MAAMK,EAAqBf,KAAKgB,+BAChC,GAAID,EAAoB,CACvBf,KAAKiB,eAAe,eAAgB,IAAItG,EAAK,CAAE+D,QAASqC,IAAuB,KAChF,CACD,EAMOG,kBAAiB,SAAAC,IACvB,OAAQnB,KAAKoB,KAAK,oBAAsB,CAAC,CAC1C,EAQUC,iBAAgB,SAAAC,EAACV,EAAaC,GACtCb,KAAKoB,KAAK,mBAA8CR,GAAOC,CACjE,EASQJ,cAAa,SAAAA,EAACc,GACrB,MAAMC,EAAYD,EAAQZ,QAC1B,MAAMd,EAAK,GAAG2B,WACd,MAAMC,EAAUF,aAAmBxF,EACnC,MAAM2F,EAAqB1B,KAAK2B,YAAY,UAAqBC,OAAOC,OAAS,EAEjF,IAAK7B,KAAKI,YAAY0B,IAAIjC,GAAK,CAE9BG,KAAKI,YAAY2B,IAAI,GAAGP,iBAA0B,IAAIlH,EAAM,GAAGkH,YAC/DxB,KAAKI,YAAY2B,IAChB,GAAGP,uBACH,IAAIvH,EAAK,GAAGuH,gBAAyB,CAAEQ,WAAY,SAAUC,cAAc,6BAE5EjC,KAAKI,YAAY2B,IAChB,GAAGP,wBACH,IAAIvH,EAAK,GAAGuH,iBAA0B,CAAEQ,WAAY,SAAUC,cAAc,6BAE7EjC,KAAKI,YAAY2B,IAChB,GAAGP,mBACH,IAAIvH,EAAK,GAAGuH,mBAA4B,CACvC7D,MAAO,OACPuE,eAAgB,eAChBF,WAAY,OACZG,MAAO,CACNnC,KAAKI,YAAY0B,IAAI,GAAGN,wBACxBxB,KAAKI,YAAY0B,IAAI,GAAGN,4BAEvBS,cAAc,yBAIlBjC,KAAKI,YAAY2B,IAChBlC,EACA,IAAI5F,EAAK,GAAGuH,WAAoB,CAC/BY,WAAY,SACZD,MAAO,CACNnC,KAAKI,YAAY0B,IAAI,GAAGN,kBACxBxB,KAAKI,YAAY0B,IAAI,GAAGN,wBAK3BxB,KAAKqC,aAAarC,KAAKI,YAAY0B,IAAIjC,GACxC,CAGCG,KAAKI,YAAY0B,IAAIjC,IAAcoC,cAAcR,GAAWC,EAAoB,oBAAsB,wBACtG1B,KAAKI,YAAY0B,IAAI,GAAGN,kBAAoCc,cAAcb,GAAWC,EAAoB,KAAO,MAEjH,OAAO1B,KAAKI,YAAY0B,IAAIjC,EAC7B,EAQO0C,WAAU,SAAAA,IAChB,OAAOvC,KAAKI,YAAY0B,IAAI,GAAG9B,KAAKW,iBACrC,EAQO6B,iBAAgB,SAAAA,IACtB,OAAOxC,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAAawC,KAAKyC,YAAczC,KAAK0C,QACjG,EAQUC,eAAc,SAAAA,EAACC,GAExB5C,KAAK6C,YAAY,cAAeD,EAAME,aAAa,eAAgB,MACnE9C,KAAK+C,uBAAuB/C,KAC7B,EAUOgD,eAAc,SAAAA,EAACC,EAAkBC,GACvC,GAAIlD,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAAY,CACnEwC,KAAKmD,kBAAkBF,GAAOG,SAASF,EACxC,CACD,EAUQC,kBAAiB,SAAAA,EAACF,GACzB,MAAMpD,EAAK,GAAGoD,EAAMtC,oBAEpB,IAAKX,KAAKI,YAAY0B,IAAIjC,GAAK,CAC9B,MAAMwD,EAAgB,IAAIzG,EAAwBiD,EAAI,CAAEoD,UACxDI,EAAcvC,cACb,IAAIrG,EAAW,GAAGwI,EAAMtC,wBAAyB,CAChDC,IAAK,sBACLC,MAAO,OACPyC,WAAY,QAGdtD,KAAKI,YAAY2B,IAAIlC,EAAIwD,GACzB9G,EAAwB8G,EAAe7G,EAAY+G,OAAQN,EAAMtB,YAAY,OAC9E,CAEA,OAAO3B,KAAKI,YAAY0B,IAAIjC,EAC7B,EAQO2D,kBAAiB,SAAAC,IAEvB,GAAIzD,KAAK2B,YAAY,iBAAmB,GAAI,CAC3C,MAAM+B,EAAa1D,KAAK2D,eAAe,IAAIhC,YAAY,OACvD3B,KAAK6C,YAAY,cAAea,EAAY,KAC7C,CAGA1D,KAAK4D,sBAGL5D,KAAK+C,uBAAuB/C,MAG5BA,KAAK6D,sBAGL,GAAI7D,KAAK2B,YAAY,oBAAsB,QAAU3B,KAAK2B,YAAY,WAAa3B,KAAK8D,aAAc,CACrG9D,KAAK+D,cACN,CAGA/D,KAAKgE,yBACN,EAQOC,iBAAgB,SAAAC,IACtBlE,KAAKmE,uBAGL,GAAInE,KAAK2B,YAAY,kBAA8B,CAClD3B,KAAKoE,mBACN,CAEApE,KAAKqE,+BACN,EAQQA,8BAA6B,SAAAA,IACpC,MAAMC,EAAqBtE,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAC/E,MAAM+G,EAAkBvE,KAAK2D,cAAc9B,SAAW,EACtD7B,KAAKwE,iBAAiB,eAAgBF,GAAsBC,EAC7D,EAOQR,aAAY,SAAAA,IACnB/D,KAAK6C,YAAY,SAAU,MAC3B7C,KAAKP,QACN,EAQO0E,qBAAoB,SAAAA,IAC1B,GAAInE,KAAKyE,aAAezE,KAAK2B,YAAY,UAAW,CACnD3B,KAAK0E,iBAAiBC,aACtB3E,KAAK0E,gBAAkB,IAAIE,eAAgBC,IAC1C,GAAI7E,KAAK8E,eAAgB,CACxBC,aAAa/E,KAAK8E,eACnB,CAGA9E,KAAK8E,eAAiBE,OAAOC,WAAW,KACvC,GAAIjF,KAAK8D,aAAc,CACtB9D,KAAKkF,eAAeL,GACpB7E,KAAKT,cACN,GACE,MAEJS,KAAK0E,iBAAiBS,QAAQnF,KAAKyE,YACpC,CACD,EAOOW,qBAAoB,SAAAA,IAC1BpF,KAAK0E,iBAAiBC,YACvB,EAOQP,kBAAiB,SAAAA,IACxB,MAAMiB,EAASrF,KAAKyE,YACpB,IAAKzE,KAAKsF,mBAAoB,CAC7BtF,KAAKsF,mBAAqB,IAAIC,qBAC5BV,GACAA,EAAQW,QAASC,IAChB,IAAKzF,KAAK2B,YAAY,WAAa3B,KAAK8D,cAAgB2B,EAAMC,eAAgB,CAC7E1F,KAAK+D,cACN,IAEF,CAAE4B,WAAY,MAAOC,UAAW,IAElC,CACA5F,KAAKsF,oBAAoBX,aAEzB,GAAIU,EAAQ,CACXrF,KAAKsF,mBAAmBH,QAAQE,EACjC,CACD,EAOQzB,oBAAmB,SAAAA,IAC1B,MAAM3E,EAASe,KAAK2B,YAAY,eAEhC,GAAI1C,IAAWhD,EAAgB4J,YAAc5G,IAAWhD,EAAgB6J,SAAU,CACjF,IAAK9F,KAAK0C,SAAU,CACnB1C,KAAK0C,SAAW,IAAI1I,EAAQ,GAAGgG,KAAKW,kBAAmB,CACtDhD,MAAO,OACPqE,WAAY,SACVC,cAAc,qBACjBjC,KAAKqC,aAAarC,KAAK0C,SACxB,CACA1C,KAAK0C,SAASqD,aAAa9G,IAAWhD,EAAgB4J,WAAa,MAAQ,SAC5E,MAAO,IAAK7F,KAAKyC,YAAa,CAC7BzC,KAAKyC,YAAc,IAAIvI,EAAW,GAAG8F,KAAKW,qBAAsB,CAC/DqF,WAAY,KACZC,iBAAkBtK,EAAiBuK,YACnCC,WAAY,SACZC,uBAAwBzK,EAAiBuK,YACzCG,OAASzD,GAAiB5C,KAAK2C,eAAeC,KAE/C5C,KAAKqC,aAAarC,KAAKyC,YACxB,CACD,EAOOM,uBAAsB,SAAAA,EAACxB,GAC7B,MAAM+C,EAAqBtE,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAC/E,MAAM8I,EAAc/E,aAAmB1E,EACvC,MAAM0J,GAAiBD,GAAehC,EAAqBtE,KAAOuB,EAGjEvB,KAAKI,YAAY0B,IAAIyE,EAAc5F,QAAU,wBAAiC6F,iBAC9ExG,KAAKI,YAAY0B,IAAIyE,EAAc5F,QAAU,yBAAkC6F,iBAGhFxG,KAAKyG,cAAclF,EACpB,EAQQkF,cAAa,SAAAA,EAAClF,GACrB,MAAM+C,EAAqBtE,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAC/E,MAAM8I,EAAc/E,aAAmB1E,EAGvC,MAAM6J,EAAc1G,KAAKI,YAAY0B,IAAIP,EAAQZ,QAAU,iBAC3D+F,GAAaC,QAAQpF,EAAQI,YAAY,UACzC+E,GAAaE,WAAYrF,EAAQI,YAAY,UAAqBC,OAAOC,OAAS,GAGlF,IAAKyE,GAAehC,EAAoB,CACvCtE,KAAKmD,kBAAkB5B,IAAUoF,QAAQpF,EAAQI,YAAY,SAC9D,CAGA,GAAI3B,KAAK6G,aAAc,CACtB7G,KAAK8G,0BACN,CAEA,MAAMC,EAAiBT,GAAehC,EAAqBtE,KAAKgH,oBAAsBzF,EACtF,MAAMgF,GAAiBD,GAAehC,EAAqBtE,KAAOuB,EAGlE,MAAMzC,EAAYkB,KAAKiH,6BAA6BF,GAAgBG,gBACpE,GAAIpI,EAAU+C,OAAS,EAAG,CACzB7B,KAAKmH,cAAcZ,EAAezH,EACnC,CAGCiI,GAAgBK,eAAe,kBAA+B5B,QAAS6B,IACtErH,KAAKI,YAAY0B,IAAIyE,EAAc5F,QAAU,yBAAkC2G,QAAQtH,KAAKuH,iBAAiBF,KAEhH,EAQQP,yBAAwB,SAAAA,IAC/B,MAAMU,EAAwBjG,IAC7B,MAAMkG,EAAW,CAChB,CAAEC,SAAU,mBAAoBC,YAAa,YAAaC,cAAe5H,KAAK6H,uBAAuBtG,IACrG,CAAEmG,SAAU,iBAAkBC,YAAa,YAAaC,cAAe5H,KAAK8H,yBAAyBvG,IACrG,CAAEmG,SAAU,mBAAoBC,YAAa,gBAAiBC,cAAe5H,KAAK+H,qBAAqBxG,KAGxGkG,EAASjC,QAAQ,EAAGkC,WAAUC,cAAaC,oBAC1C,MAAMI,EAAuBzG,EAAQI,YAAY+F,GACjD,MAAMO,EAAwBjI,KAAKM,2BAA2BwB,IAAI,GAAG8F,EAAcjH,WAAW+G,KAG9F,GAAIM,IAAyBC,EAAuB,CACnDjI,KAAKM,2BAA2ByB,IAAI,GAAG6F,EAAcjH,WAAW+G,IAAYM,GAE5E,GAAIA,EAAsB,CACzBzG,EAAQ2G,eAAeP,EAAaC,EACrC,KAAO,CACNrG,EAAQ4G,kBAAkBR,EAAaC,EACxC,CAGA,GAAIF,IAAa,mBAAoB,CACpC1H,KAAKoI,8BAA8B,CAClCC,oBAAqBL,EACrBzG,UACAoG,cACAC,iBAEF,CACD,KAKFJ,EAAqBxH,MAGrB,MAAMsI,EAAStI,KAAK2D,cAAgB,GACpC2E,EAAO9C,QAAQgC,GAGfxH,KAAKuI,0BACN,EAOQA,yBAAwB,SAAAA,IAC/B,MAAMtJ,EAASe,KAAK6G,aACpB,MAAM2B,EAA0BjH,IAC/B,MAAMyG,EAAuBzG,EAAQI,YAAY,oBACjD,MAAMsG,EAAwBjI,KAAKM,2BAA2BwB,IAAI,GAAGP,EAAQZ,4BAE7E,GAAIqH,IAAyBC,EAAuB,CACnDjI,KAAKM,2BAA2ByB,IAAI,GAAGR,EAAQZ,2BAA4BqH,GAE3E,GAAIA,EAAsB,CACzB/I,GAAQwJ,0BAA0BlH,EACnC,KAAO,CACNtC,GAAQyJ,4BAA4BnH,EACrC,CACD,CAGA,GAAIyG,EAAsB,CACzB/I,GAAQ0J,wBAAwBpH,EAAS,CACxCqH,MAAO3J,GAAQ4J,YAAY7I,OAE7B,GAIDwI,EAAuBxI,MAGvB,MAAMsI,EAAStI,KAAK2D,cAAgB,GACpC2E,EAAO9C,QAAQgD,EAChB,EAcQJ,8BAA6B,SAAAU,EAACC,GACrC,MAAMV,oBAAEA,EAAmB9G,QAAEA,EAAOoG,YAAEA,EAAWC,cAAEA,GAAkBmB,EACrE,MAAMC,EAAoBrB,IAAgB,gBAAkB,mBAAqB,qBAEjF,GAAIU,EAAqB,CACxB9G,EAAQ0H,eAAeD,EAAmBpB,EAAe,KAC1D,KAAO,CACNrG,EAAQ2H,kBAAkBF,EAAmBpB,EAAe,KAC7D,CACD,EASQE,yBAAwB,SAAAA,EAAC7E,GAChC,MAAMpD,EAAK,GAAGoD,EAAMtC,mBACpB,IAAKX,KAAKI,YAAY0B,IAAIjC,GAAK,CAC9B,MAAMsJ,EAAW,IAAInN,EAAS6D,EAAI,CACjC1C,MAAO6C,KAAKO,YAAY6I,QAAQ,kBAChCC,KAAM,2BACNC,MAAOA,KAEN,MAAMrK,EAASe,KAAK6G,aACpB5H,GAAQsK,wBAGVjN,EAAU6M,EAAU,kBACpBnJ,KAAKI,YAAY2B,IAAIlC,EAAIsJ,EAC1B,CAEA,OAAOnJ,KAAKI,YAAY0B,IAAIjC,EAC7B,EASQgI,uBAAsB,SAAAA,EAAC5E,GAC9B,MAAMpD,EAAK,GAAGoD,EAAMtC,mBACpB,IAAKX,KAAKI,YAAY0B,IAAIjC,GAAK,CAC9B,MAAMV,EAAqB,IAAInD,EAAS6D,EAAI,CAC3C1C,MAAO6C,KAAKO,YAAY6I,QAAQ,UAChCC,KAAM,0BACNC,MAAOA,KACN,MAAMrK,EAASe,KAAK6G,aACpB5H,GAAQuK,iBAAiBvG,MAG3B3G,EAAU6C,EAAoB,oBAC9Ba,KAAKI,YAAY2B,IAAIlC,EAAIV,EAC1B,CACA,OAAOa,KAAKI,YAAY0B,IAAIjC,EAC7B,EASQkI,qBAAoB,SAAAA,EAACxG,GAC5B,MAAM1B,EAAK,GAAG0B,EAAQZ,qBACtB,IAAKX,KAAKI,YAAY0B,IAAIjC,GAAK,CAC9B,MAAMX,EAAmB,IAAInF,EAAO8F,EAAI,CACvC4J,KAAMzJ,KAAKO,YAAY6I,QAAQ,UAC/BhM,KAAMxB,EAAWsK,YACjBoD,MAAOA,KACN,MAAMrK,EAASe,KAAK6G,aACpB5H,GAAQuK,iBAAiBjI,MAG3BjF,EAAU4C,EAAkB,oBAC5Bc,KAAKI,YAAY2B,IAAIlC,EAAIX,GACzBc,KAAKC,iBAAiByJ,KAAK7J,EAC5B,CAEA,OAAOG,KAAKI,YAAY0B,IAAIjC,EAC7B,EASOmH,kBAAiB,SAAAA,IACvB,MAAM/D,EACLjD,KAAK2D,cAAcgG,KAAM1G,GAAUA,EAAMtB,YAAY,SAAW3B,KAAK2B,YAAY,iBAAmB3B,KAAK2D,eAAe,GACzH3D,KAAK6C,YAAY,cAAeI,GAAOtB,YAAY,OAAQ,MAE3D,OAAOsB,CACR,EAOQY,oBAAmB,SAAAA,IAC1B,MAAMyE,EAAStI,KAAK2D,cAAgB,GAEpC,GAAI3D,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAAY,CACnEwC,KAAKyC,YAAY+D,iBACjB8B,EAAO9C,QAASvC,GAAUjD,KAAKyC,YAAY6E,QAAQtH,KAAKmD,kBAAkBF,KAC1EjD,KAAKyC,YAAYmH,eAAe5J,KAAK2B,YAAY,eAClD,CACD,EASOkI,eAAc,SAAAC,EAAC7G,GACrB,MAAM8G,EAAS/J,KAAKS,cAAcwC,GAClC,MAAM+G,EAAkB/G,EAAMtB,YAAY,UAAqBC,OAAOC,OAAS,EAC/E,MAAMH,EAAqB1B,KAAK2B,YAAY,UAAqBC,OAAOC,OAAS,EAGjF7B,KAAK+C,uBAAuBE,GAG5B8G,EAAOvF,iBACN,oBACA9C,IACEsI,GACAhK,KAAKiH,6BAA6BhE,EAAMiE,gBAAgBrF,OAAS,GACjE7B,KAAKiH,6BAA6BhE,EAAMgH,oBAAoBpI,OAAS,IAGxE,OAAOkI,CACR,EAWQ9C,6BAA4B,SAAAA,EAA8BQ,EAAgB,IACjF,OAAOA,EAASyC,OAAQC,GAAYA,EAAQrG,aAC7C,EASOsG,UAAS,SAAAA,EAACjN,GAEhB6C,KAAK6C,YAAY,QAAS1F,EAAO,MAChC6C,KAAKI,YAAY0B,IAAI,GAAG9B,KAAKW,wBAAkCgG,QAAQxJ,GACxE,OAAO6C,IACR,EAUQmH,cAAa,SAAAA,EAAC5F,EAAoCzC,GACzD,IAAKkB,KAAKI,YAAY0B,IAAI,GAAGP,EAAQZ,gBAAiB,CAErD,MAAM0J,EAAO,IAAIlQ,EAAK,GAAGoH,EAAQZ,eAAgB,CAChD2J,UAAY1H,GAAWA,EAAM2H,YAAkBC,YAAwBC,UAExEzK,KAAKI,YAAY2B,IAAI,GAAGR,EAAQZ,eAAgB0J,GAChD,MAAMK,EAAuBxO,EAC5BC,EAAU,GAAGoF,EAAQZ,wBACrBX,KAAKO,YAAY6I,QAAQ,YAG1B,MAAMuB,EAAc,IAAIvQ,EAAQ+B,EAAU,GAAGoF,EAAQZ,mBAAoB,CACxEiK,UAAW/O,EAAcgP,wBACzBC,WAAY,MACZC,eAAgB,CAACL,EAAuBA,GAAsB/J,QAAU,IACxEjC,QAAS,CAAC2L,EAAMK,KAGjB,MAAMlJ,EAAYD,EAAQZ,QAC1B,MAAMqK,EAAmB,GAAGxJ,WAG5B,MAAMyJ,EAAa,IAAIlR,EAAO,GAAGwH,EAAQZ,mBAAoB,CAC5D0I,KAAM,6BACNjM,KAAMxB,EAAWsK,YACjBgF,QAASlL,KAAKO,YAAY6I,QAAQ,QAClC2B,eAAgB,CAACC,GACjB1B,MAAQ1G,GAAU+H,EAAYQ,OAAOvI,EAAM2H,eAE5CvK,KAAKI,YAAY2B,IAAI,GAAGR,EAAQZ,mBAAoBsK,EACrD,CAGCjL,KAAKI,YAAY0B,IAAIP,EAAQZ,QAAU,wBAAiC2G,QACxEtH,KAAKI,YAAY0B,IAAI,GAAGP,EAAQZ,qBAIhCX,KAAKI,YAAY0B,IAAI,GAAGP,EAAQZ,gBAAyB6F,iBAC1D1H,EAAU0G,QAAS4F,GAAUpL,KAAKI,YAAY0B,IAAI,GAAGP,EAAQZ,gBAAyB2G,QAAQtH,KAAKqL,iBAAiBD,IACrH,EASQ7D,iBAAgB,SAAAA,EAAC+D,GACxB,MAAMzL,EAAK,GAAGyL,EAAa3K,cAC3B,IAAKX,KAAKI,YAAY0B,IAAIjC,GAAK,CAC9BG,KAAKI,YAAY2B,IAChBlC,EACA,IAAI9F,EAAO8F,EAAI,CACdzC,KAAMxB,EAAWsK,YACjBoD,MAAOA,IAAMgC,EAAaC,eAG5BhP,EAAwByD,KAAKI,YAAY0B,IAAIjC,GAAerD,EAAYgP,MAAO/O,EAAU6O,GAC1F,CAGA,MAAMG,EAASzL,KAAKI,YAAY0B,IAAIjC,GACpC4L,EAAO9E,QAAQ2E,EAAalC,WAC5BqC,EAAOC,WAAWJ,EAAaK,cAC/BF,EAAOG,QAAQN,EAAaO,WAC5BJ,EAAO7E,WAAW0E,EAAaxH,cAC/B2H,EAAOK,WAAWR,EAAaS,cAE/B,OAAON,CACR,EAQO5E,WAAU,SAAAA,IAChB,OAAOnM,EAAWsR,eAAehM,KAAKiM,eAAe,SAAU,MAChE,EASQZ,iBAAgB,SAAAA,EAAClC,GACxB,IAAKnJ,KAAKI,YAAY0B,IAAI,GAAGqH,EAASxI,oBAAqB,CAC1DX,KAAKI,YAAY2B,IAChB,GAAGoH,EAASxI,mBACZ,IAAItG,EAAiB,GAAG8O,EAASxI,mBAAoB,CACpDvD,KAAM,SACNiM,KAAMF,EAAS0C,UACf1O,MAAOgM,EAAS+C,WAChB5C,MAAQ1G,GAAUuG,EAASoC,UAAU,CAAEE,OAAQ7I,EAAM2H,iBAGvDhO,EACCyD,KAAKI,YAAY0B,IAAI,GAAGqH,EAASxI,oBACjCnE,EAAYgP,MACZ/O,EAAU0M,GAEZ,CAEA,MAAMgD,EAAenM,KAAKI,YAAY0B,IAAI,GAAGqH,EAASxI,oBACtDwL,EAAaP,QAAQzC,EAAS0C,WAC9BM,EAAaC,SAASjD,EAAS+C,YAC/BC,EAAavF,WAAWuC,EAASrF,cACjC,OAAOqI,CACR,EASOE,mBAAkB,SAAAC,EAACnD,EAAoBoD,GAC7C,GAAIpD,EAAU,CACb,MAAMgD,EAAenM,KAAKqL,iBAAiBlC,GAC3CgD,GAAcvF,WAAW2F,GACzBpD,EAAStG,YAAY,UAAW0J,EAAM,KACvC,CACD,EASOC,mBAAkB,SAAAC,EAACpF,EAAsBkF,GAC/C,GAAIlF,EAAc,CACjB,MAAMqF,EAAsB1M,KAAKuH,iBAAiBF,GAClDqF,GAAqB9F,WAAW2F,GAChClF,EAAaxE,YAAY,UAAW0J,EAAM,KAC3C,CACD,EAEOI,cAAa,SAAAC,EAAC3J,GACpB,GAAIjD,KAAK2B,YAAY,gBAAkB3B,KAAK2B,YAAY,iBAAmBsB,GAAOtB,cAAc,OAAQ,CACvG3B,KAAK6C,YAAY,cAAegK,UAAW,KAC5C,CACA7M,KAAKmI,kBAAkB,UAAWlF,EACnC,EAQO6J,SAAQ,SAAAC,IACd,OAAO/M,KAAK2B,YAAY,QACzB,EASOqL,oBAAmB,SAAAC,EAACV,GAC1B,MAAMjI,EAAqBtE,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAC/E,IAAI0P,EAAoB,MACxB,MAAMF,EAAuBzL,IAC5BA,EAAQ0I,oBAAoBzE,QAAS6B,IACpC,MAAM8F,EAAoB9F,EAAavD,aACvC,GAAIqJ,IAAsBZ,IAASvM,KAAKC,iBAAiBmN,SAAS/F,EAAa1G,SAAU,CACxF0G,EAAaxE,YAAY,UAAW0J,EAAM,MAC1CW,EAAoB,IACrB,IAGD,IAAK5I,GAAsB4I,EAAmB,CAC7ClN,KAAK+C,uBAAuBxB,EAC7B,GAIDyL,EAAoBhN,MAGpB,MAAMsI,EAAStI,KAAK2D,cAAgB,GACpC2E,EAAO9C,QAAQwH,GAGf,GAAI1I,GAAsB4I,EAAmB,CAC5ClN,KAAK+C,uBAAuB/C,KAC7B,CACD,EASOqN,yBAAwB,SAAAC,EAACnD,EAAoCoC,GACnE,MAAMrN,EAAmBxE,EAAWsR,eAAe7B,EAAQ8B,eAAe,mBAAoB,OAC9F,MAAMsB,EAAuB7S,EAAWsR,eAAe7B,EAAQ8B,eAAe,qBAAsB,OACpG,MAAM3H,EAAqBtE,KAAK2B,YAAY,iBAAmB1F,EAAgBuB,WAC/E,MAAMgQ,EAAUxN,KAAKyN,kBAAoBpR,EAAWqR,OACpD,MAAMC,EAASxD,EAAQK,YACvB,IAAIoD,EAA2B,MAC/BrB,GAAQiB,EAAUjB,EAAO,MACzB,CAACrN,EAAkBqO,GAAsB/H,QAASqI,IACjD,GAAIA,GAAqBtB,IAASsB,EAAkB/J,aAAc,CACjE8J,EAA2B,KAC3BC,EAAkBhL,YAAY,UAAW0J,EAAM,KAChD,IAED,MAAMuB,EAAa3D,aAAmBpO,GAAaoO,EAAQ4D,SAC3D,GAAIH,KAA8BtJ,GAAuBA,GAAsBtE,KAAK2B,YAAY,iBAAmBmM,GAAc,CAChI9N,KAAK+C,uBACJ4K,EAAOhK,aAAa9B,SAAW,IAAMyC,EAAsB6F,EAAQK,YAAgCL,EAErG,CACD,EASQjF,eAAc,SAAAA,EAACL,GACtB,MAAOY,GAASZ,EAChB,MAAMmJ,EAAevI,EAAMJ,OAAO4I,WAClC,MAAMtQ,EAAQqQ,EAAaE,YAC3B,MAAMC,EAAa/R,EAAoBuB,GAGvC,GAAIqC,KAAKoO,cAAgBD,GAAcxQ,EAAQ,EAAG,CACjDqC,KAAKoO,YAAcD,CACpB,CACD,EASOV,cAAa,SAAAY,IACnB,OAAOrO,KAAKoO,aAAehS,GAC5B,EAQQ4H,wBAAuB,SAAAA,IAC9B,MAAMsK,EAActO,KAAKuO,cAAcC,UACvC7R,EAAuB2R,GAEvBtO,KAAK2D,cAAc6B,QAASvC,IAC3BA,EAAMwL,gBAAgB,SAAU,KAC/B/R,EAAqB4R,MAGxB,EAQAI,KAAI,SAAAC,IACH3O,KAAKI,YAAYoF,QAASjE,IACzBA,EAAQqN,YAET5O,KAAKoF,sBACN,EAKUpE,6BAA4B,SAAA6N,IACrC,OAAOhC,SACR,IAAC,OAtlC4BhQ,CAAa","ignoreList":[],"sourceRoot":""}},{"offset":{"line":41,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","___library","OrientationType","renderPanel","rm","control","panel","getVisible","orientation","getProperty","isSideBySide","SideBySide","openStart","getId","class","openEnd","renderControl","getPanelHeader","getContent","forEach","content","close","renderCustomPlaceholder","placeholder","getAggregation","error","__exports","apiVersion","render","Horizontal","style","getWidth","getHeight","isLazyLoadEnabled","this","renderContent","length","_getHeader","_getInnerControl"],"sources":["BaseContainerRenderer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport HTML from \"sap/ui/core/HTML\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport { OrientationType } from \"./library\";\nimport Control from \"sap/ui/core/Control\";\n\nconst renderPanel = (rm: RenderManager, control: BaseContainer, panel: BasePanel) => {\n\tif (!panel.getVisible()) {\n\t\treturn;\n\t}\n\n\tconst orientation = control.getProperty(\"orientation\") as OrientationType;\n\tconst isSideBySide = orientation === OrientationType.SideBySide;\n\n\trm.openStart(\"div\", panel.getId()).class(\"sapUiBasePanel\").openEnd();\n\n\tif (!isSideBySide) {\n\t\t// render panel header\n\t\trm.renderControl(control.getPanelHeader(panel));\n\t}\n\n\t//render panel content\n\tpanel.getContent().forEach((content: Control) => {\n\t\trm.renderControl(content);\n\t});\n\n\trm.close(\"div\");\n};\n\n/**\n * Renders custom loader based on container type.\n */\nconst renderCustomPlaceholder = (rm: RenderManager, control: BaseContainer) => {\n\ttry {\n\t\tconst placeholder = control.getAggregation(\"_placeholder\") as HTML;\n\t\tif (!placeholder) {\n\t\t\trm.openStart(\"div\", control.getId() + \"-placeholder\")\n\t\t\t\t.class(\"sapUiBaseContainerPlaceholder\")\n\t\t\t\t.openEnd()\n\t\t\t\t.close(\"div\");\n\t\t\treturn;\n\t\t}\n\t\trm.renderControl(placeholder);\n\t} catch (error) {\n\t\tLog.error(\"Failed to render placeholder:\", error as string);\n\t}\n};\n\nexport default {\n\tapiVersion: 2,\n\n\t/**\n\t * Renders the control.\n\t *\n\t * @public\n\t * @override\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseContainer} control - The BaseContainer control to be rendered.\n\t */\n\trender: function (rm: RenderManager, control: BaseContainer) {\n\t\trm.openStart(\"div\", control).class(\"sapCuxBaseContainer\");\n\n\t\t//Apply Layout based style classes\n\t\tif (control.getProperty(\"orientation\") === OrientationType.SideBySide) {\n\t\t\trm.class(\"sapCuxSideBySide\");\n\t\t} else if (control.getProperty(\"orientation\") === OrientationType.Horizontal) {\n\t\t\trm.class(\"sapCuxHorizontal\");\n\t\t} else {\n\t\t\trm.class(\"sapCuxVertical\");\n\t\t}\n\n\t\t//update width and height\n\t\trm.style(\"width\", control.getWidth());\n\t\trm.style(\"height\", control.getHeight());\n\t\trm.openEnd();\n\n\t\t//render content only if it is loaded, render placeholder otherwise\n\t\tconst isLazyLoadEnabled = control.getProperty(\"enableLazyLoad\") as boolean;\n\t\tif (!isLazyLoadEnabled || control.getProperty(\"loaded\")) {\n\t\t\tthis.renderContent(rm, control);\n\t\t} else {\n\t\t\trenderCustomPlaceholder(rm, control);\n\t\t}\n\n\t\trm.close(\"div\");\n\t},\n\n\t/**\n\t * Renders the content of the control.\n\t *\n\t * @private\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseContainer} control - The BaseContainer control.\n\t */\n\trenderContent: function (rm: RenderManager, control: BaseContainer) {\n\t\tif (control.getContent()?.length > 0) {\n\t\t\t//render header\n\t\t\trm.openStart(\"div\", control.getId() + \"-header\")\n\t\t\t\t.class(\"sapUiBaseContainerHeader\")\n\t\t\t\t.openEnd();\n\t\t\trm.renderControl(control._getHeader());\n\t\t\trm.close(\"div\");\n\n\t\t\t//render inner control only if orientation is SideBySide\n\t\t\tconst orientation = control.getProperty(\"orientation\") as OrientationType;\n\t\t\tconst isSideBySide = orientation === OrientationType.SideBySide;\n\n\t\t\t//render content\n\t\t\trm.openStart(\"div\", control.getId() + \"-content\")\n\t\t\t\t.class(\"sapUiBaseContainerContent\")\n\t\t\t\t.class(`sapUiOrientation${orientation}`)\n\t\t\t\t.openEnd();\n\t\t\tif (isSideBySide) {\n\t\t\t\trm.renderControl(control._getInnerControl());\n\t\t\t} else {\n\t\t\t\t//render individual panels\n\t\t\t\tcontrol.getContent().forEach((panel: BasePanel) => renderPanel(rm, control, panel));\n\t\t\t}\n\n\t\t\trm.close(\"div\");\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,gDAAA,sCAAAC,EAAAC,GAAA,mBAUSC,EAAeD,EAAA,mBAGxB,MAAME,EAAcA,CAACC,EAAmBC,EAAwBC,KAC/D,IAAKA,EAAMC,aAAc,CACxB,MACD,CAEA,MAAMC,EAAcH,EAAQI,YAAY,eACxC,MAAMC,EAAeF,IAAgBN,EAAgBS,WAErDP,EAAGQ,UAAU,MAAON,EAAMO,SAASC,MAAM,kBAAkBC,UAE3D,IAAKL,EAAc,CAElBN,EAAGY,cAAcX,EAAQY,eAAeX,GACzC,CAGAA,EAAMY,aAAaC,QAASC,IAC3BhB,EAAGY,cAAcI,KAGlBhB,EAAGiB,MAAM,QAMV,MAAMC,EAA0BA,CAAClB,EAAmBC,KACnD,IACC,MAAMkB,EAAclB,EAAQmB,eAAe,gBAC3C,IAAKD,EAAa,CACjBnB,EAAGQ,UAAU,MAAOP,EAAQQ,QAAU,gBACpCC,MAAM,iCACNC,UACAM,MAAM,OACR,MACD,CACAjB,EAAGY,cAAcO,EAClB,CAAE,MAAOE,GACRzB,EAAIyB,MAAM,gCAAiCA,EAC5C,GACC,IAAAC,EAEa,CACdC,WAAY,EAUZC,OAAQ,SAAUxB,EAAmBC,GACpCD,EAAGQ,UAAU,MAAOP,GAASS,MAAM,uBAGnC,GAAIT,EAAQI,YAAY,iBAAmBP,EAAgBS,WAAY,CACtEP,EAAGU,MAAM,mBACV,MAAO,GAAIT,EAAQI,YAAY,iBAAmBP,EAAgB2B,WAAY,CAC7EzB,EAAGU,MAAM,mBACV,KAAO,CACNV,EAAGU,MAAM,iBACV,CAGAV,EAAG0B,MAAM,QAASzB,EAAQ0B,YAC1B3B,EAAG0B,MAAM,SAAUzB,EAAQ2B,aAC3B5B,EAAGW,UAGH,MAAMkB,EAAoB5B,EAAQI,YAAY,kBAC9C,IAAKwB,GAAqB5B,EAAQI,YAAY,UAAW,CACxDyB,KAAKC,cAAc/B,EAAIC,EACxB,KAAO,CACNiB,EAAwBlB,EAAIC,EAC7B,CAEAD,EAAGiB,MAAM,MACV,EASAc,cAAe,SAAU/B,EAAmBC,GAC3C,GAAIA,EAAQa,cAAckB,OAAS,EAAG,CAErChC,EAAGQ,UAAU,MAAOP,EAAQQ,QAAU,WACpCC,MAAM,4BACNC,UACFX,EAAGY,cAAcX,EAAQgC,cACzBjC,EAAGiB,MAAM,OAGT,MAAMb,EAAcH,EAAQI,YAAY,eACxC,MAAMC,EAAeF,IAAgBN,EAAgBS,WAGrDP,EAAGQ,UAAU,MAAOP,EAAQQ,QAAU,YACpCC,MAAM,6BACNA,MAAM,mBAAmBN,KACzBO,UACF,GAAIL,EAAc,CACjBN,EAAGY,cAAcX,EAAQiC,mBAC1B,KAAO,CAENjC,EAAQa,aAAaC,QAASb,GAAqBH,EAAYC,EAAIC,EAASC,GAC7E,CAEAF,EAAGiB,MAAM,MACV,CACD,GACA,OAAAK,CAAA","ignoreList":[],"sourceRoot":""}},{"offset":{"line":46,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","deepEqual","sap_m_library","Page","UI5Element","Lib","HashChanger","S4MyHome","__BaseLayoutRenderer","__BasePanel","___library","___utils_Device","_interopRequireDefault","obj","__esModule","default","PageBackgroundDesign","BaseLayoutRenderer","BasePanel","OrientationType","DeviceType","calculateDeviceType","BaseLayout","extend","renderer","metadata","library","properties","enableSettings","type","group","visibility","enableFullScreen","expanded","defaultValue","settingsDialogPersisted","contentAdditionDialogPersisted","showHeader","showFooter","busy","backgroundDesign","Transparent","persContainerId","defaultAggregation","aggregations","items","singularName","multiple","settingsDialog","keyUserSettingsDialog","contentAdditionDialog","fullScreenContainer","events","onCollapse","constructor","_constructor","id","settings","Page.prototype.constructor.call","this","init","_init","Page.prototype.init.call","_settingsPanels","_elementConfigs","Map","_i18nBundle","getResourceBundleFor","_slideDurationInSeconds","_fullScreenContainer","getId","setAggregation","onBeforeRendering","_onBeforeRendering","event","Page.prototype.onBeforeRendering.call","_toggleHeaderVisibility","_attachRouteMatched","attachRouteMatched","openPersistedDialogs","bind","getProperty","document","body","style","setProperty","_openPersistedDialogs","getParameter","selectedKey","getAggregation","openSettingsDialog","openContentAdditionDialog","customHeader","getCustomHeader","getVisible","getHeaderContent","length","onAfterRendering","_onAfterRendering","_layoutLoaded","setTimeout","_hashChanger","_loadFullScreenFromHash","getHash","appIntent","split","window","addEventListener","currentHash","location","hash","substring","includes","getContent","_getContent","getItems","_getURLParams","queryString","indexOf","URLSearchParams","hashChanged","URLParams","expandedElementName","get","expandedElement","isTargetContainerVisible","targetContainer","isPhone","Mobile","_currentExpandedElement","fullScreenName","_toggleFullScreenForElement","has","getElementById","classList","add","updatedHash","_removeURLParam","replaceHash","toggleFullScreen","sourceElements","values","next","value","_openSettingsDialog","context","open","_openContentAdditionDialog","setSettingsDialog","_setSettingsDialog","settingsPanels","getPanels","forEach","settingsPanel","_addSettingsPanel","override","push","_getSettingsPanels","_extractElementConfig","element","sourceElement","isPanelElement","getParent","isPanelInSideBySideLayout","SideBySide","Set","index","indexOfItem","key","getKey","registerFullScreenElement","_registerFullScreenElement","elementConfig","set","deregisterFullScreenElement","_deregisterFullScreenElement","delete","updateFullScreenElement","_updateFullScreenElement","updatedConfig","newConfiguration","_addURLParam","toString","_toggleFullScreen","allowToggle","_checkToggleRequirements","panelIndex","indexOfAggregation","isContainerInSideBySideLayout","_detachResizeHandler","_placeClonedElement","toggle","_toggleFullScreenButtonText","_previousExpandedElement","isTargetContainerDifferent","_adjustPreviousExpandedElementIfRequired","_modifyContainer","setHash","_focusFullScreenButton","fireEvent","_domSnapshot","remove","insertItem","_toggleInnerPanelVisibility","_resetScrollPosition","_attachResizeHandler","warning","_getFullScreenContainer","removeAllContent","_sourceElementClone","addContent","currentFullScreenName","firstSourceElement","_scrollPosition","getAssociation","focus","sectionRef","_getSectionRef","undefined","scrollTop","indexOfVisiblePanel","panel","setVisible","control","isPanel","parentContainer","updateText","fullScreenButton","_getFullScreenButton","getText","fullScreenMenuItem","_getFullScreenMenuItem","_updateContainerHeader","sectionIndex","getDomRef","childNodes","targetElement","cloneNode","isSideBySideLayout","_getInnerControl","sourceElementDomRef","targetDomRef","innerHTML","append","_getCurrentExpandedElementName","_getCurrentExpandedElement","isExpandInHash"],"sources":["BaseLayout.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event } from \"jquery\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Log from \"sap/base/Log\";\nimport deepEqual from \"sap/base/util/deepEqual\";\nimport Bar from \"sap/m/Bar\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport { PageBackgroundDesign } from \"sap/m/library\";\nimport Page from \"sap/m/Page\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element, { MetadataOptions } from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport HashChanger from \"sap/ui/core/routing/HashChanger\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport BaseContainer from \"./BaseContainer\";\nimport { $BaseLayoutSettings } from \"./BaseLayout\";\nimport BaseLayoutRenderer from \"./BaseLayoutRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport ContentAdditionDialog from \"./ContentAdditionDialog\";\nimport { OrientationType } from \"./library\";\nimport MenuItem from \"./MenuItem\";\nimport { DeviceType, calculateDeviceType } from \"./utils/Device\";\n\ninterface FullScreenElementConfig {\n\tkey?: string;\n\tindex: number;\n\tfullScreenName?: string;\n\tsourceElements: Set<BaseContainer | BasePanel>;\n\ttargetContainer: BaseContainer;\n}\n\n/**\n *\n * Abstract base class for My Home layout.\n *\n * @extends Page\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseLayout\n */\nexport default abstract class BaseLayout extends Page {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _settingsPanels!: BaseSettingsPanel[];\n\tprivate _domSnapshot!: Node;\n\tprivate _sourceElementClone!: Node | Element;\n\tprivate _scrollPosition!: number;\n\tprivate _fullScreenContainer!: Page;\n\tprivate _slideDurationInSeconds!: number;\n\tprivate _layoutLoaded!: boolean;\n\tprivate _hashChanger!: HashChanger;\n\tprivate _currentExpandedElement!: FullScreenElementConfig | undefined;\n\tprivate _previousExpandedElement!: FullScreenElementConfig | undefined;\n\tprivate _elementConfigs!: Map<string, FullScreenElementConfig>;\n\tprivate _attachRouteMatched!: boolean;\n\n\tconstructor(id?: string | $BaseLayoutSettings);\n\tconstructor(id?: string, settings?: $BaseLayoutSettings);\n\t/**\n\t * Constructor for a new Base Layout.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseLayoutSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Indicates whether home settings are enabled for this control.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether the layout is expanded.\n\t\t\t */\n\t\t\texpanded: { type: \"boolean\", group: \"Misc\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether the settings dialog state is persisted for this control.\n\t\t\t */\n\t\t\tsettingsDialogPersisted: { type: \"boolean\", group: \"Misc\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Indicates whether the content addition dialog state is persisted for this control.\n\t\t\t */\n\t\t\tcontentAdditionDialogPersisted: { type: \"boolean\", group: \"Misc\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout shall have a header.\n\t\t\t */\n\t\t\tshowHeader: { type: \"boolean\", group: \"Appearance\", defaultValue: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether this layout shall have a footer.\n\t\t\t */\n\t\t\tshowFooter: { type: \"boolean\", group: \"Appearance\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Whether the layout is currently in busy state.\n\t\t\t */\n\t\t\tbusy: { type: \"boolean\", defaultValue: false, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * This property is used to set the background color of a page.\n\t\t\t */\n\t\t\tbackgroundDesign: {\n\t\t\t\ttype: \"sap.m.PageBackgroundDesign\",\n\t\t\t\tgroup: \"Appearance\",\n\t\t\t\tdefaultValue: PageBackgroundDesign.Transparent,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t/**\n\t\t\t * Container ID for Ushell Personalisation.\n\t\t\t * This property holds the ID of the personalization container.\n\t\t\t * It is used to store and retrieve personalized settings for the control.\n\t\t\t *\n\t\t\t * @type {string}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpersContainerId: { type: \"string\", defaultValue: \"\", visibility: \"public\" }\n\t\t},\n\t\tdefaultAggregation: \"items\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * The items aggregation which should be of type BaseContainer\n\t\t\t */\n\t\t\titems: { type: \"sap.cux.home.BaseContainer\", singularName: \"item\", multiple: true },\n\t\t\t/**\n\t\t\t * The settings dialog aggregation which controls settings for my home controls.\n\t\t\t * It should be of type BaseSettingsDialog.\n\t\t\t * If Not provided, a default settings dialog will be created from sap.cux.home.SettingsDialog.\n\t\t\t * In case of only custom settings panels, the settings dialog should be created and set manually from sap.cux.home.SettingsDialog.\n\t\t\t */\n\t\t\tsettingsDialog: {\n\t\t\t\ttype: \"sap.cux.home.BaseSettingsDialog\",\n\t\t\t\tsingularName: \"settingsDialog\",\n\t\t\t\tmultiple: false\n\t\t\t},\n\t\t\t/**\n\t\t\t * The Key User Settings dialog aggregation which controls key user settings for my home.\n\t\t\t * It should be of type BaseSettingsDialog.\n\t\t\t * If Not provided, a default settings dialog will be created from sap.cux.home.KeyUserSettingsDialog.\n\t\t\t * In case of only custom settings panels, the settings dialog should be created and set manually from sap.cux.home.KeyUserSettingsDialog.\n\t\t\t */\n\t\t\tkeyUserSettingsDialog: {\n\t\t\t\ttype: \"sap.cux.home.BaseSettingsDialog\",\n\t\t\t\tsingularName: \"keyUserSettingsDialog\",\n\t\t\t\tmultiple: false\n\t\t\t},\n\t\t\t/**\n\t\t\t * The content addition dialog aggregation which controls content addition for MyHome.\n\t\t\t */\n\t\t\tcontentAdditionDialog: {\n\t\t\t\ttype: \"sap.cux.home.BaseSettingsDialog\",\n\t\t\t\tsingularName: \"contentAdditionDialog\",\n\t\t\t\tmultiple: false,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t/**\n\t\t\t * The full screen container to display registered full-screen elements\n\t\t\t */\n\t\t\tfullScreenContainer: { type: \"sap.m.Page\", singularName: \"fullScreenContainer\", multiple: false, visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired after the layout is collapsed.\n\t\t\t */\n\t\t\tonCollapse: {}\n\t\t}\n\t};\n\n\tstatic renderer: typeof BaseLayoutRenderer = BaseLayoutRenderer;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._settingsPanels = [];\n\t\tthis._elementConfigs = new Map();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\n\t\t//setup full-screen container\n\t\tthis._slideDurationInSeconds = 1;\n\t\tthis._fullScreenContainer = new Page(`${this.getId()}-fullScreen-container`, {\n\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\tshowHeader: false\n\t\t});\n\t\tthis.setAggregation(\"fullScreenContainer\", this._fullScreenContainer);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: Event): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\tthis._toggleHeaderVisibility();\n\n\t\t//open persisted dialogs, if any\n\t\tif (!this._attachRouteMatched) {\n\t\t\tS4MyHome.attachRouteMatched({}, this.openPersistedDialogs.bind(this));\n\t\t\tthis._attachRouteMatched = true;\n\t\t}\n\n\t\t//update full-screen slide animation duration, if enabled\n\t\tif (this.getProperty(\"enableFullScreen\")) {\n\t\t\tdocument.body.style.setProperty(\"--sapUiSlideDuration\", `${this._slideDurationInSeconds}s`);\n\t\t}\n\t}\n\n\t/**\n\t * Opens persisted dialogs (settings or content addition) if their persisted properties are set.\n\t *\n\t * @private\n\t * @param {UI5Event<{ isMyHomeRoute: boolean }>} event - The route matched event containing route info.\n\t */\n\tprivate openPersistedDialogs(event: UI5Event<{ isMyHomeRoute: boolean }>) {\n\t\tif (event.getParameter(\"isMyHomeRoute\")) {\n\t\t\t//open settings dialog if persisted\n\t\t\tif (this.getProperty(\"settingsDialogPersisted\")) {\n\t\t\t\tconst selectedKey = (this.getAggregation(\"settingsDialog\") as BaseSettingsDialog)?.getProperty(\"selectedKey\") as string;\n\t\t\t\tthis.openSettingsDialog(selectedKey);\n\n\t\t\t\t//reset property\n\t\t\t\tthis.setProperty(\"settingsDialogPersisted\", false, true);\n\t\t\t}\n\n\t\t\t//open content addition dialog if persisted\n\t\t\tif (this.getProperty(\"contentAdditionDialogPersisted\")) {\n\t\t\t\tconst selectedKey = (this.getAggregation(\"contentAdditionDialog\") as BaseSettingsDialog)?.getProperty(\n\t\t\t\t\t\"selectedKey\"\n\t\t\t\t) as string;\n\t\t\t\tthis.openContentAdditionDialog(selectedKey);\n\n\t\t\t\t//reset property\n\t\t\t\tthis.setProperty(\"contentAdditionDialogPersisted\", false, true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the visibility of the header based on the presence of a custom header or header content.\n\t * @private\n\t */\n\tprivate _toggleHeaderVisibility(): void {\n\t\tconst customHeader = this.getCustomHeader() as Bar;\n\t\tconst showHeader = customHeader?.getVisible() || this.getHeaderContent().length > 0;\n\t\tthis.setProperty(\"showHeader\", showHeader, true);\n\t}\n\n\t/**\n\t * onAfterRendering lifecycle method.\n\t *\n\t * @private\n\t */\n\tpublic onAfterRendering(): void {\n\t\t//expand element on load if expanded through URL param\n\t\tif (this.getProperty(\"enableFullScreen\")) {\n\t\t\tif (!this._layoutLoaded) {\n\t\t\t\tthis._layoutLoaded = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._hashChanger = new HashChanger();\n\t\t\t\t\tthis._loadFullScreenFromHash(this._hashChanger.getHash() || \"\");\n\t\t\t\t\tconst [appIntent] = this._hashChanger.getHash().split(\"?\");\n\n\t\t\t\t\t//attach hash change event for toggling full screen\n\t\t\t\t\twindow.addEventListener?.(\"hashchange\", () => {\n\t\t\t\t\t\tconst currentHash = window.location.hash.substring(1);\n\t\t\t\t\t\t//toggle full screen only if hash is changed from within the app\n\t\t\t\t\t\tif (currentHash.includes?.(appIntent)) {\n\t\t\t\t\t\t\tthis._loadFullScreenFromHash(currentHash, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the content of the BaseLayout.\n\t * Overridden to return the items aggregation during inner page rendering.\n\t *\n\t * @private\n\t * @override\n\t * @returns An array of Control objects representing the content.\n\t */\n\tpublic getContent(): Control[] {\n\t\treturn this.getItems();\n\t}\n\n\t/**\n\t * Extracts URL search parameters from a given hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The hash string containing the URL parameters.\n\t * @returns {URLSearchParams} An instance of URLSearchParams containing the parsed parameters.\n\t */\n\tprivate _getURLParams(hash: string): URLSearchParams {\n\t\tconst queryString = hash?.includes(\"?\") ? hash.substring(hash.indexOf(\"?\") + 1) : \"\";\n\t\treturn new URLSearchParams(queryString);\n\t}\n\n\t/**\n\t * Loads full screen mode from URL hash if enabled.\n\t *\n\t * @private\n\t * @param {string} hash - The URL hash string.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed.\n\t */\n\tprivate _loadFullScreenFromHash(hash: string, hashChanged: boolean = false): void {\n\t\tconst enableFullScreen = this.getProperty(\"enableFullScreen\") as boolean;\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tconst expandedElementName = URLParams.get(\"expanded\") || \"\";\n\t\tconst expandedElement = this._elementConfigs.get(expandedElementName);\n\t\tconst isTargetContainerVisible = expandedElement?.targetContainer.getVisible() || false;\n\t\tconst isPhone = calculateDeviceType() === DeviceType.Mobile;\n\n\t\tif (enableFullScreen && expandedElement && !isPhone && isTargetContainerVisible) {\n\t\t\tif (this._currentExpandedElement && this._currentExpandedElement.fullScreenName !== expandedElementName) {\n\t\t\t\t//expand element and prevent slide if hash element is found and another element is currently expanded\n\t\t\t\tthis._toggleFullScreenForElement(expandedElement, hashChanged);\n\t\t\t} else if (!this._currentExpandedElement) {\n\t\t\t\t//expand element if hash element is found and no element is currently expanded\n\t\t\t\tthis._toggleFullScreenForElement(expandedElement);\n\t\t\t} else if (URLParams.has(\"expanded\")) {\n\t\t\t\t//retain the slide transition in case of hash switch\n\t\t\t\tdocument.getElementById(`${this.getId()}-layout-container`)?.classList.add(\"slide\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._currentExpandedElement) {\n\t\t\t\t//collapse expanded element if hash element not found\n\t\t\t\tthis._toggleFullScreenForElement(this._currentExpandedElement);\n\t\t\t} else {\n\t\t\t\t//reset hash if no expanded element found\n\t\t\t\tif (URLParams.has(\"expanded\")) {\n\t\t\t\t\tconst updatedHash = this._removeURLParam(hash, \"expanded\");\n\t\t\t\t\tthis._hashChanger?.replaceHash(updatedHash, \"Backwards\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Toggles full screen mode for the specified element.\n\t *\n\t * @private\n\t * @param {FullScreenElementConfig} expandedElement - The configuration of the element to be expanded.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed, affecting the toggle behavior.\n\t */\n\tprivate _toggleFullScreenForElement(expandedElement: FullScreenElementConfig, hashChanged: boolean = false): void {\n\t\tsetTimeout(() => this.toggleFullScreen(expandedElement.sourceElements.values().next().value!, hashChanged));\n\t}\n\n\t/**\n\t * Opens the settings dialog and navigate to the panel\n\t * specified by the selected key.\n\t *\n\t * @private\n\t * @param {string} selectedKey The key of the panel to navigate to\n\t */\n\tpublic openSettingsDialog(selectedKey: string = \"\", context: object = {}): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tsettingsDialog?.setProperty(\"selectedKey\", selectedKey);\n\t\tsettingsDialog?.setProperty(\"context\", context);\n\t\tsettingsDialog?.open();\n\t}\n\n\t/**\n\t * Opens the content addition dialog and opens the selected panel.\n\t *\n\t * @param {string} [selectedKey=\"\"] - The key to be set for the content addition dialog. Defaults to an empty string.\n\t */\n\tpublic openContentAdditionDialog(selectedKey: string = \"\"): void {\n\t\tconst contentAdditionDialog = this.getAggregation(\"contentAdditionDialog\") as ContentAdditionDialog;\n\t\tcontentAdditionDialog?.setProperty(\"selectedKey\", selectedKey);\n\t\tcontentAdditionDialog?.open();\n\t}\n\n\t/**\n\t * Sets SettingsDialog aggregation.\n\t * Overridden to update cached settings panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsDialog} the dialog for chaining\n\t */\n\tpublic setSettingsDialog(settingsDialog: BaseSettingsDialog): this {\n\t\tconst enableSettings = this.getProperty(\"enableSettings\") as boolean;\n\t\tif (enableSettings) {\n\t\t\tconst settingsPanels = settingsDialog?.getPanels();\n\t\t\tsettingsPanels?.forEach((settingsPanel: BaseSettingsPanel) => {\n\t\t\t\tthis._addSettingsPanel(settingsPanel);\n\t\t\t});\n\t\t}\n\t\tthis.setAggregation(\"settingsDialog\", settingsDialog);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a settings panel to the list of settings panels associated\n\t * with the layout's settings dialog.\n\t *\n\t * @param {BaseSettingsPanel} settingsPanel - The settings panel to be added.\n\t * @private\n\t */\n\tpublic _addSettingsPanel(settingsPanel: BaseSettingsPanel | BaseSettingsPanel[] | undefined, override?: boolean): void {\n\t\tif (settingsPanel) {\n\t\t\tif (override) {\n\t\t\t\tthis._settingsPanels = settingsPanel as BaseSettingsPanel[];\n\t\t\t} else {\n\t\t\t\tthis._settingsPanels.push(settingsPanel as BaseSettingsPanel);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds a settings panel to the list of settings panels associated\n\t * with the layout's settings dialog.\n\t *\n\t * @param {BaseSettingsPanel} settingsPanel - The settings panel to be added.\n\t * @private\n\t */\n\tpublic _getSettingsPanels(): BaseSettingsPanel[] {\n\t\treturn this._settingsPanels;\n\t}\n\n\t/**\n\t * Extracts the configuration necessary for handling full-screen functionality of an element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to extract the full-screen configuration.\n\t * @returns {FullScreenElementConfig} Full screen element configuration.\n\t */\n\tprivate _extractElementConfig(element: BaseContainer | BasePanel): FullScreenElementConfig {\n\t\tconst sourceElement = element;\n\t\tconst isPanelElement = sourceElement instanceof BasePanel;\n\t\tconst targetContainer = isPanelElement ? (sourceElement.getParent() as BaseContainer) : sourceElement;\n\t\tconst isPanelInSideBySideLayout = isPanelElement && targetContainer.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst fullScreenName = (isPanelInSideBySideLayout ? targetContainer : sourceElement).getProperty(\"fullScreenName\") as string;\n\t\tconst sourceElements = new Set<BaseContainer | BasePanel>().add(sourceElement);\n\n\t\treturn {\n\t\t\tfullScreenName,\n\t\t\tsourceElements,\n\t\t\ttargetContainer,\n\t\t\tindex: this.indexOfItem(targetContainer),\n\t\t\tkey: isPanelElement ? sourceElement.getKey() : \"\"\n\t\t};\n\t}\n\n\t/**\n\t * Configures an element for full-screen functionality by extracting and storing its configuration.\n\t * Only stores the configuration if a full-screen name is provided and layout is not currently expanded.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to configure for full-screen.\n\t */\n\tpublic registerFullScreenElement(element: BaseContainer | BasePanel): void {\n\t\tconst elementConfig = this._extractElementConfig(element);\n\t\tconst { fullScreenName } = elementConfig;\n\n\t\tif (fullScreenName && !this.getProperty(\"expanded\")) {\n\t\t\tif (this._elementConfigs.get(fullScreenName)) {\n\t\t\t\tconst sourceElements = (\n\t\t\t\t\tthis._elementConfigs.get(fullScreenName)?.sourceElements || new Set<BaseContainer | BasePanel>()\n\t\t\t\t).add(element);\n\t\t\t\tthis._elementConfigs.set(fullScreenName, { ...elementConfig, sourceElements } as FullScreenElementConfig);\n\t\t\t} else {\n\t\t\t\tthis._elementConfigs.set(fullScreenName, elementConfig);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Removes an element's full-screen configuration based on its full-screen name.\n\t * Only removes the configuration if a full-screen name is provided and layout is not currently expanded.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to remove from full-screen configuration.\n\t */\n\tpublic deregisterFullScreenElement(element: BaseContainer | BasePanel): void {\n\t\tconst { fullScreenName } = this._extractElementConfig(element);\n\t\tif (fullScreenName && !this.getProperty(\"expanded\")) {\n\t\t\tthis._elementConfigs.delete(fullScreenName);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the full screen configuration for the specified element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which the full screen configuration is to be updated.\n\t * @param {Partial<FullScreenElementConfig>} [updatedConfig] - An optional partial configuration to update the element's full screen configuration.\n\t *\n\t * @returns {void}\n\t */\n\tpublic updateFullScreenElement(element: BaseContainer | BasePanel, updatedConfig?: Partial<FullScreenElementConfig>): void {\n\t\tconst elementConfig = this._extractElementConfig(element);\n\t\tconst { fullScreenName } = elementConfig;\n\n\t\tif (fullScreenName && !this.getProperty(\"expanded\")) {\n\t\t\tconst newConfiguration = { ...this._elementConfigs.get(fullScreenName), ...updatedConfig } as FullScreenElementConfig;\n\t\t\tthis._elementConfigs.set(fullScreenName, newConfiguration);\n\t\t}\n\t}\n\n\t/**\n\t * Adds or updates a URL parameter in the given hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The original hash string.\n\t * @param {string} key - The parameter key to add or update.\n\t * @param {string} value - The value for the parameter.\n\t * @returns {string} The updated hash string with the new or updated parameter.\n\t */\n\tprivate _addURLParam(hash: string, key: string, value: string): string {\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tURLParams.set(key, value);\n\t\treturn `${hash.split(\"?\")[0]}?${URLParams.toString()}`;\n\t}\n\n\t/**\n\t * Removes a specified parameter from the URL hash string.\n\t *\n\t * @private\n\t * @param {string} hash - The original hash string.\n\t * @param {string} key - The parameter key to remove.\n\t * @returns {string} The updated hash string without the specified parameter.\n\t */\n\tprivate _removeURLParam(hash: string, key: string): string {\n\t\tconst URLParams = this._getURLParams(hash);\n\t\tURLParams.delete(key);\n\t\treturn URLParams.toString() ? `${hash.split(\"?\")[0]}?${URLParams.toString()}` : hash.split(\"?\")[0];\n\t}\n\n\t/**\n\t * Toggles the full-screen state of a given element, handling layout adjustments, visibility, and scroll position.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element to toggle full-screen state for.\n\t * @param {boolean} [hashChanged=false] - Indicates if the hash has changed.\n\t */\n\tpublic toggleFullScreen(element: BaseContainer | BasePanel, hashChanged: boolean = false): void {\n\t\tconst isPanelInSideBySideLayout =\n\t\t\telement instanceof BasePanel && element.getParent()?.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst fullScreenName = (isPanelInSideBySideLayout ? element.getParent() : element)?.getProperty(\"fullScreenName\") as string;\n\t\tconst elementConfig = this._elementConfigs.get(fullScreenName);\n\t\tconst allowToggle = hashChanged || this._checkToggleRequirements(elementConfig as FullScreenElementConfig);\n\n\t\tif (elementConfig && allowToggle) {\n\t\t\tconst { targetContainer } = elementConfig;\n\t\t\tconst currentHash = this._hashChanger?.getHash() || \"\";\n\t\t\tconst panelIndex = targetContainer.indexOfAggregation(\"content\", element);\n\t\t\tconst isContainerInSideBySideLayout = targetContainer.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\t\tlet expanded = this.getProperty(\"expanded\") as boolean;\n\t\t\t// detach resize handler\n\t\t\ttargetContainer._detachResizeHandler();\n\t\t\tif (!hashChanged) {\n\t\t\t\t//update expanded state\n\t\t\t\tthis.setProperty(\"expanded\", !this.getProperty(\"expanded\"), true);\n\t\t\t\texpanded = this.getProperty(\"expanded\") as boolean;\n\n\t\t\t\t//place cloned element in full screen container\n\t\t\t\tthis._placeClonedElement(targetContainer, expanded, panelIndex);\n\n\t\t\t\t//perform slide transition\n\t\t\t\tdocument.getElementById(`${this.getId()}-layout-container`)?.classList.toggle(\"slide\", expanded);\n\t\t\t}\n\n\t\t\t//toggle full-screen button text for the element\n\t\t\tthis._toggleFullScreenButtonText(element, expanded);\n\n\t\t\t// store the current and previous expanded element\n\t\t\tif (expanded) {\n\t\t\t\tthis._previousExpandedElement = this._currentExpandedElement;\n\t\t\t\tthis._currentExpandedElement = elementConfig;\n\t\t\t} else {\n\t\t\t\tdelete this._currentExpandedElement;\n\t\t\t}\n\n\t\t\t//add or remove actual element at the end of slide transition\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tif (expanded) {\n\t\t\t\t\t\t// in case of horizontal or vertical layout, set expanded element's key as selected key\n\t\t\t\t\t\tif (!isContainerInSideBySideLayout) {\n\t\t\t\t\t\t\ttargetContainer.setProperty(\"selectedKey\", element.getProperty(\"key\"));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//adjust currently expanded element if present\n\t\t\t\t\t\tconst isTargetContainerDifferent = !deepEqual(this._previousExpandedElement?.targetContainer, targetContainer);\n\t\t\t\t\t\tthis._adjustPreviousExpandedElementIfRequired(isTargetContainerDifferent);\n\n\t\t\t\t\t\tthis._modifyContainer(targetContainer, panelIndex);\n\n\t\t\t\t\t\t//adjust hash\n\t\t\t\t\t\tthis._currentExpandedElement = elementConfig;\n\t\t\t\t\t\tconst updatedHash = this._addURLParam(currentHash, \"expanded\", fullScreenName);\n\t\t\t\t\t\tthis._hashChanger?.setHash(updatedHash);\n\n\t\t\t\t\t\tthis._focusFullScreenButton(element);\n\n\t\t\t\t\t\t//fire onExpand event\n\t\t\t\t\t\telement.fireEvent(\"onExpand\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//delete stored dom snapshot\n\t\t\t\t\t\t(this._domSnapshot as Element)?.remove();\n\n\t\t\t\t\t\tthis.insertItem(targetContainer, elementConfig.index);\n\n\t\t\t\t\t\t//show all other panels in the container, if not in side-by-side layout\n\t\t\t\t\t\tif (!isContainerInSideBySideLayout) {\n\t\t\t\t\t\t\tthis._toggleInnerPanelVisibility(targetContainer, true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//adjust hash\n\t\t\t\t\t\tdelete this._currentExpandedElement;\n\t\t\t\t\t\tconst updatedHash = this._removeURLParam(currentHash, \"expanded\");\n\t\t\t\t\t\tthis._hashChanger?.setHash(updatedHash);\n\n\t\t\t\t\t\t//reset scroll position on collapse\n\t\t\t\t\t\tthis._resetScrollPosition(element);\n\n\t\t\t\t\t\t//fire onCollapse event\n\t\t\t\t\t\tthis.fireEvent(\"onCollapse\");\n\t\t\t\t\t}\n\t\t\t\t\t// attach resize handler\n\t\t\t\t\ttargetContainer._attachResizeHandler();\n\t\t\t\t},\n\t\t\t\thashChanged ? 0 : this._slideDurationInSeconds * 1000\n\t\t\t);\n\t\t} else {\n\t\t\tLog.warning(`Element with ID: ${element?.getId()} not registered for full screen`);\n\t\t}\n\t}\n\n\t/**\n\t * Place actual element in the full screen container and hide all other panels in the container, if not in side-by-side layout\n\t *\n\t * @private\n\t * @param {BaseContainer} targetContainer - Container that is to be displayed in full-screen mode\n\t * @param {number} panelIndex - Index of the panel to remain visible if not in side-by-side layout.\n\t */\n\tprivate _modifyContainer(targetContainer: BaseContainer, panelIndex: number) {\n\t\t//adjust currently expanded element if present\n\t\tconst isContainerInSideBySideLayout = targetContainer.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst isTargetContainerDifferent = !deepEqual(this._previousExpandedElement?.targetContainer, targetContainer);\n\t\tif (!this._previousExpandedElement || isTargetContainerDifferent) {\n\t\t\tthis._getFullScreenContainer().removeAllContent();\n\t\t\t(this._sourceElementClone as Element)?.remove();\n\t\t\tthis._getFullScreenContainer().addContent(targetContainer as Control);\n\t\t}\n\n\t\t//hide all other panels in the container, if not in side-by-side layout\n\t\tif (!isContainerInSideBySideLayout) {\n\t\t\tthis._toggleInnerPanelVisibility(targetContainer, false, panelIndex);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the toggle requirements are met for the given element configuration.\n\t *\n\t * @private\n\t * @param {FullScreenElementConfig} elementConfig - The configuration of the element to check.\n\t * @returns {boolean} `true` if toggling is allowed, otherwise `false`.\n\t */\n\tprivate _checkToggleRequirements(elementConfig: FullScreenElementConfig): boolean {\n\t\tconst expanded = this.getProperty(\"expanded\") as boolean;\n\t\tlet allowToggle = true;\n\n\t\tif (expanded) {\n\t\t\t// if expanded, allow toggling only if the provided element and expanded element are the same\n\t\t\tconst currentFullScreenName = elementConfig?.fullScreenName;\n\t\t\tallowToggle = this._currentExpandedElement?.fullScreenName === currentFullScreenName;\n\t\t}\n\n\t\treturn allowToggle;\n\t}\n\n\t/**\n\t * Adjusts the current expanded element if required based on the new target container.\n\t *\n\t * @private\n\t * @param {boolean} isTargetContainerDifferent - Indicates whether the target container is different from the current expanded element's container.\n\t */\n\tprivate _adjustPreviousExpandedElementIfRequired(isTargetContainerDifferent: boolean) {\n\t\tif (this._previousExpandedElement) {\n\t\t\tconst firstSourceElement = this._previousExpandedElement.sourceElements.values().next().value!;\n\n\t\t\t//update full-screen button text for the current expanded element to collapsed state\n\t\t\tthis._toggleFullScreenButtonText(firstSourceElement, false);\n\n\t\t\tif (isTargetContainerDifferent) {\n\t\t\t\t//if expanded through hash change, place the current expanded element back in the layout\n\t\t\t\tthis.insertItem(this._previousExpandedElement.targetContainer, this._previousExpandedElement.index);\n\n\t\t\t\t//reset scroll position on expansion throuh hash change\n\t\t\t\tthis._scrollPosition = 0;\n\n\t\t\t\t//show all other panels in the container, if not in side-by-side layout\n\t\t\t\tif (this._previousExpandedElement.targetContainer.getProperty(\"orientation\") !== OrientationType.SideBySide) {\n\t\t\t\t\tthis._toggleInnerPanelVisibility(this._previousExpandedElement.targetContainer, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Resets the scroll position to that of the collapsed element in the original container.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element for which to reset the scroll position.\n\t */\n\tprivate _resetScrollPosition(element: BaseContainer | BasePanel) {\n\t\t//reset scroll position\n\t\tsetTimeout(() => {\n\t\t\tUI5Element.getElementById(`${element.getAssociation(\"fullScreenButton\", null) as string}-btn`)?.focus();\n\t\t\tconst sectionRef = this._getSectionRef(this);\n\t\t\tif (sectionRef !== undefined) {\n\t\t\t\tsectionRef.scrollTop = this._scrollPosition;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Toggles visibility of inner panels, except one specified by index.\n\t * Applicable only for panels not in SideSide layout.\n\t *\n\t * @private\n\t * @param {BaseContainer} element - Container with inner panels.\n\t * @param {boolean} visibility - Desired visibility state for panels.\n\t * @param {number} [indexOfVisiblePanel] - Index of panel to exclude from toggle.\n\t */\n\tprivate _toggleInnerPanelVisibility(element: BaseContainer, visibility: boolean, indexOfVisiblePanel?: number): void {\n\t\telement.getContent()?.forEach((panel, index) => {\n\t\t\tpanel.setVisible(index === indexOfVisiblePanel ? !visibility : visibility);\n\t\t});\n\t}\n\n\t/**\n\t * Updates the full-screen button text for a control (or all controls in a side-by-side layout) based on expanded state.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to update or the parent of controls to update.\n\t * @param {boolean} expanded - Indicates if the text should reflect an expanded or collapsed state.\n\t */\n\tprivate _toggleFullScreenButtonText(control: BaseContainer | BasePanel, expanded: boolean): void {\n\t\tconst isPanel = control instanceof BasePanel;\n\t\tconst parentContainer = (isPanel ? control.getParent() : control) as BaseContainer;\n\t\tconst isPanelInSideBySideLayout = isPanel && parentContainer.getProperty(\"orientation\") === OrientationType.SideBySide;\n\n\t\t//update full-screen button text\n\t\tconst updateText = (control: BaseContainer | BasePanel) => {\n\t\t\tconst fullScreenButton = this._getFullScreenButton(control);\n\t\t\tfullScreenButton.setProperty(\"text\", this._i18nBundle.getText(expanded ? \"collapse\" : \"expand\"), true);\n\t\t\tconst fullScreenMenuItem = this._getFullScreenMenuItem(control);\n\t\t\tfullScreenMenuItem.setProperty(\"title\", this._i18nBundle.getText(expanded ? \"collapse\" : \"expand\"), true);\n\t\t};\n\n\t\tif (isPanelInSideBySideLayout) {\n\t\t\tparentContainer.getContent()?.forEach(updateText);\n\t\t} else {\n\t\t\tupdateText(control);\n\t\t}\n\n\t\t//update container header elements\n\t\tparentContainer._updateContainerHeader(isPanelInSideBySideLayout ? parentContainer : control);\n\t}\n\n\t/**\n\t * Sets focus on the full-screen button associated with an element.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} element - The element whose full-screen button should be focused.\n\t */\n\tprivate _focusFullScreenButton(element: BaseContainer | BasePanel): void {\n\t\tsetTimeout(() => {\n\t\t\tUI5Element.getElementById(`${element.getAssociation(\"fullScreenButton\", null) as string}-btn`)?.focus();\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the full-screen button associated with a control.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to find the full-screen button for.\n\t * @returns {Button} The full-screen button associated with the control.\n\t */\n\tprivate _getFullScreenButton(control: BaseContainer | BasePanel): Button {\n\t\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenButton\", null) as string) as Button;\n\t}\n\n\t/**\n\t * Retrieves the Full screen menu item associated with a control.\n\t *\n\t * @private\n\t * @param {BaseContainer | BasePanel} control - The control to find the full-screen button for.\n\t * @returns {MenuItem} The \"Show More\" menu item associated with the control.\n\t */\n\tprivate _getFullScreenMenuItem(control: BaseContainer | BasePanel): MenuItem {\n\t\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenMenuItem\", null) as string) as MenuItem;\n\t}\n\n\t/**\n\t * Retrieves the full-screen container from the current aggregation.\n\t *\n\t * @private\n\t * @returns {Page} The Page instance used as the full-screen container.\n\t */\n\tpublic _getFullScreenContainer(): Page {\n\t\treturn this.getAggregation(\"fullScreenContainer\") as Page;\n\t}\n\n\t/**\n\t * Gets the first child node of a control's DOM reference.\n\t *\n\t * @private\n\t * @param {Control} element - The control to get the child node for.\n\t * @returns {Node | Element} The first child node of the control's DOM reference.\n\t */\n\tprivate _getSectionRef<T extends Node | Element = Element>(element: Control): T | undefined {\n\t\tconst sectionIndex = this.getProperty(\"showHeader\") && element !== this._getFullScreenContainer() ? 1 : 0;\n\t\treturn element.getDomRef()?.childNodes[sectionIndex] as T;\n\t}\n\n\t/**\n\t * Clones and places an element into a target container for full-screen transitions.\n\t *\n\t * @private\n\t * @param {BaseContainer} targetElement - Element to clone or containing the element to clone.\n\t * @param {boolean} expanded - True to expand (clone and place), false to collapse (restore from snapshot).\n\t * @param {number} panelIndex - Index of the panel to clone if not in side-by-side layout.\n\t */\n\tprivate _placeClonedElement(targetElement: BaseContainer, expanded: boolean, panelIndex: number) {\n\t\t//store scroll position and DOM snapshot\n\t\tthis._scrollPosition = (expanded ? this._getSectionRef(this)?.scrollTop : this._scrollPosition) as number;\n\n\t\t//create a snapshot of the homepage in collapsed mode for use in transition back from full screen.\n\t\t//the dom ref had to be cloned twice following rendering issues in the Insights Tiles section.\n\t\tthis._domSnapshot = (expanded ? this.getDomRef()?.cloneNode(true).cloneNode(true) : this._domSnapshot) as Node;\n\n\t\tconst isSideBySideLayout = targetElement.getProperty(\"orientation\") === OrientationType.SideBySide;\n\t\tconst sourceElement = isSideBySideLayout\n\t\t\t? targetElement\n\t\t\t: (targetElement._getInnerControl() as FlexBox)?.getItems()[panelIndex] || targetElement;\n\t\tconst sourceElementDomRef = sourceElement.getDomRef() || targetElement.getDomRef();\n\t\tthis._sourceElementClone = expanded ? (sourceElementDomRef?.cloneNode(true) as Node) : this._sourceElementClone;\n\t\tconst targetDomRef = expanded ? this._getSectionRef(this._getFullScreenContainer()) : this.getDomRef();\n\t\tif (targetDomRef) {\n\t\t\tsetTimeout(() => {\n\t\t\t\ttargetDomRef.innerHTML = \"\";\n\t\t\t\ttargetDomRef.append(expanded ? this._sourceElementClone : this._domSnapshot);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the name of the currently expanded element, if any.\n\t *\n\t * @private\n\t * @returns {string | undefined} - The full screen name of the currently expanded element, if any.\n\t */\n\tpublic _getCurrentExpandedElementName(): string | undefined {\n\t\treturn this._getCurrentExpandedElement()?.fullScreenName;\n\t}\n\n\t/**\n\t * Retrieves the currently expanded element config, if any\n\t *\n\t * @private\n\t * @returns {FullScreenElementConfig | undefined} - The full screen name of the currently expanded element, if any.\n\t */\n\tpublic _getCurrentExpandedElement(): FullScreenElementConfig | undefined {\n\t\tconst isExpandInHash = this._getURLParams(this._hashChanger?.getHash() || \"\").has(\"expanded\");\n\t\tif (isExpandInHash) {\n\t\t\treturn this._currentExpandedElement;\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":51,"column":0},"map":{"version":3,"names":["sap","ui","define","PageRenderer","__exports","apiVersion","render","rm","control","containerId","getId","isContainerRenderedOnce","document","getElementById","openStart","class","openEnd","renderControl","getAggregation","close"],"sources":["BaseLayoutRenderer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Page from \"sap/m/Page\";\nimport PageRenderer from \"sap/m/PageRenderer\";\nimport RenderManager from \"sap/ui/core/RenderManager\";\nimport BaseLayout from \"./BaseLayout\";\n\nexport default {\n\tapiVersion: 2,\n\n\t/**\n\t * Renders the control.\n\t *\n\t * @public\n\t * @override\n\t * @param {RenderManager} rm - The RenderManager object.\n\t * @param {BaseLayout} control - The BaseLayout control to be rendered.\n\t */\n\trender: function (rm: RenderManager, control: BaseLayout) {\n\t\t/*\n\t\t * Existing controls like NavContainer will not allow for control\n\t\t * over the duration of the transition. To overcome this limitation,\n\t\t * we render a simple div container and manage the transition from\n\t\t * one page to another using CSS.\n\t\t */\n\t\tconst containerId = `${control.getId()}-layout-container`;\n\t\tconst isContainerRenderedOnce = document.getElementById(containerId);\n\n\t\tif (!isContainerRenderedOnce) {\n\t\t\trm.openStart(\"div\", containerId).class(\"sapCuxBaseLayout\").openEnd();\n\t\t}\n\n\t\t//render main container\n\t\tPageRenderer.render(rm, control);\n\n\t\t//render full-screen container\n\t\trm.renderControl(control.getAggregation(\"fullScreenContainer\") as Page);\n\n\t\tif (!isContainerRenderedOnce) {\n\t\t\trm.close(\"div\");\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,6CAAA,gCAAAC,GAAA,iBAAAC,EAUe,CACdC,WAAY,EAUZC,OAAQ,SAAUC,EAAmBC,GAOpC,MAAMC,EAAc,GAAGD,EAAQE,2BAC/B,MAAMC,EAA0BC,SAASC,eAAeJ,GAExD,IAAKE,EAAyB,CAC7BJ,EAAGO,UAAU,MAAOL,GAAaM,MAAM,oBAAoBC,SAC5D,CAGAb,EAAaG,OAAOC,EAAIC,GAGxBD,EAAGU,cAAcT,EAAQU,eAAe,wBAExC,IAAKP,EAAyB,CAC7BJ,EAAGY,MAAM,MACV,CACD,GACA,OAAAf,CAAA","ignoreList":[],"sourceRoot":""}},{"offset":{"line":56,"column":0},"map":{"version":3,"names":["sap","ui","define","GenericTile","NewsContent","TileContent","sap_m_library","Element","Lib","___utils_DataFormatUtils","Priority","recycleId","BaseNewsItem","extend","metadata","library","properties","imageUrl","type","group","title","subTitle","footer","priority","priorityText","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","init","_init","Element.prototype.init.call","_i18nBundle","getResourceBundleFor","_oTile","createTile","setImageUrl","_setImageUrl","sUrl","setBackgroundImage","setProperty","setSubTitle","_setSubTitle","sText","getTileContent","getContent","setSubheader","setTitle","_setTitle","setContentText","setFooter","_setFooter","setPriority","_setPriority","setPriorityText","_setPriorityText","getTile","_getTile","_createTile","getId","mode","frameType","backgroundImage","getImageUrl","tileContent","getFooter","getPriority","None","getPriorityText","content","contentText","getTitle","subheader","getSubTitle"],"sources":["BaseNewsItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport NewsContent from \"sap/m/NewsContent\";\nimport TileContent from \"sap/m/TileContent\";\nimport { FrameType, Priority } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { $BaseNewsItemSettings } from \"./BaseNewsItem\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\n\nexport interface INews {\n\turl?: string;\n\ttitle: string;\n\tdescription: string;\n\tpubDate: string;\n\timageUrl: string;\n\texpandFields?: string;\n}\n\n/**\n *\n * Base class for managing and storing News items.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseNewsItem\n */\nexport default abstract class BaseNewsItem extends Element {\n\tconstructor(idOrSettings?: string | $BaseNewsItemSettings);\n\tconstructor(id?: string, settings?: $BaseNewsItemSettings);\n\t/**\n\t * Constructor for a new Base News Item.\n\t *\n\t * @param {string} [id] ID for the new base news item, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new base news item\n\t */\n\tpublic constructor(id?: string, settings?: $BaseNewsItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprotected _oTile!: GenericTile;\n\tprotected _i18nBundle!: ResourceBundle;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The image URL of the news.\n\t\t\t */\n\t\t\timageUrl: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Title of the news\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Subtitle of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Footer of the app\n\t\t\t */\n\t\t\tfooter: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * The priority of the news item.\n\t\t\t */\n\t\t\tpriority: { type: \"sap.m.Priority\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * The priority text of the news item\n\t\t\t */\n\t\t\tpriorityText: { type: \"string\", group: \"Misc\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t\tif (!this._oTile) {\n\t\t\tthis.createTile();\n\t\t}\n\t}\n\n\t/**\n\t * Sets the image URL for the news item.\n\t * @param {string} sUrl - The URL of the image.\n\t */\n\tpublic setImageUrl(sUrl: string): BaseNewsItem {\n\t\tconst imageUrl = sUrl;\n\t\tthis._oTile.setBackgroundImage(imageUrl);\n\t\treturn this.setProperty(\"imageUrl\", imageUrl, true);\n\t}\n\n\t/**\n\t * Sets the subTitle of the news item.\n\t * @param {string} sText - The subTitle of the news item.\n\t */\n\tpublic setSubTitle(sText: string): BaseNewsItem {\n\t\t(this._oTile.getTileContent()[0].getContent() as NewsContent).setSubheader(sText);\n\t\treturn this.setProperty(\"subTitle\", sText, true);\n\t}\n\n\t/**\n\t * Sets the title of the news item.\n\t * @param {string} sText - The Title of the news item.\n\t */\n\tpublic setTitle(sText: string): BaseNewsItem {\n\t\t(this._oTile.getTileContent()[0].getContent() as NewsContent).setContentText(sText);\n\t\treturn this.setProperty(\"title\", sText, true);\n\t}\n\n\t/**\n\t * Sets the footer of the news item.\n\t * @param {string} sText - The footer of the news item.\n\t */\n\tpublic setFooter(sText: string): BaseNewsItem {\n\t\tthis._oTile.getTileContent()[0].setFooter(sText);\n\t\treturn this.setProperty(\"footer\", sText, true);\n\t}\n\n\t/**\n\t * Sets the priority of the news item.\n\t * @param {Priority} priority - The priority of the news item.\n\t */\n\tpublic setPriority(priority: Priority): BaseNewsItem {\n\t\tthis._oTile.getTileContent()[0].setPriority(priority);\n\t\treturn this.setProperty(\"priority\", priority, true);\n\t}\n\n\t/**\n\t * Sets the priority text of the news item.\n\t * @param {string} priorityText - The priority text of the news item.\n\t */\n\tpublic setPriorityText(priorityText: string): BaseNewsItem {\n\t\tthis._oTile.getTileContent()[0].setPriorityText(priorityText);\n\t\treturn this.setProperty(\"priorityText\", priorityText, true);\n\t}\n\n\t/**\n\t * Retrieves the tile control associated with the news item.\n\t * If the tile control does not exist, it is created.\n\t * @returns {sap.m.Tile} The tile control.\n\t */\n\tpublic getTile(): GenericTile {\n\t\tif (!this._oTile) {\n\t\t\tthis.createTile();\n\t\t}\n\t\treturn this._oTile;\n\t}\n\n\t/**\n\t * Creates the tile control associated with the news item.\n\t * @private\n\t */\n\tpublic createTile(): void {\n\t\tthis._oTile = new GenericTile(recycleId(`${this.getId()}-news-tile`), {\n\t\t\tmode: \"ArticleMode\",\n\t\t\tframeType: \"Stretch\" as FrameType,\n\t\t\tbackgroundImage: this.getImageUrl(),\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(recycleId(`${this.getId()}-news-tile-content`), {\n\t\t\t\t\tfooter: this.getFooter(),\n\t\t\t\t\tpriority: this.getPriority() || Priority.None,\n\t\t\t\t\tpriorityText: this.getPriorityText(),\n\t\t\t\t\tcontent: new NewsContent(recycleId(`${this.getId()}-news-content`), {\n\t\t\t\t\t\tcontentText: this.getTitle(),\n\t\t\t\t\t\tsubheader: this.getSubTitle()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,uCAAA,yJAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBASoBC,EAAQJ,EAAA,kBAKnBK,EAASF,EAAA,aAWlB,MAe8BG,EAAqBL,EAAOM,OAAA,6BAezCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,SAAU,CAAEC,KAAM,SAAUC,MAAO,QAInCC,MAAO,CAAEF,KAAM,SAAUC,MAAO,QAIhCE,SAAU,CAAEH,KAAM,SAAUC,MAAO,QAInCG,OAAQ,CAAEJ,KAAM,SAAUC,MAAO,QAIjCI,SAAU,CAAEL,KAAM,iBAAkBC,MAAO,QAI3CK,aAAc,CAAEN,KAAM,SAAUC,MAAO,UAhClCM,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAwCOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,YAAc1B,EAAI2B,qBAAqB,qBAC5C,IAAKL,KAAKM,OAAQ,CACjBN,KAAKO,YACN,CACD,EAMOC,YAAW,SAAAC,EAACC,GAClB,MAAMvB,EAAWuB,EACjBV,KAAKM,OAAOK,mBAAmBxB,GAC/B,OAAOa,KAAKY,YAAY,WAAYzB,EAAU,KAC/C,EAMO0B,YAAW,SAAAC,EAACC,GACjBf,KAAKM,OAAOU,iBAAiB,GAAGC,aAA6BC,aAAaH,GAC3E,OAAOf,KAAKY,YAAY,WAAYG,EAAO,KAC5C,EAMOI,SAAQ,SAAAC,EAACL,GACdf,KAAKM,OAAOU,iBAAiB,GAAGC,aAA6BI,eAAeN,GAC7E,OAAOf,KAAKY,YAAY,QAASG,EAAO,KACzC,EAMOO,UAAS,SAAAC,EAACR,GAChBf,KAAKM,OAAOU,iBAAiB,GAAGM,UAAUP,GAC1C,OAAOf,KAAKY,YAAY,SAAUG,EAAO,KAC1C,EAMOS,YAAW,SAAAC,EAAChC,GAClBO,KAAKM,OAAOU,iBAAiB,GAAGQ,YAAY/B,GAC5C,OAAOO,KAAKY,YAAY,WAAYnB,EAAU,KAC/C,EAMOiC,gBAAe,SAAAC,EAACjC,GACtBM,KAAKM,OAAOU,iBAAiB,GAAGU,gBAAgBhC,GAChD,OAAOM,KAAKY,YAAY,eAAgBlB,EAAc,KACvD,EAOOkC,QAAO,SAAAC,IACb,IAAK7B,KAAKM,OAAQ,CACjBN,KAAKO,YACN,CACA,OAAOP,KAAKM,MACb,EAMOC,WAAU,SAAAuB,IAChB9B,KAAKM,OAAS,IAAIjC,EAAYQ,EAAU,GAAGmB,KAAK+B,qBAAsB,CACrEC,KAAM,cACNC,UAAW,UACXC,gBAAiBlC,KAAKmC,cACtBC,YAAa,CACZ,IAAI7D,EAAYM,EAAU,GAAGmB,KAAK+B,6BAA8B,CAC/DvC,OAAQQ,KAAKqC,YACb5C,SAAUO,KAAKsC,eAAiB1D,EAAS2D,KACzC7C,aAAcM,KAAKwC,kBACnBC,QAAS,IAAInE,EAAYO,EAAU,GAAGmB,KAAK+B,wBAAyB,CACnEW,YAAa1C,KAAK2C,WAClBC,UAAW5C,KAAK6C,oBAKrB,IAAC,OAnJ4B/D,CAAY","ignoreList":[],"sourceRoot":""}},{"offset":{"line":61,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","FlexItemData","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","VerticalLayout","__BasePanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BasePanel","SETTINGS_PANELS_KEYS","BaseNewsPanel","extend","metadata","library","aggregations","content","multiple","singularName","visibility","newsItems","type","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","init","_init","BasePanel.prototype.init.call","newsVerticalLayout","getId","generateErrorMessage","layoutData","order","growFactor","setWidth","newsWrapper","items","addContent","getNewsWrapper","_getNewsWrapper","_generateErrorMessage","errorCard","manageNewsButton","text","_i18nBundle","getText","tooltip","press","handleEditNews","bind","oErrorMessage","illustrationSize","Small","illustrationType","NoNotifications","title","description","additionalContent","addStyleClass","wrap","backgroundDesign","visible","height","width","setManageNewsButtonVisibility","_setManageNewsButtonVisibility","setVisible","_handleEditNews","parentContainer","getParent","_getLayout","openSettingsDialog","NEWS"],"sources":["BaseNewsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport VerticalLayout from \"sap/ui/layout/VerticalLayout\";\nimport { $BaseNewsPanelSettings } from \"./BaseNewsPanel\";\nimport BasePanel from \"./BasePanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\n/**\n *\n * Base Panel class for managing and storing News.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseNewsPanel\n */\nexport default abstract class BaseNewsPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $BaseNewsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseNewsPanelSettings);\n\t/**\n\t * Constructor for a new Base News Panel.\n\t *\n\t * @param {string} [id] ID for the new panel, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new panel\n\t */\n\tpublic constructor(id?: string, settings?: $BaseNewsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tprivate errorCard!: VBox;\n\tprivate newsVerticalLayout!: VerticalLayout;\n\tprivate newsWrapper!: VBox;\n\tprivate manageNewsButton!: Button;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Holds the news aggregation\n\t\t\t */\n\t\t\tnewsItems: { type: \"sap.cux.home.BaseNewsItem\", singularName: \"newsItem\", multiple: true }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\tthis.newsVerticalLayout = new VerticalLayout(`${this.getId()}-newsContent`, {\n\t\t\tcontent: [this.generateErrorMessage()],\n\t\t\tlayoutData: new FlexItemData({\n\t\t\t\tid: `${this.getId()}-flexItemdata`,\n\t\t\t\torder: 0,\n\t\t\t\tgrowFactor: 1\n\t\t\t})\n\t\t}).setWidth(\"100%\");\n\t\tthis.newsWrapper = new VBox(`${this.getId()}-newsContentWrapper`, { items: [this.newsVerticalLayout] });\n\t\tthis.addContent(this.newsWrapper);\n\t}\n\n\t/**\n\t * Generates app wrapper for displaying apps.\n\t * @private\n\t * @returns The generated apps wrapper.\n\t */\n\tpublic getNewsWrapper(): VerticalLayout {\n\t\treturn this.newsVerticalLayout;\n\t}\n\n\t/**\n\t * Generates the error message wrapper with illustrated message.\n\t * @private\n\t * @returns Wrapper with illustrated message.\n\t */\n\tprotected generateErrorMessage(): VBox {\n\t\tif (!this.errorCard) {\n\t\t\tthis.manageNewsButton = new Button(`${this.getId()}-idManageNewsBtn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"editLinkNews\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"editLinkNews\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: this.handleEditNews.bind(this)\n\t\t\t});\n\t\t\tconst oErrorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Small,\n\t\t\t\tillustrationType: IllustratedMessageType.NoNotifications,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noNewsTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noNewsDescription\"),\n\t\t\t\tadditionalContent: [this.manageNewsButton]\n\t\t\t}).addStyleClass(\"customIllustratedMessage\");\n\t\t\tthis.errorCard = new VBox(`${this.getId()}-errorCard`, {\n\t\t\t\twrap: \"Wrap\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\titems: [oErrorMessage],\n\t\t\t\tvisible: false,\n\t\t\t\theight: \"17rem\",\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder sapUiSmallMarginTopBottom\");\n\t\t}\n\t\treturn this.errorCard;\n\t}\n\n\t/**\n\t * Set the visibility of the manage news button.\n\t * @param visible - A boolean indicating whether the manage news should be visible or not.\n\t * @private\n\t */\n\tprotected setManageNewsButtonVisibility(visible: boolean): void {\n\t\tthis.manageNewsButton.setVisible(visible);\n\t}\n\n\t/**\n\t * Handles the edit news event.\n\t * Opens the news dialog for managing news data.\n\t * @private\n\t */\n\tprotected handleEditNews() {\n\t\tconst parentContainer = this.getParent() as NewsAndPagesContainer;\n\t\tparentContainer?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.NEWS);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,wCAAA,sNAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAcOG,EAASJ,EAAAF,GAAA,MAEPO,EAAoBN,EAAA,wBAE7B,MAgB8BO,EAAsBF,EAASG,OAAA,8BAkB5CC,SAA4B,CAC3CC,QAAS,eACTC,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,UAAWC,WAAY,UAIhEC,UAAW,CAAEC,KAAM,4BAA6BH,aAAc,WAAYD,SAAU,QAnB/EK,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EA2BOG,KAAI,SAAAC,IACVC,sBAAAH,MAEAA,KAAKI,mBAAqB,IAAI7B,EAAe,GAAGyB,KAAKK,sBAAuB,CAC3EhB,QAAS,CAACW,KAAKM,wBACfC,WAAY,IAAIrC,EAAa,CAC5B2B,GAAI,GAAGG,KAAKK,uBACZG,MAAO,EACPC,WAAY,MAEXC,SAAS,QACZV,KAAKW,YAAc,IAAIrC,EAAK,GAAG0B,KAAKK,6BAA8B,CAAEO,MAAO,CAACZ,KAAKI,sBACjFJ,KAAKa,WAAWb,KAAKW,YACtB,EAOOG,eAAc,SAAAC,IACpB,OAAOf,KAAKI,kBACb,EAOUE,qBAAoB,SAAAU,IAC7B,IAAKhB,KAAKiB,UAAW,CACpBjB,KAAKkB,iBAAmB,IAAIjD,EAAO,GAAG+B,KAAKK,0BAA2B,CACrEc,KAAMnB,KAAKoB,YAAYC,QAAQ,gBAC/BC,QAAStB,KAAKoB,YAAYC,QAAQ,gBAClC3B,KAAM,aACN6B,MAAOvB,KAAKwB,eAAeC,KAAKzB,QAEjC,MAAM0B,EAAgB,IAAIvD,EAAmB,GAAG6B,KAAKK,uBAAwB,CAC5EsB,iBAAkBvD,EAAuBwD,MACzCC,iBAAkBxD,EAAuByD,gBACzCC,MAAO/B,KAAKoB,YAAYC,QAAQ,eAChCW,YAAahC,KAAKoB,YAAYC,QAAQ,qBACtCY,kBAAmB,CAACjC,KAAKkB,oBACvBgB,cAAc,4BACjBlC,KAAKiB,UAAY,IAAI3C,EAAK,GAAG0B,KAAKK,oBAAqB,CACtD8B,KAAM,OACNC,iBAAkB,QAClBxB,MAAO,CAACc,GACRW,QAAS,MACTC,OAAQ,QACRC,MAAO,SACLL,cAAc,6DAClB,CACA,OAAOlC,KAAKiB,SACb,EAOUuB,8BAA6B,SAAAC,EAACJ,GACvCrC,KAAKkB,iBAAiBwB,WAAWL,EAClC,EAOUb,eAAc,SAAAmB,IACvB,MAAMC,EAAkB5C,KAAK6C,YAC7BD,GAAiBE,aAAaC,mBAAmBhE,EAAqBiE,KACvE,IAAC,OA/G4BhE,CAAa","ignoreList":[],"sourceRoot":""}},{"offset":{"line":66,"column":0},"map":{"version":3,"names":["sap","ui","define","__BasePanel","_interopRequireDefault","obj","__esModule","default","BasePanel","BasePagePanel","extend","metadata","library","properties","title","type","group","key","aggregations","content","multiple","singularName","visibility","pages","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this"],"sources":["BasePagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport BasePanel from \"./BasePanel\";\n\n/**\n *\n * Base Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BasePagePanel\n */\nexport default abstract class BasePagePanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $BasePagePanelSettings);\n\tconstructor(id?: string, settings?: $BasePagePanelSettings);\n\t/**\n\t * Constructor for a new Base Page Panel.\n\t *\n\t * @param {string} [id] ID for the new panel, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new panel\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the control.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\" },\n\t\t\t/**\n\t\t\t * Unique key identifier for the control.\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Collection of pages that this panel manages.\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true }\n\t\t}\n\t};\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,wCAAA,yBAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAASJ,EAAAD,GAEhB,MAgB8BM,EAAsBD,EAASE,OAAA,8BAa5CC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,QAIhCC,IAAK,CAAEF,KAAM,SAAUC,MAAO,SAE/BE,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,UAAWC,WAAY,UAIhEC,MAAO,CAAER,KAAM,oBAAqBM,aAAc,OAAQD,SAAU,QAxB/DI,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,IAAC,OAX4BlB,CAAa","ignoreList":[],"sourceRoot":""}},{"offset":{"line":71,"column":0},"map":{"version":3,"names":["sap","ui","define","DragDropInfo","Element","Lib","sap_ui_core_library","___utils_Device","___utils_DragDropUtils","dnd","calculateDeviceType","attachKeyboardHandler","BasePanel","extend","metadata","library","properties","title","type","group","defaultValue","key","visible","tooltip","visibility","enableSettings","enableKeyUserSettings","enableFullScreen","fullScreenName","defaultAggregation","aggregations","content","multiple","singularName","actionButtons","menuItems","events","onExpand","loaded","associations","fullScreenButton","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","init","_init","_i18nBundle","getResourceBundleFor","getProperty","setProperty","getId","_setCount","count","getParent","_setPanelCount","getDeviceType","_getDeviceType","container","addDragDropConfigTo","_addDragDropConfigTo","dropHandler","keyboardHandler","dropPositionType","DropPosition","Between","addDragDropConfig","sourceAggregation","targetAggregation","dropPosition","dropLayout","DropLayout","Horizontal","drop","attachBrowserEvent","event","disableNavigation","metaKey","ctrlKey","dragDropEvent"],"sources":["BasePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { dnd } from \"sap/ui/core/library\";\nimport BaseContainer from \"./BaseContainer\";\nimport { $BasePanelSettings } from \"./BasePanel\";\nimport { DeviceType, calculateDeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\n\n/**\n *\n * Abstract base class for all panels placed in {@link sap.cux.home.BaseContainer}.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BasePanel\n */\nexport default abstract class BasePanel extends Element {\n\tprotected _i18nBundle!: ResourceBundle;\n\n\tconstructor(id?: string | $BasePanelSettings);\n\tconstructor(id?: string, settings?: $BasePanelSettings);\n\t/**\n\t * Constructor for a new Base Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the panel.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Key for the panel.\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Specifies whether the panel should be visible.\n\t\t\t */\n\t\t\tvisible: { type: \"boolean\", group: \"Misc\", defaultValue: true },\n\t\t\t/**\n\t\t\t * Tooltip for the panel.\n\t\t\t */\n\t\t\ttooltip: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies whether settings should be enabled for the panel.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies whether key user settings should be enabled for the panel.\n\t\t\t */\n\t\t\tenableKeyUserSettings: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\", defaultValue: true },\n\t\t\t/**\n\t\t\t * Indicates whether full screen is enabled for this control.\n\t\t\t */\n\t\t\tenableFullScreen: { type: \"boolean\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t * This property specifies the parameter key expected in the URL query string\n\t\t\t * to identify the container to be expanded.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\" },\n\t\t\t/**\n\t\t\t * Specifies the actions to be shown within the panel.\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\" },\n\t\t\t/**\n\t\t\t * Specifies the items that are shown within the dropdown menu of the panel.\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Event is fired before the container is expanded.\n\t\t\t */\n\t\t\tonExpand: {},\n\t\t\t/**\n\t\t\t * Event is fired after the panel is loaded.\n\t\t\t */\n\t\t\tloaded: {}\n\t\t},\n\t\tassociations: {\n\t\t\tfullScreenButton: { type: \"sap.m.Button\", multiple: false, singularName: \"fullScreenButton\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\n\t\t// set default key if not provided\n\t\tif (!this.getProperty(\"key\")) {\n\t\t\tthis.setProperty(\"key\", this.getId());\n\t\t}\n\t}\n\n\t/**\n\t * Updates the count information of IconTabFilter of IconTabBar inner control\n\t * in case of SideBySide layout\n\t *\n\t * @private\n\t * @param {string} count - updated count information\n\t */\n\tpublic _setCount(count?: string): void {\n\t\t(this.getParent() as BaseContainer)?._setPanelCount(this, count);\n\t}\n\n\t/**\n\t * Retrieves the device type for the current panel.\n\t *\n\t * @private\n\t * @returns {DeviceType} - The device type of the parent container if it exists,\n\t * otherwise calculates and returns the device type based on the current device width.\n\t */\n\tprotected getDeviceType(): DeviceType {\n\t\tconst container = this.getParent() as BaseContainer;\n\t\treturn container ? container.getDeviceType() : calculateDeviceType();\n\t}\n\n\tprotected addDragDropConfigTo(\n\t\tcontainer: GridContainer | FlexBox | HeaderContainer,\n\t\tdropHandler: (event: DropInfo$DropEvent) => void,\n\t\tkeyboardHandler?: (event: KeyboardEvent) => void,\n\t\tdropPositionType: dnd.DropPosition = dnd.DropPosition.Between\n\t): void {\n\t\tcontainer\n\t\t\t.addDragDropConfig(\n\t\t\t\tnew DragDropInfo(`${container.getId()}--addDragDropConfig`, {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tdropPosition: dropPositionType,\n\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\tdrop: dropHandler\n\t\t\t\t})\n\t\t\t)\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\tconst disableNavigation = event.metaKey || event.ctrlKey;\n\t\t\t\tvoid attachKeyboardHandler(event, disableNavigation, (dragDropEvent: DropInfo$DropEvent) => {\n\t\t\t\t\tdropHandler(dragDropEvent);\n\t\t\t\t});\n\t\t\t});\n\t\tif (keyboardHandler) {\n\t\t\tcontainer.attachBrowserEvent(\"keydown\", keyboardHandler);\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,oCAAA,iJAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAcSC,EAAGH,EAAA,aAGSI,EAAmBH,EAAA,6BAC/BI,EAAqBH,EAAA,yBAE9B,MAgB8BI,EAAkBR,EAAOS,OAAA,0BAetCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,IAAK,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIpDE,QAAS,CAAEJ,KAAM,UAAWC,MAAO,OAAQC,aAAc,MAIzDG,QAAS,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAII,WAAY,UAIxEC,eAAgB,CAAEP,KAAM,UAAWC,MAAO,OAAQK,WAAY,UAI9DE,sBAAuB,CAAER,KAAM,UAAWC,MAAO,OAAQK,WAAY,SAAUJ,aAAc,MAI7FO,iBAAkB,CAAET,KAAM,UAAWC,MAAO,OAAQK,WAAY,UAMhEI,eAAgB,CAAEV,KAAM,SAAUC,MAAO,OAAQK,WAAY,WAE9DK,mBAAoB,UACpBC,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,WAIzCC,cAAe,CAAEhB,KAAM,eAAgBc,SAAU,KAAMC,aAAc,gBAIrEE,UAAW,CAAEjB,KAAM,wBAAyBc,SAAU,KAAMC,aAAc,aAE3EG,OAAQ,CAIPC,SAAU,CAAC,EAIXC,OAAQ,CAAC,GAEVC,aAAc,CACbC,iBAAkB,CAAEtB,KAAM,eAAgBc,SAAU,MAAOC,aAAc,mBAAoBT,WAAY,YApEpGiB,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EA4EOG,KAAI,SAAAC,IACVF,KAAKG,YAAc5C,EAAI6C,qBAAqB,qBAG5C,IAAKJ,KAAKK,YAAY,OAAQ,CAC7BL,KAAKM,YAAY,MAAON,KAAKO,QAC9B,CACD,EASOC,UAAS,SAAAA,EAACC,GACfT,KAAKU,aAA+BC,eAAeX,KAAMS,EAC3D,EASUG,cAAa,SAAAC,IACtB,MAAMC,EAAYd,KAAKU,YACvB,OAAOI,EAAYA,EAAUF,gBAAkBhD,GAChD,EAEUmD,oBAAmB,SAAAC,EAC5BF,EACAG,EACAC,EACAC,EAAqCxD,EAAIyD,aAAaC,SAEtDP,EACEQ,kBACA,IAAIjE,EAAa,GAAGyD,EAAUP,6BAA8B,CAC3DgB,kBAAmB,QACnBC,kBAAmB,QACnBC,aAAcN,EACdO,WAAY/D,EAAIgE,WAAWC,WAC3BC,KAAMZ,KAGPa,mBAAmB,UAAYC,IAC/B,MAAMC,EAAoBD,EAAME,SAAWF,EAAMG,aAC5CrE,EAAsBkE,EAAOC,EAAoBG,IACrDlB,EAAYkB,OAGf,GAAIjB,EAAiB,CACpBJ,EAAUgB,mBAAmB,UAAWZ,EACzC,CACD,IAAC,OAlJ4BpD,CAAS","ignoreList":[],"sourceRoot":""}},{"offset":{"line":76,"column":0},"map":{"version":3,"names":["sap","ui","define","Dialog","Lib","BaseSettingsDialog","extend","renderer","apiVersion","metadata","library","properties","selectedKey","type","group","defaultValue","visibility","context","defaultAggregation","aggregations","panels","singularName","multiple","constructor","_constructor","id","settings","Dialog.prototype.constructor.call","this","init","_init","Dialog.prototype.init.call","_i18nBundle","getResourceBundleFor","_panelCache","addStyleClass","getPanels","_getPanels","slice","addPanel","_addPanel","panel","push","addAggregation","insertPanel","_insertPanel","index","splice","insertAggregation","removePanel","_removePanel","indexOf","removeAggregation","removeAllPanels","_removeAllPanels","removeAllAggregation"],"sources":["BaseSettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Dialog from \"sap/m/Dialog\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { $BaseSettingsDialogSettings } from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\n\n/**\n *\n * Abstract base class for custom settings dialog for {@link sap.cux.home.BaseLayout}.\n *\n * @extends Dialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseSettingsDialog\n */\nexport default abstract class BaseSettingsDialog extends Dialog {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _panelCache!: BaseSettingsPanel[];\n\n\tconstructor(id?: string | $BaseSettingsDialogSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsDialogSettings);\n\t/**\n\t * Constructor for a new Base Settings Dialog.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseSettingsDialogSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The selectedkey of the settings dialog\n\t\t\t */\n\t\t\tselectedKey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Additional context of the settings dialog\n\t\t\t */\n\t\t\tcontext: { type: \"object\", group: \"Misc\", defaultValue: {}, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"panels\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Contains the panels aggregation and should be of type BaseSettingsPanel.\n\t\t\t */\n\t\t\tpanels: { type: \"sap.cux.home.BaseSettingsPanel\", singularName: \"panel\", multiple: true }\n\t\t}\n\t};\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\n\t\t//setup page\n\t\tthis._panelCache = [];\n\t\tthis.addStyleClass(\"sapContrastPlus\");\n\t}\n\n\t/**\n\t * Returns all the panels in the dialog.\n\t * Overridden to return cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsPanel[]} panel array\n\t */\n\tpublic getPanels(): BaseSettingsPanel[] {\n\t\treturn this._panelCache.slice();\n\t}\n\n\t/**\n\t * Adds a new panel at the end of the available panels.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsDialog} the dialog for chaining\n\t */\n\taddPanel(panel: BaseSettingsPanel): BaseSettingsDialog {\n\t\tthis._panelCache.push(panel);\n\t\tthis.addAggregation(\"panels\", panel);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a new panel to the 'panels' aggregation at the index.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @param {BaseSettingsPanel} panel The panel to insert.\n\t * @param {number} index The index at which to insert the panel.\n\t * @returns {BaseSettingsDialog} Returns 'this' to allow method chaining.\n\t */\n\tinsertPanel(panel: BaseSettingsPanel, index: number): BaseSettingsDialog {\n\t\tthis._panelCache.splice(index, 0, panel);\n\t\tthis.insertAggregation(\"panels\", panel, index);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes a panel from the dialog and updates the cache.\n\t *\n\t * @public\n\t * @param {BaseSettingsPanel} panel - The panel to remove.\n\t * @returns {BaseSettingsPanel} The removed panel.\n\t */\n\tremovePanel(panel: BaseSettingsPanel): BaseSettingsPanel {\n\t\tthis._panelCache.splice(this._panelCache.indexOf(panel), 1);\n\t\treturn this.removeAggregation(\"panels\", panel) as BaseSettingsPanel;\n\t}\n\n\t/**\n\t * Removes all panels from the dialog, clears the internal panel cache.\n\t * Overridden to update cached panels.\n\t *\n\t * @public\n\t * @override\n\t * @returns {BaseSettingsPanel[]} An empty array representing the removed panels.\n\t */\n\tremoveAllPanels(): BaseSettingsPanel[] {\n\t\tthis._panelCache = [];\n\t\tthis.removeAllAggregation(\"panels\");\n\t\treturn this.getPanels();\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,6CAAA,4CAAAC,EAAAC,GAAA,aAYA,MAgB8BC,EAA2BF,EAAMG,OAAA,mCAqCvDC,SAAW,CACjBC,WAAY,GAtBGC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,YAAa,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAI5EC,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,CAAC,EAAGC,WAAY,WAEzEE,mBAAoB,SACpBC,aAAc,CAIbC,OAAQ,CAAEP,KAAM,iCAAkCQ,aAAc,QAASC,SAAU,QArB9EC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAiCOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,YAAc5B,EAAI6B,qBAAqB,qBAG5CL,KAAKM,YAAc,GACnBN,KAAKO,cAAc,kBACpB,EAUOC,UAAS,SAAAC,IACf,OAAOT,KAAKM,YAAYI,OACzB,EAUAC,SAAQ,SAAAC,EAACC,GACRb,KAAKM,YAAYQ,KAAKD,GACtBb,KAAKe,eAAe,SAAUF,GAC9B,OAAOb,IACR,EAYAgB,YAAW,SAAAC,EAACJ,EAA0BK,GACrClB,KAAKM,YAAYa,OAAOD,EAAO,EAAGL,GAClCb,KAAKoB,kBAAkB,SAAUP,EAAOK,GACxC,OAAOlB,IACR,EASAqB,YAAW,SAAAC,EAACT,GACXb,KAAKM,YAAYa,OAAOnB,KAAKM,YAAYiB,QAAQV,GAAQ,GACzD,OAAOb,KAAKwB,kBAAkB,SAAUX,EACzC,EAUAY,gBAAe,SAAAC,IACd1B,KAAKM,YAAc,GACnBN,KAAK2B,qBAAqB,UAC1B,OAAO3B,KAAKQ,WACb,IAAC,OA1H4B/B,CAAkB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":81,"column":0},"map":{"version":3,"names":["sap","ui","define","DragDropInfo","Element","Lib","sap_ui_core_library","___utils_DragDropUtils","dnd","attachKeyboardHandler","BaseSettingsPanel","extend","metadata","library","properties","key","type","group","defaultValue","visibility","title","icon","showHeader","defaultAggregation","aggregations","content","singularName","multiple","actionButtons","associations","panel","events","panelNavigated","parameters","context","onDialogClose","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","_keyuserChanges","init","_init","_i18nBundle","getResourceBundleFor","_actionButtonsCache","_getPanel","getElementById","getAssociation","_persistDialog","dialog","layout","getParent","keyMap","dialogName","getMetadata","getName","persistPropertyName","undefined","setProperty","_isDialogPersisted","getProperty","getKeyUserChanges","_getKeyUserChanges","addKeyUserChanges","_addKeyUserChanges","change","push","clearKeyUserChanges","_clearKeyUserChanges","addDragDropConfigTo","_addDragDropConfigTo","container","dropHandler","addDragDropConfig","getId","sourceAggregation","targetAggregation","dropPosition","DropPosition","On","dropLayout","DropLayout","Horizontal","drop","attachBrowserEvent","event","disableNavigation","metaKey","ctrlKey","dragDropEvent","getActionButtons","_getActionButtons","slice","addActionButton","_addActionButton","button","addAggregation","insertActionButton","_insertActionButton","index","splice","insertAggregation","removeActionButton","_removeActionButton","removedButton","indexOf","removeAggregation","isSupported","_isSupported","Promise","resolve","e","reject"],"sources":["BaseSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport Table from \"sap/m/Table\";\nimport DragDropInfo from \"sap/ui/core/dnd/DragDropInfo\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { dnd } from \"sap/ui/core/library\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport { $BaseSettingsPanelSettings } from \"./BaseSettingsPanel\";\nimport { IKeyUserChange } from \"./interface/KeyUserInterface\";\nimport { attachKeyboardHandler } from \"./utils/DragDropUtils\";\n\n/**\n *\n * Abstract base class for panels inside My Home Settings Dialog.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseSettingsPanel\n */\nexport default abstract class BaseSettingsPanel extends Element {\n\tprotected _i18nBundle!: ResourceBundle;\n\tprivate _keyuserChanges: Array<IKeyUserChange> = [];\n\tprivate _actionButtonsCache!: Button[];\n\n\tconstructor(id?: string | $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings);\n\t/**\n\t * Constructor for a new Base Settings Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Key of the settings panel.\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Title of the settings panel.\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Icon of the settings panel.\n\t\t\t */\n\t\t\ticon: { type: \"sap.ui.core.URI\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies if header should be shown for the settings panel page.\n\t\t\t */\n\t\t\tshowHeader: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"content\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Content aggregation of the settings panel.\n\t\t\t */\n\t\t\tcontent: { type: \"sap.ui.core.Control\", singularName: \"content\", multiple: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Holds the actions to be shown within the settings panel.\n\t\t\t */\n\t\t\tactionButtons: { type: \"sap.m.Button\", multiple: true, singularName: \"actionButton\", visibility: \"hidden\" }\n\t\t},\n\t\tassociations: {\n\t\t\t/**\n\t\t\t * Associations of the settings panel.\n\t\t\t * Id of the panel associated with the settings panel to be provided.\n\t\t\t * In case of multiple panels with same Id, the first panel will be associated.\n\t\t\t * If no panel is found with the provided id, the settings panel will not be associated with any panel.\n\t\t\t */\n\t\t\tpanel: { type: \"string\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fired whenever the panel has been navigated to.\n\t\t\t */\n\t\t\tpanelNavigated: {\n\t\t\t\tparameters: {\n\t\t\t\t\tcontext: { type: \"object\" }\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Fired whenever the associated settings dialog is closed.\n\t\t\t */\n\t\t\tonDialogClose: {}\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tthis._i18nBundle = Lib.getResourceBundleFor(\"sap.cux.home.i18n\") as ResourceBundle;\n\t\tthis._actionButtonsCache = [];\n\t}\n\n\t/**\n\t * Retrieves the BasePanel or BaseLayout associated with the BaseSettingsPanel.\n\t *\n\t * @returns {BasePanel | BaseLayout} The panel or layout associated with the BaseSettingsPanel\n\t * @private\n\t */\n\tprotected _getPanel(): BasePanel | BaseLayout {\n\t\treturn Element.getElementById(this.getAssociation(\"panel\", null) as string) as BasePanel | BaseLayout;\n\t}\n\n\t/**\n\t * Persists the dialog state by setting a property on the parent layout\n\t * indicating that the settings dialog should be persisted.\n\t *\n\t * @private\n\t */\n\tprotected _persistDialog(dialog: BaseSettingsDialog): void {\n\t\tif (!dialog) return;\n\n\t\tconst layout = dialog.getParent() as BaseLayout;\n\t\tconst keyMap = {\n\t\t\t\"sap.cux.home.SettingsDialog\": \"settingsDialogPersisted\",\n\t\t\t\"sap.cux.home.ContentAdditionDialog\": \"contentAdditionDialogPersisted\"\n\t\t};\n\n\t\tconst dialogName = dialog.getMetadata().getName();\n\t\tconst persistPropertyName = dialogName in keyMap ? keyMap[dialogName as keyof typeof keyMap] : undefined;\n\n\t\tif (persistPropertyName) {\n\t\t\tlayout?.setProperty(persistPropertyName, true, true);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the dialog is persisted by examining the parent layout's persistence properties.\n\t *\n\t * @param {BaseSettingsDialog} dialog - The dialog to check for persistence status\n\t * @returns {boolean} True if the dialog is persisted (either settings dialog or content addition dialog), false otherwise\n\t *\n\t * @private\n\t */\n\tprotected _isDialogPersisted(dialog: BaseSettingsDialog): boolean {\n\t\tconst layout = dialog.getParent() as BaseLayout;\n\t\tif (!layout) return false;\n\n\t\treturn layout.getProperty(\"settingsDialogPersisted\") === true || layout.getProperty(\"contentAdditionDialogPersisted\") === true;\n\t}\n\n\t/**\n\t * Returns the KeyUser Changes made by user.\n\t *\n\t * @public\n\t */\n\tpublic getKeyUserChanges(): Array<IKeyUserChange> {\n\t\treturn this._keyuserChanges;\n\t}\n\n\t/**\n\t * Add Changes made by user in case of KeyUser Settings Panel.\n\t *\n\t * @public\n\t */\n\tpublic addKeyUserChanges(change: IKeyUserChange): void {\n\t\tthis._keyuserChanges.push(change);\n\t}\n\n\t/**\n\t * Clear all KeyUser Changes made by user.\n\t *\n\t * @public\n\t */\n\tpublic clearKeyUserChanges(): void {\n\t\tthis._keyuserChanges = [];\n\t}\n\tprotected addDragDropConfigTo(container: Table, dropHandler: (event: DropInfo$DropEvent) => void): void {\n\t\tcontainer\n\t\t\t.addDragDropConfig(\n\t\t\t\tnew DragDropInfo(`${container.getId()}--settingsDragDropConfig`, {\n\t\t\t\t\tsourceAggregation: \"items\",\n\t\t\t\t\ttargetAggregation: \"items\",\n\t\t\t\t\tdropPosition: dnd.DropPosition.On,\n\t\t\t\t\tdropLayout: dnd.DropLayout.Horizontal,\n\t\t\t\t\tdrop: dropHandler\n\t\t\t\t})\n\t\t\t)\n\t\t\t.attachBrowserEvent(\"keydown\", (event: KeyboardEvent) => {\n\t\t\t\tconst disableNavigation = event.metaKey || event.ctrlKey;\n\t\t\t\tvoid attachKeyboardHandler(event, disableNavigation, (dragDropEvent: DropInfo$DropEvent) => {\n\t\t\t\t\tdropHandler(dragDropEvent);\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\t/**\n\t * Retrieves the action buttons from the panel.\n\t *\n\t * @public\n\t * @returns {Button[]} array of action buttons.\n\t */\n\tpublic getActionButtons(): Button[] {\n\t\treturn this._actionButtonsCache.slice();\n\t}\n\n\t/**\n\t * Adds an action button to the panel.\n\t *\n\t * @public\n\t * @param {Button} button - The button to add.\n\t * @returns {BaseSettingsPanel} The instance of the panel for chaining.\n\t */\n\tpublic addActionButton(button: Button): BaseSettingsPanel {\n\t\tthis._actionButtonsCache.push(button);\n\t\tthis.addAggregation(\"actionButtons\", button);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Inserts an action button at a specific index in the panel.\n\t *\n\t * @public\n\t * @param {Button} button - The button to insert.\n\t * @param {number} index - The index at which to insert the button.\n\t * @returns {BaseSettingsPanel} The instance of the panel for chaining.\n\t */\n\tpublic insertActionButton(button: Button, index: number): BaseSettingsPanel {\n\t\tthis._actionButtonsCache.splice(index, 0, button);\n\t\tthis.insertAggregation(\"actionButtons\", button, index);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes an action button from the panel.\n\t *\n\t * @public\n\t * @param {Button} button - The button to remove.\n\t * @returns {Button | null} The removed button or null if not found.\n\t */\n\tpublic removeActionButton(button: Button): Button | null {\n\t\tconst removedButton = this._actionButtonsCache.splice(this._actionButtonsCache.indexOf(button), 1);\n\t\tthis.removeAggregation(\"actionButtons\", button);\n\t\treturn removedButton[0] || null;\n\t}\n\n\t/**\n\t * Checks if the panel is supported. To be overridden by subclasses.\n\t *\n\t * @public\n\t * @async\n\t * @returns {Promise<boolean>} A promise that resolves to true if the panel is supported.\n\t */\n\tpublic async isSupported(): Promise<boolean> {\n\t\treturn Promise.resolve(true);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":86,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerSettings","SelectionVariant","CardHelper","InsightsInMemoryCachingHost","HBox","HeaderContainer","VBox","EventBus","Card","JSONModel","Container","S4MyHome","__BasePanel","__MenuItem","__AppManager","___utils_CommonUtils","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","___utils_InsightsUtils","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BasePanel","_finallyRethrows","finalizer","bind","MenuItem","AppManager","getPageManagerInstance","PREFERED_CARDS","SETTINGS_PANELS_KEYS","recycleId","calculateCardWidth","DeviceType","fetchElementProperties","focusDraggedItem","addFESRId","createShowMoreActionButton","createShowMoreMenuItem","getAssociatedFullScreenMenuItem","sortMenuItems","targetsAreEqual","PersonalisationUtils","UShellPersonalizer","cardsMenuItems","cardsContainerMenuItems","cardsContainerActionButtons","sortedMenuItems","REFRESH","EDIT_CARDS","AI_INSIGHT_CARD","Constants","PLACEHOLDER_CARD_COUNT","CARDS_GAP","RECOMMENDATION_PATH","runtimeHostCreated","CardsPanel","extend","metadata","library","properties","title","type","group","defaultValue","visibility","key","fullScreenName","defaultAggregation","aggregations","content","multiple","singularName","cards","host","events","handleHidePanel","parameters","handleUnhidePanel","visibleCardsUpdated","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","aVisibleCardInstances","cardsInViewport","_appSwitched","_headerVisible","init","_init","_this","BasePanel.prototype.init.call","setProperty","cardWidth","cardHeight","getDeviceType","Mobile","_oData","userVisibleCards","userAllCards","isPhone","_controlModel","appManagerInstance","getInstance","_controlMap","Map","refreshMenuItem","_createRefreshMenuItem","editCardsMenuItem","_createEditCardsMenuItem","menuItems","forEach","menuItem","addAggregation","_sortMenuItems","oEventBus","subscribe","sChannelId","sEventId","oData","Promise","resolve","_createCards","rerenderCards","_importdone","reject","_setupWrapper","_toggleCardActivity","_this2","toggleUserActions","event","show","getParameter","_temp2","_temp","attachRouteMatched","error","warning","Error","message","String","aCards","_this3","cardHelperInstance","_getManifestEntryFromCard","oCard","sEntry","cardWithManifestPromise","manifestEntry","getManifestEntry","_pManifestReady","attachManifestReady","_addRuntimeHost","_this4","_this5","_this6","_this7","_this8","getAggregation","action","oEvent","sType","oParameters","_temp3","ibnTarget","preventDefault","oIntegrationCardManifest","aHeaderActions","header","actions","oCheckSemanticProperty","configuration","_semanticDateRangeSetting","value","JSON","parse","Object","keys","length","processSemanticDate","aContentActions","getContentActions","oHeaderAction","oContentAction","bOldCardExtension","indexOf","_manageOldCardExtension","getServiceAsync","navigationService","navigate","target","params","ibnParams","text","_i18nBundle","getText","icon","_refreshCardData","visible","oEntry","cacheType","cardId","getParent","_getLayout","openSettingsDialog","INSIGHTS_CARDS","oCardParams","aRelevantFilters","_relevantODataFilters","bRelevantFilters","aRelevantParams","_relevantODataParameters","bRelevantParams","oCardDataSource","dataSources","oFilterService","filterService","oDataSourceSettings","odataVersion","getParentAppDetails","descriptorContent","parentApp","semanticObject","intents","isNavigationSupported","_navigationService$is","aResponses","supported","sShellHash","semanticURL","shellHash","attachAction","setAggregation","oCardSV","getCombinedParameters","sParamName","sFilterName","oCardParamsFilterName","aSelectOptions","SelectOptions","aRanges","Ranges","Sign","Option","Low","massAddSelectOption","oTempParam","selectionVariant","toJSONObject","stringify","_getContentActions","manifest","item","row","stateData","status","publish","require","InsightsCacheData","sCardId","cacheDataInstance","clearCache","refreshData","_refreshData","_this9","_temp4","_getServiceAsync","_refreshUserCards","renderPanel","_renderPanel","_this0","_temp6","fireEvent","_temp5","pageManagerInstance","all","hasCustomSpace","_rerenderCards","skipRecommendation","_this1","_cardsRendered","_temp10","sDefaultAggreName","_getCardContainer","getMetadata","getDefaultAggregationName","removeAllAggregation","_showPlaceHolders","preferedCardIDs","_getUserVisibleCardModel","userVisibleCardModel","getProperty","listBinding","bindList","hasListeners","enableExtendedChangeDetection","attachChange","visibleCards","_showCards","fireHandleHidePanel","getPersonalisationProperty","showRecommendation","_temp1","undefined","_temp0","_getRecommendationCards","_temp9","_temp8","checkForRecommendedCards","_temp7","_updateRecommendationStatus","setNewVisibleCards","_setNewVisibleCards","_this10","visibleCardModel","aNewCards","_checkForRecommendedCards","_this11","manifestIds","oVisCard","idx","rec","push","rank","ranking","index","uniqueManifestDetails","getUniqueManifestDetails","regenerateCards","aUpdatedCards","_exit2","_temp12","_result2","_temp11","_updateCards","map","newManifest","_getUniqueManifestDetails","exists","some","existingItem","_getManifests","_this12","_getCardManifest","aManifests","aRegeneratedCards","mappedResults","_removeDuplicateRegeneratedCards","_regenerateCards","allManifestIds","_this13","aMappedManifest","createUniqueKey","uniqueMap","uniqueKey","oError","aOriginalList","originalMap","originalItem","parentAppId","values","_getPersonalizationData","_this14","_temp14","oPersonalizer","read","oPersData","_temp13","_getPersonalization","_this14$_getPersonali","_getPersonalisationProperty","propertyKey","_this15","_this16","getRecommenedCards","aRecommendedCards","_handleRecommendationCards","_this17","cardManifests","_cardsFlexWrapper","getId","renderType","width","items","_createCardContainer","_createMobileCardContainer","setModel","addContent","cardsContainerSettings","columnSize","rowSize","gap","cardsContainer","addStyleClass","setLayout","addDragDropConfigTo","_handleCardsDnd","cardsMobileContainer","scrollStep","scrollStepByItem","gridLayout","scrollTime","showDividers","cardManifest","_getAnalyticalCardManifest","placeholderArray","Array","_calculatePlaceholderCardCount","fill","aInsightsCards","_","card","height","previewMode","oPreviewHBox","justifyContent","layoutDomRef","_getInsightsContainer","getDomRef","count","sectionDomRef","childNodes","domProperties","availableWidth","cardLayoutConfig","containerWidth","totalCards","minWidth","maxWidth","Math","floor","panelName","getName","fireHandleUnhidePanel","updatePanelsItemCount","oUserCard","overlay","overlayHBoxWrapper","addItem","oPreviewVBox","direction","_handleEditCards","parent","getSource","handleHideHeader","_handleHideHeader","_toggleHeaderActions","handleAddHeader","_handleAddHeader","refreshCards","_refreshCards","_this18","sInsertPosition","oDragItem","iDragItemIndex","indexOfItem","oDropItem","iDropItemIndex","setBusy","_temp17","_temp16","setTimeout","_temp15","_getUserAllCardModel","userAllCardsModel","updateCardList","_wasThrown","_result3","_updateCardList","_this19","aUserVisibleCards","aUserAllCards","sDragedPositionRank","sDropedPositionRank","iUpdatedDragItemIndex","findIndex","iUpdatedDropItemIndex","_temp18","handleDndCardsRanking","_updateMultipleCards","_sortCardsOnRank","filter","sort","a","b","persContainerId","getPersContainerId","ownerComponent","getOwnerComponent","_this20","write","_calculateVisibleCardCount","layout","pageDomRef","deviceType","isHeaderVisible","sectionNodeIndex","iAvailableWidth","max","_adjustLayout","isMobileDevice","isElementExpanded","_getCurrentExpandedElementName","cardCount","slice","getManifest","cardWrapper","shareCardsInViewport","showFullScreenButton","toggleFullScreenElements","fullScreenButton","fullScreenText","getTitle","updateMenuItem","get","SHOW_MORE","updateActionButton","setWidth","setColumnSize","getContainerMenuItems","_getContainerMenuItems","_containerMenuItems","containerRefreshMenuItem","containerEditCardsMenuItem","containerShowMoreMenuItem","set","getContainerActionButtons","_getContainerActionButtons","_containerActionButtons","actionButton","insightsContainer","fesrId","press","bShow","toggleMenuListItem","toggleActionButton","panelMenuItems","_shareCardsInViewport","exit","_exit","destroy"],"sources":["CardsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport CardHelper from \"sap/insights/CardHelper\";\nimport InsightsInMemoryCachingHost from \"sap/insights/base/InMemoryCachingHost\";\nimport Button from \"sap/m/Button\";\nimport HBox from \"sap/m/HBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject, { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport Host from \"sap/ui/integration/Host\";\nimport Card from \"sap/ui/integration/widgets/Card\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Container from \"sap/ushell/Container\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport { Intent } from \"sap/ushell/services/AppLifeCycle\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport BasePanel from \"./BasePanel\";\nimport { $CardsPanelSettings } from \"./CardsPanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport MenuItem from \"./MenuItem\";\nimport {\n\tICard,\n\tICardAction,\n\tICardActionParameters,\n\tICardDetails,\n\tICardHelper,\n\tICardHelperInstance,\n\tICardManifest,\n\tInsightsCacheData,\n\tIRegeneratedCard,\n\tISapApp,\n\tISapCard\n} from \"./interface/CardsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { PREFERED_CARDS, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { calculateCardWidth, DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport {\n\tcreateShowMoreActionButton,\n\tcreateShowMoreMenuItem,\n\tgetAssociatedFullScreenMenuItem,\n\tsortMenuItems,\n\ttargetsAreEqual\n} from \"./utils/InsightsUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer, { IPersonalizationData } from \"./utils/UshellPersonalizer\";\n\nexport enum cardsMenuItems {\n\tREFRESH = \"cards-refresh\",\n\tEDIT_CARDS = \"cards-editCards\",\n\tAI_INSIGHT_CARD = \"cards-addAIInsightCard\"\n}\n\nexport enum cardsContainerMenuItems {\n\tREFRESH = \"container-cards-refresh\",\n\tEDIT_CARDS = \"container-cards-editCards\",\n\tSHOW_MORE = \"cardsContainerFullScreenMenuItem\",\n\tAI_INSIGHT_CARD = \"container-cards-addAIInsightCard\"\n}\n\nexport enum cardsContainerActionButtons {\n\tSHOW_MORE = \"cardsContanerFullScreenActionButton\"\n}\nconst sortedMenuItems: (cardsMenuItems | string)[] = [\n\tcardsMenuItems.REFRESH,\n\tcardsMenuItems.EDIT_CARDS,\n\tcardsMenuItems.AI_INSIGHT_CARD,\n\t\"showMore\",\n\t\"settings\"\n];\n\ninterface IcardActionEvent {\n\tgetParameter(sParam: string): unknown;\n\tpreventDefault(): void;\n}\n\nconst Constants = {\n\tPLACEHOLDER_CARD_COUNT: 10,\n\tCARDS_GAP: 16\n};\n\nexport interface TargetIntent {\n\ttarget: Partial<Intent>;\n\tparams?: {\n\t\t[key: string]: string;\n\t};\n}\nconst RECOMMENDATION_PATH = \"showRecommendation\";\nlet runtimeHostCreated = false;\n\n/**\n *\n * Panel class for managing and storing Insights Cards.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.CardsPanel\n */\n\nexport default class CardsPanel extends BasePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"SI2\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"cards\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Aggregation of cards available within the cards panel\n\t\t\t */\n\t\t\tcards: { type: \"sap.ui.integration.widgets.Card\", multiple: true, singularName: \"card\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Aggregation of the integration host used by the cards panel.\n\t\t\t */\n\t\t\thost: { type: \"sap.ui.integration.Host\", multiple: false, singularName: \"host\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\thandleHidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\thandleUnhidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Event is fired when cards in viewport are updated.\n\t\t\t */\n\t\t\tvisibleCardsUpdated: {\n\t\t\t\tparameters: {\n\t\t\t\t\tcards: { type: \"sap.ui.integration.widgets.Card[]\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tprivate cardHelperInstance!: ICardHelperInstance;\n\tprivate _cardsFlexWrapper!: VBox;\n\tprivate cardsContainer!: GridContainer;\n\tprivate cardsMobileContainer!: HeaderContainer;\n\tprivate aVisibleCardInstances: Card[] = [];\n\tprivate _oData!: Record<string, unknown>;\n\tprivate _controlModel!: JSONModel;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate appManagerInstance!: AppManager;\n\tprivate cardsContainerSettings!: GridContainerSettings;\n\tprivate cardWidth!: string;\n\tprivate cardHeight!: string;\n\tprivate cardsInViewport: Card[] = [];\n\tprivate oEventBus!: EventBus;\n\tprivate _appSwitched: boolean = false;\n\tprivate _containerMenuItems!: MenuItem[];\n\tprivate _containerActionButtons!: Button[];\n\tprivate insightsContainer!: InsightsContainer;\n\tprivate _headerVisible: boolean = false;\n\tprivate _controlMap!: Map<string, UI5Element>;\n\tprivate _cardsRendered!: Promise<void> | undefined;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate hasCustomSpace!: boolean;\n\n\tconstructor(idOrSettings?: string | $CardsPanelSettings);\n\tconstructor(id?: string, settings?: $CardsPanelSettings);\n\t/**\n\t * Constructor for a new card panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $CardsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Initializes the Cards Panel.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"cards\");\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tthis.cardWidth = \"19rem\";\n\t\tthis.cardHeight = this.getDeviceType() === DeviceType.Mobile ? \"25.5rem\" : \"33rem\";\n\n\t\t//Initialize Tiles Model\n\t\tthis._oData = {\n\t\t\tuserVisibleCards: [] as ICard[],\n\t\t\tuserAllCards: [] as ICard[],\n\t\t\tisPhone: this.getDeviceType() === DeviceType.Mobile\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._controlMap = new Map();\n\t\t// Setup Menu Items\n\t\tconst refreshMenuItem = this._createRefreshMenuItem(cardsMenuItems.REFRESH, \"cardsRefresh\");\n\t\tconst editCardsMenuItem = this._createEditCardsMenuItem(cardsMenuItems.EDIT_CARDS, \"manageCards\");\n\n\t\tconst menuItems = [refreshMenuItem, editCardsMenuItem];\n\t\tmenuItems.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t\tthis._sortMenuItems(sortedMenuItems);\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"cardsImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tawait this._createCards(oData as ICardManifest[]);\n\t\t\t\tawait this.rerenderCards();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Setup Wrapper for Cards\n\t\tthis._setupWrapper();\n\n\t\t// Toggles the activity of cards\n\t\tthis._toggleCardActivity();\n\t}\n\n\t/**\n\t * Toggles the activity of cards on route change.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _toggleCardActivity(): void {\n\t\tconst toggleUserActions = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tif (show) {\n\t\t\t\tif (this._appSwitched) {\n\t\t\t\t\tawait this.rerenderCards();\n\t\t\t\t\tthis._appSwitched = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._appSwitched = true;\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t} catch (error) {\n\t\t\tLog.warning(error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n\n\t/**\n\t * Create imported cards\n\t * @param {ICardManifest[]} aCards - array of card manifests\n\t * @returns {any}\n\t */\n\tprivate async _createCards(aCards: ICardManifest[]) {\n\t\tawait this.cardHelperInstance?._createCards(aCards);\n\t\treturn this.rerenderCards();\n\t}\n\n\t/**\n\t * Retrieves a manifest entry from a card.\n\t * If the manifest entry is not immediately available, it waits for the manifest to be ready.\n\t *\n\t * @param {object} oCard - The card object from which to retrieve the manifest entry.\n\t * @param {string} sEntry - The manifest entry key to retrieve.\n\t * @returns {Promise<ICardManifest | undefined>} A promise that resolves with the manifest entry value.\n\t */\n\tprivate _getManifestEntryFromCard(oCard: Card, sEntry: string): Promise<ICardManifest | undefined> {\n\t\tconst cardWithManifestPromise = oCard as Card & { _pManifestReady?: Promise<ICardManifest | undefined> };\n\t\tconst manifestEntry = oCard.getManifestEntry(sEntry) as ICardManifest | undefined;\n\t\tif (manifestEntry) {\n\t\t\treturn Promise.resolve(manifestEntry);\n\t\t} else {\n\t\t\tif (!cardWithManifestPromise._pManifestReady) {\n\t\t\t\tcardWithManifestPromise._pManifestReady = new Promise<ICardManifest | undefined>((resolve) => {\n\t\t\t\t\toCard.attachManifestReady(() => {\n\t\t\t\t\t\tresolve(oCard.getManifestEntry(sEntry) as ICardManifest | undefined);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn cardWithManifestPromise._pManifestReady;\n\t\t}\n\t}\n\n\t/**\n\t * Adds a runtime host for the cards panel.\n\t *\n\t * @private\n\t */\n\tprivate _addRuntimeHost() {\n\t\tconst host = (this.getAggregation(\"host\") || new InsightsInMemoryCachingHost(\"runtimeHost\")) as Host;\n\t\tconst action = async (oEvent: IcardActionEvent) => {\n\t\t\tconst sType = oEvent.getParameter(\"type\") as string;\n\t\t\tlet oParameters = (oEvent.getParameter(\"parameters\") as ICardActionParameters) || {};\n\n\t\t\tif (sType === \"Navigation\" && oParameters.ibnTarget) {\n\t\t\t\toEvent.preventDefault();\n\t\t\t\tconst oCard = (oEvent.getParameter(\"card\") as Card) || {},\n\t\t\t\t\toIntegrationCardManifest = (oCard?.getManifestEntry(\"sap.card\") || {}) as ISapCard,\n\t\t\t\t\taHeaderActions = oIntegrationCardManifest?.header?.actions || [];\n\n\t\t\t\t//processing semantic date as param for navigation\n\t\t\t\t//check to verify if _semanticDateRangeSetting property is present in manifest\n\t\t\t\tlet oCheckSemanticProperty;\n\t\t\t\tif (oIntegrationCardManifest?.configuration?.parameters?._semanticDateRangeSetting?.value) {\n\t\t\t\t\toCheckSemanticProperty = JSON.parse(\n\t\t\t\t\t\toIntegrationCardManifest.configuration.parameters._semanticDateRangeSetting.value\n\t\t\t\t\t) as object;\n\t\t\t\t}\n\t\t\t\tif (oCheckSemanticProperty && Object.keys(oCheckSemanticProperty).length) {\n\t\t\t\t\toParameters = this.cardHelperInstance.processSemanticDate(\n\t\t\t\t\t\toParameters,\n\t\t\t\t\t\toIntegrationCardManifest\n\t\t\t\t\t) as ICardActionParameters;\n\t\t\t\t}\n\n\t\t\t\tlet aContentActions = this.getContentActions(oIntegrationCardManifest);\n\n\t\t\t\tconst oHeaderAction = aHeaderActions[0] || {},\n\t\t\t\t\toContentAction = aContentActions[0] || {};\n\n\t\t\t\tconst bOldCardExtension = !!(\n\t\t\t\t\t(oHeaderAction?.parameters &&\n\t\t\t\t\t\ttypeof oHeaderAction.parameters === \"string\" &&\n\t\t\t\t\t\toHeaderAction.parameters.indexOf(\"{= extension.formatters.addPropertyValueToAppState\") > -1) ||\n\t\t\t\t\t(oContentAction?.parameters &&\n\t\t\t\t\t\ttypeof oContentAction.parameters === \"string\" &&\n\t\t\t\t\t\toContentAction.parameters.indexOf(\"{= extension.formatters.addPropertyValueToAppState\") > -1)\n\t\t\t\t);\n\n\t\t\t\tthis._manageOldCardExtension(bOldCardExtension, oEvent, oParameters);\n\n\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\tawait navigationService.navigate({\n\t\t\t\t\ttarget: oParameters.ibnTarget,\n\t\t\t\t\tparams: oParameters.ibnParams\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tconst actions = [\n\t\t\t{\n\t\t\t\ttype: \"Custom\",\n\t\t\t\ttext: this._i18nBundle?.getText(\"refresh\") as string,\n\t\t\t\ticon: \"sap-icon://refresh\",\n\t\t\t\taction: (oCard: Card) => {\n\t\t\t\t\tthis._refreshCardData(oCard);\n\t\t\t\t},\n\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\tconst oEntry = await this._getManifestEntryFromCard(oCard, \"sap.insights\");\n\t\t\t\t\treturn oEntry && !oEntry.cacheType;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: \"Custom\",\n\t\t\t\ttext: this._i18nBundle?.getText(\"viewFilteredBy\") as string,\n\t\t\t\ticon: \"sap-icon://filter\",\n\t\t\t\taction: (oCard: Card) => {\n\t\t\t\t\tconst cardId = (oCard.getManifestEntry(\"sap.app\") as ISapApp).id;\n\t\t\t\t\t(this.getParent() as InsightsContainer)\n\t\t\t\t\t\t?._getLayout()\n\t\t\t\t\t\t.openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_CARDS, { cardId });\n\t\t\t\t},\n\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\tconst oEntry = await this._getManifestEntryFromCard(oCard, \"sap.insights\");\n\t\t\t\t\tif (oEntry) {\n\t\t\t\t\t\tconst oCardParams = (oCard.getManifestEntry(\"sap.card\") as ISapCard)?.configuration?.parameters;\n\t\t\t\t\t\tconst aRelevantFilters = oCardParams?._relevantODataFilters?.value || [];\n\t\t\t\t\t\tconst bRelevantFilters = aRelevantFilters?.length;\n\t\t\t\t\t\tconst aRelevantParams = oCardParams?._relevantODataParameters?.value || [];\n\t\t\t\t\t\tconst bRelevantParams = aRelevantParams?.length;\n\t\t\t\t\t\tconst oCardDataSource = (oCard.getManifestEntry(\"sap.app\") as ISapApp).dataSources;\n\t\t\t\t\t\tconst oFilterService = oCardDataSource?.filterService;\n\t\t\t\t\t\tconst oDataSourceSettings = oFilterService?.settings;\n\t\t\t\t\t\t// show ViewFilteredBy Option only if relevantFilters or relevantParameters are there and is OdataV2 version\n\t\t\t\t\t\treturn !!(\n\t\t\t\t\t\t\t(bRelevantFilters || bRelevantParams) &&\n\t\t\t\t\t\t\toDataSourceSettings &&\n\t\t\t\t\t\t\toDataSourceSettings.odataVersion === \"2.0\"\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: \"Custom\",\n\t\t\t\ttext: this._i18nBundle?.getText(\"navigateToParent\") as string,\n\t\t\t\ticon: \"sap-icon://display-more\",\n\t\t\t\tvisible: async (oCard: Card) => {\n\t\t\t\t\treturn this._getManifestEntryFromCard(oCard, \"sap.insights\").then(async (oEntry: ICardManifest | undefined) => {\n\t\t\t\t\t\tif (oEntry) {\n\t\t\t\t\t\t\tconst parentApp = await this.cardHelperInstance.getParentAppDetails({\n\t\t\t\t\t\t\t\tdescriptorContent: oCard.getManifestEntry(\"/\") as ICardManifest\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (parentApp.semanticObject && parentApp.action) {\n\t\t\t\t\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\t\t\t\t\tconst intents: TargetIntent[] = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\tsemanticObject: parentApp.semanticObject,\n\t\t\t\t\t\t\t\t\t\t\taction: parentApp.action\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\tconst aResponses = (await navigationService.isNavigationSupported(intents)) as { supported: boolean }[];\n\t\t\t\t\t\t\t\treturn aResponses[0].supported || false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\taction: async (oCard: Card) => {\n\t\t\t\t\tconst parentApp = await this.cardHelperInstance.getParentAppDetails({\n\t\t\t\t\t\tdescriptorContent: oCard.getManifestEntry(\"/\") as ICardManifest\n\t\t\t\t\t});\n\t\t\t\t\tconst sShellHash = parentApp.semanticURL || parentApp.semanticObject;\n\t\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\t\tawait navigationService.navigate({\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\tshellHash: sShellHash\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\thost.attachAction(action);\n\t\thost.setProperty(\"actions\", actions);\n\t\tthis.setAggregation(\"host\", host);\n\t}\n\n\t/**\n\t * Updates parameters for an old card extension\n\t * @private\n\t * @param {boolean} bOldCardExtension - Determines whether the card is using an old card extension.\n\t * @param {IcardActionEvent} oEvent - An event object\n\t * @param {ICardActionParameters} oParameters - Parameter object\n\t */\n\n\tprivate _manageOldCardExtension(bOldCardExtension: boolean, oEvent: IcardActionEvent, oParameters: ICardActionParameters) {\n\t\tif (bOldCardExtension) {\n\t\t\tconst oCardSV = new SelectionVariant();\n\t\t\tconst oCardParams = (oEvent.getParameter(\"card\") as Card).getCombinedParameters();\n\t\t\t(oCardParams?._relevantODataParameters as string[]).forEach((sParamName: string) => {\n\t\t\t\tif (oParameters.ibnParams) {\n\t\t\t\t\toParameters.ibnParams[sParamName] = oCardParams[sParamName];\n\t\t\t\t}\n\t\t\t});\n\t\t\t(oCardParams?._relevantODataFilters as string[]).forEach((sFilterName: string) => {\n\t\t\t\tconst oCardParamsFilterName = JSON.parse(oCardParams[sFilterName] as string) as {\n\t\t\t\t\tParameters: unknown;\n\t\t\t\t\tSelectOptions: { PropertyName: string; Ranges: { Sign: string; Option: string; Low: string }[] }[];\n\t\t\t\t};\n\t\t\t\tconst aSelectOptions = oCardParamsFilterName.SelectOptions[0];\n\t\t\t\tconst aRanges = aSelectOptions.Ranges;\n\t\t\t\tif (aRanges?.length === 1 && aRanges[0].Sign === \"I\" && aRanges[0].Option === \"EQ\") {\n\t\t\t\t\tif (oParameters.ibnParams) {\n\t\t\t\t\t\toParameters.ibnParams[sFilterName] = aRanges[0].Low;\n\t\t\t\t\t}\n\t\t\t\t} else if (aRanges?.length > 0) {\n\t\t\t\t\toCardSV.massAddSelectOption(sFilterName, aRanges);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst oTempParam = JSON.parse(oParameters?.ibnParams?.[\"sap-xapp-state-data\"] as string) as Record<string, unknown>;\n\t\t\toTempParam.selectionVariant = oCardSV.toJSONObject();\n\t\t\tif (oParameters.ibnParams) {\n\t\t\t\toParameters.ibnParams[\"sap-xapp-state-data\"] = JSON.stringify(oTempParam);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves actions for a card based on its content type.\n\t *\n\t * @private\n\t * @param {ISapCard} manifest - The manifest object.\n\t * @returns {Array} The content actions.\n\t */\n\tprivate getContentActions(manifest: ISapCard): ICardAction[] {\n\t\tlet actions;\n\t\tif (manifest.type === \"List\") {\n\t\t\tactions = manifest?.content?.item?.actions;\n\t\t} else if (manifest.type === \"Table\") {\n\t\t\tactions = manifest?.content?.row?.actions;\n\t\t} else {\n\t\t\tactions = manifest?.content?.actions;\n\t\t}\n\t\treturn actions || [];\n\t}\n\n\t/**\n\t * Handles the completion of the import process.\n\t *\n\t * @private\n\t */\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"cardsImported\", stateData);\n\t}\n\n\t/**\n\t * Refreshes the data for a given card.\n\t *\n\t * @private\n\t * @param {Card} oCard - The card to refresh.\n\t */\n\tprivate _refreshCardData(oCard: Card) {\n\t\tsap.ui.require([\"sap/insights/base/CacheData\"], (InsightsCacheData: InsightsCacheData) => {\n\t\t\tconst sCardId = (oCard.getManifestEntry(\"sap.app\") as ISapApp)?.id;\n\t\t\tconst cacheDataInstance = InsightsCacheData.getInstance();\n\t\t\tcacheDataInstance.clearCache(sCardId);\n\t\t\toCard.refreshData();\n\t\t});\n\t}\n\n\t/**\n\t * Triggers a full refresh of the Insights Cards's data and UI.\n\t *\n\t * Reloads all the user cards within the Insights Cards section by reinitializing relevant services\n\t * and re-rendering the panel.\n\t *\n\t * @public\n\t * @returns {Promise<void>} A promise that resolves once the Insights Cards section has been refreshed.\n\t */\n\tpublic async refreshData(): Promise<void> {\n\t\ttry {\n\t\t\tthis.cardHelperInstance = await (CardHelper as ICardHelper).getServiceAsync();\n\t\t\tawait this.cardHelperInstance._refreshUserCards(false);\n\t\t\tawait this.renderPanel();\n\t\t} catch (error) {\n\t\t\tLog.error(\"Failed to refresh cards: \", error instanceof Error ? error.message : (error as string));\n\t\t}\n\t}\n\n\t/**\n\t * Renders the panel.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the panel is rendered.\n\t */\n\tpublic async renderPanel(): Promise<void> {\n\t\tif (!this.cardHelperInstance) {\n\t\t\tthis.pageManagerInstance = this.pageManagerInstance || getPageManagerInstance(this);\n\t\t\tconst [cardHelperInstance, hasCustomSpace] = await Promise.all([\n\t\t\t\t(CardHelper as ICardHelper).getServiceAsync(),\n\t\t\t\tthis.pageManagerInstance.hasCustomSpace()\n\t\t\t]);\n\t\t\tthis.cardHelperInstance = cardHelperInstance;\n\t\t\tthis.hasCustomSpace = hasCustomSpace;\n\t\t}\n\t\tawait this.rerenderCards();\n\t\tthis.fireEvent(\"loaded\");\n\t}\n\n\t/**\n\t * Rerenders the cards.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the cards are rerendered.\n\t */\n\tprivate async rerenderCards(skipRecommendation: boolean = false): Promise<void> {\n\t\tif (!this._cardsRendered) {\n\t\t\tthis._cardsRendered = new Promise((resolve, reject) => {\n\t\t\t\tvoid (async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// Enable placeholders after updating/rerendering cards\n\t\t\t\t\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\n\t\t\t\t\t\tthis._getCardContainer().removeAllAggregation(sDefaultAggreName);\n\t\t\t\t\t\tthis._showPlaceHolders();\n\t\t\t\t\t\t// Fetch Cards from insights service\n\t\t\t\t\t\tconst preferedCardIDs = this.hasCustomSpace ? PREFERED_CARDS : [];\n\t\t\t\t\t\tconst userVisibleCardModel = await this.cardHelperInstance?._getUserVisibleCardModel(preferedCardIDs);\n\t\t\t\t\t\tconst aCards = userVisibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\t\t\t\t\tconst listBinding = userVisibleCardModel?.bindList(\"/cards\");\n\t\t\t\t\t\tif (!listBinding.hasListeners(\"change\")) {\n\t\t\t\t\t\t\tlistBinding?.enableExtendedChangeDetection(true, \"/cards\", {});\n\t\t\t\t\t\t\tlistBinding?.attachChange(async () => {\n\t\t\t\t\t\t\t\tawait (this._cardsRendered ?? Promise.resolve());\n\t\t\t\t\t\t\t\tconst visibleCards = userVisibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\t\t\t\t\t\t\tif (visibleCards.length !== this.aVisibleCardInstances.length && visibleCards.length > 0) {\n\t\t\t\t\t\t\t\t\tthis._showCards(visibleCards);\n\t\t\t\t\t\t\t\t} else if (!visibleCards.length) {\n\t\t\t\t\t\t\t\t\tthis.fireHandleHidePanel();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._controlModel.setProperty(\"/userVisibleCards\", aCards);\n\t\t\t\t\t\tlet showRecommendation = await this.getPersonalisationProperty(RECOMMENDATION_PATH);\n\t\t\t\t\t\tif (aCards.length === 0 && showRecommendation === undefined && !skipRecommendation) {\n\t\t\t\t\t\t\tawait this._getRecommendationCards();\n\t\t\t\t\t\t} else if (aCards.length) {\n\t\t\t\t\t\t\tif (showRecommendation === undefined) {\n\t\t\t\t\t\t\t\tawait this._updateRecommendationStatus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// from available cards, check for old recommended cards and update it if present,\n\t\t\t\t\t\t\t// else show available visible cards\n\t\t\t\t\t\t\tawait this.checkForRecommendedCards(aCards);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.fireHandleHidePanel();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._cardsRendered = undefined;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tthis.fireHandleHidePanel();\n\t\t\t\t\t\tthis._cardsRendered = undefined;\n\t\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\t\tLog.error(error.message);\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t});\n\t\t}\n\t\treturn this._cardsRendered;\n\t}\n\t/**\n\t * Sets the new visible cards in the model and updates the UI.\n\t * @private\n\t */\n\tprivate async setNewVisibleCards() {\n\t\tconst preferedCardIDs = this.hasCustomSpace ? PREFERED_CARDS : [];\n\t\tconst visibleCardModel = await this.cardHelperInstance._getUserVisibleCardModel(preferedCardIDs);\n\t\tconst aNewCards = visibleCardModel.getProperty(\"/cards\") as ICard[];\n\t\tthis._controlModel.setProperty(\"/userVisibleCards\", aNewCards);\n\t\tthis._showCards(aNewCards);\n\t}\n\n\t/**\n\t * Checks for recommended cards and updates their manifests if necessary.\n\t *\n\t * This method iterates through the provided cards to identify recommended cards that need to be updated.\n\t * It regenerates the manifests for these cards, updates the model with the regenerated cards, and displays\n\t * the updated cards. If no recommended cards are found, it displays the original cards.\n\t *\n\t * @param {ICard[]} aCards - An array of card objects to check for recommendations.\n\t * Each card contains a `descriptorContent` property with metadata about the card.\n\t * @returns {Promise<void>} A promise that resolves when the check and updates are complete.\n\t * @private\n\t */\n\tprivate async checkForRecommendedCards(aCards: ICard[]): Promise<void> {\n\t\tlet manifestIds: ICardDetails[] = [];\n\t\taCards.forEach((oVisCard, idx) => {\n\t\t\tlet oCard = oVisCard.descriptorContent;\n\t\t\tif (\n\t\t\t\toCard[\"sap.card\"]?.rec === true &&\n\t\t\t\t(!oCard[\"sap.card\"][\"configuration\"] || !oCard[\"sap.card\"][\"configuration\"][\"csrfTokens\"])\n\t\t\t) {\n\t\t\t\tmanifestIds.push({\n\t\t\t\t\tcardId: oCard?.[\"sap.app\"]?.id as string,\n\t\t\t\t\trank: oCard?.[\"sap.insights\"]?.ranking || oVisCard?.rank,\n\t\t\t\t\tid: oCard?.[\"sap.insights\"]?.[\"parentAppId\"] || \"\",\n\t\t\t\t\ttarget: oCard?.[\"sap.card\"]?.[\"header\"]?.[\"actions\"]?.length\n\t\t\t\t\t\t? (oCard[\"sap.card\"][\"header\"][\"actions\"][0]?.[\"parameters\"] as ICardActionParameters)?.ibnTarget\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tindex: idx\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tif (manifestIds.length) {\n\t\t\tconst uniqueManifestDetails: ICardDetails[] = this.getUniqueManifestDetails(manifestIds);\n\t\t\tconst aUpdatedCards = await this.regenerateCards(uniqueManifestDetails, manifestIds);\n\t\t\tif (aUpdatedCards?.length) {\n\t\t\t\t// Update the model with updated cards\n\t\t\t\tawait this.cardHelperInstance._updateCards(\n\t\t\t\t\taUpdatedCards.map((oCard: ICardDetails) => oCard?.newManifest?.descriptorContent) as ICardManifest[]\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tawait this.setNewVisibleCards();\n\t\t} else {\n\t\t\tthis._showCards(aCards);\n\t\t}\n\t}\n\n\t/**\n\t * Filters and returns a list of unique manifest IDs.\n\t *\n\t * This method iterates through the provided list of manifest IDs and ensures that only unique entries\n\t * are included in the returned list. Uniqueness is determined based on the `id` and `target` properties.\n\t *\n\t * @param {ICardDetails[]} manifestIds - An array of manifest ID objects to filter for uniqueness.\n\t * Each object contains properties such as `id` and `target`.\n\t * @returns {ICardDetails[]} An array of unique manifest ID objects.\n\t * @private\n\t */\n\tprivate getUniqueManifestDetails(manifestIds: ICardDetails[]): ICardDetails[] {\n\t\tconst uniqueManifestDetails: ICardDetails[] = [];\n\t\tmanifestIds.forEach((item) => {\n\t\t\tconst exists = uniqueManifestDetails.some(\n\t\t\t\t(existingItem) => existingItem.id === item.id && targetsAreEqual(existingItem.target, item.target)\n\t\t\t);\n\t\t\tif (!exists) {\n\t\t\t\tuniqueManifestDetails.push(JSON.parse(JSON.stringify(item)) as ICardDetails);\n\t\t\t}\n\t\t});\n\t\treturn uniqueManifestDetails;\n\t}\n\n\t/**\n\t * Retrieves and processes card manifests based on the provided manifest IDs.\n\t *\n\t * This method fetches card manifests using the `AppManager` instance,\n\t * and removes duplicate regenerated cards to ensure uniqueness.\n\t *\n\t * @param {ICardDetails[]} manifestIds - An array of manifest ID objects to fetch and process.\n\t * Each object contains details such as `id`, `target`, and other card-specific properties.\n\t * @returns {Promise<ICardDetails[]>} A promise that resolves to an array of processed and unique card manifest details.\n\t * @private\n\t */\n\tprivate async _getManifests(manifestIds: ICardDetails[]): Promise<ICardDetails[]> {\n\t\t// from the provided manifestIds which are unique generate new recommended card manifests\n\t\tlet aManifests = await this.appManagerInstance._getCardManifest(undefined, manifestIds);\n\t\tif (aManifests?.length) {\n\t\t\tlet aRegeneratedCards = aManifests.map(function (oCard) {\n\t\t\t\tif (oCard?.[\"sap.card\"]) {\n\t\t\t\t\toCard[\"sap.card\"].rec = true;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tid: oCard[\"sap.app\"]?.id,\n\t\t\t\t\tdescriptorContent: oCard\n\t\t\t\t} as IRegeneratedCard;\n\t\t\t});\n\t\t\t// sometimes same card is recommended more than once, hence remove such duplicates\n\t\t\tlet mappedResults = this._removeDuplicateRegeneratedCards(aRegeneratedCards, manifestIds);\n\t\t\treturn mappedResults;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Regenerates card manifests and updates the original manifest list with the regenerated data.\n\t *\n\t * This method fetches updated card manifests, maps them to their corresponding original cards,\n\t * and updates the `newManifest` property of the original cards. It ensures that the regenerated\n\t * cards are correctly associated with their original counterparts based on a unique key.\n\t *\n\t * @param {ICardDetails[]} manifestIds - An array of manifest ID objects to regenerate.\n\t * Each object contains details such as `id`, `target`, and other card-specific properties.\n\t * @param {ICardDetails[]} allManifestIds - An array of all manifest ID objects, including those\n\t * that need to be updated with regenerated manifests.\n\t * @returns {Promise<ICardDetails[] | undefined>} A promise that resolves to an array of updated card details,\n\t * or `undefined` if an error occurs.\n\t * @private\n\t */\n\tprivate async regenerateCards(manifestIds: ICardDetails[], allManifestIds: ICardDetails[]): Promise<ICardDetails[] | undefined> {\n\t\ttry {\n\t\t\tlet aMappedManifest = await this._getManifests(manifestIds);\n\n\t\t\t// create unique identifier for each card based on its id and target properties.\n\t\t\tconst createUniqueKey = (item: ICardDetails): string => {\n\t\t\t\tif (item?.target?.semanticObject && item?.target?.action) {\n\t\t\t\t\treturn item.id + \"|\" + item.target.semanticObject + \"|\" + item.target.action;\n\t\t\t\t}\n\t\t\t\treturn item.id; // Return just the id if the target is invalid\n\t\t\t};\n\n\t\t\tlet uniqueMap: Record<string, IRegeneratedCard> = {};\n\t\t\t// Create a map of unique keys to newManifest data\n\t\t\t// Iterate through the aMappedManifest array and populate the uniqueMap with unique keys and their corresponding newManifest data\n\t\t\t// This ensures that each unique key maps to its respective newManifest data, allowing for easy retrieval later.\n\t\t\t// This is done to avoid duplicates and ensure that each card is only represented once in the final output.\n\t\t\taMappedManifest.forEach(function (item) {\n\t\t\t\tlet uniqueKey = createUniqueKey(item);\n\t\t\t\tif (item.newManifest) {\n\t\t\t\t\tuniqueMap[uniqueKey] = item.newManifest;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet aUpdatedCards: ICardDetails[] = [];\n\t\t\tif (aMappedManifest.length) {\n\t\t\t\t// Map newManifest data back into allManifestIds based on the uniquekey\n\t\t\t\tallManifestIds.forEach(function (oCard) {\n\t\t\t\t\tlet uniqueKey = createUniqueKey(oCard);\n\t\t\t\t\t// Check if the uniqueKey exists in the uniqueMap, if present, assign the corresponding newManifest data to the oCard object\n\t\t\t\t\t// This effectively updates the oCard object with the newManifest data, allowing for further processing or rendering.\n\t\t\t\t\t// This is done to ensure that the original card objects are updated with the newManifest data, allowing for further processing or rendering.\n\t\t\t\t\tif (uniqueMap[uniqueKey]) {\n\t\t\t\t\t\toCard.newManifest = uniqueMap[uniqueKey];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst newManifest = oCard[\"newManifest\"];\n\t\t\t\t\tconst descriptorContent = newManifest?.descriptorContent;\n\t\t\t\t\tif (descriptorContent) {\n\t\t\t\t\t\tdescriptorContent[\"sap.insights\"] = {\n\t\t\t\t\t\t\t...descriptorContent[\"sap.insights\"],\n\t\t\t\t\t\t\tranking: oCard.rank\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (descriptorContent[\"sap.app\"]) {\n\t\t\t\t\t\t\tdescriptorContent[\"sap.app\"].id = oCard.cardId;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewManifest.id = oCard.cardId;\n\t\t\t\t\t\taUpdatedCards.push(JSON.parse(JSON.stringify(oCard)) as ICardDetails);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aUpdatedCards;\n\t\t} catch (oError) {\n\t\t\tLog.error(oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Removes duplicate regenerated cards and maps them to their corresponding original cards.\n\t *\n\t * This method processes a list of regenerated cards and maps them to their corresponding original cards\n\t * based on their `id`. If a regenerated card matches an original card, it is added as the `newManifest`\n\t * property of the original card. The method ensures that each original card is updated with its corresponding\n\t * regenerated card, if available.\n\t *\n\t * @param {IRegeneratedCard[]} aCards - An array of regenerated cards. Each card contains a `descriptorContent` property\n\t * that includes metadata about the card.\n\t * @param {ICardDetails[]} aOriginalList - An array of original card details. Each card contains an `id` property\n\t * that is used to match it with regenerated cards.\n\t * @returns {ICardDetails[]} An array of original card details, with the `newManifest` property updated for cards\n\t * that have matching regenerated cards.\n\t * @private\n\t */\n\tprivate _removeDuplicateRegeneratedCards(aCards: IRegeneratedCard[], aOriginalList: ICardDetails[]): ICardDetails[] {\n\t\t// Create a mapping from aOriginalList for easy access (grouping by id)\n\t\tconst originalMap = {} as Record<string, ICardDetails>;\n\t\taOriginalList.forEach((originalItem) => {\n\t\t\tif (originalItem.id) {\n\t\t\t\toriginalMap[originalItem.id] = JSON.parse(JSON.stringify(originalItem)) as ICardDetails;\n\t\t\t}\n\t\t});\n\n\t\t// Process each card in aCards\n\t\taCards.forEach(function (oCard) {\n\t\t\tconst sCardId = oCard?.descriptorContent?.[\"sap.insights\"]?.parentAppId as string;\n\t\t\t// Check if we have a matching original list item\n\t\t\tif (sCardId && originalMap[sCardId]) {\n\t\t\t\tconst originalItem = originalMap[sCardId];\n\t\t\t\t// Check if updatedManifest already added\n\t\t\t\tif (!originalItem[\"newManifest\"]) {\n\t\t\t\t\t// Map newManifest to the original item\n\t\t\t\t\toriginalItem[\"newManifest\"] = oCard;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn Object.values(originalMap);\n\t}\n\n\t/**\n\t * Retrieves personalization data from the personalization service.\n\t *\n\t * This method ensures that the personalization service (`oPersonalizer`) is initialized\n\t * and fetches the latest personalization data. If no data is found, it returns an empty object.\n\t *\n\t * @private\n\t * @returns {Promise<IPersonalizationData>} A promise that resolves to the personalization data.\n\t * If no data is available, an empty object is returned.\n\t */\n\tprivate async _getPersonalizationData(): Promise<IPersonalizationData> {\n\t\tif (!this.oPersonalizer) {\n\t\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\t}\n\t\tconst oPersData = await this.oPersonalizer.read();\n\t\treturn oPersData || {};\n\t}\n\n\t// Fetch personalization data property value\n\tprivate async getPersonalisationProperty(propertyKey: string) {\n\t\tconst oPersData = await this._getPersonalizationData();\n\t\treturn oPersData?.[propertyKey as keyof IPersonalizationData];\n\t}\n\n\t/**\n\t * Checks for recommendation cards.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the check is complete.\n\t */\n\tprivate async _getRecommendationCards() {\n\t\tconst aRecommendedCards = await this.appManagerInstance.getRecommenedCards();\n\t\tif (aRecommendedCards?.length) {\n\t\t\treturn this._handleRecommendationCards(aRecommendedCards);\n\t\t}\n\t\tthis.fireHandleHidePanel();\n\t}\n\n\t/**\n\t * Handle Recommendation Cards\n\t * @param aRecommendedCards\n\t * @private\n\t */\n\tprivate async _handleRecommendationCards(aRecommendedCards: ICard[]) {\n\t\tconst cardManifests = aRecommendedCards.map((oCard) => oCard.descriptorContent);\n\t\tawait this.cardHelperInstance?._createCards(cardManifests);\n\t\tawait this._updateRecommendationStatus();\n\t\treturn this.setNewVisibleCards();\n\t}\n\n\t/**\n\t * Sets up the wrapper for the cards.\n\t *\n\t * @private\n\t */\n\tprivate _setupWrapper() {\n\t\tif (!this._cardsFlexWrapper) {\n\t\t\tthis._cardsFlexWrapper = new VBox(`${this.getId()}-cardsFlexWrapper`, {\n\t\t\t\trenderType: \"Bare\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\titems: [this._createCardContainer(), this._createMobileCardContainer()]\n\t\t\t});\n\t\t\tthis._cardsFlexWrapper.setModel(this._controlModel);\n\t\t\tthis.addContent(this._cardsFlexWrapper);\n\t\t}\n\t}\n\n\t/**\n\t * Creates the card container.\n\t *\n\t * @private\n\t * @returns {GridContainer} The card container.\n\t */\n\tprivate _createCardContainer() {\n\t\tthis.cardsContainerSettings = new GridContainerSettings(`${this.getId()}-insightsCardsContainerSettings`, {\n\t\t\tcolumnSize: this.cardWidth,\n\t\t\trowSize: this.cardHeight,\n\t\t\tgap: \"1rem\"\n\t\t});\n\t\tthis.cardsContainer = new GridContainer(`${this.getId()}-insightsCardsFlexBox`, {\n\t\t\tvisible: \"{= !${/isPhone}}\"\n\t\t})\n\t\t\t.addStyleClass(\"sapUiSmallMarginTop\")\n\t\t\t.setLayout(this.cardsContainerSettings);\n\t\tthis.cardsContainer.setModel(this._controlModel);\n\t\tthis.addDragDropConfigTo(this.cardsContainer, (oEvent) => this._handleCardsDnd(oEvent));\n\n\t\treturn this.cardsContainer;\n\t}\n\n\t/**\n\t * Creates the mobile card container.\n\t *\n\t * @private\n\t * @returns {HeaderContainer} The mobile card container.\n\t */\n\tprivate _createMobileCardContainer() {\n\t\tthis.cardsMobileContainer = new HeaderContainer(`${this.getId()}-insightsCardsMobileFlexBox`, {\n\t\t\tscrollStep: 0,\n\t\t\tscrollStepByItem: 1,\n\t\t\tgridLayout: true,\n\t\t\tscrollTime: 1000,\n\t\t\tshowDividers: false,\n\t\t\tvisible: \"{/isPhone}\"\n\t\t});\n\t\tthis.cardsMobileContainer.setModel(this._controlModel);\n\t\tthis.addDragDropConfigTo(this.cardsMobileContainer, (oEvent) => this._handleCardsDnd(oEvent));\n\n\t\treturn this.cardsMobileContainer;\n\t}\n\n\t/**\n\t * Displays placeholder cards while loading.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _showPlaceHolders() {\n\t\tconst cardManifest = this.appManagerInstance._getAnalyticalCardManifest();\n\t\tconst placeholderArray = new Array(this._calculatePlaceholderCardCount()).fill(null);\n\t\tconst aInsightsCards = placeholderArray.map((_, index: number) => {\n\t\t\tconst card = new Card(recycleId(`${this.getId()}--placeHolderCard--${index}`), {\n\t\t\t\twidth: this.cardWidth,\n\t\t\t\theight: this.cardHeight,\n\t\t\t\tpreviewMode: \"Abstract\",\n\t\t\t\tmanifest: cardManifest,\n\t\t\t\thost: this.getAggregation(\"host\") as Control\n\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\t\t\treturn card;\n\t\t});\n\t\t// Create Wrapper HBox for Card\n\t\tconst oPreviewHBox = new HBox(recycleId(`${this.getId()}--wrapperBox`), {\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: aInsightsCards\n\t\t});\n\n\t\t// add HBox as item to GridList\n\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\t\tif (sDefaultAggreName) {\n\t\t\tthis._getCardContainer().addAggregation(sDefaultAggreName, oPreviewHBox);\n\t\t}\n\t}\n\n\t/**\n\t * Calculates the number of placeholder cards that can fit within the available container width.\n\t *\n\t * @private\n\t * @returns {number} The number of placeholder cards that should be displayed. Defaults to 1 if no valid count is determined.\n\t */\n\tprivate _calculatePlaceholderCardCount(): number {\n\t\tconst layoutDomRef = this._getInsightsContainer()?._getLayout()?.getDomRef();\n\t\tlet count = 0;\n\t\tif (layoutDomRef) {\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[0] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst cardLayoutConfig = {\n\t\t\t\tcontainerWidth: availableWidth,\n\t\t\t\ttotalCards: Constants.PLACEHOLDER_CARD_COUNT,\n\t\t\t\tminWidth: 304,\n\t\t\t\tmaxWidth: 583,\n\t\t\t\tgap: 16\n\t\t\t};\n\t\t\tconst cardWidth = this.getDeviceType() === DeviceType.Mobile ? 19 : calculateCardWidth(cardLayoutConfig);\n\n\t\t\t// Calculate and log the number of cards that can fit\n\t\t\tcount =\n\t\t\t\tthis.getDeviceType() === DeviceType.Mobile\n\t\t\t\t\t? this.aVisibleCardInstances.length\n\t\t\t\t\t: Math.floor(availableWidth / (cardWidth + Constants.CARDS_GAP));\n\t\t\tthis.cardWidth = `${cardWidth / 16}rem`;\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\t/**\n\t * Displays the cards.\n\t *\n\t * @private\n\t * @param {ICard[]} aCards - The cards to display.\n\t */\n\tprivate _showCards(aCards: ICard[]) {\n\t\tconst panelName = this.getMetadata().getName();\n\t\tthis.fireHandleUnhidePanel();\n\t\tthis._getInsightsContainer()?.updatePanelsItemCount(aCards.length, panelName);\n\t\tif (this._headerVisible) {\n\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insightsCards\")} (${aCards.length})`);\n\t\t}\n\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\t\tthis._getCardContainer().removeAllAggregation(sDefaultAggreName);\n\t\tthis.aVisibleCardInstances = [];\n\t\tthis.cardsInViewport = [];\n\n\t\t// Setup Host For Cards\n\t\tif (!runtimeHostCreated) {\n\t\t\tthis._addRuntimeHost();\n\t\t\truntimeHostCreated = true;\n\t\t}\n\n\t\taCards.forEach((oCard, index) => {\n\t\t\tconst manifest = oCard.descriptorContent;\n\t\t\t// Create Card Instance\n\t\t\tconst oUserCard = new Card(recycleId(`${this.getId()}--userCard--${index}`), {\n\t\t\t\twidth: this.cardWidth,\n\t\t\t\theight: this.cardHeight,\n\t\t\t\tmanifest,\n\t\t\t\thost: this.getAggregation(\"host\") as Control\n\t\t\t});\n\n\t\t\tthis.aVisibleCardInstances.push(oUserCard);\n\n\t\t\tthis.addAggregation(\"cards\", oUserCard, true);\n\n\t\t\tconst items: Control[] = [oUserCard];\n\n\t\t\t// Add overlay in case of List and Table Card\n\t\t\tconst sType = manifest[\"sap.card\"]?.type;\n\t\t\tif (sType === \"Table\" || sType === \"List\") {\n\t\t\t\tconst overlay = new HBox(recycleId(`${this.getId()}--overlay--${index}`), {\n\t\t\t\t\twidth: this.cardWidth,\n\t\t\t\t\theight: \"2rem\"\n\t\t\t\t}).addStyleClass(\"insightsCardOverflowTop\");\n\t\t\t\tconst overlayHBoxWrapper = new HBox(recycleId(`${this.getId()}--overlayHBoxId--${index}`), {\n\t\t\t\t\theight: \"0\"\n\t\t\t\t}).addStyleClass(\"sapMFlexBoxJustifyCenter\");\n\t\t\t\toverlayHBoxWrapper.addItem(overlay);\n\t\t\t\titems.push(overlayHBoxWrapper);\n\t\t\t}\n\n\t\t\t// Create Wrapper VBox for Card\n\t\t\tconst oPreviewVBox = new VBox(recycleId(`${this.getId()}--previewBoxId--${index}`), {\n\t\t\t\tdirection: \"Column\",\n\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\titems: items\n\t\t\t});\n\n\t\t\t// add VBox as item to GridList\n\t\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\t\t\tthis._getCardContainer().addAggregation(sDefaultAggreName, oPreviewVBox);\n\t\t});\n\t}\n\n\t/**\n\t * Handles the edit cards event.\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t */\n\tprivate _handleEditCards(event: Event) {\n\t\t/* If called from Panel Header event.source() will return TilesPanel, if called from Insights Container event.source() will return InsightsContainer.\n\t\t_getLayout is available at Container Level*/\n\t\tlet parent: ManagedObject = event.getSource<CardsPanel>().getParent() || this;\n\t\tif (parent instanceof CardsPanel) {\n\t\t\tparent = parent.getParent() as ManagedObject;\n\t\t}\n\t\t(parent as InsightsContainer)?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_CARDS);\n\t}\n\n\t/**\n\t * Hides the header of the cards panel.\n\t *\n\t * @private\n\t */\n\tpublic handleHideHeader() {\n\t\tthis._headerVisible = false;\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis._toggleHeaderActions(false);\n\t}\n\n\t/**\n\t * Adds the header to the cards panel.\n\t *\n\t * @private\n\t */\n\tpublic handleAddHeader() {\n\t\tthis._headerVisible = true;\n\t\tthis.setProperty(\n\t\t\t\"title\",\n\t\t\t`${this._i18nBundle?.getText(\"insightsCards\")} (${(this._controlModel.getProperty(\"/userVisibleCards\") as ICard[])?.length})`\n\t\t);\n\t\tthis._toggleHeaderActions(true);\n\t}\n\n\t/**\n\t * Refreshes the cards.\n\t *\n\t * @private\n\t */\n\tprivate refreshCards() {\n\t\t// This should be done via Host once implemented\n\t\tthis.aVisibleCardInstances.forEach((card) => this._refreshCardData(card));\n\t}\n\n\t/**\n\t * Handles the drag and drop of cards.\n\t *\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} oEvent - The drop event parameters.\n\t */\n\tprivate async _handleCardsDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter(\"dropPosition\") as string,\n\t\t\toDragItem = oEvent.getParameter(\"draggedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as GridContainer)?.indexOfItem(oDragItem),\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDropItemIndex = (oDragItem.getParent() as GridContainer).indexOfItem(oDropItem);\n\n\t\tthis._cardsFlexWrapper?.setBusy(true);\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\ttry {\n\t\t\tif (!(this._controlModel.getProperty(\"/userAllCards\") as ICard[]).length) {\n\t\t\t\tconst userAllCardsModel = await this.cardHelperInstance._getUserAllCardModel();\n\t\t\t\tthis._controlModel.setProperty(\"/userAllCards\", userAllCardsModel.getProperty(\"/cards\"));\n\t\t\t\tawait this.updateCardList(sInsertPosition, iDropItemIndex, iDragItemIndex);\n\t\t\t} else {\n\t\t\t\tawait this.updateCardList(sInsertPosition, iDropItemIndex, iDragItemIndex);\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tfocusDraggedItem(this._getCardContainer(), iDropItemIndex);\n\t\t\t}, 0);\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error) {\n\t\t\t\tLog.error(error.message);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis._cardsFlexWrapper?.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the card list based on the drag and drop operation.\n\t *\n\t * @private\n\t * @param {string} sInsertPosition - The position to insert the item.\n\t * @param {number} iDropItemIndex - The index of the dropped item.\n\t * @param {number} iDragItemIndex - The index of the dragged item.\n\t * @returns {Promise<void>} A promise that resolves when the card list is updated.\n\t */\n\tprivate async updateCardList(sInsertPosition: string, iDropItemIndex: number, iDragItemIndex: number) {\n\t\tconst aUserVisibleCards = this._controlModel.getProperty(\"/userVisibleCards\") as ICard[],\n\t\t\taUserAllCards = this._controlModel.getProperty(\"/userAllCards\") as ICard[],\n\t\t\tsDragedPositionRank = aUserVisibleCards[iDragItemIndex]?.rank,\n\t\t\tsDropedPositionRank = aUserVisibleCards[iDropItemIndex]?.rank;\n\t\tlet iUpdatedDragItemIndex = aUserAllCards.findIndex((oCard: ICard) => oCard.rank === sDragedPositionRank),\n\t\t\tiUpdatedDropItemIndex = aUserAllCards.findIndex((oCard: ICard) => oCard.rank === sDropedPositionRank);\n\n\t\tif (\n\t\t\t(sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) ||\n\t\t\t(sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) ||\n\t\t\tiDragItemIndex === iDropItemIndex\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tif (sInsertPosition === \"Before\" && iUpdatedDragItemIndex < iUpdatedDropItemIndex) {\n\t\t\tiUpdatedDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iUpdatedDragItemIndex > iUpdatedDropItemIndex) {\n\t\t\tiUpdatedDropItemIndex++;\n\t\t}\n\t\tif (iUpdatedDragItemIndex !== iUpdatedDropItemIndex) {\n\t\t\tconst aUpdatedCards = this.cardHelperInstance.handleDndCardsRanking(\n\t\t\t\tiUpdatedDragItemIndex,\n\t\t\t\tiUpdatedDropItemIndex,\n\t\t\t\taUserAllCards\n\t\t\t);\n\t\t\tawait this.cardHelperInstance._updateMultipleCards(aUpdatedCards, \"PUT\");\n\t\t\tthis._sortCardsOnRank(aUserAllCards);\n\t\t\tthis._controlModel.setProperty(\"/userAllCards\", aUserAllCards);\n\t\t\tthis._controlModel.setProperty(\n\t\t\t\t\"/userVisibleCards\",\n\t\t\t\taUserAllCards.filter((oCard: ICard) => oCard.visibility)\n\t\t\t);\n\t\t\tawait this.rerenderCards();\n\t\t}\n\t}\n\n\t/**\n\t * Sorts the cards based on their rank property.\n\t *\n\t * @private\n\t * @param {ICard[]} aCards - The array of cards to sort.\n\t */\n\tprivate _sortCardsOnRank(aCards: ICard[]) {\n\t\t// Sort Cards based on it rank property where rank is a alphanumeric string\n\t\taCards.sort((a, b) => {\n\t\t\tif (a.rank && b.rank) {\n\t\t\t\tif (a.rank < b.rank) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a.rank > b.rank) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the personalization instance.\n\t *\n\t * @private\n\t * @returns {UShellPersonalizer} The personalization instance.\n\t */\n\tpublic _getPersonalization() {\n\t\tconst persContainerId = PersonalisationUtils.getPersContainerId(this);\n\t\tconst ownerComponent = PersonalisationUtils.getOwnerComponent(this) as Component;\n\t\treturn UShellPersonalizer.getInstance(persContainerId, ownerComponent);\n\t}\n\n\t/**\n\t * Updates the recommendation status based on the feature toggle.\n\t * @returns {Promise} A promise that resolves when the recommendation status is updated.\n\t */\n\tprivate async _updateRecommendationStatus() {\n\t\tconst oPersData = await this._getPersonalizationData();\n\t\toPersData[RECOMMENDATION_PATH] = true;\n\t\treturn this.oPersonalizer.write(oPersData);\n\t}\n\n\t/**\n\t * Calculates the number of visible cards that can fit within the available width of the parent container.\n\t *\n\t * @private\n\t * @returns {number} - The number of visible cards.\n\t */\n\tprivate _calculateVisibleCardCount() {\n\t\tconst layout = this._getInsightsContainer()._getLayout();\n\t\tconst pageDomRef = layout.getDomRef();\n\t\tconst deviceType = this.getDeviceType();\n\t\tlet count = 1;\n\n\t\tif (pageDomRef) {\n\t\t\tconst isHeaderVisible = layout.getProperty(\"showHeader\") as boolean;\n\t\t\tconst sectionNodeIndex = isHeaderVisible ? 1 : 0;\n\t\t\tconst sectionDomRef = pageDomRef.childNodes[sectionNodeIndex] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tconst iAvailableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst totalCards = this.aVisibleCardInstances.length;\n\n\t\t\tconst cardLayoutConfig = { containerWidth: iAvailableWidth, totalCards: totalCards, minWidth: 304, maxWidth: 583, gap: 16 };\n\t\t\tconst cardWidth = calculateCardWidth(cardLayoutConfig);\n\t\t\tthis.cardWidth = `${cardWidth / 16}rem`;\n\t\t\tif (deviceType === DeviceType.Mobile) {\n\t\t\t\tcount = totalCards;\n\t\t\t} else {\n\t\t\t\t// Multiply by 16 because `cardWidth` is in rems\n\t\t\t\tcount = Math.max(Math.floor(iAvailableWidth / cardWidth), 1);\n\t\t\t}\n\t\t}\n\n\t\treturn count;\n\t}\n\n\t/**\n\t * Adjusts the layout of the cards panel based on the current layout and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout() {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tlet cardWidth = this.cardWidth;\n\t\tconst isMobileDevice = this.getDeviceType() === DeviceType.Mobile;\n\n\t\tif (layout && this.aVisibleCardInstances?.length > 0) {\n\t\t\tconst isElementExpanded = layout._getCurrentExpandedElementName() === this.getProperty(\"fullScreenName\");\n\n\t\t\t//_calculateVisibleCardCount needs to be called in all scenarios to get the correct card width according to device width.\n\t\t\t//if expanded, again the card count is reset to available cards count\n\t\t\tlet cardCount = this._calculateVisibleCardCount();\n\t\t\tif (isElementExpanded) {\n\t\t\t\tcardCount = this.aVisibleCardInstances.length;\n\t\t\t}\n\t\t\tthis._controlModel.setProperty(\"/isPhone\", isMobileDevice);\n\n\t\t\t// update cards in viewport\n\t\t\tif (cardCount !== this.cardsInViewport.length) {\n\t\t\t\tthis.cardsInViewport = this.aVisibleCardInstances.slice(0, cardCount);\n\n\t\t\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\t\t\t\tthis._getCardContainer().removeAllAggregation(sDefaultAggreName);\n\t\t\t\tthis.cardsInViewport.forEach((card) => {\n\t\t\t\t\tconst manifest = card.getManifest() as ICardManifest;\n\t\t\t\t\tconst sType = manifest[\"sap.card\"]?.type;\n\t\t\t\t\tlet overlayHBoxWrapper!: HBox;\n\t\t\t\t\tif (sType === \"Table\" || sType === \"List\") {\n\t\t\t\t\t\tconst overlay = new HBox({\n\t\t\t\t\t\t\twidth: this.cardWidth,\n\t\t\t\t\t\t\theight: \"2rem\"\n\t\t\t\t\t\t}).addStyleClass(\"insightsCardOverflowLayer insightsCardOverflowTop\");\n\t\t\t\t\t\toverlayHBoxWrapper = new HBox({\n\t\t\t\t\t\t\theight: \"0\"\n\t\t\t\t\t\t}).addStyleClass(\"sapMFlexBoxJustifyCenter\");\n\t\t\t\t\t\toverlayHBoxWrapper.addItem(overlay);\n\t\t\t\t\t}\n\t\t\t\t\tconst cardWrapper = new VBox({\n\t\t\t\t\t\tdirection: \"Column\",\n\t\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\t\titems: [card]\n\t\t\t\t\t});\n\t\t\t\t\tif (overlayHBoxWrapper) {\n\t\t\t\t\t\tcardWrapper.addItem(overlayHBoxWrapper);\n\t\t\t\t\t}\n\t\t\t\t\tconst sDefaultAggreName = this._getCardContainer().getMetadata().getDefaultAggregationName();\n\t\t\t\t\tthis._getCardContainer().addAggregation(sDefaultAggreName, cardWrapper);\n\t\t\t\t});\n\n\t\t\t\tthis.shareCardsInViewport();\n\t\t\t}\n\n\t\t\t// show/hide Full Screen Button if available\n\t\t\tconst showFullScreenButton = isElementExpanded || this.aVisibleCardInstances.length > cardCount;\n\t\t\tif (this._headerVisible) {\n\t\t\t\tthis._getInsightsContainer()?.toggleFullScreenElements(this, showFullScreenButton);\n\t\t\t} else {\n\t\t\t\tconst fullScreenButton = getAssociatedFullScreenMenuItem(this);\n\t\t\t\tconst fullScreenText = fullScreenButton?.getTitle();\n\t\t\t\tthis._getInsightsContainer()?.updateMenuItem(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${cardsContainerMenuItems.SHOW_MORE}`) as MenuItem,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t\tthis._getInsightsContainer()?.updateActionButton(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${cardsContainerActionButtons.SHOW_MORE}`) as Button,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.cardWidth = this.getDeviceType() === DeviceType.Mobile ? \"19rem\" : \"22rem\";\n\t\t}\n\n\t\t// update width of cards on resize\n\t\tif (cardWidth !== this.cardWidth) {\n\t\t\tthis.aVisibleCardInstances.forEach((card) => card.setWidth(this.cardWidth));\n\t\t\tthis.cardsContainerSettings?.setColumnSize(this.cardWidth);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the menu items for the container.\n\t *\n\t * @private\n\t * @returns {MenuItem[]} An array of MenuItem instances.\n\t */\n\tpublic getContainerMenuItems(): MenuItem[] {\n\t\tif (!this._containerMenuItems) {\n\t\t\tconst containerRefreshMenuItem = this._createRefreshMenuItem(cardsContainerMenuItems.REFRESH, \"containerCardsRefresh\");\n\t\t\tconst containerEditCardsMenuItem = this._createEditCardsMenuItem(cardsContainerMenuItems.EDIT_CARDS, \"containerManageCards\");\n\t\t\tconst containerShowMoreMenuItem = createShowMoreMenuItem(this, cardsContainerMenuItems.SHOW_MORE, \"containerCardsShowMore\");\n\t\t\tthis._controlMap.set(`${this.getId()}-${cardsContainerMenuItems.SHOW_MORE}`, containerShowMoreMenuItem);\n\t\t\tthis._containerMenuItems = [containerRefreshMenuItem, containerEditCardsMenuItem, containerShowMoreMenuItem];\n\t\t}\n\t\treturn this._containerMenuItems;\n\t}\n\n\t/**\n\t * Retrieves the action buttons for the container.\n\t *\n\t * @private\n\t * @returns {Button[]} An array of Button instances.\n\t */\n\tpublic getContainerActionButtons(): Button[] {\n\t\tif (!this._containerActionButtons) {\n\t\t\tthis._containerActionButtons = [];\n\t\t\tconst actionButton = createShowMoreActionButton(this, cardsContainerActionButtons.SHOW_MORE, \"containerCardsShowMore\");\n\t\t\tif (actionButton) {\n\t\t\t\tthis._controlMap.set(`${this.getId()}-${cardsContainerActionButtons.SHOW_MORE}`, actionButton);\n\t\t\t\tthis._containerActionButtons.push(actionButton);\n\t\t\t}\n\t\t}\n\n\t\treturn this._containerActionButtons;\n\t}\n\n\t/**\n\t * Retrieves the insights container.\n\t *\n\t * @private\n\t * @returns {InsightsContainer} - The insights container.\n\t */\n\tprivate _getInsightsContainer(): InsightsContainer {\n\t\tif (!this.insightsContainer) {\n\t\t\tthis.insightsContainer = this.getParent() as InsightsContainer;\n\t\t}\n\t\treturn this.insightsContainer;\n\t}\n\n\t/**\n\t * Creates the refresh menu item.\n\t *\n\t * @param {string} id - The ID of the menu item.\n\t * @param {string} fesrId - The FESR ID of the menu item.\n\t * @returns {MenuItem} - The created menu item.\n\t * @private\n\t */\n\tprivate _createRefreshMenuItem(id: string, fesrId?: string): MenuItem {\n\t\tconst menuItem = new MenuItem(`${this.getId()}-${id}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tvisible: false,\n\t\t\tpress: () => this.refreshCards()\n\t\t});\n\t\tthis._controlMap.set(`${this.getId()}-${id}`, menuItem);\n\t\tif (fesrId) {\n\t\t\taddFESRId(menuItem, fesrId);\n\t\t}\n\n\t\treturn menuItem;\n\t}\n\n\t/**\n\t * Creates the edit cards menu item.\n\t *\n\t * @param {string} id - The ID of the menu item.\n\t * @param {string} fesrId - The FESR ID of the menu item.\n\t * @returns {MenuItem} - The created menu item.\n\t * @private\n\t */\n\tprivate _createEditCardsMenuItem(id: string, fesrId?: string): MenuItem {\n\t\tconst menuItem = new MenuItem(`${this.getId()}-${id}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"manageCards\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tvisible: false,\n\t\t\tpress: (event: Event) => this._handleEditCards(event)\n\t\t});\n\t\tthis._controlMap.set(`${this.getId()}-${id}`, menuItem);\n\t\tif (fesrId) {\n\t\t\taddFESRId(menuItem, fesrId);\n\t\t}\n\t\treturn menuItem;\n\t}\n\n\t/**\n\t * Toggles the visibility of the header actions.\n\t *\n\t * @param {boolean} bShow - Whether to show or hide the header actions.\n\t * @private\n\t */\n\tprivate _toggleHeaderActions(bShow: boolean) {\n\t\t(this.getAggregation(\"menuItems\") as MenuItem[])?.forEach((menuItem) => {\n\t\t\tthis._getInsightsContainer()?.toggleMenuListItem(menuItem, bShow);\n\t\t});\n\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) =>\n\t\t\tthis._getInsightsContainer()?.toggleActionButton(actionButton, bShow)\n\t\t);\n\t}\n\n\t/**\n\t * Retrieves the card container based on the device type.\n\t *\n\t * @private\n\t * @returns {GridContainer | HeaderContainer} - The card container.\n\t *\n\t */\n\tprivate _getCardContainer() {\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\treturn this.cardsMobileContainer;\n\t\t}\n\t\treturn this.cardsContainer;\n\t}\n\n\t/**\n\t * Sorts the menu items based on the provided order.\n\t *\n\t * @private\n\t * @param {string[]} menuItems - The order of the menu items.\n\t */\n\tprivate _sortMenuItems(menuItems: string[]) {\n\t\tconst panelMenuItems = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tlet sortedMenuItems = sortMenuItems(menuItems, panelMenuItems);\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tsortedMenuItems?.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t}\n\n\t/**\n\t * Shares the cards that are currently in the viewport by firing the \"visibleCardsUpdated\" event.\n\t *\n\t * @private\n\t */\n\tprivate shareCardsInViewport() {\n\t\tconst cardCount = this._calculateVisibleCardCount();\n\t\tconst visibleCards = this._controlModel.getProperty(\"/userVisibleCards\") as ICard[];\n\t\tconst cardsInViewport = visibleCards?.slice(0, cardCount);\n\t\tif (cardsInViewport?.length) {\n\t\t\tthis.fireEvent(\"visibleCardsUpdated\", { cards: cardsInViewport });\n\t\t}\n\t}\n\n\t/**\n\t * Exit lifecycle method.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic exit() {\n\t\truntimeHostCreated = false;\n\t\t(this.getAggregation(\"host\") as Host)?.destroy();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":91,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","FlexBox","IconTabBar","IconTabFilter","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","sap_m_library","__AppsAdditionPanel","__BaseSettingsDialog","__InsightsAdditionPanel","___utils_Constants","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BackgroundDesign","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","ButtonType","IconTabHeaderMode","AppsAdditionPanel","BaseSettingsDialog","InsightsAdditionPanel","FESR_IDS","addFESRSemanticStepName","FESR_EVENTS","ContentAdditionDialog","extend","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","setStretch","setContentWidth","setContentHeight","setVerticalScrolling","setTitle","_i18nBundle","getText","addStyleClass","attachAfterClose","onDialogClose","addPanel","getId","_setupDialogContent","iconTabBar","headerMode","Inline","backgroundDesign","Transparent","expandable","select","setProperty","getSelectedKey","updateActionButtons","errorMessageContainer","direction","renderType","height","justifyContent","items","illustrationSize","Auto","illustrationType","NoData","wrapper","addContent","onBeforeRendering","_onBeforeRendering","event","BaseSettingsDialog.prototype.onBeforeRendering.call","_addPanelsToIconTabBar","selectedKey","getProperty","getPanels","setSelectedKey","_temp3","panelsAdded","_temp2","hasItems","getItems","setVisible","panels","_temp","panel","Promise","resolve","isSupported","key","iconTabFilter","text","content","getAggregation","forEach","control","addItem","SELECT","_getSelectedPanel","selectedPanel","find","_updateActionButtons","cancelButton","type","press","close","PRESS","CANCEL_CONTENT_DIALOG","removeAllButtons","getActionButtons","button","addButton","_onDialogClose","fireEvent"],"sources":["ContentAdditionDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Button from \"sap/m/Button\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport IconTabBar from \"sap/m/IconTabBar\";\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign, ButtonType, IconTabHeaderMode } from \"sap/m/library\";\nimport Control from \"sap/ui/core/Control\";\nimport AppsAdditionPanel from \"./AppsAdditionPanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport InsightsAdditionPanel from \"./InsightsAdditionPanel\";\nimport { FESR_IDS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\n/**\n *\n * Dialog class for My Home Content Addition.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.136\n * @private\n *\n * @alias sap.cux.home.ContentAdditionDialog\n */\nexport default class ContentAdditionDialog extends BaseSettingsDialog {\n\tprivate iconTabBar!: IconTabBar;\n\tprivate cancelButton!: Button;\n\tprivate panelsAdded!: boolean;\n\tprivate errorMessageContainer!: FlexBox;\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup dialog\n\t\tthis.setStretch(false);\n\t\tthis.setContentWidth(\"59.375rem\");\n\t\tthis.setContentHeight(\"43.75rem\");\n\t\tthis.setVerticalScrolling(false);\n\t\tthis.setTitle(this._i18nBundle.getText(\"addContent\"));\n\t\tthis.addStyleClass(\"sapCuxContentAdditionDialog\");\n\t\tthis.attachAfterClose(this.onDialogClose.bind(this));\n\n\t\t//setup panels\n\t\tthis.addPanel(new AppsAdditionPanel(`${this.getId()}-appsAdditionPanel`));\n\t\tthis.addPanel(new InsightsAdditionPanel(`${this.getId()}-cardsAdditionPanel`));\n\n\t\t//setup content\n\t\tthis._setupDialogContent();\n\t}\n\n\t/**\n\t * Sets up the dialog content with an icon tab bar and error message container.\n\t *\n\t * @private\n\t */\n\tprivate _setupDialogContent(): void {\n\t\tthis.iconTabBar = new IconTabBar(`${this.getId()}-iconTabBar`, {\n\t\t\theaderMode: IconTabHeaderMode.Inline,\n\t\t\tbackgroundDesign: BackgroundDesign.Transparent,\n\t\t\texpandable: false,\n\t\t\tselect: () => {\n\t\t\t\tthis.setProperty(\"selectedKey\", this.iconTabBar.getSelectedKey());\n\t\t\t\tthis.updateActionButtons();\n\t\t\t}\n\t\t});\n\t\tthis.errorMessageContainer = new FlexBox(`${this.getId()}-errorMessageContainer`, {\n\t\t\tdirection: \"Column\",\n\t\t\trenderType: \"Bare\",\n\t\t\theight: \"100%\",\n\t\t\tjustifyContent: \"Center\",\n\t\t\titems: [\n\t\t\t\tnew IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\t\tillustrationSize: IllustratedMessageSize.Auto,\n\t\t\t\t\tillustrationType: IllustratedMessageType.NoData\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\n\t\tconst wrapper = new FlexBox(`${this.getId()}-wrapper`, {\n\t\t\tdirection: \"Column\",\n\t\t\trenderType: \"Bare\",\n\t\t\theight: \"100%\",\n\t\t\titems: [this.iconTabBar, this.errorMessageContainer]\n\t\t});\n\n\t\tthis.addContent(wrapper);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content and navigate to the selected settings panel.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//add panels to icon tab bar\n\t\tvoid this._addPanelsToIconTabBar();\n\n\t\t//set selected key\n\t\tconst selectedKey = (this.getProperty(\"selectedKey\") as string) || (this.getPanels()[0]?.getProperty(\"key\") as string);\n\t\tthis.iconTabBar.setSelectedKey(selectedKey);\n\n\t\t//update action buttons to be displayed\n\t\tthis.updateActionButtons();\n\t}\n\n\t/**\n\t * Adds supported panels to the icon tab bar.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _addPanelsToIconTabBar(): Promise<void> {\n\t\tif (!this.panelsAdded) {\n\t\t\tthis.panelsAdded = true;\n\t\t\tconst panels = this.getPanels();\n\n\t\t\tfor (const panel of panels) {\n\t\t\t\tconst isSupported = await panel.isSupported();\n\t\t\t\tif (!isSupported) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst key = panel.getProperty(\"key\") as string;\n\t\t\t\tconst iconTabFilter = new IconTabFilter(`${this.getId()}-${panel.getId()}-${key}`, {\n\t\t\t\t\tkey,\n\t\t\t\t\ttext: panel.getProperty(\"title\") as string\n\t\t\t\t});\n\n\t\t\t\tconst content = panel.getAggregation(\"content\") as Control[] | undefined;\n\t\t\t\tcontent?.forEach((control) => iconTabFilter.addContent(control));\n\n\t\t\t\tthis.iconTabBar.addItem(iconTabFilter);\n\t\t\t\taddFESRSemanticStepName(iconTabFilter, FESR_EVENTS.SELECT, panel.getProperty(\"key\") as string);\n\t\t\t}\n\n\t\t\tconst hasItems = this.iconTabBar.getItems().length > 0;\n\t\t\tthis.iconTabBar.setVisible(hasItems);\n\t\t\tthis.errorMessageContainer.setVisible(!hasItems);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a panel by its key from the dialog.\n\t *\n\t * @private\n\t * @param {string} key - The key of the panel to retrieve.\n\t * @returns {BaseSettingsPanel} The panel matching the provided key.\n\t */\n\tprivate _getSelectedPanel(key: string): BaseSettingsPanel {\n\t\tlet selectedPanel = this.getPanels().find((panel) => panel.getProperty(\"key\") === key);\n\t\tif (!selectedPanel) {\n\t\t\tselectedPanel = this.getPanels()[0];\n\t\t\tthis.setProperty(\"selectedKey\", selectedPanel?.getProperty(\"key\"));\n\t\t}\n\t\treturn selectedPanel;\n\t}\n\n\t/**\n\t * Updates the action buttons based on the selected panel.\n\t *\n\t * @private\n\t */\n\tpublic updateActionButtons(): void {\n\t\tthis.cancelButton =\n\t\t\tthis.cancelButton ||\n\t\t\tnew Button(`${this.getId()}-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CANCEL\"),\n\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\tpress: () => this.close()\n\t\t\t});\n\t\taddFESRSemanticStepName(this.cancelButton, FESR_EVENTS.PRESS, FESR_IDS.CANCEL_CONTENT_DIALOG);\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tthis.removeAllButtons();\n\n\t\t// add action buttons from the selected panel\n\t\tthis._getSelectedPanel(selectedKey)\n\t\t\t?.getActionButtons()\n\t\t\t.forEach((button) => {\n\t\t\t\tthis.addButton(button);\n\t\t\t});\n\n\t\t// add cancel button as common action button\n\t\tthis.addButton(this.cancelButton);\n\t}\n\n\t/**\n\t * Handles the dialog close event and triggers panel cleanup.\n\t *\n\t * @private\n\t */\n\tprivate onDialogClose(): void {\n\t\tthis.getPanels().forEach((panel) => panel.fireEvent(\"onDialogClose\"));\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":96,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","__BasePanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BasePanel","SETTINGS_PANELS_KEYS","ErrorPanel","extend","metadata","library","properties","messageTitle","type","group","defaultValue","messageDescription","actionButton","aggregations","content","multiple","singularName","visibility","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","getData","_getData","setProperty","_oWrapperNoCardsVBox","oIllustratedMessage","getId","illustrationSize","ExtraSmall","illustrationType","AddDimensions","title","getProperty","description","additionalContent","text","_i18nBundle","getText","press","handleAddInsights","bind","addStyleClass","backgroundDesign","oActionButton","insertAdditionalContent","addItem","addContent","_handleAddInsights","parentContainer","getParent","_getLayout","openSettingsDialog","INSIGHTS_CARDS"],"sources":["ErrorPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport { MetadataOptions } from \"sap/ui/core/Component\";\nimport BasePanel from \"./BasePanel\";\nimport { $ErrorPanelSettings } from \"./ErrorPanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\n/**\n *\n * Panel class for displaying Error Message.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.ErrorPanel\n */\n\nexport default class ErrorPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $ErrorPanelSettings);\n\tconstructor(id?: string, settings?: $ErrorPanelSettings);\n\t/**\n\t * Constructor for a new Error Panel.\n\t *\n\t * @param {string} [id] ID for the new panel, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new panel\n\t */\n\tpublic constructor(id?: string, settings?: $ErrorPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title text of the message.\n\t\t\t */\n\t\t\tmessageTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Description text of the message.\n\t\t\t */\n\t\t\tmessageDescription: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Action button displayed with the message.\n\t\t\t */\n\t\t\tactionButton: { type: \"sap.m.Button\", group: \"Misc\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperNoCardsVBox!: VBox;\n\n\tgetData() {\n\t\tthis.setProperty(\"enableSettings\", false);\n\t\tif (!this._oWrapperNoCardsVBox) {\n\t\t\tconst oIllustratedMessage = new IllustratedMessage(`${this.getId()}-errorPanelIllustratedMessage`, {\n\t\t\t\tillustrationSize: IllustratedMessageSize.ExtraSmall,\n\t\t\t\tillustrationType: IllustratedMessageType.AddDimensions,\n\t\t\t\ttitle: this.getProperty(\"messageTitle\") as string,\n\t\t\t\tdescription: this.getProperty(\"messageDescription\") as string,\n\t\t\t\tadditionalContent: [\n\t\t\t\t\tnew Button(`${this.getId()}-addInsightsBtn`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"manageInsightBtn\"),\n\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\tpress: this.handleAddInsights.bind(this)\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\");\n\n\t\t\tthis._oWrapperNoCardsVBox = new VBox(`${this.getId()}-wrapperNoCardsVBox`, {\n\t\t\t\tbackgroundDesign: \"Solid\"\n\t\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\t\tconst oActionButton = this.getProperty(\"actionButton\") as Button;\n\t\t\tif (oActionButton) {\n\t\t\t\toIllustratedMessage.insertAdditionalContent(oActionButton, 0);\n\t\t\t}\n\t\t\tthis._oWrapperNoCardsVBox.addItem(oIllustratedMessage);\n\t\t\tthis.addContent(this._oWrapperNoCardsVBox);\n\t\t}\n\t}\n\n\t/**\n\t * Opens the Insights Cards dialog.\n\t * @private\n\t */\n\tprivate handleAddInsights() {\n\t\tconst parentContainer = this.getParent() as InsightsContainer;\n\t\tparentContainer?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_CARDS);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,qCAAA,kKAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAWOG,EAASJ,EAAAF,GAAA,MAGPO,EAAoBN,EAAA,wBAE7B,MAgBqBO,EAAmBF,EAASG,OAAA,2BAahCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,aAAc,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAI7DC,mBAAoB,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAInEE,aAAc,CAAEJ,KAAM,eAAgBC,MAAO,SAE9CI,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,UAAWC,WAAY,YAxB3DC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EA2BAG,QAAO,SAAAC,IACNF,KAAKG,YAAY,iBAAkB,OACnC,IAAKH,KAAKI,qBAAsB,CAC/B,MAAMC,EAAsB,IAAItC,EAAmB,GAAGiC,KAAKM,uCAAwC,CAClGC,iBAAkBvC,EAAuBwC,WACzCC,iBAAkBxC,EAAuByC,cACzCC,MAAOX,KAAKY,YAAY,gBACxBC,YAAab,KAAKY,YAAY,sBAC9BE,kBAAmB,CAClB,IAAIhD,EAAO,GAAGkC,KAAKM,yBAA0B,CAC5CS,KAAMf,KAAKgB,YAAYC,QAAQ,oBAC/BhC,KAAM,aACNiC,MAAOlB,KAAKmB,kBAAkBC,KAAKpB,WAGnCqB,cAAc,sBAEjBrB,KAAKI,qBAAuB,IAAIlC,EAAK,GAAG8B,KAAKM,6BAA8B,CAC1EgB,iBAAkB,UAChBD,cAAc,uBACjB,MAAME,EAAgBvB,KAAKY,YAAY,gBACvC,GAAIW,EAAe,CAClBlB,EAAoBmB,wBAAwBD,EAAe,EAC5D,CACAvB,KAAKI,qBAAqBqB,QAAQpB,GAClCL,KAAK0B,WAAW1B,KAAKI,qBACtB,CACD,EAMQe,kBAAiB,SAAAQ,IACxB,MAAMC,EAAkB5B,KAAK6B,YAC7BD,GAAiBE,aAAaC,mBAAmBrD,EAAqBsD,eACvE,IAAC,OA1EmBrD,CAAU","ignoreList":[],"sourceRoot":""}},{"offset":{"line":101,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerSettings","Button","ColorPalette","ColorPalettePopover","CustomListItem","Dialog","HBox","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","Input","Label","List","MessageBox","MessageStrip","MessageToast","NavContainer","ObjectIdentifier","Page","Popover","ScrollContainer","SearchField","StandardListItem","Text","Title","Toolbar","ToolbarSpacer","VBox","sap_m_library","Event","Element","EventBus","Icon","sap_ui_core_library","MessageType","Parameters","SimpleForm","sap_ui_layout_library","Config","Container","MyHomeImport","PageRuntime","___BaseApp","__BaseAppPersPanel","__Group","__MenuItem","__RecommendedAppPanel","___utils_Accessibility","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_FESRUtil","___utils_InsightsUtils","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","ButtonType","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","ListType","_catch","recover","PlacementType","_finallyRethrows","finalizer","dnd","form","ActionsPopover","BaseAppPersPanel","Group","MenuItem","RecommendedAppPanel","checkPanelExists","getInvisibleText","DEFAULT_BG_COLOR","END_USER_COLORS","MYAPPS_SECTION_ID","MYHOME_PAGE_ID","getLeanURL","recycleId","DeviceType","addFESRId","addFESRSemanticStepName","sortMenuItems","_showAddApps","last","favouritesMenuItems","tilesPanelName","insightsConatinerlName","sortedMenuItems","CREATE_GROUP","ADD_APPS","ADD_FROM_INSIGHTS","FavAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","groups","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","_selectedApps","_isInitialLoad","_updateAppColorPersonalization","personalizations","updateConfig","visualization","color","appId","oldAppId","persConfig","sourceGroupId","sectionId","isSourceGroupDefault","isDefaultSection","personalizationIndex","_getPersonalizationIndex","isRecentlyAddedApp","BGColor","isSection","init","_init","_this2","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_createActionButtons","_createHeaderMenuItems","appsWrapper","_generateAppsWrapper","addDragDropConfigTo","event","_onFavItemDrop","_handleKeyboardMoveApp","DropPosition","OnOrBetween","oEventBus","getInstance","subscribe","sChannelId","sEventId","oData","aSections","groupsPersInfo","groupInfo","Promise","resolve","addAppsAndSections","_importdone","getParent","_refreshAllPanels","setImportButtonVisibility","attachPersistDialog","_selectedGroupId","_showGroupDetailDialog","document","addEventListener","_resetCutElement","stateData","status","publish","_addAppsAndSections","sections","importedPersonalizations","_this3","aPromise","_getAppPersonalization","aPersonalization","_temp5","setFavAppsPersonalization","reduce","chain","current","updateDefaultSectionPersonalization","_temp4","section","sectionViz","visualizations","_temp3","_temp2","filteredPersonalizations","filterPersonalizations","concat","_temp","addSectionViz","appManagerInstance","_getSections","sectionIndex","findIndex","n","addSection","sectionProperties","title","visible","_filterPersonalizations","newSectionId","aAuthPers","oPers","aSectionViz","oViz","find","oSectionViz","targetURL","_updateDefaultSectionPersonalization","_this4","defaultSection","oSection","forEach","_addSectionViz","sectionsViz","sSectionId","_this5","promiseChain","_exit","_temp7","_result","_addVisualization","_temp6","isBookmark","targetSection","moveConfig","sourceSectionIndex","indexOf","sourceVisualizationIndex","targetSectionIndex","targetVisualizationIndex","_this5$_addVisualizat","loadApps","_loadApps","_this6","fetchFavVizs","favoriteVisualizations","_temp9","container","_createAddFromInsTilesMenuItem","_updateContainerHeader","isPhone","getDeviceType","Mobile","destroyAggregation","groupVisualizations","filter","map","groupVisualization","menuItems","_getGroupActions","_generateGroups","_setGroups","appVisualizations","appVisualization","index","_getAppActions","undefined","generateApps","setApps","_setGroupDetailDialogApps","toggleMenuListItem","_createGroupMenuItem","getApps","_temp8","_switchToRecommendedIfNoFavApps","_this7","_temp1","panels","getContent","recommendedPanel","panel","_temp0","isSupported","refreshPanel","menuItemId","getId","_controlMap","get","addInsightsMenuItem","icon","press","_handleAddFromInsights","_menuItems","addAggregation","_sortMenuItems","set","panelMenuItems","getAggregation","removeAllAggregation","menuItem","bgColor","key","group","number","badge","groupId","_handleGroupPress","oMenuItem","getGroupId","isUngroupedApp","appActions","selectColorMenuItem","getKey","Navigation","_openColorPopover","_getAllowedMoveGroups","moveToMenuItem","_openMoveToGroupPopover","createGroupMenuItem","source","getSource","app","_openCreateGroupDialog","removeFromMyHomeMenuItem","_handleRemove","removeFromGroupMenuItem","_handleMoveToGroup","renameGroupMenuItem","_onRenameGroup","removeAllAppsMenuItem","_handleUngroupApps","groupActions","isPresetSection","deleteGroupMenuItem","_onDeleteGroup","_this8","_actionButtons","addAppsBtn","tooltip","text","navigateToAppFinder","actionButton","_validateAppsMigration","isImportEnabled","_createImportButton","_importButton","_openImportAppsDialog","insertAggregation","_setImportButtonVisibility","bVisible","_this9","setImportEnabled","setVisible","addAppsMenuItem","item","_getDragDropInfo","appGroupId","_this0","dragTile","getParameter","dropTile","dropPosition","dropControl","dragItemIndex","indexOfItem","dropItemIndex","dragItem","_getTileItem","dropItem","dragDropInfo","_temp12","_temp11","_adjustAppDragDropInfo","_temp10","_adjustGroupDragDropInfo","_this1","isUpdated","dragApp","dropApp","all","getVisualization","getUrl","dragVisualization","dropVisualization","RelativeDropPosition","Before","After","tile","getItems","tileGroupId","data","_getGroup","_this10","dropGroupIndex","lastGroupIndex","_this11","_temp15","removeStyleClass","_temp14","On","_handleOnItemDrop","refresh","_temp13","_setBusy","_handleItemsReorder","_this12","_temp16","targetGroupId","_this13","isDragItemGroup","getMetadata","getName","isDropItemGroup","_temp18","drapApp","moveVisualization","visualizationIndex","_temp17","moveSection","_navigateToAppFinder","getServiceAsync","navigationService","navigationObject","pageID","sectionID","navigate","shellHash","JSON","stringify","error","warning","Error","message","pageRuntime","onImportDialogPress","skipAppsSelection","createGroupDialog","_generateCreateGroupDialog","destroyItems","tiles","appCopy","clone","_onPress","_highlightApp","_getAppTile","_setAggregation","fireEvent","_updateSelectedAppCount","open","_closeCreateGroupDialog","close","_resetCreateGroupDialog","navContainer","_generateCreateGroupNavContainer","groupNameInput","searchField","setValue","to","getInitialPage","_setNoAppsSelectedError","_selectedGroupColor","_toggleNavButton","nextBtn","backBtn","createBtn","currentPageIndex","indexOfPage","getCurrentPage","getPages","_validateGroupName","_generateCreateGroupAppsPage","_highlightSelectedApps","back","_onPressGroupCreate","content","escapeHandler","contentHeight","contentWidth","buttons","addStyleClass","selectedApp","oTile","bIsSelected","hasStyleClass","oScrollContainer","_generateAppsScrollContainer","splice","oApp","toggleStyleClass","setHeight","layout","columnSize","gap","vertical","height","oAppsCountContol","setText","initialPage","pages","_generateCreateGroupMainPage","width","required","liveChange","showHeader","enableScrolling","backgroundDesign","items","SimpleFormLayout","ResponsiveGridLayout","labelSpanS","labelSpanM","colors","oColor","colorSelect","_onColorSelect","_onCreateAppSearch","showIcon","_generateCreateGroupErrorMsg","illustrationSize","Base","description","_getLegendColor","messageStrip","groupName","getValue","trim","setValueState","setValueStateText","selectedApps","tilesContainer","some","searchQuery","searchExpression","RegExp","test","getHeader","filteredTiles","getVisible","hasFilteredApps","_this14","_temp21","_temp20","_temp19","_createGroup","groupColor","_getGroupColor","show","of","offset","err","_wasThrown","_result2","params","_this15","getSectionVisualizations","sectionVisualizations","selectedVisualizations","sectionVisualization","url","viz","visualizationsToBeDeleted","duplicateVisualizationIds","duplicateApps","removeVisualizations","vizIds","_updateAppPersonalization","_updateGroupPersonalization","defaultColor","firstApp","setDefaultColor","getBgColor","colorPopoverId","_currentItem","colorPopover","showDefaultColorButton","showMoreColorsButton","showRecentColorsSection","_closeActionsPopover","selectedColor","_handleColorSelect","_oPopover","setPlacement","HorizontalPreferredRight","openBy","_this16","_temp23","isGroupedApp","_refreshGroupDetailDialog","_applyUngroupedTileColor","_temp22","groupIconControl","setColor","allowedMoveGroups","allowedMoveGroup","busy","_generateGroupDetailDialog","_generateAddFromInsightsDialog","oControl","setBusy","BaseAppPersPanel.prototype.setBusy.call","sourceGroup","popoverId","list","moveToGroupPopover","itemPress","placement","removeAllItems","targetGroup","addItem","getTitle","_this17","lastAppInGroup","actionText","messageIcon","QUESTION","WARNING","actions","Action","CANCEL","emphasizedAction","onClose","action","_temp25","_temp24","_removeApp","_closeGroupDetailDialog","_wasThrown2","_result3","_this18","_temp27","_deleteGroup","_temp26","_deletePersonalization","_this19","isLastAppInGroup","_temp28","confirmationMessage","confirmationTitle","_moveAppAndHandleGroupChanges","_this20","sTargetGroupTile","_temp31","_moveAppToGroup","_temp30","sMsg","_temp29","_wasThrown3","_result4","updatedApp","isRemove","groupApps","updatedAppIndex","groupApp","destroy","setBackgroundColor","_this21","sourceVisualization","isTargetGroupDefault","_temp36","_temp35","_temp34","_moveAppToDefaultGroup","_temp33","_temp32","_removeDuplicateVisualizations","_this22","_temp37","_this23","vizIdsToBeDeleted","_temp38","_ungroupApps","_this24","deleteAction","moveAppAction","_temp39","_this25","_temp42","updatedSections","_temp41","_temp40","preset","_wasThrown4","_result5","editMode","_this26","dialog","name","_setGroupNameControl","_this27","_temp43","_applyGroupedAppsPersonalization","_dispatchAppsLoadedEvent","_applyTilesPersonalization","src","size","oInvisibleText","oGroupNameInput","ariaLabelledBy","onsapfocusleave","_onGroupEditName","endButton","customHeader","oPopover","groupDetailDialog","destroyApps","updatedTitle","_this28","_temp45","oldTitle","_temp44","_renameGroup","pagesService","pageIndex","getPageIndex","getModel","getProperty","groupIndex","_temp46","renameSection","groupTitle","groupTitleControl","groupInputControl","setInitialFocus","setAddBtnEnabled","selectedItems","_getSelectedInsights","setEnabled","getAppFinderBtn","btnType","appsAppFinder","_closeAddFromInsightsDialog","Default","mode","selectionChange","_addFromInsights","enabled","addStaticTiles","wrapping","justifyContent","alignItems","Transparent","_this29","_getInsightTilesToAdd","appsToAdd","_generateInsightListItems","listItems","backgroundColor","subtitle","vizId","_this30","fetchInsightApps","insightsApps","favoriteApps","insightsApp","isCount","isSmartBusinessTile","iAppIndex","favoriteApp","_filterDuplicateVizs","removeSelections","getSelectedItems","_this31","_temp48","_temp47","selectedItem","addVisualization","updateConfigs","_this32","_updateMoveAppPersonalization","sourcePersonalizationIndex","newPersonalization","iTargetPersonalizationIndex","_this33","updatedPersonalization","appPersonalization","personalization","addBookMark","_this34","_temp49","deleteSection","personalizationConfig","_this35","_this36","currentItem","closestTo","firstElementChild","_temp51","metaKey","ctrlKey","_cutApp","$","css","_oMoreIcon","_temp50","dragDropEvent","draggedControl","droppedControl","appsWrapperId","includes","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription","setIllustrationSize","ExtraSmall","setIllustrationType","AddingColumns","addAdditionalContent"],"sources":["FavAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport ColorPalette, { ColorPalette$ColorSelectEvent } from \"sap/m/ColorPalette\";\nimport ColorPalettePopover from \"sap/m/ColorPalettePopover\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport Input from \"sap/m/Input\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Page from \"sap/m/Page\";\nimport Popover from \"sap/m/Popover\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField from \"sap/m/SearchField\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport { ButtonType, ListType, PlacementType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport { dnd } from \"sap/ui/core/library\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport Parameters from \"sap/ui/core/theming/Parameters\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport { form } from \"sap/ui/layout/library\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport MyHomeImport from \"sap/ushell/components/pages/MyHomeImport\";\nimport PageRuntime from \"sap/ushell/components/pages/controller/PageRuntime.controller\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport Pages from \"sap/ushell/services/Pages\";\nimport { IExportData } from \"./AdvancedSettingsPanel\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport { ActionsPopover } from \"./BaseApp\";\nimport BaseAppPanel from \"./BaseAppPanel\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport type { $BasePanelSettings } from \"./BasePanel\";\nimport Group, { Group$PressEvent } from \"./Group\";\nimport MenuItem from \"./MenuItem\";\nimport RecommendedAppPanel from \"./RecommendedAppPanel\";\nimport {\n\tIAppPersonalization,\n\tIAppPersonalizationConfig,\n\tICustomVisualization,\n\tIDragDropInfo,\n\tISection,\n\tISectionAndVisualization,\n\tIUpdatePersonalizationConfig,\n\tIVisualization\n} from \"./interface/AppsInterface\";\nimport { checkPanelExists, getInvisibleText } from \"./utils/Accessibility\";\nimport { IMoveConfig } from \"./utils/AppManager\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, MYAPPS_SECTION_ID, MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport { getLeanURL, recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport { sortMenuItems } from \"./utils/InsightsUtils\";\nconst _showAddApps = () => {\n\treturn (Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) as boolean;\n};\n\nexport enum favouritesMenuItems {\n\tCREATE_GROUP = \"createGrpMenuBtn\",\n\tADD_APPS = \"addAppsMenuBtn\",\n\tADD_FROM_INSIGHTS = \"addInsightsMenuBtn\"\n}\n\nconst tilesPanelName: string = \"sap.cux.home.TilesPanel\";\nconst insightsConatinerlName: string = \"sap.cux.home.InsightsContainer\";\nconst sortedMenuItems: (favouritesMenuItems | string)[] = [\n\tfavouritesMenuItems.CREATE_GROUP,\n\tfavouritesMenuItems.ADD_APPS,\n\tfavouritesMenuItems.ADD_FROM_INSIGHTS,\n\t\"settings\"\n];\n\n/**\n *\n * Provides the FavAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.FavAppPanel\n */\nexport default class FavAppPanel extends BaseAppPersPanel {\n\tprivate _selectedApps: App[] = [];\n\tprivate _selectedGroupColor: string | undefined;\n\tprivate _selectedGroupId: string | undefined;\n\tprivate _currentItem!: App | Group;\n\tprivate _cutApp: GenericTile | undefined;\n\tprivate oEventBus!: EventBus;\n\tprivate _importButton!: Button;\n\tprivate _createGroupMenuItem!: MenuItem;\n\tprivate _isInitialLoad = true;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Favorite apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Group aggregation for Favorite apps\n\t\t\t */\n\t\t\tgroups: { type: \"sap.cux.home.Group\", singularName: \"group\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new favorite app panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"favApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"favoritesTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"favAppsInfo\"));\n\t\t//Setup Action Buttons\n\t\tvoid this._createActionButtons();\n\t\t//Setup Menu Items\n\t\tthis._createHeaderMenuItems();\n\t\t//add drag and drop config\n\t\tconst appsWrapper = this._generateAppsWrapper();\n\t\tif (appsWrapper) {\n\t\t\tthis.addDragDropConfigTo(\n\t\t\t\tappsWrapper,\n\t\t\t\t(event) => this._onFavItemDrop(event),\n\t\t\t\t(event: KeyboardEvent) => this._handleKeyboardMoveApp(event),\n\t\t\t\tdnd.DropPosition.OnOrBetween\n\t\t\t);\n\t\t}\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"appsImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tconst aSections = ((oData as IExportData)?.apps as ISectionAndVisualization[]) || [];\n\t\t\t\tconst groupsPersInfo = (oData as IExportData)?.groupInfo || [];\n\n\t\t\t\tawait this.addAppsAndSections(aSections, groupsPersInfo);\n\t\t\t\tthis._importdone();\n\t\t\t\tawait (this.getParent() as AppsContainer)._refreshAllPanels();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"resetImported\",\n\t\t\tasync () => {\n\t\t\t\tawait this.setImportButtonVisibility(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t\tthis.attachPersistDialog(() => {\n\t\t\t// if while navigating to different page, a group detail dialog was open, then while navigating back group detail dialog should be in open state.\n\t\t\tif (this._selectedGroupId) {\n\t\t\t\tvoid this._showGroupDetailDialog(this._selectedGroupId);\n\t\t\t}\n\t\t});\n\n\t\tdocument.addEventListener(\"click\", (event) => this._resetCutElement(event));\n\t\tdocument.addEventListener(\"keydown\", (event) => this._resetCutElement(event));\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"appsImported\", stateData);\n\t}\n\n\t/**\n\t * Checks and import apps and groups\n\t * @private\n\t */\n\tprivate async addAppsAndSections(sections: ISectionAndVisualization[], importedPersonalizations: IAppPersonalization[]) {\n\t\tlet aPromise: (() => Promise<void>)[] = [];\n\t\tlet aPersonalization = await this._getAppPersonalization();\n\n\t\tfor (const section of sections) {\n\t\t\tconst sectionViz = section.visualizations as IVisualization[];\n\t\t\tif (sectionViz?.length) {\n\t\t\t\tif (section.default || section.id === MYAPPS_SECTION_ID) {\n\t\t\t\t\taPromise.push(() => {\n\t\t\t\t\t\treturn section.default ? this.addSectionViz(sectionViz) : this.addSectionViz(sectionViz, MYAPPS_SECTION_ID);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\t\t\t\t// If Section exists, add visualization to existing section else create a new section with same sectionId\n\t\t\t\t\tconst sectionIndex = sections.findIndex((n) => n.id === section.id);\n\t\t\t\t\tif (sectionIndex > -1) {\n\t\t\t\t\t\taPromise.push(() => {\n\t\t\t\t\t\t\treturn this.addSectionViz(sectionViz, section.id);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taPromise.push(() => {\n\t\t\t\t\t\t\treturn this.appManagerInstance.addSection({\n\t\t\t\t\t\t\t\tsectionIndex: sections.length,\n\t\t\t\t\t\t\t\tsectionProperties: {\n\t\t\t\t\t\t\t\t\tid: section.id,\n\t\t\t\t\t\t\t\t\ttitle: section.title,\n\t\t\t\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\t\t\t\tvisualizations: sectionViz\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst filteredPersonalizations = this.filterPersonalizations(importedPersonalizations, section);\n\t\t\t\taPersonalization = aPersonalization.concat(filteredPersonalizations);\n\t\t\t}\n\t\t}\n\n\t\t//update personalization\n\t\tawait this.setFavAppsPersonalization(aPersonalization);\n\t\treturn aPromise\n\t\t\t.reduce((chain, current) => {\n\t\t\t\treturn chain.then(() => current());\n\t\t\t}, Promise.resolve())\n\t\t\t.then(() => {\n\t\t\t\treturn this.updateDefaultSectionPersonalization(aPersonalization);\n\t\t\t});\n\t}\n\n\t/**\n\t * Filters personalization data for specific section\n\t *\n\t * @private\n\t * @param {IAppPersonalization[]} personalizations - array of user personalizations\n\t * @param {ISectionAndVisualization} section - section for which personalization data needs to be filtered\n\t * @param {String} newSectionId - new section id\n\t * @returns {IAppPersonalization[]} resolves to an array of authorized personalization for a given section\n\t */\n\tprivate filterPersonalizations(personalizations: IAppPersonalization[], section: ISectionAndVisualization, newSectionId?: string) {\n\t\t//filter personalization data based on section visualizations\n\t\tconst filteredPersonalizations = personalizations.reduce(function (aAuthPers: IAppPersonalization[], oPers: IAppPersonalization) {\n\t\t\tif (oPers.sectionId === section.id) {\n\t\t\t\tconst aSectionViz = section.visualizations;\n\t\t\t\tconst oViz = aSectionViz?.find((oSectionViz) => {\n\t\t\t\t\treturn oSectionViz.targetURL === oPers.appId;\n\t\t\t\t});\n\t\t\t\tif (oViz || oPers.isSection) {\n\t\t\t\t\toPers.sectionId = newSectionId || section.id;\n\t\t\t\t\taAuthPers.push(oPers);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aAuthPers;\n\t\t}, []);\n\t\treturn filteredPersonalizations;\n\t}\n\n\t/**\n\t * Updates section id of recently added apps to default section in the persionalization array\n\t *\n\t * @private\n\t * @param {IAppPersonalization} aPersonalization - array of personlizations\n\t * @returns {IAppPersonalization[]} returns an array of personlizations\n\t */\n\tprivate async updateDefaultSectionPersonalization(aPersonalization: IAppPersonalization[]) {\n\t\t//update recently added app section id in personalization\n\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\tlet defaultSection = sections.find((oSection) => {\n\t\t\treturn oSection.default;\n\t\t});\n\t\tif (defaultSection) {\n\t\t\taPersonalization.forEach((oPers) => {\n\t\t\t\tif (oPers.isRecentlyAddedApp) {\n\t\t\t\t\toPers.sectionId = defaultSection.id;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn aPersonalization;\n\t}\n\n\t/**\n\t * Add section visualizations\n\t *\n\t * @param {Array} sectionsViz - array of section visualizations\n\t * @param {String} sSectionId - section id for which visualizations needs to be added\n\t * @param {Array} sections - array of sections\n\t * @returns {String} resolves to visualizations being added to given section\n\t */\n\tpublic async addSectionViz(sectionsViz: IVisualization[], sSectionId?: string) {\n\t\treturn sectionsViz.reduce((promiseChain, oViz: IVisualization) => {\n\t\t\treturn promiseChain.then(async () => {\n\t\t\t\t// in case of bookmark, move the viz to target section\n\t\t\t\tif (oViz.isBookmark && sSectionId) {\n\t\t\t\t\tconst sections = await this.appManagerInstance._getSections();\n\t\t\t\t\tconst defaultSection = sections.find((section) => section.default);\n\t\t\t\t\tconst targetSection = sections.find((section) => section.id === sSectionId);\n\t\t\t\t\tif (defaultSection && targetSection) {\n\t\t\t\t\t\tconst moveConfig = {\n\t\t\t\t\t\t\tsourceSectionIndex: sections.indexOf(defaultSection),\n\t\t\t\t\t\t\tsourceVisualizationIndex: defaultSection.visualizations!.length,\n\t\t\t\t\t\t\ttargetSectionIndex: sections.indexOf(targetSection),\n\t\t\t\t\t\t\ttargetVisualizationIndex: targetSection.visualizations!.length\n\t\t\t\t\t\t} as IMoveConfig;\n\t\t\t\t\t\treturn this._addVisualization({ visualization: oViz } as ICustomVisualization, sSectionId, moveConfig);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this._addVisualization({ visualization: oViz } as ICustomVisualization, sSectionId);\n\t\t\t});\n\t\t}, Promise.resolve());\n\t}\n\n\t/**\n\t * Fetch fav apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tconst favoriteVisualizations = await this.appManagerInstance.fetchFavVizs(true, false);\n\t\tconst isPhone = this.getDeviceType() === DeviceType.Mobile;\n\t\t//Create groups\n\t\tthis.destroyAggregation(\"groups\", true);\n\t\tconst groupVisualizations = favoriteVisualizations\n\t\t\t.filter((visualization) => visualization.isSection)\n\t\t\t.map((groupVisualization) => {\n\t\t\t\treturn {\n\t\t\t\t\t...groupVisualization,\n\t\t\t\t\tmenuItems: this._getGroupActions(groupVisualization)\n\t\t\t\t};\n\t\t\t});\n\t\tconst groups = this._generateGroups(groupVisualizations);\n\t\tthis._setGroups(groups);\n\n\t\t//Create apps\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\tconst appVisualizations = favoriteVisualizations\n\t\t\t.filter((visualization) => !visualization.isSection)\n\t\t\t.map((appVisualization, index) => {\n\t\t\t\treturn {\n\t\t\t\t\t...appVisualization,\n\t\t\t\t\tmenuItems: this._getAppActions(undefined, index, appVisualization)\n\t\t\t\t};\n\t\t\t});\n\t\tconst apps = this.generateApps(appVisualizations);\n\t\tthis.setApps(apps);\n\t\tif (this._selectedGroupId) {\n\t\t\tvoid this._setGroupDetailDialogApps(this._selectedGroupId);\n\t\t}\n\t\tconst container = this.getParent() as BaseContainer;\n\t\tcontainer.toggleMenuListItem(this._createGroupMenuItem, this.getApps().length > 0);\n\t\tif (!isPhone) {\n\t\t\tawait this._switchToRecommendedIfNoFavApps(apps, groups);\n\t\t}\n\t\tif (checkPanelExists(container, insightsConatinerlName, tilesPanelName)) {\n\t\t\tthis._createAddFromInsTilesMenuItem(favouritesMenuItems.ADD_FROM_INSIGHTS);\n\t\t}\n\t\t//updating header once the visibility for createGrp menu item is set according to the no. of apps\n\t\tcontainer._updateContainerHeader(container);\n\t}\n\n\t/**\n\t * Switches to the \"recommendedApps\" tab if no favorite apps or groups exist during the initial load.\n\t * Ensures this logic runs only once.\n\t *\n\t * @private\n\t * @param {App[]} apps - The list of favorite apps.\n\t * @param {Group[]} groups - The list of favorite app groups.\n\t */\n\tprivate async _switchToRecommendedIfNoFavApps(apps: App[], groups: Group[]): Promise<void> {\n\t\tconst container = this.getParent() as AppsContainer;\n\t\tconst panels = container.getContent() as BaseAppPanel[];\n\t\tconst recommendedPanel = panels ? panels.find((panel) => panel instanceof RecommendedAppPanel) : null;\n\t\tif (this._isInitialLoad && [...apps, ...groups].length === 0 && recommendedPanel?.isSupported()) {\n\t\t\tcontainer.setProperty?.(\"selectedKey\", \"recommendedApps\");\n\t\t\tawait container.refreshPanel(recommendedPanel);\n\t\t}\n\t\tthis._isInitialLoad = false;\n\t}\n\n\t/**\n\t * Creates an \"Add from Insights Tiles\" menu item.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the menu item.\n\t * @returns {MenuItem} The created MenuItem instance.\n\t */\n\tprivate _createAddFromInsTilesMenuItem(id: string) {\n\t\tconst menuItemId = `${this.getId()}-${id}`;\n\t\tif (!this._controlMap.get(menuItemId)) {\n\t\t\tconst addInsightsMenuItem = new MenuItem(menuItemId, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"addFromInsights\"),\n\t\t\t\ticon: \"sap-icon://duplicate\",\n\t\t\t\tpress: () => void this._handleAddFromInsights()\n\t\t\t});\n\t\t\taddFESRId(addInsightsMenuItem, \"staticTilesDialog\");\n\t\t\tthis._menuItems.push(addInsightsMenuItem);\n\t\t\tthis.addAggregation(\"menuItems\", addInsightsMenuItem);\n\t\t\tthis._sortMenuItems(sortedMenuItems);\n\t\t\tthis._controlMap.set(menuItemId, addInsightsMenuItem as unknown as Control);\n\t\t}\n\t\treturn this._controlMap.get(menuItemId);\n\t}\n\n\t/**\n\t * Sorts the menu items based on the provided order.\n\t *\n\t * @private\n\t * @param {string[]} menuItems - The order of the menu items.\n\t */\n\tprivate _sortMenuItems(menuItems: string[]) {\n\t\tconst panelMenuItems = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tlet sortedMenuItems = sortMenuItems(menuItems, panelMenuItems);\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tsortedMenuItems?.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t}\n\n\t/**\n\t * Creates and returns group instances for given group objects\n\t * @private\n\t * @param {object[]} aGroupObject - Array of group object.\n\t * @returns {sap.cux.home.Group[]} - Array of group instances\n\t */\n\tprivate _generateGroups(groupVisualizations: ISectionAndVisualization[]): Group[] {\n\t\treturn groupVisualizations.map((groupVisualization, index) => {\n\t\t\tconst bgColor =\n\t\t\t\ttypeof groupVisualization.BGColor === \"object\" && \"key\" in groupVisualization.BGColor\n\t\t\t\t\t? groupVisualization.BGColor.key\n\t\t\t\t\t: groupVisualization.BGColor;\n\t\t\tconst group = new Group(`${this.getId()}-group-${index}`, {\n\t\t\t\ttitle: groupVisualization.title,\n\t\t\t\tbgColor: bgColor,\n\t\t\t\tstatus: groupVisualization.status,\n\t\t\t\ticon: groupVisualization.icon,\n\t\t\t\tnumber: groupVisualization.badge,\n\t\t\t\tgroupId: groupVisualization.id,\n\t\t\t\tpress: this._handleGroupPress.bind(this)\n\t\t\t});\n\t\t\tgroupVisualization.menuItems?.forEach((oMenuItem) => {\n\t\t\t\tgroup.addAggregation(\"menuItems\", oMenuItem);\n\t\t\t});\n\t\t\treturn group;\n\t\t});\n\t}\n\n\t/**\n\t * Add multiple groups in the groups aggregation.\n\t * @private\n\t * @param {sap.cux.home.Group[]} groups - Array of groups.\n\t */\n\tprivate _setGroups(groups: Group[]) {\n\t\tgroups.forEach((group) => {\n\t\t\tthis.addAggregation(\"groups\", group, true);\n\t\t});\n\t}\n\n\t/**\n\t * Returns list of actions available for app\n\t * @param {ssap.cux.home.Group} group - The group containing the app.\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - An array of menu items representing available actions for the app.\n\t */\n\tprivate _getAppActions(group?: Group, index?: number, appVisualization?: ICustomVisualization) {\n\t\tconst groupId = group?.getGroupId();\n\t\tconst defaultSection = appVisualization?.persConfig?.isDefaultSection;\n\t\tconst isUngroupedApp = !groupId;\n\t\tconst appActions = [];\n\t\tconst selectColorMenuItem = new MenuItem({\n\t\t\tid:\n\t\t\t\tgroupId && !defaultSection\n\t\t\t\t\t? recycleId(`_${groupId}--selectColorGroupAppMenuItem--${index}`)\n\t\t\t\t\t: recycleId(`_${this.getKey()}--selectColorAppMenuItem--${index}`),\n\t\t\ttitle: this._i18nBundle.getText(\"selectColor\"),\n\t\t\ttype: ListType.Navigation,\n\t\t\tpress: this._openColorPopover.bind(this)\n\t\t});\n\t\tappActions.push(selectColorMenuItem);\n\n\t\taddFESRId(selectColorMenuItem, \"changeColor\");\n\n\t\tif (this._getAllowedMoveGroups(groupId)?.length >= 1) {\n\t\t\tconst moveToMenuItem = new MenuItem({\n\t\t\t\tid:\n\t\t\t\t\tgroupId && !defaultSection\n\t\t\t\t\t\t? recycleId(`_${groupId}--moveToGroupAppMenuItem--${index}`)\n\t\t\t\t\t\t: recycleId(`_${this.getKey()}--moveToMenuItem--${index}`),\n\t\t\t\ttitle: this._i18nBundle.getText(\"moveTo\"),\n\t\t\t\ttype: ListType.Navigation,\n\t\t\t\tpress: (event) => this._openMoveToGroupPopover(event, group)\n\t\t\t});\n\t\t\tappActions.push(moveToMenuItem);\n\t\t\taddFESRId(moveToMenuItem, \"moveToGroup\");\n\t\t}\n\t\tif (isUngroupedApp) {\n\t\t\tconst createGroupMenuItem = new MenuItem(recycleId(`${this.getKey()}--createGroupMenuItem--${index}`), {\n\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\t\tthis._selectedApps = [app];\n\t\t\t\t\tthis._openCreateGroupDialog();\n\t\t\t\t}\n\t\t\t});\n\t\t\tappActions.push(createGroupMenuItem);\n\t\t\taddFESRId(createGroupMenuItem, \"createGroupDialog\");\n\t\t}\n\t\tconst removeFromMyHomeMenuItem = new MenuItem({\n\t\t\tid:\n\t\t\t\tgroupId && !defaultSection\n\t\t\t\t\t? recycleId(`_${groupId}--removeFromMyHomeGroupAppMenuItem--${index}`)\n\t\t\t\t\t: recycleId(`_${this.getKey()}--removeFromMyHomeMenuItem--${index}`),\n\t\t\ttitle: this._i18nBundle.getText(\"removeFromMyHome\"),\n\t\t\tpress: (event: Event) => {\n\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\tthis._handleRemove(app, group);\n\t\t\t}\n\t\t});\n\t\tappActions.push(removeFromMyHomeMenuItem);\n\t\taddFESRId(removeFromMyHomeMenuItem, \"removeFromMyHome\");\n\n\t\tif (!isUngroupedApp) {\n\t\t\tconst removeFromGroupMenuItem = new MenuItem({\n\t\t\t\tid: recycleId(`${this.getKey()}--removeFromGroupMenuItem--${index}`),\n\t\t\t\ttitle: this._i18nBundle.getText(\"removeFromGroup\"),\n\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\t\t\tconst app = source.getParent() as App;\n\t\t\t\t\tvoid this._handleMoveToGroup(app, groupId);\n\t\t\t\t}\n\t\t\t});\n\t\t\tappActions.push(removeFromGroupMenuItem);\n\t\t\taddFESRId(removeFromGroupMenuItem, \"ungroupApp\");\n\t\t}\n\n\t\treturn appActions;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected group\n\t * @private\n\t * @param {sap.cux.home.Group} group - Group\n\t * @returns {sap.cux.home.MenuItem[]} - An array of menu items representing available actions for the group.\n\t */\n\tprivate _getGroupActions(group: ISectionAndVisualization) {\n\t\tconst renameGroupMenuItem = new MenuItem(`id-${group.id}-renameGroup`, {\n\t\t\ttitle: this._i18nBundle.getText(\"renameGroup\"),\n\t\t\tpress: this._onRenameGroup.bind(this)\n\t\t});\n\t\taddFESRId(renameGroupMenuItem, \"renameGroup\");\n\t\tconst selectColorMenuItem = new MenuItem(`id-${group.id}-selectColor`, {\n\t\t\ttitle: this._i18nBundle.getText(\"selectColor\"),\n\t\t\ttype: ListType.Navigation,\n\t\t\tpress: this._openColorPopover.bind(this)\n\t\t});\n\t\taddFESRId(selectColorMenuItem, \"changeColor\");\n\t\tconst removeAllAppsMenuItem = new MenuItem(`id-${group.id}-removeAllApps`, {\n\t\t\ttitle: this._i18nBundle.getText(\"removeAllApps\"),\n\t\t\tpress: this._handleUngroupApps.bind(this, group)\n\t\t});\n\t\taddFESRId(removeAllAppsMenuItem, \"removeAllApps\");\n\t\tconst groupActions = [renameGroupMenuItem, selectColorMenuItem, removeAllAppsMenuItem];\n\t\tif (!group.isPresetSection) {\n\t\t\tconst deleteGroupMenuItem = new MenuItem(`id-${group.id}-delete`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"delete\"),\n\t\t\t\tpress: this._onDeleteGroup.bind(this)\n\t\t\t});\n\t\t\taddFESRId(deleteGroupMenuItem, \"deleteGroup\");\n\t\t\tgroupActions.push(deleteGroupMenuItem);\n\t\t}\n\t\treturn groupActions;\n\t}\n\n\t/**\n\t * Creates actions buttons for panel.\n\t * @private\n\t */\n\tprivate async _createActionButtons() {\n\t\tif (!this._actionButtons) {\n\t\t\tthis._actionButtons = [];\n\t\t\tif (_showAddApps()) {\n\t\t\t\tconst addAppsBtn = new Button(`${this.getId()}-addAppsBtn`, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttooltip: this._i18nBundle.getText(\"addAppsTooltip\"),\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\taddFESRId(addAppsBtn, \"addAppsBtn\");\n\t\t\t\tthis._actionButtons.push(addAppsBtn);\n\t\t\t}\n\t\t}\n\t\tthis._actionButtons.forEach((actionButton) => {\n\t\t\tthis.addAggregation(\"actionButtons\", actionButton);\n\t\t});\n\t\tconst isImportEnabled = await this._validateAppsMigration();\n\t\tif (isImportEnabled) {\n\t\t\tthis._createImportButton();\n\t\t}\n\t}\n\n\tprivate _createImportButton(): Button {\n\t\tif (!this._importButton) {\n\t\t\tthis._importButton = new Button(`${this.getId()}-importAppsBtn`, {\n\t\t\t\ttooltip: this._i18nBundle.getText(\"importAppsNow\"),\n\t\t\t\ttext: this._i18nBundle.getText(\"importAppsNow\"),\n\t\t\t\tpress: this._openImportAppsDialog.bind(this)\n\t\t\t});\n\t\t\taddFESRId(this._importButton, \"importAppsDialog\");\n\t\t\tthis._actionButtons.push(this._importButton);\n\t\t\tthis.insertAggregation(\"actionButtons\", this._importButton, 0);\n\t\t}\n\t\treturn this._importButton;\n\t}\n\n\tprivate async setImportButtonVisibility(bVisible: boolean): Promise<void> {\n\t\tawait MyHomeImport.setImportEnabled(bVisible);\n\t\tthis._createImportButton().setVisible(bVisible);\n\t}\n\n\t/**\n\t * Creates menu items for panel header.\n\t * @private\n\t */\n\tprivate _createHeaderMenuItems() {\n\t\tif (!this._menuItems) {\n\t\t\tthis._createGroupMenuItem = new MenuItem(`${this.getId()}-${favouritesMenuItems.CREATE_GROUP}`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\ticon: \"sap-icon://add\",\n\t\t\t\tpress: () => this._openCreateGroupDialog()\n\t\t\t});\n\t\t\tthis._menuItems = [this._createGroupMenuItem];\n\t\t\tif (_showAddApps()) {\n\t\t\t\tthis._menuItems.push(\n\t\t\t\t\tnew MenuItem(`${this.getId()}-${favouritesMenuItems.ADD_APPS}`, {\n\t\t\t\t\t\ttitle: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\t\tpress: () => {\n\t\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\t// Assign FESR IDs based on menu items\n\t\t\taddFESRId(this._createGroupMenuItem, \"createGroupDialog\");\n\t\t\tconst addAppsMenuItem = this._menuItems.find((item) => item.getId() === `${this.getId()}-${favouritesMenuItems.ADD_APPS}`);\n\t\t\tif (addAppsMenuItem) {\n\t\t\t\taddFESRId(addAppsMenuItem, \"appsAppFinder\");\n\t\t\t}\n\t\t\tthis._menuItems.forEach((oMenuItem) => {\n\t\t\t\tthis.addAggregation(\"menuItems\", oMenuItem, true);\n\t\t\t});\n\t\t\tthis._sortMenuItems(sortedMenuItems);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves drag and drop information from the given event.\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} event - The event containing drag and drop information.\n\t * @returns {Promise<IDragDropInfo>} The drag and drop information.\n\t */\n\tprivate async _getDragDropInfo(event: Event<DropInfo$DropEventParameters>, appGroupId?: string) {\n\t\tconst dragTile = event.getParameter?.(\"draggedControl\") as GenericTile,\n\t\t\tdropTile = event.getParameter?.(\"droppedControl\") as GenericTile,\n\t\t\tdropPosition = event.getParameter?.(\"dropPosition\"),\n\t\t\tdropControl = dragTile.getParent() as GridContainer,\n\t\t\tdragItemIndex = dropControl.indexOfItem(dragTile),\n\t\t\tdropItemIndex = dropControl.indexOfItem(dropTile),\n\t\t\tdragItem = this._getTileItem(dragTile, appGroupId),\n\t\t\tdropItem = this._getTileItem(dropTile, appGroupId);\n\n\t\tconst dragDropInfo: IDragDropInfo = {\n\t\t\tdragItem: dragItem!,\n\t\t\tdropItem: dropItem!,\n\t\t\tdropPosition: dropPosition as dnd.RelativeDropPosition,\n\t\t\tdropControl,\n\t\t\tdragItemIndex,\n\t\t\tdropItemIndex\n\t\t};\n\t\t//adjust drap drop info\n\t\tif (dragItemIndex !== dropItemIndex) {\n\t\t\tif (!(dragItem instanceof Group) && !(dropItem instanceof Group)) {\n\t\t\t\tawait this._adjustAppDragDropInfo(dragDropInfo, appGroupId);\n\t\t\t} else if (dragItem instanceof Group) {\n\t\t\t\tawait this._adjustGroupDragDropInfo(dragDropInfo);\n\t\t\t}\n\t\t}\n\t\treturn dragDropInfo;\n\t}\n\n\t/**\n\t * Adjusts apps drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information to adjust.\n\t * @returns {Promise<void>} A Promise that resolves when the adjustment is completed.\n\t */\n\tprivate async _adjustAppDragDropInfo(dragDropInfo: IDragDropInfo, appGroupId?: string) {\n\t\tlet isUpdated = false;\n\t\tconst dragApp = dragDropInfo.dragItem as App;\n\t\tconst dropApp = dragDropInfo.dropItem as App;\n\t\tconst [dragVisualization, dropVisualization] = await Promise.all([\n\t\t\tthis.appManagerInstance.getVisualization(dragApp.getUrl(), appGroupId),\n\t\t\tthis.appManagerInstance.getVisualization(dropApp.getUrl(), appGroupId)\n\t\t]);\n\t\tif (dragDropInfo.dropPosition === dnd.RelativeDropPosition.Before) {\n\t\t\t//let's say there are two apps a1, a2, if a1 is moved before a2, that essentailly means the drop item index is same as current item index, adjust the dropItemIndex accordingly\n\t\t\tif (dragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex - 1) {\n\t\t\t\tdragDropInfo.dropItemIndex--;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdragDropInfo.dragItemIndex < dragDropInfo.dropItemIndex &&\n\t\t\t\tdragVisualization?.persConfig?.sectionIndex === dropVisualization?.persConfig?.sectionIndex\n\t\t\t) {\n\t\t\t\tdragDropInfo.dropItemIndex--;\n\t\t\t\tisUpdated = true;\n\t\t\t}\n\t\t} else if (dragDropInfo.dropPosition === dnd.RelativeDropPosition.After) {\n\t\t\tif (dragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex + 1) {\n\t\t\t\tdragDropInfo.dropItemIndex++;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdragDropInfo.dragItemIndex > dragDropInfo.dropItemIndex &&\n\t\t\t\tdragVisualization?.persConfig?.sectionIndex === dropVisualization?.persConfig?.sectionIndex\n\t\t\t) {\n\t\t\t\tdragDropInfo.dropItemIndex++;\n\t\t\t\tisUpdated = true;\n\t\t\t}\n\t\t}\n\n\t\tif (isUpdated) {\n\t\t\tconst tile = (dragDropInfo.dropControl as GridContainer).getItems()[dragDropInfo.dropItemIndex] as GenericTile;\n\t\t\tconst app = this._getTileItem(tile, appGroupId);\n\t\t\tif (app) {\n\t\t\t\tdragDropInfo.dropItem = app;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _getTileItem(tile: GenericTile, appGroupId?: string) {\n\t\tconst tileGroupId = tile.data(\"groupId\") as string | undefined;\n\t\tif (tileGroupId) {\n\t\t\t//tile is a group\n\t\t\treturn this._getGroup(tileGroupId);\n\t\t} else {\n\t\t\tconst group = appGroupId ? this._getGroup(appGroupId) : null;\n\t\t\tconst apps = group ? group.getApps() : this.getApps();\n\t\t\treturn apps.find((app) => getLeanURL(app.getUrl()) === tile.getUrl());\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts app/group drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information to adjust.\n\t * @returns {Promise<void>} A Promise that resolves when the adjustment is completed.\n\t */\n\tprivate async _adjustGroupDragDropInfo(dragDropInfo: IDragDropInfo) {\n\t\tconst sections = await this.appManagerInstance._getSections();\n\t\tlet dropGroupIndex;\n\t\tdragDropInfo.dragItemIndex = sections.findIndex((section) => section.id === (dragDropInfo.dragItem as Group).getGroupId());\n\n\t\t//If dropped app is the first ungrouped app, put the group at the end\n\t\tif (!(dragDropInfo.dropItem instanceof Group)) {\n\t\t\tconst lastGroupIndex = (this.getAggregation(\"groups\") as Group[]).length;\n\t\t\tdragDropInfo.dropItemIndex =\n\t\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.Before &&\n\t\t\t\tdragDropInfo.dropItemIndex === lastGroupIndex &&\n\t\t\t\tdragDropInfo.dragItemIndex !== lastGroupIndex\n\t\t\t\t\t? lastGroupIndex + 1\n\t\t\t\t\t: dragDropInfo.dragItemIndex;\n\t\t} else {\n\t\t\tdropGroupIndex = sections.findIndex((section) => section.id === (dragDropInfo.dropItem as Group).getGroupId());\n\t\t\t//update the drop item with section index\n\t\t\tdragDropInfo.dropItemIndex = dropGroupIndex;\n\t\t}\n\n\t\t//let's say there are two groups g1, g2, if g1 is moved before g2, that essentailly means the drop item index is same as current item index, adjust the dropItemIndex accordingly\n\t\tif (\n\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.Before &&\n\t\t\tdragDropInfo.dragItemIndex === dragDropInfo.dropItemIndex - 1\n\t\t) {\n\t\t\tdragDropInfo.dropItemIndex--;\n\t\t} else if (\n\t\t\tdragDropInfo.dropPosition === dnd.RelativeDropPosition.After &&\n\t\t\t(dragDropInfo.dragItemIndex !== dragDropInfo.dropItemIndex || (dropGroupIndex && dragDropInfo.dropItemIndex >= dropGroupIndex))\n\t\t) {\n\t\t\tdragDropInfo.dropItemIndex++;\n\t\t}\n\t}\n\n\t/**\n\t * Handler for drop event of a favorite item.\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} event - The drop event containing information about the dropped item.\n\t * @returns {Promise<void>} A Promise that resolves when the drop event handling is completed.\n\t */\n\tprivate async _onFavItemDrop(event: Event<DropInfo$DropEventParameters>, appGroupId?: string) {\n\t\tconst dragTile = event.getParameter?.(\"draggedControl\") as GenericTile;\n\t\tconst dragDropInfo = await this._getDragDropInfo(event, appGroupId);\n\t\tconst { dragItemIndex, dropItemIndex, dropPosition, dragItem, dropItem } = dragDropInfo;\n\t\tif (dragItemIndex === dropItemIndex) return;\n\n\t\tif (dropPosition === dnd.RelativeDropPosition.On) {\n\t\t\tawait this._handleOnItemDrop(dragItem, dropItem);\n\t\t\tvoid this.refresh();\n\t\t} else if (dropPosition === dnd.RelativeDropPosition.After || dropPosition === dnd.RelativeDropPosition.Before) {\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._handleItemsReorder(dragDropInfo, appGroupId);\n\t\t\tawait this.refresh();\n\n\t\t\tif (appGroupId) {\n\t\t\t\tvoid this._setGroupDetailDialogApps(appGroupId);\n\t\t\t}\n\t\t\tthis._setBusy(false);\n\t\t}\n\n\t\tdragTile.removeStyleClass(\"sapMGTPressActive\");\n\t}\n\n\t/**\n\t * Handles the drop of an item onto another item.\n\t * If an app in dropped over another app, create group dialog is opened.\n\t * If an app is dropped over a group, app should be moved inside that group.\n\t * @private\n\t * @param {Group | App} dragItem - The item being dragged.\n\t * @param {Group | App} dropItem - The item onto which the dragItem is dropped.\n\t * @returns {Promise<void>} A Promise that resolves when the dropping of the item is completed.\n\t */\n\tprivate async _handleOnItemDrop(dragItem: Group | App, dropItem: Group | App) {\n\t\tif (dragItem instanceof Group) return;\n\n\t\tif (!(dropItem instanceof Group)) {\n\t\t\t//if both dragged and dropped items are apps, create group dialog is opened.\n\t\t\tconst dragApp = dragItem;\n\t\t\tconst dropApp = dropItem;\n\t\t\tthis._selectedApps = [dragApp, dropApp];\n\t\t\tthis._openCreateGroupDialog(true);\n\t\t} else {\n\t\t\t//if dragged item is an app and dropped item is a group, app should be moved into that group.\n\t\t\tconst targetGroupId = dropItem.getGroupId();\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._handleMoveToGroup(dragItem, undefined, targetGroupId);\n\t\t\tthis._setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the reordering of items based on drag and drop information.\n\t * @private\n\t * @param {IDragDropInfo} dragDropInfo - The drag and drop information.\n\t * @returns {Promise<void>} A Promise that resolves when the reordering is completed.\n\t */\n\tprivate async _handleItemsReorder(dragDropInfo: IDragDropInfo, appGroupId?: string) {\n\t\tconst { dragItem, dropItem, dragItemIndex, dropItemIndex } = dragDropInfo;\n\t\tconst isDragItemGroup = dragItem.getMetadata()?.getName() === \"sap.cux.home.Group\";\n\t\tconst isDropItemGroup = dropItem.getMetadata()?.getName() === \"sap.cux.home.Group\";\n\t\tif (!isDragItemGroup && !isDropItemGroup) {\n\t\t\tconst drapApp = dragItem as App;\n\t\t\tconst dropApp = dropItem as App;\n\t\t\tconst [dragVisualization, dropVisualization] = await Promise.all([\n\t\t\t\tthis.appManagerInstance.getVisualization(drapApp.getUrl(), appGroupId),\n\t\t\t\tthis.appManagerInstance.getVisualization(dropApp.getUrl(), appGroupId)\n\t\t\t]);\n\t\t\tawait this.appManagerInstance.moveVisualization({\n\t\t\t\tsourceSectionIndex: dragVisualization?.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: dragVisualization?.persConfig?.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: dropVisualization?.persConfig?.sectionIndex as number,\n\t\t\t\ttargetVisualizationIndex: dropVisualization?.persConfig?.visualizationIndex as number\n\t\t\t});\n\t\t} else if (isDragItemGroup && isDropItemGroup) {\n\t\t\tawait this.appManagerInstance.moveSection(dragItemIndex, dropItemIndex);\n\t\t}\n\t}\n\n\t/**\n\t * Navigates to the App Finder with optional group Id.\n\t * @async\n\t * @private\n\t * @param {string} [groupId] - Optional group Id\n\t */\n\tprivate async navigateToAppFinder(groupId?: string) {\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst navigationObject: { pageID: string; sectionID?: string } = {\n\t\t\tpageID: MYHOME_PAGE_ID\n\t\t};\n\t\tif (groupId) {\n\t\t\tnavigationObject.sectionID = groupId;\n\t\t}\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tshellHash: `Shell-appfinder?&/catalog/${JSON.stringify(navigationObject)}`\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Validates if import apps is enabled\n\t *\n\t *@returns {Promise} - resolves to boolean value (import is enabled/disabled)\n\t */\n\tprivate async _validateAppsMigration() {\n\t\ttry {\n\t\t\treturn await MyHomeImport.isImportEnabled();\n\t\t} catch (error: unknown) {\n\t\t\tLog.warning(error instanceof Error ? error.message : \"Error while checking if import apps is enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate _openImportAppsDialog() {\n\t\tconst pageRuntime = new PageRuntime();\n\t\tpageRuntime.onImportDialogPress();\n\t}\n\n\t/**\n\t * Opens the create group dialog.\n\t * @private\n\t * @param {boolean} [skipAppsSelection=false] - Whether to skip the apps selection page.\n\t */\n\tprivate _openCreateGroupDialog(skipAppsSelection = false) {\n\t\tconst createGroupDialog = this._generateCreateGroupDialog(skipAppsSelection);\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer;\n\t\tappsWrapper.destroyItems();\n\t\tconst tiles = [...this.getApps()].map((app) => {\n\t\t\tconst appCopy = app.clone();\n\t\t\tappCopy._onPress = (e) => this._highlightApp(e, appCopy); // override app press behaviour to highlight app\n\t\t\treturn (this.getParent() as AppsContainer)._getAppTile(appCopy);\n\t\t});\n\t\tthis._setAggregation(appsWrapper, tiles);\n\t\tlet apps = this.getApps();\n\t\t(this.getParent() as AppsContainer).fireEvent(\"appsLoaded\", { apps, tiles });\n\t\tthis._updateSelectedAppCount();\n\t\tcreateGroupDialog.open();\n\t}\n\n\t/**\n\t * Closes the create group dialog.\n\t * @private\n\t */\n\tprivate _closeCreateGroupDialog() {\n\t\tconst createGroupDialog = this._generateCreateGroupDialog();\n\t\tcreateGroupDialog?.close();\n\t\t//reset create group dialog on close\n\t\tthis._resetCreateGroupDialog();\n\t}\n\n\t/**\n\t * Resets the state of the create group dialog.\n\t * @private\n\t */\n\tprivate _resetCreateGroupDialog() {\n\t\tconst navContainer = this._generateCreateGroupNavContainer();\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tconst searchField = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-search`) as SearchField;\n\t\tgroupNameInput.setValue(\"\");\n\t\tnavContainer.to(navContainer.getInitialPage() as string);\n\t\tthis._selectedApps = [];\n\t\tsearchField.setValue(\"\");\n\t\tthis._setNoAppsSelectedError(false);\n\t\tthis._selectedGroupColor = undefined;\n\t}\n\n\t/**\n\t * Generates or retrieves the dialog for creating a group.\n\t * @private\n\t * @param {boolean} bSkipAppsSelection - Whether to skip the apps selection page.\n\t * @returns {sap.m.Dialog} The generated dialog for creating a group.\n\t */\n\tprivate _generateCreateGroupDialog(skipAppsSelection: boolean = true) {\n\t\tconst id = `${this.getId()}-createGroupDialog`;\n\t\tconst navContainer = this._generateCreateGroupNavContainer();\n\t\tconst _toggleNavButton = (skipAppsSelection: boolean) => {\n\t\t\tconst nextBtn = this._controlMap.get(`${id}-nextBtn`) as Button;\n\t\t\tconst backBtn = this._controlMap.get(`${id}-backBtn`) as Button;\n\t\t\tconst createBtn = this._controlMap.get(`${id}-createBtn`) as Button;\n\t\t\tconst currentPageIndex = navContainer.indexOfPage(navContainer.getCurrentPage());\n\t\t\tnextBtn.setVisible(currentPageIndex !== navContainer.getPages().length - 1 && !skipAppsSelection);\n\t\t\tbackBtn.setVisible(currentPageIndex !== 0 && !skipAppsSelection);\n\t\t\tcreateBtn.setVisible(currentPageIndex === navContainer.getPages().length - 1 || skipAppsSelection);\n\t\t};\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//set up navigation buttons\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-nextBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-nextBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"nextButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tif (this._validateGroupName()) {\n\t\t\t\t\t\t\tnavContainer.to(this._generateCreateGroupAppsPage());\n\t\t\t\t\t\t\t_toggleNavButton(skipAppsSelection);\n\t\t\t\t\t\t\tthis._highlightSelectedApps();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Emphasized\"\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for next button\n\t\t\tconst nextBtn = this._controlMap.get(`${id}-nextBtn`) as Button;\n\t\t\taddFESRSemanticStepName(nextBtn, \"press\", \"createGroupNextBtn\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-backBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-backBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"backButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tnavContainer.back();\n\t\t\t\t\t\t_toggleNavButton(skipAppsSelection);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for back button\n\t\t\tconst backBtn = this._controlMap.get(`${id}-backBtn`) as Button;\n\t\t\taddFESRSemanticStepName(backBtn, \"press\", \"createGroupBackBtn\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-createBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-createBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"createButton\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._onPressGroupCreate();\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"Emphasized\"\n\t\t\t\t})\n\t\t\t);\n\t\t\t// Add FESR for create button\n\t\t\tconst createBtn = this._controlMap.get(`${id}-createBtn`) as Button;\n\t\t\taddFESRSemanticStepName(createBtn, \"press\", \"addCreateGroup\");\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"createGroup\"),\n\t\t\t\t\tcontent: navContainer,\n\t\t\t\t\tescapeHandler: this._closeCreateGroupDialog.bind(this),\n\t\t\t\t\tcontentHeight: \"25rem\",\n\t\t\t\t\tcontentWidth: \"41.75rem\",\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnextBtn,\n\t\t\t\t\t\tbackBtn,\n\t\t\t\t\t\tcreateBtn,\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeCreateGroupDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapCuxCreateGroupDialog sapContrastPlus\")\n\t\t\t);\n\t\t}\n\t\t_toggleNavButton(skipAppsSelection);\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Handles the highlighting of an app when selected.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t * @param {Object} selectedApp - The selected app object.\n\t */\n\tprivate _highlightApp(event: Event, selectedApp: App) {\n\t\tconst oTile = event.getSource<GenericTile>(),\n\t\t\tbIsSelected = !oTile.hasStyleClass(\"sapCuxHighlightApp\"),\n\t\t\toScrollContainer = this._generateAppsScrollContainer();\n\t\tthis._selectedApps = this._selectedApps || [];\n\t\tif (bIsSelected) {\n\t\t\tthis._selectedApps.push(selectedApp);\n\t\t} else {\n\t\t\tthis._selectedApps.splice(\n\t\t\t\tthis._selectedApps.findIndex((oApp) => selectedApp.getUrl() === oApp.getUrl()),\n\t\t\t\t1\n\t\t\t);\n\t\t}\n\t\tthis._updateSelectedAppCount();\n\t\toTile.toggleStyleClass(\"sapCuxHighlightApp\", bIsSelected);\n\t\tthis._setNoAppsSelectedError(this._selectedApps.length < 1);\n\t\t//adjust scroll container height\n\t\toScrollContainer.setHeight(this._selectedApps.length < 1 ? \"15.3rem\" : \"17.5rem\");\n\t}\n\n\t/**\n\t * Generates the scroll container for displaying apps in the create group dialog.\n\t * @private\n\t * @returns {sap.m.ScrollContainer} The scroll container for displaying apps.\n\t */\n\tprivate _generateAppsScrollContainer() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage-scrollContainer`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-apps`,\n\t\t\t\tnew GridContainer({\n\t\t\t\t\tid: `${id}-apps`,\n\t\t\t\t\tlayout: new GridContainerSettings(`${id}--appsContainerSettings`, {\n\t\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxAppsGridContainerPadding\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew ScrollContainer(id, {\n\t\t\t\t\tid,\n\t\t\t\t\tvertical: true,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\theight: \"17.5rem\",\n\t\t\t\t\tcontent: [this._controlMap.get(`${id}-apps`) as GridContainer]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBeginEnd\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as ScrollContainer;\n\t}\n\n\t/**\n\t * Method for updating selected apps count in create group dialog\n\t * @private\n\t */\n\tprivate _updateSelectedAppCount() {\n\t\tconst oAppsCountContol = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-headerContainer-count`) as Text;\n\t\toAppsCountContol.setText(\n\t\t\tthis._i18nBundle.getText(\"selectedAppsCount\", [this._selectedApps?.length || this._i18nBundle.getText(\"noAppSelected\")])\n\t\t);\n\t}\n\n\t/**\n\t * Creates or returns the navigation container for the create group dialog.\n\t * @private\n\t * @returns {sap.m.NavContainer} The navigation container for the create group dialog.\n\t */\n\tprivate _generateCreateGroupNavContainer() {\n\t\tconst id = `${this.getId()}-createGroupDialog-wrapper`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew NavContainer(id, {\n\t\t\t\t\tinitialPage: `${this.getId()}-createGroupDialog-mainPage`,\n\t\t\t\t\tpages: [this._generateCreateGroupMainPage(), this._generateCreateGroupAppsPage()]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as NavContainer;\n\t}\n\n\t/**\n\t * Generates or retrieve the main page of the create group dialog.\n\t * @private\n\t * @returns {sap.m.Page} The main page of the create group dialog.\n\t */\n\tprivate _generateCreateGroupMainPage() {\n\t\tconst id = `${this.getId()}-createGroupDialog-mainPage`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-form-groupName-input`,\n\t\t\t\tnew Input({\n\t\t\t\t\tid: `${id}-form-groupName-input`,\n\t\t\t\t\twidth: \"13.75rem\",\n\t\t\t\t\trequired: true,\n\t\t\t\t\tliveChange: this._validateGroupName.bind(this)\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Page({\n\t\t\t\t\tid,\n\t\t\t\t\tshowHeader: false,\n\t\t\t\t\tenableScrolling: false,\n\t\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew VBox({\n\t\t\t\t\t\t\tid: `${id}-headerContainer`,\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\tid: `${id}-title`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\")\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\t\tid: `${id}-description`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settingsDescription\")\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\t\tnew SimpleForm(`${id}-form`, {\n\t\t\t\t\t\t\tlayout: form.SimpleFormLayout.ResponsiveGridLayout,\n\t\t\t\t\t\t\tlabelSpanS: 4,\n\t\t\t\t\t\t\tlabelSpanM: 4,\n\t\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\t\t\tid: `${id}-form-groupName-label`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"groupNameLbl\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\"),\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-form-groupName-input`) as Input,\n\t\t\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\t\t\tid: `${id}-form-groupColor-label`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"groupColorLbl\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\"),\n\t\t\t\t\t\t\t\tnew ColorPalette(`${id}-form-groupColor-pallet`, {\n\t\t\t\t\t\t\t\t\tcolors: END_USER_COLORS().map((oColor) => oColor.value) as string[],\n\t\t\t\t\t\t\t\t\tcolorSelect: this._onColorSelect.bind(this)\n\t\t\t\t\t\t\t\t}).addStyleClass(\"adjustSelectedColorPalette\")\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiMediumMarginTop\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n\n\t/**\n\t * Generates or retrieve the app selection page of the create group dialog.\n\t * @private\n\t * @returns {sap.m.Page} The app selection page of the create group dialog.\n\t */\n\tprivate _generateCreateGroupAppsPage() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-search`,\n\t\t\t\tnew SearchField({\n\t\t\t\t\tid: `${id}-search`,\n\t\t\t\t\tliveChange: this._onCreateAppSearch.bind(this)\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTopBottom\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessageStrip`,\n\t\t\t\tnew MessageStrip(`${id}-errorMessageStrip`, {\n\t\t\t\t\tid: `${id}-errorMessageStrip`,\n\t\t\t\t\ttype: MessageType.Error,\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"selectionErrorMessage\"),\n\t\t\t\t\tvisible: false\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-headerContainer-count`,\n\t\t\t\tnew Text({\n\t\t\t\t\tid: `${id}-headerContainer-count`\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Page(id, {\n\t\t\t\t\tshowHeader: false,\n\t\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\t\tenableScrolling: false,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew VBox(`${id}-headerContainer`, {\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew HBox(`${id}-headerContainer-titleCount`, {\n\t\t\t\t\t\t\t\t\tid: `${id}-headerContainer-titleCount`,\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\t\t\tid: `${id}-headerContainer-title`,\n\t\t\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"selectedAppsTitle\")\n\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\"),\n\t\t\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-headerContainer-count`) as Text\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tnew Text({\n\t\t\t\t\t\t\t\t\tid: `${id}-description`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"appsSelectionDescription\")\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBottom\"),\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-search`) as SearchField,\n\t\t\t\t\t\t\t\tthis._controlMap.get(`${id}-errorMessageStrip`) as MessageStrip\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\t\tthis._generateAppsScrollContainer(),\n\t\t\t\t\t\tthis._generateCreateGroupErrorMsg()\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n\n\t/**\n\t * Generates the error message for create group dialog, when no apps are found for searched text.\n\t * @private\n\t * @returns {sap.m.IllustratedMessage} The error message for no filtered apps.\n\t */\n\tprivate _generateCreateGroupErrorMsg() {\n\t\tconst id = `${this.getId()}-createGroupDialog-appsPage-noFilterApps`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid,\n\t\t\t\t\tillustrationSize: IllustratedMessageSize.Base,\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noSearchedAppTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"noSearchedAppDes\"),\n\t\t\t\t\tvisible: false\n\t\t\t\t}).addStyleClass(\"sapUiLargeMarginTop\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as IllustratedMessage;\n\t}\n\n\t/**\n\t * Handles the color selection event for new group.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onColorSelect(event: ColorPalette$ColorSelectEvent) {\n\t\tthis._selectedGroupColor = this._getLegendColor(event.getParameter(\"value\") as string).key;\n\t}\n\n\t/**\n\t * Retrieves the key of the legend color based on the provided color value.\n\t * @param {string} color - The color value for which to retrieve the legend color key.\n\t * @returns {string} The legend color key corresponding to the provided color value, or the default background color key if not found.\n\t * @private\n\t */\n\tprivate _getLegendColor(color: string) {\n\t\treturn END_USER_COLORS().find((oColor) => oColor.value === color) || DEFAULT_BG_COLOR();\n\t}\n\n\t/**\n\t * Sets the visibility of the error message strip indicating no apps are selected in create group dialog.\n\t * @private\n\t * @param {boolean} error - Whether to show the error message strip (true) or hide it (false).\n\t */\n\tprivate _setNoAppsSelectedError(error: boolean) {\n\t\tconst messageStrip = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-errorMessageStrip`) as MessageStrip;\n\t\tmessageStrip.setVisible(error);\n\t}\n\n\t/**\n\t * Validates the group name entered in the create group dialog.\n\t * @private\n\t * @returns {boolean} Whether the group name is valid (true) or not (false).\n\t */\n\tprivate _validateGroupName() {\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tconst groupName = groupNameInput.getValue().trim();\n\t\t//update value state\n\t\tgroupNameInput.setValueState(groupName ? \"None\" : \"Error\");\n\t\tgroupNameInput.setValueStateText(groupName ? \"\" : (this._i18nBundle.getText(\"invalidGroupName\") as string));\n\t\treturn groupName ? true : false;\n\t}\n\n\t/**\n\t * Highlights selected apps by adding a CSS class to corresponding tiles.\n\t * @private\n\t */\n\tprivate _highlightSelectedApps() {\n\t\tconst selectedApps = this._selectedApps || [];\n\t\tconst tilesContainer = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer;\n\t\tconst tiles = (tilesContainer.getItems() || []) as GenericTile[];\n\t\ttiles.forEach((tile) => {\n\t\t\ttile.toggleStyleClass(\n\t\t\t\t\"sapCuxHighlightApp\",\n\t\t\t\tselectedApps.some((app) => getLeanURL(app.getUrl()) === tile.getUrl())\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Handles the search for apps in create group dialog.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onCreateAppSearch(event: Event) {\n\t\tconst tilesContainer = this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`) as GridContainer,\n\t\t\tsearchQuery = event.getSource<SearchField>().getValue(),\n\t\t\ttiles = (tilesContainer.getItems() || []) as GenericTile[],\n\t\t\tsearchExpression = new RegExp(searchQuery, \"i\");\n\t\ttiles.forEach((tile) => {\n\t\t\ttile.setVisible(searchExpression.test(tile.getHeader()));\n\t\t});\n\t\tconst filteredTiles = tiles.filter((tile) => tile.getVisible());\n\t\tconst hasFilteredApps = filteredTiles.length > 0;\n\t\tthis._generateAppsScrollContainer()?.setVisible(hasFilteredApps);\n\t\tthis._generateCreateGroupErrorMsg()?.setVisible(!hasFilteredApps);\n\t}\n\n\t/**\n\t * Handles the event when the user presses the button to create a new group.\n\t * @private\n\t */\n\tprivate async _onPressGroupCreate() {\n\t\tconst groupNameInput = this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`) as Input;\n\t\tif (this._validateGroupName()) {\n\t\t\tif (this._selectedApps?.length) {\n\t\t\t\tthis._setBusy(true);\n\t\t\t\ttry {\n\t\t\t\t\tawait this._createGroup({\n\t\t\t\t\t\tselectedApps: this._selectedApps,\n\t\t\t\t\t\tgroupName: groupNameInput.getValue(),\n\t\t\t\t\t\tgroupColor: this._getGroupColor()\n\t\t\t\t\t});\n\t\t\t\t\tawait this.refresh();\n\n\t\t\t\t\t// Show toast message after successful group creation\n\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"newGroupCreated\") as string, {\n\t\t\t\t\t\tof: this._controlMap.get(`${this.getId()}-createGroupDialog`) as Dialog,\n\t\t\t\t\t\toffset: \"0 80\"\n\t\t\t\t\t});\n\t\t\t\t\tconst groups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\t\t\t\tvoid this._showGroupDetailDialog(groups[0]?.getGroupId());\n\t\t\t\t} catch (err) {\n\t\t\t\t\tLog.error(err as string);\n\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"unableToCreateGroup\") as string);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._setBusy(false);\n\t\t\t\t\tthis._closeCreateGroupDialog();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._setNoAppsSelectedError(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Creates a new group with the given properties and adds selected apps to it.\n\t * @param {Object} params - The properties for creating the group.\n\t * @param {sap.ui.core.URI[]} params.selectedApps - Target URL unique identifier of the selected apps to be added to the group.\n\t * @param {string} [params.groupName] - The name of the group. If not provided, a default name will be used.\n\t * @param {string} [params.groupColor] - The color of the group. If not provided, the default color will be used.\n\t * @private\n\t */\n\tprivate async _createGroup(params: { selectedApps: App[]; groupName: string; groupColor: string }) {\n\t\tconst { selectedApps, groupName, groupColor } = params;\n\t\tconst sectionVisualizations = await this.appManagerInstance.getSectionVisualizations();\n\t\tconst visualizations = selectedApps.reduce((selectedVisualizations: ICustomVisualization[], oApp) => {\n\t\t\tconst sectionVisualization = sectionVisualizations.find((oSectionViz) => oSectionViz.url === oApp.getUrl());\n\t\t\tif (sectionVisualization) {\n\t\t\t\tselectedVisualizations.push(sectionVisualization);\n\t\t\t}\n\t\t\treturn selectedVisualizations;\n\t\t}, []);\n\t\tconst sectionId = visualizations[0].persConfig!.sectionId!;\n\t\tawait this.appManagerInstance.addSection({\n\t\t\tsectionIndex: 1,\n\t\t\tsectionProperties: {\n\t\t\t\ttitle: groupName || this._i18nBundle.getText(\"newGroup\"),\n\t\t\t\tvisible: true,\n\t\t\t\tvisualizations: visualizations.map((viz) => viz.visualization)\n\t\t\t}\n\t\t});\n\n\t\tconst visualizationsToBeDeleted: string[] = visualizations.reduce((visualizationsToBeDeleted: string[], oViz) => {\n\t\t\tif (oViz.visualization?.id) {\n\t\t\t\tconst duplicateVisualizationIds = (oViz.persConfig?.duplicateApps || []).map((oViz) => oViz.visualization?.id) as string[];\n\t\t\t\tvisualizationsToBeDeleted = visualizationsToBeDeleted.concat([oViz.visualization?.id], duplicateVisualizationIds);\n\t\t\t}\n\t\t\treturn visualizationsToBeDeleted;\n\t\t}, []);\n\n\t\tawait this.appManagerInstance.removeVisualizations({ sectionId, vizIds: visualizationsToBeDeleted });\n\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\tconst defaultSection = sections.find((oSection) => oSection.default);\n\t\tconst targetGroupId = sections[defaultSection ? 1 : 0]?.id;\n\t\t//update personalization\n\t\tawait this._updateAppPersonalization(\n\t\t\tvisualizations.map((oViz) => {\n\t\t\t\treturn {\n\t\t\t\t\tvisualization: oViz,\n\t\t\t\t\ttargetGroupId\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t\tawait this._updateGroupPersonalization(targetGroupId!, groupColor);\n\t}\n\n\t/**\n\t * Retrieves the color for the group.\n\t * @private\n\t * @returns {string} The color for the group.\n\t */\n\tprivate _getGroupColor() {\n\t\tconst defaultColor = DEFAULT_BG_COLOR().key;\n\t\tconst firstApp = this._selectedApps[0];\n\t\tconst setDefaultColor = this._selectedApps.some((app) => app.getBgColor() !== firstApp.getBgColor());\n\t\t//if group color is selected then apply that color, else if all the selected apps have same color then give the same color to group, else apply default color.\n\t\treturn this._selectedGroupColor || (setDefaultColor ? defaultColor : firstApp.getBgColor());\n\t}\n\n\t/**\n\t * Opens a color popover for selecting a background color for an item.\n\t * @param {sap.ui.base.Event} event - The event object.\n\t * @private\n\t */\n\tprivate _openColorPopover(event: Event<{ listItem?: StandardListItem }>) {\n\t\tconst colorPopoverId = `${this.getId()}-colorPopover`,\n\t\t\tcolors = END_USER_COLORS().map((oColor) => oColor.value) as string[];\n\t\tconst source = event.getSource<MenuItem>();\n\t\tthis._currentItem = source.getParent() as App | Group;\n\t\tlet colorPopover = this._controlMap.get(colorPopoverId) as ColorPalettePopover;\n\t\tif (!colorPopover) {\n\t\t\tcolorPopover = new ColorPalettePopover(colorPopoverId, {\n\t\t\t\tid: colorPopoverId,\n\t\t\t\tcolors: colors,\n\t\t\t\tshowDefaultColorButton: false,\n\t\t\t\tshowMoreColorsButton: false,\n\t\t\t\tshowRecentColorsSection: false,\n\t\t\t\tcolorSelect: (event: ColorPalette$ColorSelectEvent) => {\n\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\tconst selectedColor = event.getParameter(\"value\") as string;\n\t\t\t\t\tvoid this._handleColorSelect(this._currentItem, selectedColor);\n\t\t\t\t}\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\t(colorPopover as ColorPalettePopover & { _oPopover: Popover })._oPopover.setPlacement(PlacementType.HorizontalPreferredRight);\n\t\t\tthis._controlMap.set(colorPopoverId, colorPopover);\n\t\t}\n\t\tcolorPopover.openBy(event.getParameter(\"listItem\") as Control);\n\t}\n\n\t/**\n\t * Handles the selection of a color for an app or group.\n\t * @param {sap.cux.home.App | sap.cux.home.Group} item - The item control.\n\t * @param {string} color - The selected color.\n\t * @returns {Promise<void>} - A promise that resolves when the color selection is handled.\n\t * @private\n\t */\n\tprivate async _handleColorSelect(item: App | Group, color: string) {\n\t\tconst selectedColor = this._getLegendColor(color).key;\n\t\titem.setProperty(\"bgColor\", selectedColor, true);\n\t\tconst groupId = item instanceof Group ? item.getGroupId() : null;\n\t\tconst isGroupedApp = !groupId && item.getParent() instanceof Group;\n\n\t\t//update tile color\n\t\tif (isGroupedApp) {\n\t\t\tthis._refreshGroupDetailDialog(item as App, false);\n\t\t} else {\n\t\t\t//if ungroup app or group\n\t\t\tthis._applyUngroupedTileColor(item, color);\n\t\t\tthis.oEventBus.publish(\"appsChannel\", \"favAppColorChanged\", { item, color });\n\t\t}\n\n\t\t//update personalization\n\t\tif (groupId) {\n\t\t\t//if group\n\t\t\tvoid this._updateGroupPersonalization(groupId, selectedColor);\n\t\t\tconst groupIconControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-color`) as Icon;\n\t\t\tgroupIconControl?.setColor(color);\n\t\t} else {\n\t\t\t//if app\n\t\t\tconst app = item as App;\n\t\t\tconst groupId = isGroupedApp ? (app.getParent() as Group).getGroupId() : undefined;\n\t\t\tconst visualization = await this.appManagerInstance.getVisualization(app.getUrl(), groupId);\n\t\t\tif (visualization) {\n\t\t\t\tvoid this._updateAppPersonalization([{ visualization, color: selectedColor }]);\n\t\t\t}\n\t\t}\n\t\tthis.oEventBus.publish(\"appsChannel\", \"favAppColorChanged\", { item, color });\n\t}\n\n\t/**\n\t * Retrieves the list of groups where apps can be moved, excluding the source group if specified.\n\t * @param {string|null} sourceGroupId - The ID of the source group from which apps are being moved.\n\t * @returns {sap.cux.home.Group[]} An array of groups where apps can be moved.\n\t * @private\n\t */\n\tprivate _getAllowedMoveGroups(sourceGroupId: string | undefined) {\n\t\tlet allowedMoveGroups = (this.getAggregation(\"groups\") || []) as Group[];\n\t\tif (sourceGroupId) {\n\t\t\tallowedMoveGroups = allowedMoveGroups.filter((allowedMoveGroup) => allowedMoveGroup.getGroupId() !== sourceGroupId);\n\t\t}\n\t\treturn allowedMoveGroups;\n\t}\n\n\t/**\n\t * Sets the busy state for dialogs and the panel.\n\t * @param {boolean} busy - Indicates whether the dialogs and the panel should be set to busy state.\n\t * @private\n\t */\n\tprivate _setBusy(busy: boolean) {\n\t\t[this._generateGroupDetailDialog(), this._generateCreateGroupDialog(), this._generateAddFromInsightsDialog()].forEach(\n\t\t\t(oControl) => {\n\t\t\t\toControl.setBusy(busy);\n\t\t\t}\n\t\t);\n\t\tsuper.setBusy(busy);\n\t}\n\n\t/**\n\t * Opens a popover to move the app to another group.\n\t * @param {sap.cux.home.Group} sourceGroup - The source group from which the app is being moved.\n\t * @param {sap.ui.base.Event} event - The event triggering the popover opening.\n\t * @private\n\t */\n\tprivate _openMoveToGroupPopover(event: Event<{ listItem?: StandardListItem }>, sourceGroup?: Group) {\n\t\tconst popoverId = `${this.getId()}-moveToGroupPopover`,\n\t\t\tsource = event?.getSource<MenuItem>(),\n\t\t\tapp = source?.getParent() as App,\n\t\t\tsourceGroupId = sourceGroup?.getGroupId();\n\n\t\tlet list = this._controlMap.get(`${popoverId}-list`) as List,\n\t\t\tmoveToGroupPopover = this._controlMap.get(popoverId) as Popover;\n\n\t\tif (!moveToGroupPopover) {\n\t\t\tlist = new List({\n\t\t\t\tid: `${popoverId}-list`,\n\t\t\t\titemPress: () => ActionsPopover._closeActionsPopover()\n\t\t\t});\n\t\t\tthis._controlMap.set(`${popoverId}-list`, list);\n\t\t\tmoveToGroupPopover = new Popover({\n\t\t\t\tid: popoverId,\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: PlacementType.HorizontalPreferredRight,\n\t\t\t\tcontent: [list]\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tthis._controlMap.set(popoverId, moveToGroupPopover);\n\t\t}\n\t\tlist.removeAllItems();\n\n\t\tthis._getAllowedMoveGroups(sourceGroupId).forEach((targetGroup, index) =>\n\t\t\tlist.addItem(\n\t\t\t\tnew StandardListItem(recycleId(`${this.getId()}-moveTo-${app.getId()}-${index}`), {\n\t\t\t\t\ttitle: targetGroup.getTitle(),\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._handleMoveToGroup(app, sourceGroupId, targetGroup.getGroupId());\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\n\t\tmoveToGroupPopover.openBy(event.getParameter(\"listItem\") as Control);\n\t}\n\n\t/**\n\t * Handles the removal of an app, displaying a confirmation dialog to the user.\n\t * If the app is the last one in the group, a warning dialog is displayed for confirmation.\n\t * @param {sap.cux.home.App} app - The app to be removed.\n\t * @param {sap.cux.home.Group} [group] - The group from which the app should be removed. If not provided, the app is considered to be in favorites.\n\t * @private\n\t */\n\tprivate _handleRemove(app: App, group?: Group): void {\n\t\tconst lastAppInGroup = group?.getApps()?.length === 1;\n\n\t\tlet message = this._i18nBundle.getText(\"removeAppMessage\", [app.getTitle()]),\n\t\t\ttitle = this._i18nBundle.getText(\"remove\"),\n\t\t\tactionText = this._i18nBundle.getText(\"remove\"),\n\t\t\tmessageIcon = MessageBox.Icon.QUESTION;\n\n\t\tif (lastAppInGroup) {\n\t\t\tmessage = this._i18nBundle.getText(\"removeFromMyHomeMessage\", [app.getTitle()]);\n\t\t\ttitle = this._i18nBundle.getText(\"delete\");\n\t\t\tactionText = this._i18nBundle.getText(\"delete\");\n\t\t\tmessageIcon = MessageBox.Icon.WARNING;\n\t\t}\n\n\t\tMessageBox.show(message as string, {\n\t\t\ticon: messageIcon,\n\t\t\ttitle: title,\n\t\t\tactions: [actionText as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: actionText,\n\t\t\tonClose: async (action: string) => {\n\t\t\t\tif (action === actionText) {\n\t\t\t\t\tthis._setBusy(true);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this._removeApp(app, group);\n\t\t\t\t\t\tif (lastAppInGroup) {\n\t\t\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\t\t} else if (group) {\n\t\t\t\t\t\t\tthis._refreshGroupDetailDialog(app);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait (this.getParent() as AppsContainer)._refreshAllPanels();\n\t\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"appRemoved\") as string);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tLog.error(err as string);\n\t\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"unableToRemoveApp\") as string);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis._setBusy(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the specified app from the group or favorites.\n\t * If the app is the last one in the group, the group will be deleted as well.\n\t * If the app is an ungrouped app, its duplicate apps (if any) will also be deleted.\n\t * @param {App} app - The app to be removed.\n\t * @param {Group} [group] - The group from which the app should be removed. If not provided, the app is considered to be in favorites.\n\t * @returns {Promise<void>}\n\t * @private\n\t */\n\tprivate async _removeApp(app: App, group?: Group) {\n\t\tconst lastAppInGroup = group?.getApps()?.length === 1,\n\t\t\tgroupId = group?.getGroupId(),\n\t\t\tappId = app.getUrl(),\n\t\t\tviz = await this.appManagerInstance.getVisualization(appId, groupId);\n\t\tif (lastAppInGroup) {\n\t\t\t//if last app in group, then delete the group as well\n\t\t\tawait this._deleteGroup(groupId!);\n\t\t} else {\n\t\t\tlet visualizationsToBeDeleted = [viz?.visualization?.id];\n\t\t\tif (!groupId) {\n\t\t\t\t//for apps outside group i.e. for favorite apps delete duplicate apps as well\n\t\t\t\tvisualizationsToBeDeleted = visualizationsToBeDeleted.concat(\n\t\t\t\t\tviz?.persConfig?.duplicateApps?.map((viz) => viz.visualization?.id)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (viz?.persConfig?.sectionId && visualizationsToBeDeleted.length > 0) {\n\t\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\t\tsectionId: viz.persConfig.sectionId,\n\t\t\t\t\tvizIds: visualizationsToBeDeleted as string[]\n\t\t\t\t});\n\t\t\t\tvoid this._deletePersonalization({\n\t\t\t\t\tappId: appId,\n\t\t\t\t\toldAppId: viz?.oldAppId,\n\t\t\t\t\tsectionId: viz?.persConfig?.sectionId,\n\t\t\t\t\tisRecentlyAddedApp: viz?.persConfig?.isDefaultSection\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handler for moving an app from a source group to a target group.\n\t * @param {sap.cux.home.App} app - The app to be moved.\n\t * @param {string} sourceGroupId - The ID of the source group from which the app is being moved.\n\t * @param {string | null} targetGroupId - The ID of the target group to which the app will be moved.\n\t * @private\n\t */\n\tprivate async _handleMoveToGroup(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst sourceGroup = sourceGroupId ? this._getGroup(sourceGroupId) : undefined,\n\t\t\tisLastAppInGroup = sourceGroup?.getApps()?.length === 1;\n\n\t\tif (isLastAppInGroup) {\n\t\t\tconst confirmationMessage = this._i18nBundle.getText(\"moveAppMessage\", [app.getTitle()]) as string;\n\t\t\tconst confirmationTitle = this._i18nBundle.getText(\"delete\") as string;\n\t\t\tMessageBox.show(confirmationMessage, {\n\t\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\t\ttitle: confirmationTitle,\n\t\t\t\tactions: [confirmationTitle, MessageBox.Action.CANCEL],\n\t\t\t\temphasizedAction: confirmationTitle,\n\t\t\t\tonClose: (action: string) => {\n\t\t\t\t\tif (action === confirmationTitle) {\n\t\t\t\t\t\tvoid this._moveAppAndHandleGroupChanges(app, sourceGroupId, targetGroupId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tawait this._moveAppAndHandleGroupChanges(app, sourceGroupId, targetGroupId);\n\t\t}\n\t}\n\n\t/**\n\t * Moves an app to a different group and handles group changes.\n\t * @param {App} app - The app to be moved.\n\t * @param {string} [sourceGroupId] - The ID of the source group from which the app is being moved.\n\t * @param {string} [targetGroupId] - The ID of the target group to which the app is being moved.\n\t * @returns {Promise<void>} - A Promise that resolves once the app is moved and group changes are handled.\n\t * @private\n\t */\n\tprivate async _moveAppAndHandleGroupChanges(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst sourceGroup = sourceGroupId ? this._getGroup(sourceGroupId) : null,\n\t\t\ttargetGroup = targetGroupId ? this._getGroup(targetGroupId) : null,\n\t\t\tsTargetGroupTile = targetGroup?.getTitle(),\n\t\t\tisLastAppInGroup = sourceGroup?.getApps()?.length === 1;\n\t\ttry {\n\t\t\tthis._setBusy(true);\n\t\t\tawait this._moveAppToGroup(app, sourceGroupId, targetGroupId);\n\t\t\t//delete group, if it is the last app in the group\n\t\t\tif (isLastAppInGroup) {\n\t\t\t\tawait this._deleteGroup(sourceGroupId as string);\n\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t} else if (sourceGroupId) {\n\t\t\t\tthis._refreshGroupDetailDialog(app);\n\t\t\t}\n\t\t\tconst sMsg = sTargetGroupTile\n\t\t\t\t? this._i18nBundle.getText(\"appMoved\", [sTargetGroupTile])\n\t\t\t\t: this._i18nBundle.getText(\"appUngrouped\");\n\t\t\tMessageToast.show(sMsg as string);\n\t\t\tawait this.refresh();\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis._setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Refreshes the group detail dialog.\n\t * @param {sap.cux.home.App} updatedApp - The updated app control.\n\t * @param {boolean} [isRemove=true] - A flag indicating whether to remove the app. Defaults to true.\n\t * @private\n\t */\n\tprivate _refreshGroupDetailDialog(updatedApp: App, isRemove = true) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = appsWrapper.getItems() as GenericTile[];\n\t\tconst group = updatedApp.getParent() as Group;\n\t\tif (!group) {\n\t\t\treturn;\n\t\t}\n\t\tconst groupApps = group.getApps();\n\t\tif (isRemove) {\n\t\t\tconst updatedAppIndex = groupApps.findIndex((groupApp) => groupApp.getUrl() === updatedApp.getUrl());\n\t\t\tif (updatedAppIndex > -1) {\n\t\t\t\tgroupApps[updatedAppIndex].destroy(true);\n\t\t\t\ttiles[updatedAppIndex].destroy(true);\n\t\t\t}\n\t\t} else {\n\t\t\t//update app color, along with duplicate apps, if any\n\t\t\tgroupApps.forEach((groupApp, index) => {\n\t\t\t\tif (groupApp.getUrl() === updatedApp.getUrl()) {\n\t\t\t\t\tgroupApp.setProperty(\"bgColor\", updatedApp.getBgColor(), true);\n\t\t\t\t\ttiles[index].setBackgroundColor(updatedApp.getBgColor());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Moves an app from a source group to a target group.\n\t * @param {sap.cux.home.App} app - The app to be moved.\n\t * @param {string} sourceGroupId - The ID of the source group from which the app is being moved.\n\t * @param {string} targetGroupId - The ID of the target group to which the app will be moved. If null, the default section is considered.\n\t * @private\n\t */\n\tprivate async _moveAppToGroup(app: App, sourceGroupId?: string, targetGroupId?: string) {\n\t\tconst appId = app.getUrl();\n\t\tconst [visualizations, sections] = await Promise.all([\n\t\t\t\tthis.appManagerInstance.getSectionVisualizations(sourceGroupId),\n\t\t\t\tthis.appManagerInstance._getSections()\n\t\t\t]),\n\t\t\tsourceVisualization = visualizations.find((oViz) => oViz.url === appId),\n\t\t\tsourceVisualizationIndex = sourceVisualization?.persConfig?.visualizationIndex ?? -1,\n\t\t\tsourceSectionIndex = sourceVisualization?.persConfig?.sectionIndex as number;\n\t\tconst isTargetGroupDefault = !targetGroupId; //if group id is not passed, then we consider it as default section\n\t\tconst isSourceGroupDefault = !sourceGroupId;\n\t\tconst targetSectionIndex = sections.findIndex((section) => (!targetGroupId ? section.default : section.id === targetGroupId));\n\n\t\tif (sourceVisualization) {\n\t\t\tif (isTargetGroupDefault) {\n\t\t\t\tawait this._moveAppToDefaultGroup(sourceVisualization);\n\t\t\t} else {\n\t\t\t\tif (isSourceGroupDefault) {\n\t\t\t\t\t//remove duplicate apps\n\t\t\t\t\tawait this._removeDuplicateVisualizations(sourceVisualization);\n\t\t\t\t}\n\t\t\t\tawait this.appManagerInstance.moveVisualization({\n\t\t\t\t\tsourceSectionIndex: sourceSectionIndex,\n\t\t\t\t\tsourceVisualizationIndex: sourceVisualizationIndex,\n\t\t\t\t\ttargetSectionIndex: targetSectionIndex,\n\t\t\t\t\ttargetVisualizationIndex: -1\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst sections = await this.appManagerInstance._getSections(true);\n\t\t\tconst defaultSection = sections.find((oSection) => oSection.default);\n\t\t\tawait this._updateAppPersonalization([\n\t\t\t\t{\n\t\t\t\t\tvisualization: sourceVisualization,\n\t\t\t\t\ttargetGroupId: targetGroupId ?? defaultSection?.id,\n\t\t\t\t\tisTargetGroupDefault\n\t\t\t\t}\n\t\t\t]);\n\t\t}\n\t}\n\n\t/**\n\t * Moves a visualization to the default group.\n\t * @param {ICustomVisualization} visualization - The visualization to be moved to the default group.\n\t * @returns {Promise<void>} - A promise that resolves once the visualization is moved to the default group.\n\t * @private\n\t */\n\tprivate async _moveAppToDefaultGroup(visualization: ICustomVisualization) {\n\t\tawait this._addVisualization(visualization);\n\t\tif (visualization.persConfig?.sectionId && visualization.visualization?.id) {\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: visualization.persConfig?.sectionId,\n\t\t\t\tvizIds: [visualization.visualization?.id]\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Removes duplicate visualizations associated with a specific visualization.\n\t * @param {ICustomVisualization} visualization - The visualization for which duplicate visualizations should be removed.\n\t * @returns {Promise<void>} - A promise that resolves once duplicate visualizations are removed.\n\t * @private\n\t */\n\tprivate async _removeDuplicateVisualizations(visualization: ICustomVisualization) {\n\t\tconst vizIdsToBeDeleted = (visualization?.persConfig?.duplicateApps?.map((oViz) => oViz.visualization?.id) || []) as string[];\n\t\tif (visualization.persConfig?.sectionId && vizIdsToBeDeleted.length > 0) {\n\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\tsectionId: visualization.persConfig?.sectionId,\n\t\t\t\tvizIds: vizIdsToBeDeleted\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Handles the event for renaming a group.\n\t * Opens the group detail dialog in edit mode.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onRenameGroup(event: Event) {\n\t\tconst group = event.getSource<MenuItem>()?.getParent() as Group;\n\t\tvoid this._showGroupDetailDialog(group.getGroupId(), true);\n\t}\n\n\t/**\n\t * Event Handler for ungroup apps, shows confirmation dialog, ungroups the apps on confirmation\n\t * @param {sap.cux.home.Group} group - The group from which the apps will be ungrouped.\n\t * @private\n\t */\n\tprivate _handleUngroupApps(group: ISectionAndVisualization) {\n\t\tconst message = this._i18nBundle.getText(\"ungroupAppsMessage\", [group.title]) as string,\n\t\t\ttitle = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tactionText = this._i18nBundle.getText(\"delete\") as string;\n\t\tMessageBox.show(message, {\n\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\ttitle: title,\n\t\t\tactions: [actionText, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: actionText,\n\t\t\tonClose: (action: string) => {\n\t\t\t\tif (action === actionText) {\n\t\t\t\t\tvoid this._ungroupApps(group.id!);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handles the event for deleting a group.\n\t * Shows confirmation dialog to either delete the group and apps, or move the apps in favorites.\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _onDeleteGroup(event: Event) {\n\t\tconst group = event.getSource<MenuItem>()?.getParent() as Group,\n\t\t\tmessage = this._i18nBundle.getText(\"deleteGroupMessage\", [group.getTitle()]) as string,\n\t\t\ttitle = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tdeleteAction = this._i18nBundle.getText(\"delete\") as string,\n\t\t\tmoveAppAction = this._i18nBundle.getText(\"moveApps\") as string;\n\t\tMessageBox.show(message, {\n\t\t\ticon: MessageBox.Icon.WARNING,\n\t\t\ttitle: title,\n\t\t\tactions: [deleteAction, this._i18nBundle.getText(\"moveApps\") as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: deleteAction,\n\t\t\tonClose: async (action: string) => {\n\t\t\t\tif (action === deleteAction) {\n\t\t\t\t\tthis._setBusy(true);\n\t\t\t\t\tawait this._deleteGroup(group.getGroupId());\n\t\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"groupDeleted\") as string);\n\t\t\t\t\tvoid this.refresh();\n\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\tthis._setBusy(false);\n\t\t\t\t} else if (action === moveAppAction) {\n\t\t\t\t\tvoid this._ungroupApps(group.getGroupId());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Ungroups apps from the specified group Id.\n\t * @async\n\t * @private\n\t * @param {string} groupId - The Id of the group from which apps will be ungrouped.\n\t * @returns {Promise<void>} - A Promise that resolves once the ungrouping process is complete.\n\t */\n\tprivate async _ungroupApps(groupId: string) {\n\t\tthis._setBusy(true);\n\t\ttry {\n\t\t\tconst visualizations = await this.appManagerInstance.getSectionVisualizations(groupId);\n\t\t\tconst sections = await this.appManagerInstance._getSections();\n\t\t\tconst section = sections.find((oSection) => oSection.id === groupId);\n\t\t\tawait Promise.all(visualizations.map((oViz) => this._addVisualization(oViz)));\n\t\t\tconst updatedSections = await this.appManagerInstance._getSections(true);\n\t\t\tconst defaultSection = updatedSections.find((oSection) => oSection.default);\n\t\t\t//update personalization\n\t\t\tawait this._updateAppPersonalization(\n\t\t\t\tvisualizations.map((oViz) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvisualization: oViz,\n\t\t\t\t\t\ttargetGroupId: defaultSection?.id,\n\t\t\t\t\t\tisTargetGroupDefault: true\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t//if preset section, then section shouldn't be deleted, instead remove visualizations inside section\n\t\t\tif (section?.preset) {\n\t\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\t\tsectionId: groupId,\n\t\t\t\t\tvizIds: visualizations.map((oViz) => oViz.visualization?.id) as string[]\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait this._deleteGroup(groupId);\n\t\t\t}\n\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"appsUngrouped\") ?? \"\");\n\t\t\tawait this.refresh();\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"unableToUngroupApps\") ?? \"\");\n\t\t} finally {\n\t\t\tthis._setBusy(false);\n\t\t\tthis._closeGroupDetailDialog();\n\t\t}\n\t}\n\n\t/**\n\t * Shows the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @param {boolean} [editMode=false] - Whether to open the dialog in edit mode.\n\t * @private\n\t */\n\tprivate async _showGroupDetailDialog(groupId: string, editMode = false) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (!group) {\n\t\t\treturn;\n\t\t}\n\t\tthis._selectedGroupId = groupId;\n\t\tconst dialog = this._generateGroupDetailDialog();\n\t\t//set group icon\n\t\tconst groupIconControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-color`) as Icon;\n\t\tgroupIconControl.setColor(Parameters.get({ name: group.getBgColor() }) as string);\n\t\t//set group apps\n\t\tawait this._setGroupDetailDialogApps(groupId);\n\t\tdialog.open();\n\t\t//set group title\n\t\tthis._setGroupNameControl(group.getTitle(), editMode);\n\t}\n\n\t/**\n\t * Sets the apps for the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @returns {Promise<void>} - A Promise that resolves once the apps for the group detail dialog are set.\n\t * @private\n\t */\n\tprivate async _setGroupDetailDialogApps(groupId: string) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (group) {\n\t\t\tlet appVisualizations = await this.appManagerInstance.getSectionVisualizations(groupId, false);\n\t\t\tgroup.destroyAggregation(\"apps\", true);\n\t\t\tappVisualizations = appVisualizations.map((appVisualization, index) => {\n\t\t\t\treturn {\n\t\t\t\t\t...appVisualization,\n\t\t\t\t\tmenuItems: this._getAppActions(group, index, appVisualization) //add actions to show in group\n\t\t\t\t};\n\t\t\t});\n\t\t\tconst apps = this.generateApps(appVisualizations);\n\t\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\t\tthis._setAggregation(group, apps, \"apps\");\n\t\t\tappsWrapper.destroyItems();\n\t\t\tthis._setAggregation(\n\t\t\t\tappsWrapper,\n\t\t\t\tgroup.getApps().map((app) => (this.getParent() as AppsContainer)._getAppTile(app))\n\t\t\t);\n\t\t\tthis._applyGroupedAppsPersonalization(groupId);\n\t\t\tthis._dispatchAppsLoadedEvent(apps);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization to the grouped apps within the specified group.\n\t * @param {string} groupId - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _applyGroupedAppsPersonalization(groupId: string) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\tvoid this._applyTilesPersonalization(tiles, groupId);\n\t}\n\n\t/**\n\t * Applies Deprecated Info for apps inside the group.\n\t * @param {App[]} apps - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _dispatchAppsLoadedEvent(apps: App[]) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\t(this.getParent() as AppsContainer).fireEvent(\"appsLoaded\", { apps, tiles });\n\t}\n\n\t/**\n\t * Generates the group detail dialog.\n\t * @private\n\t * @returns {sap.m.Dialog} The generated detail dialog for the group.\n\t */\n\tprivate _generateGroupDetailDialog() {\n\t\tconst id = `${this.getId()}-detailDialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//group color icon\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-color`,\n\t\t\t\tnew Icon({\n\t\t\t\t\tid: `${id}-toolbar-color`,\n\t\t\t\t\tsrc: \"sap-icon://color-fill\",\n\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\")\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-title`,\n\t\t\t\tnew Title({\n\t\t\t\t\tid: `${id}-toolbar-title`,\n\t\t\t\t\tvisible: true\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tconst oInvisibleText = getInvisibleText(`${id}-toolbar-renameTitle`, this._i18nBundle.getText(\"renameGroup\"));\n\t\t\tthis._controlMap.set(`${id}-toolbar-renameTitle`, oInvisibleText);\n\n\t\t\tconst oGroupNameInput = new Input({\n\t\t\t\tid: `${id}-toolbar-title-edit`,\n\t\t\t\twidth: \"13.75rem\",\n\t\t\t\tvisible: false,\n\t\t\t\tariaLabelledBy: [`${id}-toolbar-renameTitle`]\n\t\t\t});\n\n\t\t\tthis._controlMap.set(`${id}-toolbar-title-edit`, oGroupNameInput);\n\n\t\t\toGroupNameInput.onsapfocusleave = () => {\n\t\t\t\tvoid this._onGroupEditName(oGroupNameInput.getValue());\n\t\t\t};\n\n\t\t\t//apps wrapper\n\t\t\tconst appsWrapper = new GridContainer({\n\t\t\t\tid: `${id}-apps`,\n\t\t\t\tlayout: new GridContainerSettings(`${id}-appsLayout`, {\n\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapCuxAppsContainerBorder sapCuxAppsDetailContainerPadding\");\n\t\t\t// Add drag-and-drop config\n\t\t\tthis.addDragDropConfigTo(appsWrapper, (event) => this._onFavItemDrop(event, this._selectedGroupId));\n\t\t\tthis._controlMap.set(`${id}-apps`, appsWrapper);\n\t\t\t//add apps button\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-addAppsBtn`,\n\t\t\t\tnew Button(`${id}-addAppsBtn`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tconst groupId = this._selectedGroupId;\n\t\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\t\tthis._selectedGroupId = groupId;\n\t\t\t\t\t\tvoid this.navigateToAppFinder(groupId);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\tcontent: this._controlMap.get(`${id}-apps`) as HBox,\n\t\t\t\t\tcontentWidth: \"60.75rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\tid: `${id}-groupDetailCloseBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\t\t\tpress: this._closeGroupDetailDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeGroupDetailDialog.bind(this),\n\t\t\t\t\tcustomHeader: new Toolbar(`${this.getId()}-toolbar`, {\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-color`) as Icon,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title`) as Title,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title-edit`) as Input,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-renameTitle`) as InvisibleText,\n\t\t\t\t\t\t\tnew ToolbarSpacer({ id: `${this.getId()}-toolbarSpacer` }),\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-addAppsBtn`) as Button,\n\t\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\t\tid: \"overflowBtn\",\n\t\t\t\t\t\t\t\ticon: \"sap-icon://overflow\",\n\t\t\t\t\t\t\t\ttype: \"Transparent\",\n\t\t\t\t\t\t\t\tpress: (event) => {\n\t\t\t\t\t\t\t\t\tconst source = event.getSource<Button>();\n\t\t\t\t\t\t\t\t\tconst group = this._selectedGroupId ? this._getGroup(this._selectedGroupId) : null;\n\t\t\t\t\t\t\t\t\tconst groupActions = group?.getAggregation(\"menuItems\") as MenuItem[];\n\t\t\t\t\t\t\t\t\tconst oPopover = ActionsPopover.get(groupActions);\n\t\t\t\t\t\t\t\t\toPopover.openBy(source);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxGroupDetailDialog\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Closes the group detail dialog.\n\t * @private\n\t */\n\tprivate _closeGroupDetailDialog() {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tconst group = this._getGroup(this._selectedGroupId as string);\n\t\tgroup?.destroyApps();\n\t\tthis._selectedGroupId = undefined;\n\t\tgroupDetailDialog?.close();\n\t}\n\n\t/**\n\t * Updates the group name with new name.\n\t * This method is triggered on group name input focus leave.\n\t * @private\n\t * @async\n\t * @param {string} updatedTitle - The new title for the group.\n\t */\n\tprivate async _onGroupEditName(updatedTitle: string) {\n\t\tthis._setBusy(true);\n\t\tconst groupId = this._selectedGroupId,\n\t\t\tgroup = this._getGroup(groupId!),\n\t\t\toldTitle = group?.getTitle();\n\t\tif (updatedTitle && updatedTitle !== oldTitle) {\n\t\t\tawait this._renameGroup(groupId!, updatedTitle);\n\t\t\tgroup?.setProperty(\"title\", updatedTitle, true);\n\t\t\tvoid this.refresh();\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"groupNameChanged\") || \"\");\n\t\t}\n\t\tthis._setGroupNameControl(updatedTitle, false);\n\t\tthis._setBusy(false);\n\t}\n\n\t/**\n\t * Renames a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group to rename.\n\t * @param {string} updatedTitle - The new title for the group.\n\t * @returns {Promise<void>} A Promise that resolves once the group is renamed.\n\t */\n\tprivate async _renameGroup(groupId: string, updatedTitle: string) {\n\t\tconst pagesService = await Container.getServiceAsync<Pages>(\"Pages\");\n\t\tconst pageIndex = pagesService.getPageIndex(MYHOME_PAGE_ID),\n\t\t\tgroups = pagesService.getModel().getProperty(`/pages/${pageIndex}/sections/`) as ISection[],\n\t\t\tgroupIndex = groups.findIndex((group) => group.id === groupId);\n\t\tif (groupIndex > -1) {\n\t\t\tawait pagesService.renameSection(pageIndex, groupIndex, updatedTitle);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the group name control in the detail dialog.\n\t * Shows input control to edit the group name in edit mode, otherwise, shows group name as title control.\n\t * @private\n\t * @param {string} groupTitle - The title of the group.\n\t * @param {boolean} editMode - Whether the dialog is in edit mode.\n\t */\n\tprivate _setGroupNameControl(groupTitle: string, editMode: boolean) {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tconst groupTitleControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title`) as Title;\n\t\tconst groupInputControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title-edit`) as Input;\n\t\tgroupInputControl.setValue(groupTitle);\n\t\tgroupTitleControl.setText(groupTitle);\n\t\tgroupInputControl?.setVisible(editMode);\n\t\tgroupTitleControl?.setVisible(!editMode);\n\t\tif (editMode) {\n\t\t\t//in edit mode set the focus on input\n\t\t\tgroupDetailDialog.setInitialFocus(groupInputControl);\n\t\t}\n\t}\n\n\t/**\n\t * Generates the dialog for adding apps from insights.\n\t * @returns {sap.m.Dialog} The dialog for adding apps from insights.\n\t * @private\n\t */\n\tprivate _generateAddFromInsightsDialog() {\n\t\tconst id = `${this.getId()}-addFromInsightsDialog`;\n\n\t\tconst setAddBtnEnabled = () => {\n\t\t\tconst selectedItems = this._getSelectedInsights();\n\t\t\t(this._controlMap.get(`${id}-addBtn`) as Button).setEnabled(selectedItems.length > 0);\n\t\t};\n\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst getAppFinderBtn = (id: string, btnType?: ButtonType) => {\n\t\t\t\tconst appsAppFinder = new Button(id, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttext: this._i18nBundle.getText(\"appFinderBtn\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tthis._closeAddFromInsightsDialog();\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t},\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\ttype: btnType || ButtonType.Default\n\t\t\t\t});\n\t\t\t\taddFESRSemanticStepName(appsAppFinder, \"press\", \"appsAppFinder\");\n\t\t\t\treturn appsAppFinder;\n\t\t\t};\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-list`,\n\t\t\t\tnew List({\n\t\t\t\t\tid: `${id}-list`,\n\t\t\t\t\tmode: \"MultiSelect\",\n\t\t\t\t\tselectionChange: setAddBtnEnabled\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-addBtn`,\n\t\t\t\tnew Button({\n\t\t\t\t\tid: `${id}-addBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogBtn\"),\n\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tvoid this._addFromInsights();\n\t\t\t\t\t},\n\t\t\t\t\tenabled: false\n\t\t\t\t})\n\t\t\t);\n\t\t\tconst addStaticTiles = this._controlMap.get(`${id}-addBtn`) as Button;\n\t\t\taddFESRSemanticStepName(addStaticTiles, \"press\", \"addStaticTiles\");\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessage`,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid: `${id}-errorMessage`,\n\t\t\t\t\tillustrationSize: IllustratedMessageSize.Base,\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"noDataMsgInsightTiles\"),\n\t\t\t\t\tvisible: true\n\t\t\t\t}).addStyleClass(\"sapUiLargeMarginTop\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addFromInsights\"),\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew Label({\n\t\t\t\t\t\t\tid: `${id}-label`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogLabel\"),\n\t\t\t\t\t\t\twrapping: true\n\t\t\t\t\t\t}).addStyleClass(\"sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\tid: `${id}-textContainer`,\n\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\t\tid: `${id}-text`,\n\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogTitle\")\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tgetAppFinderBtn(`${id}-addAppsBtn`, ButtonType.Transparent)\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\t\tthis._controlMap.get(`${id}-list`) as List,\n\t\t\t\t\t\tthis._controlMap.get(`${id}-errorMessage`) as IllustratedMessage\n\t\t\t\t\t],\n\t\t\t\t\tcontentWidth: \"42.75rem\",\n\t\t\t\t\tcontentHeight: \"32.5rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\tid: `${id}-addFromInsightsCloseBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\t\t\tpress: this._closeAddFromInsightsDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeAddFromInsightsDialog.bind(this),\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tthis._controlMap.get(`${id}-addBtn`) as Button,\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeAddFromInsightsDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus sapCuxAddFromInsightsDialog\")\n\t\t\t);\n\t\t}\n\t\tsetAddBtnEnabled();\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Handles the addition of apps from insights.\n\t * @returns {Promise<void>} A Promise that resolves when the operation is complete.\n\t * @private\n\t */\n\tprivate async _handleAddFromInsights() {\n\t\tconst appsToAdd = await this._getInsightTilesToAdd();\n\t\tconst dialog = this._generateAddFromInsightsDialog();\n\t\t(this._controlMap.get(`${this.getId()}-addFromInsightsDialog-errorMessage`) as IllustratedMessage)?.setVisible(\n\t\t\tappsToAdd.length === 0\n\t\t);\n\t\tthis._generateInsightListItems(appsToAdd);\n\t\tdialog.open();\n\t}\n\n\t/**\n\t * Generates list items for the provided apps and populates the list in the \"Add from Insights\" dialog.\n\t * @param {ICustomVisualization[]} apps - An array of custom visualizations representing the apps to be added.\n\t * @private\n\t */\n\tprivate _generateInsightListItems(apps: ICustomVisualization[]) {\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\tif (apps.length) {\n\t\t\tlist.destroyItems();\n\t\t\tconst listItems = apps.map((app, index) => {\n\t\t\t\tconst bgColor = typeof app.BGColor === \"object\" && \"key\" in app.BGColor ? app.BGColor.key : app.BGColor;\n\t\t\t\treturn new CustomListItem({\n\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}`,\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content`,\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content-icon`,\n\t\t\t\t\t\t\t\t\tsrc: app.icon,\n\t\t\t\t\t\t\t\t\tbackgroundColor: this._getLegendColor(bgColor || \"\").value,\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t\twidth: \"2.25rem\",\n\t\t\t\t\t\t\t\t\theight: \"2.25rem\",\n\t\t\t\t\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiRoundedBorder sapUiTinyMargin\"),\n\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\tid: `${this.getId()}-addFromInsightsDialog-listItem-${index}-content-identifier`,\n\t\t\t\t\t\t\t\t\ttitle: app.title,\n\t\t\t\t\t\t\t\t\ttext: app.subtitle,\n\t\t\t\t\t\t\t\t\ttooltip: app.title\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t\t\t.addStyleClass(\"sapUiContentPadding\")\n\t\t\t\t\t.data(\"vizId\", app.visualization?.vizId) as CustomListItem;\n\t\t\t});\n\t\t\tthis._setAggregation(list, listItems);\n\t\t}\n\t\tlist?.setVisible(apps.length !== 0);\n\t}\n\n\t/**\n\t * Retrieves the insight tiles to add.\n\t * @returns {Promise<ICustomVisualization[]>} A Promise that resolves with an array of insight tiles to add.\n\t * @private\n\t */\n\tprivate async _getInsightTilesToAdd() {\n\t\tconst [insightsApps, favoriteApps] = await Promise.all([\n\t\t\tthis.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string),\n\t\t\tthis.appManagerInstance.fetchFavVizs(false, true)\n\t\t]); //check force refresh true?\n\t\t//find the visualizations that are present in insight tile but not in favorite apps\n\t\tconst appsToAdd = insightsApps.reduce((appsToAdd: ICustomVisualization[], insightsApp) => {\n\t\t\tif (!insightsApp.isCount && !insightsApp.isSmartBusinessTile) {\n\t\t\t\t// Check if App is not present in Fav Apps\n\t\t\t\tconst iAppIndex = favoriteApps.findIndex(\n\t\t\t\t\t(favoriteApp) =>\n\t\t\t\t\t\tfavoriteApp.visualization?.vizId === insightsApp.visualization?.vizId || favoriteApp.appId === insightsApp.appId\n\t\t\t\t);\n\t\t\t\tif (iAppIndex === -1) {\n\t\t\t\t\tappsToAdd.push(insightsApp);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn appsToAdd;\n\t\t}, []);\n\t\treturn this.appManagerInstance._filterDuplicateVizs(appsToAdd, false);\n\t}\n\n\t/**\n\t * Closes the dialog for adding apps from insights.\n\t * @private\n\t */\n\tprivate _closeAddFromInsightsDialog() {\n\t\tconst dialog = this._generateAddFromInsightsDialog();\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\tlist.removeSelections();\n\t\tdialog?.close();\n\t}\n\n\t/**\n\t * Retrieves the selected insights from the dialog.\n\t * @returns {sap.m.ListItemBase[]} An array of selected insights.\n\t * @private\n\t */\n\tprivate _getSelectedInsights() {\n\t\tconst list = this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`) as List;\n\t\treturn list.getSelectedItems() || [];\n\t}\n\n\t/**\n\t * Adds apps from insights.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate async _addFromInsights() {\n\t\tthis._setBusy(true);\n\t\tconst selectedItems = this._getSelectedInsights();\n\t\tfor (const selectedItem of selectedItems) {\n\t\t\tawait this.appManagerInstance.addVisualization(selectedItem.data(\"vizId\") as string);\n\t\t}\n\t\tthis._closeAddFromInsightsDialog();\n\t\tMessageToast.show(\n\t\t\tthis._i18nBundle.getText(selectedItems.length === 1 ? \"addFromInsightTileSuccess\" : \"addFromInsightTilesSuccess\", [\n\t\t\t\tselectedItems.length\n\t\t\t]) as string\n\t\t);\n\t\tawait (this.getParent() as AppsContainer)._refreshAllPanels();\n\t\tthis._setBusy(false);\n\t}\n\n\t/**\n\t * Updates the personalization data for apps.\n\t * @param {IUpdatePersonalizationConfig[]} updateConfigs - The array of configurations for updating personalization.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - Configuration object for updating personalization.\n\t * @param {ICustomVisualization} updateConfig.visualization - Visualization.\n\t * @param {string} updateConfig.color - The color to update for the app.\n\t * @param {boolean} updateConfig.isTargetGroupDefault - A flag indicating whether the target section is the default.\n\t * @param {string} [updateConfig.targetGroupId] - The Id of the target group. Defaults to source group Id if not provided.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is updated.\n\t * @private\n\t */\n\tprivate async _updateAppPersonalization(updateConfigs: IUpdatePersonalizationConfig[]) {\n\t\tconst personalizations = await this._getAppPersonalization();\n\n\t\tfor (const updateConfig of updateConfigs) {\n\t\t\tconst { visualization } = updateConfig;\n\t\t\tconst { persConfig } = visualization;\n\t\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\t\tconst targetGroupId = updateConfig.targetGroupId ?? sourceGroupId;\n\n\t\t\tif (sourceGroupId !== targetGroupId) {\n\t\t\t\t//move app scenario\n\t\t\t\tthis._updateMoveAppPersonalization(personalizations, updateConfig);\n\t\t\t} else {\n\t\t\t\t//only color is updated\n\t\t\t\tthis._updateAppColorPersonalization(personalizations, updateConfig);\n\t\t\t}\n\t\t}\n\t\tawait this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Updates the color personalization for an app.\n\t * @param {IAppPersonalization[]} personalizations - The array of app personalizations.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - The update configuration.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updateAppColorPersonalization = (personalizations: IAppPersonalization[], updateConfig: IUpdatePersonalizationConfig) => {\n\t\tconst { visualization, color } = updateConfig;\n\t\tconst { appId, oldAppId, persConfig } = visualization;\n\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\tconst isSourceGroupDefault = persConfig?.isDefaultSection;\n\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tappId,\n\t\t\toldAppId,\n\t\t\tsectionId: sourceGroupId,\n\t\t\tisRecentlyAddedApp: isSourceGroupDefault\n\t\t});\n\t\tif (personalizationIndex > -1) {\n\t\t\tpersonalizations[personalizationIndex].BGColor = color as string;\n\t\t} else {\n\t\t\tpersonalizations.push({\n\t\t\t\tBGColor: color as string,\n\t\t\t\tsectionId: sourceGroupId,\n\t\t\t\tisRecentlyAddedApp: isSourceGroupDefault as boolean,\n\t\t\t\tappId,\n\t\t\t\tisSection: false\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Updates the personalization when an app is moved to a different group.\n\t * @param {IAppPersonalization[]} personalizations - The array of app personalizations.\n\t * @param {IUpdatePersonalizationConfig} updateConfig - The update configuration.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _updateMoveAppPersonalization(personalizations: IAppPersonalization[], updateConfig: IUpdatePersonalizationConfig) {\n\t\tconst { visualization, isTargetGroupDefault } = updateConfig;\n\t\tconst { appId, oldAppId, persConfig } = visualization;\n\t\tconst sourceGroupId = persConfig?.sectionId;\n\t\tconst isSourceGroupDefault = persConfig?.isDefaultSection;\n\t\tconst duplicateApps = persConfig?.duplicateApps || [];\n\t\tconst targetGroupId = updateConfig.targetGroupId ?? sourceGroupId;\n\n\t\tconst sourcePersonalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tappId,\n\t\t\toldAppId,\n\t\t\tsectionId: sourceGroupId,\n\t\t\tisRecentlyAddedApp: isSourceGroupDefault\n\t\t});\n\t\t//if personalization exists for app in source group\n\t\tif (sourcePersonalizationIndex > -1) {\n\t\t\tconst newPersonalization = {\n\t\t\t\t...personalizations[sourcePersonalizationIndex],\n\t\t\t\tsectionId: targetGroupId,\n\t\t\t\tisRecentlyAddedApp: isTargetGroupDefault,\n\t\t\t\tisSection: false\n\t\t\t} as IAppPersonalization;\n\t\t\t//if no duplicate apps in source group, clean up source group personlization\n\t\t\tif (duplicateApps.length === 0) {\n\t\t\t\tpersonalizations.splice(sourcePersonalizationIndex, 1);\n\t\t\t}\n\n\t\t\t//update target personalization\n\t\t\tconst iTargetPersonalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\t\tappId,\n\t\t\t\toldAppId,\n\t\t\t\tsectionId: targetGroupId,\n\t\t\t\tisRecentlyAddedApp: isTargetGroupDefault\n\t\t\t});\n\t\t\tif (iTargetPersonalizationIndex > -1) {\n\t\t\t\tpersonalizations.splice(iTargetPersonalizationIndex, 1); //clean up any existing personalization\n\t\t\t}\n\t\t\t//push new personalization for target group\n\t\t\tpersonalizations.push(newPersonalization);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the personalization data for a group with the selected color.\n\t * @param {string} groupId - The ID of the group.\n\t * @param {string} selectedColor - The selected color for the group.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is updated.\n\t * @private\n\t */\n\tprivate async _updateGroupPersonalization(groupId: string, selectedColor: string) {\n\t\tconst personalizations = await this._getAppPersonalization();\n\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, {\n\t\t\tisSection: true,\n\t\t\tsectionId: groupId\n\t\t});\n\t\tconst updatedPersonalization = {\n\t\t\tBGColor: selectedColor,\n\t\t\tisSection: true,\n\t\t\tsectionId: groupId,\n\t\t\tisRecentlyAddedApp: false\n\t\t};\n\t\tif (personalizationIndex > -1) {\n\t\t\t//if color is already present for the group, update the color\n\t\t\tpersonalizations[personalizationIndex] = updatedPersonalization;\n\t\t} else {\n\t\t\tpersonalizations.push(updatedPersonalization);\n\t\t}\n\t\tawait this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Finds the index of personalization data matching the specified properties.\n\t * @param {IAppPersonalization[]} personalizations - The array of personalization data.\n\t * @param {IAppPersonalization} appPersonalization - The properties to match for finding the index.\n\t * @param {string} [appPersonalization.appId] -  id of the app.\n\t * @param {string} [appPersonalization.oldAppId] - old id of the app.\n\t * @param {string} [appPersonalization.sectionId] - id of the section.\n\t * @param {boolean} appPersonalization.isSection - A flag indicating whether the personalization is for a section.\n\t * @param {boolean} appPersonalization.isRecentlyAddedApp - A flag indicating whether the app is a recently added app.\n\t * @returns {number} The index of the matching personalization data, or -1 if not found.\n\t * @private\n\t */\n\tprivate _getPersonalizationIndex(personalizations: IAppPersonalization[], appPersonalization: IAppPersonalizationConfig) {\n\t\tconst { appId, oldAppId, sectionId, isSection, isRecentlyAddedApp } = appPersonalization;\n\t\treturn personalizations.findIndex((personalization) => {\n\t\t\tif (isSection) {\n\t\t\t\treturn personalization.sectionId === sectionId && personalization.isSection;\n\t\t\t} else {\n\t\t\t\treturn isRecentlyAddedApp\n\t\t\t\t\t? (personalization.appId === appId || personalization.appId === oldAppId) && personalization.isRecentlyAddedApp\n\t\t\t\t\t: (personalization.appId === appId || personalization.appId === oldAppId) && personalization.sectionId === sectionId;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Adds a visualization.\n\t * @param {object} oViz - The visualization to be added.\n\t * @param {object} oViz.visualization - The visualization object.\n\t * @param {boolean} [oViz.visualization.isBookmark=false] - Indicates if the visualization is a bookmark.\n\t * @param {string} [oViz.visualization.vizId] - The ID of the visualization if it's not a bookmark.\n\t * @param {string} [sSectionId] - The ID of the section (group) to which the visualization should be added.\n\t * If not provided, the visualization will be added to the default section.\n\t * @param {IMoveConfig} [moveConfig] - Configuration for moving the visualization.\n\t * @returns {Promise<void>} A promise that resolves to void after the visualization is added.\n\t * @private\n\t */\n\tprivate _addVisualization(viz: ICustomVisualization, sSectionId?: string, moveConfig?: IMoveConfig) {\n\t\tif (viz.visualization) {\n\t\t\treturn viz.visualization.isBookmark\n\t\t\t\t? this.appManagerInstance.addBookMark(viz.visualization, moveConfig)\n\t\t\t\t: this.appManagerInstance.addVisualization(viz.visualization.vizId, sSectionId);\n\t\t}\n\t\treturn Promise.reject(new Error(\"No visualization provided to add\"));\n\t}\n\n\t/**\n\t * Deletes a group.\n\t * @param {string} groupId - The Id of the group to delete.\n\t * @returns {Promise<void>} A Promise that resolves once the group is deleted.\n\t * @private\n\t */\n\tprivate async _deleteGroup(groupId: string) {\n\t\tconst pagesService = await Container.getServiceAsync<Pages>(\"Pages\");\n\t\tconst pageIndex = pagesService.getPageIndex(MYHOME_PAGE_ID),\n\t\t\tgroups = pagesService.getModel().getProperty(`/pages/${pageIndex}/sections/`) as ISection[],\n\t\t\tgroupIndex = groups.findIndex((group) => group.id === groupId);\n\t\tif (groupIndex > -1) {\n\t\t\tawait pagesService.deleteSection(pageIndex, groupIndex);\n\t\t\tvoid this._deletePersonalization({ sectionId: groupId, isSection: true });\n\t\t}\n\t}\n\n\t/**\n\t * Deletes personalization data based on the specified properties.\n\t * @param {IAppPersonalizationConfig} personalizationConfig - The properties to identify the personalization data to delete.\n\t * @param {boolean} [personalizationConfig.isSection] - A flag indicating whether the personalization is for a group.\n\t * @param {string} [appPersonalization.appId] -  id of the app.\n\t * @param {string} [appPersonalization.oldAppId] - old id of the app.\n\t * @param {string} personalizationConfig.sectionId - The ID of the group associated with the personalization.\n\t * @param {boolean} [appPersonalization.isRecentlyAddedApp] - A flag indicating whether the app is a recently added app.\n\t * @returns {Promise<void>} A promise that resolves when the personalization data is deleted.\n\t * @private\n\t */\n\tprivate async _deletePersonalization(personalizationConfig: IAppPersonalizationConfig) {\n\t\tconst { isSection, sectionId } = personalizationConfig;\n\t\tlet personalizations = await this._getAppPersonalization();\n\n\t\tif (!isSection) {\n\t\t\tconst personalizationIndex = this._getPersonalizationIndex(personalizations, personalizationConfig);\n\t\t\tif (personalizationIndex > -1) {\n\t\t\t\tpersonalizations.splice(personalizationIndex, 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// Delete personalizations for all associated apps if a group is deleted\n\t\t\tpersonalizations = personalizations.filter((personalization) => personalization.sectionId !== sectionId);\n\t\t}\n\n\t\tvoid this.setFavAppsPersonalization(personalizations);\n\t}\n\n\t/**\n\t * Handles the press event of a group.\n\t * @param {Group$PressEvent} event - The press event object.\n\t * @private\n\t */\n\tprivate _handleGroupPress(event: Group$PressEvent) {\n\t\tconst groupId = event.getParameter(\"groupId\");\n\t\tif (groupId) {\n\t\t\tvoid this._showGroupDetailDialog(groupId);\n\t\t}\n\t}\n\n\t/**\n\t * Handles keyboard events for cutting and moving applications.\n\t * When the Cmd (Mac) or Ctrl (Windows) key is pressed along with 'x', the currently selected element is cut.\n\t * When the Cmd (Mac) or Ctrl (Windows) key is pressed along with 'v':\n\t * - If the operation is performed on a group, the previously cut application is moved into the group.\n\t * - If the operation is performed on an application, the create group dialog is opened.\n\t * @param {KeyboardEvent} event - The keyboard event object.\n\t * @param {string} [appGroupId] - The group Id of the app, if app belongs to a group.\n\t * @returns {Promise<void>} A Promise that resolves when app is moved to a group or create group dialog is opened.\n\t * @private\n\t */\n\tprivate async _handleKeyboardMoveApp(event: KeyboardEvent, appGroupId?: string) {\n\t\tconst currentItem = Element.closestTo((event.target as HTMLElement).firstElementChild as HTMLElement) as GenericTile & {\n\t\t\t_oMoreIcon: Button;\n\t\t};\n\t\tconst container = currentItem.getParent() as GridContainer;\n\t\tif (event.metaKey || event.ctrlKey) {\n\t\t\t// ctrl(windows)/cmd (mac) + x, sets app to be moved to a group, or to create a group\n\t\t\tif (event.key === \"x\" && !currentItem.data(\"groupId\") && !this._cutApp && !appGroupId) {\n\t\t\t\tcurrentItem.$().css(\"opacity\", 0.6);\n\t\t\t\tcurrentItem._oMoreIcon.setEnabled(false);\n\t\t\t\tthis._cutApp = currentItem;\n\t\t\t}\n\n\t\t\tif (event.key === \"v\" && this._cutApp && !appGroupId) {\n\t\t\t\tconst dragDropEvent = new Event(\"keyboardDragDropEvent\", container, {\n\t\t\t\t\tdraggedControl: this._cutApp,\n\t\t\t\t\tdroppedControl: currentItem,\n\t\t\t\t\tdropPosition: dnd.RelativeDropPosition.On\n\t\t\t\t});\n\t\t\t\tawait this._onFavItemDrop(dragDropEvent);\n\t\t\t\tthis._cutApp = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Cancels the cut operation when clicked outside apps section or when focus moves out of apps section.\n\t * @param {MouseEvent | KeyboardEvent} event - The mouse or keyboard event triggering the reset.\n\t * @private\n\t */\n\tprivate _resetCutElement(event: MouseEvent | KeyboardEvent) {\n\t\tconst appsWrapperId = this._generateAppsWrapper().getId();\n\t\tif (!(event.target as HTMLElement).id.includes(appsWrapperId)) {\n\t\t\tthis._cutApp?.$().css(\"opacity\", \"\");\n\t\t\tthis._cutApp = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Generates illustrated message for favorite apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default title and add additional content\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noFavAppsDescription\"));\n\t\tillustratedMessage.setIllustrationSize(IllustratedMessageSize.ExtraSmall);\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.AddingColumns);\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button(`${this.getId()}-errorMessage-addApps`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addAppsTooltip\"),\n\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\tvisible: _showAddApps(),\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t},\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\tillustratedMessage.addStyleClass(\"sapUiTinyMarginTop\");\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":106,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","EventBus","Container","EventHub","__BaseAppPersPanel","__MenuItem","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseAppPersPanel","MenuItem","FrequentAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","this","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_attachUserActivityTracking","on","do","refresh","oEventBus","getInstance","subscribe","channelId","eventId","data","item","color","_applyUngroupedTileColor","loadApps","_loadApps","_this","Promise","resolve","_getFrequentVisualizations","frequentVisualizations","destroyAggregation","map","visualization","index","menuItems","_getActions","addedInFavorites","frequentApps","generateApps","setApps","reject","_this2","getServiceAsync","UserRecentsService","getFrequentActivity","frequentActivities","convertActivitiesToVisualizations","error","isAppAddedInFavorite","action","push","getKey","title","icon","press","event","_addAppToFavorites","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription"],"sources":["FrequentAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport UserRecents from \"sap/ushell/services/UserRecents\";\nimport App from \"./App\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport type { $BasePanelSettings } from \"./BasePanel\";\nimport Group from \"./Group\";\nimport { IActivity } from \"./interface/AppsInterface\";\nimport MenuItem from \"./MenuItem\";\n\n/**\n *\n * Provides the class for managing frequent apps.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.FrequentAppPanel\n */\n\nexport default class FrequentAppPanel extends BaseAppPersPanel {\n\tprivate oEventBus!: EventBus;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Frequent apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new frequent app panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"frequentApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"frequentlyUsedTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"frequentlyUsedTabInfo\"));\n\t\tthis._attachUserActivityTracking();\n\t\tEventHub.on(\"userRecentsCleared\").do(() => {\n\t\t\tvoid this.refresh();\n\t\t});\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"appsChannel\",\n\t\t\t\"favAppColorChanged\",\n\t\t\t(channelId?: string, eventId?: string, data?) => {\n\t\t\t\tconst { item, color } = data as { item: App | Group; color: string };\n\t\t\t\t//update color of the app in most used apps\n\t\t\t\tthis._applyUngroupedTileColor(item, color);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * Fetch frequent apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet frequentVisualizations = await this._getFrequentVisualizations();\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\tfrequentVisualizations = frequentVisualizations.map((visualization, index) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions(visualization.addedInFavorites, index)\n\t\t\t};\n\t\t});\n\t\t//convert apps objects array to apps instances\n\t\tconst frequentApps = this.generateApps(frequentVisualizations);\n\t\tthis.setApps(frequentApps);\n\t}\n\n\t/**\n\t * Returns list of frequent apps\n\t * @private\n\t * @returns {object[]} - Array of frequent apps.\n\t */\n\tprivate async _getFrequentVisualizations() {\n\t\ttry {\n\t\t\tconst UserRecentsService = await Container.getServiceAsync<UserRecents>(\"UserRecents\");\n\t\t\tconst frequentActivities: IActivity[] = (await UserRecentsService?.getFrequentActivity()) || [];\n\t\t\t//convert activity to apps\n\t\t\tconst frequentVisualizations = await this.convertActivitiesToVisualizations(frequentActivities);\n\t\t\treturn frequentVisualizations;\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @param {boolean} isAppAddedInFavorite - true if app is already present in favorite, false otherwise.\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(isAppAddedInFavorite: boolean = false, index?: number) {\n\t\tconst action = [];\n\t\tif (!isAppAddedInFavorite) {\n\t\t\taction.push(\n\t\t\t\tnew MenuItem(`${this.getKey()}--addToFavorites--${index}`, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\t\t\tpress: (event) => {\n\t\t\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn action;\n\t}\n\n\t/**\n\t * Generates illustrated message for frequent apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//override the default description\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noFreqAppsDescription\"));\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,2CAAA,gIAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MAhjBMG,EAAgBV,EAAAF,GAAA,MAIhBa,EAAQX,EAAAD,GAEf,MAgBqBa,EAAyBF,EAAgBG,OAAA,iCAE7CC,SAA4B,CAC3CC,QAAS,eACTC,mBAAoB,OACpBC,aAAc,CAIbC,KAAM,CAAEC,KAAM,mBAAoBC,aAAc,MAAOC,SAAU,KAAMC,WAAY,YAU9EC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,GACVE,KAAKC,aAAa,MACnB,EAEOC,KAAI,SAAAC,IACVC,sBAAAJ,MACAA,KAAKK,YAAY,MAAO,gBACxBL,KAAKK,YAAY,QAASL,KAAKM,YAAYC,QAAQ,sBACnDP,KAAKK,YAAY,UAAWL,KAAKM,YAAYC,QAAQ,0BACrDP,KAAKQ,8BACLvC,EAASwC,GAAG,sBAAsBC,GAAG,UAC/BV,KAAKW,YAGXX,KAAKY,UAAY7C,EAAS8C,cAC1Bb,KAAKY,UAAUE,UACd,cACA,qBACA,CAACC,EAAoBC,EAAkBC,KACtC,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EAExBjB,KAAKoB,yBAAyBF,EAAMC,IAErCnB,KAEF,EAMaqB,SAAQ,SAAAC,IAAA,IAAG,MAAAC,EACYvB,KAAI,OAAAwB,QAAAC,QAAJF,EAAKG,8BAA4B7C,KAAA,SAAhE8C,GACJJ,EAAKK,mBAAmB,OAAQ,MAChCD,EAAyBA,EAAuBE,IAAI,CAACC,EAAeC,KAC5D,IACHD,EACHE,UAAWT,EAAKU,YAAYH,EAAcI,iBAAkBH,MAI9D,MAAMI,EAAeZ,EAAKa,aAAaT,GACvCJ,EAAKc,QAAQF,EAAc,EAC5B,CAAC,MAAAvD,GAAA,OAAA4C,QAAAc,OAAA1D,EAAA,GAOa8C,2BAA0B,SAAAA,IAAA,IAAG,MAAAa,EAKJvC,KAAI,OAAAwB,QAAAC,QAAAjD,EAAA,WAJtC,OAAAgD,QAAAC,QAC8BzD,EAAUwE,gBAA6B,gBAAc3D,KAAA,SAAhF4D,GAAkB,OAAAjB,QAAAC,QACuBgB,GAAoBC,uBAAqB7D,KAAA,SAAlF8D,GACN,OAAAnB,QAAAC,QACqCc,EAAKK,kCAAkCD,GAAmB,IAEhG,EAAC,SAAQE,GACR/E,EAAI+E,MAAMA,GACV,MAAO,EACR,GACD,CAAC,MAAAjE,GAAA,OAAA4C,QAAAc,OAAA1D,EAAA,GAQOqD,YAAW,SAAAA,EAACa,EAAgC,MAAOf,GAC1D,MAAMgB,EAAS,GACf,IAAKD,EAAsB,CAC1BC,EAAOC,KACN,IAAIjE,EAAS,GAAGiB,KAAKiD,6BAA6BlB,IAAS,CAC1DmB,MAAOlD,KAAKM,YAAYC,QAAQ,kBAChC4C,KAAM,0BACNC,MAAQC,SACFrD,KAAKsD,mBAAmBD,MAIjC,CACA,OAAON,CACR,EAQUQ,2BAA0B,SAAAC,IACnC,MAAMC,EAAkBC,4CAAA1D,MAExByD,EAAmBE,eAAe3D,KAAKM,YAAYC,QAAQ,0BAC3D,OAAOkD,CACR,IAAC,OApHmBzE,CAAgB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":111,"column":0},"map":{"version":3,"names":["sap","ui","define","__BaseApp","_interopRequireDefault","obj","__esModule","default","BaseApp","Group","extend","metadata","library","properties","number","type","group","defaultValue","groupId","pageId","aggregations","apps","multiple","singularName","events","press","parameters","constructor","_constructor","id","settings","BaseApp.prototype.constructor.call","this","_handlePress","firePress","getGroupId","getPageId"],"sources":["Group.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseApp from \"./BaseApp\";\nimport { $GroupSettings } from \"./Group\";\n\n/**\n *\n * Class for managing apps group.\n *\n * @extends sap.cux.home.BaseApp\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.Group\n */\nexport default class Group extends BaseApp {\n\tconstructor(idOrSettings?: string | $GroupSettings);\n\tconstructor(id?: string, settings?: $GroupSettings);\n\t/**\n\t * Constructor for a new Group.\n\t *\n\t * @param {string} [id] ID for the new group, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new group\n\t */\n\tpublic constructor(id?: string, settings?: $GroupSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Number of apps, shown as folder badge\n\t\t\t */\n\t\t\tnumber: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Id of the group\n\t\t\t */\n\t\t\tgroupId: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Id of the page associated with the group.\n\t\t\t */\n\t\t\tpageId: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Groups\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", multiple: true, singularName: \"app\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fired when the control is pressed.\n\t\t\t */\n\t\t\tpress: {\n\t\t\t\tparameters: {\n\t\t\t\t\t/**\n\t\t\t\t\t * ID of the group that was pressed.\n\t\t\t\t\t */\n\t\t\t\t\tgroupId: { type: \"string\" },\n\t\t\t\t\t/**\n\t\t\t\t\t * ID of the page associated with the group that was pressed.\n\t\t\t\t\t */\n\t\t\t\t\tpageId: { type: \"string\" }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Handles the press event for a group.\n\t * Retrieves the parent of the group and shows the group detail dialog.\n\t * @private\n\t */\n\tpublic _handlePress(): void {\n\t\tthis.firePress({ groupId: this.getGroupId(), pageId: this.getPageId() });\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,gCAAA,uBAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAOJ,EAAAD,GAGd,MAeqBM,EAAcD,EAAOE,OAAA,sBAazBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,OAAQ,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIvDC,QAAS,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIxDE,OAAQ,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,KAExDG,aAAc,CAIbC,KAAM,CAAEN,KAAM,mBAAoBO,SAAU,KAAMC,aAAc,QAEjEC,OAAQ,CAIPC,MAAO,CACNC,WAAY,CAIXR,QAAS,CAAEH,KAAM,UAIjBI,OAAQ,CAAEJ,KAAM,cAvCbY,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAgDOG,aAAY,SAAAA,IAClBD,KAAKE,UAAU,CAAEhB,QAASc,KAAKG,aAAchB,OAAQa,KAAKI,aAC3D,IAAC,OA7DmB3B,CAAK","ignoreList":[],"sourceRoot":""}},{"offset":{"line":116,"column":0},"map":{"version":3,"names":["sap","ui","define","IToDoPanel"],"sources":["IToDoPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Control from \"sap/ui/core/Control\";\nimport Context from \"sap/ui/model/Context\";\nimport { RequestOptions } from \"./ToDoPanel\";\n\n/**\n * Common Interface for creating To-Do Panels displayed in the {@link sap.cux.home.ToDosContainer}.\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @interface\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.IToDoPanel\n */\nexport default interface IToDoPanel {\n\t/**\n\t * Generate a default card template for the To Do Panel.\n\t * An extended panel can have it's own template by overridding\n\t * this method and providing a custom card template.\n\t *\n\t * @public\n\t * @param {string} id The ID for the template.\n\t * @param {object} context The context required for the template.\n\t * @returns {object} The generated card template.\n\t */\n\tgenerateCardTemplate(id: string, context: Context): Control;\n\t/**\n\t * Provides custom request URLs specific to the To-Do Panel.\n\t *\n\t * @public\n\t * @param {number} cardCount - The number of cards which will be displayed in the To-Do Panel.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tgenerateRequestUrls?(cardCount: number): string[];\n\n\t/**\n\t * Handles the data received from a batch request.\n\t * This hook can be used to process the data before it is displayed.\n\t *\n\t * @public\n\t * @param {unknown[]} data - The data received from the request.\n\t * @param {RequestOptions} [options] - Optional request options.\n\t * @returns {Promise<void>} A promise that resolves when the data has been processed.\n\t */\n\tonDataReceived?(data: unknown[], options?: RequestOptions): Promise<void>;\n\n\t/**\n\t * Retrieves the text for the \"No Data\" message for the To-Do Panel.\n\t *\n\t * @public\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tgetNoDataText?(): string;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,qCAAA,kCAAAC,UAAA","ignoreList":[],"sourceRoot":""}},{"offset":{"line":121,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","CardHelper","Button","sap_m_library","MessageBox","MessageToast","VBox","__BaseSettingsPanel","__CardsPanel","__InsightsContainer","___utils_Constants","___utils_FeatureUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BackgroundDesign","_finallyRethrows","finalizer","bind","ButtonType","BaseSettingsPanel","CardsPanel","InsightsContainer","CONTENT_ADDITION_PANEL_TYPES","FEATURE_TOGGLES","FESR_IDS","isNavigationSupportedForFeature","addFESRSemanticStepName","FESR_EVENTS","InsightsAdditionPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","AI_INSIGHTS_CARDS","_i18nBundle","getText","addCardsButton","getId","text","type","Emphasized","enabled","press","onPressAddCards","PRESS","ADD_AI_CARD","addActionButton","_setupContent","attachEvent","resetAddCardInnerContent","enableAddButton","_enableAddButton","action","setEnabled","_this","_temp","Promise","resolve","_fetchAddCardDialogContent","dialogContent","wrapperVBox","items","backgroundDesign","Solid","height","addAggregation","error","message","reject","_this2","getServiceAsync","_getServiceAsync","cardHelperInstance","fetchAddCardInnerContent","event","_latestGeneratedManifest","getParameters","isValidManifest","Object","keys","length","getInsightsContainer","_getInsightsContainer","layout","getParent","getContent","find","container","isSupported","_isSupported","_this3","_temp3","isPanelSupported","removeActionButton","contentAdditionDialog","removePanel","updateActionButtons","insightsCardIntent","target","semanticObject","_temp2","undefined","AI_GENERATED_CARD","_isNavigationSupporte","_fetchCardsPanel","panel","_onPressAddCards","_this4","addContentDialog","_temp4","setBusy","_createCard","createdCardResponse","cardTitle","header","title","show","close","visible","information","styleClass","cardsPanel","refreshData","_wasThrown","_result","_resetAddCardInnerContent"],"sources":["InsightsAdditionPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport CardHelper from \"sap/insights/CardHelper\";\nimport Button from \"sap/m/Button\";\nimport { BackgroundDesign, ButtonType } from \"sap/m/library\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport { Target } from \"sap/ushell/services/Navigation\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport CardsPanel from \"./CardsPanel\";\nimport ContentAdditionDialog from \"./ContentAdditionDialog\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport { ICardHelper, ICardHelperInstance, ICardManifest } from \"./interface/CardsInterface\";\nimport { CONTENT_ADDITION_PANEL_TYPES, FEATURE_TOGGLES, FESR_IDS } from \"./utils/Constants\";\nimport { isNavigationSupportedForFeature } from \"./utils/FeatureUtils\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\n/**\n *\n * Class for Apps Addition Panel in MyHome.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.136\n * @private\n *\n * @alias sap.cux.home.InsightsAdditionPanel\n */\nexport default class InsightsAdditionPanel extends BaseSettingsPanel {\n\tprivate addCardsButton!: Button;\n\tprivate cardHelperInstance!: ICardHelperInstance;\n\tprivate isPanelSupported!: boolean;\n\tprivate _latestGeneratedManifest!: ICardManifest;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", CONTENT_ADDITION_PANEL_TYPES.AI_INSIGHTS_CARDS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsCards\"));\n\n\t\t//setup actions\n\t\tthis.addCardsButton = new Button(`${this.getId()}-add-cards-btn`, {\n\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogBtn\"),\n\t\t\ttype: ButtonType.Emphasized,\n\t\t\tenabled: false,\n\t\t\tpress: this.onPressAddCards.bind(this)\n\t\t});\n\t\taddFESRSemanticStepName(this.addCardsButton, FESR_EVENTS.PRESS, FESR_IDS.ADD_AI_CARD);\n\t\tthis.addActionButton(this.addCardsButton);\n\t\t//setup content\n\t\tvoid this._setupContent();\n\t\tthis.attachEvent(\"onDialogClose\", this.resetAddCardInnerContent.bind(this));\n\t}\n\n\t/**\n\t * Enables or disables the \"Add Cards\" button.\n\t *\n\t * @param {boolean} action - If true, the button is enabled; if false, it is disabled.\n\t */\n\tprivate enableAddButton(action: boolean) {\n\t\tthis.addCardsButton.setEnabled(action);\n\t}\n\n\t/**\n\t * It sets up the content for the \"Insights card\" dialog.\n\t * It fetches the inner dialog content for adding a card.\n\t * Adds the VBox to the panel's content aggregation.\n\t *\n\t * This also enables the \"Add\" button once content is fetched.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when setup is complete.\n\t */\n\tprivate async _setupContent(): Promise<void> {\n\t\ttry {\n\t\t\tconst dialogContent = await this._fetchAddCardDialogContent();\n\t\t\tif (dialogContent) {\n\t\t\t\tconst wrapperVBox = new VBox(`${this.getId()}-wrapperVBox`, {\n\t\t\t\t\titems: dialogContent,\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Solid,\n\t\t\t\t\theight: \"100%\"\n\t\t\t\t});\n\t\t\t\tthis.addAggregation(\"content\", wrapperVBox);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error((error as Error).message);\n\t\t}\n\t}\n\n\t/**\n\t * Fetches the dialog content for adding a new card and sets up the callback\n\t * to handle the card generation event, storing the generated manifest and enabling the add button.\n\t *\n\t * @private\n\t * @returns {Promise<Control[]>} A promise that resolves with an array of dialog content controls.\n\t */\n\tprivate async _fetchAddCardDialogContent(): Promise<Control[]> {\n\t\tthis.cardHelperInstance = await (CardHelper as ICardHelper).getServiceAsync();\n\t\treturn this.cardHelperInstance.fetchAddCardInnerContent((event) => {\n\t\t\tthis._latestGeneratedManifest = event.getParameters();\n\t\t\tconst isValidManifest = Object.keys(this._latestGeneratedManifest).length > 1;\n\t\t\tthis.enableAddButton(isValidManifest);\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the InsightsContainer instance from the parent layout.\n\t *\n\t * @private\n\t * @returns {InsightsContainer | undefined} The InsightsContainer instance or undefined if not found.\n\t */\n\tprivate getInsightsContainer(): InsightsContainer | undefined {\n\t\tconst layout = this.getParent()?.getParent() as BaseLayout;\n\t\treturn layout.getContent().find((container) => container instanceof InsightsContainer);\n\t}\n\n\t/**\n\t * Checks if the Insights Addition Panel is supported.\n\t *\n\t * @public\n\t * @async\n\t * @returns {Promise<boolean>} A promise that resolves to true if supported.\n\t */\n\tpublic async isSupported(): Promise<boolean> {\n\t\tconst insightsCardIntent: Target = {\n\t\t\ttarget: {\n\t\t\t\tsemanticObject: \"IntelligentPrompt\",\n\t\t\t\taction: \"personalize\"\n\t\t\t}\n\t\t};\n\t\tif (this.isPanelSupported === undefined) {\n\t\t\tthis.isPanelSupported = false;\n\t\t\tthis.isPanelSupported = await isNavigationSupportedForFeature(FEATURE_TOGGLES.AI_GENERATED_CARD, insightsCardIntent);\n\t\t}\n\t\t//remove panel if it's not supported\n\t\tif (!this.isPanelSupported) {\n\t\t\tthis.removeActionButton(this.addCardsButton);\n\t\t\tconst contentAdditionDialog = this.getParent() as ContentAdditionDialog;\n\t\t\tcontentAdditionDialog.removePanel(this);\n\t\t\tcontentAdditionDialog.updateActionButtons();\n\t\t}\n\t\treturn this.isPanelSupported;\n\t}\n\n\t/**\n\t * Retrieves the `CardsPanel` instance from the `InsightsContainer`.\n\t *\n\t * @private\n\t * @returns {CardsPanel | undefined} The found `CardsPanel` instance, or `undefined` if not found.\n\t */\n\tprivate _fetchCardsPanel(): CardsPanel | undefined {\n\t\treturn this.getInsightsContainer()\n\t\t\t?.getContent()\n\t\t\t.find((panel): panel is CardsPanel => panel instanceof CardsPanel);\n\t}\n\n\t/**\n\t * Handles the logic for creating and adding a new insight card to cards Panel.\n\t *\n\t * - Sets the dialog to busy while the card creation is in progress.\n\t * - It adds a new card using the latest generated manifest.\n\t * - On success, shows a message toast and closes the dialog.\n\t * - Refreshes the insights cards panel data.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the card creation flow completes.\n\t */\n\tprivate async onPressAddCards() {\n\t\tconst addContentDialog = this.getParent() as ContentAdditionDialog;\n\t\ttry {\n\t\t\taddContentDialog.setBusy(true);\n\n\t\t\tconst createdCardResponse = await this.cardHelperInstance._createCard(this._latestGeneratedManifest);\n\t\t\tconst cardTitle = createdCardResponse[\"sap.card\"]?.header?.title;\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"Card_Created\", [cardTitle]) as string);\n\t\t\taddContentDialog.close();\n\t\t\tif (!createdCardResponse?.[\"sap.insights\"]?.visible) {\n\t\t\t\tMessageBox.information(this._i18nBundle.getText(\"INT_CARD_LIMIT_MESSAGEBOX\") as string, {\n\t\t\t\t\tstyleClass: \"msgBoxAlign\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst cardsPanel = this._fetchCardsPanel();\n\t\t\tawait cardsPanel?.refreshData();\n\t\t} catch (error) {\n\t\t\tLog.error((error as Error).message);\n\t\t} finally {\n\t\t\taddContentDialog.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Resets the internal content related to card addition.\n\t * Disables the \"Add\" button.\n\t *\n\t * @private\n\t */\n\tprivate resetAddCardInnerContent() {\n\t\tthis.cardHelperInstance?.resetAddCardInnerContent();\n\t\tthis.enableAddButton(false);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":126,"column":0},"map":{"version":3,"names":["sap","ui","define","ManageCards","__BaseSettingsPanel","___utils_Constants","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","SETTINGS_PANELS_KEYS","InsightsCardsSettingsPanel","extend","constructor","prototype","apply","this","arguments","eventAttached","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","INSIGHTS_CARDS","_i18nBundle","getText","addAggregation","_getContent","attachPanelNavigated","event","cardId","getParameter","manageCardsInstance","getParent","attachAfterClose","_getPanel","renderPanel"],"sources":["InsightsCardsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ManageCards from \"sap/insights/ManageCards\";\nimport Dialog from \"sap/m/Dialog\";\nimport Control from \"sap/ui/core/Control\";\nimport BaseSettingsPanel, { BaseSettingsPanel$PanelNavigatedEvent } from \"./BaseSettingsPanel\";\nimport CardsPanel from \"./CardsPanel\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\n\ninterface IContext {\n\tcardId?: string;\n}\n\n/**\n *\n * Class for My Home Insights Cards Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.InsightsCardsSettingsPanel\n */\nexport default class InsightsCardsSettingsPanel extends BaseSettingsPanel {\n\tprivate eventAttached: boolean = false;\n\tprivate manageCardsInstance!: ManageCards;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.INSIGHTS_CARDS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsCards\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://card\");\n\t\tthis.setProperty(\"showHeader\", false);\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this._getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated((event: BaseSettingsPanel$PanelNavigatedEvent) => {\n\t\t\tconst cardId = (event.getParameter(\"context\") as IContext)?.cardId;\n\t\t\tthis.manageCardsInstance?.setProperty(\"cardId\", cardId || \"\");\n\t\t\tif (!this.eventAttached) {\n\t\t\t\tthis.eventAttached = true;\n\t\t\t\t(this.getParent() as Dialog)?.attachAfterClose(() => {\n\t\t\t\t\tvoid (this._getPanel() as CardsPanel)?.renderPanel();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Returns the content for the Insights Cards Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the Insights Cards Settings Panel content.\n\t */\n\tprivate _getContent(): Control {\n\t\tif (!this.manageCardsInstance) {\n\t\t\tthis.manageCardsInstance = new ManageCards();\n\t\t}\n\t\treturn this.manageCardsInstance;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,qDAAA,gFAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAQOG,EAAiBJ,EAAAF,GAAA,MAEfO,EAAoBN,EAAA,wBAM7B,MAaqBO,EAAmCF,EAAiBG,OAAA,2CAAAC,YAAA,SAAAA,IAAAJ,EAAAK,UAAAD,YAAAE,MAAAC,KAAAC,WAAAD,KAChEE,cAAyB,KAAK,EAQ/BC,KAAI,SAAAC,IACVC,sBAAAL,MAGAA,KAAKM,YAAY,MAAOZ,EAAqBa,gBAC7CP,KAAKM,YAAY,QAASN,KAAKQ,YAAYC,QAAQ,kBACnDT,KAAKM,YAAY,OAAQ,mBACzBN,KAAKM,YAAY,aAAc,OAG/BN,KAAKU,eAAe,UAAWV,KAAKW,eAGpCX,KAAKY,qBAAsBC,IAC1B,MAAMC,EAAUD,EAAME,aAAa,YAAyBD,OAC5Dd,KAAKgB,qBAAqBV,YAAY,SAAUQ,GAAU,IAC1D,IAAKd,KAAKE,cAAe,CACxBF,KAAKE,cAAgB,KACpBF,KAAKiB,aAAwBC,iBAAiB,UACxClB,KAAKmB,aAA4BC,eAEzC,GAEF,EAQQT,YAAW,SAAAA,IAClB,IAAKX,KAAKgB,oBAAqB,CAC9BhB,KAAKgB,oBAAsB,IAAI9B,CAChC,CACA,OAAOc,KAAKgB,mBACb,IAAC,OA7CmBrB,CAA0B","ignoreList":[],"sourceRoot":""}},{"offset":{"line":131,"column":0},"map":{"version":3,"names":["sap","ui","define","__BaseContainer","__CardsPanel","__ErrorPanel","__SpaceInsightsPanel","__TilesPanel","___utils_Device","___utils_InsightsUtils","___utils_placeholder_InsightsPlaceholder","_interopRequireDefault","obj","__esModule","default","BaseContainer","CardsPanel","cardsContainerActionButtons","cardsContainerMenuItems","ErrorPanel","SpaceInsightsPanel","TilesPanel","tilesContainerActionButtons","tilesContainerMenuItems","DeviceType","sortMenuItems","getInsightsPlaceholder","tilesPanelName","cardsPanelName","spaceInsightsPanelName","sortedMenuItems","REFRESH","ADD_APPS","EDIT_TILES","EDIT_CARDS","AI_INSIGHT_CARD","SHOW_MORE","InsightsContainer","extend","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","this","_isInitialRender","init","_init","BaseContainer.prototype.init.call","setProperty","_i18nBundle","getText","panelLoaded","loaded","undefined","count","panelContext","setTooltip","String","addCustomSetting","load","_load","aContent","getContent","forEach","oContent","getMetadata","getName","addCommonMenuItems","getContainerMenuItems","addCommonActionButtons","getContainerActionButtons","_addContainerHeader","content","panel","handleHideHeader","attachHandleHidePanel","handleHidePanel","attachHandleUnhidePanel","unhidePanelIfHidden","renderPanel","_handleHidePanel","removeContent","panelName","handlePanelLoad","panels","_getLoadedPanelNames","visibleOrPendingPanels","getVisibleOrPendingPanels","panelCount","length","_errorPanel","getId","messageTitle","messageDescription","getData","addAggregation","hiddenMenuItems","hiddenActionButtons","_hideMenuItems","_hideActionButtons","getTitle","_removeContainerHeader","getAggregation","menuItem","toggleMenuListItem","actionButton","toggleActionButton","handleAddHeader","containerMenuItems","includedInHiddenItems","some","hiddenItem","includes","containerActionButtons","updatePanelsItemCount","_updatePanelsItemCount","itemCount","isSpaceInsightsPanel","_unhidePanelIfHidden","layout","_getLayout","panelExpandedName","_getCurrentExpandedElementName","processPanelVisibility","insertContentFn","getProperty","setVisible","listener","detachOnCollapse","attachOnCollapse","insertContent","addContent","_updateHeaderElements","adjustLayout","_adjustLayout","getDeviceType","Mobile","toggleActionButtons","ADD_TILES","_addCommonMenuItems","menuItems","_sortMenuItems","_addCommonActionButtons","actionButtons","_handlePanelLoad","oVal","updateActionButton","_updateActionButton","visibility","text","getVisible","setText","_updateContainerHeader","updateMenuItem","_updateMenuItem","setTitle","Object","keys","filter","_getVisibleOrPendingPanels","removeAllAggregation","getGenericPlaceholderContent","_getGenericPlaceholderContent","refreshData","_refreshData","key","_this","values","find","getKey","Promise","resolve","then","e","reject"],"sources":["InsightsContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport type { $BaseContainerSettings } from \"./BaseContainer\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport CardsPanel, { cardsContainerActionButtons, cardsContainerMenuItems } from \"./CardsPanel\";\nimport ErrorPanel from \"./ErrorPanel\";\nimport MenuItem from \"./MenuItem\";\nimport SpaceInsightsPanel from \"./SpaceInsightsPanel\";\nimport TilesPanel, { tilesContainerActionButtons, tilesContainerMenuItems } from \"./TilesPanel\";\nimport { DeviceType } from \"./utils/Device\";\nimport { sortMenuItems } from \"./utils/InsightsUtils\";\nimport { getInsightsPlaceholder } from \"./utils/placeholder/InsightsPlaceholder\";\n\nconst tilesPanelName: string = \"sap.cux.home.TilesPanel\";\nconst cardsPanelName: string = \"sap.cux.home.CardsPanel\";\nconst spaceInsightsPanelName: string = \"sap.cux.home.SpaceInsightsPanel\";\nconst sortedMenuItems: (tilesContainerMenuItems | cardsContainerMenuItems | string)[] = [\n\ttilesContainerMenuItems.REFRESH,\n\tcardsContainerMenuItems.REFRESH,\n\ttilesContainerMenuItems.ADD_APPS,\n\ttilesContainerMenuItems.EDIT_TILES,\n\tcardsContainerMenuItems.EDIT_CARDS,\n\tcardsContainerMenuItems.AI_INSIGHT_CARD,\n\ttilesContainerMenuItems.SHOW_MORE,\n\tcardsContainerMenuItems.SHOW_MORE,\n\t\"settings\"\n];\n\ninterface IpanelLoaded {\n\t[key: string]: { loaded: boolean | undefined; count: number };\n}\n\ninterface IpanelContext {\n\t[key: string]: TilesPanel | CardsPanel;\n}\n\n/**\n *\n * Container class for managing and storing Insights Tiles and Insights Cards.\n *\n * @extends sap.cux.home.BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.InsightsContainer\n */\n\nexport default class InsightsContainer extends BaseContainer {\n\tstatic readonly renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tprivate _errorPanel!: ErrorPanel;\n\tprivate _isInitialRender: boolean = true;\n\tprivate panelLoaded!: IpanelLoaded;\n\tprivate panelContext!: IpanelContext;\n\n\tconstructor(id?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\t/**\n\t * Constructor for a new Insights container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"insights\"));\n\t\t/* As Container Level default value for enableSettings is false,\n\t\t\tthis needs to be added from container level.\n\t\t\t(default value cannot be true as News & Page Container header should be hidden)\n\t\t*/\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"orientation\", \"Vertical\");\n\t\tthis.panelLoaded = {\n\t\t\t[tilesPanelName]: { loaded: undefined, count: 0 },\n\t\t\t[cardsPanelName]: { loaded: undefined, count: 0 },\n\t\t\t[spaceInsightsPanelName]: { loaded: undefined, count: 0 }\n\t\t};\n\t\tthis.panelContext = {};\n\t\tthis.setTooltip(String(this._i18nBundle.getText(\"insights\")));\n\t\tthis.addCustomSetting(\"title\", this._i18nBundle.getText(\"insightLayoutSectionTitle\") as string);\n\t\tthis.setTooltip(String(this._i18nBundle.getText(\"insightLayoutSectionTitle\")));\n\t}\n\n\t/**\n\t * Loads the Insights section.\n\t * Overrides the load method of the BaseContainer.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic load() {\n\t\tif (this._isInitialRender) {\n\t\t\tconst aContent = this.getContent();\n\t\t\taContent.forEach((oContent) => {\n\t\t\t\tthis.panelContext[oContent.getMetadata().getName()] = oContent as TilesPanel | CardsPanel;\n\t\t\t\tthis.addCommonMenuItems((oContent as TilesPanel | CardsPanel).getContainerMenuItems?.());\n\t\t\t\tthis.addCommonActionButtons((oContent as TilesPanel | CardsPanel).getContainerActionButtons?.());\n\t\t\t});\n\n\t\t\tthis._addContainerHeader();\n\n\t\t\t// Render individual panels\n\t\t\taContent.forEach((content) => {\n\t\t\t\tconst panel = content as TilesPanel | CardsPanel;\n\t\t\t\tpanel.handleHideHeader();\n\t\t\t\tpanel.attachHandleHidePanel(() => this.handleHidePanel(panel));\n\t\t\t\tpanel.attachHandleUnhidePanel(() => this.unhidePanelIfHidden(panel));\n\t\t\t\tvoid panel.renderPanel();\n\t\t\t});\n\t\t\tthis._isInitialRender = false;\n\t\t}\n\t}\n\n\t/**\n\t * Handles the hiding of a panel by removing its content, updating the panel load status,\n\t * and managing the display of the container header and error panel.\n\t *\n\t * @param {BasePanel} panel - The panel to be hidden.\n\t * @private\n\t */\n\tpublic handleHidePanel(panel: BasePanel) {\n\t\tthis.removeContent(panel);\n\t\tconst panelName = panel.getMetadata().getName();\n\t\tthis.handlePanelLoad(panelName, { loaded: false, count: 0 });\n\t\tconst panels = this._getLoadedPanelNames() || [];\n\t\tconst visibleOrPendingPanels = this.getVisibleOrPendingPanels() || [];\n\t\tconst panelCount = panels?.length;\n\t\tthis._addContainerHeader();\n\t\t// only show error panel if all panels loaded state is false\n\t\tif (\n\t\t\tvisibleOrPendingPanels.length === 0 ||\n\t\t\t(visibleOrPendingPanels.length === 1 && visibleOrPendingPanels[0] === spaceInsightsPanelName)\n\t\t) {\n\t\t\tif (!this._errorPanel) {\n\t\t\t\tthis._errorPanel = new ErrorPanel(`${this.getId()}-errorPanel`, {\n\t\t\t\t\tmessageTitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tmessageDescription: this._i18nBundle.getText(\"noInsightsMsg\")\n\t\t\t\t});\n\t\t\t\tthis._errorPanel.getData();\n\t\t\t}\n\t\t\tthis.addAggregation(\"content\", this._errorPanel);\n\t\t} else if (panelCount === 1) {\n\t\t\tconst panel = this.getContent()[0];\n\t\t\tif (panel && !(panel instanceof ErrorPanel)) {\n\t\t\t\t(panel as TilesPanel | CardsPanel)?.handleHideHeader();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds the container header based on the number of visible panels.\n\t *\n\t * @private\n\t */\n\tprivate _addContainerHeader() {\n\t\tconst panels: string[] = this._getLoadedPanelNames();\n\t\tlet hiddenMenuItems: string[] = [];\n\t\tlet hiddenActionButtons: string[] = [];\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"insights\"));\n\t\tif (panels.length === 0 || this.getContent()[0] instanceof ErrorPanel) {\n\t\t\thiddenMenuItems = [\n\t\t\t\ttilesContainerMenuItems.REFRESH,\n\t\t\t\tcardsContainerMenuItems.REFRESH,\n\t\t\t\ttilesContainerMenuItems.SHOW_MORE,\n\t\t\t\tcardsContainerMenuItems.SHOW_MORE\n\t\t\t];\n\t\t\tthis._hideMenuItems(hiddenMenuItems);\n\t\t\thiddenActionButtons = [tilesContainerActionButtons.SHOW_MORE, cardsContainerActionButtons.SHOW_MORE];\n\t\t\tthis._hideActionButtons(hiddenActionButtons);\n\t\t} else if (panels.length === 1) {\n\t\t\tconst panelName = panels[0];\n\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insights\")} (${this.panelLoaded[panelName].count || 0})`);\n\t\t\tif (this.panelContext[panels[0]] instanceof TilesPanel) {\n\t\t\t\thiddenMenuItems = [cardsContainerMenuItems.REFRESH, cardsContainerMenuItems.SHOW_MORE];\n\t\t\t\thiddenActionButtons = [cardsContainerActionButtons.SHOW_MORE];\n\t\t\t}\n\t\t\tif (this.panelContext[panels[0]] instanceof CardsPanel) {\n\t\t\t\thiddenMenuItems = [tilesContainerMenuItems.REFRESH, tilesContainerMenuItems.SHOW_MORE];\n\t\t\t\thiddenActionButtons = [tilesContainerActionButtons.SHOW_MORE];\n\t\t\t}\n\t\t\tif (this.panelContext[panels[0]] instanceof SpaceInsightsPanel) {\n\t\t\t\tthis.setProperty(\"title\", `${this.panelContext[panels[0]].getTitle()} (${this.panelLoaded[panelName].count || 0})`);\n\t\t\t\thiddenMenuItems = [tilesContainerMenuItems.REFRESH, tilesContainerMenuItems.SHOW_MORE, \"settings\"];\n\t\t\t\thiddenActionButtons = [tilesContainerActionButtons.SHOW_MORE];\n\t\t\t}\n\t\t\tthis._hideMenuItems(hiddenMenuItems);\n\t\t\tthis._hideActionButtons(hiddenActionButtons);\n\t\t}\n\t}\n\n\t/**\n\t * Removes the container header.\n\t *\n\t * @private\n\t */\n\tprivate _removeContainerHeader() {\n\t\tthis.setProperty(\"title\", \"\");\n\t\t(this.getAggregation(\"menuItems\") as MenuItem[])?.forEach((menuItem) => this.toggleMenuListItem(menuItem, false));\n\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) => this.toggleActionButton(actionButton, false));\n\t\tconst panels = this._getLoadedPanelNames();\n\t\tpanels.forEach((panelName) => {\n\t\t\tthis.panelContext[panelName]?.handleAddHeader?.();\n\t\t});\n\t}\n\n\t/**\n\t * Hides the specified menu items.\n\t *\n\t * @private\n\t * @param {string[]} hiddenMenuItems - The IDs of the menu items to hide.\n\t */\n\tprivate _hideMenuItems(hiddenMenuItems: string[]) {\n\t\tconst containerMenuItems = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tcontainerMenuItems?.forEach((menuItem) => {\n\t\t\tconst includedInHiddenItems = hiddenMenuItems.some((hiddenItem) => menuItem.getId().includes(hiddenItem));\n\t\t\tthis.toggleMenuListItem(menuItem, !includedInHiddenItems);\n\t\t});\n\t}\n\n\t/**\n\t * Hides the specified action buttons.\n\t *\n\t * @private\n\t * @param {string[]} hiddenActionButtons - The IDs of the action buttons to hide.\n\t */\n\tprivate _hideActionButtons(hiddenActionButtons: string[]) {\n\t\tconst containerActionButtons = this.getAggregation(\"actionButtons\") as Button[];\n\t\tcontainerActionButtons?.forEach((actionButton) => {\n\t\t\tconst includedInHiddenItems = hiddenActionButtons.some((hiddenItem) => actionButton.getId().includes(hiddenItem));\n\t\t\tthis.toggleActionButton(actionButton, !includedInHiddenItems);\n\t\t});\n\t}\n\n\t/**\n\t * Updates the item count for the specified panel.\n\t *\n\t * @param {number} itemCount - The new item count.\n\t * @param {string} panelName - The name of the panel.\n\t */\n\tpublic updatePanelsItemCount(itemCount: number, panelName: string) {\n\t\tthis.panelLoaded[panelName].count = itemCount;\n\t\tconst panels = this._getLoadedPanelNames();\n\t\t// Container Title Will be displayed only in case of only one panel is present\n\t\tif (panels.length === 1) {\n\t\t\tconst isSpaceInsightsPanel = this.panelContext[panels[0]] instanceof SpaceInsightsPanel;\n\t\t\tthis.setProperty(\n\t\t\t\t\"title\",\n\t\t\t\t`${isSpaceInsightsPanel ? this.panelContext[panels[0]].getTitle() : this._i18nBundle?.getText(\"insights\")} (${itemCount || 0})`\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Unhides the specified panel if it is hidden.\n\t *\n\t * @param {TilesPanel | CardsPanel} panel - The panel to unhide.\n\t */\n\tpublic unhidePanelIfHidden(panel: TilesPanel | CardsPanel) {\n\t\tconst layout = this._getLayout();\n\t\tconst panelExpandedName = layout._getCurrentExpandedElementName();\n\n\t\tif (this._errorPanel) {\n\t\t\tthis.removeContent(this._errorPanel);\n\t\t}\n\n\t\t// Function to handle panel content insertion\n\t\tconst processPanelVisibility = (panelName: string, insertContentFn: () => void) => {\n\t\t\tif (!panelExpandedName || panelExpandedName === panel.getProperty(\"fullScreenName\")) {\n\t\t\t\t/**\n                    loaded value can be false or undefined, false being hidden and undefined being loading\n                    if the panel is hidden then only unhide it\n                */\n\t\t\t\tif (this.panelLoaded[panelName].loaded === false) {\n\t\t\t\t\tinsertContentFn();\n\t\t\t\t\t// Remove hidden class if applied\n\t\t\t\t\tpanel.setVisible(true);\n\t\t\t\t}\n\t\t\t\tthis.handlePanelLoad(panelName, { loaded: true, count: this.panelLoaded[panelName].count });\n\t\t\t} else {\n\t\t\t\tconst listener = () => {\n\t\t\t\t\tinsertContentFn();\n\t\t\t\t\t// Remove hidden class if applied\n\t\t\t\t\tpanel.setVisible(true);\n\t\t\t\t\tlayout.detachOnCollapse(listener); // Remove the listener after execution\n\t\t\t\t};\n\t\t\t\tthis.handlePanelLoad(panelName, { loaded: true, count: this.panelLoaded[panelName].count });\n\t\t\t\tlayout.attachOnCollapse(listener);\n\t\t\t}\n\t\t};\n\n\t\t// Handling TilesPanel\n\t\tif (panel instanceof TilesPanel && !this.panelLoaded[tilesPanelName].loaded) {\n\t\t\tprocessPanelVisibility(tilesPanelName, () => this.insertContent(this.panelContext[tilesPanelName], 0));\n\t\t}\n\n\t\t// Handling CardsPanel\n\t\tif (panel instanceof CardsPanel && !this.panelLoaded[cardsPanelName].loaded) {\n\t\t\tprocessPanelVisibility(cardsPanelName, () => this.addContent(this.panelContext[cardsPanelName]));\n\t\t}\n\n\t\t// Handling SpaceInsightsPanel\n\t\tif (panel instanceof SpaceInsightsPanel && !this.panelLoaded[spaceInsightsPanelName].loaded) {\n\t\t\tprocessPanelVisibility(spaceInsightsPanelName, () => this.addContent(this.panelContext[cardsPanelName]));\n\t\t}\n\t}\n\n\t/**\n\t * Updates the container header based on the number of visible panels.\n\t *\n\t * @private\n\t * @param {TilesPanel | CardsPanel} panel - The panel being managed.\n\t */\n\n\tprivate _updateHeaderElements(panel: TilesPanel | CardsPanel) {\n\t\tconst panels = this._getLoadedPanelNames();\n\t\tif (panels.length > 1) {\n\t\t\tthis._removeContainerHeader();\n\t\t} else {\n\t\t\tthis._addContainerHeader();\n\t\t\tpanel.handleHideHeader();\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout of the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\t//hide actions if the device is a phone\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\tthis.toggleActionButtons(false);\n\t\t} else {\n\t\t\tconst panels = this._getLoadedPanelNames();\n\t\t\t// Unhide the Add Tiles button if the device is not a phone and header is visible\n\t\t\tif (panels.length < 2) {\n\t\t\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) => {\n\t\t\t\t\tif (actionButton.getId().includes(tilesContainerActionButtons.ADD_TILES)) {\n\t\t\t\t\t\tthis.toggleActionButton(actionButton, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//adjust layout of all panels\n\t\t(this.getContent() as (TilesPanel | CardsPanel)[]).forEach((panel) => panel._adjustLayout?.());\n\t}\n\n\t/**\n\t * Add common Menu Items for Insights Container from Panel\n\t *\n\t * @private\n\t */\n\tpublic addCommonMenuItems(menuItems: MenuItem[] = []) {\n\t\tmenuItems.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t\t// after adding menu items sort them based on the order\n\t\tthis._sortMenuItems(sortedMenuItems);\n\t}\n\n\t/**\n\t * Add common Action Buttons for Insights Container from Panel\n\t *\n\t * @private\n\t */\n\tpublic addCommonActionButtons(actionButtons: Button[] = []) {\n\t\tactionButtons.forEach((actionButton) => this.addAggregation(\"actionButtons\", actionButton));\n\t}\n\n\t/**\n\t * Handles the loading of a panel.\n\t *\n\t * @param {string} panelName - The name of the panel.\n\t * @param {object} oVal - The load status and count of the panel.\n\t * @param {boolean} oVal.loaded - The load status of the panel.\n\t * @param {number} oVal.count - The count of items in the panel.\n\t */\n\tpublic handlePanelLoad(panelName: string, oVal: { loaded: boolean; count: number }) {\n\t\tif (this.panelLoaded[panelName].loaded !== oVal.loaded) {\n\t\t\tthis.panelLoaded[panelName] = oVal;\n\t\t\tthis._updateHeaderElements(this.panelContext[panelName]);\n\t\t}\n\t\tthis.adjustLayout();\n\t}\n\n\t/**\n\t * Updates the visibility and text of an action button.\n\t *\n\t * @param {Button} actionButton - The action button to update.\n\t * @param {boolean} visibility - The visibility of the action button.\n\t * @param {string} text - The text of the action button.\n\t */\n\tpublic updateActionButton(actionButton: Button, visibility: boolean, text: string) {\n\t\tif (actionButton?.getVisible() !== visibility || actionButton?.getText() !== text) {\n\t\t\tthis.toggleActionButton(actionButton, visibility);\n\t\t\tactionButton?.setText(text);\n\t\t\tthis._updateContainerHeader(this);\n\t\t}\n\t}\n\n\t/**\n\t * Updates the visibility and text of a menu item.\n\t *\n\t * @param {MenuItem} menuItem - The menu item to update.\n\t * @param {boolean} visibility - The visibility of the menu item.\n\t * @param {string} text - The text of the menu item.\n\t */\n\tpublic updateMenuItem(menuItem: MenuItem, visibility: boolean, text: string) {\n\t\tif (menuItem?.getVisible() !== visibility || menuItem?.getTitle() !== text) {\n\t\t\tthis.toggleMenuListItem(menuItem, visibility);\n\t\t\tmenuItem?.setTitle(text);\n\t\t\tthis._updateContainerHeader(this);\n\t\t}\n\t}\n\n\t/**\n\t * Gets the names of the loaded panels.\n\t *\n\t * @private\n\t * @returns {string[]} The names of the loaded panels.\n\t */\n\tprivate _getLoadedPanelNames() {\n\t\treturn Object.keys(this.panelLoaded).filter((panelName) => this.panelLoaded[panelName].loaded);\n\t}\n\n\t/**\n\t * Returns the names of panels that are still loading or in loaded true state\n\t *\n\t * @private\n\t * @private\n\t */\n\tprivate getVisibleOrPendingPanels() {\n\t\treturn Object.keys(this.panelLoaded).filter((panelName) => this.panelLoaded[panelName].loaded !== false);\n\t}\n\t/**\n\t * Sorts the menu items based on the provided order.\n\t *\n\t * @private\n\t * @param {string[]} menuItems - The order of the menu items.\n\t */\n\tprivate _sortMenuItems(menuItems: string[]) {\n\t\tconst containerMenuItems = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tlet sortedMenuItems = sortMenuItems(menuItems, containerMenuItems);\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tsortedMenuItems?.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t}\n\n\t/**\n\t * Retrieves the generic placeholder content for the Insights container.\n\t *\n\t * @returns {string} The HTML string representing the Insights container's placeholder content.\n\t */\n\tprotected getGenericPlaceholderContent(): string {\n\t\treturn getInsightsPlaceholder();\n\t}\n\n\t/**\n\t * Refreshes the data for a specific panel based on its key.\n\t *\n\t * @private\n\t * @param {string} key - The key of the panel to refresh.\n\t */\n\tpublic async refreshData(key: string) {\n\t\tconst panel = Object.values(this.panelContext).find((panel) => panel.getKey() === key);\n\t\tawait panel?.refreshData?.(true);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":136,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Button","Column","ColumnListItem","FlexBox","HBox","MessageBox","MessageToast","ObjectIdentifier","ScrollContainer","SearchField","Switch","Table","Text","Title","VBox","UI5Element","Icon","__BaseSettingsPanel","___TilesPanel","___utils_Accessibility","__AppManager","___utils_Constants","___utils_DragDropUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","_finallyRethrows","finalizer","bind","DisplayFormat","getInvisibleText","AppManager","MYHOME_PAGE_ID","SETTINGS_PANELS_KEYS","focusDraggedItem","InsightsTilesSettingsPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","this","_controlMap","Map","setProperty","INSIGHTS_TILES","_i18nBundle","getText","appManagerInstance","getInstance","_allInsightsApps","_wrapperId","getId","set","alignItems","justifyContent","height","width","direction","addStyleClass","addAggregation","get","_showMessageStrip","_showToolbar","_showTilesList","attachPanelNavigated","setValue","fetchInsightApps","insightsApps","setText","length","_createTableRows","oMessageStripVBox","addItem","text","_getWrapperFlexBox","titleStyle","oInvisibleTitleText","liveChange","oEvent","_onTilesSearch","ariaLabelledBy","titleContainer","toolbarContainer","items","event","sSearchQuery","getSource","getValue","toLowerCase","filteredTiles","filter","app","visualization","title","includes","_createTableWithContainer","table","columns","hAlign","invisibleDragDropText","addDragDropConfigTo","_handleTilesDrop","scrollContainer","vertical","horizontal","content","containerVBox","containerFlexBox","_this","_temp2","iDropItemIndex","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","indexOfItem","oDropItem","droppedControl","oDragItemPersConfig","data","oDropItemPersConfig","_temp","setBusy","moveConfigs","pageId","sourceSectionIndex","sectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","Promise","resolve","moveVisualization","_this$appManagerInsta","_getTilePanel","refreshData","reject","removeAllItems","forEach","filteredTile","index","_createColumnListItem","insightsApp","id","existingControl","getElementById","destroy","columnListItem","type","addCell","src","aSupportedDisplayFormats","supportedDisplayFormats","convertSwitchContainer","isCount","isSmartBusinessTile","indexOf","Standard","StandardWide","wrapping","state","displayFormatHint","change","_onConvertTilePress","customTextOn","customTextOff","tooltip","deleteBtn","icon","press","_onDeleteApp","buttonsWrapper","subtitle","persConfig","_this2","updateConfigs","oVisualizationData","updateVisualizations","show","styleClass","QUESTION","actions","Action","CANCEL","emphasizedAction","onClose","action","_handleDeleteApp","_this3","_temp4","_temp3","removeVisualizations","sectionId","vizIds","_this3$appManagerInst","err","error","_wasThrown","_result","_getPanel"],"sources":["InsightsTilesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField from \"sap/m/SearchField\";\nimport Switch from \"sap/m/Switch\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport TilesPanel, { DisplayFormat } from \"./TilesPanel\";\nimport { ICustomVisualization, IPersConfig, ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport AppManager from \"./utils/AppManager\";\nimport { MYHOME_PAGE_ID, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\n\ninterface IDragEvent {\n\tdraggedControl: ColumnListItem;\n\tdroppedControl: ColumnListItem;\n}\n\n/**\n *\n * Class for My Home Insights Tiles Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.InsightsTilesSettingsPanel\n */\nexport default class InsightsTilesSettingsPanel extends BaseSettingsPanel {\n\tprivate _wrapperId!: string;\n\tprivate _controlMap!: Map<string, Control | Element>;\n\tprivate _allInsightsApps!: ICustomVisualization[];\n\tprivate appManagerInstance!: AppManager;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.INSIGHTS_TILES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"insightsTiles\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://manager-insight\");\n\n\t\t//Fetch Data\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis._allInsightsApps = [];\n\n\t\t//setup Container & content Aggregation\n\t\tthis._wrapperId = `${this.getId()}-tilesSettingsWrapper`;\n\t\tthis._controlMap.set(\n\t\t\tthis._wrapperId,\n\t\t\tnew FlexBox(this._wrapperId, {\n\t\t\t\talignItems: \"Start\",\n\t\t\t\tjustifyContent: \"Start\",\n\t\t\t\theight: \"100%\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdirection: \"Column\"\n\t\t\t}).addStyleClass(\"flexContainerCards\")\n\t\t);\n\t\tthis.addAggregation(\"content\", this._controlMap.get(this._wrapperId) as FlexBox);\n\n\t\t//setup content for the settings panel\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showTilesList();\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\t(this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).setValue(\"\");\n\t\t\tvoid this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string).then((insightsApps) => {\n\t\t\t\tthis._allInsightsApps = insightsApps;\n\t\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t\t);\n\t\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Add the Message Strip to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this._wrapperId}--msgStripContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\toMessageStripVBox.addItem(\n\t\t\tnew Text(`${this._wrapperId}--msgStripText`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"insightAppsTabText\")\n\t\t\t})\n\t\t);\n\t\tthis._getWrapperFlexBox().addItem(oMessageStripVBox);\n\t}\n\n\t/**\n\t * Add the Header ToolBar to the wrapper FlexBox.\n\t *\n\t * @private\n\t */\n\tprivate _showToolbar() {\n\t\t// To address an accessibility issue, we adjusted the font size via a custom class (`tilesFontChange`)\n\t\t// while retaining the semantic heading level as H3 to preserve hierarchy structure.\n\t\t// This ensures the title remains visually balanced without compromising screen reader navigation.\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--title`,\n\t\t\tnew Title(`${this._wrapperId}--title`, {\n\t\t\t\ttext: `${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`,\n\t\t\t\ttitleStyle: \"H3\",\n\t\t\t\twidth: \"100%\"\n\t\t\t}).addStyleClass(\"tilesFontChange\")\n\t\t);\n\t\tconst oInvisibleTitleText = getInvisibleText(`${this.getId()}--TileTitleText`, this._i18nBundle.getText(\"insightsTiles\"));\n\t\tthis._controlMap.set(\n\t\t\t`${this._wrapperId}--searchField`,\n\t\t\tnew SearchField(`${this._wrapperId}--pagesListSearch`, {\n\t\t\t\tliveChange: (oEvent) => this._onTilesSearch(oEvent),\n\t\t\t\twidth: \"100%\",\n\t\t\t\tariaLabelledBy: [oInvisibleTitleText.getId(), this._wrapperId + \"--msgStripText\", this._wrapperId + \"--title\"]\n\t\t\t}).addStyleClass(\"sapUiTinyMarginTop\")\n\t\t);\n\n\t\tconst titleContainer = new HBox(`${this._wrapperId}--titleContainer`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\ttitleContainer.addItem(this._controlMap.get(`${this._wrapperId}--title`) as Title);\n\t\ttitleContainer.addItem(oInvisibleTitleText);\n\t\tconst toolbarContainer = new VBox(`${this._wrapperId}--toolbarContainer`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\titems: [titleContainer, this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\tthis._getWrapperFlexBox().addItem(toolbarContainer);\n\t}\n\n\t/**\n\t * Handles Search Field change\n\t * @private\n\t */\n\tprivate _onTilesSearch(event: Event) {\n\t\tconst sSearchQuery = event.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst filteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\tthis._createTableRows(filteredTiles);\n\t}\n\n\t/**\n\t * Adds Tiles List Table to Wrapper FlexBox\n\t * @private\n\t */\n\tprivate _showTilesList() {\n\t\tthis._createTableWithContainer();\n\t\tthis._createTableRows(this._allInsightsApps);\n\t}\n\n\t/**\n\t * Creates Table to Render Tiles List\n\t * @private\n\t */\n\tprivate _createTableWithContainer() {\n\t\tconst table = new Table(`${this._wrapperId}-table`, {\n\t\t\tcolumns: [\n\t\t\t\tnew Column(`${this._wrapperId}-table-dndIcon`, {\n\t\t\t\t\thAlign: \"Center\",\n\t\t\t\t\twidth: \"6%\"\n\t\t\t\t}),\n\t\t\t\tnew Column(`${this._wrapperId}-table-title`, {\n\t\t\t\t\twidth: \"94%\"\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\tconst invisibleDragDropText = getInvisibleText(`${this._wrapperId}-dndAria`, this._i18nBundle.getText(\"keyPressAriaText\"));\n\t\tthis.addDragDropConfigTo(table, (event) => void this._handleTilesDrop(event));\n\t\tthis._controlMap.set(`${this._wrapperId}-table`, table);\n\t\tconst scrollContainer = new ScrollContainer(`${this._wrapperId}-scrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tcontent: [this._controlMap.get(`${this._wrapperId}-table`) as Table]\n\t\t});\n\t\tconst containerVBox = new VBox(`${this._wrapperId}-containerVBox`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\tdirection: \"Column\",\n\t\t\titems: [invisibleDragDropText, scrollContainer]\n\t\t});\n\t\tconst containerFlexBox = new FlexBox(`${this._wrapperId}-containerFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\tdirection: \"Row\",\n\t\t\titems: [containerVBox]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin sapUiSmallMarginTop flexContainerCards\");\n\n\t\tthis._getWrapperFlexBox().addItem(containerFlexBox);\n\t}\n\n\t/**\n\t * Handles Drag Drop of Tiles\n\t * @private\n\t */\n\tprivate async _handleTilesDrop(oEvent: DropInfo$DropEvent | IDragEvent) {\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem),\n\t\t\toDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem,\n\t\t\tiDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem),\n\t\t\toDragItemPersConfig = oDragItem.data(\"persConfig\") as IPersConfig,\n\t\t\toDropItemPersConfig = oDropItem.data(\"persConfig\") as IPersConfig,\n\t\t\ttable = this._controlMap.get(`${this._wrapperId}-table`) as Table;\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\tconst moveConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: oDragItemPersConfig.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: oDragItemPersConfig.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: oDropItemPersConfig.sectionIndex as number,\n\t\t\t\ttargetVisualizationIndex: oDropItemPersConfig.visualizationIndex as number\n\t\t\t};\n\t\t\tawait this.appManagerInstance.moveVisualization(moveConfigs);\n\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\tawait this._getTilePanel().refreshData();\n\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t}\n\t\tfocusDraggedItem(table, iDropItemIndex);\n\t}\n\n\t/**\n\t * Create Table Rows\n\t * @private\n\t */\n\tprivate _createTableRows(insightsApps: ICustomVisualization[]) {\n\t\tconst table = this._controlMap.get(`${this._wrapperId}-table`) as Table;\n\t\ttable.removeAllItems();\n\t\tlet filteredTiles = insightsApps;\n\t\tconst sSearchQuery = (this._controlMap.get(`${this._wrapperId}--searchField`) as SearchField).getValue();\n\t\tif (sSearchQuery) {\n\t\t\tfilteredTiles = this._allInsightsApps.filter((app) => app.visualization?.title?.toLowerCase().includes(sSearchQuery));\n\t\t}\n\t\tfilteredTiles.forEach((filteredTile, index) => {\n\t\t\ttable.addItem(this._createColumnListItem(filteredTile, index));\n\t\t});\n\t}\n\n\t/**\n\t * Create ColumnListItem for each Insights App\n\t * @private\n\t */\n\tprivate _createColumnListItem(insightsApp: ICustomVisualization, index: number): ColumnListItem {\n\t\tconst id = `insightsTiles-${index}-listItem`;\n\t\tconst existingControl = UI5Element.getElementById(id);\n\t\tif (existingControl) {\n\t\t\texistingControl.destroy();\n\t\t}\n\t\t// Create Column List Item\n\t\tconst columnListItem = new ColumnListItem({\n\t\t\tid,\n\t\t\ttype: \"Inactive\",\n\t\t\tariaLabelledBy: [id, `${this._wrapperId}-dndAria`]\n\t\t}).addStyleClass(\"insightsListItem insightsListMargin manageSectionsTable\");\n\n\t\t// Add first cell as Drag & Drop Icon\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox(`${id}-DndHBox`, {\n\t\t\t\titems: [\n\t\t\t\t\tnew Icon(`${id}-DndIcon`, {\n\t\t\t\t\t\tsrc: \"sap-icon://BusinessSuiteInAppSymbols/icon-grip\"\n\t\t\t\t\t}).addStyleClass(\"tilesDndIcon\")\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\n\t\t//Create Convert Switch\n\t\tconst aSupportedDisplayFormats = insightsApp.visualization?.supportedDisplayFormats || \"\";\n\t\tlet convertSwitchContainer;\n\t\t// if it is not static tile and standard/standardWide display format is supported, display convert switch\n\t\tif (\n\t\t\t(insightsApp.isCount || insightsApp.isSmartBusinessTile) &&\n\t\t\taSupportedDisplayFormats.length > 1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.Standard) > -1 &&\n\t\t\taSupportedDisplayFormats.indexOf(DisplayFormat.StandardWide) > -1\n\t\t) {\n\t\t\tconvertSwitchContainer = new HBox({\n\t\t\t\tid: `${id}-convertSwitchContainer`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\titems: [\n\t\t\t\t\tnew Text({\n\t\t\t\t\t\tid: `${id}-switchAppSizeLabel`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"wide\"),\n\t\t\t\t\t\twrapping: false\n\t\t\t\t\t}),\n\t\t\t\t\tnew Switch({\n\t\t\t\t\t\tid: `${id}-convertSwitch`,\n\t\t\t\t\t\t// ariaLabelledBy=\"switchAppSizeLabel\"\n\t\t\t\t\t\tstate: insightsApp.visualization?.displayFormatHint !== DisplayFormat.Standard,\n\t\t\t\t\t\tchange: () => void this._onConvertTilePress(insightsApp),\n\t\t\t\t\t\tcustomTextOn: \" \",\n\t\t\t\t\t\tcustomTextOff: \" \",\n\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\tinsightsApp.visualization?.displayFormatHint === DisplayFormat.Standard\n\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"ConvertToWideTile\")\n\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"ConvertToTile\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tconst deleteBtn = new Button({\n\t\t\tid: `${id}-deleteAppBtn`,\n\t\t\ttype: \"Transparent\",\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: () => this._onDeleteApp(insightsApp),\n\t\t\ttooltip: this._i18nBundle.getText(\"removeFromInsights\")\n\t\t});\n\n\t\tconst buttonsWrapper = new HBox({\n\t\t\tid: `${id}-buttonsWrapper`,\n\t\t\talignItems: \"Center\"\n\t\t}).addStyleClass(\"sapUiSmallMarginEnd\");\n\n\t\tif (convertSwitchContainer) {\n\t\t\tbuttonsWrapper.addItem(convertSwitchContainer);\n\t\t}\n\t\tbuttonsWrapper.addItem(deleteBtn);\n\n\t\tcolumnListItem.addCell(\n\t\t\tnew HBox({\n\t\t\t\tid: `${id}-cell`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\titems: [\n\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\tid: `${id}-cellItem`,\n\t\t\t\t\t\ttitle: insightsApp.visualization?.title as string,\n\t\t\t\t\t\ttext: insightsApp.visualization?.subtitle as string,\n\t\t\t\t\t\ttooltip: insightsApp.visualization?.title as string\n\t\t\t\t\t}).addStyleClass(\"objectIdentifierMargin\"),\n\t\t\t\t\tbuttonsWrapper\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\t\tcolumnListItem.data(\"persConfig\", insightsApp.persConfig);\n\n\t\treturn columnListItem;\n\t}\n\n\t/**\n\t * Handles Convert Tile\n\t * @private\n\t */\n\tprivate async _onConvertTilePress(app: ICustomVisualization) {\n\t\tconst displayFormatHint = app.visualization?.displayFormatHint,\n\t\t\tupdateConfigs = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: app.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: app.persConfig?.visualizationIndex as number,\n\t\t\t\toVisualizationData: {\n\t\t\t\t\tdisplayFormatHint: displayFormatHint === DisplayFormat.Standard ? DisplayFormat.StandardWide : DisplayFormat.Standard\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\tawait this.appManagerInstance.updateVisualizations(updateConfigs);\n\t\tawait this._getTilePanel().refreshData();\n\t\tif (app.visualization) {\n\t\t\tapp.visualization.displayFormatHint = updateConfigs.oVisualizationData.displayFormatHint;\n\t\t}\n\t\tthis._getWrapperFlexBox().setBusy(false);\n\t}\n\n\t/**\n\t * Deletes Insights App\n\t * @private\n\t */\n\tprivate _onDeleteApp(app: ICustomVisualization) {\n\t\tMessageBox.show(this._i18nBundle.getText(\"remove_tile_confirmation_title\", [app.title]) as string, {\n\t\t\tid: \"removeTileConfirmation\",\n\t\t\tstyleClass: \"msgBoxWidth\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"remove\") as string,\n\t\t\tactions: [this._i18nBundle.getText(\"remove\") as string, MessageBox.Action.CANCEL],\n\t\t\temphasizedAction: this._i18nBundle.getText(\"remove\"),\n\t\t\tonClose: (action: string) => this._handleDeleteApp(action, app)\n\t\t});\n\t}\n\n\t/**\n\t * Handle Delete App Confirmation Decision\n\t * @private\n\t */\n\tprivate async _handleDeleteApp(action: string, app: ISectionAndVisualization) {\n\t\tif (action === this._i18nBundle.getText(\"remove\")) {\n\t\t\tthis._getWrapperFlexBox().setBusy(true);\n\t\t\ttry {\n\t\t\t\tawait this.appManagerInstance.removeVisualizations({\n\t\t\t\t\tsectionId: app.persConfig?.sectionId as string,\n\t\t\t\t\tvizIds: [app.visualization?.id as string]\n\t\t\t\t});\n\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"appRemovedInsights\") as string);\n\t\t\t\tthis._allInsightsApps = await this.appManagerInstance.fetchInsightApps(\n\t\t\t\t\ttrue,\n\t\t\t\t\tthis._i18nBundle.getText(\"insights\") as string\n\t\t\t\t);\n\t\t\t\t(this._controlMap.get(`${this._wrapperId}--title`) as Title).setText(\n\t\t\t\t\t`${this._i18nBundle.getText(\"insightsTilesTitle\")} (${this._allInsightsApps.length})`\n\t\t\t\t);\n\t\t\t\tthis._createTableRows(this._allInsightsApps);\n\t\t\t\tawait this._getTilePanel().refreshData();\n\t\t\t} catch (err) {\n\t\t\t\tLog.error(err as string);\n\t\t\t\tMessageToast.show(this._i18nBundle.getText(\"unableToRemoveInsightsApp\") as string);\n\t\t\t} finally {\n\t\t\t\tthis._getWrapperFlexBox().setBusy(false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns wrapper FlexBox\n\t * @private\n\t */\n\tprivate _getWrapperFlexBox(): FlexBox {\n\t\treturn this._controlMap.get(this._wrapperId) as FlexBox;\n\t}\n\n\t/**\n\t * Returns Tiles Panel\n\t * @private\n\t */\n\tprivate _getTilePanel(): TilesPanel {\n\t\treturn this._getPanel() as TilesPanel;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":141,"column":0},"map":{"version":3,"names":["sap","ui","define","Column","ColumnListItem","HBox","ObjectIdentifier","Table","ToggleButton","CustomData","Element","Icon","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","___utils_DataFormatUtils","___utils_DragDropUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","KEYUSER_SETTINGS_PANELS_KEYS","recycleId","focusDraggedItem","KeyUserLayoutSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","LAYOUT","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","layout","_getPanel","resetSections","loadSections","_getContent","layoutTable","getId","width","items","columns","addStyleClass","addDragDropConfigTo","event","onDropLayoutSettings","_loadSections","_this","Promise","resolve","_calculateSectionsState","then","orderedSections","getSections","keyUserSettingsDialog","getParent","removeAllItems","forEach","section","index","addItem","type","hasDetailsPage","completeId","cells","alignItems","src","justifyContent","title","text","tooltip","visible","icon","enabled","blocked","press","createShowHideChangeFile","pressed","ariaLabelledBy","navigateToPage","getDetailsPage","customData","key","value","e","reject","_onDropLayoutSettings","wrapper","wrapperId","dragItem","getParameter","draggedControl","dragItemIndex","indexOfItem","dropItem","droppedControl","dropItemIndex","sectionOrder","dragObject","data","dropObject","actualDragItemIndex","_getActualIndex","actualDropItemIndex","_rearrangeLayoutElements","splice","setSections","addKeyUserChanges","selectorControl","changeSpecificData","changeType","MOVE","content","movedElements","id","sourceIndex","targetIndex","source","aggregation","target","_allLayoutElements","getItems","isLayoutExpanded","getProperty","expandedElementConfig","_getCurrentExpandedElement","some","element","targetContainer","findIndex","container","_createShowHideChangeFile","oControlEvent","isCheckBoxSelected","keyUserChanges","getKeyUserChanges","UNHIDE","HIDE","oExistingChange","find","oChange","getElementById"],"sources":["KeyUserLayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport ToggleButton, { ToggleButton$PressEvent } from \"sap/m/ToggleButton\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IDragEvent, IElement } from \"./interface/LayoutInterface\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport Layout from \"./Layout\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\n\n/**\n *\n * Class for Layout Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserLayoutSettingsPanel\n */\nexport default class KeyUserLayoutSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate layoutTable!: Table;\n\tprivate orderedSections!: IElement[];\n\tprivate _allLayoutElements!: BaseContainer[];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editModeTitle\"));\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\tlayout.resetSections();\n\t\t\tvoid this.loadSections();\n\t\t});\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate getContent(): Table {\n\t\tif (!this.layoutTable) {\n\t\t\tthis.layoutTable = new Table(this.getId() + \"--idLayoutSettingsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"layoutSettingsTable sapContrastPlus sapUiSmallMarginBegin\");\n\t\t\tthis.addDragDropConfigTo(this.layoutTable, (event) => this.onDropLayoutSettings(event));\n\t\t}\n\t\treturn this.layoutTable;\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\t\tthis.orderedSections = layout.getSections() || [];\n\n\t\tconst keyUserSettingsDialog = this.getParent() as KeyUserSettingsDialog;\n\n\t\tthis.layoutTable.removeAllItems();\n\t\tthis.orderedSections.forEach((section: IElement, index: number) => {\n\t\t\tthis.layoutTable\n\t\t\t\t.addItem(\n\t\t\t\t\tnew ColumnListItem(recycleId(`${this.getId()}--layoutSettingsColumnListItem--${index}`), {\n\t\t\t\t\t\ttype: (this.getParent() as KeyUserSettingsDialog)?.hasDetailsPage?.(section.completeId) ? \"Navigation\" : \"Inactive\",\n\t\t\t\t\t\tcells: [\n\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--layoutColumnListHBox--${index}`), {\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon(recycleId(`${this.getId()}--layoutColumnListItemIcon--${index}`), {\n\t\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--layoutColumnListItemHBox--${index}`), {\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t\tnew ObjectIdentifier(recycleId(`${this.getId()}--layoutColumnListObjectIdentifier--${index}`), {\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: section.title,\n\t\t\t\t\t\t\t\t\t\t\t\ttext: section.text,\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.title\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\tnew ToggleButton(recycleId(`${this.getId()}--layoutColumnListToggleButton--${index}`), {\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip: section.visible\n\t\t\t\t\t\t\t\t\t\t\t\t\t? this._i18nBundle.getText(\"hideBtn\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t: this._i18nBundle.getText(\"showBtn\"),\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\t\t\tenabled: !section.blocked,\n\t\t\t\t\t\t\t\t\t\t\t\tpress: (event) => this.createShowHideChangeFile(event, section),\n\t\t\t\t\t\t\t\t\t\t\t\tpressed: !section.visible,\n\t\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin\")\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t],\n\t\t\t\t\t\tpress: () => keyUserSettingsDialog?.navigateToPage?.(keyUserSettingsDialog.getDetailsPage(section.completeId)),\n\t\t\t\t\t\tcustomData: new CustomData(recycleId(`${this.getId()}--custom-data--${index}`), {\n\t\t\t\t\t\t\tkey: \"sectionObject\",\n\t\t\t\t\t\t\tvalue: section\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.addStyleClass(\"insightsListItem insightsListMargin\");\n\t\t});\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate onDropLayoutSettings(event: DropInfo$DropEvent | IDragEvent) {\n\t\tconst wrapper = this._getPanel() as Layout | Control;\n\t\tconst wrapperId = wrapper.getId();\n\t\tconst dragItem = ((event as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(event as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst dragItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dragItem);\n\t\tconst dropItem = ((event as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(event as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst dropItemIndex = (dragItem.getParent() as Table)?.indexOfItem(dropItem);\n\n\t\tif (dragItemIndex !== dropItemIndex) {\n\t\t\tconst sectionOrder = this.orderedSections;\n\t\t\tconst dragObject = dragItem.data(\"sectionObject\") as IElement;\n\t\t\tconst dropObject = dropItem.data(\"sectionObject\") as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(dragItemIndex, 1);\n\t\t\tsectionOrder.splice(dropItemIndex, 0, dragObject);\n\t\t\t(wrapper as Layout).setSections(sectionOrder);\n\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: wrapper as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvoid this.loadSections();\n\t\t}\n\t\tfocusDraggedItem(this.layoutTable, dropItemIndex);\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(\n\t\t\t\t\tlayout.indexOfItem(expandedElementConfig.targetContainer),\n\t\t\t\t\t0,\n\t\t\t\t\texpandedElementConfig.targetContainer\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate createShowHideChangeFile(oControlEvent: ToggleButton$PressEvent, section: IElement): void {\n\t\tconst isCheckBoxSelected: boolean = !oControlEvent.getParameter(\"pressed\");\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst changeType = isCheckBoxSelected ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oExistingChange = keyUserChanges.find((oChange) => {\n\t\t\treturn oChange.selectorControl.getId() === section.completeId;\n\t\t});\n\n\t\t//Check if the change already exists\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.changeSpecificData.changeType = changeType;\n\t\t} else {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: Element.getElementById(section.completeId) as Control,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":146,"column":0},"map":{"version":3,"names":["sap","ui","define","List","Page","StandardListItem","VBox","Element","EventBus","__BaseSettingsPanel","___flexibility_Layoutflexibility","__KeyUserNewsSettingsPanel","__KeyUserPagesSettingsPanel","__NewsPanel","__PagePanel","___utils_Constants","___utils_DataFormatUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","CHANGE_TYPES","KeyUserNewsSettingsPanel","KeyUserPagesSettingsPanel","NewsPanel","PagePanel","KEYUSER_SETTINGS_PANELS_KEYS","recycleId","KeyUserNewsPagesSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","NEWS_PAGES","_i18nBundle","getText","_eventBus","getInstance","subscribe","channelId","eventId","data","changes","addNewsPagesChanges","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","wrapperVBox","getId","_loadSettings","associatedPanelId","getPanel","associatedPanel","getElementById","container","getParent","forEach","panel","newsPanel","addItem","getNewsSettingsList","pagePanel","getPageSettingsList","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","oEvent","newsVisibilityCheckBox","getParameter","newsFeedVisibility","getSelected","_getPanel","newsPageContainer","layout","keyUserChanges","getKeyUserChanges","existingChange","find","change","changeSpecificData","changeType","NEWS_FEED_VISIBILITY","newsSettingsPanel","removeUrlMesageStrip","addKeyUserChanges","selectorControl","content","isNewsFeedVisible","_getNewsSettingsList","newsSettingsList","selectionChange","bind","mode","standardListItem","selected","getVisible","press","navigateToNewsSettingsPage","type","getIsEndUserChange","isEndUser","title","setAssociation","undefined","setSelected","Boolean","getProperty","_getPageSettingsList","pageSettingsList","items","openPageSettingsDialog","onNavBack","_onNavBack","navContainer","back","_navigateToNewsSettingsPage","getNavContainer","newsSettingsPage","showHeader","getAggregation","backgroundDesign","showNavButton","navButtonPress","addPage","to","firePanelNavigated","_openPageSettingsDialog","pageSettingsPanel","pageSettingsDialog","open","_addNewsPagesChanges","isNewsChangesValid","_isNewsChangesValid","_this","Promise","resolve","isValidChanges","onSaveClearChanges","_onSaveClearChanges","clearKeyUserChanges","onCancelClearKeyUserChanges","_onCancelClearKeyUserChanges","clearNewsPanelChanges"],"sources":["KeyUserNewsPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Dialog from \"sap/m/Dialog\";\nimport List from \"sap/m/List\";\nimport { ListBase$SelectionChangeEvent } from \"sap/m/ListBase\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport Page from \"sap/m/Page\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, INewsFeedVisibiliyChange } from \"./interface/KeyUserInterface\";\nimport KeyUserNewsSettingsPanel from \"./KeyUserNewsSettingsPanel\";\nimport KeyUserPagesSettingsPanel from \"./KeyUserPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\n\n/**\n *\n * Class for News & Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserNewsPagesSettingsPanel\n */\nexport default class KeyUserNewsPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\tprivate wrapperVBox!: VBox;\n\tprivate newsPanel!: NewsPanel;\n\tprivate newsSettingsPanel!: KeyUserNewsSettingsPanel;\n\tprivate newsSettingsList!: List;\n\tprivate newsSettingsPage!: Page;\n\tprivate pagePanel!: PagePanel;\n\tprivate pageSettingsPanel!: KeyUserPagesSettingsPanel;\n\tprivate pageSettingsList!: List;\n\tprivate pageSettingsDialog!: Dialog;\n\tprivate _eventBus!: EventBus;\n\tprivate newsFeedVisibility!: boolean | undefined;\n\tprivate standardListItem!: StandardListItem;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.NEWS_PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editNewsPages\"));\n\n\t\t// Subscribe to event bus\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"addNewsPagesChanges\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\tconst { changes } = data as { changes: Array<IKeyUserChange> };\n\t\t\t\tthis.addNewsPagesChanges(changes);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser News Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser News Pages Settings Panel content.\n\t */\n\tprivate getContent(): VBox {\n\t\tif (!this.wrapperVBox) {\n\t\t\tthis.wrapperVBox = new VBox(`${this.getId()}-wrapperVBox`);\n\t\t}\n\t\treturn this.wrapperVBox;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tconst associatedPanelId = this.getPanel();\n\t\tconst associatedPanel = Element.getElementById(associatedPanelId) as BasePanel;\n\t\tconst container = associatedPanel?.getParent() as BaseContainer;\n\t\tcontainer.getContent()?.forEach((panel: BasePanel) => {\n\t\t\tif (panel instanceof NewsPanel) {\n\t\t\t\tthis.newsPanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getNewsSettingsList(panel));\n\t\t\t}\n\t\t\tif (panel instanceof PagePanel) {\n\t\t\t\tthis.pagePanel = panel;\n\t\t\t\tthis.wrapperVBox.addItem(this.getPageSettingsList(panel));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate newsVisibilityChangeHandler(oEvent: ListBase$SelectionChangeEvent): void {\n\t\tconst newsVisibilityCheckBox = oEvent.getParameter(\"listItem\");\n\t\tthis.newsFeedVisibility = newsVisibilityCheckBox?.getSelected();\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst existingChange = keyUserChanges.find((change) => {\n\t\t\treturn change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_VISIBILITY;\n\t\t});\n\t\tif (!this.newsFeedVisibility && this.newsSettingsPanel) {\n\t\t\tthis.newsSettingsPanel.removeUrlMesageStrip();\n\t\t}\n\t\tif (!existingChange) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_VISIBILITY,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\tisNewsFeedVisible: this.newsFeedVisibility\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ((existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible !== this.newsFeedVisibility) {\n\t\t\t(existingChange.changeSpecificData.content as INewsFeedVisibiliyChange).isNewsFeedVisible = this.newsFeedVisibility;\n\t\t}\n\t}\n\n\t/**\n\t * Returns News Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the News Settings Panel content.\n\t */\n\tprivate getNewsSettingsList(panel: NewsPanel): List {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tif (!this.newsSettingsList) {\n\t\t\tthis.newsSettingsList = new List(`${this.getId()}-news-settings-list`, {\n\t\t\t\tselectionChange: this.newsVisibilityChangeHandler.bind(this),\n\t\t\t\tmode: \"MultiSelect\"\n\t\t\t});\n\t\t\tthis.standardListItem = new StandardListItem(`${this.getId()}-newsSettingsStandardListItem`, {\n\t\t\t\tselected: newsPanel.getVisible(), // TO-DO: Integrate with keyuser data\n\t\t\t\tpress: this.navigateToNewsSettingsPage.bind(this),\n\t\t\t\ttype: newsPageContainer.getIsEndUserChange().isEndUser ? \"Inactive\" : \"Navigation\",\n\t\t\t\ttitle: this._i18nBundle.getText(\"newsFeed\")\n\t\t\t});\n\t\t\tthis.newsSettingsList.addItem(this.standardListItem);\n\t\t\tthis.newsSettingsList.setAssociation(\"panel\", panel);\n\t\t} else {\n\t\t\tif (this.newsFeedVisibility === undefined) {\n\t\t\t\tthis.standardListItem.setSelected(\n\t\t\t\t\tBoolean(newsPanel.getParent()?.getProperty(\"newsFeedVisibility\")) && Boolean(newsPanel.getProperty(\"newsAvailable\"))\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.standardListItem.setSelected(this.newsFeedVisibility);\n\t\t\t}\n\t\t}\n\t\treturn this.newsSettingsList;\n\t}\n\n\t/**\n\t * Returns Page Settings Panel to the content.\n\t *\n\t * @private\n\t * @returns {List} The control containing the Page Settings Panel content.\n\t */\n\tprivate getPageSettingsList(panel: PagePanel): List {\n\t\tif (!this.pageSettingsList) {\n\t\t\tthis.pageSettingsList = new List(`${this.getId()}-page-settings-list`, {\n\t\t\t\tmode: \"None\",\n\t\t\t\titems: [\n\t\t\t\t\tnew StandardListItem(`${this.getId()}-pageSettingsList`, {\n\t\t\t\t\t\tselected: true, // TO-DO: Integrate with keyuser data\n\t\t\t\t\t\tpress: this.openPageSettingsDialog.bind(this),\n\t\t\t\t\t\ttype: \"Navigation\",\n\t\t\t\t\t\ttitle: this._i18nBundle.getText(\"pageGroupHeader\")\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tthis.pageSettingsList.setAssociation(\"panel\", panel);\n\t\t}\n\t\treturn this.pageSettingsList;\n\t}\n\n\tprivate onNavBack(navContainer: NavContainer): void {\n\t\tnavContainer?.back();\n\t\tif (!this.standardListItem.getSelected()) {\n\t\t\tthis.newsSettingsPanel?.removeUrlMesageStrip();\n\t\t}\n\t}\n\n\t/**\n\t * Adds News Settings Page to the dialog.\n\t *\n\t * @private\n\t */\n\tprivate navigateToNewsSettingsPage(): void {\n\t\tconst navContainer = (this.getParent() as KeyUserSettingsDialog)?.getNavContainer?.();\n\t\tif (!this.newsSettingsPage) {\n\t\t\tthis.newsSettingsPanel = new KeyUserNewsSettingsPanel(recycleId(`${this.getId()}--news-settings-panel`));\n\t\t\tthis.newsSettingsPanel.setAssociation(\"panel\", this.newsPanel);\n\t\t\tthis.newsSettingsPage = new Page(`${this.getId()}-news-settings-page`, {\n\t\t\t\ttitle: this.newsSettingsPanel.getProperty(\"title\") as string,\n\t\t\t\tshowHeader: true,\n\t\t\t\tcontent: this.newsSettingsPanel.getAggregation(\"content\") as Control,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tshowNavButton: true,\n\t\t\t\tnavButtonPress: this.onNavBack.bind(this, navContainer)\n\t\t\t});\n\t\t}\n\t\tnavContainer?.addPage(this.newsSettingsPage);\n\t\tnavContainer?.to(this.newsSettingsPage);\n\t\tthis.newsSettingsPanel.firePanelNavigated();\n\t}\n\n\t/**\n\t * Opens Page Settings Dialog.\n\t *\n\t * @private\n\t */\n\tprivate openPageSettingsDialog(): void {\n\t\tif (!this.pageSettingsPanel) {\n\t\t\tthis.pageSettingsPanel = new KeyUserPagesSettingsPanel(`${this.getId()}--pages-settings-panel`);\n\t\t\tthis.pageSettingsPanel.setAssociation(\"panel\", this.pagePanel);\n\t\t\tthis.pageSettingsDialog = (this.pageSettingsPanel.getAggregation(\"content\") as Dialog[])?.[0];\n\t\t}\n\t\tthis.pageSettingsDialog?.open();\n\t\tthis.pageSettingsPanel?.firePanelNavigated();\n\t}\n\n\t/**\n\t * Handles Space Page Changes.\n\t *\n\t * @private\n\t * @param {Array<IKeyUserChange>} changes All Key User Changes.\n\t */\n\tprivate addNewsPagesChanges(changes: Array<IKeyUserChange>): void {\n\t\tchanges.forEach((change) => {\n\t\t\tthis.addKeyUserChanges(change);\n\t\t});\n\t}\n\n\tpublic async isNewsChangesValid() {\n\t\ttry {\n\t\t\treturn await this.newsSettingsPanel?.isValidChanges(this.standardListItem.getSelected());\n\t\t} catch {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic onSaveClearChanges() {\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.newsSettingsPanel?.clearKeyUserChanges();\n\t}\n\n\tpublic onCancelClearKeyUserChanges() {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tthis.newsFeedVisibility = undefined;\n\t\tthis.standardListItem?.setSelected(newsPanel.getVisible());\n\t\tthis.newsSettingsPanel?.clearNewsPanelChanges();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":151,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","Input","Label","MessageBox","MessageStrip","MessageToast","RadioButton","Toolbar","VBox","Library","EventBus","MessageType","SimpleForm","FileUploader","Container","__BaseSettingsPanel","___flexibility_Layoutflexibility","___library","___utils_Constants","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseSettingsPanel","CHANGE_TYPES","NewsType","DEFAULT_NEWS_URL","KEYUSER_SETTINGS_PANELS_KEYS","HttpHelper","Constants","NEWS_FEED_POST_API","KeyUserNewsSettingsPanel","extend","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","this","controlMap","Map","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadSettings","_eventBus","getInstance","subscribe","channelId","eventId","data","showError","showMessageStrip","Warning","validChanges","getMessageStrip","setVisible","getCurrentKeyUserChange","_getCurrentKeyUserChange","keyUserChanges","getKeyUserChanges","existingChange","find","change","changeSpecificData","changeType","NEWS_FEED_URL","content","_getContent","wrapperVBoxId","getId","wrapperVBox","set","checkNewsType","_checkNewsType","type","_getPanel","getProperty","isValidChanges","_isValidChanges","newsVisible","_this","_temp5","fileUploader","getFileUploader","keyUserChangeContent","showCustom","customNewsVisibility","Custom","showDefault","defaultNewsVisibility","Default","_temp4","getNewsFeedUploadBtn","getEnabled","error","String","setValue","customNewsFeedFileName","_temp3","getValue","Error","_temp2","getVisible","newsUrl","get","_temp","getValidURL","Promise","resolve","setURL","reject","clearNewsPanelChanges","_clearNewsPanelChanges","newsPanel","newsUrlInput","url","rssNewsVisibility","NewsUrl","setEnabled","setSelected","clearKeyUserChanges","addMessageStrip","_addMessageStrip","keyUserNewsPanelToolbarId","keyUserNewsPanelToolbar","height","messageStripWrapper","width","messageStripId","messsageStrip","showIcon","visible","addItem","addContent","handleSelectCustomNewsFeed","_handleSelectCustomNewsFeed","oEvent","getParameter","newsPageContainer","getParent","layout","addKeyUserChanges","selectorControl","oldNewsFeedUrl","oldShowCustomNewsFeed","oldCustomNewsFeedKey","oldshowDefaultNewsFeed","oldShowRssNewsFeed","newsFeedURL","showCustomNewsFeed","customNewsFeedKey","showDefaultNewsFeed","showRssNewsFeed","publish","changes","removeUrlMesageStrip","disable","date","Date","addCustomNewsFeedRadioBtn","_addCustomNewsFeedRadioBtn","customNewsFeedRadioBtnId","customNewsFeedRadioBtn","text","selected","select","bind","addStyleClass","customRadioBtn","addDefaultNewsFeedRadioBtn","_addDefaultNewsFeedRadioBtn","defaultNewsFeedRadioBtnId","defaultNewsFeedRadioBtn","handleselectDefaultNewsFeed","defaultRadioBtn","addNewsPaneLabel","_addNewsPaneLabel","newsPanelLabelId","newsPanelLabel","handleSelectRssNewsFeed","_handleSelectRssNewsFeed","addNewsUrlRadioBtn","_addNewsUrlRadioBtn","newsUrlRadioBtnId","showRss","newsUrlRadioBtn","rssRadioBtn","_handleselectDefaultNewsFeed","onNewsUrlChange","_onNewsUrlChange","keyUserContent","validUrl","_showMessageStrip","bShow","textKey","setType","setText","_getValidURL","urlString","URL","href","_removeUrlMesageStrip","onUrlLiveChange","_onUrlLiveChange","sNewValue","_getMessageStrip","addNewsURLSimpleForm","_addNewsURLSimpleForm","newsFeedURLSimpleFormId","newsInputUrl","newsFeedURLSimpleForm","newsFeedURLInputId","newsFeedURLInput","value","InputType","Url","liveChange","enabled","inputUrlField","handleFileChange","_handleFileChange","getSource","setNewsFeedEnabled","_setNewsFeedEnabled","bEnabled","newsFeedUploadBtn","_getNewsFeedUploadBtn","customNewsUploadFileUploaderButtonId","handleFileUploadError","_handleFileUploadError","iMaxFileSize","getMaximumFileSize","handleFileDialogClose","_handleFileDialogClose","event","fileName","handleNewsFeedFileUpload","_handleNewsFeedFileUpload","_this2","errorMsg","all","getUploadedFile","getServiceAsync","response","fileData","userInfo","userId","payload","changeId","now","toString","attachment","documentType","Post","oResponse","message","includes","customKey","show","oErr","_getUploadedFile","file","oFileUpload","files","reader","FileReader","onload","fileContent","base64String","window","btoa","encodeURIComponent","replace","match","p1","fromCharCode","parseInt","readAsText","readAsDataURL","_getFileUploader","customNewsUploadFileUploader","addCustomNewsUploadSimpleForm","_addCustomNewsUploadSimpleForm","customNewsUploadSimpleFormId","customNewsUploadSimpleForm","customNewsUploadVBox","customNewsUploadFileUploaderControl","name","tooltip","fileType","maximumFileSize","fileSizeExceed","sameFilenameAllowed","afterDialogClose","customNewsUploadFileUploaderButton","press","_loadSettings","removeAllItems"],"sources":["KeyUserNewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport Input, { Input$LiveChangeEvent } from \"sap/m/Input\";\nimport { InputBase$ChangeEvent } from \"sap/m/InputBase\";\nimport Label from \"sap/m/Label\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport RadioButton, { RadioButton$SelectEvent } from \"sap/m/RadioButton\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport VBox from \"sap/m/VBox\";\nimport Library from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport MessageType from \"sap/ui/core/message/MessageType\";\nimport SimpleForm from \"sap/ui/layout/form/SimpleForm\";\nimport FileUploader, { FileUploader$ChangeEvent, FileUploader$FileSizeExceedEvent } from \"sap/ui/unified/FileUploader\";\nimport Container from \"sap/ushell/Container\";\nimport UserInfo from \"sap/ushell/services/UserInfo\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel, { FileFormat } from \"./NewsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { INewsPersData } from \"./interface/KeyUserInterface\";\nimport { NewsType } from \"./library\";\nimport { DEFAULT_NEWS_URL, KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst Constants = {\n\tNEWS_FEED_POST_API: \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\" + \"insights_repo_srv/0001/\" + \"NEWS_FEED\"\n};\n\ninterface ShowError {\n\tshowError: boolean;\n\tdate: Date;\n}\n\ninterface UploadedFilePayload {\n\tchangeId: string;\n\tattachment: string | PromiseLike<string>;\n\tdocumentType?: string; // Optional\n}\n\ninterface FileMetaData {\n\ttype: string;\n\tcontent: string | PromiseLike<string>;\n}\n\n/**\n *\n * Class for News Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserNewsSettingsPanel\n */\nexport default class KeyUserNewsSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate _eventBus!: EventBus;\n\tprivate customNewsVisibility!: boolean;\n\tprivate defaultNewsVisibility!: boolean;\n\tprivate validChanges!: boolean;\n\tprivate rssNewsVisibility!: boolean;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editNewsFeed\"));\n\n\t\t// //setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"newsFeedLoadFailed\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\tif ((data as unknown as ShowError)?.showError) {\n\t\t\t\t\tthis.showMessageStrip(true, MessageType.Warning, \"invalidNewsUrl\");\n\t\t\t\t\tthis.validChanges = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.getMessageStrip().setVisible(false);\n\t\t\t\t\tthis.validChanges = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate getCurrentKeyUserChange(): INewsPersData {\n\t\tconst keyUserChanges = this.getKeyUserChanges();\n\t\tconst existingChange = keyUserChanges.find((change) => {\n\t\t\treturn change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_URL;\n\t\t});\n\t\treturn existingChange?.changeSpecificData.content as INewsPersData;\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser news Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser news Settings Panel content.\n\t */\n\tprivate getContent(): VBox {\n\t\tconst wrapperVBoxId = `${this.getId()}-wrapperVBox`;\n\t\tconst wrapperVBox = new VBox(wrapperVBoxId);\n\t\tthis.controlMap.set(wrapperVBoxId, wrapperVBox);\n\n\t\treturn wrapperVBox;\n\t}\n\n\tpublic checkNewsType(type: NewsType): boolean {\n\t\tif (this._getPanel().getProperty(\"type\") === type) return true;\n\t\treturn false;\n\t}\n\n\tpublic async isValidChanges(newsVisible: boolean) {\n\t\tthis.validChanges = true;\n\t\tconst fileUploader = this.getFileUploader();\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tconst showCustom = this.customNewsVisibility ?? !!this.checkNewsType(NewsType.Custom);\n\t\tconst showDefault = this.defaultNewsVisibility ?? !!this.checkNewsType(NewsType.Default);\n\t\tif (this.getNewsFeedUploadBtn().getEnabled()) {\n\t\t\tif (showCustom) {\n\t\t\t\tMessageBox.error(String(this._i18nBundle.getText(\"newsFeedSaveUploadChanges\")));\n\t\t\t\tthis.validChanges = false;\n\t\t\t} else {\n\t\t\t\tif (fileUploader) {\n\t\t\t\t\tfileUploader.setValue(\n\t\t\t\t\t\tkeyUserChangeContent.customNewsFeedFileName || String(this._getPanel().getProperty(\"customFileName\"))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (showCustom && fileUploader.getValue() === \"\" && newsVisible) {\n\t\t\tthis.showMessageStrip(true, MessageType.Error, \"noNewsFileError\");\n\t\t\tthis.validChanges = false;\n\t\t} else if (!showCustom && !showDefault && newsVisible && !this.getMessageStrip().getVisible()) {\n\t\t\tconst newsUrl = (this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).getValue();\n\t\t\tif (!this.getValidURL(newsUrl)) {\n\t\t\t\tthis.showMessageStrip(true, MessageType.Error, \"invalidNewsUrl\");\n\t\t\t\tthis.validChanges = false;\n\t\t\t} else {\n\t\t\t\tawait (this._getPanel() as NewsPanel).setURL(String(newsUrl));\n\t\t\t}\n\t\t}\n\t\treturn this.validChanges;\n\t}\n\n\tpublic clearNewsPanelChanges() {\n\t\tconst newsPanel = this._getPanel();\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tconst newsUrlInput = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\t\tconst url = String(newsPanel.getProperty(\"url\"));\n\t\tnewsUrlInput.setValue(url !== DEFAULT_NEWS_URL ? url : \"\");\n\t\tthis.customNewsVisibility = this.checkNewsType(NewsType.Custom);\n\t\tthis.defaultNewsVisibility = this.checkNewsType(NewsType.Default);\n\t\tthis.rssNewsVisibility = this.checkNewsType(NewsType.NewsUrl);\n\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(this.rssNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-customNewsFeedRadioBtn`) as RadioButton).setSelected(this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-defaultNewsFeedRadioBtn`) as RadioButton).setSelected(this.defaultNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsUrlRadioBtn`) as RadioButton).setSelected(this.rssNewsVisibility);\n\t\tthis.getFileUploader().setValue(String(newsPanel.getProperty(\"customFileName\")));\n\t\tthis.clearKeyUserChanges();\n\t}\n\n\tprivate addMessageStrip(wrapperVBox: VBox): void {\n\t\tconst keyUserNewsPanelToolbarId = `${this.getId()}-keyUserNewsPanelToolbar`;\n\t\tif (!this.controlMap.get(keyUserNewsPanelToolbarId)) {\n\t\t\tconst keyUserNewsPanelToolbar = new Toolbar(keyUserNewsPanelToolbarId, { height: \"auto\" });\n\t\t\tconst messageStripWrapper = new VBox(`${this.getId()}-messageStripWrapper`, { width: \"100%\" });\n\t\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\t\tconst messsageStrip = new MessageStrip(messageStripId, {\n\t\t\t\tshowIcon: true,\n\t\t\t\tvisible: false\n\t\t\t});\n\t\t\tthis.controlMap.set(messageStripId, messsageStrip);\n\t\t\tmessageStripWrapper.addItem(messsageStrip);\n\t\t\tkeyUserNewsPanelToolbar.addContent(messageStripWrapper);\n\t\t\tthis.controlMap.set(keyUserNewsPanelToolbarId, keyUserNewsPanelToolbar);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(keyUserNewsPanelToolbarId) as Toolbar);\n\t}\n\n\tprivate handleSelectCustomNewsFeed(oEvent: RadioButton$SelectEvent): void {\n\t\tthis.customNewsVisibility = oEvent.getParameter(\"selected\") as boolean;\n\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(this.customNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(!this.customNewsVisibility);\n\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tif (!keyUserChangeContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\n\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\tshowCustomNewsFeed: this.customNewsVisibility,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\t\t\tshowDefaultNewsFeed: false,\n\t\t\t\t\t\tshowRssNewsFeed: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserChangeContent.showCustomNewsFeed !== this.customNewsVisibility) {\n\t\t\tkeyUserChangeContent.showCustomNewsFeed = this.customNewsVisibility;\n\t\t}\n\t\tthis.removeUrlMesageStrip();\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t}\n\n\t/**\n\t * Add Radio Button for Custom News Feed.\n\t *\n\t * @private\n\t */\n\tprivate addCustomNewsFeedRadioBtn(wrapperVBox: VBox): void {\n\t\tconst customNewsFeedRadioBtnId = `${this.getId()}-customNewsFeedRadioBtn`;\n\t\tconst showCustom = this.checkNewsType(NewsType.Custom);\n\n\t\tif (!this.controlMap.get(customNewsFeedRadioBtnId)) {\n\t\t\tconst customNewsFeedRadioBtn = new RadioButton(`${this.getId()}-customNewsFeedRadioBtn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"selectCustomNewsFeed\"),\n\t\t\t\tselected: showCustom,\n\t\t\t\tselect: this.handleSelectCustomNewsFeed.bind(this)\n\t\t\t}).addStyleClass(\"sapUiTinyMargin\");\n\t\t\tthis.controlMap.set(customNewsFeedRadioBtnId, customNewsFeedRadioBtn);\n\t\t} else if (!this.getCurrentKeyUserChange()) {\n\t\t\tlet customRadioBtn = this.controlMap.get(`${this.getId()}-customNewsFeedRadioBtn`) as RadioButton;\n\t\t\tcustomRadioBtn.setSelected(showCustom);\n\t\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(showCustom);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(customNewsFeedRadioBtnId) as RadioButton);\n\t}\n\n\t/**\n\t * Add Radio Button for Manage News Feed.\n\t *\n\t * @private\n\t */\n\tprivate addDefaultNewsFeedRadioBtn(wrapperVBox: VBox): void {\n\t\tconst defaultNewsFeedRadioBtnId = `${this.getId()}-defaultNewsFeedRadioBtn`;\n\t\tconst showDefault = this.checkNewsType(NewsType.Default);\n\n\t\tif (!this.controlMap.get(defaultNewsFeedRadioBtnId)) {\n\t\t\tconst defaultNewsFeedRadioBtn = new RadioButton(`${this.getId()}-defaultNewsFeedRadioBtn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"selectDefaultNewsFeed\"),\n\t\t\t\tselected: showDefault,\n\t\t\t\tselect: this.handleselectDefaultNewsFeed.bind(this)\n\t\t\t}).addStyleClass(\"sapUiTinyMargin\");\n\t\t\tthis.controlMap.set(defaultNewsFeedRadioBtnId, defaultNewsFeedRadioBtn);\n\t\t} else if (!this.getCurrentKeyUserChange()) {\n\t\t\tlet defaultRadioBtn = this.controlMap.get(`${this.getId()}-defaultNewsFeedRadioBtn`) as RadioButton;\n\t\t\tdefaultRadioBtn.setSelected(showDefault);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(defaultNewsFeedRadioBtnId) as RadioButton);\n\t}\n\n\tprivate addNewsPaneLabel(wrapperVBox: VBox): void {\n\t\tconst newsPanelLabelId = `${this.getId()}-newsPanelLabel`;\n\t\tif (!this.controlMap.get(newsPanelLabelId)) {\n\t\t\tconst newsPanelLabel = new Label(newsPanelLabelId, {\n\t\t\t\ttext: this._i18nBundle.getText(\"newsFeedOptionLabel\")\n\t\t\t}).addStyleClass(\"sapUiTinyMargin\");\n\t\t\tthis.controlMap.set(newsPanelLabelId, newsPanelLabel);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(newsPanelLabelId) as Label);\n\t}\n\n\tprivate handleSelectRssNewsFeed(oEvent: RadioButton$SelectEvent): void {\n\t\tthis.rssNewsVisibility = oEvent.getParameter(\"selected\") as boolean;\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(!this.rssNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(this.rssNewsVisibility);\n\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tif (!keyUserChangeContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\tshowCustomNewsFeed: false,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\t\t\tshowDefaultNewsFeed: false,\n\t\t\t\t\t\tshowRssNewsFeed: this.rssNewsVisibility\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserChangeContent.showRssNewsFeed !== this.rssNewsVisibility) {\n\t\t\tkeyUserChangeContent.showRssNewsFeed = this.rssNewsVisibility;\n\t\t}\n\t\tthis.removeUrlMesageStrip();\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t}\n\n\tprivate addNewsUrlRadioBtn(wrapperVBox: VBox): void {\n\t\tconst newsUrlRadioBtnId = `${this.getId()}-newsUrlRadioBtn`;\n\t\tconst showRss = this.checkNewsType(NewsType.NewsUrl);\n\t\tif (!this.controlMap.get(newsUrlRadioBtnId)) {\n\t\t\tconst newsUrlRadioBtn = new RadioButton(`${this.getId()}-newsUrlRadioBtn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"selectNewsFeedUrl\"),\n\t\t\t\tselected: showRss,\n\t\t\t\tselect: this.handleSelectRssNewsFeed.bind(this)\n\t\t\t}).addStyleClass(\"sapUiTinyMargin\");\n\t\t\tthis.controlMap.set(newsUrlRadioBtnId, newsUrlRadioBtn);\n\t\t} else if (!this.getCurrentKeyUserChange()) {\n\t\t\tlet rssRadioBtn = this.controlMap.get(`${this.getId()}-newsUrlRadioBtn`) as RadioButton;\n\t\t\trssRadioBtn.setSelected(showRss);\n\t\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(showRss);\n\t\t}\n\n\t\twrapperVBox.addItem(this.controlMap.get(newsUrlRadioBtnId) as RadioButton);\n\t}\n\n\t/**\n\t * Handle the selection of the Manage News Feed Radio Button.\n\t *\n\t * @private\n\t */\n\tprivate handleselectDefaultNewsFeed(oEvent: RadioButton$SelectEvent): void {\n\t\tthis.defaultNewsVisibility = oEvent.getParameter(\"selected\") as boolean;\n\n\t\t(this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`) as FileUploader).setEnabled(!this.defaultNewsVisibility);\n\t\t(this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input).setEnabled(!this.defaultNewsVisibility);\n\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\tconst newsUrlInput = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\n\t\tif (!keyUserChangeContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\n\t\t\t\t\t\tnewsFeedURL: String(newsUrlInput.getValue()),\n\t\t\t\t\t\tshowCustomNewsFeed: false,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\t\t\tshowDefaultNewsFeed: this.defaultNewsVisibility,\n\t\t\t\t\t\tshowRssNewsFeed: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserChangeContent.showDefaultNewsFeed !== this.defaultNewsVisibility) {\n\t\t\tkeyUserChangeContent.showDefaultNewsFeed = this.defaultNewsVisibility;\n\t\t\tkeyUserChangeContent.showCustomNewsFeed = false;\n\t\t}\n\t\tthis.removeUrlMesageStrip();\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t}\n\tprivate onNewsUrlChange(oEvent: InputBase$ChangeEvent): void {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\tlet newsUrl = oEvent.getParameter(\"value\");\n\t\tconst keyUserContent = this.getCurrentKeyUserChange();\n\t\tconst validUrl = this.getValidURL(String(newsUrl));\n\t\tif (!validUrl) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tnewsUrl = validUrl;\n\t\t}\n\t\tif (!keyUserContent) {\n\t\t\tthis.addKeyUserChanges({\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\n\t\t\t\t\t\tnewsFeedURL: newsUrl,\n\t\t\t\t\t\tshowCustomNewsFeed: false,\n\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\t\t\tshowDefaultNewsFeed: false,\n\t\t\t\t\t\tshowRssNewsFeed: this.rssNewsVisibility\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t} else if (keyUserContent.newsFeedURL !== newsUrl) {\n\t\t\tkeyUserContent.newsFeedURL = newsUrl;\n\t\t\tkeyUserContent.showCustomNewsFeed = false;\n\t\t\tkeyUserContent.showDefaultNewsFeed = false;\n\t\t}\n\t}\n\n\tprivate showMessageStrip(bShow: boolean, type: MessageType, textKey: string): void {\n\t\tthis.getMessageStrip().setType(type);\n\t\tthis.getMessageStrip().setVisible(bShow);\n\t\tthis.getMessageStrip().setText(String(this._i18nBundle.getText(textKey)));\n\t\tif (type === MessageType.Error) {\n\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: bShow, date: new Date() });\n\t\t}\n\t}\n\n\tprivate getValidURL(urlString: string): string {\n\t\ttry {\n\t\t\tconst url = new URL(urlString);\n\t\t\treturn url.href;\n\t\t} catch {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\tpublic removeUrlMesageStrip() {\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tconst newsUrlInput = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\t\tif (!this.getValidURL(newsUrlInput.getValue())) {\n\t\t\tnewsUrlInput.setValue(\"\");\n\t\t}\n\t}\n\n\tprivate onUrlLiveChange(oEvent: Input$LiveChangeEvent) {\n\t\tconst sNewValue = oEvent.getParameter(\"value\") || \"\";\n\t\tthis.showMessageStrip(!this.getValidURL(sNewValue), MessageType.Error, \"invalidNewsUrl\");\n\t}\n\n\tprivate getMessageStrip(): MessageStrip {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\treturn this.controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Add SimpleForm for News URL.\n\t *\n\t * @private\n\t */\n\tprivate addNewsURLSimpleForm(wrapperVBox: VBox): void {\n\t\tconst newsFeedURLSimpleFormId = `${this.getId()}-newsFeedURLSimpleForm`;\n\t\tconst showRss = this.checkNewsType(NewsType.NewsUrl);\n\n\t\tconst newsInputUrl = String(this._getPanel().getProperty(\"url\"));\n\t\tif (!this.controlMap.get(newsFeedURLSimpleFormId)) {\n\t\t\tconst newsFeedURLSimpleForm = new SimpleForm(`${this.getId()}-newsFeedURLSimpleForm`).addStyleClass(\n\t\t\t\t\"sapContrastPlus formCustomPadding\"\n\t\t\t);\n\t\t\tconst newsFeedURLInputId = `${this.getId()}-newsFeedURLInput`;\n\t\t\tconst newsFeedURLInput = new Input(newsFeedURLInputId, {\n\t\t\t\tvalue: newsInputUrl !== DEFAULT_NEWS_URL ? newsInputUrl : \"\",\n\t\t\t\ttype: Library.InputType.Url,\n\t\t\t\tchange: this.onNewsUrlChange.bind(this),\n\t\t\t\tliveChange: this.onUrlLiveChange.bind(this),\n\t\t\t\tenabled: showRss\n\t\t\t});\n\t\t\tthis.controlMap.set(newsFeedURLInputId, newsFeedURLInput);\n\t\t\tnewsFeedURLSimpleForm.addContent(newsFeedURLInput);\n\t\t\tthis.controlMap.set(newsFeedURLSimpleFormId, newsFeedURLSimpleForm);\n\t\t} else if (this.getCurrentKeyUserChange()) {\n\t\t\tlet inputUrlField = this.controlMap.get(`${this.getId()}-newsFeedURLInput`) as Input;\n\t\t\tinputUrlField.setValue(newsInputUrl);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(newsFeedURLSimpleFormId) as SimpleForm);\n\t}\n\n\tprivate handleFileChange(oEvent: FileUploader$ChangeEvent): void {\n\t\tconst fileUploader = oEvent.getSource();\n\t\tthis.getMessageStrip().setVisible(false);\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"disabledSaveBtn\", { disable: false, date: new Date() });\n\t\tthis.setNewsFeedEnabled(fileUploader.getValue() !== \"\");\n\t}\n\n\tprivate setNewsFeedEnabled(bEnabled: boolean): void {\n\t\tconst newsFeedUploadBtn = this.getNewsFeedUploadBtn();\n\t\tif (newsFeedUploadBtn) {\n\t\t\tnewsFeedUploadBtn.setEnabled(bEnabled);\n\t\t}\n\t}\n\n\tprivate getNewsFeedUploadBtn(): Button {\n\t\tconst customNewsUploadFileUploaderButtonId = `${this.getId()}-customNewsUploadFileUploaderButton`;\n\t\treturn this.controlMap.get(customNewsUploadFileUploaderButtonId) as Button;\n\t}\n\n\tprivate handleFileUploadError(oEvent: FileUploader$FileSizeExceedEvent): void {\n\t\tconst fileUploader = oEvent.getSource();\n\t\tconst iMaxFileSize = fileUploader.getMaximumFileSize();\n\t\tthis.setNewsFeedEnabled(false);\n\t\tMessageBox.error(String(this._i18nBundle.getText(\"newsFeedMaxFileSizeError\", [iMaxFileSize])));\n\t}\n\n\thandleFileDialogClose(event: Event): void {\n\t\tconst fileUploader = event.getSource<FileUploader>();\n\t\tlet fileName = fileUploader.getValue();\n\t\t// if file selection dialog is closed and no file is selected, set value as last uploaded file\n\n\t\tif (fileName === \"\") {\n\t\t\tfileName = this.getCurrentKeyUserChange()?.customNewsFeedFileName || String(this._getPanel().getProperty(\"customFileName\"));\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t}\n\t\tfileUploader.setValue(fileName);\n\t}\n\n\tprivate async handleNewsFeedFileUpload(): Promise<void> {\n\t\tlet errorMsg = this._i18nBundle.getText(\"newsFeedFileUploadError\");\n\t\ttry {\n\t\t\tconst response = await Promise.all([this.getUploadedFile(), Container.getServiceAsync<UserInfo>(\"UserInfo\")]);\n\t\t\tconst fileData = response[0];\n\t\t\tconst userInfo = response[1];\n\t\t\tconst userId = userInfo && userInfo.getId();\n\t\t\tconst payload: UploadedFilePayload = { changeId: userId + \"_\" + Date.now().toString(), attachment: fileData.content };\n\n\t\t\t//pass documentType if file is in csv format\n\t\t\t//if documentType is not passed by default document type is considered as excel.\n\t\t\tif (fileData.type) {\n\t\t\t\tpayload.documentType = fileData.type;\n\t\t\t}\n\t\t\tconst oResponse = await HttpHelper.Post(Constants.NEWS_FEED_POST_API, payload);\n\t\t\tconst keyUserChangeContent = this.getCurrentKeyUserChange();\n\t\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\t\tconst newsPageContainer = newsPanel.getParent() as NewsAndPagesContainer;\n\t\t\tconst layout = newsPageContainer.getParent() as BaseLayout;\n\t\t\tif (oResponse && (oResponse as { error: { message: string } }).error) {\n\t\t\t\tthis.getFileUploader().setValue(\"\");\n\t\t\t\tif (keyUserChangeContent) {\n\t\t\t\t\tkeyUserChangeContent.customNewsFeedFileName = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.addKeyUserChanges({\n\t\t\t\t\t\tselectorControl: layout,\n\t\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\n\t\t\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\t\tshowCustomNewsFeed: true,\n\t\t\t\t\t\t\t\tcustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\t\tcustomNewsFeedFileName: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\t\t\t\t\tshowDefaultNewsFeed: false,\n\t\t\t\t\t\t\t\tshowRssNewsFeed: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\terrorMsg = (oResponse as { error: { message: string } }).error.message.includes(\"NODATA\")\n\t\t\t\t\t? this._i18nBundle.getText(\"newsFeedEmptyFileError\")\n\t\t\t\t\t: errorMsg;\n\t\t\t\tthrow new Error(errorMsg);\n\t\t\t}\n\t\t\tconst customKey = (oResponse as { changeId: string }).changeId;\n\t\t\tif (keyUserChangeContent) {\n\t\t\t\tkeyUserChangeContent.customNewsFeedKey = customKey;\n\t\t\t\tkeyUserChangeContent.customNewsFeedFileName = this.getFileUploader().getValue();\n\t\t\t} else {\n\t\t\t\tthis.addKeyUserChanges({\n\t\t\t\t\tselectorControl: layout,\n\t\t\t\t\tchangeSpecificData: {\n\t\t\t\t\t\tchangeType: CHANGE_TYPES.NEWS_FEED_URL,\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\toldNewsFeedUrl: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\toldShowCustomNewsFeed: this.checkNewsType(NewsType.Custom),\n\t\t\t\t\t\t\toldCustomNewsFeedKey: String(this._getPanel().getProperty(\"customFeedKey\")),\n\t\t\t\t\t\t\toldshowDefaultNewsFeed: this.checkNewsType(NewsType.Default),\n\t\t\t\t\t\t\toldShowRssNewsFeed: this.checkNewsType(NewsType.NewsUrl),\n\t\t\t\t\t\t\tnewsFeedURL: String(this._getPanel().getProperty(\"url\")),\n\t\t\t\t\t\t\tshowCustomNewsFeed: true,\n\t\t\t\t\t\t\tcustomNewsFeedKey: customKey,\n\t\t\t\t\t\t\tcustomNewsFeedFileName: this.getFileUploader().getValue(),\n\t\t\t\t\t\t\tshowDefaultNewsFeed: false,\n\t\t\t\t\t\t\tshowRssNewsFeed: false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\t\t\t}\n\t\t\tMessageToast.show(String(this._i18nBundle.getText(\"customNewsFeedUploaded\")));\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t} catch (oErr) {\n\t\t\tMessageBox.error((oErr as { message: string }).message);\n\t\t\tthis.setNewsFeedEnabled(false);\n\t\t}\n\t}\n\n\tprivate getUploadedFile(): Promise<FileMetaData> {\n\t\treturn new Promise<FileMetaData>((resolve, reject) => {\n\t\t\tconst fileUploader = this.getFileUploader();\n\t\t\tlet errorMsg = this._i18nBundle.getText(\"newsFeedFileUploadError\");\n\t\t\tif (fileUploader && !fileUploader.getValue()) {\n\t\t\t\terrorMsg = this._i18nBundle.getText(\"noNewsFileError\");\n\t\t\t\treject(new Error(errorMsg));\n\t\t\t}\n\n\t\t\tconst file = fileUploader.oFileUpload.files[0];\n\t\t\tconst reader = new FileReader();\n\n\t\t\treader.onload = function () {\n\t\t\t\ttry {\n\t\t\t\t\tconst fileContent = reader.result as string;\n\t\t\t\t\tlet base64String;\n\t\t\t\t\tconst fileData: FileMetaData = { type: \"\", content: \"\" };\n\t\t\t\t\tif (file.type === \"text/csv\") {\n\t\t\t\t\t\tbase64String = window.btoa(\n\t\t\t\t\t\t\tencodeURIComponent(String(fileContent)).replace(/%([0-9A-F]{2})/g, function (match, p1: string) {\n\t\t\t\t\t\t\t\treturn String.fromCharCode(parseInt(p1, 16));\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t\tfileData.type = \"CSV\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbase64String = fileContent.replace(\"data:\", \"\").replace(/^.+,/, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tfileData.content = base64String;\n\t\t\t\t\tresolve(fileData);\n\t\t\t\t} catch {\n\t\t\t\t\treject(new Error(errorMsg));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (file.type === \"text/csv\") {\n\t\t\t\treader.readAsText(file);\n\t\t\t} else {\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getFileUploader(): FileUploader {\n\t\tconst customNewsUploadFileUploader = `${this.getId()}-customNewsUploadFileUploader`;\n\t\treturn this.controlMap.get(customNewsUploadFileUploader) as FileUploader;\n\t}\n\n\t/**\n\t * Add SimpleForm for Custom News Upload Form.\n\t *\n\t * @private\n\t */\n\tprivate addCustomNewsUploadSimpleForm(wrapperVBox: VBox): void {\n\t\tconst customNewsUploadSimpleFormId = `${this.getId()}-customNewsUploadSimpleForm`;\n\t\tif (!this.controlMap.get(customNewsUploadSimpleFormId)) {\n\t\t\tconst customNewsUploadSimpleForm = new SimpleForm(`${this.getId()}-customNewsUploadSimpleForm`).addStyleClass(\n\t\t\t\t\"sapContrastPlus formCustomPadding\"\n\t\t\t);\n\t\t\tconst customNewsUploadVBox = new VBox(`${this.getId()}-customNewsUploadVBox`);\n\t\t\tconst customNewsUploadFileUploader = `${this.getId()}-customNewsUploadFileUploader`;\n\t\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\t\tconst customNewsUploadFileUploaderControl = new FileUploader(customNewsUploadFileUploader, {\n\t\t\t\tname: \"newsFeedFileUploader\",\n\t\t\t\ttooltip: this._i18nBundle.getText(\"uploadNewsFeedFile\"),\n\t\t\t\tfileType: newsPanel?.getProperty(\"supportedFileFormats\") as FileFormat[],\n\t\t\t\twidth: \"100%\",\n\t\t\t\tchange: this.handleFileChange.bind(this),\n\t\t\t\tmaximumFileSize: 25,\n\t\t\t\tfileSizeExceed: this.handleFileUploadError.bind(this),\n\t\t\t\tsameFilenameAllowed: true,\n\t\t\t\tafterDialogClose: this.handleFileDialogClose.bind(this),\n\t\t\t\tvalue: String(this._getPanel().getProperty(\"customFileName\")),\n\t\t\t\tenabled: this.checkNewsType(NewsType.Custom)\n\t\t\t});\n\t\t\tthis.controlMap.set(customNewsUploadFileUploader, customNewsUploadFileUploaderControl);\n\t\t\tconst customNewsUploadFileUploaderButtonId = `${this.getId()}-customNewsUploadFileUploaderButton`;\n\t\t\tconst customNewsUploadFileUploaderButton = new Button(customNewsUploadFileUploaderButtonId, {\n\t\t\t\ttext: this._i18nBundle.getText(\"uploadNewsFeedBtn\"),\n\t\t\t\tpress: this.handleNewsFeedFileUpload.bind(this),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tenabled: false\n\t\t\t});\n\t\t\tthis.controlMap.set(customNewsUploadFileUploaderButtonId, customNewsUploadFileUploaderButton);\n\t\t\tcustomNewsUploadVBox.addItem(customNewsUploadFileUploaderControl);\n\t\t\tcustomNewsUploadVBox.addItem(customNewsUploadFileUploaderButton);\n\t\t\tcustomNewsUploadSimpleForm.addContent(customNewsUploadVBox);\n\t\t\tthis.controlMap.set(customNewsUploadSimpleFormId, customNewsUploadSimpleForm);\n\t\t}\n\t\twrapperVBox.addItem(this.controlMap.get(customNewsUploadSimpleFormId) as SimpleForm);\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tconst wrapperVBoxId = `${this.getId()}-wrapperVBox`;\n\t\tconst wrapperVBox = this.controlMap.get(wrapperVBoxId) as VBox;\n\t\twrapperVBox.removeAllItems();\n\t\tthis.addMessageStrip(wrapperVBox);\n\t\tthis.addNewsPaneLabel(wrapperVBox);\n\t\tthis.addDefaultNewsFeedRadioBtn(wrapperVBox);\n\t\tthis.addNewsUrlRadioBtn(wrapperVBox);\n\t\tthis.addNewsURLSimpleForm(wrapperVBox);\n\t\tthis.addCustomNewsFeedRadioBtn(wrapperVBox);\n\t\tthis.addCustomNewsUploadSimpleForm(wrapperVBox);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":156,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","ColorPalette","Dialog","FlexBox","FlexItemData","HBox","Label","List","ScrollContainer","SearchField","StandardListItem","Switch","Text","Title","VBox","EventBus","Icon","Parameters","Filter","FilterOperator","JSONModel","Column","TreeTable","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","___utils_IconList","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","DEFAULT_BG_COLOR","END_USER_COLORS","FALLBACK_ICON","KEYUSER_SETTINGS_PANELS_KEYS","ICONS","PageManager","PersonalisationUtils","KeyUserPagesSettingsPanel","extend","constructor","prototype","apply","this","arguments","keyuserSpaceColorChanges","keyuserPageColorChanges","keyuserSpaceIconChanges","keyuserPageIconChanges","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","controlMap","Map","controlModel","spaces","selectedSpacePage","iconList","setProperty","PAGES","_i18nBundle","getText","_eventBus","getInstance","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","dialogId","getId","get","oDialog","title","contentWidth","contentHeight","verticalScrolling","endButton","text","press","_handleDialogClose","bind","type","addStyleClass","set","addDialogContent","_loadSettings","pageManagerInstance","getPersContainerId","_getPanel","getOwnerComponent","prepareSpacesPagesData","prepareIconList","_addDialogContent","dialog","wrapperFlexBox","alignItems","justifyContent","height","width","direction","setModel","addItem","getSpacePagesListItems","getDetailsView","addContent","_getSpacePagesListItems","flexBox","titleStyle","treeTableWrapper","treeTableId","treeTable","selectionMode","selectionBehavior","rows","id","groupHeaderProperty","columnHeaderVisible","rowMode","rowSelectionChange","handleTreeTableRowSelection","layoutData","growFactor","columns","template","items","tooltip","src","backgroundColor","size","color","_getDetailsView","visible","getColorPalette","getIconList","_getColorPalette","wrapperVBox","label","wrapping","colorPaletteVBox","colorPaletteLabel","design","colorPalette","colors","map","value","colorSelect","_handleColorSelect","switchWrapperHBox","switchText","switchHBox","switchId","switchControl","state","change","_handleSwitchChange","enabled","customTextOn","customTextOff","_getIconList","searchFieldId","searchField","liveChange","handleIconSearch","iconListScrollContainer","vertical","horizontal","iconListId","path","icon","event","_handleIconSelect","getSource","iconDensityAware","iconInset","_prepareSpacesPagesData","_this","Promise","resolve","fetchAllAvailableSpaces","then","aSpaces","Array","isArray","forEach","oSpace","BGColor","refreshColor","isSpacePersonalization","persistedApplyColorToAllPages","applyColorToAllPages","children","oPage","oldColor","isPagePersonalization","spaceId","personalizationState","iconPersonalizationState","isPageIconPersonalization","selectedIndices","getSelectedIndices","includes","setSelectedIndex","e","reject","_refreshColor","oColorObject","newObject","name","key","_handleTreeTableRowSelection","oEvent","bindingContext","getParameter","selectedObject","getObject","prevSelectedObject","getProperty","spaceObject","undefined","controlsDisabled","getBlocked","contextPath","getPath","spaceContextPath","replace","setBlocked","selectedContext","_prepareIconList","length","aIcons","Object","keys","oIconCategory","icons","oIcon","push","tags","concat","toString","categoryId","_handleIconSearch","sQuery","getValue","aFilters","Contains","oList","oBinding","getBinding","filter","selectedColor","isSpaceColorChanged","legendColor","_convertColorToLegend","oldLegendColor","oExistingChange","find","changes","oldApplyColorToAllPages","_applyInnerPageColoring","pageObject","pageId","isSpaceColorChangedBefore","existingSpacePersData","listItem","sIcon","getIcon","isSpaceIconChanged","oldIcon","filteredPages","_getInnerPages","page","bindingPath","isSpaceIconChangedBefore","isSpaceIconPersonalization","oLegendColor","endUserColor","switchValue","colorKey","colorValue","sColorKey","sColorValue","bApplyColorToAllPages","innerPages","oChange","index","_mergeKeyUserChanges","pagePanel","wrapperContainer","getParent","layout","selectorControl","changeSpecificData","changeType","SPACE_COLOR","content","addKeyUserChanges","PAGE_COLOR","SPACE_ICON","PAGE_ICON","publish","getKeyUserChanges","close"],"sources":["KeyUserPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport ColorPalette, { ColorPalette$ColorSelectEvent } from \"sap/m/ColorPalette\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField, { SearchField$LiveChangeEvent } from \"sap/m/SearchField\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch, { Switch$ChangeEvent } from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Parameters, { Value } from \"sap/ui/core/theming/Parameters\";\nimport Context from \"sap/ui/model/Context\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport JSONListBinding from \"sap/ui/model/json/JSONListBinding\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Column from \"sap/ui/table/Column\";\nimport { Table$RowSelectionChangeEvent } from \"sap/ui/table/Table\";\nimport TreeTable from \"sap/ui/table/TreeTable\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IColor, IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport PagePanel from \"./PagePanel\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, FALLBACK_ICON, KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { ICONS } from \"./utils/IconList\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserPagesSettingsPanel\n */\nexport default class KeyUserPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate controlModel!: JSONModel;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate selectedContext!: Context;\n\tprivate _eventBus!: EventBus;\n\tprivate keyuserSpaceColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserSpaceIconChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageIconChanges: Array<ISpacePagePersonalization> = [];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\t\tthis.controlModel = new JSONModel({\n\t\t\tspaces: [],\n\t\t\tselectedSpacePage: {},\n\t\t\ticonList: []\n\t\t});\n\n\t\t// setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editPages\"));\n\n\t\t// Setup Event Bus\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser Pages Settings Panel content.\n\t */\n\tprivate getContent(): Dialog {\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\tif (!this.controlMap.get(dialogId)) {\n\t\t\tconst oDialog = new Dialog(dialogId, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"editPages\"),\n\t\t\t\tcontentWidth: \"47rem\",\n\t\t\t\tcontentHeight: \"90%\",\n\t\t\t\tverticalScrolling: false,\n\t\t\t\tendButton: new Button(`${this.getId()}-keyUserPagesSettingsCloseButton`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"Close\"),\n\t\t\t\t\tpress: this._handleDialogClose.bind(this),\n\t\t\t\t\ttype: \"Transparent\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tthis.controlMap.set(dialogId, oDialog);\n\n\t\t\tthis.addDialogContent();\n\t\t}\n\t\treturn this.controlMap.get(dialogId) as Dialog;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tif (!this.pageManagerInstance) {\n\t\t\tthis.pageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\t// setup layout content\n\t\tvoid this.prepareSpacesPagesData();\n\t\tthis.prepareIconList();\n\t}\n\n\t/**\n\t * Add Dialog Content.\n\t *\n\t * @private\n\t */\n\tprivate addDialogContent(): void {\n\t\tconst dialog = this.controlMap.get(`${this.getId()}-keyUserPagesSettingsDialog`) as Dialog;\n\t\tconst wrapperFlexBox = new FlexBox(`${this.getId()}-wrapperFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\"\n\t\t});\n\t\twrapperFlexBox.setModel(this.controlModel);\n\t\twrapperFlexBox.addItem(this.getSpacePagesListItems());\n\t\twrapperFlexBox.addItem(this.getDetailsView());\n\t\tdialog.addContent(wrapperFlexBox);\n\t}\n\n\t/**\n\t * Get Space Pages List Items.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Space Pages List Items.\n\t */\n\tprivate getSpacePagesListItems(): FlexBox {\n\t\tconst flexBox = new FlexBox(`${this.getId()}-spacePagesFlexBox`, {\n\t\t\tdirection: \"Column\",\n\t\t\talignItems: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"24rem\",\n\t\t\tjustifyContent: \"Start\"\n\t\t}).addStyleClass(\"spacePagesFlexBox\");\n\n\t\tconst title = new Title(`${this.getId()}-spacePagesTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\ttitleStyle: \"H4\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\t\tflexBox.addItem(title);\n\n\t\tconst treeTableWrapper = new VBox(`${this.getId()}-treeTableWrapper`, {\n\t\t\theight: \"100%\"\n\t\t});\n\n\t\tconst treeTableId = `${this.getId()}-spacePagesTreeTable`;\n\t\tconst treeTable = new TreeTable(treeTableId, {\n\t\t\tselectionMode: \"Single\",\n\t\t\tselectionBehavior: \"RowOnly\",\n\t\t\trows: \"{path:'/spaces', parameters: {arrayNames:['children'], numberOfExpandedLevels: 1}}\",\n\t\t\tid: \"idEditIntrestTreeTable\",\n\t\t\tgroupHeaderProperty: \"label\",\n\t\t\tcolumnHeaderVisible: false,\n\t\t\trowMode: \"Auto\",\n\t\t\trowSelectionChange: this.handleTreeTableRowSelection.bind(this),\n\t\t\twidth: \"22rem\",\n\t\t\tlayoutData: new FlexItemData(`${treeTableId}--layoutData`, {\n\t\t\t\tgrowFactor: 1\n\t\t\t}),\n\t\t\tcolumns: [\n\t\t\t\tnew Column(`${treeTableId}--treeTableColumn`, {\n\t\t\t\t\ttemplate: new HBox(`${treeTableId}--treeTableTemplateBox`, {\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Text(`${treeTableId}--treeTableItemText`, {\n\t\t\t\t\t\t\t\ttext: \"{label}\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox(`${treeTableId}--treeTableColumnItemBox`, {\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon(`${treeTableId}--treeTableItemIcon`, {\n\t\t\t\t\t\t\t\t\t\ttooltip: \"{label}\",\n\t\t\t\t\t\t\t\t\t\tsrc: \"{icon}\",\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"{BGColor/value}\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.5rem\",\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass(\"spacePageTable\");\n\t\tthis.controlMap.set(treeTableId, treeTable);\n\t\ttreeTableWrapper.addItem(treeTable);\n\n\t\tflexBox.addItem(treeTableWrapper);\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get details view for the selected space or page.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Details.\n\t */\n\tprivate getDetailsView(): FlexBox {\n\t\t// Create Wrapper FlexBox\n\t\tconst flexBox = new FlexBox(`${this.getId()}-personalisationDetailsWrapperFlex`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"23rem\",\n\t\t\tdirection: \"Column\",\n\t\t\tvisible: \"{= ${/spaces/length} === 0 ? false : true}\"\n\t\t}).addStyleClass(\"personalisationDetailsWrapperFlex\");\n\n\t\t// Create Color Palette and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getColorPalette());\n\n\t\t// Create Icon List and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getIconList());\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get Color Palette.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Color Palette.\n\t */\n\tprivate getColorPalette(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-colorPaletteWrapperVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\t// Create Title and add to wrapper VBox\n\t\tconst title = new Title(`${this.getId()}-colorPaletteTitle`, {\n\t\t\ttext: \"{/selectedSpacePage/label}\",\n\t\t\ttitleStyle: \"H4\"\n\t\t});\n\t\twrapperVBox.addItem(title);\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-colorPaletteSpacePageLabel`, {\n\t\t\twrapping: true,\n\t\t\ttext:\n\t\t\t\t\"{= ${/selectedSpacePage/type} === 'Space' ? '\" +\n\t\t\t\tthis._i18nBundle.getText(\"space\") +\n\t\t\t\t\"' : '\" +\n\t\t\t\tthis._i18nBundle.getText(\"page\") +\n\t\t\t\t\"' }\"\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create Color Palette VBox and add to wrapper VBox\n\t\tconst colorPaletteVBox = new VBox(`${this.getId()}-colorPaletteVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiMargin-26Top\");\n\t\twrapperVBox.addItem(colorPaletteVBox);\n\n\t\t// Create Color Palette Label and add to Color Palette VBox\n\t\tconst colorPaletteLabel = new Label(`${this.getId()}-colorPaletteLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"selectColor\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\tcolorPaletteVBox.addItem(colorPaletteLabel);\n\n\t\t// Create Color Palette and add to Color Palette VBox\n\t\tconst colorPalette = new ColorPalette(`${this.getId()}-colorPalette`, {\n\t\t\tcolors: END_USER_COLORS().map((color) => color.value as string),\n\t\t\tcolorSelect: this._handleColorSelect.bind(this)\n\t\t}).addStyleClass(\"sapContrastPlus sapUiTinyMarginBottom\");\n\t\tthis.controlMap.set(`${this.getId()}-colorPalette`, colorPalette);\n\t\tcolorPaletteVBox.addItem(colorPalette);\n\n\t\t// Create Switch Wrapper HBox and add to wrapper VBox\n\t\tconst switchWrapperHBox = new HBox(`${this.getId()}-switchWrapperHBox`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\theight: \"2rem\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\twrapperVBox.addItem(switchWrapperHBox);\n\n\t\t// Create Text and add to Switch Wrapper HBox\n\t\tconst switchText = new Text(`${this.getId()}-switchText`, {\n\t\t\ttext: this._i18nBundle.getText(\"editPagesColorMessage\")\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchText);\n\n\t\t// Create Switch HBox and add to Switch Wrapper HBox\n\t\tconst switchHBox = new HBox(`${this.getId()}-switchHBox`, {\n\t\t\talignItems: \"Center\"\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchHBox);\n\n\t\t// Create Switch and add to Switch HBox\n\t\tconst switchId = `${this.getId()}-Switch`;\n\t\tconst switchControl = new Switch(switchId, {\n\t\t\tstate: \"{ path: '/selectedSpacePage/applyColorToAllPages', mode: 'TwoWay' }\",\n\t\t\tchange: this._handleSwitchChange.bind(this),\n\t\t\tenabled: \"{= ${/selectedSpacePage/spaceId} ? false : true }\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \"\n\t\t});\n\t\tthis.controlMap.set(switchId, switchControl);\n\t\tswitchHBox.addItem(switchControl);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Get Icon List.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Icon List.\n\t */\n\tprivate getIconList(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-iconListWrapperVBox`, {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"calc(100% - 15rem)\"\n\t\t});\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-iconListLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"icon\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create SearchField and add to wrapper VBox\n\t\tconst searchFieldId = `${this.getId()}-iconListSearchField`;\n\t\tconst searchField = new SearchField(searchFieldId, {\n\t\t\twidth: \"100%\",\n\t\t\tliveChange: this.handleIconSearch.bind(this)\n\t\t});\n\t\tthis.controlMap.set(searchFieldId, searchField);\n\t\twrapperVBox.addItem(searchField);\n\n\t\t// Create Scroll Container For List of Icons and add to wrapper VBox\n\t\tconst iconListScrollContainer = new ScrollContainer(`${this.getId()}-iconListScrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"95%\"\n\t\t});\n\t\twrapperVBox.addItem(iconListScrollContainer);\n\n\t\t// Create List of Icons and add to Scroll Container\n\t\tconst iconListId = `${this.getId()}-iconList`;\n\t\tconst iconList = new List(iconListId, {\n\t\t\titems: {\n\t\t\t\tpath: \"/iconList\",\n\t\t\t\ttemplate: new StandardListItem(`${this.getId()}-iconStandardListItem`, {\n\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\ticon: \"{icon}\",\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\tpress: (event) => this._handleIconSelect(event.getSource()),\n\t\t\t\t\ticonDensityAware: false,\n\t\t\t\t\ticonInset: false\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tthis.controlMap.set(iconListId, iconList);\n\t\ticonListScrollContainer.addContent(iconList);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Prepare spaces and pages data.\n\t *\n\t * @private\n\t */\n\tprivate async prepareSpacesPagesData(): Promise<void> {\n\t\tconst aSpaces = await this.pageManagerInstance.fetchAllAvailableSpaces();\n\t\tif (!Array.isArray(aSpaces)) {\n\t\t\treturn;\n\t\t}\n\t\t//Prepare Spaces and Pages Data\n\t\taSpaces.forEach((oSpace) => {\n\t\t\toSpace.BGColor = oSpace.BGColor ? this.refreshColor(oSpace.BGColor) : DEFAULT_BG_COLOR();\n\t\t\toSpace.isSpacePersonalization = oSpace.BGColor || oSpace.icon ? true : false;\n\t\t\toSpace.icon = oSpace.icon || FALLBACK_ICON;\n\t\t\toSpace.persistedApplyColorToAllPages = oSpace.applyColorToAllPages;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oSpace.applyColorToAllPages) {\n\t\t\t\t\toPage.BGColor = this.refreshColor(oSpace.BGColor as IColor) as IColor;\n\t\t\t\t\toPage.oldColor = oPage.isPagePersonalization\n\t\t\t\t\t\t? this.refreshColor(oPage.oldColor as { key: string; value: Value; assigned: boolean })\n\t\t\t\t\t\t: DEFAULT_BG_COLOR();\n\t\t\t\t} else {\n\t\t\t\t\toPage.BGColor = oPage.BGColor ? (this.refreshColor(oPage.BGColor as IColor) as IColor) : DEFAULT_BG_COLOR();\n\t\t\t\t}\n\t\t\t\toPage.spaceId = oSpace.id;\n\t\t\t\toPage.personalizationState = oPage.isPagePersonalization;\n\t\t\t\toPage.iconPersonalizationState = oPage.isPageIconPersonalization;\n\t\t\t\toPage.icon = oPage.icon || oSpace.icon || FALLBACK_ICON;\n\t\t\t});\n\t\t});\n\n\t\tthis.controlModel.setProperty(\"/spaces\", aSpaces);\n\t\t// Select the first item in list selected by default\n\t\tconst treeTable = this.controlMap.get(`${this.getId()}-spacePagesTreeTable`) as TreeTable;\n\t\tconst selectedIndices = treeTable.getSelectedIndices();\n\t\tif (!selectedIndices.includes(0)) {\n\t\t\ttreeTable.setSelectedIndex(0);\n\t\t}\n\t}\n\n\t/**\n\t * Refresh color.\n\t *\n\t * @param {string} sColor The color to refresh.\n\t * @returns {string} The refreshed color.\n\t */\n\tprivate refreshColor(oColorObject: IColor): {\n\t\tkey: string;\n\t\tvalue: Value;\n\t\tassigned: boolean;\n\t} {\n\t\t// Refresh color object with new color value in case of theme switching.\n\t\tconst newObject = { ...oColorObject } as IColor;\n\t\tnewObject.value = Parameters.get({ name: oColorObject.key }) as string;\n\t\treturn newObject;\n\t}\n\n\t/**\n\t * Handle Tree Table Row Selection.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleTreeTableRowSelection(oEvent: Table$RowSelectionChangeEvent): void {\n\t\tinterface IControlWithBlockedProperty {\n\t\t\tgetBlocked: () => boolean;\n\t\t\tsetBlocked: (val: boolean) => void;\n\t\t}\n\t\tconst bindingContext = oEvent.getParameter(\"rowContext\") as Context;\n\t\tconst selectedObject = bindingContext?.getObject() as ISpace | IPage;\n\n\t\tconst prevSelectedObject = this.controlModel.getProperty(\"/selectedSpacePage\") as ISpace | IPage;\n\t\tconst colorPalette = this.controlMap.get(`${this.getId()}-colorPalette`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in ColorPalette\n\t\tconst searchField = this.controlMap.get(`${this.getId()}-iconListSearchField`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in SearchField\n\t\tconst iconList = this.controlMap.get(`${this.getId()}-iconList`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in List\n\t\tconst switchControl = this.controlMap.get(`${this.getId()}-Switch`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in Switch\n\t\tlet spaceObject = undefined;\n\t\tlet controlsDisabled: boolean = colorPalette.getBlocked();\n\n\t\tif (selectedObject.type === \"Page\") {\n\t\t\tconst contextPath = bindingContext.getPath();\n\t\t\tconst spaceContextPath = contextPath.replace(/\\/children\\/\\d*/, \"\");\n\t\t\tspaceObject = this.controlModel.getProperty(spaceContextPath) as ISpace;\n\t\t}\n\n\t\tcontrolsDisabled =\n\t\t\tprevSelectedObject?.type === selectedObject.type && prevSelectedObject?.id === selectedObject.id ? !controlsDisabled : false;\n\t\tcolorPalette.setBlocked(controlsDisabled ? true : (spaceObject?.applyColorToAllPages as boolean));\n\t\tsearchField.setBlocked(controlsDisabled);\n\t\ticonList.setBlocked(controlsDisabled);\n\t\tswitchControl.setBlocked(controlsDisabled);\n\n\t\tthis.controlModel.setProperty(\"/selectedSpacePage\", selectedObject);\n\t\tthis.selectedContext = bindingContext;\n\t}\n\n\t/**\n\t * Prepare icon list.\n\t *\n\t * @private\n\t */\n\tprivate prepareIconList(): void {\n\t\tinterface IiconList {\n\t\t\ttitle: string;\n\t\t\ticon: string;\n\t\t\ttags: string;\n\t\t\tcategoryId: string;\n\t\t}\n\t\tconst iconList = this.controlModel.getProperty(\"/iconList\") as IiconList[];\n\t\tif (!iconList.length) {\n\t\t\tlet icon: string;\n\t\t\tconst aIcons: IiconList[] = [];\n\t\t\tObject.keys(ICONS).forEach((oIconCategory) => {\n\t\t\t\tObject.keys(ICONS[oIconCategory].icons).forEach(function (oIcon) {\n\t\t\t\t\tswitch (oIconCategory) {\n\t\t\t\t\t\tcase \"SAP-icons\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"SAP-icons-TNT\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"BusinessSuiteInAppSymbols\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/icon-\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\taIcons.push({\n\t\t\t\t\t\ttitle: oIcon,\n\t\t\t\t\t\ticon: icon,\n\t\t\t\t\t\ttags: ICONS[oIconCategory].icons[oIcon].concat([oIcon]).toString(),\n\t\t\t\t\t\tcategoryId: oIconCategory\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.controlModel.setProperty(\"/iconList\", aIcons);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Search.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleIconSearch(oEvent: SearchField$LiveChangeEvent): void {\n\t\tconst sQuery = oEvent.getSource().getValue();\n\t\tconst aFilters = [];\n\t\tif (sQuery && sQuery.length > 0) {\n\t\t\taFilters.push(new Filter(\"tags\", FilterOperator.Contains, sQuery));\n\t\t}\n\t\tconst oList = this.controlMap.get(`${this.getId()}-iconList`) as List;\n\t\tconst oBinding = oList.getBinding(\"items\") as JSONListBinding;\n\t\toBinding?.filter(aFilters);\n\t}\n\n\t/**\n\t * Handle Color Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleColorSelect(oEvent: ColorPalette$ColorSelectEvent | null, color?: string): void {\n\t\tconst selectedColor = (oEvent?.getParameter(\"value\") as string) || color || \"\";\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceColorChanged = !(selectedObject as IPage).spaceId;\n\t\tconst legendColor = this._convertColorToLegend(selectedColor);\n\t\tconst oldLegendColor = (selectedObject?.BGColor as { key: string })?.key;\n\n\t\t// Handle color change for space\n\t\tif (isSpaceColorChanged) {\n\t\t\tconst spaceObject: ISpace = selectedObject as ISpace;\n\t\t\t//Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject.id;\n\t\t\t});\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t\toExistingChange.applyColorToAllPages = spaceObject.applyColorToAllPages as boolean;\n\t\t\t\toExistingChange.oldApplyColorToAllPages = spaceObject.persistedApplyColorToAllPages as boolean;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceColorChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor: oldLegendColor,\n\t\t\t\t\tapplyColorToAllPages: spaceObject.applyColorToAllPages,\n\t\t\t\t\toldApplyColorToAllPages: spaceObject.persistedApplyColorToAllPages\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply color to all pages\n\t\t\tif (spaceObject.applyColorToAllPages) {\n\t\t\t\tthis._applyInnerPageColoring(spaceObject, legendColor, selectedColor, true);\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpacePersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle color change for page\n\t\t\tconst pageObject: IPage = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find((changes) => {\n\t\t\t\treturn changes.pageId === pageObject.id;\n\t\t\t});\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceColorChangedBefore = spaceObject?.isSpacePersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageColorChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor:\n\t\t\t\t\t\tisSpaceColorChangedBefore && !pageObject.isPagePersonalization\n\t\t\t\t\t\t\t? (existingSpacePersData as { oldColor: string })?.oldColor\n\t\t\t\t\t\t\t: oldLegendColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPagePersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleIconSelect(listItem: StandardListItem): void {\n\t\tconst sIcon = listItem.getIcon();\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceIconChanged = !(selectedObject as IPage).spaceId;\n\n\t\t// Handle icon change for space\n\t\tif (isSpaceIconChanged) {\n\t\t\tconst spaceObject = selectedObject as ISpace;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceIconChanges.find((change) => change.spaceId === spaceObject.id);\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceIconChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon: spaceObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply icon to all pages if page icon is not personalized\n\t\t\tconst filteredPages = this._getInnerPages(spaceObject).filter((spaceObject) => !spaceObject.page.isPageIconPersonalization);\n\t\t\tfilteredPages.forEach((page) => {\n\t\t\t\tthis.controlModel.setProperty(page.bindingPath + \"/icon\", sIcon);\n\t\t\t});\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpaceIconPersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle icon change for page\n\t\t\tconst pageObject = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageIconChanges.find((change) => change.pageId === pageObject.id);\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceIconChangedBefore = spaceObject?.isSpaceIconPersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceIconChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageIconChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon:\n\t\t\t\t\t\tisSpaceIconChangedBefore && !pageObject.isPageIconPersonalization\n\t\t\t\t\t\t\t? existingSpacePersData?.oldIcon\n\t\t\t\t\t\t\t: selectedObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPageIconPersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Convert color to legend.\n\t *\n\t * @param {string} sColor The color to convert.\n\t * @returns {string} The converted color.\n\t * @private\n\t */\n\tprivate _convertColorToLegend(color: string): string {\n\t\tlet oLegendColor = END_USER_COLORS().find(function (endUserColor) {\n\t\t\treturn endUserColor.value === color;\n\t\t});\n\t\treturn oLegendColor ? oLegendColor.key : DEFAULT_BG_COLOR().key;\n\t}\n\n\t/**\n\t * Handle Switch Change.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleSwitchChange(oEvent: Switch$ChangeEvent): void {\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace;\n\t\tconst switchValue = oEvent.getParameter(\"state\");\n\n\t\t//Check if existing personalization is available\n\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\treturn changes.spaceId === selectedObject.id;\n\t\t});\n\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.applyColorToAllPages = selectedObject.applyColorToAllPages as boolean;\n\t\t} else {\n\t\t\tthis._handleColorSelect(null, selectedObject.BGColor?.value as string);\n\t\t}\n\n\t\tconst colorKey = switchValue ? (selectedObject.BGColor?.key as string) : DEFAULT_BG_COLOR().key;\n\t\tconst colorValue = switchValue ? (selectedObject.BGColor?.value as string) : DEFAULT_BG_COLOR().value;\n\n\t\t// Apply color to all pages\n\t\tthis._applyInnerPageColoring(selectedObject, colorKey, colorValue as string, switchValue as boolean);\n\t}\n\n\t/**\n\t * Apply inner page coloring.\n\t *\n\t * @param {ISpace} oSpace The space object.\n\t * @param {string} sColorKey The color key.\n\t * @param {string} sColorValue The color value.\n\t * @param {boolean} bApplyColorToAllPages The flag to apply color to all pages.\n\t * @private\n\t */\n\tprivate _applyInnerPageColoring(oSpace: ISpace, sColorKey: string, sColorValue: string, bApplyColorToAllPages: boolean): void {\n\t\tconst innerPages = this._getInnerPages(oSpace);\n\n\t\tinnerPages.forEach((oPage) => {\n\t\t\tif (!bApplyColorToAllPages && oPage.page.isPagePersonalization) {\n\t\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find(function (oChange) {\n\t\t\t\t\treturn oChange.pageId === oPage.page.id;\n\t\t\t\t});\n\t\t\t\tif (oExistingChange) {\n\t\t\t\t\tconst BGColor = oExistingChange.BGColor;\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", BGColor);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", Parameters.get({ name: BGColor as string }));\n\t\t\t\t} else {\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", (oPage.page.oldColor as IColor)?.key);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", (oPage.page.oldColor as IColor)?.value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", sColorKey);\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", sColorValue);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Get Inner Pages of Space.\n\t *\n\t * @returns {ISpace} Space.\n\t * @private\n\t */\n\n\tprivate _getInnerPages(oSpace: ISpace) {\n\t\treturn oSpace.children.map((oPage, index) => {\n\t\t\treturn {\n\t\t\t\tpage: oPage,\n\t\t\t\tbindingPath: this.selectedContext.getPath() + \"/children/\" + index\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Merge Key User Changes.\n\t *\n\t * @private\n\t */\n\tprivate _mergeKeyUserChanges(): void {\n\t\tconst pagePanel = this._getPanel() as PagePanel;\n\t\tconst wrapperContainer = pagePanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = wrapperContainer.getParent() as BaseLayout;\n\n\t\t// Add Space Color Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceColorChanges.length) {\n\t\t\tconst keyuserSpaceColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserSpaceColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceColorChanges);\n\t\t}\n\n\t\t// Add Page Color Changes to KeyUser Changes\n\t\tif (this.keyuserPageColorChanges.length) {\n\t\t\tconst keyuserPageColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserPageColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageColorChanges);\n\t\t}\n\n\t\t// Add Space Icon Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceIconChanges.length) {\n\t\t\tconst keyuserSpaceIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserSpaceIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceIconChanges);\n\t\t}\n\n\t\t// Add Page Icon Changes to KeyUser Changes\n\t\tif (this.keyuserPageIconChanges.length) {\n\t\t\tconst keyuserPageIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserPageIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageIconChanges);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Dialog Close.\n\t *\n\t * @private\n\t */\n\tprivate _handleDialogClose(): void {\n\t\tthis._mergeKeyUserChanges();\n\t\t// Add All Changes to KeyUser Dialog\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\t(this.controlMap.get(dialogId) as Dialog).close();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":161,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","NavContainer","Page","Element","EventBus","__BaseSettingsDialog","__layoutHandler","___flexibility_Layoutflexibility","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BaseSettingsDialog","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","layoutHandler","CHANGE_TYPES","KeyUserSettingsDialog","extend","metadata","designtime","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","controlMap","Map","detailPageMap","setContentWidth","setContentHeight","setStretch","setShowHeader","addButton","getId","text","_i18nBundle","getText","type","press","saveChanges","handleCancel","navContainerId","navContainer","set","addContent","get","_eventBus","getInstance","subscribe","channelId","eventId","data","getButtons","setEnabled","disable","onBeforeRendering","_onBeforeRendering","event","BaseSettingsDialog.prototype.onBeforeRendering.call","getNavContainer","removeAllPages","getPanels","forEach","panel","index","addPage","getPage","getPages","navigateToPage","_getPage","isMasterPage","id","page","title","getProperty","showHeader","content","getAggregation","backgroundDesign","showNavButton","navButtonPress","back","associatedPanelId","getAssociation","associatedPanel","getElementById","containerId","getParent","_navigateToPage","pageId","panelId","substring","lastIndexOf","find","includes","firePanelNavigated","to","getDetailsPage","_getDetailsPage","hasDetailsPage","_hasDetailsPage","has","_getNavContainer","_saveChanges","Promise","resolve","isValidChanges","allPanels","panelChanges","getKeyUserChanges","createAndAddChanges","clearKeyUserChanges","onSaveClearChanges","close","clearChanges","_isValidChanges","_this2","keyUserNewsPagePanel","_temp2","Array","isArray","change","_temp","changeSpecificData","changeType","NEWS_FEED_URL","isNewsChangesValid","_keyUserNewsPagePanel","_createAndAddChanges","changes","allChanges","addChanges","_handleCancel","onCancelClearKeyUserChanges"],"sources":["KeyUserSettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Button from \"sap/m/Button\";\nimport NavContainer from \"sap/m/NavContainer\";\nimport Page from \"sap/m/Page\";\nimport { MetadataOptions } from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport layoutHandler from \"./changeHandler/LayoutHandler\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange } from \"./interface/KeyUserInterface\";\nimport KeyUserNewsPagesSettingsPanel from \"./KeyUserNewsPagesSettingsPanel\";\n\n/**\n *\n * Dialog class for Key User Settings.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserSettingsDialog\n */\nexport default class KeyUserSettingsDialog extends BaseSettingsDialog {\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tdesigntime: \"not-adaptable-tree\"\n\t};\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate detailPageMap!: Map<string, Page>;\n\tprivate _eventBus!: EventBus;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\t\tthis.detailPageMap = new Map();\n\n\t\t//setup dialog\n\t\tthis.setContentWidth(\"23.636rem\");\n\t\tthis.setContentHeight(\"23.33rem\");\n\t\tthis.setStretch(false);\n\t\tthis.setShowHeader(false);\n\n\t\t//setup dialog buttons\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-dialog-save-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"saveButton\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: this.saveChanges.bind(this)\n\t\t\t})\n\t\t);\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-dialog-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: this.handleCancel.bind(this)\n\t\t\t})\n\t\t);\n\n\t\t//setup dialog content\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\tconst navContainer = new NavContainer(navContainerId);\n\t\tthis.controlMap.set(navContainerId, navContainer);\n\t\tthis.addContent(this.controlMap.get(navContainerId) as NavContainer);\n\t\tthis._eventBus = EventBus.getInstance();\n\t\tthis._eventBus.subscribe(\n\t\t\t\"KeyUserChanges\",\n\t\t\t\"disabledSaveBtn\",\n\t\t\t(channelId?: string, eventId?: string, data?: object) => {\n\t\t\t\t//errorstate is false when import is successful\n\t\t\t\t// const { changes  = data as {disable: boolean, date: Date};\n\t\t\t\tthis.getButtons()[0].setEnabled(!(data as unknown as { disable: boolean; date: Date })?.disable);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\t\tconst navContainer = this.getNavContainer();\n\t\tnavContainer.removeAllPages();\n\n\t\t//setup master and detail page content\n\t\tthis.getPanels().forEach((panel: BaseSettingsPanel, index: number) => {\n\t\t\tnavContainer.addPage(this.getPage(panel, !index));\n\t\t});\n\n\t\t// navigate to the first page\n\t\tif (navContainer.getPages()?.length) {\n\t\t\tthis.navigateToPage(navContainer.getPages()[0] as Page);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the page content for the SettingsDialog.\n\t *\n\t * @private\n\t * @returns {Page} The page content for the SettingsDialog.\n\t */\n\tprivate getPage(panel: BaseSettingsPanel, isMasterPage: boolean): Page {\n\t\tconst id = `${this.getId()}-${panel.getId()}-page`;\n\t\tlet page = this.controlMap.get(id) as Page;\n\t\tif (!page) {\n\t\t\tconst navContainer = this.getNavContainer();\n\t\t\tpage = new Page(id, {\n\t\t\t\ttitle: panel.getProperty(\"title\") as string,\n\t\t\t\tshowHeader: true,\n\t\t\t\tcontent: panel.getAggregation(\"content\") as Control,\n\t\t\t\tbackgroundDesign: \"Transparent\",\n\t\t\t\tshowNavButton: isMasterPage ? false : true,\n\t\t\t\tnavButtonPress: () => navContainer.back()\n\t\t\t});\n\t\t\tthis.controlMap.set(id, page);\n\n\t\t\t// Set the details page map for navigation\n\t\t\tconst associatedPanelId = panel.getAssociation(\"panel\", null) as string;\n\t\t\tconst associatedPanel = Element.getElementById(associatedPanelId) as BaseSettingsPanel;\n\t\t\tconst containerId = associatedPanel?.getParent()?.getId();\n\t\t\tif (containerId) {\n\t\t\t\tthis.detailPageMap.set(containerId, page);\n\t\t\t}\n\t\t}\n\t\treturn page;\n\t}\n\n\t/**\n\t * Navigates to the selected page.\n\t *\n\t * @param {Page} page The page to navigate to.\n\t */\n\tpublic navigateToPage(page: Page | undefined): void {\n\t\tconst pageId = page?.getId();\n\t\tconst panelId = pageId?.substring(0, pageId.lastIndexOf(\"-page\"));\n\t\tconst panel = this.getPanels().find((panel: BaseSettingsPanel) => panelId?.includes(panel.getId()));\n\t\tpanel?.firePanelNavigated();\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\tconst navContainer = this.controlMap.get(navContainerId) as NavContainer;\n\t\tif (page) {\n\t\t\tnavContainer.to(page);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the details page for the selected panel.\n\t *\n\t * @param {BaseSettingsPanel} panel The selected panel.\n\t * @returns {Page | undefined} The details page for the selected panel.\n\t */\n\tpublic getDetailsPage(containerId: string): Page | undefined {\n\t\treturn this.detailPageMap.get(containerId);\n\t}\n\n\t/**\n\t * Checks if the selected panel has a details page.\n\t *\n\t * @param {BaseSettingsPanel} panel The selected panel.\n\t * @returns {boolean} True if the selected panel has a details page, false otherwise.\n\t */\n\tpublic hasDetailsPage(containerId: string): boolean {\n\t\treturn this.detailPageMap.has(containerId);\n\t}\n\n\t/**\n\t * Returns the NavContainer.\n\t *\n\t * @returns {NavContainer} NavContainer.\n\t */\n\tpublic getNavContainer(): NavContainer {\n\t\tconst navContainerId = `${this.getId()}-navContainer`;\n\t\treturn this.controlMap.get(navContainerId) as NavContainer;\n\t}\n\n\t/**\n\t * Save the changes.\n\t *\n\t * @private\n\t */\n\tprivate async saveChanges() {\n\t\tconst isValidChanges = await this.isValidChanges();\n\t\tif (isValidChanges) {\n\t\t\tconst allPanels = this.getPanels();\n\t\t\tallPanels.forEach((panel: BaseSettingsPanel) => {\n\t\t\t\tconst panelChanges = panel.getKeyUserChanges();\n\t\t\t\tif (panelChanges.length) {\n\t\t\t\t\tthis.createAndAddChanges(panelChanges);\n\t\t\t\t\tpanel.clearKeyUserChanges();\n\t\t\t\t}\n\t\t\t});\n\t\t\t(allPanels[1] as KeyUserNewsPagesSettingsPanel)?.onSaveClearChanges();\n\t\t\tthis.close();\n\t\t\tlayoutHandler.resolve();\n\t\t\tlayoutHandler.clearChanges();\n\t\t}\n\t}\n\n\tprivate async isValidChanges(): Promise<boolean> {\n\t\tlet isValidChanges = true;\n\t\tconst keyUserNewsPagePanel = this.getPanels()[1] as KeyUserNewsPagesSettingsPanel;\n\t\tconst panelChanges = keyUserNewsPagePanel?.getKeyUserChanges();\n\t\tif (Array.isArray(panelChanges)) {\n\t\t\tfor (const change of panelChanges) {\n\t\t\t\tif (change.changeSpecificData.changeType === CHANGE_TYPES.NEWS_FEED_URL) {\n\t\t\t\t\tisValidChanges = await keyUserNewsPagePanel.isNewsChangesValid();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isValidChanges;\n\t}\n\n\t/**\n\t * Create and add keyuser changes to layoutHandler\n\t *\n\t * @private\n\t */\n\tprivate createAndAddChanges(changes: Array<IKeyUserChange>) {\n\t\tconst allChanges: unknown[] = [];\n\t\tchanges.forEach((change) => {\n\t\t\tallChanges.push(change);\n\t\t});\n\t\tlayoutHandler.addChanges(allChanges);\n\t}\n\n\t/**\n\t * Handle cancel event.\n\t *\n\t * @private\n\t */\n\tprivate handleCancel(): void {\n\t\tconst allPanels = this.getPanels();\n\t\tallPanels.forEach((panel: BaseSettingsPanel) => {\n\t\t\tconst panelChanges = panel.getKeyUserChanges();\n\t\t\tif (panelChanges.length) {\n\t\t\t\tpanel.clearKeyUserChanges();\n\t\t\t}\n\t\t});\n\t\tconst keyUserNewsPagePanel = this.getPanels()[1] as KeyUserNewsPagesSettingsPanel;\n\t\tkeyUserNewsPagePanel?.onCancelClearKeyUserChanges();\n\t\tlayoutHandler.resolve();\n\t\tlayoutHandler.clearChanges();\n\t\tthis.close();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":166,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Element","S4MyHome","Container","__AdvancedSettingsPanel","__BaseLayout","__BaseLayoutRenderer","__ContentAdditionDialog","__InsightsCardsSettingsPanel","__InsightsTilesSettingsPanel","__KeyUserLayoutSettingsPanel","__KeyUserNewsPagesSettingsPanel","__KeyUserSettingsDialog","__LayoutSettingsPanel","__NewsAndPagesContainer","__NewsSettingsPanel","__NoDataContainer","__PagePanel","__PageSettingsPanel","__SettingsDialog","__ToDosContainer","___utils_Constants","___utils_DataFormatUtils","___utils_PerformanceUtils","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","AdvancedSettingsPanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","BaseLayout","_catch","recover","BaseLayoutRenderer","ContentAdditionDialog","InsightsCardsSettingsPanel","InsightsTilesSettingsPanel","KeyUserLayoutSettingsPanel","KeyUserNewsPagesSettingsPanel","KeyUserSettingsDialog","LayoutSettingsPanel","NewsAndPagesContainer","NewsSettingsPanel","NoDataContainer","PagePanel","PageSettingsPanel","SettingsDialog","ToDosContainer","SETTINGS_PANELS_KEYS","recycleId","setupPerformanceTracking","PersonalisationUtils","Layout","extend","renderer","metadata","designtime","constructor","_constructor","id","settings","BaseLayout.prototype.constructor.call","_shellUserActions","_isDefaultSettingsDialog","_customNoDataContainerPresent","init","_init","BaseLayout.prototype.init.call","setProperty","_addUserActions","Promise","resolve","_temp3","getVisible","_userActionsAdded","userActions","icon","text","_i18nBundle","getText","tooltip","press","openSettingsDialog","getServiceAsync","extensionService","_temp2","toggleUserActions","event","show","getParameter","forEach","userAction","showOnHome","hideOnHome","attachRouteMatched","_temp","action","createUserAction","controlType","shellUserAction","error","warning","Error","message","_openSettingsDialog","selectedKey","context","_this2","settingsDialog","getAggregation","getPanels","_getSettingsPanels","_addPanelsToSettingsDialog","_calculateSectionsState","BaseLayout.prototype.openSettingsDialog.call","closeSettingsDialog","_closeSettingsDialog","close","onBeforeRendering","_onBeforeRendering","_this3","BaseLayout.prototype.onBeforeRendering.call","_setupSettingsDialog","_setupContentAdditionDialog","persContainerId","getProperty","setPersContainerId","getNoDataContainer","_aOrderedSections","setTimeout","_prepareLayoutData","_setupKeyUserSettingsDialog","allPanels","getItems","container","setAssociation","getContent","panel","panelEnableSettings","undefined","enableSettings","defaultSettingsDialog","_getDefaultSettingsDialog","setSettingsDialog","getId","settingsPanel","_getDefaultSettingsPanel","addPanel","sortedPanels","_sortPanels","removeAllPanels","insertPanel","_getLayoutSettingsPanel","_getAdvancedSettingsPanel","panelClassName","getMetadata","getName","settingsPanels","layoutSettingsPanel","advancedSettingsPanel","indexOf","_addSettingsPanel","panels","Object","keys","map","key","find","filter","Boolean","_advancedSettingsPanel","_layoutSettingsPanel","_getNoDataContainer","_noDataContainer","item","setVisible","hasVisibleSection","isLayoutExpanded","aOrderedElements","element","getElementById","completeId","aElements","aElementMap","sId","title","getTooltip","elementVisible","elementCustomSettings","getCustomSettings","sContainerType","blocked","visible","setNoDataContainerVisibility","_setNoDataContainerVisibility","contentVisible","noDataContainer","insertItem","removeItem","_this4","aSettingsPanel","_isCustomNews","oSettingsPanel","resetImportModel","setSectionDetails","_setSectionDetails","_this5","elementArray","_temp7","_temp6","oElementItem","bBlocked","_temp5","_temp4","_this5$checkPagesBloc","aNewsAndPagesPanel","_aNewsAndPagesPanel$l","checkPagesBlocked","checkToDoBlocked","_checkPagesBlocked","_this6","_temp0","_pagesAvailable","_temp9","oPanel","_temp8","getUserAvailablePages","aPages","_checkToDoBlocked","toDoContainer","_toDoAccessible","keyUserSettingsDialog","defaultKeyUserSettingsDialog","keyUserLayoutSettingsPanel","keyUserNewsPagesSettingsPanel","setAggregation","getpagesAvailable","_getpagesAvailable","isToDoAccessible","_isToDoAccessible","customNewAvailable","_customNewAvailable","getSections","_getSections","setSections","_setSections","sections","resetSections","_resetSections","contentAdditionDialog"],"sources":["Layout.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event } from \"jquery\";\nimport Log from \"sap/base/Log\";\nimport UI5Event from \"sap/ui/base/Event\";\nimport Element, { MetadataOptions } from \"sap/ui/core/Element\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Container from \"sap/ushell/Container\";\nimport Extension from \"sap/ushell/services/Extension\";\nimport Item from \"sap/ushell/services/Extension/Item\";\nimport AdvancedSettingsPanel from \"./AdvancedSettingsPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport type { $BaseLayoutSettings } from \"./BaseLayout\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseLayoutRenderer from \"./BaseLayoutRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport ContentAdditionDialog from \"./ContentAdditionDialog\";\nimport InsightsCardsSettingsPanel from \"./InsightsCardsSettingsPanel\";\nimport InsightsTilesSettingsPanel from \"./InsightsTilesSettingsPanel\";\nimport KeyUserLayoutSettingsPanel from \"./KeyUserLayoutSettingsPanel\";\nimport KeyUserNewsPagesSettingsPanel from \"./KeyUserNewsPagesSettingsPanel\";\nimport KeyUserSettingsDialog from \"./KeyUserSettingsDialog\";\nimport LayoutSettingsPanel from \"./LayoutSettingsPanel\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsSettingsPanel from \"./NewsSettingsPanel\";\nimport NoDataContainer from \"./NoDataContainer\";\nimport PagePanel from \"./PagePanel\";\nimport PageSettingsPanel from \"./PageSettingsPanel\";\nimport SettingsDialog from \"./SettingsDialog\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { setupPerformanceTracking } from \"./utils/PerformanceUtils\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\ninterface IElement {\n\tcompleteId: string;\n\tsContainerType: string;\n\tblocked: boolean;\n\tvisible: boolean;\n\ttitle: string;\n\ttext: string;\n}\n\nexport interface UserActionProperties {\n\ticon: string;\n\ttext: string;\n\ttooltip: string;\n\tpress: () => void;\n}\n\n/**\n *\n * Layout class for the My Home layout.\n *\n * @extends BaseLayout\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.Layout\n */\nexport default class Layout extends BaseLayout {\n\tprivate _layoutSettingsPanel!: LayoutSettingsPanel;\n\tprivate _advancedSettingsPanel!: AdvancedSettingsPanel;\n\tprivate _isCustomNews!: boolean;\n\tprivate _pagesAvailable!: boolean;\n\tprivate _toDoAccessible!: boolean;\n\tprivate _aOrderedSections!: IElement[] | undefined;\n\tprivate _noDataContainer!: NoDataContainer;\n\tprivate _shellUserActions: Item[] = [];\n\tprivate _userActionsAdded!: boolean;\n\tprivate _isDefaultSettingsDialog: boolean = false;\n\tprivate _customNoDataContainerPresent: boolean = true;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tdesigntime: \"sap/cux/home/designtime/Layout.designtime\"\n\t};\n\tstatic renderer: typeof BaseLayoutRenderer = BaseLayoutRenderer;\n\n\t/**\n\t * Constructor for a new layout.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseLayoutSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup layout\n\t\tthis.setProperty(\"enableSettings\", true);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t}\n\n\t/**\n\t * Adds all user actions to the Fiori launchpad.\n\t *\n\t * @private\n\t */\n\tprivate async _addUserActions() {\n\t\ttry {\n\t\t\tif (this.getVisible() && !this._userActionsAdded) {\n\t\t\t\tthis._userActionsAdded = true;\n\n\t\t\t\t// Configure User Actions\n\t\t\t\tconst userActions: UserActionProperties[] = [\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: \"sap-icon://edit\",\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\ttooltip: this._i18nBundle.getText(\"myHomeSettings\") as string,\n\t\t\t\t\t\tpress: () => {\n\t\t\t\t\t\t\tvoid this.openSettingsDialog();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t// Attach User Actions\n\t\t\t\tconst extensionService = await Container.getServiceAsync<Extension>(\"Extension\");\n\t\t\t\tfor (let action of userActions) {\n\t\t\t\t\tconst shellUserAction = await extensionService.createUserAction(action, {\n\t\t\t\t\t\tcontrolType: \"sap.ushell.ui.launchpad.ActionItem\"\n\t\t\t\t\t});\n\t\t\t\t\tshellUserAction.showOnHome();\n\t\t\t\t\tthis._shellUserActions.push(shellUserAction);\n\t\t\t\t}\n\n\t\t\t\t// Toggle User Actions on Page Change\n\t\t\t\tconst toggleUserActions = (event: UI5Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\t\t\tthis._shellUserActions.forEach(function (userAction) {\n\t\t\t\t\t\tif (show) {\n\t\t\t\t\t\t\tuserAction.showOnHome();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuserAction.hideOnHome();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t\t}\n\t\t} catch (error: unknown) {\n\t\t\tLog.warning(\"Unable to add User Actions\", error instanceof Error ? error.message : \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Opens the settings dialog for the layout.\n\t * Overriden from the BaseLayout to ensure of all panels\n\t * to the dialog if not already added.\n\t *\n\t * @private\n\t * @param {string} selectedKey The key of the panel to navigate to\n\t * @override\n\t */\n\tpublic async openSettingsDialog(selectedKey: string = \"\", context?: object): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tif (settingsDialog.getPanels().length !== this._getSettingsPanels().length) {\n\t\t\tthis._addPanelsToSettingsDialog();\n\t\t}\n\t\tawait this._calculateSectionsState();\n\n\t\tsuper.openSettingsDialog(selectedKey, context);\n\t}\n\n\t/**\n\t * Close Settings Dialog\n\t *\n\t * @private\n\t *\n\t */\n\tpublic closeSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\t\tsettingsDialog?.close();\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async onBeforeRendering(event: Event): Promise<void> {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//setup common layout features\n\t\tthis._setupSettingsDialog();\n\n\t\t//setup content addition dialog\n\t\tthis._setupContentAdditionDialog();\n\n\t\t// If PersContainerId provided set to PersonalisationUtils\n\t\tconst persContainerId = this.getProperty(\"persContainerId\") as string;\n\t\tif (persContainerId) {\n\t\t\tPersonalisationUtils.setPersContainerId(persContainerId);\n\t\t}\n\t\tthis.getNoDataContainer();\n\t\t//prepare layout data, if not already done\n\t\tif (!this._aOrderedSections) {\n\t\t\tsetTimeout(this._prepareLayoutData.bind(this));\n\t\t}\n\n\t\t// Setup KeyUserPersonalization\n\t\tthis._setupKeyUserSettingsDialog();\n\n\t\t// Initialize Performance Metrics\n\t\tawait setupPerformanceTracking(this);\n\n\t\t//configure user action button if the layout is in an ushell environment\n\t\tawait this._addUserActions();\n\t}\n\n\t/**\n\t * Sets up the settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupSettingsDialog(): void {\n\t\tconst allPanels: BasePanel[] = [];\n\t\t(this.getItems() || []).forEach((container) => {\n\t\t\t//link container to layout\n\t\t\tcontainer.setAssociation(\"layout\", this);\n\n\t\t\t//enable settings for all panels\n\t\t\tcontainer.getContent().forEach((panel) => {\n\t\t\t\tallPanels.push(panel);\n\t\t\t\tconst panelEnableSettings = panel.getProperty(\"enableSettings\") as boolean;\n\t\t\t\tpanel.setProperty(\"enableSettings\", panelEnableSettings !== undefined ? panelEnableSettings : true);\n\t\t\t});\n\t\t});\n\n\t\tconst enableSettings = this.getProperty(\"enableSettings\") as boolean;\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog | undefined;\n\t\tif (!settingsDialog) {\n\t\t\tthis._isDefaultSettingsDialog = true;\n\n\t\t\t// If settings dialog is not provided and settings is enabled, create a default settings dialog\n\t\t\tif (enableSettings) {\n\t\t\t\tconst defaultSettingsDialog = this._getDefaultSettingsDialog(allPanels);\n\t\t\t\tthis.setSettingsDialog(defaultSettingsDialog);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get default settings dialog\n\t * @private\n\t * @returns {BaseSettingsDialog} Default settings dialog\n\t */\n\tprivate _getDefaultSettingsDialog(allPanels: BasePanel[]): BaseSettingsDialog {\n\t\tconst defaultSettingsDialog = new SettingsDialog(`${this.getId()}-settings-dialog`);\n\n\t\tallPanels.forEach((panel) => {\n\t\t\tconst settingsPanel = this._getDefaultSettingsPanel(panel);\n\t\t\tif (settingsPanel) {\n\t\t\t\tdefaultSettingsDialog.addPanel(settingsPanel);\n\t\t\t}\n\t\t});\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(defaultSettingsDialog.getPanels());\n\t\tdefaultSettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => defaultSettingsDialog.addPanel(panel));\n\n\t\tdefaultSettingsDialog.insertPanel(this._getLayoutSettingsPanel(), 0);\n\t\tdefaultSettingsDialog.addPanel(this._getAdvancedSettingsPanel());\n\n\t\treturn defaultSettingsDialog;\n\t}\n\n\t/**\n\t * Get default Settings Panel\n\t *\n\t * @private\n\t */\n\n\tprivate _getDefaultSettingsPanel(panel: BasePanel): BaseSettingsPanel | undefined {\n\t\tlet settingsPanel: BaseSettingsPanel | undefined;\n\t\tconst panelClassName = panel.getMetadata().getName();\n\t\tswitch (panelClassName) {\n\t\t\tcase \"sap.cux.home.NewsPanel\":\n\t\t\t\tsettingsPanel = new NewsSettingsPanel(`${panel.getId()}-news-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.PagePanel\":\n\t\t\t\tsettingsPanel = new PageSettingsPanel(`${panel.getId()}-page-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.TilesPanel\":\n\t\t\t\tsettingsPanel = new InsightsTilesSettingsPanel(`${panel.getId()}-tiles-settings`);\n\t\t\t\tbreak;\n\t\t\tcase \"sap.cux.home.CardsPanel\":\n\t\t\t\tsettingsPanel = new InsightsCardsSettingsPanel(`${panel.getId()}-cards-settings`);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tsettingsPanel?.setAssociation(\"panel\", panel);\n\t\treturn settingsPanel;\n\t}\n\n\t/**\n\t * Adds all settings panels to the settings dialog, including\n\t * the layout settings panel and advanced settings panel.\n\t *\n\t * @private\n\t */\n\tprivate _addPanelsToSettingsDialog(): void {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as BaseSettingsDialog;\n\n\t\t//sort all panels and add them to the settings dialog\n\t\tconst sortedPanels = this._sortPanels(settingsDialog.getPanels());\n\t\tsettingsDialog.removeAllPanels();\n\t\tsortedPanels.forEach((panel) => settingsDialog.addPanel(panel));\n\n\t\t// Layout Settings should be displayed only if no settings dialog is provided\n\t\tif (this._isDefaultSettingsDialog) {\n\t\t\tconst settingsPanels = settingsDialog.getPanels();\n\t\t\tconst layoutSettingsPanel = this._getLayoutSettingsPanel();\n\t\t\tconst advancedSettingsPanel = this._getAdvancedSettingsPanel();\n\n\t\t\tif (settingsPanels.indexOf(layoutSettingsPanel) !== 0) {\n\t\t\t\tsettingsDialog.insertPanel(layoutSettingsPanel, 0);\n\t\t\t}\n\n\t\t\tif (settingsPanels.indexOf(advancedSettingsPanel) !== settingsPanels.length - 1) {\n\t\t\t\tsettingsDialog.addPanel(advancedSettingsPanel);\n\t\t\t}\n\t\t}\n\n\t\tthis._addSettingsPanel(settingsDialog.getPanels(), true);\n\t}\n\n\t/**\n\t * Sorts settings panels based on a predefined order.\n\t *\n\t * @private\n\t * @returns {BaseSettingsPanel[]} Sorted settings panels.\n\t */\n\tprivate _sortPanels(panels: BaseSettingsPanel[]): BaseSettingsPanel[] {\n\t\treturn Object.keys(SETTINGS_PANELS_KEYS)\n\t\t\t.map((key) => panels.find((panel) => panel?.getProperty(\"key\") === key))\n\t\t\t.filter(Boolean) as BaseSettingsPanel[];\n\t}\n\n\t/**\n\t * Retrieves the advanced settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {AdvancedSettingsPanel} The advanced settings panel.\n\t */\n\tprivate _getAdvancedSettingsPanel(): AdvancedSettingsPanel {\n\t\tif (!this._advancedSettingsPanel) {\n\t\t\tthis._advancedSettingsPanel = new AdvancedSettingsPanel(`${this.getId()}-advanced-settings`);\n\t\t\tthis._advancedSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._advancedSettingsPanel;\n\t}\n\n\t/**\n\t * Retrieves the layout settings panel associated with the layout.\n\t *\n\t * @private\n\t * @returns {LayoutSettingsPanel} The layout settings panel.\n\t */\n\tprivate _getLayoutSettingsPanel(): LayoutSettingsPanel {\n\t\tif (!this._layoutSettingsPanel) {\n\t\t\tthis._layoutSettingsPanel = new LayoutSettingsPanel(`${this.getId()}-layout-settings`);\n\t\t\tthis._layoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t}\n\n\t\treturn this._layoutSettingsPanel;\n\t}\n\n\t/**\n\t * Setup of no data container\n\t *\n\t * @private\n\t * @returns {NoDataContainer} No data container\n\t */\n\tprivate getNoDataContainer(): NoDataContainer {\n\t\tif (!this._noDataContainer) {\n\t\t\tthis._noDataContainer = this.getItems().find((item) => item instanceof NoDataContainer) as NoDataContainer;\n\n\t\t\t// if no data container is already present, use it\n\t\t\tif (!this._noDataContainer) {\n\t\t\t\tthis._customNoDataContainerPresent = false;\n\t\t\t\tthis._noDataContainer = new NoDataContainer(recycleId(`${this.getId()}-noDataContainer`));\n\t\t\t}\n\t\t\tthis._noDataContainer.setVisible(false);\n\t\t}\n\t\treturn this._noDataContainer;\n\t}\n\t/**\n\t * Prepares the layout data.\n\t *\n\t * @private\n\t */\n\tprivate _prepareLayoutData(): void {\n\t\tlet hasVisibleSection = false;\n\t\tconst isLayoutExpanded = this.getProperty(\"expanded\") as boolean;\n\t\tconst aOrderedElements =\n\t\t\tthis._aOrderedSections?.map((element) => Element.getElementById(element.completeId) as BaseContainer) || [];\n\t\tconst aElements = isLayoutExpanded && aOrderedElements.length ? aOrderedElements : this.getItems();\n\t\t// set aelementsMap as elementMap[] | [];\n\t\tconst aElementMap: IElement[] = [];\n\t\taElements.forEach((element: BaseContainer) => {\n\t\t\tif (element !== this.getNoDataContainer()) {\n\t\t\t\tconst sId = element.getId();\n\n\t\t\t\t//if no title set for container , then layout setting should show tooltip as title within the settings dialog\n\t\t\t\tlet title = element.getProperty(\"title\") as string;\n\t\t\t\tif (!title) {\n\t\t\t\t\ttitle = element.getTooltip() as string;\n\t\t\t\t}\n\t\t\t\tconst elementVisible = element.getVisible();\n\t\t\t\tconst elementCustomSettings = element.getCustomSettings();\n\t\t\t\taElementMap.push({\n\t\t\t\t\tcompleteId: sId,\n\t\t\t\t\tsContainerType: element.getMetadata().getName(),\n\t\t\t\t\tblocked: false,\n\t\t\t\t\tvisible: element.getProperty(\"visible\") as boolean,\n\t\t\t\t\ttitle: elementCustomSettings.title || title,\n\t\t\t\t\ttext: elementCustomSettings.text\n\t\t\t\t});\n\t\t\t\tif (elementVisible) {\n\t\t\t\t\thasVisibleSection = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._aOrderedSections = aElementMap;\n\t\tif (!this.getProperty(\"expanded\")) {\n\t\t\tthis.setNoDataContainerVisibility(!hasVisibleSection);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the visibility of the no data container\n\t *\n\t * @private\n\t */\n\tpublic setNoDataContainerVisibility(contentVisible: boolean): void {\n\t\tconst noDataContainer = this.getNoDataContainer();\n\t\tnoDataContainer?.setVisible(contentVisible);\n\t\tif (!this._customNoDataContainerPresent) {\n\t\t\tif (contentVisible) {\n\t\t\t\tthis.insertItem(noDataContainer, 0);\n\t\t\t} else {\n\t\t\t\tthis.removeItem(noDataContainer);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calculates the state of the sections based on the layout's content.\n\t * @private\n\t */\n\tpublic async _calculateSectionsState(): Promise<void> {\n\t\tconst settingsDialog = this.getAggregation(\"settingsDialog\") as SettingsDialog;\n\t\tconst aSettingsPanel = settingsDialog.getPanels();\n\t\tthis._isCustomNews = false;\n\t\taSettingsPanel.forEach((oSettingsPanel: BaseSettingsPanel) => {\n\t\t\tif (oSettingsPanel instanceof NewsSettingsPanel) {\n\t\t\t\tthis._isCustomNews = true;\n\t\t\t}\n\t\t\tif (oSettingsPanel instanceof AdvancedSettingsPanel) {\n\t\t\t\toSettingsPanel.resetImportModel(true);\n\t\t\t}\n\t\t});\n\t\tawait this.setSectionDetails();\n\t}\n\n\t/**\n\t * Sets the section details based on the layout's content.\n\t * @private\n\t */\n\tprivate async setSectionDetails(): Promise<void> {\n\t\tconst elementArray = this.getItems();\n\t\tfor (const element of elementArray) {\n\t\t\tlet bBlocked = false;\n\t\t\tconst sId = element.getId();\n\t\t\t//check news & apps visibility\n\t\t\tif (element instanceof NewsAndPagesContainer && element.getVisible()) {\n\t\t\t\tconst aNewsAndPagesPanel = element.getContent();\n\t\t\t\t//check whether user has access to pages\n\t\t\t\tbBlocked = aNewsAndPagesPanel.length ? await this.checkPagesBlocked(aNewsAndPagesPanel) : false;\n\t\t\t} else if (element instanceof ToDosContainer) {\n\t\t\t\tbBlocked = this.checkToDoBlocked(element);\n\t\t\t}\n\n\t\t\tthis._aOrderedSections?.forEach((oElementItem) => {\n\t\t\t\tif (oElementItem.completeId === sId) {\n\t\t\t\t\toElementItem.blocked = bBlocked;\n\t\t\t\t\toElementItem.visible = element.getVisible();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Check whether My Interest section is blocked or not\n\t * @private\n\t */\n\tprivate async checkPagesBlocked(aNewsAndPagesPanel: BasePanel[]): Promise<boolean> {\n\t\tfor (const oPanel of aNewsAndPagesPanel) {\n\t\t\tif (oPanel instanceof PagePanel) {\n\t\t\t\t// find if user has any pages accessible\n\t\t\t\tconst aPages = (await oPanel.getUserAvailablePages()) || [];\n\t\t\t\tthis._pagesAvailable = aPages.length > 0;\n\t\t\t}\n\t\t}\n\t\t//if user has no available pages and no  news feed, then block the section\n\t\tif (!this._pagesAvailable && !this._isCustomNews) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Check whether For Me Today section is blocked or not\n\t * @private\n\t */\n\tprivate checkToDoBlocked(toDoContainer: BaseContainer): boolean {\n\t\tif (!toDoContainer.getVisible()) {\n\t\t\tconst panels = toDoContainer.getContent();\n\t\t\tif (panels.length === 0) {\n\t\t\t\tthis._toDoAccessible = false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Sets up the key user settings dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupKeyUserSettingsDialog(): void {\n\t\tconst keyUserSettingsDialog = this.getAggregation(\"keyUserSettingsDialog\") as BaseSettingsDialog;\n\t\tif (!keyUserSettingsDialog) {\n\t\t\tconst defaultKeyUserSettingsDialog = new KeyUserSettingsDialog(`${this.getId()}-keyUser-settings-dialog`);\n\n\t\t\t// Add Key User Layout Settings Panel\n\t\t\tconst keyUserLayoutSettingsPanel = new KeyUserLayoutSettingsPanel(`${this.getId()}-keyUser-layout-settings`);\n\t\t\tkeyUserLayoutSettingsPanel.setAssociation(\"panel\", this);\n\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserLayoutSettingsPanel);\n\n\t\t\t// Add News and Pages Settings Panel If News and Pages Container is available\n\t\t\t(this.getItems() || []).forEach((container: BaseContainer) => {\n\t\t\t\tif (container instanceof NewsAndPagesContainer) {\n\t\t\t\t\tconst keyUserNewsPagesSettingsPanel = new KeyUserNewsPagesSettingsPanel(`${this.getId()}-keyUser-news-pages-settings`);\n\t\t\t\t\t// Set any panel of the containet to the settings panel as association\n\t\t\t\t\tkeyUserNewsPagesSettingsPanel.setAssociation(\"panel\", container.getContent()?.[0]);\n\t\t\t\t\tdefaultKeyUserSettingsDialog.addPanel(keyUserNewsPagesSettingsPanel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.setAggregation(\"keyUserSettingsDialog\", defaultKeyUserSettingsDialog);\n\t\t}\n\t}\n\n\t/**\n\t * Return the pages availability value\n\t * @private\n\t */\n\tpublic getpagesAvailable(): boolean {\n\t\treturn this._pagesAvailable;\n\t}\n\n\t/**\n\t * Return the To-Dos availability value\n\t * @private\n\t */\n\tpublic isToDoAccessible(): boolean {\n\t\treturn this._toDoAccessible;\n\t}\n\n\t/**\n\t * Return whether customNews available or not\n\t */\n\tpublic customNewAvailable(): boolean {\n\t\treturn this._isCustomNews;\n\t}\n\n\t/**\n\t * Returns the set of sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic getSections(): IElement[] {\n\t\treturn this._aOrderedSections!;\n\t}\n\n\t/**\n\t * Sets the sections present within the layout\n\t *\n\t * @private\n\t */\n\tpublic setSections(sections: IElement[]): void {\n\t\tthis._aOrderedSections = sections;\n\t}\n\n\t/**\n\t * Resets the ordered sections of the layout.\n\t *\n\t * @private\n\t */\n\tpublic resetSections(): void {\n\t\tthis._prepareLayoutData();\n\t}\n\n\t/**\n\t * Sets up the content addition dialog for the layout.\n\t *\n\t * @private\n\t */\n\tprivate _setupContentAdditionDialog(): void {\n\t\tlet contentAdditionDialog = this.getAggregation(\"contentAdditionDialog\") as ContentAdditionDialog;\n\t\tif (!contentAdditionDialog) {\n\t\t\tcontentAdditionDialog = new ContentAdditionDialog(`${this.getId()}-content-addition-dialog`);\n\t\t\tthis.setAggregation(\"contentAdditionDialog\", contentAdditionDialog);\n\t\t}\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":171,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Button","Column","ColumnListItem","HBox","MessageBox","ObjectIdentifier","Table","Text","ToggleButton","VBox","Element","Icon","Lib","JSONModel","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Accessibility","___utils_Constants","___utils_DragDropUtils","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","getInvisibleText","SETTINGS_PANELS_KEYS","focusDraggedItem","PersonalisationUtils","LayoutSettingsPanel","extend","metadata","library","constructor","_constructor","id","settings","BaseSettingsPanel.prototype.constructor.call","this","_isCollapseHandlerAttached","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","LAYOUT","_i18nBundle","getText","_resetActionButton","getId","text","press","resetMyhomeSettings","addActionButton","addAggregation","_getContent","attachPanelNavigated","_loadSections","_manageSectionsChanges","createShowHideChangeFile","_createShowHideChangeFile","oControlEvent","_this","toggle","getSource","bValue","getPressed","oContext","getBindingContext","getObject","visible","_getPanel","getSections","find","section","completeId","sChangeType","UNHIDE","HIDE","oWrapperItem","getElementById","push","selectorElement","changeSpecificData","changeType","Promise","resolve","_saveManageSectionsDialog","then","setTimeout","adjustLayout","_switchToCollapsedViewIfRequired","e","reject","containers","layout","isLayoutExpanded","getProperty","expandedContainer","filter","container","_getCurrentExpandedElementName","toggleFullScreen","_getSelectedPanel","_this2","_calculateSectionsState","_orderedSections","JSON","parse","stringify","forEach","oSection","sContainerType","title","String","_controlModel","_layoutTable","setModel","bindItems","path","factory","_dndInvisibleText","isDestroyed","type","cells","alignItems","items","src","addStyleClass","justifyContent","width","tooltip","icon","enabled","event","pressed","ariaLabelledBy","attachEvent","_rearrangeLayoutIfRequired","currentLayoutElements","getItems","Array","isArray","_allLayoutElements","length","isOrderChanged","some","element","index","removeAllItems","addItem","oHeader","_setHeaderIntro","oTable","setLayoutTable","oInvisibleText","oContentVBox","renderType","control","addAriaLabelledBy","oHeaderText","oHeaderVBox","backgroundDesign","_setLayoutTable","columns","addDragDropConfigTo","onDropManageSections","_this3","_persistUserChanges","changes","appComponent","getOwnerComponent","tableModel","getModel","refresh","finally","mProperties","load","name","require","ControlPersonalizationWriteAPI","add","ignoreVariantManagement","aGeneratedChanges","save","selector","catch","oError","Error","error","message","_getActualIndex","expandedElementConfig","_getCurrentExpandedElement","targetContainer","splice","findIndex","_rearrangeLayoutElements","sourceIndex","targetIndex","sourceElement","sourceElements","values","next","value","updateFullScreenElement","indexOf","_onDropManageSections","oEvent","_this4","_temp2","iDropItemIndex","oWrapper","wrapperId","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","indexOfItem","oDropItem","droppedControl","_temp","sectionOrder","dragObject","dropObject","actualDragItemIndex","actualDropItemIndex","setSections","MOVE","movedElements","source","aggregation","target","draggedContainer","droppedContainer","_resetMyhomeSettings","_this5","show","QUESTION","actions","Action","CANCEL","onClose","oAction","_temp3","aChangesForDeletion","reset","selectors","changeTypes","resetSections","closeSettingsDialog"],"sources":["LayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel, { $BaseSettingsPanelSettings } from \"./BaseSettingsPanel\";\nimport Layout from \"./Layout\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IControlPersonalizationWriteAPI, IDragEvent, IElement, IManagePersChanges } from \"./interface/LayoutInterface\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Layout Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.LayoutSettingsPanel\n */\nexport default class LayoutSettingsPanel extends BaseSettingsPanel {\n\tprivate _layoutTable!: Table;\n\tpublic _i18nBundle!: ResourceBundle;\n\tprivate _orderedSections!: IElement[];\n\tprivate _manageSectionsChanges!: IManagePersChanges[];\n\tprivate _controlModel!: JSONModel;\n\tprivate _allLayoutElements!: BaseContainer[];\n\tprivate _isCollapseHandlerAttached: boolean = false;\n\tprivate _resetActionButton!: Button;\n\tprivate _dndInvisibleText!: InvisibleText;\n\n\tconstructor(id?: string | $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"layout\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://grid\");\n\t\tthis._resetActionButton = new Button({\n\t\t\tid: `${this.getId()}-layoutResetBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"resetButton\"),\n\t\t\tpress: () => this.resetMyhomeSettings()\n\t\t});\n\t\t// Add button to actionButtons aggregation\n\t\tthis.addActionButton(this._resetActionButton);\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this._getContent());\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => void this._loadSections());\n\t\tthis._manageSectionsChanges = [];\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate async createShowHideChangeFile(oControlEvent: Event): Promise<void> {\n\t\tconst toggle = oControlEvent.getSource<ToggleButton>();\n\t\tconst bValue = !toggle.getPressed();\n\t\tconst oContext = toggle.getBindingContext()?.getObject() as IElement;\n\n\t\toContext.visible = bValue;\n\t\t(this._getPanel() as Layout).getSections().find((section) => section.completeId === oContext.completeId)!.visible = bValue;\n\n\t\tconst sChangeType = bValue ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oWrapperItem = Element.getElementById(oContext.completeId) as BaseContainer;\n\n\t\tthis._manageSectionsChanges.push({\n\t\t\tselectorElement: oWrapperItem,\n\t\t\tchangeSpecificData: {\n\t\t\t\tchangeType: sChangeType\n\t\t\t}\n\t\t});\n\t\t// }\n\t\tawait this._saveManageSectionsDialog();\n\t\tsetTimeout(() => oWrapperItem.adjustLayout());\n\n\t\t// switch to collapsed view if the container is in expanded view\n\t\tif (!bValue) {\n\t\t\tthis._switchToCollapsedViewIfRequired([oWrapperItem]);\n\t\t}\n\t}\n\n\t/**\n\t * Switches the layout to collapsed view if the current container is in expanded view\n\t *\n\t * @private\n\t * @param {BaseContainer} container - container instance to check\n\t * @returns {void}\n\t */\n\tprivate _switchToCollapsedViewIfRequired(containers: BaseContainer[]): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedContainer = containers.filter(\n\t\t\t(container) => layout._getCurrentExpandedElementName() === container.getProperty(\"fullScreenName\")\n\t\t);\n\n\t\tif (isLayoutExpanded) {\n\t\t\tlayout.toggleFullScreen(expandedContainer[0]._getSelectedPanel());\n\t\t}\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async _loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\n\t\tthis._orderedSections = JSON.parse(JSON.stringify(layout.getSections())) as IElement[];\n\t\t// not a good way as there could be more than one insights container, discuss\n\t\tthis._orderedSections.forEach((oSection) => {\n\t\t\tif (oSection.sContainerType === \"sap.cux.home.InsightsContainer\" && !oSection.title) {\n\t\t\t\toSection.title = String(this._i18nBundle?.getText(\"insights\"));\n\t\t\t}\n\t\t});\n\t\tthis._controlModel = new JSONModel(this._orderedSections);\n\t\tthis._layoutTable.setModel(this._controlModel);\n\n\t\tthis._layoutTable.bindItems({\n\t\t\tpath: \"/\",\n\t\t\tfactory: (id) => {\n\t\t\t\tif (!this._dndInvisibleText || this._dndInvisibleText.isDestroyed()) {\n\t\t\t\t\tthis._dndInvisibleText = getInvisibleText(\n\t\t\t\t\t\tthis.getId() + \"--layoutDndText\",\n\t\t\t\t\t\tthis._i18nBundle.getText(\"keyPressAriaText\")\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn new ColumnListItem(`${id}--columnListItem`, {\n\t\t\t\t\ttype: \"Inactive\",\n\t\t\t\t\tcells: [\n\t\t\t\t\t\tnew HBox(`${id}--columnListHBox`, {\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Icon(`${id}--columnListIcon`, {\n\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\t\tnew HBox(`${id}--columnListItemHBox`, {\n\t\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\tnew ObjectIdentifier(`${id}--columnListObjectIdentifier`, {\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\t\t\t\t\t\t\ttext: \"{text}\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: \"{title}\"\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tnew ToggleButton(`${id}--layoutSettingstoggleButton`, {\n\t\t\t\t\t\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\t\t\t\t\t\t\"{= ${visible} ? '\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"hideBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\t\"' : '\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"showBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\t\"' }\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\t\tenabled: \"{= !${blocked}}\",\n\t\t\t\t\t\t\t\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tvoid this.createShowHideChangeFile(event);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tpressed: \"{= !${visible}}\",\n\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tthis._dndInvisibleText\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t})\n\t\t\t\t\t],\n\t\t\t\t\tariaLabelledBy: [this._dndInvisibleText.getId()]\n\t\t\t\t}).addStyleClass(\"insightsListItem insightsListMargin\");\n\t\t\t}\n\t\t});\n\n\t\t// attach collapse event handler to rearrange layout elements if required\n\t\tif (!this._isCollapseHandlerAttached) {\n\t\t\tthis._isCollapseHandlerAttached = true;\n\t\t\tlayout.attachEvent(\"onCollapse\", () => this._rearrangeLayoutIfRequired());\n\t\t}\n\t}\n\n\t/**\n\t * Rearranges the layout elements if their order has changed.\n\t *\n\t * @private\n\t */\n\tprivate _rearrangeLayoutIfRequired(): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst currentLayoutElements = layout.getItems();\n\n\t\tif (Array.isArray(this._allLayoutElements) && currentLayoutElements.length === this._allLayoutElements.length) {\n\t\t\tconst isOrderChanged = currentLayoutElements.some((element, index) => {\n\t\t\t\treturn element.getId() !== this._allLayoutElements[index].getId();\n\t\t\t});\n\n\t\t\tif (isOrderChanged) {\n\t\t\t\tlayout.removeAllItems();\n\t\t\t\tthis._allLayoutElements.forEach((element) => {\n\t\t\t\t\tlayout.addItem(element);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate _getContent(): VBox {\n\t\tconst oHeader = this._setHeaderIntro();\n\t\tconst oTable = this.setLayoutTable();\n\t\tconst oInvisibleText = getInvisibleText(this.getId() + \"--titleText\", this._i18nBundle.getText(\"layout\"));\n\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [oInvisibleText, oHeader, oTable]\n\t\t});\n\t\t[oInvisibleText, oHeader].forEach((control) => {\n\t\t\tthis._resetActionButton.addAriaLabelledBy(control.getId());\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel's Header content.\n\t */\n\tprivate _setHeaderIntro(): VBox {\n\t\tconst oHeaderText = new Text(this.getId() + \"--idCustLayoutText\", {\n\t\t\ttext: this._i18nBundle.getText(\"layoutIntroMsg\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idLayoutIntroText\", {\n\t\t\tbackgroundDesign: \"Solid\",\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeaderText],\n\t\t\trenderType: \"Bare\"\n\t\t}).addStyleClass(\"sapUiSmallMargin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Table.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the Layout Settings Panel'sTable.\n\t */\n\tprivate setLayoutTable(): Table {\n\t\tif (!this._layoutTable) {\n\t\t\tthis._layoutTable = new Table(this.getId() + \"--idManageSectionsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapContrastPlus sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\");\n\t\t\tthis.addDragDropConfigTo(this._layoutTable, (event) => void this.onDropManageSections(event));\n\t\t}\n\n\t\treturn this._layoutTable;\n\t}\n\n\t/**\n\t * Function to save section changes of MyHomeSettingsDialog\n\t *\n\t * @private\n\t */\n\tprivate async _saveManageSectionsDialog(): Promise<void> {\n\t\treturn this._persistUserChanges({\n\t\t\tchanges: this._manageSectionsChanges,\n\t\t\tappComponent: PersonalisationUtils.getOwnerComponent(this._getPanel() as Layout)\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconst tableModel = this._layoutTable.getModel() as JSONModel;\n\t\t\t\ttableModel.refresh();\n\t\t\t\tthis._controlModel.refresh();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis._manageSectionsChanges = [];\n\t\t\t});\n\t}\n\n\t/**\n\t * Function to persist user changes\n\t *\n\t * @private\n\t */\n\tprivate _persistUserChanges(mProperties: { changes: IManagePersChanges[]; appComponent: Component | undefined }): Promise<void> {\n\t\treturn Lib.load({ name: \"sap.ui.fl\" }).then(function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tsap.ui.require(\n\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\tfunction (ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) {\n\t\t\t\t\t\tControlPersonalizationWriteAPI.add({\n\t\t\t\t\t\t\tchanges: mProperties.changes,\n\t\t\t\t\t\t\tignoreVariantManagement: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function (aGeneratedChanges) {\n\t\t\t\t\t\t\t\treturn resolve(\n\t\t\t\t\t\t\t\t\tControlPersonalizationWriteAPI.save({\n\t\t\t\t\t\t\t\t\t\tselector: {\n\t\t\t\t\t\t\t\t\t\t\tappComponent: mProperties.appComponent\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchanges: aGeneratedChanges\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (oError) {\n\t\t\t\t\t\t\t\tif (oError instanceof Error) {\n\t\t\t\t\t\t\t\t\tLog.error(\"Unable to Save User Change: \" + oError.message);\n\t\t\t\t\t\t\t\t\treturn reject(oError);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(expandedElementConfig.index, 0, expandedElementConfig.targetContainer);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\n\t\t//update the index of the expanded element if in expanded mode\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\tconst sourceElement = expandedElementConfig.sourceElements.values().next().value!;\n\t\t\tlayout.updateFullScreenElement(sourceElement, {\n\t\t\t\tindex: this._allLayoutElements.indexOf(expandedElementConfig.targetContainer)\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate async onDropManageSections(oEvent: DropInfo$DropEvent | IDragEvent): Promise<void> {\n\t\tconst oWrapper = this._getPanel() as Layout;\n\t\tconst wrapperId = oWrapper.getId();\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst iDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem);\n\t\tconst oDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst iDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem);\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tconst sectionOrder = this._orderedSections;\n\t\t\tconst dragObject = oDragItem.getBindingContext()?.getObject() as IElement;\n\t\t\tconst dropObject = oDropItem.getBindingContext()?.getObject() as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(iDragItemIndex, 1);\n\t\t\tsectionOrder.splice(iDropItemIndex, 0, dragObject);\n\t\t\toWrapper.setSections(sectionOrder);\n\n\t\t\tthis._manageSectionsChanges.push({\n\t\t\t\tselectorElement: oWrapper,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tsource: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t},\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this._saveManageSectionsDialog();\n\n\t\t\t//switch to collapsed view if any of the containers is in expanded view\n\t\t\tconst draggedContainer = Element.getElementById(dragObject.completeId) as BaseContainer;\n\t\t\tconst droppedContainer = Element.getElementById(dropObject.completeId) as BaseContainer;\n\t\t\tthis._switchToCollapsedViewIfRequired([draggedContainer, droppedContainer]);\n\t\t}\n\t\tfocusDraggedItem(this._layoutTable, iDropItemIndex);\n\t}\n\n\t/**\n\t * Function to reset MyHome settings changes\n\t *\n\t * @private\n\t */\n\tprivate resetMyhomeSettings(): void {\n\t\tMessageBox.show(this._i18nBundle.getText(\"reset_cards_confirmation_msg\") as string, {\n\t\t\tid: \"resetCardsConfirmation\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"reset_cards_confirmation_title\"),\n\t\t\tactions: [this._i18nBundle.getText(\"reset_cards_button\") as string, MessageBox.Action.CANCEL],\n\t\t\tonClose: async (oAction: string) => {\n\t\t\t\tif (oAction === this._i18nBundle.getText(\"reset_cards_button\")) {\n\t\t\t\t\tconst aChangesForDeletion: (BaseContainer | BaseLayout)[] = [];\n\n\t\t\t\t\tfor (let section of this._orderedSections) {\n\t\t\t\t\t\tconst element = Element.getElementById(section.completeId) as BaseContainer;\n\t\t\t\t\t\taChangesForDeletion.push(element);\n\t\t\t\t\t}\n\t\t\t\t\t// Revert Changes Related to DragnDrop\n\t\t\t\t\taChangesForDeletion.push(this._getPanel() as Layout);\n\t\t\t\t\tawait Lib.load({ name: \"sap.ui.fl\" }).then(() => {\n\t\t\t\t\t\tsap.ui.require(\n\t\t\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\t\t\t(ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) => {\n\t\t\t\t\t\t\t\tvoid ControlPersonalizationWriteAPI.reset({\n\t\t\t\t\t\t\t\t\tselectors: aChangesForDeletion,\n\t\t\t\t\t\t\t\t\tchangeTypes: [CHANGE_TYPES.MOVE, CHANGE_TYPES.UNHIDE, CHANGE_TYPES.HIDE]\n\t\t\t\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\t\t\t\t\t\t\tlayout.resetSections();\n\t\t\t\t\t\t\t\t\tlayout.closeSettingsDialog();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":176,"column":0},"map":{"version":3,"names":["sap","ui","define","Element","MenuItem","extend","metadata","library","properties","title","type","group","defaultValue","visibility","icon","visible","events","press","constructor","_constructor","id","settings","Element.prototype.constructor.call","this"],"sources":["MenuItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $MenuItemSettings } from \"./MenuItem\";\n\n/**\n *\n * Class for managing and storing menu items.\n *\n * @extends Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.MenuItem\n */\nexport default class MenuItem extends Element {\n\tconstructor(id?: string | $MenuItemSettings);\n\tconstructor(id?: string, settings?: $MenuItemSettings);\n\t/**\n\t * Constructor for a new menu item.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $MenuItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the menu item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Icon of the menu item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ticon: { type: \"sap.ui.core.URI\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Type of the menu item visualization in the menu list\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttype: { type: \"string\", group: \"Misc\", defaultValue: \"Active\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Visibility of the menu item in the menu list\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tvisible: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"public\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Fires whenever the menu item is pressed.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tpress: {}\n\t\t}\n\t};\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,mCAAA,iCAAAC,GAAA,aASA,MAeqBC,EAAiBD,EAAOE,OAAA,yBAa5BC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAMXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAMtEC,KAAM,CAAEJ,KAAM,kBAAmBC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAM9EH,KAAM,CAAEA,KAAM,SAAUC,MAAO,OAAQC,aAAc,SAAUC,WAAY,UAM3EE,QAAS,CAAEL,KAAM,UAAWC,MAAO,OAAQC,aAAc,KAAMC,WAAY,WAE5EG,OAAQ,CAMPC,MAAO,CAAC,IAtCHC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,IAAC,OAXmBjB,CAAQ","ignoreList":[],"sourceRoot":""}},{"offset":{"line":181,"column":0},"map":{"version":3,"names":["sap","ui","define","__BaseContainer","___utils_placeholder_NewsAndPagesPlaceholder","___library","___utils_Device","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BaseContainer","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","getNewsPagesPlaceholder","NewsType","OrientationType","DeviceType","NewsAndPagesContainer","extend","metadata","properties","colorPersonalizations","type","group","defaultValue","visibility","iconPersonalizations","newsFeedVisibility","renderer","apiVersion","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","panelLoaded","keyUserChange","isEndUserChange","isEndUser","newsType","None","init","_init","BaseContainer.prototype.init.call","setProperty","getDeviceType","Desktop","LargeDesktop","XLargeDesktop","Horizontal","Vertical","addCustomSetting","_i18nBundle","getText","addStyleClass","load","_load","aContent","getContent","_temp","oContent","checkEndUserChanges","Promise","resolve","getData","getProperty","getMetadata","getName","setVisible","setColorPersonalizations","_setColorPersonalizations","personalizations","existingPers","updatedPers","concat","forEach","applyColorPersonalizations","setIconPersonalizations","_setIconPersonalizations","applyIconPersonalizations","_checkEndUserChanges","getIsEndUserChange","_getIsEndUserChange","newsVisibilityChangeHandler","_newsVisibilityChangeHandler","personalization","newsPanel","isNewsFeedVisible","newsPersonalization","_newsPersonalization","Boolean","showCustomNewsFeed","Custom","showRssNewsFeed","NewsUrl","Default","newsFeedURL","customNewsFeedKey","customNewsFeedFileName","url","customFeedKey","String","setCustomNewsFeed","showDefaultNewsFeed","setDefaultNews","setURL","panelLoadedFn","_panelLoadedFn","sPanelType","oVal","pagePanel","adjustLayout","adjustStyleLayout","_adjustStyleLayout","bIsNewsTileVisible","sDeviceType","newsContentWrapper","undefined","pagesContentWrapper","setWidth","setOrientation","Tablet","setJustifyContent","removeStyleClass","setTimeout","attachResizeHandler","getDomRef","clientWidth","_adjustLayout","getVisible","loaded","removeContent","getGenericPlaceholderContent","_getGenericPlaceholderContent"],"sources":["NewsAndPagesContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport type { $NewsAndPagesContainerSettings } from \"./NewsAndPagesContainer\";\nimport { getNewsPagesPlaceholder } from \"./utils/placeholder/NewsAndPagesPlaceholder\";\nimport NewsPanel from \"./NewsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { INewsFeedVisibiliyChange, INewsPersData, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { NewsType, OrientationType } from \"./library\";\nimport { DeviceType } from \"./utils/Device\";\nimport VBox from \"sap/m/VBox\";\n\ninterface IpanelLoaded {\n\t[key: string]: { loaded: boolean; count: number };\n}\n\ninterface EndUserChangeStatus {\n\tisEndUser: boolean;\n\tnewsType: NewsType;\n}\n\n/**\n *\n * Container class for managing and storing News and Pages.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.NewsAndPagesContainer\n */\n\nexport default class NewsAndPagesContainer extends BaseContainer {\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\tstatic readonly metadata: MetadataOptions = {\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Color Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\tcolorPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Icon Personalizations for Spaces & Pages\n\t\t\t */\n\t\t\ticonPersonalizations: { type: \"array\", group: \"Misc\", defaultValue: [], visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * News feed visibility flag\n\t\t\t */\n\t\t\tnewsFeedVisibility: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tprivate panelLoaded: IpanelLoaded = {};\n\tprivate pagePanel!: PagePanel;\n\tprivate newsPanel!: NewsPanel;\n\tprivate keyUserChange: boolean = false;\n\tprivate isEndUserChange: EndUserChangeStatus = { isEndUser: false, newsType: NewsType.None };\n\n\tconstructor(id?: string | $NewsAndPagesContainerSettings);\n\tconstructor(id?: string, settings?: $NewsAndPagesContainerSettings);\n\t/**\n\t * Constructor for the new News and Pages container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $NewsAndPagesContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.panelLoaded = {};\n\n\t\tthis.setProperty(\n\t\t\t\"orientation\",\n\t\t\tthis.getDeviceType() === DeviceType.Desktop ||\n\t\t\t\tthis.getDeviceType() === DeviceType.LargeDesktop ||\n\t\t\t\tthis.getDeviceType() === DeviceType.XLargeDesktop\n\t\t\t\t? OrientationType.Horizontal\n\t\t\t\t: OrientationType.Vertical\n\t\t);\n\t\tthis.addCustomSetting(\"title\", this._i18nBundle.getText(\"myInterestMsg\") as string);\n\t\tthis.addStyleClass(\"sapCuxNewsAndPagesContainer\");\n\t}\n\n\t/**\n\t * Loads the News and Pages section.\n\t * Overrides the load method of the BaseContainer.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async load() {\n\t\tconst aContent = this.getContent() as PagePanel[] | NewsPanel[];\n\t\tfor (const oContent of aContent) {\n\t\t\tif (!this.keyUserChange) {\n\t\t\t\tthis.checkEndUserChanges(oContent);\n\t\t\t}\n\t\t\tawait oContent.getData();\n\n\t\t\t// If the newsVisibilityChangeHandler is invoked before the data is loaded,\n\t\t\t// it may result in the news panel being incorrectly displayed if it was already set hidden by the handler.\n\t\t\t// newsFeedVisibility is set as false, then hide the news panel\n\t\t\tconst newsFeedVisibility = this.getProperty(\"newsFeedVisibility\") as boolean;\n\t\t\t// if newsFeedVisibility is false, hide the news panel\n\t\t\tif (oContent && oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && !newsFeedVisibility) {\n\t\t\t\toContent.setVisible(false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets property value for colorPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @private\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetColorPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"colorPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"colorPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyColorPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets property value for iconPersonalization.\n\t * Overridden to update cached personalizations.\n\t *\n\t * @private\n\t * @override\n\t * @returns {NewsAndPagesContainer} the container for chaining\n\t */\n\tsetIconPersonalizations(personalizations: Array<ISpacePagePersonalization>): NewsAndPagesContainer {\n\t\tconst existingPers = (this.getProperty(\"iconPersonalizations\") as ISpacePagePersonalization[]) || [];\n\t\tconst updatedPers = existingPers.concat(personalizations);\n\t\tthis.setProperty(\"iconPersonalizations\", updatedPers);\n\t\tthis.getContent().forEach((oContent) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\t(oContent as PagePanel).applyIconPersonalizations(updatedPers);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Marks the change as an end-user change if the content is a NewsPanel with a URL and no key user changes exist.\n\t *\n\t * @private\n\t * @param {BasePanel} oContent - The content panel to evaluate, typically of type `sap.cux.home.NewsPanel`.\n\t */\n\tpublic checkEndUserChanges(oContent: BasePanel) {\n\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && oContent.getProperty(\"url\") && !this.keyUserChange) {\n\t\t\tthis.isEndUserChange.isEndUser = true;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the current end-user change status.\n\t *\n\t * @private\n\t * @returns {EndUserChangeStatus} An object containing the end-user change flag and the news type.\n\t */\n\tpublic getIsEndUserChange(): EndUserChangeStatus {\n\t\treturn this.isEndUserChange;\n\t}\n\n\tpublic newsVisibilityChangeHandler(personalization: INewsFeedVisibiliyChange) {\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tif (personalization.isNewsFeedVisible) {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", true);\n\t\t\t\t\tnewsPanel.setVisible(true);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\tnewsPanel.setVisible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic newsPersonalization(personalizations: INewsPersData) {\n\t\tconst aContent = this.getContent();\n\t\tlet type: NewsType;\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tthis.checkEndUserChanges(oContent);\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\" && !this.isEndUserChange.isEndUser) {\n\t\t\t\tlet newsPanel = oContent as NewsPanel;\n\t\t\t\tconst newsFeedVisibility = Boolean(this.getProperty(\"newsFeedVisibility\"));\n\t\t\t\tthis.keyUserChange = true;\n\n\t\t\t\tif (personalizations.showCustomNewsFeed) {\n\t\t\t\t\ttype = NewsType.Custom;\n\t\t\t\t} else if (personalizations.showRssNewsFeed) {\n\t\t\t\t\ttype = NewsType.NewsUrl;\n\t\t\t\t} else {\n\t\t\t\t\ttype = NewsType.Default;\n\t\t\t\t}\n\t\t\t\tnewsPanel.setProperty(\"type\", type);\n\t\t\t\tnewsPanel.setProperty(\"url\", personalizations.newsFeedURL);\n\t\t\t\tnewsPanel.setProperty(\"customFeedKey\", personalizations.customNewsFeedKey);\n\t\t\t\tnewsPanel.setProperty(\"customFileName\", personalizations.customNewsFeedFileName);\n\n\t\t\t\tif (newsFeedVisibility) {\n\t\t\t\t\tconst url = personalizations.newsFeedURL as string;\n\t\t\t\t\tnewsPanel.setVisible(true);\n\t\t\t\t\tconst customFeedKey = String(newsPanel.getProperty(\"customFeedKey\"));\n\t\t\t\t\tif (personalizations.showCustomNewsFeed && customFeedKey) {\n\t\t\t\t\t\tnewsPanel.setProperty(\"newsAvailable\", true);\n\t\t\t\t\t\tvoid newsPanel.setCustomNewsFeed(customFeedKey);\n\t\t\t\t\t} else if (personalizations.showDefaultNewsFeed) {\n\t\t\t\t\t\tvoid newsPanel.setDefaultNews();\n\t\t\t\t\t} else if (personalizations.showRssNewsFeed && url) {\n\t\t\t\t\t\tvoid newsPanel.setURL(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewsPanel.setVisible(false);\n\t\t\t\t\t\tthis.setProperty(\"newsFeedVisibility\", false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic panelLoadedFn(sPanelType: string, oVal: { loaded: boolean; count: number }) {\n\t\t// same issue of panelwrapper not available at this time\n\t\tconst aContent = this.getContent();\n\t\taContent.forEach((oContent: BasePanel) => {\n\t\t\tif (oContent.getMetadata().getName() === \"sap.cux.home.PagePanel\") {\n\t\t\t\tthis.pagePanel = oContent as PagePanel;\n\t\t\t} else if (oContent.getMetadata().getName() === \"sap.cux.home.NewsPanel\") {\n\t\t\t\tthis.newsPanel = oContent as NewsPanel;\n\t\t\t}\n\t\t});\n\t\tthis.panelLoaded[sPanelType] = oVal;\n\t\tthis.adjustLayout();\n\t}\n\n\tpublic adjustStyleLayout(bIsNewsTileVisible: boolean) {\n\t\tconst sDeviceType = this.getDeviceType();\n\t\tconst newsContentWrapper = this.newsPanel ? this.newsPanel.getContent()?.[0] as VBox : undefined;\n\t\tconst pagesContentWrapper = this.pagePanel ? this.pagePanel.getContent()?.[0] as VBox : undefined;\n\t\tif (bIsNewsTileVisible) {\n\t\t\tthis.newsPanel.adjustLayout();\n\t\t}\n\t\tif (sDeviceType === DeviceType.Desktop || sDeviceType === DeviceType.LargeDesktop || sDeviceType === DeviceType.XLargeDesktop) {\n\t\t\tif (bIsNewsTileVisible) {\n\t\t\t\tpagesContentWrapper?.setWidth(\"100%\");\n\t\t\t}\n\t\t\tthis.setOrientation(OrientationType.Horizontal);\n\t\t\tnewsContentWrapper?.setWidth(\"100%\");\n\t\t\tnewsContentWrapper?.addStyleClass(\"newsTileMaxWidth\");\n\t\t} else if (sDeviceType === DeviceType.Tablet) {\n\t\t\tthis.setOrientation(OrientationType.Vertical);\n\t\t\tpagesContentWrapper?.setWidth(\"100%\");\n\t\t\tpagesContentWrapper?.setJustifyContent(\"Start\");\n\t\t\tnewsContentWrapper?.setWidth(\"calc(100vw - 64px)\");\n\t\t\tnewsContentWrapper?.removeStyleClass(\"newsTileMaxWidth\");\n\t\t} else {\n\t\t\tthis.setOrientation(OrientationType.Vertical);\n\t\t\tnewsContentWrapper?.setWidth(\"calc(100vw - 16px)\");\n\t\t}\n\n\t\tif (pagesContentWrapper) {\n\t\t\tsetTimeout(\n\t\t\t\tthis.pagePanel.attachResizeHandler.bind(\n\t\t\t\t\tthis.pagePanel,\n\t\t\t\t\tbIsNewsTileVisible,\n\t\t\t\t\tthis.getDomRef()?.clientWidth || 0,\n\t\t\t\t\tpagesContentWrapper\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Adjusts the layout of the all panels in the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\tif (this.pagePanel && this.newsPanel && this.newsPanel.getVisible()) {\n\t\t\tlet bIsNewsTileVisible = true;\n\t\t\tif (this.panelLoaded[\"Page\"]?.loaded || this.panelLoaded[\"News\"]?.loaded) {\n\t\t\t\t// In case News Panel fails to load remove the panel and apply styles for page to take full width\n\t\t\t\tif (this.panelLoaded[\"News\"]?.loaded === false) {\n\t\t\t\t\tbIsNewsTileVisible = false;\n\t\t\t\t\tthis.removeContent(this.newsPanel);\n\t\t\t\t} else if (this.panelLoaded[\"Page\"]?.loaded === false) {\n\t\t\t\t\tthis.removeContent(this.pagePanel);\n\t\t\t\t}\n\t\t\t\tthis.adjustStyleLayout(bIsNewsTileVisible);\n\t\t\t}\n\t\t} else if (this.pagePanel && this.panelLoaded[\"Page\"]?.loaded) {\n\t\t\t// If News Panel is not present apply styles for page to take full width\n\t\t\tthis.adjustStyleLayout(false);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the generic placeholder content for the News and Pages container.\n\t *\n\t * @returns {string} The HTML string representing the News and Pages container's placeholder content.\n\t */\n\tprotected getGenericPlaceholderContent(): string {\n\t\treturn getNewsPagesPlaceholder();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":186,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","CustomListItem","Dialog","HBox","Image","Label","sap_m_library","Link","List","ObjectStatus","Text","Title","VBox","CustomData","Element","HTML","Icon","sap_ui_core_library","__BaseNewsItem","___library","__NewsItem","___utils_DataFormatUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","FlexAlignItems","FlexRendertype","Priority","TitleLevel","BaseNewsItem","NewsType","NewsItem","recycleId","addFESRSemanticStepName","FESR_EVENTS","NewsGroup","extend","metadata","library","aggregations","newsItems","type","singularName","multiple","constructor","_constructor","id","settings","BaseNewsItem.prototype.constructor.call","this","init","_init","BaseNewsItem.prototype.init.call","_oTile","attachPress","pressNewsItem","bind","createNewsGroupDialog","_pressNewsItem","oEvent","tile","getSource","getProperty","openNewsGroupDialog","_openNewsGroupDialog","_this","_temp2","oNewsGroupDialog","setTitle","getTitle","oNewsGroupImage","setSrc","sImageUrl","loadNewsDetails","newsFeedData","oNewsList","setBusy","oNewsPanel","getParent","customFileName","isCSVFileFormat","split","pop","toLowerCase","endUserChanges","getIsEndUserChange","feedType","newsType","getImageUrl","persDataNewsFeed","getPersDataNewsFeed","imgData","sUrl","getUrl","showDefault","Default","_temp","oNewsConfig","changeId","getCustomFeedKey","title","showAllPreparationRequired","open","sNewsFeedURL","isEndUser","getNewsFeedDetailsUrl","Promise","resolve","getAuthNewsFeed","then","_oNewsPanel$getAuthNe","criticalStatus","setVisible","getPriority","Medium","currentDefaultGroup","getCurrentNewsGroup","getId","_group_to_article","_group_to_image","image_alt_text","setAlt","e","reject","_loadNewsDetails","aNewsDetails","clearExistingNewsItems","getNewsType","forEach","oItem","i","newsItemInstance","value","subTitle","Description","footer","footer_text","imageUrl","priority","None","priorityText","_i18nBundle","getText","addAggregation","addItem","generateNewsListTemplate","_clearExistingNewsItems","destroyAggregation","_generateNewsListTemplate","oFieldVBox","addStyleClass","expandFields","oField","idx","items","text","label","tooltip","sInitialText","oExpandButton","press","handleShowNewsFeedDetails","customData","key","PRESS","content","titleStyle","Type","href","target","renderType","Bare","alignItems","Center","src","width","height","size","visible","H5","H6","description","_createNewsGroupDialog","inverted","icon","state","oImagePriorityVBox","closeButton","closeNewsGroupDialog","contentWidth","contentHeight","buttons","addDependent","_closeNewsGroupDialog","close","_handleShowNewsFeedDetails","oButton","listItemIndex","data","fieldsVBox","getElementById","fieldExpanded","getVisible","sButtonShowText","setText"],"sources":["NewsGroup.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport Image from \"sap/m/Image\";\nimport Label from \"sap/m/Label\";\nimport { FlexAlignItems, FlexRendertype, Priority } from \"sap/m/library\";\nimport Link from \"sap/m/Link\";\nimport List from \"sap/m/List\";\nimport ObjectStatus from \"sap/m/ObjectStatus\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport HTML from \"sap/ui/core/HTML\";\nimport Icon from \"sap/ui/core/Icon\";\nimport { TitleLevel } from \"sap/ui/core/library\";\nimport BaseNewsItem from \"./BaseNewsItem\";\nimport { NewsType } from \"./library\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport { $NewsGroupSettings } from \"./NewsGroup\";\nimport NewsItem from \"./NewsItem\";\nimport NewsPanel, { INewsFeed, INewsItem, INewsLink, INewsParam } from \"./NewsPanel\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\n/**\n *\n * Class for managing and storing News Group items.\n *\n * @extends sap.cux.home.BaseNewsItem\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsGroup\n */\nexport default class NewsGroup extends BaseNewsItem {\n\tprivate oNewsGroupDialog!: Dialog;\n\tprivate oNewsGroupImage!: Image;\n\tprivate oNewsList!: List;\n\tprivate currentDefaultGroup!: INewsFeed;\n\tprivate criticalStatus!: ObjectStatus;\n\n\tconstructor(idOrSettings?: string | $NewsGroupSettings);\n\tconstructor(id?: string, settings?: $NewsGroupSettings);\n\tconstructor(id?: string, settings?: $NewsGroupSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * newsItems aggregation of the news. These items will be shown in a dialog on click of the news\n\t\t\t */\n\t\t\tnewsItems: { type: \"sap.cux.home.NewsItem\", singularName: \"newsItem\", multiple: true }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._oTile.attachPress(this, this.pressNewsItem.bind(this));\n\t\tthis.createNewsGroupDialog();\n\t}\n\n\t/**\n\t * Handles the press event on the news item, opens the dialog.\n\t * @returns {void}\n\t */\n\tprivate pressNewsItem(oEvent: Event): void {\n\t\tconst tile = oEvent.getSource();\n\t\tif (!(tile as GenericTile).getProperty(\"pressEnabled\")) {\n\t\t\t// Prevent dialog opening if the tile's pressEnabled is false\n\t\t\treturn;\n\t\t}\n\t\tvoid this.openNewsGroupDialog();\n\t}\n\n\t/**\n\t * Opens the dialog for news details\n\t * @returns {Promise<void>}\n\t */\n\tprivate async openNewsGroupDialog(): Promise<void> {\n\t\tthis.oNewsList?.setBusy(true);\n\t\tconst oNewsPanel = this.getParent() as NewsPanel;\n\t\tconst customFileName = oNewsPanel.getProperty(\"customFileName\") as string;\n\t\tconst isCSVFileFormat = customFileName.split(\".\").pop()?.toLowerCase() === \"csv\";\n\t\tconst endUserChanges = (oNewsPanel.getParent() as NewsAndPagesContainer).getIsEndUserChange();\n\t\tconst feedType = (endUserChanges.newsType || oNewsPanel.getProperty(\"type\")) as NewsType;\n\t\tconst sImageUrl = this.getImageUrl();\n\t\tconst persDataNewsFeed = oNewsPanel.getPersDataNewsFeed();\n\t\tlet newsFeedData: INewsFeed[] = [];\n\t\tlet imgData;\n\t\tconst sUrl = oNewsPanel.getUrl();\n\t\tlet showDefault = feedType === NewsType.Default;\n\t\tif (!showDefault) {\n\t\t\tconst oNewsConfig: INewsItem = {\n\t\t\t\tchangeId: oNewsPanel.getCustomFeedKey(),\n\t\t\t\ttitle: this.getTitle(),\n\t\t\t\tshowAllPreparationRequired: isCSVFileFormat ? false : !persDataNewsFeed ? true : persDataNewsFeed.showAllPreparationRequired\n\t\t\t};\n\n\t\t\tthis.oNewsGroupDialog?.open();\n\t\t\tconst sNewsFeedURL = endUserChanges.isEndUser ? sUrl : oNewsPanel.getNewsFeedDetailsUrl(oNewsConfig);\n\n\t\t\tnewsFeedData = (await oNewsPanel.getAuthNewsFeed(sNewsFeedURL, oNewsConfig.title)) as INewsFeed[];\n\t\t} else {\n\t\t\tthis.criticalStatus.setVisible(this.getPriority() === Priority.Medium);\n\n\t\t\tthis.oNewsGroupDialog?.open();\n\t\t\tthis.currentDefaultGroup = oNewsPanel.getCurrentNewsGroup(this.getId()) as INewsFeed;\n\t\t\tnewsFeedData = (this.currentDefaultGroup?._group_to_article as INewsFeed[]) || [];\n\t\t\timgData = this.currentDefaultGroup?._group_to_image as Record<string, string>;\n\t\t\tif (imgData?.image_alt_text) {\n\t\t\t\tthis.oNewsGroupImage?.setAlt(imgData.image_alt_text);\n\t\t\t}\n\t\t}\n\t\tthis.oNewsGroupDialog?.setTitle(this.getTitle());\n\t\tthis.oNewsGroupImage?.setSrc(sImageUrl);\n\t\tthis.loadNewsDetails(newsFeedData);\n\t\tthis.oNewsList?.setBusy(false);\n\t}\n\n\t/**\n\t * Iterate through the provided news details data and loads the news items\n\t * @param {INewsFeed[]} aNewsDetails array of news items to be shown in the list\n\t * @returns {void}\n\t */\n\tprivate loadNewsDetails(aNewsDetails: INewsFeed[]): void {\n\t\tthis.clearExistingNewsItems();\n\t\tconst oNewsPanel = this.getParent() as NewsPanel;\n\t\tconst showDefault = oNewsPanel?.getNewsType() === NewsType.Default;\n\t\t(aNewsDetails || []).forEach((oItem: INewsFeed, i: number) => {\n\t\t\tconst newsItemInstance = new NewsItem(recycleId(`${this.getId()}--newsItem--${i}`), {\n\t\t\t\ttitle: showDefault ? oItem.title : (oItem.Title as INewsLink).value,\n\t\t\t\tsubTitle: showDefault ? oItem.subTitle : (oItem.Description as INewsLink).value,\n\t\t\t\tfooter: showDefault ? oItem.footer_text : \"\",\n\t\t\t\timageUrl: showDefault ? this.getImageUrl() : \"\",\n\t\t\t\tpriority: showDefault && oItem.priority == \"1\" ? Priority.Medium : Priority.None,\n\t\t\t\tpriorityText: showDefault && oItem.priority == \"1\" ? this._i18nBundle.getText(\"criticalNews\") : \"\"\n\t\t\t});\n\t\t\tthis.addAggregation(\"newsItems\", newsItemInstance);\n\n\t\t\tthis.oNewsList?.addItem(this.generateNewsListTemplate(oItem, i));\n\t\t});\n\t}\n\n\t/**\n\t * Clears the existing news items from the dialog list and aggregation\n\t * @returns {void}\n\t */\n\tprivate clearExistingNewsItems(): void {\n\t\t// Destroy list items\n\t\tthis.oNewsList?.destroyAggregation(\"items\", true);\n\t\tthis.destroyAggregation(\"newsItems\", true);\n\t}\n\t/**\n\t * Generates the custom list item templates for the news details\n\t * @param {INewsFeed} oItem news feed item for binding the template\n\t * @param {number} i index of the item\n\t * @returns {CustomListItem} the template of list item to be shown in the dialog\n\t */\n\tprivate generateNewsListTemplate(oItem: INewsFeed, i: number): CustomListItem {\n\t\tconst oNewsPanel = this.getParent() as NewsPanel;\n\t\tconst showDefault = oNewsPanel?.getNewsType() === NewsType.Default;\n\t\tif (!showDefault) {\n\t\t\tconst oFieldVBox = new VBox(recycleId(this.getId() + \"--idNewsFieldsBox\" + \"--\" + i)).addStyleClass(\"newsListItemContainer\");\n\t\t\t((oItem?.expandFields as INewsLink[]) || []).forEach((oField, idx) => {\n\t\t\t\toFieldVBox.addItem(\n\t\t\t\t\tnew HBox(recycleId(this.getId() + \"--idNewsFieldHBox--\" + idx), {\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Label(recycleId(this.getId() + \"--idNewsFieldsLabel--\" + idx), {\n\t\t\t\t\t\t\t\ttext: oField.label + \":\",\n\t\t\t\t\t\t\t\ttooltip: oField.label\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text(recycleId(this.getId() + \"--idNewsFieldsValue--\" + idx), {\n\t\t\t\t\t\t\t\ttext: oField.value\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\")\n\t\t\t\t);\n\t\t\t});\n\t\t\toFieldVBox.setVisible(false);\n\t\t\tconst sInitialText = this._i18nBundle.getText(\"expand\") as string;\n\t\t\tconst oExpandButton = new Button(`${this.getId()}--expand--${i}`, {\n\t\t\t\ttext: sInitialText,\n\t\t\t\tpress: this.handleShowNewsFeedDetails.bind(this),\n\t\t\t\tcustomData: new CustomData({\n\t\t\t\t\tkey: \"index\",\n\t\t\t\t\tvalue: i\n\t\t\t\t})\n\t\t\t});\n\t\t\taddFESRSemanticStepName(oExpandButton, FESR_EVENTS.PRESS, sInitialText);\n\n\t\t\treturn new CustomListItem(recycleId(`${this.getId()}--idNewsDetailItem--${i}`), {\n\t\t\t\tcontent: [\n\t\t\t\t\tnew VBox(recycleId(`${this.getId()}--newsList--${i}`), {\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Title(recycleId(`${this.getId()}--newsTitle--${i}`), {\n\t\t\t\t\t\t\t\ttext: (oItem.Title as INewsLink).value,\n\t\t\t\t\t\t\t\ttitleStyle: \"H6\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew Text(recycleId(`${this.getId()}--newsText--${i}`), {\n\t\t\t\t\t\t\t\ttext: (oItem.Description as INewsLink).value\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--newsHBox--${i}`), {\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Label(recycleId(`${this.getId()}--newsLabel--${i}`), {\n\t\t\t\t\t\t\t\t\t\ttext: (oItem.Type as INewsLink).label + \":\",\n\t\t\t\t\t\t\t\t\t\ttooltip: (oItem.Type as INewsLink).label\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tnew Text(recycleId(`${this.getId()}--newsItemText--${i}`), {\n\t\t\t\t\t\t\t\t\t\ttext: (oItem.Type as INewsLink).value\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\"),\n\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--newsListItemBox--${i}`), {\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Label(recycleId(`${this.getId()}--newsListItemLabel--${i}`), {\n\t\t\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"readMoreLink\") + \":\",\n\t\t\t\t\t\t\t\t\t\ttooltip: (oItem.Link as INewsParam).value.label + \"\"\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tnew Link(recycleId(`${this.getId()}--newsListItemLink--${i}`), {\n\t\t\t\t\t\t\t\t\t\thref: (oItem.Link as INewsParam).value.value + \"\",\n\t\t\t\t\t\t\t\t\t\ttext: (oItem.Link as INewsParam).text,\n\t\t\t\t\t\t\t\t\t\ttarget: \"_blank\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\"),\n\t\t\t\t\t\t\toFieldVBox,\n\t\t\t\t\t\t\toExpandButton\n\t\t\t\t\t\t]\n\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\")\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"newsListItem\");\n\t\t} else {\n\t\t\treturn new CustomListItem(recycleId(`${this.getId()}--idDefaultNewsDetailItem--${i}`), {\n\t\t\t\tcontent: [\n\t\t\t\t\tnew VBox(recycleId(`${this.getId()}--defaultNewsItemVbox--${i}`), {\n\t\t\t\t\t\trenderType: FlexRendertype.Bare,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew HBox(recycleId(`${this.getId()}--defaultNewsItemTitle--${i}`), {\n\t\t\t\t\t\t\t\talignItems: FlexAlignItems.Center,\n\t\t\t\t\t\t\t\trenderType: FlexRendertype.Bare,\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon(recycleId(`${this.getId()}--newsPriorityIcon--${i}`), {\n\t\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://high-priority\",\n\t\t\t\t\t\t\t\t\t\twidth: \"1rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"1rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1rem\",\n\t\t\t\t\t\t\t\t\t\tvisible: oItem.priority === \"1\",\n\t\t\t\t\t\t\t\t\t\ttooltip: this._i18nBundle.getText(\"criticalNewsIcon\") as string\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"newsCriticalIconColor\"),\n\t\t\t\t\t\t\t\t\tnew Title(recycleId(`${this.getId()}--newsTitle--${i}`), {\n\t\t\t\t\t\t\t\t\t\ttext: oItem.title,\n\t\t\t\t\t\t\t\t\t\ttitleStyle: TitleLevel.H5\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\"),\n\t\t\t\t\t\t\tnew Title(recycleId(`${this.getId()}--newsSubTitle--${i}`), {\n\t\t\t\t\t\t\t\ttext: oItem.subTitle,\n\t\t\t\t\t\t\t\tvisible: !!oItem.subTitle,\n\t\t\t\t\t\t\t\ttitleStyle: TitleLevel.H6\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HTML(recycleId(`${this.getId()}--defaultNewsItemHTML--${i}`), {\n\t\t\t\t\t\t\t\t// add an outer div to add CSS class for styling\n\t\t\t\t\t\t\t\tcontent: `<div class=\"newsGroupHtmlContent\">${oItem.description}</div>`\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t}).addStyleClass(\"newsListItemContainer\")\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"newsListItem\");\n\t\t}\n\t}\n\n\t/**\n\t * Creates the dialog which contains the news detail items\n\t * @returns {void}\n\t */\n\tprivate createNewsGroupDialog(): void {\n\t\t//create the dialog template without binding\n\t\tif (!this.oNewsGroupDialog) {\n\t\t\tthis.oNewsGroupImage = new Image(recycleId(`${this.getId()}-custNewsImage`), {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tsrc: \"/resources/sap/cux/home/img/CustomNewsFeed/SupplyChain/3.jpg\"\n\t\t\t}).addStyleClass(\"newsGroupDialogImage\");\n\t\t\tthis.oNewsList = new List(recycleId(`${this.getId()}-custNewsList`)).addStyleClass(\"sapUiSmallMarginBottom\");\n\t\t\tthis.criticalStatus = new ObjectStatus(recycleId(`${this.getId()}-newsDialogCriticalStatus`), {\n\t\t\t\tvisible: false,\n\t\t\t\ttext: this._i18nBundle.getText(\"criticalNews\") as string,\n\t\t\t\tinverted: true,\n\t\t\t\ticon: \"sap-icon://high-priority\",\n\t\t\t\tstate: \"Warning\"\n\t\t\t}).addStyleClass(\"newsGroupDialogPriorityStatus\");\n\t\t\tlet oImagePriorityVBox = new VBox(recycleId(`${this.getId()}-newsDialogPriorityVBox`), {\n\t\t\t\trenderType: FlexRendertype.Bare,\n\t\t\t\theight: \"15rem\",\n\t\t\t\titems: [this.oNewsGroupImage, this.criticalStatus]\n\t\t\t}).addStyleClass(\"newsDialogPriorityVBox\");\n\t\t\tconst closeButton = new Button(recycleId(`${this.getId()}-custNewsFeedDetailsCloseBtn`), {\n\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\tpress: this.closeNewsGroupDialog.bind(this),\n\t\t\t\ttype: \"Transparent\"\n\t\t\t});\n\t\t\taddFESRSemanticStepName(closeButton, FESR_EVENTS.PRESS, \"newsDlgCloseBtn\");\n\t\t\tthis.oNewsGroupDialog = new Dialog(recycleId(`${this.getId()}-custNewsFeedDetailsDialog`), {\n\t\t\t\ttitle: this.getTitle() || \"\",\n\t\t\t\tcontentWidth: \"52rem\",\n\t\t\t\tcontentHeight: \"calc(100% - 2.5rem)\",\n\t\t\t\tcontent: [oImagePriorityVBox, this.oNewsList],\n\t\t\t\tbuttons: [closeButton]\n\t\t\t});\n\t\t\tthis.addDependent(this.oNewsGroupDialog);\n\t\t}\n\t}\n\n\t/**\n\t * Closes the news details dialog\n\t * @returns {void}\n\t */\n\tprivate closeNewsGroupDialog(): void {\n\t\t// Close the dialog first\n\t\tthis.oNewsGroupDialog?.close();\n\t}\n\n\t/**\n\t * Handles the click on the show more button of news detail items in news group dialog\n\t * @param {Event} oEvent\n\t * @returns {void}\n\t */\n\tprivate handleShowNewsFeedDetails(oEvent: Event): void {\n\t\tconst oButton = oEvent.getSource<Button>();\n\t\tconst listItemIndex = oButton.data(\"index\") as number;\n\t\tconst fieldsVBox = Element.getElementById(this.getId() + \"--idNewsFieldsBox\" + \"--\" + listItemIndex) as VBox;\n\t\tconst fieldExpanded: boolean = fieldsVBox.getVisible();\n\t\tfieldsVBox.setVisible(!fieldExpanded);\n\t\tconst sButtonShowText = fieldExpanded\n\t\t\t? (this._i18nBundle.getText(\"expand\") as string)\n\t\t\t: (this._i18nBundle.getText(\"collapse\") as string);\n\t\toButton.setText(sButtonShowText);\n\t\taddFESRSemanticStepName(oButton, FESR_EVENTS.PRESS, sButtonShowText);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":191,"column":0},"map":{"version":3,"names":["sap","ui","define","sap_m_library","__BaseNewsItem","_interopRequireDefault","obj","__esModule","default","URLHelper","BaseNewsItem","NewsItem","extend","metadata","library","properties","url","type","group","defaultValue","constructor","_constructor","id","settings","BaseNewsItem.prototype.constructor.call","this","init","_init","BaseNewsItem.prototype.init.call","_oTile","attachPress","pressNewsItem","bind","setUrl","_setUrl","sUrl","setProperty","getUrl","_getUrl","getProperty","_pressNewsItem","redirect"],"sources":["NewsItem.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { URLHelper } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport BaseNewsItem from \"./BaseNewsItem\";\nimport { $NewsItemSettings } from \"./NewsItem\";\n\n/**\n *\n * Class for managing and storing News items.\n *\n * @extends sap.cux.home.BaseNewsItem\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsItem\n */\nexport default class NewsItem extends BaseNewsItem {\n\tconstructor(idOrSettings?: string | $NewsItemSettings);\n\tconstructor(id?: string, settings?: $NewsItemSettings);\n\tconstructor(id?: string, settings?: $NewsItemSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The URL of the news item. Clicking on the item navigates to this URL.\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._oTile.attachPress(this, this.pressNewsItem.bind(this));\n\t}\n\n\t/**\n\t * Sets the URL of the news item.\n\t * @param {string} sUrl - The URL of the news item.\n\t */\n\tpublic setUrl(sUrl: string): NewsItem {\n\t\tthis._oTile.setUrl(sUrl);\n\t\treturn this.setProperty(\"url\", sUrl, true);\n\t}\n\n\t/**\n\t * Gets the URL of the news item.\n\t * @param {string} sUrl - The URL of the news item.\n\t */\n\tpublic getUrl(): string {\n\t\treturn this.getProperty(\"url\") as string;\n\t}\n\n\t/**\n\t * Handles the press event on the news item, redirecting the user to the specified URL.\n\t */\n\tprivate pressNewsItem(): void {\n\t\tURLHelper.redirect(this.getUrl(), true);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,mCAAA,4CAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAKSG,EAASN,EAAA,mBAEXO,EAAYL,EAAAD,GAGnB,MAaqBO,EAAiBD,EAAYE,OAAA,yBAOjCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,IAAK,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,MAVtDC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAkBOG,KAAI,SAAAC,IACVC,sBAAAH,MACAA,KAAKI,OAAOC,YAAYL,KAAMA,KAAKM,cAAcC,KAAKP,MACvD,EAMOQ,OAAM,SAAAC,EAACC,GACbV,KAAKI,OAAOI,OAAOE,GACnB,OAAOV,KAAKW,YAAY,MAAOD,EAAM,KACtC,EAMOE,OAAM,SAAAC,IACZ,OAAOb,KAAKc,YAAY,MACzB,EAKQR,cAAa,SAAAS,IACpB/B,EAAUgC,SAAShB,KAAKY,SAAU,KACnC,IAAC,OAlDmB1B,CAAQ","ignoreList":[],"sourceRoot":""}},{"offset":{"line":196,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GenericTile","SlideTile","sap_m_library","EventBus","DateFormat","XMLModel","Container","__BaseLayout","__BaseNewsPanel","__MenuItem","__NewsGroup","__NewsItem","___library","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_FESRUtil","__HttpHelper","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","Priority","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_for","test","update","body","stage","shouldContinue","updateValue","reject","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","BaseLayout","_catch","recover","BaseNewsPanel","MenuItem","NewsGroup","NewsItem","NewsType","DEFAULT_NEWS_PLACEHOLDER","DEFAULT_NEWS_URL","recycleId","DeviceType","addFESRId","HttpHelper","PersonalisationUtils","UshellPersonalizer","BASE_URL","NEWS_FEED_READ_API","NEWS_FEED_TRANSLATION_API","DEFAULT_FEED_COUNT","NEWS_HEIGHT","LargeDesktop","XLargeDesktop","Desktop","Tablet","Mobile","fnImagePlaceholder","sPath","N","Array","from","length","i","CUSTOM_NEWS_FEED","TITLE","LINK","VALIDITY","PREPARATION_REQUIRED","EXCLUDE_FIELDS","IMAGE_URL","FESR_STEP_NAME","EMPTY_DATA_ERROR_CODE","CUSTOM_IMAGES","Finance","Manufacturing","Sales","NewsPanel","extend","metadata","library","properties","url","type","group","defaultValue","visibility","Default","customFeedKey","customFileName","newsAvailable","supportedFileFormats","aggregations","newsGroup","singularName","multiple","constructor","_constructor","id","settings","BaseNewsPanel.prototype.constructor.call","_defaultNewsPromise","_noUpdatesNewsFeed","customNewsFeedCache","Map","init","_init","BaseNewsPanel.prototype.init.call","deviceType","getDeviceType","oNewsTile","getId","displayTime","width","height","tiles","mode","frameType","addStyleClass","getNewsWrapper","addContent","setProperty","_i18nBundle","getText","_eventBus","getInstance","oManageMenuItem","title","icon","press","handleEditNews","visible","setManageNewsItemVisibility","addAggregation","getData","_getData","_exit","_temp9","_result","fireEvent","adjustLayout","sUrl","getUrl","showCustom","getProperty","Custom","showDefault","showRssAtom","NewsUrl","mandatoryNewsFeed","fetchedFeedUrl","Promise","resolve","endUserChange","getParent","getIsEndUserChange","_temp8","isEndUser","fetch","response","ok","Error","status","contentType","headers","get","_temp","includes","json","_response$json","_endUserResponse","setNewsFeedFromUrl","newsType","initializeXmlModel","_this$initializeXmlMo","oNewsModel","setModel","setVisible","_temp7","_temp5","bNewsLoad","setDefaultNews","_temp4","_this$initializeXmlMo2","_temp3","sCustomNewsFeedKey","getCustomFeedKey","_temp2","setCustomNewsFeed","handleFeedError","_temp6","persDataNewsFeed","setPersDataNewsFeed","_setDefaultNews","_this2","defaultUrl","generateErrorMessage","_setManageNewsItemVisibility","isParentBaseLayout","_isParentBaseLayout","parentContainer","parentLayout","_getLayout","setPressEnabledForNewsGroup","_setPressEnabledForNewsGroup","feeds","newsGroups","getAggregation","isArray","groupDetailsMap","groupHasDescription","_defaultNewsResponse","forEach","description","trim","removeInlineStylesFromDescription","group_id","articles","_group_to_article","hasDescription","article","newsGroupMap","filter","groupId","getCurrentNewsGroup","feed","getTile","_removeInlineStylesFromDescription","replace","_getCurrentNewsGroup","newsGroupList","idParts","split","undefined","find","_getCustomFeedKey","_getUrl","_initializeXmlModel","_this3","oParent","setDefaultBindingMode","attachRequestCompleted","oEvent","panelLoadedFn","loaded","count","oDocument","getSource","loadNewsFeed","publish","showError","date","Date","attachRequestFailed","_loadNewsFeed","noOfFeeds","_this4","_temp1","querySelector","oBindingInfo","path","destroyAggregation","bindNewsTile","_temp0","extractAllImageUrls","_handleFeedError","getNewsType","setManageNewsButtonVisibility","setURL","_setURL","_this5","_adjustLayout","setHeight","setWidth","removeStyleClass","_bindNewsTile","oSlideTile","bindAggregation","templateShareable","factory","sId","oContext","newsInfo","getObject","oTile","getElementsByTagName","String","getPropertyValue","subTitle","imageUrl","footer","formatDate","sGroupId","newsId","subTitleNews","priority","priorityText","_getPropertyValue","propertyName","textContent","_extractAllImageUrls","_this6","_temp10","oItemElement","extractImage","oImageUrl","createElement","appendChild","_formatDate","timeStamp","relativeDateFormatter","getDateTimeInstance","style","relative","relativeStyle","format","getPersDataNewsFeed","_getPersDataNewsFeed","_extractImage","sHrefLink","fnLoadPlaceholderImage","sPrefix","require","toUrl","image","res","text","sHTML","aMatches","match","catch","_getNewsType","isCSVFileFormat","_isCSVFileFormat","fileName","pop","toLowerCase","_setPersDataNewsFeed","defaultFeed","_this7","_getUserPersonalization","personalizer","read","persData","defaultNewsFeed","favNewsFeed","_setNewsFeedFromUrl","data","_this8","item","_temp12","_temp11","_setCustomNewsFeed","sFeedId","_this9","feedType","isDefaultNews","showAllPrepRequired","showAllPreparationRequired","push","showPrep","getCustomOrDefaultNewsFeed","newsFeeds","selectedItems","items","isSelectedEmpty","loadCustomNewsFeed","err","error","filterMandatoryNews","_filterMandatoryNews","mandatory_text","mandatory","toUpperCase","markGroupsWithCriticalArticles","_markGroupsWithCriticalArticles","criticalArticle","getDefaultNewsFeedDetails","_getDefaultNewsFeedDetails","newsResponse","newsFeedItems","JSON","parse","stringify","defaultNews","defaultFeedDict","map","oFeed","footer_text","getDefaultFeedImage","Medium","None","getMandatoryDefaultNewsFeed","_getMandatoryDefaultNewsFeed","getDefaultNewsResponse","_getDefaultNewsResponse","fetchDefaultNews","getNoUpdatesPlaceholder","_getNoUpdatesPlaceholder","placeholderTitle","placeholderDescription","enrichedNewsPlaceholder","isNoUpdatesNewsFeed","_isNoUpdatesNewsFeed","_fetchDefaultNews","_this0","getServiceAsync","navigationService","isNavigationSupported","target","semanticObject","action","supported","_exit2","_temp14","_result4","_temp13","_response$json2","_getCustomOrDefaultNewsFeed","_this1","aDefaultgroups","getCustomFeedData","_getCustomFeedData","_this10","newsDetailUrl","isEnduser","getNewsFeedDetailsUrl","changeId","has","set","getAuthNewsFeed","_this10$customNewsFee","authorizedNewsFeeds","oFeedDict","aFeeds","getCustomFeedImage","_getNewsFeedDetailsUrl","oNews","_getAuthNewsFeed","sNewsUrl","newsTitle","_this11","all","getAllAvailableApps","getNewsFeedDetails","aAvailableApps","aNewsFeed","arrangeNewsFeeds","_arrangeNewsFeeds","aAuthNewsFeed","oNewsFeed","Category","ImpactedArtifacts","aImpactedArtifacts","impactedArtifact","oImpactedArtifact","isAuthFeed","_isAuthFeed","fioriIdSplitter","aTokens","sFioriId","index","findIndex","oApp","signature","parameters","_getAllAvailableApps","oService","_oAdapter","_aInbounds","message","_getNewsFeedDetails","_exit3","_this12","_temp16","_result6","fnFormattedLabel","sLabel","GetJSON","getTranslatedText","translationResponse","aNews","aTranslation","filterNewsOnTitle","aFields","Object","keys","aExpandFields","oField","oTranslatedField","oTranslation","ColumnName","oTranslatedFieldName","TranslatedName","label","Link","expanded","expandFields","_temp15","newsFeedDetails","_this12$filterNewsOnT","_filterNewsOnTitle","newsDetail","LineOfBusiness","_getTranslatedText","_loadCustomNewsFeed","_this13","oXMLResponse","parseJsonToXml","unbindAggregation","setData","_parseJsonToXml","_transformJsonForXml","aData","_jsonToXml","xml","key","transformedJson","rootToken","replaceAll","parser","DOMParser","parseFromString","_getCustomFeedImage","sFileName","sFileBasePath","sFilePath","files","randomIndex","randomArray","window","Uint32Array","crypto","getRandomValues","_getDefaultFeedImage","imgId","bg_image_id","groupImg","_group_to_image","getRandomDefaultImage","random","Math","floor","image_id","bg_image","mimeType","mime_type","groupBgImg","isValidBase64","base64Data","base64UrlToBase64","_base64UrlToBase","base64Url","base64","_isValidBase","input","base64Regex","paddingIndex","indexOf","lastPaddingIndex","lastIndexOf","persContainerId","getPersContainerId","ownerComponent","getOwnerComponent"],"sources":["NewsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport SlideTile from \"sap/m/SlideTile\";\nimport { FrameType, Priority } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport XMLModel from \"sap/ui/model/xml/XMLModel\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport BaseLayout from \"./BaseLayout\";\nimport type { $BaseNewsPanelSettings } from \"./BaseNewsPanel\";\nimport BaseNewsPanel from \"./BaseNewsPanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsGroup from \"./NewsGroup\";\nimport NewsItem from \"./NewsItem\";\nimport { NewsType } from \"./library\";\nimport { DEFAULT_NEWS_PLACEHOLDER, DEFAULT_NEWS_URL } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer from \"./utils/UshellPersonalizer\";\n\ninterface IBindingInfo {\n\tpath: string;\n\tlength: number;\n}\n\ninterface INewsResponse {\n\tvalue: INewsFeed[];\n}\n\nexport interface INewsFeed {\n\ttitle: string;\n\tsubTitle?: string;\n\tdescription?: string;\n\tfooter_text?: string;\n\tmandatory_text?: string;\n\tmandatory?: string;\n\t_group_to_image?: Record<string, string>;\n\t_group_to_article?: INewsFeed[];\n\tpriority?: string;\n\tgroup_id?: string;\n\t[key: string]: unknown;\n}\n\nexport interface INewsItem {\n\tchangeId: string;\n\ttitle?: string;\n\tshowAllPreparationRequired?: boolean;\n}\n\ninterface ITranslatedText {\n\tColumnName?: string;\n\tTranslatedName?: string;\n}\n\ninterface IAppConfiguration {\n\t_oAdapter: {\n\t\t_aInbounds: IAvailableApp[];\n\t};\n}\n\ninterface ODataResponse {\n\t\"@odata.context\": string;\n\t\"@odata.metadataEtag\": string;\n\tvalue: INewsFeed[];\n}\n\ninterface IAvailableApp {\n\tsemanticObject?: string;\n\taction?: string;\n\tid?: string;\n\ttitle?: string;\n\tpermanentKey?: string;\n\tcontentProviderId?: string;\n\tresolutionResult?: {\n\t\t[key: string]: string;\n\t};\n\tdeviceTypes?: {\n\t\t[key: string]: boolean;\n\t};\n\tsignature: {\n\t\tparameters: {\n\t\t\t[key: string]: IAppParameter;\n\t\t};\n\t\tadditionalParameters?: string;\n\t};\n}\n\ninterface IAppParameter {\n\tdefaultValue?: {\n\t\tvalue: string;\n\t\tformat: string;\n\t};\n\trequired: boolean;\n}\ninterface IPersDataNewsFeed {\n\titems: string[];\n\tshowAllPreparationRequired?: boolean;\n}\ninterface INewsGroupMap {\n\t[key: string]: NewsGroup;\n}\n\ninterface IGroupDetailsMap {\n\t[key: string]: INewsFeed[];\n}\n\nexport interface INewsLink {\n\t[key: string]: string;\n}\n\nexport interface INewsParam {\n\t[key: string]: { [key: string]: string };\n}\n\nexport type FileFormat = \"xlsx\" | \"csv\";\n\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\",\n\tNEWS_FEED_READ_API = BASE_URL + \"insights_read_srv/0001/\" + \"NEWS_FEED\",\n\tNEWS_FEED_TRANSLATION_API = BASE_URL + \"insights_read_srv/0001/\" + \"NewsFeedColumnTranslation\",\n\tDEFAULT_FEED_COUNT = 7,\n\tNEWS_HEIGHT = {\n\t\tLargeDesktop: \"17rem\",\n\t\tXLargeDesktop: \"17rem\",\n\t\tDesktop: \"17rem\",\n\t\tTablet: \"14rem\",\n\t\tMobile: \"11rem\"\n\t},\n\tfnImagePlaceholder = function (sPath: string, N: number) {\n\t\treturn Array.from({ length: N }, function (v, i) {\n\t\t\treturn sPath + \"/\" + (i + 1) + \".jpg\";\n\t\t});\n\t};\n\nconst CUSTOM_NEWS_FEED = {\n\t\tTITLE: \"LineOfBusiness\",\n\t\tLINK: \"WhatsNewDocument\",\n\t\tVALIDITY: \"ValidAsOf\",\n\t\tPREPARATION_REQUIRED: \"PreparationRequired\",\n\t\tEXCLUDE_FIELDS: [\n\t\t\t\"ChangeId\",\n\t\t\t\"LineNumber\",\n\t\t\t\"LineOfBusiness\",\n\t\t\t\"SolutionArea\",\n\t\t\t\"Title\",\n\t\t\t\"Description\",\n\t\t\t\"Type\",\n\t\t\t\"ValidAsOf\",\n\t\t\t\"WhatsNewDocument\",\n\t\t\t\"Link\"\n\t\t],\n\t\tIMAGE_URL: \"sap/cux/home/img/CustomNewsFeed/\",\n\t\tFESR_STEP_NAME: \"custNewsSlide-press\",\n\t\tEMPTY_DATA_ERROR_CODE: \"NODATA\"\n\t},\n\tCUSTOM_IMAGES: { [key: string]: string[] } = {\n\t\t\"Application Platform and Infrastructure\": fnImagePlaceholder(\"ApplicationPlatformandInfrastructure\", 3),\n\t\t\"Asset Management\": fnImagePlaceholder(\"AssetManagement\", 3),\n\t\t\"Cross Applications\": fnImagePlaceholder(\"CrossApplications\", 3),\n\t\tFinance: fnImagePlaceholder(\"Finance\", 3),\n\t\tManufacturing: fnImagePlaceholder(\"Manufacturing\", 3),\n\t\t\"R&D / Engineering\": fnImagePlaceholder(\"RnDandEngineering\", 3),\n\t\tSales: fnImagePlaceholder(\"Sales\", 3),\n\t\t\"Sourcing and Procurement\": fnImagePlaceholder(\"SourcingandProcurement\", 3),\n\t\t\"Supply Chain\": fnImagePlaceholder(\"SupplyChain\", 3),\n\t\tdefault: [\"default.jpg\"]\n\t};\n\n/**\n *\n * Panel class for managing and storing News.\n *\n * @extends sap.cux.home.BaseNewsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.NewsPanel\n */\nexport default class NewsPanel extends BaseNewsPanel {\n\tprivate oNewsTile!: SlideTile;\n\tprivate oNewsModel!: XMLModel;\n\tprivate oManageMenuItem!: MenuItem;\n\tprivate image!: number;\n\tprivate customNewsFeedCache: Map<string, unknown>;\n\tprivate bNewsLoad!: boolean;\n\tprivate persDataNewsFeed!: IPersDataNewsFeed; // hold the fav news feed for custom news and unselected group ids for default news\n\tprivate _eventBus!: EventBus;\n\tprivate _defaultNewsResponse!: ODataResponse;\n\tprivate mandatoryNewsFeed!: string[];\n\tprivate _defaultNewsPromise: Promise<ODataResponse> | null = null;\n\tprivate fetchedFeedUrl!: string;\n\tprivate defaultUrl!: string;\n\tprivate _noUpdatesNewsFeed: boolean = false; // flag to check if no updates news tile is shown or not\n\tprivate _endUserResponse!: ODataResponse;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * The URL of the news item.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Type of the news item.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\ttype: {\n\t\t\t\ttype: \"sap.cux.home.NewsType\",\n\t\t\t\tgroup: \"Misc\",\n\t\t\t\tvisibility: \"hidden\",\n\t\t\t\tdefaultValue: NewsType.Default\n\t\t\t},\n\t\t\t/**\n\t\t\t * The key of custom news feed.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tcustomFeedKey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * The filename of custom news feed.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tcustomFileName: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * The flag to determine rss feed will load or not.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tnewsAvailable: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Supported file formats for news.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tsupportedFileFormats: { type: \"FileFormat[]\", group: \"Misc\", defaultValue: [\"xlsx\"], visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * newsGroup aggregation for News\n\t\t\t */\n\t\t\tnewsGroup: { type: \"sap.cux.home.NewsGroup\", singularName: \"newsGroup\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tconstructor(idOrSettings?: string | $BaseNewsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseNewsPanelSettings);\n\t/**\n\t * Constructor for a new News Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseNewsPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.customNewsFeedCache = new Map();\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tconst deviceType = this.getDeviceType();\n\n\t\tthis.oNewsTile = new SlideTile(this.getId() + \"--idNewsSlide\", {\n\t\t\tdisplayTime: 20000,\n\t\t\twidth: \"100%\",\n\t\t\theight: NEWS_HEIGHT[deviceType as keyof typeof NEWS_HEIGHT],\n\t\t\ttiles: [\n\t\t\t\tnew GenericTile(this.getId() + \"--placeholder\", {\n\t\t\t\t\tstate: \"Loading\",\n\t\t\t\t\tmode: \"ArticleMode\",\n\t\t\t\t\tframeType: \"Stretch\" as FrameType\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass(\"newsTileMaxWidth sapUiSmallMarginTop\");\n\t\taddFESRId(this.oNewsTile, \"newsSlidePress\");\n\t\tthis.getNewsWrapper().addContent(this.oNewsTile);\n\t\tthis.getNewsWrapper().addStyleClass(\"newsWrapper\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"newsTitle\"));\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\tthis.oManageMenuItem = new MenuItem(`${this.getId()}-manageNews`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngNews\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: this.handleEditNews.bind(this),\n\t\t\tvisible: this.setManageNewsItemVisibility()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", this.oManageMenuItem);\n\t\taddFESRId(this.oManageMenuItem, \"manageNews\");\n\t}\n\n\t/**\n\t * Retrieves news data asynchronously.\n\t * If the news model is not initialized, it initializes the XML model and loads news feed data.\n\t * @private\n\t * @returns {Promise} A promise that resolves when the news data is retrieved.\n\t */\n\tpublic async getData() {\n\t\tlet sUrl: string = this.getUrl();\n\t\tlet showCustom = this.getProperty(\"type\") === NewsType.Custom;\n\t\tlet showDefault = this.getProperty(\"type\") === NewsType.Default;\n\t\tlet showRssAtom = this.getProperty(\"type\") === NewsType.NewsUrl;\n\n\t\tthis.mandatoryNewsFeed = [];\n\t\tif (this.fetchedFeedUrl && this.fetchedFeedUrl === sUrl) {\n\t\t\treturn;\n\t\t}\n\t\tconst endUserChange = (this.getParent() as NewsAndPagesContainer).getIsEndUserChange();\n\t\tif (endUserChange.isEndUser) {\n\t\t\t//url scenario (developer side)\n\t\t\tconst response = await fetch(sUrl);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`HTTP error! status: ${response.status}`);\n\t\t\t}\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (contentType && contentType.includes(\"application/json\")) {\n\t\t\t\tthis._endUserResponse = (await response.json()) as ODataResponse;\n\t\t\t\tawait this.setNewsFeedFromUrl(this._endUserResponse?.value);\n\t\t\t} else {\n\t\t\t\tendUserChange.newsType = NewsType.NewsUrl;\n\t\t\t\tthis.oNewsModel = await this.initializeXmlModel(sUrl);\n\t\t\t\tthis.oNewsTile.setModel(this.oNewsModel);\n\t\t\t\tthis.oManageMenuItem.setVisible(false);\n\t\t\t}\n\t\t} else {\n\t\t\t//key user scenarios\n\t\t\tif (!this.persDataNewsFeed) {\n\t\t\t\tawait this.setPersDataNewsFeed(showDefault);\n\t\t\t}\n\t\t\tif (showDefault) {\n\t\t\t\t//default news scenario\n\t\t\t\tthis.bNewsLoad = this.bNewsLoad || false;\n\t\t\t\tawait this.setDefaultNews();\n\t\t\t} else if (sUrl && showRssAtom) {\n\t\t\t\t//rss feed scenario\n\t\t\t\tthis.oNewsModel = await this.initializeXmlModel(sUrl);\n\t\t\t\tthis.oNewsTile.setModel(this.oNewsModel);\n\t\t\t\tthis.oManageMenuItem.setVisible(false);\n\t\t\t} else if (showCustom) {\n\t\t\t\t//custom news scenario\n\t\t\t\tthis.bNewsLoad = this.bNewsLoad || false;\n\t\t\t\tthis.oManageMenuItem.setVisible(true);\n\t\t\t\tconst sCustomNewsFeedKey = this.getCustomFeedKey();\n\t\t\t\tif (sCustomNewsFeedKey) {\n\t\t\t\t\tawait this.setCustomNewsFeed(sCustomNewsFeedKey);\n\t\t\t\t} else {\n\t\t\t\t\tthis.handleFeedError();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.handleFeedError();\n\t\t\t}\n\t\t}\n\t\tthis.fireEvent(\"loaded\");\n\t\tthis.adjustLayout();\n\t}\n\n\t/**\n\t * Set default news feed based on the showDefault property.\n\t * @param {boolean} showDefault - Indicates whether to show the default news feed.\n\t * @param {boolean} [isKeyUserChange=false] - Indicates if the change is made by a key user.\n\t * @private\n\t */\n\tpublic async setDefaultNews() {\n\t\t// default news scenario, if url property is passed or showDefault is true\n\n\t\tlet sUrl: string = this.getUrl();\n\t\tconst isEndUser = (this.getParent() as NewsAndPagesContainer).getIsEndUserChange().isEndUser;\n\t\tthis.defaultUrl = isEndUser ? sUrl : DEFAULT_NEWS_URL;\n\t\tthis.fetchedFeedUrl = this.defaultUrl;\n\n\t\t//reset properties\n\t\tthis.setProperty(\"newsAvailable\", true);\n\t\tthis.generateErrorMessage().setVisible(false);\n\t\tthis.setVisible(true);\n\t\tthis.oManageMenuItem.setVisible(true);\n\t\tthis.setManageNewsItemVisibility(true);\n\n\t\tawait this.setCustomNewsFeed(\"\");\n\t}\n\t/**\n\t * Set the visibility of the manage news item in the menu.\n\t * @param visible - A boolean indicating whether the manage news item should be visible or not.\n\t */\n\tprivate setManageNewsItemVisibility(visible: boolean = true): boolean {\n\t\tif (this.isParentBaseLayout() && this.oManageMenuItem) {\n\t\t\tthis.oManageMenuItem.setVisible(visible);\n\t\t\treturn visible;\n\t\t}\n\t\tthis.oManageMenuItem?.setVisible(false);\n\t\treturn false;\n\t}\n\n\t/**\n\t * Check if the parent container layout is of BaseLayout.\n\t * @returns {boolean} True if the parent container layout is a BaseLayout, otherwise false.\n\t * @private\n\t */\n\tprivate isParentBaseLayout(): boolean {\n\t\tconst parentContainer = this.getParent() as NewsAndPagesContainer;\n\t\tconst parentLayout = parentContainer?._getLayout();\n\t\treturn !!(parentLayout && parentLayout instanceof BaseLayout);\n\t}\n\n\t/**\n\t * Set the pressEnabled property for news groups based on the feed articles.\n\t * If no description is found in any of the articles within a group, the pressEnabled property is set to false.\n\t * @param feeds - An array of news feeds to check for descriptions.\n\t * @returns {void}\n\t */\n\tprivate setPressEnabledForNewsGroup(feeds: INewsFeed[] = []) {\n\t\tconst newsGroups = this.getAggregation(\"newsGroup\") as NewsGroup[] | undefined;\n\t\tif (!Array.isArray(newsGroups)) return;\n\n\t\t// Build groupDetailsMap for group details to avoid multiple iterations and clean up descriptions by removing inline styles if any\n\t\tconst groupDetailsMap: IGroupDetailsMap = {};\n\t\tconst groupHasDescription: Record<string, boolean> = {};\n\n\t\t(this._defaultNewsResponse.value || []).forEach((group) => {\n\t\t\t// Clean group description\n\t\t\tif (group?.description && group.description.trim().length > 0) {\n\t\t\t\tgroup.description = this.removeInlineStylesFromDescription(group.description);\n\t\t\t}\n\t\t\tif (group?.group_id) {\n\t\t\t\tconst articles = group._group_to_article || [];\n\t\t\t\t// Clean article descriptions and check if any article has a valid description\n\t\t\t\tlet hasDescription = false;\n\t\t\t\tarticles.forEach((article: INewsFeed) => {\n\t\t\t\t\tif (article?.description && article.description.trim().length > 0) {\n\t\t\t\t\t\tarticle.description = this.removeInlineStylesFromDescription(article.description);\n\t\t\t\t\t\thasDescription = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgroupDetailsMap[group.group_id] = articles;\n\t\t\t\tgroupHasDescription[group.group_id] = hasDescription;\n\t\t\t}\n\t\t});\n\n\t\tconst newsGroupMap: INewsGroupMap = {};\n\t\t// Iterate through the news groups and map group IDs to NewsGroup instances\n\t\tnewsGroups\n\t\t\t.filter((group) => group instanceof NewsGroup)\n\t\t\t.forEach((group) => {\n\t\t\t\tconst groupId = this.getCurrentNewsGroup(group.getId())?.group_id;\n\t\t\t\tif (groupId) {\n\t\t\t\t\tnewsGroupMap[groupId] = group;\n\t\t\t\t}\n\t\t\t});\n\n\t\t//  If no description is found in any of the articles within the group,\n\t\t// \tdisable the pressEnabled property for the news group to prevent user interaction.\n\t\tfeeds.forEach((feed) => {\n\t\t\tif (!feed.group_id) return;\n\t\t\tconst newsGroup = newsGroupMap[feed.group_id];\n\t\t\tif (newsGroup && !groupHasDescription[feed.group_id]) {\n\t\t\t\tnewsGroup.getTile()?.setProperty(\"pressEnabled\", false);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param description - The description from which inline styles need to be removed.\n\t * @returns {string} The description with inline styles removed.\n\t */\n\tprivate removeInlineStylesFromDescription(description: string): string {\n\t\treturn description.replace(/\\s*style\\s*=\\s*(['\"])[\\s\\S]*?\\1/gi, \"\");\n\t}\n\n\t/**\n\t * Retrieves the current news group data based on the provided id.\n\t *\n\t * @param id - The group ID\n\t * @returns The news group object that matches the extracted group ID, or `undefined`\n\t *          if no matching group is found.\n\t * @private\n\t */\n\tpublic getCurrentNewsGroup(id: string) {\n\t\tconst newsGroupList = this._defaultNewsResponse?.value;\n\t\tconst idParts = id.split(\"-newsgroup-\");\n\t\tconst groupId = idParts.length > 1 ? idParts[1] : null;\n\n\t\tif (!groupId || !newsGroupList) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn groupId === \"placeholderNews\" ? newsGroupList[0] : newsGroupList.find((group) => group.group_id === groupId);\n\t}\n\n\t/**\n\t * Returns the custom news feed key property of NewsPanel\n\t * @returns {string} custom news feed key\n\t */\n\tpublic getCustomFeedKey(): string {\n\t\treturn this.getProperty(\"customFeedKey\") as string;\n\t}\n\n\t/**\n\t * Returns the Url property of NewsPanel\n\t * @returns {any}\n\t */\n\tpublic getUrl(): string {\n\t\treturn this.getProperty(\"url\") as string;\n\t}\n\n\t/**\n\t * Initializes an XML model for managing news data.\n\t * This method returns a Promise that resolves to the initialized XML model.\n\t */\n\n\t/**\n\t * Initializes an XML model for managing news data.\n\t * This method returns a Promise that resolves to the initialized XML model.\n\t * @param {string} sUrl rss url to load the news feed\n\t * @returns {Promise<XMLModel>} XML Document containing the news feeds\n\t */\n\tprivate async initializeXmlModel(sUrl: string): Promise<XMLModel> {\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\treturn new Promise((resolve) => {\n\t\t\tconst oNewsModel = new XMLModel(sUrl);\n\t\t\tthis.fetchedFeedUrl = sUrl;\n\t\t\toNewsModel.setDefaultBindingMode(\"OneWay\");\n\t\t\toNewsModel.attachRequestCompleted((oEvent: Event) => {\n\t\t\t\tvoid (async () => {\n\t\t\t\t\tif (!this.bNewsLoad) {\n\t\t\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: true, count: DEFAULT_FEED_COUNT });\n\t\t\t\t\t\tthis.bNewsLoad = true;\n\t\t\t\t\t}\n\t\t\t\t\tconst oDocument = oEvent.getSource<XMLModel>().getData() as XMLDocument;\n\t\t\t\t\tawait this.loadNewsFeed(oDocument, 0);\n\t\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"newsFeedLoadFailed\", { showError: false, date: new Date() });\n\t\t\t\t\tresolve(oNewsModel);\n\t\t\t\t})();\n\t\t\t});\n\t\t\toNewsModel.attachRequestFailed(() => {\n\t\t\t\tthis.handleFeedError();\n\t\t\t\tif (!this.bNewsLoad) {\n\t\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: false, count: 0 });\n\t\t\t\t\tthis.bNewsLoad = true;\n\t\t\t\t}\n\t\t\t\tthis._eventBus.publish(\"KeyUserChanges\", \"newsFeedLoadFailed\", { showError: true, date: new Date() });\n\t\t\t\tresolve(oNewsModel);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Loads the news feed based on the provided document and number of feeds.\n\t * Determines the feed type (RSS, feed, custom) and binds the news tile accordingly.\n\t * @param {Document} oDocument - The document containing the news feed data.\n\t * @param {number} [noOfFeeds] - The number of feeds to be displayed. Defaults to a predefined value.\n\t */\n\tprivate async loadNewsFeed(oDocument: Document, noOfFeeds: number) {\n\t\tlet oBindingInfo: IBindingInfo;\n\t\tif (!oDocument?.querySelector(\"customFeed\") && !oDocument?.querySelector(\"defaultFeed\")) {\n\t\t\tawait this.extractAllImageUrls(oDocument, noOfFeeds || DEFAULT_FEED_COUNT);\n\t\t}\n\n\t\tif (!!oDocument?.querySelector(\"rss\") && !!oDocument?.querySelector(\"item\")) {\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/channel/item/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else if (!!oDocument?.querySelector(\"atom\") && !!oDocument?.querySelector(\"entry\")) {\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/entry/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else if (\n\t\t\t(!!oDocument?.querySelector(\"customFeed\") || !!oDocument?.querySelector(\"defaultFeed\")) &&\n\t\t\t!!oDocument?.querySelector(\"item\")\n\t\t) {\n\t\t\tthis.destroyAggregation(\"newsGroup\");\n\t\t\toBindingInfo = {\n\t\t\t\tpath: \"/item/\",\n\t\t\t\tlength: noOfFeeds || DEFAULT_FEED_COUNT\n\t\t\t};\n\t\t} else {\n\t\t\tthis.handleFeedError();\n\t\t\treturn;\n\t\t}\n\t\tthis.bindNewsTile(this.oNewsTile, oBindingInfo);\n\t}\n\n\t/**\n\t * Handles errors that occur during the loading of the news feed.\n\t * @returns {void}\n\t */\n\tpublic handleFeedError(): void {\n\t\tif (this.getNewsType() === NewsType.Custom || this.getNewsType() === NewsType.Default) {\n\t\t\tthis.generateErrorMessage().setVisible(true);\n\t\t\tif (!this.isParentBaseLayout()) {\n\t\t\t\tthis.setManageNewsButtonVisibility(false);\n\t\t\t}\n\t\t\tthis.oNewsTile.setVisible(false);\n\t\t} else {\n\t\t\tthis.setVisible(false);\n\t\t\tthis.setProperty(\"newsAvailable\", false);\n\t\t\tthis.oManageMenuItem.setVisible(false);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the URL for the news tile and triggers data fetch.\n\t *\n\t * @param {string} url - The news URL to be set.\n\t * @returns {Promise<void>} A promise that resolves once data fetching is complete.\n\t *\n\t * @private\n\t */\n\tpublic async setURL(url: string) {\n\t\tthis.setProperty(\"type\", NewsType.NewsUrl);\n\t\tthis.setProperty(\"newsAvailable\", true);\n\t\tthis.generateErrorMessage().setVisible(false);\n\t\tthis.setVisible(true);\n\t\tthis.oNewsTile.setVisible(true);\n\t\tthis.setProperty(\"url\", url);\n\t\tawait this.getData();\n\t}\n\n\t/**\n\t * Adjust layout based on the device type\n\t *\n\t * @private\n\t */\n\tpublic adjustLayout() {\n\t\tconst deviceType = this.getDeviceType();\n\t\tthis.oNewsTile.setHeight(NEWS_HEIGHT[deviceType as keyof typeof NEWS_HEIGHT]);\n\n\t\tif (deviceType === DeviceType.Mobile) {\n\t\t\tthis.generateErrorMessage().setWidth(\"100%\");\n\t\t\tthis.oNewsTile.removeStyleClass(\"sapUiSmallMarginTop\");\n\t\t} else {\n\t\t\tthis.oNewsTile.addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\t}\n\n\t/**\n\t * Binds the news tile with the provided binding information.\n\t * @param {sap.m.SlideTile} oSlideTile - The SlideTile control to be bound.\n\t * @param {IBindingInfo} oBindingInfo - The binding information containing the path and length of the aggregation.\n\t */\n\tprivate bindNewsTile(oSlideTile: SlideTile, oBindingInfo: IBindingInfo): void {\n\t\tif (oBindingInfo) {\n\t\t\toSlideTile.bindAggregation(\"tiles\", {\n\t\t\t\tpath: oBindingInfo.path,\n\t\t\t\tlength: oBindingInfo.length,\n\t\t\t\ttemplateShareable: false,\n\t\t\t\tfactory: (sId: string, oContext: Context) => {\n\t\t\t\t\tconst newsInfo = oContext.getObject() as XMLDocument;\n\t\t\t\t\tlet oTile;\n\t\t\t\t\tif (newsInfo.getElementsByTagName(\"link\").length > 0) {\n\t\t\t\t\t\toTile = new NewsItem(recycleId(`${sId}-news-item`), {\n\t\t\t\t\t\t\turl: String(this.getPropertyValue(newsInfo, \"link\") ?? \"\"),\n\t\t\t\t\t\t\ttitle: String(this.getPropertyValue(newsInfo, \"title\") ?? \"\"),\n\t\t\t\t\t\t\tsubTitle: String(this.getPropertyValue(newsInfo, \"description\") ?? \"\"),\n\t\t\t\t\t\t\timageUrl: String(this.getPropertyValue(newsInfo, \"imageUrl\") ?? \"\"),\n\t\t\t\t\t\t\tfooter: this.formatDate(String(this.getPropertyValue(newsInfo, \"pubDate\") ?? \"\"))\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.addAggregation(\"newsItems\", oTile, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet sGroupId = this.getPropertyValue(newsInfo, \"group_id\") ?? \"\";\n\t\t\t\t\t\tlet newsId = sGroupId && sGroupId.trim() ? `${sId}-newsgroup-${sGroupId}` : `${sId}-newsgroup`;\n\t\t\t\t\t\tlet subTitleNews = this.getPropertyValue(newsInfo, \"subTitle\") ?? \"\";\n\t\t\t\t\t\toTile = new NewsGroup(recycleId(newsId), {\n\t\t\t\t\t\t\ttitle: String(this.getPropertyValue(newsInfo, \"title\") ?? \"\"),\n\t\t\t\t\t\t\tsubTitle: subTitleNews || this._i18nBundle.getText(\"newsFeedDescription\"),\n\t\t\t\t\t\t\timageUrl: String(this.getPropertyValue(newsInfo, \"imageUrl\") ?? \"\"),\n\t\t\t\t\t\t\tfooter: String(this.getPropertyValue(newsInfo, \"footer\") ?? \"\"),\n\t\t\t\t\t\t\tpriority: this.getPropertyValue(newsInfo, \"priority\") as Priority,\n\t\t\t\t\t\t\tpriorityText: String(this.getPropertyValue(newsInfo, \"priorityText\") ?? \"\")\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.addAggregation(\"newsGroup\", oTile, true);\n\t\t\t\t\t}\n\t\t\t\t\treturn oTile.getTile();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate getPropertyValue(newsInfo: XMLDocument, propertyName: string) {\n\t\treturn newsInfo.getElementsByTagName(propertyName)?.[0]?.textContent;\n\t}\n\n\t/**\n\t * Extracts images for all the news tiles\n\t * @param {Document} oDocument - The document containing the news feed data.\n\t * @param {number} [noOfFeeds] - The number of feeds to be displayed. Defaults to a predefined value.\n\t */\n\tprivate async extractAllImageUrls(oDocument: Document, noOfFeeds: number) {\n\t\tfor (let i = 0; i < noOfFeeds; i++) {\n\t\t\tconst oItemElement = oDocument?.getElementsByTagName(\"item\")[i];\n\t\t\tconst sUrl: string = await this.extractImage(String(oItemElement.getElementsByTagName(\"link\")[0].textContent ?? \"\"));\n\t\t\tconst oImageUrl = oDocument.createElement(\"imageUrl\");\n\t\t\toImageUrl.textContent = sUrl;\n\t\t\toItemElement.appendChild(oImageUrl);\n\t\t}\n\t}\n\n\t/**\n\t * Converts the given date to a relative date-time format.\n\t * @param {string} timeStamp - The timestamp to be converted.\n\t * @returns {string} The date in relative date-time format.\n\t */\n\tprivate formatDate(timeStamp: string): string {\n\t\tconst relativeDateFormatter = DateFormat.getDateTimeInstance({\n\t\t\tstyle: \"medium\",\n\t\t\trelative: true,\n\t\t\trelativeStyle: \"short\"\n\t\t});\n\t\treturn relativeDateFormatter.format(new Date(timeStamp));\n\t}\n\n\t/**\n\t * Returns the favourite news feed for the custom news\n\t * @returns {IPersDataNewsFeed}\n\t * @private\n\t */\n\tpublic getPersDataNewsFeed() {\n\t\treturn this.persDataNewsFeed;\n\t}\n\n\t/**\n\t * Extracts the image URL from the provided HREF link or link.\n\t * @param {string} sHrefLink - The HREF link containing the image URL.\n\t * @returns {Promise} A promise that resolves to the extracted image URL.\n\t */\n\tprivate extractImage(sHrefLink: string): Promise<string> {\n\t\tconst fnLoadPlaceholderImage = () => {\n\t\t\tconst sPrefix = sap.ui.require.toUrl(\"sap/cux/home/img\");\n\t\t\tthis.image = this.image ? this.image + 1 : 1;\n\t\t\tthis.image = this.image < 9 ? this.image : 1;\n\t\t\treturn `${sPrefix}/${this.image}.jpg`;\n\t\t};\n\n\t\treturn fetch(sHrefLink)\n\t\t\t.then((res) => res.text())\n\t\t\t.then((sHTML) => {\n\t\t\t\tconst aMatches = sHTML.match(/<meta[^>]*property=[\"']og:image[\"'][^>]*content=[\"']([^\"']+)[\"'][^>]*>/i);\n\t\t\t\treturn Array.isArray(aMatches) && aMatches[1] ? aMatches[1] : fnLoadPlaceholderImage();\n\t\t\t})\n\t\t\t.catch(fnLoadPlaceholderImage);\n\t}\n\n\tpublic getNewsType(): NewsType {\n\t\treturn (this.getParent() as NewsAndPagesContainer)?.getIsEndUserChange?.()?.newsType || (this.getProperty(\"type\") as NewsType);\n\t}\n\t/**\n\t * Checks if the custom file format is CSV based on the custom file name.\n\t *\n\t * @param {string} fileName - The custom file name.\n\t * @returns {boolean} True if the file format is CSV, otherwise false.\n\t */\n\tprivate isCSVFileFormat(fileName: string): boolean {\n\t\treturn fileName.split(\".\").pop()?.toLowerCase() === (\"csv\" as string);\n\t}\n\t/**\n\t * Sets the favorite news feed for the user by retrieving personalization data.\n\t *\n\t * This method asynchronously fetches the user's personalization data and if  defaultFeed is true, updates favNewsFeed as\n\t * `defaultNewsFeed`. If defaultFeed is false, it updates it with the `favNewsFeed` news feed information.\n\t * @param {boolean} [defaultFeed] - Indicates whether to set the default news feed or favorite (custom) news feed.\n\t * @returns {Promise<void>} A promise that resolves when the favorite news feed is set.\n\t * @private\n\t */\n\tprivate async setPersDataNewsFeed(defaultFeed?: boolean): Promise<void> {\n\t\tconst personalizer = await this._getUserPersonalization();\n\t\tconst persData = await personalizer?.read();\n\t\tthis.persDataNewsFeed = (defaultFeed ? persData?.defaultNewsFeed : persData?.favNewsFeed) as IPersDataNewsFeed;\n\t}\n\n\t/**\n\t * Sets the news feed type (Default or Custom) based on the provided data structure.\n\t *\n\t * @param {INewsFeed[]} data - News feed data from the URL.\n\t * @returns {Promise<void>} Resolves after setting the appropriate feed.\n\t */\n\tpublic async setNewsFeedFromUrl(data: INewsFeed[]): Promise<void> {\n\t\tconst item = data?.[0];\n\n\t\tif (item && \"group_id\" in item && \"title\" in item) {\n\t\t\t(this.getParent() as NewsAndPagesContainer).getIsEndUserChange().newsType = NewsType.Default;\n\t\t\tawait this.setDefaultNews();\n\t\t} else if (item && \"LineOfBusiness\" in item) {\n\t\t\t(this.getParent() as NewsAndPagesContainer).getIsEndUserChange().newsType = NewsType.Custom;\n\t\t\tthis.oManageMenuItem.setVisible(true);\n\t\t\tawait this.setCustomNewsFeed(\"\");\n\t\t} else {\n\t\t\tthis.handleFeedError();\n\t\t}\n\t}\n\n\t/**\n\t * This method retrieves the count and feeds of the custom news feed asynchronously.\n\t * If the count is not zero, it loads the custom news feed data and returns the feeds.\n\t * @param {string} sFeedId - The ID of the custom news feed to set.\n\t * @returns {Promise} A promise that resolves to an array of news feeds.\n\t * @private\n\t */\n\tpublic async setCustomNewsFeed(sFeedId: string): Promise<void> {\n\t\ttry {\n\t\t\tthis.oNewsTile.setVisible(true);\n\t\t\tthis.generateErrorMessage().setVisible(false);\n\t\t\tconst feedType = this.getNewsType();\n\t\t\tconst isDefaultNews = feedType === NewsType.Default;\n\t\t\tawait this.setPersDataNewsFeed(isDefaultNews);\n\t\t\tconst customFileName = this.getProperty(\"customFileName\") as string;\n\t\t\tconst showAllPrepRequired = this.isCSVFileFormat(customFileName)\n\t\t\t\t? false\n\t\t\t\t: (this.persDataNewsFeed?.showAllPreparationRequired ?? true);\n\n\t\t\tif (this.isCSVFileFormat(customFileName)) {\n\t\t\t\tCUSTOM_NEWS_FEED.EXCLUDE_FIELDS.push(\"PreparationRequired\");\n\t\t\t}\n\t\t\tconst showPrep = isDefaultNews ? true : showAllPrepRequired;\n\t\t\tlet newsFeeds = await this.getCustomOrDefaultNewsFeed(sFeedId || \"\", showPrep);\n\n\t\t\tif (newsFeeds.length === 0) {\n\t\t\t\tthrow new Error(\"Error: No news feed available\");\n\t\t\t}\n\t\t\tconst selectedItems = this.persDataNewsFeed?.items;\n\n\t\t\t// Handle no favorite feed case\n\t\t\tconst isSelectedEmpty = selectedItems?.length === 0;\n\n\t\t\tif (!isDefaultNews && isSelectedEmpty) {\n\t\t\t\t(this.getParent() as NewsAndPagesContainer)?.panelLoadedFn(\"News\", { loaded: true, count: 0 });\n\t\t\t\tthrow new Error(\"Error: No fav news feed available\");\n\t\t\t}\n\n\t\t\t// Filter feeds based on personalization\n\t\t\tif (selectedItems?.length) {\n\t\t\t\tnewsFeeds = newsFeeds.filter((feed) => {\n\t\t\t\t\t// if its defaultNews then we show everything except the group ids present inside persDataNewsFeed items\n\t\t\t\t\t// if the group id is mandatory then we show it\n\t\t\t\t\tif (isDefaultNews) {\n\t\t\t\t\t\treturn !selectedItems.includes(feed.group_id as string) || this.mandatoryNewsFeed.includes(feed.group_id as string);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if its customNews we show only the groups that is present in persDataNewsFeed items\n\t\t\t\t\t\treturn selectedItems.includes(feed.title);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (newsFeeds.length === 0) {\n\t\t\t\t\t(this.getParent() as NewsAndPagesContainer)?.panelLoadedFn(\"News\", { loaded: true, count: 0 });\n\t\t\t\t\tthrow new Error(\"Error: No news feed available after filtering\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.loadCustomNewsFeed(newsFeeds, sFeedId ? \"customFeed\" : \"defaultFeed\");\n\t\t\tif (isDefaultNews) {\n\t\t\t\tthis.fetchedFeedUrl = this.defaultUrl;\n\t\t\t\t// If no description is found in any of the articles within a group, the pressEnabled property is set to false\n\t\t\t\tthis.setPressEnabledForNewsGroup(newsFeeds);\n\t\t\t} else {\n\t\t\t\tthis.fetchedFeedUrl = \"\";\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t\tthis.handleFeedError();\n\t\t}\n\t}\n\n\t/**\n\t * Filters the provided list of news groups to include only those that are marked as mandatory.\n\t *\n\t * A news group is considered mandatory if:\n\t * - Its `mandatory_text` property (at the top level) is set to \"TRUE\" (case-insensitive).\n\t *\n\n\t * @param newsGroups - An array of news groups to filter.\n\t * @returns An array of news groups that are marked as mandatory.\n\t * @private\n\t */\n\tprivate filterMandatoryNews(newsGroups: INewsFeed[]): INewsFeed[] {\n\t\treturn newsGroups.filter(\n\t\t\t({ mandatory_text, mandatory }) => mandatory_text?.toUpperCase() === \"TRUE\" || mandatory?.toUpperCase() === \"X\"\n\t\t);\n\t}\n\n\t/**\n\t * Set the priority of group to critical if any article within the group is critical.\n\t *\n\t * A news group is considered critical if:\n\t * - The group's `priority` is set to `\"1\"`.\n\t * - Any article within the group's `_group_to_article` array has a `priority` of `\"1\"`.\n\t *\n\t * If any article within a group is critical, the group's `priority` is updated to `\"1\"` and group's `priorityText` changed to \"Very high\".\n\t *\n\t * @param newsGroups - An array of news groups.\n\t *\n\t */\n\tprivate markGroupsWithCriticalArticles(newsGroups: INewsFeed[]): void {\n\t\tfor (const group of newsGroups) {\n\t\t\tconst criticalArticle = group._group_to_article?.find((article) => article.priority === \"1\");\n\t\t\t//make newsgroup priority to Veryhigh\n\t\t\tif (criticalArticle) {\n\t\t\t\tgroup.priority = criticalArticle.priority;\n\t\t\t\tgroup.priorityText = criticalArticle.priorityText;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the default news feed details from the given OData response.\n\t *\n\t * @param newsResponse - The OData response containing the news feed data.\n\t * @param showAllPreparationRequired - A boolean flag indicating whether to filter news items that require preparation.\n\t * @returns An array of default news feed items.\n\t * @private\n\t */\n\tprivate getDefaultNewsFeedDetails(newsResponse: ODataResponse) {\n\t\tlet newsFeedItems: INewsFeed[] = JSON.parse(JSON.stringify(newsResponse.value || [])) as INewsFeed[];\n\t\tconst defaultNews: INewsFeed[] = [];\n\t\tconst defaultFeedDict = {} as Record<string, string>;\n\t\tthis.mandatoryNewsFeed = [];\n\t\tif (newsFeedItems?.length > 0) {\n\t\t\tthis.mandatoryNewsFeed = this.filterMandatoryNews(newsFeedItems).map((oFeed) => oFeed.group_id || \"\");\n\t\t\tthis.markGroupsWithCriticalArticles(newsFeedItems);\n\n\t\t\tfor (const feed of newsFeedItems) {\n\t\t\t\tconst title = feed.title;\n\t\t\t\tlet subTitle = \"\";\n\t\t\t\tif (!defaultFeedDict[title]) {\n\t\t\t\t\tsubTitle = feed.subTitle || feed.description || \"\";\n\t\t\t\t\tdefaultNews.push({\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tfooter: feed?.footer_text,\n\t\t\t\t\t\timageUrl: this.getDefaultFeedImage(feed),\n\t\t\t\t\t\tgroup_id: feed.group_id,\n\t\t\t\t\t\tsubTitle: subTitle,\n\t\t\t\t\t\tpriority: feed?.priority == \"1\" ? Priority.Medium : Priority.None,\n\t\t\t\t\t\tpriorityText: feed?.priority == \"1\" ? this._i18nBundle.getText(\"criticalNews\") : \"\"\n\t\t\t\t\t});\n\t\t\t\t\tdefaultFeedDict[title] = title;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn defaultNews;\n\t}\n\n\t/**\n\t * Returns the mandatory news feed details\n\t * If the mandatory news feed is not set, it returns an empty array.\n\t *\n\t * @returns {INewsFeed[]} The mandatory news feed details.\n\t * @private\n\t */\n\tpublic getMandatoryDefaultNewsFeed() {\n\t\treturn this.mandatoryNewsFeed || [];\n\t}\n\n\t/**\n\t * Retrieves the default news response, either from cache or by fetching it.\n\t * @returns {Promise<ODataResponse>} A promise that resolves to the default news data\n\t * @private\n\t */\n\tprivate getDefaultNewsResponse(): Promise<ODataResponse> {\n\t\t// Return cached data if available\n\t\tif (this._defaultNewsResponse) {\n\t\t\treturn Promise.resolve(this._defaultNewsResponse);\n\t\t}\n\n\t\tif (!this._defaultNewsPromise) {\n\t\t\tthis._defaultNewsPromise = this.fetchDefaultNews();\n\t\t}\n\n\t\treturn this._defaultNewsPromise;\n\t}\n\n\t/**\n\t *\n\t * @returns {ODataResponse} The no update placeholder news group with enriched titles and descriptions to show when there are no updates\n\t * @private\n\t */\n\tprivate getNoUpdatesPlaceholder(): ODataResponse {\n\t\tconst placeholderTitle = this._i18nBundle.getText(\"placeholderNewsTitle\") as string;\n\t\tconst placeholderDescription = this._i18nBundle.getText(\"placeholderNewsDescription\");\n\n\t\tconst enrichedNewsPlaceholder = {\n\t\t\t...DEFAULT_NEWS_PLACEHOLDER,\n\t\t\tvalue: DEFAULT_NEWS_PLACEHOLDER.value.map((group) => ({\n\t\t\t\t...group,\n\t\t\t\ttitle: placeholderTitle,\n\t\t\t\tdescription: placeholderDescription,\n\t\t\t\t_group_to_article: group._group_to_article.map((article) => ({\n\t\t\t\t\t...article,\n\t\t\t\t\ttitle: placeholderTitle,\n\t\t\t\t\tdescription: \"\"\n\t\t\t\t}))\n\t\t\t}))\n\t\t};\n\t\treturn enrichedNewsPlaceholder;\n\t}\n\n\t/**\n\t * Returns if its a no updates new feed group or not\n\t * This indicates whether the news feed is a static no updates placeholder news feed.\n\t * @private\n\t */\n\tpublic isNoUpdatesNewsFeed(): boolean {\n\t\treturn this._noUpdatesNewsFeed;\n\t}\n\n\t/**\n\t * Fetches the default news data from the server.\n\t * @returns {Promise<ODataResponse>} A promise that resolves to the fetched news data\n\t * @throws {Error} If the network request fails or returns a non-OK status\n\t * @private\n\t */\n\tprivate async fetchDefaultNews(): Promise<ODataResponse> {\n\t\ttry {\n\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\tconst [{ supported }] = await navigationService.isNavigationSupported([\n\t\t\t\t{\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tsemanticObject: \"NewsArticle\",\n\t\t\t\t\t\taction: \"display\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]);\n\t\t\tif (supported) {\n\t\t\t\tif (this._endUserResponse) {\n\t\t\t\t\tthis._defaultNewsResponse = this._endUserResponse;\n\t\t\t\t} else {\n\t\t\t\t\tconst response = await fetch(this.defaultUrl || DEFAULT_NEWS_URL);\n\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\tthrow new Error(`HTTP error! status: ${response.status}`);\n\t\t\t\t\t}\n\t\t\t\t\tthis._defaultNewsResponse = (await response.json()) as ODataResponse;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If the response is not supported or empty, set the default news response to placeholder news\n\t\t\tif (!supported || !this._defaultNewsResponse?.value?.length) {\n\t\t\t\tthis._defaultNewsResponse = this.getNoUpdatesPlaceholder();\n\t\t\t\tthis._noUpdatesNewsFeed = true;\n\t\t\t\tthis.oManageMenuItem.setVisible(false);\n\t\t\t}\n\n\t\t\treturn this._defaultNewsResponse;\n\t\t} catch (error) {\n\t\t\tthis._defaultNewsPromise = null;\n\t\t\tLog.error(error as string);\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a custom news feed based on the provided feed ID.\n\t * If no feed ID is provided, it returns the default news feed.\n\t *\n\t * @param {string} sFeedId - The ID of the custom news feed to retrieve. If not provided, the default news feed is returned.\n\t * @param {boolean} showAllPreparationRequired - A flag indicating whether to show all preparation required.\n\t * @returns {Promise<INewsFeed[]>} A promise that resolves to an array of custom news feed items.\n\t * @private\n\t */\n\tpublic async getCustomOrDefaultNewsFeed(sFeedId: string, showAllPreparationRequired: boolean): Promise<INewsFeed[]> {\n\t\tconst feedType = this.getNewsType();\n\t\tconst isDefaultNews = feedType === NewsType.Default;\n\t\tif (isDefaultNews) {\n\t\t\tawait this.getDefaultNewsResponse();\n\t\t\tlet aDefaultgroups = this.getDefaultNewsFeedDetails(this._defaultNewsResponse);\n\t\t\treturn aDefaultgroups;\n\t\t} else {\n\t\t\treturn this.getCustomFeedData(sFeedId, showAllPreparationRequired);\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves custom news feed items identified by the provided feed ID and settings.\n\t * It processes the response data and returns an array of custom news feed items.\n\t * @param {string} sFeedId - The ID of the custom news feed.\n\t * @param {boolean} showAllPreparationRequired - Indicates whether to show all preparation required.\n\t * @returns {Promise} A Promise that resolves to an array of custom news feed items.\n\t * @private\n\t */\n\tprivate async getCustomFeedData(sFeedId: string, showAllPreparationRequired: boolean): Promise<INewsFeed[]> {\n\t\ttry {\n\t\t\tlet newsDetailUrl;\n\t\t\tconst isEnduser = (this.getParent() as NewsAndPagesContainer).getIsEndUserChange().isEndUser;\n\t\t\tnewsDetailUrl = isEnduser ? this.getUrl() : this.getNewsFeedDetailsUrl({ changeId: sFeedId, showAllPreparationRequired });\n\t\t\tif (!this.customNewsFeedCache.has(newsDetailUrl)) {\n\t\t\t\tthis.customNewsFeedCache.set(newsDetailUrl, this.getAuthNewsFeed(newsDetailUrl));\n\t\t\t}\n\t\t\tconst authorizedNewsFeeds = (await this.customNewsFeedCache.get(newsDetailUrl)) as INewsFeed[];\n\t\t\tconst oFeedDict: { [key: string]: string } = {};\n\t\t\tconst aFeeds: INewsFeed[] = [];\n\t\t\tif (authorizedNewsFeeds?.length > 0) {\n\t\t\t\tauthorizedNewsFeeds.forEach((oFeed: INewsFeed) => {\n\t\t\t\t\tconst title = oFeed[CUSTOM_NEWS_FEED.TITLE] as INewsLink;\n\t\t\t\t\tif (!oFeedDict[title.value]) {\n\t\t\t\t\t\taFeeds.push({\n\t\t\t\t\t\t\ttitle: title.value,\n\t\t\t\t\t\t\tfooter: (oFeed[CUSTOM_NEWS_FEED.VALIDITY] as INewsLink)?.value,\n\t\t\t\t\t\t\timageUrl: this.getCustomFeedImage(title.value)\n\t\t\t\t\t\t});\n\t\t\t\t\t\toFeedDict[title.value] = title.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aFeeds; // group details\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t\tthrow new Error(err as string);\n\t\t}\n\t}\n\n\t/**\n\t * Generates the URL for retrieving news feed details based on the provided news object.\n\t * The generated URL limits the number of results to 999.\n\t * @param {INewsItem} oNews - The news object containing properties such as changeId, title, and showAllPreparationRequired.\n\t * @returns {string} The URL for retrieving news feed details.\n\t */\n\tpublic getNewsFeedDetailsUrl(oNews: INewsItem) {\n\t\tlet sUrl = NEWS_FEED_READ_API + \"?$filter=ChangeId eq \" + \"'\" + oNews.changeId + \"'\";\n\t\tconst customFileName = this.getProperty(\"customFileName\") as string;\n\t\tif (!this.isCSVFileFormat(customFileName) && oNews.showAllPreparationRequired) {\n\t\t\tsUrl = sUrl + \" and PreparationRequired eq true\";\n\t\t}\n\t\treturn sUrl + \"&$top=999\";\n\t}\n\n\t/**\n\t * Retrieves the news feed from the specified URL after applying authorization filtering based on the available apps.\n\t * If the news feed contains impacted artifacts, it checks if the current user has access to any of the impacted apps.\n\t * If the user has access to at least one impacted app, the news feed is included in the returned array.\n\t * @param {string} sNewsUrl - The URL of the news feed.\n\t * @returns {Array} The filtered array of news feed items authorized for the user.\n\t */\n\tpublic async getAuthNewsFeed(sNewsUrl: string, newsTitle?: string) {\n\t\ttry {\n\t\t\tconst [aAvailableApps, aNewsFeed] = await Promise.all([\n\t\t\t\tthis.getAllAvailableApps(),\n\t\t\t\tthis.getNewsFeedDetails(sNewsUrl, newsTitle)\n\t\t\t]);\n\t\t\tif (aAvailableApps.length === 0) {\n\t\t\t\treturn aNewsFeed;\n\t\t\t}\n\t\t\treturn this.arrangeNewsFeeds(aNewsFeed, aAvailableApps);\n\t\t} catch (err) {\n\t\t\tLog.error(err as string);\n\t\t}\n\t}\n\n\t/**\n\t * If the news feed contains impacted artifacts, it checks if the current user has access to any of the impacted apps.\n\t * If the user has access to at least one impacted app, the news feed is included in the returned array.\n\t * @param {INewsFeed[]} aNewsFeed - array of news feed\n\t * @param {IAvailableApp[]} aAvailableApps - array of all availabel apps\n\t * @returns {Array} The filtered array of news feed items authorized for the user.\n\t */\n\tprivate arrangeNewsFeeds(aNewsFeed: INewsFeed[], aAvailableApps: IAvailableApp[]) {\n\t\tconst aAuthNewsFeed: INewsFeed[] = [];\n\n\t\taNewsFeed.forEach((oNewsFeed: INewsFeed) => {\n\t\t\tif ((oNewsFeed.Category as INewsLink).value !== \"App\" || !(oNewsFeed.ImpactedArtifacts as INewsLink).value) {\n\t\t\t\taAuthNewsFeed.push(oNewsFeed);\n\t\t\t} else {\n\t\t\t\tconst aImpactedArtifacts: string[] = (oNewsFeed.ImpactedArtifacts as INewsLink).value.split(\"\\n\");\n\t\t\t\tfor (let impactedArtifact of aImpactedArtifacts) {\n\t\t\t\t\tconst oImpactedArtifact = impactedArtifact;\n\t\t\t\t\tif (oImpactedArtifact && this.isAuthFeed(aAvailableApps, impactedArtifact)) {\n\t\t\t\t\t\taAuthNewsFeed.push(oNewsFeed);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn aAuthNewsFeed;\n\t}\n\n\t/**\n\t * takes all available apps list and the impacted atifact from the news and returns if it's valid\n\t * @param {IAvailableApp[]} aAvailableApps - Array of all available apps\n\t * @param {string} oImpactedArtifact - impacted artifact form the news\n\t * @returns {boolean} checks if the news is authenticated with the available apps list\n\t */\n\tprivate isAuthFeed(aAvailableApps: IAvailableApp[], oImpactedArtifact: string) {\n\t\tconst fioriIdSplitter = \"|\";\n\t\tif (oImpactedArtifact.includes(fioriIdSplitter)) {\n\t\t\tconst aTokens = oImpactedArtifact.split(fioriIdSplitter);\n\t\t\tconst sFioriId = (aTokens[aTokens.length - 1] || \"\").trim();\n\t\t\tif (sFioriId) {\n\t\t\t\tconst index = aAvailableApps.findIndex((oApp: IAvailableApp) => {\n\t\t\t\t\treturn sFioriId === oApp?.signature?.parameters[\"sap-fiori-id\"]?.defaultValue?.value;\n\t\t\t\t});\n\t\t\t\treturn index > -1;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Retrieves all available apps from the ClientSideTargetResolution service for authorization filtering.\n\t * @returns {Array} An array of available apps.\n\t */\n\tprivate async getAllAvailableApps(): Promise<IAvailableApp[]> {\n\t\ttry {\n\t\t\tconst oService = await Container.getServiceAsync<IAppConfiguration>(\"ClientSideTargetResolution\");\n\t\t\treturn oService?._oAdapter._aInbounds || [];\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tLog.error(err.message);\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the news feed details from the specified URL, including translation and formatting of field labels.\n\t * @param {string} sUrl - The URL of the news feed details.\n\t * @returns {Array} The array of news feed items with translated and formatted field labels.\n\t */\n\tprivate async getNewsFeedDetails(sUrl: string, newsTitle?: string): Promise<INewsFeed[]> {\n\t\tif (this.customNewsFeedCache.has(sUrl)) {\n\t\t\tconst newsFeedDetails = await this.customNewsFeedCache.get(sUrl);\n\t\t\treturn this.filterNewsOnTitle(newsFeedDetails as INewsFeed[], newsTitle);\n\t\t}\n\n\t\tconst fnFormattedLabel = (sLabel: string) => sLabel.replace(/([a-z0-9])([A-Z])/g, \"$1 $2\");\n\t\tconst [newsResponse, translationResponse] = await Promise.all([\n\t\t\tthis._endUserResponse ? Promise.resolve(this._endUserResponse) : (HttpHelper.GetJSON(sUrl) as Promise<{ value: INewsFeed[] }>),\n\t\t\tthis.getTranslatedText(this.getCustomFeedKey())\n\t\t]);\n\t\tlet aNews: INewsFeed[] = JSON.parse(JSON.stringify((newsResponse as INewsResponse).value || [])) as INewsFeed[];\n\t\tconst aTranslation = JSON.parse(JSON.stringify((translationResponse as INewsResponse).value || [])) as ITranslatedText[];\n\t\taNews = this.filterNewsOnTitle(aNews, newsTitle);\n\t\treturn aNews.map((oNews: INewsFeed) => {\n\t\t\tconst aFields = Object.keys(oNews);\n\t\t\tconst aExpandFields: INewsLink[] = [];\n\t\t\taFields.forEach((oField) => {\n\t\t\t\tconst oTranslatedField = aTranslation.find(\n\t\t\t\t\t(oTranslation: ITranslatedText) => oTranslation?.ColumnName?.toUpperCase() === oField.toUpperCase()\n\t\t\t\t);\n\t\t\t\tconst oTranslatedFieldName = (oTranslatedField?.TranslatedName as string) || fnFormattedLabel(oField);\n\t\t\t\toNews[oField] = { label: oTranslatedFieldName, value: oNews[oField] as string } as INewsLink;\n\t\t\t\tif (!CUSTOM_NEWS_FEED.EXCLUDE_FIELDS.includes(oField)) {\n\t\t\t\t\taExpandFields.push(oNews[oField] as INewsLink);\n\t\t\t\t}\n\t\t\t});\n\t\t\toNews.Link = {\n\t\t\t\tlabel: this._i18nBundle.getText(\"readMoreLink\") as string,\n\t\t\t\tvalue: oNews[CUSTOM_NEWS_FEED.LINK] as string,\n\t\t\t\ttext: \"Link\"\n\t\t\t};\n\t\t\toNews.expanded = aNews.length === 1;\n\t\t\toNews.expandFields = aExpandFields;\n\t\t\treturn oNews;\n\t\t});\n\t}\n\n\t/**\n\t * Filters the news feed data based on the LOB title for the news detail dialog\n\t *\n\t * @private\n\t * @param {INewsFeed[]} aNews complete news feed data\n\t * @param {?string} [newsTitle] title of the line of business to be filtered on\n\t * @returns {INewsFeed[]} filtered news feed for provided LOB title\n\t */\n\tprivate filterNewsOnTitle(aNews: INewsFeed[], newsTitle?: string): INewsFeed[] {\n\t\tif (newsTitle) {\n\t\t\treturn aNews.filter((newsDetail: INewsFeed) => {\n\t\t\t\treturn (newsDetail.LineOfBusiness as INewsLink).value === newsTitle;\n\t\t\t});\n\t\t}\n\t\treturn aNews;\n\t}\n\n\t/**\n\t * Retrieves translated text for news feed fields based on the specified feed ID.\n\t * @param {string} sFeedId - The ID of the custom news feed\n\t * @returns {Promise} A promise resolving to the translated text for news feed fields.\n\t */\n\tprivate getTranslatedText(sFeedId: string) {\n\t\ttry {\n\t\t\tconst sUrl = NEWS_FEED_TRANSLATION_API + \"?$filter=Changeid eq '\" + sFeedId + \"'\";\n\t\t\tif (!this.customNewsFeedCache.has(sUrl)) {\n\t\t\t\tthis.customNewsFeedCache.set(sUrl, HttpHelper.GetJSON(sUrl) as Promise<INewsFeed[]>);\n\t\t\t}\n\t\t\treturn this.customNewsFeedCache.get(sUrl);\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tLog.error(err.message);\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Loads custom news feed into the news panel after parsing JSON feed data to XML format.\n\t * @param {Array} feeds - The array of custom news feed items.\n\t */\n\tprivate async loadCustomNewsFeed(feeds: INewsFeed[], feedType: string) {\n\t\tconst oXMLResponse = this.parseJsonToXml(JSON.parse(JSON.stringify(feeds)) as JSON[], feedType);\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (!this.oNewsModel) {\n\t\t\tthis.oNewsModel = new XMLModel(oXMLResponse);\n\t\t\tif (!this.bNewsLoad) {\n\t\t\t\toParent?.panelLoadedFn(\"News\", { loaded: true, count: DEFAULT_FEED_COUNT });\n\t\t\t\tthis.bNewsLoad = true;\n\t\t\t}\n\t\t\tthis.oNewsTile.setModel(this.oNewsModel);\n\t\t} else {\n\t\t\tthis.oNewsTile.unbindAggregation(\"tiles\", false); // Unbind the bound aggregation\n\t\t\tthis.oNewsTile.destroyAggregation(\"tiles\"); // Removes old tiles\n\t\t\tthis.oNewsModel.setData(oXMLResponse);\n\t\t}\n\t\tawait this.loadNewsFeed(oXMLResponse, feeds.length);\n\t}\n\n\t/**\n\t * Parses JSON data into XML format.\n\t * @param {JSON[]} json - The JSON data to be parsed into XML.\n\t * @returns {XMLDocument} The XML document representing the parsed JSON data.\n\t */\n\tprivate parseJsonToXml(json: JSON[], feedType: string): XMLDocument {\n\t\tconst _transformJsonForXml = (aData: JSON[]) => aData.map((data: JSON) => ({ item: data }));\n\t\tconst _jsonToXml = (json: JSON) => {\n\t\t\tlet xml = \"\";\n\t\t\tlet key: string;\n\t\t\tfor (key in json) {\n\t\t\t\tconst value = json[key as keyof typeof json];\n\t\t\t\tif (value) {\n\t\t\t\t\tif (typeof value === \"object\") {\n\t\t\t\t\t\txml += `<${key}>${_jsonToXml(value)}</${key}>`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\txml += `<${key}>${value as string}</${key}>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn xml.replace(/<\\/?\\d+>/g, \"\");\n\t\t};\n\t\tconst transformedJson: JSON = JSON.parse(JSON.stringify(_transformJsonForXml(json))) as JSON;\n\t\tlet xml = \"<?xml version='1.0' encoding='UTF-8'?>\";\n\t\tconst rootToken = feedType;\n\t\txml += `<${rootToken}>`;\n\t\txml += _jsonToXml(transformedJson);\n\t\txml += `</${rootToken}>`;\n\t\txml = xml.replaceAll(\"&\", \"&amp;\");\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(xml, \"text/xml\");\n\t}\n\n\t/**\n\t * Randomly selects an image from the available images for the feed item.\n\t * @param {string} sFileName - The file name of the custom news feed item.\n\t * @returns {string} The URL of the image for the feed item.\n\t * @private\n\t */\n\tprivate getCustomFeedImage(sFileName: string) {\n\t\tconst sFileBasePath = sap.ui.require.toUrl(CUSTOM_NEWS_FEED.IMAGE_URL);\n\t\tlet sFilePath = sFileBasePath + CUSTOM_IMAGES.default[0];\n\t\tconst files = CUSTOM_IMAGES[sFileName] || [];\n\t\tlet randomIndex = 0;\n\t\tif (files.length > 0) {\n\t\t\tconst randomArray = new window.Uint32Array(1);\n\t\t\twindow.crypto.getRandomValues(randomArray);\n\t\t\trandomIndex = randomArray[0] % 3;\n\t\t\tsFilePath = sFileBasePath + files[randomIndex];\n\t\t}\n\t\treturn sFilePath;\n\t}\n\n\t/**\n\t * Retrieves the default feed image for a given news feed.\n\t *\n\t * @param {INewsFeed} oFeed - The custom news feed object.\n\t * @returns {string} The base64 encoded image string with the appropriate MIME type, or an empty string if no valid image is found.\n\t * @private\n\t */\n\tprivate getDefaultFeedImage(oFeed: INewsFeed): string {\n\t\tconst imgId = oFeed?.bg_image_id;\n\t\tconst groupImg = oFeed?._group_to_image;\n\t\tconst getRandomDefaultImage = () => {\n\t\t\tconst sPrefix = sap.ui.require.toUrl(\"sap/cux/home/img\");\n\t\t\tconst random = Math.floor(Math.random() * 15) + 1;\n\t\t\treturn `${sPrefix}/${random}.jpg`;\n\t\t};\n\t\tif (!groupImg || groupImg?.image_id !== imgId || !groupImg?.bg_image) {\n\t\t\treturn getRandomDefaultImage();\n\t\t}\n\n\t\tlet mimeType = groupImg?.mime_type;\n\t\tconst groupBgImg = groupImg?.bg_image;\n\n\t\tif (mimeType === \"application/octet-stream\") {\n\t\t\tmimeType = \"image/jpeg\";\n\t\t}\n\n\t\t// if the image is not a valid base64 string, convert it to a standard base64 string\n\t\t// and return the data URL else return the data URL directly\n\t\tif (!this.isValidBase64(groupBgImg)) {\n\t\t\tconst base64Data = this.base64UrlToBase64(groupBgImg);\n\t\t\treturn `data:${mimeType};base64,${base64Data}`;\n\t\t}\n\t\treturn `data:${mimeType};base64,${groupBgImg}`;\n\t}\n\n\t/**\n\t * Converts a base64 URL string to a standard base64 string.\n\t *\n\t * @param {string} base64Url - The base64 URL string to convert.\n\t * @returns {string} The converted base64 string.\n\t * @private\n\t */\n\tprivate base64UrlToBase64(base64Url: string) {\n\t\tlet base64 = base64Url?.replace(/_/g, \"/\").replace(/-/g, \"+\");\n\n\t\t// Add padding if missing (Base64 should be a multiple of 4)\n\t\twhile (base64.length % 4 !== 0) {\n\t\t\tbase64 += \"=\";\n\t\t}\n\t\treturn base64;\n\t}\n\n\t/**\n\t * Checks if a string is a valid base64 encoded string.\n\t * @param input The string to validate\n\t * @returns boolean indicating if the string is valid base64\n\t * @private\n\t */\n\tprivate isValidBase64(input: string): boolean {\n\t\t// Check if the string exists and isn't empty\n\t\tif (!input || input.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Canonical base64 strings use these characters\n\t\t// A-Z, a-z, 0-9, +, /, and = for padding\n\t\tconst base64Regex = /^[A-Za-z0-9+/]*={0,2}$/;\n\n\t\t// Check if the string matches the base64 character set\n\t\tif (!base64Regex.test(input)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check if the length is valid\n\t\t// Base64 strings have a length that is a multiple of 4\n\t\tif (input.length % 4 !== 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check padding rules\n\t\tif (input.includes(\"=\")) {\n\t\t\t// If there is padding, it must be at the end\n\t\t\tconst paddingIndex = input.indexOf(\"=\");\n\t\t\tconst lastPaddingIndex = input.lastIndexOf(\"=\");\n\t\t\t// Padding should only occur at the end\n\t\t\tif (paddingIndex !== input.length - (input.length - paddingIndex)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Can only have 1 or 2 padding characters\n\t\t\tif (input.length - paddingIndex > 2) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Make sure all padding is at the end\n\t\t\tif (paddingIndex !== lastPaddingIndex && lastPaddingIndex !== paddingIndex + 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate _getUserPersonalization() {\n\t\tconst persContainerId = PersonalisationUtils.getPersContainerId(this);\n\t\tconst ownerComponent = PersonalisationUtils.getOwnerComponent(this) as Component;\n\t\treturn UshellPersonalizer.getInstance(persContainerId, ownerComponent);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":201,"column":0},"map":{"version":3,"names":["sap","ui","define","CheckBox","CustomListItem","HBox","Label","List","Switch","Text","Title","VBox","CustomData","__BaseSettingsPanel","___library","___utils_Accessibility","___utils_Constants","___utils_FESRUtil","__PersonalisationUtils","__UshellPersonalizer","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","NewsType","getInvisibleText","SETTINGS_PANELS_KEYS","addFESRSemanticStepName","FESR_EVENTS","PersonalisationUtils","UshellPersonalizer","NewsSettingsPanel","extend","init","_init","BaseSettingsPanel.prototype.init.call","this","setProperty","NEWS","_i18nBundle","getText","addAggregation","getContent","attachPanelNavigated","loadNewsFeedSettings","aFavNewsFeed","_getContent","oHeader","setHeader","oTitle","setTitleMessage","oContentVBox","getId","alignItems","justifyContent","items","setNewsList","getPersonalization","_getPersonalization","_this","_temp2","oPersonalizer","_temp","Promise","resolve","getInstance","getPersContainerId","_getPanel","getOwnerComponent","then","_UshellPersonalizer$g","e","reject","_setHeader","headerText","text","oHeaderVBox","addStyleClass","_setTitleMessage","title","titleStyle","oTitleHbox","oTitleVBox","_setNewsList","oShowSwitchLabel","oShowSwitch","customTextOn","customTextOff","change","saveNewsFeedSettings","state","ariaLabelledBy","CHANGE","oCustNewsSwitchContainer","width","oShowAllPrep","oInvisibleText","oList","oNewsListVBox","direction","isCSVFileFormat","_isCSVFileFormat","fileName","split","pop","toLowerCase","_saveNewsFeedSettings","_this2","selectedFeeds","deselectedDefaultFeeds","newsType","oNewsPanel","getNewsType","showDefault","Default","customFileName","getProperty","feedKey","getCustomFeedKey","getItems","forEach","item","newsListContent","getAggregation","newsListHBox","checkbox","label","isSelected","getSelected","groupId","getDefaultGroupId","push","personalizer","read","personalizationData","defaultNewsFeed","favNewsFeed","showAllPreparationRequired","getState","write","setState","setCustomNewsFeed","_getDefaultGroupId","contentBox","customData","getCustomData","length","getValue","setItems","_setItems","aItems","destroyAggregation","oItem","i","oNewsListItemHbox","id","select","selected","enabled","disabled","addCustomData","key","value","group_id","customListItem","content","addItem","_loadNewsFeedSettings","_this3","sFeedKey","showDefaultNewsFeed","setVisible","oPersData","aPersNewsFeed","getCustomOrDefaultNewsFeed","aNewsFeed","_handleDefaultNewsFeed","_handleCustomNewsFeed","setText","mandatoryNewsFeed","getMandatoryDefaultNewsFeed","map","oNewsFeed","isDeselected","includes","favFeedTitles","isFavorite","isSupported","_isSupported","_this4","newsPanel","getParent","Custom","isNoUpdatesNewsFeed"],"sources":["NewsSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport CheckBox from \"sap/m/CheckBox\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ListItemBase from \"sap/m/ListItemBase\";\nimport Switch from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport CustomData from \"sap/ui/core/CustomData\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { NewsType } from \"./library\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport NewsPanel, { INewsFeed } from \"./NewsPanel\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UshellPersonalizer from \"./utils/UshellPersonalizer\";\n\ninterface IFavNewsFeed {\n\titems: string[];\n\tshowAllPreparationRequired?: boolean;\n}\n\n/**\n *\n * Class for My Home News Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.NewsSettingsPanel\n */\nexport default class NewsSettingsPanel extends BaseSettingsPanel {\n\tprivate oShowSwitch!: Switch;\n\tprivate oCustNewsSwitchContainer!: HBox;\n\tprivate oList!: List;\n\tprivate oPersonalizer!: UshellPersonalizer;\n\tprivate oNewsPanel!: NewsPanel;\n\tprivate aFavNewsFeed!: INewsFeed[] | string[];\n\tprivate deselectedDefaultFeeds!: string[];\n\tprivate headerText!: Text;\n\tprivate title!: Title;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.NEWS);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"news\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://newspaper\");\n\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.loadNewsFeedSettings();\n\t\t});\n\t\tthis.aFavNewsFeed = [];\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel.\n\t *\n\t * @private\n\t * @returns {Control} The control containing the News Settings Panel content.\n\t */\n\tprivate getContent(): Control {\n\t\tconst oHeader = this.setHeader();\n\t\tconst oTitle = this.setTitleMessage();\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeader, oTitle, this.setNewsList()]\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Get personalization instance\n\t */\n\tprivate async getPersonalization() {\n\t\tif (!this.oPersonalizer) {\n\t\t\tthis.oPersonalizer = await UshellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\treturn this.oPersonalizer;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Header content.\n\t */\n\tprivate setHeader() {\n\t\tthis.headerText = new Text(this.getId() + \"--idCustNewsFeedSettingsText\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsText\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTextContainer\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.headerText]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the News Settings Panel Title description.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's Title description.\n\t */\n\tprivate setTitleMessage() {\n\t\tthis.title = new Title(this.getId() + \"--idCustNewsFeedSettignsTitle\", {\n\t\t\ttext: this._i18nBundle.getText(\"newsFeedSettingsHeading\"),\n\t\t\ttitleStyle: \"H3\"\n\t\t});\n\t\tconst oTitleHbox = new HBox(this.getId() + \"--idCustNewsFeedSettingsTitleContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [this.title]\n\t\t});\n\t\tconst oTitleVBox = new VBox(this.getId() + \"--idCustNewsFeedSettingsTitleVBox\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oTitleHbox]\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oTitleVBox;\n\t}\n\n\t/**\n\t * Returns the content for the news List\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the News Settings Panel's List\n\t */\n\tprivate setNewsList() {\n\t\t//showAllPrepRequired Switch\n\t\tconst oShowSwitchLabel = new Label(this.getId() + \"--idShowAllCustNewsSwitchLabel\", {\n\t\t\ttext: this._i18nBundle.getText(\"showAllPreparationRequiredSwitchLabel\")\n\t\t});\n\t\tthis.oShowSwitch = new Switch(`${this.getId()}-showSwitch`, {\n\t\t\t// 'ariaLabelledBy': \"idShowAllCustNewsSwitchLabel idShowAllCustNewsSwitch\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \",\n\t\t\tchange: () => {\n\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t},\n\t\t\t// 'fesr:change': \"showPrepRequire\",\n\t\t\tstate: false,\n\t\t\tariaLabelledBy: [`${this.getId()}--idShowAllCustNewsSwitchLabel`]\n\t\t});\n\t\taddFESRSemanticStepName(this.oShowSwitch, FESR_EVENTS.CHANGE, \"showPrepRequire\");\n\t\tthis.oCustNewsSwitchContainer = new HBox(this.getId() + \"--idShowAllCustNewsSwitchContainer\", {\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oShowSwitchLabel, this.oShowSwitch],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\n\t\tconst oShowAllPrep = new VBox(this.getId() + \"--idShowAllCustNewsSwitchVBox\", {\n\t\t\titems: [this.oCustNewsSwitchContainer],\n\t\t\twidth: \"94%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop\");\n\t\tconst oInvisibleText = getInvisibleText(`${this.getId()}--newsTitleText`, this._i18nBundle.getText(\"newsTitle\"));\n\t\t//List of news items\n\t\tthis.oList = new List(this.getId() + \"--idCustNewsFeedList\", {\n\t\t\tariaLabelledBy: [\n\t\t\t\toInvisibleText.getId(),\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettingsText`,\n\t\t\t\t`${this.getId()}--idCustNewsFeedSettignsTitle`\n\t\t\t]\n\t\t});\n\t\t//Outer VBox\n\t\tconst oNewsListVBox = new VBox(this.getId() + \"--idCustNewsFeedListContainer\", {\n\t\t\tdirection: \"Column\",\n\t\t\titems: [this.oList, oShowAllPrep, oInvisibleText],\n\t\t\twidth: \"96%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBegin\");\n\t\treturn oNewsListVBox;\n\t}\n\n\t/**\n\t * Checks if the custom file format is CSV based on the custom file name.\n\t *\n\t * @param {string} fileName - The custom file name.\n\t * @returns {boolean} True if the file format is CSV, otherwise false.\n\t */\n\tprivate isCSVFileFormat(fileName: string): boolean {\n\t\treturn fileName.split(\".\").pop()?.toLowerCase() === \"csv\";\n\t}\n\n\t/**\n\t *\n\t * Saves news feed settings and shows news feed based on selection change of list of switch\n\t *\n\t * @private\n\t */\n\tprivate async saveNewsFeedSettings(): Promise<void> {\n\t\tconst selectedFeeds: string[] = [];\n\t\tconst deselectedDefaultFeeds: string[] = [];\n\t\tconst newsType = this.oNewsPanel?.getNewsType();\n\t\tconst showDefault = newsType === NewsType.Default;\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\t\tconst feedKey = this.oNewsPanel.getCustomFeedKey();\n\n\t\tthis.oList.getItems().forEach((item: ListItemBase) => {\n\t\t\tconst newsListContent = item.getAggregation(\"content\") as Control[];\n\t\t\tconst newsListHBox = newsListContent[0] as HBox;\n\t\t\tconst [checkbox, label] = newsListHBox.getItems() as [CheckBox, Text];\n\t\t\tconst isSelected = checkbox.getSelected();\n\n\t\t\tif (showDefault) {\n\t\t\t\tconst groupId = this.getDefaultGroupId(newsListHBox);\n\t\t\t\tif (!isSelected && groupId) {\n\t\t\t\t\tdeselectedDefaultFeeds.push(groupId);\n\t\t\t\t}\n\t\t\t} else if (isSelected) {\n\t\t\t\tselectedFeeds.push(label.getText());\n\t\t\t}\n\t\t});\n\n\t\tconst personalizer = await this.getPersonalization();\n\t\tconst personalizationData = (await personalizer.read()) || {};\n\n\t\tif (showDefault) {\n\t\t\tpersonalizationData.defaultNewsFeed = { items: deselectedDefaultFeeds };\n\t\t} else {\n\t\t\tpersonalizationData.favNewsFeed = {\n\t\t\t\titems: selectedFeeds,\n\t\t\t\tshowAllPreparationRequired: this.isCSVFileFormat(customFileName) ? false : this.oShowSwitch.getState()\n\t\t\t} as IFavNewsFeed;\n\t\t}\n\n\t\tawait personalizer.write(personalizationData);\n\n\t\t// get the latest value of switch and set the state\n\t\tif (!showDefault) {\n\t\t\tthis.oShowSwitch.setState(personalizationData.favNewsFeed?.showAllPreparationRequired);\n\t\t}\n\t\tawait this.oNewsPanel.setCustomNewsFeed(showDefault ? \"\" : feedKey);\n\t}\n\n\t/** Get groupId info  for the default NewsList\n\t * @param {HBox} [contentBox] content Hbox\n\t * @returns {string} groupId\n\t * @private\n\t */\n\tprivate getDefaultGroupId(contentBox: HBox): string {\n\t\tconst customData = contentBox.getCustomData();\n\t\treturn customData?.length ? (customData[0].getValue() as string) : \"\";\n\t}\n\n\t/** Set items for the NewsList\n\t * @param {Array} [aItems] news items to be set as items aggregation\n\t * @private\n\t */\n\tprivate setItems(aItems: INewsFeed[]) {\n\t\tthis.oList.destroyAggregation(\"items\", true);\n\t\tconst newsType = this.oNewsPanel?.getNewsType();\n\t\tlet showDefault = newsType === NewsType.Default;\n\t\t(aItems || []).forEach((oItem: INewsFeed, i: number) => {\n\t\t\tlet oNewsListItemHbox = new HBox({\n\t\t\t\tid: `${this.getId()}--idCustNewsFeedItemContent--${i}`,\n\t\t\t\talignItems: \"Center\",\n\t\t\t\titems: [\n\t\t\t\t\tnew CheckBox(`${this.getId()}--custNewsFeedItemCheckBox--${i}`, {\n\t\t\t\t\t\tselect: () => {\n\t\t\t\t\t\t\tvoid this.saveNewsFeedSettings();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselected: oItem.selected as boolean,\n\t\t\t\t\t\tenabled: !oItem.disabled\n\t\t\t\t\t}),\n\t\t\t\t\tnew Text(`${this.getId()}--custNewsFeedItemText--${i}`, { text: oItem.title })\n\t\t\t\t],\n\t\t\t\twidth: \"100%\"\n\t\t\t});\n\t\t\tif (showDefault) {\n\t\t\t\t// if showDefault is true, add group_id as custom data to the item\n\t\t\t\toNewsListItemHbox.addCustomData(new CustomData({ key: \"newsGroupId\", value: oItem.group_id }));\n\t\t\t}\n\t\t\tconst customListItem = new CustomListItem({\n\t\t\t\tid: `${this.getId()}--idCustNewsFeedItem--${i}`,\n\t\t\t\tcontent: [oNewsListItemHbox]\n\t\t\t});\n\t\t\tthis.oList.addItem(customListItem);\n\t\t});\n\t}\n\n\t/**\n\t * Loads news feed settings\n\t *\n\t * @returns {Promise} resolves to news feed settings\n\t */\n\tprivate async loadNewsFeedSettings(): Promise<INewsFeed[] | undefined> {\n\t\tthis.oNewsPanel = this._getPanel() as NewsPanel;\n\t\tconst sFeedKey = this.oNewsPanel.getCustomFeedKey();\n\t\tconst newsType = this.oNewsPanel?.getNewsType();\n\t\tconst showDefaultNewsFeed = newsType === NewsType.Default;\n\n\t\tconst customFileName = this.oNewsPanel.getProperty(\"customFileName\") as string;\n\t\tif (this.isCSVFileFormat(customFileName) || showDefaultNewsFeed) {\n\t\t\tthis.oCustNewsSwitchContainer.setVisible(false);\n\t\t}\n\n\t\tconst oPersonalizer = await this.getPersonalization();\n\t\tconst oPersData = await oPersonalizer.read();\n\t\tconst aPersNewsFeed = (showDefaultNewsFeed ? oPersData?.[\"defaultNewsFeed\"] : oPersData?.[\"favNewsFeed\"]) as IFavNewsFeed;\n\t\tconst showAllPreparationRequired = aPersNewsFeed?.showAllPreparationRequired ?? !aPersNewsFeed;\n\n\t\tlet aNewsFeed: INewsFeed[] = await this.oNewsPanel.getCustomOrDefaultNewsFeed(showDefaultNewsFeed ? \"\" : sFeedKey, false);\n\n\t\tif (showDefaultNewsFeed) {\n\t\t\treturn this._handleDefaultNewsFeed(aNewsFeed, aPersNewsFeed);\n\t\t} else {\n\t\t\treturn this._handleCustomNewsFeed(aNewsFeed, aPersNewsFeed, showAllPreparationRequired);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {INewsFeed[]} aNewsFeed\n\t * @param {IFavNewsFeed} aPersNewsFeed\n\t * @returns {INewsFeed[] | undefined}\n\t * @private\n\t * @description Handles the default news feed settings by setting the header text, title, and items.\n\t * It maps the news feed items to set their selected and disabled states based on the personalisation data.\n\t * If no news feed is provided, it returns undefined.\n\t */\n\tprivate _handleDefaultNewsFeed(aNewsFeed: INewsFeed[], aPersNewsFeed: IFavNewsFeed): INewsFeed[] | undefined {\n\t\tthis.headerText.setText(this._i18nBundle.getText(\"defaultNewsSettingsText\"));\n\t\tthis.title.setText(this._i18nBundle.getText(\"defaultNewsSettingsHeading\"));\n\t\tconst mandatoryNewsFeed = this.oNewsPanel.getMandatoryDefaultNewsFeed();\n\t\tthis.deselectedDefaultFeeds = aPersNewsFeed?.items || [];\n\n\t\tif (!aNewsFeed || aNewsFeed.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\taNewsFeed = aNewsFeed.map((oNewsFeed: INewsFeed) => {\n\t\t\t// if group_id not available in deselectedDefaultFeeds, then mark it as selected\n\t\t\tconst isDeselected = oNewsFeed.group_id ? this.deselectedDefaultFeeds.includes(oNewsFeed.group_id) : false;\n\t\t\toNewsFeed.selected = !aPersNewsFeed ? true : !isDeselected;\n\t\t\t// if group_id is available in mandatoryNewsFeed, then mark it as disabled, user cannot hide mandatory feeds\n\t\t\tif (mandatoryNewsFeed.includes(oNewsFeed.group_id ?? \"\")) {\n\t\t\t\toNewsFeed.selected = true;\n\t\t\t\toNewsFeed.disabled = true;\n\t\t\t}\n\n\t\t\treturn oNewsFeed;\n\t\t});\n\n\t\tthis.setItems(aNewsFeed);\n\t\tthis.oShowSwitch.setState(false);\n\t\treturn aNewsFeed;\n\t}\n\n\t/**\n\t * @param {INewsFeed[]} aNewsFeed\n\t * @param aPersNewsFeed\n\t * @param showAllPreparationRequired\n\t * @returns {INewsFeed[] | undefined}\n\t * @private\n\t * This method is responsible for managing the custom news feed settings in the News Settings Panel.\n\t * It updates the header text and title, checks if the news feed is available, and maps the news feed items to set their selected state.\n\t * If the news feed is not available or empty, it returns undefined.\n\t * It also sets the state of the show switch based on the `showAllPreparationRequired` parameter.\n\t */\n\tprivate _handleCustomNewsFeed(\n\t\taNewsFeed: INewsFeed[],\n\t\taPersNewsFeed: IFavNewsFeed,\n\t\tshowAllPreparationRequired: boolean\n\t): INewsFeed[] | undefined {\n\t\tthis.headerText.setText(this._i18nBundle.getText(\"newsFeedSettingsText\"));\n\t\tthis.title.setText(this._i18nBundle.getText(\"newsFeedSettingsHeading\"));\n\n\t\tif (!aNewsFeed || aNewsFeed.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst favFeedTitles: string[] = aPersNewsFeed?.items || aNewsFeed;\n\t\taNewsFeed = aNewsFeed.map((oNewsFeed: INewsFeed) => {\n\t\t\tconst isFavorite = favFeedTitles.includes(oNewsFeed.title);\n\t\t\toNewsFeed.selected = !aPersNewsFeed ? true : isFavorite;\n\t\t\treturn oNewsFeed;\n\t\t});\n\n\t\tthis.aFavNewsFeed = aNewsFeed;\n\t\tthis.setItems(this.aFavNewsFeed);\n\t\tthis.oShowSwitch.setState(!!showAllPreparationRequired);\n\t\treturn aNewsFeed;\n\t}\n\n\t/**\n\t * Checks if the News Settings Panel is supported based on the properties of the News Panel.\n\t *\n\t * @returns {Promise<boolean>} A promise that resolves to true if the News Settings Panel is supported, otherwise false.\n\t */\n\tpublic async isSupported(): Promise<boolean> {\n\t\tconst newsPanel = this._getPanel() as NewsPanel;\n\t\tif (!newsPanel || !(newsPanel?.getParent() as NewsAndPagesContainer).getProperty(\"newsFeedVisibility\")) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\treturn Promise.resolve(\n\t\t\t(newsPanel.getNewsType() === NewsType.Custom || newsPanel.getNewsType() === NewsType.Default) &&\n\t\t\t\t!newsPanel.isNoUpdatesNewsFeed()\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":206,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","__BaseContainer","__BaseContainerRenderer","__BasePanel","___library","_interopRequireDefault","obj","__esModule","default","BaseContainer","BaseContainerRenderer","BasePanel","OrientationType","NoDataContentPanel","init","super","this","setProperty","NoDataContainer","extend","renderer","apiVersion","metadata","library","properties","width","type","group","defaultValue","visibility","height","orientation","Vertical","enableSettings","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","_init","BaseContainer.prototype.init.call","addStyleClass","onBeforeRendering","_onBeforeRendering","content","getContent","length","_setupDefaultContent","BaseContainer.prototype.onBeforeRendering.call","illustratedMessage","getId","illustrationSize","Large","illustrationType","NoEntries","title","_i18nBundle","getText","ariaTitleLevel","description","editMyHomeButton","text","press","getParent","openSettingsDialog","insertAdditionalContent","wrapper","alignItems","justifyContent","renderType","items","visible","contentPanel","addContent"],"sources":["NoDataContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Button from \"sap/m/Button\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport type { $BaseContainerSettings } from \"./BaseContainer\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseContainerRenderer from \"./BaseContainerRenderer\";\nimport BasePanel from \"./BasePanel\";\nimport Layout from \"./Layout\";\nimport { OrientationType } from \"./library\";\n\n/**\n *\n * Panel class to show no data content.\n *\n */\nclass NoDataContentPanel extends BasePanel {\n\t/**\n\t * Init lifecycle method\n\t *\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"enableSettings\", false);\n\t}\n}\n\n/**\n *\n * Container class to show no data content.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.NoDataContainer\n */\nexport default class NoDataContainer extends BaseContainer {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Width of the container. Default value is 100%.\n\t\t\t */\n\t\t\twidth: { type: \"sap.ui.core.CSSSize\", group: \"Dimension\", defaultValue: \"100%\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Height of the container. Default value is 100%.\n\t\t\t */\n\t\t\theight: { type: \"sap.ui.core.CSSSize\", group: \"Dimension\", defaultValue: \"100%\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Orientation of the container. Default value is Vertical.\n\t\t\t */\n\t\t\torientation: {\n\t\t\t\ttype: \"sap.cux.home.OrientationType\",\n\t\t\t\tgroup: \"Data\",\n\t\t\t\tdefaultValue: OrientationType.Vertical,\n\t\t\t\tvisibility: \"hidden\"\n\t\t\t},\n\t\t\t/**\n\t\t\t * Enable my home settings. Default value is false.\n\t\t\t */\n\t\t\tenableSettings: { type: \"boolean\", group: \"Behavior\", defaultValue: false, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tstatic renderer = {\n\t\t...BaseContainerRenderer,\n\t\tapiVersion: 2\n\t};\n\n\tconstructor(id?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\t/**\n\t * Constructor for a new NoData Container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BaseContainerSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.addStyleClass(\"sapCuxNoDataContainer\");\n\t\tthis.addStyleClass(\"sapCuxNoMarginBottom\");\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method\n\t *\n\t * @private\n\t */\n\tpublic onBeforeRendering(): void {\n\t\t// If no content is set, set up default content\n\t\tconst content = this.getContent();\n\t\tif (content?.length === 0) {\n\t\t\tthis._setupDefaultContent();\n\t\t}\n\n\t\tsuper.onBeforeRendering();\n\t}\n\n\t/**\n\t * Set up default no-data content for the container.\n\t *\n\t * @private\n\t */\n\tprivate _setupDefaultContent(): void {\n\t\t// set up default inner illustrated message\n\t\tconst illustratedMessage = new IllustratedMessage(this.getId() + \"-noDataMessage\", {\n\t\t\tillustrationSize: IllustratedMessageSize.Large,\n\t\t\tillustrationType: IllustratedMessageType.NoEntries,\n\t\t\ttitle: this._i18nBundle.getText(\"noSectionTitle\"),\n\t\t\tariaTitleLevel: \"H2\",\n\t\t\tdescription: this._i18nBundle.getText(\"noSectionDescription\")\n\t\t}).addStyleClass(\"myHomeIllustratedMsg\");\n\n\t\t// set up button to edit my home\n\t\tconst editMyHomeButton = new Button(this.getId() + \"-editMyHomeBtn\", {\n\t\t\ttext: this._i18nBundle.getText(\"noSectionButton\"),\n\t\t\ttype: \"Emphasized\",\n\t\t\tpress: () => {\n\t\t\t\tvoid (this.getParent() as Layout)?.openSettingsDialog();\n\t\t\t}\n\t\t});\n\t\tillustratedMessage.insertAdditionalContent(editMyHomeButton, 0);\n\n\t\t// set up no-data content wrapper\n\t\tconst wrapper = new VBox(this.getId() + \"-noDataWrapper\", {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"Center\",\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [illustratedMessage],\n\t\t\tvisible: true\n\t\t});\n\n\t\t// set up content panel\n\t\tconst contentPanel = new NoDataContentPanel(`${this.getId()}-noDataContent`);\n\t\tcontentPanel.addContent(wrapper);\n\n\t\t// add content to the container\n\t\tthis.addContent(contentPanel);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,0CAAA,sMAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAWOG,EAAaJ,EAAAJ,GAAA,MACbS,EAAqBL,EAAAH,GAAA,MACrBS,EAASN,EAAAF,GAAA,MAEPS,EAAeR,EAAA,mBAOxB,MAAMS,UAA2BF,EAKzBG,OACNC,MAAMD,OACNE,KAAKC,YAAY,iBAAkB,MACpC,EAGD,MAeqBC,EAAwBT,EAAaU,OAAA,gCA4BlDC,SAAW,IACdV,EACHW,WAAY,GA7BGC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,sBAAuBC,MAAO,YAAaC,aAAc,OAAQC,WAAY,UAI5FC,OAAQ,CAAEJ,KAAM,sBAAuBC,MAAO,YAAaC,aAAc,OAAQC,WAAY,UAI7FE,YAAa,CACZL,KAAM,+BACNC,MAAO,OACPC,aAAchB,EAAgBoB,SAC9BH,WAAY,UAKbI,eAAgB,CAAEP,KAAM,UAAWC,MAAO,WAAYC,aAAc,MAAOC,WAAY,YAiBlFK,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAtB,KAAMoB,EAAIC,EACX,EAOOvB,KAAI,SAAAyB,IACVC,sBAAAxB,MACAA,KAAKyB,cAAc,yBACnBzB,KAAKyB,cAAc,uBACpB,EAOOC,kBAAiB,SAAAC,IAEvB,MAAMC,EAAU5B,KAAK6B,aACrB,GAAID,GAASE,SAAW,EAAG,CAC1B9B,KAAK+B,sBACN,CAEAC,mCAAAhC,KACD,EAOQ+B,qBAAoB,SAAAA,IAE3B,MAAME,EAAqB,IAAIpD,EAAmBmB,KAAKkC,QAAU,iBAAkB,CAClFC,iBAAkBrD,EAAuBsD,MACzCC,iBAAkBtD,EAAuBuD,UACzCC,MAAOvC,KAAKwC,YAAYC,QAAQ,kBAChCC,eAAgB,KAChBC,YAAa3C,KAAKwC,YAAYC,QAAQ,0BACpChB,cAAc,wBAGjB,MAAMmB,EAAmB,IAAIhE,EAAOoB,KAAKkC,QAAU,iBAAkB,CACpEW,KAAM7C,KAAKwC,YAAYC,QAAQ,mBAC/B/B,KAAM,aACNoC,MAAOA,UACA9C,KAAK+C,aAAwBC,wBAGrCf,EAAmBgB,wBAAwBL,EAAkB,GAG7D,MAAMM,EAAU,IAAIlE,EAAKgB,KAAKkC,QAAU,iBAAkB,CACzDiB,WAAY,SACZC,eAAgB,SAChBC,WAAY,OACZC,MAAO,CAACrB,GACRsB,QAAS,OAIV,MAAMC,EAAe,IAAI3D,EAAmB,GAAGG,KAAKkC,yBACpDsB,EAAaC,WAAWP,GAGxBlD,KAAKyD,WAAWD,EACjB,IAAC,OA/GmBtD,CAAe","ignoreList":[],"sourceRoot":""}},{"offset":{"line":211,"column":0},"map":{"version":3,"names":["sap","ui","define","Element","Container","Page","extend","metadata","library","properties","title","type","group","defaultValue","icon","subTitle","bgColor","pageId","spaceId","spaceTitle","url","events","press","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","onPageTilePress","_onPageTilePress","oPage","sPageId","getProperty","sSpaceId","Promise","resolve","getServiceAsync","then","navigationService","navigate","target","semanticObject","action","params","e","reject"],"sources":["Page.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Element, { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport { $PageSettings } from \"./Page\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\n\n/**\n *\n * Class for managing and storing Pages.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.Page\n */\n\nexport default class Page extends Element {\n\tconstructor(idOrSettings?: string | $PageSettings);\n\tconstructor(id?: string, settings?: $PageSettings);\n\tconstructor(id?: string, settings?: $PageSettings) {\n\t\tsuper(id, settings);\n\t}\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Subtitle for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color for the  page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Id for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tpageId: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Space id for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tspaceId: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Space title for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\tspaceTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Url to be launched for the corresponding page\n\t\t\t * @since 1.120\n\t\t\t */\n\t\t\turl: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t},\n\t\tevents: {\n\t\t\t/**\n\t\t\t * Press event for the page\n\t\t\t */\n\t\t\tpress: {}\n\t\t}\n\t};\n\n\tpublic async onPageTilePress(oPage: IPage) {\n\t\tconst sPageId = oPage.getProperty?.(\"pageId\"),\n\t\t\tsSpaceId = oPage.getProperty?.(\"spaceId\");\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tsemanticObject: \"Launchpad\",\n\t\t\t\taction: \"openFLPPage\"\n\t\t\t},\n\t\t\tparams: {\n\t\t\t\tpageId: sPageId,\n\t\t\t\tspaceId: sSpaceId\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,+BAAA,wDAAAC,EAAAC,GAAA,aAWA,MAcqBC,EAAaF,EAAOG,OAAA,qBAMxBC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAKXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKtDC,KAAM,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKrDE,SAAU,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKzDG,QAAS,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKxDI,OAAQ,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKvDK,QAAS,CAAEP,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAKxDM,WAAY,CAAER,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAK3DO,IAAK,CAAET,KAAM,SAAUC,MAAO,OAAQC,aAAc,KAErDQ,OAAQ,CAIPC,MAAO,CAAC,IAnDVC,YAAW,SAAAC,EAACC,EAAaC,GACxBC,6BAAAC,KAAMH,EAAIC,EACX,EAqDaG,gBAAe,SAAAC,EAACC,GAAY,IACxC,MAAMC,EAAUD,EAAME,cAAc,UACnCC,EAAWH,EAAME,cAAc,WAAW,OAAAE,QAAAC,QACXhC,EAAUiC,gBAA4B,eAAaC,KAAA,SAA7EC,GAAiB,OAAAJ,QAAAC,QACjBG,EAAkBC,SAAS,CAChCC,OAAQ,CACPC,eAAgB,YAChBC,OAAQ,eAETC,OAAQ,CACP3B,OAAQe,EACRd,QAASgB,MAETI,KAAA,eACH,CAAC,MAAAO,GAAA,OAAAV,QAAAW,OAAAD,EAAA,YAxEmBxC,CAAI","ignoreList":[],"sourceRoot":""}},{"offset":{"line":216,"column":0},"map":{"version":3,"names":["sap","ui","define","Button","FlexBox","GenericTile","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","sap_m_library","EventBus","__BasePagePanel","__MenuItem","__Page","___utils_CommonUtils","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","LoadState","BasePagePanel","MenuItem","Page","getPageManagerInstance","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","recycleId","DeviceType","attachKeyboardHandler","focusDraggedItem","addFESRId","addFESRSemanticStepName","PersonalisationUtils","UShellPersonalizer","tileSizes","Mobile","maxWidth","minWidth","Tablet","Desktop","LargeDesktop","XLargeDesktop","smallTabletMinWidth","mobileOneTileLimit","maxTileCOunt","maxRowCount","CustomFlexBox","extend","renderer","apiVersion","metadata","library","aggregations","items","type","multiple","singularName","dnd","draggable","droppable","constructor","_constructor","id","settings","FlexBox.prototype.constructor.call","this","PagePanel","properties","title","group","visibility","key","pages","_constructor2","BasePagePanel.prototype.constructor.call","init","_init","_this","BasePagePanel.prototype.init.call","_oWrapperFlexBox","getId","justifyContent","height","width","direction","renderType","wrap","getPlaceholderPageTiles","addStyleClass","getDeviceType","_pageWrapper","addContent","setProperty","_i18nBundle","getText","menuItem","icon","press","_handleEditPages","addAggregation","oEventBus","getInstance","subscribe","sChannelId","sEventId","oData","aFavPages","Promise","resolve","writeFavPagesIntoPers","then","_getInnerControls","_importdone","e","reject","getData","stateData","status","publish","_getData","forceUpdate","_this2","_temp2","fireEvent","oPagePromise","_temp","undefined","_getPageManagerInstance","getFavoritePages","parent","getParent","_getLayout","openSettingsDialog","PAGES","_getPlaceholderPageTiles","placeholderArray","Array","fill","Loading","placeholderTiles","map","tileState","index","sizeBehavior","state","frameType","mode","visible","renderOnThemeChange","ariaRole","dropAreaOffset","attachResizeHandler","_attachResizeHandler","isNewsTileVisible","containerWidth","pagesContentWrapper","favPagesCount","length","deviceType","domRefClientWidth","tileWidth","hBoxWidth","finalTilesWidth","wrapperWidth","gap","setWidth","pagesPerRow","calculatePagesPerRow","maxTileWidth","minTileWidth","Math","min","max","_setPropertyValues","pagesTileWidth","err","Error","getUserAvailablePages","_getUserAvailablePages","_this3","fetchAllAvailablePages","_calculatePagesPerRow","isNewsFeedVisible","ceil","myFavPage","oInnerControls","oParent","forEach","oPage","push","subTitle","spaceTitle","bgColor","BGColor","pageId","spaceId","url","oFav","index2","header","getTitle","subheader","getSubTitle","onPageTilePress","backgroundColor","getBgColor","tileIcon","getIcon","getProperty","setAlignItems","dndConfigs","getDragDropConfig","panelLoadedFn","loaded","count","_setFavPagesContent","addDragDropConfigTo","oEvent","_handlePageDnd","removeAllDragDropConfig","dndConfig","destroy","_setNoPageContent","removeAggregation","removeAllItems","removeStyleClass","oTile","addItem","_createNoPageContent","_oIllusMsg","illustrationSize","Small","illustrationType","NoSavedItems","description","oAddPageBtn","text","tooltip","oWrapperNoPageVBox","backgroundDesign","addAdditionalContent","oVal","propNames","Object","keys","sProperty","_this4","sInsertPosition","getParameter","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_temp3","_DragnDropPages","_this5","oItemMoved","splice","updateTileOrder","_updateTileOrder","dragIndex","dropIndex","draggedItem","_writeFavPagesIntoPers","favPages","_this6","_temp5","oPersonalizer","read","oPersData","favouritePages","write","_temp4","getPersContainerId","getOwnerComponent","_UShellPersonalizer$g","applyColorPersonalizations","_applyColorPersonalizations","personalizations","applyIconPersonalizations","_applyIconPersonalizations","pageManagerInstance","getPageWrapper","_getPageWrapper"],"sources":["PagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexBox, { $FlexBoxSettings } from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport type { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport BasePagePanel from \"./BasePagePanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport Page from \"./Page\";\nimport { ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler, focusDraggedItem } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nconst tileSizes = {\n\tMobile: {\n\t\tmaxWidth: 37.5,\n\t\tminWidth: 8\n\t},\n\tTablet: {\n\t\tmaxWidth: 60,\n\t\tminWidth: 10.625\n\t},\n\tDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tXLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tsmallTabletMinWidth: 8\n};\n\nconst mobileOneTileLimit = 3;\nconst maxTileCOunt = 8;\nconst maxRowCount = 4;\n\n/**\n *\n * CustomFlexBox extending FlexBox to enable drag & drop.\n *\n * @extends sap.m.FlexBox\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n * @private\n *\n * @alias sap.cux.home.CustomFlexBox\n */\nclass CustomFlexBox extends FlexBox {\n\tconstructor(idOrSettings?: string | $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\titems: { type: \"sap.ui.core.Control\", multiple: true, singularName: \"item\", dnd: { draggable: true, droppable: true } }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n}\n\n/**\n *\n * Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePagePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.PagePanel\n */\n\nexport default class PagePanel extends BasePagePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the page panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the page panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of pages available within the page panel\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperFlexBox!: CustomFlexBox;\n\tprivate _pageWrapper!: VBox;\n\tprivate oPagePromise!: Promise<IPage[]> | null;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate aFavPages!: IPage[];\n\tprivate oInnerControls!: GenericTile[];\n\tprivate _oIllusMsg!: IllustratedMessage;\n\tprivate oWrapperNoPageVBox!: VBox;\n\tprivate oAddPageBtn!: Button;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate oEventBus!: EventBus;\n\n\t/**\n\t * Constructor for a new Page panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis._oWrapperFlexBox = new CustomFlexBox(`${this.getId()}-pageWrapper`, {\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\",\n\t\t\trenderType: \"Bare\",\n\t\t\twrap: \"Wrap\",\n\t\t\titems: this.getPlaceholderPageTiles()\n\t\t}).addStyleClass(\"pagesFlexGap sapCuxPagesWrapper\");\n\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tthis._oWrapperFlexBox.addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\n\t\tthis._pageWrapper = new VBox(`${this.getId()}-pageContentWrapper`, { items: [this._oWrapperFlexBox] });\n\t\tthis.addContent(this._pageWrapper);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pageTitle\"));\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-managePages`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngPage\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: () => this._handleEditPages()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"managePages\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"favPagesImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tthis.aFavPages = oData as IPage[];\n\t\t\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\t\t\tthis._getInnerControls();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Subscribe to page changes from pageManager\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.getData(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImported\", stateData);\n\t}\n\n\tpublic async getData(forceUpdate: boolean = false) {\n\t\tif (this.oPagePromise === undefined || this.oPagePromise === null || forceUpdate) {\n\t\t\tthis.oPagePromise = this._getPageManagerInstance().getFavoritePages();\n\t\t\tconst aFavPages = await this.oPagePromise;\n\t\t\tthis.aFavPages = aFavPages;\n\t\t\tthis._getInnerControls();\n\t\t\tthis.oPagePromise = null;\n\t\t}\n\t\tthis.fireEvent(\"loaded\");\n\t\treturn this.oPagePromise;\n\t}\n\n\t/**\n\t * Handles the edit page event.\n\t * Opens the page dialog for managing page data.\n\t * @param {Event} oEvent - The event object.\n\t * @private\n\t */\n\tprivate _handleEditPages() {\n\t\tconst parent = this.getParent() as NewsAndPagesContainer;\n\t\tparent?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.PAGES);\n\t}\n\n\t/**\n\t * returns an array of placeholder generic tiles for pages\n\t * @private\n\t */\n\tprivate getPlaceholderPageTiles(): GenericTile[] {\n\t\tconst placeholderArray = new Array(PAGE_SELECTION_LIMIT).fill(LoadState.Loading) as LoadState[];\n\t\tconst placeholderTiles = placeholderArray.map((tileState: LoadState, index) => {\n\t\t\treturn new GenericTile(recycleId(`${this.getId()}--${index}`), {\n\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\tstate: tileState,\n\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\tmode: \"IconMode\",\n\t\t\t\tvisible: true,\n\t\t\t\trenderOnThemeChange: true,\n\t\t\t\tariaRole: \"listitem\",\n\t\t\t\tdropAreaOffset: 8\n\t\t\t}).addStyleClass(\"cuxPagesPlaceholder\");\n\t\t});\n\t\treturn placeholderTiles;\n\t}\n\n\tpublic attachResizeHandler(\n\t\tisNewsTileVisible: boolean,\n\t\tcontainerWidth: number,\n\t\tpagesContentWrapper: FlexBox\n\t): void {\n\t\ttry {\n\t\t\tconst favPagesCount = this.aFavPages?.length,\n\t\t\t\tdeviceType = this.getDeviceType();\n\n\t\t\tlet domRefClientWidth = containerWidth;\n\t\t\tif (\n\t\t\t\t(deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) &&\n\t\t\t\tisNewsTileVisible\n\t\t\t) {\n\t\t\t\tdomRefClientWidth = containerWidth / 2;\n\t\t\t}\n\n\t\t\tif (!domRefClientWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet tileWidth,\n\t\t\t\thBoxWidth: string,\n\t\t\t\tfinalTilesWidth: string,\n\t\t\t\twrapperWidth = domRefClientWidth / 16; // Divide by 16 to convert to rem,\n\t\t\tconst gap = 1;\n\t\t\tpagesContentWrapper.setWidth(\"100%\");\n\n\t\t\tif (favPagesCount > 0) {\n\t\t\t\tconst pagesPerRow = this.calculatePagesPerRow(favPagesCount, isNewsTileVisible);\n\t\t\t\tif (pagesPerRow) {\n\t\t\t\t\tconst maxTileWidth = tileSizes[deviceType].maxWidth;\n\t\t\t\t\tlet minTileWidth = tileSizes[deviceType].minWidth;\n\t\t\t\t\t// when tablet viewport width is below 800px, 46rem(736px) is the container width and 2 rem is paddings\n\t\t\t\t\tif (deviceType === DeviceType.Tablet && containerWidth < 736) {\n\t\t\t\t\t\tminTileWidth = tileSizes.smallTabletMinWidth;\n\t\t\t\t\t}\n\t\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\t\ttileWidth = Math.min(tileWidth, maxTileWidth);\n\t\t\t\t\ttileWidth = Math.max(tileWidth, minTileWidth);\n\t\t\t\t\tfinalTilesWidth = `${tileWidth}rem`;\n\t\t\t\t\thBoxWidth = `${pagesPerRow * tileWidth + (pagesPerRow - 1) * gap}rem`;\n\t\t\t\t} else {\n\t\t\t\t\tfinalTilesWidth = \"auto\";\n\t\t\t\t\thBoxWidth = \"100%\";\n\t\t\t\t}\n\n\t\t\t\tthis._setPropertyValues({ hBoxWidth: hBoxWidth, pagesTileWidth: finalTilesWidth });\n\t\t\t\tpagesContentWrapper.setWidth(hBoxWidth);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tconsole.error(err.message);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic async getUserAvailablePages() {\n\t\treturn await this._getPageManagerInstance().fetchAllAvailablePages();\n\t}\n\n\tprivate calculatePagesPerRow(favPagesCount: number, isNewsFeedVisible: boolean): number {\n\t\tlet pagesPerRow = 0;\n\t\tconst deviceType = this.getDeviceType();\n\t\tif (deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) {\n\t\t\tif (isNewsFeedVisible) {\n\t\t\t\t// halves the tiles in 2 rows\n\t\t\t\tpagesPerRow = Math.ceil(favPagesCount >= maxTileCOunt ? maxRowCount : favPagesCount / 2);\n\t\t\t} else {\n\t\t\t\tpagesPerRow = favPagesCount;\n\t\t\t}\n\t\t} else if (deviceType === DeviceType.Mobile) {\n\t\t\t// decides number of columns to either 1 or 2\n\t\t\tpagesPerRow = favPagesCount <= mobileOneTileLimit ? 1 : 2;\n\t\t} else if (deviceType === DeviceType.Tablet) {\n\t\t\t// upto 4 in a Row, otherwise halves the tiles in 2 rows\n\t\t\tpagesPerRow = favPagesCount <= maxRowCount ? favPagesCount : Math.ceil(favPagesCount / 2);\n\t\t}\n\t\treturn pagesPerRow;\n\t}\n\n\tprivate _getInnerControls() {\n\t\tconst myFavPage: Page[] = [];\n\t\tthis.oInnerControls = [];\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (this.aFavPages) {\n\t\t\tthis.aFavPages.forEach((oPage: IPage, index: number) => {\n\t\t\t\tmyFavPage.push(\n\t\t\t\t\tnew Page(recycleId(`${this.getId()}-favPage-${index}`), {\n\t\t\t\t\t\ttitle: oPage.title,\n\t\t\t\t\t\tsubTitle: oPage.title === oPage.spaceTitle ? \"\" : oPage.spaceTitle,\n\t\t\t\t\t\ticon: oPage.icon,\n\t\t\t\t\t\tbgColor: oPage.BGColor as string,\n\t\t\t\t\t\tpageId: oPage.pageId,\n\t\t\t\t\t\tspaceId: oPage.spaceId,\n\t\t\t\t\t\tspaceTitle: oPage.spaceTitle,\n\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.pageId + \"&spaceId=\" + oPage.spaceId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyFavPage.forEach((oFav: Page, index2: number) => {\n\t\t\t\tthis.oInnerControls.push(\n\t\t\t\t\tnew GenericTile(recycleId(`${oFav.getId()}--genericTile--${index2}`), {\n\t\t\t\t\t\t// width: \"10rem\",\n\t\t\t\t\t\theader: oFav.getTitle(),\n\t\t\t\t\t\tsubheader: oFav.getSubTitle(),\n\t\t\t\t\t\tpress: () => void oFav.onPageTilePress(oFav),\n\t\t\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\t\t\tstate: \"Loaded\",\n\t\t\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\t\tbackgroundColor: oFav.getBgColor(),\n\t\t\t\t\t\ttileIcon: oFav.getIcon(),\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\trenderOnThemeChange: true,\n\t\t\t\t\t\tariaRole: \"listitem\",\n\t\t\t\t\t\tdropAreaOffset: 8,\n\t\t\t\t\t\turl: oFav.getProperty(\"url\") as string\n\t\t\t\t\t}).addStyleClass(\"sapCuxPageTile\")\n\t\t\t\t);\n\t\t\t\tthis.addAggregation(\"pages\", oFav, true);\n\t\t\t});\n\n\t\t\tthis._oWrapperFlexBox.setAlignItems(this.aFavPages.length == 1 ? \"Start\" : \"Center\");\n\t\t\tconst dndConfigs = this._oWrapperFlexBox.getDragDropConfig();\n\t\t\tif (this.aFavPages.length) {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: this.aFavPages.length });\n\t\t\t\tthis._setFavPagesContent();\n\t\t\t\tif (!dndConfigs?.length)\n\t\t\t\t\tthis.addDragDropConfigTo(\n\t\t\t\t\t\tthis._oWrapperFlexBox,\n\t\t\t\t\t\t(oEvent) => void this._handlePageDnd(oEvent),\n\t\t\t\t\t\tasync (oEvent: KeyboardEvent) => {\n\t\t\t\t\t\t\tawait attachKeyboardHandler(oEvent, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis._oWrapperFlexBox.removeAllDragDropConfig();\n\t\t\t\tdndConfigs.forEach((dndConfig) => {\n\t\t\t\t\tdndConfig.destroy();\n\t\t\t\t});\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: 0 });\n\t\t\t\tthis._setNoPageContent();\n\t\t\t}\n\t\t} else {\n\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: false, count: 0 });\n\t\t\tthis.removeAggregation(\"content\", this._oWrapperFlexBox);\n\t\t}\n\t}\n\n\tprivate _setFavPagesContent() {\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.removeStyleClass(\"pagesFlexBox\");\n\t\tthis.oInnerControls.forEach((oTile: GenericTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\tprivate _createNoPageContent() {\n\t\tif (!this._oIllusMsg) {\n\t\t\tthis._oIllusMsg = new IllustratedMessage(this.getId() + \"--idNoPages\", {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Small,\n\t\t\t\tillustrationType: IllustratedMessageType.NoSavedItems,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noDataPageTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noPageDescription\")\n\t\t\t}).addStyleClass(\"myHomeIllustratedMsg myHomeIllustratedMessageAlign\");\n\t\t\tthis.oAddPageBtn = new Button(this.getId() + \"--idAddPageBtn\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => this._handleEditPages()\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oAddPageBtn, \"press\", \"addPages\");\n\t\t}\n\t}\n\n\tprivate _setNoPageContent() {\n\t\tif (!this.oWrapperNoPageVBox) {\n\t\t\tthis.oWrapperNoPageVBox = new VBox(recycleId(`${this.getId()}--wrapperNoPageVBox`), {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"17rem\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\tjustifyContent: \"Center\"\n\t\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder\");\n\t\t\tthis._createNoPageContent();\n\t\t\tthis._oIllusMsg.addAdditionalContent(this.oAddPageBtn);\n\t\t\tthis.oWrapperNoPageVBox.addItem(this._oIllusMsg);\n\t\t}\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.addStyleClass(\"pagesFlexBox\");\n\t\tthis._oWrapperFlexBox.addItem(this.oWrapperNoPageVBox);\n\t}\n\n\tprivate _setPropertyValues(oVal: { hBoxWidth: string; pagesTileWidth: string }) {\n\t\tconst propNames = Object.keys(oVal);\n\t\tpropNames.forEach((sProperty: string) => {\n\t\t\tif (sProperty === \"hBoxWidth\") {\n\t\t\t\tthis._oWrapperFlexBox.setProperty(\"width\", oVal[sProperty]);\n\t\t\t} else if (sProperty === \"pagesTileWidth\" && this.oInnerControls.length) {\n\t\t\t\tthis.oInnerControls.forEach(function (oTile) {\n\t\t\t\t\toTile.setProperty(\"width\", oVal[sProperty]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _handlePageDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tawait this._DragnDropPages(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropPages(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\tconst oItemMoved = this.aFavPages.splice(iDragItemIndex, 1)[0];\n\t\tthis.aFavPages.splice(iDropItemIndex, 0, oItemMoved);\n\t\tthis.updateTileOrder(iDragItemIndex, iDropItemIndex);\n\n\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\tfocusDraggedItem(this._oWrapperFlexBox, iDropItemIndex);\n\t}\n\n\t/**\n\t * Updates the tile order in the UI after a drag-and-drop action.\n\t *\n\t * Moves a tile from `dragIndex` to `dropIndex` in the internal array\n\t * and re-renders the tile container to reflect the new order.\n\t *\n\t * @param {number} dragIndex - Index of the dragged tile.\n\t * @param {number} dropIndex - Index to insert the dragged tile.\n\t */\n\tprivate updateTileOrder(dragIndex: number, dropIndex: number) {\n\t\tconst [draggedItem] = this.oInnerControls.splice(dragIndex, 1);\n\t\tthis.oInnerControls.splice(dropIndex, 0, draggedItem);\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis.oInnerControls.forEach((oTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\t/**\n\t * Writes the favourite pages data into personalizer\n\t *\n\t * @private\n\t * @async\n\t * @param {IPage[]} favPages\n\t * @returns {*}\n\t */\n\tprivate async writeFavPagesIntoPers(favPages: IPage[]) {\n\t\tif (this.oPersonalizer === undefined) {\n\t\t\tthis.oPersonalizer = await UShellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\n\t\tlet oPersData = await this.oPersonalizer.read();\n\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\toPersData.favouritePages = favPages;\n\t\tawait this.oPersonalizer.write(oPersData);\n\t}\n\n\tpublic applyColorPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyColorPersonalizations(personalizations);\n\t}\n\n\tpublic applyIconPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyIconPersonalizations(personalizations);\n\t}\n\n\tprivate _getPageManagerInstance() {\n\t\tthis.pageManagerInstance = this.pageManagerInstance || getPageManagerInstance(this);\n\t\treturn this.pageManagerInstance;\n\t}\n\n\t/**\n\t * Returns the wrapper FlexBox for the page panel.\n\t *\n\t * @returns {sap.m.FlexBox} The FlexBox that wraps the pages.\n\t * @private\n\t */\n\tpublic getPageWrapper(): FlexBox {\n\t\treturn this._oWrapperFlexBox;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":221,"column":0},"map":{"version":3,"names":["sap","ui","define","CustomListItem","HBox","List","Panel","SearchField","Text","Title","ToggleButton","Toolbar","ToolbarSpacer","VBox","__BaseSettingsPanel","___utils_Accessibility","___utils_Constants","___utils_DataFormatUtils","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","getInvisibleText","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","recycleId","PageManager","PersonalisationUtils","PageSettingsPanel","extend","constructor","prototype","apply","this","arguments","_initialNavigation","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","PAGES","_i18nBundle","getText","oWrapperVBox","getId","width","addStyleClass","addAggregation","attachPanelNavigated","onPanelNavigated","_onPanelNavigated","_this","_temp2","oSearchField","getValue","setValue","sSearchQuery","_renderPages","aSpaces","_temp","Promise","resolve","_initializePanel","then","e","reject","_this2","PageManagerInstance","getInstance","getPersContainerId","_getPanel","getOwnerComponent","fetchAllAvailablePages","_this2$PageManagerIns","aAllPages","getFavoritePages","_this2$PageManagerIns2","aFavPages","fetchAllAvailableSpaces","_this2$PageManagerIns3","_showMessageStrip","_showToolbar","_showPagesList","oMessageStripVBox","oMessage","_seHeaderMessage","addItem","_setInvisibleSubHeaderText","subHeaderText","length","oSubHeaderText","setText","oPageTitleText","oTitle","text","level","liveChange","oEvent","_onPagesSearch","ariaLabelledBy","oToolbar","height","design","content","oPagesListVBox","_createPagesList","oPage","spaceIndex","pageIndex","oText","label","oToggleBtn","tooltip","selected","icon","type","pressed","enabled","press","_pageSelectHandler","id","oHBox","justifyContent","alignItems","items","oCustomListItem","pageSettingsPage","getParent","scrollContainerDomRef","getDomRef","childNodes","currentScrollPosition","scrollTop","removeAllItems","oNoDataHBox","setVisible","forEach","oSpace","aPagesList","children","find","oFavPage","pageId","push","oHeaderToolbar","_createHeaderToolbar","oPanel","expandable","expanded","headerToolbar","setTimeout","scrollTo","wrapping","sPageId","_this3","bIsCheckBoxSelected","getSource","getPressed","oPageObj","iIndex","findIndex","splice","getFavPages","aFilteredSpaces","_filterSpacesPages","getData","toLowerCase","spaceLabel","includes"],"sources":["PageSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport SearchField from \"sap/m/SearchField\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Page Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.PageSettingsPanel\n */\nexport default class PageSettingsPanel extends BaseSettingsPanel {\n\tprivate PageManagerInstance!: PageManager;\n\tprivate aAllPages!: IPage[];\n\tprivate aFavPages!: IPage[];\n\tprivate aSpaces!: ISpace[];\n\tprivate oWrapperVBox!: VBox;\n\tprivate oSearchField!: SearchField;\n\tprivate sSearchQuery!: string;\n\tprivate oMessage!: Text;\n\tprivate oPagesListVBox!: VBox;\n\tprivate oNoDataHBox!: HBox;\n\tprivate _initialNavigation: boolean = true;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pages\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://course-book\");\n\t\tthis.oWrapperVBox = new VBox(`${this.getId()}--pageSettingsWrapper`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.addAggregation(\"content\", this.oWrapperVBox);\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.onPanelNavigated();\n\t\t});\n\t}\n\n\t/**\n\t * Handler for panel navigation event.\n\t * Initialize the Page Settings Panel on navigation, if it is not already initializaed.\n\t * @private\n\t */\n\tprivate async onPanelNavigated() {\n\t\tif (this._initialNavigation) {\n\t\t\tthis._initialNavigation = false;\n\t\t\tawait this._initializePanel();\n\t\t}\n\t\t// Clear Search field and search results\n\t\tif (this.oSearchField?.getValue()) {\n\t\t\tthis.oSearchField.setValue(\"\");\n\t\t\tthis.sSearchQuery = \"\";\n\t\t\tthis._renderPages(this.aSpaces);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize the Page Settings Panel.\n\t * @private\n\t */\n\tprivate async _initializePanel() {\n\t\tif (!this.PageManagerInstance) {\n\t\t\t// initializing the page manager instance on panel navigation, as when on init is triggered, the panel assocation is not yet set\n\t\t\t// we are using this._getPanel() (i.e. corresponding panel) instead of this, as settings panel don't have an ownerId\n\t\t\tthis.PageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.aAllPages = await this.PageManagerInstance.fetchAllAvailablePages();\n\t\tthis.aFavPages = await this.PageManagerInstance.getFavoritePages();\n\t\tthis.aSpaces = await this.PageManagerInstance.fetchAllAvailableSpaces();\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showPagesList();\n\t}\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this.getId()}--msgStripContainer`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.oMessage = new Text(`${this.getId()}--msgStripText`).addStyleClass(\"sapUiSmallMargin\");\n\t\tthis._seHeaderMessage();\n\t\toMessageStripVBox.addItem(this.oMessage);\n\t\tthis.oWrapperVBox.addItem(oMessageStripVBox);\n\t}\n\n\t/**\n\t * Creates and returns an `InvisibleText` control containing the Page Sub-header text.\n\t *\n\t * @private\n\t * @returns {InvisibleText} The created `InvisibleText` instance with the title text.\n\t */\n\tprivate _setInvisibleSubHeaderText(): InvisibleText {\n\t\t// Create a hidden Text control for the Sub header (to be read by screen readers)\n\t\tconst subHeaderText =\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\");\n\t\tconst oSubHeaderText = getInvisibleText(this.getId() + \"--pageSubHeaderText\", subHeaderText);\n\t\treturn oSubHeaderText;\n\t}\n\n\tprivate _seHeaderMessage() {\n\t\tthis.oMessage.setText(\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\")\n\t\t);\n\t}\n\n\tprivate _showToolbar() {\n\t\t// Create and store the invisible texts\n\t\tconst oPageTitleText = getInvisibleText(this.getId() + \"--pageTitleText\", this._i18nBundle.getText(\"pages\"));\n\t\tconst oSubHeaderText = this._setInvisibleSubHeaderText();\n\t\tconst oTitle = new Title(`${this.getId()}--pagesListTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\tlevel: \"H3\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tthis.oSearchField = new SearchField(`${this.getId()}--pagesListSearch`, {\n\t\t\tliveChange: (oEvent) => this._onPagesSearch(oEvent),\n\t\t\twidth: \"13.75rem\",\n\t\t\tariaLabelledBy: [oPageTitleText.getId(), oSubHeaderText.getId(), oTitle.getId()]\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom pagesListSearch\");\n\n\t\tconst oToolbar = new Toolbar(`${this.getId()}--pagesListToolbar`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\theight: \"3rem\",\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [\n\t\t\t\toTitle,\n\t\t\t\tnew ToolbarSpacer(`${this.getId()}--pagesHeaderToolbarSpacer`),\n\t\t\t\tthis.oSearchField,\n\t\t\t\toPageTitleText,\n\t\t\t\toSubHeaderText\n\t\t\t]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin pagesToolbarNoPadding\");\n\t\tthis.oWrapperVBox.addItem(oToolbar);\n\t}\n\n\tprivate _showPagesList() {\n\t\tthis.oPagesListVBox = new VBox(`${this.getId()}--pagesListVBox`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tthis._renderPages(this.aSpaces);\n\t\tthis.oWrapperVBox.addItem(this.oPagesListVBox);\n\t}\n\n\tprivate _createPagesList(oPage: IPage, spaceIndex?: number, pageIndex?: number): CustomListItem {\n\t\tconst oText = new Text({\n\t\t\ttext: oPage.label\n\t\t});\n\t\tconst oToggleBtn = new ToggleButton(recycleId(`${this.getId()}-toggle-${spaceIndex}--${pageIndex}`), {\n\t\t\ttooltip: oPage.selected ? this._i18nBundle.getText(\"hideBtn\") : this._i18nBundle.getText(\"showBtn\"),\n\t\t\ticon: \"sap-icon://show\",\n\t\t\ttype: \"Emphasized\",\n\t\t\tpressed: !oPage.selected,\n\t\t\tenabled: oPage.selected || this.aFavPages.length < PAGE_SELECTION_LIMIT,\n\t\t\tpress: (oEvent) => void this._pageSelectHandler(oPage.id as string, oEvent)\n\t\t});\n\t\tconst oHBox = new HBox(recycleId(`${this.getId()}--customListBox--${spaceIndex}--${pageIndex}`), {\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oText, oToggleBtn]\n\t\t});\n\t\tconst oCustomListItem = new CustomListItem(recycleId(`${this.getId()}--customList--${spaceIndex}--${pageIndex}`), {\n\t\t\tcontent: [oHBox]\n\t\t}).addStyleClass(\"pagesPanelItem\");\n\t\treturn oCustomListItem;\n\t}\n\n\tprivate _renderPages(aSpaces: ISpace[]) {\n\t\tconst pageSettingsPage = this.oPagesListVBox.getParent()?.getParent() as Page;\n\t\tconst scrollContainerDomRef = pageSettingsPage?.getDomRef()?.childNodes[1] as Element;\n\t\tconst currentScrollPosition = scrollContainerDomRef?.scrollTop || 0;\n\t\tthis.oPagesListVBox.removeAllItems();\n\t\tif (!aSpaces.length) {\n\t\t\tif (!this.oNoDataHBox) {\n\t\t\t\tthis.oNoDataHBox = new HBox(`${this.getId()}--noSpacePageHBox`, {\n\t\t\t\t\theight: \"3rem\",\n\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Text(`${this.getId()}--noSpacePageItem`, {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"noData\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"pagesBottomBorder\");\n\t\t\t\tthis.oWrapperVBox.addItem(this.oNoDataHBox);\n\t\t\t}\n\t\t\tthis.oNoDataHBox.setVisible(true);\n\t\t} else if (this.oNoDataHBox) {\n\t\t\tthis.oNoDataHBox.setVisible(false);\n\t\t}\n\n\t\taSpaces.forEach((oSpace, spaceIndex) => {\n\t\t\tconst aPagesList: CustomListItem[] = [];\n\t\t\toSpace.children.forEach((oPage, pageIndex) => {\n\t\t\t\toPage.selected = this.aFavPages.find((oFavPage) => oFavPage.pageId === oPage.id) ? true : false;\n\t\t\t\taPagesList.push(this._createPagesList(oPage, spaceIndex, pageIndex));\n\t\t\t});\n\t\t\tconst oHeaderToolbar = this._createHeaderToolbar(oSpace, spaceIndex);\n\t\t\tconst oPanel = new Panel(recycleId(`${this.getId()}--panel--${spaceIndex}`), {\n\t\t\t\texpandable: true,\n\t\t\t\texpanded: true,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theaderToolbar: oHeaderToolbar,\n\t\t\t\tcontent: new List(recycleId(`${this.getId()}--panelContent--${spaceIndex}`), {\n\t\t\t\t\titems: aPagesList\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"pagesPanel\");\n\t\t\tthis.oPagesListVBox.addItem(oPanel);\n\t\t});\n\t\tif (currentScrollPosition >= 0 && pageSettingsPage) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpageSettingsPage.scrollTo(currentScrollPosition);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tprivate _createHeaderToolbar(oSpace: ISpace, spaceIndex?: number) {\n\t\tconst oTitle = new Title(recycleId(`${this.getId()}--headerTitle--${spaceIndex}`), {\n\t\t\twrapping: true,\n\t\t\twidth: \"auto\",\n\t\t\ttext: oSpace.label,\n\t\t\tlevel: \"H4\"\n\t\t}).addStyleClass(\"dialogPanelTitle\");\n\t\tconst oToolbar = new Toolbar(recycleId(`${this.getId()}--headerToolBar--${spaceIndex}`), {\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle]\n\t\t});\n\t\treturn oToolbar;\n\t}\n\n\tprivate async _pageSelectHandler(sPageId: string, oEvent: { getSource: () => { getPressed: () => boolean } }) {\n\t\tconst bIsCheckBoxSelected = !oEvent.getSource().getPressed();\n\t\tconst oPageObj = this.aAllPages.find((oPage) => oPage.pageId === sPageId);\n\t\tif (!oPageObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (bIsCheckBoxSelected) {\n\t\t\tthis.aFavPages.push(oPageObj);\n\t\t} else {\n\t\t\tconst iIndex = this.aFavPages.findIndex((oPage) => oPage.pageId === sPageId);\n\t\t\tthis.aFavPages.splice(iIndex, 1);\n\t\t}\n\t\tthis._seHeaderMessage();\n\t\tawait this.PageManagerInstance.getFavPages(this.aFavPages, true);\n\t\tlet aFilteredSpaces;\n\t\tif (this.sSearchQuery?.length) {\n\t\t\taFilteredSpaces = this._filterSpacesPages();\n\t\t}\n\t\tthis._renderPages(aFilteredSpaces || this.aSpaces);\n\t\tvoid (this._getPanel() as PagePanel).getData();\n\t}\n\n\tprivate _onPagesSearch(oEvent: Event) {\n\t\tthis.sSearchQuery = oEvent.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst aFilteredSpaces = this._filterSpacesPages();\n\t\tthis._renderPages(aFilteredSpaces);\n\t}\n\n\tprivate _filterSpacesPages() {\n\t\tconst aFilteredSpaces: ISpace[] = [];\n\t\tthis.aSpaces.forEach((oSpace) => {\n\t\t\tconst children: IPage[] = [];\n\t\t\tconst spaceLabel = oSpace.label;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oPage.label?.toLowerCase().includes(this.sSearchQuery) || spaceLabel?.toLowerCase().includes(this.sSearchQuery)) {\n\t\t\t\t\tchildren.push(oPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (children.length) {\n\t\t\t\taFilteredSpaces.push({\n\t\t\t\t\t...oSpace,\n\t\t\t\t\tchildren\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aFilteredSpaces;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,4CAAA,kVAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAoBOG,EAAiBJ,EAAAN,GAAA,MAGfW,EAAgBV,EAAA,0BAChBW,EAAoBV,EAAA,8BAAEW,EAAoBX,EAAA,8BAC1CY,EAASX,EAAA,mBACXY,EAAWT,EAAAF,GAAA,MACXY,EAAoBV,EAAAD,GAE3B,MAaqBY,EAA0BP,EAAiBQ,OAAA,kCAAAC,YAAA,SAAAA,IAAAT,EAAAU,UAAAD,YAAAE,MAAAC,KAAAC,WAAAD,KAWvDE,mBAA8B,IAAI,EAOnCC,KAAI,SAAAC,IACVC,sBAAAL,MAGAA,KAAKM,YAAY,MAAOf,EAAqBgB,OAC7CP,KAAKM,YAAY,QAASN,KAAKQ,YAAYC,QAAQ,UACnDT,KAAKM,YAAY,OAAQ,0BACzBN,KAAKU,aAAe,IAAIjC,EAAK,GAAGuB,KAAKW,+BAAgC,CACpEC,MAAO,SACLC,cAAc,mCACjBb,KAAKc,eAAe,UAAWd,KAAKU,cAGpCV,KAAKe,qBAAqB,UACpBf,KAAKgB,oBAEZ,EAOcA,iBAAgB,SAAAC,IAAA,IAAG,MAAAC,EAC5BlB,KAAI,SAAAmB,IAAA,GAKJD,EAAKE,cAAcC,WAAU,CAChCH,EAAKE,aAAaE,SAAS,IAC3BJ,EAAKK,aAAe,GACpBL,EAAKM,aAAaN,EAAKO,QAAS,QAAAC,EAAA,cAR7BR,EAAKhB,mBAAkB,CAC1BgB,EAAKhB,mBAAqB,MAAM,OAAAyB,QAAAC,QAC1BV,EAAKW,oBAAkBC,KAAA,eAMG,GANH,OAAAH,QAAAC,QAAAF,KAAAI,KAAAJ,EAAAI,KAAAX,KAAAO,GAQ/B,CAAC,MAAAK,GAAA,OAAAJ,QAAAK,OAAAD,EAAA,GAMaF,iBAAgB,SAAAA,IAAA,IAAG,MAAAI,EAC3BjC,KAAL,IAAKiC,EAAKC,oBAAqB,CAG9BD,EAAKC,oBAAsBzC,EAAY0C,YACtCzC,EAAqB0C,mBAAmBH,EAAKI,aAC7C3C,EAAqB4C,kBAAkBL,EAAKI,aAE9C,CAAC,OAAAV,QAAAC,QACsBK,EAAKC,oBAAoBK,0BAAwBT,KAAA,SAAAU,GAAxEP,EAAKQ,UAASD,EAA2D,OAAAb,QAAAC,QAClDK,EAAKC,oBAAoBQ,oBAAkBZ,KAAA,SAAAa,GAAlEV,EAAKW,UAASD,EAAqD,OAAAhB,QAAAC,QAC9CK,EAAKC,oBAAoBW,2BAAyBf,KAAA,SAAAgB,GAAvEb,EAAKR,QAAOqB,EACZb,EAAKc,oBACLd,EAAKe,eACLf,EAAKgB,gBAAiB,MACvB,CAAC,MAAAlB,GAAA,OAAAJ,QAAAK,OAAAD,EAAA,GAEOgB,kBAAiB,SAAAA,IACxB,MAAMG,EAAoB,IAAIzE,EAAK,GAAGuB,KAAKW,6BAA8B,CACxEC,MAAO,SACLC,cAAc,mCACjBb,KAAKmD,SAAW,IAAI/E,EAAK,GAAG4B,KAAKW,yBAAyBE,cAAc,oBACxEb,KAAKoD,mBACLF,EAAkBG,QAAQrD,KAAKmD,UAC/BnD,KAAKU,aAAa2C,QAAQH,EAC3B,EAQQI,2BAA0B,SAAAA,IAEjC,MAAMC,EACLvD,KAAK4C,UAAUY,QAAUlE,EACtBU,KAAKQ,YAAYC,QAAQ,qBACzBT,KAAKQ,YAAYC,QAAQ,kBAC7B,MAAMgD,EAAiBpE,EAAiBW,KAAKW,QAAU,sBAAuB4C,GAC9E,OAAOE,CACR,EAEQL,iBAAgB,SAAAA,IACvBpD,KAAKmD,SAASO,QACb1D,KAAK4C,UAAUY,QAAUlE,EACtBU,KAAKQ,YAAYC,QAAQ,qBACzBT,KAAKQ,YAAYC,QAAQ,kBAE9B,EAEQuC,aAAY,SAAAA,IAEnB,MAAMW,EAAiBtE,EAAiBW,KAAKW,QAAU,kBAAmBX,KAAKQ,YAAYC,QAAQ,UACnG,MAAMgD,EAAiBzD,KAAKsD,6BAC5B,MAAMM,EAAS,IAAIvF,EAAM,GAAG2B,KAAKW,0BAA2B,CAC3DkD,KAAM7D,KAAKQ,YAAYC,QAAQ,mBAC/BqD,MAAO,OACLjD,cAAc,0BAEjBb,KAAKoB,aAAe,IAAIjD,EAAY,GAAG6B,KAAKW,2BAA4B,CACvEoD,WAAaC,GAAWhE,KAAKiE,eAAeD,GAC5CpD,MAAO,WACPsD,eAAgB,CAACP,EAAehD,QAAS8C,EAAe9C,QAASiD,EAAOjD,WACtEE,cAAc,0CAEjB,MAAMsD,EAAW,IAAI5F,EAAQ,GAAGyB,KAAKW,4BAA6B,CACjEC,MAAO,oBACPwD,OAAQ,OACRC,OAAQ,QACRC,QAAS,CACRV,EACA,IAAIpF,EAAc,GAAGwB,KAAKW,qCAC1BX,KAAKoB,aACLuC,EACAF,KAEC5C,cAAc,+CACjBb,KAAKU,aAAa2C,QAAQc,EAC3B,EAEQlB,eAAc,SAAAA,IACrBjD,KAAKuE,eAAiB,IAAI9F,EAAK,GAAGuB,KAAKW,yBAA0B,CAChEC,MAAO,sBACLC,cAAc,yBACjBb,KAAKwB,aAAaxB,KAAKyB,SACvBzB,KAAKU,aAAa2C,QAAQrD,KAAKuE,eAChC,EAEQC,iBAAgB,SAAAA,EAACC,EAAcC,EAAqBC,GAC3D,MAAMC,EAAQ,IAAIxG,EAAK,CACtByF,KAAMY,EAAMI,QAEb,MAAMC,EAAa,IAAIxG,EAAakB,EAAU,GAAGQ,KAAKW,kBAAkB+D,MAAeC,KAAc,CACpGI,QAASN,EAAMO,SAAWhF,KAAKQ,YAAYC,QAAQ,WAAaT,KAAKQ,YAAYC,QAAQ,WACzFwE,KAAM,kBACNC,KAAM,aACNC,SAAUV,EAAMO,SAChBI,QAASX,EAAMO,UAAYhF,KAAK4C,UAAUY,OAASlE,EACnD+F,MAAQrB,QAAgBhE,KAAKsF,mBAAmBb,EAAMc,GAAcvB,KAErE,MAAMwB,EAAQ,IAAIxH,EAAKwB,EAAU,GAAGQ,KAAKW,2BAA2B+D,MAAeC,KAAc,CAChGc,eAAgB,eAChBC,WAAY,SACZC,MAAO,CAACf,EAAOE,KAEhB,MAAMc,EAAkB,IAAI7H,EAAeyB,EAAU,GAAGQ,KAAKW,wBAAwB+D,MAAeC,KAAc,CACjHL,QAAS,CAACkB,KACR3E,cAAc,kBACjB,OAAO+E,CACR,EAEQpE,aAAY,SAAAA,EAACC,GACpB,MAAMoE,EAAmB7F,KAAKuE,eAAeuB,aAAaA,YAC1D,MAAMC,EAAwBF,GAAkBG,aAAaC,WAAW,GACxE,MAAMC,EAAwBH,GAAuBI,WAAa,EAClEnG,KAAKuE,eAAe6B,iBACpB,IAAK3E,EAAQ+B,OAAQ,CACpB,IAAKxD,KAAKqG,YAAa,CACtBrG,KAAKqG,YAAc,IAAIrI,EAAK,GAAGgC,KAAKW,2BAA4B,CAC/DyD,OAAQ,OACRqB,eAAgB,SAChBC,WAAY,SACZC,MAAO,CACN,IAAIvH,EAAK,GAAG4B,KAAKW,2BAA4B,CAC5CkD,KAAM7D,KAAKQ,YAAYC,QAAQ,eAG/BI,cAAc,qBACjBb,KAAKU,aAAa2C,QAAQrD,KAAKqG,YAChC,CACArG,KAAKqG,YAAYC,WAAW,KAC7B,MAAO,GAAItG,KAAKqG,YAAa,CAC5BrG,KAAKqG,YAAYC,WAAW,MAC7B,CAEA7E,EAAQ8E,QAAQ,CAACC,EAAQ9B,KACxB,MAAM+B,EAA+B,GACrCD,EAAOE,SAASH,QAAQ,CAAC9B,EAAOE,KAC/BF,EAAMO,SAAWhF,KAAK4C,UAAU+D,KAAMC,GAAaA,EAASC,SAAWpC,EAAMc,IAAM,KAAO,MAC1FkB,EAAWK,KAAK9G,KAAKwE,iBAAiBC,EAAOC,EAAYC,MAE1D,MAAMoC,EAAiB/G,KAAKgH,qBAAqBR,EAAQ9B,GACzD,MAAMuC,EAAS,IAAI/I,EAAMsB,EAAU,GAAGQ,KAAKW,mBAAmB+D,KAAe,CAC5EwC,WAAY,KACZC,SAAU,KACVvG,MAAO,OACPwG,cAAeL,EACfzC,QAAS,IAAIrG,EAAKuB,EAAU,GAAGQ,KAAKW,0BAA0B+D,KAAe,CAC5EiB,MAAOc,MAEN5F,cAAc,cACjBb,KAAKuE,eAAelB,QAAQ4D,KAE7B,GAAIf,GAAyB,GAAKL,EAAkB,CACnDwB,WAAW,KACVxB,EAAiByB,SAASpB,IACxB,EACJ,CACD,EAEQc,qBAAoB,SAAAA,EAACR,EAAgB9B,GAC5C,MAAMd,EAAS,IAAIvF,EAAMmB,EAAU,GAAGQ,KAAKW,yBAAyB+D,KAAe,CAClF6C,SAAU,KACV3G,MAAO,OACPiD,KAAM2C,EAAO3B,MACbf,MAAO,OACLjD,cAAc,oBACjB,MAAMsD,EAAW,IAAI5F,EAAQiB,EAAU,GAAGQ,KAAKW,2BAA2B+D,KAAe,CACxFL,OAAQ,QACRC,QAAS,CAACV,KAEX,OAAOO,CACR,EAEcmB,mBAAkB,SAAAA,EAACkC,EAAiBxD,GAA0D,IAAE,MAAAyD,EAE5FzH,KADjB,MAAM0H,GAAuB1D,EAAO2D,YAAYC,aAChD,MAAMC,EAAWJ,EAAKhF,UAAUkE,KAAMlC,GAAUA,EAAMoC,SAAWW,GACjE,IAAKK,EAAU,CACd,OAAAlG,QAAAC,QAAO,MACR,CAEA,GAAI8F,EAAqB,CACxBD,EAAK7E,UAAUkE,KAAKe,EACrB,KAAO,CACN,MAAMC,EAASL,EAAK7E,UAAUmF,UAAWtD,GAAUA,EAAMoC,SAAWW,GACpEC,EAAK7E,UAAUoF,OAAOF,EAAQ,EAC/B,CACAL,EAAKrE,mBAAmB,OAAAzB,QAAAC,QAClB6F,EAAKvF,oBAAoB+F,YAAYR,EAAK7E,UAAW,OAAKd,KAAA,WAChE,IAAIoG,EACJ,GAAIT,EAAKlG,cAAciC,OAAQ,CAC9B0E,EAAkBT,EAAKU,oBACxB,CACAV,EAAKjG,aAAa0G,GAAmBT,EAAKhG,cACpCgG,EAAKpF,YAA0B+F,SAAU,EAChD,CAAC,MAAArG,GAAA,OAAAJ,QAAAK,OAAAD,EAAA,GAEOkC,eAAc,SAAAA,EAACD,GACtBhE,KAAKuB,aAAeyC,EAAO2D,YAAyBtG,WAAWgH,cAC/D,MAAMH,EAAkBlI,KAAKmI,qBAC7BnI,KAAKwB,aAAa0G,EACnB,EAEQC,mBAAkB,SAAAA,IACzB,MAAMD,EAA4B,GAClClI,KAAKyB,QAAQ8E,QAASC,IACrB,MAAME,EAAoB,GAC1B,MAAM4B,EAAa9B,EAAO3B,MAC1B2B,EAAOE,SAASH,QAAS9B,IACxB,GAAIA,EAAMI,OAAOwD,cAAcE,SAASvI,KAAKuB,eAAiB+G,GAAYD,cAAcE,SAASvI,KAAKuB,cAAe,CACpHmF,EAASI,KAAKrC,EACf,IAED,GAAIiC,EAASlD,OAAQ,CACpB0E,EAAgBpB,KAAK,IACjBN,EACHE,YAEF,IAED,OAAOwB,CACR,IAAC,OAxRmBvI,CAAiB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":226,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Button","CustomListItem","Dialog","GroupHeaderListItem","sap_m_library","List","OverflowToolbar","Select","StandardListItem","ToolbarSpacer","VBox","EventBus","DateFormat","Item","Container","EventHub","__BaseAppPersPanel","__MenuItem","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","URLHelper","BaseAppPersPanel","MenuItem","addFESRId","DateFilterOption","GroupDateFormatter","getDateInstance","pattern","Constants","OLDER_DATE_TIMESTAMP","Number","MIN_SAFE_INTEGER","formatConstantTimeInDate","date","setHours","getWeekRangeValues","weekOffset","currentDate","Date","startDate","startDateTimeStamp","setDate","getDate","getDay","endDate","endDateTimeStamp","getDaysBefore","currentTimeStamp","days","newDateStamp","isDateWithinRange","appTimeStamp","startTimeStamp","endTimeStamp","RecentAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","this","_recentApps","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","_attachUserActivityTracking","on","do","refresh","showHistoryMenuItem","getId","title","icon","press","_openHistoryDialog","bind","insertAggregation","oEventBus","getInstance","subscribe","channelId","eventId","data","item","color","_applyUngroupedTileColor","loadApps","_loadApps","_this","Promise","resolve","_getRecentApps","recentApps","destroyAggregation","map","app","index","menuItems","_getAppActions","addedInFavorites","setApps","generateApps","reject","_this2","getServiceAsync","UserRecentsService","all","getRecentActivity","oRecentActivity","_getRecentActivitiesFromLoadedData","recentActivities","recentActivitiesUsageData","convertActivitiesToVisualizations","_this2$convertActivit","recentDate","recentDay","_recentDayTimeStamp","recentUsage","recentUsageArray","recentUsageMap","Map","forEach","oItem","appId","set","aUsageArray","dateStamp","timestamp","size","usageArray","get","orgAppId","error","isAppAddedInFavorite","resumeLastActivityItem","getKey","_resumeAppActivity","appActions","addToFavoritesItem","event","_addAppToFavorites","push","menuItem","getSource","getParent","url","getUrl","redirect","_generateHistoryDialog","_controlMap","content","height","items","_generateAppHistoryList","addStyleClass","escapeHandler","_closeHistoryDialog","contentHeight","contentWidth","buttons","text","growing","growingScrollToLoad","headerToolbar","style","_generateAppHistoryListFilter","selectedKey","ALL","change","_onDateFilterChange","key","TODAY","WEEK","TWO_WEEK","THREE_WEEK","_generateAppHistoryListItems","appHistoryItems","appHistoryList","destroyItems","appHistoryItem","addItem","_getGroupHeader","name","historyDialog","appHistory","_getAppHistory","open","close","getParameter","filteredAppHistory","_getFilteredAppHistory","sTitle","format","length","groupedAppHistory","thresholdTimeStamp","recentApp","appUsage","usage","usageDate","Object","values","sort","a","b","filter","currentWeekStartDate","currentWeekEndDate","secondWeekStartDate","thirdWeekStartDate","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription"],"sources":["RecentAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport GroupHeaderListItem from \"sap/m/GroupHeaderListItem\";\nimport { URLHelper } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport OverflowToolbar from \"sap/m/OverflowToolbar\";\nimport Select, { Select$ChangeEvent } from \"sap/m/Select\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Item from \"sap/ui/core/Item\";\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport UserRecents from \"sap/ushell/services/UserRecents\";\nimport App from \"./App\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport type { $BasePanelSettings } from \"./BasePanel\";\nimport Group from \"./Group\";\nimport { IActivity } from \"./interface/AppsInterface\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRId } from \"./utils/FESRUtil\";\n\ninterface IAppHistoryItem {\n\tname: string;\n}\n\ninterface IAppHistory {\n\tdateStamp: number;\n\tapps: IAppHistoryItem[];\n}\n\nenum DateFilterOption {\n\tALL = \"ALL\",\n\tTODAY = \"TODAY\",\n\tWEEK = \"WEEK\",\n\tTWO_WEEK = \"TWO_WEEK\",\n\tTHREE_WEEK = \"THREE_WEEK\"\n}\n\nconst GroupDateFormatter = DateFormat.getDateInstance({ pattern: \"MMMM d, yyyy\" });\n\nconst Constants = {\n\tOLDER_DATE_TIMESTAMP: Number.MIN_SAFE_INTEGER\n};\n\nconst formatConstantTimeInDate = (date: Date): number => {\n\treturn date.setHours(12, 0, 0, 0);\n};\n\n/**\n * Calculates the start and end dates of a week based on the given week offset.\n * @param weekOffset - The offset from the current week.\n * @returns An object containing the start and end dates of the week.\n */\nconst getWeekRangeValues = (weekOffset: number) => {\n\tconst currentDate = new Date();\n\n\t// Calculate the start of the current week (with sunday as the first day of the week)\n\tconst startDate = new Date(currentDate);\n\tconst startDateTimeStamp = startDate.setDate(currentDate.getDate() - currentDate.getDay() - 7 * weekOffset);\n\n\t// Calculate the end of the week\n\tconst endDate = new Date(startDate);\n\tconst endDateTimeStamp = endDate.setDate(startDate.getDate() + 6);\n\n\treturn {\n\t\tstartDate: startDateTimeStamp,\n\t\tendDate: endDateTimeStamp\n\t};\n};\n\n/**\n * Calculates the timestamp of a date, that is a specified number of days before a given current date.\n *\n * @param {Date} currentTimeStamp - The current date to calculate days before.\n * @param {number} days - The number of days before the current date.\n * @returns {number} The timestamp of the date `days` before `currentDate`.\n */\nconst getDaysBefore = (currentTimeStamp: number, days: number): number => {\n\tconst currentDate = new Date(currentTimeStamp);\n\tconst newDateStamp = currentDate.setDate(currentDate.getDate() - days);\n\treturn formatConstantTimeInDate(new Date(newDateStamp));\n};\n\n/**\n * Filters an app by date.\n * @private\n * @param {number} appTimeStamp - The timestamp of the app.\n * @param {number} startTimeStamp - The start timestamp for filtering.\n * @param {number} endTimeStamp - The end timestamp for filtering.\n * @returns A boolean indicating whether the app falls within the specified date range.\n */\nconst isDateWithinRange = (appTimeStamp: number, startTimeStamp: number, endTimeStamp: number) => {\n\treturn appTimeStamp >= startTimeStamp && appTimeStamp <= endTimeStamp;\n};\n\n/**\n *\n * Provides class for managing Recently Used apps.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.RecentAppPanel\n */\nexport default class RecentAppPanel extends BaseAppPersPanel {\n\tprivate oEventBus!: EventBus;\n\tprivate _recentDayTimeStamp!: number;\n\tprivate _recentApps: IActivity[] = [];\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recent apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new Recently Used apps Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", \"recentApps\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recentlyUsedTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"recentAppsInfo\"));\n\t\tthis._attachUserActivityTracking();\n\t\tEventHub.on(\"userRecentsCleared\").do(() => {\n\t\t\tvoid this.refresh();\n\t\t});\n\n\t\t//Setup Menu Items\n\t\tconst showHistoryMenuItem = new MenuItem(`${this.getId()}-show-history-btn`, {\n\t\t\ttitle: this._i18nBundle.getText(\"showHistoryBtn\"),\n\t\t\ticon: \"sap-icon://history\",\n\t\t\tpress: this._openHistoryDialog.bind(this)\n\t\t});\n\t\taddFESRId(showHistoryMenuItem, \"showHistory\");\n\t\tthis.insertAggregation(\"menuItems\", showHistoryMenuItem, 0);\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"appsChannel\",\n\t\t\t\"favAppColorChanged\",\n\t\t\t(channelId?: string, eventId?: string, data?) => {\n\t\t\t\tconst { item, color } = data as { item: App | Group; color: string };\n\t\t\t\t//update color of the app in recent apps\n\t\t\t\tthis._applyUngroupedTileColor(item, color);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\t/**\n\t * Fetch recent apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tlet recentApps = await this._getRecentApps();\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\trecentApps = recentApps.map((app, index) => {\n\t\t\treturn {\n\t\t\t\t...app,\n\t\t\t\tmenuItems: this._getAppActions(app.addedInFavorites, index)\n\t\t\t};\n\t\t});\n\t\t//convert apps objects array to apps instances\n\t\tthis.setApps(this.generateApps(recentApps));\n\t}\n\n\t/**\n\t * Returns list of recent apps\n\t * @private\n\t * @returns {Promise<IActivity[]>} - Array of recent apps.\n\t */\n\tprivate async _getRecentApps(): Promise<IActivity[]> {\n\t\ttry {\n\t\t\tconst UserRecentsService = await Container.getServiceAsync<UserRecents>(\"UserRecents\");\n\t\t\tconst [recentActivities, recentActivitiesUsageData] = await Promise.all([\n\t\t\t\tUserRecentsService?.getRecentActivity().then((result) => result || []),\n\t\t\t\tUserRecentsService?.oRecentActivity._getRecentActivitiesFromLoadedData().then((result) => result || {})\n\t\t\t]);\n\t\t\t//convert activity to apps\n\t\t\tthis._recentApps = await this.convertActivitiesToVisualizations(recentActivities);\n\t\t\tlet recentDate = new Date(recentActivitiesUsageData?.recentDay);\n\t\t\t// add last used and usage info\n\t\t\tthis._recentDayTimeStamp = formatConstantTimeInDate(recentDate);\n\n\t\t\tconst recentUsage = recentActivitiesUsageData?.recentUsageArray || [];\n\t\t\tconst recentUsageMap = new Map<string, number[]>();\n\t\t\trecentUsage.forEach((app) => {\n\t\t\t\tif (app.oItem?.appId) {\n\t\t\t\t\trecentUsageMap.set(app.oItem.appId, app.aUsageArray);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._recentApps.forEach((app) => {\n\t\t\t\t//isolate only date information by having common time information\n\t\t\t\tapp.dateStamp = formatConstantTimeInDate(new Date(app.timestamp));\n\t\t\t\tif (recentUsageMap.size) {\n\t\t\t\t\tapp.usageArray = recentUsageMap.get(app.orgAppId);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this._recentApps || [];\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @param {boolean} isAppAddedInFavorite - true if app is already present in favorite, false otherwise.\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getAppActions(isAppAddedInFavorite: boolean = false, index?: number): MenuItem[] {\n\t\tconst resumeLastActivityItem = new MenuItem(`${this.getKey()}--${index}--resumeLastActivityItem`, {\n\t\t\ttitle: this._i18nBundle.getText(\"resumeLastActivity\"),\n\t\t\ticon: \"sap-icon://past\",\n\t\t\tpress: this._resumeAppActivity.bind(this)\n\t\t});\n\t\taddFESRId(resumeLastActivityItem, \"resumeActivity\");\n\t\tconst appActions = [resumeLastActivityItem];\n\t\tif (!isAppAddedInFavorite) {\n\t\t\tconst addToFavoritesItem = new MenuItem(`${this.getKey()}--${index}--addToFavoritesRecentItem`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\t\tpress: (event) => {\n\t\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRId(addToFavoritesItem, \"addFavFromRecent\");\n\t\t\tappActions.push(addToFavoritesItem);\n\t\t}\n\t\treturn appActions;\n\t}\n\n\t/**\n\t * Redirects to the selected app url\n\t * @private\n\t * @param {sap.ui.base.Event} event - The event object.\n\t */\n\tprivate _resumeAppActivity(event: Event) {\n\t\tconst menuItem = event.getSource<MenuItem>();\n\t\tconst app = menuItem.getParent() as App;\n\t\tconst url = app.getUrl?.();\n\t\tURLHelper.redirect(url, false);\n\t}\n\n\t/**\n\t * Generates and returns a dialog for showing the history of recent applications.\n\t * @private\n\t * @returns The generated dialog for showing the history of recent applications.\n\t */\n\tprivate _generateHistoryDialog() {\n\t\tconst id = `${this.getId()}-history-dialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"showHistoryTitle\"),\n\t\t\t\t\tcontent: new VBox({\n\t\t\t\t\t\tid: `${id}-container`,\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\titems: [this._generateAppHistoryList()]\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\"),\n\t\t\t\t\tescapeHandler: this._closeHistoryDialog.bind(this),\n\t\t\t\t\tcontentHeight: \"29rem\",\n\t\t\t\t\tcontentWidth: \"25rem\",\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\tnew Button({\n\t\t\t\t\t\t\tid: `${id}-cancel-btn`,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\t\tpress: this._closeHistoryDialog.bind(this)\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"sapContrastPlus\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Generates the app history list.\n\t * @private\n\t * @returns The generated app history list.\n\t */\n\tprivate _generateAppHistoryList() {\n\t\tconst id = `${this.getId()}-history-dialog-list`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew List({\n\t\t\t\t\tid,\n\t\t\t\t\tgrowing: true,\n\t\t\t\t\tgrowingScrollToLoad: true,\n\t\t\t\t\theaderToolbar: new OverflowToolbar({\n\t\t\t\t\t\tid: `${id}-header-toolbar`,\n\t\t\t\t\t\tstyle: \"Clear\",\n\t\t\t\t\t\theight: \"1.75rem\",\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew ToolbarSpacer({\n\t\t\t\t\t\t\t\tid: `${id}-header-toolbar-spacer`\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tthis._generateAppHistoryListFilter()\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone recentAppList\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as List;\n\t}\n\n\t/**\n\t * Generates the app history list filter.\n\t * @private\n\t * @returns The Select control for the app history list filter.\n\t */\n\tprivate _generateAppHistoryListFilter() {\n\t\tconst id = `${this.getId()}-history-dialog-list-filter`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Select({\n\t\t\t\t\tid,\n\t\t\t\t\tselectedKey: DateFilterOption.ALL,\n\t\t\t\t\tchange: (e) => this._onDateFilterChange(e),\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-month`,\n\t\t\t\t\t\t\tkey: DateFilterOption.ALL,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThirty\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-today`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TODAY,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateToday\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-week`,\n\t\t\t\t\t\t\tkey: DateFilterOption.WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-twoWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.TWO_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateTwoWeek\")\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew Item({\n\t\t\t\t\t\t\tid: `${id}-threeWeek`,\n\t\t\t\t\t\t\tkey: DateFilterOption.THREE_WEEK,\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"dateThreeWeek\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Select;\n\t}\n\n\t/**\n\t * Generates and populates items in the app history list based on the provided list of items.\n\t * Clears existing items in the list before adding new items.\n\t *\n\t * @param {IAppHistory[]} appHistoryItems - Array of items to populate in the app history list.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate _generateAppHistoryListItems(appHistoryItems: IAppHistory[]): void {\n\t\tconst appHistoryList = this._generateAppHistoryList();\n\t\tappHistoryList?.destroyItems();\n\t\tappHistoryItems.forEach((appHistoryItem) => {\n\t\t\tappHistoryList.addItem(this._getGroupHeader(appHistoryItem.dateStamp));\n\t\t\tappHistoryList.addItem(\n\t\t\t\tnew CustomListItem({\n\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-lisItem`,\n\t\t\t\t\ttype: \"Inactive\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\tnew List({\n\t\t\t\t\t\t\tid: `date-${appHistoryItem.dateStamp}-appList`,\n\t\t\t\t\t\t\titems: (appHistoryItem.apps || []).map((app, index) =>\n\t\t\t\t\t\t\t\tnew StandardListItem({\n\t\t\t\t\t\t\t\t\tid: `listItem--${appHistoryItem.dateStamp}--${index}`,\n\t\t\t\t\t\t\t\t\ttitle: app.name,\n\t\t\t\t\t\t\t\t\ttype: \"Inactive\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppList sapUiSmallMarginTop\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}).addStyleClass(\"sapMListShowSeparatorsNone sapUiTinyMarginBottom\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Opens the history dialog.\n\t * This method generates the show history dialog, retrieves the app history list,\n\t * generates the app history list items, and opens the dialog.\n\t * @private\n\t */\n\tprivate _openHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\tconst appHistory = this._getAppHistory();\n\t\tthis._generateAppHistoryListItems(appHistory);\n\t\thistoryDialog.open();\n\t}\n\n\t/**\n\t * Closes the history dialog.\n\t * @private\n\t */\n\tprivate _closeHistoryDialog() {\n\t\tconst historyDialog = this._generateHistoryDialog();\n\t\thistoryDialog.close();\n\t}\n\n\t/**\n\t * Handles the change event of the date filter.\n\t * Updates the app history list based on the selected date filter.\n\t * @private\n\t * @param {Select$ChangeEvent} event - The select change event.\n\t */\n\tprivate _onDateFilterChange(event: Select$ChangeEvent) {\n\t\tconst selectedKey = event.getParameter(\"selectedItem\")?.getKey() as DateFilterOption;\n\t\tconst filteredAppHistory: IAppHistory[] = this._getFilteredAppHistory(selectedKey);\n\t\tthis._generateAppHistoryListItems(filteredAppHistory);\n\t}\n\n\t/**\n\t * Generates a group header for the given date timestamp.\n\t *\n\t * @param {number} dateStamp - The timestamp representing the date.\n\t * @returns {GroupHeaderListItem} The generated group header list item.\n\t * @private\n\t */\n\tprivate _getGroupHeader(dateStamp: number): GroupHeaderListItem {\n\t\tlet sTitle = \"\";\n\t\tswitch (dateStamp) {\n\t\t\tcase Constants.OLDER_DATE_TIMESTAMP:\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateLater\") as string;\n\t\t\t\tbreak;\n\t\t\tcase formatConstantTimeInDate(new Date()):\n\t\t\t\tsTitle = this._i18nBundle.getText(\"dateToday\") as string;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tsTitle = GroupDateFormatter.format(new Date(dateStamp));\n\t\t\t\tbreak;\n\t\t}\n\t\treturn new GroupHeaderListItem({\n\t\t\ttitle: sTitle\n\t\t}).addStyleClass(\"sapUiTinyMarginBeginEnd recentAppListHeader\");\n\t}\n\n\t/**\n\t * Retrieves the application usage history based on recent app data.\n\t *\n\t * @returns {IAppHistory[]} Array of objects, where each object contains the date timestamp and the apps that are used on that date.\n\t * @private\n\t */\n\tprivate _getAppHistory(): IAppHistory[] {\n\t\tif (this._recentDayTimeStamp && this._recentApps?.length) {\n\t\t\tconst groupedAppHistory: Record<number, IAppHistory> = {};\n\t\t\tconst thresholdTimeStamp = getDaysBefore(this._recentDayTimeStamp, 30); // 30 days threshold\n\t\t\tthis._recentApps.forEach((recentApp) => {\n\t\t\t\tconst appTimeStamp = formatConstantTimeInDate(new Date(recentApp.dateStamp!));\n\t\t\t\tif (appTimeStamp < thresholdTimeStamp) {\n\t\t\t\t\tif (!groupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]) {\n\t\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP] = { dateStamp: Constants.OLDER_DATE_TIMESTAMP, apps: [] };\n\t\t\t\t\t}\n\t\t\t\t\tgroupedAppHistory[Constants.OLDER_DATE_TIMESTAMP]?.apps.push({ name: recentApp.title });\n\t\t\t\t} else {\n\t\t\t\t\tconst appUsage = recentApp.usageArray || [];\n\t\t\t\t\tappUsage.forEach((usage, index) => {\n\t\t\t\t\t\tif (usage > 0) {\n\t\t\t\t\t\t\tconst usageDate = getDaysBefore(this._recentDayTimeStamp, appUsage.length - 1 - index);\n\t\t\t\t\t\t\tif (!groupedAppHistory[usageDate]) {\n\t\t\t\t\t\t\t\tgroupedAppHistory[usageDate] = { dateStamp: usageDate, apps: [] };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgroupedAppHistory[usageDate]?.apps.push({ name: recentApp.title });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst appHistory = Object.values(groupedAppHistory);\n\t\t\tappHistory.sort((a, b) => b.dateStamp - a.dateStamp);\n\t\t\treturn appHistory;\n\t\t}\n\t\treturn [];\n\t}\n\n\t/**\n\t * Retrieves the filtered app history based on the selected date filter option.\n\t * @private\n\t * @param {DateFilterOption} selectedKey - The selected date filter option.\n\t * @returns {IAppHistory[]} An array of filtered app history.\n\t */\n\tprivate _getFilteredAppHistory(selectedKey: DateFilterOption): IAppHistory[] {\n\t\tconst appHistory = this._getAppHistory();\n\t\tlet filteredAppHistory: IAppHistory[] = [];\n\t\tswitch (selectedKey) {\n\t\t\tcase DateFilterOption.TODAY: {\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => app.dateStamp === formatConstantTimeInDate(new Date()));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.WEEK: {\n\t\t\t\tconst { startDate: currentWeekStartDate, endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, currentWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.TWO_WEEK: {\n\t\t\t\tconst { startDate: secondWeekStartDate } = getWeekRangeValues(1);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, secondWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase DateFilterOption.THREE_WEEK: {\n\t\t\t\tconst { startDate: thirdWeekStartDate } = getWeekRangeValues(2);\n\t\t\t\tconst { endDate: currentWeekEndDate } = getWeekRangeValues(0);\n\t\t\t\tfilteredAppHistory = appHistory.filter((app) => isDateWithinRange(app.dateStamp, thirdWeekStartDate, currentWeekEndDate));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tfilteredAppHistory = [...appHistory];\n\t\t\t\tbreak;\n\t\t}\n\t\treturn filteredAppHistory;\n\t}\n\n\t/**\n\t * Generates illustrated message for recent apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//override the default description\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecentAppsDescription\"));\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,yCAAA,uZAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MAljBQG,EAASzB,EAAA,mBAgBX0B,EAAgBX,EAAAH,GAAA,MAIhBe,EAAQZ,EAAAF,GAAA,MACNe,EAASd,EAAA,iBAWbe,EAAgB,SAAhBA,KAAgB,aAAhBA,EAAgB,iBAAhBA,EAAgB,eAAhBA,EAAgB,uBAAhBA,EAAgB,kCAAhBA,CAAgB,EAAhBA,GAAgB,IAQrB,MAAMC,EAAqBtB,EAAWuB,gBAAgB,CAAEC,QAAS,iBAEjE,MAAMC,EAAY,CACjBC,qBAAsBC,OAAOC,kBAG9B,MAAMC,EAA4BC,GAC1BA,EAAKC,SAAS,GAAI,EAAG,EAAG,GAQhC,MAAMC,EAAsBC,IAC3B,MAAMC,EAAc,IAAIC,KAGxB,MAAMC,EAAY,IAAID,KAAKD,GAC3B,MAAMG,EAAqBD,EAAUE,QAAQJ,EAAYK,UAAYL,EAAYM,SAAW,EAAIP,GAGhG,MAAMQ,EAAU,IAAIN,KAAKC,GACzB,MAAMM,EAAmBD,EAAQH,QAAQF,EAAUG,UAAY,GAE/D,MAAO,CACNH,UAAWC,EACXI,QAASC,IAWX,MAAMC,EAAgBA,CAACC,EAA0BC,KAChD,MAAMX,EAAc,IAAIC,KAAKS,GAC7B,MAAME,EAAeZ,EAAYI,QAAQJ,EAAYK,UAAYM,GACjE,OAAOhB,EAAyB,IAAIM,KAAKW,KAW1C,MAAMC,EAAoBA,CAACC,EAAsBC,EAAwBC,IACjEF,GAAgBC,GAAkBD,GAAgBE,EAG1D,MAeqBC,EAAuBjC,EAAgBkC,OAAA,+BAI3CC,SAA4B,CAC3CC,QAAS,eACTC,mBAAoB,OACpBC,aAAc,CAIbC,KAAM,CAAEC,KAAM,mBAAoBC,aAAc,MAAOC,SAAU,KAAMC,WAAY,YAU9EC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,GAAUE,KAnBbC,YAA2B,GAoBlCD,KAAKE,aAAa,MACnB,EAEOC,KAAI,SAAAC,IACVC,sBAAAL,MACAA,KAAKM,YAAY,MAAO,cACxBN,KAAKM,YAAY,QAASN,KAAKO,YAAYC,QAAQ,oBACnDR,KAAKM,YAAY,UAAWN,KAAKO,YAAYC,QAAQ,mBACrDR,KAAKS,8BACLzE,EAAS0E,GAAG,sBAAsBC,GAAG,UAC/BX,KAAKY,YAIX,MAAMC,EAAsB,IAAI7D,EAAS,GAAGgD,KAAKc,2BAA4B,CAC5EC,MAAOf,KAAKO,YAAYC,QAAQ,kBAChCQ,KAAM,qBACNC,MAAOjB,KAAKkB,mBAAmBC,KAAKnB,QAErC/C,EAAU4D,EAAqB,eAC/Bb,KAAKoB,kBAAkB,YAAaP,EAAqB,GAEzDb,KAAKqB,UAAYzF,EAAS0F,cAC1BtB,KAAKqB,UAAUE,UACd,cACA,qBACA,CAACC,EAAoBC,EAAkBC,KACtC,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EAExB1B,KAAK6B,yBAAyBF,EAAMC,IAErC5B,KAEF,EAMa8B,SAAQ,SAAAC,IAAA,IAAG,MAAAC,EACAhC,KAAI,OAAAiC,QAAAC,QAAJF,EAAKG,kBAAgBtF,KAAA,SAAxCuF,GACJJ,EAAKK,mBAAmB,OAAQ,MAChCD,EAAaA,EAAWE,IAAI,CAACC,EAAKC,KAC1B,IACHD,EACHE,UAAWT,EAAKU,eAAeH,EAAII,iBAAkBH,MAIvDR,EAAKY,QAAQZ,EAAKa,aAAaT,GAAa,EAC7C,CAAC,MAAAxF,GAAA,OAAAqF,QAAAa,OAAAlG,EAAA,GAOauF,eAAc,SAAAA,IAAA,IAAyB,MAAAY,EAQnD/C,KAAI,OAAAiC,QAAAC,QAAA1F,EAAA,WAPD,OAAAyF,QAAAC,QAC8BnG,EAAUiH,gBAA6B,gBAAcnG,KAAA,SAAhFoG,GAAkB,OAAAhB,QAAAC,QACoCD,QAAQiB,IAAI,CACvED,GAAoBE,oBAAoBtG,KAAMF,GAAWA,GAAU,IACnEsG,GAAoBG,gBAAgBC,qCAAqCxG,KAAMF,GAAWA,GAAU,CAAC,MACpGE,KAAA,UAHKyG,EAAkBC,IAIzB,OAAAtB,QAAAC,QACyBa,EAAKS,kCAAkCF,IAAiBzG,KAAA,SAAA4G,GAAjFV,EAAK9C,YAAWwD,EAChB,IAAIC,EAAa,IAAI1F,KAAKuF,GAA2BI,WAErDZ,EAAKa,oBAAsBlG,EAAyBgG,GAEpD,MAAMG,EAAcN,GAA2BO,kBAAoB,GACnE,MAAMC,EAAiB,IAAIC,IAC3BH,EAAYI,QAAS1B,IACpB,GAAIA,EAAI2B,OAAOC,MAAO,CACrBJ,EAAeK,IAAI7B,EAAI2B,MAAMC,MAAO5B,EAAI8B,YACzC,IAEDtB,EAAK9C,YAAYgE,QAAS1B,IAEzBA,EAAI+B,UAAY5G,EAAyB,IAAIM,KAAKuE,EAAIgC,YACtD,GAAIR,EAAeS,KAAM,CACxBjC,EAAIkC,WAAaV,EAAeW,IAAInC,EAAIoC,SACzC,IAED,OAAO5B,EAAK9C,aAAe,EAAG,MAC/B,EAAC,SAAQ2E,GACR5J,EAAI4J,MAAMA,GACV,MAAO,EACR,GACD,CAAC,MAAAhI,GAAA,OAAAqF,QAAAa,OAAAlG,EAAA,GAQO8F,eAAc,SAAAA,EAACmC,EAAgC,MAAOrC,GAC7D,MAAMsC,EAAyB,IAAI9H,EAAS,GAAGgD,KAAK+E,aAAavC,4BAAiC,CACjGzB,MAAOf,KAAKO,YAAYC,QAAQ,sBAChCQ,KAAM,kBACNC,MAAOjB,KAAKgF,mBAAmB7D,KAAKnB,QAErC/C,EAAU6H,EAAwB,kBAClC,MAAMG,EAAa,CAACH,GACpB,IAAKD,EAAsB,CAC1B,MAAMK,EAAqB,IAAIlI,EAAS,GAAGgD,KAAK+E,aAAavC,8BAAmC,CAC/FzB,MAAOf,KAAKO,YAAYC,QAAQ,kBAChCQ,KAAM,0BACNC,MAAQkE,SACFnF,KAAKoF,mBAAmBD,MAG/BlI,EAAUiI,EAAoB,oBAC9BD,EAAWI,KAAKH,EACjB,CACA,OAAOD,CACR,EAOQD,mBAAkB,SAAAA,EAACG,GAC1B,MAAMG,EAAWH,EAAMI,YACvB,MAAMhD,EAAM+C,EAASE,YACrB,MAAMC,EAAMlD,EAAImD,WAChB5I,EAAU6I,SAASF,EAAK,MACzB,EAOQG,uBAAsB,SAAAA,IAC7B,MAAM/F,EAAK,GAAGG,KAAKc,yBACnB,IAAKd,KAAK6F,YAAYnB,IAAI7E,GAAK,CAC9BG,KAAK6F,YAAYzB,IAChBvE,EACA,IAAI1E,EAAO0E,EAAI,CACdkB,MAAOf,KAAKO,YAAYC,QAAQ,oBAChCsF,QAAS,IAAInK,EAAK,CACjBkE,GAAI,GAAGA,cACPkG,OAAQ,OACRC,MAAO,CAAChG,KAAKiG,6BACXC,cAAc,mBACjBC,cAAenG,KAAKoG,oBAAoBjF,KAAKnB,MAC7CqG,cAAe,QACfC,aAAc,QACdC,QAAS,CACR,IAAItL,EAAO,CACV4E,GAAI,GAAGA,eACP2G,KAAMxG,KAAKO,YAAYC,QAAQ,aAC/BS,MAAOjB,KAAKoG,oBAAoBjF,KAAKnB,WAGrCkG,cAAc,mBAEnB,CACA,OAAOlG,KAAK6F,YAAYnB,IAAI7E,EAC7B,EAOQoG,wBAAuB,SAAAA,IAC9B,MAAMpG,EAAK,GAAGG,KAAKc,8BACnB,IAAKd,KAAK6F,YAAYnB,IAAI7E,GAAK,CAC9BG,KAAK6F,YAAYzB,IAChBvE,EACA,IAAIvE,EAAK,CACRuE,KACA4G,QAAS,KACTC,oBAAqB,KACrBC,cAAe,IAAIpL,EAAgB,CAClCsE,GAAI,GAAGA,mBACP+G,MAAO,QACPb,OAAQ,UACRD,QAAS,CACR,IAAIpK,EAAc,CACjBmE,GAAI,GAAGA,4BAERG,KAAK6G,qCAGLX,cAAc,4CAEnB,CACA,OAAOlG,KAAK6F,YAAYnB,IAAI7E,EAC7B,EAOQgH,8BAA6B,SAAAA,IACpC,MAAMhH,EAAK,GAAGG,KAAKc,qCACnB,IAAKd,KAAK6F,YAAYnB,IAAI7E,GAAK,CAC9BG,KAAK6F,YAAYzB,IAChBvE,EACA,IAAIrE,EAAO,CACVqE,KACAiH,YAAa5J,EAAiB6J,IAC9BC,OAASpK,GAAMoD,KAAKiH,oBAAoBrK,GACxCoJ,MAAO,CACN,IAAIlK,EAAK,CACR+D,GAAI,GAAGA,UACPqH,IAAKhK,EAAiB6J,IACtBP,KAAMxG,KAAKO,YAAYC,QAAQ,gBAEhC,IAAI1E,EAAK,CACR+D,GAAI,GAAGA,UACPqH,IAAKhK,EAAiBiK,MACtBX,KAAMxG,KAAKO,YAAYC,QAAQ,eAEhC,IAAI1E,EAAK,CACR+D,GAAI,GAAGA,SACPqH,IAAKhK,EAAiBkK,KACtBZ,KAAMxG,KAAKO,YAAYC,QAAQ,cAEhC,IAAI1E,EAAK,CACR+D,GAAI,GAAGA,YACPqH,IAAKhK,EAAiBmK,SACtBb,KAAMxG,KAAKO,YAAYC,QAAQ,iBAEhC,IAAI1E,EAAK,CACR+D,GAAI,GAAGA,cACPqH,IAAKhK,EAAiBoK,WACtBd,KAAMxG,KAAKO,YAAYC,QAAQ,sBAKpC,CACA,OAAOR,KAAK6F,YAAYnB,IAAI7E,EAC7B,EAUQ0H,6BAA4B,SAAAA,EAACC,GACpC,MAAMC,EAAiBzH,KAAKiG,0BAC5BwB,GAAgBC,eAChBF,EAAgBvD,QAAS0D,IACxBF,EAAeG,QAAQ5H,KAAK6H,gBAAgBF,EAAerD,YAC3DmD,EAAeG,QACd,IAAI1M,EAAe,CAClB2E,GAAI,QAAQ8H,EAAerD,oBAC3B/E,KAAM,WACNuG,QAAS,CACR,IAAIxK,EAAK,CACRuE,GAAI,QAAQ8H,EAAerD,oBAC3B0B,OAAQ2B,EAAerI,MAAQ,IAAIgD,IAAI,CAACC,EAAKC,IAC5C,IAAI/G,EAAiB,CACpBoE,GAAI,aAAa8H,EAAerD,cAAc9B,IAC9CzB,MAAOwB,EAAIuF,KACXvI,KAAM,aACJ2G,cAAc,gEAEhBA,cAAc,yDAKtB,EAQQhF,mBAAkB,SAAAA,IACzB,MAAM6G,EAAgB/H,KAAK4F,yBAC3B,MAAMoC,EAAahI,KAAKiI,iBACxBjI,KAAKuH,6BAA6BS,GAClCD,EAAcG,MACf,EAMQ9B,oBAAmB,SAAAA,IAC1B,MAAM2B,EAAgB/H,KAAK4F,yBAC3BmC,EAAcI,OACf,EAQQlB,oBAAmB,SAAAA,EAAC9B,GAC3B,MAAM2B,EAAc3B,EAAMiD,aAAa,iBAAiBrD,SACxD,MAAMsD,EAAoCrI,KAAKsI,uBAAuBxB,GACtE9G,KAAKuH,6BAA6Bc,EACnC,EASQR,gBAAe,SAAAA,EAACvD,GACvB,IAAIiE,EAAS,GACb,OAAQjE,GACP,KAAKhH,EAAUC,qBACdgL,EAASvI,KAAKO,YAAYC,QAAQ,aAClC,MACD,KAAK9C,EAAyB,IAAIM,MACjCuK,EAASvI,KAAKO,YAAYC,QAAQ,aAClC,MACD,QACC+H,EAASpL,EAAmBqL,OAAO,IAAIxK,KAAKsG,IAC5C,MAEF,OAAO,IAAIlJ,EAAoB,CAC9B2F,MAAOwH,IACLrC,cAAc,8CAClB,EAQQ+B,eAAc,SAAAA,IACrB,GAAIjI,KAAK4D,qBAAuB5D,KAAKC,aAAawI,OAAQ,CACzD,MAAMC,EAAiD,CAAC,EACxD,MAAMC,EAAqBnK,EAAcwB,KAAK4D,oBAAqB,IACnE5D,KAAKC,YAAYgE,QAAS2E,IACzB,MAAM/J,EAAenB,EAAyB,IAAIM,KAAK4K,EAAUtE,YACjE,GAAIzF,EAAe8J,EAAoB,CACtC,IAAKD,EAAkBpL,EAAUC,sBAAuB,CACvDmL,EAAkBpL,EAAUC,sBAAwB,CAAE+G,UAAWhH,EAAUC,qBAAsB+B,KAAM,GACxG,CACAoJ,EAAkBpL,EAAUC,uBAAuB+B,KAAK+F,KAAK,CAAEyC,KAAMc,EAAU7H,OAChF,KAAO,CACN,MAAM8H,EAAWD,EAAUnE,YAAc,GACzCoE,EAAS5E,QAAQ,CAAC6E,EAAOtG,KACxB,GAAIsG,EAAQ,EAAG,CACd,MAAMC,EAAYvK,EAAcwB,KAAK4D,oBAAqBiF,EAASJ,OAAS,EAAIjG,GAChF,IAAKkG,EAAkBK,GAAY,CAClCL,EAAkBK,GAAa,CAAEzE,UAAWyE,EAAWzJ,KAAM,GAC9D,CACAoJ,EAAkBK,IAAYzJ,KAAK+F,KAAK,CAAEyC,KAAMc,EAAU7H,OAC3D,GAEF,IAED,MAAMiH,EAAagB,OAAOC,OAAOP,GACjCV,EAAWkB,KAAK,CAACC,EAAGC,IAAMA,EAAE9E,UAAY6E,EAAE7E,WAC1C,OAAO0D,CACR,CACA,MAAO,EACR,EAQQM,uBAAsB,SAAAA,EAACxB,GAC9B,MAAMkB,EAAahI,KAAKiI,iBACxB,IAAII,EAAoC,GACxC,OAAQvB,GACP,KAAK5J,EAAiBiK,MAAO,CAC5BkB,EAAqBL,EAAWqB,OAAQ9G,GAAQA,EAAI+B,YAAc5G,EAAyB,IAAIM,OAC/F,KACD,CACA,KAAKd,EAAiBkK,KAAM,CAC3B,MAAQnJ,UAAWqL,EAAsBhL,QAASiL,GAAuB1L,EAAmB,GAC5FwK,EAAqBL,EAAWqB,OAAQ9G,GAAQ3D,EAAkB2D,EAAI+B,UAAWgF,EAAsBC,IACvG,KACD,CACA,KAAKrM,EAAiBmK,SAAU,CAC/B,MAAQpJ,UAAWuL,GAAwB3L,EAAmB,GAC9D,MAAQS,QAASiL,GAAuB1L,EAAmB,GAC3DwK,EAAqBL,EAAWqB,OAAQ9G,GAAQ3D,EAAkB2D,EAAI+B,UAAWkF,EAAqBD,IACtG,KACD,CACA,KAAKrM,EAAiBoK,WAAY,CACjC,MAAQrJ,UAAWwL,GAAuB5L,EAAmB,GAC7D,MAAQS,QAASiL,GAAuB1L,EAAmB,GAC3DwK,EAAqBL,EAAWqB,OAAQ9G,GAAQ3D,EAAkB2D,EAAI+B,UAAWmF,EAAoBF,IACrG,KACD,CACA,QACClB,EAAqB,IAAIL,GACzB,MAEF,OAAOK,CACR,EAQUqB,2BAA0B,SAAAC,IACnC,MAAMC,EAAkBC,4CAAA7J,MAExB4J,EAAmBE,eAAe9J,KAAKO,YAAYC,QAAQ,4BAC3D,OAAOoJ,CACR,IAAC,OA5bmB5K,CAAc","ignoreList":[],"sourceRoot":""}},{"offset":{"line":231,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerSettings","Button","Dialog","IllustratedMessageSize","IllustratedMessageType","sap_m_library","Link","MessageStrip","MessageToast","ScrollContainer","Text","Title","VBox","Element","EventBus","__BaseAppPersPanel","__MenuItem","___utils_Constants","___utils_Device","___utils_FESRUtil","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BackgroundDesign","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","BaseAppPersPanel","_catch","recover","MenuItem","_finallyRethrows","finalizer","REPO_BASE_URL","SETTINGS_PANELS_KEYS","DeviceType","addFESRId","HttpHelper","CONSTANTS","USER_PREFERENCE_SRVC_URL","KEY","RecommendedAppPanel","extend","metadata","library","defaultAggregation","aggregations","apps","type","singularName","multiple","visibility","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","_selectedApps","setSupported","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","_i18nBundle","getText","eventBus","getInstance","subscribe","channelId","eventId","data","showRecommendation","fireSupported","isSupported","_createAddToFavouritesMenuItem","addToFavouritesMenuItem","getId","title","icon","press","_openAddRecommendedDialog","visible","insertAggregation","dialogId","dialog","_generateAddRecommendedDialog","open","_controlMap","get","_createAddRecommendedDialogControls","appsWrapper","_generateAppsScrollContainer","getContent","destroyAggregation","getApps","tiles","map","app","_createAppTile","_setAggregation","_updateSelectedAppCount","set","text","level","addButton","Promise","resolve","_addSelectedApps","_closeAddRecommendedDialog","enabled","cancelButton","mainTitleText","content","items","justifyContent","alignItems","addStyleClass","contentHeight","contentWidth","buttons","escapeHandler","appCopy","clone","appTile","getParent","_getAppTile","_onPress","_highlightApp","layout","columnSize","gap","vertical","height","_updateAddButtonState","getElementById","setEnabled","toggleAppTileHighlight","close","_resetAddRecommendedDialog","_toggleAppTileHighlight","isAppSelected","appsScrollContainer","getItems","forEach","oTile","hasStyleClass","removeStyleClass","_this2","setBusy","_temp3","_refreshAllPanels","message","show","_temp2","vizId","getVizId","_temp","appManagerInstance","addVisualization","error","_wasThrown","_result","event","selectedApp","getSource","bIsSelected","splice","findIndex","oApp","getUrl","toggleStyleClass","selectedAppsTitle","selectedAppsCount","setText","_generateWrapper","wrapperId","_generateMessageStrip","BaseAppPersPanel.prototype._generateWrapper.call","backgroundDesign","Transparent","loadApps","_loadApps","_this3","getDeviceType","Mobile","getRecommendedVisualizations","recommendedVisualizations","visualization","index","menuItems","_getActions","generateApps","fetchTileVisualization","prepareAppsBeforeLoad","setApps","setVisible","messageStripId","showIcon","showCloseButton","link","_getLayout","openSettingsDialog","ADVANCED","addToFavoritesItem","getKey","_addAppToFavorites","notRelevantItem","_rejectRecommendation","actions","_this4","_temp5","source","getTitle","find","viz","url","fioriId","_temp4","rejectPayload","AppId","Decision","Post","refresh","_wasThrown2","_result2","_isRecommendationEnabled","_this5","getPersonalization","personalisation","_enableRecommendationTab","_this6","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setIllustrationSize","ExtraSmall","setIllustrationType","NoData","setTitle","setDescription","addAdditionalContent","tooltip"],"sources":["RecommendedAppPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport { BackgroundDesign } from \"sap/m/library\";\nimport Link from \"sap/m/Link\";\nimport MessageStrip from \"sap/m/MessageStrip\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport BaseContainer from \"./BaseContainer\";\nimport type { $BasePanelSettings } from \"./BasePanel\";\nimport MenuItem, { MenuItem$PressEvent } from \"./MenuItem\";\nimport { REPO_BASE_URL, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { DeviceType } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\nconst CONSTANTS = {\n\tUSER_PREFERENCE_SRVC_URL: `${REPO_BASE_URL}UserPreference`,\n\tKEY: \"recommendedApps\"\n};\n\n/**\n *\n * Provides the RecommendedAppPanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.128.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.RecommendedAppPanel\n */\nexport default class RecommendedAppPanel extends BaseAppPersPanel {\n\tprivate _selectedApps: App[] = [];\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Recommended apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\t/**\n\t * Constructor for a new Recommended Apps Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.setSupported(false);\n\t}\n\n\tpublic init() {\n\t\tsuper.init();\n\t\tthis.setProperty(\"key\", CONSTANTS.KEY);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"recommendedAppsTab\"));\n\t\tthis.setProperty(\"tooltip\", this._i18nBundle.getText(\"recommendedAppsTab\"));\n\t\t//subscribe to recommendation setting change event\n\t\tconst eventBus = EventBus.getInstance();\n\t\teventBus.subscribe(\"importChannel\", \"recommendationSettingChanged\", (channelId?: string, eventId?: string, data?: object) => {\n\t\t\tconst showRecommendation = (data as { showRecommendation: boolean }).showRecommendation;\n\t\t\tthis.fireSupported({ isSupported: showRecommendation });\n\t\t});\n\t\tthis._createAddToFavouritesMenuItem();\n\t}\n\n\t/**\n\t * Creates and inserts the \"Add to Favourites\" menu item.\n\t * @private\n\t */\n\tprivate _createAddToFavouritesMenuItem(): void {\n\t\tconst addToFavouritesMenuItem = new MenuItem(`${this.getId()}-addtofavouritesmenuitem`, {\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavoritesRecommended\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: this._openAddRecommendedDialog.bind(this),\n\t\t\tvisible: false\n\t\t});\n\t\taddFESRId(addToFavouritesMenuItem, \"addToFavouritesMenuItem\");\n\t\tthis.insertAggregation(\"menuItems\", addToFavouritesMenuItem, 0);\n\t}\n\n\t/**\n\t * Opens the dialog for adding recommended apps.\n\t * @private\n\t */\n\tprivate _openAddRecommendedDialog(): void {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst dialog = this._generateAddRecommendedDialog(dialogId);\n\t\tdialog.open();\n\t}\n\n\t/**\n\t * Creates and returns the dialog for adding recommended apps.\n\t * @private\n\t * @param {string} dialogId - The unique ID for the dialog.\n\t * @returns {sap.m.Dialog} - The generated dialog control.\n\t */\n\tprivate _generateAddRecommendedDialog(dialogId: string): Dialog {\n\t\tif (!this._controlMap.get(dialogId)) {\n\t\t\tthis._createAddRecommendedDialogControls(dialogId);\n\t\t}\n\t\tconst appsWrapper = this._generateAppsScrollContainer()?.getContent()?.[0] as GridContainer;\n\t\tappsWrapper.destroyAggregation(\"items\");\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tconst tiles = this._selectedApps.map((app) => this._createAppTile(app));\n\t\tthis._setAggregation(appsWrapper, tiles);\n\t\tthis._updateSelectedAppCount();\n\t\tconst dialog = this._controlMap.get(dialogId) as Dialog;\n\t\treturn dialog;\n\t}\n\n\t/**\n\t * Creates the controls for the dialog, including the title, subtitle, and buttons.\n\t * @private\n\t * @param {string} dialogId - The unique ID for the dialog.\n\t */\n\tprivate _createAddRecommendedDialogControls(dialogId: string): void {\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-mainTitle`,\n\t\t\tnew Title({\n\t\t\t\tid: `${dialogId}-mainTitle`,\n\t\t\t\ttext: this._i18nBundle.getText(\"addToFavoritesRecommended\")\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-headerContainer-count`,\n\t\t\tnew Text({\n\t\t\t\tid: `${dialogId}-headerContainer-count`\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-selectedAppsTitle`,\n\t\t\tnew Title({\n\t\t\t\tid: `${dialogId}-selectedAppsTitle`,\n\t\t\t\ttext: `${this._i18nBundle.getText(\"recommendedAppsTab\")} (0 ${this._i18nBundle.getText(\"selected\")})`,\n\t\t\t\tlevel: \"H3\"\n\t\t\t})\n\t\t);\n\t\tthis._controlMap.set(\n\t\t\t`${dialogId}-subtitleText`,\n\t\t\tnew Text({\n\t\t\t\tid: `${dialogId}-subtitleText`,\n\t\t\t\ttext: this._i18nBundle.getText(\"selectAtLeastOneApp\")\n\t\t\t})\n\t\t);\n\t\tconst addButton = new Button({\n\t\t\tid: `${dialogId}-addBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"addButton\"),\n\t\t\ttype: \"Emphasized\",\n\t\t\tpress: async () => {\n\t\t\t\tawait this._addSelectedApps();\n\t\t\t\tthis._closeAddRecommendedDialog(dialogId);\n\t\t\t},\n\t\t\tenabled: this._selectedApps.length > 0\n\t\t});\n\t\tconst cancelButton = new Button({\n\t\t\tid: `${dialogId}-cancelBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\tpress: () => this._closeAddRecommendedDialog(dialogId)\n\t\t});\n\t\tconst mainTitleText = (this._controlMap.get(`${dialogId}-mainTitle`) as Title).getText();\n\t\tthis._controlMap.set(\n\t\t\tdialogId,\n\t\t\tnew Dialog(dialogId, {\n\t\t\t\ttitle: mainTitleText,\n\t\t\t\tcontent: [\n\t\t\t\t\tnew VBox({\n\t\t\t\t\t\tid: `${dialogId}-headerContainer`,\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tthis._controlMap.get(`${dialogId}-selectedAppsTitle`) as Title,\n\t\t\t\t\t\t\tthis._controlMap.get(`${dialogId}-subtitleText`) as Text\n\t\t\t\t\t\t],\n\t\t\t\t\t\tjustifyContent: \"Start\",\n\t\t\t\t\t\talignItems: \"Start\"\n\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\"),\n\t\t\t\t\tthis._generateAppsScrollContainer()\n\t\t\t\t],\n\t\t\t\tcontentHeight: \"25rem\",\n\t\t\t\tcontentWidth: \"41.75rem\",\n\t\t\t\tbuttons: [addButton, cancelButton],\n\t\t\t\tescapeHandler: () => this._closeAddRecommendedDialog(dialogId)\n\t\t\t}).addStyleClass(\"sapCuxRecommendedAppsDialog sapContrastPlus\")\n\t\t);\n\t}\n\n\t/**\n\t * Creates and returns an app tile for the given app.\n\t * @private\n\t * @param {App} app - The app to create a tile for.\n\t * @returns {sap.m.GenericTile} - The created app tile.\n\t */\n\tprivate _createAppTile(app: App): GenericTile {\n\t\tconst appCopy = app.clone();\n\t\tconst appTile = (this.getParent() as AppsContainer)._getAppTile(appCopy);\n\t\tappTile.addStyleClass(\"sapCuxHighlightApp\");\n\t\tappCopy._onPress = (e) => this._highlightApp(e, appCopy);\n\t\treturn appTile;\n\t}\n\n\t/**\n\t * Generates and returns the scroll container for the dialog's apps list.\n\t * @private\n\t * @returns {sap.m.ScrollContainer} - The scroll container for the apps.\n\t */\n\tprivate _generateAppsScrollContainer(): ScrollContainer {\n\t\tconst id = `${this.getId()}-addRecommendedDialog-appsPage-scrollContainer`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-apps`,\n\t\t\t\tnew GridContainer({\n\t\t\t\t\tid: `${id}-apps`,\n\t\t\t\t\tlayout: new GridContainerSettings(`${id}-apps-containerSettings`, {\n\t\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxAppsGridContainerPadding\")\n\t\t\t);\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew ScrollContainer(id, {\n\t\t\t\t\tid,\n\t\t\t\t\tvertical: true,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\theight: \"20rem\",\n\t\t\t\t\tcontent: [this._controlMap.get(`${id}-apps`) as GridContainer]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMarginBeginEnd sapUiTinyMarginTop\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as ScrollContainer;\n\t}\n\n\t/**\n\t * Updates the state of the \"Add\" button in the dialog based on the selected apps.\n\t * @private\n\t */\n\tprivate _updateAddButtonState() {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst addButton = Element.getElementById(`${dialogId}-addBtn`) as Button;\n\t\tif (addButton) {\n\t\t\taddButton.setEnabled(this._selectedApps.length > 0);\n\t\t}\n\t}\n\n\t/**\n\t * Closes the dialog and resets the selected apps state.\n\t * @private\n\t * @param {string} dialogId - The unique ID of the dialog to close.\n\t */\n\tprivate _closeAddRecommendedDialog(dialogId: string): void {\n\t\tthis.toggleAppTileHighlight(true);\n\t\tconst dialog = this._controlMap.get(dialogId) as Dialog;\n\t\tif (dialog) {\n\t\t\tdialog.close();\n\t\t}\n\t\tthis._resetAddRecommendedDialog();\n\t}\n\n\t/**\n\t * Toggles the highlight style for app tiles based on the selection state.\n\t * @private\n\t * @param {boolean} isAppSelected - Flag indicating whether to add or remove the style class.\n\t */\n\tprivate toggleAppTileHighlight(isAppSelected: boolean): void {\n\t\tconst appsScrollContainer = this._generateAppsScrollContainer();\n\t\tconst appsWrapper = appsScrollContainer.getContent()[0] as GridContainer;\n\t\tif (appsWrapper) {\n\t\t\tappsWrapper.getItems().forEach((oTile) => {\n\t\t\t\tif (oTile) {\n\t\t\t\t\tif (isAppSelected) {\n\t\t\t\t\t\toTile.addStyleClass(\"sapCuxHighlightApp\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (oTile.hasStyleClass(\"sapCuxHighlightApp\")) {\n\t\t\t\t\t\t\toTile.removeStyleClass(\"sapCuxHighlightApp\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Resets the selected apps and updates the UI.\n\t * @private\n\t */\n\tprivate _resetAddRecommendedDialog(): void {\n\t\tthis._selectedApps = [...this.getApps()];\n\t\tthis._updateSelectedAppCount();\n\t\tthis._updateAddButtonState();\n\t}\n\n\t/**\n\t * Adds the selected apps to the user's favorites.\n\t * @private\n\t * @returns {Promise<void>} - A promise that resolves when the apps have been added.\n\t */\n\tprivate async _addSelectedApps(): Promise<void> {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tfor (const app of this._selectedApps) {\n\t\t\t\tconst vizId = app.getVizId?.();\n\t\t\t\tif (vizId) {\n\t\t\t\t\tawait this.appManagerInstance.addVisualization(vizId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait (this.getParent?.() as AppsContainer)._refreshAllPanels();\n\t\t\tconst message = this._i18nBundle.getText(\"moveRecommendedMessage\") as string;\n\t\t\tMessageToast.show(message);\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t\tthis._selectedApps = [];\n\t\t\tthis._closeAddRecommendedDialog(`${this.getId()}-addRecommendedDialog-appsPage`);\n\t\t}\n\t}\n\n\t/**\n\t * Highlights or un-highlights the selected app based on the user's action.\n\t * @private\n\t * @param {Event} event - The event triggered by the user's action.\n\t * @param {App} selectedApp - The selected app to highlight or un-highlight.\n\t */\n\tprivate _highlightApp(event: Event, selectedApp: App): void {\n\t\tconst oTile = event.getSource<GenericTile>();\n\t\tconst bIsSelected = !oTile.hasStyleClass(\"sapCuxHighlightApp\");\n\t\tthis._selectedApps = this._selectedApps || [];\n\t\tif (bIsSelected) {\n\t\t\tthis._selectedApps.push(selectedApp);\n\t\t} else {\n\t\t\tthis._selectedApps.splice(\n\t\t\t\tthis._selectedApps.findIndex((oApp) => selectedApp.getUrl() === oApp.getUrl()),\n\t\t\t\t1\n\t\t\t);\n\t\t}\n\t\toTile.toggleStyleClass(\"sapCuxHighlightApp\", bIsSelected);\n\t\tthis._updateSelectedAppCount();\n\t\tthis._updateAddButtonState();\n\t}\n\n\t/**\n\t * Updates the count of selected apps displayed in the dialog.\n\t * @private\n\t */\n\tprivate _updateSelectedAppCount(): void {\n\t\tconst dialogId = `${this.getId()}-addRecommendedDialog-appsPage`;\n\t\tconst selectedAppsTitle = this._controlMap.get(`${dialogId}-selectedAppsTitle`) as Title;\n\t\tconst selectedAppsCount = this._selectedApps.length;\n\t\tselectedAppsTitle.setText(\n\t\t\t`${this._i18nBundle.getText(\"recommendedAppsTab\")} (${selectedAppsCount} ${this._i18nBundle.getText(\"selected\")})`\n\t\t);\n\t}\n\n\t/**\n\t * Overrides the wrapper for the apps panel to add message strip.\n\t *\n\t * @private\n\t * @returns {sap.m.VBox} The apps panel wrapper.\n\t */\n\tprotected _generateWrapper() {\n\t\tconst wrapperId = `${this.getId()}-recommendedPanelWrapper`;\n\t\tif (!this._controlMap.get(wrapperId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\twrapperId,\n\t\t\t\tnew VBox(wrapperId, {\n\t\t\t\t\titems: [this._generateMessageStrip(), super._generateWrapper()],\n\t\t\t\t\tbackgroundDesign: BackgroundDesign.Transparent\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(wrapperId) as VBox;\n\t}\n\n\t/**\n\t * Fetch recommended apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tif (this.getDeviceType() === DeviceType.Mobile) {\n\t\t\treturn; // Do not load recommended apps on mobile devices\n\t\t}\n\t\tlet recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations(true);\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\trecommendedVisualizations = recommendedVisualizations.map((visualization, index) => {\n\t\t\treturn {\n\t\t\t\t...visualization,\n\t\t\t\tmenuItems: this._getActions(index)\n\t\t\t};\n\t\t});\n\t\t//convert apps objects array to apps instances\n\t\tconst apps = this.generateApps(recommendedVisualizations);\n\t\tlet tiles: GenericTile[] = [];\n\t\ttiles = this.fetchTileVisualization(tiles);\n\t\t// calling prepareAppsBeforeLoad fn to filter out the recommended apps from deprecated ones.\n\t\tawait this.prepareAppsBeforeLoad(apps, tiles);\n\t\tthis.setApps(apps);\n\t\tconst addToFavouritesMenuItem = Element.getElementById(`${this.getId()}-addtofavouritesmenuitem`) as MenuItem;\n\t\tif (addToFavouritesMenuItem) {\n\t\t\taddToFavouritesMenuItem.setVisible(apps.length > 0);\n\t\t}\n\t}\n\n\t/**\n\t * Returns message strip for recommended tab\n\t * @private\n\t * @returns {sap.cux.home.MessageStrip} - Message strip control.\n\t */\n\tprivate _generateMessageStrip() {\n\t\tconst messageStripId = `${this.getId()}-messageStrip`;\n\t\tif (!this._controlMap.get(messageStripId)) {\n\t\t\tthis._controlMap.set(\n\t\t\t\tmessageStripId,\n\t\t\t\tnew MessageStrip(messageStripId, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"recommendationMessageStrip\"),\n\t\t\t\t\tshowIcon: true,\n\t\t\t\t\tshowCloseButton: true,\n\t\t\t\t\tlink: new Link(`${messageStripId}-settings`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED)\n\t\t\t\t\t}).addStyleClass(\"sapUiNoMargin\")\n\t\t\t\t}).addStyleClass(\"sapUiNoMarginBegin sapUiTinyMarginBottom\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(messageStripId) as MessageStrip;\n\t}\n\n\t/**\n\t * Returns list of actions available for selected app\n\t * @private\n\t * @returns {sap.cux.home.MenuItem[]} - Array of list items.\n\t */\n\tprivate _getActions(index?: number): MenuItem[] {\n\t\tconst addToFavoritesItem = new MenuItem(`${this.getKey()}--addToFavoritesItem--${index}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"addToFavorites\"),\n\t\t\ticon: \"sap-icon://add-favorite\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._addAppToFavorites(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(addToFavoritesItem, \"acceptRecommendation\");\n\t\tconst notRelevantItem = new MenuItem(`${this.getKey()}--notRelevantItem--${index}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"notRelevantRecommendation\"),\n\t\t\ticon: \"sap-icon://decline\",\n\t\t\tpress: (event) => {\n\t\t\t\tvoid this._rejectRecommendation(event);\n\t\t\t}\n\t\t});\n\t\taddFESRId(notRelevantItem, \"rejectRecommendation\");\n\t\tconst actions = [addToFavoritesItem, notRelevantItem];\n\t\treturn actions;\n\t}\n\n\t/**\n\t * Rejects the selected app as recommendation\n\t * @private\n\t * @param {sap.ui.base.MenuItem$PressEvent} event - Event object.\n\t */\n\tprivate async _rejectRecommendation(event: MenuItem$PressEvent) {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst source = event.getSource<MenuItem>();\n\t\t\tconst app = source.getParent() as App;\n\t\t\tconst title = app.getTitle();\n\t\t\tconst recommendedVisualizations = await this.appManagerInstance.getRecommendedVisualizations();\n\t\t\tconst visualization = recommendedVisualizations.find((viz) => viz.url === app.getUrl());\n\t\t\tconst fioriId = visualization?.fioriId;\n\t\t\tif (fioriId) {\n\t\t\t\tconst rejectPayload = {\n\t\t\t\t\tAppId: fioriId,\n\t\t\t\t\tDecision: 1\n\t\t\t\t};\n\t\t\t\tawait HttpHelper.Post(CONSTANTS.USER_PREFERENCE_SRVC_URL, rejectPayload);\n\t\t\t\tawait this.refresh();\n\t\t\t\tconst message = this._i18nBundle.getText(\"rejectRecommendationMsg\", [title]) as string;\n\t\t\t\tMessageToast.show(message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if recommendation is enabled based on recommendation feature toggle and user personalization.\n\t * @private\n\t * @returns {Boolean} - Returns true if recommendation is enabled otherwise false.\n\t */\n\tprivate async _isRecommendationEnabled() {\n\t\tconst personalisation = await this.getPersonalization();\n\t\treturn personalisation?.showRecommendation ?? true;\n\t}\n\n\t/**\n\t * Show recommendation tab if recommendation is enabled\n\t * @private\n\t */\n\tpublic async _enableRecommendationTab() {\n\t\tconst isSupported = await this._isRecommendationEnabled();\n\t\tthis.setSupported(isSupported);\n\t\tthis.fireSupported({ isSupported });\n\t}\n\n\t/**\n\t * Generates illustrated message for recommended apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default illustrated message, title, description and add additional content\n\t\tillustratedMessage.setIllustrationSize(IllustratedMessageSize.ExtraSmall);\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.NoData);\n\t\tillustratedMessage.setTitle(this._i18nBundle.getText(\"noRecommendationsTitle\"));\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noRecommendationsDescription\"));\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button({\n\t\t\t\ttext: this._i18nBundle.getText(\"settings\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"settings\"),\n\t\t\t\tpress: () => (this.getParent() as BaseContainer)?._getLayout()?.openSettingsDialog(SETTINGS_PANELS_KEYS.ADVANCED),\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\tillustratedMessage.addStyleClass(\"sapUiTinyMarginTop\");\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":236,"column":0},"map":{"version":3,"names":["sap","ui","define","Bar","Button","sap_m_library","List","Page","SplitApp","StandardListItem","Title","Element","Device","__BaseSettingsDialog","___utils_Device","_interopRequireDefault","obj","__esModule","default","SplitAppMode","BaseSettingsDialog","calculateDeviceType","DeviceType","SettingsDialog","extend","renderer","apiVersion","init","_init","BaseSettingsDialog.prototype.init.call","this","_controlMap","Map","setContentWidth","setStretch","setCustomHeader","_setCustomHeader","addButton","getId","text","_i18nBundle","getText","type","press","close","addContent","title","showHeader","content","_getPageContent","_attachResizeHandler","resize","attachHandler","deviceType","_splitApp","setMode","Desktop","LargeDesktop","XLargeDesktop","_showHamburger","undefined","isMasterShown","_updateHeaderButtonVisibility","_menuBtn","icon","tooltip","_toggleMasterPage","visible","contentLeft","contentMiddle","level","_deviceType","Mobile","toMaster","_masterPage","showMaster","hideMaster","setVisible","Tablet","orientation","portrait","tooltipText","setTooltip","visibility","_menuList","mode","itemPress","event","_navigateToDetailPage","addStyleClass","masterPages","masterButton","_hideNavigationButton","context","listItem","getParameter","firstPanel","getPanels","selectedKey","data","getProperty","setProperty","detailPage","getElementById","toDetail","getMode","ShowHideMode","selectedPanel","find","panel","firePanelNavigated","removeSelections","pageItem","setTimeout","setSelectedItem","focus","navigationButton","getSource","destroy","onBeforeRendering","_onBeforeRendering","BaseSettingsDialog.prototype.onBeforeRendering.call","forEach","_getPageListItem","then","item","addItem","addDetailPage","_getDetailPage","settingsPanel","_this","id","get","iconDensityAware","set","_listItem","_setVisible","Promise","resolve","isSupported","_settingsPanel$isSupp","call","e","reject","page","backgroundDesign","getActionButtons","actionButton","addHeaderContent","getAggregation"],"sources":["SettingsDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Event as JQueryEvent } from \"jquery\";\nimport Bar from \"sap/m/Bar\";\nimport Button from \"sap/m/Button\";\nimport { SplitAppMode } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport SplitApp from \"sap/m/SplitApp\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Title from \"sap/m/Title\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport Device from \"sap/ui/Device\";\nimport BaseSettingsDialog from \"./BaseSettingsDialog\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { calculateDeviceType, DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Dialog class for My Home Settings.\n *\n * @extends BaseSettingsDialog\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.SettingsDialog\n */\nexport default class SettingsDialog extends BaseSettingsDialog {\n\tprivate _controlMap!: Map<string, Control | Element>;\n\tprivate _menuBtn!: Button;\n\tprivate _menuList!: List;\n\tprivate _masterPage!: Page;\n\tprivate _splitApp!: SplitApp;\n\tprivate _deviceType!: DeviceType;\n\tprivate _showHamburger!: boolean | undefined;\n\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\n\t\t//setup dialog\n\t\tthis.setContentWidth(\"72rem\");\n\t\tthis.setStretch(false);\n\t\tthis.setCustomHeader(this._setCustomHeader());\n\n\t\t//setup dialog buttons\n\t\tthis.addButton(\n\t\t\tnew Button(`${this.getId()}-close-btn`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\ttype: \"Transparent\",\n\t\t\t\tpress: () => this.close()\n\t\t\t})\n\t\t);\n\n\t\t//setup dialog content\n\t\tthis.addContent(\n\t\t\tnew Page(`${this.getId()}-settingsPage`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\t\tshowHeader: false,\n\t\t\t\tcontent: this._getPageContent()\n\t\t\t})\n\t\t);\n\t\tthis._attachResizeHandler();\n\t}\n\t/**\n\t * Attaches a resize event handler to dynamically adjust the split app mode and\n\t * header button visibility based on the current device type.\n\t *\n\t * @returns {void}\n\t */\n\n\tprivate _attachResizeHandler(): void {\n\t\tDevice.resize.attachHandler(() => {\n\t\t\tconst deviceType = calculateDeviceType();\n\t\t\tthis._splitApp.setMode(\n\t\t\t\tdeviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop\n\t\t\t\t\t? \"ShowHideMode\"\n\t\t\t\t\t: \"HideMode\"\n\t\t\t);\n\t\t\tthis._showHamburger = undefined;\n\t\t\tconst isMasterShown = this._splitApp.isMasterShown();\n\t\t\tthis._updateHeaderButtonVisibility(isMasterShown);\n\t\t});\n\t}\n\t/**\n\t * Creates and sets a custom header for the SettingsDialog.\n\t *\n\t * @private\n\t * @returns {Bar} The custom header bar for the SettingsDialog.\n\t */\n\tprivate _setCustomHeader(): Bar {\n\t\tthis._menuBtn = new Button(`${this.getId()}-menu-btn`, {\n\t\t\ticon: \"sap-icon://menu2\",\n\t\t\ttooltip: this._i18nBundle.getText(\"showMenu\"),\n\t\t\tpress: () => this._toggleMasterPage(),\n\t\t\tvisible: false\n\t\t});\n\t\treturn new Bar(`${this.getId()}-header`, {\n\t\t\tcontentLeft: [this._menuBtn],\n\t\t\tcontentMiddle: [\n\t\t\t\tnew Title(`${this.getId()}-dialog-title`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\t\t\tlevel: \"H1\"\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Toggles the visibility of the master page in the SettingsDialog based on the current device width.\n\t * If the device width is less than 600 pixels or equal to or greater than 1024 pixels, the master\n\t * page is always shown. Otherwise, it toggles the visibility of the master page.\n\t *\n\t * @private\n\t */\n\tprivate _toggleMasterPage(): void {\n\t\tconst isMasterShown = this._splitApp.isMasterShown();\n\t\tconst deviceType = this._deviceType || calculateDeviceType();\n\t\tif (deviceType === DeviceType.Mobile) {\n\t\t\tthis._splitApp.toMaster(this._masterPage.getId(), \"slide\");\n\t\t\tthis._splitApp.showMaster();\n\t\t} else {\n\t\t\tif (isMasterShown) {\n\t\t\t\tthis._splitApp.hideMaster();\n\t\t\t\tthis._showHamburger = true;\n\t\t\t} else {\n\t\t\t\tthis._splitApp.showMaster();\n\t\t\t\tthis._showHamburger = false;\n\t\t\t}\n\t\t}\n\t\tthis._updateHeaderButtonVisibility(!isMasterShown);\n\t}\n\n\t/**\n\t * Update header button\n\t *\n\t * @param {boolean} isMasterShown If master page is shown\n\t * @private\n\t */\n\tprivate _updateHeaderButtonVisibility(isMasterShown: boolean): void {\n\t\tconst deviceType = this._deviceType || calculateDeviceType();\n\t\tif (deviceType === DeviceType.Mobile) {\n\t\t\t// Hide or show the menu button on mobile\n\t\t\tthis._menuBtn.setVisible(!isMasterShown);\n\t\t} else if (deviceType === DeviceType.Tablet) {\n\t\t\tif (Device.orientation?.portrait) {\n\t\t\t\t// Show menu button in portrait mode with a tooltip\n\t\t\t\tconst tooltipText = this._i18nBundle.getText(isMasterShown ? \"ToggleButtonHide\" : \"ToggleButtonShow\");\n\t\t\t\tif (tooltipText) {\n\t\t\t\t\t// Only set the tooltip if a valid string is available\n\t\t\t\t\tthis._menuBtn.setTooltip(tooltipText);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._menuBtn.setVisible(true);\n\t\t} else {\n\t\t\tlet visibility = true;\n\t\t\tif (this._showHamburger === undefined) {\n\t\t\t\tif (this._splitApp.isMasterShown()) {\n\t\t\t\t\tvisibility = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._menuBtn.setVisible(visibility);\n\t\t}\n\t}\n\n\t/**\n\t * Generates the content for the SettingsDialog, including the master page and split app.\n\t *\n\t * @private\n\t * @returns {SplitApp} The split app containing the master page and detail pages for the SettingsDialog.\n\t */\n\tprivate _getPageContent(): SplitApp {\n\t\tthis._menuList = new List(`${this.getId()}-master-pages-list`, {\n\t\t\tmode: \"SingleSelectMaster\",\n\t\t\titemPress: (event: Event) => this._navigateToDetailPage(event)\n\t\t}).addStyleClass(\"sapCuxMasterPageList\");\n\t\tthis._masterPage = new Page(`${this.getId()}-master-page`, {\n\t\t\ttitle: this._i18nBundle.getText(\"myHomeSettings\"),\n\t\t\tshowHeader: false,\n\t\t\tcontent: [this._menuList]\n\t\t});\n\t\tthis._splitApp = new SplitApp(`${this.getId()}-settingsApp`, {\n\t\t\tmode: \"ShowHideMode\",\n\t\t\tmasterPages: [this._masterPage],\n\t\t\tmasterButton: (event: Event) => this._hideNavigationButton(event)\n\t\t});\n\n\t\treturn this._splitApp;\n\t}\n\n\t/**\n\t * Navigates to the detail page associated with the selected item in the master page list.\n\t *\n\t * @private\n\t * @param {Event} event The item press event from the master page list.\n\t */\n\tprivate _navigateToDetailPage(event: Event<{ listItem?: StandardListItem }> | string, context?: object): void {\n\t\t//update selected key\n\t\tconst listItem = typeof event === \"string\" ? event : event.getParameter?.(\"listItem\");\n\t\tconst firstPanel = this.getPanels()[0];\n\t\tconst selectedKey = ((listItem as StandardListItem)?.data?.(\"key\") || event || firstPanel?.getProperty(\"key\")) as string;\n\t\tthis.setProperty(\"selectedKey\", selectedKey, true);\n\n\t\t//navigate to detail page\n\t\tconst detailPage = Element.getElementById(`${selectedKey}-detail-page`) as Page;\n\t\tthis._splitApp.toDetail(detailPage.getId(), \"slide\");\n\t\tthis._splitApp.hideMaster();\n\t\tif (this._splitApp.getMode() === SplitAppMode.ShowHideMode) {\n\t\t\tthis._updateHeaderButtonVisibility(false);\n\t\t}\n\n\t\t//fire panel navigated event\n\t\tconst selectedPanel = this.getPanels().find(\n\t\t\t(panel: BaseSettingsPanel) => panel.getProperty(\"key\") === selectedKey\n\t\t) as BaseSettingsPanel;\n\t\tselectedPanel?.firePanelNavigated({ context });\n\n\t\t//select list item\n\t\tthis._menuList.removeSelections(true);\n\t\tconst pageItem = Element.getElementById(`${selectedKey}-page-item`) as StandardListItem;\n\t\tsetTimeout(() => {\n\t\t\tthis._menuList.setSelectedItem(pageItem);\n\t\t\tpageItem.focus();\n\t\t}, 0);\n\t}\n\n\t/**\n\t * Hides the navigation button associated with the provided event.\n\t *\n\t * @private\n\t * @param {Event} event The event triggering the hide action.\n\t */\n\tprivate _hideNavigationButton(event: Event): void {\n\t\tconst navigationButton = Element.getElementById(`${event.getSource<SplitApp>().getId()}-MasterBtn`) as Button;\n\t\tnavigationButton?.destroy();\n\t}\n\n\t/**\n\t * onBeforeRendering lifecycle method.\n\t * Prepares the SettingsDialog content and navigate to the selected detail page.\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic onBeforeRendering(event: JQueryEvent): void {\n\t\tsuper.onBeforeRendering(event);\n\n\t\t//setup master and detail page content\n\t\tthis.getPanels().forEach((panel: BaseSettingsPanel) => {\n\t\t\tvoid this._getPageListItem(panel).then((item) => this._menuList.addItem(item));\n\t\t\tthis._splitApp.addDetailPage(this._getDetailPage(panel));\n\t\t});\n\n\t\t//navigate to detail page\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tconst context = this.getProperty(\"context\") as object;\n\t\tthis._navigateToDetailPage(selectedKey, context);\n\t}\n\n\t/**\n\t * Generates a list item for the master page list based on the settings panel.\n\t * The list item displays the title and icon of the settings panel.\n\t *\n\t * @private\n\t * @param {BaseSettingsPanel} settingsPanel The settings panel for which to generate the list item.\n\t * @returns {StandardListItem} The list item control representing the settings panel in the master page list.\n\t */\n\tprivate async _getPageListItem(settingsPanel: BaseSettingsPanel): Promise<StandardListItem> {\n\t\tconst id = `${settingsPanel.getProperty(\"key\")}-page-item`;\n\t\tlet listItem = this._controlMap.get(id) as StandardListItem;\n\n\t\tif (!listItem) {\n\t\t\tlistItem = new StandardListItem(id, {\n\t\t\t\ttitle: settingsPanel.getProperty(\"title\") as string,\n\t\t\t\ticon: settingsPanel.getProperty(\"icon\") as string,\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\ticonDensityAware: false\n\t\t\t});\n\t\t\tlistItem.data(\"key\", settingsPanel.getProperty(\"key\"));\n\t\t\tthis._controlMap.set(id, listItem);\n\t\t}\n\n\t\tlistItem.setVisible(await settingsPanel.isSupported());\n\t\treturn listItem;\n\t}\n\n\t/**\n\t * Generates a detail page for the SettingsDialog based on the provided settings panel.\n\t *\n\t * @private\n\t * @param {BaseSettingsPanel} settingsPanel The settings panel for which to generate the detail page.\n\t * @returns {Page} The detail page control representing the settings panel.\n\t */\n\tprivate _getDetailPage(settingsPanel: BaseSettingsPanel): Page {\n\t\tconst id = `${settingsPanel.getProperty(\"key\")}-detail-page`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst page = new Page(id, {\n\t\t\t\ttitle: settingsPanel.getProperty(\"title\") as string,\n\t\t\t\tbackgroundDesign: \"List\",\n\t\t\t\tshowHeader: settingsPanel.getProperty(\"showHeader\") as boolean\n\t\t\t});\n\n\t\t\t//add settings panel action buttons\n\t\t\tsettingsPanel.getActionButtons().forEach((actionButton) => {\n\t\t\t\tpage.addHeaderContent(actionButton);\n\t\t\t});\n\n\t\t\tthis._controlMap.set(id, page);\n\t\t}\n\n\t\t//add settings panel content\n\t\t(settingsPanel.getAggregation(\"content\") as Control[]).forEach((content) => (this._controlMap.get(id) as Page).addContent(content));\n\n\t\treturn this._controlMap.get(id) as Page;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":241,"column":0},"map":{"version":3,"names":["sap","ui","define","IconTabFilter","UI5Element","SideBySideIconTabFilter","extend","metadata","library","associations","panel","type","multiple","singularName","renderer","constructor","_constructor","id","settings","IconTabFilter.prototype.constructor.call","this","setPanel","_setPanel","setProperty","getProperty","setTooltip","setAssociation","getContent","_getContent","getElementById","getPanel","addContent","_addContent","content"],"sources":["SideBySideIconTabFilter.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport IconTabFilter from \"sap/m/IconTabFilter\";\nimport { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport BasePanel from \"./BasePanel\";\nimport { $SideBySideIconTabFilterSettings } from \"./SideBySideIconTabFilter\";\n\n/**\n *\n * Custom IconTabFilter for SideBySide orientation in the BaseContainer.\n *\n * @extends sap.m.IconTabFilter\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.139.0\n *\n * @private\n *\n * @alias sap.cux.home.SideBySideIconTabFilter\n */\nexport default class SideBySideIconTabFilter extends IconTabFilter {\n\tconstructor(id?: string | $SideBySideIconTabFilterSettings);\n\tconstructor(id?: string, settings?: $SideBySideIconTabFilterSettings);\n\t/**\n\t * Constructor for a new SideBySideIconTabFilter.\n\t *\n\t * @param {string} [id] ID for the new element, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $SideBySideIconTabFilterSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly renderer = \"sap.m.IconTabFilterRenderer\";\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tassociations: {\n\t\t\tpanel: { type: \"sap.cux.home.BasePanel\", multiple: false, singularName: \"panel\" }\n\t\t}\n\t};\n\n\t/**\n\t * Sets the associated panel for this tab filter and updates the key and text properties\n\t * based on the panel's key and title.\n\t *\n\t * @param {BasePanel} panel - The panel to associate with this tab filter.\n\t * @returns {this} This to allow method chaining.\n\t */\n\tpublic setPanel(panel: BasePanel): this {\n\t\tthis.setProperty(\"key\", panel.getProperty(\"key\"), true);\n\t\tthis.setProperty(\"text\", panel.getProperty(\"title\"), true);\n\t\tthis.setTooltip(panel.getProperty(\"tooltip\") as string);\n\t\tthis.setAssociation(\"panel\", panel);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the content controls from the associated panel.\n\t *\n\t * @public\n\t * @override\n\t * @returns {Control[]} An array of controls contained in the associated panel, or an empty array if no panel is associated.\n\t */\n\tpublic getContent(): Control[] {\n\t\tconst panel = UI5Element.getElementById(this.getPanel()) as BasePanel;\n\t\treturn panel?.getContent() || [];\n\t}\n\n\t/**\n\t * Adds a control to the content aggregation of the associated panel.\n\t *\n\t * @public\n\t * @override\n\t * @param {Control} content - The control to add to the panel's content.\n\t * @returns {this} The instance of SideBySideIconTabFilter, to allow method chaining.\n\t */\n\tpublic addContent(content: Control): this {\n\t\tconst panel = UI5Element.getElementById(this.getPanel()) as BasePanel;\n\t\tpanel?.addContent(content);\n\t\treturn this;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,kDAAA,uDAAAC,EAAAC,GAAA,aAYA,MAcqBC,EAAgCF,EAAaG,OAAA,wCAcjDC,SAA4B,CAC3CC,QAAS,eACTC,aAAc,CACbC,MAAO,CAAEC,KAAM,yBAA0BC,SAAU,MAAOC,aAAc,WAJ1DC,SAAW,8BAJpBC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAiBOG,SAAQ,SAAAC,EAACZ,GACfU,KAAKG,YAAY,MAAOb,EAAMc,YAAY,OAAQ,MAClDJ,KAAKG,YAAY,OAAQb,EAAMc,YAAY,SAAU,MACrDJ,KAAKK,WAAWf,EAAMc,YAAY,YAClCJ,KAAKM,eAAe,QAAShB,GAC7B,OAAOU,IACR,EASOO,WAAU,SAAAC,IAChB,MAAMlB,EAAQN,EAAWyB,eAAeT,KAAKU,YAC7C,OAAOpB,GAAOiB,cAAgB,EAC/B,EAUOI,WAAU,SAAAC,EAACC,GACjB,MAAMvB,EAAQN,EAAWyB,eAAeT,KAAKU,YAC7CpB,GAAOqB,WAAWE,GAClB,OAAOb,IACR,IAAC,OA5DmBf,CAAuB","ignoreList":[],"sourceRoot":""}},{"offset":{"line":246,"column":0},"map":{"version":3,"names":["sap","ui","define","Localization","GenericTile","Text","TileContent","sap_m_library","Component","S4MyHome","__ToDoPanel","___utils_SituationUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","LoadState","URLHelper","ValueColor","ToDoPanel","executeNavigation","fetchNavigationTargetData","getSituationMessage","SituationPanel","extend","constructor","_constructor","id","settings","ToDoPanel.prototype.constructor.call","this","init","_init","ToDoPanel.prototype.init.call","setProperty","_i18nBundle","getText","generateRequestUrls","_generateRequestUrls","cardCount","language","getSAPLogonLanguage","getCountUrl","getDataUrl","generateCardTemplate","_generateCardTemplate","context","mode","frameType","pressEnabled","header","getProperty","headerImage","valueColor","Critical","state","press","event","_onPressSituation","tileContent","content","text","footer","formatDate","_this","control","getSource","getBindingContext","loadState","SitnInstceKey","SitnEngineType","getObject","url","getTargetAppUrl","_temp3","Loading","_temp2","_temp","Promise","resolve","_fetchNavigationTarge","navigationTargetData","getOwnerComponentFor","getParent","error","_sErrorCode","redirect","reject","getNoDataText","_getNoDataText"],"sources":["SituationPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Localization from \"sap/base/i18n/Localization\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport Text from \"sap/m/Text\";\nimport TileContent from \"sap/m/TileContent\";\nimport { LoadState, URLHelper, ValueColor } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport Context from \"sap/ui/model/Context\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport type { $ToDoPanelSettings } from \"./ToDoPanel\";\nimport ToDoPanel from \"./ToDoPanel\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport {\n\texecuteNavigation,\n\tfetchNavigationTargetData,\n\tgetSituationMessage,\n\tInstanceAttribute,\n\tNavigationData\n} from \"./utils/SituationUtils\";\n\ninterface Situation {\n\tSitnInstceKey: string;\n\tSitnInstceCreatedAtDateTime: string;\n\tSitnEngineType: string;\n\t_InstanceAttribute: InstanceAttribute[];\n\t_InstanceText: InstanceText;\n\tloadState?: LoadState;\n}\n\ninterface InstanceText {\n\tSituationTitle: string;\n\tSituationText: string;\n}\n\ninterface NavigationHelperError {\n\t_sErrorCode: string;\n}\n\n/**\n *\n * Panel class for managing and storing Situation cards.\n *\n * @extends ToDoPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.SituationPanel\n */\nexport default class SituationPanel extends ToDoPanel {\n\t/**\n\t * Constructor for a new Situation Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $ToDoPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"situations\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"situationsTabTitle\"));\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t * Overridden method to provide situation-specific URLs.\n\t *\n\t * @private\n\t * @override\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst language = Localization.getSAPLogonLanguage() || \"\";\n\t\treturn [\n\t\t\tthis.getCountUrl(),\n\t\t\t`${this.getDataUrl()}&$expand=_InstanceAttribute($expand=_InstanceAttributeValue($filter=(Language eq '${language}' or Language eq ''))),_InstanceText($filter=(Language eq '${language}' or Language eq ''))&$skip=0&$top=${cardCount}`\n\t\t];\n\t}\n\n\t/**\n\t * Generates a card template for situations.\n\t * Overridden method from To-Do panel to generate situation-specific card template.\n\t *\n\t * @private\n\t * @override\n\t * @param {string} id The ID for the template card.\n\t * @param {Context} context The context object.\n\t * @returns {Control} The generated card control template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\treturn new GenericTile(`${id}-actionTile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\theader: getSituationMessage(\n\t\t\t\tcontext.getProperty(\"_InstanceText/0/SituationTitle\") as string,\n\t\t\t\tcontext.getProperty(\"_InstanceAttribute\") as InstanceAttribute[]\n\t\t\t),\n\t\t\theaderImage: \"sap-icon://alert\",\n\t\t\tvalueColor: ValueColor.Critical,\n\t\t\tstate: context.getProperty(\"loadState\") as LoadState,\n\t\t\tpress: (event: Event) => {\n\t\t\t\tvoid this._onPressSituation(event);\n\t\t\t},\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(`${id}-actionTileContent`, {\n\t\t\t\t\tcontent: new Text(`${id}-text`, {\n\t\t\t\t\t\ttext: getSituationMessage(\n\t\t\t\t\t\t\tcontext.getProperty(\"_InstanceText/0/SituationText\") as string,\n\t\t\t\t\t\t\tcontext.getProperty(\"_InstanceAttribute\") as InstanceAttribute[]\n\t\t\t\t\t\t)\n\t\t\t\t\t}),\n\t\t\t\t\tfooter: S4MyHome.formatDate(context.getProperty(\"SitnInstceCreatedAtDateTime\") as string)\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Handle the press event for a situation.\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t */\n\tprivate async _onPressSituation(event: Event): Promise<void> {\n\t\tconst control = event.getSource<GenericTile>();\n\t\tconst context = control.getBindingContext();\n\t\tconst { loadState, SitnInstceKey: id, SitnEngineType } = context?.getObject() as Situation;\n\t\tconst url = this.getTargetAppUrl();\n\n\t\tif (loadState !== LoadState.Loading && url) {\n\t\t\tif (id) {\n\t\t\t\ttry {\n\t\t\t\t\tconst navigationTargetData = (await fetchNavigationTargetData(id, SitnEngineType)) as NavigationData;\n\t\t\t\t\tawait executeNavigation(\n\t\t\t\t\t\tnavigationTargetData,\n\t\t\t\t\t\tComponent.getOwnerComponentFor(this.getParent() as ToDosContainer) as Component\n\t\t\t\t\t);\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tif (\n\t\t\t\t\t\terror &&\n\t\t\t\t\t\tSitnEngineType === \"1\" &&\n\t\t\t\t\t\t(error as NavigationHelperError)._sErrorCode === \"NavigationHandler.isIntentSupported.notSupported\"\n\t\t\t\t\t) {\n\t\t\t\t\t\t// Navigate to the situations app\n\t\t\t\t\t\tURLHelper.redirect(this.getTargetAppUrl(), false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tURLHelper.redirect(url, false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @private\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noSituationTitle\") as string;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":251,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerItemLayoutData","GenericTile","HeaderContainer","VBox","sap_m_library","Lib","JSONModel","Container","S4MyHome","__BasePanel","__AppManager","___utils_CommonUtils","___utils_DataFormatUtils","___utils_Device","___utils_InsightsUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","LoadState","_finallyRethrows","finalizer","bind","BasePanel","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","AppManager","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","filterVisualizations","getPageManagerInstance","recycleId","DeviceType","fetchElementProperties","createShowMoreActionButton","createShowMoreMenuItem","getAssociatedFullScreenMenuItem","tilesMenuItems","tilesContainerMenuItems","tilesActionButtons","tilesContainerActionButtons","DisplayFormat","StandardTileWidth","StandardWideTileWidth","Gap","SpaceInsightsPanel","extend","metadata","library","properties","spaceId","type","group","defaultValue","title","fullScreenName","visibility","defaultAggregation","aggregations","content","multiple","singularName","tiles","events","handleHidePanel","parameters","handleUnhidePanel","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","_headerVisible","init","_init","BasePanel.prototype.init.call","_controlMap","Map","_oData","activateInsightsTiles","activateInsightsTilesOnPhone","activateInsightsTilesOnDesktop","_controlModel","appManagerInstance","getInstance","pageManager","setProperty","_createTilesFlexWrapper","getServiceAsync","VizInstantiationService","catch","error","Error","message","String","_toggleTileActivity","setTitle","_setTitle","spaceTitle","getTitle","_getTitle","getProperty","toggleUserActions","event","show","getParameter","_temp2","_temp","_appSwitched","Promise","resolve","refreshData","attachRouteMatched","warning","_showPlaceHolders","placeholderArray","Array","_calculatePlaceholderTileCount","fill","Loading","aInsightsApps","map","tileState","index","getId","sizeBehavior","frameType","mode","visible","renderOnThemeChange","ariaRole","dropAreaOffset","setLayoutData","columns","_clearPlaceHolders","renderPanel","_renderPanel","_exit","_this2","_temp4","_result","_temp3","_await$_this2$refresh","fireHandleHidePanel","_wasThrown","fireEvent","fetchDynamicAppInSpace","_fetchDynamicAppInSpace","_this3","_temp8","_this3$pageManager$fe","_temp7","allVisualizations","_filterDuplicateVizs","allSpaces","space","find","children","_temp6","_temp5","child","fetchFavVizs","visualizations","_this3$allSpaces","fetchAllAvailableSpaces","_refreshData","refreshTiles","_this4","panelName","getMetadata","getName","_this4$fetchDynamicAp","_temp0","fireHandleUnhidePanel","isMobile","getDeviceType","Mobile","container","tilesMobileContainer","tilesContainer","sDefaultAggreName","getDefaultAggregationName","dynamicTiles","getAggregation","forEach","refresh","_getInsightsContainer","updatePanelsItemCount","bIsSmartBusinessTilePresent","some","oApp","isSmartBusinessTile","_temp9","load","name","_tilesWrapper","renderType","width","items","_createMobileFlexWrapper","_createWrapperFlexBox","setModel","addContent","scrollStep","scrollStepByItem","gridLayout","scrollTime","showDividers","addStyleClass","_attachAggregationToContainer","_updateTilesActivity","isPhoneScreen","bActivateInsightsTiles","Boolean","bindAggregation","path","factory","context","getObject","oVisualization","instantiateVisualization","visualization","minRows","getDisplayFormat","Standard","bindProperty","handleHideHeader","_handleHideHeader","_toggleHeaderActions","handleAddHeader","_handleAddHeader","_calculateVisibleTileCount","insightsApps","layout","_getLayout","layoutDomRef","getDomRef","apps","count","isHeaderVisible","sectionNodeIndex","sectionDomRef","childNodes","domProperties","availableWidth","widthMap","StandardWide","nextTileWidth","displayFormatHint","Math","floor","_adjustLayout","isMobileDevice","visibleTileCount","isElementExpanded","_getCurrentExpandedElementName","slice","showFullScreenButton","actionButton","includes","ADD_TILES","toggleActionButton","toggleFullScreenElements","fullScreenButton","fullScreenText","updateMenuItem","get","SHOW_MORE","updateActionButton","insightsContainer","getParent","getContainerMenuItems","_getContainerMenuItems","_containerMenuItems","containerShowMore","set","getContainerActionButtons","_getContainerActionButtons","_containerActionButtons","containerFullScreenActionButton","bShow","menuItem","toggleMenuListItem"],"sources":["SpaceInsightsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerItemLayoutData from \"sap/f/GridContainerItemLayoutData\";\nimport Button from \"sap/m/Button\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport Lib from \"sap/ui/core/Lib\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Container from \"sap/ushell/Container\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport BasePanel from \"./BasePanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport MenuItem from \"./MenuItem\";\nimport { $SpaceInsightsPanelSettings } from \"./SpaceInsightsPanel\";\nimport { ICustomVisualization, ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport { ISpace } from \"./interface/PageSpaceInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport { filterVisualizations, getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { createShowMoreActionButton, createShowMoreMenuItem, getAssociatedFullScreenMenuItem } from \"./utils/InsightsUtils\";\nimport PageManager from \"./utils/PageManager\";\n\nexport enum tilesMenuItems {\n\tREFRESH = \"tiles-refresh\",\n\tADD_APPS = \"tiles-addSmartApps\",\n\tEDIT_TILES = \"tiles-editTiles\"\n}\n\nexport enum tilesContainerMenuItems {\n\tREFRESH = \"container-tiles-refresh\",\n\tADD_APPS = \"container-tiles-addSmartApps\",\n\tEDIT_TILES = \"container-tiles-editTiles\",\n\tSHOW_MORE = \"tilesContainerFullScreenMenuItem\"\n}\n\nexport enum tilesActionButtons {\n\tADD_TILES = \"tiles-addTilesButton\"\n}\n\nexport enum tilesContainerActionButtons {\n\tADD_TILES = \"container-tiles-addTilesButton\",\n\tSHOW_MORE = \"tilesContanerFullScreenActionButton\"\n}\n\nexport enum DisplayFormat {\n\tStandard = \"standard\",\n\tStandardWide = \"standardWide\"\n}\n\nconst StandardTileWidth = 176;\nconst StandardWideTileWidth = 368;\nconst Gap = 16;\n\n/**\n *\n * Tiles Panel class for managing and storing Space Insights Tiles.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n *\n * @private\n * @ui5-experimental-since 1.138.0\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.SpaceInsightsPanel\n */\n\nexport default class SpaceInsightsPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $SpaceInsightsPanelSettings);\n\tconstructor(id?: string, settings?: $SpaceInsightsPanelSettings);\n\t/**\n\t * Constructor for a new Tiles Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $SpaceInsightsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprivate _oData!: Record<string, unknown>;\n\tprivate appManagerInstance!: AppManager;\n\tprivate VizInstantiationService!: VisualizationInstantiation;\n\tprivate tilesContainer!: GridContainer;\n\tprivate tilesMobileContainer!: HeaderContainer;\n\tprivate _tilesWrapper!: VBox;\n\tprivate aInsightsApps!: ICustomVisualization[] | GenericTile[];\n\tprivate _controlModel!: JSONModel;\n\tpublic _controlMap!: Map<string, Control | Element | UI5Element>;\n\tprivate _containerMenuItems!: MenuItem[];\n\tprivate _containerActionButtons!: Button[];\n\tprivate insightsContainer!: InsightsContainer;\n\tprivate _appSwitched!: boolean;\n\tprivate _headerVisible: boolean = false;\n\tprivate pageManager!: PageManager;\n\tprivate allSpaces!: ISpace[];\n\tprivate spaceTitle!: string | undefined;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies the space whose apps should be loaded.\n\t\t\t */\n\t\t\tspaceId: { type: \"string\", group: \"Data\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Title for the tiles panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"SI3\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"tiles\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Aggregation of tiles available within the tiles Panel\n\t\t\t */\n\t\t\ttiles: { type: \"sap.cux.home.App\", multiple: true, singularName: \"tile\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\thandleHidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\thandleUnhidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Initializes the Tiles Panel.\n\t *\n\t * @private\n\t * @override\n\t */\n\tinit() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\t\t//Initialise Tiles Model\n\t\tthis._oData = {\n\t\t\ttiles: [] as ICustomVisualization[],\n\t\t\tactivateInsightsTiles: true,\n\t\t\tactivateInsightsTilesOnPhone: false,\n\t\t\tactivateInsightsTilesOnDesktop: false\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis.pageManager = getPageManagerInstance(this);\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\n\t\tthis._createTilesFlexWrapper();\n\t\tContainer.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\")\n\t\t\t.then((VizInstantiationService) => {\n\t\t\t\tthis.VizInstantiationService = VizInstantiationService;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\n\t\t// Toggles the activity of tiles\n\t\tthis._toggleTileActivity();\n\t}\n\n\tpublic setTitle(title: string) {\n\t\tif (!this.spaceTitle) this.spaceTitle = title;\n\t\treturn this.setProperty(\"title\", title);\n\t}\n\n\tpublic getTitle(): string {\n\t\tif (this.spaceTitle) return this.spaceTitle;\n\t\treturn this.getProperty(\"title\") as string;\n\t}\n\n\t/**\n\t * Toggles the activity of tiles on route change.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _toggleTileActivity(): void {\n\t\tconst toggleUserActions = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tthis._controlModel.setProperty(\"/activateInsightsTiles\", show);\n\t\t\tif (show) {\n\t\t\t\tif (this._appSwitched) {\n\t\t\t\t\tawait this.refreshData(true);\n\t\t\t\t\tthis._appSwitched = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._appSwitched = true;\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t} catch (error) {\n\t\t\tLog.warning(error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n\n\t/**\n\t * Displays placeholder tiles while loading.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _showPlaceHolders() {\n\t\tconst placeholderArray = new Array(this._calculatePlaceholderTileCount()).fill(LoadState.Loading) as LoadState[];\n\t\tthis.aInsightsApps = placeholderArray.map((tileState: LoadState, index: number) => {\n\t\t\treturn new GenericTile(recycleId(`${this.getId()}--placeHolderTile--${index}`), {\n\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\tstate: tileState,\n\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\tmode: \"IconMode\",\n\t\t\t\tvisible: true,\n\t\t\t\trenderOnThemeChange: true,\n\t\t\t\tariaRole: \"listitem\",\n\t\t\t\tdropAreaOffset: 8\n\t\t\t}).setLayoutData?.(\n\t\t\t\tnew GridContainerItemLayoutData(recycleId(`${this.getId()}--placeHolderTileLayoutData--${index}`), {\n\t\t\t\t\tcolumns: 2\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t}\n\n\t/**\n\t * Clears the placeholder tiles.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _clearPlaceHolders() {\n\t\tthis._controlModel.setProperty(\"/tiles\", []);\n\t}\n\n\t/**\n\t * Renders the panel.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the panel is rendered.\n\t */\n\tpublic async renderPanel(): Promise<void> {\n\t\ttry {\n\t\t\treturn await this.refreshData();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthis.fireHandleHidePanel();\n\t\t} finally {\n\t\t\tthis.fireEvent(\"loaded\");\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\tprivate async fetchDynamicAppInSpace(): Promise<ICustomVisualization[]> {\n\t\tconst spaceId = this.getProperty(\"spaceId\") as string;\n\t\tthis.allSpaces = this.allSpaces || (await this.pageManager.fetchAllAvailableSpaces());\n\t\tconst space = this.allSpaces.find((space) => space.id === spaceId);\n\n\t\tif (!space || space.children.length === 0) return [];\n\t\tlet allVisualizations: ISectionAndVisualization[] = [];\n\n\t\tif (space && space.children.length > 0) {\n\t\t\tfor (const child of space.children) {\n\t\t\t\tconst visualizations = await this.appManagerInstance.fetchFavVizs(true, true, child.id);\n\t\t\t\tallVisualizations.push(...visualizations);\n\t\t\t}\n\t\t}\n\n\t\t//Filter out dynamic tiles\n\t\tallVisualizations = filterVisualizations(allVisualizations, true);\n\n\t\t//filter out duplicate visualizations\n\t\tallVisualizations = this.appManagerInstance._filterDuplicateVizs(allVisualizations, false);\n\n\t\treturn allVisualizations;\n\t}\n\n\t/**\n\t * Refreshes the data in the panel.\n\t *\n\t * @private\n\t * @param {boolean} [refreshTiles=false] - Whether to refresh the tiles.\n\t * @returns {Promise<void>} A promise that resolves when the data is refreshed.\n\t */\n\tpublic async refreshData(refreshTiles: boolean = false) {\n\t\tconst panelName = this.getMetadata().getName();\n\t\tthis.aInsightsApps = await this.fetchDynamicAppInSpace();\n\t\tconst bIsSmartBusinessTilePresent = this.aInsightsApps.some((oApp) => oApp.isSmartBusinessTile);\n\t\tif (bIsSmartBusinessTilePresent) {\n\t\t\tawait Lib.load({ name: \"sap.cloudfnd.smartbusiness.lib.reusetiles\" });\n\t\t}\n\t\tthis._clearPlaceHolders();\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t\tif (this.aInsightsApps?.length) {\n\t\t\tthis.fireHandleUnhidePanel();\n\t\t\tif (refreshTiles) {\n\t\t\t\tconst isMobile = this.getDeviceType() === DeviceType.Mobile;\n\t\t\t\tconst container = isMobile ? this.tilesMobileContainer : this.tilesContainer;\n\t\t\t\tconst sDefaultAggreName = container.getMetadata().getDefaultAggregationName();\n\t\t\t\tconst dynamicTiles = (container.getAggregation(sDefaultAggreName) as ManagedObject[]) || [];\n\t\t\t\tdynamicTiles.forEach((tiles) => (tiles as ICustomVisualization).refresh?.());\n\t\t\t}\n\t\t\tthis._getInsightsContainer().updatePanelsItemCount(this.aInsightsApps.length, panelName);\n\t\t\tif (this._headerVisible) {\n\t\t\t\tthis.setProperty(\"title\", `${this.spaceTitle} (${this.aInsightsApps.length})`);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fireHandleHidePanel();\n\t\t}\n\t}\n\n\t/**\n\t * Generates the wrapper for the tiles container, if it doesn't already exist\n\t *\n\t * @private\n\t * @override\n\t * @returns {sap.m.VBox} The tiles Vbox wrapper.\n\t */\n\tprivate _createTilesFlexWrapper() {\n\t\tif (!this._tilesWrapper) {\n\t\t\tthis._tilesWrapper = new VBox(`${this.getId()}-tilesWrapper`, {\n\t\t\t\trenderType: \"Bare\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\titems: [this._createMobileFlexWrapper(), this._createWrapperFlexBox()]\n\t\t\t});\n\t\t\tthis._showPlaceHolders();\n\t\t\tthis._tilesWrapper.setModel(this._controlModel);\n\t\t\tthis.addContent(this._tilesWrapper);\n\t\t}\n\t}\n\n\t/**\n\t * Generates wrapper for displaying tiles in mobile mode.\n\t * @private\n\t * @returns {sap.m.HeaderContainer} The generated tiles wrapper.\n\t */\n\n\tprivate _createMobileFlexWrapper(): HeaderContainer {\n\t\t// Check if the mobile container already exists\n\t\tif (!this.tilesMobileContainer) {\n\t\t\t// Create the HeaderContainer with required properties\n\t\t\tthis.tilesMobileContainer = new HeaderContainer(`${this.getId()}-insightsTilesMobileContainer`, {\n\t\t\t\tscrollStep: 0,\n\t\t\t\tscrollStepByItem: 1,\n\t\t\t\tgridLayout: true,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tshowDividers: false,\n\t\t\t\tvisible: \"{/isPhone}\"\n\t\t\t}).addStyleClass(\"sectionMarginTopTilesInsight sapMHeaderContainerMarginBottom\");\n\n\t\t\t// Attach aggregation to the container\n\t\t\tthis._attachAggregationToContainer(this.tilesMobileContainer);\n\t\t}\n\t\t// Return the existing or newly created container\n\t\treturn this.tilesMobileContainer;\n\t}\n\n\t/**\n\t * Generates app wrapper (GridContainer) for displaying tiles.\n\t * @private\n\t * @returns {sap.m.GridContainer} The generated tiles wrapper.\n\t */\n\n\tprivate _createWrapperFlexBox(): GridContainer {\n\t\t// Check if the tilesContainer already exists\n\t\tif (!this.tilesContainer) {\n\t\t\t// Create the GridContainer with required properties\n\t\t\tthis.tilesContainer = new GridContainer(`${this.getId()}-insightsTilesContainer`, {\n\t\t\t\tvisible: \"{= !${/isPhone}}\"\n\t\t\t}).addStyleClass(\"insightTiles sapUiSmallMarginTop sapUiSmallMarginBottom\");\n\t\t\t// Attach aggregation to the container\n\t\t\tthis._attachAggregationToContainer(this.tilesContainer);\n\t\t}\n\t\t// Return the existing or newly created container\n\t\treturn this.tilesContainer;\n\t}\n\n\t/**\n\t * Updates the activation flags for Insights Tiles based on the device type and viewport.\n\t *\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _updateTilesActivity(): void {\n\t\t// Activate Insights Tiles based on container in viewport\n\t\tconst isPhoneScreen: boolean = this.getDeviceType() === DeviceType.Mobile;\n\t\t// Explicitly type the property being retrieved\n\t\tconst bActivateInsightsTiles: boolean = Boolean(this._controlModel.getProperty(\"/activateInsightsTiles\"));\n\t\tthis._controlModel.setProperty(\"/activateInsightsTilesOnPhone\", bActivateInsightsTiles && isPhoneScreen);\n\t\tthis._controlModel.setProperty(\"/activateInsightsTilesOnDesktop\", bActivateInsightsTiles && !isPhoneScreen);\n\t}\n\t/**\n\t * Attaches necessary aggregations and configurations to the provided container.\n\t *\n\t * @private\n\t * @param {GridContainer | HeaderContainer} tilesContainer - The container to which the aggregation and events are to be attached.\n\t * @returns {void}\n\t *\n\t */\n\tprivate _attachAggregationToContainer(tilesContainer: GridContainer | HeaderContainer) {\n\t\ttilesContainer.setModel(this._controlModel);\n\t\tconst sDefaultAggreName = tilesContainer.getMetadata().getDefaultAggregationName();\n\t\tconst isPhoneScreen = this.getDeviceType() === DeviceType.Mobile;\n\t\ttilesContainer.bindAggregation(sDefaultAggreName, {\n\t\t\tpath: \"/tiles\",\n\t\t\tfactory: (id: string, context: Context): ManagedObject => {\n\t\t\t\tconst oApp = context.getObject() as ICustomVisualization;\n\t\t\t\tif (oApp instanceof GenericTile) {\n\t\t\t\t\treturn oApp;\n\t\t\t\t}\n\t\t\t\tconst oVisualization = this.VizInstantiationService.instantiateVisualization(oApp.visualization) as ICustomVisualization;\n\t\t\t\toVisualization.setLayoutData?.(\n\t\t\t\t\tnew GridContainerItemLayoutData(`${this.getId()}-itemLayoutData-${id}`, {\n\t\t\t\t\t\tminRows: 2,\n\t\t\t\t\t\tcolumns: oVisualization.getDisplayFormat?.() === DisplayFormat.Standard ? 2 : 4\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\toVisualization?.bindProperty?.(\n\t\t\t\t\t\"active\",\n\t\t\t\t\tisPhoneScreen ? \"/activateInsightsTilesOnPhone\" : \"/activateInsightsTilesOnDesktop\"\n\t\t\t\t);\n\t\t\t\treturn oVisualization as ManagedObject;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Hides the header of the tiles panel.\n\t * @private\n\t */\n\tpublic handleHideHeader() {\n\t\tthis._headerVisible = false;\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis._toggleHeaderActions(false);\n\t}\n\n\t/**\n\t * Adds the header to the tiles panel.\n\t * @private\n\t */\n\tpublic handleAddHeader() {\n\t\tthis._headerVisible = true;\n\t\tthis.setProperty(\"title\", `${this.spaceTitle} (${this.aInsightsApps.length})`);\n\t\tthis._toggleHeaderActions(true);\n\t}\n\n\t/**\n\t * Calculates the number of visible tiles that can fit within the available width of the parent container.\n\t *\n\t * @private\n\t * @param {ICustomVisualization[]} insightsApps - An array of custom visualizations to be displayed as tiles.\n\t * @returns {number} - The number of visible tiles.\n\t */\n\tprivate _calculateVisibleTileCount(insightsApps: ICustomVisualization[]): number {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tconst layoutDomRef = layout?.getDomRef();\n\t\tconst apps = insightsApps || [];\n\t\tlet count = 0;\n\n\t\tif (layoutDomRef && apps.length) {\n\t\t\tconst isHeaderVisible = layout.getProperty(\"showHeader\") as boolean;\n\t\t\tconst sectionNodeIndex = isHeaderVisible ? 1 : 0;\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[sectionNodeIndex] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst widthMap = {} as Record<DisplayFormat, number>;\n\n\t\t\twidthMap[DisplayFormat.Standard] = StandardTileWidth + Gap;\n\t\t\twidthMap[DisplayFormat.StandardWide] = StandardWideTileWidth + Gap;\n\n\t\t\tlet nextTileWidth = widthMap[(apps[count].visualization?.displayFormatHint ?? DisplayFormat.Standard) as DisplayFormat];\n\t\t\tdo {\n\t\t\t\tavailableWidth -= nextTileWidth;\n\t\t\t\t++count;\n\t\t\t\tnextTileWidth = widthMap[(apps[count]?.visualization?.displayFormatHint ?? DisplayFormat.Standard) as DisplayFormat];\n\t\t\t} while (availableWidth > nextTileWidth);\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\tprivate _calculatePlaceholderTileCount(): number {\n\t\tconst layoutDomRef = this._getInsightsContainer()?._getLayout()?.getDomRef();\n\t\tlet count = 0;\n\t\tif (layoutDomRef) {\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[0] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst width = StandardTileWidth + Gap;\n\n\t\t\tcount = Math.floor(availableWidth / width);\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\t/**\n\t * Adjusts the layout of the tiles panel based on the current layout and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout() {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tconst isMobileDevice = this.getDeviceType() === DeviceType.Mobile;\n\n\t\tif (layout) {\n\t\t\tconst visibleTileCount = isMobileDevice\n\t\t\t\t? this.aInsightsApps?.length\n\t\t\t\t: this._calculateVisibleTileCount(this.aInsightsApps as ICustomVisualization[]);\n\t\t\tconst isElementExpanded = layout._getCurrentExpandedElementName() === this.getProperty(\"fullScreenName\");\n\t\t\tthis._controlModel.setProperty(\n\t\t\t\t\"/tiles\",\n\t\t\t\tisElementExpanded ? this.aInsightsApps : this.aInsightsApps?.slice(0, visibleTileCount)\n\t\t\t);\n\t\t\tthis._controlModel.setProperty(\"/isPhone\", isMobileDevice);\n\t\t\tthis._updateTilesActivity();\n\t\t\t//Show/Hide Full Screen Button if panel header is visible otherwise update visibility of container Full Screen Button\n\t\t\tconst showFullScreenButton = isElementExpanded || this.aInsightsApps.length > visibleTileCount;\n\t\t\tif (this._headerVisible) {\n\t\t\t\tif (!isMobileDevice) {\n\t\t\t\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) => {\n\t\t\t\t\t\tif (actionButton.getId().includes(tilesActionButtons.ADD_TILES)) {\n\t\t\t\t\t\t\tthis._getInsightsContainer().toggleActionButton(actionButton, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._getInsightsContainer()?.toggleFullScreenElements(this, showFullScreenButton);\n\t\t\t} else {\n\t\t\t\tconst fullScreenButton = getAssociatedFullScreenMenuItem(this);\n\t\t\t\tconst fullScreenText = fullScreenButton?.getTitle() ?? \"\";\n\t\t\t\tthis._getInsightsContainer()?.updateMenuItem(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${tilesContainerMenuItems.SHOW_MORE}`) as MenuItem,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t\tthis._getInsightsContainer()?.updateActionButton(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${tilesContainerActionButtons.SHOW_MORE}`) as Button,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the InsightsContainer instance associated with this TilesPanel.\n\t *\n\t * @private\n\t * @returns {InsightsContainer} The InsightsContainer instance.\n\t */\n\tprivate _getInsightsContainer(): InsightsContainer {\n\t\tif (!this.insightsContainer) {\n\t\t\tthis.insightsContainer = this.getParent() as InsightsContainer;\n\t\t}\n\t\treturn this.insightsContainer;\n\t}\n\n\t/**\n\t * Retrieves the menu items for the container.\n\t *\n\t * @private\n\t * @returns {MenuItem[]} An array of MenuItem instances.\n\t */\n\tpublic getContainerMenuItems(): MenuItem[] {\n\t\tif (!this._containerMenuItems) {\n\t\t\tconst containerShowMore = createShowMoreMenuItem(this, tilesContainerMenuItems.SHOW_MORE, \"containerTilesShowMore\");\n\t\t\tthis._controlMap.set(`${this.getId()}-${tilesContainerMenuItems.SHOW_MORE}`, containerShowMore);\n\t\t\tthis._containerMenuItems = [containerShowMore];\n\t\t}\n\t\treturn this._containerMenuItems;\n\t}\n\n\t/**\n\t * Retrieves the action buttons for the container.\n\t *\n\t * @private\n\t * @returns {Button[]} An array of Button instances.\n\t */\n\tpublic getContainerActionButtons(): Button[] {\n\t\tif (!this._containerActionButtons) {\n\t\t\tthis._containerActionButtons = [];\n\n\t\t\tconst containerFullScreenActionButton = createShowMoreActionButton(\n\t\t\t\tthis,\n\t\t\t\ttilesContainerActionButtons.SHOW_MORE,\n\t\t\t\t\"containerTilesShowMore\"\n\t\t\t);\n\t\t\tif (containerFullScreenActionButton) {\n\t\t\t\tthis._controlMap.set(`${this.getId()}-${tilesContainerActionButtons.SHOW_MORE}`, containerFullScreenActionButton);\n\t\t\t\tthis._containerActionButtons.push(containerFullScreenActionButton);\n\t\t\t}\n\t\t}\n\t\treturn this._containerActionButtons;\n\t}\n\n\t/**\n\t * Toggles the visibility of the header actions.\n\t *\n\t * @param {boolean} bShow - Whether to show or hide the header actions.\n\t * @private\n\t */\n\tprivate _toggleHeaderActions(bShow: boolean) {\n\t\t(this.getAggregation(\"menuItems\") as MenuItem[])?.forEach((menuItem) => {\n\t\t\tthis._getInsightsContainer()?.toggleMenuListItem(menuItem, bShow);\n\t\t});\n\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) =>\n\t\t\tthis._getInsightsContainer()?.toggleActionButton(actionButton, bShow)\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":256,"column":0},"map":{"version":3,"names":["sap","ui","define","GridContainer","GridContainerSettings","Button","Dialog","IllustratedMessageSize","IllustratedMessageType","Input","Title","Toolbar","ToolbarSpacer","Icon","Parameters","Config","Container","__BaseAppPersPanel","__Group","___utils_Accessibility","___utils_CommonUtils","___utils_Constants","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","BaseAppPersPanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","Group","getInvisibleText","filterVisualizations","getPageManagerInstance","MYHOME_PAGE_ID","_showAddApps","last","SpacePanel","extend","metadata","library","defaultAggregation","properties","spaceId","type","group","defaultValue","title","aggregations","apps","singularName","multiple","visibility","groups","constructor","_constructor","id","settings","BaseAppPersPanel.prototype.constructor.call","init","_init","BaseAppPersPanel.prototype.init.call","setProperty","pageManager","attachPersistDialog","_selectedGroupId","_showGroupDetailDialog","_selectedPageId","loadApps","_loadApps","_temp4","_this$pageManager$fet","_temp3","allVisualizations","destroyAggregation","groupVisualizations","filter","visualization","isSection","_generateGroups","_setGroups","appVisualizations","generateApps","setApps","_setGroupDetailDialogApps","allSpaces","space","find","children","_temp2","_temp","child","Promise","resolve","appManagerInstance","fetchFavVizs","visualizations","getProperty","_this$allSpaces","fetchAllAvailableSpaces","map","groupVisualization","index","bgColor","BGColor","key","getId","status","icon","number","badge","groupId","pageId","press","_handleGroupPress","menuItems","forEach","oMenuItem","addAggregation","navigateToAppFinder","_navigateToAppFinder","pageID","getServiceAsync","navigationService","navigationObject","sectionID","navigate","shellHash","JSON","stringify","editMode","_this2","_getGroup","dialog","_generateGroupDetailDialog","groupIconControl","_controlMap","get","setColor","name","getBgColor","open","_setGroupNameControl","getTitle","_this3","_temp5","getSectionVisualizations","_this3$appManagerInst","appsWrapper","_setAggregation","destroyItems","getApps","app","getParent","_getAppTile","_applyGroupedAppsPersonalization","_dispatchAppsLoadedEvent","tiles","getItems","_applyTilesPersonalization","fireEvent","set","src","size","addStyleClass","visible","oInvisibleText","_i18nBundle","getText","oGroupNameInput","width","ariaLabelledBy","layout","columnSize","gap","text","_closeGroupDetailDialog","content","contentWidth","endButton","escapeHandler","customHeader","groupDetailDialog","destroyApps","undefined","close","groupTitle","groupTitleControl","groupInputControl","setValue","setText","setVisible","setInitialFocus","event","getParameter","generateIllustratedMessage","_generateIllustratedMessage","illustratedMessage","BaseAppPersPanel.prototype.generateIllustratedMessage.call","setDescription","setIllustrationSize","Small","setIllustrationType","AddingColumns","addAdditionalContent","tooltip"],"sources":["SpacePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport Dialog from \"sap/m/Dialog\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport Input from \"sap/m/Input\";\nimport Title from \"sap/m/Title\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport { MetadataOptions } from \"sap/ui/base/ManagedObject\";\nimport Icon from \"sap/ui/core/Icon\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport Parameters from \"sap/ui/core/theming/Parameters\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport App from \"./App\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseAppPersPanel from \"./BaseAppPersPanel\";\nimport Group, { Group$PressEvent } from \"./Group\";\nimport { ISectionAndVisualization } from \"./interface/AppsInterface\";\nimport { ISpace } from \"./interface/PageSpaceInterface\";\nimport type { $SpacePanelSettings } from \"./SpacePanel\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { filterVisualizations, getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { MYHOME_PAGE_ID } from \"./utils/Constants\";\nimport PageManager from \"./utils/PageManager\";\nconst _showAddApps = () => {\n\treturn (Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) as boolean;\n};\n\n/**\n *\n * Provides the SpacePanel Class.\n *\n * @extends sap.cux.home.BaseAppPersPanel\n *\n * @author SAP SE\n * @version 0.0.1\n *\n * @private\n * @ui5-experimental-since 1.138.0\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.SpacePanel\n */\nexport default class SpacePanel extends BaseAppPersPanel {\n\tconstructor(idOrSettings?: string | $SpacePanelSettings);\n\tconstructor(id?: string, settings?: $SpacePanelSettings);\n\t/**\n\t * Constructor for a new favorite app panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $SpacePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tprivate _selectedGroupId: string | undefined;\n\tprivate _selectedPageId: string | undefined;\n\tprivate allSpaces!: ISpace[];\n\tprivate pageManager!: PageManager;\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tdefaultAggregation: \"apps\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies the space whose apps should be loaded.\n\t\t\t */\n\t\t\tspaceId: { type: \"string\", group: \"Data\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Title for the tiles panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Apps aggregation for Favorite apps\n\t\t\t */\n\t\t\tapps: { type: \"sap.cux.home.App\", singularName: \"app\", multiple: true, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Group aggregation for Favorite apps\n\t\t\t */\n\t\t\tgroups: { type: \"sap.cux.home.Group\", singularName: \"group\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tpublic init() {\n\t\tsuper.init();\n\n\t\tthis.setProperty(\"key\", \"spacePanel\");\n\t\tthis.pageManager = getPageManagerInstance(this);\n\n\t\tthis.attachPersistDialog(() => {\n\t\t\t// if while navigating to different page, a group detail dialog was open, then while navigating back group detail dialog should be in open state.\n\t\t\tif (this._selectedGroupId) {\n\t\t\t\tvoid this._showGroupDetailDialog(this._selectedGroupId, false, this._selectedPageId);\n\t\t\t}\n\t\t});\n\t}\n\n\t// /**\n\t//  * Sets the space ID for the panel and updates the title accordingly.\n\t//  * @param {string} spaceId - The ID of the space to set.\n\t//  * @returns {Promise<void>} A promise that resolves when the space ID is set.\n\t//  */\n\t// public async setSpaceId(spaceId: string): Promise<void> {\n\t// \tthis.setProperty(\"spaceId\", spaceId, true);\n\n\t// \t//update the panel title\n\t// \tthis.allSpaces = this.allSpaces || await this.pageManager.fetchAllAvailableSpaces();\n\t// \tconst space = this.allSpaces.find((space) => space.id === spaceId);\n\t// \tconst title = space ? space.label : this._i18nBundle.getText(\"invalidSpaceTitle\");\n\t// \tthis.setProperty(\"title\", title);\n\t// }\n\n\t/**\n\t * Fetch apps and set apps aggregation\n\t * @private\n\t */\n\tpublic async loadApps() {\n\t\tconst spaceId = this.getProperty(\"spaceId\") as string;\n\t\tthis.allSpaces = this.allSpaces || (await this.pageManager.fetchAllAvailableSpaces());\n\t\tconst space = this.allSpaces.find((space) => space.id === spaceId);\n\n\t\tif (!space || space.children.length === 0) this.setApps([]);\n\t\tlet allVisualizations: ISectionAndVisualization[] = [];\n\n\t\tif (space && space.children.length > 0) {\n\t\t\tfor (const child of space.children) {\n\t\t\t\tconst visualizations = await this.appManagerInstance.fetchFavVizs(true, false, child.id);\n\t\t\t\tallVisualizations.push(...visualizations);\n\t\t\t}\n\t\t}\n\n\t\t//Filter out static tiles\n\t\tallVisualizations = filterVisualizations(allVisualizations);\n\n\t\t//Create groups\n\t\tthis.destroyAggregation(\"groups\", true);\n\t\tconst groupVisualizations = allVisualizations.filter((visualization) => visualization.isSection);\n\t\tconst groups = this._generateGroups(groupVisualizations);\n\t\tthis._setGroups(groups);\n\n\t\t//Create apps\n\t\tthis.destroyAggregation(\"apps\", true);\n\t\tconst appVisualizations = allVisualizations.filter((visualization) => !visualization.isSection);\n\t\tconst apps = this.generateApps(appVisualizations);\n\t\tthis.setApps(apps);\n\t\tif (this._selectedGroupId) {\n\t\t\tvoid this._setGroupDetailDialogApps(this._selectedGroupId, this._selectedPageId);\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns group instances for given group objects\n\t * @private\n\t * @param {object[]} aGroupObject - Array of group object.\n\t * @returns {sap.cux.home.Group[]} - Array of group instances\n\t */\n\tprivate _generateGroups(groupVisualizations: ISectionAndVisualization[]): Group[] {\n\t\treturn groupVisualizations.map((groupVisualization, index) => {\n\t\t\tconst bgColor =\n\t\t\t\ttypeof groupVisualization.BGColor === \"object\" && \"key\" in groupVisualization.BGColor\n\t\t\t\t\t? groupVisualization.BGColor.key\n\t\t\t\t\t: groupVisualization.BGColor;\n\t\t\tconst group = new Group(`${this.getId()}-group-${index}`, {\n\t\t\t\ttitle: groupVisualization.title,\n\t\t\t\tbgColor: bgColor,\n\t\t\t\tstatus: groupVisualization.status,\n\t\t\t\ticon: groupVisualization.icon,\n\t\t\t\tnumber: groupVisualization.badge,\n\t\t\t\tgroupId: groupVisualization.id,\n\t\t\t\tpageId: groupVisualization.pageId,\n\t\t\t\tpress: this._handleGroupPress.bind(this)\n\t\t\t});\n\t\t\tgroupVisualization.menuItems?.forEach((oMenuItem) => {\n\t\t\t\tgroup.addAggregation(\"menuItems\", oMenuItem);\n\t\t\t});\n\t\t\treturn group;\n\t\t});\n\t}\n\n\t/**\n\t * Add multiple groups in the groups aggregation.\n\t * @private\n\t * @param {sap.cux.home.Group[]} groups - Array of groups.\n\t */\n\tprivate _setGroups(groups: Group[]) {\n\t\tgroups.forEach((group) => {\n\t\t\tthis.addAggregation(\"groups\", group, true);\n\t\t});\n\t}\n\n\t/**\n\t * Navigates to the App Finder with optional group Id.\n\t * @async\n\t * @private\n\t * @param {string} [groupId] - Optional group Id\n\t */\n\tprivate async navigateToAppFinder(groupId?: string, pageID: string = MYHOME_PAGE_ID) {\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst navigationObject: { pageID: string; sectionID?: string } = {\n\t\t\tpageID\n\t\t};\n\t\tif (groupId) {\n\t\t\tnavigationObject.sectionID = groupId;\n\t\t}\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tshellHash: `Shell-appfinder?&/catalog/${JSON.stringify(navigationObject)}`\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Shows the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @param {boolean} [editMode=false] - Whether to open the dialog in edit mode.\n\t * @private\n\t */\n\tprivate async _showGroupDetailDialog(groupId: string, editMode = false, pageId: string = MYHOME_PAGE_ID) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (!group) {\n\t\t\treturn;\n\t\t}\n\t\tthis._selectedGroupId = groupId;\n\t\tthis._selectedPageId = pageId;\n\t\tconst dialog = this._generateGroupDetailDialog();\n\t\t//set group icon\n\t\tconst groupIconControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-color`) as Icon;\n\t\tgroupIconControl.setColor(Parameters.get({ name: group.getBgColor() }) as string);\n\t\t//set group apps\n\t\tawait this._setGroupDetailDialogApps(groupId, pageId);\n\t\tdialog.open();\n\t\t//set group title\n\t\tthis._setGroupNameControl(group.getTitle(), editMode);\n\t}\n\n\t/**\n\t * Sets the apps for the detail dialog for a group.\n\t * @async\n\t * @param {string} groupId - The Id of the group.\n\t * @returns {Promise<void>} - A Promise that resolves once the apps for the group detail dialog are set.\n\t * @private\n\t */\n\tprivate async _setGroupDetailDialogApps(groupId: string, pageId: string = MYHOME_PAGE_ID) {\n\t\tconst group = this._getGroup(groupId);\n\t\tif (group) {\n\t\t\tlet appVisualizations = filterVisualizations(await this.appManagerInstance.getSectionVisualizations(groupId, false, pageId));\n\t\t\tgroup.destroyAggregation(\"apps\", true);\n\t\t\tconst apps = this.generateApps(appVisualizations);\n\t\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\t\tthis._setAggregation(group, apps, \"apps\");\n\t\t\tappsWrapper.destroyItems();\n\t\t\tthis._setAggregation(\n\t\t\t\tappsWrapper,\n\t\t\t\tgroup.getApps().map((app) => (this.getParent() as AppsContainer)._getAppTile(app))\n\t\t\t);\n\t\t\tthis._applyGroupedAppsPersonalization(groupId);\n\t\t\tthis._dispatchAppsLoadedEvent(apps);\n\t\t}\n\t}\n\n\t/**\n\t * Applies personalization to the grouped apps within the specified group.\n\t * @param {string} groupId - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _applyGroupedAppsPersonalization(groupId: string) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\tvoid this._applyTilesPersonalization(tiles, groupId);\n\t}\n\n\t/**\n\t * Applies Deprecated Info for apps inside the group.\n\t * @param {App[]} apps - The ID of the group to which the apps belong.\n\t * @private\n\t */\n\tprivate _dispatchAppsLoadedEvent(apps: App[]) {\n\t\tconst appsWrapper = this._controlMap.get(`${this.getId()}-detailDialog-apps`) as GridContainer;\n\t\tconst tiles = (appsWrapper?.getItems() || []) as GenericTile[];\n\t\t(this.getParent() as AppsContainer).fireEvent(\"appsLoaded\", { apps, tiles });\n\t}\n\n\t/**\n\t * Generates the group detail dialog.\n\t * @private\n\t * @returns {sap.m.Dialog} The generated detail dialog for the group.\n\t */\n\tprivate _generateGroupDetailDialog() {\n\t\tconst id = `${this.getId()}-detailDialog`;\n\t\tif (!this._controlMap.get(id)) {\n\t\t\t//group color icon\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-color`,\n\t\t\t\tnew Icon({\n\t\t\t\t\tid: `${id}-toolbar-color`,\n\t\t\t\t\tsrc: \"sap-icon://color-fill\",\n\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd\")\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-toolbar-title`,\n\t\t\t\tnew Title({\n\t\t\t\t\tid: `${id}-toolbar-title`,\n\t\t\t\t\tvisible: true\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tconst oInvisibleText = getInvisibleText(`${id}-toolbar-renameTitle`, this._i18nBundle.getText(\"renameGroup\"));\n\t\t\tthis._controlMap.set(`${id}-toolbar-renameTitle`, oInvisibleText);\n\n\t\t\tconst oGroupNameInput = new Input({\n\t\t\t\tid: `${id}-toolbar-title-edit`,\n\t\t\t\twidth: \"13.75rem\",\n\t\t\t\tvisible: false,\n\t\t\t\tariaLabelledBy: [`${id}-toolbar-renameTitle`]\n\t\t\t});\n\n\t\t\tthis._controlMap.set(`${id}-toolbar-title-edit`, oGroupNameInput);\n\n\t\t\t//apps wrapper\n\t\t\tconst appsWrapper = new GridContainer({\n\t\t\t\tid: `${id}-apps`,\n\t\t\t\tlayout: new GridContainerSettings(`${id}-appsLayout`, {\n\t\t\t\t\tcolumnSize: \"19rem\",\n\t\t\t\t\tgap: \"0.5rem\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapCuxAppsContainerBorder sapCuxAppsDetailContainerPadding\");\n\n\t\t\tthis._controlMap.set(`${id}-apps`, appsWrapper);\n\t\t\t//add apps button\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-addAppsBtn`,\n\t\t\t\tnew Button(`${id}-addAppsBtn`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tconst groupId = this._selectedGroupId;\n\t\t\t\t\t\tthis._closeGroupDetailDialog();\n\t\t\t\t\t\tthis._selectedGroupId = groupId;\n\t\t\t\t\t\tvoid this.navigateToAppFinder(groupId, this._selectedPageId);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis._controlMap.set(\n\t\t\t\tid,\n\t\t\t\tnew Dialog(id, {\n\t\t\t\t\tcontent: this._controlMap.get(`${id}-apps`) as HBox,\n\t\t\t\t\tcontentWidth: \"60.75rem\",\n\t\t\t\t\tendButton: new Button({\n\t\t\t\t\t\tid: `${id}-groupDetailCloseBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\t\t\tpress: this._closeGroupDetailDialog.bind(this)\n\t\t\t\t\t}),\n\t\t\t\t\tescapeHandler: this._closeGroupDetailDialog.bind(this),\n\t\t\t\t\tcustomHeader: new Toolbar(`${this.getId()}-toolbar`, {\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-color`) as Icon,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title`) as Title,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-title-edit`) as Input,\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-toolbar-renameTitle`) as InvisibleText,\n\t\t\t\t\t\t\tnew ToolbarSpacer({ id: `${this.getId()}-toolbarSpacer` }),\n\t\t\t\t\t\t\tthis._controlMap.get(`${id}-addAppsBtn`) as Button\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t}).addStyleClass(\"sapCuxGroupDetailDialog\")\n\t\t\t);\n\t\t}\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Closes the group detail dialog.\n\t * @private\n\t */\n\tprivate _closeGroupDetailDialog() {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tconst group = this._getGroup(this._selectedGroupId as string);\n\t\tgroup?.destroyApps();\n\t\tthis._selectedGroupId = undefined;\n\t\tgroupDetailDialog?.close();\n\t}\n\n\t/**\n\t * Sets the group name control in the detail dialog.\n\t * Shows input control to edit the group name in edit mode, otherwise, shows group name as title control.\n\t * @private\n\t * @param {string} groupTitle - The title of the group.\n\t * @param {boolean} editMode - Whether the dialog is in edit mode.\n\t */\n\tprivate _setGroupNameControl(groupTitle: string, editMode: boolean) {\n\t\tconst groupDetailDialog = this._controlMap.get(`${this.getId()}-detailDialog`) as Dialog;\n\t\tconst groupTitleControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title`) as Title;\n\t\tconst groupInputControl = this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title-edit`) as Input;\n\t\tgroupInputControl.setValue(groupTitle);\n\t\tgroupTitleControl.setText(groupTitle);\n\t\tgroupInputControl?.setVisible(editMode);\n\t\tgroupTitleControl?.setVisible(!editMode);\n\t\tif (editMode) {\n\t\t\t//in edit mode set the focus on input\n\t\t\tgroupDetailDialog.setInitialFocus(groupInputControl);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the press event of a group.\n\t * @param {Group$PressEvent} event - The press event object.\n\t * @private\n\t */\n\tprivate _handleGroupPress(event: Group$PressEvent) {\n\t\tconst groupId = event.getParameter(\"groupId\");\n\t\tconst pageId = event.getParameter(\"pageId\") || MYHOME_PAGE_ID;\n\t\tif (groupId) {\n\t\t\tvoid this._showGroupDetailDialog(groupId, false, pageId);\n\t\t}\n\t}\n\n\t/**\n\t * Generates illustrated message for favorite apps panel.\n\t * @private\n\t * @override\n\t * @returns {sap.m.IllustratedMessage} Illustrated error message.\n\t */\n\tprotected generateIllustratedMessage() {\n\t\tconst illustratedMessage = super.generateIllustratedMessage();\n\t\t//overrride the default title and add additional content\n\t\tillustratedMessage.setDescription(this._i18nBundle.getText(\"noFavAppsDescription\"));\n\t\tillustratedMessage.setIllustrationSize(IllustratedMessageSize.Small);\n\t\tillustratedMessage.setIllustrationType(IllustratedMessageType.AddingColumns);\n\t\tillustratedMessage.addAdditionalContent(\n\t\t\tnew Button(`${this.getId()}-errorMessage-addApps`, {\n\t\t\t\ttext: this._i18nBundle.getText(\"addApps\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addAppsTooltip\"),\n\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\tvisible: _showAddApps(),\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t},\n\t\t\t\ttype: \"Emphasized\"\n\t\t\t})\n\t\t);\n\t\treturn illustratedMessage;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":261,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ActionTile","ActionTileContent","Button","ContentConfig","Link","List","MessageBox","Popover","StandardListItem","TileAttribute","sap_m_library","NumberFormat","__MenuItem","__ToDoPanel","__DecisionDialog","___utils_Device","___utils_FESRUtil","___utils_TaskUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","ContentConfigType","LoadState","PlacementType","URLHelper","MenuItem","ToDoPanel","DecisionDialog","getIconFrameBadge","getIconFrameBadgeValueState","calculateDeviceType","DeviceType","fetchElementProperties","addFESRId","addFESRSemanticStepName","FESR_EVENTS","fetchUserDetails","formatDate","getPriority","getTaskUrl","Format","TextArrangement","Constants","GRID_VIEW_MIN_ROWS","GRID_VIEW_MAX_ROWS","GRID_VIEW_MIN_WIDTH","GRID_VIEW_TWO_COL_MIN_WIDTH","GRID_VIEW_MAX_WIDTH","CARD_HEIGHT","splitCards","cards","maxLength","cardSet","i","length","push","slice","TaskPanel","extend","metadata","library","properties","enableActions","type","group","defaultValue","visibility","customAttributeUrl","constructor","_constructor","id","settings","ToDoPanel.prototype.constructor.call","this","init","_init","ToDoPanel.prototype.init.call","_customAttributeMap","_taskDefinitionMap","setProperty","_i18nBundle","getText","_viewAllTasksMenuItem","getId","title","icon","visible","press","_onPressViewAll","bind","insertAggregation","contentWrapper","getContent","addStyleClass","generateRequestUrls","_generateRequestUrls","cardCount","urls","getCountUrl","getDataUrl","getCustomAttributeUrl","generateCardTemplate","_generateCardTemplate","context","attributes","getObject","map","attribute","index","label","contentConfig","text","href","mode","frameType","pressEnabled","enableIconFrame","enableDynamicHeight","enableNavigationButton","headerImage","badgeIcon","getProperty","badgeValueState","header","state","priority","priorityText","_toPriorityText","event","_onPressTask","tileContent","headerLink","_onClickCreatedBy","actionButtons","viewButton","getSource","getParent","firePress","PRESS","approveButton","_onActionButtonPress","undefined","rejectButton","overflowButton","Transparent","_onOverflowButtonPress","overflowButtons","_getOverflowButtonPopover","openBy","_overflowPopover","_overflowList","showHeader","content","placement","VerticalPreferredBottom","_setupOverflowList","destroyItems","forEach","actionButton","listItem","pressHandler","addItem","_loadCards","_getCustomAttributes","task","finalAttributes","maximumAttributeCount","customAttributes","TaskDefinitionID","custom_attribute","customAttribute","taskCustomAttributes","CustomAttributeData","results","existingAttribute","find","taskAttribute","Name","name","value","referenced","Text","format","_formatCustomAttribute","textArrangement","_arrangeText","Value","_addCommonAttributes","trim","description","ValueText","formattedValue","TextFirst","TextLast","TextOnly","TextSeparate","taskAttributes","findAttribute","attributeName","oAttribute","toUpperCase","currentAttribute","CURRENCYVALUE","reference","referencedAttribute","currencyFormatter","getCurrencyInstance","parseFloat","USER","FormattedValue","CompletionDeadline","CreatedOn","getTargetAppUrl","control","getBindingContext","loadState","url","Loading","redirect","_this","sourceControl","SAP__Origin","originId","CreatedBy","userId","TaskTitle","subject","CreatedByName","createdBy","InstanceID","link","triggerEmail","email","URL","window","location","hash","toString","Promise","resolve","userData","Email","require","serviceContainer","getServiceAsync","teamsHelper","_temp2","enableContactsCollaboration","_temp","encodeURIComponent","_teamsHelper$enableCo","popover","error","Error","message","String","reject","warning","onDataReceived","_onDataReceived","options","_this2","tasks","taskDefinitions","_extractCustomAttributes","_temp3","onlyCount","_updateTasks","updatedTasks","_oData","displayTiles","tiles","_this3","_addCustomAttributes","_temp4","getEnableActions","_getTaskDefintions","_downloadDecisionOptions","_addActions","key","actions","getTaskActions","getBaseUrl","_this4","decisionKeys","decisionURLs","Object","keys","reduce","includes","_temp5","_clearRequests","requests","baseURL","requestURLs","success","decisionOptions","_submitBatch","taskDefinition","CustomAttributeDefinitionData","filter","Rank","sort","attr1","attr2","Label","Type","Reference","Referenced","getNoDataText","_getNoDataText","getVerticalCardCount","_getVerticalCardCount","domRef","calculationProperties","domProperties","parentDomProperties","parentElement","titleHeight","calculateTitleHeight","availableHeight","height","horizontalCardCount","getHorizontalCardCount","isPlaceholder","gap","verticalCardCount","_isLoaded","rowHeights","maxAttributes","attributeCount","card","visibleRowCount","Math","min","_isGridLayoutAllowed","rowHeight","floor","max","_adjustLayout","ToDoPanel.prototype._adjustLayout.call","deviceType","LargeDesktop","XLargeDesktop","setTargetAppUrl","_setTargetAppUrl","targetAppUrl","setVisible"],"sources":["TaskPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ActionTile from \"sap/m/ActionTile\";\nimport ActionTileContent from \"sap/m/ActionTileContent\";\nimport Button from \"sap/m/Button\";\nimport ContentConfig from \"sap/m/ContentConfig\";\nimport Link, { Link$PressEvent } from \"sap/m/Link\";\nimport List from \"sap/m/List\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport TileAttribute from \"sap/m/TileAttribute\";\nimport { ButtonType, ContentConfigType, LoadState, PlacementType, URLHelper } from \"sap/m/library\";\nimport ServiceContainer from \"sap/suite/ui/commons/collaboration/ServiceContainer\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport NumberFormat from \"sap/ui/core/format/NumberFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport MenuItem from \"./MenuItem\";\nimport { $TaskPanelSettings } from \"./TaskPanel\";\nimport type { CalculationProperties, RequestOptions } from \"./ToDoPanel\";\nimport ToDoPanel from \"./ToDoPanel\";\nimport DecisionDialog, { ActionButton, DecisionOption, getIconFrameBadge, getIconFrameBadgeValueState } from \"./utils/DecisionDialog\";\nimport { calculateDeviceType, DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport { fetchUserDetails, formatDate, getPriority, getTaskUrl, TaskPriority } from \"./utils/TaskUtils\";\n\ninterface CustomAttribute {\n\tname?: string;\n\tlabel?: string;\n\ttext?: string;\n\ttype?: string;\n\thref?: string;\n\tformat?: string;\n\treference?: string;\n\treferenced?: string;\n\ttextArrangement?: TextArrangement;\n}\n\ninterface TaskCustomAttribute {\n\tName: string;\n\tValue: string;\n\tValueText: string;\n\tLabel: string;\n\tType: string;\n\tRank: number;\n\tFormat: string;\n\tFormattedValue: string;\n\tReference: string;\n\tReferenced: string;\n\tTextArrangement: TextArrangement;\n}\n\nexport interface Task {\n\tSAP__Origin: string;\n\tCreatedBy: string;\n\tTaskTitle: string;\n\tCreatedByName: string;\n\tInstanceID: string;\n\tTaskDefinitionID: string;\n\tCompletionDeadline: string;\n\tCreatedOn: string;\n\tactions: ActionButton[];\n\tPriority: TaskPriority;\n\tCustomAttributeData: {\n\t\tresults: TaskCustomAttribute[];\n\t};\n\tattributes: CustomAttribute[];\n}\n\ninterface TaskDefintion {\n\tSAP__Origin: string;\n\tInstanceID: string;\n\tTaskDefinitionID: string;\n}\n\ninterface TaskDefinitionCollection {\n\tTaskDefinitionID: string;\n\tCustomAttributeDefinitionData: {\n\t\tresults: TaskCustomAttribute[];\n\t};\n}\n\nenum Format {\n\tCURRENCYVALUE = \"CURRENCYVALUE\",\n\tCURRENCYCODE = \"CURRENCYCODE\",\n\tUSER = \"USER\"\n}\n\nenum TextArrangement {\n\tTextFirst = \"TextFirst\",\n\tTextLast = \"TextLast\",\n\tTextOnly = \"TextOnly\",\n\tTextSeparate = \"TextSeparate\"\n}\n\nconst Constants = {\n\tGRID_VIEW_MIN_ROWS: 1,\n\tGRID_VIEW_MAX_ROWS: 2,\n\tGRID_VIEW_MIN_WIDTH: 304,\n\tGRID_VIEW_TWO_COL_MIN_WIDTH: 374,\n\tGRID_VIEW_MAX_WIDTH: 583,\n\tCARD_HEIGHT: {\n\t\t// Cozy - Compact\n\t\t1: 220, // 214  - 226\n\t\t2: 272, // 265  - 278\n\t\t3: 324, // 318  - 330\n\t\t4: 376 // 370  - 382\n\t}\n};\n\n/**\n * Splits an array of task cards into smaller arrays, each with a maximum specified length.\n *\n * @param {Task[]} cards - The array of task cards to be split.\n * @param {number} maxLength - The maximum length of each sub-array.\n * @returns {Task[][]} - An array of sub-arrays, each containing a maximum of `maxLength` task cards.\n */\nfunction splitCards(cards: Task[], maxLength: number): Task[][] {\n\tconst cardSet = [];\n\tfor (let i = 0; i < cards.length; i += maxLength) {\n\t\tcardSet.push(cards.slice(i, i + maxLength));\n\t}\n\n\treturn cardSet;\n}\n\n/**\n *\n * Panel class for managing and storing Task cards.\n *\n * @extends ToDoPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.TaskPanel\n */\nexport default class TaskPanel extends ToDoPanel {\n\tprivate _customAttributeMap!: Record<string, CustomAttribute[]>;\n\tprivate _taskDefinitionMap!: Record<string, DecisionOption[]>;\n\tprivate _viewAllTasksMenuItem!: MenuItem;\n\tprivate _overflowPopover!: Popover;\n\tprivate _overflowList!: List;\n\n\tconstructor(id?: string | $TaskPanelSettings);\n\tconstructor(id?: string, settings?: $TaskPanelSettings);\n\t/**\n\t * Constructor for a new Task Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $TaskPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies if actions should be enabled for the task cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tenableActions: { type: \"boolean\", group: \"Data\", defaultValue: false, visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL that fetches the custom attributes to be displayed along with the task cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcustomAttributeUrl: { type: \"string\", group: \"Data\", defaultValue: \"\", visibility: \"public\" }\n\t\t}\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis._customAttributeMap = {};\n\t\tthis._taskDefinitionMap = {};\n\n\t\t//Configure Header\n\t\tthis.setProperty(\"key\", \"tasks\");\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"tasksTabTitle\"));\n\n\t\t//Setup Menu Items - ensure that 'View All Tasks' item is the first item in the list\n\t\tthis._viewAllTasksMenuItem = new MenuItem(`${this.getId()}-view-tasks-btn`, {\n\t\t\ttitle: this._i18nBundle.getText(\"viewAllTasksTitle\"),\n\t\t\ticon: \"sap-icon://inbox\",\n\t\t\tvisible: false,\n\t\t\tpress: this._onPressViewAll.bind(this)\n\t\t});\n\t\tthis.insertAggregation(\"menuItems\", this._viewAllTasksMenuItem, 0);\n\t\taddFESRId(this._viewAllTasksMenuItem, \"goToTaskSitution\");\n\n\t\t//Add custom styles\n\t\tconst [contentWrapper] = this.getContent() || [];\n\t\tcontentWrapper?.addStyleClass(\"sapUiGridTaskLayout\");\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t * Overridden method to provide task-specific URLs.\n\t *\n\t * @private\n\t * @override\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst urls = [this.getCountUrl(), `${this.getDataUrl()},CustomAttributeData&$expand=CustomAttributeData&$skip=0&$top=${cardCount}`];\n\n\t\tconst customAttributeUrl = this.getCustomAttributeUrl();\n\t\tif (customAttributeUrl) {\n\t\t\turls.push(customAttributeUrl);\n\t\t}\n\n\t\treturn urls;\n\t}\n\n\t/**\n\t * Generates a card template for tasks.\n\t * Overridden method from To-Do panel to generate task-specific card template.\n\t *\n\t * @private\n\t * @override\n\t * @param {string} id The ID for the template card.\n\t * @param {Context} context The context object.\n\t * @returns {Control} The generated card control template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\tconst attributes = (context.getObject() as Task).attributes?.map((attribute, index) => {\n\t\t\treturn new TileAttribute(`${id}-${index}-attribute`, {\n\t\t\t\tlabel: attribute.label as string,\n\t\t\t\tcontentConfig: new ContentConfig(`${id}-${index}-contentConfig`, {\n\t\t\t\t\ttype: attribute.type as ContentConfigType,\n\t\t\t\t\ttext: attribute.text as string,\n\t\t\t\t\thref: attribute.href as string\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\n\t\treturn new ActionTile(`${id}-actionTile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\tenableIconFrame: true,\n\t\t\tenableDynamicHeight: true,\n\t\t\tenableNavigationButton: true,\n\t\t\theaderImage: \"sap-icon://workflow-tasks\",\n\t\t\tbadgeIcon: getIconFrameBadge(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\tbadgeValueState: getIconFrameBadgeValueState(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\theader: context.getProperty(\"TaskTitle\") as string,\n\t\t\tstate: context.getProperty(\"loadState\") as LoadState,\n\t\t\tpriority: getPriority(context.getProperty(\"Priority\") as TaskPriority),\n\t\t\tpriorityText: this._toPriorityText(getPriority(context.getProperty(\"Priority\") as TaskPriority)),\n\t\t\tpress: (event: Event) => this._onPressTask(event),\n\t\t\ttileContent: [\n\t\t\t\tnew ActionTileContent(`${id}-actionTileContent`, {\n\t\t\t\t\theaderLink: new Link({\n\t\t\t\t\t\ttext: context.getProperty(\"CreatedByName\") as string,\n\t\t\t\t\t\tpress: (event: Event): void => {\n\t\t\t\t\t\t\tvoid this._onClickCreatedBy(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tattributes\n\t\t\t\t})\n\t\t\t],\n\t\t\tactionButtons: [\n\t\t\t\t(() => {\n\t\t\t\t\tconst viewButton = new Button(`${id}-view-btn`, {\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"viewButton\"),\n\t\t\t\t\t\tpress: (event: Event) => (event.getSource<Button>().getParent() as ActionTile).firePress(),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/length\") === 0\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(viewButton, FESR_EVENTS.PRESS, \"todoActionViewBtn\");\n\t\t\t\t\treturn viewButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst approveButton = new Button(`${id}-approve-btn`, {\n\t\t\t\t\t\ttext: context.getProperty(\"actions/0/text\") as string,\n\t\t\t\t\t\ttype: context.getProperty(\"actions/0/type\") as ButtonType,\n\t\t\t\t\t\tpress: () => this._onActionButtonPress(context.getProperty(\"actions/0/pressHandler\") as () => void),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/0\") !== undefined\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(approveButton, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\t\t\treturn approveButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst rejectButton = new Button(`${id}-reject-btn`, {\n\t\t\t\t\t\ttext: context.getProperty(\"actions/1/text\") as string,\n\t\t\t\t\t\ttype: context.getProperty(\"actions/1/type\") as ButtonType,\n\t\t\t\t\t\tpress: () => this._onActionButtonPress(context.getProperty(\"actions/1/pressHandler\") as () => void),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/1\") !== undefined\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(rejectButton, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\t\t\treturn rejectButton;\n\t\t\t\t})(),\n\t\t\t\t(() => {\n\t\t\t\t\tconst overflowButton = new Button(`${id}-overflow-btn`, {\n\t\t\t\t\t\ticon: \"sap-icon://overflow\",\n\t\t\t\t\t\ttype: ButtonType.Transparent,\n\t\t\t\t\t\tpress: (event: Event) => this._onOverflowButtonPress(event, context),\n\t\t\t\t\t\tvisible: context.getProperty(\"actions/length\") >= 3\n\t\t\t\t\t});\n\t\t\t\t\taddFESRSemanticStepName(overflowButton, FESR_EVENTS.PRESS, \"todoActBtnOverflow\");\n\t\t\t\t\treturn overflowButton;\n\t\t\t\t})()\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Handles the press event of the overflow button.\n\t * Opens a Popover containing overflow actions.\n\t *\n\t * @private\n\t * @param {Event} event - The press event triggered by the overflow button.\n\t * @param {Context} context - The context containing all actions.\n\t * @returns {void}\n\t */\n\tprivate _onOverflowButtonPress(event: Event, context: Context): void {\n\t\tconst overflowButtons = (context.getProperty(\"actions\") as ActionButton[]).slice(2);\n\t\tthis._getOverflowButtonPopover(overflowButtons).openBy(event.getSource<Button>());\n\t}\n\n\t/**\n\t * Creates or retrieves the overflow button Popover.\n\t *\n\t * @private\n\t * @param {ActionButton[]} actionButtons - The array of overflow actions.\n\t * @returns {Popover} The overflow button Popover.\n\t */\n\tprivate _getOverflowButtonPopover(actionButtons: ActionButton[]): Popover {\n\t\tif (!this._overflowPopover) {\n\t\t\tthis._overflowList = new List(`${this.getId()}-overflowList`);\n\t\t\tthis._overflowPopover = new Popover(`${this.getId()}-overflowPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tcontent: this._overflowList,\n\t\t\t\tplacement: PlacementType.VerticalPreferredBottom\n\t\t\t});\n\t\t}\n\n\t\t//setup task-specific with task-specific actions\n\t\tthis._setupOverflowList(actionButtons);\n\t\treturn this._overflowPopover;\n\t}\n\n\t/**\n\t * Sets up the overflow button list with the provided task-specific actions.\n\t *\n\t * @private\n\t * @param {ActionButton[]} actionButtons - The array of overflow actions.\n\t * @returns {void}\n\t */\n\tprivate _setupOverflowList(actionButtons: ActionButton[]): void {\n\t\tthis._overflowList.destroyItems();\n\t\tactionButtons.forEach((actionButton, index) => {\n\t\t\tconst listItem = new StandardListItem(`action-${index}`, {\n\t\t\t\ttitle: actionButton.text,\n\t\t\t\ttype: \"Active\",\n\t\t\t\tpress: () => this._onActionButtonPress(actionButton.pressHandler as () => void)\n\t\t\t});\n\t\t\taddFESRSemanticStepName(listItem, FESR_EVENTS.PRESS, \"todoActionBtn\");\n\t\t\tthis._overflowList.addItem(listItem);\n\t\t});\n\t}\n\n\t/**\n\t * Handles the button press event and executes the provided press handler function,\n\t * which refreshes the UI after the button press action.\n\t *\n\t * @private\n\t * @param {Function} pressHandler - The function to be executed when the button is pressed.\n\t * @returns {void}\n\t */\n\tprivate _onActionButtonPress(pressHandler: (refreshFn: () => Promise<void>) => void): void {\n\t\tpressHandler(this._loadCards.bind(this));\n\t}\n\n\t/**\n\t * Retrieves custom attributes for a given task and formats them for display.\n\t * If the task has completion deadline and creation date, those attributes are also included.\n\t * If the task has a creator, the creator's name is included as well.\n\t *\n\t * @param {Task} task - The task object for which custom attributes are retrieved.\n\t * @returns {CustomAttribute[]} - An array of formatted custom attributes.\n\t */\n\tprivate _getCustomAttributes(task: Task): CustomAttribute[] {\n\t\tconst finalAttributes = [];\n\t\tconst maximumAttributeCount = 4;\n\t\tconst customAttributes = this._customAttributeMap[task.TaskDefinitionID] || [];\n\n\t\tfor (let custom_attribute of customAttributes) {\n\t\t\tconst customAttribute = custom_attribute;\n\t\t\tconst taskCustomAttributes = task.CustomAttributeData?.results;\n\t\t\tconst existingAttribute = taskCustomAttributes.find((taskAttribute) => {\n\t\t\t\treturn taskAttribute.Name === customAttribute.name;\n\t\t\t});\n\t\t\tlet value = \"\";\n\n\t\t\tif (existingAttribute && !customAttribute.referenced) {\n\t\t\t\tconst attribute: CustomAttribute = {\n\t\t\t\t\tlabel: customAttribute.label + \":\",\n\t\t\t\t\ttype: ContentConfigType.Text\n\t\t\t\t};\n\n\t\t\t\tif (customAttribute.format) {\n\t\t\t\t\tvalue = this._formatCustomAttribute(customAttribute, taskCustomAttributes);\n\t\t\t\t} else if (customAttribute.textArrangement) {\n\t\t\t\t\tvalue = this._arrangeText(existingAttribute, customAttribute.textArrangement);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = customAttribute.type === \"Edm.DateTime\" ? formatDate(existingAttribute.Value) : existingAttribute.Value;\n\t\t\t\t}\n\t\t\t\tattribute.text = value || \"-\";\n\t\t\t\tfinalAttributes.push(attribute);\n\t\t\t}\n\t\t}\n\n\t\t// add common attributes\n\t\tthis._addCommonAttributes(finalAttributes, task);\n\n\t\treturn finalAttributes.slice(0, maximumAttributeCount);\n\t}\n\n\t/**\n\t * Formats the given unit of measure value and description based on the specified text arrangement.\n\t *\n\t * @private\n\t * @param {TaskCustomAttribute} customAttribute The custom attribute object.\n\t * @param {TextArrangement} textArrangement The text arrangement option.\n\t * @returns {string} The formatted value.\n\t */\n\tprivate _arrangeText(customAttribute: TaskCustomAttribute, textArrangement: TextArrangement): string {\n\t\tconst value = customAttribute.Value.trim();\n\t\tconst description = customAttribute.ValueText.trim();\n\t\tlet formattedValue = \"\";\n\n\t\tswitch (textArrangement) {\n\t\t\tcase TextArrangement.TextFirst:\n\t\t\t\tformattedValue = `${description} (${value})`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextLast:\n\t\t\t\tformattedValue = `${value} (${description})`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextOnly:\n\t\t\t\tformattedValue = `${description}`;\n\t\t\t\tbreak;\n\t\t\tcase TextArrangement.TextSeparate:\n\t\t\t\tformattedValue = `${value}`;\n\t\t\t\tbreak;\n\t\t\tdefault: // TextFirst\n\t\t\t\tformattedValue = `${description} ${value})`;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn formattedValue;\n\t}\n\n\t/**\n\t * Formats a custom attribute value based on its format type.\n\t *\n\t * @param {CustomAttribute} customAttribute - The custom attribute object.\n\t * @param {TaskCustomAttribute[]} taskAttributes - The array of task attributes.\n\t * @returns {string} - The formatted value.\n\t */\n\tprivate _formatCustomAttribute(customAttribute: CustomAttribute, taskAttributes: TaskCustomAttribute[] = []): string {\n\t\tconst findAttribute = (attributeName: string) => {\n\t\t\treturn taskAttributes.find((oAttribute) => {\n\t\t\t\treturn oAttribute.Name === attributeName;\n\t\t\t});\n\t\t};\n\t\tconst format = customAttribute.format?.toUpperCase();\n\t\tconst currentAttribute = findAttribute(customAttribute.name as string);\n\t\tlet formattedValue = currentAttribute?.Value;\n\n\t\t// Format = CurrencyValue\n\t\tif (format === Format.CURRENCYVALUE && customAttribute.reference) {\n\t\t\tconst referencedAttribute = findAttribute(customAttribute.reference);\n\n\t\t\tif (referencedAttribute) {\n\t\t\t\tconst currencyFormatter = NumberFormat.getCurrencyInstance();\n\t\t\t\tformattedValue = currencyFormatter.format(parseFloat(currentAttribute?.Value as string), referencedAttribute.Value);\n\t\t\t}\n\t\t} else if (format === Format.USER) {\n\t\t\tformattedValue = currentAttribute?.FormattedValue || currentAttribute?.Value;\n\t\t}\n\n\t\treturn formattedValue as string;\n\t}\n\n\t/**\n\t * Adds common attributes to the final attributes list based on the provided task.\n\t * Common attributes include completion deadline, creation date, and creator's name.\n\t *\n\t * @param {CustomAttribute[]} finalAttributes - The array of custom attributes to which the common attributes will be added.\n\t * @param {Task} task - The task object containing data for common attributes.\n\t */\n\tprivate _addCommonAttributes(finalAttributes: CustomAttribute[], task: Task): void {\n\t\tif (task.CompletionDeadline) {\n\t\t\tfinalAttributes.push({\n\t\t\t\tlabel: this._i18nBundle.getText(\"dueDate\") + \":\",\n\t\t\t\ttext: formatDate(task.CompletionDeadline, \"MMM dd, YYYY hh:mm a\"),\n\t\t\t\ttype: ContentConfigType.Text\n\t\t\t});\n\t\t}\n\n\t\tif (task.CreatedOn) {\n\t\t\tfinalAttributes.push({\n\t\t\t\tlabel: this._i18nBundle.getText(\"createdOn\") + \":\",\n\t\t\t\ttext: formatDate(task.CreatedOn),\n\t\t\t\ttype: ContentConfigType.Text\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Handles the press event of a task.\n\t *\n\t * @private\n\t * @param {Event} event - The press event.\n\t */\n\tprivate _onPressTask(event: Event) {\n\t\tif (this.getTargetAppUrl()) {\n\t\t\tconst control = event.getSource<ActionTile>();\n\t\t\tconst context = control.getBindingContext();\n\t\t\tconst loadState = context?.getProperty(\"loadState\") as LoadState;\n\t\t\tconst url = getTaskUrl(\n\t\t\t\tcontext?.getProperty(\"SAP__Origin\") as string,\n\t\t\t\tcontext?.getProperty(\"InstanceID\") as string,\n\t\t\t\tthis.getTargetAppUrl()\n\t\t\t);\n\n\t\t\tif (loadState !== LoadState.Loading) {\n\t\t\t\tURLHelper.redirect(url, false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles the click event on the \"Created By\" link.\n\t * Triggers email or opens a contact card if configuration is enabled\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t */\n\tprivate async _onClickCreatedBy(event: Link$PressEvent): Promise<void> {\n\t\tconst sourceControl = event.getSource();\n\t\tconst {\n\t\t\tSAP__Origin: originId,\n\t\t\tCreatedBy: userId,\n\t\t\tTaskTitle: subject,\n\t\t\tCreatedByName: createdBy,\n\t\t\tInstanceID\n\t\t} = event.getSource().getBindingContext()?.getObject() as Task;\n\t\tconst link = getTaskUrl(originId, InstanceID, this.getTargetAppUrl());\n\t\tconst triggerEmail = (email: string, { subject, body }: { subject: string; body: string }) => {\n\t\t\tURLHelper.triggerEmail(email, subject, body);\n\t\t};\n\t\tconst url = new URL(window.location.href);\n\t\turl.hash = link;\n\t\tconst body = url.toString();\n\n\t\tconst userData = await fetchUserDetails(originId, userId);\n\t\tif (userData.Email) {\n\t\t\tsap.ui.require([\"sap/suite/ui/commons/collaboration/ServiceContainer\"], async (serviceContainer: ServiceContainer) => {\n\t\t\t\tconst teamsHelper = await serviceContainer.getServiceAsync();\n\n\t\t\t\tif (teamsHelper.enableContactsCollaboration) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst popover = (await teamsHelper.enableContactsCollaboration(userData.Email as string, {\n\t\t\t\t\t\t\tsubject,\n\t\t\t\t\t\t\tbody: encodeURIComponent(body)\n\t\t\t\t\t\t})) as Popover;\n\t\t\t\t\t\tpopover.openBy(sourceControl);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\t\t\ttriggerEmail(userData.Email as string, { subject, body });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttriggerEmail(userData.Email as string, { subject, body });\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tMessageBox.warning(this._i18nBundle.getText(\"noEmail\", [createdBy]) as string);\n\t\t}\n\t}\n\n\t/**\n\t * Hook for processing data fetched from a batch call.\n\t * This method can be overridden to perform additional data processing operations.\n\t * In this implementation, it is consumed to handle task-related data, particularly\n\t * for extracting custom attributes if action cards are enabled.\n\t *\n\t * @private\n\t * @async\n\t * @param {unknown[]} results - Data retrieved from the batch call. Structure may vary based on the backend service.\n\t * @param {RequestOptions} options - Additional options for parsing the data.\n\t * @returns {Promise<void>} A Promise that resolves when the data processing is complete.\n\t */\n\tpublic async onDataReceived(results: unknown[], options: RequestOptions): Promise<void> {\n\t\tconst [tasks, taskDefinitions] = results;\n\t\tthis._extractCustomAttributes(taskDefinitions as TaskDefinitionCollection[]);\n\n\t\tif (!options || (options && !options.onlyCount)) {\n\t\t\tconst updatedTasks = await this._updateTasks(tasks as Task[]);\n\t\t\tthis._oData.displayTiles = this._oData.tiles = updatedTasks;\n\t\t}\n\t}\n\n\t/**\n\t * Updates the tasks with attributes and actions.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to update.\n\t * @returns {Promise<Task[]>} A promise that resolves with the updated array of tasks.\n\t */\n\tprivate async _updateTasks(tasks: Task[] = []): Promise<Task[]> {\n\t\t//add custom attributes to tasks\n\t\tlet updatedTasks = this._addCustomAttributes(tasks);\n\n\t\t//add actions to tasks\n\t\tif (this.getEnableActions()) {\n\t\t\t//calculate unique task definitions\n\t\t\tconst taskDefinitions = this._getTaskDefintions(updatedTasks);\n\n\t\t\t//download decision options for task defintions\n\t\t\tawait this._downloadDecisionOptions(taskDefinitions);\n\n\t\t\t//append actions\n\t\t\tupdatedTasks = this._addActions(updatedTasks);\n\t\t}\n\n\t\treturn updatedTasks;\n\t}\n\n\t/**\n\t * Adds custom attributes to each task in the provided array.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to which custom attributes will be added.\n\t * @returns {Task[]} - A new array of tasks, each with added custom attributes.\n\t */\n\tprivate _addCustomAttributes(tasks: Task[]): Task[] {\n\t\treturn tasks.map((task) => ({\n\t\t\t...task,\n\t\t\tattributes: this._getCustomAttributes(task)\n\t\t}));\n\t}\n\n\t/**\n\t * Adds actions to the tasks based on their task definitions.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks to which actions will be added.\n\t * @returns {Task[]} The array of tasks with actions added.\n\t */\n\tprivate _addActions(tasks: Task[]): Task[] {\n\t\treturn tasks.map((task) => {\n\t\t\tconst key = task.SAP__Origin + task.TaskDefinitionID;\n\t\t\treturn {\n\t\t\t\t...task,\n\t\t\t\tactions: this._taskDefinitionMap[key]\n\t\t\t\t\t? DecisionDialog.getTaskActions(task, this.getBaseUrl(), this._taskDefinitionMap, this._i18nBundle)\n\t\t\t\t\t: []\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Downloads decision options for the provided task definitions.\n\t *\n\t * @private\n\t * @param {Record<string, TaskDefinition>} taskDefinitions - The task definitions for which decision options will be downloaded.\n\t * @returns {Promise<void>} A promise that resolves when all decision options are downloaded and processed.\n\t */\n\tprivate async _downloadDecisionOptions(taskDefinitions: Record<string, TaskDefintion>): Promise<void> {\n\t\tconst decisionKeys: string[] = [];\n\t\tconst decisionURLs = Object.keys(taskDefinitions).reduce((urls: string[], key) => {\n\t\t\tif (!Object.keys(this._taskDefinitionMap).includes(key)) {\n\t\t\t\tdecisionKeys.push(key);\n\t\t\t\tthis._taskDefinitionMap[key] = [];\n\n\t\t\t\tconst { SAP__Origin, InstanceID } = taskDefinitions[key];\n\t\t\t\turls.push(`DecisionOptions?SAP__Origin='${SAP__Origin}'&InstanceID='${InstanceID}'`);\n\t\t\t}\n\t\t\treturn urls;\n\t\t}, []);\n\n\t\tif (decisionURLs.length) {\n\t\t\tthis._clearRequests();\n\t\t\tthis.requests.push({\n\t\t\t\tbaseURL: this.getBaseUrl(),\n\t\t\t\trequestURLs: decisionURLs,\n\t\t\t\tsuccess: (results: DecisionOption[][]): Promise<void> => {\n\t\t\t\t\tresults.forEach((decisionOptions: DecisionOption[], index) => {\n\t\t\t\t\t\tthis._taskDefinitionMap[decisionKeys[index]] = decisionOptions;\n\t\t\t\t\t});\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this._submitBatch();\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves unique task definitions from the provided array of tasks.\n\t *\n\t * @private\n\t * @param {Task[]} tasks - The array of tasks from which to retrieve task definitions.\n\t * @returns {Record<string, TaskDefintion>} An object containing unique task definitions.\n\t */\n\tprivate _getTaskDefintions(tasks: Task[] = []): Record<string, TaskDefintion> {\n\t\tconst taskDefinitions: Record<string, TaskDefintion> = {};\n\t\ttasks.forEach((task) => {\n\t\t\tconst key = task.SAP__Origin + task.TaskDefinitionID;\n\t\t\tif (!taskDefinitions[key]) {\n\t\t\t\ttaskDefinitions[key] = {\n\t\t\t\t\tSAP__Origin: task.SAP__Origin,\n\t\t\t\t\tInstanceID: task.InstanceID,\n\t\t\t\t\tTaskDefinitionID: task.TaskDefinitionID\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\treturn taskDefinitions;\n\t}\n\n\t/**\n\t * Extracts Custom Attribute Information to create an attribute map from raw attribute data\n\t * received from call, which is used while task processing\n\t *\n\t * @private\n\t * @param {TaskDefinitionCollection[]} taskDefinitions - array of raw tasks definitions\n\t */\n\tprivate _extractCustomAttributes(taskDefinitions: TaskDefinitionCollection[] = []): void {\n\t\ttaskDefinitions.forEach((taskDefinition: TaskDefinitionCollection) => {\n\t\t\tconst customAttributes = taskDefinition.CustomAttributeDefinitionData?.results || [];\n\t\t\tthis._customAttributeMap[taskDefinition.TaskDefinitionID] = customAttributes\n\t\t\t\t.filter((oAttribute) => oAttribute.Rank > 0)\n\t\t\t\t.sort((attr1, attr2) => attr2.Rank - attr1.Rank)\n\t\t\t\t.map((oAttribute) => ({\n\t\t\t\t\tname: oAttribute.Name,\n\t\t\t\t\tlabel: oAttribute.Label,\n\t\t\t\t\ttype: oAttribute.Type,\n\t\t\t\t\tformat: oAttribute.Format,\n\t\t\t\t\treference: oAttribute.Reference,\n\t\t\t\t\treferenced: oAttribute.Referenced,\n\t\t\t\t\ttextArrangement: oAttribute.TextArrangement\n\t\t\t\t}));\n\t\t});\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @private\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noTaskTitle\") as string;\n\t}\n\n\t/**\n\t * Calculates the number of vertical cards that can fit within the available height of the given DOM element.\n\t *\n\t * @private\n\t * @override\n\t * @param {Element} domRef - The DOM element to calculate the vertical card count for.\n\t * @returns {number} - The number of vertical cards that can fit within the available height.\n\t */\n\tpublic getVerticalCardCount(domRef: Element, calculationProperties?: CalculationProperties): number {\n\t\tconst domProperties = fetchElementProperties(domRef, [\"padding-top\"]);\n\t\tconst parentDomProperties = fetchElementProperties(domRef.parentElement as Element, [\"height\"]);\n\t\tconst titleHeight = this.calculateTitleHeight();\n\t\tconst availableHeight = parentDomProperties.height - domProperties[\"padding-top\"] * 2 - titleHeight;\n\t\tconst horizontalCardCount = this.getHorizontalCardCount(domRef);\n\t\tconst isPlaceholder = calculationProperties?.isPlaceholder;\n\t\tconst gap = 16;\n\t\tlet height = 0;\n\t\tlet verticalCardCount = 0;\n\n\t\tif (this._isLoaded()) {\n\t\t\tconst cardSet = splitCards(this._oData.tiles as Task[], horizontalCardCount);\n\t\t\tconst rowHeights = cardSet.map((cards: Task[]) => {\n\t\t\t\tconst maxAttributes = cards.reduce(function (attributeCount: number, card: Task) {\n\t\t\t\t\tcard.attributes = card.attributes || [];\n\t\t\t\t\treturn card.attributes.length > attributeCount ? card.attributes.length : attributeCount;\n\t\t\t\t}, 1);\n\n\t\t\t\tlet visibleRowCount = Math.min(maxAttributes, 4);\n\t\t\t\tif (this._isGridLayoutAllowed()) {\n\t\t\t\t\t// If grid view is enabled, restrict the card height to 2 rows\n\t\t\t\t\tvisibleRowCount =\n\t\t\t\t\t\tvisibleRowCount > Constants.GRID_VIEW_MAX_ROWS ? Constants.GRID_VIEW_MAX_ROWS : Constants.GRID_VIEW_MIN_ROWS;\n\t\t\t\t}\n\n\t\t\t\treturn Constants.CARD_HEIGHT[visibleRowCount as keyof typeof Constants.CARD_HEIGHT] + gap;\n\t\t\t});\n\n\t\t\tfor (let rowHeight of rowHeights) {\n\t\t\t\tif (height + rowHeight < availableHeight) {\n\t\t\t\t\theight += rowHeight;\n\t\t\t\t\tverticalCardCount++;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tverticalCardCount = Math.floor(availableHeight / Constants.CARD_HEIGHT[isPlaceholder ? \"4\" : \"1\"]);\n\t\t}\n\n\t\treturn Math.max(verticalCardCount, 2);\n\t}\n\n\t/**\n\t * Adjusts the layout based on card count and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout(): void {\n\t\tsuper._adjustLayout();\n\n\t\tthis.setProperty(\n\t\t\t\"minCardWidth\",\n\t\t\tthis._isGridLayoutAllowed() ? Constants.GRID_VIEW_TWO_COL_MIN_WIDTH : Constants.GRID_VIEW_MIN_WIDTH\n\t\t);\n\t\tthis.setProperty(\"maxCardWidth\", Constants.GRID_VIEW_MAX_WIDTH);\n\t}\n\n\t/**\n\t * Determines if grid view is allowed for displaying card content based on the device type.\n\t *\n\t * @returns {boolean} `true` if the device type is either Desktop or LargeDesktop, otherwise `false`.\n\t */\n\tprotected _isGridLayoutAllowed(): boolean {\n\t\tconst deviceType = calculateDeviceType();\n\t\treturn deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop;\n\t}\n\n\t/**\n\t * Sets the target application URL and updates the visibility of the \"View All Tasks\" menu item.\n\t *\n\t * @param {string} targetAppUrl - The URL of the target application.\n\t * @returns {this} The current instance of the TaskPanel for method chaining.\n\t */\n\tpublic setTargetAppUrl(targetAppUrl: string): this {\n\t\tthis._viewAllTasksMenuItem.setVisible(!!targetAppUrl);\n\t\tthis.setProperty(\"targetAppUrl\", targetAppUrl);\n\t\treturn this;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":266,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","GridContainer","GridContainerItemLayoutData","Button","CustomListItem","Dialog","GenericTile","HBox","HeaderContainer","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","Label","List","ObjectIdentifier","Title","VBox","sap_m_library","EventBus","Icon","Lib","JSONModel","Config","Container","S4MyHome","__BasePanel","__MenuItem","___utils_Accessibility","__AppManager","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","___utils_InsightsUtils","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","_finallyRethrows","finalizer","bind","LoadState","BasePanel","MenuItem","checkPanelExists","AppManager","DEFAULT_BG_COLOR","END_USER_COLORS","MYHOME_PAGE_ID","MYINSIGHT_SECTION_ID","SETTINGS_PANELS_KEYS","recycleId","DeviceType","fetchElementProperties","focusDraggedItem","addFESRId","addFESRSemanticStepName","FESR_EVENTS","createShowMoreActionButton","createShowMoreMenuItem","getAssociatedFullScreenMenuItem","sortMenuItems","tilesMenuItems","tilesContainerMenuItems","tilesActionButtons","tilesContainerActionButtons","DisplayFormat","favAppPanelName","appsConatinerlName","sortedMenuItems","REFRESH","ADD_APPS","EDIT_TILES","_showAddApps","last","StandardTileWidth","StandardWideTileWidth","Gap","TilesPanel","extend","metadata","library","properties","title","type","group","defaultValue","visibility","key","fullScreenName","defaultAggregation","aggregations","content","multiple","singularName","tiles","events","handleHidePanel","parameters","handleUnhidePanel","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","this","_insightsSectionTitle","_i18nBundle","getText","_addFromFavDialogId","getId","aInsightsApps","_headerVisible","init","_init","_this","BasePanel.prototype.init.call","_controlMap","Map","_oData","activateInsightsTiles","activateInsightsTilesOnPhone","activateInsightsTilesOnDesktop","_controlModel","appManagerInstance","getInstance","setProperty","refreshMenuItem","_createRefreshMenuItem","editTilesMenuItem","_createEditTilesMenuItem","menuItems","forEach","menuItem","addAggregation","_sortMenuItems","addTilesButton","_createAddTilesButton","ADD_TILES","actionButtons","actionButton","_createTilesFlexWrapper","getServiceAsync","VizInstantiationService","catch","error","Error","message","String","oEventBus","subscribe","sChannelId","sEventId","oData","Promise","resolve","createInsightSection","_addSectionViz","refreshData","_adjustLayout","_importdone","reject","_toggleTileActivity","_this2","toggleUserActions","event","show","getParameter","_temp2","_temp","_appSwitched","attachRouteMatched","warning","aSectionViz","sSectionId","reduce","promiseChain","oViz","isBookmark","addBookMark","addVisualization","vizId","stateData","status","publish","_showPlaceHolders","placeholderArray","Array","_calculatePlaceholderTileCount","fill","Loading","map","tileState","index","sizeBehavior","state","frameType","mode","visible","renderOnThemeChange","ariaRole","dropAreaOffset","setLayoutData","columns","undefined","_clearPlaceHolders","renderPanel","_renderPanel","_exit","_this3","_temp4","_result","_temp3","container","getParent","addFromFavAppMenuItem","_createAddFromFavMenuItem","_await$_this3$refresh","fireHandleHidePanel","_wasThrown","fireEvent","panelMenuItems","getAggregation","removeAllAggregation","_refreshData","refreshTiles","_this4","panelName","getMetadata","getName","fetchInsightApps","_this4$appManagerInst","_temp6","length","fireHandleUnhidePanel","isMobile","getDeviceType","Mobile","tilesMobileContainer","tilesContainer","sDefaultAggreName","getDefaultAggregationName","dynamicTiles","refresh","_getInsightsContainer","updatePanelsItemCount","bIsSmartBusinessTilePresent","some","oApp","isSmartBusinessTile","_temp5","load","name","_tilesWrapper","renderType","width","items","_createMobileFlexWrapper","_createWrapperFlexBox","setModel","addContent","scrollStep","scrollStepByItem","gridLayout","scrollTime","showDividers","addStyleClass","_attachAggregationToContainer","_updateTilesActivity","isPhoneScreen","bActivateInsightsTiles","Boolean","getProperty","bindAggregation","path","factory","context","getObject","oVisualization","instantiateVisualization","visualization","minRows","getDisplayFormat","Standard","bindProperty","_setDropAreaRectFunction","addDragDropConfigTo","oEvent","_handleTilesDnd","tilesDropAreaOffset","vizObj","getDropAreaRect","Object","defineProperty","value","domRef","getDomRef","mDropRect","getBoundingClientRect","left","right","top","bottom","height","sInsertPosition","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_DragnDropTiles","_this5","oDisplacedItem","oItemMoved","splice","moveConfigs","pageId","sourceSectionIndex","persConfig","sectionIndex","sourceVisualizationIndex","visualizationIndex","targetSectionIndex","targetVisualizationIndex","moveVisualization","setTimeout","handleEditTiles","_handleEditTiles","parent","getSource","_getLayout","openSettingsDialog","INSIGHTS_TILES","handleHideHeader","_handleHideHeader","_toggleHeaderActions","handleAddHeader","_handleAddHeader","_closeAddFromFavDialog","list","get","removeSelections","close","navigateToAppFinder","_navigateToAppFinder","navigationService","navigationObject","pageID","sectionID","navigate","target","shellHash","JSON","stringify","_getLegendColor","color","find","oColor","_handleAddFromFavApps","_this6","_getFavToAdd","appsToAdd","dialog","_generateAddFromFavAppsDialog","setVisible","_generateAddFromFavAppsListItems","open","_this7","fetchFavVizs","aFavApps","aDynamicApps","filter","oDynApp","isCount","aFilteredFavApps","iAppIndex","findIndex","oInsightApps","targetURL","_getSelectedInsights","getSelectedItems","destroyItems","listItems","app","alignItems","src","icon","backgroundColor","BGColor","size","text","subtitle","tooltip","data","item","addItem","setAddBtnEnabled","selectedItems","setEnabled","getAppFinderBtn","btnType","appFinderBtn","press","Default","PRESS","set","selectionChange","addButton","_addFromFavApps","enabled","illustrationSize","Small","illustrationType","AddDimensions","description","wrapping","justifyContent","Transparent","contentWidth","contentHeight","endButton","escapeHandler","buttons","addDependent","_this8","setBusy","_getSections","sections","promise","oMovingConfig","insightsSectionIndex","recentAppSectionIndex","section","visualizations","displayFormatHint","supportedDisplayFormats","_temp7","_calculateVisibleTileCount","insightsApps","layout","layoutDomRef","apps","count","isHeaderVisible","sectionNodeIndex","sectionDomRef","childNodes","domProperties","availableWidth","widthMap","StandardWide","nextTileWidth","Math","floor","isMobileDevice","visibleTileCount","isElementExpanded","_getCurrentExpandedElementName","slice","showFullScreenButton","includes","toggleActionButton","toggleFullScreenElements","fullScreenButton","fullScreenText","getTitle","updateMenuItem","SHOW_MORE","updateActionButton","insightsContainer","getContainerMenuItems","_getContainerMenuItems","_containerMenuItems","containerRefresh","containerEditTiles","containerShowMore","containerAddFromFav","getContainerActionButtons","_getContainerActionButtons","_containerActionButtons","push","containerFullScreenActionButton","fesrId","_this9","_temp8","bShow","toggleMenuListItem"],"sources":["TilesPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerItemLayoutData from \"sap/f/GridContainerItemLayoutData\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport { ButtonType, LoadState } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport S4MyHome from \"sap/ushell/api/S4MyHome\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport MenuItem from \"./MenuItem\";\nimport { $TilesPanelSettings } from \"./TilesPanel\";\nimport { ICustomVisualization, ISectionAndVisualization, IVisualization } from \"./interface/AppsInterface\";\nimport { checkPanelExists } from \"./utils/Accessibility\";\nimport AppManager from \"./utils/AppManager\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, MYHOME_PAGE_ID, MYINSIGHT_SECTION_ID, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\nimport { createShowMoreActionButton, createShowMoreMenuItem, getAssociatedFullScreenMenuItem, sortMenuItems } from \"./utils/InsightsUtils\";\n\nexport enum tilesMenuItems {\n\tREFRESH = \"tiles-refresh\",\n\tADD_APPS = \"tiles-addSmartApps\",\n\tEDIT_TILES = \"tiles-editTiles\"\n}\n\nexport enum tilesContainerMenuItems {\n\tREFRESH = \"container-tiles-refresh\",\n\tADD_APPS = \"container-tiles-addSmartApps\",\n\tEDIT_TILES = \"container-tiles-editTiles\",\n\tSHOW_MORE = \"tilesContainerFullScreenMenuItem\"\n}\n\nexport enum tilesActionButtons {\n\tADD_TILES = \"tiles-addTilesButton\"\n}\n\nexport enum tilesContainerActionButtons {\n\tADD_TILES = \"container-tiles-addTilesButton\",\n\tSHOW_MORE = \"tilesContanerFullScreenActionButton\"\n}\n\nexport enum DisplayFormat {\n\tStandard = \"standard\",\n\tStandardWide = \"standardWide\"\n}\n\nconst favAppPanelName: string = \"sap.cux.home.FavAppPanel\";\nconst appsConatinerlName: string = \"sap.cux.home.AppsContainer\";\n\nconst sortedMenuItems: (tilesMenuItems | string)[] = [\n\ttilesMenuItems.REFRESH,\n\ttilesMenuItems.ADD_APPS,\n\ttilesMenuItems.EDIT_TILES,\n\t\"showMore\",\n\t\"settings\"\n];\n\nconst _showAddApps = () => {\n\treturn (Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) as boolean;\n};\n\nconst StandardTileWidth = 176;\nconst StandardWideTileWidth = 368;\nconst Gap = 16;\n\n/**\n *\n * Tiles Panel class for managing and storing Insights Tiles.\n *\n * @extends sap.cux.home.BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.TilesPanel\n */\n\nexport default class TilesPanel extends BasePanel {\n\tconstructor(idOrSettings?: string | $TilesPanelSettings);\n\tconstructor(id?: string, settings?: $TilesPanelSettings);\n\t/**\n\t * Constructor for a new Tiles Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $TilesPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\tprivate _oData!: Record<string, unknown>;\n\tprivate readonly _insightsSectionTitle: string = this._i18nBundle.getText(\"insights\") as string;\n\tprivate readonly _addFromFavDialogId: string = `${this.getId()}-addFromFavDialog`;\n\tprivate appManagerInstance!: AppManager;\n\tprivate VizInstantiationService!: VisualizationInstantiation;\n\tprivate tilesContainer!: GridContainer;\n\tprivate tilesMobileContainer!: HeaderContainer;\n\tprivate _tilesWrapper!: VBox;\n\tprivate aInsightsApps: ICustomVisualization[] | GenericTile[] = [];\n\tprivate _controlModel!: JSONModel;\n\tpublic _controlMap!: Map<string, Control | Element | UI5Element>;\n\tprivate _containerMenuItems!: MenuItem[];\n\tprivate _containerActionButtons!: Button[];\n\tprivate oEventBus!: EventBus;\n\tprivate insightsContainer!: InsightsContainer;\n\tprivate _appSwitched!: boolean;\n\tprivate _headerVisible: boolean = false;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the tiles panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the tiles panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * The name of the URL parameter used to expand the container into full-screen mode.\n\t\t\t */\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"SI1\", visibility: \"hidden\" }\n\t\t},\n\t\tdefaultAggregation: \"tiles\",\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Aggregation of tiles available within the tiles Panel\n\t\t\t */\n\t\t\ttiles: { type: \"sap.cux.home.App\", multiple: true, singularName: \"tile\", visibility: \"hidden\" }\n\t\t},\n\t\tevents: {\n\t\t\thandleHidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t},\n\t\t\thandleUnhidePanel: {\n\t\t\t\tparameters: {}\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Initializes the Tiles Panel.\n\t *\n\t * @private\n\t * @override\n\t */\n\tinit() {\n\t\tsuper.init();\n\t\tthis._controlMap = new Map();\n\t\t//Initialise Tiles Model\n\t\tthis._oData = {\n\t\t\ttiles: [] as ICustomVisualization[],\n\t\t\tactivateInsightsTiles: true,\n\t\t\tactivateInsightsTilesOnPhone: false,\n\t\t\tactivateInsightsTilesOnDesktop: false\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\t\tthis.appManagerInstance = AppManager.getInstance();\n\t\tthis.setProperty(\"key\", \"tiles\");\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tconst refreshMenuItem = this._createRefreshMenuItem(tilesMenuItems.REFRESH, \"tilesRefresh\");\n\t\tconst editTilesMenuItem = this._createEditTilesMenuItem(tilesMenuItems.EDIT_TILES, \"manageTiles\");\n\n\t\tconst menuItems = [refreshMenuItem, editTilesMenuItem];\n\t\tmenuItems.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t\tthis._sortMenuItems(sortedMenuItems);\n\n\t\tconst addTilesButton = this._createAddTilesButton(tilesActionButtons.ADD_TILES, \"addTiles\");\n\n\t\tconst actionButtons = [addTilesButton];\n\t\tactionButtons.forEach((actionButton) => this.addAggregation(\"actionButtons\", actionButton));\n\n\t\tthis._createTilesFlexWrapper();\n\t\tContainer.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\")\n\t\t\t.then((VizInstantiationService) => {\n\t\t\t\tthis.VizInstantiationService = VizInstantiationService;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"tilesImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tawait this.appManagerInstance.createInsightSection(this._i18nBundle.getText(\"insightsTiles\") as string);\n\t\t\t\tawait this._addSectionViz(oData as IVisualization[], MYINSIGHT_SECTION_ID);\n\t\t\t\tawait this.refreshData();\n\t\t\t\tthis._adjustLayout();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Toggles the activity of tiles\n\t\tthis._toggleTileActivity();\n\t}\n\n\t/**\n\t * Toggles the activity of tiles on route change.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _toggleTileActivity(): void {\n\t\tconst toggleUserActions = async (event: Event<{ isMyHomeRoute: boolean }>) => {\n\t\t\tconst show = event.getParameter(\"isMyHomeRoute\");\n\t\t\tthis._controlModel.setProperty(\"/activateInsightsTiles\", show);\n\t\t\tif (show) {\n\t\t\t\tif (this._appSwitched) {\n\t\t\t\t\tawait this.refreshData(true);\n\t\t\t\t\tthis._appSwitched = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._appSwitched = true;\n\t\t\t}\n\t\t};\n\n\t\ttry {\n\t\t\tS4MyHome.attachRouteMatched({}, toggleUserActions, this);\n\t\t} catch (error) {\n\t\t\tLog.warning(error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n\n\t/**\n\t * Takes the visualizations and add it to the provided section id\n\t * @param {IVisualization[]} aSectionViz - array of visualizations\n\t * @param {string} sSectionId - section id where the visualizations to be added\n\t * @returns {any}\n\t */\n\tprivate _addSectionViz(aSectionViz: IVisualization[], sSectionId: string) {\n\t\treturn aSectionViz.reduce((promiseChain, oViz) => {\n\t\t\treturn promiseChain.then(() => {\n\t\t\t\tif (oViz.isBookmark) {\n\t\t\t\t\treturn this.appManagerInstance.addBookMark(oViz);\n\t\t\t\t} else {\n\t\t\t\t\treturn sSectionId\n\t\t\t\t\t\t? this.appManagerInstance.addVisualization(oViz.vizId, sSectionId)\n\t\t\t\t\t\t: this.appManagerInstance.addVisualization(oViz.vizId);\n\t\t\t\t}\n\t\t\t});\n\t\t}, Promise.resolve());\n\t}\n\n\t/**\n\t * Handles the completion of the import process.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"tilesImported\", stateData);\n\t}\n\n\t/**\n\t * Displays placeholder tiles while loading.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _showPlaceHolders() {\n\t\tconst placeholderArray = new Array(this._calculatePlaceholderTileCount()).fill(LoadState.Loading) as LoadState[];\n\t\tthis.aInsightsApps = placeholderArray.map((tileState: LoadState, index: number) => {\n\t\t\treturn new GenericTile(recycleId(`${this.getId()}--placeHolderTile--${index}`), {\n\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\tstate: tileState,\n\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\tmode: \"IconMode\",\n\t\t\t\tvisible: true,\n\t\t\t\trenderOnThemeChange: true,\n\t\t\t\tariaRole: \"listitem\",\n\t\t\t\tdropAreaOffset: 8\n\t\t\t}).setLayoutData?.(\n\t\t\t\tnew GridContainerItemLayoutData(recycleId(`${this.getId()}--placeHolderTileLayoutData--${index}`), {\n\t\t\t\t\tcolumns: 2\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps, undefined, true);\n\t}\n\n\t/**\n\t * Clears the placeholder tiles.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _clearPlaceHolders() {\n\t\tthis._controlModel.setProperty(\"/tiles\", []);\n\t}\n\n\t/**\n\t * Renders the panel.\n\t *\n\t * @private\n\t * @returns {Promise<void>} A promise that resolves when the panel is rendered.\n\t */\n\tpublic async renderPanel(): Promise<void> {\n\t\ttry {\n\t\t\tconst container = this.getParent() as BaseContainer;\n\t\t\tthis._showPlaceHolders();\n\t\t\tif (checkPanelExists(container, appsConatinerlName, favAppPanelName)) {\n\t\t\t\tconst addFromFavAppMenuItem = this._createAddFromFavMenuItem(tilesMenuItems.ADD_APPS, \"smartAppsDialog\");\n\t\t\t\tthis.addAggregation(\"menuItems\", addFromFavAppMenuItem);\n\t\t\t\tthis._sortMenuItems(sortedMenuItems);\n\t\t\t}\n\t\t\treturn await this.refreshData();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthis.fireHandleHidePanel();\n\t\t} finally {\n\t\t\tthis.fireEvent(\"loaded\");\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Sorts the menu items based on the provided order.\n\t *\n\t * @private\n\t * @param {string[]} menuItems - The order of the menu items.\n\t */\n\tprivate _sortMenuItems(menuItems: string[]) {\n\t\tconst panelMenuItems = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tlet sortedMenuItems = sortMenuItems(menuItems, panelMenuItems);\n\t\tthis.removeAllAggregation(\"menuItems\");\n\t\tsortedMenuItems?.forEach((menuItem) => this.addAggregation(\"menuItems\", menuItem));\n\t}\n\n\t/**\n\t * Refreshes the data in the panel.\n\t *\n\t * @private\n\t * @param {boolean} [refreshTiles=false] - Whether to refresh the tiles.\n\t * @returns {Promise<void>} A promise that resolves when the data is refreshed.\n\t */\n\tpublic async refreshData(refreshTiles: boolean = false) {\n\t\tconst panelName = this.getMetadata().getName();\n\t\tthis.aInsightsApps = await this.appManagerInstance.fetchInsightApps(true, this._insightsSectionTitle);\n\t\tconst bIsSmartBusinessTilePresent = this.aInsightsApps.some((oApp) => oApp.isSmartBusinessTile);\n\t\tif (bIsSmartBusinessTilePresent) {\n\t\t\tawait Lib.load({ name: \"sap.cloudfnd.smartbusiness.lib.reusetiles\" });\n\t\t}\n\t\tthis._clearPlaceHolders();\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t\tif (this.aInsightsApps?.length) {\n\t\t\tthis.fireHandleUnhidePanel();\n\t\t\tif (refreshTiles) {\n\t\t\t\tconst isMobile = this.getDeviceType() === DeviceType.Mobile;\n\t\t\t\tconst container = isMobile ? this.tilesMobileContainer : this.tilesContainer;\n\t\t\t\tconst sDefaultAggreName = container.getMetadata().getDefaultAggregationName();\n\t\t\t\tconst dynamicTiles = (container.getAggregation(sDefaultAggreName) as ManagedObject[]) || [];\n\t\t\t\tdynamicTiles.forEach((tiles) => (tiles as ICustomVisualization).refresh?.());\n\t\t\t}\n\t\t\tthis._getInsightsContainer()?.updatePanelsItemCount(this.aInsightsApps.length, panelName);\n\t\t\tif (this._headerVisible) {\n\t\t\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insightsTiles\")} (${this.aInsightsApps.length})`);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fireHandleHidePanel();\n\t\t}\n\t}\n\n\t/**\n\t * Generates the wrapper for the tiles container, if it doesn't already exist\n\t *\n\t * @private\n\t * @override\n\t * @returns {sap.m.VBox} The tiles Vbox wrapper.\n\t */\n\tprivate _createTilesFlexWrapper() {\n\t\tif (!this._tilesWrapper) {\n\t\t\tthis._tilesWrapper = new VBox(`${this.getId()}-tilesWrapper`, {\n\t\t\t\trenderType: \"Bare\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\titems: [this._createMobileFlexWrapper(), this._createWrapperFlexBox()]\n\t\t\t});\n\t\t\tthis._tilesWrapper.setModel(this._controlModel);\n\t\t\tthis.addContent(this._tilesWrapper);\n\t\t}\n\t}\n\n\t/**\n\t * Generates wrapper for displaying tiles in mobile mode.\n\t * @private\n\t * @returns {sap.m.HeaderContainer} The generated tiles wrapper.\n\t */\n\n\tprivate _createMobileFlexWrapper(): HeaderContainer {\n\t\t// Check if the mobile container already exists\n\t\tif (!this.tilesMobileContainer) {\n\t\t\t// Create the HeaderContainer with required properties\n\t\t\tthis.tilesMobileContainer = new HeaderContainer(`${this.getId()}-insightsTilesMobileContainer`, {\n\t\t\t\tscrollStep: 0,\n\t\t\t\tscrollStepByItem: 1,\n\t\t\t\tgridLayout: true,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tshowDividers: false,\n\t\t\t\tvisible: \"{/isPhone}\"\n\t\t\t}).addStyleClass(\"sectionMarginTopTilesInsight sapMHeaderContainerMarginBottom\");\n\n\t\t\t// Attach aggregation to the container\n\t\t\tthis._attachAggregationToContainer(this.tilesMobileContainer);\n\t\t}\n\t\t// Return the existing or newly created container\n\t\treturn this.tilesMobileContainer;\n\t}\n\n\t/**\n\t * Generates app wrapper (GridContainer) for displaying tiles.\n\t * @private\n\t * @returns {sap.m.GridContainer} The generated tiles wrapper.\n\t */\n\n\tprivate _createWrapperFlexBox(): GridContainer {\n\t\t// Check if the tilesContainer already exists\n\t\tif (!this.tilesContainer) {\n\t\t\t// Create the GridContainer with required properties\n\t\t\tthis.tilesContainer = new GridContainer(`${this.getId()}-insightsTilesContainer`, {\n\t\t\t\tvisible: \"{= !${/isPhone}}\"\n\t\t\t}).addStyleClass(\"insightTiles sapUiSmallMarginTop sapUiSmallMarginBottom\");\n\t\t\t// Attach aggregation to the container\n\t\t\tthis._attachAggregationToContainer(this.tilesContainer);\n\t\t}\n\t\t// Return the existing or newly created container\n\t\treturn this.tilesContainer;\n\t}\n\n\t/**\n\t * Updates the activation flags for Insights Tiles based on the device type and viewport.\n\t *\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tprivate _updateTilesActivity(): void {\n\t\t// Activate Insights Tiles based on container in viewport\n\t\tconst isPhoneScreen: boolean = this.getDeviceType() === DeviceType.Mobile;\n\t\t// Explicitly type the property being retrieved\n\t\tconst bActivateInsightsTiles: boolean = Boolean(this._controlModel.getProperty(\"/activateInsightsTiles\"));\n\t\tthis._controlModel.setProperty(\"/activateInsightsTilesOnPhone\", bActivateInsightsTiles && isPhoneScreen);\n\t\tthis._controlModel.setProperty(\"/activateInsightsTilesOnDesktop\", bActivateInsightsTiles && !isPhoneScreen);\n\t}\n\t/**\n\t * Attaches necessary aggregations and configurations to the provided container.\n\t *\n\t * @private\n\t * @param {GridContainer | HeaderContainer} tilesContainer - The container to which the aggregation and events are to be attached.\n\t * @returns {void}\n\t *\n\t */\n\tprivate _attachAggregationToContainer(tilesContainer: GridContainer | HeaderContainer) {\n\t\ttilesContainer.setModel(this._controlModel);\n\t\tconst sDefaultAggreName = tilesContainer.getMetadata().getDefaultAggregationName();\n\t\tconst isPhoneScreen = this.getDeviceType() === DeviceType.Mobile;\n\t\ttilesContainer.bindAggregation(sDefaultAggreName, {\n\t\t\tpath: \"/tiles\",\n\t\t\tfactory: (id: string, context: Context): ManagedObject => {\n\t\t\t\tconst oApp = context.getObject() as ICustomVisualization;\n\t\t\t\tif (oApp instanceof GenericTile) {\n\t\t\t\t\treturn oApp;\n\t\t\t\t}\n\t\t\t\tconst oVisualization = this.VizInstantiationService.instantiateVisualization(oApp.visualization) as ICustomVisualization;\n\t\t\t\toVisualization.setLayoutData?.(\n\t\t\t\t\tnew GridContainerItemLayoutData(`${this.getId()}-itemLayoutData-${id}`, {\n\t\t\t\t\t\tminRows: 2,\n\t\t\t\t\t\tcolumns: oVisualization.getDisplayFormat?.() === DisplayFormat.Standard ? 2 : 4\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\toVisualization?.bindProperty?.(\n\t\t\t\t\t\"active\",\n\t\t\t\t\tisPhoneScreen ? \"/activateInsightsTilesOnPhone\" : \"/activateInsightsTilesOnDesktop\"\n\t\t\t\t);\n\t\t\t\tthis._setDropAreaRectFunction(oVisualization as ManagedObject);\n\t\t\t\treturn oVisualization as ManagedObject;\n\t\t\t}\n\t\t});\n\t\tthis.addDragDropConfigTo(tilesContainer, (oEvent) => this._handleTilesDnd(oEvent));\n\t}\n\n\t/**\n\t * Sets the drop area rectangle function for the given visualization.\n\t *\n\t * @private\n\t * @param {ManagedObject} oVisualization - The visualization object to set the drop area rectangle function.\n\t */\n\tprivate _setDropAreaRectFunction(oVisualization: ManagedObject) {\n\t\tconst tilesDropAreaOffset = 8;\n\t\tconst vizObj = oVisualization as { getDropAreaRect?: () => void };\n\n\t\tif (typeof vizObj.getDropAreaRect !== \"function\") {\n\t\t\tObject.defineProperty(oVisualization, \"getDropAreaRect\", {\n\t\t\t\tvalue: function (this: Control) {\n\t\t\t\t\tconst domRef = this.getDomRef();\n\t\t\t\t\tif (!domRef) return null;\n\t\t\t\t\tconst mDropRect = domRef.getBoundingClientRect();\n\t\t\t\t\treturn {\n\t\t\t\t\t\tleft: mDropRect.left - tilesDropAreaOffset,\n\t\t\t\t\t\tright: mDropRect.right + tilesDropAreaOffset,\n\t\t\t\t\t\ttop: mDropRect.top,\n\t\t\t\t\t\tbottom: mDropRect.bottom,\n\t\t\t\t\t\twidth: mDropRect.width,\n\t\t\t\t\t\theight: mDropRect.height\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Handles the drag and drop of tiles.\n\t *\n\t * @private\n\t * @param {Event<DropInfo$DropEventParameters>} oEvent - The drop event parameters.\n\t */\n\tprivate _handleTilesDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tvoid this._DragnDropTiles(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\t/**\n\t * Handles the drag and drop of tiles asynchronously.\n\t *\n\t * @private\n\t * @param {number} iDragItemIndex - The index of the dragged item.\n\t * @param {number} iDropItemIndex - The index of the dropped item.\n\t * @param {string} sInsertPosition - The position to insert the item.\n\t * @returns {Promise<void>} A promise that resolves when the drag and drop operation is complete.\n\t */\n\tprivate async _DragnDropTiles(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\tconst oDisplacedItem = this.aInsightsApps[iDropItemIndex] as ICustomVisualization,\n\t\t\toItemMoved = this.aInsightsApps.splice(iDragItemIndex, 1)[0] as ICustomVisualization;\n\t\tthis.aInsightsApps.splice(iDropItemIndex, 0, oItemMoved);\n\t\tconst moveConfigs = {\n\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\tsourceSectionIndex: oItemMoved.persConfig?.sectionIndex as number,\n\t\t\tsourceVisualizationIndex: oItemMoved.persConfig?.visualizationIndex as number,\n\t\t\ttargetSectionIndex: oDisplacedItem.persConfig?.sectionIndex as number,\n\t\t\ttargetVisualizationIndex: oDisplacedItem.persConfig?.visualizationIndex as number\n\t\t};\n\t\tthis._controlModel.setProperty(\"/tiles\", this.aInsightsApps);\n\t\tawait this.appManagerInstance.moveVisualization(moveConfigs);\n\t\tawait this.refreshData(true);\n\t\t// Ensures focus on tile after Panel refresh during DnD.\n\t\tsetTimeout(() => {\n\t\t\tfocusDraggedItem(this.tilesContainer, iDropItemIndex);\n\t\t}, 0);\n\t}\n\n\t/**\n\t * Handles the edit tiles event.\n\t *\n\t * @param {Event} event - The event object.\n\t */\n\tprivate handleEditTiles(event: Event) {\n\t\t/* If called from Panel Header event.source() will return TilesPanel, if called from Insights Container event.source() will return InsightsContainer.\n\t\t_getLayout is available at Container Level*/\n\t\tlet parent: ManagedObject = event.getSource<TilesPanel>().getParent() || this;\n\t\tif (parent instanceof TilesPanel) {\n\t\t\tparent = parent.getParent() as ManagedObject;\n\t\t}\n\t\t(parent as InsightsContainer)?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.INSIGHTS_TILES);\n\t}\n\n\t/**\n\t * Hides the header of the tiles panel.\n\t * @private\n\t */\n\tpublic handleHideHeader() {\n\t\tthis._headerVisible = false;\n\t\tthis.setProperty(\"title\", \"\");\n\t\tthis._toggleHeaderActions(false);\n\t}\n\n\t/**\n\t * Adds the header to the tiles panel.\n\t * @private\n\t */\n\tpublic handleAddHeader() {\n\t\tthis._headerVisible = true;\n\t\tthis.setProperty(\"title\", `${this._i18nBundle?.getText(\"insightsTiles\")} (${this.aInsightsApps.length})`);\n\t\tthis._toggleHeaderActions(true);\n\t}\n\n\t/**\n\t * Closes the \"Add from Favorites\" dialog.\n\t *\n\t * @private\n\t */\n\tprivate _closeAddFromFavDialog() {\n\t\tconst list = this._controlMap.get(`${this._addFromFavDialogId}-list`) as List;\n\t\tlist?.removeSelections();\n\t\t(this._controlMap.get(this._addFromFavDialogId) as Dialog)?.close();\n\t}\n\n\t/**\n\t * Navigates to the App Finder with optional group Id.\n\t * @async\n\t * @private\n\t */\n\tprivate async navigateToAppFinder() {\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst navigationObject: { pageID: string; sectionID?: string } = {\n\t\t\tpageID: MYHOME_PAGE_ID,\n\t\t\tsectionID: MYINSIGHT_SECTION_ID\n\t\t};\n\t\tawait navigationService.navigate({\n\t\t\ttarget: {\n\t\t\t\tshellHash: `Shell-appfinder?&/catalog/${JSON.stringify(navigationObject)}`\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the key of the legend color based on the provided color value.\n\t * @param {string} color - The color value for which to retrieve the legend color key.\n\t * @returns {string} The legend color key corresponding to the provided color value, or the default background color key if not found.\n\t * @private\n\t */\n\tprivate _getLegendColor(color: string) {\n\t\treturn END_USER_COLORS().find((oColor) => oColor.value === color) || DEFAULT_BG_COLOR();\n\t}\n\n\t/**\n\t * Handles the addition of tiles from favorite apps.\n\t * @returns {Promise<void>} A Promise that resolves when the operation is complete.\n\t * @private\n\t */\n\tprivate async _handleAddFromFavApps() {\n\t\tconst appsToAdd = await this._getFavToAdd();\n\t\tconst dialog = this._generateAddFromFavAppsDialog();\n\t\t(this._controlMap.get(`${this._addFromFavDialogId}-errorMessage`) as IllustratedMessage)?.setVisible(appsToAdd.length === 0);\n\t\tthis._generateAddFromFavAppsListItems(appsToAdd);\n\t\tdialog.open();\n\t}\n\n\t/**\n\t * Retrieves the favorite visualizations to be added.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<ISectionAndVisualization[]>} A promise that resolves to an array of favorite visualizations to be added.\n\t */\n\tprivate async _getFavToAdd(): Promise<ISectionAndVisualization[]> {\n\t\tconst aFavApps: ISectionAndVisualization[] = await this.appManagerInstance.fetchFavVizs(false, true);\n\t\tconst aDynamicApps = aFavApps.filter(function (oDynApp) {\n\t\t\treturn oDynApp.isCount || oDynApp.isSmartBusinessTile;\n\t\t});\n\n\t\tconst aFilteredFavApps = aDynamicApps.filter((oDynApp) => {\n\t\t\tconst iAppIndex = this.aInsightsApps.findIndex(function (oInsightApps) {\n\t\t\t\treturn (\n\t\t\t\t\t(!oDynApp.visualization?.isBookmark &&\n\t\t\t\t\t\t(oInsightApps as ICustomVisualization).visualization?.vizId === oDynApp.visualization?.vizId) ||\n\t\t\t\t\t(oDynApp.visualization?.isBookmark &&\n\t\t\t\t\t\t(oInsightApps as ICustomVisualization).visualization?.targetURL === oDynApp.visualization?.targetURL)\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn iAppIndex === -1;\n\t\t});\n\n\t\treturn aFilteredFavApps;\n\t}\n\n\t/**\n\t * Retrieves the selected Apps from the dialog.\n\t * @returns {sap.m.ListItemBase[]} An array of selected Apps.\n\t * @private\n\t */\n\tprivate _getSelectedInsights() {\n\t\tconst list = this._controlMap.get(`${this._addFromFavDialogId}-list`) as List;\n\t\treturn list.getSelectedItems() || [];\n\t}\n\n\t/**\n\t * Generates list items for the \"Add from Favorites\" dialog.\n\t *\n\t * @private\n\t * @param {ISectionAndVisualization[]} appsToAdd - An array of favorite visualizations to be added.\n\t */\n\tprivate _generateAddFromFavAppsListItems(appsToAdd: ISectionAndVisualization[]) {\n\t\tconst id = this._addFromFavDialogId;\n\t\tconst list = this._controlMap.get(`${id}-list`) as List;\n\t\tif (appsToAdd.length) {\n\t\t\tlist.destroyItems();\n\t\t\tconst listItems = appsToAdd.map(\n\t\t\t\t(app, index) =>\n\t\t\t\t\tnew CustomListItem({\n\t\t\t\t\t\tid: `${id}-listItem-${index}`,\n\t\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\tnew HBox({\n\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content`,\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon({\n\t\t\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content-icon`,\n\t\t\t\t\t\t\t\t\t\tsrc: app.icon,\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: this._getLegendColor(\n\t\t\t\t\t\t\t\t\t\t\ttypeof app.BGColor === \"object\" ? app.BGColor.key : (app.BGColor ?? \"\")\n\t\t\t\t\t\t\t\t\t\t).value,\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.25rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.25rem\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiRoundedBorder sapUiTinyMargin\"),\n\t\t\t\t\t\t\t\t\tnew ObjectIdentifier({\n\t\t\t\t\t\t\t\t\t\tid: `${id}-listItem-${index}-content-identifier`,\n\t\t\t\t\t\t\t\t\t\ttitle: app.title,\n\t\t\t\t\t\t\t\t\t\ttext: app.subtitle,\n\t\t\t\t\t\t\t\t\t\ttooltip: app.title\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t\t\t.addStyleClass(\"sapUiContentPadding\")\n\t\t\t\t\t\t.data(\"app\", app) as CustomListItem\n\t\t\t);\n\t\t\tlistItems.forEach((item) => list.addItem(item));\n\t\t}\n\t\tlist?.setVisible(appsToAdd.length !== 0);\n\t}\n\n\t/**\n\t * Generates the \"Add from Favorites\" dialog.\n\t *\n\t * @private\n\t * @returns {Dialog} The generated dialog.\n\t */\n\tprivate _generateAddFromFavAppsDialog(): Dialog {\n\t\tconst id = this._addFromFavDialogId;\n\t\tconst setAddBtnEnabled = () => {\n\t\t\tconst selectedItems = this._getSelectedInsights();\n\t\t\t(this._controlMap.get(`${id}-addBtn`) as Button).setEnabled(selectedItems.length > 0);\n\t\t};\n\t\tif (!this._controlMap.get(id)) {\n\t\t\tconst getAppFinderBtn = (id: string, btnType?: ButtonType) => {\n\t\t\t\tconst appFinderBtn = new Button(id, {\n\t\t\t\t\ticon: \"sap-icon://action\",\n\t\t\t\t\ttext: this._i18nBundle.getText(\"appFinderBtn\"),\n\t\t\t\t\tpress: () => {\n\t\t\t\t\t\tthis._closeAddFromFavDialog();\n\t\t\t\t\t\tvoid this.navigateToAppFinder();\n\t\t\t\t\t},\n\t\t\t\t\tvisible: _showAddApps(),\n\t\t\t\t\ttype: btnType ?? ButtonType.Default\n\t\t\t\t});\n\t\t\t\taddFESRSemanticStepName(appFinderBtn, FESR_EVENTS.PRESS, \"tilesAppFinder\");\n\t\t\t\treturn appFinderBtn;\n\t\t\t};\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-list`,\n\t\t\t\tnew List({\n\t\t\t\t\tid: `${id}-list`,\n\t\t\t\t\tmode: \"MultiSelect\",\n\t\t\t\t\tselectionChange: setAddBtnEnabled\n\t\t\t\t})\n\t\t\t);\n\t\t\tconst addButton = new Button({\n\t\t\t\tid: `${id}-addBtn`,\n\t\t\t\ttext: this._i18nBundle.getText(\"addBtn\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => {\n\t\t\t\t\tvoid this._addFromFavApps();\n\t\t\t\t},\n\t\t\t\tenabled: false\n\t\t\t});\n\t\t\taddFESRSemanticStepName(addButton, FESR_EVENTS.PRESS, \"addSmartApps\");\n\t\t\tthis._controlMap.set(`${id}-addBtn`, addButton);\n\t\t\tthis._controlMap.set(\n\t\t\t\t`${id}-errorMessage`,\n\t\t\t\tnew IllustratedMessage({\n\t\t\t\t\tid: `${id}-errorMessage`,\n\t\t\t\t\tillustrationSize: IllustratedMessageSize.Small,\n\t\t\t\t\tillustrationType: IllustratedMessageType.AddDimensions,\n\t\t\t\t\ttitle: this._i18nBundle.getText(\"noAppsTitle\"),\n\t\t\t\t\tdescription: this._i18nBundle.getText(\"tilesSectionNoDataDescription\"),\n\t\t\t\t\tvisible: true\n\t\t\t\t}).addStyleClass(\"sapUiLargeMarginTop\")\n\t\t\t);\n\t\t\tconst dialog = new Dialog(id, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"addSmartApps\"),\n\t\t\t\tcontent: [\n\t\t\t\t\tnew Label({\n\t\t\t\t\t\tid: `${id}-label`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"suggTileDialogLabel\"),\n\t\t\t\t\t\twrapping: true\n\t\t\t\t\t}).addStyleClass(\"sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\tnew HBox({\n\t\t\t\t\t\tid: `${id}-textContainer`,\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Title({\n\t\t\t\t\t\t\t\tid: `${id}-text`,\n\t\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"suggTileDialogTitle\")\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tgetAppFinderBtn(`${id}-addAppsBtn`, ButtonType.Transparent)\n\t\t\t\t\t\t]\n\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd\"),\n\t\t\t\t\tthis._controlMap.get(`${id}-list`) as List,\n\t\t\t\t\tthis._controlMap.get(`${id}-errorMessage`) as IllustratedMessage\n\t\t\t\t],\n\t\t\t\tcontentWidth: \"42.75rem\",\n\t\t\t\tcontentHeight: \"32.5rem\",\n\t\t\t\tendButton: new Button({\n\t\t\t\t\tid: `${id}-addFromFavDialogCloseBtn`,\n\t\t\t\t\ttext: this._i18nBundle.getText(\"XBUT_CLOSE\"),\n\t\t\t\t\tpress: this._closeAddFromFavDialog.bind(this)\n\t\t\t\t}),\n\t\t\t\tescapeHandler: this._closeAddFromFavDialog.bind(this),\n\t\t\t\tbuttons: [\n\t\t\t\t\tthis._controlMap.get(`${id}-addBtn`) as Button,\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\tid: `${id}-cancelBtn`,\n\t\t\t\t\t\ttext: this._i18nBundle.getText(\"cancelBtn\"),\n\t\t\t\t\t\tpress: this._closeAddFromFavDialog.bind(this)\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapContrastPlus sapCuxAddFromInsightsDialog\");\n\t\t\tthis.addDependent(dialog);\n\t\t\tthis._controlMap.set(id, dialog);\n\t\t}\n\t\tsetAddBtnEnabled();\n\t\treturn this._controlMap.get(id) as Dialog;\n\t}\n\n\t/**\n\t * Handles the addition of tiles from favorite apps.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<void>} A promise that resolves when the operation is complete.\n\t */\n\tprivate async _addFromFavApps() {\n\t\tconst dialog = this._controlMap.get(this._addFromFavDialogId) as Dialog;\n\t\tdialog.setBusy(true);\n\t\tconst selectedItems = this._getSelectedInsights();\n\t\tconst sections = await this.appManagerInstance._getSections();\n\t\tawait selectedItems.reduce(async (promise, oApp) => {\n\t\t\tawait promise;\n\t\t\tconst app = oApp.data(\"app\") as ISectionAndVisualization;\n\t\t\tconst oMovingConfig = {\n\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\tsourceSectionIndex: app.persConfig?.sectionIndex as number,\n\t\t\t\tsourceVisualizationIndex: app.persConfig?.visualizationIndex as number,\n\t\t\t\ttargetSectionIndex: this.appManagerInstance.insightsSectionIndex,\n\t\t\t\ttargetVisualizationIndex: -1\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * If the app is a bookmark, we need to update the source and target section indices accordingly.\n\t\t\t * This is because bookmarks are added to the \"Recent Apps\" section,\n\t\t\t * which is always at the top of the list, and the insights section index is shifted by one.\n\t\t\t */\n\t\t\tif (app.visualization?.isBookmark) {\n\t\t\t\tconst recentAppSectionIndex = sections.findIndex((section) => section.default);\n\n\t\t\t\tif (recentAppSectionIndex === -1) {\n\t\t\t\t\toMovingConfig.sourceSectionIndex = 0;\n\t\t\t\t\toMovingConfig.sourceVisualizationIndex = 0;\n\t\t\t\t\toMovingConfig.targetSectionIndex = this.appManagerInstance.insightsSectionIndex + 1;\n\t\t\t\t} else {\n\t\t\t\t\toMovingConfig.sourceSectionIndex = recentAppSectionIndex;\n\t\t\t\t\toMovingConfig.sourceVisualizationIndex = sections[recentAppSectionIndex]?.visualizations?.length || 0;\n\t\t\t\t\toMovingConfig.targetSectionIndex = this.appManagerInstance.insightsSectionIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (app.visualization?.displayFormatHint !== \"standard\" && app.visualization?.displayFormatHint !== \"standardWide\") {\n\t\t\t\tif (app.visualization?.supportedDisplayFormats === \"standard\") {\n\t\t\t\t\tapp.visualization.displayFormatHint = \"standard\";\n\t\t\t\t} else if (app.visualization?.supportedDisplayFormats === \"standardWide\") {\n\t\t\t\t\tapp.visualization.displayFormatHint = \"standardWide\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Add Selected App to Insights Section\n\t\t\tif (!app.visualization?.vizId) {\n\t\t\t\t(app.visualization as IVisualization).vizId = app.visualization?.targetURL ?? \"\";\n\t\t\t}\n\t\t\tif (app.visualization?.isBookmark === true) {\n\t\t\t\tawait this.appManagerInstance.addBookMark(app.visualization, oMovingConfig);\n\t\t\t} else {\n\t\t\t\tawait this.appManagerInstance.addVisualization(app.visualization?.vizId as string, MYINSIGHT_SECTION_ID);\n\t\t\t}\n\t\t}, Promise.resolve());\n\n\t\tawait this.refreshData();\n\t\tdialog.setBusy(false);\n\t\tdialog.close();\n\t}\n\n\t/**\n\t * Calculates the number of visible tiles that can fit within the available width of the parent container.\n\t *\n\t * @private\n\t * @param {ICustomVisualization[]} insightsApps - An array of custom visualizations to be displayed as tiles.\n\t * @returns {number} - The number of visible tiles.\n\t */\n\tprivate _calculateVisibleTileCount(insightsApps: ICustomVisualization[]): number {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tconst layoutDomRef = layout?.getDomRef();\n\t\tconst apps = insightsApps || [];\n\t\tlet count = 0;\n\n\t\tif (layoutDomRef && apps.length) {\n\t\t\tconst isHeaderVisible = layout.getProperty(\"showHeader\") as boolean;\n\t\t\tconst sectionNodeIndex = isHeaderVisible ? 1 : 0;\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[sectionNodeIndex] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst widthMap = {} as Record<DisplayFormat, number>;\n\n\t\t\twidthMap[DisplayFormat.Standard] = StandardTileWidth + Gap;\n\t\t\twidthMap[DisplayFormat.StandardWide] = StandardWideTileWidth + Gap;\n\n\t\t\tlet nextTileWidth = widthMap[(apps[count].visualization?.displayFormatHint ?? DisplayFormat.Standard) as DisplayFormat];\n\t\t\tdo {\n\t\t\t\tavailableWidth -= nextTileWidth;\n\t\t\t\t++count;\n\t\t\t\tnextTileWidth = widthMap[(apps[count]?.visualization?.displayFormatHint ?? DisplayFormat.Standard) as DisplayFormat];\n\t\t\t} while (availableWidth > nextTileWidth);\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\tprivate _calculatePlaceholderTileCount(): number {\n\t\tconst layoutDomRef = this._getInsightsContainer()?._getLayout()?.getDomRef();\n\t\tlet count = 0;\n\t\tif (layoutDomRef) {\n\t\t\tconst sectionDomRef = layoutDomRef.childNodes[0] as Element;\n\t\t\tconst domProperties = fetchElementProperties(sectionDomRef, [\"width\", \"padding-left\", \"padding-right\"]);\n\t\t\tlet availableWidth = domProperties.width - domProperties[\"padding-left\"] - domProperties[\"padding-right\"];\n\t\t\tconst width = StandardTileWidth + Gap;\n\n\t\t\tcount = Math.floor(availableWidth / width);\n\t\t}\n\n\t\treturn count || 1;\n\t}\n\n\t/**\n\t * Adjusts the layout of the tiles panel based on the current layout and device type.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic _adjustLayout() {\n\t\tconst layout = this._getInsightsContainer()?._getLayout();\n\t\tconst isMobileDevice = this.getDeviceType() === DeviceType.Mobile;\n\n\t\tif (layout) {\n\t\t\tconst visibleTileCount = isMobileDevice\n\t\t\t\t? this.aInsightsApps?.length\n\t\t\t\t: this._calculateVisibleTileCount(this.aInsightsApps as ICustomVisualization[]);\n\t\t\tconst isElementExpanded = layout._getCurrentExpandedElementName() === this.getProperty(\"fullScreenName\");\n\t\t\tthis._controlModel.setProperty(\n\t\t\t\t\"/tiles\",\n\t\t\t\tisElementExpanded ? this.aInsightsApps : this.aInsightsApps?.slice(0, visibleTileCount)\n\t\t\t);\n\t\t\tthis._controlModel.setProperty(\"/isPhone\", isMobileDevice);\n\t\t\tthis._updateTilesActivity();\n\t\t\t//Show/Hide Full Screen Button if panel header is visible otherwise update visibility of container Full Screen Button\n\t\t\tconst showFullScreenButton = isElementExpanded || this.aInsightsApps.length > visibleTileCount;\n\t\t\tif (this._headerVisible) {\n\t\t\t\tif (!isMobileDevice) {\n\t\t\t\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) => {\n\t\t\t\t\t\tif (actionButton.getId().includes(tilesActionButtons.ADD_TILES)) {\n\t\t\t\t\t\t\tthis._getInsightsContainer().toggleActionButton(actionButton, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._getInsightsContainer()?.toggleFullScreenElements(this, showFullScreenButton);\n\t\t\t} else {\n\t\t\t\tconst fullScreenButton = getAssociatedFullScreenMenuItem(this);\n\t\t\t\tconst fullScreenText = fullScreenButton?.getTitle() ?? \"\";\n\t\t\t\tthis._getInsightsContainer()?.updateMenuItem(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${tilesContainerMenuItems.SHOW_MORE}`) as MenuItem,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t\tthis._getInsightsContainer()?.updateActionButton(\n\t\t\t\t\tthis._controlMap.get(`${this.getId()}-${tilesContainerActionButtons.SHOW_MORE}`) as Button,\n\t\t\t\t\tshowFullScreenButton,\n\t\t\t\t\tfullScreenText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves the InsightsContainer instance associated with this TilesPanel.\n\t *\n\t * @private\n\t * @returns {InsightsContainer} The InsightsContainer instance.\n\t */\n\tprivate _getInsightsContainer(): InsightsContainer {\n\t\tif (!this.insightsContainer) {\n\t\t\tthis.insightsContainer = this.getParent() as InsightsContainer;\n\t\t}\n\t\treturn this.insightsContainer;\n\t}\n\n\t/**\n\t * Retrieves the menu items for the container.\n\t *\n\t * @private\n\t * @returns {MenuItem[]} An array of MenuItem instances.\n\t */\n\tpublic getContainerMenuItems(): MenuItem[] {\n\t\tif (!this._containerMenuItems) {\n\t\t\tconst containerRefresh = this._createRefreshMenuItem(tilesContainerMenuItems.REFRESH, \"containerTilesRefresh\");\n\t\t\tconst containerEditTiles = this._createEditTilesMenuItem(tilesContainerMenuItems.EDIT_TILES, \"containerManageTiles\");\n\t\t\tconst containerShowMore = createShowMoreMenuItem(this, tilesContainerMenuItems.SHOW_MORE, \"containerTilesShowMore\");\n\t\t\tconst container = this.getParent() as BaseContainer;\n\t\t\tthis._controlMap.set(`${this.getId()}-${tilesContainerMenuItems.SHOW_MORE}`, containerShowMore);\n\t\t\tthis._containerMenuItems = [containerRefresh, containerEditTiles, containerShowMore];\n\t\t\tif (checkPanelExists(container, appsConatinerlName, favAppPanelName)) {\n\t\t\t\tconst containerAddFromFav = this._createAddFromFavMenuItem(tilesContainerMenuItems.ADD_APPS, \"containerSmartAppsDialog\");\n\t\t\t\tthis._containerMenuItems.splice(1, 0, containerAddFromFav);\n\t\t\t}\n\t\t}\n\t\treturn this._containerMenuItems;\n\t}\n\n\t/**\n\t * Retrieves the action buttons for the container.\n\t *\n\t * @private\n\t * @returns {Button[]} An array of Button instances.\n\t */\n\tpublic getContainerActionButtons(): Button[] {\n\t\tif (!this._containerActionButtons) {\n\t\t\tthis._containerActionButtons = [];\n\t\t\tthis._containerActionButtons.push(\n\t\t\t\tthis._createAddTilesButton(tilesContainerActionButtons.ADD_TILES, \"containerSmartAppsDialog\")\n\t\t\t);\n\n\t\t\tconst containerFullScreenActionButton = createShowMoreActionButton(\n\t\t\t\tthis,\n\t\t\t\ttilesContainerActionButtons.SHOW_MORE,\n\t\t\t\t\"containerTilesShowMore\"\n\t\t\t);\n\t\t\tif (containerFullScreenActionButton) {\n\t\t\t\tthis._controlMap.set(`${this.getId()}-${tilesContainerActionButtons.SHOW_MORE}`, containerFullScreenActionButton);\n\t\t\t\tthis._containerActionButtons.push(containerFullScreenActionButton);\n\t\t\t}\n\t\t}\n\t\treturn this._containerActionButtons;\n\t}\n\n\t/**\n\t * Creates a refresh menu item.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the menu item.\n\t * @param {string} [fesrId] - The FESR ID for the menu item.\n\t * @returns {MenuItem} The created MenuItem instance.\n\t */\n\tprivate _createRefreshMenuItem(id: string, fesrId?: string): MenuItem {\n\t\tconst menuItem = new MenuItem(`${this.getId()}-${id}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tvisible: false,\n\t\t\tpress: () => void this.refreshData(true)\n\t\t});\n\t\tthis._controlMap.set(`${this.getId()}-${id}`, menuItem);\n\t\tif (fesrId) {\n\t\t\taddFESRId(menuItem, fesrId);\n\t\t}\n\n\t\treturn menuItem;\n\t}\n\n\t/**\n\t * Creates an \"Add from Favorites\" menu item.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the menu item.\n\t * @param {string} [fesrId] - The FESR ID for the menu item.\n\t * @returns {MenuItem} The created MenuItem instance.\n\t */\n\tprivate _createAddFromFavMenuItem(id: string, fesrId?: string): MenuItem {\n\t\tif (!this._controlMap.get(`${this.getId()}-${id}`)) {\n\t\t\tconst menuItem = new MenuItem(`${this.getId()}-${id}`, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"addSmartApps\"),\n\t\t\t\ticon: \"sap-icon://duplicate\",\n\t\t\t\tvisible: false,\n\t\t\t\tpress: () => void this._handleAddFromFavApps()\n\t\t\t});\n\t\t\tthis._controlMap.set(`${this.getId()}-${id}`, menuItem);\n\t\t\tif (fesrId) {\n\t\t\t\taddFESRId(menuItem, fesrId);\n\t\t\t}\n\t\t}\n\t\treturn this._controlMap.get(`${this.getId()}-${id}`) as MenuItem;\n\t}\n\n\t/**\n\t * Creates an \"Edit Tiles\" menu item.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the menu item.\n\t * @param {string} [fesrId] - The FESR ID for the menu item.\n\t * @returns {MenuItem} The created MenuItem instance.\n\t */\n\tprivate _createEditTilesMenuItem(id: string, fesrId?: string): MenuItem {\n\t\tconst menuItem = new MenuItem(`${this.getId()}-${id}`, {\n\t\t\ttitle: this._i18nBundle.getText(\"editLinkTiles\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tvisible: false,\n\t\t\tpress: (event: Event) => this.handleEditTiles(event)\n\t\t});\n\t\tthis._controlMap.set(`${this.getId()}-${id}`, menuItem);\n\t\tif (fesrId) {\n\t\t\taddFESRId(menuItem, fesrId);\n\t\t}\n\n\t\treturn menuItem;\n\t}\n\n\t/**\n\t * Creates an \"Add Tiles\" button.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the button.\n\t * @param {string} [fesrId] - The FESR ID for the button.\n\t * @returns {Button} The created Button instance.\n\t */\n\tprivate _createAddTilesButton(id: string, fesrId?: string): Button {\n\t\tconst actionButton = new Button(`${this.getId()}-${id}`, {\n\t\t\ttext: this._i18nBundle.getText(\"appFinderLink\"),\n\t\t\ttooltip: this._i18nBundle.getText(\"appFinderLink\"),\n\t\t\tpress: async () => {\n\t\t\t\tconst container = this._getInsightsContainer() as BaseContainer;\n\t\t\t\tif (checkPanelExists(container, appsConatinerlName, favAppPanelName)) {\n\t\t\t\t\t// Favorite App Panel is visible, proceed as usual\n\t\t\t\t\tvoid this._handleAddFromFavApps();\n\t\t\t\t} else {\n\t\t\t\t\t// Favorite App Panel is NOT visible, navigate to App Finder\n\t\t\t\t\tawait this.navigateToAppFinder();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._controlMap.set(`${this.getId()}-${id}`, actionButton);\n\t\tif (fesrId) {\n\t\t\taddFESRId(actionButton, fesrId);\n\t\t}\n\n\t\treturn actionButton;\n\t}\n\n\t/**\n\t * Toggles the visibility of the header actions.\n\t *\n\t * @param {boolean} bShow - Whether to show or hide the header actions.\n\t * @private\n\t */\n\tprivate _toggleHeaderActions(bShow: boolean) {\n\t\t(this.getAggregation(\"menuItems\") as MenuItem[])?.forEach((menuItem) => {\n\t\t\tthis._getInsightsContainer()?.toggleMenuListItem(menuItem, bShow);\n\t\t});\n\t\t(this.getAggregation(\"actionButtons\") as Button[])?.forEach((actionButton) =>\n\t\t\tthis._getInsightsContainer()?.toggleActionButton(actionButton, bShow)\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":271,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Card","GridContainer","GridContainerSettings","Button","GenericTile","HeaderContainer","IllustratedMessage","IllustratedMessageSize","Text","TileContent","VBox","sap_m_library","Device","UI5Element","InvisibleText","DateFormat","JSONModel","__BasePanel","__MenuItem","__ToDosContainer","__BatchHelper","___utils_Device","___utils_FESRUtil","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","Priority","_finallyRethrows","finalizer","bind","URLHelper","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","BasePanel","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","MenuItem","ToDosContainer","BatchHelper","calculateCardWidth","DeviceType","fetchElementProperties","addFESRId","HttpHelper","Constants","SITUATION_ICON","PLACEHOLDER_ITEMS_COUNT","TODO_CARDS_LIMIT","TODO_SECTION_LIMIT","TODOS_REFRESH_INTERVAL","MOBILE_DEVICE_MAX_WIDTH","DEFAULT_TITLE_HEIGHT","DEFAULT_CARD_HEIGHT","DEFAULT_TAB_HEADER_HEIGHT","GAP","ToDoPanel","extend","metadata","library","properties","baseUrl","type","group","defaultValue","visibility","countUrl","dataUrl","targetAppUrl","minCardWidth","maxCardWidth","useBatch","aggregations","content","multiple","singularName","constructor","_constructor","id","settings","BasePanel.prototype.constructor.call","batchHelper","init","_init","BasePanel.prototype.init.call","_oData","isLoaded","hasError","cardWidth","getSupported","isExpandedOnce","isCountCalledOnce","illustrationType","refreshInfo","_toRelativeDateTime","Date","fullRefreshInfo","_toFullRelativeDateTime","horizontalCardCount","illustrationTitle","_i18nBundle","getText","illustrationDescription","isPhone","resize","width","system","phone","tiles","Array","fill","loadState","displayTiles","_controlModel","requests","_toDoWrapper","getId","renderType","items","_generateCardContainer","_generateMobileCardContainer","_generateErrorMessage","setModel","addContent","menuItem","title","icon","press","_onPressRefresh","addAggregation","_accRefreshLabel","text","addDependent","_refreshBtn","addAriaLabelledBy","setProperty","attachEvent","Promise","resolve","_beforePanelExpand","_cardContainer","inlineBlockLayout","snapToRow","visible","layout","columns","columnSize","gap","addStyleClass","_mobileCardContainer","scrollStep","gridLayout","scrollTime","showDividers","_errorCard","_errorMessage","illustrationSize","Base","description","getParent","_getSelectedPanel","_loadCards","forceRefresh","_this2","_loadToDos","undefined","_bindInnerControls","selectedKey","getProperty","_isElementExpanded","_setCount","_getSupported","setTimeout","_generatePlaceHolderTiles","_generateRequestObject","onlyCount","concat","_submitBatch","fireEvent","_setSectionRefreshInterval","lastRefreshedTime","_updateRefreshInformation","_switchTabIfRequired","_updateHeaderIfExclusive","catch","error","Error","message","finally","refresh","_adjustLayout","_handleError","getTargetAppUrl","removeContent","_isExclusivePanel","_setTitle","String","_innerControlsBound","bindAggregation","path","factory","context","generateCardTemplate","bindProperty","_generateCardTemplate","mode","frameType","pressEnabled","header","tileContent","priority","priorityText","_toPriorityText","footer","key","VeryHigh","High","Medium","Low","_cardCount","_getVisibleCardCount","isPlaceholder","calculationProperties","_getLayout","isElementExpanded","targetDomRef","getDomRef","isHeaderVisible","containerDomRef","_getFullScreenContainer","sectionNodeIndex","childNodes","isMobileDevice","cardCount","getHorizontalCardCount","getVerticalCardCount","toDosContainer","_getCurrentExpandedElementName","_getHorizontalCardCount","domRef","domProperties","availableWidth","Object","slice","reduce","propertyValue","actualCardCount","minWidth","maxWidth","cardLayoutConfig","containerWidth","totalCards","Math","max","floor","_getVerticalCardCount","sectionDomProperties","parentDomProperties","parentElement","titleHeight","calculateTitleHeight","availableHeight","height","margin","cardHeight","verticalCardCount","_calculateTitleHeight","container","containerHeaderRef","getElementById","iconTabBarHeaderRef","_getInnerControl","defaultHeight","clientHeight","options","_this3","getCountUrl","urls","generateRequestUrls","splice","baseURL","getBaseUrl","requestURLs","success","args","onDataReceived","Number","_handleEmptyCards","_generateRequestUrls","getDataUrl","queryString","includes","_onDataReceived","results","_this4","getNoDataText","allPanels","getContent","supportedPanels","filter","panel","clearInterval","refreshFn","setInterval","setAggregation","_updateContainerHeader","displayCards","getDeviceType","Mobile","toggleFullScreenElements","date","inputDate","isNaN","relativeDateFormatter","format","fullRelativeDateFormatter","_getNoDataText","_parseResponse","response","d","numericD","numericResponse","_this5","all","map","request","createMultipartRequest","GetMultipleRequests","responses","processedResponses","JSON","parse","_temp","_wasThrown","_result","_clearRequests","_isLoaded","parentContainer","isContainerExpanded","_setLoaded","_setSupported","isSupported","_getAppIntent","pattern","match","semanticObject","action","params","paramsArray","split","param","_this6","_interrupt","_temp5","_temp3","nextAvailablePanel","panels","getAggregation","_temp4","_temp2","_getCardCount","_onPressViewAll","redirect","_this7","_temp6","exit","_exit","getDateTimeInstance","style","relative","relativeStyle"],"sources":["ToDoPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Card from \"sap/f/Card\";\nimport GridContainer from \"sap/f/GridContainer\";\nimport GridContainerSettings from \"sap/f/GridContainerSettings\";\nimport Button from \"sap/m/Button\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport Text from \"sap/m/Text\";\nimport TileContent from \"sap/m/TileContent\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState, Priority, URLHelper } from \"sap/m/library\";\nimport Device from \"sap/ui/Device\";\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseContainer from \"./BaseContainer\";\nimport BasePanel from \"./BasePanel\";\nimport IToDoPanel from \"./IToDoPanel\";\nimport MenuItem from \"./MenuItem\";\nimport { $ToDoPanelSettings } from \"./ToDoPanel\";\nimport ToDosContainer from \"./ToDosContainer\";\nimport BatchHelper from \"./utils/BatchHelper\";\nimport { calculateCardWidth, DeviceType, fetchElementProperties } from \"./utils/Device\";\nimport { addFESRId } from \"./utils/FESRUtil\";\nimport HttpHelper from \"./utils/HttpHelper\";\n\ninterface Request {\n\tbaseURL: string;\n\trequestURLs: string[];\n\tsuccess(args: unknown[]): Promise<void>;\n}\n\nexport interface CalculationProperties {\n\tisPlaceholder?: boolean;\n}\n\nexport interface Intent {\n\ttarget: {\n\t\tsemanticObject: string;\n\t\taction: string;\n\t};\n\tparams: {\n\t\t[key: string]: string;\n\t};\n}\n\nexport interface RequestOptions {\n\ttype: string;\n\tonlyCount?: boolean;\n}\n\nexport interface Response {\n\td?: {\n\t\tresults?: unknown[];\n\t};\n\tresults?: unknown[];\n\tvalue?: unknown[];\n}\n\nconst Constants = {\n\tSITUATION_ICON: \"sap-icon://message-warning\",\n\tPLACEHOLDER_ITEMS_COUNT: 5,\n\tTODO_CARDS_LIMIT: 100,\n\tTODO_SECTION_LIMIT: 6,\n\tTODOS_REFRESH_INTERVAL: 65000,\n\tMOBILE_DEVICE_MAX_WIDTH: 600,\n\tDEFAULT_TITLE_HEIGHT: 33,\n\tDEFAULT_CARD_HEIGHT: 168,\n\tDEFAULT_TAB_HEADER_HEIGHT: 44,\n\tGAP: 16\n};\n\n/**\n *\n * Abstract Panel class for managing and storing To-Do cards.\n *\n * @extends BasePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.ToDoPanel\n */\nexport default abstract class ToDoPanel extends BasePanel implements IToDoPanel {\n\tprotected _oData!: Record<string, unknown>;\n\tprotected requests!: Request[];\n\tprivate _controlModel!: JSONModel;\n\tprivate _toDoWrapper!: VBox;\n\tprivate _cardContainer!: GridContainer;\n\tprivate _mobileCardContainer!: HeaderContainer;\n\tprivate _errorCard!: Card;\n\tprivate _errorMessage!: IllustratedMessage;\n\tprivate _refreshBtn!: Button;\n\tprivate _loadToDos!: Promise<void> | undefined;\n\tprivate _innerControlsBound!: boolean;\n\tprivate _cardCount!: number;\n\tprivate batchHelper!: BatchHelper;\n\tprivate _accRefreshLabel!: InvisibleText;\n\n\tconstructor(id?: string | $ToDoPanelSettings);\n\tconstructor(id?: string, settings?: $ToDoPanelSettings);\n\t/**\n\t * Constructor for a new To-Dos Panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $ToDoPanelSettings) {\n\t\tsuper(id, settings);\n\t\tthis.batchHelper = new BatchHelper();\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Specifies the base URL for batching requests sent from the panel.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tbaseUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL for fetching the count of requested to-do cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tcountUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL from where the to-do cards should be fetched.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the URL of the target application associated with the to-do cards.\n\t\t\t *\n\t\t\t * @public\n\t\t\t */\n\t\t\ttargetAppUrl: { type: \"string\", group: \"Misc\", defaultValue: \"\", visibility: \"public\" },\n\t\t\t/**\n\t\t\t * Specifies the minimum width of the card in pixels.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tminCardWidth: { type: \"int\", group: \"Misc\", defaultValue: 304, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies the maximum width of the card in pixels.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tmaxCardWidth: { type: \"int\", group: \"Misc\", defaultValue: 583, visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Specifies whether the panel should batch requests.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tuseBatch: { type: \"boolean\", group: \"Misc\", defaultValue: true, visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Specifies the content aggregation of the panel.\n\t\t\t */\n\t\t\tcontent: { multiple: true, singularName: \"content\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tstatic fullRelativeDateFormatter = DateFormat.getDateTimeInstance({\n\t\tstyle: \"long\",\n\t\trelative: true,\n\t\trelativeStyle: \"wide\"\n\t});\n\n\tstatic relativeDateFormatter = DateFormat.getDateTimeInstance({\n\t\tstyle: \"medium\",\n\t\trelative: true,\n\t\trelativeStyle: \"short\"\n\t});\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Initialise ToDos Model\n\t\tthis._oData = {\n\t\t\tlength: 0,\n\t\t\tisLoaded: false,\n\t\t\thasError: false,\n\t\t\tcardWidth: \"20rem\",\n\t\t\tgetSupported: false,\n\t\t\tisExpandedOnce: false,\n\t\t\tisCountCalledOnce: false,\n\t\t\tillustrationType: \"sapIllus-NoTasks\",\n\t\t\trefreshInfo: this._toRelativeDateTime(new Date()),\n\t\t\tfullRefreshInfo: this._toFullRelativeDateTime(new Date()),\n\t\t\thorizontalCardCount: Constants.PLACEHOLDER_ITEMS_COUNT,\n\t\t\tillustrationTitle: this._i18nBundle.getText(\"noToDoTitle\"),\n\t\t\tillustrationDescription: this._i18nBundle.getText(\"noToDoDesc\"),\n\t\t\tisPhone: Device.resize.width < Constants.MOBILE_DEVICE_MAX_WIDTH || Device.system.phone,\n\t\t\ttiles: new Array(Constants.PLACEHOLDER_ITEMS_COUNT).fill({ loadState: \"Loading\" }),\n\t\t\tdisplayTiles: new Array(Constants.PLACEHOLDER_ITEMS_COUNT).fill({ loadState: \"Loading\" })\n\t\t};\n\t\tthis._controlModel = new JSONModel(this._oData);\n\n\t\t//Initialize Request Queue\n\t\tthis.requests = [];\n\n\t\t//Add Wrapper Container to Panel\n\t\tthis._toDoWrapper = new VBox(`${this.getId()}-toDosWrapper`, {\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [this._generateCardContainer(), this._generateMobileCardContainer(), this._generateErrorMessage()]\n\t\t});\n\t\tthis._toDoWrapper.setModel(this._controlModel);\n\t\tthis.addContent(this._toDoWrapper);\n\n\t\t//Setup Common Menu Items\n\t\tconst menuItem = new MenuItem(`${this.getId()}-refresh`, {\n\t\t\ttitle: this._i18nBundle.getText(\"refresh\"),\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\tpress: () => this._onPressRefresh()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"todosRefresh\");\n\n\t\tthis._accRefreshLabel = new InvisibleText(`${this.getId()}-refreshAccText`, {\n\t\t\ttext: this._toFullRelativeDateTime(new Date())\n\t\t});\n\t\tthis.addDependent(this._accRefreshLabel);\n\t\tthis._refreshBtn = new Button(`${this.getId()}-refreshBtn`, {\n\t\t\ticon: \"sap-icon://refresh\",\n\t\t\ttext: this._toRelativeDateTime(new Date()),\n\t\t\tpress: () => this._onPressRefresh()\n\t\t});\n\t\tthis._refreshBtn.addAriaLabelledBy(this._accRefreshLabel);\n\t\taddFESRId(this._refreshBtn, \"manualTodoRefresh\");\n\t\tthis.addAggregation(\"actionButtons\", this._refreshBtn);\n\n\t\t//Configure Full Screen and Expand Event handlers\n\t\tthis.setProperty(\"enableFullScreen\", true);\n\t\tthis.attachEvent(\"onExpand\", async () => {\n\t\t\tawait this._beforePanelExpand();\n\t\t});\n\t}\n\n\t/**\n\t * Generates the card container (GridContainer) for displaying cards.\n\t *\n\t * @private\n\t * @returns {GridContainer} The generated card container.\n\t */\n\tprivate _generateCardContainer(): GridContainer {\n\t\t//create container\n\t\tif (!this._cardContainer) {\n\t\t\tthis._cardContainer = new GridContainer(`${this.getId()}-flexContainer`, {\n\t\t\t\tinlineBlockLayout: true,\n\t\t\t\tsnapToRow: true,\n\t\t\t\tvisible: \"{= !${/isPhone} && !${/hasError} && (!${/isLoaded} || ${/length} > 0) }\",\n\t\t\t\tlayout: new GridContainerSettings(`${this.getId()}-layout`, {\n\t\t\t\t\tcolumns: \"{/horizontalCardCount}\",\n\t\t\t\t\tcolumnSize: \"{/cardWidth}\",\n\t\t\t\t\tgap: \"1rem\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapCuxToDoCardsContainer\");\n\t\t}\n\n\t\treturn this._cardContainer;\n\t}\n\n\t/**\n\t * Generates the mobile card container (HeaderContainer) for displaying cards on mobile devices.\n\t *\n\t * @private\n\t * @returns {HeaderContainer} The generated mobile card container.\n\t */\n\tprivate _generateMobileCardContainer(): HeaderContainer {\n\t\t// Create a HeaderContainer for mobile devices\n\t\tif (!this._mobileCardContainer) {\n\t\t\tthis._mobileCardContainer = new HeaderContainer(`${this.getId()}-headerContainer`, {\n\t\t\t\tvisible: \"{/isPhone}\",\n\t\t\t\tscrollStep: 0,\n\t\t\t\tgridLayout: true,\n\t\t\t\tscrollTime: 1000,\n\t\t\t\tshowDividers: false,\n\t\t\t\tsnapToRow: true\n\t\t\t}).addStyleClass(\"sapCuxToDoMobileCardsContainer\");\n\t\t}\n\n\t\treturn this._mobileCardContainer;\n\t}\n\n\t/**\n\t * Generates the error message card for displaying error messages.\n\t *\n\t * @private\n\t * @returns {Card} The generated error message card.\n\t */\n\tprivate _generateErrorMessage(): Card {\n\t\tif (!this._errorCard) {\n\t\t\tthis._errorMessage = new IllustratedMessage(`${this.getId()}-errorMessage`, {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Base,\n\t\t\t\ttitle: \"{/illustrationTitle}\",\n\t\t\t\tdescription: \"{/illustrationDescription}\",\n\t\t\t\tillustrationType: \"{/illustrationType}\"\n\t\t\t});\n\t\t\tthis._errorCard = new Card(`${this.getId()}-errorCard`, {\n\t\t\t\tcontent: this._errorMessage,\n\t\t\t\tvisible: \"{= ${/tiles/length} === 0 || ${/hasError} === true }\"\n\t\t\t});\n\t\t}\n\n\t\treturn this._errorCard;\n\t}\n\n\t/**\n\t * Handler for the Refresh button for each panel.\n\t * Reloads the selected panel\n\t *\n\t * @async\n\t * @private\n\t */\n\tprivate _onPressRefresh(): void {\n\t\tvoid ((this.getParent() as ToDosContainer)?._getSelectedPanel() as ToDoPanel)?._loadCards(true);\n\t}\n\n\t/**\n\t * Loads the To-Do cards for the panel.\n\t *\n\t * @private\n\t * @param {boolean} forceRefresh - force refresh cards\n\t * @returns {Promise<void>} A promise that resolves when the cards are loaded.\n\t */\n\tpublic async _loadCards(forceRefresh?: boolean): Promise<void> {\n\t\tif (this._loadToDos !== undefined && !forceRefresh) {\n\t\t\treturn this._loadToDos;\n\t\t} else {\n\t\t\tthis._bindInnerControls();\n\t\t\tthis._loadToDos = new Promise((resolve) => {\n\t\t\t\tconst selectedKey = (this.getParent() as BaseContainer)?._getSelectedPanel()?.getProperty(\"key\") as string;\n\t\t\t\tconst requests: Request[] = [];\n\n\t\t\t\tthis._oData.isLoaded = false;\n\t\t\t\tthis._oData.isCountCalledOnce = false;\n\t\t\t\tthis._oData.isExpandedOnce = this._isElementExpanded();\n\t\t\t\tthis._setCount();\n\n\t\t\t\tif (this._getSupported()) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t// Load Placeholder Cards\n\t\t\t\t\t\tthis._generatePlaceHolderTiles();\n\n\t\t\t\t\t\t// Add Initial Batch Requests\n\t\t\t\t\t\trequests.push(\n\t\t\t\t\t\t\tthis._generateRequestObject({ type: selectedKey, onlyCount: selectedKey !== this.getProperty(\"key\") })\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.requests = this.requests.concat(requests);\n\n\t\t\t\t\t\t//Submit Batch Requests\n\t\t\t\t\t\tthis._submitBatch()\n\t\t\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\t\t\tthis._oData.isLoaded = selectedKey === this.getProperty(\"key\");\n\t\t\t\t\t\t\t\tthis.fireEvent(\"loaded\");\n\n\t\t\t\t\t\t\t\tthis._oData.isCountCalledOnce = true;\n\t\t\t\t\t\t\t\tthis._setCount(this._oData.length as string);\n\n\t\t\t\t\t\t\t\tthis._setSectionRefreshInterval();\n\t\t\t\t\t\t\t\tthis._oData.refreshInfo = this._toRelativeDateTime(new Date());\n\t\t\t\t\t\t\t\tthis._oData.fullRefreshInfo = this._toFullRelativeDateTime(new Date());\n\t\t\t\t\t\t\t\tthis._oData.lastRefreshedTime = new Date();\n\t\t\t\t\t\t\t\tthis._updateRefreshInformation();\n\n\t\t\t\t\t\t\t\tawait this._switchTabIfRequired();\n\t\t\t\t\t\t\t\tthis._updateHeaderIfExclusive();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error: unknown) => {\n\t\t\t\t\t\t\t\tLog.error(error instanceof Error ? error.message : \"\");\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\t\tthis._controlModel.refresh();\n\t\t\t\t\t\t\t\tthis._adjustLayout();\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis._handleError(`User not authorized to access: + ${this.getTargetAppUrl()}`);\n\n\t\t\t\t\t// Remove Item from IconTabBar\n\t\t\t\t\t(this.getParent() as ToDosContainer)?.removeContent(this);\n\n\t\t\t\t\t//resolve the promise\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this._loadToDos;\n\t}\n\n\t/**\n\t * Update Container Header if the panel is exclusive\n\t *\n\t * @private\n\t */\n\tprivate _updateHeaderIfExclusive() {\n\t\tif (this._isExclusivePanel()) {\n\t\t\t(this.getParent() as ToDosContainer)._setTitle(`${this._i18nBundle.getText(\"toDosTitle\")} (${String(this._oData.length)})`);\n\t\t}\n\t}\n\n\t/**\n\t * Creates a one-time binding of inner controls for the ToDoPanel.\n\t * @private\n\t */\n\tprivate _bindInnerControls(): void {\n\t\tif (!this._innerControlsBound) {\n\t\t\t//bind card container\n\t\t\tthis._cardContainer.bindAggregation(\"items\", {\n\t\t\t\tpath: \"/displayTiles\",\n\t\t\t\tlength: Constants.TODO_CARDS_LIMIT,\n\t\t\t\tfactory: (id, context) => this.generateCardTemplate(id, context)?.bindProperty?.(\"width\", { path: \"/cardWidth\" })\n\t\t\t});\n\n\t\t\t//bind mobile card container\n\t\t\tthis._mobileCardContainer.bindAggregation(\"content\", {\n\t\t\t\tpath: \"/displayTiles\",\n\t\t\t\tlength: Constants.TODO_CARDS_LIMIT,\n\t\t\t\tfactory: (id, context) => this.generateCardTemplate(id, context)?.bindProperty?.(\"width\", { path: \"/cardWidth\" })\n\t\t\t});\n\n\t\t\tthis._innerControlsBound = true;\n\t\t}\n\t}\n\n\t/**\n\t * Generates the card template for the Current Panel.\n\t *\n\t * @public\n\t * @param {string} id The ID for the template.\n\t * @param {object} context The context for the template.\n\t * @returns {object} The generated card template.\n\t */\n\tpublic generateCardTemplate(id: string, context: Context): Control {\n\t\treturn new GenericTile(`${id}-tile`, {\n\t\t\tmode: \"ActionMode\",\n\t\t\tframeType: \"TwoByOne\",\n\t\t\tpressEnabled: true,\n\t\t\theader: context.getProperty(\"title\") as string,\n\t\t\twidth: context.getProperty(\"/cardWidth\") as string,\n\t\t\tstate: context.getProperty(\"loadState\") as LoadState,\n\t\t\ttileContent: [\n\t\t\t\tnew TileContent(`${id}-tileContent`, {\n\t\t\t\t\tpriority: context.getProperty(\"priority\") as Priority,\n\t\t\t\t\tpriorityText: this._toPriorityText(context.getProperty(\"priority\") as Priority),\n\t\t\t\t\tfooter: context.getProperty(\"footerText\") as string,\n\t\t\t\t\tcontent: new Text(`${id}-situationContent`, {\n\t\t\t\t\t\ttext: context.getProperty(\"message\") as string\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n\n\t/**\n\t * Convert a priority string to a corresponding priority text.\n\t *\n\t * @private\n\t * @param {Priority} priority - The priority string.\n\t * @returns {string} The corresponding priority text.\n\t */\n\tpublic _toPriorityText(priority: Priority): string {\n\t\tlet key;\n\t\tif (priority === Priority.VeryHigh) {\n\t\t\tkey = \"veryHighPriority\";\n\t\t} else if (priority === Priority.High) {\n\t\t\tkey = \"highPriority\";\n\t\t} else if (priority === Priority.Medium) {\n\t\t\tkey = \"mediumPriority\";\n\t\t} else if (priority === Priority.Low) {\n\t\t\tkey = \"lowPriority\";\n\t\t} else {\n\t\t\tkey = \"nonePriority\";\n\t\t}\n\n\t\treturn this._i18nBundle.getText(key) as string;\n\t}\n\n\t/**\n\t * Generates placeholder tiles for the panel.\n\t *\n\t * @private\n\t */\n\tprivate _generatePlaceHolderTiles(): void {\n\t\tthis._cardCount = this._getVisibleCardCount({ isPlaceholder: true });\n\t\tthis._oData.displayTiles = this._oData.tiles = new Array(this._cardCount).fill({ loadState: \"Loading\" });\n\t\tthis._oData.isLoaded = this._oData.hasError = false;\n\t\tthis._controlModel.refresh();\n\t}\n\n\t/**\n\t * Calculates the number of visible cards that can fit within the available space of the To-Dos panel.\n\t *\n\t * @private\n\t * @param {CalculationProperties} [calculationProperties] - Optional properties to assist in the calculation.\n\t * @returns {number} - The number of visible cards.\n\t */\n\tprivate _getVisibleCardCount(calculationProperties?: CalculationProperties): number {\n\t\tconst layout = (this.getParent() as ToDosContainer)?._getLayout();\n\t\tlet isElementExpanded = false;\n\t\tlet targetDomRef = this._toDoWrapper?.getDomRef();\n\n\t\tif (layout) {\n\t\t\tisElementExpanded = this._isElementExpanded();\n\t\t\tconst isHeaderVisible = layout.getProperty(\"showHeader\") as boolean;\n\t\t\tconst containerDomRef = (isElementExpanded ? layout._getFullScreenContainer() : layout).getDomRef();\n\t\t\tconst sectionNodeIndex = isHeaderVisible && !isElementExpanded ? 1 : 0;\n\t\t\ttargetDomRef = containerDomRef?.childNodes[sectionNodeIndex] as Element;\n\t\t}\n\n\t\tconst isMobileDevice = this._controlModel.getProperty(\"/isPhone\") as boolean;\n\t\tlet cardCount = isMobileDevice ? Constants.TODO_SECTION_LIMIT : 1;\n\n\t\tif (targetDomRef) {\n\t\t\t// @ts-expect-error Calculate Horizontal Card Count\n\t\t\tcardCount = this.getHorizontalCardCount(targetDomRef, calculationProperties);\n\n\t\t\tif (isElementExpanded) {\n\t\t\t\t// @ts-expect-error Calculate Vertical Card Count\n\t\t\t\tcardCount *= this.getVerticalCardCount(targetDomRef, calculationProperties);\n\t\t\t}\n\n\t\t\t//Restrict cards to the maximum limit\n\t\t\tcardCount = cardCount > Constants.TODO_CARDS_LIMIT ? Constants.TODO_CARDS_LIMIT : cardCount;\n\t\t}\n\n\t\treturn cardCount;\n\t}\n\n\t/**\n\t * Checks if the current element is expanded to full screen.\n\t *\n\t * @private\n\t * @returns {boolean} - True if the element is expanded, otherwise false.\n\t */\n\tprivate _isElementExpanded(): boolean {\n\t\tconst toDosContainer = this.getParent() as ToDosContainer;\n\t\tconst layout = toDosContainer._getLayout();\n\t\treturn layout?._getCurrentExpandedElementName() === toDosContainer.getProperty(\"fullScreenName\");\n\t}\n\n\t/**\n\t * Calculates the number of horizontal cards that can fit within the available width of the given DOM element.\n\t *\n\t * @private\n\t * @param {Element} domRef - The DOM element to calculate the horizontal card count for.\n\t * @returns {number} - The number of horizontal cards that can fit within the available width.\n\t */\n\tprotected getHorizontalCardCount(domRef: Element): number {\n\t\tconst domProperties = fetchElementProperties(domRef, [\"width\", \"padding-left\", \"padding-right\", \"margin-left\", \"margin-right\"]);\n\t\tconst availableWidth = Object.values(domProperties)\n\t\t\t.slice(1)\n\t\t\t.reduce((width, propertyValue) => width - propertyValue, domProperties[\"width\"]);\n\t\tconst actualCardCount = this._oData.length as number;\n\t\tconst isMobileDevice = this._controlModel.getProperty(\"/isPhone\") as boolean;\n\t\tlet horizontalCardCount;\n\t\tconst minWidth = this.getProperty(\"minCardWidth\") as number;\n\t\tconst maxWidth = this.getProperty(\"maxCardWidth\") as number;\n\t\tconst cardLayoutConfig = {\n\t\t\tcontainerWidth: availableWidth,\n\t\t\ttotalCards: actualCardCount,\n\t\t\tminWidth: minWidth,\n\t\t\tmaxWidth: maxWidth,\n\t\t\tgap: Constants.GAP\n\t\t};\n\t\tconst cardWidth = calculateCardWidth(cardLayoutConfig);\n\t\tif (isMobileDevice) {\n\t\t\thorizontalCardCount = Constants.TODO_SECTION_LIMIT;\n\t\t} else {\n\t\t\thorizontalCardCount = Math.max(Math.floor(availableWidth / cardWidth), 1);\n\t\t}\n\n\t\t// Calculate Horizontal Card Count\n\t\tthis._controlModel.setProperty(\"/cardWidth\", `${cardWidth / 16}rem`);\n\t\tthis._controlModel.setProperty(\"/horizontalCardCount\", horizontalCardCount);\n\n\t\treturn horizontalCardCount;\n\t}\n\n\t/**\n\t * Calculates the number of vertical cards that can fit within the available height of the given DOM element.\n\t *\n\t * @private\n\t * @param {Element} domRef - The DOM element to calculate the vertical card count for.\n\t * @returns {number} - The number of vertical cards that can fit within the available height.\n\t */\n\tprotected getVerticalCardCount(domRef: Element): number {\n\t\tconst sectionDomProperties = fetchElementProperties(domRef, [\"padding-top\"]);\n\t\tconst parentDomProperties = fetchElementProperties(domRef.parentElement as Element, [\"height\"]);\n\t\tconst titleHeight = this.calculateTitleHeight();\n\t\tconst availableHeight = parentDomProperties.height - sectionDomProperties[\"padding-top\"] * 2 - titleHeight;\n\t\tconst margin = 14;\n\t\tconst cardHeight = Constants.DEFAULT_CARD_HEIGHT + margin;\n\t\tconst verticalCardCount = Math.max(Math.floor(availableHeight / cardHeight), 2); //minimum of 2 rows should be displayed\n\n\t\treturn verticalCardCount;\n\t}\n\n\t/**\n\t * Calculates the combined height of the title and tab header for the To-Dos panel.\n\t *\n\t * @private\n\t * @returns {number} - The combined height of the title and tab header.\n\t */\n\tprotected calculateTitleHeight(): number {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tconst containerHeaderRef = UI5Element.getElementById(`${container.getId()}-header`)?.getDomRef();\n\t\tconst iconTabBarHeaderRef = UI5Element.getElementById(`${container._getInnerControl().getId()}--header`)?.getDomRef();\n\t\tconst defaultHeight = Constants.DEFAULT_TITLE_HEIGHT + Constants.DEFAULT_TAB_HEADER_HEIGHT;\n\t\tlet titleHeight = 0;\n\n\t\tif (containerHeaderRef && iconTabBarHeaderRef) {\n\t\t\ttitleHeight = containerHeaderRef.clientHeight + iconTabBarHeaderRef.clientHeight;\n\t\t}\n\n\t\treturn Math.max(titleHeight, defaultHeight);\n\t}\n\n\t/**\n\t * Generates a request object for batch requests.\n\t *\n\t * @private\n\t * @param {RequestOptions} options - Additional properties for generating the request object.\n\t * @param {boolean} [options.onlyCount] - Whether to include only the count in the request.\n\t * @returns {Object} The generated request object.\n\t */\n\tprivate _generateRequestObject(options: RequestOptions): Request {\n\t\tconst cardCount = this._getVisibleCardCount();\n\t\tconst countUrl = this.getCountUrl();\n\t\tconst urls = this.generateRequestUrls?.(cardCount);\n\n\t\tif (countUrl && options?.onlyCount) {\n\t\t\turls.splice(1);\n\t\t}\n\n\t\treturn {\n\t\t\tbaseURL: this.getBaseUrl(),\n\t\t\trequestURLs: urls,\n\t\t\tsuccess: async (args: unknown[]): Promise<void> => {\n\t\t\t\t//data process extension for panels\n\t\t\t\tawait this.onDataReceived(countUrl ? args.splice(1) : args, options);\n\n\t\t\t\t//set card count and handle empty cards\n\t\t\t\tthis._oData.length = countUrl ? Number(args[0]) : (this._oData.tiles as object[]).length;\n\t\t\t\tthis._handleEmptyCards();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Generates request URLs for fetching data based on the specified card count.\n\t *\n\t * @public\n\t * @param {number} cardCount - The number of cards to retrieve.\n\t * @returns {string[]} An array of request URLs.\n\t */\n\tpublic generateRequestUrls(cardCount: number): string[] {\n\t\tconst urls = [];\n\t\tconst countUrl = this.getCountUrl();\n\n\t\tif (countUrl) {\n\t\t\turls.push(countUrl);\n\t\t}\n\n\t\tlet dataUrl = this.getDataUrl();\n\t\tif (this.getProperty(\"useBatch\")) {\n\t\t\tconst queryString = `$skip=0&$top=${cardCount}`;\n\t\t\tdataUrl = dataUrl.includes(\"?\") ? `${dataUrl}&${queryString}` : `${dataUrl}?${queryString}`;\n\t\t}\n\t\turls.push(dataUrl);\n\n\t\treturn urls;\n\t}\n\n\t/**\n\t * A promise that resolves when the data has been processed.\n\t * This method can be overridden to perform additional data processing operations.\n\t *\n\t * @public\n\t * @async\n\t * @param {unknown[]} results - Data retrieved from the batch call.\n\t * @param {RequestOptions} options - Additional options for parsing the data.\n\t * Structure may vary based on the backend service.\n\t */\n\tpublic async onDataReceived(results: unknown[] = [], options?: RequestOptions): Promise<void> {\n\t\tif (!options || (options && !options.onlyCount)) {\n\t\t\tthis._oData.displayTiles = this._oData.tiles = results[0] || [];\n\t\t}\n\n\t\tawait Promise.resolve();\n\t}\n\n\t/**\n\t * Handles the scenario when there are no cards to display.\n\t * Updates the illustration and description based on the selected panel and card count.\n\t *\n\t * @private\n\t */\n\tprivate _handleEmptyCards() {\n\t\tif (Number(this._oData.length) === 0) {\n\t\t\tthis._oData.illustrationType = \"sapIllus-EmptyPlanningCalendar\";\n\t\t\tthis._oData.illustrationTitle = this._isExclusivePanel() ? this._i18nBundle.getText(\"noToDoTitle\") : this.getNoDataText();\n\t\t\tthis._oData.illustrationDescription = this._isExclusivePanel()\n\t\t\t\t? this._i18nBundle.getText(\"noToDoDesc\")\n\t\t\t\t: this._i18nBundle.getText(\"emptyToDoDesc\");\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the panel is exclusive based on support and the number of panels.\n\t *\n\t * @private\n\t * @returns {boolean} True if the panel is exclusive, otherwise false.\n\t */\n\tprivate _isExclusivePanel(): boolean {\n\t\tconst allPanels = (this.getParent() as ToDosContainer).getContent() as ToDoPanel[];\n\t\tconst supportedPanels = allPanels.filter((panel) => panel._getSupported());\n\n\t\treturn supportedPanels.length === 1 || (allPanels.length === 1 && this._getSupported());\n\t}\n\n\t/**\n\t * Sets the interval for refreshing the section.\n\t *\n\t * @private\n\t */\n\tprivate _setSectionRefreshInterval(): void {\n\t\tclearInterval(this._oData.refreshFn as number);\n\t\tthis._oData.refreshFn = setInterval(() => {\n\t\t\tthis._oData.lastRefreshedTime = this._oData.lastRefreshedTime || new Date();\n\t\t\tthis._oData.refreshInfo = this._toRelativeDateTime(this._oData.lastRefreshedTime as Date);\n\t\t\tthis._oData.fullRefreshInfo = this._toFullRelativeDateTime(this._oData.lastRefreshedTime as Date);\n\t\t\tthis._updateRefreshInformation();\n\t\t}, Constants.TODOS_REFRESH_INTERVAL);\n\t}\n\n\t/**\n\t * Updates the refresh information and adjusts the layout.\n\t *\n\t * @private\n\t */\n\tpublic _updateRefreshInformation(): void {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tif (container.getProperty(\"selectedKey\") === this.getProperty(\"key\")) {\n\t\t\tthis._refreshBtn.setProperty(\"text\", this._oData.refreshInfo, true);\n\t\t\tthis._accRefreshLabel.setProperty(\"text\", this._oData.fullRefreshInfo, true);\n\t\t\tthis._refreshBtn.setAggregation(\"tooltip\", this._oData.fullRefreshInfo as ManagedObject, true);\n\t\t\tcontainer._updateContainerHeader(this);\n\t\t}\n\n\t\tthis._adjustLayout();\n\t}\n\n\t/**\n\t * Adjusts the layout based on card count and device type.\n\t *\n\t * @private\n\t */\n\tpublic _adjustLayout() {\n\t\t// Update visible cards\n\t\tconst cardCount = this._getVisibleCardCount();\n\t\tif ((this._oData.tiles as object[]).length && !this._oData.hasError) {\n\t\t\tconst displayCards = (this._oData.tiles as object[]).slice(0, cardCount);\n\t\t\tthis._controlModel.setProperty(\"/displayTiles\", displayCards);\n\t\t}\n\n\t\t// Update if device type is phone\n\t\tthis._controlModel.setProperty(\"/isPhone\", this.getDeviceType() === DeviceType.Mobile);\n\n\t\t// Show/Hide Full Screen Button if available\n\t\t(this.getParent() as ToDosContainer)?.toggleFullScreenElements(\n\t\t\tthis,\n\t\t\tthis._isElementExpanded() || Number(this._oData.length) > cardCount\n\t\t);\n\t}\n\n\t/**\n\t * Formats the given date to a relative date.\n\t *\n\t * @private\n\t * @param {Date} date Date object or Date String\n\t * @returns {string} Formatted Date\n\t */\n\tpublic _toRelativeDateTime(date: Date): string {\n\t\tconst inputDate = new Date(date);\n\t\treturn isNaN(Number(inputDate)) ? \"\" : ToDoPanel.relativeDateFormatter.format(inputDate);\n\t}\n\n\t/**\n\t * Formats the given date to a relative date string with full units (e.g., \"2 minutes ago\").\n\t * Intended for accessibility use such as screen readers.\n\t *\n\t * @private\n\t * @param {Date} date Date object or date string\n\t * @returns {string} Fully formatted relative date string\n\t */\n\tprivate _toFullRelativeDateTime(date: Date): string {\n\t\tconst inputDate = new Date(date);\n\t\treturn isNaN(Number(inputDate)) ? \"\" : ToDoPanel.fullRelativeDateFormatter.format(inputDate);\n\t}\n\n\t/**\n\t * Get the text for the \"No Data\" message.\n\t *\n\t * @public\n\t * @returns {string} The text for the \"No Data\" message.\n\t */\n\tpublic getNoDataText(): string {\n\t\treturn this._i18nBundle.getText(\"noData\") as string;\n\t}\n\n\t/**\n\t * Parses the response object and returns the appropriate value.\n\t *\n\t * @private\n\t * @param {Object} response - The response object.\n\t * @param {Object} [response.d] - The 'd' property of the response object.\n\t * @param {Array} [response.d.results] - The results array.\n\t * @param {string|number} [response.d] - The 'd' property of the response object which may contain a numeric value.\n\t * @param {string|number} [response] - The response object which may contain a numeric value.\n\t * @param {string|number} [response.value] - The 'value' property of the response object which may contain a numeric value.\n\t * @returns {Response} - The parsed value extracted from the response object.\n\t */\n\tprivate _parseResponse(response: Response): Response {\n\t\tconst { d = {}, value } = response || {};\n\t\tconst results = d?.results;\n\t\tconst numericD = !isNaN(+d) && +d;\n\t\tconst numericResponse = !isNaN(+response) && +response;\n\n\t\treturn (results || numericD || numericResponse || value || response || 0) as Response;\n\t}\n\n\t/**\n\t * Submits a batch request for multiple URLs and processes the responses.\n\t *\n\t * @private\n\t * @returns {Promise} A Promise that resolves when all batch requests are completed.\n\t */\n\tprotected _submitBatch(): Promise<unknown[]> {\n\t\treturn Promise.all(\n\t\t\tthis.requests.map(async (request: Request) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst useBatch = this.getProperty(\"useBatch\") as boolean;\n\t\t\t\t\tlet responses = useBatch\n\t\t\t\t\t\t? await this.batchHelper.createMultipartRequest(request.baseURL, request.requestURLs)\n\t\t\t\t\t\t: await HttpHelper.GetMultipleRequests(request.requestURLs);\n\n\t\t\t\t\tif (responses.length) {\n\t\t\t\t\t\tconst processedResponses = responses.map((response: string | Response) => {\n\t\t\t\t\t\t\tif (typeof response === \"string\") {\n\t\t\t\t\t\t\t\tresponse = JSON.parse(response) as Response;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn this._parseResponse(response);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Call success callback, if any\n\t\t\t\t\t\tif (request.success && typeof request.success === \"function\") {\n\t\t\t\t\t\t\tawait request.success(processedResponses);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn processedResponses;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(\"Invalid response\");\n\t\t\t\t\t}\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tthis._handleError(error);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._clearRequests();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Handles errors by updating the data and logging the error.\n\t *\n\t * @private\n\t * @param {Error} error - The error object to handle.\n\t */\n\tprivate _handleError(error: unknown) {\n\t\tthis._oData.displayTiles = this._oData.tiles = [];\n\t\tthis._oData.getSupported = this._oData.isLoaded = this._oData.hasError = true;\n\t\tthis._oData.illustrationType = \"sapIllus-UnableToLoad\";\n\t\tthis._oData.illustrationTitle = this._oData.illustrationDescription = \"\";\n\n\t\tLog.error(error as string);\n\t\tthis._controlModel.refresh();\n\t}\n\n\t/**\n\t * Clears the list of requests.\n\t *\n\t * @private\n\t */\n\tprotected _clearRequests() {\n\t\tthis.requests = [];\n\t}\n\n\t/**\n\t * Checks if the panel is loaded.\n\t *\n\t * @private\n\t * @returns {boolean} true if the panel is loaded, false otherwise.\n\t */\n\tpublic _isLoaded(): boolean {\n\t\tconst parentContainer = this.getParent() as ToDosContainer;\n\t\tconst isContainerExpanded = parentContainer?._getLayout()?.getProperty(\"expanded\") as boolean;\n\n\t\tconst { isLoaded, isExpandedOnce } = this._oData;\n\n\t\tif (!isContainerExpanded) {\n\t\t\treturn isLoaded as boolean;\n\t\t}\n\n\t\treturn (isExpandedOnce && isLoaded) as boolean;\n\t}\n\n\t/**\n\t * Set the loaded status of the ToDoPanel.\n\t *\n\t * @private\n\t * @param {boolean} isLoaded - The new loaded status to set for the ToDoPanel.\n\t */\n\tpublic _setLoaded(isLoaded: boolean): void {\n\t\tthis._oData.isLoaded = isLoaded;\n\t}\n\n\t/**\n\t * Gets the supported status of the panel.\n\t *\n\t * @private\n\t * @returns {boolean} The supported status of the panel.\n\t */\n\tpublic _getSupported(): boolean {\n\t\treturn this._oData.getSupported as boolean;\n\t}\n\n\t/**\n\t * Sets the supported status of the panel.\n\t *\n\t * @private\n\t * @param {boolean} value - The value to set for supported status.\n\t */\n\tpublic _setSupported(isSupported: boolean): void {\n\t\tthis._oData.getSupported = isSupported;\n\t}\n\n\t/**\n\t * Extracts the app intent from the target app URL.\n\t *\n\t * @private\n\t * @returns {Intent | null} The app intent object with target and parameters, or null if not found.\n\t */\n\tpublic _getAppIntent(): Intent | null {\n\t\tconst pattern = /#([^?-]+)-([^?#]+)(?:\\?([^#]+))?(?:#.*)?/;\n\t\tconst match = this.getTargetAppUrl().match(pattern);\n\n\t\tif (match) {\n\t\t\tconst target = {\n\t\t\t\tsemanticObject: match[1],\n\t\t\t\taction: match[2]\n\t\t\t};\n\t\t\tconst params = {} as Record<string, string>;\n\n\t\t\tif (match[3]) {\n\t\t\t\tconst paramsArray = match[3].split(\"&\");\n\t\t\t\tfor (const param of paramsArray) {\n\t\t\t\t\tconst [key, value] = param.split(\"=\");\n\t\t\t\t\tparams[key] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttarget,\n\t\t\t\tparams\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Switch to available tab if current panel has empty cards or has error\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _switchTabIfRequired() {\n\t\tconst container = this.getParent() as ToDosContainer;\n\t\tconst selectedKey = container?.getProperty(\"selectedKey\") as string;\n\n\t\tif (selectedKey === this.getProperty(\"key\") && (this._oData.length === 0 || this._oData.hasError)) {\n\t\t\tlet nextAvailablePanel;\n\t\t\tconst panels = container?.getAggregation(\"content\") as ToDoPanel[];\n\n\t\t\tfor (const panel of panels) {\n\t\t\t\tif (panel !== this) {\n\t\t\t\t\t//ensure that panel is loaded first\n\t\t\t\t\tawait panel._loadCards();\n\n\t\t\t\t\tif (panel._getSupported() && !panel._isLoaded() && panel._getCardCount() > 0) {\n\t\t\t\t\t\tnextAvailablePanel = panel;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (nextAvailablePanel) {\n\t\t\t\tcontainer?.setProperty(\"selectedKey\", nextAvailablePanel.getProperty(\"key\"));\n\t\t\t\tToDosContainer.cardCount = this._cardCount;\n\t\t\t\tawait nextAvailablePanel._loadCards(true);\n\t\t\t\tToDosContainer.cardCount = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Handles the press event to view all items.\n\t *\n\t * @private\n\t */\n\tpublic _onPressViewAll() {\n\t\tURLHelper.redirect(this.getTargetAppUrl(), false);\n\t}\n\n\t/**\n\t * Retrieves the count of cards in the panel.\n\t *\n\t * @private\n\t * @returns {number} The number of cards.\n\t */\n\tpublic _getCardCount(): number {\n\t\treturn Number(this._oData.length);\n\t}\n\n\t/**\n\t * Handles actions to be performed before the To-Dos panel is expanded.\n\t * If the panel has not been expanded before in full screen, the cards will be loaded once.\n\t *\n\t * @private\n\t */\n\tprivate async _beforePanelExpand() {\n\t\tif (!this._oData.isExpandedOnce) {\n\t\t\tthis._oData.isExpandedOnce = true;\n\t\t\tawait this._loadCards(true);\n\t\t}\n\t}\n\n\t/**\n\t * Exit lifecycle method.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic exit() {\n\t\tclearInterval(this._oData.refreshFn as number);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,oCAAA,2gBAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MA3iBmBG,EAAQvB,EAAA,YA8iBrB,SAASwB,EAAiBN,EAAMO,GACtC,IACC,IAAIL,EAASF,GACd,CAAE,MAAOG,GACR,OAAOI,EAAU,KAAMJ,EACxB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,KAAKG,EAAUC,KAAK,KAAM,OAAQD,EAAUC,KAAK,KAAM,MACtE,CACA,OAAOD,EAAU,MAAOL,EACzB,CAAC,MAxjB6BO,EAAS3B,EAAA,mBAmJ1B4B,SAAuCC,SAAW,YAAeA,OAAOC,WAAaD,OAAOC,SAAWD,OAAO,oBAAuB,aA7H3I,SAASE,EAAQC,EAAMC,EAAOC,GACpC,IAAKF,EAAKG,EAAG,CACZ,GAAID,aAAiBE,EAAO,CAC3B,GAAIF,EAAMC,EAAG,CACZ,GAAIF,EAAQ,EAAG,CACdA,EAAQC,EAAMC,CACf,CACAD,EAAQA,EAAMG,CACf,KAAO,CACNH,EAAMI,EAAIP,EAAQL,KAAK,KAAMM,EAAMC,GACnC,MACD,CACD,CACA,GAAIC,GAASA,EAAMZ,KAAM,CACxBY,EAAMZ,KAAKS,EAAQL,KAAK,KAAMM,EAAMC,GAAQF,EAAQL,KAAK,KAAMM,EAAM,IACrE,MACD,CACAA,EAAKG,EAAIF,EACTD,EAAKK,EAAIH,EACT,MAAMK,EAAWP,EAAKM,EACtB,GAAIC,EAAU,CACbA,EAASP,EACV,CACD,CACD,CAAC,MA9DYI,EAAsB,WAClC,SAAAA,IAAkB,CAClBA,EAAMI,UAAUlB,KAAO,SAASmB,EAAaC,GAC5C,MAAMtB,EAAS,IAAAgB,EACf,MAAMH,EAAQU,KAAKR,EACnB,GAAIF,EAAO,CACV,MAAMW,EAAWX,EAAQ,EAAIQ,EAAcC,EAC3C,GAAIE,EAAU,CACb,IACCb,EAAQX,EAAQ,EAAGwB,EAASD,KAAKN,GAClC,CAAE,MAAOhB,GACRU,EAAQX,EAAQ,EAAGC,EACpB,CACA,OAAOD,CACR,KAAO,CACN,OAAOuB,IACR,CACD,CACAA,KAAKL,EAAI,SAASO,GACjB,IACC,MAAMX,EAAQW,EAAMR,EACpB,GAAIQ,EAAMV,EAAI,EAAG,CAChBJ,EAAQX,EAAQ,EAAGqB,EAAcA,EAAYP,GAASA,EACvD,MAAO,GAAIQ,EAAY,CACtBX,EAAQX,EAAQ,EAAGsB,EAAWR,GAC/B,KAAO,CACNH,EAAQX,EAAQ,EAAGc,EACpB,CACD,CAAE,MAAOb,GACRU,EAAQX,EAAQ,EAAGC,EACpB,CACD,EACA,OAAOD,CACR,EACA,OAAAgB,CACD,CAnCmC,GAgE5B,SAASU,EAAeC,GAC9B,OAAOA,aAAoBX,GAASW,EAASZ,EAAI,CAClD,CA+CO,SAASa,EAAOC,EAAO/B,EAAMgC,GACnC,IAAIC,GAAK,EAAGnB,EAAMoB,EAClB,SAASC,EAAOjC,GACf,IACC,QAAS+B,EAAIF,EAAMK,UAAYJ,IAAUA,KAAU,CAClD9B,EAASF,EAAKiC,GACd,GAAI/B,GAAUA,EAAOE,KAAM,CAC1B,GAAIwB,EAAe1B,GAAS,CAC3BA,EAASA,EAAOiB,CACjB,KAAO,CACNjB,EAAOE,KAAK+B,EAAQD,IAAWA,EAASrB,EAAQL,KAAK,KAAMM,EAAO,IAAII,EAAS,KAC/E,MACD,CACD,CACD,CACA,GAAIJ,EAAM,CACTD,EAAQC,EAAM,EAAGZ,EAClB,KAAO,CACNY,EAAOZ,CACR,CACD,CAAE,MAAOC,GACRU,EAAQC,IAASA,EAAO,IAAII,GAAU,EAAGf,EAC1C,CACD,CACAgC,IACA,OAAOrB,CACR,CAAC,MAhHMuB,EAAS1C,EAAAP,GA4IT,SAASkD,EAAOC,EAAQvC,EAAMgC,GACpC,UAAWO,EAAO7B,KAAqB,WAAY,CAClD,IAAIE,EAAW2B,EAAO7B,KAAoB8B,EAAM1B,EAAMoB,EACtD,SAASC,EAAOjC,GACf,IACC,QAASsC,EAAO5B,EAAS6B,QAAQC,QAAUV,IAAUA,KAAU,CAC9D9B,EAASF,EAAKwC,EAAKxB,OACnB,GAAId,GAAUA,EAAOE,KAAM,CAC1B,GAAIwB,EAAe1B,GAAS,CAC3BA,EAASA,EAAOiB,CACjB,KAAO,CACNjB,EAAOE,KAAK+B,EAAQD,IAAWA,EAASrB,EAAQL,KAAK,KAAMM,EAAO,IAAII,EAAS,KAC/E,MACD,CACD,CACD,CACA,GAAIJ,EAAM,CACTD,EAAQC,EAAM,EAAGZ,EAClB,KAAO,CACNY,EAAOZ,CACR,CACD,CAAE,MAAOC,GACRU,EAAQC,IAASA,EAAO,IAAII,GAAU,EAAGf,EAC1C,CACD,CACAgC,IACA,GAAIvB,EAAS+B,OAAQ,CACpB,IAAIC,EAAS,SAAS5B,GACrB,IACC,IAAKwB,EAAKE,KAAM,CACf9B,EAAS+B,QACV,CACD,CAAE,MAAMxC,GACR,CACA,OAAOa,CACR,EACA,GAAIF,GAAQA,EAAKV,KAAM,CACtB,OAAOU,EAAKV,KAAKwC,EAAQ,SAASzC,GACjC,MAAMyC,EAAOzC,EACd,EACD,CACAyC,GACD,CACA,OAAO9B,CACR,CAEA,KAAM,WAAYyB,GAAS,CAC1B,MAAM,IAAIM,UAAU,yBACrB,CAEA,IAAIC,EAAS,GACb,IAAK,IAAIb,EAAI,EAAGA,EAAIM,EAAOH,OAAQH,IAAK,CACvCa,EAAOC,KAAKR,EAAON,GACpB,CACA,OAAOH,EAAOgB,EAAQ,SAASb,GAAK,OAAOjC,EAAK8C,EAAOb,GAAK,EAAGD,EAChE,CAAC,MAjMMgB,EAAQrD,EAAAN,GAAA,MAER4D,EAActD,EAAAL,GAAA,MACd4D,EAAWvD,EAAAJ,GAAA,MACT4D,EAAkB3D,EAAA,4BAAE4D,EAAU5D,EAAA,oBAAE6D,EAAsB7D,EAAA,gCACtD8D,EAAS7D,EAAA,mBACX8D,EAAU5D,EAAAD,GAmCjB,MAAM8D,EAAY,CACjBC,eAAgB,6BAChBC,wBAAyB,EACzBC,iBAAkB,IAClBC,mBAAoB,EACpBC,uBAAwB,KACxBC,wBAAyB,IACzBC,qBAAsB,GACtBC,oBAAqB,IACrBC,0BAA2B,GAC3BC,IAAK,IAGN,MAgB8BC,EAAkB9B,EAAS+B,OAAA,0BA6BxCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAMXC,QAAS,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAMxEC,SAAU,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAMzEE,QAAS,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAMxEG,aAAc,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,GAAIC,WAAY,UAM7EI,aAAc,CAAEP,KAAM,MAAOC,MAAO,OAAQC,aAAc,IAAKC,WAAY,UAM3EK,aAAc,CAAER,KAAM,MAAOC,MAAO,OAAQC,aAAc,IAAKC,WAAY,UAM3EM,SAAU,CAAET,KAAM,UAAWC,MAAO,OAAQC,aAAc,KAAMC,WAAY,WAE7EO,aAAc,CAIbC,QAAS,CAAEC,SAAU,KAAMC,aAAc,UAAWV,WAAY,YAvD3DW,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAlE,KAAMgE,EAAIC,GACVjE,KAAKmE,YAAc,IAAI1C,CACxB,EA0EO2C,KAAI,SAAAC,IAAS,MAAAnE,EA4DZF,KA3DPsE,sBAAAtE,MAGAA,KAAKuE,OAAS,CACb5D,OAAQ,EACR6D,SAAU,MACVC,SAAU,MACVC,UAAW,QACXC,aAAc,MACdC,eAAgB,MAChBC,kBAAmB,MACnBC,iBAAkB,mBAClBC,YAAa/E,KAAKgF,oBAAoB,IAAIC,MAC1CC,gBAAiBlF,KAAKmF,wBAAwB,IAAIF,MAClDG,oBAAqBrD,EAAUE,wBAC/BoD,kBAAmBrF,KAAKsF,YAAYC,QAAQ,eAC5CC,wBAAyBxF,KAAKsF,YAAYC,QAAQ,cAClDE,QAASnI,EAAOoI,OAAOC,MAAQ5D,EAAUM,yBAA2B/E,EAAOsI,OAAOC,MAClFC,MAAO,IAAIC,MAAMhE,EAAUE,yBAAyB+D,KAAK,CAAEC,UAAW,YACtEC,aAAc,IAAIH,MAAMhE,EAAUE,yBAAyB+D,KAAK,CAAEC,UAAW,aAE9EjG,KAAKmG,cAAgB,IAAIzI,EAAUsC,KAAKuE,QAGxCvE,KAAKoG,SAAW,GAGhBpG,KAAKqG,aAAe,IAAIjJ,EAAK,GAAG4C,KAAKsG,uBAAwB,CAC5DC,WAAY,OACZC,MAAO,CAACxG,KAAKyG,yBAA0BzG,KAAK0G,+BAAgC1G,KAAK2G,2BAElF3G,KAAKqG,aAAaO,SAAS5G,KAAKmG,eAChCnG,KAAK6G,WAAW7G,KAAKqG,cAGrB,MAAMS,EAAW,IAAIvF,EAAS,GAAGvB,KAAKsG,kBAAmB,CACxDS,MAAO/G,KAAKsF,YAAYC,QAAQ,WAChCyB,KAAM,qBACNC,MAAOA,IAAMjH,KAAKkH,oBAEnBlH,KAAKmH,eAAe,YAAaL,GACjCjF,EAAUiF,EAAU,gBAEpB9G,KAAKoH,iBAAmB,IAAI5J,EAAc,GAAGwC,KAAKsG,yBAA0B,CAC3Ee,KAAMrH,KAAKmF,wBAAwB,IAAIF,QAExCjF,KAAKsH,aAAatH,KAAKoH,kBACvBpH,KAAKuH,YAAc,IAAI1K,EAAO,GAAGmD,KAAKsG,qBAAsB,CAC3DU,KAAM,qBACNK,KAAMrH,KAAKgF,oBAAoB,IAAIC,MACnCgC,MAAOA,IAAMjH,KAAKkH,oBAEnBlH,KAAKuH,YAAYC,kBAAkBxH,KAAKoH,kBACxCvF,EAAU7B,KAAKuH,YAAa,qBAC5BvH,KAAKmH,eAAe,gBAAiBnH,KAAKuH,aAG1CvH,KAAKyH,YAAY,mBAAoB,MACrCzH,KAAK0H,YAAY,WAAU,eAAc,OAAAC,QAAAC,QAClC1H,EAAK2H,sBAAoBlJ,KAAA,aAChC,CAAC,MAAAD,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GACF,EAQQ+H,uBAAsB,SAAAA,IAE7B,IAAKzG,KAAK8H,eAAgB,CACzB9H,KAAK8H,eAAiB,IAAInL,EAAc,GAAGqD,KAAKsG,wBAAyB,CACxEyB,kBAAmB,KACnBC,UAAW,KACXC,QAAS,0EACTC,OAAQ,IAAItL,EAAsB,GAAGoD,KAAKsG,iBAAkB,CAC3D6B,QAAS,yBACTC,WAAY,eACZC,IAAK,WAEJC,cAAc,2BAClB,CAEA,OAAOtI,KAAK8H,cACb,EAQQpB,6BAA4B,SAAAA,IAEnC,IAAK1G,KAAKuI,qBAAsB,CAC/BvI,KAAKuI,qBAAuB,IAAIxL,EAAgB,GAAGiD,KAAKsG,0BAA2B,CAClF2B,QAAS,aACTO,WAAY,EACZC,WAAY,KACZC,WAAY,IACZC,aAAc,MACdX,UAAW,OACTM,cAAc,iCAClB,CAEA,OAAOtI,KAAKuI,oBACb,EAQQ5B,sBAAqB,SAAAA,IAC5B,IAAK3G,KAAK4I,WAAY,CACrB5I,KAAK6I,cAAgB,IAAI7L,EAAmB,GAAGgD,KAAKsG,uBAAwB,CAC3EwC,iBAAkB7L,EAAuB8L,KACzChC,MAAO,uBACPiC,YAAa,6BACblE,iBAAkB,wBAEnB9E,KAAK4I,WAAa,IAAIlM,EAAK,GAAGsD,KAAKsG,oBAAqB,CACvD3C,QAAS3D,KAAK6I,cACdZ,QAAS,wDAEX,CAEA,OAAOjI,KAAK4I,UACb,EASQ1B,gBAAe,SAAAA,SACflH,KAAKiJ,aAAgCC,qBAAmCC,WAAW,KAC3F,EASaA,WAAU,SAAAA,EAACC,GAAsB,IAAiB,MAAAC,EAC1DrJ,KAAJ,GAAIqJ,EAAKC,aAAeC,YAAcH,EAAc,CACnD,OAAAzB,QAAAC,QAAOyB,EAAKC,WACb,KAAO,CACND,EAAKG,qBACLH,EAAKC,WAAa,IAAI3B,QAASC,IAC9B,MAAM6B,EAAeJ,EAAKJ,aAA+BC,qBAAqBQ,YAAY,OAC1F,MAAMtD,EAAsB,GAE5BiD,EAAK9E,OAAOC,SAAW,MACvB6E,EAAK9E,OAAOM,kBAAoB,MAChCwE,EAAK9E,OAAOK,eAAiByE,EAAKM,qBAClCN,EAAKO,YAEL,GAAIP,EAAKQ,gBAAiB,CACzBC,WAAW,KAEVT,EAAKU,4BAGL3D,EAAS9E,KACR+H,EAAKW,uBAAuB,CAAEhH,KAAMyG,EAAaQ,UAAWR,IAAgBJ,EAAKK,YAAY,UAE9FL,EAAKjD,SAAWiD,EAAKjD,SAAS8D,OAAO9D,GAGrCiD,EAAKc,eACHxL,KAAI,eACJ0K,EAAK9E,OAAOC,SAAWiF,IAAgBJ,EAAKK,YAAY,OACxDL,EAAKe,UAAU,UAEff,EAAK9E,OAAOM,kBAAoB,KAChCwE,EAAKO,UAAUP,EAAK9E,OAAO5D,QAE3B0I,EAAKgB,6BACLhB,EAAK9E,OAAOQ,YAAcsE,EAAKrE,oBAAoB,IAAIC,MACvDoE,EAAK9E,OAAOW,gBAAkBmE,EAAKlE,wBAAwB,IAAIF,MAC/DoE,EAAK9E,OAAO+F,kBAAoB,IAAIrF,KACpCoE,EAAKkB,4BAA4B,OAAA5C,QAAAC,QAE3ByB,EAAKmB,wBAAsB7L,KAAA,WACjC0K,EAAKoB,0BAA2B,EACjC,CAAC,MAAA/L,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,IACAgM,MAAOC,IACPlO,EAAIkO,MAAMA,aAAiBC,MAAQD,EAAME,QAAU,MAEnDC,QAAQ,KACRzB,EAAKlD,cAAc4E,UACnB1B,EAAK2B,gBACLpD,OAGJ,KAAO,CACNyB,EAAK4B,aAAa,oCAAoC5B,EAAK6B,qBAG1D7B,EAAKJ,aAAgCkC,cAAa9B,GAGnDzB,GACD,GAEF,CAEA,OAAAD,QAAAC,QAAOyB,EAAKC,WACb,CAAC,MAAA5K,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GAOO+L,yBAAwB,SAAAA,IAC/B,GAAIzK,KAAKoL,oBAAqB,CAC5BpL,KAAKiJ,YAA+BoC,UAAU,GAAGrL,KAAKsF,YAAYC,QAAQ,kBAAkB+F,OAAOtL,KAAKuE,OAAO5D,WACjH,CACD,EAMQ6I,mBAAkB,SAAAA,IACzB,IAAKxJ,KAAKuL,oBAAqB,CAE9BvL,KAAK8H,eAAe0D,gBAAgB,QAAS,CAC5CC,KAAM,gBACN9K,OAAQoB,EAAUG,iBAClBwJ,QAASA,CAAC1H,EAAI2H,IAAY3L,KAAK4L,qBAAqB5H,EAAI2H,IAAUE,eAAe,QAAS,CAAEJ,KAAM,iBAInGzL,KAAKuI,qBAAqBiD,gBAAgB,UAAW,CACpDC,KAAM,gBACN9K,OAAQoB,EAAUG,iBAClBwJ,QAASA,CAAC1H,EAAI2H,IAAY3L,KAAK4L,qBAAqB5H,EAAI2H,IAAUE,eAAe,QAAS,CAAEJ,KAAM,iBAGnGzL,KAAKuL,oBAAsB,IAC5B,CACD,EAUOK,qBAAoB,SAAAE,EAAC9H,EAAY2H,GACvC,OAAO,IAAI7O,EAAY,GAAGkH,SAAW,CACpC+H,KAAM,aACNC,UAAW,WACXC,aAAc,KACdC,OAAQP,EAAQjC,YAAY,SAC5B/D,MAAOgG,EAAQjC,YAAY,cAC3BpK,MAAOqM,EAAQjC,YAAY,aAC3ByC,YAAa,CACZ,IAAIhP,EAAY,GAAG6G,gBAAkB,CACpCoI,SAAUT,EAAQjC,YAAY,YAC9B2C,aAAcrM,KAAKsM,gBAAgBX,EAAQjC,YAAY,aACvD6C,OAAQZ,EAAQjC,YAAY,cAC5B/F,QAAS,IAAIzG,EAAK,GAAG8G,qBAAuB,CAC3CqD,KAAMsE,EAAQjC,YAAY,iBAK/B,EASO4C,gBAAe,SAAAA,EAACF,GACtB,IAAII,EACJ,GAAIJ,IAAaxN,EAAS6N,SAAU,CACnCD,EAAM,kBACP,MAAO,GAAIJ,IAAaxN,EAAS8N,KAAM,CACtCF,EAAM,cACP,MAAO,GAAIJ,IAAaxN,EAAS+N,OAAQ,CACxCH,EAAM,gBACP,MAAO,GAAIJ,IAAaxN,EAASgO,IAAK,CACrCJ,EAAM,aACP,KAAO,CACNA,EAAM,cACP,CAEA,OAAOxM,KAAKsF,YAAYC,QAAQiH,EACjC,EAOQzC,0BAAyB,SAAAA,IAChC/J,KAAK6M,WAAa7M,KAAK8M,qBAAqB,CAAEC,cAAe,OAC7D/M,KAAKuE,OAAO2B,aAAelG,KAAKuE,OAAOuB,MAAQ,IAAIC,MAAM/F,KAAK6M,YAAY7G,KAAK,CAAEC,UAAW,YAC5FjG,KAAKuE,OAAOC,SAAWxE,KAAKuE,OAAOE,SAAW,MAC9CzE,KAAKmG,cAAc4E,SACpB,EASQ+B,qBAAoB,SAAAA,EAACE,GAC5B,MAAM9E,EAAUlI,KAAKiJ,aAAgCgE,aACrD,IAAIC,EAAoB,MACxB,IAAIC,EAAenN,KAAKqG,cAAc+G,YAEtC,GAAIlF,EAAQ,CACXgF,EAAoBlN,KAAK2J,qBACzB,MAAM0D,EAAkBnF,EAAOwB,YAAY,cAC3C,MAAM4D,GAAmBJ,EAAoBhF,EAAOqF,0BAA4BrF,GAAQkF,YACxF,MAAMI,EAAmBH,IAAoBH,EAAoB,EAAI,EACrEC,EAAeG,GAAiBG,WAAWD,EAC5C,CAEA,MAAME,EAAiB1N,KAAKmG,cAAcuD,YAAY,YACtD,IAAIiE,EAAYD,EAAiB3L,EAAUI,mBAAqB,EAEhE,GAAIgL,EAAc,CAEjBQ,EAAY3N,KAAK4N,uBAAuBT,EAAcH,GAEtD,GAAIE,EAAmB,CAEtBS,GAAa3N,KAAK6N,qBAAqBV,EAAcH,EACtD,CAGAW,EAAYA,EAAY5L,EAAUG,iBAAmBH,EAAUG,iBAAmByL,CACnF,CAEA,OAAOA,CACR,EAQQhE,mBAAkB,SAAAA,IACzB,MAAMmE,EAAiB9N,KAAKiJ,YAC5B,MAAMf,EAAS4F,EAAeb,aAC9B,OAAO/E,GAAQ6F,mCAAqCD,EAAepE,YAAY,iBAChF,EASUkE,uBAAsB,SAAAI,EAACC,GAChC,MAAMC,EAAgBtM,EAAuBqM,EAAQ,CAAC,QAAS,eAAgB,gBAAiB,cAAe,iBAC/G,MAAME,EAAiBC,OAAO/M,OAAO6M,GACnCG,MAAM,GACNC,OAAO,CAAC3I,EAAO4I,IAAkB5I,EAAQ4I,EAAeL,EAAc,UACxE,MAAMM,EAAkBxO,KAAKuE,OAAO5D,OACpC,MAAM+M,EAAiB1N,KAAKmG,cAAcuD,YAAY,YACtD,IAAItE,EACJ,MAAMqJ,EAAWzO,KAAK0J,YAAY,gBAClC,MAAMgF,EAAW1O,KAAK0J,YAAY,gBAClC,MAAMiF,EAAmB,CACxBC,eAAgBT,EAChBU,WAAYL,EACZC,SAAUA,EACVC,SAAUA,EACVrG,IAAKtG,EAAUU,KAEhB,MAAMiC,EAAYhD,EAAmBiN,GACrC,GAAIjB,EAAgB,CACnBtI,EAAsBrD,EAAUI,kBACjC,KAAO,CACNiD,EAAsB0J,KAAKC,IAAID,KAAKE,MAAMb,EAAiBzJ,GAAY,EACxE,CAGA1E,KAAKmG,cAAcsB,YAAY,aAAc,GAAG/C,EAAY,SAC5D1E,KAAKmG,cAAcsB,YAAY,uBAAwBrC,GAEvD,OAAOA,CACR,EASUyI,qBAAoB,SAAAoB,EAAChB,GAC9B,MAAMiB,EAAuBtN,EAAuBqM,EAAQ,CAAC,gBAC7D,MAAMkB,EAAsBvN,EAAuBqM,EAAOmB,cAA0B,CAAC,WACrF,MAAMC,EAAcrP,KAAKsP,uBACzB,MAAMC,EAAkBJ,EAAoBK,OAASN,EAAqB,eAAiB,EAAIG,EAC/F,MAAMI,EAAS,GACf,MAAMC,EAAa3N,EAAUQ,oBAAsBkN,EACnD,MAAME,EAAoBb,KAAKC,IAAID,KAAKE,MAAMO,EAAkBG,GAAa,GAE7E,OAAOC,CACR,EAQUL,qBAAoB,SAAAM,IAC7B,MAAMC,EAAY7P,KAAKiJ,YACvB,MAAM6G,EAAqBvS,EAAWwS,eAAe,GAAGF,EAAUvJ,mBAAmB8G,YACrF,MAAM4C,EAAsBzS,EAAWwS,eAAe,GAAGF,EAAUI,mBAAmB3J,oBAAoB8G,YAC1G,MAAM8C,EAAgBnO,EAAUO,qBAAuBP,EAAUS,0BACjE,IAAI6M,EAAc,EAElB,GAAIS,GAAsBE,EAAqB,CAC9CX,EAAcS,EAAmBK,aAAeH,EAAoBG,YACrE,CAEA,OAAOrB,KAAKC,IAAIM,EAAaa,EAC9B,EAUQlG,uBAAsB,SAAAA,EAACoG,GAAkC,MAAAC,EAcxDrQ,KAbR,MAAM2N,EAAY3N,KAAK8M,uBACvB,MAAM1J,EAAWpD,KAAKsQ,cACtB,MAAMC,EAAOvQ,KAAKwQ,sBAAsB7C,GAExC,GAAIvK,GAAYgN,GAASnG,UAAW,CACnCsG,EAAKE,OAAO,EACb,CAEA,MAAO,CACNC,QAAS1Q,KAAK2Q,aACdC,YAAaL,EACbM,QAAO,SAASC,GAAe,IAC9B,OAAAnJ,QAAAC,QACMyI,EAAKU,eAAe3N,EAAW0N,EAAKL,OAAO,GAAKK,EAAMV,IAAQzR,KAAA,WAGpE0R,EAAK9L,OAAO5D,OAASyC,EAAW4N,OAAOF,EAAK,IAAOT,EAAK9L,OAAOuB,MAAmBnF,OAClF0P,EAAKY,mBAAoB,EAC1B,CAAC,MAAAvS,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GAEH,EASO8R,oBAAmB,SAAAU,EAACvD,GAC1B,MAAM4C,EAAO,GACb,MAAMnN,EAAWpD,KAAKsQ,cAEtB,GAAIlN,EAAU,CACbmN,EAAKjP,KAAK8B,EACX,CAEA,IAAIC,EAAUrD,KAAKmR,aACnB,GAAInR,KAAK0J,YAAY,YAAa,CACjC,MAAM0H,EAAc,gBAAgBzD,IACpCtK,EAAUA,EAAQgO,SAAS,KAAO,GAAGhO,KAAW+N,IAAgB,GAAG/N,KAAW+N,GAC/E,CACAb,EAAKjP,KAAK+B,GAEV,OAAOkN,CACR,EAYaQ,eAAc,SAAAO,EAACC,EAAqB,GAAInB,GAAwB,IAAiB,MAAAoB,EAE5FxR,KADD,IAAKoQ,GAAYA,IAAYA,EAAQnG,UAAY,CAChDuH,EAAKjN,OAAO2B,aAAesL,EAAKjN,OAAOuB,MAAQyL,EAAQ,IAAM,EAC9D,CAAC,OAAA5J,QAAAC,QAEKD,QAAQC,WAASjJ,KAAA,aACxB,CAAC,MAAAD,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GAQOuS,kBAAiB,SAAAA,IACxB,GAAID,OAAOhR,KAAKuE,OAAO5D,UAAY,EAAG,CACrCX,KAAKuE,OAAOO,iBAAmB,iCAC/B9E,KAAKuE,OAAOc,kBAAoBrF,KAAKoL,oBAAsBpL,KAAKsF,YAAYC,QAAQ,eAAiBvF,KAAKyR,gBAC1GzR,KAAKuE,OAAOiB,wBAA0BxF,KAAKoL,oBACxCpL,KAAKsF,YAAYC,QAAQ,cACzBvF,KAAKsF,YAAYC,QAAQ,gBAC7B,CACD,EAQQ6F,kBAAiB,SAAAA,IACxB,MAAMsG,EAAa1R,KAAKiJ,YAA+B0I,aACvD,MAAMC,EAAkBF,EAAUG,OAAQC,GAAUA,EAAMjI,iBAE1D,OAAO+H,EAAgBjR,SAAW,GAAM+Q,EAAU/Q,SAAW,GAAKX,KAAK6J,eACxE,EAOQQ,2BAA0B,SAAAA,IACjC0H,cAAc/R,KAAKuE,OAAOyN,WAC1BhS,KAAKuE,OAAOyN,UAAYC,YAAY,KACnCjS,KAAKuE,OAAO+F,kBAAoBtK,KAAKuE,OAAO+F,mBAAqB,IAAIrF,KACrEjF,KAAKuE,OAAOQ,YAAc/E,KAAKgF,oBAAoBhF,KAAKuE,OAAO+F,mBAC/DtK,KAAKuE,OAAOW,gBAAkBlF,KAAKmF,wBAAwBnF,KAAKuE,OAAO+F,mBACvEtK,KAAKuK,6BACHxI,EAAUK,uBACd,EAOOmI,0BAAyB,SAAAA,IAC/B,MAAMsF,EAAY7P,KAAKiJ,YACvB,GAAI4G,EAAUnG,YAAY,iBAAmB1J,KAAK0J,YAAY,OAAQ,CACrE1J,KAAKuH,YAAYE,YAAY,OAAQzH,KAAKuE,OAAOQ,YAAa,MAC9D/E,KAAKoH,iBAAiBK,YAAY,OAAQzH,KAAKuE,OAAOW,gBAAiB,MACvElF,KAAKuH,YAAY2K,eAAe,UAAWlS,KAAKuE,OAAOW,gBAAkC,MACzF2K,EAAUsC,uBAAuBnS,KAClC,CAEAA,KAAKgL,eACN,EAOOA,cAAa,SAAAA,IAEnB,MAAM2C,EAAY3N,KAAK8M,uBACvB,GAAK9M,KAAKuE,OAAOuB,MAAmBnF,SAAWX,KAAKuE,OAAOE,SAAU,CACpE,MAAM2N,EAAgBpS,KAAKuE,OAAOuB,MAAmBuI,MAAM,EAAGV,GAC9D3N,KAAKmG,cAAcsB,YAAY,gBAAiB2K,EACjD,CAGApS,KAAKmG,cAAcsB,YAAY,WAAYzH,KAAKqS,kBAAoB1Q,EAAW2Q,QAG9EtS,KAAKiJ,aAAgCsJ,yBACrCvS,KACAA,KAAK2J,sBAAwBqH,OAAOhR,KAAKuE,OAAO5D,QAAUgN,EAE5D,EASO3I,oBAAmB,SAAAA,EAACwN,GAC1B,MAAMC,EAAY,IAAIxN,KAAKuN,GAC3B,OAAOE,MAAM1B,OAAOyB,IAAc,GAAK/P,EAAUiQ,sBAAsBC,OAAOH,EAC/E,EAUQtN,wBAAuB,SAAAA,EAACqN,GAC/B,MAAMC,EAAY,IAAIxN,KAAKuN,GAC3B,OAAOE,MAAM1B,OAAOyB,IAAc,GAAK/P,EAAUmQ,0BAA0BD,OAAOH,EACnF,EAQOhB,cAAa,SAAAqB,IACnB,OAAO9S,KAAKsF,YAAYC,QAAQ,SACjC,EAcQwN,eAAc,SAAAA,EAACC,GACtB,MAAMC,EAAEA,EAAI,CAAC,EAAC1T,MAAEA,GAAUyT,GAAY,CAAC,EACvC,MAAMzB,EAAU0B,GAAG1B,QACnB,MAAM2B,GAAYR,OAAOO,KAAOA,EAChC,MAAME,GAAmBT,OAAOM,KAAcA,EAE9C,OAAQzB,GAAW2B,GAAYC,GAAmB5T,GAASyT,GAAY,CACxE,EAQU7I,aAAY,SAAAA,IAAuB,MAAAiJ,EAIxBpT,KAHpB,OAAO2H,QAAQ0L,IACdrT,KAAKoG,SAASkN,IAAG,SAAQC,GAAgB,IAAK,OAAA5L,QAAAC,QAAA/I,EAAA,kBAAAP,EAAA,WAE5C,MAAMmF,EAAW2P,EAAK1J,YAAY,YAAuB,OAAA/B,QAAAC,QACzCnE,EACP2P,EAAKjP,YAAYqP,uBAAuBD,EAAQ7C,QAAS6C,EAAQ3C,aACjE9O,EAAW2R,oBAAoBF,EAAQ3C,cAAYjS,KAAA,SAFxD+U,GAAS,GAITA,EAAU/S,OAAM,CACnB,MAAMgT,EAAqBD,EAAUJ,IAAKN,IACzC,UAAWA,IAAa,SAAU,CACjCA,EAAWY,KAAKC,MAAMb,EACvB,CACA,OAAOI,EAAKL,eAAeC,KAG5B,MAAAc,EAAA,cACIP,EAAQ1C,gBAAkB0C,EAAQ1C,UAAY,WAAU,QAAAlJ,QAAAC,QACrD2L,EAAQ1C,QAAQ8C,IAAmBhV,KAAA,eAF1C,GAE0C,OAAAmV,KAAAnV,KAAAmV,EAAAnV,KAAA,WAG1C,OAAOgV,CAAmB,GAAnBA,CAAkB,MAEzB,MAAM,IAAI/I,MAAM,mBAAoB,GAEtC,EAAC,SAAQD,GACRyI,EAAKnI,aAAaN,EACnB,EAAC,WAAAoJ,EAAAC,GACAZ,EAAKa,iBAAiB,GAAAF,EAAA,MAAAC,EAAA,OAAAA,CAAA,GAExB,CAAC,MAAAtV,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,IAEH,EAQQuM,aAAY,SAAAA,EAACN,GACpB3K,KAAKuE,OAAO2B,aAAelG,KAAKuE,OAAOuB,MAAQ,GAC/C9F,KAAKuE,OAAOI,aAAe3E,KAAKuE,OAAOC,SAAWxE,KAAKuE,OAAOE,SAAW,KACzEzE,KAAKuE,OAAOO,iBAAmB,wBAC/B9E,KAAKuE,OAAOc,kBAAoBrF,KAAKuE,OAAOiB,wBAA0B,GAEtE/I,EAAIkO,MAAMA,GACV3K,KAAKmG,cAAc4E,SACpB,EAOUkJ,eAAc,SAAAA,IACvBjU,KAAKoG,SAAW,EACjB,EAQO8N,UAAS,SAAAA,IACf,MAAMC,EAAkBnU,KAAKiJ,YAC7B,MAAMmL,EAAsBD,GAAiBlH,cAAcvD,YAAY,YAEvE,MAAMlF,SAAEA,EAAQI,eAAEA,GAAmB5E,KAAKuE,OAE1C,IAAK6P,EAAqB,CACzB,OAAO5P,CACR,CAEA,OAAQI,GAAkBJ,CAC3B,EAQO6P,WAAU,SAAAA,EAAC7P,GACjBxE,KAAKuE,OAAOC,SAAWA,CACxB,EAQOqF,cAAa,SAAAA,IACnB,OAAO7J,KAAKuE,OAAOI,YACpB,EAQO2P,cAAa,SAAAA,EAACC,GACpBvU,KAAKuE,OAAOI,aAAe4P,CAC5B,EAQOC,cAAa,SAAAA,IACnB,MAAMC,EAAU,2CAChB,MAAMC,EAAQ1U,KAAKkL,kBAAkBwJ,MAAMD,GAE3C,GAAIC,EAAO,CACV,MAAM5T,EAAS,CACd6T,eAAgBD,EAAM,GACtBE,OAAQF,EAAM,IAEf,MAAMG,EAAS,CAAC,EAEhB,GAAIH,EAAM,GAAI,CACb,MAAMI,EAAcJ,EAAM,GAAGK,MAAM,KACnC,IAAK,MAAMC,KAASF,EAAa,CAChC,MAAOtI,EAAKjN,GAASyV,EAAMD,MAAM,KACjCF,EAAOrI,GAAOjN,CACf,CACD,CAEA,MAAO,CACNuB,SACA+T,SAEF,KAAO,CACN,OAAO,IACR,CACD,EAQcrK,qBAAoB,SAAAA,IAAA,IAAG,MAAAyK,EAClBjV,KAAlB,MAAM6P,EAAYoF,EAAKhM,YACvB,MAAMQ,EAAcoG,GAAWnG,YAAY,eAAyB,OAAA/B,QAAAC,QAAA,cAEhE6B,IAAgBwL,EAAKvL,YAAY,SAAWuL,EAAK1Q,OAAO5D,SAAW,GAAKsU,EAAK1Q,OAAOE,UAAS,KAAAyQ,EAAA,eAAAC,IAAA,MAAAC,EAAA,cAgB5FC,EAAkB,CACrBxF,GAAWpI,YAAY,cAAe4N,EAAmB3L,YAAY,QACrElI,EAAemM,UAAYsH,EAAKpI,WAAW,OAAAlF,QAAAC,QACrCyN,EAAmBlM,WAAW,OAAKxK,KAAA,WACzC6C,EAAemM,UAAYpE,SAAU,IApB0D,GAoB1D,GAAA6L,KAAAzW,KAAA,OAAAyW,EAAAzW,KAAA,cAnBtC,IAAI0W,EACJ,MAAMC,EAASzF,GAAW0F,eAAe,WAA0B,MAAAC,EAAA3U,EAE/CyU,EAAM,SAAfxD,GAAiB,MAAA2D,EAAA,cACvB3D,IAAKmD,EAAS,CACjB,OAAAtN,QAAAC,QACMkK,EAAM3I,cAAYxK,KAAA,cAEpBmT,EAAMjI,kBAAoBiI,EAAMoC,aAAepC,EAAM4D,gBAAkB,EAAC,CAC3EL,EAAqBvD,EAAMoD,EAAA,SANF,GAME,GAAAO,KAAA9W,KAAA,OAAA8W,EAAA9W,KAAA,aAI9B,EAAC,kBAAAuW,CAAA,UAAAM,KAAA7W,KAAA6W,EAAA7W,KAAAwW,KAAAK,EAAA,EAhBkE,GAyBrE,CAAC,MAAA9W,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GAOMiX,gBAAe,SAAAA,IACrB3W,EAAU4W,SAAS5V,KAAKkL,kBAAmB,MAC5C,EAQOwK,cAAa,SAAAA,IACnB,OAAO1E,OAAOhR,KAAKuE,OAAO5D,OAC3B,EAQckH,mBAAkB,SAAAA,IAAA,IAAG,MAAAgO,EAC7B7V,KAAI,MAAA8V,EAAA,eAAJD,EAAKtR,OAAOK,eAAc,CAC9BiR,EAAKtR,OAAOK,eAAiB,KAAK,OAAA+C,QAAAC,QAC5BiO,EAAK1M,WAAW,OAAKxK,KAAA,eAFnB,GAEmB,OAAAgJ,QAAAC,QAAAkO,KAAAnX,KAAAmX,EAAAnX,KAAA,qBAE7B,CAAC,MAAAD,GAAA,OAAAiJ,QAAAlH,OAAA/B,EAAA,GAQMqX,KAAI,SAAAC,IACVjE,cAAc/R,KAAKuE,OAAOyN,UAC3B,IAz9B6BtP,EAmFtBmQ,0BAA4BpV,EAAWwY,oBAAoB,CACjEC,MAAO,OACPC,SAAU,KACVC,cAAe,SAtFa1T,EAyFtBiQ,sBAAwBlV,EAAWwY,oBAAoB,CAC7DC,MAAO,SACPC,SAAU,KACVC,cAAe,UACd,OA7F2B1T,CAAS","ignoreList":[],"sourceRoot":""}},{"offset":{"line":276,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Container","__BaseContainer","___utils_placeholder_ToDosPlaceholder","___utils_Device","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","BaseContainer","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","observer","prototype","onFulfilled","onRejected","this","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","getTodosPlaceholder","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","DeviceType","ToDosContainer","extend","renderer","apiVersion","metadata","library","properties","fullScreenName","type","group","defaultValue","visibility","constructor","_constructor","id","settings","BaseContainer.prototype.constructor.call","init","_init","BaseContainer.prototype.init.call","setProperty","_i18nBundle","getText","addStyleClass","_isAuthCheckRequired","addCustomSetting","load","_load","_temp2","Promise","resolve","_performAuthCheck","panels","getContent","unsupportedPanels","filter","panel","_getSupported","_temp","_handleToDoUnauthorizedAccess","_loadAllPanels","error","_this2","getServiceAsync","navigationService","intents","map","getTargetAppUrl","_getAppIntent","isNavigationSupported","_navigationService$is","responses","forEach","index","_setSupported","supported","oError","message","fireEvent","removeContent","setVisible","getParent","resetSections","forceRefresh","_this3","selectedKey","getProperty","sortedPanels","sort","firstPanel","secondPanel","_temp3","_isLoaded","_loadCards","_onPanelSelect","event","_this4","_temp5","selectedPanel","_updateRefreshInformation","BaseContainer.prototype._onPanelSelect.call","_getSelectedPanel","_temp4","refreshData","_refreshData","_this5","_setLoaded","getSelectedKey","_getSelectedKey","_getDefaultKey","adjustLayout","_adjustLayout","toggleActionButtons","getDeviceType","Mobile","getGenericPlaceholderContent","_getGenericPlaceholderContent"],"sources":["ToDosContainer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Event from \"sap/ui/base/Event\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation from \"sap/ushell/services/Navigation\";\nimport type { $BaseContainerSettings } from \"./BaseContainer\";\nimport BaseContainer from \"./BaseContainer\";\nimport Layout from \"./Layout\";\nimport ToDoPanel, { Intent } from \"./ToDoPanel\";\nimport { getTodosPlaceholder } from \"./utils/placeholder/ToDosPlaceholder\";\nimport { DeviceType } from \"./utils/Device\";\n\n/**\n *\n * Container class for managing and storing To-Do cards.\n *\n * @extends BaseContainer\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.ToDosContainer\n */\nexport default class ToDosContainer extends BaseContainer {\n\tprivate _isAuthCheckRequired!: boolean;\n\n\tstatic cardCount: number | undefined;\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\tfullScreenName: { type: \"string\", group: \"Misc\", defaultValue: \"ST1\", visibility: \"hidden\" }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\t...BaseContainer.renderer,\n\t\tapiVersion: 2\n\t};\n\n\tconstructor(id?: string | $BaseContainerSettings);\n\tconstructor(id?: string, settings?: $BaseContainerSettings);\n\t/**\n\t * Constructor for a new To-Dos container.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: object) {\n\t\tsuper(id, settings);\n\t}\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//Update Container Title\n\t\tthis.setProperty(\"title\", this._i18nBundle?.getText(\"toDosTitle\"));\n\t\tthis.addStyleClass(\"sapCuxToDosContainer\");\n\t\tthis._isAuthCheckRequired = true;\n\t\tthis.addCustomSetting(\"title\", this._i18nBundle.getText(\"toDosTitle\") as string);\n\t\tthis.addCustomSetting(\"text\", this._i18nBundle.getText(\"forMeTodayMsg\") as string);\n\t}\n\n\t/**\n\t * Loads the ToDos section.\n\t * Overrides the load method of the BaseContainer.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic async load(): Promise<void> {\n\t\t//initiate loading of all cards after auth check\n\t\ttry {\n\t\t\tawait this._performAuthCheck();\n\n\t\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\t\tconst unsupportedPanels = panels.filter((panel) => !panel._getSupported());\n\n\t\t\tif (unsupportedPanels.length === panels.length) {\n\t\t\t\tthis._handleToDoUnauthorizedAccess();\n\t\t\t} else {\n\t\t\t\tawait this._loadAllPanels();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis._handleToDoUnauthorizedAccess(error as Error);\n\t\t}\n\t}\n\n\t/**\n\t * Performs an authorization check for the ToDosContainer.\n\t * Checks if the authorization check is required and updates panel support accordingly.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<void>} A Promise that resolves when the authorization check is completed.\n\t * @throws {Error} If an error occurs during the authorization check.\n\t */\n\tprivate async _performAuthCheck(): Promise<void> {\n\t\ttry {\n\t\t\tif (!this._isAuthCheckRequired) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t} else {\n\t\t\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\t\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\t\t\tconst intents = panels.map((panel) => (panel.getTargetAppUrl() ? panel._getAppIntent() : \"#\")) as Intent[];\n\t\t\t\tconst responses = (await navigationService.isNavigationSupported(intents)) as { supported: boolean }[];\n\n\t\t\t\t//Update panel support information\n\t\t\t\tpanels.forEach((panel, index) => panel._setSupported(responses[index].supported));\n\t\t\t\tthis._isAuthCheckRequired = false;\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\t} catch (oError) {\n\t\t\treturn Promise.reject(oError as Error);\n\t\t}\n\t}\n\n\t/**\n\t * Handles unauthorized access to the ToDosContainer by hiding all inner controls\n\t *\n\t * @private\n\t * @param {Error} error - An optional custom error message or an Error object.\n\t */\n\tprivate _handleToDoUnauthorizedAccess(error?: Error): void {\n\t\t//Remove all Inner Controls\n\t\tLog.error(error?.message || \"User has no access to any available panels\");\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => {\n\t\t\tpanel.fireEvent(\"loaded\");\n\t\t\tthis.removeContent(panel);\n\t\t});\n\t\tthis.setVisible(false);\n\t\t(this.getParent() as Layout)?.resetSections?.();\n\t}\n\n\t/**\n\t * Asynchronously loads all panels, ensuring the currently selected panel is loaded first.\n\t *\n\t * @private\n\t * @async\n\t * @param {boolean} forceRefresh - force refresh cards\n\t * @returns {Promise<void>} A promise that resolves when all panels are loaded.\n\t */\n\tprivate async _loadAllPanels(forceRefresh?: boolean): Promise<void> {\n\t\t//Sort panels so that the current panel is always loaded first\n\t\tconst selectedKey = this.getProperty(\"selectedKey\") as string;\n\t\tconst panels = (this.getContent() as ToDoPanel[]) || [];\n\t\tconst sortedPanels = [...panels].sort((firstPanel, secondPanel) => {\n\t\t\tif (firstPanel.getProperty(\"key\") === selectedKey) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (secondPanel.getProperty(\"key\") === selectedKey) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\n\t\tfor (const panel of sortedPanels) {\n\t\t\tif (!panel._isLoaded?.()) {\n\t\t\t\tawait panel._loadCards(forceRefresh);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Overridden method for selection of panel in the IconTabBar.\n\t * Loads the selected panel and updates the header elements as well\n\t *\n\t * @private\n\t * @async\n\t * @override\n\t */\n\tprotected async _onPanelSelect(event: Event): Promise<void> {\n\t\tsuper._onPanelSelect(event);\n\n\t\t//load panel if not loaded already\n\t\tconst selectedPanel = this._getSelectedPanel() as ToDoPanel;\n\t\tif (!selectedPanel._isLoaded()) {\n\t\t\tawait selectedPanel._loadCards(true);\n\t\t}\n\n\t\t//updates refresh information of the selected panel\n\t\tselectedPanel._updateRefreshInformation();\n\t}\n\n\t/**\n\t * Asynchronously refreshes the section by forcing all inner panels to be reloaded.\n\t *\n\t * @public\n\t * @async\n\t * @returns {Promise<void>} A promise that resolves when the section is successfully refreshed.\n\t */\n\tpublic async refreshData(): Promise<void> {\n\t\t//Force all inner panels to be reloaded\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => panel._setLoaded(false));\n\t\treturn await this._loadAllPanels(true);\n\t}\n\n\t/**\n\t * Gets the selected key of the To-Dos container.\n\t * If no selected key is set, it defaults to the first item.\n\t *\n\t * @public\n\t * @returns {string} The selected key.\n\t */\n\tpublic getSelectedKey(): string {\n\t\t//Default selected key to first item, if null\n\t\tif (!this.getProperty(\"selectedKey\")) {\n\t\t\tthis.setProperty(\"selectedKey\", this._getDefaultKey());\n\t\t}\n\n\t\treturn this.getProperty(\"selectedKey\") as string;\n\t}\n\n\t/**\n\t * Gets the default key for the ToDosContainer by returning the key of the first panel\n\t *\n\t * @private\n\t * @returns {string} The default key if it exists, or null if there are no panels\n\t */\n\tprivate _getDefaultKey(): string {\n\t\treturn this.getContent()?.[0]?.getProperty(\"key\") as string;\n\t}\n\n\t/**\n\t * Adjusts the layout of the all panels in the container.\n\t *\n\t * @private\n\t * @override\n\t */\n\tpublic adjustLayout() {\n\t\t//hide actions if the device is a phone\n\t\tthis.toggleActionButtons(this.getDeviceType() !== DeviceType.Mobile);\n\n\t\t//adjust layout of all panels\n\t\t(this.getContent() as ToDoPanel[])?.forEach((panel) => panel._adjustLayout());\n\t}\n\n\t/**\n\t * Retrieves the generic placeholder content for the Todos container.\n\t *\n\t * @returns {string} The HTML string representing the Todos container's placeholder content.\n\t */\n\tprotected getGenericPlaceholderContent(): string {\n\t\treturn getTodosPlaceholder();\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":""}},{"offset":{"line":281,"column":0},"map":{"version":3,"names":["sap","ui","define","LayoutHandler","allChanges","loadPersonalizationDialog","oWrapperControl","mPropertyBag","Promise","resolve","this","persDialogResolve","keyuserPersDialog","getAggregation","addStyleClass","styleClass","open","addChanges","aChanges","push","clearChanges","layoutHandler"],"sources":["LayoutHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Dialog from \"sap/m/Dialog\";\nimport Control from \"sap/ui/core/Control\";\n\nclass LayoutHandler {\n\tprivate keyuserPersDialog!: Dialog;\n\tprivate persDialogResolve!: (value: unknown[]) => void;\n\tprivate allChanges: Array<unknown> = [];\n\n\tpublic loadPersonalizationDialog(oWrapperControl: Control, mPropertyBag: Record<string, unknown>): Promise<unknown[]> {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.persDialogResolve = resolve;\n\t\t\tthis.keyuserPersDialog = oWrapperControl.getAggregation(\"keyUserSettingsDialog\") as Dialog;\n\t\t\t// Add RTA Class and show dialog\n\t\t\tthis.keyuserPersDialog.addStyleClass(mPropertyBag.styleClass as string);\n\n\t\t\t// Open the dialog\n\t\t\tthis.keyuserPersDialog.open();\n\t\t});\n\t}\n\n\tpublic addChanges(aChanges: Array<unknown>) {\n\t\tthis.allChanges.push(...aChanges);\n\t}\n\n\tpublic clearChanges() {\n\t\tthis.allChanges = [];\n\t}\n\n\tpublic resolve() {\n\t\tthis.persDialogResolve(this.allChanges);\n\t}\n}\n\nconst layoutHandler = new LayoutHandler();\n\nexport default layoutHandler;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,sDAAA,2BAQA,MAAMC,EAGGC,WAA6B,GAE9BC,0BAA0BC,EAA0BC,GAC1D,OAAO,IAAIC,QAASC,IACnBC,KAAKC,kBAAoBF,EACzBC,KAAKE,kBAAoBN,EAAgBO,eAAe,yBAExDH,KAAKE,kBAAkBE,cAAcP,EAAaQ,YAGlDL,KAAKE,kBAAkBI,QAEzB,CAEOC,WAAWC,GACjBR,KAAKN,WAAWe,QAAQD,EACzB,CAEOE,eACNV,KAAKN,WAAa,EACnB,CAEOK,UACNC,KAAKC,kBAAkBD,KAAKN,WAC7B,EAGD,MAAMiB,EAAgB,IAAIlB,EAAgB,OAE3BkB,CAAa","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":286,"column":0},"map":{"version":3,"names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","debounceTimeout","NewsFeedVisibilityChange","applyChange","change","container","clearTimeout","setTimeout","newsVisibilityChangeHandler","getContent","revertChange","isNewsFeedVisible","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["NewsFeedVisibilityChange.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsFeedVisibiliyChange } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst NewsFeedVisibilityChange = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsVisibilityChangeHandler(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChange = change.getContent() as INewsFeedVisibiliyChange;\n\t\trevertChange.isNewsFeedVisible = !revertChange.isNewsFeedVisible;\n\t\tcontainer?.newsVisibilityChangeHandler(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedVisibility\"\n\t\t};\n\t}\n};\n\nexport default NewsFeedVisibilityChange;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,iEAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CACA,IAAIC,EAAwD,KAE5D,MAAMC,EAA2B,CAChCC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,4BAA4BJ,EAAOK,eAC5C,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIe,EAAeN,EAAOK,aAC1BC,EAAaC,mBAAqBD,EAAaC,kBAC/CN,GAAWG,4BAA4BE,IAExCE,sBAAuBA,OAGvBC,iBAAmBT,IACX,CACNU,gBAAiBV,EAAOW,cACxBC,eAAiBvB,EAAoDwB,YACrEC,UAAW,wBAGZ,OAEahB,CAAwB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":291,"column":0},"map":{"version":3,"names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","debounceTimeout","SetNewsFeedUrl","applyChange","change","container","clearTimeout","setTimeout","newsPersonalization","getContent","revertChange","revertChanges","newsFeedURL","oldNewsFeedUrl","showCustomNewsFeed","oldShowCustomNewsFeed","customNewsFeedKey","oldCustomNewsFeedKey","showDefaultNewsFeed","oldshowDefaultNewsFeed","showRssNewsFeed","oldShowRssNewsFeed","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey"],"sources":["SetNewsFeedUrl.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, INewsPersData } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\nlet debounceTimeout: ReturnType<typeof setTimeout> | null = null;\n\nconst SetNewsFeedUrl = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\n\t\t// Debounce the newsPersonalization call\n\t\tif (debounceTimeout) {\n\t\t\tclearTimeout(debounceTimeout);\n\t\t}\n\n\t\tdebounceTimeout = setTimeout(() => {\n\t\t\tcontainer?.newsPersonalization(change.getContent());\n\t\t}, 0);\n\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tlet revertChanges = change.getContent() as INewsPersData;\n\t\trevertChanges.newsFeedURL = revertChanges.oldNewsFeedUrl;\n\t\trevertChanges.showCustomNewsFeed = revertChanges.oldShowCustomNewsFeed;\n\t\trevertChanges.customNewsFeedKey = revertChanges.oldCustomNewsFeedKey;\n\t\trevertChanges.showDefaultNewsFeed = revertChanges.oldshowDefaultNewsFeed;\n\t\trevertChanges.showRssNewsFeed = revertChanges.oldShowRssNewsFeed;\n\t\tcontainer?.newsPersonalization(revertChanges);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: \"newsFeedUrl\"\n\t\t};\n\t}\n};\n\nexport default SetNewsFeedUrl;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,uDAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CACA,IAAIC,EAAwD,KAE5D,MAAMC,EAAiB,CACtBC,YAAaA,CAACC,EAA8BT,KAC3C,MAAMU,EAAYX,EAAaC,GAG/B,GAAIM,EAAiB,CACpBK,aAAaL,EACd,CAEAA,EAAkBM,WAAW,KAC5BF,GAAWG,oBAAoBJ,EAAOK,eACpC,GAEH,OAAO,MAERC,aAAcA,CAACN,EAA8BT,KAC5C,MAAMU,EAAYX,EAAaC,GAC/B,IAAIgB,EAAgBP,EAAOK,aAC3BE,EAAcC,YAAcD,EAAcE,eAC1CF,EAAcG,mBAAqBH,EAAcI,sBACjDJ,EAAcK,kBAAoBL,EAAcM,qBAChDN,EAAcO,oBAAsBP,EAAcQ,uBAClDR,EAAcS,gBAAkBT,EAAcU,mBAC9ChB,GAAWG,oBAAoBG,IAEhCW,sBAAuBA,OAGvBC,iBAAmBnB,IACX,CACNoB,gBAAiBpB,EAAOqB,cACxBC,eAAiBjC,EAAoDkC,YACrEC,UAAW,iBAGZ,OAEa1B,CAAc","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":296,"column":0},"map":{"version":3,"names":["sap","ui","define","CondenserClassification","getNewsPageContainer","control","getItems","find","item","getMetadata","getName","SpacePageColorHandler","applyChange","change","container","setColorPersonalizations","getContent","revertChange","forEach","changeContent","BGColor","oldColor","applyColorToAllPages","oldApplyColorToAllPages","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey","spaceId","pageId"],"sources":["SpacePageColorHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getNewsPageContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\n\nconst SpacePageColorHandler = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getNewsPageContainer(control);\n\t\tcontainer?.setColorPersonalizations(change.getContent());\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst revertChange = change.getContent() as ISpacePagePersonalization[];\n\t\trevertChange.forEach((changeContent) => {\n\t\t\tchangeContent.BGColor = changeContent.oldColor;\n\t\t\tchangeContent.applyColorToAllPages = changeContent.oldApplyColorToAllPages;\n\t\t});\n\t\tconst container = getNewsPageContainer(control);\n\t\tcontainer?.setColorPersonalizations(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\tconst changeContent = change.getContent() as ISpacePagePersonalization;\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: changeContent.spaceId + (changeContent.pageId || \"\") + \"_color\"\n\t\t};\n\t}\n};\n\nexport default SpacePageColorHandler;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,8DAAA,8DAAAC,GAAA,aAWA,SAASC,EAAqBC,GAC7B,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CAEA,MAAMC,EAAwB,CAC7BC,YAAaA,CAACC,EAA8BR,KAC3C,MAAMS,EAAYV,EAAqBC,GACvCS,GAAWC,yBAAyBF,EAAOG,cAC3C,OAAO,MAERC,aAAcA,CAACJ,EAA8BR,KAC5C,MAAMY,EAAeJ,EAAOG,aAC5BC,EAAaC,QAASC,IACrBA,EAAcC,QAAUD,EAAcE,SACtCF,EAAcG,qBAAuBH,EAAcI,0BAEpD,MAAMT,EAAYV,EAAqBC,GACvCS,GAAWC,yBAAyBE,IAErCO,sBAAuBA,OAGvBC,iBAAmBZ,IAClB,MAAMM,EAAgBN,EAAOG,aAC7B,MAAO,CACNU,gBAAiBb,EAAOc,cACxBC,eAAiBzB,EAAoD0B,YACrEC,UAAWX,EAAcY,SAAWZ,EAAca,QAAU,IAAM,YAGnE,OAEarB,CAAqB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":301,"column":0},"map":{"version":3,"names":["sap","ui","define","CondenserClassification","getContainer","control","getItems","find","item","getMetadata","getName","SpacePageIconHandler","applyChange","change","container","setIconPersonalizations","getContent","revertChange","forEach","changeContent","icon","oldIcon","completeChangeContent","getCondenserInfo","affectedControl","getSelector","classification","LastOneWins","uniqueKey","spaceId","pageId"],"sources":["SpacePageIconHandler.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport CondenserClassification from \"sap/ui/fl/changeHandler/condenser/Classification\";\nimport BaseLayout from \"../BaseLayout\";\nimport { IKeyUserChangeObject, ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport NewsAndPagesContainer from \"../NewsAndPagesContainer\";\n\nfunction getContainer(control: Control): NewsAndPagesContainer {\n\treturn (control as BaseLayout)\n\t\t.getItems()\n\t\t.find((item) => item.getMetadata().getName() === \"sap.cux.home.NewsAndPagesContainer\") as NewsAndPagesContainer;\n}\n\nconst SpacePageIconHandler = {\n\tapplyChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst container = getContainer(control);\n\t\tcontainer?.setIconPersonalizations(change.getContent());\n\t\treturn true;\n\t},\n\trevertChange: (change: IKeyUserChangeObject, control: Control) => {\n\t\tconst revertChange = change.getContent() as ISpacePagePersonalization[];\n\t\trevertChange.forEach((changeContent) => {\n\t\t\tchangeContent.icon = changeContent.oldIcon;\n\t\t});\n\t\tconst container = getContainer(control);\n\t\tcontainer?.setIconPersonalizations(revertChange);\n\t},\n\tcompleteChangeContent: () => {\n\t\treturn;\n\t},\n\tgetCondenserInfo: (change: IKeyUserChangeObject) => {\n\t\tconst changeContent = change.getContent() as ISpacePagePersonalization;\n\t\treturn {\n\t\t\taffectedControl: change.getSelector(),\n\t\t\tclassification: (CondenserClassification as { LastOneWins: string }).LastOneWins,\n\t\t\tuniqueKey: changeContent.spaceId + (changeContent.pageId || \"\") + \"_icon\"\n\t\t};\n\t}\n};\n\nexport default SpacePageIconHandler;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,6DAAA,8DAAAC,GAAA,aAWA,SAASC,EAAaC,GACrB,OAAQA,EACNC,WACAC,KAAMC,GAASA,EAAKC,cAAcC,YAAc,qCACnD,CAEA,MAAMC,EAAuB,CAC5BC,YAAaA,CAACC,EAA8BR,KAC3C,MAAMS,EAAYV,EAAaC,GAC/BS,GAAWC,wBAAwBF,EAAOG,cAC1C,OAAO,MAERC,aAAcA,CAACJ,EAA8BR,KAC5C,MAAMY,EAAeJ,EAAOG,aAC5BC,EAAaC,QAASC,IACrBA,EAAcC,KAAOD,EAAcE,UAEpC,MAAMP,EAAYV,EAAaC,GAC/BS,GAAWC,wBAAwBE,IAEpCK,sBAAuBA,OAGvBC,iBAAmBV,IAClB,MAAMM,EAAgBN,EAAOG,aAC7B,MAAO,CACNQ,gBAAiBX,EAAOY,cACxBC,eAAiBvB,EAAoDwB,YACrEC,UAAWT,EAAcU,SAAWV,EAAcW,QAAU,IAAM,WAGnE,OAEanB,CAAoB","ignoreList":[],"sourceRoot":"changeHandler"}},{"offset":{"line":306,"column":0},"map":{"version":3,"names":["sap","ui","define","HideControl","UnHideControl","___Layoutflexibility","CHANGE_TYPES","Action","resetLayoutSections","changeType","action","change","control","propertyBag","genericChange","Promise","resolve","then","getParent","resetSections","e","reject","__exports","HIDE","layers","USER","changeHandler","applyChange","revertChange","UNHIDE"],"sources":["BaseContainer.flexibility.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport HideControl from \"sap/ui/fl/changeHandler/HideControl\";\nimport UnHideControl from \"sap/ui/fl/changeHandler/UnhideControl\";\nimport BaseContainer from \"../BaseContainer\";\nimport { IKeyUserChange } from \"../interface/KeyUserInterface\";\nimport Layout from \"../Layout\";\nimport { CHANGE_TYPES } from \"./Layout.flexibility\";\n\nenum Action {\n\tapplyChange = \"applyChange\",\n\trevertChange = \"revertChange\"\n}\n\ntype ChangeHandler = {\n\tapplyChange: (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => Promise<void>;\n\trevertChange: (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => Promise<void>;\n};\n\nconst resetLayoutSections = async (\n\tchangeType: ChangeHandler,\n\taction: Action,\n\tchange: IKeyUserChange,\n\tcontrol: BaseContainer,\n\tpropertyBag: object\n) => {\n\tconst genericChange: ChangeHandler = changeType;\n\tawait genericChange[action](change, control, propertyBag);\n\n\t// Reset sections to update the layout\n\t(control.getParent() as Layout).resetSections?.();\n};\n\nexport default {\n\t[CHANGE_TYPES.HIDE]: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: {\n\t\t\t...HideControl,\n\t\t\tapplyChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(HideControl as ChangeHandler, Action.applyChange, change, control, propertyBag);\n\t\t\t},\n\t\t\trevertChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(HideControl as ChangeHandler, Action.revertChange, change, control, propertyBag);\n\t\t\t}\n\t\t} as ChangeHandler\n\t},\n\t[CHANGE_TYPES.UNHIDE]: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: {\n\t\t\t...UnHideControl,\n\t\t\tapplyChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(UnHideControl as ChangeHandler, Action.applyChange, change, control, propertyBag);\n\t\t\t},\n\t\t\trevertChange: async (change: IKeyUserChange, control: BaseContainer, propertyBag: object) => {\n\t\t\t\tawait resetLayoutSections(UnHideControl as ChangeHandler, Action.revertChange, change, control, propertyBag);\n\t\t\t}\n\t\t} as ChangeHandler\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,gEAAA,gHAAAC,EAAAC,EAAAC,GAAA,mBAUSC,EAAYD,EAAA,oBAEhBE,EAAM,SAANA,KAAM,6BAANA,EAAM,sCAANA,CAAM,EAANA,GAAM,IAUX,MAAMC,EAAmB,SACxBC,EACAC,EACAC,EACAC,EACAC,GAAmB,IAEnB,MAAMC,EAA+BL,EAAW,OAAAM,QAAAC,QAC1CF,EAAcJ,GAAQC,EAAQC,EAASC,IAAYI,KAAA,WAGxDL,EAAQM,YAAuBC,iBAAkB,EACnD,CAAC,MAAAC,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GAAC,IAAAE,EAEa,CACd,CAAChB,EAAaiB,MAAO,CACpBC,OAAQ,CACPC,KAAM,MAEPC,cAAe,IACXvB,EACHwB,YAAW,SAAShB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACrFR,EAAoBL,EAA8BI,EAAOoB,YAAahB,EAAQC,EAASC,IAAYI,KAAA,aAC1G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GACDQ,aAAY,SAASjB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACtFR,EAAoBL,EAA8BI,EAAOqB,aAAcjB,EAAQC,EAASC,IAAYI,KAAA,aAC3G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,KAGH,CAACd,EAAauB,QAAS,CACtBL,OAAQ,CACPC,KAAM,MAEPC,cAAe,IACXtB,EACHuB,YAAW,SAAShB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACrFR,EAAoBJ,EAAgCG,EAAOoB,YAAahB,EAAQC,EAASC,IAAYI,KAAA,aAC5G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,GACDQ,aAAY,SAASjB,EAAwBC,EAAwBC,GAAmB,IAAK,OAAAE,QAAAC,QACtFR,EAAoBJ,EAAgCG,EAAOqB,aAAcjB,EAAQC,EAASC,IAAYI,KAAA,aAC7G,CAAC,MAAAG,GAAA,OAAAL,QAAAM,OAAAD,EAAA,MAGH,OAAAE,CAAA","ignoreList":[],"sourceRoot":"flexibility"}},{"offset":{"line":311,"column":0},"map":{"version":3,"names":["sap","ui","define","MoveControls","__newsFeedVisibilityChange","__setNewsFeedUrl","__spacePageColorHandler","__SpacePageIconHandler","_interopRequireDefault","obj","__esModule","default","newsFeedVisibilityChange","setNewsFeedUrl","spacePageColorHandler","SpacePageIconHandler","CHANGE_TYPES","__exports","MOVE","layers","USER","changeHandler","SPACE_COLOR","CUSTOMER","PAGE_COLOR","SPACE_ICON","PAGE_ICON","NEWS_FEED_URL","NEWS_FEED_VISIBILITY"],"sources":["Layout.flexibility.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport MoveControls from \"sap/ui/fl/changeHandler/MoveControls\";\nimport newsFeedVisibilityChange from \"../changeHandler/NewsFeedVisibilityChange\";\nimport setNewsFeedUrl from \"../changeHandler/SetNewsFeedUrl\";\nimport spacePageColorHandler from \"../changeHandler/SpacePageColorHandler\";\nimport SpacePageIconHandler from \"../changeHandler/SpacePageIconHandler\";\n\nexport enum CHANGE_TYPES {\n\tHIDE = \"hideControl\",\n\tUNHIDE = \"unhideControl\",\n\tMOVE = \"moveControls\",\n\tPAGE_COLOR = \"applyPageColor\",\n\tSPACE_COLOR = \"applySpaceColor\",\n\tPAGE_ICON = \"applyPageIcon\",\n\tSPACE_ICON = \"applySpaceIcon\",\n\tNEWS_FEED_URL = \"changeNewsFeedURL\",\n\tNEWS_FEED_VISIBILITY = \"setNewsFeedVisibility\"\n}\n\nexport default {\n\t[CHANGE_TYPES.MOVE]: {\n\t\tlayers: {\n\t\t\tUSER: true\n\t\t},\n\t\tchangeHandler: MoveControls as object\n\t},\n\t[CHANGE_TYPES.SPACE_COLOR]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: spacePageColorHandler\n\t},\n\t[CHANGE_TYPES.PAGE_COLOR]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: spacePageColorHandler\n\t},\n\t[CHANGE_TYPES.SPACE_ICON]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: SpacePageIconHandler\n\t},\n\t[CHANGE_TYPES.PAGE_ICON]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: SpacePageIconHandler\n\t},\n\t[CHANGE_TYPES.NEWS_FEED_URL]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: setNewsFeedUrl\n\t},\n\t[CHANGE_TYPES.NEWS_FEED_VISIBILITY]: {\n\t\tlayers: {\n\t\t\tCUSTOMER: true\n\t\t},\n\t\tchangeHandler: newsFeedVisibilityChange\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,yDAAA,iNAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAMOG,EAAwBJ,EAAAJ,GAAA,MACxBS,EAAcL,EAAAH,GAAA,MACdS,EAAqBN,EAAAF,GAAA,MACrBS,EAAoBP,EAAAD,GAAA,IAEfS,EAAY,SAAZA,KAAY,sBAAZA,EAAY,0BAAZA,EAAY,uBAAZA,EAAY,+BAAZA,EAAY,iCAAZA,EAAY,6BAAZA,EAAY,+BAAZA,EAAY,qCAAZA,EAAY,uDAAZA,CAAY,EAAZA,GAAY,QAAAC,EAYT,CACd,CAACD,EAAaE,MAAO,CACpBC,OAAQ,CACPC,KAAM,MAEPC,cAAelB,GAEhB,CAACa,EAAaM,aAAc,CAC3BH,OAAQ,CACPI,SAAU,MAEXF,cAAeP,GAEhB,CAACE,EAAaQ,YAAa,CAC1BL,OAAQ,CACPI,SAAU,MAEXF,cAAeP,GAEhB,CAACE,EAAaS,YAAa,CAC1BN,OAAQ,CACPI,SAAU,MAEXF,cAAeN,GAEhB,CAACC,EAAaU,WAAY,CACzBP,OAAQ,CACPI,SAAU,MAEXF,cAAeN,GAEhB,CAACC,EAAaW,eAAgB,CAC7BR,OAAQ,CACPI,SAAU,MAEXF,cAAeR,GAEhB,CAACG,EAAaY,sBAAuB,CACpCT,OAAQ,CACPI,SAAU,MAEXF,cAAeT,IAEhBK,EAAAD,eAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"flexibility"}},{"offset":{"line":316,"column":0},"map":{"version":3,"names":["sap","ui","define","UIAnnotations","__exports","__esModule"],"sources":["CardsInterface.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { TerminologyConfiguration } from \"sap/base/i18n/ResourceBundle\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport { EntitySet, EntityType, Property } from \"sap/ui/model/odata/ODataMetaModel\";\nimport { Intent } from \"sap/ushell/services/AppLifeCycle\";\n\nexport interface ICardHelper {\n\tgetServiceAsync: () => Promise<ICardHelperInstance>;\n}\n\nexport interface ICardHelperInstance {\n\t_getUserVisibleCardModel: (preferedCardIDs: string[]) => Promise<JSONModel>;\n\t_getUserAllCardModel: () => Promise<JSONModel>;\n\thandleDndCardsRanking: (iDragItemIndex: number, iDropItemIndex: number, aCards: ICard[]) => ICard[];\n\t_updateMultipleCards: (aCards: ICard[], sRequestMethod: string) => Promise<void>;\n\t_createCards: (aManifests: ICardManifest[]) => Promise<void>;\n\t_createCard: (oManifest: ICardManifest) => Promise<ICardManifest>;\n\tgetParentAppDetails: (oCard: ICard) => Promise<ICardParentAppDetails>;\n\tprocessSemanticDate: (oParameter: object, oIntegrationCardManifest: object) => unknown;\n\tfetchAddCardInnerContent: (onCardGeneration: (event: Event<ICardManifest>) => void) => Promise<Control[]>;\n\t_updateCards: (aCards: (ICard | ICardManifest)[]) => Promise<void>;\n\t_refreshUserCards: (deleteAllCards: boolean) => Promise<void>;\n\tresetAddCardInnerContent: () => void;\n}\n\nexport interface ICardParentAppDetails {\n\tsemanticObject: string;\n\taction: string;\n\tsemanticURL: string;\n\ttitle: string;\n}\n\nexport interface ICard {\n\tid?: string;\n\tdescriptorContent: ICardManifest;\n\tvisibility?: boolean;\n\trank?: string;\n}\n\nexport interface ICardAction {\n\ttype?: string;\n\tparameters: ICardActionParameters | string;\n}\n\nexport interface ICardActionParameters {\n\tibnTarget?: {\n\t\tsemanticObject: string;\n\t\taction: string;\n\t};\n\tibnParams?: Record<string, unknown>;\n\tsensitiveProps?: string[];\n}\n\nexport interface ISapCardConfig {\n\tparameters?: {\n\t\t_semanticDateRangeSetting?: {\n\t\t\tvalue: string;\n\t\t};\n\t\t_relevantODataFilters: {\n\t\t\tvalue: unknown[];\n\t\t};\n\t\t_relevantODataParameters: {\n\t\t\tvalue: unknown[];\n\t\t};\n\t\tlineItemState?: {\n\t\t\tvalue: string;\n\t\t};\n\t\tstate?: {\n\t\t\tvalue: string;\n\t\t};\n\t\theaderState?: {\n\t\t\tvalue: string;\n\t\t};\n\t\tcontentState?: {\n\t\t\tvalue: string;\n\t\t};\n\t};\n\tcsrfTokens?: unknown;\n\t[key: string]: unknown;\n}\nexport interface ISapCard {\n\ttype?: string;\n\theader?: {\n\t\ttitle?: string;\n\t\tactions?: ICardAction[];\n\t\tsubTitle?: string;\n\t\ticon?: string;\n\t\tstatus?: {\n\t\t\ttext?: string;\n\t\t\tstate?: string;\n\t\t};\n\t\tdata?: Record<string, unknown>;\n\t};\n\tcontent?: {\n\t\titem?: {\n\t\t\tactions: ICardAction[];\n\t\t\tattributes: {\n\t\t\t\tvalue: string;\n\t\t\t\tvisible?: boolean;\n\t\t\t\tstate?: string;\n\t\t\t\tshowStateIcon?: string | boolean;\n\t\t\t}[];\n\t\t\t[key: string]: unknown;\n\t\t};\n\t\tdata?: Record<string, unknown>;\n\t\trow?: {\n\t\t\tactions: ICardAction[];\n\t\t};\n\t\tactions?: ICardAction[];\n\t\tmaxItems?: number;\n\t};\n\trec?: boolean;\n\tconfiguration?: ISapCardConfig;\n\textension?: string;\n\tdata?: unknown;\n}\n\nexport interface IRequestData {\n\trequest: {\n\t\turl: string;\n\t\tmethod: string;\n\t\theaders: Record<string, string>;\n\t\tbatch?: unknown;\n\t};\n}\n\nexport interface ISapApp {\n\tid: string;\n\ttitle: string;\n\tsubTitle: string;\n\ttype: string;\n\tdataSources?: {\n\t\t[key: string]: {\n\t\t\turi?: string;\n\t\t\ttype?: string;\n\t\t\tannotations?: string[];\n\t\t\tsettings?: {\n\t\t\t\todataVersion: string;\n\t\t\t\tlocalUri: string;\n\t\t\t\tannotations?: string[];\n\t\t\t};\n\t\t};\n\t};\n\ti18n?: {\n\t\tbundleUrl: string;\n\t\tterminologies?: Record<string, TerminologyConfiguration>;\n\t};\n\tcrossNavigation?: Record<string, unknown>;\n}\n\nexport interface IResolutionResult {\n\tui5ComponentName: string;\n\tapplicationDependencies?: {\n\t\tmanifest: string;\n\t\t[key: string]: unknown;\n\t};\n\t[key: string]: unknown;\n}\n\nexport type IAppInfo = Record<string, IAppInfoData[]>;\n\nexport interface IAppInfoData {\n\tsemanticObject?: string;\n\taction?: string;\n\tresolutionResult?: IResolutionResult;\n\tfioriId?: string;\n}\n\nexport interface ICardManifest {\n\t\"sap.card\"?: ISapCard;\n\t\"sap.app\"?: ISapApp;\n\t\"sap.insights\"?: {\n\t\tranking?: string;\n\t\tparentAppId?: string;\n\t\t[key: string]: unknown;\n\t};\n\t\"sap.ui5\"?: ISapUI5App;\n\t\"sap.ui\"?: Record<string, unknown>;\n\tcacheType?: string;\n}\n\ntype LineItemAnnotationType =\n\t| \"SemanticObject\"\n\t| \"Action\"\n\t| \"Criticality\"\n\t| \"CriticalityRepresentation\"\n\t| \"com.sap.vocabularies.Common.v1.FieldControl\"\n\t| \"com.sap.vocabularies.UI.v1.Hidden\"\n\t| \"Target\";\n\ntype LineItemObject = {\n\t[key in LineItemAnnotationType]?: {\n\t\tString?: string;\n\t\tPath?: string;\n\t\tEnumMember?: string;\n\t\tAnnotationPath?: string;\n\t\tBool?: boolean | string;\n\t};\n};\n\nexport interface ILineItemContextValue {\n\tPath?: string;\n\tApply?: {\n\t\tParameters: {\n\t\t\tValue?: Record<string, string>;\n\t\t\t[key: string]: unknown;\n\t\t}[];\n\t};\n\t[key: string]: unknown;\n}\n\nexport interface ILineItemContext extends LineItemObject {\n\tValue?: ILineItemContextValue;\n\tUrl?: ILineItemContextValue;\n\tPath?: string;\n\tEnumMember?: string;\n\t[key: string]: unknown;\n}\n\nexport interface ILineItem extends LineItemObject {\n\tValue?: ILineItemContext;\n\tRecordType?: string;\n\t[key: string]: unknown;\n}\nexport interface IVariantSetting {\n\tannotationPath?: string;\n\tentitySet?: string;\n\tisSmartChart?: boolean;\n\ttableSettings?: ITableSettings;\n\t[key: string]: unknown;\n}\n\nexport interface ILrSettings {\n\tquickVariantSelectionX?: {\n\t\tvariants?: Record<string, IVariantSetting>;\n\t};\n\trequestAtLeastFields?: string[] | { String?: string; PropertyPath?: string }[];\n\ttableSettings?: ITableSettings;\n\tisResponsiveTable?: boolean;\n\tbSupressCardRowNavigation?: boolean;\n\ttableType?: string;\n\tgridTable?: string;\n\ttreeTable?: string;\n\t[key: string]: unknown;\n}\n\nexport interface ITableSettings {\n\ttype?: string;\n\theaderInfo?: Record<string, unknown> | string;\n\taddCardtoInsightsHidden?: boolean;\n}\n\nexport interface IPresentationVariant {\n\tRequestAtLeast?: string[];\n\trequestAtLeastFields?: Record<string, unknown> | { Path: string } | string[] | { String?: string; PropertyPath?: string }[];\n\tVisualizations?: IUIVisualizations[];\n\tPath?: string;\n\tPresentationVariant?: IPresentationVariant;\n\t[key: string]: unknown;\n}\n\nexport interface IHeaderInfo {\n\tTypeNamePlural?: {\n\t\tString: string;\n\t};\n\t[key: string]: unknown;\n}\n\nexport interface ILineItemDetails {\n\tquickVariant: Record<string, unknown>;\n\tlrSettings: ILrSettings;\n\tlineItem: ILineItem[] | string | undefined;\n\tentitySet: string;\n\theaderInfo: IHeaderInfo | string;\n\t[key: string]: unknown;\n}\n\nexport type IUIVisualizations = {\n\tlineItem: ILineItem[];\n\tannotationPath?: string;\n\tAnnotationPath?: string;\n\tsQualifier?: string;\n\t[key: string]: unknown;\n};\n\nexport interface IVersionInfo {\n\tversion: string;\n\tbuildTimestamp: string;\n}\nexport interface IPageType {\n\tcomponent?: {\n\t\tname?: string;\n\t\tsettings?: Partial<Pick<ILrSettings, \"tableSettings\" | \"quickVariantSelectionX\">>;\n\t};\n\tentitySet?: string | undefined;\n\tpages: IPageType[] | PageRecord;\n\t[key: string]: unknown;\n}\n\nexport type PageRecord = {\n\t[key: string]: IPageType | string | boolean;\n};\n\nexport interface IAppManifest {\n\t\"sap.ui.generic.app\"?: {\n\t\tpages: IPageType[] | PageRecord;\n\t\t[key: string]: unknown;\n\t};\n\t\"sap.app\"?: ISapApp;\n\t\"sap.ui\"?: Record<string, unknown>;\n\t[key: string]: unknown;\n}\n\nexport interface ISapUI5App {\n\t_version?: string;\n\tcomponentName?: string;\n\tdependencies?: {\n\t\tminUI5Version?: string;\n\t\tlibs: {\n\t\t\t[key: string]: {\n\t\t\t\tlazy?: boolean;\n\t\t\t};\n\t\t};\n\t};\n\tcontentDensities?: {\n\t\tcompact: boolean;\n\t\tcozy: boolean;\n\t};\n\t[key: string]: unknown;\n}\n\nexport interface IManifestCardData {\n\tcardTitle?: string;\n\tsubTitle: string;\n\turl: string;\n\tsemanticObject: string;\n\taction: string;\n\tid?: string;\n\tcolumns: IColumnData[];\n\tentitySet: string;\n}\n\nexport interface IColumnData {\n\tpath: string;\n\ttype: string;\n\tvalue: string;\n\tidentifier: string | boolean;\n\tstate: string;\n\tshowStateIcon: string | boolean;\n\t[key: string]: unknown;\n}\n\nexport interface IRegeneratedCard {\n\tid: string;\n\tdescriptorContent: ICardManifest;\n}\n\nexport interface ICardDetails {\n\tcardId: string;\n\trank?: string;\n\tid: string;\n\ttarget?: Partial<Intent>;\n\tindex?: number;\n\tnewManifest?: IRegeneratedCard;\n}\n\nexport interface IEntitySet extends EntitySet {\n\t\"Org.OData.Capabilities.V1.FilterRestrictions\"?: {\n\t\tRequiredProperties?: unknown[];\n\t};\n}\n\nexport enum UIAnnotations {\n\tSapSemantics = \"sap:semantics\",\n\tUITextArrangement = \"com.sap.vocabularies.UI.v1.TextArrangement\",\n\tUIHidden = \"com.sap.vocabularies.UI.v1.Hidden\",\n\tCommonLabel = \"com.sap.vocabularies.Common.v1.Label\",\n\tUIHeaderInfo = \"com.sap.vocabularies.UI.v1.HeaderInfo\",\n\tUISelectionPresentationVariant = \"com.sap.vocabularies.UI.v1.SelectionPresentationVariant\",\n\tUILineItem = \"com.sap.vocabularies.UI.v1.LineItem\",\n\tUIPresentationVariant = \"com.sap.vocabularies.UI.v1.PresentationVariant\",\n\tUIChart = \"com.sap.vocabularies.UI.v1.Chart\",\n\tMeasuresISOCurrency = \"Org.OData.Measures.V1.ISOCurrency\",\n\tMeasuresUnit = \"Org.OData.Measures.V1.Unit\",\n\tCommonFieldControl = \"com.sap.vocabularies.Common.v1.FieldControl\",\n\tUIIsImageURL = \"com.sap.vocabularies.UI.v1.IsImageURL\",\n\tCommonText = \"com.sap.vocabularies.Common.v1.Text\",\n\tCommonSemanticKey = \"com.sap.vocabularies.Common.v1.SemanticKey\"\n}\n\n// UI Text annotation type for Common.Text\ninterface UITextAnnotation {\n\t[UIAnnotations.UITextArrangement]?: Record<\"EnumMember\", string>;\n}\n\ntype UIAnnotationValueBase = {\n\t[K in UIAnnotations]?: K extends UIAnnotations.CommonText ? StandardUIAnnotationValue & UITextAnnotation : StandardUIAnnotationValue;\n};\n\nexport interface UIAnnotationValue extends UIAnnotationValueBase {\n\t\"sap:text\"?: string;\n\ttype?: string;\n\tname?: string;\n\t[key: string]: unknown;\n}\n\n// Define special case annotations with their specific types\ninterface SpecialUIAnnotationValue {\n\t[UIAnnotations.UILineItem]?: Array<ILineItemContext>;\n\t[UIAnnotations.CommonSemanticKey]?: Array<{ PropertyPath: string }>;\n\t[UIAnnotations.UIPresentationVariant]?: IPresentationVariant;\n\t[UIAnnotations.UITextArrangement]?: Record<\"EnumMember\", string>;\n\t[UIAnnotations.SapSemantics]?: string;\n}\n\n// Create a type for standard annotations (excluding special cases)\ntype StandardUIAnnotations = {\n\t[K in Exclude<\n\t\tUIAnnotations,\n\t\t| UIAnnotations.UILineItem\n\t\t| UIAnnotations.CommonSemanticKey\n\t\t| UIAnnotations.UIPresentationVariant\n\t\t| UIAnnotations.SapSemantics\n\t\t| UIAnnotations.UITextArrangement\n\t>]?: StandardUIAnnotationValue;\n};\n\ninterface StandardUIAnnotationValue {\n\tBool?: string | boolean;\n\tPath?: string;\n\tPropertyPath?: string;\n\tString?: string;\n\tEnumMember?: string;\n\t[key: string]: unknown;\n}\n\nexport interface IEntityType extends EntityType, SpecialUIAnnotationValue, StandardUIAnnotations {\n\tproperty?: Property[];\n\t[key: string]: unknown;\n}\n\nexport interface InsightsCacheData {\n\tgetInstance: () => {\n\t\tclearCache: (id: string) => void;\n\t};\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,mDAAA,+BA0XYC,EAAa,SAAbA,KAAa,gCAAbA,EAAa,kEAAbA,EAAa,gDAAbA,EAAa,sDAAbA,EAAa,wDAAbA,EAAa,4FAAbA,EAAa,oDAAbA,EAAa,0EAAbA,EAAa,8CAAbA,EAAa,2DAAbA,EAAa,6CAAbA,EAAa,oEAAbA,EAAa,wDAAbA,EAAa,oDAAbA,EAAa,yEAAbA,CAAa,EAAbA,GAAa,IA2CzB,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAD,gBAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":321,"column":0},"map":{"version":3,"names":["sap","ui","define","DataType","Lib","sap_ui_core_library","sap_ui_integration_library","cuxNamespace","cuxHomeNamespace","thisLib","init","apiVersion","name","version","dependencies","types","interfaces","controls","elements","noLibraryCSS","extensions","flChangeHandlers","OrientationType","registerEnum","NewsType"],"sources":["library.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport DataType from \"sap/ui/base/DataType\";\nimport Lib from \"sap/ui/core/Lib\";\nimport \"sap/ui/core/library\";\nimport \"sap/ui/integration/library\";\n\n/**\n * Root namespace for all the libraries related to Common User Experience.\n *\n * @namespace\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n * @since 1.121\n */\nexport const cuxNamespace = \"sap.cux\";\n\n/**\n * This is an SAPUI5 library with controls specialized for common user experience.\n *\n * @namespace\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n * @since 1.121\n */\nexport const cuxHomeNamespace = \"sap.cux.home\";\n\nconst thisLib = Lib.init({\n\tapiVersion: 2,\n\tname: \"sap.cux.home\",\n\tversion: \"0.0.1\",\n\tdependencies: [\"sap.ui.core\", \"sap.m\", \"sap.ui.integration\", \"sap.insights\"],\n\ttypes: [\"sap.cux.home.OrientationType\", \"sap.cux.home.NewsType\"],\n\tinterfaces: [],\n\tcontrols: [\n\t\t\"sap.cux.home.Layout\",\n\t\t\"sap.cux.home.ToDosContainer\",\n\t\t\"sap.cux.home.NewsAndPagesContainer\",\n\t\t\"sap.cux.home.AppsContainer\",\n\t\t\"sap.cux.home.InsightsContainer\"\n\t],\n\telements: [\n\t\t\"sap.cux.home.MenuItem\",\n\t\t\"sap.cux.home.TaskPanel\",\n\t\t\"sap.cux.home.SituationPanel\",\n\t\t\"sap.cux.home.PagePanel\",\n\t\t\"sap.cux.home.NewsPanel\",\n\t\t\"sap.cux.home.FavAppPanel\",\n\t\t\"sap.cux.home.FrequentAppPanel\",\n\t\t\"sap.cux.home.RecentAppPanel\",\n\t\t\"sap.cux.home.RecommendedAppPanel\",\n\t\t\"sap.cux.home.TilesPanel\",\n\t\t\"sap.cux.home.CardsPanel\"\n\t],\n\tnoLibraryCSS: false,\n\textensions: {\n\t\tflChangeHandlers: {\n\t\t\t\"sap.cux.home.Layout\": \"sap/cux/home/flexibility/Layout\",\n\t\t\t\"sap.cux.home.BaseContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.ToDosContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.NewsAndPagesContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.InsightsContainer\": \"sap/cux/home/flexibility/BaseContainer\",\n\t\t\t\"sap.cux.home.AppsContainer\": \"sap/cux/home/flexibility/BaseContainer\"\n\t\t}\n\t}\n}) as { [key: string]: unknown };\n\n/**\n * Supported layout types for {@link sap.cux.home.BaseContainer}.\n *\n * @enum {string}\n * @private\n * @since 1.121\n */\nexport enum OrientationType {\n\t/**\n\t * Panels are rendered side by side, for example To-Dos and Situaions, and Favorites, Recently Used and Frequently Used apps\n\t *\n\t * @public\n\t */\n\tSideBySide = \"SideBySide\",\n\n\t/**\n\t * Panels are rendered vertically, for example Insights Tiles and Insights Cards\n\t *\n\t * @public\n\t */\n\tVertical = \"Vertical\",\n\n\t/**\n\t * Panels are rendered horizontally, for example Pages and News\n\t *\n\t * @public\n\t */\n\tHorizontal = \"Horizontal\"\n}\nthisLib.OrientationType = OrientationType;\nDataType.registerEnum(\"sap.cux.home.OrientationType\", OrientationType);\n\n/**\n * Supported News Types for {@link sap.cux.home.NewsPanel}.\n *\n * @enum {string}\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n * @since 1.121\n */\nexport enum NewsType {\n\t/**\n\t * News is of type Url\n\t * @private\n\t * @ui5-restricted ux.eng.s4producthomes1\n\t */\n\tNewsUrl = \"newsUrl\",\n\n\t/**\n\t * News is of type custom news feed\n\t *\n\t * @private\n\t * @ui5-restricted ux.eng.s4producthomes1\n\t */\n\tCustom = \"customFeed\",\n\n\t/**\n\t * News is of type default news feed\n\t *\n\t * @private\n\t * @ui5-restricted ux.eng.s4producthomes1\n\t */\n\tDefault = \"default\",\n\n\t/**\n\t * News is of type None\n\t *\n\t * @private\n\t * @ui5-restricted ux.eng.s4producthomes1\n\t */\n\tNone = \"\"\n}\nthisLib.NewsType = NewsType;\nDataType.registerEnum(\"sap.cux.home.NewsType\", NewsType);\n\nexport default thisLib;\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,kCAAA,uGAAAC,EAAAC,EAAAC,EAAAC,GAAA,aAkBO,MAAMC,EAAe,UAUrB,MAAMC,EAAmB,eAEhC,MAAMC,EAAUL,EAAIM,KAAK,CACxBC,WAAY,EACZC,KAAM,eACNC,QAAS,QACTC,aAAc,CAAC,cAAe,QAAS,qBAAsB,gBAC7DC,MAAO,CAAC,+BAAgC,yBACxCC,WAAY,GACZC,SAAU,CACT,sBACA,8BACA,qCACA,6BACA,kCAEDC,SAAU,CACT,wBACA,yBACA,8BACA,yBACA,yBACA,2BACA,gCACA,8BACA,mCACA,0BACA,2BAEDC,aAAc,MACdC,WAAY,CACXC,iBAAkB,CACjB,sBAAuB,kCACvB,6BAA8B,yCAC9B,8BAA+B,yCAC/B,qCAAsC,yCACtC,iCAAkC,yCAClC,6BAA8B,6CAKjC,IAOYC,EAAe,SAAfA,KAAe,2BAAfA,EAAe,uBAAfA,EAAe,kCAAfA,CAAe,EAAfA,GAAe,IAsB3Bb,EAAQa,gBAAkBA,EAC1BnB,EAASoB,aAAa,+BAAgCD,GAEtD,IAQYE,EAAQ,SAARA,KAAQ,qBAARA,EAAQ,uBAARA,EAAQ,qBAARA,EAAQ,kBAARA,CAAQ,EAARA,GAAQ,IAgCpBf,EAAQe,SAAWA,EACnBrB,EAASoB,aAAa,wBAAyBC,GAAUf,EAAAF,eAAAE,EAAAD,mBAAA,OAE1CC,CAAO","ignoreList":[],"sourceRoot":""}},{"offset":{"line":326,"column":0},"map":{"version":3,"names":["sap","ui","define","InvisibleText","getInvisibleText","id","text","Error","checkPanelExists","parentContainer","containerTypeName","panelTypeName","layout","_getLayout","items","getAggregation","targetContainer","Array","find","control","getMetadata","getName","containerContents","normalizedItems","some","__exports","__esModule"],"sources":["Accessibility.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport BaseContainer from \"../BaseContainer\";\nimport BaseLayout from \"../BaseLayout\";\nimport BasePanel from \"../BasePanel\";\n\n/**\n * Creates an instance of `InvisibleText` with the given ID and text.\n *\n * @param {string} id - The unique id for the `InvisibleText` instance.\n * @param {string} [text=\"\"] - The text content for the `InvisibleText` instance. Defaults to an empty string.\n * @returns {InvisibleText} A new `InvisibleText` instance.\n * @throws {Error} If the `id` is not provided.\n */\nexport function getInvisibleText(id: string, text: string = \"\"): InvisibleText {\n\tif (id) {\n\t\treturn new InvisibleText({\n\t\t\tid: id,\n\t\t\ttext: text || \"\"\n\t\t});\n\t} else {\n\t\tthrow new Error(\"ID is required for InvisibleText.\");\n\t}\n}\n\n/**\n * Checks whether a specific panel type exists within a given container in the layout.\n *\n * @param {BaseContainer} parentContainer - The parent container from where the from which the function is called.\n * @param {string} containerTypeName - The name of the container to look for.\n * @param {string} panelTypeName - The name of the panel to verify inside the container.\n * @returns {boolean} - Returns `true` if the specified panel exists, otherwise `false`.\n */\nexport function checkPanelExists(\n\tparentContainer: BaseContainer | BasePanel | BaseLayout,\n\tcontainerTypeName: string,\n\tpanelTypeName: string\n): boolean {\n\tconst layout = (parentContainer as BaseContainer)?._getLayout?.() ?? parentContainer;\n\tconst items = layout?.getAggregation(\"items\");\n\tconst targetContainer = items instanceof Array ? items.find((control) => control.getMetadata()?.getName() === containerTypeName) : null;\n\tconst containerContents = targetContainer?.getAggregation(\"content\");\n\tconst normalizedItems = (containerContents && (containerContents instanceof Array ? containerContents : [containerContents])) || [];\n\treturn normalizedItems.some((control) => control.getMetadata()?.getName() === panelTypeName);\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,8CAAA,uCAAAC,GAAA,aAiBO,SAASC,EAAiBC,EAAYC,EAAe,IAC3D,GAAID,EAAI,CACP,OAAO,IAAIF,EAAc,CACxBE,GAAIA,EACJC,KAAMA,GAAQ,IAEhB,KAAO,CACN,MAAM,IAAIC,MAAM,oCACjB,CACD,CAUO,SAASC,EACfC,EACAC,EACAC,GAEA,MAAMC,EAAUH,GAAmCI,gBAAkBJ,EACrE,MAAMK,EAAQF,GAAQG,eAAe,SACrC,MAAMC,EAAkBF,aAAiBG,MAAQH,EAAMI,KAAMC,GAAYA,EAAQC,eAAeC,YAAcX,GAAqB,KACnI,MAAMY,EAAoBN,GAAiBD,eAAe,WAC1D,MAAMQ,EAAmBD,IAAsBA,aAA6BL,MAAQK,EAAoB,CAACA,KAAwB,GACjI,OAAOC,EAAgBC,KAAML,GAAYA,EAAQC,eAAeC,YAAcV,EAC/E,CAAC,IAAAc,EAAA,CAAAC,WAAA,MAAAD,EAAArB,mBAAAqB,EAAAjB,mBAAA,OAAAiB,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":331,"column":0},"map":{"version":3,"names":["sap","ui","define","AnalyticalCardSkeleton","_version","id","type","title","subTitle","applicationVersion","version","shortTitle","info","description","tags","keywords","header","content","data","request","url","method","parameters","$format","path","item","attributesOrientationType","attributes","value","maxItems","__exports","__esModule"],"sources":["AnalyticalCardSkeleton.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport const AnalyticalCardSkeleton = {\n\t_version: \"1.14.0\",\n\t\"sap.app\": {\n\t\tid: \"card.explorer.data.list.card\",\n\t\ttype: \"card\",\n\t\ttitle: \"\",\n\t\tsubTitle: \"\",\n\t\tapplicationVersion: {\n\t\t\tversion: \"1.0.0\"\n\t\t},\n\t\tshortTitle: \"A short title for this Card\",\n\t\tinfo: \"Additional information about this Card\",\n\t\tdescription: \"A long description for this Card\",\n\t\ttags: {\n\t\t\tkeywords: [\"Data\", \"Card\", \"Sample\"]\n\t\t}\n\t},\n\t\"sap.card\": {\n\t\ttype: \"Analytical\",\n\t\theader: {\n\t\t\ttitle: \"\",\n\t\t\tsubTitle: \"\"\n\t\t},\n\t\tcontent: {\n\t\t\tdata: {\n\t\t\t\trequest: {\n\t\t\t\t\turl: \"\",\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\t$format: \"json\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpath: \"/d/results\"\n\t\t\t},\n\t\t\titem: {\n\t\t\t\ttitle: \"{ProductName}\",\n\t\t\t\tdescription: \"{UnitsInStock} units in stock\",\n\t\t\t\tattributesOrientationType: \"OneColumn\",\n\t\t\t\tattributes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: \"{Processor}\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmaxItems: 5\n\t\t}\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,uDAAA,2BAIO,MAAMC,EAAyB,CACrCC,SAAU,SACV,UAAW,CACVC,GAAI,+BACJC,KAAM,OACNC,MAAO,GACPC,SAAU,GACVC,mBAAoB,CACnBC,QAAS,SAEVC,WAAY,8BACZC,KAAM,yCACNC,YAAa,mCACbC,KAAM,CACLC,SAAU,CAAC,OAAQ,OAAQ,YAG7B,WAAY,CACXT,KAAM,aACNU,OAAQ,CACPT,MAAO,GACPC,SAAU,IAEXS,QAAS,CACRC,KAAM,CACLC,QAAS,CACRC,IAAK,GACLC,OAAQ,MACRC,WAAY,CACXC,QAAS,SAGXC,KAAM,cAEPC,KAAM,CACLlB,MAAO,gBACPM,YAAa,gCACba,0BAA2B,YAC3BC,WAAY,CACX,CACCC,MAAO,iBAIVC,SAAU,KAGX,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAA3B,yBAAA,OAAA2B,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":336,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","ResourceBundle","VersionInfo","BaseObject","ODataModelV2","Config","Container","___AnalyticalCardSkeleton","___Constants","___DataFormatUtils","__HttpHelper","__RecommendedCardUtil","_interopRequireDefault","obj","__esModule","default","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","this","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","AnalyticalCardSkeleton","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","COLUMN_LENGTH","_catch","recover","DEFAULT_BG_COLOR","FALLBACK_ICON","MYHOME_PAGE_ID","MYHOME_SPACE_ID","MYINSIGHT_SECTION_ID","RECOMMENDATION_SRVC_URL","RECOMMENDED_CARD_LIMIT","createBookMarkData","getLeanURL","HttpHelper","RecommendedCardUtil","CONSTANTS","MUST_INCLUDE_RECOMMEDED_APPS","_parseSBParameters","oParam","oParsedParams","JSON","parse","oError","error","Error","message","String","undefined","_getTileProperties","vizConfigFLP","oTileProperties","_instantiationData","chip","configuration","oConfig","tileConfiguration","oTileConfig","TILE_PROPERTIES","_getAppId","sAppId","semanticObject","action","semanticAction","_getTargetUrl","sTargetURL","evaluationId","_isSmartBusinessTile","oVisualization","vizType","startsWith","_getAppTitleSubTitle","oApp","oAppTileInfo","bags","sb_tileProperties","texts","title","subtitle","description","_linkDuplicateVizs","aVizs","forEach","oDuplicateViz","filter","oViz","appId","visualization","id","persConfig","sectionIndex","duplicateApps","_isGUIVisualization","parameters","_isMustIncludeRecommendation","recViz","fioriId","includes","_isVisualizationAlreadyAdded","favoriteVisualizations","some","favViz","AppManager","aRequestQueue","bInsightsSectionPresent","vizDataModified","_oVizCacheData","_favPageVisualizations","componentData","fioriAppData","constructor","super","recommendedUtilInstance","getInstance","Instance","_fetchRequestFromQueue","bForceRefresh","pageId","Promise","resolve","getServiceAsync","oSpaceContentService","oPageLoadPromise","oRequestedPage","find","oRequest","getPage","pageLoadPromise","_fetchDynamicVizs","fetchFavVizs","aFavApps","oDynApp","isCount","isSmartBusinessTile","_getSections","_this2","oPage","aSections","sections","iRecentAppSectionIndex","findIndex","oSection","_temp2","_temp","_oMoveAppsPromise","moveSection","_fetchPageVizs","_this3","oVizInstantiationService","iSectionIndex","visualizations","iVisualizationIndex","vizConfig","oVizInfo","oldAppId","targetURL","url","leanURL","BGColor","key","isFav","isSection","icon","icons","indicatorDataSource","path","contentProviderId","instantiateVisualization","setActive","vizInstance","sectionTitle","sectionId","visualizationIndex","isDefaultSection","isPresetSection","preset","_copyDynamicVizs","_this4","aDynamicVizs","all","map","oDynViz","addVisualization","vizId","bPreventGrouping","_this5","aMyHomeVizs","aVisibleFavVizs","_filterDuplicateVizs","_addGroupInformation","fetchInsightApps","sSectionTitle","_this6","_temp5","fnFetchInsightsApps","_temp4","insightsSectionIndex","_temp3","last","addSection","sectionProperties","visualizationId","spaceContentService","removeVisualizations","vizIds","_this7","_temp7","targetSection","_temp6","deleteVisualization","updateVisualizations","sourceSectionIndex","sourceVisualizationIndex","oVisualizationData","updateVisualization","createInsightSection","_exit","_this8","_temp9","_result","_temp8","iMyInsightSectionIndex","_this8$addSection","visible","mProperties","getSectionVisualizations","forceRefresh","_this9","aApps","apps","addBookMark","bookmark","moveConfig","_this0","oBookmarkService","getContentNodes","aContentNodes","oMyHomeSpace","contentNode","children","addBookmark","moveVisualization","getVisualization","_this1","sectionVisualizations","sectionVisualization","_this10","targetSectionIndex","targetVisualizationIndex","aVisibleFavoriteVizs","bReturnDuplicateVizs","iVizIndex","iFirstIndex","oTempApp","aFavoriteVizs","aRecentVizs","oExistingSection","index","badge","toString","oPagesService","iPageIndex","getPageIndex","isURLParamEnabled","param","urlParams","URLSearchParams","window","location","search","get","toLowerCase","_getRecommenedFioriIds","_exit2","_this11","_temp1","_result3","recommendedFioriIds","_temp0","GetJSON","_HttpHelper$GetJSON","response","app_id","_Promise$resolve","_getCatalogApps","_exit3","_this12","_temp12","_result4","catalogAppData","_temp11","SearchableContent","getApps","includeAppsWithoutVisualizations","_this12$catalogAppDat","_temp10","isAddCardToInsightsHidden","page","component","settings","tableSettings","addCardtoInsightsHidden","_checkValidManifests","manifest","dataSources","hasRequiredDataSource","mainService","pages","Array","isArray","_isListReport","pageValues","Object","_getOdataModel","oManifest","datasource","annotationUrls","annotations","name","uri","Boolean","oDataModel","annotationURI","loadAnnotationsJoined","attachMetadataLoaded","attachMetadataFailed","_getEntitySet","entitySet","loadI18n","manifestUrl","_this13","_temp14","_RBManifestMap","absoluteUrl","i18nBundleUrl","URL","href","_temp13","create","bundleUrl","async","terminologies","oResourceBundle","getI18nValueOrDefaultString","sValue","oRB","sPath","substring","getText","_getAnalyticalCardManifest","stringify","getProcessedManifest","metaModel","manifestObj","parentApp","versionInfo","_this14","_temp17","_createCardManifest","cardInput","suppressRowNavigation","mainEntitySetName","mainEntitySet","getODataEntitySet","lineItemDetails","getLineItemDetails","lineItem","entitySetName","entityType","getODataEntityType","lrSettings","hasMandatoryProperties","property","parameterDetails","_getParametersisedEntitySetParams","paramEntitySet","_getManifestCardData","columns","headerInfo","cardTitle","TypeNamePlural","_temp16","i18n","appTitle","_temp15","i18nResourceBundle","fetchMetaModels","validManifests","_this15","odataPromises","_this15$_getOdataMode","getMetaModel","combineManifestsAndMetaModels","aMetaModel","reduce","combined","processManifests","combinedDetails","aCSTR","_this16","item","resolutionResult","ui5ComponentName","processAppList","aList","aAppComponentIds","aComponent","list","oComponent","oData","matchingData","entry","_getCardManifest","_this17","getFioriAppData","aCatalog","aFioriData","load","_VersionInfo$load","flat","processedList","fetchManifests","manifests","cards","card","appIdList","fioriData","catalogData","appPromises","_exit4","aApp","_temp18","catalog","applicationDependencies","fetch","json","_response$json","_url$manifest","_result6","results","_removeDuplicateCards","aCards","oCardDict","aResult","oCard","sCardTitle","descriptorContent","header","getRecommenedCards","_this18","aAppIds","aManifests","aRecManifests","slice","aRecommendedCards","rec","getRecommendedVisualizations","_this19","_temp21","_recommendedVisualizations","_temp20","_temp19","finalRecommendations","mustIncludeRecommendations","_getVisualizationsByFioriIds","recommendedVisualizations","concat","_getInboundApps","service","_oAdapter","_aInbounds","_this20","_temp23","_temp22","keys","inbounds","oItem","signature","defaultValue","componentId","semanticData","combinedData","fioriIds","_this21","visitedVisualizations","Map","catalogApps","authorizedApps","inbound","app","matchingVizualizations","catalogApp","guiVisualizations","matchingVizualization","nonGuiVisualizations","recommendedVisualization","has","set","_getAllFavPageApps","shouldReload","_exit5","_this22","_temp25","_result7","_temp24","loadedPages","pageIDs","pageIds","shouldLoadMissingApps","every","_this22$_favPageVisua","_loadAllPageVisualizations","_this22$_loadAllPageV","_this22$_favPageVisua2","shouldFetchDistinctApps","_this23","getBgColor","favPageVisualizations","loadPages","aPages","section","oVizApp","_this24"],"sources":["AppManager.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport VersionInfo from \"sap/ui/VersionInfo\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport ODataMetaModel, { Property } from \"sap/ui/model/odata/ODataMetaModel\";\nimport ODataModelV2 from \"sap/ui/model/odata/v2/ODataModel\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport Bookmark from \"sap/ushell/services/BookmarkV2\";\nimport ClientSideTargetResolution from \"sap/ushell/services/ClientSideTargetResolution\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport SpaceContent from \"sap/ushell/services/SpaceContent\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport {\n\tICustomVisualization,\n\tICustomVizInstance,\n\tIParseSBParameters,\n\tISection,\n\tISectionAndVisualization,\n\tIVisualization\n} from \"../interface/AppsInterface\";\nimport {\n\tIAppInfo,\n\tIAppInfoData,\n\tIAppManifest,\n\tICard,\n\tICardDetails,\n\tICardManifest,\n\tIEntitySet,\n\tIEntityType,\n\tIHeaderInfo,\n\tIPageType,\n\tIVersionInfo,\n\tPageRecord\n} from \"../interface/CardsInterface\";\nimport { IPage } from \"../interface/PageSpaceInterface\";\nimport { AnalyticalCardSkeleton } from \"./AnalyticalCardSkeleton\";\nimport {\n\tCOLUMN_LENGTH,\n\tDEFAULT_BG_COLOR,\n\tFALLBACK_ICON,\n\tMYHOME_PAGE_ID,\n\tMYHOME_SPACE_ID,\n\tMYINSIGHT_SECTION_ID,\n\tRECOMMENDATION_SRVC_URL,\n\tRECOMMENDED_CARD_LIMIT\n} from \"./Constants\";\nimport { createBookMarkData, getLeanURL } from \"./DataFormatUtils\";\nimport HttpHelper from \"./HttpHelper\";\nimport RecommendedCardUtil from \"./RecommendedCardUtil\";\n\nconst CONSTANTS = {\n\tMUST_INCLUDE_RECOMMEDED_APPS: [\"F0862\", \"F1823\"] //My Inbox and Manage Timesheet apps\n};\n\ninterface ICombinedManifestDetails {\n\tmanifest: IValidManifest;\n\tmetaModel: ODataMetaModel;\n}\n\ninterface IValidManifest {\n\turl: string;\n\tmanifest: IAppManifest;\n}\n\nexport interface IMoveConfig {\n\tsourceSectionIndex: number;\n\tsourceVisualizationIndex: number;\n\ttargetSectionIndex: number;\n\ttargetVisualizationIndex: number;\n}\n\nconst _parseSBParameters = (oParam: object | string | undefined): IParseSBParameters | undefined => {\n\tlet oParsedParams: IParseSBParameters | undefined = {};\n\tif (oParam) {\n\t\tif (typeof oParam === \"object\") {\n\t\t\toParsedParams = oParam;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\toParsedParams = JSON.parse(oParam) as object;\n\t\t\t} catch (oError) {\n\t\t\t\tLog.error(oError instanceof Error ? oError.message : String(oError));\n\t\t\t\toParsedParams = undefined;\n\t\t\t}\n\t\t}\n\t}\n\treturn oParsedParams;\n};\n\nconst _getTileProperties = (vizConfigFLP?: IVisualization): IParseSBParameters | undefined => {\n\tlet oTileProperties: IParseSBParameters | undefined = {};\n\tif (vizConfigFLP?._instantiationData?.chip?.configuration) {\n\t\tconst oConfig: IParseSBParameters | undefined = _parseSBParameters(vizConfigFLP._instantiationData.chip.configuration);\n\t\tif (oConfig?.tileConfiguration) {\n\t\t\tconst oTileConfig: IParseSBParameters | undefined = _parseSBParameters(oConfig.tileConfiguration);\n\t\t\tif (oTileConfig) {\n\t\t\t\toTileProperties = _parseSBParameters(oTileConfig.TILE_PROPERTIES);\n\t\t\t}\n\t\t}\n\t}\n\treturn oTileProperties;\n};\n\nconst _getAppId = (vizConfigFLP: IVisualization | undefined): string => {\n\tlet sAppId = \"\";\n\tlet oTileProperties: IParseSBParameters | undefined = {};\n\tif (vizConfigFLP?.target?.semanticObject && vizConfigFLP?.target?.action) {\n\t\tsAppId = `#${vizConfigFLP.target.semanticObject}-${vizConfigFLP.target.action}`;\n\t} else if (vizConfigFLP?._instantiationData?.chip?.configuration) {\n\t\toTileProperties = _getTileProperties(vizConfigFLP);\n\t\tif (oTileProperties?.semanticObject && oTileProperties?.semanticAction) {\n\t\t\tsAppId = `#${oTileProperties?.semanticObject}-${oTileProperties?.semanticAction}`;\n\t\t}\n\t}\n\treturn sAppId;\n};\n\nconst _getTargetUrl = (vizConfigFLP: IVisualization | undefined) => {\n\tlet sTargetURL = _getAppId(vizConfigFLP) || \"\";\n\tconst oTileProperties = _getTileProperties(vizConfigFLP);\n\tif (oTileProperties?.evaluationId) {\n\t\tsTargetURL += \"?EvaluationId=\" + oTileProperties.evaluationId;\n\t}\n\treturn sTargetURL;\n};\n\nconst _isSmartBusinessTile = (oVisualization: IVisualization): boolean => {\n\treturn oVisualization.vizType?.startsWith(\"X-SAP-UI2-CHIP:SSB\");\n};\n\n// get App Title in case of value not present at root level\nconst _getAppTitleSubTitle = (oApp: IVisualization, vizConfigFLP: IVisualization): { title: string; subtitle: string } => {\n\tconst oAppTileInfo = vizConfigFLP?._instantiationData?.chip?.bags?.sb_tileProperties?.texts;\n\treturn {\n\t\ttitle: oApp.title ? oApp.title : oAppTileInfo?.title || \"\",\n\t\tsubtitle: oApp.subtitle ? oApp.subtitle : oAppTileInfo?.description || \"\"\n\t};\n};\n\n/**\n * Link Duplicate Visualizations to a single visualization\n *\n * @param {object[]} aVizs - array of visualizations\n * @returns {object[]} arry of visualizations after linking duplicate visualizations\n * @private\n */\nconst _linkDuplicateVizs = (aVizs: ICustomVisualization[]) => {\n\taVizs.forEach((oDuplicateViz) => {\n\t\taVizs\n\t\t\t.filter(\n\t\t\t\t(oViz) =>\n\t\t\t\t\toViz.appId === oDuplicateViz.appId &&\n\t\t\t\t\toViz?.visualization?.id !== oDuplicateViz?.visualization?.id &&\n\t\t\t\t\toViz.persConfig?.sectionIndex === oDuplicateViz.persConfig?.sectionIndex\n\t\t\t)\n\t\t\t.forEach((oViz) => {\n\t\t\t\toViz?.persConfig?.duplicateApps?.push(oDuplicateViz);\n\t\t\t});\n\t});\n\n\treturn aVizs;\n};\n\nconst _isGUIVisualization = (visualization: AppData) => {\n\treturn visualization?.target?.parameters?.[\"sap-ui-tech-hint\"]?.value?.value === \"GUI\";\n};\n\nconst _isMustIncludeRecommendation = (recViz: ICustomVisualization) => {\n\treturn recViz.fioriId && CONSTANTS.MUST_INCLUDE_RECOMMEDED_APPS.includes(recViz.fioriId);\n};\n\nconst _isVisualizationAlreadyAdded = (visualization: ICustomVisualization, favoriteVisualizations: ICustomVisualization[]) => {\n\treturn !favoriteVisualizations.some(\n\t\t(favViz) =>\n\t\t\tfavViz.visualization?.target?.semanticObject === visualization.visualization?.target?.semanticObject &&\n\t\t\tfavViz.visualization?.target?.action === visualization.visualization?.target?.action\n\t);\n};\n\n/**\n *\n * @class Provides the AppManager Class used for fetch and process user apps.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n * @private\n *\n * @alias sap.cux.home.util.AppManager\n */\n\nexport default class AppManager extends BaseObject {\n\tprivate aRequestQueue: { pageId: string; pageLoadPromise: Promise<IPage> }[] = [];\n\tprivate _oMoveAppsPromise!: Promise<void>;\n\tprivate bInsightsSectionPresent: boolean = false;\n\tpublic insightsSectionIndex!: number;\n\tstatic Instance: AppManager;\n\tprivate recommendedFioriIds!: string[];\n\tprivate versionInfo!: IVersionInfo;\n\tprivate _RBManifestMap!: Record<string, ResourceBundle>;\n\tprivate _recommendedVisualizations!: ICustomVisualization[];\n\tprivate vizDataModified: boolean = false;\n\tprivate _oVizCacheData: { [key: string]: ICustomVizInstance } = {};\n\tprivate _favPageVisualizations: ICustomVisualization[] = [];\n\tprivate componentData: IAppInfo = {};\n\tprivate fioriAppData: IAppInfo = {};\n\tprivate recommendedUtilInstance: RecommendedCardUtil;\n\tprivate catalogAppData!: Promise<AppData[]> | undefined;\n\n\tprivate constructor() {\n\t\tsuper();\n\t\tthis.recommendedUtilInstance = RecommendedCardUtil.getInstance();\n\t}\n\n\tstatic getInstance() {\n\t\tif (!AppManager.Instance) {\n\t\t\tAppManager.Instance = new AppManager();\n\t\t}\n\t\treturn AppManager.Instance;\n\t}\n\t/**\n\t * Returns page load promise from the request queue if it exists, adds it to the queue if it doesn't\n\t *\n\t * @param {string} sPageId - page id\n\t * @param {boolean} bForceRefresh - force reload of data if true\n\t * @returns {Promise} - returns a promise which resolves with the requested page data\n\t * @private\n\t */\n\tprivate async _fetchRequestFromQueue(bForceRefresh: boolean, pageId: string = MYHOME_PAGE_ID): Promise<IPage> {\n\t\tconst oSpaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tlet oPageLoadPromise: Promise<IPage>;\n\t\tthis.aRequestQueue = this.aRequestQueue || [];\n\n\t\t//Check if request already exists in the queue, if not add it\n\t\tconst oRequestedPage = this.aRequestQueue.find((oRequest) => oRequest.pageId === pageId);\n\t\tif (!oRequestedPage || bForceRefresh === true || this.vizDataModified === true) {\n\t\t\tthis.vizDataModified = false;\n\t\t\toPageLoadPromise = oSpaceContentService.getPage(pageId);\n\t\t\tif (oRequestedPage) {\n\t\t\t\toRequestedPage.pageLoadPromise = oPageLoadPromise;\n\t\t\t} else {\n\t\t\t\tthis.aRequestQueue.push({\n\t\t\t\t\tpageId: pageId,\n\t\t\t\t\tpageLoadPromise: oPageLoadPromise\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\toPageLoadPromise = oRequestedPage.pageLoadPromise;\n\t\t}\n\n\t\treturn oPageLoadPromise;\n\t}\n\t/**\n\t * Returns all dynamic visualizations present in MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all dynamic visualizations in MyHome page\n\t * @private\n\t */\n\tprivate _fetchDynamicVizs(bForceRefresh: boolean) {\n\t\treturn this.fetchFavVizs(bForceRefresh, true).then((aFavApps: ICustomVisualization[]) =>\n\t\t\taFavApps.filter((oDynApp) => oDynApp.isCount || oDynApp.isSmartBusinessTile)\n\t\t);\n\t}\n\t/**\n\t * Returns all the sections that are available in the MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all sections available in MyHome page\n\t * @private\n\t */\n\tpublic async _getSections(bForceRefresh: boolean = false, pageId: string = MYHOME_PAGE_ID): Promise<ISection[]> {\n\t\tconst oPage: IPage = await this._fetchRequestFromQueue(bForceRefresh, pageId);\n\t\tconst aSections = (oPage && oPage.sections) || [],\n\t\t\tiRecentAppSectionIndex: number = aSections.findIndex((oSection) => oSection.default);\n\t\tif (iRecentAppSectionIndex > 0) {\n\t\t\tif (this._oMoveAppsPromise === undefined) {\n\t\t\t\tthis._oMoveAppsPromise = this.moveSection(iRecentAppSectionIndex, 0);\n\t\t\t\tawait this._oMoveAppsPromise;\n\t\t\t}\n\t\t\treturn this._getSections(true);\n\t\t} else {\n\t\t\treturn aSections;\n\t\t}\n\t}\n\t/**\n\t * Models and returns all visualizations available in MyHome page\n\t *\n\t * @param {bool} bForceRefresh - force reload of visualizations data\n\t * @returns {Promise} - resolves to array of all apps available in MyHome page\n\t * @private\n\t */\n\tprivate async _fetchPageVizs(bForceRefresh: boolean, pageId: string = MYHOME_PAGE_ID): Promise<ICustomVisualization[]> {\n\t\tconst aVizs: ICustomVisualization[] = [];\n\t\tthis._oVizCacheData = this._oVizCacheData || {};\n\t\tconst aSections = await this._getSections(bForceRefresh, pageId);\n\t\tconst oVizInstantiationService = await Container.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\");\n\t\taSections.forEach((oSection: ISection, iSectionIndex: number) => {\n\t\t\toSection?.visualizations?.forEach((oVisualization: IVisualization, iVisualizationIndex: number) => {\n\t\t\t\tconst vizConfig = oVisualization.vizConfig,\n\t\t\t\t\toVizInfo = vizConfig?.[\"sap.app\"] || ({ title: \"?\" } as IVisualization),\n\t\t\t\t\toViz = {} as ICustomVisualization;\n\n\t\t\t\toViz.oldAppId = _getAppId(vizConfig?.[\"sap.flp\"]);\n\t\t\t\toViz.appId = oVisualization?.targetURL; // Using targetURL as unique identifier as in certian scenario vizConfig can be empty.\n\t\t\t\toViz.url = oVisualization?.targetURL;\n\t\t\t\tif (!oViz.url && _isSmartBusinessTile(oVisualization)) {\n\t\t\t\t\toViz.url = _getTargetUrl(vizConfig?.[\"sap.flp\"]);\n\t\t\t\t}\n\t\t\t\toViz.leanURL = getLeanURL(oViz.url);\n\t\t\t\toViz.title = oVisualization?.title || _getAppTitleSubTitle(oVizInfo, oVisualization)?.title;\n\t\t\t\toViz.subtitle = oVisualization.subtitle || _getAppTitleSubTitle(oVizInfo, oVisualization).subtitle;\n\t\t\t\toViz.BGColor = DEFAULT_BG_COLOR().key;\n\t\t\t\toViz.isFav = true;\n\t\t\t\toViz.isSection = false;\n\t\t\t\toViz.pageId = pageId;\n\t\t\t\toViz.icon = vizConfig?.[\"sap.ui\"]?.icons?.icon || FALLBACK_ICON;\n\t\t\t\tif (oVisualization?.indicatorDataSource) {\n\t\t\t\t\toViz.isCount = true;\n\t\t\t\t\toViz.indicatorDataSource = oVisualization.indicatorDataSource.path;\n\t\t\t\t\toViz.contentProviderId = oVisualization.contentProviderId;\n\t\t\t\t}\n\t\t\t\toViz.isSmartBusinessTile = _isSmartBusinessTile(oVisualization);\n\t\t\t\tif (oViz.isSmartBusinessTile) {\n\t\t\t\t\tif (!this._oVizCacheData[oViz.appId]) {\n\t\t\t\t\t\tthis._oVizCacheData[oViz.appId] = oVizInstantiationService.instantiateVisualization(\n\t\t\t\t\t\t\toVisualization\n\t\t\t\t\t\t) as ICustomVizInstance;\n\t\t\t\t\t\tthis._oVizCacheData[oViz.appId].setActive(true);\n\t\t\t\t\t}\n\t\t\t\t\toViz.vizInstance = this._oVizCacheData[oViz.appId];\n\t\t\t\t}\n\t\t\t\t// Add FLP Personalization Config\n\t\t\t\toViz.persConfig = {\n\t\t\t\t\tpageId: MYHOME_PAGE_ID,\n\t\t\t\t\tsectionTitle: oSection.title,\n\t\t\t\t\tsectionId: oSection.id,\n\t\t\t\t\tsectionIndex: iSectionIndex,\n\t\t\t\t\tvisualizationIndex: iVisualizationIndex,\n\t\t\t\t\tisDefaultSection: oSection.default,\n\t\t\t\t\tisPresetSection: oSection.preset,\n\t\t\t\t\tduplicateApps: []\n\t\t\t\t};\n\t\t\t\toViz.visualization = oVisualization;\n\t\t\t\t// Title and Subtitle in visualization are required in Insights Dialog.\n\t\t\t\toViz.visualization.title = oViz.title;\n\t\t\t\toViz.visualization.subtitle = oViz.subtitle;\n\t\t\t\taVizs.push(oViz);\n\t\t\t});\n\t\t});\n\t\treturn aVizs;\n\t}\n\t/**\n\t * Copies all Dynamic visualizations to Insights section\n\t *\n\t * @returns {Promise} - resolves to void and copy all the visualizations\n\t * @private\n\t */\n\tprivate async _copyDynamicVizs() {\n\t\tconst aDynamicVizs: ICustomVisualization[] = await this._fetchDynamicVizs(true);\n\t\treturn Promise.all(\n\t\t\taDynamicVizs.map((oDynViz: ICustomVisualization) => {\n\t\t\t\treturn this.addVisualization(oDynViz.visualization!.vizId, MYINSIGHT_SECTION_ID);\n\t\t\t})\n\t\t);\n\t}\n\t/**\n\t * Returns a list of all favorite vizualizations in MyHome page\n\t *\n\t * @param {boolean} bForceRefresh - force reload of vizualizations data\n\t * @param {boolean} bPreventGrouping - prevent vizualizations grouping\n\t * @returns {Promise} - resolves to array of favourite vizualizations in MyHome page\n\t * @private\n\t */\n\tpublic async fetchFavVizs(\n\t\tbForceRefresh: boolean,\n\t\tbPreventGrouping?: boolean,\n\t\tpageId: string = MYHOME_PAGE_ID\n\t): Promise<ISectionAndVisualization[]> {\n\t\tconst aMyHomeVizs = await this._fetchPageVizs(bForceRefresh, pageId);\n\t\tconst aVisibleFavVizs = aMyHomeVizs.filter(\n\t\t\t(oViz) => oViz.persConfig && oViz.persConfig.sectionId !== MYINSIGHT_SECTION_ID && oViz.url && oViz.title\n\t\t);\n\n\t\tif (bPreventGrouping) {\n\t\t\treturn this._filterDuplicateVizs(_linkDuplicateVizs(aVisibleFavVizs), false);\n\t\t} else {\n\t\t\treturn this._addGroupInformation(aVisibleFavVizs);\n\t\t}\n\t}\n\t/**\n\t * Returns all vizualizations present in the Insights Section\n\t *\n\t * @param {boolean} bForceRefresh - force reload insights vizualizations data\n\t * @param {string} sSectionTitle - optional, title of insights section to be used while creating insights section\n\t * @returns {Promise} - resolves to an array with all vizualizations in Insights section\n\t */\n\tpublic async fetchInsightApps(bForceRefresh: boolean, sSectionTitle: string) {\n\t\tconst fnFetchInsightsApps = async () => {\n\t\t\tconst aVizs = await this._fetchPageVizs(bForceRefresh);\n\t\t\treturn aVizs.filter((oViz) => oViz.persConfig?.sectionId === MYINSIGHT_SECTION_ID && oViz.url && oViz.title);\n\t\t};\n\n\t\tif (!this.bInsightsSectionPresent) {\n\t\t\tconst aSections: ISection[] = await this._getSections(bForceRefresh);\n\t\t\tthis.insightsSectionIndex = aSections.findIndex(function (oSection) {\n\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tthis.insightsSectionIndex === -1 &&\n\t\t\t\t(Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\")) &&\n\t\t\t\tthis.bInsightsSectionPresent === false\n\t\t\t) {\n\t\t\t\tthis.bInsightsSectionPresent = true;\n\t\t\t\tawait this.addSection({\n\t\t\t\t\tsectionIndex: aSections?.length,\n\t\t\t\t\tsectionProperties: {\n\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\ttitle: sSectionTitle\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tawait this._copyDynamicVizs();\n\t\t\t} else {\n\t\t\t\tthis.bInsightsSectionPresent = true;\n\t\t\t}\n\t\t}\n\n\t\treturn await fnFetchInsightsApps();\n\t}\n\n\t/**\n\t * Add visualization to a particular section\n\t *\n\t * @param {string} visualizationId - The id of the visualization to add.\n\t * @param {string} sectionId - The id of the section the visualization should be added to (optional parameter)\n\t * @returns {Promise} resolves to void after adding app to a section\n\t * @private\n\t */\n\tpublic async addVisualization(visualizationId: string, sectionId: string | undefined = undefined): Promise<void> {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait spaceContentService.addVisualization(MYHOME_PAGE_ID, sectionId, visualizationId);\n\t}\n\n\t/**\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.sectionId - section id from which visualizations should be removed\n\t * @param {object[]} mProperties.appIds - array of url of visualizations that has to be deleted\n\t * @param {boolean} mProperties.ignoreDuplicateApps - if true doesn't remove the duplicate apps, else removes the duplicate apps as well\n\t * @private\n\t * @returns {Promise} resolves after all visualizations are deleted\n\t */\n\tpublic async removeVisualizations({ sectionId, vizIds }: { sectionId: string; vizIds: string[] }) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tfor (const vizId of vizIds) {\n\t\t\tconst sections = await this._getSections(true);\n\t\t\tconst sectionIndex = sections.findIndex((oSection) => oSection.id === sectionId);\n\t\t\tconst targetSection = sectionIndex > -1 ? sections[sectionIndex] : null;\n\t\t\tconst visualizationIndex = targetSection?.visualizations?.findIndex((oVisualization) => oVisualization.id === vizId) ?? -1;\n\t\t\tif (visualizationIndex > -1) {\n\t\t\t\tawait spaceContentService.deleteVisualization(MYHOME_PAGE_ID, sectionIndex, visualizationIndex);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.pageId - page id from which visualizations should be updated\n\t * @param {object[]} mProperties.sourceSectionIndex - section index in which visualization that has to be updated\n\t * @param {boolean} mProperties.sourceVisualizationIndex - visualization index in the which should be updated\n\t * @param {boolean} mProperties.oVisualizationData - visualization data which will be updated for the vizualisation\n\t * @private\n\t * @returns {Promise} resolves to void\n\t */\n\tpublic async updateVisualizations({\n\t\tpageId,\n\t\tsourceSectionIndex,\n\t\tsourceVisualizationIndex,\n\t\toVisualizationData\n\t}: {\n\t\tpageId: string;\n\t\tsourceSectionIndex: number;\n\t\tsourceVisualizationIndex: number;\n\t\toVisualizationData: { displayFormatHint: string };\n\t}) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\treturn spaceContentService.updateVisualization(pageId, sourceSectionIndex, sourceVisualizationIndex, oVisualizationData);\n\t}\n\n\t/**\n\t * Create Insight Section if not already present\n\t *\n\t * @param {string} sSectionTitle - optional, section title\n\t * @returns {Promise} - resolves to insight section created\n\t */\n\tpublic async createInsightSection(sSectionTitle: string) {\n\t\tif (!this.bInsightsSectionPresent) {\n\t\t\tconst aSections = await this._getSections();\n\t\t\tconst iMyInsightSectionIndex = aSections.findIndex(function (oSection) {\n\t\t\t\treturn oSection.id === MYINSIGHT_SECTION_ID;\n\t\t\t});\n\n\t\t\t//check if myinsight section exists, if not create one\n\t\t\tif (\n\t\t\t\tiMyInsightSectionIndex === -1 &&\n\t\t\t\t(Config.last(\"/core/shell/enablePersonalization\") || Config.last(\"/core/catalog/enabled\"))\n\t\t\t) {\n\t\t\t\treturn this.addSection({\n\t\t\t\t\tsectionIndex: aSections.length,\n\t\t\t\t\tsectionProperties: {\n\t\t\t\t\t\tid: MYINSIGHT_SECTION_ID,\n\t\t\t\t\t\ttitle: sSectionTitle,\n\t\t\t\t\t\tvisible: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Adds a section\n\t *\n\t * @param {object} mProperties - map of properties\n\t * @param {string} mProperties.sectionIndex - section index\n\t * @param {object} mProperties.sectionProperties - section properties\n\t * @returns {Promise} resolves to void and creates the section\n\t * @private\n\t */\n\tpublic async addSection(mProperties: ISection) {\n\t\tconst { sectionIndex, sectionProperties } = mProperties;\n\t\tconst oSpaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tawait oSpaceContentService.addSection(MYHOME_PAGE_ID, sectionIndex, {\n\t\t\t...sectionProperties,\n\t\t\tvisible: true\n\t\t});\n\t}\n\n\t/**\n\t * Returns visualizations for a given section\n\t * @param {string} sectionId - section id\n\t * @param {boolean} [forceRefresh=false] - force reload of data if true\n\t * @returns {Promise} resolves to array of visualizations\n\t * @private\n\t */\n\tpublic async getSectionVisualizations(\n\t\tsectionId?: string,\n\t\tforceRefresh = false,\n\t\tpageId: string = MYHOME_PAGE_ID\n\t): Promise<ICustomVisualization[]> {\n\t\tconst aApps: ISectionAndVisualization[] = await this.fetchFavVizs(forceRefresh, false, pageId);\n\t\tif (sectionId) {\n\t\t\treturn aApps.find((oViz) => oViz.isSection && oViz.id === sectionId)?.apps || [];\n\t\t} else {\n\t\t\treturn aApps.filter((oViz) => !oViz.isSection); //return recently added apps\n\t\t}\n\t}\n\n\t/**\n\t * Adds a bookmark.\n\t * @private\n\t * @param {Object} bookmark - The bookmark data object.\n\t * @returns {Promise<void>} - A Promise that resolves once the bookmark is added.\n\t */\n\tpublic async addBookMark(bookmark: IVisualization, moveConfig?: IMoveConfig) {\n\t\tconst oBookmarkService: Bookmark = await Container.getServiceAsync(\"BookmarkV2\");\n\t\tconst aContentNodes = await oBookmarkService.getContentNodes();\n\t\tconst oMyHomeSpace = aContentNodes.find((contentNode) => contentNode.id === MYHOME_SPACE_ID);\n\t\tconst contentNode = oMyHomeSpace?.children?.find((contentNode) => contentNode.id === MYHOME_PAGE_ID);\n\t\tawait oBookmarkService.addBookmark(createBookMarkData(bookmark), contentNode);\n\t\tif (moveConfig) {\n\t\t\treturn this.moveVisualization(moveConfig);\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Retrieves the visualization with the specified appId within the specified section.\n\t * @param {string} appId - appId of the visualization for.\n\t * @param {string} sectionId - The ID of the section containing the visualization.\n\t * @param {boolean} [forceRefresh=false] - Whether to force a refresh of the section's cache.\n\t * @returns {Promise<object|null>} A promise that resolves with the visualization object if found, or null if not found.\n\t * @private\n\t */\n\tpublic async getVisualization(appId: string, sectionId?: string, forceRefresh = false) {\n\t\tconst sectionVisualizations = await this.getSectionVisualizations(sectionId, forceRefresh);\n\t\treturn sectionVisualizations.find((sectionVisualization) => sectionVisualization.appId === appId);\n\t}\n\n\t/**\n\t * Moves a visualization from source section to target section.\n\t * @param {object} moveConfig - Configuration object containing details for moving the visualization.\n\t * @param {number} moveConfig.sourceSectionIndex - Index of the source section.\n\t * @param {number} moveConfig.sourceVisualizationIndex - Index of the visualization within the source section.\n\t * @param {number} moveConfig.targetSectionIndex - Index of the target section.\n\t * @param {number} moveConfig.targetVisualizationIndex - Index at which the visualization will be placed within the target section.\n\t * @returns {Promise<void>} A promise that resolves to void after the move operation.\n\t * @private\n\t */\n\tpublic async moveVisualization(moveConfig: {\n\t\tsourceSectionIndex: number;\n\t\tsourceVisualizationIndex: number;\n\t\ttargetSectionIndex: number;\n\t\ttargetVisualizationIndex: number;\n\t}) {\n\t\tconst spaceContentService = await Container.getServiceAsync<SpaceContent>(\"SpaceContent\");\n\t\tthis.vizDataModified = true;\n\t\treturn spaceContentService.moveVisualization(\n\t\t\tMYHOME_PAGE_ID,\n\t\t\tmoveConfig.sourceSectionIndex,\n\t\t\tmoveConfig.sourceVisualizationIndex,\n\t\t\tmoveConfig.targetSectionIndex,\n\t\t\tmoveConfig.targetVisualizationIndex\n\t\t);\n\t}\n\n\t/**\n\t * Filters out duplicate visualizations from a list of all visualizations\n\t *\n\t * @param {object[]} aVisibleFavoriteVizs - array containing list of all visualizations\n\t * @param {boolean} bReturnDuplicateVizs - flag when set to true, returns only the duplicate apps\n\t * @returns {object[]} filtered array of vizualisations\n\t * @private\n\t */\n\tpublic _filterDuplicateVizs(aVisibleFavoriteVizs: ICustomVisualization[], bReturnDuplicateVizs: boolean) {\n\t\treturn aVisibleFavoriteVizs.filter((oViz, iVizIndex, aVizs) => {\n\t\t\tconst iFirstIndex = aVizs.findIndex((oTempApp) => oTempApp.appId === oViz.appId);\n\t\t\treturn bReturnDuplicateVizs ? iFirstIndex !== iVizIndex : iFirstIndex === iVizIndex;\n\t\t});\n\t}\n\n\t/**\n\t * Add Grouping Information to visualizations list, and return concatenated list.\n\t *\n\t * @param {object[]} aFavoriteVizs - list of all favorite visualizations\n\t * @returns {object[]} - concatenated list contaning grouping information as well\n\t * @private\n\t */\n\tprivate _addGroupInformation(aFavoriteVizs: ICustomVisualization[]) {\n\t\tconst aRecentVizs: ICustomVisualization[] = [],\n\t\t\taSections: ISection[] = [];\n\t\tlet oExistingSection: ISection | undefined;\n\n\t\t_linkDuplicateVizs(aFavoriteVizs).forEach((oViz) => {\n\t\t\tif (oViz.persConfig?.isDefaultSection) {\n\t\t\t\taRecentVizs.push(oViz);\n\t\t\t} else {\n\t\t\t\toExistingSection = aSections.find((oSection) => oSection.isSection && oSection.id === oViz.persConfig?.sectionId);\n\n\t\t\t\tif (!oExistingSection) {\n\t\t\t\t\taSections.push({\n\t\t\t\t\t\tid: oViz.persConfig?.sectionId,\n\t\t\t\t\t\tindex: oViz.persConfig?.sectionIndex,\n\t\t\t\t\t\ttitle: oViz.persConfig?.sectionTitle || \"\",\n\t\t\t\t\t\tbadge: \"1\",\n\t\t\t\t\t\tBGColor: DEFAULT_BG_COLOR().key,\n\t\t\t\t\t\ticon: \"sap-icon://folder-full\",\n\t\t\t\t\t\tisSection: true,\n\t\t\t\t\t\tpageId: oViz.pageId,\n\t\t\t\t\t\tisPresetSection: oViz.persConfig?.isPresetSection,\n\t\t\t\t\t\tapps: [oViz]\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\toExistingSection.apps?.push(oViz);\n\t\t\t\t\toExistingSection.badge = oExistingSection.apps?.length.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//filter out duplicate apps only from recent apps list\n\t\treturn [...aSections, ...this._filterDuplicateVizs(aRecentVizs, false)];\n\t}\n\n\t/**\n\t * Move a section within a page\n\t *\n\t * @param {number} sourceSectionIndex - source index (previous index of the section in the page before move)\n\t * @param {number} targetSectionIndex - target index (desired index of the section in the page after move)\n\t * @returns {Promise} resolves to void  and moves the section to desired index within the page\n\t * @private\n\t */\n\tpublic async moveSection(sourceSectionIndex: number, targetSectionIndex: number): Promise<void> {\n\t\treturn Container.getServiceAsync(\"Pages\").then(function (oPagesService: {\n\t\t\tgetPageIndex: (id: string) => number;\n\t\t\tmoveSection: (index: number, sourceIndex: number, targetIndex: number) => void;\n\t\t}) {\n\t\t\tconst iPageIndex: number = oPagesService.getPageIndex(MYHOME_PAGE_ID);\n\t\t\treturn oPagesService.moveSection(iPageIndex, sourceSectionIndex, targetSectionIndex);\n\t\t} as () => void);\n\t}\n\n\t/**\n\t * Checks if a specific URL parameter is enabled (set to \"true\").\n\t *\n\t * @param {string} param - The name of the URL parameter to check.\n\t * @returns {boolean} `true` if the URL parameter exists and is set to \"true\" (case-insensitive), otherwise `false`.\n\t */\n\tpublic isURLParamEnabled(param: string): boolean {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\treturn urlParams?.get(param)?.toLowerCase() === \"true\" || false;\n\t}\n\n\t/**\n\t * Fetch Recommended Fiori IDs\n\t *\n\t * @returns {Promise} resolves to array of recommended fiori ids\n\t * @private\n\t */\n\tprivate async _getRecommenedFioriIds(bForceRefresh: boolean = false): Promise<string[]> {\n\t\tif (!this.recommendedFioriIds || bForceRefresh) {\n\t\t\ttry {\n\t\t\t\tconst response = (await HttpHelper.GetJSON(RECOMMENDATION_SRVC_URL)) as {\n\t\t\t\t\terror: { message: string };\n\t\t\t\t\tvalue: Array<{ app_id: string }>;\n\t\t\t\t};\n\t\t\t\tthis.recommendedFioriIds =\n\t\t\t\t\tresponse?.value?.map((oApp) => {\n\t\t\t\t\t\treturn oApp.app_id;\n\t\t\t\t\t}) || [];\n\t\t\t} catch (error) {\n\t\t\t\tLog.error(\"Unable to load recommendations: \" + (error as Error).message);\n\t\t\t\treturn Promise.resolve([]);\n\t\t\t}\n\t\t}\n\t\treturn this.recommendedFioriIds;\n\t}\n\n\t/**\n\t * Fetch Catalog Apps\n\t *\n\t * @returns {Promise} resolves to array of Catalog Apps\n\t * @private\n\t */\n\tpublic async _getCatalogApps() {\n\t\tif (!this.catalogAppData) {\n\t\t\ttry {\n\t\t\t\tconst SearchableContent = await Container.getServiceAsync<SearchableContent>(\"SearchableContent\");\n\t\t\t\tthis.catalogAppData = SearchableContent.getApps({ includeAppsWithoutVisualizations: false });\n\t\t\t\treturn this.catalogAppData;\n\t\t\t} catch (error) {\n\t\t\t\tthis.catalogAppData = undefined;\n\t\t\t\tLog.error(error instanceof Error ? \"Error while fetching catalog apps:\" + error.message : String(error));\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve(this.catalogAppData);\n\t}\n\n\t/**\n\t * Checks whether page settings contains addCardtoInsightsHidden\n\t * @param {object} page - page object\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\tprivate isAddCardToInsightsHidden(page?: IPageType) {\n\t\treturn page?.component?.settings?.tableSettings?.addCardtoInsightsHidden;\n\t}\n\n\t/**\n\t * check Valid Manifests\n\t *\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\n\tprivate _checkValidManifests(manifest: IAppManifest): boolean {\n\t\tconst dataSources = manifest[\"sap.app\"]?.dataSources;\n\n\t\t// Ensure dataSources has the correct structure for `mainService`\n\t\tconst hasRequiredDataSource = manifest[\"sap.ui.generic.app\"] && dataSources?.mainService;\n\n\t\tif (!hasRequiredDataSource) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pages = manifest[\"sap.ui.generic.app\"]?.pages;\n\t\t// if its not list report component or if listreport page settings has\n\t\t// isAddCardToInsightsHidden as true, then do not recommend the card\n\t\tif (Array.isArray(pages)) {\n\t\t\treturn this.recommendedUtilInstance._isListReport(pages[0]) && !this.isAddCardToInsightsHidden(pages[0]);\n\t\t}\n\n\t\tconst pageValues = Object.values(pages as PageRecord);\n\t\tif (pageValues.length > 0) {\n\t\t\treturn pageValues.some((page) => {\n\t\t\t\treturn (\n\t\t\t\t\ttypeof page === \"object\" && this.recommendedUtilInstance._isListReport(page) && !this.isAddCardToInsightsHidden(page)\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Get OData Model\n\t *\n\t * @param {object} manifest - manifest object\n\t * @returns {ODataModelV2} returns OData Model\n\t * @private\n\t */\n\tprivate _getOdataModel(oManifest: IAppManifest): Promise<ODataModelV2> {\n\t\treturn new Promise(function (resolve) {\n\t\t\tconst datasource = oManifest?.[\"sap.app\"]?.dataSources;\n\t\t\tconst mainService = datasource?.mainService;\n\t\t\tlet annotationUrls: string[] = (mainService?.settings?.annotations || [])\n\t\t\t\t.map((name: string) => datasource?.[name]?.uri || \"\")\n\t\t\t\t.filter(Boolean);\n\n\t\t\tconst oDataModel = new ODataModelV2(mainService?.uri as string, {\n\t\t\t\tannotationURI: annotationUrls,\n\t\t\t\tloadAnnotationsJoined: true\n\t\t\t});\n\t\t\toDataModel.attachMetadataLoaded(() => {\n\t\t\t\tresolve(oDataModel);\n\t\t\t});\n\t\t\toDataModel.attachMetadataFailed(() => {\n\t\t\t\tresolve(oDataModel);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Get Entity Set\n\t *\n\t * @param {object} manifest - manifest object\n\t * @returns {string} returns entity set\n\t * @private\n\t */\n\tprivate _getEntitySet(manifest: IAppManifest): string | undefined {\n\t\tconst pages = manifest[\"sap.ui.generic.app\"]?.pages;\n\t\tif (Array.isArray(pages)) {\n\t\t\treturn pages[0].entitySet;\n\t\t} else if (pages) {\n\t\t\tfor (const key in pages) {\n\t\t\t\tconst oApp = pages[key] as IPageType;\n\t\t\t\tif (this.recommendedUtilInstance._isListReport(oApp)) {\n\t\t\t\t\treturn oApp.entitySet;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Load I18n\n\t *\n\t * @param {object} manifest - manifest object\n\t * @param {string} manifestUrl - manifest url\n\t * @returns {object} returns resource bundle\n\t * @private\n\t */\n\tprivate async loadI18n(manifest: IAppManifest, manifestUrl: string) {\n\t\t// construct abslute url for properties file relative to manifest url\n\t\tconst i18nBundleUrl = manifest?.[\"sap.app\"]?.[\"i18n\"]?.[\"bundleUrl\"] as string;\n\t\tconst absoluteUrl = new URL(i18nBundleUrl, manifestUrl).href;\n\t\tthis._RBManifestMap = this._RBManifestMap || {};\n\t\tif (!this._RBManifestMap[absoluteUrl]) {\n\t\t\tconst oResourceBundle = await ResourceBundle.create({\n\t\t\t\t// specify url of the base .properties file\n\t\t\t\tbundleUrl: absoluteUrl,\n\t\t\t\tasync: true,\n\t\t\t\tterminologies: manifest[\"sap.app\"]?.[\"i18n\"]?.[\"terminologies\"]\n\t\t\t});\n\t\t\tthis._RBManifestMap[absoluteUrl] = oResourceBundle;\n\t\t}\n\t\treturn this._RBManifestMap[absoluteUrl];\n\t}\n\n\t/**\n\t * Get I18n Value Or Default String\n\t *\n\t * @param {string} sValue - value\n\t * @param {object} oResourceBundle - resource bundle object\n\t * @returns {string} returns string\n\t * @private\n\t */\n\tprivate getI18nValueOrDefaultString(sValue: string, oRB: ResourceBundle) {\n\t\tlet sPath = \"\";\n\t\tif (sValue && sValue.startsWith(\"{{\")) {\n\t\t\tsPath = sValue.substring(2, sValue.length - 2);\n\t\t} else if (sValue && sValue.startsWith(\"{\")) {\n\t\t\tsPath = sValue.substring(1, sValue.length - 1);\n\t\t}\n\t\treturn sPath ? oRB.getText(sPath) : sValue;\n\t}\n\n\t/**\n\t * Retrieves a copy of the analytical card manifest.\n\t *\n\t *\n\t * @private\n\t * @returns {ICardManifest} A copy of the analytical card manifest.\n\t */\n\tpublic _getAnalyticalCardManifest() {\n\t\treturn JSON.parse(JSON.stringify(AnalyticalCardSkeleton)) as ICardManifest;\n\t}\n\n\t/**\n\t * Processes the app manifest and generates a recommended card manifest if the app meets the required conditions.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and properties.\n\t * @param {IValidManifest} manifestObj - An object containing the app manifest and its URL.\n\t * @param {AppInfoData | undefined} parentApp - The parent app information, if available.\n\t * @param {IVersionInfo} versionInfo - The version and build timestamp of the app.\n\t * @returns {Promise<ICardManifest | undefined>} A promise that resolves to the generated card manifest if the app is eligible,\n\t * or `undefined` if the app does not meet the required conditions.\n\t * @private\n\t */\n\tprivate async getProcessedManifest(\n\t\tmetaModel: ODataMetaModel,\n\t\tmanifestObj: IValidManifest,\n\t\tparentApp: IAppInfoData | undefined,\n\t\tversionInfo: IVersionInfo\n\t): Promise<ICardManifest | undefined> {\n\t\ttry {\n\t\t\tconst manifest = manifestObj.manifest;\n\t\t\tconst mainEntitySetName = this._getEntitySet(manifest);\n\t\t\tif (!mainEntitySetName) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst mainEntitySet = metaModel.getODataEntitySet(mainEntitySetName) as IEntitySet;\n\t\t\tconst lineItemDetails = this.recommendedUtilInstance.getLineItemDetails(metaModel, manifest, mainEntitySetName);\n\n\t\t\tif (!lineItemDetails?.lineItem) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst entitySetName = lineItemDetails.entitySet || mainEntitySetName;\n\t\t\tconst entitySet = (\n\t\t\t\tentitySetName === mainEntitySetName ? mainEntitySet : metaModel.getODataEntitySet(entitySetName)\n\t\t\t) as IEntitySet;\n\t\t\tconst entityType = metaModel.getODataEntityType(entitySet.entityType) as IEntityType;\n\t\t\tconst suppressRowNavigation = lineItemDetails?.lrSettings?.[\"bSupressCardRowNavigation\"];\n\n\t\t\t// Check for mandatory properties\n\t\t\tif (this.recommendedUtilInstance.hasMandatoryProperties(entitySet, entityType?.property)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t// Check for parameterized entity sets\n\t\t\tconst parameterDetails = this.recommendedUtilInstance._getParametersisedEntitySetParams(metaModel, entitySetName, true);\n\t\t\tif (parameterDetails?.entitySetName && parameterDetails?.parameters?.length) {\n\t\t\t\tconst paramEntitySet = metaModel.getODataEntitySet(parameterDetails.entitySetName) as IEntitySet;\n\t\t\t\tif (this.recommendedUtilInstance.hasMandatoryProperties(paramEntitySet, parameterDetails.parameters as Property[])) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst cardInput = this.recommendedUtilInstance._getManifestCardData(manifest, lineItemDetails, parentApp!, metaModel);\n\n\t\t\t// Ensure the card has at least 3 columns\n\t\t\tif (cardInput.columns.length < COLUMN_LENGTH) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t// Resolve card title\n\t\t\tconst headerInfo = lineItemDetails?.headerInfo as IHeaderInfo;\n\t\t\tconst cardTitle = headerInfo.TypeNamePlural?.String || \"\";\n\t\t\tcardInput.cardTitle = cardTitle || cardInput.cardTitle;\n\n\t\t\t// Resolve i18n title if necessary\n\t\t\tif (!cardTitle && manifest[\"sap.app\"]?.i18n) {\n\t\t\t\tconst i18nBundleUrl = manifest[\"sap.app\"].i18n.bundleUrl;\n\t\t\t\tconst appTitle = manifest[\"sap.app\"].title;\n\t\t\t\tif (i18nBundleUrl && (appTitle.startsWith(\"i18n>\") || appTitle.startsWith(\"{\"))) {\n\t\t\t\t\tconst i18nResourceBundle = await this.loadI18n(manifest, manifestObj.url);\n\t\t\t\t\tcardInput.cardTitle = this.getI18nValueOrDefaultString(cardInput.cardTitle!, i18nResourceBundle);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.recommendedUtilInstance._createCardManifest(cardInput, versionInfo, manifest, suppressRowNavigation);\n\t\t} catch (oError: unknown) {\n\t\t\tLog.error(\"Error while processing manifest\", oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Fetches the OData meta models for a given list of valid manifests.\n\t * @param {IValidManifest[]} validManifests - An array of valid manifest objects\n\t * @returns {Promise<(ODataMetaModel | undefined)[]>} A promise that resolves to an array of OData meta models.\n\t * Each element corresponds to a manifest in the input array, and may be `undefined` if the meta model could not be fetched.\n\t * @private\n\t */\n\tprivate async fetchMetaModels(validManifests: IValidManifest[]): Promise<(ODataMetaModel | undefined)[]> {\n\t\tconst odataPromises = validManifests.map(async (manifestObj) => {\n\t\t\ttry {\n\t\t\t\treturn (await this._getOdataModel(manifestObj.manifest))?.getMetaModel();\n\t\t\t} catch (oError: unknown) {\n\t\t\t\tLog.error(\"Error while fetching metamodel\", oError instanceof Error ? oError.message : String(oError));\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\treturn await Promise.all(odataPromises);\n\t}\n\n\t/**\n\t * Combines the valid manifests with their corresponding OData meta models.\n\t * @param {IValidManifest[]} validManifests - An array of valid manifest objects\n\t * @param {ODataMetaModel[]} aMetaModel - An array of OData meta models\n\t * @returns {ICombinedManifestDetails[]} An array of objects containing the manifest and the corresponding meta model.\n\t * @private\n\t */\n\tprivate combineManifestsAndMetaModels(\n\t\tvalidManifests: IValidManifest[],\n\t\taMetaModel: (ODataMetaModel | undefined)[]\n\t): ICombinedManifestDetails[] {\n\t\treturn validManifests.reduce<ICombinedManifestDetails[]>((combined, manifestObj, index) => {\n\t\t\tconst metaModel = aMetaModel[index];\n\t\t\tif (metaModel) {\n\t\t\t\tcombined.push({ manifest: manifestObj, metaModel });\n\t\t\t}\n\t\t\treturn combined;\n\t\t}, []);\n\t}\n\n\t/**\n\t * Process the manifest and meta model to get the card manifest\n\t * @param {ICombinedManifestDetails[]} combinedDetails - An array of objects containing the manifest and the corresponding meta model.\n\t * @param {IAppInfoData[]} aCSTR - An array of app info data\n\t * @returns {Promise<(ICardManifest | undefined)[]>} A promise that resolves to an array of recommended card manifests.\n\t * @private\n\t */\n\tprivate async processManifests(\n\t\tcombinedDetails: ICombinedManifestDetails[],\n\t\taCSTR: IAppInfoData[]\n\t): Promise<(ICardManifest | undefined)[]> {\n\t\treturn Promise.all(\n\t\t\tcombinedDetails.map((item) => {\n\t\t\t\tconst parentApp = aCSTR.find((oApp) => oApp.resolutionResult?.ui5ComponentName === item.manifest.manifest?.[\"sap.app\"]?.id);\n\t\t\t\treturn this.getProcessedManifest(item.metaModel, item.manifest, parentApp, this.versionInfo);\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Processes the app list to generate a list of Fiori IDs.\n\t *\n\t * If `aList` is not provided, it uses `aAppComponentIds` and `aComponent` to generate the list of Fiori IDs.\n\t * It matches the `semanticObject` and `action` of each component in `aAppComponentIds` with the entries in `aComponent`.\n\t * If a match is found, the corresponding `fioriId` is added to the list.\n\t *\n\t * @param {string[]} [aList] - An optional array of Fiori IDs to return directly.\n\t * @param {ICardDetails[]} [aAppComponentIds] - An array of app component details to process.\n\t * @param {IAppInfo} [aComponent] - A mapping of component IDs to their corresponding data entries.\n\t * @returns {string[]} - A list of Fiori IDs.\n\t */\n\tprivate processAppList(aList?: string[], aAppComponentIds?: ICardDetails[], aComponent?: IAppInfo): string[] {\n\t\tif (!aList && aAppComponentIds && aAppComponentIds.length) {\n\t\t\treturn aAppComponentIds.reduce((list, oComponent) => {\n\t\t\t\tconst oData: IAppInfoData[] = aComponent?.[oComponent.id] || [];\n\t\t\t\tconst matchingData = oData.find(\n\t\t\t\t\t(entry) => entry.semanticObject === oComponent.target?.semanticObject && entry.action === oComponent.target?.action\n\t\t\t\t);\n\n\t\t\t\treturn matchingData ? [...list, matchingData.fioriId!] : list;\n\t\t\t}, [] as string[]);\n\t\t}\n\t\treturn aList || [];\n\t}\n\n\t/**\n\t * Fetch Card Mainfest\n\t *\n\t * @param {string[]} aAppIds - array of app ids\n\t * @returns {Promise} resolves to array of card manifest\n\t * @private\n\t */\n\tpublic async _getCardManifest(aList?: string[], aAppComponentIds?: ICardDetails[]): Promise<ICardManifest[]> {\n\t\ttry {\n\t\t\tconst [aCatalog, aFioriData] = await Promise.all([this._getCatalogApps(), this.getFioriAppData()]);\n\t\t\tthis.versionInfo = (await VersionInfo.load()) as IVersionInfo;\n\n\t\t\tconst aCSTR: IAppInfoData[] = Object.values(aFioriData).flat();\n\t\t\tconst aComponent = this.componentData;\n\t\t\t// in case of replacing old recommended cards fioriIds are not available hence make use of componnetname\n\t\t\t// and semanticobject and action to find fioriId, and populate aList to recreate recommended card again\n\t\t\tconst processedList = this.processAppList(aList, aAppComponentIds, aComponent);\n\n\t\t\tconst manifests = await this.fetchManifests(processedList, aFioriData, aCatalog);\n\t\t\tconst validManifests = manifests.filter((manifestObj) => this._checkValidManifests(manifestObj.manifest));\n\n\t\t\tconst aMetaModel = await this.fetchMetaModels(validManifests);\n\t\t\tconst combinedDetails = this.combineManifestsAndMetaModels(validManifests, aMetaModel);\n\n\t\t\tconst cards = await this.processManifests(combinedDetails, aCSTR);\n\t\t\treturn cards.filter((card) => card !== undefined);\n\t\t} catch (oError: unknown) {\n\t\t\tLog.error(\"Error while fetching card manifest\", oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Fetch the app manifest for the given app ids\n\t * @param {string[]} appIdList - array of app ids\n\t * @param {AppInfo} fioriData - fiori data\n\t * @param {AppData[]} catalogData - catalog data\n\t * @returns {Promise} resolves to array of manifests\n\t * @private\n\t */\n\tprivate async fetchManifests(appIdList: string[], fioriData: IAppInfo, catalogData: AppData[]): Promise<IValidManifest[]> {\n\t\ttry {\n\t\t\tconst appPromises = appIdList.map(async (appId) => {\n\t\t\t\tconst aApp: IAppInfoData[] = fioriData[appId] || [];\n\t\t\t\tfor (const oApp of aApp) {\n\t\t\t\t\tconst oViz = catalogData.find(\n\t\t\t\t\t\t(catalog) => oApp.semanticObject === catalog.target?.semanticObject && oApp.action === catalog.target?.action\n\t\t\t\t\t);\n\t\t\t\t\tconst manifestUrl = oApp?.resolutionResult?.applicationDependencies?.manifest;\n\t\t\t\t\tif (oViz && manifestUrl) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst response = await fetch(manifestUrl);\n\t\t\t\t\t\t\tconst manifest = (await response.json()) as IAppManifest;\n\t\t\t\t\t\t\treturn { url: response.url, manifest };\n\t\t\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\t\t\tLog.error(\"Error while fetching manifest\", error instanceof Error ? error.message : String(error));\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// No valid manifest found in this appId's entries\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\tconst results = await Promise.all(appPromises);\n\t\t\treturn results.filter((manifest): manifest is IValidManifest => manifest !== undefined);\n\t\t} catch (oError) {\n\t\t\tLog.error(\"Error while processing manifests\", oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Remove Duplicate Cards\n\t *\n\t * @param {object[]} aCards - array of cards\n\t * @returns {object[]} returns array of cards\n\t * @private\n\t */\n\tprivate _removeDuplicateCards(aCards: ICard[]): ICard[] {\n\t\tconst oCardDict: Record<string, boolean> = {};\n\t\tconst aResult: ICard[] = [];\n\t\taCards.forEach((oCard) => {\n\t\t\tconst sCardTitle = oCard?.descriptorContent?.[\"sap.card\"]?.header?.title || \"\";\n\t\t\tif (!oCardDict[sCardTitle]) {\n\t\t\t\taResult.push(oCard);\n\t\t\t\toCardDict[sCardTitle] = true;\n\t\t\t}\n\t\t});\n\t\treturn aResult;\n\t}\n\n\t/**\n\t * Fetch Recommended Cards\n\t *\n\t * @returns {Promise<ICard[] | []> } resolves to array of recommended cards\n\t * @private\n\t */\n\tpublic async getRecommenedCards(): Promise<ICard[] | []> {\n\t\ttry {\n\t\t\tconst aAppIds = await this._getRecommenedFioriIds();\n\t\t\tconst aManifests = await this._getCardManifest(aAppIds);\n\t\t\tconst aRecManifests = aManifests?.slice(0, RECOMMENDED_CARD_LIMIT);\n\t\t\tconst aRecommendedCards = aRecManifests?.map((manifest) => {\n\t\t\t\tlet id;\n\t\t\t\tif (manifest?.[\"sap.card\"]) {\n\t\t\t\t\tmanifest[\"sap.card\"].rec = true;\n\t\t\t\t\tid = manifest[\"sap.app\"]?.id;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tdescriptorContent: manifest\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn this._removeDuplicateCards(aRecommendedCards as ICard[]);\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error while fetching recommended cards:\", error instanceof Error ? error.message : String(error));\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a list of recommended visualizations for the user.\n\t *\n\t * The final list is composed of up to 10 recommendations, with must-include visualizations prioritized.\n\t * If no recommended visualizations are available or if an error occurs, it returns an empty array.\n\t *\n\t * @private\n\t * @async\n\t * @param {boolean} [forceRefresh=false] - If `true`, forces a refresh of the recommended visualizations\n\t *                                         regardless of whether they are cached.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves to an array of recommended visualizations.\n\t *                                            The array is limited to 10 visualizations, including must-include recommendations.\n\t */\n\tpublic async getRecommendedVisualizations(forceRefresh: boolean = false) {\n\t\tif (!this._recommendedVisualizations || forceRefresh) {\n\t\t\tconst recommendedFioriIds = await this._getRecommenedFioriIds(forceRefresh);\n\t\t\tif (recommendedFioriIds.length) {\n\t\t\t\tlet finalRecommendations: ICustomVisualization[] = [];\n\t\t\t\tlet mustIncludeRecommendations: ICustomVisualization[] = [];\n\t\t\t\tlet [recommendedVisualizations, favoriteVisualizations] = await Promise.all([\n\t\t\t\t\tthis._getVisualizationsByFioriIds(recommendedFioriIds),\n\t\t\t\t\tthis._fetchPageVizs(forceRefresh)\n\t\t\t\t]);\n\t\t\t\t//filter out recommendations that are already added\n\t\t\t\trecommendedVisualizations = recommendedVisualizations.filter((recViz) =>\n\t\t\t\t\t_isVisualizationAlreadyAdded(recViz, favoriteVisualizations)\n\t\t\t\t);\n\t\t\t\trecommendedVisualizations.forEach((recViz) => {\n\t\t\t\t\tif (_isMustIncludeRecommendation(recViz)) {\n\t\t\t\t\t\tmustIncludeRecommendations.push(recViz);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinalRecommendations.push(recViz);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//return only 10 recommended apps along with 'MyInbox' and 'Manage My Timesheet' if user has access to these apps.\n\t\t\t\tthis._recommendedVisualizations = finalRecommendations\n\t\t\t\t\t.slice(0, 10 - mustIncludeRecommendations.length)\n\t\t\t\t\t.concat(mustIncludeRecommendations);\n\t\t\t} else {\n\t\t\t\tthis._recommendedVisualizations = [];\n\t\t\t}\n\t\t}\n\t\treturn this._recommendedVisualizations;\n\t}\n\n\t/**\n\t * Asynchronously retrieves the list of inbound applications from the SAP Fiori client-side target resolution service.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<Array>} A promise that resolves to an array of inbound applications.\n\t *                            If an error occurs or the inbound applications are not available, it resolves to an empty array.\n\t */\n\tprivate async _getInboundApps() {\n\t\ttry {\n\t\t\tconst service = await Container.getServiceAsync<ClientSideTargetResolution>(\"ClientSideTargetResolution\");\n\t\t\treturn service?._oAdapter?._aInbounds || [];\n\t\t} catch (error) {\n\t\t\tLog.error(\"Error while fetching inbound apps: \" + (error as Error).message);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves Fiori app data and stores it in the `fioriAppData` and `componentData` properties.\n\t *\n\t * This method fetches inbound applications using the `_getInboundApps` method and processes them to extract\n\t * Fiori app IDs (`sap-fiori-id`) and their associated semantic data. It also maps UI5 component names to their\n\t * corresponding Fiori app IDs for later use.\n\t *\n\t * @returns {Promise<IAppInfo>} A promise that resolves to an object containing Fiori app data\n\t * @private\n\t */\n\tprivate async getFioriAppData(): Promise<IAppInfo> {\n\t\ttry {\n\t\t\tif (!Object.keys(this.componentData).length) {\n\t\t\t\tthis.componentData = {};\n\t\t\t\tthis.fioriAppData = {};\n\t\t\t\tconst inbounds = await this._getInboundApps();\n\t\t\t\tinbounds.forEach((oItem) => {\n\t\t\t\t\tconst fioriId = oItem?.signature?.parameters?.[\"sap-fiori-id\"]?.defaultValue?.value;\n\t\t\t\t\tconst componentId = oItem?.resolutionResult?.ui5ComponentName;\n\t\t\t\t\tif (fioriId) {\n\t\t\t\t\t\tconst semanticData: IAppInfoData = {\n\t\t\t\t\t\t\taction: oItem.action,\n\t\t\t\t\t\t\tsemanticObject: oItem.semanticObject,\n\t\t\t\t\t\t\tresolutionResult: oItem.resolutionResult\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.fioriAppData[fioriId] = this.fioriAppData[fioriId] || [];\n\t\t\t\t\t\tthis.fioriAppData[fioriId].push(semanticData);\n\n\t\t\t\t\t\t// store data along with fioriId in componentData, this can be used later to find the\n\t\t\t\t\t\t// fioriId for those apps when only ui5ComponentName is known\n\t\t\t\t\t\tif (componentId) {\n\t\t\t\t\t\t\tconst combinedData: IAppInfoData = { ...semanticData, fioriId };\n\n\t\t\t\t\t\t\tthis.componentData[componentId] = this.componentData[componentId] || [];\n\t\t\t\t\t\t\tthis.componentData[componentId].push(combinedData);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.fioriAppData;\n\t\t} catch (oError) {\n\t\t\tLog.error(oError instanceof Error ? oError.message : String(oError));\n\t\t\treturn {};\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves visualizations based on a list of Fiori IDs.\n\t *\n\t * This function processes the given Fiori IDs to find associated visualizations. It does so by fetching\n\t * inbound applications and catalog apps, then matching the Fiori IDs to filter out and gather relevant visualizations.\n\t * The function distinguishes between GUI and non-GUI visualizations, prioritizing non-GUI visualizations if both types are found.\n\t * It also ensures that each visualization is unique based on its URL and title, avoiding duplicates.\n\t *\n\t * @private\n\t * @async\n\t * @param {string[]} fioriIds - An array of Fiori IDs to search for visualizations.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves to an array of unique visualizations associated with the provided Fiori IDs.\n\t */\n\tprivate async _getVisualizationsByFioriIds(fioriIds: string[]) {\n\t\tconst visualizations: ICustomVisualization[] = [];\n\t\tconst visitedVisualizations: Map<string, boolean> = new Map<string, boolean>();\n\t\tconst [inbounds, catalogApps] = await Promise.all([this._getInboundApps(), this._getCatalogApps()]);\n\t\tfioriIds.forEach((fioriId) => {\n\t\t\t// get all inbounds with the fiori id\n\t\t\tconst authorizedApps = inbounds.filter(function (inbound) {\n\t\t\t\treturn inbound?.signature.parameters[\"sap-fiori-id\"]?.defaultValue?.value === fioriId;\n\t\t\t});\n\t\t\tauthorizedApps.forEach((app) => {\n\t\t\t\t//filter apps that matched semantic object action\n\t\t\t\tlet matchingVizualizations = catalogApps.filter((catalogApp) => {\n\t\t\t\t\treturn catalogApp?.target?.semanticObject === app.semanticObject && catalogApp.target.action === app.action;\n\t\t\t\t});\n\n\t\t\t\tconst guiVisualizations = matchingVizualizations.filter((matchingVizualization) =>\n\t\t\t\t\t_isGUIVisualization(matchingVizualization)\n\t\t\t\t);\n\t\t\t\tconst nonGuiVisualizations = matchingVizualizations.filter(\n\t\t\t\t\t(matchingVizualization) => !_isGUIVisualization(matchingVizualization)\n\t\t\t\t);\n\t\t\t\t//if both gui and non-gui visualizations exists, then consider only non-gui visualizations for recommendation.\n\t\t\t\tif (guiVisualizations.length > 0 && nonGuiVisualizations.length > 0) {\n\t\t\t\t\tmatchingVizualizations = [...nonGuiVisualizations];\n\t\t\t\t}\n\n\t\t\t\tmatchingVizualizations.forEach((matchingVizualization) => {\n\t\t\t\t\tlet visualization = matchingVizualization.visualizations[0];\n\t\t\t\t\tlet recommendedVisualization: ICustomVisualization = {\n\t\t\t\t\t\ttitle: visualization.title,\n\t\t\t\t\t\tsubtitle: visualization.subtitle,\n\t\t\t\t\t\ticon: visualization.icon,\n\t\t\t\t\t\turl: visualization.targetURL,\n\t\t\t\t\t\tvizId: visualization.vizId,\n\t\t\t\t\t\tfioriId: fioriId,\n\t\t\t\t\t\tvisualization: visualization\n\t\t\t\t\t};\n\t\t\t\t\t//if app with same url or title already recommended, then don't consider it.\n\t\t\t\t\tif (\n\t\t\t\t\t\t!visitedVisualizations.has(recommendedVisualization.url!) ||\n\t\t\t\t\t\t!visitedVisualizations.has(recommendedVisualization.title!)\n\t\t\t\t\t) {\n\t\t\t\t\t\tvisitedVisualizations.set(recommendedVisualization.url!, true);\n\t\t\t\t\t\tvisitedVisualizations.set(recommendedVisualization.title!, true);\n\t\t\t\t\t\tvisualizations.push(recommendedVisualization);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\treturn visualizations;\n\t}\n\n\t/**\n\t * Retrieves visualizations for all favorite pages based on the provided parameters.\n\t * @param {Array} pages - An array of favorite pages.\n\t * @param {boolean} shouldReload - A flag indicating whether to reload page visualizations.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves with an array of favorite page visualizations.\n\t * @private\n\t */\n\tpublic async _getAllFavPageApps(pages: IPage[], shouldReload?: boolean): Promise<ICustomVisualization[]> {\n\t\ttry {\n\t\t\tif (pages) {\n\t\t\t\tthis._favPageVisualizations = this._favPageVisualizations || [];\n\t\t\t\t//Check to ensure that missing visualization data is loaded, if any\n\t\t\t\tconst loadedPages = this._favPageVisualizations.reduce((pageIDs: string[], visualization) => {\n\t\t\t\t\tif (visualization.pageId && !pageIDs.includes(visualization.pageId)) {\n\t\t\t\t\t\tpageIDs.push(visualization.pageId);\n\t\t\t\t\t}\n\t\t\t\t\treturn pageIDs;\n\t\t\t\t}, []);\n\t\t\t\tconst pageIds = pages.map((page) => page.pageId);\n\t\t\t\tconst shouldLoadMissingApps = loadedPages.length === 0 || !loadedPages.every((pageId) => pageIds.includes(pageId));\n\t\t\t\tif (!shouldReload && !shouldLoadMissingApps) {\n\t\t\t\t\treturn this._favPageVisualizations;\n\t\t\t\t} else {\n\t\t\t\t\tthis._favPageVisualizations = await this._loadAllPageVisualizations(pages, shouldReload);\n\t\t\t\t\treturn this._favPageVisualizations;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [];\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Loads visualizations for all specified pages.\n\t * @param {Array} pages - An array of pages.\n\t * @param {boolean} [shouldFetchDistinctApps=false] - A flag indicating whether to fetch distinct pages.\n\t * @returns {Promise<ICustomVisualization[]>} A promise that resolves with an array of page visualizations.\n\t * @private\n\t */\n\tprivate async _loadAllPageVisualizations(\n\t\tpages: IPage[],\n\t\tforceRefresh = false,\n\t\tshouldFetchDistinctApps = false\n\t): Promise<ICustomVisualization[]> {\n\t\tconst getBgColor = (pageId: string | undefined) => {\n\t\t\treturn pages.find((page) => page.pageId === pageId)?.BGColor ?? DEFAULT_BG_COLOR().key;\n\t\t};\n\n\t\ttry {\n\t\t\tconst favPageVisualizations: ICustomVisualization[] = [];\n\t\t\tconst aPages = await this.loadPages(pages, forceRefresh);\n\n\t\t\tfor (const page of aPages) {\n\t\t\t\tconst sections = page?.sections || [];\n\t\t\t\tfor (const section of sections) {\n\t\t\t\t\tconst visualizations = section.visualizations || [];\n\t\t\t\t\tfor (const visualization of visualizations) {\n\t\t\t\t\t\tconst app = {\n\t\t\t\t\t\t\tappId: visualization.targetURL,\n\t\t\t\t\t\t\tvizId: visualization.vizId,\n\t\t\t\t\t\t\ticon: visualization.icon,\n\t\t\t\t\t\t\tBGColor: getBgColor(page.id) as string,\n\t\t\t\t\t\t\tpageId: page.id\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (!shouldFetchDistinctApps || !favPageVisualizations.some((oVizApp) => oVizApp.appId === app.appId)) {\n\t\t\t\t\t\t\tfavPageVisualizations.push(app);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn favPageVisualizations;\n\t\t} catch (error) {\n\t\t\tLog.error(error as string);\n\t\t\treturn [];\n\t\t}\n\t}\n\t/**\n\t * Fetches page data for the specified pages.\n\t * @param {Array} pages - An array of pages.\n\t * @param {boolean} forceRefresh - If true, forces a refresh of the page data.\n\t * @returns {Promise<IPage>} A promise that resolves to the fetched page data.\n\t * @private\n\t */\n\tprivate async loadPages(pages: IPage[], forceRefresh: boolean = false): Promise<IPage[]> {\n\t\treturn await Promise.all(pages.map((page) => this._fetchRequestFromQueue(forceRefresh, page.pageId)));\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":341,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseObject","_catch","body","recover","result","e","then","methods","isEncoded","url","test","MultiPartRequest","batchRequests","constructor","requestMethod","csrfToken","this","encodeURI","boundary","Date","now","options","headers","method","_constructBody","BOUNDARY","REQUEST_HEADERS","REQUEST_BODY","index","length","request","boundaryEnd","addRequest","push","constructBodyWithPayload","changeSet","CHANGESET_BOUNDARY","CHANGESET_HEADER","JSON","stringify","payload","getDataFromRawValue","value","parsedValue","replace","split","filter","data","finalData","contentTypeValue","includes","parse","fetchCSRFToken","baseURL","Promise","resolve","fetch","HEAD","response","ok","token","get","Error","error","message","reject","BatchHelper","extend","fetchData","_fetchData","multiPartRequest","_this","GET","POST","text","createMultipartRequest","_createMultipartRequest","urls","_this2","buildMultipartRequest","createMultipartRequestWithPayload","_createMultipartRequestWithPayload","payloads","_this3","buildMultipartRequestWithPayload","_buildMultipartRequest","forEach","_buildMultipartRequestWithPayload","multipartRequest"],"sources":["BatchHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport BaseObject from \"sap/ui/base/Object\";\n\nenum methods {\n\tGET = \"GET\",\n\tPOST = \"POST\",\n\tPUT = \"PUT\",\n\tPATCH = \"PATCH\",\n\tDELETE = \"DELETE\",\n\tHEAD = \"HEAD\"\n}\n\ninterface Options {\n\theaders: Record<string, string>;\n\tmethod: methods;\n\tbody?: string;\n}\n\nconst isEncoded = (url: string) => {\n\treturn /%[0-9A-F]{2}/i.test(url);\n};\n\n/**\n * Represents a multipart request.\n */\nclass MultiPartRequest {\n\tprivate url: string;\n\tprivate batchRequests: MultiPartRequest[] = [];\n\tprivate boundary: string;\n\tpublic options: Options;\n\tpublic payload?: unknown;\n\n\t/**\n\t * Creates a MultiPartRequest object.\n\t *\n\t * @param {string} url - The URL for the multipart request.\n\t * @constructor\n\t */\n\tconstructor(url: string, requestMethod: methods, csrfToken?: string) {\n\t\t//encode the URL if it is not already encoded\n\t\tthis.url = isEncoded(url) ? url : encodeURI(url);\n\t\tthis.boundary = `batch_id_${Date.now()}_01`;\n\t\tthis.options = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": `multipart/mixed;boundary=${this.boundary}`\n\t\t\t},\n\t\t\tmethod: requestMethod\n\t\t};\n\n\t\t// Add CSRF token to headers if available\n\t\tif (csrfToken) {\n\t\t\tthis.options.headers[\"X-CSRF-Token\"] = csrfToken;\n\t\t}\n\t}\n\n\t/**\n\t * Constructs the body for the multipart request.\n\t *\n\t * @returns {string} - The constructed body.\n\t * @private\n\t */\n\tpublic _constructBody(): string {\n\t\tconst BOUNDARY = `--${this.boundary}`;\n\t\tconst REQUEST_HEADERS = `Content-Type: application/http\\r\\nContent-Transfer-Encoding: binary\\r\\n`;\n\t\tconst REQUEST_BODY = `Accept: application/json\\r\\n\\r\\n\\r\\n`;\n\n\t\tlet body = `${BOUNDARY}\\r\\n`;\n\n\t\tfor (let index = 0; index < this.batchRequests.length; index++) {\n\t\t\tconst request = this.batchRequests[index];\n\t\t\tconst boundaryEnd = index === this.batchRequests.length - 1 ? \"--\\r\\n\" : \"\\r\\n\";\n\t\t\tbody += `${REQUEST_HEADERS}\\r\\n`;\n\t\t\tbody += `${request.options.method} ${request.url} HTTP/1.1\\r\\n${REQUEST_BODY}`;\n\t\t\tbody += `${BOUNDARY}${boundaryEnd}`;\n\t\t}\n\n\t\treturn body;\n\t}\n\n\t/**\n\t * Adds a request to the MultiPartRequest batch.\n\t *\n\t * @public\n\t * @param {Object} request - The request to add to the batch.\n\t */\n\tpublic addRequest(request: MultiPartRequest): void {\n\t\tthis.batchRequests.push(request);\n\t}\n\n\t/**\n\t * Constructs the body for the multipart request with payload\n\t *\n\t * @returns {string} - The constructed body.\n\t * @private\n\t */\n\tpublic constructBodyWithPayload(): string {\n\t\tconst BOUNDARY = `--${this.boundary}`;\n\t\tconst REQUEST_HEADERS = \"Content-Type:application/http\\r\\nContent-Transfer-Encoding:binary\\r\\n\";\n\t\tlet body = `${BOUNDARY}\\r\\n`;\n\t\tconst changeSet = \"changeset_001\";\n\t\tconst CHANGESET_BOUNDARY = `--${changeSet}`;\n\t\tconst CHANGESET_HEADER = `Content-Type: multipart/mixed; boundary=${changeSet}\\r\\n`;\n\t\tbody += `${CHANGESET_HEADER}\\r\\n${CHANGESET_BOUNDARY}\\r\\n`;\n\t\tfor (let index = 0; index < this.batchRequests.length; index++) {\n\t\t\tconst request = this.batchRequests[index];\n\t\t\tbody += `\\r\\n${REQUEST_HEADERS}`;\n\t\t\tbody += `Content-ID: ${index + 1}\\r\\n\\r\\n`;\n\t\t\tbody += `${request.options.method} ${request.url} HTTP/1.1\\r\\n`;\n\t\t\tbody += \"sap-context-accept: header\\r\\nContent-Type:application/json\\r\\n\\r\\n\";\n\t\t\tbody += `${JSON.stringify(request.payload)}\\r\\n\\r\\n`;\n\t\t\tbody += CHANGESET_BOUNDARY;\n\t\t\tif (index === this.batchRequests.length - 1) {\n\t\t\t\tbody += \"--\\r\\n\";\n\t\t\t\tbody += `${BOUNDARY}--`;\n\t\t\t}\n\t\t}\n\t\treturn body;\n\t}\n}\n\n/**\n * Parses multipart body response and returns an array of values called in the batch request.\n *\n * @param {string} value - Multipart body response.\n * @returns {Object[]} - Array of values in the multipart request.\n * @returns {Object[]} - An array of values in the multipart request.\n */\nconst getDataFromRawValue = function (value: string): (string | object)[] {\n\tconst parsedValue = value\n\t\t.replace(/\\r\\n/g, \"\\n\")\n\t\t.split(\"\\n\")\n\t\t.filter((data) => data !== \"\");\n\n\tconst finalData: (string | object)[] = [];\n\tlet contentTypeValue = \"\";\n\n\tfor (let index = 1; index < parsedValue.length - 1; index++) {\n\t\tcontentTypeValue = parsedValue[index].includes(\"Content-Type: \") ? parsedValue[index].split(\"Content-Type: \")[1] : contentTypeValue;\n\n\t\tif (parsedValue[index + 1].includes(parsedValue[0])) {\n\t\t\tif (contentTypeValue === \"application/json\") {\n\t\t\t\tfinalData.push(JSON.parse(parsedValue[index]) as string);\n\t\t\t} else {\n\t\t\t\tfinalData.push(parsedValue[index]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn finalData;\n};\n\n/**\n * Fetches the CSRF token from the specified base URL.\n *\n * @async\n * @param {string} baseURL - The base URL to fetch the CSRF token from.\n * @returns {Promise<string>} A Promise that resolves when all batch requests are completed. A promise that resolves to the CSRF token.\n * @throws {Error} An error if the CSRF token cannot be fetched.\n */\nconst fetchCSRFToken = async function (baseURL: string): Promise<string> {\n\ttry {\n\t\tconst response = await fetch(baseURL, {\n\t\t\tmethod: methods.HEAD,\n\t\t\theaders: {\n\t\t\t\t\"X-CSRF-Token\": \"Fetch\"\n\t\t\t}\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\tconst token = response.headers.get(\"X-CSRF-Token\");\n\t\t\tif (token) {\n\t\t\t\treturn token;\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error(\"Cannot fetch X-CSRF-Token.\");\n\t} catch (error: unknown) {\n\t\tthrow new Error((error as Error).message);\n\t}\n};\n\n/**\n *\n * Helper class for managing batch requests.\n *\n * @extends BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.utils.BatchHelper\n */\nexport default class BatchHelper extends BaseObject {\n\tprivate url!: string;\n\n\t/**\n\t * Fetches data from a multipart request.\n\t *\n\t * @private\n\t * @param {MultiPartRequest} multiPartRequest - The multipart request object.\n\t * @returns {Promise<Array<string | object>>} - A promise that resolves to the data from the request.\n\t */\n\tprivate async fetchData(multiPartRequest: MultiPartRequest): Promise<Array<string | object>> {\n\t\tmultiPartRequest.options.body =\n\t\t\tmultiPartRequest.options.method === methods.GET\n\t\t\t\t? multiPartRequest._constructBody()\n\t\t\t\t: multiPartRequest.constructBodyWithPayload();\n\n\t\tmultiPartRequest.options.method = methods.POST;\n\n\t\tconst response = await fetch(this.url, multiPartRequest.options);\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\"Failed to fetch data from the server.\");\n\t\t}\n\n\t\tconst text = await response.text();\n\t\treturn getDataFromRawValue(text);\n\t}\n\n\t/**\n\t * Creates a multipart batch request with multiple URLs.\n\t *\n\t * @public\n\t * @param {string} baseURL - The base URL for creating the batch request.\n\t * @param {string[]} urls - An array of URLs for individual requests.\n\t * @returns {Promise<Array<string | object>>} - A promise that resolves to the data from the batch request.\n\t */\n\tpublic async createMultipartRequest(baseURL: string, urls: string[]): Promise<Array<string | object>> {\n\t\tthis.url = `${baseURL}$batch`;\n\t\tconst csrfToken = await fetchCSRFToken(baseURL);\n\t\tconst request = this.buildMultipartRequest(urls, csrfToken);\n\t\treturn await this.fetchData(request);\n\t}\n\n\t/**\n\t * Creates a multipart batch request with given payloads and sends it to the specified base URL.\n\t *\n\t * @public\n\t * @param {string} baseURL - The base URL for creating the batch request.\n\t * @param payloads - An array of objects containing the URL and data for each part of the multipart request.\n\t * @param requestMethod - The HTTP method to be used for the request (e.g., POST).\n\t * @returns {Promise<Array<string | object>>} A promise that resolves to the data from the batch request.\n\t */\n\tpublic async createMultipartRequestWithPayload(\n\t\tbaseURL: string,\n\t\tpayloads: { url: string; data: unknown }[],\n\t\trequestMethod: methods\n\t): Promise<Array<string | object>> {\n\t\tthis.url = `${baseURL}$batch`;\n\t\tconst csrfToken = await fetchCSRFToken(baseURL);\n\t\tconst request = this.buildMultipartRequestWithPayload(payloads, csrfToken, requestMethod);\n\t\treturn await this.fetchData(request);\n\t}\n\n\t/**\n\t * Builds a multipart request from an array of URLs.\n\t *\n\t * @private\n\t * @param {string[]} urls - An array of URLs for individual requests.\n\t * @returns {MultiPartRequest} - The multipart request object.\n\t */\n\tprivate buildMultipartRequest(urls: string[], csrfToken: string, requestMethod: methods = methods.GET): MultiPartRequest {\n\t\t// create base request from first URL\n\t\tconst request = new MultiPartRequest(urls[0], requestMethod, csrfToken);\n\n\t\t// Add all URLs as sub-requests\n\t\turls.forEach((url) => {\n\t\t\trequest.addRequest(new MultiPartRequest(url, requestMethod, csrfToken));\n\t\t});\n\n\t\treturn request;\n\t}\n\n\t/**\n\t * Builds a multipart request with the given payloads, CSRF token, and request method.\n\t *\n\t * @param payloads - An array of objects containing the URL and data for each part of the request.\n\t * @param csrfToken - The CSRF token to be included in the request headers.\n\t * @param requestMethod - The HTTP method to be used for the request.\n\t * @returns {MultiPartRequest} A `MultiPartRequest` object containing the constructed multipart request.\n\t */\n\tprivate buildMultipartRequestWithPayload(\n\t\tpayloads: { url: string; data: unknown }[],\n\t\tcsrfToken: string,\n\t\trequestMethod: methods\n\t): MultiPartRequest {\n\t\tconst request = new MultiPartRequest(payloads[0].url, requestMethod, csrfToken);\n\t\trequest.payload = payloads[0].data;\n\t\tpayloads.forEach(({ url, data }) => {\n\t\t\tconst multipartRequest = new MultiPartRequest(url, requestMethod, csrfToken);\n\t\t\tmultipartRequest.payload = data;\n\t\t\trequest.addRequest(multipartRequest);\n\t\t});\n\n\t\treturn request;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":346,"column":0},"map":{"version":3,"names":["sap","ui","define","___Constants","DEFAULT_BG_COLOR","LEGEND_COLORS","PAGE_SELECTION_LIMIT","ColorUtils","constructor","this","_oColorList","slice","getFreeColor","oColor","find","oColour","assigned","sColor","key","addColor","sKey","_fetchColor","removeColor","_getColorMap","__exports"],"sources":["ColorUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { Value } from \"sap/ui/core/theming/Parameters\";\nimport { DEFAULT_BG_COLOR, LEGEND_COLORS, PAGE_SELECTION_LIMIT } from \"./Constants\";\n\nclass ColorUtils {\n\tprivate _oColorList!: { key: string; value: Value; assigned: boolean }[];\n\n\tconstructor() {\n\t\tthis._oColorList = LEGEND_COLORS().slice(0, PAGE_SELECTION_LIMIT);\n\t}\n\n\t/**\n\t * Returns first unassigned color from the list\n\t *\n\t * @public\n\t * @returns {string} color key of unassigned color\n\t */\n\tpublic getFreeColor() {\n\t\tconst oColor = this._oColorList.find((oColour) => !oColour.assigned);\n\t\tlet sColor = DEFAULT_BG_COLOR().key;\n\n\t\tif (oColor) {\n\t\t\toColor.assigned = true;\n\t\t\tsColor = oColor.key;\n\t\t}\n\t\treturn sColor;\n\t}\n\n\t/**\n\t * Marks color as assigned in the list\n\t *\n\t * @public\n\t * @param {string} sKey color key\n\t * @returns {object} color list instance for chaining\n\t */\n\taddColor(sKey: string) {\n\t\tthis._fetchColor(sKey).assigned = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Marks color as unassigned in the list\n\t *\n\t * @public\n\t * @param {string} sKey color key\n\t * @returns {object} color list instance for chaining\n\t */\n\tremoveColor(sKey: string) {\n\t\tthis._fetchColor(sKey).assigned = false;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Fetch Color Object from the list\n\t *\n\t * @private\n\t * @param {string} sKey color key\n\t * @returns {object} color Object, if found\n\t */\n\t_fetchColor(sKey: string): { assigned: boolean } {\n\t\treturn (\n\t\t\tthis._oColorList.find(function (oColour) {\n\t\t\t\treturn oColour.key === sKey;\n\t\t\t}) || { assigned: false }\n\t\t);\n\t}\n\n\t/**\n\t * Getter for Color List\n\t *\n\t * @private\n\t * @returns {object} color list object\n\t */\n\t_getColorMap() {\n\t\treturn this._oColorList;\n\t}\n}\n\nexport default new ColorUtils();\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,2CAAA,yBAAAC,GAAA,mBAMSC,EAAgBD,EAAA,0BAAEE,EAAaF,EAAA,uBAAEG,EAAoBH,EAAA,wBAE9D,MAAMI,EAGLC,cACCC,KAAKC,YAAcL,IAAgBM,MAAM,EAAGL,EAC7C,CAQOM,eACN,MAAMC,EAASJ,KAAKC,YAAYI,KAAMC,IAAaA,EAAQC,UAC3D,IAAIC,EAASb,IAAmBc,IAEhC,GAAIL,EAAQ,CACXA,EAAOG,SAAW,KAClBC,EAASJ,EAAOK,GACjB,CACA,OAAOD,CACR,CASAE,SAASC,GACRX,KAAKY,YAAYD,GAAMJ,SAAW,KAClC,OAAOP,IACR,CASAa,YAAYF,GACXX,KAAKY,YAAYD,GAAMJ,SAAW,MAClC,OAAOP,IACR,CASAY,YAAYD,GACX,OACCX,KAAKC,YAAYI,KAAK,SAAUC,GAC/B,OAAOA,EAAQG,MAAQE,CACxB,IAAM,CAAEJ,SAAU,MAEpB,CAQAO,eACC,OAAOd,KAAKC,WACb,EACA,IAAAc,EAEc,IAAIjB,EAAY,OAAAiB,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":351,"column":0},"map":{"version":3,"names":["sap","ui","define","__BaseLayout","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseLayout","PageManager","PersonalisationUtils","isURLParamEnabled","paramName","urlParams","URLSearchParams","window","location","search","get","toUpperCase","getPageManagerInstance","control","container","getParent","layout","layoutPersContainerId","getProperty","persContainerId","getPersContainerId","pageManagerInstance","getInstance","getOwnerComponent","filterVisualizations","visualizations","filterDynamicTiles","filter","visualization","isSection","isCount","isSmartBusinessTile","apps","badge","length","toString","__exports"],"sources":["CommonUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\n/**\n *\n * @param paramName name of parameter\n * This method checks if the URL parameter is enabled.\n * @returns {boolean} True if the parameter is enabled, false otherwise.\n * @private\n */\nimport Component from \"sap/ui/core/Component\";\nimport BaseLayout from \"../BaseLayout\";\nimport BasePanel from \"../BasePanel\";\nimport { ICustomVisualization, ISectionAndVisualization } from \"../interface/AppsInterface\";\nimport PageManager from \"./PageManager\";\nimport PersonalisationUtils from \"./PersonalisationUtils\";\n\nexport function isURLParamEnabled(paramName: string): boolean {\n\tconst urlParams = new URLSearchParams(window.location.search);\n\treturn urlParams.get(paramName)?.toUpperCase() === \"TRUE\" || false;\n}\n\nexport function getPageManagerInstance(control: BasePanel) {\n\tconst container = control.getParent();\n\tconst layout = container?.getParent();\n\tconst layoutPersContainerId = layout instanceof BaseLayout ? (layout?.getProperty(\"persContainerId\") as string) : \"\";\n\tconst persContainerId = layoutPersContainerId || PersonalisationUtils.getPersContainerId(control);\n\tconst pageManagerInstance = PageManager.getInstance(persContainerId, PersonalisationUtils.getOwnerComponent(control) as Component);\n\treturn pageManagerInstance;\n}\n\n/**\n * Filters visualizations by removing static tiles (count or Smart Business tiles) unless dynamic tiles are requested.\n *\n * @param {ISectionAndVisualization[]} visualizations - The array of visualizations to filter.\n * @param {boolean} [filterDynamicTiles=false] - If true, only dynamic tiles are included; otherwise, static tiles are included.\n * @returns {ISectionAndVisualization[]} The filtered array of visualizations.\n */\nexport function filterVisualizations(\n\tvisualizations: ISectionAndVisualization[],\n\tfilterDynamicTiles: boolean = false\n): (ISectionAndVisualization | ICustomVisualization)[] {\n\treturn visualizations\n\t\t.filter((visualization) => {\n\t\t\t// Filter out static tiles\n\t\t\tif (!visualization.isSection && (visualization.isCount || visualization.isSmartBusinessTile)) {\n\t\t\t\treturn filterDynamicTiles;\n\t\t\t} else if (visualization.isSection) {\n\t\t\t\tvisualization.apps = filterVisualizations(visualization.apps || [], filterDynamicTiles);\n\t\t\t\tvisualization.badge = visualization.apps.length.toString();\n\t\t\t}\n\n\t\t\treturn !filterDynamicTiles;\n\t\t})\n\t\t.filter((visualization) => (visualization.isSection ? visualization.apps!.length > 0 : true));\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,4CAAA,oEAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAKA,MAQOG,EAAUJ,EAAAH,GAAA,MAGVQ,EAAWL,EAAAF,GAAA,MACXQ,EAAoBN,EAAAD,GAEpB,SAASQ,EAAkBC,GACjC,MAAMC,EAAY,IAAIC,gBAAgBC,OAAOC,SAASC,QACtD,OAAOJ,EAAUK,IAAIN,IAAYO,gBAAkB,QAAU,KAC9D,CAEO,SAASC,EAAuBC,GACtC,MAAMC,EAAYD,EAAQE,YAC1B,MAAMC,EAASF,GAAWC,YAC1B,MAAME,EAAwBD,aAAkBhB,EAAcgB,GAAQE,YAAY,mBAAgC,GAClH,MAAMC,EAAkBF,GAAyBf,EAAqBkB,mBAAmBP,GACzF,MAAMQ,EAAsBpB,EAAYqB,YAAYH,EAAiBjB,EAAqBqB,kBAAkBV,IAC5G,OAAOQ,CACR,CASO,SAASG,EACfC,EACAC,EAA8B,OAE9B,OAAOD,EACLE,OAAQC,IAER,IAAKA,EAAcC,YAAcD,EAAcE,SAAWF,EAAcG,qBAAsB,CAC7F,OAAOL,CACR,MAAO,GAAIE,EAAcC,UAAW,CACnCD,EAAcI,KAAOR,EAAqBI,EAAcI,MAAQ,GAAIN,GACpEE,EAAcK,MAAQL,EAAcI,KAAKE,OAAOC,UACjD,CAEA,OAAQT,IAERC,OAAQC,GAAmBA,EAAcC,UAAYD,EAAcI,KAAME,OAAS,EAAI,KACzF,CAAC,IAAAE,EAAA,CAAAtC,WAAA,MAAAsC,EAAAjC,oBAAAiC,EAAAxB,yBAAAwB,EAAAZ,uBAAA,OAAAY,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":356,"column":0},"map":{"version":3,"names":["sap","ui","define","Parameters","fnFetchLegendColor","sLegendName","key","value","get","name","assigned","BASE_URL","INSIGHTS_READ_SRVC_URL","MYHOME_PAGE_ID","MYAPPS_SECTION_ID","FALLBACK_ICON","DEFAULT_APP_ICON","MYINSIGHT_SECTION_ID","MYHOME_SPACE_ID","DEFAULT_BG_COLOR","PAGE_SELECTION_LIMIT","LEGEND_COLORS","map","END_USER_COLORS","AppTypes","FAVORITE","RECENT","FREQUENT","PLACEHOLDER_ITEMS_COUNT","RECOMMENDED_CARD_LIMIT","RECOMMENDATION_SRVC_URL","FEATURE_TOGGLES","FEATURE_TOGGLE_SRVC_URL","REPO_BASE_URL","DEFAULT_NEWS_BASE_URL","DEFAULT_NEWS_URL","SETTINGS_PANELS_KEYS","KEYUSER_SETTINGS_PANELS_KEYS","CONTENT_ADDITION_PANEL_TYPES","FESR_IDS","TABLE_TYPES","GRID","TREE","ANALYTICAL","RESPONSIVE","STANDARD_LIST","OBJECT_LIST","COLUMN_LENGTH","AI_APP_FINDER_BASE_URL","AI_APP_FINDER_API","CUSTOM_SPACEID","PREFERED_CARDS","DEFAULT_NEWS_PLACEHOLDER","group_id","mandatory","mandatory_text","_group_to_article","__exports","__esModule"],"sources":["Constants.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Parameters from \"sap/ui/core/theming/Parameters\";\n\nexport const fnFetchLegendColor = (sLegendName: string) => {\n\treturn {\n\t\tkey: sLegendName,\n\t\tvalue: Parameters.get({\n\t\t\tname: sLegendName\n\t\t}),\n\t\tassigned: false\n\t};\n};\n\nconst BASE_URL = \"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/\";\nconst INSIGHTS_READ_SRVC_URL = BASE_URL + \"insights_read_srv/0001/\";\n\nexport const MYHOME_PAGE_ID: string = \"SAP_BASIS_PG_UI_MYHOME\";\nexport const MYAPPS_SECTION_ID: string = \"3WO90XZ1DX1AS32M7ZM9NBXEF\";\nexport const FALLBACK_ICON: string = \"sap-icon://document\";\nexport const DEFAULT_APP_ICON: string = \"sap-icon://product\";\nexport const MYINSIGHT_SECTION_ID: string = \"AZHJGRIT78TG7Y65RF6EPFJ9U\";\nexport const MYHOME_SPACE_ID: string = \"SAP_BASIS_SP_UI_MYHOME\";\nexport const DEFAULT_BG_COLOR = () => fnFetchLegendColor(\"sapLegendColor9\");\n\nexport const PAGE_SELECTION_LIMIT = 8;\nexport const LEGEND_COLORS = () =>\n\t[\n\t\t\"sapLegendColor6\",\n\t\t\"sapLegendColor3\",\n\t\t\"sapLegendColor1\",\n\t\t\"sapLegendColor10\",\n\t\t\"sapLegendColor12\",\n\t\t\"sapLegendColor7\",\n\t\t\"sapLegendColor5\",\n\t\t\"sapLegendColor8\",\n\t\t\"sapLegendColor18\",\n\t\t\"sapLegendColor9\"\n\t].map(fnFetchLegendColor);\nexport const END_USER_COLORS = () =>\n\t[\n\t\t\"sapLegendColor19\",\n\t\t\"sapLegendColor13\",\n\t\t\"sapLegendColor11\",\n\t\t\"sapLegendColor20\",\n\t\t\"sapLegendColor2\",\n\t\t\"sapLegendColor17\",\n\t\t\"sapLegendColor15\",\n\t\t\"sapLegendColor14\",\n\t\t\"sapLegendColor16\",\n\t\t\"sapLegendColor4\"\n\t].map(fnFetchLegendColor);\nexport const AppTypes = {\n\tFAVORITE: \"FAVORITE\",\n\tRECENT: \"RECENT\",\n\tFREQUENT: \"FREQUENT\"\n};\nexport const PLACEHOLDER_ITEMS_COUNT = 5;\nexport const RECOMMENDED_CARD_LIMIT = 4;\nexport const RECOMMENDATION_SRVC_URL = INSIGHTS_READ_SRVC_URL + \"RecommendedApps\";\nexport enum FEATURE_TOGGLES {\n\tAI_GENERATED_CARD = \"AIU_SMART_PERSONALIZATION\",\n\tAI_SMART_APPFINDER = \"AIU_SMART_APPFINDER\"\n}\nexport const FEATURE_TOGGLE_SRVC_URL = INSIGHTS_READ_SRVC_URL + \"FeatureToggle\";\nexport const REPO_BASE_URL = BASE_URL + \"insights_cards_repo_srv/0001/\";\nexport const DEFAULT_NEWS_BASE_URL = \"/sap/opu/odata4/sap/sui_flp_aps_ui_usernews/srvd_a2x/sap/sui_flp_aps_ui_usernews/0001/NewsGroup\";\nexport const DEFAULT_NEWS_URL = DEFAULT_NEWS_BASE_URL + \"?$expand=_group_to_image,_group_to_article&$format=json\";\nexport enum SETTINGS_PANELS_KEYS {\n\tLAYOUT = \"LAYOUT\",\n\tNEWS = \"NEWS\",\n\tPAGES = \"PAGES\",\n\tINSIGHTS_TILES = \"INSIGHTS_TILES\",\n\tINSIGHTS_CARDS = \"INSIGHTS_CARDS\",\n\tADVANCED = \"ADVANCED\"\n}\nexport enum KEYUSER_SETTINGS_PANELS_KEYS {\n\tLAYOUT = \"KEYUSER_LAYOUT\",\n\tNEWS_PAGES = \"KEYUSER_NEWS_PAGES\",\n\tNEWS = \"KEYUSER_NEWS\",\n\tPAGES = \"KEYUSER_PAGES\"\n}\nexport enum CONTENT_ADDITION_PANEL_TYPES {\n\tAI_APP_FINDER = \"AI_APP_FINDER\",\n\tAI_INSIGHTS_CARDS = \"AI_INSIGHTS_CARDS\"\n}\n\nexport enum FESR_IDS {\n\tADD_AI_CARD = \"INS:AddAICard\",\n\tCANCEL_CONTENT_DIALOG = \"myh:content:cancel\",\n\tADD_AI_APP = \"myh:apps:add\"\n}\n\nexport const TABLE_TYPES = {\n\tGRID: \"GridTable\",\n\tTREE: \"TreeTable\",\n\tANALYTICAL: \"AnalyticalTable\",\n\tRESPONSIVE: \"ResponsiveTable\",\n\tSTANDARD_LIST: \"StandardList\",\n\tOBJECT_LIST: \"ObjectList\"\n};\nexport const COLUMN_LENGTH = 3;\n\nexport const AI_APP_FINDER_BASE_URL = \"/sap/opu/odata4/sap/aiu_ui_prompt/srvd/sap/aiu_ui_prompt/0001/\";\nexport const AI_APP_FINDER_API = AI_APP_FINDER_BASE_URL + \"SmartAppFinder/SAP__self.ExecuteAppFinderFromUserInput\";\n\nexport const CUSTOM_SPACEID = \"Z_TRIAL_TRIAL_CENTER\";\nexport const PREFERED_CARDS = [\n\t\"user.F2933.cards.docStatusCard\",\n\t\"user.i2d.qm.qltytechnician.ovps1.cards.i2d.qm.qltytechnician.ovps1_card01\",\n\t\"user.F3242.cards.card06_MyBiggestDebtors.tab_1\",\n\t\"user.F2917.cards.card15_PayableAmount\",\n\t\"user.F2601.cards.card04_ProfitMargin\",\n\t\"user.F2601.cards.card00_IncomingSales.tab_1\",\n\t\"user.F2933.cards.card01\"\n];\n\nexport const DEFAULT_NEWS_PLACEHOLDER = {\n\t\"@odata.context\": \"\",\n\t\"@odata.metadataEtag\": \"\",\n\tvalue: [\n\t\t{\n\t\t\tgroup_id: \"placeholderNews\",\n\t\t\tmandatory: \"X\",\n\t\t\tmandatory_text: \"TRUE\",\n\t\t\t_group_to_article: [\n\t\t\t\t{\n\t\t\t\t\tgroup_id: \"placeholderNews\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n};\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":361,"column":0},"map":{"version":3,"names":["sap","ui","define","sap_m_library","UI5Element","DateFormat","___TaskUtils","ValueColor","TaskPriority","oRelativeDateTimeFormatter","getDateTimeInstance","style","relative","relativeStyle","oRelativeDateFormatter","getDateInstance","toPriority","oTask","criticality","Error","Critical","Neutral","toTaskPriorityText","sPriority","VERY_HIGH","HIGH","MEDIUM","LOW","toRelativeDateTime","oDate","format","Date","toRelativeDate","iTimeStamp","sRelativeDate","charAt","toUpperCase","slice","createBookMarkData","oBookMark","finalBookMarkData","title","url","targetURL","icon","info","subtitle","serviceUrl","indicatorDataSource","path","numberUnit","vizType","vizConfig","dataSource","getImportance","oDataField","sImportance","iImportance","EnumMember","sortCollectionByImportance","aCollection","sort","oFirstData","oSecondData","iFirstDataImportance","iSecondDataImportance","getLeanURL","constructFullUrl","query","fullURL","URL","window","location","href","search","hash","toString","indexOf","recycleId","id","existingControl","getElementById","destroy","__exports","__esModule"],"sources":["DataFormatUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport { ValueColor } from \"sap/m/library\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport { BookmarkParameters } from \"sap/ushell/services/BookmarkV2\";\nimport { IVisualization } from \"../interface/AppsInterface\";\nimport { TaskPriority } from \"./TaskUtils\";\n\nconst oRelativeDateTimeFormatter = DateFormat.getDateTimeInstance({\n\tstyle: \"medium\",\n\trelative: true,\n\trelativeStyle: \"short\"\n});\n\nconst oRelativeDateFormatter = DateFormat.getDateInstance({\n\trelative: true\n});\n\nexport function toPriority(oTask: { criticality: ValueColor }) {\n\tswitch (oTask.criticality) {\n\t\tcase ValueColor.Error:\n\t\t\treturn 1;\n\t\tcase ValueColor.Critical:\n\t\t\treturn 2;\n\t\tcase ValueColor.Neutral:\n\t\t\treturn 3;\n\t\tdefault:\n\t\t\treturn 99;\n\t}\n}\n\nexport function toTaskPriorityText(sPriority: TaskPriority) {\n\tswitch (sPriority) {\n\t\tcase TaskPriority.VERY_HIGH:\n\t\t\treturn \"veryHighPriority\";\n\t\tcase TaskPriority.HIGH:\n\t\t\treturn \"highPriority\";\n\t\tcase TaskPriority.MEDIUM:\n\t\t\treturn \"mediumPriority\";\n\t\tcase TaskPriority.LOW:\n\t\t\treturn \"lowPriority\";\n\t\tdefault:\n\t\t\treturn \"nonePriority\";\n\t}\n}\n\n/**\n * Formats a given date as a relative date and time string.\n *\n * @param {Date} oDate - The input date to format as a relative date and time string.\n * @returns {string} A string representing the input date in a relative date and time format.\n */\nexport function toRelativeDateTime(oDate: Date) {\n\treturn oRelativeDateTimeFormatter.format(new Date(oDate));\n}\n\n/**\n * Converts a given date to a relative date string.\n *\n * @param {Date} iTimeStamp - The input timestamp to convert to a relative date string.\n * @returns {string} A relative date string with the first letter capitalized.\n */\nexport function toRelativeDate(iTimeStamp: Date) {\n\tconst sRelativeDate = oRelativeDateFormatter.format(new Date(iTimeStamp));\n\treturn sRelativeDate.charAt(0).toUpperCase() + sRelativeDate.slice(1);\n}\n\nexport function createBookMarkData(oBookMark: IVisualization) {\n\tconst finalBookMarkData = {\n\t\ttitle: oBookMark.title || \"\",\n\t\turl: oBookMark.targetURL,\n\t\ticon: oBookMark.icon,\n\t\tinfo: oBookMark.info,\n\t\tsubtitle: oBookMark.subtitle,\n\t\tserviceUrl: oBookMark.indicatorDataSource && oBookMark.indicatorDataSource.path,\n\t\tnumberUnit: oBookMark.numberUnit,\n\t\tvizType: oBookMark.vizType,\n\t\tvizConfig: oBookMark.vizConfig,\n\t\tdataSource: oBookMark.dataSource\n\t} as unknown as BookmarkParameters;\n\treturn finalBookMarkData;\n}\n\nexport function getImportance(oDataField: unknown) {\n\tlet sImportance,\n\t\tiImportance = -1;\n\tif ((oDataField as { importance: { EnumMember: string } })[\"importance\"]) {\n\t\tsImportance = (oDataField as { importance: { EnumMember: string } })[\"importance\"].EnumMember;\n\t\tswitch (sImportance) {\n\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/High\":\n\t\t\t\tiImportance = 1;\n\t\t\t\tbreak;\n\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Medium\":\n\t\t\t\tiImportance = 2;\n\t\t\t\tbreak;\n\t\t\tcase \"com.sap.vocabularies.UI.v1.ImportanceType/Low\":\n\t\t\t\tiImportance = 3;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t} else {\n\t\tiImportance = 2; // default importance to be considered as Medium\n\t}\n\treturn iImportance;\n}\n\nexport function sortCollectionByImportance(aCollection: Array<unknown>) {\n\treturn aCollection.sort((oFirstData, oSecondData) => {\n\t\tconst iFirstDataImportance = getImportance(oFirstData);\n\t\tconst iSecondDataImportance = getImportance(oSecondData);\n\t\treturn iFirstDataImportance < iSecondDataImportance ? -1 : 1;\n\t});\n}\n\nexport function getLeanURL(targetURL: string) {\n\tconst url = targetURL;\n\tconst constructFullUrl = function (query: string, url: string) {\n\t\tconst fullURL = new URL(window.location.href);\n\t\tfullURL.search = query;\n\t\tfullURL.hash = url;\n\t\treturn fullURL.toString();\n\t};\n\n\t// append appState only in the case when targetURL starts with \"#\"\n\tif ((url || \"\").charAt(0) !== \"#\") {\n\t\treturn url;\n\t}\n\n\tlet query = window.location.search;\n\tif (!query) {\n\t\tquery = \"?sap-ushell-config=lean\";\n\t} else if (query.indexOf(\"sap-ushell-config=\") >= -1) {\n\t\t// avoid duplicates: lean FLP opens a link again\n\t\tquery += \"&sap-ushell-config=lean\";\n\t}\n\n\treturn constructFullUrl(query, url);\n}\n\n/**\n * Destroys the element if it already exist with given ID\n *\n * @private\n * @param {string} id - ID of the element.\n */\nexport function recycleId(id: string) {\n\tconst existingControl = UI5Element.getElementById(id);\n\tif (existingControl) {\n\t\texistingControl.destroy();\n\t}\n\treturn id;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,gDAAA,+FAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAKSC,EAAUJ,EAAA,oBAKVK,EAAYF,EAAA,gBAErB,MAAMG,EAA6BJ,EAAWK,oBAAoB,CACjEC,MAAO,SACPC,SAAU,KACVC,cAAe,UAGhB,MAAMC,EAAyBT,EAAWU,gBAAgB,CACzDH,SAAU,OAGJ,SAASI,EAAWC,GAC1B,OAAQA,EAAMC,aACb,KAAKX,EAAWY,MACf,OAAO,EACR,KAAKZ,EAAWa,SACf,OAAO,EACR,KAAKb,EAAWc,QACf,OAAO,EACR,QACC,OAAO,GAEV,CAEO,SAASC,EAAmBC,GAClC,OAAQA,GACP,KAAKf,EAAagB,UACjB,MAAO,mBACR,KAAKhB,EAAaiB,KACjB,MAAO,eACR,KAAKjB,EAAakB,OACjB,MAAO,iBACR,KAAKlB,EAAamB,IACjB,MAAO,cACR,QACC,MAAO,eAEV,CAQO,SAASC,EAAmBC,GAClC,OAAOpB,EAA2BqB,OAAO,IAAIC,KAAKF,GACnD,CAQO,SAASG,EAAeC,GAC9B,MAAMC,EAAgBpB,EAAuBgB,OAAO,IAAIC,KAAKE,IAC7D,OAAOC,EAAcC,OAAO,GAAGC,cAAgBF,EAAcG,MAAM,EACpE,CAEO,SAASC,EAAmBC,GAClC,MAAMC,EAAoB,CACzBC,MAAOF,EAAUE,OAAS,GAC1BC,IAAKH,EAAUI,UACfC,KAAML,EAAUK,KAChBC,KAAMN,EAAUM,KAChBC,SAAUP,EAAUO,SACpBC,WAAYR,EAAUS,qBAAuBT,EAAUS,oBAAoBC,KAC3EC,WAAYX,EAAUW,WACtBC,QAASZ,EAAUY,QACnBC,UAAWb,EAAUa,UACrBC,WAAYd,EAAUc,YAEvB,OAAOb,CACR,CAEO,SAASc,EAAcC,GAC7B,IAAIC,EACHC,GAAe,EAChB,GAAKF,EAAsD,cAAe,CACzEC,EAAeD,EAAsD,cAAcG,WACnF,OAAQF,GACP,IAAK,iDACJC,EAAc,EACd,MACD,IAAK,mDACJA,EAAc,EACd,MACD,IAAK,gDACJA,EAAc,EACd,MACD,QACC,MAEH,KAAO,CACNA,EAAc,CACf,CACA,OAAOA,CACR,CAEO,SAASE,EAA2BC,GAC1C,OAAOA,EAAYC,KAAK,CAACC,EAAYC,KACpC,MAAMC,EAAuBV,EAAcQ,GAC3C,MAAMG,EAAwBX,EAAcS,GAC5C,OAAOC,EAAuBC,GAAyB,EAAI,GAE7D,CAEO,SAASC,EAAWvB,GAC1B,MAAMD,EAAMC,EACZ,MAAMwB,EAAmB,SAAUC,EAAe1B,GACjD,MAAM2B,EAAU,IAAIC,IAAIC,OAAOC,SAASC,MACxCJ,EAAQK,OAASN,EACjBC,EAAQM,KAAOjC,EACf,OAAO2B,EAAQO,UAChB,EAGA,IAAKlC,GAAO,IAAIP,OAAO,KAAO,IAAK,CAClC,OAAOO,CACR,CAEA,IAAI0B,EAAQG,OAAOC,SAASE,OAC5B,IAAKN,EAAO,CACXA,EAAQ,yBACT,MAAO,GAAIA,EAAMS,QAAQ,wBAA0B,EAAG,CAErDT,GAAS,yBACV,CAEA,OAAOD,EAAiBC,EAAO1B,EAChC,CAQO,SAASoC,EAAUC,GACzB,MAAMC,EAAkB5E,EAAW6E,eAAeF,GAClD,GAAIC,EAAiB,CACpBA,EAAgBE,SACjB,CACA,OAAOH,CACR,CAAC,IAAAI,EAAA,CAAAC,WAAA,MAAAD,EAAAnE,aAAAmE,EAAA7D,qBAAA6D,EAAAvD,qBAAAuD,EAAAnD,iBAAAmD,EAAA7C,qBAAA6C,EAAA7B,gBAAA6B,EAAAxB,6BAAAwB,EAAAjB,aAAAiB,EAAAL,YAAA,OAAAK,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":366,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","MessageBox","sap_m_library","BaseObject","Element","Fragment","sap_ui_core_library","JSONModel","ODataModel","ResourceModel","___DataFormatUtils","___TaskUtils","_catch","body","recover","result","e","then","ButtonType","ValueState","toTaskPriorityText","TaskPriority","ReasonRequired","decideButtonNature","decisionOption","Nature","toUpperCase","Accept","Reject","Neutral","Default","getActionButton","i18nBundle","task","baseUrl","text","DecisionText","type","pressHandler","DecisionDialog","decisionDialogMethod","bind","getIconFrameBadge","priority","iconBadge","VERY_HIGH","HIGH","getIconFrameBadgeValueState","Error","None","extend","constructor","_constructor","refreshView","BaseObject.prototype.constructor.call","this","handleReasonOptionChange","_handleReasonOptionChange","event","comboBox","getSource","comboBoxValue","getValue","selectedItem","getSelectedItem","confirmationDialogPromise","confirmationDialog","comboBoxRequired","confirmationDialogModel","getData","dialogSettings","reasonOptionsSettings","required","setTooltip","setValueState","getBeginButton","setEnabled","_toggleSubmitButtonState","catch","error","message","String","dialogData","noteRequired","noteMandatory","noteFilled","getElementById","trim","length","comboBoxFilled","noteFlag","comboBoxFlag","setProperty","readReasonOptions","_readReasonOptions","origin","instance","decisionKey","onSuccess","onError","sPath","oUrlParams","SAP__Origin","InstanceID","DecisionKey","fnSuccess","oData","results","fnError","oError","dataServiceModel","read","urlParameters","success","groupId","loadReasonOptions","_loadReasonOptions","_this","metaModel","getMetaModel","Promise","resolve","loaded","getODataFunctionImport","reject","reasonOptions","show","Required","Optional","openDecisionDialog","_openDecisionDialog","submitButtonEnabled","load","name","controller","confirmationDialogFragment","i18nModel","bundle","priorityText","addStyleClass","Priority","setModel","open","confirmActionHandler","_confirmActionHandler","getModel","getProperty","reasonOptionSelectedItem","reasonCode","getKey","note","showNote","handleCancel","_handleCancel","_bClosedViaButton","close","cancelActionHandler","refresh","handleAfterClose","_handleAfterClose","destroy","createODataRequest","_createODataRequest","path","urlParams","settings","data","response","info","getText","details","parameters","responseText","fireRequestFailed","create","sendAction","_sendAction","importName","decision","reasonOptionCode","Comments","ReasonCode","setBusy","JSON","parse","value","showDecisionDialog","_showDecisionDialog","_this2","TaskTitle","title","decisionDialogSettings","CommentMandatory","question","badgeIcon","badgeValueState","confirmButtonLabel","showFeedbackMessage","textAreaLabel","reasonOptionKey","_temp","metadataLoaded","reasonOptionsLoadedPromise","noneText","unshift","Name","Code","dialogUtils","getTaskActions","multiSelectDecisionResults","actions","displayedTypes","Set","multiSelectDecisionOptions","TaskDefinitionID","has","push","add","action"],"sources":["DecisionDialog.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport ComboBox from \"sap/m/ComboBox\";\nimport Dialog from \"sap/m/Dialog\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Text from \"sap/m/Text\";\nimport TextArea from \"sap/m/TextArea\";\nimport { ButtonType } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport { Task } from \"../TaskPanel\";\nimport { Response } from \"../ToDoPanel\";\nimport { toTaskPriorityText } from \"./DataFormatUtils\";\nimport { TaskPriority } from \"./TaskUtils\";\n\nenum ReasonRequired {\n\tRequired = \"REQUIRED\",\n\tOptional = \"OPTIONAL\"\n}\n\nexport interface DecisionOption {\n\tSAP__Origin: string;\n\tInstanceID: string;\n\tNature: ButtonType;\n\tDecisionKey: string;\n\tCommentMandatory: boolean;\n\tDecisionText: string;\n\tReasonRequired: ReasonRequired;\n}\n\ninterface ReasonOption {\n\t[key: string]: string;\n}\n\ninterface ReasonOptionSettings {\n\tshow: boolean;\n\trequired: boolean;\n\treasonOptions?: ReasonOption[];\n}\n\ninterface DecisionDialogSettings {\n\tbadgeIcon: string;\n\tbadgeValueState: string;\n\tshowNote: boolean;\n\tnoteMandatory: boolean;\n\tquestion: string;\n\ttitle: string;\n\tconfirmButtonLabel: string;\n\ttextAreaLabel: string;\n\tpriorityText: string;\n\tshowFeedbackMessage: boolean;\n\treasonOptionsSettings: ReasonOptionSettings;\n\tconfirmActionHandler: (note: string, reasonCode: string) => void;\n\tcancelActionHandler: () => void;\n}\n\ninterface IDecisionDialog extends Dialog {\n\t_bClosedViaButton: boolean;\n}\n\ninterface DialogSettings {\n\tdialogSettings: DecisionDialogSettings;\n\tsubmitButtonEnabled: boolean;\n}\n\ninterface ODataError {\n\tresponse: {\n\t\tbody: string;\n\t};\n\tresponseText: string;\n\terror: {\n\t\tmessage: {\n\t\t\tvalue: string;\n\t\t};\n\t};\n}\n\ninterface MultiSelectDecisionResult {\n\t[key: string]: DecisionOption[];\n}\n\nexport interface ActionButton {\n\ttype: ButtonType;\n\ttext: string;\n\tpressHandler: (refresh: Refresh) => Promise<void> | void;\n}\n\ninterface Refresh {\n\t(forceRefresh: boolean): void;\n}\n\nconst decideButtonNature = (decisionOption: DecisionOption): ButtonType => {\n\tswitch (decisionOption.Nature?.toUpperCase()) {\n\t\tcase \"POSITIVE\":\n\t\t\treturn ButtonType.Accept;\n\t\tcase \"NEGATIVE\":\n\t\t\treturn ButtonType.Reject;\n\t\tcase \"NEUTRAL\":\n\t\t\treturn ButtonType.Neutral;\n\t\tdefault:\n\t\t\treturn ButtonType.Default;\n\t}\n};\n\nconst getActionButton = (decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string): ActionButton => {\n\treturn {\n\t\ttext: decisionOption.DecisionText,\n\t\ttype: decideButtonNature(decisionOption) || ButtonType.Default,\n\t\tpressHandler: DecisionDialog.decisionDialogMethod.bind(null, decisionOption, i18nBundle, task, baseUrl)\n\t};\n};\n\n/**\n * Gets the icon frame badge based on the task priority.\n *\n * This method returns a specific badge string for tasks with high or very high priority.\n * For tasks with lower priorities, it returns an empty string.\n *\n * @param {TaskPriority} priority - The priority level of the task.\n * @returns {string} The badge string for high priority tasks, or an empty string for others.\n */\nexport function getIconFrameBadge(priority: TaskPriority): string {\n\tlet iconBadge = \"\";\n\tif (priority === TaskPriority.VERY_HIGH || priority === TaskPriority.HIGH) {\n\t\ticonBadge = \"sap-icon://high-priority\";\n\t}\n\n\treturn iconBadge;\n}\n\n/**\n * Converts a priority string to a Priority enum value.\n * If the priority string is not recognized, it returns the default value \"None\".\n *\n * @param {TaskPriority} priority - The priority string to convert.\n * @returns {ValueState} The corresponding Priority enum value.\n */\nexport function getIconFrameBadgeValueState(priority: TaskPriority): ValueState {\n\treturn priority === TaskPriority.VERY_HIGH || priority === TaskPriority.HIGH ? ValueState.Error : ValueState.None;\n}\n\n/**\n *\n * Helper class for Decision Dialog handling.\n *\n * @extends BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.utils.DecisionDialog\n */\nexport default class DecisionDialog extends BaseObject {\n\tprivate decisionOption: DecisionOption;\n\tprivate i18nBundle: ResourceBundle;\n\tprivate refreshView: Refresh;\n\tprivate task: Task;\n\tprivate confirmationDialogPromise!: Promise<IDecisionDialog>;\n\tprivate confirmationDialogModel!: JSONModel;\n\tprivate dataServiceModel!: ODataModel;\n\tprivate baseUrl: string;\n\n\tconstructor(decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string, refreshView: Refresh) {\n\t\tsuper();\n\t\tthis.decisionOption = decisionOption;\n\t\tthis.i18nBundle = i18nBundle;\n\t\tthis.baseUrl = baseUrl;\n\t\tthis.refreshView = refreshView;\n\t\tthis.task = task;\n\t}\n\n\t/**\n\t * Handles the change event of the reason option ComboBox.\n\t *\n\t * @private\n\t * @param {Event} event - The event object.\n\t * @returns {void}\n\t */\n\tpublic handleReasonOptionChange(event: Event): void {\n\t\tconst comboBox = event.getSource<ComboBox>();\n\t\tconst comboBoxValue = comboBox.getValue();\n\t\tconst selectedItem = comboBox.getSelectedItem();\n\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst comboBoxRequired = (this.confirmationDialogModel.getData() as DialogSettings).dialogSettings.reasonOptionsSettings\n\t\t\t\t\t.required;\n\t\t\t\t// Set the tooltip useful when the currently selected item's text is truncated\n\t\t\t\tcomboBox.setTooltip(comboBoxValue);\n\t\t\t\tcomboBox.setValueState(selectedItem === null ? ValueState.Error : ValueState.None);\n\n\t\t\t\t// Special case where if reason options is optional and all\n\t\t\t\t// the text is deleted value state should be none (corner case)\n\t\t\t\tif (!comboBoxRequired && comboBoxValue === \"\") {\n\t\t\t\t\tcomboBox.setValueState(ValueState.None);\n\t\t\t\t}\n\n\t\t\t\t// Special case where if value in combo box gets partially deleted by the user\n\t\t\t\t// there is no selection yet button is not disabled\n\t\t\t\tif (!comboBoxRequired && comboBoxValue !== \"\" && selectedItem === null) {\n\t\t\t\t\tconfirmationDialog.getBeginButton().setEnabled(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Update the submit button state (disabled / enabled)\n\t\t\t\tthis._toggleSubmitButtonState();\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Toggles the state of the submit button based on the dialog settings.\n\t *\n\t * @private\n\t * @returns {void}\n\t */\n\tpublic _toggleSubmitButtonState(): void {\n\t\tconst dialogData = this.confirmationDialogModel.getData() as DialogSettings;\n\t\tconst noteRequired = dialogData.dialogSettings.noteMandatory;\n\n\t\tconst noteFilled = (Element.getElementById(\"confirmDialogTextarea\") as TextArea).getValue().trim().length > 0;\n\t\tconst comboBoxRequired = dialogData.dialogSettings.reasonOptionsSettings.required;\n\n\t\tconst comboBoxFilled = (Element.getElementById(\"reasonOptionsSelect\") as ComboBox).getSelectedItem() !== null;\n\t\tconst noteFlag = (noteRequired && noteFilled) || !noteRequired;\n\t\tconst comboBoxFlag = (comboBoxRequired && comboBoxFilled) || !comboBoxRequired;\n\n\t\tthis.confirmationDialogModel.setProperty(\"/submitButtonEnabled\", noteFlag && comboBoxFlag);\n\t}\n\n\t/**\n\t * Reads reason options from the backend.\n\t *\n\t * @private\n\t * @param {string} origin - The SAP origin.\n\t * @param {string} instance - The instance ID.\n\t * @param {string} decisionKey - The decision key.\n\t * @param {Function} onSuccess - The success callback function.\n\t * @param {Function} onError - The error callback function.\n\t * @returns {void}\n\t */\n\tprivate readReasonOptions(\n\t\torigin: string,\n\t\tinstance: string,\n\t\tdecisionKey: string,\n\t\tonSuccess: (arg: ReasonOption[]) => void,\n\t\tonError: (arg: unknown) => void\n\t): void {\n\t\tconst sPath = \"/ReasonOptions\";\n\t\tconst oUrlParams = {\n\t\t\tSAP__Origin: `'${origin}'`,\n\t\t\tInstanceID: `'${instance}'`,\n\t\t\tDecisionKey: `'${decisionKey}'`\n\t\t};\n\t\tconst fnSuccess = (oData: Response) => {\n\t\t\tif (oData && oData.results) {\n\t\t\t\tif (onSuccess) {\n\t\t\t\t\tonSuccess(oData.results as ReasonOption[]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst fnError = (oError: unknown) => {\n\t\t\tif (onError) {\n\t\t\t\tonError(oError);\n\t\t\t}\n\t\t};\n\n\t\tthis.dataServiceModel.read(sPath, {\n\t\t\turlParameters: oUrlParams,\n\t\t\tsuccess: fnSuccess,\n\t\t\terror: fnError,\n\t\t\tgroupId: \"reasonOptions\"\n\t\t});\n\t}\n\n\t/**\n\t * Load the reason options which are part of this decision option.\n\t *\n\t * @private\n\t * @returns {Promise<ReasonOptionSettings | null>} - containing resolved array of reason options\n\t */\n\tprivate async loadReasonOptions(): Promise<ReasonOptionSettings | null> {\n\t\tconst metaModel = this.dataServiceModel.getMetaModel();\n\t\tawait metaModel.loaded();\n\n\t\tif (metaModel.getODataFunctionImport(\"ReasonOptions\")) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.readReasonOptions(\n\t\t\t\t\tthis.decisionOption.SAP__Origin,\n\t\t\t\t\tthis.decisionOption.InstanceID,\n\t\t\t\t\tthis.decisionOption.DecisionKey,\n\t\t\t\t\t(reasonOptions: ReasonOption[]) => {\n\t\t\t\t\t\tconst reasonOptionsSettings = {\n\t\t\t\t\t\t\tshow:\n\t\t\t\t\t\t\t\t(this.decisionOption.ReasonRequired === ReasonRequired.Required ||\n\t\t\t\t\t\t\t\t\tthis.decisionOption.ReasonRequired === ReasonRequired.Optional) &&\n\t\t\t\t\t\t\t\treasonOptions.length > 0,\n\t\t\t\t\t\t\trequired: this.decisionOption.ReasonRequired === ReasonRequired.Required,\n\t\t\t\t\t\t\treasonOptions: reasonOptions\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tresolve(reasonOptionsSettings);\n\t\t\t\t\t},\n\t\t\t\t\t(oError) => {\n\t\t\t\t\t\treject(oError as Error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Open the decision dialog for the inbox task selected.\n\t *\n\t * @private\n\t * @param {DecisionDialogSettings} dialogSettings - contains the settings for the decision dialog\n\t */\n\tprivate openDecisionDialog(dialogSettings: DecisionDialogSettings) {\n\t\tthis.confirmationDialogModel = new JSONModel({\n\t\t\tsubmitButtonEnabled: !dialogSettings?.noteMandatory && !dialogSettings?.reasonOptionsSettings?.required,\n\t\t\tdialogSettings\n\t\t});\n\n\t\tthis.confirmationDialogPromise = Fragment.load({\n\t\t\ttype: \"XML\",\n\t\t\tname: \"sap.cux.home.utils.fragment.showDecisionDialog\",\n\t\t\tcontroller: this\n\t\t})\n\t\t\t.then((confirmationDialogFragment: Control | Control[]) => {\n\t\t\t\tconst confirmationDialog = confirmationDialogFragment as IDecisionDialog;\n\t\t\t\tconst i18nModel = new ResourceModel({ bundle: this.i18nBundle });\n\t\t\t\tconst priorityText = Element.getElementById(\"task-priority-text\") as Text;\n\t\t\t\tpriorityText.addStyleClass(this.task.Priority);\n\n\t\t\t\tconfirmationDialog.setModel(this.confirmationDialogModel);\n\t\t\t\tconfirmationDialog.setModel(i18nModel, \"i18n\");\n\t\t\t\tconfirmationDialog.open();\n\t\t\t\treturn confirmationDialog;\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t}) as Promise<IDecisionDialog>;\n\t}\n\n\t/**\n\t * Submit handler for the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic confirmActionHandler(): void {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\tconst reasonOptionsSettings = dialogSettings.reasonOptionsSettings;\n\n\t\t\t\t// Get the reason option value from the combo box\n\t\t\t\tconst reasonOptionSelectedItem = reasonOptionsSettings.show\n\t\t\t\t\t? (Element.getElementById(\"reasonOptionsSelect\") as ComboBox)?.getSelectedItem()\n\t\t\t\t\t: null;\n\t\t\t\tconst reasonCode = (\n\t\t\t\t\treasonOptionSelectedItem !== null && reasonOptionSelectedItem?.getKey() !== \"defaultSelectedKey\"\n\t\t\t\t\t\t? reasonOptionSelectedItem.getKey()\n\t\t\t\t\t\t: null\n\t\t\t\t) as string;\n\n\t\t\t\t// Get the note value from the text area\n\t\t\t\tconst note = (\n\t\t\t\t\tdialogSettings.showNote ? (Element.getElementById(\"confirmDialogTextarea\") as TextArea)?.getValue() : null\n\t\t\t\t) as string;\n\t\t\t\tdialogSettings.confirmActionHandler(note, reasonCode);\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Handler for cancel action in the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic handleCancel() {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\tconfirmationDialog._bClosedViaButton = true;\n\t\t\t\tconfirmationDialog.close();\n\t\t\t\tdialogSettings.cancelActionHandler();\n\n\t\t\t\tif (this.confirmationDialogModel.getProperty(\"/dialogSettings/showFeedbackMessage\")) {\n\t\t\t\t\tthis.dataServiceModel.refresh();\n\t\t\t\t\tthis.refreshView(true);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * After close dialog handler in the decision dialog\n\t *\n\t * @private\n\t */\n\tpublic handleAfterClose() {\n\t\tthis.confirmationDialogPromise\n\t\t\t.then((confirmationDialog) => {\n\t\t\t\tif (confirmationDialog._bClosedViaButton) {\n\t\t\t\t\t// dialog is closed via button\n\t\t\t\t\tconfirmationDialog._bClosedViaButton = false;\n\t\t\t\t} else {\n\t\t\t\t\t// dialog is closed by other means (e.g. pressing Escape)\n\t\t\t\t\tconst dialogSettings = (confirmationDialog.getModel()?.getProperty(\"/\") as DialogSettings).dialogSettings;\n\t\t\t\t\tdialogSettings.cancelActionHandler();\n\t\t\t\t}\n\t\t\t\tconfirmationDialog.destroy();\n\t\t\t})\n\t\t\t.catch((error: unknown) => {\n\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t});\n\t}\n\n\t/**\n\t * Creates an OData request with the specified parameters.\n\t *\n\t * @private\n\t * @param {string} path - The path of the OData request.\n\t * @param {Record<string, string>} urlParams - The URL parameters of the request.\n\t * @param {Function} fnSuccess - The success callback function.\n\t * @param {Function} fnError - The error callback function.\n\t * @returns {void}\n\t */\n\tprivate createODataRequest(\n\t\tpath: string,\n\t\turlParams: Record<string, string>,\n\t\tfnSuccess: (data: unknown, response: unknown) => void,\n\t\tfnError: (error: ODataError) => void\n\t): void {\n\t\tconst settings = {\n\t\t\tsuccess: (data: unknown, response: unknown) => {\n\t\t\t\tLog.info(\"successful action\");\n\t\t\t\tfnSuccess?.(data, response);\n\t\t\t},\n\t\t\terror: (error: ODataError) => {\n\t\t\t\tconst message = this.i18nBundle.getText(\"DataManager.HTTPRequestFailed\");\n\t\t\t\tconst details = error.response ? error.response.body : null;\n\t\t\t\tconst parameters = {\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tresponseText: details as string\n\t\t\t\t};\n\t\t\t\tthis.dataServiceModel.fireRequestFailed(parameters);\n\t\t\t\tfnError(error);\n\t\t\t},\n\t\t\turlParameters: urlParams\n\t\t};\n\n\t\tthis.dataServiceModel.create(path, {}, settings);\n\t}\n\n\t/**\n\t * Sends an action to the backend.\n\t *\n\t * @private\n\t * @param {string} importName - The name of the function import or action.\n\t * @param {DecisionOption} decision - The decision option.\n\t * @param {string} note - The note to be included with the action.\n\t * @param {string} reasonOptionCode - The reason option code.\n\t * @param {Task} task - The task associated with the action.\n\t * @returns {void}\n\t */\n\tprivate sendAction(importName: string, decision: DecisionOption, note: string, reasonOptionCode: string, task: Task): void {\n\t\tconst urlParams: Record<string, string> = {\n\t\t\tSAP__Origin: `'${task.SAP__Origin}'`,\n\t\t\tInstanceID: `'${task.InstanceID}'`\n\t\t};\n\n\t\tif (decision.DecisionKey) {\n\t\t\turlParams.DecisionKey = `'${decision.DecisionKey}'`;\n\t\t}\n\n\t\tif (note?.length > 0) {\n\t\t\turlParams.Comments = `'${note}'`;\n\t\t}\n\n\t\tif (reasonOptionCode) {\n\t\t\turlParams.ReasonCode = `'${reasonOptionCode}'`;\n\t\t}\n\n\t\tconst onSuccess = () => {\n\t\t\tthis.confirmationDialogPromise\n\t\t\t\t.then((confirmationDialog) => {\n\t\t\t\t\tconfirmationDialog.setBusy(false);\n\t\t\t\t\tthis.confirmationDialogModel.setProperty(\"/dialogSettings/showFeedbackMessage\", true);\n\t\t\t\t})\n\t\t\t\t.catch((error: unknown) => {\n\t\t\t\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\t\t\t});\n\t\t};\n\n\t\tconst onError = (error: ODataError) => {\n\t\t\tif (error.responseText) {\n\t\t\t\tconst oError = JSON.parse(error.responseText) as ODataError;\n\t\t\t\tMessageBox.error(oError?.error?.message?.value);\n\t\t\t}\n\t\t\tthis.handleCancel();\n\t\t};\n\n\t\tthis.createODataRequest(`/${importName}`, urlParams, onSuccess, onError);\n\t}\n\n\t/**\n\t * Shows the decision dialog.\n\t *\n\t * @private\n\t * @returns {Promise<void>}\n\t */\n\tprivate async showDecisionDialog(): Promise<void> {\n\t\tthis.dataServiceModel = this.dataServiceModel || new ODataModel(this.baseUrl);\n\t\tconst { TaskTitle: title, Priority } = this.task;\n\t\tconst decisionDialogSettings: DecisionDialogSettings = {\n\t\t\tnoteMandatory: this.decisionOption.CommentMandatory,\n\t\t\tquestion: this.i18nBundle.getText(\"XMSG_DECISION_QUESTION\", [this.decisionOption.DecisionText]) as string,\n\t\t\ttitle,\n\t\t\tbadgeIcon: getIconFrameBadge(Priority),\n\t\t\tbadgeValueState: getIconFrameBadgeValueState(Priority),\n\t\t\tpriorityText: this.i18nBundle.getText(toTaskPriorityText(Priority)) as string,\n\t\t\tconfirmButtonLabel: this.i18nBundle.getText(\"XBUT_SUBMIT\") as string,\n\t\t\tshowNote: true,\n\t\t\tshowFeedbackMessage: false,\n\t\t\treasonOptionsSettings: {\n\t\t\t\tshow: false,\n\t\t\t\trequired: false\n\t\t\t},\n\t\t\ttextAreaLabel: this.i18nBundle.getText(\"XFLD_TextArea_Decision\") as string,\n\t\t\tconfirmActionHandler: (note, reasonOptionKey) => {\n\t\t\t\tthis.sendAction(\"Decision\", this.decisionOption, note, reasonOptionKey, this.task);\n\t\t\t},\n\t\t\tcancelActionHandler: () => {}\n\t\t};\n\n\t\ttry {\n\t\t\tawait this.dataServiceModel.metadataLoaded();\n\t\t\tconst reasonOptionsLoadedPromise =\n\t\t\t\tthis.decisionOption?.ReasonRequired === ReasonRequired.Required ||\n\t\t\t\tthis.decisionOption?.ReasonRequired === ReasonRequired.Optional\n\t\t\t\t\t? this.loadReasonOptions()\n\t\t\t\t\t: null;\n\n\t\t\t// reason options won't be loaded\n\t\t\tif (!reasonOptionsLoadedPromise) {\n\t\t\t\tthis.openDecisionDialog(decisionDialogSettings);\n\t\t\t} else {\n\t\t\t\t// based on reasonOptionsLoadedPromise, reason options will be loaded\n\t\t\t\treasonOptionsLoadedPromise\n\t\t\t\t\t.then((reasonOptionsSettings: ReasonOptionSettings | null) => {\n\t\t\t\t\t\tif (reasonOptionsSettings !== null) {\n\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings = reasonOptionsSettings;\n\n\t\t\t\t\t\t\t// In case of optional reason option combo box, a (None) option is created as to have a default selection\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings?.reasonOptions &&\n\t\t\t\t\t\t\t\t!decisionDialogSettings.reasonOptionsSettings?.required\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst noneText = `(${this.i18nBundle.getText(\"XSEL_DECISION_REASON_NONE_OPTION\")})`;\n\t\t\t\t\t\t\t\tdecisionDialogSettings.reasonOptionsSettings.reasonOptions.unshift({\n\t\t\t\t\t\t\t\t\tName: noneText,\n\t\t\t\t\t\t\t\t\tCode: \"defaultSelectedKey\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.openDecisionDialog(decisionDialogSettings);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tLog.error(\"Could not load the reason options properly\");\n\t\t\t\t\t});\n\t\t\t}\n\t\t} catch {\n\t\t\tLog.error(\"Could not load metadata model for inbox\");\n\t\t}\n\t}\n\n\t/**\n\t * Initiates the decisionDialog\n\t *\n\t * @static\n\t * @param {DecisionOption} decisionOption - Decision Option\n\t * @param {ResourceModel} i18nBundle - The resource bundle for internationalization.\n\t * @param {Task} task - Task Instance\n\t * @param {Refresh} refresh - Refresh function\n\t */\n\tstatic decisionDialogMethod(decisionOption: DecisionOption, i18nBundle: ResourceBundle, task: Task, baseUrl: string, refresh: Refresh) {\n\t\tconst dialogUtils = new DecisionDialog(decisionOption, i18nBundle, task, baseUrl, refresh);\n\t\treturn dialogUtils.showDecisionDialog();\n\t}\n\n\t/**\n\t * Retrieves task actions based on the task and multi-select decision results.\n\t *\n\t * @static\n\t * @param {Task} task - The task for which actions are retrieved.\n\t * @param {string} baseUrl - The base URL.\n\t * @param {MultiSelectDecisionResult} multiSelectDecisionResults - The multi-select decision results.\n\t * @param {ResourceBundle} i18nBundle - The resource bundle for internationalization.\n\t * @returns {ActionButton[]} An array of action buttons.\n\t */\n\tstatic getTaskActions(\n\t\ttask: Task,\n\t\tbaseUrl: string,\n\t\tmultiSelectDecisionResults: MultiSelectDecisionResult,\n\t\ti18nBundle: ResourceBundle\n\t): ActionButton[] {\n\t\tconst actions: ActionButton[] = [];\n\t\tconst displayedTypes = new Set<string>();\n\t\tconst multiSelectDecisionOptions = multiSelectDecisionResults[task.SAP__Origin + task.TaskDefinitionID];\n\n\t\tif (multiSelectDecisionOptions) {\n\t\t\tfor (const decisionOption of multiSelectDecisionOptions) {\n\t\t\t\tif (!displayedTypes.has(decisionOption.Nature) || !decisionOption.Nature) {\n\t\t\t\t\tactions.push(getActionButton(decisionOption, i18nBundle, task, baseUrl));\n\t\t\t\t\tdisplayedTypes.add(decisionOption.Nature);\n\t\t\t\t} else {\n\t\t\t\t\tconst action = getActionButton(decisionOption, i18nBundle, task, baseUrl);\n\t\t\t\t\taction.type = ButtonType.Default;\n\t\t\t\t\tactions.push(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":371,"column":0},"map":{"version":3,"names":["sap","ui","define","Device","DeviceWidth","Mobile","Tablet","Desktop","LargeDesktop","DeviceType","calculateDeviceType","width","resize","system","phone","XLargeDesktop","fetchElementProperties","domRef","properties","oProperties","forEach","property","parseFloat","window","getComputedStyle","getPropertyValue","calculateCardWidth","cardLayoutConfig","gap","skipDeviceCheck","peekWidth","totalCards","Math","max","minWidth","min","containerWidth","maxWidth","mainCardWidth","cardCountToUse","totalGap","twoCardWidth","possibleCardCount","cardWidth","__exports","__esModule"],"sources":["Device.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Device from \"sap/ui/Device\";\n\ninterface CardLayoutConfig {\n\tgap: number;\n\tcontainerWidth: number;\n\ttotalCards: number;\n\tminWidth: number;\n\tmaxWidth: number;\n\tskipDeviceCheck?: boolean;\n}\n\n/** Device widths in px */\nconst DeviceWidth = {\n\tMobile: 600,\n\tTablet: 1024,\n\tDesktop: 1135,\n\tLargeDesktop: 1920\n};\n\nexport enum DeviceType {\n\tMobile = \"Mobile\",\n\tTablet = \"Tablet\",\n\tDesktop = \"Desktop\",\n\tLargeDesktop = \"LargeDesktop\",\n\tXLargeDesktop = \"XLargeDesktop\"\n}\n\n/**\n * Calculates the device type based on the given width.\n *\n * @param {number} [width=Device.resize.width] - The width of the device. Defaults to the current device width.\n * @returns {DeviceType} - The calculated device type.\n */\nexport function calculateDeviceType(width: number = Device.resize.width): DeviceType {\n\tif (width < DeviceWidth.Mobile || Device.system.phone) {\n\t\treturn DeviceType.Mobile;\n\t} else if (width < DeviceWidth.Tablet) {\n\t\treturn DeviceType.Tablet;\n\t} else if (width < DeviceWidth.Desktop) {\n\t\treturn DeviceType.Desktop;\n\t} else if (width < DeviceWidth.LargeDesktop) {\n\t\treturn DeviceType.LargeDesktop;\n\t} else {\n\t\treturn DeviceType.XLargeDesktop;\n\t}\n}\n\n/**\n * Fetches the specified CSS properties of a given DOM element and returns them as a record.\n *\n * @param {Element} domRef - The DOM element from which to fetch the properties.\n * @param {string[]} properties - An array of property names to fetch.\n * @returns {Record<string, number>} - A record where the keys are property names and the values are the corresponding property values as numbers.\n */\nexport function fetchElementProperties(domRef: Element, properties: string[]): Record<string, number> {\n\tconst oProperties: Record<string, number> = {};\n\tproperties.forEach((property) => {\n\t\toProperties[property] = parseFloat(window.getComputedStyle(domRef).getPropertyValue(property));\n\t});\n\n\treturn oProperties;\n}\n\n/**\n * Calculates the card width based on the available width and certain constraints.\n *\n * @param {CardLayoutConfig} cardLayoutConfig - Card layout configuration containing container width, no. of cards, min and max width.\n * @returns {number} The calculated card width within specified constraints.\n */\nexport function calculateCardWidth(cardLayoutConfig: CardLayoutConfig): number {\n\tconst gap = cardLayoutConfig.gap;\n\n\tif (calculateDeviceType() === DeviceType.Mobile && !cardLayoutConfig.skipDeviceCheck) {\n\t\tconst peekWidth = 76;\n\t\tif (cardLayoutConfig.totalCards === 1) {\n\t\t\t// Single card: full width, constrained\n\t\t\treturn Math.max(cardLayoutConfig.minWidth, Math.min(cardLayoutConfig.containerWidth, cardLayoutConfig.maxWidth));\n\t\t} else {\n\t\t\t// Calculate width of the first card, reserving space for the peek of the second\n\t\t\tconst mainCardWidth = cardLayoutConfig.containerWidth - peekWidth;\n\t\t\t// Clamp to min/max width\n\t\t\treturn Math.max(cardLayoutConfig.minWidth, Math.min(mainCardWidth, cardLayoutConfig.maxWidth));\n\t\t}\n\t}\n\n\tlet cardCountToUse: number;\n\n\t// Tablet mode: width between 600 and 1023\n\tif (calculateDeviceType() === DeviceType.Tablet && cardLayoutConfig.totalCards > 1 && !cardLayoutConfig.skipDeviceCheck) {\n\t\tconst totalGap = gap; // gap between 2 cards\n\t\tconst twoCardWidth = (cardLayoutConfig.containerWidth - totalGap) / 2;\n\n\t\tif (twoCardWidth >= cardLayoutConfig.minWidth && twoCardWidth <= cardLayoutConfig.maxWidth) {\n\t\t\tcardCountToUse = 2;\n\t\t} else {\n\t\t\tcardCountToUse = 1;\n\t\t}\n\t} else {\n\t\t// Step 1: How many cards *can* fit based on minWidth\n\t\tlet possibleCardCount = 1;\n\t\twhile (cardLayoutConfig.containerWidth / possibleCardCount >= cardLayoutConfig.minWidth + gap) {\n\t\t\tpossibleCardCount++;\n\t\t}\n\t\tpossibleCardCount--; // Last valid value\n\t\t// Step 2: If we have fewer cards than we *can* fit, stretch them\n\t\tcardCountToUse = cardLayoutConfig.skipDeviceCheck\n\t\t\t? Math.min(possibleCardCount, cardLayoutConfig.totalCards)\n\t\t\t: Math.max(Math.min(possibleCardCount, cardLayoutConfig.totalCards), Math.min(cardLayoutConfig.totalCards, 3));\n\t}\n\tif (cardCountToUse <= 0) return cardLayoutConfig.minWidth;\n\tconst totalGap = (cardCountToUse - 1) * gap;\n\tconst cardWidth = (cardLayoutConfig.containerWidth - totalGap) / cardCountToUse;\n\treturn Math.min(Math.max(cardWidth, cardLayoutConfig.minWidth), cardLayoutConfig.maxWidth);\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,uCAAA,2BAAAC,GAAA,aAiBA,MAAMC,EAAc,CACnBC,OAAQ,IACRC,OAAQ,KACRC,QAAS,KACTC,aAAc,MACb,IAEUC,EAAU,SAAVA,KAAU,mBAAVA,EAAU,mBAAVA,EAAU,qBAAVA,EAAU,+BAAVA,EAAU,wCAAVA,CAAU,EAAVA,GAAU,IAcf,SAASC,EAAoBC,EAAgBR,EAAOS,OAAOD,OACjE,GAAIA,EAAQP,EAAYC,QAAUF,EAAOU,OAAOC,MAAO,CACtD,OAAOL,EAAWJ,MACnB,MAAO,GAAIM,EAAQP,EAAYE,OAAQ,CACtC,OAAOG,EAAWH,MACnB,MAAO,GAAIK,EAAQP,EAAYG,QAAS,CACvC,OAAOE,EAAWF,OACnB,MAAO,GAAII,EAAQP,EAAYI,aAAc,CAC5C,OAAOC,EAAWD,YACnB,KAAO,CACN,OAAOC,EAAWM,aACnB,CACD,CASO,SAASC,EAAuBC,EAAiBC,GACvD,MAAMC,EAAsC,CAAC,EAC7CD,EAAWE,QAASC,IACnBF,EAAYE,GAAYC,WAAWC,OAAOC,iBAAiBP,GAAQQ,iBAAiBJ,MAGrF,OAAOF,CACR,CAQO,SAASO,EAAmBC,GAClC,MAAMC,EAAMD,EAAiBC,IAE7B,GAAIlB,MAA0BD,EAAWJ,SAAWsB,EAAiBE,gBAAiB,CACrF,MAAMC,EAAY,GAClB,GAAIH,EAAiBI,aAAe,EAAG,CAEtC,OAAOC,KAAKC,IAAIN,EAAiBO,SAAUF,KAAKG,IAAIR,EAAiBS,eAAgBT,EAAiBU,UACvG,KAAO,CAEN,MAAMC,EAAgBX,EAAiBS,eAAiBN,EAExD,OAAOE,KAAKC,IAAIN,EAAiBO,SAAUF,KAAKG,IAAIG,EAAeX,EAAiBU,UACrF,CACD,CAEA,IAAIE,EAGJ,GAAI7B,MAA0BD,EAAWH,QAAUqB,EAAiBI,WAAa,IAAMJ,EAAiBE,gBAAiB,CACxH,MAAMW,EAAWZ,EACjB,MAAMa,GAAgBd,EAAiBS,eAAiBI,GAAY,EAEpE,GAAIC,GAAgBd,EAAiBO,UAAYO,GAAgBd,EAAiBU,SAAU,CAC3FE,EAAiB,CAClB,KAAO,CACNA,EAAiB,CAClB,CACD,KAAO,CAEN,IAAIG,EAAoB,EACxB,MAAOf,EAAiBS,eAAiBM,GAAqBf,EAAiBO,SAAWN,EAAK,CAC9Fc,GACD,CACAA,IAEAH,EAAiBZ,EAAiBE,gBAC/BG,KAAKG,IAAIO,EAAmBf,EAAiBI,YAC7CC,KAAKC,IAAID,KAAKG,IAAIO,EAAmBf,EAAiBI,YAAaC,KAAKG,IAAIR,EAAiBI,WAAY,GAC7G,CACA,GAAIQ,GAAkB,EAAG,OAAOZ,EAAiBO,SACjD,MAAMM,GAAYD,EAAiB,GAAKX,EACxC,MAAMe,GAAahB,EAAiBS,eAAiBI,GAAYD,EACjE,OAAOP,KAAKG,IAAIH,KAAKC,IAAIU,EAAWhB,EAAiBO,UAAWP,EAAiBU,SAClF,CAAC,IAAAO,EAAA,CAAAC,WAAA,MAAAD,EAAAnC,aAAAmC,EAAAlC,sBAAAkC,EAAA5B,yBAAA4B,EAAAlB,qBAAA,OAAAkB,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":376,"column":0},"map":{"version":3,"names":["sap","ui","define","GridContainer","FlexBox","Table","Event","Element","sap_ui_core_library","attachKeyboardHandler","event","disablenavigation","callback","draggedControl","closestTo","target","firstElementChild","container","getParent","isMetaKey","metaKey","ctrlKey","items","getItems","currentIndex","findIndex","item","document","activeElement","getDomRef","setTabIndexForItems","map","includes","key","Promise","resolve","preventDefault","stopPropagation","currentItemIndex","indexOfItem","reverseItems","reverse","index","_areItemsInSameRow","_getClosestElementYIndex","data","length","droppedControl","_temp3","_temp2","focusDraggedItem","dragDropEvent","dropPosition","dnd","RelativeDropPosition","Before","After","_temp","then","e","reject","item1","item2","getBoundingClientRect","top","dropItemIndex","draggedItemDomRef","aWrapperItemsDomRef","$","children","each","iIndex","oWrapperItem","classList","contains","push","setAttribute","focus","keyCode","fnElementPositionX","element","x","fnElementPositionY","y","minIndex","minDistance","Number","MAX_SAFE_INTEGER","forEach","currentDist","Math","sqrt","pow","isAllowed","aItems","tabIndex","__exports","__esModule"],"sources":["DragDropUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport GridContainer from \"sap/f/GridContainer\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport HeaderContainer from \"sap/m/HeaderContainer\";\nimport Table from \"sap/m/Table\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Element from \"sap/ui/core/Element\";\nimport { dnd } from \"sap/ui/core/library\";\n\n/**\n * Handles keyboard events for navigation and drag and drop functionality.\n * @param {KeyboardEvent} event - The keyboard event object.\n * @param {boolean} disablenavigation - Whether navigation is allowed.\n * @param {Function} callback - The callback function to execute when a drag and drop event occurs.\n * @returns {Promise<void>} A Promise that resolves when the handling is complete.\n */\n\nexport async function attachKeyboardHandler(\n\tevent: KeyboardEvent,\n\tdisablenavigation: boolean,\n\tcallback?: (dragDropEvent: Event) => Promise<void> | void\n) {\n\tconst draggedControl = Element.closestTo((event.target as HTMLElement).firstElementChild as HTMLElement) as Control;\n\tconst container = draggedControl.getParent() as GridContainer | FlexBox;\n\tconst isMetaKey = event.metaKey || event.ctrlKey;\n\tconst items = container.getItems();\n\tconst currentIndex = items.findIndex((item) => document.activeElement === item.getDomRef());\n\tsetTabIndexForItems(\n\t\titems.map((item) => item.getDomRef() as HTMLElement),\n\t\tcurrentIndex\n\t);\n\n\tif (\n\t\t!draggedControl ||\n\t\t!container ||\n\t\t!(disablenavigation && [\"ArrowRight\", \"ArrowLeft\", \"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key))\n\t) {\n\t\treturn;\n\t}\n\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\n\tlet currentItemIndex = container.indexOfItem(draggedControl);\n\tconst reverseItems = [...items].reverse();\n\tconst getDomRef = (index: number): HTMLElement | null => items[index]?.getDomRef() as HTMLElement | null;\n\tswitch (event.key) {\n\t\tcase \"ArrowRight\":\n\t\t\tif (_areItemsInSameRow(getDomRef(currentItemIndex), getDomRef(currentItemIndex + 1))) {\n\t\t\t\tcurrentItemIndex++;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ArrowLeft\":\n\t\t\tif (_areItemsInSameRow(getDomRef(currentItemIndex), getDomRef(currentItemIndex - 1))) {\n\t\t\t\tcurrentItemIndex--;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ArrowUp\":\n\t\tcase \"ArrowDown\":\n\t\t\tcurrentItemIndex = _getClosestElementYIndex(container, currentItemIndex, event.key);\n\t\t\tbreak;\n\t\tcase \"Home\":\n\t\t\tcurrentItemIndex = draggedControl.data(\"groupId\")\n\t\t\t\t? items.findIndex((item) => item.data(\"groupId\"))\n\t\t\t\t: items.findIndex((item) => !item.data(\"groupId\"));\n\t\t\tbreak;\n\t\tcase \"End\":\n\t\t\tcurrentItemIndex =\n\t\t\t\titems.length -\n\t\t\t\t1 -\n\t\t\t\t(draggedControl.data(\"groupId\")\n\t\t\t\t\t? reverseItems.findIndex((item) => item.data(\"groupId\"))\n\t\t\t\t\t: reverseItems.findIndex((item) => !item.data(\"groupId\")));\n\t\t\tbreak;\n\t}\n\tconst droppedControl = currentItemIndex > -1 && currentItemIndex < items.length ? items[currentItemIndex] : null;\n\tif (draggedControl && droppedControl) {\n\t\tconst dragDropEvent = new Event(\"keyboardDragDropEvent\", container, {\n\t\t\tdraggedControl,\n\t\t\tdroppedControl,\n\t\t\tdropPosition: [\"ArrowLeft\", \"ArrowUp\", \"Home\"].includes(event.key)\n\t\t\t\t? dnd.RelativeDropPosition.Before\n\t\t\t\t: dnd.RelativeDropPosition.After\n\t\t});\n\t\tsetTabIndexForItems(\n\t\t\titems.map((item) => item.getDomRef() as HTMLElement),\n\t\t\tcurrentItemIndex\n\t\t);\n\t\tif (callback && isMetaKey) {\n\t\t\tawait callback(dragDropEvent);\n\t\t}\n\t\tfocusDraggedItem(container, currentItemIndex);\n\t}\n}\n\n/**\n * Checks if two items are in the same row based on their top positions.\n *\n * @private\n * @param {HTMLElement | null} item1 - The first item's DOM reference.\n * @param {HTMLElement | null} item2 - The second item's DOM reference.\n * @returns {boolean} True if both items are in the same row, otherwise false.\n */\nfunction _areItemsInSameRow(item1: HTMLElement | null, item2: HTMLElement | null): boolean {\n\tif (!item1 || !item2) {\n\t\treturn false;\n\t}\n\treturn item1.getBoundingClientRect().top === item2.getBoundingClientRect().top;\n}\n\n/**\n * Gathers all DOM elements representing individual tiles in the grid container\n * that have the \"sapFGridContainerItemWrapper\" class, stores them in an array,\n * and then focuses the DOM element corresponding to the card that was just moved\n * during a drag-and-drop operation by setting its \"tabindex\" to \"0\" for\n * accessibility and navigation purposes.\n * @param {GridContainer | FlexBox} container - The container containing the items.\n * @param {number} dropItemIndex - The index of the item to focus after drag-and-drop.\n */\nexport const focusDraggedItem = (container: GridContainer | HeaderContainer | FlexBox | Table, dropItemIndex: number): void => {\n\tlet draggedItemDomRef: HTMLElement | null = null;\n\tif (container instanceof GridContainer) {\n\t\tconst aWrapperItemsDomRef: HTMLElement[] = [];\n\t\tcontainer\n\t\t\t.$(\"listUl\")\n\t\t\t.children()\n\t\t\t.each(function (iIndex, oWrapperItem) {\n\t\t\t\tif (oWrapperItem.classList.contains(\"sapFGridContainerItemWrapper\")) {\n\t\t\t\t\taWrapperItemsDomRef.push(oWrapperItem);\n\t\t\t\t}\n\t\t\t});\n\t\tdraggedItemDomRef = aWrapperItemsDomRef[dropItemIndex];\n\t} else if (container instanceof FlexBox || container instanceof Table) {\n\t\tdraggedItemDomRef = container.getItems()[dropItemIndex].getDomRef() as HTMLElement;\n\t}\n\tif (draggedItemDomRef) {\n\t\tdraggedItemDomRef.setAttribute(\"tabindex\", \"0\");\n\t\tdraggedItemDomRef.focus();\n\t}\n};\n\n/**\n * Gets the index of the closest element in the Y direction within a grid container.\n * @param {GridContainer | FlexBox} container - The container (either GridContainer or FlexBox).\n * @param {number} currentIndex - The index of the current element.\n * @param {string} keyCode - The key code representing the direction (ArrowUp or ArrowDown).\n * @returns {number} The index of the closest element in the Y direction.\n */\n\nconst _getClosestElementYIndex = (container: GridContainer | FlexBox, currentIndex: number, keyCode: string) => {\n\tconst fnElementPositionX = function (element: HTMLElement) {\n\t\treturn element.getBoundingClientRect().x;\n\t};\n\n\tconst fnElementPositionY = function (element: HTMLElement) {\n\t\treturn element.getBoundingClientRect().y;\n\t};\n\n\tlet minIndex = currentIndex;\n\tlet minDistance = Number.MAX_SAFE_INTEGER;\n\tconst items = container.getItems().map((item) => item.getDomRef()) as HTMLElement[];\n\titems.forEach(function (item, index) {\n\t\tconst currentDist = Math.sqrt(\n\t\t\tMath.pow(fnElementPositionX(items[currentIndex]) - fnElementPositionX(item), 2) +\n\t\t\t\tMath.pow(fnElementPositionY(items[currentIndex]) - fnElementPositionY(item), 2)\n\t\t);\n\t\tconst isAllowed = (keyCode === \"ArrowDown\" && index > currentIndex) || (keyCode === \"ArrowUp\" && index < currentIndex);\n\t\tif (isAllowed && currentDist < minDistance && fnElementPositionY(item) !== fnElementPositionY(items[currentIndex])) {\n\t\t\tminDistance = currentDist;\n\t\t\tminIndex = index;\n\t\t}\n\t});\n\treturn minIndex;\n};\n\nconst setTabIndexForItems = (aItems: HTMLElement[], currentIndex: number) => {\n\taItems.forEach((x, index) => {\n\t\tx.tabIndex = index === currentIndex ? 0 : -1;\n\t});\n};\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":381,"column":0},"map":{"version":3,"names":["sap","ui","define","FESRHelper","FESR_EVENTS","addFESRId","control","fesrId","data","getFESRId","addFESRSemanticStepName","element","eventName","stepName","setSemanticStepname","__exports","__esModule"],"sources":["FESRUtil.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Control from \"sap/ui/core/Control\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport FESRHelper from \"sap/ui/performance/trace/FESRHelper\";\n\nexport enum FESR_EVENTS {\n\tPRESS = \"press\",\n\tCHANGE = \"change\",\n\tSELECT = \"select\"\n}\n\nexport const addFESRId = (control: Control | UI5Element, fesrId: string) => {\n\tcontrol?.data(\"fesr-id\", fesrId);\n};\n\nexport const getFESRId = (control: Control | UI5Element) => {\n\treturn control.data(\"fesr-id\") as string;\n};\n\nexport const addFESRSemanticStepName = (element: UI5Element, eventName: string, stepName: string) => {\n\tif (stepName) {\n\t\tFESRHelper.setSemanticStepname(element, eventName, stepName);\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,yCAAA,iDAAAC,GAAA,iBASYC,EAAW,SAAXA,KAAW,iBAAXA,EAAW,mBAAXA,EAAW,0BAAXA,CAAW,EAAXA,GAAW,IAMhB,MAAMC,EAAYA,CAACC,EAA+BC,KACxDD,GAASE,KAAK,UAAWD,IAGnB,MAAME,EAAaH,GAClBA,EAAQE,KAAK,WAGd,MAAME,EAA0BA,CAACC,EAAqBC,EAAmBC,KAC/E,GAAIA,EAAU,CACbV,EAAWW,oBAAoBH,EAASC,EAAWC,EACpD,GACC,IAAAE,EAAA,CAAAC,WAAA,MAAAD,EAAAX,cAAAW,EAAAV,YAAAU,EAAAN,YAAAM,EAAAL,0BAAA,OAAAK,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":386,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Container","___Constants","__HttpHelper","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","FEATURE_TOGGLE_SRVC_URL","FEATURE_TOGGLES","HttpHelper","featureToggles","Map","isFeatureEnabled","key","_temp2","get","has","Promise","resolve","_temp","unavailableToggles","Object","values","filter","toggle","getFeatureToggles","_getFeatureToggles","forEach","set","enabled","error","message","reject","keys","filterExpression","join","GetJSON","_HttpHelper$GetJSON","value","map","some","ToggleId","State","toUpperCase","isNavigationSupportedForFeature","featureToggle","intent","isFeatureToggleEnabled","getServiceAsync","navigationService","isNavigationSupported","supported","warning","Error","String","__exports"],"sources":["FeatureUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation, { Target } from \"sap/ushell/services/Navigation\";\nimport { FEATURE_TOGGLE_SRVC_URL, FEATURE_TOGGLES } from \"./Constants\";\nimport HttpHelper from \"./HttpHelper\";\n\ninterface FeatureToggle {\n\tkey: FEATURE_TOGGLES;\n\tenabled: boolean;\n}\n\ninterface FeatureToggleResponse {\n\tvalue: {\n\t\tToggleId: FEATURE_TOGGLES;\n\t\tState: string;\n\t}[];\n}\n\nconst featureToggles = new Map<FEATURE_TOGGLES, boolean>();\n\n/**\n * Utility to check if a feature toggle is enabled.\n *\n * @param key The key of the feature toggle to check.\n * @returns Promise resolving to `true` if the feature toggle is enabled, `false` otherwise.\n */\nexport const isFeatureEnabled = async (key: FEATURE_TOGGLES): Promise<boolean> => {\n\tif (featureToggles.has(key)) {\n\t\treturn featureToggles.get(key)!;\n\t}\n\n\ttry {\n\t\tconst unavailableToggles = Object.values(FEATURE_TOGGLES).filter((toggle) => !featureToggles.has(toggle));\n\t\t(await getFeatureToggles(unavailableToggles)).forEach((toggle) => featureToggles.set(toggle.key, toggle.enabled));\n\t} catch (error) {\n\t\tLog.error(\"Error fetching feature toggles\", (error as Error).message);\n\t\tfeatureToggles.set(key, false);\n\t}\n\n\treturn featureToggles.get(key) || false;\n};\n\n/**\n * Utility to fetch feature toggles from the server.\n *\n * @param keys An array of feature toggle keys to fetch.\n * @returns Promise resolving to an array of feature toggles.\n */\nconst getFeatureToggles = async (keys: FEATURE_TOGGLES[]): Promise<FeatureToggle[]> => {\n\tconst filterExpression = `?$filter=(ToggleId eq '${keys.join(\"' or ToggleId eq '\")}')`;\n\tconst { value = [] } = (await HttpHelper.GetJSON(FEATURE_TOGGLE_SRVC_URL + filterExpression)) as FeatureToggleResponse;\n\n\treturn keys.map((key) => ({\n\t\tkey,\n\t\tenabled: value.some((toggle) => toggle.ToggleId === key && toggle.State.toUpperCase() === \"X\")\n\t}));\n};\n\n/**\n * Utility to check if a navigation target is supported when a feature toggle is enabled.\n *\n * @param featureToggleCheck A promise that resolves to true if the feature is enabled.\n * @param semanticObject Semantic object to be checked for navigation support.\n * @param action Action name for the semantic object.\n * @returns Promise resolving to `true` if navigation is supported and feature is enabled.\n */\nexport const isNavigationSupportedForFeature = async (featureToggle: FEATURE_TOGGLES, intent: Target): Promise<boolean> => {\n\ttry {\n\t\tconst isFeatureToggleEnabled = await isFeatureEnabled(featureToggle);\n\t\tif (!isFeatureToggleEnabled) {\n\t\t\treturn false;\n\t\t}\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst [{ supported }] = await navigationService.isNavigationSupported([intent]);\n\n\t\treturn supported || false;\n\t} catch (error) {\n\t\tLog.warning(error instanceof Error ? error.message : String(error));\n\t\treturn false;\n\t}\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,6CAAA,8EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,CAkjBO,SAAAG,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MArjBQG,EAAuBZ,EAAA,iCAAEa,EAAeb,EAAA,yBAC1Cc,EAAUZ,EAAAD,GAcjB,MAAMc,EAAiB,IAAIC,IAQpB,MAAMC,EAAgB,SAAUC,GAAoB,IAAuB,SAAAC,IAajF,OAAOJ,EAAeK,IAAIF,IAAQ,KAAM,CAZxC,GAAIH,EAAeM,IAAIH,GAAM,CAC5B,OAAAI,QAAAC,QAAOR,EAAeK,IAAIF,GAC3B,CAAC,MAAAM,EAAAlB,EAAA,WAGA,MAAMmB,EAAqBC,OAAOC,OAAOd,GAAiBe,OAAQC,IAAYd,EAAeM,IAAIQ,IAAS,OAAAP,QAAAC,QACnGO,EAAkBL,IAAmBd,KAAA,SAAAoB,GAA5CA,EAA8CC,QAASH,GAAWd,EAAekB,IAAIJ,EAAOX,IAAKW,EAAOK,SAAU,EACnH,EAAC,SAAQC,GACRrC,EAAIqC,MAAM,iCAAmCA,EAAgBC,SAC7DrB,EAAekB,IAAIf,EAAK,MACzB,GAAC,OAAAI,QAAAC,QAAAC,KAAAb,KAAAa,EAAAb,KAAAQ,KAAAK,GAGF,CAAC,MAAAd,GAAA,OAAAY,QAAAe,OAAA3B,EAAA,GAQD,MAAMoB,EAAiB,SAAUQ,GAAuB,IACvD,MAAMC,EAAmB,0BAA0BD,EAAKE,KAAK,0BAA0B,OAAAlB,QAAAC,QACzDT,EAAW2B,QAAQ7B,EAA0B2B,IAAiB5B,KAAA,SAAA+B,GAA5F,MAAMC,MAAEA,EAAQ,IAAID,EAEpB,OAAOJ,EAAKM,IAAK1B,IAAG,CACnBA,MACAgB,QAASS,EAAME,KAAMhB,GAAWA,EAAOiB,WAAa5B,GAAOW,EAAOkB,MAAMC,gBAAkB,OACvF,EACL,CAAC,MAAAtC,GAAA,OAAAY,QAAAe,OAAA3B,EAAA,GAUM,MAAMuC,EAA+B,SAAUC,EAAgCC,GAAc,IAAuB,OAAA7B,QAAAC,QAAAjB,EAAA,WACtH,OAAAgB,QAAAC,QACkCN,EAAiBiC,IAAcvC,KAAA,SAA9DyC,GAAsB,OACvBA,EAAsB9B,QAAAC,QAGKxB,EAAUsD,gBAA4B,eAAa1C,KAAA,SAA7E2C,GAAiB,OAAAhC,QAAAC,QACO+B,EAAkBC,sBAAsB,CAACJ,KAAQxC,KAAA,WAAxE6C,UAAEA,KAET,OAAOA,GAAa,KAAM,KALlB,KAAK,EAMd,EAAC,SAAQrB,GACRrC,EAAI2D,QAAQtB,aAAiBuB,MAAQvB,EAAMC,QAAUuB,OAAOxB,IAC5D,OAAO,KACR,GACD,CAAC,MAAAzB,GAAA,OAAAY,QAAAe,OAAA3B,EAAA,GAAC,IAAAkD,EAAA,CAAAxD,WAAA,MAAAwD,EAAA3C,mBAAA2C,EAAAX,kCAAA,OAAAW,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":391,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","BaseObject","___Constants","_catch","body","recover","result","e","then","REPO_BASE_URL","HttpHelper","constructor","super","fetchCSRFToken","fetch","method","headers","response","token","get","ok","Error","catch","error","message","Post","url","payload","csrfToken","JSON","stringify","json","GetJSON","GetMultipleRequests","urls","Promise","resolve","all","map","includes","_response$json","text","reject"],"sources":["HttpHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport { REPO_BASE_URL } from \"./Constants\";\n\n/**\n *\n * @class Provides the HttpHelper Class used for Get and Post Calls.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n * @private\n *\n * @alias sap.cux.home.utils.HttpHelper\n */\n\nexport default class HttpHelper extends BaseObject {\n\tprivate constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Fetches the CSRF Token\n\t * @returns {Promise<string | void>} Promise that resolves with the CSRF Token\n\t */\n\tprivate static fetchCSRFToken(): Promise<string | void> {\n\t\treturn fetch(REPO_BASE_URL, {\n\t\t\tmethod: \"HEAD\",\n\t\t\theaders: {\n\t\t\t\t\"X-CSRF-Token\": \"Fetch\"\n\t\t\t}\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tconst token = response.headers.get(\"X-CSRF-Token\");\n\t\t\t\tif (response.ok && token) {\n\t\t\t\t\treturn token;\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Cannot fetch X-CSRF-Token.\");\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n\n\t/**\n\t * Post Method\n\t * @param {string} url - The URL to post to\n\t * @param {object} payload - The payload to post\n\t * @returns {Promise<unknown>} Promise that resolves with the response\n\t */\n\tpublic static Post(url: string, payload: object): Promise<unknown> {\n\t\treturn HttpHelper.fetchCSRFToken()\n\t\t\t.then((csrfToken) => {\n\t\t\t\treturn fetch(url, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"X-CSRF-Token\": csrfToken as string,\n\t\t\t\t\t\t\"content-type\": \"application/json\"\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify(payload)\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n\n\t/**\n\t * Get Method for JSON Data\n\t * @param {string} url - The URL to get from\n\t * @returns {Promise<unknown>} Promise that resolves with the JSON data response\n\t */\n\tpublic static GetJSON(url: string): Promise<unknown> {\n\t\treturn fetch(url)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error: Error) => {\n\t\t\t\tLog.error(error.message);\n\t\t\t});\n\t}\n\t/**\n\t * Get Method for Multiple Requests\n\t *\n\t * @param {string[]} urls - An array of URLs to get from\n\t * @returns {Promise<(string | object)[]>} Promise that resolves with the responses from the URLs\n\t */\n\tpublic static async GetMultipleRequests(urls: string[] = []): Promise<(string | object)[]> {\n\t\ttry {\n\t\t\tconst results = await Promise.all(\n\t\t\t\turls.map(async (url) => {\n\t\t\t\t\tconst response = await fetch(url);\n\t\t\t\t\tif (response.headers.get(\"Content-Type\")?.includes(\"application/json\")) {\n\t\t\t\t\t\treturn (await response.json()) as object;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn await response.text();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t\treturn results;\n\t\t} catch (error: unknown) {\n\t\t\tLog.error((error as Error)?.message);\n\t\t\treturn [];\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,2CAAA,6DAAAC,EAAAC,EAAAC,GAAA,aAkjBO,SAAAC,EAAgBC,EAAMC,GAC5B,IACC,IAAIC,EAASF,GACd,CAAE,MAAMG,GACP,OAAOF,EAAQE,EAChB,CACA,GAAID,GAAUA,EAAOE,KAAM,CAC1B,OAAOF,EAAOE,UAAU,EAAGH,EAC5B,CACA,OAAOC,CACR,CAAC,MAtjBQG,EAAaP,EAAA,iBAgBP,MAAMQ,UAAmBT,EAC/BU,cACPC,OACD,CAMA,qBAAeC,GACd,OAAOC,MAAML,EAAe,CAC3BM,OAAQ,OACRC,QAAS,CACR,eAAgB,WAGhBR,KAAMS,IACN,MAAMC,EAAQD,EAASD,QAAQG,IAAI,gBACnC,GAAIF,EAASG,IAAMF,EAAO,CACzB,OAAOA,CACR,CACA,MAAM,IAAIG,MAAM,gCAEhBC,MAAOC,IACPvB,EAAIuB,MAAMA,EAAMC,UAEnB,CAQA,WAAcC,CAAKC,EAAaC,GAC/B,OAAOjB,EAAWG,iBAChBL,KAAMoB,GACCd,MAAMY,EAAK,CACjBX,OAAQ,OACRC,QAAS,CACR,eAAgBY,EAChB,eAAgB,oBAEjBxB,KAAMyB,KAAKC,UAAUH,MAGtBnB,KAAMS,GACCA,EAASc,QAEhBT,MAAOC,IACPvB,EAAIuB,MAAMA,EAAMC,UAEnB,CAOA,cAAcQ,CAAQN,GACrB,OAAOZ,MAAMY,GACXlB,KAAMS,GACCA,EAASc,QAEhBT,MAAOC,IACPvB,EAAIuB,MAAMA,EAAMC,UAEnB,CACA,0BAMoBS,CAAoBC,EAAiB,IAAE,IAAgC,OAAAC,QAAAC,QAAAjC,EAAA,WACtF,OAAAgC,QAAAC,QACmBD,QAAQE,IAC7BH,EAAKI,IAAG,SAAQZ,GAAG,IAAK,OAAAS,QAAAC,QACAtB,MAAMY,IAAIlB,KAAA,SAA3BS,GAAQ,GACVA,EAASD,QAAQG,IAAI,iBAAiBoB,SAAS,oBAAmB,QAAAJ,QAAAC,QACvDnB,EAASc,QAAMvB,KAAA,SAAAgC,GAA7B,OAAAA,CAAyC,eAAAL,QAAAC,QAE5BnB,EAASwB,OAAM,GAE9B,CAAC,MAAAlC,GAAA,OAAA4B,QAAAO,OAAAnC,EAAA,KAIH,EAAC,SAAQgB,GACRvB,EAAIuB,MAAOA,GAAiBC,SAC5B,MAAO,EACR,GACD,CAAC,MAAAjB,GAAA,OAAA4B,QAAAO,OAAAnC,EAAA,GACD,OAAAG,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":396,"column":0},"map":{"version":3,"names":["sap","ui","define","ICONS","title","icons","account","wrench","visits","video","temperature","task","synchronize","survey","settings","search","refresh","product","present","pool","picture","phone","pending","past","opportunity","opportunities","notes","map","log","lightbulb","leads","lead","laptop","inbox","history","future","fridge","fallback","employee","email","edit","duplicate","download","dishwasher","delete","decline","complete","competitor","chalkboard","cart","card","camera","calendar","begin","basket","attachment","approvals","appointment","alert","addresses","add","activities","action","accept","hint","group","bed","arobase","favorite","less","lateness","lab","instance","inspection","home","grid","goalseek","flight","filter","factory","endoscopy","electrocardiogram","documents","decision","database","customer","contacts","compare","world","iphone","ipad","warning","sort","print","save","play","pause","record","response","unfavorite","timesheet","list","share","feed","role","flag","post","inspect","comment","collaborate","shortcut","permission","supplier","manager","signature","request","receipt","puzzle","process","private","overlay","meal","loan","performance","menu","education","accelerated","warning2","create","globe","tags","waiver","microphone","tree","theater","taxi","stethoscope","step","sonography","soccer","pharmacy","newspaper","machine","unwired","widgets","wallet","upload","unlocked","umbrella","tag","syringe","syntax","suitcase","simulate","shield","repost","provision","projector","palette","nurse","mileage","measure","locked","letter","inventory","initiative","incident","goal","form","folder","example","eraser","document","doctor","discussion","dimension","crop","collision","curriculum","cause","burglary","building","border","bookmark","badge","paging","explorer","header","collapse","expand","positive","negative","display","menu2","redo","undo","down","up","shelf","background","resize","move","show","hide","error","forward","overflow","dropdown","legend","restart","stop","activate","connected","disconnected","key","minimize","outbox","call","jam","cloud","headset","scissors","sound","co","bell","cancel","customize","copy","paste","reset","checklist","indent","outdent","heading1","heading2","heading3","away","busy","blur","pixelate","strikethrough","text","responsive","validate","touch","combine","split","megamenu","feedback","information","s4hana","translate","technicalsystem","systemjava","systemabap","systemrecommendations","system","systemtrex","systemtracks","technicalscenario","technicalinstance","exceptions","python","user","note","gateway","marquee","more","pattern","arrow","data","swimlane","select","cursor","api","java","block","actor","unit","signal","dependency","generalization","aggregation","composition","association","port","operations","constrains","receptions","references","parts","flow","values","subject","connector","aggregator","splitter","converter","realization","interface","application","network","intranet","antenna","firewall","hub","modem","repeater","router","switch","satellite","insights","BusinessSuiteInAppSymbols","heart","quarter","year","equalizer","component","sms","forklift","coins","program","phase","milestone","bold","italic","underline","segmentation","snapshot","intersection","union","top","bottom","neutral","blocked","pipette","recipe","ingredients","spill","fire","stratification","relationship","increase","decrease","expedite","postpone","approved","submission","birthday","classification","completed","answered","container","products","sidepanel","target","source","material","overdue","alarm","radius","polygon","grip","water","gas","liquid","operator","equipment","section","kohorte","female","male","model","hourglass","tv","radio","outdoor","event","tractor","social","event2","rescheduling","resequencing","driver","overlap","utilization","trailer","railcar","warehouse","goods","ship","contract","reminder","weight","immunization","allergies","rescheduling2","resequencing2","refinery","terminal","vessel","barge","road","pipeline","delay","causes","effects","rfid","input","lighthouse","__exports","__esModule"],"sources":["IconList.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport const ICONS: Icons = {\n\t\"SAP-icons\": {\n\t\ttitle: \"SAP Icons\",\n\t\ticons: {\n\t\t\t\"accidental-leave\": [\"accidental\", \"leave\", \"medical\", \"cross\", \"plus\", \"emergency\", \"hospital\"],\n\t\t\taccount: [\"user\", \"menu\", \"settings\"],\n\t\t\twrench: [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\"],\n\t\t\t\"windows-doors\": [\"window\", \"door\", \"entry\"],\n\t\t\t\"washing-machine\": [\"washing\", \"machine\", \"laundry\", \"clean\", \"wash\", \"purify\"],\n\t\t\tvisits: [\"user\", \"arrow\", \"door\", \"visit\", \"login\", \"entry\"],\n\t\t\tvideo: [\"camera\", \"recorder\", \"video\", \"movie\", \"clip\"],\n\t\t\t\"travel-expense\": [\n\t\t\t\t\"plane\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\",\n\t\t\t\t\"trip\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"travel\",\n\t\t\t\t\"holiday\",\n\t\t\t\t\"flight\",\n\t\t\t\t\"budget\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"cost\",\n\t\t\t\t\"payments\"\n\t\t\t],\n\t\t\ttemperature: [\"temperature\", \"hot\", \"heat\", \"cold\", \"cool\", \"illness\", \"sickness\", \"health\", \"medical\"],\n\t\t\ttask: [\"clipboard\", \"task\", \"checkbox\", \"checklist\", \"list\", \"checkmark\"],\n\t\t\tsynchronize: [\"synchronize\", \"reload\", \"refresh\", \"arrow\"],\n\t\t\tsurvey: [\"survey\", \"form\", \"checklist\", \"list\", \"checkbox\", \"checkmark\", \"x\"],\n\t\t\tsettings: [\"cogwheels\", \"configuration\", \"settings\", \"tools\", \"modify\", \"customize\"],\n\t\t\tsearch: [\"search\", \"magnifier\", \"glass\"],\n\t\t\t\"sales-document\": [\"document\", \"page\", \"file\", \"text\", \"sales\", \"money\"],\n\t\t\t\"retail-store\": [\"shop\", \"store\", \"retail\", \"market\"],\n\t\t\trefresh: [\"reload\", \"refresh\", \"arrow\"],\n\t\t\tproduct: [\"product\", \"commodity\", \"goods\", \"stock\", \"merchandise\", \"package\"],\n\t\t\tpresent: [\"time\", \"clock\", \"star\", \"current\", \"present\"],\n\t\t\t\"ppt-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"ppt\", \"powerpoint\"],\n\t\t\tpool: [\"pool\", \"basin\", \"swim\"],\n\t\t\t\"pie-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"pie\", \"segments\"],\n\t\t\tpicture: [\"picture\", \"photo\", \"photograph\", \"shot\", \"image\"],\n\t\t\t\"photo-voltaic\": [\"photovoltaic\", \"voltaic\", \"electricity\", \"power\", \"solar\", \"panel\", \"sun\"],\n\t\t\tphone: [\"phone\", \"telephone\", \"landline\", \"number\", \"call\", \"dial\"],\n\t\t\tpending: [\"time\", \"clock\", \"pend\", \"pending\", \"awaiting\", \"unresolved\", \"unsettled\"],\n\t\t\t\"pdf-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"pdf\"],\n\t\t\tpast: [\"time\", \"clock\", \"past\", \"bygone\", \"former\", \"late\"],\n\t\t\t\"outgoing-call\": [\"call\", \"communicate\", \"phone\", \"telephone\", \"outgoing\", \"arrow\"],\n\t\t\topportunity: [\"chart\", \"line\", \"star\", \"opportunity\", \"stock\", \"market\", \"exchange\", \"trade\"],\n\t\t\topportunities: [\"user\", \"person\", \"dollar\", \"equal to\", \"opportunity\"],\n\t\t\tnotes: [\"notes\", \"marks\", \"info\", \"draft\"],\n\t\t\t\"money-bills\": [\"money\", \"cash\", \"payment\", \"bills\", \"dollar\"],\n\t\t\tmap: [\"map\", \"pin\", \"loaction\", \"place\", \"area\"],\n\t\t\tlog: [\"log\", \"logout\", \"log on\", \"log off\"],\n\t\t\t\"line-charts\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tlightbulb: [\"lightbulb\", \"light\", \"lamp\", \"idea\"],\n\t\t\tleads: [\"user\", \"person\", \"leads\", \"star\", \"equal to\"],\n\t\t\tlead: [\"money\", \"dollar\", \"currency\", \"payment\"],\n\t\t\tlaptop: [\"laptop\", \"device\", \"computer\"],\n\t\t\t\"kpi-managing-my-area\": [\"user\", \"person\", \"kpi\", \"checkmark\", \"equal to\"],\n\t\t\t\"kpi-corporate-performance\": [\"chart\", \"line\", \"kpi\", \"checkmark\", \"performance\"],\n\t\t\t\"incoming-call\": [\"call\", \"communicate\", \"incoming\", \"phone\", \"telephone\", \"arrow\"],\n\t\t\tinbox: [\"inbox\", \"in\", \"arrow\"],\n\t\t\t\"horizontal-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bar\", \"horizontal\"],\n\t\t\thistory: [\"time\", \"clock\", \"history\", \"past\", \"chronicle\"],\n\t\t\t\"heating-cooling\": [\"temperature\", \"air conditioning\", \"ac\", \"heat\", \"cold\", \"sun\", \"snowflake\"],\n\t\t\t\"gantt-bars\": [\"calendar\", \"gantt\", \"bars\", \"gantt bars\", \"chart\", \"schedule\"],\n\t\t\tfuture: [\"time\", \"clock\", \"arrow\", \"future\", \"hereafter\"],\n\t\t\tfridge: [\"fridge\", \"refrigerator\", \"icebox\", \"freezer\", \"cooler\", \"appliance\"],\n\t\t\tfallback: [\"folder\", \"fallback\", \"marked\", \"object\"],\n\t\t\t\"expense-report\": [\"expense\", \"report\", \"documents\", \"money\", \"dollar\"],\n\t\t\t\"excel-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"excel\", \"spreadsheet\", \"accounting\"],\n\t\t\t\"energy-saving-lightbulb\": [\"lightbulb\", \"light\", \"lamp\", \"idea\", \"eco\", \"energy saving\"],\n\t\t\temployee: [\"user\", \"person\", \"employee\", \"member\", \"operator\", \"representative\"],\n\t\t\temail: [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\"],\n\t\t\tedit: [\"pencil\", \"pen\", \"write\", \"edit\", \"modify\", \"text\"],\n\t\t\tduplicate: [\"duplicate\", \"objects\", \"arrow\"],\n\t\t\tdownload: [\"download\", \"arrow\"],\n\t\t\t\"doc-attachment\": [\"document\", \"page\", \"file\", \"attachment\", \"word\", \"text\"],\n\t\t\tdishwasher: [\"dishwasher\", \"dish\", \"wash\", \"appliance\"],\n\t\t\tdelete: [\"bin\", \"trash can\", \"rubbish\", \"delete\"],\n\t\t\tdecline: [\"reject\", \"close\", \"remove\", \"cancel\", \"x\"],\n\t\t\tcomplete: [\"complete\", \"checkmark\", \"tick\", \"affirmative\", \"enter\", \"finish\"],\n\t\t\tcompetitor: [\"competitor\", \"winner\", \"prize\", \"award\", \"trophy\", \"cup\"],\n\t\t\t\"collections-management\": [\"calculator\", \"counting\", \"simulate\", \"collections management\", \"total\", \"accounting\"],\n\t\t\tchalkboard: [\"chalkboard\", \"education\", \"teaching\", \"learning\", \"classroom\", \"school\", \"college\"],\n\t\t\tcart: [\"cart\", \"trolley\", \"basket\", \"shopping\"],\n\t\t\tcard: [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\", \"card\"],\n\t\t\tcamera: [\"camera\", \"photograph\", \"device\", \"image\", \"snap shot\"],\n\t\t\tcalendar: [\"calendar\"],\n\t\t\tbegin: [\"begin\", \"start\", \"arrows\"],\n\t\t\tbasket: [\"basket\", \"shopping\"],\n\t\t\t\"bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tattachment: [\"attach\", \"file\", \"paper clip\"],\n\t\t\t\"arrow-top\": [\"arrow top\", \"up\"],\n\t\t\t\"arrow-right\": [\"arrow right\"],\n\t\t\t\"arrow-left\": [\"arrow left\"],\n\t\t\t\"arrow-bottom\": [\"arrow bottom\", \"down\"],\n\t\t\tapprovals: [\"form\", \"details\", \"text\", \"approvals\", \"accepted\", \"checkmark\"],\n\t\t\tappointment: [\"date picker\", \"calendar\", \"month\", \"week\", \"day\", \"appointment\"],\n\t\t\t\"alphabetical-order\": [\"function\", \"alphabet\", \"letters\", \"a to z\", \"descending\", \"sorting\", \"order\"],\n\t\t\t\"along-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\talert: [\"message\", \"warning\", \"critical\", \"notifications\", \"status\"],\n\t\t\taddresses: [\"customers\", \"contacts\", \"addresses\", \"email\", \"e-mail\", \"directory\", \"companies\", \"houses\", \"homes\"],\n\t\t\t\"address-book\": [\"customers\", \"contacts\", \"addresses\", \"email\", \"e-mail\", \"directory\", \"companies\", \"@\", \"at\"],\n\t\t\t\"add-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"add-favorite\": [\"favorite\", \"favourite\", \"star\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\tadd: [\"add\", \"plus\", \"additional\", \"another\", \"more\", \"add row\", \"add object\", \"add item\"],\n\t\t\tactivities: [\"activities\", \"tasks\", \"to do\", \"list\"],\n\t\t\taction: [\"actions\", \"collection\", \"share options\", \"forward actions\", \"more actions\", \"arrow\"],\n\t\t\taccept: [\"accept\", \"approve\", \"correct\", \"checkmark\", \"tick\", \"affirmative\"],\n\t\t\thint: [\"information\", \"hint\", \"about\", \"details\"],\n\t\t\tgroup: [\n\t\t\t\t\"group\",\n\t\t\t\t\"team\",\n\t\t\t\t\"people\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\",\n\t\t\t\t\"customers\",\n\t\t\t\t\"audience\",\n\t\t\t\t\"category\"\n\t\t\t],\n\t\t\t\"check-availability\": [\n\t\t\t\t\"date picker\",\n\t\t\t\t\"calendar\",\n\t\t\t\t\"month\",\n\t\t\t\t\"week\",\n\t\t\t\t\"day\",\n\t\t\t\t\"appointment\",\n\t\t\t\t\"search\",\n\t\t\t\t\"look up\",\n\t\t\t\t\"check\",\n\t\t\t\t\"availability\",\n\t\t\t\t\"find\"\n\t\t\t],\n\t\t\t\"weather-proofing\": [\"weather\", \"proofing\", \"protection\"],\n\t\t\t\"payment-approval\": [\"sales\", \"simple payment\", \"money\", \"bill\", \"details\", \"quote\", \"accept\", \"approval\", \"checkmark\"],\n\t\t\t\"batch-payments\": [\"folder\", \"open\", \"money\", \"documents\"],\n\t\t\tbed: [\"bed\", \"sleep\", \"ill\", \"hospital\", \"sick\", \"medical\", \"tired\", \"snooze\", \"night\"],\n\t\t\tarobase: [\"at\", \"@\", \"email\", \"address\"],\n\t\t\t\"family-care\": [\"family\", \"protection\", \"people\", \"family\"],\n\t\t\tfavorite: [\"favorite\", \"favourite\", \"star\"],\n\t\t\t\"navigation-right-arrow\": [\"navigation\", \"right\", \"expand\", \"collapsed tree\", \"tree arrow\", \"arrow\"],\n\t\t\t\"navigation-left-arrow\": [\"navigation\", \"left\", \"arrow\"],\n\t\t\t\"e-care\": [\n\t\t\t\t\"e care\",\n\t\t\t\t\"digital customer care\",\n\t\t\t\t\"service\",\n\t\t\t\t\"electronic\",\n\t\t\t\t\"leaf\",\n\t\t\t\t\"leaves\",\n\t\t\t\t\"nature\",\n\t\t\t\t\"organic\",\n\t\t\t\t\"health\",\n\t\t\t\t\"environment\"\n\t\t\t],\n\t\t\tless: [\"less\", \"minus\", \"subtract\"],\n\t\t\tlateness: [\"time\", \"timer\", \"waiting\", \"lateness\", \"loading\", \"hour glass\", \"sand\", \"out of time\"],\n\t\t\tlab: [\"lab\", \"chemicals\", \"liquid\", \"mixture\", \"chemistry\", \"science\", \"laboratory\"],\n\t\t\t\"internet-browser\": [\"screen\", \"internet\", \"website\", \"browser\", \"web app\", \"globe\", \"www\", \"html\"],\n\t\t\tinstance: [\"instance\", \"process\", \"clock\", \"chevron\"],\n\t\t\tinspection: [\"search\", \"document\", \"inspect\"],\n\t\t\t\"image-viewer\": [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\", \"viewer\", \"carousel\", \"lightbox\"],\n\t\t\thome: [\"home\", \"house\", \"index\", \"landing page\", \"start\", \"main\"],\n\t\t\tgrid: [\"grid\", \"waffle\", \"layout\", \"boxes\", \"squares\", \"modular\"],\n\t\t\tgoalseek: [\"goal\", \"goalseek\", \"target\", \"result\", \"objective\", \"aim\"],\n\t\t\t\"general-leave-request\": [\"holiday\", \"vacation\", \"leave\", \"request\", \"deck\", \"chair\", \"sun\", \"create\"],\n\t\t\t\"create-leave-request\": [\n\t\t\t\t\"holiday\",\n\t\t\t\t\"vacation\",\n\t\t\t\t\"leave\",\n\t\t\t\t\"request\",\n\t\t\t\t\"deck chair\",\n\t\t\t\t\"sun\",\n\t\t\t\t\"create\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tflight: [\"plane\", \"trip\", \"travel\", \"holiday\", \"flight\", \"Aeroplane\", \"transit\", \"shipment\"],\n\t\t\tfilter: [\"filter\", \"organise\", \"aggregate\", \"data\"],\n\t\t\t\"favorite-list\": [\"favorite\", \"favourite\", \"star\", \"menu\", \"list\"],\n\t\t\tfactory: [\"factory\", \"production\", \"supplier\", \"manufacturing\"],\n\t\t\tendoscopy: [\"endoscopy\", \"medical\", \"procedure\"],\n\t\t\t\"employee-pane\": [\"user\", \"person\", \"employee\", \"member\", \"operator\", \"representative\", \"profile\", \"me\"],\n\t\t\t\"employee-approvals\": [\"person\", \"accept\", \"approval\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"email-read\": [\"mail\", \"letter\", \"e-mail\", \"envelope\", \"open\", \"read\"],\n\t\t\telectrocardiogram: [\"electrocardiogram\", \"heart\", \"scan\", \"monitor\", \"medical\"],\n\t\t\tdocuments: [\"document\", \"page\", \"file\", \"attachment\", \"documents\"],\n\t\t\tdecision: [\"hand shake\", \"decision\", \"hands\", \"agreement\", \"colleagues\", \"contract\"],\n\t\t\tdatabase: [\"database\", \"big data\", \"cube\", \"complex\", \"complicated\", \"simple\", \"information\", \"backend\"],\n\t\t\t\"customer-history\": [\"person\", \"history\", \"customer\", \"user\", \"clock\", \"account\"],\n\t\t\tcustomer: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"circle\", \"profile\", \"me\"],\n\t\t\t\"credit-card\": [\"credit card\", \"master-card\", \"money\", \"debit\", \"order\", \"buy\", \"purchase\", \"shopping\", \"book online\"],\n\t\t\t\"create-entry-time\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"timesheet\",\n\t\t\t\t\"clock\",\n\t\t\t\t\"hours\",\n\t\t\t\t\"days\",\n\t\t\t\t\"workday\",\n\t\t\t\t\"create entry time\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tcontacts: [\"customers\", \"contacts\", \"address\", \"email\", \"e-mail\", \"phone book\", \"directory\", \"phone numbers\", \"companies\"],\n\t\t\tcompare: [\"compare\", \"law\", \"justice\", \"scale\", \"measure\", \"weight\", \"balance\", \"compare\", \"comparison\"],\n\t\t\t\"clinical-order\": [\"document\", \"page\", \"file\", \"text\", \"medical\", \"clinical\"],\n\t\t\t\"chain-link\": [\"link\", \"chain\", \"hyperlink\"],\n\t\t\t\"pull-down\": [\"navigation\", \"pull down\", \"refresh\", \"arrow\"],\n\t\t\t\"cargo-train\": [\"train\", \"cargo\", \"delivery\", \"transit\"],\n\t\t\t\"car-rental\": [\"car\", \"auto\", \"rental\", \"company car\", \"hire\", \"vehicle\", \"transportation\"],\n\t\t\t\"business-card\": [\n\t\t\t\t\"business card\",\n\t\t\t\t\"contact\",\n\t\t\t\t\"networking\",\n\t\t\t\t\"colleague\",\n\t\t\t\t\"person\",\n\t\t\t\t\"address\",\n\t\t\t\t\"identification\",\n\t\t\t\t\"details\",\n\t\t\t\t\"profile\"\n\t\t\t],\n\t\t\t\"bar-code\": [\"bar code\", \"document\", \"file\", \"scan\", \"verify\"],\n\t\t\t\"folder-blank\": [\"folder\", \"blank\"],\n\t\t\t\"passenger-train\": [\"train\", \"public transportation\", \"passenger\"],\n\t\t\t\"question-mark\": [\"message\", \"question mark\", \"neutral\", \"notifications\", \"status\"],\n\t\t\tworld: [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"international\", \"global\"],\n\t\t\tiphone: [\"iphone\", \"phone\", \"smart phone\", \"portrait\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\tipad: [\"ipad\", \"tablet\", \"portrait\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\twarning: [\"warning\", \"exclamation mark\", \"indicator\", \"information\"],\n\t\t\tsort: [\"sort\", \"aggregate\", \"ascending\", \"descending\", \"arrow\"],\n\t\t\t\"course-book\": [\"education\", \"course\", \"learning\", \"e book\", \"bookmark\", \"open\", \"knowledge\", \"course book\", \"program\"],\n\t\t\t\"course-program\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"course\",\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"coursebook\",\n\t\t\t\t\"program\"\n\t\t\t],\n\t\t\t\"add-coursebook\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"course book\",\n\t\t\t\t\"program\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\tprint: [\"print\", \"printer\", \"send to print\", \"hard copy\", \"output\", \"paper\", \"document\", \"file\"],\n\t\t\tsave: [\"save\", \"diskette\", \"floppy disc\", \"local disc\", \"hard disc\"],\n\t\t\tplay: [\"play\"],\n\t\t\tpause: [\"pause\"],\n\t\t\trecord: [\"record\"],\n\t\t\tresponse: [\"reply\", \"response\", \"arrow\"],\n\t\t\t\"pushpin-on\": [\n\t\t\t\t\"document\",\n\t\t\t\t\"page\",\n\t\t\t\t\"file\",\n\t\t\t\t\"attachment\",\n\t\t\t\t\"pin\",\n\t\t\t\t\"pushpin\",\n\t\t\t\t\"stick\",\n\t\t\t\t\"unstick\",\n\t\t\t\t\"snap\",\n\t\t\t\t\"remove pin\",\n\t\t\t\t\"unpin\",\n\t\t\t\t\"off\",\n\t\t\t\t\"on\"\n\t\t\t],\n\t\t\t\"pushpin-off\": [\"pin\", \"pushpin\", \"stick\", \"unstick\", \"snap\", \"remove pin\", \"unpin\", \"off\", \"on\"],\n\t\t\tunfavorite: [\"remove\", \"unfavorite\", \"star\"],\n\t\t\t\"learning-assistant\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"school\",\n\t\t\t\t\"college\",\n\t\t\t\t\"help\",\n\t\t\t\t\"tutor\",\n\t\t\t\t\"assistant\",\n\t\t\t\t\"teacher\",\n\t\t\t\t\"professor\"\n\t\t\t],\n\t\t\ttimesheet: [\"document\", \"page\", \"file\", \"attachment\", \"timesheet\", \"clock\", \"hours\", \"days\", \"workday\"],\n\t\t\t\"time-entry-request\": [\"time\", \"entry\", \"request\", \"clock\", \"list\"],\n\t\t\tlist: [\"list\", \"text\", \"ordered\"],\n\t\t\t\"action-settings\": [\"settings\", \"cogwheel\", \"configuration\", \"tools\", \"modify\", \"customize\"],\n\t\t\tshare: [\"share\", \"reshare\", \"distribute\", \"arrow\"],\n\t\t\tfeed: [\"feed\", \"messages\", \"input\", \"news\", \"updates\", \"latest\", \"real-time\"],\n\t\t\trole: [\"person\", \"individual\", \"user\", \"customer\", \"permission\", \"access\", \"granted\", \"open\", \"restrictions\", \"unlocked\"],\n\t\t\tflag: [\"flag\", \"mark\", \"marker\", \"important\"],\n\t\t\tpost: [\"speech\", \"bubble\", \"comment\", \"post\"],\n\t\t\tinspect: [\"inspect\", \"dialog\", \"popup\", \"popout\", \"arrow\"],\n\t\t\t\"inspect-down\": [\"cancel\", \"x\", \"close\", \"dialog\", \"popup\"],\n\t\t\t\"appointment-2\": [\"date picker\", \"calendar\", \"month\", \"week\", \"day\", \"appointment\"],\n\t\t\t\"target-group\": [\"arrow\", \"dart\", \"dartboard\", \"target group\", \"goal\", \"audience\", \"specific\"],\n\t\t\t\"marketing-campaign\": [\"marketing campaign\", \"loud speaker\", \"megaphone\", \"notify\", \"announcenment\", \"public address\"],\n\t\t\t\"message-error\": [\"message\", \"error\", \"negative\", \"notifications\", \"status\"],\n\t\t\tcomment: [\"speech\", \"bubble\", \"comment\", \"discussion\"],\n\t\t\t\"shipping-status\": [\"shipping status\", \"truck\", \"products\", \"delivery\", \"supplier\", \"transit\", \"lorry\", \"van\", \"shipment\"],\n\t\t\tcollaborate: [\n\t\t\t\t\"group\",\n\t\t\t\t\"team\",\n\t\t\t\t\"people\",\n\t\t\t\t\"colleagues\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\"\n\t\t\t],\n\t\t\tshortcut: [\"shortcut\", \"redirect\", \"arrow\"],\n\t\t\t\"lead-outdated\": [\"lead outdated\", \"circle\", \"dollar\"],\n\t\t\t\"tools-opportunity\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\tpermission: [\"document\", \"page\", \"file\", \"permission\", \"access\", \"granted\", \"open\", \"restrictions\", \"unlocked\"],\n\t\t\tsupplier: [\n\t\t\t\t\"supplier\",\n\t\t\t\t\"package\",\n\t\t\t\t\"product\",\n\t\t\t\t\"satisfaction\",\n\t\t\t\t\"returns\",\n\t\t\t\t\"deliveries\",\n\t\t\t\t\"warehouse\",\n\t\t\t\t\"person\",\n\t\t\t\t\"seller\",\n\t\t\t\t\"buyer\",\n\t\t\t\t\"inventory\"\n\t\t\t],\n\t\t\t\"table-view\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"grid\", \"waffle\", \"view\", \"columns\", \"rows\"],\n\t\t\t\"table-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"columns\", \"rows\", \"grid\", \"waffle\", \"view\"],\n\t\t\t\"switch-views\": [\"switch\", \"views\", \"objects\", \"arrange\"],\n\t\t\t\"e-learning\": [\n\t\t\t\t\"education\",\n\t\t\t\t\"course\",\n\t\t\t\t\"e learning\",\n\t\t\t\t\"e book\",\n\t\t\t\t\"bookmark\",\n\t\t\t\t\"open\",\n\t\t\t\t\"knowledge\",\n\t\t\t\t\"school\",\n\t\t\t\t\"college\",\n\t\t\t\t\"computer\",\n\t\t\t\t\"screen\"\n\t\t\t],\n\t\t\tmanager: [\n\t\t\t\t\"manager\",\n\t\t\t\t\"company\",\n\t\t\t\t\"overview\",\n\t\t\t\t\"inform\",\n\t\t\t\t\"board\",\n\t\t\t\t\"leader\",\n\t\t\t\t\"conference\",\n\t\t\t\t\"meeting\",\n\t\t\t\t\"keynote\",\n\t\t\t\t\"speech\",\n\t\t\t\t\"presentation\"\n\t\t\t],\n\t\t\t\"switch-classes\": [\"switch\", \"views\", \"objects\", \"arrange\", \"classes\"],\n\t\t\t\"simple-payment\": [\"sales\", \"simple payment\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\tsignature: [\"pencil\", \"pen\", \"signature\", \"sign\"],\n\t\t\t\"sales-order-item\": [\"document\", \"page\", \"file\", \"sales order item\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\t\"sales-order\": [\"document\", \"page\", \"file\", \"sales order\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\trequest: [\"document\", \"page\", \"file\", \"text\", \"edit\", \"write\", \"new\", \"pencil\", \"pen\", \"request\"],\n\t\t\treceipt: [\"money\", \"bill\", \"details\", \"proof\", \"sale\", \"receipt\"],\n\t\t\tpuzzle: [\"puzzle\", \"pieces\", \"fit\", \"together\", \"jigsaw\", \"thinking\", \"objects\", \"challenge\"],\n\t\t\tprocess: [\"process\", \"flow\", \"arrow\", \"chevron\"],\n\t\t\tprivate: [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"locked\",\n\t\t\t\t\"in use\",\n\t\t\t\t\"occupied\",\n\t\t\t\t\"restricted\",\n\t\t\t\t\"private\",\n\t\t\t\t\"forbidden\"\n\t\t\t],\n\t\t\t\"popup-window\": [\"computer\", \"dialog\", \"popup\", \"window\", \"screen\", \"popout\"],\n\t\t\t\"person-placeholder\": [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"profile\", \"me\"],\n\t\t\t\"per-diem\": [\"euro\", \"time\", \"per diem\", \"calendar\"],\n\t\t\t\"paper-plane\": [\"send\", \"flight\", \"paper\", \"plane\", \"fly\", \"message\", \"note\", \"folded\"],\n\t\t\t\"paid-leave\": [\"paid leave\", \"money\", \"dollar\", \"bill\", \"approved\"],\n\t\t\t\"pdf-reader\": [\"pdf reader\", \"document\", \"display\", \"file\"],\n\t\t\t\"overview-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\"],\n\t\t\toverlay: [\"overlay\", \"circle\", \"dot\"],\n\t\t\t\"org-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\t\"number-sign\": [\"number sign\", \"hash\", \"#'\"],\n\t\t\t\"notification-2\": [\"speech\", \"bubble\", \"comment\", \"discussion\", \"notification\"],\n\t\t\t\"my-sales-order\": [\"document\", \"page\", \"sales\", \"order\", \"money\", \"bill\", \"details\", \"quote\", \"invoice\"],\n\t\t\tmeal: [\"meal\", \"knife and fork\", \"dinner\", \"lunch\", \"eating\", \"dine\", \"expenses\"],\n\t\t\tloan: [\"money bag\", \"bank\", \"dollar\", \"tag\"],\n\t\t\t\"order-status\": [\"document\", \"page\", \"file\", \"attachment\", \"order\", \"status\"],\n\t\t\t\"customer-order-entry\": [\"sign\", \"signature\", \"order\", \"entry\", \"customer\", \"contract\", \"agreement\"],\n\t\t\tperformance: [\"gauge\", \"measure\", \"speed\", \"monitor\", \"performance\"],\n\t\t\tmenu: [\"menu\", \"list\"],\n\t\t\t\"employee-lookup\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"look up\", \"find\", \"search\"],\n\t\t\teducation: [\"education\", \"course\", \"learning\", \"e book\", \"bookmark\", \"open\", \"knowledge\", \"school\", \"college\"],\n\t\t\t\"customer-briefing\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"address\", \"email\", \"e-mail\", \"briefing\"],\n\t\t\t\"customer-and-contacts\": [\"customer\", \"user\", \"person\", \"individual\", \"contacts\", \"address\", \"email\", \"e-mail\"],\n\t\t\t\"my-view\": [\"my view\", \"person\", \"profile\", \"tv\", \"monitor\", \"video call\", \"individual\", \"cutomer\", \"user\"],\n\t\t\taccelerated: [\"calendar\", \"time\", \"speed\"],\n\t\t\t\"to-be-reviewed\": [\"to be reviewed\", \"indicator\", \"information\"],\n\t\t\twarning2: [\"warning\", \"to be reviewed\", \"indicator\", \"information\"],\n\t\t\t\"feeder-arrow\": [\"feeder\", \"arrow\", \"input\", \"enter text\", \"execute\", \"send\"],\n\t\t\t\"quality-issue\": [\"quality issue\", \"warning\", \"problem\", \"attention\", \"status\", \"details\"],\n\t\t\t\"workflow-tasks\": [\"calendar\", \"workflow\", \"task\", \"process\", \"steps\", \"project\"],\n\t\t\tcreate: [\"document\", \"page\", \"file\", \"attachment\", \"create\", \"new\"],\n\t\t\t\"home-share\": [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"share\", \"global distribution\", \"arrow\"],\n\t\t\tglobe: [\"globe\", \"world\", \"goegraphical\", \"earth\", \"planet\", \"international\", \"global\"],\n\t\t\ttags: [\"tag\", \"label\", \"marker\", \"indicator\", \"detail\"],\n\t\t\t\"work-history\": [\"folder\", \"person\", \"work history\"],\n\t\t\t\"x-ray\": [\"x ray\", \"procedure\", \"scan\", \"medical\"],\n\t\t\t\"wounds-doc\": [\"wounds\", \"doc\", \"injury\", \"accident\", \"hospital\", \"patient\", \"emergency\", \"health\", \"illness\", \"cross\"],\n\t\t\t\"web-cam\": [\"web cam\", \"camera\", \"live\", \"video\", \"visual\"],\n\t\t\twaiver: [\"waiver\", \"money bag\", \"percentage\"],\n\t\t\t\"vertical-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bar\", \"vertical\"],\n\t\t\t\"upstacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"upstacked\"],\n\t\t\t\"trip-report\": [\"analytics\", \"chart\", \"display\", \"data\", \"suitcase\", \"trip\", \"report\", \"business trip\"],\n\t\t\tmicrophone: [\"microphone\", \"mic\", \"keynote\", \"announcement\", \"speech\", \"talk\", \"audio\", \"dictate\", \"record\"],\n\t\t\t\"unpaid-leave\": [\"unpaid leave\", \"money\", \"dollar\", \"bill\", \"rejected\"],\n\t\t\ttree: [\"analytics\", \"chart\", \"display\", \"data\", \"overview\", \"map\", \"org\", \"tree\"],\n\t\t\t\"toaster-up\": [\"toaster\", \"up\", \"details\"],\n\t\t\t\"toaster-top\": [\"toaster\", \"top\", \"details\"],\n\t\t\t\"toaster-down\": [\"toaster\", \"down\", \"details\"],\n\t\t\t\"time-account\": [\"time\", \"account\", \"clock\", \"list\"],\n\t\t\ttheater: [\"theater\", \"show\", \"play\", \"masks\"],\n\t\t\ttaxi: [\"car\", \"taxi\", \"cab\", \"transportation\"],\n\t\t\t\"subway-train\": [\"subway train\", \"underground\", \"tube\"],\n\t\t\t\"study-leave\": [\"study\", \"education\", \"graduate\", \"school\", \"college\", \"student\", \"qualification\"],\n\t\t\tstethoscope: [\"stethoscope\", \"medical\", \"health\", \"doctor\", \"hospital\", \"nurse\"],\n\t\t\tstep: [\"process\", \"flow\", \"step\", \"arrow\"],\n\t\t\tsonography: [\"sonography\", \"medical\", \"ultrasound\", \"ultrasonography\"],\n\t\t\tsoccer: [\"soccer\", \"ball\", \"football\", \"world cup\"],\n\t\t\t\"physical-activity\": [\"physical activity\", \"runing\", \"run\", \"jogging\"],\n\t\t\tpharmacy: [\"medicine\", \"pills\", \"drugs\", \"pharmacy\", \"pain\", \"medication\"],\n\t\t\t\"official-service\": [\"official\", \"service\", \"government\", \"court house\", \"law\", \"legal\", \"authority\", \"official\"],\n\t\t\t\"offsite-work\": [\"offsite work\", \"external\", \"company\", \"office\", \"outside\"],\n\t\t\t\"nutrition-activity\": [\"apple\", \"nutrition\", \"activity\", \"health\", \"fruit\"],\n\t\t\tnewspaper: [\"newspaper\", \"headlines\", \"latest\", \"updates\"],\n\t\t\t\"monitor-payments\": [\n\t\t\t\t\"report\",\n\t\t\t\t\"bill\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"sales\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"quote\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\",\n\t\t\t\t\"monitor payments\"\n\t\t\t],\n\t\t\t\"map-2\": [\"map\", \"card\", \"navigation\", \"hunt\", \"destination\", \"location\"],\n\t\t\tmachine: [\"machine\", \"factory\", \"production\", \"supplier\", \"technical\"],\n\t\t\t\"mri-scan\": [\"mri\", \"scan\", \"medical\"],\n\t\t\t\"end-user-experience-monitoring\": [\"end user experience monitoring\", \"gauge\", \"measure\", \"speed\", \"monitor\"],\n\t\t\tunwired: [\"unwired\", \"gauge\", \"measure\", \"speed\", \"monitor\", \"performance\"],\n\t\t\t\"customer-financial-fact-sheet\": [\"document\", \"page\", \"file\", \"attachment\", \"customer\", \"financial\", \"fact sheet\", \"money\"],\n\t\t\t\"retail-store-manager\": [\"retail store manager\"],\n\t\t\t\"electronic-medical-record\": [\"electronic medical record\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"eam-work-order\": [\"enterprise asset management\", \"work\", \"order\", \"hard hat\", \"check\", \"tick mark\"],\n\t\t\t\"customer-view\": [\"customer\", \"view\", \"analytics\", \"overview\"],\n\t\t\t\"crm-service-manager\": [\"crm service manager\", \"task\", \"dropdown\", \"list\"],\n\t\t\t\"crm-sales\": [\"crm sales\", \"customer\", \"relationship\", \"management\", \"person\", \"star\", \"money\", \"list\"],\n\t\t\twidgets: [\"widgets\", \"random\", \"star\", \"dollar\", \"plane\", \"music\", \"apps\"],\n\t\t\t\"commission-check\": [\"commission check\", \"coins\", \"stack\", \"search\", \"percentage\", \"money\"],\n\t\t\t\"collections-insight\": [\n\t\t\t\t\"collections\",\n\t\t\t\t\"insight\",\n\t\t\t\t\"report\",\n\t\t\t\t\"bill\",\n\t\t\t\t\"billing\",\n\t\t\t\t\"sales\",\n\t\t\t\t\"expense\",\n\t\t\t\t\"quote\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"invoice\",\n\t\t\t\t\"dollar\",\n\t\t\t\t\"money\"\n\t\t\t],\n\t\t\t\"clinical-tast-tracker\": [\"clinical\", \"task\", \"tracker\", \"clipboard\", \"medical\", \"checklist\", \"check boxes\"],\n\t\t\t\"citizen-connect\": [\n\t\t\t\t\"citizen connect\",\n\t\t\t\t\"people\",\n\t\t\t\t\"colleagues\",\n\t\t\t\t\"communication\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\"\n\t\t\t],\n\t\t\t\"cart-approval\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"approve\", \"approval\", \"accept\", \"check\"],\n\t\t\t\"capital-projects\": [\"capital projects\", \"building\", \"dollar\", \"money\"],\n\t\t\t\"bo-strategy-management\": [\"bo strategy management\", \"business\", \"object\", \"circle\"],\n\t\t\t\"business-objects-mobile\": [\"business objects mobile\", \"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"business-objects-explorer\": [\"business objects explorer\", \"compass\"],\n\t\t\t\"business-objects-experience\": [\"analytics\", \"chart\", \"display\", \"data\", \"business objects experience\"],\n\t\t\t\"bbyd-dashboard\": [\"business by design\", \"dashboard\"],\n\t\t\t\"bbyd-active-sales\": [\"business by design\", \"active\", \"sales\", \"search\", \"approvals\", \"check\", \"book\"],\n\t\t\t\"business-by-design\": [\"business by design\"],\n\t\t\t\"business-one\": [\"business one\"],\n\t\t\t\"sap-box\": [\"container\", \"box\", \"work load\", \"collection\", \"documents\", \"files\", \"filing\", \"directory\", \"storage\"],\n\t\t\t\"manager-insight\": [\"manager\", \"insight\", \"company\", \"overview\", \"analyse\", \"inform\", \"board\", \"report\"],\n\t\t\t\"accounting-document-verification\": [\"document\", \"approve\", \"verify\", \"accounting\", \"money\", \"coins\"],\n\t\t\t\"hr-approval\": [\"person\", \"accept\", \"approval\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"idea-wall\": [\n\t\t\t\t\"idea\",\n\t\t\t\t\"wall\",\n\t\t\t\t\"collaborate\",\n\t\t\t\t\"teamwork\",\n\t\t\t\t\"peer to peer\",\n\t\t\t\t\"design thinking\",\n\t\t\t\t\"work\",\n\t\t\t\t\"together\",\n\t\t\t\t\"project\",\n\t\t\t\t\"improve\"\n\t\t\t],\n\t\t\t\"cart-5\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"sap\"],\n\t\t\t\"cart-4\": [\n\t\t\t\t\"cart\",\n\t\t\t\t\"trolley\",\n\t\t\t\t\"basket\",\n\t\t\t\t\"shopping\",\n\t\t\t\t\"item\",\n\t\t\t\t\"add\",\n\t\t\t\t\"put in\",\n\t\t\t\t\"insert\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\twallet: [\"money\", \"wallet\", \"purse\", \"coins\", \"bank\", \"allowance\", \"worth\", \"wealth\", \"cash\", \"notes\"],\n\t\t\t\"vehicle-repair\": [\"car\", \"crash\", \"accident\", \"damage\", \"repair\", \"fix\", \"garage\", \"vehicle\"],\n\t\t\tupload: [\"upload\", \"arrow\"],\n\t\t\tunlocked: [\"unlocked\", \"open padlock\", \"open\", \"status\", \"available\", \"access\", \"unrestricted\"],\n\t\t\tumbrella: [\"rain\", \"umbrella\", \"brolly\", \"shelter\", \"keep dry\"],\n\t\t\t\"travel-request\": [\"bubble\", \"question\", \"exclamation\", \"notifications\", \"status\", \"help\"],\n\t\t\t\"travel-expense-report\": [\"report\", \"bill\", \"billing\", \"sales\", \"travel\", \"expense\", \"quote\", \"envelope\", \"invoice\"],\n\t\t\t\"travel-itinerary\": [\"travel\", \"airplane\", \"plane\", \"car\", \"itinerary\", \"schedule\", \"plan\", \"flight\", \"drive\"],\n\t\t\t\"time-overtime\": [\"time\", \"overtime\", \"clock\", \"money\", \"hours\"],\n\t\t\t\"thing-type\": [\"popup\", \"speech\", \"bubble\", \"thing-type\"],\n\t\t\t\"technical-object\": [\"technical\", \"object\", \"wrench\", \"tool\", \"fine tune\", \"tweak\", \"fix\", \"work\", \"component\"],\n\t\t\ttag: [\"tag\", \"label\", \"marker\", \"indicator\", \"detail\"],\n\t\t\tsyringe: [\"medical\", \"emergency\", \"hospital\", \"syringe\", \"needle\", \"shot\", \"injection\"],\n\t\t\tsyntax: [\"source\", \"code\", \"develop\", \"write\", \"syntax\"],\n\t\t\tsuitcase: [\"travel\", \"suitcase\", \"business trip\", \"personal\", \"possessions\", \"articles\", \"items\", \"collection\"],\n\t\t\tsimulate: [\n\t\t\t\t\"calculator\",\n\t\t\t\t\"calculate\",\n\t\t\t\t\"count\",\n\t\t\t\t\"numbers\",\n\t\t\t\t\"counting\",\n\t\t\t\t\"simulate\",\n\t\t\t\t\"divide\",\n\t\t\t\t\"calculation\",\n\t\t\t\t\"tot up\",\n\t\t\t\t\"digits\",\n\t\t\t\t\"algorithm\",\n\t\t\t\t\"mathematician\",\n\t\t\t\t\"mathematics\"\n\t\t\t],\n\t\t\tshield: [\"authority\", \"legitimate\", \"official\", \"important\", \"protection\", \"defense\", \"security\"],\n\t\t\t\"share-2\": [\"share\", \"distribute\", \"share with connections\"],\n\t\t\t\"sales-quote\": [\"document\", \"page\", \"file\", \"text\", \"sales\", \"money\", \"bill\", \"details\", \"quote\"],\n\t\t\trepost: [\"post again\", \"circulate\"],\n\t\t\tprovision: [\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"data\",\n\t\t\t\t\"table\",\n\t\t\t\t\"columns\",\n\t\t\t\t\"rows\",\n\t\t\t\t\"grid\",\n\t\t\t\t\"waffle\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\"\n\t\t\t],\n\t\t\tprojector: [\"beamer\", \"projector\", \"show\", \"movie\", \"presentation\", \"keynote\"],\n\t\t\t\"add-product\": [\"product\", \"box\", \"package\", \"unit\", \"inventory\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"pipeline-analysis\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"add-photo\": [\"camera\", \"photograph\", \"device\", \"image\", \"snap shot\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\tpalette: [\"palette\", \"paint\", \"color\", \"spot\", \"mixing\", \"artist\", \"theme\", \"design\"],\n\t\t\tnurse: [\"nurse\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"sales-notification\": [\"bubble\", \"sales\", \"notification\"],\n\t\t\tmileage: [\"mileage\", \"tank\", \"petrol\", \"fuel\", \"fill up\", \"gas\", \"station\"],\n\t\t\t\"meeting-room\": [\"meeting\", \"room\", \"collaborate\", \"colleagues\", \"teamwork\", \"peer to peer\"],\n\t\t\t\"media-forward\": [\"forward\", \"media\", \"arrow\", \"end\", \"finish\"],\n\t\t\t\"media-play\": [\"play\", \"media\", \"arrow\"],\n\t\t\t\"media-pause\": [\"pause\", \"media\", \"arrow\"],\n\t\t\t\"media-reverse\": [\"reverse\", \"media\", \"arrow\"],\n\t\t\t\"media-rewind\": [\"rewind\", \"media\", \"arrow\", \"start\", \"back\"],\n\t\t\t\"measurement-document\": [\"measure\", \"weight\", \"scale\", \"precision\", \"technical\", \"calibrate\", \"calibration\", \"calculation\"],\n\t\t\t\"measuring-point\": [\"measure\", \"point\", \"scale\", \"precision\", \"arrow\"],\n\t\t\tmeasure: [\"measure\", \"weight\", \"scale\", \"precision\", \"technical\", \"calibrate\", \"calibration\", \"calculation\"],\n\t\t\t\"map-3\": [\"map\", \"card\", \"x marks the spot\", \"treasure\", \"navigation\", \"hunt\", \"find\", \"destination\", \"location\"],\n\t\t\tlocked: [\"locked\", \"padlock\", \"private\", \"status\", \"in use\", \"forbidden\", \"restricted\", \"safe\"],\n\t\t\tletter: [\"letter\", \"mail\", \"post\", \"postal\", \"envelope\", \"address\", \"contact\", \"correspondence\"],\n\t\t\t\"journey-arrive\": [\"journey\", \"arrive\", \"arrow\", \"placement\"],\n\t\t\t\"journey-change\": [\"journey\", \"change\", \"direction\", \"arrow\", \"placement\"],\n\t\t\t\"journey-depart\": [\"journey\", \"depart\", \"arrow\", \"move\", \"placement\"],\n\t\t\t\"it-system\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"system\"],\n\t\t\t\"it-instance\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"instance\"],\n\t\t\t\"it-host\": [\"server\", \"it\", \"machine\", \"computer\", \"technology\", \"device\", \"host\"],\n\t\t\t\"iphone-2\": [\"iphone\", \"phone\", \"smart phone\", \"landscape\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\t\"ipad-2\": [\"ipad\", \"landscape\", \"tablet\", \"mobile\", \"responsive\", \"cozy\"],\n\t\t\tinventory: [\"inventory\", \"truck\", \"wrench\", \"tools\"],\n\t\t\t\"insurance-house\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"house\"],\n\t\t\t\"insurance-life\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"life\"],\n\t\t\t\"insurance-car\": [\"document\", \"page\", \"file\", \"attachment\", \"insurance\", \"car\"],\n\t\t\tinitiative: [\"initiative\", \"initiate\", \"begin\", \"enter\", \"right\", \"arrow\", \"circle\"],\n\t\t\tincident: [\"incident\", \"question\", \"message\"],\n\t\t\t\"group-2\": [\"group\", \"data\", \"aggregate\", \"list\", \"table\"],\n\t\t\tgoal: [\"goal\", \"target\", \"result\", \"objective\", \"aim\"],\n\t\t\t\"functional-location\": [\"arrow\", \"locate\", \"me\", \"map\", \"location\", \"pointer\", \"navigation\", \"functional\"],\n\t\t\t\"full-screen\": [\"full\", \"screen\", \"arrow\"],\n\t\t\tform: [\"form\", \"details\", \"text\"],\n\t\t\t\"fob-watch\": [\"fob watch\", \"time\", \"stop watch\", \"timer\", \"countdown\"],\n\t\t\t\"blank-tag\": [\"tag\", \"label\", \"marker\", \"indicator\", \"blank\"],\n\t\t\t\"family-protection\": [\"family\", \"protection\", \"people\", \"house\", \"roof\", \"family\"],\n\t\t\tfolder: [\"folder\", \"details\"],\n\t\t\t\"fax-machine\": [\"fax\", \"machine\", \"communicate\"],\n\t\t\texample: [\"example\", \"dots\", \"cicles\", \"individual\", \"odd\"],\n\t\t\teraser: [\"pencil\", \"pen\", \"erase\", \"remove\", \"undo\", \"text\"],\n\t\t\t\"employee-rejections\": [\"person\", \"x\", \"rejections\", \"employee\", \"hr\", \"human resources\"],\n\t\t\t\"drop-down-list\": [\"dropdown\", \"list\", \"arrow\", \"megamenu\"],\n\t\t\t\"draw-rectangle\": [\"draw\", \"rectangle\", \"resize\", \"shape\", \"create\"],\n\t\t\tdocument: [\"document\", \"page\", \"file\", \"attachment\", \"blank\", \"new\"],\n\t\t\tdoctor: [\"doctor\", \"medical\", \"cross\", \"emergency\", \"hospital\"],\n\t\t\t\"discussion-2\": [\"speech\", \"bubble\", \"comment\", \"discussion\", \"text\"],\n\t\t\tdiscussion: [\"speech\", \"bubble\", \"comment\", \"discussion\", \"blank\"],\n\t\t\tdimension: [\"dimension\", \"layers\", \"stacked\"],\n\t\t\t\"customer-and-supplier\": [\n\t\t\t\t\"customer and supplier\",\n\t\t\t\t\"package\",\n\t\t\t\t\"product\",\n\t\t\t\t\"satisfaction\",\n\t\t\t\t\"returns\",\n\t\t\t\t\"warehouse\",\n\t\t\t\t\"person\",\n\t\t\t\t\"seller\",\n\t\t\t\t\"buyer\",\n\t\t\t\t\"inventory\"\n\t\t\t],\n\t\t\tcrop: [\"crop\", \"clip\", \"snip\", \"cut\", \"picture\", \"image\", \"shape\", \"obect\"],\n\t\t\t\"add-contact\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"contact\",\n\t\t\t\t\"business card\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"details\",\n\t\t\t\t\"address\",\n\t\t\t\t\"information\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\t\"compare-2\": [\"compare\", \"law\", \"justice\", \"scale\", \"measure\", \"weight\", \"balance\", \"compare\", \"comparison\"],\n\t\t\t\"color-fill\": [\"square\", \"filled\", \"color\"],\n\t\t\tcollision: [\"car\", \"crash\", \"accident\", \"damage\"],\n\t\t\tcurriculum: [\"folder\", \"curriculum\", \"learning\", \"documents\", \"content\"],\n\t\t\t\"chart-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"chart axis\", \"arrows\", \"directions\"],\n\t\t\t\"full-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"full stacked chart\"],\n\t\t\t\"full-stacked-column-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"full stacked column chart\"],\n\t\t\t\"vertical-bar-chart-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"vertical bar chart\"],\n\t\t\t\"horizontal-bar-chart-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"horizontal bar chart\"],\n\t\t\t\"horizontal-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"horizontal stacked chart\"],\n\t\t\t\"vertical-stacked-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"vertical stacked chart\"],\n\t\t\t\"choropleth-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"choropleth chart\", \"geographic\", \"map\", \"world\"],\n\t\t\t\"geographic-bubble-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"geographic\", \"bubble\", \"map\", \"world\"],\n\t\t\t\"multiple-radar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple radar chart\"],\n\t\t\t\"radar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"radar-chart\"],\n\t\t\t\"crossed-line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"crossed line chart\"],\n\t\t\t\"multiple-line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple line chart\"],\n\t\t\t\"multiple-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple bar chart\"],\n\t\t\t\"line-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"line chart\"],\n\t\t\t\"line-chart-dual-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"line chart\", \"dual axis\"],\n\t\t\t\"bubble-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"bubble chart\"],\n\t\t\t\"scatter-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"scatter chart\"],\n\t\t\t\"multiple-pie-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple\", \"pie chart\"],\n\t\t\t\"column-chart-dual-axis\": [\"analytics\", \"chart\", \"display\", \"data\", \"column\", \"dual axis\"],\n\t\t\t\"tag-cloud-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"speech\", \"tag\", \"cloud\"],\n\t\t\t\"area-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"area\"],\n\t\t\tcause: [\"get\", \"reason\", \"incoming\", \"arrow\", \"relocate\", \"take\"],\n\t\t\t\"cart-3\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"item\", \"add\", \"put in\", \"insert\", \"down\", \"arrow\"],\n\t\t\t\"cart-2\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"empty\", \"remove\", \"take out\", \"clear\", \"up\", \"arrow\"],\n\t\t\t\"bus-public-transport\": [\"bus\", \"public\", \"traffic\", \"vehicle\"],\n\t\t\tburglary: [\"money\", \"thief\", \"loss\", \"theft\", \"safe\", \"unsafe\", \"burglary\", \"robbery\", \"bank\"],\n\t\t\tbuilding: [\"building\", \"company\", \"firm\", \"factory\", \"office\"],\n\t\t\tborder: [\"border\", \"square\", \"outline\"],\n\t\t\tbookmark: [\"bookmark\", \"later\", \"marker\", \"save\"],\n\t\t\tbadge: [\n\t\t\t\t\"badge\",\n\t\t\t\t\"insignia\",\n\t\t\t\t\"star\",\n\t\t\t\t\"service\",\n\t\t\t\t\"identity\",\n\t\t\t\t\"authority\",\n\t\t\t\t\"legitimate\",\n\t\t\t\t\"coat of arms\",\n\t\t\t\t\"membership\",\n\t\t\t\t\"award\",\n\t\t\t\t\"rank\"\n\t\t\t],\n\t\t\t\"attachment-audio\": [\"document\", \"page\", \"file\", \"attachment\", \"audio\", \"sound\"],\n\t\t\t\"attachment-video\": [\"document\", \"page\", \"file\", \"attachment\", \"video\", \"film\", \"movie\"],\n\t\t\t\"attachment-html\": [\"document\", \"page\", \"file\", \"attachment\", \"html\", \"web\", \"website\"],\n\t\t\t\"attachment-photo\": [\"document\", \"page\", \"file\", \"attachment\", \"photo\", \"image\"],\n\t\t\t\"attachment-e-pub\": [\"document\", \"page\", \"file\", \"e pub\", \"electronic publication\", \"e book\"],\n\t\t\t\"attachment-zip-file\": [\"document\", \"page\", \"file\", \"zip\", \"compressed\"],\n\t\t\t\"attachment-text-file\": [\"document\", \"page\", \"file\", \"text\"],\n\t\t\t\"add-equipment\": [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"add-activity\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"activity-individual\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"individual\", \"person\"],\n\t\t\t\"activity-2\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"check list\", \"correct\", \"success\", \"tick mark\"],\n\t\t\t\"add-activity-2\": [\n\t\t\t\t\"activity\",\n\t\t\t\t\"activities\",\n\t\t\t\t\"tasks\",\n\t\t\t\t\"to do\",\n\t\t\t\t\"list\",\n\t\t\t\t\"check list\",\n\t\t\t\t\"correct\",\n\t\t\t\t\"success\",\n\t\t\t\t\"tick mark\",\n\t\t\t\t\"add\",\n\t\t\t\t\"plus\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"another\",\n\t\t\t\t\"more\"\n\t\t\t],\n\t\t\t\"activity-items\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"list\", \"items\"],\n\t\t\t\"activity-assigned-to-goal\": [\"activity\", \"activities\", \"tasks\", \"to do\", \"assigned to goal\", \"target\", \"objective\"],\n\t\t\t\"status-positive\": [\"positive\", \"completed\", \"on track\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-negative\": [\"negative\", \"attention\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-inactive\": [\"inactive\", \"neutral\", \"information\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"status-critical\": [\"critical\", \"in process\", \"warning\", \"led\", \"traffic lights\", \"street sign\", \"lifecycle\"],\n\t\t\t\"blank-tag-2\": [\"tag\", \"label\", \"marker\", \"indicator\", \"blank\"],\n\t\t\t\"cart-full\": [\"cart\", \"trolley\", \"basket\", \"shopping\", \"full\", \"capacity\", \"load\"],\n\t\t\t\"locate-me\": [\"arrow\", \"locate\", \"me\", \"map\", \"location\", \"pointer\", \"navigation\"],\n\t\t\tpaging: [\"paging\", \"navigation\"],\n\t\t\t\"company-view\": [\"view\", \"group\", \"company\", \"personnel\", \"firm\", \"overview\"],\n\t\t\t\"document-text\": [\"document\", \"page\", \"file\", \"text\"],\n\t\t\texplorer: [\"explorer\", \"compass\"],\n\t\t\t\"personnel-view\": [\"view\", \"person\", \"profile\", \"personnel\", \"overview\"],\n\t\t\t\"sorting-ranking\": [\"sort\", \"ranking\", \"ascending\", \"descending\", \"arrow\"],\n\t\t\t\"drill-down\": [\"drill down\", \"arrow\", \"detail\", \"hierarchy\", \"level\", \"megamenu\"],\n\t\t\t\"drill-up\": [\"drill up\", \"arrow\", \"detail\", \"hierarchy\", \"level\"],\n\t\t\t\"vds-file\": [\"document\", \"page\", \"file\", \"text\", \"attachment\", \"Visual Design Stream\", \"vds\"],\n\t\t\t\"sap-logo-shape\": [\"sap\", \"logo\", \"shape\"],\n\t\t\t\"folder-full\": [\"folder\", \"full\"],\n\t\t\t\"system-exit\": [\"system\", \"exit\"],\n\t\t\t\"system-exit-2\": [\"system\", \"exit\"],\n\t\t\t\"close-command-field\": [\"close command field\", \"navigation\", \"left\", \"page left\", \"previous\", \"arrow\"],\n\t\t\t\"open-command-field\": [\"open command field\", \"navigation\", \"right\", \"page right\", \"next\", \"arrow\"],\n\t\t\t\"sys-enter-2\": [\"system\", \"enter\", \"correct\", \"tick\", \"affirmative\"],\n\t\t\t\"sys-enter\": [\"system\", \"enter\", \"correct\", \"tick\", \"affirmative\"],\n\t\t\t\"sys-help-2\": [\"system\", \"help\", \"circle\", \"question\"],\n\t\t\t\"sys-help\": [\"system\", \"help\", \"circle\", \"question\"],\n\t\t\t\"sys-back\": [\"system\", \"back\", \"arrows\"],\n\t\t\t\"sys-back-2\": [\"system\", \"back\", \"arrows\"],\n\t\t\t\"sys-cancel\": [\"clear\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"sys-cancel-2\": [\"clear\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"open-folder\": [\"folder\", \"open\"],\n\t\t\t\"sys-find-next\": [\"find\", \"binoculars\", \"look up\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"sys-find\": [\"find\", \"binoculars\", \"look up\"],\n\t\t\t\"sys-monitor\": [\"screen\", \"monitor\", \"tv\"],\n\t\t\t\"sys-prev-page\": [\"system\", \"previous\", \"page\", \"up\", \"arrows\"],\n\t\t\t\"sys-first-page\": [\"system\", \"first\", \"page\", \"up\", \"top\", \"arrows\"],\n\t\t\t\"sys-next-page\": [\"system\", \"next\", \"page\", \"down\", \"arrows\"],\n\t\t\t\"sys-last-page\": [\"system\", \"last\", \"page\", \"down\", \"bottom\", \"arrows\"],\n\t\t\t\"generate-shortcut\": [\"generate\", \"shortcut\", \"arrow\"],\n\t\t\t\"create-session\": [\"create\", \"session\"],\n\t\t\t\"display-more\": [\"display\", \"details\", \"more\", \"arrow\"],\n\t\t\t\"enter-more\": [\"enter\", \"details\", \"more\", \"arrow\"],\n\t\t\t\"zoom-in\": [\"zoom\", \"in\", \"magnify\", \"glass\", \"plus\", \"enlarge\", \"bigger\"],\n\t\t\t\"zoom-out\": [\"zoom\", \"out\", \"glass\", \"minus\", \"reduce\", \"smaller\"],\n\t\t\theader: [\"maximize\", \"header\", \"screen\"],\n\t\t\t\"detail-view\": [\"search\", \"form\", \"look up\", \"find\", \"view\", \"detial\"],\n\t\t\tcollapse: [\"collapse all\", \"minus\", \"ungroup all\", \"arrow\"],\n\t\t\texpand: [\"expand all\", \"plus\", \"group all\", \"arrow\"],\n\t\t\tpositive: [\"plus\", \"positive\"],\n\t\t\tnegative: [\"minus\", \"remove\", \"subtract\", \"negative\"],\n\t\t\tdisplay: [\"display\", \"details\", \"inspect\", \"spectacles\", \"glasses\"],\n\t\t\tmenu2: [\"menu\", \"hamburger menu\", \"main menu\"],\n\t\t\tredo: [\"redo\", \"arrow\", \"previous state\", \"history\", \"forwards\"],\n\t\t\tundo: [\"undo\", \"arrow\", \"previous state\", \"history\", \"backwards\"],\n\t\t\t\"navigation-up-arrow\": [\"navigation\", \"up\", \"arrow\"],\n\t\t\t\"navigation-down-arrow\": [\"navigation\", \"down\", \"collapse\", \"expanded tree\", \"tree arrow\", \"arrow\", \"megamenu\"],\n\t\t\tdown: [\"down\", \"triangle\", \"megamenu\"],\n\t\t\tup: [\"up\", \"triangle\"],\n\t\t\tshelf: [\"shelf\", \"storage\", \"drawers\", \"compartments\"],\n\t\t\tbackground: [\"image\", \"placeholder\", \"picture\", \"hills\", \"mountains\", \"sun\"],\n\t\t\tresize: [\"resize\", \"bigger\", \"smaller\"],\n\t\t\tmove: [\"move\", \"relocate\", \"left\", \"right\", \"up\", \"down\"],\n\t\t\tshow: [\"show\", \"eye\"],\n\t\t\thide: [\"hide\", \"eye\"],\n\t\t\t\"nav-back\": [\"navigation\", \"back\", \"previous\", \"arrow\"],\n\t\t\terror: [\"message\", \"error\", \"negative\", \"notifications\", \"status\", \"solid\"],\n\t\t\t\"slim-arrow-right\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"right\", \"scroll right\"],\n\t\t\t\"slim-arrow-left\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"left\", \"scroll left\"],\n\t\t\t\"slim-arrow-down\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"down\", \"select navigation\", \"combobox\", \"multi combobox\"],\n\t\t\t\"slim-arrow-up\": [\"slim\", \"thin\", \"skinny\", \"arrow\", \"up\"],\n\t\t\tforward: [\"forward\", \"arrow\"],\n\t\t\toverflow: [\"overflow\", \"dots\", \"ellipsis\", \"more\"],\n\t\t\t\"value-help\": [\"value\", \"help\", \"popup\", \"assistance\", \"multi input\"],\n\t\t\t\"multi-select\": [\"multi select\", \"list\", \"table\", \"data\"],\n\t\t\t\"exit-full-screen\": [\"exit\", \"fullscreen\", \"arrow\"],\n\t\t\t\"sys-add\": [\"add\", \"plus\", \"additional\", \"another\", \"more\", \"add row\", \"add object\", \"add item\"],\n\t\t\t\"sys-minus\": [\"minus\", \"remove\", \"subtract\"],\n\t\t\tdropdown: [\"dropdown\", \"menu\", \"menu button\", \"arrow\", \"megamenu\"],\n\t\t\t\"expand-group\": [\"expand\", \"group\", \"move to bottom\", \"arrow\"],\n\t\t\t\"vertical-grip\": [\"vertical\", \"grip\", \"move left\", \"move right\", \"splitter\"],\n\t\t\t\"horizontal-grip\": [\"horizontal\", \"grip\", \"move up\", \"move down\", \"splitter\"],\n\t\t\t\"sort-descending\": [\"sort\", \"descending\", \"down\", \"table\", \"aggregate\"],\n\t\t\t\"sort-ascending\": [\"sort\", \"ascending\", \"up\", \"table\", \"aggregate\"],\n\t\t\t\"arrow-down\": [\"arrow\", \"circle\", \"down\", \"variant\", \"management\", \"selection\", \"options\", \"megamenu\"],\n\t\t\tlegend: [\"legend\", \"description\", \"colors\", \"charts\", \"table\", \"planning\", \"calendar\"],\n\t\t\t\"collapse-group\": [\"collapse\", \"group\", \"move to top\", \"arrow\"],\n\t\t\t\"message-warning\": [\"message\", \"warning\", \"critical\", \"notifications\", \"status\"],\n\t\t\t\"message-information\": [\"message\", \"information\", \"neutral\", \"notifications\", \"status\"],\n\t\t\t\"message-success\": [\"message\", \"success\", \"positive\", \"notifications\", \"status\"],\n\t\t\trestart: [\"restart\", \"process\", \"play\"],\n\t\t\tstop: [\"stop\", \"process\", \"play\"],\n\t\t\t\"add-process\": [\"process\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"cancel-maintenance\": [\"wrench\", \"control\", \"configuration\", \"settings\", \"tool\", \"cancel maintenance\"],\n\t\t\tactivate: [\"activate\", \"ignite\", \"initiate\", \"magic\", \"wand\", \"spark\"],\n\t\t\t\"resize-horizontal\": [\n\t\t\t\t\"resize\",\n\t\t\t\t\"horizontal\",\n\t\t\t\t\"column\",\n\t\t\t\t\"screen\",\n\t\t\t\t\"bigger\",\n\t\t\t\t\"smaller\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"arrows\",\n\t\t\t\t\"lines\",\n\t\t\t\t\"side to side\"\n\t\t\t],\n\t\t\t\"resize-vertical\": [\n\t\t\t\t\"resize\",\n\t\t\t\t\"vertical\",\n\t\t\t\t\"row\",\n\t\t\t\t\"screen\",\n\t\t\t\t\"bigger\",\n\t\t\t\t\"smaller\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"arrows\",\n\t\t\t\t\"lines\",\n\t\t\t\t\"up and down\"\n\t\t\t],\n\t\t\tconnected: [\"plug\", \"connected\", \"on\", \"state\"],\n\t\t\tdisconnected: [\"plug\", \"disconnected\", \"unplug\", \"state\"],\n\t\t\t\"edit-outside\": [\"pencil\", \"pen\", \"write\", \"edit\", \"modify\", \"text\", \"outside\", \"arrow\"],\n\t\t\tkey: [\"key\", \"data\", \"lock\", \"important\"],\n\t\t\tminimize: [\"minimize\", \"screen\", \"window\", \"reduce\", \"hide\"],\n\t\t\t\"back-to-top\": [\"back to top\", \"jump\", \"beginning\", \"arrow\", \"up\"],\n\t\t\t\"hello-world\": [\"bubble\", \"ui5\", \"hello\", \"world\"],\n\t\t\toutbox: [\"outbox\", \"out\", \"arrow\"],\n\t\t\t\"donut-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"heatmap-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"horizontal-bullet-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"vertical-bullet-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\tcall: [\"call\", \"communicate\", \"phone\", \"telephone\"],\n\t\t\t\"download-from-cloud\": [\"download\", \"cloud\", \"arrow\"],\n\t\t\t\"upload-to-cloud\": [\"save\", \"upload\", \"cloud\", \"arrow\"],\n\t\t\tjam: [\"sap\", \"logo\", \"jam\", \"social\", \"collaborate\", \"share\"],\n\t\t\t\"sap-ui5\": [\"ui5\", \"framework\", \"development\", \"sap\"],\n\t\t\t\"message-popup\": [\"message\", \"popup\", \"speech\", \"bubble\", \"exclamation\", \"notifications\", \"status\"],\n\t\t\tcloud: [\"cloud\", \"platform\", \"storage\", \"big data\", \"sap\"],\n\t\t\t\"horizontal-waterfall-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"vertical-waterfall-chart\": [\"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"broken-link\": [\"unlink\", \"broken\", \"chain\", \"hyperlink\"],\n\t\t\theadset: [\"headset\", \"call\", \"help\", \"support\", \"talk\", \"mic\", \"listen\"],\n\t\t\t\"thumb-up\": [\"thumbs\", \"up\", \"like\", \"appreciate\", \"positive\"],\n\t\t\t\"thumb-down\": [\"thumbs\", \"down\", \"dislike\", \"negative\"],\n\t\t\t\"multiselect-all\": [\"multi select\", \"list\", \"table\", \"data\", \"all\", \"selected\"],\n\t\t\t\"multiselect-none\": [\"multi select\", \"list\", \"table\", \"data\", \"none\", \"deselected\"],\n\t\t\tscissors: [\"cut\", \"scissors\", \"document\", \"clipboards\", \"file\", \"text\"],\n\t\t\tsound: [\"sound\", \"audio\", \"audio\", \"speaker\"],\n\t\t\t\"sound-loud\": [\"sound\", \"audio\", \"audio\", \"speaker\", \"loud\", \"louder\"],\n\t\t\t\"sound-off\": [\"sound\", \"audio\", \"off\", \"mute\", \"quiet\", \"speaker\", \"cancel\"],\n\t\t\t\"date-time\": [\"date\", \"time\"],\n\t\t\t\"user-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"person\",\n\t\t\t\t\"user\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"key-user-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"administrator\",\n\t\t\t\t\"key user\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"developer-settings\": [\n\t\t\t\t\"settings\",\n\t\t\t\t\"cogwheel\",\n\t\t\t\t\"configuration\",\n\t\t\t\t\"settings\",\n\t\t\t\t\"tools\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"customize\",\n\t\t\t\t\"developer\",\n\t\t\t\t\"runtime authoring\"\n\t\t\t],\n\t\t\t\"text-formatting\": [\"customize\", \"text\", \"format\", \"options\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"bold-text\": [\"bold\", \"fat\", \"bulk\", \"weight\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"italic-text\": [\"itlalic\", \"slanted\", \"leaning\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"underline-text\": [\"underline\", \"text\", \"format\", \"text decoration\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-justified\": [\"align\", \"text\", \"justified\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-left\": [\"align\", \"text\", \"left\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-center\": [\"align\", \"text\", \"center\", \"text edit\", \"rich-text\"],\n\t\t\t\"text-align-right\": [\"align\", \"text\", \"right\", \"text edit\", \"rich-text\"],\n\t\t\t\"bullet-text\": [\"bullet\", \"text\", \"dots\", \"text edit\", \"rich-text\"],\n\t\t\t\"numbered-text\": [\"numbered\", \"text\", \"1, 2, 3\", \"text edit\", \"rich-text\"],\n\t\t\tco: [\"co pilot\", \"mnemonics\", \"assistant\", \"launchpad\"],\n\t\t\t\"ui-notifications\": [\"notify\", \"ui\", \"notifications\", \"alerts\", \"launchpad\"],\n\t\t\tbell: [\"bell\", \"alarm\", \"notify\", \"alerts\"],\n\t\t\t\"cancel-share\": [\"cancel share\", \"cancel distribution\", \"do not share with connections\"],\n\t\t\t\"write-new-document\": [\"document\", \"page\", \"file\", \"text\", \"edit\", \"write\", \"new\", \"pencil\", \"pen\"],\n\t\t\t\"write-new\": [\"write\", \"new\", \"create\", \"pencil\", \"pen\"],\n\t\t\tcancel: [\"unable\", \"forbidden\", \"do not\", \"cancel\", \"not allowed\", \"not allowed\"],\n\t\t\t\"screen-split-one\": [\"screen\", \"split\", \"two\", \"master\", \"detail\", \"split app\"],\n\t\t\t\"screen-split-two\": [\"screen\", \"split\", \"two\", \"half\"],\n\t\t\t\"screen-split-three\": [\"screen\", \"split\", \"three\", \"columns\"],\n\t\t\tcustomize: [\"settings\", \"configuration\", \"settings\", \"modify\", \"customize\", \"equaliser\", \"fine tune\"],\n\t\t\t\"user-edit\": [\"user\", \"edit\", \"person\", \"pencil\", \"pen\"],\n\t\t\t\"source-code\": [\"source\", \"code\", \"develop\", \"write\", \"syntax\"],\n\t\t\tcopy: [\"copy\", \"document\", \"file\", \"duplicate\", \"text\"],\n\t\t\tpaste: [\"paste\", \"document\", \"clipboards\", \"file\", \"text\"],\n\t\t\t\"line-chart-time-axis\": [\"chart\", \"line\", \"time\", \"axis\"],\n\t\t\t\"clear-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"clear\", \"delete\", \"remove\", \"cancel\"],\n\t\t\treset: [\"reset\", \"x\", \"cancel\"],\n\t\t\t\"trend-up\": [\"trend\", \"up\", \"diagonal\", \"increase\", \"improve\", \"arrow\"],\n\t\t\t\"trend-down\": [\"trend\", \"down\", \"diagonal\", \"decrease\", \"decline\", \"arrow\"],\n\t\t\t\"cursor-arrow\": [\"cursor\", \"arrow\", \"mouse\", \"pointer\", \"select\"],\n\t\t\t\"add-document\": [\"document\", \"page\", \"file\", \"text\", \"new\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"create-form\": [\"create\", \"form\", \"new\", \"add\", \"plus\", \"additional\", \"another\", \"more\"],\n\t\t\t\"resize-corner\": [\"resize\", \"dialog\", \"corner\"],\n\t\t\t\"chevron-phase\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"chevron\", \"phase\"],\n\t\t\t\"chevron-phase-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"chevron\", \"phase\"],\n\t\t\t\"rhombus-milestone\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"rhombus\", \"milestone\"],\n\t\t\t\"rhombus-milestone-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"rhombus\", \"milestone\"],\n\t\t\t\"circle-task\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"circle\", \"task\"],\n\t\t\t\"circle-task-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"circle\", \"task\"],\n\t\t\t\"project-definition-triangle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"project\", \"definition\"],\n\t\t\t\"project-definition-triangle-2\": [\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"data\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"triangle\",\n\t\t\t\t\"project\",\n\t\t\t\t\"definition\"\n\t\t\t],\n\t\t\t\"master-task-triangle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"task\", \"master\"],\n\t\t\t\"master-task-triangle-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"task\", \"master\"],\n\t\t\t\"program-triangles\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"program\"],\n\t\t\t\"program-triangles-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"triangle\", \"program\"],\n\t\t\t\"mirrored-task-circle\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"mirrored\", \"circle\", \"task\"],\n\t\t\t\"mirrored-task-circle-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"mirrored\", \"circle\", \"task\"],\n\t\t\t\"checklist-item\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\", \"item\"],\n\t\t\t\"checklist-item-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\", \"item\"],\n\t\t\tchecklist: [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\"],\n\t\t\t\"checklist-2\": [\"analytics\", \"chart\", \"display\", \"data\", \"gantt\", \"shape\", \"checklist\"],\n\t\t\t\"chart-table-view\": [\"analytics\", \"chart\", \"display\", \"data\", \"table\", \"columns\", \"rows\", \"grid\", \"waffle\", \"view\"],\n\t\t\t\"filter-analytics\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\t\"filter-facets\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\t\"filter-fields\": [\"analytics\", \"filter\", \"organise\", \"chart\", \"customize\", \"display\", \"data\"],\n\t\t\tindent: [\"indent\", \"paragraph\", \"move right\", \"align\", \"text edit\", \"spacing\", \"rich-text\", \"arrows\"],\n\t\t\toutdent: [\"outdent\", \"paragraph\", \"move left\", \"align\", \"text edit\", \"spacing\", \"rich-text\", \"arrows\"],\n\t\t\theading1: [\"heading\", \"header\", \"h1\", \"large text\", \"title\", \"level 1\", \"text edit\", \"rich-text\"],\n\t\t\theading2: [\"heading\", \"header\", \"h2\", \"large text\", \"title\", \"level 2\", \"text edit\", \"rich-text\"],\n\t\t\theading3: [\"heading\", \"header\", \"h3\", \"large text\", \"title\", \"level 3\", \"text edit\", \"rich-text\"],\n\t\t\t\"decrease-line-height\": [\n\t\t\t\t\"decrease\",\n\t\t\t\t\"line height\",\n\t\t\t\t\"leading\",\n\t\t\t\t\"text edit\",\n\t\t\t\t\"spacing\",\n\t\t\t\t\"rich-text\",\n\t\t\t\t\"less space\",\n\t\t\t\t\"reduce\",\n\t\t\t\t\"compress\",\n\t\t\t\t\"arrows\"\n\t\t\t],\n\t\t\t\"increase-line-height\": [\n\t\t\t\t\"increase\",\n\t\t\t\t\"line height\",\n\t\t\t\t\"leading\",\n\t\t\t\t\"text edit\",\n\t\t\t\t\"spacing\",\n\t\t\t\t\"rich-text\",\n\t\t\t\t\"more space\",\n\t\t\t\t\"enlarge\",\n\t\t\t\t\"expand\",\n\t\t\t\t\"arrows\"\n\t\t\t],\n\t\t\t\"add-folder\": [\"folder\", \"add\", \"directory\", \"additional\", \"library\"],\n\t\t\taway: [\"time\", \"clock\", \"away\", \"availability\", \"chronicle\", \"be right back\", \"appear away\", \"off work\", \"me\"],\n\t\t\tbusy: [\"busy\", \"unavailable\", \"not responsive\", \"blocked\", \"circle\", \"dot\", \"me\", \"working\"],\n\t\t\t\"appear-offline\": [\"appear-offline\", \"offline\", \"hide\", \"blocked\", \"circle\", \"me\"],\n\t\t\tblur: [\"blur\", \"tool\", \"screenshot\", \"image\", \"edit\", \"modify\", \"distort\", \"smudge\", \"blurry\", \"filter\", \"effects\"],\n\t\t\tpixelate: [\n\t\t\t\t\"pixel\",\n\t\t\t\t\"tool\",\n\t\t\t\t\"screenshot\",\n\t\t\t\t\"image\",\n\t\t\t\t\"edit\",\n\t\t\t\t\"modify\",\n\t\t\t\t\"distort\",\n\t\t\t\t\"pixelate\",\n\t\t\t\t\"squares\",\n\t\t\t\t\"dots\",\n\t\t\t\t\"resolution\",\n\t\t\t\t\"noise\"\n\t\t\t],\n\t\t\t\"horizontal-combination-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"combination\", \"line-chart\", \"bar\", \"horizontal\"],\n\t\t\t\"add-employee\": [\n\t\t\t\t\"customer\",\n\t\t\t\t\"user\",\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"contacts\",\n\t\t\t\t\"add\",\n\t\t\t\t\"additional\",\n\t\t\t\t\"employee\",\n\t\t\t\t\"hr\",\n\t\t\t\t\"human resources\",\n\t\t\t\t\"plus\"\n\t\t\t],\n\t\t\t\"text-color\": [\"color\", \"formatting\", \"edit\", \"colour\", \"letters\", \"rich\", \"rich-text\", \"options\"],\n\t\t\t\"browse-folder\": [\"browse folder\", \"search\", \"look up\", \"folder\", \"browse\", \"directory\", \"library\", \"find\"],\n\t\t\t\"primary-key\": [\"key\", \"primary\", \"data\", \"lock\", \"important\"],\n\t\t\t\"two-keys\": [\"key\", \"primary\", \"foreign\", \"data\", \"lock\", \"important\"],\n\t\t\tstrikethrough: [\"strike\", \"formatting\", \"edit\", \"cross out\", \"letters\", \"rich\", \"rich-text\", \"options\", \"review\"],\n\t\t\ttext: [\"text\", \"formatting\", \"edit\", \"input\", \"letters\", \"rich\", \"rich-text\"],\n\t\t\tresponsive: [\"desktop\", \"tablet\", \"mobile\", \"phone\", \"adaptive\", \"cozy\", \"compact\", \"web app\"],\n\t\t\t\"desktop-mobile\": [\"desktop\", \"tablet\", \"mobile\", \"phone\", \"adaptive\", \"cozy\", \"compact\", \"web app\", \"responsive\", \"adaptive\"],\n\t\t\t\"table-row\": [\"display\", \"data\", \"table\", \"table row\", \"grid\", \"waffle\", \"view\", \"rows\"],\n\t\t\t\"table-column\": [\"display\", \"data\", \"table\", \"table column\", \"grid\", \"waffle\", \"view\", \"columns\"],\n\t\t\tvalidate: [\"message\", \"check\", \"validate\", \"security\", \"status\", \"approve\", \"reject\", \"decision\", \"certify\"],\n\t\t\t\"keyboard-and-mouse\": [\"mouse\", \"desktop\", \"click\", \"keyboard\", \"compact\", \"condensed\", \"controls\", \"devices\"],\n\t\t\ttouch: [\"finger\", \"mobile\", \"press\", \"touch\", \"cozy\", \"comfortable\", \"controls\", \"devices\"],\n\t\t\t\"expand-all\": [\"expand\", \"all\", \"open\", \"open all\", \"expand all\", \"arrow\", \"table\", \"tree\", \"list\"],\n\t\t\t\"collapse-all\": [\"collapse\", \"all\", \"close\", \"close all\", \"collapse all\", \"arrow\", \"table\", \"tree\", \"list\"],\n\t\t\tcombine: [\n\t\t\t\t\"merge\",\n\t\t\t\t\"arrow\",\n\t\t\t\t\"combine\",\n\t\t\t\t\"glue\",\n\t\t\t\t\"together\",\n\t\t\t\t\"join\",\n\t\t\t\t\"meld\",\n\t\t\t\t\"unite\",\n\t\t\t\t\"aggregate\",\n\t\t\t\t\"interflow\",\n\t\t\t\t\"runtime authoring\",\n\t\t\t\t\"runtime adaptation\",\n\t\t\t\t\"ui adaptation\",\n\t\t\t\t\"arrows-right\"\n\t\t\t],\n\t\t\tsplit: [\n\t\t\t\t\"split\",\n\t\t\t\t\"arrow\",\n\t\t\t\t\"separate\",\n\t\t\t\t\"break\",\n\t\t\t\t\"cleave\",\n\t\t\t\t\"clove\",\n\t\t\t\t\"cut up\",\n\t\t\t\t\"runtime authoring\",\n\t\t\t\t\"runtime adaptation\",\n\t\t\t\t\"ui adaptation\",\n\t\t\t\t\"arrows-right\"\n\t\t\t],\n\t\t\tmegamenu: [\"navigation\", \"arrows-down\", \"arrow-down\", \"down\", \"shell\"],\n\t\t\tfeedback: [\"feedback\", \"smiley\", \"comment\", \"shell\", \"callout\", \"speech\"],\n\t\t\tinformation: [\"information\", \"info\", \"message\", \"message-information\", \"i\", \"filled\", \"notification\"],\n\t\t\ts4hana: [\"s4hana\", \"S/4HANA\", \"S/4\", \"hana\", \"product switch\", \"product\", \"switch\"],\n\t\t\ttranslate: [\"translate\", \"text\", \"letters\", \"translation\", \"A\", \"arrows\"]\n\t\t}\n\t},\n\t\"SAP-icons-TNT\": {\n\t\ttitle: \"SAP Fiori Tools\",\n\t\ticons: {\n\t\t\ttechnicalsystem: [\"system\", \"hexagon\"],\n\t\t\tsystemjava: [\"system\", \"java\"],\n\t\t\tsystemabap: [\"abap\", \"system\"],\n\t\t\tsystemrecommendations: [\"system\", \"star\", \"favorite\"],\n\t\t\tsystem: [\"system\"],\n\t\t\tsystemtrex: [\"system\", \"trex\", \"settings\"],\n\t\t\tsystemtracks: [\"system\", \"arrow\"],\n\t\t\ttechnicalscenario: [\"hexagon\", \"connection\", \"scenario\"],\n\t\t\ttechnicalinstance: [\"hexagon\", \"connection\", \"instance\"],\n\t\t\t\"throughput-backlog\": [\"arrow\", \"bar\", \"chart\", \"up\"],\n\t\t\t\"batch-processing\": [\"process\", \"document\", \"settings\", \"double\", \"multiple\"],\n\t\t\t\"database-consistency\": [\"data\", \"indicator\", \"warning\"],\n\t\t\t\"intermediate-message\": [\"email\", \"e-mail\", \"electronic mail\", \"envelope\", \"mail\", \"correspondence\", \"message\", \"arrow\"],\n\t\t\texceptions: [\"warning\", \"status\", \"exclamation\"],\n\t\t\t\"system-hana\": [\"hana\", \"system\", \"chip\"],\n\t\t\tpython: [\"system\", \"python\"],\n\t\t\t\"raise-fault\": [\"lightning\", \"flash\", \"status\"],\n\t\t\t\"spike-arrest\": [\"chart\", \"line\", \"performance\", \"cancel\", \"data\", \"analytics\", \"x\"],\n\t\t\t\"verify-api\": [\"wrench\", \"question mark\", \"status\", \"tool\"],\n\t\t\tuser: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"profile\", \"me\"],\n\t\t\tnote: [\"notes\", \"draft\", \"text\", \"write\", \"letter\"],\n\t\t\t\"throwing-message\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"throwing\"],\n\t\t\t\"catching-message\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\"],\n\t\t\t\"start-event\": [\"circle\", \"start\", \"event\", \"display\", \"data\", \"task\"],\n\t\t\t\"end-event\": [\"circle\", \"end\", \"event\", \"display\", \"data\", \"task\"],\n\t\t\tgateway: [\"shape\", \"indicator\", \"check\"],\n\t\t\t\"sub-process-marker\": [\"add\", \"square\", \"shape\", \"process\", \"plus\", \"marker\"],\n\t\t\t\"ad-hoc-marker\": [\"tilde\", \"marker\"],\n\t\t\t\"manual-task\": [\"activity\", \"manual\", \"task\", \"process\", \"hand\"],\n\t\t\t\"send-task\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\", \"send\"],\n\t\t\t\"receive-task\": [\"envelope\", \"email\", \"e-mail\", \"electronic mail\", \"mail\", \"correspondence\", \"catching\", \"receive\"],\n\t\t\t\"script-task\": [\"script\", \"activity\", \"task\", \"process\"],\n\t\t\tmarquee: [\"mark\", \"select\", \"lines\", \"dashed line\"],\n\t\t\t\"data-input-arrow\": [\"out\", \"arrow\", \"data\", \"arrow right\", \"filled\"],\n\t\t\t\"data-output-arrow\": [\"out\", \"arrow\", \"data\", \"arrow right\", \"empty\"],\n\t\t\tmore: [\"dropdown\", \"list\", \"arrow\"],\n\t\t\tpattern: [\"squares\", \"shape\", \"check\"],\n\t\t\ttask: [\"task\", \"steps\", \"project\", \"shape\"],\n\t\t\tarrow: [\"arrow up\", \"direction\", \"up\", \"right\"],\n\t\t\tdata: [\"document\", \"page\", \"file\", \"attachment\", \"blank\", \"new\"],\n\t\t\t\"data-store\": [\"data\", \"store\", \"storage\", \"files\", \"barrel\", \"cylinder\"],\n\t\t\tpool: [\"collect\", \"double\", \"pool\", \"lanes\"],\n\t\t\tswimlane: [\"collect\", \"single\", \"pool\", \"lane\"],\n\t\t\tselect: [\"arrow\", \"selection\", \"select\", \"cursor\", \"arrow\", \"pointer\", \"mouse\", \"filled\"],\n\t\t\tcursor: [\"arrow\", \"selection\", \"select\", \"cursor\", \"arrow\", \"pointer\", \"mouse\"],\n\t\t\tapi: [\"api\", \"program\", \"application\"],\n\t\t\t\"o-data\": [\"o data\", \"data\", \"protocol\"],\n\t\t\tjava: [\"java\", \"coffee\"],\n\t\t\t\"value-mapping\": [\"value\", \"exchange\"],\n\t\t\t\"terminate-end-event\": [\"circle\", \"end\", \"event\", \"terminate\", \"data\", \"task\"],\n\t\t\t\"parallel-gateway\": [\"shape\", \"indicator\", \"add\", \"check\"],\n\t\t\t\"exclusive-gateway\": [\"shape\", \"indicator\", \"cancel\", \"check\"],\n\t\t\t\"service-task\": [\"service\", \"task\", \"setting\", \"cogwheels\", \"configuration\", \"customize\"],\n\t\t\t\"workflow-editor\": [\"connection\", \"flow\", \"workflow\", \"square\", \"circle\", \"lines\"],\n\t\t\t\"boundary-interrupting\": [\"indicator\", \"clock\", \"event\", \"time\", \"boundary\"],\n\t\t\t\"boundary-non-interrupting\": [\"indicator\", \"clock\", \"event\", \"time\", \"boundary\"],\n\t\t\tblock: [\"cube\", \"square\", \"modular\", \"system\", \"collection\", \"box\", \"object\"],\n\t\t\t\"constrain-block\": [\"block\", \"cube\", \"braces\", \"brackets\", \"analysis\", \"model\"],\n\t\t\tactor: [\"person\", \"individual\", \"user\", \"human\"],\n\t\t\t\"instance-specification\": [\"block\", \"brick\", \"model\", \"system\", \"part\", \"module\"],\n\t\t\t\"value-type\": [\"slider\", \"define\", \"system\", \"panel\", \"variant\", \"control\"],\n\t\t\t\"interface-block\": [\"hexagon\", \"code\", \"design\", \"port\"],\n\t\t\tunit: [\"measure\", \"ruler\", \"quantity\", \"magnitude\", \"education\"],\n\t\t\tsignal: [\"tower\", \"information\", \"network\", \"radio\", \"wave\"],\n\t\t\t\"quantity-kind\": [\"measure\", \"quantity\", \"magnitude\", \"unit\", \"beaker\", \"jug\", \"capacity\"],\n\t\t\t\"item-flow\": [\"flow\", \"association\", \"connector\"],\n\t\t\tdependency: [\"link\", \"interrupted\", \"dependent\"],\n\t\t\tgeneralization: [\"link\", \"general\"],\n\t\t\taggregation: [\"link\", \"aggregate\", \"collect\"],\n\t\t\tcomposition: [\"link\", \"compose\"],\n\t\t\tassociation: [\"link\", \"associate\"],\n\t\t\tport: [\"external\", \"entity\", \"point\", \"block\", \"modular\"],\n\t\t\t\"proxy-port\": [\"external\", \"entity\", \"point\", \"block\", \"modular\", \"proxy\", \"system\", \"boundary\"],\n\t\t\t\"full-port\": [\"external\", \"entity\", \"point\", \"block\", \"modular\", \"full\", \"system\", \"boundary\"],\n\t\t\toperations: [\"setting\", \"arrow\", \"circle\", \"development\"],\n\t\t\tconstrains: [\"brackets\"],\n\t\t\treceptions: [\"arrow\", \"hexagon\", \"receive\", \"input\", \"inside\"],\n\t\t\treferences: [\"connection\", \"block\", \"relation\", \"connect\", \"influence\"],\n\t\t\tparts: [\"puzzle\", \"piece\", \"game\", \"module\", \"match\"],\n\t\t\tflow: [\"arrow\", \"direction\", \"cross\"],\n\t\t\tvalues: [\"object\", \"code\"],\n\t\t\t\"bill-of-material\": [\"list\", \"material\", \"manufacture\", \"list\", \"bom\"],\n\t\t\t\"document-info-recording\": [\"document\", \"link\"],\n\t\t\t\"use-case-diagram\": [\"diagram\", \"oval\"],\n\t\t\t\"bdd-diagram\": [\"diagram\", \"box\"],\n\t\t\t\"requirement-diagram\": [\"diagram\", \"need\", \"note\", \"notepad\"],\n\t\t\t\"package-diagram\": [\"diagram\", \"folder\"],\n\t\t\t\"internal-block-diagram\": [\"diagram\", \"box\"],\n\t\t\t\"requirement-containment-relationship\": [\"diagram\", \"box\"],\n\t\t\t\"use-case\": [\"oval\"],\n\t\t\t\"use-case-extension-point\": [\"oval\", \"dots\"],\n\t\t\t\"communication-path\": [\"line\", \"diagonal\"],\n\t\t\t\"note-connection\": [\"line\", \"diagonal\", \"dotted\"],\n\t\t\tsubject: [\"window\"],\n\t\t\t\"auto-layout\": [\"compose\", \"arrange\"],\n\t\t\t\"required-interface\": [\"receive\", \"import\", \"input\"],\n\t\t\t\"provided-interface\": [\"deliver\", \"export\", \"output\"],\n\t\t\t\"sub-content\": [\"folder\", \"container\"],\n\t\t\tconnector: [\"connect\", \"connection\", \"number\"],\n\t\t\t\"local-process-call\": [\"window\", \"arrow\"],\n\t\t\taggregator: [\"tree\", \"gather\", \"collect\"],\n\t\t\tsplitter: [\"tree\"],\n\t\t\tconverter: [\"tree\", \"extractor\", \"arrow\", \"document\", \"file\"],\n\t\t\t\"content-modifier\": [\"letter\", \"mail\", \"pen\", \"email\", \"e-mail\", \"electronic mail\", \"envelope\"],\n\t\t\t\"message-start-event\": [\n\t\t\t\t\"mail\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"email\",\n\t\t\t\t\"e-mail\",\n\t\t\t\t\"electronic mail\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"mail\",\n\t\t\t\t\"correspondence\",\n\t\t\t\t\"receiving\",\n\t\t\t\t\"sending\",\n\t\t\t\t\"standard\"\n\t\t\t],\n\t\t\t\"message-end-event\": [\n\t\t\t\t\"mail\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"email\",\n\t\t\t\t\"e-mail\",\n\t\t\t\t\"electronic mail\",\n\t\t\t\t\"envelope\",\n\t\t\t\t\"mail\",\n\t\t\t\t\"correspondence\",\n\t\t\t\t\"receiving\",\n\t\t\t\t\"sending\",\n\t\t\t\t\"standard\"\n\t\t\t],\n\t\t\t\"escalation-end-event\": [\"arrow\", \"circle\", \"responsibility\", \"standard\"],\n\t\t\t\"start-timer-event\": [\"clock\", \"circle\", \"standard\", \"timer\", \"span\", \"timeout\", \"time\"],\n\t\t\t\"error-start-event\": [\"circle\", \"lightning\", \"flash\"],\n\t\t\t\"error-end-event\": [\"circle\", \"lightning\", \"flash\"],\n\t\t\t\"content-enricher\": [\"square\", \"arrow\", \"box\"],\n\t\t\trealization: [\"sysml\", \"arrow\"],\n\t\t\tinterface: [\"sysml\", \"i\", \"hexagon\"],\n\t\t\t\"business-capability\": [\"business\", \"architecture\", \"enterprise\", \"capability\", \"pentagon\"],\n\t\t\t\"progress-group\": [\"business\", \"architecture\", \"enterprise\", \"process\", \"group\", \"chevron\", \"square\"],\n\t\t\t\"value-stream\": [\"business\", \"architecture\", \"enterprise\", \"value\", \"dollar\", \"square\"],\n\t\t\t\"value-flow\": [\"business\", \"architecture\", \"enterprise\", \"value\", \"dollar\", \"chevron\"],\n\t\t\tapplication: [\"app\", \"architecture\", \"enterprise\", \"application\", \"program\"],\n\t\t\t\"etl-job\": [\"architecture\", \"enterprise\", \"application\", \"etl\", \"extract\", \"transform\", \"load\", \"configuration\", \"setting\"],\n\t\t\t\"business-service\": [\"business\", \"enterprise\", \"application\", \"service\", \"pentagon\", \"setting\", \"architecture\"],\n\t\t\t\"application-service\": [\"architecture\", \"enterprise\", \"application\", \"service\", \"app\", \"setting\"],\n\t\t\t\"network-node\": [\"architecture\", \"enterprise\", \"infrastructure\", \"arrow\", \"circle\", \"node\"],\n\t\t\tnetwork: [\"architecture\", \"enterprise\", \"infrastructure\", \"circle\", \"node\"],\n\t\t\t\"deployment-instance\": [\"architecture\", \"enterprise\", \"infrastructure\", \"square\", \"setting\"],\n\t\t\tintranet: [\"architecture\", \"enterprise\", \"infrastructure\", \"house\", \"world\", \"globe\"],\n\t\t\t\"mobile-network\": [\"architecture\", \"enterprise\", \"infrastructure\", \"mobile\", \"network\", \"tower\", \"power\", \"pole\"],\n\t\t\t\"private-cloud\": [\"architecture\", \"enterprise\", \"infrastructure\", \"cloud\", \"lock\", \"secure\", \"safe\"],\n\t\t\tantenna: [\"architecture\", \"enterprise\", \"antenna\", \"transmit\"],\n\t\t\tfirewall: [\"architecture\", \"enterprise\", \"firewall\", \"brick\", \"wall\", \"secure\", \"safe\"],\n\t\t\thub: [\"architecture\", \"enterprise\", \"grid\"],\n\t\t\tmodem: [\"architecture\", \"enterprise\", \"grid\", \"internet\", \"web\"],\n\t\t\trepeater: [\"architecture\", \"enterprise\", \"grid\", \"internet\", \"repeat\"],\n\t\t\trouter: [\"architecture\", \"enterprise\", \"grid\", \"internet\"],\n\t\t\tswitch: [\"architecture\", \"enterprise\", \"grid\"],\n\t\t\tsatellite: [\"architecture\", \"enterprise\", \"space\"],\n\t\t\t\"system-2\": [\"architecture\", \"enterprise\", \"square\", \"node\"],\n\t\t\t\"status-activating\": [\"activate\", \"clock\", \"square\"],\n\t\t\t\"status-suspended\": [\"suspend\", \"pause\", \"square\"],\n\t\t\t\"status-suspending\": [\"suspend\", \"pause\", \"square\", \"clock\"],\n\t\t\t\"status-terminated\": [\"terminate\", \"triangle\"],\n\t\t\t\"status-terminating\": [\"terminate\", \"triangle\", \"clock\"],\n\t\t\t\"solution-not-licensed\": [\"circle\", \"half\", \"fill\", \"empty\", \"license\"],\n\t\t\t\"clear-all-mapping\": [\"clear\", \"remove\", \"delete\", \"map\", \"cancel\"],\n\t\t\t\"map-all-fields\": [\"link\", \"source\", \"target\", \"text\"],\n\t\t\t\"process-package\": [\"package\", \"process\", \"arrow\", \"arrows\", \"chevron\"],\n\t\t\t\"process-kpis\": [\"process\", \"kpi\", \"chart\", \"bulb\", \"light\", \"lamp\"],\n\t\t\tinsights: [\"insights\", \"chart\", \"light\", \"bulb\", \"lamp\"]\n\t\t}\n\t},\n\tBusinessSuiteInAppSymbols: {\n\t\ttitle: \"SAP Business Suite\",\n\t\ticons: {\n\t\t\theart: [\"heart\", \"medical\"],\n\t\t\tquarter: [\"calendar\", \"time\", \"date\", \"quarter\", \"schedule\"],\n\t\t\tyear: [\"calendar\", \"time\", \"date\", \"year\", \"schedule\"],\n\t\t\tequalizer: [\"equalizer\", \"sliders\", \"adjust\"],\n\t\t\tcomponent: [\"component\", \"plus\", \"add\"],\n\t\t\t\"component-private\": [\"component\", \"private\", \"locked\"],\n\t\t\t\"raw-material\": [\"barrel\", \"raw\", \"material\"],\n\t\t\tsms: [\"sms\", \"mobile\", \"message\", \"phone\", \"speech\", \"bubble\", \"text\"],\n\t\t\t\"add-note\": [\"add\", \"plus\", \"additional\", \"more\", \"another\", \"note\", \"info\", \"draft\"],\n\t\t\t\"change-time-horizon\": [\"change\", \"arrow\", \"time\", \"clock\", \"time horizon\"],\n\t\t\t\"table-chart-customization\": [\"wrench\", \"control\", \"customize\", \"configuration\", \"tools\", \"settings\", \"table\", \"chart\"],\n\t\t\t\"delegated-important-task\": [\"flag\", \"arrow\", \"task\", \"delegate\", \"important\"],\n\t\t\tforklift: [\"forklift\", \"transport\"],\n\t\t\tcoins: [\"coins\", \"money\", \"cash\"],\n\t\t\t\"filter-menu\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"menu\"],\n\t\t\t\"target-to-date\": [\"date\", \"target\", \"calendar\", \"arrow\"],\n\t\t\tprogram: [\"planning\", \"scheduling\", \"program\", \"project\", \"scheduling\", \"shape\", \"gantt\", \"chart\", \"display\", \"analytics\"],\n\t\t\tphase: [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"chevron\"\n\t\t\t],\n\t\t\tchecklist: [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"checklist\"\n\t\t\t],\n\t\t\t\"mirrored-task\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"mirrored task\"\n\t\t\t],\n\t\t\t\"sub-project\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"sub project\"\n\t\t\t],\n\t\t\t\"checklist-item\": [\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"program\",\n\t\t\t\t\"project\",\n\t\t\t\t\"scheduling\",\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"checklist item\"\n\t\t\t],\n\t\t\t\"adhoc-analysis\": [\"magnifier\", \"glass\", \"search\", \"adhoc analysis\", \"analytics\", \"exclamation\", \"status\"],\n\t\t\t\"change-analysis\": [\"magnifier\", \"glass\", \"search\", \"change analysis\", \"analytics\"],\n\t\t\t\"review-demands\": [\"magnifier\", \"glass\", \"search\", \"review demands\", \"clipboard\", \"task\", \"arrow\"],\n\t\t\t\"project-definition\": [\n\t\t\t\t\"shape\",\n\t\t\t\t\"gantt\",\n\t\t\t\t\"chart\",\n\t\t\t\t\"display\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"triangle\",\n\t\t\t\t\"project\",\n\t\t\t\t\"definition\",\n\t\t\t\t\"planning\",\n\t\t\t\t\"scheduling\"\n\t\t\t],\n\t\t\t\"data-access\": [\"arrow\", \"data\", \"access\"],\n\t\t\t\"define-shortage\": [\"define\", \"shortage\", \"chart\", \"measurement\"],\n\t\t\t\"review-supplies\": [\"magnifier\", \"glass\", \"search\", \"review\", \"supplies\", \"supply\", \"analytics\"],\n\t\t\t\"change-log\": [\"change\", \"log\", \"time\", \"clock\"],\n\t\t\t\"priority-1\": [\"high priority\", \"exclamation\", \"alert\", \"warning\", \"status\"],\n\t\t\t\"priority-2\": [\"high priority\", \"exclamation\", \"alert\", \"warning\", \"status\", \"multiple\"],\n\t\t\tjam: [\"jam\", \"message\", \"speech\", \"bubble\", \"text\", \"conversation\", \"social\", \"comment\", \"discussion\"],\n\t\t\tmilestone: [\"badge\", \"insignia\", \"star\", \"prize\", \"award\", \"achievement\", \"milestone\"],\n\t\t\t\"bulleting-with-numbers\": [\"bullet\", \"text\", \"dots\", \"rich text\"],\n\t\t\t\"decrease-indent\": [\"text\", \"rich text\", \"decrease indent\", \"paragraph\", \"move left\", \"align\", \"arrow\", \"outdent\"],\n\t\t\t\"increase-indent\": [\"text\", \"rich text\", \"increase indent\", \"paragraph\", \"move left\", \"align\", \"arrow\", \"indent\"],\n\t\t\tbold: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"bold\", \"fat\", \"weight\"],\n\t\t\titalic: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"italic\", \"slanted\", \"leaning\"],\n\t\t\t\"strike-through\": [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"strike through\", \"crossed out\"],\n\t\t\tunderline: [\"text\", \"rich text\", \"style\", \"text decoration\", \"format\", \"underline\"],\n\t\t\t\"save-as\": [\"save as\", \"diskette\", \"pencil\", \"floppy disc\"],\n\t\t\tsegmentation: [\"segmentation\", \"hierarchy\", \"map\", \"org\", \"tree\", \"overview\", \"data\"],\n\t\t\t\"context-menu\": [\"menu\", \"options\", \"context\", \"button\", \"corner\", \"triangle\"],\n\t\t\tsnapshot: [\"snapshot\", \"arrows\", \"x\", \"cancel\", \"remove\", \"delete\", \"close\"],\n\t\t\t\"substraction-b-a\": [\n\t\t\t\t\"circles\",\n\t\t\t\t\"substraction\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"b-a\"\n\t\t\t],\n\t\t\t\"substraction-a-b\": [\n\t\t\t\t\"circles\",\n\t\t\t\t\"substraction\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"a-b\"\n\t\t\t],\n\t\t\tintersection: [\"circles\", \"intersection\", \"analytics\", \"analyze objects\", \"filter\", \"segmentation\", \"segment\", \"target group\"],\n\t\t\tunion: [\n\t\t\t\t\"circles\",\n\t\t\t\t\"intersection\",\n\t\t\t\t\"analytics\",\n\t\t\t\t\"analyze objects\",\n\t\t\t\t\"filter\",\n\t\t\t\t\"segmentation\",\n\t\t\t\t\"segment\",\n\t\t\t\t\"target group\",\n\t\t\t\t\"union\",\n\t\t\t\t\"merge\",\n\t\t\t\t\"combine\"\n\t\t\t],\n\t\t\ttop: [\"arrow\", \"top\"],\n\t\t\tbottom: [\"arrow\", \"bottom\"],\n\t\t\t\"page-up\": [\"arrows\", \"page up\"],\n\t\t\t\"page-down\": [\"arrows\", \"page down\"],\n\t\t\t\"create-dashboard\": [\"create\", \"new\", \"plus\", \"dashboard\", \"page\", \"file\"],\n\t\t\t\"excelsius-file\": [\"excelsius file\"],\n\t\t\t\"open-folder\": [\"arrow\", \"open\", \"folder\"],\n\t\t\tneutral: [\"neutral\"],\n\t\t\t\"split-segmentation\": [\"split\", \"separate\", \"divide\", \"arrows\", \"segmentation\", \"segment\", \"target group\"],\n\t\t\t\"manage-budget\": [\"arrows\", \"money\", \"manage\", \"budget\"],\n\t\t\tblocked: [\"blocked\"],\n\t\t\tpipette: [\"pipette\", \"eye dropper\", \"sample\"],\n\t\t\t\"top-recipe\": [\"recipe\", \"bowl\", \"mortar\", \"star\", \"top\", \"important\"],\n\t\t\trecipe: [\"recipe\", \"bowl\", \"mortar\"],\n\t\t\tingredients: [\"ingredients\"],\n\t\t\t\"multiple-charts\": [\"analytics\", \"chart\", \"display\", \"data\", \"multiple charts\"],\n\t\t\t\"descending-bars\": [\"analytics\", \"chart\", \"display\", \"data\", \"descending bars\"],\n\t\t\t\"descending-stacked-bars\": [\"analytics\", \"chart\", \"display\", \"data\", \"descending stacked bars\"],\n\t\t\t\"scatter-plot\": [\"analytics\", \"chart\", \"display\", \"data\", \"scatter plot\"],\n\t\t\tspill: [\"spill\", \"hazard\"],\n\t\t\tfire: [\"fire\", \"hazard\"],\n\t\t\tstratification: [\"analytics\", \"chart\", \"display\", \"data\", \"stratification\"],\n\t\t\trelationship: [\"analytics\", \"chart\", \"display\", \"data\", \"relationship\"],\n\t\t\t\"margin-decomposition\": [\"analytics\", \"chart\", \"display\", \"data\", \"margin decomposition\"],\n\t\t\t\"control-group\": [\"control group\", \"people\"],\n\t\t\t\"responsible-area\": [\"responsible area\", \"person\", \"people\"],\n\t\t\tincrease: [\"increase\", \"arrow\", \"up\", \"raise\"],\n\t\t\tdecrease: [\"decrease\", \"arrow\", \"down\", \"lower\"],\n\t\t\t\"current-stock\": [\"current stock\", \"diamond\"],\n\t\t\texpedite: [\"arrow left\", \"calendar\", \"accelerate\"],\n\t\t\tpostpone: [\"arrow right\", \"calendar\", \"postpone\", \"delay\"],\n\t\t\tapproved: [\"checkmark\", \"approved\", \"tick\", \"ok\", \"checked\"],\n\t\t\t\"partially-delivered\": [\"partially delivered\"],\n\t\t\t\"line-bar-chart\": [\"analytics\", \"chart\", \"display\", \"data\", \"line bar chart\"],\n\t\t\t\"expand-all\": [\"expand all\", \"plus\"],\n\t\t\tsubmission: [\"money\", \"submission\", \"exclamation\", \"circle\"],\n\t\t\t\"change-request\": [\"change\", \"request\", \"pencil\", \"file\", \"edit\", \"write\", \"new\", \"pen\"],\n\t\t\t\"column-unselected\": [\"column\", \"unselected\", \"circle\"],\n\t\t\t\"column-selected\": [\"column\", \"selected\", \"circle\"],\n\t\t\t\"row-unselected\": [\"row\", \"unselected\", \"circle\"],\n\t\t\t\"row-selected\": [\"row\", \"selected\", \"circle\"],\n\t\t\t\"stock-requirements\": [\"arrows\", \"stock\", \"requirement\"],\n\t\t\t\"gender-male-and-female\": [\"gender\", \"male and female\"],\n\t\t\t\"icon-marital-status\": [\"marital status\", \"wedding rings\", \"married\", \"not married\"],\n\t\t\tbirthday: [\"birthday\", \"cake\", \"candles\", \"birth date\"],\n\t\t\tclassification: [\"classification\", \"ranking\"],\n\t\t\t\"marked-for-deletion\": [\"clock\", \"time\", \"bin\", \"trash can\", \"rubbish\", \"deletion\", \"marked\", \"to be deleted\"],\n\t\t\t\"bullet-chart\": [\"bullet chart\", \"analytics\", \"chart\", \"display\", \"data\"],\n\t\t\t\"remove-filter\": [\"filter\", \"organise\", \"aggregate\", \"data\", \"clear\", \"delete\", \"remove\", \"cancel\"],\n\t\t\t\"savings-account\": [\"money\", \"bank\", \"account\", \"savings\"],\n\t\t\t\"debit-card\": [\"money\", \"bank\", \"account\", \"savings\", \"debit\", \"payment\", \"buy\", \"purchase\", \"shopping\"],\n\t\t\t\"vip-customer\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"me\",\n\t\t\t\t\"favorite\",\n\t\t\t\t\"favourite\",\n\t\t\t\t\"star\"\n\t\t\t],\n\t\t\t\"undesirable-customer\": [\n\t\t\t\t\"person\",\n\t\t\t\t\"individual\",\n\t\t\t\t\"user\",\n\t\t\t\t\"customer\",\n\t\t\t\t\"human\",\n\t\t\t\t\"circle\",\n\t\t\t\t\"profile\",\n\t\t\t\t\"me\",\n\t\t\t\t\"star\",\n\t\t\t\t\"unfavourite\",\n\t\t\t\t\"remove\"\n\t\t\t],\n\t\t\t\"answered-change-request\": [\"request\", \"bubble\"],\n\t\t\t\"collected-change-request\": [\"request\", \"collection\", \"layers stacked\"],\n\t\t\t\"draw-freehand\": [\"draw\", \"shape\", \"create\", \"freehand\"],\n\t\t\t\"draw-circle\": [\"draw\", \"shape\", \"create\", \"circle\"],\n\t\t\tcompleted: [\"status\", \"done\", \"completed\", \"accept\", \"approve\", \"correct\", \"checkmark\", \"tick\", \"affirmative\"],\n\t\t\tanswered: [\"answered\", \"bubble\"],\n\t\t\t\"traffic-cone\": [\"traffic\", \"logistics\", \"cone\"],\n\t\t\t\"traffic-lights\": [\"traffic\", \"logistics\", \"traffic lights\"],\n\t\t\tcontainer: [\"traffic\", \"logistics\", \"container\", \"freight\", \"shipping\"],\n\t\t\t\"container-loading\": [\"traffic\", \"logistics\", \"container\", \"freight\", \"shipping\", \"load\"],\n\t\t\t\"traffic-jam\": [\"traffic\", \"logistics\", \"traffic jam\", \"road conjestion\"],\n\t\t\tproducts: [\"product\", \"commodity\", \"goods\", \"stock\", \"merchandise\", \"package\"],\n\t\t\tsidepanel: [\"screen\", \"split\", \"two\", \"area\", \"split app\", \"side panel\"],\n\t\t\t\"split-screen\": [\"screen\", \"split\", \"two\", \"area\", \"split app\", \"top bottom\", \"horizontal split\", \"analytics\"],\n\t\t\t\"keep-segment\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"keep\", \"approve\"],\n\t\t\t\"exclude-segment\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"clear\", \"approve\", \"remove\", \"cancel\", \"x\"],\n\t\t\t\"separate-segments\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"separate\"],\n\t\t\t\"distribute-segments\": [\"segments\", \"data\", \"marketing\", \"campaign\", \"distribute\"],\n\t\t\t\"next-open-item\": [\"navigation\", \"jump\", \"shift\", \"next\", \"arrow\", \"queue\"],\n\t\t\t\"where-used\": [\"arrows\", \"directions\", \"move\", \"forward\"],\n\t\t\t\"outbound-delivery\": [\"arrow\", \"truck\", \"move\", \"delivery\", \"forward\"],\n\t\t\t\"outbound-delivery-inactive\": [\"circle\", \"stroke\", \"dot\", \"status\"],\n\t\t\t\"outbound-delivery-active\": [\"circle\", \"fill\", \"dot\", \"status\"],\n\t\t\ttarget: [\"arrow\", \"download\", \"down\", \"import\"],\n\t\t\tsource: [\"arrow\", \"upload\", \"up\", \"export\"],\n\t\t\tmaterial: [\"screw\", \"data\", \"material\"],\n\t\t\t\"due-date\": [\"arrow\", \"calendar\", \"due\", \"date\", \"appointment\", \"next\"],\n\t\t\toverdue: [\"arrow\", \"calendar\", \"due\", \"date\", \"appointment\", \"previous\"],\n\t\t\t\"set-as-default\": [\"tick\", \"setting\", \"yes\"],\n\t\t\t\"face-very-bad\": [\"smiley\", \"emotions\", \"emoji\", \"bad\"],\n\t\t\t\"face-bad\": [\"smiley\", \"emotions\", \"emoji\", \"sad\"],\n\t\t\t\"face-skeptical\": [\"smiley\", \"emotions\", \"emoji\", \"skeptical\"],\n\t\t\t\"face-neutral\": [\"smiley\", \"emotions\", \"emoji\", \"neutral\"],\n\t\t\t\"face-astonished\": [\"smiley\", \"emotions\", \"emoji\", \"astonished\"],\n\t\t\t\"face-happy\": [\"face\", \"emoticon\", \"smile\", \"positive\", \"round\"],\n\t\t\t\"face-very-happy\": [\"face\", \"emoticon\", \"smile\", \"positive\", \"round\"],\n\t\t\t\"face-awful\": [\"face\", \"sad\", \"emoticon\", \"negative\", \"round\"],\n\t\t\t\"face-devastated\": [\"face\", \"sad\", \"emoticon\", \"negative\", \"round\"],\n\t\t\t\"face-okey-dokey\": [\"face\", \"emoticon\", \"smile\", \"blink\", \"positive\", \"round\"],\n\t\t\talarm: [\"attention\", \"bell\", \"noise\"],\n\t\t\tactivate: [\"magic\", \"wand\", \"select\"],\n\t\t\t\"segment-preview-reference-objects\": [\"dots\"],\n\t\t\tradius: [\"plus\", \"add\"],\n\t\t\t\"polygon-black\": [\"geometric body\", \"measurement\", \"geometry\"],\n\t\t\t\"polygon-white\": [\"geometric body\", \"measurement\", \"geometry\"],\n\t\t\tpolygon: [\"connection\", \"geometry\", \"network\", \"connected\", \"dots\"],\n\t\t\t\"no-filter\": [\"remove\", \"minus\", \"no\"],\n\t\t\tgrip: [\"pattern\", \"move\", \"grab\", \"take\", \"drag\"],\n\t\t\twater: [\"drop\", \"oil\", \"energy\"],\n\t\t\tgas: [\"fire\", \"flame\", \"energy\"],\n\t\t\tliquid: [\"drop\", \"water\", \"energy\"],\n\t\t\t\"gas-2\": [\"fire\", \"flame\", \"energy\", \"cooker\"],\n\t\t\t\"water-2\": [\"drop\", \"tap\", \"oil\", \"control\", \"close\", \"open\"],\n\t\t\toperator: [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"me\", \"security\", \"helmet\"],\n\t\t\t\"target-filter\": [\"round\", \"circle\", \"cross\", \"segment\"],\n\t\t\tequipment: [\"pump\", \"engine\", \"pipeline\", \"generator\"],\n\t\t\t\"gis-layer\": [\"world\", \"round\", \"map\"],\n\t\t\tsection: [\"people\", \"person\", \"group\", \"team\", \"selection\", \"part\"],\n\t\t\tkohorte: [\"people\", \"person\", \"group\", \"team\", \"selection\", \"part\", \"data\", \"folder\", \"index\", \"card\"],\n\t\t\tfemale: [\"cross\", \"gender\"],\n\t\t\tmale: [\"arrow\", \"gender\"],\n\t\t\tmodel: [\"pump\", \"engine\", \"pipeline\", \"generator\", \"sheet\", \"dataset\"],\n\t\t\thourglass: [\"sand\", \"diabolo\"],\n\t\t\t\"plain-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"top-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"1x2-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"side-panel-left-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"2x2-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"inverse-t-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"t-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"top-side-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"side-top-panel-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"4x4-grid-layout\": [\"square\", \"grid\", \"division\", \"partition\", \"split\"],\n\t\t\t\"add-point\": [\"plus\", \"circle\", \"ball\"],\n\t\t\t\"add-polyline\": [\"plus\", \"share\", \"price\"],\n\t\t\t\"add-polygone\": [\"plus\", \"layer\", \"window\", \"rectangle\"],\n\t\t\t\"email-send-delayed\": [\"clock\", \"timer\", \"time\", \"watch\"],\n\t\t\t\"email-not-opened\": [\"warning\", \"exclamation mark\", \"reminder\", \"attention\"],\n\t\t\t\"link-not-clicked\": [\"warning\", \"exclamation mark\", \"reminder\", \"attention\"],\n\t\t\t\"sms-send-delayed\": [\"clock\", \"timer\", \"time\", \"watch\", \"speech bubble\", \"conversation\", \"chat\"],\n\t\t\t\"ab-testing\": [\"mail\", \"duplicate\", \"store\"],\n\t\t\ttv: [\"screen\", \"monitor\", \"technical device\", \"hi-fi\", \"smart-tv\", \"broadcast\"],\n\t\t\tradio: [\"technical device\", \"sound\", \"tuner\"],\n\t\t\toutdoor: [\"hills\", \"mountains\", \"sun\", \"tree\", \"image\", \"landscape\"],\n\t\t\tevent: [\"cinema\", \"keynote\", \"party\", \"workshop\", \"team\", \"beamer\", \"announcement\"],\n\t\t\t\"paid-search\": [\"money\", \"finder\", \"lens\", \"glass\", \"finance\", \"deposit\"],\n\t\t\ttractor: [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\t\"display-ads\": [\n\t\t\t\t\"screen\",\n\t\t\t\t\"monitor\",\n\t\t\t\t\"website\",\n\t\t\t\t\"information\",\n\t\t\t\t\"layout\",\n\t\t\t\t\"screendesign\",\n\t\t\t\t\"shopping\",\n\t\t\t\t\"online\",\n\t\t\t\t\"social media\",\n\t\t\t\t\"facebook\"\n\t\t\t],\n\t\t\t\"call-center\": [\"person\", \"individual\", \"user\", \"customer\", \"human\", \"headset\", \"phones\", \"microphone\"],\n\t\t\tsocial: [\"people\", \"person\", \"group\", \"team\", \"conversation\", \"chat\", \"bubble\", \"workshop\"],\n\t\t\tevent2: [\"calendar\", \"time\", \"clock\", \"watch\", \"date\"],\n\t\t\t\"official-service-group\": [\"bank\", \"account\", \"data\", \"storage\", \"folder\", \"finance\", \"money\"],\n\t\t\t\"time-deposit\": [\"clock\", \"timer\", \"money\", \"bag\"],\n\t\t\t\"early-widthdrawal-for-time-deposits\": [\"clock\", \"timer\", \"money\", \"bag\"],\n\t\t\t\"aggregated-view\": [\"sort\", \"order\", \"tree view\"],\n\t\t\t\"detailed-view\": [\"sort\", \"order\", \"tree view\"],\n\t\t\trescheduling: [\"change\", \"replacement\", \"placement\", \"select\", \"switch\", \"move\"],\n\t\t\tresequencing: [\"change\", \"replacement\", \"placement\", \"select\", \"switch\", \"move\"],\n\t\t\t\"movement-warning\": [\"alert\", \"attention\", \"square\"],\n\t\t\t\"multiple-warnings\": [\"alert\", \"attention\", \"square\"],\n\t\t\t\"box-truck\": [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\t\"box-truck-empty\": [\"load\", \"cargo\", \"freight\", \"street\", \"vehicle\"],\n\t\t\tdriver: [\"people\", \"target-user\", \"driver\"],\n\t\t\t\"driver-warning\": [\"people\", \"target-user\", \"warning\", \"attention\", \"driver\"],\n\t\t\toverlap: [\"object\", \"overlap\", \"window\"],\n\t\t\t\"expand-overlap\": [\"object\", \"overlap\", \"window\", \"hierarchy\", \"expand\"],\n\t\t\t\"collapse-overlap\": [\"object\", \"overlap\", \"wiondow\", \"hierarchy\", \"expand\"],\n\t\t\tutilization: [\"utilization\", \"evaluation\", \"usage\"],\n\t\t\t\"expand-utilization\": [\"utilization\", \"evaluation\", \"usage\", \"expand\", \"show\"],\n\t\t\ttrailer: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"trailer\", \"street\", \"transportation\"],\n\t\t\t\"collapse-utilization\": [\"utilization\", \"evaluation\", \"usage\", \"collapse\", \"hide\"],\n\t\t\t\"container-closed\": [\"container\", \"cargo\", \"freight\"],\n\t\t\trailcar: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"railway\", \"transportation\"],\n\t\t\twarehouse: [\"building\", \"warehouse\", \"industry\", \"repository\", \"depository\"],\n\t\t\tgoods: [\"beverage\", \"product\", \"goods\"],\n\t\t\tship: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"transportation\"],\n\t\t\t\"truck-driver\": [\"traffic\", \"logistics\", \"driver\", \"truck\", \"person\", \"vehicle\"],\n\t\t\t\"return-delivery\": [\"vehicle\", \"load\", \"cargo\", \"deposit\", \"depository\"],\n\t\t\t\"return-order\": [\"document\", \"order\", \"return\", \"money\", \"receipt\"],\n\t\t\tcontract: [\"document\", \"order\", \"contract\", \"deal\", \"agreement\"],\n\t\t\t\"business-partner\": [\"people\", \"partner\", \"collaboration\", \"business-partner\"],\n\t\t\t\"business-partner-verified\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"verification\"],\n\t\t\t\"business-partner-anonymous\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"anonymous\"],\n\t\t\t\"business-partner-self-identified\": [\"people\", \"partner\", \"collaboration\", \"business-partner\", \"favorite\"],\n\t\t\t\"money-withdrawal\": [\"money\", \"withdrawal\", \"moneybag\"],\n\t\t\t\"truck-load\": [\"vehicle\", \"load\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\t\"truck-unload\": [\"vehicle\", \"unload\", \"deposit\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\t\"truck-load-unload\": [\"vehicle\", \"load\", \"unload\", \"cargo\", \"freight\", \"truck\", \"street\"],\n\t\t\tpharmacy: [\"health\", \"medicine\", \"pharmacy\", \"making\"],\n\t\t\t\"medicine-syrup\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"syrup\"],\n\t\t\treminder: [\"time\", \"reminder\", \"alarm\", \"timer\"],\n\t\t\t\"medicine-pill\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"pills\"],\n\t\t\t\"medicine-ointment\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"ointment\", \"salve\"],\n\t\t\t\"medicine-drops\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"drops\", \"tincture\"],\n\t\t\t\"blood-test\": [\"health\", \"blood\", \"test\", \"examination\", \"diagnose\"],\n\t\t\ttemperature: [\"health\", \"temperature\", \"test\", \"examination\", \"diagnose\"],\n\t\t\t\"medicine-inhaler\": [\"health\", \"medicine\", \"pharmacy\", \"medication\", \"inhaler\"],\n\t\t\t\"foot-steps\": [\"human\", \"foot\", \"feet\", \"foot-prints\", \"steps\"],\n\t\t\tweight: [\"health\", \"weight\", \"test\", \"examination\", \"diagnose\"],\n\t\t\t\"health-tracking\": [\"health\", \"heart\", \"test\", \"examination\", \"diagnose\", \"heart-rate\", \"activity-tracker\"],\n\t\t\t\"blood-pressure\": [\"health\", \"blood\", \"blood-pressure\", \"test\", \"examination\", \"diagnose\"],\n\t\t\timmunization: [\"health\", \"medicine\", \"pharmacy\", \"immunization\", \"vaccination\", \"injection\"],\n\t\t\tallergies: [\"health\", \"allergies\", \"diagnose\"],\n\t\t\trescheduling2: [\"planning\", \"scheduling\", \"rescheduling\", \"time\", \"sequence\", \"steps\"],\n\t\t\tresequencing2: [\"planning\", \"scheduling\", \"resequencing\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"no-time-change\": [\"planning\", \"scheduling\", \"change\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"time-change\": [\"planning\", \"scheduling\", \"change-time\", \"time\", \"sequence\", \"steps\"],\n\t\t\t\"smart-matcher\": [\"people\", \"match\", \"agreement\"],\n\t\t\t\"parallel-sequence\": [\"planning\", \"scheduling\", \"process\", \"parallel\", \"sequence\", \"flow\"],\n\t\t\t\"alternative-sequence\": [\"planning\", \"scheduling\", \"process\", \"alternative-sequence\", \"flow\", \"decision\"],\n\t\t\t\"main-sequence\": [\"planning\", \"scheduling\", \"process\", \"main-sequence\", \"flow\"],\n\t\t\trefinery: [\"building\", \"factory\", \"warehouse\", \"industry\", \"production\"],\n\t\t\tterminal: [\"building\", \"terminal\", \"collecting-point\", \"reloading-point\", \"transshipment\"],\n\t\t\tvessel: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"vessel\", \"transportation\"],\n\t\t\tbarge: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"shipment\", \"barge\", \"transportation\"],\n\t\t\troad: [\"vehicle\", \"load\", \"cargo\", \"freight\", \"truck\", \"street\", \"transportation\"],\n\t\t\tpipeline: [\"pipeline\", \"channel\", \"tube\", \"transportation\"],\n\t\t\tdelay: [\"time\", \"reminder\", \"timer\", \"delay\", \"warning\"],\n\t\t\t\"legal-section\": [\"document\", \"legal\", \"section\"],\n\t\t\tcauses: [\"analytics\", \"evaluation\", \"cog-wheel\", \"cause\"],\n\t\t\teffects: [\"analytics\", \"evaluation\", \"cog-wheel\", \"effects\"],\n\t\t\t\"shared-by-me\": [\"people\", \"team\", \"group\", \"shared\", \"deliver\"],\n\t\t\t\"shared-with-me\": [\"people\", \"team\", \"group\", \"shared\", \"received\"],\n\t\t\t\"main-milestone\": [\"planning\", \"goal\", \"milestone\", \"steps\"],\n\t\t\t\"indicator-groups\": [\"indicator\", \"groups\", \"status\", \"time\", \"folder\"],\n\t\t\t\"alert-groups\": [\"indicator\", \"groups\", \"alert\", \"status\", \"folder\"],\n\t\t\t\"function-alert\": [\"status\", \"function\", \"alert\"],\n\t\t\t\"function-hierarchy\": [\"status\", \"function\", \"hierarchy\"],\n\t\t\trfid: [\"device\", \"location\", \"indicator\", \"alert\"],\n\t\t\tinput: [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"software-item\": [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"product-view\": [\"actions\", \"arrow\", \"status\"],\n\t\t\t\"software-item-variant\": [\"actions\", \"arrow\", \"status\"],\n\t\t\tlighthouse: [\"status\", \"building\", \"things\", \"important\", \"highlight\", \"app\", \"light\"],\n\t\t\t\"demand-unit\": [\"people\", \"person\", \"circle\"]\n\t\t}\n\t}\n};\n\nexport type IconCollection = {\n\ttitle: string;\n\ticons: {\n\t\t[key: string]: string[];\n\t};\n};\n\nexport type Icons = {\n\t[key: string]: IconCollection;\n};\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":401,"column":0},"map":{"version":3,"names":["sap","ui","define","UI5Element","___FESRUtil","addFESRId","getAssociatedFullScreenMenuItem","control","getElementById","getAssociation","getAssociatedFullScreenButton","createShowMoreMenuItem","id","fesrId","associatedFullScreenMenuItem","menuItem","clone","createShowMoreActionButton","associatedFullScreenButton","actionButton","sortMenuItems","menuItemOrder","menuItems","sort","a","b","aId","getId","bId","aIndex","findIndex","includes","bIndex","targetsAreEqual","targetA","targetB","Object","keys","length","semanticObject","action","__exports","__esModule"],"sources":["InsightsUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Button from \"sap/m/Button\";\nimport UI5Element from \"sap/ui/core/Element\";\nimport { Intent } from \"sap/ushell/services/AppLifeCycle\";\nimport MenuItem from \"../MenuItem\";\nimport { addFESRId } from \"./FESRUtil\";\n\n/**\n * Retrieves the associated full screen menu item.\n *\n * @returns {MenuItem} The associated full screen menu item.\n * @private\n */\nexport const getAssociatedFullScreenMenuItem = (control: UI5Element) => {\n\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenMenuItem\", null) as string) as MenuItem;\n};\n\n/**\n * Retrieves the associated full screen button.\n *\n * @returns {Button} The associated full screen button.\n * @private\n *\n */\nexport const getAssociatedFullScreenButton = (control: UI5Element) => {\n\treturn UI5Element.getElementById(control.getAssociation(\"fullScreenButton\", null) as string) as Button;\n};\n\n/**\n * Creates a \"Show More\" menu item.\n *\n * @private\n * @param {string} id - The ID of the menu item.\n * @param {string} [fesrId] - The FESR ID for the menu item.\n * @returns {MenuItem} The created MenuItem instance.\n */\nexport const createShowMoreMenuItem = (control: UI5Element, id: string, fesrId?: string) => {\n\tconst associatedFullScreenMenuItem = getAssociatedFullScreenMenuItem(control);\n\tconst menuItem = associatedFullScreenMenuItem?.clone(id);\n\tif (fesrId) {\n\t\taddFESRId(menuItem, fesrId);\n\t}\n\n\treturn menuItem;\n};\n\n/**\n * Creates a \"Show More\" action button.\n *\n * @private\n * @param {string} id - The ID of the button.\n * @param {string} [fesrId] - The FESR ID for the button.\n * @returns {Button} The created Button instance.\n */\nexport const createShowMoreActionButton = (control: UI5Element, id: string, fesrId?: string) => {\n\tconst associatedFullScreenButton = getAssociatedFullScreenButton(control);\n\tconst actionButton = associatedFullScreenButton ? associatedFullScreenButton.clone(id) : null;\n\tif (fesrId && actionButton) {\n\t\taddFESRId(actionButton, fesrId);\n\t}\n\n\treturn actionButton;\n};\n\n/**\n * Sort Menuitems based on the order provided\n *\n * @private\n * @param {string[]} menuItemOrder - The Ids of the menu item in the order in which to be sorted.\n * @param {MenuItem[]} menuItems- The menuitems list to be sorted.\n * @returns {MenuItem[]} The sorted MenuItems.\n */\nexport const sortMenuItems = (menuItemOrder: string[], menuItems: MenuItem[]) => {\n\treturn menuItems?.sort((a, b) => {\n\t\tconst aId = a.getId();\n\t\tconst bId = b.getId();\n\t\tconst aIndex = menuItemOrder.findIndex((id) => aId.includes(id));\n\t\tconst bIndex = menuItemOrder.findIndex((id) => bId.includes(id));\n\t\treturn aIndex - bIndex;\n\t});\n};\n\n/**\n * Compares two intent objects to determine if they are equal.\n *\n * The function checks the following conditions:\n * 1. If both objects are empty (i.e., have no keys), they are considered equal.\n * 2. If both objects have keys, their `semanticObject` and `action` properties are compared for equality.\n * 3. If either object is `undefined` or the conditions above are not met, they are considered not equal.\n *\n * @param targetA - The first intent object to compare.\n * @param targetB - The second intent object to compare.\n * @returns `true` if the objects are considered equal, otherwise `false`.\n */\nexport const targetsAreEqual = (targetA?: Partial<Intent>, targetB?: Partial<Intent>): boolean => {\n\t// Check if both are empty objects\n\tif (targetA && targetB) {\n\t\tif (Object.keys(targetA).length === 0 && Object.keys(targetB).length === 0) {\n\t\t\treturn true;\n\t\t} else if (Object.keys(targetA).length && Object.keys(targetB).length) {\n\t\t\treturn targetA.semanticObject === targetB.semanticObject && targetA.action === targetB.action;\n\t\t}\n\t}\n\treturn false;\n};\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,8CAAA,8CAAAC,EAAAC,GAAA,mBAQSC,EAASD,EAAA,aAQX,MAAME,EAAmCC,GACxCJ,EAAWK,eAAeD,EAAQE,eAAe,qBAAsB,OAUxE,MAAMC,EAAiCH,GACtCJ,EAAWK,eAAeD,EAAQE,eAAe,mBAAoB,OAWtE,MAAME,EAAyBA,CAACJ,EAAqBK,EAAYC,KACvE,MAAMC,EAA+BR,EAAgCC,GACrE,MAAMQ,EAAWD,GAA8BE,MAAMJ,GACrD,GAAIC,EAAQ,CACXR,EAAUU,EAAUF,EACrB,CAEA,OAAOE,GAWD,MAAME,EAA6BA,CAACV,EAAqBK,EAAYC,KAC3E,MAAMK,EAA6BR,EAA8BH,GACjE,MAAMY,EAAeD,EAA6BA,EAA2BF,MAAMJ,GAAM,KACzF,GAAIC,GAAUM,EAAc,CAC3Bd,EAAUc,EAAcN,EACzB,CAEA,OAAOM,GAWD,MAAMC,EAAgBA,CAACC,EAAyBC,IAC/CA,GAAWC,KAAK,CAACC,EAAGC,KAC1B,MAAMC,EAAMF,EAAEG,QACd,MAAMC,EAAMH,EAAEE,QACd,MAAME,EAASR,EAAcS,UAAWlB,GAAOc,EAAIK,SAASnB,IAC5D,MAAMoB,EAASX,EAAcS,UAAWlB,GAAOgB,EAAIG,SAASnB,IAC5D,OAAOiB,EAASG,IAgBX,MAAMC,EAAkBA,CAACC,EAA2BC,KAE1D,GAAID,GAAWC,EAAS,CACvB,GAAIC,OAAOC,KAAKH,GAASI,SAAW,GAAKF,OAAOC,KAAKF,GAASG,SAAW,EAAG,CAC3E,OAAO,IACR,MAAO,GAAIF,OAAOC,KAAKH,GAASI,QAAUF,OAAOC,KAAKF,GAASG,OAAQ,CACtE,OAAOJ,EAAQK,iBAAmBJ,EAAQI,gBAAkBL,EAAQM,SAAWL,EAAQK,MACxF,CACD,CACA,OAAO,OACN,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAnC,kCAAAmC,EAAA/B,gCAAA+B,EAAA9B,yBAAA8B,EAAAxB,6BAAAwB,EAAArB,gBAAAqB,EAAAR,kBAAA,OAAAQ,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":406,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseObject","EventBus","Config","Container","__ColorUtils","___Constants","___PagesIconsConstants","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","ColorUtils","CUSTOM_SPACEID","DEFAULT_BG_COLOR","FALLBACK_ICON","fnFetchLegendColor","MYHOME_SPACE_ID","PAGE_SELECTION_LIMIT","PAGES","SPACES","UShellPersonalizer","PageManager","extend","constructor","_constructor","persContainerId","oOwnerComponent","BaseObject.prototype.constructor.call","this","colorUtils","_eventBus","getInstance","_getPersonalization","fetchAllAvailableSpaces","_fetchAllAvailableSpaces","_this","_aSpaces","Promise","resolve","getServiceAsync","then","oBookmarkService","getContentNodes","_oBookmarkService$get","aSpaces","filter","oSpace","id","forEach","BGColor","applyColorToAllPages","e","reject","fetchAllAvailablePages","_fetchAllAvailablePages","bFetchDistinctPages","_this2","_aPages","Array","isArray","children","oPage","find","oExistingPage","push","title","label","icon","isIconLoaded","pageId","spaceId","spaceTitle","url","hasCustomSpace","_hasCustomSpace","_this3","_this3$fetchAllAvaila","some","_getDefaultPages","aAvailablePages","aFavoritePages","slice","getFavPages","_getIconForPage","oFavPage","oIcon","includes","_applyIconsForFavPages","aFavPages","aPageWithoutIcon","_getFavPages","bUpdatePersonalisation","_this4","_temp4","length","selected","getFreeColor","addColor","_temp3","_temp2","oPersonalizer","read","oPersData","favouritePages","write","publish","_temp","_this4$_getPersonaliz","getFavoritePages","_getFavoritePages","bForceUpdate","bSpaceEnabled","encodeURIComponent","last","oGetFavPagesPromise","undefined","_getFavPages2","_this5","_this5$_getPersonaliz","_temp8","_temp7","_this5$_getDefaultPag","aPages","oAvailablePage","_temp6","_this5$getFavPages","_temp5","_this5$_getDefaultPag2","applyColorPersonalizations","_applyColorPersonalizations","personalizations","_this6","_temp0","allSpaces","personalization","isPagePersonalization","spaceObj","space","pageObj","page","availablePageObj","colorObj","isSpacePersonalization","favPageObj","favPage","favpageBGColor","oldColor","pageBackgroundColor","_temp9","applyIconPersonalizations","_applyIconPersonalizations","_this7","_temp10","isSpaceIconPersonalization","isPageIconPersonalization","oldIcon","_temp1","oCacheInstances","pageManagerInstance"],"sources":["PageManager.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport BaseObject from \"sap/ui/base/Object\";\nimport Component from \"sap/ui/core/Component\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Config from \"sap/ushell/Config\";\nimport Container from \"sap/ushell/Container\";\nimport Bookmark from \"sap/ushell/services/BookmarkV2\";\nimport { ISpacePagePersonalization } from \"../interface/KeyUserInterface\";\nimport { IColor, IPage, ISpace } from \"../interface/PageSpaceInterface\";\nimport ColorUtils from \"./ColorUtils\";\nimport { CUSTOM_SPACEID, DEFAULT_BG_COLOR, FALLBACK_ICON, fnFetchLegendColor, MYHOME_SPACE_ID, PAGE_SELECTION_LIMIT } from \"./Constants\";\nimport { PAGES, SPACES } from \"./PagesIconsConstants\";\nimport UShellPersonalizer from \"./UshellPersonalizer\";\n\n/**\n *\n * Provides the PageManager Class used for fetch and process user pages.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n * @private\n *\n * @alias sap.cux.home.utils.PageManager\n */\n\nexport default class PageManager extends BaseObject {\n\tcolorUtils: typeof ColorUtils = ColorUtils;\n\tpersContainerId: string;\n\toOwnerComponent: Component;\n\t_aSpaces!: ISpace[];\n\t_aPages!: IPage[];\n\taFavPages!: IPage[];\n\toPersonalizer!: UShellPersonalizer;\n\toGetFavPagesPromise!: Promise<IPage[]>;\n\tstatic oCacheInstances: { [key: string]: PageManager } = {};\n\tprivate _eventBus: EventBus;\n\tprivate constructor(persContainerId: string, oOwnerComponent: Component) {\n\t\tsuper();\n\t\tthis.persContainerId = persContainerId;\n\t\tthis.oOwnerComponent = oOwnerComponent;\n\t\tthis._eventBus = EventBus.getInstance();\n\t}\n\n\tstatic getInstance(persContainerId: string, oOwnerComponent: Component) {\n\t\tif (PageManager.oCacheInstances[persContainerId]) {\n\t\t\treturn PageManager.oCacheInstances[persContainerId];\n\t\t}\n\t\tconst pageManagerInstance = new PageManager(persContainerId, oOwnerComponent);\n\t\tPageManager.oCacheInstances[persContainerId] = pageManagerInstance;\n\t\treturn pageManagerInstance;\n\t}\n\n\tprivate _getPersonalization() {\n\t\treturn UShellPersonalizer.getInstance(this.persContainerId, this.oOwnerComponent);\n\t}\n\n\tpublic async fetchAllAvailableSpaces(): Promise<ISpace[]> {\n\t\tif (this._aSpaces) {\n\t\t\treturn Promise.resolve(this._aSpaces);\n\t\t}\n\t\tconst oBookmarkService: Bookmark = await Container.getServiceAsync(\"BookmarkV2\");\n\t\tconst aSpaces = (await oBookmarkService.getContentNodes()) as ISpace[];\n\t\t// Filter MyHome Space from Spaces\n\t\tthis._aSpaces = aSpaces.filter((oSpace) => oSpace.id !== MYHOME_SPACE_ID);\n\n\t\t// Add Initial Default Color for Spaces\n\t\tthis._aSpaces.forEach(function (oSpace) {\n\t\t\toSpace.BGColor = DEFAULT_BG_COLOR();\n\t\t\toSpace.applyColorToAllPages = false;\n\t\t});\n\n\t\treturn this._aSpaces;\n\t}\n\tpublic async fetchAllAvailablePages(bFetchDistinctPages: boolean = false): Promise<IPage[]> {\n\t\tif (this._aPages) {\n\t\t\treturn Promise.resolve(this._aPages);\n\t\t}\n\t\tconst aSpaces = await this.fetchAllAvailableSpaces();\n\t\tthis._aPages = [];\n\t\taSpaces.forEach((oSpace: ISpace) => {\n\t\t\tif (Array.isArray(oSpace.children)) {\n\t\t\t\toSpace.children.forEach((oPage: IPage) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!bFetchDistinctPages ||\n\t\t\t\t\t\t(bFetchDistinctPages && !this._aPages.find((oExistingPage) => oExistingPage.id === oPage.id))\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis._aPages.push({\n\t\t\t\t\t\t\ttitle: oPage.label,\n\t\t\t\t\t\t\ticon: FALLBACK_ICON,\n\t\t\t\t\t\t\tisIconLoaded: false,\n\t\t\t\t\t\t\tpageId: oPage.id,\n\t\t\t\t\t\t\tspaceId: oSpace.id,\n\t\t\t\t\t\t\tspaceTitle: oSpace.label,\n\t\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.id + \"&spaceId=\" + oSpace.id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn this._aPages;\n\t}\n\tpublic async hasCustomSpace() {\n\t\treturn (await this.fetchAllAvailableSpaces()).some((oSpace) => oSpace.id === CUSTOM_SPACEID);\n\t}\n\tprivate _getDefaultPages(aAvailablePages: IPage[]): Promise<IPage[]> {\n\t\tconst aFavoritePages = aAvailablePages.slice(0, PAGE_SELECTION_LIMIT) || [];\n\t\treturn this.getFavPages(aFavoritePages);\n\t}\n\t// Get icons from icon constants file\n\tprivate _getIconForPage(oFavPage: IPage) {\n\t\t// Check for icon in page icon constants file\n\t\tlet oIcon = PAGES.find((oPage) => oFavPage.pageId?.includes(oPage.id));\n\n\t\tif (!oIcon) {\n\t\t\t// Check for icon in space icon constants file\n\t\t\toIcon = SPACES.find((oSpace) => oFavPage.spaceId?.includes(oSpace.id));\n\t\t}\n\n\t\toFavPage.icon = oIcon?.icon || FALLBACK_ICON;\n\t\toFavPage.isIconLoaded = true;\n\t}\n\tprivate _applyIconsForFavPages(aFavPages: IPage[]) {\n\t\tconst aPageWithoutIcon = aFavPages.filter((oPage) => !oPage.isIconLoaded);\n\t\taPageWithoutIcon.forEach((oPage: IPage) => {\n\t\t\tthis._getIconForPage(oPage);\n\t\t});\n\t}\n\tpublic async getFavPages(aFavPages: IPage[], bUpdatePersonalisation: boolean = false) {\n\t\taFavPages.forEach((oPage: IPage) => {\n\t\t\toPage.selected = true;\n\t\t\tif (!oPage.BGColor) {\n\t\t\t\toPage.BGColor = this.colorUtils.getFreeColor();\n\t\t\t} else {\n\t\t\t\tthis.colorUtils.addColor(oPage.BGColor as string);\n\t\t\t}\n\t\t});\n\n\t\t// Update the Personalisation model\n\t\tif (bUpdatePersonalisation) {\n\t\t\tif (!this.oPersonalizer) {\n\t\t\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\t\t}\n\t\t\tlet oPersData = await this.oPersonalizer.read();\n\t\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\t\toPersData.favouritePages = aFavPages;\n\t\t\tawait this.oPersonalizer.write(oPersData);\n\t\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t\t}\n\n\t\t// Fetch and apply Icons for Favorite Pages\n\t\tif (aFavPages.length) {\n\t\t\tthis._applyIconsForFavPages(aFavPages);\n\t\t}\n\t\treturn aFavPages;\n\t}\n\tpublic getFavoritePages(bForceUpdate: boolean = false) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\tconst bSpaceEnabled = encodeURIComponent(Config.last(\"/core/spaces/enabled\"));\n\t\tif (!bSpaceEnabled) {\n\t\t\treturn Promise.resolve([]);\n\t\t}\n\t\tif (this.aFavPages && !bForceUpdate) {\n\t\t\treturn Promise.resolve(this.aFavPages);\n\t\t}\n\t\tif (this.oGetFavPagesPromise === undefined) {\n\t\t\tthis.oGetFavPagesPromise = this._getFavPages(bForceUpdate);\n\t\t}\n\t\treturn this.oGetFavPagesPromise;\n\t}\n\n\tprivate async _getFavPages(bForceUpdate: boolean) {\n\t\tthis.oPersonalizer = await this._getPersonalization();\n\t\tconst oPersData = await this.oPersonalizer.read();\n\t\tconst aFavoritePages: IPage[] | undefined = oPersData?.favouritePages;\n\t\tconst aAvailablePages = await this.fetchAllAvailablePages(true);\n\t\t// Set first 8 available pages are favorite if no favorite page data is present\n\t\tif (!aFavoritePages) {\n\t\t\tthis.aFavPages = await this._getDefaultPages(aAvailablePages);\n\t\t} else {\n\t\t\tlet aPages: IPage[] = [],\n\t\t\t\toExistingPage;\n\t\t\taFavoritePages?.forEach((oPage: IPage) => {\n\t\t\t\toExistingPage = aAvailablePages.find(function (oAvailablePage) {\n\t\t\t\t\treturn oAvailablePage.pageId === oPage.pageId;\n\t\t\t\t});\n\t\t\t\tif (oExistingPage) {\n\t\t\t\t\toExistingPage.BGColor = oPage.BGColor;\n\t\t\t\t\taPages.push(oExistingPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// To send Maximum of 8 Pages (BCP incident: 2270169293)\n\t\t\taPages = aPages.slice(0, PAGE_SELECTION_LIMIT);\n\t\t\tif (aPages.length || !aFavoritePages?.length) {\n\t\t\t\tthis.aFavPages = await this.getFavPages(aPages, aPages.length !== aFavoritePages?.length || bForceUpdate);\n\t\t\t} else if (!aPages.length && aFavoritePages.length) {\n\t\t\t\t//Clean unaccessible page data\n\t\t\t\toPersData.favouritePages = [];\n\t\t\t\tawait this.oPersonalizer.write(oPersData);\n\t\t\t\tthis.aFavPages = await this._getDefaultPages(aAvailablePages);\n\t\t\t}\n\t\t}\n\t\treturn this.aFavPages;\n\t}\n\n\tpublic async applyColorPersonalizations(personalizations?: ISpacePagePersonalization[]) {\n\t\tif (!personalizations?.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aFavPages) {\n\t\t\tawait this.getFavoritePages();\n\t\t}\n\n\t\tconst allSpaces = await this.fetchAllAvailableSpaces();\n\n\t\tpersonalizations.forEach((personalization) => {\n\t\t\tconst isPagePersonalization = !!personalization.pageId;\n\t\t\t//corresponding space obj of the master list of all spaces\n\t\t\tconst spaceObj = allSpaces?.find((space) => space.id === personalization.spaceId);\n\t\t\tconst pageObj = spaceObj?.children.find((page) => page.id === personalization.pageId);\n\t\t\t//corresponding page obj of the list of favorite/visible pages\n\t\t\tconst oPage = this.aFavPages.find((oPage) => oPage.pageId === personalization.pageId);\n\t\t\t//corresponding page obj of the master list of all pages\n\t\t\tconst availablePageObj = this._aPages?.find((page) => page.pageId === personalization.pageId);\n\t\t\t// Update the Personalisation model for space\n\t\t\tif (!isPagePersonalization && spaceObj) {\n\t\t\t\tconst colorObj = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\tspaceObj.BGColor = colorObj;\n\t\t\t\tspaceObj.applyColorToAllPages = personalization.applyColorToAllPages;\n\t\t\t\tspaceObj.isSpacePersonalization = true;\n\n\t\t\t\t// Update the color for all pages in the space if applied\n\t\t\t\tspaceObj.children.forEach((oPage) => {\n\t\t\t\t\tconst favPageObj = this.aFavPages.find((favPage) => favPage.pageId === oPage.id);\n\t\t\t\t\tif (favPageObj) {\n\t\t\t\t\t\tconst favpageBGColor = favPageObj.isPagePersonalization ? favPageObj.oldColor : DEFAULT_BG_COLOR();\n\t\t\t\t\t\tfavPageObj.BGColor = spaceObj.applyColorToAllPages ? personalization.BGColor : favpageBGColor;\n\t\t\t\t\t\toPage.BGColor = favPageObj.BGColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * setting personalization color for unchecked pages\n\t\t\t\t\t\t * updating color for the children of master list of spaces\n\t\t\t\t\t\t * updating color for the available pages corresponding to the space id\n\t\t\t\t\t\t */\n\t\t\t\t\t\toPage.BGColor = spaceObj.applyColorToAllPages ? personalization.BGColor : DEFAULT_BG_COLOR();\n\t\t\t\t\t\tthis._aPages.forEach((page) => {\n\t\t\t\t\t\t\tif (page.spaceId === spaceObj.id) {\n\t\t\t\t\t\t\t\tpage.BGColor = oPage.BGColor;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (pageObj) {\n\t\t\t\t// Update the Personalisation model for page\n\t\t\t\tconst pageBackgroundColor = spaceObj?.applyColorToAllPages\n\t\t\t\t\t? ({ ...spaceObj.BGColor } as IColor)\n\t\t\t\t\t: fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\t//updating color for the favourite page\n\t\t\t\tif (oPage) {\n\t\t\t\t\toPage.isPagePersonalization = true;\n\t\t\t\t\toPage.BGColor = pageBackgroundColor;\n\t\t\t\t\toPage.oldColor = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\t}\n\t\t\t\t//updating color for the children of master list of spaces\n\t\t\t\tpageObj.isPagePersonalization = true;\n\t\t\t\tpageObj.BGColor = pageBackgroundColor;\n\t\t\t\tpageObj.oldColor = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\t//updating color for the page of master list of pages/available page\n\t\t\t\tif (availablePageObj) {\n\t\t\t\t\tavailablePageObj.isPagePersonalization = true;\n\t\t\t\t\tavailablePageObj.BGColor = pageBackgroundColor;\n\t\t\t\t\tavailablePageObj.oldColor = fnFetchLegendColor(personalization.BGColor as string);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t}\n\n\tpublic async applyIconPersonalizations(personalizations?: ISpacePagePersonalization[]) {\n\t\tif (!personalizations?.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aFavPages) {\n\t\t\tawait this._getFavPages(false);\n\t\t}\n\t\tconst allSpaces = await this.fetchAllAvailableSpaces();\n\n\t\tpersonalizations.forEach((personalization) => {\n\t\t\tconst isPagePersonalization = !!personalization.pageId;\n\t\t\tconst spaceObj = allSpaces?.find((space) => space.id === personalization.spaceId);\n\n\t\t\t// Update the Personalisation model for space\n\t\t\tif (!isPagePersonalization) {\n\t\t\t\tif (spaceObj) {\n\t\t\t\t\tspaceObj.icon = personalization.icon;\n\t\t\t\t\tspaceObj.isSpaceIconPersonalization = true;\n\n\t\t\t\t\t// Update the icon for all pages in the space if applied\n\t\t\t\t\tspaceObj.children.forEach((oPage) => {\n\t\t\t\t\t\tif (!oPage.isPageIconPersonalization) {\n\t\t\t\t\t\t\tconst favPageObj = this.aFavPages.find((favPage) => favPage.pageId === oPage.id);\n\t\t\t\t\t\t\tif (favPageObj) {\n\t\t\t\t\t\t\t\tfavPageObj.icon = spaceObj.icon || FALLBACK_ICON;\n\t\t\t\t\t\t\t\toPage.icon = spaceObj.icon || FALLBACK_ICON;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Update the Personalisation model for page\n\t\t\t\tconst pageObj = spaceObj?.children.find((page) => page.id === personalization.pageId);\n\t\t\t\tconst oPage = this.aFavPages.find((oPage) => oPage.pageId === personalization.pageId);\n\t\t\t\tif (pageObj && oPage) {\n\t\t\t\t\toPage.isPageIconPersonalization = true;\n\t\t\t\t\tpageObj.isPageIconPersonalization = true;\n\t\t\t\t\toPage.icon = personalization.icon;\n\t\t\t\t\tpageObj.icon = personalization.icon;\n\t\t\t\t\toPage.oldIcon = personalization.oldIcon;\n\t\t\t\t\tpageObj.oldIcon = personalization.oldIcon;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._eventBus.publish(\"pageChannel\", \"pageUpdated\");\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,4CAAA,8KAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,sBAAAC,EAAAC,GAAA,OAAAA,KAAAC,mBAAAD,EAAAE,UAAA,YAAAF,EAAAE,QAAAF,CAAA,OAaOG,EAAUJ,EAAAJ,GAAA,MACRS,EAAcR,EAAA,wBAAES,EAAgBT,EAAA,0BAAEU,EAAaV,EAAA,uBAAEW,EAAkBX,EAAA,4BAAEY,EAAeZ,EAAA,yBAAEa,EAAoBb,EAAA,8BAC1Gc,EAAKb,EAAA,eAAEc,EAAMd,EAAA,gBACfe,EAAkBb,EAAAD,GAEzB,MAcqBe,EAAoBtB,EAAUuB,OAAA,kCAW1CC,YAAW,SAAAC,EAACC,EAAyBC,GAC5CC,6BAAAC,MAAQA,KAXTC,WAAgClB,EAY/BiB,KAAKH,gBAAkBA,EACvBG,KAAKF,gBAAkBA,EACvBE,KAAKE,UAAY9B,EAAS+B,aAC3B,EAWQC,oBAAmB,SAAAA,IAC1B,OAAOZ,EAAmBW,YAAYH,KAAKH,gBAAiBG,KAAKF,gBAClE,EAEaO,wBAAuB,SAAAC,IAAA,IAAsB,MAAAC,EACrDP,KAAJ,GAAIO,EAAKC,SAAU,CAClB,OAAOC,QAAQC,QAAQH,EAAKC,SAC7B,CAAC,OAAAC,QAAAC,QACwCpC,EAAUqC,gBAAgB,eAAaC,KAAA,SAA1EC,GAA0B,OAAAJ,QAAAC,QACTG,EAAiBC,mBAAiBF,KAAA,SAAAG,GAAzD,MAAMC,EAAOD,EAEbR,EAAKC,SAAWQ,EAAQC,OAAQC,GAAWA,EAAOC,KAAO/B,GAGzDmB,EAAKC,SAASY,QAAQ,SAAUF,GAC/BA,EAAOG,QAAUpC,IACjBiC,EAAOI,qBAAuB,KAC/B,GAEA,OAAOf,EAAKC,QAAS,IACtB,CAAC,MAAAe,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GACYE,uBAAsB,SAAAC,EAACC,EAA+B,OAAK,IAAoB,MAAAC,EACvF5B,KAAJ,GAAI4B,EAAKC,QAAS,CACjB,OAAOpB,QAAQC,QAAQkB,EAAKC,QAC7B,CAAC,OAAApB,QAAAC,QACqBkB,EAAKvB,2BAAyBO,KAAA,SAA9CI,GACNY,EAAKC,QAAU,GACfb,EAAQI,QAASF,IAChB,GAAIY,MAAMC,QAAQb,EAAOc,UAAW,CACnCd,EAAOc,SAASZ,QAASa,IACxB,IACEN,GACAA,IAAwBC,EAAKC,QAAQK,KAAMC,GAAkBA,EAAchB,KAAOc,EAAMd,IACxF,CACDS,EAAKC,QAAQO,KAAK,CACjBC,MAAOJ,EAAMK,MACbC,KAAMrD,EACNsD,aAAc,MACdC,OAAQR,EAAMd,GACduB,QAASxB,EAAOC,GAChBwB,WAAYzB,EAAOoB,MACnBM,IAAK,iCAAmCX,EAAMd,GAAK,YAAcD,EAAOC,IAE1E,GAEF,IAED,OAAOS,EAAKC,OAAQ,EACrB,CAAC,MAAAN,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GACYsB,eAAc,SAAAC,IAAA,IAAG,MAAAC,EACf/C,KAAI,OAAAS,QAAAC,QAAJqC,EAAK1C,2BAAyBO,KAAA,SAAAoC,GAA5C,OAAOA,EAAuCC,KAAM/B,GAAWA,EAAOC,KAAOnC,EAAgB,EAC9F,CAAC,MAAAuC,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GACO2B,iBAAgB,SAAAA,EAACC,GACxB,MAAMC,EAAiBD,EAAgBE,MAAM,EAAGhE,IAAyB,GACzE,OAAOW,KAAKsD,YAAYF,EACzB,EAEQG,gBAAe,SAAAA,EAACC,GAEvB,IAAIC,EAAQnE,EAAM4C,KAAMD,GAAUuB,EAASf,QAAQiB,SAASzB,EAAMd,KAElE,IAAKsC,EAAO,CAEXA,EAAQlE,EAAO2C,KAAMhB,GAAWsC,EAASd,SAASgB,SAASxC,EAAOC,IACnE,CAEAqC,EAASjB,KAAOkB,GAAOlB,MAAQrD,EAC/BsE,EAAShB,aAAe,IACzB,EACQmB,uBAAsB,SAAAA,EAACC,GAC9B,MAAMC,EAAmBD,EAAU3C,OAAQgB,IAAWA,EAAMO,cAC5DqB,EAAiBzC,QAASa,IACzBjC,KAAKuD,gBAAgBtB,IAEvB,EACaqB,YAAW,SAAAQ,EAACF,EAAoBG,EAAkC,OAAK,IAAE,MAAAC,EAInEhE,KAAI,SAAAiE,IAmBtB,GAAIL,EAAUM,OAAQ,CACrBF,EAAKL,uBAAuBC,EAC7B,CACA,OAAOA,CAAU,CAzBjBA,EAAUxC,QAASa,IAClBA,EAAMkC,SAAW,KACjB,IAAKlC,EAAMZ,QAAS,CACnBY,EAAMZ,QAAU2C,EAAK/D,WAAWmE,cACjC,KAAO,CACNJ,EAAK/D,WAAWoE,SAASpC,EAAMZ,QAChC,IAGD,MAAAiD,EAAA,cACIP,EAAsB,UAAAQ,IAAA,OAAA9D,QAAAC,QAIHsD,EAAKQ,cAAcC,QAAM7D,KAAA,SAA3C8D,GACJ,IAAKA,EAAWA,EAAY,CAAEC,eAAgB,IAC9CD,EAAUC,eAAiBf,EAAU,OAAAnD,QAAAC,QAC/BsD,EAAKQ,cAAcI,MAAMF,IAAU9D,KAAA,WACzCoD,EAAK9D,UAAU2E,QAAQ,cAAe,cAAe,WAAAC,EAAA,eAPhDd,EAAKQ,cAAa,QAAA/D,QAAAC,QACKsD,EAAK5D,uBAAqBQ,KAAA,SAAAmE,GAArDf,EAAKQ,cAAaO,CAAoC,IAMF,GANE,OAAAD,KAAAlE,KAAAkE,EAAAlE,KAAA2D,KAAAO,EAAA,EAHxD,GAGwD,OAAArE,QAAAC,QAAA4D,KAAA1D,KAAA0D,EAAA1D,KAAAqD,KAAAK,GAczD,CAAC,MAAA/C,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GACMyD,iBAAgB,SAAAC,EAACC,EAAwB,OAE/C,MAAMC,EAAgBC,mBAAmB/G,EAAOgH,KAAK,yBACrD,IAAKF,EAAe,CACnB,OAAO1E,QAAQC,QAAQ,GACxB,CACA,GAAIV,KAAK4D,YAAcsB,EAAc,CACpC,OAAOzE,QAAQC,QAAQV,KAAK4D,UAC7B,CACA,GAAI5D,KAAKsF,sBAAwBC,UAAW,CAC3CvF,KAAKsF,oBAAsBtF,KAAK8D,aAAaoB,EAC9C,CACA,OAAOlF,KAAKsF,mBACb,EAEcxB,aAAY,SAAA0B,EAACN,GAAqB,IAAE,MAAAO,EACjDzF,KAAI,OAAAS,QAAAC,QAAuB+E,EAAKrF,uBAAqBQ,KAAA,SAAA8E,GAArDD,EAAKjB,cAAakB,EAAoC,OAAAjF,QAAAC,QAC9B+E,EAAKjB,cAAcC,QAAM7D,KAAA,SAA3C8D,GACN,MAAMtB,EAAsCsB,GAAWC,eAAe,OAAAlE,QAAAC,QACxC+E,EAAKhE,uBAAuB,OAAKb,KAAA,SAAzDuC,GAAe,SAAAwC,IA2BrB,OAAOF,EAAK7B,SAAU,OAAAgC,EAAA,eAzBjBxC,EAAc,QAAA3C,QAAAC,QACK+E,EAAKvC,iBAAiBC,IAAgBvC,KAAA,SAAAiF,GAA7DJ,EAAK7B,UAASiC,CAAgD,QAE9D,IAAIC,EAAkB,GACrB3D,EACDiB,GAAgBhC,QAASa,IACxBE,EAAgBgB,EAAgBjB,KAAK,SAAU6D,GAC9C,OAAOA,EAAetD,SAAWR,EAAMQ,MACxC,GACA,GAAIN,EAAe,CAClBA,EAAcd,QAAUY,EAAMZ,QAC9ByE,EAAO1D,KAAKD,EACb,IAGD2D,EAASA,EAAOzC,MAAM,EAAGhE,GAAsB,MAAA2G,EAAA,cAC3CF,EAAO5B,SAAWd,GAAgBc,OAAM,QAAAzD,QAAAC,QACpB+E,EAAKnC,YAAYwC,EAAQA,EAAO5B,SAAWd,GAAgBc,QAAUgB,IAAatE,KAAA,SAAAqF,GAAzGR,EAAK7B,UAASqC,CAA4F,cAAAC,EAAA,eAC/FJ,EAAO5B,QAAUd,EAAec,OAAM,CAEjDQ,EAAUC,eAAiB,GAAG,OAAAlE,QAAAC,QACxB+E,EAAKjB,cAAcI,MAAMF,IAAU9D,KAAA,kBAAAH,QAAAC,QAClB+E,EAAKvC,iBAAiBC,IAAgBvC,KAAA,SAAAuF,GAA7DV,EAAK7B,UAASuC,CAAgD,MAL4C,GAK5C,GAAAD,KAAAtF,KAAA,OAAAsF,EAAAtF,KAAA,eAPhB,GAOgB,GAAAoF,KAAApF,KAAA,OAAAoF,EAAApF,KAAA,eAG1C,GA1BtB,OAAAgF,KAAAhF,KAAAgF,EAAAhF,KAAA+E,KAAAC,EAAA,MA2BD,CAAC,MAAArE,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GAEY6E,2BAA0B,SAAAC,EAACC,GAA8C,IAAE,MAAAC,EAKlFvG,KAAI,SAAAwG,IAAA,OAAA/F,QAAAC,QAIe6F,EAAKlG,2BAAyBO,KAAA,SAAhD6F,GAENH,EAAiBlF,QAASsF,IACzB,MAAMC,IAA0BD,EAAgBjE,OAEhD,MAAMmE,EAAWH,GAAWvE,KAAM2E,GAAUA,EAAM1F,KAAOuF,EAAgBhE,SACzE,MAAMoE,EAAUF,GAAU5E,SAASE,KAAM6E,GAASA,EAAK5F,KAAOuF,EAAgBjE,QAE9E,MAAMR,EAAQsE,EAAK3C,UAAU1B,KAAMD,GAAUA,EAAMQ,SAAWiE,EAAgBjE,QAE9E,MAAMuE,EAAmBT,EAAK1E,SAASK,KAAM6E,GAASA,EAAKtE,SAAWiE,EAAgBjE,QAEtF,IAAKkE,GAAyBC,EAAU,CACvC,MAAMK,EAAW9H,EAAmBuH,EAAgBrF,SACpDuF,EAASvF,QAAU4F,EACnBL,EAAStF,qBAAuBoF,EAAgBpF,qBAChDsF,EAASM,uBAAyB,KAGlCN,EAAS5E,SAASZ,QAASa,IAC1B,MAAMkF,EAAaZ,EAAK3C,UAAU1B,KAAMkF,GAAYA,EAAQ3E,SAAWR,EAAMd,IAC7E,GAAIgG,EAAY,CACf,MAAME,EAAiBF,EAAWR,sBAAwBQ,EAAWG,SAAWrI,IAChFkI,EAAW9F,QAAUuF,EAAStF,qBAAuBoF,EAAgBrF,QAAUgG,EAC/EpF,EAAMZ,QAAU8F,EAAW9F,OAC5B,KAAO,CAMNY,EAAMZ,QAAUuF,EAAStF,qBAAuBoF,EAAgBrF,QAAUpC,IAC1EsH,EAAK1E,QAAQT,QAAS2F,IACrB,GAAIA,EAAKrE,UAAYkE,EAASzF,GAAI,CACjC4F,EAAK1F,QAAUY,EAAMZ,OACtB,GAEF,GAEF,MAAO,GAAIyF,EAAS,CAEnB,MAAMS,EAAsBX,GAAUtF,qBAClC,IAAKsF,EAASvF,SACflC,EAAmBuH,EAAgBrF,SAEtC,GAAIY,EAAO,CACVA,EAAM0E,sBAAwB,KAC9B1E,EAAMZ,QAAUkG,EAChBtF,EAAMqF,SAAWnI,EAAmBuH,EAAgBrF,QACrD,CAEAyF,EAAQH,sBAAwB,KAChCG,EAAQzF,QAAUkG,EAClBT,EAAQQ,SAAWnI,EAAmBuH,EAAgBrF,SAEtD,GAAI2F,EAAkB,CACrBA,EAAiBL,sBAAwB,KACzCK,EAAiB3F,QAAUkG,EAC3BP,EAAiBM,SAAWnI,EAAmBuH,EAAgBrF,QAChE,CACD,IAGDkF,EAAKrG,UAAU2E,QAAQ,cAAe,cAAe,GAvErD,IAAKyB,GAAkBpC,OAAQ,CAC9B,OAAAzD,QAAAC,SACD,CAAC,MAAA8G,EAAA,eAEIjB,EAAK3C,UAAS,QAAAnD,QAAAC,QACZ6F,EAAKvB,oBAAkBpE,KAAA,eAH7B,GAG6B,OAAAH,QAAAC,QAAA8G,KAAA5G,KAAA4G,EAAA5G,KAAA4F,KAAAgB,GAmE/B,CAAC,MAAAjG,GAAA,OAAAd,QAAAe,OAAAD,EAAA,GAEYkG,0BAAyB,SAAAC,EAACpB,GAA8C,IAAE,MAAAqB,EAKjF3H,KAAI,SAAA4H,IAAA,OAAAnH,QAAAC,QAGeiH,EAAKtH,2BAAyBO,KAAA,SAAhD6F,GAENH,EAAiBlF,QAASsF,IACzB,MAAMC,IAA0BD,EAAgBjE,OAChD,MAAMmE,EAAWH,GAAWvE,KAAM2E,GAAUA,EAAM1F,KAAOuF,EAAgBhE,SAGzE,IAAKiE,EAAuB,CAC3B,GAAIC,EAAU,CACbA,EAASrE,KAAOmE,EAAgBnE,KAChCqE,EAASiB,2BAA6B,KAGtCjB,EAAS5E,SAASZ,QAASa,IAC1B,IAAKA,EAAM6F,0BAA2B,CACrC,MAAMX,EAAaQ,EAAK/D,UAAU1B,KAAMkF,GAAYA,EAAQ3E,SAAWR,EAAMd,IAC7E,GAAIgG,EAAY,CACfA,EAAW5E,KAAOqE,EAASrE,MAAQrD,EACnC+C,EAAMM,KAAOqE,EAASrE,MAAQrD,CAC/B,CACD,GAEF,CACD,KAAO,CAEN,MAAM4H,EAAUF,GAAU5E,SAASE,KAAM6E,GAASA,EAAK5F,KAAOuF,EAAgBjE,QAC9E,MAAMR,EAAQ0F,EAAK/D,UAAU1B,KAAMD,GAAUA,EAAMQ,SAAWiE,EAAgBjE,QAC9E,GAAIqE,GAAW7E,EAAO,CACrBA,EAAM6F,0BAA4B,KAClChB,EAAQgB,0BAA4B,KACpC7F,EAAMM,KAAOmE,EAAgBnE,KAC7BuE,EAAQvE,KAAOmE,EAAgBnE,KAC/BN,EAAM8F,QAAUrB,EAAgBqB,QAChCjB,EAAQiB,QAAUrB,EAAgBqB,OACnC,CACD,IAEDJ,EAAKzH,UAAU2E,QAAQ,cAAe,cAAe,GA5CrD,IAAKyB,GAAkBpC,OAAQ,CAC9B,OAAAzD,QAAAC,SACD,CAAC,MAAAsH,EAAA,eAEIL,EAAK/D,UAAS,QAAAnD,QAAAC,QACZiH,EAAK7D,aAAa,QAAMlD,KAAA,eAH9B,GAG8B,OAAAH,QAAAC,QAAAsH,KAAApH,KAAAoH,EAAApH,KAAAgH,KAAAI,GAwChC,CAAC,MAAAzG,GAAA,OAAAd,QAAAe,OAAAD,EAAA,KA5SmB9B,EASbwI,gBAAkD,CAAC,EATtCxI,EAkBbU,YAAW,SAAXA,EAAYN,EAAyBC,GAC3C,GAAIL,EAAYwI,gBAAgBpI,GAAkB,CACjD,OAAOJ,EAAYwI,gBAAgBpI,EACpC,CACA,MAAMqI,EAAsB,IAAIzI,EAAYI,EAAiBC,GAC7DL,EAAYwI,gBAAgBpI,GAAmBqI,EAC/C,OAAOA,CACR,EAAC,OAzBmBzI,CAAW","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":411,"column":0},"map":{"version":3,"names":["sap","ui","define","PAGES","id","title","icon","SPACES","__exports","__esModule"],"sources":["PagesIconsConstants.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nexport const PAGES = [\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_MGR_SETTING_PC\",\n\t\ttitle: \"Current Settings\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-set-as-default\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_MGR_ANALYTIC_PC\",\n\t\ttitle: \"Analytics\",\n\t\ticon: \"sap-icon://business-objects-experience\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_PAYM_PC\",\n\t\ttitle: \"Payments\",\n\t\ticon: \"sap-icon://money-bills\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_PER_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_INV_PC\",\n\t\ttitle: \"Supplier Invoices\",\n\t\ticon: \"sap-icon://travel-expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AP_SUP_PC\",\n\t\ttitle: \"Suppliers\",\n\t\ticon: \"sap-icon://shipping-status\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_AR_PAY_CLEAR_PC\",\n\t\ttitle: \"Payments and Clearing\",\n\t\ticon: \"sap-icon://simulate\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_COM_PC\",\n\t\ttitle: \"Communication Management\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_CFG_PC\",\n\t\ttitle: \"Configuration\",\n\t\ticon: \"sap-icon://settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_ADM_PC\",\n\t\ttitle: \"Data Management\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_DPP_PC\",\n\t\ttitle: \"Data Protection and Privacy\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_EMP_PC\",\n\t\ttitle: \"Employee Master Data\",\n\t\ticon: \"sap-icon://work-history\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_EXT_PC\",\n\t\ttitle: \"Extensibility\",\n\t\ticon: \"sap-icon://expand-all\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_IAM_PC\",\n\t\ttitle: \"Identity and Access Management\",\n\t\ticon: \"sap-icon://badge\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_FLP_PC\",\n\t\ttitle: \"Launchpad\",\n\t\ticon: \"sap-icon://grid\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_SEC_PC\",\n\t\ttitle: \"Security\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_TMC_PC\",\n\t\ttitle: \"Technical Monitoring\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-indicator-groups\"\n\t},\n\t{\n\t\tid: \"SAP_CORE_PGT_CTS_PC\",\n\t\ttitle: \"Transport Management\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\tid: \"SAP_HCM_PGT_ADM_HRINFO_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://employee-pane\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_CPROC_PC\",\n\t\ttitle: \"Consolidation Process\",\n\t\ticon: \"sap-icon://create-form\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://filter-facets\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_GREP_PC\",\n\t\ttitle: \"Group Reports\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CCONS_AUDITOR_SET_PC\",\n\t\ttitle: \"Settings\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_BAM_PC\",\n\t\ttitle: \"Business Data Analysis\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_PURCH_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_SOURCING_PC\",\n\t\ttitle: \"Central Sourcing and Contracting\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_CNTRL_PURCHASING_PC\",\n\t\ttitle: \"Central Purchasing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_COLLSPEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://sap-box\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_BPC_EXP_PC\",\n\t\ttitle: \"Configuration and Setup\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_CONSENT_MGMT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customer-order-entry\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_ICA_RECON_RUN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_RECONSPEC_PC\",\n\t\ttitle: \"Reconciliation\",\n\t\ticon: \"sap-icon://accept\"\n\t},\n\t{\n\t\tid: \"SAP_CINV_PGT_SPECIALIST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_CINV_PGT_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_CR_ACC_PC\",\n\t\ttitle: \"Credit Accounts\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_SD_PGT_CR_PROC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-order\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_DG_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://alert\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_MIG_PC\",\n\t\ttitle: \"Configuration - Data Migration\",\n\t\ticon: \"sap-icon://combine\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FICA_DPSPEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_QLTY_BUPA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-control-group\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_QLTY_PROD_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_DIVISION_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_DESIGN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://course-program\"\n\t},\n\t{\n\t\tid: \"SAP_LCM_PGT_LEGAL_CONTENT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event\"\n\t},\n\t{\n\t\tid: \"SAP_LCM_PGT_ADMINISTRATION_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_ENV_MGM_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://e-care\"\n\t},\n\t{\n\t\tid: \"SAP_OIL_PGT_FLOG_SUPLRITEM_PC\",\n\t\ttitle: \"?\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-truck-driver\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://activity-items\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_DOC_ENTRY_PC\",\n\t\ttitle: \"Journal Entries\",\n\t\ticon: \"sap-icon://education\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_PERIODIC_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_REP_COA_PC\",\n\t\ttitle: \"Reporting and Chart of Accounts\",\n\t\ticon: \"sap-icon://chart-table-view\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_GL_TX_DCL_PC\",\n\t\ttitle: \"Tax Declaration\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_PSM_PGT_GM_GR_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\tid: \"SAP_PSM_PGT_GM_GR_OVR_PC\",\n\t\ttitle: \"Budget Maintenance and Execution\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_REPA_MGR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_INC_MGMT_PC\",\n\t\ttitle: \"Health and Safety\",\n\t\ticon: \"sap-icon://incident\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_ICA_RECON_RUN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://compare-2\"\n\t},\n\t{\n\t\tid: \"SAP_SD_PGT_SO_PROC_PS_PC\",\n\t\ttitle: \"Sales Processing\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_ADMIN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://globe\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_TRD_CLS_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://internet-browser\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_TRD_CMPLNC_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://home-share\"\n\t},\n\t{\n\t\tid: \"SAP_SLL_PGT_INTRASTAT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://simple-payment\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_IA_INSIGHTS_PC\",\n\t\ttitle: \"Inventory Accounting\",\n\t\ticon: \"sap-icon://multi-select\"\n\t},\n\t{\n\t\tid: \"SAP_MM_PGT_IM_ANALYSIS_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_HUM_INV_OVR_PC\",\n\t\ttitle: \"Handling Units in Inventory\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_PGT_IM_PROCESS_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_HUM_REM_OVR_PC\",\n\t\ttitle: \"Handling Units in Production\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-intersection\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://save\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_JE_PC\",\n\t\ttitle: \"Journal Entries\",\n\t\ticon: \"sap-icon://education\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_PA_PC\",\n\t\ttitle: \"Periodic Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event2\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_JVA_REP_PC\",\n\t\ttitle: \"Reporting\",\n\t\ticon: \"sap-icon://table-view\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_JITMD_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://timesheet\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_JITMPLNR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://create-entry-time\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_OPTR_LEAN_OVR_PC\",\n\t\ttitle: \"Kanban Overview\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_SUPERVISOR_LEAN_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MT_OVR_MW_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MP_OVR_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MP_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MNT_SUP_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EAM_PGT_MNT_SUP_MD_PC\",\n\t\ttitle: \"Master Data\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\tid: \"SAP_EHS_PGT_MOC_CRDTR_PC\",\n\t\ttitle: \"Management of Change\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_EXP_PC\",\n\t\ttitle: \"Marketing\",\n\t\ticon: \"sap-icon://marketing-campaign\"\n\t},\n\t{\n\t\tid: \"SAP_CEC_PGT_MKT_MGR_PC\",\n\t\ttitle: \"Marketing Management\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\tid: \"SAP_CDM_PGT_BP_MAINT_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://save\"\n\t},\n\t{\n\t\tid: \"SAP_CMD_PGT_CA_DATA_REP_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://copy\"\n\t},\n\t{\n\t\tid: \"SAP_OIL_PGT_PVOL_PC\",\n\t\ttitle: \"Production Measurements\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gas\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFS_RECRRG_ACTIES_PC\",\n\t\ttitle: \"Recurring Activities\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFM_OCCSNL_ACTIES_PC\",\n\t\ttitle: \"Occasional Activities\",\n\t\ticon: \"sap-icon://enter-more\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_OFM_RECRRG_ACTIES_PC\",\n\t\ttitle: \"Recurring Activities\",\n\t\ticon: \"sap-icon://refresh\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_PLANTMANAGMT_MC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_PRODSTWRD_SPLST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-approved\"\n\t},\n\t{\n\t\tid: \"SAP_PSS_PGT_MD_SPECIALIST_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://permission\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_SUPERVISOR_RPTV_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODNENG_DISC_ANLYTS_PC\",\n\t\ttitle: \"Execution Analytics\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_DISC_TOOLS_PC\",\n\t\ttitle: \"Miscellaneous Tools\",\n\t\ticon: \"sap-icon://machine\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_DISC_PC\",\n\t\ttitle: \"Routing Management\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gis-layer\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_ENG_PROC_PC\",\n\t\ttitle: \"Master Recipe Management\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_OPTR_RPTV_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-production\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_DDMRP_PC\",\n\t\ttitle: \"Demand-Driven Replenishment\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PMRP_PC\",\n\t\ttitle: \"Long-Term Planning\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-year\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_PRODN_PLNG_PC\",\n\t\ttitle: \"Material Planning\",\n\t\ticon: \"sap-icon://excel-attachment\"\n\t},\n\t{\n\t\tid: \"SAP_PS_PGT_PROJ_BILLING_PC\",\n\t\ttitle: \"Project Billing - Overview\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_PPM_PGT_PROJ_MGMT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_CPM_PGT_PROJ_MANAGE_COMM_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart\"\n\t},\n\t{\n\t\tid: \"SAP_PPM_PGT_PROJSTEER_COM_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_ID_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_RD_RECIPE_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-recipe\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_RCP_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe\"\n\t},\n\t{\n\t\tid: \"SAP_SERV_PGT_RECUR_SRVC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://synchronize\"\n\t},\n\t{\n\t\tid: \"SAP_CA_PGT_RSH_RES_MNG_PC\",\n\t\ttitle: \"Resource Management for Projects\",\n\t\ticon: \"sap-icon://employee-approvals\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_RCM_PC\",\n\t\ttitle: \"Revenue Contracts_\",\n\t\ticon: \"sap-icon://sales-document\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_FARR_ADMIN_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://opportunities\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_SA_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-coins\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_RECM_SBR_NOTIF_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://trip-report\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SRVC_MGR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-call-center\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SRVC_TEC_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://keyboard-and-mouse\"\n\t},\n\t{\n\t\tid: \"SAP_LE_PGT_OD_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-ship\"\n\t},\n\t{\n\t\tid: \"SAP_PLM_PGT_SYSTEMS_ENGINEER_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-software-item\"\n\t},\n\t{\n\t\tid: \"SAP_S4CRM_PGT_SOLN_ORD_MANAGE_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://order-status\"\n\t},\n\t{\n\t\tid: \"SAP_TM_PGT_TRANSP_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://bus-public-transport\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_ACCT_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_BOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_FOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_FIN_PGT_TRM_MOE_OVR_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\tid: \"SAP_LO_PGT_VC_MODELING_PC\",\n\t\ttitle: \"Overview\",\n\t\ticon: \"sap-icon://customize\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PROC_OP_PC\",\n\t\ttitle: \"Warehouse Processing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PHY_INV_PC\",\n\t\ttitle: \"Physical Inventory\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-products\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_PROC_PC\",\n\t\ttitle: \"Warehouse Processing\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-forklift\"\n\t},\n\t{\n\t\tid: \"SAP_SCM_PGT_EWM_WHSE_SETUP_PC\",\n\t\ttitle: \"Warehouse Setup\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t}\n];\n\nexport const SPACES = [\n\t{\n\t\ttitle: \"Accounts Payable - Leasing\",\n\t\tid: \"SAP_BR_RECM_AP_ACCOUNTANT\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Accounts Receivable Leasing\",\n\t\tid: \"SAP_BR_RECM_AR_ACCOUNTANT\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\ttitle: \"Billing\",\n\t\tid: \"SAP_BR_BILLING_CLERK\",\n\t\ticon: \"sap-icon://payment-approval\"\n\t},\n\t{\n\t\ttitle: \"Business Partner\",\n\t\tid: \"SAP_BR_BUPA_MASTER_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-business-partner\"\n\t},\n\t{\n\t\ttitle: \"Cash Management\",\n\t\tid: \"SAP_BR_CASH_SPECIALIST\",\n\t\ticon: \"sap-icon://monitor-payments\"\n\t},\n\t{\n\t\ttitle: \"Discrete Manufacturing Execution\",\n\t\tid: \"SAP_BR_PRODN_OPTR_DISC\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\ttitle: \"Field Logistics - Returns\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-delivery\"\n\t},\n\t{\n\t\ttitle: \"Fixed Assets\",\n\t\tid: \"SAP_BR_AA_ACCOUNTANT\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\ttitle: \"Group Reporting\",\n\t\tid: \"SAP_BR_GL_ACCOUNTANT_GRP\",\n\t\ticon: \"sap-icon://documents\"\n\t},\n\t{\n\t\ttitle: \"Internal Sales\",\n\t\tid: \"SAP_BR_INTERNAL_SALES_REP\",\n\t\ticon: \"sap-icon://collections-insight\"\n\t},\n\t{\n\t\ttitle: \"Inventory Management\",\n\t\tid: \"SAP_BR_INVENTORY_MANAGER\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Shipping\",\n\t\tid: \"SAP_BR_SHIP_SPECIALIST_JIT\",\n\t\ticon: \"sap-icon://instance\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Planning\",\n\t\tid: \"SAP_BR_PRODN_PLNR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Material Planning - External Procurement\",\n\t\tid: \"SAP_BR_MATL_PLNR_EXT_PROC\",\n\t\ticon: \"sap-icon://excel-attachment\"\n\t},\n\t{\n\t\ttitle: \"Operational Purchasing\",\n\t\tid: \"SAP_MM_SPT_PURCHASING_PC\",\n\t\ticon: \"sap-icon://credit-card\"\n\t},\n\t{\n\t\ttitle: \"Order BOM Management\",\n\t\tid: \"SAP_BR_BOM_ENG_CUST_ORDER\",\n\t\ticon: \"sap-icon://crm-service-manager\"\n\t},\n\t{\n\t\ttitle: \"Overhead Accounting\",\n\t\tid: \"SAP_BR_OVERHEAD_ACCOUNTANT\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\ttitle: \"Price Management\",\n\t\tid: \"SAP_BR_PRICING_SPECIALIST\",\n\t\ticon: \"sap-icon://customer-financial-fact-sheet\"\n\t},\n\t{\n\t\ttitle: \"Process Manufacturing Execution\",\n\t\tid: \"SAP_BR_PRODN_OPTR_PROC\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\ttitle: \"Process Manufacturing Execution Management\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_PROC\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\ttitle: \"Product\",\n\t\tid: \"SAP_BR_MD_SPCLST_ITEM_RFM\",\n\t\ticon: \"sap-icon://product\"\n\t},\n\t{\n\t\ttitle: \"Project Control - Financials\",\n\t\tid: \"SAP_BR_PROJ_FIN_CONTROLLER\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\ttitle: \"Quality Engineering\",\n\t\tid: \"SAP_BR_QUALITY_ENGINEER\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\ttitle: \"Sales Management\",\n\t\tid: \"SAP_BR_SALES_MANAGER\",\n\t\ticon: \"sap-icon://commission-check\"\n\t},\n\t{\n\t\ttitle: \"Accounts Payable\",\n\t\tid: \"SAP_BR_ADMIN_APR_FICA\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Accounts Receivable\",\n\t\tid: \"SAP_BR_AR_ACCOUNTANT\",\n\t\ticon: \"sap-icon://account\"\n\t},\n\t{\n\t\ttitle: \"Administration\",\n\t\tid: \"AP_BR_RECM_ADMINISTRATOR\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\ttitle: \"Administrator - HR Info\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_HRINFO\",\n\t\ticon: \"sap-icon://employee-pane\"\n\t},\n\t{\n\t\ttitle: \"Auditing - Accounts Payable and Receivable\",\n\t\tid: \"SAP_BR_EXT_AUDITOR_APR_FICA\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\ttitle: \"Auditing - Group Reporting\",\n\t\tid: \"SAP_BR_EXTERNAL_AUDITOR_GRP\",\n\t\ticon: \"sap-icon://create-form\"\n\t},\n\t{\n\t\ttitle: \"Bank Integration\",\n\t\tid: \"SAP_BR_BANK_INT_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-official-service-group\"\n\t},\n\t{\n\t\ttitle: \"Master Data - Batch\",\n\t\tid: \"SAP_BR_BATCH_MASTER_SPCLST\",\n\t\ticon: \"sap-icon://curriculum\"\n\t},\n\t{\n\t\ttitle: \"BOM Management\",\n\t\tid: \"SAP_BR_BOM_ENGINEER\",\n\t\ticon: \"sap-icon://sales-order-item\"\n\t},\n\t{\n\t\ttitle: \"Budgeting\",\n\t\tid: \"SAP_BR_BUDGET_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-manage-budget\"\n\t},\n\t{\n\t\ttitle: \"Business Data Analysis\",\n\t\tid: \"SAP_BR_BUSINESS_ANALYST_MKT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis\"\n\t},\n\t{\n\t\ttitle: \"Central Procurement\",\n\t\tid: \"SAP_MM_SPT_CNTRL_PURCHASING_PC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\ttitle: \"Collections\",\n\t\tid: \"SAP_BR_COLL_SPECIALIST_FICA\",\n\t\ticon: \"sap-icon://sap-box\"\n\t},\n\t{\n\t\ttitle: \"Configuration and Setup\",\n\t\tid: \"SAP_BR_BPC_EXPERT_MKT\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\ttitle: \"Consent Administration\",\n\t\tid: \"SAP_BR_DATA_PRIV_SPEC_CONS\",\n\t\ticon: \"sap-icon://customer-order-entry\"\n\t},\n\t{\n\t\ttitle: \"Contract Accounting\",\n\t\tid: \"SAP_BR_RECONC_SPEC_APR_FICA\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\ttitle: \"Contract Accounting\",\n\t\tid: \"SAP_BR_APR_ACCOUNTANT_FICA\",\n\t\ticon: \"sap-icon://activity-individual\"\n\t},\n\t{\n\t\tid: \"SAP_BR_DATA_PRIVACY_SPECIALIST\",\n\t\ttitle: \"Data Protection and Privacy\",\n\t\ticon: \"sap-icon://locked\"\n\t},\n\t{\n\t\ttitle: \"Accounts Payable\",\n\t\tid: \"SAP_BR_AP_ACCOUNTANT\",\n\t\ticon: \"sap-icon://batch-payments\"\n\t},\n\t{\n\t\ttitle: \"Contract Data\",\n\t\tid: \"SAP_BR_RECM_SPECIALIST\",\n\t\ticon: \"sap-icon://paste\"\n\t},\n\t{\n\t\ttitle: \"Convergent Invoicing\",\n\t\tid: \"SAP_BR_INVOICING_SPECIALIST_CINV\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\ttitle: \"Convergent Invoicing Administration\",\n\t\tid: \"SAP_BR_INVOICING_ADMIN_CINV\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\ttitle: \"Credit Management\",\n\t\tid: \"SAP_BR_CREDIT_CONTROLLER\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\ttitle: \"Customer Returns\",\n\t\tid: \"SAP_BR_RETURNS_REFUND_CLERK\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-return-order\"\n\t},\n\t{\n\t\ttitle: \"Dangerous Goods\",\n\t\tid: \"SAP_BR_DG_SPLST_PCL\",\n\t\ticon: \"sap-icon://alert\"\n\t},\n\t{\n\t\ttitle: \"Data Migration\",\n\t\tid: \"SAP_BR_CONFIG_EXPERT_DATA_MIG\",\n\t\ticon: \"sap-icon://combine\"\n\t},\n\t{\n\t\ttitle: \"Data Privacy and Protection\",\n\t\tid: \"SAP_BR_DATA_PRIVACY_SPEC_FICA\",\n\t\ticon: \"sap-icon://shield\"\n\t},\n\t{\n\t\ttitle: \"Data Quality for Business Partners\",\n\t\tid: \"SAP_BR_BUPA_MASTER_STEWARD\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-control-group\"\n\t},\n\t{\n\t\ttitle: \"Data Quality for Products\",\n\t\tid: \"SAP_BR_PRODMASTER_STEWARD\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies\"\n\t},\n\t{\n\t\ttitle: \"Development Management for Discrete Industries\",\n\t\tid: \"SAP_BR_DEVELOPMENT_MANAGER_DIN\",\n\t\ticon: \"sap-icon://key\"\n\t},\n\t{\n\t\ttitle: \"Divisional Accounting\",\n\t\tid: \"SAP_BR_DIVISION_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation\"\n\t},\n\t{\n\t\ttitle: \"Document Management\",\n\t\tid: \"SAP_BR_DESIGN_ENGINEER\",\n\t\ticon: \"sap-icon://course-program\"\n\t},\n\t{\n\t\ttitle: \"Enterprise Contract Management\",\n\t\tid: \"SAP_BR_LEGAL_COUNSEL\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-event\"\n\t},\n\t{\n\t\ttitle: \"Enterprise Contract Management Admin\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_LCM\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\ttitle: \"Environmental Management\",\n\t\tid: \"SAP_BR_EHS_ENV_MGMT\",\n\t\ticon: \"sap-icon://e-care\"\n\t},\n\t{\n\t\ttitle: \"Field Logistics - Supply Chain Analysis\",\n\t\tid: \"SAP_BR_SC_ANALYST_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-meter-chained\"\n\t},\n\t{\n\t\ttitle: \"General Ledger\",\n\t\tid: \"SAP_BR_GL_ACCOUNTANT\",\n\t\ticon: \"sap-icon://activity-items\"\n\t},\n\t{\n\t\ttitle: \"Grants Management\",\n\t\tid: \"SAP_BR_GRANT_SPECIALIST\",\n\t\ticon: \"sap-icon://loan\"\n\t},\n\t{\n\t\ttitle: \"In-House Repair\",\n\t\tid: \"SAP_BR_CUST_SRVC_REP_REPA\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\ttitle: \"Incident Management\",\n\t\tid: \"SAP_BR_INDUSTRIAL_HYGIENIST\",\n\t\ticon: \"sap-icon://incident\"\n\t},\n\t{\n\t\ttitle: \"Intercompany Reconciliation\",\n\t\tid: \"SAP_BR_RECON_ACCOUNTANT\",\n\t\ticon: \"sap-icon://compare-2\"\n\t},\n\t{\n\t\ttitle: \"Internal Sales - Professional Services\",\n\t\tid: \"SAP_BR_INTERNAL_SALES_REP_PRSV\",\n\t\ticon: \"sap-icon://capital-projects\"\n\t},\n\t{\n\t\ttitle: \"International Trade Administration\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_SLL\",\n\t\ticon: \"sap-icon://globe\"\n\t},\n\t{\n\t\ttitle: \"International Trade Classification\",\n\t\tid: \"SAP_BR_TRD_CLS_SPECIALIST\",\n\t\ticon: \"sap-icon://internet-browser\"\n\t},\n\t{\n\t\ttitle: \"International Trade Compliance\",\n\t\tid: \"SAP_BR_TRD_CMPLNC_SPECIALIST\",\n\t\ticon: \"sap-icon://home-share\"\n\t},\n\t{\n\t\ttitle: \"Intrastat\",\n\t\tid: \"SAP_BR_INTRASTAT_SPECIALIST\",\n\t\ticon: \"sap-icon://simple-payment\"\n\t},\n\t{\n\t\ttitle: \"Inventory Accounting\",\n\t\tid: \"SAP_BR_INVENTORY_ACCOUNTANT\",\n\t\ticon: \"sap-icon://multi-select\"\n\t},\n\t{\n\t\ttitle: \"Inventory Analysis\",\n\t\tid: \"SAP_BR_INVENTORY_ANALYST\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t},\n\t{\n\t\ttitle: \"Inventory Processing\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\ttitle: \"Joint Venture Accounting\",\n\t\tid: \"SAP_BR_JVA_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-intersection\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Master Data\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_JIT\",\n\t\ticon: \"sap-icon://timesheet\"\n\t},\n\t{\n\t\ttitle: \"Just-In-Time Material Planning\",\n\t\tid: \"SAP_BR_MATL_PLNR_JIT_S_TO_C\",\n\t\ticon: \"sap-icon://create-entry-time\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Operations\",\n\t\tid: \"SAP_BR_PRODN_OPTR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Lean Manufacturing Supervising\",\n\t\tid: \"SAP_BR_PRODN_SUPVR_LEAN_MFG\",\n\t\ticon: \"sap-icon://factory\"\n\t},\n\t{\n\t\ttitle: \"Leasing Valuation\",\n\t\tid: \"SAP_BR_RECM_VALSPECIALIST\",\n\t\ticon: \"sap-icon://clinical-tast-tracker\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Execution\",\n\t\tid: \"SAP_BR_MAINTENANCE_TECHNICIAN\",\n\t\ticon: \"sap-icon://wrench\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Planning\",\n\t\tid: \"SAP_BR_MAINTENANCE_PLANNER\",\n\t\ticon: \"sap-icon://add-equipment\"\n\t},\n\t{\n\t\ttitle: \"Maintenance Supervision\",\n\t\tid: \"SAP_BR_MAINTENANCE_SUPERVISOR\",\n\t\ticon: \"sap-icon://technical-object\"\n\t},\n\t{\n\t\ttitle: \"Management of Change\",\n\t\tid: \"SAP_BR_CHG_MGMT_COORDINATOR\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes\"\n\t},\n\t{\n\t\ttitle: \"Marketing\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_MKT\",\n\t\ticon: \"sap-icon://marketing-campaign\"\n\t},\n\t{\n\t\ttitle: \"Marketing Management\",\n\t\tid: \"SAP_BR_MARKETING_MANAGER\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\ttitle: \"Mass Processing of Asset\",\n\t\tid: \"SAP_BR_AA_ACCOUNTANT_IOG\",\n\t\ticon: \"sap-icon://table-chart\"\n\t},\n\t{\n\t\ttitle: \"Oil and Gas Field Operations\",\n\t\tid: \"SAP_BR_FIELD_OPERATOR_IOG\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-gas\"\n\t},\n\t{\n\t\ttitle: \"Order Fulfillment Execution\",\n\t\tid: \"SAP_BR_ORDER_FULFILLMNT_SPCLST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading\"\n\t},\n\t{\n\t\ttitle: \"Order Fulfillment Management\",\n\t\tid: \"SAP_BR_ORDER_FULFILLMNT_MNGR\",\n\t\ticon: \"sap-icon://enter-more\"\n\t},\n\t{\n\t\ttitle: \"Payment Management\",\n\t\tid: \"SAP_BR_PAYM_SPECIALIST\",\n\t\ticon: \"sap-icon://my-sales-order\"\n\t},\n\t{\n\t\ttitle: \"Plant Management\",\n\t\tid: \"SAP_BR_PLANT_MANAGER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-operator\"\n\t},\n\t{\n\t\ttitle: \"Product Compliance\",\n\t\tid: \"SAP_BR_PRODSTWRD_SPLST_PCL\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-approved\"\n\t},\n\t{\n\t\ttitle: \"Product Compliance Master Data\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_PCL\",\n\t\ticon: \"sap-icon://permission\"\n\t},\n\t{\n\t\ttitle: \"Product Costing\",\n\t\tid: \"SAP_BR_PRODN_ACCOUNTANT\",\n\t\ticon: \"sap-icon://money-bills\"\n\t},\n\t{\n\t\ttitle: \"Production Control\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_RPTV\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization\"\n\t},\n\t{\n\t\ttitle: \"Production Engineering - Discrete Manufacturing\",\n\t\tid: \"SAP_BR_PRODN_ENG_DISC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts\"\n\t},\n\t{\n\t\ttitle: \"Production Engineering - Process Manufacturing\",\n\t\tid: \"SAP_BR_PRODN_ENG_PROC\",\n\t\ticon: \"sap-icon://process\"\n\t},\n\t{\n\t\ttitle: \"Production Execution\",\n\t\tid: \"SAP_BR_PRODN_SUPERVISOR_DISC\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-production\"\n\t},\n\t{\n\t\ttitle: \"Production Planning\",\n\t\tid: \"SAP_BR_PRODN_PLNR\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\ttitle: \"Project Billing\",\n\t\tid: \"SAP_BR_PROJ_BILLG_SPCLST\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\ttitle: \"Project Management\",\n\t\tid: \"SAP_BR_PROJECTMANAGER\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\ttitle: \"Project Management - Commercial\",\n\t\tid: \"SAP_BR_PROJ_MANAGE_COMM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart\"\n\t},\n\t{\n\t\ttitle: \"Project Steering Committee\",\n\t\tid: \"SAP_BR_PROJECT_STEER_MEMBER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit\"\n\t},\n\t{\n\t\ttitle: \"Quality Inspection\",\n\t\tid: \"SAP_BR_QUALITY_TECHNICIAN\",\n\t\ticon: \"sap-icon://inspection\"\n\t},\n\t{\n\t\ttitle: \"Quality Planning\",\n\t\tid: \"SAP_BR_QUALITY_PLANNER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-checklist-item\"\n\t},\n\t{\n\t\ttitle: \"Raw Substance Maintenance\",\n\t\tid: \"SAP_BR_MD_SPECIALIST_RAW_SUBST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-raw-material\"\n\t},\n\t{\n\t\ttitle: \"Receiving\",\n\t\tid: \"SAP_BR_RECEIVING_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me\"\n\t},\n\t{\n\t\ttitle: \"Recipe Development\",\n\t\tid: \"SAP_BR_RECIPE_DEVELOPER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-recipe\"\n\t},\n\t{\n\t\ttitle: \"Recipe Development Administration\",\n\t\tid: \"SAP_BR_ADMINISTRATOR_RCP_DEV\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe\"\n\t},\n\t{\n\t\ttitle: \"Recurring Service\",\n\t\tid: \"SAP_BR_SERVICE_PLANNER\",\n\t\ticon: \"sap-icon://synchronize\"\n\t},\n\t{\n\t\ttitle: \"Resource Management for Projects\",\n\t\tid: \"SAP_BR_RESOURCE_MANAGER\",\n\t\ticon: \"sap-icon://employee-approvals\"\n\t},\n\t{\n\t\ttitle: \"Revenue Accounting\",\n\t\tid: \"SAP_BR_REV_ACCOUNTANT\",\n\t\ticon: \"sap-icon://expense-report\"\n\t},\n\t{\n\t\ttitle: \"Revenue Accounting Administration\",\n\t\tid: \"SAP_BR_REV_ADMIN\",\n\t\ticon: \"sap-icon://opportunities\"\n\t},\n\t{\n\t\ttitle: \"Sales Accounting\",\n\t\tid: \"SAP_BR_SALES_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-coins\"\n\t},\n\t{\n\t\ttitle: \"Sales-Based Rent Reporting\",\n\t\tid: \"SAP_BR_RECM_SALES_REPORTER\",\n\t\ticon: \"sap-icon://trip-report\"\n\t},\n\t{\n\t\ttitle: \"Service Management\",\n\t\tid: \"SAP_BR_CUSTOMER_SRVC_MGR\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-call-center\"\n\t},\n\t{\n\t\ttitle: \"Service Processing\",\n\t\tid: \"SAP_BR_CUSTOMER_SRVC_TEC\",\n\t\ticon: \"sap-icon://keyboard-and-mouse\"\n\t},\n\t{\n\t\ttitle: \"Shipping\",\n\t\tid: \"SAP_BR_SHIPPING_SPECIALIST\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-ship\"\n\t},\n\t{\n\t\ttitle: \"Software Constraints\",\n\t\tid: \"SAP_BR_SYSTEMS_ENGINEER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-software-item\"\n\t},\n\t{\n\t\ttitle: \"Solution Order Management\",\n\t\tid: \"SAP_BR_SOLN_ORDER_SPCLST\",\n\t\ticon: \"sap-icon://order-status\"\n\t},\n\t{\n\t\ttitle: \"Taxes\",\n\t\tid: \"SAP_BR_TAX_SPECIALIST\",\n\t\ticon: \"sap-icon://simulate\"\n\t},\n\t{\n\t\ttitle: \"Test Automation\",\n\t\tid: \"SAP_BR_ADMIN_TEST_AUTOMATION\",\n\t\ticon: \"sap-icon://repost\"\n\t},\n\t{\n\t\ttitle: \"Text Analysis\",\n\t\tid: \"SAP_BR_TEXTANALYSIS_DEVELOPER\",\n\t\ticon: \"sap-icon://vds-file\"\n\t},\n\t{\n\t\ttitle: \"Transportation\",\n\t\tid: \"SAP_BR_TRANSPORTATION_MGR\",\n\t\ticon: \"sap-icon://bus-public-transport\"\n\t},\n\t{\n\t\ttitle: \"Treasury\",\n\t\tid: \"SAP_BR_TREASURY_RISK_MANAGER\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Accounting\",\n\t\tid: \"SAP_BR_TREASURY_ACCOUNTANT\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Back Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_BOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Front Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_FOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Treasury Middle Office\",\n\t\tid: \"SAP_BR_TREASURY_SPECIALIST_MOE\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account\"\n\t},\n\t{\n\t\ttitle: \"Variant Configuration\",\n\t\tid: \"SAP_BR_PRODUCT_CONFIG_MODELER\",\n\t\ticon: \"sap-icon://customize\"\n\t},\n\t{\n\t\ttitle: \"Warehouse Floor\",\n\t\tid: \"SAP_BR_WAREHOUSE_OPERATIVE_EWM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse\"\n\t},\n\t{\n\t\ttitle: \"Warehouse Office\",\n\t\tid: \"SAP_BR_WAREHOUSE_CLERK_EWM\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-products\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BPC_EXPERT\",\n\t\ttitle: \"Configuration Expert - Business Process Configuration\",\n\t\ticon: \"sap-icon://action-settings\"\n\t},\n\t{\n\t\tid: \"SAP_MM_SPT_SOURCING_PC\",\n\t\ttitle: \"Sourcing and Contracting\",\n\t\ticon: \"sap-icon://BusinessSuiteInAppSymbols/icon-contract\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR\",\n\t\ttitle: \"Administration\",\n\t\ticon: \"sap-icon://key-user-settings\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRODMASTER_SPECIALIST\",\n\t\ttitle: \"Master Data - Products\",\n\t\ticon: \"sap-icon://filter-facets\"\n\t},\n\t{\n\t\tid: \"SAP_BR_EMPLOYEE\",\n\t\ttitle: \"Employee Self-Services\",\n\t\ticon: \"sap-icon://employee\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PROJECT_MANAGER_PROF\",\n\t\ttitle: \"Project Management Professional Services\",\n\t\ticon: \"sap-icon://manager\"\n\t},\n\t{\n\t\tid: \"SAP_MM_SPT_PRODUCT_SRC_PC\",\n\t\ttitle: \"Product Sourcing\",\n\t\ticon: \"sap-icon://phone\"\n\t},\n\t{\n\t\tid: \"SAP_BR_EXTERNAL_AUDITOR\",\n\t\ttitle: \"Auditing - Group Reporting\",\n\t\ticon: \"sap-icon://kpi-managing-my-area\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BUSINESS_PROCESS_SPEC\",\n\t\ttitle: \"Business Process Management\",\n\t\ticon: \"sap-icon://manager-insight\"\n\t},\n\t{\n\t\tid: \"SAP_BR_AP_MANAGER\",\n\t\ttitle: \"Accounts Payable\",\n\t\ticon: \"sap-icon://accounting-document-verification\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_DATA_REPL\",\n\t\ttitle: \"Master Data - Data Replication\",\n\t\ticon: \"sap-icon://copy\"\n\t},\n\t{\n\t\tid: \"SAP_BR_AR_MANAGER\",\n\t\ttitle: \"Accounts Receivable\",\n\t\ticon: \"sap-icon://cause\"\n\t},\n\t{\n\t\tid: \"SAP_BR_CUST_SRVC_MGR_REPA\",\n\t\ttitle: \"In-House Repair\",\n\t\ticon: \"sap-icon://insurance-house\"\n\t},\n\t{\n\t\tid: \"SAP_BR_CUST_SRVC_TEC_REPA\",\n\t\ttitle: \"In-House Repair\",\n\t\ticon: \"sap-icon://insurance-house\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_SPT_INVTRY_PROCG_PC\",\n\t\ttitle: \"Inventory Processing\",\n\t\ticon: \"sap-icon://supplier\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RFM_STORE_ASSOCIATE\",\n\t\ttitle: \"Store Operations\",\n\t\ticon: \"sap-icon://retail-store\"\n\t},\n\t{\n\t\tid: \"SAP_BR_GRP_ACCOUNTANT\",\n\t\ttitle: \"Group Reporting\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_GRP\",\n\t\ttitle: \"Administration - Group Reporting\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMINISTRATOR_RFM\",\n\t\ttitle: \"Retail Administration\",\n\t\ticon: \"sap-icon://sales-quote\"\n\t},\n\t{\n\t\tid: \"SAP_BR_ADMIN_SUS_PFM\",\n\t\ttitle: \"Product Footprint Management\",\n\t\ticon: \"sap-icon://tree\"\n\t},\n\t{\n\t\tid: \"SAP_BR_BUSINESS_ANALYST_GRP\",\n\t\ttitle: \"Group Reporting Analysis\",\n\t\ticon: \"sap-icon://group-2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_APR_MANAGER_FICA\",\n\t\ttitle: \"Contract Accounting\",\n\t\ticon: \"sap-icon://warning2\"\n\t},\n\t{\n\t\tid: \"SAP_BR_MD_SPECIALIST_SITE_RFM\",\n\t\ttitle: \"Site Master Data\",\n\t\ticon: \"sap-icon://chart-table-view\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRICING_SPECIALIST_PRSV\",\n\t\ttitle: \"Price Management\",\n\t\ticon: \"sap-icon://crm-sales\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PROJ_PROC_CONTROLLER\",\n\t\ttitle: \"Project Control Resourcing and Procurement\",\n\t\ticon: \"sap-icon://bar-chart\"\n\t},\n\t{\n\t\tid: \"SAP_BR_PRICING_SPCLST_RFM\",\n\t\ttitle: \"Retail Sales Prices\",\n\t\ticon: \"sap-icon://search\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RFM_STORE_MANAGER\",\n\t\ttitle: \"Store Management\",\n\t\ticon: \"sap-icon://retail-store-manager\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RPLNMT_SPCLST_ST_RFM\",\n\t\ttitle: \"Store Replenishment\",\n\t\ticon: \"sap-icon://travel-expense-report\"\n\t},\n\t{\n\t\tid: \"SAP_BR_RCVG_SPECIALIST_IOG\",\n\t\ttitle: \"Receipts - Field Logistics\",\n\t\ticon: \"sap-icon://receipt\"\n\t},\n\t{\n\t\tid: \"SAP_RFM_SPT_INVTRY_MGMT_PC\",\n\t\ttitle: \"Inventory Management\",\n\t\ticon: \"sap-icon://customer-and-supplier\"\n\t}\n];\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":416,"column":0},"map":{"version":3,"names":["sap","ui","define","Container","EventHub","utils","setupPerformanceTracking","layout","setupTracking","Promise","resolve","containers","getItems","forEach","container","getContent","panel","attachEventOnce","containerName","getMetadata","getName","heroElement","availableElements","filter","availableElement","control","getVisible","name","_temp2","markHomePageEnd","then","e","reject","visibleElements","layoutElement","find","markHomePageStart","_temp","length","isHomeApp","_isHomeApp2","recordElementLoadEnd","homePageLoadEndMarker","emit","_isHomeApp","recordElementLoadStart","homePageLoadStartMarker","getServiceAsync","getCurrentApplication","homePage","UIElements","Object","keys","map","elementName","startMarked","endMarked","findUIElement","setPerformanceMark","markName","bUseUniqueMark","bUseLastMark","recordElementLoad","customMarkName","isStartMaker","element","marker","controlFlag","__exports","__esModule"],"sources":["PerformanceUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Container from \"sap/ushell/Container\";\nimport EventHub from \"sap/ushell/EventHub\";\nimport AppLifeCycle from \"sap/ushell/services/AppLifeCycle\";\nimport utils from \"sap/ushell/utils\";\nimport BaseContainer from \"../BaseContainer\";\nimport Layout from \"../Layout\";\n\ntype ElementInfo = {\n\tname: keyof typeof UIElements;\n\tstartMarked: boolean;\n\tendMarked: boolean;\n\tcontrol?: Layout | BaseContainer;\n};\n\nconst layoutElement = \"sap.cux.home.Layout\";\nconst homePageLoadStartMarker = \"FLP-TTI-Homepage-Custom-Start\";\nconst homePageLoadEndMarker = \"FLP-TTI-Homepage-Custom\";\nlet setupTracking = false;\n\n/**\n * An object representing the UI elements and their corresponding marker names.\n *\n */\nexport const UIElements = {\n\t\"sap.cux.home.AppsContainer\": \"Apps\",\n\t\"sap.cux.home.InsightsContainer\": \"Insights\",\n\t\"sap.cux.home.NewsAndPagesContainer\": \"News\",\n\t\"sap.cux.home.ToDosContainer\": \"ToDos\",\n\t[layoutElement]: \"Layout\"\n};\n\nlet availableElements: ElementInfo[] = Object.keys(UIElements).map((elementName) => ({\n\tname: elementName as keyof typeof UIElements,\n\tstartMarked: false,\n\tendMarked: false\n}));\n\n/**\n * Checks if the current application is the home app.\n *\n * @returns {Promise<boolean>} - A promise that resolves to true if the current application is the home app, otherwise false.\n */\nasync function isHomeApp(): Promise<boolean> {\n\tconst container = await Container.getServiceAsync<AppLifeCycle>(\"AppLifeCycle\");\n\treturn container.getCurrentApplication()?.homePage as boolean;\n}\n\n/**\n * Records the start of the homepage load.\n *\n * @returns {Promise<void>} - A promise that resolves when the start of the homepage load is recorded.\n */\nasync function markHomePageStart(): Promise<void> {\n\tif (await isHomeApp()) {\n\t\trecordElementLoadStart(layoutElement, homePageLoadStartMarker);\n\t}\n}\n\n/**\n * Records the end of the homepage load.\n *\n * @returns {Promise<void>} - A promise that resolves when the end of the homepage load is recorded.\n */\nasync function markHomePageEnd(): Promise<void> {\n\tif (await isHomeApp()) {\n\t\trecordElementLoadEnd(layoutElement, homePageLoadEndMarker);\n\t\tEventHub.emit(\"CustomHomeRendered\");\n\t}\n}\n\n/**\n * Finds the UI element information by container name.\n *\n * @param {keyof typeof UIElements} containerName - The name of the container.\n * @returns {ElementInfo | undefined} - The element information if found, otherwise undefined.\n */\nfunction findUIElement(containerName: keyof typeof UIElements): ElementInfo | undefined {\n\treturn availableElements.find((heroElement) => heroElement.name === containerName);\n}\n\n/**\n * Sets a performance mark with the given name.\n *\n * @param {string} markName - The name of the performance mark.\n */\nfunction setPerformanceMark(markName: string): void {\n\tutils.setPerformanceMark(markName, {\n\t\tbUseUniqueMark: true,\n\t\tbUseLastMark: true\n\t});\n}\n\n/**\n * Records the load of an element.\n *\n * @param {keyof typeof UIElements} containerName - The name of the container.\n * @param {string} [customMarkName] - The custom mark name.\n * @param {boolean} [isStartMaker] - Indicates if it is a start marker.\n */\nfunction recordElementLoad(containerName: keyof typeof UIElements, customMarkName?: string, isStartMaker?: boolean): void {\n\tconst element = findUIElement(containerName);\n\tconst marker = isStartMaker ? \"Start\" : \"End\";\n\tconst controlFlag = isStartMaker ? \"startMarked\" : \"endMarked\";\n\n\tif (element && !element[controlFlag] && element.control?.getVisible()) {\n\t\telement[controlFlag] = true;\n\t\tsetPerformanceMark(customMarkName || `FLP-Homepage-Section-${marker}[${UIElements[containerName]}]`);\n\t}\n}\n\n/**\n * Sets up performance tracking for the given layout.\n *\n * @param {Layout} layout - The layout object containing the UI elements.\n */\nexport async function setupPerformanceTracking(layout: Layout): Promise<void> {\n\tif (!layout || setupTracking) return;\n\n\tconst containers = layout.getItems();\n\tcontainers.forEach((container) => {\n\t\tcontainer.getContent().forEach((panel) => {\n\t\t\tpanel.attachEventOnce(\"loaded\", async () => {\n\t\t\t\tconst containerName = container.getMetadata().getName();\n\t\t\t\tconst heroElement = availableElements.filter((availableElement) => availableElement.control?.getVisible())[0].name;\n\n\t\t\t\t// If the hero element is loaded, mark the end of the homepage load\n\t\t\t\tif (containerName === heroElement) {\n\t\t\t\t\tawait markHomePageEnd();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n\n\tconst visibleElements = availableElements.filter((availableElement) => {\n\t\tavailableElement.control =\n\t\t\tavailableElement.name === layoutElement\n\t\t\t\t? layout\n\t\t\t\t: containers.find((container) => container.getMetadata().getName() === availableElement.name);\n\t\treturn availableElement.control?.getVisible();\n\t});\n\n\t// record homepage start\n\tsetupTracking = true;\n\tawait markHomePageStart();\n\n\t// record homepage end in case of no visible elements except layout\n\tif (visibleElements.length === 1) {\n\t\tawait markHomePageEnd();\n\t}\n}\n\n/**\n * Records the start of the element load.\n *\n * @param {keyof typeof UIElements} containerName - The name of the container.\n * @param {string} [customMarkName] - The custom mark name.\n */\nexport function recordElementLoadStart(containerName: keyof typeof UIElements, customMarkName?: string): void {\n\trecordElementLoad(containerName, customMarkName, true);\n}\n\n/**\n * Records the end of the element load.\n *\n * @param {keyof typeof UIElements} containerName - The name of the container.\n * @param {string} [customMarkName] - The custom mark name.\n */\nexport function recordElementLoadEnd(containerName: keyof typeof UIElements, customMarkName?: string): void {\n\trecordElementLoad(containerName, customMarkName, false);\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":421,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseObject","Component","defaultContainerId","PersonalisationUtils","extend","constructor","_constructor","BaseObject.prototype.constructor.call","this","getPersContainerId","_getPersContainerId","oManagedObject","bNewId","persContainerId","getOwnerIdFor","setPersContainerId","_setPersContainerId","getOwnerComponent","_getOwnerComponent","getOwnerComponentFor","__exports"],"sources":["PersonalisationUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport Component from \"sap/ui/core/Component\";\nimport UIComponent from \"sap/ui/core/UIComponent\";\n\nconst defaultContainerId = \"sap.cux\";\n\n/**\n *\n * Provides the util methods used for UshellPersonalizer.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122.0\n * @private\n *\n * @alias sap.cux.home.utils.PersonalisationUtils\n */\n\nclass PersonalisationUtils extends BaseObject {\n\tprivate persContainerId!: string;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\tpublic getPersContainerId(oManagedObject: ManagedObject, bNewId: boolean = false): string {\n\t\tif (this.persContainerId && !bNewId) {\n\t\t\treturn this.persContainerId;\n\t\t}\n\t\treturn `${Component.getOwnerIdFor(oManagedObject)}--${defaultContainerId}`;\n\t}\n\tpublic setPersContainerId(persContainerId: string) {\n\t\tthis.persContainerId = persContainerId;\n\t}\n\tpublic getOwnerComponent(oManagedObject: ManagedObject) {\n\t\treturn Component.getOwnerComponentFor(oManagedObject) as UIComponent | undefined;\n\t}\n}\n\nexport default new PersonalisationUtils();\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,qDAAA,wDAAAC,EAAAC,GAAA,aAUA,MAAMC,EAAqB,UAE3B,MAcMC,EAA6BH,EAAUI,OAAA,2CAG5CC,YAAW,SAAAC,IACVC,6BAAAC,KACD,EACOC,mBAAkB,SAAAC,EAACC,EAA+BC,EAAkB,OAC1E,GAAIJ,KAAKK,kBAAoBD,EAAQ,CACpC,OAAOJ,KAAKK,eACb,CACA,MAAO,GAAGZ,EAAUa,cAAcH,OAAoBT,GACvD,EACOa,mBAAkB,SAAAC,EAACH,GACzBL,KAAKK,gBAAkBA,CACxB,EACOI,kBAAiB,SAAAC,EAACP,GACxB,OAAOV,EAAUkB,qBAAqBR,EACvC,IAAC,IAAAS,EAGa,IAAIjB,EAAsB,OAAAiB,CAAA","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":426,"column":0},"map":{"version":3,"names":["sap","ui","define","Formatting","Log","encodeURL","formatMessage","deepExtend","BaseObject","CoreLib","___interface_CardsInterface","___Constants","___DataFormatUtils","UIAnnotations","TABLE_TYPES","sortCollectionByImportance","COLUMN_LENGTH","ValueState","FieldAnnotationsType","FieldTypes","RecommendedCardUtil","getInstance","Instance","getLineItemDetails","metaModel","originalManifest","leadingEntitySet","leadingEntitySetDetails","getODataEntitySet","variantInfo","this","getLineItemFromVariant","entityType","lineItemDefault","lineItem","pages","lrSettings","getSettingsForPage","quickVariantSelectionX","createDefaultLineItemDetails","oVariants","variants","firstAvailableKey","sEntitySet","oVariant","findFirstNonSmartChartVariant","isSmartChart","requestAtLeastFields","defaultTableSettings","getNormalizedTableSettings","entitySet","quickVariantInfo","annotationPath","split","presentationVariant","RequestAtLeast","length","_getRequestAtLeastFields","tableSettings","validateResponsiveTable","isResponsiveTable","undefined","lineItemDetail","quickVariant","headerInfo","sKey","Object","prototype","hasOwnProperty","call","oEntitySet","checkIfSmartChart","isResponsive","type","RESPONSIVE","error","oMetaModel","qualifier","oSelectionPresentationVariant","getAnnotation","UISelectionPresentationVariant","oPresentationVariant","PresentationVariant","getPresentationVariant","UIPresentationVariant","oDetails","getLineItem","UILineItem","qualifierPath","annotation","qualifierName","fullAnnotation","entityTypeData","getODataEntityType","selectionPresentationVariant","Path","getObject","presentationVariantData","visualizationData","Visualizations","find","oVis","AnnotationPath","includes","sQualifier","_getRelevantColumnPaths","columns","Array","isArray","selectSet","Set","expandSet","forEach","oColumnData","sPath","sAdditionalPath","sExpandPath","add","extractPathAndInsertToSet","select","from","expand","pathSet","path","extractAndExpandNavigationProperty","entitySetName","selects","expands","mNavigationProperties","iPos","lastIndexOf","sNavigation","getNavigationProperty","substring","push","navProperty","mMyNavigationProperties","oEntityType","aNavigationProperty","navigationProperty","oNavigationProperty","navName","name","_addNecessaryFields","aSelects","oInfo","aProperties","RecordType","DataFieldWithIntentBasedNavigation","DataFieldWithNavigationPath","aDataFieldsWithNavigation","getDataFieldsWithNavigation","concat","getFieldControlsPath","property","ensureSelectionProperty","sSelect","oProperty","getODataProperty","CommonFieldControl","oFieldControl","requestFields","valuePath","Value","lineItemProperty","textAnnotation","CommonText","sapTextAnnotation","SemanticObject","Action","getParameters","oSelectExpand","aExpands","alwaysSelectField","_ensureSelectionProperties","_handleMandatorySelectionFields","join","item","PropertyPath","key","propertyRef","field","sProperty","sElement","_createCardManifest","oInput","oVersionInfo","manifest","bSuppressRowNavigation","oUIManifest","oAppManifest","attributeIndex","assign","id","Date","now","title","cardTitle","subTitle","oNewManifest","createManifestSapApp","createManifestSapCard","createSapui5","oContent","content","slice","column","columnValue","_getAttributeValue","identifier","value","attributes","visible","state","showStateIcon","actions","parentAppId","cardType","versions","ui5","version","buildTimestamp","attributeData","attributeValue","startsWith","oDateFormatOptions","JSON","stringify","pattern","getDatePattern","appManifest","manifestAppData","dataSources","mainService","settings","datasource","sServiceUrl","uri","sCountPath","sText","text","oCardConfig","createManifestSapCardConfig","createManifestSapCardData","url","status","data","maxItems","attributesLayoutType","addCardActions","semanticObject","action","sapCard","semObj","semanticAction","oHeaderParams","ibnTarget","sensitiveProps","ibnParams","oHeaderParameterValue","parameters","oContentParams","parse","oContentParameterValue","configuration","headerState","contentState","header","oCardConfiguration","_relevantODataFilters","_relevantODataParameters","_entitySet","_urlSuffix","destinations","service","defaultUrl","csrfTokens","token1","request","method","headers","_version","contentDensities","compact","cozy","dependencies","libs","lazy","urlExpand","oBatch","Accept","oSapCardData","batch","_getManifestCardData","oParentApp","manifestApp","mainServiceUri","serviceUrl","replace","aColumns","map","oColumn","_getColumnDetail","filter","oItem","mParameters","urlSelectExpand","createCustomParams","finalUrl","aColumnSorted","CommonLabel","String","lineItemContext","oPropertyHidden","UIHidden","Bool","isPropertyHidden","keys","oP13NDetails","createP13N","columnDataObject","isSupportedColumn","getColumnObjectDetails","Importance","importance","propertyDetails","dataField","sColumnKeyDescription","sColumnValue","aSemKeyAnnotation","CommonSemanticKey","bIsPropertySemanticKey","some","oAnnotation","bIsCriticality","criticalityAnnotation","Criticality","MeasuresISOCurrency","MeasuresUnit","sTextArragement","UITextArrangement","_setColumnTextValue","buildExpressionForCriticalityColor","CriticalityRepresentation","EnumMember","CriticalityRepresentationTypeWithoutIcon","sFormatCriticalityExpression","None","sExpressionTemplate","oCriticalityProperty","CriticalityType","Negative","Error","Critical","Warning","Positive","Success","sCriticalitySimplePath","sCriticality","warning","TextArrangementType","sTextArrangementType","valueExpr","TextOnly","TextLast","TextSeparate","aCustomParams","entityTypeName","_isListReport","page","component","listPage","bSupressCardRowNavigation","shouldSuppressCardRowNavigation","sListKey","navigation","lRVariantSettings","tableType","gridTable","GRID","treeTable","TREE","STANDARD_LIST","OBJECT_LIST","SapSemantics","ANALYTICAL","UIHeaderInfo","tabItem","entitySetData","annotationName","variantData","sPresentationVariantPath","oPresentationVariantAnnotation","indexOf","UIChart","hasMandatoryProperties","propertiesSet","propertyDetail","_getParametersisedEntitySetParams","infoParamsRequired","oResult","navPropertyName","aNavigationProperties","oNavProperty","oNavigationEntitySet","getODataAssociationEnd","oNavigationEntityType","getODataAssociationSetEnd","navProp","aSubNavigationProperties","bBackAssociationPresent","oSubNavigationProperty","sSubNavigationEntityType","lineItemAnnotations","uiHidden","FieldControlHiddenType","contextSet","contextProp","columnDataField","p13nDetails","additionalProperties","navigationPath","recordType","dataFieldValue","DataField","DataFieldForAnnotation","DataFieldWithUrl","columnKey","createP13NColumnKey","getNavigationPrefixPath","Apply","Name","Parameters","parameterDetails","Type","processAdditionalProperties","Url","processDataFieldWithUrl","oDataFieldUrl","oParameter","dataFieldColumn","columnKeyName","fioriTemplatePrefix","seperatorNotation","dataFieldSemanticObject","dataFieldActionString","dataFieldPath","isRelevantAnnotation","buildKey","parts","DataFieldForIntentBasedNavigation","DataFieldForAction","Target","Contact","DataPoint","FieldGroup","Chart","oContextSet","_getNavigationPrefix","propertyName","expandName","propertyParts","i","associationEndData","oContextProp","oDataField","sNavigationPath","aAdditionalProperties","additionalP13N","oContextCommonText","oUnitAnnotation","dataFieldDetails","sRecordType","leadingProperty","checkMultiplicityForDataFieldAssociation","UIIsImageURL","dataFieldValuePath","associationData","navigationPropertyPath","multiplicity"],"sources":["RecommendedCardUtil.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport Log from \"sap/base/Log\";\nimport encodeURL from \"sap/base/security/encodeURL\";\nimport formatMessage from \"sap/base/strings/formatMessage\";\nimport deepExtend from \"sap/base/util/deepExtend\";\nimport BaseObject from \"sap/ui/base/Object\";\nimport CoreLib from \"sap/ui/core/library\";\nimport ODataMetaModel, { AssociationEnd, NavigationProperty, Property } from \"sap/ui/model/odata/ODataMetaModel\";\nimport {\n\tIAppInfoData,\n\tIAppManifest,\n\tICardActionParameters,\n\tICardManifest,\n\tIColumnData,\n\tIEntitySet,\n\tIEntityType,\n\tILineItem,\n\tILineItemContext,\n\tILineItemContextValue,\n\tILineItemDetails,\n\tILrSettings,\n\tIManifestCardData,\n\tIPageType,\n\tIPresentationVariant,\n\tIRequestData,\n\tISapApp,\n\tISapCard,\n\tISapCardConfig,\n\tISapUI5App,\n\tITableSettings,\n\tIUIVisualizations,\n\tIVariantSetting,\n\tIVersionInfo,\n\tPageRecord,\n\tUIAnnotations,\n\tUIAnnotationValue\n} from \"../interface/CardsInterface\";\nimport { TABLE_TYPES } from \"./Constants\";\nimport { sortCollectionByImportance } from \"./DataFormatUtils\";\n\nconst COLUMN_LENGTH = 3;\nconst ValueState = CoreLib.ValueState;\n\ninterface VariantInfo {\n\tlineItem?: ILineItem[] | string;\n\tpresentationVariant?: IPresentationVariant;\n\tqualifierPath?: string;\n\tPresentationVariant?: IPresentationVariant;\n\tVisualizations?: IUIVisualizations[];\n}\n\ninterface NonChartDetail {\n\tfirstAvailableKey: string | null;\n\tsEntitySet: string;\n\toVariant: IVariantSetting;\n}\n\ninterface SelectExpand {\n\tselect: string[];\n\texpand: string[];\n}\n\ntype SelectExpandDetail = {\n\tselect?: string;\n\texpand?: string;\n};\n\ntype RequestAtleastFieldType = { String?: string | undefined; PropertyPath?: string | undefined };\ninterface ParameterisedEntity {\n\tentitySetName?: string | null;\n\tparameters: Array<object | string>;\n\tnavPropertyName: string | null;\n}\n\ninterface ColumnObjectData extends Partial<IColumnData> {\n\tleadingProperty?: string;\n\tadditionalProperty?: string;\n\tnavigationProperty?: string;\n\tcolumnKey?: string;\n\t[key: string]: unknown;\n}\n\ninterface NavigationPropertiesMap {\n\t[entitySetName: string]: {\n\t\t[navigationPropertyName: string]: NavigationProperty;\n\t};\n}\n\ninterface ExtendedLineItemContextValue extends ILineItemContextValue {\n\tPath: string;\n\tApply: {\n\t\tName: string;\n\t\tParameters: {\n\t\t\t[key: string]: string;\n\t\t}[];\n\t};\n}\n\nenum FieldAnnotationsType {\n\tDataField = \"com.sap.vocabularies.UI.v1.DataField\",\n\tImportance = \"com.sap.vocabularies.UI.v1.Importance\",\n\tDataFieldWithNavigationPath = \"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath\",\n\tDataFieldWithIntentBasedNavigation = \"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation\",\n\tDataFieldForIntentBasedNavigation = \"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation\",\n\tChart = \"@com.sap.vocabularies.UI.v1.Chart\",\n\tFieldGroup = \"@com.sap.vocabularies.UI.v1.FieldGroup\",\n\tDataPoint = \"@com.sap.vocabularies.UI.v1.DataPoint\",\n\tContact = \"@com.sap.vocabularies.Communication.v1.Contact\",\n\tDataFieldForAction = \"com.sap.vocabularies.UI.v1.DataFieldForAction\",\n\tDataFieldForAnnotation = \"com.sap.vocabularies.UI.v1.DataFieldForAnnotation\",\n\tDataFieldWithUrl = \"com.sap.vocabularies.UI.v1.DataFieldWithUrl\",\n\tCriticalityRepresentationTypeWithoutIcon = \"com.sap.vocabularies.UI.v1.CriticalityRepresentationType/WithoutIcon\",\n\tFieldControlHiddenType = \"com.sap.vocabularies.Common.v1.FieldControlType/Hidden\"\n}\n\nexport enum FieldTypes {\n\tDataFieldWithNavigationPath = \"DataFieldWithNavigationPath\",\n\tDataFieldWithIntentBasedNavigation = \"DataFieldWithIntentBasedNavigation\",\n\tDataFieldForIntentBasedNavigation = \"DataFieldForIntentBasedNavigation\",\n\tDataFieldForAction = \"DataFieldForAction\",\n\tDataFieldForAnnotation = \"DataFieldForAnnotation\"\n}\n\ntype Attribute = { value: string; path: string; type: string };\ntype SelectionProperties = Array<string | { PropertyPath?: string; String?: string }>;\n\nexport default class RecommendedCardUtil extends BaseObject {\n\tstatic Instance: RecommendedCardUtil;\n\n\tstatic getInstance() {\n\t\tif (!RecommendedCardUtil.Instance) {\n\t\t\tRecommendedCardUtil.Instance = new RecommendedCardUtil();\n\t\t}\n\t\treturn RecommendedCardUtil.Instance;\n\t}\n\n\t/**\n\t * @param {object} metaModel - metamodel object\n\t * @param {object} originalManifest - manifest of original app\n\t * @param {string} leadingEntitySet - main entitySet of the application as in manifest\n\t * @returns {object} - returns the lineItem details for the application based on manifest, annotations and metadata\n\t * @private\n\t */\n\tpublic getLineItemDetails(\n\t\tmetaModel: ODataMetaModel,\n\t\toriginalManifest: IAppManifest,\n\t\tleadingEntitySet: string\n\t): ILineItemDetails | undefined {\n\t\tconst leadingEntitySetDetails = metaModel.getODataEntitySet(leadingEntitySet) as IEntitySet;\n\t\tconst variantInfo = this.getLineItemFromVariant(metaModel, leadingEntitySetDetails.entityType);\n\t\tconst lineItemDefault = variantInfo.lineItem;\n\t\tconst pages = originalManifest[\"sap.ui.generic.app\"]?.pages;\n\t\tconst lrSettings = this.getSettingsForPage(pages);\n\n\t\t//if there is no quickVariantSelectionX setting in manifest, then return default line item details\n\t\tif (!lrSettings.quickVariantSelectionX) {\n\t\t\treturn this.createDefaultLineItemDetails(metaModel, variantInfo, lrSettings, leadingEntitySet, lineItemDefault);\n\t\t}\n\n\t\t// if there is a variant settings then find the first non-smart chart variant\n\t\tconst oVariants = lrSettings.quickVariantSelectionX.variants || {};\n\t\tconst { firstAvailableKey, sEntitySet, oVariant } = this.findFirstNonSmartChartVariant(metaModel, oVariants, leadingEntitySet);\n\t\tif (oVariant.isSmartChart) {\n\t\t\treturn this.createDefaultLineItemDetails(metaModel, variantInfo, lrSettings, leadingEntitySet, lineItemDefault);\n\t\t}\n\t\tdelete lrSettings.requestAtLeastFields;\n\n\t\tconst defaultTableSettings = this.getNormalizedTableSettings(metaModel, lrSettings, leadingEntitySet);\n\t\tconst entitySet = metaModel?.getODataEntitySet(sEntitySet) as IEntitySet;\n\t\tconst quickVariantInfo = this.getLineItemFromVariant(metaModel, entitySet.entityType, oVariant.annotationPath?.split(\"#\")[1]);\n\t\tconst lineItem = quickVariantInfo.lineItem;\n\t\tconst presentationVariant = quickVariantInfo.presentationVariant;\n\n\t\tlrSettings.requestAtLeastFields = presentationVariant?.RequestAtLeast?.length\n\t\t\t? presentationVariant.RequestAtLeast\n\t\t\t: this._getRequestAtLeastFields(presentationVariant!);\n\n\t\toVariant.tableSettings = this.getNormalizedTableSettings(\n\t\t\tmetaModel,\n\t\t\t{ ...oVariant, tableSettings: oVariant.tableSettings || defaultTableSettings },\n\t\t\tsEntitySet\n\t\t);\n\n\t\tthis.validateResponsiveTable(lrSettings, oVariant, firstAvailableKey);\n\n\t\tdelete lrSettings.tableSettings;\n\t\tlrSettings.isResponsiveTable = lrSettings.isResponsiveTable === undefined || lrSettings.isResponsiveTable;\n\n\t\tconst lineItemDetail: ILineItemDetails = {\n\t\t\tquickVariant: oVariant,\n\t\t\tlrSettings: lrSettings,\n\t\t\tlineItem: lineItem,\n\t\t\tentitySet: sEntitySet,\n\t\t\theaderInfo: oVariant?.tableSettings?.headerInfo || \"\"\n\t\t};\n\t\treturn lineItem\n\t\t\t? lineItemDetail\n\t\t\t: this.createDefaultLineItemDetails(metaModel, variantInfo, lrSettings, leadingEntitySet, lineItemDefault);\n\t}\n\n\t/**\n\t * Finds the first non-smart chart variant from the provided variants.\n\t *\n\t * This method iterates through the given variants to identify the first variant that is not a smart chart.\n\t * It also determines the associated entity set and updates the variant's metadata to indicate whether it is a smart chart.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and annotations.\n\t * @param {Record<string, IVariantSetting>} oVariants - A record of variants, where each key represents a variant and its associated metadata.\n\t * @param {string} leadingEntitySet - The name of the leading entity set for the application.\n\t * @returns {NonChartDetail}\n}\n\t * An object containing:\n\t * - `firstAvailableKey`: The key of the first non-smart chart variant, or `null` if none is found.\n\t * - `sEntitySet`: The entity set associated with the first non-smart chart variant.\n\t * - `oVariant`: The metadata of the first non-smart chart variant.\n\t * @private\n\t */\n\tprivate findFirstNonSmartChartVariant(\n\t\tmetaModel: ODataMetaModel,\n\t\toVariants: Record<string, IVariantSetting>,\n\t\tleadingEntitySet: string\n\t): NonChartDetail {\n\t\tlet firstAvailableKey: string | null = null;\n\t\tlet sEntitySet = leadingEntitySet;\n\t\tlet oVariant: IVariantSetting = {};\n\n\t\tfor (const sKey in oVariants) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(oVariants, sKey)) continue;\n\n\t\t\toVariant = oVariants[sKey];\n\t\t\tsEntitySet = oVariant.entitySet || leadingEntitySet;\n\t\t\tconst oEntitySet = metaModel.getODataEntitySet(sEntitySet);\n\n\t\t\tif (oEntitySet) {\n\t\t\t\toVariant.isSmartChart = this.checkIfSmartChart(metaModel, sEntitySet, oVariant);\n\t\t\t\tif (!oVariant.isSmartChart) {\n\t\t\t\t\tfirstAvailableKey = sKey;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toVariant.isSmartChart = true;\n\t\t\t}\n\t\t}\n\t\treturn { firstAvailableKey, sEntitySet, oVariant };\n\t}\n\n\t/**\n\t * Validates the responsive table type for a given variant and updates the List Report (LR) settings.\n\t *\n\t * @param {ILrSettings} lrSettings - The settings object for the List Report, including table settings and configurations.\n\t * @param {IVariantSetting} oVariant - The variant object containing table settings and metadata.\n\t * @param {string | null} firstAvailableKey - The key of the first available variant, used for logging errors.\n\t * @returns {void}\n\t * @private\n\t */\n\tprivate validateResponsiveTable(lrSettings: ILrSettings, oVariant: IVariantSetting, firstAvailableKey: string | null): void {\n\t\tconst isResponsive = oVariant.tableSettings?.type === TABLE_TYPES.RESPONSIVE;\n\t\tif (lrSettings.isResponsiveTable === undefined) {\n\t\t\tlrSettings.isResponsiveTable = isResponsive;\n\t\t} else if (lrSettings.isResponsiveTable !== isResponsive) {\n\t\t\tLog.error(`Variant with key ${firstAvailableKey} resulted in invalid Table Type combination.`);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * This method generates the default configuration for line item details, including table settings,\n\t * responsive table type, and request-at-least fields based on the provided metadata, variant information,\n\t * and settings.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and annotations.\n\t * @param {VariantInfo} variantInfo - The variant information containing presentation variant and line item details.\n\t * @param {ILrSettings} lrSettings - The settings object for the List Report, including table settings and other configurations.\n\t * @param {string} leadingEntitySet - The name of the leading entity set for the application.\n\t * @param {ILineItem[] | string | undefined} lineItemDefault - The default line item details, which can be an array of line items, a string, or undefined.\n\t * @returns {ILineItemDetails} The default line item details object, including quick variant, settings, line item, entity set, and header info.\n\t * @private\n\t */\n\tprivate createDefaultLineItemDetails(\n\t\tmetaModel: ODataMetaModel,\n\t\tvariantInfo: VariantInfo,\n\t\tlrSettings: ILrSettings,\n\t\tleadingEntitySet: string,\n\t\tlineItemDefault?: ILineItem[] | string\n\t): ILineItemDetails {\n\t\tlrSettings.tableSettings = this.getNormalizedTableSettings(metaModel, lrSettings, leadingEntitySet);\n\t\tlrSettings.isResponsiveTable = lrSettings.tableSettings.type === TABLE_TYPES.RESPONSIVE;\n\t\tif (variantInfo?.presentationVariant?.RequestAtLeast?.length) {\n\t\t\tlrSettings.requestAtLeastFields = variantInfo.presentationVariant.RequestAtLeast;\n\t\t}\n\t\treturn {\n\t\t\tquickVariant: {},\n\t\t\tlrSettings: lrSettings,\n\t\t\tlineItem: lineItemDefault,\n\t\t\tentitySet: leadingEntitySet,\n\t\t\theaderInfo: lrSettings?.tableSettings?.headerInfo || \"\"\n\t\t};\n\t}\n\n\t/**\n\t * @param {object} oMetaModel - metamodel object\n\t * @param {string} entityType - entity type of the application\n\t * @param {string} qualifier - qualifier of the variant\n\t * @returns {object} - returns the lineItem, presentationVariant, qualifierPath from the variant for the application based on manifest, annotations and metadata\n\t * @private\n\t */\n\tprivate getLineItemFromVariant(oMetaModel: ODataMetaModel, entityType: string, qualifier?: string): VariantInfo {\n\t\tconst oSelectionPresentationVariant = this.getAnnotation<IPresentationVariant>(\n\t\t\toMetaModel,\n\t\t\tentityType,\n\t\t\tUIAnnotations.UISelectionPresentationVariant,\n\t\t\tqualifier\n\t\t);\n\n\t\tlet oPresentationVariant;\n\t\tif (oSelectionPresentationVariant?.PresentationVariant) {\n\t\t\toPresentationVariant = this.getPresentationVariant(oMetaModel, entityType, oSelectionPresentationVariant.PresentationVariant);\n\t\t} else {\n\t\t\toPresentationVariant = this.getAnnotation<IPresentationVariant>(\n\t\t\t\toMetaModel,\n\t\t\t\tentityType,\n\t\t\t\tUIAnnotations.UIPresentationVariant,\n\t\t\t\tqualifier\n\t\t\t);\n\t\t}\n\n\t\tconst oDetails = oPresentationVariant ? this.getLineItem(oMetaModel, entityType, oPresentationVariant) : null;\n\t\tconst lineItem = oDetails?.lineItem || this.getAnnotation<ILineItem[]>(oMetaModel, entityType, UIAnnotations.UILineItem, \"\");\n\n\t\treturn {\n\t\t\tpresentationVariant: oPresentationVariant,\n\t\t\tlineItem: lineItem,\n\t\t\tqualifierPath: oDetails?.annotationPath || \"\"\n\t\t};\n\t}\n\n\t// get the annotation , sAnnotation from the entityType, sEntityType\n\tprivate getAnnotation<T extends IPresentationVariant | ILineItem[]>(\n\t\tmetaModel: ODataMetaModel,\n\t\tentityType: string,\n\t\tannotation: UIAnnotations,\n\t\tqualifierName?: string\n\t): T | undefined {\n\t\tconst fullAnnotation = `${annotation}${qualifierName ? `#${qualifierName}` : \"\"}`;\n\t\tconst entityTypeData = metaModel.getODataEntityType(entityType) as IEntityType;\n\t\treturn entityTypeData?.[fullAnnotation] as T | undefined;\n\t}\n\n\t/**\n\t * This method determines the presentation variant based on the provided selection presentation variant.\n\t * If the presentation variant is defined via a `Path`, it resolves the path to retrieve the corresponding object\n\t * from the OData meta model. If the presentation variant is defined inline (i.e., without a `Path`), it directly\n\t * returns the inline object.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and annotations.\n\t * @param {string} entityTypeData - The entity type for which the presentation variant is to be retrieved.\n\t * @param {IPresentationVariant} selectionPresentationVariant -\n\t * The selection presentation variant object, which may contain a `Path` or an inline `PresentationVariant`.\n\t * @returns {IPresentationVariant} The resolved presentation variant object.\n\t * @private\n\t */\n\tprivate getPresentationVariant(\n\t\tmetaModel: ODataMetaModel,\n\t\tentityTypeData: string,\n\t\tselectionPresentationVariant: IPresentationVariant\n\t): IPresentationVariant {\n\t\t// PresentationVariant must be defined (according to vocabulary) either via \"Path\" or inline (i.e. Path is not defined).\n\t\t// For compatibility, just ignore if not provided (leading to fallback to use LineItem without qualifier)\n\t\tconst presentationVariant = selectionPresentationVariant?.PresentationVariant;\n\n\t\tif (presentationVariant?.Path) {\n\t\t\treturn this.getObject<IPresentationVariant>(metaModel, entityTypeData, presentationVariant.Path);\n\t\t}\n\t\treturn presentationVariant!;\n\t}\n\n\t/**\n\t * Retrieves the line item annotation details for a given entity type and presentation variant.\n\t *\n\t * This method searches for the `com.sap.vocabularies.UI.v1.LineItem` annotation within the visualizations\n\t * of the provided presentation variant. If found, it returns the line item details, including the annotation path\n\t * and qualifier.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about the entity type.\n\t * @param {string} entityTypeData - The entity type for which the line item annotation is to be retrieved.\n\t * @param {IPresentationVariant} presentationVariantData - The presentation variant containing visualizations.\n\t * @returns { IUIVisualizations | IUIVisualizations[] | null}\n\t * - An object containing the line item details, annotation path, and qualifier if the annotation is found.\n\t * - An array of UI annotations if applicable.\n\t * - `null` if no valid line item annotation is found.\n\t * @private\n\t */\n\tprivate getLineItem(\n\t\tmetaModel: ODataMetaModel,\n\t\tentityTypeData: string,\n\t\tpresentationVariantData: IPresentationVariant\n\t): IUIVisualizations | null {\n\t\t// Visualizations must be defined (according to vocabulary)\n\t\t// however, this is not given at least in all demokit apps (presentationVariant consisting only of sortOrder)\n\t\tlet visualizationData = presentationVariantData.Visualizations?.find(function (oVis) {\n\t\t\treturn oVis.AnnotationPath?.includes(UIAnnotations.UILineItem);\n\t\t});\n\n\t\treturn visualizationData\n\t\t\t? {\n\t\t\t\t\tlineItem: this.getObject<ILineItem[]>(metaModel, entityTypeData, visualizationData.AnnotationPath!),\n\t\t\t\t\tannotationPath: visualizationData.AnnotationPath!,\n\t\t\t\t\tsQualifier: visualizationData.AnnotationPath?.split(\"#\")[1]\n\t\t\t\t}\n\t\t\t: null;\n\t}\n\n\t/**\n\t * Extracts relevant column paths for `$select` and `$expand` OData query options.\n\t *\n\t * This method processes the provided column definitions to extract paths for the `$select` and `$expand` query options.\n\t * It ensures that paths are unique and properly formatted for OData requests.\n\t *\n\t * @param {Array<Record<string,unknown>>} columns - An array of column definitions.\n\t * Each column definition may include properties like `leadingProperty`, `additionalProperty`, and `navigationProperty`.\n\t * @returns {SelectExpand} An object containing two arrays:\n\t * - `select`: An array of unique paths for the `$select` query option.\n\t * - `expand`: An array of unique paths for the `$expand` query option.\n\t * @private\n\t */\n\tprivate _getRelevantColumnPaths(columns: ColumnObjectData[]): SelectExpand {\n\t\tcolumns = Array.isArray(columns) ? columns : [];\n\t\tconst selectSet = new Set<string>();\n\t\tconst expandSet = new Set<string>();\n\t\tcolumns.forEach((oColumnData) => {\n\t\t\tif (oColumnData) {\n\t\t\t\tconst sPath = oColumnData[\"leadingProperty\"];\n\t\t\t\tconst sAdditionalPath = oColumnData[\"additionalProperty\"];\n\t\t\t\tconst sExpandPath = oColumnData[\"navigationProperty\"];\n\t\t\t\tif (sPath) {\n\t\t\t\t\tselectSet.add(sPath);\n\t\t\t\t}\n\t\t\t\tthis.extractPathAndInsertToSet(sAdditionalPath!, selectSet);\n\t\t\t\tthis.extractPathAndInsertToSet(sExpandPath!, expandSet);\n\t\t\t}\n\t\t});\n\t\treturn {\n\t\t\tselect: Array.from(selectSet),\n\t\t\texpand: Array.from(expandSet)\n\t\t};\n\t}\n\n\t/**\n\t * Extracts and inserts unique paths into the provided array.\n\t *\n\t * This method splits the given path string by commas, iterates through the resulting paths,\n\t * and adds each unique path to the provided array. Duplicate paths are ignored.\n\t *\n\t * @param {string} sPath - A comma-separated string of paths to be processed.\n\t * @param {Set<string>}  - The array to which unique paths will be added.\n\t * @private\n\t */\n\tprivate extractPathAndInsertToSet(sPath: string, pathSet: Set<string>) {\n\t\tsPath?.split(\",\").forEach((path) => {\n\t\t\tif (path) {\n\t\t\t\tpathSet.add(path);\n\t\t\t\t// currently not doing transitive dependencies\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Expands navigation properties for the given entity set and selected properties.\n\t *\n\t * This method processes the provided `selects` array to identify navigation properties\n\t * that need to be expanded. If a navigation property is found, it is added to the `expands` array.\n\t *\n\t * @param {string} entitySetName - The name of the entity set being processed.\n\t * @param {string[]} selects - An array of selected property paths to be checked for navigation properties.\n\t * @param {string[]} expands - An array to which navigation properties requiring expansion will be added.\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and properties.\n\t * @private\n\t */\n\tprivate extractAndExpandNavigationProperty(entitySetName: string, selects: string[], expands: string[], metaModel: ODataMetaModel) {\n\t\tconst mNavigationProperties = {};\n\n\t\t// check if any expand is necessary\n\t\tfor (const sPath of selects) {\n\t\t\tlet iPos = sPath.lastIndexOf(\"/\");\n\t\t\tlet sNavigation;\n\t\t\tif (iPos < 0) {\n\t\t\t\t// sPath contains no '/' but still could be a navigationProperty\n\t\t\t\tif (!this.getNavigationProperty(entitySetName, sPath, metaModel, mNavigationProperties)) {\n\t\t\t\t\tcontinue; //not a navproperty hence continue to next iteration\n\t\t\t\t}\n\t\t\t\tsNavigation = sPath;\n\t\t\t} else {\n\t\t\t\tsNavigation = sPath.substring(0, iPos);\n\t\t\t}\n\t\t\tif (!expands.includes(sNavigation)) {\n\t\t\t\texpands.push(sNavigation);\n\t\t\t}\n\t\t}\n\t}\n\n\t//get the navigation property details for the given property from entityset, sEntitySet\n\tprivate getNavigationProperty(\n\t\tentitySetName: string,\n\t\tnavProperty: string,\n\t\tmetaModel: ODataMetaModel,\n\t\tmNavigationProperties: NavigationPropertiesMap\n\t) {\n\t\tlet mMyNavigationProperties = mNavigationProperties?.[entitySetName];\n\n\t\t// If navigation properties not already fetched, then fetch them\n\t\tif (!mMyNavigationProperties) {\n\t\t\tmMyNavigationProperties = {};\n\t\t\tmNavigationProperties[entitySetName] = mMyNavigationProperties;\n\n\t\t\tconst oEntitySet = metaModel.getODataEntitySet(entitySetName) as IEntitySet;\n\t\t\tif (oEntitySet) {\n\t\t\t\tconst oEntityType = metaModel.getODataEntityType(oEntitySet.entityType) as IEntityType;\n\t\t\t\tif (oEntityType) {\n\t\t\t\t\tconst aNavigationProperty = oEntityType.navigationProperty || [];\n\t\t\t\t\taNavigationProperty.forEach((oNavigationProperty) => {\n\t\t\t\t\t\tconst navName = oNavigationProperty.name;\n\t\t\t\t\t\tmMyNavigationProperties[navName] = oNavigationProperty;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn mMyNavigationProperties?.[navProperty] || undefined;\n\t}\n\n\t// add all necessary fields to the select array\n\tprivate _addNecessaryFields(aSelects: string[], oInfo: ILineItemDetails, oMetaModel: ODataMetaModel) {\n\t\tlet oEntitySet = oMetaModel.getODataEntitySet(oInfo.entitySet) as IEntitySet;\n\t\tlet oEntityType = oMetaModel.getODataEntityType(oEntitySet.entityType) as IEntityType;\n\t\tlet aProperties: string[] = [];\n\n\t\tif (aSelects.length > 0) {\n\t\t\tif (oInfo.lineItem && typeof oInfo.lineItem !== \"string\") {\n\t\t\t\toInfo.lineItem.forEach((lineItem) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tlineItem.RecordType === FieldAnnotationsType.DataFieldWithIntentBasedNavigation ||\n\t\t\t\t\t\tlineItem.RecordType === FieldAnnotationsType.DataFieldWithNavigationPath\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst aDataFieldsWithNavigation = this.getDataFieldsWithNavigation(lineItem, oMetaModel, oEntityType);\n\t\t\t\t\t\tif (aDataFieldsWithNavigation?.length) {\n\t\t\t\t\t\t\taProperties = aProperties.concat(aDataFieldsWithNavigation);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t//add the fieldcontrol path of the properties\n\t\t\tthis.getFieldControlsPath(aSelects, oMetaModel, oEntityType, aProperties);\n\t\t}\n\n\t\taProperties.forEach((property) => {\n\t\t\tthis.ensureSelectionProperty(property, aSelects);\n\t\t});\n\t}\n\n\t/**\n\t * Collects the paths for field controls based on the selected properties.\n\t * This function iterates over the given selection of properties, aSelects, retrieves the corresponding\n\t * property metadata from the OData model, and if a field control annotation exists for a property,\n\t * it adds the path of this field control to the provided array of properties.\n\t * @param {string[]} selects - An array of property names to be checked for field control paths.\n\t * @param {object} metaModel - The OData meta model instance used to retrieve property metadata.\n\t * @param {object} entityType - The entity type from the OData model that contains the properties.\n\t * @param {string[]} aProperties - An array to which the field control paths will be added.\n\t * @private\n\t */\n\tprivate getFieldControlsPath(selects: string[], metaModel: ODataMetaModel, entityType: IEntityType, aProperties: string[]) {\n\t\tselects.forEach((sSelect) => {\n\t\t\tif (sSelect) {\n\t\t\t\t//needed for activating field control for DataField Annotation & when using the setting to add new columns\n\t\t\t\tlet oProperty = (metaModel.getODataProperty(entityType, sSelect) as UIAnnotationValue) || {};\n\t\t\t\tif (UIAnnotations.CommonFieldControl in oProperty) {\n\t\t\t\t\tlet oFieldControl = oProperty[UIAnnotations.CommonFieldControl];\n\t\t\t\t\tif (oFieldControl?.Path) {\n\t\t\t\t\t\taProperties.push(oFieldControl.Path);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handling for DataFieldWithNavigationPath and DataFieldWithIntentBasedNavigation\n\t * @param {object} lineItem - LineItem object\n\t * @param {object} metaModel - OData metamodel\n\t * @param {object} entityType - EntityType object\n\t * @returns {Array} - Array of properties to be selected in case field type is DataFieldWithNavigationPath or DataFieldWithIntentBasedNavigation\n\t * @private\n\t */\n\tprivate getDataFieldsWithNavigation(lineItem: ILineItem, metaModel: ODataMetaModel, entityType: IEntityType): string[] {\n\t\tconst requestFields = [];\n\n\t\t// Handle Value.Path\n\t\tconst valuePath = lineItem.Value?.Path;\n\t\tif (valuePath) {\n\t\t\tconst lineItemProperty = metaModel.getODataProperty(entityType, valuePath) as UIAnnotationValue;\n\t\t\tconst textAnnotation = lineItemProperty?.[UIAnnotations.CommonText]?.Path;\n\t\t\tconst sapTextAnnotation = lineItemProperty?.[\"sap:text\"];\n\n\t\t\trequestFields.push(sapTextAnnotation || textAnnotation || valuePath);\n\t\t}\n\n\t\t// Handle SemanticObject.Path\n\t\tif (lineItem.SemanticObject?.Path) {\n\t\t\trequestFields.push(lineItem.SemanticObject.Path);\n\t\t}\n\n\t\t// Handle Action.Path\n\t\tif (lineItem.Action?.Path) {\n\t\t\trequestFields.push(lineItem.Action.Path);\n\t\t}\n\n\t\treturn requestFields;\n\t}\n\n\t// Section: Parameter Handling\n\tprivate getParameters(\n\t\toInfo: ILineItemDetails,\n\t\tmetaModel: ODataMetaModel,\n\t\tentitySet: string,\n\t\toSelectExpand: SelectExpand\n\t): SelectExpandDetail {\n\t\tlet aSelects = oSelectExpand.select || [];\n\t\tlet aExpands = oSelectExpand.expand || [];\n\n\t\tlet alwaysSelectField = oInfo?.lrSettings?.requestAtLeastFields || [];\n\t\tif (alwaysSelectField.length > 0) {\n\t\t\taSelects = this._ensureSelectionProperties(aSelects, alwaysSelectField);\n\t\t}\n\n\t\tthis._handleMandatorySelectionFields(entitySet, aSelects, metaModel);\n\t\tthis._addNecessaryFields(aSelects, oInfo, metaModel);\n\t\tthis.extractAndExpandNavigationProperty(entitySet, aSelects, aExpands, metaModel);\n\n\t\treturn {\n\t\t\texpand: aExpands.join(\",\") || undefined,\n\t\t\tselect: aSelects.join(\",\") || undefined\n\t\t};\n\t}\n\n\t/**\n\t *\n\t * @param {Array} aSelects , select parameters\n\t * @param {SelectionProperties} alwaysSelectField, all the fields that are marked as requestAtLeastFields\n\t * @returns {Array} aSelects, updated select parameters\n\t * @private\n\t */\n\n\tprivate _ensureSelectionProperties(aSelects: string[], alwaysSelectField: SelectionProperties): string[] {\n\t\tfor (const item of alwaysSelectField) {\n\t\t\tif (typeof item === \"object\" && item?.PropertyPath && !aSelects.includes(item.PropertyPath)) {\n\t\t\t\taSelects.push(item.PropertyPath);\n\t\t\t}\n\t\t}\n\n\t\treturn aSelects;\n\t}\n\n\t/**\n\t * Handles the mandatory selection fields for the given entity set and properties.\n\t *\n\t * @param {object} entitySet - The entity set object.\n\t * @param {array} aSelects - The array of properties.\n\t * @returns {boolean} True if the entity set or properties have mandatory fields, false otherwise.\n\t * @private\n\t */\n\tprivate _handleMandatorySelectionFields(entitySet: string, aSelects: string[], oMetaModel: ODataMetaModel) {\n\t\tconst oEntitySet = oMetaModel.getODataEntitySet(entitySet, false) as IEntitySet;\n\t\tconst oEntityType = oMetaModel.getODataEntityType(oEntitySet.entityType, false) as IEntityType;\n\n\t\toEntityType.key.propertyRef.forEach((field) => {\n\t\t\tthis.ensureSelectionProperty(field.name, aSelects);\n\t\t});\n\t}\n\n\t// push the selection properties to the select array\n\tprivate ensureSelectionProperty(sProperty: string, aSelects: string[]) {\n\t\tsProperty?.split(\",\").forEach(function (sElement) {\n\t\t\tif (sElement && !aSelects.includes(sElement)) {\n\t\t\t\taSelects.push(sElement);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Creates a card manifest for a recommended card.\n\t *\n\t * This method generates a new card manifest based on the provided input data, version information, and app manifest.\n\t * It also processes the columns to set attributes or titles for the card content and handles row navigation suppression if required.\n\t *\n\t * @param {IManifestCardData} oInput - The input data for the card, including card title, subtitle, columns, and entity set.\n\t * @param {IVersionInfo} oVersionInfo - The version information, including the version and build timestamp.\n\t * @param {IAppManifest} manifest - The original app manifest.\n\t * @param {boolean} [bSuppressRowNavigation] - Optional flag to suppress row navigation actions in the card content.\n\t * @returns {ICardManifest} The generated card manifest object.\n\t * @private\n\t */\n\tpublic _createCardManifest(\n\t\toInput: IManifestCardData,\n\t\toVersionInfo: IVersionInfo,\n\t\tmanifest: IAppManifest,\n\t\tbSuppressRowNavigation?: boolean\n\t): ICardManifest {\n\t\tlet oUIManifest = manifest[\"sap.ui\"];\n\t\tlet oAppManifest = manifest[\"sap.app\"];\n\t\tlet attributeIndex = 0;\n\n\t\tif (oAppManifest?.[\"crossNavigation\"]) {\n\t\t\tdelete oAppManifest[\"crossNavigation\"];\n\t\t}\n\t\tif (oAppManifest) {\n\t\t\tObject.assign(oAppManifest, {\n\t\t\t\ttype: \"card\",\n\t\t\t\tid: `user.${oInput.id}.${Date.now()}`,\n\t\t\t\ttitle: oInput.cardTitle || \"\",\n\t\t\t\tsubTitle: oInput.subTitle\n\t\t\t});\n\t\t}\n\n\t\tlet oNewManifest: ICardManifest = {\n\t\t\t\"sap.ui\": oUIManifest,\n\t\t\t\"sap.app\": this.createManifestSapApp(oAppManifest!),\n\t\t\t\"sap.card\": this.createManifestSapCard(manifest, oInput),\n\t\t\t\"sap.ui5\": this.createSapui5()\n\t\t};\n\t\tconst oContent = oNewManifest?.[\"sap.card\"]?.content;\n\n\t\toInput.columns.slice(0, COLUMN_LENGTH).forEach((column) => {\n\t\t\tconst columnValue = this._getAttributeValue(column);\n\t\t\tif (column.identifier && oContent?.item) {\n\t\t\t\t// If column.identifier is true, set it as the title\n\t\t\t\toContent.item.title = { value: columnValue, identifier: true };\n\t\t\t} else if (oContent?.item?.attributes) {\n\t\t\t\t// Otherwise, add it to the attributes\n\t\t\t\toContent.item.attributes[attributeIndex] = {\n\t\t\t\t\tvalue: columnValue,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\t...(column.state && { state: column.state, showStateIcon: column.showStateIcon })\n\t\t\t\t};\n\t\t\t\tattributeIndex++;\n\t\t\t}\n\t\t});\n\n\t\t// if bSuppressRowNavigation true, remove content actions\n\t\tif (bSuppressRowNavigation && oContent?.item) {\n\t\t\toContent.item.actions = [];\n\t\t}\n\n\t\treturn {\n\t\t\t...oNewManifest,\n\t\t\t\"sap.insights\": {\n\t\t\t\tparentAppId: oInput.id,\n\t\t\t\tcardType: \"RT\",\n\t\t\t\tversions: {\n\t\t\t\t\tui5: `${oVersionInfo.version}-${oVersionInfo.buildTimestamp}`\n\t\t\t\t},\n\t\t\t\tvisible: true\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Get Attribute Value\n\t *\n\t * @param {object} attributeData - column object\n\t * @returns {string} returns attribute value\n\t * @private\n\t */\n\tprivate _getAttributeValue(attributeData: Attribute): string {\n\t\tlet attributeValue = !attributeData.value.startsWith(\"{\")\n\t\t\t? \"{= extension.formatters.stringFormatter(${\" + attributeData.path + \"}) }\"\n\t\t\t: attributeData.value;\n\t\tif (attributeData.type === \"Edm.Date\" || attributeData.type === \"Edm.DateTime\") {\n\t\t\tconst oDateFormatOptions = JSON.stringify({ pattern: Formatting.getDatePattern(\"short\") });\n\t\t\tattributeValue =\n\t\t\t\t\"{=${\" + attributeData.path + \"}?format.dateTime(${\" + attributeData.path + \"}, \" + oDateFormatOptions + \") : ''}\";\n\t\t}\n\n\t\treturn attributeValue;\n\t}\n\n\t//creates sap.app object structure for the card manifest of recommended card\n\tprivate createManifestSapApp(appManifest: ISapApp) {\n\t\tconst manifestAppData = deepExtend({}, appManifest) as ISapApp;\n\t\tif (manifestAppData?.dataSources?.mainService) {\n\t\t\tmanifestAppData.dataSources[\"filterService\"] = manifestAppData.dataSources.mainService;\n\t\t\tif (manifestAppData.dataSources[\"filterService\"]?.settings) {\n\t\t\t\tmanifestAppData.dataSources[\"filterService\"].settings[\"odataVersion\"] = \"2.0\";\n\t\t\t}\n\t\t}\n\n\t\treturn manifestAppData;\n\t}\n\n\t/**\n\t * Creates the manifest's SAP card object, sap.card based on the input card details.\n\t *\n\t * @param {oIAppManifestbject} manifest - The original manifest object of the application.\n\t * @param {IManifestCardData} oInput - The input object containing card details.\n\t * @returns {ISapCard} The SAP card configuration object.\n\t */\n\tprivate createManifestSapCard(manifest: IAppManifest, oInput: IManifestCardData): ISapCard {\n\t\tconst datasource = manifest[\"sap.app\"]?.dataSources;\n\t\tconst sServiceUrl = datasource?.mainService?.uri;\n\t\tconst entitySetName = oInput.entitySet;\n\t\tconst sCountPath = \"__count\";\n\t\tconst sText = {\n\t\t\ttext: \"{= ${\" + sCountPath + \"} === '0' ? '' : ${\" + sCountPath + \"} }\"\n\t\t};\n\n\t\tlet oCardConfig: ISapCard = {\n\t\t\ttype: \"List\"\n\t\t};\n\n\t\toCardConfig[\"configuration\"] = this.createManifestSapCardConfig(sServiceUrl || \"\", entitySetName);\n\t\toCardConfig[\"data\"] = this.createManifestSapCardData(sServiceUrl || \"\", oInput.url);\n\n\t\toCardConfig[\"header\"] = {\n\t\t\ttitle: oInput.cardTitle,\n\t\t\tsubTitle: \"\",\n\t\t\tactions: [],\n\t\t\tstatus: sText,\n\t\t\tdata: {\n\t\t\t\tpath: \"/content/d\"\n\t\t\t}\n\t\t};\n\n\t\toCardConfig[\"extension\"] = \"module:sap/insights/CardExtension\";\n\t\toCardConfig[\"content\"] = {\n\t\t\tdata: {\n\t\t\t\tpath: \"/content/d/results\"\n\t\t\t},\n\t\t\tmaxItems: 5,\n\t\t\titem: {\n\t\t\t\tactions: [],\n\t\t\t\tattributesLayoutType: \"OneColumn\",\n\t\t\t\tattributes: []\n\t\t\t}\n\t\t};\n\n\t\tthis.addCardActions(oCardConfig, oInput.semanticObject, oInput.action);\n\t\treturn oCardConfig;\n\t}\n\n\t/**\n\t * Sets the card actions for the given SAP card.\n\t *\n\t * @param {object} sapCard - The SAP card object to set the actions on.\n\t * @param {string} semObj - The semantic object for the navigation target.\n\t * @param {string} semanticAction - The semantic action for the navigation target.\n\t */\n\tprivate addCardActions(sapCard: ISapCard, semObj: string, semanticAction: string) {\n\t\tlet oHeaderParams: ICardActionParameters = {\n\t\t\tibnTarget: {\n\t\t\t\tsemanticObject: semObj,\n\t\t\t\taction: semanticAction\n\t\t\t},\n\t\t\tsensitiveProps: [],\n\t\t\tibnParams: {}\n\t\t};\n\n\t\tlet oHeaderParameterValue = [\n\t\t\t{\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\tparameters: \"{= extension.formatters.getNavigationContext(${parameters>/headerState/value})}\"\n\t\t\t}\n\t\t];\n\n\t\tlet oContentParams = JSON.parse(JSON.stringify(oHeaderParams)) as ICardActionParameters;\n\t\tlet oContentParameterValue = [\n\t\t\t{\n\t\t\t\ttype: \"Navigation\",\n\t\t\t\tparameters: \"{= extension.formatters.getNavigationContext(${parameters>/contentState/value}, ${})}\"\n\t\t\t}\n\t\t];\n\n\t\tif (sapCard.configuration?.parameters) {\n\t\t\tsapCard.configuration.parameters.headerState = {\n\t\t\t\tvalue: JSON.stringify(oHeaderParams)\n\t\t\t};\n\t\t\tsapCard.configuration.parameters.contentState = {\n\t\t\t\tvalue: JSON.stringify(oContentParams)\n\t\t\t};\n\t\t}\n\t\tif (sapCard.header) {\n\t\t\tsapCard.header.actions = oHeaderParameterValue;\n\t\t}\n\t\tif (sapCard?.content?.item) {\n\t\t\tsapCard.content.item.actions = oContentParameterValue;\n\t\t}\n\t}\n\n\t/**\n\t * Creates the manifest sap card configuration object.\n\t *\n\t * @param {string} sServiceUrl - The service URL to be used in the request.\n\t * @param {string} entitySetName - The name of the entity set.\n\t * @returns {object} The SAP card configuration object.\n\t */\n\tprivate createManifestSapCardConfig(sServiceUrl: string, entitySetName: string): ISapCardConfig {\n\t\tconst oCardConfiguration = {\n\t\t\tparameters: {\n\t\t\t\t_relevantODataFilters: {\n\t\t\t\t\tvalue: []\n\t\t\t\t},\n\t\t\t\t_relevantODataParameters: {\n\t\t\t\t\tvalue: []\n\t\t\t\t},\n\t\t\t\t_entitySet: {\n\t\t\t\t\tvalue: entitySetName\n\t\t\t\t},\n\t\t\t\t_urlSuffix: {\n\t\t\t\t\tvalue: \"/Results\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestinations: {\n\t\t\t\tservice: {\n\t\t\t\t\tname: \"(default)\",\n\t\t\t\t\tdefaultUrl: \"/\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tcsrfTokens: {\n\t\t\t\ttoken1: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\trequest: {\n\t\t\t\t\t\t\turl: \"{{destinations.service}}\" + sServiceUrl,\n\t\t\t\t\t\t\tmethod: \"HEAD\",\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\"X-CSRF-Token\": \"Fetch\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\treturn oCardConfiguration;\n\t}\n\n\t//create sap.ui5 object for the card manifest\n\tprivate createSapui5(): ISapUI5App {\n\t\treturn {\n\t\t\t_version: \"1.1.0\",\n\t\t\tcontentDensities: { compact: true, cozy: true },\n\t\t\tdependencies: {\n\t\t\t\tlibs: {\n\t\t\t\t\t\"sap.insights\": {\n\t\t\t\t\t\tlazy: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Creates the manifest data for an SAP card.\n\t *\n\t * @param {string} sServiceUrl - The service URL to be used in the request.\n\t * @param {string} urlExpand - The URL to expand in the batch request.\n\t * @returns {IRequestData} The SAP card data object containing the request configuration.\n\t */\n\tprivate createManifestSapCardData(sServiceUrl: string, urlExpand: string): IRequestData {\n\t\tconst oBatch = {\n\t\t\tcontent: {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\turl: urlExpand,\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: \"application/json\"\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst oSapCardData: IRequestData = {\n\t\t\trequest: {\n\t\t\t\turl: \"{{destinations.service}}\" + sServiceUrl + \"/$batch\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-CSRF-Token\": \"{{csrfTokens.token1}}\"\n\t\t\t\t},\n\t\t\t\tbatch: oBatch\n\t\t\t}\n\t\t};\n\n\t\treturn oSapCardData;\n\t}\n\n\t/**\n\t * This function returns card details required for the recommended card manifest\n\t * based on app manifest and annotations\n\t * @param {object} manifest - The original app manifest\n\t * @param {object} oInfo - The object containing details of lineitem, entityset, settings etc\n\t * @param {object} oParentApp - The parent app object\n\t * @param {object} oMetaModel - The OData metamodel\n\t * @returns {object} The card data object with title, subtitle, url, semanticObject, action, id and column details\n\t * @private\n\t */\n\tpublic _getManifestCardData(\n\t\tmanifest: IAppManifest,\n\t\toInfo: ILineItemDetails,\n\t\toParentApp: IAppInfoData,\n\t\toMetaModel: ODataMetaModel\n\t): IManifestCardData {\n\t\tconst manifestApp = manifest[\"sap.app\"];\n\t\tconst dataSources = manifestApp?.dataSources;\n\n\t\tconst mainServiceUri = dataSources?.mainService?.uri || \"\";\n\n\t\tconst lineItem = oInfo.lineItem as ILineItem[];\n\t\tconst entitySet = oInfo.entitySet;\n\t\tconst oEntitySet = oMetaModel.getODataEntitySet(entitySet) as IEntitySet;\n\t\tconst oEntityType = oMetaModel.getODataEntityType(oEntitySet?.entityType) as IEntityType;\n\t\tconst serviceUrl = `${mainServiceUri.replace(/\\/$/, \"\")}/${entitySet}`; // make '{mainServiceUri}/{entitySet}' format\n\n\t\t//get the column details for each of the lineitem columns\n\t\tconst aColumns = lineItem\n\t\t\t?.map((oColumn) => this._getColumnDetail(entitySet, oMetaModel, oColumn))\n\t\t\t.filter((oItem) => oItem !== undefined);\n\n\t\tconst oSelectExpand = this._getRelevantColumnPaths(aColumns);\n\t\t//get the complete select and expand parameters for url\n\t\tconst mParameters = this.getParameters(oInfo, oMetaModel, entitySet, oSelectExpand);\n\n\t\tconst urlSelectExpand = this.createCustomParams(mParameters);\n\t\tconst finalUrl = urlSelectExpand\n\t\t\t? `${serviceUrl}?$top=5&skip=0&${urlSelectExpand}&$inlinecount=allpages`\n\t\t\t: `${serviceUrl}?$top=5&skip=0`;\n\t\t//sort  the column based on their importance and then slice the first 4 columns\n\t\tconst aColumnSorted = (sortCollectionByImportance(aColumns) as IColumnData[])\n\t\t\t.map((column) => {\n\t\t\t\treturn {\n\t\t\t\t\tpath: column?.path,\n\t\t\t\t\ttype: column?.type,\n\t\t\t\t\tvalue: column?.value,\n\t\t\t\t\tidentifier: column?.identifier,\n\t\t\t\t\tstate: column?.state,\n\t\t\t\t\tshowStateIcon: column?.showStateIcon\n\t\t\t\t};\n\t\t\t})\n\t\t\t.slice(0, 4);\n\t\treturn {\n\t\t\tcardTitle: manifest?.[\"sap.app\"]?.title,\n\t\t\tsubTitle: oEntityType[UIAnnotations.CommonLabel] ? `Top 5 ${oEntityType[UIAnnotations.CommonLabel].String}` : \"\",\n\t\t\turl: finalUrl,\n\t\t\tsemanticObject: oParentApp?.semanticObject || \"\",\n\t\t\taction: oParentApp?.action || \"\",\n\t\t\tid: manifest?.[\"sap.app\"]?.id,\n\t\t\tcolumns: aColumnSorted,\n\t\t\tentitySet: entitySet\n\t\t};\n\t}\n\n\t/**\n\t * This function returns the column detail object for the given column's context\n\t * @param {string} entitySet - - The entity set name\n\t * @param {object} oMetaModel -  OData metamodel\n\t * @param {object} lineItemContext - The line item column context object\n\t * @returns {object} The column detail containing value, path, importance and type\n\t * @private\n\t */\n\tprivate _getColumnDetail(entitySet: string, oMetaModel: ODataMetaModel, lineItemContext: ILineItem) {\n\t\tlet oProperty;\n\t\tlet oEntitySet = oMetaModel.getODataEntitySet(entitySet) as IEntitySet;\n\t\tlet oEntityType = oMetaModel.getODataEntityType(oEntitySet.entityType) as IEntityType;\n\n\t\tif (lineItemContext.Value?.Path) {\n\t\t\toProperty = oMetaModel.getODataProperty(oEntityType, lineItemContext.Value.Path) as UIAnnotationValue;\n\t\t\tlet oPropertyHidden = oProperty[UIAnnotations.UIHidden];\n\n\t\t\t// if oProperty not hidden and oLineitemContext not hidden then only consider the column else return undefined\n\t\t\tif (oPropertyHidden?.Bool === \"true\" || oPropertyHidden?.Bool === true) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t//check if lineItemContext is hidden or no oProperty is found\n\t\t\tif (this.isPropertyHidden(lineItemContext) || !oProperty || Object.keys(oProperty).length === 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\tlet oP13NDetails = this.createP13N(oEntitySet, oProperty, lineItemContext, oMetaModel);\n\t\toP13NDetails = oP13NDetails.replace(/\\\\/g, \"\"); // Remove the double backslashes\n\t\tlet columnDataObject = oP13NDetails ? (JSON.parse(oP13NDetails) as ColumnObjectData) : {};\n\n\t\tif (!this.isSupportedColumn(columnDataObject, lineItemContext, oMetaModel, oEntitySet)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (oProperty) {\n\t\t\tcolumnDataObject = this.getColumnObjectDetails(columnDataObject, oProperty, oEntityType, lineItemContext);\n\t\t\tif (lineItemContext?.[FieldAnnotationsType.Importance] !== undefined) {\n\t\t\t\tconst importance = lineItemContext[FieldAnnotationsType.Importance];\n\t\t\t\tcolumnDataObject.importance = importance;\n\t\t\t}\n\t\t}\n\n\t\treturn columnDataObject;\n\t}\n\n\t/**\n\t * Retrieves the column object details based on the provided property and entity type.\n\t *\n\t * @param {object} columnDataObject - The column information object to be populated.\n\t * @param {object} propertyDetails - The property object containing metadata about the column.\n\t * @param {object} entityType - The entity type object containing metadata about the entity.\n\t * @param {object} dataField - The data field object containing the lineitem column context object\n\t * @returns {object} The populated column information object.\n\t * @private\n\t */\n\tprivate getColumnObjectDetails(\n\t\tcolumnDataObject: ColumnObjectData,\n\t\tpropertyDetails: UIAnnotationValue,\n\t\tentityType: IEntityType,\n\t\tdataField: ILineItemContext\n\t) {\n\t\tlet sColumnKeyDescription = propertyDetails[UIAnnotations.CommonText]?.Path || \"\";\n\t\tsColumnKeyDescription = \"{\" + sColumnKeyDescription + \"}\";\n\t\tlet sColumnValue = propertyDetails.name ? \"{\" + propertyDetails.name + \"}\" : \"\";\n\t\tlet sNavigation = \"\";\n\t\tconst aSemKeyAnnotation = entityType[UIAnnotations.CommonSemanticKey];\n\t\tconst bIsPropertySemanticKey =\n\t\t\t!!aSemKeyAnnotation &&\n\t\t\taSemKeyAnnotation.some(function (oAnnotation) {\n\t\t\t\treturn oAnnotation.PropertyPath === propertyDetails.name;\n\t\t\t});\n\t\tlet bIsCriticality: boolean = false;\n\t\tlet criticalityAnnotation = undefined;\n\n\t\tif ((dataField?.Criticality && dataField?.Value?.Path) === propertyDetails.name) {\n\t\t\tcriticalityAnnotation = dataField;\n\t\t\tbIsCriticality = true;\n\t\t}\n\n\t\tif (propertyDetails[UIAnnotations.MeasuresISOCurrency]?.Path) {\n\t\t\tsColumnValue = sColumnValue.concat(\" \" + \"{\" + sNavigation + propertyDetails[UIAnnotations.MeasuresISOCurrency]?.Path + \"}\");\n\t\t}\n\t\tif (propertyDetails[UIAnnotations.MeasuresUnit]?.Path) {\n\t\t\tsColumnValue = sColumnValue.concat(\" \" + \"{\" + sNavigation + propertyDetails[UIAnnotations.MeasuresUnit]?.Path + \"}\");\n\t\t}\n\t\tif (propertyDetails[UIAnnotations.CommonText]?.Path) {\n\t\t\tlet sTextArragement = propertyDetails[UIAnnotations.CommonText]?.[UIAnnotations.UITextArrangement];\n\t\t\tif (!sTextArragement) {\n\t\t\t\tsTextArragement = entityType[UIAnnotations.UITextArrangement];\n\t\t\t}\n\t\t\tthis._setColumnTextValue(sTextArragement, columnDataObject, sColumnKeyDescription, sColumnValue);\n\t\t} else {\n\t\t\tcolumnDataObject[\"value\"] = sColumnValue;\n\t\t\tif (bIsPropertySemanticKey) {\n\t\t\t\tcolumnDataObject[\"identifier\"] = bIsPropertySemanticKey;\n\t\t\t}\n\t\t}\n\t\tif (bIsCriticality) {\n\t\t\tcolumnDataObject[\"state\"] = this.buildExpressionForCriticalityColor(criticalityAnnotation);\n\t\t\tcolumnDataObject[\"showStateIcon\"] =\n\t\t\t\tcriticalityAnnotation?.CriticalityRepresentation?.EnumMember !==\n\t\t\t\t\tFieldAnnotationsType.CriticalityRepresentationTypeWithoutIcon || true;\n\t\t}\n\t\tcolumnDataObject[\"path\"] = propertyDetails[UIAnnotations.CommonText]?.Path || propertyDetails.name;\n\t\tcolumnDataObject[\"type\"] = propertyDetails.type;\n\t\treturn columnDataObject;\n\t}\n\n\t/**\n\t * Build expression for the criticality annotation, kept same as the one used in LROP\n\t * @param {object} criticalityAnnotation - The criticality annotation object\n\t * @returns {string} The expression for the criticality color\n\t * @private\n\t */\n\tprivate buildExpressionForCriticalityColor(criticalityAnnotation?: ILineItemContext) {\n\t\tlet sFormatCriticalityExpression: CoreLib.ValueState | string = ValueState.None;\n\t\tlet sExpressionTemplate;\n\t\tlet oCriticalityProperty = criticalityAnnotation?.Criticality;\n\t\tenum CriticalityType {\n\t\t\tNegative = \"com.sap.vocabularies.UI.v1.CriticalityType/Negative\",\n\t\t\tCritical = \"com.sap.vocabularies.UI.v1.CriticalityType/Critical\",\n\t\t\tPositive = \"com.sap.vocabularies.UI.v1.CriticalityType/Positive\"\n\t\t}\n\t\tif (oCriticalityProperty) {\n\t\t\tsExpressionTemplate =\n\t\t\t\t\"'{'= ({0} === ''\" +\n\t\t\t\tCriticalityType.Negative +\n\t\t\t\t\"'') || ({0} === ''1'') || ({0} === 1) ? ''\" +\n\t\t\t\tValueState.Error +\n\t\t\t\t\"'' : \" +\n\t\t\t\t\"({0} === ''\" +\n\t\t\t\tCriticalityType.Critical +\n\t\t\t\t\"'') || ({0} === ''2'') || ({0} === 2) ? ''\" +\n\t\t\t\tValueState.Warning +\n\t\t\t\t\"'' : \" +\n\t\t\t\t\"({0} === ''\" +\n\t\t\t\tCriticalityType.Positive +\n\t\t\t\t\"'') || ({0} === ''3'') || ({0} === 3) ? ''\" +\n\t\t\t\tValueState.Success +\n\t\t\t\t\"'' : \" +\n\t\t\t\t\"''\" +\n\t\t\t\tValueState.None +\n\t\t\t\t\"'' '}'\";\n\t\t\tif (oCriticalityProperty?.Path) {\n\t\t\t\tconst sCriticalitySimplePath = \"${\" + oCriticalityProperty.Path + \"}\";\n\t\t\t\tsFormatCriticalityExpression = formatMessage(sExpressionTemplate, [sCriticalitySimplePath]);\n\t\t\t} else if (oCriticalityProperty?.EnumMember) {\n\t\t\t\tconst sCriticality = \"'\" + oCriticalityProperty.EnumMember + \"'\";\n\t\t\t\tsFormatCriticalityExpression = formatMessage(sExpressionTemplate, [sCriticality]);\n\t\t\t} else {\n\t\t\t\tLog.warning(\"Case not supported, returning the default sap.ui.core.ValueState.None\");\n\t\t\t}\n\t\t} else {\n\t\t\t// Any other cases are not valid, the default value of 'None' will be returned\n\t\t\tLog.warning(\"Case not supported, returning the default sap.ui.core.ValueState.None\");\n\t\t}\n\n\t\treturn sFormatCriticalityExpression;\n\t}\n\n\t/**\n\t * Sets display text format of column\n\t *\n\t * @private\n\t * @param {{EnumMember: string} | undefined} sTextArragement - sTextArragement object\n\t * @param { ColumnObjectData} columnDataObject - Object containing column details\n\t * @param {string} sColumnKeyDescription - Description field to include in text value\n\t * @param {string} sColumnValue - The value to include in Text value\n\t */\n\tprivate _setColumnTextValue(\n\t\tsTextArragement: { EnumMember: string } | undefined,\n\t\tcolumnDataObject: ColumnObjectData,\n\t\tsColumnKeyDescription: string,\n\t\tsColumnValue: string\n\t) {\n\t\tenum TextArrangementType {\n\t\t\tTextOnly = \"TextOnly\",\n\t\t\tTextLast = \"TextLast\",\n\t\t\tTextSeparate = \"TextSeparate\"\n\t\t}\n\t\tconst sTextArrangementType = sTextArragement?.EnumMember?.split(\"/\")[1];\n\t\tlet valueExpr;\n\n\t\tswitch (sTextArrangementType) {\n\t\t\tcase TextArrangementType.TextOnly:\n\t\t\t\tvalueExpr = `{= $${sColumnKeyDescription} === '' ? '' : $${sColumnKeyDescription} }`;\n\t\t\t\tbreak;\n\n\t\t\tcase TextArrangementType.TextLast:\n\t\t\t\tvalueExpr =\n\t\t\t\t\t`{= $${sColumnValue} === '' ? '' : $${sColumnValue} }` +\n\t\t\t\t\t`{= $${sColumnKeyDescription} === '' ? '' : ' (' + ($${sColumnKeyDescription}) + ')' }`;\n\t\t\t\tbreak;\n\n\t\t\tcase TextArrangementType.TextSeparate:\n\t\t\t\tvalueExpr = `{= $${sColumnValue} === '' ? '' : $${sColumnValue} }`;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tvalueExpr =\n\t\t\t\t\t`{= $${sColumnKeyDescription} === '' ? '' : $${sColumnKeyDescription} }` +\n\t\t\t\t\t`{= $${sColumnValue} === '' ? '' : ' (' + ($${sColumnValue}) + ')' }`;\n\t\t\t\tbreak;\n\t\t}\n\t\tcolumnDataObject[\"value\"] = valueExpr;\n\t}\n\n\t// get requestAtlLeastFields from PresentationVariant\n\tprivate _getRequestAtLeastFields(presentationVariant: IPresentationVariant): string[] | RequestAtleastFieldType[] | [] {\n\t\treturn presentationVariant && Array.isArray(presentationVariant.requestAtLeastFields)\n\t\t\t? presentationVariant.requestAtLeastFields\n\t\t\t: [];\n\t}\n\n\t/**\n\t * Creates a query string with custom parameters for OData requests.\n\t *\n\t * This method generates a query string containing `$expand` and `$select` parameters\n\t * based on the provided input object. The values are URL-encoded to ensure proper formatting.\n\t *\n\t * @param {object} mParameters - An object containing the parameters for the query string.\n\t * @param {string | undefined} mParameters.expand - The value for the `$expand` parameter, if any.\n\t * @param {string | undefined} mParameters.select - The value for the `$select` parameter, if any.\n\t * @returns {string} A query string containing the `$expand` and `$select` parameters, joined by `&`.\n\t * @private\n\t */\n\tprivate createCustomParams(mParameters: SelectExpandDetail): string {\n\t\tconst aCustomParams = [];\n\t\tif (mParameters?.expand) {\n\t\t\taCustomParams.push(\"$expand=\" + encodeURL(mParameters[\"expand\"]));\n\t\t}\n\t\tif (mParameters?.select) {\n\t\t\taCustomParams.push(\"$select=\" + encodeURL(mParameters[\"select\"]));\n\t\t}\n\t\treturn aCustomParams.join(\"&\");\n\t}\n\n\t/**\n\t * Retrieves an object from the OData meta model based on the given entity type and path.\n\t *\n\t * This method resolves the provided path to an absolute path if it is relative, using the entity type as the base.\n\t * It then retrieves the corresponding object from the meta model. Any \"@\" characters in the path are removed\n\t * to match the meta model's structure.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and annotations.\n\t * @param {string} entityTypeName - The entity type used as the base for resolving relative paths.\n\t * @param {string} path - The path to the object in the meta model. Can be relative or absolute.\n\t * @returns {IPresentationVariant | ILineItem[]} The object retrieved from the meta model, which can be a presentation variant or an array of nested objects.\n\t * @private\n\t */\n\tprivate getObject<T extends IPresentationVariant | ILineItem[]>(metaModel: ODataMetaModel, entityTypeName: string, path: string): T {\n\t\tif (path[0] !== \"/\") {\n\t\t\t// relative path - add path of annotation target, i.e. EntityType\n\t\t\tpath = (metaModel.getODataEntityType(entityTypeName, true) as string) + \"/\" + path; //*****check this */\n\t\t}\n\t\t// assumption: absolute paths in annotations are equal to corresponding paths in metaModel\n\t\t// any \"@\" are removed in the metaModel\n\t\treturn metaModel.getObject(path.replace(/@/g, \"\")) as T;\n\t}\n\n\t/**\n\t * Check If Page is List Report\n\t *\n\t * @param {object} page - page object\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\tpublic _isListReport(page?: IPageType): boolean {\n\t\treturn page?.component?.name === \"sap.suite.ui.generic.template.ListReport\";\n\t}\n\n\t/**\n\t * @param {IPageType[] | PageRecord} pages - pages object from manifest\n\t * @returns {ILrSettings} - returns the settings object for the ListReport\n\t */\n\tprivate getSettingsForPage(pages: IPageType[] | undefined | PageRecord): ILrSettings {\n\t\tif (!pages) {\n\t\t\treturn {};\n\t\t}\n\n\t\tlet lrSettings: ILrSettings = {};\n\n\t\t// Handling array and object structure in LR V2 manifest\n\t\tif (Array.isArray(pages) && this._isListReport(pages[0])) {\n\t\t\tconst listPage = pages[0];\n\t\t\tif (listPage?.component) {\n\t\t\t\tconst component = listPage.component;\n\t\t\t\tlrSettings = component?.settings || {};\n\t\t\t\tlrSettings.bSupressCardRowNavigation = this.shouldSuppressCardRowNavigation(listPage);\n\t\t\t}\n\t\t} else if (Object.keys(pages).length) {\n\t\t\tconst sListKey = Object.keys(pages).find((key) => this._isListReport((pages as PageRecord)[key] as IPageType));\n\t\t\tif (sListKey) {\n\t\t\t\tconst listPage = (pages as PageRecord)[sListKey] as IPageType;\n\n\t\t\t\tif (listPage?.component) {\n\t\t\t\t\tconst component = listPage.component;\n\t\t\t\t\tlrSettings = (component?.settings ?? {}) as ILrSettings;\n\t\t\t\t\tlrSettings.bSupressCardRowNavigation = this.shouldSuppressCardRowNavigation(listPage);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn lrSettings;\n\t}\n\n\t/**\n\t * Determines whether card row navigation should be suppressed for the card\n\t *\n\t * @param {IPageType} page - The ListReport page object from the manifest.\n\t * @returns {boolean} True if card row navigation should be suppressed\n\t */\n\tprivate shouldSuppressCardRowNavigation(listPage: IPageType): boolean {\n\t\t// LR only app or if external navigation from OP\n\t\tif (listPage.pages) {\n\t\t\t// If pages is an array, handle based on its length and navigation property\n\t\t\tif (Array.isArray(listPage.pages)) {\n\t\t\t\tif (listPage.pages.length === 0 || listPage.pages[0]?.navigation) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If pages is an object, check if the object keys have navigation\n\t\t\t\tconst keys = Object.keys(listPage.pages);\n\t\t\t\tif (keys.length === 0 || (keys.length && (listPage.pages[keys[0]] as IPageType)?.navigation)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t//if no list pages return true\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for Quick variant selection X in settings\n\t\tif (listPage?.component?.settings?.quickVariantSelectionX) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * @param {object} metaModel - metamodel object\n\t * @param {ILrSettings} ILrSettings - settings object from the manifest\n\t * @param {string} entitySetName - entity set of the application\n\t * @returns {object} - returns the normalized table settings\n\t * @private\n\t */\n\tprivate getNormalizedTableSettings(\n\t\tmetaModel: ODataMetaModel,\n\t\tlRVariantSettings: ILrSettings | IVariantSetting,\n\t\tentitySetName: string\n\t): ITableSettings {\n\t\tconst settings = deepExtend({}, lRVariantSettings) as ILrSettings;\n\n\t\t// 1. map boolean settings gridTable and treeTable to tableType\n\t\tif (settings && !settings.tableType) {\n\t\t\tif (settings.gridTable) {\n\t\t\t\tsettings.tableType = TABLE_TYPES.GRID;\n\t\t\t} else if (settings.treeTable) {\n\t\t\t\tsettings.tableType = TABLE_TYPES.TREE;\n\t\t\t}\n\t\t}\n\n\t\t// 2. map flat settings to structured ones\n\t\tsettings.tableSettings = settings.tableSettings || {};\n\t\tsettings.tableSettings.type = settings.tableSettings.type || settings.tableType;\n\n\t\tconst entitySet = metaModel.getODataEntitySet(entitySetName) as IEntitySet;\n\t\tconst entityTypeData = metaModel.getODataEntityType(entitySet.entityType) as IEntityType;\n\n\t\t// 3. determine type\n\t\tif (\n\t\t\tsettings.tableSettings.type !== TABLE_TYPES.STANDARD_LIST &&\n\t\t\tsettings.tableSettings.type !== TABLE_TYPES.OBJECT_LIST &&\n\t\t\tentitySetName\n\t\t) {\n\t\t\tsettings.tableSettings.type =\n\t\t\t\tsettings.tableSettings.type ||\n\t\t\t\t(entityTypeData[UIAnnotations.SapSemantics] === \"aggregate\" ? TABLE_TYPES.ANALYTICAL : TABLE_TYPES.RESPONSIVE);\n\t\t\tif (settings.tableSettings.type === TABLE_TYPES.ANALYTICAL && !(entityTypeData[UIAnnotations.SapSemantics] === \"aggregate\")) {\n\t\t\t\tsettings.tableSettings.type = TABLE_TYPES.GRID;\n\t\t\t}\n\t\t}\n\n\t\tif (entityTypeData[UIAnnotations.UIHeaderInfo]) {\n\t\t\tsettings.tableSettings.headerInfo = entityTypeData[UIAnnotations.UIHeaderInfo];\n\t\t}\n\n\t\t// 4. remove deprecated settings (to avoid new code to rely on them)\n\t\tdelete settings.gridTable;\n\t\tdelete settings.treeTable;\n\t\tdelete settings.tableType;\n\n\t\treturn settings.tableSettings;\n\t}\n\n\t/**\n\t * @param {object} metaModel - metamodel object\n\t * @param {string} entitySetName - entity set of the application\n\t * @param {object} tabItem - details of the variant tab\n\t * @returns {boolean} - returns true if the variant is a smart chart\n\t */\n\tprivate checkIfSmartChart(metaModel: ODataMetaModel, entitySetName: string, tabItem: IVariantSetting): boolean {\n\t\tlet entitySetData = metaModel.getODataEntitySet(entitySetName) as IEntitySet;\n\t\tlet entityTypeData = metaModel.getODataEntityType(entitySetData.entityType) as IEntityType;\n\t\tlet annotationName, annotationPath, variantData;\n\t\tannotationPath = tabItem.annotationPath;\n\t\t//variantData = !!annotationPath && (entityTypeData[annotationPath] as VariantInfo);\n\t\tvariantData = annotationPath ? (entityTypeData[annotationPath] as VariantInfo) : undefined;\n\n\t\tif (variantData?.PresentationVariant) {\n\t\t\t// oVariant is SelectionPresentationVariant\n\t\t\tif (variantData.PresentationVariant.Visualizations) {\n\t\t\t\tannotationName = variantData.PresentationVariant.Visualizations[0].AnnotationPath;\n\t\t\t} else if (variantData.PresentationVariant.Path) {\n\t\t\t\tlet sPresentationVariantPath = variantData.PresentationVariant.Path.split(\"@\")[1];\n\t\t\t\tlet oPresentationVariantAnnotation =\n\t\t\t\t\tsPresentationVariantPath && (entityTypeData[sPresentationVariantPath] as IPresentationVariant);\n\t\t\t\tannotationName = oPresentationVariantAnnotation ? oPresentationVariantAnnotation?.Visualizations?.[0].AnnotationPath : \"\";\n\t\t\t}\n\t\t} else if (variantData?.Visualizations) {\n\t\t\t// oVariant is PresentationVariant\n\t\t\tannotationName = variantData.Visualizations[0].AnnotationPath;\n\t\t}\n\n\t\treturn !!((annotationName ?? \"\").indexOf(UIAnnotations.UIChart) > -1);\n\t}\n\n\t/**\n\t * function returns true if the passed entityset / properties have mandatory properties\n\t *\n\t * @param {EntitySet} entitySetData - Entity set\n\t * @param {Array} propertiesSet - Additional Properties\n\t * @returns {boolean} returns boolean\n\t * @private\n\t */\n\tpublic hasMandatoryProperties(entitySetData?: IEntitySet, propertiesSet?: Property[]): boolean {\n\t\t// if entityset has required properties in filter restrictions return true\n\t\tif (entitySetData?.[\"Org.OData.Capabilities.V1.FilterRestrictions\"]?.[\"RequiredProperties\"]?.length) {\n\t\t\treturn true;\n\t\t} else if (propertiesSet?.length) {\n\t\t\t// iterate through all properties and return true if any property is mandatory or sap:rquired-in-filter is true\n\t\t\treturn propertiesSet.some((propertyDetail: Record<string, string> | Property) => {\n\t\t\t\treturn (\n\t\t\t\t\tObject.keys(propertyDetail).length &&\n\t\t\t\t\t((propertyDetail as UIAnnotationValue)[\"sap:parameter\"] === \"mandatory\" ||\n\t\t\t\t\t\t(propertyDetail as UIAnnotationValue)[\"sap:required-in-filter\"] === \"true\")\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Check if sEntitySet has association with parameterised entityset and if it has give parametersised entityset parameters\n\t * @param {object} metaModel OData MetaModel\n\t * @param {string} entitySetName of the EntitySet which has Parameter Entityset in association.\n\t * @param {boolean} infoParamsRequired If the full info of parameters is needed or only the name of params is needed.\n\t * @return {ParameterisedEntity} Contains name of Parameter EntitySet, keys of Parameter EntitySet and Name of Navigation property.\n\t * @private\n\t */\n\tpublic _getParametersisedEntitySetParams(\n\t\tmetaModel: ODataMetaModel,\n\t\tentitySetName: string,\n\t\tinfoParamsRequired: boolean\n\t): ParameterisedEntity {\n\t\tif (!metaModel) {\n\t\t\tthrow new Error(\"OData Model needs to be passed as an argument\");\n\t\t}\n\t\tconst oResult: ParameterisedEntity = { entitySetName: null, parameters: [], navPropertyName: null };\n\t\tconst entitySetData = metaModel.getODataEntitySet(entitySetName) as IEntitySet;\n\t\tconst entityTypeData = metaModel.getODataEntityType(entitySetData.entityType) as IEntityType;\n\t\tconst aNavigationProperties = entityTypeData.navigationProperty;\n\n\t\tif (!aNavigationProperties) {\n\t\t\treturn oResult;\n\t\t}\n\n\t\t// filter the parameter entityset for extracting it's key and it's entityset name\n\t\taNavigationProperties.forEach(function (oNavProperty) {\n\t\t\tconst oNavigationEntitySet = metaModel.getODataAssociationEnd(entityTypeData, oNavProperty.name);\n\t\t\tconst oNavigationEntityType = oNavigationEntitySet && (metaModel.getODataEntityType(oNavigationEntitySet.type) as IEntityType);\n\n\t\t\tif (oNavigationEntityType?.[UIAnnotations.SapSemantics] !== \"parameters\" || !oNavigationEntityType.key) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\toResult.entitySetName = metaModel.getODataAssociationSetEnd(entityTypeData, oNavProperty.name)?.entitySet;\n\t\t\tfor (let value of oNavigationEntityType.key.propertyRef) {\n\t\t\t\tif (infoParamsRequired) {\n\t\t\t\t\tconst navProp = oNavigationEntityType.property as Property[];\n\t\t\t\t\tfor (let navProperty of navProp) {\n\t\t\t\t\t\tif (navProperty.name === value.name) {\n\t\t\t\t\t\t\toResult.parameters.push(navProperty);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toResult.parameters.push(value.name);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst aSubNavigationProperties = oNavigationEntityType.navigationProperty;\n\t\t\t// Parameter entityset must have association back to main entityset.\n\t\t\tconst bBackAssociationPresent = aSubNavigationProperties?.some(function (oSubNavigationProperty) {\n\t\t\t\tconst sSubNavigationEntityType = metaModel.getODataAssociationEnd(\n\t\t\t\t\toNavigationEntityType,\n\t\t\t\t\toSubNavigationProperty?.name\n\t\t\t\t)?.type;\n\t\t\t\t//if entityset.entitytype is same as subnavigation entitytype then it's a back association\n\t\t\t\toResult.navPropertyName = sSubNavigationEntityType === entitySetData.entityType ? oSubNavigationProperty?.name : null;\n\t\t\t\treturn oResult.navPropertyName;\n\t\t\t});\n\n\t\t\treturn bBackAssociationPresent && oResult.navPropertyName && oResult.entitySetName;\n\t\t});\n\t\treturn oResult;\n\t}\n\n\t/**\n\t * This function check if a lineitem annotation column is visible or not\n\t * @param {object} lineItemAnnotations - The column details object\n\t * @returns {Boolean} The column visibility status {true/false}\n\t * @private\n\t */\n\tprivate isPropertyHidden(lineItemAnnotations: ILineItemContext): boolean {\n\t\tlet oFieldControl = lineItemAnnotations[UIAnnotations.CommonFieldControl];\n\t\tlet uiHidden = lineItemAnnotations[UIAnnotations.UIHidden];\n\n\t\t// Check for FieldControl Hidden\n\t\tif (oFieldControl?.EnumMember === FieldAnnotationsType.FieldControlHiddenType) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for UI Hidden\n\t\tif (uiHidden) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(uiHidden, \"Bool\")) {\n\t\t\t\treturn uiHidden?.Bool === \"true\";\n\t\t\t} else if (Object.prototype.hasOwnProperty.call(uiHidden, \"Path\")) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true; // <Annotation Term=\"UI.Hidden\"/>\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Creates a P13N  string for a given entity set, property, and line item column.\n\t *\n\t * @param {Object} contextSet - The entity set object.\n\t * @param {Object} contextProp - The property details from metadata.\n\t * @param {Object} columnDataField - The line item column data field.\n\t * @param {Object} metaModel - The metadata model object.\n\t * @returns {string} The P13N string for the specified entity set and property.\n\t * @private\n\t */\n\tprivate createP13N(\n\t\tcontextSet: IEntitySet,\n\t\tcontextProp?: Property | UIAnnotationValue,\n\t\tcolumnDataField?: ILineItemContext,\n\t\tmetaModel?: ODataMetaModel\n\t): string {\n\t\tlet p13nDetails: string = \"\";\n\t\tlet additionalProperties: string[] = [];\n\t\tlet navigationPath: string = \"\";\n\t\tlet recordType = columnDataField?.RecordType;\n\t\tlet dataFieldValue = columnDataField?.Value as ExtendedLineItemContextValue;\n\t\tlet valuePath: string = dataFieldValue?.Path || \"\";\n\n\t\tif (\n\t\t\trecordType === FieldAnnotationsType.DataField ||\n\t\t\trecordType === FieldAnnotationsType.DataFieldForAnnotation ||\n\t\t\trecordType === FieldAnnotationsType.DataFieldWithUrl\n\t\t) {\n\t\t\tif (valuePath) {\n\t\t\t\tlet columnKey = this.createP13NColumnKey(columnDataField as ILineItemContext);\n\t\t\t\tp13nDetails = '\\\\{\"columnKey\":\"' + columnKey + '\", \"leadingProperty\":\"' + valuePath;\n\t\t\t\tnavigationPath = this.getNavigationPrefixPath(metaModel as ODataMetaModel, contextSet, valuePath);\n\t\t\t} else if (dataFieldValue?.Apply?.Name === \"odata.concat\") {\n\t\t\t\tdataFieldValue?.Apply?.Parameters.forEach(function (parameterDetails) {\n\t\t\t\t\tif (parameterDetails.Type === \"Path\") {\n\t\t\t\t\t\tif (!p13nDetails) {\n\t\t\t\t\t\t\tp13nDetails = '\\\\{\"columnKey\":\"' + parameterDetails?.Value + '\", \"leadingProperty\":\"' + parameterDetails?.Value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadditionalProperties.push(parameterDetails.Value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t// Append type information and additional properties\n\t\t\tp13nDetails += this.processAdditionalProperties(\n\t\t\t\tcontextProp as UIAnnotationValue,\n\t\t\t\tcolumnDataField as ILineItemContext,\n\t\t\t\tnavigationPath,\n\t\t\t\tadditionalProperties\n\t\t\t);\n\t\t\tif (recordType === FieldAnnotationsType.DataFieldWithUrl && columnDataField?.Url) {\n\t\t\t\tthis.processDataFieldWithUrl(columnDataField, additionalProperties);\n\t\t\t}\n\t\t\tif (p13nDetails && additionalProperties.length) {\n\t\t\t\tp13nDetails += '\", \"additionalProperty\":\"' + additionalProperties.join();\n\t\t\t}\n\t\t\tif (p13nDetails) {\n\t\t\t\tp13nDetails += '\"\\\\}';\n\t\t\t}\n\t\t}\n\t\treturn p13nDetails;\n\t}\n\n\t//process DataFieldUrl properties and add them to additionalProperties\n\tprivate processDataFieldWithUrl(columnDataField: ILineItemContext, additionalProperties: string[]): void {\n\t\tconst oDataFieldUrl = columnDataField.Url;\n\t\tif (oDataFieldUrl?.Apply?.Parameters) {\n\t\t\toDataFieldUrl.Apply.Parameters.forEach((oParameter) => {\n\t\t\t\tif (oParameter.Type === \"LabeledElement\" && oParameter.Value?.Path) {\n\t\t\t\t\tadditionalProperties.push(oParameter.Value.Path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (oDataFieldUrl?.Path) {\n\t\t\tadditionalProperties.push(oDataFieldUrl.Path);\n\t\t}\n\t}\n\n\t/**\n\t * Creates a personalized column key based on the provided data field.\n\t * @param {Object} oDataField - The data field object containing metadata for generating the column key.\n\t * @returns {string} The generated column key based on the data field.\n\t */\n\tprivate createP13NColumnKey(dataFieldColumn: ILineItemContext): string {\n\t\tlet columnKeyName = \"\",\n\t\t\tfioriTemplatePrefix = \"template\",\n\t\t\tseperatorNotation = \"::\";\n\t\tlet recordType = dataFieldColumn.RecordType;\n\t\tlet dataFieldValue = dataFieldColumn?.Value;\n\t\tlet dataFieldSemanticObject = dataFieldColumn.SemanticObject?.String || \"\";\n\t\tlet dataFieldActionString = dataFieldColumn.Action?.String || \"\";\n\t\tlet dataFieldPath = dataFieldValue?.Path || \"\";\n\t\tlet annotationPath: string | undefined = \"\",\n\t\t\tisRelevantAnnotation = null;\n\t\tlet buildKey = function (parts: string[]) {\n\t\t\treturn fioriTemplatePrefix + seperatorNotation + parts.join(seperatorNotation);\n\t\t};\n\n\t\tswitch (recordType) {\n\t\t\tcase FieldAnnotationsType.DataField:\n\t\t\t\tcolumnKeyName = dataFieldPath;\n\t\t\t\tbreak;\n\n\t\t\tcase FieldAnnotationsType.DataFieldWithIntentBasedNavigation:\n\t\t\t\tcolumnKeyName = buildKey([\n\t\t\t\t\tFieldTypes.DataFieldWithIntentBasedNavigation,\n\t\t\t\t\tdataFieldSemanticObject,\n\t\t\t\t\tdataFieldActionString,\n\t\t\t\t\tdataFieldPath\n\t\t\t\t]);\n\t\t\t\tbreak;\n\n\t\t\tcase FieldAnnotationsType.DataFieldWithNavigationPath:\n\t\t\t\tcolumnKeyName = buildKey([FieldTypes.DataFieldWithNavigationPath, dataFieldPath]);\n\t\t\t\tbreak;\n\n\t\t\tcase FieldAnnotationsType.DataFieldForIntentBasedNavigation:\n\t\t\t\tcolumnKeyName = buildKey([FieldTypes.DataFieldForIntentBasedNavigation, dataFieldSemanticObject, dataFieldActionString]);\n\t\t\t\tbreak;\n\n\t\t\tcase FieldAnnotationsType.DataFieldForAction:\n\t\t\t\tcolumnKeyName = buildKey([FieldTypes.DataFieldForAction, dataFieldActionString]);\n\t\t\t\tbreak;\n\n\t\t\tcase FieldAnnotationsType.DataFieldForAnnotation:\n\t\t\t\tannotationPath = dataFieldColumn.Target?.AnnotationPath;\n\n\t\t\t\tisRelevantAnnotation =\n\t\t\t\t\tannotationPath &&\n\t\t\t\t\t(annotationPath.indexOf(FieldAnnotationsType.Contact) >= 0 ||\n\t\t\t\t\t\tannotationPath.indexOf(FieldAnnotationsType.DataPoint) >= 0 ||\n\t\t\t\t\t\tannotationPath.indexOf(FieldAnnotationsType.FieldGroup) >= 0 ||\n\t\t\t\t\t\tannotationPath.indexOf(FieldAnnotationsType.Chart) >= 0);\n\t\t\t\tif (isRelevantAnnotation) {\n\t\t\t\t\tcolumnKeyName = buildKey([FieldTypes.DataFieldForAnnotation, annotationPath as string]);\n\t\t\t\t\t//since DataFieldForAnnotation can contain an @ and this is not working with SmartTable.prototype._addTablePersonalisationToToolbar, it is removed\n\t\t\t\t\tcolumnKeyName = columnKeyName.replace(\"@\", \"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// Handle cases where the RecordType does not match any of the known types\n\t\t\t\tcolumnKeyName = \"\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn columnKeyName;\n\t}\n\n\t/**\n\t * Retrieves the navigation prefix path for a given entity type and value path.\n\t *\n\t * @param {object} oMetaModel - The meta model object.\n\t * @param {object} oContextSet - The context set object containing the entity type.\n\t * @param {string} sPath - The value path for which the navigation prefix is needed.\n\t * @returns {string} The navigation prefix path.\n\t */\n\tprivate getNavigationPrefixPath(oMetaModel: ODataMetaModel, oContextSet: IEntitySet, sPath: string): string {\n\t\tlet sNavigation = \"\";\n\t\tif (oMetaModel) {\n\t\t\tlet oEntityType = oMetaModel.getODataEntityType(oContextSet.entityType) as IEntityType;\n\t\t\tif (oEntityType) {\n\t\t\t\tsNavigation = this._getNavigationPrefix(oMetaModel, oEntityType, sPath);\n\t\t\t\tif (sNavigation) {\n\t\t\t\t\tsNavigation += \"/\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn sNavigation;\n\t}\n\n\t/**\n\t * Retrieves the navigation prefix for a given property within an entity type.\n\t * @param {Object} metaModel - The metadata model object.\n\t * @param {Object} entityTypeData - The entity type object.\n\t * @param {string} propertyName - The property path for which the navigation prefix is to be determined.\n\t * @returns {string} The navigation prefix for the specified property.\n\t */\n\tprivate _getNavigationPrefix(metaModel: ODataMetaModel, entityTypeData: IEntityType, propertyName: string): string {\n\t\tlet expandName = \"\";\n\t\tlet propertyParts = propertyName.split(\"/\");\n\n\t\tif (propertyParts.length > 1) {\n\t\t\tfor (let i = 0; i < propertyParts.length - 1; i++) {\n\t\t\t\tlet associationEndData = metaModel.getODataAssociationEnd(entityTypeData, propertyParts[i]);\n\t\t\t\tif (!associationEndData) {\n\t\t\t\t\treturn expandName;\n\t\t\t\t}\n\t\t\t\tif (associationEndData) {\n\t\t\t\t\tentityTypeData = metaModel.getODataEntityType(associationEndData.type) as IEntityType;\n\t\t\t\t\texpandName += (expandName ? \"/\" : \"\") + propertyParts[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn expandName;\n\t}\n\n\t/**\n\t * Processes additional properties for a given context property and data field.\n\t *\n\t * This method analyzes the provided context property and data field to extract additional properties\n\t * such as criticality, text annotations, unit annotations, and field control paths. It also determines\n\t * the type of the property (e.g., date, string) and appends this information to the P13N string.\n\t *\n\t * @param {UIAnnotationValue} oContextProp - The context property object containing metadata about the property.\n\t * @param {ILineItemContext} oDataField - The data field object containing line item metadata.\n\t * @param {string} sNavigationPath - The navigation path to be prefixed to certain properties.\n\t * @param {string[]} aAdditionalProperties - An array to which additional property paths will be added.\n\t * @returns {string} A P13N string containing additional property details such as type and unit.\n\t * @private\n\t */\n\tprivate processAdditionalProperties(\n\t\toContextProp: UIAnnotationValue,\n\t\toDataField: ILineItemContext,\n\t\tsNavigationPath: string,\n\t\taAdditionalProperties: string[]\n\t): string {\n\t\tlet additionalP13N = \"\";\n\n\t\t// Check for DateTime type with specific display format\n\t\tif (oContextProp?.type === \"Edm.DateTime\" && oContextProp?.[\"sap:display-format\"] === \"Date\") {\n\t\t\tadditionalP13N += '\", \"type\":\"date';\n\t\t} else if (oContextProp?.type === \"Edm.String\") {\n\t\t\tadditionalP13N += '\", \"type\":\"string';\n\t\t}\n\n\t\t// Add Criticality property if available\n\t\tif (oDataField?.Criticality?.Path) {\n\t\t\taAdditionalProperties.push(oDataField?.Criticality.Path);\n\t\t}\n\t\tlet oContextCommonText = oContextProp?.[UIAnnotations.CommonText];\n\n\t\t// Add Text annotation property if available\n\t\tif (oContextCommonText?.Path) {\n\t\t\taAdditionalProperties.push(sNavigationPath + oContextCommonText?.Path);\n\t\t}\n\n\t\t// Add Unit annotation property if available\n\t\tconst oUnitAnnotation = oContextProp\n\t\t\t? oContextProp[UIAnnotations.MeasuresISOCurrency] || oContextProp[UIAnnotations.MeasuresUnit]\n\t\t\t: null;\n\t\tif (oUnitAnnotation?.Path) {\n\t\t\taAdditionalProperties.push(oUnitAnnotation.Path);\n\t\t\tadditionalP13N += '\", \"unit\":\"' + oUnitAnnotation.Path;\n\t\t}\n\t\t// Add FieldControl property if available\n\t\tif (oContextProp?.[UIAnnotations.CommonFieldControl]?.Path) {\n\t\t\taAdditionalProperties.push(sNavigationPath + oContextProp[UIAnnotations.CommonFieldControl].Path);\n\t\t}\n\n\t\treturn additionalP13N;\n\t}\n\n\t/**\n\t * Determines whether a column is supported for card creation.\n\t *\n\t * This method checks conditions to determine if a column is eligible for inclusion in a card,\n\t * conditions are kept similar to RT cards restrictions in V2 LR.\n\t *\n\t * @param {Record<string, string>} columnDataObject - The column data object containing metadata about the column.\n\t * @param {ILineItemContext} dataFieldDetails - The data field object containing line item metadata.\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing metadata about entities and properties.\n\t * @param {IEntitySet} entitySetData - The entity set to which the column belongs.\n\t * @returns {boolean} `true` if the column is supported for card creation, otherwise `false`.\n\t * @private\n\t */\n\tprivate isSupportedColumn(\n\t\tcolumnDataObject: ColumnObjectData,\n\t\tdataFieldDetails: ILineItemContext,\n\t\tmetaModel: ODataMetaModel,\n\t\tentitySetData: IEntitySet\n\t): boolean {\n\t\tlet sRecordType = dataFieldDetails.RecordType;\n\t\tif (\n\t\t\tsRecordType === FieldAnnotationsType.DataFieldForAnnotation ||\n\t\t\tsRecordType === FieldAnnotationsType.DataFieldForAction ||\n\t\t\tsRecordType === FieldAnnotationsType.DataFieldForIntentBasedNavigation ||\n\t\t\t!columnDataObject\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tlet entityType = metaModel.getODataEntityType(entitySetData.entityType) as IEntityType;\n\t\tlet propertyDetails = metaModel.getODataProperty(entityType, columnDataObject.leadingProperty!) as UIAnnotationValue;\n\t\tlet columnKeyName = columnDataObject.columnKey;\n\n\t\tif (\n\t\t\tthis.checkMultiplicityForDataFieldAssociation(metaModel, entitySetData, dataFieldDetails) ||\n\t\t\t(columnKeyName &&\n\t\t\t\t(columnKeyName.indexOf(FieldTypes.DataFieldForAnnotation) > -1 ||\n\t\t\t\t\tcolumnKeyName.indexOf(FieldTypes.DataFieldForAction) > -1 ||\n\t\t\t\t\tcolumnKeyName.indexOf(FieldTypes.DataFieldForIntentBasedNavigation) > -1 ||\n\t\t\t\t\tpropertyDetails?.[UIAnnotations.UIIsImageURL]?.Bool === \"true\"))\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Checks the multiplicity of a data field's association in the OData model.\n\t *\n\t * This method verifies whether the association for a given data field has a multiplicity of `*` (many).\n\t * It traverses the navigation path of the data field to determine the multiplicity of the associated entity.\n\t *\n\t * @param {ODataMetaModel} metaModel - The OData meta model containing entity and association metadata.\n\t * @param {IEntitySet} entitySetData - The entity set to which the data field belongs.\n\t * @param {ILineItemContext} dataFieldValue - The data field whose association multiplicity is to be checked.\n\t * @returns {boolean} `true` if the association has a multiplicity of `*`, otherwise `false`.\n\t * @private\n\t */\n\tprivate checkMultiplicityForDataFieldAssociation(\n\t\tmetaModel: ODataMetaModel,\n\t\tentitySetData: IEntitySet,\n\t\tdataFieldValue: ILineItemContext\n\t): boolean {\n\t\tif (dataFieldValue?.Value?.Path) {\n\t\t\tlet dataFieldValuePath = dataFieldValue.Value.Path;\n\t\t\tlet entityTypeData = metaModel && (metaModel.getODataEntityType(entitySetData.entityType) as IEntityType);\n\t\t\tlet associationData: AssociationEnd | null | undefined;\n\t\t\tif (!(dataFieldValuePath.indexOf(\"/\") > -1) || !entityTypeData) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\twhile (dataFieldValuePath.indexOf(\"/\") > -1) {\n\t\t\t\t//if complex path exists then check for multiplicity\n\t\t\t\tlet navigationPropertyPath = dataFieldValuePath.split(\"/\")[0];\n\t\t\t\tdataFieldValuePath = dataFieldValuePath.split(\"/\").slice(1).join(\"/\");\n\t\t\t\tentityTypeData = (metaModel.getODataEntityType((associationData as AssociationEnd)?.type) as IEntityType) || entityTypeData;\n\t\t\t\tassociationData = metaModel.getODataAssociationEnd(entityTypeData, navigationPropertyPath) as AssociationEnd;\n\t\t\t}\n\t\t\tif (associationData && associationData.multiplicity === \"*\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":431,"column":0},"map":{"version":3,"names":["sap","ui","define","Formatting","Log","NavigationHandler","SelectionVariant","DateFormat","NumberFormat","ODataModel","dateFormatter","decimalFormatter","situationsModel","_getDateFormatter","datePattern","getDatePattern","getDateInstance","pattern","_getNumberFormatter","getFloatInstance","decimalSeparator","getNumberSymbol","groupingSeparator","groupingEnabled","getSituationMessage","rawText","params","split","composedText","replaceAll","forEach","param","SitnInstceAttribName","length","attributeSource","SitnInstceAttribSource","paramName","matchedAttributes","_InstanceAttributeValue","reduce","attribute","push","formattedValues","attributeMatched","rawVal","SitnInstceAttribValue","trim","formattedVal","SitnInstceAttribEntityType","format","parse","endsWith","substring","Number","join","executeNavigation","oData","ownerComponent","Promise","resolve","reject","navigationHandler","oSelectionVariant","_NavigationParam","map","SituationNotifParamName","addSelectOption","SituationNotifParameterVal","sNavigationParameters","toJSONString","navigate","SitnSemanticObject","SitnSemanticObjectAction","error","fetchNavigationTargetData","instanceId","situationEngineType","oContextBindingNavigation","_getSituationsModel","bindContext","undefined","$expand","$select","requestObject","SitnInstanceID","Error","message","serviceUrl","__exports","__esModule"],"sources":["SituationUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport Log from \"sap/base/Log\";\nimport NavigationHandler from \"sap/fe/navigation/NavigationHandler\";\nimport SelectionVariant from \"sap/fe/navigation/SelectionVariant\";\nimport Component from \"sap/ui/core/Component\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport NumberFormat from \"sap/ui/core/format/NumberFormat\";\nimport ODataModel from \"sap/ui/model/odata/v4/ODataModel\";\n\nexport interface InstanceAttribute {\n\tSitnInstceKey: string;\n\tSitnInstceAttribName: string;\n\tSitnInstceAttribSource: string;\n\tSitnInstceAttribEntityType: string;\n\t_InstanceAttributeValue: InstanceAttributeValue[];\n}\n\nexport interface InstanceAttributeValue {\n\tSitnInstceKey: string;\n\tSitnInstceAttribName: string;\n\tSitnInstceAttribSource: string;\n\tSitnInstceAttribValue: string;\n}\n\nexport interface NavigationData {\n\tSitnInstanceID: string;\n\tSitnSemanticObject: string;\n\tSitnSemanticObjectAction: string;\n\t_NavigationParam: NavigationParam[];\n}\n\ninterface NavigationParam {\n\tSituationNotifParamName: string;\n\tSituationNotifParameterVal: string;\n}\n\nlet dateFormatter: DateFormat;\nlet decimalFormatter: NumberFormat;\nlet situationsModel!: ODataModel;\n\n/**\n * Gets the date formatter instance using the medium date pattern.\n *\n * @returns {DateFormat} The date formatter instance.\n */\nconst _getDateFormatter = (): DateFormat => {\n\tif (!dateFormatter) {\n\t\tconst datePattern = Formatting.getDatePattern(\"medium\") || \"dd/MM/yyyy\";\n\t\tdateFormatter = DateFormat.getDateInstance({ pattern: datePattern });\n\t}\n\n\treturn dateFormatter;\n};\n\n/**\n * Gets the number formatter instance using the settings retrieved from Configuration.\n *\n * @returns {NumberFormat} The number formatter instance.\n */\nconst _getNumberFormatter = (): NumberFormat => {\n\tif (!decimalFormatter) {\n\t\tdecimalFormatter = NumberFormat.getFloatInstance({\n\t\t\tdecimalSeparator: Formatting.getNumberSymbol(\"decimal\") || \".\",\n\t\t\tgroupingSeparator: Formatting.getNumberSymbol(\"group\") || \",\",\n\t\t\tgroupingEnabled: true\n\t\t});\n\t}\n\n\treturn decimalFormatter;\n};\n\n/**\n * Compose the situation message by replacing placeholders with formatted parameter values.\n *\n * @private\n * @param {string} rawText - The raw text containing placeholders.\n * @param {InstanceAttribute[]} params - An array of parameters to replace in the text.\n * @returns {string} The composed text with replaced placeholders.\n */\nexport const getSituationMessage = (rawText: string, params: InstanceAttribute[] = []): string => {\n\tif (!rawText?.split) {\n\t\treturn rawText;\n\t}\n\n\tlet composedText = rawText.replaceAll(\"\\n\", \" \");\n\n\tparams.forEach((param) => {\n\t\tif (param.SitnInstceAttribName?.length > 0) {\n\t\t\tconst attributeSource = `0${param.SitnInstceAttribSource}`;\n\t\t\tconst paramName = `${attributeSource}.${param.SitnInstceAttribName}`;\n\t\t\tconst matchedAttributes = param._InstanceAttributeValue.reduce(function (matchedAttributes, attribute) {\n\t\t\t\tif (\n\t\t\t\t\tattribute.SitnInstceAttribSource === param.SitnInstceAttribSource &&\n\t\t\t\t\tattribute.SitnInstceAttribName === param.SitnInstceAttribName\n\t\t\t\t) {\n\t\t\t\t\tmatchedAttributes.push(attribute);\n\t\t\t\t}\n\n\t\t\t\treturn matchedAttributes;\n\t\t\t}, [] as InstanceAttributeValue[]);\n\n\t\t\tconst formattedValues: string[] = [];\n\t\t\tmatchedAttributes.forEach((attributeMatched) => {\n\t\t\t\tlet rawVal = attributeMatched?.SitnInstceAttribValue?.trim() || \"\";\n\t\t\t\tlet formattedVal;\n\n\t\t\t\tswitch (param.SitnInstceAttribEntityType) {\n\t\t\t\t\tcase \"Edm.DateTime\":\n\t\t\t\t\t\tformattedVal = _getDateFormatter().format(_getDateFormatter().parse(rawVal));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Edm.Decimal\":\n\t\t\t\t\t\t// If the parameter string ends with a minus sign, move it to the first position\n\t\t\t\t\t\tif (rawVal.endsWith(\"-\")) {\n\t\t\t\t\t\t\trawVal = `-${rawVal.substring(0, rawVal.length - 1)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformattedVal = _getNumberFormatter().format(Number(rawVal));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tformattedVal = rawVal;\n\t\t\t\t}\n\n\t\t\t\tformattedValues.push(formattedVal);\n\t\t\t});\n\n\t\t\t// Replace placeholders with formatted values\n\t\t\tcomposedText = composedText.split(`{${paramName}}`).join(formattedValues.join(\", \"));\n\t\t}\n\t});\n\n\treturn composedText;\n};\n\n/**\n * Executes navigation based on provided data.\n *\n * @private\n * @param {NavigationData} oData - Data object containing navigation parameters.\n * @param {Component} ownerComponent - The owner component initiating the navigation.\n * @returns {Promise<void>} A promise that resolves or rejects based on the navigation result.\n */\nexport function executeNavigation(oData: NavigationData, ownerComponent: Component): Promise<void> {\n\treturn new Promise((resolve, reject) => {\n\t\t//@ts-expect-error: params\n\t\tconst navigationHandler = new NavigationHandler(ownerComponent);\n\t\tconst oSelectionVariant = new SelectionVariant();\n\t\toData._NavigationParam?.map(function (param) {\n\t\t\tif (param.SituationNotifParamName) {\n\t\t\t\toSelectionVariant.addSelectOption(param.SituationNotifParamName, \"I\", \"EQ\", param.SituationNotifParameterVal);\n\t\t\t}\n\t\t});\n\t\tconst sNavigationParameters = oSelectionVariant.toJSONString();\n\t\tnavigationHandler.navigate(\n\t\t\toData.SitnSemanticObject,\n\t\t\toData.SitnSemanticObjectAction,\n\t\t\tsNavigationParameters,\n\t\t\tresolve,\n\t\t\t(error: unknown) => reject(error as Error)\n\t\t);\n\t});\n}\n\n/**\n * Fetches navigation target data based on the provided instance ID.\n *\n * @private\n * @async\n * @param {string} instanceId - The instance ID for which to fetch navigation data.\n * @param {string} situationEngineType - Situation Engine Type\n * @returns {Promise<NavigationData>} A promise that resolves with an object containing navigation data.\n */\nexport function fetchNavigationTargetData(instanceId: string, situationEngineType: string): Promise<NavigationData> | undefined {\n\ttry {\n\t\tif (situationEngineType === \"1\") {\n\t\t\tconst oContextBindingNavigation = _getSituationsModel().bindContext(`/Navigation/${instanceId}`, undefined, {\n\t\t\t\t$expand: { _NavigationParam: { $select: [\"SituationNotifParamName\", \"SituationNotifParameterVal\"] } },\n\t\t\t\t$select: [\"SitnInstanceID\", \"SitnSemanticObject\", \"SitnSemanticObjectAction\"]\n\t\t\t});\n\t\t\treturn oContextBindingNavigation.requestObject();\n\t\t} else {\n\t\t\treturn Promise.resolve({\n\t\t\t\tSitnInstanceID: instanceId,\n\t\t\t\tSitnSemanticObject: \"SituationInstance\",\n\t\t\t\tSitnSemanticObjectAction: \"display\",\n\t\t\t\t_NavigationParam: [\n\t\t\t\t\t{\n\t\t\t\t\t\tSituationNotifParamName: \"ui-type\",\n\t\t\t\t\t\tSituationNotifParameterVal: \"extended\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tSituationNotifParamName: \"SitnInstceKey\",\n\t\t\t\t\t\tSituationNotifParameterVal: instanceId\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t} catch (error: unknown) {\n\t\tLog.error(error instanceof Error ? error.message : \"\");\n\t}\n}\n\n/**\n * Retrieves the Situations model. If the model does not exist, it creates a new one.\n *\n * @private\n * @returns {ODataModel} The Situations model instance.\n */\nfunction _getSituationsModel(): ODataModel {\n\tif (!situationsModel) {\n\t\tsituationsModel = new ODataModel({\n\t\t\tserviceUrl: \"/sap/opu/odata4/sap/a_sitn2mblinstce_v4/srvd/sap/a_sitn2mblinstce_srv/0002/\"\n\t\t});\n\t}\n\treturn situationsModel;\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":436,"column":0},"map":{"version":3,"names":["sap","ui","define","Log","Formatting","sap_m_library","Locale","DateFormat","_catch","body","recover","result","e","then","_fetchUserInfo","originId","userId","Promise","resolve","fetch","response","ok","Error","json","_response$json","d","data","userInfo","error","message","String","reject","Priority","TaskPriority","getTaskUrl","instanceId","targetAppUrl","taskInstanceURL","fetchUserDetails","Object","keys","includes","_isValidDate","dateString","length","year","parseInt","slice","month","day","date","Date","getFullYear","getMonth","getDate","_getParsedTime","time","NaN","dateRegex","yyyymmddRegex","isoRegex","dateMatch","match","test","parsedDate","getDateInstance","parse","getTime","isoMatch","formatDate","dateStr","pattern","getDatePattern","locale","getLanguageTag","language","dateFormat","getDateTimeInstance","value","formattedDate","isNaN","format","getPriority","priority","VERY_HIGH","VeryHigh","None","HIGH","High","MEDIUM","Medium","LOW","Low","__exports","__esModule"],"sources":["TaskUtils.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport Formatting from \"sap/base/i18n/Formatting\";\nimport { Priority } from \"sap/m/library\";\nimport Locale from \"sap/ui/core/Locale\";\nimport DateFormat from \"sap/ui/core/format/DateFormat\";\nimport { Response } from \"../ToDoPanel\";\n\ninterface UserInfo {\n\tEmail?: string;\n}\n\nexport enum TaskPriority {\n\tVERY_HIGH = \"VERY_HIGH\",\n\tHIGH = \"HIGH\",\n\tMEDIUM = \"MEDIUM\",\n\tLOW = \"LOW\"\n}\n\nconst userInfo: Record<string, UserInfo> = {};\n\n/**\n * Get the task URL for a given task.\n *\n * @private\n * @param {string} originId - The origin ID of the task.\n * @param {string} instanceId - The instance ID of the task.\n * @returns {string} The task URL.\n */\nexport function getTaskUrl(originId: string, instanceId: string, targetAppUrl: string): string {\n\tconst taskInstanceURL = `?showAdditionalAttributes=true&/detail/${originId}/${instanceId}/TaskCollection(SAP__Origin='${originId}',InstanceID='${instanceId}')`;\n\n\treturn targetAppUrl + taskInstanceURL;\n}\n\n/**\n * Fetches user details if required.\n *\n * @private\n * @param {string} originId - The origin ID.\n * @param {string} userId - The user ID.\n * @returns {Promise<UserInfo>} - A promise that resolves to the user information.\n */\nexport function fetchUserDetails(originId: string, userId: string): Promise<UserInfo> {\n\tif (Object.keys(userInfo).includes(userId)) {\n\t\treturn Promise.resolve(userInfo[userId]);\n\t} else {\n\t\treturn _fetchUserInfo(originId, userId);\n\t}\n}\n\n/**\n * Fetches user information for a specific user.\n *\n * @private\n * @param {string} originId - The origin ID.\n * @param {string} userId - The user ID.\n * @returns {Promise<UserInfo>} - A promise that resolves to the user information.\n */\nasync function _fetchUserInfo(originId: string, userId: string): Promise<UserInfo> {\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t`/sap/opu/odata/IWPGW/TASKPROCESSING;mo;v=2/UserInfoCollection(SAP__Origin='${originId}',UniqueName='${userId}')?$format=json`\n\t\t);\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(`Failed to Fetch User Info for: ${userId}`);\n\t\t}\n\n\t\tconst { d: data } = (await response.json()) as Response;\n\t\tuserInfo[userId] = data as UserInfo;\n\t\treturn userInfo[userId];\n\t} catch (error: unknown) {\n\t\tLog.error(error instanceof Error ? error.message : String(error));\n\t\treturn {};\n\t}\n}\n\n/**\n * Check whether given dateString is of format YYYYMMDD and is a valid value for Date object.\n *\n * @param {string} dateString - The datestring to be checked for validity\n * @returns {Date} if its a valid date return the date else false\n * @private\n */\nfunction _isValidDate(dateString: string): boolean {\n\t// Check if the input has the correct length\n\tif (dateString.length !== 8) {\n\t\treturn false;\n\t}\n\n\t// Parse the date components\n\tconst year = parseInt(dateString.slice(0, 4), 10);\n\tconst month = parseInt(dateString.slice(4, 6), 10) - 1;\n\tconst day = parseInt(dateString.slice(6), 10);\n\n\t// Create a Date object with the parsed components\n\tconst date = new Date(year, month, day);\n\n\t// Check if the parsed date is valid\n\treturn date.getFullYear() === year && date.getMonth() === month && date.getDate() === day;\n}\n\n/**\n * Parses different time formats supplied from the back-ends. It returns UNIX time stamp in milliseconds.\n * If Time Format contains unexpected symbols or Format is not recognized NaN is returned.\n * Referenced from: cross.fnd.fiori.inbox.CustomAttributeComparator\n *\n * @param {string | number} time date format to be parsed. If int UNIX time stamp in milliseconds is assumed.\n * @returns {number} UNIX time stamp in milliseconds. (milliseconds that have elapsed since 00:00:00 UTC, Thursday, 1 January 1970)\n * @private\n */\nfunction _getParsedTime(time: string | number): number {\n\tif (time == null || time === \"00000000\") {\n\t\treturn NaN;\n\t}\n\n\tif (typeof time === \"number\") {\n\t\treturn time;\n\t}\n\n\t// Check for various time formats\n\tconst dateRegex = /\\/(Date)\\((\\d+)\\)\\//;\n\tconst yyyymmddRegex = /^\\d{8}$/;\n\tconst isoRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|([+-])(\\d{2}):(\\d{2}))?$/;\n\n\tconst dateMatch = time.match(dateRegex);\n\tif (dateMatch) {\n\t\t// Time Format \"/Date(869080830000)/\"\n\t\treturn parseInt(dateMatch[2], 10);\n\t}\n\n\tif (yyyymmddRegex.test(time) && _isValidDate(time)) {\n\t\t// Time Format \"YYYYMMDD\" (Old TGW format)\n\t\tconst parsedDate = DateFormat.getDateInstance().parse(time);\n\t\treturn parsedDate instanceof Date ? parsedDate.getTime() : NaN;\n\t}\n\n\tconst isoMatch = time.match(isoRegex);\n\tif (isoMatch) {\n\t\t// Time Format \"2018-01-05T00:00:00\" (BPM and TGW-cloud format, UTC)\n\t\treturn new Date(time).getTime();\n\t}\n\n\treturn NaN;\n}\n\n/**\n * Format a date string to a custom date and time format.\n *\n * @private\n * @param {string} dateStr - The date string to format.\n * @param {string} pattern - The pattern to be used for formatting the date.\n * @returns {string} The formatted date string.\n */\nexport function formatDate(dateStr: string, pattern: string = Formatting.getDatePattern(\"short\") || \"dd/MM/yyyy\"): string {\n\tconst locale = new Locale(Formatting.getLanguageTag().language);\n\tconst dateFormat = DateFormat.getDateTimeInstance({ pattern }, locale);\n\tconst value = _getParsedTime(dateStr);\n\tlet formattedDate = \"\";\n\n\tif (!isNaN(value)) {\n\t\tformattedDate = dateFormat.format(new Date(value));\n\t}\n\n\treturn formattedDate;\n}\n\n/**\n * Convert a priority string to a corresponding priority value.\n *\n * @private\n * @param {TaskPriority} priority - The task priority string.\n * @returns {string} The corresponding priority value.\n */\nexport function getPriority(priority: TaskPriority): Priority {\n\tif (priority === TaskPriority.VERY_HIGH) {\n\t\treturn Priority.VeryHigh ? Priority.VeryHigh : Priority.None;\n\t} else if (priority === TaskPriority.HIGH) {\n\t\treturn Priority.High;\n\t} else if (priority === TaskPriority.MEDIUM) {\n\t\treturn Priority.Medium;\n\t} else if (priority === TaskPriority.LOW) {\n\t\treturn Priority.Low;\n\t} else {\n\t\treturn Priority.None;\n\t}\n}\n"],"mappings":"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","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":441,"column":0},"map":{"version":3,"names":["sap","ui","define","BaseObject","Container","UShellPersonalizer","extend","constructor","_constructor","persContainerId","oOwnerComponent","BaseObject.prototype.constructor.call","this","init","_init","_this","Promise","resolve","getServiceAsync","then","oPersonalizationService","oScope","keyCategory","constants","FIXED_KEY","writeFrequency","LOW","clientStorageAllowed","oPersId","container","item","oPersonalizer","getPersonalizer","e","reject","write","_write","oData","_this2","setPersData","read","_read","_this3","getPersData","oCacheInstances","getInstance","UShellPersonalizerInstance"],"sources":["UshellPersonalizer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport BaseObject from \"sap/ui/base/Object\";\nimport Container from \"sap/ushell/Container\";\nimport { IAppPersonalization } from \"../interface/AppsInterface\";\nimport { IPage } from \"../interface/PageSpaceInterface\";\n\ninterface IPersonalizer {\n\tgetPersData: () => Promise<IPersonalizationData>;\n\tsetPersData: (oData: object) => Promise<void>;\n}\n\nexport interface IPersonalizationData {\n\tfavNewsFeed?: { items: string[]; showAllPreparationRequired?: boolean };\n\tdefaultNewsFeed?: { items: string[] };\n\tfavouritePages?: IPage[] | [];\n\tfavoriteApps?: IAppPersonalization[];\n\tshowRecommendation?: boolean;\n}\n\n/**\n *\n * Provides the UshellPersonalizer Class used for fetch and update end user (Ushell) personalisation.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n * @private\n *\n * @alias sap.cux.home.utils.UshellPersonalizer\n */\nexport default class UShellPersonalizer extends BaseObject {\n\tprivate persContainerId: string;\n\tprivate oOwnerComponent: object;\n\tprivate oPersonalizer!: IPersonalizer;\n\tstatic oCacheInstances: { [key: string]: UShellPersonalizer } = {};\n\n\tprivate constructor(persContainerId: string, oOwnerComponent: object) {\n\t\tsuper();\n\t\tthis.persContainerId = persContainerId;\n\t\tthis.oOwnerComponent = oOwnerComponent;\n\t}\n\n\tstatic async getInstance(persContainerId: string, oOwnerComponent: object) {\n\t\tif (UShellPersonalizer.oCacheInstances[persContainerId]) {\n\t\t\treturn Promise.resolve(UShellPersonalizer.oCacheInstances[persContainerId]);\n\t\t}\n\t\tconst UShellPersonalizerInstance = new UShellPersonalizer(persContainerId, oOwnerComponent);\n\t\tawait UShellPersonalizerInstance.init();\n\t\tUShellPersonalizer.oCacheInstances[persContainerId] = UShellPersonalizerInstance;\n\t\treturn UShellPersonalizer.oCacheInstances[persContainerId];\n\t}\n\n\tpublic async init() {\n\t\tconst oPersonalizationService: {\n\t\t\t\tconstants: {\n\t\t\t\t\tkeyCategory: { FIXED_KEY: string };\n\t\t\t\t\twriteFrequency: { LOW: string };\n\t\t\t\t};\n\t\t\t\tgetPersonalizer: (id: { container: string; item: string }, oScope: object, oOwnerComponent: object) => IPersonalizer;\n\t\t\t} = await Container.getServiceAsync(\"Personalization\"),\n\t\t\toScope = {\n\t\t\t\tkeyCategory: oPersonalizationService?.constants?.keyCategory?.FIXED_KEY,\n\t\t\t\twriteFrequency: oPersonalizationService?.constants?.writeFrequency?.LOW,\n\t\t\t\tclientStorageAllowed: true\n\t\t\t},\n\t\t\toPersId = {\n\t\t\t\tcontainer: this.persContainerId,\n\t\t\t\titem: \"settings\"\n\t\t\t};\n\t\tthis.oPersonalizer = oPersonalizationService?.getPersonalizer(oPersId, oScope, this.oOwnerComponent);\n\t}\n\n\tpublic async write(oData: IPersonalizationData) {\n\t\tawait this.oPersonalizer?.setPersData(oData);\n\t\treturn \"success\";\n\t}\n\tpublic async read(): Promise<IPersonalizationData> {\n\t\tconst oData = await this.oPersonalizer?.getPersData();\n\t\treturn oData;\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,mDAAA,uDAAAC,EAAAC,GAAA,aAsBA,MAaqBC,EAA2BF,EAAUG,OAAA,yCAMjDC,YAAW,SAAAC,EAACC,EAAyBC,GAC5CC,6BAAAC,MACAA,KAAKH,gBAAkBA,EACvBG,KAAKF,gBAAkBA,CACxB,EAYaG,KAAI,SAAAC,IAAA,IAAG,MAAAC,EAcNH,KAAI,OAAAI,QAAAC,QAPNb,EAAUc,gBAAgB,oBAAkBC,KAAA,SANjDC,GAAN,MAOCC,EAAS,CACRC,YAAaF,GAAyBG,WAAWD,aAAaE,UAC9DC,eAAgBL,GAAyBG,WAAWE,gBAAgBC,IACpEC,qBAAsB,MAEvBC,EAAU,CACTC,UAAWd,EAAKN,gBAChBqB,KAAM,YAERf,EAAKgB,cAAgBX,GAAyBY,gBAAgBJ,EAASP,EAAQN,EAAKL,gBAAiB,EACtG,CAAC,MAAAuB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GAEYE,MAAK,SAAAC,EAACC,GAA2B,IAAE,MAAAC,EACzC1B,KAAI,OAAAI,QAAAC,QAAJqB,EAAKP,eAAeQ,YAAYF,IAAMlB,KAAA,WAC5C,MAAO,SAAU,EAClB,CAAC,MAAAc,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GACYO,KAAI,SAAAC,IAAA,IAAkC,MAAAC,EAC9B9B,KAAI,OAAAI,QAAAC,QAAJyB,EAAKX,eAAeY,cAEzC,CAAC,MAAAV,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,KAjDmB5B,EAIbuC,gBAAyD,CAAC,EAJ7CvC,EAYPwC,YAAW,SAAXA,EAAYpC,EAAyBC,GAAuB,IACxE,GAAIL,EAAmBuC,gBAAgBnC,GAAkB,CACxD,OAAOO,QAAQC,QAAQZ,EAAmBuC,gBAAgBnC,GAC3D,CACA,MAAMqC,EAA6B,IAAIzC,EAAmBI,EAAiBC,GAAiB,OAAAM,QAAAC,QACtF6B,EAA2BjC,QAAMM,KAAA,WACvCd,EAAmBuC,gBAAgBnC,GAAmBqC,EACtD,OAAOzC,EAAmBuC,gBAAgBnC,EAAiB,EAC5D,CAAC,MAAAwB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,UApBmB5B,CAAkB","ignoreList":[],"sourceRoot":"utils"}},{"offset":{"line":446,"column":0},"map":{"version":3,"names":["sap","ui","define","mobileLibrary","coreLibrary","Extension","ValueState","ValueColor","formatCriticality","sCriticality","sType","String","Error","Warning","Success","None","Critical","Good","Neutral","CardExtension","init","prototype","setFormatters","apply","this"],"sources":["CardExtension.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport mobileLibrary from \"sap/m/library\";\nimport coreLibrary from \"sap/ui/core/library\";\nimport Extension from \"sap/ui/integration/Extension\";\n\nconst ValueState = coreLibrary.ValueState;\nconst ValueColor = mobileLibrary.ValueColor;\nconst formatCriticality = (sCriticality: string, sType: string): string | undefined => {\n\tif (sType === \"state\") {\n\t\tswitch (String(sCriticality)) {\n\t\t\tcase \"1\":\n\t\t\tcase \"Error\":\n\t\t\t\treturn ValueState.Error;\n\t\t\tcase \"2\":\n\t\t\tcase \"Warning\":\n\t\t\t\treturn ValueState.Warning;\n\t\t\tcase \"3\":\n\t\t\tcase \"Success\":\n\t\t\t\treturn ValueState.Success;\n\t\t\tdefault:\n\t\t\t\treturn ValueState.None;\n\t\t}\n\t}\n\tif (sType === \"color\") {\n\t\tswitch (String(sCriticality)) {\n\t\t\tcase \"1\":\n\t\t\tcase \"Error\":\n\t\t\t\treturn ValueColor.Error;\n\t\t\tcase \"2\":\n\t\t\tcase \"Critical\":\n\t\t\t\treturn ValueColor.Critical;\n\t\t\tcase \"3\":\n\t\t\tcase \"Good\":\n\t\t\t\treturn ValueColor.Good;\n\t\t\tdefault:\n\t\t\t\treturn ValueColor.Neutral;\n\t\t}\n\t}\n};\n\nexport default class CardExtension extends Extension {\n\tinit(): void {\n\t\tExtension.prototype.setFormatters.apply(this, [\n\t\t\t{\n\t\t\t\tformatCriticality: formatCriticality\n\t\t\t}\n\t\t]);\n\t}\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,wDAAA,gFAAAC,EAAAC,EAAAC,GAAA,aAQA,MAAMC,EAAaF,EAAYE,WAC/B,MAAMC,EAAaJ,EAAcI,WACjC,MAAMC,EAAoBA,CAACC,EAAsBC,KAChD,GAAIA,IAAU,QAAS,CACtB,OAAQC,OAAOF,IACd,IAAK,IACL,IAAK,QACJ,OAAOH,EAAWM,MACnB,IAAK,IACL,IAAK,UACJ,OAAON,EAAWO,QACnB,IAAK,IACL,IAAK,UACJ,OAAOP,EAAWQ,QACnB,QACC,OAAOR,EAAWS,KAErB,CACA,GAAIL,IAAU,QAAS,CACtB,OAAQC,OAAOF,IACd,IAAK,IACL,IAAK,QACJ,OAAOF,EAAWK,MACnB,IAAK,IACL,IAAK,WACJ,OAAOL,EAAWS,SACnB,IAAK,IACL,IAAK,OACJ,OAAOT,EAAWU,KACnB,QACC,OAAOV,EAAWW,QAErB,GAGc,MAAMC,UAAsBd,EAC1Ce,OACCf,EAAUgB,UAAUC,cAAcC,MAAMC,KAAM,CAC7C,CACChB,kBAAmBA,IAGtB,EACA,OAAAW,CAAA","ignoreList":[],"sourceRoot":"utils/extension"}},{"offset":{"line":451,"column":0},"map":{"version":3,"names":["sap","ui","define","getAppsPlaceholder","__exports","__esModule"],"sources":["AppsPlaceholder.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport function getAppsPlaceholder(): string {\n\treturn `\n        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding\" style=\"background-color:transparent\">\n            <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM\" style=\"width: 225px;\"></div>\n            <div class=\"plPHPCardContainer\" style=\"background-color:white\">\n                <div class=\"plPHPCard plPHPCardVersion4 PHPContentCard8\">\n                    <div class=\"plPHPCardHeader\"></div>\n                    <div class=\"plPHPCardContent\">\n                        <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeM\">\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeL\">\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeXL\">\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                                <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare\">\n                                    </div>\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine\"\n                                            style=\"width: 100%;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,4DAAA,2BAIO,SAASC,IACf,MAAO,m/qBAqPR,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAD,qBAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"utils/placeholder"}},{"offset":{"line":456,"column":0},"map":{"version":3,"names":["sap","ui","define","getInsightsPlaceholder","__exports","__esModule"],"sources":["InsightsPlaceholder.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport function getInsightsPlaceholder(): string {\n\treturn `\n        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM\" style=\"width: 225px;\"></div>\n        <div class='plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding' style=\"background-color:transparent\">\n            <div class=\"pInsightsTilesContainer\">\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard pInsightsTiles\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"plOVPCardContainer\">\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeS\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeM\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion3 OVPContentCard6 plSmallestVisibleSizeM\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeM\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeL\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeL\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeXL\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeXL\" style=\"background-color:white\">\n                    <div class=\"plOVPCardHeader\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 100px;\"></div>\n                            <div class=\"plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop\">\n                                <div class=\"plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar\" style=\"width: 120px; height: 40px; background-size: 900px 900px;\"></div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 50px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem\" style=\"width: 30px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText\" style=\"width: 80px;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plOVPCardContent\">\n                        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\">\n                            <div class=\"plBarChart\">\n                                <div style=\"vertical-align: inherit;\">\n                                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart\">\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 160px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 120px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem\" style=\"width: 90px;\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,gEAAA,2BAIO,SAASC,IACf,MAAO,w+oCAiYR,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAD,yBAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"utils/placeholder"}},{"offset":{"line":461,"column":0},"map":{"version":3,"names":["sap","ui","define","getNewsPagesPlaceholder","__exports","__esModule"],"sources":["NewsAndPagesPlaceholder.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport function getNewsPagesPlaceholder(): string {\n\treturn `\n    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding\" style=\"background-color:transparent\">\n        <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM\" style=\"width: 225px;\">\n        </div>\n        <div class=\"plPHPCardContainer plSectionMarginBottom\">\n            <div class=\"plPHPCard plPHPCardVersion2 PHPContentCard5 sapUiNoMarginTop\" style=\"background-color:white\">\n                <div class=\"plPHPCardHeader\">\n                    <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop\"></div>\n                </div>\n                <div class=\"plPHPCardContent\">\n                    <div style=\"vertical-align: inherit;\">\n                        <div\n                            class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer\">\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                style=\"width: 100%;\"></div>\n                            <div class=\"plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                style=\"width: 80%;\"></div>\n                        </div>\n                    </div>\n                    <div class=\"plHorizontalLayout plHorizontalContent plTextAlignEnd plVerticalAlignBottom\">\n                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardFooterText\"\n                            style=\"width: 80px;\"></div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"plPHPCardVersion3 PHPContentCard6 sapUiNoMarginTop plSmallestVisibleSizeL\">\n                <div class=\"plPHPCardHeader\"></div>\n                <div class=\"plPHPCardContent\">\n                    <div\n                        class=\"plVerticalLayout plVerticalContent plTextAlignplPHPCardContentContainer plVerticalAlignTop\">\n                        <div class=\"plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop\">\n                            <div style=\"vertical-align: inherit; background-color:white;\" class=\"plPHPCard\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                            <div style=\"vertical-align: inherit; background-color:white;\" class=\"plPHPCard\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop\">\n                            <div style=\"vertical-align: inherit; background-color:white;\" class=\"plPHPCard\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                            <div style=\"vertical-align: inherit; background-color:white;\" class=\"plPHPCard\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"plPHPCard plPHPCardVersion3 PHPContentCard7 sapUiNoMarginTop plSmallestVisibleSizeL\">\n                <div class=\"plPHPCardHeader\"></div>\n                <div class=\"plPHPCardContent\">\n                    <div\n                        class=\"plVerticalLayout plVerticalContent plTextAlignplPHPCardContentContainer plVerticalAlignTop\">\n                        <div class=\"plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop\">\n                            <div style=\"vertical-align: inherit; background-color:white;\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                            <div style=\"vertical-align: inherit; background-color:white;\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop\">\n                            <div style=\"vertical-align: inherit; background-color:white;\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                            <div style=\"vertical-align: inherit; background-color:white;\">\n                                <div\n                                    class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer\">\n                                    <div\n                                        class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem\">\n                                    </div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                    <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                        style=\"width: 100%;\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,oEAAA,2BAIO,SAASC,IACf,MAAO,ulXAoJR,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAD,0BAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"utils/placeholder"}},{"offset":{"line":466,"column":0},"map":{"version":3,"names":["sap","ui","define","getTodosPlaceholder","__exports","__esModule"],"sources":["ToDosPlaceholder.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nexport function getTodosPlaceholder(): string {\n\treturn `\n        <div class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding\" style=\"background-color:transparent\">\n            <div class=\"plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plPHPCardHeaderText\" style=\"width: 225px;\">\n            </div>\n            <div class=\"plPHPCardContainer plPHPCardContainerOverflowHidden plSectionMarginBottom\">\n                <div class=\"plPHPCard plPHPCardVersion1 PHPContentCard1\" style=\"background-color:white\">\n                    <div class=\"plPHPCardHeader\">\n                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText\"\n                            style=\"width: 100%;\"></div>\n                    </div>\n                    <div class=\"plPHPCardContent\">\n                        <div style=\"vertical-align: inherit;\">\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer\">\n                                <div class=\"plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                    style=\"width: 80%;\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plPHPCard plPHPCardVersion1 PHPContentCard2\" style=\"background-color:white\">\n                    <div class=\"plPHPCardHeader\">\n                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText\"\n                            style=\"width: 100%;\"></div>\n                    </div>\n                    <div class=\"plPHPCardContent\">\n                        <div style=\"vertical-align: inherit;\">\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer\">\n                                <div class=\"plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                    style=\"width: 80%;\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plPHPCard plPHPCardVersion1 PHPContentCard3 plSmallestVisibleSizeL\" style=\"background-color:white\">\n                    <div class=\"plPHPCardHeader\">\n                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText\"\n                            style=\"width: 100%;\"></div>\n                    </div>\n                    <div class=\"plPHPCardContent\">\n                        <div style=\"vertical-align: inherit;\">\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer\">\n                                <div class=\"plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                    style=\"width: 80%;\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"plPHPCard plPHPCardVersion1 PHPContentCard4 plSmallestVisibleSizeXL\" style=\"background-color:white\">\n                    <div class=\"plPHPCardHeader\">\n                        <div class=\"plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText\"\n                            style=\"width: 100%;\"></div>\n                    </div>\n                    <div class=\"plPHPCardContent\">\n                        <div style=\"vertical-align: inherit;\">\n                            <div\n                                class=\"plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer\">\n                                <div class=\"plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem\"\n                                    style=\"width: 80%;\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n}\n"],"mappings":"AAAA;;;;AAAAA,IAAAC,GAAAC,6DAAA,2BAIO,SAASC,IACf,MAAO,i3IAoER,CAAC,IAAAC,EAAA,CAAAC,WAAA,MAAAD,EAAAD,sBAAA,OAAAC,CAAA","ignoreList":[],"sourceRoot":"utils/placeholder"}},{"offset":{"line":471,"column":0},"map":{"version":3,"names":[],"sources":["library-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":473,"column":0},"map":{"version":3,"file":"AppsInterface.js","names":[],"sources":[],"mappings":"","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":476,"column":0},"map":{"version":3,"file":"KeyUserInterface.js","names":[],"sources":[],"mappings":"","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":479,"column":0},"map":{"version":3,"file":"LayoutInterface.js","names":[],"sources":[],"mappings":"","ignoreList":[],"sourceRoot":"interface"}},{"offset":{"line":482,"column":0},"map":{"version":3,"file":"PageSpaceInterface.js","names":[],"sources":[],"mappings":"","ignoreList":[],"sourceRoot":"interface"}}]}