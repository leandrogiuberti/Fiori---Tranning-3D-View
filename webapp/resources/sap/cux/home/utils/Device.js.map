{"version":3,"file":"Device.js","names":["sap","ui","define","Device","DeviceWidth","Mobile","Tablet","Desktop","LargeDesktop","DeviceType","calculateDeviceType","width","resize","system","phone","XLargeDesktop","fetchElementProperties","domRef","properties","oProperties","forEach","property","parseFloat","window","getComputedStyle","getPropertyValue","calculateCardWidth","cardLayoutConfig","gap","skipDeviceCheck","peekWidth","totalCards","Math","max","minWidth","min","containerWidth","maxWidth","mainCardWidth","cardCountToUse","totalGap","twoCardWidth","possibleCardCount","cardWidth","__exports","__esModule"],"sources":["Device.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Device from \"sap/ui/Device\";\n\ninterface CardLayoutConfig {\n\tgap: number;\n\tcontainerWidth: number;\n\ttotalCards: number;\n\tminWidth: number;\n\tmaxWidth: number;\n\tskipDeviceCheck?: boolean;\n}\n\n/** Device widths in px */\nconst DeviceWidth = {\n\tMobile: 600,\n\tTablet: 1024,\n\tDesktop: 1135,\n\tLargeDesktop: 1920\n};\n\nexport enum DeviceType {\n\tMobile = \"Mobile\",\n\tTablet = \"Tablet\",\n\tDesktop = \"Desktop\",\n\tLargeDesktop = \"LargeDesktop\",\n\tXLargeDesktop = \"XLargeDesktop\"\n}\n\n/**\n * Calculates the device type based on the given width.\n *\n * @param {number} [width=Device.resize.width] - The width of the device. Defaults to the current device width.\n * @returns {DeviceType} - The calculated device type.\n */\nexport function calculateDeviceType(width: number = Device.resize.width): DeviceType {\n\tif (width < DeviceWidth.Mobile || Device.system.phone) {\n\t\treturn DeviceType.Mobile;\n\t} else if (width < DeviceWidth.Tablet) {\n\t\treturn DeviceType.Tablet;\n\t} else if (width < DeviceWidth.Desktop) {\n\t\treturn DeviceType.Desktop;\n\t} else if (width < DeviceWidth.LargeDesktop) {\n\t\treturn DeviceType.LargeDesktop;\n\t} else {\n\t\treturn DeviceType.XLargeDesktop;\n\t}\n}\n\n/**\n * Fetches the specified CSS properties of a given DOM element and returns them as a record.\n *\n * @param {Element} domRef - The DOM element from which to fetch the properties.\n * @param {string[]} properties - An array of property names to fetch.\n * @returns {Record<string, number>} - A record where the keys are property names and the values are the corresponding property values as numbers.\n */\nexport function fetchElementProperties(domRef: Element, properties: string[]): Record<string, number> {\n\tconst oProperties: Record<string, number> = {};\n\tproperties.forEach((property) => {\n\t\toProperties[property] = parseFloat(window.getComputedStyle(domRef).getPropertyValue(property));\n\t});\n\n\treturn oProperties;\n}\n\n/**\n * Calculates the card width based on the available width and certain constraints.\n *\n * @param {CardLayoutConfig} cardLayoutConfig - Card layout configuration containing container width, no. of cards, min and max width.\n * @returns {number} The calculated card width within specified constraints.\n */\nexport function calculateCardWidth(cardLayoutConfig: CardLayoutConfig): number {\n\tconst gap = cardLayoutConfig.gap;\n\n\tif (calculateDeviceType() === DeviceType.Mobile && !cardLayoutConfig.skipDeviceCheck) {\n\t\tconst peekWidth = 76;\n\t\tif (cardLayoutConfig.totalCards === 1) {\n\t\t\t// Single card: full width, constrained\n\t\t\treturn Math.max(cardLayoutConfig.minWidth, Math.min(cardLayoutConfig.containerWidth, cardLayoutConfig.maxWidth));\n\t\t} else {\n\t\t\t// Calculate width of the first card, reserving space for the peek of the second\n\t\t\tconst mainCardWidth = cardLayoutConfig.containerWidth - peekWidth;\n\t\t\t// Clamp to min/max width\n\t\t\treturn Math.max(cardLayoutConfig.minWidth, Math.min(mainCardWidth, cardLayoutConfig.maxWidth));\n\t\t}\n\t}\n\n\tlet cardCountToUse: number;\n\n\t// Tablet mode: width between 600 and 1023\n\tif (calculateDeviceType() === DeviceType.Tablet && cardLayoutConfig.totalCards > 1 && !cardLayoutConfig.skipDeviceCheck) {\n\t\tconst totalGap = gap; // gap between 2 cards\n\t\tconst twoCardWidth = (cardLayoutConfig.containerWidth - totalGap) / 2;\n\n\t\tif (twoCardWidth >= cardLayoutConfig.minWidth && twoCardWidth <= cardLayoutConfig.maxWidth) {\n\t\t\tcardCountToUse = 2;\n\t\t} else {\n\t\t\tcardCountToUse = 1;\n\t\t}\n\t} else {\n\t\t// Step 1: How many cards *can* fit based on minWidth\n\t\tlet possibleCardCount = 1;\n\t\twhile (cardLayoutConfig.containerWidth / possibleCardCount >= cardLayoutConfig.minWidth + gap) {\n\t\t\tpossibleCardCount++;\n\t\t}\n\t\tpossibleCardCount--; // Last valid value\n\t\t// Step 2: If we have fewer cards than we *can* fit, stretch them\n\t\tcardCountToUse = cardLayoutConfig.skipDeviceCheck\n\t\t\t? Math.min(possibleCardCount, cardLayoutConfig.totalCards)\n\t\t\t: Math.max(Math.min(possibleCardCount, cardLayoutConfig.totalCards), Math.min(cardLayoutConfig.totalCards, 3));\n\t}\n\tif (cardCountToUse <= 0) return cardLayoutConfig.minWidth;\n\tconst totalGap = (cardCountToUse - 1) * gap;\n\tconst cardWidth = (cardLayoutConfig.containerWidth - totalGap) / cardCountToUse;\n\treturn Math.min(Math.max(cardWidth, cardLayoutConfig.minWidth), cardLayoutConfig.maxWidth);\n}\n"],"mappings":";;;;AAAAA,IAAAC,GAAAC,OAAA,2BAAAC,GAAA,aAiBA,MAAMC,EAAc,CACnBC,OAAQ,IACRC,OAAQ,KACRC,QAAS,KACTC,aAAc,MACb,IAEUC,EAAU,SAAVA,KAAU,mBAAVA,EAAU,mBAAVA,EAAU,qBAAVA,EAAU,+BAAVA,EAAU,wCAAVA,CAAU,EAAVA,GAAU,IAcf,SAASC,EAAoBC,EAAgBR,EAAOS,OAAOD,OACjE,GAAIA,EAAQP,EAAYC,QAAUF,EAAOU,OAAOC,MAAO,CACtD,OAAOL,EAAWJ,MACnB,MAAO,GAAIM,EAAQP,EAAYE,OAAQ,CACtC,OAAOG,EAAWH,MACnB,MAAO,GAAIK,EAAQP,EAAYG,QAAS,CACvC,OAAOE,EAAWF,OACnB,MAAO,GAAII,EAAQP,EAAYI,aAAc,CAC5C,OAAOC,EAAWD,YACnB,KAAO,CACN,OAAOC,EAAWM,aACnB,CACD,CASO,SAASC,EAAuBC,EAAiBC,GACvD,MAAMC,EAAsC,CAAC,EAC7CD,EAAWE,QAASC,IACnBF,EAAYE,GAAYC,WAAWC,OAAOC,iBAAiBP,GAAQQ,iBAAiBJ,MAGrF,OAAOF,CACR,CAQO,SAASO,EAAmBC,GAClC,MAAMC,EAAMD,EAAiBC,IAE7B,GAAIlB,MAA0BD,EAAWJ,SAAWsB,EAAiBE,gBAAiB,CACrF,MAAMC,EAAY,GAClB,GAAIH,EAAiBI,aAAe,EAAG,CAEtC,OAAOC,KAAKC,IAAIN,EAAiBO,SAAUF,KAAKG,IAAIR,EAAiBS,eAAgBT,EAAiBU,UACvG,KAAO,CAEN,MAAMC,EAAgBX,EAAiBS,eAAiBN,EAExD,OAAOE,KAAKC,IAAIN,EAAiBO,SAAUF,KAAKG,IAAIG,EAAeX,EAAiBU,UACrF,CACD,CAEA,IAAIE,EAGJ,GAAI7B,MAA0BD,EAAWH,QAAUqB,EAAiBI,WAAa,IAAMJ,EAAiBE,gBAAiB,CACxH,MAAMW,EAAWZ,EACjB,MAAMa,GAAgBd,EAAiBS,eAAiBI,GAAY,EAEpE,GAAIC,GAAgBd,EAAiBO,UAAYO,GAAgBd,EAAiBU,SAAU,CAC3FE,EAAiB,CAClB,KAAO,CACNA,EAAiB,CAClB,CACD,KAAO,CAEN,IAAIG,EAAoB,EACxB,MAAOf,EAAiBS,eAAiBM,GAAqBf,EAAiBO,SAAWN,EAAK,CAC9Fc,GACD,CACAA,IAEAH,EAAiBZ,EAAiBE,gBAC/BG,KAAKG,IAAIO,EAAmBf,EAAiBI,YAC7CC,KAAKC,IAAID,KAAKG,IAAIO,EAAmBf,EAAiBI,YAAaC,KAAKG,IAAIR,EAAiBI,WAAY,GAC7G,CACA,GAAIQ,GAAkB,EAAG,OAAOZ,EAAiBO,SACjD,MAAMM,GAAYD,EAAiB,GAAKX,EACxC,MAAMe,GAAahB,EAAiBS,eAAiBI,GAAYD,EACjE,OAAOP,KAAKG,IAAIH,KAAKC,IAAIU,EAAWhB,EAAiBO,UAAWP,EAAiBU,SAClF,CAAC,IAAAO,EAAA,CAAAC,WAAA,MAAAD,EAAAnC,aAAAmC,EAAAlC,sBAAAkC,EAAA5B,yBAAA4B,EAAAlB,qBAAA,OAAAkB,CAAA","ignoreList":[]}