/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/base/Object","sap/ushell/Container"],function(e,t){"use strict";const n=e.extend("sap.cux.home.utils.UshellPersonalizer",{constructor:function t(n,r){e.prototype.constructor.call(this);this.persContainerId=n;this.oOwnerComponent=r},init:function e(){try{const e=this;return Promise.resolve(t.getServiceAsync("Personalization")).then(function(t){const n={keyCategory:t?.constants?.keyCategory?.FIXED_KEY,writeFrequency:t?.constants?.writeFrequency?.LOW,clientStorageAllowed:true},r={container:e.persContainerId,item:"settings"};e.oPersonalizer=t?.getPersonalizer(r,n,e.oOwnerComponent)})}catch(e){return Promise.reject(e)}},write:function e(t){try{const e=this;return Promise.resolve(e.oPersonalizer?.setPersData(t)).then(function(){return"success"})}catch(e){return Promise.reject(e)}},read:function e(){try{const e=this;return Promise.resolve(e.oPersonalizer?.getPersData())}catch(e){return Promise.reject(e)}}});n.oCacheInstances={};n.getInstance=function e(t,r){try{if(n.oCacheInstances[t]){return Promise.resolve(n.oCacheInstances[t])}const e=new n(t,r);return Promise.resolve(e.init()).then(function(){n.oCacheInstances[t]=e;return n.oCacheInstances[t]})}catch(e){return Promise.reject(e)}};return n});
//# sourceMappingURL=UshellPersonalizer.js.map