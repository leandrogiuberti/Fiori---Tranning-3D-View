{"version":3,"file":"UshellPersonalizer.js","names":["sap","ui","define","BaseObject","Container","UShellPersonalizer","extend","constructor","_constructor","persContainerId","oOwnerComponent","BaseObject.prototype.constructor.call","this","init","_init","_this","Promise","resolve","getServiceAsync","then","oPersonalizationService","oScope","keyCategory","constants","FIXED_KEY","writeFrequency","LOW","clientStorageAllowed","oPersId","container","item","oPersonalizer","getPersonalizer","e","reject","write","_write","oData","_this2","setPersData","read","_read","_this3","getPersData","oCacheInstances","getInstance","UShellPersonalizerInstance"],"sources":["UshellPersonalizer.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport BaseObject from \"sap/ui/base/Object\";\nimport Container from \"sap/ushell/Container\";\nimport { IAppPersonalization } from \"../interface/AppsInterface\";\nimport { IPage } from \"../interface/PageSpaceInterface\";\n\ninterface IPersonalizer {\n\tgetPersData: () => Promise<IPersonalizationData>;\n\tsetPersData: (oData: object) => Promise<void>;\n}\n\nexport interface IPersonalizationData {\n\tfavNewsFeed?: { items: string[]; showAllPreparationRequired?: boolean };\n\tdefaultNewsFeed?: { items: string[] };\n\tfavouritePages?: IPage[] | [];\n\tfavoriteApps?: IAppPersonalization[];\n\tshowRecommendation?: boolean;\n}\n\n/**\n *\n * Provides the UshellPersonalizer Class used for fetch and update end user (Ushell) personalisation.\n *\n * @extends sap.ui.BaseObject\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n * @private\n *\n * @alias sap.cux.home.utils.UshellPersonalizer\n */\nexport default class UShellPersonalizer extends BaseObject {\n\tprivate persContainerId: string;\n\tprivate oOwnerComponent: object;\n\tprivate oPersonalizer!: IPersonalizer;\n\tstatic oCacheInstances: { [key: string]: UShellPersonalizer } = {};\n\n\tprivate constructor(persContainerId: string, oOwnerComponent: object) {\n\t\tsuper();\n\t\tthis.persContainerId = persContainerId;\n\t\tthis.oOwnerComponent = oOwnerComponent;\n\t}\n\n\tstatic async getInstance(persContainerId: string, oOwnerComponent: object) {\n\t\tif (UShellPersonalizer.oCacheInstances[persContainerId]) {\n\t\t\treturn Promise.resolve(UShellPersonalizer.oCacheInstances[persContainerId]);\n\t\t}\n\t\tconst UShellPersonalizerInstance = new UShellPersonalizer(persContainerId, oOwnerComponent);\n\t\tawait UShellPersonalizerInstance.init();\n\t\tUShellPersonalizer.oCacheInstances[persContainerId] = UShellPersonalizerInstance;\n\t\treturn UShellPersonalizer.oCacheInstances[persContainerId];\n\t}\n\n\tpublic async init() {\n\t\tconst oPersonalizationService: {\n\t\t\t\tconstants: {\n\t\t\t\t\tkeyCategory: { FIXED_KEY: string };\n\t\t\t\t\twriteFrequency: { LOW: string };\n\t\t\t\t};\n\t\t\t\tgetPersonalizer: (id: { container: string; item: string }, oScope: object, oOwnerComponent: object) => IPersonalizer;\n\t\t\t} = await Container.getServiceAsync(\"Personalization\"),\n\t\t\toScope = {\n\t\t\t\tkeyCategory: oPersonalizationService?.constants?.keyCategory?.FIXED_KEY,\n\t\t\t\twriteFrequency: oPersonalizationService?.constants?.writeFrequency?.LOW,\n\t\t\t\tclientStorageAllowed: true\n\t\t\t},\n\t\t\toPersId = {\n\t\t\t\tcontainer: this.persContainerId,\n\t\t\t\titem: \"settings\"\n\t\t\t};\n\t\tthis.oPersonalizer = oPersonalizationService?.getPersonalizer(oPersId, oScope, this.oOwnerComponent);\n\t}\n\n\tpublic async write(oData: IPersonalizationData) {\n\t\tawait this.oPersonalizer?.setPersData(oData);\n\t\treturn \"success\";\n\t}\n\tpublic async read(): Promise<IPersonalizationData> {\n\t\tconst oData = await this.oPersonalizer?.getPersData();\n\t\treturn oData;\n\t}\n}\n"],"mappings":";;;;AAAAA,IAAAC,GAAAC,OAAA,uDAAAC,EAAAC,GAAA,aAsBA,MAaqBC,EAA2BF,EAAUG,OAAA,yCAMjDC,YAAW,SAAAC,EAACC,EAAyBC,GAC5CC,6BAAAC,MACAA,KAAKH,gBAAkBA,EACvBG,KAAKF,gBAAkBA,CACxB,EAYaG,KAAI,SAAAC,IAAA,IAAG,MAAAC,EAcNH,KAAI,OAAAI,QAAAC,QAPNb,EAAUc,gBAAgB,oBAAkBC,KAAA,SANjDC,GAAN,MAOCC,EAAS,CACRC,YAAaF,GAAyBG,WAAWD,aAAaE,UAC9DC,eAAgBL,GAAyBG,WAAWE,gBAAgBC,IACpEC,qBAAsB,MAEvBC,EAAU,CACTC,UAAWd,EAAKN,gBAChBqB,KAAM,YAERf,EAAKgB,cAAgBX,GAAyBY,gBAAgBJ,EAASP,EAAQN,EAAKL,gBAAiB,EACtG,CAAC,MAAAuB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GAEYE,MAAK,SAAAC,EAACC,GAA2B,IAAE,MAAAC,EACzC1B,KAAI,OAAAI,QAAAC,QAAJqB,EAAKP,eAAeQ,YAAYF,IAAMlB,KAAA,WAC5C,MAAO,SAAU,EAClB,CAAC,MAAAc,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,GACYO,KAAI,SAAAC,IAAA,IAAkC,MAAAC,EAC9B9B,KAAI,OAAAI,QAAAC,QAAJyB,EAAKX,eAAeY,cAEzC,CAAC,MAAAV,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,KAjDmB5B,EAIbuC,gBAAyD,CAAC,EAJ7CvC,EAYPwC,YAAW,SAAXA,EAAYpC,EAAyBC,GAAuB,IACxE,GAAIL,EAAmBuC,gBAAgBnC,GAAkB,CACxD,OAAOO,QAAQC,QAAQZ,EAAmBuC,gBAAgBnC,GAC3D,CACA,MAAMqC,EAA6B,IAAIzC,EAAmBI,EAAiBC,GAAiB,OAAAM,QAAAC,QACtF6B,EAA2BjC,QAAMM,KAAA,WACvCd,EAAmBuC,gBAAgBnC,GAAmBqC,EACtD,OAAOzC,EAAmBuC,gBAAgBnC,EAAiB,EAC5D,CAAC,MAAAwB,GAAA,OAAAjB,QAAAkB,OAAAD,EAAA,UApBmB5B,CAAkB","ignoreList":[]}