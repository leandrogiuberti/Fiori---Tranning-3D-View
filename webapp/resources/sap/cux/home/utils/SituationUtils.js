/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/i18n/Formatting","sap/base/Log","sap/fe/navigation/NavigationHandler","sap/fe/navigation/SelectionVariant","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataModel"],function(t,e,a,n,i,r,o){"use strict";let c;let s;let u;const m=()=>{if(!c){const e=t.getDatePattern("medium")||"dd/MM/yyyy";c=i.getDateInstance({pattern:e})}return c};const S=()=>{if(!s){s=r.getFloatInstance({decimalSeparator:t.getNumberSymbol("decimal")||".",groupingSeparator:t.getNumberSymbol("group")||",",groupingEnabled:true})}return s};const l=(t,e=[])=>{if(!t?.split){return t}let a=t.replaceAll("\n"," ");e.forEach(t=>{if(t.SitnInstceAttribName?.length>0){const e=`0${t.SitnInstceAttribSource}`;const n=`${e}.${t.SitnInstceAttribName}`;const i=t._InstanceAttributeValue.reduce(function(e,a){if(a.SitnInstceAttribSource===t.SitnInstceAttribSource&&a.SitnInstceAttribName===t.SitnInstceAttribName){e.push(a)}return e},[]);const r=[];i.forEach(e=>{let a=e?.SitnInstceAttribValue?.trim()||"";let n;switch(t.SitnInstceAttribEntityType){case"Edm.DateTime":n=m().format(m().parse(a));break;case"Edm.Decimal":if(a.endsWith("-")){a=`-${a.substring(0,a.length-1)}`}n=S().format(Number(a));break;default:n=a}r.push(n)});a=a.split(`{${n}}`).join(r.join(", "))}});return a};function f(t,e){return new Promise((i,r)=>{const o=new a(e);const c=new n;t._NavigationParam?.map(function(t){if(t.SituationNotifParamName){c.addSelectOption(t.SituationNotifParamName,"I","EQ",t.SituationNotifParameterVal)}});const s=c.toJSONString();o.navigate(t.SitnSemanticObject,t.SitnSemanticObjectAction,s,i,t=>r(t))})}function b(t,a){try{if(a==="1"){const e=g().bindContext(`/Navigation/${t}`,undefined,{$expand:{_NavigationParam:{$select:["SituationNotifParamName","SituationNotifParameterVal"]}},$select:["SitnInstanceID","SitnSemanticObject","SitnSemanticObjectAction"]});return e.requestObject()}else{return Promise.resolve({SitnInstanceID:t,SitnSemanticObject:"SituationInstance",SitnSemanticObjectAction:"display",_NavigationParam:[{SituationNotifParamName:"ui-type",SituationNotifParameterVal:"extended"},{SituationNotifParamName:"SitnInstceKey",SituationNotifParameterVal:t}]})}}catch(t){e.error(t instanceof Error?t.message:"")}}function g(){if(!u){u=new o({serviceUrl:"/sap/opu/odata4/sap/a_sitn2mblinstce_v4/srvd/sap/a_sitn2mblinstce_srv/0002/"})}return u}var p={__esModule:true};p.getSituationMessage=l;p.executeNavigation=f;p.fetchNavigationTargetData=b;return p});
//# sourceMappingURL=SituationUtils.js.map