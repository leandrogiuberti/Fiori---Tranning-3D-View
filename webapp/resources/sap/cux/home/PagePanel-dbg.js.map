{"version":3,"file":"PagePanel-dbg.js","names":["sap","ui","define","Button","FlexBox","GenericTile","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","sap_m_library","EventBus","__BasePagePanel","__MenuItem","__Page","___utils_CommonUtils","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","LoadState","BasePagePanel","MenuItem","Page","getPageManagerInstance","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","recycleId","DeviceType","attachKeyboardHandler","focusDraggedItem","addFESRId","addFESRSemanticStepName","PersonalisationUtils","UShellPersonalizer","tileSizes","Mobile","maxWidth","minWidth","Tablet","Desktop","LargeDesktop","XLargeDesktop","smallTabletMinWidth","mobileOneTileLimit","maxTileCOunt","maxRowCount","CustomFlexBox","extend","renderer","apiVersion","metadata","library","aggregations","items","type","multiple","singularName","dnd","draggable","droppable","constructor","_constructor","id","settings","FlexBox.prototype.constructor.call","PagePanel","properties","title","group","visibility","key","pages","_constructor2","BasePagePanel.prototype.constructor.call","init","_init","_this","BasePagePanel.prototype.init.call","_oWrapperFlexBox","getId","justifyContent","height","width","direction","renderType","wrap","getPlaceholderPageTiles","addStyleClass","getDeviceType","_pageWrapper","addContent","setProperty","_i18nBundle","getText","menuItem","icon","press","_handleEditPages","addAggregation","oEventBus","getInstance","subscribe","sChannelId","sEventId","oData","aFavPages","Promise","resolve","writeFavPagesIntoPers","then","_getInnerControls","_importdone","e","reject","getData","stateData","status","publish","_getData","forceUpdate","_this2","_temp2","fireEvent","oPagePromise","_temp","undefined","_getPageManagerInstance","getFavoritePages","parent","getParent","_getLayout","openSettingsDialog","PAGES","_getPlaceholderPageTiles","placeholderArray","Array","fill","Loading","placeholderTiles","map","tileState","index","sizeBehavior","state","frameType","mode","visible","renderOnThemeChange","ariaRole","dropAreaOffset","attachResizeHandler","_attachResizeHandler","isNewsTileVisible","containerWidth","pagesContentWrapper","favPagesCount","length","deviceType","domRefClientWidth","tileWidth","hBoxWidth","finalTilesWidth","wrapperWidth","gap","setWidth","pagesPerRow","calculatePagesPerRow","maxTileWidth","minTileWidth","Math","min","max","_setPropertyValues","pagesTileWidth","err","Error","getUserAvailablePages","_getUserAvailablePages","_this3","fetchAllAvailablePages","_calculatePagesPerRow","isNewsFeedVisible","ceil","myFavPage","oInnerControls","oParent","forEach","oPage","push","subTitle","spaceTitle","bgColor","BGColor","pageId","spaceId","url","oFav","index2","header","getTitle","subheader","getSubTitle","onPageTilePress","backgroundColor","getBgColor","tileIcon","getIcon","getProperty","setAlignItems","dndConfigs","getDragDropConfig","panelLoadedFn","loaded","count","_setFavPagesContent","addDragDropConfigTo","oEvent","_handlePageDnd","removeAllDragDropConfig","dndConfig","destroy","_setNoPageContent","removeAggregation","removeAllItems","removeStyleClass","oTile","addItem","_createNoPageContent","_oIllusMsg","illustrationSize","Small","illustrationType","NoSavedItems","description","oAddPageBtn","text","tooltip","oWrapperNoPageVBox","backgroundDesign","addAdditionalContent","oVal","propNames","Object","keys","sProperty","_this4","sInsertPosition","getParameter","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_temp3","_DragnDropPages","_this5","oItemMoved","splice","updateTileOrder","_updateTileOrder","dragIndex","dropIndex","draggedItem","_writeFavPagesIntoPers","favPages","_this6","_temp5","oPersonalizer","read","oPersData","favouritePages","write","_temp4","getPersContainerId","getOwnerComponent","_UShellPersonalizer$g","applyColorPersonalizations","_applyColorPersonalizations","personalizations","applyIconPersonalizations","_applyIconPersonalizations","pageManagerInstance","getPageWrapper","_getPageWrapper"],"sources":["PagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexBox, { $FlexBoxSettings } from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport type { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport BasePagePanel from \"./BasePagePanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport Page from \"./Page\";\nimport { ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler, focusDraggedItem } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nconst tileSizes = {\n\tMobile: {\n\t\tmaxWidth: 37.5,\n\t\tminWidth: 8\n\t},\n\tTablet: {\n\t\tmaxWidth: 60,\n\t\tminWidth: 10.625\n\t},\n\tDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tXLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tsmallTabletMinWidth: 8\n};\n\nconst mobileOneTileLimit = 3;\nconst maxTileCOunt = 8;\nconst maxRowCount = 4;\n\n/**\n *\n * CustomFlexBox extending FlexBox to enable drag & drop.\n *\n * @extends sap.m.FlexBox\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n * @private\n *\n * @alias sap.cux.home.CustomFlexBox\n */\nclass CustomFlexBox extends FlexBox {\n\tconstructor(idOrSettings?: string | $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\titems: { type: \"sap.ui.core.Control\", multiple: true, singularName: \"item\", dnd: { draggable: true, droppable: true } }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n}\n\n/**\n *\n * Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePagePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.PagePanel\n */\n\nexport default class PagePanel extends BasePagePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the page panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the page panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of pages available within the page panel\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperFlexBox!: CustomFlexBox;\n\tprivate _pageWrapper!: VBox;\n\tprivate oPagePromise!: Promise<IPage[]> | null;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate aFavPages!: IPage[];\n\tprivate oInnerControls!: GenericTile[];\n\tprivate _oIllusMsg!: IllustratedMessage;\n\tprivate oWrapperNoPageVBox!: VBox;\n\tprivate oAddPageBtn!: Button;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate oEventBus!: EventBus;\n\n\t/**\n\t * Constructor for a new Page panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis._oWrapperFlexBox = new CustomFlexBox(`${this.getId()}-pageWrapper`, {\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\",\n\t\t\trenderType: \"Bare\",\n\t\t\twrap: \"Wrap\",\n\t\t\titems: this.getPlaceholderPageTiles()\n\t\t}).addStyleClass(\"pagesFlexGap sapCuxPagesWrapper\");\n\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tthis._oWrapperFlexBox.addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\n\t\tthis._pageWrapper = new VBox(`${this.getId()}-pageContentWrapper`, { items: [this._oWrapperFlexBox] });\n\t\tthis.addContent(this._pageWrapper);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pageTitle\"));\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-managePages`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngPage\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: () => this._handleEditPages()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"managePages\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"favPagesImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tthis.aFavPages = oData as IPage[];\n\t\t\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\t\t\tthis._getInnerControls();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Subscribe to page changes from pageManager\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.getData(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImported\", stateData);\n\t}\n\n\tpublic async getData(forceUpdate: boolean = false) {\n\t\tif (this.oPagePromise === undefined || this.oPagePromise === null || forceUpdate) {\n\t\t\tthis.oPagePromise = this._getPageManagerInstance().getFavoritePages();\n\t\t\tconst aFavPages = await this.oPagePromise;\n\t\t\tthis.aFavPages = aFavPages;\n\t\t\tthis._getInnerControls();\n\t\t\tthis.oPagePromise = null;\n\t\t}\n\t\tthis.fireEvent(\"loaded\");\n\t\treturn this.oPagePromise;\n\t}\n\n\t/**\n\t * Handles the edit page event.\n\t * Opens the page dialog for managing page data.\n\t * @param {Event} oEvent - The event object.\n\t * @private\n\t */\n\tprivate _handleEditPages() {\n\t\tconst parent = this.getParent() as NewsAndPagesContainer;\n\t\tparent?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.PAGES);\n\t}\n\n\t/**\n\t * returns an array of placeholder generic tiles for pages\n\t * @private\n\t */\n\tprivate getPlaceholderPageTiles(): GenericTile[] {\n\t\tconst placeholderArray = new Array(PAGE_SELECTION_LIMIT).fill(LoadState.Loading) as LoadState[];\n\t\tconst placeholderTiles = placeholderArray.map((tileState: LoadState, index) => {\n\t\t\treturn new GenericTile(recycleId(`${this.getId()}--${index}`), {\n\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\tstate: tileState,\n\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\tmode: \"IconMode\",\n\t\t\t\tvisible: true,\n\t\t\t\trenderOnThemeChange: true,\n\t\t\t\tariaRole: \"listitem\",\n\t\t\t\tdropAreaOffset: 8\n\t\t\t}).addStyleClass(\"cuxPagesPlaceholder\");\n\t\t});\n\t\treturn placeholderTiles;\n\t}\n\n\tpublic attachResizeHandler(\n\t\tisNewsTileVisible: boolean,\n\t\tcontainerWidth: number,\n\t\tpagesContentWrapper: FlexBox\n\t): void {\n\t\ttry {\n\t\t\tconst favPagesCount = this.aFavPages?.length,\n\t\t\t\tdeviceType = this.getDeviceType();\n\n\t\t\tlet domRefClientWidth = containerWidth;\n\t\t\tif (\n\t\t\t\t(deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) &&\n\t\t\t\tisNewsTileVisible\n\t\t\t) {\n\t\t\t\tdomRefClientWidth = containerWidth / 2;\n\t\t\t}\n\n\t\t\tif (!domRefClientWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet tileWidth,\n\t\t\t\thBoxWidth: string,\n\t\t\t\tfinalTilesWidth: string,\n\t\t\t\twrapperWidth = domRefClientWidth / 16; // Divide by 16 to convert to rem,\n\t\t\tconst gap = 1;\n\t\t\tpagesContentWrapper.setWidth(\"100%\");\n\n\t\t\tif (favPagesCount > 0) {\n\t\t\t\tconst pagesPerRow = this.calculatePagesPerRow(favPagesCount, isNewsTileVisible);\n\t\t\t\tif (pagesPerRow) {\n\t\t\t\t\tconst maxTileWidth = tileSizes[deviceType].maxWidth;\n\t\t\t\t\tlet minTileWidth = tileSizes[deviceType].minWidth;\n\t\t\t\t\t// when tablet viewport width is below 800px, 46rem(736px) is the container width and 2 rem is paddings\n\t\t\t\t\tif (deviceType === DeviceType.Tablet && containerWidth < 736) {\n\t\t\t\t\t\tminTileWidth = tileSizes.smallTabletMinWidth;\n\t\t\t\t\t}\n\t\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\t\ttileWidth = Math.min(tileWidth, maxTileWidth);\n\t\t\t\t\ttileWidth = Math.max(tileWidth, minTileWidth);\n\t\t\t\t\tfinalTilesWidth = `${tileWidth}rem`;\n\t\t\t\t\thBoxWidth = `${pagesPerRow * tileWidth + (pagesPerRow - 1) * gap}rem`;\n\t\t\t\t} else {\n\t\t\t\t\tfinalTilesWidth = \"auto\";\n\t\t\t\t\thBoxWidth = \"100%\";\n\t\t\t\t}\n\n\t\t\t\tthis._setPropertyValues({ hBoxWidth: hBoxWidth, pagesTileWidth: finalTilesWidth });\n\t\t\t\tpagesContentWrapper.setWidth(hBoxWidth);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tconsole.error(err.message);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic async getUserAvailablePages() {\n\t\treturn await this._getPageManagerInstance().fetchAllAvailablePages();\n\t}\n\n\tprivate calculatePagesPerRow(favPagesCount: number, isNewsFeedVisible: boolean): number {\n\t\tlet pagesPerRow = 0;\n\t\tconst deviceType = this.getDeviceType();\n\t\tif (deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) {\n\t\t\tif (isNewsFeedVisible) {\n\t\t\t\t// halves the tiles in 2 rows\n\t\t\t\tpagesPerRow = Math.ceil(favPagesCount >= maxTileCOunt ? maxRowCount : favPagesCount / 2);\n\t\t\t} else {\n\t\t\t\tpagesPerRow = favPagesCount;\n\t\t\t}\n\t\t} else if (deviceType === DeviceType.Mobile) {\n\t\t\t// decides number of columns to either 1 or 2\n\t\t\tpagesPerRow = favPagesCount <= mobileOneTileLimit ? 1 : 2;\n\t\t} else if (deviceType === DeviceType.Tablet) {\n\t\t\t// upto 4 in a Row, otherwise halves the tiles in 2 rows\n\t\t\tpagesPerRow = favPagesCount <= maxRowCount ? favPagesCount : Math.ceil(favPagesCount / 2);\n\t\t}\n\t\treturn pagesPerRow;\n\t}\n\n\tprivate _getInnerControls() {\n\t\tconst myFavPage: Page[] = [];\n\t\tthis.oInnerControls = [];\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (this.aFavPages) {\n\t\t\tthis.aFavPages.forEach((oPage: IPage, index: number) => {\n\t\t\t\tmyFavPage.push(\n\t\t\t\t\tnew Page(recycleId(`${this.getId()}-favPage-${index}`), {\n\t\t\t\t\t\ttitle: oPage.title,\n\t\t\t\t\t\tsubTitle: oPage.title === oPage.spaceTitle ? \"\" : oPage.spaceTitle,\n\t\t\t\t\t\ticon: oPage.icon,\n\t\t\t\t\t\tbgColor: oPage.BGColor as string,\n\t\t\t\t\t\tpageId: oPage.pageId,\n\t\t\t\t\t\tspaceId: oPage.spaceId,\n\t\t\t\t\t\tspaceTitle: oPage.spaceTitle,\n\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.pageId + \"&spaceId=\" + oPage.spaceId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyFavPage.forEach((oFav: Page, index2: number) => {\n\t\t\t\tthis.oInnerControls.push(\n\t\t\t\t\tnew GenericTile(recycleId(`${oFav.getId()}--genericTile--${index2}`), {\n\t\t\t\t\t\t// width: \"10rem\",\n\t\t\t\t\t\theader: oFav.getTitle(),\n\t\t\t\t\t\tsubheader: oFav.getSubTitle(),\n\t\t\t\t\t\tpress: () => void oFav.onPageTilePress(oFav),\n\t\t\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\t\t\tstate: \"Loaded\",\n\t\t\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\t\tbackgroundColor: oFav.getBgColor(),\n\t\t\t\t\t\ttileIcon: oFav.getIcon(),\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\trenderOnThemeChange: true,\n\t\t\t\t\t\tariaRole: \"listitem\",\n\t\t\t\t\t\tdropAreaOffset: 8,\n\t\t\t\t\t\turl: oFav.getProperty(\"url\") as string\n\t\t\t\t\t}).addStyleClass(\"sapCuxPageTile\")\n\t\t\t\t);\n\t\t\t\tthis.addAggregation(\"pages\", oFav, true);\n\t\t\t});\n\n\t\t\tthis._oWrapperFlexBox.setAlignItems(this.aFavPages.length == 1 ? \"Start\" : \"Center\");\n\t\t\tconst dndConfigs = this._oWrapperFlexBox.getDragDropConfig();\n\t\t\tif (this.aFavPages.length) {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: this.aFavPages.length });\n\t\t\t\tthis._setFavPagesContent();\n\t\t\t\tif (!dndConfigs?.length)\n\t\t\t\t\tthis.addDragDropConfigTo(\n\t\t\t\t\t\tthis._oWrapperFlexBox,\n\t\t\t\t\t\t(oEvent) => void this._handlePageDnd(oEvent),\n\t\t\t\t\t\tasync (oEvent: KeyboardEvent) => {\n\t\t\t\t\t\t\tawait attachKeyboardHandler(oEvent, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis._oWrapperFlexBox.removeAllDragDropConfig();\n\t\t\t\tdndConfigs.forEach((dndConfig) => {\n\t\t\t\t\tdndConfig.destroy();\n\t\t\t\t});\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: 0 });\n\t\t\t\tthis._setNoPageContent();\n\t\t\t}\n\t\t} else {\n\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: false, count: 0 });\n\t\t\tthis.removeAggregation(\"content\", this._oWrapperFlexBox);\n\t\t}\n\t}\n\n\tprivate _setFavPagesContent() {\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.removeStyleClass(\"pagesFlexBox\");\n\t\tthis.oInnerControls.forEach((oTile: GenericTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\tprivate _createNoPageContent() {\n\t\tif (!this._oIllusMsg) {\n\t\t\tthis._oIllusMsg = new IllustratedMessage(this.getId() + \"--idNoPages\", {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Small,\n\t\t\t\tillustrationType: IllustratedMessageType.NoSavedItems,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noDataPageTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noPageDescription\")\n\t\t\t}).addStyleClass(\"myHomeIllustratedMsg myHomeIllustratedMessageAlign\");\n\t\t\tthis.oAddPageBtn = new Button(this.getId() + \"--idAddPageBtn\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => this._handleEditPages()\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oAddPageBtn, \"press\", \"addPages\");\n\t\t}\n\t}\n\n\tprivate _setNoPageContent() {\n\t\tif (!this.oWrapperNoPageVBox) {\n\t\t\tthis.oWrapperNoPageVBox = new VBox(recycleId(`${this.getId()}--wrapperNoPageVBox`), {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"17rem\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\tjustifyContent: \"Center\"\n\t\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder\");\n\t\t\tthis._createNoPageContent();\n\t\t\tthis._oIllusMsg.addAdditionalContent(this.oAddPageBtn);\n\t\t\tthis.oWrapperNoPageVBox.addItem(this._oIllusMsg);\n\t\t}\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.addStyleClass(\"pagesFlexBox\");\n\t\tthis._oWrapperFlexBox.addItem(this.oWrapperNoPageVBox);\n\t}\n\n\tprivate _setPropertyValues(oVal: { hBoxWidth: string; pagesTileWidth: string }) {\n\t\tconst propNames = Object.keys(oVal);\n\t\tpropNames.forEach((sProperty: string) => {\n\t\t\tif (sProperty === \"hBoxWidth\") {\n\t\t\t\tthis._oWrapperFlexBox.setProperty(\"width\", oVal[sProperty]);\n\t\t\t} else if (sProperty === \"pagesTileWidth\" && this.oInnerControls.length) {\n\t\t\t\tthis.oInnerControls.forEach(function (oTile) {\n\t\t\t\t\toTile.setProperty(\"width\", oVal[sProperty]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _handlePageDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tawait this._DragnDropPages(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropPages(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\tconst oItemMoved = this.aFavPages.splice(iDragItemIndex, 1)[0];\n\t\tthis.aFavPages.splice(iDropItemIndex, 0, oItemMoved);\n\t\tthis.updateTileOrder(iDragItemIndex, iDropItemIndex);\n\n\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\tfocusDraggedItem(this._oWrapperFlexBox, iDropItemIndex);\n\t}\n\n\t/**\n\t * Updates the tile order in the UI after a drag-and-drop action.\n\t *\n\t * Moves a tile from `dragIndex` to `dropIndex` in the internal array\n\t * and re-renders the tile container to reflect the new order.\n\t *\n\t * @param {number} dragIndex - Index of the dragged tile.\n\t * @param {number} dropIndex - Index to insert the dragged tile.\n\t */\n\tprivate updateTileOrder(dragIndex: number, dropIndex: number) {\n\t\tconst [draggedItem] = this.oInnerControls.splice(dragIndex, 1);\n\t\tthis.oInnerControls.splice(dropIndex, 0, draggedItem);\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis.oInnerControls.forEach((oTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\t/**\n\t * Writes the favourite pages data into personalizer\n\t *\n\t * @private\n\t * @async\n\t * @param {IPage[]} favPages\n\t * @returns {*}\n\t */\n\tprivate async writeFavPagesIntoPers(favPages: IPage[]) {\n\t\tif (this.oPersonalizer === undefined) {\n\t\t\tthis.oPersonalizer = await UShellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\n\t\tlet oPersData = await this.oPersonalizer.read();\n\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\toPersData.favouritePages = favPages;\n\t\tawait this.oPersonalizer.write(oPersData);\n\t}\n\n\tpublic applyColorPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyColorPersonalizations(personalizations);\n\t}\n\n\tpublic applyIconPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyIconPersonalizations(personalizations);\n\t}\n\n\tprivate _getPageManagerInstance() {\n\t\tthis.pageManagerInstance = this.pageManagerInstance || getPageManagerInstance(this);\n\t\treturn this.pageManagerInstance;\n\t}\n\n\t/**\n\t * Returns the wrapper FlexBox for the page panel.\n\t *\n\t * @returns {sap.m.FlexBox} The FlexBox that wraps the pages.\n\t * @private\n\t */\n\tpublic getPageWrapper(): FlexBox {\n\t\treturn this._oWrapperFlexBox;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}