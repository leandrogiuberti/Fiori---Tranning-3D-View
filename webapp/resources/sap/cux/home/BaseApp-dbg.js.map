{"version":3,"file":"BaseApp-dbg.js","names":["sap","ui","define","List","Popover","StandardListItem","sap_m_library","Element","___utils_FESRUtil","ListType","addFESRSemanticStepName","FESR_EVENTS","getFESRId","BaseApp","extend","metadata","library","properties","title","type","group","defaultValue","subTitle","bgColor","icon","status","aggregations","menuItems","multiple","singularName","visibility","constructor","_constructor","id","settings","Element.prototype.constructor.call","_onPress","event","sAction","getParameter","_handlePress","_loadActionsPopover","tile","getSource","actions","getAggregation","oPopover","ActionsPopover","get","onPopoverOpen","addStyleClass","onPopoverClose","removeStyleClass","detachBeforeOpen","detachAfterClose","attachBeforeOpen","attachAfterClose","openBy","_oMoreIcon","_closeActionsPopover","_popover","close","_actionsList","showHeader","placement","ariaLabelledBy","addContent","destroyItems","forEach","action","actionType","getType","oListItem","getId","getIcon","getTitle","tooltip","visible","press","oEvent","Navigation","firePress","listItem","PRESS","addItem"],"sources":["BaseApp.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport { ListType } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $BaseAppSettings } from \"./BaseApp\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\n\n/**\n *\n * Base App class for managing and storing Apps.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseApp\n */\nexport default abstract class BaseApp extends Element {\n\tconstructor(idOrSettings?: string | $BaseAppSettings);\n\tconstructor(id?: string, settings?: $BaseAppSettings);\n\t/**\n\t * Constructor for a new Base App.\n\t *\n\t * @param {string} [id] ID for the new app, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new app\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the app\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Sub header of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color of the app\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon of the app\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Whether the app is in loaded or loading status\n\t\t\t */\n\t\t\tstatus: { type: \"string\", group: \"Misc\", defaultValue: \"Loaded\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * MenuItems aggregation of the app. These items will be shown in a popover on click of showMore\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tabstract _handlePress(event: GenericTile$PressEvent): void;\n\n\t/**\n\t * Base App Press Handler\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _onPress(event: GenericTile$PressEvent): void {\n\t\tconst sAction = event.getParameter(\"action\") || \"Press\";\n\t\tif (sAction === \"Press\") {\n\t\t\tthis._handlePress(event);\n\t\t} else if (sAction === \"More\") {\n\t\t\tthis._loadActionsPopover(event);\n\t\t}\n\t}\n\n\t/**\n\t * Loads Actions available for selected app tile in popover\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _loadActionsPopover(event: GenericTile$PressEvent) {\n\t\tconst tile: GenericTile & { _oMoreIcon: Button } = event.getSource?.();\n\t\tconst actions = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tconst oPopover = ActionsPopover.get(actions);\n\t\t//Add Border around current tile\n\t\tconst onPopoverOpen = () => {\n\t\t\ttile.addStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t};\n\t\tconst onPopoverClose = () => {\n\t\t\ttile.removeStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t\toPopover.detachBeforeOpen(onPopoverOpen);\n\t\t\toPopover.detachAfterClose(onPopoverClose);\n\t\t};\n\t\toPopover.attachBeforeOpen(onPopoverOpen);\n\t\toPopover.attachAfterClose(onPopoverClose);\n\t\toPopover.openBy(tile._oMoreIcon);\n\t}\n}\n\nexport class ActionsPopover {\n\tprivate static _popover: Popover;\n\tprivate static _actionsList: List;\n\n\tprivate constructor() {}\n\n\tstatic _closeActionsPopover() {\n\t\tActionsPopover._popover.close();\n\t}\n\n\t// Method to get the singleton instance\n\tstatic get(actions?: MenuItem[]): Popover {\n\t\tif (!ActionsPopover._popover) {\n\t\t\tActionsPopover._actionsList = new List({\n\t\t\t\tid: `appActionsList`\n\t\t\t});\n\t\t\tActionsPopover._popover = new Popover(`appActionsPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: \"HorizontalPreferredRight\",\n\t\t\t\tariaLabelledBy: [`appActionsPopover`]\n\t\t\t})\n\t\t\t\t.addStyleClass(\"sapContrastPlus\")\n\t\t\t\t.addContent(ActionsPopover._actionsList);\n\t\t}\n\t\tActionsPopover._actionsList.destroyItems();\n\t\tactions?.forEach((action) => {\n\t\t\tconst actionType = action.getType() as ListType;\n\t\t\tconst oListItem = new StandardListItem(`${action.getId()}-index`, {\n\t\t\t\ticon: action.getIcon(),\n\t\t\t\ttitle: action.getTitle(),\n\t\t\t\ttooltip: action.getTitle(),\n\t\t\t\ttype: actionType,\n\t\t\t\tvisible: true,\n\t\t\t\tpress: (oEvent) => {\n\t\t\t\t\tif (actionType !== ListType.Navigation) {\n\t\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\t}\n\t\t\t\t\taction.firePress({ listItem: oEvent.getSource() });\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRSemanticStepName(oListItem, FESR_EVENTS.PRESS, getFESRId(action));\n\t\t\tActionsPopover._actionsList.addItem(oListItem);\n\t\t});\n\t\treturn ActionsPopover._popover;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}