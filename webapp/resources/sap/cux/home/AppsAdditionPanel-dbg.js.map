{"version":3,"file":"AppsAdditionPanel-dbg.js","names":["sap","ui","define","Log","Button","CustomListItem","ExpandableText","FlexBox","GenericTile","HBox","Label","sap_m_library","MessageToast","Text","VBox","Fragment","sap_ui_core_library","ChangeReason","JSONModel","ResourceModel","Sorter","Container","__AppsContainer","__BaseSettingsPanel","__FavAppPanel","__InsightsContainer","__AppManager","___utils_Constants","___utils_DataFormatUtils","___utils_FeatureUtils","___utils_FESRUtil","_interopRequireDefault","obj","__esModule","default","_catch","body","recover","result","e","then","ButtonType","_finallyRethrows","finalizer","bind","URLHelper","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","observer","prototype","onFulfilled","onRejected","callback","_this","_isSettledPact","thenable","_forTo","array","check","i","reject","_cycle","length","ValueState","_forOf","target","step","next","done","return","_fixup","TypeError","values","push","AppsContainer","BaseSettingsPanel","FavAppPanel","InsightsContainer","AppManager","AI_APP_FINDER_API","AI_APP_FINDER_BASE_URL","CONTENT_ADDITION_PANEL_TYPES","DEFAULT_APP_ICON","FEATURE_TOGGLES","FESR_IDS","MYINSIGHT_SECTION_ID","recycleId","isNavigationSupportedForFeature","addFESRSemanticStepName","FESR_EVENTS","Constants","DeprecatedInfoText","MinQueryLength","MaxDescriptionLength","SearchStatus","ErrorType","TileType","AppsAdditionPanel","extend","constructor","apply","arguments","appManagerInstance","getInstance","resetSearch","userSelectedApps","clear","model","setProperty","Searching","appSuggestionList","removeSelections","resetFeedback","init","_init","BaseSettingsPanel.prototype.init.call","Set","AI_APP_FINDER","_i18nBundle","getText","_setupActions","_setupContent","attachEvent","_isDialogPersisted","getParent","resetPanel","addAppsButton","getId","text","type","Emphasized","press","onPressAddApps","bindProperty","parts","formatter","hasError","searchStatus","Complete","PRESS","ADD_AI_APP","addActionButton","Promise","resolve","getServiceAsync","_Container$getService","vizInstantiationService","load","id","name","controller","_Fragment$load","panelContent","addAggregation","query","errorType","NoResultsFound","errorDescription","Idle","loadingAnimations","_generateSearchingAnimations","suggestedAppsCount","suggestedApps","aiPolicyText","_generateAIPolicyText","invalidQuery","feedback","thumbsUp","thumbsDown","sampleQueries","index","setModel","bundleName","byId","bindAggregation","path","factory","_generateListItem","sorter","comparator","firstApp","secondApp","getPriority","statusArray","hasAlreadyAdded","includes","hasDeprecated","firstPriority","secondPriority","attachUpdateFinished","getProperty","getItems","focus","searchTextArea","onsapenter","onPressGo","context","listItem","selected","content","renderType","direction","alignItems","items","_getAppPreviewContainer","_getAppDetailsContainer","addStyleClass","getMultiSelectControl","setEnabled","container","addItem","mode","frameType","width","header","subheader","tileIcon","visible","url","event","_persistDialog","redirect","getSource","getUrl","vizData","instance","instantiateVisualization","setActive","attachPress","gap","maxCharacters","showColon","_generateStatusTexts","isSupported","_isSupported","_this2","_temp3","isPanelSupported","removeActionButton","contentAdditionDialog","removePanel","updateActionButtons","appsIntent","semanticObject","action","_temp2","undefined","_temp","getFavAppPanel","AI_SMART_APPFINDER","_isNavigationSupporte","loadingShimmer","_resetPanel","defaultModelProperties","setData","getData","_onPressGo","_this3","isValidQuery","_temp5","fetchAppsFromSearch","rawApps","_temp4","fetchAllAvailableVisualizations","allVisualizations","fetchFavVizs","favoriteApps","fetchInsightApps","insightsApps","apps","_generateApps","_filterUnsupportedApps","_handleError","updateAggregation","Refresh","detailedReason","err","error","message","_wasThrown","_result","updatedApps","filter","app","isStaticApp","intents","map","navigationService","isNavigationSupported","supportedAppIndices","_","homePageVisualizations","find","viz","vizId","chipID","addedToHomePage","some","visualization","title","subTitle","description","appDescription","icon","iconUrl","tileType","Static","status","getAppStatusTexts","configuration","targetURL","_isValidQuery","trim","_fetchAllAvailableVisualizations","_this4","_temp7","allAvailableVisualizations","_temp6","searchableContentService","getApps","enableVisualizationPreview","allAvailableApps","reduce","visualizations","currentApp","concat","_fetchCSRFToken","fetch","method","headers","response","get","_fetchAppsFromSearch","_this5","token","JSON","stringify","UserInput","_exit","_temp0","_result2","json","_response$json2","queryResult","_temp9","ok","_response$json","errorResponse","_temp8","_getAppStatusTexts","statusTexts","parsedConfig","parse","tileConfig","tileConfiguration","infoText","display_info_text","toLowerCase","warning","stausTexts","applyStatusClass","_applyStatusClass","_onPressAddApps","_this6","_temp14","_temp12","_temp10","close","show","selectedItem","selectedAppTitle","getBindingContext","messageKey","staticAppsPresent","_temp1","dynamicAppsPresent","refreshInsightsApps","_temp11","refreshFavoriteApps","_temp13","addVisualization","getLayout","_getLayout","getAppsContainer","_getAppsContainer","_getFavAppPanel","getContent","panel","_refreshFavoriteApps","_this7","refreshPanel","getInsightsContainer","_getInsightsContainer","_refreshInsightsApps","_this8","refreshData","onListSelectionChange","_onListSelectionChange","getParameter","delete","add","Array","from","suggestedResponseCount","errorCode","match","_getErrorType","ServiceError","onSearchTextAreaLiveChange","_onSearchTextAreaLiveChange","textArea","getValue","setValueState","Information","setValueStateText","Warning","None","getValueState","linkText","_resetFeedback","sendFeedback","_sendFeedback","feedbackType"],"sources":["AppsAdditionPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport Button from \"sap/m/Button\";\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport ExpandableText from \"sap/m/ExpandableText\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport { ButtonType, URLHelper } from \"sap/m/library\";\nimport List from \"sap/m/List\";\nimport { ListBase$SelectionChangeEvent } from \"sap/m/ListBase\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport Text from \"sap/m/Text\";\nimport TextArea, { TextArea$LiveChangeEvent } from \"sap/m/TextArea\";\nimport VBox from \"sap/m/VBox\";\nimport Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport ChangeReason from \"sap/ui/model/ChangeReason\";\nimport Context from \"sap/ui/model/Context\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport Sorter from \"sap/ui/model/Sorter\";\nimport Container from \"sap/ushell/Container\";\nimport Navigation, { Target } from \"sap/ushell/services/Navigation\";\nimport SearchableContent, { AppData } from \"sap/ushell/services/SearchableContent\";\nimport VisualizationInstantiation from \"sap/ushell/services/VisualizationInstantiation\";\nimport AppsContainer from \"./AppsContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport ContentAdditionDialog from \"./ContentAdditionDialog\";\nimport FavAppPanel from \"./FavAppPanel\";\nimport InsightsContainer from \"./InsightsContainer\";\nimport { ICustomVisualization, ICustomVizInstance, IVisualization } from \"./interface/AppsInterface\";\nimport AppManager from \"./utils/AppManager\";\nimport {\n\tAI_APP_FINDER_API,\n\tAI_APP_FINDER_BASE_URL,\n\tCONTENT_ADDITION_PANEL_TYPES,\n\tDEFAULT_APP_ICON,\n\tFEATURE_TOGGLES,\n\tFESR_IDS,\n\tMYINSIGHT_SECTION_ID\n} from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { isNavigationSupportedForFeature } from \"./utils/FeatureUtils\";\nimport { addFESRSemanticStepName, FESR_EVENTS } from \"./utils/FESRUtil\";\n\nconst Constants = {\n\tDeprecatedInfoText: \"deprecated\",\n\tMinQueryLength: 2,\n\tMaxDescriptionLength: 500\n};\n\nenum SearchStatus {\n\tIdle = \"idle\",\n\tSearching = \"searching\",\n\tComplete = \"complete\"\n}\n\nenum ErrorType {\n\tNoResultsFound = \"noResultsFound\",\n\tServiceError = \"serviceError\"\n}\n\nenum TileType {\n\tStatic = \"STATIC\"\n}\n\ninterface RawAppData {\n\ttitle: string;\n\tsubTitle: string;\n\tappDescription: string;\n\tchipID: string;\n\ttileType: TileType;\n\ticonUrl: string;\n\tconfiguration: string;\n}\ninterface SuggestedApp {\n\ticon: string;\n\ttitle: string;\n\tchipID: string;\n\tstatus: string[];\n\tsubTitle: string;\n\tdescription: string;\n\tisStaticApp: boolean;\n\taddedToHomePage: boolean;\n\tvizData?: IVisualization;\n}\n\ninterface QueryResponse {\n\tvalue: RawAppData[];\n}\n\ninterface ErrorResponse {\n\terror: {\n\t\tcode: string;\n\t\tmessage: string;\n\t};\n}\n\ninterface Configuration {\n\ttileConfiguration: string;\n}\n\ninterface TileConfig {\n\tdisplay_info_text: string;\n\t[key: string]: string;\n}\n\n/**\n *\n * Class for Apps Addition Panel in MyHome.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.136\n *\n * @private\n *\n * @alias sap.cux.home.AppsAdditionPanel\n */\nexport default class AppsAdditionPanel extends BaseSettingsPanel {\n\tprivate appManagerInstance: AppManager = AppManager.getInstance();\n\tprivate vizInstantiationService!: VisualizationInstantiation;\n\tprivate allAvailableVisualizations!: IVisualization[];\n\tprivate userSelectedApps!: Set<CustomListItem>;\n\tprivate appSuggestionList!: List;\n\tprivate model!: JSONModel;\n\tprivate addAppsButton!: Button;\n\tprivate isPanelSupported!: boolean;\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.userSelectedApps = new Set<CustomListItem>();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", CONTENT_ADDITION_PANEL_TYPES.AI_APP_FINDER);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"addAppsAndTile\"));\n\n\t\t//setup actions\n\t\tthis._setupActions();\n\n\t\t//setup content\n\t\tvoid this._setupContent();\n\n\t\t//setup events\n\t\tthis.attachEvent(\"onDialogClose\", () => {\n\t\t\tif (!this._isDialogPersisted(this.getParent() as ContentAdditionDialog)) {\n\t\t\t\tthis.resetPanel();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Sets up the actions for the Apps Addition Panel.\n\t *\n\t * @private\n\t */\n\tprivate _setupActions(): void {\n\t\tthis.addAppsButton = new Button(recycleId(`${this.getId()}-add-app-btn`), {\n\t\t\ttext: this._i18nBundle.getText(\"addFromInsightsDialogBtn\"),\n\t\t\ttype: ButtonType.Emphasized,\n\t\t\tpress: () => {\n\t\t\t\tvoid this.onPressAddApps();\n\t\t\t}\n\t\t});\n\n\t\tthis.addAppsButton.bindProperty(\"enabled\", {\n\t\t\tparts: [\"/hasError\", \"/searchStatus\", \"/userSelectedApps\"],\n\t\t\tformatter: (hasError: boolean, searchStatus: SearchStatus, userSelectedApps: string[]) => {\n\t\t\t\treturn !hasError && searchStatus === SearchStatus.Complete && userSelectedApps.length > 0;\n\t\t\t}\n\t\t});\n\n\t\taddFESRSemanticStepName(this.addAppsButton, FESR_EVENTS.PRESS, FESR_IDS.ADD_AI_APP);\n\t\tthis.addActionButton(this.addAppsButton);\n\t}\n\n\t/**\n\t * Sets up the content for the Apps Addition Panel.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async _setupContent(): Promise<void> {\n\t\tthis.vizInstantiationService = await Container.getServiceAsync<VisualizationInstantiation>(\"VisualizationInstantiation\");\n\n\t\t//load ui fragment\n\t\tconst panelContent = (await Fragment.load({\n\t\t\tid: `${this.getId()}-content`,\n\t\t\tname: \"sap.cux.home.utils.fragment.appsAdditionContent\",\n\t\t\tcontroller: this\n\t\t})) as Control;\n\t\tthis.addAggregation(\"content\", panelContent);\n\n\t\t//initialize ui model\n\t\tthis.model = new JSONModel({\n\t\t\tquery: \"\",\n\t\t\thasError: false,\n\t\t\terrorType: ErrorType.NoResultsFound,\n\t\t\terrorDescription: \"\",\n\t\t\tsearchStatus: SearchStatus.Idle,\n\t\t\tloadingAnimations: this._generateSearchingAnimations(),\n\t\t\tsuggestedAppsCount: 0,\n\t\t\tuserSelectedApps: [],\n\t\t\tsuggestedApps: [],\n\t\t\taiPolicyText: this._generateAIPolicyText(),\n\t\t\tinvalidQuery: true,\n\t\t\tfeedback: {\n\t\t\t\tthumbsUp: false,\n\t\t\t\tthumbsDown: false\n\t\t\t},\n\t\t\tsampleQueries: [\n\t\t\t\t{\n\t\t\t\t\tindex: 1,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_1\") as string\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 2,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_2\") as string\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 3,\n\t\t\t\t\tquery: this._i18nBundle.getText(\"sampleQuery_3\") as string\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\tpanelContent.setModel(this.model);\n\t\tpanelContent.setModel(new ResourceModel({ bundleName: \"sap.cux.home.i18n.messagebundle\" }), \"i18n\");\n\t\tthis.addAppsButton.setModel(this.model);\n\n\t\t//bind suggested apps list\n\t\tthis.appSuggestionList = Fragment.byId(`${this.getId()}-content`, \"appsList\") as List;\n\t\tthis.appSuggestionList.bindAggregation(\"items\", {\n\t\t\tpath: \"/suggestedApps\",\n\t\t\tfactory: this._generateListItem.bind(this),\n\t\t\tsorter: new Sorter({\n\t\t\t\tpath: \"status\",\n\t\t\t\tcomparator: (firstApp: string[], secondApp: string[]) => {\n\t\t\t\t\tconst getPriority = (statusArray: string[]) => {\n\t\t\t\t\t\tif (statusArray.length === 0) return 0; // Empty array has highest priority\n\n\t\t\t\t\t\tconst hasAlreadyAdded = statusArray.includes(this._i18nBundle.getText(\"alreadyAddedApp\") as string);\n\t\t\t\t\t\tconst hasDeprecated = statusArray.includes(this._i18nBundle.getText(\"deprecatedApp\") as string);\n\n\t\t\t\t\t\tif (hasAlreadyAdded && hasDeprecated) return 3; // Both statuses - lowest priority\n\t\t\t\t\t\tif (hasAlreadyAdded) return 1; // Only \"Already Added\"\n\t\t\t\t\t\tif (hasDeprecated) return 2; // Only \"Deprecated\"\n\n\t\t\t\t\t\treturn 4; // Any other combination (fallback)\n\t\t\t\t\t};\n\n\t\t\t\t\tconst firstPriority = getPriority(firstApp);\n\t\t\t\t\tconst secondPriority = getPriority(secondApp);\n\n\t\t\t\t\treturn firstPriority - secondPriority;\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\t//focus on the first item when the list is updated\n\t\tthis.appSuggestionList.attachUpdateFinished(() => {\n\t\t\tif (this.model.getProperty(\"/suggestedAppsCount\") > 0 && this.model.getProperty(\"/searchStatus\") === SearchStatus.Complete) {\n\t\t\t\tthis.appSuggestionList.getItems()?.[0]?.focus();\n\t\t\t}\n\t\t});\n\n\t\t//bind search field\n\t\tconst searchTextArea = Fragment.byId(`${this.getId()}-content`, \"searchTextArea\") as TextArea;\n\t\tsearchTextArea.onsapenter = this.onPressGo.bind(this);\n\t}\n\n\t/**\n\t * Generates a list item for the Apps Addition Panel.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the list item.\n\t * @param {Context} context - The binding context for the list item.\n\t * @returns {CustomListItem} The generated list item control.\n\t */\n\tprivate _generateListItem(id: string, context: Context): CustomListItem {\n\t\tconst listItem = new CustomListItem(id, {\n\t\t\tselected: context.getProperty(\"addedToHomePage\") as boolean,\n\t\t\tcontent: [\n\t\t\t\tnew FlexBox(recycleId(`${id}-result-container`), {\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tdirection: context.getProperty(\"isStaticApp\") ? \"Column\" : \"Row\",\n\t\t\t\t\talignItems: context.getProperty(\"isStaticApp\") ? \"Start\" : \"Center\",\n\t\t\t\t\titems: [this._getAppPreviewContainer(id, context), this._getAppDetailsContainer(id, context)]\n\t\t\t\t}).addStyleClass(\"sapUiSmallMargin\")\n\t\t\t]\n\t\t});\n\n\t\t//bind associated checkbox to disable it when the app is already added to home page\n\t\tlistItem.getMultiSelectControl(true).setEnabled(!context.getProperty(\"addedToHomePage\"));\n\n\t\treturn listItem;\n\t}\n\n\t/**\n\t * Creates a preview container for the suggested app.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the container.\n\t * @param {Context} context - The binding context for the app.\n\t * @returns {HBox} The app preview container.\n\t */\n\tprivate _getAppPreviewContainer(id: string, context: Context): HBox {\n\t\tconst container = new HBox(recycleId(`${id}-suggestedAppContainer`), {\n\t\t\trenderType: \"Bare\"\n\t\t});\n\n\t\tif (context.getProperty(\"isStaticApp\") as boolean) {\n\t\t\t// create generic tile for static app\n\t\t\tcontainer.addItem(\n\t\t\t\tnew GenericTile(recycleId(`${id}-staticApp`), {\n\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\tframeType: \"TwoByHalf\",\n\t\t\t\t\twidth: \"19rem\",\n\t\t\t\t\theader: context.getProperty(\"title\") as string,\n\t\t\t\t\tsubheader: context.getProperty(\"subTitle\") as string,\n\t\t\t\t\ttileIcon: (context.getProperty(\"icon\") as string) || DEFAULT_APP_ICON,\n\t\t\t\t\tvisible: context.getProperty(\"isStaticApp\") as boolean,\n\t\t\t\t\turl: context.getProperty(\"url\") as string,\n\t\t\t\t\tpress: (event: GenericTile$PressEvent) => {\n\t\t\t\t\t\tthis._persistDialog(this.getParent() as ContentAdditionDialog);\n\t\t\t\t\t\tURLHelper.redirect(event.getSource()?.getUrl(), false);\n\t\t\t\t\t}\n\t\t\t\t}).addStyleClass(\"suggestedTile\")\n\t\t\t);\n\t\t} else {\n\t\t\t// create custom visualization for other apps\n\t\t\tconst vizData = context.getProperty(\"vizData\") as ICustomVisualization;\n\t\t\tconst instance = this.vizInstantiationService.instantiateVisualization(vizData) as ICustomVizInstance;\n\t\t\tinstance?.setActive(true);\n\t\t\tinstance?.attachPress(() => this._persistDialog(this.getParent() as ContentAdditionDialog));\n\t\t\tcontainer.addItem(instance);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t/**\n\t * Creates a details container for the suggested app.\n\t *\n\t * @private\n\t * @param {string} id - The unique ID for the container.\n\t * @param {Context} context - The binding context for the app.\n\t * @returns {VBox} The app details container.\n\t */\n\tprivate _getAppDetailsContainer(id: string, context: Context): VBox {\n\t\treturn new VBox(recycleId(`${id}-app-details-container`), {\n\t\t\trenderType: \"Bare\",\n\t\t\tgap: \"0.5rem\",\n\t\t\titems: [\n\t\t\t\tnew ExpandableText(recycleId(`${id}-description`), {\n\t\t\t\t\ttext: context.getProperty(\"description\") as string,\n\t\t\t\t\tmaxCharacters: Constants.MaxDescriptionLength\n\t\t\t\t}),\n\t\t\t\tnew HBox(recycleId(`${id}-app-status-container`), {\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tvisible: (context.getProperty(\"status\") as string[]).length > 0,\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Label(recycleId(`${id}-appStatusLabel`), {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"appStatus\"),\n\t\t\t\t\t\t\tshowColon: true\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnew HBox(recycleId(`${id}-app-status-texts`), {\n\t\t\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\t\t\titems: this._generateStatusTexts(id, context.getProperty(\"status\") as string[])\n\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginBegin statusTextsContainer\")\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass((context.getProperty(\"isStaticApp\") as boolean) ? \"sapUiSmallMarginTop\" : \"sapUiSmallMarginBegin\");\n\t}\n\n\t/**\n\t * Checks if the Apps Addition Panel is supported. Internally, it checks if the\n\t * AI Smart App Finder feature toggle is enabled and if the associated application\n\t * is accessible for the user.\n\t *\n\t * @public\n\t * @override\n\t * @async\n\t * @returns {Promise<boolean>} A promise that resolves to a boolean indicating support.\n\t */\n\tpublic async isSupported(): Promise<boolean> {\n\t\tconst appsIntent: Target = {\n\t\t\ttarget: {\n\t\t\t\tsemanticObject: \"IntelligentPrompt\",\n\t\t\t\taction: \"propose\"\n\t\t\t}\n\t\t};\n\t\tif (this.isPanelSupported === undefined) {\n\t\t\tthis.isPanelSupported = false;\n\n\t\t\tif (this.getFavAppPanel()) {\n\t\t\t\tthis.isPanelSupported = await isNavigationSupportedForFeature(FEATURE_TOGGLES.AI_SMART_APPFINDER, appsIntent);\n\t\t\t}\n\t\t}\n\n\t\t//remove panel if it's not supported\n\t\tif (!this.isPanelSupported) {\n\t\t\tthis.removeActionButton(this.addAppsButton);\n\t\t\tconst contentAdditionDialog = this.getParent() as ContentAdditionDialog;\n\t\t\tcontentAdditionDialog.removePanel(this);\n\t\t\tcontentAdditionDialog.updateActionButtons();\n\t\t}\n\n\t\treturn this.isPanelSupported;\n\t}\n\n\t/**\n\t * Generates the searching animation SVG as a string.\n\t *\n\t * @private\n\t * @returns {string} The SVG string for the loading animation.\n\t */\n\tprivate _generateSearchingAnimations(): string[] {\n\t\tconst loadingShimmer = `<defs>\n\t\t\t<linearGradient id=\"loadingShimmer\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n\t\t\t\t<stop offset=\"0%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"20%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"50%\" stop-color=\"var(--sapContent_Placeholderloading_Background_Dark)\" />\n\t\t\t\t<stop offset=\"80%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\t\t\t\t<stop offset=\"100%\" stop-color=\"var(--sapContent_Placeholderloading_Background)\" />\n\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"x1\"\n\t\t\t\t\tvalues=\"-0.6;0.6\"\n\t\t\t\t\tdur=\"2.5s\"\n\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"x2\"\n\t\t\t\t\tvalues=\"0.4;1.6\"\n\t\t\t\t\tdur=\"2.5s\"\n\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t</linearGradient>\n\t\t</defs>`;\n\n\t\treturn [\n\t\t\t`<svg height=\"167\" fill=\"none\">\n\t\t\t\t${loadingShimmer}\n\t\t\t\t<rect x=\"16\" y=\"75\" width=\"16\" height=\"16\" rx=\"4\" fill=\"var(--sapContent_Placeholderloading_Background)\"/>\n\t\t\t\t<rect x=\"48\" y=\"16\" width=\"37%\" height=\"70\" rx=\"16\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"48\" y=\"102\" width=\"93%\" height=\"48\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t</svg>`,\n\t\t\t`<svg height=\"180\" fill=\"none\">\n\t\t\t\t${loadingShimmer}\n\t\t\t\t<rect x=\"16\" y=\"82\" width=\"16\" height=\"16\" rx=\"4\" fill=\"var(--sapContent_Placeholderloading_Background)\"/>\n\t\t\t\t<rect x=\"48\" y=\"16\" width=\"148\" height=\"148\" rx=\"16\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"212\" y=\"54\" width=\"75%\" height=\"48\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t\t<rect x=\"212\" y=\"110\" width=\"13%\" height=\"16\" rx=\"4\" fill=\"url(#loadingShimmer)\"/>\n\t\t\t</svg>`\n\t\t];\n\t}\n\n\t/**\n\t * Resets the search state in the Apps Addition Panel.\n\t *\n\t * @private\n\t */\n\tprivate resetSearch: () => void = () => {\n\t\tthis.userSelectedApps.clear();\n\t\tthis.model.setProperty(\"/hasError\", false);\n\t\tthis.model.setProperty(\"/suggestedApps\", []);\n\t\tthis.model.setProperty(\"/suggestedAppsCount\", 0);\n\t\tthis.model.setProperty(\"/searchStatus\", SearchStatus.Searching);\n\t\tthis.model.setProperty(\"/userSelectedApps\", []);\n\t\tthis.appSuggestionList.removeSelections(true);\n\t\tthis.resetFeedback();\n\t};\n\n\t/**\n\t * Resets the panel to its default state.\n\t *\n\t * @private\n\t */\n\tpublic resetPanel(): void {\n\t\tconst defaultModelProperties = {\n\t\t\tquery: \"\",\n\t\t\thasError: false,\n\t\t\tsearchStatus: SearchStatus.Idle,\n\t\t\tsuggestedAppsCount: 0,\n\t\t\tuserSelectedApps: [],\n\t\t\tsuggestedApps: [],\n\t\t\tfeedback: {\n\t\t\t\tthumbsUp: false,\n\t\t\t\tthumbsDown: false\n\t\t\t},\n\t\t\tinvalidQuery: true\n\t\t};\n\n\t\tthis.model?.setData({ ...this.model.getData(), ...defaultModelProperties } as object);\n\t\tthis.userSelectedApps?.clear();\n\t}\n\n\t/**\n\t * Handles the \"Go\" button press event for searching suggested apps.\n\t *\n\t * @private\n\t * @async\n\t */\n\tpublic async onPressGo(): Promise<void> {\n\t\t// validate query\n\t\tconst query = this.model.getProperty(\"/query\") as string;\n\t\tif (!this.isValidQuery(query)) return;\n\n\t\ttry {\n\t\t\t// initiate search\n\t\t\tthis.resetSearch();\n\n\t\t\tconst rawApps = await this.fetchAppsFromSearch(query);\n\t\t\t// suggest apps if there are results and search is not cancelled\n\t\t\tif (this.model.getProperty(\"/searchStatus\") === SearchStatus.Searching) {\n\t\t\t\tconst allVisualizations = await this.fetchAllAvailableVisualizations();\n\t\t\t\tconst favoriteApps = await this.appManagerInstance.fetchFavVizs(true, true);\n\t\t\t\tconst insightsApps = await this.appManagerInstance.fetchInsightApps(true, this._i18nBundle.getText(\"insights\") as string);\n\n\t\t\t\t// generate suggested apps\n\t\t\t\tconst apps = this._generateApps(rawApps, allVisualizations, [...favoriteApps, ...insightsApps]);\n\t\t\t\tconst suggestedApps = await this._filterUnsupportedApps(apps);\n\n\t\t\t\tif (suggestedApps.length === 0 && !this.model.getProperty(\"/hasError\")) {\n\t\t\t\t\tthis._handleError(\"\", suggestedApps.length);\n\t\t\t\t} else {\n\t\t\t\t\t// update model with filtered apps\n\t\t\t\t\tthis.model.setProperty(\"/suggestedApps\", suggestedApps);\n\t\t\t\t\tthis.model.setProperty(\"/suggestedAppsCount\", suggestedApps.length);\n\t\t\t\t\tthis.appSuggestionList.updateAggregation(\"items\", ChangeReason.Refresh, { detailedReason: ChangeReason.Refresh });\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLog.error((err as Error).message);\n\t\t\tthis._handleError();\n\t\t} finally {\n\t\t\t// update search status only if search is not cancelled\n\t\t\tif (this.model.getProperty(\"/searchStatus\") === SearchStatus.Searching) {\n\t\t\t\tthis.model.setProperty(\"/searchStatus\", SearchStatus.Complete);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Filters out unsupported apps based on accessibility.\n\t *\n\t * @private\n\t * @param {SuggestedApp[]} apps - The list of suggested apps to filter.\n\t * @returns {Promise<SuggestedApp[]>} A promise that resolves to the filtered list of supported apps.\n\t */\n\tprivate async _filterUnsupportedApps(apps: SuggestedApp[]): Promise<SuggestedApp[]> {\n\t\tconst updatedApps = apps.filter((app) => (app.isStaticApp ? true : (app.vizData ?? false)));\n\t\tconst intents = updatedApps.map((app) => app.vizData?.target) || [];\n\t\tconst navigationService = await Container.getServiceAsync<Navigation>(\"Navigation\");\n\t\tconst supportedAppIndices = await navigationService.isNavigationSupported(intents as Target[]);\n\n\t\treturn updatedApps.filter((_, index) => supportedAppIndices[index]);\n\t}\n\n\t/**\n\t * Generates suggested apps from raw app data and visualizations.\n\t *\n\t * @private\n\t * @param {RawAppData[]} rawApps - The raw app data to process.\n\t * @param {IVisualization[]} allVisualizations - All available visualizations.\n\t * @param {ICustomVisualization[]} homePageVisualizations - Visualizations available in homepage.\n\t * @returns {SuggestedApp[]} The list of suggested apps.\n\t */\n\tprivate _generateApps(\n\t\trawApps: RawAppData[],\n\t\tallVisualizations: IVisualization[],\n\t\thomePageVisualizations: ICustomVisualization[]\n\t): SuggestedApp[] {\n\t\treturn rawApps.map((app) => {\n\t\t\tconst vizData = allVisualizations.find((viz) => viz.vizId === app.chipID);\n\t\t\tconst addedToHomePage = homePageVisualizations.some((viz) => viz.visualization?.vizId === app.chipID);\n\t\t\treturn {\n\t\t\t\ttitle: app.title,\n\t\t\t\tchipID: app.chipID,\n\t\t\t\tsubTitle: app.subTitle,\n\t\t\t\tdescription: app.appDescription,\n\t\t\t\ticon: app.iconUrl,\n\t\t\t\tvizData,\n\t\t\t\taddedToHomePage,\n\t\t\t\tisStaticApp: app.tileType === TileType.Static,\n\t\t\t\tstatus: this.getAppStatusTexts(app.configuration, addedToHomePage),\n\t\t\t\turl: vizData?.targetURL || \"\"\n\t\t\t};\n\t\t}) as SuggestedApp[];\n\t}\n\n\t/**\n\t * Validates the query string based on minimum length.\n\t *\n\t * @private\n\t * @param {string} query - The query string to validate.\n\t * @returns {boolean} True if the query is valid, otherwise false.\n\t */\n\tprivate isValidQuery(query: string = \"\"): boolean {\n\t\tquery = query?.trim();\n\t\treturn query.length >= Constants.MinQueryLength && query.length <= Constants.MaxDescriptionLength;\n\t}\n\n\t/**\n\t * Fetches all available visualizations for the user.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<IVisualization[]>} A promise that resolves to the list of visualizations.\n\t */\n\tprivate async fetchAllAvailableVisualizations(): Promise<IVisualization[]> {\n\t\tif (!this.allAvailableVisualizations) {\n\t\t\tconst searchableContentService = await Container.getServiceAsync<SearchableContent>(\"SearchableContent\");\n\t\t\tconst allAvailableApps = await searchableContentService.getApps({ enableVisualizationPreview: false });\n\t\t\tthis.allAvailableVisualizations = allAvailableApps.reduce((visualizations: IVisualization[], currentApp: AppData) => {\n\t\t\t\treturn visualizations.concat(currentApp.visualizations);\n\t\t\t}, []);\n\t\t}\n\n\t\treturn this.allAvailableVisualizations;\n\t}\n\n\t/**\n\t * Fetches a CSRF token for secure API requests.\n\t *\n\t * @private\n\t * @async\n\t * @returns {Promise<string | null>} A promise that resolves to the CSRF token or null if fetching fails.\n\t */\n\tprivate async _fetchCSRFToken(): Promise<string | null> {\n\t\ttry {\n\t\t\tconst response = await fetch(AI_APP_FINDER_BASE_URL, { method: \"GET\", headers: { \"X-CSRF-Token\": \"Fetch\" } });\n\t\t\treturn response.headers.get(\"X-CSRF-Token\");\n\t\t} catch (error) {\n\t\t\tLog.error(\"Failed to fetch CSRF token\", error as Error);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * Fetches apps from the search API based on the query.\n\t *\n\t * @private\n\t * @async\n\t * @param {string} query - The search query string.\n\t * @returns {Promise<RawAppData[]>} A promise that resolves to the list of raw app data.\n\t */\n\tprivate async fetchAppsFromSearch(query: string): Promise<RawAppData[]> {\n\t\ttry {\n\t\t\tconst token = await this._fetchCSRFToken();\n\t\t\tconst headers = {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t...(token && { \"X-CSRF-Token\": token })\n\t\t\t};\n\n\t\t\tconst response = await fetch(AI_APP_FINDER_API, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify({ UserInput: query })\n\t\t\t});\n\n\t\t\t// handle error responses\n\t\t\tif (!response.ok) {\n\t\t\t\tconst errorResponse = (await response.json()) as ErrorResponse;\n\t\t\t\tthis._handleError(errorResponse.error?.message || \"\");\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst queryResult = (await response.json()) as QueryResponse;\n\t\t\treturn queryResult.value || [];\n\t\t} catch (error) {\n\t\t\tLog.error((error as Error).message);\n\t\t\tthis._handleError();\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves status texts for an app based on its configuration and homepage status.\n\t *\n\t * @private\n\t * @param {string} configuration - The app's configuration string.\n\t * @param {boolean} addedToHomePage - Indicates if the app is already added to the homepage.\n\t * @returns {string[]} An array of status texts for the app.\n\t */\n\tprivate getAppStatusTexts(configuration: string, addedToHomePage: boolean): string[] {\n\t\tlet statusTexts = [];\n\n\t\tif (configuration) {\n\t\t\ttry {\n\t\t\t\tconst parsedConfig = JSON.parse(configuration) as Configuration;\n\t\t\t\tconst tileConfig = JSON.parse(parsedConfig?.tileConfiguration) as TileConfig;\n\t\t\t\tconst infoText = (tileConfig?.display_info_text || \"\").toLowerCase();\n\t\t\t\tif (infoText === Constants.DeprecatedInfoText) {\n\t\t\t\t\tstatusTexts.push(this._i18nBundle.getText(\"deprecatedApp\") as string);\n\t\t\t\t}\n\t\t\t} catch (error: unknown) {\n\t\t\t\tLog.warning((error as Error).message);\n\t\t\t}\n\t\t}\n\n\t\tif (addedToHomePage) {\n\t\t\tstatusTexts.push(this._i18nBundle.getText(\"alreadyAddedApp\") as string);\n\t\t}\n\n\t\treturn statusTexts;\n\t}\n\n\t/**\n\t * Generates status text controls for the provided status texts.\n\t *\n\t * @private\n\t * @param {string} id - The id of the list item.\n\t * @param {string[]} stausTexts - The list of status texts.\n\t * @returns {Text[]} An array of Text controls with applied styles.\n\t */\n\tprivate _generateStatusTexts(id: string, stausTexts: string[]): Text[] {\n\t\treturn stausTexts.map((status, index) => {\n\t\t\treturn new Text(recycleId(`${id}-statusText-${index}`), {\n\t\t\t\ttext: status\n\t\t\t}).addStyleClass(this.applyStatusClass(status));\n\t\t});\n\t}\n\n\t/**\n\t * Applies a CSS class to the status text based on its type.\n\t *\n\t * @private\n\t * @param {string} status - The status text to classify.\n\t * @returns {string} The CSS class for the status text.\n\t */\n\tpublic applyStatusClass(status: string): string {\n\t\tif (status === this._i18nBundle.getText(\"alreadyAddedApp\")) {\n\t\t\treturn \"addedAppStatusText\";\n\t\t} else if (status === this._i18nBundle.getText(\"deprecatedApp\")) {\n\t\t\treturn \"deprecatedAppStatusText\";\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t}\n\n\t/**\n\t * Handles the \"Add Apps\" button press event to add selected apps to favorites.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async onPressAddApps(): Promise<void> {\n\t\tconst userSelectedApps = this.model.getProperty(\"/userSelectedApps\") as CustomListItem[];\n\t\tlet staticAppsPresent = false;\n\t\tlet dynamicAppsPresent = false;\n\n\t\tfor (const app of userSelectedApps) {\n\t\t\tconst isStaticApp = app.getBindingContext()?.getProperty(\"isStaticApp\") as boolean;\n\t\t\tif (isStaticApp) staticAppsPresent = true;\n\t\t\telse dynamicAppsPresent = true;\n\n\t\t\tconst vizId = app.getBindingContext()?.getProperty(\"chipID\") as string;\n\t\t\tawait this.appManagerInstance.addVisualization(vizId, isStaticApp ? undefined : MYINSIGHT_SECTION_ID);\n\t\t}\n\n\t\tif (staticAppsPresent) {\n\t\t\tawait this.refreshFavoriteApps();\n\t\t}\n\n\t\tif (dynamicAppsPresent) {\n\t\t\tawait this.refreshInsightsApps();\n\t\t}\n\n\t\t(this.getParent() as ContentAdditionDialog)?.close();\n\t\tif (userSelectedApps.length > 1) {\n\t\t\tMessageToast.show(this._i18nBundle.getText(\"contentAddedToMyhome\") as string);\n\t\t} else {\n\t\t\tconst selectedItem = userSelectedApps?.[0];\n\t\t\tconst selectedAppTitle = (selectedItem?.getBindingContext?.()?.getProperty?.(\"title\") as string) ?? \"\";\n\t\t\tconst messageKey = staticAppsPresent ? \"appAddedToFavorites\" : \"tileAddedToInsights\";\n\t\t\tMessageToast.show(this._i18nBundle.getText(messageKey, [selectedAppTitle]) as string);\n\t\t}\n\t\tthis.resetPanel();\n\t}\n\n\t/**\n\t * Retrieves the parent BaseLayout instance for this panel.\n\t *\n\t * @private\n\t * @returns {BaseLayout} The parent BaseLayout instance.\n\t */\n\tprivate getLayout(): BaseLayout {\n\t\treturn this.getParent()?.getParent() as BaseLayout;\n\t}\n\n\t/**\n\t * Retrieves the AppsContainer instance from the parent layout.\n\t *\n\t * @private\n\t * @returns {AppsContainer | undefined} The AppsContainer instance or undefined if not found.\n\t */\n\tprivate getAppsContainer(): AppsContainer | undefined {\n\t\treturn this.getLayout()\n\t\t\t?.getItems()\n\t\t\t.find((container) => container instanceof AppsContainer);\n\t}\n\n\t/**\n\t * Retrieves the favorite apps panel from the AppsContainer.\n\t *\n\t * @private\n\t * @returns {FavAppPanel | undefined} The favorite apps panel or undefined if not found.\n\t */\n\tprivate getFavAppPanel(): FavAppPanel | undefined {\n\t\treturn this.getAppsContainer()\n\t\t\t?.getContent()\n\t\t\t.find((panel) => panel instanceof FavAppPanel);\n\t}\n\n\t/**\n\t * Refreshes the favorite apps panel in the AppsContainer.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async refreshFavoriteApps(): Promise<void> {\n\t\tawait this.getAppsContainer()?.refreshPanel(this.getFavAppPanel() as FavAppPanel);\n\t}\n\n\t/**\n\t * Retrieves the InsightsContainer instance from the parent layout.\n\t *\n\t * @private\n\t * @returns {InsightsContainer | undefined} The AppsContainer instance or undefined if not found.\n\t */\n\tprivate getInsightsContainer(): InsightsContainer | undefined {\n\t\treturn this.getLayout()\n\t\t\t?.getItems()\n\t\t\t.find((container) => container instanceof InsightsContainer);\n\t}\n\n\t/**\n\t * Refreshes the Insights tiles panel in the InsightsContainer.\n\t *\n\t * @private\n\t * @async\n\t */\n\tprivate async refreshInsightsApps(): Promise<void> {\n\t\tawait this.getInsightsContainer()?.refreshData(\"tiles\");\n\t}\n\n\t/**\n\t * Handles the selection change event for the suggested apps list.\n\t *\n\t * @public\n\t * @param {ListBase$SelectionChangeEvent} event - The selection change event.\n\t */\n\tpublic onListSelectionChange(event: ListBase$SelectionChangeEvent): void {\n\t\tconst listItem = event.getParameter(\"listItem\") as CustomListItem;\n\t\tconst selected = event.getParameter(\"selected\") as boolean;\n\n\t\tif (!selected) this.userSelectedApps.delete(listItem);\n\t\telse {\n\t\t\tconst context = listItem.getBindingContext();\n\t\t\tconst addedToHomePage = context?.getProperty(\"addedToHomePage\") as boolean;\n\t\t\tif (!addedToHomePage) this.userSelectedApps.add(listItem);\n\t\t}\n\n\t\tthis.model.setProperty(\"/userSelectedApps\", Array.from(this.userSelectedApps));\n\t}\n\n\t/**\n\t * Handles errors by updating the model with error details.\n\t *\n\t * @private\n\t * @param {string} [message=\"\"] - The error message to process.\n\t */\n\tprivate _handleError(message: string = \"\", suggestedResponseCount?: number): void {\n\t\tconst [, errorCode] = message.match(/\\((\\d{2})\\d*\\)\\s*(.*)/) || [];\n\t\tif (suggestedResponseCount === 0 || message.length === 0) {\n\t\t\tmessage = this._i18nBundle.getText(\"NoResultErrorDescription\") || \"\";\n\t\t}\n\t\tthis.model.setProperty(\"/hasError\", true);\n\t\tthis.model.setProperty(\"/errorType\", this._getErrorType(errorCode));\n\t\tthis.model.setProperty(\"/errorDescription\", message);\n\t}\n\n\t/**\n\t * Determines the error type based on the provided error code.\n\t *\n\t * @private\n\t * @param {string} [errorCode=\"\"] - The error code to evaluate.\n\t * @returns {ErrorType} The corresponding error type.\n\t */\n\tprivate _getErrorType(errorCode: string = \"\"): ErrorType {\n\t\tif (errorCode === \"10\") {\n\t\t\treturn ErrorType.ServiceError;\n\t\t} else {\n\t\t\treturn ErrorType.NoResultsFound;\n\t\t}\n\t}\n\n\t/**\n\t * Handles live change event for the search text area, updating value state and messages.\n\t *\n\t * @private\n\t * @param {TextArea$LiveChangeEvent} event - The live change event from the text area.\n\t */\n\tpublic onSearchTextAreaLiveChange(event: TextArea$LiveChangeEvent) {\n\t\tconst textArea = event.getSource();\n\t\tconst query = textArea.getValue().trim();\n\n\t\tif (query.length !== 0 && query.length < Constants.MinQueryLength) {\n\t\t\ttextArea.setValueState(ValueState.Information);\n\t\t\ttextArea.setValueStateText(this._i18nBundle.getText(\"minLengthRequired\"));\n\t\t} else if (query.length > Constants.MaxDescriptionLength) {\n\t\t\ttextArea.setValueState(ValueState.Warning);\n\t\t\ttextArea.setValueStateText(this._i18nBundle.getText(\"maxLengthExceeded\"));\n\t\t} else {\n\t\t\ttextArea.setValueState(ValueState.None);\n\t\t\ttextArea.setValueStateText(\"\");\n\t\t}\n\n\t\tthis.model.setProperty(\"/invalidQuery\", query.length === 0 || textArea.getValueState() !== ValueState.None);\n\t}\n\n\t/**\n\t * Generates the AI policy text with a link for display in the footer.\n\t *\n\t * @private\n\t * @returns {string} The formatted AI policy text.\n\t */\n\tpublic _generateAIPolicyText(): string {\n\t\tconst linkText = this._i18nBundle.getText(\"createdWithAI\");\n\t\treturn this._i18nBundle.getText(\"aiPolicyText\", [linkText])!;\n\t}\n\n\t/**\n\t * Resets the feedback state.\n\t *\n\t * @private\n\t */\n\tprivate resetFeedback(): void {\n\t\tthis.model.setProperty(\"/feedback\", {\n\t\t\tthumbsUp: false,\n\t\t\tthumbsDown: false\n\t\t});\n\t}\n\n\t/**\n\t * Marks feedback as provided and shows a confirmation message toast.\n\t *\n\t * @private\n\t */\n\tpublic sendFeedback(feedbackType: string): void {\n\t\tthis.resetFeedback();\n\t\tthis.model.setProperty(`/feedback/${feedbackType}`, true);\n\t\tMessageToast.show(this._i18nBundle.getText(\"feedBackSent\") as string, {\n\t\t\twidth: \"20em\"\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[]}