//@ui5-bundle sap/cux/home/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/AdvancedSettingsPanel", ["sap/base/Log","sap/insights/CardHelper","sap/m/Button","sap/m/CheckBox","sap/m/CustomListItem","sap/m/HBox","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/Input","sap/m/Label","sap/m/library","sap/m/List","sap/m/MessageStrip","sap/m/MessageToast","sap/m/ObjectStatus","sap/m/OverflowToolbar","sap/m/Panel","sap/m/Text","sap/m/Title","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/VBox","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/library","sap/ui/layout/form/SimpleForm","sap/ui/model/json/JSONModel","sap/ui/unified/FileUploader","sap/ushell/Container","./BaseSettingsPanel","./utils/Accessibility","./utils/AppManager","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/FESRUtil","./utils/HttpHelper","./utils/PageManager","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(t,e,s,n,o,i,r,a,l,c,p,d,u,h,g,m,f,P,I,x,S,v,T,b,E,C,y,B,M,_,w,z,U,A,R,L,F,N,D,$){"use strict";function O(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function H(t,e){try{var s=t()}catch(t){return e(t)}if(s&&s.then){return s.then(void 0,e)}return s}const k=p["FlexAlignItems"];const V=p["ToolbarStyle"];const j=E["ValueState"];const X=O(_);const J=w["checkPanelExists"];const G=O(z);const K=U["SETTINGS_PANELS_KEYS"];const q=A["recycleId"];const W=R["calculateDeviceType"];const Y=R["DeviceType"];const Z=L["addFESRSemanticStepName"];const Q=L["FESR_EVENTS"];const tt=O(F);const et=O(N);const st=O(D);const nt=O($);var ot=function(t){t["IMPORT"]="import";t["EXPORT"]="export";return t}(ot||{});const it="/sap/opu/odata4/ui2/insights_srv/srvd/ui2/";const rt=it+"insights_cards_repo_srv/0001/";const at=rt+"INSIGHTS_CARDS/com.sap.gateway.srvd.ui2.insights_cards_repo_srv.v0001.importExport?";const lt="AZHJGRIT78TG7Y65RF6EPFJ9U";const ct="sap.cux.home.NewsAndPagesContainer";const pt="sap.cux.home.AppsContainer";const dt="sap.cux.home.InsightsContainer";const ut="sap.cux.home.PagePanel";const ht="sap.cux.home.FavAppPanel";const gt="sap.cux.home.RecommendedAppPanel";const mt="sap.cux.home.TilesPanel";const ft="sap.cux.home.CardsPanel";const Pt=X.extend("sap.cux.home.AdvancedSettingsPanel",{metadata:{events:{sectionsImported:{}}},constructor:function t(e,s){X.prototype.constructor.call(this,e,s)},init:function t(){X.prototype.init.call(this);this.setProperty("key",K.ADVANCED);this.setProperty("title",this._i18nBundle.getText("advancedSettings"));this.setProperty("icon","sap-icon://grid");this.oEventBus=b.getInstance();this.oAppManagerInstance=G.getInstance();this.oSectionsImported={};this.oUserPersonalization={export:{sections:[],fileName:"MY_HOME",sectionsSelected:false,error:false},import:{sections:[],sectionsSelected:false,error:false},selectedTab:"export",showNoImport:false};this.oControlModel=new y(this.oUserPersonalization);this.addAggregation("content",this.getContent());this.addInnerContent();this.attachPanelNavigated(()=>{const t=this;void function(){try{if(!t.oPageManagerInstance){t.oPageManagerInstance=et.getInstance(st.getPersContainerId(t._getPanel()),st.getOwnerComponent(t._getPanel()))}t.oEventBus.subscribe("importChannel","tilesImported",(e,s,n)=>{const o=n.status;t.updateImportStatus("insightsTiles",!o)},t);t.oEventBus.subscribe("importChannel","appsImported",(e,s,n)=>{const o=n.status;t.updateImportStatus("favApps",!o)},t);t.oEventBus.subscribe("importChannel","favPagesImported",(e,s,n)=>{const o=n.status;t.updateImportStatus("pages",!o)},t);t.oEventBus.subscribe("importChannel","cardsImported",(e,s,n)=>{const o=n.status;t.updateImportStatus("insightsCards",!o)},t);t.oDetailPage=T.getElementById(t.getProperty("key")+"-detail-page");const e=t._getPanel();if(J(e,pt,gt)&&W()!==Y.Mobile){void t._setRecommendationSettingsPanel()}return Promise.resolve(t.loadUserPersonalizationData()).then(function(){t.oImportBtn.setEnabled(t.oUserPersonalization.import.sectionsSelected);t.enableDisableActions(t.oUserPersonalization.selectedTab);t.setImportExportList();t.oExportMessage.setText(t.oUserPersonalization.export.errorMessage?String(t.oUserPersonalization.export.errorMessage):"");t.oExportMessage.setType(t.oUserPersonalization.export.errorType);t.oExportMessage.setProperty("visible",t.oUserPersonalization.export.error,true);t.oFileNameInput.setValue(String(t.oUserPersonalization.export.fileName));t.oImportMessage.setText(t.oUserPersonalization.import.errorMessage?String(t.oUserPersonalization.import.errorMessage):"");t.oImportMessage.setType(t.oUserPersonalization.import.errorType);t.oImportMessage.setVisible(t.oUserPersonalization.import.error)})}catch(t){return Promise.reject(t)}}()})},setImportExportList:function t(){this.oExportList?.destroy();this.oExportList=this.setExportSectionList();this._importExportPanel.addContent(this.oExportList);if(!this.oImportList){this.oImportList=this.setImportSectionList();this._importExportPanel.addContent(this.oImportList)}else{this.oImportList.invalidate()}},enableDisableActions:function t(e){this.oImportExportTab?.setSelectedKey(e);this.oImportBtn?.setVisible(e===ot.IMPORT);this.oExportBtn?.setVisible(e===ot.EXPORT);if(this.oUserPersonalization.import.sectionsSelected&&e===ot.IMPORT){this.oImportBtn.setEnabled(true)}else{this.oImportBtn.setEnabled(false)}if(e===ot.EXPORT&&this.oUserPersonalization.export.fileName&&this.oUserPersonalization.export.sections?.length&&this.oUserPersonalization.export.sectionsSelected){this.oExportBtn.setEnabled(true)}else{this.oExportBtn.setEnabled(false)}},setExportImportValues:function t(e){if(e===ot.EXPORT){this.oExportMessage.setText(this.oUserPersonalization.export.errorMessage?String(this.oUserPersonalization.export.errorMessage):"");this.oExportMessage.setType(this.oUserPersonalization.export.errorType);this.oExportMessage.setProperty("visible",this.oUserPersonalization.export.error,true)}else if(e===ot.IMPORT){this.oImportMessage.setText(this.oUserPersonalization.import.errorMessage?String(this.oUserPersonalization.import.errorMessage):"");this.oImportMessage.setType(this.oUserPersonalization.import.errorType);this.oImportMessage.setProperty("visible",this.oUserPersonalization.import.error)}},getContent:function t(){if(!this.oContentVBox){this.oContentVBox=new v(this.getId()+"--idAdvancedVBox",{items:[new P(this.getId()+"--idPersonalizationSubheader",{text:this._i18nBundle.getText("advancedSettingsSubheader")}).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginTop"),this._getImportExportPanel()]})}return this.oContentVBox},_getImportExportPanel:function t(){if(!this._importExportPanel){this._importExportPanel=new f(`${this.getId()}-importExportPanel`,{headerToolbar:new m(`${this.getId()}-importExportPanelToolbar`,{style:V.Clear,content:[new I(`${this.getId()}-importExportPanelToolbarText`,{text:this._i18nBundle.getText("importAndExportPanelHeader"),level:"H3"}),new S(`${this.getId()}-importExportPanelToolbarSpacer`),this._getImportButton(),this._getExportButton()]}),headerText:this._i18nBundle.getText("importAndExportPanelHeader"),expanded:true,expandable:true,content:[]}).addStyleClass("sapUiSmallMarginTop")}return this._importExportPanel},_getImportButton:function t(){if(!this.oImportBtn){this.oImportBtn=new s({id:`${this.getId()}-importBtn`,text:this._i18nBundle.getText("import"),type:"Transparent",press:()=>{void this.onImportPress()},visible:false});Z(this._getImportButton(),Q.PRESS,"importBtn")}return this.oImportBtn},_getExportButton:function t(){if(!this.oExportBtn){this.oExportBtn=new s({id:`${this.getId()}-exportBtn`,text:this._i18nBundle.getText("export"),type:"Transparent",press:this.onExportPress.bind(this),visible:true});Z(this.oExportBtn,Q.PRESS,"exportBtn")}return this.oExportBtn},addInnerContent:function t(){if(!this.oImportExportTab){this.oImportExportTab=new r(this.getId()+"--idImportExportTab",{expandable:false,backgroundDesign:"Transparent",selectedKey:this.oSelectedTab?this.oSelectedTab:"export",select:this.onImportExportTabSelect.bind(this)});const t=new a(this.getId()+"--idExportTab",{key:"export",text:this._i18nBundle.getText("exportFile")});Z(t,Q.SELECT,"exportTab");this.oExportMessage=new u(this.getId()+"--idExportMessageStrip",{showIcon:true,visible:false}).addStyleClass("sapUiNoMarginBegin sapUiTinyMarginBottom");const e=new P(this.getId()+"--idExportText",{text:this._i18nBundle.getText("exportText")}).addStyleClass("advancePadding");const n=new i(this.getId()+"--idFileInputContainer",{alignItems:"Center"}).addStyleClass("sapUiSmallMargin");const o=new c(this.getId()+"--idFilenameLabel",{text:this._i18nBundle.getText("exportFileNameLabel"),labelFor:"idTitleFilenameInput",required:true,showColon:true}).addStyleClass("sapUiSmallMarginEnd");this.oFileNameInput=new l(this.getId()+"--idFileNameInput",{ariaLabelledBy:[`${this.getId()}--idExportText`,`${this.getId()}--idFilenameLabel`],required:true,width:"13rem",liveChange:this.onFileNameInputChange.bind(this),value:""});n.addItem(o);n.addItem(this.oFileNameInput);t.addContent(this.oExportMessage);t.addContent(e);t.addContent(n);const p=new a(this.getId()+"--idImportTab",{key:"import",text:this._i18nBundle.getText("importFile")});Z(p,Q.SELECT,"importTab");this.oImportMessage=new u(this.getId()+"--idImportMessageStrip",{text:"{advsettings>/import/errorMessage}",type:"{advsettings>/import/errorType}",showIcon:true,visible:false}).addStyleClass("sapUiNoMarginBegin sapUiTinyMarginBottom");const d=new P(this.getId()+"--idImportText",{text:this._i18nBundle.getText("importText")}).addStyleClass("advancePadding");const h=new C(this.getId()+"--idImportSimpleForm",{editable:true,layout:"ResponsiveGridLayout",labelSpanS:4,labelSpanM:4});const g=new B(this.getId()+"--idImportFileUploader",{tooltip:this._i18nBundle.getText("uploadImportFile"),fileType:["txt"],change:t=>{void this.onFileImport(t)},maximumFileSize:25,sameFilenameAllowed:true,width:"80%",ariaLabelledBy:[`${this.getId()}--idImportText`],buttonText:this._i18nBundle.getText("importFileUploaderButton")});h.addContent(g);p.addContent(this.oImportMessage);p.addContent(d);p.addContent(h);const m=new a(this.getId()+"--idClassicImportTab",{key:"classicImport",text:this._i18nBundle.getText("classicImport")});Z(m,Q.SELECT,"classicImportTab");const f=new P(this.getId()+"--idClassicImportText",{text:this._i18nBundle.getText("classicImportText")}).addStyleClass("sapUiSmallMarginBottom advancePadding");const I=new s(this.getId()+"--resetImportAppsNow",{text:this._i18nBundle.getText("resetButton"),press:this.onResetImportApps.bind(this),ariaLabelledBy:[`${this.getId()}--idClassicImportText`]}).addStyleClass("resetButtonPadding");Z(I,Q.PRESS,"resetImportApps");m.addContent(f);m.addContent(I);this.oImportExportTab.addItem(t);this.oImportExportTab.addItem(p);this.oImportExportTab.addItem(m);this._importExportPanel.addContent(this.oImportExportTab);this._importExportPanel.addContent(this.setExportSectionList())}},setExportSectionList:function t(){const e=new d(`${this.getId()}--exportSectionsList`,{width:"calc(100% - 2rem)",growingThreshold:50,includeItemInSelection:true,visible:"{= ${advsettings>/selectedTab} === 'export'}"}).addStyleClass("sapUiSmallMarginBegin");const s=new x(`${this.getId()}--exportSectionsListToolbar`,{content:[new I(this.getId()+"--idExportSectionsListHeaderText",{text:this._i18nBundle.getText("sectionExportListHeader"),level:"H4"}).addStyleClass("sectionTitle")]});e.setHeaderToolbar(s);e.setModel(this.oControlModel,"advsettings");e.bindItems({path:"advsettings>/export/sections",template:new o(`${this.getId()}--exportCustomListItem`,{visible:{path:"advsettings>panelClass",formatter:this._isPanelAvailable.bind(this)},accDescription:{parts:[{path:"advsettings>enabled"},{path:"advsettings>selected"},{path:"advsettings>title"}],formatter:this._formatAccDescription.bind(this)},content:[new i(q(`${this.getId()}--exportContentBox`),{alignItems:"Center",items:[new n(q(`${this.getId()}--exportListItemCheck`),{select:this.onSectionsSelectionChange.bind(this,false),selected:"{advsettings>selected}",enabled:"{advsettings>enabled}"}),new P(q(`${this.getId()}--exportListItemText`),{text:"{advsettings>title}"})],width:"100%"})]})});this.oExportList=e;return e},_formatAccDescription:function t(e,s,n){const o=!e?`${this._i18nBundle.getText("checkboxDisabledText")}.`:"";const i=s?this._i18nBundle.getText("checkboxCheckedText"):this._i18nBundle.getText("checkboxUnCheckedText");const r=this._i18nBundle.getText("checkboxInstructionText");return`${o}${i}. ${n}. ${r}`},_isPanelAvailable:function t(e){const s={[ht]:{containerName:pt,panelName:ht},[ut]:{containerName:ct,panelName:ut},[mt]:{containerName:dt,panelName:mt},[ft]:{containerName:dt,panelName:ft}};const n=s[e];if(!n)return false;const o=this._getPanel();return J(o,n.containerName,n.panelName)},setImportSectionList:function t(){const e=new d(this.getId()+"--idImportSectionsList",{width:"calc(100% - 2rem)",growingThreshold:50,includeItemInSelection:true,visible:"{= ${advsettings>/selectedTab} === 'import' && (${advsettings>/import/sections/length} > 0 || ${advsettings>/showNoImport})}"}).addStyleClass("sapUiSmallMarginBegin");const s=new x(this.getId()+"--idImportSectionsListToolbar",{content:[new I(`${this.getId()}--importSectionsListHeaderText`,{text:this._i18nBundle.getText("sectionImportListHeader")}).addStyleClass("sectionTitle")]});e.setHeaderToolbar(s);e.setModel(this.oControlModel,"advsettings");e.bindItems({path:"advsettings>/import/sections",template:new o(`${this.getId()}--importCustomListItem`,{accDescription:{path:"advsettings>title",formatter:this._formatAccDescription.bind(this)},content:[new i(`${this.getId()}--importListCheckBox`,{justifyContent:"SpaceBetween",items:[new i(`${this.getId()}--importListItemCheckHBox`,{items:[new n(`${this.getId()}--importListItemCheck`,{select:this.onSectionsSelectionChange.bind(this,true),selected:"{advsettings>selected}",enabled:"{advsettings>enabled}"}),new P(`${this.getId()}--importListItemText`,{text:"{advsettings>title}"}).addStyleClass("sapUiTinyMarginTop")]}),new i(`${this.getId()}--importStatusHBox`,{items:[new g(`${this.getId()}--importItemStatus`,{icon:"{= ${advsettings>status} === 'Success' ? 'sap-icon://status-positive' : 'sap-icon://status-negative' }",state:"{advsettings>status}",visible:"{= ${advsettings>status} !== 'None'}"}).addStyleClass("sapUiSmallMarginEnd sapUiTinyMarginTop")]})],width:"100%"})]})});return e},onSectionsSelectionChange:function t(e){const s=e?this.oImportList.getItems():this.oExportList.getItems();let n=false;let o,i;const r=s.some(function(t){if(!e){o=t.getAggregation("content");i=o[0].getItems()[0];n=i.getSelected()}else{o=t.getAggregation("content");const e=o[0].getItems()[0];i=e.getItems()[0];n=i.getSelected()}return n});this.oControlModel.setProperty((e?"/import":"/export")+"/sectionsSelected",r);this.enableDisableActions(e?"import":"export")},onImportPress:function e(){try{const e=this;e.attachEvent("sectionsImported",()=>{e.oDetailPage.setBusy(false);e.oControlModel.setProperty("/import/sectionsSelected",false)});e.oImportBtn.setEnabled(false);e.oDetailPage.setBusy(true);e.handleUserPersonalizationError(ot.IMPORT,false,"","");const s=e.oUserPersonalization.import.data;const n=H(function(){return Promise.resolve(e.importSections(s)).then(function(t){const s=t.some(t=>t.status===j.Error);if(s){e.handleUserPersonalizationError(ot.IMPORT,true,String(e._i18nBundle.getText("userPersonalizationImportError")),"Warning")}e.oControlModel.setProperty("/import/sections",t)})},function(s){t.error("importpress",String(s));e.handleUserPersonalizationError(ot.IMPORT,true,String(e._i18nBundle.getText("userPersonalizationImportError")),"Error")});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},importSections:function e(s){const n=[];const o=[];const i=this.oControlModel.getProperty("/import/sections");n.push(()=>this.importApps(s));n.push(()=>this.importTiles(s));n.push(()=>this.importFavPages(s));o.push(n.reduce((t,e)=>t.then(()=>e()),Promise.resolve()));o.push(this.importCards(s));return Promise.all(o).then(()=>i).catch(e=>{t.error("import failed",String(e));return[]})},importApps:function t(e){return new Promise(t=>{const s=this.oControlModel.getProperty("/import/sections");if(e?.apps&&e?.apps.length>0&&this.isSectionSelected(s,String(this._i18nBundle.getText("favApps")))){this.oSectionsImported[String(this._i18nBundle.getText("favApps"))]=false;this.oEventBus.publish("importChannel","appsImport",{apps:e.apps,groupInfo:e.groupInfo});t()}else{this.oSectionsImported[String(this._i18nBundle.getText("favApps"))]=true;this.updateImportStatus("favApps");t()}})},importTiles:function t(e){return new Promise(t=>{const s=this.oControlModel.getProperty("/import/sections");if(e?.tiles&&e.tiles.length>0&&this.isSectionSelected(s,String(this._i18nBundle.getText("insightsTiles")))){this.oSectionsImported[String(this._i18nBundle.getText("insightsTiles"))]=false;this.oEventBus.publish("importChannel","tilesImport",e.tiles);t()}else{this.oSectionsImported[String(this._i18nBundle.getText("insightsTiles"))]=true;this.updateImportStatus("insightsTiles");t()}})},importFavPages:function t(e){return new Promise(t=>{const s=this.oControlModel.getProperty("/import/sections");if(e?.favouritePages&&e.favouritePages.length>0&&this.isSectionSelected(s,String(this._i18nBundle.getText("pages")))){this.oSectionsImported[String(this._i18nBundle.getText("pages"))]=false;this.oEventBus.publish("importChannel","favPagesImport",e.favouritePages);t()}else{this.oSectionsImported[String(this._i18nBundle.getText("pages"))]=true;this.updateImportStatus("pages");t()}})},importCards:function t(e){return new Promise(t=>{const s=this.oControlModel.getProperty("/import/sections");if(e?.cards&&e.cards.length>0&&this.isSectionSelected(s,String(this._i18nBundle.getText("insightsCards")))){this.oSectionsImported[String(this._i18nBundle.getText("insightsCards"))]=false;this.oEventBus.publish("importChannel","cardsImport",e.cards);t()}else{this.oSectionsImported[String(this._i18nBundle.getText("insightsCards"))]=true;this.updateImportStatus("insightsCards");t()}})},updateImportStatus:function t(e,s){const n=String(this._i18nBundle.getText(e));const o=this.oControlModel.getProperty("/import/sections");const i=o.find(function(t){return t.title===n});if(i){if(s!==undefined){i.status=s?j.Error:j.Success}else{i.status=j.None}if(i.status===j.Success){i.enabled=false}}this.oSectionsImported[n]=true;const r=Object.keys(this.oSectionsImported);const a=r.every(t=>this.oSectionsImported[t]);if(a){this.fireEvent("sectionsImported")}},resetImportModel:function t(e){this.oControlModel.setProperty("/import/sections",[]);this.oControlModel.setProperty("/import/sectionsSelected",false);this.oControlModel.setProperty("/import/error",false);if(e){this.oControlModel.setProperty("/selectedTab","export");T.getElementById(this.getId()+"--idImportFileUploader")?.setValue("")}},getDeltaSectionViz:function e(s){try{const e=this;return Promise.resolve(H(function(){return Promise.resolve(e.oAppManagerInstance._getSections(true)).then(function(t){s.forEach(e=>{let s;if(e.default){s=t.find(t=>t.default)}else{s=t.find(t=>t.id===e.id)}if(s){const t=e.visualizations?.filter(t=>s.visualizations?.every(e=>e.isBookmark?e.targetURL!==t.targetURL:e.vizId!==t.vizId));e.visualizations=t}});s=s.filter(t=>t.visualizations&&t.visualizations.length>0);return s})},function(e){t.error("Error occurred while fetching delta section visualizations:"+String(e));return[]}))}catch(t){return Promise.reject(t)}},getDeltaAuthSectionViz:function e(s){if(s&&s.length){return this.getDeltaSectionViz(s).then(t=>this.filterAuthSectionViz(t)).catch(e=>{t.error(String(e));return[]})}return Promise.resolve([])},filterAuthSectionViz:function t(e){try{const t=function(){return M.getServiceAsync("SearchableContent").then(function(t){return t.getApps({includeAppsWithoutVisualizations:false})})};const s=function(t,e){const s=[];e?.forEach(function(e){for(let n of t){const t=n;const o=t.visualizations.find(function(t){return t.vizId===e.vizId||e.isBookmark&&t.target&&e.target?.action===t.target.action&&e.target?.semanticObject===t.target.semanticObject});if(o){o.displayFormatHint=e.displayFormatHint!=="standard"?String(e.displayFormatHint):String(o.displayFormatHint);o.id=String(e.id??o.id);s.push(e.isBookmark?e:o);break}}});return s};return Promise.resolve(t().then(function(t){return e.map(function(e){e.visualizations=s(t,e.visualizations);return e})}))}catch(t){return Promise.reject(t)}},filterAuthFavPages:function t(e){try{let s=false;const n=this;function o(t){return s?t:Promise.resolve([])}const i=function(){if(e&&e.length>0){return Promise.resolve(n.oPageManagerInstance.fetchAllAvailablePages().then(function(t){return e.filter(function(e){return t.filter(function(t){return t.pageId===e.pageId&&t.spaceId===e.spaceId}).length})})).then(function(t){s=true;return t})}}();return Promise.resolve(i&&i.then?i.then(o):o(i))}catch(r){return Promise.reject(r)}},filterAuthCards:function t(e){try{let s=false;function n(t){return s?t:Promise.resolve([])}const o=function(t,e){return t.find(function(t){return t.resolutionResult&&t.resolutionResult.applicationDependencies&&e["sap.insights"]&&t.resolutionResult.applicationDependencies.name===e["sap.insights"].parentAppId})};const i=function(t,e){if(e){return t.isNavigationSupported([{target:{semanticObject:e.semanticObject,action:e.action}}]).then(function(t){return t[0].supported||false})}return Promise.resolve(false)};const r=function(){if(e&&e.length>0){return Promise.resolve(Promise.all([M.getServiceAsync("ClientSideTargetResolution"),M.getServiceAsync("Navigation")]).then(function(t){const s=t[0];const n=t[1];const r=s._oAdapter._aInbounds||[];return e.reduce(function(t,e){return Promise.resolve(t).then(function(t){const s=o(r,e);return Promise.resolve(i(n,s)).then(function(s){if(s){t.push(e)}return t})})},Promise.resolve([]))})).then(function(t){s=true;return t})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(a){return Promise.reject(a)}},onFileImport:function e(s){this.handleUserPersonalizationError(ot.IMPORT,false,"","");this.resetImportModel();this.oDetailPage.setBusy(true);const n=s.getParameter("files");const o=n&&n[0];return this.readFileContent(o).then(t=>{const e=window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}));return tt.Post(at,{fileContent:e}).then(t=>{if(t&&t.error){throw new Error(t.error)}if(t&&t.value&&t.value.length){const e=t.value[0].fileContent;const s=JSON.parse(e);if(s.host===window.location.host){const t=s.sections||[];t.push({id:lt,visualizations:s.tiles||[]});return this.filterAuthorizedImportData(t,s)}else{this.handleUserPersonalizationError(ot.IMPORT,true,String(this._i18nBundle.getText("importSourceErrorMessage")),"");return Promise.resolve()}}})}).catch(e=>{t.error(String(e));this.handleUserPersonalizationError(ot.IMPORT,true,"","")}).finally(()=>{this.oDetailPage.setBusy(false);this.enableDisableActions(ot.IMPORT)})},filterAuthorizedImportData:function t(e,s){try{const t=this;let n=[t.getDeltaAuthSectionViz(e),t.filterAuthFavPages(s.favouritePages)];return Promise.resolve(t.isInsightsEnabled()).then(function(e){if(e){n.push(t.filterAuthCards(s.cards));n.push(t.getInsightCards())}return Promise.all(n).then(function(e){try{const n=e[0];const o=e[1];const i=e[2]||[];const r=e[3]?.getProperty("/cardCount")||0;s.apps=n.filter(function(t){return t.id!==lt});s.tiles=(n.find(function(t){return t.id===lt})||{}).visualizations||[];s.favouritePages=o;s.cards=i||[];const a=r+Number(i?.length);if(a>99){t.handleUserPersonalizationError(ot.IMPORT,true,String(t._i18nBundle.getText("importCardCountErrorMessage")),"")}return Promise.resolve(t.getImportedSections(s,ot.IMPORT,r)).then(function(e){e=e.map(function(t){t.status=j.None;return t});t.oUserPersonalization.import.data=s;t.oControlModel.setProperty("/import/sections",e);t.oControlModel.setProperty("/import/sectionsSelected",t.getSelectedSections(e).length>0);t.oControlModel.setProperty("/showNoImport",e.length===0)})}catch(t){return Promise.reject(t)}})})}catch(t){return Promise.reject(t)}},readFileContent:function t(e){return new Promise(function(t,s){if(e&&window.FileReader){const s=new FileReader;s.onload=function(e){const s=e.target;t(s?.result)};const n=e;s.readAsText(n)}else{s(new Error("Error"))}})},_getPersonalizationData:function t(){try{const e=this;function s(){return Promise.resolve(e.oPersonalizerInstance.read()).then(function(t){e.persData=t||{};return e.persData})}const n=function(){if(!e.oPersonalizerInstance){return Promise.resolve(nt.getInstance(st.getPersContainerId(e._getPanel()),st.getOwnerComponent(e._getPanel()))).then(function(t){e.oPersonalizerInstance=t})}}();return Promise.resolve(n&&n.then?n.then(s):s(n))}catch(o){return Promise.reject(o)}},loadUserPersonalizationData:function t(){try{const t=this;t.oExportList.setBusy(true);return Promise.resolve(t._getPersonalizationData()).then(function(e){let s=[t.oAppManagerInstance._getSections(true)];return Promise.resolve(t.isInsightsEnabled()).then(function(n){if(n){s.push(t.getInsightCards())}return Promise.resolve(Promise.all(s)).then(function(s){const[n,o]=s;const i=n,r=i.filter(t=>t.id!==lt&&t.visualizations?.length);const a=i.find(t=>t.id===lt)?.visualizations||[];const l=o&&o.getProperty("/visibleCards")?o.getProperty("/visibleCards").map(t=>t.descriptorContent):[];const c={apps:r,tiles:a,favouritePages:e.favouritePages,cards:l,personalization:e};return Promise.resolve(t.getImportedSections(c,ot.EXPORT,0)).then(function(e){t.oUserPersonalization.export.data=c;t.oUserPersonalization.export.sections=e;t.oUserPersonalization.export.sectionsSelected=t.getSelectedSections(e).length>0;t.oControlModel.refresh();t.oExportList.setBusy(false)})})})})}catch(t){return Promise.reject(t)}},isInsightsEnabled:function s(){try{let s=false;return Promise.resolve(H(function(){let t=false;return Promise.resolve(e.getServiceAsync()).then(function(t){if(t){s=true;return true}return false})},function(e){t.error(e instanceof Error?e.message:String(e));return false}))}catch(t){return Promise.reject(t)}},getSelectedSections:function t(e){return e.filter(function(t){return t.selected&&t.enabled})||[]},isSectionSelected:function t(e,s){const n=e.find(function(t){return t.title===s});return!!(n&&n.selected&&n.enabled)},getImportedSections:function t(e,s,n){try{const o=this;function i(t){const s=e.apps&&e.apps.some(function(t){return t&&t.visualizations&&t.visualizations.length>0});const i=[{title:o._i18nBundle.getText("favApps"),selected:s,enabled:s,panelClass:ht},{title:o._i18nBundle.getText("pages"),selected:t?.length>0,enabled:t?.length>0,panelClass:ut},{title:o._i18nBundle.getText("insightsTiles"),selected:e.tiles&&e.tiles.length>0,enabled:e.tiles&&e.tiles.length>0,panelClass:mt}];return Promise.resolve(o.isInsightsEnabled()).then(function(t){if(t){i.push({title:o._i18nBundle.getText("insightsCards"),selected:e.cards&&e.cards.length>0&&e.cards.length+n<=99,enabled:e.cards&&e.cards.length>0&&e.cards.length+n<=99,panelClass:ft})}return i})}const r=s===ot.IMPORT;return Promise.resolve(r?Promise.resolve(o.getDeltaFavPages(e.favouritePages)).then(i):i(e.favouritePages))}catch(a){return Promise.reject(a)}},getDeltaFavPages:function t(e){try{const t=this;return Promise.resolve(t._getPersonalizationData()).then(function(t){const s=t.favouritePages||[];return s.length!==e.length?e:e.filter(function(t){return!s.find(function(e){return t.pageId===e.pageId&&t.spaceId===e.spaceId})})})}catch(t){return Promise.reject(t)}},getInsightCards:function t(){try{const t=this;return Promise.resolve(H(function(){return Promise.resolve(e.getServiceAsync()).then(function(e){t.cardHelperInstance=e;return Promise.resolve(t.cardHelperInstance._getUserAllCardModel()).then(function(t){const e=t.getProperty("/cards");const s=e.filter(function(t){return t.visibility});t.setProperty("/visibleCards",s);return t})})},function(t){throw t}))}catch(t){return Promise.reject(t)}},onExportPress:function e(){this.handleUserPersonalizationError(ot.EXPORT,false,"","");const s=this.oControlModel.getProperty("/export/fileName"),n=this.oControlModel.getProperty("/export/sections"),o=this.oUserPersonalization.export.data;const i=this.getExportFileContent(o,n);sap.ui.require(["sap/ui/core/util/File"],e=>{try{e.save(JSON.stringify(i),s,"txt","text/plain","utf-8");h.show(String(this._i18nBundle.getText("userPersonalizationExportSuccess")))}catch(e){t.error(e instanceof Error?e.message:String(e));if(e instanceof Error&&e?.name!==undefined&&e.name!=="AbortError"){this.handleUserPersonalizationError(ot.EXPORT,true,"","")}}})},getExportFileContent:function t(e,s){const n=e?.personalization,o={host:window.location.host,createdDate:new Date,sections:[],groupInfo:[],tiles:[],cards:[],favouritePages:[]};if(this.isSectionSelected(s,this._i18nBundle.getText("favApps"))){o.sections=e?.apps||[];o.groupInfo=n?.favoriteApps||[]}if(this.isSectionSelected(s,this._i18nBundle.getText("pages"))){o.favouritePages=n?.favouritePages||[]}if(this.isSectionSelected(s,this._i18nBundle.getText("insightsTiles"))){o.tiles=e?.tiles||[]}if(this.isSectionSelected(s,this._i18nBundle.getText("insightsCards"))){o.cards=this.filterNonSensitiveCards(e?.cards||[])}return o},filterNonSensitiveCards:function t(e){const s=[];e.forEach(t=>{if(t["sap.card"]?.configuration?.parameters){const e=t["sap.card"].configuration.parameters;let n=[];n=n.concat(this.getSensitiveProps(e.headerState)).concat(this.getSensitiveProps(e.lineItemState)).concat(this.getSensitiveProps(e.state));if(n.length===0){s.push(t)}}else{s.push(t)}});if(e.length!==s.length){this.handleUserPersonalizationError(ot.EXPORT,true,String(this._i18nBundle.getText("exportSensitiveCardsErrorMessage")),"Warning")}return s},getSensitiveProps:function t(e){let s=[];if(e?.value){const t=JSON.parse(e.value);const n=t.sensitiveProps||Object.keys(t.parameters?.ibnParams?.sensitiveProps||{});if(n.length>0){s=s.concat(n)}}return s},handleUserPersonalizationError:function t(e,s,n,o){const i=this._i18nBundle.getText(e===ot.IMPORT?"importErrorMessage":"exportErrorMessage");this.oControlModel.setProperty("/"+e+"/error",s,undefined,true);this.oControlModel.setProperty("/"+e+"/errorMessage",n||i,undefined,true);this.oControlModel.setProperty("/"+e+"/errorType",o||"Error",undefined,true);this.setExportImportValues(e)},onImportExportTabSelect:function t(e){const s=e.getParameter("selectedKey");this.oSelectedTab=s;this.oControlModel.setProperty("/selectedTab",s);this.oExportList.setVisible(s==="export");this.oImportBtn.setVisible(s==="import");this.oExportBtn.setVisible(s==="export");this.oImportBtn.setEnabled(this.oUserPersonalization.import.sectionsSelected);this.oExportBtn.setEnabled(this.oUserPersonalization.export.sectionsSelected);this.oExportBtn.setEnabled(!!(this.oUserPersonalization.export.fileName&&this.oUserPersonalization.export.sections&&this.oUserPersonalization.export.sections.length>0&&this.oUserPersonalization.export.sectionsSelected))},onFileNameInputChange:function t(e){const s=e.getParameter("value")?.trim();const n=e.getSource();let o=j.None;let i="";if(!s||!s.length){o=j.Error;i=String(this._i18nBundle.getText("invalidExportFileName"))}n.setValueState(o);n.setValueStateText(i);this.oControlModel.setProperty("/export/fileName",s);this.enableDisableActions(ot.EXPORT)},onResetImportApps:function t(){this.oEventBus.publish("importChannel","resetImported");h.show(this._i18nBundle.getText("importAppsNowBtnEnabled"))},_getRecommendationSettingsPanel:function t(){try{const t=this;return Promise.resolve(t._getPersonalizationData()).then(function(e){if(!t._recommendationSettingsPanel){const s=t.getId()+"--recommendationSettingsPanel";t._recommendationSettingsPanel=new f(s,{headerToolbar:new m(t.getId()+"--idRecommenedPanelToolbar",{content:[new I({text:t._i18nBundle.getText("recommendationSettingsHeader"),level:"H3"})]}),expanded:true,expandable:true,content:[new P({id:`${s}-container-subHeader`,text:t._i18nBundle.getText("recommendationSettingsSubHeader")}),new i({id:`${s}-container`,items:[new n({id:`${s}-container-checkBox`,selected:e.showRecommendation??true,select:e=>t.onRecommendationSettingChange(e),ariaLabelledBy:[`${s}-container-subHeader`,`${s}-container-label`]}),new P({id:`${s}-container-label`,text:t._i18nBundle.getText("recommendationSettingsCheckboxLabel")})],alignItems:k.Center}).addStyleClass("sapUiSmallMarginTop")]}).addStyleClass("sapUiSmallMarginTop")}return t._recommendationSettingsPanel})}catch(t){return Promise.reject(t)}},_setRecommendationSettingsPanel:function t(){try{const t=this;t.oDetailPage.setBusy(true);return Promise.resolve(t._getRecommendationSettingsPanel()).then(function(e){if(e){t.oContentVBox.addItem(e);t.oDetailPage.setBusy(false)}})}catch(t){return Promise.reject(t)}},onRecommendationSettingChange:function t(e){try{const t=this;const s=e.getParameter("selected");t.oEventBus.publish("importChannel","recommendationSettingChanged",{showRecommendation:s});return Promise.resolve(t._getPersonalizationData()).then(function(e){void t.oPersonalizerInstance.write({...e,showRecommendation:s})})}catch(t){return Promise.reject(t)}}});Pt.ImportExportType=ot;return Pt});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/App", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/Container","./BaseApp","./utils/AppManager"],function(e,t,n,r,o,s){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const i=c(o);const a=c(s);const u=i.extend("sap.cux.home.App",{metadata:{library:"sap.cux.home",properties:{url:{type:"string",group:"Misc",defaultValue:""},vizId:{type:"string",group:"Misc",defaultValue:""}}},constructor:function e(t,n){i.prototype.constructor.call(this,t,n)},_getSSBRootControl:function t(n){try{return n.getContent().getComponentInstance().getRootControl()}catch(t){e.error(t instanceof Error?t.message:String(t));return null}},_getInnerGenericTile:function e(r){if(!r){return null}const o=r.getMetadata();const s=o.getDefaultAggregation();const c=s?s?.name:"content";const i=c?r.getAggregation(c):null;const a=Array.isArray(i)?i[0]:i;if(!a){return null}if(a instanceof t&&a.getState()===n.LoadState.Loaded){return a}return this._getInnerGenericTile(a)},_launchApp:function e(t){try{const e=this;e.appManagerInstance=e.appManagerInstance||a.getInstance();const n=t.getSource();return Promise.resolve(e.appManagerInstance.fetchFavVizs(false,true)).then(function(t){const o=t.find(e=>{const t=e.url||"";return n.getUrl().includes(t)});const s=o?.vizInstance;const c=o?.isSmartBusinessTile;if(s){const t=e._getSSBRootControl(s);const n=c&&e._getInnerGenericTile(t);if(n){n.firePress();return}}return Promise.resolve(r.getServiceAsync("SpaceContent")).then(function(t){return Promise.resolve(t.launchTileTarget(e.getUrl(),e.getTitle())).then(function(){})})})}catch(e){return Promise.reject(e)}},_handlePress:function e(t){try{const e=this;const n=function(){if(e.getUrl()){return Promise.resolve(e._launchApp(t)).then(function(){})}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}});return u});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/AppsAdditionPanel", ["sap/base/Log","sap/m/Button","sap/m/CustomListItem","sap/m/ExpandableText","sap/m/FlexBox","sap/m/GenericTile","sap/m/HBox","sap/m/Label","sap/m/library","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/model/ChangeReason","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","sap/ui/model/Sorter","sap/ushell/Container","./AppsContainer","./BaseSettingsPanel","./FavAppPanel","./InsightsContainer","./utils/AppManager","./utils/Constants","./utils/DataFormatUtils","./utils/FeatureUtils","./utils/FESRUtil"],function(e,t,n,r,s,i,o,a,u,c,l,p,d,h,g,f,m,P,y,S,A,v,_,T,x,C,I,b){"use strict";function B(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function w(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const D=u["ButtonType"];function E(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}const F=u["URLHelper"];const L=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function R(e,t,n){if(!e.s){if(n instanceof N){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=R.bind(null,e,t);return}}if(n&&n.then){n.then(R.bind(null,e,t),R.bind(null,e,2));return}e.s=t;e.v=n;const r=e.o;if(r){r(e)}}}const N=function(){function e(){}e.prototype.then=function(t,n){const r=new e;const s=this.s;if(s){const e=s&1?t:n;if(e){try{R(r,1,e(this.v))}catch(e){R(r,2,e)}return r}else{return this}}this.o=function(e){try{const s=e.v;if(e.s&1){R(r,1,t?t(s):s)}else if(n){R(r,1,n(s))}else{R(r,2,s)}}catch(e){R(r,2,e)}};return r};return e}();function M(e){return e instanceof N&&e.s&1}function k(e,t,n){var r=-1,s,i;function o(a){try{while(++r<e.length&&(!n||!n())){a=t(r);if(a&&a.then){if(M(a)){a=a.v}else{a.then(o,i||(i=R.bind(null,s=new N,2)));return}}}if(s){R(s,1,a)}else{s=a}}catch(e){R(s||(s=new N),2,e)}}o();return s}const V=h["ValueState"];function z(e,t,n){if(typeof e[L]==="function"){var r=e[L](),s,i,o;function l(e){try{while(!(s=r.next()).done&&(!n||!n())){e=t(s.value);if(e&&e.then){if(M(e)){e=e.v}else{e.then(l,o||(o=R.bind(null,i=new N,2)));return}}}if(i){R(i,1,e)}else{i=e}}catch(e){R(i||(i=new N),2,e)}}l();if(r.return){var a=function(e){try{if(!s.done){r.return()}}catch(e){}return e};if(i&&i.then){return i.then(a,function(e){throw a(e)})}a()}return i}if(!("length"in e)){throw new TypeError("Object is not iterable")}var u=[];for(var c=0;c<e.length;c++){u.push(e[c])}return k(u,function(e){return t(u[e])},n)}const U=B(S);const $=B(A);const j=B(v);const O=B(_);const Q=B(T);const G=x["AI_APP_FINDER_API"];const H=x["AI_APP_FINDER_BASE_URL"];const q=x["CONTENT_ADDITION_PANEL_TYPES"];const J=x["DEFAULT_APP_ICON"];const X=x["FEATURE_TOGGLES"];const W=x["FESR_IDS"];const Y=x["MYINSIGHT_SECTION_ID"];const K=C["recycleId"];const Z=I["isNavigationSupportedForFeature"];const ee=b["addFESRSemanticStepName"];const te=b["FESR_EVENTS"];const ne={DeprecatedInfoText:"deprecated",MinQueryLength:2,MaxDescriptionLength:500};var re=function(e){e["Idle"]="idle";e["Searching"]="searching";e["Complete"]="complete";return e}(re||{});var se=function(e){e["NoResultsFound"]="noResultsFound";e["ServiceError"]="serviceError";return e}(se||{});var ie=function(e){e["Static"]="STATIC";return e}(ie||{});const oe=$.extend("sap.cux.home.AppsAdditionPanel",{constructor:function e(){$.prototype.constructor.apply(this,arguments);this.appManagerInstance=Q.getInstance();this.resetSearch=()=>{this.userSelectedApps.clear();this.model.setProperty("/hasError",false);this.model.setProperty("/suggestedApps",[]);this.model.setProperty("/suggestedAppsCount",0);this.model.setProperty("/searchStatus",re.Searching);this.model.setProperty("/userSelectedApps",[]);this.appSuggestionList.removeSelections(true);this.resetFeedback()}},init:function e(){$.prototype.init.call(this);this.userSelectedApps=new Set;this.setProperty("key",q.AI_APP_FINDER);this.setProperty("title",this._i18nBundle.getText("addAppsAndTile"));this._setupActions();void this._setupContent();this.attachEvent("onDialogClose",()=>{if(!this._isDialogPersisted(this.getParent())){this.resetPanel()}})},_setupActions:function e(){this.addAppsButton=new t(K(`${this.getId()}-add-app-btn`),{text:this._i18nBundle.getText("addFromInsightsDialogBtn"),type:D.Emphasized,press:()=>{void this.onPressAddApps()}});this.addAppsButton.bindProperty("enabled",{parts:["/hasError","/searchStatus","/userSelectedApps"],formatter:(e,t,n)=>!e&&t===re.Complete&&n.length>0});ee(this.addAppsButton,te.PRESS,W.ADD_AI_APP);this.addActionButton(this.addAppsButton)},_setupContent:function e(){try{const e=this;return Promise.resolve(y.getServiceAsync("VisualizationInstantiation")).then(function(t){e.vizInstantiationService=t;return Promise.resolve(d.load({id:`${e.getId()}-content`,name:"sap.cux.home.utils.fragment.appsAdditionContent",controller:e})).then(function(t){const n=t;e.addAggregation("content",n);e.model=new f({query:"",hasError:false,errorType:se.NoResultsFound,errorDescription:"",searchStatus:re.Idle,loadingAnimations:e._generateSearchingAnimations(),suggestedAppsCount:0,userSelectedApps:[],suggestedApps:[],aiPolicyText:e._generateAIPolicyText(),invalidQuery:true,feedback:{thumbsUp:false,thumbsDown:false},sampleQueries:[{index:1,query:e._i18nBundle.getText("sampleQuery_1")},{index:2,query:e._i18nBundle.getText("sampleQuery_2")},{index:3,query:e._i18nBundle.getText("sampleQuery_3")}]});n.setModel(e.model);n.setModel(new m({bundleName:"sap.cux.home.i18n.messagebundle"}),"i18n");e.addAppsButton.setModel(e.model);e.appSuggestionList=d.byId(`${e.getId()}-content`,"appsList");e.appSuggestionList.bindAggregation("items",{path:"/suggestedApps",factory:e._generateListItem.bind(e),sorter:new P({path:"status",comparator:(t,n)=>{const r=t=>{if(t.length===0)return 0;const n=t.includes(e._i18nBundle.getText("alreadyAddedApp"));const r=t.includes(e._i18nBundle.getText("deprecatedApp"));if(n&&r)return 3;if(n)return 1;if(r)return 2;return 4};const s=r(t);const i=r(n);return s-i}})});e.appSuggestionList.attachUpdateFinished(()=>{if(e.model.getProperty("/suggestedAppsCount")>0&&e.model.getProperty("/searchStatus")===re.Complete){e.appSuggestionList.getItems()?.[0]?.focus()}});const r=d.byId(`${e.getId()}-content`,"searchTextArea");r.onsapenter=e.onPressGo.bind(e)})})}catch(e){return Promise.reject(e)}},_generateListItem:function e(t,r){const i=new n(t,{selected:r.getProperty("addedToHomePage"),content:[new s(K(`${t}-result-container`),{renderType:"Bare",direction:r.getProperty("isStaticApp")?"Column":"Row",alignItems:r.getProperty("isStaticApp")?"Start":"Center",items:[this._getAppPreviewContainer(t,r),this._getAppDetailsContainer(t,r)]}).addStyleClass("sapUiSmallMargin")]});i.getMultiSelectControl(true).setEnabled(!r.getProperty("addedToHomePage"));return i},_getAppPreviewContainer:function e(t,n){const r=new o(K(`${t}-suggestedAppContainer`),{renderType:"Bare"});if(n.getProperty("isStaticApp")){r.addItem(new i(K(`${t}-staticApp`),{mode:"IconMode",frameType:"TwoByHalf",width:"19rem",header:n.getProperty("title"),subheader:n.getProperty("subTitle"),tileIcon:n.getProperty("icon")||J,visible:n.getProperty("isStaticApp"),url:n.getProperty("url"),press:e=>{this._persistDialog(this.getParent());F.redirect(e.getSource()?.getUrl(),false)}}).addStyleClass("suggestedTile"))}else{const e=n.getProperty("vizData");const t=this.vizInstantiationService.instantiateVisualization(e);t?.setActive(true);t?.attachPress(()=>this._persistDialog(this.getParent()));r.addItem(t)}return r},_getAppDetailsContainer:function e(t,n){return new p(K(`${t}-app-details-container`),{renderType:"Bare",gap:"0.5rem",items:[new r(K(`${t}-description`),{text:n.getProperty("description"),maxCharacters:ne.MaxDescriptionLength}),new o(K(`${t}-app-status-container`),{renderType:"Bare",visible:n.getProperty("status").length>0,items:[new a(K(`${t}-appStatusLabel`),{text:this._i18nBundle.getText("appStatus"),showColon:true}),new o(K(`${t}-app-status-texts`),{renderType:"Bare",items:this._generateStatusTexts(t,n.getProperty("status"))}).addStyleClass("sapUiTinyMarginBegin statusTextsContainer")]})]}).addStyleClass(n.getProperty("isStaticApp")?"sapUiSmallMarginTop":"sapUiSmallMarginBegin")},isSupported:function e(){try{const t=this;function n(){if(!t.isPanelSupported){t.removeActionButton(t.addAppsButton);const e=t.getParent();e.removePanel(t);e.updateActionButtons()}return t.isPanelSupported}const r={target:{semanticObject:"IntelligentPrompt",action:"propose"}};const s=function(){if(t.isPanelSupported===undefined){t.isPanelSupported=false;const e=function(){if(t.getFavAppPanel()){return Promise.resolve(Z(X.AI_SMART_APPFINDER,r)).then(function(e){t.isPanelSupported=e})}}();if(e&&e.then)return e.then(function(){})}}();return Promise.resolve(s&&s.then?s.then(n):n(s))}catch(i){return Promise.reject(i)}},_generateSearchingAnimations:function e(){const t=`<defs>\n\t\t\t<linearGradient id="loadingShimmer" x1="0" y1="0" x2="1" y2="0">\n\t\t\t\t<stop offset="0%" stop-color="var(--sapContent_Placeholderloading_Background)" />\n\t\t\t\t<stop offset="20%" stop-color="var(--sapContent_Placeholderloading_Background)" />\n\t\t\t\t<stop offset="50%" stop-color="var(--sapContent_Placeholderloading_Background_Dark)" />\n\t\t\t\t<stop offset="80%" stop-color="var(--sapContent_Placeholderloading_Background)" />\n\t\t\t\t<stop offset="100%" stop-color="var(--sapContent_Placeholderloading_Background)" />\n\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="x1"\n\t\t\t\t\tvalues="-0.6;0.6"\n\t\t\t\t\tdur="2.5s"\n\t\t\t\t\trepeatCount="indefinite" />\n\t\t\t\t<animate\n\t\t\t\t\tattributeName="x2"\n\t\t\t\t\tvalues="0.4;1.6"\n\t\t\t\t\tdur="2.5s"\n\t\t\t\t\trepeatCount="indefinite" />\n\t\t\t</linearGradient>\n\t\t</defs>`;return[`<svg height="167" fill="none">\n\t\t\t\t${t}\n\t\t\t\t<rect x="16" y="75" width="16" height="16" rx="4" fill="var(--sapContent_Placeholderloading_Background)"/>\n\t\t\t\t<rect x="48" y="16" width="37%" height="70" rx="16" fill="url(#loadingShimmer)"/>\n\t\t\t\t<rect x="48" y="102" width="93%" height="48" rx="4" fill="url(#loadingShimmer)"/>\n\t\t\t</svg>`,`<svg height="180" fill="none">\n\t\t\t\t${t}\n\t\t\t\t<rect x="16" y="82" width="16" height="16" rx="4" fill="var(--sapContent_Placeholderloading_Background)"/>\n\t\t\t\t<rect x="48" y="16" width="148" height="148" rx="16" fill="url(#loadingShimmer)"/>\n\t\t\t\t<rect x="212" y="54" width="75%" height="48" rx="4" fill="url(#loadingShimmer)"/>\n\t\t\t\t<rect x="212" y="110" width="13%" height="16" rx="4" fill="url(#loadingShimmer)"/>\n\t\t\t</svg>`]},resetPanel:function e(){const t={query:"",hasError:false,searchStatus:re.Idle,suggestedAppsCount:0,userSelectedApps:[],suggestedApps:[],feedback:{thumbsUp:false,thumbsDown:false},invalidQuery:true};this.model?.setData({...this.model.getData(),...t});this.userSelectedApps?.clear()},onPressGo:function t(){try{const t=this;const n=t.model.getProperty("/query");if(!t.isValidQuery(n))return Promise.resolve();const r=E(function(){return w(function(){t.resetSearch();return Promise.resolve(t.fetchAppsFromSearch(n)).then(function(e){const n=function(){if(t.model.getProperty("/searchStatus")===re.Searching){return Promise.resolve(t.fetchAllAvailableVisualizations()).then(function(n){return Promise.resolve(t.appManagerInstance.fetchFavVizs(true,true)).then(function(r){return Promise.resolve(t.appManagerInstance.fetchInsightApps(true,t._i18nBundle.getText("insights"))).then(function(s){const i=t._generateApps(e,n,[...r,...s]);return Promise.resolve(t._filterUnsupportedApps(i)).then(function(e){if(e.length===0&&!t.model.getProperty("/hasError")){t._handleError("",e.length)}else{t.model.setProperty("/suggestedApps",e);t.model.setProperty("/suggestedAppsCount",e.length);t.appSuggestionList.updateAggregation("items",g.Refresh,{detailedReason:g.Refresh})}})})})})}}();if(n&&n.then)return n.then(function(){})})},function(n){e.error(n.message);t._handleError()})},function(e,n){if(t.model.getProperty("/searchStatus")===re.Searching){t.model.setProperty("/searchStatus",re.Complete)}if(e)throw n;return n});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_filterUnsupportedApps:function e(t){try{const e=t.filter(e=>e.isStaticApp?true:e.vizData??false);const n=e.map(e=>e.vizData?.target)||[];return Promise.resolve(y.getServiceAsync("Navigation")).then(function(t){return Promise.resolve(t.isNavigationSupported(n)).then(function(t){return e.filter((e,n)=>t[n])})})}catch(e){return Promise.reject(e)}},_generateApps:function e(t,n,r){return t.map(e=>{const t=n.find(t=>t.vizId===e.chipID);const s=r.some(t=>t.visualization?.vizId===e.chipID);return{title:e.title,chipID:e.chipID,subTitle:e.subTitle,description:e.appDescription,icon:e.iconUrl,vizData:t,addedToHomePage:s,isStaticApp:e.tileType===ie.Static,status:this.getAppStatusTexts(e.configuration,s),url:t?.targetURL||""}})},isValidQuery:function e(t=""){t=t?.trim();return t.length>=ne.MinQueryLength&&t.length<=ne.MaxDescriptionLength},fetchAllAvailableVisualizations:function e(){try{const t=this;function n(){return t.allAvailableVisualizations}const r=function(){if(!t.allAvailableVisualizations){return Promise.resolve(y.getServiceAsync("SearchableContent")).then(function(e){return Promise.resolve(e.getApps({enableVisualizationPreview:false})).then(function(e){t.allAvailableVisualizations=e.reduce((e,t)=>e.concat(t.visualizations),[])})})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(s){return Promise.reject(s)}},_fetchCSRFToken:function t(){try{return Promise.resolve(w(function(){return Promise.resolve(fetch(H,{method:"GET",headers:{"X-CSRF-Token":"Fetch"}})).then(function(e){return e.headers.get("X-CSRF-Token")})},function(t){e.error("Failed to fetch CSRF token",t);return null}))}catch(e){return Promise.reject(e)}},fetchAppsFromSearch:function t(n){try{const t=this;return Promise.resolve(w(function(){return Promise.resolve(t._fetchCSRFToken()).then(function(e){const r={"Content-Type":"application/json",...e&&{"X-CSRF-Token":e}};return Promise.resolve(fetch(G,{method:"POST",headers:r,body:JSON.stringify({UserInput:n})})).then(function(e){let n=false;function r(t){return n?t:Promise.resolve(e.json()).then(function(e){const t=e;return t.value||[]})}const s=function(){if(!e.ok){return Promise.resolve(e.json()).then(function(e){const r=e;t._handleError(r.error?.message||"");const s=[];n=true;return s})}}();return s&&s.then?s.then(r):r(s)})})},function(n){e.error(n.message);t._handleError();return[]}))}catch(e){return Promise.reject(e)}},getAppStatusTexts:function t(n,r){let s=[];if(n){try{const e=JSON.parse(n);const t=JSON.parse(e?.tileConfiguration);const r=(t?.display_info_text||"").toLowerCase();if(r===ne.DeprecatedInfoText){s.push(this._i18nBundle.getText("deprecatedApp"))}}catch(t){e.warning(t.message)}}if(r){s.push(this._i18nBundle.getText("alreadyAddedApp"))}return s},_generateStatusTexts:function e(t,n){return n.map((e,n)=>new l(K(`${t}-statusText-${n}`),{text:e}).addStyleClass(this.applyStatusClass(e)))},applyStatusClass:function e(t){if(t===this._i18nBundle.getText("alreadyAddedApp")){return"addedAppStatusText"}else if(t===this._i18nBundle.getText("deprecatedApp")){return"deprecatedAppStatusText"}else{return""}},onPressAddApps:function e(){try{const t=this;function n(){function e(){function e(){t.getParent()?.close();if(r.length>1){c.show(t._i18nBundle.getText("contentAddedToMyhome"))}else{const e=r?.[0];const n=e?.getBindingContext?.()?.getProperty?.("title")??"";const i=s?"appAddedToFavorites":"tileAddedToInsights";c.show(t._i18nBundle.getText(i,[n]))}t.resetPanel()}const n=function(){if(i){return Promise.resolve(t.refreshInsightsApps()).then(function(){})}}();return n&&n.then?n.then(e):e(n)}const n=function(){if(s){return Promise.resolve(t.refreshFavoriteApps()).then(function(){})}}();return n&&n.then?n.then(e):e(n)}const r=t.model.getProperty("/userSelectedApps");let s=false;let i=false;const o=z(r,function(e){const n=e.getBindingContext()?.getProperty("isStaticApp");if(n)s=true;else i=true;const r=e.getBindingContext()?.getProperty("chipID");return Promise.resolve(t.appManagerInstance.addVisualization(r,n?undefined:Y)).then(function(){})});return Promise.resolve(o&&o.then?o.then(n):n(o))}catch(a){return Promise.reject(a)}},getLayout:function e(){return this.getParent()?.getParent()},getAppsContainer:function e(){return this.getLayout()?.getItems().find(e=>e instanceof U)},getFavAppPanel:function e(){return this.getAppsContainer()?.getContent().find(e=>e instanceof j)},refreshFavoriteApps:function e(){try{const e=this;return Promise.resolve(e.getAppsContainer()?.refreshPanel(e.getFavAppPanel())).then(function(){})}catch(e){return Promise.reject(e)}},getInsightsContainer:function e(){return this.getLayout()?.getItems().find(e=>e instanceof O)},refreshInsightsApps:function e(){try{const e=this;return Promise.resolve(e.getInsightsContainer()?.refreshData("tiles")).then(function(){})}catch(e){return Promise.reject(e)}},onListSelectionChange:function e(t){const n=t.getParameter("listItem");const r=t.getParameter("selected");if(!r)this.userSelectedApps.delete(n);else{const e=n.getBindingContext();const t=e?.getProperty("addedToHomePage");if(!t)this.userSelectedApps.add(n)}this.model.setProperty("/userSelectedApps",Array.from(this.userSelectedApps))},_handleError:function e(t="",n){const[,r]=t.match(/\((\d{2})\d*\)\s*(.*)/)||[];if(n===0||t.length===0){t=this._i18nBundle.getText("NoResultErrorDescription")||""}this.model.setProperty("/hasError",true);this.model.setProperty("/errorType",this._getErrorType(r));this.model.setProperty("/errorDescription",t)},_getErrorType:function e(t=""){if(t==="10"){return se.ServiceError}else{return se.NoResultsFound}},onSearchTextAreaLiveChange:function e(t){const n=t.getSource();const r=n.getValue().trim();if(r.length!==0&&r.length<ne.MinQueryLength){n.setValueState(V.Information);n.setValueStateText(this._i18nBundle.getText("minLengthRequired"))}else if(r.length>ne.MaxDescriptionLength){n.setValueState(V.Warning);n.setValueStateText(this._i18nBundle.getText("maxLengthExceeded"))}else{n.setValueState(V.None);n.setValueStateText("")}this.model.setProperty("/invalidQuery",r.length===0||n.getValueState()!==V.None)},_generateAIPolicyText:function e(){const t=this._i18nBundle.getText("createdWithAI");return this._i18nBundle.getText("aiPolicyText",[t])},resetFeedback:function e(){this.model.setProperty("/feedback",{thumbsUp:false,thumbsDown:false})},sendFeedback:function e(t){this.resetFeedback();this.model.setProperty(`/feedback/${t}`,true);c.show(this._i18nBundle.getText("feedBackSent"),{width:"20em"})}});return oe});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/AppsContainer", ["sap/base/Log","sap/m/GenericTile","sap/m/Panel","sap/m/library","sap/ui/core/EventBus","sap/ui/core/theming/Parameters","sap/ushell/api/S4MyHome","./BaseAppPersPanel","./BaseContainer","./Group","./RecommendedAppPanel","./utils/DataFormatUtils","./utils/Device","./utils/placeholder/AppsPlaceholder"],function(e,t,n,s,o,i,r,a,c,l,p,g,u,h){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function f(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const y=s["BackgroundDesign"];const m=s["FrameType"];const _=s["GenericTileMode"];const P=s["GenericTileScope"];const T=s["TileSizeBehavior"];const b=d(a);const A=d(c);const C=d(l);const D=d(p);const v=g["getLeanURL"];const M=u["calculateCardWidth"];const S=u["DeviceType"];const I=u["fetchElementProperties"];const w=h["getAppsPlaceholder"];const E=()=>{const e="sapLegendColor9";return{key:e,value:i.get({name:e}),assigned:false}};const V={PLACEHOLDER_ITEMS_COUNT:5,MIN_TILE_WIDTH:304,MAX_TILE_WIDTH:456};const L=A.extend("sap.cux.home.AppsContainer",{metadata:{events:{appsLoaded:{parameters:{apps:{type:"sap.cux.home.App[]"},tiles:{type:"sap.m.GenericTile[]"}}}}},renderer:{...A.renderer,apiVersion:2},constructor:function e(t,n){A.prototype.constructor.call(this,t,n);this._isInitialRender=true},init:function e(){A.prototype.init.call(this);this.setProperty("title",this._i18nBundle?.getText("appsTitle"));const t=o.getInstance();t.subscribe("importChannel","recommendationSettingChanged",(e,t,n)=>{const s=n.showRecommendation;if(!s){const e=this.getContent()?.[0];this.setProperty("selectedKey",e?.getProperty("key"))}});this.setProperty("enableLazyLoad",false);this.addStyleClass("sapCuxAppsContainer");this.addCustomSetting("text",this._i18nBundle.getText("myAppMsg"));this._attachRouteChangeEvent()},_attachRouteChangeEvent:function t(){const n=this;const s=function(e){try{const t=e.getParameter("isMyHomeRoute");const s=function(){if(t){const e=function(){if(n._appSwitched){n._appSwitched=false;n.showPersistedDialog();return Promise.resolve(n.load()).then(function(){})}}();if(e&&e.then)return e.then(function(){})}else{n._setPanelsDirty();n._appSwitched=true}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};try{r.attachRouteMatched({},s,this)}catch(t){e.warning("Unable to attach route change handler",t instanceof Error?t.message:String(t))}},onBeforeRendering:function e(){if(this._isInitialRender){this._isInitialRender=false;this._attachPanelSupportedEvent()}this.adjustLayout();A.prototype.onBeforeRendering.call(this);this._removeUnsupportedPanels()},onAfterRendering:function e(){try{const e=this;A.prototype.onAfterRendering.call(e);return Promise.resolve(e._activateRecommendationTabPanel()).then(function(){})}catch(e){return Promise.reject(e)}},load:function e(){try{const e=this;const t=e.getPanels();return Promise.resolve(Promise.all(t.map(t=>e._setApps(t)))).then(function(){})}catch(e){return Promise.reject(e)}},getPanels:function e(){const t=this.getDeviceType()===S.Mobile;return t?this.getContent():[this._getSelectedPanel()]},showPersistedDialog:function e(){const t=this.getPanels();for(const e of t){e.firePersistDialog()}},_setPanelsDirty:function e(){const t=this.getContent();for(const e of t){e.setDesktopViewDirty(true);e.setMobileViewDirty(true)}},_generatePlaceholder:function e(t){if(!t.isLoaded()){t.destroyAggregation("apps",true);const e=t.generateApps(new Array(V.PLACEHOLDER_ITEMS_COUNT).fill({status:"Loading"}));t.setApps(e);this._updatePanelContent(t)}},_setApps:function t(n){try{const t=this;const s=f(function(){function e(){n.fireEvent("loaded")}const s=function(){if(n.isDirty()&&n.isMobileDirty()){t._generatePlaceholder(n);return Promise.resolve(n.loadApps?.()).then(function(){if(t.getDeviceType()===S.Mobile){n.setMobileViewDirty(false)}else{n.setDesktopViewDirty(false)}n.setLoaded(true);t._updatePanelContent(n);if(n instanceof b){void n.applyPersonalization(true)}let e=[];let s=n.getApps();e=n.fetchTileVisualization(e);t.fireEvent("appsLoaded",{apps:s,tiles:e})})}}();return s&&s.then?s.then(e):e(s)},function(s){t.showErrorCard(n);e.error(`Error setting apps for panel: ${n.getTitle()}`,s instanceof Error?s.message:String(s))});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_updatePanelContent:function e(t){const n=t.getApps()||[];const s=t.getAggregation("groups")||[];const o=this.getDeviceType()===S.Mobile;const i=o?t._generateMobileAppsWrapper():t._generateAppsWrapper();const r=o?"content":"items";i.destroyAggregation(r);let a=o?this._generateMobileCards([...s,...n],t.getId()):this._generateTiles([...s,...n]);this._addWrapperContent(i,a,r);this._updatePanelContentVisibility(t)},_updatePanelContentVisibility:function e(t){const n=t.getApps()||[];const s=t.getAggregation("groups")||[];const o=this.getDeviceType()===S.Mobile;const i=t._generateDesktopAppsWrapper();const r=t._generateMobileAppsWrapper();const a=t._generateErrorMessage();const c=[...n,...s].length!==0;i.setVisible(c&&!o);r.setVisible(c&&o);r.getParent().setWidth(o&&c?"100%":"auto");a.setVisible(!c)},_getAppTile:function e(n){const s=this.getDeviceType()===S.Mobile;const o=n.getAggregation("menuItems")||[];const i=s?`${n.getId()}-mobile-tile`:`${n.getId()}-tile`;return new t(i,{scope:o.length&&!s?P.ActionMore:P.Display,state:n.getStatus(),mode:_.IconMode,sizeBehavior:T.Small,header:n.getTitle(),backgroundColor:n.getBgColor()||E()?.key,tileIcon:n.getIcon(),url:v(n.getUrl()),frameType:m.TwoByHalf,renderOnThemeChange:true,dropAreaOffset:4,subheader:n.getSubTitle(),press:e=>n._onPress(e),width:s?"15rem":"100%"}).addStyleClass("tileLayout sapMGTTwoByHalf")},_getGroupTile:function e(n){const s=this.getDeviceType()===S.Mobile;const o=n.getAggregation("menuItems")||[];const i=s?`${n.getId()}-mobile-tile`:`${n.getId()}-tile`;return new t(i,{scope:o.length&&!s?P.ActionMore:P.Display,state:n.getStatus(),mode:_.IconMode,sizeBehavior:T.Small,header:n.getTitle(),backgroundColor:n.getBgColor()||E()?.key,tileIcon:n.getIcon(),frameType:m.TwoByHalf,renderOnThemeChange:true,dropAreaOffset:4,tileBadge:n.getNumber(),press:e=>n._onPress(e),width:s?"15rem":"100%"}).addStyleClass("tileLayout sapMGTTwoByHalf").data("groupId",n.getGroupId())},_onPanelSelect:function e(t){try{const e=this;A.prototype._onPanelSelect.call(e,t);const n=e._getSelectedPanel();return Promise.resolve(e._setApps(n)).then(function(){})}catch(e){return Promise.reject(e)}},_refreshAllPanels:function e(){try{const e=this;e._setPanelsDirty();return Promise.resolve(e._setApps(e._getSelectedPanel())).then(function(){})}catch(e){return Promise.reject(e)}},refreshPanel:function e(t){try{const e=this;t.setMobileViewDirty(true);t.setDesktopViewDirty(true);return Promise.resolve(e._setApps(t)).then(function(){})}catch(e){return Promise.reject(e)}},_toggleTabView:function e(){if(this.getDeviceType()!==S.Mobile){const e=this.getContent();const t=e.filter(e=>e.isSupported());const n=this._getInnerControl();n?.toggleStyleClass("sapUiITBHide",t.length===1)}},_onPanelSupported:function e(t,n){const s=n.getParameter("isSupported");t.setSupported(s);this._togglePanelVisibility(t,s);this._toggleTabView()},_togglePanelVisibility:function e(t,n){const s=this._getInnerControl();const o=s?.getItems()||[];const i=o.find(e=>e.getKey()===t.getKey());i?.setVisible(n)},_removeUnsupportedPanels:function e(){const t=this.getContent();const n=t.filter(e=>!e.isSupported());for(const e of n){this._togglePanelVisibility(e,false)}this._toggleTabView()},_attachPanelSupportedEvent:function e(){const t=this.getContent();for(const e of t){if(!e.hasListeners("supported")){e.attachSupported(this._onPanelSupported.bind(this,e))}}},_activateRecommendationTabPanel:function e(){try{const e=this;const t=e.getContent();const n=e.getDeviceType()===S.Mobile;const s=t?t.find(e=>e instanceof D):null;const o=function(){if(s instanceof D&&!n){return Promise.resolve(s._enableRecommendationTab()).then(function(){})}else{s?.setSupported(false)}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},setTileWidth:function e(t){const n=V.MIN_TILE_WIDTH;const s=V.MAX_TILE_WIDTH;const o=t._generateAppsWrapper()?.getDomRef();if(!o)return;const i=I(o,["width","padding-left","padding-right","margin-left","margin-right"]);const r=Object.values(i).slice(1).reduce((e,t)=>e-t,i["width"]);const a=t.getApps()||[];const c=t.getAggregation("groups")||[];const l=a.length+c.length;if(l===0||r<=0)return;const p={containerWidth:r,totalCards:l,minWidth:n,maxWidth:s,gap:8,skipDeviceCheck:true};const g=M(p);t.setProperty("tileWidth",g);t._generateAppsWrapper().getLayout().setProperty("columnSize",`${g/16}rem`)},adjustLayout:function e(){const t=this.getDeviceType()===S.Mobile;const n=this._getSelectedPanel();this.setTileWidth(n);this.toggleActionButtons(!t);const s=this.getContent();s.forEach(e=>{if(!e.isDirty()&&!e.isMobileDirty()){this._updatePanelContentVisibility(e)}else if(e.isDirty()!==e.isMobileDirty()){if(t){e.setMobileViewDirty(false)}else{e.setDesktopViewDirty(false)}this._updatePanelContent(e)}});this._removeUnsupportedPanels()},_generateMobileCards:function e(t,s){const o=[];for(let e=0;e<t.length;e+=7){const i=t.slice(e,e+7);const r=new n(`${s}--${e}`,{backgroundDesign:y.Solid,height:"23.5rem",width:"17rem",content:this._generateTiles(i)}).addStyleClass("sapUiMobileAppsCard appPanelBorder myAppMFBContent");o.push(r)}return o},_generateTiles:function e(t){return t.map(e=>e instanceof C?this._getGroupTile(e):this._getAppTile(e))},_addWrapperContent:function e(t,n,s){t.destroyAggregation(s);n.forEach(e=>{t.addAggregation(s,e)})},showErrorCard:function e(t){const n=t._generateErrorMessage();const s=t._generateDesktopAppsWrapper();const o=t._generateMobileAppsWrapper();s?.setVisible(false);o?.setVisible(false);n?.setVisible(true)},getGenericPlaceholderContent:function e(){return w()}});return L});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseApp", ["sap/m/List","sap/m/Popover","sap/m/StandardListItem","sap/m/library","sap/ui/core/Element","./utils/FESRUtil"],function(e,t,s,o,a,i){"use strict";const n=o["ListType"];const r=i["addFESRSemanticStepName"];const c=i["FESR_EVENTS"];const p=i["getFESRId"];const l=a.extend("sap.cux.home.BaseApp",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:""},subTitle:{type:"string",group:"Misc",defaultValue:""},bgColor:{type:"string",group:"Misc",defaultValue:""},icon:{type:"string",group:"Misc",defaultValue:""},status:{type:"string",group:"Misc",defaultValue:"Loaded"}},aggregations:{menuItems:{type:"sap.cux.home.MenuItem",multiple:true,singularName:"menuItem",visibility:"hidden"}}},constructor:function e(t,s){a.prototype.constructor.call(this,t,s)},_onPress:function e(t){const s=t.getParameter("action")||"Press";if(s==="Press"){this._handlePress(t)}else if(s==="More"){this._loadActionsPopover(t)}},_loadActionsPopover:function e(t){const s=t.getSource?.();const o=this.getAggregation("menuItems");const a=u.get(o);const i=()=>{s.addStyleClass("sapThemeBrand-asOutlineColor")};const n=()=>{s.removeStyleClass("sapThemeBrand-asOutlineColor");a.detachBeforeOpen(i);a.detachAfterClose(n)};a.attachBeforeOpen(i);a.attachAfterClose(n);a.openBy(s._oMoreIcon)}});class u{constructor(){}static _closeActionsPopover(){u._popover.close()}static get(o){if(!u._popover){u._actionsList=new e({id:`appActionsList`});u._popover=new t(`appActionsPopover`,{showHeader:false,placement:"HorizontalPreferredRight",ariaLabelledBy:[`appActionsPopover`]}).addStyleClass("sapContrastPlus").addContent(u._actionsList)}u._actionsList.destroyItems();o?.forEach(e=>{const t=e.getType();const o=new s(`${e.getId()}-index`,{icon:e.getIcon(),title:e.getTitle(),tooltip:e.getTitle(),type:t,visible:true,press:s=>{if(t!==n.Navigation){u._closeActionsPopover()}e.firePress({listItem:s.getSource()})}});r(o,c.PRESS,p(e));u._actionsList.addItem(o)});return u._popover}}l.ActionsPopover=u;return l});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseAppPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerSettings","sap/m/HeaderContainer","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/MessageToast","sap/m/VBox","sap/m/library","sap/ushell/Config","sap/ushell/Container","./App","./BasePanel","./Group","./utils/AppManager","./utils/DataFormatUtils","./utils/Device"],function(t,e,i,r,s,n,a,o,p,l,u,c,h,g,d,f,_){"use strict";function y(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function A(t,e){try{var i=t()}catch(t){return e(t)}if(i&&i.then){return i.then(void 0,e)}return i}const m=p["BackgroundDesign"];function v(t,e){try{var i=t()}catch(t){return e(true,t)}if(i&&i.then){return i.then(e.bind(null,false),e.bind(null,true))}return e(false,i)}const I=y(c);const b=y(h);const M=y(g);const C=y(d);const z=f["getLeanURL"];const P=f["recycleId"];const W=_["DeviceType"];const V=b.extend("sap.cux.home.BaseAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},apps:{type:"sap.cux.home.App",singularName:"app",multiple:true}},events:{persistDialog:{},supported:{parameters:{isSupported:{type:"boolean"}}}},properties:{tileWidth:{type:"float",group:"Misc",defaultValue:304,visibility:"hidden"}}},constructor:function t(e,i){b.prototype.constructor.call(this,e,i);this._isDirty=true;this._isMobileDirty=true;this._isLoaded=false;this._isSupported=true;this._setAggregation=function(t,e=[],i="items"){e.forEach(e=>{t.addAggregation(i,e,true)})}},init:function t(){b.prototype.init.call(this);this.appManagerInstance=C.getInstance();this._controlMap=new Map;this._appsPanelWrapper=this._generateWrapper();this.addContent(this._appsPanelWrapper)},_generateWrapper:function t(){if(!this._appsPanelWrapper){this._appsPanelWrapper=new o(`${this.getId()}-appsPanelWrapper`,{items:[this._generateDesktopAppsWrapper(),this._generateMobileAppsWrapper(),this._generateErrorMessage()],width:"100%"}).addStyleClass("sapCuxAppsPanel sapCuxAppsPanelWrapper")}return this._appsPanelWrapper},_generateDesktopAppsWrapper:function t(){const e=`${this.getId()}-desktopAppsWrapper`;if(!this._controlMap.get(e)){this._controlMap.set(e,new o({id:`${this.getId()}-desktopAppsWrapper`,items:[this._generateAppsWrapper()],visible:this.getDeviceType()!==W.Mobile,backgroundDesign:m.Solid}).addStyleClass("sapCuxAppsPanel sapCuxAppsContainerBorder"))}return this._controlMap.get(e)},_generateAppsWrapper:function t(){if(!this._appsWrapper){this._appsWrapper=new e({id:`${this.getId()}-appsWrapper`,layout:new i(`${this.getId()}-appsWrapperLayout`,{columnSize:`${this.getProperty("tileWidth")/16}rem`,rowSize:"4.375rem",gap:"0.5rem"})})}return this._appsWrapper},_generateMobileAppsWrapper:function t(){if(!this._mobileAppsWrapper){this._mobileAppsWrapper=new r({id:`${this.getId()}-mobileAppsWrapper`,gridLayout:true,showDividers:false,height:"23.5rem",content:[],visible:this.getDeviceType()===W.Mobile}).addStyleClass("sapUiMargin-26Bottom")}return this._mobileAppsWrapper},_generateErrorMessage:function t(){if(!this._errorCard){this._errorCard=new o(`${this.getId()}-errorCard`,{wrap:"Wrap",backgroundDesign:"Solid",items:[this.generateIllustratedMessage()],visible:this.getApps().length===0,justifyContent:"Center"}).addStyleClass("sapCuxAppsPanel")}return this._errorCard},generateApps:function t(e){return e.map((t,e)=>{const i=t.persConfig?.sectionId;const r=t.persConfig?.isDefaultSection;const s=i&&!r?P(`${this.getKey()}-groupApp-${e}`):P(`${this.getKey()}-app-${e}`);const n=new I(s,{title:t.title,subTitle:t.subtitle,bgColor:typeof t.BGColor==="object"?t.BGColor.key:t.BGColor,icon:t.icon,url:t.url,vizId:t.vizId||t.visualization?.vizId,status:t.status});if(t.oldAppId){n.data("oldAppId",t.oldAppId)}t.menuItems?.forEach(t=>{n.addAggregation("menuItems",t,true)});return n})},setApps:function t(e){e.forEach(t=>{this.addAggregation("apps",t,true)})},fetchTileVisualization:function t(e=[]){if(this.getDeviceType()===W.Mobile){const t=this._generateMobileAppsWrapper()?.getContent()||[];for(const i of t){e=e.concat(i?.getContent()||[])}}else{e=this._generateAppsWrapper()?.getItems()||[]}return e},convertActivitiesToVisualizations:function t(e){try{const t=this;return Promise.resolve(Promise.all([t._getAllAvailableVisualizations(),u.getServiceAsync("URLParsing")])).then(function([i,r]){const s=e.filter(t=>t.appType==="Application").map(t=>{t.orgAppId=t.appId;t.appId=t.url;return t});const n=s.map(e=>t._convertToVisualization(e,i,r)).filter(t=>t!==undefined);return Promise.resolve(t._updateVisualizationAvailability(n))})}catch(t){return Promise.reject(t)}},_getAllAvailableVisualizations:function t(){try{const e=this;function i(){return e._allAvailableVisualizations}const r=function(){if(!e._allAvailableVisualizations){return Promise.resolve(e.appManagerInstance._getCatalogApps()).then(function(t){e._allAvailableVisualizations=t.reduce((t,e)=>t.concat(e.visualizations||[]),[])})}}();return Promise.resolve(r&&r.then?r.then(i):i(r))}catch(s){return Promise.reject(s)}},_updateVisualizationAvailability:function t(e){try{const t=this;return Promise.resolve(t.appManagerInstance.fetchFavVizs(true,true)).then(function(t){e.forEach(e=>{e.addedInFavorites=t.some(t=>t.oldAppId===e.orgAppId)});return e})}catch(t){return Promise.reject(t)}},_updateActivityInfo:function t(e,i){this._catalogVisualizationCache=this._catalogVisualizationCache||new Map;e.targetURL=i.targetURL;e.vizId=i.vizId;this._catalogVisualizationCache.set(e.orgAppId,i);return e},prepareAppsBeforeLoad:function t(e,i){return Promise.resolve({apps:e,tiles:i})},_findBestMatchingVisualization:function t(e,i,r){const s=i.find(t=>t.targetURL===e.url);if(s){return this._updateActivityInfo(e,s)}else{const t=new Map;const s=[];i.forEach(e=>{const i=e.targetURL;if(!t.get(i)){const n={viz:e,params:r.parseShellHash(e.targetURL).params,prio:0};t.set(i,n);s.push(n)}});const n=s.filter(t=>this._filterMatchingVisualization(e,t,r));if(n.length){n.sort((t,e)=>t.prio-e.prio);return this._updateActivityInfo(e,n[0].viz)}}},_filterMatchingVisualization:function t(e,i,r){const s=r.parseShellHash(e.url);const n=s.params;const a=Object.keys(n);const o=i.params;const p=Object.keys(o).filter(t=>t!=="allItems");if(p.length===a.length){const t=a.every(t=>p.includes(t)&&o[t][0]===n[t][0]);if(t){i.prio=1;return true}return false}else if(!p.length){i.prio=Object.keys(i.params).length?2:3;return true}return false},_convertToVisualization:function t(e,i,r){this._catalogVisualizationCache=this._catalogVisualizationCache||new Map;const s=this._catalogVisualizationCache.get(e.orgAppId);if(s){return this._updateActivityInfo(e,s)}else{const t=i.filter(t=>t.vizId&&`#${t.target?.semanticObject}-${t.target?.action}`===e.orgAppId);if(t.length>1){return this._findBestMatchingVisualization(e,t,r)}else if(t.length===1){return this._updateActivityInfo(e,t[0])}}},_addAppToFavorites:function e(i){try{const e=this;e.setBusy(true);return Promise.resolve(v(function(){return A(function(){const t=i.getSource();const r=t.getParent();const s=r.getVizId?.();const n=function(){if(s){return Promise.resolve(e.appManagerInstance.addVisualization(s)).then(function(){return Promise.resolve((e.getParent?.())._refreshAllPanels()).then(function(){const t=e._i18nBundle.getText("appMovedToFavorites",[r.getTitle()]);a.show(t)})})}}();if(n&&n.then)return n.then(function(){})},function(e){t.error(e)})},function(t,i){e.setBusy(false);if(t)throw i;return i}))}catch(t){return Promise.reject(t)}},isLoaded:function t(){return this._isLoaded},setLoaded:function t(e){this._isLoaded=e},isDirty:function t(){return this._isDirty},setDesktopViewDirty:function t(e){this._isDirty=e},isMobileDirty:function t(){return this._isMobileDirty},setMobileViewDirty:function t(e){this._isMobileDirty=e},setBusy:function t(e){const i=this._generateAppsWrapper();i.setBusy(e)},_getGroup:function t(e){const i=this.getAggregation("groups")||[];return i.find(t=>t.getGroupId()===e)},isSupported:function t(){return this._isSupported},setSupported:function t(e){this._isSupported=e},_attachUserActivityTracking:function t(){if(l.last("/core/shell/enableRecentActivity")){l.on("/core/shell/model/enableTrackingActivity").do(t=>{this.setSupported(t);this.fireSupported({isSupported:t})})}},refresh:function t(){try{const t=this;return Promise.resolve(t.getParent().refreshPanel(t)).then(function(){})}catch(t){return Promise.reject(t)}},generateIllustratedMessage:function t(){if(!this._errorMessage){this._errorMessage=new s(`${this.getId()}-errorMessage`,{illustrationSize:n.Base,title:this._i18nBundle.getText("noAppsTitle"),description:this._i18nBundle.getText("noData")}).addStyleClass("appsSectionMessageCard")}return this._errorMessage},_applyUngroupedTileColor:function t(e,i){const r=this.fetchTileVisualization();const s=e instanceof M?e.getGroupId():null;const n=r.findIndex(t=>s?t.data("groupId")===s:t.getUrl()===z(e.getUrl()));r[n]?.setBackgroundColor(i)},exit:function t(){this._controlMap.forEach(t=>{t.destroy()})}});return V});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseAppPersPanel", ["sap/ui/core/EventBus","./BaseAppPanel","./Group","./utils/CommonUtils","./utils/Constants","./utils/DataFormatUtils","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(e,t,n,o,r,s,i,a){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=c(t);const p=c(n);const l=o["getPageManagerInstance"];const g=r["DEFAULT_APP_ICON"];const f=r["DEFAULT_BG_COLOR"];const d=r["FALLBACK_ICON"];const P=r["MYHOME_PAGE_ID"];const h=s["getLeanURL"];const I=c(i);const m=c(a);const _=u.extend("sap.cux.home.BaseAppPersPanel",{metadata:{library:"sap.cux.home",properties:{persContainerId:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"}}},constructor:function e(t,n){u.prototype.constructor.call(this,t,n);this.firstLoad=true},init:function t(){u.prototype.init.call(this);this._eventBus=e.getInstance();this._eventBus.subscribe("pageChannel","pageUpdated",()=>{void this.applyPersonalization(!this.firstLoad)},this)},_getPersonalizer:function e(){try{const e=this;const t=e._getPersContainerId();if(!t){throw new Error("No Container ID Provided for personalisation!")}return Promise.resolve(m?.getInstance(t,I.getOwnerComponent(e)))}catch(e){return Promise.reject(e)}},getPersonalization:function e(){try{const e=this;return Promise.resolve(e._getPersonalizer()).then(function(e){return Promise.resolve(e?.read()).then(function(e){return e||{}})})}catch(e){return Promise.reject(e)}},setPersonalization:function e(t){try{const e=this;return Promise.resolve(e._getPersonalizer()).then(function(e){return Promise.resolve(e.write(t)).then(function(){})})}catch(e){return Promise.reject(e)}},_getAppPersonalization:function e(){try{const e=this;return Promise.resolve(e.getPersonalization()).then(function(e){return e?.favoriteApps||[]})}catch(e){return Promise.reject(e)}},setFavAppsPersonalization:function e(t){try{const e=this;return Promise.resolve(e.getPersonalization()).then(function(n){const o=function(){if(n){n.favoriteApps=t;return Promise.resolve(e.setPersonalization(n)).then(function(){})}}();if(o&&o.then)return o.then(function(){})})}catch(e){return Promise.reject(e)}},applyPersonalization:function e(t=false){try{const e=this;let n=e.fetchTileVisualization();return Promise.resolve(e._applyTilesPersonalization(n,undefined,t)).then(function(){if(e.firstLoad){e.firstLoad=false}})}catch(e){return Promise.reject(e)}},_applyTilesPersonalization:function e(t,n,o=false){try{const e=this;return Promise.resolve(Promise.all([e._getAppPersonalization(),e._getFavPages()])).then(function([r,s]){return Promise.resolve(e.appManagerInstance._getAllFavPageApps(s,o)).then(function(o){const s=e.getAggregation("groups")||[];const i=n?e._getGroup(n)?.getApps()||[]:e.getApps()||[];for(const a of t){const t=e._getItem(a,s,i);const{color:c,icon:u}=e._getItemPersonalization(t,r,o,n);if(c){t?.setProperty("bgColor",c,true);a.setBackgroundColor(c)}if(u){t?.setProperty("icon",u,true);a.setTileIcon(u)}}})})}catch(e){return Promise.reject(e)}},_getItem:function e(t,n,o){const r=t.data("groupId");if(r){return n.find(e=>e.getGroupId()===r)}else{return o.find(e=>h(e.getUrl())===t.getUrl())}},_getItemPersonalization:function e(t,n,o,r){let s="";let i="";if(!t)return{color:s,icon:i};if(t instanceof p){const e=n?.find(e=>e.isSection&&e.sectionId===t.getGroupId());s=e?.BGColor}else{const e=t;const a=[e.getUrl()];const c=e.data("oldAppId");if(c){a.push(c)}const u=e.getVizId();const p=r?n?.find(e=>!e.isSection&&e.sectionId===r&&e.appId&&a.includes(e.appId)):n?.find(e=>this?.getMetadata().getName()==="sap.cux.home.FavAppPanel"?e.isRecentlyAddedApp&&e.appId&&a.includes(e.appId):e.appId&&a.includes(e.appId));const l=o.find(e=>e.vizId===u||e.appId&&a.includes(e.appId));const g=p?.BGColor||l?.BGColor||f().key;const d=this?.getMetadata().getName();s=typeof g==="object"?g.key:g;i=d==="sap.cux.home.FavAppPanel"||d==="sap.cux.home.SpacePanel"?this._getFavAppIcon(e,l?.icon):this.getAppIcon()}return{color:s,icon:i}},_getFavPages:function e(){try{const e=this;return Promise.resolve(e._getPageManagerInstance().getFavoritePages()).then(function(e){return e.concat({pageId:P,BGColor:f().key})})}catch(e){return Promise.reject(e)}},getAppIcon:function e(){return g},_getFavAppIcon:function e(t,n){return n||t?.getIcon()||d},_getPageManagerInstance:function e(){this._pageManagerInstance=this._pageManagerInstance||l(this);return this._pageManagerInstance},_getPersContainerId:function e(){let t=this.getProperty("persContainerId");if(!t){t=I.getPersContainerId(this)}return t}});return _});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseContainer", ["sap/m/Button","sap/m/FlexBox","sap/m/HBox","sap/m/IconTabBar","sap/m/List","sap/m/Popover","sap/m/StandardListItem","sap/m/Title","sap/m/library","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/HTML","sap/ui/core/Lib","./BaseContainerRenderer","./BasePanel","./MenuItem","./library","./utils/Accessibility","./utils/DataFormatUtils","./utils/Device","./utils/FESRUtil","./utils/PerformanceUtils","./SideBySideIconTabFilter"],function(e,t,n,i,s,o,r,a,l,c,d,u,g,h,p,y,m,f,_,b,S,I,M,P){"use strict";function B(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const v=l["BackgroundDesign"];const T=l["ButtonType"];const C=l["PlacementType"];const E=B(p);const H=B(y);const $=B(m);const w=f["OrientationType"];const x=_["getInvisibleText"];const F=b["recycleId"];const L=S["calculateDeviceType"];const A=S["DeviceType"];const V=I["addFESRId"];const D=I["addFESRSemanticStepName"];const R=I["FESR_EVENTS"];const z=I["getFESRId"];const K=M["recordElementLoadEnd"];const O=M["recordElementLoadStart"];const k=B(P);const N=c.extend("sap.cux.home.BaseContainer",{renderer:E,metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Data",defaultValue:""},orientation:{type:"sap.cux.home.OrientationType",group:"Data",defaultValue:w.SideBySide},selectedKey:{type:"string",group:"Data",defaultValue:"",visibility:"hidden"},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%",visibility:"public"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",visibility:"public"},blocked:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},busy:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},busyIndicatorDelay:{type:"int",defaultValue:1e3,visibility:"hidden"},busyIndicatorSize:{type:"sap.ui.core.BusyIndicatorSize",defaultValue:"Medium",visibility:"hidden"},fieldGroupIds:{type:"string[]",defaultValue:[],visibility:"hidden"},visible:{type:"boolean",group:"Appearance",defaultValue:true,visibility:"hidden"},enableSettings:{type:"boolean",group:"Misc",visibility:"hidden"},enableFullScreen:{type:"boolean",group:"Misc",visibility:"hidden"},fullScreenName:{type:"string",group:"Misc",visibility:"hidden"},enableLazyLoad:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"},loaded:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"}},defaultAggregation:"content",aggregations:{content:{type:"sap.cux.home.BasePanel",singularName:"content",multiple:true,visibility:"public"},actionButtons:{type:"sap.m.Button",multiple:true,singularName:"actionButton",visibility:"public"},menuItems:{type:"sap.cux.home.MenuItem",multiple:true,singularName:"menuItem",visibility:"public"},_placeholder:{type:"sap.ui.core.HTML",multiple:false,singularName:"placeholder",visibility:"hidden"}},associations:{layout:{type:"sap.cux.home.BaseLayout",multiple:false,singularName:"layout",visibility:"hidden"},fullScreenButton:{type:"sap.m.Button",multiple:false,singularName:"fullScreenButton",visibility:"hidden"},fullScreenMenuItem:{type:"sap.cux.home.MenuItem",multiple:false,singularName:"fullScreenMenuItem",visibility:"hidden"}},events:{onExpand:{}},designtime:true},adjustLayout:function e(){},load:function e(){},constructor:function e(t,n){c.prototype.constructor.call(this,t,n);this._exemptedActions=[]},init:function e(){this._controlMap=new Map;this._commonHeaderElementStates=new Map;this._i18nBundle=h.getResourceBundleFor("sap.cux.home.i18n");this._createHeader(this);const t=new d(`${this.getId()}-custom-settings`,{key:"custom-settings",value:{}});this.addCustomData(t);const n=this.getGenericPlaceholderContent();if(n){this.setAggregation("_placeholder",new g({content:n}),true)}},getCustomSettings:function e(){return this.data("custom-settings")||{}},addCustomSetting:function e(t,n){this.data("custom-settings")[t]=n},_createHeader:function e(t){const i=t.getId();const s=`${i}-header`;const o=t instanceof H;const r=this.getProperty("title")?.trim().length>0;if(!this._controlMap.get(s)){this._controlMap.set(`${i}-header-title`,new a(`${i}-title`));this._controlMap.set(`${i}-header-contentLeft`,new n(`${i}-contentLeft`,{renderType:"Bare"}).addStyleClass("sapCuxSectionContentArea"));this._controlMap.set(`${i}-header-contentRight`,new n(`${i}-contentRight`,{renderType:"Bare"}).addStyleClass("sapCuxSectionContentArea"));this._controlMap.set(`${i}-header-content`,new n(`${i}-header-content`,{width:"100%",justifyContent:"SpaceBetween",renderType:"Bare",items:[this._controlMap.get(`${i}-header-contentLeft`),this._controlMap.get(`${i}-header-contentRight`)]}).addStyleClass("sapUiTinyMarginBegin"));this._controlMap.set(s,new n(`${i}-header`,{alignItems:"Center",items:[this._controlMap.get(`${i}-header-title`),this._controlMap.get(`${i}-header-content`)]}));this.addDependent(this._controlMap.get(s))}this._controlMap.get(s)?.addStyleClass(o&&r?"sapCuxPanelHeader":"sapUiContainerHeader");this._controlMap.get(`${i}-header-title`).setTitleStyle(o&&r?"H6":"H4");return this._controlMap.get(s)},_getHeader:function e(){return this._controlMap.get(`${this.getId()}-header`)},_getInnerControl:function e(){return this.getProperty("orientation")===w.SideBySide?this._iconTabBar:this._wrapper},_onPanelSelect:function e(t){this.setProperty("selectedKey",t.getParameter("selectedKey"),true);this._updateContainerHeader(this)},_setPanelCount:function e(t,n){if(this.getProperty("orientation")===w.SideBySide){this._getIconTabFilter(t).setCount(n)}},_getIconTabFilter:function e(t){const n=`${t.getId()}-tabFilter`;if(!this._controlMap.get(n)){const e=new k(n,{panel:t});e.addCustomData(new d(`${t.getId()}--customFilter`,{key:"sap-ui-fastnavgroup",value:"true",writeToDom:true}));this._controlMap.set(n,e);D(e,R.SELECT,t.getProperty("key"))}return this._controlMap.get(n)},onBeforeRendering:function e(){if(this.getProperty("selectedKey")===""){const e=this.getContent()?.[0]?.getProperty("key");this.setProperty("selectedKey",e,true)}this._createInnerControl();this._updateContainerHeader(this);this._addAllPanelContent();if(this.getProperty("enableLazyLoad")===false&&!this.getProperty("loaded")&&this.getVisible()){this._loadContent()}this._markPerformanceMetrics()},onAfterRendering:function e(){this._attachResizeHandler();if(this.getProperty("enableLazyLoad")){this._observeContainer()}this._hidePanelHeaderIfSinglePanel()},_hidePanelHeaderIfSinglePanel:function e(){const t=this.getProperty("orientation")===w.SideBySide;const n=this.getContent()?.length===1;this.toggleStyleClass("sapUiITBHide",t&&n)},_loadContent:function e(){this.setProperty("loaded",true);this.load?.()},_attachResizeHandler:function e(){if(this.getDomRef()&&this.getProperty("loaded")){this._resizeObserver?.disconnect();this._resizeObserver=new ResizeObserver(e=>{if(this._resizeTimeout){clearTimeout(this._resizeTimeout)}this._resizeTimeout=window.setTimeout(()=>{if(this.getVisible()){this._setDeviceType(e);this.adjustLayout()}},10)});this._resizeObserver?.observe(this.getDomRef())}},_detachResizeHandler:function e(){this._resizeObserver?.disconnect()},_observeContainer:function e(){const t=this.getDomRef();if(!this._containerObserver){this._containerObserver=new IntersectionObserver(e=>e.forEach(e=>{if(!this.getProperty("loaded")&&this.getVisible()&&e.isIntersecting){this._loadContent()}}),{rootMargin:"0px",threshold:.1})}this._containerObserver?.disconnect();if(t){this._containerObserver.observe(t)}},_createInnerControl:function e(){const n=this.getProperty("orientation");if(n===w.Horizontal||n===w.Vertical){if(!this._wrapper){this._wrapper=new t(`${this.getId()}-wrapper`,{width:"100%",renderType:"Bare"}).addStyleClass("sapCuxBaseWrapper");this.addDependent(this._wrapper)}this._wrapper.setDirection(n===w.Horizontal?"Row":"Column")}else if(!this._iconTabBar){this._iconTabBar=new i(`${this.getId()}-iconTabBar`,{expandable:true,backgroundDesign:v.Transparent,headerMode:"Inline",headerBackgroundDesign:v.Transparent,select:e=>this._onPanelSelect(e)});this.addDependent(this._iconTabBar)}},_updateContainerHeader:function e(t){const n=this.getProperty("orientation")===w.SideBySide;const i=t instanceof N;const s=!i&&n?this:t;this._controlMap.get(s.getId()+"-header-contentLeft")?.removeAllItems();this._controlMap.get(s.getId()+"-header-contentRight")?.removeAllItems();this._updateHeader(t)},_updateHeader:function e(t){const n=this.getProperty("orientation")===w.SideBySide;const i=t instanceof N;const s=this._controlMap.get(t.getId()+"-header-title");s?.setText(t.getProperty("title"));s?.setVisible(t.getProperty("title")?.trim().length>0);if(!i&&n){this._getIconTabFilter(t)?.setText(t.getProperty("title"))}if(this._getLayout()){this._addLayoutHeaderElements()}const o=i&&n?this._getSelectedPanel():t;const r=!i&&n?this:t;const a=this._filterVisibleHeaderElements(o?.getMenuItems());if(a.length>0){this._addMenuItems(r,a)}o?.getAggregation("actionButtons")?.forEach(e=>{this._controlMap.get(r.getId()+"-header-contentRight")?.addItem(this._getHeaderButton(e))})},_addLayoutHeaderElements:function e(){const t=e=>{const t=[{property:"enableFullScreen",aggregation:"menuItems",headerElement:this._getFullScreenMenuItem(e)},{property:"enableSettings",aggregation:"menuItems",headerElement:this._getHomeSettingsMenuItem(e)},{property:"enableFullScreen",aggregation:"actionButtons",headerElement:this._getFullScreenButton(e)}];t.forEach(({property:t,aggregation:n,headerElement:i})=>{const s=e.getProperty(t);const o=this._commonHeaderElementStates.get(`${i.getId()}-${t}`);if(s!==o){this._commonHeaderElementStates.set(`${i.getId()}-${t}`,s);if(s){e.addAggregation(n,i)}else{e.removeAggregation(n,i)}if(t==="enableFullScreen"){this.setFullScreenElementRelations({isFullScreenEnabled:s,control:e,aggregation:n,headerElement:i})}}})};t(this);const n=this.getContent()||[];n.forEach(t);this._setupFullScreenElements()},_setupFullScreenElements:function e(){const t=this._getLayout();const n=e=>{const n=e.getProperty("enableFullScreen");const i=this._commonHeaderElementStates.get(`${e.getId()}-enableFullScreen`);if(n!==i){this._commonHeaderElementStates.set(`${e.getId()}-enableFullScreen`,n);if(n){t?.registerFullScreenElement(e)}else{t?.deregisterFullScreenElement(e)}}if(n){t?.updateFullScreenElement(e,{index:t?.indexOfItem(this)})}};n(this);const i=this.getContent()||[];i.forEach(n)},setFullScreenElementRelations:function e(t){const{isFullScreenEnabled:n,control:i,aggregation:s,headerElement:o}=t;const r=s==="actionButtons"?"fullScreenButton":"fullScreenMenuItem";if(n){i.setAssociation(r,o,true)}else{i.removeAssociation(r,o,true)}},_getHomeSettingsMenuItem:function e(t){const n=`${t.getId()}-settings`;if(!this._controlMap.get(n)){const e=new $(n,{title:this._i18nBundle.getText("myHomeSettings"),icon:"sap-icon://user-settings",press:()=>{const e=this._getLayout();e?.openSettingsDialog()}});V(e,"myHomeSettings");this._controlMap.set(n,e)}return this._controlMap.get(n)},_getFullScreenMenuItem:function e(t){const n=`${t.getId()}-showMore`;if(!this._controlMap.get(n)){const e=new $(n,{title:this._i18nBundle.getText("expand"),icon:"sap-icon://display-more",press:()=>{const e=this._getLayout();e?.toggleFullScreen(t)}});V(e,"toggleFullScreen");this._controlMap.set(n,e)}return this._controlMap.get(n)},_getFullScreenButton:function t(n){const i=`${n.getId()}-fullScreen`;if(!this._controlMap.get(i)){const t=new e(i,{text:this._i18nBundle.getText("expand"),type:T.Transparent,press:()=>{const e=this._getLayout();e?.toggleFullScreen(n)}});V(t,"toggleFullScreen");this._controlMap.set(i,t);this._exemptedActions.push(i)}return this._controlMap.get(i)},_getSelectedPanel:function e(){const t=this.getContent()?.find(e=>e.getProperty("key")===this.getProperty("selectedKey"))||this.getContent()?.[0];this.setProperty("selectedKey",t?.getProperty("key"),true);return t},_addAllPanelContent:function e(){const t=this.getContent()||[];if(this.getProperty("orientation")===w.SideBySide){this._iconTabBar.removeAllItems();t.forEach(e=>this._iconTabBar.addItem(this._getIconTabFilter(e)));this._iconTabBar.setSelectedKey(this.getProperty("selectedKey"))}},getPanelHeader:function e(t){const n=this._createHeader(t);const i=t.getProperty("title")?.trim().length>0;const s=this.getProperty("title")?.trim().length>0;this._updateContainerHeader(t);n.toggleStyleClass("sapCuxPanelHeader",s&&(i||this._filterVisibleHeaderElements(t.getMenuItems()).length>0||this._filterVisibleHeaderElements(t.getActionButtons()).length>0));return n},_filterVisibleHeaderElements:function e(t=[]){return t.filter(e=>e.getVisible())},_setTitle:function e(t){this.setProperty("title",t,true);this._controlMap.get(`${this.getId()}-header-title`).setText(t);return this},_addMenuItems:function t(n,i){if(!this._controlMap.get(`${n.getId()}-menu`)){const t=new s(`${n.getId()}-list`,{itemPress:e=>e.getSource().getParent().close()});this._controlMap.set(`${n.getId()}-menu`,t);const i=x(F(`${n.getId()}-popoverTitle`),this._i18nBundle.getText("actions"));const r=new o(F(`${n.getId()}-popover`),{placement:C.VerticalPreferredBottom,showHeader:false,ariaLabelledBy:[i?i?.getId():""],content:[t,i]});const a=n.getId();const l=`${a}-header`;const c=new e(`${n.getId()}-menu-btn`,{icon:"sap-icon://slim-arrow-down",type:T.Transparent,tooltip:this._i18nBundle.getText("more"),ariaLabelledBy:[l],press:e=>r.openBy(e.getSource())});this._controlMap.set(`${n.getId()}-menu-btn`,c)}this._controlMap.get(n.getId()+"-header-contentLeft")?.addItem(this._controlMap.get(`${n.getId()}-menu-btn`));this._controlMap.get(`${n.getId()}-menu`).removeAllItems();i.forEach(e=>this._controlMap.get(`${n.getId()}-menu`).addItem(this._getMenuListItem(e)))},_getHeaderButton:function t(n){const i=`${n.getId()}-btn`;if(!this._controlMap.get(i)){this._controlMap.set(i,new e(i,{type:T.Transparent,press:()=>n.firePress()}));D(this._controlMap.get(i),R.PRESS,z(n))}const s=this._controlMap.get(i);s.setText(n.getText());s.setTooltip(n.getTooltip());s.setIcon(n.getIcon());s.setVisible(n.getVisible());s.setEnabled(n.getEnabled());return s},_getLayout:function e(){return u.getElementById(this.getAssociation("layout",null))},_getMenuListItem:function e(t){if(!this._controlMap.get(`${t.getId()}-listItem`)){this._controlMap.set(`${t.getId()}-listItem`,new r(`${t.getId()}-listItem`,{type:"Active",icon:t.getIcon(),title:t.getTitle(),press:e=>t.firePress({button:e.getSource()})}));D(this._controlMap.get(`${t.getId()}-listItem`),R.PRESS,z(t))}const n=this._controlMap.get(`${t.getId()}-listItem`);n.setIcon(t.getIcon());n.setTitle(t.getTitle());n.setVisible(t.getVisible());return n},toggleMenuListItem:function e(t,n){if(t){const e=this._getMenuListItem(t);e?.setVisible(n);t.setProperty("visible",n,true)}},toggleActionButton:function e(t,n){if(t){const e=this._getHeaderButton(t);e?.setVisible(n);t.setProperty("visible",n,true)}},removeContent:function e(t){if(this.getProperty("selectedKey")&&this.getProperty("selectedKey")===t?.getProperty?.("key")){this.setProperty("selectedKey",undefined,true)}this.removeAggregation("content",t)},getWidth:function e(){return this.getProperty("width")},toggleActionButtons:function e(t){const n=this.getProperty("orientation")===w.SideBySide;let i=false;const s=e=>{e.getActionButtons()?.forEach(e=>{const n=e.getVisible();if(n!==t&&!this._exemptedActions.includes(e.getId())){e.setProperty("visible",t,true);i=true}});if(!n&&i){this._updateContainerHeader(e)}};s(this);const o=this.getContent()||[];o.forEach(s);if(n&&i){this._updateContainerHeader(this)}},toggleFullScreenElements:function e(t,n){const i=u.getElementById(t.getAssociation("fullScreenButton",null));const s=u.getElementById(t.getAssociation("fullScreenMenuItem",null));const o=this.getProperty("orientation")===w.SideBySide;const r=this.getDeviceType()===A.Mobile;const a=t.getParent();let l=false;n=!r?n:false;[i,s].forEach(e=>{if(e&&n!==e.getVisible()){l=true;e.setProperty("visible",n,true)}});const c=t instanceof H&&t.getKey();if(l&&(!o||o&&this.getProperty("selectedKey")===c)){this._updateContainerHeader(a.getContent().length===1&&!o?t.getParent():t)}},_setDeviceType:function e(t){const[n]=t;const i=n.target.parentNode;const s=i.clientWidth;const o=L(s);if(this._deviceType!==o&&s>0){this._deviceType=o}},getDeviceType:function e(){return this._deviceType||L()},_markPerformanceMetrics:function e(){const t=this.getMetadata().getName();O(t);this.getContent()?.forEach(e=>{e.attachEventOnce("loaded",()=>{K(t)})})},exit:function e(){this._controlMap.forEach(e=>{e.destroy()});this._detachResizeHandler()},getGenericPlaceholderContent:function e(){return undefined}});return N});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseContainerRenderer", ["sap/base/Log","./library"],function(e,t){"use strict";const n=t["OrientationType"];const o=(e,t,o)=>{if(!o.getVisible()){return}const r=t.getProperty("orientation");const i=r===n.SideBySide;e.openStart("div",o.getId()).class("sapUiBasePanel").openEnd();if(!i){e.renderControl(t.getPanelHeader(o))}o.getContent().forEach(t=>{e.renderControl(t)});e.close("div")};const r=(t,n)=>{try{const e=n.getAggregation("_placeholder");if(!e){t.openStart("div",n.getId()+"-placeholder").class("sapUiBaseContainerPlaceholder").openEnd().close("div");return}t.renderControl(e)}catch(t){e.error("Failed to render placeholder:",t)}};var i={apiVersion:2,render:function(e,t){e.openStart("div",t).class("sapCuxBaseContainer");if(t.getProperty("orientation")===n.SideBySide){e.class("sapCuxSideBySide")}else if(t.getProperty("orientation")===n.Horizontal){e.class("sapCuxHorizontal")}else{e.class("sapCuxVertical")}e.style("width",t.getWidth());e.style("height",t.getHeight());e.openEnd();const o=t.getProperty("enableLazyLoad");if(!o||t.getProperty("loaded")){this.renderContent(e,t)}else{r(e,t)}e.close("div")},renderContent:function(e,t){if(t.getContent()?.length>0){e.openStart("div",t.getId()+"-header").class("sapUiBaseContainerHeader").openEnd();e.renderControl(t._getHeader());e.close("div");const r=t.getProperty("orientation");const i=r===n.SideBySide;e.openStart("div",t.getId()+"-content").class("sapUiBaseContainerContent").class(`sapUiOrientation${r}`).openEnd();if(i){e.renderControl(t._getInnerControl())}else{t.getContent().forEach(n=>o(e,t,n))}e.close("div")}}};return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseLayout", ["sap/base/Log","sap/base/util/deepEqual","sap/m/library","sap/m/Page","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/routing/HashChanger","sap/ushell/api/S4MyHome","./BaseLayoutRenderer","./BasePanel","./library","./utils/Device"],function(e,t,n,i,s,o,r,l,a,c,g,u){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=n["PageBackgroundDesign"];const p=d(a);const f=d(c);const m=g["OrientationType"];const _=u["DeviceType"];const y=u["calculateDeviceType"];const S=i.extend("sap.cux.home.BaseLayout",{renderer:p,metadata:{library:"sap.cux.home",properties:{enableSettings:{type:"boolean",group:"Misc",visibility:"hidden"},enableFullScreen:{type:"boolean",group:"Misc",visibility:"hidden"},expanded:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"},settingsDialogPersisted:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"},contentAdditionDialogPersisted:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"},showHeader:{type:"boolean",group:"Appearance",defaultValue:true,visibility:"hidden"},showFooter:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},busy:{type:"boolean",defaultValue:false,visibility:"hidden"},backgroundDesign:{type:"sap.m.PageBackgroundDesign",group:"Appearance",defaultValue:h.Transparent,visibility:"hidden"},persContainerId:{type:"string",defaultValue:"",visibility:"public"}},defaultAggregation:"items",aggregations:{items:{type:"sap.cux.home.BaseContainer",singularName:"item",multiple:true},settingsDialog:{type:"sap.cux.home.BaseSettingsDialog",singularName:"settingsDialog",multiple:false},keyUserSettingsDialog:{type:"sap.cux.home.BaseSettingsDialog",singularName:"keyUserSettingsDialog",multiple:false},contentAdditionDialog:{type:"sap.cux.home.BaseSettingsDialog",singularName:"contentAdditionDialog",multiple:false,visibility:"hidden"},fullScreenContainer:{type:"sap.m.Page",singularName:"fullScreenContainer",multiple:false,visibility:"hidden"}},events:{onCollapse:{}}},constructor:function e(t,n){i.prototype.constructor.call(this,t,n)},init:function e(){i.prototype.init.call(this);this._settingsPanels=[];this._elementConfigs=new Map;this._i18nBundle=o.getResourceBundleFor("sap.cux.home.i18n");this._slideDurationInSeconds=1;this._fullScreenContainer=new i(`${this.getId()}-fullScreen-container`,{backgroundDesign:"Transparent",showHeader:false});this.setAggregation("fullScreenContainer",this._fullScreenContainer)},onBeforeRendering:function e(t){i.prototype.onBeforeRendering.call(this,t);this._toggleHeaderVisibility();if(!this._attachRouteMatched){l.attachRouteMatched({},this.openPersistedDialogs.bind(this));this._attachRouteMatched=true}if(this.getProperty("enableFullScreen")){document.body.style.setProperty("--sapUiSlideDuration",`${this._slideDurationInSeconds}s`)}},openPersistedDialogs:function e(t){if(t.getParameter("isMyHomeRoute")){if(this.getProperty("settingsDialogPersisted")){const e=this.getAggregation("settingsDialog")?.getProperty("selectedKey");this.openSettingsDialog(e);this.setProperty("settingsDialogPersisted",false,true)}if(this.getProperty("contentAdditionDialogPersisted")){const e=this.getAggregation("contentAdditionDialog")?.getProperty("selectedKey");this.openContentAdditionDialog(e);this.setProperty("contentAdditionDialogPersisted",false,true)}}},_toggleHeaderVisibility:function e(){const t=this.getCustomHeader();const n=t?.getVisible()||this.getHeaderContent().length>0;this.setProperty("showHeader",n,true)},onAfterRendering:function e(){if(this.getProperty("enableFullScreen")){if(!this._layoutLoaded){this._layoutLoaded=true;setTimeout(()=>{this._hashChanger=new r;this._loadFullScreenFromHash(this._hashChanger.getHash()||"");const[e]=this._hashChanger.getHash().split("?");window.addEventListener?.("hashchange",()=>{const t=window.location.hash.substring(1);if(t.includes?.(e)){this._loadFullScreenFromHash(t,true)}})})}}},getContent:function e(){return this.getItems()},_getURLParams:function e(t){const n=t?.includes("?")?t.substring(t.indexOf("?")+1):"";return new URLSearchParams(n)},_loadFullScreenFromHash:function e(t,n=false){const i=this.getProperty("enableFullScreen");const s=this._getURLParams(t);const o=s.get("expanded")||"";const r=this._elementConfigs.get(o);const l=r?.targetContainer.getVisible()||false;const a=y()===_.Mobile;if(i&&r&&!a&&l){if(this._currentExpandedElement&&this._currentExpandedElement.fullScreenName!==o){this._toggleFullScreenForElement(r,n)}else if(!this._currentExpandedElement){this._toggleFullScreenForElement(r)}else if(s.has("expanded")){document.getElementById(`${this.getId()}-layout-container`)?.classList.add("slide")}}else{if(this._currentExpandedElement){this._toggleFullScreenForElement(this._currentExpandedElement)}else{if(s.has("expanded")){const e=this._removeURLParam(t,"expanded");this._hashChanger?.replaceHash(e,"Backwards")}}}},_toggleFullScreenForElement:function e(t,n=false){setTimeout(()=>this.toggleFullScreen(t.sourceElements.values().next().value,n))},openSettingsDialog:function e(t="",n={}){const i=this.getAggregation("settingsDialog");i?.setProperty("selectedKey",t);i?.setProperty("context",n);i?.open()},openContentAdditionDialog:function e(t=""){const n=this.getAggregation("contentAdditionDialog");n?.setProperty("selectedKey",t);n?.open()},setSettingsDialog:function e(t){const n=this.getProperty("enableSettings");if(n){const e=t?.getPanels();e?.forEach(e=>{this._addSettingsPanel(e)})}this.setAggregation("settingsDialog",t);return this},_addSettingsPanel:function e(t,n){if(t){if(n){this._settingsPanels=t}else{this._settingsPanels.push(t)}}},_getSettingsPanels:function e(){return this._settingsPanels},_extractElementConfig:function e(t){const n=t;const i=n instanceof f;const s=i?n.getParent():n;const o=i&&s.getProperty("orientation")===m.SideBySide;const r=(o?s:n).getProperty("fullScreenName");const l=(new Set).add(n);return{fullScreenName:r,sourceElements:l,targetContainer:s,index:this.indexOfItem(s),key:i?n.getKey():""}},registerFullScreenElement:function e(t){const n=this._extractElementConfig(t);const{fullScreenName:i}=n;if(i&&!this.getProperty("expanded")){if(this._elementConfigs.get(i)){const e=(this._elementConfigs.get(i)?.sourceElements||new Set).add(t);this._elementConfigs.set(i,{...n,sourceElements:e})}else{this._elementConfigs.set(i,n)}}},deregisterFullScreenElement:function e(t){const{fullScreenName:n}=this._extractElementConfig(t);if(n&&!this.getProperty("expanded")){this._elementConfigs.delete(n)}},updateFullScreenElement:function e(t,n){const i=this._extractElementConfig(t);const{fullScreenName:s}=i;if(s&&!this.getProperty("expanded")){const e={...this._elementConfigs.get(s),...n};this._elementConfigs.set(s,e)}},_addURLParam:function e(t,n,i){const s=this._getURLParams(t);s.set(n,i);return`${t.split("?")[0]}?${s.toString()}`},_removeURLParam:function e(t,n){const i=this._getURLParams(t);i.delete(n);return i.toString()?`${t.split("?")[0]}?${i.toString()}`:t.split("?")[0]},toggleFullScreen:function n(i,s=false){const o=i instanceof f&&i.getParent()?.getProperty("orientation")===m.SideBySide;const r=(o?i.getParent():i)?.getProperty("fullScreenName");const l=this._elementConfigs.get(r);const a=s||this._checkToggleRequirements(l);if(l&&a){const{targetContainer:e}=l;const n=this._hashChanger?.getHash()||"";const o=e.indexOfAggregation("content",i);const a=e.getProperty("orientation")===m.SideBySide;let c=this.getProperty("expanded");e._detachResizeHandler();if(!s){this.setProperty("expanded",!this.getProperty("expanded"),true);c=this.getProperty("expanded");this._placeClonedElement(e,c,o);document.getElementById(`${this.getId()}-layout-container`)?.classList.toggle("slide",c)}this._toggleFullScreenButtonText(i,c);if(c){this._previousExpandedElement=this._currentExpandedElement;this._currentExpandedElement=l}else{delete this._currentExpandedElement}setTimeout(()=>{if(c){if(!a){e.setProperty("selectedKey",i.getProperty("key"))}const s=!t(this._previousExpandedElement?.targetContainer,e);this._adjustPreviousExpandedElementIfRequired(s);this._modifyContainer(e,o);this._currentExpandedElement=l;const c=this._addURLParam(n,"expanded",r);this._hashChanger?.setHash(c);this._focusFullScreenButton(i);i.fireEvent("onExpand")}else{this._domSnapshot?.remove();this.insertItem(e,l.index);if(!a){this._toggleInnerPanelVisibility(e,true)}delete this._currentExpandedElement;const t=this._removeURLParam(n,"expanded");this._hashChanger?.setHash(t);this._resetScrollPosition(i);this.fireEvent("onCollapse")}e._attachResizeHandler()},s?0:this._slideDurationInSeconds*1e3)}else{e.warning(`Element with ID: ${i?.getId()} not registered for full screen`)}},_modifyContainer:function e(n,i){const s=n.getProperty("orientation")===m.SideBySide;const o=!t(this._previousExpandedElement?.targetContainer,n);if(!this._previousExpandedElement||o){this._getFullScreenContainer().removeAllContent();this._sourceElementClone?.remove();this._getFullScreenContainer().addContent(n)}if(!s){this._toggleInnerPanelVisibility(n,false,i)}},_checkToggleRequirements:function e(t){const n=this.getProperty("expanded");let i=true;if(n){const e=t?.fullScreenName;i=this._currentExpandedElement?.fullScreenName===e}return i},_adjustPreviousExpandedElementIfRequired:function e(t){if(this._previousExpandedElement){const e=this._previousExpandedElement.sourceElements.values().next().value;this._toggleFullScreenButtonText(e,false);if(t){this.insertItem(this._previousExpandedElement.targetContainer,this._previousExpandedElement.index);this._scrollPosition=0;if(this._previousExpandedElement.targetContainer.getProperty("orientation")!==m.SideBySide){this._toggleInnerPanelVisibility(this._previousExpandedElement.targetContainer,true)}}}},_resetScrollPosition:function e(t){setTimeout(()=>{s.getElementById(`${t.getAssociation("fullScreenButton",null)}-btn`)?.focus();const e=this._getSectionRef(this);if(e!==undefined){e.scrollTop=this._scrollPosition}})},_toggleInnerPanelVisibility:function e(t,n,i){t.getContent()?.forEach((e,t)=>{e.setVisible(t===i?!n:n)})},_toggleFullScreenButtonText:function e(t,n){const i=t instanceof f;const s=i?t.getParent():t;const o=i&&s.getProperty("orientation")===m.SideBySide;const r=e=>{const t=this._getFullScreenButton(e);t.setProperty("text",this._i18nBundle.getText(n?"collapse":"expand"),true);const i=this._getFullScreenMenuItem(e);i.setProperty("title",this._i18nBundle.getText(n?"collapse":"expand"),true)};if(o){s.getContent()?.forEach(r)}else{r(t)}s._updateContainerHeader(o?s:t)},_focusFullScreenButton:function e(t){setTimeout(()=>{s.getElementById(`${t.getAssociation("fullScreenButton",null)}-btn`)?.focus()})},_getFullScreenButton:function e(t){return s.getElementById(t.getAssociation("fullScreenButton",null))},_getFullScreenMenuItem:function e(t){return s.getElementById(t.getAssociation("fullScreenMenuItem",null))},_getFullScreenContainer:function e(){return this.getAggregation("fullScreenContainer")},_getSectionRef:function e(t){const n=this.getProperty("showHeader")&&t!==this._getFullScreenContainer()?1:0;return t.getDomRef()?.childNodes[n]},_placeClonedElement:function e(t,n,i){this._scrollPosition=n?this._getSectionRef(this)?.scrollTop:this._scrollPosition;this._domSnapshot=n?this.getDomRef()?.cloneNode(true).cloneNode(true):this._domSnapshot;const s=t.getProperty("orientation")===m.SideBySide;const o=s?t:t._getInnerControl()?.getItems()[i]||t;const r=o.getDomRef()||t.getDomRef();this._sourceElementClone=n?r?.cloneNode(true):this._sourceElementClone;const l=n?this._getSectionRef(this._getFullScreenContainer()):this.getDomRef();if(l){setTimeout(()=>{l.innerHTML="";l.append(n?this._sourceElementClone:this._domSnapshot)})}},_getCurrentExpandedElementName:function e(){return this._getCurrentExpandedElement()?.fullScreenName},_getCurrentExpandedElement:function e(){const t=this._getURLParams(this._hashChanger?.getHash()||"").has("expanded");if(t){return this._currentExpandedElement}}});return S});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseLayoutRenderer", ["sap/m/PageRenderer"],function(e){"use strict";var n={apiVersion:2,render:function(n,t){const r=`${t.getId()}-layout-container`;const o=document.getElementById(r);if(!o){n.openStart("div",r).class("sapCuxBaseLayout").openEnd()}e.render(n,t);n.renderControl(t.getAggregation("fullScreenContainer"));if(!o){n.close("div")}}};return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseNewsItem", ["sap/m/GenericTile","sap/m/NewsContent","sap/m/TileContent","sap/m/library","sap/ui/core/Element","sap/ui/core/Lib","./utils/DataFormatUtils"],function(t,e,i,r,o,s,n){"use strict";const u=r["Priority"];const l=n["recycleId"];const c=o.extend("sap.cux.home.BaseNewsItem",{metadata:{library:"sap.cux.home",properties:{imageUrl:{type:"string",group:"Misc"},title:{type:"string",group:"Misc"},subTitle:{type:"string",group:"Misc"},footer:{type:"string",group:"Misc"},priority:{type:"sap.m.Priority",group:"Misc"},priorityText:{type:"string",group:"Misc"}}},constructor:function t(e,i){o.prototype.constructor.call(this,e,i)},init:function t(){o.prototype.init.call(this);this._i18nBundle=s.getResourceBundleFor("sap.cux.home.i18n");if(!this._oTile){this.createTile()}},setImageUrl:function t(e){const i=e;this._oTile.setBackgroundImage(i);return this.setProperty("imageUrl",i,true)},setSubTitle:function t(e){this._oTile.getTileContent()[0].getContent().setSubheader(e);return this.setProperty("subTitle",e,true)},setTitle:function t(e){this._oTile.getTileContent()[0].getContent().setContentText(e);return this.setProperty("title",e,true)},setFooter:function t(e){this._oTile.getTileContent()[0].setFooter(e);return this.setProperty("footer",e,true)},setPriority:function t(e){this._oTile.getTileContent()[0].setPriority(e);return this.setProperty("priority",e,true)},setPriorityText:function t(e){this._oTile.getTileContent()[0].setPriorityText(e);return this.setProperty("priorityText",e,true)},getTile:function t(){if(!this._oTile){this.createTile()}return this._oTile},createTile:function r(){this._oTile=new t(l(`${this.getId()}-news-tile`),{mode:"ArticleMode",frameType:"Stretch",backgroundImage:this.getImageUrl(),tileContent:[new i(l(`${this.getId()}-news-tile-content`),{footer:this.getFooter(),priority:this.getPriority()||u.None,priorityText:this.getPriorityText(),content:new e(l(`${this.getId()}-news-content`),{contentText:this.getTitle(),subheader:this.getSubTitle()})})]})}});return c});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseNewsPanel", ["sap/m/Button","sap/m/FlexItemData","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/VBox","sap/ui/layout/VerticalLayout","./BasePanel","./utils/Constants"],function(t,e,s,i,n,a,r,o,l){"use strict";function d(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const u=d(o);const p=l["SETTINGS_PANELS_KEYS"];const g=u.extend("sap.cux.home.BaseNewsPanel",{metadata:{library:"sap.cux.home",aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},newsItems:{type:"sap.cux.home.BaseNewsItem",singularName:"newsItem",multiple:true}}},constructor:function t(e,s){u.prototype.constructor.call(this,e,s)},init:function t(){u.prototype.init.call(this);this.newsVerticalLayout=new r(`${this.getId()}-newsContent`,{content:[this.generateErrorMessage()],layoutData:new e({id:`${this.getId()}-flexItemdata`,order:0,growFactor:1})}).setWidth("100%");this.newsWrapper=new a(`${this.getId()}-newsContentWrapper`,{items:[this.newsVerticalLayout]});this.addContent(this.newsWrapper)},getNewsWrapper:function t(){return this.newsVerticalLayout},generateErrorMessage:function e(){if(!this.errorCard){this.manageNewsButton=new t(`${this.getId()}-idManageNewsBtn`,{text:this._i18nBundle.getText("editLinkNews"),tooltip:this._i18nBundle.getText("editLinkNews"),type:"Emphasized",press:this.handleEditNews.bind(this)});const e=new s(`${this.getId()}-errorMessage`,{illustrationSize:i.Small,illustrationType:n.NoNotifications,title:this._i18nBundle.getText("noNewsTitle"),description:this._i18nBundle.getText("noNewsDescription"),additionalContent:[this.manageNewsButton]}).addStyleClass("customIllustratedMessage");this.errorCard=new a(`${this.getId()}-errorCard`,{wrap:"Wrap",backgroundDesign:"Solid",items:[e],visible:false,height:"17rem",width:"100%"}).addStyleClass("sapUiRoundedBorder noCardsBorder sapUiSmallMarginTopBottom")}return this.errorCard},setManageNewsButtonVisibility:function t(e){this.manageNewsButton.setVisible(e)},handleEditNews:function t(){const e=this.getParent();e?._getLayout().openSettingsDialog(p.NEWS)}});return g});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BasePagePanel", ["./BasePanel"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const n=t(e);const a=n.extend("sap.cux.home.BasePagePanel",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc"},key:{type:"string",group:"Misc"}},aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},pages:{type:"sap.cux.home.Page",singularName:"page",multiple:true}}},constructor:function e(t,a){n.prototype.constructor.call(this,t,a)}});return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BasePanel", ["sap/ui/core/dnd/DragDropInfo","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/library","./utils/Device","./utils/DragDropUtils"],function(e,t,i,n,o,a){"use strict";const r=n["dnd"];const s=o["calculateDeviceType"];const u=a["attachKeyboardHandler"];const l=t.extend("sap.cux.home.BasePanel",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:""},key:{type:"string",group:"Misc",defaultValue:""},visible:{type:"boolean",group:"Misc",defaultValue:true},tooltip:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},enableSettings:{type:"boolean",group:"Misc",visibility:"hidden"},enableKeyUserSettings:{type:"boolean",group:"Misc",visibility:"hidden",defaultValue:true},enableFullScreen:{type:"boolean",group:"Misc",visibility:"hidden"},fullScreenName:{type:"string",group:"Misc",visibility:"hidden"}},defaultAggregation:"content",aggregations:{content:{multiple:true,singularName:"content"},actionButtons:{type:"sap.m.Button",multiple:true,singularName:"actionButton"},menuItems:{type:"sap.cux.home.MenuItem",multiple:true,singularName:"menuItem"}},events:{onExpand:{},loaded:{}},associations:{fullScreenButton:{type:"sap.m.Button",multiple:false,singularName:"fullScreenButton",visibility:"hidden"}}},constructor:function e(i,n){t.prototype.constructor.call(this,i,n)},init:function e(){this._i18nBundle=i.getResourceBundleFor("sap.cux.home.i18n");if(!this.getProperty("key")){this.setProperty("key",this.getId())}},_setCount:function e(t){this.getParent()?._setPanelCount(this,t)},getDeviceType:function e(){const t=this.getParent();return t?t.getDeviceType():s()},addDragDropConfigTo:function t(i,n,o,a=r.DropPosition.Between){i.addDragDropConfig(new e(`${i.getId()}--addDragDropConfig`,{sourceAggregation:"items",targetAggregation:"items",dropPosition:a,dropLayout:r.DropLayout.Horizontal,drop:n})).attachBrowserEvent("keydown",e=>{const t=e.metaKey||e.ctrlKey;void u(e,t,e=>{n(e)})});if(o){i.attachBrowserEvent("keydown",o)}}});return l});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseSettingsDialog", ["sap/m/Dialog","sap/ui/core/Lib"],function(e,t){"use strict";const n=e.extend("sap.cux.home.BaseSettingsDialog",{renderer:{apiVersion:2},metadata:{library:"sap.cux.home",properties:{selectedKey:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},context:{type:"object",group:"Misc",defaultValue:{},visibility:"hidden"}},defaultAggregation:"panels",aggregations:{panels:{type:"sap.cux.home.BaseSettingsPanel",singularName:"panel",multiple:true}}},constructor:function t(n,i){e.prototype.constructor.call(this,n,i)},init:function n(){e.prototype.init.call(this);this._i18nBundle=t.getResourceBundleFor("sap.cux.home.i18n");this._panelCache=[];this.addStyleClass("sapContrastPlus")},getPanels:function e(){return this._panelCache.slice()},addPanel:function e(t){this._panelCache.push(t);this.addAggregation("panels",t);return this},insertPanel:function e(t,n){this._panelCache.splice(n,0,t);this.insertAggregation("panels",t,n);return this},removePanel:function e(t){this._panelCache.splice(this._panelCache.indexOf(t),1);return this.removeAggregation("panels",t)},removeAllPanels:function e(){this._panelCache=[];this.removeAllAggregation("panels");return this.getPanels()}});return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/BaseSettingsPanel", ["sap/ui/core/dnd/DragDropInfo","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/library","./utils/DragDropUtils"],function(t,e,n,i,o){"use strict";const s=i["dnd"];const r=o["attachKeyboardHandler"];const a=e.extend("sap.cux.home.BaseSettingsPanel",{metadata:{library:"sap.cux.home",properties:{key:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},title:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"",visibility:"hidden"},showHeader:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",singularName:"content",multiple:true,visibility:"hidden"},actionButtons:{type:"sap.m.Button",multiple:true,singularName:"actionButton",visibility:"hidden"}},associations:{panel:{type:"string"}},events:{panelNavigated:{parameters:{context:{type:"object"}}},onDialogClose:{}}},constructor:function t(n,i){e.prototype.constructor.call(this,n,i);this._keyuserChanges=[]},init:function t(){this._i18nBundle=n.getResourceBundleFor("sap.cux.home.i18n");this._actionButtonsCache=[]},_getPanel:function t(){return e.getElementById(this.getAssociation("panel",null))},_persistDialog:function t(e){if(!e)return;const n=e.getParent();const i={"sap.cux.home.SettingsDialog":"settingsDialogPersisted","sap.cux.home.ContentAdditionDialog":"contentAdditionDialogPersisted"};const o=e.getMetadata().getName();const s=o in i?i[o]:undefined;if(s){n?.setProperty(s,true,true)}},_isDialogPersisted:function t(e){const n=e.getParent();if(!n)return false;return n.getProperty("settingsDialogPersisted")===true||n.getProperty("contentAdditionDialogPersisted")===true},getKeyUserChanges:function t(){return this._keyuserChanges},addKeyUserChanges:function t(e){this._keyuserChanges.push(e)},clearKeyUserChanges:function t(){this._keyuserChanges=[]},addDragDropConfigTo:function e(n,i){n.addDragDropConfig(new t(`${n.getId()}--settingsDragDropConfig`,{sourceAggregation:"items",targetAggregation:"items",dropPosition:s.DropPosition.On,dropLayout:s.DropLayout.Horizontal,drop:i})).attachBrowserEvent("keydown",t=>{const e=t.metaKey||t.ctrlKey;void r(t,e,t=>{i(t)})})},getActionButtons:function t(){return this._actionButtonsCache.slice()},addActionButton:function t(e){this._actionButtonsCache.push(e);this.addAggregation("actionButtons",e);return this},insertActionButton:function t(e,n){this._actionButtonsCache.splice(n,0,e);this.insertAggregation("actionButtons",e,n);return this},removeActionButton:function t(e){const n=this._actionButtonsCache.splice(this._actionButtonsCache.indexOf(e),1);this.removeAggregation("actionButtons",e);return n[0]||null},isSupported:function t(){try{return Promise.resolve(true)}catch(t){return Promise.reject(t)}}});return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/CardsPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerSettings","sap/fe/navigation/SelectionVariant","sap/insights/CardHelper","sap/insights/base/InMemoryCachingHost","sap/m/HBox","sap/m/HeaderContainer","sap/m/VBox","sap/ui/core/EventBus","sap/ui/integration/widgets/Card","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/api/S4MyHome","./BasePanel","./MenuItem","./utils/AppManager","./utils/CommonUtils","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/DragDropUtils","./utils/FESRUtil","./utils/InsightsUtils","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(e,t,n,r,s,i,a,o,c,d,h,l,u,g,f,p,m,C,_,P,y,I,v,M,S,b){"use strict";function A(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function E(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const w=A(f);function D(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}const R=A(p);const H=A(m);const O=C["getPageManagerInstance"];const x=_["PREFERED_CARDS"];const T=_["SETTINGS_PANELS_KEYS"];const V=P["recycleId"];const N=y["calculateCardWidth"];const B=y["DeviceType"];const j=y["fetchElementProperties"];const W=I["focusDraggedItem"];const $=v["addFESRId"];const F=M["createShowMoreActionButton"];const L=M["createShowMoreMenuItem"];const k=M["getAssociatedFullScreenMenuItem"];const U=M["sortMenuItems"];const J=M["targetsAreEqual"];const z=A(S);const G=A(b);var q=function(e){e["REFRESH"]="cards-refresh";e["EDIT_CARDS"]="cards-editCards";e["AI_INSIGHT_CARD"]="cards-addAIInsightCard";return e}(q||{});var K=function(e){e["REFRESH"]="container-cards-refresh";e["EDIT_CARDS"]="container-cards-editCards";e["SHOW_MORE"]="cardsContainerFullScreenMenuItem";e["AI_INSIGHT_CARD"]="container-cards-addAIInsightCard";return e}(K||{});var Q=function(e){e["SHOW_MORE"]="cardsContanerFullScreenActionButton";return e}(Q||{});const Y=[q.REFRESH,q.EDIT_CARDS,q.AI_INSIGHT_CARD,"showMore","settings"];const X={PLACEHOLDER_CARD_COUNT:10,CARDS_GAP:16};const Z="showRecommendation";let ee=false;const te=w.extend("sap.cux.home.CardsPanel",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},key:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},fullScreenName:{type:"string",group:"Misc",defaultValue:"SI2",visibility:"hidden"}},defaultAggregation:"cards",aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},cards:{type:"sap.ui.integration.widgets.Card",multiple:true,singularName:"card",visibility:"hidden"},host:{type:"sap.ui.integration.Host",multiple:false,singularName:"host",visibility:"hidden"}},events:{handleHidePanel:{parameters:{}},handleUnhidePanel:{parameters:{}},visibleCardsUpdated:{parameters:{cards:{type:"sap.ui.integration.widgets.Card[]"}}}}},constructor:function e(t,n){w.prototype.constructor.call(this,t,n);this.aVisibleCardInstances=[];this.cardsInViewport=[];this._appSwitched=false;this._headerVisible=false},init:function e(){const t=this;w.prototype.init.call(this);this.setProperty("key","cards");this.setProperty("enableFullScreen",true);this.cardWidth="19rem";this.cardHeight=this.getDeviceType()===B.Mobile?"25.5rem":"33rem";this._oData={userVisibleCards:[],userAllCards:[],isPhone:this.getDeviceType()===B.Mobile};this._controlModel=new l(this._oData);this.appManagerInstance=H.getInstance();this._controlMap=new Map;const n=this._createRefreshMenuItem(q.REFRESH,"cardsRefresh");const r=this._createEditCardsMenuItem(q.EDIT_CARDS,"manageCards");const s=[n,r];s.forEach(e=>this.addAggregation("menuItems",e));this._sortMenuItems(Y);this.oEventBus=d.getInstance();this.oEventBus.subscribe("importChannel","cardsImport",function(e,n,r){try{return Promise.resolve(t._createCards(r)).then(function(){return Promise.resolve(t.rerenderCards()).then(function(){t._importdone()})})}catch(e){return Promise.reject(e)}},this);this._setupWrapper();this._toggleCardActivity()},_toggleCardActivity:function t(){const n=this;const r=function(e){try{const t=e.getParameter("isMyHomeRoute");const r=function(){if(t){const e=function(){if(n._appSwitched){return Promise.resolve(n.rerenderCards()).then(function(){n._appSwitched=false})}}();if(e&&e.then)return e.then(function(){})}else{n._appSwitched=true}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};try{g.attachRouteMatched({},r,this)}catch(t){e.warning(t instanceof Error?t.message:String(t))}},_createCards:function e(t){try{const e=this;return Promise.resolve(e.cardHelperInstance?._createCards(t)).then(function(){return e.rerenderCards()})}catch(e){return Promise.reject(e)}},_getManifestEntryFromCard:function e(t,n){const r=t;const s=t.getManifestEntry(n);if(s){return Promise.resolve(s)}else{if(!r._pManifestReady){r._pManifestReady=new Promise(e=>{t.attachManifestReady(()=>{e(t.getManifestEntry(n))})})}return r._pManifestReady}},_addRuntimeHost:function e(){const t=this,n=this,r=this,s=this,a=this;const o=this.getAggregation("host")||new i("runtimeHost");const c=function(e){try{const n=e.getParameter("type");let r=e.getParameter("parameters")||{};const s=function(){if(n==="Navigation"&&r.ibnTarget){e.preventDefault();const n=e.getParameter("card")||{},s=n?.getManifestEntry("sap.card")||{},i=s?.header?.actions||[];let a;if(s?.configuration?.parameters?._semanticDateRangeSetting?.value){a=JSON.parse(s.configuration.parameters._semanticDateRangeSetting.value)}if(a&&Object.keys(a).length){r=t.cardHelperInstance.processSemanticDate(r,s)}let o=t.getContentActions(s);const c=i[0]||{},d=o[0]||{};const h=!!(c?.parameters&&typeof c.parameters==="string"&&c.parameters.indexOf("{= extension.formatters.addPropertyValueToAppState")>-1||d?.parameters&&typeof d.parameters==="string"&&d.parameters.indexOf("{= extension.formatters.addPropertyValueToAppState")>-1);t._manageOldCardExtension(h,e,r);return Promise.resolve(u.getServiceAsync("Navigation")).then(function(e){return Promise.resolve(e.navigate({target:r.ibnTarget,params:r.ibnParams})).then(function(){})})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};const d=[{type:"Custom",text:this._i18nBundle?.getText("refresh"),icon:"sap-icon://refresh",action:e=>{this._refreshCardData(e)},visible:function(e){try{return Promise.resolve(n._getManifestEntryFromCard(e,"sap.insights")).then(function(e){return e&&!e.cacheType})}catch(e){return Promise.reject(e)}}},{type:"Custom",text:this._i18nBundle?.getText("viewFilteredBy"),icon:"sap-icon://filter",action:e=>{const t=e.getManifestEntry("sap.app").id;this.getParent()?._getLayout().openSettingsDialog(T.INSIGHTS_CARDS,{cardId:t})},visible:function(e){try{return Promise.resolve(r._getManifestEntryFromCard(e,"sap.insights")).then(function(t){if(t){const t=e.getManifestEntry("sap.card")?.configuration?.parameters;const n=t?._relevantODataFilters?.value||[];const r=n?.length;const s=t?._relevantODataParameters?.value||[];const i=s?.length;const a=e.getManifestEntry("sap.app").dataSources;const o=a?.filterService;const c=o?.settings;return!!((r||i)&&c&&c.odataVersion==="2.0")}else{return false}})}catch(e){return Promise.reject(e)}}},{type:"Custom",text:this._i18nBundle?.getText("navigateToParent"),icon:"sap-icon://display-more",visible:function(e){try{return Promise.resolve(s._getManifestEntryFromCard(e,"sap.insights").then(function(t){try{if(t){return Promise.resolve(s.cardHelperInstance.getParentAppDetails({descriptorContent:e.getManifestEntry("/")})).then(function(e){if(e.semanticObject&&e.action){return Promise.resolve(u.getServiceAsync("Navigation")).then(function(t){const n=[{target:{semanticObject:e.semanticObject,action:e.action}}];return Promise.resolve(t.isNavigationSupported(n)).then(function(e){const t=e;return t[0].supported||false})})}else{return true}})}else{return Promise.resolve(false)}}catch(e){return Promise.reject(e)}}))}catch(e){return Promise.reject(e)}},action:function(e){try{return Promise.resolve(a.cardHelperInstance.getParentAppDetails({descriptorContent:e.getManifestEntry("/")})).then(function(e){const t=e.semanticURL||e.semanticObject;return Promise.resolve(u.getServiceAsync("Navigation")).then(function(e){return Promise.resolve(e.navigate({target:{shellHash:t}})).then(function(){})})})}catch(e){return Promise.reject(e)}}}];o.attachAction(c);o.setProperty("actions",d);this.setAggregation("host",o)},_manageOldCardExtension:function e(t,n,s){if(t){const e=new r;const t=n.getParameter("card").getCombinedParameters();(t?._relevantODataParameters).forEach(e=>{if(s.ibnParams){s.ibnParams[e]=t[e]}});(t?._relevantODataFilters).forEach(n=>{const r=JSON.parse(t[n]);const i=r.SelectOptions[0];const a=i.Ranges;if(a?.length===1&&a[0].Sign==="I"&&a[0].Option==="EQ"){if(s.ibnParams){s.ibnParams[n]=a[0].Low}}else if(a?.length>0){e.massAddSelectOption(n,a)}});const i=JSON.parse(s?.ibnParams?.["sap-xapp-state-data"]);i.selectionVariant=e.toJSONObject();if(s.ibnParams){s.ibnParams["sap-xapp-state-data"]=JSON.stringify(i)}}},getContentActions:function e(t){let n;if(t.type==="List"){n=t?.content?.item?.actions}else if(t.type==="Table"){n=t?.content?.row?.actions}else{n=t?.content?.actions}return n||[]},_importdone:function e(){const t={status:true};this.oEventBus.publish("importChannel","cardsImported",t)},_refreshCardData:function e(t){sap.ui.require(["sap/insights/base/CacheData"],e=>{const n=t.getManifestEntry("sap.app")?.id;const r=e.getInstance();r.clearCache(n);t.refreshData()})},refreshData:function t(){try{const t=this;const n=E(function(){return Promise.resolve(s.getServiceAsync()).then(function(e){t.cardHelperInstance=e;return Promise.resolve(t.cardHelperInstance._refreshUserCards(false)).then(function(){return Promise.resolve(t.renderPanel()).then(function(){})})})},function(t){e.error("Failed to refresh cards: ",t instanceof Error?t.message:t)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},renderPanel:function e(){try{const t=this;function n(){return Promise.resolve(t.rerenderCards()).then(function(){t.fireEvent("loaded")})}const r=function(){if(!t.cardHelperInstance){t.pageManagerInstance=t.pageManagerInstance||O(t);return Promise.resolve(Promise.all([s.getServiceAsync(),t.pageManagerInstance.hasCustomSpace()])).then(function([e,n]){t.cardHelperInstance=e;t.hasCustomSpace=n})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(i){return Promise.reject(i)}},rerenderCards:function t(n=false){try{const t=this;if(!t._cardsRendered){t._cardsRendered=new Promise((r,s)=>{void function(){try{const i=E(function(){const e=t._getCardContainer().getMetadata().getDefaultAggregationName();t._getCardContainer().removeAllAggregation(e);t._showPlaceHolders();const s=t.hasCustomSpace?x:[];return Promise.resolve(t.cardHelperInstance?._getUserVisibleCardModel(s)).then(function(e){const s=e.getProperty("/cards");const i=e?.bindList("/cards");if(!i.hasListeners("change")){i?.enableExtendedChangeDetection(true,"/cards",{});i?.attachChange(function(){try{return Promise.resolve(t._cardsRendered??Promise.resolve()).then(function(){const n=e.getProperty("/cards");if(n.length!==t.aVisibleCardInstances.length&&n.length>0){t._showCards(n)}else if(!n.length){t.fireHandleHidePanel()}})}catch(e){return Promise.reject(e)}})}t._controlModel.setProperty("/userVisibleCards",s);return Promise.resolve(t.getPersonalisationProperty(Z)).then(function(e){function i(){t._cardsRendered=undefined;r()}const a=function(){if(s.length===0&&e===undefined&&!n){return Promise.resolve(t._getRecommendationCards()).then(function(){})}else{const n=function(){if(s.length){function n(){return Promise.resolve(t.checkForRecommendedCards(s)).then(function(){})}const r=function(){if(e===undefined){return Promise.resolve(t._updateRecommendationStatus()).then(function(){})}}();return r&&r.then?r.then(n):n(r)}else{t.fireHandleHidePanel()}}();if(n&&n.then)return n.then(function(){})}}();return a&&a.then?a.then(i):i(a)})})},function(n){t.fireHandleHidePanel();t._cardsRendered=undefined;if(n instanceof Error){e.error(n.message);s(n)}});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}()})}return Promise.resolve(t._cardsRendered)}catch(e){return Promise.reject(e)}},setNewVisibleCards:function e(){try{const e=this;const t=e.hasCustomSpace?x:[];return Promise.resolve(e.cardHelperInstance._getUserVisibleCardModel(t)).then(function(t){const n=t.getProperty("/cards");e._controlModel.setProperty("/userVisibleCards",n);e._showCards(n)})}catch(e){return Promise.reject(e)}},checkForRecommendedCards:function e(t){try{const e=this;let n=[];t.forEach((e,t)=>{let r=e.descriptorContent;if(r["sap.card"]?.rec===true&&(!r["sap.card"]["configuration"]||!r["sap.card"]["configuration"]["csrfTokens"])){n.push({cardId:r?.["sap.app"]?.id,rank:r?.["sap.insights"]?.ranking||e?.rank,id:r?.["sap.insights"]?.["parentAppId"]||"",target:r?.["sap.card"]?.["header"]?.["actions"]?.length?r["sap.card"]["header"]["actions"][0]?.["parameters"]?.ibnTarget:undefined,index:t})}});return Promise.resolve(function(){if(n.length){const t=e.getUniqueManifestDetails(n);return Promise.resolve(e.regenerateCards(t,n)).then(function(t){let n=false;function r(t){return n?t:Promise.resolve(e.setNewVisibleCards()).then(function(){})}const s=function(){if(t?.length){return Promise.resolve(e.cardHelperInstance._updateCards(t.map(e=>e?.newManifest?.descriptorContent))).then(function(){})}else{n=true}}();return s&&s.then?s.then(r):r(s)})}else{e._showCards(t)}}())}catch(e){return Promise.reject(e)}},getUniqueManifestDetails:function e(t){const n=[];t.forEach(e=>{const t=n.some(t=>t.id===e.id&&J(t.target,e.target));if(!t){n.push(JSON.parse(JSON.stringify(e)))}});return n},_getManifests:function e(t){try{const e=this;return Promise.resolve(e.appManagerInstance._getCardManifest(undefined,t)).then(function(n){if(n?.length){let r=n.map(function(e){if(e?.["sap.card"]){e["sap.card"].rec=true}return{id:e["sap.app"]?.id,descriptorContent:e}});let s=e._removeDuplicateRegeneratedCards(r,t);return s}else{return[]}})}catch(e){return Promise.reject(e)}},regenerateCards:function t(n,r){try{const t=this;return Promise.resolve(E(function(){return Promise.resolve(t._getManifests(n)).then(function(e){const t=e=>{if(e?.target?.semanticObject&&e?.target?.action){return e.id+"|"+e.target.semanticObject+"|"+e.target.action}return e.id};let n={};e.forEach(function(e){let r=t(e);if(e.newManifest){n[r]=e.newManifest}});let s=[];if(e.length){r.forEach(function(e){let r=t(e);if(n[r]){e.newManifest=n[r]}const i=e["newManifest"];const a=i?.descriptorContent;if(a){a["sap.insights"]={...a["sap.insights"],ranking:e.rank};if(a["sap.app"]){a["sap.app"].id=e.cardId}i.id=e.cardId;s.push(JSON.parse(JSON.stringify(e)))}})}return s})},function(t){e.error(t instanceof Error?t.message:String(t));return undefined}))}catch(e){return Promise.reject(e)}},_removeDuplicateRegeneratedCards:function e(t,n){const r={};n.forEach(e=>{if(e.id){r[e.id]=JSON.parse(JSON.stringify(e))}});t.forEach(function(e){const t=e?.descriptorContent?.["sap.insights"]?.parentAppId;if(t&&r[t]){const n=r[t];if(!n["newManifest"]){n["newManifest"]=e}}});return Object.values(r)},_getPersonalizationData:function e(){try{const t=this;function n(){return Promise.resolve(t.oPersonalizer.read()).then(function(e){return e||{}})}const r=function(){if(!t.oPersonalizer){return Promise.resolve(t._getPersonalization()).then(function(e){t.oPersonalizer=e})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(s){return Promise.reject(s)}},getPersonalisationProperty:function e(t){try{const e=this;return Promise.resolve(e._getPersonalizationData()).then(function(e){return e?.[t]})}catch(e){return Promise.reject(e)}},_getRecommendationCards:function e(){try{const e=this;return Promise.resolve(e.appManagerInstance.getRecommenedCards()).then(function(t){if(t?.length){return e._handleRecommendationCards(t)}e.fireHandleHidePanel()})}catch(e){return Promise.reject(e)}},_handleRecommendationCards:function e(t){try{const e=this;const n=t.map(e=>e.descriptorContent);return Promise.resolve(e.cardHelperInstance?._createCards(n)).then(function(){return Promise.resolve(e._updateRecommendationStatus()).then(function(){return e.setNewVisibleCards()})})}catch(e){return Promise.reject(e)}},_setupWrapper:function e(){if(!this._cardsFlexWrapper){this._cardsFlexWrapper=new c(`${this.getId()}-cardsFlexWrapper`,{renderType:"Bare",width:"100%",items:[this._createCardContainer(),this._createMobileCardContainer()]});this._cardsFlexWrapper.setModel(this._controlModel);this.addContent(this._cardsFlexWrapper)}},_createCardContainer:function e(){this.cardsContainerSettings=new n(`${this.getId()}-insightsCardsContainerSettings`,{columnSize:this.cardWidth,rowSize:this.cardHeight,gap:"1rem"});this.cardsContainer=new t(`${this.getId()}-insightsCardsFlexBox`,{visible:"{= !${/isPhone}}"}).addStyleClass("sapUiSmallMarginTop").setLayout(this.cardsContainerSettings);this.cardsContainer.setModel(this._controlModel);this.addDragDropConfigTo(this.cardsContainer,e=>this._handleCardsDnd(e));return this.cardsContainer},_createMobileCardContainer:function e(){this.cardsMobileContainer=new o(`${this.getId()}-insightsCardsMobileFlexBox`,{scrollStep:0,scrollStepByItem:1,gridLayout:true,scrollTime:1e3,showDividers:false,visible:"{/isPhone}"});this.cardsMobileContainer.setModel(this._controlModel);this.addDragDropConfigTo(this.cardsMobileContainer,e=>this._handleCardsDnd(e));return this.cardsMobileContainer},_showPlaceHolders:function e(){const t=this.appManagerInstance._getAnalyticalCardManifest();const n=new Array(this._calculatePlaceholderCardCount()).fill(null);const r=n.map((e,n)=>{const r=new h(V(`${this.getId()}--placeHolderCard--${n}`),{width:this.cardWidth,height:this.cardHeight,previewMode:"Abstract",manifest:t,host:this.getAggregation("host")}).addStyleClass("sapUiSmallMarginEnd");return r});const s=new a(V(`${this.getId()}--wrapperBox`),{justifyContent:"SpaceBetween",items:r});const i=this._getCardContainer().getMetadata().getDefaultAggregationName();if(i){this._getCardContainer().addAggregation(i,s)}},_calculatePlaceholderCardCount:function e(){const t=this._getInsightsContainer()?._getLayout()?.getDomRef();let n=0;if(t){const e=t.childNodes[0];const r=j(e,["width","padding-left","padding-right"]);let s=r.width-r["padding-left"]-r["padding-right"];const i={containerWidth:s,totalCards:X.PLACEHOLDER_CARD_COUNT,minWidth:304,maxWidth:583,gap:16};const a=this.getDeviceType()===B.Mobile?19:N(i);n=this.getDeviceType()===B.Mobile?this.aVisibleCardInstances.length:Math.floor(s/(a+X.CARDS_GAP));this.cardWidth=`${a/16}rem`}return n||1},_showCards:function e(t){const n=this.getMetadata().getName();this.fireHandleUnhidePanel();this._getInsightsContainer()?.updatePanelsItemCount(t.length,n);if(this._headerVisible){this.setProperty("title",`${this._i18nBundle?.getText("insightsCards")} (${t.length})`)}const r=this._getCardContainer().getMetadata().getDefaultAggregationName();this._getCardContainer().removeAllAggregation(r);this.aVisibleCardInstances=[];this.cardsInViewport=[];if(!ee){this._addRuntimeHost();ee=true}t.forEach((e,t)=>{const n=e.descriptorContent;const r=new h(V(`${this.getId()}--userCard--${t}`),{width:this.cardWidth,height:this.cardHeight,manifest:n,host:this.getAggregation("host")});this.aVisibleCardInstances.push(r);this.addAggregation("cards",r,true);const s=[r];const i=n["sap.card"]?.type;if(i==="Table"||i==="List"){const e=new a(V(`${this.getId()}--overlay--${t}`),{width:this.cardWidth,height:"2rem"}).addStyleClass("insightsCardOverflowTop");const n=new a(V(`${this.getId()}--overlayHBoxId--${t}`),{height:"0"}).addStyleClass("sapMFlexBoxJustifyCenter");n.addItem(e);s.push(n)}const o=new c(V(`${this.getId()}--previewBoxId--${t}`),{direction:"Column",justifyContent:"Center",items:s});const d=this._getCardContainer().getMetadata().getDefaultAggregationName();this._getCardContainer().addAggregation(d,o)})},_handleEditCards:function e(t){let n=t.getSource().getParent()||this;if(n instanceof te){n=n.getParent()}n?._getLayout().openSettingsDialog(T.INSIGHTS_CARDS)},handleHideHeader:function e(){this._headerVisible=false;this.setProperty("title","");this._toggleHeaderActions(false)},handleAddHeader:function e(){this._headerVisible=true;this.setProperty("title",`${this._i18nBundle?.getText("insightsCards")} (${this._controlModel.getProperty("/userVisibleCards")?.length})`);this._toggleHeaderActions(true)},refreshCards:function e(){this.aVisibleCardInstances.forEach(e=>this._refreshCardData(e))},_handleCardsDnd:function t(n){try{const t=this;const r=n.getParameter("dropPosition"),s=n.getParameter("draggedControl"),i=s.getParent()?.indexOfItem(s),a=n.getParameter("droppedControl"),o=s.getParent().indexOfItem(a);t._cardsFlexWrapper?.setBusy(true);const c=D(function(){return E(function(){function e(){setTimeout(()=>{W(t._getCardContainer(),o)},0)}const n=function(){if(!t._controlModel.getProperty("/userAllCards").length){return Promise.resolve(t.cardHelperInstance._getUserAllCardModel()).then(function(e){t._controlModel.setProperty("/userAllCards",e.getProperty("/cards"));return Promise.resolve(t.updateCardList(r,o,i)).then(function(){})})}else{return Promise.resolve(t.updateCardList(r,o,i)).then(function(){})}}();return n&&n.then?n.then(e):e(n)},function(t){if(t instanceof Error){e.error(t.message)}})},function(e,n){t._cardsFlexWrapper?.setBusy(false);if(e)throw n;return n});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},updateCardList:function e(t,n,r){try{const e=this;const s=e._controlModel.getProperty("/userVisibleCards"),i=e._controlModel.getProperty("/userAllCards"),a=s[r]?.rank,o=s[n]?.rank;let c=i.findIndex(e=>e.rank===a),d=i.findIndex(e=>e.rank===o);if(t==="Before"&&r===n-1||t==="After"&&r===n+1||r===n){return Promise.resolve()}if(t==="Before"&&c<d){d--}else if(t==="After"&&c>d){d++}const h=function(){if(c!==d){const t=e.cardHelperInstance.handleDndCardsRanking(c,d,i);return Promise.resolve(e.cardHelperInstance._updateMultipleCards(t,"PUT")).then(function(){e._sortCardsOnRank(i);e._controlModel.setProperty("/userAllCards",i);e._controlModel.setProperty("/userVisibleCards",i.filter(e=>e.visibility));return Promise.resolve(e.rerenderCards()).then(function(){})})}}();return Promise.resolve(h&&h.then?h.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_sortCardsOnRank:function e(t){t.sort((e,t)=>{if(e.rank&&t.rank){if(e.rank<t.rank){return-1}else if(e.rank>t.rank){return 1}}return 0})},_getPersonalization:function e(){const t=z.getPersContainerId(this);const n=z.getOwnerComponent(this);return G.getInstance(t,n)},_updateRecommendationStatus:function e(){try{const e=this;return Promise.resolve(e._getPersonalizationData()).then(function(t){t[Z]=true;return e.oPersonalizer.write(t)})}catch(e){return Promise.reject(e)}},_calculateVisibleCardCount:function e(){const t=this._getInsightsContainer()._getLayout();const n=t.getDomRef();const r=this.getDeviceType();let s=1;if(n){const e=t.getProperty("showHeader");const i=e?1:0;const a=n.childNodes[i];const o=j(a,["width","padding-left","padding-right"]);const c=o.width-o["padding-left"]-o["padding-right"];const d=this.aVisibleCardInstances.length;const h={containerWidth:c,totalCards:d,minWidth:304,maxWidth:583,gap:16};const l=N(h);this.cardWidth=`${l/16}rem`;if(r===B.Mobile){s=d}else{s=Math.max(Math.floor(c/l),1)}}return s},_adjustLayout:function e(){const t=this._getInsightsContainer()?._getLayout();let n=this.cardWidth;const r=this.getDeviceType()===B.Mobile;if(t&&this.aVisibleCardInstances?.length>0){const e=t._getCurrentExpandedElementName()===this.getProperty("fullScreenName");let n=this._calculateVisibleCardCount();if(e){n=this.aVisibleCardInstances.length}this._controlModel.setProperty("/isPhone",r);if(n!==this.cardsInViewport.length){this.cardsInViewport=this.aVisibleCardInstances.slice(0,n);const e=this._getCardContainer().getMetadata().getDefaultAggregationName();this._getCardContainer().removeAllAggregation(e);this.cardsInViewport.forEach(e=>{const t=e.getManifest();const n=t["sap.card"]?.type;let r;if(n==="Table"||n==="List"){const e=new a({width:this.cardWidth,height:"2rem"}).addStyleClass("insightsCardOverflowLayer insightsCardOverflowTop");r=new a({height:"0"}).addStyleClass("sapMFlexBoxJustifyCenter");r.addItem(e)}const s=new c({direction:"Column",justifyContent:"Center",items:[e]});if(r){s.addItem(r)}const i=this._getCardContainer().getMetadata().getDefaultAggregationName();this._getCardContainer().addAggregation(i,s)});this.shareCardsInViewport()}const s=e||this.aVisibleCardInstances.length>n;if(this._headerVisible){this._getInsightsContainer()?.toggleFullScreenElements(this,s)}else{const e=k(this);const t=e?.getTitle();this._getInsightsContainer()?.updateMenuItem(this._controlMap.get(`${this.getId()}-${K.SHOW_MORE}`),s,t);this._getInsightsContainer()?.updateActionButton(this._controlMap.get(`${this.getId()}-${Q.SHOW_MORE}`),s,t)}}else{this.cardWidth=this.getDeviceType()===B.Mobile?"19rem":"22rem"}if(n!==this.cardWidth){this.aVisibleCardInstances.forEach(e=>e.setWidth(this.cardWidth));this.cardsContainerSettings?.setColumnSize(this.cardWidth)}},getContainerMenuItems:function e(){if(!this._containerMenuItems){const e=this._createRefreshMenuItem(K.REFRESH,"containerCardsRefresh");const t=this._createEditCardsMenuItem(K.EDIT_CARDS,"containerManageCards");const n=L(this,K.SHOW_MORE,"containerCardsShowMore");this._controlMap.set(`${this.getId()}-${K.SHOW_MORE}`,n);this._containerMenuItems=[e,t,n]}return this._containerMenuItems},getContainerActionButtons:function e(){if(!this._containerActionButtons){this._containerActionButtons=[];const e=F(this,Q.SHOW_MORE,"containerCardsShowMore");if(e){this._controlMap.set(`${this.getId()}-${Q.SHOW_MORE}`,e);this._containerActionButtons.push(e)}}return this._containerActionButtons},_getInsightsContainer:function e(){if(!this.insightsContainer){this.insightsContainer=this.getParent()}return this.insightsContainer},_createRefreshMenuItem:function e(t,n){const r=new R(`${this.getId()}-${t}`,{title:this._i18nBundle.getText("refresh"),icon:"sap-icon://refresh",visible:false,press:()=>this.refreshCards()});this._controlMap.set(`${this.getId()}-${t}`,r);if(n){$(r,n)}return r},_createEditCardsMenuItem:function e(t,n){const r=new R(`${this.getId()}-${t}`,{title:this._i18nBundle.getText("manageCards"),icon:"sap-icon://edit",visible:false,press:e=>this._handleEditCards(e)});this._controlMap.set(`${this.getId()}-${t}`,r);if(n){$(r,n)}return r},_toggleHeaderActions:function e(t){this.getAggregation("menuItems")?.forEach(e=>{this._getInsightsContainer()?.toggleMenuListItem(e,t)});this.getAggregation("actionButtons")?.forEach(e=>this._getInsightsContainer()?.toggleActionButton(e,t))},_getCardContainer:function e(){if(this.getDeviceType()===B.Mobile){return this.cardsMobileContainer}return this.cardsContainer},_sortMenuItems:function e(t){const n=this.getAggregation("menuItems");let r=U(t,n);this.removeAllAggregation("menuItems");r?.forEach(e=>this.addAggregation("menuItems",e))},shareCardsInViewport:function e(){const t=this._calculateVisibleCardCount();const n=this._controlModel.getProperty("/userVisibleCards");const r=n?.slice(0,t);if(r?.length){this.fireEvent("visibleCardsUpdated",{cards:r})}},exit:function e(){ee=false;this.getAggregation("host")?.destroy()}});te.cardsMenuItems=q;te.cardsContainerMenuItems=K;te.cardsContainerActionButtons=Q;return te});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/ContentAdditionDialog", ["sap/m/Button","sap/m/FlexBox","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/library","./AppsAdditionPanel","./BaseSettingsDialog","./InsightsAdditionPanel","./utils/Constants","./utils/FESRUtil"],function(t,e,n,i,s,o,r,a,c,l,d,u,h){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const g=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function p(t,e,n){if(!t.s){if(n instanceof y){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=p.bind(null,t,e);return}}if(n&&n.then){n.then(p.bind(null,t,e),p.bind(null,t,2));return}t.s=e;t.v=n;const i=t.o;if(i){i(t)}}}const y=function(){function t(){}t.prototype.then=function(e,n){const i=new t;const s=this.s;if(s){const t=s&1?e:n;if(t){try{p(i,1,t(this.v))}catch(t){p(i,2,t)}return i}else{return this}}this.o=function(t){try{const s=t.v;if(t.s&1){p(i,1,e?e(s):s)}else if(n){p(i,1,n(s))}else{p(i,2,s)}}catch(t){p(i,2,t)}};return i};return t}();function B(t){return t instanceof y&&t.s&1}function b(t,e,n){var i=-1,s,o;function r(a){try{while(++i<t.length&&(!n||!n())){a=e(i);if(a&&a.then){if(B(a)){a=a.v}else{a.then(r,o||(o=p.bind(null,s=new y,2)));return}}}if(s){p(s,1,a)}else{s=a}}catch(t){p(s||(s=new y),2,t)}}r();return s}const T=a["BackgroundDesign"];function C(t,e,n){if(typeof t[g]==="function"){var i=t[g](),s,o,r;function d(t){try{while(!(s=i.next()).done&&(!n||!n())){t=e(s.value);if(t&&t.then){if(B(t)){t=t.v}else{t.then(d,r||(r=p.bind(null,o=new y,2)));return}}}if(o){p(o,1,t)}else{o=t}}catch(t){p(o||(o=new y),2,t)}}d();if(i.return){var a=function(t){try{if(!s.done){i.return()}}catch(t){}return t};if(o&&o.then){return o.then(a,function(t){throw a(t)})}a()}return o}if(!("length"in t)){throw new TypeError("Object is not iterable")}var c=[];for(var l=0;l<t.length;l++){c.push(t[l])}return b(c,function(t){return e(c[t])},n)}const P=a["ButtonType"];const m=a["IconTabHeaderMode"];const S=f(c);const I=f(l);const A=f(d);const w=u["FESR_IDS"];const v=h["addFESRSemanticStepName"];const E=h["FESR_EVENTS"];const _=I.extend("sap.cux.home.ContentAdditionDialog",{renderer:{apiVersion:2},init:function t(){I.prototype.init.call(this);this.setStretch(false);this.setContentWidth("59.375rem");this.setContentHeight("43.75rem");this.setVerticalScrolling(false);this.setTitle(this._i18nBundle.getText("addContent"));this.addStyleClass("sapCuxContentAdditionDialog");this.attachAfterClose(this.onDialogClose.bind(this));this.addPanel(new S(`${this.getId()}-appsAdditionPanel`));this.addPanel(new A(`${this.getId()}-cardsAdditionPanel`));this._setupDialogContent()},_setupDialogContent:function t(){this.iconTabBar=new n(`${this.getId()}-iconTabBar`,{headerMode:m.Inline,backgroundDesign:T.Transparent,expandable:false,select:()=>{this.setProperty("selectedKey",this.iconTabBar.getSelectedKey());this.updateActionButtons()}});this.errorMessageContainer=new e(`${this.getId()}-errorMessageContainer`,{direction:"Column",renderType:"Bare",height:"100%",justifyContent:"Center",items:[new s(`${this.getId()}-errorMessage`,{illustrationSize:o.Auto,illustrationType:r.NoData})]});const i=new e(`${this.getId()}-wrapper`,{direction:"Column",renderType:"Bare",height:"100%",items:[this.iconTabBar,this.errorMessageContainer]});this.addContent(i)},onBeforeRendering:function t(e){I.prototype.onBeforeRendering.call(this,e);void this._addPanelsToIconTabBar();const n=this.getProperty("selectedKey")||this.getPanels()[0]?.getProperty("key");this.iconTabBar.setSelectedKey(n);this.updateActionButtons()},_addPanelsToIconTabBar:function t(){try{const t=this;const e=function(){if(!t.panelsAdded){function e(){const e=t.iconTabBar.getItems().length>0;t.iconTabBar.setVisible(e);t.errorMessageContainer.setVisible(!e)}t.panelsAdded=true;const n=t.getPanels();const s=C(n,function(e){return Promise.resolve(e.isSupported()).then(function(n){if(!n){return}const s=e.getProperty("key");const o=new i(`${t.getId()}-${e.getId()}-${s}`,{key:s,text:e.getProperty("title")});const r=e.getAggregation("content");r?.forEach(t=>o.addContent(t));t.iconTabBar.addItem(o);v(o,E.SELECT,e.getProperty("key"))})});return s&&s.then?s.then(e):e(s)}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_getSelectedPanel:function t(e){let n=this.getPanels().find(t=>t.getProperty("key")===e);if(!n){n=this.getPanels()[0];this.setProperty("selectedKey",n?.getProperty("key"))}return n},updateActionButtons:function e(){this.cancelButton=this.cancelButton||new t(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("XBUT_CANCEL"),type:P.Transparent,press:()=>this.close()});v(this.cancelButton,E.PRESS,w.CANCEL_CONTENT_DIALOG);const n=this.getProperty("selectedKey");this.removeAllButtons();this._getSelectedPanel(n)?.getActionButtons().forEach(t=>{this.addButton(t)});this.addButton(this.cancelButton)},onDialogClose:function t(){this.getPanels().forEach(t=>t.fireEvent("onDialogClose"))}});return _});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/ErrorPanel", ["sap/m/Button","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/VBox","./BasePanel","./utils/Constants"],function(t,e,s,a,i,n,o){"use strict";function r(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const d=r(n);const l=o["SETTINGS_PANELS_KEYS"];const p=d.extend("sap.cux.home.ErrorPanel",{metadata:{library:"sap.cux.home",properties:{messageTitle:{type:"string",group:"Misc",defaultValue:""},messageDescription:{type:"string",group:"Misc",defaultValue:""},actionButton:{type:"sap.m.Button",group:"Misc"}},aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"}}},constructor:function t(e,s){d.prototype.constructor.call(this,e,s)},getData:function n(){this.setProperty("enableSettings",false);if(!this._oWrapperNoCardsVBox){const n=new e(`${this.getId()}-errorPanelIllustratedMessage`,{illustrationSize:s.ExtraSmall,illustrationType:a.AddDimensions,title:this.getProperty("messageTitle"),description:this.getProperty("messageDescription"),additionalContent:[new t(`${this.getId()}-addInsightsBtn`,{text:this._i18nBundle.getText("manageInsightBtn"),type:"Emphasized",press:this.handleAddInsights.bind(this)})]}).addStyleClass("sapUiTinyMarginTop");this._oWrapperNoCardsVBox=new i(`${this.getId()}-wrapperNoCardsVBox`,{backgroundDesign:"Solid"}).addStyleClass("sapUiSmallMarginTop");const o=this.getProperty("actionButton");if(o){n.insertAdditionalContent(o,0)}this._oWrapperNoCardsVBox.addItem(n);this.addContent(this._oWrapperNoCardsVBox)}},handleAddInsights:function t(){const e=this.getParent();e?._getLayout().openSettingsDialog(l.INSIGHTS_CARDS)}});return p});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/FavAppPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerSettings","sap/m/Button","sap/m/ColorPalette","sap/m/ColorPalettePopover","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Input","sap/m/Label","sap/m/List","sap/m/MessageBox","sap/m/MessageStrip","sap/m/MessageToast","sap/m/NavContainer","sap/m/ObjectIdentifier","sap/m/Page","sap/m/Popover","sap/m/ScrollContainer","sap/m/SearchField","sap/m/StandardListItem","sap/m/Text","sap/m/Title","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/library","sap/ui/base/Event","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/core/library","sap/ui/core/message/MessageType","sap/ui/core/theming/Parameters","sap/ui/layout/form/SimpleForm","sap/ui/layout/library","sap/ushell/Config","sap/ushell/Container","sap/ushell/components/pages/MyHomeImport","sap/ushell/components/pages/controller/PageRuntime.controller","./BaseApp","./BaseAppPersPanel","./Group","./MenuItem","./RecommendedAppPanel","./utils/Accessibility","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/FESRUtil","./utils/InsightsUtils"],function(e,t,n,o,i,s,r,a,l,c,p,u,d,g,h,f,m,_,I,v,P,A,C,M,y,G,B,x,D,T,S,$,b,z,w,E,F,N,V,U,R,j,L,H,k,O,K,W,X,Y,q,J,Q,Z,ee){"use strict";function te(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const ne=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function oe(e,t,n){if(!e.s){if(n instanceof ie){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=oe.bind(null,e,t);return}}if(n&&n.then){n.then(oe.bind(null,e,t),oe.bind(null,e,2));return}e.s=t;e.v=n;const o=e.o;if(o){o(e)}}}const ie=function(){function e(){}e.prototype.then=function(t,n){const o=new e;const i=this.s;if(i){const e=i&1?t:n;if(e){try{oe(o,1,e(this.v))}catch(e){oe(o,2,e)}return o}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){oe(o,1,t?t(i):i)}else if(n){oe(o,1,n(i))}else{oe(o,2,i)}}catch(e){oe(o,2,e)}};return o};return e}();function se(e){return e instanceof ie&&e.s&1}function re(e,t,n){var o=-1,i,s;function r(a){try{while(++o<e.length&&(!n||!n())){a=t(o);if(a&&a.then){if(se(a)){a=a.v}else{a.then(r,s||(s=oe.bind(null,i=new ie,2)));return}}}if(i){oe(i,1,a)}else{i=a}}catch(e){oe(i||(i=new ie),2,e)}}r();return i}const ae=S["ButtonType"];function le(e,t,n){if(typeof e[ne]==="function"){var o=e[ne](),i,s,r;function p(e){try{while(!(i=o.next()).done&&(!n||!n())){e=t(i.value);if(e&&e.then){if(se(e)){e=e.v}else{e.then(p,r||(r=oe.bind(null,s=new ie,2)));return}}}if(s){oe(s,1,e)}else{s=e}}catch(e){oe(s||(s=new ie),2,e)}}p();if(o.return){var a=function(e){try{if(!i.done){o.return()}}catch(e){}return e};if(s&&s.then){return s.then(a,function(e){throw a(e)})}a()}return s}if(!("length"in e)){throw new TypeError("Object is not iterable")}var l=[];for(var c=0;c<e.length;c++){l.push(e[c])}return re(l,function(e){return t(l[e])},n)}const ce=S["ListType"];function pe(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const ue=S["PlacementType"];function de(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}const ge=E["dnd"];const he=U["form"];const fe=k["ActionsPopover"];const me=te(O);const _e=te(K);const Ie=te(W);const ve=te(X);const Pe=Y["checkPanelExists"];const Ae=Y["getInvisibleText"];const Ce=q["DEFAULT_BG_COLOR"];const Me=q["END_USER_COLORS"];const ye=q["MYAPPS_SECTION_ID"];const Ge=q["MYHOME_PAGE_ID"];const Be=J["getLeanURL"];const xe=J["recycleId"];const De=Q["DeviceType"];const Te=Z["addFESRId"];const Se=Z["addFESRSemanticStepName"];const $e=ee["sortMenuItems"];const be=()=>R.last("/core/shell/enablePersonalization")||R.last("/core/catalog/enabled");var ze=function(e){e["CREATE_GROUP"]="createGrpMenuBtn";e["ADD_APPS"]="addAppsMenuBtn";e["ADD_FROM_INSIGHTS"]="addInsightsMenuBtn";return e}(ze||{});const we="sap.cux.home.TilesPanel";const Ee="sap.cux.home.InsightsContainer";const Fe=[ze.CREATE_GROUP,ze.ADD_APPS,ze.ADD_FROM_INSIGHTS,"settings"];const Ne=me.extend("sap.cux.home.FavAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"},groups:{type:"sap.cux.home.Group",singularName:"group",multiple:true,visibility:"hidden"}}},constructor:function e(t,n){me.prototype.constructor.call(this,t,n);this._selectedApps=[];this._isInitialLoad=true;this._updateAppColorPersonalization=(e,t)=>{const{visualization:n,color:o}=t;const{appId:i,oldAppId:s,persConfig:r}=n;const a=r?.sectionId;const l=r?.isDefaultSection;const c=this._getPersonalizationIndex(e,{appId:i,oldAppId:s,sectionId:a,isRecentlyAddedApp:l});if(c>-1){e[c].BGColor=o}else{e.push({BGColor:o,sectionId:a,isRecentlyAddedApp:l,appId:i,isSection:false})}}},init:function e(){const t=this,n=this;me.prototype.init.call(this);this.setProperty("key","favApps");this.setProperty("title",this._i18nBundle.getText("favoritesTab"));this.setProperty("tooltip",this._i18nBundle.getText("favAppsInfo"));void this._createActionButtons();this._createHeaderMenuItems();const o=this._generateAppsWrapper();if(o){this.addDragDropConfigTo(o,e=>this._onFavItemDrop(e),e=>this._handleKeyboardMoveApp(e),ge.DropPosition.OnOrBetween)}this.oEventBus=z.getInstance();this.oEventBus.subscribe("importChannel","appsImport",function(e,n,o){try{const e=o?.apps||[];const n=o?.groupInfo||[];return Promise.resolve(t.addAppsAndSections(e,n)).then(function(){t._importdone();return Promise.resolve(t.getParent()._refreshAllPanels()).then(function(){})})}catch(e){return Promise.reject(e)}},this);this.oEventBus.subscribe("importChannel","resetImported",function(){try{return Promise.resolve(n.setImportButtonVisibility(true)).then(function(){})}catch(e){return Promise.reject(e)}},this);this.attachPersistDialog(()=>{if(this._selectedGroupId){void this._showGroupDetailDialog(this._selectedGroupId)}});document.addEventListener("click",e=>this._resetCutElement(e));document.addEventListener("keydown",e=>this._resetCutElement(e))},_importdone:function e(){const t={status:true};this.oEventBus.publish("importChannel","appsImported",t)},addAppsAndSections:function e(t,n){try{const e=this;let o=[];return Promise.resolve(e._getAppPersonalization()).then(function(i){function s(){return Promise.resolve(e.setFavAppsPersonalization(i)).then(function(){return o.reduce((e,t)=>e.then(()=>t()),Promise.resolve()).then(()=>e.updateDefaultSectionPersonalization(i))})}const r=le(t,function(t){const s=t.visualizations;const r=function(){if(s?.length){function r(){const o=e.filterPersonalizations(n,t);i=i.concat(o)}const a=function(){if(t.default||t.id===ye){o.push(()=>t.default?e.addSectionViz(s):e.addSectionViz(s,ye))}else{return Promise.resolve(e.appManagerInstance._getSections(true)).then(function(n){const i=n.findIndex(e=>e.id===t.id);if(i>-1){o.push(()=>e.addSectionViz(s,t.id))}else{o.push(()=>e.appManagerInstance.addSection({sectionIndex:n.length,sectionProperties:{id:t.id,title:t.title,visible:true,visualizations:s}}))}})}}();return a&&a.then?a.then(r):r(a)}}();if(r&&r.then)return r.then(function(){})});return r&&r.then?r.then(s):s(r)})}catch(e){return Promise.reject(e)}},filterPersonalizations:function e(t,n,o){const i=t.reduce(function(e,t){if(t.sectionId===n.id){const i=n.visualizations;const s=i?.find(e=>e.targetURL===t.appId);if(s||t.isSection){t.sectionId=o||n.id;e.push(t)}}return e},[]);return i},updateDefaultSectionPersonalization:function e(t){try{const e=this;return Promise.resolve(e.appManagerInstance._getSections(true)).then(function(e){let n=e.find(e=>e.default);if(n){t.forEach(e=>{if(e.isRecentlyAddedApp){e.sectionId=n.id}})}return t})}catch(e){return Promise.reject(e)}},addSectionViz:function e(t,n){try{const e=this;return Promise.resolve(t.reduce((t,o)=>t.then(function(){try{let t=false;function i(i){return t?i:e._addVisualization({visualization:o},n)}const s=function(){if(o.isBookmark&&n){return Promise.resolve(e.appManagerInstance._getSections()).then(function(i){const s=i.find(e=>e.default);const r=i.find(e=>e.id===n);if(s&&r){const a={sourceSectionIndex:i.indexOf(s),sourceVisualizationIndex:s.visualizations.length,targetSectionIndex:i.indexOf(r),targetVisualizationIndex:r.visualizations.length};const l=e._addVisualization({visualization:o},n,a);t=true;return l}})}}();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(r){return Promise.reject(r)}}),Promise.resolve()))}catch(e){return Promise.reject(e)}},loadApps:function e(){try{const e=this;return Promise.resolve(e.appManagerInstance.fetchFavVizs(true,false)).then(function(t){function n(){if(Pe(l,Ee,we)){e._createAddFromInsTilesMenuItem(ze.ADD_FROM_INSIGHTS)}l._updateContainerHeader(l)}const o=e.getDeviceType()===De.Mobile;e.destroyAggregation("groups",true);const i=t.filter(e=>e.isSection).map(t=>({...t,menuItems:e._getGroupActions(t)}));const s=e._generateGroups(i);e._setGroups(s);e.destroyAggregation("apps",true);const r=t.filter(e=>!e.isSection).map((t,n)=>({...t,menuItems:e._getAppActions(undefined,n,t)}));const a=e.generateApps(r);e.setApps(a);if(e._selectedGroupId){void e._setGroupDetailDialogApps(e._selectedGroupId)}const l=e.getParent();l.toggleMenuListItem(e._createGroupMenuItem,e.getApps().length>0);const c=function(){if(!o){return Promise.resolve(e._switchToRecommendedIfNoFavApps(a,s)).then(function(){})}}();return c&&c.then?c.then(n):n(c)})}catch(e){return Promise.reject(e)}},_switchToRecommendedIfNoFavApps:function e(t,n){try{const o=this;function i(){o._isInitialLoad=false}const s=o.getParent();const r=s.getContent();const a=r?r.find(e=>e instanceof ve):null;const l=function(){if(o._isInitialLoad&&[...t,...n].length===0&&a?.isSupported()){s.setProperty?.("selectedKey","recommendedApps");return Promise.resolve(s.refreshPanel(a)).then(function(){})}}();return Promise.resolve(l&&l.then?l.then(i):i(l))}catch(c){return Promise.reject(c)}},_createAddFromInsTilesMenuItem:function e(t){const n=`${this.getId()}-${t}`;if(!this._controlMap.get(n)){const e=new Ie(n,{title:this._i18nBundle.getText("addFromInsights"),icon:"sap-icon://duplicate",press:()=>void this._handleAddFromInsights()});Te(e,"staticTilesDialog");this._menuItems.push(e);this.addAggregation("menuItems",e);this._sortMenuItems(Fe);this._controlMap.set(n,e)}return this._controlMap.get(n)},_sortMenuItems:function e(t){const n=this.getAggregation("menuItems");let o=$e(t,n);this.removeAllAggregation("menuItems");o?.forEach(e=>this.addAggregation("menuItems",e))},_generateGroups:function e(t){return t.map((e,t)=>{const n=typeof e.BGColor==="object"&&"key"in e.BGColor?e.BGColor.key:e.BGColor;const o=new _e(`${this.getId()}-group-${t}`,{title:e.title,bgColor:n,status:e.status,icon:e.icon,number:e.badge,groupId:e.id,press:this._handleGroupPress.bind(this)});e.menuItems?.forEach(e=>{o.addAggregation("menuItems",e)});return o})},_setGroups:function e(t){t.forEach(e=>{this.addAggregation("groups",e,true)})},_getAppActions:function e(t,n,o){const i=t?.getGroupId();const s=o?.persConfig?.isDefaultSection;const r=!i;const a=[];const l=new Ie({id:i&&!s?xe(`_${i}--selectColorGroupAppMenuItem--${n}`):xe(`_${this.getKey()}--selectColorAppMenuItem--${n}`),title:this._i18nBundle.getText("selectColor"),type:ce.Navigation,press:this._openColorPopover.bind(this)});a.push(l);Te(l,"changeColor");if(this._getAllowedMoveGroups(i)?.length>=1){const e=new Ie({id:i&&!s?xe(`_${i}--moveToGroupAppMenuItem--${n}`):xe(`_${this.getKey()}--moveToMenuItem--${n}`),title:this._i18nBundle.getText("moveTo"),type:ce.Navigation,press:e=>this._openMoveToGroupPopover(e,t)});a.push(e);Te(e,"moveToGroup")}if(r){const e=new Ie(xe(`${this.getKey()}--createGroupMenuItem--${n}`),{title:this._i18nBundle.getText("createGroup"),press:e=>{const t=e.getSource();const n=t.getParent();this._selectedApps=[n];this._openCreateGroupDialog()}});a.push(e);Te(e,"createGroupDialog")}const c=new Ie({id:i&&!s?xe(`_${i}--removeFromMyHomeGroupAppMenuItem--${n}`):xe(`_${this.getKey()}--removeFromMyHomeMenuItem--${n}`),title:this._i18nBundle.getText("removeFromMyHome"),press:e=>{const n=e.getSource();const o=n.getParent();this._handleRemove(o,t)}});a.push(c);Te(c,"removeFromMyHome");if(!r){const e=new Ie({id:xe(`${this.getKey()}--removeFromGroupMenuItem--${n}`),title:this._i18nBundle.getText("removeFromGroup"),press:e=>{const t=e.getSource();const n=t.getParent();void this._handleMoveToGroup(n,i)}});a.push(e);Te(e,"ungroupApp")}return a},_getGroupActions:function e(t){const n=new Ie(`id-${t.id}-renameGroup`,{title:this._i18nBundle.getText("renameGroup"),press:this._onRenameGroup.bind(this)});Te(n,"renameGroup");const o=new Ie(`id-${t.id}-selectColor`,{title:this._i18nBundle.getText("selectColor"),type:ce.Navigation,press:this._openColorPopover.bind(this)});Te(o,"changeColor");const i=new Ie(`id-${t.id}-removeAllApps`,{title:this._i18nBundle.getText("removeAllApps"),press:this._handleUngroupApps.bind(this,t)});Te(i,"removeAllApps");const s=[n,o,i];if(!t.isPresetSection){const e=new Ie(`id-${t.id}-delete`,{title:this._i18nBundle.getText("delete"),press:this._onDeleteGroup.bind(this)});Te(e,"deleteGroup");s.push(e)}return s},_createActionButtons:function e(){try{const e=this;if(!e._actionButtons){e._actionButtons=[];if(be()){const t=new o(`${e.getId()}-addAppsBtn`,{icon:"sap-icon://action",tooltip:e._i18nBundle.getText("addAppsTooltip"),text:e._i18nBundle.getText("addApps"),press:()=>{void e.navigateToAppFinder()}});Te(t,"addAppsBtn");e._actionButtons.push(t)}}e._actionButtons.forEach(t=>{e.addAggregation("actionButtons",t)});return Promise.resolve(e._validateAppsMigration()).then(function(t){if(t){e._createImportButton()}})}catch(e){return Promise.reject(e)}},_createImportButton:function e(){if(!this._importButton){this._importButton=new o(`${this.getId()}-importAppsBtn`,{tooltip:this._i18nBundle.getText("importAppsNow"),text:this._i18nBundle.getText("importAppsNow"),press:this._openImportAppsDialog.bind(this)});Te(this._importButton,"importAppsDialog");this._actionButtons.push(this._importButton);this.insertAggregation("actionButtons",this._importButton,0)}return this._importButton},setImportButtonVisibility:function e(t){try{const e=this;return Promise.resolve(L.setImportEnabled(t)).then(function(){e._createImportButton().setVisible(t)})}catch(e){return Promise.reject(e)}},_createHeaderMenuItems:function e(){if(!this._menuItems){this._createGroupMenuItem=new Ie(`${this.getId()}-${ze.CREATE_GROUP}`,{title:this._i18nBundle.getText("createGroup"),icon:"sap-icon://add",press:()=>this._openCreateGroupDialog()});this._menuItems=[this._createGroupMenuItem];if(be()){this._menuItems.push(new Ie(`${this.getId()}-${ze.ADD_APPS}`,{title:this._i18nBundle.getText("addApps"),icon:"sap-icon://action",press:()=>{void this.navigateToAppFinder()}}))}Te(this._createGroupMenuItem,"createGroupDialog");const e=this._menuItems.find(e=>e.getId()===`${this.getId()}-${ze.ADD_APPS}`);if(e){Te(e,"appsAppFinder")}this._menuItems.forEach(e=>{this.addAggregation("menuItems",e,true)});this._sortMenuItems(Fe)}},_getDragDropInfo:function e(t,n){try{const e=this;const o=t.getParameter?.("draggedControl"),i=t.getParameter?.("droppedControl"),s=t.getParameter?.("dropPosition"),r=o.getParent(),a=r.indexOfItem(o),l=r.indexOfItem(i),c=e._getTileItem(o,n),p=e._getTileItem(i,n);const u={dragItem:c,dropItem:p,dropPosition:s,dropControl:r,dragItemIndex:a,dropItemIndex:l};const d=function(){if(a!==l){const t=function(){if(!(c instanceof _e)&&!(p instanceof _e)){return Promise.resolve(e._adjustAppDragDropInfo(u,n)).then(function(){})}else{const t=function(){if(c instanceof _e){return Promise.resolve(e._adjustGroupDragDropInfo(u)).then(function(){})}}();if(t&&t.then)return t.then(function(){})}}();if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(d&&d.then?d.then(function(){return u}):u)}catch(e){return Promise.reject(e)}},_adjustAppDragDropInfo:function e(t,n){try{const e=this;let o=false;const i=t.dragItem;const s=t.dropItem;return Promise.resolve(Promise.all([e.appManagerInstance.getVisualization(i.getUrl(),n),e.appManagerInstance.getVisualization(s.getUrl(),n)])).then(function([i,s]){if(t.dropPosition===ge.RelativeDropPosition.Before){if(t.dragItemIndex===t.dropItemIndex-1){t.dropItemIndex--}if(t.dragItemIndex<t.dropItemIndex&&i?.persConfig?.sectionIndex===s?.persConfig?.sectionIndex){t.dropItemIndex--;o=true}}else if(t.dropPosition===ge.RelativeDropPosition.After){if(t.dragItemIndex===t.dropItemIndex+1){t.dropItemIndex++}if(t.dragItemIndex>t.dropItemIndex&&i?.persConfig?.sectionIndex===s?.persConfig?.sectionIndex){t.dropItemIndex++;o=true}}if(o){const o=t.dropControl.getItems()[t.dropItemIndex];const i=e._getTileItem(o,n);if(i){t.dropItem=i}}})}catch(e){return Promise.reject(e)}},_getTileItem:function e(t,n){const o=t.data("groupId");if(o){return this._getGroup(o)}else{const e=n?this._getGroup(n):null;const o=e?e.getApps():this.getApps();return o.find(e=>Be(e.getUrl())===t.getUrl())}},_adjustGroupDragDropInfo:function e(t){try{const e=this;return Promise.resolve(e.appManagerInstance._getSections()).then(function(n){let o;t.dragItemIndex=n.findIndex(e=>e.id===t.dragItem.getGroupId());if(!(t.dropItem instanceof _e)){const n=e.getAggregation("groups").length;t.dropItemIndex=t.dropPosition===ge.RelativeDropPosition.Before&&t.dropItemIndex===n&&t.dragItemIndex!==n?n+1:t.dragItemIndex}else{o=n.findIndex(e=>e.id===t.dropItem.getGroupId());t.dropItemIndex=o}if(t.dropPosition===ge.RelativeDropPosition.Before&&t.dragItemIndex===t.dropItemIndex-1){t.dropItemIndex--}else if(t.dropPosition===ge.RelativeDropPosition.After&&(t.dragItemIndex!==t.dropItemIndex||o&&t.dropItemIndex>=o)){t.dropItemIndex++}})}catch(e){return Promise.reject(e)}},_onFavItemDrop:function e(t,n){try{const e=this;const o=t.getParameter?.("draggedControl");return Promise.resolve(e._getDragDropInfo(t,n)).then(function(t){function i(){o.removeStyleClass("sapMGTPressActive")}const{dragItemIndex:s,dropItemIndex:r,dropPosition:a,dragItem:l,dropItem:c}=t;if(s===r)return;const p=function(){if(a===ge.RelativeDropPosition.On){return Promise.resolve(e._handleOnItemDrop(l,c)).then(function(){void e.refresh()})}else{const o=function(){if(a===ge.RelativeDropPosition.After||a===ge.RelativeDropPosition.Before){e._setBusy(true);return Promise.resolve(e._handleItemsReorder(t,n)).then(function(){return Promise.resolve(e.refresh()).then(function(){if(n){void e._setGroupDetailDialogApps(n)}e._setBusy(false)})})}}();if(o&&o.then)return o.then(function(){})}}();return p&&p.then?p.then(i):i(p)})}catch(e){return Promise.reject(e)}},_handleOnItemDrop:function e(t,n){try{const e=this;if(t instanceof _e)return Promise.resolve();const o=function(){if(!(n instanceof _e)){const o=t;const i=n;e._selectedApps=[o,i];e._openCreateGroupDialog(true)}else{const o=n.getGroupId();e._setBusy(true);return Promise.resolve(e._handleMoveToGroup(t,undefined,o)).then(function(){e._setBusy(false)})}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_handleItemsReorder:function e(t,n){try{const e=this;const{dragItem:o,dropItem:i,dragItemIndex:s,dropItemIndex:r}=t;const a=o.getMetadata()?.getName()==="sap.cux.home.Group";const l=i.getMetadata()?.getName()==="sap.cux.home.Group";const c=function(){if(!a&&!l){const t=o;const s=i;return Promise.resolve(Promise.all([e.appManagerInstance.getVisualization(t.getUrl(),n),e.appManagerInstance.getVisualization(s.getUrl(),n)])).then(function([t,n]){return Promise.resolve(e.appManagerInstance.moveVisualization({sourceSectionIndex:t?.persConfig?.sectionIndex,sourceVisualizationIndex:t?.persConfig?.visualizationIndex,targetSectionIndex:n?.persConfig?.sectionIndex,targetVisualizationIndex:n?.persConfig?.visualizationIndex})).then(function(){})})}else{const t=function(){if(a&&l){return Promise.resolve(e.appManagerInstance.moveSection(s,r)).then(function(){})}}();if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},navigateToAppFinder:function e(t){try{return Promise.resolve(j.getServiceAsync("Navigation")).then(function(e){const n={pageID:Ge};if(t){n.sectionID=t}return Promise.resolve(e.navigate({target:{shellHash:`Shell-appfinder?&/catalog/${JSON.stringify(n)}`}})).then(function(){})})}catch(e){return Promise.reject(e)}},_validateAppsMigration:function t(){try{return Promise.resolve(pe(function(){return Promise.resolve(L.isImportEnabled())},function(t){e.warning(t instanceof Error?t.message:"Error while checking if import apps is enabled");return false}))}catch(e){return Promise.reject(e)}},_openImportAppsDialog:function e(){const t=new H;t.onImportDialogPress()},_openCreateGroupDialog:function e(t=false){const n=this._generateCreateGroupDialog(t);const o=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`);o.destroyItems();const i=[...this.getApps()].map(e=>{const t=e.clone();t._onPress=e=>this._highlightApp(e,t);return this.getParent()._getAppTile(t)});this._setAggregation(o,i);let s=this.getApps();this.getParent().fireEvent("appsLoaded",{apps:s,tiles:i});this._updateSelectedAppCount();n.open()},_closeCreateGroupDialog:function e(){const t=this._generateCreateGroupDialog();t?.close();this._resetCreateGroupDialog()},_resetCreateGroupDialog:function e(){const t=this._generateCreateGroupNavContainer();const n=this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`);const o=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-search`);n.setValue("");t.to(t.getInitialPage());this._selectedApps=[];o.setValue("");this._setNoAppsSelectedError(false);this._selectedGroupColor=undefined},_generateCreateGroupDialog:function e(t=true){const n=`${this.getId()}-createGroupDialog`;const i=this._generateCreateGroupNavContainer();const s=e=>{const t=this._controlMap.get(`${n}-nextBtn`);const o=this._controlMap.get(`${n}-backBtn`);const s=this._controlMap.get(`${n}-createBtn`);const r=i.indexOfPage(i.getCurrentPage());t.setVisible(r!==i.getPages().length-1&&!e);o.setVisible(r!==0&&!e);s.setVisible(r===i.getPages().length-1||e)};if(!this._controlMap.get(n)){this._controlMap.set(`${n}-nextBtn`,new o({id:`${n}-nextBtn`,text:this._i18nBundle.getText("nextButton"),press:()=>{if(this._validateGroupName()){i.to(this._generateCreateGroupAppsPage());s(t);this._highlightSelectedApps()}},type:"Emphasized"}));const e=this._controlMap.get(`${n}-nextBtn`);Se(e,"press","createGroupNextBtn");this._controlMap.set(`${n}-backBtn`,new o({id:`${n}-backBtn`,text:this._i18nBundle.getText("backButton"),press:()=>{i.back();s(t)}}));const r=this._controlMap.get(`${n}-backBtn`);Se(r,"press","createGroupBackBtn");this._controlMap.set(`${n}-createBtn`,new o({id:`${n}-createBtn`,text:this._i18nBundle.getText("createButton"),press:()=>{void this._onPressGroupCreate()},type:"Emphasized"}));const l=this._controlMap.get(`${n}-createBtn`);Se(l,"press","addCreateGroup");this._controlMap.set(n,new a(n,{title:this._i18nBundle.getText("createGroup"),content:i,escapeHandler:this._closeCreateGroupDialog.bind(this),contentHeight:"25rem",contentWidth:"41.75rem",buttons:[e,r,l,new o({id:`${n}-cancelBtn`,text:this._i18nBundle.getText("cancelBtn"),press:this._closeCreateGroupDialog.bind(this)})]}).addStyleClass("sapCuxCreateGroupDialog sapContrastPlus"))}s(t);return this._controlMap.get(n)},_highlightApp:function e(t,n){const o=t.getSource(),i=!o.hasStyleClass("sapCuxHighlightApp"),s=this._generateAppsScrollContainer();this._selectedApps=this._selectedApps||[];if(i){this._selectedApps.push(n)}else{this._selectedApps.splice(this._selectedApps.findIndex(e=>n.getUrl()===e.getUrl()),1)}this._updateSelectedAppCount();o.toggleStyleClass("sapCuxHighlightApp",i);this._setNoAppsSelectedError(this._selectedApps.length<1);s.setHeight(this._selectedApps.length<1?"15.3rem":"17.5rem")},_generateAppsScrollContainer:function e(){const o=`${this.getId()}-createGroupDialog-appsPage-scrollContainer`;if(!this._controlMap.get(o)){this._controlMap.set(`${o}-apps`,new t({id:`${o}-apps`,layout:new n(`${o}--appsContainerSettings`,{columnSize:"19rem",gap:"0.5rem"})}).addStyleClass("sapCuxAppsGridContainerPadding"));this._controlMap.set(o,new C(o,{id:o,vertical:true,visible:true,height:"17.5rem",content:[this._controlMap.get(`${o}-apps`)]}).addStyleClass("sapUiSmallMarginBeginEnd"))}return this._controlMap.get(o)},_updateSelectedAppCount:function e(){const t=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-headerContainer-count`);t.setText(this._i18nBundle.getText("selectedAppsCount",[this._selectedApps?.length||this._i18nBundle.getText("noAppSelected")]))},_generateCreateGroupNavContainer:function e(){const t=`${this.getId()}-createGroupDialog-wrapper`;if(!this._controlMap.get(t)){this._controlMap.set(t,new I(t,{initialPage:`${this.getId()}-createGroupDialog-mainPage`,pages:[this._generateCreateGroupMainPage(),this._generateCreateGroupAppsPage()]}))}return this._controlMap.get(t)},_generateCreateGroupMainPage:function e(){const t=`${this.getId()}-createGroupDialog-mainPage`;if(!this._controlMap.get(t)){this._controlMap.set(`${t}-form-groupName-input`,new d({id:`${t}-form-groupName-input`,width:"13.75rem",required:true,liveChange:this._validateGroupName.bind(this)}));this._controlMap.set(t,new P({id:t,showHeader:false,enableScrolling:false,backgroundDesign:"List",content:[new T({id:`${t}-headerContainer`,items:[new B({id:`${t}-title`,text:this._i18nBundle.getText("settings")}),new G({id:`${t}-description`,text:this._i18nBundle.getText("settingsDescription")})]}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom"),new V(`${t}-form`,{layout:he.SimpleFormLayout.ResponsiveGridLayout,labelSpanS:4,labelSpanM:4,content:[new g({id:`${t}-form-groupName-label`,text:this._i18nBundle.getText("groupNameLbl")}).addStyleClass("sapUiTinyMarginTop"),this._controlMap.get(`${t}-form-groupName-input`),new g({id:`${t}-form-groupColor-label`,text:this._i18nBundle.getText("groupColorLbl")}).addStyleClass("sapUiTinyMarginTop"),new i(`${t}-form-groupColor-pallet`,{colors:Me().map(e=>e.value),colorSelect:this._onColorSelect.bind(this)}).addStyleClass("adjustSelectedColorPalette")]}).addStyleClass("sapUiMediumMarginTop")]}))}return this._controlMap.get(t)},_generateCreateGroupAppsPage:function e(){const t=`${this.getId()}-createGroupDialog-appsPage`;if(!this._controlMap.get(t)){this._controlMap.set(`${t}-search`,new M({id:`${t}-search`,liveChange:this._onCreateAppSearch.bind(this)}).addStyleClass("sapUiTinyMarginTopBottom"));this._controlMap.set(`${t}-errorMessageStrip`,new m(`${t}-errorMessageStrip`,{id:`${t}-errorMessageStrip`,type:F.Error,showIcon:true,text:this._i18nBundle.getText("selectionErrorMessage"),visible:false}));this._controlMap.set(`${t}-headerContainer-count`,new G({id:`${t}-headerContainer-count`}));this._controlMap.set(t,new P(t,{showHeader:false,backgroundDesign:"List",enableScrolling:false,content:[new T(`${t}-headerContainer`,{items:[new l(`${t}-headerContainer-titleCount`,{id:`${t}-headerContainer-titleCount`,items:[new B({id:`${t}-headerContainer-title`,text:this._i18nBundle.getText("selectedAppsTitle")}).addStyleClass("sapUiTinyMarginEnd"),this._controlMap.get(`${t}-headerContainer-count`)]}),new G({id:`${t}-description`,text:this._i18nBundle.getText("appsSelectionDescription")}).addStyleClass("sapUiTinyMarginBottom"),this._controlMap.get(`${t}-search`),this._controlMap.get(`${t}-errorMessageStrip`)]}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom"),this._generateAppsScrollContainer(),this._generateCreateGroupErrorMsg()]}))}return this._controlMap.get(t)},_generateCreateGroupErrorMsg:function e(){const t=`${this.getId()}-createGroupDialog-appsPage-noFilterApps`;if(!this._controlMap.get(t)){this._controlMap.set(t,new c({id:t,illustrationSize:p.Base,title:this._i18nBundle.getText("noSearchedAppTitle"),description:this._i18nBundle.getText("noSearchedAppDes"),visible:false}).addStyleClass("sapUiLargeMarginTop"))}return this._controlMap.get(t)},_onColorSelect:function e(t){this._selectedGroupColor=this._getLegendColor(t.getParameter("value")).key},_getLegendColor:function e(t){return Me().find(e=>e.value===t)||Ce()},_setNoAppsSelectedError:function e(t){const n=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-errorMessageStrip`);n.setVisible(t)},_validateGroupName:function e(){const t=this._controlMap.get(`${this.getId()}-createGroupDialog-mainPage-form-groupName-input`);const n=t.getValue().trim();t.setValueState(n?"None":"Error");t.setValueStateText(n?"":this._i18nBundle.getText("invalidGroupName"));return n?true:false},_highlightSelectedApps:function e(){const t=this._selectedApps||[];const n=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`);const o=n.getItems()||[];o.forEach(e=>{e.toggleStyleClass("sapCuxHighlightApp",t.some(t=>Be(t.getUrl())===e.getUrl()))})},_onCreateAppSearch:function e(t){const n=this._controlMap.get(`${this.getId()}-createGroupDialog-appsPage-scrollContainer-apps`),o=t.getSource().getValue(),i=n.getItems()||[],s=new RegExp(o,"i");i.forEach(e=>{e.setVisible(s.test(e.getHeader()))});const r=i.filter(e=>e.getVisible());const a=r.length>0;this._generateAppsScrollContainer()?.setVisible(a);this._generateCreateGroupErrorMsg()?.setVisible(!a)},_onPressGroupCreate:function t(){try{const t=this;const n=t._controlMap.get(`${t.getId()}-createGroupDialog-mainPage-form-groupName-input`);const o=function(){if(t._validateGroupName()){const o=function(){if(t._selectedApps?.length){t._setBusy(true);const o=de(function(){return pe(function(){return Promise.resolve(t._createGroup({selectedApps:t._selectedApps,groupName:n.getValue(),groupColor:t._getGroupColor()})).then(function(){return Promise.resolve(t.refresh()).then(function(){_.show(t._i18nBundle.getText("newGroupCreated"),{of:t._controlMap.get(`${t.getId()}-createGroupDialog`),offset:"0 80"});const e=t.getAggregation("groups")||[];void t._showGroupDetailDialog(e[0]?.getGroupId())})})},function(n){e.error(n);_.show(t._i18nBundle.getText("unableToCreateGroup"))})},function(e,n){t._setBusy(false);t._closeCreateGroupDialog();if(e)throw n;return n});if(o&&o.then)return o.then(function(){})}else{t._setNoAppsSelectedError(true)}}();if(o&&o.then)return o.then(function(){})}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_createGroup:function e(t){try{const e=this;const{selectedApps:n,groupName:o,groupColor:i}=t;return Promise.resolve(e.appManagerInstance.getSectionVisualizations()).then(function(t){const s=n.reduce((e,n)=>{const o=t.find(e=>e.url===n.getUrl());if(o){e.push(o)}return e},[]);const r=s[0].persConfig.sectionId;return Promise.resolve(e.appManagerInstance.addSection({sectionIndex:1,sectionProperties:{title:o||e._i18nBundle.getText("newGroup"),visible:true,visualizations:s.map(e=>e.visualization)}})).then(function(){const t=s.reduce((e,t)=>{if(t.visualization?.id){const n=(t.persConfig?.duplicateApps||[]).map(e=>e.visualization?.id);e=e.concat([t.visualization?.id],n)}return e},[]);return Promise.resolve(e.appManagerInstance.removeVisualizations({sectionId:r,vizIds:t})).then(function(){return Promise.resolve(e.appManagerInstance._getSections(true)).then(function(t){const n=t.find(e=>e.default);const o=t[n?1:0]?.id;return Promise.resolve(e._updateAppPersonalization(s.map(e=>({visualization:e,targetGroupId:o})))).then(function(){return Promise.resolve(e._updateGroupPersonalization(o,i)).then(function(){})})})})})})}catch(e){return Promise.reject(e)}},_getGroupColor:function e(){const t=Ce().key;const n=this._selectedApps[0];const o=this._selectedApps.some(e=>e.getBgColor()!==n.getBgColor());return this._selectedGroupColor||(o?t:n.getBgColor())},_openColorPopover:function e(t){const n=`${this.getId()}-colorPopover`,o=Me().map(e=>e.value);const i=t.getSource();this._currentItem=i.getParent();let r=this._controlMap.get(n);if(!r){r=new s(n,{id:n,colors:o,showDefaultColorButton:false,showMoreColorsButton:false,showRecentColorsSection:false,colorSelect:e=>{fe._closeActionsPopover();const t=e.getParameter("value");void this._handleColorSelect(this._currentItem,t)}}).addStyleClass("sapContrastPlus");r._oPopover.setPlacement(ue.HorizontalPreferredRight);this._controlMap.set(n,r)}r.openBy(t.getParameter("listItem"))},_handleColorSelect:function e(t,n){try{const o=this;function i(){o.oEventBus.publish("appsChannel","favAppColorChanged",{item:t,color:n})}const s=o._getLegendColor(n).key;t.setProperty("bgColor",s,true);const r=t instanceof _e?t.getGroupId():null;const a=!r&&t.getParent()instanceof _e;if(a){o._refreshGroupDetailDialog(t,false)}else{o._applyUngroupedTileColor(t,n);o.oEventBus.publish("appsChannel","favAppColorChanged",{item:t,color:n})}const l=function(){if(r){void o._updateGroupPersonalization(r,s);const e=o._controlMap.get(`${o.getId()}-detailDialog-toolbar-color`);e?.setColor(n)}else{const e=t;const n=a?e.getParent().getGroupId():undefined;return Promise.resolve(o.appManagerInstance.getVisualization(e.getUrl(),n)).then(function(e){if(e){void o._updateAppPersonalization([{visualization:e,color:s}])}})}}();return Promise.resolve(l&&l.then?l.then(i):i(l))}catch(c){return Promise.reject(c)}},_getAllowedMoveGroups:function e(t){let n=this.getAggregation("groups")||[];if(t){n=n.filter(e=>e.getGroupId()!==t)}return n},_setBusy:function e(t){[this._generateGroupDetailDialog(),this._generateCreateGroupDialog(),this._generateAddFromInsightsDialog()].forEach(e=>{e.setBusy(t)});me.prototype.setBusy.call(this,t)},_openMoveToGroupPopover:function e(t,n){const o=`${this.getId()}-moveToGroupPopover`,i=t?.getSource(),s=i?.getParent(),r=n?.getGroupId();let a=this._controlMap.get(`${o}-list`),l=this._controlMap.get(o);if(!l){a=new h({id:`${o}-list`,itemPress:()=>fe._closeActionsPopover()});this._controlMap.set(`${o}-list`,a);l=new A({id:o,showHeader:false,placement:ue.HorizontalPreferredRight,content:[a]}).addStyleClass("sapContrastPlus");this._controlMap.set(o,l)}a.removeAllItems();this._getAllowedMoveGroups(r).forEach((e,t)=>a.addItem(new y(xe(`${this.getId()}-moveTo-${s.getId()}-${t}`),{title:e.getTitle(),type:"Active",press:()=>{void this._handleMoveToGroup(s,r,e.getGroupId())}})));l.openBy(t.getParameter("listItem"))},_handleRemove:function t(n,o){const i=this;const s=o?.getApps()?.length===1;let r=this._i18nBundle.getText("removeAppMessage",[n.getTitle()]),a=this._i18nBundle.getText("remove"),l=this._i18nBundle.getText("remove"),c=f.Icon.QUESTION;if(s){r=this._i18nBundle.getText("removeFromMyHomeMessage",[n.getTitle()]);a=this._i18nBundle.getText("delete");l=this._i18nBundle.getText("delete");c=f.Icon.WARNING}f.show(r,{icon:c,title:a,actions:[l,f.Action.CANCEL],emphasizedAction:l,onClose:function(t){try{const r=function(){if(t===l){i._setBusy(true);const t=de(function(){return pe(function(){return Promise.resolve(i._removeApp(n,o)).then(function(){if(s){i._closeGroupDetailDialog()}else if(o){i._refreshGroupDetailDialog(n)}return Promise.resolve(i.getParent()._refreshAllPanels()).then(function(){_.show(i._i18nBundle.getText("appRemoved"))})})},function(t){e.error(t);_.show(i._i18nBundle.getText("unableToRemoveApp"))})},function(e,t){i._setBusy(false);if(e)throw t;return t});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}})},_removeApp:function e(t,n){try{const e=this;const o=n?.getApps()?.length===1,i=n?.getGroupId(),s=t.getUrl();return Promise.resolve(e.appManagerInstance.getVisualization(s,i)).then(function(t){const n=function(){if(o){return Promise.resolve(e._deleteGroup(i)).then(function(){})}else{let n=[t?.visualization?.id];if(!i){n=n.concat(t?.persConfig?.duplicateApps?.map(e=>e.visualization?.id))}const o=function(){if(t?.persConfig?.sectionId&&n.length>0){return Promise.resolve(e.appManagerInstance.removeVisualizations({sectionId:t.persConfig.sectionId,vizIds:n})).then(function(){void e._deletePersonalization({appId:s,oldAppId:t?.oldAppId,sectionId:t?.persConfig?.sectionId,isRecentlyAddedApp:t?.persConfig?.isDefaultSection})})}}();if(o&&o.then)return o.then(function(){})}}();if(n&&n.then)return n.then(function(){})})}catch(e){return Promise.reject(e)}},_handleMoveToGroup:function e(t,n,o){try{const e=this;const i=n?e._getGroup(n):undefined,s=i?.getApps()?.length===1;const r=function(){if(s){const i=e._i18nBundle.getText("moveAppMessage",[t.getTitle()]);const s=e._i18nBundle.getText("delete");f.show(i,{icon:f.Icon.WARNING,title:s,actions:[s,f.Action.CANCEL],emphasizedAction:s,onClose:i=>{if(i===s){void e._moveAppAndHandleGroupChanges(t,n,o)}}})}else{return Promise.resolve(e._moveAppAndHandleGroupChanges(t,n,o)).then(function(){})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_moveAppAndHandleGroupChanges:function t(n,o,i){try{const t=this;const s=o?t._getGroup(o):null,r=i?t._getGroup(i):null,a=r?.getTitle(),l=s?.getApps()?.length===1;const c=de(function(){return pe(function(){t._setBusy(true);return Promise.resolve(t._moveAppToGroup(n,o,i)).then(function(){function e(){const e=a?t._i18nBundle.getText("appMoved",[a]):t._i18nBundle.getText("appUngrouped");_.show(e);return Promise.resolve(t.refresh()).then(function(){})}const i=function(){if(l){return Promise.resolve(t._deleteGroup(o)).then(function(){t._closeGroupDetailDialog()})}else if(o){t._refreshGroupDetailDialog(n)}}();return i&&i.then?i.then(e):e(i)})},function(t){e.error(t)})},function(e,n){t._setBusy(false);if(e)throw n;return n});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_refreshGroupDetailDialog:function e(t,n=true){const o=this._controlMap.get(`${this.getId()}-detailDialog-apps`);const i=o.getItems();const s=t.getParent();if(!s){return}const r=s.getApps();if(n){const e=r.findIndex(e=>e.getUrl()===t.getUrl());if(e>-1){r[e].destroy(true);i[e].destroy(true)}}else{r.forEach((e,n)=>{if(e.getUrl()===t.getUrl()){e.setProperty("bgColor",t.getBgColor(),true);i[n].setBackgroundColor(t.getBgColor())}})}},_moveAppToGroup:function e(t,n,o){try{const e=this;const i=t.getUrl();return Promise.resolve(Promise.all([e.appManagerInstance.getSectionVisualizations(n),e.appManagerInstance._getSections()])).then(function([t,s]){const r=t.find(e=>e.url===i),a=r?.persConfig?.visualizationIndex??-1,l=r?.persConfig?.sectionIndex;const c=!o;const p=!n;const u=s.findIndex(e=>!o?e.default:e.id===o);const d=function(){if(r){function t(){return Promise.resolve(e.appManagerInstance._getSections(true)).then(function(t){const n=t.find(e=>e.default);return Promise.resolve(e._updateAppPersonalization([{visualization:r,targetGroupId:o??n?.id,isTargetGroupDefault:c}])).then(function(){})})}const n=function(){if(c){return Promise.resolve(e._moveAppToDefaultGroup(r)).then(function(){})}else{function t(){return Promise.resolve(e.appManagerInstance.moveVisualization({sourceSectionIndex:l,sourceVisualizationIndex:a,targetSectionIndex:u,targetVisualizationIndex:-1})).then(function(){})}const n=function(){if(p){return Promise.resolve(e._removeDuplicateVisualizations(r)).then(function(){})}}();return n&&n.then?n.then(t):t(n)}}();return n&&n.then?n.then(t):t(n)}}();if(d&&d.then)return d.then(function(){})})}catch(e){return Promise.reject(e)}},_moveAppToDefaultGroup:function e(t){try{const e=this;return Promise.resolve(e._addVisualization(t)).then(function(){const n=function(){if(t.persConfig?.sectionId&&t.visualization?.id){return Promise.resolve(e.appManagerInstance.removeVisualizations({sectionId:t.persConfig?.sectionId,vizIds:[t.visualization?.id]})).then(function(){})}}();if(n&&n.then)return n.then(function(){})})}catch(e){return Promise.reject(e)}},_removeDuplicateVisualizations:function e(t){try{const e=this;const n=t?.persConfig?.duplicateApps?.map(e=>e.visualization?.id)||[];const o=function(){if(t.persConfig?.sectionId&&n.length>0){return Promise.resolve(e.appManagerInstance.removeVisualizations({sectionId:t.persConfig?.sectionId,vizIds:n})).then(function(){})}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_onRenameGroup:function e(t){const n=t.getSource()?.getParent();void this._showGroupDetailDialog(n.getGroupId(),true)},_handleUngroupApps:function e(t){const n=this._i18nBundle.getText("ungroupAppsMessage",[t.title]),o=this._i18nBundle.getText("delete"),i=this._i18nBundle.getText("delete");f.show(n,{icon:f.Icon.WARNING,title:o,actions:[i,f.Action.CANCEL],emphasizedAction:i,onClose:e=>{if(e===i){void this._ungroupApps(t.id)}}})},_onDeleteGroup:function e(t){const n=this;const o=t.getSource()?.getParent(),i=this._i18nBundle.getText("deleteGroupMessage",[o.getTitle()]),s=this._i18nBundle.getText("delete"),r=this._i18nBundle.getText("delete"),a=this._i18nBundle.getText("moveApps");f.show(i,{icon:f.Icon.WARNING,title:s,actions:[r,this._i18nBundle.getText("moveApps"),f.Action.CANCEL],emphasizedAction:r,onClose:function(e){try{const t=function(){if(e===r){n._setBusy(true);return Promise.resolve(n._deleteGroup(o.getGroupId())).then(function(){_.show(n._i18nBundle.getText("groupDeleted"));void n.refresh();n._closeGroupDetailDialog();n._setBusy(false)})}else if(e===a){void n._ungroupApps(o.getGroupId())}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}})},_ungroupApps:function t(n){try{const t=this;t._setBusy(true);const o=de(function(){return pe(function(){return Promise.resolve(t.appManagerInstance.getSectionVisualizations(n)).then(function(e){return Promise.resolve(t.appManagerInstance._getSections()).then(function(o){const i=o.find(e=>e.id===n);return Promise.resolve(Promise.all(e.map(e=>t._addVisualization(e)))).then(function(){return Promise.resolve(t.appManagerInstance._getSections(true)).then(function(o){const s=o.find(e=>e.default);return Promise.resolve(t._updateAppPersonalization(e.map(e=>({visualization:e,targetGroupId:s?.id,isTargetGroupDefault:true})))).then(function(){function o(){_.show(t._i18nBundle.getText("appsUngrouped")??"");return Promise.resolve(t.refresh()).then(function(){})}const s=function(){if(i?.preset){return Promise.resolve(t.appManagerInstance.removeVisualizations({sectionId:n,vizIds:e.map(e=>e.visualization?.id)})).then(function(){})}else{return Promise.resolve(t._deleteGroup(n)).then(function(){})}}();return s&&s.then?s.then(o):o(s)})})})})})},function(n){e.error(n);_.show(t._i18nBundle.getText("unableToUngroupApps")??"")})},function(e,n){t._setBusy(false);t._closeGroupDetailDialog();if(e)throw n;return n});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_showGroupDetailDialog:function e(t,n=false){try{const e=this;const o=e._getGroup(t);if(!o){return Promise.resolve()}e._selectedGroupId=t;const i=e._generateGroupDetailDialog();const s=e._controlMap.get(`${e.getId()}-detailDialog-toolbar-color`);s.setColor(N.get({name:o.getBgColor()}));return Promise.resolve(e._setGroupDetailDialogApps(t)).then(function(){i.open();e._setGroupNameControl(o.getTitle(),n)})}catch(e){return Promise.reject(e)}},_setGroupDetailDialogApps:function e(t){try{const e=this;const n=e._getGroup(t);const o=function(){if(n){return Promise.resolve(e.appManagerInstance.getSectionVisualizations(t,false)).then(function(o){n.destroyAggregation("apps",true);o=o.map((t,o)=>({...t,menuItems:e._getAppActions(n,o,t)}));const i=e.generateApps(o);const s=e._controlMap.get(`${e.getId()}-detailDialog-apps`);e._setAggregation(n,i,"apps");s.destroyItems();e._setAggregation(s,n.getApps().map(t=>e.getParent()._getAppTile(t)));e._applyGroupedAppsPersonalization(t);e._dispatchAppsLoadedEvent(i)})}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_applyGroupedAppsPersonalization:function e(t){const n=this._controlMap.get(`${this.getId()}-detailDialog-apps`);const o=n?.getItems()||[];void this._applyTilesPersonalization(o,t)},_dispatchAppsLoadedEvent:function e(t){const n=this._controlMap.get(`${this.getId()}-detailDialog-apps`);const o=n?.getItems()||[];this.getParent().fireEvent("appsLoaded",{apps:t,tiles:o})},_generateGroupDetailDialog:function e(){const i=`${this.getId()}-detailDialog`;if(!this._controlMap.get(i)){this._controlMap.set(`${i}-toolbar-color`,new w({id:`${i}-toolbar-color`,src:"sap-icon://color-fill",size:"1.25rem"}).addStyleClass("sapUiTinyMarginEnd"));this._controlMap.set(`${i}-toolbar-title`,new B({id:`${i}-toolbar-title`,visible:true}));const e=Ae(`${i}-toolbar-renameTitle`,this._i18nBundle.getText("renameGroup"));this._controlMap.set(`${i}-toolbar-renameTitle`,e);const s=new d({id:`${i}-toolbar-title-edit`,width:"13.75rem",visible:false,ariaLabelledBy:[`${i}-toolbar-renameTitle`]});this._controlMap.set(`${i}-toolbar-title-edit`,s);s.onsapfocusleave=()=>{void this._onGroupEditName(s.getValue())};const r=new t({id:`${i}-apps`,layout:new n(`${i}-appsLayout`,{columnSize:"19rem",gap:"0.5rem"})}).addStyleClass("sapCuxAppsContainerBorder sapCuxAppsDetailContainerPadding");this.addDragDropConfigTo(r,e=>this._onFavItemDrop(e,this._selectedGroupId));this._controlMap.set(`${i}-apps`,r);this._controlMap.set(`${i}-addAppsBtn`,new o(`${i}-addAppsBtn`,{text:this._i18nBundle.getText("addApps"),icon:"sap-icon://action",visible:be(),press:()=>{const e=this._selectedGroupId;this._closeGroupDetailDialog();this._selectedGroupId=e;void this.navigateToAppFinder(e)}}));this._controlMap.set(i,new a(i,{content:this._controlMap.get(`${i}-apps`),contentWidth:"60.75rem",endButton:new o({id:`${i}-groupDetailCloseBtn`,text:this._i18nBundle.getText("XBUT_CLOSE"),press:this._closeGroupDetailDialog.bind(this)}),escapeHandler:this._closeGroupDetailDialog.bind(this),customHeader:new x(`${this.getId()}-toolbar`,{content:[this._controlMap.get(`${i}-toolbar-color`),this._controlMap.get(`${i}-toolbar-title`),this._controlMap.get(`${i}-toolbar-title-edit`),this._controlMap.get(`${i}-toolbar-renameTitle`),new D({id:`${this.getId()}-toolbarSpacer`}),this._controlMap.get(`${i}-addAppsBtn`),new o({id:"overflowBtn",icon:"sap-icon://overflow",type:"Transparent",press:e=>{const t=e.getSource();const n=this._selectedGroupId?this._getGroup(this._selectedGroupId):null;const o=n?.getAggregation("menuItems");const i=fe.get(o);i.openBy(t)}})]})}).addStyleClass("sapCuxGroupDetailDialog"))}return this._controlMap.get(i)},_closeGroupDetailDialog:function e(){const t=this._controlMap.get(`${this.getId()}-detailDialog`);const n=this._getGroup(this._selectedGroupId);n?.destroyApps();this._selectedGroupId=undefined;t?.close()},_onGroupEditName:function e(t){try{const n=this;function o(){n._setGroupNameControl(t,false);n._setBusy(false)}n._setBusy(true);const i=n._selectedGroupId,s=n._getGroup(i),r=s?.getTitle();const a=function(){if(t&&t!==r){return Promise.resolve(n._renameGroup(i,t)).then(function(){s?.setProperty("title",t,true);void n.refresh();_.show(n._i18nBundle.getText("groupNameChanged")||"")})}}();return Promise.resolve(a&&a.then?a.then(o):o(a))}catch(l){return Promise.reject(l)}},_renameGroup:function e(t,n){try{return Promise.resolve(j.getServiceAsync("Pages")).then(function(e){const o=e.getPageIndex(Ge),i=e.getModel().getProperty(`/pages/${o}/sections/`),s=i.findIndex(e=>e.id===t);const r=function(){if(s>-1){return Promise.resolve(e.renameSection(o,s,n)).then(function(){})}}();if(r&&r.then)return r.then(function(){})})}catch(e){return Promise.reject(e)}},_setGroupNameControl:function e(t,n){const o=this._controlMap.get(`${this.getId()}-detailDialog`);const i=this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title`);const s=this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title-edit`);s.setValue(t);i.setText(t);s?.setVisible(n);i?.setVisible(!n);if(n){o.setInitialFocus(s)}},_generateAddFromInsightsDialog:function e(){const t=`${this.getId()}-addFromInsightsDialog`;const n=()=>{const e=this._getSelectedInsights();this._controlMap.get(`${t}-addBtn`).setEnabled(e.length>0)};if(!this._controlMap.get(t)){const e=(e,t)=>{const n=new o(e,{icon:"sap-icon://action",text:this._i18nBundle.getText("appFinderBtn"),press:()=>{this._closeAddFromInsightsDialog();void this.navigateToAppFinder()},visible:be(),type:t||ae.Default});Se(n,"press","appsAppFinder");return n};this._controlMap.set(`${t}-list`,new h({id:`${t}-list`,mode:"MultiSelect",selectionChange:n}));this._controlMap.set(`${t}-addBtn`,new o({id:`${t}-addBtn`,text:this._i18nBundle.getText("addFromInsightsDialogBtn"),type:"Emphasized",press:()=>{void this._addFromInsights()},enabled:false}));const i=this._controlMap.get(`${t}-addBtn`);Se(i,"press","addStaticTiles");this._controlMap.set(`${t}-errorMessage`,new c({id:`${t}-errorMessage`,illustrationSize:p.Base,title:this._i18nBundle.getText("noAppsTitle"),description:this._i18nBundle.getText("noDataMsgInsightTiles"),visible:true}).addStyleClass("sapUiLargeMarginTop"));this._controlMap.set(t,new a(t,{title:this._i18nBundle.getText("addFromInsights"),content:[new g({id:`${t}-label`,text:this._i18nBundle.getText("addFromInsightsDialogLabel"),wrapping:true}).addStyleClass("sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd"),new l({id:`${t}-textContainer`,justifyContent:"SpaceBetween",alignItems:"Center",items:[new B({id:`${t}-text`,text:this._i18nBundle.getText("addFromInsightsDialogTitle")}),e(`${t}-addAppsBtn`,ae.Transparent)]}).addStyleClass("sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd"),this._controlMap.get(`${t}-list`),this._controlMap.get(`${t}-errorMessage`)],contentWidth:"42.75rem",contentHeight:"32.5rem",endButton:new o({id:`${t}-addFromInsightsCloseBtn`,text:this._i18nBundle.getText("XBUT_CLOSE"),press:this._closeAddFromInsightsDialog.bind(this)}),escapeHandler:this._closeAddFromInsightsDialog.bind(this),buttons:[this._controlMap.get(`${t}-addBtn`),new o({id:`${t}-cancelBtn`,text:this._i18nBundle.getText("cancelBtn"),press:this._closeAddFromInsightsDialog.bind(this)})]}).addStyleClass("sapContrastPlus sapCuxAddFromInsightsDialog"))}n();return this._controlMap.get(t)},_handleAddFromInsights:function e(){try{const e=this;return Promise.resolve(e._getInsightTilesToAdd()).then(function(t){const n=e._generateAddFromInsightsDialog();e._controlMap.get(`${e.getId()}-addFromInsightsDialog-errorMessage`)?.setVisible(t.length===0);e._generateInsightListItems(t);n.open()})}catch(e){return Promise.reject(e)}},_generateInsightListItems:function e(t){const n=this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`);if(t.length){n.destroyItems();const e=t.map((e,t)=>{const n=typeof e.BGColor==="object"&&"key"in e.BGColor?e.BGColor.key:e.BGColor;return new r({id:`${this.getId()}-addFromInsightsDialog-listItem-${t}`,content:[new l({id:`${this.getId()}-addFromInsightsDialog-listItem-${t}-content`,alignItems:"Center",items:[new w({id:`${this.getId()}-addFromInsightsDialog-listItem-${t}-content-icon`,src:e.icon,backgroundColor:this._getLegendColor(n||"").value,color:"white",width:"2.25rem",height:"2.25rem",size:"1.25rem"}).addStyleClass("sapUiRoundedBorder sapUiTinyMargin"),new v({id:`${this.getId()}-addFromInsightsDialog-listItem-${t}-content-identifier`,title:e.title,text:e.subtitle,tooltip:e.title}).addStyleClass("sapUiTinyMargin")]})]}).addStyleClass("sapUiContentPadding").data("vizId",e.visualization?.vizId)});this._setAggregation(n,e)}n?.setVisible(t.length!==0)},_getInsightTilesToAdd:function e(){try{const e=this;return Promise.resolve(Promise.all([e.appManagerInstance.fetchInsightApps(true,e._i18nBundle.getText("insights")),e.appManagerInstance.fetchFavVizs(false,true)])).then(function([t,n]){const o=t.reduce((e,t)=>{if(!t.isCount&&!t.isSmartBusinessTile){const o=n.findIndex(e=>e.visualization?.vizId===t.visualization?.vizId||e.appId===t.appId);if(o===-1){e.push(t)}}return e},[]);return e.appManagerInstance._filterDuplicateVizs(o,false)})}catch(e){return Promise.reject(e)}},_closeAddFromInsightsDialog:function e(){const t=this._generateAddFromInsightsDialog();const n=this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`);n.removeSelections();t?.close()},_getSelectedInsights:function e(){const t=this._controlMap.get(`${this.getId()}-addFromInsightsDialog-list`);return t.getSelectedItems()||[]},_addFromInsights:function e(){try{const t=this;function n(){t._closeAddFromInsightsDialog();_.show(t._i18nBundle.getText(o.length===1?"addFromInsightTileSuccess":"addFromInsightTilesSuccess",[o.length]));return Promise.resolve(t.getParent()._refreshAllPanels()).then(function(){t._setBusy(false)})}t._setBusy(true);const o=t._getSelectedInsights();const i=le(o,function(e){return Promise.resolve(t.appManagerInstance.addVisualization(e.data("vizId"))).then(function(){})});return Promise.resolve(i&&i.then?i.then(n):n(i))}catch(s){return Promise.reject(s)}},_updateAppPersonalization:function e(t){try{const e=this;return Promise.resolve(e._getAppPersonalization()).then(function(n){for(const o of t){const{visualization:t}=o;const{persConfig:i}=t;const s=i?.sectionId;const r=o.targetGroupId??s;if(s!==r){e._updateMoveAppPersonalization(n,o)}else{e._updateAppColorPersonalization(n,o)}}return Promise.resolve(e.setFavAppsPersonalization(n)).then(function(){})})}catch(e){return Promise.reject(e)}},_updateMoveAppPersonalization:function e(t,n){const{visualization:o,isTargetGroupDefault:i}=n;const{appId:s,oldAppId:r,persConfig:a}=o;const l=a?.sectionId;const c=a?.isDefaultSection;const p=a?.duplicateApps||[];const u=n.targetGroupId??l;const d=this._getPersonalizationIndex(t,{appId:s,oldAppId:r,sectionId:l,isRecentlyAddedApp:c});if(d>-1){const e={...t[d],sectionId:u,isRecentlyAddedApp:i,isSection:false};if(p.length===0){t.splice(d,1)}const n=this._getPersonalizationIndex(t,{appId:s,oldAppId:r,sectionId:u,isRecentlyAddedApp:i});if(n>-1){t.splice(n,1)}t.push(e)}},_updateGroupPersonalization:function e(t,n){try{const e=this;return Promise.resolve(e._getAppPersonalization()).then(function(o){const i=e._getPersonalizationIndex(o,{isSection:true,sectionId:t});const s={BGColor:n,isSection:true,sectionId:t,isRecentlyAddedApp:false};if(i>-1){o[i]=s}else{o.push(s)}return Promise.resolve(e.setFavAppsPersonalization(o)).then(function(){})})}catch(e){return Promise.reject(e)}},_getPersonalizationIndex:function e(t,n){const{appId:o,oldAppId:i,sectionId:s,isSection:r,isRecentlyAddedApp:a}=n;return t.findIndex(e=>{if(r){return e.sectionId===s&&e.isSection}else{return a?(e.appId===o||e.appId===i)&&e.isRecentlyAddedApp:(e.appId===o||e.appId===i)&&e.sectionId===s}})},_addVisualization:function e(t,n,o){if(t.visualization){return t.visualization.isBookmark?this.appManagerInstance.addBookMark(t.visualization,o):this.appManagerInstance.addVisualization(t.visualization.vizId,n)}return Promise.reject(new Error("No visualization provided to add"))},_deleteGroup:function e(t){try{const e=this;return Promise.resolve(j.getServiceAsync("Pages")).then(function(n){const o=n.getPageIndex(Ge),i=n.getModel().getProperty(`/pages/${o}/sections/`),s=i.findIndex(e=>e.id===t);const r=function(){if(s>-1){return Promise.resolve(n.deleteSection(o,s)).then(function(){void e._deletePersonalization({sectionId:t,isSection:true})})}}();if(r&&r.then)return r.then(function(){})})}catch(e){return Promise.reject(e)}},_deletePersonalization:function e(t){try{const e=this;const{isSection:n,sectionId:o}=t;return Promise.resolve(e._getAppPersonalization()).then(function(i){if(!n){const n=e._getPersonalizationIndex(i,t);if(n>-1){i.splice(n,1)}}else{i=i.filter(e=>e.sectionId!==o)}void e.setFavAppsPersonalization(i)})}catch(e){return Promise.reject(e)}},_handleGroupPress:function e(t){const n=t.getParameter("groupId");if(n){void this._showGroupDetailDialog(n)}},_handleKeyboardMoveApp:function e(t,n){try{const e=this;const o=b.closestTo(t.target.firstElementChild);const i=o.getParent();const s=function(){if(t.metaKey||t.ctrlKey){if(t.key==="x"&&!o.data("groupId")&&!e._cutApp&&!n){o.$().css("opacity",.6);o._oMoreIcon.setEnabled(false);e._cutApp=o}const s=function(){if(t.key==="v"&&e._cutApp&&!n){const t=new $("keyboardDragDropEvent",i,{draggedControl:e._cutApp,droppedControl:o,dropPosition:ge.RelativeDropPosition.On});return Promise.resolve(e._onFavItemDrop(t)).then(function(){e._cutApp=undefined})}}();if(s&&s.then)return s.then(function(){})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_resetCutElement:function e(t){const n=this._generateAppsWrapper().getId();if(!t.target.id.includes(n)){this._cutApp?.$().css("opacity","");this._cutApp=undefined}},generateIllustratedMessage:function e(){const t=me.prototype.generateIllustratedMessage.call(this);t.setDescription(this._i18nBundle.getText("noFavAppsDescription"));t.setIllustrationSize(p.ExtraSmall);t.setIllustrationType(u.AddingColumns);t.addAdditionalContent(new o(`${this.getId()}-errorMessage-addApps`,{text:this._i18nBundle.getText("addApps"),tooltip:this._i18nBundle.getText("addAppsTooltip"),icon:"sap-icon://action",visible:be(),press:()=>{void this.navigateToAppFinder()},type:"Emphasized"}));t.addStyleClass("sapUiTinyMarginTop");return t}});Ne.favouritesMenuItems=ze;return Ne});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/FrequentAppPanel", ["sap/base/Log","sap/ui/core/EventBus","sap/ushell/Container","sap/ushell/EventHub","./BaseAppPersPanel","./MenuItem"],function(e,t,n,s,r,i){"use strict";function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function a(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const u=o(r);const c=o(i);const p=u.extend("sap.cux.home.FrequentAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"}}},constructor:function e(t,n){u.prototype.constructor.call(this,t,n);this.setSupported(false)},init:function e(){u.prototype.init.call(this);this.setProperty("key","frequentApps");this.setProperty("title",this._i18nBundle.getText("frequentlyUsedTab"));this.setProperty("tooltip",this._i18nBundle.getText("frequentlyUsedTabInfo"));this._attachUserActivityTracking();s.on("userRecentsCleared").do(()=>{void this.refresh()});this.oEventBus=t.getInstance();this.oEventBus.subscribe("appsChannel","favAppColorChanged",(e,t,n)=>{const{item:s,color:r}=n;this._applyUngroupedTileColor(s,r)},this)},loadApps:function e(){try{const e=this;return Promise.resolve(e._getFrequentVisualizations()).then(function(t){e.destroyAggregation("apps",true);t=t.map((t,n)=>({...t,menuItems:e._getActions(t.addedInFavorites,n)}));const n=e.generateApps(t);e.setApps(n)})}catch(e){return Promise.reject(e)}},_getFrequentVisualizations:function t(){try{const t=this;return Promise.resolve(a(function(){return Promise.resolve(n.getServiceAsync("UserRecents")).then(function(e){return Promise.resolve(e?.getFrequentActivity()).then(function(e){return Promise.resolve(t.convertActivitiesToVisualizations(e))})})},function(t){e.error(t);return[]}))}catch(e){return Promise.reject(e)}},_getActions:function e(t=false,n){const s=[];if(!t){s.push(new c(`${this.getKey()}--addToFavorites--${n}`,{title:this._i18nBundle.getText("addToFavorites"),icon:"sap-icon://add-favorite",press:e=>{void this._addAppToFavorites(e)}}))}return s},generateIllustratedMessage:function e(){const t=u.prototype.generateIllustratedMessage.call(this);t.setDescription(this._i18nBundle.getText("noFreqAppsDescription"));return t}});return p});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/Group", ["./BaseApp"],function(e){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const p=t(e);const r=p.extend("sap.cux.home.Group",{metadata:{library:"sap.cux.home",properties:{number:{type:"string",group:"Misc",defaultValue:""},groupId:{type:"string",group:"Misc",defaultValue:""},pageId:{type:"string",group:"Misc",defaultValue:""}},aggregations:{apps:{type:"sap.cux.home.App",multiple:true,singularName:"app"}},events:{press:{parameters:{groupId:{type:"string"},pageId:{type:"string"}}}}},constructor:function e(t,r){p.prototype.constructor.call(this,t,r)},_handlePress:function e(){this.firePress({groupId:this.getGroupId(),pageId:this.getPageId()})}});return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/IToDoPanel", [],function(){"use strict";return IToDoPanel});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/InsightsAdditionPanel", ["sap/base/Log","sap/insights/CardHelper","sap/m/Button","sap/m/library","sap/m/MessageBox","sap/m/MessageToast","sap/m/VBox","./BaseSettingsPanel","./CardsPanel","./InsightsContainer","./utils/Constants","./utils/FeatureUtils","./utils/FESRUtil"],function(t,e,n,s,r,o,i,a,d,c,u,l,h){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function g(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const p=s["BackgroundDesign"];function C(t,e){try{var n=t()}catch(t){return e(true,t)}if(n&&n.then){return n.then(e.bind(null,false),e.bind(null,true))}return e(false,n)}const P=s["ButtonType"];const m=f(a);const _=f(d);const A=f(c);const B=u["CONTENT_ADDITION_PANEL_TYPES"];const I=u["FEATURE_TOGGLES"];const S=u["FESR_IDS"];const E=l["isNavigationSupportedForFeature"];const v=h["addFESRSemanticStepName"];const y=h["FESR_EVENTS"];const D=m.extend("sap.cux.home.InsightsAdditionPanel",{init:function t(){m.prototype.init.call(this);this.setProperty("key",B.AI_INSIGHTS_CARDS);this.setProperty("title",this._i18nBundle.getText("insightsCards"));this.addCardsButton=new n(`${this.getId()}-add-cards-btn`,{text:this._i18nBundle.getText("addFromInsightsDialogBtn"),type:P.Emphasized,enabled:false,press:this.onPressAddCards.bind(this)});v(this.addCardsButton,y.PRESS,S.ADD_AI_CARD);this.addActionButton(this.addCardsButton);void this._setupContent();this.attachEvent("onDialogClose",this.resetAddCardInnerContent.bind(this))},enableAddButton:function t(e){this.addCardsButton.setEnabled(e)},_setupContent:function e(){try{const e=this;const n=g(function(){return Promise.resolve(e._fetchAddCardDialogContent()).then(function(t){if(t){const n=new i(`${e.getId()}-wrapperVBox`,{items:t,backgroundDesign:p.Solid,height:"100%"});e.addAggregation("content",n)}})},function(e){t.error(e.message)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_fetchAddCardDialogContent:function t(){try{const t=this;return Promise.resolve(e.getServiceAsync()).then(function(e){t.cardHelperInstance=e;return t.cardHelperInstance.fetchAddCardInnerContent(e=>{t._latestGeneratedManifest=e.getParameters();const n=Object.keys(t._latestGeneratedManifest).length>1;t.enableAddButton(n)})})}catch(t){return Promise.reject(t)}},getInsightsContainer:function t(){const e=this.getParent()?.getParent();return e.getContent().find(t=>t instanceof A)},isSupported:function t(){try{const e=this;function n(){if(!e.isPanelSupported){e.removeActionButton(e.addCardsButton);const t=e.getParent();t.removePanel(e);t.updateActionButtons()}return e.isPanelSupported}const s={target:{semanticObject:"IntelligentPrompt",action:"personalize"}};const r=function(){if(e.isPanelSupported===undefined){e.isPanelSupported=false;return Promise.resolve(E(I.AI_GENERATED_CARD,s)).then(function(t){e.isPanelSupported=t})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(o){return Promise.reject(o)}},_fetchCardsPanel:function t(){return this.getInsightsContainer()?.getContent().find(t=>t instanceof _)},onPressAddCards:function e(){try{const e=this;const n=e.getParent();const s=C(function(){return g(function(){n.setBusy(true);return Promise.resolve(e.cardHelperInstance._createCard(e._latestGeneratedManifest)).then(function(t){const s=t["sap.card"]?.header?.title;o.show(e._i18nBundle.getText("Card_Created",[s]));n.close();if(!t?.["sap.insights"]?.visible){r.information(e._i18nBundle.getText("INT_CARD_LIMIT_MESSAGEBOX"),{styleClass:"msgBoxAlign"})}const i=e._fetchCardsPanel();return Promise.resolve(i?.refreshData()).then(function(){})})},function(e){t.error(e.message)})},function(t,e){n.setBusy(false);if(t)throw e;return e});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},resetAddCardInnerContent:function t(){this.cardHelperInstance?.resetAddCardInnerContent();this.enableAddButton(false)}});return D});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/InsightsCardsSettingsPanel", ["sap/insights/ManageCards","./BaseSettingsPanel","./utils/Constants"],function(t,e,n){"use strict";function s(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const a=s(e);const i=n["SETTINGS_PANELS_KEYS"];const r=a.extend("sap.cux.home.InsightsCardsSettingsPanel",{constructor:function t(){a.prototype.constructor.apply(this,arguments);this.eventAttached=false},init:function t(){a.prototype.init.call(this);this.setProperty("key",i.INSIGHTS_CARDS);this.setProperty("title",this._i18nBundle.getText("insightsCards"));this.setProperty("icon","sap-icon://card");this.setProperty("showHeader",false);this.addAggregation("content",this._getContent());this.attachPanelNavigated(t=>{const e=t.getParameter("context")?.cardId;this.manageCardsInstance?.setProperty("cardId",e||"");if(!this.eventAttached){this.eventAttached=true;this.getParent()?.attachAfterClose(()=>{void this._getPanel()?.renderPanel()})}})},_getContent:function e(){if(!this.manageCardsInstance){this.manageCardsInstance=new t}return this.manageCardsInstance}});return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/InsightsContainer", ["./BaseContainer","./CardsPanel","./ErrorPanel","./SpaceInsightsPanel","./TilesPanel","./utils/Device","./utils/InsightsUtils","./utils/placeholder/InsightsPlaceholder"],function(t,e,n,i,s,o,a,d){"use strict";function l(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const h=l(t);const r=l(e);const c=e["cardsContainerActionButtons"];const u=e["cardsContainerMenuItems"];const g=l(n);const f=l(i);const p=l(s);const m=s["tilesContainerActionButtons"];const _=s["tilesContainerMenuItems"];const C=o["DeviceType"];const P=a["sortMenuItems"];const E=d["getInsightsPlaceholder"];const I="sap.cux.home.TilesPanel";const H="sap.cux.home.CardsPanel";const L="sap.cux.home.SpaceInsightsPanel";const A=[_.REFRESH,u.REFRESH,_.ADD_APPS,_.EDIT_TILES,u.EDIT_CARDS,u.AI_INSIGHT_CARD,_.SHOW_MORE,u.SHOW_MORE,"settings"];const S=h.extend("sap.cux.home.InsightsContainer",{renderer:{...h.renderer,apiVersion:2},constructor:function t(e,n){h.prototype.constructor.call(this,e,n);this._isInitialRender=true},init:function t(){h.prototype.init.call(this);this.setProperty("title",this._i18nBundle?.getText("insights"));this.setProperty("enableSettings",true);this.setProperty("orientation","Vertical");this.panelLoaded={[I]:{loaded:undefined,count:0},[H]:{loaded:undefined,count:0},[L]:{loaded:undefined,count:0}};this.panelContext={};this.setTooltip(String(this._i18nBundle.getText("insights")));this.addCustomSetting("title",this._i18nBundle.getText("insightLayoutSectionTitle"));this.setTooltip(String(this._i18nBundle.getText("insightLayoutSectionTitle")))},load:function t(){if(this._isInitialRender){const t=this.getContent();t.forEach(t=>{this.panelContext[t.getMetadata().getName()]=t;this.addCommonMenuItems(t.getContainerMenuItems?.());this.addCommonActionButtons(t.getContainerActionButtons?.())});this._addContainerHeader();t.forEach(t=>{const e=t;e.handleHideHeader();e.attachHandleHidePanel(()=>this.handleHidePanel(e));e.attachHandleUnhidePanel(()=>this.unhidePanelIfHidden(e));void e.renderPanel()});this._isInitialRender=false}},handleHidePanel:function t(e){this.removeContent(e);const n=e.getMetadata().getName();this.handlePanelLoad(n,{loaded:false,count:0});const i=this._getLoadedPanelNames()||[];const s=this.getVisibleOrPendingPanels()||[];const o=i?.length;this._addContainerHeader();if(s.length===0||s.length===1&&s[0]===L){if(!this._errorPanel){this._errorPanel=new g(`${this.getId()}-errorPanel`,{messageTitle:this._i18nBundle.getText("noAppsTitle"),messageDescription:this._i18nBundle.getText("noInsightsMsg")});this._errorPanel.getData()}this.addAggregation("content",this._errorPanel)}else if(o===1){const t=this.getContent()[0];if(t&&!(t instanceof g)){t?.handleHideHeader()}}},_addContainerHeader:function t(){const e=this._getLoadedPanelNames();let n=[];let i=[];this.setProperty("title",this._i18nBundle?.getText("insights"));if(e.length===0||this.getContent()[0]instanceof g){n=[_.REFRESH,u.REFRESH,_.SHOW_MORE,u.SHOW_MORE];this._hideMenuItems(n);i=[m.SHOW_MORE,c.SHOW_MORE];this._hideActionButtons(i)}else if(e.length===1){const t=e[0];this.setProperty("title",`${this._i18nBundle?.getText("insights")} (${this.panelLoaded[t].count||0})`);if(this.panelContext[e[0]]instanceof p){n=[u.REFRESH,u.SHOW_MORE];i=[c.SHOW_MORE]}if(this.panelContext[e[0]]instanceof r){n=[_.REFRESH,_.SHOW_MORE];i=[m.SHOW_MORE]}if(this.panelContext[e[0]]instanceof f){this.setProperty("title",`${this.panelContext[e[0]].getTitle()} (${this.panelLoaded[t].count||0})`);n=[_.REFRESH,_.SHOW_MORE,"settings"];i=[m.SHOW_MORE]}this._hideMenuItems(n);this._hideActionButtons(i)}},_removeContainerHeader:function t(){this.setProperty("title","");this.getAggregation("menuItems")?.forEach(t=>this.toggleMenuListItem(t,false));this.getAggregation("actionButtons")?.forEach(t=>this.toggleActionButton(t,false));const e=this._getLoadedPanelNames();e.forEach(t=>{this.panelContext[t]?.handleAddHeader?.()})},_hideMenuItems:function t(e){const n=this.getAggregation("menuItems");n?.forEach(t=>{const n=e.some(e=>t.getId().includes(e));this.toggleMenuListItem(t,!n)})},_hideActionButtons:function t(e){const n=this.getAggregation("actionButtons");n?.forEach(t=>{const n=e.some(e=>t.getId().includes(e));this.toggleActionButton(t,!n)})},updatePanelsItemCount:function t(e,n){this.panelLoaded[n].count=e;const i=this._getLoadedPanelNames();if(i.length===1){const t=this.panelContext[i[0]]instanceof f;this.setProperty("title",`${t?this.panelContext[i[0]].getTitle():this._i18nBundle?.getText("insights")} (${e||0})`)}},unhidePanelIfHidden:function t(e){const n=this._getLayout();const i=n._getCurrentExpandedElementName();if(this._errorPanel){this.removeContent(this._errorPanel)}const s=(t,s)=>{if(!i||i===e.getProperty("fullScreenName")){if(this.panelLoaded[t].loaded===false){s();e.setVisible(true)}this.handlePanelLoad(t,{loaded:true,count:this.panelLoaded[t].count})}else{const i=()=>{s();e.setVisible(true);n.detachOnCollapse(i)};this.handlePanelLoad(t,{loaded:true,count:this.panelLoaded[t].count});n.attachOnCollapse(i)}};if(e instanceof p&&!this.panelLoaded[I].loaded){s(I,()=>this.insertContent(this.panelContext[I],0))}if(e instanceof r&&!this.panelLoaded[H].loaded){s(H,()=>this.addContent(this.panelContext[H]))}if(e instanceof f&&!this.panelLoaded[L].loaded){s(L,()=>this.addContent(this.panelContext[H]))}},_updateHeaderElements:function t(e){const n=this._getLoadedPanelNames();if(n.length>1){this._removeContainerHeader()}else{this._addContainerHeader();e.handleHideHeader()}},adjustLayout:function t(){if(this.getDeviceType()===C.Mobile){this.toggleActionButtons(false)}else{const t=this._getLoadedPanelNames();if(t.length<2){this.getAggregation("actionButtons")?.forEach(t=>{if(t.getId().includes(m.ADD_TILES)){this.toggleActionButton(t,true)}})}}this.getContent().forEach(t=>t._adjustLayout?.())},addCommonMenuItems:function t(e=[]){e.forEach(t=>this.addAggregation("menuItems",t));this._sortMenuItems(A)},addCommonActionButtons:function t(e=[]){e.forEach(t=>this.addAggregation("actionButtons",t))},handlePanelLoad:function t(e,n){if(this.panelLoaded[e].loaded!==n.loaded){this.panelLoaded[e]=n;this._updateHeaderElements(this.panelContext[e])}this.adjustLayout()},updateActionButton:function t(e,n,i){if(e?.getVisible()!==n||e?.getText()!==i){this.toggleActionButton(e,n);e?.setText(i);this._updateContainerHeader(this)}},updateMenuItem:function t(e,n,i){if(e?.getVisible()!==n||e?.getTitle()!==i){this.toggleMenuListItem(e,n);e?.setTitle(i);this._updateContainerHeader(this)}},_getLoadedPanelNames:function t(){return Object.keys(this.panelLoaded).filter(t=>this.panelLoaded[t].loaded)},getVisibleOrPendingPanels:function t(){return Object.keys(this.panelLoaded).filter(t=>this.panelLoaded[t].loaded!==false)},_sortMenuItems:function t(e){const n=this.getAggregation("menuItems");let i=P(e,n);this.removeAllAggregation("menuItems");i?.forEach(t=>this.addAggregation("menuItems",t))},getGenericPlaceholderContent:function t(){return E()},refreshData:function t(e){try{const t=this;const n=Object.values(t.panelContext).find(t=>t.getKey()===e);return Promise.resolve(n?.refreshData?.(true)).then(function(){})}catch(t){return Promise.reject(t)}}});return S});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/InsightsTilesSettingsPanel", ["sap/base/Log","sap/m/Button","sap/m/Column","sap/m/ColumnListItem","sap/m/FlexBox","sap/m/HBox","sap/m/MessageBox","sap/m/MessageToast","sap/m/ObjectIdentifier","sap/m/ScrollContainer","sap/m/SearchField","sap/m/Switch","sap/m/Table","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/Element","sap/ui/core/Icon","./BaseSettingsPanel","./TilesPanel","./utils/Accessibility","./utils/AppManager","./utils/Constants","./utils/DragDropUtils"],function(t,e,i,n,s,a,r,o,l,p,d,h,c,g,u,_,I,m,w,f,T,x,C,S){"use strict";function B(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function v(t,e){try{var i=t()}catch(t){return e(t)}if(i&&i.then){return i.then(void 0,e)}return i}const y=B(w);function $(t,e){try{var i=t()}catch(t){return e(true,t)}if(i&&i.then){return i.then(e.bind(null,false),e.bind(null,true))}return e(false,i)}const M=f["DisplayFormat"];const A=T["getInvisibleText"];const b=B(x);const P=C["MYHOME_PAGE_ID"];const z=C["SETTINGS_PANELS_KEYS"];const F=S["focusDraggedItem"];const D=y.extend("sap.cux.home.InsightsTilesSettingsPanel",{init:function t(){y.prototype.init.call(this);this._controlMap=new Map;this.setProperty("key",z.INSIGHTS_TILES);this.setProperty("title",this._i18nBundle.getText("insightsTiles"));this.setProperty("icon","sap-icon://manager-insight");this.appManagerInstance=b.getInstance();this._allInsightsApps=[];this._wrapperId=`${this.getId()}-tilesSettingsWrapper`;this._controlMap.set(this._wrapperId,new s(this._wrapperId,{alignItems:"Start",justifyContent:"Start",height:"100%",width:"100%",direction:"Column"}).addStyleClass("flexContainerCards"));this.addAggregation("content",this._controlMap.get(this._wrapperId));this._showMessageStrip();this._showToolbar();this._showTilesList();this.attachPanelNavigated(()=>{this._controlMap.get(`${this._wrapperId}--searchField`).setValue("");void this.appManagerInstance.fetchInsightApps(true,this._i18nBundle.getText("insights")).then(t=>{this._allInsightsApps=t;this._controlMap.get(`${this._wrapperId}--title`).setText(`${this._i18nBundle.getText("insightsTilesTitle")} (${this._allInsightsApps.length})`);this._createTableRows(this._allInsightsApps)})})},_showMessageStrip:function t(){const e=new _(`${this._wrapperId}--msgStripContainer`,{width:"calc(100% - 2rem)"}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBegin");e.addItem(new g(`${this._wrapperId}--msgStripText`,{text:this._i18nBundle.getText("insightAppsTabText")}));this._getWrapperFlexBox().addItem(e)},_showToolbar:function t(){this._controlMap.set(`${this._wrapperId}--title`,new u(`${this._wrapperId}--title`,{text:`${this._i18nBundle.getText("insightsTilesTitle")} (${this._allInsightsApps.length})`,titleStyle:"H3",width:"100%"}).addStyleClass("tilesFontChange"));const e=A(`${this.getId()}--TileTitleText`,this._i18nBundle.getText("insightsTiles"));this._controlMap.set(`${this._wrapperId}--searchField`,new d(`${this._wrapperId}--pagesListSearch`,{liveChange:t=>this._onTilesSearch(t),width:"100%",ariaLabelledBy:[e.getId(),this._wrapperId+"--msgStripText",this._wrapperId+"--title"]}).addStyleClass("sapUiTinyMarginTop"));const i=new a(`${this._wrapperId}--titleContainer`,{alignItems:"Center",justifyContent:"SpaceBetween",width:"100%"});i.addItem(this._controlMap.get(`${this._wrapperId}--title`));i.addItem(e);const n=new _(`${this._wrapperId}--toolbarContainer`,{width:"calc(100% - 2rem)",items:[i,this._controlMap.get(`${this._wrapperId}--searchField`)]}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBegin");this._getWrapperFlexBox().addItem(n)},_onTilesSearch:function t(e){const i=e.getSource().getValue().toLowerCase();const n=this._allInsightsApps.filter(t=>t.visualization?.title?.toLowerCase().includes(i));this._createTableRows(n)},_showTilesList:function t(){this._createTableWithContainer();this._createTableRows(this._allInsightsApps)},_createTableWithContainer:function t(){const e=new c(`${this._wrapperId}-table`,{columns:[new i(`${this._wrapperId}-table-dndIcon`,{hAlign:"Center",width:"6%"}),new i(`${this._wrapperId}-table-title`,{width:"94%"})]}).addStyleClass("sapContrastPlus");const n=A(`${this._wrapperId}-dndAria`,this._i18nBundle.getText("keyPressAriaText"));this.addDragDropConfigTo(e,t=>void this._handleTilesDrop(t));this._controlMap.set(`${this._wrapperId}-table`,e);const a=new p(`${this._wrapperId}-scrollContainer`,{vertical:true,horizontal:false,height:"100%",width:"100%",content:[this._controlMap.get(`${this._wrapperId}-table`)]});const r=new _(`${this._wrapperId}-containerVBox`,{height:"100%",width:"100%",justifyContent:"Start",direction:"Column",items:[n,a]});const o=new s(`${this._wrapperId}-containerFlexBox`,{alignItems:"Start",justifyContent:"Start",height:"100%",width:"calc(100% - 2rem)",direction:"Row",items:[r]}).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginTop flexContainerCards");this._getWrapperFlexBox().addItem(o)},_handleTilesDrop:function t(e){try{const i=this;function n(){F(d,o)}const s=e.getParameter?.("draggedControl")||e.draggedControl,a=s.getParent()?.indexOfItem(s),r=e.getParameter?.("droppedControl")||e.droppedControl,o=s.getParent()?.indexOfItem(r),l=s.data("persConfig"),p=r.data("persConfig"),d=i._controlMap.get(`${i._wrapperId}-table`);const h=function(){if(a!==o){i._getWrapperFlexBox().setBusy(true);const t={pageId:P,sourceSectionIndex:l.sectionIndex,sourceVisualizationIndex:l.visualizationIndex,targetSectionIndex:p.sectionIndex,targetVisualizationIndex:p.visualizationIndex};return Promise.resolve(i.appManagerInstance.moveVisualization(t)).then(function(){return Promise.resolve(i.appManagerInstance.fetchInsightApps(true,i._i18nBundle.getText("insights"))).then(function(t){i._allInsightsApps=t;i._createTableRows(i._allInsightsApps);return Promise.resolve(i._getTilePanel().refreshData()).then(function(){i._getWrapperFlexBox().setBusy(false)})})})}}();return Promise.resolve(h&&h.then?h.then(n):n(h))}catch(c){return Promise.reject(c)}},_createTableRows:function t(e){const i=this._controlMap.get(`${this._wrapperId}-table`);i.removeAllItems();let n=e;const s=this._controlMap.get(`${this._wrapperId}--searchField`).getValue();if(s){n=this._allInsightsApps.filter(t=>t.visualization?.title?.toLowerCase().includes(s))}n.forEach((t,e)=>{i.addItem(this._createColumnListItem(t,e))})},_createColumnListItem:function t(i,s){const r=`insightsTiles-${s}-listItem`;const o=I.getElementById(r);if(o){o.destroy()}const p=new n({id:r,type:"Inactive",ariaLabelledBy:[r,`${this._wrapperId}-dndAria`]}).addStyleClass("insightsListItem insightsListMargin manageSectionsTable");p.addCell(new a(`${r}-DndHBox`,{items:[new m(`${r}-DndIcon`,{src:"sap-icon://BusinessSuiteInAppSymbols/icon-grip"}).addStyleClass("tilesDndIcon")]}));const d=i.visualization?.supportedDisplayFormats||"";let c;if((i.isCount||i.isSmartBusinessTile)&&d.length>1&&d.indexOf(M.Standard)>-1&&d.indexOf(M.StandardWide)>-1){c=new a({id:`${r}-convertSwitchContainer`,alignItems:"Center",items:[new g({id:`${r}-switchAppSizeLabel`,text:this._i18nBundle.getText("wide"),wrapping:false}),new h({id:`${r}-convertSwitch`,state:i.visualization?.displayFormatHint!==M.Standard,change:()=>void this._onConvertTilePress(i),customTextOn:" ",customTextOff:" ",tooltip:i.visualization?.displayFormatHint===M.Standard?this._i18nBundle.getText("ConvertToWideTile"):this._i18nBundle.getText("ConvertToTile")})]})}const u=new e({id:`${r}-deleteAppBtn`,type:"Transparent",icon:"sap-icon://decline",press:()=>this._onDeleteApp(i),tooltip:this._i18nBundle.getText("removeFromInsights")});const _=new a({id:`${r}-buttonsWrapper`,alignItems:"Center"}).addStyleClass("sapUiSmallMarginEnd");if(c){_.addItem(c)}_.addItem(u);p.addCell(new a({id:`${r}-cell`,alignItems:"Center",justifyContent:"SpaceBetween",items:[new l({id:`${r}-cellItem`,title:i.visualization?.title,text:i.visualization?.subtitle,tooltip:i.visualization?.title}).addStyleClass("objectIdentifierMargin"),_]}));p.data("persConfig",i.persConfig);return p},_onConvertTilePress:function t(e){try{const t=this;const i=e.visualization?.displayFormatHint,n={pageId:P,sourceSectionIndex:e.persConfig?.sectionIndex,sourceVisualizationIndex:e.persConfig?.visualizationIndex,oVisualizationData:{displayFormatHint:i===M.Standard?M.StandardWide:M.Standard}};t._getWrapperFlexBox().setBusy(true);return Promise.resolve(t.appManagerInstance.updateVisualizations(n)).then(function(){return Promise.resolve(t._getTilePanel().refreshData()).then(function(){if(e.visualization){e.visualization.displayFormatHint=n.oVisualizationData.displayFormatHint}t._getWrapperFlexBox().setBusy(false)})})}catch(t){return Promise.reject(t)}},_onDeleteApp:function t(e){r.show(this._i18nBundle.getText("remove_tile_confirmation_title",[e.title]),{id:"removeTileConfirmation",styleClass:"msgBoxWidth",icon:r.Icon.QUESTION,title:this._i18nBundle.getText("remove"),actions:[this._i18nBundle.getText("remove"),r.Action.CANCEL],emphasizedAction:this._i18nBundle.getText("remove"),onClose:t=>this._handleDeleteApp(t,e)})},_handleDeleteApp:function e(i,n){try{const e=this;const s=function(){if(i===e._i18nBundle.getText("remove")){e._getWrapperFlexBox().setBusy(true);const i=$(function(){return v(function(){return Promise.resolve(e.appManagerInstance.removeVisualizations({sectionId:n.persConfig?.sectionId,vizIds:[n.visualization?.id]})).then(function(){o.show(e._i18nBundle.getText("appRemovedInsights"));return Promise.resolve(e.appManagerInstance.fetchInsightApps(true,e._i18nBundle.getText("insights"))).then(function(t){e._allInsightsApps=t;e._controlMap.get(`${e._wrapperId}--title`).setText(`${e._i18nBundle.getText("insightsTilesTitle")} (${e._allInsightsApps.length})`);e._createTableRows(e._allInsightsApps);return Promise.resolve(e._getTilePanel().refreshData()).then(function(){})})})},function(i){t.error(i);o.show(e._i18nBundle.getText("unableToRemoveInsightsApp"))})},function(t,i){e._getWrapperFlexBox().setBusy(false);if(t)throw i;return i});if(i&&i.then)return i.then(function(){})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_getWrapperFlexBox:function t(){return this._controlMap.get(this._wrapperId)},_getTilePanel:function t(){return this._getPanel()}});return D});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/KeyUserLayoutSettingsPanel", ["sap/m/Column","sap/m/ColumnListItem","sap/m/HBox","sap/m/ObjectIdentifier","sap/m/Table","sap/m/ToggleButton","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Icon","./BaseSettingsPanel","./flexibility/Layout.flexibility","./utils/Constants","./utils/DataFormatUtils","./utils/DragDropUtils"],function(t,e,n,s,a,i,o,l,c,r,d,g,u,m){"use strict";function h(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const p=h(r);const y=d["CHANGE_TYPES"];const I=g["KEYUSER_SETTINGS_PANELS_KEYS"];const C=u["recycleId"];const S=m["focusDraggedItem"];const f=p.extend("sap.cux.home.KeyUserLayoutSettingsPanel",{metadata:{library:"sap.cux.home"},init:function t(){p.prototype.init.call(this);this.setProperty("key",I.LAYOUT);this.setProperty("title",this._i18nBundle.getText("editModeTitle"));this.addAggregation("content",this.getContent());this.attachPanelNavigated(()=>{const t=this._getPanel();t.resetSections();void this.loadSections()})},getContent:function e(){if(!this.layoutTable){this.layoutTable=new a(this.getId()+"--idLayoutSettingsTable",{width:"calc(100% - 2rem)",items:[],columns:[new t(this.getId()+"--idSectionTitleColumn",{width:"100%"})]}).addStyleClass("layoutSettingsTable sapContrastPlus sapUiSmallMarginBegin");this.addDragDropConfigTo(this.layoutTable,t=>this.onDropLayoutSettings(t))}return this.layoutTable},loadSections:function t(){try{const t=this;const a=t._getPanel();return Promise.resolve(a._calculateSectionsState()).then(function(){t.orderedSections=a.getSections()||[];const l=t.getParent();t.layoutTable.removeAllItems();t.orderedSections.forEach((a,r)=>{t.layoutTable.addItem(new e(C(`${t.getId()}--layoutSettingsColumnListItem--${r}`),{type:t.getParent()?.hasDetailsPage?.(a.completeId)?"Navigation":"Inactive",cells:[new n(C(`${t.getId()}--layoutColumnListHBox--${r}`),{alignItems:"Center",items:[new c(C(`${t.getId()}--layoutColumnListItemIcon--${r}`),{src:"sap-icon://vertical-grip"}).addStyleClass("sapUiSmallMarginEnd"),new n(C(`${t.getId()}--layoutColumnListItemHBox--${r}`),{justifyContent:"SpaceBetween",alignItems:"Center",width:"100%",items:[new s(C(`${t.getId()}--layoutColumnListObjectIdentifier--${r}`),{title:a.title,text:a.text,tooltip:a.title}),new i(C(`${t.getId()}--layoutColumnListToggleButton--${r}`),{tooltip:a.visible?t._i18nBundle.getText("hideBtn"):t._i18nBundle.getText("showBtn"),icon:"sap-icon://show",type:"Emphasized",enabled:!a.blocked,press:e=>t.createShowHideChangeFile(e,a),pressed:!a.visible,ariaLabelledBy:["selectLabel"]}).addStyleClass("sapUiTinyMarginEnd sapUiTinyMarginTop")]}).addStyleClass("sapUiTinyMarginBegin")],width:"100%"})],press:()=>l?.navigateToPage?.(l.getDetailsPage(a.completeId)),customData:new o(C(`${t.getId()}--custom-data--${r}`),{key:"sectionObject",value:a})})).addStyleClass("insightsListItem insightsListMargin")})})}catch(t){return Promise.reject(t)}},onDropLayoutSettings:function t(e){const n=this._getPanel();const s=n.getId();const a=e.getParameter?.("draggedControl")||e.draggedControl;const i=a.getParent()?.indexOfItem(a);const o=e.getParameter?.("droppedControl")||e.droppedControl;const l=a.getParent()?.indexOfItem(o);if(i!==l){const t=this.orderedSections;const e=a.data("sectionObject");const c=o.data("sectionObject");const r=this._getActualIndex(e.completeId);const d=this._getActualIndex(c.completeId);this._rearrangeLayoutElements(r,d);t.splice(i,1);t.splice(l,0,e);n.setSections(t);this.addKeyUserChanges({selectorControl:n,changeSpecificData:{changeType:y.MOVE,content:{movedElements:[{id:e.completeId,sourceIndex:r,targetIndex:d}],source:{id:s,aggregation:"items"},target:{id:s,aggregation:"items"}}}});void this.loadSections()}S(this.layoutTable,l)},_getActualIndex:function t(e){const n=this._getPanel();this._allLayoutElements=this._allLayoutElements||[...n.getItems()];const s=n.getProperty("expanded");const a=n._getCurrentExpandedElement();if(s&&a){if(!this._allLayoutElements.some(t=>t.getId()===a.targetContainer.getId())){this._allLayoutElements.splice(n.indexOfItem(a.targetContainer),0,a.targetContainer)}}return this._allLayoutElements.findIndex(t=>t.getId()===e)},_rearrangeLayoutElements:function t(e,n){const s=this._allLayoutElements.splice(e,1)[0];this._allLayoutElements.splice(n,0,s)},createShowHideChangeFile:function t(e,n){const s=!e.getParameter("pressed");const a=this.getKeyUserChanges();const i=s?y.UNHIDE:y.HIDE;const o=a.find(t=>t.selectorControl.getId()===n.completeId);if(o){o.changeSpecificData.changeType=i}else{this.addKeyUserChanges({selectorControl:l.getElementById(n.completeId),changeSpecificData:{changeType:i}})}}});return f});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/KeyUserNewsPagesSettingsPanel", ["sap/m/List","sap/m/Page","sap/m/StandardListItem","sap/m/VBox","sap/ui/core/Element","sap/ui/core/EventBus","./BaseSettingsPanel","./flexibility/Layout.flexibility","./KeyUserNewsSettingsPanel","./KeyUserPagesSettingsPanel","./NewsPanel","./PagePanel","./utils/Constants","./utils/DataFormatUtils"],function(e,t,s,i,n,a,g,o,h,l,r,d,c,S){"use strict";function w(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function P(e,t){try{var s=e()}catch(e){return t(e)}if(s&&s.then){return s.then(void 0,t)}return s}const p=w(g);const u=o["CHANGE_TYPES"];const f=w(h);const y=w(l);const I=w(r);const N=w(d);const m=c["KEYUSER_SETTINGS_PANELS_KEYS"];const b=S["recycleId"];const L=p.extend("sap.cux.home.KeyUserNewsPagesSettingsPanel",{metadata:{library:"sap.cux.home"},init:function e(){p.prototype.init.call(this);this.setProperty("key",m.NEWS_PAGES);this.setProperty("title",this._i18nBundle.getText("editNewsPages"));this._eventBus=a.getInstance();this._eventBus.subscribe("KeyUserChanges","addNewsPagesChanges",(e,t,s)=>{const{changes:i}=s;this.addNewsPagesChanges(i)},this);this.addAggregation("content",this.getContent());this.attachPanelNavigated(()=>this.loadSettings())},getContent:function e(){if(!this.wrapperVBox){this.wrapperVBox=new i(`${this.getId()}-wrapperVBox`)}return this.wrapperVBox},loadSettings:function e(){const t=this.getPanel();const s=n.getElementById(t);const i=s?.getParent();i.getContent()?.forEach(e=>{if(e instanceof I){this.newsPanel=e;this.wrapperVBox.addItem(this.getNewsSettingsList(e))}if(e instanceof N){this.pagePanel=e;this.wrapperVBox.addItem(this.getPageSettingsList(e))}})},newsVisibilityChangeHandler:function e(t){const s=t.getParameter("listItem");this.newsFeedVisibility=s?.getSelected();const i=this._getPanel();const n=i.getParent();const a=n.getParent();const g=this.getKeyUserChanges();const o=g.find(e=>e.changeSpecificData.changeType===u.NEWS_FEED_VISIBILITY);if(!this.newsFeedVisibility&&this.newsSettingsPanel){this.newsSettingsPanel.removeUrlMesageStrip()}if(!o){this.addKeyUserChanges({selectorControl:a,changeSpecificData:{changeType:u.NEWS_FEED_VISIBILITY,content:{isNewsFeedVisible:this.newsFeedVisibility}}})}else if(o.changeSpecificData.content.isNewsFeedVisible!==this.newsFeedVisibility){o.changeSpecificData.content.isNewsFeedVisible=this.newsFeedVisibility}},getNewsSettingsList:function t(i){const n=this._getPanel();const a=n.getParent();if(!this.newsSettingsList){this.newsSettingsList=new e(`${this.getId()}-news-settings-list`,{selectionChange:this.newsVisibilityChangeHandler.bind(this),mode:"MultiSelect"});this.standardListItem=new s(`${this.getId()}-newsSettingsStandardListItem`,{selected:n.getVisible(),press:this.navigateToNewsSettingsPage.bind(this),type:a.getIsEndUserChange().isEndUser?"Inactive":"Navigation",title:this._i18nBundle.getText("newsFeed")});this.newsSettingsList.addItem(this.standardListItem);this.newsSettingsList.setAssociation("panel",i)}else{if(this.newsFeedVisibility===undefined){this.standardListItem.setSelected(Boolean(n.getParent()?.getProperty("newsFeedVisibility"))&&Boolean(n.getProperty("newsAvailable")))}else{this.standardListItem.setSelected(this.newsFeedVisibility)}}return this.newsSettingsList},getPageSettingsList:function t(i){if(!this.pageSettingsList){this.pageSettingsList=new e(`${this.getId()}-page-settings-list`,{mode:"None",items:[new s(`${this.getId()}-pageSettingsList`,{selected:true,press:this.openPageSettingsDialog.bind(this),type:"Navigation",title:this._i18nBundle.getText("pageGroupHeader")})]});this.pageSettingsList.setAssociation("panel",i)}return this.pageSettingsList},onNavBack:function e(t){t?.back();if(!this.standardListItem.getSelected()){this.newsSettingsPanel?.removeUrlMesageStrip()}},navigateToNewsSettingsPage:function e(){const s=this.getParent()?.getNavContainer?.();if(!this.newsSettingsPage){this.newsSettingsPanel=new f(b(`${this.getId()}--news-settings-panel`));this.newsSettingsPanel.setAssociation("panel",this.newsPanel);this.newsSettingsPage=new t(`${this.getId()}-news-settings-page`,{title:this.newsSettingsPanel.getProperty("title"),showHeader:true,content:this.newsSettingsPanel.getAggregation("content"),backgroundDesign:"Transparent",showNavButton:true,navButtonPress:this.onNavBack.bind(this,s)})}s?.addPage(this.newsSettingsPage);s?.to(this.newsSettingsPage);this.newsSettingsPanel.firePanelNavigated()},openPageSettingsDialog:function e(){if(!this.pageSettingsPanel){this.pageSettingsPanel=new y(`${this.getId()}--pages-settings-panel`);this.pageSettingsPanel.setAssociation("panel",this.pagePanel);this.pageSettingsDialog=this.pageSettingsPanel.getAggregation("content")?.[0]}this.pageSettingsDialog?.open();this.pageSettingsPanel?.firePanelNavigated()},addNewsPagesChanges:function e(t){t.forEach(e=>{this.addKeyUserChanges(e)})},isNewsChangesValid:function e(){const t=this;return Promise.resolve(P(function(){return Promise.resolve(t.newsSettingsPanel?.isValidChanges(t.standardListItem.getSelected()))},function(){return true}))},onSaveClearChanges:function e(){this.newsFeedVisibility=undefined;this.newsSettingsPanel?.clearKeyUserChanges()},onCancelClearKeyUserChanges:function e(){const t=this._getPanel();this.newsFeedVisibility=undefined;this.standardListItem?.setSelected(t.getVisible());this.newsSettingsPanel?.clearNewsPanelChanges()}});return L});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/KeyUserNewsSettingsPanel", ["sap/m/Button","sap/m/Input","sap/m/Label","sap/m/MessageBox","sap/m/MessageStrip","sap/m/MessageToast","sap/m/RadioButton","sap/m/Toolbar","sap/m/VBox","sap/m/library","sap/ui/core/EventBus","sap/ui/core/message/MessageType","sap/ui/layout/form/SimpleForm","sap/ui/unified/FileUploader","sap/ushell/Container","./BaseSettingsPanel","./flexibility/Layout.flexibility","./library","./utils/Constants","./utils/HttpHelper"],function(e,t,s,i,n,o,a,l,r,d,h,c,g,u,w,p,N,F,m,y){"use strict";function f(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function U(e,t){try{var s=e()}catch(e){return t(e)}if(s&&s.then){return s.then(void 0,t)}return s}const S=f(p);const C=N["CHANGE_TYPES"];const P=F["NewsType"];const b=m["DEFAULT_NEWS_URL"];const _=m["KEYUSER_SETTINGS_PANELS_KEYS"];const M=f(y);const I={NEWS_FEED_POST_API:"/sap/opu/odata4/ui2/insights_srv/srvd/ui2/"+"insights_repo_srv/0001/"+"NEWS_FEED"};const E=S.extend("sap.cux.home.KeyUserNewsSettingsPanel",{metadata:{library:"sap.cux.home"},init:function e(){S.prototype.init.call(this);this.controlMap=new Map;this.setProperty("key",_.NEWS);this.setProperty("title",this._i18nBundle.getText("editNewsFeed"));this.addAggregation("content",this.getContent());this.attachPanelNavigated(()=>this.loadSettings());this._eventBus=h.getInstance();this._eventBus.subscribe("KeyUserChanges","newsFeedLoadFailed",(e,t,s)=>{if(s?.showError){this.showMessageStrip(true,c.Warning,"invalidNewsUrl");this.validChanges=false}else{this.getMessageStrip().setVisible(false);this.validChanges=true}},this)},getCurrentKeyUserChange:function e(){const t=this.getKeyUserChanges();const s=t.find(e=>e.changeSpecificData.changeType===C.NEWS_FEED_URL);return s?.changeSpecificData.content},getContent:function e(){const t=`${this.getId()}-wrapperVBox`;const s=new r(t);this.controlMap.set(t,s);return s},checkNewsType:function e(t){if(this._getPanel().getProperty("type")===t)return true;return false},isValidChanges:function e(t){try{const s=this;function n(){return s.validChanges}s.validChanges=true;const o=s.getFileUploader();const a=s.getCurrentKeyUserChange();const l=s.customNewsVisibility??!!s.checkNewsType(P.Custom);const r=s.defaultNewsVisibility??!!s.checkNewsType(P.Default);const d=function(){if(s.getNewsFeedUploadBtn().getEnabled()){if(l){i.error(String(s._i18nBundle.getText("newsFeedSaveUploadChanges")));s.validChanges=false}else{if(o){o.setValue(a.customNewsFeedFileName||String(s._getPanel().getProperty("customFileName")))}}}else{const e=function(){if(l&&o.getValue()===""&&t){s.showMessageStrip(true,c.Error,"noNewsFileError");s.validChanges=false}else{const e=function(){if(!l&&!r&&t&&!s.getMessageStrip().getVisible()){const e=s.controlMap.get(`${s.getId()}-newsFeedURLInput`).getValue();const t=function(){if(!s.getValidURL(e)){s.showMessageStrip(true,c.Error,"invalidNewsUrl");s.validChanges=false}else{return Promise.resolve(s._getPanel().setURL(String(e))).then(function(){})}}();if(t&&t.then)return t.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();return Promise.resolve(d&&d.then?d.then(n):n(d))}catch(h){return Promise.reject(h)}},clearNewsPanelChanges:function e(){const t=this._getPanel();this.getMessageStrip().setVisible(false);const s=this.controlMap.get(`${this.getId()}-newsFeedURLInput`);const i=String(t.getProperty("url"));s.setValue(i!==b?i:"");this.customNewsVisibility=this.checkNewsType(P.Custom);this.defaultNewsVisibility=this.checkNewsType(P.Default);this.rssNewsVisibility=this.checkNewsType(P.NewsUrl);this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`).setEnabled(this.customNewsVisibility);this.controlMap.get(`${this.getId()}-newsFeedURLInput`).setEnabled(this.rssNewsVisibility);this.controlMap.get(`${this.getId()}-customNewsFeedRadioBtn`).setSelected(this.customNewsVisibility);this.controlMap.get(`${this.getId()}-defaultNewsFeedRadioBtn`).setSelected(this.defaultNewsVisibility);this.controlMap.get(`${this.getId()}-newsUrlRadioBtn`).setSelected(this.rssNewsVisibility);this.getFileUploader().setValue(String(t.getProperty("customFileName")));this.clearKeyUserChanges()},addMessageStrip:function e(t){const s=`${this.getId()}-keyUserNewsPanelToolbar`;if(!this.controlMap.get(s)){const e=new l(s,{height:"auto"});const t=new r(`${this.getId()}-messageStripWrapper`,{width:"100%"});const i=`${this.getId()}-messageStrip`;const o=new n(i,{showIcon:true,visible:false});this.controlMap.set(i,o);t.addItem(o);e.addContent(t);this.controlMap.set(s,e)}t.addItem(this.controlMap.get(s))},handleSelectCustomNewsFeed:function e(t){this.customNewsVisibility=t.getParameter("selected");this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`).setEnabled(this.customNewsVisibility);this.controlMap.get(`${this.getId()}-newsFeedURLInput`).setEnabled(!this.customNewsVisibility);const s=this._getPanel();const i=s.getParent();const n=i.getParent();const o=this.getCurrentKeyUserChange();if(!o){this.addKeyUserChanges({selectorControl:n,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(this._getPanel().getProperty("url")),oldShowCustomNewsFeed:this.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:this.checkNewsType(P.Default),oldShowRssNewsFeed:this.checkNewsType(P.NewsUrl),newsFeedURL:String(this._getPanel().getProperty("url")),showCustomNewsFeed:this.customNewsVisibility,customNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),customNewsFeedFileName:String(this._getPanel().getProperty("customFileName")),showDefaultNewsFeed:false,showRssNewsFeed:false}}});this._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:this.getKeyUserChanges()})}else if(o.showCustomNewsFeed!==this.customNewsVisibility){o.showCustomNewsFeed=this.customNewsVisibility}this.removeUrlMesageStrip();this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:false,date:new Date})},addCustomNewsFeedRadioBtn:function e(t){const s=`${this.getId()}-customNewsFeedRadioBtn`;const i=this.checkNewsType(P.Custom);if(!this.controlMap.get(s)){const e=new a(`${this.getId()}-customNewsFeedRadioBtn`,{text:this._i18nBundle.getText("selectCustomNewsFeed"),selected:i,select:this.handleSelectCustomNewsFeed.bind(this)}).addStyleClass("sapUiTinyMargin");this.controlMap.set(s,e)}else if(!this.getCurrentKeyUserChange()){let e=this.controlMap.get(`${this.getId()}-customNewsFeedRadioBtn`);e.setSelected(i);this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`).setEnabled(i)}t.addItem(this.controlMap.get(s))},addDefaultNewsFeedRadioBtn:function e(t){const s=`${this.getId()}-defaultNewsFeedRadioBtn`;const i=this.checkNewsType(P.Default);if(!this.controlMap.get(s)){const e=new a(`${this.getId()}-defaultNewsFeedRadioBtn`,{text:this._i18nBundle.getText("selectDefaultNewsFeed"),selected:i,select:this.handleselectDefaultNewsFeed.bind(this)}).addStyleClass("sapUiTinyMargin");this.controlMap.set(s,e)}else if(!this.getCurrentKeyUserChange()){let e=this.controlMap.get(`${this.getId()}-defaultNewsFeedRadioBtn`);e.setSelected(i)}t.addItem(this.controlMap.get(s))},addNewsPaneLabel:function e(t){const i=`${this.getId()}-newsPanelLabel`;if(!this.controlMap.get(i)){const e=new s(i,{text:this._i18nBundle.getText("newsFeedOptionLabel")}).addStyleClass("sapUiTinyMargin");this.controlMap.set(i,e)}t.addItem(this.controlMap.get(i))},handleSelectRssNewsFeed:function e(t){this.rssNewsVisibility=t.getParameter("selected");this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`).setEnabled(!this.rssNewsVisibility);this.controlMap.get(`${this.getId()}-newsFeedURLInput`).setEnabled(this.rssNewsVisibility);const s=this._getPanel();const i=s.getParent();const n=i.getParent();const o=this.getCurrentKeyUserChange();if(!o){this.addKeyUserChanges({selectorControl:n,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(this._getPanel().getProperty("url")),oldShowCustomNewsFeed:this.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:this.checkNewsType(P.Default),oldShowRssNewsFeed:this.checkNewsType(P.NewsUrl),newsFeedURL:String(this._getPanel().getProperty("url")),showCustomNewsFeed:false,customNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),customNewsFeedFileName:String(this._getPanel().getProperty("customFileName")),showDefaultNewsFeed:false,showRssNewsFeed:this.rssNewsVisibility}}});this._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:this.getKeyUserChanges()})}else if(o.showRssNewsFeed!==this.rssNewsVisibility){o.showRssNewsFeed=this.rssNewsVisibility}this.removeUrlMesageStrip();this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:false,date:new Date})},addNewsUrlRadioBtn:function e(t){const s=`${this.getId()}-newsUrlRadioBtn`;const i=this.checkNewsType(P.NewsUrl);if(!this.controlMap.get(s)){const e=new a(`${this.getId()}-newsUrlRadioBtn`,{text:this._i18nBundle.getText("selectNewsFeedUrl"),selected:i,select:this.handleSelectRssNewsFeed.bind(this)}).addStyleClass("sapUiTinyMargin");this.controlMap.set(s,e)}else if(!this.getCurrentKeyUserChange()){let e=this.controlMap.get(`${this.getId()}-newsUrlRadioBtn`);e.setSelected(i);this.controlMap.get(`${this.getId()}-newsFeedURLInput`).setEnabled(i)}t.addItem(this.controlMap.get(s))},handleselectDefaultNewsFeed:function e(t){this.defaultNewsVisibility=t.getParameter("selected");this.controlMap.get(`${this.getId()}-customNewsUploadFileUploader`).setEnabled(!this.defaultNewsVisibility);this.controlMap.get(`${this.getId()}-newsFeedURLInput`).setEnabled(!this.defaultNewsVisibility);const s=this._getPanel();const i=s.getParent();const n=i.getParent();const o=this.getCurrentKeyUserChange();const a=this.controlMap.get(`${this.getId()}-newsFeedURLInput`);if(!o){this.addKeyUserChanges({selectorControl:n,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(this._getPanel().getProperty("url")),oldShowCustomNewsFeed:this.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:this.checkNewsType(P.Default),oldShowRssNewsFeed:this.checkNewsType(P.NewsUrl),newsFeedURL:String(a.getValue()),showCustomNewsFeed:false,customNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),customNewsFeedFileName:String(this._getPanel().getProperty("customFileName")),showDefaultNewsFeed:this.defaultNewsVisibility,showRssNewsFeed:false}}});this._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:this.getKeyUserChanges()})}else if(o.showDefaultNewsFeed!==this.defaultNewsVisibility){o.showDefaultNewsFeed=this.defaultNewsVisibility;o.showCustomNewsFeed=false}this.removeUrlMesageStrip();this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:false,date:new Date})},onNewsUrlChange:function e(t){const s=this._getPanel();const i=s.getParent();const n=i.getParent();let o=t.getParameter("value");const a=this.getCurrentKeyUserChange();const l=this.getValidURL(String(o));if(!l){return}else{o=l}if(!a){this.addKeyUserChanges({selectorControl:n,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(this._getPanel().getProperty("url")),oldShowCustomNewsFeed:this.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:this.checkNewsType(P.Default),oldShowRssNewsFeed:this.checkNewsType(P.NewsUrl),newsFeedURL:o,showCustomNewsFeed:false,customNewsFeedKey:String(this._getPanel().getProperty("customFeedKey")),customNewsFeedFileName:String(this._getPanel().getProperty("customFileName")),showDefaultNewsFeed:false,showRssNewsFeed:this.rssNewsVisibility}}});this._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:this.getKeyUserChanges()})}else if(a.newsFeedURL!==o){a.newsFeedURL=o;a.showCustomNewsFeed=false;a.showDefaultNewsFeed=false}},showMessageStrip:function e(t,s,i){this.getMessageStrip().setType(s);this.getMessageStrip().setVisible(t);this.getMessageStrip().setText(String(this._i18nBundle.getText(i)));if(s===c.Error){this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:t,date:new Date})}},getValidURL:function e(t){try{const e=new URL(t);return e.href}catch{return""}},removeUrlMesageStrip:function e(){this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:false,date:new Date});this.getMessageStrip().setVisible(false);const t=this.controlMap.get(`${this.getId()}-newsFeedURLInput`);if(!this.getValidURL(t.getValue())){t.setValue("")}},onUrlLiveChange:function e(t){const s=t.getParameter("value")||"";this.showMessageStrip(!this.getValidURL(s),c.Error,"invalidNewsUrl")},getMessageStrip:function e(){const t=`${this.getId()}-messageStrip`;return this.controlMap.get(t)},addNewsURLSimpleForm:function e(s){const i=`${this.getId()}-newsFeedURLSimpleForm`;const n=this.checkNewsType(P.NewsUrl);const o=String(this._getPanel().getProperty("url"));if(!this.controlMap.get(i)){const e=new g(`${this.getId()}-newsFeedURLSimpleForm`).addStyleClass("sapContrastPlus formCustomPadding");const s=`${this.getId()}-newsFeedURLInput`;const a=new t(s,{value:o!==b?o:"",type:d.InputType.Url,change:this.onNewsUrlChange.bind(this),liveChange:this.onUrlLiveChange.bind(this),enabled:n});this.controlMap.set(s,a);e.addContent(a);this.controlMap.set(i,e)}else if(this.getCurrentKeyUserChange()){let e=this.controlMap.get(`${this.getId()}-newsFeedURLInput`);e.setValue(o)}s.addItem(this.controlMap.get(i))},handleFileChange:function e(t){const s=t.getSource();this.getMessageStrip().setVisible(false);this._eventBus.publish("KeyUserChanges","disabledSaveBtn",{disable:false,date:new Date});this.setNewsFeedEnabled(s.getValue()!=="")},setNewsFeedEnabled:function e(t){const s=this.getNewsFeedUploadBtn();if(s){s.setEnabled(t)}},getNewsFeedUploadBtn:function e(){const t=`${this.getId()}-customNewsUploadFileUploaderButton`;return this.controlMap.get(t)},handleFileUploadError:function e(t){const s=t.getSource();const n=s.getMaximumFileSize();this.setNewsFeedEnabled(false);i.error(String(this._i18nBundle.getText("newsFeedMaxFileSizeError",[n])))},handleFileDialogClose:function e(t){const s=t.getSource();let i=s.getValue();if(i===""){i=this.getCurrentKeyUserChange()?.customNewsFeedFileName||String(this._getPanel().getProperty("customFileName"));this.setNewsFeedEnabled(false)}s.setValue(i)},handleNewsFeedFileUpload:function e(){try{const e=this;let t=e._i18nBundle.getText("newsFeedFileUploadError");return Promise.resolve(U(function(){return Promise.resolve(Promise.all([e.getUploadedFile(),w.getServiceAsync("UserInfo")])).then(function(s){const i=s[0];const n=s[1];const a=n&&n.getId();const l={changeId:a+"_"+Date.now().toString(),attachment:i.content};if(i.type){l.documentType=i.type}return Promise.resolve(M.Post(I.NEWS_FEED_POST_API,l)).then(function(s){const i=e.getCurrentKeyUserChange();const n=e._getPanel();const a=n.getParent();const l=a.getParent();if(s&&s.error){e.getFileUploader().setValue("");if(i){i.customNewsFeedFileName=""}else{e.addKeyUserChanges({selectorControl:l,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(e._getPanel().getProperty("url")),oldShowCustomNewsFeed:e.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(e._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:e.checkNewsType(P.Default),oldShowRssNewsFeed:e.checkNewsType(P.NewsUrl),newsFeedURL:String(e._getPanel().getProperty("url")),showCustomNewsFeed:true,customNewsFeedKey:String(e._getPanel().getProperty("customFeedKey")),customNewsFeedFileName:String(e._getPanel().getProperty("customFileName")),showDefaultNewsFeed:false,showRssNewsFeed:false}}})}t=s.error.message.includes("NODATA")?e._i18nBundle.getText("newsFeedEmptyFileError"):t;throw new Error(t)}const r=s.changeId;if(i){i.customNewsFeedKey=r;i.customNewsFeedFileName=e.getFileUploader().getValue()}else{e.addKeyUserChanges({selectorControl:l,changeSpecificData:{changeType:C.NEWS_FEED_URL,content:{oldNewsFeedUrl:String(e._getPanel().getProperty("url")),oldShowCustomNewsFeed:e.checkNewsType(P.Custom),oldCustomNewsFeedKey:String(e._getPanel().getProperty("customFeedKey")),oldshowDefaultNewsFeed:e.checkNewsType(P.Default),oldShowRssNewsFeed:e.checkNewsType(P.NewsUrl),newsFeedURL:String(e._getPanel().getProperty("url")),showCustomNewsFeed:true,customNewsFeedKey:r,customNewsFeedFileName:e.getFileUploader().getValue(),showDefaultNewsFeed:false,showRssNewsFeed:false}}});e._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:e.getKeyUserChanges()})}o.show(String(e._i18nBundle.getText("customNewsFeedUploaded")));e.setNewsFeedEnabled(false)})})},function(t){i.error(t.message);e.setNewsFeedEnabled(false)}))}catch(e){return Promise.reject(e)}},getUploadedFile:function e(){return new Promise((e,t)=>{const s=this.getFileUploader();let i=this._i18nBundle.getText("newsFeedFileUploadError");if(s&&!s.getValue()){i=this._i18nBundle.getText("noNewsFileError");t(new Error(i))}const n=s.oFileUpload.files[0];const o=new FileReader;o.onload=function(){try{const t=o.result;let s;const i={type:"",content:""};if(n.type==="text/csv"){s=window.btoa(encodeURIComponent(String(t)).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));i.type="CSV"}else{s=t.replace("data:","").replace(/^.+,/,"")}i.content=s;e(i)}catch{t(new Error(i))}};if(n.type==="text/csv"){o.readAsText(n)}else{o.readAsDataURL(n)}})},getFileUploader:function e(){const t=`${this.getId()}-customNewsUploadFileUploader`;return this.controlMap.get(t)},addCustomNewsUploadSimpleForm:function t(s){const i=`${this.getId()}-customNewsUploadSimpleForm`;if(!this.controlMap.get(i)){const t=new g(`${this.getId()}-customNewsUploadSimpleForm`).addStyleClass("sapContrastPlus formCustomPadding");const s=new r(`${this.getId()}-customNewsUploadVBox`);const n=`${this.getId()}-customNewsUploadFileUploader`;const o=this._getPanel();const a=new u(n,{name:"newsFeedFileUploader",tooltip:this._i18nBundle.getText("uploadNewsFeedFile"),fileType:o?.getProperty("supportedFileFormats"),width:"100%",change:this.handleFileChange.bind(this),maximumFileSize:25,fileSizeExceed:this.handleFileUploadError.bind(this),sameFilenameAllowed:true,afterDialogClose:this.handleFileDialogClose.bind(this),value:String(this._getPanel().getProperty("customFileName")),enabled:this.checkNewsType(P.Custom)});this.controlMap.set(n,a);const l=`${this.getId()}-customNewsUploadFileUploaderButton`;const d=new e(l,{text:this._i18nBundle.getText("uploadNewsFeedBtn"),press:this.handleNewsFeedFileUpload.bind(this),type:"Emphasized",enabled:false});this.controlMap.set(l,d);s.addItem(a);s.addItem(d);t.addContent(s);this.controlMap.set(i,t)}s.addItem(this.controlMap.get(i))},loadSettings:function e(){const t=`${this.getId()}-wrapperVBox`;const s=this.controlMap.get(t);s.removeAllItems();this.addMessageStrip(s);this.addNewsPaneLabel(s);this.addDefaultNewsFeedRadioBtn(s);this.addNewsUrlRadioBtn(s);this.addNewsURLSimpleForm(s);this.addCustomNewsFeedRadioBtn(s);this.addCustomNewsUploadSimpleForm(s)}});return E});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/KeyUserPagesSettingsPanel", ["sap/m/Button","sap/m/ColorPalette","sap/m/Dialog","sap/m/FlexBox","sap/m/FlexItemData","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/ScrollContainer","sap/m/SearchField","sap/m/StandardListItem","sap/m/Switch","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/core/theming/Parameters","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/table/Column","sap/ui/table/TreeTable","./BaseSettingsPanel","./flexibility/Layout.flexibility","./utils/Constants","./utils/IconList","./utils/PageManager","./utils/PersonalisationUtils"],function(e,t,o,s,n,a,i,l,r,c,d,h,g,p,C,u,P,y,I,S,f,m,w,B,T,x,M,b,k){"use strict";function _(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const A=_(B);const $=T["CHANGE_TYPES"];const L=x["DEFAULT_BG_COLOR"];const G=x["END_USER_COLORS"];const v=x["FALLBACK_ICON"];const D=x["KEYUSER_SETTINGS_PANELS_KEYS"];const O=M["ICONS"];const E=_(b);const U=_(k);const z=A.extend("sap.cux.home.KeyUserPagesSettingsPanel",{constructor:function e(){A.prototype.constructor.apply(this,arguments);this.keyuserSpaceColorChanges=[];this.keyuserPageColorChanges=[];this.keyuserSpaceIconChanges=[];this.keyuserPageIconChanges=[]},metadata:{library:"sap.cux.home"},init:function e(){A.prototype.init.call(this);this.controlMap=new Map;this.controlModel=new f({spaces:[],selectedSpacePage:{},iconList:[]});this.setProperty("key",D.PAGES);this.setProperty("title",this._i18nBundle.getText("editPages"));this._eventBus=u.getInstance();this.addAggregation("content",this.getContent());this.attachPanelNavigated(()=>this.loadSettings())},getContent:function t(){const s=`${this.getId()}-keyUserPagesSettingsDialog`;if(!this.controlMap.get(s)){const t=new o(s,{title:this._i18nBundle.getText("editPages"),contentWidth:"47rem",contentHeight:"90%",verticalScrolling:false,endButton:new e(`${this.getId()}-keyUserPagesSettingsCloseButton`,{text:this._i18nBundle.getText("Close"),press:this._handleDialogClose.bind(this),type:"Transparent"})}).addStyleClass("sapContrastPlus");this.controlMap.set(s,t);this.addDialogContent()}return this.controlMap.get(s)},loadSettings:function e(){if(!this.pageManagerInstance){this.pageManagerInstance=E.getInstance(U.getPersContainerId(this._getPanel()),U.getOwnerComponent(this._getPanel()))}void this.prepareSpacesPagesData();this.prepareIconList()},addDialogContent:function e(){const t=this.controlMap.get(`${this.getId()}-keyUserPagesSettingsDialog`);const o=new s(`${this.getId()}-wrapperFlexBox`,{alignItems:"Start",justifyContent:"Start",height:"100%",width:"100%",direction:"Row"});o.setModel(this.controlModel);o.addItem(this.getSpacePagesListItems());o.addItem(this.getDetailsView());t.addContent(o)},getSpacePagesListItems:function e(){const t=new s(`${this.getId()}-spacePagesFlexBox`,{direction:"Column",alignItems:"Start",height:"100%",width:"24rem",justifyContent:"Start"}).addStyleClass("spacePagesFlexBox");const o=new p(`${this.getId()}-spacePagesTitle`,{text:this._i18nBundle.getText("pageGroupHeader"),titleStyle:"H4"}).addStyleClass("sapUiSmallMarginBottom");t.addItem(o);const i=new C(`${this.getId()}-treeTableWrapper`,{height:"100%"});const l=`${this.getId()}-spacePagesTreeTable`;const r=new w(l,{selectionMode:"Single",selectionBehavior:"RowOnly",rows:"{path:'/spaces', parameters: {arrayNames:['children'], numberOfExpandedLevels: 1}}",id:"idEditIntrestTreeTable",groupHeaderProperty:"label",columnHeaderVisible:false,rowMode:"Auto",rowSelectionChange:this.handleTreeTableRowSelection.bind(this),width:"22rem",layoutData:new n(`${l}--layoutData`,{growFactor:1}),columns:[new m(`${l}--treeTableColumn`,{template:new a(`${l}--treeTableTemplateBox`,{alignItems:"Center",justifyContent:"SpaceBetween",width:"100%",items:[new g(`${l}--treeTableItemText`,{text:"{label}"}),new a(`${l}--treeTableColumnItemBox`,{alignItems:"Center",items:[new P(`${l}--treeTableItemIcon`,{tooltip:"{label}",src:"{icon}",backgroundColor:"{BGColor/value}",width:"2.5rem",height:"2.5rem",size:"1.5rem",color:"white"}).addStyleClass("sapUiTinyMargin")]})]})})]}).addStyleClass("spacePageTable");this.controlMap.set(l,r);i.addItem(r);t.addItem(i);return t},getDetailsView:function e(){const t=new s(`${this.getId()}-personalisationDetailsWrapperFlex`,{height:"100%",width:"23rem",direction:"Column",visible:"{= ${/spaces/length} === 0 ? false : true}"}).addStyleClass("personalisationDetailsWrapperFlex");t.addItem(this.getColorPalette());t.addItem(this.getIconList());return t},getColorPalette:function e(){const o=new C(`${this.getId()}-colorPaletteWrapperVBox`,{width:"100%"}).addStyleClass("sapUiSmallMarginBottom");const s=new p(`${this.getId()}-colorPaletteTitle`,{text:"{/selectedSpacePage/label}",titleStyle:"H4"});o.addItem(s);const n=new i(`${this.getId()}-colorPaletteSpacePageLabel`,{wrapping:true,text:"{= ${/selectedSpacePage/type} === 'Space' ? '"+this._i18nBundle.getText("space")+"' : '"+this._i18nBundle.getText("page")+"' }"}).addStyleClass("personalisationDetailsLabel");o.addItem(n);const l=new C(`${this.getId()}-colorPaletteVBox`,{width:"100%"}).addStyleClass("sapUiMargin-26Top");o.addItem(l);const r=new i(`${this.getId()}-colorPaletteLabel`,{wrapping:true,design:"Bold",text:this._i18nBundle.getText("selectColor")}).addStyleClass("personalisationDetailsLabel");l.addItem(r);const c=new t(`${this.getId()}-colorPalette`,{colors:G().map(e=>e.value),colorSelect:this._handleColorSelect.bind(this)}).addStyleClass("sapContrastPlus sapUiTinyMarginBottom");this.controlMap.set(`${this.getId()}-colorPalette`,c);l.addItem(c);const d=new a(`${this.getId()}-switchWrapperHBox`,{alignItems:"Center",justifyContent:"SpaceBetween",height:"2rem",width:"100%"});o.addItem(d);const u=new g(`${this.getId()}-switchText`,{text:this._i18nBundle.getText("editPagesColorMessage")});d.addItem(u);const P=new a(`${this.getId()}-switchHBox`,{alignItems:"Center"});d.addItem(P);const y=`${this.getId()}-Switch`;const I=new h(y,{state:"{ path: '/selectedSpacePage/applyColorToAllPages', mode: 'TwoWay' }",change:this._handleSwitchChange.bind(this),enabled:"{= ${/selectedSpacePage/spaceId} ? false : true }",customTextOn:" ",customTextOff:" "});this.controlMap.set(y,I);P.addItem(I);return o},getIconList:function e(){const t=new C(`${this.getId()}-iconListWrapperVBox`,{width:"100%",height:"calc(100% - 15rem)"});const o=new i(`${this.getId()}-iconListLabel`,{wrapping:true,design:"Bold",text:this._i18nBundle.getText("icon")}).addStyleClass("personalisationDetailsLabel");t.addItem(o);const s=`${this.getId()}-iconListSearchField`;const n=new c(s,{width:"100%",liveChange:this.handleIconSearch.bind(this)});this.controlMap.set(s,n);t.addItem(n);const a=new r(`${this.getId()}-iconListScrollContainer`,{vertical:true,horizontal:false,height:"95%"});t.addItem(a);const h=`${this.getId()}-iconList`;const g=new l(h,{items:{path:"/iconList",template:new d(`${this.getId()}-iconStandardListItem`,{title:"{title}",icon:"{icon}",type:"Active",press:e=>this._handleIconSelect(e.getSource()),iconDensityAware:false,iconInset:false})}});this.controlMap.set(h,g);a.addContent(g);return t},prepareSpacesPagesData:function e(){try{const e=this;return Promise.resolve(e.pageManagerInstance.fetchAllAvailableSpaces()).then(function(t){if(!Array.isArray(t)){return}t.forEach(t=>{t.BGColor=t.BGColor?e.refreshColor(t.BGColor):L();t.isSpacePersonalization=t.BGColor||t.icon?true:false;t.icon=t.icon||v;t.persistedApplyColorToAllPages=t.applyColorToAllPages;t.children.forEach(o=>{if(t.applyColorToAllPages){o.BGColor=e.refreshColor(t.BGColor);o.oldColor=o.isPagePersonalization?e.refreshColor(o.oldColor):L()}else{o.BGColor=o.BGColor?e.refreshColor(o.BGColor):L()}o.spaceId=t.id;o.personalizationState=o.isPagePersonalization;o.iconPersonalizationState=o.isPageIconPersonalization;o.icon=o.icon||t.icon||v})});e.controlModel.setProperty("/spaces",t);const o=e.controlMap.get(`${e.getId()}-spacePagesTreeTable`);const s=o.getSelectedIndices();if(!s.includes(0)){o.setSelectedIndex(0)}})}catch(e){return Promise.reject(e)}},refreshColor:function e(t){const o={...t};o.value=y.get({name:t.key});return o},handleTreeTableRowSelection:function e(t){const o=t.getParameter("rowContext");const s=o?.getObject();const n=this.controlModel.getProperty("/selectedSpacePage");const a=this.controlMap.get(`${this.getId()}-colorPalette`);const i=this.controlMap.get(`${this.getId()}-iconListSearchField`);const l=this.controlMap.get(`${this.getId()}-iconList`);const r=this.controlMap.get(`${this.getId()}-Switch`);let c=undefined;let d=a.getBlocked();if(s.type==="Page"){const e=o.getPath();const t=e.replace(/\/children\/\d*/,"");c=this.controlModel.getProperty(t)}d=n?.type===s.type&&n?.id===s.id?!d:false;a.setBlocked(d?true:c?.applyColorToAllPages);i.setBlocked(d);l.setBlocked(d);r.setBlocked(d);this.controlModel.setProperty("/selectedSpacePage",s);this.selectedContext=o},prepareIconList:function e(){const t=this.controlModel.getProperty("/iconList");if(!t.length){let e;const t=[];Object.keys(O).forEach(o=>{Object.keys(O[o].icons).forEach(function(s){switch(o){case"SAP-icons":e="sap-icon://"+s;break;case"SAP-icons-TNT":e="sap-icon://"+o+"/"+s;break;case"BusinessSuiteInAppSymbols":e="sap-icon://"+o+"/icon-"+s;break}t.push({title:s,icon:e,tags:O[o].icons[s].concat([s]).toString(),categoryId:o})})});this.controlModel.setProperty("/iconList",t)}},handleIconSearch:function e(t){const o=t.getSource().getValue();const s=[];if(o&&o.length>0){s.push(new I("tags",S.Contains,o))}const n=this.controlMap.get(`${this.getId()}-iconList`);const a=n.getBinding("items");a?.filter(s)},_handleColorSelect:function e(t,o){const s=t?.getParameter("value")||o||"";const n=this.selectedContext.getObject();const a=!n.spaceId;const i=this._convertColorToLegend(s);const l=n?.BGColor?.key;if(a){const e=n;const t=this.keyuserSpaceColorChanges.find(t=>t.spaceId===e.id);if(t){t.BGColor=i;t.applyColorToAllPages=e.applyColorToAllPages;t.oldApplyColorToAllPages=e.persistedApplyColorToAllPages}else{this.keyuserSpaceColorChanges.push({spaceId:e.id,BGColor:i,oldColor:l,applyColorToAllPages:e.applyColorToAllPages,oldApplyColorToAllPages:e.persistedApplyColorToAllPages})}if(e.applyColorToAllPages){this._applyInnerPageColoring(e,i,s,true)}this.controlModel.setProperty("BGColor/key",i,this.selectedContext);this.controlModel.setProperty("BGColor/value",s,this.selectedContext);this.controlModel.setProperty("isSpacePersonalization",true,this.selectedContext)}else{const e=n;const t=this.keyuserPageColorChanges.find(t=>t.pageId===e.id);const o=this.controlModel.getProperty("/spaces").find(t=>t.id===e.spaceId);const a=o?.isSpacePersonalization;const r=this.keyuserSpaceColorChanges.find(e=>e.spaceId===o?.id);if(t){t.BGColor=i}else{this.keyuserPageColorChanges.push({pageId:e.id,spaceId:e.spaceId,BGColor:i,oldColor:a&&!e.isPagePersonalization?r?.oldColor:l})}this.controlModel.setProperty("BGColor/key",i,this.selectedContext);this.controlModel.setProperty("BGColor/value",s,this.selectedContext);this.controlModel.setProperty("isPagePersonalization",true,this.selectedContext)}},_handleIconSelect:function e(t){const o=t.getIcon();const s=this.selectedContext.getObject();const n=!s.spaceId;if(n){const e=s;const t=this.keyuserSpaceIconChanges.find(t=>t.spaceId===e.id);if(t){t.icon=o}else{this.keyuserSpaceIconChanges.push({spaceId:e.id,icon:o,oldIcon:e.icon})}const n=this._getInnerPages(e).filter(e=>!e.page.isPageIconPersonalization);n.forEach(e=>{this.controlModel.setProperty(e.bindingPath+"/icon",o)});this.controlModel.setProperty("icon",o,this.selectedContext);this.controlModel.setProperty("isSpaceIconPersonalization",true,this.selectedContext)}else{const e=s;const t=this.keyuserPageIconChanges.find(t=>t.pageId===e.id);const n=this.controlModel.getProperty("/spaces").find(t=>t.id===e.spaceId);const a=n?.isSpaceIconPersonalization;const i=this.keyuserSpaceIconChanges.find(e=>e.spaceId===n?.id);if(t){t.icon=o}else{this.keyuserPageIconChanges.push({pageId:e.id,spaceId:e.spaceId,icon:o,oldIcon:a&&!e.isPageIconPersonalization?i?.oldIcon:s.icon})}this.controlModel.setProperty("icon",o,this.selectedContext);this.controlModel.setProperty("isPageIconPersonalization",true,this.selectedContext)}},_convertColorToLegend:function e(t){let o=G().find(function(e){return e.value===t});return o?o.key:L().key},_handleSwitchChange:function e(t){const o=this.selectedContext.getObject();const s=t.getParameter("state");const n=this.keyuserSpaceColorChanges.find(e=>e.spaceId===o.id);if(n){n.applyColorToAllPages=o.applyColorToAllPages}else{this._handleColorSelect(null,o.BGColor?.value)}const a=s?o.BGColor?.key:L().key;const i=s?o.BGColor?.value:L().value;this._applyInnerPageColoring(o,a,i,s)},_applyInnerPageColoring:function e(t,o,s,n){const a=this._getInnerPages(t);a.forEach(e=>{if(!n&&e.page.isPagePersonalization){const t=this.keyuserPageColorChanges.find(function(t){return t.pageId===e.page.id});if(t){const o=t.BGColor;this.controlModel.setProperty(e.bindingPath+"/BGColor/key",o);this.controlModel.setProperty(e.bindingPath+"/BGColor/value",y.get({name:o}))}else{this.controlModel.setProperty(e.bindingPath+"/BGColor/key",e.page.oldColor?.key);this.controlModel.setProperty(e.bindingPath+"/BGColor/value",e.page.oldColor?.value)}}else{this.controlModel.setProperty(e.bindingPath+"/BGColor/key",o);this.controlModel.setProperty(e.bindingPath+"/BGColor/value",s)}})},_getInnerPages:function e(t){return t.children.map((e,t)=>({page:e,bindingPath:this.selectedContext.getPath()+"/children/"+t}))},_mergeKeyUserChanges:function e(){const t=this._getPanel();const o=t.getParent();const s=o.getParent();if(this.keyuserSpaceColorChanges.length){const e={selectorControl:s,changeSpecificData:{changeType:$.SPACE_COLOR,content:[...this.keyuserSpaceColorChanges]}};this.addKeyUserChanges(e)}if(this.keyuserPageColorChanges.length){const e={selectorControl:s,changeSpecificData:{changeType:$.PAGE_COLOR,content:[...this.keyuserPageColorChanges]}};this.addKeyUserChanges(e)}if(this.keyuserSpaceIconChanges.length){const e={selectorControl:s,changeSpecificData:{changeType:$.SPACE_ICON,content:[...this.keyuserSpaceIconChanges]}};this.addKeyUserChanges(e)}if(this.keyuserPageIconChanges.length){const e={selectorControl:s,changeSpecificData:{changeType:$.PAGE_ICON,content:[...this.keyuserPageIconChanges]}};this.addKeyUserChanges(e)}},_handleDialogClose:function e(){this._mergeKeyUserChanges();this._eventBus.publish("KeyUserChanges","addNewsPagesChanges",{changes:this.getKeyUserChanges()});const t=`${this.getId()}-keyUserPagesSettingsDialog`;this.controlMap.get(t).close()}});return z});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/KeyUserSettingsDialog", ["sap/m/Button","sap/m/NavContainer","sap/m/Page","sap/ui/core/Element","sap/ui/core/EventBus","./BaseSettingsDialog","./changeHandler/LayoutHandler","./flexibility/Layout.flexibility"],function(e,t,n,s,i,a,o,r){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function l(e,t,n){if(!e.s){if(n instanceof u){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=l.bind(null,e,t);return}}if(n&&n.then){n.then(l.bind(null,e,t),l.bind(null,e,2));return}e.s=t;e.v=n;const s=e.o;if(s){s(e)}}}const u=function(){function e(){}e.prototype.then=function(t,n){const s=new e;const i=this.s;if(i){const e=i&1?t:n;if(e){try{l(s,1,e(this.v))}catch(e){l(s,2,e)}return s}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){l(s,1,t?t(i):i)}else if(n){l(s,1,n(i))}else{l(s,2,i)}}catch(e){l(s,2,e)}};return s};return e}();function g(e){return e instanceof u&&e.s&1}function f(e,t,n){var s=-1,i,a;function o(r){try{while(++s<e.length&&(!n||!n())){r=t(s);if(r&&r.then){if(g(r)){r=r.v}else{r.then(o,a||(a=l.bind(null,i=new u,2)));return}}}if(i){l(i,1,r)}else{i=r}}catch(e){l(i||(i=new u),2,e)}}o();return i}const d=c(a);function p(e,t,n){if(typeof e[h]==="function"){var s=e[h](),i,a,o;function p(e){try{while(!(i=s.next()).done&&(!n||!n())){e=t(i.value);if(e&&e.then){if(g(e)){e=e.v}else{e.then(p,o||(o=l.bind(null,a=new u,2)));return}}}if(a){l(a,1,e)}else{a=e}}catch(e){l(a||(a=new u),2,e)}}p();if(s.return){var r=function(e){try{if(!i.done){s.return()}}catch(e){}return e};if(a&&a.then){return a.then(r,function(e){throw r(e)})}r()}return a}if(!("length"in e)){throw new TypeError("Object is not iterable")}var c=[];for(var d=0;d<e.length;d++){c.push(e[d])}return f(c,function(e){return t(c[e])},n)}const v=c(o);const y=r["CHANGE_TYPES"];const C=d.extend("sap.cux.home.KeyUserSettingsDialog",{metadata:{designtime:"not-adaptable-tree"},renderer:{apiVersion:2},init:function n(){d.prototype.init.call(this);this.controlMap=new Map;this.detailPageMap=new Map;this.setContentWidth("23.636rem");this.setContentHeight("23.33rem");this.setStretch(false);this.setShowHeader(false);this.addButton(new e(`${this.getId()}-dialog-save-btn`,{text:this._i18nBundle.getText("saveButton"),type:"Emphasized",press:this.saveChanges.bind(this)}));this.addButton(new e(`${this.getId()}-dialog-close-btn`,{text:this._i18nBundle.getText("XBUT_CLOSE"),type:"Transparent",press:this.handleCancel.bind(this)}));const s=`${this.getId()}-navContainer`;const a=new t(s);this.controlMap.set(s,a);this.addContent(this.controlMap.get(s));this._eventBus=i.getInstance();this._eventBus.subscribe("KeyUserChanges","disabledSaveBtn",(e,t,n)=>{this.getButtons()[0].setEnabled(!n?.disable)},this)},onBeforeRendering:function e(t){d.prototype.onBeforeRendering.call(this,t);const n=this.getNavContainer();n.removeAllPages();this.getPanels().forEach((e,t)=>{n.addPage(this.getPage(e,!t))});if(n.getPages()?.length){this.navigateToPage(n.getPages()[0])}},getPage:function e(t,i){const a=`${this.getId()}-${t.getId()}-page`;let o=this.controlMap.get(a);if(!o){const e=this.getNavContainer();o=new n(a,{title:t.getProperty("title"),showHeader:true,content:t.getAggregation("content"),backgroundDesign:"Transparent",showNavButton:i?false:true,navButtonPress:()=>e.back()});this.controlMap.set(a,o);const r=t.getAssociation("panel",null);const c=s.getElementById(r);const h=c?.getParent()?.getId();if(h){this.detailPageMap.set(h,o)}}return o},navigateToPage:function e(t){const n=t?.getId();const s=n?.substring(0,n.lastIndexOf("-page"));const i=this.getPanels().find(e=>s?.includes(e.getId()));i?.firePanelNavigated();const a=`${this.getId()}-navContainer`;const o=this.controlMap.get(a);if(t){o.to(t)}},getDetailsPage:function e(t){return this.detailPageMap.get(t)},hasDetailsPage:function e(t){return this.detailPageMap.has(t)},getNavContainer:function e(){const t=`${this.getId()}-navContainer`;return this.controlMap.get(t)},saveChanges:function e(){try{const e=this;return Promise.resolve(e.isValidChanges()).then(function(t){if(t){const t=e.getPanels();t.forEach(t=>{const n=t.getKeyUserChanges();if(n.length){e.createAndAddChanges(n);t.clearKeyUserChanges()}});t[1]?.onSaveClearChanges();e.close();v.resolve();v.clearChanges()}})}catch(e){return Promise.reject(e)}},isValidChanges:function e(){try{const e=this;let t=true;const n=e.getPanels()[1];const s=n?.getKeyUserChanges();const i=function(){if(Array.isArray(s)){return p(s,function(e){const s=function(){if(e.changeSpecificData.changeType===y.NEWS_FEED_URL){return Promise.resolve(n.isNewsChangesValid()).then(function(e){t=e})}}();if(s&&s.then)return s.then(function(){})})}}();return Promise.resolve(i&&i.then?i.then(function(){return t}):t)}catch(e){return Promise.reject(e)}},createAndAddChanges:function e(t){const n=[];t.forEach(e=>{n.push(e)});v.addChanges(n)},handleCancel:function e(){const t=this.getPanels();t.forEach(e=>{const t=e.getKeyUserChanges();if(t.length){e.clearKeyUserChanges()}});const n=this.getPanels()[1];n?.onCancelClearKeyUserChanges();v.resolve();v.clearChanges();this.close()}});return C});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/Layout", ["sap/base/Log","sap/ui/core/Element","sap/ushell/api/S4MyHome","sap/ushell/Container","./AdvancedSettingsPanel","./BaseLayout","./BaseLayoutRenderer","./ContentAdditionDialog","./InsightsCardsSettingsPanel","./InsightsTilesSettingsPanel","./KeyUserLayoutSettingsPanel","./KeyUserNewsPagesSettingsPanel","./KeyUserSettingsDialog","./LayoutSettingsPanel","./NewsAndPagesContainer","./NewsSettingsPanel","./NoDataContainer","./PagePanel","./PageSettingsPanel","./SettingsDialog","./ToDosContainer","./utils/Constants","./utils/DataFormatUtils","./utils/PerformanceUtils","./utils/PersonalisationUtils"],function(t,e,n,s,i,o,a,r,c,l,g,u,f,h,d,P,p,S,y,m,_,D,A,b,v){"use strict";function C(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const w=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function I(t,e,n){if(!t.s){if(n instanceof k){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=I.bind(null,t,e);return}}if(n&&n.then){n.then(I.bind(null,t,e),I.bind(null,t,2));return}t.s=e;t.v=n;const s=t.o;if(s){s(t)}}}const k=function(){function t(){}t.prototype.then=function(e,n){const s=new t;const i=this.s;if(i){const t=i&1?e:n;if(t){try{I(s,1,t(this.v))}catch(t){I(s,2,t)}return s}else{return this}}this.o=function(t){try{const i=t.v;if(t.s&1){I(s,1,e?e(i):i)}else if(n){I(s,1,n(i))}else{I(s,2,i)}}catch(t){I(s,2,t)}};return s};return t}();function N(t){return t instanceof k&&t.s&1}function U(t,e,n){var s=-1,i,o;function a(r){try{while(++s<t.length&&(!n||!n())){r=e(s);if(r&&r.then){if(N(r)){r=r.v}else{r.then(a,o||(o=I.bind(null,i=new k,2)));return}}}if(i){I(i,1,r)}else{i=r}}catch(t){I(i||(i=new k),2,t)}}a();return i}const x=C(i);function E(t,e,n){if(typeof t[w]==="function"){var s=t[w](),i,o,a;function g(t){try{while(!(i=s.next()).done&&(!n||!n())){t=e(i.value);if(t&&t.then){if(N(t)){t=t.v}else{t.then(g,a||(a=I.bind(null,o=new k,2)));return}}}if(o){I(o,1,t)}else{o=t}}catch(t){I(o||(o=new k),2,t)}}g();if(s.return){var r=function(t){try{if(!i.done){s.return()}}catch(t){}return t};if(o&&o.then){return o.then(r,function(t){throw r(t)})}r()}return o}if(!("length"in t)){throw new TypeError("Object is not iterable")}var c=[];for(var l=0;l<t.length;l++){c.push(t[l])}return U(c,function(t){return e(c[t])},n)}const T=C(o);function L(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const O=C(a);const B=C(r);const $=C(c);const V=C(l);const j=C(g);const H=C(u);const M=C(f);const K=C(h);const R=C(d);const F=C(P);const G=C(p);const Y=C(S);const q=C(y);const z=C(m);const J=C(_);const Q=D["SETTINGS_PANELS_KEYS"];const W=A["recycleId"];const X=b["setupPerformanceTracking"];const Z=C(v);const tt=T.extend("sap.cux.home.Layout",{renderer:O,metadata:{designtime:"sap/cux/home/designtime/Layout.designtime"},constructor:function t(e,n){T.prototype.constructor.call(this,e,n);this._shellUserActions=[];this._isDefaultSettingsDialog=false;this._customNoDataContainerPresent=true},init:function t(){T.prototype.init.call(this);this.setProperty("enableSettings",true);this.setProperty("enableFullScreen",true)},_addUserActions:function e(){try{const e=this;return Promise.resolve(L(function(){const t=function(){if(e.getVisible()&&!e._userActionsAdded){e._userActionsAdded=true;const t=[{icon:"sap-icon://edit",text:e._i18nBundle.getText("myHomeSettings"),tooltip:e._i18nBundle.getText("myHomeSettings"),press:()=>{void e.openSettingsDialog()}}];return Promise.resolve(s.getServiceAsync("Extension")).then(function(s){function i(){const t=t=>{const n=t.getParameter("isMyHomeRoute");e._shellUserActions.forEach(function(t){if(n){t.showOnHome()}else{t.hideOnHome()}})};n.attachRouteMatched({},t,e)}const o=E(t,function(t){return Promise.resolve(s.createUserAction(t,{controlType:"sap.ushell.ui.launchpad.ActionItem"})).then(function(t){t.showOnHome();e._shellUserActions.push(t)})});return o&&o.then?o.then(i):i(o)})}}();if(t&&t.then)return t.then(function(){})},function(e){t.warning("Unable to add User Actions",e instanceof Error?e.message:"")}))}catch(t){return Promise.reject(t)}},openSettingsDialog:function t(e="",n){try{const t=this;const s=t.getAggregation("settingsDialog");if(s.getPanels().length!==t._getSettingsPanels().length){t._addPanelsToSettingsDialog()}return Promise.resolve(t._calculateSectionsState()).then(function(){T.prototype.openSettingsDialog.call(t,e,n)})}catch(t){return Promise.reject(t)}},closeSettingsDialog:function t(){const e=this.getAggregation("settingsDialog");e?.close()},onBeforeRendering:function t(e){try{const t=this;T.prototype.onBeforeRendering.call(t,e);t._setupSettingsDialog();t._setupContentAdditionDialog();const n=t.getProperty("persContainerId");if(n){Z.setPersContainerId(n)}t.getNoDataContainer();if(!t._aOrderedSections){setTimeout(t._prepareLayoutData.bind(t))}t._setupKeyUserSettingsDialog();return Promise.resolve(X(t)).then(function(){return Promise.resolve(t._addUserActions()).then(function(){})})}catch(t){return Promise.reject(t)}},_setupSettingsDialog:function t(){const e=[];(this.getItems()||[]).forEach(t=>{t.setAssociation("layout",this);t.getContent().forEach(t=>{e.push(t);const n=t.getProperty("enableSettings");t.setProperty("enableSettings",n!==undefined?n:true)})});const n=this.getProperty("enableSettings");const s=this.getAggregation("settingsDialog");if(!s){this._isDefaultSettingsDialog=true;if(n){const t=this._getDefaultSettingsDialog(e);this.setSettingsDialog(t)}}},_getDefaultSettingsDialog:function t(e){const n=new z(`${this.getId()}-settings-dialog`);e.forEach(t=>{const e=this._getDefaultSettingsPanel(t);if(e){n.addPanel(e)}});const s=this._sortPanels(n.getPanels());n.removeAllPanels();s.forEach(t=>n.addPanel(t));n.insertPanel(this._getLayoutSettingsPanel(),0);n.addPanel(this._getAdvancedSettingsPanel());return n},_getDefaultSettingsPanel:function t(e){let n;const s=e.getMetadata().getName();switch(s){case"sap.cux.home.NewsPanel":n=new F(`${e.getId()}-news-settings`);break;case"sap.cux.home.PagePanel":n=new q(`${e.getId()}-page-settings`);break;case"sap.cux.home.TilesPanel":n=new V(`${e.getId()}-tiles-settings`);break;case"sap.cux.home.CardsPanel":n=new $(`${e.getId()}-cards-settings`);break;default:break}n?.setAssociation("panel",e);return n},_addPanelsToSettingsDialog:function t(){const e=this.getAggregation("settingsDialog");const n=this._sortPanels(e.getPanels());e.removeAllPanels();n.forEach(t=>e.addPanel(t));if(this._isDefaultSettingsDialog){const t=e.getPanels();const n=this._getLayoutSettingsPanel();const s=this._getAdvancedSettingsPanel();if(t.indexOf(n)!==0){e.insertPanel(n,0)}if(t.indexOf(s)!==t.length-1){e.addPanel(s)}}this._addSettingsPanel(e.getPanels(),true)},_sortPanels:function t(e){return Object.keys(Q).map(t=>e.find(e=>e?.getProperty("key")===t)).filter(Boolean)},_getAdvancedSettingsPanel:function t(){if(!this._advancedSettingsPanel){this._advancedSettingsPanel=new x(`${this.getId()}-advanced-settings`);this._advancedSettingsPanel.setAssociation("panel",this)}return this._advancedSettingsPanel},_getLayoutSettingsPanel:function t(){if(!this._layoutSettingsPanel){this._layoutSettingsPanel=new K(`${this.getId()}-layout-settings`);this._layoutSettingsPanel.setAssociation("panel",this)}return this._layoutSettingsPanel},getNoDataContainer:function t(){if(!this._noDataContainer){this._noDataContainer=this.getItems().find(t=>t instanceof G);if(!this._noDataContainer){this._customNoDataContainerPresent=false;this._noDataContainer=new G(W(`${this.getId()}-noDataContainer`))}this._noDataContainer.setVisible(false)}return this._noDataContainer},_prepareLayoutData:function t(){let n=false;const s=this.getProperty("expanded");const i=this._aOrderedSections?.map(t=>e.getElementById(t.completeId))||[];const o=s&&i.length?i:this.getItems();const a=[];o.forEach(t=>{if(t!==this.getNoDataContainer()){const e=t.getId();let s=t.getProperty("title");if(!s){s=t.getTooltip()}const i=t.getVisible();const o=t.getCustomSettings();a.push({completeId:e,sContainerType:t.getMetadata().getName(),blocked:false,visible:t.getProperty("visible"),title:o.title||s,text:o.text});if(i){n=true}}});this._aOrderedSections=a;if(!this.getProperty("expanded")){this.setNoDataContainerVisibility(!n)}},setNoDataContainerVisibility:function t(e){const n=this.getNoDataContainer();n?.setVisible(e);if(!this._customNoDataContainerPresent){if(e){this.insertItem(n,0)}else{this.removeItem(n)}}},_calculateSectionsState:function t(){try{const t=this;const e=t.getAggregation("settingsDialog");const n=e.getPanels();t._isCustomNews=false;n.forEach(e=>{if(e instanceof F){t._isCustomNews=true}if(e instanceof x){e.resetImportModel(true)}});return Promise.resolve(t.setSectionDetails()).then(function(){})}catch(t){return Promise.reject(t)}},setSectionDetails:function t(){try{const t=this;const e=t.getItems();const n=E(e,function(e){function n(){t._aOrderedSections?.forEach(t=>{if(t.completeId===i){t.blocked=s;t.visible=e.getVisible()}})}let s=false;const i=e.getId();const o=function(){if(e instanceof R&&e.getVisible()){function n(t){s=t}const i=e.getContent();const o=i.length;return o?Promise.resolve(t.checkPagesBlocked(i)).then(n):n(false)}else if(e instanceof J){s=t.checkToDoBlocked(e)}}();return o&&o.then?o.then(n):n(o)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},checkPagesBlocked:function t(e){try{const n=this;function s(){return!n._pagesAvailable&&!n._isCustomNews?true:false}const i=E(e,function(t){const e=function(){if(t instanceof Y){return Promise.resolve(t.getUserAvailablePages()).then(function(t){n._pagesAvailable=t.length>0})}}();if(e&&e.then)return e.then(function(){})});return Promise.resolve(i&&i.then?i.then(s):s(i))}catch(o){return Promise.reject(o)}},checkToDoBlocked:function t(e){if(!e.getVisible()){const t=e.getContent();if(t.length===0){this._toDoAccessible=false;return true}}return false},_setupKeyUserSettingsDialog:function t(){const e=this.getAggregation("keyUserSettingsDialog");if(!e){const t=new M(`${this.getId()}-keyUser-settings-dialog`);const e=new j(`${this.getId()}-keyUser-layout-settings`);e.setAssociation("panel",this);t.addPanel(e);(this.getItems()||[]).forEach(e=>{if(e instanceof R){const n=new H(`${this.getId()}-keyUser-news-pages-settings`);n.setAssociation("panel",e.getContent()?.[0]);t.addPanel(n)}});this.setAggregation("keyUserSettingsDialog",t)}},getpagesAvailable:function t(){return this._pagesAvailable},isToDoAccessible:function t(){return this._toDoAccessible},customNewAvailable:function t(){return this._isCustomNews},getSections:function t(){return this._aOrderedSections},setSections:function t(e){this._aOrderedSections=e},resetSections:function t(){this._prepareLayoutData()},_setupContentAdditionDialog:function t(){let e=this.getAggregation("contentAdditionDialog");if(!e){e=new B(`${this.getId()}-content-addition-dialog`);this.setAggregation("contentAdditionDialog",e)}}});return tt});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/LayoutSettingsPanel", ["sap/base/Log","sap/m/Button","sap/m/Column","sap/m/ColumnListItem","sap/m/HBox","sap/m/MessageBox","sap/m/ObjectIdentifier","sap/m/Table","sap/m/Text","sap/m/ToggleButton","sap/m/VBox","sap/ui/core/Element","sap/ui/core/Icon","sap/ui/core/Lib","sap/ui/model/json/JSONModel","./BaseSettingsPanel","./flexibility/Layout.flexibility","./utils/Accessibility","./utils/Constants","./utils/DragDropUtils","./utils/PersonalisationUtils"],function(e,t,n,s,i,o,a,r,l,c,d,u,g,h,m,p,_,f,y,I,S){"use strict";function C(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const x=C(p);const T=_["CHANGE_TYPES"];const E=f["getInvisibleText"];const P=y["SETTINGS_PANELS_KEYS"];const B=I["focusDraggedItem"];const b=C(S);const L=x.extend("sap.cux.home.LayoutSettingsPanel",{metadata:{library:"sap.cux.home"},constructor:function e(t,n){x.prototype.constructor.call(this,t,n);this._isCollapseHandlerAttached=false},init:function e(){x.prototype.init.call(this);this.setProperty("key",P.LAYOUT);this.setProperty("title",this._i18nBundle.getText("layout"));this.setProperty("icon","sap-icon://grid");this._resetActionButton=new t({id:`${this.getId()}-layoutResetBtn`,text:this._i18nBundle.getText("resetButton"),press:()=>this.resetMyhomeSettings()});this.addActionButton(this._resetActionButton);this.addAggregation("content",this._getContent());this.attachPanelNavigated(()=>void this._loadSections());this._manageSectionsChanges=[]},createShowHideChangeFile:function e(t){try{const e=this;const n=t.getSource();const s=!n.getPressed();const i=n.getBindingContext()?.getObject();i.visible=s;e._getPanel().getSections().find(e=>e.completeId===i.completeId).visible=s;const o=s?T.UNHIDE:T.HIDE;const a=u.getElementById(i.completeId);e._manageSectionsChanges.push({selectorElement:a,changeSpecificData:{changeType:o}});return Promise.resolve(e._saveManageSectionsDialog()).then(function(){setTimeout(()=>a.adjustLayout());if(!s){e._switchToCollapsedViewIfRequired([a])}})}catch(e){return Promise.reject(e)}},_switchToCollapsedViewIfRequired:function e(t){const n=this._getPanel();const s=n.getProperty("expanded");const i=t.filter(e=>n._getCurrentExpandedElementName()===e.getProperty("fullScreenName"));if(s){n.toggleFullScreen(i[0]._getSelectedPanel())}},_loadSections:function e(){try{const e=this;const t=e._getPanel();return Promise.resolve(t._calculateSectionsState()).then(function(){e._orderedSections=JSON.parse(JSON.stringify(t.getSections()));e._orderedSections.forEach(t=>{if(t.sContainerType==="sap.cux.home.InsightsContainer"&&!t.title){t.title=String(e._i18nBundle?.getText("insights"))}});e._controlModel=new m(e._orderedSections);e._layoutTable.setModel(e._controlModel);e._layoutTable.bindItems({path:"/",factory:t=>{if(!e._dndInvisibleText||e._dndInvisibleText.isDestroyed()){e._dndInvisibleText=E(e.getId()+"--layoutDndText",e._i18nBundle.getText("keyPressAriaText"))}return new s(`${t}--columnListItem`,{type:"Inactive",cells:[new i(`${t}--columnListHBox`,{alignItems:"Center",items:[new g(`${t}--columnListIcon`,{src:"sap-icon://vertical-grip"}).addStyleClass("sapUiSmallMarginEnd"),new i(`${t}--columnListItemHBox`,{justifyContent:"SpaceBetween",alignItems:"Center",width:"100%",items:[new a(`${t}--columnListObjectIdentifier`,{title:"{title}",text:"{text}",tooltip:"{title}"}),new c(`${t}--layoutSettingstoggleButton`,{tooltip:"{= ${visible} ? '"+e._i18nBundle.getText("hideBtn")+"' : '"+e._i18nBundle.getText("showBtn")+"' }",icon:"sap-icon://show",type:"Emphasized",enabled:"{= !${blocked}}",press:t=>{void e.createShowHideChangeFile(t)},pressed:"{= !${visible}}",ariaLabelledBy:["selectLabel"]}).addStyleClass("sapUiTinyMarginEnd sapUiTinyMarginTop")]}),e._dndInvisibleText],width:"100%"})],ariaLabelledBy:[e._dndInvisibleText.getId()]}).addStyleClass("insightsListItem insightsListMargin")}});if(!e._isCollapseHandlerAttached){e._isCollapseHandlerAttached=true;t.attachEvent("onCollapse",()=>e._rearrangeLayoutIfRequired())}})}catch(e){return Promise.reject(e)}},_rearrangeLayoutIfRequired:function e(){const t=this._getPanel();const n=t.getItems();if(Array.isArray(this._allLayoutElements)&&n.length===this._allLayoutElements.length){const e=n.some((e,t)=>e.getId()!==this._allLayoutElements[t].getId());if(e){t.removeAllItems();this._allLayoutElements.forEach(e=>{t.addItem(e)})}}},_getContent:function e(){const t=this._setHeaderIntro();const n=this.setLayoutTable();const s=E(this.getId()+"--titleText",this._i18nBundle.getText("layout"));const i=new d(this.getId()+"--idNewsPageOuterVBoX",{alignItems:"Start",justifyContent:"SpaceBetween",renderType:"Bare",items:[s,t,n]});[s,t].forEach(e=>{this._resetActionButton.addAriaLabelledBy(e.getId())});return i},_setHeaderIntro:function e(){const t=new l(this.getId()+"--idCustLayoutText",{text:this._i18nBundle.getText("layoutIntroMsg")});const n=new d(this.getId()+"--idLayoutIntroText",{backgroundDesign:"Solid",alignItems:"Start",justifyContent:"SpaceBetween",items:[t],renderType:"Bare"}).addStyleClass("sapUiSmallMargin");return n},setLayoutTable:function e(){if(!this._layoutTable){this._layoutTable=new r(this.getId()+"--idManageSectionsTable",{width:"calc(100% - 2rem)",items:[],columns:[new n(this.getId()+"--idSectionTitleColumn",{width:"100%"})]}).addStyleClass("sapContrastPlus sapUiSmallMarginBeginEnd sapUiTinyMarginBottom");this.addDragDropConfigTo(this._layoutTable,e=>void this.onDropManageSections(e))}return this._layoutTable},_saveManageSectionsDialog:function e(){try{const e=this;return Promise.resolve(e._persistUserChanges({changes:e._manageSectionsChanges,appComponent:b.getOwnerComponent(e._getPanel())}).then(()=>{const t=e._layoutTable.getModel();t.refresh();e._controlModel.refresh()}).finally(()=>{e._manageSectionsChanges=[]}))}catch(e){return Promise.reject(e)}},_persistUserChanges:function t(n){return h.load({name:"sap.ui.fl"}).then(function(){return new Promise(function(t,s){sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],function(i){i.add({changes:n.changes,ignoreVariantManagement:true}).then(function(e){return t(i.save({selector:{appComponent:n.appComponent},changes:e}))}).catch(function(t){if(t instanceof Error){e.error("Unable to Save User Change: "+t.message);return s(t)}})})})})},_getActualIndex:function e(t){const n=this._getPanel();this._allLayoutElements=this._allLayoutElements||[...n.getItems()];const s=n.getProperty("expanded");const i=n._getCurrentExpandedElement();if(s&&i){if(!this._allLayoutElements.some(e=>e.getId()===i.targetContainer.getId())){this._allLayoutElements.splice(i.index,0,i.targetContainer)}}return this._allLayoutElements.findIndex(e=>e.getId()===t)},_rearrangeLayoutElements:function e(t,n){const s=this._allLayoutElements.splice(t,1)[0];this._allLayoutElements.splice(n,0,s);const i=this._getPanel();const o=i.getProperty("expanded");const a=i._getCurrentExpandedElement();if(o&&a){const e=a.sourceElements.values().next().value;i.updateFullScreenElement(e,{index:this._allLayoutElements.indexOf(a.targetContainer)})}},onDropManageSections:function e(t){try{const n=this;function s(){B(n._layoutTable,c)}const i=n._getPanel();const o=i.getId();const a=t.getParameter?.("draggedControl")||t.draggedControl;const r=a.getParent()?.indexOfItem(a);const l=t.getParameter?.("droppedControl")||t.droppedControl;const c=a.getParent()?.indexOfItem(l);const d=function(){if(r!==c){const e=n._orderedSections;const t=a.getBindingContext()?.getObject();const s=l.getBindingContext()?.getObject();const d=n._getActualIndex(t.completeId);const g=n._getActualIndex(s.completeId);n._rearrangeLayoutElements(d,g);e.splice(r,1);e.splice(c,0,t);i.setSections(e);n._manageSectionsChanges.push({selectorElement:i,changeSpecificData:{changeType:T.MOVE,movedElements:[{id:t.completeId,sourceIndex:d,targetIndex:g}],source:{id:o,aggregation:"items"},target:{id:o,aggregation:"items"}}});return Promise.resolve(n._saveManageSectionsDialog()).then(function(){const e=u.getElementById(t.completeId);const i=u.getElementById(s.completeId);n._switchToCollapsedViewIfRequired([e,i])})}}();return Promise.resolve(d&&d.then?d.then(s):s(d))}catch(g){return Promise.reject(g)}},resetMyhomeSettings:function e(){const t=this;o.show(this._i18nBundle.getText("reset_cards_confirmation_msg"),{id:"resetCardsConfirmation",icon:o.Icon.QUESTION,title:this._i18nBundle.getText("reset_cards_confirmation_title"),actions:[this._i18nBundle.getText("reset_cards_button"),o.Action.CANCEL],onClose:function(e){try{const n=function(){if(e===t._i18nBundle.getText("reset_cards_button")){const e=[];for(let n of t._orderedSections){const t=u.getElementById(n.completeId);e.push(t)}e.push(t._getPanel());return Promise.resolve(h.load({name:"sap.ui.fl"}).then(()=>{sap.ui.require(["sap/ui/fl/write/api/ControlPersonalizationWriteAPI"],n=>{void n.reset({selectors:e,changeTypes:[T.MOVE,T.UNHIDE,T.HIDE]}).finally(()=>{const e=t._getPanel();e.resetSections();e.closeSettingsDialog()})})})).then(function(){})}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}})}});return L});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/MenuItem", ["sap/ui/core/Element"],function(i){"use strict";const e=i.extend("sap.cux.home.MenuItem",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"",visibility:"public"},type:{type:"string",group:"Misc",defaultValue:"Active",visibility:"public"},visible:{type:"boolean",group:"Misc",defaultValue:true,visibility:"public"}},events:{press:{}}},constructor:function e(t,u){i.prototype.constructor.call(this,t,u)}});return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NewsAndPagesContainer", ["./BaseContainer","./utils/placeholder/NewsAndPagesPlaceholder","./library","./utils/Device"],function(e,t,s,n){"use strict";function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const a=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function o(e,t,s){if(!e.s){if(s instanceof r){if(s.s){if(t&1){t=s.s}s=s.v}else{s.o=o.bind(null,e,t);return}}if(s&&s.then){s.then(o.bind(null,e,t),o.bind(null,e,2));return}e.s=t;e.v=s;const n=e.o;if(n){n(e)}}}const r=function(){function e(){}e.prototype.then=function(t,s){const n=new e;const i=this.s;if(i){const e=i&1?t:s;if(e){try{o(n,1,e(this.v))}catch(e){o(n,2,e)}return n}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){o(n,1,t?t(i):i)}else if(s){o(n,1,s(i))}else{o(n,2,i)}}catch(e){o(n,2,e)}};return n};return e}();function l(e){return e instanceof r&&e.s&1}function h(e,t,s){var n=-1,i,a;function h(c){try{while(++n<e.length&&(!s||!s())){c=t(n);if(c&&c.then){if(l(c)){c=c.v}else{c.then(h,a||(a=o.bind(null,i=new r,2)));return}}}if(i){o(i,1,c)}else{i=c}}catch(e){o(i||(i=new r),2,e)}}h();return i}const c=i(e);function u(e,t,s){if(typeof e[a]==="function"){var n=e[a](),i,c,u;function g(e){try{while(!(i=n.next()).done&&(!s||!s())){e=t(i.value);if(e&&e.then){if(l(e)){e=e.v}else{e.then(g,u||(u=o.bind(null,c=new r,2)));return}}}if(c){o(c,1,e)}else{c=e}}catch(e){o(c||(c=new r),2,e)}}g();if(n.return){var d=function(e){try{if(!i.done){n.return()}}catch(e){}return e};if(c&&c.then){return c.then(d,function(e){throw d(e)})}d()}return c}if(!("length"in e)){throw new TypeError("Object is not iterable")}var f=[];for(var p=0;p<e.length;p++){f.push(e[p])}return h(f,function(e){return t(f[e])},s)}const d=t["getNewsPagesPlaceholder"];const f=s["NewsType"];const p=s["OrientationType"];const g=n["DeviceType"];const y=c.extend("sap.cux.home.NewsAndPagesContainer",{metadata:{properties:{colorPersonalizations:{type:"array",group:"Misc",defaultValue:[],visibility:"hidden"},iconPersonalizations:{type:"array",group:"Misc",defaultValue:[],visibility:"hidden"},newsFeedVisibility:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"}}},renderer:{...c.renderer,apiVersion:2},constructor:function e(t,s){c.prototype.constructor.call(this,t,s);this.panelLoaded={};this.keyUserChange=false;this.isEndUserChange={isEndUser:false,newsType:f.None}},init:function e(){c.prototype.init.call(this);this.panelLoaded={};this.setProperty("orientation",this.getDeviceType()===g.Desktop||this.getDeviceType()===g.LargeDesktop||this.getDeviceType()===g.XLargeDesktop?p.Horizontal:p.Vertical);this.addCustomSetting("title",this._i18nBundle.getText("myInterestMsg"));this.addStyleClass("sapCuxNewsAndPagesContainer")},load:function e(){try{const e=this;const t=e.getContent();const s=u(t,function(t){if(!e.keyUserChange){e.checkEndUserChanges(t)}return Promise.resolve(t.getData()).then(function(){const s=e.getProperty("newsFeedVisibility");if(t&&t.getMetadata().getName()==="sap.cux.home.NewsPanel"&&!s){t.setVisible(false)}})});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},setColorPersonalizations:function e(t){const s=this.getProperty("colorPersonalizations")||[];const n=s.concat(t);this.setProperty("colorPersonalizations",n);this.getContent().forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){e.applyColorPersonalizations(n)}});return this},setIconPersonalizations:function e(t){const s=this.getProperty("iconPersonalizations")||[];const n=s.concat(t);this.setProperty("iconPersonalizations",n);this.getContent().forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){e.applyIconPersonalizations(n)}});return this},checkEndUserChanges:function e(t){if(t.getMetadata().getName()==="sap.cux.home.NewsPanel"&&t.getProperty("url")&&!this.keyUserChange){this.isEndUserChange.isEndUser=true}},getIsEndUserChange:function e(){return this.isEndUserChange},newsVisibilityChangeHandler:function e(t){const s=this.getContent();s.forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"){let s=e;if(t.isNewsFeedVisible){this.setProperty("newsFeedVisibility",true);s.setVisible(true)}else{this.setProperty("newsFeedVisibility",false);s.setVisible(false)}}})},newsPersonalization:function e(t){const s=this.getContent();let n;s.forEach(e=>{this.checkEndUserChanges(e);if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"&&!this.isEndUserChange.isEndUser){let s=e;const i=Boolean(this.getProperty("newsFeedVisibility"));this.keyUserChange=true;if(t.showCustomNewsFeed){n=f.Custom}else if(t.showRssNewsFeed){n=f.NewsUrl}else{n=f.Default}s.setProperty("type",n);s.setProperty("url",t.newsFeedURL);s.setProperty("customFeedKey",t.customNewsFeedKey);s.setProperty("customFileName",t.customNewsFeedFileName);if(i){const e=t.newsFeedURL;s.setVisible(true);const n=String(s.getProperty("customFeedKey"));if(t.showCustomNewsFeed&&n){s.setProperty("newsAvailable",true);void s.setCustomNewsFeed(n)}else if(t.showDefaultNewsFeed){void s.setDefaultNews()}else if(t.showRssNewsFeed&&e){void s.setURL(e)}else{s.setVisible(false);this.setProperty("newsFeedVisibility",false)}}}})},panelLoadedFn:function e(t,s){const n=this.getContent();n.forEach(e=>{if(e.getMetadata().getName()==="sap.cux.home.PagePanel"){this.pagePanel=e}else if(e.getMetadata().getName()==="sap.cux.home.NewsPanel"){this.newsPanel=e}});this.panelLoaded[t]=s;this.adjustLayout()},adjustStyleLayout:function e(t){const s=this.getDeviceType();const n=this.newsPanel?this.newsPanel.getContent()?.[0]:undefined;const i=this.pagePanel?this.pagePanel.getContent()?.[0]:undefined;if(t){this.newsPanel.adjustLayout()}if(s===g.Desktop||s===g.LargeDesktop||s===g.XLargeDesktop){if(t){i?.setWidth("100%")}this.setOrientation(p.Horizontal);n?.setWidth("100%");n?.addStyleClass("newsTileMaxWidth")}else if(s===g.Tablet){this.setOrientation(p.Vertical);i?.setWidth("100%");i?.setJustifyContent("Start");n?.setWidth("calc(100vw - 64px)");n?.removeStyleClass("newsTileMaxWidth")}else{this.setOrientation(p.Vertical);n?.setWidth("calc(100vw - 16px)")}if(i){setTimeout(this.pagePanel.attachResizeHandler.bind(this.pagePanel,t,this.getDomRef()?.clientWidth||0,i))}},adjustLayout:function e(){if(this.pagePanel&&this.newsPanel&&this.newsPanel.getVisible()){let e=true;if(this.panelLoaded["Page"]?.loaded||this.panelLoaded["News"]?.loaded){if(this.panelLoaded["News"]?.loaded===false){e=false;this.removeContent(this.newsPanel)}else if(this.panelLoaded["Page"]?.loaded===false){this.removeContent(this.pagePanel)}this.adjustStyleLayout(e)}}else if(this.pagePanel&&this.panelLoaded["Page"]?.loaded){this.adjustStyleLayout(false)}},getGenericPlaceholderContent:function e(){return d()}});return y});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NewsGroup", ["sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/Image","sap/m/Label","sap/m/library","sap/m/Link","sap/m/List","sap/m/ObjectStatus","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/HTML","sap/ui/core/Icon","sap/ui/core/library","./BaseNewsItem","./library","./NewsItem","./utils/DataFormatUtils","./utils/FESRUtil"],function(e,t,s,i,n,o,a,l,r,d,u,c,w,g,p,h,m,I,N,y,x,T,$){"use strict";function f(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const D=a["FlexAlignItems"];const S=a["FlexRendertype"];const L=a["Priority"];const C=I["TitleLevel"];const b=f(N);const B=y["NewsType"];const G=f(x);const _=T["recycleId"];const P=$["addFESRSemanticStepName"];const F=$["FESR_EVENTS"];const v=b.extend("sap.cux.home.NewsGroup",{metadata:{library:"sap.cux.home",aggregations:{newsItems:{type:"sap.cux.home.NewsItem",singularName:"newsItem",multiple:true}}},constructor:function e(t,s){b.prototype.constructor.call(this,t,s)},init:function e(){b.prototype.init.call(this);this._oTile.attachPress(this,this.pressNewsItem.bind(this));this.createNewsGroupDialog()},pressNewsItem:function e(t){const s=t.getSource();if(!s.getProperty("pressEnabled")){return}void this.openNewsGroupDialog()},openNewsGroupDialog:function e(){try{const t=this;function s(){t.oNewsGroupDialog?.setTitle(t.getTitle());t.oNewsGroupImage?.setSrc(r);t.loadNewsDetails(u);t.oNewsList?.setBusy(false)}t.oNewsList?.setBusy(true);const i=t.getParent();const n=i.getProperty("customFileName");const o=n.split(".").pop()?.toLowerCase()==="csv";const a=i.getParent().getIsEndUserChange();const l=a.newsType||i.getProperty("type");const r=t.getImageUrl();const d=i.getPersDataNewsFeed();let u=[];let c;const w=i.getUrl();let g=l===B.Default;const p=function(){if(!g){const e={changeId:i.getCustomFeedKey(),title:t.getTitle(),showAllPreparationRequired:o?false:!d?true:d.showAllPreparationRequired};t.oNewsGroupDialog?.open();const s=a.isEndUser?w:i.getNewsFeedDetailsUrl(e);return Promise.resolve(i.getAuthNewsFeed(s,e.title)).then(function(e){u=e})}else{t.criticalStatus.setVisible(t.getPriority()===L.Medium);t.oNewsGroupDialog?.open();t.currentDefaultGroup=i.getCurrentNewsGroup(t.getId());u=t.currentDefaultGroup?._group_to_article||[];c=t.currentDefaultGroup?._group_to_image;if(c?.image_alt_text){t.oNewsGroupImage?.setAlt(c.image_alt_text)}}}();return Promise.resolve(p&&p.then?p.then(s):s(p))}catch(h){return Promise.reject(h)}},loadNewsDetails:function e(t){this.clearExistingNewsItems();const s=this.getParent();const i=s?.getNewsType()===B.Default;(t||[]).forEach((e,t)=>{const s=new G(_(`${this.getId()}--newsItem--${t}`),{title:i?e.title:e.Title.value,subTitle:i?e.subTitle:e.Description.value,footer:i?e.footer_text:"",imageUrl:i?this.getImageUrl():"",priority:i&&e.priority=="1"?L.Medium:L.None,priorityText:i&&e.priority=="1"?this._i18nBundle.getText("criticalNews"):""});this.addAggregation("newsItems",s);this.oNewsList?.addItem(this.generateNewsListTemplate(e,t))})},clearExistingNewsItems:function e(){this.oNewsList?.destroyAggregation("items",true);this.destroyAggregation("newsItems",true)},generateNewsListTemplate:function s(n,a){const r=this.getParent();const d=r?.getNewsType()===B.Default;if(!d){const s=new w(_(this.getId()+"--idNewsFieldsBox"+"--"+a)).addStyleClass("newsListItemContainer");(n?.expandFields||[]).forEach((e,t)=>{s.addItem(new i(_(this.getId()+"--idNewsFieldHBox--"+t),{items:[new o(_(this.getId()+"--idNewsFieldsLabel--"+t),{text:e.label+":",tooltip:e.label}),new u(_(this.getId()+"--idNewsFieldsValue--"+t),{text:e.value})]}).addStyleClass("newsListItemContainer"))});s.setVisible(false);const r=this._i18nBundle.getText("expand");const d=new e(`${this.getId()}--expand--${a}`,{text:r,press:this.handleShowNewsFeedDetails.bind(this),customData:new g({key:"index",value:a})});P(d,F.PRESS,r);return new t(_(`${this.getId()}--idNewsDetailItem--${a}`),{content:[new w(_(`${this.getId()}--newsList--${a}`),{items:[new c(_(`${this.getId()}--newsTitle--${a}`),{text:n.Title.value,titleStyle:"H6"}),new u(_(`${this.getId()}--newsText--${a}`),{text:n.Description.value}),new i(_(`${this.getId()}--newsHBox--${a}`),{items:[new o(_(`${this.getId()}--newsLabel--${a}`),{text:n.Type.label+":",tooltip:n.Type.label}),new u(_(`${this.getId()}--newsItemText--${a}`),{text:n.Type.value})]}).addStyleClass("newsListItemContainer"),new i(_(`${this.getId()}--newsListItemBox--${a}`),{items:[new o(_(`${this.getId()}--newsListItemLabel--${a}`),{text:this._i18nBundle.getText("readMoreLink")+":",tooltip:n.Link.value.label+""}),new l(_(`${this.getId()}--newsListItemLink--${a}`),{href:n.Link.value.value+"",text:n.Link.text,target:"_blank"})]}).addStyleClass("newsListItemContainer"),s,d]}).addStyleClass("newsListItemContainer")]}).addStyleClass("newsListItem")}else{return new t(_(`${this.getId()}--idDefaultNewsDetailItem--${a}`),{content:[new w(_(`${this.getId()}--defaultNewsItemVbox--${a}`),{renderType:S.Bare,items:[new i(_(`${this.getId()}--defaultNewsItemTitle--${a}`),{alignItems:D.Center,renderType:S.Bare,items:[new m(_(`${this.getId()}--newsPriorityIcon--${a}`),{src:"sap-icon://high-priority",width:"1rem",height:"1rem",size:"1rem",visible:n.priority==="1",tooltip:this._i18nBundle.getText("criticalNewsIcon")}).addStyleClass("newsCriticalIconColor"),new c(_(`${this.getId()}--newsTitle--${a}`),{text:n.title,titleStyle:C.H5})]}).addStyleClass("newsListItemContainer"),new c(_(`${this.getId()}--newsSubTitle--${a}`),{text:n.subTitle,visible:!!n.subTitle,titleStyle:C.H6}),new h(_(`${this.getId()}--defaultNewsItemHTML--${a}`),{content:`<div class="newsGroupHtmlContent">${n.description}</div>`})]}).addStyleClass("newsListItemContainer")]}).addStyleClass("newsListItem")}},createNewsGroupDialog:function t(){if(!this.oNewsGroupDialog){this.oNewsGroupImage=new n(_(`${this.getId()}-custNewsImage`),{width:"100%",height:"100%",src:"/resources/sap/cux/home/img/CustomNewsFeed/SupplyChain/3.jpg"}).addStyleClass("newsGroupDialogImage");this.oNewsList=new r(_(`${this.getId()}-custNewsList`)).addStyleClass("sapUiSmallMarginBottom");this.criticalStatus=new d(_(`${this.getId()}-newsDialogCriticalStatus`),{visible:false,text:this._i18nBundle.getText("criticalNews"),inverted:true,icon:"sap-icon://high-priority",state:"Warning"}).addStyleClass("newsGroupDialogPriorityStatus");let t=new w(_(`${this.getId()}-newsDialogPriorityVBox`),{renderType:S.Bare,height:"15rem",items:[this.oNewsGroupImage,this.criticalStatus]}).addStyleClass("newsDialogPriorityVBox");const i=new e(_(`${this.getId()}-custNewsFeedDetailsCloseBtn`),{text:this._i18nBundle.getText("XBUT_CLOSE"),press:this.closeNewsGroupDialog.bind(this),type:"Transparent"});P(i,F.PRESS,"newsDlgCloseBtn");this.oNewsGroupDialog=new s(_(`${this.getId()}-custNewsFeedDetailsDialog`),{title:this.getTitle()||"",contentWidth:"52rem",contentHeight:"calc(100% - 2.5rem)",content:[t,this.oNewsList],buttons:[i]});this.addDependent(this.oNewsGroupDialog)}},closeNewsGroupDialog:function e(){this.oNewsGroupDialog?.close()},handleShowNewsFeedDetails:function e(t){const s=t.getSource();const i=s.data("index");const n=p.getElementById(this.getId()+"--idNewsFieldsBox"+"--"+i);const o=n.getVisible();n.setVisible(!o);const a=o?this._i18nBundle.getText("expand"):this._i18nBundle.getText("collapse");s.setText(a);P(s,F.PRESS,a)}});return v});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NewsItem", ["sap/m/library","./BaseNewsItem"],function(t,e){"use strict";function r(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const s=t["URLHelper"];const i=r(e);const n=i.extend("sap.cux.home.NewsItem",{metadata:{library:"sap.cux.home",properties:{url:{type:"string",group:"Misc",defaultValue:""}}},constructor:function t(e,r){i.prototype.constructor.call(this,e,r)},init:function t(){i.prototype.init.call(this);this._oTile.attachPress(this,this.pressNewsItem.bind(this))},setUrl:function t(e){this._oTile.setUrl(e);return this.setProperty("url",e,true)},getUrl:function t(){return this.getProperty("url")},pressNewsItem:function t(){s.redirect(this.getUrl(),true)}});return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NewsPanel", ["sap/base/Log","sap/m/GenericTile","sap/m/SlideTile","sap/m/library","sap/ui/core/EventBus","sap/ui/core/format/DateFormat","sap/ui/model/xml/XMLModel","sap/ushell/Container","./BaseLayout","./BaseNewsPanel","./MenuItem","./NewsGroup","./NewsItem","./library","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/FESRUtil","./utils/HttpHelper","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(e,t,n,r,s,i,o,a,l,u,c,f,d,h,g,p,m,w,N,y,P){"use strict";function F(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function v(e,t,n){if(!e.s){if(n instanceof _){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=v.bind(null,e,t);return}}if(n&&n.then){n.then(v.bind(null,e,t),v.bind(null,e,2));return}e.s=t;e.v=n;const r=e.o;if(r){r(e)}}}const T=r["Priority"];const _=function(){function e(){}e.prototype.then=function(t,n){const r=new e;const s=this.s;if(s){const e=s&1?t:n;if(e){try{v(r,1,e(this.v))}catch(e){v(r,2,e)}return r}else{return this}}this.o=function(e){try{const s=e.v;if(e.s&1){v(r,1,t?t(s):s)}else if(n){v(r,1,n(s))}else{v(r,2,s)}}catch(e){v(r,2,e)}};return r};return e}();function b(e){return e instanceof _&&e.s&1}function E(e,t,n){var r;for(;;){var s=e();if(b(s)){s=s.v}if(!s){return i}if(s.then){r=0;break}var i=n();if(i&&i.then){if(b(i)){i=i.s}else{r=1;break}}if(t){var o=t();if(o&&o.then&&!b(o)){r=2;break}}}var a=new _;var l=v.bind(null,a,2);(r===0?s.then(c):r===1?i.then(u):o.then(f)).then(void 0,l);return a;function u(r){i=r;do{if(t){o=t();if(o&&o.then&&!b(o)){o.then(f).then(void 0,l);return}}s=e();if(!s||b(s)&&!s.v){v(a,1,i);return}if(s.then){s.then(c).then(void 0,l);return}i=n();if(b(i)){i=i.v}}while(!i||!i.then);i.then(u).then(void 0,l)}function c(e){if(e){i=n();if(i&&i.then){i.then(u).then(void 0,l)}else{u(i)}}else{v(a,1,i)}}function f(){if(s=e()){if(s.then){s.then(c).then(void 0,l)}else{c(s)}}else{v(a,1,i)}}}const D=F(l);function M(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const U=F(u);const C=F(c);const S=F(f);const I=F(d);const A=h["NewsType"];const L=g["DEFAULT_NEWS_PLACEHOLDER"];const V=g["DEFAULT_NEWS_URL"];const R=p["recycleId"];const x=m["DeviceType"];const O=w["addFESRId"];const j=F(N);const B=F(y);const $=F(P);const q="/sap/opu/odata4/ui2/insights_srv/srvd/ui2/",k=q+"insights_read_srv/0001/"+"NEWS_FEED",G=q+"insights_read_srv/0001/"+"NewsFeedColumnTranslation",J=7,W={LargeDesktop:"17rem",XLargeDesktop:"17rem",Desktop:"17rem",Tablet:"14rem",Mobile:"11rem"},X=function(e,t){return Array.from({length:t},function(t,n){return e+"/"+(n+1)+".jpg"})};const K={TITLE:"LineOfBusiness",LINK:"WhatsNewDocument",VALIDITY:"ValidAsOf",PREPARATION_REQUIRED:"PreparationRequired",EXCLUDE_FIELDS:["ChangeId","LineNumber","LineOfBusiness","SolutionArea","Title","Description","Type","ValidAsOf","WhatsNewDocument","Link"],IMAGE_URL:"sap/cux/home/img/CustomNewsFeed/",FESR_STEP_NAME:"custNewsSlide-press",EMPTY_DATA_ERROR_CODE:"NODATA"},z={"Application Platform and Infrastructure":X("ApplicationPlatformandInfrastructure",3),"Asset Management":X("AssetManagement",3),"Cross Applications":X("CrossApplications",3),Finance:X("Finance",3),Manufacturing:X("Manufacturing",3),"R&D / Engineering":X("RnDandEngineering",3),Sales:X("Sales",3),"Sourcing and Procurement":X("SourcingandProcurement",3),"Supply Chain":X("SupplyChain",3),default:["default.jpg"]};const H=U.extend("sap.cux.home.NewsPanel",{metadata:{library:"sap.cux.home",properties:{url:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},type:{type:"sap.cux.home.NewsType",group:"Misc",visibility:"hidden",defaultValue:A.Default},customFeedKey:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},customFileName:{type:"string",group:"Misc",defaultValue:""},newsAvailable:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"},supportedFileFormats:{type:"FileFormat[]",group:"Misc",defaultValue:["xlsx"],visibility:"hidden"}},aggregations:{newsGroup:{type:"sap.cux.home.NewsGroup",singularName:"newsGroup",multiple:true,visibility:"hidden"}}},constructor:function e(t,n){U.prototype.constructor.call(this,t,n);this._defaultNewsPromise=null;this._noUpdatesNewsFeed=false;this.customNewsFeedCache=new Map},init:function e(){U.prototype.init.call(this);const r=this.getDeviceType();this.oNewsTile=new n(this.getId()+"--idNewsSlide",{displayTime:2e4,width:"100%",height:W[r],tiles:[new t(this.getId()+"--placeholder",{state:"Loading",mode:"ArticleMode",frameType:"Stretch"})]}).addStyleClass("newsTileMaxWidth sapUiSmallMarginTop");O(this.oNewsTile,"newsSlidePress");this.getNewsWrapper().addContent(this.oNewsTile);this.getNewsWrapper().addStyleClass("newsWrapper");this.setProperty("title",this._i18nBundle.getText("newsTitle"));this._eventBus=s.getInstance();this.oManageMenuItem=new C(`${this.getId()}-manageNews`,{title:this._i18nBundle.getText("mngNews"),icon:"sap-icon://edit",press:this.handleEditNews.bind(this),visible:this.setManageNewsItemVisibility()});this.addAggregation("menuItems",this.oManageMenuItem);O(this.oManageMenuItem,"manageNews")},getData:function e(){try{let t=false;const n=this;function r(e){if(t)return e;n.fireEvent("loaded");n.adjustLayout()}let s=n.getUrl();let i=n.getProperty("type")===A.Custom;let o=n.getProperty("type")===A.Default;let a=n.getProperty("type")===A.NewsUrl;n.mandatoryNewsFeed=[];if(n.fetchedFeedUrl&&n.fetchedFeedUrl===s){return Promise.resolve()}const l=n.getParent().getIsEndUserChange();const u=function(){if(l.isEndUser){return Promise.resolve(fetch(s)).then(function(e){if(!e.ok){throw new Error(`HTTP error! status: ${e.status}`)}const t=e.headers.get("content-type");const r=function(){if(t&&t.includes("application/json")){return Promise.resolve(e.json()).then(function(e){n._endUserResponse=e;return Promise.resolve(n.setNewsFeedFromUrl(n._endUserResponse?.value)).then(function(){})})}else{l.newsType=A.NewsUrl;return Promise.resolve(n.initializeXmlModel(s)).then(function(e){n.oNewsModel=e;n.oNewsTile.setModel(n.oNewsModel);n.oManageMenuItem.setVisible(false)})}}();if(r&&r.then)return r.then(function(){})})}else{function e(){const e=function(){if(o){n.bNewsLoad=n.bNewsLoad||false;return Promise.resolve(n.setDefaultNews()).then(function(){})}else{const e=function(){if(s&&a){return Promise.resolve(n.initializeXmlModel(s)).then(function(e){n.oNewsModel=e;n.oNewsTile.setModel(n.oNewsModel);n.oManageMenuItem.setVisible(false)})}else{const e=function(){if(i){n.bNewsLoad=n.bNewsLoad||false;n.oManageMenuItem.setVisible(true);const e=n.getCustomFeedKey();const t=function(){if(e){return Promise.resolve(n.setCustomNewsFeed(e)).then(function(){})}else{n.handleFeedError()}}();if(t&&t.then)return t.then(function(){})}else{n.handleFeedError()}}();if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}const t=function(){if(!n.persDataNewsFeed){return Promise.resolve(n.setPersDataNewsFeed(o)).then(function(){})}}();return t&&t.then?t.then(e):e(t)}}();return Promise.resolve(u&&u.then?u.then(r):r(u))}catch(c){return Promise.reject(c)}},setDefaultNews:function e(){try{const e=this;let t=e.getUrl();const n=e.getParent().getIsEndUserChange().isEndUser;e.defaultUrl=n?t:V;e.fetchedFeedUrl=e.defaultUrl;e.setProperty("newsAvailable",true);e.generateErrorMessage().setVisible(false);e.setVisible(true);e.oManageMenuItem.setVisible(true);e.setManageNewsItemVisibility(true);return Promise.resolve(e.setCustomNewsFeed("")).then(function(){})}catch(e){return Promise.reject(e)}},setManageNewsItemVisibility:function e(t=true){if(this.isParentBaseLayout()&&this.oManageMenuItem){this.oManageMenuItem.setVisible(t);return t}this.oManageMenuItem?.setVisible(false);return false},isParentBaseLayout:function e(){const t=this.getParent();const n=t?._getLayout();return!!(n&&n instanceof D)},setPressEnabledForNewsGroup:function e(t=[]){const n=this.getAggregation("newsGroup");if(!Array.isArray(n))return;const r={};const s={};(this._defaultNewsResponse.value||[]).forEach(e=>{if(e?.description&&e.description.trim().length>0){e.description=this.removeInlineStylesFromDescription(e.description)}if(e?.group_id){const t=e._group_to_article||[];let n=false;t.forEach(e=>{if(e?.description&&e.description.trim().length>0){e.description=this.removeInlineStylesFromDescription(e.description);n=true}});r[e.group_id]=t;s[e.group_id]=n}});const i={};n.filter(e=>e instanceof S).forEach(e=>{const t=this.getCurrentNewsGroup(e.getId())?.group_id;if(t){i[t]=e}});t.forEach(e=>{if(!e.group_id)return;const t=i[e.group_id];if(t&&!s[e.group_id]){t.getTile()?.setProperty("pressEnabled",false)}})},removeInlineStylesFromDescription:function e(t){return t.replace(/\s*style\s*=\s*(['"])[\s\S]*?\1/gi,"")},getCurrentNewsGroup:function e(t){const n=this._defaultNewsResponse?.value;const r=t.split("-newsgroup-");const s=r.length>1?r[1]:null;if(!s||!n){return undefined}return s==="placeholderNews"?n[0]:n.find(e=>e.group_id===s)},getCustomFeedKey:function e(){return this.getProperty("customFeedKey")},getUrl:function e(){return this.getProperty("url")},initializeXmlModel:function e(t){try{const e=this;const n=e.getParent();return Promise.resolve(new Promise(r=>{const s=new o(t);e.fetchedFeedUrl=t;s.setDefaultBindingMode("OneWay");s.attachRequestCompleted(t=>{void function(){try{if(!e.bNewsLoad){n?.panelLoadedFn("News",{loaded:true,count:J});e.bNewsLoad=true}const i=t.getSource().getData();return Promise.resolve(e.loadNewsFeed(i,0)).then(function(){e._eventBus.publish("KeyUserChanges","newsFeedLoadFailed",{showError:false,date:new Date});r(s)})}catch(e){return Promise.reject(e)}}()});s.attachRequestFailed(()=>{e.handleFeedError();if(!e.bNewsLoad){n?.panelLoadedFn("News",{loaded:false,count:0});e.bNewsLoad=true}e._eventBus.publish("KeyUserChanges","newsFeedLoadFailed",{showError:true,date:new Date});r(s)})}))}catch(e){return Promise.reject(e)}},loadNewsFeed:function e(t,n){try{const r=this;function s(){if(!!t?.querySelector("rss")&&!!t?.querySelector("item")){i={path:"/channel/item/",length:n||J}}else if(!!t?.querySelector("atom")&&!!t?.querySelector("entry")){i={path:"/entry/",length:n||J}}else if((!!t?.querySelector("customFeed")||!!t?.querySelector("defaultFeed"))&&!!t?.querySelector("item")){r.destroyAggregation("newsGroup");i={path:"/item/",length:n||J}}else{r.handleFeedError();return}r.bindNewsTile(r.oNewsTile,i)}let i;const o=function(){if(!t?.querySelector("customFeed")&&!t?.querySelector("defaultFeed")){return Promise.resolve(r.extractAllImageUrls(t,n||J)).then(function(){})}}();return Promise.resolve(o&&o.then?o.then(s):s(o))}catch(a){return Promise.reject(a)}},handleFeedError:function e(){if(this.getNewsType()===A.Custom||this.getNewsType()===A.Default){this.generateErrorMessage().setVisible(true);if(!this.isParentBaseLayout()){this.setManageNewsButtonVisibility(false)}this.oNewsTile.setVisible(false)}else{this.setVisible(false);this.setProperty("newsAvailable",false);this.oManageMenuItem.setVisible(false)}},setURL:function e(t){try{const e=this;e.setProperty("type",A.NewsUrl);e.setProperty("newsAvailable",true);e.generateErrorMessage().setVisible(false);e.setVisible(true);e.oNewsTile.setVisible(true);e.setProperty("url",t);return Promise.resolve(e.getData()).then(function(){})}catch(e){return Promise.reject(e)}},adjustLayout:function e(){const t=this.getDeviceType();this.oNewsTile.setHeight(W[t]);if(t===x.Mobile){this.generateErrorMessage().setWidth("100%");this.oNewsTile.removeStyleClass("sapUiSmallMarginTop")}else{this.oNewsTile.addStyleClass("sapUiSmallMarginTop")}},bindNewsTile:function e(t,n){if(n){t.bindAggregation("tiles",{path:n.path,length:n.length,templateShareable:false,factory:(e,t)=>{const n=t.getObject();let r;if(n.getElementsByTagName("link").length>0){r=new I(R(`${e}-news-item`),{url:String(this.getPropertyValue(n,"link")??""),title:String(this.getPropertyValue(n,"title")??""),subTitle:String(this.getPropertyValue(n,"description")??""),imageUrl:String(this.getPropertyValue(n,"imageUrl")??""),footer:this.formatDate(String(this.getPropertyValue(n,"pubDate")??""))});this.addAggregation("newsItems",r,true)}else{let t=this.getPropertyValue(n,"group_id")??"";let s=t&&t.trim()?`${e}-newsgroup-${t}`:`${e}-newsgroup`;let i=this.getPropertyValue(n,"subTitle")??"";r=new S(R(s),{title:String(this.getPropertyValue(n,"title")??""),subTitle:i||this._i18nBundle.getText("newsFeedDescription"),imageUrl:String(this.getPropertyValue(n,"imageUrl")??""),footer:String(this.getPropertyValue(n,"footer")??""),priority:this.getPropertyValue(n,"priority"),priorityText:String(this.getPropertyValue(n,"priorityText")??"")});this.addAggregation("newsGroup",r,true)}return r.getTile()}})}},getPropertyValue:function e(t,n){return t.getElementsByTagName(n)?.[0]?.textContent},extractAllImageUrls:function e(t,n){try{const e=this;let r=0;const s=E(function(){return r<n},function(){return r++},function(){const n=t?.getElementsByTagName("item")[r];return Promise.resolve(e.extractImage(String(n.getElementsByTagName("link")[0].textContent??""))).then(function(e){const r=t.createElement("imageUrl");r.textContent=e;n.appendChild(r)})});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},formatDate:function e(t){const n=i.getDateTimeInstance({style:"medium",relative:true,relativeStyle:"short"});return n.format(new Date(t))},getPersDataNewsFeed:function e(){return this.persDataNewsFeed},extractImage:function e(t){const n=()=>{const e=sap.ui.require.toUrl("sap/cux/home/img");this.image=this.image?this.image+1:1;this.image=this.image<9?this.image:1;return`${e}/${this.image}.jpg`};return fetch(t).then(e=>e.text()).then(e=>{const t=e.match(/<meta[^>]*property=["']og:image["'][^>]*content=["']([^"']+)["'][^>]*>/i);return Array.isArray(t)&&t[1]?t[1]:n()}).catch(n)},getNewsType:function e(){return this.getParent()?.getIsEndUserChange?.()?.newsType||this.getProperty("type")},isCSVFileFormat:function e(t){return t.split(".").pop()?.toLowerCase()==="csv"},setPersDataNewsFeed:function e(t){try{const e=this;return Promise.resolve(e._getUserPersonalization()).then(function(n){return Promise.resolve(n?.read()).then(function(n){e.persDataNewsFeed=t?n?.defaultNewsFeed:n?.favNewsFeed})})}catch(e){return Promise.reject(e)}},setNewsFeedFromUrl:function e(t){try{const e=this;const n=t?.[0];const r=function(){if(n&&"group_id"in n&&"title"in n){e.getParent().getIsEndUserChange().newsType=A.Default;return Promise.resolve(e.setDefaultNews()).then(function(){})}else{const t=function(){if(n&&"LineOfBusiness"in n){e.getParent().getIsEndUserChange().newsType=A.Custom;e.oManageMenuItem.setVisible(true);return Promise.resolve(e.setCustomNewsFeed("")).then(function(){})}else{e.handleFeedError()}}();if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},setCustomNewsFeed:function t(n){try{const t=this;return Promise.resolve(M(function(){t.oNewsTile.setVisible(true);t.generateErrorMessage().setVisible(false);const e=t.getNewsType();const r=e===A.Default;return Promise.resolve(t.setPersDataNewsFeed(r)).then(function(){const e=t.getProperty("customFileName");const s=t.isCSVFileFormat(e)?false:t.persDataNewsFeed?.showAllPreparationRequired??true;if(t.isCSVFileFormat(e)){K.EXCLUDE_FIELDS.push("PreparationRequired")}const i=r?true:s;return Promise.resolve(t.getCustomOrDefaultNewsFeed(n||"",i)).then(function(e){if(e.length===0){throw new Error("Error: No news feed available")}const s=t.persDataNewsFeed?.items;const i=s?.length===0;if(!r&&i){t.getParent()?.panelLoadedFn("News",{loaded:true,count:0});throw new Error("Error: No fav news feed available")}if(s?.length){e=e.filter(e=>{if(r){return!s.includes(e.group_id)||t.mandatoryNewsFeed.includes(e.group_id)}else{return s.includes(e.title)}});if(e.length===0){t.getParent()?.panelLoadedFn("News",{loaded:true,count:0});throw new Error("Error: No news feed available after filtering")}}return Promise.resolve(t.loadCustomNewsFeed(e,n?"customFeed":"defaultFeed")).then(function(){if(r){t.fetchedFeedUrl=t.defaultUrl;t.setPressEnabledForNewsGroup(e)}else{t.fetchedFeedUrl=""}})})})},function(n){e.error(n);t.handleFeedError()}))}catch(e){return Promise.reject(e)}},filterMandatoryNews:function e(t){return t.filter(({mandatory_text:e,mandatory:t})=>e?.toUpperCase()==="TRUE"||t?.toUpperCase()==="X")},markGroupsWithCriticalArticles:function e(t){for(const e of t){const t=e._group_to_article?.find(e=>e.priority==="1");if(t){e.priority=t.priority;e.priorityText=t.priorityText}}},getDefaultNewsFeedDetails:function e(t){let n=JSON.parse(JSON.stringify(t.value||[]));const r=[];const s={};this.mandatoryNewsFeed=[];if(n?.length>0){this.mandatoryNewsFeed=this.filterMandatoryNews(n).map(e=>e.group_id||"");this.markGroupsWithCriticalArticles(n);for(const e of n){const t=e.title;let n="";if(!s[t]){n=e.subTitle||e.description||"";r.push({title:t,footer:e?.footer_text,imageUrl:this.getDefaultFeedImage(e),group_id:e.group_id,subTitle:n,priority:e?.priority=="1"?T.Medium:T.None,priorityText:e?.priority=="1"?this._i18nBundle.getText("criticalNews"):""});s[t]=t}}}return r},getMandatoryDefaultNewsFeed:function e(){return this.mandatoryNewsFeed||[]},getDefaultNewsResponse:function e(){if(this._defaultNewsResponse){return Promise.resolve(this._defaultNewsResponse)}if(!this._defaultNewsPromise){this._defaultNewsPromise=this.fetchDefaultNews()}return this._defaultNewsPromise},getNoUpdatesPlaceholder:function e(){const t=this._i18nBundle.getText("placeholderNewsTitle");const n=this._i18nBundle.getText("placeholderNewsDescription");const r={...L,value:L.value.map(e=>({...e,title:t,description:n,_group_to_article:e._group_to_article.map(e=>({...e,title:t,description:""}))}))};return r},isNoUpdatesNewsFeed:function e(){return this._noUpdatesNewsFeed},fetchDefaultNews:function t(){try{const t=this;return Promise.resolve(M(function(){return Promise.resolve(a.getServiceAsync("Navigation")).then(function(e){return Promise.resolve(e.isNavigationSupported([{target:{semanticObject:"NewsArticle",action:"display"}}])).then(function([{supported:e}]){let n=false;function r(r){if(n)return r;if(!e||!t._defaultNewsResponse?.value?.length){t._defaultNewsResponse=t.getNoUpdatesPlaceholder();t._noUpdatesNewsFeed=true;t.oManageMenuItem.setVisible(false)}return t._defaultNewsResponse}const s=function(){if(e){return function(){if(t._endUserResponse){t._defaultNewsResponse=t._endUserResponse}else{return Promise.resolve(fetch(t.defaultUrl||V)).then(function(e){if(!e.ok){throw new Error(`HTTP error! status: ${e.status}`)}return Promise.resolve(e.json()).then(function(e){t._defaultNewsResponse=e})})}}()}}();return s&&s.then?s.then(r):r(s)})})},function(n){t._defaultNewsPromise=null;e.error(n);throw n}))}catch(e){return Promise.reject(e)}},getCustomOrDefaultNewsFeed:function e(t,n){try{const e=this;const r=e.getNewsType();const s=r===A.Default;if(s){return Promise.resolve(e.getDefaultNewsResponse()).then(function(){let t=e.getDefaultNewsFeedDetails(e._defaultNewsResponse);return t})}else{return Promise.resolve(e.getCustomFeedData(t,n))}}catch(e){return Promise.reject(e)}},getCustomFeedData:function t(n,r){try{const t=this;return Promise.resolve(M(function(){let e;const s=t.getParent().getIsEndUserChange().isEndUser;e=s?t.getUrl():t.getNewsFeedDetailsUrl({changeId:n,showAllPreparationRequired:r});if(!t.customNewsFeedCache.has(e)){t.customNewsFeedCache.set(e,t.getAuthNewsFeed(e))}return Promise.resolve(t.customNewsFeedCache.get(e)).then(function(e){const n=e;const r={};const s=[];if(n?.length>0){n.forEach(e=>{const n=e[K.TITLE];if(!r[n.value]){s.push({title:n.value,footer:e[K.VALIDITY]?.value,imageUrl:t.getCustomFeedImage(n.value)});r[n.value]=n.value}})}return s})},function(t){e.error(t);throw new Error(t)}))}catch(e){return Promise.reject(e)}},getNewsFeedDetailsUrl:function e(t){let n=k+"?$filter=ChangeId eq "+"'"+t.changeId+"'";const r=this.getProperty("customFileName");if(!this.isCSVFileFormat(r)&&t.showAllPreparationRequired){n=n+" and PreparationRequired eq true"}return n+"&$top=999"},getAuthNewsFeed:function t(n,r){try{const t=this;return Promise.resolve(M(function(){return Promise.resolve(Promise.all([t.getAllAvailableApps(),t.getNewsFeedDetails(n,r)])).then(function([e,n]){return e.length===0?n:t.arrangeNewsFeeds(n,e)})},function(t){e.error(t)}))}catch(e){return Promise.reject(e)}},arrangeNewsFeeds:function e(t,n){const r=[];t.forEach(e=>{if(e.Category.value!=="App"||!e.ImpactedArtifacts.value){r.push(e)}else{const t=e.ImpactedArtifacts.value.split("\n");for(let s of t){const t=s;if(t&&this.isAuthFeed(n,s)){r.push(e);break}}}});return r},isAuthFeed:function e(t,n){const r="|";if(n.includes(r)){const e=n.split(r);const s=(e[e.length-1]||"").trim();if(s){const e=t.findIndex(e=>s===e?.signature?.parameters["sap-fiori-id"]?.defaultValue?.value);return e>-1}}return true},getAllAvailableApps:function t(){try{return Promise.resolve(M(function(){return Promise.resolve(a.getServiceAsync("ClientSideTargetResolution")).then(function(e){return e?._oAdapter._aInbounds||[]})},function(t){if(t instanceof Error){e.error(t.message)}return[]}))}catch(e){return Promise.reject(e)}},getNewsFeedDetails:function e(t,n){try{let r=false;const s=this;function i(e){if(r)return e;const i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1 $2");return Promise.resolve(Promise.all([s._endUserResponse?Promise.resolve(s._endUserResponse):j.GetJSON(t),s.getTranslatedText(s.getCustomFeedKey())])).then(function([e,t]){let r=JSON.parse(JSON.stringify(e.value||[]));const o=JSON.parse(JSON.stringify(t.value||[]));r=s.filterNewsOnTitle(r,n);return r.map(e=>{const t=Object.keys(e);const n=[];t.forEach(t=>{const r=o.find(e=>e?.ColumnName?.toUpperCase()===t.toUpperCase());const s=r?.TranslatedName||i(t);e[t]={label:s,value:e[t]};if(!K.EXCLUDE_FIELDS.includes(t)){n.push(e[t])}});e.Link={label:s._i18nBundle.getText("readMoreLink"),value:e[K.LINK],text:"Link"};e.expanded=r.length===1;e.expandFields=n;return e})})}const o=function(){if(s.customNewsFeedCache.has(t)){return Promise.resolve(s.customNewsFeedCache.get(t)).then(function(e){const t=s.filterNewsOnTitle(e,n);r=true;return t})}}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(a){return Promise.reject(a)}},filterNewsOnTitle:function e(t,n){if(n){return t.filter(e=>e.LineOfBusiness.value===n)}return t},getTranslatedText:function t(n){try{const e=G+"?$filter=Changeid eq '"+n+"'";if(!this.customNewsFeedCache.has(e)){this.customNewsFeedCache.set(e,j.GetJSON(e))}return this.customNewsFeedCache.get(e)}catch(t){if(t instanceof Error){e.error(t.message)}return[]}},loadCustomNewsFeed:function e(t,n){try{const e=this;const r=e.parseJsonToXml(JSON.parse(JSON.stringify(t)),n);const s=e.getParent();if(!e.oNewsModel){e.oNewsModel=new o(r);if(!e.bNewsLoad){s?.panelLoadedFn("News",{loaded:true,count:J});e.bNewsLoad=true}e.oNewsTile.setModel(e.oNewsModel)}else{e.oNewsTile.unbindAggregation("tiles",false);e.oNewsTile.destroyAggregation("tiles");e.oNewsModel.setData(r)}return Promise.resolve(e.loadNewsFeed(r,t.length)).then(function(){})}catch(e){return Promise.reject(e)}},parseJsonToXml:function e(t,n){const r=e=>e.map(e=>({item:e}));const s=e=>{let t="";let n;for(n in e){const r=e[n];if(r){if(typeof r==="object"){t+=`<${n}>${s(r)}</${n}>`}else{t+=`<${n}>${r}</${n}>`}}}return t.replace(/<\/?\d+>/g,"")};const i=JSON.parse(JSON.stringify(r(t)));let o="<?xml version='1.0' encoding='UTF-8'?>";const a=n;o+=`<${a}>`;o+=s(i);o+=`</${a}>`;o=o.replaceAll("&","&amp;");const l=new DOMParser;return l.parseFromString(o,"text/xml")},getCustomFeedImage:function e(t){const n=sap.ui.require.toUrl(K.IMAGE_URL);let r=n+z.default[0];const s=z[t]||[];let i=0;if(s.length>0){const e=new window.Uint32Array(1);window.crypto.getRandomValues(e);i=e[0]%3;r=n+s[i]}return r},getDefaultFeedImage:function e(t){const n=t?.bg_image_id;const r=t?._group_to_image;const s=()=>{const e=sap.ui.require.toUrl("sap/cux/home/img");const t=Math.floor(Math.random()*15)+1;return`${e}/${t}.jpg`};if(!r||r?.image_id!==n||!r?.bg_image){return s()}let i=r?.mime_type;const o=r?.bg_image;if(i==="application/octet-stream"){i="image/jpeg"}if(!this.isValidBase64(o)){const e=this.base64UrlToBase64(o);return`data:${i};base64,${e}`}return`data:${i};base64,${o}`},base64UrlToBase64:function e(t){let n=t?.replace(/_/g,"/").replace(/-/g,"+");while(n.length%4!==0){n+="="}return n},isValidBase64:function e(t){if(!t||t.length===0){return false}const n=/^[A-Za-z0-9+/]*={0,2}$/;if(!n.test(t)){return false}if(t.length%4!==0){return false}if(t.includes("=")){const e=t.indexOf("=");const n=t.lastIndexOf("=");if(e!==t.length-(t.length-e)){return false}if(t.length-e>2){return false}if(e!==n&&n!==e+1){return false}}return true},_getUserPersonalization:function e(){const t=B.getPersContainerId(this);const n=B.getOwnerComponent(this);return $.getInstance(t,n)}});return H});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NewsSettingsPanel", ["sap/m/CheckBox","sap/m/CustomListItem","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/Switch","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/CustomData","./BaseSettingsPanel","./library","./utils/Accessibility","./utils/Constants","./utils/FESRUtil","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(e,t,s,i,n,o,a,r,l,d,u,c,h,w,g,m,S){"use strict";function f(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const N=f(u);const p=c["NewsType"];const C=h["getInvisibleText"];const F=w["SETTINGS_PANELS_KEYS"];const P=g["addFESRSemanticStepName"];const T=g["FESR_EVENTS"];const I=f(m);const x=f(S);const y=N.extend("sap.cux.home.NewsSettingsPanel",{init:function e(){N.prototype.init.call(this);this.setProperty("key",F.NEWS);this.setProperty("title",this._i18nBundle.getText("news"));this.setProperty("icon","sap-icon://newspaper");this.addAggregation("content",this.getContent());this.attachPanelNavigated(()=>{void this.loadNewsFeedSettings()});this.aFavNewsFeed=[]},getContent:function e(){const t=this.setHeader();const s=this.setTitleMessage();const i=new l(this.getId()+"--idNewsPageOuterVBoX",{alignItems:"Start",justifyContent:"SpaceBetween",items:[t,s,this.setNewsList()]});return i},getPersonalization:function e(){try{const t=this;function s(){return t.oPersonalizer}const i=function(){if(!t.oPersonalizer){return Promise.resolve(x.getInstance(I.getPersContainerId(t._getPanel()),I.getOwnerComponent(t._getPanel()))).then(function(e){t.oPersonalizer=e})}}();return Promise.resolve(i&&i.then?i.then(s):s(i))}catch(n){return Promise.reject(n)}},setHeader:function e(){this.headerText=new a(this.getId()+"--idCustNewsFeedSettingsText",{text:this._i18nBundle.getText("newsFeedSettingsText")});const t=new l(this.getId()+"--idCustNewsFeedSettingsTextContainer",{alignItems:"Start",justifyContent:"SpaceBetween",items:[this.headerText]}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBegin");return t},setTitleMessage:function e(){this.title=new r(this.getId()+"--idCustNewsFeedSettignsTitle",{text:this._i18nBundle.getText("newsFeedSettingsHeading"),titleStyle:"H3"});const t=new s(this.getId()+"--idCustNewsFeedSettingsTitleContainer",{alignItems:"Center",justifyContent:"SpaceBetween",items:[this.title]});const i=new l(this.getId()+"--idCustNewsFeedSettingsTitleVBox",{alignItems:"Start",justifyContent:"SpaceBetween",items:[t]}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBegin");return i},setNewsList:function e(){const t=new i(this.getId()+"--idShowAllCustNewsSwitchLabel",{text:this._i18nBundle.getText("showAllPreparationRequiredSwitchLabel")});this.oShowSwitch=new o(`${this.getId()}-showSwitch`,{customTextOn:" ",customTextOff:" ",change:()=>{void this.saveNewsFeedSettings()},state:false,ariaLabelledBy:[`${this.getId()}--idShowAllCustNewsSwitchLabel`]});P(this.oShowSwitch,T.CHANGE,"showPrepRequire");this.oCustNewsSwitchContainer=new s(this.getId()+"--idShowAllCustNewsSwitchContainer",{alignItems:"Center",items:[t,this.oShowSwitch],width:"94%"}).addStyleClass("sapUiSmallMarginTop");const a=new l(this.getId()+"--idShowAllCustNewsSwitchVBox",{items:[this.oCustNewsSwitchContainer],width:"94%"}).addStyleClass("sapUiSmallMarginTop");const r=C(`${this.getId()}--newsTitleText`,this._i18nBundle.getText("newsTitle"));this.oList=new n(this.getId()+"--idCustNewsFeedList",{ariaLabelledBy:[r.getId(),`${this.getId()}--idCustNewsFeedSettingsText`,`${this.getId()}--idCustNewsFeedSettignsTitle`]});const d=new l(this.getId()+"--idCustNewsFeedListContainer",{direction:"Column",items:[this.oList,a,r],width:"96%"}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBegin");return d},isCSVFileFormat:function e(t){return t.split(".").pop()?.toLowerCase()==="csv"},saveNewsFeedSettings:function e(){try{const e=this;const t=[];const s=[];const i=e.oNewsPanel?.getNewsType();const n=i===p.Default;const o=e.oNewsPanel.getProperty("customFileName");const a=e.oNewsPanel.getCustomFeedKey();e.oList.getItems().forEach(i=>{const o=i.getAggregation("content");const a=o[0];const[r,l]=a.getItems();const d=r.getSelected();if(n){const t=e.getDefaultGroupId(a);if(!d&&t){s.push(t)}}else if(d){t.push(l.getText())}});return Promise.resolve(e.getPersonalization()).then(function(i){return Promise.resolve(i.read()).then(function(r){if(n){r.defaultNewsFeed={items:s}}else{r.favNewsFeed={items:t,showAllPreparationRequired:e.isCSVFileFormat(o)?false:e.oShowSwitch.getState()}}return Promise.resolve(i.write(r)).then(function(){if(!n){e.oShowSwitch.setState(r.favNewsFeed?.showAllPreparationRequired)}return Promise.resolve(e.oNewsPanel.setCustomNewsFeed(n?"":a)).then(function(){})})})})}catch(e){return Promise.reject(e)}},getDefaultGroupId:function e(t){const s=t.getCustomData();return s?.length?s[0].getValue():""},setItems:function i(n){this.oList.destroyAggregation("items",true);const o=this.oNewsPanel?.getNewsType();let r=o===p.Default;(n||[]).forEach((i,n)=>{let o=new s({id:`${this.getId()}--idCustNewsFeedItemContent--${n}`,alignItems:"Center",items:[new e(`${this.getId()}--custNewsFeedItemCheckBox--${n}`,{select:()=>{void this.saveNewsFeedSettings()},selected:i.selected,enabled:!i.disabled}),new a(`${this.getId()}--custNewsFeedItemText--${n}`,{text:i.title})],width:"100%"});if(r){o.addCustomData(new d({key:"newsGroupId",value:i.group_id}))}const l=new t({id:`${this.getId()}--idCustNewsFeedItem--${n}`,content:[o]});this.oList.addItem(l)})},loadNewsFeedSettings:function e(){try{const e=this;e.oNewsPanel=e._getPanel();const t=e.oNewsPanel.getCustomFeedKey();const s=e.oNewsPanel?.getNewsType();const i=s===p.Default;const n=e.oNewsPanel.getProperty("customFileName");if(e.isCSVFileFormat(n)||i){e.oCustNewsSwitchContainer.setVisible(false)}return Promise.resolve(e.getPersonalization()).then(function(s){return Promise.resolve(s.read()).then(function(s){const n=i?s?.["defaultNewsFeed"]:s?.["favNewsFeed"];const o=n?.showAllPreparationRequired??!n;return Promise.resolve(e.oNewsPanel.getCustomOrDefaultNewsFeed(i?"":t,false)).then(function(t){if(i){return e._handleDefaultNewsFeed(t,n)}else{return e._handleCustomNewsFeed(t,n,o)}})})})}catch(e){return Promise.reject(e)}},_handleDefaultNewsFeed:function e(t,s){this.headerText.setText(this._i18nBundle.getText("defaultNewsSettingsText"));this.title.setText(this._i18nBundle.getText("defaultNewsSettingsHeading"));const i=this.oNewsPanel.getMandatoryDefaultNewsFeed();this.deselectedDefaultFeeds=s?.items||[];if(!t||t.length===0){return}t=t.map(e=>{const t=e.group_id?this.deselectedDefaultFeeds.includes(e.group_id):false;e.selected=!s?true:!t;if(i.includes(e.group_id??"")){e.selected=true;e.disabled=true}return e});this.setItems(t);this.oShowSwitch.setState(false);return t},_handleCustomNewsFeed:function e(t,s,i){this.headerText.setText(this._i18nBundle.getText("newsFeedSettingsText"));this.title.setText(this._i18nBundle.getText("newsFeedSettingsHeading"));if(!t||t.length===0){return}const n=s?.items||t;t=t.map(e=>{const t=n.includes(e.title);e.selected=!s?true:t;return e});this.aFavNewsFeed=t;this.setItems(this.aFavNewsFeed);this.oShowSwitch.setState(!!i);return t},isSupported:function e(){try{const e=this;const t=e._getPanel();if(!t||!(t?.getParent()).getProperty("newsFeedVisibility")){return Promise.resolve(false)}return Promise.resolve((t.getNewsType()===p.Custom||t.getNewsType()===p.Default)&&!t.isNoUpdatesNewsFeed())}catch(e){return Promise.reject(e)}}});return y});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/NoDataContainer", ["sap/m/Button","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/VBox","./BaseContainer","./BaseContainerRenderer","./BasePanel","./library"],function(e,t,n,i,s,a,o,r,l){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const u=d(a);const p=d(o);const c=d(r);const h=l["OrientationType"];class g extends c{init(){super.init();this.setProperty("enableSettings",false)}}const y=u.extend("sap.cux.home.NoDataContainer",{renderer:{...p,apiVersion:2},metadata:{library:"sap.cux.home",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%",visibility:"hidden"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%",visibility:"hidden"},orientation:{type:"sap.cux.home.OrientationType",group:"Data",defaultValue:h.Vertical,visibility:"hidden"},enableSettings:{type:"boolean",group:"Behavior",defaultValue:false,visibility:"hidden"}}},constructor:function e(t,n){u.prototype.constructor.call(this,t,n)},init:function e(){u.prototype.init.call(this);this.addStyleClass("sapCuxNoDataContainer");this.addStyleClass("sapCuxNoMarginBottom")},onBeforeRendering:function e(){const t=this.getContent();if(t?.length===0){this._setupDefaultContent()}u.prototype.onBeforeRendering.call(this)},_setupDefaultContent:function a(){const o=new t(this.getId()+"-noDataMessage",{illustrationSize:n.Large,illustrationType:i.NoEntries,title:this._i18nBundle.getText("noSectionTitle"),ariaTitleLevel:"H2",description:this._i18nBundle.getText("noSectionDescription")}).addStyleClass("myHomeIllustratedMsg");const r=new e(this.getId()+"-editMyHomeBtn",{text:this._i18nBundle.getText("noSectionButton"),type:"Emphasized",press:()=>{void this.getParent()?.openSettingsDialog()}});o.insertAdditionalContent(r,0);const l=new s(this.getId()+"-noDataWrapper",{alignItems:"Center",justifyContent:"Center",renderType:"Bare",items:[o],visible:true});const d=new g(`${this.getId()}-noDataContent`);d.addContent(l);this.addContent(d)}});return y});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/Page", ["sap/ui/core/Element","sap/ushell/Container"],function(e,t){"use strict";const r=e.extend("sap.cux.home.Page",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:""},icon:{type:"string",group:"Misc",defaultValue:""},subTitle:{type:"string",group:"Misc",defaultValue:""},bgColor:{type:"string",group:"Misc",defaultValue:""},pageId:{type:"string",group:"Misc",defaultValue:""},spaceId:{type:"string",group:"Misc",defaultValue:""},spaceTitle:{type:"string",group:"Misc",defaultValue:""},url:{type:"string",group:"Misc",defaultValue:""}},events:{press:{}}},constructor:function t(r,a){e.prototype.constructor.call(this,r,a)},onPageTilePress:function e(r){try{const e=r.getProperty?.("pageId"),a=r.getProperty?.("spaceId");return Promise.resolve(t.getServiceAsync("Navigation")).then(function(t){return Promise.resolve(t.navigate({target:{semanticObject:"Launchpad",action:"openFLPPage"},params:{pageId:e,spaceId:a}})).then(function(){})})}catch(e){return Promise.reject(e)}}});return r});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/PagePanel", ["sap/m/Button","sap/m/FlexBox","sap/m/GenericTile","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/VBox","sap/m/library","sap/ui/core/EventBus","./BasePagePanel","./MenuItem","./Page","./utils/CommonUtils","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/DragDropUtils","./utils/FESRUtil","./utils/PersonalisationUtils","./utils/UshellPersonalizer"],function(e,t,a,s,o,n,i,r,l,g,d,p,c,h,u,P,m,f,x,I){"use strict";function v(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const y=r["LoadState"];const _=v(g);const B=v(d);const C=v(p);const F=c["getPageManagerInstance"];const W=h["PAGE_SELECTION_LIMIT"];const T=h["SETTINGS_PANELS_KEYS"];const D=u["recycleId"];const M=P["DeviceType"];const b=m["attachKeyboardHandler"];const S=m["focusDraggedItem"];const E=f["addFESRId"];const A=f["addFESRSemanticStepName"];const w=v(x);const L=v(I);const N={Mobile:{maxWidth:37.5,minWidth:8},Tablet:{maxWidth:60,minWidth:10.625},Desktop:{maxWidth:18.75,minWidth:7},LargeDesktop:{maxWidth:18.75,minWidth:7},XLargeDesktop:{maxWidth:18.75,minWidth:7},smallTabletMinWidth:8};const z=3;const O=8;const k=4;const R=t.extend("sap.cux.home.CustomFlexBox",{renderer:{apiVersion:2},metadata:{library:"sap.cux.home",aggregations:{items:{type:"sap.ui.core.Control",multiple:true,singularName:"item",dnd:{draggable:true,droppable:true}}}},constructor:function e(a,s){t.prototype.constructor.call(this,a,s)}});const $=_.extend("sap.cux.home.PagePanel",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",visibility:"hidden"},key:{type:"string",group:"Misc",visibility:"hidden"}},aggregations:{pages:{type:"sap.cux.home.Page",singularName:"page",multiple:true,visibility:"hidden"}}},constructor:function e(t,a){_.prototype.constructor.call(this,t,a)},init:function e(){const t=this;_.prototype.init.call(this);this._oWrapperFlexBox=new R(`${this.getId()}-pageWrapper`,{justifyContent:"Start",height:"100%",width:"100%",direction:"Row",renderType:"Bare",wrap:"Wrap",items:this.getPlaceholderPageTiles()}).addStyleClass("pagesFlexGap sapCuxPagesWrapper");if(this.getDeviceType()!==M.Mobile){this._oWrapperFlexBox.addStyleClass("sapUiSmallMarginTop")}this._pageWrapper=new i(`${this.getId()}-pageContentWrapper`,{items:[this._oWrapperFlexBox]});this.addContent(this._pageWrapper);this.setProperty("title",this._i18nBundle.getText("pageTitle"));const a=new B(`${this.getId()}-managePages`,{title:this._i18nBundle.getText("mngPage"),icon:"sap-icon://edit",press:()=>this._handleEditPages()});this.addAggregation("menuItems",a);E(a,"managePages");this.oEventBus=l.getInstance();this.oEventBus.subscribe("importChannel","favPagesImport",function(e,a,s){try{t.aFavPages=s;return Promise.resolve(t.writeFavPagesIntoPers(t.aFavPages)).then(function(){t._getInnerControls();t._importdone()})}catch(e){return Promise.reject(e)}},this);this.oEventBus.subscribe("pageChannel","pageUpdated",()=>{void this.getData(true)},this)},_importdone:function e(){const t={status:true};this.oEventBus.publish("importChannel","favPagesImported",t)},getData:function e(t=false){try{const a=this;function s(){a.fireEvent("loaded");return a.oPagePromise}const o=function(){if(a.oPagePromise===undefined||a.oPagePromise===null||t){a.oPagePromise=a._getPageManagerInstance().getFavoritePages();return Promise.resolve(a.oPagePromise).then(function(e){a.aFavPages=e;a._getInnerControls();a.oPagePromise=null})}}();return Promise.resolve(o&&o.then?o.then(s):s(o))}catch(n){return Promise.reject(n)}},_handleEditPages:function e(){const t=this.getParent();t?._getLayout().openSettingsDialog(T.PAGES)},getPlaceholderPageTiles:function e(){const t=new Array(W).fill(y.Loading);const s=t.map((e,t)=>new a(D(`${this.getId()}--${t}`),{sizeBehavior:"Responsive",state:e,frameType:"OneByOne",mode:"IconMode",visible:true,renderOnThemeChange:true,ariaRole:"listitem",dropAreaOffset:8}).addStyleClass("cuxPagesPlaceholder"));return s},attachResizeHandler:function e(t,a,s){try{const e=this.aFavPages?.length,o=this.getDeviceType();let n=a;if((o===M.Desktop||o===M.LargeDesktop||o===M.XLargeDesktop)&&t){n=a/2}if(!n){return}let i,r,l,g=n/16;const d=1;s.setWidth("100%");if(e>0){const n=this.calculatePagesPerRow(e,t);if(n){const e=N[o].maxWidth;let t=N[o].minWidth;if(o===M.Tablet&&a<736){t=N.smallTabletMinWidth}i=(g-(n-1)*d)/n;i=Math.min(i,e);i=Math.max(i,t);l=`${i}rem`;r=`${n*i+(n-1)*d}rem`}else{l="auto";r="100%"}this._setPropertyValues({hBoxWidth:r,pagesTileWidth:l});s.setWidth(r)}}catch(e){if(e instanceof Error){}}},getUserAvailablePages:function e(){try{const e=this;return Promise.resolve(e._getPageManagerInstance().fetchAllAvailablePages())}catch(e){return Promise.reject(e)}},calculatePagesPerRow:function e(t,a){let s=0;const o=this.getDeviceType();if(o===M.Desktop||o===M.LargeDesktop||o===M.XLargeDesktop){if(a){s=Math.ceil(t>=O?k:t/2)}else{s=t}}else if(o===M.Mobile){s=t<=z?1:2}else if(o===M.Tablet){s=t<=k?t:Math.ceil(t/2)}return s},_getInnerControls:function e(){const t=[];this.oInnerControls=[];const s=this.getParent();if(this.aFavPages){this.aFavPages.forEach((e,a)=>{t.push(new C(D(`${this.getId()}-favPage-${a}`),{title:e.title,subTitle:e.title===e.spaceTitle?"":e.spaceTitle,icon:e.icon,bgColor:e.BGColor,pageId:e.pageId,spaceId:e.spaceId,spaceTitle:e.spaceTitle,url:"#Launchpad-openFLPPage?pageId="+e.pageId+"&spaceId="+e.spaceId}))});t.forEach((e,t)=>{this.oInnerControls.push(new a(D(`${e.getId()}--genericTile--${t}`),{header:e.getTitle(),subheader:e.getSubTitle(),press:()=>void e.onPageTilePress(e),sizeBehavior:"Responsive",state:"Loaded",frameType:"OneByOne",mode:"IconMode",backgroundColor:e.getBgColor(),tileIcon:e.getIcon(),visible:true,renderOnThemeChange:true,ariaRole:"listitem",dropAreaOffset:8,url:e.getProperty("url")}).addStyleClass("sapCuxPageTile"));this.addAggregation("pages",e,true)});this._oWrapperFlexBox.setAlignItems(this.aFavPages.length==1?"Start":"Center");const e=this._oWrapperFlexBox.getDragDropConfig();if(this.aFavPages.length){s?.panelLoadedFn("Page",{loaded:true,count:this.aFavPages.length});this._setFavPagesContent();if(!e?.length)this.addDragDropConfigTo(this._oWrapperFlexBox,e=>void this._handlePageDnd(e),function(e){try{return Promise.resolve(b(e,true)).then(function(){})}catch(e){return Promise.reject(e)}})}else{this._oWrapperFlexBox.removeAllDragDropConfig();e.forEach(e=>{e.destroy()});s?.panelLoadedFn("Page",{loaded:true,count:0});this._setNoPageContent()}}else{s?.panelLoadedFn("Page",{loaded:false,count:0});this.removeAggregation("content",this._oWrapperFlexBox)}},_setFavPagesContent:function e(){this._oWrapperFlexBox.removeAllItems();this._oWrapperFlexBox.removeStyleClass("pagesFlexBox");this.oInnerControls.forEach(e=>{this._oWrapperFlexBox.addItem(e)})},_createNoPageContent:function t(){if(!this._oIllusMsg){this._oIllusMsg=new s(this.getId()+"--idNoPages",{illustrationSize:o.Small,illustrationType:n.NoSavedItems,title:this._i18nBundle.getText("noDataPageTitle"),description:this._i18nBundle.getText("noPageDescription")}).addStyleClass("myHomeIllustratedMsg myHomeIllustratedMessageAlign");this.oAddPageBtn=new e(this.getId()+"--idAddPageBtn",{text:this._i18nBundle.getText("addPage"),tooltip:this._i18nBundle.getText("addPage"),type:"Emphasized",press:()=>this._handleEditPages()});A(this.oAddPageBtn,"press","addPages")}},_setNoPageContent:function e(){if(!this.oWrapperNoPageVBox){this.oWrapperNoPageVBox=new i(D(`${this.getId()}--wrapperNoPageVBox`),{width:"100%",height:"17rem",backgroundDesign:"Solid",justifyContent:"Center"}).addStyleClass("sapUiRoundedBorder noCardsBorder");this._createNoPageContent();this._oIllusMsg.addAdditionalContent(this.oAddPageBtn);this.oWrapperNoPageVBox.addItem(this._oIllusMsg)}this._oWrapperFlexBox.removeAllItems();this._oWrapperFlexBox.addStyleClass("pagesFlexBox");this._oWrapperFlexBox.addItem(this.oWrapperNoPageVBox)},_setPropertyValues:function e(t){const a=Object.keys(t);a.forEach(e=>{if(e==="hBoxWidth"){this._oWrapperFlexBox.setProperty("width",t[e])}else if(e==="pagesTileWidth"&&this.oInnerControls.length){this.oInnerControls.forEach(function(a){a.setProperty("width",t[e])})}})},_handlePageDnd:function e(t){try{const e=this;const a=t.getParameter?.("dropPosition"),s=t?.getParameter?.("draggedControl"),o=t.getParameter("droppedControl"),n=s.getParent()?.indexOfItem(s);let i=s.getParent()?.indexOfItem(o);if(a==="Before"&&n===i-1){i--}else if(a==="After"&&n===i+1){i++}const r=function(){if(n!==i){return Promise.resolve(e._DragnDropPages(n,i,a)).then(function(){})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_DragnDropPages:function e(t,a,s){try{const e=this;if(s==="Before"&&t<a){a--}else if(s==="After"&&t>a){a++}const o=e.aFavPages.splice(t,1)[0];e.aFavPages.splice(a,0,o);e.updateTileOrder(t,a);return Promise.resolve(e.writeFavPagesIntoPers(e.aFavPages)).then(function(){S(e._oWrapperFlexBox,a)})}catch(e){return Promise.reject(e)}},updateTileOrder:function e(t,a){const[s]=this.oInnerControls.splice(t,1);this.oInnerControls.splice(a,0,s);this._oWrapperFlexBox.removeAllItems();this.oInnerControls.forEach(e=>{this._oWrapperFlexBox.addItem(e)})},writeFavPagesIntoPers:function e(t){try{const a=this;function s(){return Promise.resolve(a.oPersonalizer.read()).then(function(e){if(!e)e={favouritePages:[]};e.favouritePages=t;return Promise.resolve(a.oPersonalizer.write(e)).then(function(){})})}const o=function(){if(a.oPersonalizer===undefined){return Promise.resolve(L.getInstance(w.getPersContainerId(a),w.getOwnerComponent(a))).then(function(e){a.oPersonalizer=e})}}();return Promise.resolve(o&&o.then?o.then(s):s(o))}catch(n){return Promise.reject(n)}},applyColorPersonalizations:function e(t){void this._getPageManagerInstance()?.applyColorPersonalizations(t)},applyIconPersonalizations:function e(t){void this._getPageManagerInstance()?.applyIconPersonalizations(t)},_getPageManagerInstance:function e(){this.pageManagerInstance=this.pageManagerInstance||F(this);return this.pageManagerInstance},getPageWrapper:function e(){return this._oWrapperFlexBox}});return $});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/PageSettingsPanel", ["sap/m/CustomListItem","sap/m/HBox","sap/m/List","sap/m/Panel","sap/m/SearchField","sap/m/Text","sap/m/Title","sap/m/ToggleButton","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/VBox","./BaseSettingsPanel","./utils/Accessibility","./utils/Constants","./utils/DataFormatUtils","./utils/PageManager","./utils/PersonalisationUtils"],function(e,t,s,a,i,n,o,r,l,g,c,d,h,p,u,P,S){"use strict";function m(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const f=m(d);const I=h["getInvisibleText"];const _=p["PAGE_SELECTION_LIMIT"];const x=p["SETTINGS_PANELS_KEYS"];const B=u["recycleId"];const T=m(P);const w=m(S);const y=f.extend("sap.cux.home.PageSettingsPanel",{constructor:function e(){f.prototype.constructor.apply(this,arguments);this._initialNavigation=true},init:function e(){f.prototype.init.call(this);this.setProperty("key",x.PAGES);this.setProperty("title",this._i18nBundle.getText("pages"));this.setProperty("icon","sap-icon://course-book");this.oWrapperVBox=new c(`${this.getId()}--pageSettingsWrapper`,{width:"100%"}).addStyleClass("sapUiNoPadding sapUiNoMarginEnd");this.addAggregation("content",this.oWrapperVBox);this.attachPanelNavigated(()=>{void this.onPanelNavigated()})},onPanelNavigated:function e(){try{const t=this;function s(){if(t.oSearchField?.getValue()){t.oSearchField.setValue("");t.sSearchQuery="";t._renderPages(t.aSpaces)}}const a=function(){if(t._initialNavigation){t._initialNavigation=false;return Promise.resolve(t._initializePanel()).then(function(){})}}();return Promise.resolve(a&&a.then?a.then(s):s(a))}catch(i){return Promise.reject(i)}},_initializePanel:function e(){try{const e=this;if(!e.PageManagerInstance){e.PageManagerInstance=T.getInstance(w.getPersContainerId(e._getPanel()),w.getOwnerComponent(e._getPanel()))}return Promise.resolve(e.PageManagerInstance.fetchAllAvailablePages()).then(function(t){e.aAllPages=t;return Promise.resolve(e.PageManagerInstance.getFavoritePages()).then(function(t){e.aFavPages=t;return Promise.resolve(e.PageManagerInstance.fetchAllAvailableSpaces()).then(function(t){e.aSpaces=t;e._showMessageStrip();e._showToolbar();e._showPagesList()})})})}catch(e){return Promise.reject(e)}},_showMessageStrip:function e(){const t=new c(`${this.getId()}--msgStripContainer`,{width:"100%"}).addStyleClass("sapUiNoPadding sapUiNoMarginEnd");this.oMessage=new n(`${this.getId()}--msgStripText`).addStyleClass("sapUiSmallMargin");this._seHeaderMessage();t.addItem(this.oMessage);this.oWrapperVBox.addItem(t)},_setInvisibleSubHeaderText:function e(){const t=this.aFavPages.length>=_?this._i18nBundle.getText("myInterestwarning"):this._i18nBundle.getText("myInterestinfo");const s=I(this.getId()+"--pageSubHeaderText",t);return s},_seHeaderMessage:function e(){this.oMessage.setText(this.aFavPages.length>=_?this._i18nBundle.getText("myInterestwarning"):this._i18nBundle.getText("myInterestinfo"))},_showToolbar:function e(){const t=I(this.getId()+"--pageTitleText",this._i18nBundle.getText("pages"));const s=this._setInvisibleSubHeaderText();const a=new o(`${this.getId()}--pagesListTitle`,{text:this._i18nBundle.getText("pageGroupHeader"),level:"H3"}).addStyleClass("sapUiSmallMarginBottom");this.oSearchField=new i(`${this.getId()}--pagesListSearch`,{liveChange:e=>this._onPagesSearch(e),width:"13.75rem",ariaLabelledBy:[t.getId(),s.getId(),a.getId()]}).addStyleClass("sapUiSmallMarginBottom pagesListSearch");const n=new l(`${this.getId()}--pagesListToolbar`,{width:"calc(100% - 2rem)",height:"3rem",design:"Solid",content:[a,new g(`${this.getId()}--pagesHeaderToolbarSpacer`),this.oSearchField,t,s]}).addStyleClass("sapUiSmallMarginBegin pagesToolbarNoPadding");this.oWrapperVBox.addItem(n)},_showPagesList:function e(){this.oPagesListVBox=new c(`${this.getId()}--pagesListVBox`,{width:"calc(100% - 2rem)"}).addStyleClass("sapUiSmallMarginBegin");this._renderPages(this.aSpaces);this.oWrapperVBox.addItem(this.oPagesListVBox)},_createPagesList:function s(a,i,o){const l=new n({text:a.label});const g=new r(B(`${this.getId()}-toggle-${i}--${o}`),{tooltip:a.selected?this._i18nBundle.getText("hideBtn"):this._i18nBundle.getText("showBtn"),icon:"sap-icon://show",type:"Emphasized",pressed:!a.selected,enabled:a.selected||this.aFavPages.length<_,press:e=>void this._pageSelectHandler(a.id,e)});const c=new t(B(`${this.getId()}--customListBox--${i}--${o}`),{justifyContent:"SpaceBetween",alignItems:"Center",items:[l,g]});const d=new e(B(`${this.getId()}--customList--${i}--${o}`),{content:[c]}).addStyleClass("pagesPanelItem");return d},_renderPages:function e(i){const o=this.oPagesListVBox.getParent()?.getParent();const r=o?.getDomRef()?.childNodes[1];const l=r?.scrollTop||0;this.oPagesListVBox.removeAllItems();if(!i.length){if(!this.oNoDataHBox){this.oNoDataHBox=new t(`${this.getId()}--noSpacePageHBox`,{height:"3rem",justifyContent:"Center",alignItems:"Center",items:[new n(`${this.getId()}--noSpacePageItem`,{text:this._i18nBundle.getText("noData")})]}).addStyleClass("pagesBottomBorder");this.oWrapperVBox.addItem(this.oNoDataHBox)}this.oNoDataHBox.setVisible(true)}else if(this.oNoDataHBox){this.oNoDataHBox.setVisible(false)}i.forEach((e,t)=>{const i=[];e.children.forEach((e,s)=>{e.selected=this.aFavPages.find(t=>t.pageId===e.id)?true:false;i.push(this._createPagesList(e,t,s))});const n=this._createHeaderToolbar(e,t);const o=new a(B(`${this.getId()}--panel--${t}`),{expandable:true,expanded:true,width:"auto",headerToolbar:n,content:new s(B(`${this.getId()}--panelContent--${t}`),{items:i})}).addStyleClass("pagesPanel");this.oPagesListVBox.addItem(o)});if(l>=0&&o){setTimeout(()=>{o.scrollTo(l)},0)}},_createHeaderToolbar:function e(t,s){const a=new o(B(`${this.getId()}--headerTitle--${s}`),{wrapping:true,width:"auto",text:t.label,level:"H4"}).addStyleClass("dialogPanelTitle");const i=new l(B(`${this.getId()}--headerToolBar--${s}`),{design:"Solid",content:[a]});return i},_pageSelectHandler:function e(t,s){try{const e=this;const a=!s.getSource().getPressed();const i=e.aAllPages.find(e=>e.pageId===t);if(!i){return Promise.resolve(false)}if(a){e.aFavPages.push(i)}else{const s=e.aFavPages.findIndex(e=>e.pageId===t);e.aFavPages.splice(s,1)}e._seHeaderMessage();return Promise.resolve(e.PageManagerInstance.getFavPages(e.aFavPages,true)).then(function(){let t;if(e.sSearchQuery?.length){t=e._filterSpacesPages()}e._renderPages(t||e.aSpaces);void e._getPanel().getData()})}catch(e){return Promise.reject(e)}},_onPagesSearch:function e(t){this.sSearchQuery=t.getSource().getValue().toLowerCase();const s=this._filterSpacesPages();this._renderPages(s)},_filterSpacesPages:function e(){const t=[];this.aSpaces.forEach(e=>{const s=[];const a=e.label;e.children.forEach(e=>{if(e.label?.toLowerCase().includes(this.sSearchQuery)||a?.toLowerCase().includes(this.sSearchQuery)){s.push(e)}});if(s.length){t.push({...e,children:s})}});return t}});return y});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/RecentAppPanel", ["sap/base/Log","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/GroupHeaderListItem","sap/m/library","sap/m/List","sap/m/OverflowToolbar","sap/m/Select","sap/m/StandardListItem","sap/m/ToolbarSpacer","sap/m/VBox","sap/ui/core/EventBus","sap/ui/core/format/DateFormat","sap/ui/core/Item","sap/ushell/Container","sap/ushell/EventHub","./BaseAppPersPanel","./MenuItem","./utils/FESRUtil"],function(t,e,s,n,i,a,r,o,p,c,l,d,h,u,g,m,y,_,A,T){"use strict";function f(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function E(t,e){try{var s=t()}catch(t){return e(t)}if(s&&s.then){return s.then(void 0,e)}return s}const D=a["URLHelper"];const w=f(_);const S=f(A);const I=T["addFESRId"];var L=function(t){t["ALL"]="ALL";t["TODAY"]="TODAY";t["WEEK"]="WEEK";t["TWO_WEEK"]="TWO_WEEK";t["THREE_WEEK"]="THREE_WEEK";return t}(L||{});const v=u.getDateInstance({pattern:"MMMM d, yyyy"});const M={OLDER_DATE_TIMESTAMP:Number.MIN_SAFE_INTEGER};const H=t=>t.setHours(12,0,0,0);const b=t=>{const e=new Date;const s=new Date(e);const n=s.setDate(e.getDate()-e.getDay()-7*t);const i=new Date(s);const a=i.setDate(s.getDate()+6);return{startDate:n,endDate:a}};const x=(t,e)=>{const s=new Date(t);const n=s.setDate(s.getDate()-e);return H(new Date(n))};const B=(t,e,s)=>t>=e&&t<=s;const R=w.extend("sap.cux.home.RecentAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"}}},constructor:function t(e,s){w.prototype.constructor.call(this,e,s);this._recentApps=[];this.setSupported(false)},init:function t(){w.prototype.init.call(this);this.setProperty("key","recentApps");this.setProperty("title",this._i18nBundle.getText("recentlyUsedTab"));this.setProperty("tooltip",this._i18nBundle.getText("recentAppsInfo"));this._attachUserActivityTracking();y.on("userRecentsCleared").do(()=>{void this.refresh()});const e=new S(`${this.getId()}-show-history-btn`,{title:this._i18nBundle.getText("showHistoryBtn"),icon:"sap-icon://history",press:this._openHistoryDialog.bind(this)});I(e,"showHistory");this.insertAggregation("menuItems",e,0);this.oEventBus=h.getInstance();this.oEventBus.subscribe("appsChannel","favAppColorChanged",(t,e,s)=>{const{item:n,color:i}=s;this._applyUngroupedTileColor(n,i)},this)},loadApps:function t(){try{const t=this;return Promise.resolve(t._getRecentApps()).then(function(e){t.destroyAggregation("apps",true);e=e.map((e,s)=>({...e,menuItems:t._getAppActions(e.addedInFavorites,s)}));t.setApps(t.generateApps(e))})}catch(t){return Promise.reject(t)}},_getRecentApps:function e(){try{const e=this;return Promise.resolve(E(function(){return Promise.resolve(m.getServiceAsync("UserRecents")).then(function(t){return Promise.resolve(Promise.all([t?.getRecentActivity().then(t=>t||[]),t?.oRecentActivity._getRecentActivitiesFromLoadedData().then(t=>t||{})])).then(function([t,s]){return Promise.resolve(e.convertActivitiesToVisualizations(t)).then(function(t){e._recentApps=t;let n=new Date(s?.recentDay);e._recentDayTimeStamp=H(n);const i=s?.recentUsageArray||[];const a=new Map;i.forEach(t=>{if(t.oItem?.appId){a.set(t.oItem.appId,t.aUsageArray)}});e._recentApps.forEach(t=>{t.dateStamp=H(new Date(t.timestamp));if(a.size){t.usageArray=a.get(t.orgAppId)}});return e._recentApps||[]})})})},function(e){t.error(e);return[]}))}catch(t){return Promise.reject(t)}},_getAppActions:function t(e=false,s){const n=new S(`${this.getKey()}--${s}--resumeLastActivityItem`,{title:this._i18nBundle.getText("resumeLastActivity"),icon:"sap-icon://past",press:this._resumeAppActivity.bind(this)});I(n,"resumeActivity");const i=[n];if(!e){const t=new S(`${this.getKey()}--${s}--addToFavoritesRecentItem`,{title:this._i18nBundle.getText("addToFavorites"),icon:"sap-icon://add-favorite",press:t=>{void this._addAppToFavorites(t)}});I(t,"addFavFromRecent");i.push(t)}return i},_resumeAppActivity:function t(e){const s=e.getSource();const n=s.getParent();const i=n.getUrl?.();D.redirect(i,false)},_generateHistoryDialog:function t(){const s=`${this.getId()}-history-dialog`;if(!this._controlMap.get(s)){this._controlMap.set(s,new n(s,{title:this._i18nBundle.getText("showHistoryTitle"),content:new d({id:`${s}-container`,height:"100%",items:[this._generateAppHistoryList()]}).addStyleClass("sapUiTinyMargin"),escapeHandler:this._closeHistoryDialog.bind(this),contentHeight:"29rem",contentWidth:"25rem",buttons:[new e({id:`${s}-cancel-btn`,text:this._i18nBundle.getText("cancelBtn"),press:this._closeHistoryDialog.bind(this)})]}).addStyleClass("sapContrastPlus"))}return this._controlMap.get(s)},_generateAppHistoryList:function t(){const e=`${this.getId()}-history-dialog-list`;if(!this._controlMap.get(e)){this._controlMap.set(e,new r({id:e,growing:true,growingScrollToLoad:true,headerToolbar:new o({id:`${e}-header-toolbar`,style:"Clear",height:"1.75rem",content:[new l({id:`${e}-header-toolbar-spacer`}),this._generateAppHistoryListFilter()]})}).addStyleClass("sapMListShowSeparatorsNone recentAppList"))}return this._controlMap.get(e)},_generateAppHistoryListFilter:function t(){const e=`${this.getId()}-history-dialog-list-filter`;if(!this._controlMap.get(e)){this._controlMap.set(e,new p({id:e,selectedKey:L.ALL,change:t=>this._onDateFilterChange(t),items:[new g({id:`${e}-month`,key:L.ALL,text:this._i18nBundle.getText("dateThirty")}),new g({id:`${e}-today`,key:L.TODAY,text:this._i18nBundle.getText("dateToday")}),new g({id:`${e}-week`,key:L.WEEK,text:this._i18nBundle.getText("dateWeek")}),new g({id:`${e}-twoWeek`,key:L.TWO_WEEK,text:this._i18nBundle.getText("dateTwoWeek")}),new g({id:`${e}-threeWeek`,key:L.THREE_WEEK,text:this._i18nBundle.getText("dateThreeWeek")})]}))}return this._controlMap.get(e)},_generateAppHistoryListItems:function t(e){const n=this._generateAppHistoryList();n?.destroyItems();e.forEach(t=>{n.addItem(this._getGroupHeader(t.dateStamp));n.addItem(new s({id:`date-${t.dateStamp}-lisItem`,type:"Inactive",content:[new r({id:`date-${t.dateStamp}-appList`,items:(t.apps||[]).map((e,s)=>new c({id:`listItem--${t.dateStamp}--${s}`,title:e.name,type:"Inactive"}).addStyleClass("sapUiTinyMarginBeginEnd recentAppList sapUiSmallMarginTop"))}).addStyleClass("sapMListShowSeparatorsNone sapUiTinyMarginBottom")]}))})},_openHistoryDialog:function t(){const e=this._generateHistoryDialog();const s=this._getAppHistory();this._generateAppHistoryListItems(s);e.open()},_closeHistoryDialog:function t(){const e=this._generateHistoryDialog();e.close()},_onDateFilterChange:function t(e){const s=e.getParameter("selectedItem")?.getKey();const n=this._getFilteredAppHistory(s);this._generateAppHistoryListItems(n)},_getGroupHeader:function t(e){let s="";switch(e){case M.OLDER_DATE_TIMESTAMP:s=this._i18nBundle.getText("dateLater");break;case H(new Date):s=this._i18nBundle.getText("dateToday");break;default:s=v.format(new Date(e));break}return new i({title:s}).addStyleClass("sapUiTinyMarginBeginEnd recentAppListHeader")},_getAppHistory:function t(){if(this._recentDayTimeStamp&&this._recentApps?.length){const t={};const e=x(this._recentDayTimeStamp,30);this._recentApps.forEach(s=>{const n=H(new Date(s.dateStamp));if(n<e){if(!t[M.OLDER_DATE_TIMESTAMP]){t[M.OLDER_DATE_TIMESTAMP]={dateStamp:M.OLDER_DATE_TIMESTAMP,apps:[]}}t[M.OLDER_DATE_TIMESTAMP]?.apps.push({name:s.title})}else{const e=s.usageArray||[];e.forEach((n,i)=>{if(n>0){const n=x(this._recentDayTimeStamp,e.length-1-i);if(!t[n]){t[n]={dateStamp:n,apps:[]}}t[n]?.apps.push({name:s.title})}})}});const s=Object.values(t);s.sort((t,e)=>e.dateStamp-t.dateStamp);return s}return[]},_getFilteredAppHistory:function t(e){const s=this._getAppHistory();let n=[];switch(e){case L.TODAY:{n=s.filter(t=>t.dateStamp===H(new Date));break}case L.WEEK:{const{startDate:t,endDate:e}=b(0);n=s.filter(s=>B(s.dateStamp,t,e));break}case L.TWO_WEEK:{const{startDate:t}=b(1);const{endDate:e}=b(0);n=s.filter(s=>B(s.dateStamp,t,e));break}case L.THREE_WEEK:{const{startDate:t}=b(2);const{endDate:e}=b(0);n=s.filter(s=>B(s.dateStamp,t,e));break}default:n=[...s];break}return n},generateIllustratedMessage:function t(){const e=w.prototype.generateIllustratedMessage.call(this);e.setDescription(this._i18nBundle.getText("noRecentAppsDescription"));return e}});return R});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/RecommendedAppPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerSettings","sap/m/Button","sap/m/Dialog","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/library","sap/m/Link","sap/m/MessageStrip","sap/m/MessageToast","sap/m/ScrollContainer","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/Element","sap/ui/core/EventBus","./BaseAppPersPanel","./MenuItem","./utils/Constants","./utils/Device","./utils/FESRUtil","./utils/HttpHelper"],function(e,t,n,s,i,o,r,a,c,l,d,p,u,h,g,m,f,_,A,T,y,S,v){"use strict";function C(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const R=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function M(e,t,n){if(!e.s){if(n instanceof x){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=M.bind(null,e,t);return}}if(n&&n.then){n.then(M.bind(null,e,t),M.bind(null,e,2));return}e.s=t;e.v=n;const s=e.o;if(s){s(e)}}}const x=function(){function e(){}e.prototype.then=function(t,n){const s=new e;const i=this.s;if(i){const e=i&1?t:n;if(e){try{M(s,1,e(this.v))}catch(e){M(s,2,e)}return s}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){M(s,1,t?t(i):i)}else if(n){M(s,1,n(i))}else{M(s,2,i)}}catch(e){M(s,2,e)}};return s};return e}();function B(e){return e instanceof x&&e.s&1}function P(e,t,n){var s=-1,i,o;function r(a){try{while(++s<e.length&&(!n||!n())){a=t(s);if(a&&a.then){if(B(a)){a=a.v}else{a.then(r,o||(o=M.bind(null,i=new x,2)));return}}}if(i){M(i,1,a)}else{i=a}}catch(e){M(i||(i=new x),2,e)}}r();return i}const b=a["BackgroundDesign"];function $(e,t,n){if(typeof e[R]==="function"){var s=e[R](),i,o,r;function d(e){try{while(!(i=s.next()).done&&(!n||!n())){e=t(i.value);if(e&&e.then){if(B(e)){e=e.v}else{e.then(d,r||(r=M.bind(null,o=new x,2)));return}}}if(o){M(o,1,e)}else{o=e}}catch(e){M(o||(o=new x),2,e)}}d();if(s.return){var a=function(e){try{if(!i.done){s.return()}}catch(e){}return e};if(o&&o.then){return o.then(a,function(e){throw a(e)})}a()}return o}if(!("length"in e)){throw new TypeError("Object is not iterable")}var c=[];for(var l=0;l<e.length;l++){c.push(e[l])}return P(c,function(e){return t(c[e])},n)}const I=C(_);function w(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const D=C(A);function E(e,t){try{var n=e()}catch(e){return t(true,e)}if(n&&n.then){return n.then(t.bind(null,false),t.bind(null,true))}return t(false,n)}const U=T["REPO_BASE_URL"];const H=T["SETTINGS_PANELS_KEYS"];const j=y["DeviceType"];const F=S["addFESRId"];const z=C(v);const V={USER_PREFERENCE_SRVC_URL:`${U}UserPreference`,KEY:"recommendedApps"};const L=I.extend("sap.cux.home.RecommendedAppPanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"}}},constructor:function e(t,n){I.prototype.constructor.call(this,t,n);this._selectedApps=[];this.setSupported(false)},init:function e(){I.prototype.init.call(this);this.setProperty("key",V.KEY);this.setProperty("title",this._i18nBundle.getText("recommendedAppsTab"));this.setProperty("tooltip",this._i18nBundle.getText("recommendedAppsTab"));const t=f.getInstance();t.subscribe("importChannel","recommendationSettingChanged",(e,t,n)=>{const s=n.showRecommendation;this.fireSupported({isSupported:s})});this._createAddToFavouritesMenuItem()},_createAddToFavouritesMenuItem:function e(){const t=new D(`${this.getId()}-addtofavouritesmenuitem`,{title:this._i18nBundle.getText("addToFavoritesRecommended"),icon:"sap-icon://add-favorite",press:this._openAddRecommendedDialog.bind(this),visible:false});F(t,"addToFavouritesMenuItem");this.insertAggregation("menuItems",t,0)},_openAddRecommendedDialog:function e(){const t=`${this.getId()}-addRecommendedDialog-appsPage`;const n=this._generateAddRecommendedDialog(t);n.open()},_generateAddRecommendedDialog:function e(t){if(!this._controlMap.get(t)){this._createAddRecommendedDialogControls(t)}const n=this._generateAppsScrollContainer()?.getContent()?.[0];n.destroyAggregation("items");this._selectedApps=[...this.getApps()];const s=this._selectedApps.map(e=>this._createAppTile(e));this._setAggregation(n,s);this._updateSelectedAppCount();const i=this._controlMap.get(t);return i},_createAddRecommendedDialogControls:function e(t){const n=this;this._selectedApps=[...this.getApps()];this._controlMap.set(`${t}-mainTitle`,new h({id:`${t}-mainTitle`,text:this._i18nBundle.getText("addToFavoritesRecommended")}));this._controlMap.set(`${t}-headerContainer-count`,new u({id:`${t}-headerContainer-count`}));this._controlMap.set(`${t}-selectedAppsTitle`,new h({id:`${t}-selectedAppsTitle`,text:`${this._i18nBundle.getText("recommendedAppsTab")} (0 ${this._i18nBundle.getText("selected")})`,level:"H3"}));this._controlMap.set(`${t}-subtitleText`,new u({id:`${t}-subtitleText`,text:this._i18nBundle.getText("selectAtLeastOneApp")}));const o=new s({id:`${t}-addBtn`,text:this._i18nBundle.getText("addButton"),type:"Emphasized",press:function(){try{return Promise.resolve(n._addSelectedApps()).then(function(){n._closeAddRecommendedDialog(t)})}catch(e){return Promise.reject(e)}},enabled:this._selectedApps.length>0});const r=new s({id:`${t}-cancelBtn`,text:this._i18nBundle.getText("cancelBtn"),press:()=>this._closeAddRecommendedDialog(t)});const a=this._controlMap.get(`${t}-mainTitle`).getText();this._controlMap.set(t,new i(t,{title:a,content:[new g({id:`${t}-headerContainer`,items:[this._controlMap.get(`${t}-selectedAppsTitle`),this._controlMap.get(`${t}-subtitleText`)],justifyContent:"Start",alignItems:"Start"}).addStyleClass("sapUiSmallMarginTop sapUiSmallMarginBeginEnd sapUiTinyMarginBottom"),this._generateAppsScrollContainer()],contentHeight:"25rem",contentWidth:"41.75rem",buttons:[o,r],escapeHandler:()=>this._closeAddRecommendedDialog(t)}).addStyleClass("sapCuxRecommendedAppsDialog sapContrastPlus"))},_createAppTile:function e(t){const n=t.clone();const s=this.getParent()._getAppTile(n);s.addStyleClass("sapCuxHighlightApp");n._onPress=e=>this._highlightApp(e,n);return s},_generateAppsScrollContainer:function e(){const s=`${this.getId()}-addRecommendedDialog-appsPage-scrollContainer`;if(!this._controlMap.get(s)){this._controlMap.set(`${s}-apps`,new t({id:`${s}-apps`,layout:new n(`${s}-apps-containerSettings`,{columnSize:"19rem",gap:"0.5rem"})}).addStyleClass("sapCuxAppsGridContainerPadding"));this._controlMap.set(s,new p(s,{id:s,vertical:true,visible:true,height:"20rem",content:[this._controlMap.get(`${s}-apps`)]}).addStyleClass("sapUiSmallMarginBeginEnd sapUiTinyMarginTop"))}return this._controlMap.get(s)},_updateAddButtonState:function e(){const t=`${this.getId()}-addRecommendedDialog-appsPage`;const n=m.getElementById(`${t}-addBtn`);if(n){n.setEnabled(this._selectedApps.length>0)}},_closeAddRecommendedDialog:function e(t){this.toggleAppTileHighlight(true);const n=this._controlMap.get(t);if(n){n.close()}this._resetAddRecommendedDialog()},toggleAppTileHighlight:function e(t){const n=this._generateAppsScrollContainer();const s=n.getContent()[0];if(s){s.getItems().forEach(e=>{if(e){if(t){e.addStyleClass("sapCuxHighlightApp")}else{if(e.hasStyleClass("sapCuxHighlightApp")){e.removeStyleClass("sapCuxHighlightApp")}}}})}},_resetAddRecommendedDialog:function e(){this._selectedApps=[...this.getApps()];this._updateSelectedAppCount();this._updateAddButtonState()},_addSelectedApps:function t(){try{const t=this;t.setBusy(true);return Promise.resolve(E(function(){return w(function(){function e(){return Promise.resolve((t.getParent?.())._refreshAllPanels()).then(function(){const e=t._i18nBundle.getText("moveRecommendedMessage");d.show(e)})}const n=$(t._selectedApps,function(e){const n=e.getVizId?.();const s=function(){if(n){return Promise.resolve(t.appManagerInstance.addVisualization(n)).then(function(){})}}();if(s&&s.then)return s.then(function(){})});return n&&n.then?n.then(e):e(n)},function(t){e.error(t)})},function(e,n){t.setBusy(false);t._selectedApps=[];t._closeAddRecommendedDialog(`${t.getId()}-addRecommendedDialog-appsPage`);if(e)throw n;return n}))}catch(e){return Promise.reject(e)}},_highlightApp:function e(t,n){const s=t.getSource();const i=!s.hasStyleClass("sapCuxHighlightApp");this._selectedApps=this._selectedApps||[];if(i){this._selectedApps.push(n)}else{this._selectedApps.splice(this._selectedApps.findIndex(e=>n.getUrl()===e.getUrl()),1)}s.toggleStyleClass("sapCuxHighlightApp",i);this._updateSelectedAppCount();this._updateAddButtonState()},_updateSelectedAppCount:function e(){const t=`${this.getId()}-addRecommendedDialog-appsPage`;const n=this._controlMap.get(`${t}-selectedAppsTitle`);const s=this._selectedApps.length;n.setText(`${this._i18nBundle.getText("recommendedAppsTab")} (${s} ${this._i18nBundle.getText("selected")})`)},_generateWrapper:function e(){const t=`${this.getId()}-recommendedPanelWrapper`;if(!this._controlMap.get(t)){this._controlMap.set(t,new g(t,{items:[this._generateMessageStrip(),I.prototype._generateWrapper.call(this)],backgroundDesign:b.Transparent}))}return this._controlMap.get(t)},loadApps:function e(){try{const e=this;if(e.getDeviceType()===j.Mobile){return Promise.resolve()}return Promise.resolve(e.appManagerInstance.getRecommendedVisualizations(true)).then(function(t){e.destroyAggregation("apps",true);t=t.map((t,n)=>({...t,menuItems:e._getActions(n)}));const n=e.generateApps(t);let s=[];s=e.fetchTileVisualization(s);return Promise.resolve(e.prepareAppsBeforeLoad(n,s)).then(function(){e.setApps(n);const t=m.getElementById(`${e.getId()}-addtofavouritesmenuitem`);if(t){t.setVisible(n.length>0)}})})}catch(e){return Promise.reject(e)}},_generateMessageStrip:function e(){const t=`${this.getId()}-messageStrip`;if(!this._controlMap.get(t)){this._controlMap.set(t,new l(t,{text:this._i18nBundle.getText("recommendationMessageStrip"),showIcon:true,showCloseButton:true,link:new c(`${t}-settings`,{text:this._i18nBundle.getText("settings"),press:()=>this.getParent()?._getLayout()?.openSettingsDialog(H.ADVANCED)}).addStyleClass("sapUiNoMargin")}).addStyleClass("sapUiNoMarginBegin sapUiTinyMarginBottom"))}return this._controlMap.get(t)},_getActions:function e(t){const n=new D(`${this.getKey()}--addToFavoritesItem--${t}`,{title:this._i18nBundle.getText("addToFavorites"),icon:"sap-icon://add-favorite",press:e=>{void this._addAppToFavorites(e)}});F(n,"acceptRecommendation");const s=new D(`${this.getKey()}--notRelevantItem--${t}`,{title:this._i18nBundle.getText("notRelevantRecommendation"),icon:"sap-icon://decline",press:e=>{void this._rejectRecommendation(e)}});F(s,"rejectRecommendation");const i=[n,s];return i},_rejectRecommendation:function t(n){try{const t=this;t.setBusy(true);const s=E(function(){return w(function(){const e=n.getSource();const s=e.getParent();const i=s.getTitle();return Promise.resolve(t.appManagerInstance.getRecommendedVisualizations()).then(function(e){const n=e.find(e=>e.url===s.getUrl());const o=n?.fioriId;const r=function(){if(o){const e={AppId:o,Decision:1};return Promise.resolve(z.Post(V.USER_PREFERENCE_SRVC_URL,e)).then(function(){return Promise.resolve(t.refresh()).then(function(){const e=t._i18nBundle.getText("rejectRecommendationMsg",[i]);d.show(e)})})}}();if(r&&r.then)return r.then(function(){})})},function(t){e.error(t)})},function(e,n){t.setBusy(false);if(e)throw n;return n});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_isRecommendationEnabled:function e(){try{const e=this;return Promise.resolve(e.getPersonalization()).then(function(e){return e?.showRecommendation??true})}catch(e){return Promise.reject(e)}},_enableRecommendationTab:function e(){try{const e=this;return Promise.resolve(e._isRecommendationEnabled()).then(function(t){e.setSupported(t);e.fireSupported({isSupported:t})})}catch(e){return Promise.reject(e)}},generateIllustratedMessage:function e(){const t=I.prototype.generateIllustratedMessage.call(this);t.setIllustrationSize(o.ExtraSmall);t.setIllustrationType(r.NoData);t.setTitle(this._i18nBundle.getText("noRecommendationsTitle"));t.setDescription(this._i18nBundle.getText("noRecommendationsDescription"));t.addAdditionalContent(new s({text:this._i18nBundle.getText("settings"),tooltip:this._i18nBundle.getText("settings"),press:()=>this.getParent()?._getLayout()?.openSettingsDialog(H.ADVANCED),type:"Emphasized"}));t.addStyleClass("sapUiTinyMarginTop");return t}});return L});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/SettingsDialog", ["sap/m/Bar","sap/m/Button","sap/m/library","sap/m/List","sap/m/Page","sap/m/SplitApp","sap/m/StandardListItem","sap/m/Title","sap/ui/core/Element","sap/ui/Device","./BaseSettingsDialog","./utils/Device"],function(t,e,i,s,n,o,a,r,l,p,h,g){"use strict";function d(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const c=i["SplitAppMode"];const u=d(h);const _=g["calculateDeviceType"];const m=g["DeviceType"];const f=u.extend("sap.cux.home.SettingsDialog",{renderer:{apiVersion:2},init:function t(){u.prototype.init.call(this);this._controlMap=new Map;this.setContentWidth("72rem");this.setStretch(false);this.setCustomHeader(this._setCustomHeader());this.addButton(new e(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("XBUT_CLOSE"),type:"Transparent",press:()=>this.close()}));this.addContent(new n(`${this.getId()}-settingsPage`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:this._getPageContent()}));this._attachResizeHandler()},_attachResizeHandler:function t(){p.resize.attachHandler(()=>{const t=_();this._splitApp.setMode(t===m.Desktop||t===m.LargeDesktop||t===m.XLargeDesktop?"ShowHideMode":"HideMode");this._showHamburger=undefined;const e=this._splitApp.isMasterShown();this._updateHeaderButtonVisibility(e)})},_setCustomHeader:function i(){this._menuBtn=new e(`${this.getId()}-menu-btn`,{icon:"sap-icon://menu2",tooltip:this._i18nBundle.getText("showMenu"),press:()=>this._toggleMasterPage(),visible:false});return new t(`${this.getId()}-header`,{contentLeft:[this._menuBtn],contentMiddle:[new r(`${this.getId()}-dialog-title`,{text:this._i18nBundle.getText("myHomeSettings"),level:"H1"})]})},_toggleMasterPage:function t(){const e=this._splitApp.isMasterShown();const i=this._deviceType||_();if(i===m.Mobile){this._splitApp.toMaster(this._masterPage.getId(),"slide");this._splitApp.showMaster()}else{if(e){this._splitApp.hideMaster();this._showHamburger=true}else{this._splitApp.showMaster();this._showHamburger=false}}this._updateHeaderButtonVisibility(!e)},_updateHeaderButtonVisibility:function t(e){const i=this._deviceType||_();if(i===m.Mobile){this._menuBtn.setVisible(!e)}else if(i===m.Tablet){if(p.orientation?.portrait){const t=this._i18nBundle.getText(e?"ToggleButtonHide":"ToggleButtonShow");if(t){this._menuBtn.setTooltip(t)}}this._menuBtn.setVisible(true)}else{let t=true;if(this._showHamburger===undefined){if(this._splitApp.isMasterShown()){t=false}}this._menuBtn.setVisible(t)}},_getPageContent:function t(){this._menuList=new s(`${this.getId()}-master-pages-list`,{mode:"SingleSelectMaster",itemPress:t=>this._navigateToDetailPage(t)}).addStyleClass("sapCuxMasterPageList");this._masterPage=new n(`${this.getId()}-master-page`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:[this._menuList]});this._splitApp=new o(`${this.getId()}-settingsApp`,{mode:"ShowHideMode",masterPages:[this._masterPage],masterButton:t=>this._hideNavigationButton(t)});return this._splitApp},_navigateToDetailPage:function t(e,i){const s=typeof e==="string"?e:e.getParameter?.("listItem");const n=this.getPanels()[0];const o=s?.data?.("key")||e||n?.getProperty("key");this.setProperty("selectedKey",o,true);const a=l.getElementById(`${o}-detail-page`);this._splitApp.toDetail(a.getId(),"slide");this._splitApp.hideMaster();if(this._splitApp.getMode()===c.ShowHideMode){this._updateHeaderButtonVisibility(false)}const r=this.getPanels().find(t=>t.getProperty("key")===o);r?.firePanelNavigated({context:i});this._menuList.removeSelections(true);const p=l.getElementById(`${o}-page-item`);setTimeout(()=>{this._menuList.setSelectedItem(p);p.focus()},0)},_hideNavigationButton:function t(e){const i=l.getElementById(`${e.getSource().getId()}-MasterBtn`);i?.destroy()},onBeforeRendering:function t(e){u.prototype.onBeforeRendering.call(this,e);this.getPanels().forEach(t=>{void this._getPageListItem(t).then(t=>this._menuList.addItem(t));this._splitApp.addDetailPage(this._getDetailPage(t))});const i=this.getProperty("selectedKey");const s=this.getProperty("context");this._navigateToDetailPage(i,s)},_getPageListItem:function t(e){try{const t=this;const i=`${e.getProperty("key")}-page-item`;let s=t._controlMap.get(i);if(!s){s=new a(i,{title:e.getProperty("title"),icon:e.getProperty("icon"),type:"Navigation",iconDensityAware:false});s.data("key",e.getProperty("key"));t._controlMap.set(i,s)}const n=s,o=n.setVisible;return Promise.resolve(e.isSupported()).then(function(t){o.call(n,t);return s})}catch(t){return Promise.reject(t)}},_getDetailPage:function t(e){const i=`${e.getProperty("key")}-detail-page`;if(!this._controlMap.get(i)){const t=new n(i,{title:e.getProperty("title"),backgroundDesign:"List",showHeader:e.getProperty("showHeader")});e.getActionButtons().forEach(e=>{t.addHeaderContent(e)});this._controlMap.set(i,t)}e.getAggregation("content").forEach(t=>this._controlMap.get(i).addContent(t));return this._controlMap.get(i)}});return f});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/SideBySideIconTabFilter", ["sap/m/IconTabFilter","sap/ui/core/Element"],function(t,e){"use strict";const n=t.extend("sap.cux.home.SideBySideIconTabFilter",{metadata:{library:"sap.cux.home",associations:{panel:{type:"sap.cux.home.BasePanel",multiple:false,singularName:"panel"}}},renderer:"sap.m.IconTabFilterRenderer",constructor:function e(n,o){t.prototype.constructor.call(this,n,o)},setPanel:function t(e){this.setProperty("key",e.getProperty("key"),true);this.setProperty("text",e.getProperty("title"),true);this.setTooltip(e.getProperty("tooltip"));this.setAssociation("panel",e);return this},getContent:function t(){const n=e.getElementById(this.getPanel());return n?.getContent()||[]},addContent:function t(n){const o=e.getElementById(this.getPanel());o?.addContent(n);return this}});return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/SituationPanel", ["sap/base/i18n/Localization","sap/m/GenericTile","sap/m/Text","sap/m/TileContent","sap/m/library","sap/ui/core/Component","sap/ushell/api/S4MyHome","./ToDoPanel","./utils/SituationUtils"],function(t,e,n,o,i,r,a,s,u){"use strict";function c(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function l(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const g=i["LoadState"];const p=i["URLHelper"];const f=i["ValueColor"];const d=c(s);const h=u["executeNavigation"];const T=u["fetchNavigationTargetData"];const y=u["getSituationMessage"];const S=d.extend("sap.cux.home.SituationPanel",{constructor:function t(e,n){d.prototype.constructor.call(this,e,n)},init:function t(){d.prototype.init.call(this);this.setProperty("key","situations");this.setProperty("title",this._i18nBundle.getText("situationsTabTitle"))},generateRequestUrls:function e(n){const o=t.getSAPLogonLanguage()||"";return[this.getCountUrl(),`${this.getDataUrl()}&$expand=_InstanceAttribute($expand=_InstanceAttributeValue($filter=(Language eq '${o}' or Language eq ''))),_InstanceText($filter=(Language eq '${o}' or Language eq ''))&$skip=0&$top=${n}`]},generateCardTemplate:function t(i,r){return new e(`${i}-actionTile`,{mode:"ActionMode",frameType:"TwoByOne",pressEnabled:true,header:y(r.getProperty("_InstanceText/0/SituationTitle"),r.getProperty("_InstanceAttribute")),headerImage:"sap-icon://alert",valueColor:f.Critical,state:r.getProperty("loadState"),press:t=>{void this._onPressSituation(t)},tileContent:[new o(`${i}-actionTileContent`,{content:new n(`${i}-text`,{text:y(r.getProperty("_InstanceText/0/SituationText"),r.getProperty("_InstanceAttribute"))}),footer:a.formatDate(r.getProperty("SitnInstceCreatedAtDateTime"))})]})},_onPressSituation:function t(e){try{const t=this;const n=e.getSource();const o=n.getBindingContext();const{loadState:i,SitnInstceKey:a,SitnEngineType:s}=o?.getObject();const u=t.getTargetAppUrl();const c=function(){if(i!==g.Loading&&u){const e=function(){if(a){const e=l(function(){return Promise.resolve(T(a,s)).then(function(e){const n=e;return Promise.resolve(h(n,r.getOwnerComponentFor(t.getParent()))).then(function(){})})},function(e){if(e&&s==="1"&&e._sErrorCode==="NavigationHandler.isIntentSupported.notSupported"){p.redirect(t.getTargetAppUrl(),false)}});if(e&&e.then)return e.then(function(){})}else{p.redirect(u,false)}}();if(e&&e.then)return e.then(function(){})}}();return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},getNoDataText:function t(){return this._i18nBundle.getText("noSituationTitle")}});return S});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/SpaceInsightsPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/m/GenericTile","sap/m/HeaderContainer","sap/m/VBox","sap/m/library","sap/ui/core/Lib","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/api/S4MyHome","./BasePanel","./utils/AppManager","./utils/CommonUtils","./utils/DataFormatUtils","./utils/Device","./utils/InsightsUtils"],function(t,e,n,i,s,r,o,a,l,c,h,u,g,d,p,f,m){"use strict";function _(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function y(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const I=o["LoadState"];function M(t,e){try{var n=t()}catch(t){return e(true,t)}if(n&&n.then){return n.then(e.bind(null,false),e.bind(null,true))}return e(false,n)}const v=_(u);const S=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function A(t,e,n){if(!t.s){if(n instanceof T){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=A.bind(null,t,e);return}}if(n&&n.then){n.then(A.bind(null,t,e),A.bind(null,t,2));return}t.s=e;t.v=n;const i=t.o;if(i){i(t)}}}const T=function(){function t(){}t.prototype.then=function(e,n){const i=new t;const s=this.s;if(s){const t=s&1?e:n;if(t){try{A(i,1,t(this.v))}catch(t){A(i,2,t)}return i}else{return this}}this.o=function(t){try{const s=t.v;if(t.s&1){A(i,1,e?e(s):s)}else if(n){A(i,1,n(s))}else{A(i,2,s)}}catch(t){A(i,2,t)}};return i};return t}();function P(t){return t instanceof T&&t.s&1}function C(t,e,n){var i=-1,s,r;function o(a){try{while(++i<t.length&&(!n||!n())){a=e(i);if(a&&a.then){if(P(a)){a=a.v}else{a.then(o,r||(r=A.bind(null,s=new T,2)));return}}}if(s){A(s,1,a)}else{s=a}}catch(t){A(s||(s=new T),2,t)}}o();return s}const b=_(g);function D(t,e,n){if(typeof t[S]==="function"){var i=t[S](),s,r,o;function h(t){try{while(!(s=i.next()).done&&(!n||!n())){t=e(s.value);if(t&&t.then){if(P(t)){t=t.v}else{t.then(h,o||(o=A.bind(null,r=new T,2)));return}}}if(r){A(r,1,t)}else{r=t}}catch(t){A(r||(r=new T),2,t)}}h();if(i.return){var a=function(t){try{if(!s.done){i.return()}}catch(t){}return t};if(r&&r.then){return r.then(a,function(t){throw a(t)})}a()}return r}if(!("length"in t)){throw new TypeError("Object is not iterable")}var l=[];for(var c=0;c<t.length;c++){l.push(t[c])}return C(l,function(t){return e(l[t])},n)}const w=d["filterVisualizations"];const H=d["getPageManagerInstance"];const E=p["recycleId"];const O=f["DeviceType"];const B=f["fetchElementProperties"];const W=m["createShowMoreActionButton"];const $=m["createShowMoreMenuItem"];const L=m["getAssociatedFullScreenMenuItem"];var F=function(t){t["REFRESH"]="tiles-refresh";t["ADD_APPS"]="tiles-addSmartApps";t["EDIT_TILES"]="tiles-editTiles";return t}(F||{});var R=function(t){t["REFRESH"]="container-tiles-refresh";t["ADD_APPS"]="container-tiles-addSmartApps";t["EDIT_TILES"]="container-tiles-editTiles";t["SHOW_MORE"]="tilesContainerFullScreenMenuItem";return t}(R||{});var V=function(t){t["ADD_TILES"]="tiles-addTilesButton";return t}(V||{});var x=function(t){t["ADD_TILES"]="container-tiles-addTilesButton";t["SHOW_MORE"]="tilesContanerFullScreenActionButton";return t}(x||{});var z=function(t){t["Standard"]="standard";t["StandardWide"]="standardWide";return t}(z||{});const N=176;const j=368;const U=16;const k=v.extend("sap.cux.home.SpaceInsightsPanel",{metadata:{library:"sap.cux.home",properties:{spaceId:{type:"string",group:"Data",defaultValue:""},title:{type:"string",group:"Misc",defaultValue:""},fullScreenName:{type:"string",group:"Misc",defaultValue:"SI3",visibility:"hidden"}},defaultAggregation:"tiles",aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},tiles:{type:"sap.cux.home.App",multiple:true,singularName:"tile",visibility:"hidden"}},events:{handleHidePanel:{parameters:{}},handleUnhidePanel:{parameters:{}}}},constructor:function t(e,n){v.prototype.constructor.call(this,e,n);this._headerVisible=false},init:function e(){v.prototype.init.call(this);this._controlMap=new Map;this._oData={tiles:[],activateInsightsTiles:true,activateInsightsTilesOnPhone:false,activateInsightsTilesOnDesktop:false};this._controlModel=new l(this._oData);this.appManagerInstance=b.getInstance();this.pageManager=H(this);this.setProperty("enableFullScreen",true);this._createTilesFlexWrapper();c.getServiceAsync("VisualizationInstantiation").then(t=>{this.VizInstantiationService=t}).catch(e=>{t.error(e instanceof Error?e.message:String(e))});this._toggleTileActivity()},setTitle:function t(e){if(!this.spaceTitle)this.spaceTitle=e;return this.setProperty("title",e)},getTitle:function t(){if(this.spaceTitle)return this.spaceTitle;return this.getProperty("title")},_toggleTileActivity:function e(){const n=this;const i=function(t){try{const e=t.getParameter("isMyHomeRoute");n._controlModel.setProperty("/activateInsightsTiles",e);const i=function(){if(e){const t=function(){if(n._appSwitched){return Promise.resolve(n.refreshData(true)).then(function(){n._appSwitched=false})}}();if(t&&t.then)return t.then(function(){})}else{n._appSwitched=true}}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(t){return Promise.reject(t)}};try{h.attachRouteMatched({},i,this)}catch(e){t.warning(e instanceof Error?e.message:String(e))}},_showPlaceHolders:function t(){const e=new Array(this._calculatePlaceholderTileCount()).fill(I.Loading);this.aInsightsApps=e.map((t,e)=>new i(E(`${this.getId()}--placeHolderTile--${e}`),{sizeBehavior:"Responsive",state:t,frameType:"OneByOne",mode:"IconMode",visible:true,renderOnThemeChange:true,ariaRole:"listitem",dropAreaOffset:8}).setLayoutData?.(new n(E(`${this.getId()}--placeHolderTileLayoutData--${e}`),{columns:2})));this._controlModel.setProperty("/tiles",this.aInsightsApps)},_clearPlaceHolders:function t(){this._controlModel.setProperty("/tiles",[])},renderPanel:function t(){try{let e=false;const n=this;function i(t){return e?t:Promise.resolve()}const s=M(function(){return y(function(){return Promise.resolve(n.refreshData()).then(function(t){e=true;return t})},function(t){n.fireHandleHidePanel()})},function(t,e){n.fireEvent("loaded");if(t)throw e;return e});return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(r){return Promise.reject(r)}},fetchDynamicAppInSpace:function t(){try{const e=this;function n(t){function n(){r=w(r,true);r=e.appManagerInstance._filterDuplicateVizs(r,false);return r}e.allSpaces=t;const s=e.allSpaces.find(t=>t.id===i);if(!s||s.children.length===0)return[];let r=[];const o=function(){if(s&&s.children.length>0){const t=D(s.children,function(t){return Promise.resolve(e.appManagerInstance.fetchFavVizs(true,true,t.id)).then(function(t){r.push(...t)})});if(t&&t.then)return t.then(function(){})}}();return o&&o.then?o.then(n):n(o)}const i=e.getProperty("spaceId");const s=e.allSpaces;return Promise.resolve(s?n(s):Promise.resolve(e.pageManager.fetchAllAvailableSpaces()).then(n))}catch(r){return Promise.reject(r)}},refreshData:function t(e=false){try{const t=this;const n=t.getMetadata().getName();return Promise.resolve(t.fetchDynamicAppInSpace()).then(function(i){function s(){t._clearPlaceHolders();t._controlModel.setProperty("/tiles",t.aInsightsApps);if(t.aInsightsApps?.length){t.fireHandleUnhidePanel();if(e){const e=t.getDeviceType()===O.Mobile;const n=e?t.tilesMobileContainer:t.tilesContainer;const i=n.getMetadata().getDefaultAggregationName();const s=n.getAggregation(i)||[];s.forEach(t=>t.refresh?.())}t._getInsightsContainer().updatePanelsItemCount(t.aInsightsApps.length,n);if(t._headerVisible){t.setProperty("title",`${t.spaceTitle} (${t.aInsightsApps.length})`)}}else{t.fireHandleHidePanel()}}t.aInsightsApps=i;const r=t.aInsightsApps.some(t=>t.isSmartBusinessTile);const o=function(){if(r){return Promise.resolve(a.load({name:"sap.cloudfnd.smartbusiness.lib.reusetiles"})).then(function(){})}}();return o&&o.then?o.then(s):s(o)})}catch(t){return Promise.reject(t)}},_createTilesFlexWrapper:function t(){if(!this._tilesWrapper){this._tilesWrapper=new r(`${this.getId()}-tilesWrapper`,{renderType:"Bare",width:"100%",items:[this._createMobileFlexWrapper(),this._createWrapperFlexBox()]});this._showPlaceHolders();this._tilesWrapper.setModel(this._controlModel);this.addContent(this._tilesWrapper)}},_createMobileFlexWrapper:function t(){if(!this.tilesMobileContainer){this.tilesMobileContainer=new s(`${this.getId()}-insightsTilesMobileContainer`,{scrollStep:0,scrollStepByItem:1,gridLayout:true,scrollTime:1e3,showDividers:false,visible:"{/isPhone}"}).addStyleClass("sectionMarginTopTilesInsight sapMHeaderContainerMarginBottom");this._attachAggregationToContainer(this.tilesMobileContainer)}return this.tilesMobileContainer},_createWrapperFlexBox:function t(){if(!this.tilesContainer){this.tilesContainer=new e(`${this.getId()}-insightsTilesContainer`,{visible:"{= !${/isPhone}}"}).addStyleClass("insightTiles sapUiSmallMarginTop sapUiSmallMarginBottom");this._attachAggregationToContainer(this.tilesContainer)}return this.tilesContainer},_updateTilesActivity:function t(){const e=this.getDeviceType()===O.Mobile;const n=Boolean(this._controlModel.getProperty("/activateInsightsTiles"));this._controlModel.setProperty("/activateInsightsTilesOnPhone",n&&e);this._controlModel.setProperty("/activateInsightsTilesOnDesktop",n&&!e)},_attachAggregationToContainer:function t(e){e.setModel(this._controlModel);const s=e.getMetadata().getDefaultAggregationName();const r=this.getDeviceType()===O.Mobile;e.bindAggregation(s,{path:"/tiles",factory:(t,e)=>{const s=e.getObject();if(s instanceof i){return s}const o=this.VizInstantiationService.instantiateVisualization(s.visualization);o.setLayoutData?.(new n(`${this.getId()}-itemLayoutData-${t}`,{minRows:2,columns:o.getDisplayFormat?.()===z.Standard?2:4}));o?.bindProperty?.("active",r?"/activateInsightsTilesOnPhone":"/activateInsightsTilesOnDesktop");return o}})},handleHideHeader:function t(){this._headerVisible=false;this.setProperty("title","");this._toggleHeaderActions(false)},handleAddHeader:function t(){this._headerVisible=true;this.setProperty("title",`${this.spaceTitle} (${this.aInsightsApps.length})`);this._toggleHeaderActions(true)},_calculateVisibleTileCount:function t(e){const n=this._getInsightsContainer()?._getLayout();const i=n?.getDomRef();const s=e||[];let r=0;if(i&&s.length){const t=n.getProperty("showHeader");const e=t?1:0;const o=i.childNodes[e];const a=B(o,["width","padding-left","padding-right"]);let l=a.width-a["padding-left"]-a["padding-right"];const c={};c[z.Standard]=N+U;c[z.StandardWide]=j+U;let h=c[s[r].visualization?.displayFormatHint??z.Standard];do{l-=h;++r;h=c[s[r]?.visualization?.displayFormatHint??z.Standard]}while(l>h)}return r||1},_calculatePlaceholderTileCount:function t(){const e=this._getInsightsContainer()?._getLayout()?.getDomRef();let n=0;if(e){const t=e.childNodes[0];const i=B(t,["width","padding-left","padding-right"]);let s=i.width-i["padding-left"]-i["padding-right"];const r=N+U;n=Math.floor(s/r)}return n||1},_adjustLayout:function t(){const e=this._getInsightsContainer()?._getLayout();const n=this.getDeviceType()===O.Mobile;if(e){const t=n?this.aInsightsApps?.length:this._calculateVisibleTileCount(this.aInsightsApps);const i=e._getCurrentExpandedElementName()===this.getProperty("fullScreenName");this._controlModel.setProperty("/tiles",i?this.aInsightsApps:this.aInsightsApps?.slice(0,t));this._controlModel.setProperty("/isPhone",n);this._updateTilesActivity();const s=i||this.aInsightsApps.length>t;if(this._headerVisible){if(!n){this.getAggregation("actionButtons")?.forEach(t=>{if(t.getId().includes(V.ADD_TILES)){this._getInsightsContainer().toggleActionButton(t,true)}})}this._getInsightsContainer()?.toggleFullScreenElements(this,s)}else{const t=L(this);const e=t?.getTitle()??"";this._getInsightsContainer()?.updateMenuItem(this._controlMap.get(`${this.getId()}-${R.SHOW_MORE}`),s,e);this._getInsightsContainer()?.updateActionButton(this._controlMap.get(`${this.getId()}-${x.SHOW_MORE}`),s,e)}}},_getInsightsContainer:function t(){if(!this.insightsContainer){this.insightsContainer=this.getParent()}return this.insightsContainer},getContainerMenuItems:function t(){if(!this._containerMenuItems){const t=$(this,R.SHOW_MORE,"containerTilesShowMore");this._controlMap.set(`${this.getId()}-${R.SHOW_MORE}`,t);this._containerMenuItems=[t]}return this._containerMenuItems},getContainerActionButtons:function t(){if(!this._containerActionButtons){this._containerActionButtons=[];const t=W(this,x.SHOW_MORE,"containerTilesShowMore");if(t){this._controlMap.set(`${this.getId()}-${x.SHOW_MORE}`,t);this._containerActionButtons.push(t)}}return this._containerActionButtons},_toggleHeaderActions:function t(e){this.getAggregation("menuItems")?.forEach(t=>{this._getInsightsContainer()?.toggleMenuListItem(t,e)});this.getAggregation("actionButtons")?.forEach(t=>this._getInsightsContainer()?.toggleActionButton(t,e))}});k.tilesMenuItems=F;k.tilesContainerMenuItems=R;k.tilesActionButtons=V;k.tilesContainerActionButtons=x;k.DisplayFormat=z;return k});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/SpacePanel", ["sap/f/GridContainer","sap/f/GridContainerSettings","sap/m/Button","sap/m/Dialog","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Input","sap/m/Title","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/ui/core/Icon","sap/ui/core/theming/Parameters","sap/ushell/Config","sap/ushell/Container","./BaseAppPersPanel","./Group","./utils/Accessibility","./utils/CommonUtils","./utils/Constants"],function(t,e,o,n,i,s,r,a,l,p,c,u,d,g,h,f,_,m,y){"use strict";function b(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const I=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function v(t,e,o){if(!t.s){if(o instanceof A){if(o.s){if(e&1){e=o.s}o=o.v}else{o.o=v.bind(null,t,e);return}}if(o&&o.then){o.then(v.bind(null,t,e),v.bind(null,t,2));return}t.s=e;t.v=o;const n=t.o;if(n){n(t)}}}const A=function(){function t(){}t.prototype.then=function(e,o){const n=new t;const i=this.s;if(i){const t=i&1?e:o;if(t){try{v(n,1,t(this.v))}catch(t){v(n,2,t)}return n}else{return this}}this.o=function(t){try{const i=t.v;if(t.s&1){v(n,1,e?e(i):i)}else if(o){v(n,1,o(i))}else{v(n,2,i)}}catch(t){v(n,2,t)}};return n};return t}();function D(t){return t instanceof A&&t.s&1}function G(t,e,o){var n=-1,i,s;function r(a){try{while(++n<t.length&&(!o||!o())){a=e(n);if(a&&a.then){if(D(a)){a=a.v}else{a.then(r,s||(s=v.bind(null,i=new A,2)));return}}}if(i){v(i,1,a)}else{i=a}}catch(t){v(i||(i=new A),2,t)}}r();return i}const M=b(h);function P(t,e,o){if(typeof t[I]==="function"){var n=t[I](),i,s,r;function c(t){try{while(!(i=n.next()).done&&(!o||!o())){t=e(i.value);if(t&&t.then){if(D(t)){t=t.v}else{t.then(c,r||(r=v.bind(null,s=new A,2)));return}}}if(s){v(s,1,t)}else{s=t}}catch(t){v(s||(s=new A),2,t)}}c();if(n.return){var a=function(t){try{if(!i.done){n.return()}}catch(t){}return t};if(s&&s.then){return s.then(a,function(t){throw a(t)})}a()}return s}if(!("length"in t)){throw new TypeError("Object is not iterable")}var l=[];for(var p=0;p<t.length;p++){l.push(t[p])}return G(l,function(t){return e(l[t])},o)}const $=b(f);const C=_["getInvisibleText"];const S=m["filterVisualizations"];const T=m["getPageManagerInstance"];const w=y["MYHOME_PAGE_ID"];const B=()=>d.last("/core/shell/enablePersonalization")||d.last("/core/catalog/enabled");const x=M.extend("sap.cux.home.SpacePanel",{metadata:{library:"sap.cux.home",defaultAggregation:"apps",properties:{spaceId:{type:"string",group:"Data",defaultValue:""},title:{type:"string",group:"Misc",defaultValue:""}},aggregations:{apps:{type:"sap.cux.home.App",singularName:"app",multiple:true,visibility:"hidden"},groups:{type:"sap.cux.home.Group",singularName:"group",multiple:true,visibility:"hidden"}}},constructor:function t(e,o){M.prototype.constructor.call(this,e,o)},init:function t(){M.prototype.init.call(this);this.setProperty("key","spacePanel");this.pageManager=T(this);this.attachPersistDialog(()=>{if(this._selectedGroupId){void this._showGroupDetailDialog(this._selectedGroupId,false,this._selectedPageId)}})},loadApps:function t(){try{const e=this;function o(t){function o(){s=S(s);e.destroyAggregation("groups",true);const t=s.filter(t=>t.isSection);const o=e._generateGroups(t);e._setGroups(o);e.destroyAggregation("apps",true);const n=s.filter(t=>!t.isSection);const i=e.generateApps(n);e.setApps(i);if(e._selectedGroupId){void e._setGroupDetailDialogApps(e._selectedGroupId,e._selectedPageId)}}e.allSpaces=t;const i=e.allSpaces.find(t=>t.id===n);if(!i||i.children.length===0)e.setApps([]);let s=[];const r=function(){if(i&&i.children.length>0){const t=P(i.children,function(t){return Promise.resolve(e.appManagerInstance.fetchFavVizs(true,false,t.id)).then(function(t){s.push(...t)})});if(t&&t.then)return t.then(function(){})}}();return r&&r.then?r.then(o):o(r)}const n=e.getProperty("spaceId");const i=e.allSpaces;return Promise.resolve(i?o(i):Promise.resolve(e.pageManager.fetchAllAvailableSpaces()).then(o))}catch(s){return Promise.reject(s)}},_generateGroups:function t(e){return e.map((t,e)=>{const o=typeof t.BGColor==="object"&&"key"in t.BGColor?t.BGColor.key:t.BGColor;const n=new $(`${this.getId()}-group-${e}`,{title:t.title,bgColor:o,status:t.status,icon:t.icon,number:t.badge,groupId:t.id,pageId:t.pageId,press:this._handleGroupPress.bind(this)});t.menuItems?.forEach(t=>{n.addAggregation("menuItems",t)});return n})},_setGroups:function t(e){e.forEach(t=>{this.addAggregation("groups",t,true)})},navigateToAppFinder:function t(e,o=w){try{return Promise.resolve(g.getServiceAsync("Navigation")).then(function(t){const n={pageID:o};if(e){n.sectionID=e}return Promise.resolve(t.navigate({target:{shellHash:`Shell-appfinder?&/catalog/${JSON.stringify(n)}`}})).then(function(){})})}catch(t){return Promise.reject(t)}},_showGroupDetailDialog:function t(e,o=false,n=w){try{const t=this;const i=t._getGroup(e);if(!i){return Promise.resolve()}t._selectedGroupId=e;t._selectedPageId=n;const s=t._generateGroupDetailDialog();const r=t._controlMap.get(`${t.getId()}-detailDialog-toolbar-color`);r.setColor(u.get({name:i.getBgColor()}));return Promise.resolve(t._setGroupDetailDialogApps(e,n)).then(function(){s.open();t._setGroupNameControl(i.getTitle(),o)})}catch(t){return Promise.reject(t)}},_setGroupDetailDialogApps:function t(e,o=w){try{const t=this;const n=t._getGroup(e);const i=function(){if(n){return Promise.resolve(t.appManagerInstance.getSectionVisualizations(e,false,o)).then(function(o){let i=S(o);n.destroyAggregation("apps",true);const s=t.generateApps(i);const r=t._controlMap.get(`${t.getId()}-detailDialog-apps`);t._setAggregation(n,s,"apps");r.destroyItems();t._setAggregation(r,n.getApps().map(e=>t.getParent()._getAppTile(e)));t._applyGroupedAppsPersonalization(e);t._dispatchAppsLoadedEvent(s)})}}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_applyGroupedAppsPersonalization:function t(e){const o=this._controlMap.get(`${this.getId()}-detailDialog-apps`);const n=o?.getItems()||[];void this._applyTilesPersonalization(n,e)},_dispatchAppsLoadedEvent:function t(e){const o=this._controlMap.get(`${this.getId()}-detailDialog-apps`);const n=o?.getItems()||[];this.getParent().fireEvent("appsLoaded",{apps:e,tiles:n})},_generateGroupDetailDialog:function i(){const s=`${this.getId()}-detailDialog`;if(!this._controlMap.get(s)){this._controlMap.set(`${s}-toolbar-color`,new c({id:`${s}-toolbar-color`,src:"sap-icon://color-fill",size:"1.25rem"}).addStyleClass("sapUiTinyMarginEnd"));this._controlMap.set(`${s}-toolbar-title`,new a({id:`${s}-toolbar-title`,visible:true}));const i=C(`${s}-toolbar-renameTitle`,this._i18nBundle.getText("renameGroup"));this._controlMap.set(`${s}-toolbar-renameTitle`,i);const u=new r({id:`${s}-toolbar-title-edit`,width:"13.75rem",visible:false,ariaLabelledBy:[`${s}-toolbar-renameTitle`]});this._controlMap.set(`${s}-toolbar-title-edit`,u);const d=new t({id:`${s}-apps`,layout:new e(`${s}-appsLayout`,{columnSize:"19rem",gap:"0.5rem"})}).addStyleClass("sapCuxAppsContainerBorder sapCuxAppsDetailContainerPadding");this._controlMap.set(`${s}-apps`,d);this._controlMap.set(`${s}-addAppsBtn`,new o(`${s}-addAppsBtn`,{text:this._i18nBundle.getText("addApps"),icon:"sap-icon://action",visible:B(),press:()=>{const t=this._selectedGroupId;this._closeGroupDetailDialog();this._selectedGroupId=t;void this.navigateToAppFinder(t,this._selectedPageId)}}));this._controlMap.set(s,new n(s,{content:this._controlMap.get(`${s}-apps`),contentWidth:"60.75rem",endButton:new o({id:`${s}-groupDetailCloseBtn`,text:this._i18nBundle.getText("XBUT_CLOSE"),press:this._closeGroupDetailDialog.bind(this)}),escapeHandler:this._closeGroupDetailDialog.bind(this),customHeader:new l(`${this.getId()}-toolbar`,{content:[this._controlMap.get(`${s}-toolbar-color`),this._controlMap.get(`${s}-toolbar-title`),this._controlMap.get(`${s}-toolbar-title-edit`),this._controlMap.get(`${s}-toolbar-renameTitle`),new p({id:`${this.getId()}-toolbarSpacer`}),this._controlMap.get(`${s}-addAppsBtn`)]})}).addStyleClass("sapCuxGroupDetailDialog"))}return this._controlMap.get(s)},_closeGroupDetailDialog:function t(){const e=this._controlMap.get(`${this.getId()}-detailDialog`);const o=this._getGroup(this._selectedGroupId);o?.destroyApps();this._selectedGroupId=undefined;e?.close()},_setGroupNameControl:function t(e,o){const n=this._controlMap.get(`${this.getId()}-detailDialog`);const i=this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title`);const s=this._controlMap.get(`${this.getId()}-detailDialog-toolbar-title-edit`);s.setValue(e);i.setText(e);s?.setVisible(o);i?.setVisible(!o);if(o){n.setInitialFocus(s)}},_handleGroupPress:function t(e){const o=e.getParameter("groupId");const n=e.getParameter("pageId")||w;if(o){void this._showGroupDetailDialog(o,false,n)}},generateIllustratedMessage:function t(){const e=M.prototype.generateIllustratedMessage.call(this);e.setDescription(this._i18nBundle.getText("noFavAppsDescription"));e.setIllustrationSize(i.Small);e.setIllustrationType(s.AddingColumns);e.addAdditionalContent(new o(`${this.getId()}-errorMessage-addApps`,{text:this._i18nBundle.getText("addApps"),tooltip:this._i18nBundle.getText("addAppsTooltip"),icon:"sap-icon://action",visible:B(),press:()=>{void this.navigateToAppFinder()},type:"Emphasized"}));return e}});return x});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/TaskPanel", ["sap/base/Log","sap/m/ActionTile","sap/m/ActionTileContent","sap/m/Button","sap/m/ContentConfig","sap/m/Link","sap/m/List","sap/m/MessageBox","sap/m/Popover","sap/m/StandardListItem","sap/m/TileAttribute","sap/m/library","sap/ui/core/format/NumberFormat","./MenuItem","./ToDoPanel","./utils/DecisionDialog","./utils/Device","./utils/FESRUtil","./utils/TaskUtils"],function(t,e,n,o,i,s,r,a,c,u,l,p,f,d,h,_,g,m,y){"use strict";function T(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function b(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const P=p["ButtonType"];const D=p["ContentConfigType"];const A=p["LoadState"];const I=p["PlacementType"];const C=p["URLHelper"];const v=T(d);const k=T(h);const x=T(_);const w=_["getIconFrameBadge"];const E=_["getIconFrameBadgeValueState"];const R=g["calculateDeviceType"];const S=g["DeviceType"];const B=g["fetchElementProperties"];const O=m["addFESRId"];const L=m["addFESRSemanticStepName"];const M=m["FESR_EVENTS"];const U=y["fetchUserDetails"];const V=y["formatDate"];const $=y["getPriority"];const W=y["getTaskUrl"];var N=function(t){t["CURRENCYVALUE"]="CURRENCYVALUE";t["CURRENCYCODE"]="CURRENCYCODE";t["USER"]="USER";return t}(N||{});var H=function(t){t["TextFirst"]="TextFirst";t["TextLast"]="TextLast";t["TextOnly"]="TextOnly";t["TextSeparate"]="TextSeparate";return t}(H||{});const G={GRID_VIEW_MIN_ROWS:1,GRID_VIEW_MAX_ROWS:2,GRID_VIEW_MIN_WIDTH:304,GRID_VIEW_TWO_COL_MIN_WIDTH:374,GRID_VIEW_MAX_WIDTH:583,CARD_HEIGHT:{1:220,2:272,3:324,4:376}};function j(t,e){const n=[];for(let o=0;o<t.length;o+=e){n.push(t.slice(o,o+e))}return n}const F=k.extend("sap.cux.home.TaskPanel",{metadata:{library:"sap.cux.home",properties:{enableActions:{type:"boolean",group:"Data",defaultValue:false,visibility:"public"},customAttributeUrl:{type:"string",group:"Data",defaultValue:"",visibility:"public"}}},constructor:function t(e,n){k.prototype.constructor.call(this,e,n)},init:function t(){k.prototype.init.call(this);this._customAttributeMap={};this._taskDefinitionMap={};this.setProperty("key","tasks");this.setProperty("title",this._i18nBundle.getText("tasksTabTitle"));this._viewAllTasksMenuItem=new v(`${this.getId()}-view-tasks-btn`,{title:this._i18nBundle.getText("viewAllTasksTitle"),icon:"sap-icon://inbox",visible:false,press:this._onPressViewAll.bind(this)});this.insertAggregation("menuItems",this._viewAllTasksMenuItem,0);O(this._viewAllTasksMenuItem,"goToTaskSitution");const[e]=this.getContent()||[];e?.addStyleClass("sapUiGridTaskLayout")},generateRequestUrls:function t(e){const n=[this.getCountUrl(),`${this.getDataUrl()},CustomAttributeData&$expand=CustomAttributeData&$skip=0&$top=${e}`];const o=this.getCustomAttributeUrl();if(o){n.push(o)}return n},generateCardTemplate:function t(r,a){const c=a.getObject().attributes?.map((t,e)=>new l(`${r}-${e}-attribute`,{label:t.label,contentConfig:new i(`${r}-${e}-contentConfig`,{type:t.type,text:t.text,href:t.href})}));return new e(`${r}-actionTile`,{mode:"ActionMode",frameType:"TwoByOne",pressEnabled:true,enableIconFrame:true,enableDynamicHeight:true,enableNavigationButton:true,headerImage:"sap-icon://workflow-tasks",badgeIcon:w(a.getProperty("Priority")),badgeValueState:E(a.getProperty("Priority")),header:a.getProperty("TaskTitle"),state:a.getProperty("loadState"),priority:$(a.getProperty("Priority")),priorityText:this._toPriorityText($(a.getProperty("Priority"))),press:t=>this._onPressTask(t),tileContent:[new n(`${r}-actionTileContent`,{headerLink:new s({text:a.getProperty("CreatedByName"),press:t=>{void this._onClickCreatedBy(t)}}),attributes:c})],actionButtons:[(()=>{const t=new o(`${r}-view-btn`,{text:this._i18nBundle.getText("viewButton"),press:t=>t.getSource().getParent().firePress(),visible:a.getProperty("actions/length")===0});L(t,M.PRESS,"todoActionViewBtn");return t})(),(()=>{const t=new o(`${r}-approve-btn`,{text:a.getProperty("actions/0/text"),type:a.getProperty("actions/0/type"),press:()=>this._onActionButtonPress(a.getProperty("actions/0/pressHandler")),visible:a.getProperty("actions/0")!==undefined});L(t,M.PRESS,"todoActionBtn");return t})(),(()=>{const t=new o(`${r}-reject-btn`,{text:a.getProperty("actions/1/text"),type:a.getProperty("actions/1/type"),press:()=>this._onActionButtonPress(a.getProperty("actions/1/pressHandler")),visible:a.getProperty("actions/1")!==undefined});L(t,M.PRESS,"todoActionBtn");return t})(),(()=>{const t=new o(`${r}-overflow-btn`,{icon:"sap-icon://overflow",type:P.Transparent,press:t=>this._onOverflowButtonPress(t,a),visible:a.getProperty("actions/length")>=3});L(t,M.PRESS,"todoActBtnOverflow");return t})()]})},_onOverflowButtonPress:function t(e,n){const o=n.getProperty("actions").slice(2);this._getOverflowButtonPopover(o).openBy(e.getSource())},_getOverflowButtonPopover:function t(e){if(!this._overflowPopover){this._overflowList=new r(`${this.getId()}-overflowList`);this._overflowPopover=new c(`${this.getId()}-overflowPopover`,{showHeader:false,content:this._overflowList,placement:I.VerticalPreferredBottom})}this._setupOverflowList(e);return this._overflowPopover},_setupOverflowList:function t(e){this._overflowList.destroyItems();e.forEach((t,e)=>{const n=new u(`action-${e}`,{title:t.text,type:"Active",press:()=>this._onActionButtonPress(t.pressHandler)});L(n,M.PRESS,"todoActionBtn");this._overflowList.addItem(n)})},_onActionButtonPress:function t(e){e(this._loadCards.bind(this))},_getCustomAttributes:function t(e){const n=[];const o=4;const i=this._customAttributeMap[e.TaskDefinitionID]||[];for(let t of i){const o=t;const i=e.CustomAttributeData?.results;const s=i.find(t=>t.Name===o.name);let r="";if(s&&!o.referenced){const t={label:o.label+":",type:D.Text};if(o.format){r=this._formatCustomAttribute(o,i)}else if(o.textArrangement){r=this._arrangeText(s,o.textArrangement)}else{r=o.type==="Edm.DateTime"?V(s.Value):s.Value}t.text=r||"-";n.push(t)}}this._addCommonAttributes(n,e);return n.slice(0,o)},_arrangeText:function t(e,n){const o=e.Value.trim();const i=e.ValueText.trim();let s="";switch(n){case H.TextFirst:s=`${i} (${o})`;break;case H.TextLast:s=`${o} (${i})`;break;case H.TextOnly:s=`${i}`;break;case H.TextSeparate:s=`${o}`;break;default:s=`${i} ${o})`;break}return s},_formatCustomAttribute:function t(e,n=[]){const o=t=>n.find(e=>e.Name===t);const i=e.format?.toUpperCase();const s=o(e.name);let r=s?.Value;if(i===N.CURRENCYVALUE&&e.reference){const t=o(e.reference);if(t){const e=f.getCurrencyInstance();r=e.format(parseFloat(s?.Value),t.Value)}}else if(i===N.USER){r=s?.FormattedValue||s?.Value}return r},_addCommonAttributes:function t(e,n){if(n.CompletionDeadline){e.push({label:this._i18nBundle.getText("dueDate")+":",text:V(n.CompletionDeadline,"MMM dd, YYYY hh:mm a"),type:D.Text})}if(n.CreatedOn){e.push({label:this._i18nBundle.getText("createdOn")+":",text:V(n.CreatedOn),type:D.Text})}},_onPressTask:function t(e){if(this.getTargetAppUrl()){const t=e.getSource();const n=t.getBindingContext();const o=n?.getProperty("loadState");const i=W(n?.getProperty("SAP__Origin"),n?.getProperty("InstanceID"),this.getTargetAppUrl());if(o!==A.Loading){C.redirect(i,false)}}},_onClickCreatedBy:function e(n){try{const e=this;const o=n.getSource();const{SAP__Origin:i,CreatedBy:s,TaskTitle:r,CreatedByName:c,InstanceID:u}=n.getSource().getBindingContext()?.getObject();const l=W(i,u,e.getTargetAppUrl());const p=(t,{subject:e,body:n})=>{C.triggerEmail(t,e,n)};const f=new URL(window.location.href);f.hash=l;const d=f.toString();return Promise.resolve(U(i,s)).then(function(n){if(n.Email){sap.ui.require(["sap/suite/ui/commons/collaboration/ServiceContainer"],function(e){try{return Promise.resolve(e.getServiceAsync()).then(function(e){const i=function(){if(e.enableContactsCollaboration){const i=b(function(){return Promise.resolve(e.enableContactsCollaboration(n.Email,{subject:r,body:encodeURIComponent(d)})).then(function(t){const e=t;e.openBy(o)})},function(e){t.error(e instanceof Error?e.message:String(e));p(n.Email,{subject:r,body:d})});if(i&&i.then)return i.then(function(){})}else{p(n.Email,{subject:r,body:d})}}();if(i&&i.then)return i.then(function(){})})}catch(t){return Promise.reject(t)}})}else{a.warning(e._i18nBundle.getText("noEmail",[c]))}})}catch(t){return Promise.reject(t)}},onDataReceived:function t(e,n){try{const t=this;const[o,i]=e;t._extractCustomAttributes(i);const s=function(){if(!n||n&&!n.onlyCount){return Promise.resolve(t._updateTasks(o)).then(function(e){t._oData.displayTiles=t._oData.tiles=e})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_updateTasks:function t(e=[]){try{const t=this;let n=t._addCustomAttributes(e);const o=function(){if(t.getEnableActions()){const e=t._getTaskDefintions(n);return Promise.resolve(t._downloadDecisionOptions(e)).then(function(){n=t._addActions(n)})}}();return Promise.resolve(o&&o.then?o.then(function(){return n}):n)}catch(t){return Promise.reject(t)}},_addCustomAttributes:function t(e){return e.map(t=>({...t,attributes:this._getCustomAttributes(t)}))},_addActions:function t(e){return e.map(t=>{const e=t.SAP__Origin+t.TaskDefinitionID;return{...t,actions:this._taskDefinitionMap[e]?x.getTaskActions(t,this.getBaseUrl(),this._taskDefinitionMap,this._i18nBundle):[]}})},_downloadDecisionOptions:function t(e){try{const t=this;const n=[];const o=Object.keys(e).reduce((o,i)=>{if(!Object.keys(t._taskDefinitionMap).includes(i)){n.push(i);t._taskDefinitionMap[i]=[];const{SAP__Origin:s,InstanceID:r}=e[i];o.push(`DecisionOptions?SAP__Origin='${s}'&InstanceID='${r}'`)}return o},[]);const i=function(){if(o.length){t._clearRequests();t.requests.push({baseURL:t.getBaseUrl(),requestURLs:o,success:e=>{e.forEach((e,o)=>{t._taskDefinitionMap[n[o]]=e});return Promise.resolve()}});return Promise.resolve(t._submitBatch()).then(function(){})}}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},_getTaskDefintions:function t(e=[]){const n={};e.forEach(t=>{const e=t.SAP__Origin+t.TaskDefinitionID;if(!n[e]){n[e]={SAP__Origin:t.SAP__Origin,InstanceID:t.InstanceID,TaskDefinitionID:t.TaskDefinitionID}}});return n},_extractCustomAttributes:function t(e=[]){e.forEach(t=>{const e=t.CustomAttributeDefinitionData?.results||[];this._customAttributeMap[t.TaskDefinitionID]=e.filter(t=>t.Rank>0).sort((t,e)=>e.Rank-t.Rank).map(t=>({name:t.Name,label:t.Label,type:t.Type,format:t.Format,reference:t.Reference,referenced:t.Referenced,textArrangement:t.TextArrangement}))})},getNoDataText:function t(){return this._i18nBundle.getText("noTaskTitle")},getVerticalCardCount:function t(e,n){const o=B(e,["padding-top"]);const i=B(e.parentElement,["height"]);const s=this.calculateTitleHeight();const r=i.height-o["padding-top"]*2-s;const a=this.getHorizontalCardCount(e);const c=n?.isPlaceholder;const u=16;let l=0;let p=0;if(this._isLoaded()){const t=j(this._oData.tiles,a);const e=t.map(t=>{const e=t.reduce(function(t,e){e.attributes=e.attributes||[];return e.attributes.length>t?e.attributes.length:t},1);let n=Math.min(e,4);if(this._isGridLayoutAllowed()){n=n>G.GRID_VIEW_MAX_ROWS?G.GRID_VIEW_MAX_ROWS:G.GRID_VIEW_MIN_ROWS}return G.CARD_HEIGHT[n]+u});for(let t of e){if(l+t<r){l+=t;p++}else{break}}}else{p=Math.floor(r/G.CARD_HEIGHT[c?"4":"1"])}return Math.max(p,2)},_adjustLayout:function t(){k.prototype._adjustLayout.call(this);this.setProperty("minCardWidth",this._isGridLayoutAllowed()?G.GRID_VIEW_TWO_COL_MIN_WIDTH:G.GRID_VIEW_MIN_WIDTH);this.setProperty("maxCardWidth",G.GRID_VIEW_MAX_WIDTH)},_isGridLayoutAllowed:function t(){const e=R();return e===S.LargeDesktop||e===S.XLargeDesktop},setTargetAppUrl:function t(e){this._viewAllTasksMenuItem.setVisible(!!e);this.setProperty("targetAppUrl",e);return this}});return F});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/TilesPanel", ["sap/base/Log","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/GenericTile","sap/m/HBox","sap/m/HeaderContainer","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/IllustratedMessageType","sap/m/Label","sap/m/List","sap/m/ObjectIdentifier","sap/m/Title","sap/m/VBox","sap/m/library","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ui/core/Lib","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/api/S4MyHome","./BasePanel","./MenuItem","./utils/Accessibility","./utils/AppManager","./utils/Constants","./utils/DataFormatUtils","./utils/Device","./utils/DragDropUtils","./utils/FESRUtil","./utils/InsightsUtils"],function(t,e,i,n,s,o,a,r,l,c,d,h,u,g,p,f,m,I,_,v,M,A,S,T,y,D,P,F,C,B,E,x,$,b,z){"use strict";function w(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function H(t,e){try{var i=t()}catch(t){return e(t)}if(i&&i.then){return i.then(void 0,e)}return i}const R=I["ButtonType"];function L(t,e){try{var i=t()}catch(t){return e(true,t)}if(i&&i.then){return i.then(e.bind(null,false),e.bind(null,true))}return e(false,i)}const O=I["LoadState"];const V=w(D);const W=w(P);const k=F["checkPanelExists"];const U=w(C);const N=B["DEFAULT_BG_COLOR"];const j=B["END_USER_COLORS"];const G=B["MYHOME_PAGE_ID"];const Y=B["MYINSIGHT_SECTION_ID"];const J=B["SETTINGS_PANELS_KEYS"];const K=E["recycleId"];const X=x["DeviceType"];const q=x["fetchElementProperties"];const Q=$["focusDraggedItem"];const Z=b["addFESRId"];const tt=b["addFESRSemanticStepName"];const et=b["FESR_EVENTS"];const it=z["createShowMoreActionButton"];const nt=z["createShowMoreMenuItem"];const st=z["getAssociatedFullScreenMenuItem"];const ot=z["sortMenuItems"];var at=function(t){t["REFRESH"]="tiles-refresh";t["ADD_APPS"]="tiles-addSmartApps";t["EDIT_TILES"]="tiles-editTiles";return t}(at||{});var rt=function(t){t["REFRESH"]="container-tiles-refresh";t["ADD_APPS"]="container-tiles-addSmartApps";t["EDIT_TILES"]="container-tiles-editTiles";t["SHOW_MORE"]="tilesContainerFullScreenMenuItem";return t}(rt||{});var lt=function(t){t["ADD_TILES"]="tiles-addTilesButton";return t}(lt||{});var ct=function(t){t["ADD_TILES"]="container-tiles-addTilesButton";t["SHOW_MORE"]="tilesContanerFullScreenActionButton";return t}(ct||{});var dt=function(t){t["Standard"]="standard";t["StandardWide"]="standardWide";return t}(dt||{});const ht="sap.cux.home.FavAppPanel";const ut="sap.cux.home.AppsContainer";const gt=[at.REFRESH,at.ADD_APPS,at.EDIT_TILES,"showMore","settings"];const pt=()=>S.last("/core/shell/enablePersonalization")||S.last("/core/catalog/enabled");const ft=176;const mt=368;const It=16;const _t=V.extend("sap.cux.home.TilesPanel",{metadata:{library:"sap.cux.home",properties:{title:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},key:{type:"string",group:"Misc",defaultValue:"",visibility:"hidden"},fullScreenName:{type:"string",group:"Misc",defaultValue:"SI1",visibility:"hidden"}},defaultAggregation:"tiles",aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"},tiles:{type:"sap.cux.home.App",multiple:true,singularName:"tile",visibility:"hidden"}},events:{handleHidePanel:{parameters:{}},handleUnhidePanel:{parameters:{}}}},constructor:function t(e,i){V.prototype.constructor.call(this,e,i);this._insightsSectionTitle=this._i18nBundle.getText("insights");this._addFromFavDialogId=`${this.getId()}-addFromFavDialog`;this.aInsightsApps=[];this._headerVisible=false},init:function e(){const i=this;V.prototype.init.call(this);this._controlMap=new Map;this._oData={tiles:[],activateInsightsTiles:true,activateInsightsTilesOnPhone:false,activateInsightsTilesOnDesktop:false};this._controlModel=new A(this._oData);this.appManagerInstance=U.getInstance();this.setProperty("key","tiles");this.setProperty("enableFullScreen",true);const n=this._createRefreshMenuItem(at.REFRESH,"tilesRefresh");const s=this._createEditTilesMenuItem(at.EDIT_TILES,"manageTiles");const o=[n,s];o.forEach(t=>this.addAggregation("menuItems",t));this._sortMenuItems(gt);const a=this._createAddTilesButton(lt.ADD_TILES,"addTiles");const r=[a];r.forEach(t=>this.addAggregation("actionButtons",t));this._createTilesFlexWrapper();T.getServiceAsync("VisualizationInstantiation").then(t=>{this.VizInstantiationService=t}).catch(e=>{t.error(e instanceof Error?e.message:String(e))});this.oEventBus=_.getInstance();this.oEventBus.subscribe("importChannel","tilesImport",function(t,e,n){try{return Promise.resolve(i.appManagerInstance.createInsightSection(i._i18nBundle.getText("insightsTiles"))).then(function(){return Promise.resolve(i._addSectionViz(n,Y)).then(function(){return Promise.resolve(i.refreshData()).then(function(){i._adjustLayout();i._importdone()})})})}catch(t){return Promise.reject(t)}},this);this._toggleTileActivity()},_toggleTileActivity:function e(){const i=this;const n=function(t){try{const e=t.getParameter("isMyHomeRoute");i._controlModel.setProperty("/activateInsightsTiles",e);const n=function(){if(e){const t=function(){if(i._appSwitched){return Promise.resolve(i.refreshData(true)).then(function(){i._appSwitched=false})}}();if(t&&t.then)return t.then(function(){})}else{i._appSwitched=true}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}};try{y.attachRouteMatched({},n,this)}catch(e){t.warning(e instanceof Error?e.message:String(e))}},_addSectionViz:function t(e,i){return e.reduce((t,e)=>t.then(()=>{if(e.isBookmark){return this.appManagerInstance.addBookMark(e)}else{return i?this.appManagerInstance.addVisualization(e.vizId,i):this.appManagerInstance.addVisualization(e.vizId)}}),Promise.resolve())},_importdone:function t(){const e={status:true};this.oEventBus.publish("importChannel","tilesImported",e)},_showPlaceHolders:function t(){const e=new Array(this._calculatePlaceholderTileCount()).fill(O.Loading);this.aInsightsApps=e.map((t,e)=>new a(K(`${this.getId()}--placeHolderTile--${e}`),{sizeBehavior:"Responsive",state:t,frameType:"OneByOne",mode:"IconMode",visible:true,renderOnThemeChange:true,ariaRole:"listitem",dropAreaOffset:8}).setLayoutData?.(new i(K(`${this.getId()}--placeHolderTileLayoutData--${e}`),{columns:2})));this._controlModel.setProperty("/tiles",this.aInsightsApps,undefined,true)},_clearPlaceHolders:function t(){this._controlModel.setProperty("/tiles",[])},renderPanel:function t(){try{let e=false;const i=this;function n(t){return e?t:Promise.resolve()}const s=L(function(){return H(function(){const t=i.getParent();i._showPlaceHolders();if(k(t,ut,ht)){const t=i._createAddFromFavMenuItem(at.ADD_APPS,"smartAppsDialog");i.addAggregation("menuItems",t);i._sortMenuItems(gt)}return Promise.resolve(i.refreshData()).then(function(t){e=true;return t})},function(t){i.fireHandleHidePanel()})},function(t,e){i.fireEvent("loaded");if(t)throw e;return e});return Promise.resolve(s&&s.then?s.then(n):n(s))}catch(o){return Promise.reject(o)}},_sortMenuItems:function t(e){const i=this.getAggregation("menuItems");let n=ot(e,i);this.removeAllAggregation("menuItems");n?.forEach(t=>this.addAggregation("menuItems",t))},refreshData:function t(e=false){try{const t=this;const i=t.getMetadata().getName();return Promise.resolve(t.appManagerInstance.fetchInsightApps(true,t._insightsSectionTitle)).then(function(n){function s(){t._clearPlaceHolders();t._controlModel.setProperty("/tiles",t.aInsightsApps);if(t.aInsightsApps?.length){t.fireHandleUnhidePanel();if(e){const e=t.getDeviceType()===X.Mobile;const i=e?t.tilesMobileContainer:t.tilesContainer;const n=i.getMetadata().getDefaultAggregationName();const s=i.getAggregation(n)||[];s.forEach(t=>t.refresh?.())}t._getInsightsContainer()?.updatePanelsItemCount(t.aInsightsApps.length,i);if(t._headerVisible){t.setProperty("title",`${t._i18nBundle?.getText("insightsTiles")} (${t.aInsightsApps.length})`)}}else{t.fireHandleHidePanel()}}t.aInsightsApps=n;const o=t.aInsightsApps.some(t=>t.isSmartBusinessTile);const a=function(){if(o){return Promise.resolve(M.load({name:"sap.cloudfnd.smartbusiness.lib.reusetiles"})).then(function(){})}}();return a&&a.then?a.then(s):s(a)})}catch(t){return Promise.reject(t)}},_createTilesFlexWrapper:function t(){if(!this._tilesWrapper){this._tilesWrapper=new m(`${this.getId()}-tilesWrapper`,{renderType:"Bare",width:"100%",items:[this._createMobileFlexWrapper(),this._createWrapperFlexBox()]});this._tilesWrapper.setModel(this._controlModel);this.addContent(this._tilesWrapper)}},_createMobileFlexWrapper:function t(){if(!this.tilesMobileContainer){this.tilesMobileContainer=new l(`${this.getId()}-insightsTilesMobileContainer`,{scrollStep:0,scrollStepByItem:1,gridLayout:true,scrollTime:1e3,showDividers:false,visible:"{/isPhone}"}).addStyleClass("sectionMarginTopTilesInsight sapMHeaderContainerMarginBottom");this._attachAggregationToContainer(this.tilesMobileContainer)}return this.tilesMobileContainer},_createWrapperFlexBox:function t(){if(!this.tilesContainer){this.tilesContainer=new e(`${this.getId()}-insightsTilesContainer`,{visible:"{= !${/isPhone}}"}).addStyleClass("insightTiles sapUiSmallMarginTop sapUiSmallMarginBottom");this._attachAggregationToContainer(this.tilesContainer)}return this.tilesContainer},_updateTilesActivity:function t(){const e=this.getDeviceType()===X.Mobile;const i=Boolean(this._controlModel.getProperty("/activateInsightsTiles"));this._controlModel.setProperty("/activateInsightsTilesOnPhone",i&&e);this._controlModel.setProperty("/activateInsightsTilesOnDesktop",i&&!e)},_attachAggregationToContainer:function t(e){e.setModel(this._controlModel);const n=e.getMetadata().getDefaultAggregationName();const s=this.getDeviceType()===X.Mobile;e.bindAggregation(n,{path:"/tiles",factory:(t,e)=>{const n=e.getObject();if(n instanceof a){return n}const o=this.VizInstantiationService.instantiateVisualization(n.visualization);o.setLayoutData?.(new i(`${this.getId()}-itemLayoutData-${t}`,{minRows:2,columns:o.getDisplayFormat?.()===dt.Standard?2:4}));o?.bindProperty?.("active",s?"/activateInsightsTilesOnPhone":"/activateInsightsTilesOnDesktop");this._setDropAreaRectFunction(o);return o}});this.addDragDropConfigTo(e,t=>this._handleTilesDnd(t))},_setDropAreaRectFunction:function t(e){const i=8;const n=e;if(typeof n.getDropAreaRect!=="function"){Object.defineProperty(e,"getDropAreaRect",{value:function(){const t=this.getDomRef();if(!t)return null;const e=t.getBoundingClientRect();return{left:e.left-i,right:e.right+i,top:e.top,bottom:e.bottom,width:e.width,height:e.height}}})}},_handleTilesDnd:function t(e){const i=e.getParameter?.("dropPosition"),n=e?.getParameter?.("draggedControl"),s=e.getParameter("droppedControl"),o=n.getParent()?.indexOfItem(n);let a=n.getParent()?.indexOfItem(s);if(i==="Before"&&o===a-1){a--}else if(i==="After"&&o===a+1){a++}if(o!==a){void this._DragnDropTiles(o,a,i)}},_DragnDropTiles:function t(e,i,n){try{const t=this;if(n==="Before"&&e<i){i--}else if(n==="After"&&e>i){i++}const s=t.aInsightsApps[i],o=t.aInsightsApps.splice(e,1)[0];t.aInsightsApps.splice(i,0,o);const a={pageId:G,sourceSectionIndex:o.persConfig?.sectionIndex,sourceVisualizationIndex:o.persConfig?.visualizationIndex,targetSectionIndex:s.persConfig?.sectionIndex,targetVisualizationIndex:s.persConfig?.visualizationIndex};t._controlModel.setProperty("/tiles",t.aInsightsApps);return Promise.resolve(t.appManagerInstance.moveVisualization(a)).then(function(){return Promise.resolve(t.refreshData(true)).then(function(){setTimeout(()=>{Q(t.tilesContainer,i)},0)})})}catch(t){return Promise.reject(t)}},handleEditTiles:function t(e){let i=e.getSource().getParent()||this;if(i instanceof _t){i=i.getParent()}i?._getLayout().openSettingsDialog(J.INSIGHTS_TILES)},handleHideHeader:function t(){this._headerVisible=false;this.setProperty("title","");this._toggleHeaderActions(false)},handleAddHeader:function t(){this._headerVisible=true;this.setProperty("title",`${this._i18nBundle?.getText("insightsTiles")} (${this.aInsightsApps.length})`);this._toggleHeaderActions(true)},_closeAddFromFavDialog:function t(){const e=this._controlMap.get(`${this._addFromFavDialogId}-list`);e?.removeSelections();this._controlMap.get(this._addFromFavDialogId)?.close()},navigateToAppFinder:function t(){try{return Promise.resolve(T.getServiceAsync("Navigation")).then(function(t){const e={pageID:G,sectionID:Y};return Promise.resolve(t.navigate({target:{shellHash:`Shell-appfinder?&/catalog/${JSON.stringify(e)}`}})).then(function(){})})}catch(t){return Promise.reject(t)}},_getLegendColor:function t(e){return j().find(t=>t.value===e)||N()},_handleAddFromFavApps:function t(){try{const t=this;return Promise.resolve(t._getFavToAdd()).then(function(e){const i=t._generateAddFromFavAppsDialog();t._controlMap.get(`${t._addFromFavDialogId}-errorMessage`)?.setVisible(e.length===0);t._generateAddFromFavAppsListItems(e);i.open()})}catch(t){return Promise.reject(t)}},_getFavToAdd:function t(){try{const t=this;return Promise.resolve(t.appManagerInstance.fetchFavVizs(false,true)).then(function(e){const i=e.filter(function(t){return t.isCount||t.isSmartBusinessTile});const n=i.filter(e=>{const i=t.aInsightsApps.findIndex(function(t){return!e.visualization?.isBookmark&&t.visualization?.vizId===e.visualization?.vizId||e.visualization?.isBookmark&&t.visualization?.targetURL===e.visualization?.targetURL});return i===-1});return n})}catch(t){return Promise.reject(t)}},_getSelectedInsights:function t(){const e=this._controlMap.get(`${this._addFromFavDialogId}-list`);return e.getSelectedItems()||[]},_generateAddFromFavAppsListItems:function t(e){const i=this._addFromFavDialogId;const n=this._controlMap.get(`${i}-list`);if(e.length){n.destroyItems();const t=e.map((t,e)=>new s({id:`${i}-listItem-${e}`,content:[new r({id:`${i}-listItem-${e}-content`,alignItems:"Center",items:[new v({id:`${i}-listItem-${e}-content-icon`,src:t.icon,backgroundColor:this._getLegendColor(typeof t.BGColor==="object"?t.BGColor.key:t.BGColor??"").value,color:"white",width:"2.25rem",height:"2.25rem",size:"1.25rem"}).addStyleClass("sapUiRoundedBorder sapUiTinyMargin"),new p({id:`${i}-listItem-${e}-content-identifier`,title:t.title,text:t.subtitle,tooltip:t.title}).addStyleClass("sapUiTinyMargin")]})]}).addStyleClass("sapUiContentPadding").data("app",t));t.forEach(t=>n.addItem(t))}n?.setVisible(e.length!==0)},_generateAddFromFavAppsDialog:function t(){const e=this._addFromFavDialogId;const i=()=>{const t=this._getSelectedInsights();this._controlMap.get(`${e}-addBtn`).setEnabled(t.length>0)};if(!this._controlMap.get(e)){const t=(t,e)=>{const i=new n(t,{icon:"sap-icon://action",text:this._i18nBundle.getText("appFinderBtn"),press:()=>{this._closeAddFromFavDialog();void this.navigateToAppFinder()},visible:pt(),type:e??R.Default});tt(i,et.PRESS,"tilesAppFinder");return i};this._controlMap.set(`${e}-list`,new g({id:`${e}-list`,mode:"MultiSelect",selectionChange:i}));const s=new n({id:`${e}-addBtn`,text:this._i18nBundle.getText("addBtn"),type:"Emphasized",press:()=>{void this._addFromFavApps()},enabled:false});tt(s,et.PRESS,"addSmartApps");this._controlMap.set(`${e}-addBtn`,s);this._controlMap.set(`${e}-errorMessage`,new c({id:`${e}-errorMessage`,illustrationSize:d.Small,illustrationType:h.AddDimensions,title:this._i18nBundle.getText("noAppsTitle"),description:this._i18nBundle.getText("tilesSectionNoDataDescription"),visible:true}).addStyleClass("sapUiLargeMarginTop"));const a=new o(e,{title:this._i18nBundle.getText("addSmartApps"),content:[new u({id:`${e}-label`,text:this._i18nBundle.getText("suggTileDialogLabel"),wrapping:true}).addStyleClass("sapMTitleAlign sapUiTinyMarginTopBottom sapUiSmallMarginBeginEnd"),new r({id:`${e}-textContainer`,justifyContent:"SpaceBetween",alignItems:"Center",items:[new f({id:`${e}-text`,text:this._i18nBundle.getText("suggTileDialogTitle")}),t(`${e}-addAppsBtn`,R.Transparent)]}).addStyleClass("sapUiTinyMarginTop dialogHeader sapUiSmallMarginBeginEnd"),this._controlMap.get(`${e}-list`),this._controlMap.get(`${e}-errorMessage`)],contentWidth:"42.75rem",contentHeight:"32.5rem",endButton:new n({id:`${e}-addFromFavDialogCloseBtn`,text:this._i18nBundle.getText("XBUT_CLOSE"),press:this._closeAddFromFavDialog.bind(this)}),escapeHandler:this._closeAddFromFavDialog.bind(this),buttons:[this._controlMap.get(`${e}-addBtn`),new n({id:`${e}-cancelBtn`,text:this._i18nBundle.getText("cancelBtn"),press:this._closeAddFromFavDialog.bind(this)})]}).addStyleClass("sapContrastPlus sapCuxAddFromInsightsDialog");this.addDependent(a);this._controlMap.set(e,a)}i();return this._controlMap.get(e)},_addFromFavApps:function t(){try{const t=this;const e=t._controlMap.get(t._addFromFavDialogId);e.setBusy(true);const i=t._getSelectedInsights();return Promise.resolve(t.appManagerInstance._getSections()).then(function(n){return Promise.resolve(i.reduce(function(e,i){return Promise.resolve(e).then(function(){const e=i.data("app");const s={pageId:G,sourceSectionIndex:e.persConfig?.sectionIndex,sourceVisualizationIndex:e.persConfig?.visualizationIndex,targetSectionIndex:t.appManagerInstance.insightsSectionIndex,targetVisualizationIndex:-1};if(e.visualization?.isBookmark){const e=n.findIndex(t=>t.default);if(e===-1){s.sourceSectionIndex=0;s.sourceVisualizationIndex=0;s.targetSectionIndex=t.appManagerInstance.insightsSectionIndex+1}else{s.sourceSectionIndex=e;s.sourceVisualizationIndex=n[e]?.visualizations?.length||0;s.targetSectionIndex=t.appManagerInstance.insightsSectionIndex}}if(e.visualization?.displayFormatHint!=="standard"&&e.visualization?.displayFormatHint!=="standardWide"){if(e.visualization?.supportedDisplayFormats==="standard"){e.visualization.displayFormatHint="standard"}else if(e.visualization?.supportedDisplayFormats==="standardWide"){e.visualization.displayFormatHint="standardWide"}}if(!e.visualization?.vizId){e.visualization.vizId=e.visualization?.targetURL??""}const o=function(){if(e.visualization?.isBookmark===true){return Promise.resolve(t.appManagerInstance.addBookMark(e.visualization,s)).then(function(){})}else{return Promise.resolve(t.appManagerInstance.addVisualization(e.visualization?.vizId,Y)).then(function(){})}}();if(o&&o.then)return o.then(function(){})})},Promise.resolve())).then(function(){return Promise.resolve(t.refreshData()).then(function(){e.setBusy(false);e.close()})})})}catch(t){return Promise.reject(t)}},_calculateVisibleTileCount:function t(e){const i=this._getInsightsContainer()?._getLayout();const n=i?.getDomRef();const s=e||[];let o=0;if(n&&s.length){const t=i.getProperty("showHeader");const e=t?1:0;const a=n.childNodes[e];const r=q(a,["width","padding-left","padding-right"]);let l=r.width-r["padding-left"]-r["padding-right"];const c={};c[dt.Standard]=ft+It;c[dt.StandardWide]=mt+It;let d=c[s[o].visualization?.displayFormatHint??dt.Standard];do{l-=d;++o;d=c[s[o]?.visualization?.displayFormatHint??dt.Standard]}while(l>d)}return o||1},_calculatePlaceholderTileCount:function t(){const e=this._getInsightsContainer()?._getLayout()?.getDomRef();let i=0;if(e){const t=e.childNodes[0];const n=q(t,["width","padding-left","padding-right"]);let s=n.width-n["padding-left"]-n["padding-right"];const o=ft+It;i=Math.floor(s/o)}return i||1},_adjustLayout:function t(){const e=this._getInsightsContainer()?._getLayout();const i=this.getDeviceType()===X.Mobile;if(e){const t=i?this.aInsightsApps?.length:this._calculateVisibleTileCount(this.aInsightsApps);const n=e._getCurrentExpandedElementName()===this.getProperty("fullScreenName");this._controlModel.setProperty("/tiles",n?this.aInsightsApps:this.aInsightsApps?.slice(0,t));this._controlModel.setProperty("/isPhone",i);this._updateTilesActivity();const s=n||this.aInsightsApps.length>t;if(this._headerVisible){if(!i){this.getAggregation("actionButtons")?.forEach(t=>{if(t.getId().includes(lt.ADD_TILES)){this._getInsightsContainer().toggleActionButton(t,true)}})}this._getInsightsContainer()?.toggleFullScreenElements(this,s)}else{const t=st(this);const e=t?.getTitle()??"";this._getInsightsContainer()?.updateMenuItem(this._controlMap.get(`${this.getId()}-${rt.SHOW_MORE}`),s,e);this._getInsightsContainer()?.updateActionButton(this._controlMap.get(`${this.getId()}-${ct.SHOW_MORE}`),s,e)}}},_getInsightsContainer:function t(){if(!this.insightsContainer){this.insightsContainer=this.getParent()}return this.insightsContainer},getContainerMenuItems:function t(){if(!this._containerMenuItems){const t=this._createRefreshMenuItem(rt.REFRESH,"containerTilesRefresh");const e=this._createEditTilesMenuItem(rt.EDIT_TILES,"containerManageTiles");const i=nt(this,rt.SHOW_MORE,"containerTilesShowMore");const n=this.getParent();this._controlMap.set(`${this.getId()}-${rt.SHOW_MORE}`,i);this._containerMenuItems=[t,e,i];if(k(n,ut,ht)){const t=this._createAddFromFavMenuItem(rt.ADD_APPS,"containerSmartAppsDialog");this._containerMenuItems.splice(1,0,t)}}return this._containerMenuItems},getContainerActionButtons:function t(){if(!this._containerActionButtons){this._containerActionButtons=[];this._containerActionButtons.push(this._createAddTilesButton(ct.ADD_TILES,"containerSmartAppsDialog"));const t=it(this,ct.SHOW_MORE,"containerTilesShowMore");if(t){this._controlMap.set(`${this.getId()}-${ct.SHOW_MORE}`,t);this._containerActionButtons.push(t)}}return this._containerActionButtons},_createRefreshMenuItem:function t(e,i){const n=new W(`${this.getId()}-${e}`,{title:this._i18nBundle.getText("refresh"),icon:"sap-icon://refresh",visible:false,press:()=>void this.refreshData(true)});this._controlMap.set(`${this.getId()}-${e}`,n);if(i){Z(n,i)}return n},_createAddFromFavMenuItem:function t(e,i){if(!this._controlMap.get(`${this.getId()}-${e}`)){const t=new W(`${this.getId()}-${e}`,{title:this._i18nBundle.getText("addSmartApps"),icon:"sap-icon://duplicate",visible:false,press:()=>void this._handleAddFromFavApps()});this._controlMap.set(`${this.getId()}-${e}`,t);if(i){Z(t,i)}}return this._controlMap.get(`${this.getId()}-${e}`)},_createEditTilesMenuItem:function t(e,i){const n=new W(`${this.getId()}-${e}`,{title:this._i18nBundle.getText("editLinkTiles"),icon:"sap-icon://edit",visible:false,press:t=>this.handleEditTiles(t)});this._controlMap.set(`${this.getId()}-${e}`,n);if(i){Z(n,i)}return n},_createAddTilesButton:function t(e,i){const s=this;const o=new n(`${this.getId()}-${e}`,{text:this._i18nBundle.getText("appFinderLink"),tooltip:this._i18nBundle.getText("appFinderLink"),press:function(){try{const t=s._getInsightsContainer();const e=function(){if(k(t,ut,ht)){void s._handleAddFromFavApps()}else{return Promise.resolve(s.navigateToAppFinder()).then(function(){})}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}}});this._controlMap.set(`${this.getId()}-${e}`,o);if(i){Z(o,i)}return o},_toggleHeaderActions:function t(e){this.getAggregation("menuItems")?.forEach(t=>{this._getInsightsContainer()?.toggleMenuListItem(t,e)});this.getAggregation("actionButtons")?.forEach(t=>this._getInsightsContainer()?.toggleActionButton(t,e))}});_t.tilesMenuItems=at;_t.tilesContainerMenuItems=rt;_t.tilesActionButtons=lt;_t.tilesContainerActionButtons=ct;_t.DisplayFormat=dt;return _t});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/ToDoPanel", ["sap/base/Log","sap/f/Card","sap/f/GridContainer","sap/f/GridContainerSettings","sap/m/Button","sap/m/GenericTile","sap/m/HeaderContainer","sap/m/IllustratedMessage","sap/m/IllustratedMessageSize","sap/m/Text","sap/m/TileContent","sap/m/VBox","sap/m/library","sap/ui/Device","sap/ui/core/Element","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/model/json/JSONModel","./BasePanel","./MenuItem","./ToDosContainer","./utils/BatchHelper","./utils/Device","./utils/FESRUtil","./utils/HttpHelper"],function(t,e,n,r,i,o,s,a,l,u,c,h,d,f,_,p,g,D,y,m,T,C,P,E,I){"use strict";function v(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function R(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}const b=d["Priority"];function L(t,e){try{var n=t()}catch(t){return e(true,t)}if(n&&n.then){return n.then(e.bind(null,false),e.bind(null,true))}return e(false,n)}const w=d["URLHelper"];const x=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function M(t,e,n){if(!t.s){if(n instanceof S){if(n.s){if(e&1){e=n.s}n=n.v}else{n.o=M.bind(null,t,e);return}}if(n&&n.then){n.then(M.bind(null,t,e),M.bind(null,t,2));return}t.s=e;t.v=n;const r=t.o;if(r){r(t)}}}const S=function(){function t(){}t.prototype.then=function(e,n){const r=new t;const i=this.s;if(i){const t=i&1?e:n;if(t){try{M(r,1,t(this.v))}catch(t){M(r,2,t)}return r}else{return this}}this.o=function(t){try{const i=t.v;if(t.s&1){M(r,1,e?e(i):i)}else if(n){M(r,1,n(i))}else{M(r,2,i)}}catch(t){M(r,2,t)}};return r};return t}();function O(t){return t instanceof S&&t.s&1}function A(t,e,n){var r=-1,i,o;function s(a){try{while(++r<t.length&&(!n||!n())){a=e(r);if(a&&a.then){if(O(a)){a=a.v}else{a.then(s,o||(o=M.bind(null,i=new S,2)));return}}}if(i){M(i,1,a)}else{i=a}}catch(t){M(i||(i=new S),2,t)}}s();return i}const H=v(y);function B(t,e,n){if(typeof t[x]==="function"){var r=t[x](),i,o,s;function c(t){try{while(!(i=r.next()).done&&(!n||!n())){t=e(i.value);if(t&&t.then){if(O(t)){t=t.v}else{t.then(c,s||(s=M.bind(null,o=new S,2)));return}}}if(o){M(o,1,t)}else{o=t}}catch(t){M(o||(o=new S),2,t)}}c();if(r.return){var a=function(t){try{if(!i.done){r.return()}}catch(t){}return t};if(o&&o.then){return o.then(a,function(t){throw a(t)})}a()}return o}if(!("length"in t)){throw new TypeError("Object is not iterable")}var l=[];for(var u=0;u<t.length;u++){l.push(t[u])}return A(l,function(t){return e(l[t])},n)}const N=v(m);const U=v(T);const $=v(C);const F=P["calculateCardWidth"];const W=P["DeviceType"];const V=P["fetchElementProperties"];const q=E["addFESRId"];const j=v(I);const G={SITUATION_ICON:"sap-icon://message-warning",PLACEHOLDER_ITEMS_COUNT:5,TODO_CARDS_LIMIT:100,TODO_SECTION_LIMIT:6,TODOS_REFRESH_INTERVAL:65e3,MOBILE_DEVICE_MAX_WIDTH:600,DEFAULT_TITLE_HEIGHT:33,DEFAULT_CARD_HEIGHT:168,DEFAULT_TAB_HEADER_HEIGHT:44,GAP:16};const z=H.extend("sap.cux.home.ToDoPanel",{metadata:{library:"sap.cux.home",properties:{baseUrl:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},countUrl:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},dataUrl:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},targetAppUrl:{type:"string",group:"Misc",defaultValue:"",visibility:"public"},minCardWidth:{type:"int",group:"Misc",defaultValue:304,visibility:"hidden"},maxCardWidth:{type:"int",group:"Misc",defaultValue:583,visibility:"hidden"},useBatch:{type:"boolean",group:"Misc",defaultValue:true,visibility:"hidden"}},aggregations:{content:{multiple:true,singularName:"content",visibility:"hidden"}}},constructor:function t(e,n){H.prototype.constructor.call(this,e,n);this.batchHelper=new $},init:function t(){const e=this;H.prototype.init.call(this);this._oData={length:0,isLoaded:false,hasError:false,cardWidth:"20rem",getSupported:false,isExpandedOnce:false,isCountCalledOnce:false,illustrationType:"sapIllus-NoTasks",refreshInfo:this._toRelativeDateTime(new Date),fullRefreshInfo:this._toFullRelativeDateTime(new Date),horizontalCardCount:G.PLACEHOLDER_ITEMS_COUNT,illustrationTitle:this._i18nBundle.getText("noToDoTitle"),illustrationDescription:this._i18nBundle.getText("noToDoDesc"),isPhone:f.resize.width<G.MOBILE_DEVICE_MAX_WIDTH||f.system.phone,tiles:new Array(G.PLACEHOLDER_ITEMS_COUNT).fill({loadState:"Loading"}),displayTiles:new Array(G.PLACEHOLDER_ITEMS_COUNT).fill({loadState:"Loading"})};this._controlModel=new D(this._oData);this.requests=[];this._toDoWrapper=new h(`${this.getId()}-toDosWrapper`,{renderType:"Bare",items:[this._generateCardContainer(),this._generateMobileCardContainer(),this._generateErrorMessage()]});this._toDoWrapper.setModel(this._controlModel);this.addContent(this._toDoWrapper);const n=new N(`${this.getId()}-refresh`,{title:this._i18nBundle.getText("refresh"),icon:"sap-icon://refresh",press:()=>this._onPressRefresh()});this.addAggregation("menuItems",n);q(n,"todosRefresh");this._accRefreshLabel=new p(`${this.getId()}-refreshAccText`,{text:this._toFullRelativeDateTime(new Date)});this.addDependent(this._accRefreshLabel);this._refreshBtn=new i(`${this.getId()}-refreshBtn`,{icon:"sap-icon://refresh",text:this._toRelativeDateTime(new Date),press:()=>this._onPressRefresh()});this._refreshBtn.addAriaLabelledBy(this._accRefreshLabel);q(this._refreshBtn,"manualTodoRefresh");this.addAggregation("actionButtons",this._refreshBtn);this.setProperty("enableFullScreen",true);this.attachEvent("onExpand",function(){try{return Promise.resolve(e._beforePanelExpand()).then(function(){})}catch(t){return Promise.reject(t)}})},_generateCardContainer:function t(){if(!this._cardContainer){this._cardContainer=new n(`${this.getId()}-flexContainer`,{inlineBlockLayout:true,snapToRow:true,visible:"{= !${/isPhone} && !${/hasError} && (!${/isLoaded} || ${/length} > 0) }",layout:new r(`${this.getId()}-layout`,{columns:"{/horizontalCardCount}",columnSize:"{/cardWidth}",gap:"1rem"})}).addStyleClass("sapCuxToDoCardsContainer")}return this._cardContainer},_generateMobileCardContainer:function t(){if(!this._mobileCardContainer){this._mobileCardContainer=new s(`${this.getId()}-headerContainer`,{visible:"{/isPhone}",scrollStep:0,gridLayout:true,scrollTime:1e3,showDividers:false,snapToRow:true}).addStyleClass("sapCuxToDoMobileCardsContainer")}return this._mobileCardContainer},_generateErrorMessage:function t(){if(!this._errorCard){this._errorMessage=new a(`${this.getId()}-errorMessage`,{illustrationSize:l.Base,title:"{/illustrationTitle}",description:"{/illustrationDescription}",illustrationType:"{/illustrationType}"});this._errorCard=new e(`${this.getId()}-errorCard`,{content:this._errorMessage,visible:"{= ${/tiles/length} === 0 || ${/hasError} === true }"})}return this._errorCard},_onPressRefresh:function t(){void this.getParent()?._getSelectedPanel()?._loadCards(true)},_loadCards:function e(n){try{const e=this;if(e._loadToDos!==undefined&&!n){return Promise.resolve(e._loadToDos)}else{e._bindInnerControls();e._loadToDos=new Promise(n=>{const r=e.getParent()?._getSelectedPanel()?.getProperty("key");const i=[];e._oData.isLoaded=false;e._oData.isCountCalledOnce=false;e._oData.isExpandedOnce=e._isElementExpanded();e._setCount();if(e._getSupported()){setTimeout(()=>{e._generatePlaceHolderTiles();i.push(e._generateRequestObject({type:r,onlyCount:r!==e.getProperty("key")}));e.requests=e.requests.concat(i);e._submitBatch().then(function(){try{e._oData.isLoaded=r===e.getProperty("key");e.fireEvent("loaded");e._oData.isCountCalledOnce=true;e._setCount(e._oData.length);e._setSectionRefreshInterval();e._oData.refreshInfo=e._toRelativeDateTime(new Date);e._oData.fullRefreshInfo=e._toFullRelativeDateTime(new Date);e._oData.lastRefreshedTime=new Date;e._updateRefreshInformation();return Promise.resolve(e._switchTabIfRequired()).then(function(){e._updateHeaderIfExclusive()})}catch(t){return Promise.reject(t)}}).catch(e=>{t.error(e instanceof Error?e.message:"")}).finally(()=>{e._controlModel.refresh();e._adjustLayout();n()})})}else{e._handleError(`User not authorized to access: + ${e.getTargetAppUrl()}`);e.getParent()?.removeContent(e);n()}})}return Promise.resolve(e._loadToDos)}catch(t){return Promise.reject(t)}},_updateHeaderIfExclusive:function t(){if(this._isExclusivePanel()){this.getParent()._setTitle(`${this._i18nBundle.getText("toDosTitle")} (${String(this._oData.length)})`)}},_bindInnerControls:function t(){if(!this._innerControlsBound){this._cardContainer.bindAggregation("items",{path:"/displayTiles",length:G.TODO_CARDS_LIMIT,factory:(t,e)=>this.generateCardTemplate(t,e)?.bindProperty?.("width",{path:"/cardWidth"})});this._mobileCardContainer.bindAggregation("content",{path:"/displayTiles",length:G.TODO_CARDS_LIMIT,factory:(t,e)=>this.generateCardTemplate(t,e)?.bindProperty?.("width",{path:"/cardWidth"})});this._innerControlsBound=true}},generateCardTemplate:function t(e,n){return new o(`${e}-tile`,{mode:"ActionMode",frameType:"TwoByOne",pressEnabled:true,header:n.getProperty("title"),width:n.getProperty("/cardWidth"),state:n.getProperty("loadState"),tileContent:[new c(`${e}-tileContent`,{priority:n.getProperty("priority"),priorityText:this._toPriorityText(n.getProperty("priority")),footer:n.getProperty("footerText"),content:new u(`${e}-situationContent`,{text:n.getProperty("message")})})]})},_toPriorityText:function t(e){let n;if(e===b.VeryHigh){n="veryHighPriority"}else if(e===b.High){n="highPriority"}else if(e===b.Medium){n="mediumPriority"}else if(e===b.Low){n="lowPriority"}else{n="nonePriority"}return this._i18nBundle.getText(n)},_generatePlaceHolderTiles:function t(){this._cardCount=this._getVisibleCardCount({isPlaceholder:true});this._oData.displayTiles=this._oData.tiles=new Array(this._cardCount).fill({loadState:"Loading"});this._oData.isLoaded=this._oData.hasError=false;this._controlModel.refresh()},_getVisibleCardCount:function t(e){const n=this.getParent()?._getLayout();let r=false;let i=this._toDoWrapper?.getDomRef();if(n){r=this._isElementExpanded();const t=n.getProperty("showHeader");const e=(r?n._getFullScreenContainer():n).getDomRef();const o=t&&!r?1:0;i=e?.childNodes[o]}const o=this._controlModel.getProperty("/isPhone");let s=o?G.TODO_SECTION_LIMIT:1;if(i){s=this.getHorizontalCardCount(i,e);if(r){s*=this.getVerticalCardCount(i,e)}s=s>G.TODO_CARDS_LIMIT?G.TODO_CARDS_LIMIT:s}return s},_isElementExpanded:function t(){const e=this.getParent();const n=e._getLayout();return n?._getCurrentExpandedElementName()===e.getProperty("fullScreenName")},getHorizontalCardCount:function t(e){const n=V(e,["width","padding-left","padding-right","margin-left","margin-right"]);const r=Object.values(n).slice(1).reduce((t,e)=>t-e,n["width"]);const i=this._oData.length;const o=this._controlModel.getProperty("/isPhone");let s;const a=this.getProperty("minCardWidth");const l=this.getProperty("maxCardWidth");const u={containerWidth:r,totalCards:i,minWidth:a,maxWidth:l,gap:G.GAP};const c=F(u);if(o){s=G.TODO_SECTION_LIMIT}else{s=Math.max(Math.floor(r/c),1)}this._controlModel.setProperty("/cardWidth",`${c/16}rem`);this._controlModel.setProperty("/horizontalCardCount",s);return s},getVerticalCardCount:function t(e){const n=V(e,["padding-top"]);const r=V(e.parentElement,["height"]);const i=this.calculateTitleHeight();const o=r.height-n["padding-top"]*2-i;const s=14;const a=G.DEFAULT_CARD_HEIGHT+s;const l=Math.max(Math.floor(o/a),2);return l},calculateTitleHeight:function t(){const e=this.getParent();const n=_.getElementById(`${e.getId()}-header`)?.getDomRef();const r=_.getElementById(`${e._getInnerControl().getId()}--header`)?.getDomRef();const i=G.DEFAULT_TITLE_HEIGHT+G.DEFAULT_TAB_HEADER_HEIGHT;let o=0;if(n&&r){o=n.clientHeight+r.clientHeight}return Math.max(o,i)},_generateRequestObject:function t(e){const n=this;const r=this._getVisibleCardCount();const i=this.getCountUrl();const o=this.generateRequestUrls?.(r);if(i&&e?.onlyCount){o.splice(1)}return{baseURL:this.getBaseUrl(),requestURLs:o,success:function(t){try{return Promise.resolve(n.onDataReceived(i?t.splice(1):t,e)).then(function(){n._oData.length=i?Number(t[0]):n._oData.tiles.length;n._handleEmptyCards()})}catch(t){return Promise.reject(t)}}}},generateRequestUrls:function t(e){const n=[];const r=this.getCountUrl();if(r){n.push(r)}let i=this.getDataUrl();if(this.getProperty("useBatch")){const t=`$skip=0&$top=${e}`;i=i.includes("?")?`${i}&${t}`:`${i}?${t}`}n.push(i);return n},onDataReceived:function t(e=[],n){try{const t=this;if(!n||n&&!n.onlyCount){t._oData.displayTiles=t._oData.tiles=e[0]||[]}return Promise.resolve(Promise.resolve()).then(function(){})}catch(t){return Promise.reject(t)}},_handleEmptyCards:function t(){if(Number(this._oData.length)===0){this._oData.illustrationType="sapIllus-EmptyPlanningCalendar";this._oData.illustrationTitle=this._isExclusivePanel()?this._i18nBundle.getText("noToDoTitle"):this.getNoDataText();this._oData.illustrationDescription=this._isExclusivePanel()?this._i18nBundle.getText("noToDoDesc"):this._i18nBundle.getText("emptyToDoDesc")}},_isExclusivePanel:function t(){const e=this.getParent().getContent();const n=e.filter(t=>t._getSupported());return n.length===1||e.length===1&&this._getSupported()},_setSectionRefreshInterval:function t(){clearInterval(this._oData.refreshFn);this._oData.refreshFn=setInterval(()=>{this._oData.lastRefreshedTime=this._oData.lastRefreshedTime||new Date;this._oData.refreshInfo=this._toRelativeDateTime(this._oData.lastRefreshedTime);this._oData.fullRefreshInfo=this._toFullRelativeDateTime(this._oData.lastRefreshedTime);this._updateRefreshInformation()},G.TODOS_REFRESH_INTERVAL)},_updateRefreshInformation:function t(){const e=this.getParent();if(e.getProperty("selectedKey")===this.getProperty("key")){this._refreshBtn.setProperty("text",this._oData.refreshInfo,true);this._accRefreshLabel.setProperty("text",this._oData.fullRefreshInfo,true);this._refreshBtn.setAggregation("tooltip",this._oData.fullRefreshInfo,true);e._updateContainerHeader(this)}this._adjustLayout()},_adjustLayout:function t(){const e=this._getVisibleCardCount();if(this._oData.tiles.length&&!this._oData.hasError){const t=this._oData.tiles.slice(0,e);this._controlModel.setProperty("/displayTiles",t)}this._controlModel.setProperty("/isPhone",this.getDeviceType()===W.Mobile);this.getParent()?.toggleFullScreenElements(this,this._isElementExpanded()||Number(this._oData.length)>e)},_toRelativeDateTime:function t(e){const n=new Date(e);return isNaN(Number(n))?"":z.relativeDateFormatter.format(n)},_toFullRelativeDateTime:function t(e){const n=new Date(e);return isNaN(Number(n))?"":z.fullRelativeDateFormatter.format(n)},getNoDataText:function t(){return this._i18nBundle.getText("noData")},_parseResponse:function t(e){const{d:n={},value:r}=e||{};const i=n?.results;const o=!isNaN(+n)&&+n;const s=!isNaN(+e)&&+e;return i||o||s||r||e||0},_submitBatch:function t(){const e=this;return Promise.all(this.requests.map(function(t){try{return Promise.resolve(L(function(){return R(function(){const n=e.getProperty("useBatch");return Promise.resolve(n?e.batchHelper.createMultipartRequest(t.baseURL,t.requestURLs):j.GetMultipleRequests(t.requestURLs)).then(function(n){if(n.length){const r=n.map(t=>{if(typeof t==="string"){t=JSON.parse(t)}return e._parseResponse(t)});const i=function(){if(t.success&&typeof t.success==="function"){return Promise.resolve(t.success(r)).then(function(){})}}();return i&&i.then?i.then(function(){return r}):r}else{throw new Error("Invalid response")}})},function(t){e._handleError(t)})},function(t,n){e._clearRequests();if(t)throw n;return n}))}catch(t){return Promise.reject(t)}}))},_handleError:function e(n){this._oData.displayTiles=this._oData.tiles=[];this._oData.getSupported=this._oData.isLoaded=this._oData.hasError=true;this._oData.illustrationType="sapIllus-UnableToLoad";this._oData.illustrationTitle=this._oData.illustrationDescription="";t.error(n);this._controlModel.refresh()},_clearRequests:function t(){this.requests=[]},_isLoaded:function t(){const e=this.getParent();const n=e?._getLayout()?.getProperty("expanded");const{isLoaded:r,isExpandedOnce:i}=this._oData;if(!n){return r}return i&&r},_setLoaded:function t(e){this._oData.isLoaded=e},_getSupported:function t(){return this._oData.getSupported},_setSupported:function t(e){this._oData.getSupported=e},_getAppIntent:function t(){const e=/#([^?-]+)-([^?#]+)(?:\?([^#]+))?(?:#.*)?/;const n=this.getTargetAppUrl().match(e);if(n){const t={semanticObject:n[1],action:n[2]};const e={};if(n[3]){const t=n[3].split("&");for(const n of t){const[t,r]=n.split("=");e[t]=r}}return{target:t,params:e}}else{return null}},_switchTabIfRequired:function t(){try{const t=this;const e=t.getParent();const n=e?.getProperty("selectedKey");return Promise.resolve(function(){if(n===t.getProperty("key")&&(t._oData.length===0||t._oData.hasError)){let r=false;function i(){const n=function(){if(o){e?.setProperty("selectedKey",o.getProperty("key"));U.cardCount=t._cardCount;return Promise.resolve(o._loadCards(true)).then(function(){U.cardCount=undefined})}}();if(n&&n.then)return n.then(function(){})}let o;const s=e?.getAggregation("content");const a=B(s,function(e){const n=function(){if(e!==t){return Promise.resolve(e._loadCards()).then(function(){if(e._getSupported()&&!e._isLoaded()&&e._getCardCount()>0){o=e;r=true}})}}();if(n&&n.then)return n.then(function(){})},function(){return r});return a&&a.then?a.then(i):i(a)}}())}catch(t){return Promise.reject(t)}},_onPressViewAll:function t(){w.redirect(this.getTargetAppUrl(),false)},_getCardCount:function t(){return Number(this._oData.length)},_beforePanelExpand:function t(){try{const t=this;const e=function(){if(!t._oData.isExpandedOnce){t._oData.isExpandedOnce=true;return Promise.resolve(t._loadCards(true)).then(function(){})}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},exit:function t(){clearInterval(this._oData.refreshFn)}});z.fullRelativeDateFormatter=g.getDateTimeInstance({style:"long",relative:true,relativeStyle:"wide"});z.relativeDateFormatter=g.getDateTimeInstance({style:"medium",relative:true,relativeStyle:"short"});return z});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/ToDosContainer", ["sap/base/Log","sap/ushell/Container","./BaseContainer","./utils/placeholder/ToDosPlaceholder","./utils/Device"],function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function s(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const c=i(n);const u=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function l(e,t,n){if(!e.s){if(n instanceof a){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=l.bind(null,e,t);return}}if(n&&n.then){n.then(l.bind(null,e,t),l.bind(null,e,2));return}e.s=t;e.v=n;const r=e.o;if(r){r(e)}}}const a=function(){function e(){}e.prototype.then=function(t,n){const r=new e;const o=this.s;if(o){const e=o&1?t:n;if(e){try{l(r,1,e(this.v))}catch(e){l(r,2,e)}return r}else{return this}}this.o=function(e){try{const o=e.v;if(e.s&1){l(r,1,t?t(o):o)}else if(n){l(r,1,n(o))}else{l(r,2,o)}}catch(e){l(r,2,e)}};return r};return e}();function f(e){return e instanceof a&&e.s&1}function h(e,t,n){var r=-1,o,i;function s(c){try{while(++r<e.length&&(!n||!n())){c=t(r);if(c&&c.then){if(f(c)){c=c.v}else{c.then(s,i||(i=l.bind(null,o=new a,2)));return}}}if(o){l(o,1,c)}else{o=c}}catch(e){l(o||(o=new a),2,e)}}s();return o}const d=r["getTodosPlaceholder"];function y(e,t,n){if(typeof e[u]==="function"){var r=e[u](),o,i,s;function p(e){try{while(!(o=r.next()).done&&(!n||!n())){e=t(o.value);if(e&&e.then){if(f(e)){e=e.v}else{e.then(p,s||(s=l.bind(null,i=new a,2)));return}}}if(i){l(i,1,e)}else{i=e}}catch(e){l(i||(i=new a),2,e)}}p();if(r.return){var c=function(e){try{if(!o.done){r.return()}}catch(e){}return e};if(i&&i.then){return i.then(c,function(e){throw c(e)})}c()}return i}if(!("length"in e)){throw new TypeError("Object is not iterable")}var d=[];for(var y=0;y<e.length;y++){d.push(e[y])}return h(d,function(e){return t(d[e])},n)}const p=o["DeviceType"];const g=c.extend("sap.cux.home.ToDosContainer",{renderer:{...c.renderer,apiVersion:2},metadata:{library:"sap.cux.home",properties:{fullScreenName:{type:"string",group:"Misc",defaultValue:"ST1",visibility:"hidden"}}},constructor:function e(t,n){c.prototype.constructor.call(this,t,n)},init:function e(){c.prototype.init.call(this);this.setProperty("title",this._i18nBundle?.getText("toDosTitle"));this.addStyleClass("sapCuxToDosContainer");this._isAuthCheckRequired=true;this.addCustomSetting("title",this._i18nBundle.getText("toDosTitle"));this.addCustomSetting("text",this._i18nBundle.getText("forMeTodayMsg"))},load:function e(){try{const e=this;const t=s(function(){return Promise.resolve(e._performAuthCheck()).then(function(){const t=e.getContent()||[];const n=t.filter(e=>!e._getSupported());const r=function(){if(n.length===t.length){e._handleToDoUnauthorizedAccess()}else{return Promise.resolve(e._loadAllPanels()).then(function(){})}}();if(r&&r.then)return r.then(function(){})})},function(t){e._handleToDoUnauthorizedAccess(t)});return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},_performAuthCheck:function e(){try{const e=this;return Promise.resolve(s(function(){if(!e._isAuthCheckRequired){return Promise.resolve()}else{return Promise.resolve(t.getServiceAsync("Navigation")).then(function(t){const n=e.getContent()||[];const r=n.map(e=>e.getTargetAppUrl()?e._getAppIntent():"#");return Promise.resolve(t.isNavigationSupported(r)).then(function(t){const r=t;n.forEach((e,t)=>e._setSupported(r[t].supported));e._isAuthCheckRequired=false;return Promise.resolve()})})}},function(e){return Promise.reject(e)}))}catch(e){return Promise.reject(e)}},_handleToDoUnauthorizedAccess:function t(n){e.error(n?.message||"User has no access to any available panels");this.getContent()?.forEach(e=>{e.fireEvent("loaded");this.removeContent(e)});this.setVisible(false);this.getParent()?.resetSections?.()},_loadAllPanels:function e(t){try{const e=this;const n=e.getProperty("selectedKey");const r=e.getContent()||[];const o=[...r].sort((e,t)=>{if(e.getProperty("key")===n){return-1}if(t.getProperty("key")===n){return 1}return 0});return Promise.resolve(y(o,function(e){const n=function(){if(!e._isLoaded?.()){return Promise.resolve(e._loadCards(t)).then(function(){})}}();if(n&&n.then)return n.then(function(){})}))}catch(e){return Promise.reject(e)}},_onPanelSelect:function e(t){try{const n=this;function r(){o._updateRefreshInformation()}c.prototype._onPanelSelect.call(n,t);const o=n._getSelectedPanel();const i=function(){if(!o._isLoaded()){return Promise.resolve(o._loadCards(true)).then(function(){})}}();return Promise.resolve(i&&i.then?i.then(r):r(i))}catch(s){return Promise.reject(s)}},refreshData:function e(){try{const e=this;e.getContent()?.forEach(e=>e._setLoaded(false));return Promise.resolve(e._loadAllPanels(true))}catch(e){return Promise.reject(e)}},getSelectedKey:function e(){if(!this.getProperty("selectedKey")){this.setProperty("selectedKey",this._getDefaultKey())}return this.getProperty("selectedKey")},_getDefaultKey:function e(){return this.getContent()?.[0]?.getProperty("key")},adjustLayout:function e(){this.toggleActionButtons(this.getDeviceType()!==p.Mobile);this.getContent()?.forEach(e=>e._adjustLayout())},getGenericPlaceholderContent:function e(){return d()}});return g});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/changeHandler/LayoutHandler", [],function(){"use strict";class e{allChanges=[];loadPersonalizationDialog(e,s){return new Promise(a=>{this.persDialogResolve=a;this.keyuserPersDialog=e.getAggregation("keyUserSettingsDialog");this.keyuserPersDialog.addStyleClass(s.styleClass);this.keyuserPersDialog.open()})}addChanges(e){this.allChanges.push(...e)}clearChanges(){this.allChanges=[]}resolve(){this.persDialogResolve(this.allChanges)}}const s=new e;return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/changeHandler/NewsFeedVisibilityChange", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";function n(e){return e.getItems().find(e=>e.getMetadata().getName()==="sap.cux.home.NewsAndPagesContainer")}let t=null;const i={applyChange:(e,i)=>{const s=n(i);if(t){clearTimeout(t)}t=setTimeout(()=>{s?.newsVisibilityChangeHandler(e.getContent())},0);return true},revertChange:(e,t)=>{const i=n(t);let s=e.getContent();s.isNewsFeedVisible=!s.isNewsFeedVisible;i?.newsVisibilityChangeHandler(s)},completeChangeContent:()=>{},getCondenserInfo:n=>({affectedControl:n.getSelector(),classification:e.LastOneWins,uniqueKey:"newsFeedVisibility"})};return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/changeHandler/SetNewsFeedUrl", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";function t(e){return e.getItems().find(e=>e.getMetadata().getName()==="sap.cux.home.NewsAndPagesContainer")}let s=null;const n={applyChange:(e,n)=>{const o=t(n);if(s){clearTimeout(s)}s=setTimeout(()=>{o?.newsPersonalization(e.getContent())},0);return true},revertChange:(e,s)=>{const n=t(s);let o=e.getContent();o.newsFeedURL=o.oldNewsFeedUrl;o.showCustomNewsFeed=o.oldShowCustomNewsFeed;o.customNewsFeedKey=o.oldCustomNewsFeedKey;o.showDefaultNewsFeed=o.oldshowDefaultNewsFeed;o.showRssNewsFeed=o.oldShowRssNewsFeed;n?.newsPersonalization(o)},completeChangeContent:()=>{},getCondenserInfo:t=>({affectedControl:t.getSelector(),classification:e.LastOneWins,uniqueKey:"newsFeedUrl"})};return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/changeHandler/SpacePageColorHandler", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";function n(e){return e.getItems().find(e=>e.getMetadata().getName()==="sap.cux.home.NewsAndPagesContainer")}const t={applyChange:(e,t)=>{const o=n(t);o?.setColorPersonalizations(e.getContent());return true},revertChange:(e,t)=>{const o=e.getContent();o.forEach(e=>{e.BGColor=e.oldColor;e.applyColorToAllPages=e.oldApplyColorToAllPages});const a=n(t);a?.setColorPersonalizations(o)},completeChangeContent:()=>{},getCondenserInfo:n=>{const t=n.getContent();return{affectedControl:n.getSelector(),classification:e.LastOneWins,uniqueKey:t.spaceId+(t.pageId||"")+"_color"}}};return t});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/changeHandler/SpacePageIconHandler", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";function n(e){return e.getItems().find(e=>e.getMetadata().getName()==="sap.cux.home.NewsAndPagesContainer")}const t={applyChange:(e,t)=>{const o=n(t);o?.setIconPersonalizations(e.getContent());return true},revertChange:(e,t)=>{const o=e.getContent();o.forEach(e=>{e.icon=e.oldIcon});const a=n(t);a?.setIconPersonalizations(o)},completeChangeContent:()=>{},getCondenserInfo:n=>{const t=n.getContent();return{affectedControl:n.getSelector(),classification:e.LastOneWins,uniqueKey:t.spaceId+(t.pageId||"")+"_icon"}}};return t});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/flexibility/BaseContainer.flexibility", ["sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/UnhideControl","./Layout.flexibility"],function(e,r,n){"use strict";const t=n["CHANGE_TYPES"];var a=function(e){e["applyChange"]="applyChange";e["revertChange"]="revertChange";return e}(a||{});const c=function(e,r,n,t,a){try{const c=e;return Promise.resolve(c[r](n,t,a)).then(function(){t.getParent().resetSections?.()})}catch(e){return Promise.reject(e)}};var o={[t.HIDE]:{layers:{USER:true},changeHandler:{...e,applyChange:function(r,n,t){try{return Promise.resolve(c(e,a.applyChange,r,n,t)).then(function(){})}catch(e){return Promise.reject(e)}},revertChange:function(r,n,t){try{return Promise.resolve(c(e,a.revertChange,r,n,t)).then(function(){})}catch(e){return Promise.reject(e)}}}},[t.UNHIDE]:{layers:{USER:true},changeHandler:{...r,applyChange:function(e,n,t){try{return Promise.resolve(c(r,a.applyChange,e,n,t)).then(function(){})}catch(e){return Promise.reject(e)}},revertChange:function(e,n,t){try{return Promise.resolve(c(r,a.revertChange,e,n,t)).then(function(){})}catch(e){return Promise.reject(e)}}}}};return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/flexibility/Layout.flexibility", ["sap/ui/fl/changeHandler/MoveControls","../changeHandler/NewsFeedVisibilityChange","../changeHandler/SetNewsFeedUrl","../changeHandler/SpacePageColorHandler","../changeHandler/SpacePageIconHandler"],function(e,a,n,r,l){"use strict";function E(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const t=E(a);const c=E(n);const o=E(r);const C=E(l);var d=function(e){e["HIDE"]="hideControl";e["UNHIDE"]="unhideControl";e["MOVE"]="moveControls";e["PAGE_COLOR"]="applyPageColor";e["SPACE_COLOR"]="applySpaceColor";e["PAGE_ICON"]="applyPageIcon";e["SPACE_ICON"]="applySpaceIcon";e["NEWS_FEED_URL"]="changeNewsFeedURL";e["NEWS_FEED_VISIBILITY"]="setNewsFeedVisibility";return e}(d||{});var s={[d.MOVE]:{layers:{USER:true},changeHandler:e},[d.SPACE_COLOR]:{layers:{CUSTOMER:true},changeHandler:o},[d.PAGE_COLOR]:{layers:{CUSTOMER:true},changeHandler:o},[d.SPACE_ICON]:{layers:{CUSTOMER:true},changeHandler:C},[d.PAGE_ICON]:{layers:{CUSTOMER:true},changeHandler:C},[d.NEWS_FEED_URL]:{layers:{CUSTOMER:true},changeHandler:c},[d.NEWS_FEED_VISIBILITY]:{layers:{CUSTOMER:true},changeHandler:t}};s.CHANGE_TYPES=d;return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/interface/CardsInterface", [],function(){"use strict";var a=function(a){a["SapSemantics"]="sap:semantics";a["UITextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangement";a["UIHidden"]="com.sap.vocabularies.UI.v1.Hidden";a["CommonLabel"]="com.sap.vocabularies.Common.v1.Label";a["UIHeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfo";a["UISelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariant";a["UILineItem"]="com.sap.vocabularies.UI.v1.LineItem";a["UIPresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariant";a["UIChart"]="com.sap.vocabularies.UI.v1.Chart";a["MeasuresISOCurrency"]="Org.OData.Measures.V1.ISOCurrency";a["MeasuresUnit"]="Org.OData.Measures.V1.Unit";a["CommonFieldControl"]="com.sap.vocabularies.Common.v1.FieldControl";a["UIIsImageURL"]="com.sap.vocabularies.UI.v1.IsImageURL";a["CommonText"]="com.sap.vocabularies.Common.v1.Text";a["CommonSemanticKey"]="com.sap.vocabularies.Common.v1.SemanticKey";return a}(a||{});var e={__esModule:true};e.UIAnnotations=a;return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/library", ["sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/core/library","sap/ui/integration/library"],function(e,a,s,n){"use strict";const o="sap.cux";const i="sap.cux.home";const t=a.init({apiVersion:2,name:"sap.cux.home",version:"0.0.1",dependencies:["sap.ui.core","sap.m","sap.ui.integration","sap.insights"],types:["sap.cux.home.OrientationType","sap.cux.home.NewsType"],interfaces:[],controls:["sap.cux.home.Layout","sap.cux.home.ToDosContainer","sap.cux.home.NewsAndPagesContainer","sap.cux.home.AppsContainer","sap.cux.home.InsightsContainer"],elements:["sap.cux.home.MenuItem","sap.cux.home.TaskPanel","sap.cux.home.SituationPanel","sap.cux.home.PagePanel","sap.cux.home.NewsPanel","sap.cux.home.FavAppPanel","sap.cux.home.FrequentAppPanel","sap.cux.home.RecentAppPanel","sap.cux.home.RecommendedAppPanel","sap.cux.home.TilesPanel","sap.cux.home.CardsPanel"],noLibraryCSS:false,extensions:{flChangeHandlers:{"sap.cux.home.Layout":"sap/cux/home/flexibility/Layout","sap.cux.home.BaseContainer":"sap/cux/home/flexibility/BaseContainer","sap.cux.home.ToDosContainer":"sap/cux/home/flexibility/BaseContainer","sap.cux.home.NewsAndPagesContainer":"sap/cux/home/flexibility/BaseContainer","sap.cux.home.InsightsContainer":"sap/cux/home/flexibility/BaseContainer","sap.cux.home.AppsContainer":"sap/cux/home/flexibility/BaseContainer"}}});var p=function(e){e["SideBySide"]="SideBySide";e["Vertical"]="Vertical";e["Horizontal"]="Horizontal";return e}(p||{});t.OrientationType=p;e.registerEnum("sap.cux.home.OrientationType",p);var u=function(e){e["NewsUrl"]="newsUrl";e["Custom"]="customFeed";e["Default"]="default";e["None"]="";return e}(u||{});t.NewsType=u;e.registerEnum("sap.cux.home.NewsType",u);t.cuxNamespace=o;t.cuxHomeNamespace=i;return t});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/Accessibility", ["sap/ui/core/InvisibleText"],function(e){"use strict";function t(t,n=""){if(t){return new e({id:t,text:n||""})}else{throw new Error("ID is required for InvisibleText.")}}function n(e,t,n){const i=e?._getLayout?.()??e;const r=i?.getAggregation("items");const s=r instanceof Array?r.find(e=>e.getMetadata()?.getName()===t):null;const o=s?.getAggregation("content");const a=o&&(o instanceof Array?o:[o])||[];return a.some(e=>e.getMetadata()?.getName()===n)}var i={__esModule:true};i.getInvisibleText=t;i.checkPanelExists=n;return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/AnalyticalCardSkeleton", [],function(){"use strict";const t={_version:"1.14.0","sap.app":{id:"card.explorer.data.list.card",type:"card",title:"",subTitle:"",applicationVersion:{version:"1.0.0"},shortTitle:"A short title for this Card",info:"Additional information about this Card",description:"A long description for this Card",tags:{keywords:["Data","Card","Sample"]}},"sap.card":{type:"Analytical",header:{title:"",subTitle:""},content:{data:{request:{url:"",method:"GET",parameters:{$format:"json"}},path:"/d/results"},item:{title:"{ProductName}",description:"{UnitsInStock} units in stock",attributesOrientationType:"OneColumn",attributes:[{value:"{Processor}"}]},maxItems:5}}};var e={__esModule:true};e.AnalyticalCardSkeleton=t;return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/AppManager", ["sap/base/Log","sap/base/i18n/ResourceBundle","sap/ui/VersionInfo","sap/ui/base/Object","sap/ui/model/odata/v2/ODataModel","sap/ushell/Config","sap/ushell/Container","./AnalyticalCardSkeleton","./Constants","./DataFormatUtils","./HttpHelper","./RecommendedCardUtil"],function(e,t,n,r,i,s,o,a,c,u,l,f){"use strict";function d(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function p(e,t,n){if(!e.s){if(n instanceof m){if(n.s){if(t&1){t=n.s}n=n.v}else{n.o=p.bind(null,e,t);return}}if(n&&n.then){n.then(p.bind(null,e,t),p.bind(null,e,2));return}e.s=t;e.v=n;const r=e.o;if(r){r(e)}}}const m=function(){function e(){}e.prototype.then=function(t,n){const r=new e;const i=this.s;if(i){const e=i&1?t:n;if(e){try{p(r,1,e(this.v))}catch(e){p(r,2,e)}return r}else{return this}}this.o=function(e){try{const i=e.v;if(e.s&1){p(r,1,t?t(i):i)}else if(n){p(r,1,n(i))}else{p(r,2,i)}}catch(e){p(r,2,e)}};return r};return e}();function g(e){return e instanceof m&&e.s&1}function P(e,t,n){var r=-1,i,s;function o(a){try{while(++r<e.length&&(!n||!n())){a=t(r);if(a&&a.then){if(g(a)){a=a.v}else{a.then(o,s||(s=p.bind(null,i=new m,2)));return}}}if(i){p(i,1,a)}else{i=a}}catch(e){p(i||(i=new m),2,e)}}o();return i}const v=a["AnalyticalCardSkeleton"];function I(e,t,n){if(typeof e[h]==="function"){var r=e[h](),i,s,o;function l(e){try{while(!(i=r.next()).done&&(!n||!n())){e=t(i.value);if(e&&e.then){if(g(e)){e=e.v}else{e.then(l,o||(o=p.bind(null,s=new m,2)));return}}}if(s){p(s,1,e)}else{s=e}}catch(e){p(s||(s=new m),2,e)}}l();if(r.return){var a=function(e){try{if(!i.done){r.return()}}catch(e){}return e};if(s&&s.then){return s.then(a,function(e){throw a(e)})}a()}return s}if(!("length"in e)){throw new TypeError("Object is not iterable")}var c=[];for(var u=0;u<e.length;u++){c.push(e[u])}return P(c,function(e){return t(c[e])},n)}const S=c["COLUMN_LENGTH"];function _(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const y=c["DEFAULT_BG_COLOR"];const z=c["FALLBACK_ICON"];const C=c["MYHOME_PAGE_ID"];const b=c["MYHOME_SPACE_ID"];const D=c["MYINSIGHT_SECTION_ID"];const A=c["RECOMMENDATION_SRVC_URL"];const M=c["RECOMMENDED_CARD_LIMIT"];const V=u["createBookMarkData"];const E=u["getLeanURL"];const j=d(l);const R=d(f);const O={MUST_INCLUDE_RECOMMEDED_APPS:["F0862","F1823"]};const U=t=>{let n={};if(t){if(typeof t==="object"){n=t}else{try{n=JSON.parse(t)}catch(t){e.error(t instanceof Error?t.message:String(t));n=undefined}}}return n};const L=e=>{let t={};if(e?._instantiationData?.chip?.configuration){const n=U(e._instantiationData.chip.configuration);if(n?.tileConfiguration){const e=U(n.tileConfiguration);if(e){t=U(e.TILE_PROPERTIES)}}}return t};const T=e=>{let t="";let n={};if(e?.target?.semanticObject&&e?.target?.action){t=`#${e.target.semanticObject}-${e.target.action}`}else if(e?._instantiationData?.chip?.configuration){n=L(e);if(n?.semanticObject&&n?.semanticAction){t=`#${n?.semanticObject}-${n?.semanticAction}`}}return t};const w=e=>{let t=T(e)||"";const n=L(e);if(n?.evaluationId){t+="?EvaluationId="+n.evaluationId}return t};const x=e=>e.vizType?.startsWith("X-SAP-UI2-CHIP:SSB");const F=(e,t)=>{const n=t?._instantiationData?.chip?.bags?.sb_tileProperties?.texts;return{title:e.title?e.title:n?.title||"",subtitle:e.subtitle?e.subtitle:n?.description||""}};const B=e=>{e.forEach(t=>{e.filter(e=>e.appId===t.appId&&e?.visualization?.id!==t?.visualization?.id&&e.persConfig?.sectionIndex===t.persConfig?.sectionIndex).forEach(e=>{e?.persConfig?.duplicateApps?.push(t)})});return e};const N=e=>e?.target?.parameters?.["sap-ui-tech-hint"]?.value?.value==="GUI";const k=e=>e.fioriId&&O.MUST_INCLUDE_RECOMMEDED_APPS.includes(e.fioriId);const G=(e,t)=>!t.some(t=>t.visualization?.target?.semanticObject===e.visualization?.target?.semanticObject&&t.visualization?.target?.action===e.visualization?.target?.action);class H extends r{aRequestQueue=[];bInsightsSectionPresent=false;vizDataModified=false;_oVizCacheData={};_favPageVisualizations=[];componentData={};fioriAppData={};constructor(){super();this.recommendedUtilInstance=R.getInstance()}static getInstance(){if(!H.Instance){H.Instance=new H}return H.Instance}_fetchRequestFromQueue(e,t=C){try{const n=this;return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(r){let i;n.aRequestQueue=n.aRequestQueue||[];const s=n.aRequestQueue.find(e=>e.pageId===t);if(!s||e===true||n.vizDataModified===true){n.vizDataModified=false;i=r.getPage(t);if(s){s.pageLoadPromise=i}else{n.aRequestQueue.push({pageId:t,pageLoadPromise:i})}}else{i=s.pageLoadPromise}return i})}catch(e){return Promise.reject(e)}}_fetchDynamicVizs(e){return this.fetchFavVizs(e,true).then(e=>e.filter(e=>e.isCount||e.isSmartBusinessTile))}_getSections(e=false,t=C){try{const n=this;return Promise.resolve(n._fetchRequestFromQueue(e,t)).then(function(e){const t=e&&e.sections||[],r=t.findIndex(e=>e.default);if(r>0){function i(){return n._getSections(true)}const s=function(){if(n._oMoveAppsPromise===undefined){n._oMoveAppsPromise=n.moveSection(r,0);return Promise.resolve(n._oMoveAppsPromise).then(function(){})}}();return s&&s.then?s.then(i):i(s)}else{return t}})}catch(e){return Promise.reject(e)}}_fetchPageVizs(e,t=C){try{const n=this;const r=[];n._oVizCacheData=n._oVizCacheData||{};return Promise.resolve(n._getSections(e,t)).then(function(e){return Promise.resolve(o.getServiceAsync("VisualizationInstantiation")).then(function(i){e.forEach((e,s)=>{e?.visualizations?.forEach((o,a)=>{const c=o.vizConfig,u=c?.["sap.app"]||{title:"?"},l={};l.oldAppId=T(c?.["sap.flp"]);l.appId=o?.targetURL;l.url=o?.targetURL;if(!l.url&&x(o)){l.url=w(c?.["sap.flp"])}l.leanURL=E(l.url);l.title=o?.title||F(u,o)?.title;l.subtitle=o.subtitle||F(u,o).subtitle;l.BGColor=y().key;l.isFav=true;l.isSection=false;l.pageId=t;l.icon=c?.["sap.ui"]?.icons?.icon||z;if(o?.indicatorDataSource){l.isCount=true;l.indicatorDataSource=o.indicatorDataSource.path;l.contentProviderId=o.contentProviderId}l.isSmartBusinessTile=x(o);if(l.isSmartBusinessTile){if(!n._oVizCacheData[l.appId]){n._oVizCacheData[l.appId]=i.instantiateVisualization(o);n._oVizCacheData[l.appId].setActive(true)}l.vizInstance=n._oVizCacheData[l.appId]}l.persConfig={pageId:C,sectionTitle:e.title,sectionId:e.id,sectionIndex:s,visualizationIndex:a,isDefaultSection:e.default,isPresetSection:e.preset,duplicateApps:[]};l.visualization=o;l.visualization.title=l.title;l.visualization.subtitle=l.subtitle;r.push(l)})});return r})})}catch(e){return Promise.reject(e)}}_copyDynamicVizs(){try{const e=this;return Promise.resolve(e._fetchDynamicVizs(true)).then(function(t){return Promise.all(t.map(t=>e.addVisualization(t.visualization.vizId,D)))})}catch(e){return Promise.reject(e)}}fetchFavVizs(e,t,n=C){try{const r=this;return Promise.resolve(r._fetchPageVizs(e,n)).then(function(e){const n=e.filter(e=>e.persConfig&&e.persConfig.sectionId!==D&&e.url&&e.title);if(t){return r._filterDuplicateVizs(B(n),false)}else{return r._addGroupInformation(n)}})}catch(e){return Promise.reject(e)}}fetchInsightApps(e,t){try{const n=this;function r(){return Promise.resolve(i())}const i=function(){try{return Promise.resolve(n._fetchPageVizs(e)).then(function(e){return e.filter(e=>e.persConfig?.sectionId===D&&e.url&&e.title)})}catch(e){return Promise.reject(e)}};const o=function(){if(!n.bInsightsSectionPresent){return Promise.resolve(n._getSections(e)).then(function(e){n.insightsSectionIndex=e.findIndex(function(e){return e.id===D});const r=function(){if(n.insightsSectionIndex===-1&&(s.last("/core/shell/enablePersonalization")||s.last("/core/catalog/enabled"))&&n.bInsightsSectionPresent===false){n.bInsightsSectionPresent=true;return Promise.resolve(n.addSection({sectionIndex:e?.length,sectionProperties:{id:D,title:t}})).then(function(){return Promise.resolve(n._copyDynamicVizs()).then(function(){})})}else{n.bInsightsSectionPresent=true}}();if(r&&r.then)return r.then(function(){})})}}();return Promise.resolve(o&&o.then?o.then(r):r(o))}catch(a){return Promise.reject(a)}}addVisualization(e,t=undefined){try{return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(n){return Promise.resolve(n.addVisualization(C,t,e)).then(function(){})})}catch(e){return Promise.reject(e)}}removeVisualizations({sectionId:e,vizIds:t}){try{const n=this;return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(r){const i=I(t,function(t){return Promise.resolve(n._getSections(true)).then(function(n){const i=n.findIndex(t=>t.id===e);const s=i>-1?n[i]:null;const o=s?.visualizations?.findIndex(e=>e.id===t)??-1;const a=function(){if(o>-1){return Promise.resolve(r.deleteVisualization(C,i,o)).then(function(){})}}();if(a&&a.then)return a.then(function(){})})});if(i&&i.then)return i.then(function(){})})}catch(e){return Promise.reject(e)}}updateVisualizations({pageId:e,sourceSectionIndex:t,sourceVisualizationIndex:n,oVisualizationData:r}){try{return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(i){return i.updateVisualization(e,t,n,r)})}catch(e){return Promise.reject(e)}}createInsightSection(e){try{let t=false;const n=this;function r(e){return t?e:Promise.resolve()}const i=function(){if(!n.bInsightsSectionPresent){return Promise.resolve(n._getSections()).then(function(r){const i=r.findIndex(function(e){return e.id===D});if(i===-1&&(s.last("/core/shell/enablePersonalization")||s.last("/core/catalog/enabled"))){const i=n.addSection({sectionIndex:r.length,sectionProperties:{id:D,title:e,visible:true}});t=true;return i}})}}();return Promise.resolve(i&&i.then?i.then(r):r(i))}catch(o){return Promise.reject(o)}}addSection(e){try{const{sectionIndex:t,sectionProperties:n}=e;return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(e){return Promise.resolve(e.addSection(C,t,{...n,visible:true})).then(function(){})})}catch(e){return Promise.reject(e)}}getSectionVisualizations(e,t=false,n=C){try{const r=this;return Promise.resolve(r.fetchFavVizs(t,false,n)).then(function(t){if(e){return t.find(t=>t.isSection&&t.id===e)?.apps||[]}else{return t.filter(e=>!e.isSection)}})}catch(e){return Promise.reject(e)}}addBookMark(e,t){try{const n=this;return Promise.resolve(o.getServiceAsync("BookmarkV2")).then(function(r){return Promise.resolve(r.getContentNodes()).then(function(i){const s=i.find(e=>e.id===b);const o=s?.children?.find(e=>e.id===C);return Promise.resolve(r.addBookmark(V(e),o)).then(function(){return t?n.moveVisualization(t):Promise.resolve()})})})}catch(e){return Promise.reject(e)}}getVisualization(e,t,n=false){try{const r=this;return Promise.resolve(r.getSectionVisualizations(t,n)).then(function(t){return t.find(t=>t.appId===e)})}catch(e){return Promise.reject(e)}}moveVisualization(e){try{const t=this;return Promise.resolve(o.getServiceAsync("SpaceContent")).then(function(n){t.vizDataModified=true;return n.moveVisualization(C,e.sourceSectionIndex,e.sourceVisualizationIndex,e.targetSectionIndex,e.targetVisualizationIndex)})}catch(e){return Promise.reject(e)}}_filterDuplicateVizs(e,t){return e.filter((e,n,r)=>{const i=r.findIndex(t=>t.appId===e.appId);return t?i!==n:i===n})}_addGroupInformation(e){const t=[],n=[];let r;B(e).forEach(e=>{if(e.persConfig?.isDefaultSection){t.push(e)}else{r=n.find(t=>t.isSection&&t.id===e.persConfig?.sectionId);if(!r){n.push({id:e.persConfig?.sectionId,index:e.persConfig?.sectionIndex,title:e.persConfig?.sectionTitle||"",badge:"1",BGColor:y().key,icon:"sap-icon://folder-full",isSection:true,pageId:e.pageId,isPresetSection:e.persConfig?.isPresetSection,apps:[e]})}else{r.apps?.push(e);r.badge=r.apps?.length.toString()}}});return[...n,...this._filterDuplicateVizs(t,false)]}moveSection(e,t){try{return Promise.resolve(o.getServiceAsync("Pages").then(function(n){const r=n.getPageIndex(C);return n.moveSection(r,e,t)}))}catch(e){return Promise.reject(e)}}isURLParamEnabled(e){const t=new URLSearchParams(window.location.search);return t?.get(e)?.toLowerCase()==="true"||false}_getRecommenedFioriIds(t=false){try{let n=false;const r=this;function i(e){return n?e:r.recommendedFioriIds}const s=function(){if(!r.recommendedFioriIds||t){return _(function(){return Promise.resolve(j.GetJSON(A)).then(function(e){const t=e;r.recommendedFioriIds=t?.value?.map(e=>e.app_id)||[]})},function(t){e.error("Unable to load recommendations: "+t.message);const r=Promise.resolve([]);n=true;return r})}}();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(o){return Promise.reject(o)}}_getCatalogApps(){try{let t=false;const n=this;function r(e){return t?e:Promise.resolve(n.catalogAppData)}const i=function(){if(!n.catalogAppData){return _(function(){return Promise.resolve(o.getServiceAsync("SearchableContent")).then(function(e){n.catalogAppData=e.getApps({includeAppsWithoutVisualizations:false});const r=n.catalogAppData;t=true;return r})},function(r){n.catalogAppData=undefined;e.error(r instanceof Error?"Error while fetching catalog apps:"+r.message:String(r));const i=[];t=true;return i})}}();return Promise.resolve(i&&i.then?i.then(r):r(i))}catch(s){return Promise.reject(s)}}isAddCardToInsightsHidden(e){return e?.component?.settings?.tableSettings?.addCardtoInsightsHidden}_checkValidManifests(e){const t=e["sap.app"]?.dataSources;const n=e["sap.ui.generic.app"]&&t?.mainService;if(!n){return false}const r=e["sap.ui.generic.app"]?.pages;if(Array.isArray(r)){return this.recommendedUtilInstance._isListReport(r[0])&&!this.isAddCardToInsightsHidden(r[0])}const i=Object.values(r);if(i.length>0){return i.some(e=>typeof e==="object"&&this.recommendedUtilInstance._isListReport(e)&&!this.isAddCardToInsightsHidden(e))}return false}_getOdataModel(e){return new Promise(function(t){const n=e?.["sap.app"]?.dataSources;const r=n?.mainService;let s=(r?.settings?.annotations||[]).map(e=>n?.[e]?.uri||"").filter(Boolean);const o=new i(r?.uri,{annotationURI:s,loadAnnotationsJoined:true});o.attachMetadataLoaded(()=>{t(o)});o.attachMetadataFailed(()=>{t(o)})})}_getEntitySet(e){const t=e["sap.ui.generic.app"]?.pages;if(Array.isArray(t)){return t[0].entitySet}else if(t){for(const e in t){const n=t[e];if(this.recommendedUtilInstance._isListReport(n)){return n.entitySet}}}return undefined}loadI18n(e,n){try{const r=this;function i(){return r._RBManifestMap[o]}const s=e?.["sap.app"]?.["i18n"]?.["bundleUrl"];const o=new URL(s,n).href;r._RBManifestMap=r._RBManifestMap||{};const a=function(){if(!r._RBManifestMap[o]){return Promise.resolve(t.create({bundleUrl:o,async:true,terminologies:e["sap.app"]?.["i18n"]?.["terminologies"]})).then(function(e){r._RBManifestMap[o]=e})}}();return Promise.resolve(a&&a.then?a.then(i):i(a))}catch(c){return Promise.reject(c)}}getI18nValueOrDefaultString(e,t){let n="";if(e&&e.startsWith("{{")){n=e.substring(2,e.length-2)}else if(e&&e.startsWith("{")){n=e.substring(1,e.length-1)}return n?t.getText(n):e}_getAnalyticalCardManifest(){return JSON.parse(JSON.stringify(v))}getProcessedManifest(t,n,r,i){try{const s=this;return Promise.resolve(_(function(){function e(){return s.recommendedUtilInstance._createCardManifest(m,i,o,h)}const o=n.manifest;const a=s._getEntitySet(o);if(!a){return undefined}const c=t.getODataEntitySet(a);const u=s.recommendedUtilInstance.getLineItemDetails(t,o,a);if(!u?.lineItem){return undefined}const l=u.entitySet||a;const f=l===a?c:t.getODataEntitySet(l);const d=t.getODataEntityType(f.entityType);const h=u?.lrSettings?.["bSupressCardRowNavigation"];if(s.recommendedUtilInstance.hasMandatoryProperties(f,d?.property)){return undefined}const p=s.recommendedUtilInstance._getParametersisedEntitySetParams(t,l,true);if(p?.entitySetName&&p?.parameters?.length){const e=t.getODataEntitySet(p.entitySetName);if(s.recommendedUtilInstance.hasMandatoryProperties(e,p.parameters)){return undefined}}const m=s.recommendedUtilInstance._getManifestCardData(o,u,r,t);if(m.columns.length<S){return undefined}const g=u?.headerInfo;const P=g.TypeNamePlural?.String||"";m.cardTitle=P||m.cardTitle;const v=function(){if(!P&&o["sap.app"]?.i18n){const e=o["sap.app"].i18n.bundleUrl;const t=o["sap.app"].title;const r=function(){if(e&&(t.startsWith("i18n>")||t.startsWith("{"))){return Promise.resolve(s.loadI18n(o,n.url)).then(function(e){m.cardTitle=s.getI18nValueOrDefaultString(m.cardTitle,e)})}}();if(r&&r.then)return r.then(function(){})}}();return v&&v.then?v.then(e):e(v)},function(t){e.error("Error while processing manifest",t instanceof Error?t.message:String(t));return undefined}))}catch(e){return Promise.reject(e)}}fetchMetaModels(t){try{const n=this;const r=t.map(function(t){try{return Promise.resolve(_(function(){return Promise.resolve(n._getOdataModel(t.manifest)).then(function(e){return e?.getMetaModel()})},function(t){e.error("Error while fetching metamodel",t instanceof Error?t.message:String(t));return undefined}))}catch(e){return Promise.reject(e)}});return Promise.resolve(Promise.all(r))}catch(e){return Promise.reject(e)}}combineManifestsAndMetaModels(e,t){return e.reduce((e,n,r)=>{const i=t[r];if(i){e.push({manifest:n,metaModel:i})}return e},[])}processManifests(e,t){try{const n=this;return Promise.all(e.map(e=>{const r=t.find(t=>t.resolutionResult?.ui5ComponentName===e.manifest.manifest?.["sap.app"]?.id);return n.getProcessedManifest(e.metaModel,e.manifest,r,n.versionInfo)}))}catch(e){return Promise.reject(e)}}processAppList(e,t,n){if(!e&&t&&t.length){return t.reduce((e,t)=>{const r=n?.[t.id]||[];const i=r.find(e=>e.semanticObject===t.target?.semanticObject&&e.action===t.target?.action);return i?[...e,i.fioriId]:e},[])}return e||[]}_getCardManifest(t,r){try{const i=this;return Promise.resolve(_(function(){return Promise.resolve(Promise.all([i._getCatalogApps(),i.getFioriAppData()])).then(function([e,s]){return Promise.resolve(n.load()).then(function(n){i.versionInfo=n;const o=Object.values(s).flat();const a=i.componentData;const c=i.processAppList(t,r,a);return Promise.resolve(i.fetchManifests(c,s,e)).then(function(e){const t=e.filter(e=>i._checkValidManifests(e.manifest));return Promise.resolve(i.fetchMetaModels(t)).then(function(e){const n=i.combineManifestsAndMetaModels(t,e);return Promise.resolve(i.processManifests(n,o)).then(function(e){return e.filter(e=>e!==undefined)})})})})})},function(t){e.error("Error while fetching card manifest",t instanceof Error?t.message:String(t));return[]}))}catch(e){return Promise.reject(e)}}fetchManifests(t,n,r){try{return Promise.resolve(_(function(){const i=t.map(function(t){try{let i=false;const s=n[t]||[];const o=I(s,function(t){const n=r.find(e=>t.semanticObject===e.target?.semanticObject&&t.action===e.target?.action);const s=t?.resolutionResult?.applicationDependencies?.manifest;return function(){if(n&&s){return _(function(){return Promise.resolve(fetch(s)).then(function(e){return Promise.resolve(e.json()).then(function(t){const n=t;const r={url:e.url,manifest:n};i=true;return r})})},function(t){e.error("Error while fetching manifest",t instanceof Error?t.message:String(t));i=true;return undefined})}}()},function(){return i});return Promise.resolve(o&&o.then?o.then(function(e){return i?e:undefined}):i?o:undefined)}catch(e){return Promise.reject(e)}});return Promise.resolve(Promise.all(i)).then(function(e){return e.filter(e=>e!==undefined)})},function(t){e.error("Error while processing manifests",t instanceof Error?t.message:String(t));return[]}))}catch(e){return Promise.reject(e)}}_removeDuplicateCards(e){const t={};const n=[];e.forEach(e=>{const r=e?.descriptorContent?.["sap.card"]?.header?.title||"";if(!t[r]){n.push(e);t[r]=true}});return n}getRecommenedCards(){try{const t=this;return Promise.resolve(_(function(){return Promise.resolve(t._getRecommenedFioriIds()).then(function(e){return Promise.resolve(t._getCardManifest(e)).then(function(e){const n=e?.slice(0,M);const r=n?.map(e=>{let t;if(e?.["sap.card"]){e["sap.card"].rec=true;t=e["sap.app"]?.id}return{id:t,descriptorContent:e}});return t._removeDuplicateCards(r)})})},function(t){e.error("Error while fetching recommended cards:",t instanceof Error?t.message:String(t));return[]}))}catch(e){return Promise.reject(e)}}getRecommendedVisualizations(e=false){try{const t=this;function n(){return t._recommendedVisualizations}const r=function(){if(!t._recommendedVisualizations||e){return Promise.resolve(t._getRecommenedFioriIds(e)).then(function(n){const r=function(){if(n.length){let r=[];let i=[];return Promise.resolve(Promise.all([t._getVisualizationsByFioriIds(n),t._fetchPageVizs(e)])).then(function([e,n]){e=e.filter(e=>G(e,n));e.forEach(e=>{if(k(e)){i.push(e)}else{r.push(e)}});t._recommendedVisualizations=r.slice(0,10-i.length).concat(i)})}else{t._recommendedVisualizations=[]}}();if(r&&r.then)return r.then(function(){})})}}();return Promise.resolve(r&&r.then?r.then(n):n(r))}catch(i){return Promise.reject(i)}}_getInboundApps(){try{return Promise.resolve(_(function(){return Promise.resolve(o.getServiceAsync("ClientSideTargetResolution")).then(function(e){return e?._oAdapter?._aInbounds||[]})},function(t){e.error("Error while fetching inbound apps: "+t.message);return[]}))}catch(e){return Promise.reject(e)}}getFioriAppData(){try{const t=this;return Promise.resolve(_(function(){function e(){return t.fioriAppData}const n=function(){if(!Object.keys(t.componentData).length){t.componentData={};t.fioriAppData={};return Promise.resolve(t._getInboundApps()).then(function(e){e.forEach(e=>{const n=e?.signature?.parameters?.["sap-fiori-id"]?.defaultValue?.value;const r=e?.resolutionResult?.ui5ComponentName;if(n){const i={action:e.action,semanticObject:e.semanticObject,resolutionResult:e.resolutionResult};t.fioriAppData[n]=t.fioriAppData[n]||[];t.fioriAppData[n].push(i);if(r){const e={...i,fioriId:n};t.componentData[r]=t.componentData[r]||[];t.componentData[r].push(e)}}})})}}();return n&&n.then?n.then(e):e(n)},function(t){e.error(t instanceof Error?t.message:String(t));return{}}))}catch(e){return Promise.reject(e)}}_getVisualizationsByFioriIds(e){try{const t=this;const n=[];const r=new Map;return Promise.resolve(Promise.all([t._getInboundApps(),t._getCatalogApps()])).then(function([t,i]){e.forEach(e=>{const s=t.filter(function(t){return t?.signature.parameters["sap-fiori-id"]?.defaultValue?.value===e});s.forEach(t=>{let s=i.filter(e=>e?.target?.semanticObject===t.semanticObject&&e.target.action===t.action);const o=s.filter(e=>N(e));const a=s.filter(e=>!N(e));if(o.length>0&&a.length>0){s=[...a]}s.forEach(t=>{let i=t.visualizations[0];let s={title:i.title,subtitle:i.subtitle,icon:i.icon,url:i.targetURL,vizId:i.vizId,fioriId:e,visualization:i};if(!r.has(s.url)||!r.has(s.title)){r.set(s.url,true);r.set(s.title,true);n.push(s)}})})});return n})}catch(e){return Promise.reject(e)}}_getAllFavPageApps(t,n){try{let r=false;const i=this;return Promise.resolve(_(function(){function e(e){return r?e:[]}const s=function(){if(t){i._favPageVisualizations=i._favPageVisualizations||[];const e=i._favPageVisualizations.reduce((e,t)=>{if(t.pageId&&!e.includes(t.pageId)){e.push(t.pageId)}return e},[]);const s=t.map(e=>e.pageId);const o=e.length===0||!e.every(e=>s.includes(e));if(!n&&!o){const e=i._favPageVisualizations;r=true;return e}else{return Promise.resolve(i._loadAllPageVisualizations(t,n)).then(function(e){i._favPageVisualizations=e;const t=i._favPageVisualizations;r=true;return t})}}}();return s&&s.then?s.then(e):e(s)},function(t){e.error(t);return[]}))}catch(e){return Promise.reject(e)}}_loadAllPageVisualizations(t,n=false,r=false){try{const i=this;const s=e=>t.find(t=>t.pageId===e)?.BGColor??y().key;return Promise.resolve(_(function(){const e=[];return Promise.resolve(i.loadPages(t,n)).then(function(t){for(const n of t){const t=n?.sections||[];for(const i of t){const t=i.visualizations||[];for(const i of t){const t={appId:i.targetURL,vizId:i.vizId,icon:i.icon,BGColor:s(n.id),pageId:n.id};if(!r||!e.some(e=>e.appId===t.appId)){e.push(t)}}}}return e})},function(t){e.error(t);return[]}))}catch(e){return Promise.reject(e)}}loadPages(e,t=false){try{const n=this;return Promise.resolve(Promise.all(e.map(e=>n._fetchRequestFromQueue(t,e.pageId))))}catch(e){return Promise.reject(e)}}}return H});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/BatchHelper", ["sap/ui/base/Object"],function(t){"use strict";function e(t,e){try{var n=t()}catch(t){return e(t)}if(n&&n.then){return n.then(void 0,e)}return n}var n=function(t){t["GET"]="GET";t["POST"]="POST";t["PUT"]="PUT";t["PATCH"]="PATCH";t["DELETE"]="DELETE";t["HEAD"]="HEAD";return t}(n||{});const r=t=>/%[0-9A-F]{2}/i.test(t);class o{batchRequests=[];constructor(t,e,n){this.url=r(t)?t:encodeURI(t);this.boundary=`batch_id_${Date.now()}_01`;this.options={headers:{"Content-Type":`multipart/mixed;boundary=${this.boundary}`},method:e};if(n){this.options.headers["X-CSRF-Token"]=n}}_constructBody(){const t=`--${this.boundary}`;const e=`Content-Type: application/http\r\nContent-Transfer-Encoding: binary\r\n`;const n=`Accept: application/json\r\n\r\n\r\n`;let r=`${t}\r\n`;for(let o=0;o<this.batchRequests.length;o++){const s=this.batchRequests[o];const c=o===this.batchRequests.length-1?"--\r\n":"\r\n";r+=`${e}\r\n`;r+=`${s.options.method} ${s.url} HTTP/1.1\r\n${n}`;r+=`${t}${c}`}return r}addRequest(t){this.batchRequests.push(t)}constructBodyWithPayload(){const t=`--${this.boundary}`;const e="Content-Type:application/http\r\nContent-Transfer-Encoding:binary\r\n";let n=`${t}\r\n`;const r="changeset_001";const o=`--${r}`;const s=`Content-Type: multipart/mixed; boundary=${r}\r\n`;n+=`${s}\r\n${o}\r\n`;for(let r=0;r<this.batchRequests.length;r++){const s=this.batchRequests[r];n+=`\r\n${e}`;n+=`Content-ID: ${r+1}\r\n\r\n`;n+=`${s.options.method} ${s.url} HTTP/1.1\r\n`;n+="sap-context-accept: header\r\nContent-Type:application/json\r\n\r\n";n+=`${JSON.stringify(s.payload)}\r\n\r\n`;n+=o;if(r===this.batchRequests.length-1){n+="--\r\n";n+=`${t}--`}}return n}}const s=function(t){const e=t.replace(/\r\n/g,"\n").split("\n").filter(t=>t!=="");const n=[];let r="";for(let t=1;t<e.length-1;t++){r=e[t].includes("Content-Type: ")?e[t].split("Content-Type: ")[1]:r;if(e[t+1].includes(e[0])){if(r==="application/json"){n.push(JSON.parse(e[t]))}else{n.push(e[t])}}}return n};const c=function(t){try{return Promise.resolve(e(function(){return Promise.resolve(fetch(t,{method:n.HEAD,headers:{"X-CSRF-Token":"Fetch"}})).then(function(t){if(t.ok){const e=t.headers.get("X-CSRF-Token");if(e){return e}}throw new Error("Cannot fetch X-CSRF-Token.")})},function(t){throw new Error(t.message)}))}catch(t){return Promise.reject(t)}};const i=t.extend("sap.cux.home.utils.BatchHelper",{fetchData:function t(e){try{const t=this;e.options.body=e.options.method===n.GET?e._constructBody():e.constructBodyWithPayload();e.options.method=n.POST;return Promise.resolve(fetch(t.url,e.options)).then(function(t){if(!t.ok){throw new Error("Failed to fetch data from the server.")}return Promise.resolve(t.text()).then(s)})}catch(t){return Promise.reject(t)}},createMultipartRequest:function t(e,n){try{const t=this;t.url=`${e}$batch`;return Promise.resolve(c(e)).then(function(e){const r=t.buildMultipartRequest(n,e);return Promise.resolve(t.fetchData(r))})}catch(t){return Promise.reject(t)}},createMultipartRequestWithPayload:function t(e,n,r){try{const t=this;t.url=`${e}$batch`;return Promise.resolve(c(e)).then(function(e){const o=t.buildMultipartRequestWithPayload(n,e,r);return Promise.resolve(t.fetchData(o))})}catch(t){return Promise.reject(t)}},buildMultipartRequest:function t(e,r,s=n.GET){const c=new o(e[0],s,r);e.forEach(t=>{c.addRequest(new o(t,s,r))});return c},buildMultipartRequestWithPayload:function t(e,n,r){const s=new o(e[0].url,r,n);s.payload=e[0].data;e.forEach(({url:t,data:e})=>{const c=new o(t,r,n);c.payload=e;s.addRequest(c)});return s}});return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/ColorUtils", ["./Constants"],function(t){"use strict";const s=t["DEFAULT_BG_COLOR"];const o=t["LEGEND_COLORS"];const e=t["PAGE_SELECTION_LIMIT"];class r{constructor(){this._oColorList=o().slice(0,e)}getFreeColor(){const t=this._oColorList.find(t=>!t.assigned);let o=s().key;if(t){t.assigned=true;o=t.key}return o}addColor(t){this._fetchColor(t).assigned=true;return this}removeColor(t){this._fetchColor(t).assigned=false;return this}_fetchColor(t){return this._oColorList.find(function(s){return s.key===t})||{assigned:false}}_getColorMap(){return this._oColorList}}var n=new r;return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/CommonUtils", ["../BaseLayout","./PageManager","./PersonalisationUtils"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const a=s(e);const r=s(t);const i=s(n);function o(e){const t=new URLSearchParams(window.location.search);return t.get(e)?.toUpperCase()==="TRUE"||false}function u(e){const t=e.getParent();const n=t?.getParent();const s=n instanceof a?n?.getProperty("persContainerId"):"";const o=s||i.getPersContainerId(e);const u=r.getInstance(o,i.getOwnerComponent(e));return u}function c(e,t=false){return e.filter(e=>{if(!e.isSection&&(e.isCount||e.isSmartBusinessTile)){return t}else if(e.isSection){e.apps=c(e.apps||[],t);e.badge=e.apps.length.toString()}return!t}).filter(e=>e.isSection?e.apps.length>0:true)}var f={__esModule:true};f.isURLParamEnabled=o;f.getPageManagerInstance=u;f.filterVisualizations=c;return f});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/Constants", ["sap/ui/core/theming/Parameters"],function(_){"use strict";const e=e=>({key:e,value:_.get({name:e}),assigned:false});const o="/sap/opu/odata4/ui2/insights_srv/srvd/ui2/";const s=o+"insights_read_srv/0001/";const E="SAP_BASIS_PG_UI_MYHOME";const a="3WO90XZ1DX1AS32M7ZM9NBXEF";const r="sap-icon://document";const n="sap-icon://product";const A="AZHJGRIT78TG7Y65RF6EPFJ9U";const t="SAP_BASIS_SP_UI_MYHOME";const S=()=>e("sapLegendColor9");const I=8;const d=()=>["sapLegendColor6","sapLegendColor3","sapLegendColor1","sapLegendColor10","sapLegendColor12","sapLegendColor7","sapLegendColor5","sapLegendColor8","sapLegendColor18","sapLegendColor9"].map(e);const T=()=>["sapLegendColor19","sapLegendColor13","sapLegendColor11","sapLegendColor20","sapLegendColor2","sapLegendColor17","sapLegendColor15","sapLegendColor14","sapLegendColor16","sapLegendColor4"].map(e);const c={FAVORITE:"FAVORITE",RECENT:"RECENT",FREQUENT:"FREQUENT"};const p=5;const L=4;const N=s+"RecommendedApps";var R=function(_){_["AI_GENERATED_CARD"]="AIU_SMART_PERSONALIZATION";_["AI_SMART_APPFINDER"]="AIU_SMART_APPFINDER";return _}(R||{});const C=s+"FeatureToggle";const u=o+"insights_cards_repo_srv/0001/";const i="/sap/opu/odata4/sap/sui_flp_aps_ui_usernews/srvd_a2x/sap/sui_flp_aps_ui_usernews/0001/NewsGroup";const D=i+"?$expand=_group_to_image,_group_to_article&$format=json";var P=function(_){_["LAYOUT"]="LAYOUT";_["NEWS"]="NEWS";_["PAGES"]="PAGES";_["INSIGHTS_TILES"]="INSIGHTS_TILES";_["INSIGHTS_CARDS"]="INSIGHTS_CARDS";_["ADVANCED"]="ADVANCED";return _}(P||{});var l=function(_){_["LAYOUT"]="KEYUSER_LAYOUT";_["NEWS_PAGES"]="KEYUSER_NEWS_PAGES";_["NEWS"]="KEYUSER_NEWS";_["PAGES"]="KEYUSER_PAGES";return _}(l||{});var O=function(_){_["AI_APP_FINDER"]="AI_APP_FINDER";_["AI_INSIGHTS_CARDS"]="AI_INSIGHTS_CARDS";return _}(O||{});var g=function(_){_["ADD_AI_CARD"]="INS:AddAICard";_["CANCEL_CONTENT_DIALOG"]="myh:content:cancel";_["ADD_AI_APP"]="myh:apps:add";return _}(g||{});const U={GRID:"GridTable",TREE:"TreeTable",ANALYTICAL:"AnalyticalTable",RESPONSIVE:"ResponsiveTable",STANDARD_LIST:"StandardList",OBJECT_LIST:"ObjectList"};const F=3;const G="/sap/opu/odata4/sap/aiu_ui_prompt/srvd/sap/aiu_ui_prompt/0001/";const M=G+"SmartAppFinder/SAP__self.ExecuteAppFinderFromUserInput";const m="Z_TRIAL_TRIAL_CENTER";const Y=["user.F2933.cards.docStatusCard","user.i2d.qm.qltytechnician.ovps1.cards.i2d.qm.qltytechnician.ovps1_card01","user.F3242.cards.card06_MyBiggestDebtors.tab_1","user.F2917.cards.card15_PayableAmount","user.F2601.cards.card04_ProfitMargin","user.F2601.cards.card00_IncomingSales.tab_1","user.F2933.cards.card01"];const v={"@odata.context":"","@odata.metadataEtag":"",value:[{group_id:"placeholderNews",mandatory:"X",mandatory_text:"TRUE",_group_to_article:[{group_id:"placeholderNews"}]}]};var H={__esModule:true};H.fnFetchLegendColor=e;H.MYHOME_PAGE_ID=E;H.MYAPPS_SECTION_ID=a;H.FALLBACK_ICON=r;H.DEFAULT_APP_ICON=n;H.MYINSIGHT_SECTION_ID=A;H.MYHOME_SPACE_ID=t;H.DEFAULT_BG_COLOR=S;H.PAGE_SELECTION_LIMIT=I;H.LEGEND_COLORS=d;H.END_USER_COLORS=T;H.AppTypes=c;H.PLACEHOLDER_ITEMS_COUNT=p;H.RECOMMENDED_CARD_LIMIT=L;H.RECOMMENDATION_SRVC_URL=N;H.FEATURE_TOGGLES=R;H.FEATURE_TOGGLE_SRVC_URL=C;H.REPO_BASE_URL=u;H.DEFAULT_NEWS_BASE_URL=i;H.DEFAULT_NEWS_URL=D;H.SETTINGS_PANELS_KEYS=P;H.KEYUSER_SETTINGS_PANELS_KEYS=l;H.CONTENT_ADDITION_PANEL_TYPES=O;H.FESR_IDS=g;H.TABLE_TYPES=U;H.COLUMN_LENGTH=F;H.AI_APP_FINDER_BASE_URL=G;H.AI_APP_FINDER_API=M;H.CUSTOM_SPACEID=m;H.PREFERED_CARDS=Y;H.DEFAULT_NEWS_PLACEHOLDER=v;return H});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/DataFormatUtils", ["sap/m/library","sap/ui/core/Element","sap/ui/core/format/DateFormat","./TaskUtils"],function(e,t,r,n){"use strict";const i=e["ValueColor"];const a=n["TaskPriority"];const o=r.getDateTimeInstance({style:"medium",relative:true,relativeStyle:"short"});const c=r.getDateInstance({relative:true});function s(e){switch(e.criticality){case i.Error:return 1;case i.Critical:return 2;case i.Neutral:return 3;default:return 99}}function u(e){switch(e){case a.VERY_HIGH:return"veryHighPriority";case a.HIGH:return"highPriority";case a.MEDIUM:return"mediumPriority";case a.LOW:return"lowPriority";default:return"nonePriority"}}function l(e){return o.format(new Date(e))}function f(e){const t=c.format(new Date(e));return t.charAt(0).toUpperCase()+t.slice(1)}function m(e){const t={title:e.title||"",url:e.targetURL,icon:e.icon,info:e.info,subtitle:e.subtitle,serviceUrl:e.indicatorDataSource&&e.indicatorDataSource.path,numberUnit:e.numberUnit,vizType:e.vizType,vizConfig:e.vizConfig,dataSource:e.dataSource};return t}function p(e){let t,r=-1;if(e["importance"]){t=e["importance"].EnumMember;switch(t){case"com.sap.vocabularies.UI.v1.ImportanceType/High":r=1;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Medium":r=2;break;case"com.sap.vocabularies.UI.v1.ImportanceType/Low":r=3;break;default:break}}else{r=2}return r}function y(e){return e.sort((e,t)=>{const r=p(e);const n=p(t);return r<n?-1:1})}function h(e){const t=e;const r=function(e,t){const r=new URL(window.location.href);r.search=e;r.hash=t;return r.toString()};if((t||"").charAt(0)!=="#"){return t}let n=window.location.search;if(!n){n="?sap-ushell-config=lean"}else if(n.indexOf("sap-ushell-config=")>=-1){n+="&sap-ushell-config=lean"}return r(n,t)}function d(e){const r=t.getElementById(e);if(r){r.destroy()}return e}var v={__esModule:true};v.toPriority=s;v.toTaskPriorityText=u;v.toRelativeDateTime=l;v.toRelativeDate=f;v.createBookMarkData=m;v.getImportance=p;v.sortCollectionByImportance=y;v.getLeanURL=h;v.recycleId=d;return v});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/DecisionDialog", ["sap/base/Log","sap/m/MessageBox","sap/m/library","sap/ui/base/Object","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ui/model/resource/ResourceModel","./DataFormatUtils","./TaskUtils"],function(e,t,n,o,i,s,r,a,c,l,d,u){"use strict";function g(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const f=n["ButtonType"];const h=r["ValueState"];const p=d["toTaskPriorityText"];const m=u["TaskPriority"];var S=function(e){e["Required"]="REQUIRED";e["Optional"]="OPTIONAL";return e}(S||{});const D=e=>{switch(e.Nature?.toUpperCase()){case"POSITIVE":return f.Accept;case"NEGATIVE":return f.Reject;case"NEUTRAL":return f.Neutral;default:return f.Default}};const O=(e,t,n,o)=>({text:e.DecisionText,type:D(e)||f.Default,pressHandler:I.decisionDialogMethod.bind(null,e,t,n,o)});function y(e){let t="";if(e===m.VERY_HIGH||e===m.HIGH){t="sap-icon://high-priority"}return t}function M(e){return e===m.VERY_HIGH||e===m.HIGH?h.Error:h.None}const I=o.extend("sap.cux.home.utils.DecisionDialog",{constructor:function e(t,n,i,s,r){o.prototype.constructor.call(this);this.decisionOption=t;this.i18nBundle=n;this.baseUrl=s;this.refreshView=r;this.task=i},handleReasonOptionChange:function t(n){const o=n.getSource();const i=o.getValue();const s=o.getSelectedItem();this.confirmationDialogPromise.then(e=>{const t=this.confirmationDialogModel.getData().dialogSettings.reasonOptionsSettings.required;o.setTooltip(i);o.setValueState(s===null?h.Error:h.None);if(!t&&i===""){o.setValueState(h.None)}if(!t&&i!==""&&s===null){e.getBeginButton().setEnabled(false);return}this._toggleSubmitButtonState()}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})},_toggleSubmitButtonState:function e(){const t=this.confirmationDialogModel.getData();const n=t.dialogSettings.noteMandatory;const o=i.getElementById("confirmDialogTextarea").getValue().trim().length>0;const s=t.dialogSettings.reasonOptionsSettings.required;const r=i.getElementById("reasonOptionsSelect").getSelectedItem()!==null;const a=n&&o||!n;const c=s&&r||!s;this.confirmationDialogModel.setProperty("/submitButtonEnabled",a&&c)},readReasonOptions:function e(t,n,o,i,s){const r="/ReasonOptions";const a={SAP__Origin:`'${t}'`,InstanceID:`'${n}'`,DecisionKey:`'${o}'`};const c=e=>{if(e&&e.results){if(i){i(e.results)}}};const l=e=>{if(s){s(e)}};this.dataServiceModel.read(r,{urlParameters:a,success:c,error:l,groupId:"reasonOptions"})},loadReasonOptions:function e(){try{const e=this;const t=e.dataServiceModel.getMetaModel();return Promise.resolve(t.loaded()).then(function(){if(t.getODataFunctionImport("ReasonOptions")){return new Promise((t,n)=>{e.readReasonOptions(e.decisionOption.SAP__Origin,e.decisionOption.InstanceID,e.decisionOption.DecisionKey,n=>{const o={show:(e.decisionOption.ReasonRequired===S.Required||e.decisionOption.ReasonRequired===S.Optional)&&n.length>0,required:e.decisionOption.ReasonRequired===S.Required,reasonOptions:n};t(o)},e=>{n(e)})})}else{return null}})}catch(e){return Promise.reject(e)}},openDecisionDialog:function t(n){this.confirmationDialogModel=new a({submitButtonEnabled:!n?.noteMandatory&&!n?.reasonOptionsSettings?.required,dialogSettings:n});this.confirmationDialogPromise=s.load({type:"XML",name:"sap.cux.home.utils.fragment.showDecisionDialog",controller:this}).then(e=>{const t=e;const n=new l({bundle:this.i18nBundle});const o=i.getElementById("task-priority-text");o.addStyleClass(this.task.Priority);t.setModel(this.confirmationDialogModel);t.setModel(n,"i18n");t.open();return t}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})},confirmActionHandler:function t(){this.confirmationDialogPromise.then(e=>{const t=(e.getModel()?.getProperty("/")).dialogSettings;const n=t.reasonOptionsSettings;const o=n.show?i.getElementById("reasonOptionsSelect")?.getSelectedItem():null;const s=o!==null&&o?.getKey()!=="defaultSelectedKey"?o.getKey():null;const r=t.showNote?i.getElementById("confirmDialogTextarea")?.getValue():null;t.confirmActionHandler(r,s)}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})},handleCancel:function t(){this.confirmationDialogPromise.then(e=>{const t=(e.getModel()?.getProperty("/")).dialogSettings;e._bClosedViaButton=true;e.close();t.cancelActionHandler();if(this.confirmationDialogModel.getProperty("/dialogSettings/showFeedbackMessage")){this.dataServiceModel.refresh();this.refreshView(true)}}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})},handleAfterClose:function t(){this.confirmationDialogPromise.then(e=>{if(e._bClosedViaButton){e._bClosedViaButton=false}else{const t=(e.getModel()?.getProperty("/")).dialogSettings;t.cancelActionHandler()}e.destroy()}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})},createODataRequest:function t(n,o,i,s){const r={success:(t,n)=>{e.info("successful action");i?.(t,n)},error:e=>{const t=this.i18nBundle.getText("DataManager.HTTPRequestFailed");const n=e.response?e.response.body:null;const o={message:t,responseText:n};this.dataServiceModel.fireRequestFailed(o);s(e)},urlParameters:o};this.dataServiceModel.create(n,{},r)},sendAction:function n(o,i,s,r,a){const c={SAP__Origin:`'${a.SAP__Origin}'`,InstanceID:`'${a.InstanceID}'`};if(i.DecisionKey){c.DecisionKey=`'${i.DecisionKey}'`}if(s?.length>0){c.Comments=`'${s}'`}if(r){c.ReasonCode=`'${r}'`}const l=()=>{this.confirmationDialogPromise.then(e=>{e.setBusy(false);this.confirmationDialogModel.setProperty("/dialogSettings/showFeedbackMessage",true)}).catch(t=>{e.error(t instanceof Error?t.message:String(t))})};const d=e=>{if(e.responseText){const n=JSON.parse(e.responseText);t.error(n?.error?.message?.value)}this.handleCancel()};this.createODataRequest(`/${o}`,c,l,d)},showDecisionDialog:function t(){try{const t=this;t.dataServiceModel=t.dataServiceModel||new c(t.baseUrl);const{TaskTitle:n,Priority:o}=t.task;const i={noteMandatory:t.decisionOption.CommentMandatory,question:t.i18nBundle.getText("XMSG_DECISION_QUESTION",[t.decisionOption.DecisionText]),title:n,badgeIcon:y(o),badgeValueState:M(o),priorityText:t.i18nBundle.getText(p(o)),confirmButtonLabel:t.i18nBundle.getText("XBUT_SUBMIT"),showNote:true,showFeedbackMessage:false,reasonOptionsSettings:{show:false,required:false},textAreaLabel:t.i18nBundle.getText("XFLD_TextArea_Decision"),confirmActionHandler:(e,n)=>{t.sendAction("Decision",t.decisionOption,e,n,t.task)},cancelActionHandler:()=>{}};const s=g(function(){return Promise.resolve(t.dataServiceModel.metadataLoaded()).then(function(){const n=t.decisionOption?.ReasonRequired===S.Required||t.decisionOption?.ReasonRequired===S.Optional?t.loadReasonOptions():null;if(!n){t.openDecisionDialog(i)}else{n.then(e=>{if(e!==null){i.reasonOptionsSettings=e;if(i.reasonOptionsSettings?.reasonOptions&&!i.reasonOptionsSettings?.required){const e=`(${t.i18nBundle.getText("XSEL_DECISION_REASON_NONE_OPTION")})`;i.reasonOptionsSettings.reasonOptions.unshift({Name:e,Code:"defaultSelectedKey"})}t.openDecisionDialog(i)}}).catch(()=>{e.error("Could not load the reason options properly")})}})},function(){e.error("Could not load metadata model for inbox")});return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}});I.decisionDialogMethod=function e(t,n,o,i,s){const r=new I(t,n,o,i,s);return r.showDecisionDialog()};I.getTaskActions=function e(t,n,o,i){const s=[];const r=new Set;const a=o[t.SAP__Origin+t.TaskDefinitionID];if(a){for(const e of a){if(!r.has(e.Nature)||!e.Nature){s.push(O(e,i,t,n));r.add(e.Nature)}else{const o=O(e,i,t,n);o.type=f.Default;s.push(o)}}}return s};I.getIconFrameBadge=y;I.getIconFrameBadgeValueState=M;return I});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/Device", ["sap/ui/Device"],function(e){"use strict";const t={Mobile:600,Tablet:1024,Desktop:1135,LargeDesktop:1920};var i=function(e){e["Mobile"]="Mobile";e["Tablet"]="Tablet";e["Desktop"]="Desktop";e["LargeDesktop"]="LargeDesktop";e["XLargeDesktop"]="XLargeDesktop";return e}(i||{});function a(a=e.resize.width){if(a<t.Mobile||e.system.phone){return i.Mobile}else if(a<t.Tablet){return i.Tablet}else if(a<t.Desktop){return i.Desktop}else if(a<t.LargeDesktop){return i.LargeDesktop}else{return i.XLargeDesktop}}function n(e,t){const i={};t.forEach(t=>{i[t]=parseFloat(window.getComputedStyle(e).getPropertyValue(t))});return i}function r(e){const t=e.gap;if(a()===i.Mobile&&!e.skipDeviceCheck){const t=76;if(e.totalCards===1){return Math.max(e.minWidth,Math.min(e.containerWidth,e.maxWidth))}else{const i=e.containerWidth-t;return Math.max(e.minWidth,Math.min(i,e.maxWidth))}}let n;if(a()===i.Tablet&&e.totalCards>1&&!e.skipDeviceCheck){const i=t;const a=(e.containerWidth-i)/2;if(a>=e.minWidth&&a<=e.maxWidth){n=2}else{n=1}}else{let i=1;while(e.containerWidth/i>=e.minWidth+t){i++}i--;n=e.skipDeviceCheck?Math.min(i,e.totalCards):Math.max(Math.min(i,e.totalCards),Math.min(e.totalCards,3))}if(n<=0)return e.minWidth;const r=(n-1)*t;const o=(e.containerWidth-r)/n;return Math.min(Math.max(o,e.minWidth),e.maxWidth)}var o={__esModule:true};o.DeviceType=i;o.calculateDeviceType=a;o.fetchElementProperties=n;o.calculateCardWidth=r;return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/DragDropUtils", ["sap/f/GridContainer","sap/m/FlexBox","sap/m/Table","sap/ui/base/Event","sap/ui/core/Element","sap/ui/core/library"],function(e,t,n,o,r,i){"use strict";const s=function(e,t,n){try{const i=r.closestTo(e.target.firstElementChild);const s=i.getParent();const l=e.metaKey||e.ctrlKey;const p=s.getItems();const g=p.findIndex(e=>document.activeElement===e.getDomRef());u(p.map(e=>e.getDomRef()),g);if(!i||!s||!(t&&["ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Home","End"].includes(e.key))){return Promise.resolve()}e.preventDefault();e.stopPropagation();let m=s.indexOfItem(i);const h=[...p].reverse();const w=e=>p[e]?.getDomRef();switch(e.key){case"ArrowRight":if(c(w(m),w(m+1))){m++}break;case"ArrowLeft":if(c(w(m),w(m-1))){m--}break;case"ArrowUp":case"ArrowDown":m=f(s,m,e.key);break;case"Home":m=i.data("groupId")?p.findIndex(e=>e.data("groupId")):p.findIndex(e=>!e.data("groupId"));break;case"End":m=p.length-1-(i.data("groupId")?h.findIndex(e=>e.data("groupId")):h.findIndex(e=>!e.data("groupId")));break}const I=m>-1&&m<p.length?p[m]:null;const A=function(){if(i&&I){function t(){d(s,m)}const r=new o("keyboardDragDropEvent",s,{draggedControl:i,droppedControl:I,dropPosition:["ArrowLeft","ArrowUp","Home"].includes(e.key)?a.RelativeDropPosition.Before:a.RelativeDropPosition.After});u(p.map(e=>e.getDomRef()),m);const c=function(){if(n&&l){return Promise.resolve(n(r)).then(function(){})}}();return c&&c.then?c.then(t):t(c)}}();return Promise.resolve(A&&A.then?A.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};const a=i["dnd"];function c(e,t){if(!e||!t){return false}return e.getBoundingClientRect().top===t.getBoundingClientRect().top}const d=(o,r)=>{let i=null;if(o instanceof e){const e=[];o.$("listUl").children().each(function(t,n){if(n.classList.contains("sapFGridContainerItemWrapper")){e.push(n)}});i=e[r]}else if(o instanceof t||o instanceof n){i=o.getItems()[r].getDomRef()}if(i){i.setAttribute("tabindex","0");i.focus()}};const f=(e,t,n)=>{const o=function(e){return e.getBoundingClientRect().x};const r=function(e){return e.getBoundingClientRect().y};let i=t;let s=Number.MAX_SAFE_INTEGER;const a=e.getItems().map(e=>e.getDomRef());a.forEach(function(e,c){const d=Math.sqrt(Math.pow(o(a[t])-o(e),2)+Math.pow(r(a[t])-r(e),2));const f=n==="ArrowDown"&&c>t||n==="ArrowUp"&&c<t;if(f&&d<s&&r(e)!==r(a[t])){s=d;i=c}});return i};const u=(e,t)=>{e.forEach((e,n)=>{e.tabIndex=n===t?0:-1})};var l={__esModule:true};l.attachKeyboardHandler=s;l.focusDraggedItem=d;return l});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/FESRUtil", ["sap/ui/performance/trace/FESRHelper"],function(e){"use strict";var t=function(e){e["PRESS"]="press";e["CHANGE"]="change";e["SELECT"]="select";return e}(t||{});const a=(e,t)=>{e?.data("fesr-id",t)};const n=e=>e.data("fesr-id");const r=(t,a,n)=>{if(n){e.setSemanticStepname(t,a,n)}};var s={__esModule:true};s.FESR_EVENTS=t;s.addFESRId=a;s.getFESRId=n;s.addFESRSemanticStepName=r;return s});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/FeatureUtils", ["sap/base/Log","sap/ushell/Container","./Constants","./HttpHelper"],function(e,t,r,n){"use strict";function o(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function s(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}const u=r["FEATURE_TOGGLE_SRVC_URL"];const i=r["FEATURE_TOGGLES"];const c=o(n);const a=new Map;const f=function(t){try{function r(){return a.get(t)||false}if(a.has(t)){return Promise.resolve(a.get(t))}const n=s(function(){const e=Object.values(i).filter(e=>!a.has(e));return Promise.resolve(l(e)).then(function(e){e.forEach(e=>a.set(e.key,e.enabled))})},function(r){e.error("Error fetching feature toggles",r.message);a.set(t,false)});return Promise.resolve(n&&n.then?n.then(r):r(n))}catch(o){return Promise.reject(o)}};const l=function(e){try{const t=`?$filter=(ToggleId eq '${e.join("' or ToggleId eq '")}')`;return Promise.resolve(c.GetJSON(u+t)).then(function(t){const{value:r=[]}=t;return e.map(e=>({key:e,enabled:r.some(t=>t.ToggleId===e&&t.State.toUpperCase()==="X")}))})}catch(e){return Promise.reject(e)}};const g=function(r,n){try{return Promise.resolve(s(function(){return Promise.resolve(f(r)).then(function(e){return e?Promise.resolve(t.getServiceAsync("Navigation")).then(function(e){return Promise.resolve(e.isNavigationSupported([n])).then(function([{supported:e}]){return e||false})}):false})},function(t){e.warning(t instanceof Error?t.message:String(t));return false}))}catch(e){return Promise.reject(e)}};var h={__esModule:true};h.isFeatureEnabled=f;h.isNavigationSupportedForFeature=g;return h});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/HttpHelper", ["sap/base/Log","sap/ui/base/Object","./Constants"],function(e,t,r){"use strict";function n(e,t){try{var r=e()}catch(e){return t(e)}if(r&&r.then){return r.then(void 0,t)}return r}const s=r["REPO_BASE_URL"];class o extends t{constructor(){super()}static fetchCSRFToken(){return fetch(s,{method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}).then(e=>{const t=e.headers.get("X-CSRF-Token");if(e.ok&&t){return t}throw new Error("Cannot fetch X-CSRF-Token.")}).catch(t=>{e.error(t.message)})}static Post(t,r){return o.fetchCSRFToken().then(e=>fetch(t,{method:"POST",headers:{"X-CSRF-Token":e,"content-type":"application/json"},body:JSON.stringify(r)})).then(e=>e.json()).catch(t=>{e.error(t.message)})}static GetJSON(t){return fetch(t).then(e=>e.json()).catch(t=>{e.error(t.message)})}static GetMultipleRequests(t=[]){try{return Promise.resolve(n(function(){return Promise.resolve(Promise.all(t.map(function(e){try{return Promise.resolve(fetch(e)).then(function(e){if(e.headers.get("Content-Type")?.includes("application/json")){return Promise.resolve(e.json()).then(function(e){return e})}else{return Promise.resolve(e.text())}})}catch(e){return Promise.reject(e)}})))},function(t){e.error(t?.message);return[]}))}catch(e){return Promise.reject(e)}}}return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/IconList", [],function(){"use strict";const e={"SAP-icons":{title:"SAP Icons",icons:{"accidental-leave":["accidental","leave","medical","cross","plus","emergency","hospital"],account:["user","menu","settings"],wrench:["wrench","control","configuration","settings","tool"],"windows-doors":["window","door","entry"],"washing-machine":["washing","machine","laundry","clean","wash","purify"],visits:["user","arrow","door","visit","login","entry"],video:["camera","recorder","video","movie","clip"],"travel-expense":["plane","dollar","money","trip","expense","travel","holiday","flight","budget","billing","invoice","cost","payments"],temperature:["temperature","hot","heat","cold","cool","illness","sickness","health","medical"],task:["clipboard","task","checkbox","checklist","list","checkmark"],synchronize:["synchronize","reload","refresh","arrow"],survey:["survey","form","checklist","list","checkbox","checkmark","x"],settings:["cogwheels","configuration","settings","tools","modify","customize"],search:["search","magnifier","glass"],"sales-document":["document","page","file","text","sales","money"],"retail-store":["shop","store","retail","market"],refresh:["reload","refresh","arrow"],product:["product","commodity","goods","stock","merchandise","package"],present:["time","clock","star","current","present"],"ppt-attachment":["document","page","file","attachment","ppt","powerpoint"],pool:["pool","basin","swim"],"pie-chart":["analytics","chart","display","data","pie","segments"],picture:["picture","photo","photograph","shot","image"],"photo-voltaic":["photovoltaic","voltaic","electricity","power","solar","panel","sun"],phone:["phone","telephone","landline","number","call","dial"],pending:["time","clock","pend","pending","awaiting","unresolved","unsettled"],"pdf-attachment":["document","page","file","attachment","pdf"],past:["time","clock","past","bygone","former","late"],"outgoing-call":["call","communicate","phone","telephone","outgoing","arrow"],opportunity:["chart","line","star","opportunity","stock","market","exchange","trade"],opportunities:["user","person","dollar","equal to","opportunity"],notes:["notes","marks","info","draft"],"money-bills":["money","cash","payment","bills","dollar"],map:["map","pin","loaction","place","area"],log:["log","logout","log on","log off"],"line-charts":["analytics","chart","display","data"],lightbulb:["lightbulb","light","lamp","idea"],leads:["user","person","leads","star","equal to"],lead:["money","dollar","currency","payment"],laptop:["laptop","device","computer"],"kpi-managing-my-area":["user","person","kpi","checkmark","equal to"],"kpi-corporate-performance":["chart","line","kpi","checkmark","performance"],"incoming-call":["call","communicate","incoming","phone","telephone","arrow"],inbox:["inbox","in","arrow"],"horizontal-bar-chart":["analytics","chart","display","data","bar","horizontal"],history:["time","clock","history","past","chronicle"],"heating-cooling":["temperature","air conditioning","ac","heat","cold","sun","snowflake"],"gantt-bars":["calendar","gantt","bars","gantt bars","chart","schedule"],future:["time","clock","arrow","future","hereafter"],fridge:["fridge","refrigerator","icebox","freezer","cooler","appliance"],fallback:["folder","fallback","marked","object"],"expense-report":["expense","report","documents","money","dollar"],"excel-attachment":["document","page","file","attachment","excel","spreadsheet","accounting"],"energy-saving-lightbulb":["lightbulb","light","lamp","idea","eco","energy saving"],employee:["user","person","employee","member","operator","representative"],email:["envelope","email","e-mail","electronic mail","mail","correspondence"],edit:["pencil","pen","write","edit","modify","text"],duplicate:["duplicate","objects","arrow"],download:["download","arrow"],"doc-attachment":["document","page","file","attachment","word","text"],dishwasher:["dishwasher","dish","wash","appliance"],delete:["bin","trash can","rubbish","delete"],decline:["reject","close","remove","cancel","x"],complete:["complete","checkmark","tick","affirmative","enter","finish"],competitor:["competitor","winner","prize","award","trophy","cup"],"collections-management":["calculator","counting","simulate","collections management","total","accounting"],chalkboard:["chalkboard","education","teaching","learning","classroom","school","college"],cart:["cart","trolley","basket","shopping"],card:["image","placeholder","picture","hills","mountains","sun","card"],camera:["camera","photograph","device","image","snap shot"],calendar:["calendar"],begin:["begin","start","arrows"],basket:["basket","shopping"],"bar-chart":["analytics","chart","display","data"],attachment:["attach","file","paper clip"],"arrow-top":["arrow top","up"],"arrow-right":["arrow right"],"arrow-left":["arrow left"],"arrow-bottom":["arrow bottom","down"],approvals:["form","details","text","approvals","accepted","checkmark"],appointment:["date picker","calendar","month","week","day","appointment"],"alphabetical-order":["function","alphabet","letters","a to z","descending","sorting","order"],"along-stacked-chart":["analytics","chart","display","data"],alert:["message","warning","critical","notifications","status"],addresses:["customers","contacts","addresses","email","e-mail","directory","companies","houses","homes"],"address-book":["customers","contacts","addresses","email","e-mail","directory","companies","@","at"],"add-filter":["filter","organise","aggregate","data","add","plus","additional","another","more"],"add-favorite":["favorite","favourite","star","add","plus","additional","another","more"],add:["add","plus","additional","another","more","add row","add object","add item"],activities:["activities","tasks","to do","list"],action:["actions","collection","share options","forward actions","more actions","arrow"],accept:["accept","approve","correct","checkmark","tick","affirmative"],hint:["information","hint","about","details"],group:["group","team","people","communication","collaborate","teamwork","peer to peer","design thinking","work","together","project","customers","audience","category"],"check-availability":["date picker","calendar","month","week","day","appointment","search","look up","check","availability","find"],"weather-proofing":["weather","proofing","protection"],"payment-approval":["sales","simple payment","money","bill","details","quote","accept","approval","checkmark"],"batch-payments":["folder","open","money","documents"],bed:["bed","sleep","ill","hospital","sick","medical","tired","snooze","night"],arobase:["at","@","email","address"],"family-care":["family","protection","people","family"],favorite:["favorite","favourite","star"],"navigation-right-arrow":["navigation","right","expand","collapsed tree","tree arrow","arrow"],"navigation-left-arrow":["navigation","left","arrow"],"e-care":["e care","digital customer care","service","electronic","leaf","leaves","nature","organic","health","environment"],less:["less","minus","subtract"],lateness:["time","timer","waiting","lateness","loading","hour glass","sand","out of time"],lab:["lab","chemicals","liquid","mixture","chemistry","science","laboratory"],"internet-browser":["screen","internet","website","browser","web app","globe","www","html"],instance:["instance","process","clock","chevron"],inspection:["search","document","inspect"],"image-viewer":["image","placeholder","picture","hills","mountains","sun","viewer","carousel","lightbox"],home:["home","house","index","landing page","start","main"],grid:["grid","waffle","layout","boxes","squares","modular"],goalseek:["goal","goalseek","target","result","objective","aim"],"general-leave-request":["holiday","vacation","leave","request","deck","chair","sun","create"],"create-leave-request":["holiday","vacation","leave","request","deck chair","sun","create","add","plus","additional","another","more"],flight:["plane","trip","travel","holiday","flight","Aeroplane","transit","shipment"],filter:["filter","organise","aggregate","data"],"favorite-list":["favorite","favourite","star","menu","list"],factory:["factory","production","supplier","manufacturing"],endoscopy:["endoscopy","medical","procedure"],"employee-pane":["user","person","employee","member","operator","representative","profile","me"],"employee-approvals":["person","accept","approval","employee","hr","human resources"],"email-read":["mail","letter","e-mail","envelope","open","read"],electrocardiogram:["electrocardiogram","heart","scan","monitor","medical"],documents:["document","page","file","attachment","documents"],decision:["hand shake","decision","hands","agreement","colleagues","contract"],database:["database","big data","cube","complex","complicated","simple","information","backend"],"customer-history":["person","history","customer","user","clock","account"],customer:["person","individual","user","customer","human","circle","profile","me"],"credit-card":["credit card","master-card","money","debit","order","buy","purchase","shopping","book online"],"create-entry-time":["document","page","file","attachment","timesheet","clock","hours","days","workday","create entry time","add","plus","additional","another","more"],contacts:["customers","contacts","address","email","e-mail","phone book","directory","phone numbers","companies"],compare:["compare","law","justice","scale","measure","weight","balance","compare","comparison"],"clinical-order":["document","page","file","text","medical","clinical"],"chain-link":["link","chain","hyperlink"],"pull-down":["navigation","pull down","refresh","arrow"],"cargo-train":["train","cargo","delivery","transit"],"car-rental":["car","auto","rental","company car","hire","vehicle","transportation"],"business-card":["business card","contact","networking","colleague","person","address","identification","details","profile"],"bar-code":["bar code","document","file","scan","verify"],"folder-blank":["folder","blank"],"passenger-train":["train","public transportation","passenger"],"question-mark":["message","question mark","neutral","notifications","status"],world:["globe","world","goegraphical","earth","planet","international","global"],iphone:["iphone","phone","smart phone","portrait","tablet","mobile","responsive","cozy"],ipad:["ipad","tablet","portrait","mobile","responsive","cozy"],warning:["warning","exclamation mark","indicator","information"],sort:["sort","aggregate","ascending","descending","arrow"],"course-book":["education","course","learning","e book","bookmark","open","knowledge","course book","program"],"course-program":["document","page","file","attachment","course","education","course","learning","e book","bookmark","open","knowledge","coursebook","program"],"add-coursebook":["education","course","learning","e book","bookmark","open","knowledge","course book","program","add","plus","additional","another","more"],print:["print","printer","send to print","hard copy","output","paper","document","file"],save:["save","diskette","floppy disc","local disc","hard disc"],play:["play"],pause:["pause"],record:["record"],response:["reply","response","arrow"],"pushpin-on":["document","page","file","attachment","pin","pushpin","stick","unstick","snap","remove pin","unpin","off","on"],"pushpin-off":["pin","pushpin","stick","unstick","snap","remove pin","unpin","off","on"],unfavorite:["remove","unfavorite","star"],"learning-assistant":["education","course","learning","e book","bookmark","open","knowledge","school","college","help","tutor","assistant","teacher","professor"],timesheet:["document","page","file","attachment","timesheet","clock","hours","days","workday"],"time-entry-request":["time","entry","request","clock","list"],list:["list","text","ordered"],"action-settings":["settings","cogwheel","configuration","tools","modify","customize"],share:["share","reshare","distribute","arrow"],feed:["feed","messages","input","news","updates","latest","real-time"],role:["person","individual","user","customer","permission","access","granted","open","restrictions","unlocked"],flag:["flag","mark","marker","important"],post:["speech","bubble","comment","post"],inspect:["inspect","dialog","popup","popout","arrow"],"inspect-down":["cancel","x","close","dialog","popup"],"appointment-2":["date picker","calendar","month","week","day","appointment"],"target-group":["arrow","dart","dartboard","target group","goal","audience","specific"],"marketing-campaign":["marketing campaign","loud speaker","megaphone","notify","announcenment","public address"],"message-error":["message","error","negative","notifications","status"],comment:["speech","bubble","comment","discussion"],"shipping-status":["shipping status","truck","products","delivery","supplier","transit","lorry","van","shipment"],collaborate:["group","team","people","colleagues","communication","collaborate","teamwork","peer to peer","design thinking","work","together","project"],shortcut:["shortcut","redirect","arrow"],"lead-outdated":["lead outdated","circle","dollar"],"tools-opportunity":["analytics","chart","display","data","overview","map","org","tree"],permission:["document","page","file","permission","access","granted","open","restrictions","unlocked"],supplier:["supplier","package","product","satisfaction","returns","deliveries","warehouse","person","seller","buyer","inventory"],"table-view":["analytics","chart","display","data","table","grid","waffle","view","columns","rows"],"table-chart":["analytics","chart","display","data","table","columns","rows","grid","waffle","view"],"switch-views":["switch","views","objects","arrange"],"e-learning":["education","course","e learning","e book","bookmark","open","knowledge","school","college","computer","screen"],manager:["manager","company","overview","inform","board","leader","conference","meeting","keynote","speech","presentation"],"switch-classes":["switch","views","objects","arrange","classes"],"simple-payment":["sales","simple payment","money","bill","details","quote"],signature:["pencil","pen","signature","sign"],"sales-order-item":["document","page","file","sales order item","money","bill","details","quote"],"sales-order":["document","page","file","sales order","money","bill","details","quote"],request:["document","page","file","text","edit","write","new","pencil","pen","request"],receipt:["money","bill","details","proof","sale","receipt"],puzzle:["puzzle","pieces","fit","together","jigsaw","thinking","objects","challenge"],process:["process","flow","arrow","chevron"],private:["person","individual","user","customer","human","locked","in use","occupied","restricted","private","forbidden"],"popup-window":["computer","dialog","popup","window","screen","popout"],"person-placeholder":["person","individual","user","customer","human","profile","me"],"per-diem":["euro","time","per diem","calendar"],"paper-plane":["send","flight","paper","plane","fly","message","note","folded"],"paid-leave":["paid leave","money","dollar","bill","approved"],"pdf-reader":["pdf reader","document","display","file"],"overview-chart":["analytics","chart","display","data","overview","map","org"],overlay:["overlay","circle","dot"],"org-chart":["analytics","chart","display","data","overview","map","org","tree"],"number-sign":["number sign","hash","#'"],"notification-2":["speech","bubble","comment","discussion","notification"],"my-sales-order":["document","page","sales","order","money","bill","details","quote","invoice"],meal:["meal","knife and fork","dinner","lunch","eating","dine","expenses"],loan:["money bag","bank","dollar","tag"],"order-status":["document","page","file","attachment","order","status"],"customer-order-entry":["sign","signature","order","entry","customer","contract","agreement"],performance:["gauge","measure","speed","monitor","performance"],menu:["menu","list"],"employee-lookup":["customer","user","person","individual","contacts","look up","find","search"],education:["education","course","learning","e book","bookmark","open","knowledge","school","college"],"customer-briefing":["customer","user","person","individual","contacts","address","email","e-mail","briefing"],"customer-and-contacts":["customer","user","person","individual","contacts","address","email","e-mail"],"my-view":["my view","person","profile","tv","monitor","video call","individual","cutomer","user"],accelerated:["calendar","time","speed"],"to-be-reviewed":["to be reviewed","indicator","information"],warning2:["warning","to be reviewed","indicator","information"],"feeder-arrow":["feeder","arrow","input","enter text","execute","send"],"quality-issue":["quality issue","warning","problem","attention","status","details"],"workflow-tasks":["calendar","workflow","task","process","steps","project"],create:["document","page","file","attachment","create","new"],"home-share":["globe","world","goegraphical","earth","planet","share","global distribution","arrow"],globe:["globe","world","goegraphical","earth","planet","international","global"],tags:["tag","label","marker","indicator","detail"],"work-history":["folder","person","work history"],"x-ray":["x ray","procedure","scan","medical"],"wounds-doc":["wounds","doc","injury","accident","hospital","patient","emergency","health","illness","cross"],"web-cam":["web cam","camera","live","video","visual"],waiver:["waiver","money bag","percentage"],"vertical-bar-chart":["analytics","chart","display","data","bar","vertical"],"upstacked-chart":["analytics","chart","display","data","upstacked"],"trip-report":["analytics","chart","display","data","suitcase","trip","report","business trip"],microphone:["microphone","mic","keynote","announcement","speech","talk","audio","dictate","record"],"unpaid-leave":["unpaid leave","money","dollar","bill","rejected"],tree:["analytics","chart","display","data","overview","map","org","tree"],"toaster-up":["toaster","up","details"],"toaster-top":["toaster","top","details"],"toaster-down":["toaster","down","details"],"time-account":["time","account","clock","list"],theater:["theater","show","play","masks"],taxi:["car","taxi","cab","transportation"],"subway-train":["subway train","underground","tube"],"study-leave":["study","education","graduate","school","college","student","qualification"],stethoscope:["stethoscope","medical","health","doctor","hospital","nurse"],step:["process","flow","step","arrow"],sonography:["sonography","medical","ultrasound","ultrasonography"],soccer:["soccer","ball","football","world cup"],"physical-activity":["physical activity","runing","run","jogging"],pharmacy:["medicine","pills","drugs","pharmacy","pain","medication"],"official-service":["official","service","government","court house","law","legal","authority","official"],"offsite-work":["offsite work","external","company","office","outside"],"nutrition-activity":["apple","nutrition","activity","health","fruit"],newspaper:["newspaper","headlines","latest","updates"],"monitor-payments":["report","bill","billing","sales","expense","quote","envelope","invoice","dollar","money","monitor payments"],"map-2":["map","card","navigation","hunt","destination","location"],machine:["machine","factory","production","supplier","technical"],"mri-scan":["mri","scan","medical"],"end-user-experience-monitoring":["end user experience monitoring","gauge","measure","speed","monitor"],unwired:["unwired","gauge","measure","speed","monitor","performance"],"customer-financial-fact-sheet":["document","page","file","attachment","customer","financial","fact sheet","money"],"retail-store-manager":["retail store manager"],"electronic-medical-record":["electronic medical record","medical","cross","emergency","hospital"],"eam-work-order":["enterprise asset management","work","order","hard hat","check","tick mark"],"customer-view":["customer","view","analytics","overview"],"crm-service-manager":["crm service manager","task","dropdown","list"],"crm-sales":["crm sales","customer","relationship","management","person","star","money","list"],widgets:["widgets","random","star","dollar","plane","music","apps"],"commission-check":["commission check","coins","stack","search","percentage","money"],"collections-insight":["collections","insight","report","bill","billing","sales","expense","quote","envelope","invoice","dollar","money"],"clinical-tast-tracker":["clinical","task","tracker","clipboard","medical","checklist","check boxes"],"citizen-connect":["citizen connect","people","colleagues","communication","collaborate","teamwork","peer to peer","design thinking","work","together","project"],"cart-approval":["cart","trolley","basket","shopping","item","approve","approval","accept","check"],"capital-projects":["capital projects","building","dollar","money"],"bo-strategy-management":["bo strategy management","business","object","circle"],"business-objects-mobile":["business objects mobile","analytics","chart","display","data"],"business-objects-explorer":["business objects explorer","compass"],"business-objects-experience":["analytics","chart","display","data","business objects experience"],"bbyd-dashboard":["business by design","dashboard"],"bbyd-active-sales":["business by design","active","sales","search","approvals","check","book"],"business-by-design":["business by design"],"business-one":["business one"],"sap-box":["container","box","work load","collection","documents","files","filing","directory","storage"],"manager-insight":["manager","insight","company","overview","analyse","inform","board","report"],"accounting-document-verification":["document","approve","verify","accounting","money","coins"],"hr-approval":["person","accept","approval","employee","hr","human resources"],"idea-wall":["idea","wall","collaborate","teamwork","peer to peer","design thinking","work","together","project","improve"],"cart-5":["cart","trolley","basket","shopping","item","sap"],"cart-4":["cart","trolley","basket","shopping","item","add","put in","insert","add","plus","additional","another","more"],wallet:["money","wallet","purse","coins","bank","allowance","worth","wealth","cash","notes"],"vehicle-repair":["car","crash","accident","damage","repair","fix","garage","vehicle"],upload:["upload","arrow"],unlocked:["unlocked","open padlock","open","status","available","access","unrestricted"],umbrella:["rain","umbrella","brolly","shelter","keep dry"],"travel-request":["bubble","question","exclamation","notifications","status","help"],"travel-expense-report":["report","bill","billing","sales","travel","expense","quote","envelope","invoice"],"travel-itinerary":["travel","airplane","plane","car","itinerary","schedule","plan","flight","drive"],"time-overtime":["time","overtime","clock","money","hours"],"thing-type":["popup","speech","bubble","thing-type"],"technical-object":["technical","object","wrench","tool","fine tune","tweak","fix","work","component"],tag:["tag","label","marker","indicator","detail"],syringe:["medical","emergency","hospital","syringe","needle","shot","injection"],syntax:["source","code","develop","write","syntax"],suitcase:["travel","suitcase","business trip","personal","possessions","articles","items","collection"],simulate:["calculator","calculate","count","numbers","counting","simulate","divide","calculation","tot up","digits","algorithm","mathematician","mathematics"],shield:["authority","legitimate","official","important","protection","defense","security"],"share-2":["share","distribute","share with connections"],"sales-quote":["document","page","file","text","sales","money","bill","details","quote"],repost:["post again","circulate"],provision:["analytics","chart","display","data","table","columns","rows","grid","waffle","settings","modify","customize"],projector:["beamer","projector","show","movie","presentation","keynote"],"add-product":["product","box","package","unit","inventory","add","plus","additional","another","more"],"pipeline-analysis":["analytics","chart","display","data"],"add-photo":["camera","photograph","device","image","snap shot","add","plus","additional","another","more"],palette:["palette","paint","color","spot","mixing","artist","theme","design"],nurse:["nurse","medical","cross","emergency","hospital"],"sales-notification":["bubble","sales","notification"],mileage:["mileage","tank","petrol","fuel","fill up","gas","station"],"meeting-room":["meeting","room","collaborate","colleagues","teamwork","peer to peer"],"media-forward":["forward","media","arrow","end","finish"],"media-play":["play","media","arrow"],"media-pause":["pause","media","arrow"],"media-reverse":["reverse","media","arrow"],"media-rewind":["rewind","media","arrow","start","back"],"measurement-document":["measure","weight","scale","precision","technical","calibrate","calibration","calculation"],"measuring-point":["measure","point","scale","precision","arrow"],measure:["measure","weight","scale","precision","technical","calibrate","calibration","calculation"],"map-3":["map","card","x marks the spot","treasure","navigation","hunt","find","destination","location"],locked:["locked","padlock","private","status","in use","forbidden","restricted","safe"],letter:["letter","mail","post","postal","envelope","address","contact","correspondence"],"journey-arrive":["journey","arrive","arrow","placement"],"journey-change":["journey","change","direction","arrow","placement"],"journey-depart":["journey","depart","arrow","move","placement"],"it-system":["server","it","machine","computer","technology","device","system"],"it-instance":["server","it","machine","computer","technology","device","instance"],"it-host":["server","it","machine","computer","technology","device","host"],"iphone-2":["iphone","phone","smart phone","landscape","tablet","mobile","responsive","cozy"],"ipad-2":["ipad","landscape","tablet","mobile","responsive","cozy"],inventory:["inventory","truck","wrench","tools"],"insurance-house":["document","page","file","attachment","insurance","house"],"insurance-life":["document","page","file","attachment","insurance","life"],"insurance-car":["document","page","file","attachment","insurance","car"],initiative:["initiative","initiate","begin","enter","right","arrow","circle"],incident:["incident","question","message"],"group-2":["group","data","aggregate","list","table"],goal:["goal","target","result","objective","aim"],"functional-location":["arrow","locate","me","map","location","pointer","navigation","functional"],"full-screen":["full","screen","arrow"],form:["form","details","text"],"fob-watch":["fob watch","time","stop watch","timer","countdown"],"blank-tag":["tag","label","marker","indicator","blank"],"family-protection":["family","protection","people","house","roof","family"],folder:["folder","details"],"fax-machine":["fax","machine","communicate"],example:["example","dots","cicles","individual","odd"],eraser:["pencil","pen","erase","remove","undo","text"],"employee-rejections":["person","x","rejections","employee","hr","human resources"],"drop-down-list":["dropdown","list","arrow","megamenu"],"draw-rectangle":["draw","rectangle","resize","shape","create"],document:["document","page","file","attachment","blank","new"],doctor:["doctor","medical","cross","emergency","hospital"],"discussion-2":["speech","bubble","comment","discussion","text"],discussion:["speech","bubble","comment","discussion","blank"],dimension:["dimension","layers","stacked"],"customer-and-supplier":["customer and supplier","package","product","satisfaction","returns","warehouse","person","seller","buyer","inventory"],crop:["crop","clip","snip","cut","picture","image","shape","obect"],"add-contact":["person","contact","business card","customer","details","address","information","add","plus","additional","another","more"],"compare-2":["compare","law","justice","scale","measure","weight","balance","compare","comparison"],"color-fill":["square","filled","color"],collision:["car","crash","accident","damage"],curriculum:["folder","curriculum","learning","documents","content"],"chart-axis":["analytics","chart","display","data","chart axis","arrows","directions"],"full-stacked-chart":["analytics","chart","display","data","full stacked chart"],"full-stacked-column-chart":["analytics","chart","display","data","full stacked column chart"],"vertical-bar-chart-2":["analytics","chart","display","data","vertical bar chart"],"horizontal-bar-chart-2":["analytics","chart","display","data","horizontal bar chart"],"horizontal-stacked-chart":["analytics","chart","display","data","horizontal stacked chart"],"vertical-stacked-chart":["analytics","chart","display","data","vertical stacked chart"],"choropleth-chart":["analytics","chart","display","data","choropleth chart","geographic","map","world"],"geographic-bubble-chart":["analytics","chart","display","data","geographic","bubble","map","world"],"multiple-radar-chart":["analytics","chart","display","data","multiple radar chart"],"radar-chart":["analytics","chart","display","data","radar-chart"],"crossed-line-chart":["analytics","chart","display","data","crossed line chart"],"multiple-line-chart":["analytics","chart","display","data","multiple line chart"],"multiple-bar-chart":["analytics","chart","display","data","multiple bar chart"],"line-chart":["analytics","chart","display","data","line chart"],"line-chart-dual-axis":["analytics","chart","display","data","line chart","dual axis"],"bubble-chart":["analytics","chart","display","data","bubble chart"],"scatter-chart":["analytics","chart","display","data","scatter chart"],"multiple-pie-chart":["analytics","chart","display","data","multiple","pie chart"],"column-chart-dual-axis":["analytics","chart","display","data","column","dual axis"],"tag-cloud-chart":["analytics","chart","display","data","speech","tag","cloud"],"area-chart":["analytics","chart","display","data","area"],cause:["get","reason","incoming","arrow","relocate","take"],"cart-3":["cart","trolley","basket","shopping","item","add","put in","insert","down","arrow"],"cart-2":["cart","trolley","basket","shopping","empty","remove","take out","clear","up","arrow"],"bus-public-transport":["bus","public","traffic","vehicle"],burglary:["money","thief","loss","theft","safe","unsafe","burglary","robbery","bank"],building:["building","company","firm","factory","office"],border:["border","square","outline"],bookmark:["bookmark","later","marker","save"],badge:["badge","insignia","star","service","identity","authority","legitimate","coat of arms","membership","award","rank"],"attachment-audio":["document","page","file","attachment","audio","sound"],"attachment-video":["document","page","file","attachment","video","film","movie"],"attachment-html":["document","page","file","attachment","html","web","website"],"attachment-photo":["document","page","file","attachment","photo","image"],"attachment-e-pub":["document","page","file","e pub","electronic publication","e book"],"attachment-zip-file":["document","page","file","zip","compressed"],"attachment-text-file":["document","page","file","text"],"add-equipment":["wrench","control","configuration","settings","tool","add","plus","additional","another","more"],"add-activity":["activity","activities","tasks","to do","list","add","plus","additional","another","more"],"activity-individual":["activity","activities","tasks","to do","list","individual","person"],"activity-2":["activity","activities","tasks","to do","list","check list","correct","success","tick mark"],"add-activity-2":["activity","activities","tasks","to do","list","check list","correct","success","tick mark","add","plus","additional","another","more"],"activity-items":["activity","activities","tasks","to do","list","items"],"activity-assigned-to-goal":["activity","activities","tasks","to do","assigned to goal","target","objective"],"status-positive":["positive","completed","on track","led","traffic lights","street sign","lifecycle"],"status-negative":["negative","attention","led","traffic lights","street sign","lifecycle"],"status-inactive":["inactive","neutral","information","led","traffic lights","street sign","lifecycle"],"status-critical":["critical","in process","warning","led","traffic lights","street sign","lifecycle"],"blank-tag-2":["tag","label","marker","indicator","blank"],"cart-full":["cart","trolley","basket","shopping","full","capacity","load"],"locate-me":["arrow","locate","me","map","location","pointer","navigation"],paging:["paging","navigation"],"company-view":["view","group","company","personnel","firm","overview"],"document-text":["document","page","file","text"],explorer:["explorer","compass"],"personnel-view":["view","person","profile","personnel","overview"],"sorting-ranking":["sort","ranking","ascending","descending","arrow"],"drill-down":["drill down","arrow","detail","hierarchy","level","megamenu"],"drill-up":["drill up","arrow","detail","hierarchy","level"],"vds-file":["document","page","file","text","attachment","Visual Design Stream","vds"],"sap-logo-shape":["sap","logo","shape"],"folder-full":["folder","full"],"system-exit":["system","exit"],"system-exit-2":["system","exit"],"close-command-field":["close command field","navigation","left","page left","previous","arrow"],"open-command-field":["open command field","navigation","right","page right","next","arrow"],"sys-enter-2":["system","enter","correct","tick","affirmative"],"sys-enter":["system","enter","correct","tick","affirmative"],"sys-help-2":["system","help","circle","question"],"sys-help":["system","help","circle","question"],"sys-back":["system","back","arrows"],"sys-back-2":["system","back","arrows"],"sys-cancel":["clear","remove","cancel","x"],"sys-cancel-2":["clear","remove","cancel","x"],"open-folder":["folder","open"],"sys-find-next":["find","binoculars","look up","add","plus","additional","another","more"],"sys-find":["find","binoculars","look up"],"sys-monitor":["screen","monitor","tv"],"sys-prev-page":["system","previous","page","up","arrows"],"sys-first-page":["system","first","page","up","top","arrows"],"sys-next-page":["system","next","page","down","arrows"],"sys-last-page":["system","last","page","down","bottom","arrows"],"generate-shortcut":["generate","shortcut","arrow"],"create-session":["create","session"],"display-more":["display","details","more","arrow"],"enter-more":["enter","details","more","arrow"],"zoom-in":["zoom","in","magnify","glass","plus","enlarge","bigger"],"zoom-out":["zoom","out","glass","minus","reduce","smaller"],header:["maximize","header","screen"],"detail-view":["search","form","look up","find","view","detial"],collapse:["collapse all","minus","ungroup all","arrow"],expand:["expand all","plus","group all","arrow"],positive:["plus","positive"],negative:["minus","remove","subtract","negative"],display:["display","details","inspect","spectacles","glasses"],menu2:["menu","hamburger menu","main menu"],redo:["redo","arrow","previous state","history","forwards"],undo:["undo","arrow","previous state","history","backwards"],"navigation-up-arrow":["navigation","up","arrow"],"navigation-down-arrow":["navigation","down","collapse","expanded tree","tree arrow","arrow","megamenu"],down:["down","triangle","megamenu"],up:["up","triangle"],shelf:["shelf","storage","drawers","compartments"],background:["image","placeholder","picture","hills","mountains","sun"],resize:["resize","bigger","smaller"],move:["move","relocate","left","right","up","down"],show:["show","eye"],hide:["hide","eye"],"nav-back":["navigation","back","previous","arrow"],error:["message","error","negative","notifications","status","solid"],"slim-arrow-right":["slim","thin","skinny","arrow","right","scroll right"],"slim-arrow-left":["slim","thin","skinny","arrow","left","scroll left"],"slim-arrow-down":["slim","thin","skinny","arrow","down","select navigation","combobox","multi combobox"],"slim-arrow-up":["slim","thin","skinny","arrow","up"],forward:["forward","arrow"],overflow:["overflow","dots","ellipsis","more"],"value-help":["value","help","popup","assistance","multi input"],"multi-select":["multi select","list","table","data"],"exit-full-screen":["exit","fullscreen","arrow"],"sys-add":["add","plus","additional","another","more","add row","add object","add item"],"sys-minus":["minus","remove","subtract"],dropdown:["dropdown","menu","menu button","arrow","megamenu"],"expand-group":["expand","group","move to bottom","arrow"],"vertical-grip":["vertical","grip","move left","move right","splitter"],"horizontal-grip":["horizontal","grip","move up","move down","splitter"],"sort-descending":["sort","descending","down","table","aggregate"],"sort-ascending":["sort","ascending","up","table","aggregate"],"arrow-down":["arrow","circle","down","variant","management","selection","options","megamenu"],legend:["legend","description","colors","charts","table","planning","calendar"],"collapse-group":["collapse","group","move to top","arrow"],"message-warning":["message","warning","critical","notifications","status"],"message-information":["message","information","neutral","notifications","status"],"message-success":["message","success","positive","notifications","status"],restart:["restart","process","play"],stop:["stop","process","play"],"add-process":["process","add","plus","additional","another","more"],"cancel-maintenance":["wrench","control","configuration","settings","tool","cancel maintenance"],activate:["activate","ignite","initiate","magic","wand","spark"],"resize-horizontal":["resize","horizontal","column","screen","bigger","smaller","enlarge","reduce","arrows","lines","side to side"],"resize-vertical":["resize","vertical","row","screen","bigger","smaller","enlarge","reduce","arrows","lines","up and down"],connected:["plug","connected","on","state"],disconnected:["plug","disconnected","unplug","state"],"edit-outside":["pencil","pen","write","edit","modify","text","outside","arrow"],key:["key","data","lock","important"],minimize:["minimize","screen","window","reduce","hide"],"back-to-top":["back to top","jump","beginning","arrow","up"],"hello-world":["bubble","ui5","hello","world"],outbox:["outbox","out","arrow"],"donut-chart":["analytics","chart","display","data"],"heatmap-chart":["analytics","chart","display","data"],"horizontal-bullet-chart":["analytics","chart","display","data"],"vertical-bullet-chart":["analytics","chart","display","data"],call:["call","communicate","phone","telephone"],"download-from-cloud":["download","cloud","arrow"],"upload-to-cloud":["save","upload","cloud","arrow"],jam:["sap","logo","jam","social","collaborate","share"],"sap-ui5":["ui5","framework","development","sap"],"message-popup":["message","popup","speech","bubble","exclamation","notifications","status"],cloud:["cloud","platform","storage","big data","sap"],"horizontal-waterfall-chart":["analytics","chart","display","data"],"vertical-waterfall-chart":["analytics","chart","display","data"],"broken-link":["unlink","broken","chain","hyperlink"],headset:["headset","call","help","support","talk","mic","listen"],"thumb-up":["thumbs","up","like","appreciate","positive"],"thumb-down":["thumbs","down","dislike","negative"],"multiselect-all":["multi select","list","table","data","all","selected"],"multiselect-none":["multi select","list","table","data","none","deselected"],scissors:["cut","scissors","document","clipboards","file","text"],sound:["sound","audio","audio","speaker"],"sound-loud":["sound","audio","audio","speaker","loud","louder"],"sound-off":["sound","audio","off","mute","quiet","speaker","cancel"],"date-time":["date","time"],"user-settings":["settings","cogwheel","configuration","settings","tools","modify","customize","person","user","runtime authoring"],"key-user-settings":["settings","cogwheel","configuration","settings","tools","modify","customize","administrator","key user","runtime authoring"],"developer-settings":["settings","cogwheel","configuration","settings","tools","modify","customize","developer","runtime authoring"],"text-formatting":["customize","text","format","options","text decoration","text edit","rich-text"],"bold-text":["bold","fat","bulk","weight","text","format","text decoration","text edit","rich-text"],"italic-text":["itlalic","slanted","leaning","text","format","text decoration","text edit","rich-text"],"underline-text":["underline","text","format","text decoration","text edit","rich-text"],"text-align-justified":["align","text","justified","text edit","rich-text"],"text-align-left":["align","text","left","text edit","rich-text"],"text-align-center":["align","text","center","text edit","rich-text"],"text-align-right":["align","text","right","text edit","rich-text"],"bullet-text":["bullet","text","dots","text edit","rich-text"],"numbered-text":["numbered","text","1, 2, 3","text edit","rich-text"],co:["co pilot","mnemonics","assistant","launchpad"],"ui-notifications":["notify","ui","notifications","alerts","launchpad"],bell:["bell","alarm","notify","alerts"],"cancel-share":["cancel share","cancel distribution","do not share with connections"],"write-new-document":["document","page","file","text","edit","write","new","pencil","pen"],"write-new":["write","new","create","pencil","pen"],cancel:["unable","forbidden","do not","cancel","not allowed","not allowed"],"screen-split-one":["screen","split","two","master","detail","split app"],"screen-split-two":["screen","split","two","half"],"screen-split-three":["screen","split","three","columns"],customize:["settings","configuration","settings","modify","customize","equaliser","fine tune"],"user-edit":["user","edit","person","pencil","pen"],"source-code":["source","code","develop","write","syntax"],copy:["copy","document","file","duplicate","text"],paste:["paste","document","clipboards","file","text"],"line-chart-time-axis":["chart","line","time","axis"],"clear-filter":["filter","organise","aggregate","data","clear","delete","remove","cancel"],reset:["reset","x","cancel"],"trend-up":["trend","up","diagonal","increase","improve","arrow"],"trend-down":["trend","down","diagonal","decrease","decline","arrow"],"cursor-arrow":["cursor","arrow","mouse","pointer","select"],"add-document":["document","page","file","text","new","add","plus","additional","another","more"],"create-form":["create","form","new","add","plus","additional","another","more"],"resize-corner":["resize","dialog","corner"],"chevron-phase":["analytics","chart","display","data","gantt","shape","chevron","phase"],"chevron-phase-2":["analytics","chart","display","data","gantt","shape","chevron","phase"],"rhombus-milestone":["analytics","chart","display","data","gantt","shape","rhombus","milestone"],"rhombus-milestone-2":["analytics","chart","display","data","gantt","shape","rhombus","milestone"],"circle-task":["analytics","chart","display","data","gantt","shape","circle","task"],"circle-task-2":["analytics","chart","display","data","gantt","shape","circle","task"],"project-definition-triangle":["analytics","chart","display","data","gantt","shape","triangle","project","definition"],"project-definition-triangle-2":["analytics","chart","display","data","gantt","shape","triangle","project","definition"],"master-task-triangle":["analytics","chart","display","data","gantt","shape","triangle","task","master"],"master-task-triangle-2":["analytics","chart","display","data","gantt","shape","triangle","task","master"],"program-triangles":["analytics","chart","display","data","gantt","shape","triangle","program"],"program-triangles-2":["analytics","chart","display","data","gantt","shape","triangle","program"],"mirrored-task-circle":["analytics","chart","display","data","gantt","shape","mirrored","circle","task"],"mirrored-task-circle-2":["analytics","chart","display","data","gantt","shape","mirrored","circle","task"],"checklist-item":["analytics","chart","display","data","gantt","shape","checklist","item"],"checklist-item-2":["analytics","chart","display","data","gantt","shape","checklist","item"],checklist:["analytics","chart","display","data","gantt","shape","checklist"],"checklist-2":["analytics","chart","display","data","gantt","shape","checklist"],"chart-table-view":["analytics","chart","display","data","table","columns","rows","grid","waffle","view"],"filter-analytics":["analytics","filter","organise","chart","customize","display","data"],"filter-facets":["analytics","filter","organise","chart","customize","display","data"],"filter-fields":["analytics","filter","organise","chart","customize","display","data"],indent:["indent","paragraph","move right","align","text edit","spacing","rich-text","arrows"],outdent:["outdent","paragraph","move left","align","text edit","spacing","rich-text","arrows"],heading1:["heading","header","h1","large text","title","level 1","text edit","rich-text"],heading2:["heading","header","h2","large text","title","level 2","text edit","rich-text"],heading3:["heading","header","h3","large text","title","level 3","text edit","rich-text"],"decrease-line-height":["decrease","line height","leading","text edit","spacing","rich-text","less space","reduce","compress","arrows"],"increase-line-height":["increase","line height","leading","text edit","spacing","rich-text","more space","enlarge","expand","arrows"],"add-folder":["folder","add","directory","additional","library"],away:["time","clock","away","availability","chronicle","be right back","appear away","off work","me"],busy:["busy","unavailable","not responsive","blocked","circle","dot","me","working"],"appear-offline":["appear-offline","offline","hide","blocked","circle","me"],blur:["blur","tool","screenshot","image","edit","modify","distort","smudge","blurry","filter","effects"],pixelate:["pixel","tool","screenshot","image","edit","modify","distort","pixelate","squares","dots","resolution","noise"],"horizontal-combination-chart":["analytics","chart","display","data","combination","line-chart","bar","horizontal"],"add-employee":["customer","user","person","individual","contacts","add","additional","employee","hr","human resources","plus"],"text-color":["color","formatting","edit","colour","letters","rich","rich-text","options"],"browse-folder":["browse folder","search","look up","folder","browse","directory","library","find"],"primary-key":["key","primary","data","lock","important"],"two-keys":["key","primary","foreign","data","lock","important"],strikethrough:["strike","formatting","edit","cross out","letters","rich","rich-text","options","review"],text:["text","formatting","edit","input","letters","rich","rich-text"],responsive:["desktop","tablet","mobile","phone","adaptive","cozy","compact","web app"],"desktop-mobile":["desktop","tablet","mobile","phone","adaptive","cozy","compact","web app","responsive","adaptive"],"table-row":["display","data","table","table row","grid","waffle","view","rows"],"table-column":["display","data","table","table column","grid","waffle","view","columns"],validate:["message","check","validate","security","status","approve","reject","decision","certify"],"keyboard-and-mouse":["mouse","desktop","click","keyboard","compact","condensed","controls","devices"],touch:["finger","mobile","press","touch","cozy","comfortable","controls","devices"],"expand-all":["expand","all","open","open all","expand all","arrow","table","tree","list"],"collapse-all":["collapse","all","close","close all","collapse all","arrow","table","tree","list"],combine:["merge","arrow","combine","glue","together","join","meld","unite","aggregate","interflow","runtime authoring","runtime adaptation","ui adaptation","arrows-right"],split:["split","arrow","separate","break","cleave","clove","cut up","runtime authoring","runtime adaptation","ui adaptation","arrows-right"],megamenu:["navigation","arrows-down","arrow-down","down","shell"],feedback:["feedback","smiley","comment","shell","callout","speech"],information:["information","info","message","message-information","i","filled","notification"],s4hana:["s4hana","S/4HANA","S/4","hana","product switch","product","switch"],translate:["translate","text","letters","translation","A","arrows"]}},"SAP-icons-TNT":{title:"SAP Fiori Tools",icons:{technicalsystem:["system","hexagon"],systemjava:["system","java"],systemabap:["abap","system"],systemrecommendations:["system","star","favorite"],system:["system"],systemtrex:["system","trex","settings"],systemtracks:["system","arrow"],technicalscenario:["hexagon","connection","scenario"],technicalinstance:["hexagon","connection","instance"],"throughput-backlog":["arrow","bar","chart","up"],"batch-processing":["process","document","settings","double","multiple"],"database-consistency":["data","indicator","warning"],"intermediate-message":["email","e-mail","electronic mail","envelope","mail","correspondence","message","arrow"],exceptions:["warning","status","exclamation"],"system-hana":["hana","system","chip"],python:["system","python"],"raise-fault":["lightning","flash","status"],"spike-arrest":["chart","line","performance","cancel","data","analytics","x"],"verify-api":["wrench","question mark","status","tool"],user:["person","individual","user","customer","human","profile","me"],note:["notes","draft","text","write","letter"],"throwing-message":["envelope","email","e-mail","electronic mail","mail","correspondence","throwing"],"catching-message":["envelope","email","e-mail","electronic mail","mail","correspondence","catching"],"start-event":["circle","start","event","display","data","task"],"end-event":["circle","end","event","display","data","task"],gateway:["shape","indicator","check"],"sub-process-marker":["add","square","shape","process","plus","marker"],"ad-hoc-marker":["tilde","marker"],"manual-task":["activity","manual","task","process","hand"],"send-task":["envelope","email","e-mail","electronic mail","mail","correspondence","catching","send"],"receive-task":["envelope","email","e-mail","electronic mail","mail","correspondence","catching","receive"],"script-task":["script","activity","task","process"],marquee:["mark","select","lines","dashed line"],"data-input-arrow":["out","arrow","data","arrow right","filled"],"data-output-arrow":["out","arrow","data","arrow right","empty"],more:["dropdown","list","arrow"],pattern:["squares","shape","check"],task:["task","steps","project","shape"],arrow:["arrow up","direction","up","right"],data:["document","page","file","attachment","blank","new"],"data-store":["data","store","storage","files","barrel","cylinder"],pool:["collect","double","pool","lanes"],swimlane:["collect","single","pool","lane"],select:["arrow","selection","select","cursor","arrow","pointer","mouse","filled"],cursor:["arrow","selection","select","cursor","arrow","pointer","mouse"],api:["api","program","application"],"o-data":["o data","data","protocol"],java:["java","coffee"],"value-mapping":["value","exchange"],"terminate-end-event":["circle","end","event","terminate","data","task"],"parallel-gateway":["shape","indicator","add","check"],"exclusive-gateway":["shape","indicator","cancel","check"],"service-task":["service","task","setting","cogwheels","configuration","customize"],"workflow-editor":["connection","flow","workflow","square","circle","lines"],"boundary-interrupting":["indicator","clock","event","time","boundary"],"boundary-non-interrupting":["indicator","clock","event","time","boundary"],block:["cube","square","modular","system","collection","box","object"],"constrain-block":["block","cube","braces","brackets","analysis","model"],actor:["person","individual","user","human"],"instance-specification":["block","brick","model","system","part","module"],"value-type":["slider","define","system","panel","variant","control"],"interface-block":["hexagon","code","design","port"],unit:["measure","ruler","quantity","magnitude","education"],signal:["tower","information","network","radio","wave"],"quantity-kind":["measure","quantity","magnitude","unit","beaker","jug","capacity"],"item-flow":["flow","association","connector"],dependency:["link","interrupted","dependent"],generalization:["link","general"],aggregation:["link","aggregate","collect"],composition:["link","compose"],association:["link","associate"],port:["external","entity","point","block","modular"],"proxy-port":["external","entity","point","block","modular","proxy","system","boundary"],"full-port":["external","entity","point","block","modular","full","system","boundary"],operations:["setting","arrow","circle","development"],constrains:["brackets"],receptions:["arrow","hexagon","receive","input","inside"],references:["connection","block","relation","connect","influence"],parts:["puzzle","piece","game","module","match"],flow:["arrow","direction","cross"],values:["object","code"],"bill-of-material":["list","material","manufacture","list","bom"],"document-info-recording":["document","link"],"use-case-diagram":["diagram","oval"],"bdd-diagram":["diagram","box"],"requirement-diagram":["diagram","need","note","notepad"],"package-diagram":["diagram","folder"],"internal-block-diagram":["diagram","box"],"requirement-containment-relationship":["diagram","box"],"use-case":["oval"],"use-case-extension-point":["oval","dots"],"communication-path":["line","diagonal"],"note-connection":["line","diagonal","dotted"],subject:["window"],"auto-layout":["compose","arrange"],"required-interface":["receive","import","input"],"provided-interface":["deliver","export","output"],"sub-content":["folder","container"],connector:["connect","connection","number"],"local-process-call":["window","arrow"],aggregator:["tree","gather","collect"],splitter:["tree"],converter:["tree","extractor","arrow","document","file"],"content-modifier":["letter","mail","pen","email","e-mail","electronic mail","envelope"],"message-start-event":["mail","circle","email","e-mail","electronic mail","envelope","mail","correspondence","receiving","sending","standard"],"message-end-event":["mail","circle","email","e-mail","electronic mail","envelope","mail","correspondence","receiving","sending","standard"],"escalation-end-event":["arrow","circle","responsibility","standard"],"start-timer-event":["clock","circle","standard","timer","span","timeout","time"],"error-start-event":["circle","lightning","flash"],"error-end-event":["circle","lightning","flash"],"content-enricher":["square","arrow","box"],realization:["sysml","arrow"],interface:["sysml","i","hexagon"],"business-capability":["business","architecture","enterprise","capability","pentagon"],"progress-group":["business","architecture","enterprise","process","group","chevron","square"],"value-stream":["business","architecture","enterprise","value","dollar","square"],"value-flow":["business","architecture","enterprise","value","dollar","chevron"],application:["app","architecture","enterprise","application","program"],"etl-job":["architecture","enterprise","application","etl","extract","transform","load","configuration","setting"],"business-service":["business","enterprise","application","service","pentagon","setting","architecture"],"application-service":["architecture","enterprise","application","service","app","setting"],"network-node":["architecture","enterprise","infrastructure","arrow","circle","node"],network:["architecture","enterprise","infrastructure","circle","node"],"deployment-instance":["architecture","enterprise","infrastructure","square","setting"],intranet:["architecture","enterprise","infrastructure","house","world","globe"],"mobile-network":["architecture","enterprise","infrastructure","mobile","network","tower","power","pole"],"private-cloud":["architecture","enterprise","infrastructure","cloud","lock","secure","safe"],antenna:["architecture","enterprise","antenna","transmit"],firewall:["architecture","enterprise","firewall","brick","wall","secure","safe"],hub:["architecture","enterprise","grid"],modem:["architecture","enterprise","grid","internet","web"],repeater:["architecture","enterprise","grid","internet","repeat"],router:["architecture","enterprise","grid","internet"],switch:["architecture","enterprise","grid"],satellite:["architecture","enterprise","space"],"system-2":["architecture","enterprise","square","node"],"status-activating":["activate","clock","square"],"status-suspended":["suspend","pause","square"],"status-suspending":["suspend","pause","square","clock"],"status-terminated":["terminate","triangle"],"status-terminating":["terminate","triangle","clock"],"solution-not-licensed":["circle","half","fill","empty","license"],"clear-all-mapping":["clear","remove","delete","map","cancel"],"map-all-fields":["link","source","target","text"],"process-package":["package","process","arrow","arrows","chevron"],"process-kpis":["process","kpi","chart","bulb","light","lamp"],insights:["insights","chart","light","bulb","lamp"]}},BusinessSuiteInAppSymbols:{title:"SAP Business Suite",icons:{heart:["heart","medical"],quarter:["calendar","time","date","quarter","schedule"],year:["calendar","time","date","year","schedule"],equalizer:["equalizer","sliders","adjust"],component:["component","plus","add"],"component-private":["component","private","locked"],"raw-material":["barrel","raw","material"],sms:["sms","mobile","message","phone","speech","bubble","text"],"add-note":["add","plus","additional","more","another","note","info","draft"],"change-time-horizon":["change","arrow","time","clock","time horizon"],"table-chart-customization":["wrench","control","customize","configuration","tools","settings","table","chart"],"delegated-important-task":["flag","arrow","task","delegate","important"],forklift:["forklift","transport"],coins:["coins","money","cash"],"filter-menu":["filter","organise","aggregate","data","menu"],"target-to-date":["date","target","calendar","arrow"],program:["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics"],phase:["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics","chevron"],checklist:["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics","checklist"],"mirrored-task":["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics","mirrored task"],"sub-project":["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics","sub project"],"checklist-item":["planning","scheduling","program","project","scheduling","shape","gantt","chart","display","analytics","checklist item"],"adhoc-analysis":["magnifier","glass","search","adhoc analysis","analytics","exclamation","status"],"change-analysis":["magnifier","glass","search","change analysis","analytics"],"review-demands":["magnifier","glass","search","review demands","clipboard","task","arrow"],"project-definition":["shape","gantt","chart","display","analytics","triangle","project","definition","planning","scheduling"],"data-access":["arrow","data","access"],"define-shortage":["define","shortage","chart","measurement"],"review-supplies":["magnifier","glass","search","review","supplies","supply","analytics"],"change-log":["change","log","time","clock"],"priority-1":["high priority","exclamation","alert","warning","status"],"priority-2":["high priority","exclamation","alert","warning","status","multiple"],jam:["jam","message","speech","bubble","text","conversation","social","comment","discussion"],milestone:["badge","insignia","star","prize","award","achievement","milestone"],"bulleting-with-numbers":["bullet","text","dots","rich text"],"decrease-indent":["text","rich text","decrease indent","paragraph","move left","align","arrow","outdent"],"increase-indent":["text","rich text","increase indent","paragraph","move left","align","arrow","indent"],bold:["text","rich text","style","text decoration","format","bold","fat","weight"],italic:["text","rich text","style","text decoration","format","italic","slanted","leaning"],"strike-through":["text","rich text","style","text decoration","format","strike through","crossed out"],underline:["text","rich text","style","text decoration","format","underline"],"save-as":["save as","diskette","pencil","floppy disc"],segmentation:["segmentation","hierarchy","map","org","tree","overview","data"],"context-menu":["menu","options","context","button","corner","triangle"],snapshot:["snapshot","arrows","x","cancel","remove","delete","close"],"substraction-b-a":["circles","substraction","analytics","analyze objects","filter","segmentation","segment","target group","b-a"],"substraction-a-b":["circles","substraction","analytics","analyze objects","filter","segmentation","segment","target group","a-b"],intersection:["circles","intersection","analytics","analyze objects","filter","segmentation","segment","target group"],union:["circles","intersection","analytics","analyze objects","filter","segmentation","segment","target group","union","merge","combine"],top:["arrow","top"],bottom:["arrow","bottom"],"page-up":["arrows","page up"],"page-down":["arrows","page down"],"create-dashboard":["create","new","plus","dashboard","page","file"],"excelsius-file":["excelsius file"],"open-folder":["arrow","open","folder"],neutral:["neutral"],"split-segmentation":["split","separate","divide","arrows","segmentation","segment","target group"],"manage-budget":["arrows","money","manage","budget"],blocked:["blocked"],pipette:["pipette","eye dropper","sample"],"top-recipe":["recipe","bowl","mortar","star","top","important"],recipe:["recipe","bowl","mortar"],ingredients:["ingredients"],"multiple-charts":["analytics","chart","display","data","multiple charts"],"descending-bars":["analytics","chart","display","data","descending bars"],"descending-stacked-bars":["analytics","chart","display","data","descending stacked bars"],"scatter-plot":["analytics","chart","display","data","scatter plot"],spill:["spill","hazard"],fire:["fire","hazard"],stratification:["analytics","chart","display","data","stratification"],relationship:["analytics","chart","display","data","relationship"],"margin-decomposition":["analytics","chart","display","data","margin decomposition"],"control-group":["control group","people"],"responsible-area":["responsible area","person","people"],increase:["increase","arrow","up","raise"],decrease:["decrease","arrow","down","lower"],"current-stock":["current stock","diamond"],expedite:["arrow left","calendar","accelerate"],postpone:["arrow right","calendar","postpone","delay"],approved:["checkmark","approved","tick","ok","checked"],"partially-delivered":["partially delivered"],"line-bar-chart":["analytics","chart","display","data","line bar chart"],"expand-all":["expand all","plus"],submission:["money","submission","exclamation","circle"],"change-request":["change","request","pencil","file","edit","write","new","pen"],"column-unselected":["column","unselected","circle"],"column-selected":["column","selected","circle"],"row-unselected":["row","unselected","circle"],"row-selected":["row","selected","circle"],"stock-requirements":["arrows","stock","requirement"],"gender-male-and-female":["gender","male and female"],"icon-marital-status":["marital status","wedding rings","married","not married"],birthday:["birthday","cake","candles","birth date"],classification:["classification","ranking"],"marked-for-deletion":["clock","time","bin","trash can","rubbish","deletion","marked","to be deleted"],"bullet-chart":["bullet chart","analytics","chart","display","data"],"remove-filter":["filter","organise","aggregate","data","clear","delete","remove","cancel"],"savings-account":["money","bank","account","savings"],"debit-card":["money","bank","account","savings","debit","payment","buy","purchase","shopping"],"vip-customer":["person","individual","user","customer","human","circle","profile","me","favorite","favourite","star"],"undesirable-customer":["person","individual","user","customer","human","circle","profile","me","star","unfavourite","remove"],"answered-change-request":["request","bubble"],"collected-change-request":["request","collection","layers stacked"],"draw-freehand":["draw","shape","create","freehand"],"draw-circle":["draw","shape","create","circle"],completed:["status","done","completed","accept","approve","correct","checkmark","tick","affirmative"],answered:["answered","bubble"],"traffic-cone":["traffic","logistics","cone"],"traffic-lights":["traffic","logistics","traffic lights"],container:["traffic","logistics","container","freight","shipping"],"container-loading":["traffic","logistics","container","freight","shipping","load"],"traffic-jam":["traffic","logistics","traffic jam","road conjestion"],products:["product","commodity","goods","stock","merchandise","package"],sidepanel:["screen","split","two","area","split app","side panel"],"split-screen":["screen","split","two","area","split app","top bottom","horizontal split","analytics"],"keep-segment":["segments","data","marketing","campaign","keep","approve"],"exclude-segment":["segments","data","marketing","campaign","clear","approve","remove","cancel","x"],"separate-segments":["segments","data","marketing","campaign","separate"],"distribute-segments":["segments","data","marketing","campaign","distribute"],"next-open-item":["navigation","jump","shift","next","arrow","queue"],"where-used":["arrows","directions","move","forward"],"outbound-delivery":["arrow","truck","move","delivery","forward"],"outbound-delivery-inactive":["circle","stroke","dot","status"],"outbound-delivery-active":["circle","fill","dot","status"],target:["arrow","download","down","import"],source:["arrow","upload","up","export"],material:["screw","data","material"],"due-date":["arrow","calendar","due","date","appointment","next"],overdue:["arrow","calendar","due","date","appointment","previous"],"set-as-default":["tick","setting","yes"],"face-very-bad":["smiley","emotions","emoji","bad"],"face-bad":["smiley","emotions","emoji","sad"],"face-skeptical":["smiley","emotions","emoji","skeptical"],"face-neutral":["smiley","emotions","emoji","neutral"],"face-astonished":["smiley","emotions","emoji","astonished"],"face-happy":["face","emoticon","smile","positive","round"],"face-very-happy":["face","emoticon","smile","positive","round"],"face-awful":["face","sad","emoticon","negative","round"],"face-devastated":["face","sad","emoticon","negative","round"],"face-okey-dokey":["face","emoticon","smile","blink","positive","round"],alarm:["attention","bell","noise"],activate:["magic","wand","select"],"segment-preview-reference-objects":["dots"],radius:["plus","add"],"polygon-black":["geometric body","measurement","geometry"],"polygon-white":["geometric body","measurement","geometry"],polygon:["connection","geometry","network","connected","dots"],"no-filter":["remove","minus","no"],grip:["pattern","move","grab","take","drag"],water:["drop","oil","energy"],gas:["fire","flame","energy"],liquid:["drop","water","energy"],"gas-2":["fire","flame","energy","cooker"],"water-2":["drop","tap","oil","control","close","open"],operator:["person","individual","user","customer","human","me","security","helmet"],"target-filter":["round","circle","cross","segment"],equipment:["pump","engine","pipeline","generator"],"gis-layer":["world","round","map"],section:["people","person","group","team","selection","part"],kohorte:["people","person","group","team","selection","part","data","folder","index","card"],female:["cross","gender"],male:["arrow","gender"],model:["pump","engine","pipeline","generator","sheet","dataset"],hourglass:["sand","diabolo"],"plain-grid-layout":["square","grid","division","partition","split"],"top-panel-layout":["square","grid","division","partition","split"],"1x2-grid-layout":["square","grid","division","partition","split"],"side-panel-left-layout":["square","grid","division","partition","split"],"2x2-grid-layout":["square","grid","division","partition","split"],"inverse-t-layout":["square","grid","division","partition","split"],"t-layout":["square","grid","division","partition","split"],"top-side-panel-layout":["square","grid","division","partition","split"],"side-top-panel-layout":["square","grid","division","partition","split"],"4x4-grid-layout":["square","grid","division","partition","split"],"add-point":["plus","circle","ball"],"add-polyline":["plus","share","price"],"add-polygone":["plus","layer","window","rectangle"],"email-send-delayed":["clock","timer","time","watch"],"email-not-opened":["warning","exclamation mark","reminder","attention"],"link-not-clicked":["warning","exclamation mark","reminder","attention"],"sms-send-delayed":["clock","timer","time","watch","speech bubble","conversation","chat"],"ab-testing":["mail","duplicate","store"],tv:["screen","monitor","technical device","hi-fi","smart-tv","broadcast"],radio:["technical device","sound","tuner"],outdoor:["hills","mountains","sun","tree","image","landscape"],event:["cinema","keynote","party","workshop","team","beamer","announcement"],"paid-search":["money","finder","lens","glass","finance","deposit"],tractor:["load","cargo","freight","street","vehicle"],"display-ads":["screen","monitor","website","information","layout","screendesign","shopping","online","social media","facebook"],"call-center":["person","individual","user","customer","human","headset","phones","microphone"],social:["people","person","group","team","conversation","chat","bubble","workshop"],event2:["calendar","time","clock","watch","date"],"official-service-group":["bank","account","data","storage","folder","finance","money"],"time-deposit":["clock","timer","money","bag"],"early-widthdrawal-for-time-deposits":["clock","timer","money","bag"],"aggregated-view":["sort","order","tree view"],"detailed-view":["sort","order","tree view"],rescheduling:["change","replacement","placement","select","switch","move"],resequencing:["change","replacement","placement","select","switch","move"],"movement-warning":["alert","attention","square"],"multiple-warnings":["alert","attention","square"],"box-truck":["load","cargo","freight","street","vehicle"],"box-truck-empty":["load","cargo","freight","street","vehicle"],driver:["people","target-user","driver"],"driver-warning":["people","target-user","warning","attention","driver"],overlap:["object","overlap","window"],"expand-overlap":["object","overlap","window","hierarchy","expand"],"collapse-overlap":["object","overlap","wiondow","hierarchy","expand"],utilization:["utilization","evaluation","usage"],"expand-utilization":["utilization","evaluation","usage","expand","show"],trailer:["vehicle","load","cargo","freight","trailer","street","transportation"],"collapse-utilization":["utilization","evaluation","usage","collapse","hide"],"container-closed":["container","cargo","freight"],railcar:["vehicle","load","cargo","freight","railway","transportation"],warehouse:["building","warehouse","industry","repository","depository"],goods:["beverage","product","goods"],ship:["vehicle","load","cargo","freight","shipment","transportation"],"truck-driver":["traffic","logistics","driver","truck","person","vehicle"],"return-delivery":["vehicle","load","cargo","deposit","depository"],"return-order":["document","order","return","money","receipt"],contract:["document","order","contract","deal","agreement"],"business-partner":["people","partner","collaboration","business-partner"],"business-partner-verified":["people","partner","collaboration","business-partner","verification"],"business-partner-anonymous":["people","partner","collaboration","business-partner","anonymous"],"business-partner-self-identified":["people","partner","collaboration","business-partner","favorite"],"money-withdrawal":["money","withdrawal","moneybag"],"truck-load":["vehicle","load","cargo","freight","truck","street"],"truck-unload":["vehicle","unload","deposit","cargo","freight","truck","street"],"truck-load-unload":["vehicle","load","unload","cargo","freight","truck","street"],pharmacy:["health","medicine","pharmacy","making"],"medicine-syrup":["health","medicine","pharmacy","medication","syrup"],reminder:["time","reminder","alarm","timer"],"medicine-pill":["health","medicine","pharmacy","medication","pills"],"medicine-ointment":["health","medicine","pharmacy","medication","ointment","salve"],"medicine-drops":["health","medicine","pharmacy","medication","drops","tincture"],"blood-test":["health","blood","test","examination","diagnose"],temperature:["health","temperature","test","examination","diagnose"],"medicine-inhaler":["health","medicine","pharmacy","medication","inhaler"],"foot-steps":["human","foot","feet","foot-prints","steps"],weight:["health","weight","test","examination","diagnose"],"health-tracking":["health","heart","test","examination","diagnose","heart-rate","activity-tracker"],"blood-pressure":["health","blood","blood-pressure","test","examination","diagnose"],immunization:["health","medicine","pharmacy","immunization","vaccination","injection"],allergies:["health","allergies","diagnose"],rescheduling2:["planning","scheduling","rescheduling","time","sequence","steps"],resequencing2:["planning","scheduling","resequencing","time","sequence","steps"],"no-time-change":["planning","scheduling","change","time","sequence","steps"],"time-change":["planning","scheduling","change-time","time","sequence","steps"],"smart-matcher":["people","match","agreement"],"parallel-sequence":["planning","scheduling","process","parallel","sequence","flow"],"alternative-sequence":["planning","scheduling","process","alternative-sequence","flow","decision"],"main-sequence":["planning","scheduling","process","main-sequence","flow"],refinery:["building","factory","warehouse","industry","production"],terminal:["building","terminal","collecting-point","reloading-point","transshipment"],vessel:["vehicle","load","cargo","freight","shipment","vessel","transportation"],barge:["vehicle","load","cargo","freight","shipment","barge","transportation"],road:["vehicle","load","cargo","freight","truck","street","transportation"],pipeline:["pipeline","channel","tube","transportation"],delay:["time","reminder","timer","delay","warning"],"legal-section":["document","legal","section"],causes:["analytics","evaluation","cog-wheel","cause"],effects:["analytics","evaluation","cog-wheel","effects"],"shared-by-me":["people","team","group","shared","deliver"],"shared-with-me":["people","team","group","shared","received"],"main-milestone":["planning","goal","milestone","steps"],"indicator-groups":["indicator","groups","status","time","folder"],"alert-groups":["indicator","groups","alert","status","folder"],"function-alert":["status","function","alert"],"function-hierarchy":["status","function","hierarchy"],rfid:["device","location","indicator","alert"],input:["actions","arrow","status"],"software-item":["actions","arrow","status"],"product-view":["actions","arrow","status"],"software-item-variant":["actions","arrow","status"],lighthouse:["status","building","things","important","highlight","app","light"],"demand-unit":["people","person","circle"]}}};var a={__esModule:true};a.ICONS=e;return a});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/InsightsUtils", ["sap/ui/core/Element","./FESRUtil"],function(e,t){"use strict";const n=t["addFESRId"];const c=t=>e.getElementById(t.getAssociation("fullScreenMenuItem",null));const s=t=>e.getElementById(t.getAssociation("fullScreenButton",null));const o=(e,t,s)=>{const o=c(e);const r=o?.clone(t);if(s){n(r,s)}return r};const r=(e,t,c)=>{const o=s(e);const r=o?o.clone(t):null;if(c&&r){n(r,c)}return r};const u=(e,t)=>t?.sort((t,n)=>{const c=t.getId();const s=n.getId();const o=e.findIndex(e=>c.includes(e));const r=e.findIndex(e=>s.includes(e));return o-r});const l=(e,t)=>{if(e&&t){if(Object.keys(e).length===0&&Object.keys(t).length===0){return true}else if(Object.keys(e).length&&Object.keys(t).length){return e.semanticObject===t.semanticObject&&e.action===t.action}}return false};var i={__esModule:true};i.getAssociatedFullScreenMenuItem=c;i.getAssociatedFullScreenButton=s;i.createShowMoreMenuItem=o;i.createShowMoreActionButton=r;i.sortMenuItems=u;i.targetsAreEqual=l;return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/PageManager", ["sap/ui/base/Object","sap/ui/core/EventBus","sap/ushell/Config","sap/ushell/Container","./ColorUtils","./Constants","./PagesIconsConstants","./UshellPersonalizer"],function(e,o,n,t,r,s,a,i){"use strict";function c(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const l=c(r);const u=s["CUSTOM_SPACEID"];const f=s["DEFAULT_BG_COLOR"];const P=s["FALLBACK_ICON"];const g=s["fnFetchLegendColor"];const h=s["MYHOME_SPACE_ID"];const d=s["PAGE_SELECTION_LIMIT"];const p=a["PAGES"];const v=a["SPACES"];const C=c(i);const I=e.extend("sap.cux.home.utils.PageManager",{constructor:function n(t,r){e.prototype.constructor.call(this);this.colorUtils=l;this.persContainerId=t;this.oOwnerComponent=r;this._eventBus=o.getInstance()},_getPersonalization:function e(){return C.getInstance(this.persContainerId,this.oOwnerComponent)},fetchAllAvailableSpaces:function e(){try{const e=this;if(e._aSpaces){return Promise.resolve(e._aSpaces)}return Promise.resolve(t.getServiceAsync("BookmarkV2")).then(function(o){return Promise.resolve(o.getContentNodes()).then(function(o){const n=o;e._aSpaces=n.filter(e=>e.id!==h);e._aSpaces.forEach(function(e){e.BGColor=f();e.applyColorToAllPages=false});return e._aSpaces})})}catch(e){return Promise.reject(e)}},fetchAllAvailablePages:function e(o=false){try{const e=this;if(e._aPages){return Promise.resolve(e._aPages)}return Promise.resolve(e.fetchAllAvailableSpaces()).then(function(n){e._aPages=[];n.forEach(n=>{if(Array.isArray(n.children)){n.children.forEach(t=>{if(!o||o&&!e._aPages.find(e=>e.id===t.id)){e._aPages.push({title:t.label,icon:P,isIconLoaded:false,pageId:t.id,spaceId:n.id,spaceTitle:n.label,url:"#Launchpad-openFLPPage?pageId="+t.id+"&spaceId="+n.id})}})}});return e._aPages})}catch(e){return Promise.reject(e)}},hasCustomSpace:function e(){try{const e=this;return Promise.resolve(e.fetchAllAvailableSpaces()).then(function(e){return e.some(e=>e.id===u)})}catch(e){return Promise.reject(e)}},_getDefaultPages:function e(o){const n=o.slice(0,d)||[];return this.getFavPages(n)},_getIconForPage:function e(o){let n=p.find(e=>o.pageId?.includes(e.id));if(!n){n=v.find(e=>o.spaceId?.includes(e.id))}o.icon=n?.icon||P;o.isIconLoaded=true},_applyIconsForFavPages:function e(o){const n=o.filter(e=>!e.isIconLoaded);n.forEach(e=>{this._getIconForPage(e)})},getFavPages:function e(o,n=false){try{const t=this;function r(){if(o.length){t._applyIconsForFavPages(o)}return o}o.forEach(e=>{e.selected=true;if(!e.BGColor){e.BGColor=t.colorUtils.getFreeColor()}else{t.colorUtils.addColor(e.BGColor)}});const s=function(){if(n){function e(){return Promise.resolve(t.oPersonalizer.read()).then(function(e){if(!e)e={favouritePages:[]};e.favouritePages=o;return Promise.resolve(t.oPersonalizer.write(e)).then(function(){t._eventBus.publish("pageChannel","pageUpdated")})})}const r=function(){if(!t.oPersonalizer){return Promise.resolve(t._getPersonalization()).then(function(e){t.oPersonalizer=e})}}();return r&&r.then?r.then(e):e(r)}}();return Promise.resolve(s&&s.then?s.then(r):r(s))}catch(a){return Promise.reject(a)}},getFavoritePages:function e(o=false){const t=encodeURIComponent(n.last("/core/spaces/enabled"));if(!t){return Promise.resolve([])}if(this.aFavPages&&!o){return Promise.resolve(this.aFavPages)}if(this.oGetFavPagesPromise===undefined){this.oGetFavPagesPromise=this._getFavPages(o)}return this.oGetFavPagesPromise},_getFavPages:function e(o){try{const e=this;return Promise.resolve(e._getPersonalization()).then(function(n){e.oPersonalizer=n;return Promise.resolve(e.oPersonalizer.read()).then(function(n){const t=n?.favouritePages;return Promise.resolve(e.fetchAllAvailablePages(true)).then(function(r){function s(){return e.aFavPages}const a=function(){if(!t){return Promise.resolve(e._getDefaultPages(r)).then(function(o){e.aFavPages=o})}else{let s=[],a;t?.forEach(e=>{a=r.find(function(o){return o.pageId===e.pageId});if(a){a.BGColor=e.BGColor;s.push(a)}});s=s.slice(0,d);const i=function(){if(s.length||!t?.length){return Promise.resolve(e.getFavPages(s,s.length!==t?.length||o)).then(function(o){e.aFavPages=o})}else{const o=function(){if(!s.length&&t.length){n.favouritePages=[];return Promise.resolve(e.oPersonalizer.write(n)).then(function(){return Promise.resolve(e._getDefaultPages(r)).then(function(o){e.aFavPages=o})})}}();if(o&&o.then)return o.then(function(){})}}();if(i&&i.then)return i.then(function(){})}}();return a&&a.then?a.then(s):s(a)})})})}catch(e){return Promise.reject(e)}},applyColorPersonalizations:function e(o){try{const n=this;function t(){return Promise.resolve(n.fetchAllAvailableSpaces()).then(function(e){o.forEach(o=>{const t=!!o.pageId;const r=e?.find(e=>e.id===o.spaceId);const s=r?.children.find(e=>e.id===o.pageId);const a=n.aFavPages.find(e=>e.pageId===o.pageId);const i=n._aPages?.find(e=>e.pageId===o.pageId);if(!t&&r){const e=g(o.BGColor);r.BGColor=e;r.applyColorToAllPages=o.applyColorToAllPages;r.isSpacePersonalization=true;r.children.forEach(e=>{const t=n.aFavPages.find(o=>o.pageId===e.id);if(t){const n=t.isPagePersonalization?t.oldColor:f();t.BGColor=r.applyColorToAllPages?o.BGColor:n;e.BGColor=t.BGColor}else{e.BGColor=r.applyColorToAllPages?o.BGColor:f();n._aPages.forEach(o=>{if(o.spaceId===r.id){o.BGColor=e.BGColor}})}})}else if(s){const e=r?.applyColorToAllPages?{...r.BGColor}:g(o.BGColor);if(a){a.isPagePersonalization=true;a.BGColor=e;a.oldColor=g(o.BGColor)}s.isPagePersonalization=true;s.BGColor=e;s.oldColor=g(o.BGColor);if(i){i.isPagePersonalization=true;i.BGColor=e;i.oldColor=g(o.BGColor)}}});n._eventBus.publish("pageChannel","pageUpdated")})}if(!o?.length){return Promise.resolve()}const r=function(){if(!n.aFavPages){return Promise.resolve(n.getFavoritePages()).then(function(){})}}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(s){return Promise.reject(s)}},applyIconPersonalizations:function e(o){try{const n=this;function t(){return Promise.resolve(n.fetchAllAvailableSpaces()).then(function(e){o.forEach(o=>{const t=!!o.pageId;const r=e?.find(e=>e.id===o.spaceId);if(!t){if(r){r.icon=o.icon;r.isSpaceIconPersonalization=true;r.children.forEach(e=>{if(!e.isPageIconPersonalization){const o=n.aFavPages.find(o=>o.pageId===e.id);if(o){o.icon=r.icon||P;e.icon=r.icon||P}}})}}else{const e=r?.children.find(e=>e.id===o.pageId);const t=n.aFavPages.find(e=>e.pageId===o.pageId);if(e&&t){t.isPageIconPersonalization=true;e.isPageIconPersonalization=true;t.icon=o.icon;e.icon=o.icon;t.oldIcon=o.oldIcon;e.oldIcon=o.oldIcon}}});n._eventBus.publish("pageChannel","pageUpdated")})}if(!o?.length){return Promise.resolve()}const r=function(){if(!n.aFavPages){return Promise.resolve(n._getFavPages(false)).then(function(){})}}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(s){return Promise.reject(s)}}});I.oCacheInstances={};I.getInstance=function e(o,n){if(I.oCacheInstances[o]){return I.oCacheInstances[o]}const t=new I(o,n);I.oCacheInstances[o]=t;return t};return I});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/PagesIconsConstants", [],function(){"use strict";const i=[{id:"SAP_FIN_PGT_AP_OVR_PC",title:"Overview",icon:"sap-icon://batch-payments"},{id:"SAP_FIN_PGT_AP_MGR_SETTING_PC",title:"Current Settings",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-set-as-default"},{id:"SAP_FIN_PGT_AP_MGR_ANALYTIC_PC",title:"Analytics",icon:"sap-icon://business-objects-experience"},{id:"SAP_FIN_PGT_AP_PAYM_PC",title:"Payments",icon:"sap-icon://money-bills"},{id:"SAP_FIN_PGT_AP_PER_PC",title:"Periodic Activities",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-event2"},{id:"SAP_FIN_PGT_AP_INV_PC",title:"Supplier Invoices",icon:"sap-icon://travel-expense-report"},{id:"SAP_FIN_PGT_AP_SUP_PC",title:"Suppliers",icon:"sap-icon://shipping-status"},{id:"SAP_FIN_PGT_AR_OVR_PC",title:"Overview",icon:"sap-icon://account"},{id:"SAP_FIN_PGT_AR_PAY_CLEAR_PC",title:"Payments and Clearing",icon:"sap-icon://simulate"},{id:"SAP_CORE_PGT_COM_PC",title:"Communication Management",icon:"sap-icon://key-user-settings"},{id:"SAP_CEC_PGT_MKT_CFG_PC",title:"Configuration",icon:"sap-icon://settings"},{id:"SAP_CEC_PGT_MKT_ADM_PC",title:"Data Management",icon:"sap-icon://kpi-managing-my-area"},{id:"SAP_CORE_PGT_DPP_PC",title:"Data Protection and Privacy",icon:"sap-icon://locked"},{id:"SAP_CORE_PGT_EMP_PC",title:"Employee Master Data",icon:"sap-icon://work-history"},{id:"SAP_CORE_PGT_EXT_PC",title:"Extensibility",icon:"sap-icon://expand-all"},{id:"SAP_CORE_PGT_IAM_PC",title:"Identity and Access Management",icon:"sap-icon://badge"},{id:"SAP_CORE_PGT_FLP_PC",title:"Launchpad",icon:"sap-icon://grid"},{id:"SAP_CORE_PGT_SEC_PC",title:"Security",icon:"sap-icon://shield"},{id:"SAP_CORE_PGT_TMC_PC",title:"Technical Monitoring",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-indicator-groups"},{id:"SAP_CORE_PGT_CTS_PC",title:"Transport Management",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-operator"},{id:"SAP_HCM_PGT_ADM_HRINFO_OVR_PC",title:"Overview",icon:"sap-icon://employee-pane"},{id:"SAP_FIN_PGT_CCONS_AUDITOR_CPROC_PC",title:"Consolidation Process",icon:"sap-icon://create-form"},{id:"SAP_FIN_PGT_CCONS_AUDITOR_MD_PC",title:"Master Data",icon:"sap-icon://filter-facets"},{id:"SAP_FIN_PGT_CCONS_AUDITOR_GREP_PC",title:"Group Reports",icon:"sap-icon://group-2"},{id:"SAP_FIN_PGT_CCONS_AUDITOR_SET_PC",title:"Settings",icon:"sap-icon://action-settings"},{id:"SAP_CEC_PGT_MKT_BAM_PC",title:"Business Data Analysis",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis"},{id:"SAP_MM_PGT_CNTRL_PURCH_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-contract"},{id:"SAP_MM_PGT_CNTRL_SOURCING_PC",title:"Central Sourcing and Contracting",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-contract"},{id:"SAP_MM_PGT_CNTRL_PURCHASING_PC",title:"Central Purchasing",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-contract"},{id:"SAP_FIN_PGT_FICA_COLLSPEC_PC",title:"Overview",icon:"sap-icon://sap-box"},{id:"SAP_CEC_PGT_MKT_BPC_EXP_PC",title:"Configuration and Setup",icon:"sap-icon://action-settings"},{id:"SAP_CA_PGT_CONSENT_MGMT_PC",title:"Overview",icon:"sap-icon://customer-order-entry"},{id:"SAP_FIN_PGT_ICA_RECON_RUN_PC",title:"Overview",icon:"sap-icon://activity-individual"},{id:"SAP_FIN_PGT_FICA_RECONSPEC_PC",title:"Reconciliation",icon:"sap-icon://accept"},{id:"SAP_CINV_PGT_SPECIALIST_PC",title:"Overview",icon:"sap-icon://receipt"},{id:"SAP_CINV_PGT_ADMIN_PC",title:"Overview",icon:"sap-icon://my-sales-order"},{id:"SAP_FIN_PGT_CR_OVR_PC",title:"Overview",icon:"sap-icon://accounting-document-verification"},{id:"SAP_FIN_PGT_CR_ACC_PC",title:"Credit Accounts",icon:"sap-icon://accounting-document-verification"},{id:"SAP_SD_PGT_CR_PROC_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-return-order"},{id:"SAP_PSS_PGT_DG_OVR_PC",title:"Overview",icon:"sap-icon://alert"},{id:"SAP_CA_PGT_MIG_PC",title:"Configuration - Data Migration",icon:"sap-icon://combine"},{id:"SAP_FIN_PGT_FICA_DPSPEC_PC",title:"Overview",icon:"sap-icon://shield"},{id:"SAP_CMD_PGT_QLTY_BUPA_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-control-group"},{id:"SAP_CMD_PGT_QLTY_PROD_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies"},{id:"SAP_FIN_PGT_DIVISION_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation"},{id:"SAP_PLM_PGT_DESIGN_OVR_PC",title:"Overview",icon:"sap-icon://course-program"},{id:"SAP_LCM_PGT_LEGAL_CONTENT_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-event"},{id:"SAP_LCM_PGT_ADMINISTRATION_PC",title:"Overview",icon:"sap-icon://manager"},{id:"SAP_EHS_PGT_ENV_MGM_PC",title:"Overview",icon:"sap-icon://e-care"},{id:"SAP_OIL_PGT_FLOG_SUPLRITEM_PC",title:"?",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-truck-driver"},{id:"SAP_FIN_PGT_GL_OVR_PC",title:"Overview",icon:"sap-icon://activity-items"},{id:"SAP_FIN_PGT_GL_DOC_ENTRY_PC",title:"Journal Entries",icon:"sap-icon://education"},{id:"SAP_FIN_PGT_GL_PERIODIC_PC",title:"Periodic Activities",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-event2"},{id:"SAP_FIN_PGT_GL_REP_COA_PC",title:"Reporting and Chart of Accounts",icon:"sap-icon://chart-table-view"},{id:"SAP_FIN_PGT_GL_TX_DCL_PC",title:"Tax Declaration",icon:"sap-icon://accounting-document-verification"},{id:"SAP_PSM_PGT_GM_GR_OVR_PC",title:"Overview",icon:"sap-icon://loan"},{id:"SAP_PSM_PGT_GM_GR_OVR_PC",title:"Budget Maintenance and Execution",icon:"sap-icon://loan"},{id:"SAP_S4CRM_PGT_REPA_MGR_PC",title:"Overview",icon:"sap-icon://technical-object"},{id:"SAP_EHS_PGT_INC_MGMT_PC",title:"Health and Safety",icon:"sap-icon://incident"},{id:"SAP_FIN_PGT_ICA_RECON_RUN_PC",title:"Overview",icon:"sap-icon://compare-2"},{id:"SAP_SD_PGT_SO_PROC_PS_PC",title:"Sales Processing",icon:"sap-icon://capital-projects"},{id:"SAP_SLL_PGT_ADMIN_OVR_PC",title:"Overview",icon:"sap-icon://globe"},{id:"SAP_SLL_PGT_TRD_CLS_OVR_PC",title:"Overview",icon:"sap-icon://internet-browser"},{id:"SAP_SLL_PGT_TRD_CMPLNC_OVR_PC",title:"Overview",icon:"sap-icon://home-share"},{id:"SAP_SLL_PGT_INTRASTAT_OVR_PC",title:"Overview",icon:"sap-icon://simple-payment"},{id:"SAP_FIN_PGT_IA_INSIGHTS_PC",title:"Inventory Accounting",icon:"sap-icon://multi-select"},{id:"SAP_MM_PGT_IM_ANALYSIS_PC",title:"Overview",icon:"sap-icon://customer-and-supplier"},{id:"SAP_LO_PGT_HUM_INV_OVR_PC",title:"Handling Units in Inventory",icon:"sap-icon://customer-and-supplier"},{id:"SAP_RFM_PGT_IM_PROCESS_PC",title:"Overview",icon:"sap-icon://supplier"},{id:"SAP_LO_PGT_HUM_REM_OVR_PC",title:"Handling Units in Production",icon:"sap-icon://supplier"},{id:"SAP_FIN_PGT_JVA_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-intersection"},{id:"SAP_FIN_PGT_JVA_MD_PC",title:"Master Data",icon:"sap-icon://save"},{id:"SAP_FIN_PGT_JVA_JE_PC",title:"Journal Entries",icon:"sap-icon://education"},{id:"SAP_FIN_PGT_JVA_PA_PC",title:"Periodic Activities",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-event2"},{id:"SAP_FIN_PGT_JVA_REP_PC",title:"Reporting",icon:"sap-icon://table-view"},{id:"SAP_LE_PGT_JITMD_PC",title:"Overview",icon:"sap-icon://timesheet"},{id:"SAP_LE_PGT_JITMPLNR_PC",title:"Overview",icon:"sap-icon://create-entry-time"},{id:"SAP_SCM_PGT_PRODN_OPTR_LEAN_OVR_PC",title:"Kanban Overview",icon:"sap-icon://factory"},{id:"SAP_SCM_PGT_SUPERVISOR_LEAN_OVR_PC",title:"Overview",icon:"sap-icon://factory"},{id:"SAP_EAM_PGT_MT_OVR_MW_MC",title:"Overview",icon:"sap-icon://wrench"},{id:"SAP_EAM_PGT_MP_OVR_MC",title:"Overview",icon:"sap-icon://add-equipment"},{id:"SAP_EAM_PGT_MP_MD_PC",title:"Master Data",icon:"sap-icon://add-equipment"},{id:"SAP_EAM_PGT_MNT_SUP_OVR_PC",title:"Overview",icon:"sap-icon://technical-object"},{id:"SAP_EAM_PGT_MNT_SUP_MD_PC",title:"Master Data",icon:"sap-icon://technical-object"},{id:"SAP_EHS_PGT_MOC_CRDTR_PC",title:"Management of Change",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes"},{id:"SAP_CEC_PGT_MKT_EXP_PC",title:"Marketing",icon:"sap-icon://marketing-campaign"},{id:"SAP_CEC_PGT_MKT_MGR_PC",title:"Marketing Management",icon:"sap-icon://manager-insight"},{id:"SAP_CDM_PGT_BP_MAINT_PC",title:"Overview",icon:"sap-icon://save"},{id:"SAP_CMD_PGT_CA_DATA_REP_PC",title:"Overview",icon:"sap-icon://copy"},{id:"SAP_OIL_PGT_PVOL_PC",title:"Production Measurements",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-gas"},{id:"SAP_SCM_PGT_OFS_RECRRG_ACTIES_PC",title:"Recurring Activities",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading"},{id:"SAP_SCM_PGT_OFM_OCCSNL_ACTIES_PC",title:"Occasional Activities",icon:"sap-icon://enter-more"},{id:"SAP_SCM_PGT_OFM_RECRRG_ACTIES_PC",title:"Recurring Activities",icon:"sap-icon://refresh"},{id:"SAP_LO_PGT_PLANTMANAGMT_MC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-operator"},{id:"SAP_PSS_PGT_PRODSTWRD_SPLST_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-approved"},{id:"SAP_PSS_PGT_MD_SPECIALIST_PC",title:"Overview",icon:"sap-icon://permission"},{id:"SAP_SCM_PGT_SUPERVISOR_RPTV_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization"},{id:"SAP_SCM_PGT_PRODNENG_DISC_ANLYTS_PC",title:"Execution Analytics",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts"},{id:"SAP_SCM_PGT_PRODN_ENG_DISC_TOOLS_PC",title:"Miscellaneous Tools",icon:"sap-icon://machine"},{id:"SAP_SCM_PGT_PRODN_ENG_DISC_PC",title:"Routing Management",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-gis-layer"},{id:"SAP_SCM_PGT_PRODN_ENG_PROC_PC",title:"Master Recipe Management",icon:"sap-icon://process"},{id:"SAP_SCM_PGT_PRODN_OPTR_RPTV_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-production"},{id:"SAP_SCM_PGT_DDMRP_PC",title:"Demand-Driven Replenishment",icon:"sap-icon://cause"},{id:"SAP_SCM_PGT_PMRP_PC",title:"Long-Term Planning",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-year"},{id:"SAP_SCM_PGT_PRODN_PLNG_PC",title:"Material Planning",icon:"sap-icon://excel-attachment"},{id:"SAP_PS_PGT_PROJ_BILLING_PC",title:"Project Billing - Overview",icon:"sap-icon://receipt"},{id:"SAP_PPM_PGT_PROJ_MGMT_OVR_PC",title:"Overview",icon:"sap-icon://manager"},{id:"SAP_CPM_PGT_PROJ_MANAGE_COMM_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart"},{id:"SAP_PPM_PGT_PROJSTEER_COM_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit"},{id:"SAP_LE_PGT_ID_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me"},{id:"SAP_PLM_PGT_RD_RECIPE_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-recipe"},{id:"SAP_PLM_PGT_RCP_ADMIN_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe"},{id:"SAP_SERV_PGT_RECUR_SRVC_PC",title:"Overview",icon:"sap-icon://synchronize"},{id:"SAP_CA_PGT_RSH_RES_MNG_PC",title:"Resource Management for Projects",icon:"sap-icon://employee-approvals"},{id:"SAP_FIN_PGT_FARR_ADMIN_PC",title:"Overview",icon:"sap-icon://expense-report"},{id:"SAP_FIN_PGT_FARR_RCM_PC",title:"Revenue Contracts_",icon:"sap-icon://sales-document"},{id:"SAP_FIN_PGT_FARR_ADMIN_PC",title:"Overview",icon:"sap-icon://opportunities"},{id:"SAP_FIN_PGT_SA_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-coins"},{id:"SAP_FIN_PGT_RECM_SBR_NOTIF_PC",title:"Overview",icon:"sap-icon://trip-report"},{id:"SAP_S4CRM_PGT_SRVC_MGR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-call-center"},{id:"SAP_S4CRM_PGT_SRVC_TEC_PC",title:"Overview",icon:"sap-icon://keyboard-and-mouse"},{id:"SAP_LE_PGT_OD_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-ship"},{id:"SAP_PLM_PGT_SYSTEMS_ENGINEER_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-software-item"},{id:"SAP_S4CRM_PGT_SOLN_ORD_MANAGE_PC",title:"Overview",icon:"sap-icon://order-status"},{id:"SAP_TM_PGT_TRANSP_PC",title:"Overview",icon:"sap-icon://bus-public-transport"},{id:"SAP_FIN_PGT_TRM_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{id:"SAP_FIN_PGT_TRM_ACCT_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{id:"SAP_FIN_PGT_TRM_BOE_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{id:"SAP_FIN_PGT_TRM_FOE_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{id:"SAP_FIN_PGT_TRM_MOE_OVR_PC",title:"Overview",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{id:"SAP_LO_PGT_VC_MODELING_PC",title:"Overview",icon:"sap-icon://customize"},{id:"SAP_SCM_PGT_EWM_WHSE_PROC_OP_PC",title:"Warehouse Processing",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse"},{id:"SAP_SCM_PGT_EWM_WHSE_PHY_INV_PC",title:"Physical Inventory",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-products"},{id:"SAP_SCM_PGT_EWM_WHSE_PROC_PC",title:"Warehouse Processing",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-forklift"},{id:"SAP_SCM_PGT_EWM_WHSE_SETUP_PC",title:"Warehouse Setup",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse"}];const n=[{title:"Accounts Payable - Leasing",id:"SAP_BR_RECM_AP_ACCOUNTANT",icon:"sap-icon://batch-payments"},{title:"Accounts Receivable Leasing",id:"SAP_BR_RECM_AR_ACCOUNTANT",icon:"sap-icon://account"},{title:"Billing",id:"SAP_BR_BILLING_CLERK",icon:"sap-icon://payment-approval"},{title:"Business Partner",id:"SAP_BR_BUPA_MASTER_SPECIALIST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-business-partner"},{title:"Cash Management",id:"SAP_BR_CASH_SPECIALIST",icon:"sap-icon://monitor-payments"},{title:"Discrete Manufacturing Execution",id:"SAP_BR_PRODN_OPTR_DISC",icon:"sap-icon://locked"},{title:"Field Logistics - Returns",id:"SAP_BR_WAREHOUSE_CLERK_IOG",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-return-delivery"},{title:"Fixed Assets",id:"SAP_BR_AA_ACCOUNTANT",icon:"sap-icon://capital-projects"},{title:"Group Reporting",id:"SAP_BR_GL_ACCOUNTANT_GRP",icon:"sap-icon://documents"},{title:"Internal Sales",id:"SAP_BR_INTERNAL_SALES_REP",icon:"sap-icon://collections-insight"},{title:"Inventory Management",id:"SAP_BR_INVENTORY_MANAGER",icon:"sap-icon://customer-and-supplier"},{title:"Just-In-Time Shipping",id:"SAP_BR_SHIP_SPECIALIST_JIT",icon:"sap-icon://instance"},{title:"Lean Manufacturing Planning",id:"SAP_BR_PRODN_PLNR_LEAN_MFG",icon:"sap-icon://factory"},{title:"Material Planning - External Procurement",id:"SAP_BR_MATL_PLNR_EXT_PROC",icon:"sap-icon://excel-attachment"},{title:"Operational Purchasing",id:"SAP_MM_SPT_PURCHASING_PC",icon:"sap-icon://credit-card"},{title:"Order BOM Management",id:"SAP_BR_BOM_ENG_CUST_ORDER",icon:"sap-icon://crm-service-manager"},{title:"Overhead Accounting",id:"SAP_BR_OVERHEAD_ACCOUNTANT",icon:"sap-icon://activity-individual"},{title:"Price Management",id:"SAP_BR_PRICING_SPECIALIST",icon:"sap-icon://customer-financial-fact-sheet"},{title:"Process Manufacturing Execution",id:"SAP_BR_PRODN_OPTR_PROC",icon:"sap-icon://process"},{title:"Process Manufacturing Execution Management",id:"SAP_BR_PRODN_SUPERVISOR_PROC",icon:"sap-icon://supplier"},{title:"Product",id:"SAP_BR_MD_SPCLST_ITEM_RFM",icon:"sap-icon://product"},{title:"Project Control - Financials",id:"SAP_BR_PROJ_FIN_CONTROLLER",icon:"sap-icon://accounting-document-verification"},{title:"Quality Engineering",id:"SAP_BR_QUALITY_ENGINEER",icon:"sap-icon://wrench"},{title:"Sales Management",id:"SAP_BR_SALES_MANAGER",icon:"sap-icon://commission-check"},{title:"Accounts Payable",id:"SAP_BR_ADMIN_APR_FICA",icon:"sap-icon://batch-payments"},{title:"Accounts Receivable",id:"SAP_BR_AR_ACCOUNTANT",icon:"sap-icon://account"},{title:"Administration",id:"AP_BR_RECM_ADMINISTRATOR",icon:"sap-icon://key-user-settings"},{title:"Administrator - HR Info",id:"SAP_BR_ADMINISTRATOR_HRINFO",icon:"sap-icon://employee-pane"},{title:"Auditing - Accounts Payable and Receivable",id:"SAP_BR_EXT_AUDITOR_APR_FICA",icon:"sap-icon://kpi-managing-my-area"},{title:"Auditing - Group Reporting",id:"SAP_BR_EXTERNAL_AUDITOR_GRP",icon:"sap-icon://create-form"},{title:"Bank Integration",id:"SAP_BR_BANK_INT_SPECIALIST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-official-service-group"},{title:"Master Data - Batch",id:"SAP_BR_BATCH_MASTER_SPCLST",icon:"sap-icon://curriculum"},{title:"BOM Management",id:"SAP_BR_BOM_ENGINEER",icon:"sap-icon://sales-order-item"},{title:"Budgeting",id:"SAP_BR_BUDGET_SPECIALIST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-manage-budget"},{title:"Business Data Analysis",id:"SAP_BR_BUSINESS_ANALYST_MKT",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-change-analysis"},{title:"Central Procurement",id:"SAP_MM_SPT_CNTRL_PURCHASING_PC",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-contract"},{title:"Collections",id:"SAP_BR_COLL_SPECIALIST_FICA",icon:"sap-icon://sap-box"},{title:"Configuration and Setup",id:"SAP_BR_BPC_EXPERT_MKT",icon:"sap-icon://action-settings"},{title:"Consent Administration",id:"SAP_BR_DATA_PRIV_SPEC_CONS",icon:"sap-icon://customer-order-entry"},{title:"Contract Accounting",id:"SAP_BR_RECONC_SPEC_APR_FICA",icon:"sap-icon://activity-individual"},{title:"Contract Accounting",id:"SAP_BR_APR_ACCOUNTANT_FICA",icon:"sap-icon://activity-individual"},{id:"SAP_BR_DATA_PRIVACY_SPECIALIST",title:"Data Protection and Privacy",icon:"sap-icon://locked"},{title:"Accounts Payable",id:"SAP_BR_AP_ACCOUNTANT",icon:"sap-icon://batch-payments"},{title:"Contract Data",id:"SAP_BR_RECM_SPECIALIST",icon:"sap-icon://paste"},{title:"Convergent Invoicing",id:"SAP_BR_INVOICING_SPECIALIST_CINV",icon:"sap-icon://receipt"},{title:"Convergent Invoicing Administration",id:"SAP_BR_INVOICING_ADMIN_CINV",icon:"sap-icon://my-sales-order"},{title:"Credit Management",id:"SAP_BR_CREDIT_CONTROLLER",icon:"sap-icon://accounting-document-verification"},{title:"Customer Returns",id:"SAP_BR_RETURNS_REFUND_CLERK",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-return-order"},{title:"Dangerous Goods",id:"SAP_BR_DG_SPLST_PCL",icon:"sap-icon://alert"},{title:"Data Migration",id:"SAP_BR_CONFIG_EXPERT_DATA_MIG",icon:"sap-icon://combine"},{title:"Data Privacy and Protection",id:"SAP_BR_DATA_PRIVACY_SPEC_FICA",icon:"sap-icon://shield"},{title:"Data Quality for Business Partners",id:"SAP_BR_BUPA_MASTER_STEWARD",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-control-group"},{title:"Data Quality for Products",id:"SAP_BR_PRODMASTER_STEWARD",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-review-supplies"},{title:"Development Management for Discrete Industries",id:"SAP_BR_DEVELOPMENT_MANAGER_DIN",icon:"sap-icon://key"},{title:"Divisional Accounting",id:"SAP_BR_DIVISION_ACCOUNTANT",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-split-segmentation"},{title:"Document Management",id:"SAP_BR_DESIGN_ENGINEER",icon:"sap-icon://course-program"},{title:"Enterprise Contract Management",id:"SAP_BR_LEGAL_COUNSEL",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-event"},{title:"Enterprise Contract Management Admin",id:"SAP_BR_ADMINISTRATOR_LCM",icon:"sap-icon://manager"},{title:"Environmental Management",id:"SAP_BR_EHS_ENV_MGMT",icon:"sap-icon://e-care"},{title:"Field Logistics - Supply Chain Analysis",id:"SAP_BR_SC_ANALYST_IOG",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-meter-chained"},{title:"General Ledger",id:"SAP_BR_GL_ACCOUNTANT",icon:"sap-icon://activity-items"},{title:"Grants Management",id:"SAP_BR_GRANT_SPECIALIST",icon:"sap-icon://loan"},{title:"In-House Repair",id:"SAP_BR_CUST_SRVC_REP_REPA",icon:"sap-icon://technical-object"},{title:"Incident Management",id:"SAP_BR_INDUSTRIAL_HYGIENIST",icon:"sap-icon://incident"},{title:"Intercompany Reconciliation",id:"SAP_BR_RECON_ACCOUNTANT",icon:"sap-icon://compare-2"},{title:"Internal Sales - Professional Services",id:"SAP_BR_INTERNAL_SALES_REP_PRSV",icon:"sap-icon://capital-projects"},{title:"International Trade Administration",id:"SAP_BR_ADMINISTRATOR_SLL",icon:"sap-icon://globe"},{title:"International Trade Classification",id:"SAP_BR_TRD_CLS_SPECIALIST",icon:"sap-icon://internet-browser"},{title:"International Trade Compliance",id:"SAP_BR_TRD_CMPLNC_SPECIALIST",icon:"sap-icon://home-share"},{title:"Intrastat",id:"SAP_BR_INTRASTAT_SPECIALIST",icon:"sap-icon://simple-payment"},{title:"Inventory Accounting",id:"SAP_BR_INVENTORY_ACCOUNTANT",icon:"sap-icon://multi-select"},{title:"Inventory Analysis",id:"SAP_BR_INVENTORY_ANALYST",icon:"sap-icon://customer-and-supplier"},{title:"Inventory Processing",id:"SAP_BR_WAREHOUSE_CLERK",icon:"sap-icon://supplier"},{title:"Joint Venture Accounting",id:"SAP_BR_JVA_ACCOUNTANT",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-intersection"},{title:"Just-In-Time Master Data",id:"SAP_BR_MD_SPECIALIST_JIT",icon:"sap-icon://timesheet"},{title:"Just-In-Time Material Planning",id:"SAP_BR_MATL_PLNR_JIT_S_TO_C",icon:"sap-icon://create-entry-time"},{title:"Lean Manufacturing Operations",id:"SAP_BR_PRODN_OPTR_LEAN_MFG",icon:"sap-icon://factory"},{title:"Lean Manufacturing Supervising",id:"SAP_BR_PRODN_SUPVR_LEAN_MFG",icon:"sap-icon://factory"},{title:"Leasing Valuation",id:"SAP_BR_RECM_VALSPECIALIST",icon:"sap-icon://clinical-tast-tracker"},{title:"Maintenance Execution",id:"SAP_BR_MAINTENANCE_TECHNICIAN",icon:"sap-icon://wrench"},{title:"Maintenance Planning",id:"SAP_BR_MAINTENANCE_PLANNER",icon:"sap-icon://add-equipment"},{title:"Maintenance Supervision",id:"SAP_BR_MAINTENANCE_SUPERVISOR",icon:"sap-icon://technical-object"},{title:"Management of Change",id:"SAP_BR_CHG_MGMT_COORDINATOR",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-unsaved-changes"},{title:"Marketing",id:"SAP_BR_ADMINISTRATOR_MKT",icon:"sap-icon://marketing-campaign"},{title:"Marketing Management",id:"SAP_BR_MARKETING_MANAGER",icon:"sap-icon://manager-insight"},{title:"Mass Processing of Asset",id:"SAP_BR_AA_ACCOUNTANT_IOG",icon:"sap-icon://table-chart"},{title:"Oil and Gas Field Operations",id:"SAP_BR_FIELD_OPERATOR_IOG",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-gas"},{title:"Order Fulfillment Execution",id:"SAP_BR_ORDER_FULFILLMNT_SPCLST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-container-loading"},{title:"Order Fulfillment Management",id:"SAP_BR_ORDER_FULFILLMNT_MNGR",icon:"sap-icon://enter-more"},{title:"Payment Management",id:"SAP_BR_PAYM_SPECIALIST",icon:"sap-icon://my-sales-order"},{title:"Plant Management",id:"SAP_BR_PLANT_MANAGER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-operator"},{title:"Product Compliance",id:"SAP_BR_PRODSTWRD_SPLST_PCL",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-approved"},{title:"Product Compliance Master Data",id:"SAP_BR_MD_SPECIALIST_PCL",icon:"sap-icon://permission"},{title:"Product Costing",id:"SAP_BR_PRODN_ACCOUNTANT",icon:"sap-icon://money-bills"},{title:"Production Control",id:"SAP_BR_PRODN_SUPERVISOR_RPTV",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-table-chart-customization"},{title:"Production Engineering - Discrete Manufacturing",id:"SAP_BR_PRODN_ENG_DISC",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts"},{title:"Production Engineering - Process Manufacturing",id:"SAP_BR_PRODN_ENG_PROC",icon:"sap-icon://process"},{title:"Production Execution",id:"SAP_BR_PRODN_SUPERVISOR_DISC",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-production"},{title:"Production Planning",id:"SAP_BR_PRODN_PLNR",icon:"sap-icon://cause"},{title:"Project Billing",id:"SAP_BR_PROJ_BILLG_SPCLST",icon:"sap-icon://receipt"},{title:"Project Management",id:"SAP_BR_PROJECTMANAGER",icon:"sap-icon://manager"},{title:"Project Management - Commercial",id:"SAP_BR_PROJ_MANAGE_COMM",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-line-bar-chart"},{title:"Project Steering Committee",id:"SAP_BR_PROJECT_STEER_MEMBER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-demand-unit"},{title:"Quality Inspection",id:"SAP_BR_QUALITY_TECHNICIAN",icon:"sap-icon://inspection"},{title:"Quality Planning",id:"SAP_BR_QUALITY_PLANNER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-checklist-item"},{title:"Raw Substance Maintenance",id:"SAP_BR_MD_SPECIALIST_RAW_SUBST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-raw-material"},{title:"Receiving",id:"SAP_BR_RECEIVING_SPECIALIST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-shared-with-me"},{title:"Recipe Development",id:"SAP_BR_RECIPE_DEVELOPER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-recipe"},{title:"Recipe Development Administration",id:"SAP_BR_ADMINISTRATOR_RCP_DEV",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-top-recipe"},{title:"Recurring Service",id:"SAP_BR_SERVICE_PLANNER",icon:"sap-icon://synchronize"},{title:"Resource Management for Projects",id:"SAP_BR_RESOURCE_MANAGER",icon:"sap-icon://employee-approvals"},{title:"Revenue Accounting",id:"SAP_BR_REV_ACCOUNTANT",icon:"sap-icon://expense-report"},{title:"Revenue Accounting Administration",id:"SAP_BR_REV_ADMIN",icon:"sap-icon://opportunities"},{title:"Sales Accounting",id:"SAP_BR_SALES_ACCOUNTANT",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-coins"},{title:"Sales-Based Rent Reporting",id:"SAP_BR_RECM_SALES_REPORTER",icon:"sap-icon://trip-report"},{title:"Service Management",id:"SAP_BR_CUSTOMER_SRVC_MGR",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-call-center"},{title:"Service Processing",id:"SAP_BR_CUSTOMER_SRVC_TEC",icon:"sap-icon://keyboard-and-mouse"},{title:"Shipping",id:"SAP_BR_SHIPPING_SPECIALIST",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-ship"},{title:"Software Constraints",id:"SAP_BR_SYSTEMS_ENGINEER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-software-item"},{title:"Solution Order Management",id:"SAP_BR_SOLN_ORDER_SPCLST",icon:"sap-icon://order-status"},{title:"Taxes",id:"SAP_BR_TAX_SPECIALIST",icon:"sap-icon://simulate"},{title:"Test Automation",id:"SAP_BR_ADMIN_TEST_AUTOMATION",icon:"sap-icon://repost"},{title:"Text Analysis",id:"SAP_BR_TEXTANALYSIS_DEVELOPER",icon:"sap-icon://vds-file"},{title:"Transportation",id:"SAP_BR_TRANSPORTATION_MGR",icon:"sap-icon://bus-public-transport"},{title:"Treasury",id:"SAP_BR_TREASURY_RISK_MANAGER",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{title:"Treasury Accounting",id:"SAP_BR_TREASURY_ACCOUNTANT",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{title:"Treasury Back Office",id:"SAP_BR_TREASURY_SPECIALIST_BOE",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{title:"Treasury Front Office",id:"SAP_BR_TREASURY_SPECIALIST_FOE",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{title:"Treasury Middle Office",id:"SAP_BR_TREASURY_SPECIALIST_MOE",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-bank-account"},{title:"Variant Configuration",id:"SAP_BR_PRODUCT_CONFIG_MODELER",icon:"sap-icon://customize"},{title:"Warehouse Floor",id:"SAP_BR_WAREHOUSE_OPERATIVE_EWM",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-warehouse"},{title:"Warehouse Office",id:"SAP_BR_WAREHOUSE_CLERK_EWM",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-products"},{id:"SAP_BR_BPC_EXPERT",title:"Configuration Expert - Business Process Configuration",icon:"sap-icon://action-settings"},{id:"SAP_MM_SPT_SOURCING_PC",title:"Sourcing and Contracting",icon:"sap-icon://BusinessSuiteInAppSymbols/icon-contract"},{id:"SAP_BR_ADMINISTRATOR",title:"Administration",icon:"sap-icon://key-user-settings"},{id:"SAP_BR_PRODMASTER_SPECIALIST",title:"Master Data - Products",icon:"sap-icon://filter-facets"},{id:"SAP_BR_EMPLOYEE",title:"Employee Self-Services",icon:"sap-icon://employee"},{id:"SAP_BR_PROJECT_MANAGER_PROF",title:"Project Management Professional Services",icon:"sap-icon://manager"},{id:"SAP_MM_SPT_PRODUCT_SRC_PC",title:"Product Sourcing",icon:"sap-icon://phone"},{id:"SAP_BR_EXTERNAL_AUDITOR",title:"Auditing - Group Reporting",icon:"sap-icon://kpi-managing-my-area"},{id:"SAP_BR_BUSINESS_PROCESS_SPEC",title:"Business Process Management",icon:"sap-icon://manager-insight"},{id:"SAP_BR_AP_MANAGER",title:"Accounts Payable",icon:"sap-icon://accounting-document-verification"},{id:"SAP_BR_ADMINISTRATOR_DATA_REPL",title:"Master Data - Data Replication",icon:"sap-icon://copy"},{id:"SAP_BR_AR_MANAGER",title:"Accounts Receivable",icon:"sap-icon://cause"},{id:"SAP_BR_CUST_SRVC_MGR_REPA",title:"In-House Repair",icon:"sap-icon://insurance-house"},{id:"SAP_BR_CUST_SRVC_TEC_REPA",title:"In-House Repair",icon:"sap-icon://insurance-house"},{id:"SAP_RFM_SPT_INVTRY_PROCG_PC",title:"Inventory Processing",icon:"sap-icon://supplier"},{id:"SAP_BR_RFM_STORE_ASSOCIATE",title:"Store Operations",icon:"sap-icon://retail-store"},{id:"SAP_BR_GRP_ACCOUNTANT",title:"Group Reporting",icon:"sap-icon://group-2"},{id:"SAP_BR_ADMINISTRATOR_GRP",title:"Administration - Group Reporting",icon:"sap-icon://group-2"},{id:"SAP_BR_ADMINISTRATOR_RFM",title:"Retail Administration",icon:"sap-icon://sales-quote"},{id:"SAP_BR_ADMIN_SUS_PFM",title:"Product Footprint Management",icon:"sap-icon://tree"},{id:"SAP_BR_BUSINESS_ANALYST_GRP",title:"Group Reporting Analysis",icon:"sap-icon://group-2"},{id:"SAP_BR_APR_MANAGER_FICA",title:"Contract Accounting",icon:"sap-icon://warning2"},{id:"SAP_BR_MD_SPECIALIST_SITE_RFM",title:"Site Master Data",icon:"sap-icon://chart-table-view"},{id:"SAP_BR_PRICING_SPECIALIST_PRSV",title:"Price Management",icon:"sap-icon://crm-sales"},{id:"SAP_BR_PROJ_PROC_CONTROLLER",title:"Project Control Resourcing and Procurement",icon:"sap-icon://bar-chart"},{id:"SAP_BR_PRICING_SPCLST_RFM",title:"Retail Sales Prices",icon:"sap-icon://search"},{id:"SAP_BR_RFM_STORE_MANAGER",title:"Store Management",icon:"sap-icon://retail-store-manager"},{id:"SAP_BR_RPLNMT_SPCLST_ST_RFM",title:"Store Replenishment",icon:"sap-icon://travel-expense-report"},{id:"SAP_BR_RCVG_SPECIALIST_IOG",title:"Receipts - Field Logistics",icon:"sap-icon://receipt"},{id:"SAP_RFM_SPT_INVTRY_MGMT_PC",title:"Inventory Management",icon:"sap-icon://customer-and-supplier"}];var e={__esModule:true};e.PAGES=i;e.SPACES=n;return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/PerformanceUtils", ["sap/ushell/Container","sap/ushell/EventHub","sap/ushell/utils"],function(e,t,n){"use strict";const o=function(e){try{if(!e||f)return Promise.resolve();const t=e.getItems();t.forEach(e=>{e.getContent().forEach(t=>{t.attachEventOnce("loaded",function(){try{const t=e.getMetadata().getName();const n=l.filter(e=>e.control?.getVisible())[0].name;const o=function(){if(t===n){return Promise.resolve(r()).then(function(){})}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})})});const n=l.filter(n=>{n.control=n.name===i?e:t.find(e=>e.getMetadata().getName()===n.name);return n.control?.getVisible()});f=true;return Promise.resolve(s()).then(function(){const e=function(){if(n.length===1){return Promise.resolve(r()).then(function(){})}}();if(e&&e.then)return e.then(function(){})})}catch(e){return Promise.reject(e)}};const r=function(){return Promise.resolve(c()).then(function(e){if(e){P(i,u);t.emit("CustomHomeRendered")}})};const s=function(){return Promise.resolve(c()).then(function(e){if(e){g(i,a)}})};const c=function(){try{return Promise.resolve(e.getServiceAsync("AppLifeCycle")).then(function(e){return e.getCurrentApplication()?.homePage})}catch(e){return Promise.reject(e)}};const i="sap.cux.home.Layout";const a="FLP-TTI-Homepage-Custom-Start";const u="FLP-TTI-Homepage-Custom";let f=false;const m={"sap.cux.home.AppsContainer":"Apps","sap.cux.home.InsightsContainer":"Insights","sap.cux.home.NewsAndPagesContainer":"News","sap.cux.home.ToDosContainer":"ToDos",[i]:"Layout"};let l=Object.keys(m).map(e=>({name:e,startMarked:false,endMarked:false}));function h(e){return l.find(t=>t.name===e)}function d(e){n.setPerformanceMark(e,{bUseUniqueMark:true,bUseLastMark:true})}function p(e,t,n){const o=h(e);const r=n?"Start":"End";const s=n?"startMarked":"endMarked";if(o&&!o[s]&&o.control?.getVisible()){o[s]=true;d(t||`FLP-Homepage-Section-${r}[${m[e]}]`)}}function g(e,t){p(e,t,true)}function P(e,t){p(e,t,false)}var v={__esModule:true};v.UIElements=m;v.setupPerformanceTracking=o;v.recordElementLoadStart=g;v.recordElementLoadEnd=P;return v});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/PersonalisationUtils", ["sap/ui/base/Object","sap/ui/core/Component"],function(n,t){"use strict";const e="sap.cux";const r=n.extend("sap.cux.home.utils.PersonalisationUtils",{constructor:function t(){n.prototype.constructor.call(this)},getPersContainerId:function n(r,o=false){if(this.persContainerId&&!o){return this.persContainerId}return`${t.getOwnerIdFor(r)}--${e}`},setPersContainerId:function n(t){this.persContainerId=t},getOwnerComponent:function n(e){return t.getOwnerComponentFor(e)}});var o=new r;return o});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/RecommendedCardUtil", ["sap/base/i18n/Formatting","sap/base/Log","sap/base/security/encodeURL","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/library","../interface/CardsInterface","./Constants","./DataFormatUtils"],function(t,e,a,i,n,r,s,o,l,c){"use strict";const p=o["UIAnnotations"];const u=l["TABLE_TYPES"];const d=c["sortCollectionByImportance"];const f=3;const h=s.ValueState;var g=function(t){t["DataField"]="com.sap.vocabularies.UI.v1.DataField";t["Importance"]="com.sap.vocabularies.UI.v1.Importance";t["DataFieldWithNavigationPath"]="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath";t["DataFieldWithIntentBasedNavigation"]="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation";t["DataFieldForIntentBasedNavigation"]="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation";t["Chart"]="@com.sap.vocabularies.UI.v1.Chart";t["FieldGroup"]="@com.sap.vocabularies.UI.v1.FieldGroup";t["DataPoint"]="@com.sap.vocabularies.UI.v1.DataPoint";t["Contact"]="@com.sap.vocabularies.Communication.v1.Contact";t["DataFieldForAction"]="com.sap.vocabularies.UI.v1.DataFieldForAction";t["DataFieldForAnnotation"]="com.sap.vocabularies.UI.v1.DataFieldForAnnotation";t["DataFieldWithUrl"]="com.sap.vocabularies.UI.v1.DataFieldWithUrl";t["CriticalityRepresentationTypeWithoutIcon"]="com.sap.vocabularies.UI.v1.CriticalityRepresentationType/WithoutIcon";t["FieldControlHiddenType"]="com.sap.vocabularies.Common.v1.FieldControlType/Hidden";return t}(g||{});var y=function(t){t["DataFieldWithNavigationPath"]="DataFieldWithNavigationPath";t["DataFieldWithIntentBasedNavigation"]="DataFieldWithIntentBasedNavigation";t["DataFieldForIntentBasedNavigation"]="DataFieldForIntentBasedNavigation";t["DataFieldForAction"]="DataFieldForAction";t["DataFieldForAnnotation"]="DataFieldForAnnotation";return t}(y||{});class m extends r{static getInstance(){if(!m.Instance){m.Instance=new m}return m.Instance}getLineItemDetails(t,e,a){const i=t.getODataEntitySet(a);const n=this.getLineItemFromVariant(t,i.entityType);const r=n.lineItem;const s=e["sap.ui.generic.app"]?.pages;const o=this.getSettingsForPage(s);if(!o.quickVariantSelectionX){return this.createDefaultLineItemDetails(t,n,o,a,r)}const l=o.quickVariantSelectionX.variants||{};const{firstAvailableKey:c,sEntitySet:p,oVariant:u}=this.findFirstNonSmartChartVariant(t,l,a);if(u.isSmartChart){return this.createDefaultLineItemDetails(t,n,o,a,r)}delete o.requestAtLeastFields;const d=this.getNormalizedTableSettings(t,o,a);const f=t?.getODataEntitySet(p);const h=this.getLineItemFromVariant(t,f.entityType,u.annotationPath?.split("#")[1]);const g=h.lineItem;const y=h.presentationVariant;o.requestAtLeastFields=y?.RequestAtLeast?.length?y.RequestAtLeast:this._getRequestAtLeastFields(y);u.tableSettings=this.getNormalizedTableSettings(t,{...u,tableSettings:u.tableSettings||d},p);this.validateResponsiveTable(o,u,c);delete o.tableSettings;o.isResponsiveTable=o.isResponsiveTable===undefined||o.isResponsiveTable;const m={quickVariant:u,lrSettings:o,lineItem:g,entitySet:p,headerInfo:u?.tableSettings?.headerInfo||""};return g?m:this.createDefaultLineItemDetails(t,n,o,a,r)}findFirstNonSmartChartVariant(t,e,a){let i=null;let n=a;let r={};for(const s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;r=e[s];n=r.entitySet||a;const o=t.getODataEntitySet(n);if(o){r.isSmartChart=this.checkIfSmartChart(t,n,r);if(!r.isSmartChart){i=s;break}}else{r.isSmartChart=true}}return{firstAvailableKey:i,sEntitySet:n,oVariant:r}}validateResponsiveTable(t,a,i){const n=a.tableSettings?.type===u.RESPONSIVE;if(t.isResponsiveTable===undefined){t.isResponsiveTable=n}else if(t.isResponsiveTable!==n){e.error(`Variant with key ${i} resulted in invalid Table Type combination.`)}}createDefaultLineItemDetails(t,e,a,i,n){a.tableSettings=this.getNormalizedTableSettings(t,a,i);a.isResponsiveTable=a.tableSettings.type===u.RESPONSIVE;if(e?.presentationVariant?.RequestAtLeast?.length){a.requestAtLeastFields=e.presentationVariant.RequestAtLeast}return{quickVariant:{},lrSettings:a,lineItem:n,entitySet:i,headerInfo:a?.tableSettings?.headerInfo||""}}getLineItemFromVariant(t,e,a){const i=this.getAnnotation(t,e,p.UISelectionPresentationVariant,a);let n;if(i?.PresentationVariant){n=this.getPresentationVariant(t,e,i.PresentationVariant)}else{n=this.getAnnotation(t,e,p.UIPresentationVariant,a)}const r=n?this.getLineItem(t,e,n):null;const s=r?.lineItem||this.getAnnotation(t,e,p.UILineItem,"");return{presentationVariant:n,lineItem:s,qualifierPath:r?.annotationPath||""}}getAnnotation(t,e,a,i){const n=`${a}${i?`#${i}`:""}`;const r=t.getODataEntityType(e);return r?.[n]}getPresentationVariant(t,e,a){const i=a?.PresentationVariant;if(i?.Path){return this.getObject(t,e,i.Path)}return i}getLineItem(t,e,a){let i=a.Visualizations?.find(function(t){return t.AnnotationPath?.includes(p.UILineItem)});return i?{lineItem:this.getObject(t,e,i.AnnotationPath),annotationPath:i.AnnotationPath,sQualifier:i.AnnotationPath?.split("#")[1]}:null}_getRelevantColumnPaths(t){t=Array.isArray(t)?t:[];const e=new Set;const a=new Set;t.forEach(t=>{if(t){const i=t["leadingProperty"];const n=t["additionalProperty"];const r=t["navigationProperty"];if(i){e.add(i)}this.extractPathAndInsertToSet(n,e);this.extractPathAndInsertToSet(r,a)}});return{select:Array.from(e),expand:Array.from(a)}}extractPathAndInsertToSet(t,e){t?.split(",").forEach(t=>{if(t){e.add(t)}})}extractAndExpandNavigationProperty(t,e,a,i){const n={};for(const r of e){let e=r.lastIndexOf("/");let s;if(e<0){if(!this.getNavigationProperty(t,r,i,n)){continue}s=r}else{s=r.substring(0,e)}if(!a.includes(s)){a.push(s)}}}getNavigationProperty(t,e,a,i){let n=i?.[t];if(!n){n={};i[t]=n;const e=a.getODataEntitySet(t);if(e){const t=a.getODataEntityType(e.entityType);if(t){const e=t.navigationProperty||[];e.forEach(t=>{const e=t.name;n[e]=t})}}}return n?.[e]||undefined}_addNecessaryFields(t,e,a){let i=a.getODataEntitySet(e.entitySet);let n=a.getODataEntityType(i.entityType);let r=[];if(t.length>0){if(e.lineItem&&typeof e.lineItem!=="string"){e.lineItem.forEach(t=>{if(t.RecordType===g.DataFieldWithIntentBasedNavigation||t.RecordType===g.DataFieldWithNavigationPath){const e=this.getDataFieldsWithNavigation(t,a,n);if(e?.length){r=r.concat(e)}}})}this.getFieldControlsPath(t,a,n,r)}r.forEach(e=>{this.ensureSelectionProperty(e,t)})}getFieldControlsPath(t,e,a,i){t.forEach(t=>{if(t){let n=e.getODataProperty(a,t)||{};if(p.CommonFieldControl in n){let t=n[p.CommonFieldControl];if(t?.Path){i.push(t.Path)}}}})}getDataFieldsWithNavigation(t,e,a){const i=[];const n=t.Value?.Path;if(n){const t=e.getODataProperty(a,n);const r=t?.[p.CommonText]?.Path;const s=t?.["sap:text"];i.push(s||r||n)}if(t.SemanticObject?.Path){i.push(t.SemanticObject.Path)}if(t.Action?.Path){i.push(t.Action.Path)}return i}getParameters(t,e,a,i){let n=i.select||[];let r=i.expand||[];let s=t?.lrSettings?.requestAtLeastFields||[];if(s.length>0){n=this._ensureSelectionProperties(n,s)}this._handleMandatorySelectionFields(a,n,e);this._addNecessaryFields(n,t,e);this.extractAndExpandNavigationProperty(a,n,r,e);return{expand:r.join(",")||undefined,select:n.join(",")||undefined}}_ensureSelectionProperties(t,e){for(const a of e){if(typeof a==="object"&&a?.PropertyPath&&!t.includes(a.PropertyPath)){t.push(a.PropertyPath)}}return t}_handleMandatorySelectionFields(t,e,a){const i=a.getODataEntitySet(t,false);const n=a.getODataEntityType(i.entityType,false);n.key.propertyRef.forEach(t=>{this.ensureSelectionProperty(t.name,e)})}ensureSelectionProperty(t,e){t?.split(",").forEach(function(t){if(t&&!e.includes(t)){e.push(t)}})}_createCardManifest(t,e,a,i){let n=a["sap.ui"];let r=a["sap.app"];let s=0;if(r?.["crossNavigation"]){delete r["crossNavigation"]}if(r){Object.assign(r,{type:"card",id:`user.${t.id}.${Date.now()}`,title:t.cardTitle||"",subTitle:t.subTitle})}let o={"sap.ui":n,"sap.app":this.createManifestSapApp(r),"sap.card":this.createManifestSapCard(a,t),"sap.ui5":this.createSapui5()};const l=o?.["sap.card"]?.content;t.columns.slice(0,f).forEach(t=>{const e=this._getAttributeValue(t);if(t.identifier&&l?.item){l.item.title={value:e,identifier:true}}else if(l?.item?.attributes){l.item.attributes[s]={value:e,visible:true,...t.state&&{state:t.state,showStateIcon:t.showStateIcon}};s++}});if(i&&l?.item){l.item.actions=[]}return{...o,"sap.insights":{parentAppId:t.id,cardType:"RT",versions:{ui5:`${e.version}-${e.buildTimestamp}`},visible:true}}}_getAttributeValue(e){let a=!e.value.startsWith("{")?"{= extension.formatters.stringFormatter(${"+e.path+"}) }":e.value;if(e.type==="Edm.Date"||e.type==="Edm.DateTime"){const i=JSON.stringify({pattern:t.getDatePattern("short")});a="{=${"+e.path+"}?format.dateTime(${"+e.path+"}, "+i+") : ''}"}return a}createManifestSapApp(t){const e=n({},t);if(e?.dataSources?.mainService){e.dataSources["filterService"]=e.dataSources.mainService;if(e.dataSources["filterService"]?.settings){e.dataSources["filterService"].settings["odataVersion"]="2.0"}}return e}createManifestSapCard(t,e){const a=t["sap.app"]?.dataSources;const i=a?.mainService?.uri;const n=e.entitySet;const r="__count";const s={text:"{= ${"+r+"} === '0' ? '' : ${"+r+"} }"};let o={type:"List"};o["configuration"]=this.createManifestSapCardConfig(i||"",n);o["data"]=this.createManifestSapCardData(i||"",e.url);o["header"]={title:e.cardTitle,subTitle:"",actions:[],status:s,data:{path:"/content/d"}};o["extension"]="module:sap/insights/CardExtension";o["content"]={data:{path:"/content/d/results"},maxItems:5,item:{actions:[],attributesLayoutType:"OneColumn",attributes:[]}};this.addCardActions(o,e.semanticObject,e.action);return o}addCardActions(t,e,a){let i={ibnTarget:{semanticObject:e,action:a},sensitiveProps:[],ibnParams:{}};let n=[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/headerState/value})}"}];let r=JSON.parse(JSON.stringify(i));let s=[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/contentState/value}, ${})}"}];if(t.configuration?.parameters){t.configuration.parameters.headerState={value:JSON.stringify(i)};t.configuration.parameters.contentState={value:JSON.stringify(r)}}if(t.header){t.header.actions=n}if(t?.content?.item){t.content.item.actions=s}}createManifestSapCardConfig(t,e){const a={parameters:{_relevantODataFilters:{value:[]},_relevantODataParameters:{value:[]},_entitySet:{value:e},_urlSuffix:{value:"/Results"}},destinations:{service:{name:"(default)",defaultUrl:"/"}},csrfTokens:{token1:{data:{request:{url:"{{destinations.service}}"+t,method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}}}}};return a}createSapui5(){return{_version:"1.1.0",contentDensities:{compact:true,cozy:true},dependencies:{libs:{"sap.insights":{lazy:false}}}}}createManifestSapCardData(t,e){const a={content:{method:"GET",url:e,headers:{Accept:"application/json"}}};const i={request:{url:"{{destinations.service}}"+t+"/$batch",method:"POST",headers:{"X-CSRF-Token":"{{csrfTokens.token1}}"},batch:a}};return i}_getManifestCardData(t,e,a,i){const n=t["sap.app"];const r=n?.dataSources;const s=r?.mainService?.uri||"";const o=e.lineItem;const l=e.entitySet;const c=i.getODataEntitySet(l);const u=i.getODataEntityType(c?.entityType);const f=`${s.replace(/\/$/,"")}/${l}`;const h=o?.map(t=>this._getColumnDetail(l,i,t)).filter(t=>t!==undefined);const g=this._getRelevantColumnPaths(h);const y=this.getParameters(e,i,l,g);const m=this.createCustomParams(y);const S=m?`${f}?$top=5&skip=0&${m}&$inlinecount=allpages`:`${f}?$top=5&skip=0`;const P=d(h).map(t=>({path:t?.path,type:t?.type,value:t?.value,identifier:t?.identifier,state:t?.state,showStateIcon:t?.showStateIcon})).slice(0,4);return{cardTitle:t?.["sap.app"]?.title,subTitle:u[p.CommonLabel]?`Top 5 ${u[p.CommonLabel].String}`:"",url:S,semanticObject:a?.semanticObject||"",action:a?.action||"",id:t?.["sap.app"]?.id,columns:P,entitySet:l}}_getColumnDetail(t,e,a){let i;let n=e.getODataEntitySet(t);let r=e.getODataEntityType(n.entityType);if(a.Value?.Path){i=e.getODataProperty(r,a.Value.Path);let t=i[p.UIHidden];if(t?.Bool==="true"||t?.Bool===true){return undefined}if(this.isPropertyHidden(a)||!i||Object.keys(i).length===0){return undefined}}let s=this.createP13N(n,i,a,e);s=s.replace(/\\/g,"");let o=s?JSON.parse(s):{};if(!this.isSupportedColumn(o,a,e,n)){return undefined}if(i){o=this.getColumnObjectDetails(o,i,r,a);if(a?.[g.Importance]!==undefined){const t=a[g.Importance];o.importance=t}}return o}getColumnObjectDetails(t,e,a,i){let n=e[p.CommonText]?.Path||"";n="{"+n+"}";let r=e.name?"{"+e.name+"}":"";let s="";const o=a[p.CommonSemanticKey];const l=!!o&&o.some(function(t){return t.PropertyPath===e.name});let c=false;let u=undefined;if((i?.Criticality&&i?.Value?.Path)===e.name){u=i;c=true}if(e[p.MeasuresISOCurrency]?.Path){r=r.concat(" "+"{"+s+e[p.MeasuresISOCurrency]?.Path+"}")}if(e[p.MeasuresUnit]?.Path){r=r.concat(" "+"{"+s+e[p.MeasuresUnit]?.Path+"}")}if(e[p.CommonText]?.Path){let i=e[p.CommonText]?.[p.UITextArrangement];if(!i){i=a[p.UITextArrangement]}this._setColumnTextValue(i,t,n,r)}else{t["value"]=r;if(l){t["identifier"]=l}}if(c){t["state"]=this.buildExpressionForCriticalityColor(u);t["showStateIcon"]=u?.CriticalityRepresentation?.EnumMember!==g.CriticalityRepresentationTypeWithoutIcon||true}t["path"]=e[p.CommonText]?.Path||e.name;t["type"]=e.type;return t}buildExpressionForCriticalityColor(t){let a=h.None;let n;let r=t?.Criticality;let s=function(t){t["Negative"]="com.sap.vocabularies.UI.v1.CriticalityType/Negative";t["Critical"]="com.sap.vocabularies.UI.v1.CriticalityType/Critical";t["Positive"]="com.sap.vocabularies.UI.v1.CriticalityType/Positive";return t}({});if(r){n="'{'= ({0} === ''"+s.Negative+"'') || ({0} === ''1'') || ({0} === 1) ? ''"+h.Error+"'' : "+"({0} === ''"+s.Critical+"'') || ({0} === ''2'') || ({0} === 2) ? ''"+h.Warning+"'' : "+"({0} === ''"+s.Positive+"'') || ({0} === ''3'') || ({0} === 3) ? ''"+h.Success+"'' : "+"''"+h.None+"'' '}'";if(r?.Path){const t="${"+r.Path+"}";a=i(n,[t])}else if(r?.EnumMember){const t="'"+r.EnumMember+"'";a=i(n,[t])}else{e.warning("Case not supported, returning the default sap.ui.core.ValueState.None")}}else{e.warning("Case not supported, returning the default sap.ui.core.ValueState.None")}return a}_setColumnTextValue(t,e,a,i){let n=function(t){t["TextOnly"]="TextOnly";t["TextLast"]="TextLast";t["TextSeparate"]="TextSeparate";return t}({});const r=t?.EnumMember?.split("/")[1];let s;switch(r){case n.TextOnly:s=`{= $${a} === '' ? '' : $${a} }`;break;case n.TextLast:s=`{= $${i} === '' ? '' : $${i} }`+`{= $${a} === '' ? '' : ' (' + ($${a}) + ')' }`;break;case n.TextSeparate:s=`{= $${i} === '' ? '' : $${i} }`;break;default:s=`{= $${a} === '' ? '' : $${a} }`+`{= $${i} === '' ? '' : ' (' + ($${i}) + ')' }`;break}e["value"]=s}_getRequestAtLeastFields(t){return t&&Array.isArray(t.requestAtLeastFields)?t.requestAtLeastFields:[]}createCustomParams(t){const e=[];if(t?.expand){e.push("$expand="+a(t["expand"]))}if(t?.select){e.push("$select="+a(t["select"]))}return e.join("&")}getObject(t,e,a){if(a[0]!=="/"){a=t.getODataEntityType(e,true)+"/"+a}return t.getObject(a.replace(/@/g,""))}_isListReport(t){return t?.component?.name==="sap.suite.ui.generic.template.ListReport"}getSettingsForPage(t){if(!t){return{}}let e={};if(Array.isArray(t)&&this._isListReport(t[0])){const a=t[0];if(a?.component){const t=a.component;e=t?.settings||{};e.bSupressCardRowNavigation=this.shouldSuppressCardRowNavigation(a)}}else if(Object.keys(t).length){const a=Object.keys(t).find(e=>this._isListReport(t[e]));if(a){const i=t[a];if(i?.component){const t=i.component;e=t?.settings??{};e.bSupressCardRowNavigation=this.shouldSuppressCardRowNavigation(i)}}}return e}shouldSuppressCardRowNavigation(t){if(t.pages){if(Array.isArray(t.pages)){if(t.pages.length===0||t.pages[0]?.navigation){return true}}else{const e=Object.keys(t.pages);if(e.length===0||e.length&&t.pages[e[0]]?.navigation){return true}}}else{return true}if(t?.component?.settings?.quickVariantSelectionX){return true}return false}getNormalizedTableSettings(t,e,a){const i=n({},e);if(i&&!i.tableType){if(i.gridTable){i.tableType=u.GRID}else if(i.treeTable){i.tableType=u.TREE}}i.tableSettings=i.tableSettings||{};i.tableSettings.type=i.tableSettings.type||i.tableType;const r=t.getODataEntitySet(a);const s=t.getODataEntityType(r.entityType);if(i.tableSettings.type!==u.STANDARD_LIST&&i.tableSettings.type!==u.OBJECT_LIST&&a){i.tableSettings.type=i.tableSettings.type||(s[p.SapSemantics]==="aggregate"?u.ANALYTICAL:u.RESPONSIVE);if(i.tableSettings.type===u.ANALYTICAL&&!(s[p.SapSemantics]==="aggregate")){i.tableSettings.type=u.GRID}}if(s[p.UIHeaderInfo]){i.tableSettings.headerInfo=s[p.UIHeaderInfo]}delete i.gridTable;delete i.treeTable;delete i.tableType;return i.tableSettings}checkIfSmartChart(t,e,a){let i=t.getODataEntitySet(e);let n=t.getODataEntityType(i.entityType);let r,s,o;s=a.annotationPath;o=s?n[s]:undefined;if(o?.PresentationVariant){if(o.PresentationVariant.Visualizations){r=o.PresentationVariant.Visualizations[0].AnnotationPath}else if(o.PresentationVariant.Path){let t=o.PresentationVariant.Path.split("@")[1];let e=t&&n[t];r=e?e?.Visualizations?.[0].AnnotationPath:""}}else if(o?.Visualizations){r=o.Visualizations[0].AnnotationPath}return!!((r??"").indexOf(p.UIChart)>-1)}hasMandatoryProperties(t,e){if(t?.["Org.OData.Capabilities.V1.FilterRestrictions"]?.["RequiredProperties"]?.length){return true}else if(e?.length){return e.some(t=>Object.keys(t).length&&(t["sap:parameter"]==="mandatory"||t["sap:required-in-filter"]==="true"))}return false}_getParametersisedEntitySetParams(t,e,a){if(!t){throw new Error("OData Model needs to be passed as an argument")}const i={entitySetName:null,parameters:[],navPropertyName:null};const n=t.getODataEntitySet(e);const r=t.getODataEntityType(n.entityType);const s=r.navigationProperty;if(!s){return i}s.forEach(function(e){const s=t.getODataAssociationEnd(r,e.name);const o=s&&t.getODataEntityType(s.type);if(o?.[p.SapSemantics]!=="parameters"||!o.key){return false}i.entitySetName=t.getODataAssociationSetEnd(r,e.name)?.entitySet;for(let t of o.key.propertyRef){if(a){const e=o.property;for(let a of e){if(a.name===t.name){i.parameters.push(a)}}}else{i.parameters.push(t.name)}}const l=o.navigationProperty;const c=l?.some(function(e){const a=t.getODataAssociationEnd(o,e?.name)?.type;i.navPropertyName=a===n.entityType?e?.name:null;return i.navPropertyName});return c&&i.navPropertyName&&i.entitySetName});return i}isPropertyHidden(t){let e=t[p.CommonFieldControl];let a=t[p.UIHidden];if(e?.EnumMember===g.FieldControlHiddenType){return true}if(a){if(Object.prototype.hasOwnProperty.call(a,"Bool")){return a?.Bool==="true"}else if(Object.prototype.hasOwnProperty.call(a,"Path")){return false}else{return true}}return false}createP13N(t,e,a,i){let n="";let r=[];let s="";let o=a?.RecordType;let l=a?.Value;let c=l?.Path||"";if(o===g.DataField||o===g.DataFieldForAnnotation||o===g.DataFieldWithUrl){if(c){let e=this.createP13NColumnKey(a);n='\\{"columnKey":"'+e+'", "leadingProperty":"'+c;s=this.getNavigationPrefixPath(i,t,c)}else if(l?.Apply?.Name==="odata.concat"){l?.Apply?.Parameters.forEach(function(t){if(t.Type==="Path"){if(!n){n='\\{"columnKey":"'+t?.Value+'", "leadingProperty":"'+t?.Value}else{r.push(t.Value)}}})}n+=this.processAdditionalProperties(e,a,s,r);if(o===g.DataFieldWithUrl&&a?.Url){this.processDataFieldWithUrl(a,r)}if(n&&r.length){n+='", "additionalProperty":"'+r.join()}if(n){n+='"\\}'}}return n}processDataFieldWithUrl(t,e){const a=t.Url;if(a?.Apply?.Parameters){a.Apply.Parameters.forEach(t=>{if(t.Type==="LabeledElement"&&t.Value?.Path){e.push(t.Value.Path)}})}if(a?.Path){e.push(a.Path)}}createP13NColumnKey(t){let e="",a="template",i="::";let n=t.RecordType;let r=t?.Value;let s=t.SemanticObject?.String||"";let o=t.Action?.String||"";let l=r?.Path||"";let c="",p=null;let u=function(t){return a+i+t.join(i)};switch(n){case g.DataField:e=l;break;case g.DataFieldWithIntentBasedNavigation:e=u([y.DataFieldWithIntentBasedNavigation,s,o,l]);break;case g.DataFieldWithNavigationPath:e=u([y.DataFieldWithNavigationPath,l]);break;case g.DataFieldForIntentBasedNavigation:e=u([y.DataFieldForIntentBasedNavigation,s,o]);break;case g.DataFieldForAction:e=u([y.DataFieldForAction,o]);break;case g.DataFieldForAnnotation:c=t.Target?.AnnotationPath;p=c&&(c.indexOf(g.Contact)>=0||c.indexOf(g.DataPoint)>=0||c.indexOf(g.FieldGroup)>=0||c.indexOf(g.Chart)>=0);if(p){e=u([y.DataFieldForAnnotation,c]);e=e.replace("@","")}break;default:e="";break}return e}getNavigationPrefixPath(t,e,a){let i="";if(t){let n=t.getODataEntityType(e.entityType);if(n){i=this._getNavigationPrefix(t,n,a);if(i){i+="/"}}}return i}_getNavigationPrefix(t,e,a){let i="";let n=a.split("/");if(n.length>1){for(let a=0;a<n.length-1;a++){let r=t.getODataAssociationEnd(e,n[a]);if(!r){return i}if(r){e=t.getODataEntityType(r.type);i+=(i?"/":"")+n[a]}}}return i}processAdditionalProperties(t,e,a,i){let n="";if(t?.type==="Edm.DateTime"&&t?.["sap:display-format"]==="Date"){n+='", "type":"date'}else if(t?.type==="Edm.String"){n+='", "type":"string'}if(e?.Criticality?.Path){i.push(e?.Criticality.Path)}let r=t?.[p.CommonText];if(r?.Path){i.push(a+r?.Path)}const s=t?t[p.MeasuresISOCurrency]||t[p.MeasuresUnit]:null;if(s?.Path){i.push(s.Path);n+='", "unit":"'+s.Path}if(t?.[p.CommonFieldControl]?.Path){i.push(a+t[p.CommonFieldControl].Path)}return n}isSupportedColumn(t,e,a,i){let n=e.RecordType;if(n===g.DataFieldForAnnotation||n===g.DataFieldForAction||n===g.DataFieldForIntentBasedNavigation||!t){return false}let r=a.getODataEntityType(i.entityType);let s=a.getODataProperty(r,t.leadingProperty);let o=t.columnKey;if(this.checkMultiplicityForDataFieldAssociation(a,i,e)||o&&(o.indexOf(y.DataFieldForAnnotation)>-1||o.indexOf(y.DataFieldForAction)>-1||o.indexOf(y.DataFieldForIntentBasedNavigation)>-1||s?.[p.UIIsImageURL]?.Bool==="true")){return false}return true}checkMultiplicityForDataFieldAssociation(t,e,a){if(a?.Value?.Path){let i=a.Value.Path;let n=t&&t.getODataEntityType(e.entityType);let r;if(!(i.indexOf("/")>-1)||!n){return false}while(i.indexOf("/")>-1){let e=i.split("/")[0];i=i.split("/").slice(1).join("/");n=t.getODataEntityType(r?.type)||n;r=t.getODataAssociationEnd(n,e)}if(r&&r.multiplicity==="*"){return true}}return false}}m.FieldTypes=y;return m});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/SituationUtils", ["sap/base/i18n/Formatting","sap/base/Log","sap/fe/navigation/NavigationHandler","sap/fe/navigation/SelectionVariant","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataModel"],function(t,e,a,n,i,r,o){"use strict";let c;let s;let u;const m=()=>{if(!c){const e=t.getDatePattern("medium")||"dd/MM/yyyy";c=i.getDateInstance({pattern:e})}return c};const S=()=>{if(!s){s=r.getFloatInstance({decimalSeparator:t.getNumberSymbol("decimal")||".",groupingSeparator:t.getNumberSymbol("group")||",",groupingEnabled:true})}return s};const l=(t,e=[])=>{if(!t?.split){return t}let a=t.replaceAll("\n"," ");e.forEach(t=>{if(t.SitnInstceAttribName?.length>0){const e=`0${t.SitnInstceAttribSource}`;const n=`${e}.${t.SitnInstceAttribName}`;const i=t._InstanceAttributeValue.reduce(function(e,a){if(a.SitnInstceAttribSource===t.SitnInstceAttribSource&&a.SitnInstceAttribName===t.SitnInstceAttribName){e.push(a)}return e},[]);const r=[];i.forEach(e=>{let a=e?.SitnInstceAttribValue?.trim()||"";let n;switch(t.SitnInstceAttribEntityType){case"Edm.DateTime":n=m().format(m().parse(a));break;case"Edm.Decimal":if(a.endsWith("-")){a=`-${a.substring(0,a.length-1)}`}n=S().format(Number(a));break;default:n=a}r.push(n)});a=a.split(`{${n}}`).join(r.join(", "))}});return a};function f(t,e){return new Promise((i,r)=>{const o=new a(e);const c=new n;t._NavigationParam?.map(function(t){if(t.SituationNotifParamName){c.addSelectOption(t.SituationNotifParamName,"I","EQ",t.SituationNotifParameterVal)}});const s=c.toJSONString();o.navigate(t.SitnSemanticObject,t.SitnSemanticObjectAction,s,i,t=>r(t))})}function b(t,a){try{if(a==="1"){const e=g().bindContext(`/Navigation/${t}`,undefined,{$expand:{_NavigationParam:{$select:["SituationNotifParamName","SituationNotifParameterVal"]}},$select:["SitnInstanceID","SitnSemanticObject","SitnSemanticObjectAction"]});return e.requestObject()}else{return Promise.resolve({SitnInstanceID:t,SitnSemanticObject:"SituationInstance",SitnSemanticObjectAction:"display",_NavigationParam:[{SituationNotifParamName:"ui-type",SituationNotifParameterVal:"extended"},{SituationNotifParamName:"SitnInstceKey",SituationNotifParameterVal:t}]})}}catch(t){e.error(t instanceof Error?t.message:"")}}function g(){if(!u){u=new o({serviceUrl:"/sap/opu/odata4/sap/a_sitn2mblinstce_v4/srvd/sap/a_sitn2mblinstce_srv/0002/"})}return u}var p={__esModule:true};p.getSituationMessage=l;p.executeNavigation=f;p.fetchNavigationTargetData=b;return p});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/TaskUtils", ["sap/base/Log","sap/base/i18n/Formatting","sap/m/library","sap/ui/core/Locale","sap/ui/core/format/DateFormat"],function(e,t,n,r,o){"use strict";function i(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const s=function(t,n){try{return Promise.resolve(i(function(){return Promise.resolve(fetch(`/sap/opu/odata/IWPGW/TASKPROCESSING;mo;v=2/UserInfoCollection(SAP__Origin='${t}',UniqueName='${n}')?$format=json`)).then(function(e){if(!e.ok){throw new Error(`Failed to Fetch User Info for: ${n}`)}return Promise.resolve(e.json()).then(function(e){const{d:t}=e;c[n]=t;return c[n]})})},function(t){e.error(t instanceof Error?t.message:String(t));return{}}))}catch(e){return Promise.reject(e)}};const a=n["Priority"];var u=function(e){e["VERY_HIGH"]="VERY_HIGH";e["HIGH"]="HIGH";e["MEDIUM"]="MEDIUM";e["LOW"]="LOW";return e}(u||{});const c={};function f(e,t,n){const r=`?showAdditionalAttributes=true&/detail/${e}/${t}/TaskCollection(SAP__Origin='${e}',InstanceID='${t}')`;return n+r}function l(e,t){if(Object.keys(c).includes(t)){return Promise.resolve(c[t])}else{return s(e,t)}}function g(e){if(e.length!==8){return false}const t=parseInt(e.slice(0,4),10);const n=parseInt(e.slice(4,6),10)-1;const r=parseInt(e.slice(6),10);const o=new Date(t,n,r);return o.getFullYear()===t&&o.getMonth()===n&&o.getDate()===r}function d(e){if(e==null||e==="00000000"){return NaN}if(typeof e==="number"){return e}const t=/\/(Date)\((\d+)\)\//;const n=/^\d{8}$/;const r=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([+-])(\d{2}):(\d{2}))?$/;const i=e.match(t);if(i){return parseInt(i[2],10)}if(n.test(e)&&g(e)){const t=o.getDateInstance().parse(e);return t instanceof Date?t.getTime():NaN}const s=e.match(r);if(s){return new Date(e).getTime()}return NaN}function m(e,n=t.getDatePattern("short")||"dd/MM/yyyy"){const i=new r(t.getLanguageTag().language);const s=o.getDateTimeInstance({pattern:n},i);const a=d(e);let u="";if(!isNaN(a)){u=s.format(new Date(a))}return u}function I(e){if(e===u.VERY_HIGH){return a.VeryHigh?a.VeryHigh:a.None}else if(e===u.HIGH){return a.High}else if(e===u.MEDIUM){return a.Medium}else if(e===u.LOW){return a.Low}else{return a.None}}var h={__esModule:true};h.TaskPriority=u;h.getTaskUrl=f;h.fetchUserDetails=l;h.formatDate=m;h.getPriority=I;return h});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/UshellPersonalizer", ["sap/ui/base/Object","sap/ushell/Container"],function(e,t){"use strict";const n=e.extend("sap.cux.home.utils.UshellPersonalizer",{constructor:function t(n,r){e.prototype.constructor.call(this);this.persContainerId=n;this.oOwnerComponent=r},init:function e(){try{const e=this;return Promise.resolve(t.getServiceAsync("Personalization")).then(function(t){const n={keyCategory:t?.constants?.keyCategory?.FIXED_KEY,writeFrequency:t?.constants?.writeFrequency?.LOW,clientStorageAllowed:true},r={container:e.persContainerId,item:"settings"};e.oPersonalizer=t?.getPersonalizer(r,n,e.oOwnerComponent)})}catch(e){return Promise.reject(e)}},write:function e(t){try{const e=this;return Promise.resolve(e.oPersonalizer?.setPersData(t)).then(function(){return"success"})}catch(e){return Promise.reject(e)}},read:function e(){try{const e=this;return Promise.resolve(e.oPersonalizer?.getPersData())}catch(e){return Promise.reject(e)}}});n.oCacheInstances={};n.getInstance=function e(t,r){try{if(n.oCacheInstances[t]){return Promise.resolve(n.oCacheInstances[t])}const e=new n(t,r);return Promise.resolve(e.init()).then(function(){n.oCacheInstances[t]=e;return n.oCacheInstances[t]})}catch(e){return Promise.reject(e)}};return n});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/extension/CardExtension", ["sap/m/library","sap/ui/core/library","sap/ui/integration/Extension"],function(r,e,t){"use strict";const a=e.ValueState;const s=r.ValueColor;const c=(r,e)=>{if(e==="state"){switch(String(r)){case"1":case"Error":return a.Error;case"2":case"Warning":return a.Warning;case"3":case"Success":return a.Success;default:return a.None}}if(e==="color"){switch(String(r)){case"1":case"Error":return s.Error;case"2":case"Critical":return s.Critical;case"3":case"Good":return s.Good;default:return s.Neutral}}};class i extends t{init(){t.prototype.setFormatters.apply(this,[{formatCriticality:c}])}}return i});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/placeholder/AppsPlaceholder", [],function(){"use strict";function t(){return`\n        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding" style="background-color:transparent">\n            <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM" style="width: 225px;"></div>\n            <div class="plPHPCardContainer" style="background-color:white">\n                <div class="plPHPCard plPHPCardVersion4 PHPContentCard8">\n                    <div class="plPHPCardHeader"></div>\n                    <div class="plPHPCardContent">\n                        <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeM">\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeL">\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plSmallestVisibleSizeXL">\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                                <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare">\n                                    </div>\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextLine"\n                                            style="width: 100%;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `}var l={__esModule:true};l.getAppsPlaceholder=t;return l});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/placeholder/InsightsPlaceholder", [],function(){"use strict";function t(){return`\n        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM" style="width: 225px;"></div>\n        <div class='plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding' style="background-color:transparent">\n            <div class="pInsightsTilesContainer">\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard pInsightsTiles" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="plOVPCardContainer">\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeS" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeM" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion3 OVPContentCard6 plSmallestVisibleSizeM" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeM" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeL" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeL" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeXL" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plOVPCard plOVPCardVersion4 OVPContentCard5 plSmallestVisibleSizeXL" style="background-color:white">\n                    <div class="plOVPCardHeader">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 100px;"></div>\n                            <div class="plHorizontalLayout plHorizontalContent plTextAlignStart plVerticalAlignTop">\n                                <div class="plAvatar sapMGTLoadingShimmer plAvatarSizeM plAvatarShapeSquare plOVPCardHeaderAvatar" style="width: 120px; height: 40px; background-size: 900px 900px;"></div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignEnd plVerticalAlignTop plVerticalRepeater plOVPCardHeaderText">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 50px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plVerticalRepeaterItem" style="width: 30px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plOVPCardHeaderText" style="width: 80px;"></div>\n                        </div>\n                    </div>\n                    <div class="plOVPCardContent">\n                        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop">\n                            <div class="plBarChart">\n                                <div style="vertical-align: inherit;">\n                                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plOVPCardContentChart plChartHorMeasure plChartVertMeasure plHorizontalBarChart">\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 160px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 120px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plVerticalRepeaterItem" style="width: 90px;"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `}var e={__esModule:true};e.getInsightsPlaceholder=t;return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/placeholder/NewsAndPagesPlaceholder", [],function(){"use strict";function t(){return`\n    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding" style="background-color:transparent">\n        <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM" style="width: 225px;">\n        </div>\n        <div class="plPHPCardContainer plSectionMarginBottom">\n            <div class="plPHPCard plPHPCardVersion2 PHPContentCard5 sapUiNoMarginTop" style="background-color:white">\n                <div class="plPHPCardHeader">\n                    <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop"></div>\n                </div>\n                <div class="plPHPCardContent">\n                    <div style="vertical-align: inherit;">\n                        <div\n                            class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer">\n                            <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                style="width: 100%;"></div>\n                            <div class="plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                style="width: 80%;"></div>\n                        </div>\n                    </div>\n                    <div class="plHorizontalLayout plHorizontalContent plTextAlignEnd plVerticalAlignBottom">\n                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardFooterText"\n                            style="width: 80px;"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="plPHPCardVersion3 PHPContentCard6 sapUiNoMarginTop plSmallestVisibleSizeL">\n                <div class="plPHPCardHeader"></div>\n                <div class="plPHPCardContent">\n                    <div\n                        class="plVerticalLayout plVerticalContent plTextAlignplPHPCardContentContainer plVerticalAlignTop">\n                        <div class="plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop">\n                            <div style="vertical-align: inherit; background-color:white;" class="plPHPCard">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                            <div style="vertical-align: inherit; background-color:white;" class="plPHPCard">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop">\n                            <div style="vertical-align: inherit; background-color:white;" class="plPHPCard">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                            <div style="vertical-align: inherit; background-color:white;" class="plPHPCard">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="plPHPCard plPHPCardVersion3 PHPContentCard7 sapUiNoMarginTop plSmallestVisibleSizeL">\n                <div class="plPHPCardHeader"></div>\n                <div class="plPHPCardContent">\n                    <div\n                        class="plVerticalLayout plVerticalContent plTextAlignplPHPCardContentContainer plVerticalAlignTop">\n                        <div class="plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop">\n                            <div style="vertical-align: inherit; background-color:white;">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                            <div style="vertical-align: inherit; background-color:white;">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="plHorizontalLayout plHorizontalContent plTextAlignCenter plVerticalAlignTop">\n                            <div style="vertical-align: inherit; background-color:white;">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                            <div style="vertical-align: inherit; background-color:white;">\n                                <div\n                                    class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentItemContainer">\n                                    <div\n                                        class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plPHPCardContentTextSquare plVerticalRepeaterItem">\n                                    </div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                    <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                        style="width: 100%;"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `}var e={__esModule:true};e.getNewsPagesPlaceholder=t;return e});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/cux/home/utils/placeholder/ToDosPlaceholder", [],function(){"use strict";function e(){return`\n        <div class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plContent plResponsivePadding" style="background-color:transparent">\n            <div class="plText sapMGTLoadingShimmer plTextWeightL plTextWidthM plPHPCardHeaderText" style="width: 225px;">\n            </div>\n            <div class="plPHPCardContainer plPHPCardContainerOverflowHidden plSectionMarginBottom">\n                <div class="plPHPCard plPHPCardVersion1 PHPContentCard1" style="background-color:white">\n                    <div class="plPHPCardHeader">\n                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText"\n                            style="width: 100%;"></div>\n                    </div>\n                    <div class="plPHPCardContent">\n                        <div style="vertical-align: inherit;">\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer">\n                                <div class="plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                    style="width: 80%;"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plPHPCard plPHPCardVersion1 PHPContentCard2" style="background-color:white">\n                    <div class="plPHPCardHeader">\n                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText"\n                            style="width: 100%;"></div>\n                    </div>\n                    <div class="plPHPCardContent">\n                        <div style="vertical-align: inherit;">\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer">\n                                <div class="plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                    style="width: 80%;"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plPHPCard plPHPCardVersion1 PHPContentCard3 plSmallestVisibleSizeL" style="background-color:white">\n                    <div class="plPHPCardHeader">\n                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText"\n                            style="width: 100%;"></div>\n                    </div>\n                    <div class="plPHPCardContent">\n                        <div style="vertical-align: inherit;">\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer">\n                                <div class="plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                    style="width: 80%;"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="plPHPCard plPHPCardVersion1 PHPContentCard4 plSmallestVisibleSizeXL" style="background-color:white">\n                    <div class="plPHPCardHeader">\n                        <div class="plText sapMGTLoadingShimmer plTextWeightM plTextWidthM plPHPCardHeaderText"\n                            style="width: 100%;"></div>\n                    </div>\n                    <div class="plPHPCardContent">\n                        <div style="vertical-align: inherit;">\n                            <div\n                                class="plVerticalLayout plVerticalContent plTextAlignStart plVerticalAlignTop plVerticalRepeater plPHPCardContentContainer">\n                                <div class="plText sapMGTLoadingShimmer plTextWeightS plTextWidthM plPHPCardContentText plVerticalRepeaterItem"\n                                    style="width: 80%;"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `}var t={__esModule:true};t.getTodosPlaceholder=e;return t});
sap.ui.require.preload({
	"sap/cux/home/interface/AppsInterface.js":function(){

},
	"sap/cux/home/interface/KeyUserInterface.js":function(){

},
	"sap/cux/home/interface/LayoutInterface.js":function(){

},
	"sap/cux/home/interface/PageSpaceInterface.js":function(){

},
	"sap/cux/home/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.cux.home","type":"library","embeds":[],"applicationVersion":{"version":"1.141.0"},"title":"UI5 library: sap.cux.home","description":"UI5 library: sap.cux.home","ach":"CA-UI5-CUX","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"},"sap.m":{"minVersion":"1.141.0"},"sap.ui.integration":{"minVersion":"1.141.0"},"sap.insights":{"minVersion":"1.141.0"}}},"library":{"i18n":{"bundleUrl":"i18n/messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.cux.home.Layout","sap.cux.home.ToDosContainer","sap.cux.home.NewsAndPagesContainer","sap.cux.home.AppsContainer","sap.cux.home.InsightsContainer"],"elements":["sap.cux.home.MenuItem","sap.cux.home.TaskPanel","sap.cux.home.SituationPanel","sap.cux.home.PagePanel","sap.cux.home.NewsPanel","sap.cux.home.FavAppPanel","sap.cux.home.FrequentAppPanel","sap.cux.home.RecentAppPanel","sap.cux.home.RecommendedAppPanel","sap.cux.home.TilesPanel","sap.cux.home.CardsPanel"],"types":["sap.cux.home.OrientationType","sap.cux.home.NewsType"],"interfaces":[]}}}}',
	"sap/cux/home/utils/fragment/appsAdditionContent.fragment.xml":'\n<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:fesr="http://schemas.sap.com/sapui5/extension/sap.ui.core.FESR/1"><VBox id="container" height="100%" renderType="Bare"><VBox id="headerContent" class="headerContent" backgroundDesign="Solid"><Text id="appsAdditionDescription" text="{i18n>addAppsSearchDescription}" /><HBox id="searchContainer" class="sapUiTinyMarginTop" renderType="Bare" justifyContent="SpaceBetween" gap="0.5rem"><TextArea\n\t\t\t\t\tid="searchTextArea"\n\t\t\t\t\trows="2"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\tmaxLength="500"\n\t\t\t\t\tvalueLiveUpdate="true"\n\t\t\t\t\tshowExceededText="true"\n\t\t\t\t\tliveChange=".onSearchTextAreaLiveChange"\n\t\t\t\t\tplaceholder="{i18n>searchPlaceholder}"\n\t\t\t\t\tenabled="{= ${/searchStatus} !== \'searching\' }"\n\t\t\t\t\tvalue="{ path: \'/query\', mode: \'TwoWay\' }"\n\t\t\t\t/><Button\n\t\t\t\t\tid="goBtn"\n\t\t\t\t\ttext="{i18n>goButton}"\n\t\t\t\t\tenabled="{= ${/searchStatus} !== \'searching\' &amp;&amp; !${/invalidQuery} }"\n\t\t\t\t\tpress=".onPressGo"\n\t\t\t\t\tfesr:press="myh:apps:go"\n\t\t\t\t/><Button\n\t\t\t\t\tid="clearAllBtn"\n\t\t\t\t\ttext="{i18n>clearAllButton}"\n\t\t\t\t\tenabled="{= ${/searchStatus} !== \'searching\' &amp;&amp; ${/query/length} &gt; 0 }"\n\t\t\t\t\tpress=".resetPanel"\n\t\t\t\t\tfesr:press="myh:apps:clearAll"\n\t\t\t\t\ttype="Transparent"\n\t\t\t\t/></HBox><VBox id="sampleQueriesContainer" renderType="Bare" visible="{= ${/searchStatus} === \'idle\' }" class="sapUiTinyMarginBottom"><HBox id="sampleQueriesHeader" alignItems="Center" renderType="Bare"><core:Icon src="sap-icon://sys-help" color="Neutral" size="0.875rem" class="sapUiTinyMarginEnd" /><Label id="sampleQueries" text="{i18n>sampleQueries}" /></HBox><VBox\n\t\t\t\t\tid="sampleQueriesList"\n\t\t\t\t\trenderType="Bare"\n\t\t\t\t\titems="{/sampleQueries}"\n\t\t\t\t\tjustifyContent="SpaceBetween"\n\t\t\t\t\tclass="sapUiTinyMarginTop"\n\t\t\t\t><HBox id="sampleQuery" renderType="Bare"><FormattedText\n\t\t\t\t\t\t\tid="number"\n\t\t\t\t\t\t\thtmlText="&lt;em style=\'color:var(--sapContent_LabelColor)\'&gt;{index}.&lt;/em&gt;"\n\t\t\t\t\t\t\tclass="sapUiTinyMarginTop sapUiTinyMarginEnd"\n\t\t\t\t\t\t/><FormattedText\n\t\t\t\t\t\t\tid="query"\n\t\t\t\t\t\t\thtmlText="&lt;em style=\'color:var(--sapContent_LabelColor)\'&gt;{query}&lt;/em&gt;"\n\t\t\t\t\t\t\tclass="sapUiTinyMarginTop"\n\t\t\t\t\t\t/></HBox></VBox></VBox></VBox><VBox id="resultContent" renderType="Bare"><VBox id="resultHeader" renderType="Bare" class="sapUiSmallMarginBeginEnd sapUiSmallMarginBottom"><HBox renderType="Bare" alignItems="Center" justifyContent="SpaceBetween" width="100%"><Title\n\t\t\t\t\t\tid="resultTitle"\n\t\t\t\t\t\ttext="{= ${/suggestedAppsCount} > 0 ? ${i18n>resultTitle} + \' (\' + ${/suggestedAppsCount} + \')\' : ${i18n>resultTitle} }"\n\t\t\t\t\t\ttitleStyle="H6"\n\t\t\t\t\t/><HBox\n\t\t\t\t\t\tid="footer"\n\t\t\t\t\t\trenderType="Bare"\n\t\t\t\t\t\tclass="footer"\n\t\t\t\t\t\talignItems="Center"\n\t\t\t\t\t\tvisible="{= !${/hasError} &amp;&amp; ${/searchStatus} === \'complete\' }"\n\t\t\t\t\t><Label id="createdwithAI" text="{/aiPolicyText}" class="sapUiTinyMarginEnd" /><ToggleButton\n\t\t\t\t\t\t\tid="thumbsUp"\n\t\t\t\t\t\t\ticon="sap-icon://thumb-up"\n\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\ttooltip="{i18n>thumbsUpButton}"\n\t\t\t\t\t\t\tpressed="{= ${/feedback/thumbsUp} }"\n\t\t\t\t\t\t\tpress=".sendFeedback(\'thumbsUp\')"\n\t\t\t\t\t\t\tfesr:press="myh:apps:thumbsUp"\n\t\t\t\t\t\t/><ToggleButton\n\t\t\t\t\t\t\tid="thumbsDown"\n\t\t\t\t\t\t\ticon="sap-icon://thumb-down"\n\t\t\t\t\t\t\ttype="Transparent"\n\t\t\t\t\t\t\ttooltip="{i18n>thumbsDownButton}"\n\t\t\t\t\t\t\tpressed="{= ${/feedback/thumbsDown} }"\n\t\t\t\t\t\t\tpress=".sendFeedback(\'thumbsDown\')"\n\t\t\t\t\t\t\tfesr:press="myh:apps:thumbsDown"\n\t\t\t\t\t\t\tclass="sapUiTinyMarginBegin"\n\t\t\t\t\t\t/></HBox></HBox><Text\n\t\t\t\t\tid="resultDescription"\n\t\t\t\t\ttext="{i18n>resultDescription}"\n\t\t\t\t\tvisible="{= !${/hasError} &amp;&amp; ${/searchStatus} === \'complete\' }"\n\t\t\t\t/><MessageStrip\n\t\t\t\t\tid="searchingMessage"\n\t\t\t\t\ttype="Information"\n\t\t\t\t\tshowIcon="true"\n\t\t\t\t\tclass="sapUiTinyMarginTop"\n\t\t\t\t\ttext="{i18n>searchingMessage}"\n\t\t\t\t\tvisible="{= ${/searchStatus} === \'searching\' }"\n\t\t\t\t/></VBox><ScrollContainer id="resultsContainer" vertical="true" class="suggestionListContainer"><VBox\n\t\t\t\t\tid="lodingAnimationContainer"\n\t\t\t\t\trenderType="Bare"\n\t\t\t\t\tgap="1rem"\n\t\t\t\t\tclass="sapUiSmallMarginBeginEnd"\n\t\t\t\t\titems="{/loadingAnimations}"\n\t\t\t\t\tvisible="{= ${/searchStatus} === \'searching\' }"\n\t\t\t\t><VBox id="animationItem" renderType="Bare" backgroundDesign="Solid" class="loadingAnimation"><core:HTML id="searchingAnimation" content="{}" /></VBox></VBox><List\n\t\t\t\t\tid="appsList"\n\t\t\t\t\tmode="MultiSelect"\n\t\t\t\t\tvisible="{= !${/hasError} &amp;&amp; ${/searchStatus} === \'complete\' }"\n\t\t\t\t\tselectionChange=".onListSelectionChange"\n\t\t\t\t\tclass="appSuggestionList"\n\t\t\t\t/></ScrollContainer><VBox\n\t\t\t\tid="beforeSearchContainer"\n\t\t\t\trenderType="Bare"\n\t\t\t\theight="23.3125rem"\n\t\t\t\tjustifyContent="Center"\n\t\t\t\tclass="illustratedMessageContainer"\n\t\t\t\tvisible="{= ${/searchStatus} === \'idle\' }"\n\t\t\t><IllustratedMessage\n\t\t\t\t\tid="beforeSearch"\n\t\t\t\t\tillustrationSize="Medium"\n\t\t\t\t\tsrc="sap-illustration://SimpleMagnifier"\n\t\t\t\t\tdescription="{i18n>beforeSearchDescription}"\n\t\t\t\t\tvisible="{= ${/searchStatus} === \'idle\' }"\n\t\t\t\t/></VBox><VBox\n\t\t\t\tid="errorContainer"\n\t\t\t\trenderType="Bare"\n\t\t\t\theight="29.3125rem"\n\t\t\t\tclass="illustratedMessageContainer"\n\t\t\t\tvisible="{/hasError}"\n\t\t\t\tjustifyContent="Center"\n\t\t\t><IllustratedMessage\n\t\t\t\t\tid="noResultsFound"\n\t\t\t\t\tillustrationSize="Medium"\n\t\t\t\t\ttitle="{i18n>validationErrorTitle}"\n\t\t\t\t\tdescription="{/errorDescription}"\n\t\t\t\t\tsrc="sap-illustration://SimpleNotFoundMagnifier"\n\t\t\t\t\tvisible="{= ${/errorType} === \'noResultsFound\' }"\n\t\t\t\t/><IllustratedMessage\n\t\t\t\t\tid="serviceError"\n\t\t\t\t\tillustrationSize="Medium"\n\t\t\t\t\ttitle="{i18n>serviceErrorTitle}"\n\t\t\t\t\tdescription="{/errorDescription}"\n\t\t\t\t\tillustrationType="sapIllus-SimpleConnection"\n\t\t\t\t\tvisible="{= ${/errorType} === \'serviceError\' }"\n\t\t\t\t/></VBox></VBox></VBox></core:FragmentDefinition>\n',
	"sap/cux/home/utils/fragment/showDecisionDialog.fragment.xml":'\n<Dialog\n\tid="decisionDialog"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:fesr="http://schemas.sap.com/sapui5/extension/sap.ui.core.FESR/1"\n\ttitle="{/dialogSettings/title}"\n\ttype="Message"\n\tariaDescribedBy="confirmDialogText"\n\tafterClose=".handleAfterClose"\n\tcontentWidth="22.375rem"\n\tcontentHeight="17.8125rem"\n\tclass="sapUiDecisionDialog"\n><customHeader><Bar id="decisionDialogHeader" class="sapUiDecisionDialogHeader"><contentLeft><VBox id="icon-container" renderType="Bare" justifyContent="Center" width="100%"><Avatar\n\t\t\t\t\t\tid="icon"\n\t\t\t\t\t\tbackgroundColor="Placeholder"\n\t\t\t\t\t\tsrc="sap-icon://workflow-tasks"\n\t\t\t\t\t\tdisplaySize="S"\n\t\t\t\t\t\tdisplayShape="Square"\n\t\t\t\t\t\tbadgeIcon="{/dialogSettings/badgeIcon}"\n\t\t\t\t\t\tbadgeValueState="{/dialogSettings/badgeValueState}"\n\t\t\t\t\t/></VBox></contentLeft><contentMiddle><VBox id="title-container" renderType="Bare" justifyContent="Start" class="sapUiDecisionDialogTitleContainer"><Text id="task-title" textAlign="Begin" text="{/dialogSettings/title}" /><Text id="task-priority-text" text="{/dialogSettings/priorityText}" class="sapUiTaskPriority" /></VBox></contentMiddle></Bar></customHeader><content><VBox id="decision-approval-container" renderType="Bare" visible="{= !${/dialogSettings/showFeedbackMessage} }"><Label id="confirmDialogText" text="{/dialogSettings/question}" /><FlexBox id="reasonOptionFlex" direction="Column" renderType="Bare"><items><Label\n\t\t\t\t\t\tid="label_reasonOptionsSelect"\n\t\t\t\t\t\ttext="{i18n>XFLD_ComboBox_Decision_Reason}"\n\t\t\t\t\t\trequired="{/dialogSettings/reasonOptionsSettings/required}"\n\t\t\t\t\t\tclass="sapUiSmallMarginTop"\n\t\t\t\t\t\tvisible="{/dialogSettings/reasonOptionsSettings/show}"\n\t\t\t\t\t\tlabelFor="reasonOptionsSelect"\n\t\t\t\t\t/><ComboBox\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\tselectedKey="defaultSelectedKey"\n\t\t\t\t\t\tid="reasonOptionsSelect"\n\t\t\t\t\t\tvisible="{/dialogSettings/reasonOptionsSettings/show}"\n\t\t\t\t\t\tvalueStateText="{i18n>XMSG_DECISION_REASON_ERR}"\n\t\t\t\t\t\tchange=".handleReasonOptionChange"\n\t\t\t\t\t\titems="{/dialogSettings/reasonOptionsSettings/reasonOptions}"\n\t\t\t\t\t><core:Item id="reasonItem" key="{Code}" text="{Name}" /></ComboBox><Label\n\t\t\t\t\t\tid="label_confirmDialogTextarea"\n\t\t\t\t\t\ttext="{/dialogSettings/textAreaLabel}"\n\t\t\t\t\t\trequired="{/dialogSettings/noteMandatory}"\n\t\t\t\t\t\tvisible="{/dialogSettings/showNote}"\n\t\t\t\t\t\tlabelFor="confirmDialogTextarea"\n\t\t\t\t\t\tclass="sapUiSmallMarginTop"\n\t\t\t\t\t/><TextArea\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\theight="12.2rem"\n\t\t\t\t\t\tid="confirmDialogTextarea"\n\t\t\t\t\t\tvisible="{/dialogSettings/showNote}"\n\t\t\t\t\t\tmaxLength="10000"\n\t\t\t\t\t\tliveChange="._toggleSubmitButtonState"\n\t\t\t\t\t/></items></FlexBox></VBox><VBox\n\t\t\tid="successMessageContainer"\n\t\t\tvisible="{/dialogSettings/showFeedbackMessage}"\n\t\t\trenderType="Bare"\n\t\t\theight="16rem"\n\t\t\tjustifyContent="Center"\n\t\t><IllustratedMessage\n\t\t\t\tid="successMessage"\n\t\t\t\tillustrationSize="Spot"\n\t\t\t\tillustrationType="sapIllus-BalloonSky"\n\t\t\t\tenableDefaultTitleAndDescription="false"\n\t\t\t\ttitle="{i18n>actionSuccess}"\n\t\t\t/></VBox></content><beginButton><Button\n\t\t\tid="confirmButton"\n\t\t\ttext="{/dialogSettings/confirmButtonLabel}"\n\t\t\tvisible="{= !${/dialogSettings/showFeedbackMessage} }"\n\t\t\ttype="Emphasized"\n\t\t\tenabled="{/submitButtonEnabled}"\n\t\t\tpress=".confirmActionHandler"\n\t\t\tfesr:press="submitDecisionDialog"\n\t\t/></beginButton><endButton><Button\n\t\t\tid="cancelButton"\n\t\t\ttext="{= ${/dialogSettings/showFeedbackMessage} ? ${i18n>XBUT_CLOSE} : ${i18n>XBUT_CANCEL} }"\n\t\t\tpress=".handleCancel"\n\t\t\tariaLabelledBy="successMessage"\n\t\t\tfesr:press="cancelDecisionDialog"\n\t\t/></endButton></Dialog>\n'
});
//# sourceMappingURL=library-preload.js.map
