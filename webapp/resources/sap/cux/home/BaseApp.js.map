{"version":3,"file":"BaseApp.js","names":["sap","ui","define","List","Popover","StandardListItem","sap_m_library","Element","___utils_FESRUtil","ListType","addFESRSemanticStepName","FESR_EVENTS","getFESRId","BaseApp","extend","metadata","library","properties","title","type","group","defaultValue","subTitle","bgColor","icon","status","aggregations","menuItems","multiple","singularName","visibility","constructor","_constructor","id","settings","Element.prototype.constructor.call","this","_onPress","event","sAction","getParameter","_handlePress","_loadActionsPopover","tile","getSource","actions","getAggregation","oPopover","ActionsPopover","get","onPopoverOpen","addStyleClass","onPopoverClose","removeStyleClass","detachBeforeOpen","detachAfterClose","attachBeforeOpen","attachAfterClose","openBy","_oMoreIcon","_closeActionsPopover","_popover","close","_actionsList","showHeader","placement","ariaLabelledBy","addContent","destroyItems","forEach","action","actionType","getType","oListItem","getId","getIcon","getTitle","tooltip","visible","press","oEvent","Navigation","firePress","listItem","PRESS","addItem"],"sources":["BaseApp.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport GenericTile, { GenericTile$PressEvent } from \"sap/m/GenericTile\";\nimport List from \"sap/m/List\";\nimport Popover from \"sap/m/Popover\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport { ListType } from \"sap/m/library\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport { $BaseAppSettings } from \"./BaseApp\";\nimport MenuItem from \"./MenuItem\";\nimport { addFESRSemanticStepName, FESR_EVENTS, getFESRId } from \"./utils/FESRUtil\";\n\n/**\n *\n * Base App class for managing and storing Apps.\n *\n * @extends sap.ui.core.Element\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121.0\n *\n * @abstract\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.BaseApp\n */\nexport default abstract class BaseApp extends Element {\n\tconstructor(idOrSettings?: string | $BaseAppSettings);\n\tconstructor(id?: string, settings?: $BaseAppSettings);\n\t/**\n\t * Constructor for a new Base App.\n\t *\n\t * @param {string} [id] ID for the new app, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new app\n\t */\n\tpublic constructor(id?: string, settings?: $BaseAppSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title of the app\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Sub header of the app\n\t\t\t */\n\t\t\tsubTitle: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Background color of the app\n\t\t\t */\n\t\t\tbgColor: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Icon of the app\n\t\t\t */\n\t\t\ticon: { type: \"string\", group: \"Misc\", defaultValue: \"\" },\n\t\t\t/**\n\t\t\t * Whether the app is in loaded or loading status\n\t\t\t */\n\t\t\tstatus: { type: \"string\", group: \"Misc\", defaultValue: \"Loaded\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * MenuItems aggregation of the app. These items will be shown in a popover on click of showMore\n\t\t\t */\n\t\t\tmenuItems: { type: \"sap.cux.home.MenuItem\", multiple: true, singularName: \"menuItem\", visibility: \"hidden\" }\n\t\t}\n\t};\n\n\tabstract _handlePress(event: GenericTile$PressEvent): void;\n\n\t/**\n\t * Base App Press Handler\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _onPress(event: GenericTile$PressEvent): void {\n\t\tconst sAction = event.getParameter(\"action\") || \"Press\";\n\t\tif (sAction === \"Press\") {\n\t\t\tthis._handlePress(event);\n\t\t} else if (sAction === \"More\") {\n\t\t\tthis._loadActionsPopover(event);\n\t\t}\n\t}\n\n\t/**\n\t * Loads Actions available for selected app tile in popover\n\t * @private\n\t * @param {GenericTile$PressEvent} event - The event object.\n\t */\n\tpublic _loadActionsPopover(event: GenericTile$PressEvent) {\n\t\tconst tile: GenericTile & { _oMoreIcon: Button } = event.getSource?.();\n\t\tconst actions = this.getAggregation(\"menuItems\") as MenuItem[];\n\t\tconst oPopover = ActionsPopover.get(actions);\n\t\t//Add Border around current tile\n\t\tconst onPopoverOpen = () => {\n\t\t\ttile.addStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t};\n\t\tconst onPopoverClose = () => {\n\t\t\ttile.removeStyleClass(\"sapThemeBrand-asOutlineColor\");\n\t\t\toPopover.detachBeforeOpen(onPopoverOpen);\n\t\t\toPopover.detachAfterClose(onPopoverClose);\n\t\t};\n\t\toPopover.attachBeforeOpen(onPopoverOpen);\n\t\toPopover.attachAfterClose(onPopoverClose);\n\t\toPopover.openBy(tile._oMoreIcon);\n\t}\n}\n\nexport class ActionsPopover {\n\tprivate static _popover: Popover;\n\tprivate static _actionsList: List;\n\n\tprivate constructor() {}\n\n\tstatic _closeActionsPopover() {\n\t\tActionsPopover._popover.close();\n\t}\n\n\t// Method to get the singleton instance\n\tstatic get(actions?: MenuItem[]): Popover {\n\t\tif (!ActionsPopover._popover) {\n\t\t\tActionsPopover._actionsList = new List({\n\t\t\t\tid: `appActionsList`\n\t\t\t});\n\t\t\tActionsPopover._popover = new Popover(`appActionsPopover`, {\n\t\t\t\tshowHeader: false,\n\t\t\t\tplacement: \"HorizontalPreferredRight\",\n\t\t\t\tariaLabelledBy: [`appActionsPopover`]\n\t\t\t})\n\t\t\t\t.addStyleClass(\"sapContrastPlus\")\n\t\t\t\t.addContent(ActionsPopover._actionsList);\n\t\t}\n\t\tActionsPopover._actionsList.destroyItems();\n\t\tactions?.forEach((action) => {\n\t\t\tconst actionType = action.getType() as ListType;\n\t\t\tconst oListItem = new StandardListItem(`${action.getId()}-index`, {\n\t\t\t\ticon: action.getIcon(),\n\t\t\t\ttitle: action.getTitle(),\n\t\t\t\ttooltip: action.getTitle(),\n\t\t\t\ttype: actionType,\n\t\t\t\tvisible: true,\n\t\t\t\tpress: (oEvent) => {\n\t\t\t\t\tif (actionType !== ListType.Navigation) {\n\t\t\t\t\t\tActionsPopover._closeActionsPopover();\n\t\t\t\t\t}\n\t\t\t\t\taction.firePress({ listItem: oEvent.getSource() });\n\t\t\t\t}\n\t\t\t});\n\t\t\taddFESRSemanticStepName(oListItem, FESR_EVENTS.PRESS, getFESRId(action));\n\t\t\tActionsPopover._actionsList.addItem(oListItem);\n\t\t});\n\t\treturn ActionsPopover._popover;\n\t}\n}\n"],"mappings":";;;;AAAAA,IAAAC,GAAAC,OAAA,0HAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,mBAUSC,EAAQH,EAAA,kBAKRI,EAAuBF,EAAA,iCAAEG,EAAWH,EAAA,qBAAEI,EAASJ,EAAA,aAExD,MAgB8BK,EAAgBN,EAAOO,OAAA,wBAapCC,SAA4B,CAC3CC,QAAS,eACTC,WAAY,CAIXC,MAAO,CAAEC,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAItDC,SAAU,CAAEH,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIzDE,QAAS,CAAEJ,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIxDG,KAAM,CAAEL,KAAM,SAAUC,MAAO,OAAQC,aAAc,IAIrDI,OAAQ,CAAEN,KAAM,SAAUC,MAAO,OAAQC,aAAc,WAExDK,aAAc,CAIbC,UAAW,CAAER,KAAM,wBAAyBS,SAAU,KAAMC,aAAc,WAAYC,WAAY,YAhC7FC,YAAW,SAAAC,EAACC,EAAaC,GAC/BC,6BAAAC,KAAMH,EAAIC,EACX,EAyCOG,SAAQ,SAAAA,EAACC,GACf,MAAMC,EAAUD,EAAME,aAAa,WAAa,QAChD,GAAID,IAAY,QAAS,CACxBH,KAAKK,aAAaH,EACnB,MAAO,GAAIC,IAAY,OAAQ,CAC9BH,KAAKM,oBAAoBJ,EAC1B,CACD,EAOOI,oBAAmB,SAAAA,EAACJ,GAC1B,MAAMK,EAA6CL,EAAMM,cACzD,MAAMC,EAAUT,KAAKU,eAAe,aACpC,MAAMC,EAAWC,EAAeC,IAAIJ,GAEpC,MAAMK,EAAgBA,KACrBP,EAAKQ,cAAc,iCAEpB,MAAMC,EAAiBA,KACtBT,EAAKU,iBAAiB,gCACtBN,EAASO,iBAAiBJ,GAC1BH,EAASQ,iBAAiBH,IAE3BL,EAASS,iBAAiBN,GAC1BH,EAASU,iBAAiBL,GAC1BL,EAASW,OAAOf,EAAKgB,WACtB,IAGM,MAAMX,EAIJjB,cAAe,CAEvB,2BAAO6B,GACNZ,EAAea,SAASC,OACzB,CAGA,UAAOb,CAAIJ,GACV,IAAKG,EAAea,SAAU,CAC7Bb,EAAee,aAAe,IAAI5D,EAAK,CACtC8B,GAAI,mBAELe,EAAea,SAAW,IAAIzD,EAAQ,oBAAqB,CAC1D4D,WAAY,MACZC,UAAW,2BACXC,eAAgB,CAAC,uBAEhBf,cAAc,mBACdgB,WAAWnB,EAAee,aAC7B,CACAf,EAAee,aAAaK,eAC5BvB,GAASwB,QAASC,IACjB,MAAMC,EAAaD,EAAOE,UAC1B,MAAMC,EAAY,IAAIpE,EAAiB,GAAGiE,EAAOI,gBAAiB,CACjElD,KAAM8C,EAAOK,UACbzD,MAAOoD,EAAOM,WACdC,QAASP,EAAOM,WAChBzD,KAAMoD,EACNO,QAAS,KACTC,MAAQC,IACP,GAAIT,IAAe9D,EAASwE,WAAY,CACvCjC,EAAeY,sBAChB,CACAU,EAAOY,UAAU,CAAEC,SAAUH,EAAOpC,iBAGtClC,EAAwB+D,EAAW9D,EAAYyE,MAAOxE,EAAU0D,IAChEtB,EAAee,aAAasB,QAAQZ,KAErC,OAAOzB,EAAea,QACvB,EACAhD,EAAAmC,iBAAA,OAlI6BnC,CAAO","ignoreList":[]}