/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/Bar","sap/m/Button","sap/m/library","sap/m/List","sap/m/Page","sap/m/SplitApp","sap/m/StandardListItem","sap/m/Title","sap/ui/core/Element","sap/ui/Device","./BaseSettingsDialog","./utils/Device"],function(t,e,i,s,n,o,a,r,l,p,h,g){"use strict";function d(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const c=i["SplitAppMode"];const u=d(h);const _=g["calculateDeviceType"];const m=g["DeviceType"];const f=u.extend("sap.cux.home.SettingsDialog",{renderer:{apiVersion:2},init:function t(){u.prototype.init.call(this);this._controlMap=new Map;this.setContentWidth("72rem");this.setStretch(false);this.setCustomHeader(this._setCustomHeader());this.addButton(new e(`${this.getId()}-close-btn`,{text:this._i18nBundle.getText("XBUT_CLOSE"),type:"Transparent",press:()=>this.close()}));this.addContent(new n(`${this.getId()}-settingsPage`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:this._getPageContent()}));this._attachResizeHandler()},_attachResizeHandler:function t(){p.resize.attachHandler(()=>{const t=_();this._splitApp.setMode(t===m.Desktop||t===m.LargeDesktop||t===m.XLargeDesktop?"ShowHideMode":"HideMode");this._showHamburger=undefined;const e=this._splitApp.isMasterShown();this._updateHeaderButtonVisibility(e)})},_setCustomHeader:function i(){this._menuBtn=new e(`${this.getId()}-menu-btn`,{icon:"sap-icon://menu2",tooltip:this._i18nBundle.getText("showMenu"),press:()=>this._toggleMasterPage(),visible:false});return new t(`${this.getId()}-header`,{contentLeft:[this._menuBtn],contentMiddle:[new r(`${this.getId()}-dialog-title`,{text:this._i18nBundle.getText("myHomeSettings"),level:"H1"})]})},_toggleMasterPage:function t(){const e=this._splitApp.isMasterShown();const i=this._deviceType||_();if(i===m.Mobile){this._splitApp.toMaster(this._masterPage.getId(),"slide");this._splitApp.showMaster()}else{if(e){this._splitApp.hideMaster();this._showHamburger=true}else{this._splitApp.showMaster();this._showHamburger=false}}this._updateHeaderButtonVisibility(!e)},_updateHeaderButtonVisibility:function t(e){const i=this._deviceType||_();if(i===m.Mobile){this._menuBtn.setVisible(!e)}else if(i===m.Tablet){if(p.orientation?.portrait){const t=this._i18nBundle.getText(e?"ToggleButtonHide":"ToggleButtonShow");if(t){this._menuBtn.setTooltip(t)}}this._menuBtn.setVisible(true)}else{let t=true;if(this._showHamburger===undefined){if(this._splitApp.isMasterShown()){t=false}}this._menuBtn.setVisible(t)}},_getPageContent:function t(){this._menuList=new s(`${this.getId()}-master-pages-list`,{mode:"SingleSelectMaster",itemPress:t=>this._navigateToDetailPage(t)}).addStyleClass("sapCuxMasterPageList");this._masterPage=new n(`${this.getId()}-master-page`,{title:this._i18nBundle.getText("myHomeSettings"),showHeader:false,content:[this._menuList]});this._splitApp=new o(`${this.getId()}-settingsApp`,{mode:"ShowHideMode",masterPages:[this._masterPage],masterButton:t=>this._hideNavigationButton(t)});return this._splitApp},_navigateToDetailPage:function t(e,i){const s=typeof e==="string"?e:e.getParameter?.("listItem");const n=this.getPanels()[0];const o=s?.data?.("key")||e||n?.getProperty("key");this.setProperty("selectedKey",o,true);const a=l.getElementById(`${o}-detail-page`);this._splitApp.toDetail(a.getId(),"slide");this._splitApp.hideMaster();if(this._splitApp.getMode()===c.ShowHideMode){this._updateHeaderButtonVisibility(false)}const r=this.getPanels().find(t=>t.getProperty("key")===o);r?.firePanelNavigated({context:i});this._menuList.removeSelections(true);const p=l.getElementById(`${o}-page-item`);setTimeout(()=>{this._menuList.setSelectedItem(p);p.focus()},0)},_hideNavigationButton:function t(e){const i=l.getElementById(`${e.getSource().getId()}-MasterBtn`);i?.destroy()},onBeforeRendering:function t(e){u.prototype.onBeforeRendering.call(this,e);this.getPanels().forEach(t=>{void this._getPageListItem(t).then(t=>this._menuList.addItem(t));this._splitApp.addDetailPage(this._getDetailPage(t))});const i=this.getProperty("selectedKey");const s=this.getProperty("context");this._navigateToDetailPage(i,s)},_getPageListItem:function t(e){try{const t=this;const i=`${e.getProperty("key")}-page-item`;let s=t._controlMap.get(i);if(!s){s=new a(i,{title:e.getProperty("title"),icon:e.getProperty("icon"),type:"Navigation",iconDensityAware:false});s.data("key",e.getProperty("key"));t._controlMap.set(i,s)}const n=s,o=n.setVisible;return Promise.resolve(e.isSupported()).then(function(t){o.call(n,t);return s})}catch(t){return Promise.reject(t)}},_getDetailPage:function t(e){const i=`${e.getProperty("key")}-detail-page`;if(!this._controlMap.get(i)){const t=new n(i,{title:e.getProperty("title"),backgroundDesign:"List",showHeader:e.getProperty("showHeader")});e.getActionButtons().forEach(e=>{t.addHeaderContent(e)});this._controlMap.set(i,t)}e.getAggregation("content").forEach(t=>this._controlMap.get(i).addContent(t));return this._controlMap.get(i)}});return f});
//# sourceMappingURL=SettingsDialog.js.map