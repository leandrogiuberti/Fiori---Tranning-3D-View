{"version":3,"file":"LayoutSettingsPanel-dbg.js","names":["sap","ui","define","Log","Button","Column","ColumnListItem","HBox","MessageBox","ObjectIdentifier","Table","Text","ToggleButton","VBox","Element","Icon","Lib","JSONModel","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Accessibility","___utils_Constants","___utils_DragDropUtils","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","getInvisibleText","SETTINGS_PANELS_KEYS","focusDraggedItem","PersonalisationUtils","LayoutSettingsPanel","extend","metadata","library","constructor","_constructor","id","settings","BaseSettingsPanel.prototype.constructor.call","_isCollapseHandlerAttached","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","LAYOUT","_i18nBundle","getText","_resetActionButton","getId","text","press","resetMyhomeSettings","addActionButton","addAggregation","_getContent","attachPanelNavigated","_loadSections","_manageSectionsChanges","createShowHideChangeFile","_createShowHideChangeFile","oControlEvent","_this","toggle","getSource","bValue","getPressed","oContext","getBindingContext","getObject","visible","_getPanel","getSections","find","section","completeId","sChangeType","UNHIDE","HIDE","oWrapperItem","getElementById","push","selectorElement","changeSpecificData","changeType","Promise","resolve","_saveManageSectionsDialog","then","setTimeout","adjustLayout","_switchToCollapsedViewIfRequired","e","reject","containers","layout","isLayoutExpanded","getProperty","expandedContainer","filter","container","_getCurrentExpandedElementName","toggleFullScreen","_getSelectedPanel","_this2","_calculateSectionsState","_orderedSections","JSON","parse","stringify","forEach","oSection","sContainerType","title","String","_controlModel","_layoutTable","setModel","bindItems","path","factory","_dndInvisibleText","isDestroyed","type","cells","alignItems","items","src","addStyleClass","justifyContent","width","tooltip","icon","enabled","event","pressed","ariaLabelledBy","attachEvent","_rearrangeLayoutIfRequired","currentLayoutElements","getItems","Array","isArray","_allLayoutElements","length","isOrderChanged","some","element","index","removeAllItems","addItem","oHeader","_setHeaderIntro","oTable","setLayoutTable","oInvisibleText","oContentVBox","renderType","control","addAriaLabelledBy","oHeaderText","oHeaderVBox","backgroundDesign","_setLayoutTable","columns","addDragDropConfigTo","onDropManageSections","_this3","_persistUserChanges","changes","appComponent","getOwnerComponent","tableModel","getModel","refresh","finally","mProperties","load","name","require","ControlPersonalizationWriteAPI","add","ignoreVariantManagement","aGeneratedChanges","save","selector","catch","oError","Error","error","message","_getActualIndex","expandedElementConfig","_getCurrentExpandedElement","targetContainer","splice","findIndex","_rearrangeLayoutElements","sourceIndex","targetIndex","sourceElement","sourceElements","values","next","value","updateFullScreenElement","indexOf","_onDropManageSections","oEvent","_this4","_temp2","iDropItemIndex","oWrapper","wrapperId","oDragItem","getParameter","draggedControl","iDragItemIndex","getParent","indexOfItem","oDropItem","droppedControl","_temp","sectionOrder","dragObject","dropObject","actualDragItemIndex","actualDropItemIndex","setSections","MOVE","movedElements","source","aggregation","target","draggedContainer","droppedContainer","_resetMyhomeSettings","_this5","show","QUESTION","actions","Action","CANCEL","onClose","oAction","_temp3","aChangesForDeletion","reset","selectors","changeTypes","resetSections","closeSettingsDialog"],"sources":["LayoutSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Log from \"sap/base/Log\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport Button from \"sap/m/Button\";\nimport Column from \"sap/m/Column\";\nimport ColumnListItem from \"sap/m/ColumnListItem\";\nimport HBox from \"sap/m/HBox\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport ObjectIdentifier from \"sap/m/ObjectIdentifier\";\nimport Table from \"sap/m/Table\";\nimport Text from \"sap/m/Text\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport Element from \"sap/ui/core/Element\";\nimport Icon from \"sap/ui/core/Icon\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport Lib from \"sap/ui/core/Lib\";\nimport { DropInfo$DropEvent } from \"sap/ui/core/dnd/DropInfo\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport BaseContainer from \"./BaseContainer\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel, { $BaseSettingsPanelSettings } from \"./BaseSettingsPanel\";\nimport Layout from \"./Layout\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IControlPersonalizationWriteAPI, IDragEvent, IElement, IManagePersChanges } from \"./interface/LayoutInterface\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { focusDraggedItem } from \"./utils/DragDropUtils\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Layout Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.LayoutSettingsPanel\n */\nexport default class LayoutSettingsPanel extends BaseSettingsPanel {\n\tprivate _layoutTable!: Table;\n\tpublic _i18nBundle!: ResourceBundle;\n\tprivate _orderedSections!: IElement[];\n\tprivate _manageSectionsChanges!: IManagePersChanges[];\n\tprivate _controlModel!: JSONModel;\n\tprivate _allLayoutElements!: BaseContainer[];\n\tprivate _isCollapseHandlerAttached: boolean = false;\n\tprivate _resetActionButton!: Button;\n\tprivate _dndInvisibleText!: InvisibleText;\n\n\tconstructor(id?: string | $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings);\n\tconstructor(id?: string, settings?: $BaseSettingsPanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.LAYOUT);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"layout\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://grid\");\n\t\tthis._resetActionButton = new Button({\n\t\t\tid: `${this.getId()}-layoutResetBtn`,\n\t\t\ttext: this._i18nBundle.getText(\"resetButton\"),\n\t\t\tpress: () => this.resetMyhomeSettings()\n\t\t});\n\t\t// Add button to actionButtons aggregation\n\t\tthis.addActionButton(this._resetActionButton);\n\t\t//setup layout content\n\t\tthis.addAggregation(\"content\", this._getContent());\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => void this._loadSections());\n\t\tthis._manageSectionsChanges = [];\n\t}\n\n\t/**\n\t * Method to set visibility of the container sections\n\t * Toggle button pressed event handler\n\t *\n\t * @private\n\t */\n\tprivate async createShowHideChangeFile(oControlEvent: Event): Promise<void> {\n\t\tconst toggle = oControlEvent.getSource<ToggleButton>();\n\t\tconst bValue = !toggle.getPressed();\n\t\tconst oContext = toggle.getBindingContext()?.getObject() as IElement;\n\n\t\toContext.visible = bValue;\n\t\t(this._getPanel() as Layout).getSections().find((section) => section.completeId === oContext.completeId)!.visible = bValue;\n\n\t\tconst sChangeType = bValue ? CHANGE_TYPES.UNHIDE : CHANGE_TYPES.HIDE;\n\t\tconst oWrapperItem = Element.getElementById(oContext.completeId) as BaseContainer;\n\n\t\tthis._manageSectionsChanges.push({\n\t\t\tselectorElement: oWrapperItem,\n\t\t\tchangeSpecificData: {\n\t\t\t\tchangeType: sChangeType\n\t\t\t}\n\t\t});\n\t\t// }\n\t\tawait this._saveManageSectionsDialog();\n\t\tsetTimeout(() => oWrapperItem.adjustLayout());\n\n\t\t// switch to collapsed view if the container is in expanded view\n\t\tif (!bValue) {\n\t\t\tthis._switchToCollapsedViewIfRequired([oWrapperItem]);\n\t\t}\n\t}\n\n\t/**\n\t * Switches the layout to collapsed view if the current container is in expanded view\n\t *\n\t * @private\n\t * @param {BaseContainer} container - container instance to check\n\t * @returns {void}\n\t */\n\tprivate _switchToCollapsedViewIfRequired(containers: BaseContainer[]): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedContainer = containers.filter(\n\t\t\t(container) => layout._getCurrentExpandedElementName() === container.getProperty(\"fullScreenName\")\n\t\t);\n\n\t\tif (isLayoutExpanded) {\n\t\t\tlayout.toggleFullScreen(expandedContainer[0]._getSelectedPanel());\n\t\t}\n\t}\n\n\t/**\n\t * Method to load the sections\n\t *\n\t * @private\n\t */\n\tprivate async _loadSections(): Promise<void> {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tawait layout._calculateSectionsState();\n\n\t\tthis._orderedSections = JSON.parse(JSON.stringify(layout.getSections())) as IElement[];\n\t\t// not a good way as there could be more than one insights container, discuss\n\t\tthis._orderedSections.forEach((oSection) => {\n\t\t\tif (oSection.sContainerType === \"sap.cux.home.InsightsContainer\" && !oSection.title) {\n\t\t\t\toSection.title = String(this._i18nBundle?.getText(\"insights\"));\n\t\t\t}\n\t\t});\n\t\tthis._controlModel = new JSONModel(this._orderedSections);\n\t\tthis._layoutTable.setModel(this._controlModel);\n\n\t\tthis._layoutTable.bindItems({\n\t\t\tpath: \"/\",\n\t\t\tfactory: (id) => {\n\t\t\t\tif (!this._dndInvisibleText || this._dndInvisibleText.isDestroyed()) {\n\t\t\t\t\tthis._dndInvisibleText = getInvisibleText(\n\t\t\t\t\t\tthis.getId() + \"--layoutDndText\",\n\t\t\t\t\t\tthis._i18nBundle.getText(\"keyPressAriaText\")\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn new ColumnListItem(`${id}--columnListItem`, {\n\t\t\t\t\ttype: \"Inactive\",\n\t\t\t\t\tcells: [\n\t\t\t\t\t\tnew HBox(`${id}--columnListHBox`, {\n\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\tnew Icon(`${id}--columnListIcon`, {\n\t\t\t\t\t\t\t\t\tsrc: \"sap-icon://vertical-grip\"\n\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiSmallMarginEnd\"),\n\t\t\t\t\t\t\t\tnew HBox(`${id}--columnListItemHBox`, {\n\t\t\t\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\tnew ObjectIdentifier(`${id}--columnListObjectIdentifier`, {\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\t\t\t\t\t\t\ttext: \"{text}\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: \"{title}\"\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tnew ToggleButton(`${id}--layoutSettingstoggleButton`, {\n\t\t\t\t\t\t\t\t\t\t\ttooltip:\n\t\t\t\t\t\t\t\t\t\t\t\t\"{= ${visible} ? '\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"hideBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\t\"' : '\" +\n\t\t\t\t\t\t\t\t\t\t\t\tthis._i18nBundle.getText(\"showBtn\") +\n\t\t\t\t\t\t\t\t\t\t\t\t\"' }\",\n\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://show\",\n\t\t\t\t\t\t\t\t\t\t\ttype: \"Emphasized\",\n\t\t\t\t\t\t\t\t\t\t\tenabled: \"{= !${blocked}}\",\n\t\t\t\t\t\t\t\t\t\t\tpress: (event: Event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tvoid this.createShowHideChangeFile(event);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tpressed: \"{= !${visible}}\",\n\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy: [\"selectLabel\"]\n\t\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMarginEnd sapUiTinyMarginTop\")\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tthis._dndInvisibleText\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t\t})\n\t\t\t\t\t],\n\t\t\t\t\tariaLabelledBy: [this._dndInvisibleText.getId()]\n\t\t\t\t}).addStyleClass(\"insightsListItem insightsListMargin\");\n\t\t\t}\n\t\t});\n\n\t\t// attach collapse event handler to rearrange layout elements if required\n\t\tif (!this._isCollapseHandlerAttached) {\n\t\t\tthis._isCollapseHandlerAttached = true;\n\t\t\tlayout.attachEvent(\"onCollapse\", () => this._rearrangeLayoutIfRequired());\n\t\t}\n\t}\n\n\t/**\n\t * Rearranges the layout elements if their order has changed.\n\t *\n\t * @private\n\t */\n\tprivate _rearrangeLayoutIfRequired(): void {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst currentLayoutElements = layout.getItems();\n\n\t\tif (Array.isArray(this._allLayoutElements) && currentLayoutElements.length === this._allLayoutElements.length) {\n\t\t\tconst isOrderChanged = currentLayoutElements.some((element, index) => {\n\t\t\t\treturn element.getId() !== this._allLayoutElements[index].getId();\n\t\t\t});\n\n\t\t\tif (isOrderChanged) {\n\t\t\t\tlayout.removeAllItems();\n\t\t\t\tthis._allLayoutElements.forEach((element) => {\n\t\t\t\t\tlayout.addItem(element);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel content.\n\t */\n\tprivate _getContent(): VBox {\n\t\tconst oHeader = this._setHeaderIntro();\n\t\tconst oTable = this.setLayoutTable();\n\t\tconst oInvisibleText = getInvisibleText(this.getId() + \"--titleText\", this._i18nBundle.getText(\"layout\"));\n\n\t\tconst oContentVBox = new VBox(this.getId() + \"--idNewsPageOuterVBoX\", {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\trenderType: \"Bare\",\n\t\t\titems: [oInvisibleText, oHeader, oTable]\n\t\t});\n\t\t[oInvisibleText, oHeader].forEach((control) => {\n\t\t\tthis._resetActionButton.addAriaLabelledBy(control.getId());\n\t\t});\n\t\treturn oContentVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Settings Panel Header.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Layout Settings Panel's Header content.\n\t */\n\tprivate _setHeaderIntro(): VBox {\n\t\tconst oHeaderText = new Text(this.getId() + \"--idCustLayoutText\", {\n\t\t\ttext: this._i18nBundle.getText(\"layoutIntroMsg\")\n\t\t});\n\t\tconst oHeaderVBox = new VBox(this.getId() + \"--idLayoutIntroText\", {\n\t\t\tbackgroundDesign: \"Solid\",\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\titems: [oHeaderText],\n\t\t\trenderType: \"Bare\"\n\t\t}).addStyleClass(\"sapUiSmallMargin\");\n\t\treturn oHeaderVBox;\n\t}\n\n\t/**\n\t * Returns the content for the Layout Table.\n\t *\n\t * @private\n\t * @returns {sap.ui.core.Control} The control containing the Layout Settings Panel'sTable.\n\t */\n\tprivate setLayoutTable(): Table {\n\t\tif (!this._layoutTable) {\n\t\t\tthis._layoutTable = new Table(this.getId() + \"--idManageSectionsTable\", {\n\t\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\t\titems: [],\n\n\t\t\t\tcolumns: [\n\t\t\t\t\tnew Column(this.getId() + \"--idSectionTitleColumn\", {\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}).addStyleClass(\"sapContrastPlus sapUiSmallMarginBeginEnd sapUiTinyMarginBottom\");\n\t\t\tthis.addDragDropConfigTo(this._layoutTable, (event) => void this.onDropManageSections(event));\n\t\t}\n\n\t\treturn this._layoutTable;\n\t}\n\n\t/**\n\t * Function to save section changes of MyHomeSettingsDialog\n\t *\n\t * @private\n\t */\n\tprivate async _saveManageSectionsDialog(): Promise<void> {\n\t\treturn this._persistUserChanges({\n\t\t\tchanges: this._manageSectionsChanges,\n\t\t\tappComponent: PersonalisationUtils.getOwnerComponent(this._getPanel() as Layout)\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconst tableModel = this._layoutTable.getModel() as JSONModel;\n\t\t\t\ttableModel.refresh();\n\t\t\t\tthis._controlModel.refresh();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis._manageSectionsChanges = [];\n\t\t\t});\n\t}\n\n\t/**\n\t * Function to persist user changes\n\t *\n\t * @private\n\t */\n\tprivate _persistUserChanges(mProperties: { changes: IManagePersChanges[]; appComponent: Component | undefined }): Promise<void> {\n\t\treturn Lib.load({ name: \"sap.ui.fl\" }).then(function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tsap.ui.require(\n\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\tfunction (ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) {\n\t\t\t\t\t\tControlPersonalizationWriteAPI.add({\n\t\t\t\t\t\t\tchanges: mProperties.changes,\n\t\t\t\t\t\t\tignoreVariantManagement: true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function (aGeneratedChanges) {\n\t\t\t\t\t\t\t\treturn resolve(\n\t\t\t\t\t\t\t\t\tControlPersonalizationWriteAPI.save({\n\t\t\t\t\t\t\t\t\t\tselector: {\n\t\t\t\t\t\t\t\t\t\t\tappComponent: mProperties.appComponent\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tchanges: aGeneratedChanges\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (oError) {\n\t\t\t\t\t\t\t\tif (oError instanceof Error) {\n\t\t\t\t\t\t\t\t\tLog.error(\"Unable to Save User Change: \" + oError.message);\n\t\t\t\t\t\t\t\t\treturn reject(oError);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the actual index of a layout element by its ID.\n\t *\n\t * @private\n\t * @param {string} id - The ID of the layout element to find.\n\t * @returns {number} The index of the layout element.\n\t */\n\tprivate _getActualIndex(id: string): number {\n\t\tconst layout = this._getPanel() as Layout;\n\t\tthis._allLayoutElements = this._allLayoutElements || [...layout.getItems()];\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\t// add the expanded element if it isn't already in the list\n\t\t\tif (!this._allLayoutElements.some((element) => element.getId() === expandedElementConfig.targetContainer.getId())) {\n\t\t\t\tthis._allLayoutElements.splice(expandedElementConfig.index, 0, expandedElementConfig.targetContainer);\n\t\t\t}\n\t\t}\n\n\t\treturn this._allLayoutElements.findIndex((element) => element.getId() === id);\n\t}\n\n\t/**\n\t * Rearranges the layout elements by moving an element from the source index to the target index.\n\t *\n\t * @private\n\t * @param {number} sourceIndex - The index of the element to move.\n\t * @param {number} targetIndex - The index to move the element to.\n\t */\n\tprivate _rearrangeLayoutElements(sourceIndex: number, targetIndex: number): void {\n\t\tconst container = this._allLayoutElements.splice(sourceIndex, 1)[0];\n\t\tthis._allLayoutElements.splice(targetIndex, 0, container);\n\n\t\t//update the index of the expanded element if in expanded mode\n\t\tconst layout = this._getPanel() as Layout;\n\t\tconst isLayoutExpanded = layout.getProperty(\"expanded\") as boolean;\n\t\tconst expandedElementConfig = layout._getCurrentExpandedElement();\n\t\tif (isLayoutExpanded && expandedElementConfig) {\n\t\t\tconst sourceElement = expandedElementConfig.sourceElements.values().next().value!;\n\t\t\tlayout.updateFullScreenElement(sourceElement, {\n\t\t\t\tindex: this._allLayoutElements.indexOf(expandedElementConfig.targetContainer)\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Function to execute drag and drop among sections\n\t *\n\t * @private\n\t */\n\tprivate async onDropManageSections(oEvent: DropInfo$DropEvent | IDragEvent): Promise<void> {\n\t\tconst oWrapper = this._getPanel() as Layout;\n\t\tconst wrapperId = oWrapper.getId();\n\t\tconst oDragItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"draggedControl\") ||\n\t\t\t(oEvent as IDragEvent).draggedControl) as ColumnListItem;\n\t\tconst iDragItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDragItem);\n\t\tconst oDropItem = ((oEvent as DropInfo$DropEvent).getParameter?.(\"droppedControl\") ||\n\t\t\t(oEvent as IDragEvent).droppedControl) as ColumnListItem;\n\t\tconst iDropItemIndex = (oDragItem.getParent() as Table)?.indexOfItem(oDropItem);\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tconst sectionOrder = this._orderedSections;\n\t\t\tconst dragObject = oDragItem.getBindingContext()?.getObject() as IElement;\n\t\t\tconst dropObject = oDropItem.getBindingContext()?.getObject() as IElement;\n\n\t\t\tconst actualDragItemIndex = this._getActualIndex(dragObject.completeId);\n\t\t\tconst actualDropItemIndex = this._getActualIndex(dropObject.completeId);\n\t\t\tthis._rearrangeLayoutElements(actualDragItemIndex, actualDropItemIndex);\n\n\t\t\tsectionOrder.splice(iDragItemIndex, 1);\n\t\t\tsectionOrder.splice(iDropItemIndex, 0, dragObject);\n\t\t\toWrapper.setSections(sectionOrder);\n\n\t\t\tthis._manageSectionsChanges.push({\n\t\t\t\tselectorElement: oWrapper,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.MOVE,\n\t\t\t\t\tmovedElements: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: dragObject.completeId,\n\t\t\t\t\t\t\tsourceIndex: actualDragItemIndex,\n\t\t\t\t\t\t\ttargetIndex: actualDropItemIndex\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tsource: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t},\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tid: wrapperId,\n\t\t\t\t\t\taggregation: \"items\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait this._saveManageSectionsDialog();\n\n\t\t\t//switch to collapsed view if any of the containers is in expanded view\n\t\t\tconst draggedContainer = Element.getElementById(dragObject.completeId) as BaseContainer;\n\t\t\tconst droppedContainer = Element.getElementById(dropObject.completeId) as BaseContainer;\n\t\t\tthis._switchToCollapsedViewIfRequired([draggedContainer, droppedContainer]);\n\t\t}\n\t\tfocusDraggedItem(this._layoutTable, iDropItemIndex);\n\t}\n\n\t/**\n\t * Function to reset MyHome settings changes\n\t *\n\t * @private\n\t */\n\tprivate resetMyhomeSettings(): void {\n\t\tMessageBox.show(this._i18nBundle.getText(\"reset_cards_confirmation_msg\") as string, {\n\t\t\tid: \"resetCardsConfirmation\",\n\t\t\ticon: MessageBox.Icon.QUESTION,\n\t\t\ttitle: this._i18nBundle.getText(\"reset_cards_confirmation_title\"),\n\t\t\tactions: [this._i18nBundle.getText(\"reset_cards_button\") as string, MessageBox.Action.CANCEL],\n\t\t\tonClose: async (oAction: string) => {\n\t\t\t\tif (oAction === this._i18nBundle.getText(\"reset_cards_button\")) {\n\t\t\t\t\tconst aChangesForDeletion: (BaseContainer | BaseLayout)[] = [];\n\n\t\t\t\t\tfor (let section of this._orderedSections) {\n\t\t\t\t\t\tconst element = Element.getElementById(section.completeId) as BaseContainer;\n\t\t\t\t\t\taChangesForDeletion.push(element);\n\t\t\t\t\t}\n\t\t\t\t\t// Revert Changes Related to DragnDrop\n\t\t\t\t\taChangesForDeletion.push(this._getPanel() as Layout);\n\t\t\t\t\tawait Lib.load({ name: \"sap.ui.fl\" }).then(() => {\n\t\t\t\t\t\tsap.ui.require(\n\t\t\t\t\t\t\t[\"sap/ui/fl/write/api/ControlPersonalizationWriteAPI\"],\n\t\t\t\t\t\t\t(ControlPersonalizationWriteAPI: IControlPersonalizationWriteAPI) => {\n\t\t\t\t\t\t\t\tvoid ControlPersonalizationWriteAPI.reset({\n\t\t\t\t\t\t\t\t\tselectors: aChangesForDeletion,\n\t\t\t\t\t\t\t\t\tchangeTypes: [CHANGE_TYPES.MOVE, CHANGE_TYPES.UNHIDE, CHANGE_TYPES.HIDE]\n\t\t\t\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t\t\t\tconst layout = this._getPanel() as Layout;\n\t\t\t\t\t\t\t\t\tlayout.resetSections();\n\t\t\t\t\t\t\t\t\tlayout.closeSettingsDialog();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[]}