{"version":3,"file":"PagePanel.js","names":["sap","ui","define","Button","FlexBox","GenericTile","IllustratedMessage","IllustratedMessageSize","IllustratedMessageType","VBox","sap_m_library","EventBus","__BasePagePanel","__MenuItem","__Page","___utils_CommonUtils","___utils_Constants","___utils_DataFormatUtils","___utils_Device","___utils_DragDropUtils","___utils_FESRUtil","__PersonalisationUtils","__UShellPersonalizer","_interopRequireDefault","obj","__esModule","default","LoadState","BasePagePanel","MenuItem","Page","getPageManagerInstance","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","recycleId","DeviceType","attachKeyboardHandler","focusDraggedItem","addFESRId","addFESRSemanticStepName","PersonalisationUtils","UShellPersonalizer","tileSizes","Mobile","maxWidth","minWidth","Tablet","Desktop","LargeDesktop","XLargeDesktop","smallTabletMinWidth","mobileOneTileLimit","maxTileCOunt","maxRowCount","CustomFlexBox","extend","renderer","apiVersion","metadata","library","aggregations","items","type","multiple","singularName","dnd","draggable","droppable","constructor","_constructor","id","settings","FlexBox.prototype.constructor.call","this","PagePanel","properties","title","group","visibility","key","pages","_constructor2","BasePagePanel.prototype.constructor.call","init","_init","_this","BasePagePanel.prototype.init.call","_oWrapperFlexBox","getId","justifyContent","height","width","direction","renderType","wrap","getPlaceholderPageTiles","addStyleClass","getDeviceType","_pageWrapper","addContent","setProperty","_i18nBundle","getText","menuItem","icon","press","_handleEditPages","addAggregation","oEventBus","getInstance","subscribe","sChannelId","sEventId","oData","aFavPages","Promise","resolve","writeFavPagesIntoPers","then","_getInnerControls","_importdone","e","reject","getData","stateData","status","publish","_getData","forceUpdate","_this2","_temp2","fireEvent","oPagePromise","_temp","undefined","_getPageManagerInstance","getFavoritePages","parent","getParent","_getLayout","openSettingsDialog","PAGES","_getPlaceholderPageTiles","placeholderArray","Array","fill","Loading","placeholderTiles","map","tileState","index","sizeBehavior","state","frameType","mode","visible","renderOnThemeChange","ariaRole","dropAreaOffset","attachResizeHandler","_attachResizeHandler","isNewsTileVisible","containerWidth","pagesContentWrapper","favPagesCount","length","deviceType","domRefClientWidth","tileWidth","hBoxWidth","finalTilesWidth","wrapperWidth","gap","setWidth","pagesPerRow","calculatePagesPerRow","maxTileWidth","minTileWidth","Math","min","max","_setPropertyValues","pagesTileWidth","err","Error","getUserAvailablePages","_getUserAvailablePages","_this3","fetchAllAvailablePages","_calculatePagesPerRow","isNewsFeedVisible","ceil","myFavPage","oInnerControls","oParent","forEach","oPage","push","subTitle","spaceTitle","bgColor","BGColor","pageId","spaceId","url","oFav","index2","header","getTitle","subheader","getSubTitle","onPageTilePress","backgroundColor","getBgColor","tileIcon","getIcon","getProperty","setAlignItems","dndConfigs","getDragDropConfig","panelLoadedFn","loaded","count","_setFavPagesContent","addDragDropConfigTo","oEvent","_handlePageDnd","removeAllDragDropConfig","dndConfig","destroy","_setNoPageContent","removeAggregation","removeAllItems","removeStyleClass","oTile","addItem","_createNoPageContent","_oIllusMsg","illustrationSize","Small","illustrationType","NoSavedItems","description","oAddPageBtn","text","tooltip","oWrapperNoPageVBox","backgroundDesign","addAdditionalContent","oVal","propNames","Object","keys","sProperty","_this4","sInsertPosition","getParameter","oDragItem","oDropItem","iDragItemIndex","indexOfItem","iDropItemIndex","_temp3","_DragnDropPages","_this5","oItemMoved","splice","updateTileOrder","_updateTileOrder","dragIndex","dropIndex","draggedItem","_writeFavPagesIntoPers","favPages","_this6","_temp5","oPersonalizer","read","oPersData","favouritePages","write","_temp4","getPersContainerId","getOwnerComponent","_UShellPersonalizer$g","applyColorPersonalizations","_applyColorPersonalizations","personalizations","applyIconPersonalizations","_applyIconPersonalizations","pageManagerInstance","getPageWrapper","_getPageWrapper"],"sources":["PagePanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport FlexBox, { $FlexBoxSettings } from \"sap/m/FlexBox\";\nimport GenericTile from \"sap/m/GenericTile\";\nimport IllustratedMessage from \"sap/m/IllustratedMessage\";\nimport IllustratedMessageSize from \"sap/m/IllustratedMessageSize\";\nimport IllustratedMessageType from \"sap/m/IllustratedMessageType\";\nimport VBox from \"sap/m/VBox\";\nimport { LoadState } from \"sap/m/library\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport { DropInfo$DropEventParameters } from \"sap/ui/core/dnd/DropInfo\";\nimport type { $BasePagePanelSettings } from \"./BasePagePanel\";\nimport BasePagePanel from \"./BasePagePanel\";\nimport MenuItem from \"./MenuItem\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport Page from \"./Page\";\nimport { ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IPage } from \"./interface/PageSpaceInterface\";\nimport { getPageManagerInstance } from \"./utils/CommonUtils\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport { DeviceType } from \"./utils/Device\";\nimport { attachKeyboardHandler, focusDraggedItem } from \"./utils/DragDropUtils\";\nimport { addFESRId, addFESRSemanticStepName } from \"./utils/FESRUtil\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\nimport UShellPersonalizer from \"./utils/UshellPersonalizer\";\n\nconst tileSizes = {\n\tMobile: {\n\t\tmaxWidth: 37.5,\n\t\tminWidth: 8\n\t},\n\tTablet: {\n\t\tmaxWidth: 60,\n\t\tminWidth: 10.625\n\t},\n\tDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tXLargeDesktop: {\n\t\tmaxWidth: 18.75,\n\t\tminWidth: 7\n\t},\n\tsmallTabletMinWidth: 8\n};\n\nconst mobileOneTileLimit = 3;\nconst maxTileCOunt = 8;\nconst maxRowCount = 4;\n\n/**\n *\n * CustomFlexBox extending FlexBox to enable drag & drop.\n *\n * @extends sap.m.FlexBox\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n * @private\n *\n * @alias sap.cux.home.CustomFlexBox\n */\nclass CustomFlexBox extends FlexBox {\n\tconstructor(idOrSettings?: string | $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings);\n\tconstructor(id?: string, settings?: $FlexBoxSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\taggregations: {\n\t\t\titems: { type: \"sap.ui.core.Control\", multiple: true, singularName: \"item\", dnd: { draggable: true, droppable: true } }\n\t\t}\n\t};\n\tstatic renderer = {\n\t\tapiVersion: 2\n\t};\n}\n\n/**\n *\n * Panel class for managing and storing Pages.\n *\n * @extends sap.cux.home.BasePagePanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.122\n *\n * @private\n * @ui5-restricted ux.eng.s4producthomes1\n *\n * @alias sap.cux.home.PagePanel\n */\n\nexport default class PagePanel extends BasePagePanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\",\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Title for the page panel\n\t\t\t */\n\t\t\ttitle: { type: \"string\", group: \"Misc\", visibility: \"hidden\" },\n\t\t\t/**\n\t\t\t * Key for the page panel\n\t\t\t */\n\t\t\tkey: { type: \"string\", group: \"Misc\", visibility: \"hidden\" }\n\t\t},\n\t\taggregations: {\n\t\t\t/**\n\t\t\t * Aggregation of pages available within the page panel\n\t\t\t */\n\t\t\tpages: { type: \"sap.cux.home.Page\", singularName: \"page\", multiple: true, visibility: \"hidden\" }\n\t\t}\n\t};\n\tprivate _oWrapperFlexBox!: CustomFlexBox;\n\tprivate _pageWrapper!: VBox;\n\tprivate oPagePromise!: Promise<IPage[]> | null;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate aFavPages!: IPage[];\n\tprivate oInnerControls!: GenericTile[];\n\tprivate _oIllusMsg!: IllustratedMessage;\n\tprivate oWrapperNoPageVBox!: VBox;\n\tprivate oAddPageBtn!: Button;\n\tprivate oPersonalizer!: UShellPersonalizer;\n\tprivate oEventBus!: EventBus;\n\n\t/**\n\t * Constructor for a new Page panel.\n\t *\n\t * @param {string} [id] ID for the new control, generated automatically if an ID is not provided\n\t * @param {object} [settings] Initial settings for the new control\n\t */\n\tpublic constructor(id?: string, settings?: $BasePagePanelSettings) {\n\t\tsuper(id, settings);\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis._oWrapperFlexBox = new CustomFlexBox(`${this.getId()}-pageWrapper`, {\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\",\n\t\t\trenderType: \"Bare\",\n\t\t\twrap: \"Wrap\",\n\t\t\titems: this.getPlaceholderPageTiles()\n\t\t}).addStyleClass(\"pagesFlexGap sapCuxPagesWrapper\");\n\n\t\tif (this.getDeviceType() !== DeviceType.Mobile) {\n\t\t\tthis._oWrapperFlexBox.addStyleClass(\"sapUiSmallMarginTop\");\n\t\t}\n\n\t\tthis._pageWrapper = new VBox(`${this.getId()}-pageContentWrapper`, { items: [this._oWrapperFlexBox] });\n\t\tthis.addContent(this._pageWrapper);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pageTitle\"));\n\n\t\tconst menuItem = new MenuItem(`${this.getId()}-managePages`, {\n\t\t\ttitle: this._i18nBundle.getText(\"mngPage\"),\n\t\t\ticon: \"sap-icon://edit\",\n\t\t\tpress: () => this._handleEditPages()\n\t\t});\n\t\tthis.addAggregation(\"menuItems\", menuItem);\n\t\taddFESRId(menuItem, \"managePages\");\n\t\tthis.oEventBus = EventBus.getInstance();\n\t\t// Subscribe to the event\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"importChannel\",\n\t\t\t\"favPagesImport\",\n\t\t\tasync (sChannelId?: string, sEventId?: string, oData?) => {\n\t\t\t\tthis.aFavPages = oData as IPage[];\n\t\t\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\t\t\tthis._getInnerControls();\n\t\t\t\tthis._importdone();\n\t\t\t},\n\t\t\tthis\n\t\t);\n\n\t\t// Subscribe to page changes from pageManager\n\t\tthis.oEventBus.subscribe(\n\t\t\t\"pageChannel\",\n\t\t\t\"pageUpdated\",\n\t\t\t() => {\n\t\t\t\tvoid this.getData(true);\n\t\t\t},\n\t\t\tthis\n\t\t);\n\t}\n\n\tprivate _importdone() {\n\t\tconst stateData = { status: true };\n\t\tthis.oEventBus.publish(\"importChannel\", \"favPagesImported\", stateData);\n\t}\n\n\tpublic async getData(forceUpdate: boolean = false) {\n\t\tif (this.oPagePromise === undefined || this.oPagePromise === null || forceUpdate) {\n\t\t\tthis.oPagePromise = this._getPageManagerInstance().getFavoritePages();\n\t\t\tconst aFavPages = await this.oPagePromise;\n\t\t\tthis.aFavPages = aFavPages;\n\t\t\tthis._getInnerControls();\n\t\t\tthis.oPagePromise = null;\n\t\t}\n\t\tthis.fireEvent(\"loaded\");\n\t\treturn this.oPagePromise;\n\t}\n\n\t/**\n\t * Handles the edit page event.\n\t * Opens the page dialog for managing page data.\n\t * @param {Event} oEvent - The event object.\n\t * @private\n\t */\n\tprivate _handleEditPages() {\n\t\tconst parent = this.getParent() as NewsAndPagesContainer;\n\t\tparent?._getLayout().openSettingsDialog(SETTINGS_PANELS_KEYS.PAGES);\n\t}\n\n\t/**\n\t * returns an array of placeholder generic tiles for pages\n\t * @private\n\t */\n\tprivate getPlaceholderPageTiles(): GenericTile[] {\n\t\tconst placeholderArray = new Array(PAGE_SELECTION_LIMIT).fill(LoadState.Loading) as LoadState[];\n\t\tconst placeholderTiles = placeholderArray.map((tileState: LoadState, index) => {\n\t\t\treturn new GenericTile(recycleId(`${this.getId()}--${index}`), {\n\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\tstate: tileState,\n\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\tmode: \"IconMode\",\n\t\t\t\tvisible: true,\n\t\t\t\trenderOnThemeChange: true,\n\t\t\t\tariaRole: \"listitem\",\n\t\t\t\tdropAreaOffset: 8\n\t\t\t}).addStyleClass(\"cuxPagesPlaceholder\");\n\t\t});\n\t\treturn placeholderTiles;\n\t}\n\n\tpublic attachResizeHandler(\n\t\tisNewsTileVisible: boolean,\n\t\tcontainerWidth: number,\n\t\tpagesContentWrapper: FlexBox\n\t): void {\n\t\ttry {\n\t\t\tconst favPagesCount = this.aFavPages?.length,\n\t\t\t\tdeviceType = this.getDeviceType();\n\n\t\t\tlet domRefClientWidth = containerWidth;\n\t\t\tif (\n\t\t\t\t(deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) &&\n\t\t\t\tisNewsTileVisible\n\t\t\t) {\n\t\t\t\tdomRefClientWidth = containerWidth / 2;\n\t\t\t}\n\n\t\t\tif (!domRefClientWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet tileWidth,\n\t\t\t\thBoxWidth: string,\n\t\t\t\tfinalTilesWidth: string,\n\t\t\t\twrapperWidth = domRefClientWidth / 16; // Divide by 16 to convert to rem,\n\t\t\tconst gap = 1;\n\t\t\tpagesContentWrapper.setWidth(\"100%\");\n\n\t\t\tif (favPagesCount > 0) {\n\t\t\t\tconst pagesPerRow = this.calculatePagesPerRow(favPagesCount, isNewsTileVisible);\n\t\t\t\tif (pagesPerRow) {\n\t\t\t\t\tconst maxTileWidth = tileSizes[deviceType].maxWidth;\n\t\t\t\t\tlet minTileWidth = tileSizes[deviceType].minWidth;\n\t\t\t\t\t// when tablet viewport width is below 800px, 46rem(736px) is the container width and 2 rem is paddings\n\t\t\t\t\tif (deviceType === DeviceType.Tablet && containerWidth < 736) {\n\t\t\t\t\t\tminTileWidth = tileSizes.smallTabletMinWidth;\n\t\t\t\t\t}\n\t\t\t\t\ttileWidth = (wrapperWidth - (pagesPerRow - 1) * gap) / pagesPerRow;\n\t\t\t\t\ttileWidth = Math.min(tileWidth, maxTileWidth);\n\t\t\t\t\ttileWidth = Math.max(tileWidth, minTileWidth);\n\t\t\t\t\tfinalTilesWidth = `${tileWidth}rem`;\n\t\t\t\t\thBoxWidth = `${pagesPerRow * tileWidth + (pagesPerRow - 1) * gap}rem`;\n\t\t\t\t} else {\n\t\t\t\t\tfinalTilesWidth = \"auto\";\n\t\t\t\t\thBoxWidth = \"100%\";\n\t\t\t\t}\n\n\t\t\t\tthis._setPropertyValues({ hBoxWidth: hBoxWidth, pagesTileWidth: finalTilesWidth });\n\t\t\t\tpagesContentWrapper.setWidth(hBoxWidth);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (err instanceof Error) {\n\t\t\t\tconsole.error(err.message);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic async getUserAvailablePages() {\n\t\treturn await this._getPageManagerInstance().fetchAllAvailablePages();\n\t}\n\n\tprivate calculatePagesPerRow(favPagesCount: number, isNewsFeedVisible: boolean): number {\n\t\tlet pagesPerRow = 0;\n\t\tconst deviceType = this.getDeviceType();\n\t\tif (deviceType === DeviceType.Desktop || deviceType === DeviceType.LargeDesktop || deviceType === DeviceType.XLargeDesktop) {\n\t\t\tif (isNewsFeedVisible) {\n\t\t\t\t// halves the tiles in 2 rows\n\t\t\t\tpagesPerRow = Math.ceil(favPagesCount >= maxTileCOunt ? maxRowCount : favPagesCount / 2);\n\t\t\t} else {\n\t\t\t\tpagesPerRow = favPagesCount;\n\t\t\t}\n\t\t} else if (deviceType === DeviceType.Mobile) {\n\t\t\t// decides number of columns to either 1 or 2\n\t\t\tpagesPerRow = favPagesCount <= mobileOneTileLimit ? 1 : 2;\n\t\t} else if (deviceType === DeviceType.Tablet) {\n\t\t\t// upto 4 in a Row, otherwise halves the tiles in 2 rows\n\t\t\tpagesPerRow = favPagesCount <= maxRowCount ? favPagesCount : Math.ceil(favPagesCount / 2);\n\t\t}\n\t\treturn pagesPerRow;\n\t}\n\n\tprivate _getInnerControls() {\n\t\tconst myFavPage: Page[] = [];\n\t\tthis.oInnerControls = [];\n\t\tconst oParent = this.getParent() as NewsAndPagesContainer;\n\t\tif (this.aFavPages) {\n\t\t\tthis.aFavPages.forEach((oPage: IPage, index: number) => {\n\t\t\t\tmyFavPage.push(\n\t\t\t\t\tnew Page(recycleId(`${this.getId()}-favPage-${index}`), {\n\t\t\t\t\t\ttitle: oPage.title,\n\t\t\t\t\t\tsubTitle: oPage.title === oPage.spaceTitle ? \"\" : oPage.spaceTitle,\n\t\t\t\t\t\ticon: oPage.icon,\n\t\t\t\t\t\tbgColor: oPage.BGColor as string,\n\t\t\t\t\t\tpageId: oPage.pageId,\n\t\t\t\t\t\tspaceId: oPage.spaceId,\n\t\t\t\t\t\tspaceTitle: oPage.spaceTitle,\n\t\t\t\t\t\turl: \"#Launchpad-openFLPPage?pageId=\" + oPage.pageId + \"&spaceId=\" + oPage.spaceId\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyFavPage.forEach((oFav: Page, index2: number) => {\n\t\t\t\tthis.oInnerControls.push(\n\t\t\t\t\tnew GenericTile(recycleId(`${oFav.getId()}--genericTile--${index2}`), {\n\t\t\t\t\t\t// width: \"10rem\",\n\t\t\t\t\t\theader: oFav.getTitle(),\n\t\t\t\t\t\tsubheader: oFav.getSubTitle(),\n\t\t\t\t\t\tpress: () => void oFav.onPageTilePress(oFav),\n\t\t\t\t\t\tsizeBehavior: \"Responsive\",\n\t\t\t\t\t\tstate: \"Loaded\",\n\t\t\t\t\t\tframeType: \"OneByOne\",\n\t\t\t\t\t\tmode: \"IconMode\",\n\t\t\t\t\t\tbackgroundColor: oFav.getBgColor(),\n\t\t\t\t\t\ttileIcon: oFav.getIcon(),\n\t\t\t\t\t\tvisible: true,\n\t\t\t\t\t\trenderOnThemeChange: true,\n\t\t\t\t\t\tariaRole: \"listitem\",\n\t\t\t\t\t\tdropAreaOffset: 8,\n\t\t\t\t\t\turl: oFav.getProperty(\"url\") as string\n\t\t\t\t\t}).addStyleClass(\"sapCuxPageTile\")\n\t\t\t\t);\n\t\t\t\tthis.addAggregation(\"pages\", oFav, true);\n\t\t\t});\n\n\t\t\tthis._oWrapperFlexBox.setAlignItems(this.aFavPages.length == 1 ? \"Start\" : \"Center\");\n\t\t\tconst dndConfigs = this._oWrapperFlexBox.getDragDropConfig();\n\t\t\tif (this.aFavPages.length) {\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: this.aFavPages.length });\n\t\t\t\tthis._setFavPagesContent();\n\t\t\t\tif (!dndConfigs?.length)\n\t\t\t\t\tthis.addDragDropConfigTo(\n\t\t\t\t\t\tthis._oWrapperFlexBox,\n\t\t\t\t\t\t(oEvent) => void this._handlePageDnd(oEvent),\n\t\t\t\t\t\tasync (oEvent: KeyboardEvent) => {\n\t\t\t\t\t\t\tawait attachKeyboardHandler(oEvent, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis._oWrapperFlexBox.removeAllDragDropConfig();\n\t\t\t\tdndConfigs.forEach((dndConfig) => {\n\t\t\t\t\tdndConfig.destroy();\n\t\t\t\t});\n\t\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: true, count: 0 });\n\t\t\t\tthis._setNoPageContent();\n\t\t\t}\n\t\t} else {\n\t\t\toParent?.panelLoadedFn(\"Page\", { loaded: false, count: 0 });\n\t\t\tthis.removeAggregation(\"content\", this._oWrapperFlexBox);\n\t\t}\n\t}\n\n\tprivate _setFavPagesContent() {\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.removeStyleClass(\"pagesFlexBox\");\n\t\tthis.oInnerControls.forEach((oTile: GenericTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\tprivate _createNoPageContent() {\n\t\tif (!this._oIllusMsg) {\n\t\t\tthis._oIllusMsg = new IllustratedMessage(this.getId() + \"--idNoPages\", {\n\t\t\t\tillustrationSize: IllustratedMessageSize.Small,\n\t\t\t\tillustrationType: IllustratedMessageType.NoSavedItems,\n\t\t\t\ttitle: this._i18nBundle.getText(\"noDataPageTitle\"),\n\t\t\t\tdescription: this._i18nBundle.getText(\"noPageDescription\")\n\t\t\t}).addStyleClass(\"myHomeIllustratedMsg myHomeIllustratedMessageAlign\");\n\t\t\tthis.oAddPageBtn = new Button(this.getId() + \"--idAddPageBtn\", {\n\t\t\t\ttext: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttooltip: this._i18nBundle.getText(\"addPage\"),\n\t\t\t\ttype: \"Emphasized\",\n\t\t\t\tpress: () => this._handleEditPages()\n\t\t\t});\n\t\t\taddFESRSemanticStepName(this.oAddPageBtn, \"press\", \"addPages\");\n\t\t}\n\t}\n\n\tprivate _setNoPageContent() {\n\t\tif (!this.oWrapperNoPageVBox) {\n\t\t\tthis.oWrapperNoPageVBox = new VBox(recycleId(`${this.getId()}--wrapperNoPageVBox`), {\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"17rem\",\n\t\t\t\tbackgroundDesign: \"Solid\",\n\t\t\t\tjustifyContent: \"Center\"\n\t\t\t}).addStyleClass(\"sapUiRoundedBorder noCardsBorder\");\n\t\t\tthis._createNoPageContent();\n\t\t\tthis._oIllusMsg.addAdditionalContent(this.oAddPageBtn);\n\t\t\tthis.oWrapperNoPageVBox.addItem(this._oIllusMsg);\n\t\t}\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis._oWrapperFlexBox.addStyleClass(\"pagesFlexBox\");\n\t\tthis._oWrapperFlexBox.addItem(this.oWrapperNoPageVBox);\n\t}\n\n\tprivate _setPropertyValues(oVal: { hBoxWidth: string; pagesTileWidth: string }) {\n\t\tconst propNames = Object.keys(oVal);\n\t\tpropNames.forEach((sProperty: string) => {\n\t\t\tif (sProperty === \"hBoxWidth\") {\n\t\t\t\tthis._oWrapperFlexBox.setProperty(\"width\", oVal[sProperty]);\n\t\t\t} else if (sProperty === \"pagesTileWidth\" && this.oInnerControls.length) {\n\t\t\t\tthis.oInnerControls.forEach(function (oTile) {\n\t\t\t\t\toTile.setProperty(\"width\", oVal[sProperty]);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async _handlePageDnd(oEvent: Event<DropInfo$DropEventParameters>) {\n\t\tconst sInsertPosition = oEvent.getParameter?.(\"dropPosition\"),\n\t\t\toDragItem = oEvent?.getParameter?.(\"draggedControl\") as Control,\n\t\t\toDropItem = oEvent.getParameter(\"droppedControl\") as Control,\n\t\t\tiDragItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDragItem);\n\t\tlet iDropItemIndex = (oDragItem.getParent() as FlexBox)?.indexOfItem(oDropItem);\n\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex === iDropItemIndex - 1) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex === iDropItemIndex + 1) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\n\t\tif (iDragItemIndex !== iDropItemIndex) {\n\t\t\tawait this._DragnDropPages(iDragItemIndex, iDropItemIndex, sInsertPosition as string);\n\t\t}\n\t}\n\n\tprivate async _DragnDropPages(iDragItemIndex: number, iDropItemIndex: number, sInsertPosition: string) {\n\t\tif (sInsertPosition === \"Before\" && iDragItemIndex < iDropItemIndex) {\n\t\t\tiDropItemIndex--;\n\t\t} else if (sInsertPosition === \"After\" && iDragItemIndex > iDropItemIndex) {\n\t\t\tiDropItemIndex++;\n\t\t}\n\t\t// take the moved item from dragIndex and add to dropindex\n\t\tconst oItemMoved = this.aFavPages.splice(iDragItemIndex, 1)[0];\n\t\tthis.aFavPages.splice(iDropItemIndex, 0, oItemMoved);\n\t\tthis.updateTileOrder(iDragItemIndex, iDropItemIndex);\n\n\t\tawait this.writeFavPagesIntoPers(this.aFavPages);\n\t\tfocusDraggedItem(this._oWrapperFlexBox, iDropItemIndex);\n\t}\n\n\t/**\n\t * Updates the tile order in the UI after a drag-and-drop action.\n\t *\n\t * Moves a tile from `dragIndex` to `dropIndex` in the internal array\n\t * and re-renders the tile container to reflect the new order.\n\t *\n\t * @param {number} dragIndex - Index of the dragged tile.\n\t * @param {number} dropIndex - Index to insert the dragged tile.\n\t */\n\tprivate updateTileOrder(dragIndex: number, dropIndex: number) {\n\t\tconst [draggedItem] = this.oInnerControls.splice(dragIndex, 1);\n\t\tthis.oInnerControls.splice(dropIndex, 0, draggedItem);\n\t\tthis._oWrapperFlexBox.removeAllItems();\n\t\tthis.oInnerControls.forEach((oTile) => {\n\t\t\tthis._oWrapperFlexBox.addItem(oTile);\n\t\t});\n\t}\n\n\t/**\n\t * Writes the favourite pages data into personalizer\n\t *\n\t * @private\n\t * @async\n\t * @param {IPage[]} favPages\n\t * @returns {*}\n\t */\n\tprivate async writeFavPagesIntoPers(favPages: IPage[]) {\n\t\tif (this.oPersonalizer === undefined) {\n\t\t\tthis.oPersonalizer = await UShellPersonalizer.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this) as Component\n\t\t\t);\n\t\t}\n\n\t\tlet oPersData = await this.oPersonalizer.read();\n\t\tif (!oPersData) oPersData = { favouritePages: [] };\n\t\toPersData.favouritePages = favPages;\n\t\tawait this.oPersonalizer.write(oPersData);\n\t}\n\n\tpublic applyColorPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyColorPersonalizations(personalizations);\n\t}\n\n\tpublic applyIconPersonalizations(personalizations: Array<ISpacePagePersonalization>) {\n\t\tvoid this._getPageManagerInstance()?.applyIconPersonalizations(personalizations);\n\t}\n\n\tprivate _getPageManagerInstance() {\n\t\tthis.pageManagerInstance = this.pageManagerInstance || getPageManagerInstance(this);\n\t\treturn this.pageManagerInstance;\n\t}\n\n\t/**\n\t * Returns the wrapper FlexBox for the page panel.\n\t *\n\t * @returns {sap.m.FlexBox} The FlexBox that wraps the pages.\n\t * @private\n\t */\n\tpublic getPageWrapper(): FlexBox {\n\t\treturn this._oWrapperFlexBox;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}