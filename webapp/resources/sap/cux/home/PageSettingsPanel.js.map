{"version":3,"file":"PageSettingsPanel.js","names":["sap","ui","define","CustomListItem","HBox","List","Panel","SearchField","Text","Title","ToggleButton","Toolbar","ToolbarSpacer","VBox","__BaseSettingsPanel","___utils_Accessibility","___utils_Constants","___utils_DataFormatUtils","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","getInvisibleText","PAGE_SELECTION_LIMIT","SETTINGS_PANELS_KEYS","recycleId","PageManager","PersonalisationUtils","PageSettingsPanel","extend","constructor","prototype","apply","this","arguments","_initialNavigation","init","_init","BaseSettingsPanel.prototype.init.call","setProperty","PAGES","_i18nBundle","getText","oWrapperVBox","getId","width","addStyleClass","addAggregation","attachPanelNavigated","onPanelNavigated","_onPanelNavigated","_this","_temp2","oSearchField","getValue","setValue","sSearchQuery","_renderPages","aSpaces","_temp","Promise","resolve","_initializePanel","then","e","reject","_this2","PageManagerInstance","getInstance","getPersContainerId","_getPanel","getOwnerComponent","fetchAllAvailablePages","_this2$PageManagerIns","aAllPages","getFavoritePages","_this2$PageManagerIns2","aFavPages","fetchAllAvailableSpaces","_this2$PageManagerIns3","_showMessageStrip","_showToolbar","_showPagesList","oMessageStripVBox","oMessage","_seHeaderMessage","addItem","_setInvisibleSubHeaderText","subHeaderText","length","oSubHeaderText","setText","oPageTitleText","oTitle","text","level","liveChange","oEvent","_onPagesSearch","ariaLabelledBy","oToolbar","height","design","content","oPagesListVBox","_createPagesList","oPage","spaceIndex","pageIndex","oText","label","oToggleBtn","tooltip","selected","icon","type","pressed","enabled","press","_pageSelectHandler","id","oHBox","justifyContent","alignItems","items","oCustomListItem","pageSettingsPage","getParent","scrollContainerDomRef","getDomRef","childNodes","currentScrollPosition","scrollTop","removeAllItems","oNoDataHBox","setVisible","forEach","oSpace","aPagesList","children","find","oFavPage","pageId","push","oHeaderToolbar","_createHeaderToolbar","oPanel","expandable","expanded","headerToolbar","setTimeout","scrollTo","wrapping","sPageId","_this3","bIsCheckBoxSelected","getSource","getPressed","oPageObj","iIndex","findIndex","splice","getFavPages","aFilteredSpaces","_filterSpacesPages","getData","toLowerCase","spaceLabel","includes"],"sources":["PageSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport CustomListItem from \"sap/m/CustomListItem\";\nimport HBox from \"sap/m/HBox\";\nimport List from \"sap/m/List\";\nimport Page from \"sap/m/Page\";\nimport Panel from \"sap/m/Panel\";\nimport SearchField from \"sap/m/SearchField\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport ToggleButton from \"sap/m/ToggleButton\";\nimport Toolbar from \"sap/m/Toolbar\";\nimport ToolbarSpacer from \"sap/m/ToolbarSpacer\";\nimport VBox from \"sap/m/VBox\";\nimport Event from \"sap/ui/base/Event\";\nimport Component from \"sap/ui/core/Component\";\nimport InvisibleText from \"sap/ui/core/InvisibleText\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport PagePanel from \"./PagePanel\";\nimport { IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport { getInvisibleText } from \"./utils/Accessibility\";\nimport { PAGE_SELECTION_LIMIT, SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { recycleId } from \"./utils/DataFormatUtils\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for My Home Page Settings Panel.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.PageSettingsPanel\n */\nexport default class PageSettingsPanel extends BaseSettingsPanel {\n\tprivate PageManagerInstance!: PageManager;\n\tprivate aAllPages!: IPage[];\n\tprivate aFavPages!: IPage[];\n\tprivate aSpaces!: ISpace[];\n\tprivate oWrapperVBox!: VBox;\n\tprivate oSearchField!: SearchField;\n\tprivate sSearchQuery!: string;\n\tprivate oMessage!: Text;\n\tprivate oPagesListVBox!: VBox;\n\tprivate oNoDataHBox!: HBox;\n\tprivate _initialNavigation: boolean = true;\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init() {\n\t\tsuper.init();\n\n\t\t//setup panel\n\t\tthis.setProperty(\"key\", SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"pages\"));\n\t\tthis.setProperty(\"icon\", \"sap-icon://course-book\");\n\t\tthis.oWrapperVBox = new VBox(`${this.getId()}--pageSettingsWrapper`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.addAggregation(\"content\", this.oWrapperVBox);\n\n\t\t//fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => {\n\t\t\tvoid this.onPanelNavigated();\n\t\t});\n\t}\n\n\t/**\n\t * Handler for panel navigation event.\n\t * Initialize the Page Settings Panel on navigation, if it is not already initializaed.\n\t * @private\n\t */\n\tprivate async onPanelNavigated() {\n\t\tif (this._initialNavigation) {\n\t\t\tthis._initialNavigation = false;\n\t\t\tawait this._initializePanel();\n\t\t}\n\t\t// Clear Search field and search results\n\t\tif (this.oSearchField?.getValue()) {\n\t\t\tthis.oSearchField.setValue(\"\");\n\t\t\tthis.sSearchQuery = \"\";\n\t\t\tthis._renderPages(this.aSpaces);\n\t\t}\n\t}\n\n\t/**\n\t * Initialize the Page Settings Panel.\n\t * @private\n\t */\n\tprivate async _initializePanel() {\n\t\tif (!this.PageManagerInstance) {\n\t\t\t// initializing the page manager instance on panel navigation, as when on init is triggered, the panel assocation is not yet set\n\t\t\t// we are using this._getPanel() (i.e. corresponding panel) instead of this, as settings panel don't have an ownerId\n\t\t\tthis.PageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\tthis.aAllPages = await this.PageManagerInstance.fetchAllAvailablePages();\n\t\tthis.aFavPages = await this.PageManagerInstance.getFavoritePages();\n\t\tthis.aSpaces = await this.PageManagerInstance.fetchAllAvailableSpaces();\n\t\tthis._showMessageStrip();\n\t\tthis._showToolbar();\n\t\tthis._showPagesList();\n\t}\n\n\tprivate _showMessageStrip() {\n\t\tconst oMessageStripVBox = new VBox(`${this.getId()}--msgStripContainer`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiNoPadding sapUiNoMarginEnd\");\n\t\tthis.oMessage = new Text(`${this.getId()}--msgStripText`).addStyleClass(\"sapUiSmallMargin\");\n\t\tthis._seHeaderMessage();\n\t\toMessageStripVBox.addItem(this.oMessage);\n\t\tthis.oWrapperVBox.addItem(oMessageStripVBox);\n\t}\n\n\t/**\n\t * Creates and returns an `InvisibleText` control containing the Page Sub-header text.\n\t *\n\t * @private\n\t * @returns {InvisibleText} The created `InvisibleText` instance with the title text.\n\t */\n\tprivate _setInvisibleSubHeaderText(): InvisibleText {\n\t\t// Create a hidden Text control for the Sub header (to be read by screen readers)\n\t\tconst subHeaderText =\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\");\n\t\tconst oSubHeaderText = getInvisibleText(this.getId() + \"--pageSubHeaderText\", subHeaderText);\n\t\treturn oSubHeaderText;\n\t}\n\n\tprivate _seHeaderMessage() {\n\t\tthis.oMessage.setText(\n\t\t\tthis.aFavPages.length >= PAGE_SELECTION_LIMIT\n\t\t\t\t? this._i18nBundle.getText(\"myInterestwarning\")\n\t\t\t\t: this._i18nBundle.getText(\"myInterestinfo\")\n\t\t);\n\t}\n\n\tprivate _showToolbar() {\n\t\t// Create and store the invisible texts\n\t\tconst oPageTitleText = getInvisibleText(this.getId() + \"--pageTitleText\", this._i18nBundle.getText(\"pages\"));\n\t\tconst oSubHeaderText = this._setInvisibleSubHeaderText();\n\t\tconst oTitle = new Title(`${this.getId()}--pagesListTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\tlevel: \"H3\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\tthis.oSearchField = new SearchField(`${this.getId()}--pagesListSearch`, {\n\t\t\tliveChange: (oEvent) => this._onPagesSearch(oEvent),\n\t\t\twidth: \"13.75rem\",\n\t\t\tariaLabelledBy: [oPageTitleText.getId(), oSubHeaderText.getId(), oTitle.getId()]\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom pagesListSearch\");\n\n\t\tconst oToolbar = new Toolbar(`${this.getId()}--pagesListToolbar`, {\n\t\t\twidth: \"calc(100% - 2rem)\",\n\t\t\theight: \"3rem\",\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [\n\t\t\t\toTitle,\n\t\t\t\tnew ToolbarSpacer(`${this.getId()}--pagesHeaderToolbarSpacer`),\n\t\t\t\tthis.oSearchField,\n\t\t\t\toPageTitleText,\n\t\t\t\toSubHeaderText\n\t\t\t]\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin pagesToolbarNoPadding\");\n\t\tthis.oWrapperVBox.addItem(oToolbar);\n\t}\n\n\tprivate _showPagesList() {\n\t\tthis.oPagesListVBox = new VBox(`${this.getId()}--pagesListVBox`, {\n\t\t\twidth: \"calc(100% - 2rem)\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBegin\");\n\t\tthis._renderPages(this.aSpaces);\n\t\tthis.oWrapperVBox.addItem(this.oPagesListVBox);\n\t}\n\n\tprivate _createPagesList(oPage: IPage, spaceIndex?: number, pageIndex?: number): CustomListItem {\n\t\tconst oText = new Text({\n\t\t\ttext: oPage.label\n\t\t});\n\t\tconst oToggleBtn = new ToggleButton(recycleId(`${this.getId()}-toggle-${spaceIndex}--${pageIndex}`), {\n\t\t\ttooltip: oPage.selected ? this._i18nBundle.getText(\"hideBtn\") : this._i18nBundle.getText(\"showBtn\"),\n\t\t\ticon: \"sap-icon://show\",\n\t\t\ttype: \"Emphasized\",\n\t\t\tpressed: !oPage.selected,\n\t\t\tenabled: oPage.selected || this.aFavPages.length < PAGE_SELECTION_LIMIT,\n\t\t\tpress: (oEvent) => void this._pageSelectHandler(oPage.id as string, oEvent)\n\t\t});\n\t\tconst oHBox = new HBox(recycleId(`${this.getId()}--customListBox--${spaceIndex}--${pageIndex}`), {\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\talignItems: \"Center\",\n\t\t\titems: [oText, oToggleBtn]\n\t\t});\n\t\tconst oCustomListItem = new CustomListItem(recycleId(`${this.getId()}--customList--${spaceIndex}--${pageIndex}`), {\n\t\t\tcontent: [oHBox]\n\t\t}).addStyleClass(\"pagesPanelItem\");\n\t\treturn oCustomListItem;\n\t}\n\n\tprivate _renderPages(aSpaces: ISpace[]) {\n\t\tconst pageSettingsPage = this.oPagesListVBox.getParent()?.getParent() as Page;\n\t\tconst scrollContainerDomRef = pageSettingsPage?.getDomRef()?.childNodes[1] as Element;\n\t\tconst currentScrollPosition = scrollContainerDomRef?.scrollTop || 0;\n\t\tthis.oPagesListVBox.removeAllItems();\n\t\tif (!aSpaces.length) {\n\t\t\tif (!this.oNoDataHBox) {\n\t\t\t\tthis.oNoDataHBox = new HBox(`${this.getId()}--noSpacePageHBox`, {\n\t\t\t\t\theight: \"3rem\",\n\t\t\t\t\tjustifyContent: \"Center\",\n\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\titems: [\n\t\t\t\t\t\tnew Text(`${this.getId()}--noSpacePageItem`, {\n\t\t\t\t\t\t\ttext: this._i18nBundle.getText(\"noData\")\n\t\t\t\t\t\t})\n\t\t\t\t\t]\n\t\t\t\t}).addStyleClass(\"pagesBottomBorder\");\n\t\t\t\tthis.oWrapperVBox.addItem(this.oNoDataHBox);\n\t\t\t}\n\t\t\tthis.oNoDataHBox.setVisible(true);\n\t\t} else if (this.oNoDataHBox) {\n\t\t\tthis.oNoDataHBox.setVisible(false);\n\t\t}\n\n\t\taSpaces.forEach((oSpace, spaceIndex) => {\n\t\t\tconst aPagesList: CustomListItem[] = [];\n\t\t\toSpace.children.forEach((oPage, pageIndex) => {\n\t\t\t\toPage.selected = this.aFavPages.find((oFavPage) => oFavPage.pageId === oPage.id) ? true : false;\n\t\t\t\taPagesList.push(this._createPagesList(oPage, spaceIndex, pageIndex));\n\t\t\t});\n\t\t\tconst oHeaderToolbar = this._createHeaderToolbar(oSpace, spaceIndex);\n\t\t\tconst oPanel = new Panel(recycleId(`${this.getId()}--panel--${spaceIndex}`), {\n\t\t\t\texpandable: true,\n\t\t\t\texpanded: true,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theaderToolbar: oHeaderToolbar,\n\t\t\t\tcontent: new List(recycleId(`${this.getId()}--panelContent--${spaceIndex}`), {\n\t\t\t\t\titems: aPagesList\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"pagesPanel\");\n\t\t\tthis.oPagesListVBox.addItem(oPanel);\n\t\t});\n\t\tif (currentScrollPosition >= 0 && pageSettingsPage) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpageSettingsPage.scrollTo(currentScrollPosition);\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\tprivate _createHeaderToolbar(oSpace: ISpace, spaceIndex?: number) {\n\t\tconst oTitle = new Title(recycleId(`${this.getId()}--headerTitle--${spaceIndex}`), {\n\t\t\twrapping: true,\n\t\t\twidth: \"auto\",\n\t\t\ttext: oSpace.label,\n\t\t\tlevel: \"H4\"\n\t\t}).addStyleClass(\"dialogPanelTitle\");\n\t\tconst oToolbar = new Toolbar(recycleId(`${this.getId()}--headerToolBar--${spaceIndex}`), {\n\t\t\tdesign: \"Solid\",\n\t\t\tcontent: [oTitle]\n\t\t});\n\t\treturn oToolbar;\n\t}\n\n\tprivate async _pageSelectHandler(sPageId: string, oEvent: { getSource: () => { getPressed: () => boolean } }) {\n\t\tconst bIsCheckBoxSelected = !oEvent.getSource().getPressed();\n\t\tconst oPageObj = this.aAllPages.find((oPage) => oPage.pageId === sPageId);\n\t\tif (!oPageObj) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (bIsCheckBoxSelected) {\n\t\t\tthis.aFavPages.push(oPageObj);\n\t\t} else {\n\t\t\tconst iIndex = this.aFavPages.findIndex((oPage) => oPage.pageId === sPageId);\n\t\t\tthis.aFavPages.splice(iIndex, 1);\n\t\t}\n\t\tthis._seHeaderMessage();\n\t\tawait this.PageManagerInstance.getFavPages(this.aFavPages, true);\n\t\tlet aFilteredSpaces;\n\t\tif (this.sSearchQuery?.length) {\n\t\t\taFilteredSpaces = this._filterSpacesPages();\n\t\t}\n\t\tthis._renderPages(aFilteredSpaces || this.aSpaces);\n\t\tvoid (this._getPanel() as PagePanel).getData();\n\t}\n\n\tprivate _onPagesSearch(oEvent: Event) {\n\t\tthis.sSearchQuery = oEvent.getSource<SearchField>().getValue().toLowerCase();\n\t\tconst aFilteredSpaces = this._filterSpacesPages();\n\t\tthis._renderPages(aFilteredSpaces);\n\t}\n\n\tprivate _filterSpacesPages() {\n\t\tconst aFilteredSpaces: ISpace[] = [];\n\t\tthis.aSpaces.forEach((oSpace) => {\n\t\t\tconst children: IPage[] = [];\n\t\t\tconst spaceLabel = oSpace.label;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oPage.label?.toLowerCase().includes(this.sSearchQuery) || spaceLabel?.toLowerCase().includes(this.sSearchQuery)) {\n\t\t\t\t\tchildren.push(oPage);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (children.length) {\n\t\t\t\taFilteredSpaces.push({\n\t\t\t\t\t...oSpace,\n\t\t\t\t\tchildren\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aFilteredSpaces;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}