{"version":3,"file":"KeyUserPagesSettingsPanel-dbg.js","names":["sap","ui","define","Button","ColorPalette","Dialog","FlexBox","FlexItemData","HBox","Label","List","ScrollContainer","SearchField","StandardListItem","Switch","Text","Title","VBox","EventBus","Icon","Parameters","Filter","FilterOperator","JSONModel","Column","TreeTable","__BaseSettingsPanel","___flexibility_Layoutflexibility","___utils_Constants","___utils_IconList","__PageManager","__PersonalisationUtils","_interopRequireDefault","obj","__esModule","default","BaseSettingsPanel","CHANGE_TYPES","DEFAULT_BG_COLOR","END_USER_COLORS","FALLBACK_ICON","KEYUSER_SETTINGS_PANELS_KEYS","ICONS","PageManager","PersonalisationUtils","KeyUserPagesSettingsPanel","extend","constructor","prototype","apply","arguments","keyuserSpaceColorChanges","keyuserPageColorChanges","keyuserSpaceIconChanges","keyuserPageIconChanges","metadata","library","init","_init","BaseSettingsPanel.prototype.init.call","controlMap","Map","controlModel","spaces","selectedSpacePage","iconList","setProperty","PAGES","_i18nBundle","getText","_eventBus","getInstance","addAggregation","getContent","attachPanelNavigated","loadSettings","_getContent","dialogId","getId","get","oDialog","title","contentWidth","contentHeight","verticalScrolling","endButton","text","press","_handleDialogClose","bind","type","addStyleClass","set","addDialogContent","_loadSettings","pageManagerInstance","getPersContainerId","_getPanel","getOwnerComponent","prepareSpacesPagesData","prepareIconList","_addDialogContent","dialog","wrapperFlexBox","alignItems","justifyContent","height","width","direction","setModel","addItem","getSpacePagesListItems","getDetailsView","addContent","_getSpacePagesListItems","flexBox","titleStyle","treeTableWrapper","treeTableId","treeTable","selectionMode","selectionBehavior","rows","id","groupHeaderProperty","columnHeaderVisible","rowMode","rowSelectionChange","handleTreeTableRowSelection","layoutData","growFactor","columns","template","items","tooltip","src","backgroundColor","size","color","_getDetailsView","visible","getColorPalette","getIconList","_getColorPalette","wrapperVBox","label","wrapping","colorPaletteVBox","colorPaletteLabel","design","colorPalette","colors","map","value","colorSelect","_handleColorSelect","switchWrapperHBox","switchText","switchHBox","switchId","switchControl","state","change","_handleSwitchChange","enabled","customTextOn","customTextOff","_getIconList","searchFieldId","searchField","liveChange","handleIconSearch","iconListScrollContainer","vertical","horizontal","iconListId","path","icon","event","_handleIconSelect","getSource","iconDensityAware","iconInset","_prepareSpacesPagesData","_this","Promise","resolve","fetchAllAvailableSpaces","then","aSpaces","Array","isArray","forEach","oSpace","BGColor","refreshColor","isSpacePersonalization","persistedApplyColorToAllPages","applyColorToAllPages","children","oPage","oldColor","isPagePersonalization","spaceId","personalizationState","iconPersonalizationState","isPageIconPersonalization","selectedIndices","getSelectedIndices","includes","setSelectedIndex","e","reject","_refreshColor","oColorObject","newObject","name","key","_handleTreeTableRowSelection","oEvent","bindingContext","getParameter","selectedObject","getObject","prevSelectedObject","getProperty","spaceObject","undefined","controlsDisabled","getBlocked","contextPath","getPath","spaceContextPath","replace","setBlocked","selectedContext","_prepareIconList","length","aIcons","Object","keys","oIconCategory","icons","oIcon","push","tags","concat","toString","categoryId","_handleIconSearch","sQuery","getValue","aFilters","Contains","oList","oBinding","getBinding","filter","selectedColor","isSpaceColorChanged","legendColor","_convertColorToLegend","oldLegendColor","oExistingChange","find","changes","oldApplyColorToAllPages","_applyInnerPageColoring","pageObject","pageId","isSpaceColorChangedBefore","existingSpacePersData","listItem","sIcon","getIcon","isSpaceIconChanged","oldIcon","filteredPages","_getInnerPages","page","bindingPath","isSpaceIconChangedBefore","isSpaceIconPersonalization","oLegendColor","endUserColor","switchValue","colorKey","colorValue","sColorKey","sColorValue","bApplyColorToAllPages","innerPages","oChange","index","_mergeKeyUserChanges","pagePanel","wrapperContainer","getParent","layout","selectorControl","changeSpecificData","changeType","SPACE_COLOR","content","addKeyUserChanges","PAGE_COLOR","SPACE_ICON","PAGE_ICON","publish","getKeyUserChanges","close"],"sources":["KeyUserPagesSettingsPanel.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\n\nimport Button from \"sap/m/Button\";\nimport ColorPalette, { ColorPalette$ColorSelectEvent } from \"sap/m/ColorPalette\";\nimport Dialog from \"sap/m/Dialog\";\nimport FlexBox from \"sap/m/FlexBox\";\nimport FlexItemData from \"sap/m/FlexItemData\";\nimport HBox from \"sap/m/HBox\";\nimport Label from \"sap/m/Label\";\nimport List from \"sap/m/List\";\nimport ScrollContainer from \"sap/m/ScrollContainer\";\nimport SearchField, { SearchField$LiveChangeEvent } from \"sap/m/SearchField\";\nimport StandardListItem from \"sap/m/StandardListItem\";\nimport Switch, { Switch$ChangeEvent } from \"sap/m/Switch\";\nimport Text from \"sap/m/Text\";\nimport Title from \"sap/m/Title\";\nimport VBox from \"sap/m/VBox\";\nimport Component from \"sap/ui/core/Component\";\nimport Control from \"sap/ui/core/Control\";\nimport type { MetadataOptions } from \"sap/ui/core/Element\";\nimport EventBus from \"sap/ui/core/EventBus\";\nimport Icon from \"sap/ui/core/Icon\";\nimport Parameters, { Value } from \"sap/ui/core/theming/Parameters\";\nimport Context from \"sap/ui/model/Context\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\nimport JSONListBinding from \"sap/ui/model/json/JSONListBinding\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Column from \"sap/ui/table/Column\";\nimport { Table$RowSelectionChangeEvent } from \"sap/ui/table/Table\";\nimport TreeTable from \"sap/ui/table/TreeTable\";\nimport BaseLayout from \"./BaseLayout\";\nimport BaseSettingsPanel from \"./BaseSettingsPanel\";\nimport { CHANGE_TYPES } from \"./flexibility/Layout.flexibility\";\nimport { IKeyUserChange, ISpacePagePersonalization } from \"./interface/KeyUserInterface\";\nimport { IColor, IPage, ISpace } from \"./interface/PageSpaceInterface\";\nimport NewsAndPagesContainer from \"./NewsAndPagesContainer\";\nimport PagePanel from \"./PagePanel\";\nimport { DEFAULT_BG_COLOR, END_USER_COLORS, FALLBACK_ICON, KEYUSER_SETTINGS_PANELS_KEYS } from \"./utils/Constants\";\nimport { ICONS } from \"./utils/IconList\";\nimport PageManager from \"./utils/PageManager\";\nimport PersonalisationUtils from \"./utils/PersonalisationUtils\";\n\n/**\n *\n * Class for Pages Settings Panel for KeyUser Settings Dialog.\n *\n * @extends BaseSettingsPanel\n *\n * @author SAP SE\n * @version 0.0.1\n * @since 1.121\n * @private\n *\n * @alias sap.cux.home.KeyUserPagesSettingsPanel\n */\nexport default class KeyUserPagesSettingsPanel extends BaseSettingsPanel {\n\tstatic readonly metadata: MetadataOptions = {\n\t\tlibrary: \"sap.cux.home\"\n\t};\n\n\tprivate controlMap!: Map<string, Control | Element>;\n\tprivate controlModel!: JSONModel;\n\tprivate pageManagerInstance!: PageManager;\n\tprivate selectedContext!: Context;\n\tprivate _eventBus!: EventBus;\n\tprivate keyuserSpaceColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageColorChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserSpaceIconChanges: Array<ISpacePagePersonalization> = [];\n\tprivate keyuserPageIconChanges: Array<ISpacePagePersonalization> = [];\n\n\t/**\n\t * Init lifecycle method\n\t *\n\t * @public\n\t * @override\n\t */\n\tpublic init(): void {\n\t\tsuper.init();\n\t\tthis.controlMap = new Map();\n\t\tthis.controlModel = new JSONModel({\n\t\t\tspaces: [],\n\t\t\tselectedSpacePage: {},\n\t\t\ticonList: []\n\t\t});\n\n\t\t// setup panel\n\t\tthis.setProperty(\"key\", KEYUSER_SETTINGS_PANELS_KEYS.PAGES);\n\t\tthis.setProperty(\"title\", this._i18nBundle.getText(\"editPages\"));\n\n\t\t// Setup Event Bus\n\t\tthis._eventBus = EventBus.getInstance();\n\n\t\t// setup layout content\n\t\tthis.addAggregation(\"content\", this.getContent());\n\n\t\t// fired every time on panel navigation\n\t\tthis.attachPanelNavigated(() => this.loadSettings());\n\t}\n\n\t/**\n\t * Returns the content for the KeyUser Pages Settings Panel.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the KeyUser Pages Settings Panel content.\n\t */\n\tprivate getContent(): Dialog {\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\tif (!this.controlMap.get(dialogId)) {\n\t\t\tconst oDialog = new Dialog(dialogId, {\n\t\t\t\ttitle: this._i18nBundle.getText(\"editPages\"),\n\t\t\t\tcontentWidth: \"47rem\",\n\t\t\t\tcontentHeight: \"90%\",\n\t\t\t\tverticalScrolling: false,\n\t\t\t\tendButton: new Button(`${this.getId()}-keyUserPagesSettingsCloseButton`, {\n\t\t\t\t\ttext: this._i18nBundle.getText(\"Close\"),\n\t\t\t\t\tpress: this._handleDialogClose.bind(this),\n\t\t\t\t\ttype: \"Transparent\"\n\t\t\t\t})\n\t\t\t}).addStyleClass(\"sapContrastPlus\");\n\t\t\tthis.controlMap.set(dialogId, oDialog);\n\n\t\t\tthis.addDialogContent();\n\t\t}\n\t\treturn this.controlMap.get(dialogId) as Dialog;\n\t}\n\n\t/**\n\t * Load settings for the panel.\n\t *\n\t * @private\n\t */\n\tprivate loadSettings(): void {\n\t\tif (!this.pageManagerInstance) {\n\t\t\tthis.pageManagerInstance = PageManager.getInstance(\n\t\t\t\tPersonalisationUtils.getPersContainerId(this._getPanel()),\n\t\t\t\tPersonalisationUtils.getOwnerComponent(this._getPanel()) as Component\n\t\t\t);\n\t\t}\n\t\t// setup layout content\n\t\tvoid this.prepareSpacesPagesData();\n\t\tthis.prepareIconList();\n\t}\n\n\t/**\n\t * Add Dialog Content.\n\t *\n\t * @private\n\t */\n\tprivate addDialogContent(): void {\n\t\tconst dialog = this.controlMap.get(`${this.getId()}-keyUserPagesSettingsDialog`) as Dialog;\n\t\tconst wrapperFlexBox = new FlexBox(`${this.getId()}-wrapperFlexBox`, {\n\t\t\talignItems: \"Start\",\n\t\t\tjustifyContent: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"100%\",\n\t\t\tdirection: \"Row\"\n\t\t});\n\t\twrapperFlexBox.setModel(this.controlModel);\n\t\twrapperFlexBox.addItem(this.getSpacePagesListItems());\n\t\twrapperFlexBox.addItem(this.getDetailsView());\n\t\tdialog.addContent(wrapperFlexBox);\n\t}\n\n\t/**\n\t * Get Space Pages List Items.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Space Pages List Items.\n\t */\n\tprivate getSpacePagesListItems(): FlexBox {\n\t\tconst flexBox = new FlexBox(`${this.getId()}-spacePagesFlexBox`, {\n\t\t\tdirection: \"Column\",\n\t\t\talignItems: \"Start\",\n\t\t\theight: \"100%\",\n\t\t\twidth: \"24rem\",\n\t\t\tjustifyContent: \"Start\"\n\t\t}).addStyleClass(\"spacePagesFlexBox\");\n\n\t\tconst title = new Title(`${this.getId()}-spacePagesTitle`, {\n\t\t\ttext: this._i18nBundle.getText(\"pageGroupHeader\"),\n\t\t\ttitleStyle: \"H4\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\t\tflexBox.addItem(title);\n\n\t\tconst treeTableWrapper = new VBox(`${this.getId()}-treeTableWrapper`, {\n\t\t\theight: \"100%\"\n\t\t});\n\n\t\tconst treeTableId = `${this.getId()}-spacePagesTreeTable`;\n\t\tconst treeTable = new TreeTable(treeTableId, {\n\t\t\tselectionMode: \"Single\",\n\t\t\tselectionBehavior: \"RowOnly\",\n\t\t\trows: \"{path:'/spaces', parameters: {arrayNames:['children'], numberOfExpandedLevels: 1}}\",\n\t\t\tid: \"idEditIntrestTreeTable\",\n\t\t\tgroupHeaderProperty: \"label\",\n\t\t\tcolumnHeaderVisible: false,\n\t\t\trowMode: \"Auto\",\n\t\t\trowSelectionChange: this.handleTreeTableRowSelection.bind(this),\n\t\t\twidth: \"22rem\",\n\t\t\tlayoutData: new FlexItemData(`${treeTableId}--layoutData`, {\n\t\t\t\tgrowFactor: 1\n\t\t\t}),\n\t\t\tcolumns: [\n\t\t\t\tnew Column(`${treeTableId}--treeTableColumn`, {\n\t\t\t\t\ttemplate: new HBox(`${treeTableId}--treeTableTemplateBox`, {\n\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\tnew Text(`${treeTableId}--treeTableItemText`, {\n\t\t\t\t\t\t\t\ttext: \"{label}\"\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tnew HBox(`${treeTableId}--treeTableColumnItemBox`, {\n\t\t\t\t\t\t\t\talignItems: \"Center\",\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\tnew Icon(`${treeTableId}--treeTableItemIcon`, {\n\t\t\t\t\t\t\t\t\t\ttooltip: \"{label}\",\n\t\t\t\t\t\t\t\t\t\tsrc: \"{icon}\",\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"{BGColor/value}\",\n\t\t\t\t\t\t\t\t\t\twidth: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\theight: \"2.5rem\",\n\t\t\t\t\t\t\t\t\t\tsize: \"1.5rem\",\n\t\t\t\t\t\t\t\t\t\tcolor: \"white\"\n\t\t\t\t\t\t\t\t\t}).addStyleClass(\"sapUiTinyMargin\")\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t]\n\t\t}).addStyleClass(\"spacePageTable\");\n\t\tthis.controlMap.set(treeTableId, treeTable);\n\t\ttreeTableWrapper.addItem(treeTable);\n\n\t\tflexBox.addItem(treeTableWrapper);\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get details view for the selected space or page.\n\t *\n\t * @private\n\t * @returns {FlexBox} The control containing the Details.\n\t */\n\tprivate getDetailsView(): FlexBox {\n\t\t// Create Wrapper FlexBox\n\t\tconst flexBox = new FlexBox(`${this.getId()}-personalisationDetailsWrapperFlex`, {\n\t\t\theight: \"100%\",\n\t\t\twidth: \"23rem\",\n\t\t\tdirection: \"Column\",\n\t\t\tvisible: \"{= ${/spaces/length} === 0 ? false : true}\"\n\t\t}).addStyleClass(\"personalisationDetailsWrapperFlex\");\n\n\t\t// Create Color Palette and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getColorPalette());\n\n\t\t// Create Icon List and add to wrapper FlexBox\n\t\tflexBox.addItem(this.getIconList());\n\t\treturn flexBox;\n\t}\n\n\t/**\n\t * Get Color Palette.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Color Palette.\n\t */\n\tprivate getColorPalette(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-colorPaletteWrapperVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiSmallMarginBottom\");\n\n\t\t// Create Title and add to wrapper VBox\n\t\tconst title = new Title(`${this.getId()}-colorPaletteTitle`, {\n\t\t\ttext: \"{/selectedSpacePage/label}\",\n\t\t\ttitleStyle: \"H4\"\n\t\t});\n\t\twrapperVBox.addItem(title);\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-colorPaletteSpacePageLabel`, {\n\t\t\twrapping: true,\n\t\t\ttext:\n\t\t\t\t\"{= ${/selectedSpacePage/type} === 'Space' ? '\" +\n\t\t\t\tthis._i18nBundle.getText(\"space\") +\n\t\t\t\t\"' : '\" +\n\t\t\t\tthis._i18nBundle.getText(\"page\") +\n\t\t\t\t\"' }\"\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create Color Palette VBox and add to wrapper VBox\n\t\tconst colorPaletteVBox = new VBox(`${this.getId()}-colorPaletteVBox`, {\n\t\t\twidth: \"100%\"\n\t\t}).addStyleClass(\"sapUiMargin-26Top\");\n\t\twrapperVBox.addItem(colorPaletteVBox);\n\n\t\t// Create Color Palette Label and add to Color Palette VBox\n\t\tconst colorPaletteLabel = new Label(`${this.getId()}-colorPaletteLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"selectColor\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\tcolorPaletteVBox.addItem(colorPaletteLabel);\n\n\t\t// Create Color Palette and add to Color Palette VBox\n\t\tconst colorPalette = new ColorPalette(`${this.getId()}-colorPalette`, {\n\t\t\tcolors: END_USER_COLORS().map((color) => color.value as string),\n\t\t\tcolorSelect: this._handleColorSelect.bind(this)\n\t\t}).addStyleClass(\"sapContrastPlus sapUiTinyMarginBottom\");\n\t\tthis.controlMap.set(`${this.getId()}-colorPalette`, colorPalette);\n\t\tcolorPaletteVBox.addItem(colorPalette);\n\n\t\t// Create Switch Wrapper HBox and add to wrapper VBox\n\t\tconst switchWrapperHBox = new HBox(`${this.getId()}-switchWrapperHBox`, {\n\t\t\talignItems: \"Center\",\n\t\t\tjustifyContent: \"SpaceBetween\",\n\t\t\theight: \"2rem\",\n\t\t\twidth: \"100%\"\n\t\t});\n\t\twrapperVBox.addItem(switchWrapperHBox);\n\n\t\t// Create Text and add to Switch Wrapper HBox\n\t\tconst switchText = new Text(`${this.getId()}-switchText`, {\n\t\t\ttext: this._i18nBundle.getText(\"editPagesColorMessage\")\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchText);\n\n\t\t// Create Switch HBox and add to Switch Wrapper HBox\n\t\tconst switchHBox = new HBox(`${this.getId()}-switchHBox`, {\n\t\t\talignItems: \"Center\"\n\t\t});\n\t\tswitchWrapperHBox.addItem(switchHBox);\n\n\t\t// Create Switch and add to Switch HBox\n\t\tconst switchId = `${this.getId()}-Switch`;\n\t\tconst switchControl = new Switch(switchId, {\n\t\t\tstate: \"{ path: '/selectedSpacePage/applyColorToAllPages', mode: 'TwoWay' }\",\n\t\t\tchange: this._handleSwitchChange.bind(this),\n\t\t\tenabled: \"{= ${/selectedSpacePage/spaceId} ? false : true }\",\n\t\t\tcustomTextOn: \" \",\n\t\t\tcustomTextOff: \" \"\n\t\t});\n\t\tthis.controlMap.set(switchId, switchControl);\n\t\tswitchHBox.addItem(switchControl);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Get Icon List.\n\t *\n\t * @private\n\t * @returns {VBox} The control containing the Icon List.\n\t */\n\tprivate getIconList(): VBox {\n\t\tconst wrapperVBox = new VBox(`${this.getId()}-iconListWrapperVBox`, {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"calc(100% - 15rem)\"\n\t\t});\n\n\t\t// Create Label and add to wrapper VBox\n\t\tconst label = new Label(`${this.getId()}-iconListLabel`, {\n\t\t\twrapping: true,\n\t\t\tdesign: \"Bold\",\n\t\t\ttext: this._i18nBundle.getText(\"icon\")\n\t\t}).addStyleClass(\"personalisationDetailsLabel\");\n\t\twrapperVBox.addItem(label);\n\n\t\t// Create SearchField and add to wrapper VBox\n\t\tconst searchFieldId = `${this.getId()}-iconListSearchField`;\n\t\tconst searchField = new SearchField(searchFieldId, {\n\t\t\twidth: \"100%\",\n\t\t\tliveChange: this.handleIconSearch.bind(this)\n\t\t});\n\t\tthis.controlMap.set(searchFieldId, searchField);\n\t\twrapperVBox.addItem(searchField);\n\n\t\t// Create Scroll Container For List of Icons and add to wrapper VBox\n\t\tconst iconListScrollContainer = new ScrollContainer(`${this.getId()}-iconListScrollContainer`, {\n\t\t\tvertical: true,\n\t\t\thorizontal: false,\n\t\t\theight: \"95%\"\n\t\t});\n\t\twrapperVBox.addItem(iconListScrollContainer);\n\n\t\t// Create List of Icons and add to Scroll Container\n\t\tconst iconListId = `${this.getId()}-iconList`;\n\t\tconst iconList = new List(iconListId, {\n\t\t\titems: {\n\t\t\t\tpath: \"/iconList\",\n\t\t\t\ttemplate: new StandardListItem(`${this.getId()}-iconStandardListItem`, {\n\t\t\t\t\ttitle: \"{title}\",\n\t\t\t\t\ticon: \"{icon}\",\n\t\t\t\t\ttype: \"Active\",\n\t\t\t\t\tpress: (event) => this._handleIconSelect(event.getSource()),\n\t\t\t\t\ticonDensityAware: false,\n\t\t\t\t\ticonInset: false\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tthis.controlMap.set(iconListId, iconList);\n\t\ticonListScrollContainer.addContent(iconList);\n\n\t\treturn wrapperVBox;\n\t}\n\n\t/**\n\t * Prepare spaces and pages data.\n\t *\n\t * @private\n\t */\n\tprivate async prepareSpacesPagesData(): Promise<void> {\n\t\tconst aSpaces = await this.pageManagerInstance.fetchAllAvailableSpaces();\n\t\tif (!Array.isArray(aSpaces)) {\n\t\t\treturn;\n\t\t}\n\t\t//Prepare Spaces and Pages Data\n\t\taSpaces.forEach((oSpace) => {\n\t\t\toSpace.BGColor = oSpace.BGColor ? this.refreshColor(oSpace.BGColor) : DEFAULT_BG_COLOR();\n\t\t\toSpace.isSpacePersonalization = oSpace.BGColor || oSpace.icon ? true : false;\n\t\t\toSpace.icon = oSpace.icon || FALLBACK_ICON;\n\t\t\toSpace.persistedApplyColorToAllPages = oSpace.applyColorToAllPages;\n\t\t\toSpace.children.forEach((oPage) => {\n\t\t\t\tif (oSpace.applyColorToAllPages) {\n\t\t\t\t\toPage.BGColor = this.refreshColor(oSpace.BGColor as IColor) as IColor;\n\t\t\t\t\toPage.oldColor = oPage.isPagePersonalization\n\t\t\t\t\t\t? this.refreshColor(oPage.oldColor as { key: string; value: Value; assigned: boolean })\n\t\t\t\t\t\t: DEFAULT_BG_COLOR();\n\t\t\t\t} else {\n\t\t\t\t\toPage.BGColor = oPage.BGColor ? (this.refreshColor(oPage.BGColor as IColor) as IColor) : DEFAULT_BG_COLOR();\n\t\t\t\t}\n\t\t\t\toPage.spaceId = oSpace.id;\n\t\t\t\toPage.personalizationState = oPage.isPagePersonalization;\n\t\t\t\toPage.iconPersonalizationState = oPage.isPageIconPersonalization;\n\t\t\t\toPage.icon = oPage.icon || oSpace.icon || FALLBACK_ICON;\n\t\t\t});\n\t\t});\n\n\t\tthis.controlModel.setProperty(\"/spaces\", aSpaces);\n\t\t// Select the first item in list selected by default\n\t\tconst treeTable = this.controlMap.get(`${this.getId()}-spacePagesTreeTable`) as TreeTable;\n\t\tconst selectedIndices = treeTable.getSelectedIndices();\n\t\tif (!selectedIndices.includes(0)) {\n\t\t\ttreeTable.setSelectedIndex(0);\n\t\t}\n\t}\n\n\t/**\n\t * Refresh color.\n\t *\n\t * @param {string} sColor The color to refresh.\n\t * @returns {string} The refreshed color.\n\t */\n\tprivate refreshColor(oColorObject: IColor): {\n\t\tkey: string;\n\t\tvalue: Value;\n\t\tassigned: boolean;\n\t} {\n\t\t// Refresh color object with new color value in case of theme switching.\n\t\tconst newObject = { ...oColorObject } as IColor;\n\t\tnewObject.value = Parameters.get({ name: oColorObject.key }) as string;\n\t\treturn newObject;\n\t}\n\n\t/**\n\t * Handle Tree Table Row Selection.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleTreeTableRowSelection(oEvent: Table$RowSelectionChangeEvent): void {\n\t\tinterface IControlWithBlockedProperty {\n\t\t\tgetBlocked: () => boolean;\n\t\t\tsetBlocked: (val: boolean) => void;\n\t\t}\n\t\tconst bindingContext = oEvent.getParameter(\"rowContext\") as Context;\n\t\tconst selectedObject = bindingContext?.getObject() as ISpace | IPage;\n\n\t\tconst prevSelectedObject = this.controlModel.getProperty(\"/selectedSpacePage\") as ISpace | IPage;\n\t\tconst colorPalette = this.controlMap.get(`${this.getId()}-colorPalette`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in ColorPalette\n\t\tconst searchField = this.controlMap.get(`${this.getId()}-iconListSearchField`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in SearchField\n\t\tconst iconList = this.controlMap.get(`${this.getId()}-iconList`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in List\n\t\tconst switchControl = this.controlMap.get(`${this.getId()}-Switch`) as unknown as IControlWithBlockedProperty; // setBlocked is not available in Switch\n\t\tlet spaceObject = undefined;\n\t\tlet controlsDisabled: boolean = colorPalette.getBlocked();\n\n\t\tif (selectedObject.type === \"Page\") {\n\t\t\tconst contextPath = bindingContext.getPath();\n\t\t\tconst spaceContextPath = contextPath.replace(/\\/children\\/\\d*/, \"\");\n\t\t\tspaceObject = this.controlModel.getProperty(spaceContextPath) as ISpace;\n\t\t}\n\n\t\tcontrolsDisabled =\n\t\t\tprevSelectedObject?.type === selectedObject.type && prevSelectedObject?.id === selectedObject.id ? !controlsDisabled : false;\n\t\tcolorPalette.setBlocked(controlsDisabled ? true : (spaceObject?.applyColorToAllPages as boolean));\n\t\tsearchField.setBlocked(controlsDisabled);\n\t\ticonList.setBlocked(controlsDisabled);\n\t\tswitchControl.setBlocked(controlsDisabled);\n\n\t\tthis.controlModel.setProperty(\"/selectedSpacePage\", selectedObject);\n\t\tthis.selectedContext = bindingContext;\n\t}\n\n\t/**\n\t * Prepare icon list.\n\t *\n\t * @private\n\t */\n\tprivate prepareIconList(): void {\n\t\tinterface IiconList {\n\t\t\ttitle: string;\n\t\t\ticon: string;\n\t\t\ttags: string;\n\t\t\tcategoryId: string;\n\t\t}\n\t\tconst iconList = this.controlModel.getProperty(\"/iconList\") as IiconList[];\n\t\tif (!iconList.length) {\n\t\t\tlet icon: string;\n\t\t\tconst aIcons: IiconList[] = [];\n\t\t\tObject.keys(ICONS).forEach((oIconCategory) => {\n\t\t\t\tObject.keys(ICONS[oIconCategory].icons).forEach(function (oIcon) {\n\t\t\t\t\tswitch (oIconCategory) {\n\t\t\t\t\t\tcase \"SAP-icons\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"SAP-icons-TNT\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"BusinessSuiteInAppSymbols\":\n\t\t\t\t\t\t\ticon = \"sap-icon://\" + oIconCategory + \"/icon-\" + oIcon;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\taIcons.push({\n\t\t\t\t\t\ttitle: oIcon,\n\t\t\t\t\t\ticon: icon,\n\t\t\t\t\t\ttags: ICONS[oIconCategory].icons[oIcon].concat([oIcon]).toString(),\n\t\t\t\t\t\tcategoryId: oIconCategory\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.controlModel.setProperty(\"/iconList\", aIcons);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Search.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate handleIconSearch(oEvent: SearchField$LiveChangeEvent): void {\n\t\tconst sQuery = oEvent.getSource().getValue();\n\t\tconst aFilters = [];\n\t\tif (sQuery && sQuery.length > 0) {\n\t\t\taFilters.push(new Filter(\"tags\", FilterOperator.Contains, sQuery));\n\t\t}\n\t\tconst oList = this.controlMap.get(`${this.getId()}-iconList`) as List;\n\t\tconst oBinding = oList.getBinding(\"items\") as JSONListBinding;\n\t\toBinding?.filter(aFilters);\n\t}\n\n\t/**\n\t * Handle Color Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleColorSelect(oEvent: ColorPalette$ColorSelectEvent | null, color?: string): void {\n\t\tconst selectedColor = (oEvent?.getParameter(\"value\") as string) || color || \"\";\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceColorChanged = !(selectedObject as IPage).spaceId;\n\t\tconst legendColor = this._convertColorToLegend(selectedColor);\n\t\tconst oldLegendColor = (selectedObject?.BGColor as { key: string })?.key;\n\n\t\t// Handle color change for space\n\t\tif (isSpaceColorChanged) {\n\t\t\tconst spaceObject: ISpace = selectedObject as ISpace;\n\t\t\t//Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject.id;\n\t\t\t});\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t\toExistingChange.applyColorToAllPages = spaceObject.applyColorToAllPages as boolean;\n\t\t\t\toExistingChange.oldApplyColorToAllPages = spaceObject.persistedApplyColorToAllPages as boolean;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceColorChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor: oldLegendColor,\n\t\t\t\t\tapplyColorToAllPages: spaceObject.applyColorToAllPages,\n\t\t\t\t\toldApplyColorToAllPages: spaceObject.persistedApplyColorToAllPages\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply color to all pages\n\t\t\tif (spaceObject.applyColorToAllPages) {\n\t\t\t\tthis._applyInnerPageColoring(spaceObject, legendColor, selectedColor, true);\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpacePersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle color change for page\n\t\t\tconst pageObject: IPage = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find((changes) => {\n\t\t\t\treturn changes.pageId === pageObject.id;\n\t\t\t});\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceColorChangedBefore = spaceObject?.isSpacePersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.BGColor = legendColor;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageColorChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\tBGColor: legendColor,\n\t\t\t\t\toldColor:\n\t\t\t\t\t\tisSpaceColorChangedBefore && !pageObject.isPagePersonalization\n\t\t\t\t\t\t\t? (existingSpacePersData as { oldColor: string })?.oldColor\n\t\t\t\t\t\t\t: oldLegendColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"BGColor/key\", legendColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"BGColor/value\", selectedColor, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPagePersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Icon Select.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleIconSelect(listItem: StandardListItem): void {\n\t\tconst sIcon = listItem.getIcon();\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace | IPage;\n\t\tconst isSpaceIconChanged = !(selectedObject as IPage).spaceId;\n\n\t\t// Handle icon change for space\n\t\tif (isSpaceIconChanged) {\n\t\t\tconst spaceObject = selectedObject as ISpace;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserSpaceIconChanges.find((change) => change.spaceId === spaceObject.id);\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserSpaceIconChanges.push({\n\t\t\t\t\tspaceId: spaceObject.id,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon: spaceObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Apply icon to all pages if page icon is not personalized\n\t\t\tconst filteredPages = this._getInnerPages(spaceObject).filter((spaceObject) => !spaceObject.page.isPageIconPersonalization);\n\t\t\tfilteredPages.forEach((page) => {\n\t\t\t\tthis.controlModel.setProperty(page.bindingPath + \"/icon\", sIcon);\n\t\t\t});\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isSpaceIconPersonalization\", true, this.selectedContext);\n\t\t} else {\n\t\t\t// Handle icon change for page\n\t\t\tconst pageObject = selectedObject as IPage;\n\t\t\t// Check if existing personalization is available\n\t\t\tconst oExistingChange = this.keyuserPageIconChanges.find((change) => change.pageId === pageObject.id);\n\n\t\t\tconst spaceObject = (this.controlModel.getProperty(\"/spaces\") as ISpace[]).find((oSpace: ISpace) => {\n\t\t\t\treturn oSpace.id === pageObject.spaceId;\n\t\t\t});\n\t\t\tconst isSpaceIconChangedBefore = spaceObject?.isSpaceIconPersonalization;\n\t\t\tconst existingSpacePersData = this.keyuserSpaceIconChanges.find((changes) => {\n\t\t\t\treturn changes.spaceId === spaceObject?.id;\n\t\t\t});\n\n\t\t\tif (oExistingChange) {\n\t\t\t\toExistingChange.icon = sIcon;\n\t\t\t} else {\n\t\t\t\tthis.keyuserPageIconChanges.push({\n\t\t\t\t\tpageId: pageObject.id,\n\t\t\t\t\tspaceId: pageObject.spaceId,\n\t\t\t\t\ticon: sIcon,\n\t\t\t\t\toldIcon:\n\t\t\t\t\t\tisSpaceIconChangedBefore && !pageObject.isPageIconPersonalization\n\t\t\t\t\t\t\t? existingSpacePersData?.oldIcon\n\t\t\t\t\t\t\t: selectedObject.icon\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update View Model\n\t\t\tthis.controlModel.setProperty(\"icon\", sIcon, this.selectedContext);\n\t\t\tthis.controlModel.setProperty(\"isPageIconPersonalization\", true, this.selectedContext);\n\t\t}\n\t}\n\n\t/**\n\t * Convert color to legend.\n\t *\n\t * @param {string} sColor The color to convert.\n\t * @returns {string} The converted color.\n\t * @private\n\t */\n\tprivate _convertColorToLegend(color: string): string {\n\t\tlet oLegendColor = END_USER_COLORS().find(function (endUserColor) {\n\t\t\treturn endUserColor.value === color;\n\t\t});\n\t\treturn oLegendColor ? oLegendColor.key : DEFAULT_BG_COLOR().key;\n\t}\n\n\t/**\n\t * Handle Switch Change.\n\t *\n\t * @param {Event} oEvent The event object.\n\t * @private\n\t */\n\tprivate _handleSwitchChange(oEvent: Switch$ChangeEvent): void {\n\t\tconst selectedObject = this.selectedContext.getObject() as ISpace;\n\t\tconst switchValue = oEvent.getParameter(\"state\");\n\n\t\t//Check if existing personalization is available\n\t\tconst oExistingChange = this.keyuserSpaceColorChanges.find((changes) => {\n\t\t\treturn changes.spaceId === selectedObject.id;\n\t\t});\n\n\t\tif (oExistingChange) {\n\t\t\toExistingChange.applyColorToAllPages = selectedObject.applyColorToAllPages as boolean;\n\t\t} else {\n\t\t\tthis._handleColorSelect(null, selectedObject.BGColor?.value as string);\n\t\t}\n\n\t\tconst colorKey = switchValue ? (selectedObject.BGColor?.key as string) : DEFAULT_BG_COLOR().key;\n\t\tconst colorValue = switchValue ? (selectedObject.BGColor?.value as string) : DEFAULT_BG_COLOR().value;\n\n\t\t// Apply color to all pages\n\t\tthis._applyInnerPageColoring(selectedObject, colorKey, colorValue as string, switchValue as boolean);\n\t}\n\n\t/**\n\t * Apply inner page coloring.\n\t *\n\t * @param {ISpace} oSpace The space object.\n\t * @param {string} sColorKey The color key.\n\t * @param {string} sColorValue The color value.\n\t * @param {boolean} bApplyColorToAllPages The flag to apply color to all pages.\n\t * @private\n\t */\n\tprivate _applyInnerPageColoring(oSpace: ISpace, sColorKey: string, sColorValue: string, bApplyColorToAllPages: boolean): void {\n\t\tconst innerPages = this._getInnerPages(oSpace);\n\n\t\tinnerPages.forEach((oPage) => {\n\t\t\tif (!bApplyColorToAllPages && oPage.page.isPagePersonalization) {\n\t\t\t\tconst oExistingChange = this.keyuserPageColorChanges.find(function (oChange) {\n\t\t\t\t\treturn oChange.pageId === oPage.page.id;\n\t\t\t\t});\n\t\t\t\tif (oExistingChange) {\n\t\t\t\t\tconst BGColor = oExistingChange.BGColor;\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", BGColor);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", Parameters.get({ name: BGColor as string }));\n\t\t\t\t} else {\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", (oPage.page.oldColor as IColor)?.key);\n\t\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", (oPage.page.oldColor as IColor)?.value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/key\", sColorKey);\n\t\t\t\tthis.controlModel.setProperty(oPage.bindingPath + \"/BGColor/value\", sColorValue);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Get Inner Pages of Space.\n\t *\n\t * @returns {ISpace} Space.\n\t * @private\n\t */\n\n\tprivate _getInnerPages(oSpace: ISpace) {\n\t\treturn oSpace.children.map((oPage, index) => {\n\t\t\treturn {\n\t\t\t\tpage: oPage,\n\t\t\t\tbindingPath: this.selectedContext.getPath() + \"/children/\" + index\n\t\t\t};\n\t\t});\n\t}\n\n\t/**\n\t * Merge Key User Changes.\n\t *\n\t * @private\n\t */\n\tprivate _mergeKeyUserChanges(): void {\n\t\tconst pagePanel = this._getPanel() as PagePanel;\n\t\tconst wrapperContainer = pagePanel.getParent() as NewsAndPagesContainer;\n\t\tconst layout = wrapperContainer.getParent() as BaseLayout;\n\n\t\t// Add Space Color Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceColorChanges.length) {\n\t\t\tconst keyuserSpaceColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserSpaceColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceColorChanges);\n\t\t}\n\n\t\t// Add Page Color Changes to KeyUser Changes\n\t\tif (this.keyuserPageColorChanges.length) {\n\t\t\tconst keyuserPageColorChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_COLOR,\n\t\t\t\t\tcontent: [...this.keyuserPageColorChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageColorChanges);\n\t\t}\n\n\t\t// Add Space Icon Changes to KeyUser Changes\n\t\tif (this.keyuserSpaceIconChanges.length) {\n\t\t\tconst keyuserSpaceIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.SPACE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserSpaceIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserSpaceIconChanges);\n\t\t}\n\n\t\t// Add Page Icon Changes to KeyUser Changes\n\t\tif (this.keyuserPageIconChanges.length) {\n\t\t\tconst keyuserPageIconChanges: IKeyUserChange = {\n\t\t\t\tselectorControl: layout,\n\t\t\t\tchangeSpecificData: {\n\t\t\t\t\tchangeType: CHANGE_TYPES.PAGE_ICON,\n\t\t\t\t\tcontent: [...this.keyuserPageIconChanges]\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addKeyUserChanges(keyuserPageIconChanges);\n\t\t}\n\t}\n\n\t/**\n\t * Handle Dialog Close.\n\t *\n\t * @private\n\t */\n\tprivate _handleDialogClose(): void {\n\t\tthis._mergeKeyUserChanges();\n\t\t// Add All Changes to KeyUser Dialog\n\t\tthis._eventBus.publish(\"KeyUserChanges\", \"addNewsPagesChanges\", { changes: this.getKeyUserChanges() });\n\n\t\tconst dialogId = `${this.getId()}-keyUserPagesSettingsDialog`;\n\t\t(this.controlMap.get(dialogId) as Dialog).close();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}