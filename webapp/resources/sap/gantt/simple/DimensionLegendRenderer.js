/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/util/ObjectPath","sap/gantt/misc/Utility","./BasePath","sap/ui/core/Core","sap/gantt/utils/GanttChartConfigurationUtils"],function(t,e,a,n,r){"use strict";var s={apiVersion:2};var i=10;var l=function(){var t=32;var a=e.findSapUiSizeClass();return e.scaleBySapUiSize(a,t)};s.render=function(t,e){t.openStart("div",e);t.openEnd();var a=e.getColumnConfigs();var n=e.getRowConfigs();var r=[];for(var s=0;s<n.length;s++){var i=n[s];var l={};l.text=i.getText();var o=i.getShapeClass();var v=i.getShapeName();var p=i.getStroke();var h=i.getStrokeWidth();var d=sap.ui.require(o.replaceAll(".","/"));var g=[];for(var c=0;c<a.length;c++){var f=a[c].getFill();if(f==null){var u=a[c].getFillFactory();if(typeof u==="function"){f=u(v)}}var x=new d({stroke:p,strokeWidth:h,fill:f});g.push(x)}l.shapeInstances=g;r.push(l)}this.renderYDimension(t,r);var y=[];for(var S=0;S<a.length;S++){var m={};m.text=a[S].getText();y.push(m)}this.renderXDimension(t,y);t.close("div")};s.renderYDimension=function(t,e){for(var a=0;a<e.length;a++){this.renderYItems(t,e[a],a)}};s.renderYItems=function(t,e,a){var n=l(),r=n+"px";var s=n/2,i=s;t.openStart("div");t.attr("title",e.text);t.class("sapGanttDLItem");t.style("height",r);t.style("line-height",r);t.style(this._getMarginStyle(),i/2+"px");t.openEnd();this.renderYSvgPart(t,e.shapeInstances,i,s);this.renderYLegendText(t,e.text);t.close("div")};s._getMarginStyle=function(){var t=r.getRTL();return"margin-"+(t?"right":"left")};s.normalizeShape=function(t,e,a,n){var r=a/2;var s={x:n*(e+i)+i/2,y:0,x1:0,y1:r,x2:e,y2:r,width:e,height:a,yBias:r,rowYCenter:r};if(t.isA("sap.gantt.simple.BaseCursor")||t.isA("sap.gantt.simple.BaseDiamond")){s.x+=e/2}if(t.isA("sap.gantt.simple.shapes.Shape")){t.setWidth(e);t.setHeight(a);t.setStartX(0);t.setRowYCenter(a)}else{Object.keys(s).forEach(function(e){var a=e.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)},"set");if(t[a]){t[a](s[e])}})}};s.renderYSvgPart=function(t,e,a,n){t.openStart("svg");t.attr("tabindex",-1);t.attr("focusable",false);t.class("sapGanttDLSvg");t.style("width",(a+i)*e.length+"px");t.openEnd();for(var r=0;r<e.length;r++){this.normalizeShape(e[r],a,n,r);e[r].renderElement(t,e[r])}t.close("svg")};s.renderYLegendText=function(t,e){t.openStart("div");t.class("sapGanttDLItemTxt");t.openEnd();if(e){t.text(e)}t.close("div")};s.renderXDimension=function(t,e){var a=e.length;var n=l(),r=n+"px";var s=n/2,i=s;t.openStart("div");t.class("sapGanttDLItem");t.style("height",r*a);t.style("line-height",r);t.style(this._getMarginStyle(),i/2+"px");t.openEnd();this.renderXDimensionPath(t,e);this.renderXDimensionText(t,e);t.close("div")};s.renderXDimensionPath=function(t,e){var n=e.length;var s=l();var o=s/2,v=o;t.openStart("div");t.style("height",s*n+"px");var p=(s/2+i)*n;t.style("width",p+"px");t.style("display","block");t.openEnd();t.openStart("svg");t.attr("tabindex",-1);t.attr("focusable",false);t.attr("width",p+"px");t.class("sapGanttDLSvg");t.openEnd();var h=r.getRTL();for(var d=0;d<n;d++){var g=d*(v+i)+i/2+v/2;var c="M"+g+" 0";if(h){c+=" v"+(d+.5)*s;c+=" h"+-g}else{c+=" v"+(n-d-.5)*s;c+=" h"+((s/2+i)*n-g)}var f=new a({d:c,fill:"transparent",strokeWidth:2.5}).addStyleClass("sapGanttDimensionLegendPath");f.renderElement(t,f)}t.close("svg");t.close("div")};s.renderXDimensionText=function(t,e){var a=e.length;var n=l();t.openStart("div");t.class("sapGanttDLItemTxt");t.style("height",n*a+"px");t.style("width","100%");t.openEnd();for(var r=a-1;r>=0;r--){t.openStart("div");var s=e[r].text;if(s){t.attr("title",s)}t.class("sapGanttDLItemTxt");t.style("font-style","italic");t.style("height",n+"px");t.openEnd();if(s){t.text(e[r].text)}t.close("div")}t.close("div")};return s},true);
//# sourceMappingURL=DimensionLegendRenderer.js.map