/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/core/Element","./GanttUtils","sap/ui/core/theming/Parameters","sap/gantt/library"],function(e,t,r,a){"use strict";var i=e.extend("sap.gantt.simple.DeltaLine",{metadata:{library:"sap.gantt",properties:{stroke:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"sapChart_Sequence_3_BorderColor"},_strokeWidth:{type:"float",defaultValue:1,visibility:"hidden"},strokeDasharray:{type:"string"},strokeOpacity:{type:"float",defaultValue:1},timeStamp:{type:"string"},endTimeStamp:{type:"string"},description:{type:"string"},visible:{type:"boolean",defaultValue:true},visibleDeltaStartEndLines:{type:"boolean",defaultValue:true},timeDelay:{type:"int",defaultValue:300},draggable:{type:"boolean",defaultValue:false},resizable:{type:"boolean",defaultValue:false},_enableChartDeltaAreaHighlight:{type:"boolean",defaultValue:true,visibility:"hidden"},_isSelected:{type:"boolean",defaultValue:false,visibility:"hidden"},_level:{type:"int",defaultValue:1,visibility:"hidden"},_visibleMarker:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{_startLine:{type:"sap.gantt.simple.BaseLine",multiple:false,visibility:"hidden"},_endLine:{type:"sap.gantt.simple.BaseLine",multiple:false,visibility:"hidden"},_forwardMarker:{type:"sap.gantt.simple.BaseTriangle",multiple:false,visibility:"hidden"},_backwardMarker:{type:"sap.gantt.simple.BaseTriangle",multiple:false,visibility:"hidden"},_headerDeltaArea:{type:"sap.gantt.simple.BaseDeltaRectangle",multiple:false,visibility:"hidden"},_headerStartLine:{type:"sap.gantt.simple.BaseLine",multiple:false,visibility:"hidden"},_headerEndLine:{type:"sap.gantt.simple.BaseLine",multiple:false,visibility:"hidden"},_chartDeltaArea:{type:"sap.gantt.simple.BaseDeltaRectangle",multiple:false,visibility:"hidden"}},events:{press:{},mouseEnter:{},mouseLeave:{},deltalineDrop:{parameters:{newStartTime:{type:"string"},newEndTime:{type:"string"},oldStartTime:{type:"string"},oldEndTime:{type:"string"}}},deltalineResize:{parameters:{newTimeStamp:{type:"string"},newEndTimeStamp:{type:"string"},oldTimeStamp:{type:"string"},oldEndTimeStamp:{type:"string"},deltaline:{type:"sap.gantt.simple.DeltaLine"}}}},designtime:"sap/gantt/designtime/simple/DeltaLine.designtime"},renderer:{apiVersion:2}});i.prototype._getStrokeWidth=function(){return this.getProperty("_strokeWidth")};i.prototype.getStroke=function(){return a.ValueSVGPaintServer.normalize(this.getProperty("stroke"))};i.prototype._setStartLine=function(e){this.setAggregation("_startLine",e,true)};i.prototype._getStartLine=function(){return this.getAggregation("_startLine")};i.prototype._setEndLine=function(e){this.setAggregation("_endLine",e,true)};i.prototype._getEndLine=function(){return this.getAggregation("_endLine")};i.prototype._setForwardMarker=function(e){this.setAggregation("_forwardMarker",e,true)};i.prototype._getForwardMarker=function(){return this.getAggregation("_forwardMarker")};i.prototype._setBackwardMarker=function(e){this.setAggregation("_backwardMarker",e,true)};i.prototype._getBackwardMarker=function(){return this.getAggregation("_backwardMarker")};i.prototype._setHeaderDeltaArea=function(e){this.setAggregation("_headerDeltaArea",e,true)};i.prototype._getHeaderDeltaArea=function(){return this.getAggregation("_headerDeltaArea")};i.prototype._setHeaderStartLine=function(e){this.setAggregation("_headerStartLine",e,true)};i.prototype._getHeaderStartLine=function(){return this.getAggregation("_headerStartLine")};i.prototype._setHeaderEndLine=function(e){this.setAggregation("_headerEndLine",e,true)};i.prototype._getHeaderEndLine=function(){return this.getAggregation("_headerEndLine")};i.prototype._setChartDeltaArea=function(e){this.setAggregation("_chartDeltaArea",e,true)};i.prototype._getChartDeltaArea=function(){return this.getAggregation("_chartDeltaArea")};i.prototype._setEnableChartDeltaAreaHighlight=function(e){this.setProperty("_enableChartDeltaAreaHighlight",e,true)};i.prototype._getEnableChartDeltaAreaHighlight=function(){return this.getProperty("_enableChartDeltaAreaHighlight")};i.prototype._setIsSelected=function(e){this.setProperty("_isSelected",e,true)};i.prototype._getIsSelected=function(){return this.getProperty("_isSelected")};i.prototype._setLevel=function(e){this.setProperty("_level",e,true)};i.prototype._getLevel=function(){return this.getProperty("_level")};i.prototype._setVisibleMarker=function(e){this.setProperty("_visibleMarker",e,true)};i.prototype._getVisibleMarker=function(){return this.getProperty("_visibleMarker")};i.prototype.press=function(e){this.onMouseClick()};i.prototype.mouseEnter=function(e){this.onMouseEnter()};i.prototype.mouseLeave=function(e){this.onMouseLeave()};i.prototype.onMouseClick=function(){if(!this._getIsSelected()){t.resetStrokeDasharray(this.getParent());this._setIsSelected(true)}var e=this._getChartDeltaArea();var a=this._getHeaderDeltaArea();var i=this._getForwardMarker();var s=this._getBackwardMarker();var n=r.get({name:"sapUiChartDataPointBorderColor",callback:function(e){n=e}});if(e){var l=document.getElementById(e.sId);if(this._getEnableChartDeltaAreaHighlight()===true){l.style.opacity=1}if(this.getVisibleDeltaStartEndLines()){var o=this._getStartLine();var d=this._getEndLine();var g=this._getHeaderStartLine();var y=this._getHeaderEndLine();if(o&&d&&g&&y){var h=document.getElementById(o.sId);var p=document.getElementById(d.sId);var u=document.getElementById(g.sId);var c=document.getElementById(y.sId);h.style.strokeDasharray=0;p.style.strokeDasharray=0;u.style.strokeDasharray=0;c.style.strokeDasharray=0;h.style.strokeWidth=this._getStrokeWidth()+1;p.style.strokeWidth=this._getStrokeWidth()+1;u.style.strokeWidth=this._getStrokeWidth()+1;c.style.strokeWidth=this._getStrokeWidth()+1}}if(i&&s&&a){var _=document.getElementById(i.sId);var m=document.getElementById(s.sId);var k=document.getElementById(a.sId);_.style.fillOpacity=1;m.style.fillOpacity=1;_.style.stroke=n;m.style.stroke=n;k.style.opacity=1}}if(this._getIsSelected()&&this.getDraggable()){k.style.cursor="Move"}if(this._getIsSelected()&&this.getResizable()){var f=this.getParent()._getResizeExtension();f.addDeltaLineResizer(this._getHeaderDeltaArea())}};i.prototype.onMouseEnter=function(){var e=this._getForwardMarker();var t=this._getBackwardMarker();var a=this._getHeaderDeltaArea();var i=r.get({name:"sapUiChartDataPointBorderColor",callback:function(e){i=e}});if(this.getVisibleDeltaStartEndLines()){var s=this._getStartLine();var n=this._getEndLine();var l=this._getHeaderStartLine();var o=this._getHeaderEndLine();if(s&&n&&o&&l){var d=document.getElementById(s.sId);var g=document.getElementById(n.sId);var y=document.getElementById(l.sId);var h=document.getElementById(o.sId);d.style.strokeDasharray=0;g.style.strokeDasharray=0;y.style.strokeDasharray=0;h.style.strokeDasharray=0;d.style.strokeWidth=this._getStrokeWidth()+1;g.style.strokeWidth=this._getStrokeWidth()+1;y.style.strokeWidth=this._getStrokeWidth()+1;h.style.strokeWidth=this._getStrokeWidth()+1}}var p=document.getElementById(e.sId);var u=document.getElementById(t.sId);var c=document.getElementById(a.sId);p.style.fillOpacity=1;u.style.fillOpacity=1;p.style.stroke=i;u.style.stroke=i;c.style.opacity=1;if(this._getIsSelected()&&this.getDraggable()){c.style.cursor="move"}};i.prototype.onMouseLeave=function(){var e=this._getIsSelected();var t=this._getForwardMarker();var a=this._getBackwardMarker();var i=this._getHeaderDeltaArea();if(!e){if(this.getVisibleDeltaStartEndLines()){var s=this._getStartLine();var n=this._getEndLine();var l=this._getHeaderStartLine();var o=this._getHeaderEndLine();if(s&&n){var d=document.getElementById(s.sId);var g=document.getElementById(n.sId);var y=document.getElementById(l.sId);var h=document.getElementById(o.sId);d.style.strokeDasharray=this.getStrokeDasharray();g.style.strokeDasharray=this.getStrokeDasharray();y.style.strokeDasharray=this.getStrokeDasharray();h.style.strokeDasharray=this.getStrokeDasharray();d.style.strokeWidth=this._getStrokeWidth();g.style.strokeWidth=this._getStrokeWidth();y.style.strokeWidth=this._getStrokeWidth();h.style.strokeWidth=this._getStrokeWidth()}}if(t&&a){var p=document.getElementById(t.sId);var u=document.getElementById(a.sId);var c=document.getElementById(i.sId);c.style.opacity=1;var _=r.get({name:"sapUiChartDataPointBorderColor",callback:function(e){_=e}});if(this._getVisibleMarker()===true){p.style.fillOpacity=1;u.style.fillOpacity=1;p.style.stroke=_;u.style.stroke=_}else{p.style.fillOpacity=0;u.style.fillOpacity=0;p.style.stroke=null;u.style.stroke=null}}}};return i},true);
//# sourceMappingURL=DeltaLine.js.map