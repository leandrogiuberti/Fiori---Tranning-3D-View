{"version":3,"file":"GanttPopoverExtension.js","names":["sap","ui","define","jQuery","KeyCodes","Core","Utility","GanttExtension","GanttUtils","CoordinateUtils","library","GanttChartConfigurationUtils","Lib","_sNamespace","sMouseDown","sMouseDownWithNamespace","aEvents","BrowserEvent","reduce","events","name","aEventWithNamespace","map","sEvent","PopoverHelper","dispatchEvent","oEvent","oExtension","this","_getPopoverExtension","type","mousemove","onMouseMove","mouseup","onMouseUp","keydown","onKeydown","entry","onMouseDown","addEventListeners","oGantt","removeEventListeners","oSvg","getDomRefs","ganttSvg","on","bind","off","addPopoverEventListeners","removePopoverEventListeners","forEach","sEventName","document","SnapMode","dragdrop","GanttPopoverExtension","extend","_init","mSettings","_initPopoverStates","_attachEvents","getGantt","_detachEvents","prototype","_iOffsetX","_iOffsetY","_bNeedReverse","snapTimer","oDragExtension","_getDragDropExtension","getShowShapeTimeOnDrag","isDraggingOrResizing","getSnapMode","None","_showPopoverOnSnap","_showPopover","isDragging","bMultipleShapes","bTimePopover","window","clearTimeout","setTimeout","oSelection","getSelection","iSelectedDraggableShapes","numberOfSelectedDraggableShapes","getEnableMultipleGhosts","pageWidth","innerWidth","pageHeight","innerHeight","_hidePopover","keyCode","ESCAPE","oResizer","_getResizeExtension","isResizing","_buildPopover","_oRb","getResourceBundleFor","sStart","getText","sEnd","sNumberOfObjects","getNumberOfDragObject","createTimeDiv","sLabel","sClass","sContent","createCountDiv","oTimePopover","oCountPopover","createAnchor","_calcPopoverOffset","oAnchor","getElementById","append","oPositionData","_getPopoverData","_updateTime","bRtl","getRTL","sMarginDirction","oStyle","marginTop","offsetY","offsetX","oWrapper","css","find","text","startNewDate","endNewDate","_getDragDropOrResizingDom","dragGhost","get","children","aShapes","getShapesWithUid","getId","origin","resizeFor","length","getShapeUid","body","_oTargetDom","moveAnchor","oPoint","getEventPosition","iPageX","pageX","iPageY","pageY","iScreenWidth","iScreenHeight","iSpaceY","height","oAnchorDom","style","left","top","checkIfNeedReverse","iWidth","width","getGhostAlignment","classList","remove","oPopoverAnchorDom","parentNode","removeChild","iOffsetX","oPopoverData","oCurrentTime","_getCurrentTime","oLocale","getLocale","oFormater","getTimeFormaterBySmallInterval","getLowerCaseLabel","getFormattedDate","time","endTime","_getGhostTime","_getResizeTime","_getOffsetY","_oDraggedDom","oDragClientRect","getBoundingClientRect","iOffsetY","Math","ceil","_updatePopoverWhenAutoScroll"],"sources":["GanttPopoverExtension-dbg.js"],"mappings":"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","ignoreList":[]}