/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/library","sap/ui/core/Control","sap/ui/base/Object","sap/m/OverflowToolbarAssociativePopoverControls"],function(t,o,e,r){"use strict";var n=t.simple.ContainerToolbarPlaceholderType;var i=o.extend("sap.gantt.simple.ContainerToolbarPlaceholder",{metadata:{library:"sap.gantt",interfaces:["sap.m.IOverflowToolbarContent"],properties:{type:{type:"sap.gantt.simple.ContainerToolbarPlaceholderType",defaultValue:null},_show:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{_control:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2,render:function(t,o){var e=o._getControl();if(!e||!o._getShow()){return}if(o.getType()==="Spacer"){t.renderControl(e)}else{t.openStart("div",o).openEnd();t.renderControl(e);t.close("div")}}}});i.prototype.init=function(){this._oOverflowToolbarAssociativePopoverControls=new r;this._aControlAutoCloseEvents=[]};i.prototype.getOverflowToolbarConfig=function(){var t=this._getControl(),o="sapGanttSimpleContainerToolbarPlaceholderInPopover",r=this._mapOverflowToolbarConfig();if(!t){return r}if(e.isA(t,"sap.m.SegmentedButton")){r.onBeforeEnterOverflow=function(){t._onBeforeEnterOverflow(t);this.addStyleClass(o)}.bind(this);r.onAfterExitOverflow=function(){t._onAfterExitOverflow(t);this.removeStyleClass(o)}.bind(this)}else if(e.isA(t,"sap.m.OverflowToolbarButton")){r.onBeforeEnterOverflow=function(){this.addStyleClass(o);this._oOverflowToolbarAssociativePopoverControls._preProcessSapMButton(t);t._bInOverflow=true}.bind(this);r.onAfterExitOverflow=function(){this.removeStyleClass(o);delete t._bInOverflow;this._oOverflowToolbarAssociativePopoverControls._postProcessSapMButton(t)}.bind(this)}if(r.autoCloseEvents){this._attachAutoCloseEvents(r.autoCloseEvents);r.autoCloseEvents=["_controlAutoCloseEvent"]}return r};i.prototype._mapOverflowToolbarConfig=function(){var t=this._getControl(),o={canOverflow:!(this._isTypeSpacer()||this._isTypeTimeZoomControl())},e;if(!t){return o}if(t.getMetadata().getInterfaces().indexOf("sap.m.IOverflowToolbarContent")!==-1){return t.getOverflowToolbarConfig()}e=r.getControlConfig(t);if(e){o={canOverflow:e.canOverflow,autoCloseEvents:e.listenForEvents,propsUnrelatedToSize:e.noInvalidationProps,onBeforeEnterOverflow:e.preProcess,onAfterExitOverflow:e.postProcess}}return o};i.prototype._attachAutoCloseEvents=function(t){var o=this._getControl(),e;t.forEach(function(t){e="attach"+this._capitalize(t);if(o[e]){o[e](this._fireAutoCloseEvent.bind(this))}else{o.attachEvent(t,this._fireAutoCloseEvent.bind(this))}}.bind(this));this._aControlAutoCloseEvents=t};i.prototype._detachAutoCloseEvents=function(){var t=this._getControl(),o;this._aControlAutoCloseEvents.forEach(function(e){o="detach"+this._capitalize(e);if(t[o]){t[o](this._fireAutoCloseEvent,this)}else{t.detachEvent(e,this._fireAutoCloseEvent,this)}},this);this._aControlAutoCloseEvents=[]};i.prototype._toSelectMode=function(){this._getControl()._toSelectMode()};i.prototype._toNormalMode=function(){this._getControl()._toNormalMode()};i.prototype.getIcon=function(){return this._getControl().getIcon()};i.prototype.getLayoutData=function(){var t=this._getControl();return t?t.getLayoutData():null};i.prototype._getControl=function(){return this.getAggregation("_control")};i.prototype._setControl=function(t){this.setAggregation("_control",t)};i.prototype._getShow=function(){return this.getProperty("_show")};i.prototype._isTypeSpacer=function(){return this.getType()===n.Spacer};i.prototype._isTypeTimeZoomControl=function(){return this.getType()===n.TimeZoomControl};i.prototype._fireAutoCloseEvent=function(){this.fireEvent("_controlAutoClose")};i.prototype._capitalize=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)};i.prototype.setType=function(t){var o=this.getParent();if(o&&t!==this.getType()){this._detachAutoCloseEvents();this._setControl(null);o.bShallUpdateContent=true;o.invalidate()}this.setProperty("type",t,true)};return i});
//# sourceMappingURL=ContainerToolbarPlaceholder.js.map