{"version":3,"file":"GanttLassoExtension.js","names":["sap","ui","define","jQuery","KeyCodes","GanttExtension","CoordinateUtils","Utility","Parameters","_sNamespace","LassoHelper","addEventListeners","oGantt","this","removeEventListeners","oExtension","_getLassoExtension","lassoDoms","rowArea","on","beforeLasso","bind","off","addLassoEventListeners","removeLassoEventListeners","$gantt","getDomRefs","gantt","onMousemove","endLasso","onKeydown","GanttLassoExtension","extend","_init","mSettings","_initLassoStates","_attachEvents","getGantt","_detachEvents","prototype","mDom","_oLassoStartPoint","_bLassoDrawing","getSvgElement","ganttSvg","_getShapeConnectRootNode","$lassoContainer","lasso","d3","select","get","rect","x","y","w","h","_getLassoData","oSvgPoint","iLassoX1","iLassoX2","iLassoY1","iLassoY2","oParameters","name","callback","mParams","oLassoData","class","d","fill","sapChart_Sequence_1_Plus3","stroke","sapChart_Sequence_1_Plus1","createLasso","getD3Doms","lassoRect","empty","oShapeConnectRootNode","append","attr","isLassoDrawing","oEvent","button","getSelection","sSelectionMode","SelectionMode","MultiWithKeyboardAndLasso","MultipleWithLasso","oSvg","getEventSVGPoint","ctrlKey","metaKey","_bDeselectShapes","setSelectedShapeUid","onLassoDrawing","shapeInLasso","iShapeX1","iShapeX2","iShapeY1","iShapeY2","getShapeElementByTarget","target","getDraggableDOMElement","control","closest","selectAll","remove","oStartPoint","oCurrentShape","sShapeUid","mBias","bInvert","getEnableLassoInvert","aSelectedShapes","getSelectedShapeUid","aAllShapesInLasso","aAlreadySelectedVisibleShapesInLasso","$oSvg","aVisibleShapes","find","toArray","aVisibleRelations","bIsShapeSelectable","forEach","oBaseShape","i","classList","contains","getSelectable","getShapeBias","sTransform","getAttribute","aBias","slice","indexOf","split","length","parseFloat","getShapeUid","getParentRowSettings","getBBox","width","height","bShapeInLasso","iShapeAlreadySelected","bShapeAlreadySelected","push","aShapeUids","toString","_bSupressShapeChangeEvent","keyCode","ESCAPE","$svg","$lassoArea","$rowArea","oNode"],"sources":["GanttLassoExtension-dbg.js"],"mappings":"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","ignoreList":[]}