/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/Log","./BaseText","./BaseRectangle","./RenderUtils","sap/ui/core/IconPool","sap/ui/core/Core","sap/gantt/utils/GanttChartConfigurationUtils"],function(e,t,n,o,r,i,s){"use strict";var a=t.extend("sap.gantt.simple.BaseImage",{metadata:{library:"sap.gantt",properties:{src:{type:"sap.ui.core.URI",defaultValue:null},width:{type:"sap.gantt.SVGLength",defaultValue:20},height:{type:"sap.gantt.SVGLength",defaultValue:20}}},renderer:{apiVersion:2}});var p=["x","y","width","height","transform","opacity"];var g={IconFont:"iconFont",Image:"bitImage"};a.prototype._needToRenderAs=function(){return r.isIconURI(this.getSrc())?g.IconFont:g.Image};a.prototype.getText=function(){if(this._needToRenderAs()===g.IconFont){var t=r.getIconInfo(this.getSrc());if(t){return t.content}}else{e.error('"getText" can not be invoked since it\'s not a icon font!',this)}};a.prototype.getFontFamily=function(){if(this._needToRenderAs()===g.IconFont){var t=r.getIconInfo(this.getSrc());if(t){return t.fontFamily}}else{e.error('"getFontFamily" can not be invoked since it\'s not a icon font!',this)}};a.prototype.getFontSize=function(){if(this._needToRenderAs()===g.IconFont){return parseFloat(this.getHeight())}else{e.error('"getFontSize" can not be invoked since it\'s not a icon font!',this)}};a.prototype.getX=function(){var e=s.getRTL();if(this._needToRenderAs()===g.Image){if(e){return n.prototype.getX.apply(this)-this.getWidth()}return n.prototype.getX.apply(this)}else if(this._needToRenderAs()===g.IconFont){return t.prototype.getX.apply(this)}};a.prototype.getY=function(){if(this._needToRenderAs()===g.Image){return n.prototype.getY.apply(this)}else if(this._needToRenderAs()===g.IconFont){return t.prototype.getY.apply(this)}};a.prototype.renderElement=function(e,n){if(this._needToRenderAs()===g.Image){this.writeElementData(e,"image",true);if(this.aCustomStyleClasses){this.aCustomStyleClasses.forEach(function(t){e.class(t)})}o.renderAttributes(e,n,p);e.attr("href",this.getProperty("src"));e.openEnd();o.renderTooltip(e,n);e.close("image")}else if(this._needToRenderAs()===g.IconFont){var r=this.getParent();var i=r&&r.isPseudoShape;if(!i){t.prototype.renderElement.apply(this,arguments)}else{var s=r&&r.getAggregation("task");var a=r&&r.getButton&&r.getButton()[0].getHeight();n.bPseudoShape=i;n.oTextElement=n;n.iIconHeight=a;if(s.truncatedTextWidth+(2+a)<=s.iTruncateWidth){t.prototype.renderElement.apply(this,arguments)}}}};return a},true);
//# sourceMappingURL=BaseImage.js.map