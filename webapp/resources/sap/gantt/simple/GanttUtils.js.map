{"version":3,"file":"GanttUtils.js","names":["sap","ui","define","jQuery","Log","BaseObject","CalendarType","Utility","DateFormat","Locale","OverflowToolbar","Parameters","CoordinateUtils","MarkerType","Format","library","AutoRowMode","FixedRowMode","InteractiveRowMode","GanttChartConfigurationUtils","Element","RenderManager","ObjectPath","Millisecond","oContextCache","shapesWithRowLevels","exitShapeTraversingLoop","exitRowTraversingLoop","GanttUtils","SHAPE_ID_DATASET_KEY","ROW_ID_DATASET_KEY","CONNECTABLE_DATASET_KEY","SELECT_FOR_DATASET_KEY","SHAPE_CONNECT_FOR_DATASET_KEY","SHAPE_CONNECT_INDICATOR_WIDTH","oDateFormat","getDateInstance","pattern","calendarType","Gregorian","shapeElementById","sShapeId","sGanttSvgId","oGanttSvg","window","document","getElementById","oShapeContainer","querySelector","aNodeList","querySelectorAll","oElementNode","control","isRelationshipConnectedToPseudoShapes","oGantt","oTableRows","getTable","getRows","bFoundShapeForRelationship","oPseudoShapesForRelationship","forEach","oTableRow","oRowSetting","getAggregation","getPseudoShapes","filter","oPseudoShape","aShapeIds","indexOf","getId","getValueX","oShape","nTimeX","oProp","getMetadata","getProperty","name","undefined","bRTL","getRTL","vTime","getEndTime","getTime","getXByTime","isNumeric","warning","getRowInstance","oEvent","oTable","iRowIndex","controlElem","target","getParentRowSettings","getParent","getIndex","closest","data","setTableRowMode","oRowMode","getRowMode","getVisibleRowCountMode","setRowMode","getRowInstancefromShape","oRowSettings","getParentRow","_get2dContext","iFontSize","sFontFamily","sFontWeight","context","createElement","getContext","fontSize","fontFamily","fontWeight","font","getShapeTextWidth","sText","this","measureText","width","getSelectedTableRowSettings","iSelectedIndex","aAllRows","iFirstVisibleRow","getFirstVisibleRow","length","iFirstRowIndex","iIndex","Math","abs","updateGanttRows","oDelegator","aRowState","$svg","$bgRects","find","getEnableChartSelectionState","eq","toggleClass","selected","getEnableChartHoverState","hovered","getShapesWithUid","sContainerId","aShapeUid","fnElementFromShapeId","sShapeUid","oPart","parseUid","shapeId","selector","join","sElm","oElement","id","oElmPart","getShapeUid","rowId","map","getShapeByShapeId","fnElements","push","getShapesInRowsById","sGanttId","rowIds","oSvg","shapes","sRowId","rowElm","Array","from","children","shape","reduce","acc","item","concat","getShapeIdFromShapeUid","ShapeUid","getTimeFormaterBySmallInterval","oAxisTimeStrategy","getAxisTimeStrategy","oSmallInterval","getTimeLineOption","smallInterval","oUnit","unit","oCalendarType","getCalendarType","oCoreLocale","getLocale","getLanguage","toLowerCase","sFormat","gantt","config","TimeUnit","minute","hour","oFormatLocale","locale","oFormatOptions","format","style","getDateTimeWithTimezoneInstance","getFormatedDateByTimeZone","oDate","sFormattedDate","abapTimestampToDate","resetStrokeDasharray","aSelectedLine","getSimpleAdhocLines","x","_getSelected","_setSelected","headerStroke","_getHeaderLine","sId","stroke","_getLine","marker","_getMarker","cursor","strokeDasharray","getStrokeDasharray","strokeWidth","_getStrokeWidth","aSelectedDeltaLine","getDeltaLines","_getIsSelected","oChartDeltaArea","_getChartDeltaArea","$chartdeltaArea","_getEnableChartDeltaAreaHighlight","opacity","oForwardMarker","_getForwardMarker","oBackwardMarker","_getBackwardMarker","oHeaderDeltaArea","_getHeaderDeltaArea","markerStroke","get","callback","mParams","getVisibleDeltaStartEndLines","oStartLine","_getStartLine","oEndLine","_getEndLine","oHeaderStartLine","_getHeaderStartLine","oHeaderEndLine","_getHeaderEndLine","fillOpacity","_getVisibleMarker","oResizeExtension","_getResizeExtension","clearAllDeltaOutline","_setIsSelected","adhocLinesPresentAndEnabled","oAdhocLine","None","getEnableAdhocLine","addToolbarToTable","oScope","isExportToExcel","getExtension","oOverFlowToolBar","addContent","oExportTableToExcelButton","addExtension","findSpaceInLevel","level","startTime","endTime","schemeRowSpanMap","oRowWithSpan","j","ganttRowOverlay","isA","currEndTime","prevEndTime","nextEndTime","iShapeRowSpan","getScheme","_stringToDateObject","parseInt","Object","keys","sortShapesByTime","sortedShapesWithRowLevels","swapped","i","temp","_partitionShapesIntoOverlappingRanges","startTimeProperty","endTimeProperty","sGetStartTime","charAt","toUpperCase","slice","sGetEndTime","l","internalRowWithSpan","sString","_getExpandedChildArray","aChild","aShapeSchemeKeys","childArraay","sStartDate","sEndDate","oChild","oActiveShape","_getActiveShapeElement","getEnablePseudoShapes","getShapes","setProperty","calculateLevelForShapes","allShapes","bLines","oInternalRowWithSpan","fnFlatten","arr","flat","toFlatten","isArray","oShapesWithRowSpan","aRanges","iMaxLevel","aRangesUpdated","values","shapeGroup","index","iLevel","_setLevel","_level","getShapeId","_overlayShapeIdList","aShapes","oResult","adhocLines","line","deltaLines","maxLevel","childWithLevels","getShapeSuccessors","aShapesToSelect","getEnableChainSelection","aVisibleRls","_getVisibleRelationships","aAssociatedRls","getPredecessor","rel","mShape","getRelatedInRowShapes","successor","Set","getShapePredeccessors","getSuccessor","predecessor","selectAssociatedShapes","mParam","oSelectedShape","oDragDropExtension","_getDragDropExtension","bNewSelected","getSelected","shapeSelectedOnMouseDown","initiallySelected","getEnableSelectAndDrag","_getShapesToSelect","oSelection","updateShape","ctrl","draggable","getDraggable","time","bind","getSelectableInChainSelection","aRelationships","row","aRls","getRelationships","rerenderAssociatedRelationships","oRm","allConnectedRelationships","oRlsInst","renderElement","getFilteredShapeType","shapeTypes","val","getPathCorners","sPath","fRadius","sTemp","replace","aResultSteps","sResult","aPathParts","split","aParts","sPart","a","match","aSteps","fPart","parseFloat","fnShiftInDirection","oPointFrom","oPointTo","fMagnitude","fDiffX","fDiffY","y","fDist","sqrt","fnPartialShiftInDirection","min","fnAdjustStep","aStep","oPoint","fnGetPointOfStep","oStartPoint","aCloseLine","iStep","aPrevStep","aCurrStep","aNextStep","fShiftedRadius","oPrevPoint","oCurrPoint","oNextPoint","oCurveStart","oCurveEnd","fPrevDistance","fNextDistance","fRadiusToUse","max","origPoint","oStartControl","oEndControl","aCurveStep","oNewStartPoint","s","c","arrayMove","oldIdx","newIdx","k","splice","getEdgePoint","edgePoint","existingShapes","getShapeTypeStart","getShapeTypeEnd","getRelationshipShapeSize","simple","relationshipShapeSize","Large","getTimeLabel","oAxisTime","oLocale","svg","mPoint","getEventSVGPoint","oLocalTime","oZoomStrategy","getZoomStrategy","viewToTime","getLowerCaseLabel","getFormattedDate","getLowerRowFormatter","getVisibleElements","parentSelector","elementSelector","isDynamicText","horizontalTextAlignment","dynamicText","classList","contains","tagName","oHtmlShape","iUid","getAttribute","getHorizontalTextAlignment","Dynamic","getTask","aCalenders","calendar","oHtmlCalendar","oCalendar","setLmarker","bFlag","x1","mAnchors","y1","x2","y2","vType","getProcessedType","_edgePoint","getLShapeForTypeSF","getLShapeForTypeFS","relSet","relSetFake","pseudoShapeGroupAfterEdit","trowIndex","aShapeGroups","iGroupIndex","aExpandedShapeIds","oOverlapShapeIds","iShapeCount","oOperation","dShapeStartTime","dShapeEndTime","oShapeGroup","dExistingShapeStartTime","dExistingShapeEndTime","relationexist","mRelatedShapes","getRlsAnchors","getVisible","fnCheckAnchors","oAnchor","isNaN","isFinite","geNumberOfTruncatedCharacters","iTextTotalLength","iTargetLength","oControl","fnMeasureText","bPrint","fJsPdfConstant","nCount","round","ceil","nLen1","apply","nLen2","_calculateSelectedShapeMinTime","oGanttContainer","that","_getShapeWithTime","_oFoundShape","BaseGroup","getSelectOnlyGraphicalShape","_eachChildOfGroup","labelGroup","nonLabelGroup","oMinGantt","oOverallMinTime","oOverallMinEndTime","bSync","getEnableTimeScrollSync","aGanttCharts","getGanttCharts","oGanttChart","getTotalHorizon","oMinTime","oMinEndTime","aSelectedShapeUid","getSelectedShapeUid","oVisibleHorizon","getVisibleHorizon","iVisibleHorizonStartTime","getStartTime","iVisibleHorizonEndTime","oStartTime","oEndTime","iStartTime","iEndTime","bShapeInVisibleHorizon","_minTime","_minEndTime","getObjectFromPath","sValue"],"sources":["GanttUtils-dbg.js"],"mappings":"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","ignoreList":[]}