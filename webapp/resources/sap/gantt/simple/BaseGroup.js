/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["./BaseShape","./AggregationUtils","./RenderUtils","sap/gantt/library"],function(e,t,n,i){"use strict";var r=i.simple.shapes.ShapeAlignment;var a=e.extend("sap.gantt.simple.BaseGroup",{metadata:{library:"sap.gantt",aggregations:{shapes:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape"}}},renderer:{apiVersion:2}});var s=["filter","opacity","transform"];a.prototype.renderElement=function(t,i){this.writeElementData(t,"g",false);var a=this.getGanttChartBase();var o=0,l=1;if(this.aCustomStyleClasses){this.aCustomStyleClasses.forEach(function(e){t.class(e)})}n.renderAttributes(t,i,s);if(i.getParent()&&i.getParent().isA("sap.gantt.simple.GanttRowSettings")){i.getParent().getParentGantt().getInnerGantt().attachEvent("_afterGanttRendered",function(){var e=document.getElementById(this.getId());if(e){if(this.getAlignShape()==r.Top){o=-((this._iBaseRowHeight-e.getBBox().height)/2)+l}else if(this.getAlignShape()==r.Bottom){o=(this._iBaseRowHeight-e.getBBox().height)/2-l}if(o){o=parseInt(o);e.style.transform="translate(0, "+o+"px)"}else{e.style.transform="none"}}}.bind(i))}t.openEnd();n.renderTooltip(t,i);if(a&&a.getSelectOnlyGraphicalShape()){this.renderChildElementsInGroups(t,i)}else{this.renderChildElements(t,i)}if(this.getShowAnimation()){n.renderElementAnimation(t,i)}t.close("g");e.prototype.renderElement.apply(this,arguments)};a.prototype.renderChildElements=function(e,t){this._eachChildOfGroup(t,function(n){if(n instanceof sap.gantt.simple.BaseConditionalShape&&n.getVisible()){n=n._getActiveShapeElement()}if(n&&n.renderElement&&n.getVisible()){n.setProperty("childElement",true,true);n.setProperty("rowYCenter",t.getRowYCenter(),true);n._iBaseRowHeight=t._iBaseRowHeight;n.renderElement(e,n)}})};a.prototype.renderChildElementsInGroups=function(e,t){this._eachChildOfGroup(t,function(n,i){if(i&&i.length>0){if(n&&n.length>0){e.openStart("g",this.getId()+"-nonLabelGroup");e.openEnd()}this._renderGroups(i,t,e);if(n&&n.length>0){e.close("g")}}if(n&&n.length>0){this._renderGroups(n,t,e)}}.bind(this))};a.prototype._eachChildOfGroup=function(e,n){t.eachNonLazyAggregation(e,n)};a.prototype._renderGroups=function(e,t,n){var i=e.length;for(var r=0;r<i;r++){var a=e[r];if(a instanceof sap.gantt.simple.BaseConditionalShape&&a.getVisible()){a=a._getActiveShapeElement()}if(a&&a.renderElement&&a.getVisible()){a.setProperty("childElement",true,true);a.setProperty("rowYCenter",t.getRowYCenter(),true);a._iBaseRowHeight=t._iBaseRowHeight;a.renderElement(n,a)}}};return a},true);
//# sourceMappingURL=BaseGroup.js.map