/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/base/EventProvider"],function(i){"use strict";var h=i.extend("sap.gantt.simple.HighlightModel",{constructor:function(){i.apply(this,arguments);this.sHighlightMode="Single";this.mHighlighted={uid:{},shapeId:{},deEmphasizedShapeId:{}}}});h.prototype.getHighlightMode=function(){return this.sHighlightMode};h.prototype.updateShape=function(i,h){var e=Object.keys(this.mHighlighted.uid);if(!i){this.clear(false);return}if(h.highlighted&&!this.mHighlighted.uid[i]){this.mHighlighted.uid={};this._updateHighlightedShape(i,h);this._fireHighlightChanged(e)}else if(!h.highlighted&&this.mHighlighted.uid[i]){delete this.mHighlighted.uid[i];this._fireHighlightChanged([i])}};h.prototype.updateProperties=function(i,h,e){if(this.mHighlighted.uid[i]){this.mHighlighted.uid[i].time=h.time;this.mHighlighted.uid[i].endTime=h.endTime}else if(e){this._updateHighlightedShape(i,h)}};h.prototype._updateHighlightedShape=function(i,h){this.mHighlighted.uid[i]={shapeUid:i,time:h.time,endTime:h.endTime}};h.prototype.clear=function(i){if(this.mHighlighted.uid.length===0){return false}var h=this.allUid();this.mHighlighted.uid={};this._fireHighlightChanged(h,i);return true};h.prototype.clearAllHighlightedShapeIds=function(){this.mHighlighted.deEmphasizedShapeId=this.mHighlighted.shapeId;this.mHighlighted.shapeId={};var i=this.allUid();this._fireHighlightChanged(i,true,true,true)};h.prototype.updateHighlightedShapes=function(i,h){if(!i||i.length===0){this.mHighlighted.shapeId={}}if(h){this.mHighlighted.uid={};this.mHighlighted.shapeId={}}i.forEach(function(i){if(i.Highlighted){this.mHighlighted.deEmphasizedShapeId={};if(i.ShapeId&&!this.mHighlighted.shapeId[i.ShapeId]){this.mHighlighted.shapeId[i.ShapeId]={highlighted:i.Highlighted}}}else if(i.ShapeId&&this.mHighlighted.shapeId[i.ShapeId]){delete this.mHighlighted.shapeId[i.ShapeId];this.mHighlighted.deEmphasizedShapeId[i.ShapeId]={highlighted:i.Highlighted}}else if(i.ShapeId&&!this.mHighlighted.shapeId[i.ShapeId]){this.mHighlighted.deEmphasizedShapeId[i.ShapeId]={highlighted:i.Highlighted}}}.bind(this));this._fireHighlightChanged([],true,true,false)};h.prototype.getHighlightedShapeID=function(){return Object.keys(this.mHighlighted.shapeId)};h.prototype.getDeEmphasizedShapeID=function(){return Object.keys(this.mHighlighted.deEmphasizedShapeId)};h.prototype._fireHighlightChanged=function(i,h,e,t){var d={shapeUid:Object.keys(this.mHighlighted.uid),deEmphasizedUid:i,silent:!!h,deEmphasizeAll:t};if(d.shapeUid.length>0||d.deEmphasizedUid.length>0||e){this.fireHighlightChanged(d)}};h.prototype.clearHighlightByUid=function(i){if(this.existed(i)){delete this.mHighlighted.uid[i]}};h.prototype.existed=function(i){return!!this.mHighlighted.uid[i]};h.prototype.allUid=function(){return Object.keys(this.mHighlighted.uid)};h.prototype.attachHighlightChanged=function(i,h,e){this.attachEvent("highlightChanged",i,h,e)};h.prototype.detachHighlightChanged=function(i,h){this.detachEvent("highlightChanged",i,h)};h.prototype.fireHighlightChanged=function(i){this.fireEvent("highlightChanged",i);return this};return h},true);
//# sourceMappingURL=HighlightModel.js.map