/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseLine","sap/gantt/simple/BaseTriangle","sap/gantt/simple/BaseDeltaRectangle","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/ui/core/Core","sap/gantt/utils/GanttChartConfigurationUtils"],function(e,t,r,a,i,o,s){"use strict";var n={apiVersion:2};n.renderDeltaLineHeader=function(o,n,l,g,p){var u=l.getAxisTime();var y=s.getRTL();var m=u.timeToView(a.abapTimestampToDate(y?n.getEndTimeStamp():n.getTimeStamp()));var d=u.timeToView(a.abapTimestampToDate(y?n.getTimeStamp():n.getEndTimeStamp()));var k=n.getProperty("description");if(l.getEnableDeltaLine()===false||isNaN(m)||isNaN(d)){return}else{var h=10;var f=4;var v=6;n._setEnableChartDeltaAreaHighlight(l.getEnableChartDeltaAreaHighlight());var P;var S;var c;var D;var T;var E=n.getStrokeDasharray();var L=n._getStrokeWidth();var C=Math.abs(d-m);C=C<=0?1:C;if(C<v){c=(d+m)/2;P=c-v;S=c+v;D=1;T=i.get({name:"sapUiChartDataPointBorderColor",callback:function(e){T=e}});n._setVisibleMarker(true)}else{P=m;S=d;D=0;n._setVisibleMarker(false);T=null}if(n._getIsSelected()===true){D=1;T=i.get({name:"sapUiChartDataPointBorderColor",callback:function(e){T=e}});E="solid";L=L+1}var w;var x=g-p;w=x+2+(n._getLevel()-1)*6;var b=n._getHeaderDeltaArea();if(!b){b=new r({id:n.getId()+"-headerDeltaArea",x:m,y:w,height:f,width:Math.abs(d-m),fill:n.getStroke(),hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(k){b.setAggregation("tooltip",k,true)}n._setHeaderDeltaArea(b)}else{b.setProperty("fill",n.getStroke(),true);b.setProperty("x",m,true);b.setProperty("width",Math.abs(d-m),true);b.setProperty("y",w,true);if(k){b.setAggregation("tooltip",k,true)}}b.renderElement(o,b);var _=n._getHeaderStartLine();if(!_){_=new e({x1:m,y1:w,x2:m,y2:w+p,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:k});n._setHeaderStartLine(_)}else{_.setProperty("stroke",n.getStroke(),true);_.setProperty("x1",m,true);_.setProperty("x2",m,true);_.setProperty("y1",w,true);_.setProperty("y2",w+p,true);_.setProperty("strokeDasharray",E,true);_.setProperty("strokeWidth",L,true);_.setAggregation("tooltip",k,true)}if(n.getVisibleDeltaStartEndLines()){_.renderElement(o,_)}var A=n._getHeaderEndLine();if(!A){A=new e({x1:d,y1:w,x2:d,y2:w+p,stroke:n.getStroke(),strokeWidth:L,strokeDasharray:E,strokeOpacity:n.getStrokeOpacity(),tooltip:k});n._setHeaderEndLine(A)}else{A.setProperty("stroke",n.getStroke(),true);A.setProperty("x1",d,true);A.setProperty("x2",d,true);A.setProperty("y1",w,true);A.setProperty("y2",w+p,true);A.setProperty("strokeDasharray",E,true);A.setProperty("strokeWidth",L,true);A.setAggregation("tooltip",k,true)}if(n.getVisibleDeltaStartEndLines()){A.renderElement(o,A)}var M=n._getForwardMarker();if(!M){M=new t({x:P,y:0,height:h,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"right",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(k){M.setAggregation("tooltip",k,true)}n._setForwardMarker(M)}else{M.setProperty("x",P,true);M.setProperty("fillOpacity",D,true);M.setProperty("rowYCenter",w-3,true);M.setProperty("stroke",T,true);if(k){M.setAggregation("tooltip",k,true)}}M.renderElement(o,M);var V=n._getBackwardMarker();if(!V){V=new t({x:S,y:0,height:h,width:v,stroke:T,rowYCenter:w-3,fill:n.getStroke(),fillOpacity:D,orientation:"left",hoverable:true,press:function(e){n.press(e);n.firePress(e)},mouseEnter:function(e){n.mouseEnter(e);n.fireMouseEnter(e)},mouseLeave:function(e){n.mouseLeave(e);n.fireMouseLeave(e)}}).addStyleClass("sapGanntChartMarkerCursorPointer");if(k){V.setAggregation("tooltip",k,true)}n._setBackwardMarker(V)}else{V.setProperty("x",S,true);V.setProperty("fillOpacity",D,true);V.setProperty("rowYCenter",w-3,true);V.setProperty("stroke",T,true);if(k){V.setAggregation("tooltip",k,true)}}V.renderElement(o,V)}};n.renderDeltaLines=function(t,r,i){var o=i.getAxisTime();var n=s.getRTL();var l=o.timeToView(a.abapTimestampToDate(n?r.getEndTimeStamp():r.getTimeStamp()));var g=o.timeToView(a.abapTimestampToDate(n?r.getTimeStamp():r.getEndTimeStamp()));var p=r.getStrokeDasharray();var u=r._getStrokeWidth();if(r._getIsSelected()===true){p="solid";u=u+1}var y=r.getDescription();var m=r._getStartLine();if(!m){m=new e({x1:l,y1:0,x2:l,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:p,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setStartLine(m)}else{m.setProperty("stroke",r.getStroke(),true);m.setProperty("x1",l,true);m.setProperty("x2",l,true);m.setProperty("strokeDasharray",p,true);m.setProperty("strokeWidth",u,true);m.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){m.renderElement(t,m)}var d=r._getEndLine();if(!d){d=new e({x1:g,y1:0,x2:g,y2:"100%",stroke:r.getStroke(),strokeWidth:u,strokeDasharray:p,strokeOpacity:r.getStrokeOpacity(),tooltip:y});r._setEndLine(d)}else{d.setProperty("stroke",r.getStroke(),true);d.setProperty("x1",g,true);d.setProperty("x2",g,true);d.setProperty("strokeDasharray",p,true);d.setProperty("strokeWidth",u,true);d.setAggregation("tooltip",y,true)}if(r.getVisibleDeltaStartEndLines()){d.renderElement(t,d)}};n.renderChartAreaOfDeltaLines=function(e,t,i){var o=i.getAxisTime();var n=s.getRTL();var l=o.timeToView(a.abapTimestampToDate(n?t.getEndTimeStamp():t.getTimeStamp()));var g=o.timeToView(a.abapTimestampToDate(n?t.getTimeStamp():t.getEndTimeStamp()));var p=0;if(t._getIsSelected()===true){p=1}var u=t._getChartDeltaArea();var y=Math.abs(g-l);var m=y-(t.getVisibleDeltaStartEndLines()&&y>=2?2:0);if(i.getDeltaAreaHighlightColor()===""){i.setDeltaAreaHighlightColor("@sapUiListSelectionBackgroundColor")}if(!u){u=new r({x:l+1,y:0,height:"100%",width:m,fill:i.getDeltaAreaHighlightColor(),opacity:p});t._setChartDeltaArea(u)}else{u.setProperty("x",l+1,true);u.setProperty("width",m,true);u.setProperty("opacity",p,true)}u.renderElement(e,u)};return n},true);
//# sourceMappingURL=DeltaLineRenderer.js.map