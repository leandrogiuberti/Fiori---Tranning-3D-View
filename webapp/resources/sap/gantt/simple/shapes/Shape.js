/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseShape","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/gantt/utils/GanttChartConfigurationUtils","sap/ui/core/RenderManager","sap/gantt/misc/Utility"],function(t,e,r,i,o,n){"use strict";var a=12;var s=t.extend("sap.gantt.simple.shapes.Shape",{metadata:{library:"sap.gantt",properties:{color:{type:"sap.gantt.PaletteColor",defaultValue:"sapUiLegend6"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"},width:{type:"sap.gantt.SVGLength",defaultValue:"auto"},startX:{type:"sap.gantt.SVGLength",defaultValue:"auto"},selectable:{type:"boolean",defaultValue:true},hoverable:{type:"boolean",defaultValue:true}}},renderer:{apiVersion:2}});s.prototype.init=function(){t.prototype.init.call(this);this._bHover=false;this._bIgnoreHover=false};s.prototype.getSelectable=function(){return true};s.prototype.getHoverable=function(){return true};s.prototype.getRowPadding=function(){var t=this.getHeight();if(t==="auto"||t==="inherit"){return a}else{return 0}};s.prototype.getPixelHeight=function(){var t=this.getHeight();if(t==="auto"||t==="inherit"){return this._iBaseRowHeight||0}return Number(t)};s.prototype.getTranslatedColor=function(){var t=r.get({name:this.getColor(),callback:function(e){t=e}});return t};s.prototype.getHoverBackgroundColor=function(){var t;if(i.getTheme().indexOf("sap_horizon")>-1){t=r.get({name:"sapPrimary1",callback:function(e){t=e}})}else{t=r.get({name:"sapUiButtonHoverBackground",callback:function(e){t=e}})}return t};s.prototype.getHoverColor=function(){var t;if(i.getTheme().indexOf("sap_horizon")>-1){t=r.get({name:"sapPrimary6",callback:function(e){t=e}})}else{t=r.get({name:"sapUiButtonHoverBorderColor",callback:function(e){t=e}})}return t};s.prototype.getSelectedColor=function(){var t;if(i.getTheme().indexOf("sap_horizon")>-1){t=r.get({name:"sapPrimary2",callback:function(e){t=e}})}else{t=r.get({name:"sapUiButtonActiveBackground",callback:function(e){t=e}})}return t};s.prototype.getPixelWidth=function(){var t=this.getWidth();if(t!=="auto"){return Number(t)}var r=this.getAxisTime();if(!r){return 0}var i=r.timeToView(e.abapTimestampToDate(this.getTime())),o=r.timeToView(e.abapTimestampToDate(this.getEndTime()));if(n.isNumeric(i)&&n.isNumeric(o)){return Math.abs(o-i)}else{return 0}};s.prototype.getXStart=function(){var t=this.getProperty("startX");if(t!=="auto"){return Number(t)}var r=this.getAxisTime();if(!r){return 0}var o=i.getRTL();return Number(r.timeToView(e.abapTimestampToDate(o?this.getEndTime()||this.getTime():this.getTime())))};s.prototype.getXEnd=function(){if(this.getProperty("startX")!=="auto"){return this.getXStart()+this.getPixelWidth()}var t=this.getAxisTime();if(!t){return 0}var r=i.getRTL();return Number(t.timeToView(e.abapTimestampToDate(r?this.getTime()||this.getEndTime():this.getEndTime())))};s.prototype.renderElement=function(t){throw new Error("This function must be overridden in implementing classes.")};s.prototype.renderContent=function(t){throw new Error("This function must be overridden in implementing classes.")};s.prototype.generateArcRadius=function(t,e){return Math.min(3,Math.min(t,e))};s.prototype.getHoverState=function(){return this._bHover};s.prototype.hoverStateChange=function(t){if(this.getHoverState()!==t&&!this._bIgnoreHover){this._bHover=t;this.rerenderShape()}};s.prototype.setSelected=function(t){this.setProperty("selected",t,true);if(this.getHoverState()){this._bHover=false;this._bIgnoreHover=true}this.rerenderShape()};s.prototype.onmouseover=function(e){t.prototype.onmouseover.call(this,e);this.hoverStateChange(true)};s.prototype.onmouseout=function(e){t.prototype.onmouseout.call(this,e);this._bIgnoreHover=false;this.hoverStateChange(false)};s.prototype.rerenderShape=function(){var t=this.getDomRef();if(t){var e=new o;this.renderContent(e);e.flush(t);e.destroy()}else{this.invalidate()}};return s});
//# sourceMappingURL=Shape.js.map