/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.gantt.legend=sap.gantt.legend||{};sap.gantt.legend.ListLegendItemCheckbox={NoShow:"noShow",Checked:"checked",Unchecked:"unchecked"};sap.ui.define(["./LegendBase","sap/m/CheckBox","sap/gantt/drawer/Legend"],function(e,t,a){"use strict";var n=e.extend("sap.gantt.legend.ListLegend",{metadata:{library:"sap.gantt",properties:{shapes:{type:"sap.gantt.config.Shape[]"}},events:{checkBoxChange:{parameters:{legendType:{type:"string"},value:{type:"boolean"}}}}}});n.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oListLegendDrawer=new a;this._aCheckBoxes=[]};n.prototype.onAfterRendering=function(){for(var e=0;e<this._aShapeInstance.length;e++){var t=this._aShapeInstance[e];var a=d3.select("#"+this.getId()+"-svg-"+e);var n=a.selectAll("."+t.getId()).data([e]);this._oListLegendDrawer._drawPerTag(n,t)}};n.prototype.setShapes=function(e){var a=this;this.setProperty("shapes",e);function n(){var e=false;for(var n=0;n<a._aShapeInstance.length;n++){var s=a._aShapeInstance[n].mShapeConfig.getSwitchOfCheckBox();if(s==sap.gantt.legend.ListLegendItemCheckbox.Checked||s==sap.gantt.legend.ListLegendItemCheckbox.Unchecked){e=true;break}}if(e){for(var h=0;h<a._aShapeInstance.length;h++){var g=a._aShapeInstance[h];var o=g.mShapeConfig.getSwitchOfCheckBox();var r=new t({selected:o==sap.gantt.legend.ListLegendItemCheckbox.Checked?true:false,enabled:o==sap.gantt.legend.ListLegendItemCheckbox.NoShow?false:true}).data("key",g.mShapeConfig.getKey&&g.mShapeConfig.getKey()?g.mShapeConfig.getKey():g.getLegend()).setTooltip(g.getLegend()).attachSelect(a._onCheckBoxChange,a);a._aCheckBoxes.push(r)}}}if(e&&e.length>0){this._aCheckBoxes=[];try{a._aShapeInstance=a._instantShapeSync(e);n()}catch(t){a._instantShapeAsync(e).then(function(e){a._aShapeInstance=e;n()})}}return this};n.prototype._onCheckBoxChange=function(e){var t=e.getSource();t.rerender();this.fireCheckBoxChange({legendType:t.data("key"),value:e.getParameter("selected")})};return n},true);
//# sourceMappingURL=ListLegend.js.map