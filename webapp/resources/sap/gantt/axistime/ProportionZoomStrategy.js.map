{"version":3,"file":"ProportionZoomStrategy.js","names":["sap","ui","define","Log","library","AxisTimeStrategyBase","Utility","Format","TimeHorizon","GanttUtils","ProportionTimeLineOptions","ProportionZoomStrategy","extend","metadata","properties","enableMillisecondSupport","type","defaultValue","bindable","prototype","init","this","_aZoomRate","Array","setProperty","_disableAutoProportion","applySettings","mSettings","_applyMissingSettings","call","initialSettings","setVisibleHorizon","oVisibleHorizon","setVisibleHorizonWithReason","setEnableMillisecondSupport","bValue","_setEnableMillisecondSupport","getEnableMillisecondSupport","sReasonCode","oOriginEvent","subReasonCode","getStartTime","getEndTime","_bHorizontalScroll","oLastVisibleHorizon","getVisibleHorizon","clone","_setVisibleHorizon","apply","arguments","fireRedrawRequest","setTotalHorizon","oTotalHorizon","_setTotalHorizon","getAxisTime","calZoomBase","createAxisTime","getLocale","updateStopInfo","oStopInfo","setZoomLevel","index","iZoomLevel","performance","mark","visibleHorizonUpdateSubType","gantt","simple","VisibleHorizonUpdateSubType","getZoomLevel","_focusOnZoom","ZoomIn","ZoomOut","oNewVisibleHorizon","calVisibleHorizonByRate","setZoomLevels","iZoomLevels","_updateZoomRateOnStops","syncContext","nClientWidth","bAxisTimeNeedChange","bZoomBoundaryConditionChange","oRetVal","zoomLevel","undefined","axisTimeChanged","iLastGanttVisibleWidth","getParent","_iLastVisibleWidth","iOriginalVisibleWidth","getGanttVisibleWidth","_updateVisibleHorizon","oDeterminedByStrategy","_determineZoomBoundaryByStrategy","oDeterminedByChartWidth","_determineZoomRateByChartWidth","updateGanttVisibleWidth","fLastMinRate","_oZoom","minRate","Math","max","fLastMaxRate","maxRate","fLastRate","rate","floatEqual","_adjustRateByBoundary","suitableRate","iLastZoomLevel","_calcZoomLevelFromZoomRate","bZoomLevelChanged","_isDisplayTypeChanged","setZoomRate","_updateTimeLineOption","setDisableAutoProportion","oOriginalVisibleHorizon","oCurrentVisibleHorizon","calculateHorizonByWidth","updateInitialVisibleHorizon","visibleHorizon","initialZoomLevel","min","fMaxRate","fMinRate","iSteps","getZoomLevels","_oLog","fMax","log","fMin","fStep","i","pow","E","fRate","round","base","oCoarsestTimeLineOption","getCoarsestTimeLineOption","oFinestTimeLineOption","getFinestTimeLineOption","scale","calZoomScale","innerInterval","unit","span","_getTimeLineRange","getTotalHorizon","judgeTimeHorizonValidity","setStartTime","setEndTime","warning","fMinScale","calZoomScaleByDate","abapTimestampToDate","iVisibleHorizonStartTime","iVisibleHorizonEndTime","fSuitableScale","startTime","getTimeStampFormatter","parse","iCurrentTickKey","oTimeLineOptions","getTimeLineOptions","oTimeLineOption","getProperty","oAxisTime","start","timeToView","continuousScale","interval","end","getObjectFromPath","offset","r","abs","ceil","selector","onSetTimeZoomRate","fTimeZoomRate","getCurrentVisibleHorizon","_completeTimeHorizon","getRenderedVisibleHorizon","oGantt","oRenderedTimeRange","getRenderedTimeRange","oRenderedVisibleHorizon","endTime"],"sources":["ProportionZoomStrategy-dbg.js"],"mappings":"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","ignoreList":[]}