/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/library","sap/gantt/misc/Utility","./Drawer","sap/gantt/misc/Format","sap/gantt/utils/GanttChartConfigurationUtils","sap/ui/thirdparty/d3"],function(t,e,a,r,n){"use strict";var i=a.extend("sap.gantt.drawer.AdhocLine",{constructor:function(t){this.oAxisTime=t}});i.prototype.drawSvg=function(a,i,o,s){if(!i||i.length==0){return}var u=n.getRTL()?o.aTimeBoundary[1]:o.aTimeBoundary[0],c=n.getRTL()?o.aTimeBoundary[0]:o.aTimeBoundary[1];var p=i.filter(function(t,e){var a=r.abapTimestampToDate(t.getTimeStamp());if(u<=a&&a<=c){return true}return false});a.selectAll(".sapGanttChartAdhocLine").remove();if(p.length==0){return}var d=jQuery(a.node()),l=Math.max.apply(null,d.map(function(){return jQuery(this).height()}).get());if(s===t.AdhocLineLayer.Top){a.append("g").classed("sapGanttChartAdhocLine",true)}else if(s===t.AdhocLineLayer.Bottom){var h=document.createElementNS(d3.ns.prefix.svg,"g");h.setAttribute("class","sapGanttChartAdhocLine");var m=e.attributeEqualSelector("id",a.attr("id"));var f=jQuery(m).find(".sapGanttChartCalendar");var g=jQuery(m).find(".sapGanttChartRowBackground");if(f.length>0){f.after(h)}else if(g.length>0){g.after(h)}else{a.insert("g",":first-child").classed("sapGanttChartAdhocLine",true)}}var h=a.select(".sapGanttChartAdhocLine");var y=h.selectAll(".sapGanttChartAdhocTimestamp").data(p);var T=this;y.enter().append("line").classed("sapGanttChartAdhocTimestamp",true).attr("x1",function(t){return T.oAxisTime.timeToView(r.abapTimestampToDate(t.getTimeStamp()))}).attr("y1",function(t){return 0}).attr("x2",function(t){return T.oAxisTime.timeToView(r.abapTimestampToDate(t.getTimeStamp()))}).attr("y2",function(t){return l}).attr("stroke",function(t){return t.getStroke()}).attr("stroke-width",function(t){return t.getStrokeWidth()}).attr("stroke-dasharray",function(t){return t.getStrokeDasharray()}).attr("stroke-opacity",function(t){return t.getStrokeOpacity()});y.selectAll("title").remove();y.insert("title",":first-child").text(function(t){return t.getDescription()})};i.prototype.destroySvg=function(t){if(t){t.selectAll(".sapGanttChartAdhocLine").remove()}};return i},true);
//# sourceMappingURL=AdhocLine.js.map