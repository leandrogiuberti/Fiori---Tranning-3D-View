{"version":3,"file":"TimePeriodZoomHandler.js","names":["sap","ui","define","jQuery","BaseObject","Format","TimeHorizon","TimePeriodZoomRectangle","coreLibrary","Utility","Orientation","TimePeriodZoomHandler","extend","constructor","oChart","call","this","_oSourceChart","_oTimePeriodZoomRectangleDrawer","_bActive","_bLocked","_bMouseOnSvg","_bEnableSetVisibleHorizon","_sAutoScrollDirection","undefined","_oLastEvent","prototype","activate","bSuppressEvent","$svg","getDomSelectorById","css","fireActiveStatusChangeEvent","deactivate","invertActiveStatus","bActive","fireEvent","isActive","isTimePeriodZoomEnabled","oAxisTimeStrategy","getAxisTimeStrategy","handleDragStart","oEvent","oGantt","oStartEvent","oStartTime","_caculateEventTime","createRectangle","$GanttSvg","off","document","body","detachHorizontalScroll","handleAutoScroll","on","handleDragging","bind","handleDragEnd","attachHorizontalScroll","type","dragStartTime","originalEvent","oDragStartTime","iDragStartX","getAxisTime","timeToView","aSvgNode","d3","select","drawSvg","oDraggingTime","updateRectangle","sDirection","_handleAutoScroll","draggingTime","iDraggingX","updateSvg","_oAutoScrollHandler","stop","destoryRectangle","oDragEndTime","_caculateXPosition","oEndTime","iOperationIgnoreExtents","Math","abs","getTime","oTempTime","oTargetTimeHorizon","startTime","endTime","syncVisibleHorizon","iVisibleWidth","getVisibleWidth","dragEndTime","visibleWidth","destroySvg","oParameter","getParameters","iTimeBias","oVisibleHorizonStratTime","abapTimestampToDate","oVisibleHorizonEndTime","timeBias","attachEvents","handleMouseEnter","handleMouseLeave","detachEvents","setEnableSetVisibleHorizon","handleAutoScrolling","getParameter","bEnable","enable","calculateTargetVisibleHorizonByTimeBias","oTargetVisibleTimeHorizon","oTargetTime","oTotalHorizon","getTotalHorizon","Date","setTime","oTotalHorizonStartTime","getStartTime","oTotalHorizonEndTime","getEndTime","calculateTargetVisibleHorizon","oEventData","bSyncStartTime","oOriginalVisibleHorizon","getVisibleHorizon","iGanttVisibleWidth","iDragStartTime","iDragEndTime","calculateHorizonByWidth","syncTimePeriodZoomOperation","bTimeScrollSync","sOrientation","Vertical","Horizontal","iMouseXPos","_getMouseXPos","iXPosition","offset","left","offsetX","viewToTime"],"sources":["TimePeriodZoomHandler-dbg.js"],"mappings":"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","ignoreList":[]}