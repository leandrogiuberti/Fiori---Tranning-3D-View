/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/base/Log","sap/gantt/misc/Format","sap/gantt/shape/Path"],function(t,e,a){"use strict";var i=a.extend("sap.gantt.shape.ext.ubc.UbcBorderPath",{});i.prototype.getEnableSelection=function(t,e){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",t)}return false};i.prototype.getD=function(a,i){var r="";if(this.mShapeConfig.hasShapeProperty("d")){r=this._configFirst("d",a)}else{var o=a.drawData?a.drawData:a.period;if(o.length>0){var n=this._getMaxTotalRevised(a);var s=this._getMaxY(a,i);var p=i.rowHeight-1;var h=this.getAxisTime();for(var d=0;d<o.length;d++){var f,g,m,u;f=h.timeToView(e.abapTimestampToDate(o[d].start_date)).toFixed(1);if(d<o.length-1){g=h.timeToView(e.abapTimestampToDate(o[d+1].start_date)).toFixed(1)}else{g=h.timeToView(e.abapTimestampToDate(o[d].start_date)).toFixed(1)}if(!Number.isFinite(Number(f))){f=h.timeToView(0).toFixed(1)}if(!Number.isFinite(Number(g))){f=h.timeToView(0).toFixed(1)}m=s-o[d].demand/n*p;m=m.toFixed(1);if(m<i.y){m=i.y}if(d<o.length-1){u=s-o[d+1].demand/n*p}else{g=h.timeToView(e.abapTimestampToDate(o[d].start_date)).toFixed(1);u=s-o[d].demand/n*p}u=u.toFixed(1);if(u<i.y){u=i.y}r+=" M "+f+" "+m+"L"+g+" "+m;r+=" M "+g+" "+m+"L"+g+" "+u}}}if(this.isValid(r)){return r}else{t.warning("UbcBorderPath shape generated invalid d: "+r+" from the given data: "+a);return null}};i.prototype.getStroke=function(t,e){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",t)}return"blue"};i.prototype.getStrokeWidth=function(t,e){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",t)}return.3};i.prototype._getMaxY=function(t,e){var a=e.y;var i=e.rowHeight-1;var r=a+i;return r};i.prototype._getMaxTotalRevised=function(t){var e=this._getMaxTotal(t);var a=e+this._getmaxExceedCap(t);return a};i.prototype._getMaxTotal=function(t){var e=Math.max.apply(Math,t.period.map(function(t){return t.supply}));if(e<=0){e=1}return e};i.prototype._getmaxExceedCap=function(t){var e=this._getMaxTotal(t);var a=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){a=this._configFirst("maxExceedCapacity",t)}return e*a/100};return i},true);
//# sourceMappingURL=UbcBorderPath.js.map