{"version":3,"file":"ShapeSelectionModel.js","names":["sap","ui","define","jQuery","ManagedObject","Utility","Core","ShapeSelectionModel","extend","constructor","sId","mSettings","apply","this","arguments","aSelectedRelationships","mSelectedShapes","uid","shapes","metadata","properties","selectionMode","type","defaultValue","gantt","SelectionMode","MultiWithKeyboard","associations","ganttChart","multiple","DatumType","Row","Shape","prototype","clearAllSelections","bChanged","clearShapeSelection","bRlsChanged","clearRelationshipSelection","length","getSelectedShapeDatum","aDatum","iLength","i","sUid","oDatum","getShapeDatumByShapeUid","push","getSelectedRelationships","isShapeSelected","sShapeUid","inArray","isRelationshipSelected","some","oShape","isSelectedShapeVisible","sContainer","sShapeId","getIdByUid","getShapeDatumById","oItem","changeShapeSelection","oShapeData","oRowInfo","bCtrlOrMeta","bDragging","bResizing","bShapeSelectionChange","bRelationshipSelectionChange","getSelectionMode","None","shapeSelectionChange","relationshipSelectionChange","isRelationship","getShapeDataNameByUid","shape","ShapeCategory","Relationship","bMultiSelection","Multiple","deselectRelationship","selectRelationship","deselectShape","selectByShapeData","selectShapeByUid","aUid","bRetVal","iIndex","splice","selectShapes","aShapeId","bExclusive","bUpdated","aShapes","_getShapeDatumForSelection","j","deselectShapes","aIds","aShapeDatum","__id__","oRelationship","sRelationshipUid","that","each","relationship","selectRelationships","aRelationships","deselectRelationships","id","selectUnderlyingTableRows","oTable","oTableSelectionHandler","_getSelectionHandler","aTableSelectedIndices","getSelectedIndices","clearSelection","aRowDatum","_getRowDatumForSelection","sSelectionMode","addSelectionInterval","rowIndex","setSelectedIndex","deselectUnderlyingTableRows","removeSelectionInterval","_getDatumByUid","getRowDatumByShapeUid","sDatumType","oGantt","_getGanttChart","getId","rowData","shapeData","sShapeDataName","bJSONTreeBinding","_oTT","getBinding","getMetadata","getName","sRowChartScheme","getChartSchemeByShapeUid","aAllRowData","getAllRowData","k","v","rowInfo","chartScheme","data","aRowIds","getRowDatumRefById","getParent","bMatched","aInvisibleRowDatum","_lookupInvisibleDatum","concat","aId","oGanttChart","aInvisibleShapeDatum","aFoundDatum","aInvisibleId","_getInvisibleIds","aShapeDataNames","getShapeDataNames","fnLookupShapeDatumInRow","oRowData","oResult","oShapeDataName","name","aShapeData","oShapeDatum","fnLookupDatumById","sType","map","aFoundId","filter","byId","getGanttChart","_oSelectionPlugin"],"sources":["ShapeSelectionModel-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CAAC,2BAA4B,4BAA6B,yBAA0B,oBACjG,SAASC,OAAQC,EAAeC,EAASC,GACzC,aAoBA,IAAIC,EAAsBH,EAAcI,OAAO,qCAAiG,CAE/IC,YAAc,SAASC,EAAKC,GAC3BP,EAAcQ,MAAMC,KAAMC,WAE1BD,KAAKE,uBAAyB,GAE9BF,KAAKG,gBAAkB,CACtBC,IAAO,GACPC,OAAU,GAEZ,EACAC,SAAU,CACTC,WAAY,CACXC,cAAiB,CAChBC,KAAM,0BACNC,aAAcvB,IAAIwB,MAAMC,cAAcC,oBAGxCC,aAAc,CAIbC,WAAc,CACbN,KAAM,uBACNO,SAAU,WAMd,IAAIC,EAAY,CACfC,IAAK,MACLC,MAAO,SAGRzB,EAAoB0B,UAAUC,mBAAqB,WAClD,IAAIC,EAAWtB,KAAKuB,sBACpB,IAAIC,EAAcxB,KAAKyB,6BACvB,OAAOH,GAAYE,CACpB,EAOA9B,EAAoB0B,UAAUG,oBAAsB,WACnD,GAAIvB,KAAKG,gBAAgBC,IAAIsB,SAAW,EAAG,CAC1C,OAAO,KACR,CACA1B,KAAKG,gBAAgBC,IAAM,GAE3B,OAAO,IACR,EAOAV,EAAoB0B,UAAUK,2BAA6B,WAC1D,GAAIzB,KAAKE,uBAAuBwB,SAAW,EAAG,CAC7C,OAAO,KACR,CACA1B,KAAKE,uBAAyB,GAC9B,OAAO,IACR,EAOAR,EAAoB0B,UAAUO,sBAAwB,WACrD,IAAIC,EAAS,GACb,IAAIC,EAAU7B,KAAKG,gBAAgBC,IAAIsB,OACvC,IAAK,IAAII,EAAI,EAAGA,EAAID,EAASC,IAAK,CACjC,IAAIC,EAAO/B,KAAKG,gBAAgBC,IAAI0B,GACpC,IAAIE,EAAShC,KAAKiC,wBAAwBF,GAC1C,GAAIC,EAAQ,CACXJ,EAAOM,KAAKF,EACb,CACD,CACA,OAAOJ,CACR,EAOAlC,EAAoB0B,UAAUe,yBAA2B,WACxD,OAAOnC,KAAKE,sBACb,EAQAR,EAAoB0B,UAAUgB,gBAAkB,SAASC,GACxD,OAAO/C,OAAOgD,QAAQD,EAAWrC,KAAKG,gBAAgBC,QAAU,EAAI,MAAQ,IAC7E,EAQAV,EAAoB0B,UAAUmB,uBAAyB,SAASR,GAC/D,OAAO/B,KAAKE,uBAAuBsC,KAAK,SAASC,GAChD,OAAOA,EAAOrC,MAAQ2B,CACvB,EACD,EAKArC,EAAoB0B,UAAUsB,uBAAyB,SAASL,EAAWM,GAC1E,IAAIC,EAAWpD,EAAQqD,WAAWR,GAElC,IAAIT,EAASpC,EAAQsD,kBAAkBF,EAAUD,GACjD,OAAOf,EAAOY,KAAK,SAASO,GAC3B,OAAOA,EAAM3C,MAAQiC,CACtB,EACD,EAaA3C,EAAoB0B,UAAU4B,qBAAuB,SAAUC,EAAYC,EAAUC,EAAaC,EAAWC,GAO5G,IAAIC,EACHC,EAGD,GAAIvD,KAAKwD,qBAAuBrE,IAAIwB,MAAMC,cAAc6C,KAAM,CAC7D,MAAO,CACNC,qBAAsB,MACtBC,4BAA6B,MAE/B,CAGA,IAAIC,EAAkBpE,EAAQqE,sBAAsBZ,EAAW7C,OAASjB,IAAIwB,MAAMmD,MAAMC,cAAcC,aAEtG,IAAIC,EAAmBd,GAAenD,KAAKwD,qBAAuBrE,IAAIwB,MAAMC,cAAcC,mBAAsBb,KAAKwD,qBAAuBrE,IAAIwB,MAAMC,cAAcsD,SAIpK,GAAID,EAAiB,CAEpB,GAAIL,EAAgB,CACnB,GAAI5D,KAAKuC,uBAAuBU,EAAW7C,KAAK,CAC/CmD,EAA+BvD,KAAKmE,qBAAqBlB,EAAW7C,IACrE,KAAO,CACNmD,EAA+BvD,KAAKoE,mBAAmBnB,EACxD,CACD,KAAO,CAEN,GAAIjD,KAAKoC,gBAAgBa,EAAW7C,OAASgD,IAAcC,EAAU,CACpEC,EAAwBtD,KAAKqE,cAAcpB,EAAW7C,IACvD,KAAO,CACNkD,EAAwBtD,KAAKsE,kBAAkBrB,EAChD,CACD,CACD,KAAO,CAEN,GAAIW,EAAgB,CAKnB,IAAK5D,KAAKuC,uBAAuBU,EAAW7C,KAAM,CACjDmD,EAA+BvD,KAAKyB,6BACpC6B,EAAwBtD,KAAKuB,sBAC7BgC,EAA+BvD,KAAKoE,mBAAmBnB,GAAc,KAAOM,CAC7E,CACD,KAAO,CAIN,IAAKvD,KAAKoC,gBAAgBa,EAAW7C,OAASgD,IAAcC,EAAW,CACtEE,EAA+BvD,KAAKyB,6BACpC6B,EAAwBtD,KAAKuB,sBAC7B+B,EAAwBtD,KAAKsE,kBAAkBrB,GAAc,KAAOK,CACrE,CACD,CACD,CACA,MAAO,CACNI,qBAAsBJ,EACtBK,4BAA6BJ,EAE/B,EAQA7D,EAAoB0B,UAAUkD,kBAAoB,SAAUrB,GAC3D,IAAKA,GAAcjD,KAAKoC,gBAAgBa,EAAW7C,KAAM,CACxD,OAAO,KACR,CAEAJ,KAAKG,gBAAgBC,IAAI8B,KAAKe,EAAW7C,KAGzC,OAAO,IACR,EAEAV,EAAoB0B,UAAUmD,iBAAmB,SAAUC,GAC1D,IAAIC,EACJ,GAAID,GAAQA,EAAK9C,OAAS,EAAG,CAC5B,IAAK,IAAII,EAAI,EAAGA,EAAI0C,EAAK9C,OAAQI,IAAK,CACrC2C,EAAUA,GAAWzE,KAAKsE,kBAAkBtE,KAAKiC,wBAAwBuC,EAAK1C,IAC/E,CACD,CACA,OAAO2C,CACR,EAQA/E,EAAoB0B,UAAUiD,cAAgB,SAAUhC,GACvD,IAAIqC,EAASpF,OAAOgD,QAAQD,EAAWrC,KAAKG,gBAAgBC,KAC5D,GAAIsE,GAAU,EAAG,CAChB1E,KAAKG,gBAAgBC,IAAIuE,OAAOD,EAAQ,EAEzC,KAAO,CACN,OAAO,KACR,CAEA,OAAO,IACR,EASAhF,EAAoB0B,UAAUwD,aAAe,SAASC,EAAUC,GAE/D,IAAKD,GAAYA,EAASnD,SAAW,EAAG,CACvC,OAAO1B,KAAKuB,qBACb,CACA,IAAIwD,EACJ,GAAID,EAAY,CACfC,EAAW/E,KAAKuB,qBACjB,CAEA,IAAIyD,EAAUhF,KAAKiF,2BAA2BJ,GAE9C,IAAK,IAAIK,EAAI,EAAGA,EAAIF,EAAQtD,OAAQwD,IAAK,CACxCH,EAAW/E,KAAKsE,kBAAkBU,EAAQE,IAAM,KAAOH,CACxD,CACA,OAAOA,CACR,EAQArF,EAAoB0B,UAAU+D,eAAiB,SAASC,GACvD,IAAKA,GAAQA,EAAK1D,SAAW,EAAG,CAC/B,OAAO1B,KAAKuB,qBACb,CACA,IAAIwD,EAEJ,IAAIM,EAAcrF,KAAK2B,wBACvB,IAAK,IAAIG,EAAI,EAAGA,EAAIuD,EAAY3D,OAAQI,IAAI,CAC3C,IAAImB,EAAaoC,EAAYvD,GAC7B,GAAIxC,OAAOgD,QAAQW,EAAWqC,OAAQF,IAAS,EAAG,CACjDL,EAAW/E,KAAKqE,cAAcpB,EAAW7C,KAAO,KAAO2E,CACxD,CACD,CAEA,OAAOA,CACR,EAQArF,EAAoB0B,UAAUgD,mBAAqB,SAASmB,GAC3D,GAAIvF,KAAKuC,uBAAuBgD,EAAcnF,KAAM,CACnD,OAAO,KACR,CACAJ,KAAKE,uBAAuBgC,KAAKqD,GACjC,OAAO,IACR,EASA7F,EAAoB0B,UAAU+C,qBAAuB,SAASqB,GAC7D,IAAIC,EAAOzF,KACX,IAAI+E,EAAWzF,OAAOoG,KAAK1F,KAAKE,uBAAwB,SAAUwE,EAAQiB,GACzE,GAAIA,GAAgBA,EAAavF,MAAQoF,EAAkB,CAC1DC,EAAKvF,uBAAuByE,OAAOD,EAAQ,GAC3C,OAAO,IACR,CACD,GACA,OAAOK,EAAW,KAAO,KAC1B,EAQArF,EAAoB0B,UAAUwE,oBAAsB,SAASC,EAAgBf,GAC5E,IAAKe,GAAkBA,EAAenE,SAAW,EAAG,CACnD,OAAO1B,KAAKyB,4BACb,CACA,IAAIsD,EACJ,GAAID,EAAY,CACfC,EAAW/E,KAAKyB,4BACjB,CACA,IAAK,IAAIK,EAAI,EAAGA,EAAI+D,EAAenE,OAAQI,IAAK,CAC/CiD,EAAW/E,KAAKoE,mBAAmByB,EAAe/D,IAAM,KAAOiD,CAChE,CACA,OAAOA,CACR,EAOArF,EAAoB0B,UAAU0E,sBAAwB,SAASV,GAC9D,IAAKA,GAAQA,EAAK1D,SAAW,EAAG,CAC/B,OAAO1B,KAAKyB,4BACb,KAAO,CACN,IAAIsD,EACJ,IAAK,IAAIG,KAAKlF,KAAKE,uBAAwB,CAC1C,IAAIqF,EAAgBvF,KAAKE,uBAAuBgF,GAChD,GAAI5F,OAAOgD,QAAQiD,EAAcQ,GAAIX,IAAS,EAAG,CAChDL,EAAW/E,KAAKmE,qBAAqBoB,EAAcnF,KAAO,KAAO2E,CAClE,CACD,CACA,OAAOA,CACR,CACD,EAKArF,EAAoB0B,UAAU4E,0BAA4B,SAAUZ,EAAMa,EAAQnB,GAGjF,IAAIoB,EAAyBlG,KAAKmG,qBAAqBF,GACvD,IAAIG,EAAwBF,EAAuBG,qBACnD,GAAIvB,GAAcsB,EAAsB1E,OAAS,EAAG,CACnDwE,EAAuBI,gBACxB,CAEA,IAAIC,EAAYvG,KAAKwG,yBAAyBpB,EAAMa,GAEpD,IAAK,IAAIvB,EAAS,EAAGA,EAAS6B,EAAU7E,OAAQgD,IAAU,CACzD,IAAIxB,EAAWqD,EAAU7B,GAEzB,IAAI+B,EAAiBzG,KAAKwD,mBAC1B,GAAIiD,IAAmBtH,IAAIwB,MAAMC,cAAcsD,UAC9CuC,IAAmBtH,IAAIwB,MAAMC,cAAcC,kBAAmB,CAC9DqF,EAAuBQ,qBAAqBxD,EAASyD,SAAUzD,EAASyD,SACzE,KAAO,CACNT,EAAuBU,iBAAiB1D,EAASyD,SAClD,CAED,CACD,EAKAjH,EAAoB0B,UAAUyF,4BAA8B,SAAUzB,EAAMa,GAC3E,IAAKb,GAAQA,EAAK1D,SAAW,EAAG,CAG/B1B,KAAKmG,qBAAqBF,GAAQK,iBAClC,MACD,CAEA,IAAIC,EAAYvG,KAAKwG,yBAAyBpB,EAAMa,GACpD,IAAK,IAAIvB,EAAS,EAAGA,EAAS6B,EAAU7E,OAAQgD,IAAU,CACzD,IAAIxB,EAAWqD,EAAU7B,GACzB,GAAIxB,EAAU,CACblD,KAAKmG,qBAAqBF,GAAQa,wBAAwB5D,EAASyD,SAAUzD,EAASyD,SACvF,CACD,CACD,EAWAjH,EAAoB0B,UAAUa,wBAA0B,SAAUI,GACjE,OAAOrC,KAAK+G,eAAe1E,EAAWpB,EAAUE,MACjD,EAUAzB,EAAoB0B,UAAU4F,sBAAwB,SAAS3E,GAC9D,OAAOrC,KAAK+G,eAAe1E,EAAWpB,EAAUC,IACjD,EAEAxB,EAAoB0B,UAAU2F,eAAiB,SAAU1E,EAAW4E,GACnE,IAAIC,EAASlH,KAAKmH,iBAGlB,IAAInF,EACJ,GAAIf,EAAUE,QAAU8F,EAAY,CACnCjF,EAASxC,EAAQyC,wBAAwBI,EAAW6E,EAAOE,QAC5D,KAAO,CACNpF,EAASxC,EAAQwH,sBAAsB3E,EAAW6E,EAAOE,QAC1D,CAEA,GAAIpF,EAAO,CACV,OAAOA,CACR,CAGA,IAAIqF,EAASC,EACb,IAAIC,EAAiB/H,EAAQqE,sBAAsBxB,GACnD,IAAImF,EAAoBN,EAAOO,KAAKC,WAAW,QAAQC,cAAcC,YAAc,oCACnF,IAAIC,EAAkBrI,EAAQsI,yBAAyBzF,GAEvD,IAAI0F,EAAcb,EAAOc,gBACzB1I,OAAOoG,KAAKqC,EAAa,SAAUE,EAAGC,GACrC,IAAIC,EAAUD,EACd,GAAIL,IAAoB,IAAMA,IAAoBM,EAAQC,YAAa,CACtE,GAAIZ,GAAoBW,EAAQE,KAAKd,GAAiB,CACrD,IAAM,IAAIzF,EAAI,EAAGA,EAAIqG,EAAQE,KAAKd,GAAgB7F,OAAQI,IAAK,CAC9D,GAAIqG,EAAQE,KAAKd,GAAgBzF,GAAG1B,MAAQiC,EAAW,CACtDgF,EAAUc,EACVb,EAAYa,EAAQE,KAAKd,GAAgBzF,GACzC,OAAO,KACR,CACD,CACD,MAAO,GAAIqG,EAAQE,KAAKjI,MAAQiC,EAAW,CAC1CgF,EAAUc,EACVb,EAAYa,EAAQE,KACpB,OAAO,KACR,CACD,CACD,GAEA,GAAIpB,IAAehG,EAAUE,MAAO,CACnC,OAAOmG,CACR,CACA,OAAOD,CACR,EAEA3H,EAAoB0B,UAAUoF,yBAA2B,SAASpB,EAAMa,GACvE,IAAIqC,EAAUlD,EAAOA,EAAO,GAC3BmB,EAAY/G,EAAQ+I,mBAAmBD,EAASrC,EAAOuC,YAAYpB,SACnEqB,EAAWlC,EAAU7E,SAAW4G,EAAQ5G,OAEzC,IAAK+G,EAAU,CAGd,IAAIC,EAAqB1I,KAAK2I,sBAAsBL,EAAS/B,EAAWtF,EAAUC,KAClFqF,EAAYA,EAAUqC,OAAOF,EAC9B,CACA,OAAOnC,CACR,EAEA7G,EAAoB0B,UAAU6D,2BAA6B,SAAS4D,GACnE,IAAIC,EAAc9I,KAAKmH,iBACvB,IAAItC,EAAWgE,EAAMA,EAAM,GAE3B,IAAIxD,EAAc7F,EAAQsD,kBAAkB+B,EAAUiE,EAAY1B,SACjEqB,EAAWpD,EAAY3D,SAAWmD,EAASnD,OAE5C,IAAK+G,EAAU,CACd,IAAIM,EAAuB/I,KAAK2I,sBAAsB9D,EAAUQ,EAAapE,EAAUE,OACvFkE,EAAcA,EAAYuD,OAAOG,EAClC,CACA,OAAO1D,CACR,EAYA3F,EAAoB0B,UAAUuH,sBAAwB,SAASE,EAAKG,EAAa/B,GAEhF,IAAIgC,EAAejJ,KAAKkJ,iBAAiBL,EAAKG,EAAa/B,GAE3D,IAAIrF,EAAS,GACb,GAAIqH,EAAavH,OAAS,EAAG,CAE5B,IAAIoH,EAAc9I,KAAKmH,iBACvBgC,EAAkBL,EAAYM,oBAC9B,IAAIrB,EAAce,EAAYd,gBAE9B,IAAIqB,EAA0B,SAASC,EAAU1G,GAChD,IAAI2G,EAAU,KACdjK,OAAOoG,KAAKyD,EAAiB,SAASjE,EAAGsE,GACxC,IAAIjC,EACJ,UAAWiC,IAAmB,SAAU,CACvCjC,EAAiBiC,CAClB,KAAO,CACNjC,EAAiBiC,EAAeC,IACjC,CACA,IAAIC,EAAaJ,EAASjB,KAAKd,GAC/B,GAAImC,EAAY,CACfpK,OAAOoG,KAAKgE,EAAY,SAASzB,EAAG0B,GAEnC,GAAIA,EAAYrE,QAAU1C,EAAU,CAGnC2G,EAAUI,EACV,OAAO,KACR,CACD,GACA,GAAIJ,EAAS,CACZ,OAAO,KACR,CACD,CACD,GACA,OAAOA,CACR,EAEA,IAAIK,EAAoB,SAAS/J,EAAKgK,GACrC,IAAIN,EAAU,KACdjK,OAAOoG,KAAKqC,EAAa,SAAUjG,EAAGwH,GACrC,GAAIO,IAAU5I,EAAUE,MAAO,CAC9BoI,EAAUF,EAAwBC,EAAUzJ,GAC5C,GAAI0J,EAAS,CACZ,OAAO,KACR,CACD,KAAO,CAEN,GAAID,EAASvD,IAAMlG,EAAK,CAEvB0J,EAAUD,EACV,OAAO,KACR,CACD,CACD,GACA,OAAOC,CACR,EAEA3H,EAASqH,EAAaa,IAAI,SAASjK,GAClC,OAAO+J,EAAkB/J,EAAKoH,EAC/B,EACD,CACA,OAAOrF,CACR,EAEAlC,EAAoB0B,UAAU8H,iBAAmB,SAASL,EAAKG,EAAa/B,GAC3E,IAAI8C,EAAWf,EAAYc,IAAI,SAAS9H,GAEvC,GAAIiF,IAAehG,EAAUE,MAAO,CACnC,OAAOa,EAAOsD,MACf,CACA,OAAOtD,EAAO+D,EACf,GAEA,OAAO8C,EAAImB,OAAO,SAASnK,GAC1B,OAAOP,OAAOgD,QAAQzC,EAAKkK,MAAe,CAC3C,EACD,EAEArK,EAAoB0B,UAAU+F,eAAiB,WAC9C,OAAO1H,EAAKwK,KAAKjK,KAAKkK,gBACvB,EAQCxK,EAAoB0B,UAAU+E,qBAAuB,SAAUF,GAC9D,OAAOA,EAAOkE,mBAAqBlE,CACpC,EAED,OAAOvG,CACR","ignoreList":[]}