/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.splitapp.TaskExecutionUIPage");jQuery.sap.require("sap.m.MessageToast");sap.ui.base.Object.extend("sap.uiext.inbox.splitapp.TaskExecutionUIPage",{constructor:function(e){sap.ui.base.Object.apply(this);this.Id=e;this._oCore=sap.ui.getCore();this._oBundle=this._oCore.getLibraryResourceBundle("sap.uiext.inbox");this.oTaskExecutionUIPage=this._createTaskExecutionUIPage()}});sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype._createTaskExecutionUIPage=function(){var e=this;var t=e._oCore.byId(this.Id+"-taskExecUIPage");if(!t){t=new sap.m.Page(this.Id+"-taskExecUIPage",{showNavButton:true,navButtonPress:function(){e.handleNavButtonPress()}})}return t};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.getPage=function(){return this.oTaskExecutionUIPage};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.handleNavButtonPress=function(){sap.ui.getCore().getEventBus().publish("sap.uiext.inbox","taskExecUIPageNavButtonPressed")};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.open=function(){var e=this;var t=e.oTaskExecutionUIPage.getBindingContext();if(!e.oModel){e.oModel=e.oTaskExecutionUIPage.getModel("inboxTCMModel")}var a=e.oTaskExecutionUIPage.getModel();var i=a.getProperty("TaskTitle",t);var o=a.getProperty("InstanceID",t);var s=a.getProperty("SAP__Origin",t);var n=e._getTaskExecutionURLCallBack(o,s);if(jQuery.device.is.android_tablet||jQuery.device.is.ipad||jQuery.device.is.desktop){sap.ui.require(["sap/ui/util/openWindow"],function(e){var t=e(n);if(t){t.document.title=i;t.focus()}})}else if(jQuery.device.is.phone){var r=sap.ui.getCore().byId("tsk"+"--"+"execURLFrame");if(!r){r=new sap.ui.core.HTML("tsk"+"--"+"execURLFrame")}var u="<iframe name='myframe' src='"+n+"' scrolling='auto' id = '"+"tsk"+"--"+"execURLFrame"+"' style='position: absolute;height: 100%;width: 100%; border: none;'></iframe>";r.setContent(u);e.oTaskExecutionUIPage.setTitle(i);e.oTaskExecutionUIPage.addContent(r)}};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype._getTaskExecutionURLCallBack=function(e,t){var a="/TaskCollection"+"(InstanceID='"+e+"',SAP__Origin='"+t+"')/UIExecutionLink?$format=json";var i=this.oTaskExecutionUIPage.getModel("inboxTCMModel").sServiceUrl+a;var o="";var s=this;var n={async:false,requestUri:i,method:"GET",headers:{Accept:"application/json"}};OData.request(n,function(e,t){o=e.GUI_Link},function(e){if(e.response.statusCode==205){}else{}sap.m.MessageToast.show(s._oBundle.getText("INBOX_MSG_ACTION_FAILED",[o,""]))});return o};
//# sourceMappingURL=TaskExecutionUIPage.js.map