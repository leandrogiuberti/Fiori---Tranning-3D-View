/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.tcm.fI.TCMFunctionImport");jQuery.sap.require("sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData");sap.ui.base.Object.extend("sap.uiext.inbox.tcm.fI.TCMFunctionImport",{constructor:function(){sap.ui.base.Object.apply(this);this.sTcmServiceURL=undefined;this.oHeaders={};this.ofIMetadata=sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData}});sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setHeaders=function(t){this.oHeaders=t};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getHeaders=function(){return this.oHeaders};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setServiceURL=function(t){this.sTcmServiceURL=t};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getServiceURL=function(){return this.sTcmServiceURL};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.callSearchUsers=function(t,e,a){var r=this.ofIMetadata.SEARCHUSERS;var i=this._createURLParamsArray(t,r);var o=this._createRequest(r.name,i,true,r.httpMethod);return OData.request(o,e,a)};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createURLParamsArray=function(t,e){var a=this;var r=e.params,i=[],o;var s,n,m;jQuery.each(r,function(r,c){s=c.name;n=c.type;m=t[s];if(m){o=s+"="+a._formatParamValue(m,n);i.push(o)}else{if(c.nullable){jQuery.sap.log.warning("No parameter Value provided for a non nullable input paramater for function Import:"+e.name)}}});return i};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createRequest=function(t,e,a,r){var i=this.sTcmServiceURL;if(t){if(!jQuery.sap.startsWith(t,"/")){i+="/"}i+=t}if(e&&e.length>0){i+="?"+e.join("&")}return{requestUri:i,headers:this.oHeaders,method:r,async:a,user:this.sUser,password:this.sPassword}};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._formatParamValue=function(t,e){if(!this.oDateTimeFormat){this.oDateTimeFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"});this.oDateTimeOffsetFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"});this.oTimeFormat=sap.ui.core.format.DateFormat.getTimeInstance({pattern:"'time'''HH:mm:ss''"})}var a;switch(e){case"Edm.String":a="'"+String(t).replace(/'/g,"''")+"'";break;case"Edm.Time":a="time'"+t+"'";break;case"Edm.DateTime":a=this.oDateTimeFormat.format(new Date(t),true);break;case"Edm.DateTimeOffset":a=this.oDateTimeOffsetFormat.format(new Date(t),true);break;case"Edm.Guid":a="guid'"+t+"'";break;case"Edm.Decimal":a=t+"M";break;case"Edm.Int64":a=t+"L";break;case"Edm.Single":a=t+"f";break;case"Edm.Binary":a="binary'"+t+"'";break;default:a=new String(t);break}return a};
//# sourceMappingURL=TCMFunctionImport.js.map