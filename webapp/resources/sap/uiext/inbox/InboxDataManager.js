/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxDataManager");sap.uiext.inbox.InboxDataManager=function(){};sap.uiext.inbox.InboxDataManager.setModel=function(e){this._oModel=e;if(this._oModel instanceof sap.ui.model.odata.ODataModel){this._sModelType="v1"}else if(this._oModel instanceof sap.ui.model.odata.v2.ODataModel){this._sModelType="v2"}};sap.uiext.inbox.InboxDataManager.fireBatchRequest=function(e){if(this._sModelType=="v1"){this._oModel.clearBatch();this._addOperationsToBatchV1(e);this._oModel.submitBatch(function(a,t){if(e.fnSuccess){e.fnSuccess(a,t)}},function(a){if(e.fnError){e.fnError(a)}})}else if(this._sModelType=="v2"){this._oModel.setUseBatch(true);this._oModel.setDeferredBatchGroups([e.sBatchGroupId]);this._addOperationsToBatchV2(e);var a=jQuery.proxy(function(a,t){this._oModel.setUseBatch(false);if(e.fnSuccess){e.fnSuccess(a,t)}},this);var t=jQuery.proxy(function(a){this._oModel.setUseBatch(false);if(e.fnError){e.fnError(a)}},this);this._oModel.submitChanges({batchGroupId:e.sBatchGroupId,success:a,error:t})}};sap.uiext.inbox.InboxDataManager._addOperationsToBatchV1=function(e){var a,t;for(var o=0;o<e.numberOfRequests;o++){if(e.sPath){a=e.sPath}else if(e.aPaths){a=e.aPaths[o]}if(e.aUrlParameters){a=this._createRequestUrl(a,e.aUrlParameters[o])}if(e.aProperties){t=this._oModel.createBatchOperation(a,e.sMethod,e.aProperties[o])}else{t=this._oModel.createBatchOperation(a,e.sMethod)}if(e.sMethod==="GET"){this._oModel.addBatchReadOperations([t])}else if(e.sMethod==="POST"){this._oModel.addBatchChangeOperations([t])}}};sap.uiext.inbox.InboxDataManager._addOperationsToBatchV2=function(e){var a;var t={batchGroupId:e.sBatchGroupId};for(var o=0;o<e.numberOfRequests;o++){if(e.aUrlParameters){t.urlParameters=e.aUrlParameters[o]}if(e.aProperties){t.properties=e.aProperties[o]}if(e.sPath){a=e.sPath}else if(e.aPaths){a=e.aPaths[o]}if(!jQuery.sap.startsWith(a,"/")){a="/"+a}if(e.sMethod=="GET"){this._oModel.read(a,t)}else if(e.sMethod=="POST"){t.changeSetId="changeSetId"+o;this._oModel.createEntry(a,t)}}};sap.uiext.inbox.InboxDataManager.callFunctionImport=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}this._oModel.callFunction(e,a)};sap.uiext.inbox.InboxDataManager.readData=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}if(!(this._oModel instanceof sap.ui.model.json.JSONModel)){this._oModel.read(e,a)}};sap.uiext.inbox.InboxDataManager._createRequestUrl=function(e,a){var t=[];var o=e;jQuery.each(a,function(e,a){t.push(e+"="+a)});if(t&&t.length>0){o+="?"+t.join("&")}return o};sap.uiext.inbox.InboxDataManager.removeData=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}this._oModel.remove(e,a)};
//# sourceMappingURL=InboxDataManager.js.map