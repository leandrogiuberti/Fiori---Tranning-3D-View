/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.controller.InboxController");sap.ui.base.Object.extend("sap.uiext.inbox.controller.InboxController",{constructor:function(){sap.ui.base.Object.apply(this);this.oView=null;this.oModel=null},setModel:function(t){this.oModel=t},getModel:function(t){return this.oModel},getExpandParameters:function(){var t="";var e=this.getView();var i=e.currentView===e.constants.rowRepeaterView?true:false;var n=e._getComponent("INBOX_FILTER_TASK_TYPE");var r=n?e._isInitialFilterAppliedforTaskType(n):false;if(e.showTaskCategory){t="TaskDefinitionData"}if(e.showTaskDescription&&i){if(t.length>0){t=t+","}t=t+"Description"}if(r&&e.isCustomAttributesEnabled){if(t.length>0){t=t+","}t=t+"CustomAttributeData"}return t},setView:function(t){this.oView=t},getView:function(){return this.oView},getTaskInitiatorIconParts:function(){return[{path:"CreatedBy"}]},getTaskInitiatorIconFormatter:function(t){return function(e){var i=this.getBindingContext();var n;if(i){n=i.getProperty("TaskDefinitionData/Category")}var r;if(n!==null&&n!==""&&n!==undefined){n=n.toUpperCase();if(n===t._oBundle.getText("ALERT"))r=t.constants.iconPool.getIconURI("alert");else if(n===t._oBundle.getText("NOTIFICATION"))r=t.constants.iconPool.getIconURI("notification-2");else if(n===t._oBundle.getText("TODO"))r=t.constants.iconPool.getIconURI("activity-2");else if(n===t._oBundle.getText("TASK"))r=t.constants.iconPool.getIconURI("task")}if(!e){return r}else{this.setVisible(false)}}},getExpandTaskDescriptionLinkParts:function(){return[{path:"Description"}]},getExpandTaskDescriptionLinkFormatter:function(t){return function(e){if(e){var i=t.getCoreModel();var n=this.getBindingContext();var r=t.getModel().getProperty(t.constants.NAVIGATION_DESCRIPTION,n);var o=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");if(!o){if(r.Description&&r.Description!==""){if(r.Description.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}else{if(r.DescriptionAsHtml&&r.DescriptionAsHtml!==""){if(r.DescriptionAsHtml.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}}return"auto"}},isFilterOnCustomAttributesSupported:function(){return true},isSortOnCustomAttributesSupported:function(){return true},getCustomAttributeColumnParts:function(t){return[{path:"CustomAttributeData"}]},getCustomAttributeColumnFormatter:function(t){return function(e){var i=t.getCoreModel();var n="name";var r=t.sCollectionPath.replace(/^\//,"")+"('"+this.data(n)+"')";var o="";if(e!==undefined&&e!==""&&e!==null){var a=this.getModel().getProperty("InstanceID",this.getBindingContext());var s=t.constants.oTaskInstanceCustomAttributeValuesMap;for(var u=0;u<e.length;u++){var l=i.oData[e[u]]===undefined?i._original_data[e[u]]:i.oData[e[u]];if(l.Name===this.data(n)){var c=l.Name;var f=s[a];if(!f){var f={};f[l.Name]=l.Value;s[a]=f}else{var p=f.sAttributeName;if(!p){s[a][c]=l.Value}}o=l.Value;break}}}return o}},getTaskDetailsParts:function(){return[{path:"Description"}]},getTaskDetailsFormatter:function(t){return function(e){if(e!==null&&e!==undefined){var i=t.getCoreModel();var n=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");var r=this.getBindingContext();var o=e[0];var a=i.oData[o];var s=/(<([^>]+)>)/gi;var u;if(a){if(n&&a.DescriptionAsHtml!==""){u=a.DescriptionAsHtml}else{u=a.Description}}else{if(n&&e.DescriptionAsHtml!==""){u=e.DescriptionAsHtml}else{u=e.Description}}if(u!==null&&u!==undefined&&u!==""){this.data("showMore",u);this.data("showLess",u.replace(s,""));return u.replace(s,"")}}return""}},getHtmlTextParts:function(){return[{path:"Description"}]},getHtmlTextFormatter:function(t){return function(e){var i=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");if(i){if(e.DescriptionAsHtml){return e.DescriptionAsHtml}}return e.Description}}});
//# sourceMappingURL=InboxController.js.map