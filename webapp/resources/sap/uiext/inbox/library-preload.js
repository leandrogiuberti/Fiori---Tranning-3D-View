//@ui5-bundle sap/uiext/inbox/library-preload.js
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/uiext/inbox/library", ["sap/ui/core/library","sap/ui/commons/library","sap/ui/ux3/library","sap/ui/core/Core"],function(){"use strict";var i=sap.ui.getCore().initLibrary({name:"sap.uiext.inbox",dependencies:["sap.ui.core","sap.ui.commons","sap.ui.ux3"],types:[],interfaces:[],controls:["sap.uiext.inbox.Inbox","sap.uiext.inbox.InboxLaunchPad","sap.uiext.inbox.InboxSplitApp","sap.uiext.inbox.SubstitutionRulesManager","sap.uiext.inbox.composite.InboxAddAttachmentTile","sap.uiext.inbox.composite.InboxAttachmentTile","sap.uiext.inbox.composite.InboxAttachmentsTileContainer","sap.uiext.inbox.composite.InboxBusyIndicator","sap.uiext.inbox.composite.InboxComment","sap.uiext.inbox.composite.InboxTaskComments","sap.uiext.inbox.composite.InboxTaskTitleControl","sap.uiext.inbox.composite.InboxUploadAttachmentTile"],elements:[],version:"1.141.1"});return i});
sap.ui.require.preload({
	"sap/uiext/inbox/Inbox.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.Inbox");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.Inbox",{metadata:{deprecated:true,library:"sap.uiext.inbox",properties:{taskExecutionURLThemeValue:{type:"string",group:"Misc",defaultValue:null},handleBindings:{type:"boolean",group:"Misc",defaultValue:true},openCompletedTasks:{type:"boolean",group:"Misc",defaultValue:false}},events:{oDataRequestCompleted:{},refresh:{},taskAction:{},taskSelectionChange:{}}}});jQuery.sap.require("sap.uiext.inbox.InboxConstants");jQuery.sap.require("sap.uiext.inbox.TCMMetadata");jQuery.sap.require("sap.uiext.inbox.tcm.TCMModel");jQuery.sap.require("sap.uiext.inbox.InboxLink");jQuery.sap.require("sap.uiext.inbox.InboxTaskCategoryFilterList");jQuery.sap.require("sap.uiext.inbox.TaskInitialFilters");jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.uiext.inbox.SubstitutionRulesManager");jQuery.sap.require("sap.uiext.inbox.InboxFilters");jQuery.sap.require("sap.uiext.inbox.controller.InboxControllerFactory");jQuery.sap.require("sap.uiext.inbox.InboxDataManager");jQuery.sap.require("sap.ui.core.format.DateFormat");jQuery.sap.require("sap.ui.core.ListItem");jQuery.sap.require("sap.ui.core.HTML");jQuery.sap.require("sap.ui.core.Locale");jQuery.sap.require("sap.ui.core.Icon");jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.require("sap.ui.commons.layout.MatrixLayout");jQuery.sap.require("sap.ui.commons.Image");jQuery.sap.require("sap.ui.commons.ToggleButton");jQuery.sap.require("sap.ui.commons.DropdownBox");jQuery.sap.require("sap.ui.commons.SearchField");jQuery.sap.require("sap.ui.commons.Toolbar");jQuery.sap.require("sap.ui.commons.TextView");jQuery.sap.require("sap.ui.commons.Label");jQuery.sap.require("sap.ui.commons.Button");jQuery.sap.require("sap.ui.commons.ToolbarSeparator");jQuery.sap.require("sap.ui.commons.Link");jQuery.sap.require("sap.ui.commons.TextField");jQuery.sap.require("sap.ui.commons.layout.BorderLayout");jQuery.sap.require("sap.ui.commons.layout.HorizontalLayout");jQuery.sap.require("sap.ui.commons.layout.VerticalLayout");jQuery.sap.require("sap.ui.commons.RadioButtonGroup");jQuery.sap.require("sap.ui.commons.Dialog");jQuery.sap.require("sap.uiext.inbox.InboxFormattedTextView");jQuery.sap.require("sap.uiext.inbox.InboxToggleTextView");jQuery.sap.require("sap.ui.ux3.FacetFilter");jQuery.sap.require("sap.ui.ux3.FacetFilterList");jQuery.sap.require("sap.ui.ux3.OverlayContainer");jQuery.sap.require("sap.ui.table.Table");jQuery.sap.require("sap.ui.model.Sorter");jQuery.sap.require("sap.ui.model.Filter");sap.uiext.inbox.Inbox.prototype.init=function(){this.oTcmMetadata=new sap.uiext.inbox.TCMMetadata;this.oTCMModel=new sap.uiext.inbox.tcm.TCMModel;this.inboxUtils=sap.uiext.inbox.InboxUtils;this.constants=sap.uiext.inbox.InboxConstants;this.oDataManager=sap.uiext.inbox.InboxDataManager;this.oCore=sap.ui.getCore();this._oBundle=this.oCore.getLibraryResourceBundle("sap.uiext.inbox");var e=sap.ui.getCore().getConfiguration().getTheme();this._imgResourcePath=sap.ui.resource("sap.uiext.inbox","themes/"+e+"/img/");var t=jQuery.sap.getUriParameters();var i=this.constants.defaultView_URLParameter;var a=t.get(i);if(a===null){var o=this.inboxUtils.getCookieValue(i);this.defaultView=o!==undefined?o:this.constants.tableView}else{this.defaultView=jQuery.inArray(a,this.constants.inboxViews)===-1?this.constants.tableView:a;this.inboxUtils.setCookieValue(i,this.defaultView,1)}var s={};s.bAsyncValue=t.get(this.constants.async_URLParameter)==="true"?true:false;this.oController=new sap.uiext.inbox.controller.InboxControllerFactory(s).getController();this.oController.setView(this);var r=t.get("sap-ui-inbox-clientUpdate");if(r){r=r.toLowerCase()}if(r&&r==="true"){this.clientUpdate=true}this.sProviderHost="";this.bRefreshTaskTypes=true;this.selectedContexts=[];this.sTypeOfModel="";this.bpmSvcUrl="";var n=this.constants.tableViewRowCount_URLParameter;this.tableViewRowCountValue=t.get(n);var l=this.constants.rrViewRowCount_URLParameter;this.rrViewRowCountValue=t.get(l);this.applyTaskCategoryFilter=false;this.isSubstitutionEnabled=false;this.isSubstitutionRuleCreationSupported=false;this.isCustomAttributesEnabled=false;this.isCustomActionsEnabled=false;this.showTaskDescription=false;this.showTaskCategory=true;this.isBatchOperationSupported=true;this.isForwardActionEnabled=false;this.isCommentsEnabled=false;this.bOpenTaskUIInNewTab=true;this.bUseBatch=false;this.bAllowCustomAttributeSort=true;this.bShowNoDueDateFilter=false;this.loggedInUserName;this.loggedInUserDisplayName;this._substitutionPath="";this.sCollectionPath="TaskCollection";this.filtersToApply={};this.filterState={};this.resetMessages=true;this.httpMethodForAction="POST";this.currentView=this.defaultView;this.bRefreshStartFlag=false;this.oPendingSearchRequest=undefined;this.getDefaultTaskExecutionURLCallBack=function(e,t){var i=this.sCollectionPath+"(InstanceID='"+e+"',SAP__Origin='"+t+"')/UIExecutionLink?$format=json";var a=this.bpmSvcUrl+i;var o="";var s=this.getCoreModel();var r=this;var n={async:false,requestUri:a,method:"GET",headers:{Accept:"application/json","x-csrf-token":s.oHeaders["x-csrf-token"]}};OData.request(n,function(e,t){o=e.GUI_Link},function(t){if(t.response.statusCode==205){var i={statusCode:t.response.statusCode,statusText:t.response.statusText};s.fireRequestFailed(i)}else{var a=r.inboxUtils.getErrorMessageFromODataErrorObject(t);r.showMessage("error",r._oBundle.getText("INBOX_MSG_ERR_EXUI")+" "+e+"; "+a)}});if(o.search("HRMSS_LR_APPR_G")!=-1){var l=sap.ui.getCore().getConfiguration().getLanguage();o=o+"&sap-language="+l}return o};this.getTaskExecURLStatusCallBack=function(e,t){var i="";var a=this.bpmSvcUrl+this.sCollectionPath+"(InstanceID='"+e+"',SAP__Origin='"+t+"')?$format=json";var o=this.getCoreModel();var s=this;var r={async:false,requestUri:a,method:"GET",headers:{Accept:"application/json","x-csrf-token":o.oHeaders["x-csrf-token"]}};OData.request(r,function(e,t){i=e.Status},function(t){if(t.response.statusCode==205){var i={statusCode:t.response.statusCode,statusText:t.response.statusText};o.fireRequestFailed(i)}else{s.showMessage("error",s._oBundle.getText("INBOX_MSG_ERR_EXUI")+" "+e)}});return i};this.searchCallBack="";this.dynamicTaskTypeFilterCallBack="";this.getTaskExecutionURLCallBack=this.getDefaultTaskExecutionURLCallBack;this.lastRefreshedOnDateTime=new Date;this.vLayout=this.createInboxUI();this.vLayout.setParent(this);this.addAndRemoveSubstDropDowns();this.constants=sap.uiext.inbox.InboxConstants;this.lastRefreshedOnDateTime=new Date;this.bCustomAttributesVisible=false};sap.uiext.inbox.Inbox.prototype.exit=function(){this.vLayout.destroy();this.vLayout=null;function e(e){var t=sap.ui.getCore().byId(e);t&&t.destroy()}e(this.getId()+"--"+"dropdownCell1");e(this.getId()+"--"+"dropdownCell2");e(this.getId()+"--"+"dropdownCell3");e(this.getId()+"--"+"manageSubstitutionMI");e(this.getId()+"--"+"rrMainMatrixLayout");e(this.getId()+"--"+"separatorRRViewCell");if(this.oCustomActionToolPopup){e(this.oCustomActionToolPopup.getId())}if(this.oCustomActionToolPopupCommentsMand){e(this.oCustomActionToolPopupCommentsMand.getId())}this._oBundle=undefined;delete this.oCustomActionToolPopup;delete this.oCustomActionToolPopupCommentsMand};sap.uiext.inbox.Inbox.prototype.createAttributes=function(e,t){var i=this;if(e.name==="INBOX_FILTER_CATEGORY"){var a=new sap.uiext.inbox.InboxTaskCategoryFilterList(this.getId()+"--"+e.name);a.setSelectedKeys(["INBOX_FILTER_CATEGORY_TASKS"])}else{var a=new sap.ui.ux3.FacetFilterList(this.getId()+"--"+e.name)}a.setTitle(this._oBundle.getText(e.name));for(var o=0;o<e.attributes.length;o++){if(typeof e.attributes[o]=="string"||e.attributes[o].key!=undefined){var s;var r;if(e.attributes[o].key!=undefined){var n=e.attributes[o];s=i.inboxUtils.scrub(n.key);r=new sap.ui.core.ListItem(this.getId()+"--"+s,{text:e.attributes[o].value,key:e.attributes[o].key});if(n.sap__Origin){r.data("SAP__Origin",n.sap__Origin)}if(n.instanceID){r.data("InstanceID",n.instanceID)}}else{s=i.inboxUtils.scrub(e.attributes[o]);r=new sap.ui.core.ListItem(this.getId()+"--"+s,{text:this._oBundle.getText(e.attributes[o]),key:s})}a.addItem(r)}else{i.createAttributes(e.attributes[o],a)}}t.addList(a)};sap.uiext.inbox.Inbox.prototype.toggleFilterView=function(e,t){var i=t;var a=sap.ui.getCore().byId(i.getId()+"--"+"filterFacet");i.showBusyLoader();if(a===undefined){a=new sap.ui.ux3.FacetFilter(i.getId()+"--"+"filterFacet");var o=i.applyTaskCategoryFilter?i.constants.aDrillDownFilterMetadata:i.bShowNoDueDateFilter?i.constants.aFilterMetaDataWithNoDueDate:i.constants.aFilterMetaData;for(var s=0;s<o.length;s++){i.createAttributes(o[s],a)}var r=sap.ui.getCore().byId(i.getId()+"--"+"verticalLayoutContainer");r.insertContent(a,1);var n=a.getLists();for(var l=0;l<n.length;l++){if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_PRIORITY"){n[l].attachSelect(i,i.applyDrillDownFilterForPriority)}else if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_STATUS"){n[l].attachSelect(i,i.applyDrillDownFilterForStatus)}else if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_CREATION_DATE"){n[l].setMultiSelect(false);n[l].attachSelect(i,i.applyDrillDownFilterForDateTime)}else if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_TASK_TYPE"){n[l].attachSelect(i,i.applyDrillDownFilterForTaskType)}else if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_DUE_DATETIME"){n[l].setMultiSelect(false);n[l].attachSelect(i,i.applyDrillDownFilterForDueDate)}else if(n[l].getId()===i.getId()+"--"+"INBOX_FILTER_CATEGORY"){n[l].setMultiSelect(false);n[l].attachSelect(i,i.applyDrillDownFilterForTaskCategory)}}}var u=sap.ui.getCore().byId(i.getId()+"--"+"INBOX_FILTER_STATUS");if(sap.ui.getCore().byId(i.getId()+"--"+"filterComboBox2").getSelectedItemId()===i.getId()+"--"+"li_completedTasks"){if(u!=undefined){a.removeList(u)}if(d!==undefined){a.removeList(d)}}var d=sap.ui.getCore().byId(i.getId()+"--"+"INBOX_FILTER_CREATION_DATE");var p=sap.ui.getCore().byId(i.getId()+"--"+"INBOX_FILTER_DUE_DATETIME");var c=sap.ui.getCore().byId(i.getId()+"--"+"filterComboBox2").getSelectedItemId();if(c===i.getId()+"--"+"li_overdueTasks"||c===i.getId()+"--"+"li_escalatedTasks"){if(d!==undefined&&a.indexOfList(d)!==-1){a.removeList(d)}if(p!==undefined&&a.indexOfList(p)!==-1){a.removeList(p)}}var g=i._getComponent("filterViewButton");a.setVisible(g.getPressed());i.hideBusyLoader()};sap.uiext.inbox.Inbox.prototype.populateFilterButtonContainer=function(e){var t=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+"--"+"filterButtonCell"});var i=false;var a=new sap.ui.commons.ToggleButton(this.getId()+"--"+"filterViewButton",{icon:sap.uiext.inbox.InboxConstants.filterViewImage,pressed:false,tooltip:this._oBundle.getText("INBOX_BUTTON_FILTER_VIEW_TOOLTIP")});a.attachPress(this,this.toggleFilterView);a.addStyleClass("sapUiExtInboxToolBarContainerHeight");t.addContent(a);t.setPadding(sap.ui.commons.layout.Padding.None);e.createRow(t)};sap.uiext.inbox.Inbox.prototype.addAndRemoveSubstDropDowns=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"dropdownRow");var t=sap.ui.getCore().byId(this.getId()+"--"+"dropdownCell1");var i=sap.ui.getCore().byId(this.getId()+"--"+"dropdownCell2");var a=sap.ui.getCore().byId(this.getId()+"--"+"dropdownCell3");var o=sap.ui.getCore().byId(this.getId()+"--"+"manageSubstitutionMI");var s=sap.ui.getCore().byId(this.getId()+"--"+"rrManageSubstitutionMI");if(this.getSubstitutionEnabled()){e.addCell(t);e.addCell(i);e.addCell(a)}else{if(e!=undefined){e.removeCell(t);e.removeCell(a)}}var r=sap.ui.getCore().byId(this.getId()+"--"+"rrSettingsButton");var n=sap.ui.getCore().byId(this.getId()+"--"+"settingsButton");this._manageVisibilityOfSettingsButton(r);this._manageVisibilityOfSettingsButton(n)};sap.uiext.inbox.Inbox.prototype.populateDropDownContainer=function(e){var t=new sap.ui.commons.layout.MatrixLayoutRow(this.getId()+"--"+"dropdownRow");var i=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+"--"+"dropdownCell1");i.setPadding(sap.ui.commons.layout.Padding.None);var a=new sap.ui.commons.DropdownBox(this.getId()+"--"+"filterComboBox1",{tooltip:this._oBundle.getText("INBOX_TASKS_FILTER_DROPDOWN_TOOLTIP"),items:[new sap.ui.core.ListItem(this.getId()+"--"+"li_allTasks",{text:this._oBundle.getText("INBOX_DROP_DOWN_VALUE_ALL_TASKS")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_myTasks",{text:this._oBundle.getText("INBOX_MY_TASKS_TEXT")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_substitutedTasks",{text:this._oBundle.getText("SUBSTITUTION_INBOX_DROP_DOWN_VALUE_TASKS_ASSIGNED_TO_ME")})]});a.attachChange(this,this.applyDropDownFilter1);a.setValue(this._oBundle.getText("INBOX_DROP_DOWN_VALUE_ALL_TASKS"));a.addStyleClass("sapUiExtInboxToolBarContainerHeight");a.addStyleClass("sapUiExtInboxComboBox");i.addContent(a);t.addCell(i);var o=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+"--"+"dropdownCell2");o.setPadding(sap.ui.commons.layout.Padding.None);var s=new sap.ui.commons.DropdownBox(this.getId()+"--"+"filterComboBox2",{tooltip:this._oBundle.getText("INBOX_TASKS_FILTER_DROPDOWN_TOOLTIP"),items:[new sap.ui.core.ListItem(this.getId()+"--"+"li_openTasks",{text:this._oBundle.getText("INBOX_DROP_DOWN_VALUE_OPEN_TASKS")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_completedTasks",{text:this._oBundle.getText("INBOX_DROP_DOWN_VALUE_COMPLETED_TASKS")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_overdueTasks",{text:this._oBundle.getText("INBOX_DROP_DOWN_VALUE_OVERDUE_TASKS")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_escalatedTasks",{text:this._oBundle.getText("INBOX_DROP_DOWN_VALUE_ESCALATED_TASKS")})]});s.attachChange(this,this.applyDropDownFilter);s.setValue(this._oBundle.getText("INBOX_DROP_DOWN_VALUE_OPEN_TASKS"));s.addStyleClass("sapUiExtInboxToolBarContainerHeight");s.addStyleClass("sapUiExtInboxComboBox");o.addContent(s);t.addCell(o);var r=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+"--"+"dropdownCell3");r.setPadding(sap.ui.commons.layout.Padding.None);var n=new sap.ui.commons.DropdownBox(this.getId()+"--"+"filterComboBox3",{maxPopupItems:10});var l="";if(sap.ui.getCore().byId(this.getId()+"--"+"onBehalfOfListItem")===undefined){var l=new sap.ui.core.ListItem(this.getId()+"--"+"onBehalfOfListItem")}l.setText(this._oBundle.getText("SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF"));l.setKey("onBehalfOf");n.addItem(l);var u="";if(sap.ui.getCore().byId(this.getId()+"--"+"li_allUsers")===undefined){u=new sap.ui.core.ListItem(this.getId()+"--"+"li_allUsers")}u.setText(this._oBundle.getText("INBOX_DROP_DOWN_VALUE_ALL_USERS"));u.setKey("allUsers");n.addItem(u);n.attachChange(this,this.applyDropDownFilter3);n.setValue(this._oBundle.getText("SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF"));n.addStyleClass("sapUiExtInboxToolBarContainerHeight");n.addStyleClass("sapUiExtInboxComboBox");n.setEnabled(false);r.addContent(n);t.addCell(r);e.addRow(t);this.addAndRemoveSubstDropDowns()};sap.uiext.inbox.Inbox.prototype.populateSearchFieldContainer=function(e){var t=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+"--"+"searchBoxCell");t.setPadding(sap.ui.commons.layout.Padding.None);var i=new sap.ui.commons.SearchField(this.getId()+"--"+"searchField",{enableListSuggest:false,enableClear:true,startSuggestion:0,tooltip:this._oBundle.getText("INBOX_SEARCH_TEXT")});i.addStyleClass("sapUiExtInboxSearchField");i.attachSuggest(this,function(e,t){if(e.getParameter("value")===""){t.resetSearchCriteria();t.applyFilterOnResponse(null)}});i.attachSearch(this,this.localSearch);t.addContent(i);e.createRow(t)};sap.uiext.inbox.Inbox.prototype.populateNotificationBar=function(){var e=new sap.ui.ux3.NotificationBar({id:this.getId()+"--"+"notificationBar",visibleStatus:"None"});var t=new sap.ui.ux3.Notifier({id:this.getId()+"--"+"messageNotifier",title:this._oBundle.getText("INBOX_NOTIFICATIONS"),messageSelected:function e(t){}});e.setMessageNotifier(t);e.addStyleClass("sapUiExtInboxNotificationBar");return e};sap.uiext.inbox.Inbox.prototype.populateToolBar=function(){var e=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"toolbarContainer",{layoutFixed:false,width:"100%",columns:6,widths:["1px","1px","1px","1px","100%","1px"]});var t=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"viewButtonsContainer",{layoutFixed:false});var i=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"filterButtonContainer",{layoutFixed:false});var a=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"refreshButtonContainer",{layoutFixed:false});var o=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"dropDownContainer",{layoutFixed:false});var s=new sap.ui.commons.Label(this.getId()+"--"+"emptyLabel",{text:""});var r=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"searchFieldContainer",{layoutFixed:false});e.createRow(t,o,i,a,s,r);this.populateViewButtonsContainer(t);this.populateDropDownContainer(o);this.populateFilterButtonContainer(i);this.populateRefreshButtonContainer(a);this.populateSearchFieldContainer(r);return e};sap.uiext.inbox.Inbox.prototype.populateViews=function(){var e=this;var t=sap.ui.getCore().byId(this.getId()+"--"+"verticalLayoutContainer");var i=new sap.ui.commons.Toolbar(this.getId()+"--"+"actionButtonsToolbarContainer");i.setDesign(sap.ui.commons.ToolbarDesign.Standard);i.addStyleClass("sapUiExtInboxActionButtonsToolbarContainer");if(sap.ui.getCore().byId(this.getId()+"--"+"openActionButton")===undefined){var a=new sap.ui.commons.Button(this.getId()+"--"+"openActionButton",{icon:this.constants.iconPool.getIconURI("open-folder"),text:this._oBundle.getText("INBOX_ACTION_BUTTON_OPEN"),enabled:false,tooltip:this._oBundle.getText("INBOX_ACTION_BUTTON_OPEN")});a.attachPress(this,function(t,i){e.showBusyLoader();e.populateTaskExecutionContent();e.hideBusyLoader()});i.addItem(a)}if(sap.ui.getCore().byId(this.getId()+"--"+"claimActionButton")===undefined){var o=new sap.ui.commons.Button(this.getId()+"--"+"claimActionButton",{icon:this.constants.iconPool.getIconURI("locked"),text:this._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM"),enabled:false,tooltip:this._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM"),visible:false});o.attachPress({inbox:e,view:e.constants.tableView,action:"Claim"},e.executeActionOnTask);o.setVisible(false);i.addItem(o)}if(sap.ui.getCore().byId(this.getId()+"--"+"releaseActionButton")===undefined){var s=new sap.ui.commons.Button(this.getId()+"--"+"releaseActionButton",{icon:this.constants.iconPool.getIconURI("unlocked"),text:this._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE"),enabled:false,tooltip:this._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE"),visible:false});s.attachPress({inbox:e,view:e.constants.tableView,action:"Release"},e.executeActionOnTask);s.setVisible(false);i.addItem(s)}if(sap.ui.getCore().byId(this.getId()+"--"+"forwardActionButton")===undefined){var r=new sap.ui.commons.Button(this.getId()+"--"+"forwardActionButton",{icon:this.constants.iconPool.getIconURI("open-command-field"),text:this._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD"),enabled:false,tooltip:this._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD"),visible:false});r.attachPress({inbox:e,view:e.constants.tableView,action:"Forward"},e._executeForwardAction);i.addItem(r)}if(sap.ui.getCore().byId(this.getId()+"--"+"settingsButton")===undefined){var n=new sap.ui.commons.Button(this.getId()+"--"+"settingsButton",{tooltip:this._oBundle.getText("INBOX_MANAGE_SUBSTITUTION_RULES_TOOLTIP"),icon:this.constants.iconPool.getIconURI("workflow-tasks"),iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,lite:true});n.addStyleClass("sapUiExtInboxToolbarRight");n.addStyleClass("sapUiExtInboxSettingsButton");n.attachPress(e,e.onSubstitutionButtonPress);i.addItem(n)}t.addContent(i);if(e._getComponent("listViewTable")===undefined){var l=new sap.ui.table.Table(e.getId()+"--"+"listViewTable",{});l.attachFilter(function(t){t.preventDefault();var i=t.getParameter("column");var a=t.getParameter("value");e._applyFilterOnTableColumns(i,a);e._preserveTableSort()});l.setThreshold(1e4);l.addStyleClass("sapUiExtInboxCustomTable");l.setEditable(false);l.bDynamic=true;l.setBusyIndicatorDelay(0);var u=e._getCategoryMetadata();var d=u.properties.length;for(var p=0;p<d;p++){e._createTableColumnContent(p,u)}e.bSorted=false;l.attachSort(function(t){var i=t.getParameter("column");if(e._isCustomAttribute(i)){t.preventDefault();var a=i.data("customAttrName");var o=null;var s=null;var r=e.constants;var n=r.oTaskDefinitionCustomAttributesMap;var l=e._getComponent("INBOX_FILTER_TASK_TYPE");var u=l.getSelectedKeys();if(u){var d=u[0];var p=n[d];if(p){for(var c=0;c<p.length;c++){var g=p[c];if(g.Name==a){var o=g.Type;break}}}}if(o){s=t.getParameter("sortOrder")}e._applySortOnTableColumn(i,a,o,s)}else{var f=e._currentViewElement();if(f._originalKeys){var h=f.getBinding("rows");h.iLength=f._originalKeys.length}e.bSorted=true;e.resetSearchCriteria()}});l.attachRowSelectionChange(function(t){e._handleTableRowSelect(t)});l.clearSelection()}if(jQuery.sap.getUriParameters().get("inbox-width-limit")){if(!l.__iTableInboxSizeLimit){setTimeout(function(){l.__iTableInboxSizeLimit=l.$().width();l._ibx_orig_afterrendering=l.onAfterRendering;l.onAfterRendering=function(){this.$().css("max-width",this.__iTableInboxSizeLimit+"px");return this._ibx_orig_afterrendering.apply(this,arguments)};l.invalidate()},1e3)}}t.addContent(l);t.addContent(e.createTableRowSettingsContent());e.createRowRepeaterView()};sap.uiext.inbox.Inbox.prototype.addAction=function(e,t,i,a,o){var s=4;if(o===undefined){o=true}if(e&&t&&a&&i){var r=this._getActionButtonToolBarForTableView();var n=new sap.ui.commons.Button(this.getId()+"--"+e,{text:t,enabled:true,tooltip:i}).attachPress(a);r.insertItem(n,100)}else{if(arguments.length<s){console.error("Add Action failed: missing parameters")}}return this};sap.uiext.inbox.Inbox.prototype._handleTableRowSelect=function(e){var t=this.getCoreModel();var i=this;var a=[],o=[];var s=[];var r=[];var n=this._getComponent("listViewTable");var l=n.getSelectedIndices();var u=e.getParameters();var d={aSupportsClaim:[],aSupportsRelease:[],aSupportsForward:[]};jQuery.each(l,function(e,l){var u=n.getContextByIndex(l);a.push(t.getProperty("Status",u));var p=t.getProperty(i.constants.TaskDefinitionCollection.properties.taskDefnID,u);var c=t.getProperty(i.constants.sapOrigin,u);if(jQuery.inArray(p,s)===-1){s.push(t.getProperty(i.constants.TaskDefinitionCollection.properties.taskDefnID,u))}if(jQuery.inArray(c,o)===-1){o.push(c)}r.push(t.getProperty(i.constants.InstanceID,u));d.aSupportsClaim.push(t.getProperty("SupportsClaim",u));d.aSupportsRelease.push(t.getProperty("SupportsRelease",u));if(i.isForwardActionEnabled){d.aSupportsForward.push(t.getProperty("SupportsForward",u))}});this.disableActionButtonsOnMultiStatus(a,d,o);if(this.isCustomActionsEnabled){this._deleteCustomActionsForTableView();var p=this._isCompletedTasksSelected();if(s&&s.length===1&&!p){this._createCustomActionsOnTableRowSelect(r,o)}}this._handleForwardButtonVisibilityOnRowSelection(o,d);var c=[];jQuery.each(l,function(e,a){var o=n.getContextByIndex(a);var s=t.getProperty(i.constants.InstanceID,o);var r=t.getProperty(i.constants.sapOrigin,o);var l={};l["InstanceID"]=s;l["SAP__Origin"]=r;c.push(l)});this.fireTaskSelectionChange({taskUniqueIdentifiers:c})};sap.uiext.inbox.Inbox.prototype._createCustomActionsOnTableRowSelect=function(e,t){this._getCustomActionsDefinitionOnMultiSelect(e,t[0])};sap.uiext.inbox.Inbox.prototype._getCustomActionsDefinitionOnMultiSelect=function(e,t){var i=sap.uiext.inbox.InboxConstants.taskInstanceDecisionOptionsMap;var a=e.length;var o=[],s,r=[];for(var n=0;n<a;n++){s=i[e[n]];if(s){o.push(s)}else{r.push(e[n])}}var l=r.length;if(l<=1){this._getCustomActionsDefinition(r[0],t,o)}else{this._fetchCustomActionsOnMultiSelect(o,r,t)}};sap.uiext.inbox.Inbox.prototype._fetchCustomActionsOnMultiSelect=function(e,t,i){if(this.bUseBatch){this._fetchCustomActionsUsingBatch(e,t,i)}else{this._fetchCustomActionsUsingAsyncCall(t,i,e)}};sap.uiext.inbox.Inbox.prototype._fetchCustomActionsUsingBatch=function(e,t,i){var a=[];jQuery.each(t,function(e,t){var o={};o.InstanceID="'"+t+"'";o.SAP__Origin="'"+i+"'";a.push(o)});this.oDataManager.fireBatchRequest({sPath:this.constants.decisionOptionsFunctionImport,sMethod:"GET",sBatchGroupId:"fetchDecisionOptions",aUrlParameters:a,numberOfRequests:t.length,fnSuccess:jQuery.proxy(this._processCustomActionsBatchResponse,{oInbox:this,aAvailableCustomActionArrayList:e,aFetchCustomActionsFor:t}),fnError:jQuery.proxy(this._handleErrorOnBatchRequests,this)})};sap.uiext.inbox.Inbox.prototype._processCustomActionsBatchResponse=function(e,t){var i=e.__batchResponses;var a=0;jQuery.each(i,jQuery.proxy(function(e,t){if(t&&t.statusCode&&t.statusCode==200){this.oInbox.constants.taskInstanceDecisionOptionsMap[this.aFetchCustomActionsFor[a++]]=t.data.results;this.aAvailableCustomActionArrayList.push(t.data.results)}},this));this.oInbox._displayCustomActions([],this.aAvailableCustomActionArrayList)};sap.uiext.inbox.Inbox.prototype._createTableColumnContent=function(e,t){var i=this;var a=this._getComponent("listViewTable");if(t.properties[e]=="TaskTitle"){var o=i._getFirstColumnContentTemplate();var s=i._createTableColumn(e,t,"INBOX_TASK_TITLE_TOOLTIP",o);s.setWidth("330px");s.setFlexible(false);a.insertColumn(s,e)}else if(t.properties[e]=="CreatedOn"){var r=new sap.ui.commons.TextView({text:{formatter:i.inboxUtils.dateTimeFormat,path:t.properties[e]}});r.bindProperty("tooltip",t.properties[e],i.tooltipFormatForDateTime);var n=i._createTableColumn(e,t,"INBOX_START_DATE_TOOLTIP",r);n.setFlexible(true);a.insertColumn(n,e)}else if(t.properties[e]=="CreatedByName"){var l=new sap.ui.commons.TextView({text:{path:t.properties[e]}});l.bindProperty("tooltip",t.properties[e]);var u=i._createTableColumn(e,t,"INBOX_CREATED_BY_NAME_TOOLTIP",l);u.setFlexible(true);a.insertColumn(u,e)}else if(t.properties[e]=="CompletionDeadLine"){var d=new sap.ui.commons.TextView({text:{formatter:i.inboxUtils.dateTimeFormat,path:t.properties[e]}});d.bindProperty("tooltip",t.properties[e],i.tooltipFormatForDateTime);var p=i._createTableColumn(e,t,"INBOX_DUE_DATE_TOOLTIP",d);p.setFlexible(true);a.insertColumn(p,e)}else if(t.properties[e]=="Status"){var c=new sap.ui.commons.TextView;c.bindText({parts:[{path:"Status",type:new sap.ui.model.type.String},{path:"StatusText",type:new sap.ui.model.type.String}],formatter:function(e,t){return i._getTaskStatus(e,t)},useRawValues:true});var g=i._createTableColumn(e,t,"INBOX_STATUS_TOOLTIP",c);g.setFlexible(true);a.insertColumn(g,e)}else if(t.properties[e]=="Priority"){var f=new sap.ui.commons.TextView;f.bindProperty("text","Priority",function(e){if(e!=null&&e!=""&&e!=undefined){return i._oBundle.getText(i.constants.prioTooltip[e])}return""});var h=i._createTableColumn(e,t,"INBOX_PRIORITY_TOOLTIP",f);h.setFlexible(true);a.insertColumn(h,e)}};sap.uiext.inbox.Inbox.prototype._createTableColumn=function(e,t,i,a){var o=t.properties[e];var s=new sap.ui.table.Column({id:this.getId()+"--"+o}).setLabel(new sap.ui.commons.Label({text:this._oBundle.getText(t.propertiesLabel[e]),tooltip:this._oBundle.getText(i),design:sap.ui.commons.LabelDesign.Bold})).setTemplate(a).setSortProperty(o).data("ColumnType","StandardAttribute");var r=this.constants.TABLE_VIEW_TECH_NAMES;if(o!==r.INBOX_TABLE_VIEW_STATUS&&o!==r.INBOX_TABLE_VIEW_PRIORITY)s.setFilterProperty(o);return s};sap.uiext.inbox.Inbox.prototype.createTableRowSettingsContent=function(){var e=this;var t=new sap.ui.commons.layout.MatrixLayout(e.getId()+"--"+"tableRowSettingLayoutContainer");var i=new sap.ui.commons.SegmentedButton({id:e.getId()+"--"+"tableRowSettingsSegBtn",buttons:[new sap.ui.commons.Button({id:e.getId()+"--"+"table10RowsSegBtn",lite:true,text:"10",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_TEN")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent"),new sap.ui.commons.Button({id:e.getId()+"--"+"table25RowsSegBtn",lite:true,text:"25",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_TWENTYFIVE")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent"),new sap.ui.commons.Button({id:e.getId()+"--"+"table50RowsSegBtn",lite:true,text:"50",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_FIFTY")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent")]});i.attachSelect(function(t){var i=parseInt(sap.ui.getCore().byId(t.getParameters().selectedButtonId).getText());var a=this.getButtons();var o=t.getParameters().selectedButtonId;for(var s=0;s<a.length;s++){var r=a[s];if(o!==r.getId()){r.addStyleClass("sapUiExtInboxSegmentedButtonTransparent");r.removeStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}else{r.removeStyleClass("sapUiExtInboxSegmentedButtonTransparent");r.addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}}e.setNoOfRowsOnTable(i)});if(e.tableViewRowCountValue!=null&&e.tableViewRowCountValue!=undefined){if(parseInt(e.tableViewRowCountValue)===10||parseInt(e.tableViewRowCountValue)===25||parseInt(e.tableViewRowCountValue)===50){i.fireSelect({selectedButtonId:e.getId()+"--"+"table"+parseInt(e.tableViewRowCountValue)+"RowsSegBtn"});i.setSelectedButton(e.getId()+"--"+"table"+parseInt(e.tableViewRowCountValue)+"RowsSegBtn");sap.ui.getCore().byId(i.getSelectedButton()).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}else{e.setNoOfRowsOnTable(parseInt(e.tableViewRowCountValue))}}else{i.setSelectedButton(e.getId()+"--"+"table10RowsSegBtn");sap.ui.getCore().byId(i.getSelectedButton()).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}var a=new sap.ui.commons.layout.BorderLayout(e.getId()+"--"+"tableBorderLayout",{width:"100%",height:"40px"});a.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,i);a.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:"45%",contentAlign:"right",visible:true});t.createRow(new sap.ui.commons.TextView({text:" "}));t.createRow(a);return t};sap.uiext.inbox.Inbox.prototype.createRowRepeaterView=function(){var e=this;var t=sap.ui.getCore().byId(e.getId()+"--"+"verticalLayoutContainer");var i=sap.ui.getCore().byId(e.getId()+"--"+"tasksRowRepeater");if(!i){var a=new sap.ui.commons.layout.MatrixLayout({id:e.getId()+"--"+"rrMainMatrixLayout",layoutFixed:true,columns:3,width:"100%",widths:["9%","73%","18%"]});var o=new sap.ui.commons.layout.MatrixLayoutRow({id:e.getId()+"--"+"rrFirstRow"});a.addRow(o);var s=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"taskInitiatorImageCell",rowSpan:2,colSpan:1,hAlign:sap.ui.commons.layout.HAlign.Center,vAlign:sap.ui.commons.layout.VAlign.Middle});s.addStyleClass("sapUiExtInboxRRFirstRowStyle");var r=new sap.ui.commons.Image(e.getId()+"--"+"taskInitiatorImg");r.setWidth("52px");r.setHeight("52px");r.addStyleClass("sapUiExtInboxRowRepTaskInitiatorColor");r.bindProperty("tooltip","CreatedByName");r.bindProperty("src","CreatedBy",function(t){var i=this.getBindingContext();if(t){return e.inboxUtils.getUserMediaResourceURL(e.bpmSvcUrl,i.getProperty("SAP__Origin"),i.getProperty("CreatedBy"))}else{this.setVisible(false)}});s.addContent(r);var n=e._getComponent("taskInitiatorIcn");if(!n){n=new sap.ui.core.Icon({id:e.getId()+"--"+"taskInitiatorIcn",decorative:false,src:{parts:this.oController.getTaskInitiatorIconParts(e),formatter:this.oController.getTaskInitiatorIconFormatter(e)}})}n.setSize("52px").addStyleClass("sapUiExtInboxRowRepTaskInitiatorColor").bindProperty("tooltip","CreatedByName");s.addContent(n);o.addCell(s);var l=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"taskTitleCell",padding:sap.ui.commons.layout.Padding.Bottom});l.addStyleClass("sapUiExtInboxRRFirstRowStyle");var u=new sap.uiext.inbox.InboxLink(e.getId()+"--"+"rrViewTaskTitle");u.addStyleClass("sapUiExtInboxfontBold");u.addDelegate({onAfterRendering:function(){if(this.data("overDue")===true){this.addStyleClass("sapUiExtInboxRedColor")}}});u.bindProperty("text","TaskTitle",function(e){if(this.getBindingContext()===undefined)return undefined;else return e});u.bindProperty("overdue","CompletionDeadLine",function(t){return e._isOverDue(t)});u.bindProperty("tooltip","TaskTitle");u.bindProperty("enabled","Status",function(t){if(t==="COMMITTED"){this.addStyleClass("sapUiExtInboxLnkDsbl");return false}else if(e.getOpenCompletedTasks()===false&&t=="COMPLETED"){this.addStyleClass("sapUiExtInboxLnkDsbl");return false}this.removeStyleClass("sapUiExtInboxLnkDsbl");return true});u.attachPress(this,function(t,i){e.showBusyLoader();var a=t.getSource().getParent();var o=t.getSource().getBindingContext();var s=e.getCoreModel();var r=t.getSource().getParent().getParent().getParent();var n=[];var l=[];var u=[];var d=[];l.push(s.getProperty("InstanceID",o));u.push(s.getProperty("TaskTitle",o));d.push(s.getProperty("SAP__Origin",o));if(e.getTaskExecutionURLCallBack!=""&&e.getTaskExecutionURLCallBack!=undefined&&e.getTaskExecutionURLCallBack!==null){var p=e.getTaskExecutionURLCallBack(l[0],d[0]);if(p!==null&&p.replace(/\s/g,"").length>0){n.push(p)}}else{n.push("")}var c=t.getParameter("windowEvent");if(!c.ctrlKey&&!(c.button==1)&&!c.shiftKey&&!e.bOpenTaskUIInNewTab){i.populateTaskExecutionContent({aSelectedContexts:[o],arrayURLs:n,arrayIDs:l,arrayTitles:u,aTaskSAPOrigins:d,oRow:r});e.hideBusyLoader()}else{e.hideBusyLoader();var p=n[0];if(p!==null&&p.replace(/\s/g,"").length>0){sap.ui.require(["sap/ui/util/openWindow"],function(e){var t=e(p);if(t){t.focus()}});t.preventDefault()}}});l.addContent(u);o.addCell(l);var d=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"createdOnCell",padding:sap.ui.commons.layout.Padding.Both,hAlign:sap.ui.commons.layout.HAlign.End});d.addStyleClass("sapUiExtInboxRRFirstRowStyle");d.addStyleClass("sapUiExtInboxRRPaddingRight");var p=new sap.ui.commons.TextView(e.getId()+"--"+"rrViewCreatedOnDate");p.addStyleClass("sapUIExtInboxRRTextColourStyle");p.bindProperty("tooltip","CreatedOn",e.tooltipFormatForDateTime);p.bindProperty("text","CreatedOn",function(t){if(t!==null&&t!==""){return e.inboxUtils.dateTimeFormat(t)}});d.addContent(p);o.addCell(d);var c=new sap.ui.commons.layout.MatrixLayoutRow({id:e.getId()+"--"+"secondRow"});a.addRow(c);var g=new sap.ui.commons.layout.MatrixLayout({id:e.getId()+"--"+"taskDescriptnMatxLyt",layoutFixed:false});var f=new sap.uiext.inbox.InboxFormattedTextView({htmlText:{parts:this.oController.getTaskDetailsParts(),formatter:this.oController.getTaskDetailsFormatter(e)},maxLines:1});var h=new sap.uiext.inbox.InboxToggleTextView({showMore:{parts:this.oController.getExpandTaskDescriptionLinkParts(),formatter:this.oController.getExpandTaskDescriptionLinkFormatter(e)}}).setFTV(f).attachShowMoreClick(function(t){var i=this.getAggregation("fTV");if(t.getParameter("text")===e._oBundle.getText("INBOX_SHOW_MORE_TEXT")){i.setHtmlText(i.data("showMore"));i.removeClamp();i.data("clamped","false")}else{i.setMaxLines(1);i.setHtmlText(i.data("showLess"))}});var I=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"taskDesCell",hAlign:sap.ui.commons.layout.HAlign.Left,colSpan:1});I.addContent(h);g.createRow(I);var m=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"taskDescriptionCell",padding:sap.ui.commons.layout.Padding.None,colSpan:1});m.addContent(g);c.addCell(m);var b=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"statusCell",padding:sap.ui.commons.layout.Padding.End,hAlign:sap.ui.commons.layout.HAlign.End,vAlign:sap.ui.commons.layout.VAlign.Top});b.addStyleClass("sapUiExtInboxRRPaddingRight");var x=new sap.ui.commons.TextView(e.getId()+"--"+"rrViewStatus");x.addStyleClass("sapUIExtInboxRRTextColourStyle");x.bindProperty("text","Status",function(t){var i=e.getModel();var a=i.getProperty(sap.uiext.inbox.InboxConstants.PROPERTY_NAME_CUSTOM_STATUS,this.getBindingContext(),false);return e._getTaskStatus(t,a)});b.addContent(x);c.addCell(b);var y=new sap.ui.commons.layout.MatrixLayoutRow({id:e.getId()+"--"+"thirdRow"});a.addRow(y);var T=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"taskInitiatorNameCell",hAlign:sap.ui.commons.layout.HAlign.Center,vAlign:sap.ui.commons.layout.VAlign.Top,colSpan:1,rowSpan:2});var _=new sap.ui.commons.TextView(e.getId()+"--"+"taskInitiatorName",{design:sap.ui.commons.TextViewDesign.Small,wrapping:false,width:"90%"});_.setTextAlign(sap.ui.core.TextAlign.Center);_.setDesign(sap.ui.commons.TextViewDesign.Bold);_.bindProperty("text","CreatedByName");T.addContent(_);y.addCell(T);var C=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"actionLinksCell",padding:sap.ui.commons.layout.Padding.None,colSpan:1});var v=new sap.ui.commons.layout.MatrixLayout({id:e.getId()+"--"+"taskActionMatrixLayout",layoutFixed:false});var S=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"claimActionCell",hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var w=new sap.ui.commons.Link(e.getId()+"--"+"rrViewClaimAction",{tooltip:e._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM"),visible:false,enabled:false});w.addStyleClass("sapUiExtInboxLnkNoUnderline");var A=new sap.ui.commons.Label({id:e.getId()+"--"+"dotSeparator",text:sap.uiext.inbox.InboxConstants.DOT,visible:false});A.addStyleClass("sapUIExtInboxDotSeperatorStyle");w.setText(e._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM"));w.attachPress({inbox:e,view:e.constants.rowRepeaterView,action:"Claim"},e.executeActionOnTask);S.addContent(w);var B=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"releaseActionCell",hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var O=new sap.ui.commons.Link(e.getId()+"--"+"rrViewReleaseAction",{tooltip:e._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE"),visible:false,enabled:false});O.addStyleClass("sapUiExtInboxLnkNoUnderline");O.setText(e._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE"));O.attachPress({inbox:e,view:e.constants.rowRepeaterView,action:"Release"},e.executeActionOnTask);B.addContent(O);var R=new sap.ui.commons.Label({id:e.getId()+"--"+"dotSeparator2",visible:false,text:sap.uiext.inbox.InboxConstants.DOT});R.addStyleClass("sapUIExtInboxDotSeperatorStyle");var E=e._createForwardActionLinkCell();var F=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"customActionCell",hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Top,padding:sap.ui.commons.layout.Padding.None,colSpan:1});var D=new sap.ui.layout.HorizontalLayout(e.getId()+"--"+"hrLayoutForCustomActions");D.setVisible(false);F.addContent(D);D.bindProperty("visible","InstanceID",function(t){if(!e._isCompletedTasksSelected()){if(t){if(this.getContent()[0]){this.getContent()[0].setVisible(true)}var i=e.getCoreModel();var a=this.getBindingContext();var o=i.getProperty("SAP__Origin",a);var s;var r=this;function n(t){if(t&&t.length>0){if(r.getContent()[0])r.getContent()[0].setVisible(false);for(var i in t){(function(i){var a=new sap.ui.commons.Link;var o=t[i];a.data("key",o.DecisionKey);a.data("text",o.DecisionText);a.data("commentsMandatory",o.CommentMandatory);var s=!o.DecisionText?o.DecisionKey:o.DecisionText;a.setText(s);a.attachPress({inbox:e,view:e.constants.rowRepeaterView},jQuery.proxy(e._handleCustomActionClick,e));a.addStyleClass("sapUiExtInboxLnkNoUnderline");a.addStyleClass("sapUiExtInboxCustomActionLinkPadding");var n=new sap.ui.commons.Label({text:sap.uiext.inbox.InboxConstants.DOT,visible:true});n.addStyleClass("sapUiExtInboxCustomActionLinkPadding");n.addStyleClass("sapUIExtInboxDotSeperatorStyle");r.addContent(n);r.addContent(a)})(i)}}else{if(r.getContent()[0])r.getContent()[0].setVisible(false);r.setVisible(false)}}s=e._getCustomActionsDefinition(t,o,null,n)}else{this.destroyContent();var l=new sap.ui.core.Icon;l.setSrc(e.constants.iconPool.getIconURI("refresh"));this.addContent(l);return true}}});v.createRow(S,A,B,R,E,F);C.addContent(v);y.addCell(C);var L=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"segmentedButtonsCell",padding:sap.ui.commons.layout.Padding.None,hAlign:sap.ui.commons.layout.HAlign.End,colSpan:1});var P=e.createOtherActions(e);L.addContent(P);y.addCell(L);a.addStyleClass("sapUiExtInboxRowRepeaterLayoutBorder");var i=new sap.ui.commons.RowRepeater(e.getId()+"--"+"tasksRowRepeater",{numberOfRows:5});i.setBusyIndicatorDelay(0);i.setThreshold(1e4);i.setDesign(sap.ui.commons.RowRepeaterDesign.BareShell);i.addStyleClass("sapUiExtInboxBackgroundColour");i.addStyleClass("sapUiExtInboxRowRepeaterBorder")}var M=e.createRowRepeaterToolBar(e);M.setVisible(false);t.addContent(M);i.setVisible(false);t.addContent(i);var N=e.createRowRepeaterToolsContent(e);N.setVisible(false);t.addContent(N)};sap.uiext.inbox.Inbox.prototype.onSubstitutionButtonPress=function(e,t){var i=t;var a=sap.ui.getCore().byId(i.getId()+"--"+"substitutionRulesManager");var o=i.getCoreModel();if(a===undefined){a=new sap.uiext.inbox.SubstitutionRulesManager(i.getId()+"--"+"substitutionRulesManager");a.setParent(i);a.sUrl=o.sServiceUrl;a.bUseBatch=i.bUseBatch;a.oTCMModel=i.oTCMModel;a.oTcmMetadata=i.oTcmMetadata;a.oConfiguration=i.oConfiguration;a.isSubstitutionRuleCreationSupported=i.isSubstitutionRuleCreationSupported;a.oDataManager=i.oDataManager;var s=i.constants.SubstitutionProfileCollection;a.bSubstitutionProfileAvailable=i.oTcmMetadata._isEntitySet(s.name,s.entityType)}a.getSubstitutionRulesData(o);a.open()};sap.uiext.inbox.Inbox.prototype.populateTaskExecutionContent=function(e){var t=this;var i=false,a=0;this.showBusyLoader();var o="";if(this.getTaskExecutionURLThemeValue()!==undefined&&this.getTaskExecutionURLThemeValue()!==null&&this.getTaskExecutionURLCallBack===this.getDefaultTaskExecutionURLCallBack){o=this.getTaskExecutionURLThemeValue()}var s=sap.ui.getCore().byId(this.getId()+"--"+"taskExecUI");if(s!=undefined){s.destroy()}var r=0;var n,l,u,d,p,c,g=[],f=[],h,I;if(e===undefined||e===null)e=this.getnavigateTaskExecMetadata();if(e!=undefined){n=e.arrayURLs;l=e.arrayIDs;a=l.length;u=e.arrayTitles;p=e.aTaskSAPOrigins;c=e.aSelectedContexts;h=c;if(this.clientUpdate){I=e.oRow}}s=new sap.ui.ux3.OverlayContainer(this.getId()+"--"+"taskExecUI");s.setOpenButtonVisible(false);if(this.currentView===this.constants.tableView&&c){this.selectedContexts=c}s.attachClose({inBox:this,completedTaskContexts:g,changeContextValues:f,rrSelectedRow:I},function(e,i){var a=i.inBox,o=i.completedTaskContexts,s=i.changeContextValues;jQuery.sap.byId(t.getId()+"--"+"execURLFrame").attr("src","");a.resetSearchCriteria();if(a.clientUpdate){var n=i.rrSelectedRow;if(a.getTaskExecURLStatusCallBack!==""&&a.getTaskExecURLStatusCallBack!==undefined&&a.getTaskExecURLStatusCallBack!==null){var u=a.getTaskExecURLStatusCallBack(l[r],p[r]);if(u==="COMPLETED"){if(I){o.push({orow:I,context:h[r]})}else{o.push(h[r])}}else{if(I){s.push({row:I,context:h[r],keys:[{key:"Status",value:u}]})}else{s.push({context:h[r],keys:[{key:"Status",value:u}]})}}}a._refreshLocal(o,s)}else{a.applyFilterOnResponse(a.selectedContexts)}});if(a==1){i=true}var m=sap.ui.getCore().byId(this.getId()+"--"+"nxtBtnContainer");if(m===undefined&&!i){m=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"nxtBtnContainer",{layoutFixed:false,height:"95%",width:"100%"})}var b=sap.ui.getCore().byId(this.getId()+"--"+"prevIcon");if(b===undefined&&!i){b=new sap.ui.core.Icon({id:this.getId()+"--"+"prevIcon",src:sap.ui.core.IconPool.getIconURI("navigation-left-arrow"),size:"32px",color:"rgb(51,51,51)",activeBackgroundColor:"white",hoverColor:"rgb(238,238,238)",hoverBackgroundColor:"rgb(102,102,102)",width:"90%"}).addStyleClass("sapUiExtInboxNextPrevBtnDisabled");b.setSrc(sap.ui.core.IconPool.getIconURI("navigation-left-arrow"));b.setColor("#eeeeee").setHoverBackgroundColor("white");b.attachPress(function(e){if(b.getColor()!=="#eeeeee"){b.setColor("#eeeeee").setHoverBackgroundColor("white");x.setColor("#eeeeee").setHoverBackgroundColor("white");var i="";if(t.getTaskExecURLStatusCallBack!==""&&t.getTaskExecURLStatusCallBack!==undefined&&t.getTaskExecURLStatusCallBack!==null){i=t.getTaskExecURLStatusCallBack(l[r],p[r])}if(i==="COMPLETED"){if(t.clientUpdate){g.push(c[r])}n.splice(r,1);l.splice(r,1);h.splice(r,1)}else{if(t.clientUpdate){f.push({context:c[r],keys:[{key:"Status",value:i}]})}}r=r-1;if(n[r]===undefined){n[r]="";if(t.getTaskExecutionURLCallBack!==""&&t.getTaskExecutionURLCallBack!==undefined&&t.getTaskExecutionURLCallBack!==null){n[r]=t.getTaskExecutionURLCallBack(l[r],p[r])}}if(n[r]!==null&&n[r].replace(/\s/g,"").length>0){jQuery.sap.byId(t.getId()+"--"+"execURLFrame").attr("src",t.inboxUtils.appendThemingParameters(n[r],o)+"&sap-inbox-overlay=true")}}else{e.preventDefault()}})}var x=sap.ui.getCore().byId(this.getId()+"--"+"nextIcon");if(x===undefined&&!i){var x=new sap.ui.core.Icon({id:this.getId()+"--"+"nextIcon",src:sap.ui.core.IconPool.getIconURI("navigation-right-arrow"),size:"32px",color:"rgb(51,51,51)",activeBackgroundColor:"white",hoverColor:"rgb(238,238,238)",hoverBackgroundColor:"rgb(102,102,102)",width:"90%"}).addStyleClass("sapUiExtInboxNextPrevBtnDisabled");x.setSrc(sap.ui.core.IconPool.getIconURI("navigation-right-arrow"));if(l.length>1){x.setColor("#333333").setHoverBackgroundColor("rgb(102,102,102)")}else{x.setColor("#eeeeee").setHoverBackgroundColor("white")}x.attachPress(function(e){if(x.getColor()!=="#eeeeee"){b.setColor("#eeeeee").setHoverBackgroundColor("white");x.setColor("#eeeeee").setHoverBackgroundColor("white");var i="";if(t.getTaskExecURLStatusCallBack!==""&&t.getTaskExecURLStatusCallBack!==undefined&&t.getTaskExecURLStatusCallBack!==null){i=t.getTaskExecURLStatusCallBack(l[r],p[r])}if(i==="COMPLETED"){if(t.clientUpdate){g.push(c[r])}n.splice(r,1);l.splice(r,1);h.splice(r,1)}else{if(t.clientUpdate){f.push({context:c[r],keys:[{key:"Status",value:i}]})}r=r+1}if(n[r]===undefined){n[r]="";if(t.getTaskExecutionURLCallBack!==""&&t.getTaskExecutionURLCallBack!==undefined&&t.getTaskExecutionURLCallBack!==null){n[r]=t.getTaskExecutionURLCallBack(l[r],p[r])}}if(n[r]!==null&&n[r].replace(/\s/g,"").length>0){jQuery.sap.byId(t.getId()+"--"+"execURLFrame").attr("src",t.inboxUtils.appendThemingParameters(n[r],o)+"&sap-inbox-overlay=true")}}else{e.preventDefault()}})}var y=sap.ui.getCore().byId(this.getId()+"--"+"prevBtnContainer");if(y===undefined&&!i){y=new sap.ui.commons.layout.MatrixLayout(this.getId()+"--"+"prevBtnContainer",{layoutFixed:false,height:"95%",width:"100%"})}var T=new sap.ui.core.HTML(this.getId()+"--"+"execURLFrame",{content:"<iframe name='myframe' src='"+n[r]+o+"&sap-inbox-overlay=true"+"' scrolling='auto' id = '"+this.getId()+"--"+"execURLFrame"+"' style='position: absolute;height: 100%;width: 100%; border: none;'></iframe>"});var _=new sap.ui.commons.layout.BorderLayout(this.getId()+"--"+"taskExecBorderLayout",{width:"100%",height:"100%",top:new sap.ui.commons.layout.BorderLayoutArea({size:"20%",contentAlign:"center",visible:false,content:[new sap.ui.commons.TextView({text:"Task:"+u[r],design:sap.ui.commons.TextViewDesign.Bold})]}),center:new sap.ui.commons.layout.BorderLayoutArea({contentAlign:"left",visible:true,content:[T]})});if(!i){var C=sap.ui.getCore().byId(this.getId()+"--"+"traverseLabel");if(!C){C=new sap.ui.commons.Label(this.getId()+"--"+"traverseLabel")}var v=sap.ui.getCore().byId(this.getId()+"--"+"dummyLabel");if(!v){v=new sap.ui.commons.Label({id:this.getId()+"--"+"dummyLabel",visible:false})}m.createRow(x);y.createRow(b);var _=sap.ui.getCore().byId(this.getId()+"--"+"taskExecBorderLayout");_.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.begin,{size:"2%",contentAlign:"right",visible:true,content:[y,C]});_.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:"2%",contentAlign:"right",visible:true,content:[m,v]})}s.addContent(_);T.attachAfterRendering(function(){jQuery.sap.byId(t.getId()+"--"+"execURLFrame").bind("load",function(e){var t=l.length;if(x){if(r!==t-1)x.setColor("#333333").setHoverBackgroundColor("rgb(102,102,102)");else x.setColor("#eeeeee").setHoverBackgroundColor("white")}if(b){if(r===0)b.setColor("#eeeeee").setHoverBackgroundColor("white");else b.setColor("#333333").setHoverBackgroundColor("rgb(102,102,102)")}if(C){C.setDesign(sap.ui.commons.LabelDesign.Bold);C.setWidth("85%");C.setText(r+1+"/"+l.length)}if(v){v.setDesign(sap.ui.commons.LabelDesign.Bold);v.setWidth("60%")}})});if(i&&n!==null&&!n[0]){this.hideBusyLoader()}else{s.open()}function S(e){var i;var a=jQuery.sap.byId(t.getId()+"--"+"taskExecUI");if(jQuery.browser.msie==true&&parseInt(jQuery.browser.version)<10){var o=JSON.parse(String(e.data))}else{o=e.data}if(jQuery.isArray(o)){jQuery.each(o,function(e,t){i=o[e];if(i.command==="resize"){a.css({margin:"auto"});if(!i.data.height){a.animate({width:i.data.width},"slow")}else if(!i.data.width){a.animate({height:i.data.height},"slow")}else a.animate({height:i.data.height,width:i.data.width},"slow")}})}}if(window.addEventListener){window.addEventListener("message",S,false)}else if(window.attachEvent){window.attachEvent("onmessage",S)}};sap.uiext.inbox.Inbox.prototype.createInboxUI=function(){var e=new sap.ui.commons.layout.VerticalLayout(this.getId()+"--"+"verticalLayoutContainer");if(sap.ui.getCore().byId(this.getId()+"--"+"toolbarContainer")===undefined){e.insertContent(this.populateToolBar(),0)}this.populateViews();if(sap.ui.getCore().byId(this.getId()+"--"+"notificationBar")===undefined){e.addContent(this.populateNotificationBar())}return e};sap.uiext.inbox.Inbox.prototype.openToolPopUp=function(e){var t=e;var i;var a=sap.ui.getCore().byId(t.getId()+"--"+"rowSettingsRBG");var o=sap.ui.getCore().byId(t.getId()+"--"+"sPopup");if(o===undefined){a=new sap.ui.commons.RadioButtonGroup(t.getId()+"--"+"rowSettingsRBG",{tooltip:"Select number of rows to be displayed on the Table",columns:3});var s=new sap.ui.core.Item({text:"10",key:"rows10"});a.addItem(s);s=new sap.ui.core.Item({text:"25",key:"rows25"});a.addItem(s);s=new sap.ui.core.Item({text:"50",key:"rows50"});a.addItem(s);o=new sap.ui.commons.Dialog(t.getId()+"--"+"sPopup",{title:e._oBundle.getText("INBOX_TABLE_SETTINGS_POPUP_TITLE"),content:[a],buttons:[new sap.ui.commons.Button({text:e._oBundle.getText("INBOX_BUTTON_OK_TEXT"),press:function(){t.setNoOfRowsOnTable(sap.ui.getCore().byId(t.getId()+"--"+"rowSettingsRBG").getSelectedItem().getText());o.close()}})]});o.setWidth("231px");o.setHeight("137px")}if(i===undefined){i=sap.ui.getCore().byId(t.getId()+"--"+"listViewTable").getVisibleRowCount()+""}if(i!=undefined&&a!=undefined){switch(i){case"10":a.setSelectedIndex(0);break;case"25":a.setSelectedIndex(1);break;case"50":a.setSelectedIndex(2);break}}o.open()};sap.uiext.inbox.Inbox.prototype.setSubstitutionEnabled=function(e,t){if(this.isSubstitutionEnabled!=e){this.isSubstitutionEnabled=e;this._substitutionPath=t;this.addAndRemoveSubstDropDowns()}};sap.uiext.inbox.Inbox.prototype._setColumnVisibility=function(e){if(e!==undefined&&e!==null){var t=this;var i=false;var a=sap.uiext.inbox.InboxConstants;var o=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");var s=this.getInvisibleCols(e);var r=o.getColumns();jQuery.each(r,function(e,i){jQuery.each(s,function(e,a){if(t.absId(i.getId())===sap.uiext.inbox.InboxConstants.TABLE_VIEW_TECH_NAMES[a])i.setVisible(false)})});this.resizeColumns()}};sap.uiext.inbox.Inbox.prototype.absId=function(e){return e.split("--")[1].replace(/^\s+|\s+$/g,"")};sap.uiext.inbox.Inbox.prototype.getInvisibleCols=function(e){var t=[];jQuery.each(e.columns,function(e,i){if(i.visibility===false)t.push(i.field)});return t};sap.uiext.inbox.Inbox.prototype.getColumnVisibility=function(){return this.colList};sap.uiext.inbox.Inbox.prototype.getSubstitutionEnabled=function(){return this.isSubstitutionEnabled};sap.uiext.inbox.Inbox.prototype.clearDrillDownFilter=function(){this.resetFilterView(true)};sap.uiext.inbox.Inbox.prototype.getTaskTableBinding=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");return e.getBinding("rows")};sap.uiext.inbox.Inbox.prototype.bindTaskExecutionURL=function(e,t){this.getTaskExecutionURLCallBack=e;this.getTaskExecURLStatusCallBack=t;return this};sap.uiext.inbox.Inbox.prototype.bindTaskTypeDynamicFilter=function(e){this.dynamicTaskTypeFilterCallBack=e;return this};sap.uiext.inbox.Inbox.prototype.bindSearch=function(e){this.searchCallBack=e;return this};sap.uiext.inbox.Inbox.prototype.bindSubstitutedUsers=function(e){var t=sap.ui.getCore().byId(this.getId()+"--"+"filterComboBox3");var i=t.getSelectedKey();var a=t.getValue();var o=sap.ui.getCore().byId(this.getId()+"--"+"onBehalfOfListItem");if(o===undefined){o=new sap.ui.core.ListItem(this.getId()+"--"+"onBehalfOfListItem")}o.setText(this._oBundle.getText("SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF"));o.setKey("onBehalfOf");o.setEnabled(false);var s=sap.ui.getCore().byId(this.getId()+"--"+"li_allUsers");if(s===undefined){s=new sap.ui.core.ListItem(this.getId()+"--"+"li_allUsers")}s.setText(this._oBundle.getText("INBOX_DROP_DOWN_VALUE_ALL_USERS"));s.setKey("allUsers");var r=e+"?$format=json&$skip=0&$top=100&$inlinecount=allpages";var n=this.bpmSvcUrl+r;var l="";var u=this.getCoreModel();var d=this;var p={async:false,requestUri:n,method:"GET",headers:{Accept:"application/json","x-csrf-token":u.oHeaders["x-csrf-token"]}};OData.request(p,function(e,r){if(e.results.length>0){if(t.getEnabled()===false){t.setEnabled(true)}t.removeAllItems();t.addItem(o);t.addItem(s);for(var n=0;n<e.results.length;n++){l+=e.results[n].DisplayName;var u=new sap.ui.core.ListItem;u.setKey(e.results[n].UniqueName);u.setText(e.results[n].DisplayName);t.addItem(u)}if(d.bRefreshStartFlag&&d.filtersToApply.dropDownFilter3){var p=false;for(var n=0;n<e.results.length;n++){if(e.results[n].UniqueName==i){p=true;t.setSelectedKey(i)}}if(!p){delete d.filtersToApply.dropDownFilter3;d.showMessage("error",d._oBundle.getText("INBOX_MSG_ERR_SUBSTITUTION_DELETED",[a]))}p=false}}else{t.setEnabled(false)}},function(e){if(e.response.statusCode==205){var t={statusCode:e.response.statusCode,statusText:e.response.statusText};u.fireRequestFailed(t)}else{d.showMessage("error",d._oBundle.getText("INBOX_MSG_ERR_EXUI")+this.id)}})};sap.uiext.inbox.Inbox.prototype.bindTaskTable=function(e,t){var i=new sap.uiext.inbox.InboxFilters;var a=new sap.uiext.inbox.InboxSecondaryFilters;i.setSecondaryFilter(t);this.bindTasks(e,i)};sap.uiext.inbox.Inbox.prototype.bindTasks=function(e,t,i){var a,o,s;if(t){a=t.getPrimaryFilter();o=t.getSecondaryFilter()}this.modelRefreshed=true;this.oModel=this.getModel();this.oController.setModel(this.oModel);this._handleTaskCategoryVisibility();this._setCommentsVisibility();this._initFlagsByModel();this.oDataManager.setModel(this.oModel);if(this.typeOfModel==="OData"){this._initODataModel()}else{this._bindTaskActions()}this.sCollectionPath=e;if(!/^\//.test(this.sCollectionPath))this.sCollectionPath="/"+this.sCollectionPath;this.oModel.attachRequestSent(this,function(e,t){var i=t._currentViewElement();i.setBusy(true);t._handleRequestSent(e)});this.oModel.attachRequestCompleted(this,function(e,t){var i=t._currentViewElement();i.setBusy(false);var a=e.getParameter("url");if(a&&a.indexOf("TaskCollection")>0){t._handleRequestCompleted(e)}});this.oModel.attachRequestFailed(this,function(e,t){var i=t._currentViewElement();i.setBusy(false);t._handleRequestFailed(e)});var r=this._initTableView();var n=this._initRowRepeaterView();var l=this._getComponent("rrMainMatrixLayout");var u=i?i:new sap.ui.model.Sorter("CreatedOn",true);this._applySortOnView(u);this.resetFilterView(false);this._selectInitialValueinDropDown(a);if(this.defaultView===this.constants.rowRepeaterView){var d=sap.ui.getCore().byId(this.getId()+"--"+"viewSelectionSegBtn");if(d!==undefined){var p=this.getId()+"--"+"rrViewSelectionButton";d.setSelectedButton(p);var c=sap.ui.getCore().byId(this.getId()+"--"+"rrViewSelectionButton");d.fireSelect({selectedButtonId:p,triggeredFrom:"initialView"})}}var g=sap.ui.getCore().byId(this.getId()+"--"+"filterViewButton");var f=g.$();var h=[],I;var m=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED");var b=this.filtersToApply.dropDownFilter;if(b===undefined){b=m}if(this.applyTaskCategoryFilter){if(this.filterOperatorCategoryTask===undefined){var x=this.inboxUtils._getCategoryFilter("TASK")}this.filtersToApply.taskCategory=x;h=this._addFilterToFilterMetadata(x,h)}var y=this.filtersToApply.neCompleted;if(o!=null){var T=o.getFilterObjects();I=T.filterOperatorMap;var _=I?!g.getPressed():g.getPressed();if(_){g.setPressed(!g.getPressed());g.firePress()}if(I){this.filtersToApply=T.filtersAppliedMap;h=this._selectFilterValuesinFacetFilterView(o,I,b)}else{h=this._addFilterToFilterMetadata(b,h);this.filtersToApply.dropDownFilter=b}if(y){var C=o.getFilterUIKeys();if(!(C.Status&&C.Status.length>0)){h=this._addFilterToFilterMetadata(y,h)}}}else{if(g.getPressed()){g.setPressed(!g.getPressed());g.firePress()}this.filtersToApply.dropDownFilter=b;h=this._addFilterToFilterMetadata(b,h);if(y){h=this._addFilterToFilterMetadata(y,h)}}var v=this._getBindingParameters();if(this.defaultView===this.constants.rowRepeaterView){n.bindRows({path:this.sCollectionPath,template:l,parameters:v,sorter:u,filters:h})}r.bindRows({path:this.sCollectionPath,parameters:v,sorter:u,filters:h});this.setToggleCustomAttributeBtnVisibilityStreamView(this.isCustomAttributesEnabled);return this};sap.uiext.inbox.Inbox.prototype.setToggleCustomAttributeBtnVisibilityStreamView=function(e){var t=this._getComponent("toggleCustomAttributes");if(e){t.setVisible(true)}};sap.uiext.inbox.Inbox.prototype.localSearch=function(e,t){if(t.searchCallBack!==""&&t.searchCallBack!==undefined){t.searchCallBack();return}var i=t.getCoreModel();var a=jQuery.trim(e.getParameter("query").toLowerCase());var o=t._currentViewElement();var s=[];t._resetStateBeforeSearch();s.push(t._getBindingKeysOnLocalSearch(a,i._original_data,o._originalKeys));if(t.currentView===t.constants.tableView&&t._isTableFiltered()){s.push(t._getCurrentBindingKeysForTableColumnFilters(i._original_data,o._originalKeys))}var r=t.inboxUtils._getUniqueArray(s);var n={};var l;for(var u in r){l=i._original_data[r[u]];n[r[u]]=l;if(l.Description){var d,p;var c=l.Description;if(c&&c.__list instanceof Array){d=c.__list[0];p=i.oData[d];if(p)n[d]=p}else{var g=c.__ref;if(c&&g){p=i.oData[g];if(p)n[g]=p}}}if(l.TaskDefinitionData){var f,h;var I=l.TaskDefinitionData;if(I&&I.__list instanceof Array){f=l.TaskDefinitionData.__list[0];h=i.oData[f];if(h)n[f]=h}else{var m=I.__ref;if(I&&m){h=i.oData[m];if(h)n[m]=h}}}}i.oData=n;var b=o.mBindingInfos["rows"];if(b&&b.binding){b.binding.iLength=r.length;b.binding.aKeys=r;t.currentView===t.constants.tableView?o.rerender():o.updateRows(false);o._updateBindingContexts(undefined,undefined,"change")}var x=o.getBinding("rows").iLength;t._updatePaginator(x);if(x<=0)t.showMessage("info",t._oBundle.getText("INBOX_MSG_FOR_NO_DATA"));else t.deleteMessage();t.fireODataRequestCompleted({bindingLength:x,appliedFilter:t._oBundle.getText("INBOX_SEARCH_RESULTS_TEXT")})};sap.uiext.inbox.Inbox.prototype._getBindingKeysOnLocalSearch=function(e,t,i){var a=[];for(var o in t){var s=t[o];var r=false;var n;var l;for(var u in i){if(o==i[u]){for(var d=0;d<this._getCategoryMetadata().properties.length;d++){l=this._getCategoryMetadata().properties[d];n=s[l];if(!n&&l==="TaskTitle"){n=this._oBundle.getText("INBOX_TASK_TITLE_NOTAVAILABLE_MSG")}if(n!=null){if(jQuery.type(n)==="date"){n=this.inboxUtils.dateTimeFormat(n)}if(l==="Priority"||l==="Status"){if(n=="VERY_HIGH")n=this._oBundle.getText("INBOX_FILTER_PRIORITY_VERY_HIGH");if(n=="HIGH")n=this._oBundle.getText("INBOX_FILTER_PRIORITY_HIGH");if(n=="MEDIUM")n=this._oBundle.getText("INBOX_FILTER_PRIORITY_MEDIUM");if(n=="LOW")n=this._oBundle.getText("INBOX_FILTER_PRIORITY_LOW");if(n=="READY")n=this._oBundle.getText("INBOX_FILTER_STATUS_READY");if(n=="RESERVED")n=this._oBundle.getText("INBOX_FILTER_STATUS_RESERVED");if(n=="IN_PROGRESS")n=this._oBundle.getText("INBOX_FILTER_STATUS_IN_PROGRESS")}n=n.toLowerCase();if(n.indexOf(e)>=0){r=true;break}}}if(!r){if(s.Description){var p=s.Description;r=this._getValuePresent(t,p,sap.uiext.inbox.InboxConstants.NAVIGATION_DESCRIPTION,e)}}if(!r){if(s.TaskDefinitionData){var c=s.TaskDefinitionData;r=this._getValuePresent(t,c,sap.uiext.inbox.InboxConstants.NAVIGATION_TASKDEFINITION,e)}}if(!r){if(s.CustomAttributeData){var g=s.CustomAttributeData.__list;if(g!==undefined){for(var f=0;f<g.length;f++){var h=g[f];var n=t[h].Value;if(n!=null||n!=undefined){n=n.toLowerCase();if(n.indexOf(e)>=0){r=true;break}}}}}}if(r){var I=o;a.push(I)}}}}return a};sap.uiext.inbox.Inbox.prototype.refresh=function(e){this.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyFilterOnResponse=function(e,t){var i=this.getCoreModel();var a=this;this.showBusyLoader();var o;var s;var r=sap.ui.getCore().byId(this.getId()+"--"+"notificationBar");var n=sap.ui.getCore().byId(this.getId()+"--"+"messageNotifier");if(r!=undefined){n.destroyMessages();r.setVisibleStatus(sap.ui.ux3.NotificationBarStatus.Min)}if(a.currentView===a.constants.tableView){s=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");if(s!==undefined){if(e!=undefined&&e!=null){a.selectedContexts=e}else{a.selectedContexts=[]}o=s.getBinding("rows")}}else if(this.currentView===a.constants.rowRepeaterView){s=sap.ui.getCore().byId(this.getId()+"--"+"tasksRowRepeater");if(s!==undefined){s.gotoPage(1);var l=this._getComponent("rowRepeaterPaginator");if(l){l.destroy()}o=s.getBinding("rows")}}var u=[];if(o!=null&&o!=undefined){o.aApplicationFilters=[];for(var d in a.filtersToApply){var p=a.filtersToApply[d];if(jQuery.isArray(p)){u=u.concat(p)}else u.push(p)}if(this.currentView===a.constants.rowRepeaterView&&t){var c=o.oSorter;var g=a._getComponent("sortByFilterComboBox");var f=g.getSelectedItemId();if(f){var h=a.constants.mRRSortMap[a._removeParentID(f)];c=h?a._getComponent(h).getSorter():c}var I=a._getComponent("rrMainMatrixLayout");var m=a._getBindingParameters();if(this.clientUpdate===undefined){s.unbindRows();s.bindRows({path:a.sCollectionPath,template:I,parameters:m,sorter:c,filters:u});s.bRowsRebinded=true}else{o.filter(u);s.updateRows(false)}}else{o.filter(u)}}a.modelRefreshed=true;if(o){s._originalKeys=o.aKeys}this.hideBusyLoader()};sap.uiext.inbox.Inbox.prototype.refreshTaskList=function(e,t){t.bRefreshStartFlag=true;if(!t.getHandleBindings()){t.fireRefresh(e)}else{}var i=t.getCoreModel();var a=sap.ui.getCore().byId(t.getId()+"--"+"listViewTable");var o=sap.ui.getCore().byId(t.getId()+"--"+"tasksRowRepeater");var s;var r;var n=t.getlistTableSelectedIndices();var l=[];jQuery.each(n,function(e,t){r=a.getContextByIndex(t);l.push(r)});var u;if(t.currentView===sap.uiext.inbox.InboxConstants.tableView){u=a}else if(t.currentView===sap.uiext.inbox.InboxConstants.rowRepeaterView){u=o}if(u!=undefined){if(l!=undefined&&l!=null){t.selectedContexts=l}else{t.selectedContexts=[]}if(t.clientUpdate){u.getModel().refresh();t.modelRefreshed=true}else{var d=sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox3");if(d!=undefined&&d.getEnabled()===true){t.bindSubstitutedUsers("/SubstitutedUsersCollection")}s=u.getBinding("rows");var p=[];if(s!=null){s.aApplicationFilters=[];for(var c in t.filtersToApply){var g=t.filtersToApply[c];if(jQuery.isArray(g)){p=p.concat(g)}else p.push(g)}s.filter(p)}}}t.modelRefreshed=true;u._originalKeys=u.getBinding("rows").aKeys;t.resetSearchCriteria();var f=sap.ui.getCore().byId(t.getId()+"--"+"refreshOnText");if(f){t.lastRefreshedOnDateTime=new Date;var h=t._getFormattedRefreshOnDateTime();f.setText(t._oBundle.getText("INBOX_TEXT_ON")+sap.uiext.inbox.InboxConstants.SPACE+h);f.setTooltip(t._getFormattedTooltipForLastRefreshedTime())}};sap.uiext.inbox.Inbox.prototype.applyDropDownFilter1=function(e,t){var i=e.getSource().getSelectedItemId();if(i===t.getId()+"--"+"li_substitutedTasks"){sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox3").setEnabled(false);t.filtersToApply.dropDownFilter1=new sap.ui.model.Filter("IsSubstituted",sap.ui.model.FilterOperator.EQ,true);t.bindSubstitutedUsers("/SubstitutedUsersCollection");sap.ui.getCore().byId(t.getId()+"--"+"onBehalfOfListItem").setEnabled(false)}else{sap.ui.getCore().byId(t.getId()+"--"+"onBehalfOfListItem").setEnabled(true);sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox3").setSelectedItemId(t.getId()+"--"+"onBehalfOfListItem");sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox3").setEnabled(false);delete t.filtersToApply.dropDownFilter3;if(i===t.getId()+"--"+"li_allTasks"){delete t.filtersToApply.dropDownFilter1}else if(i===t.getId()+"--"+"li_myTasks"){t.filtersToApply.dropDownFilter1=new sap.ui.model.Filter("IsSubstituted",sap.ui.model.FilterOperator.EQ,false)}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyDropDownFilter3=function(e,t){var i=e.getSource().getSelectedItemId();if(i===t.getId()+"--"+"li_allUsers"){delete t.filtersToApply.dropDownFilter3}else{t.filtersToApply.dropDownFilter3=new sap.ui.model.Filter("SubstitutedUser",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox3").getSelectedKey())}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyDropDownFilter=function(e,t){var i=false;var a=e.getSource().getSelectedItemId();var o=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_STATUS");var s=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_CREATION_DATE");var r=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME");var n=sap.ui.getCore().byId(t.getId()+"--"+"filterFacet");t.resetSearchCriteria();if(a===t.getId()+"--"+"li_completedTasks"){i=true;t._deleteCustomActions();if(o!==undefined){t.storeFilterState("INBOX_FILTER_STATUS");n.removeList(o)}if(s!==undefined){t.storeFilterState("INBOX_FILTER_CREATION_DATE");n.removeList(s)}if(r!==undefined){t.storeFilterState("INBOX_FILTER_DUE_DATETIME");n.removeList(r)}delete t.filtersToApply.resStat;delete t.filtersToApply.readyStat;delete t.filtersToApply.InProStat;delete t.filtersToApply.neCompleted;delete t.filtersToApply.today;delete t.filtersToApply.last30;delete t.filtersToApply.last15;delete t.filtersToApply.last7;t.clearFiltersForDueDate();t.filtersToApply.dropDownFilter=[new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.EQ,"COMPLETED")]}if(a===t.getId()+"--"+"li_openTasks"){if(o!=undefined){n.addList(o);t.retrieveFilterState("INBOX_FILTER_STATUS")}if(s!=undefined&&n.indexOfList(s)===-1){n.addList(s);t.retrieveFilterState("INBOX_FILTER_CREATION_DATE")}if(r!==undefined&&n.indexOfList(r)===-1){n.addList(r);t.retrieveFilterState("INBOX_FILTER_DUE_DATETIME")}delete t.filtersToApply.neCompleted;if(t.filtersToApply.resStat===undefined&&t.filtersToApply.readyStat===undefined&&t.filtersToApply.InProStat===undefined){t.filtersToApply.dropDownFilter=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED")}else{delete t.filtersToApply.dropDownFilter}}if(a===t.getId()+"--"+"li_overdueTasks"){if(o!=undefined){n.addList(o);t.retrieveFilterState("INBOX_FILTER_STATUS")}if(s!=undefined&&n.indexOfList(s)!==-1){t.storeFilterState("INBOX_FILTER_CREATION_DATE");n.removeList(s)}if(r!==undefined&&n.indexOfList(r)!==-1){t.storeFilterState("INBOX_FILTER_DUE_DATETIME");n.removeList(r)}t.clearFiltersForDueDate();delete t.filtersToApply.today;delete t.filtersToApply.last30;delete t.filtersToApply.last15;delete t.filtersToApply.last7;var l=t.getFormattedDateTimeOff(0,true);t.filtersToApply.dropDownFilter=new sap.ui.model.Filter("CompletionDeadLine",sap.ui.model.FilterOperator.LT,l);if(t.filtersToApply.resStat===undefined&&t.filtersToApply.readyStat===undefined&&t.filtersToApply.InProStat===undefined&&t.filtersToApply.neCompleted===undefined){t.filtersToApply.neCompleted=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED")}}if(a===t.getId()+"--"+"li_escalatedTasks"){if(o!=undefined){n.addList(o);t.retrieveFilterState("INBOX_FILTER_STATUS")}if(s!=undefined&&n.indexOfList(s)!=-1){t.storeFilterState("INBOX_FILTER_CREATION_DATE");n.removeList(s)}if(r!==undefined&&n.indexOfList(r)!==-1){t.storeFilterState("INBOX_FILTER_DUE_DATETIME");n.removeList(r)}t.clearFiltersForDueDate();delete t.filtersToApply.today;delete t.filtersToApply.last30;delete t.filtersToApply.last15;delete t.filtersToApply.last7;t.filtersToApply.dropDownFilter=new sap.ui.model.Filter("IsEscalated",sap.ui.model.FilterOperator.EQ,true);if(t.filtersToApply.resStat===undefined&&t.filtersToApply.readyStat===undefined&&t.filtersToApply.InProStat===undefined&&t.filtersToApply.neCompleted===undefined){t.filtersToApply.neCompleted=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED")}}if(i==true){t.hideAllActionButtonsandLinks()}else{t.showAllActionButtonsandLinks()}var u=t._isDrillDownFilterSelected("TaskDefinitionID");t._deleteCustomActions(null);if(!i&&u){t.applyFilterOnResponse(null,true)}else{t.applyFilterOnResponse(null)}};sap.uiext.inbox.Inbox.prototype.clearFiltersForCategory=function(){delete this.filtersToApply.taskCategory;delete this.filtersToApply.todoCategory;delete this.filtersToApply.alertCategory;delete this.filtersToApply.notificationCategory};sap.uiext.inbox.Inbox.prototype.clearFiltersForPriority=function(){delete this.filtersToApply.lowPrio;delete this.filtersToApply.medPrio;delete this.filtersToApply.hiPrio;delete this.filtersToApply.veryhiPrio};sap.uiext.inbox.Inbox.prototype.clearFiltersForStatus=function(){delete this.filtersToApply.resStat;delete this.filtersToApply.readyStat;delete this.filtersToApply.InProStat;delete this.filtersToApply.neCompleted;if(this.filtersToApply.dropDownFilter!=undefined){if(this.filtersToApply["dropDownFilter"].sPath==="Status"&&this.filtersToApply["dropDownFilter"].sOperator==="NE"){delete this.filtersToApply.dropDownFilter}}};sap.uiext.inbox.Inbox.prototype.clearFiltersForDueDate=function(){delete this.filtersToApply.dueDateToday;delete this.filtersToApply.dueDatenext30;delete this.filtersToApply.dueDatenext15;delete this.filtersToApply.dueDatenext7;delete this.filtersToApply.noDueDate};sap.uiext.inbox.Inbox.prototype.clearFiltersForDateTime=function(){delete this.filtersToApply.today;delete this.filtersToApply.last30;delete this.filtersToApply.last15;delete this.filtersToApply.last7};sap.uiext.inbox.Inbox.prototype.clearFiltersForTaskType=function(){for(var e in this.filtersToApply){if(this.filtersToApply[e].sPath==="TaskDefinitionID"){delete this.filtersToApply[e]}}};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForTaskCategory=function(e,t){var i,a,o,s;var r=sap.ui.getCore().byId(t.getId()+"--"+"filterFacet");var n=e.getParameter("selectedItems");t.resetSearchCriteria();t.clearFiltersForCategory();t._modifyTableColumnsOnFilterCategory();t._modifyFacetFilterOnFilterCategory();t.changeToolbarOnFilterCategory();for(var l=0;l<n.length;l++){switch(n[l].getId()){case t.getId()+"--"+"INBOX_FILTER_CATEGORY_TASKS":i=t.inboxUtils._getCategoryFilter("TASK",t.sProviderHost);t.filtersToApply["taskCategory"]=i;break;case t.getId()+"--"+"INBOX_FILTER_CATEGORY_TODO":a=t.inboxUtils._getCategoryFilter("Todo",t.sProviderHost);t.filtersToApply["todoCategory"]=a;break;case t.getId()+"--"+"INBOX_FILTER_CATEGORY_ALERT":o=t.inboxUtils._getCategoryFilter("Alert",t.sProviderHost);t.filtersToApply["alertCategory"]=o;break;case t.getId()+"--"+"INBOX_FILTER_CATEGORY_NOTIFICATION":s=t.inboxUtils._getCategoryFilter("Notification",t.sProviderHost);t.filtersToApply["notificationCategory"]=s;break}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype._modifyFacetFilterOnFilterCategory=function(e){if(e){var t=this.constants.aDependentDrillDownFiltersBasedOnCategory.aFilterMetadataDefault}else{var t=this._getCategoryFilterMetadata()}var i=sap.ui.getCore().byId(this.getId()+"--"+"filterFacet");if(i!=undefined){var a=i.getLists();var o=[];for(var s=0;s<a.length;s++){var r=a[s];var n=this._removeParentID(r.getId());o.push(n);if(jQuery.inArray(n,t)===-1){this.storeFilterState(n);i.removeList(r);this._deleteRemovedFilter(n)}}for(var s=0;s<t.length;s++){if(jQuery.inArray(t[s],o)===-1){var l=sap.ui.getCore().byId(this.getId()+"--"+t[s]);if(l!=undefined&&i.indexOfList(l)===-1){i.insertList(l,s);this.retrieveFilterState(t[s])}}}}};sap.uiext.inbox.Inbox.prototype._deleteRemovedFilter=function(e){switch(e){case"INBOX_FILTER_CATEGORY":this.clearFiltersForCategory();break;case"INBOX_FILTER_TASK_TYPE":this.clearFiltersForTaskType();break;case"INBOX_FILTER_PRIORITY":this.clearFiltersForPriority();break;case"INBOX_FILTER_STATUS":this.clearFiltersForStatus();break;case"INBOX_FILTER_CREATION_DATE":this.clearFiltersForDateTime();break;case"INBOX_FILTER_DUE_DATETIME":this.clearFiltersForDueDate();break}};sap.uiext.inbox.Inbox.prototype._modifyTableColumnsOnFilterCategory=function(){var e=this._getComponent("listViewTable");var t=e.getColumns();var i=this._getCategoryMetadata();var a=[];for(var o=0;o<t.length;o++){var s=t[o];var r=this._removeParentID(s.getId());a.push(r);if(jQuery.inArray(r,i.properties)===-1){s.destroy()}}for(var o=0;o<i.properties.length;o++){if(jQuery.inArray(i.properties[o],a)===-1){this._createTableColumnContent(o,i)}}};sap.uiext.inbox.Inbox.prototype._getSelectedCategory=function(){var e=this._getComponent("INBOX_FILTER_CATEGORY");if(e!=null&&e.getSelectedKeys()!=null){return e.getSelectedKeys()[0]}};sap.uiext.inbox.Inbox.prototype._getCategoryMetadata=function(){if(this.applyTaskCategoryFilter){var e=this._getSelectedCategory();switch(e){case"INBOX_FILTER_CATEGORY_TASKS":return this.constants.mEntities.taskMetadata;break;case"INBOX_FILTER_CATEGORY_TODO":return this.constants.mEntities.todoMetadata;break;case"INBOX_FILTER_CATEGORY_ALERT":return this.constants.mEntities.alertMetadata;break;case"INBOX_FILTER_CATEGORY_NOTIFICATION":return this.constants.mEntities.notificationMetadata;break;default:return this.constants.mEntities.taskMetadata}}else{return this.constants.mEntities.taskMetadata}};sap.uiext.inbox.Inbox.prototype._getCategoryFilterMetadata=function(){var e=this._getSelectedCategory();var t=this.constants.aDependentDrillDownFiltersBasedOnCategory;switch(e){case"INBOX_FILTER_CATEGORY_TASKS":return t.aFilterMetadataForCategoryTask;break;case"INBOX_FILTER_CATEGORY_TODO":return t.aFilterMetadataForCategoryTodo;break;case"INBOX_FILTER_CATEGORY_ALERT":return t.aFilterMetadataForCategoryAlert;break;case"INBOX_FILTER_CATEGORY_NOTIFICATION":return t.aFilterMetadataForCategoryNotification;break;default:return t.aFilterMetadataForCategoryTask}};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForPriority=function(e,t){var i,a,o,s;var r=e.getParameter("selectedItems");t.resetSearchCriteria();t.clearFiltersForPriority();for(var n=0;n<r.length;n++){switch(r[n].getId()){case t.getId()+"--"+"INBOX_FILTER_PRIORITY_LOW":if(this.filterOperatorPrioLow===undefined)i=t.inboxUtils._getPriorityFilters("LOW",t.sProviderHost);t.filtersToApply["lowPrio"]=i;break;case t.getId()+"--"+"INBOX_FILTER_PRIORITY_MEDIUM":if(a===undefined)a=t.inboxUtils._getPriorityFilters("MEDIUM",t.sProviderHost);t.filtersToApply["medPrio"]=a;break;case t.getId()+"--"+"INBOX_FILTER_PRIORITY_HIGH":if(o===undefined)o=t.inboxUtils._getPriorityFilters("HIGH",t.sProviderHost);t.filtersToApply["hiPrio"]=o;break;case t.getId()+"--"+"INBOX_FILTER_PRIORITY_VERY_HIGH":if(s===undefined)s=t.inboxUtils._getPriorityFilters("VERY_HIGH",t.sProviderHost);t.filtersToApply["veryhiPrio"]=s;break}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForStatus=function(e,t){var i,a,o,s;t.resetSearchCriteria();t.clearFiltersForStatus();if(e.getParameter("all")){s=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED");t.filtersToApply["neCompleted"]=s}else{var r=e.getParameter("selectedItems");for(var n=0;n<r.length;n++){switch(r[n].getId()){case t.getId()+"--"+"INBOX_FILTER_STATUS_RESERVED":if(i===undefined)i=t.inboxUtils._getStatusFilters("RESERVED",t.sProviderHost);t.filtersToApply["resStat"]=i;break;case t.getId()+"--"+"INBOX_FILTER_STATUS_READY":if(a===undefined)a=t.inboxUtils._getStatusFilters("READY",t.sProviderHost);t.filtersToApply["readyStat"]=a;break;case t.getId()+"--"+"INBOX_FILTER_STATUS_IN_PROGRESS":if(o===undefined)o=t.inboxUtils._getStatusFilters("IN_PROGRESS",t.sProviderHost);t.filtersToApply["InProStat"]=o;break}}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForDateTime=function(e,t){var i,a,o,s;var r=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DATETIME_TODAY");var n=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DATETIME_MONTH");var l=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DATETIME_15DAYS");var u=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DATETIME_WEEK");var d=e.getParameter("selectedItems");t.resetSearchCriteria();t.clearFiltersForDateTime();var p=sap.ui.getCore().byId(t.getId()+"--"+"filterComboBox2");var c=false;if(p.getSelectedItemId()===t.getId()+"--"+"li_completedTasks"){c=true}for(var g=0;g<d.length;g++){switch(d[g].getId()){case t.getId()+"--"+"INBOX_FILTER_DATETIME_TODAY":var f=t.getFormattedDateTimeOff(0,false);if(i===undefined){i=new sap.ui.model.Filter("CreatedOn",sap.ui.model.FilterOperator.GE,f)}t.filtersToApply["today"]=i;delete t.filtersToApply.last30;delete t.filtersToApply.last15;delete t.filtersToApply.last7;break;case t.getId()+"--"+"INBOX_FILTER_DATETIME_MONTH":var f=t.getFormattedDateTimeOff(30,false);if(a===undefined){a=new sap.ui.model.Filter("CreatedOn",sap.ui.model.FilterOperator.GE,f)}t.filtersToApply["last30"]=a;delete t.filtersToApply.today;delete t.filtersToApply.last15;delete t.filtersToApply.last7;break;case t.getId()+"--"+"INBOX_FILTER_DATETIME_15DAYS":var f=t.getFormattedDateTimeOff(15,false);if(o===undefined){o=new sap.ui.model.Filter("CreatedOn",sap.ui.model.FilterOperator.GE,f)}t.filtersToApply["last15"]=o;delete t.filtersToApply.today;delete t.filtersToApply.last30;delete t.filtersToApply.last7;break;case t.getId()+"--"+"INBOX_FILTER_DATETIME_WEEK":var f=t.getFormattedDateTimeOff(7,false);if(s===undefined){s=new sap.ui.model.Filter("CreatedOn",sap.ui.model.FilterOperator.GE,f)}t.filtersToApply["last7"]=s;delete t.filtersToApply.today;delete t.filtersToApply.last30;delete t.filtersToApply.last15;break}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForTaskType=function(e,t){var i=t.constants;t.resetSearchCriteria();t.clearFiltersForTaskType();var a=t.typeOfModel==="OData";if(a&&t.currentView===t.constants.tableView){t._clearCustomAttributeSort()}if(!e.getParameter("all")){var o=e.getParameter("selectedItems");t.bRefreshTaskTypes=false;if(a){t._createCustomAttributes(o)}for(var s=0;s<o.length;s++){t.filtersToApply[o[s].getKey()]=new sap.ui.model.Filter("TaskDefinitionID",sap.ui.model.FilterOperator.EQ,decodeURIComponent(o[s].getKey()))}}else{if(t.isCustomActionsEnabled===true&&a){t._deleteCustomActions(null)}if(t.isCustomAttributesEnabled===true&&a){t._deleteCustomAttributeColumns(null);t._modifyListBindingForExpand(false,i.customAttributeNavigationParam)}}var r=t.currentView===t.constants.rowRepeaterView?true:false;t.applyFilterOnResponse(null,r)};sap.uiext.inbox.Inbox.prototype._getCustomAttributeMetaData=function(e,t,i,a){var o=this;var s=this.constants;var r=s.TaskDefinitionCollection;var n=s.oTaskDefinitionCustomAttributesMap;var l=n[e];if(!l){var u=this.bpmSvcUrl+s.forwardSlash+r.entityName+"("+r.properties.taskDefnID+"='"+e+"',"+s.sapOrigin+"='"+t+"')"+s.forwardSlash+r.navParam.customAttrDefn;var d=this.getCoreModel();var p={async:true,requestUri:u,method:"GET",headers:{Accept:s.acceptHeaderforJSON,"Accept-Language":sap.ui.getCore().getConfiguration().getLanguage(),"x-csrf-token":d.oHeaders["x-csrf-token"]}};OData.request(p,function(t,s){var r=t.results;var l=[];for(var u=0;u<r.length;u++){var d={};d.Name=r[u].Name;d.Type=r[u].Type;d.Label=r[u].Label;l.push(d)}n[e]=l;o._displayCustomAttributes(e,a,i)},function(e){o.showMessage("error",o._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ATTRIBUTES_FAILS"))})}else{o._displayCustomAttributes(e,a,i)}};sap.uiext.inbox.Inbox.prototype._displayCustomAttributes=function(e,t,i){var a=this.constants;var o=a.oTaskDefinitionCustomAttributesMap[e];if(this.currentView===this.constants.tableView){this._deleteCustomAttributeColumns(o);if(o){this._createCustomAttributeColumns(o)}}else{if(o&&o.length==0){this._addActionContentinRowRepeater(i,"customAttributes",this._createNoDataLabel(this._oBundle.getText("INBOX_MSG_NO_TASK_DETAILS")));return}var s=a.oTaskInstanceCustomAttributeValuesMap[t];if(s&&!jQuery.isEmptyObject(s)){this._addActionContentinRowRepeater(i,"customAttributes",this._createCustomAttributesLayoutForRRView(o,s,i))}}};sap.uiext.inbox.Inbox.prototype._getCustomAttributeData=function(e,t,i,a){var o=this;var s=this.constants;var r=s.TaskCollection;var n=s.oTaskInstanceCustomAttributeValuesMap;var l=n[e];if(!l){var u=s.forwardSlash+r.entityName+"("+r.properties.instanceID+"='"+e+"',"+s.sapOrigin+"='"+t+"')"+s.forwardSlash+r.navParam.customAttrValues;var d=this.bpmSvcUrl+u;var l={};var p=this.getCoreModel();var c={async:true,requestUri:d,method:"GET",headers:{Accept:s.acceptHeaderforJSON,"x-csrf-token":p.oHeaders["x-csrf-token"]}};OData.request(c,function(t,s){var r=t.results;if(r.length>0){l["numberOfAttributes"]=r.length;for(var u=0;u<r.length;u++){l[r[u].Name]=r[u].Value;n[e]=l}}else{n[e]=l}o._displayCustomAttributes(a,e,i)},function(e){o.showMessage("error",o._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ATTRIBUTES_FAILS"))})}};sap.uiext.inbox.Inbox.prototype._createCustomAttributeColumns=function(e){var t=this;var i=this._getComponent("listViewTable");var a=this.getCoreModel();var o="name",s=0;jQuery.each(e,function(e,a){var r=t._getComponent(t.inboxUtils.scrub(a.Name));var n=a.Type;var l=n&&jQuery.inArray(n.replace("class ",""),t.constants.rightAlignedTypes)!=-1?sap.ui.core.TextAlign.Right:sap.ui.core.TextAlign.Left;if(!r){r=new sap.ui.table.Column({id:t.getId()+"--"+t.inboxUtils.scrub(a.Name)}).data("customAttrName",a.Name).data("ColumnType","CustomAttribute").setFlexible(true).setLabel(new sap.ui.commons.Label({text:a.Label,tooltip:a.Label,design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextView({id:t.getId()+"--"+t.inboxUtils.scrub(a.Name)+"textView",text:{parts:t.oController.getCustomAttributeColumnParts(a.Name),formatter:t.oController.getCustomAttributeColumnFormatter(t)}}).data(o,a.Name).setTextAlign(l));if(t.oController.isFilterOnCustomAttributesSupported()){r.setFilterProperty(a.Name)}if(t.bAllowCustomAttributeSort){r.bindProperty("sortProperty","CustomAttributeData",function(e){return"CustomAttributeData/"+this.data("customAttrName")})}}else{if(i.indexOfColumn(r)===-1){var u=r.getLabel();if(u.getText()!==a.Label){u.setText(a.Label)}}}i.insertColumn(r,s+1);s++});this.resizeColumns()};sap.uiext.inbox.Inbox.prototype._deleteCustomAttributeColumns=function(e){var t=this._getComponent("listViewTable");var i=t.getColumns();for(var a=0;a<i.length;a++){var o=i[a];if(jQuery.inArray(this._removeParentID(o.getId()),this._getCategoryMetadata().properties)===-1){t.removeColumn(o);o.destroy()}}};sap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForDueDate=function(e,t){var i,a,o,s,r,n;var l=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_TODAY");var u=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_MONTH");var d=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_15DAYS");var p=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_WEEK");var c=sap.ui.getCore().byId(t.getId()+"--"+"INBOX_FILTER_NO_DUE_DATETIME");t.resetSearchCriteria();t.clearFiltersForDueDate();if(!e.getParameter("all")){var g=e.getParameter("selectedItems");var f=new Date(0);for(var h=0;h<g.length;h++){switch(g[h].getId()){case t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_TODAY":var I=t.getFormattedDueDateTimeOff(1);if(i===undefined){i=new sap.ui.model.odata.Filter("CompletionDeadLine",[{operator:sap.ui.model.FilterOperator.LE,value1:I},{operator:sap.ui.model.FilterOperator.GE,value1:f}],true)}t.filtersToApply["dueDateToday"]=i;delete t.filtersToApply.next30;delete t.filtersToApply.next15;delete t.filtersToApply.next7;delete t.filtersToApply.noDueDate;break;case t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_MONTH":var I=t.getFormattedDueDateTimeOff(30);if(a===undefined){a=new sap.ui.model.odata.Filter("CompletionDeadLine",[{operator:sap.ui.model.FilterOperator.LE,value1:I},{operator:sap.ui.model.FilterOperator.GE,value1:f}],true)}t.filtersToApply["dueDatenext30"]=a;delete t.filtersToApply.dueDateToday;delete t.filtersToApply.next15;delete t.filtersToApply.next7;delete t.filtersToApply.noDueDate;break;case t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_15DAYS":var I=t.getFormattedDueDateTimeOff(15);if(o===undefined){o=new sap.ui.model.odata.Filter("CompletionDeadLine",[{operator:sap.ui.model.FilterOperator.LE,value1:I},{operator:sap.ui.model.FilterOperator.GE,value1:f}],true)}t.filtersToApply["dueDatenext15"]=o;delete t.filtersToApply.dueDateToday;delete t.filtersToApply.next30;delete t.filtersToApply.next7;delete t.filtersToApply.noDueDate;break;case t.getId()+"--"+"INBOX_FILTER_DUE_DATETIME_WEEK":var I=t.getFormattedDueDateTimeOff(7);if(s===undefined){s=new sap.ui.model.odata.Filter("CompletionDeadLine",[{operator:sap.ui.model.FilterOperator.LE,value1:I},{operator:sap.ui.model.FilterOperator.GE,value1:f}],true)}t.filtersToApply["dueDatenext7"]=s;delete t.filtersToApply.dueDateToday;delete t.filtersToApply.next30;delete t.filtersToApply.next15;delete t.filtersToApply.noDueDate;break;case t.getId()+"--"+"INBOX_FILTER_NO_DUE_DATETIME":if(n===undefined){n=new sap.ui.model.Filter("CompletionDeadLine",sap.ui.model.FilterOperator.EQ,null)}t.filtersToApply["noDueDate"]=n;delete t.filtersToApply.dueDateToday;delete t.filtersToApply.next30;delete t.filtersToApply.next15;delete t.filtersToApply.next7;break}}}t.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype._getSelectedContextsBeforeRequest=function(){return this.selectedContexts};sap.uiext.inbox.Inbox.prototype._setVisibility=function(e,t){var i=this._getComponent(e);if(i){i.setVisible(t)}};sap.uiext.inbox.Inbox.prototype.changeToolbarOnFilterCategory=function(){var e=this._getComponent("settingsButton");var t=this._getSelectedCategory();switch(t){case"INBOX_FILTER_CATEGORY_TASKS":e.setEnabled(true);break;case"INBOX_FILTER_CATEGORY_TODO":e.setEnabled(false);break;case"INBOX_FILTER_CATEGORY_ALERT":e.setEnabled(false);break;case"INBOX_FILTER_CATEGORY_NOTIFICATION":e.setEnabled(false);break;default:e.setEnabled(true)}};sap.uiext.inbox.Inbox.prototype.showAllActions=function(){this._setVisibility("claimActionButton",true);this._setVisibility("releaseActionButton",true);this._setVisibility("openActionButton",true);this._setVisibility("forwardActionButton",true);this._setVisibility("rrViewClaimAction",true);this._setVisibility("rrViewReleaseAction",true);this._setVisibility("rrViewForwardAction",true);this._setVisibility("dotSeparator",true);this._setVisibility("dotSeparator2",true)};sap.uiext.inbox.Inbox.prototype.hideAllActionButtonsandLinks=function(){if(this.getOpenCompletedTasks()==false){this._setVisibility("openActionButton",false)}this._setVisibility("claimActionButton",false);this._setVisibility("releaseActionButton",false);this._setVisibility("forwardActionButton",false);this._setVisibility("rrViewClaimAction",false);this._setVisibility("rrViewReleaseAction",false);this._setVisibility("rrViewForwardAction",false);this._setVisibility("dotSeparator",false);this._setVisibility("dotSeparator2",false)};sap.uiext.inbox.Inbox.prototype.showAllActionButtonsandLinks=function(){if(this.typeOfModel==="OData"){var e=this.constants.ENTITY_NAME_TASK_COLLECTION;this._setVisibility("openActionButton",false);if(this.oTcmMetadata._isPropertyAvailable(e,"SupportsClaim")){this._setVisibility("claimActionButton",true);this._setVisibility("rrViewClaimAction",true)}if(this.oTcmMetadata._isPropertyAvailable(e,"SupportsRelease")){this._setVisibility("releaseActionButton",true);this._setVisibility("rrViewReleaseAction",true);this._setVisibility("dotSeparator",true)}if(this.oTcmMetadata._isPropertyAvailable(e,"SupportsForward")&&this.isForwardActionEnabled){this._setVisibility("forwardActionButton",true);this._setVisibility("dotSeparator2",true);this._setVisibility("rrViewForwardAction",true)}}else{this.showAllActions()}};sap.uiext.inbox.Inbox.prototype._handleActionButtonsEnable=function(e){if(e.length>0&&!(jQuery.inArray(false,e)>-1)){return true}else{return false}};sap.uiext.inbox.Inbox.prototype.disableActionButtonsOnMultiStatus=function(e,t){var i=this._getComponent("claimActionButton");var a=this._getComponent("releaseActionButton");var o=this._getComponent("forwardActionButton");var s=this._getComponent("openActionButton");var r=this._isCompletedTasksSelected();var n=this.getOpenCompletedTasks();var l=t.aSupportsClaim;var u=t.aSupportsForward;var d=t.aSupportsRelease;if(!n&&r){s.setVisible(false)}else{s.setVisible(true)}if(e.length>0&&!jQuery.inArray("COMPLETED",e)>-1){s.setEnabled(true)}else{if(this.getOpenCompletedTasks()==true){s.setEnabled(true)}else{s.setEnabled(false)}}i.setEnabled(this._handleActionButtonsEnable(l));a.setEnabled(this._handleActionButtonsEnable(d));o.setEnabled(this._handleActionButtonsEnable(u))};sap.uiext.inbox.Inbox.prototype.dateFormat=function(e,t){if(e!=undefined&&typeof e=="string"&&e!=""){var i;if(e.indexOf("Date")!=-1){i=new Date;i.setTime(e.substring(e.indexOf("(")+1,e.indexOf(")")))}else{i=new Date(e.substring(e.indexOf("'")+1,e.length-1))}e=i}if(e!=undefined&&e!=""){var a=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});if(t!==undefined&&t===false){a=sap.ui.core.format.DateFormat.getDateInstance({pattern:"MMM dd",style:"medium"})}return a.format(e)}return""};sap.uiext.inbox.Inbox.prototype.tooltipFormatForDateTime=function(e){if(e!=undefined&&typeof e=="string"&&e!=""){var t;if(e.indexOf("Date")!=-1){t=new Date;t.setTime(e.substring(e.indexOf("(")+1,e.indexOf(")")))}else{t=new Date(e.substring(e.indexOf("'")+1,e.length-1))}e=t}if(e!=undefined&&e!=""){var i=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"full"});return i.format(e)}return""};sap.uiext.inbox.Inbox.prototype.executeActionOnTask=function(e,t){var i=t.inbox;var a=t.view;var o=t.action;var s=o===i.constants.FORWARD?true:false;var r=s?t.forwardTo:"";i.showBusyLoader();var n,l,u;var d=[],p=[],c=[],g=[];var f=[];var h,I;var m,b;i.resetSearchCriteria();u=i.getCoreModel();if(a===i.constants.tableView){n=sap.ui.getCore().byId(i.getId()+"--"+"listViewTable");if(e.getSource())var x=i.getlistTableSelectedIndices();jQuery.each(x,function(e,t){l=n.getContextByIndex(t);p.push(l);m=u.getProperty("InstanceID",l);b=u.getProperty("SAP__Origin",l);d.push(m);c.push(b);if(e==0){h=m;I=b}else{h=h+";"+m;I=I+";"+b}})}else if(a===i.constants.rowRepeaterView){var y=e.getSource().getBindingContext();var T=e.getSource().getParent().getParent().getParent().getParent().getParent().getParent();m=u.getProperty("InstanceID",y);b=u.getProperty("SAP__Origin",y);d.push(m);c.push(b);h=m;I=b;p.push(y)}if(d!=null||d.length>0){var _,C,v,S;if(o==="Claim"){o="Claim"}if(o==="Release"){o="Release"}if(s){o="Forward"}var w=e.getParameters();w.action=o;w.selectedIDs=h;w.selectedSAPOrigins=I;w.selectedIDList=d;w.selectedSAPOriginList=c;w.selectedContextList=p;if(T){w.oRow=T}if(s){w.selectedForwardToUsers=r}i.fireTaskAction(w);if(i.clientUpdate===undefined&&i.typeOfModel!=="OData"){i.applyFilterOnResponse(p)}}i.resetMessages=false;if(i.clientUpdate){i.resetMessages=true}};sap.uiext.inbox.Inbox.prototype.defaultActionHandler=function(e,t){var i=t.constants;var a=e.getParameter("action");var o=e.getParameter("selectedIDs");var s=e.getParameter("selectedSAPOrigins");var r=e.getParameter("selectedIDList");var n=e.getParameter("selectedSAPOriginList");var l=e.getParameter("commentsList");var u=a===t.constants.FORWARD?true:false;var d=e.getParameter("selectedContextList");var p=e.getParameter("oRow");var c=e.getParameter("selectedForwardToUsers");var g=r.length;var f=g;if(g>1&&t.isBatchOperationSupported){var h=[];for(var I=0;I<g;I++){var m={};m.InstanceID="'"+r[I]+"'";m.SAP__Origin="'"+n[I]+"'";if(l&&l.length>0){m.Comments="'"+l[I]+"'"}if(u){m.ForwardTo="'"+e.getParameter("selectedForwardToUsers")+"'"}h.push(m)}var b=function(e,i){t.processTaskActionBatchResponse(d,e,a,c)};var x=function(e){t._handleErrorOnBatchRequests(e,a,f)};this.oDataManager.fireBatchRequest({sPath:a,sMethod:"POST",sBatchGroupId:"standardActionBatch",aUrlParameters:h,numberOfRequests:g,fnSuccess:b,fnError:x})}else{var y={};y.InstanceID=decodeURIComponent(o);y.SAP__Origin=s;if(u)y.ForwardTo=e.getParameter("selectedForwardToUsers");var b=function(e,i){if(t.clientUpdate){var o=[],s=[];t.hideBusyLoader();t.selectedContexts=d;var r=t._getAppliedStatusFilterValues();if(a==="Forward"||r.length>0&&jQuery.inArray(e.Status,r)===-1){if(p)o.push({orow:p,context:d[0]});else o.push(d[0])}s.push({context:d[0],keys:[{key:"Status",value:e.Status},{key:"IsEscalated",value:e.IsEscalated}]});t._refreshLocal(o,s,true)}if(t.clientUpdate===undefined)t.applyFilterOnResponse(d);if(a==="Forward")t.showMessage("success",t._oBundle.getText("INBOX_MSG_FORWARD_ACTION_SUCCESS",[e.TaskTitle,c]));else t.showMessage("success",t._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[a,e.TaskTitle]))};var x=function(e){t._handleErrorOnActionFailed(e,a,t.getCoreModel().getProperty("TaskTitle",d[0]))};t.oDataManager.callFunctionImport(a,{method:"POST",urlParameters:y,success:b,error:x},true)}};sap.uiext.inbox.Inbox.prototype.processTaskActionBatchResponse=function(e,t,i,a){var o=t.__batchResponses;var s,r,n,l,u,d;var p=0,c=0,g=[],f=[];for(s=0,l=o.length;s<l;s++){var h=o[s].__changeResponses;if(h){for(r=0,n=h.length;r<n;r++){var I=h[r];if(n===1){u=I.data.TaskDefinitionName}d=!(I.statusCode>=200&&I.statusCode<=202);if(d){p=p+1}else{c=c+1}}}else{p=p+1}}if(this.clientUpdate===undefined){this.applyFilterOnResponse(e)}this.displayMessageAfterExecutingAction(i,u,p,c,a)};sap.uiext.inbox.Inbox.prototype.displayMessageAfterExecutingAction=function(e,t,i,a,o){if(i>0){var s=i===1?this._oBundle.getText("INBOX_MSG_ACTION_FAILED",[e,i]):this._oBundle.getText("INBOX_MSG_ACTION_FAILED_MULTIPLE_TASKS",[e,i]);this.showMessage("error",s)}if(a===1){var r=e==="Forward"?this._oBundle.getText("INBOX_MSG_FORWARD_ACTION_SUCCESS",[t,o]):this._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[e,t]);this.showMessage("success",r)}if(a>1){this.showMessage("success",this._oBundle.getText("INBOX_MSG_ACTION_SUCCESS_MULTIPLE_TASKS",[e,a]))}};sap.uiext.inbox.Inbox.prototype.fillAttributes=function(){var e=this;var t=sap.ui.getCore().byId(this.getId()+"--"+"filterFacet");if(t!=undefined){var i=e.applyTaskCategoryFilter?e.constants.aDrillDownFilterMetadata[1].attributes:e.bShowNoDueDateFilter?e.constants.aFilterMetaDataWithNoDueDate[0].attributes:e.constants.aFilterMetaData[0].attributes;var a=e.applyTaskCategoryFilter?t.getLists()[1]:t.getLists()[0];if(a===undefined||a===null)return;var o=a.getItems();jQuery.each(o,function(t,o){var s=e.inboxUtils.inArray(o.getKey(),i);if(o.getKey()!="sapUiFacetFilter_ALL"){if(s===-1){a.removeItem(o)}else{i.splice(s,1)}}});if(i.length>0){jQuery.each(i,function(t,i){var o=e.inboxUtils.scrub(i.key);var s=sap.ui.getCore().byId(e.getId()+"--"+o);if(s===undefined)s=new sap.ui.core.ListItem(e.getId()+"--"+o,{text:i.value,key:i.key}).data("InstanceID",i.instanceID).data("SAP__Origin",i.sap__Origin);a.addItem(s)})}}};sap.uiext.inbox.Inbox.prototype.resetFilterView=function(e){var t;if(this.filtersToApply.dropDownFilter){t=this.filtersToApply.dropDownFilter}else if(this.filtersToApply.resStat!=undefined||this.filtersToApply.readyStat!=undefined||this.filtersToApply.InProStat!=undefined){t=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED")}this.filtersToApply={};if(t!=undefined){this.filtersToApply.dropDownFilter=t}var i=this.bShowNoDueDateFilter?sap.uiext.inbox.InboxConstants.aFilterMetaDataWithNoDueDate:sap.uiext.inbox.InboxConstants.aFilterMetaData;for(var a=0;a<i.length;a++){var o=sap.ui.getCore().byId(this.getId()+"--"+i[a].name);if(o!=undefined)o.setSelectedKeys(["sapUiFacetFilter_ALL"])}if(e)this.applyFilterOnResponse(null)};sap.uiext.inbox.Inbox.prototype.getlistTableSelectedIndices=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");return e.getSelectedIndices()};sap.uiext.inbox.Inbox.prototype.getCoreModel=function(){if(!this._oModel){this._oModel=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable").getModel()}return this._oModel};sap.uiext.inbox.Inbox.prototype.getnavigateTaskExecMetadata=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");var t=[];var i=[];var a=[];var o=[];var s=[];var r=this.getlistTableSelectedIndices();var n=this.getCoreModel();jQuery.each(r,function(t,r){var l=e.getContextByIndex(r);s.push(l);i.push(n.getProperty("InstanceID",l));a.push(n.getProperty("TaskTitle",l));o.push(n.getProperty("SAP__Origin",l))});if(this.getTaskExecutionURLCallBack!=""&&this.getTaskExecutionURLCallBack!=undefined&&this.getTaskExecutionURLCallBack!==null){var l=this.getTaskExecutionURLCallBack(i[0],o[0]);if(l!==null&&l.replace(/\s/g,"").length>0){t.push(l)}}else{t.push("")}return{aSelectedContexts:s,arrayURLs:t,arrayIDs:i,arrayTitles:a,aTaskSAPOrigins:o}};sap.uiext.inbox.Inbox.prototype.getlistTableSelectedContexts=function(){var e=[];var t=this.getlistTableSelectedIndices();var i=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");jQuery.each(t,function(t,a){e.push(i.getContextByIndex(a))});return e};sap.uiext.inbox.Inbox.prototype.showBusyLoader=function(){sap.ui.core.BusyIndicator.show(0);var e=jQuery.sap.byId("busy_loader");e.css("position","absolute");e.css("top","50%");e.css("left","50%");e.css("display","");e.show();e.css("z-index",99)};sap.uiext.inbox.Inbox.prototype.hideBusyLoader=function(){sap.ui.core.BusyIndicator.hide();var e=jQuery.sap.byId("busy_loader");e.css("display","none");e.css("z-index",-1)};sap.uiext.inbox.Inbox.prototype.resetSearchCriteria=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"searchField");e.setValue("")};sap.uiext.inbox.Inbox.prototype.loadExecImages=function(){var e=this._imgResourcePath+sap.uiext.inbox.InboxConstants.prevBtnImage;var t=this._imgResourcePath+sap.uiext.inbox.InboxConstants.nxtBtnImage;jQuery.ajax({url:e,type:"GET",async:true,success:function(e,t,i){},error:function(e,t,i){}});jQuery.ajax({url:t,type:"GET",async:true,success:function(e,t,i){},error:function(e,t,i){}})};sap.uiext.inbox.Inbox.prototype.setNoOfRowsOnTable=function(e){var t=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");if(t!=undefined)t.setVisibleRowCount(parseInt(e))};sap.uiext.inbox.Inbox.prototype.showMessage=function(e,t){var i=this;var a=sap.ui.getCore().byId(this.getId()+"--"+"notificationBar");var o=sap.ui.getCore().byId(this.getId()+"--"+"messageNotifier");if(a!=undefined){a.setVisibleStatus(sap.ui.ux3.NotificationBarStatus.Default);var s=new Date;var r=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"});var n=r.format(s);var l=new sap.ui.core.Message({text:t,timestamp:n});if(e==="success"){l.setLevel(sap.ui.core.MessageType.Success)}else if(e==="info"){l.setLevel(sap.ui.core.MessageType.Information)}else if(e==="error"){l.setLevel(sap.ui.core.MessageType.Error)}else if(e==="warning"){l.setLevel(sap.ui.core.MessageType.Warning)}o.addMessage(l);a.setMessageNotifier(o);jQuery.sap.delayedCall(0,this,function(){a._oItemNavigation.focusItem(1)})}};sap.uiext.inbox.Inbox.prototype.deleteMessage=function(e,t){if(t===undefined)t=this;var i=sap.ui.getCore().byId(t.getId()+"--"+"notificationBar");var a=sap.ui.ux3.NotificationBarStatus.Min;if(i!=undefined&&i.hasItems()){i.setVisibleStatus(a)}};sap.uiext.inbox.Inbox.prototype.getFormattedDateTimeOff=function(e,t){var i=new Date;i.setDate(i.getDate()-e);if(!t){i.setHours(0);i.setSeconds(0);i.setMinutes(i.getTimezoneOffset())}return i};sap.uiext.inbox.Inbox.prototype.getFormattedDueDateTimeOff=function(e){var t=new Date;t.setDate(t.getDate()+e);t.setHours(0);t.setSeconds(0);t.setMinutes(t.getTimezoneOffset());return t};sap.uiext.inbox.Inbox.prototype.refreshTaskTypes=function(){if(this.dynamicTaskTypeFilterCallBack){if(this.applyTaskCategoryFilter){this.constants.aDrillDownFilterMetadata[1].attributes=this.dynamicTaskTypeFilterCallBack()}else if(this.bShowNoDueDateFilter){this.constants.aFilterMetaDataWithNoDueDate[0].attributes=this.dynamicTaskTypeFilterCallBack()}else{this.constants.aFilterMetaData[0].attributes=this.dynamicTaskTypeFilterCallBack()}this.fillAttributes();return}var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");var t=[];var i={};var a;if(this.getHandleBindings()){var o=this._currentViewElement().getBinding("rows");var s=this._currentViewElement().getBinding("rows").getContexts(null,o.iLength);var r=this.getCoreModel();jQuery.each(s,function(e,o){a={key:r.getProperty("TaskDefinitionID",o),value:r.getProperty("TaskDefinitionName",o),sap__Origin:r.getProperty("SAP__Origin",o)};if(!i[a.key]){i[a.key]=true;t.push(a)}})}else{var n=this._currentViewElement().getBinding("rows");if(n&&n.oList){jQuery.each(n.oList,function(e,o){a={key:o.TaskDefinitionID,value:o.TaskDefinitionName};if(!i[a.key]){i[a.key]=true;t.push(a)}})}}if(t.length>0){if(this.applyTaskCategoryFilter){this.constants.aDrillDownFilterMetadata[1].attributes=t}else if(this.bShowNoDueDateFilter){this.constants.aFilterMetaDataWithNoDueDate[0].attributes=t}else{this.constants.aFilterMetaData[0].attributes=t}this.fillAttributes()}};sap.uiext.inbox.Inbox.prototype.onAfterRendering=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable").$();e.find("a:disabled").addClass("sapUiExtInboxLnkDsbl")};sap.uiext.inbox.Inbox.prototype._getComponent=function(e){return sap.ui.getCore().byId(this.getId()+"--"+e)};sap.uiext.inbox.Inbox.prototype._removeParentID=function(e){var t=this.getId();return e.replace(this.getId()+"--","")};sap.uiext.inbox.Inbox.prototype.populateViewButtonsContainer=function(e){var t=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+"--"+"segmentedButtonCell"});var i=new sap.ui.commons.SegmentedButton({id:this.getId()+"--"+"viewSelectionSegBtn",buttons:[new sap.ui.commons.Button({id:this.getId()+"--"+"tableViewSelectionButton",height:"20px",lite:true,icon:this.constants.tableViewImageSelected,iconHovered:this.constants.tableViewImageSelected,iconSelected:this.constants.tableViewImageSelected,tooltip:this._oBundle.getText("INBOX_LIST_VIEW_TOOLTIP")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected"),new sap.ui.commons.Button({id:this.getId()+"--"+"rrViewSelectionButton",height:"20px",lite:true,icon:this.constants.rrViewImageSelected,iconHovered:this.constants.rrViewImageSelected,iconSelected:this.constants.rrViewImageSelected,tooltip:this._oBundle.getText("INBOX_STREAM_VIEW_TOOLTIP")}).addStyleClass("sapUiExtInboxSegmentedButtonViewSelection")]});i.setSelectedButton(this.getId()+"--"+"tableViewSelectionButton");i.attachSelect(this,this.switchViews);i.addStyleClass("sapUiExtInboxToolBarContainerHeight");t.addContent(i);t.setPadding(sap.ui.commons.layout.Padding.None);e.createRow(t)};sap.uiext.inbox.Inbox.prototype.updateStylingOnSwitchingView=function(e,t){var i=t.getSource().getButtons();var a;for(var o=0;o<i.length;o++){a=i[o];if(e.getId()!=a.getId()){a.addStyleClass("sapUiExtInboxSegmentedButtonViewSelection");a.removeStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}else{a.removeStyleClass("sapUiExtInboxSegmentedButtonViewSelection");a.addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}}};sap.uiext.inbox.Inbox.prototype.switchViews=function(e,t){var i=t;i.resetSearchCriteria();var a=i.currentView;var o=sap.ui.getCore().byId(e.getSource().getSelectedButton());var s=i.getId()+"--"+"tableViewSelectionButton";var r=i.getId()+"--"+"rrViewSelectionButton";var n=sap.ui.getCore().byId(i.getId()+"--"+"listViewTable");var l=sap.ui.getCore().byId(i.getId()+"--"+"tableRowSettingLayoutContainer");var u=sap.ui.getCore().byId(i.getId()+"--"+"tasksRowRepeater");var d=sap.ui.getCore().byId(i.getId()+"--"+"verticalLayoutContainer");var p=sap.ui.getCore().byId(i.getId()+"--"+"actionButtonsToolbarContainer");var c=sap.ui.getCore().byId(i.getId()+"--"+"rrToolbar");var g=sap.ui.getCore().byId(i.getId()+"--"+"rowRepeaterToolsMatLayout");var f=sap.ui.getCore().byId(i.getId()+"--"+"rowRepeaterPaginator");var h=i._currentViewElement();var I=h.getBinding("rows");var m=false,b=true,x;var y=i.oModel instanceof sap.ui.model.json.JSONModel;i.updateStylingOnSwitchingView(o,e);if(i.applyTaskCategoryFilter){if(o.getId()==s){i._modifyFacetFilterOnFilterCategory()}else if(o.getId()==r){i._modifyFacetFilterOnFilterCategory(true)}}if(I&&I.sFilterParams&&I.sFilterParams.indexOf("TaskDefinitionID")!==-1){m=true;var T=i._getComponent("INBOX_FILTER_TASK_TYPE");x=T.getSelectedKeys()}if(i.clientUpdate&&i._isTaskDefinitionFilterApplied()){m=true;var T=i._getComponent("INBOX_FILTER_TASK_TYPE");x=T.getSelectedKeys()}if(o.getId()===s){i.currentView=i.constants.tableView;o.setIcon(i.constants.tableViewImageSelected);var _=sap.ui.getCore().byId(r);_.setIcon(i.constants.rrViewImageSelected);p.setVisible(true);n.setVisible(true);c.setVisible(false);u.setVisible(false);g.setVisible(false);l.setVisible(true);if(m&&x&&x.length===1){var C=T.getItems();var v=x[0];var S=[];for(var w=0;w<C.length;w++){if(v===C[w].getKey()){S.push(C[w]);break}}i._createCustomAttributes(S)}}if(o.getId()===r){i.currentView=i.constants.rowRepeaterView;if(i._isTableFiltered){i._removeTableFilters()}o.setIcon(i.constants.rrViewImageSelected);var A=sap.ui.getCore().byId(s);A.setIcon(i.constants.tableViewImageSelected);if(i.isCustomAttributesEnabled){var B=i._getComponent("customAttributesSegBtn");if(B&&!B.getVisible()){B.setVisible(true)}}p.setVisible(false);n.setVisible(false);l.setVisible(false);if(u.getModel()===undefined||u.getModel()===null){u.setModel(i.getModel())}c.setVisible(true);u.setVisible(true);g.setVisible(true);if(u.getBinding("rows")){var O=u.getBinding("rows").iLength;i._updatePaginator(O)}else{if(e.getParameters().triggeredFrom===undefined){var R=i._getComponent("rrMainMatrixLayout");var E=new sap.ui.model.Sorter("CreatedOn",true);var F=i._getFilterArray();if(i.isCustomActionsEnabled){i._deleteCustomActions();var D=i._isCompletedTasksSelected();if(!D&&m){if(x&&x.length===1){var C=T.getItems();var v=x[0];var L;for(var w=0;w<C.length;w++){if(v===C[w].getKey()){L=C[w].data("SAP__Origin");break}}}}}var P=i._getBindingParameters();u.bindRows({path:i.sCollectionPath,template:R,parameters:P,sorter:E,filters:F});b=false;if(y){var M=u.getBinding("rows").iLength;i._updatePaginator(M)}}}}if(window.history.replaceState){var N=window.location.search;var k=i.constants.defaultView_URLParameter;if(N.indexOf(k)!=-1){N=N.replace(k+"="+a,k+"="+i.currentView);var U=window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1);window.history.replaceState(null,null,U+N)}}i.inboxUtils.setCookieValue(i.constants.defaultView_URLParameter,i.currentView,1);if(b){if(i.isCustomActionsEnabled){i._deleteCustomActions();var D=i._isCompletedTasksSelected();if(!D&&m){if(x&&x.length===1){var C=T.getItems();var v=x[0];var L;for(var w=0;w<C.length;w++){if(v===C[w].getKey()){L=C[w].data("SAP__Origin");break}}}i.applyFilterOnResponse(null,true)}else{i.applyFilterOnResponse(null)}}else{if(e.getParameters().triggeredFrom===undefined){if(y&&i.currentView===i.constants.rowRepeaterView){i.applyFilterOnResponse(null,true)}else{i.applyFilterOnResponse(null)}}}}};sap.uiext.inbox.Inbox.prototype.createOtherActions=function(e){var t=e;var i=new sap.ui.commons.ToggleButton({id:t.getId()+"--"+"attachmentsSegBtn",visible:false,lite:true,icon:t._imgResourcePath+sap.uiext.inbox.InboxConstants.attachmentsImage,tooltip:this._oBundle.getText("INBOX_SHOW_ATTACHMENTS")}).bindProperty("visible","SupportsAttachments",function(e){if(e)return e;else return false}).attachPress(this,function(e,t){t._handleActionButtonToggleinRowRepeater(e)});var a=new sap.ui.commons.ToggleButton({id:t.getId()+"--"+"commentsSegBtn",visible:false,lite:true,icon:this.constants.commentsImage,tooltip:this._oBundle.getText("INBOX_SHOW_COMMENTS")}).addStyleClass("sapUiExtInboxRowRepCommentIconColor");var o=new sap.ui.commons.ToggleButton({id:t.getId()+"--"+"customAttributesSegBtn",enabled:true,pressed:false,lite:true,visible:false,tooltip:this._oBundle.getText("INBOX_SHOW_CUSTOM_ATTRIBUTES"),icon:this.constants.iconPool.getIconURI("expand")});o.bindProperty("visible",t.constants.TaskCollection.properties.instanceID,function(e){if(t.isCustomAttributesEnabled){return true}if(e&&t.bCustomAttributesVisible){var i=this.getId();var a=/\d+$/;var o=a.exec(i);var s=t.getCoreModel();var r=this.getBindingContext();var n=t.getModel().getProperty(t.constants.TaskDefinitionCollection.properties.taskDefnID,r);var l=t.getModel().getProperty(t.constants.TaskCollection.properties.instanceID,r);var u=t.getModel().getProperty(t.constants.sapOrigin,r);t._getCustomAttributeContentforRowRepeater(null,o[0],n,l,u);this.setIcon(t.constants.iconPool.getIconURI("collapse"));this.setTooltip(t._oBundle.getText("INBOX_HIDE_CUSTOM_ATTRIBUTES"));this.setPressed(true);return true}return false});var s=new sap.ui.commons.layout.MatrixLayoutCell(t.getId()+"--"+"rrCustomAttrButtonCell",{hAlign:sap.ui.commons.layout.HAlign.End});s.addContent(o);var r=new sap.ui.commons.layout.MatrixLayout(t.getId()+"--"+"rrOtherActionsMatLay",{layoutFixed:false,columns:4,width:"5%"});r.createRow(i,a,s);o.attachPress(this,function(e,t){t._handleActionButtonToggleinRowRepeater(e)});return r};sap.uiext.inbox.Inbox.prototype._isOverDue=function(e){if(e===undefined||e===null||e==="")return false;var t=(new Date).getTime();var i=e.getTime()-t<0?true:false;return i};sap.uiext.inbox.Inbox.prototype._currentView=function(){return this.currentView};sap.uiext.inbox.Inbox.prototype.createRowRepeaterToolBar=function(e){var t=e;var i=sap.ui.getCore().byId(this.getId()+"--"+"rrToolbar");var a=sap.ui.getCore().byId(this.getId()+"--"+"tasksRowRepeater");if(!i){var i=new sap.ui.commons.Toolbar(this.getId()+"--"+"rrToolbar");i.setDesign(sap.ui.commons.ToolbarDesign.Standard);i.addStyleClass("sapUiExtInboxActionButtonsToolbarContainer");var o=0;if(sap.ui.getCore().byId(this.getId()+"--"+"sortByLabel")===undefined){var s=new sap.ui.commons.Label(this.getId()+"--"+"sortByLabel",{text:this._oBundle.getText("INBOX_SORT_BY_LABEL")+sap.uiext.inbox.InboxConstants.COLON,design:sap.ui.commons.LabelDesign.Bold});i.insertItem(s,o)}var r=new sap.ui.commons.DropdownBox(this.getId()+"--"+"sortByFilterComboBox",{tooltip:this._oBundle.getText("INBOX_SORT_BY_LABEL"),items:[new sap.ui.core.ListItem(this.getId()+"--"+"li_creationDate",{text:this._oBundle.getText("INBOX_FILTER_CREATION_DATE"),tooltip:this._oBundle.getText("INBOX_SORT_BY_LABEL")+" "+this._oBundle.getText("INBOX_FILTER_CREATION_DATE")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_taskTitle",{text:this._oBundle.getText("INBOX_TASK_TITLE"),tooltip:this._oBundle.getText("INBOX_SORT_BY_LABEL")+" "+this._oBundle.getText("INBOX_TASK_TITLE")}),new sap.ui.core.ListItem(this.getId()+"--"+"li_status",{text:this._oBundle.getText("INBOX_STATUS"),tooltip:this._oBundle.getText("INBOX_SORT_BY_LABEL")+" "+this._oBundle.getText("INBOX_STATUS")})]});r.setValue(this._oBundle.getText("INBOX_FILTER_CREATION_DATE"));r.addStyleClass("sapUiExtInboxRowRepeaterSortBy");var n=new sap.ui.commons.RowRepeaterSorter(this.getId()+"--"+"sortByStartDate",{sorter:new sap.ui.model.Sorter("CreatedOn",true)});var l=new sap.ui.commons.RowRepeaterSorter(this.getId()+"--"+"sortByTaskTitle",{sorter:new sap.ui.model.Sorter("TaskTitle",true)});var u=new sap.ui.commons.RowRepeaterSorter(this.getId()+"--"+"sortByStatus",{sorter:new sap.ui.model.Sorter("Status",true)});a.addSorter(n);a.addSorter(l);a.addSorter(u);r.attachChange(this,function(e,i){var o=i._getComponent("li_empty");if(this.indexOfItem(o)!==-1)this.removeItem(o);var s=e.getSource().getSelectedItemId();t.resetSearchCriteria();var r;if(s===i.getId()+"--"+"li_creationDate"){r=sap.ui.getCore().byId(t.getId()+"--"+"sortByStartDate").getSorter();r.bDescending=!r.bDescending;a.triggerSort(t.getId()+"--"+"sortByStartDate")}else if(s===i.getId()+"--"+"li_taskTitle"){r=sap.ui.getCore().byId(t.getId()+"--"+"sortByTaskTitle").getSorter();r.bDescending=!r.bDescending;a.triggerSort(t.getId()+"--"+"sortByTaskTitle")}else if(s===i.getId()+"--"+"li_status"){r=sap.ui.getCore().byId(t.getId()+"--"+"sortByStatus").getSorter();r.bDescending=!r.bDescending;a.triggerSort(t.getId()+"--"+"sortByStatus")}t._updateRowRepeaterSortImage(r.bDescending)});i.insertItem(r,o+1);var d=new sap.ui.commons.Button(this.getId()+"--"+"sortImage",{tooltip:this._oBundle.getText("INBOX_SORT_INDICATOR_DESC"),icon:sap.uiext.inbox.InboxConstants.sortDescImage});d.addStyleClass("sapUiExtInboxRefreshButtonHeight");d.attachPress(this,function(e,t){var i=t._getComponent("sortByFilterComboBox");var a=i.getSelectedItemId();var o=sap.ui.getCore().byId(t.getId()+"--"+"tasksRowRepeater");t.resetSearchCriteria();var s=t.constants.mRRSortMap[t._removeParentID(a)];var r=s?t._getComponent(s).getSorter():undefined;if(r){r.bDescending=!r.bDescending;o.triggerSort(t.getId()+"--"+s);t._updateRowRepeaterSortImage(r.bDescending);if(r.bDescending){this.setIcon(sap.uiext.inbox.InboxConstants.sortDescImage);this.setTooltip(t._oBundle.getText("INBOX_SORT_INDICATOR_DESC"))}else{this.setIcon(sap.uiext.inbox.InboxConstants.sortAscImage);this.setTooltip(t._oBundle.getText("INBOX_SORT_INDICATOR_ASC"))}}});i.insertItem(d,o+2);var p=sap.ui.getCore().byId(this.getId()+"--"+"toggleCustomAttributes");if(!p){var p=new sap.ui.commons.ToggleButton(this.getId()+"--"+"toggleCustomAttributes",{tooltip:this._oBundle.getText("INBOX_SHOW_ALL_CUSTOM_ATTRIBUTES"),icon:this.constants.iconPool.getIconURI("expand"),lite:true,visible:false,pressed:false});p.addStyleClass("sapUiExtInboxToggleButtonMarginRight");p.attachPress(t,t._toggleCustomAttributesVisibilityActionEvent);i.insertRightItem(p)}}return i};sap.uiext.inbox.Inbox.prototype.createRowRepeaterToolsContent=function(e){var t=e;var i=sap.ui.getCore().byId(t.getId()+"--"+"tasksRowRepeater");var a=new sap.ui.commons.layout.MatrixLayout(t.getId()+"--"+"rowRepeaterToolsMatLayout");var o=new sap.ui.commons.Paginator(t.getId()+"--"+"rowRepeaterPaginator");o.attachPage(t,function(e,t){t._handleRowRepeaterPaginatorClick(e)});var s=new sap.ui.commons.SegmentedButton({id:t.getId()+"--"+"rowRepeaterRowSettingsSegBtn",buttons:[new sap.ui.commons.Button({id:t.getId()+"--"+"5RowsSegBtn",lite:true,text:"5",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_FIVE")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent"),new sap.ui.commons.Button({id:t.getId()+"--"+"10RowsSegBtn",lite:true,text:"10",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_TEN")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent"),new sap.ui.commons.Button({id:t.getId()+"--"+"20RowsSegBtn",lite:true,text:"20",tooltip:this._oBundle.getText("INBOX_SET_NUMBER_OF_ROWS_TO")+" "+this._oBundle.getText("INBOX_NUMBER_TWENTY")}).addStyleClass("sapUiExtInboxSegmentedButtonTransparent")]});s.attachSelect(function(e){var a=parseInt(sap.ui.getCore().byId(e.getParameters().selectedButtonId).getText());var o=this.getButtons();for(var s=0;s<o.length;s++){o[s].removeStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}sap.ui.getCore().byId(e.getParameters().selectedButtonId).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected");i.setNumberOfRows(a);if(i.getBinding("rows")){var r=i.getBinding("rows").iLength;t._updatePaginator(r)}});if(t.rrViewRowCountValue!=null&&t.rrViewRowCountValue!=undefined){if(parseInt(t.rrViewRowCountValue)===5||parseInt(t.rrViewRowCountValue)===10||parseInt(t.rrViewRowCountValue)===20){s.fireSelect({selectedButtonId:t.getId()+"--"+parseInt(t.rrViewRowCountValue)+"RowsSegBtn"});s.setSelectedButton(t.getId()+"--"+parseInt(t.rrViewRowCountValue)+"RowsSegBtn");sap.ui.getCore().byId(s.getSelectedButton()).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}else{i.setNumberOfRows(parseInt(t.rrViewRowCountValue));if(i.getBinding("rows")){var r=i.getBinding("rows").iLength;t._updatePaginator(r)}}}else{s.setSelectedButton(t.getId()+"--"+"5RowsSegBtn");sap.ui.getCore().byId(s.getSelectedButton()).addStyleClass("sapUiExtInboxSegmentedButtonTransparentSelected")}var n=new sap.ui.commons.layout.MatrixLayoutCell(t.getId()+"--"+"separatorRRViewCell");var l=new sap.ui.commons.TextView({id:t.getId()+"--"+"separator",text:"|"});n.addContent(l);n.setPadding(sap.ui.commons.layout.Padding.None);var u=new sap.ui.commons.layout.BorderLayout(t.getId()+"--"+"borderLayout",{width:"100%",height:"40px"});u.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.center,o);u.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.center,{size:"55%",contentAlign:"right",visible:true});u.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,s);u.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:"45%",contentAlign:"right",visible:true});a.createRow(new sap.ui.commons.TextView({text:" "}));a.createRow(u);return a};sap.uiext.inbox.Inbox.prototype._createCustomAttributesLayoutForRRView=function(e,t,i){var a=this;var o=this.getCoreModel();var s=1;var r=e.length;var n=new sap.ui.commons.layout.MatrixLayout({layoutFixed:true,width:"100%"});var l=new sap.ui.commons.layout.MatrixLayout;var u,d,p,c={size:"33.33%",overflowX:"hidden",overflowY:"hidden",contentAlign:"left",visible:true};jQuery.each(e,function(e,o){if(t[o.Name]){var n=a.getId()+"--"+"customattr"+"-label-"+"-row-"+i+"-index-"+(s-1);var g=a.getId()+"--"+"customattr"+"-value-"+"-row-"+i+"-index-"+(s-1);u=a.oCore.byId(n)||new sap.ui.commons.Label({id:n,text:o.Label}).data("customAttrName",o.Name);d=a.oCore.byId(g)||new sap.ui.commons.TextView({id:g}).data("customAttrName",o.Name);d.setText(t[o.Name]);u.setLabelFor(d);var f=a._createLabelValueMatrixLayout(u,d);var h=s%3;var I=h===1?sap.ui.commons.layout.BorderLayoutAreaTypes.begin:h===2?sap.ui.commons.layout.BorderLayoutAreaTypes.center:sap.ui.commons.layout.BorderLayoutAreaTypes.end;p=h===1?new sap.ui.commons.layout.BorderLayout({width:"100%",height:"18px"}):p;p.createArea(I,f);p.setAreaData(I,c);if(h===2&&s===r){p.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,new sap.ui.commons.TextView({text:" "}));p.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,c)}if(h===0||s===r){var m=new sap.ui.commons.layout.MatrixLayoutCell;m.addStyleClass("sapUiExtInboxPaddingBottom");m.addContent(p);l.createRow(m)}s++}});var g=(new sap.ui.commons.layout.MatrixLayoutCell).addContent(l).addStyleClass("sapUIExtInboxCustomAttributesBorder");n.createRow(g);return n};sap.uiext.inbox.Inbox.prototype._currentViewElement=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");var t=sap.ui.getCore().byId(this.getId()+"--"+"tasksRowRepeater");var i,a;if(this.currentView===sap.uiext.inbox.InboxConstants.tableView){a=e}else if(this.currentView===sap.uiext.inbox.InboxConstants.rowRepeaterView){a=t}return a};sap.uiext.inbox.Inbox.prototype._updatePaginator=function(e){var t=this._getComponent("rowRepeaterPaginator"),i=this._getComponent("rowRepeaterRowSettingsSegBtn"),a=this._getComponent("tasksRowRepeater");if(!t){var t=new sap.ui.commons.Paginator(this.getId()+"--"+"rowRepeaterPaginator");t.attachPage(this,function(e,t){t._handleRowRepeaterPaginatorClick(e)});var o=this._getComponent("borderLayout");if(o){var s=o.getCenter();if(s){s.addContent(t)}}}if(this.rrViewRowCountValue!=null&&this.rrViewRowCountValue!=undefined){t.setNumberOfPages(Math.ceil(e/parseInt(this.rrViewRowCountValue)))}else{var r=sap.ui.getCore().byId(i.getSelectedButton()).getText();t.setNumberOfPages(Math.ceil(e/r))}t.setCurrentPage(1);a.gotoPage(1)};sap.uiext.inbox.Inbox.prototype._createLabelValueMatrixLayout=function(e,t){e.addStyleClass("sapUiExtInboxCustomAttLabel").setWrapping(false);t.addStyleClass("sapUiExtInboxCustomAttValue").setWrapping(false);var i=new sap.ui.commons.layout.MatrixLayoutCell({hAlign:sap.ui.commons.layout.HAlign.Right,vAlign:sap.ui.commons.layout.VAlign.Top,padding:sap.ui.commons.layout.Padding.End,content:[e]});var a=new sap.ui.commons.layout.MatrixLayoutCell({hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Top,padding:sap.ui.commons.layout.Padding.Begin,content:[t]});return(new sap.ui.commons.layout.MatrixLayout).createRow(i,a)};sap.uiext.inbox.Inbox.prototype._getCustomActionsDefinition=function(e,t,i,a,o){var s=this;var r=sap.uiext.inbox.InboxConstants.taskInstanceDecisionOptionsMap;var n=r[e];if(n===undefined&&e){var l={InstanceID:"'"+decodeURIComponent(e)+"'",SAP__Origin:"'"+t+"'",$format:"json"};var u=function(t,l){s.selectedContexts=o;n=r[e]=t.results;if(a){a(n)}else{s._displayCustomActions(n,i)}};var d=function(e){s.showMessage("error",s._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ACTION_FAILS"))};this.oDataManager.readData(s.constants.decisionOptionsFunctionImport,{urlParameters:l,success:u,error:d})}else{if(a){a(n)}else{s._displayCustomActions(n,i)}}};sap.uiext.inbox.Inbox.prototype._fetchCustomActionsUsingAsyncCall=function(e,t,i,a){var o=this;var s=e.length+i.length;var r=[];var n=sap.uiext.inbox.InboxConstants.taskInstanceDecisionOptionsMap;jQuery.each(e,function(e,l){var u={InstanceID:"'"+decodeURIComponent(l)+"'",SAP__Origin:"'"+t+"'",$format:"json"};var d=function(e,t){o.selectedContexts=a;r=n[l]=e.results;i.push(r);if(i.length==s){o._displayCustomActions(r,i)}};var p=function(e){o.showMessage("error",o._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ACTION_FAILS"))};o.oDataManager.readData(o.constants.decisionOptionsFunctionImport,{urlParameters:u,success:d,error:p})})};sap.uiext.inbox.Inbox.prototype._displayCustomActions=function(e,t){this._deleteCustomActionsForTableView();if(e&&e.length>0){t.push(e)}function i(e){if(e.length==0)return[];else if(e.length==1)return e[0];var t=e[0];for(var i=1;i<e.length;i++){t=a(t,e[i])}return t}function a(e,t){var i=[];var a,o;var s=e.length;var r=t.length;for(a=0;a<s;a++){for(o=0;o<r;o++){if(e[a].DecisionKey===t[o].DecisionKey){i.push(e[a])}}}return i}var o=i(t);if(o&&o.length>0)this._createCustomActionsForTableView(o,true)};sap.uiext.inbox.Inbox.prototype._executeCustomAction=function(e,t){var i=e.data("key");var a=e.getText();var o=this;var s=this.currentView;var r,n,l;var u=[],d=[],p=[];var c=[];var g,f;var h=[];var I,m,b;o.resetSearchCriteria();var l=o.getCoreModel();if(s===o.constants.tableView){r=o._getComponent("listViewTable");var x=o.getlistTableSelectedIndices();jQuery.each(x,function(e,t){n=r.getContextByIndex(t);d.push(n);b=l.getProperty("TaskTitle",n);I=l.getProperty("InstanceID",n);m=l.getProperty("SAP__Origin",n);u.push(I);p.push(m);if(e==0){g=I;f=m}else{g=g+";"+I;f=f+";"+m}})}else if(s===o.constants.rowRepeaterView){var y=e.getBindingContext();b=l.getProperty("TaskTitle",n);I=l.getProperty("InstanceID",y);m=l.getProperty("SAP__Origin",y);u.push(I);p.push(m);g=I;f=m;d.push(y);var T=e.getParent().getParent().getParent().getParent().getParent().getParent()}var _,C,v,S,w,A;w=u.length;A=w;if(w>1&&o.isBatchOperationSupported){var B=[];for(var O=0;O<w;O++){var R={};R.InstanceID="'"+u[O]+"'";R.SAP__Origin="'"+p[O]+"'";R.DecisionKey="'"+i+"'";if(t){R.Comments="'"+jQuery.sap.encodeURL(t)+"'"}B.push(R)}var E=function(e,t){var i=e.__batchResponses;var s=e.TaskTitle;var r,n,l,u;var p=0,c=0,g=[],f=[];for(r=0,u=i.length;r<u;r++){var h=i[r].__changeResponses;if(h){for(n=0,l=h.length;n<l;n++){var I=h[n];var m=!(I.statusCode>=200&&I.statusCode<=202);if(m){p=p+1}else{c=c+1;if(o.clientUpdate){o.selectedContexts=d;var b=I.data;if(b.Status==="COMPLETED"){if(T){g.push({orow:T,context:d[r]})}else{g.push(d[r])}}}}}}}if(o.clientUpdate){o._refreshLocal(g)}if(o.clientUpdate===undefined){o.applyFilterOnResponse(d)}if(p>0){if(p===1){o.showMessage("error",o._oBundle.getText("INBOX_MSG_ACTION_FAILED",[a,s]))}else{o.showMessage("error",o._oBundle.getText("INBOX_MSG_ACTION_FAILED_MULTIPLE_TASKS",[a,p]))}}else{if(c>1){o.showMessage("success",o._oBundle.getText("INBOX_MSG_ACTION_SUCCESS_MULTIPLE_TASKS",[a,c]))}else{o.showMessage("success",o._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[a,s]))}}};var F=function(e){o._handleErrorOnBatchRequests(e,a,A)};this.oDataManager.fireBatchRequest({sPath:o.constants.decisionExecutionFunctionImport,sMethod:"POST",sBatchGroupId:"customActionBatch",aUrlParameters:B,numberOfRequests:w,fnSuccess:E,fnError:F})}else{var D={};D.InstanceID=decodeURIComponent(g);D.SAP__Origin=f;D.DecisionKey=i;if(t)D.Comments=t;var E=function(e,t){if(o.clientUpdate&&e.Status==="COMPLETED"){o.selectedContexts=d;if(T)o._refreshLocal([{orow:T,context:d[0]}]);else o._refreshLocal([d])}if(o.clientUpdate===undefined)o.applyFilterOnResponse(d);o.showMessage("success",o._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[a,e.TaskTitle]))};var F=function(e){o._handleErrorOnActionFailed(e,a,l.getProperty("TaskTitle",d[0]))};o.oDataManager.callFunctionImport(o.constants.decisionExecutionFunctionImport,{method:"POST",success:E,error:F,urlParameters:D},true)}o.resetMessages=false};sap.uiext.inbox.Inbox.prototype._deleteCustomActions=function(e){if(this.currentView===this.constants.tableView){this._deleteCustomActionsForTableView()}else if(this.currentView===this.constants.rowRepeaterView){this._deleteCustomActionsForRowRepeaterView()}};sap.uiext.inbox.Inbox.prototype._createCustomActionButtons=function(e,t){if(this.currentView===this.constants.tableView){this._createCustomActionsForTableView(e,t)}};sap.uiext.inbox.Inbox.prototype._deleteCustomActionsForTableView=function(e){var t=this;var i=this._getActionButtonToolBarForTableView();var a=i.getItems();for(var o=0;o<a.length;o++){var s=a[o];if(s instanceof sap.ui.commons.Button&&s.data("type")===t.constants.customAction){i.removeItem(s);s.destroy()}if(s instanceof sap.ui.commons.ToolbarSeparator&&s.data("separatorFor")===t.constants.customAction){i.removeItem(s);s.destroy()}}};sap.uiext.inbox.Inbox.prototype._createCustomActionsForTableView=function(e,t){var i=this;var a=this._getActionButtonToolBarForTableView();var o=e.length;var s=3;if(o>0){var r=new sap.ui.commons.ToolbarSeparator;r.data("separatorFor",i.constants.customAction);a.insertItem(r,s);s++}for(var n=0;n<o;n++){var l=e[n];var u=!l.DecisionText?l.DecisionKey:l.DecisionText;var d=new sap.ui.commons.Button(this.getId()+"--"+l.DecisionKey+"button",{text:u,enabled:t,tooltip:l.Description}).data("type",i.constants.customAction).data("key",l.DecisionKey).data("text",l.DecisionText).data("commentsMandatory",l.CommentMandatory);d.attachPress({inbox:i,view:i.constants.tableView},jQuery.proxy(i._handleCustomActionClick,this));a.insertItem(d,s);s++}};sap.uiext.inbox.Inbox.prototype._deleteCustomActionsForRowRepeaterView=function(e){var t=this;var i=this._getComponent("rrMainMatrixLayout");var a=this._getComponent("taskActionMatrixLayout");var o=a.getRows()[0];var s=o.getCells();for(var r=0;r<s.length;r++){var n=s[r];var l=n.getContent()[0];if(l instanceof sap.ui.commons.Link&&l.data("type")===t.constants.customAction||l instanceof sap.ui.commons.Label&&l.data("separatorFor")===t.constants.customAction){o.removeCell(n);n.destroy();l.destroy()}}};sap.uiext.inbox.Inbox.prototype._getActionButtonToolBarForTableView=function(){return this._getComponent("actionButtonsToolbarContainer")};sap.uiext.inbox.Inbox.prototype._modifyListBindingForExpand=function(e,t){var i=this.constants;var a,o;if(this.currentView===this.constants.tableView){a=sap.ui.getCore().byId(this.getId()+"--"+"listViewTable");if(a!==undefined){o=a.getBinding("rows")}}else if(this.currentView===this.constants.rowRepeaterView){a=sap.ui.getCore().byId(this.getId()+"--"+"tasksRowRepeater");if(a!==undefined){o=a.getBinding("rows")}}var s=o.mParameters;if(!s){o.mParameters={expand:""}}var r=o.mParameters.expand;if(!r){r=o.mParameters.expand=""}if(e){if(r){if(r.indexOf(i.customAttributeNavigationParam)===-1){if(r.length>0){r=r+","}r=r+t}}else{r=t}}else{if(r&&r.length>0){var n=r.indexOf(t);if(n>=0){r=r.charAt(n-1)===","?r.replace(","+t,""):r.replace(t,"")}}}if(r.length>0){o.mParameters.expand=r}else{delete o.mParameters.expand}function l(e){var t=[],i={expand:true,select:true};for(var a in e){if(a in i){t.push("$"+a+"="+jQuery.sap.encodeURL(e[a]))}}return t.join("&")}o.sCustomParams=l(o.mParameters)};sap.uiext.inbox.Inbox.prototype.populateRefreshButtonContainer=function(e){var t=this;var i=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+"--"+"refreshButtonCell"});var a=new sap.ui.commons.Button(this.getId()+"--"+"refreshButton",{tooltip:this._oBundle.getText("INBOX_REFRESH_BUTTON_TOOLTIP")});a.setIcon(sap.uiext.inbox.InboxConstants.refreshImage);a.attachPress(t,t.refreshTaskList);a.addStyleClass("sapUiExtInboxRefreshButtonHeight");i.addContent(a);i.setPadding(sap.ui.commons.layout.Padding.None);var o=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+"--"+"refreshedOnTextCell",vAlign:sap.ui.commons.layout.VAlign.Bottom,padding:sap.ui.commons.layout.Padding.Top});var s=new sap.ui.commons.Label(this.getId()+"--"+"refreshOnText");t.lastRefreshedOnDateTime=new Date;var r=t._getFormattedRefreshOnDateTime();s.setText(t._oBundle.getText("INBOX_TEXT_ON")+sap.uiext.inbox.InboxConstants.SPACE+r);s.setTooltip(t._getFormattedTooltipForLastRefreshedTime());s.addStyleClass("sapUiExtInboxRefreshedOnStyle");o.addContent(s);e.createRow(i,new sap.ui.commons.Label({text:sap.uiext.inbox.InboxConstants.SPACE}),o)};sap.uiext.inbox.Inbox.prototype._getFormattedRefreshOnDateTime=function(){var e=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"});return e.format(this.lastRefreshedOnDateTime)};sap.uiext.inbox.Inbox.prototype._getFormattedTooltipForLastRefreshedTime=function(){var e=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"});return e.format(this.lastRefreshedOnDateTime)};sap.uiext.inbox.Inbox.prototype._createRRSettingsButton=function(){var e=this;var t=sap.ui.getCore().byId(this.getId()+"--"+"rrSettingsButton");if(!t){t=new sap.ui.commons.Button(e.getId()+"--"+"rrSettingsButton",{tooltip:e._oBundle.getText("INBOX_MANAGE_SUBSTITUTION_RULES_TOOLTIP"),icon:this.constants.iconPool.getIconURI("workflow-tasks"),iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,lite:true});t.addStyleClass("sapUiExtInboxSettingsButton");t.attachPress(e,e.onSubstitutionButtonPress)}return t};sap.uiext.inbox.Inbox.prototype._executeForwardAction=function(e,t){var i=e.getSource();var a=t.inbox;var o=a.getId()+"--";var s=sap.ui.getCore().byId(o+"forwardTasksPopUp");var r=sap.ui.getCore().byId(o+"userTable");if(s===undefined){var n=new sap.ui.commons.layout.MatrixLayout({id:o+"dLayout",layoutFixed:true,width:"100%"});var l=new sap.ui.commons.SearchField({id:o+"oSearch",enableListSuggest:false,startSuggestion:0,tooltip:a._oBundle.getText("SUBSTIUTION_RULE_SEARCH_FOR_USERS"),editable:true,width:"100%"});l.addDelegate({onAfterRendering:function(){var e=sap.ui.getCore().byId(o+"oSearch-tf");e.prop("placeholder",a._oBundle.getText("INBOX_SEARCH_FOR_A_COLLEAGUE"))}});l.attachSearch(a,function(e,t){e.oParentSource=i;r.setBusy(true);t._handleSearchUsersClickforForward(e)});l.attachSuggest(a,function(e,t){if(e.getParameter("value")===""){r.clearSelection();r.bindRows("")}});n.createRow(l);var u={collection:"UserInfoCollection",propertiesLabel:[a._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_LOGONID"),a._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_NAME")],properties:["UniqueName","DisplayName"]};if(r===undefined){r=new sap.ui.table.Table(o+"userTable",{selectionMode:sap.ui.table.SelectionMode.Single})}r.setVisibleRowCount(5);r.attachRowSelectionChange(function(){if(r.getSelectedIndices().length!==0){sap.ui.getCore().byId(o+"forwardTasksPopUpFrwBtn").setEnabled(true)}else{sap.ui.getCore().byId(o+"forwardTasksPopUpFrwBtn").setEnabled(false)}});r.bDynamic=true;for(var d=0;d<=u.properties.length-1;d++){r.addColumn((new sap.ui.table.Column).setLabel(new sap.ui.commons.Label({text:u.propertiesLabel[d],design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({editable:false,value:{path:u.properties[d]}})))}var p=new sap.ui.commons.layout.VerticalLayout(o+"userDialogVLayout",{width:"100%"});p.insertContent(n,0);p.insertContent(r,1);var c;s=new sap.ui.commons.Dialog(o+"forwardTasksPopUp",{modal:true,title:a._oBundle.getText("INBOX_FORWARD_SELECTED_TASKS"),content:[p],buttons:[new sap.ui.commons.Button(o+"forwardTasksPopUpFrwBtn",{enabled:false,text:a._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD"),tooltip:a._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD_TOOLTIP"),press:function(e){var r=sap.ui.getCore().byId(o+"userTable");var n=r.getSelectedIndex();var l=r.getContextByIndex(n);var u=sap.ui.getCore().byId(o+"userTable").getModel();var d=u.getProperty("DisplayName",l);if(d===null)d="";c=u.getProperty("UniqueName",l);var p=new sap.ui.base.Event;p.oSource=i;p.mParameters={};a.executeActionOnTask(p,{inbox:a,view:t.view,action:"Forward",forwardTo:jQuery.sap.encodeURL(c),source:i});s.close()}})]})}s.setWidth("500px");s.open();s.attachClosed(a,function(e,t){s.destroy()});s.setInitialFocus(l)};sap.uiext.inbox.Inbox.prototype._getExpandParameters=function(){return this.oController.getExpandParameters()};sap.uiext.inbox.Inbox.prototype._getFilterArray=function(){var e=[];for(var t in this.filtersToApply){var i=this.filtersToApply[t];if(jQuery.isArray(i)){e=e.concat(i)}else e.push(i)}return e};sap.uiext.inbox.Inbox.prototype._getSelectedItemfromKey=function(e,t){var i=e.getItems();var a=t;var o;for(var s=0;s<i.length;s++){if(a===i[s].getKey()){return i[s]}}};sap.uiext.inbox.Inbox.prototype._resetFlags=function(){this.isSubstitutionEnabled=false;this.isCustomAttributesEnabled=false;this.isCustomActionsEnabled=false;this.showTaskDescription=false;this.showTaskCategory=false};sap.uiext.inbox.Inbox.prototype._createForwardActionLinkCell=function(){var e=this;var t=new sap.ui.commons.layout.MatrixLayoutCell({id:e.getId()+"--"+"forwardActionCell",hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var i=new sap.ui.commons.Link(e.getId()+"--"+"rrViewForwardAction",{visible:false,enabled:false,tooltip:e._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD")});i.addStyleClass("sapUiExtInboxLnkNoUnderline");i.setText(e._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD"));i.attachPress({inbox:e,view:e.constants.rowRepeaterView},e._executeForwardAction);t.addContent(i);return t};sap.uiext.inbox.Inbox.prototype._setInboxFiltersVisibility=function(e){if(e===false||e===true){sap.ui.getCore().byId(this.getId()+"--"+"filterViewButton").setVisible(e);sap.ui.getCore().byId(this.getId()+"--"+"filterComboBox1").setVisible(e);sap.ui.getCore().byId(this.getId()+"--"+"filterComboBox2").setVisible(e);sap.ui.getCore().byId(this.getId()+"--"+"filterComboBox3").setVisible(e)}};sap.uiext.inbox.Inbox.prototype._setInboxViewSelectionVisibility=function(e){if(e===false||e===true){sap.ui.getCore().byId(this.getId()+"--"+"tableViewImage").setVisible(e);sap.ui.getCore().byId(this.getId()+"--"+"rrViewImage").setVisible(e)}};sap.uiext.inbox.Inbox.prototype.resizeColumns=function(){var e=this;var t=0;var i=sap.ui.getCore().byId(e.getId()+"--"+"listViewTable");var a=i.getColumns();var o="";jQuery.each(a,function(t,i){if(e.absId(i.getId())==="TaskTitle"){o=i;return false}});if(o&&o.getVisible()===true&&(a.length&&100/a.length<25)){o.setWidth("20%");t=100/(a.length-1);jQuery.each(a,function(i,a){if(e.absId(a.getId())!=="TaskTitle"){a.setWidth(t+"%")}})}};sap.uiext.inbox.Inbox.prototype._isCompletedTasksSelected=function(){var e=this._getComponent("filterComboBox2");var t=false;if(e.getSelectedItemId()===this.getId()+"--"+"li_completedTasks"){t=true}return t};sap.uiext.inbox.Inbox.prototype._isDrillDownFilterSelected=function(e){var t=false;var i=this._currentViewElement();var a=i.getBinding("rows");if(a&&a.sFilterParams&&a.sFilterParams.indexOf(e)!==-1)t=true;return t};sap.uiext.inbox.Inbox.prototype._getDefaultSort=function(){if(!this._defaultSort){this._defaultSort=new sap.ui.model.Sorter("CreatedOn",true)}return this._defaultSort};sap.uiext.inbox.Inbox.prototype._clearCustomAttributeSort=function(){var e=this._getComponent("listViewTable");var t=e.getBinding("rows");if(t.sSortParams.indexOf(this.constants.customAttributeNavigationParam)!==-1){t.createSortParams(t.aSorters)}};sap.uiext.inbox.Inbox.prototype._updateViewElementsOnRequestCompleted=function(e){if(this.currentView===this.constants.tableView){this._updateTableOnRequestCompleted()}else if(this.currentView===this.constants.rowRepeaterView){this._updateRowRepeaterOnRequestCompleted(e)}};sap.uiext.inbox.Inbox.prototype._updateTableOnRequestCompleted=function(){if(this.clientUpdate&&this.currentView===this.constants.tableView){this._currentViewElement().clearSelection()}var e,t=[];var i={aSupportsClaim:[],aSupportsRelease:[],aSupportsForward:[]};var a=this._currentViewElement();var o=this.selectedContexts;var s=this._getTableIndicesByContext(o,a);var r=a.getModel();var n=this;jQuery.each(s,function(o,s){e=a.getContextByIndex(s);t.push(r.getProperty("Status",e));i.aSupportsClaim.push(r.getProperty("SupportsClaim",e));i.aSupportsRelease.push(r.getProperty("SupportsRelease",e));if(n.isForwardActionEnabled){i.aSupportsForward.push(r.getProperty("SupportsForward",e))}});this.inboxUtils.reselectRowsinTable(s,a);this.disableActionButtonsOnMultiStatus(t,i)};sap.uiext.inbox.Inbox.prototype._updateRowRepeaterOnRequestCompleted=function(e){this._updatePaginator(e)};sap.uiext.inbox.Inbox.prototype._getTableIndicesByContext=function(e,t){var i=[];var a=t.getBinding("rows");var o=a.getContexts(0,a.iLength);var s=t.getModel();var r=-1;jQuery.each(e,function(e,t){jQuery.each(o,function(e,i){if(t.sPath===i.sPath){r=e;return false}});if(r>-1){i.push(r)}});return i};sap.uiext.inbox.Inbox.prototype._isTaskDefinitionFilterApplied=function(){var e=this._currentViewElement();var t=e.getBinding("rows");if(this.clientUpdate){var i=false;var a=t.aFilters.concat(t.aApplicationFilters);if(a&&a.length>0){jQuery.each(a,function(e,t){if(t.sPath==="TaskDefinitionID"){i=true;return false}})}return i}return t.sFilterParams.indexOf("TaskDefinitionID")!==-1};sap.uiext.inbox.Inbox.prototype._handleRequestSent=function(e){if(this.bRefreshStartFlag){this.bRefreshStartFlag=false;var t=this._getComponent("refreshButton");t.setIcon(sap.uiext.inbox.InboxConstants.refreshImage)}};sap.uiext.inbox.Inbox.prototype._handleRequestCompleted=function(e){var t=0;var i=e.getParameters();if(i.url.indexOf(this.constants.UserInfoCollection)!==-1){return}else if(!i.success){if(this.currentView===this.constants.tableView){this._getComponent("listViewTable").getModel().updateBindings()}if(i.errorobject===undefined||i.errorobject!==undefined&&i.errorobject.statusCode===401){window.location.reload(true)}}else if(i.success){var a=this._getComponent("INBOX_FILTER_TASK_TYPE");var o=a?this._isInitialFilterAppliedforTaskType():false;if((o||!this._isTaskDefinitionFilterApplied())&&this.bRefreshTaskTypes){this.refreshTaskTypes()}if(o){if(this._setInitialFilterKeysforTaskType(a)){if(a&&a.getSelectedKeys()!==["sapUiFacetFilter_ALL"]){if(a.getSelectedKeys().length===1){var e=new sap.ui.base.Event;var s=a.getItems();e.mParameters={all:false,selectedItems:s};this.applyDrillDownFilterForTaskType(e,this)}}}}if(this.bSorted){var r=this._currentViewElement();r._originalKeys=r.getBinding("rows").aKeys;this.bSorted=false}this.bRefreshTaskTypes=true;t=this._getCurrentViewElementBindingLength();var r=this._currentViewElement();var n=r.bRowsRebinded;if(n===null||n===undefined||!r.bRowsRebinded){this._displayMessageOnRequestCompleted(t)}else{r.bRowsRebinded=false}}this.hideBusyLoader();this._updateViewElementsOnRequestCompleted(t);var l=this._getComponent("refreshButton");l.setIcon(this.constants.refreshImage);var u=e.getParameters();u.bindingLength=t;u.appliedFilter=this._getComponent("filterComboBox2").getValue();this.fireODataRequestCompleted(u);this._applySearch();if(this.currentView===this.constants.tableView&&this._isTableFiltered())this._preserveTableFilters();if(this.currentView===this.constants.tableView){this._preserveTableSort()}};sap.uiext.inbox.Inbox.prototype._applySearch=function(){var e=this._getComponent("searchField");var t=e.getValue();if(t!==""&&t!==null){e.fireSearch({query:t})}};sap.uiext.inbox.Inbox.prototype._displayMessageOnRequestCompleted=function(e){if(e<=0){this.showMessage("info",this._oBundle.getText("INBOX_MSG_FOR_NO_DATA"))}else{if(this.resetMessages===true){this.deleteMessage()}else{this.resetMessages=true}}};sap.uiext.inbox.Inbox.prototype._getCurrentViewElementBindingLength=function(){var e=this._currentViewElement();var t=e.getBinding("rows");return t.iLength};sap.uiext.inbox.Inbox.prototype._selectParentRowforElement=function(e){var t=-1;var i=jQuery.sap.byId(e);var a=i.closest(".sapUiTableCtrl>tbody>tr");if(a.length===1){t=parseInt(a.attr("data-sap-ui-rowindex"))}var o=this._getComponent("listViewTable");o.setSelectedIndex(t)};sap.uiext.inbox.Inbox.prototype._handleTaskTitleLinkPress=function(e){this.showBusyLoader();var t=this;this._selectParentRowforElement(e.getSource().getId());var i=e.getSource().getBindingContext();var a=this.getCoreModel();var o=[],s=[],r=[],n=[];s.push(a.getProperty("InstanceID",i));r.push(a.getProperty("TaskTitle",i));n.push(a.getProperty("SAP__Origin",i));if(this.getTaskExecutionURLCallBack!=""&&this.getTaskExecutionURLCallBack!=undefined&&this.getTaskExecutionURLCallBack!==null){var l=this.getTaskExecutionURLCallBack(s[0],n[0]);if(l!==null&&l.replace(/\s/g,"").length>0){o.push(l)}}else{o.push("")}var u=e.getParameter("windowEvent");if(!u.ctrlKey&&!(u.button==1)&&!u.shiftKey&&!this.bOpenTaskUIInNewTab){this.populateTaskExecutionContent({aSelectedContexts:[i],arrayURLs:o,arrayIDs:s,arrayTitles:r,aTaskSAPOrigins:n});this.hideBusyLoader()}else{this.hideBusyLoader();var d=o[0];if(d!==null&&d.replace(/\s/g,"").length>0){sap.ui.require(["sap/ui/util/openWindow"],function(e){var t=e(d);if(t){t.focus()}});e.preventDefault()}}};sap.uiext.inbox.Inbox.prototype._initFlagsByModel=function(){if(this.oModel instanceof sap.ui.model.json.JSONModel){this.typeOfModel="JSON";this.setHandleBindings(false);this._resetFlags()}else if(this.oModel instanceof sap.ui.model.odata.ODataModel||this.oModel instanceof sap.ui.model.odata.v2.ODataModel){this.typeOfModel="OData";this.attachTaskAction(this,this.defaultActionHandler);this.setHandleBindings(true)}else if(this.oModel instanceof sap.ui.model.xml.XMLModel){this.typeOfModel="xml";this.setHandleBindings(false);this._resetFlags()}};sap.uiext.inbox.Inbox.prototype._handleRequestFailed=function(e){var t=e.mParameters;if(t.message!=="Request aborted"&&t.statusCode!==undefined){this.showMessage("error",this._oBundle.getText("INBOX_MSG_NO_ODATA_SRVC"))}this.hideBusyLoader()};sap.uiext.inbox.Inbox.prototype._applySortOnView=function(e){var t=this.constants.mEntitiesToElements.taskMetadata;if(this.currentView===this.constants.tableView){this._applySortOnTableView(e,t)}else if(this.currentView===this.constants.rowRepeaterView){this._applySortOnRowRepeaterView(e,t)}};sap.uiext.inbox.Inbox.prototype._applySortOnTableView=function(e,t){var i=t.sap_inbox_list.columnsMap;var a=this._getComponent("listViewTable");var o=a.getColumns();for(var s=0,r=o.length;s<r;s++){o[s].setSorted(false)}if(e){var n,l;var u=e.sPath;if(u.indexOf(this.constants.customAttributeNavigationParam)!==-1){l=u.replace(this.constants.customAttributeNavigationParam,"");l=l.replace(/^\//,"")}else{var l=i[u]}var n=l?this._getComponent(l):undefined;if(n){var d=e.bDescending?sap.ui.table.SortOrder.Descending:sap.ui.table.SortOrder.Ascending;n.setSortOrder(d);n.setSorted(true)}}};sap.uiext.inbox.Inbox.prototype._applySortOnRowRepeaterView=function(e,t){var i=t.sap_inbox_stream.sorterMap;var a=this._getComponent("sortByFilterComboBox");if(e){var o,s;var r=e.sPath;var n=i[r];if(n){a.setSelectedItemId(this.getId()+"--"+n);this._updateRowRepeaterSortImage(e.bDescending);var n=this.constants.mRRSortMap[n];var l=this._getComponent(n).getSorter();if(l){l.bDescending=e.bDescending}}else{var u=this._getComponent("li_empty");if(!u)u=new sap.ui.core.ListItem(this.getId()+"--"+"li_empty",{text:this._oBundle.getText("")});a.insertItem(u,0);a.setSelectedItemId(this.getId()+"--"+"li_empty");var d=this._getComponent("sortImage");d.setVisible(false)}}};sap.uiext.inbox.Inbox.prototype._updateRowRepeaterSortImage=function(e){var t=this._getComponent("sortImage");t.setVisible(true);if(e){t.setIcon(this.constants.sortDescImage);t.setTooltip(this._oBundle.getText("INBOX_SORT_INDICATOR_DESC"))}else{t.setIcon(this.constants.sortAscImage);t.setTooltip(this._oBundle.getText("INBOX_SORT_INDICATOR_ASC"))}};sap.uiext.inbox.Inbox.prototype._getFirstColumnContentTemplate=function(){var e=this;var t=this._getComponent("firstColumnLayout");t=t||new sap.uiext.inbox.composite.InboxTaskTitleControl({id:e.getId()+"--"+"firstColumnLayout",categoryIconURI:{path:"InstanceID",formatter:function(t){if(t!==null){this.setTooltip(e._oBundle.getText(e.constants.taskCategoryToolTip["TASK"]));return e.constants.taskCategoryImages["TASK"]}}}});t.setTitleLink(this._createTaskLink());t.bindProperty("hasAttachments","HasAttachments",function(e){var t=e!=null?e:false;return t});t.bindProperty("hasComments","HasComments",function(e){var t=e!=null?e:false;return t});return t};sap.uiext.inbox.Inbox.prototype._createTaskCategoryImage=function(){var e=this;var t=e._getComponent("taskCategoryImg");if(!t){t=new sap.ui.core.Icon({id:e.getId()+"--"+"taskCategoryImg",decorative:false,size:"15px",enable:false}).addStyleClass("sapUiExtInboxMarginForTableColumnStyle")}if(this.clientUpdate){t.setSrc(e.constants.taskCategoryImages["TASK"])}else{t.bindProperty("src",e.constants.taskDefinitionNavigationParam,function(t){if(t!=null&&t!==""){var i=e.getCoreModel();var a=this.getBindingContext();var o=t[0];var s=i.oData[o];var r;if(s){r=s.Category;this.setVisible(true)}else{r=t.Category;this.setVisible(true)}r=r.toUpperCase();if(r=="TASK"||r=="NOTIFICATION"||r=="TODO"||r=="ALERT"){this.setTooltip(e._oBundle.getText(e.constants.taskCategoryToolTip[r]));return e.constants.taskCategoryImages[r]}}return e.constants.taskCategoryImage})}return t};sap.uiext.inbox.Inbox.prototype._createTaskLink=function(){var e=this;var t=(new sap.uiext.inbox.InboxLink).addStyleClass("sapUiExtInboxTaskTitleLink");t.addDelegate({onAfterRendering:function(){if(!this.getEnabled()){this.addStyleClass("sapUiExtInboxLnkDsbl")}}});var i=e._getCategoryMetadata().properties[0];t.bindProperty("text",i,function(e){if(this.getBindingContext()===undefined)return undefined;else return e});t.bindProperty("overdue","CompletionDeadLine",function(t){return e._isOverDue(t)});t.bindProperty("tooltip",i);t.bindProperty("enabled","Status",function(t){if(!e.getOpenCompletedTasks()&&t==="COMPLETED"){this.addStyleClass("sapUiExtInboxLnkDsbl");return false}this.removeStyleClass("sapUiExtInboxLnkDsbl");return true});t.attachPress(this,function(e,t){t._handleTaskTitleLinkPress(e)});return t};sap.uiext.inbox.Inbox.prototype._handleTaskCategoryVisibility=function(){if(!this.showTaskCategory){var e=this._getComponent("taskCategoryImg");if(e){e.setVisible(false)}}};sap.uiext.inbox.Inbox.prototype._setCommentsVisibility=function(){if(this.isCommentsEnabled){var e=this._getComponent("commentsSegBtn");e.bindProperty("visible","SupportsComments",function(e){if(e!=null&&e!==""){return e}return false});e.attachPress(this,function(e,t){t._handleActionButtonToggleinRowRepeater(e)})}};sap.uiext.inbox.Inbox.prototype._initTableView=function(){var e=this._getComponent("listViewTable");e.setModel(this.oModel);return e};sap.uiext.inbox.Inbox.prototype._initRowRepeaterView=function(){var e=this._getComponent("tasksRowRepeater");e.setModel(this.oModel);var t=this._getComponent("rrMainMatrixLayout");return e};sap.uiext.inbox.Inbox.prototype._createCustomAttributes=function(e){if(this.isCustomAttributesEnabled){if(e.length===1&&this.currentView===this.constants.tableView){if(!(this.oController instanceof sap.uiext.inbox.controller.InboxControllerAsync)){this._modifyListBindingForExpand(true,this.constants.customAttributeNavigationParam)}this._getCustomAttributeMetaData(e[0].getKey(),e[0].data("SAP__Origin"))}else{if(!(this.oController instanceof sap.uiext.inbox.controller.InboxControllerAsync)){this._modifyListBindingForExpand(false,this.constants.customAttributeNavigationParam)}this._deleteCustomAttributeColumns(null)}}};sap.uiext.inbox.Inbox.prototype._isCustomAttribute=function(e){if(e){if(e.data("ColumnType")=="CustomAttribute"){return true}}return false};sap.uiext.inbox.Inbox.prototype._selectInitialValueinDropDown=function(e){var t=this._getComponent("filterComboBox2");var i=e?e.getFilter():undefined;var a=i?i.key:"li_openTasks";a=this.getId()+"--"+a;if(t.getSelectedItemId()!==a){t.setSelectedItemId(a);var o=sap.ui.getCore().byId(a);t.fireChange({oSource:t,newValue:o.getText(),selectedItem:o})}};sap.uiext.inbox.Inbox.prototype._addFilterToFilterMetadata=function(e,t){if(jQuery.isArray(e)){t=t.concat(e)}else{t.push(e)}return t};sap.uiext.inbox.Inbox.prototype._selectFilterValuesinFacetFilterView=function(e,t,i){var a=e.getFilterUIKeys();var o=sap.ui.getCore().byId(this.getId()+"--"+"filterFacet");var s=sap.ui.getCore().byId(this.getId()+"--"+"INBOX_FILTER_PRIORITY");var r=sap.ui.getCore().byId(this.getId()+"--"+"INBOX_FILTER_STATUS");var n=sap.ui.getCore().byId(this.getId()+"--"+"INBOX_FILTER_CREATION_DATE");var l=sap.ui.getCore().byId(this.getId()+"--"+"INBOX_FILTER_TASK_TYPE");var u=sap.ui.getCore().byId(this.getId()+"--"+"INBOX_FILTER_DUE_DATETIME");var d=[];if(l&&o.indexOfList(l)!==-1&&a.TaskType&&a.TaskType.length>0){l.data("initialFilterKeysToSelect",a.TaskType);if(t.TaskType!==undefined&&t.TaskType.length>0){d.push(t.TaskType)}}else{this.clearFiltersForTaskType()}if(s&&o.indexOfList(s)!==-1&&a.Priority&&a.Priority.length>0){s.setSelectedKeys(a.Priority);if(t.Priority!==undefined&&t.Priority.length>0){d.push(t.Priority)}}else{this.clearFiltersForPriority()}if(r&&o.indexOfList(r)!==-1&&a.Status&&a.Status.length>0){r.setSelectedKeys(a.Status);if(t.Status!==undefined&&t.Status.length>0){if(i.sPath==="Status"&&i.sOperator==="NE"){i=undefined;delete this.filtersToApply.dropDownFilter}d.push(t.Status)}}else{this.clearFiltersForStatus()}if(n&&o.indexOfList(n)!==-1&&a.StartDate&&a.StartDate.length>0){n.setSelectedKeys(a.StartDate);if(t.StartDate!==undefined){d.push(t.StartDate)}}else{this.clearFiltersForDateTime()}if(u&&o.indexOfList(u)!==-1&&a.DueDate&&a.DueDate.length>0){u.setSelectedKeys(a.DueDate);if(t.DueDate!==undefined){d.push(t.DueDate)}}else{this.clearFiltersForDueDate()}var p=[];for(var c=0;c<d.length;c++){var g=d[c];p=this._addFilterToFilterMetadata(g,p)}if(i){p=this._addFilterToFilterMetadata(i,p);this.filtersToApply.dropDownFilter=i}return p};sap.uiext.inbox.Inbox.prototype._setInitialFilterKeysforTaskType=function(e){if(e.getItems().length>0&&e.data("initialFilterKeysToSelect")!=null){e.setSelectedKeys(e.data("initialFilterKeysToSelect"));e.data(null);return true}else{return false}};sap.uiext.inbox.Inbox.prototype._isInitialFilterAppliedforTaskType=function(){var e=this._getComponent("INBOX_FILTER_TASK_TYPE");return e?e.data("initialFilterKeysToSelect")!=null?true:false:false};sap.uiext.inbox.Inbox.prototype._getTaskStatus=function(e,t){if(e||t){var i=this.oTcmMetadata.serviceSupportsFilterOption;if(i&&t){return t}if(e){var a=sap.uiext.inbox.InboxConstants.statusMap[e];if(a){return this._oBundle.getText(a)}return e}}return""};sap.uiext.inbox.Inbox.prototype._manageVisibilityOfSettingsButton=function(e){if(e!=null){var t=false;if(this.getSubstitutionEnabled()){t=true}e.setVisible(t)}};sap.uiext.inbox.Inbox.prototype._handleRowRepeaterPaginatorClick=function(e){var t=e.getParameter("targetPage");var i=e.getParameter("srcPage");var a=this._getComponent("tasksRowRepeater");if(a){a.gotoPage(t)}};sap.uiext.inbox.Inbox.prototype._getCustomAttributeContentforRowRepeater=function(e,t,i,a,o){var s=this;if(this.currentView==="sap_inbox_stream"){if(e){var i=s.getModel().getProperty("TaskDefinitionID",e.getParent().getBindingContext());var a=s.getModel().getProperty("InstanceID",e.getParent().getBindingContext());var o=s.getModel().getProperty("SAP__Origin",e.getParent().getBindingContext())}var r=s.constants;var n=r.oTaskInstanceCustomAttributeValuesMap;var l=n[a];var u=r.oTaskDefinitionCustomAttributesMap;var d=u[i];if(l&&jQuery.isEmptyObject(l)||d&&d.length==0){this._addActionContentinRowRepeater(t,"customAttributes",this._createNoDataLabel(this._oBundle.getText("INBOX_MSG_NO_TASK_DETAILS")));return}if(!jQuery.isEmptyObject(l)&&d&&d.length>0){s._displayCustomAttributes(i,a,t)}else if(l&&!d){s._getCustomAttributeMetaData(i,o,t,a)}else if(!l&&d){s._getCustomAttributeData(a,o,t,i)}else{if(s.bUseBatch){var p,c;var g=r.TaskDefinitionCollection;var f=r.TaskCollection;p=r.forwardSlash+g.entityName+"("+g.properties.taskDefnID+"='"+i+"',"+r.sapOrigin+"='"+o+"')"+r.forwardSlash+g.navParam.customAttrDefn;c=r.forwardSlash+f.entityName+"("+f.properties.instanceID+"='"+a+"',"+r.sapOrigin+"='"+o+"')"+r.forwardSlash+f.navParam.customAttrValues;var h=jQuery.proxy(function(e,o){this._processCustomAtrributesBatchResponse(e,o,i,a,t)},s);s.oDataManager.fireBatchRequest({aPaths:[p,c],sMethod:"GET",sBatchGroupId:"customAttributesBatch",numberOfRequests:2,fnSuccess:h,fnError:function(e){s.showMessage("error",s._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ATTRIBUTES_FAILS"))}})}else{s._getCustomAttributeMetaData(i,o,t,a);s._getCustomAttributeData(a,o,t,i)}}}};sap.uiext.inbox.Inbox.prototype._processCustomAtrributesBatchResponse=function(e,t,i,a,o){var s=e.__batchResponses;var r=[];var n={};var l=s[0].data.results;for(var u=0;u<l.length;u++){var d={};d.Name=l[u].Name;d.Type=l[u].Type;d.Label=l[u].Label;r.push(d)}this.constants.oTaskDefinitionCustomAttributesMap[i]=r;var p=s[1].data.results;for(var u=0;u<p.length;u++){n[p[u].Name]=p[u].Value}this.constants.oTaskInstanceCustomAttributeValuesMap[a]=n;this._displayCustomAttributes(i,a,o)};sap.uiext.inbox.Inbox.prototype._getCommentsContentforRowRepeater=function(e,t){var i=this.getModel();var a=e.getParent().getBindingContext();var o=i.getProperty("InstanceID",a);var s=i.getProperty("SAP__Origin",a);var r=i.getProperty("Status",a).toUpperCase();var n=false;if(r==="COMPLETED"){var n=true}var l=this._getComponent("comments-"+t);if(!l){var l=new sap.uiext.inbox.composite.InboxTaskComments(this.getId()+"--"+"comments-"+t,{showFeeder:!n});l.attachCommentSubmit(this,this.handleCommentAdded);if(this.loggedInUserName){l.setFeederThumbnailSrc(this.inboxUtils.getUserMediaResourceURL(this.bpmSvcUrl,s,this.loggedInUserName))}}l.data("instanceID",o);l.data("SapOrigin",s);l.setShowHeader(false);l.showBusy(true);var u=new sap.ui.commons.layout.MatrixLayout({layoutFixed:true,width:"100%"});var d=new sap.ui.commons.layout.MatrixLayoutCell;d.addContent(l);d.addStyleClass("sapUIExtInboxCommentsBorder");u.createRow(d);this._addActionContentinRowRepeater(t,"comments",u);this._getComments(o,s,t)};sap.uiext.inbox.Inbox.prototype._handleActionButtonToggleinRowRepeater=function(e){var t=e.getSource(),i=e.getParameters().id;var a="tasksRowRepeater-";var o=i.indexOf(a)+a.length;var s=i.substring(o,i.length);var r=this._removeParentID(i).replace("-"+this.getId()+"--"+a+s,"");if(t.getPressed()){this.inboxUtils.deSelectOtherActionButtonsinStreamView(t);t.setTooltip(this._oBundle.getText(this.constants.mTooltipforActionButtonsinRR.hide[r]));var n,l;if(r==="customAttributesSegBtn"){t.setIcon("");t.setIcon(this.constants.iconPool.getIconURI("collapse"));n=this._getCustomAttributeContentforRowRepeater(t,s);l="customAttributes"}else if(r==="commentsSegBtn"){n=this._getCommentsContentforRowRepeater(t,s)}else if(r==="attachmentsSegBtn"){this._getAttachments(t,s)}this.data("previousSelection",i)}else{if(r==="customAttributesSegBtn"){t.setIcon("");t.setIcon(this.constants.iconPool.getIconURI("expand"))}t.setTooltip(this._oBundle.getText(this.constants.mTooltipforActionButtonsinRR.show[r]));this._removeActionContentinRowRepeater(s)}};sap.uiext.inbox.Inbox.prototype.handleCommentAdded=function(e,t){var i=e.getSource();var a=t.getCoreModel();var o=decodeURIComponent(this.data("instanceID"));var s=e.getParameter("text");var r=this.data("SapOrigin");var n={};n.InstanceID=o;n.SAP__Origin=r;n.Text=s;t.oDataManager.callFunctionImport(t.constants.addCommentFunctionImport,{method:"POST",urlParameters:n,success:function(e,a){var o=e.CreatedByName;var s=e.CreatedBy;var r=e.SAP__Origin;var n=t.loggedInUserName;o?i.setFeederSender(o):i.setFeederSender("");var l=new sap.uiext.inbox.composite.InboxComment(i.getId()+"-new-"+i.getComments().length,{text:e.Text,timestamp:t.tooltipFormatForDateTime(e.CreatedAt),createdBy:n,sapOrigin:r,sender:o,thumbnailSrc:t.inboxUtils.getUserMediaResourceURL(t.bpmSvcUrl,r,s)});i.addComment(l);t.showMessage("success",t._oBundle.getText("INBOX_MSG_COMMENT_ADD_SUCCESS"))},error:function(e){t.showMessage("error",t._oBundle.getText("INBOX_MSG_COMMENT_ADD_ERROR"))}})};sap.uiext.inbox.Inbox.prototype._getComments=function(e,t,i){var a=this.constants;var o=this;var s=a.TaskCollection;var r=a.forwardSlash+s.entityName+"("+s.properties.instanceID+"='"+e+"',"+a.sapOrigin+"='"+t+"')"+a.forwardSlash+s.navParam.comments;var n=this.bpmSvcUrl+r;var l=this.getCoreModel(),u=[];var d={async:true,requestUri:n,method:"GET",headers:{Accept:a.acceptHeaderforJSON,"x-csrf-token":l.oHeaders["x-csrf-token"]}};OData.request(d,function(e,t){u=e.results;if(u){o._displayComments(u,i)}},function(e){var t=o._getComponent("comments-"+i);t.showBusy(false);this.showMessage("error",this._oBundle.getText("INBOX_MSG_FETCH_COMMENTS_FAILS"))})};sap.uiext.inbox.Inbox.prototype._displayComments=function(e,t){var i=new sap.ui.model.json.JSONModel;i.setData(e);var a=this._getComponent("comments-"+t);a.setModel(i);var o=new sap.uiext.inbox.composite.InboxComment({sender:"{CreatedByName}",text:"{Text}",createdBy:"{CreatedBy}",sapOrigin:"{SAP__Origin}"});sap.uiext.inbox.composite.InboxComment.bpmSvcUrl=this.bpmSvcUrl;o.bindProperty("timestamp","CreatedAt",this.tooltipFormatForDateTime);a.showBusy(false);a.setShowHeader(true);a.bindAggregation("comments",{path:"/",template:o})};sap.uiext.inbox.Inbox.prototype._removeActionContentinRowRepeater=function(e){var t=this.getId()+"--"+"rrMainMatrixLayout"+"-"+this.getId()+"--"+"tasksRowRepeater-";var i=sap.ui.getCore().byId(t+e);if(i){var a=this.getId()+"--"+"lastRowOfRowRepeater-"+e;var o=sap.ui.getCore().byId(a);if(o){var s=this.getId()+"--"+"lastRowCell-"+e;var r=sap.ui.getCore().byId(s);if(r){r.removeAllContent()}i.removeRow(a)}}return i};sap.uiext.inbox.Inbox.prototype._addActionContentinRowRepeater=function(e,t,i){var a=this._removeActionContentinRowRepeater(e);if(a){var o=this.getId()+"--"+"lastRowOfRowRepeater-"+e;var s=sap.ui.getCore().byId(o);if(!s){s=new sap.ui.commons.layout.MatrixLayoutRow({id:o})}var r=this.getId()+"--"+"lastRowCell-"+e;var n=sap.ui.getCore().byId(r);if(!n){n=new sap.ui.commons.layout.MatrixLayoutCell({id:r,vAlign:sap.ui.commons.layout.VAlign.Middle,colSpan:2})}n.addStyleClass("sapUIExtInboxLastRowPadding");n.addContent(i);s.addCell(n);a.addRow(s)}};sap.uiext.inbox.Inbox.prototype._searchText=function(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>=0?true:false};sap.uiext.inbox.Inbox.prototype._getValuePresent=function(e,t,i,a){var o,s,r;if(!t){return false}if(t.__list instanceof Array){s=t.__list[0]}else{s=t.__ref}r=e[s];if(s){var n=r?r[i]:"";if(n){return this._searchText(n,a)}}return false};sap.uiext.inbox.Inbox.prototype._searchUsers=function(e){var t=this;var i=this.oTCMModel.getFunctionImportHandler();var a=t.getId()+"--";var o=sap.ui.getCore().byId(a+"userTable");i.setServiceURL(this.bpmSvcUrl);i.setHeaders({Accept:this.constants.acceptHeaderforJSON,"x-csrf-token":this.oModel.oHeaders["x-csrf-token"]});var s=e.sSearchTerm;var r=e.iMaxResults;var n=e.sSAPOrigin;var l;this.oPendingSearchRequest=i.callSearchUsers({SearchPattern:jQuery.sap.encodeURL(s),MaxResults:r,SAP__Origin:n},function(e,i){l=e;t.displaySearchResults(l,r,o);o.setBusy(false);t.oPendingSearchRequest=undefined},function(e){o.setBusy(true);if(e.response!==undefined){t.showMessage("error",t._oBundle.getText("INBOX_MSG_NO_USER_FOUND",[s]));o.setBusy(false)}t.oPendingSearchRequest=undefined})};sap.uiext.inbox.Inbox.prototype.displaySearchResults=function(e,t,i){if(e){var a=new sap.ui.model.json.JSONModel;a.setData(e);i.clearSelection();i.setModel(a);i.bindRows("/results");if(e.results.length>0){i.setSelectedIndex(0);if(e.results.length===t){this.showMessage("warning",this._oBundle.getText("INBOX_TOP_MAX_USER",[t]))}}else if(e.results.length===0){this.showMessage("error",this._oBundle.getText("INBOX_MSG_FOR_NO_DATA"))}}};sap.uiext.inbox.Inbox.prototype._handleForwardButtonVisibilityOnRowSelection=function(e,t){var i=this._getComponent("forwardActionButton");var a=this._isCompletedTasksSelected();if(this.isForwardActionEnabled&&!a&&!jQuery.isEmptyObject(t.aSupportsForward)&&jQuery.inArray(false,t.aSupportsForward)===-1){i.setEnabled(true).data("SAP__Origin",e)}else{i.setEnabled(false)}};sap.uiext.inbox.Inbox.prototype.setConfiguration=function(e){this.oConfiguration=e};sap.uiext.inbox.Inbox.prototype._handleSearchUsersClickforForward=function(e){var t=e.oParentSource;var i=t.data("SAP__Origin");if(!i){var a=t.getBindingContext();i=this.getCoreModel().getProperty("SAP__Origin",a)}if(typeof i==="object"&&i.length>1){i=i[0]}var o=this.oConfiguration?this.oConfiguration.getSearchUersMaxLimit():100;if(this.oPendingSearchRequest!==undefined){this.oPendingSearchRequest.abort()}return this._searchUsers({sSearchTerm:jQuery.trim(this._getComponent("oSearch").getValue()),iMaxResults:o,sSAPOrigin:i})};sap.uiext.inbox.Inbox.prototype._bindTaskActionsProperties=function(e,t){e.setVisible(true);e.bindProperty("enabled",t)};sap.uiext.inbox.Inbox.prototype._bindTaskActions=function(e){var t=this._getComponent("claimActionButton");var i=this._getComponent("releaseActionButton");var a=this._getComponent("openActionButton");var o=this._getComponent("forwardActionButton");var s=this._getComponent("rrViewClaimAction");var r=this._getComponent("rrViewReleaseAction");var n=this._getComponent("rrViewForwardAction");if(this.typeOfModel==="OData"){var l=this.constants.ENTITY_NAME_TASK_COLLECTION;if(this.oTcmMetadata._isPropertyAvailable(l,"SupportsClaim")){this._bindTaskActionsProperties(t,"SupportsClaim");this._bindTaskActionsProperties(s,"SupportsClaim")}if(this.oTcmMetadata._isPropertyAvailable(l,"SupportsRelease")){this._bindTaskActionsProperties(i,"SupportsRelease");this._bindTaskActionsProperties(r,"SupportsRelease");this._setVisibility("dotSeparator",true)}if(this.oTcmMetadata._isPropertyAvailable(l,"SupportsForward")&&this.isForwardActionEnabled){this._bindTaskActionsProperties(o,"SupportsForward");this._bindTaskActionsProperties(n,"SupportsForward");this._setVisibility("dotSeparator2",true)}else if(!this.isForwardActionEnabled){var u=this._getComponent("taskActionMatrixLayout");var d=u.getRows()[0];var p=d.getCells()[3];var c=d.getCells()[4];d.removeCell(p);d.removeCell(c)}}else{this.showAllActions();s.bindProperty("enabled","SupportsClaim");r.bindProperty("enabled","SupportsRelease");if(this.isForwardActionEnabled){n.bindProperty("enabled","SupportsForward")}}};sap.uiext.inbox.Inbox.prototype._refreshLocal=function(e,t,i){if(this.currentView===this.constants.tableView){this._refreshLocalTableView(e,t,i)}else{this._refreshLocalRowRepeaterView(e,t,i)}var a=new sap.ui.base.Event;a.mParameters={url:"/TaskCollection"};this._handleRequestCompleted(a)};sap.uiext.inbox.Inbox.prototype._refreshLocalTableView=function(e,t,i){var a=this._currentViewElement();var o=a.getModel();var s=this._getTableIndicesByContext(e,a),r=this;if(e&&e.length>0){jQuery.each(e,function(e,t){r._deleteTaskEntry(t,o,s[e],a,i)});a.rerender()}if(t){this._changeTaskData(t,o,a)}};sap.uiext.inbox.Inbox.prototype._refreshLocalRowRepeaterView=function(e,t,i){var a=this._currentViewElement();var o=a.getModel();if(e&&e.length>0){var s=a.indexOfRow(e[0].orow);if(s>-1){this._deleteTaskEntry(e[0].context,o,s,a,i);a.updateRows(false)}}if(t){this._changeTaskData(t,o,a)}};sap.uiext.inbox.Inbox.prototype._deleteTaskEntry=function(e,t,i,a,o){if(!o){t.deleteCreatedEntry(e)}var s=a.mBindingInfos["rows"].binding;if(s){s.aKeys.splice(jQuery.inArray(e.getPath().substr(1),s.aKeys),1);s.iLength=s.iLength-1}};sap.uiext.inbox.Inbox.prototype._changeTaskData=function(e,t,i){var a=t.oData,o=this;jQuery.each(e,function(e,t){var s=t.context;var r=t.keys;var n=s.getPath().substr(1);var l=a[n];if(o._currentView()===o.constants.tableView){i.rerender()}jQuery.each(r,function(e,t){l[t.key]=t.value;if(l.Status==="RESERVED"){l.SupportsClaim=false;l.SupportsRelease=true}else if(l.Status==="READY"){l.SupportsClaim=true;l.SupportsRelease=false}});if(o._currentView()===o.constants.rowRepeaterView){i.updateRows(false)}})};sap.uiext.inbox.Inbox.prototype._getAppliedStatusFilterValues=function(e,t,i){var i=this._currentViewElement(),a=this._currentViewElement().getBinding("rows");var o=a.aFilters.concat(a.aApplicationFilters);if(a&&o&&o.length>0){var s=[];if(this.inboxUtils._hasFilter(o,"Status","EQ","READY")){s.push("READY")}if(this.inboxUtils._hasFilter(o,"Status","EQ","RESERVED")){s.push("RESERVED")}if(this.inboxUtils._hasFilter(o,"Status","EQ","IN_PROGRESS")){s.push("IN_PROGRESS")}return s}};sap.uiext.inbox.Inbox.prototype._handleErrorOnBatchRequests=function(e,t,i){this.hideBusyLoader();this.showMessage("error",this._oBundle.getText("INBOX_MSG_ACTION_FAILED_MULTIPLE_TASKS",[t,i]))};sap.uiext.inbox.Inbox.prototype._handleErrorOnActionFailed=function(e,t,i){this.hideBusyLoader();this.showMessage("error",this._oBundle.getText("INBOX_MSG_ACTION_FAILED",[t,i]))};sap.uiext.inbox.Inbox.prototype.storeFilterState=function(e){var t=this;var i=this.bShowNoDueDateFilter?this.constants.filterKeysMetaMapWithNoDueDate:this.constants.filterKeysMetaMap;var a=i[e];jQuery.each(a,function(i,a){if(t.filtersToApply[a]!=undefined){var o=t.filtersToApply[a];if(t.filterState[e]===undefined){t.filterState[e]={};t.filterState[e].filters={}}t.filterState[e].filters[a]=o}})};sap.uiext.inbox.Inbox.prototype.retrieveFilterState=function(e){var t=this;if(t.filterState[e]){var i=t.filterState[e].filters;jQuery.each(i,function(e,a){t.filtersToApply[e]=a;delete i[e]});delete t.filterState[e]}};sap.uiext.inbox.Inbox.prototype._toggleCustomAttributesVisibilityActionEvent=function(e,t){var i=e.getSource();var a=i.getPressed();t._toggleCustomAttributesIcon(i,a);i.setTooltip(t._oBundle.getText(a?"INBOX_HIDE_ALL_CUSTOM_ATTRIBUTES":"INBOX_SHOW_ALL_CUSTOM_ATTRIBUTES"));t.bCustomAttributesVisible=a;a?t._addCustomAttributes(t):t._removeCustomAttributes()};sap.uiext.inbox.Inbox.prototype._addCustomAttributes=function(e){var t=e._getComponent("tasksRowRepeater");var i=t.getRows();var a=e.getId();jQuery.each(i,function(t,i){e._updateActionButtonsContent(true,t);var a=e.getModel().getProperty(e.constants.TaskCollection.properties.instanceID,i.getBindingContext());var o=e.getModel().getProperty(e.constants.sapOrigin,i.getBindingContext());if(!(a&&o))return false;var s=e.getModel().getProperty(e.constants.TaskDefinitionCollection.properties.taskDefnID,i.getBindingContext());e._getCustomAttributeContentforRowRepeater(null,t,s,a,o)})};sap.uiext.inbox.Inbox.prototype._removeCustomAttributes=function(){var e=this._getComponent("tasksRowRepeater").getRows();var t=this;jQuery.each(e,function(e,i){t._removeActionContentinRowRepeater(e);t._updateActionButtonsContent(false,e)})};sap.uiext.inbox.Inbox.prototype._updateActionButtonsContent=function(e,t){var i=sap.ui.getCore().byId(this.getId()+"--customAttributesSegBtn-"+this.getId()+"--tasksRowRepeater-"+t);this.inboxUtils.deSelectOtherActionButtonsinStreamView(i);i.setPressed(e);i.setIcon("");i.setIcon(this.constants.iconPool.getIconURI(e?"collapse":"expand"));i.setTooltip(this._oBundle.getText(e?"INBOX_HIDE_CUSTOM_ATTRIBUTES":"INBOX_SHOW_CUSTOM_ATTRIBUTES"))};sap.uiext.inbox.Inbox.prototype._toggleCustomAttributesIcon=function(e,t){e.setIcon(sap.ui.core.IconPool.getIconURI(""));e.setIcon(this.constants.iconPool.getIconURI(t?"collapse":"expand"))};sap.uiext.inbox.Inbox.prototype._createNoDataLabel=function(e){var t=new sap.ui.commons.Label({text:e,tooltip:e,width:"100%",textAlign:sap.ui.core.TextAlign.Center});t.addStyleClass("sapUIExtInboxCustomAttributesBorder");return t};sap.uiext.inbox.Inbox.prototype.setOpenTaskUIInNewTab=function(e){this.bOpenTaskUIInNewTab=e};sap.uiext.inbox.Inbox.prototype._applySortOnTableColumn=function(e,t,i,a){this._resetStateBeforeSearch();var o=this.getCoreModel();var s=this._currentViewElement();var r=s._originalKeys;if(this._isTableFiltered(null)){r=this._getCurrentBindingKeysForTableColumnFilters(o._original_data,s._originalKeys,null)}var n=new Array;for(var l=0;l<r.length;l++){var u=o._original_data[r[l]];var d=u.CustomAttributeData.__list;var p=null;for(var c=0;c<d.length;c++){var g=d[c];if(g.indexOf(t)>0){p=o._original_data[g].Value;break}}var f={key:r[l],type:i,dir:a,val:p};n.push(f)}var h=function(e,t){var i={parse:function(e){if(!e||e.length==0)return NaN;var t=e.split(":");if(t.length!=3)return NaN;var i=parseInt(t[0]);if(isNaN(i))return NaN;var a=parseInt(t[1]);if(isNaN(a))return NaN;var o=parseInt(t[2]);var s=o.indexOf(".");if(s>=0)o=o.substring(0,s);var r=parseInt(o);if(isNaN(r))return NaN;return i*60*60+a*60+r}};var a={parse:function(e){var t=0;var i=0;var a=0;var o=new String(e);var s=o.indexOf("T");if(s>=0){o=o.substring(s+1,o.length);var r=o.indexOf("H");var n=o.indexOf("M");var l=o.indexOf("S");if(r>=0){t=o.substring(0,r);if(isNaN(t))t=0}if(n>=0){i=o.substring(r+1,n);if(isNaN(i))i=0}if(l>=0){a=o.substring(n+1,l);if(isNaN(a))a=0}}return t*60*60+i*60+a}};var o=e.type.toLowerCase();var s=e.dir.toLowerCase().indexOf("ascending")>=0?1:-1;if(o.indexOf("boolean")>=0){var r=(e.val+"").toLowerCase()=="true"?true:false;var n=(t.val+"").toLowerCase()=="true"?true:false;if(r==n)return 0;return s*(r?-1:1)}else if(o.indexOf("date")>=0||o.indexOf("time")>=0){var l=Date.parse(e.val);var u=Date.parse(t.val);if(isNaN(l)){l=i.parse(e.val)}if(isNaN(l)){l=a.parse(e.val)}if(isNaN(u)){u=i.parse(t.val)}if(isNaN(u)){u=a.parse(t.val)}if(l==u)return 0;return s*(l<u?-1:1)}else if(o.indexOf("decimal")>=0||o.indexOf("float")>=0||o.indexOf("integer")>=0||o.indexOf("long")>=0){var d=0;var p=0;if(isFinite(e.val)){d=Number(e.val);if(isNaN(d))d=0}if(isFinite(t.val)){p=Number(t.val);if(isNaN(p))p=0}if(d.valueOf()==p.valueOf())return 0;return s*(d.valueOf()<p.valueOf()?-1:1)}return s*(e.val+"").localeCompare(t.val+"")};n.sort(h);var I=new Array;for(var l=0;l<n.length;l++){I[I.length]=n[l].key}this._renderTableAfterSort(e,a,I,o._original_data,o)};sap.uiext.inbox.Inbox.prototype._applyFilterOnTableColumns=function(e,t){var i=t.toLowerCase();var a=this.getCoreModel();var o=this._currentViewElement();var s=[];var r=[];this._resetStateBeforeSearch();var n=this._getBindingKeysForTableColumnFilter(e,a._original_data,o._originalKeys,i);s.push(n);if(this._isTableFiltered(e)){s.push(this._getCurrentBindingKeysForTableColumnFilters(a._original_data,o._originalKeys,e))}var l=this._getLocalSearchText();if(l){s.push(this._getBindingKeysOnLocalSearch(l,a._original_data,o._originalKeys))}r=this.inboxUtils._getUniqueArray(s);e.setFiltered(!!i);e.setFilterValue(i);this._renderTableAfterSearch(r,a._original_data,a)};sap.uiext.inbox.Inbox.prototype._getBindingKeysForTableColumnFilter=function(e,t,i,a){var o=[];var s=e.getProperty("filterProperty");for(var r in i){var n=false;var l,u;for(var d in t){if(i[r]==d){var p=t[d];if(e.data("ColumnType")=="StandardAttribute"){for(var c=0;c<this._getCategoryMetadata().properties.length;c++){u=this._getCategoryMetadata().properties[c];if(u===s){var l=p[u];if(!l&&u==="TaskTitle"){l=this._oBundle.getText("INBOX_TASK_TITLE_NOTAVAILABLE_MSG")}if(l!=null){if(jQuery.type(l)==="date"){l=this.inboxUtils.dateTimeFormat(l)}l=l.toLowerCase();if(l.indexOf(a)>=0){n=true;break}}}}}else if(e.data("ColumnType")=="CustomAttribute"){var g=p.CustomAttributeData.__list;if(g!==undefined){for(var f=0;f<g.length;f++){var h=g[f];if(s&&h.indexOf(s)>0){var l=t[h].Value;if(l!=null||l!=undefined){l=l.toLowerCase();if(l.indexOf(a)>=0){n=true;break}}}}}}if(n){var I=d;o.push(I)}}}}return o};sap.uiext.inbox.Inbox.prototype._preserveTableFilters=function(){var e=this.getCoreModel();var t,i;var i=this._currentViewElement();this._resetStateBeforeSearch();var a=this._getCurrentBindingKeysForTableColumnFilters(e._original_data,i._originalKeys);if(a)this._renderTableAfterSearch(a,e._original_data,e)};sap.uiext.inbox.Inbox.prototype._preserveTableSort=function(){var e=this._getComponent("listViewTable");var t=e.getColumns();for(var i=0;i<t.length;i++){var a=t[i];if(a.getSorted()){if(this._isCustomAttribute(a)){a.sort(a.getSortOrder()===sap.ui.table.SortOrder.Descending,false)}}}};sap.uiext.inbox.Inbox.prototype._renderTableAfterSort=function(e,t,i,a,o){var s=this._currentViewElement();var r=s.mBindingInfos["rows"];var n={};for(var l in i){n[i[l]]=a[i[l]]}o.oData=n;if(r&&r.binding){r.binding.iLength=i.length;r.binding.aKeys=i;this.currentView===this.constants.tableView?s.rerender():s.updateRows(false)}var u=s.getBinding("rows").iLength;if(u<=0)this.showMessage("info",this._oBundle.getText("INBOX_MSG_FOR_NO_DATA"));else this.deleteMessage();var d=e.getParent();var p=d.getColumns();for(var l=0,c=p.length;l<c;l++){if(p[l]!==e){p[l].setProperty("sorted",false,true);p[l].setProperty("sortOrder",sap.ui.table.SortOrder.Ascending,true);p[l]._renderSortIcon();delete p[l]._oSorter}}e.setProperty("sorted",true,true);e.setProperty("sortOrder",t,true);e._oSorter=new sap.ui.model.Sorter(e.getSortProperty(),e.getSortOrder()===sap.ui.table.SortOrder.Descending);if(e._afterSort){e._afterSort()}e._renderSortIcon()};sap.uiext.inbox.Inbox.prototype._renderTableAfterSearch=function(e,t,i){var a=this._currentViewElement();var o=a.mBindingInfos["rows"];var s={};for(var r in e){s[e[r]]=t[e[r]]}i.oData=s;if(o&&o.binding){o.binding.iLength=e.length;o.binding.aKeys=e;this.currentView===this.constants.tableView?a.rerender():a.updateRows(false);a._updateBindingContexts(undefined,undefined,"change")}var n=a.getBinding("rows").iLength;if(n<=0)this.showMessage("info",this._oBundle.getText("INBOX_MSG_FOR_NO_DATA"));else this.deleteMessage();this.fireODataRequestCompleted({bindingLength:n,appliedFilter:this._oBundle.getText("INBOX_SEARCH_RESULTS_TEXT")})};sap.uiext.inbox.Inbox.prototype._getCurrentBindingKeysForTableColumnFilters=function(e,t,i){var a=this._getComponent("listViewTable");var o=a.getColumns();var s=[];var r,n,l;if(i){var u=i.getId();for(l=0;l<o.length;l++){var r=o[l];if(r.getFiltered()&&r.getId()!==u){var n=r.getFilterValue();s.push(this._getBindingKeysForTableColumnFilter(r,e,t,n))}}}else{for(l=0;l<o.length;l++){r=o[l];if(r.getFiltered()){n=r.getFilterValue();s.push(this._getBindingKeysForTableColumnFilter(r,e,t,n))}}}return this.inboxUtils._getUniqueArray(s)};sap.uiext.inbox.Inbox.prototype._isTableFiltered=function(e){var t=this._getComponent("listViewTable");var i=t.getColumns();if(e){var a=e.getId();jQuery.each(i,function(e,t){if(t.getId()===a){i.splice(e,1);return false}})}for(var o=0;o<i.length;o++){var s=i[o];if(s.getFiltered()){return true}}return false};sap.uiext.inbox.Inbox.prototype._getLocalSearchText=function(){var e=this._getComponent("searchField");var t=e.getValue();if(t!==""&&t!==null){t=t.toLowerCase();return t}return};sap.uiext.inbox.Inbox.prototype._removeTableFilters=function(){var e=this._getComponent("listViewTable");var t=e.getColumns();jQuery.each(t,function(e,t){if(t.getFiltered()){t.setFiltered(false);t.setFilterValue("")}})};sap.uiext.inbox.Inbox.prototype._resetStateBeforeSearch=function(){var e=this.getCoreModel();var t=this._currentViewElement();if(this.modelRefreshed){e._original_data=e.oData;this.modelRefreshed=false}if(!t._originalKeys){t._originalKeys=t.getBinding("rows").aKeys}};sap.uiext.inbox.Inbox.prototype._handleCustomActionClick=function(e,t){var i=e.getSource().data("commentsMandatory");var a=i==true?this.oCustomActionToolPopupCommentsMand:this.oCustomActionToolPopup;if(a&&a.getOpener()===e.getSource().getId()){var o=a.getContent()[0];if(o){o.setValue("");if(i==true){sap.ui.getCore().byId(this.getId()+"--"+"toolPopupButton-CommentsMand").setEnabled(false)}}a.isOpen()?a.close():a.open(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom)}else this._openCustomActionToolPopup(e.getSource(),t)};sap.uiext.inbox.Inbox.prototype._openCustomActionToolPopup=function(e,t){var i=e.data("key"),a=e.data("commentsMandatory"),o=this.getId()+"--"+"toolPopupButton",s=this.getId()+"--"+"addCommentsinCustomActionPopup";if(a==true){var r=this.oCore.byId(s+"-CommentsMand");var n=this.oCore.byId(o+"-CommentsMand")}else{var r=this.oCore.byId(s);var l=this.oCore.byId(o)}if(a==false){if(!l){l=new sap.ui.commons.Button(o,{press:jQuery.proxy(function(e){var t=r.getValue();var i=sap.ui.getCore().byId(this.oCustomActionToolPopup.getOpener());this._executeCustomAction(i,jQuery.sap._sanitizeHTML(t));this.oCustomActionToolPopup.close()},this)})}if(!this.oCustomActionToolPopup){r=new sap.ui.commons.TextArea(s).setWidth("300px");this.oCustomActionToolPopup=new sap.ui.ux3.ToolPopup(this.getId()+"--"+"customActionToolPopup",{inverted:false,content:[r],buttons:[l],title:this._oBundle.getText("INBOX_ADD_COMMENT"),autoClose:true})}this._resetCustomActionToolPopupContent(r,l,e.data("text"),i);this.oCustomActionToolPopup.setOpener(e);if(!this.oCustomActionToolPopup.isOpen()){this.oCustomActionToolPopup.open(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom)}}else if(a==true){if(!n){n=new sap.ui.commons.Button(o+"-CommentsMand",{press:jQuery.proxy(function(e){var t=r.getValue();var i=sap.ui.getCore().byId(this.oCustomActionToolPopupCommentsMand.getOpener());this._executeCustomAction(i,jQuery.sap._sanitizeHTML(t));this.oCustomActionToolPopupCommentsMand.close()},this)})}if(!this.oCustomActionToolPopupCommentsMand){r=new sap.ui.commons.TextArea(s+"-CommentsMand",{liveChange:function(e){var t=e.getSource().getLiveValue();t.trim().length>0?n.setEnabled(true):n.setEnabled(false)}}).setWidth("300px");this.oCustomActionToolPopupCommentsMand=new sap.ui.ux3.ToolPopup(this.getId()+"--"+"customActionToolPopup-CommentsMand",{inverted:false,content:[r],buttons:[n],title:this._oBundle.getText("INBOX_ADD_COMMENT"),autoClose:true})}n.setEnabled(false);this._resetCustomActionToolPopupContent(r,n,e.data("text"),i);this.oCustomActionToolPopupCommentsMand.setOpener(e);if(!this.oCustomActionToolPopupCommentsMand.isOpen()){this.oCustomActionToolPopupCommentsMand.open(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.BeginBottom)}}};sap.uiext.inbox.Inbox.prototype._resetCustomActionToolPopupContent=function(e,t,i,a){if(e){e.setValue("")}var o=i||a;t.setText(o);t.setTooltip(o);t.data("key",a)};sap.uiext.inbox.Inbox.prototype._getAttachments=function(e,t){var i=this;var a=e.getParent().getBindingContext();var o=this._getAttachmentsUrl(a);var s=this.getCoreModel();var r={async:true,requestUri:o,method:"GET",headers:{Accept:i.constants.acceptHeaderforJSON,"x-csrf-token":s.oHeaders["x-csrf-token"]}};OData.request(r,function(e,o){var s=e.results;i._displayAttachments(s,t,a)},function(e){i.showMessage("error",i._oBundle.getText("INBOX_MSG_FETCH_ATTACHMENTS_FAILS"))})};sap.uiext.inbox.Inbox.prototype._displayAttachments=function(e,t,i){var a=this;var o=this.getModel().getProperty("Status",i);var s=o==="COMPLETED";var r=sap.ui.Device.browser.msie&&sap.ui.Device.browser.version<10;var n=!(s||r);if(!n&&e&&e.length<1){this._addActionContentinRowRepeater(t,"attachments",this._createNoDataLabel(this._oBundle.getText("INBOX_MSG_FOR_NO_DATA")))}else{var l=new sap.ui.model.json.JSONModel(e);var u=this._createAttachmentContainer(t,i,n);u.setModel(l);var d=this._createAttachmentTileTemplate(s);u.bindAggregation("attachments",{path:"/",template:d});var p=new sap.ui.commons.layout.MatrixLayout({layoutFixed:true,width:"100%"});var c=new sap.ui.commons.layout.MatrixLayoutCell;c.addContent(u);c.addStyleClass("sapUIExtInboxCommentsBorder");p.createRow(c);this._addActionContentinRowRepeater(t,"attachments",p)}};sap.uiext.inbox.Inbox.prototype._createAttachmentContainer=function(e,t,i){var a=this;var o=this.getCoreModel();var s=this._getComponent("attachmentContainer-"+e);if(!s){s=new sap.uiext.inbox.composite.InboxAttachmentsTileContainer(this.getId()+"--"+"attachmentContainer-"+e,{showAddTile:i,uploadUrl:a._getAttachmentsUrl(t),uploadButtonPress:function(e){a._addParametersBeforeUpload(e);this.triggerUpload()},uploadSuccess:function(e){var t=this.getModel();t.oData.push(JSON.parse(e.getParameter("attachmentResponse")).d);t.checkUpdate(false);if(this.bTokenRefreshed)this.bTokenRefreshed=false;a.showMessage("success",a._oBundle.getText("INBOX_MSG_UPLOAD_ATTACHMENT_SUCCESS"))},uploadFailed:function(e){var t=e.getParameter("statusCode");if(t&&t==403){var i=e.getParameter("securityToken");if(!this.bTokenRefreshed&&i&&i.toLowerCase()=="required"){a.getCoreModel().refreshSecurityToken();this.bTokenRefreshed=true;var s=e.getParameter("headerParameters");this.removeUploadHeader("x-csrf-token");this.addUploadHeader("x-csrf-token",o.oHeaders["x-csrf-token"]);this.triggerUpload()}else{this.bTokenRefreshed=false;a.showMessage("error",a._oBundle.getText("INBOX_MSG_UPLOAD_ATTACHMENT_FAILURE"))}}else{this.bTokenRefreshed=false;a.showMessage("error",a._oBundle.getText("INBOX_MSG_UPLOAD_ATTACHMENT_FAILURE"))}}})}return s};sap.uiext.inbox.Inbox.prototype._createAttachmentTileTemplate=function(e){var t=this;var i=new sap.uiext.inbox.composite.InboxAttachmentTile({fileName:"{FileName}",createdBy:{parts:[{path:"CreatedByName"},{path:"CreatedBy"}],formatter:function(e,t){if(e&&e!=="")return e;else if(t&&t!=="")return t}},fileDescription:"{FileDisplayName}",creationDate:{path:"CreatedAt",formatter:function(e){return t.inboxUtils.dateTimeFormat(e,true)}},fileTypeIcon:{path:"mime_type",formatter:t.inboxUtils._getFileTypeIcon},fileSize:{path:"FileSize",formatter:t.inboxUtils._getFileSize},downloadUrl:{parts:[{path:"InstanceID"},{path:"SAP__Origin"},{path:"ID"}],formatter:function(e,i,a){return t.bpmSvcUrl+t._getAttachmentValueUrl(e,i,a)}},showDeleteButton:!e}).attachDeleteAttachment(this,this._deleteAttachment);return i};sap.uiext.inbox.Inbox.prototype._addParametersBeforeUpload=function(e){var t=e.getSource();var i=this;if(t.getIsFileSelected()){var a=this.getCoreModel();t.addUploadHeader("slug",t.getFileName());t.addUploadHeader("Content-Type",t.getFileType());t.addUploadHeader("Accept",this.constants.acceptHeaderforJSON);t.addUploadHeader("x-csrf-token",a.oHeaders["x-csrf-token"])}};sap.uiext.inbox.Inbox.prototype._deleteAttachment=function(e,t){var i=this;var a=this.getModel();var o=this.getBindingContext();var s=t.constants.TaskCollection;var r=a.getProperty("InstanceID",o);var n=a.getProperty("SAP__Origin",o);var l=a.getProperty("ID",o);var u=t._getAttachmentValueUrl(r,n,l);var d=t.getCoreModel();t.oDataManager.removeData(t._getAttachmentValueUrl(r,n,l),{success:function(e,i){var s=o.getPath().split("/");a.oData.splice(s[1],1);a.checkUpdate(false);t.showMessage("success",t._oBundle.getText("INBOX_MSG_DELETE_ATTACHMENT_SUCCESS"))},error:function(e){t.showMessage("error",t._oBundle.getText("INBOX_MSG_DELETE_ATTACHMENT_FAILURE"))}},true)};sap.uiext.inbox.Inbox.prototype._getAttachmentsUrl=function(e){var t=this.constants;var i=t.TaskCollection;var a=this.getModel();var o=a.getProperty("InstanceID",e);var s=a.getProperty("SAP__Origin",e);var r=this.bpmSvcUrl+t.forwardSlash+i.entityName+"("+i.properties.instanceID+"='"+o+"',"+t.sapOrigin+"='"+s+"')"+t.forwardSlash+t.attachmentCollection.navParam.attachment;return r};sap.uiext.inbox.Inbox.prototype._getAttachmentValueUrl=function(e,t,i){var a=this.constants;var o=a.TaskCollection;var s=a.attachmentCollection;var r=a.forwardSlash+s.entityName+"("+o.properties.instanceID+"='"+e+"',"+a.sapOrigin+"='"+t+"',"+s.properties.id+"='"+i+"')"+a.forwardSlash+s.navParam.value;return r};sap.uiext.inbox.Inbox.prototype._initODataModel=function(){var e=this;this.oModel.refreshSecurityToken(null,null,true);this.oModel.attachMetadataLoaded(function(t){var i=this.getServiceMetadata();if(this.sServiceUrl&&i){e.oTcmMetadata.setServiceMetadata(i)}e._bindTaskActions()});if(this.getHandleBindings()){this.bpmSvcUrl=this.oModel.sServiceUrl}};sap.uiext.inbox.Inbox.prototype._getBindingParameters=function(){var e={};var t=this._getExpandParameters();if(this.typeOfModel==="OData"){e.countMode=sap.ui.model.odata.CountMode.InlineRepeat;e.faultTolerant=true}if(t.length>0){e.expand=t}return e};
},
	"sap/uiext/inbox/InboxConfiguration.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxConfiguration");sap.ui.base.Object.extend("sap.uiext.inbox.InboxConfiguration",{constructor:function(){sap.ui.base.Object.apply(this);this.iSearchUsersMaxLimit=100}});sap.uiext.inbox.InboxConfiguration.prototype.setSearchUsersMaxLimit=function(i){if(typeof i==="number"){this.iSearchUsersMaxLimit=i}};sap.uiext.inbox.InboxConfiguration.prototype.getSearchUsersMaxLimit=function(){return this.iSearchUsersMaxLimit};
},
	"sap/uiext/inbox/InboxConstants.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxConstants");jQuery.sap.require("sap.ui.core.IconPool");sap.uiext.inbox.InboxConstants=function(){};sap.uiext.inbox.InboxConstants.prototype=jQuery.sap.newObject(sap.ui.base.Object.prototype);sap.uiext.inbox.InboxConstants.mEntities={taskMetadata:{propertiesLabel:["INBOX_TASK_TITLE","INBOX_START_DATE","INBOX_CREATED_BY_NAME","INBOX_DUE_DATE","INBOX_STATUS","INBOX_PRIORITY"],properties:["TaskTitle","CreatedOn","CreatedByName","CompletionDeadLine","Status","Priority"],customAttributes:[]},todoMetadata:{propertiesLabel:["INBOX_TASK_TITLE","INBOX_START_DATE","INBOX_CREATED_BY_NAME","INBOX_STATUS","INBOX_PRIORITY"],properties:["TaskTitle","CreatedOn","CreatedByName","Status","Priority"],customAttributes:[]},alertMetadata:{propertiesLabel:["INBOX_TASK_TITLE","INBOX_START_DATE","INBOX_CREATED_BY_NAME","INBOX_STATUS","INBOX_PRIORITY"],properties:["TaskTitle","CreatedOn","CreatedByName","Status","Priority"],customAttributes:[]},notificationMetadata:{propertiesLabel:["INBOX_TASK_TITLE","INBOX_START_DATE","INBOX_CREATED_BY_NAME","INBOX_STATUS","INBOX_PRIORITY"],properties:["TaskTitle","CreatedOn","CreatedByName","Status","Priority"],customAttributes:[]}};sap.uiext.inbox.InboxConstants.TABLE_VIEW_TECH_NAMES={INBOX_TABLE_VIEW_TASK_TITLE:"TaskTitle",INBOX_TABLE_VIEW_CREATION_DATE:"CreatedOn",INBOX_CREATED_BY_NAME:"CreatedByName",INBOX_TABLE_VIEW_DUE_DATE:"CompletionDeadLine",INBOX_TABLE_VIEW_STATUS:"Status",INBOX_TABLE_VIEW_PRIORITY:"Priority"};sap.uiext.inbox.InboxConstants.iconPool=sap.ui.core.IconPool;sap.uiext.inbox.InboxConstants.tableViewImageSelected=sap.ui.core.IconPool.getIconURI("table-view");sap.uiext.inbox.InboxConstants.rrViewImageSelected=sap.ui.core.IconPool.getIconURI("list");sap.uiext.inbox.InboxConstants.filterViewImage=sap.ui.core.IconPool.getIconURI("filter");sap.uiext.inbox.InboxConstants.nxtBtnImage="next.png";sap.uiext.inbox.InboxConstants.prevBtnImage="previous.png";sap.uiext.inbox.InboxConstants.refreshImage=sap.ui.core.IconPool.getIconURI("refresh");sap.uiext.inbox.InboxConstants.loaderImage="loader_ani.gif";sap.uiext.inbox.InboxConstants.completeImage="complete_action.png";sap.uiext.inbox.InboxConstants.claimImage="claim_action.png";sap.uiext.inbox.InboxConstants.releaseImage="release_action.png";sap.uiext.inbox.InboxConstants.forwardTaskImage="forwardTask.png";sap.uiext.inbox.InboxConstants.settingsImage="settings_button_regular.png";sap.uiext.inbox.InboxConstants.settingsImageHover="settings_button_hover.png";sap.uiext.inbox.InboxConstants.sapLogo="sap_logo.gif";sap.uiext.inbox.InboxConstants.taskInitiatorDefaultImage="taskInitiator_default.png";sap.uiext.inbox.InboxConstants.attachmentsImage="attachment.png";sap.uiext.inbox.InboxConstants.commentsImage=sap.ui.core.IconPool.getIconURI("comment");sap.uiext.inbox.InboxConstants.customAttributesImage="custom_attributes.png";sap.uiext.inbox.InboxConstants.COLON=":";sap.uiext.inbox.InboxConstants.DOT=String.fromCharCode(183);sap.uiext.inbox.InboxConstants.WHITESPACE=String.fromCharCode(0);sap.uiext.inbox.InboxConstants.LESS_THAN=String.fromCharCode(60);sap.uiext.inbox.InboxConstants.GREATER_THAN=String.fromCharCode(62);sap.uiext.inbox.InboxConstants.sortAscImage=sap.ui.core.IconPool.getIconURI("up");sap.uiext.inbox.InboxConstants.sortDescImage=sap.ui.core.IconPool.getIconURI("down");sap.uiext.inbox.InboxConstants.SPACE=" ";sap.uiext.inbox.InboxConstants.EQUALS="=";sap.uiext.inbox.InboxConstants.taskCategoryImage="task.png";sap.uiext.inbox.InboxConstants.alertCategoryImage="alert.png";sap.uiext.inbox.InboxConstants.notificationCategoryImage="notification.png";sap.uiext.inbox.InboxConstants.rrViewAlertCategoryImage="rr_view_alert.png";sap.uiext.inbox.InboxConstants.rrViewNotificationCategoryImage="rr_view_notification.png";sap.uiext.inbox.InboxConstants.todoCategoryImage="todo.png";sap.uiext.inbox.InboxConstants.rrViewTodoCategoryImage="rr_view_todo.png";sap.uiext.inbox.InboxConstants.defaultView_URLParameter="sap-ui-inbox-defaultView";sap.uiext.inbox.InboxConstants.tableViewRowCount_URLParameter="sap-ui-inbox-tableViewRowCount";sap.uiext.inbox.InboxConstants.rrViewRowCount_URLParameter="sap-ui-inbox-rrViewRowCount";sap.uiext.inbox.InboxConstants.async_URLParameter="async";sap.uiext.inbox.InboxConstants.statusTooltip={COMPLETED:"INBOX_FILTER_STATUS_COMPLETED",READY:"INBOX_FILTER_STATUS_READY",RESERVED:"INBOX_FILTER_STATUS_RESERVED",IN_PROGRESS:"INBOX_FILTER_STATUS_IN_PROGRESS",SELECTED:"INBOX_FILTER_STATUS_RESERVED",STARTED:"INBOX_FILTER_STATUS_IN_PROGRESS",COMMITTED:"INBOX_FILTER_STATUS_COMPLETED"};sap.uiext.inbox.InboxConstants.prioTooltip={VERY_HIGH:"INBOX_FILTER_PRIORITY_VERY_HIGH",HIGH:"INBOX_FILTER_PRIORITY_HIGH",MEDIUM:"INBOX_FILTER_PRIORITY_MEDIUM",LOW:"INBOX_FILTER_PRIORITY_LOW",1:"INBOX_FILTER_PRIORITY_VERY_HIGH",2:"INBOX_FILTER_PRIORITY_VERY_HIGH",3:"INBOX_FILTER_PRIORITY_HIGH",4:"INBOX_FILTER_PRIORITY_HIGH",5:"INBOX_FILTER_PRIORITY_MEDIUM",6:"INBOX_FILTER_PRIORITY_LOW",7:"INBOX_FILTER_PRIORITY_LOW",8:"INBOX_FILTER_PRIORITY_LOW",9:"INBOX_FILTER_PRIORITY_LOW"};sap.uiext.inbox.InboxConstants.statusImages={COMPLETED:"completed_status.png",READY:"ready_status.png",RESERVED:"reserved_status.png",IN_PROGRESS:"inprocess_status.png",SELECTED:"reserved_status.png",STARTED:"inprocess_status.png",COMMITTED:"completed_status.png"};sap.uiext.inbox.InboxConstants.prioImages={VERY_HIGH:"very_high_priority.png",HIGH:"high_priority.png",MEDIUM:"medium_priority.png",LOW:"low_priority.png",1:"very_high_priority.png",2:"very_high_priority.png",3:"high_priority.png",4:"high_priority.png",5:"medium_priority.png",6:"low_priority.png",7:"low_priority.png",8:"low_priority.png",9:"low_priority.png"};sap.uiext.inbox.InboxConstants.taskCategoryImages={TASK:sap.ui.core.IconPool.getIconURI("task"),ALERT:sap.ui.core.IconPool.getIconURI("alert"),NOTIFICATION:sap.ui.core.IconPool.getIconURI("notification-2"),TODO:sap.ui.core.IconPool.getIconURI("activity-2")};sap.uiext.inbox.InboxConstants.taskCategoryToolTip={TASK:"INBOX_TASK_CATEGORY",ALERT:"INBOX_ALERT_CATEGORY",NOTIFICATION:"INBOX_NOTIFICATION_CATEGORY",TODO:"INBOX_TODO_CATEGORY"};sap.uiext.inbox.InboxConstants.messageTypeIcons={error:sap.ui.core.IconPool.getIconURI("alert"),warning:sap.ui.core.IconPool.getIconURI("warning"),success:sap.ui.core.IconPool.getIconURI("sys-enter-2"),info:sap.ui.core.IconPool.getIconURI("hint")};sap.uiext.inbox.InboxConstants.statusMap={COMPLETED:"INBOX_FILTER_STATUS_COMPLETED",READY:"INBOX_FILTER_STATUS_READY",RESERVED:"INBOX_FILTER_STATUS_RESERVED",IN_PROGRESS:"INBOX_FILTER_STATUS_IN_PROGRESS"};sap.uiext.inbox.InboxConstants.messageTypeToolTip={error:"INBOX_MSG_STATUS_ERROR",warning:"INBOX_MSG_STATUS_WARN",success:"INBOX_MSG_STATUS_SUCCESS",info:"INBOX_MSG_STATUS_INFO"};sap.uiext.inbox.InboxConstants.mRRSortMap={li_creationDate:"sortByStartDate",li_status:"sortByStatus",li_taskTitle:"sortByTaskTitle"};sap.uiext.inbox.InboxConstants.closeImg=sap.ui.core.IconPool.getIconURI("decline");sap.uiext.inbox.InboxConstants.closeHovImg="close_hover.png";sap.uiext.inbox.InboxConstants.filterKeysMetaMap={INBOX_FILTER_PRIORITY:["lowPrio","medPrio","hiPrio","veryhiPrio"],INBOX_FILTER_STATUS:["resStat","readyStat","InProStat"],INBOX_FILTER_CREATION_DATE:["today","last30","last15","last7"],INBOX_FILTER_DUE_DATETIME:["dueDateToday","dueDatenext30","dueDatenext15","dueDatenext7"],INBOX_FILTER_CATEGORY:["taskCategory","todoCategory","alertCategory","notificationCategory"]};sap.uiext.inbox.InboxConstants.filterKeysMetaMapWithNoDueDate={INBOX_FILTER_PRIORITY:["lowPrio","medPrio","hiPrio","veryhiPrio"],INBOX_FILTER_STATUS:["resStat","readyStat","InProStat"],INBOX_FILTER_CREATION_DATE:["today","last30","last15","last7"],INBOX_FILTER_DUE_DATETIME:["dueDateToday","dueDatenext30","dueDatenext15","dueDatenext7","noDueDate"],INBOX_FILTER_CATEGORY:["taskCategory","todoCategory","alertCategory","notificationCategory"]};sap.uiext.inbox.InboxConstants.aFilterMetaData=[{name:"INBOX_FILTER_TASK_TYPE",attributes:[]},{name:"INBOX_FILTER_PRIORITY",attributes:["INBOX_FILTER_PRIORITY_LOW","INBOX_FILTER_PRIORITY_MEDIUM","INBOX_FILTER_PRIORITY_HIGH","INBOX_FILTER_PRIORITY_VERY_HIGH"]},{name:"INBOX_FILTER_STATUS",attributes:["INBOX_FILTER_STATUS_READY","INBOX_FILTER_STATUS_RESERVED","INBOX_FILTER_STATUS_IN_PROGRESS"]},{name:"INBOX_FILTER_CREATION_DATE",attributes:["INBOX_FILTER_DATETIME_TODAY","INBOX_FILTER_DATETIME_WEEK","INBOX_FILTER_DATETIME_15DAYS","INBOX_FILTER_DATETIME_MONTH"]},{name:"INBOX_FILTER_DUE_DATETIME",attributes:["INBOX_FILTER_DUE_DATETIME_TODAY","INBOX_FILTER_DUE_DATETIME_WEEK","INBOX_FILTER_DUE_DATETIME_15DAYS","INBOX_FILTER_DUE_DATETIME_MONTH"]}];sap.uiext.inbox.InboxConstants.aFilterMetaDataWithNoDueDate=[{name:"INBOX_FILTER_TASK_TYPE",attributes:[]},{name:"INBOX_FILTER_PRIORITY",attributes:["INBOX_FILTER_PRIORITY_LOW","INBOX_FILTER_PRIORITY_MEDIUM","INBOX_FILTER_PRIORITY_HIGH","INBOX_FILTER_PRIORITY_VERY_HIGH"]},{name:"INBOX_FILTER_STATUS",attributes:["INBOX_FILTER_STATUS_READY","INBOX_FILTER_STATUS_RESERVED","INBOX_FILTER_STATUS_IN_PROGRESS"]},{name:"INBOX_FILTER_CREATION_DATE",attributes:["INBOX_FILTER_DATETIME_TODAY","INBOX_FILTER_DATETIME_WEEK","INBOX_FILTER_DATETIME_15DAYS","INBOX_FILTER_DATETIME_MONTH"]},{name:"INBOX_FILTER_DUE_DATETIME",attributes:["INBOX_FILTER_DUE_DATETIME_TODAY","INBOX_FILTER_DUE_DATETIME_WEEK","INBOX_FILTER_DUE_DATETIME_15DAYS","INBOX_FILTER_DUE_DATETIME_MONTH","INBOX_FILTER_NO_DUE_DATETIME"]}];sap.uiext.inbox.InboxConstants.aDrillDownFilterMetadata=[{name:"INBOX_FILTER_CATEGORY",attributes:["INBOX_FILTER_CATEGORY_TASKS","INBOX_FILTER_CATEGORY_TODO","INBOX_FILTER_CATEGORY_ALERT","INBOX_FILTER_CATEGORY_NOTIFICATION"]},{name:"INBOX_FILTER_TASK_TYPE",attributes:[]},{name:"INBOX_FILTER_PRIORITY",attributes:["INBOX_FILTER_PRIORITY_LOW","INBOX_FILTER_PRIORITY_MEDIUM","INBOX_FILTER_PRIORITY_HIGH","INBOX_FILTER_PRIORITY_VERY_HIGH"]},{name:"INBOX_FILTER_STATUS",attributes:["INBOX_FILTER_STATUS_READY","INBOX_FILTER_STATUS_RESERVED","INBOX_FILTER_STATUS_IN_PROGRESS"]},{name:"INBOX_FILTER_CREATION_DATE",attributes:["INBOX_FILTER_DATETIME_TODAY","INBOX_FILTER_DATETIME_WEEK","INBOX_FILTER_DATETIME_15DAYS","INBOX_FILTER_DATETIME_MONTH"]},{name:"INBOX_FILTER_DUE_DATETIME",attributes:["INBOX_FILTER_DUE_DATETIME_TODAY","INBOX_FILTER_DUE_DATETIME_WEEK","INBOX_FILTER_DUE_DATETIME_15DAYS","INBOX_FILTER_DUE_DATETIME_MONTH"]}];sap.uiext.inbox.InboxConstants.aDependentDrillDownFiltersBasedOnCategory={aFilterMetadataForCategoryTask:["INBOX_FILTER_CATEGORY","INBOX_FILTER_TASK_TYPE","INBOX_FILTER_PRIORITY","INBOX_FILTER_STATUS","INBOX_FILTER_CREATION_DATE","INBOX_FILTER_DUE_DATETIME"],aFilterMetadataForCategoryTodo:["INBOX_FILTER_CATEGORY","INBOX_FILTER_TASK_TYPE","INBOX_FILTER_STATUS","INBOX_FILTER_CREATION_DATE"],aFilterMetadataForCategoryAlert:["INBOX_FILTER_CATEGORY","INBOX_FILTER_TASK_TYPE","INBOX_FILTER_PRIORITY","INBOX_FILTER_STATUS","INBOX_FILTER_CREATION_DATE"],aFilterMetadataForCategoryNotification:["INBOX_FILTER_CATEGORY","INBOX_FILTER_TASK_TYPE","INBOX_FILTER_PRIORITY","INBOX_FILTER_STATUS","INBOX_FILTER_CREATION_DATE"],aFilterMetadataDefault:["INBOX_FILTER_TASK_TYPE","INBOX_FILTER_PRIORITY","INBOX_FILTER_STATUS","INBOX_FILTER_CREATION_DATE","INBOX_FILTER_DUE_DATETIME"]};sap.uiext.inbox.InboxConstants.rightAlignedTypes=["java.lang.Integer","java.math.BigDecimal","java.lang.Long","java.lang.Float"];sap.uiext.inbox.InboxConstants.decisionOptionsFunctionImport="DecisionOptions";sap.uiext.inbox.InboxConstants.decisionExecutionFunctionImport="Decision";sap.uiext.inbox.InboxConstants.claimFunctionImport="Claim";sap.uiext.inbox.InboxConstants.releaseFunctionImport="Release";sap.uiext.inbox.InboxConstants.addCommentFunctionImport="AddComment";sap.uiext.inbox.InboxConstants.tableView="sap_inbox_list";sap.uiext.inbox.InboxConstants.rowRepeaterView="sap_inbox_stream";sap.uiext.inbox.InboxConstants.inboxViews=[sap.uiext.inbox.InboxConstants.tableView,sap.uiext.inbox.InboxConstants.rowRepeaterView];sap.uiext.inbox.InboxConstants.customAction="customAction";sap.uiext.inbox.InboxConstants.sapOrigin="SAP__Origin";sap.uiext.inbox.InboxConstants.InstanceID="InstanceID";sap.uiext.inbox.InboxConstants.taskDefinitionDecisionOptionsMap={};sap.uiext.inbox.InboxConstants.oTaskDefinitionCustomAttributesMap={};sap.uiext.inbox.InboxConstants.oTaskInstanceCustomAttributeValuesMap={};sap.uiext.inbox.InboxConstants.taskInstanceDecisionOptionsMap={};sap.uiext.inbox.InboxConstants.taskDescriptionsMap={};sap.uiext.inbox.InboxConstants.forwardSlash="/";sap.uiext.inbox.InboxConstants.amperSand="&";sap.uiext.inbox.InboxConstants.query="?";sap.uiext.inbox.InboxConstants.formatJSONURLParam="$format=json";sap.uiext.inbox.InboxConstants.acceptHeaderforJSON="application/json";sap.uiext.inbox.InboxConstants.REFRESH_ON_DATE_PATTERN="MMM dd, HH:mm";sap.uiext.inbox.InboxConstants.FORWARD="Forward";sap.uiext.inbox.InboxConstants.customAttributeNavigationParam="CustomAttributeData";sap.uiext.inbox.InboxConstants.taskDefinitionNavigationParam="TaskDefinitionData";sap.uiext.inbox.InboxConstants.UserInfoCollection="UserInfoCollection";sap.uiext.inbox.InboxConstants.TaskDefinitionCollection={entityName:"TaskDefinitionCollection",navParam:{customAttrDefn:"CustomAttributeDefinitionData"},properties:{taskDefnID:"TaskDefinitionID"}};sap.uiext.inbox.InboxConstants.TaskCollection={entityName:"TaskCollection",navParam:{customAttrValues:"CustomAttributeData",comments:"Comments",taskDescription:"Description",taskDefinition:"TaskDefinitionData"},properties:{instanceID:"InstanceID"}};sap.uiext.inbox.InboxConstants.mEntitiesToElements={taskMetadata:{sap_inbox_list:{columnsMap:{TaskTitle:"TaskTitle",CreatedOn:"CreatedOn",CompletionDeadLine:"CompletionDeadLine",Status:"Status",Priority:"Priority"}},sap_inbox_stream:{sorterMap:{CreatedOn:"li_creationDate",TaskTitle:"li_taskTitle",Status:"li_status"}}}};sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION="Task";sap.uiext.inbox.InboxConstants.PROPERTY_NAME_CUSTOM_STATUS="StatusText";sap.uiext.inbox.InboxConstants.PROPERTY_NAME_TASK_TITLE="TaskTitle";sap.uiext.inbox.InboxConstants.PROPERTY_NAME_PRIORITY="Priority";sap.uiext.inbox.InboxConstants.PROPERTY_NAME_TASK_DEFINITION_NAME="TaskDefinitionName";sap.uiext.inbox.InboxConstants.mTooltipforActionButtonsinRR={show:{customAttributesSegBtn:"INBOX_SHOW_CUSTOM_ATTRIBUTES",commentsSegBtn:"INBOX_SHOW_COMMENTS",attachmentsSegBtn:"INBOX_SHOW_ATTACHMENTS"},hide:{customAttributesSegBtn:"INBOX_HIDE_CUSTOM_ATTRIBUTES",commentsSegBtn:"INBOX_HIDE_COMMENTS",attachmentsSegBtn:"INBOX_HIDE_ATTACHMENTS"}};sap.uiext.inbox.InboxConstants.NAVIGATION_DESCRIPTION="Description";sap.uiext.inbox.InboxConstants.NAVIGATION_TASKDEFINITION="TaskDefinitionData";sap.uiext.inbox.InboxConstants.TABLE_COLUMN={TASK_TITLE:0,CREATED_ON:1,CREATED_BY:2,COMPLETION_DEADLINE:3,STATUS:4,PRIORITY:5};sap.uiext.inbox.InboxConstants.SystemInfoCollection={entityType:"TASKPROCESSING.SystemInfo",name:"SystemInfoCollection"};sap.uiext.inbox.InboxConstants.attachmentCollection={entityName:"AttachmentCollection",navParam:{attachment:"Attachments",value:"$value"},properties:{id:"ID"}};sap.uiext.inbox.InboxConstants.SubstitutionProfileCollection={entityType:"TASKPROCESSING.SubstitutionProfile",name:"SubstitutionProfileCollection"};
},
	"sap/uiext/inbox/InboxDataManager.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxDataManager");sap.uiext.inbox.InboxDataManager=function(){};sap.uiext.inbox.InboxDataManager.setModel=function(e){this._oModel=e;if(this._oModel instanceof sap.ui.model.odata.ODataModel){this._sModelType="v1"}else if(this._oModel instanceof sap.ui.model.odata.v2.ODataModel){this._sModelType="v2"}};sap.uiext.inbox.InboxDataManager.fireBatchRequest=function(e){if(this._sModelType=="v1"){this._oModel.clearBatch();this._addOperationsToBatchV1(e);this._oModel.submitBatch(function(a,t){if(e.fnSuccess){e.fnSuccess(a,t)}},function(a){if(e.fnError){e.fnError(a)}})}else if(this._sModelType=="v2"){this._oModel.setUseBatch(true);this._oModel.setDeferredBatchGroups([e.sBatchGroupId]);this._addOperationsToBatchV2(e);var a=jQuery.proxy(function(a,t){this._oModel.setUseBatch(false);if(e.fnSuccess){e.fnSuccess(a,t)}},this);var t=jQuery.proxy(function(a){this._oModel.setUseBatch(false);if(e.fnError){e.fnError(a)}},this);this._oModel.submitChanges({batchGroupId:e.sBatchGroupId,success:a,error:t})}};sap.uiext.inbox.InboxDataManager._addOperationsToBatchV1=function(e){var a,t;for(var o=0;o<e.numberOfRequests;o++){if(e.sPath){a=e.sPath}else if(e.aPaths){a=e.aPaths[o]}if(e.aUrlParameters){a=this._createRequestUrl(a,e.aUrlParameters[o])}if(e.aProperties){t=this._oModel.createBatchOperation(a,e.sMethod,e.aProperties[o])}else{t=this._oModel.createBatchOperation(a,e.sMethod)}if(e.sMethod==="GET"){this._oModel.addBatchReadOperations([t])}else if(e.sMethod==="POST"){this._oModel.addBatchChangeOperations([t])}}};sap.uiext.inbox.InboxDataManager._addOperationsToBatchV2=function(e){var a;var t={batchGroupId:e.sBatchGroupId};for(var o=0;o<e.numberOfRequests;o++){if(e.aUrlParameters){t.urlParameters=e.aUrlParameters[o]}if(e.aProperties){t.properties=e.aProperties[o]}if(e.sPath){a=e.sPath}else if(e.aPaths){a=e.aPaths[o]}if(!jQuery.sap.startsWith(a,"/")){a="/"+a}if(e.sMethod=="GET"){this._oModel.read(a,t)}else if(e.sMethod=="POST"){t.changeSetId="changeSetId"+o;this._oModel.createEntry(a,t)}}};sap.uiext.inbox.InboxDataManager.callFunctionImport=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}this._oModel.callFunction(e,a)};sap.uiext.inbox.InboxDataManager.readData=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}if(!(this._oModel instanceof sap.ui.model.json.JSONModel)){this._oModel.read(e,a)}};sap.uiext.inbox.InboxDataManager._createRequestUrl=function(e,a){var t=[];var o=e;jQuery.each(a,function(e,a){t.push(e+"="+a)});if(t&&t.length>0){o+="?"+t.join("&")}return o};sap.uiext.inbox.InboxDataManager.removeData=function(e,a,t){if(this._oModel instanceof sap.ui.model.odata.ODataModel){if(t!=undefined){a.async=t}}if(!jQuery.sap.startsWith(e,"/")){e="/"+e}this._oModel.remove(e,a)};
},
	"sap/uiext/inbox/InboxFilters.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxFilters");jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.uiext.inbox.InboxSecondaryFilters");jQuery.sap.require("sap.uiext.inbox.InboxPrimaryFilters");sap.ui.base.Object.extend("sap.uiext.inbox.InboxFilters",{constructor:function(){sap.ui.base.Object.apply(this);this.oPrimaryFilter=undefined;this.oSecondaryFilter=undefined;this.inboxUtils=sap.uiext.inbox.InboxUtils}});sap.uiext.inbox.InboxFilters.prototype.setPrimaryFilter=function(i){if(i instanceof sap.uiext.inbox.InboxPrimaryFilters){this.oPrimaryFilter=i}};sap.uiext.inbox.InboxFilters.prototype.setSecondaryFilter=function(i){if(i instanceof sap.uiext.inbox.InboxSecondaryFilters||i instanceof sap.uiext.inbox.TaskInitialFilters){this.oSecondaryFilter=i}};sap.uiext.inbox.InboxFilters.prototype.getPrimaryFilter=function(i){return this.oPrimaryFilter};sap.uiext.inbox.InboxFilters.prototype.getSecondaryFilter=function(i){return this.oSecondaryFilter};
},
	"sap/uiext/inbox/InboxFormattedTextView.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxFormattedTextView");sap.ui.commons.FormattedTextView.extend("sap.uiext.inbox.InboxFormattedTextView",{metadata:{properties:{wrapping:{type:"boolean",defaultValue:true},maxLines:{type:"int",defaultValue:1}}},renderer:function(e,t){sap.ui.commons.FormattedTextViewRenderer.render.apply(this,arguments)}});sap.uiext.inbox.InboxFormattedTextView.prototype.applyStylingToFormattedTextDiv=function(e){if(e){if(this.getWrapping()&&this.getMaxLines()>0){if(!this.canUseNativeLineClamp()){this.clampHeight();jQuery(e).css({"text-overflow":"ellipsis",overflow:"hidden","max-width":"100%"})}else{jQuery(e).css({display:"-webkit-box","-webkit-box-orient":"vertical",overflow:"hidden","-webkit-line-clamp":this.getMaxLines()+""})}}else if(!this.getWrapping()){jQuery(e).css({"text-overflow":"ellipsis",overflow:"hidden","max-width":"100%",whitespace:"nowrap"})}}};sap.uiext.inbox.InboxFormattedTextView.prototype.setMaxLines=function(e){this.setProperty("maxLines",e);var t=this.getTextDomRef();this.applyStylingToFormattedTextDiv(t);return this};sap.uiext.inbox.InboxFormattedTextView.prototype.onAfterRendering=function(){var e=this.getTextDomRef();this.applyStylingToFormattedTextDiv(e)};sap.uiext.inbox.InboxFormattedTextView.hasNativeLineClamp=function(){return typeof document.documentElement.style.webkitLineClamp!="undefined"};sap.uiext.inbox.InboxFormattedTextView.prototype.canUseNativeLineClamp=function(){if(!sap.uiext.inbox.InboxFormattedTextView.hasNativeLineClamp()){return false}return true};sap.uiext.inbox.InboxFormattedTextView.prototype.getClampHeight=function(e){var t=e||this.getTextDomRef();return this.getMaxLines()*this.getLineHeight(t)};sap.uiext.inbox.InboxFormattedTextView.prototype.setHtmlText=function(e){if(sap.ui.commons.FormattedTextView.prototype.setHtmlText){sap.ui.commons.FormattedTextView.prototype.setHtmlText.apply(this,arguments)}else{this.setProperty("htmlText",e)}if(this.isClamped()){this.getParent().getAggregation("taskDescriptionLink").setVisible(true)}};sap.uiext.inbox.InboxFormattedTextView.prototype.clampHeight=function(e){var t=e||this.getTextDomRef();if(!t){return 0}var i=this.getClampHeight(t);t.style.maxHeight=i+"px";return i};sap.uiext.inbox.InboxFormattedTextView.prototype.getTextDomRef=function(){var e=this.getDomRef();return e&&(e.firstElementChild||e)};sap.uiext.inbox.InboxFormattedTextView.prototype.getLineHeight=function(e){var t=e||this.getTextDomRef();var i,o;if(!t){return}if(window.getComputedStyle!==undefined){o=window.getComputedStyle(t)}else{o={};o.lineHeight=document.getElementById(t.id).currentStyle.lineHeight;o.fontSize=document.getElementById(t.id).currentStyle.fontSize}i=parseFloat(o.lineHeight);if(!i){i=parseFloat(o.fontSize)*this.normalLineHeight}var r=Math.floor(i);return r};sap.uiext.inbox.InboxFormattedTextView.prototype.isClamped=function(e,t){var i=e||this.getTextDomRef();if(!i){return}var o=this.getHtmlText(true);var r=this.getClampHeight(i);var n=t||o.length;i.textContent=o.slice(0,n);if(i.scrollHeight>r){return true}return false};sap.uiext.inbox.InboxFormattedTextView.prototype.removeClamp=function(e){var t=e||this.getTextDomRef();if(!t){return}jQuery(t).css("-webkit-line-clamp","");jQuery(t).css("max-height","");jQuery(t).css("height","auto")};sap.ui.core.Control.extend("sap.uiext.inbox.InboxTaskDetails",{metadata:{properties:{showMore:{type:"string",defaultValue:"auto"}},aggregations:{fTV:{type:"sap.ui.commons.FormattedTextView",multiple:false,visibility:"public"},taskDescriptionLink:{type:"sap.ui.commons.Link",multiple:false,visibility:"hidden"}},events:{showMoreClick:{enablePreventDefault:true}}},init:function(){var e=this;this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.setAggregation("taskDescriptionLink",new sap.ui.commons.Link({text:e._oBundle.getText("INBOX_SHOW_MORE_TEXT"),tooltip:e._oBundle.getText("INBOX_SHOW_MORE_LINK_TOOLTIP"),visible:false}).attachPress(jQuery.proxy(this.showMoreClick,this)))},renderer:{render:function(e,t){e.write("<div");e.writeControlData(t);e.addClass("inboxTaskDetails");e.writeClasses();e.write(">");e.write("<div");e.addClass("fTV");e.writeClasses();e.writeStyles();e.write(">");e.renderControl(t.getAggregation("fTV"));e.write("</div>");if(t.getAggregation("taskDescriptionLink").getVisible()){e.write("<div");e.addClass("taskDescriptionLink");e.writeClasses();e.writeStyles();e.write(">");e.renderControl(t.getAggregation("taskDescriptionLink"));e.write("</div>")}e.write("</div>")}},onAfterRendering:function(){var e=this.getAggregation("fTV");if(this.getShowMore()==="true"||e.isClamped()&&this.getShowMore()==="auto"){this.getAggregation("taskDescriptionLink").setVisible(true)}},showMoreClick:function(e){var t=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");var i=t.getText("INBOX_SHOW_MORE_TEXT");var o=t.getText("INBOX_SHOW_LESS_TEXT");if(e.getSource().getText()===i){e.getSource().setText(t.getText("INBOX_SHOW_LESS_TEXT"));e.getSource().setTooltip(t.getText("INBOX_SHOW_LESS_LINK_TOOLTIP"));this.fireShowMoreClick({text:i})}else{e.getSource().setText(i);e.getSource().setTooltip(t.getText("INBOX_SHOW_MORE_LINK_TOOLTIP"));this.fireShowMoreClick({text:o})}}});
},
	"sap/uiext/inbox/InboxLaunchPad.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxLaunchPad");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.InboxLaunchPad",{metadata:{deprecated:true,library:"sap.uiext.inbox",properties:{title:{type:"string",defaultValue:"Inbox Launch Pad Title"},logoSrc:{type:"string",group:"Misc",defaultValue:null},showLogoutButton:{type:"boolean",group:"Misc",defaultValue:true},showUserName:{type:"boolean",group:"Misc",defaultValue:true},userName:{type:"string",group:"Misc",defaultValue:null}},aggregations:{launchPadHeader:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},launchPadTileContainer:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{tileSelected:{},logout:{}}}});jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.require("sap.uiext.inbox.InboxTile");sap.uiext.inbox.InboxLaunchPad.prototype.init=function(){var e=this;this.oCore=sap.ui.getCore();this._oBundle=this.oCore.getLibraryResourceBundle("sap.uiext.inbox");this.setAggregation("launchPadHeader",new sap.m.Bar("mbar",{contentMiddle:[new sap.m.Label({text:this.getTitle()})],contentRight:[new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("person-placeholder"),tooltip:this.getUserName(),type:sap.m.ButtonType.Transparent}),new sap.m.Button({tooltip:e._oBundle.getText("INBOX_LP_LOGOFF_TOOLTIP"),icon:sap.ui.core.IconPool.getIconURI("log"),type:sap.m.ButtonType.Default}).attachPress(function(){e.fireLogout()})],contentLeft:[new sap.m.Image({src:this.getLogoSrc()}).addStyleClass("logo")]}));var t=new sap.uiext.inbox.InboxTile({icon:"sap-icon://task",title:"{name}",number:"{numberOfTasks}"}).data("defID","{defID}").attachPress(function(t){e.fireTileSelected({defID:this.data("defID")})});this.setAggregation("launchPadTileContainer",new sap.m.TileContainer({editable:false,allowAdd:false,tiles:{path:"/Tasks",template:t}}))};sap.uiext.inbox.InboxLaunchPad.prototype.setTitle=function(e){this.setProperty("title",e,true);this.getAggregation("launchPadHeader").destroyContentMiddle().addContentMiddle(new sap.m.Label({text:this.getTitle()}));return this};sap.uiext.inbox.InboxLaunchPad.prototype.setUserName=function(e){if(e!==undefined){this.getAggregation("launchPadHeader").getContentRight()[0].setTooltip(e)}return this};sap.uiext.inbox.InboxLaunchPad.prototype.setShowUserName=function(e){if(e===true){this.getAggregation("launchPadHeader").getContentRight()[0].setVisible(true)}else{this.getAggregation("launchPadHeader").getContentRight()[0].setVisible(false)}return this};sap.uiext.inbox.InboxLaunchPad.prototype.setShowLogoutButton=function(e){if(e===true){this.getAggregation("launchPadHeader").getContentRight()[1].setVisible(true)}else{this.getAggregation("launchPadHeader").getContentRight()[1].setVisible(false)}return this};sap.uiext.inbox.InboxLaunchPad.prototype.setLogoSrc=function(e){this.setProperty("logoSrc",e,true);this.getAggregation("launchPadHeader").destroyContentLeft().addContentLeft(new sap.m.Image({src:this.getLogoSrc()}).addStyleClass("logo"));return this};
},
	"sap/uiext/inbox/InboxLaunchPadRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxLaunchPadRenderer");sap.uiext.inbox.InboxLaunchPadRenderer={};sap.uiext.inbox.InboxLaunchPadRenderer.render=function(e,a){e.write('<div style="height:100%; width:100%;"');e.writeControlData(a);e.addClass("sapUiextInboxInboxLaunchPadRfct");e.writeClasses();e.write(">");e.renderControl(a.getAggregation("launchPadHeader"));e.write('<div style="height:90%; width:100%;"');e.addClass("sapUiextInboxTileContainer");e.writeClasses();e.write(">");e.renderControl(a.getAggregation("launchPadTileContainer"));e.write("</div>");e.write("</div>")};
},
	"sap/uiext/inbox/InboxLink.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxLink");jQuery.sap.require("sap.uiext.inbox.InboxConstants");sap.ui.commons.Link.extend("sap.uiext.inbox.InboxLink",{init:function(){if(sap.ui.commons.Link.prototype.init){sap.ui.commons.Link.prototype.init.apply(this,arguments)}this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox")},metadata:{properties:{overdue:{type:"boolean",defaultValue:false}}},setOverdue:function(e){this.setProperty("overdue",e);if(e){this.addStyleClass("sapUiExtInboxRedColor")}else{this.removeStyleClass("sapUiExtInboxRedColor")}return this},onclick:function(e){if(this.getEnabled()){if(!this.firePress({windowEvent:e})){e.preventDefault()}}else{e.preventDefault()}},setText:function(e){if(e!==undefined){var t=e?e.replace(/^\s+|\s+$/g,""):e;var i=sap.uiext.inbox.InboxConstants.LESS_THAN;var s=sap.uiext.inbox.InboxConstants.GREATER_THAN;if(!t){e=i+this._oBundle.getText("INBOX_TASK_TITLE_NOTAVAILABLE_MSG")+s}}sap.ui.commons.Link.prototype.setText.call(this,[e])},setTooltip:function(e){var t=e?e.replace(/^\s+|\s+$/g,""):e;if(!t){e=this._oBundle.getText("INBOX_TASK_TITLE_NOTAVAILABLE_MSG")}else{e=t+"\n"+this._oBundle.getText("INBOX_CURRENT_TASKTITLE_TOOLTIP")}sap.ui.commons.Link.prototype.setTooltip.call(this,e)},renderer:function(e,t){var i=e,s=sap.ui.commons.LinkRenderer;if(!t.getVisible()){return}i.write("<a");i.writeControlData(t);i.writeAccessibilityState(t);if(!t.getEnabled()){i.addClass("sapUiLnkDsbl");i.writeAttribute("disabled","true")}else{i.addClass("sapUiLnk")}i.writeClasses();if(t.getTooltip_AsString()){i.writeAttributeEscaped("title",t.getTooltip_AsString())}if(t.getHref()){i.writeAttributeEscaped("href",t.getHref());i.writeAttribute("rel","noopener noreferrer")}if(t.getTarget()){i.writeAttributeEscaped("target",t.getTarget())}if(!t.getEnabled()){i.writeAttribute("tabIndex","-1")}else{i.writeAttribute("tabIndex","0")}if(t.getWidth()){i.addStyle("width",t.getWidth())}i.writeStyles();i.write(">");if(t.getText()){var r=t.getText();if(t.getOverdue()){r="! "+r}i.writeEscaped(r)}i.write("</a>")}});
},
	"sap/uiext/inbox/InboxPrimaryFilterEnum.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxPrimaryFilterEnum");sap.uiext.inbox.InboxPrimaryFilterEnum={OPEN:{key:"li_openTasks",value:"open"},COMPLETED:{key:"li_completedTasks",value:"completed"},ESCALATED:{key:"li_escalatedTasks",value:"escalated"},OVERDUE:{key:"li_overdueTasks",value:"overdue"}};
},
	"sap/uiext/inbox/InboxPrimaryFilters.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxPrimaryFilters");jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.uiext.inbox.InboxPrimaryFilters");jQuery.sap.require("sap.uiext.inbox.InboxPrimaryFilterEnum");sap.ui.base.Object.extend("sap.uiext.inbox.InboxPrimaryFilters",{constructor:function(){sap.ui.base.Object.apply(this);this.oFilter=undefined;this.inboxUtils=sap.uiext.inbox.InboxUtils;this.oPrimaryFilterEnum=sap.uiext.inbox.InboxPrimaryFilterEnum}});sap.uiext.inbox.InboxPrimaryFilters.prototype.setFilter=function(i){if(i&&i.hasOwnProperty("key")&&i.hasOwnProperty("value")){this.oFilter=i}};sap.uiext.inbox.InboxPrimaryFilters.prototype.getFilter=function(){return this.oFilter};
},
	"sap/uiext/inbox/InboxRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxRenderer");sap.uiext.inbox.InboxRenderer={};sap.uiext.inbox.InboxRenderer.render=function(e,r){e.write("<div");e.writeControlData(r);e.writeAttribute("class","sapUiExtInbox");e.write(">");e.renderControl(r.vLayout);e.write("</div>")};
},
	"sap/uiext/inbox/InboxSecondaryFilterPathEnum.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxSecondaryFilterPathEnum");jQuery.sap.require("sap.uiext.inbox.InboxSecondaryFilterValuesEnum");sap.uiext.inbox.InboxSecondaryFilterPathEnum={STATUS:{key:"Status",allowedKeyValues:["INBOX_FILTER_STATUS_READY","INBOX_FILTER_STATUS_RESERVED","INBOX_FILTER_STATUS_IN_PROGRESS"]},PRIORITY:{key:"Priority",allowedKeyValues:["INBOX_FILTER_PRIORITY_LOW","INBOX_FILTER_PRIORITY_MEDIUM","INBOX_FILTER_PRIORITY_HIGH","INBOX_FILTER_PRIORITY_VERY_HIGH"]},DUEDATE:{key:"DueDate",allowedKeyValues:["INBOX_FILTER_DUE_DATETIME_TODAY","INBOX_FILTER_DUE_DATETIME_MONTH","INBOX_FILTER_DUE_DATETIME_WEEK","INBOX_FILTER_DUE_DATETIME_15DAYS","INBOX_FILTER_NO_DUE_DATETIME"]},STARTDATE:{key:"StartDate",allowedKeyValues:["INBOX_FILTER_DATETIME_TODAY","INBOX_FILTER_DATETIME_MONTH","INBOX_FILTER_DATETIME_WEEK","INBOX_FILTER_DATETIME_15DAYS"]},TASKTYPE:{key:"TaskType",allowedKeyValues:[]}};
},
	"sap/uiext/inbox/InboxSecondaryFilterValuesEnum.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxSecondaryFilterValuesEnum");sap.uiext.inbox.InboxSecondaryFilterValuesEnum=function(){throw new Error};sap.uiext.inbox.InboxSecondaryFilterValuesEnum={Status:{READY:{key:"READY",uiKey:"INBOX_FILTER_STATUS_READY",filterKey:"readyStat"},RESERVED:{key:"RESERVED",uiKey:"INBOX_FILTER_STATUS_RESERVED",filterKey:"resStat"},INPROGRESS:{key:"IN_PROGRESS",uiKey:"INBOX_FILTER_STATUS_IN_PROGRESS",filterKey:"InProStat"}},Priority:{LOW:{key:"LOW",uiKey:"INBOX_FILTER_PRIORITY_LOW",filterKey:"lowPrio"},MEDIUM:{key:"MEDIUM",uiKey:"INBOX_FILTER_PRIORITY_MEDIUM",filterKey:"medPrio"},HIGH:{key:"HIGH",uiKey:"INBOX_FILTER_PRIORITY_HIGH",filterKey:"hiPrio"},VERYHIGH:{key:"VERY_HIGH",uiKey:"INBOX_FILTER_PRIORITY_VERY_HIGH",filterKey:"veryhiPrio"}},StartDate:{TODAY:{key:"Today",uiKey:"INBOX_FILTER_DATETIME_TODAY",filterKey:"today"},LAST7DAYS:{key:"Last_7_days",uiKey:"INBOX_FILTER_DATETIME_WEEK",filterKey:"last7"},LAST15DAYS:{key:"Last_15_days",uiKey:"INBOX_FILTER_DATETIME_15DAYS",filterKey:"last15"},LAST30DAYS:{key:"Last_30_days",uiKey:"INBOX_FILTER_DATETIME_MONTH",filterKey:"last30"}},DueDate:{TODAY:{key:"Today",uiKey:"INBOX_FILTER_DUE_DATETIME_TODAY",filterKey:"dueDateToday"},NEXT7DAYS:{key:"Next_7_days",uiKey:"INBOX_FILTER_DUE_DATETIME_WEEK",filterKey:"dueDatenext7"},NEXT15DAYS:{key:"Next_15_days",uiKey:"INBOX_FILTER_DUE_DATETIME_15DAYS",filterKey:"dueDatenext15"},NEXT30DAYS:{key:"Next_30_days",uiKey:"INBOX_FILTER_DUE_DATETIME_MONTH",filterKey:"dueDatenext30"},NODUEDATE:{key:"No_Due_Date",uiKey:"INBOX_FILTER_NO_DUE_DATETIME",filterKey:"noDueDate"}}};
},
	"sap/uiext/inbox/InboxSecondaryFilters.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxSecondaryFilters");jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.uiext.inbox.TaskInitialFilters");jQuery.sap.require("sap.uiext.inbox.InboxSecondaryFilterPathEnum");jQuery.sap.require("sap.uiext.inbox.InboxSecondaryFilterValuesEnum");sap.ui.base.Object.extend("sap.uiext.inbox.InboxSecondaryFilters",{constructor:function(){sap.ui.base.Object.apply(this);this.inboxUtils=sap.uiext.inbox.InboxUtils;this.mFiltersToApplyMap={};this.mFilterObjects;this.mSelectUIKeysMap={};this.filter=undefined;this.aFilterObjects=undefined;this.oPathEnum=sap.uiext.inbox.InboxSecondaryFilterPathEnum;this.oValuesEnum=sap.uiext.inbox.InboxSecondaryFilterValuesEnum}});sap.uiext.inbox.InboxSecondaryFilters.prototype.setStandardFilters=function(e){if(e instanceof sap.uiext.inbox.TaskInitialFilters||e instanceof Array){this.aFilterObjects=e;this._parseFilterObjects(e)}};sap.uiext.inbox.InboxSecondaryFilters.prototype.getStandardFilters=function(e){return this.aFilterObjects};sap.uiext.inbox.InboxSecondaryFilters.prototype._parseFilterObjects=function(e){if(e instanceof sap.uiext.inbox.TaskInitialFilters){this.filter=e}else{var t;for(var i=0;i<e.length;i++){t=e[i];this._createFilters(t)}}};sap.uiext.inbox.InboxSecondaryFilters.prototype._createFilters=function(e){var t=e.sPath,i=t.key,r=e.values;if(t&&r){var s=[this.oPathEnum.DUEDATE.key,this.oPathEnum.STARTDATE.key];r=jQuery.inArray(i,s)===-1?r:[r[0]];var n=r.length,o=0,a=[],l=[];if(t.key==="TaskType"){for(;o<n;o++){var p=r[o];if(p){var u=new sap.ui.model.Filter("TaskDefinitionID",sap.ui.model.FilterOperator.EQ,decodeURIComponent(r[o]));l.push(u);a.push(encodeURIComponent(r[o]));this.mFiltersToApplyMap[r[o]]=u}}}else{for(;o<n;o++){var x=t.allowedKeyValues;var p=r[o];if(p&&jQuery.inArray(p.uiKey,x)!==-1){var b=p.key;var u=this["_get"+i+"Filter"](b);l.push(u);a.push(p.uiKey);this.mFiltersToApplyMap[p.filterKey]=u}}}if(!this.mFilterObjects){this.mFilterObjects={}}this.mSelectUIKeysMap[i]=a;this.mFilterObjects[i]=l}};sap.uiext.inbox.InboxSecondaryFilters.prototype._getStatusFilter=function(e){return this.inboxUtils._getStatusFilters(e)};sap.uiext.inbox.InboxSecondaryFilters.prototype._getPriorityFilter=function(e){return this.inboxUtils._getPriorityFilters(e)};sap.uiext.inbox.InboxSecondaryFilters.prototype._getDueDateFilter=function(e){return this.inboxUtils._getDueDateFilters(e)};sap.uiext.inbox.InboxSecondaryFilters.prototype._getStartDateFilter=function(e){return this.inboxUtils._getDateTimeFilters(e)};sap.uiext.inbox.InboxSecondaryFilters.prototype.getFilterObjects=function(){return{filterOperatorMap:this.mFilterObjects,filtersAppliedMap:this.mFiltersToApplyMap}};sap.uiext.inbox.InboxSecondaryFilters.prototype.getFilterUIKeys=function(){return this.mSelectUIKeysMap};
},
	"sap/uiext/inbox/InboxSplitApp.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxSplitApp");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.InboxSplitApp",{metadata:{deprecated:true,library:"sap.uiext.inbox",properties:{showMasterPageNavBtn:{type:"boolean",group:"Appearance",defaultValue:null},tcmServiceURL:{type:"string",defaultValue:null},filters:{type:"object[]",group:"Misc",defaultValue:null},tcmConfiguration:{type:"object",group:"Misc",defaultValue:null}},aggregations:{splitAppl:{type:"sap.m.SplitApp",multiple:false}},events:{navButtonPressed:{}}}});jQuery.sap.require("sap.uiext.inbox.splitapp.MasterPage");jQuery.sap.require("sap.uiext.inbox.splitapp.DetailViewPage");sap.uiext.inbox.InboxSplitApp.prototype.init=function(){this.oCore=sap.ui.getCore();this.bPhoneDevice=jQuery.device.is.phone;this.setAggregation("splitAppl",new sap.m.SplitApp({mode:this.bPhoneDevice?sap.m.SplitAppMode.HideMode:sap.m.SplitAppMode.StretchCompressMode}));this.oSplitApp=this.getAggregation("splitAppl");this.oInboxMasterPage=new sap.uiext.inbox.splitapp.MasterPage(this.getId()+"-mp");this.oSplitApp.addMasterPage(this.oInboxMasterPage.getPage());this.oInboxDetailPage=new sap.uiext.inbox.splitapp.DetailViewPage(this.getId()+"-dp");this.oSplitApp.addDetailPage(this.oInboxDetailPage.getPage());var e=jQuery.proxy(this._handleListSelect,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","masterPageListSelected",e);var t=jQuery.proxy(this._handleNavButtonTapped,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","masterPageNavButtonTapped",t);var i=jQuery.proxy(this._handleNavButtonPressDetailPage,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","detailPageNavButtonTapped",i);var a=jQuery.proxy(this._handleOpenTaskExecutionUI,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","detailPageTaskTitleSelected",a);var o=jQuery.proxy(this._handleTaskActionCompleted,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","taskActionCompleted",o)};sap.uiext.inbox.InboxSplitApp.prototype.setTcmServiceURL=function(e){this.setProperty("tcmServiceURL",e,true);var t=new sap.ui.model.odata.ODataModel(e,true);t.setCountSupported(false);this.setModel(t,"inboxTCMModel");this.oInboxDetailPage._setTcmServiceURL(e);this.oInboxMasterPage._setTcmServiceURL(e);return this};sap.uiext.inbox.InboxSplitApp.prototype.setTcmConfiguration=function(e){this.setProperty("tcmConfiguration",e,true);var t=this.getProperty("tcmConfiguration");this.oInboxDetailPage._setTcmConfiguration(t);return this};sap.uiext.inbox.InboxSplitApp.prototype.setShowMasterPageNavBtn=function(e){this.setProperty("showMasterPageNavBtn",e,true);this.oInboxMasterPage.setShowNavButton(e);return this};sap.uiext.inbox.InboxSplitApp.prototype._handleNavButtonTapped=function(e,t,i){this.fireNavButtonPressed()};sap.uiext.inbox.InboxSplitApp.prototype._handleNavButtonPressDetailPage=function(e,t){this.oSplitApp.toMaster(this.oInboxMasterPage.getPage().getId())};sap.uiext.inbox.InboxSplitApp.prototype.bindTasks=function(e){this.oInboxMasterPage.bindService(e);return this};sap.uiext.inbox.InboxSplitApp.prototype.resetSearchCriteria=function(){if(this.oInboxMasterPage){this.oInboxMasterPage.resetSearchCriteria()}return this};sap.uiext.inbox.InboxSplitApp.prototype._handleOpenTaskExecutionUI=function(e,t,i){if(!this.oTaskExecutionUIPageObj){this._createTaskExecutionUIPage()}this.oTaskExecutionUIPageObj.getPage().setBindingContext(i.context);this.oTaskExecutionUIPageObj.open();if(jQuery.device.is.phone){this.oSplitApp.to(this.oTaskExecutionUIPageObj.getPage().getId())}};sap.uiext.inbox.InboxSplitApp.prototype._createTaskExecutionUIPage=function(){jQuery.sap.require("sap.uiext.inbox.splitapp.TaskExecutionUIPage");this.oTaskExecutionUIPageObj=new sap.uiext.inbox.splitapp.TaskExecutionUIPage(this.getId()+"-exUi");this.oSplitApp.addPage(this.oTaskExecutionUIPageObj.getPage());var e=jQuery.proxy(this._handleTaskExecUIPageNavButtonPressed,this);this.oCore.getEventBus().subscribe("sap.uiext.inbox","taskExecUIPageNavButtonPressed",e)};sap.uiext.inbox.InboxSplitApp.prototype._handleTaskExecUIPageNavButtonPressed=function(e,t,i){this.oSplitApp.backToTopDetail();this.oInboxMasterPage._refreshTasks(null,this.oInboxMasterPage);this.oInboxDetailPage.renderDetailsPage()};sap.uiext.inbox.InboxSplitApp.prototype._handleListSelect=function(e,t,i){this.oInboxDetailPage.getPage().setBindingContext(i.context);if(this.bPhoneDevice){this.oSplitApp.toDetail(this.oInboxDetailPage.getPage().getId())}if(this.oInboxDetailPage.getPage().getId()==this.oSplitApp.getCurrentPage().getId()){this.oInboxDetailPage.renderDetailsPage(i.onUpdate)}else{this._handleOpenTaskExecutionUI(null,null,i)}};sap.uiext.inbox.InboxSplitApp.prototype._handleTaskActionCompleted=function(e,t,i){if(!this.bPhoneDevice){this.oInboxMasterPage.rerenderTask(i.taskData)}else{this.oInboxDetailPage.updateTaskDataInModel(i.taskData);if(i.taskData.Status!="COMPLETED"){this.oInboxDetailPage.renderDetailsPage()}else{this.oSplitApp.toMaster(this.oInboxMasterPage.getPage().getId())}}};
},
	"sap/uiext/inbox/InboxSplitAppRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxSplitAppRenderer");sap.uiext.inbox.InboxSplitAppRenderer={};sap.uiext.inbox.InboxSplitAppRenderer.render=function(e,i){e.write("<div");e.writeControlData(i);e.writeAttribute("class","sapuiextinbox-inboxSplitApp");e.write(">");e.renderControl(i.getAggregation("splitAppl"));e.write("</div>")};
},
	"sap/uiext/inbox/InboxTaskCategoryFilterList.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxTaskCategoryFilterList");sap.ui.ux3.FacetFilterList.extend("sap.uiext.inbox.InboxTaskCategoryFilterList",{init:function(){if(sap.ui.ux3.FacetFilterList.prototype.init){sap.ui.ux3.FacetFilterList.prototype.init.apply(this,arguments)}this._oListBox.removeItem(this._oItemAll);this._oItemAll=undefined},renderer:function(e,t){sap.ui.ux3.FacetFilterListRenderer.render.apply(this,arguments)},removeAllItems:function(){this._oListBox.removeAllItems()},destroyItems:function(){this._oListBox.destroyItems()},updateText4All:function(){},onBeforeRendering:function(){if(this.bFullHeight){}else{this._oListBox.setVisibleItems(5)}var e=this.getSelectedKeys();if(e&&e.length>0){this._oListBox.setSelectedKeys(e);this._bAllOnly=false}},updateItems:function(){this.updateAggregation("items");var e=this._oListBox.getSelectedKeys()},onSelect:function(e,t){var i=this._oListBox.getSelectedKeys();this._bAllOnly=false;this.setProperty("selectedKeys",i,true);var s=[];var l=[];var o=this._oListBox.getSelectedItems();if(!this._bAllOnly){for(var n=0;n<o.length;n++){if(o[n]!=this._oItemAll){s.push(this.indexOfItem(o[n]));l.push(o[n])}}}this.fireSelect({id:e.getId(),all:this._bAllOnly,selectedIndices:s,selectedItems:l})}});
},
	"sap/uiext/inbox/InboxTile.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxTile");sap.m.StandardTile.extend("sap.uiext.inbox.InboxTile",{init:function(){if(sap.m.StandardTile.prototype.init){sap.m.StandardTile.prototype.init.apply(this,arguments)}this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox")},metadata:{properties:{}},renderer:{}});
},
	"sap/uiext/inbox/InboxToggleTextView.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxToggleTextView");sap.ui.core.Control.extend("sap.uiext.inbox.InboxToggleTextView",{metadata:{properties:{showMore:{type:"string",defaultValue:"auto"}},aggregations:{fTV:{type:"sap.ui.commons.FormattedTextView",multiple:false,visibility:"public"},taskDescriptionLink:{type:"sap.ui.commons.Link",multiple:false,visibility:"hidden"}},events:{showMoreClick:{enablePreventDefault:true}}},init:function(){var e=this;this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.setAggregation("taskDescriptionLink",new sap.ui.commons.Link({text:e._oBundle.getText("INBOX_SHOW_MORE_TEXT"),tooltip:e._oBundle.getText("INBOX_SHOW_MORE_LINK_TOOLTIP"),visible:false}).attachPress(jQuery.proxy(this.showMoreClick,this)))},renderer:{render:function(e,t){e.write("<div");e.writeControlData(t);e.addClass("InboxToggleTextView");e.writeClasses();e.write(">");e.write("<div");e.addClass("fTV");e.writeClasses();e.writeStyles();e.write(">");e.renderControl(t.getAggregation("fTV"));e.write("</div>");if(t.getAggregation("taskDescriptionLink").getVisible()){e.write("<div");e.addClass("taskDescriptionLink");e.writeClasses();e.writeStyles();e.write(">");e.renderControl(t.getAggregation("taskDescriptionLink"));e.write("</div>")}e.write("</div>")}},onAfterRendering:function(){var e=this.getAggregation("fTV");if(this.getShowMore()==="true"||e.isClamped()&&this.getShowMore()==="auto"){this.getAggregation("taskDescriptionLink").setVisible(true)}},showMoreClick:function(e){var t=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");var i=t.getText("INBOX_SHOW_MORE_TEXT");var r=t.getText("INBOX_SHOW_LESS_TEXT");if(e.getSource().getText()===i){e.getSource().setText(t.getText("INBOX_SHOW_LESS_TEXT"));e.getSource().setTooltip(t.getText("INBOX_SHOW_LESS_LINK_TOOLTIP"));this.fireShowMoreClick({text:i})}else{e.getSource().setText(i);e.getSource().setTooltip(t.getText("INBOX_SHOW_MORE_LINK_TOOLTIP"));this.fireShowMoreClick({text:r})}}});
},
	"sap/uiext/inbox/InboxUtils.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.ui.model.odata.Filter");jQuery.sap.require("sap.uiext.inbox.InboxConstants");sap.uiext.inbox.InboxUtils=function(){throw new Error};sap.uiext.inbox.InboxUtils._getCategoryFilter=function(e){return new sap.ui.model.Filter("TaskDefinitionData/Category",sap.ui.model.FilterOperator.EQ,e)};sap.uiext.inbox.InboxUtils._getStatusFilters=function(e){return new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.EQ,e)};sap.uiext.inbox.InboxUtils._getPriorityFilters=function(e){return new sap.ui.model.Filter("Priority",sap.ui.model.FilterOperator.EQ,e)};sap.uiext.inbox.InboxUtils._getDueDateFilters=function(e){var t=new Date(0);var a=undefined;switch(e){case"Today":a=this._getFormattedDueDateTimeOff(1);break;case"Next_7_days":a=this._getFormattedDueDateTimeOff(7);break;case"Next_15_days":a=this._getFormattedDueDateTimeOff(15);break;case"Next_30_days":a=this._getFormattedDueDateTimeOff(30);break;case"No_Due_Date":return new sap.ui.model.Filter("CompletionDeadLine",sap.ui.model.FilterOperator.EQ,null)}return new sap.ui.model.odata.Filter("CompletionDeadLine",[{operator:sap.ui.model.FilterOperator.LE,value1:a.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:t.toUTCString()}],true)};sap.uiext.inbox.InboxUtils._getDateTimeFilters=function(e){var t=undefined;switch(e){case"Today":t=this._getFormattedDateTimeOff(0,false);break;case"Last_7_days":t=this._getFormattedDateTimeOff(7,false);break;case"Last_15_days":t=this._getFormattedDateTimeOff(15,false);break;case"Last_30_days":t=this._getFormattedDateTimeOff(30,false);break}return new sap.ui.model.Filter("CreatedOn",sap.ui.model.FilterOperator.GE,t.toUTCString())};sap.uiext.inbox.InboxUtils._getFormattedDueDateTimeOff=function(e){var t=new Date;t.setDate(t.getDate()+e);t.setMinutes(0);t.setHours(0);t.setSeconds(0);return t};sap.uiext.inbox.InboxUtils._getFormattedDateTimeOff=function(e,t){var a=new Date;a.setDate(a.getDate()-e);if(!t){a.setMinutes(0);a.setHours(0);a.setSeconds(0)}return a};sap.uiext.inbox.InboxUtils.inArray=function(e,t){var a=-1;jQuery.each(t,function(t,i){if(i[e]===e){a=t;return false}});return a};sap.uiext.inbox.InboxUtils._dateFormat=function(e){if(e!=undefined&&typeof e=="string"&&e!=""){var t;if(e.indexOf("Date")!=-1){t=new Date;t.setTime(e.substring(e.indexOf("(")+1,e.indexOf(")")))}else{t=new Date(e.substring(e.indexOf("'")+1,e.length-1))}e=t}if(e!=undefined&&e!=""){var a=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});return a.format(e)}return""};sap.uiext.inbox.InboxUtils.scrub=function(e){e=decodeURIComponent(e);e=e.replace(/[-:.\/]/g,"");e=e.replace(/-/g,"--");e=e.replace(/\s+/g,"-");if(!/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(e)){if(/^[^A-Za-z_]/.test(e)){e=e.replace(/^[^A-Za-z_]/,"_")}e.replace(/[^-\w_.:]/g,"_")}return e};sap.uiext.inbox.InboxUtils.setCookieValue=function(e,t,a){var i="";if(a&&a>0){var n=new Date;n.setTime(n.getTime()+3600*1e3*24*365*a);i="expires="+n.toGMTString()}document.cookie=e+"="+escape(t)+"; "+i};sap.uiext.inbox.InboxUtils.getCookieValue=function(e){var t,a,i,n=document.cookie.split(";");for(t=0;t<n.length;t++){a=n[t].substr(0,n[t].indexOf("="));i=n[t].substr(n[t].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==e){return unescape(i)}}};sap.uiext.inbox.InboxUtils.deleteCookie=function(e){var t=new Date;document.cookie=e+"="+";expires=Thu, 01-Jan-1970 00:00:01 GMT"};sap.uiext.inbox.InboxUtils.reselectRowsinTable=function(e,t){var a=e[0];for(var i=0;i<e.length;i++){t.addSelectionInterval(e[i],e[i]);a=Math.min(e[i],a)}if(a){var n=Math.floor(a/10)*10;t.setFirstVisibleRow(n)}};sap.uiext.inbox.InboxUtils.deSelectOtherActionButtonsinStreamView=function(e){var t=e.getParent().getParent();if(t){var a=t.getCells();var i=a.length;for(var n=0;n<i;n++){var r=a[n].getContent()[0];if(r&&r!==e&&r instanceof sap.ui.commons.ToggleButton){if(r.getVisible()&&r.getPressed()){r.setPressed(false);r.firePress(false)}}}}};sap.uiext.inbox.InboxUtils._getDefaultFilter=function(){return new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.NE,"COMPLETED")};sap.uiext.inbox.InboxUtils._hasFilter=function(e,t,a,i,n){var r=false;if(e&&e.length>0){jQuery.each(e,function(e,o){if(o.sPath===t&&o.sOperator===a&&o.oValue1===i&&o.oValue2===n){r=true;return false}})}return r};sap.uiext.inbox.InboxUtils.tooltipFormatForDateTime=function(e){if(e!=undefined&&typeof e=="string"&&e!=""){var t;if(e.indexOf("Date")!=-1){t=new Date;t.setTime(e.substring(e.indexOf("(")+1,e.indexOf(")")))}else{t=new Date(e.substring(e.indexOf("'")+1,e.length-1))}e=t}if(e!=undefined&&e!=""){var a=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"full"});return a.format(e)}return""};sap.uiext.inbox.InboxUtils.dateTimeFormat=function(e,t){if(e!=undefined&&typeof e=="string"&&e!=""){var a;if(e.indexOf("Date")!=-1){a=new Date;a.setTime(e.substring(e.indexOf("(")+1,e.indexOf(")")))}else{a=new Date(e.substring(e.indexOf("'")+1,e.length-1))}e=a}if(e!=undefined&&e!=""){var i=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});var n=sap.ui.core.format.DateFormat.getTimeInstance({style:"short"});if(t&&t===true)return i.format(e);else return i.format(e)+" "+n.format(e)}return""};sap.uiext.inbox.InboxUtils._isOverDue=function(e){if(e===undefined||e===null||e==="")return false;var t=(new Date).getTime();var a;if(typeof e==="string"){var i=e.substring(e.indexOf("(")+1,e.indexOf(")")-1);a=parseInt(i)-t<0?true:false}else{a=e.getTime()-t<0?true:false}return a};sap.uiext.inbox.InboxUtils.getUserMediaResourceURL=function(e,t,a){return e+"/"+sap.uiext.inbox.InboxConstants.UserInfoCollection+"("+sap.uiext.inbox.InboxConstants.sapOrigin+"='"+t+"',UniqueName='"+a+"')/$value"};sap.uiext.inbox.InboxUtils._getUniqueArray=function(e){function t(e,t){var a=[];var i,n;var r=e.length;var o=t.length;for(i=0;i<r;i++){for(n=0;n<o;n++){if(e[i]===t[n]){a.push(e[i])}}}return a}if(e.length==0)return[];else if(e.length==1)return e[0];var a=e[0];for(var i=1;i<e.length;i++){a=t(a,e[i])}return a};sap.uiext.inbox.InboxUtils._getFileTypeIcon=function(e){var t;switch(e){case"text/plain":t="attachment-text-file";break;case"image/jpeg":case"image/png":case"image/gif":case"image/x-icon":t="attachment-photo";break;case"application/pdf":t="pdf-attachment";break;case"application/mspowerpoint":case"application/vnd.ms-powerpoint":case"application/powerpoint":case"application/x-mspowerpoint":t="ppt-attachment";break;case"application/excel":case"application/x-excel":case"application/x-msexcel":case"application/vnd.ms-excel":t="excel-attachment";break;case"application/msword":t="doc-attachment";break;case"application/zip":t="attachment-zip-file";break;default:t="document"}return sap.ui.core.IconPool.getIconURI(t)};sap.uiext.inbox.InboxUtils._getFileSize=function(e){if(e){var t=["Bytes","KB","MB","GB","TB"];if(e==0)return"0 Byte";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));var i;if(a>1){i=(e/Math.pow(1024,a)).toFixed(2)}else{i=Math.round(e/Math.pow(1024,a),2)}var n=i.toString()+" "+t[a];return n}};sap.uiext.inbox.InboxUtils.appendThemingParameters=function(e,t){var a=new URI(e);var i=a.search();a.search((!i?"?":i+"&")+t.replace(/^(\?|&)/,""));return a.toString()};sap.uiext.inbox.InboxUtils.calculateLengthofAssociativeArray=function(e){var t=0,a;for(a in e){if(e.hasOwnProperty(a))t++}return t};sap.uiext.inbox.InboxUtils.getErrorMessageFromODataErrorObject=function(e){var t="";var a="";if(e.hasOwnProperty("response")){try{a=JSON.parse(e.response.body)}catch(e){t=e.name+" : "+e.message;console.log(e.stack);return t}t=a.error.message.value+"\n"}return t};
},
	"sap/uiext/inbox/SubstitutionRulesManager.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.SubstitutionRulesManager");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.SubstitutionRulesManager",{metadata:{deprecated:true,library:"sap.uiext.inbox"}});jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.uiext.inbox.InboxConstants");jQuery.sap.require("sap.uiext.inbox.SubstitutionRulesManagerConstants");jQuery.sap.require("sap.uiext.inbox.SubstitutionRulesManagerUtils");jQuery.sap.require("sap.uiext.inbox.TCMMetadata");jQuery.sap.require("sap.ui.core.IconPool");sap.uiext.inbox.SubstitutionRulesManager.prototype.init=function(){var e=sap.ui.getCore().getConfiguration().getTheme();this._imgResourcePath=sap.ui.resource("sap.uiext.inbox","themes/"+e+"/img/");this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.sUrl="";this.sPath="/SubstitutionRuleCollection";this.inboxUtils=sap.uiext.inbox.InboxUtils;this.substitutionRulesManagerUtils=sap.uiext.inbox.SubstitutionRulesManagerUtils;this.inboxConstants=sap.uiext.inbox.InboxConstants;this.substitutionConstants=sap.uiext.inbox.SubstitutionRulesManagerConstants;this.substitutionRuleCollection=this.substitutionConstants.SubstitutionRuleCollection;this.substitutesRuleCollection=this.substitutionConstants.SubstitutesRuleCollection;this.oTcmMetadata=new sap.uiext.inbox.TCMMetadata;this.constants=sap.uiext.inbox.InboxConstants;this.bUseBatch=false;this.oPendingSearchRequestInSubstitution=undefined};sap.uiext.inbox.SubstitutionRulesManager.prototype.exit=function(){this.vLayout.destroy();this.vLayout=null;function e(e){var t=sap.ui.getCore().byId(e);t&&t.destroy()}this._oBundle=undefined};sap.uiext.inbox.SubstitutionRulesManager.prototype.getSubstitutionRulesData=function(e){if(this.bUseBatch){this._fetchSubstitutionRuleCollectionData()}else{this.data.substitutionRulesCollection=[];this._fetchEnabledSubstitutionRuleCollection(e);this._fetchDisabledSubstitutionRuleCollection(e)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._getSubstitutesRulesData=function(e){if(this.bUseBatch){this._fetchSubstitutesRuleCollectionData()}else{this.data.substitutesRulesCollection=[];this._fetchEnabledSubstitutesRuleCollection(e);this._fetchDisabledSubstitutesRuleCollection(e)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._handleAuthenticationResponse=function(e,t){if(t.statusCode===200&&e===undefined){window.location.reload(true)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchSubstitutionRuleCollectionData=function(){var e=new Array;e[0]="/SubstitutionRuleCollection";if(this.oTcmMetadata._isEntitySet(this.constants.SystemInfoCollection.name,this.constants.SystemInfoCollection.entityType)){e[1]="/"+this.constants.SystemInfoCollection.name}this.oDataManager.fireBatchRequest({aPaths:e,sMethod:"GET",sBatchGroupId:"fetchInitialSubstitutionData",numberOfRequests:e.length,fnSuccess:jQuery.proxy(this.processSubstitutionData,this),fnError:jQuery.proxy(this.showSubstitutionErrorMessage,this)})};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchSubstitutesRuleCollectionData=function(){var e=this;e.oDataManager.readData("/SubstitutesRuleCollection",{success:function(t,o){e.oSubstitutesRuleCollectionModel.setData({SubstitutesRuleCollection:t.results})},error:function(t){e.showSubstitutionErrorMessage()}})};sap.uiext.inbox.SubstitutionRulesManager.prototype.processSubstitutionData=function(e,t){var o=e.__batchResponses;var i=true;if(this.oTcmMetadata._isEntitySet(this.constants.SystemInfoCollection.name,this.constants.SystemInfoCollection.entityType)){var s=o[1];if(s&&s.statusCode&&s.statusCode==200){this.oSystemInfoData=s.data.results}else{i=false}}var a=o[0];if(a&&a.statusCode&&a.statusCode==200){this._getSubstitutionRuleCollectionModel().setData({SubstitutionRuleCollection:a.data.results})}else{i=false}if(!i){this.showSubstitutionErrorMessage()}};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchEnabledSubstitutionRuleCollection=function(e){var t=this;e.read("/SubstitutionRuleCollection?$filter=IsEnabled%20eq%20true",null,null,true,function(e,o){t._handleAuthenticationResponse(e,o);t.data.substitutionRulesCollection=t.data.substitutionRulesCollection.concat(e.results);t._getSubstitutionRuleCollectionModel().setData({SubstitutionRuleCollection:t.data.substitutionRulesCollection})},function(e){t.showSubstitutionErrorMessage()})};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchDisabledSubstitutionRuleCollection=function(e){var t=this;e.read("/SubstitutionRuleCollection?$filter=IsEnabled%20eq%20false",null,null,true,function(e,o){t._handleAuthenticationResponse(e,o);t.data.substitutionRulesCollection=t.data.substitutionRulesCollection.concat(e.results);t._getSubstitutionRuleCollectionModel().setData({SubstitutionRuleCollection:t.data.substitutionRulesCollection})},function(e){t.showSubstitutionErrorMessage()})};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchEnabledSubstitutesRuleCollection=function(e){var t=this;e.read("/SubstitutesRuleCollection?$filter=IsEnabled%20eq%20true",null,null,true,function(e,o){t._handleAuthenticationResponse(e,o);t.data.substitutesRulesCollection=t.data.substitutesRulesCollection.concat(e.results);t.oSubstitutesRuleCollectionModel.setData({SubstitutesRuleCollection:t.data.substitutesRulesCollection})},function(e){t.showSubstitutionErrorMessage()})};sap.uiext.inbox.SubstitutionRulesManager.prototype._fetchDisabledSubstitutesRuleCollection=function(e){var t=this;e.read("/SubstitutesRuleCollection?$filter=IsEnabled%20eq%20false",null,null,true,function(e,o){t._handleAuthenticationResponse(e,o);t.data.substitutesRulesCollection=t.data.substitutesRulesCollection.concat(e.results);t.oSubstitutesRuleCollectionModel.setData({SubstitutesRuleCollection:t.data.substitutesRulesCollection})},function(e){t.showSubstitutionErrorMessage()})};sap.uiext.inbox.SubstitutionRulesManager.prototype.showSubstitutionErrorMessage=function(){this.showMessage("error",this._oBundle.getText("INBOX_MSG_FETCH_SUBSTITUTION_FAILED"))};sap.uiext.inbox.SubstitutionRulesManager.prototype.open=function(){var e=this.getModel();if(e instanceof sap.ui.model.odata.ODataModel){var t=e.getServiceMetadata();if(e.sServiceUrl&&t){this.oTcmMetadata.setServiceMetadata(t)}}this.overlayContainer=this.populateOverlayContainer();this.overlayContainer.open()};sap.uiext.inbox.SubstitutionRulesManager.prototype.populateOverlayContainer=function(){var e=this;var t=this.getId()+"--";var o=sap.ui.getCore().byId(t+"substitutionOverlayContainer");if(o===undefined){o=new sap.ui.ux3.OverlayContainer(t+"substitutionOverlayContainer");o.setOpenButtonVisible(false);o.attachClose(function(t){e.closeNotificationBar1();if(e.bSubstituteDataRefreshed){e.bSubstituteDataRefreshed=false}});var i=sap.ui.getCore().byId(t+"substitutionVLayout");if(i===undefined){i=new sap.ui.commons.layout.VerticalLayout(t+"substitutionVLayout")}i.setWidth("95%");i.addStyleClass("verticalLayoutStyle");var s=sap.ui.getCore().byId(t+"substDummyLabel0");if(s===undefined){s=new sap.ui.commons.Label(this.getId()+"--"+"substDummyLabel0",{text:""})}var a=sap.ui.getCore().byId(t+"newSubstitutionLink");if(a===undefined){a=new sap.ui.commons.Link(t+"newSubstitutionLink",{text:this._oBundle.getText("SUBSTITUTION_RULE_CREATE_NEW_BUTTON"),tooltip:this._oBundle.getText("SUBSTITUTION_RULE_CREATE_TOOLTIP")})}a.attachPress(e,e.openCreateSubstRulePopup);a.addStyleClass("newSubstitutionLink");var n=sap.ui.getCore().byId(t+"subsNavBar");if(n===undefined){n=new sap.ui.ux3.NavigationBar(t+"subsNavBar",{items:[new sap.ui.ux3.NavigationItem(t+"mySubstitutes",{key:t+"mySubstitutes",text:this._oBundle.getText("SUBSTITUTION_MY_SUBSTITUTES_TAB_TITLE"),tooltip:this._oBundle.getText("SUBSTITUTION_MY_SUBSTITUTES_TAB_TITLE")}),new sap.ui.ux3.NavigationItem(t+"iamSubstituting",{key:t+"iamSubstituting",text:this._oBundle.getText("SUBSTITUTION_I_AM_SUBSTITUTING_TAB_TITLE"),tooltip:this._oBundle.getText("SUBSTITUTION_I_AM_SUBSTITUTING_TAB_TITLE")})]})}n.setSelectedItem(t+"mySubstitutes");n.addStyleClass("navigationBarMargin");n.addStyleClass("sapUiExtInboxSubstitutionNavigationBar");var u=sap.ui.getCore().byId(t+"substDummyLabel");if(u===undefined){u=new sap.ui.commons.Label(this.getId()+"--"+"substDummyLabel",{text:""})}var r=0;i.insertContent(s,r);if(sap.ui.getCore().byId(t+"notificationBar1")===undefined){i.insertContent(this.populateNotificationBar(),++r)}i.insertContent(n,++r);i.insertContent(a,++r);i.insertContent(u,++r);var l=sap.ui.getCore().byId(t+"activeAndinactiveRulesVLayout");if(l===undefined){l=new sap.ui.commons.layout.VerticalLayout(t+"activeAndinactiveRulesVLayout");l.setWidth("100%");l.insertContent(new sap.ui.commons.Label({text:e._oBundle.getText("SUBSTITUTION_ACTIVE_SUBSTITUTION_RULE"),design:sap.ui.commons.LabelDesign.Bold}).addStyleClass("activeLabelFontSize"),0);l.insertContent(new sap.ui.commons.Label({text:""}),1);l.insertContent(new sap.ui.commons.Label({text:""}),2);l.insertContent(new sap.ui.commons.Label({text:""}),3);l.insertContent(new sap.ui.commons.Label({text:e._oBundle.getText("SUBSTITUTION_INACTIVE_SUBSTITUTION_RULE"),design:sap.ui.commons.LabelDesign.Bold}).addStyleClass("activeLabelFontSize"),4);l.insertContent(new sap.ui.commons.Label({text:""}),5);l.insertContent(new sap.ui.commons.Label({text:""}),6)}var p=++r;i.insertContent(e.getOverlayContent(t+"mySubstitutes",l),p);o.addContent(i);n.attachSelect(function(t){var o=t.getParameter("item").getKey();i.removeContent(p);i.insertContent(e.getOverlayContent(o,l),p)})}else{var n=sap.ui.getCore().byId(t+"subsNavBar");n.setSelectedItem(t+"mySubstitutes");var l=sap.ui.getCore().byId(t+"activeAndinactiveRulesVLayout");var i=sap.ui.getCore().byId(t+"substitutionVLayout");i.insertContent(e.getOverlayContent(t+"mySubstitutes",l),p);o.addContent(i)}return o};sap.uiext.inbox.SubstitutionRulesManager.prototype.getOverlayContent=function(e,t){var o=this.getId()+"--";var i=this;var s={};var a=sap.ui.getCore().byId(o+"substitutionOverlayContainer");var n=sap.ui.getCore().byId(o+"newSubstitutionLink");var u=sap.ui.getCore().byId(o+"substitutionVLayout");if(s[e])return s[e];if(e===o+"mySubstitutes"){n.setVisible(i.isSubstitutionRuleCreationSupported);t.removeContent(2);t.insertContent(i.createSubtRuleRowReapterContent(e,true),2);t.removeContent(6);t.insertContent(i.createSubtRuleRowReapterContent(e,false),8);s[e]=t}else if(e===o+"iamSubstituting"){n.setVisible(false);t.removeContent(2);t.insertContent(i.createSubtRuleRowReapterContent(e,true),2);t.removeContent(6);t.insertContent(i.createSubtRuleRowReapterContent(e,false),8);s[e]=t}return s[e]};sap.uiext.inbox.SubstitutionRulesManager.prototype.openCreateSubstRulePopup=function(e,t){var o=this;var i=t.getId()+"--";var s=sap.ui.getCore().byId(i+"newSubstitutionLink");var a=sap.ui.getCore().byId(i+"createSubsRulePopup");if(a===undefined){a=new sap.ui.ux3.ToolPopup(i+"createSubsRulePopup",{modal:true});var n=new sap.ui.commons.layout.MatrixLayout(i+"popupMainMatrix",{layoutFixed:false,width:"300px",columns:2,widths:["25%","75%"]});var u=new sap.ui.commons.layout.MatrixLayoutCell(i+"popupMainMatrixCell1",{colSpan:2});var r=new sap.ui.commons.layout.MatrixLayoutCell(i+"popupMainMatrixCellMsgBar",{colSpan:2});u.addContent(new sap.ui.commons.TextView(i+"popupCreateSubstRuleTxt",{text:t._oBundle.getText("CREATE_SUBSTITUTION_RULE"),design:sap.ui.commons.TextViewDesign.H3}));n.createRow(u);n.createRow(r);t.populateNotificationBar(t);var l=new sap.ui.commons.layout.MatrixLayoutCell(i+"popupMainMatrixCell2",{colSpan:2});l.addContent(new sap.ui.commons.HorizontalDivider(i+"popHorzDivdr1"));n.createRow(l);var p=new sap.ui.commons.Label(i+"popupSubstLbl",{text:t._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTE_LABEL")});var d=new sap.ui.commons.ValueHelpField(i+"popupValueHelp",{width:"100%"});d.addDelegate({onAfterRendering:function(){d.$("input").prop("maxLength",0);d.$("input").prop("readonly","readonly")}});d.attachValueHelpRequest(t,t.openUsersDialog);d.setRequired(true);d.setTooltip(t._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTE_TOOLTIP"));p.setLabelFor(d);n.createRow(p,d);var T=new sap.ui.commons.Label(i+"popupAutoFwdtLbl",{text:t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_LABEL")});var S=new sap.ui.commons.SegmentedButton(i+"popupSegBtn",{buttons:[new sap.ui.commons.Button(i+"popupSegBtnON",{text:t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT"),tooltip:t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE")}),new sap.ui.commons.Button(i+"popupSegBtnOFF",{text:t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT"),tooltip:t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE")})]});S.attachSelect(function(e){if(sap.ui.getCore().byId(e.getParameters().selectedButtonId).getText()==t._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT")){sap.ui.getCore().byId(i+"popupFromDatePicker").setProperty("visible",true);sap.ui.getCore().byId(i+"popupToDatePicker").setProperty("visible",true);sap.ui.getCore().byId(i+"popupFromLbl").setProperty("visible",true);sap.ui.getCore().byId(i+"popupToLbl").setProperty("visible",true);sap.ui.getCore().byId(i+"popupFromDatePicker").setProperty("required",true);sap.ui.getCore().byId(i+"popupToDatePicker").setProperty("required",true)}else{sap.ui.getCore().byId(i+"popupFromDatePicker").setProperty("visible",false);sap.ui.getCore().byId(i+"popupToDatePicker").setProperty("visible",false);sap.ui.getCore().byId(i+"popupFromLbl").setProperty("visible",false);sap.ui.getCore().byId(i+"popupToLbl").setProperty("visible",false);sap.ui.getCore().byId(i+"popupFromDatePicker").setProperty("required",false);sap.ui.getCore().byId(i+"popupToDatePicker").setProperty("required",false)}n.rerender()});S.setSelectedButton(i+"popupSegBtnON");T.setLabelFor(S);T.setWrapping(true);n.createRow(T,S);if(t.bSubstitutionProfileAvailable){var c=new sap.ui.commons.Label(i+"substProfileLbl",{text:t._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTION_PROFILE"),wrapping:true});var b=new sap.ui.commons.ValueHelpField(i+"substProfileValueHelp",{width:"100%"}).addDelegate({onAfterRendering:function(){b.$("input").prop("maxLength",0);b.$("input").prop("readonly","readonly")}}).attachValueHelpRequest(t,t.openSubstProfileDialog).setRequired(false).setTooltip(t._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTION_PROFILE_TOOLTIP"));c.setLabelFor(b);n.createRow(c,b)}var g=new sap.ui.commons.Label(i+"popupFromLbl",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL")});var _=new sap.ui.commons.DatePicker(i+"popupFromDatePicker",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL"),width:"100%",tooltip:t._oBundle.getText("SUBSTITUTION_CREATE_FROM_DATE_TOOLTIP")});_.setRequired(true);_.setYyyymmdd(t.substitutionRulesManagerUtils._getTodaysDateinYYYYMMDD());g.setLabelFor(_);n.createRow(g,_);var f=new sap.ui.commons.Label(i+"popupToLbl",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTION_TO_DATE_LABEL")});var I=new sap.ui.commons.DatePicker(i+"popupToDatePicker",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTION_TO_DATE_LABEL"),width:"100%",tooltip:t._oBundle.getText("SUBSTITUTION_CREATE_TO_DATE_TOOLTIP")});I.setRequired(true);f.setLabelFor(I);n.createRow(f,I);var R=new sap.ui.commons.Label(i+"activateCheckBoxLbl",{text:t._oBundle.getText("SUBSTITUTION_RULE_ACTIVATE")});var C=new sap.ui.commons.CheckBox(i+"activateCheckBox",{tooltip:t._oBundle.getText("SUBSTITUTION_RULE_ACTIVATE_TOOLTIP"),checked:true});R.setLabelFor(C);n.createRow(R,C);var m=new sap.ui.commons.layout.MatrixLayoutCell(i+"popupMainMatrixCell3",{colSpan:2});m.addContent(new sap.ui.commons.HorizontalDivider(i+"popHorzDivdr2"));n.createRow(m);var y=new sap.ui.commons.Button(i+"popupCreateBtn",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTIN_RULE_CREATE_BUTTON"),tooltip:t._oBundle.getText("SUBSTITUTION_CREATE_BUTTON_TOOLTIP")});y.attachPress(t,t.createSubstitutionRule);var x=new sap.ui.commons.Button(i+"popupCancelBtn",{text:t._oBundle.getText("SUBSTITUTION_SUBSTITUTIN_RULE_CANCEL_BUTTON"),tooltip:t._oBundle.getText("SUBSTITUTION_CANCEL_BUTTON_TOOLTIP"),press:function(){a.close();a.destroy()}});n.createRow(y,x);a.addContent(n)}t.deleteMessage();a.setPosition(sap.ui.core.Popup.Dock.EndTop,sap.ui.core.Popup.Dock.BeginTop,s.getDomRef(),"-10 -10","fit");a.setInitialFocus(t.getId()+"--popupValueHelp-input");a.open()};sap.uiext.inbox.SubstitutionRulesManager.prototype.createSubtRuleRowReapterContent=function(e,t){var o=e===this.getId()+"--"+"mySubstitutes"?true:false;var i=e;if(t){i=i+"active"+"--"}else{i=i+"inactive"+"--"}var s=this;var a=sap.ui.getCore().byId(i+"subsRowRepeater");if(a===undefined){a=new sap.ui.commons.RowRepeater(i+"subsRowRepeater",{});a.attachPage(s,s.deleteMessage);a.setDesign(sap.ui.commons.RowRepeaterDesign.Transparent);s.setNoOfRules(i);jQuery(window).resize(function(e){s.setNoOfRules(i);a.rerender()});a.setNoData(new sap.ui.commons.TextView({text:s._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_NO_SUBSTITUTION_RULES_FOUND")}));var n=new sap.ui.commons.layout.MatrixLayout(i+"rowRepMainMatrix",{layoutFixed:true});if(s.bSubstitutionProfileAvailable){n.setWidths(["2%","30%","18%","18%","17%","12%","3%"]);n.setColumns(7)}else{n.setWidths(["2%","37%","24%","21%","12%","3%"]);n.setColumns(6)}if(t){n.addStyleClass("borderFillColorGray");n.addStyleClass("shadowEffectGray");n.addStyleClass("mySapUiMltPadRight")}else{n.addStyleClass("borderFillColorGray");n.addStyleClass("shadowEffectGray")}var u=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepEmptyCell");var r=new sap.ui.commons.TextView(i+"substitutionID");r.setVisible(false);r.bindProperty("text","SubstitutionRuleID");u.addContent(r);var l=new sap.ui.commons.layout.MatrixLayout(i+"rowRepSubsDetailMatLyt",{columns:1,layoutFixed:true});var p=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepEmptyRow1");var d=new sap.ui.commons.TextView(i+"rowRepEmpltyTxt1",{text:""});var T=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepEmpltyCell1",{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});T.addContent(d);p.addCell(T);var S=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepSubstNameRow");var c;c=new sap.ui.commons.TextView(i+"rowRepSubstNameTxtView");c.bindProperty("text","FullName",function(e){if(e!==null&&e!==""){return e}});c.addStyleClass("blueFontColor");c.addStyleClass("boldFontWeight");c.addStyleClass("sapUiExtSubstitutionPadding");var b=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepSubstNameCell",{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});b.addContent(c);S.addCell(b);l.addRow(S);var g=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepUsrFriendlyRow");var _=new sap.ui.commons.TextView(i+"rowRepUsrFriendlyTxt");_.addStyleClass("blackFontColor");_.bindProperty("text","FullName",function(e){if(e!==null&&e!==""&&e){var t=this.getModel();return s.substitutionRulesManagerUtils._getText(e,o,t.getProperty("IsEnabled",this.getBindingContext(),false),t.getProperty("SupportsEnableSubstitutionRule",this.getBindingContext(),false),t.getProperty("BeginDate",this.getBindingContext(),false),t.getProperty("EndDate",this.getBindingContext(),false))}});var f=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepUsrFriendly");f.addContent(_);g.addCell(f);l.addRow(g);if(s.bSubstitutionProfileAvailable){var I=new sap.ui.commons.layout.MatrixLayout(i+"rowRepSubstProfileMatLyt",{columns:1,layoutFixed:true});var R=new sap.ui.commons.TextView(i+"rowRepSystemInfoTxt").bindText({path:"SAP__Origin",formatter:function(e){var t="";if(e&&s.oSystemInfoData){jQuery.each(s.oSystemInfoData,function(o,i){if(i.SAP__Origin===e){t=s._oBundle.getText("SUBSTITUTION_RULE_SYSTEM_ALIAS")+" : "+i.SystemAlias;return false}})}return t}}).addStyleClass("grayFontColor").addStyleClass("sapUiExtSubstitutionPadding");var C=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepSystemInfoCell");var m=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepSystemInfoRow");C.addContent(R);m.addCell(C);I.addRow(m);var y=new sap.ui.commons.TextView(i+"rowRepSubstProfileTxt").bindText({parts:[{path:"ProfileText",type:new sap.ui.model.type.String},{path:"Profile",type:new sap.ui.model.type.String}],formatter:function(e,t){if(e&&t){return s._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTION_PROFILE")+" : "+e+" ("+t+")"}else{return""}}}).addStyleClass("grayFontColor");var x=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepSubstProfileCell");var h=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepSubstProfileRow");x.addContent(y);h.addCell(x);I.addRow(h)}var U=new sap.ui.commons.layout.MatrixLayout(i+"rowRepSinceUntilMatLyt",{columns:1,layoutFixed:true});var v=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepSinceDateRow");var B=new sap.ui.commons.TextView(i+"rowRepSinceDateTxt");B.addStyleClass("grayFontColor");B.addStyleClass("sapUiExtSubstitutionPadding");var E=s._oBundle.getText("SUBSTITUTION_RULE_SINCE_LABEL");if(!t){E=s._oBundle.getText("SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL")}B.bindText({parts:[{path:"BeginDate"},{path:"Mode"}],formatter:function(e,t){if(t&&t===s.substitutionConstants.MODE_RECEIVE_TASKS){return E+" : "+s.substitutionRulesManagerUtils._getFormattedDate(e)}}});var M=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepSinceDate");M.addContent(B);v.addCell(M);U.addRow(v);var O=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepUntilDateRow");var w=new sap.ui.commons.TextView(i+"rowRepUntilDateTxt");w.addStyleClass("grayFontColor");w.bindText({parts:[{path:"EndDate"},{path:"Mode"}],formatter:function(e,t){if(t&&t===s.substitutionConstants.MODE_RECEIVE_TASKS){return s._oBundle.getText("SUBSTITUTION_RULE_UNTIL_LABEL")+" : "+s.substitutionRulesManagerUtils._getFormattedDate(e)}}});var D=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepUntilDateCell");D.addContent(w);O.addCell(D);U.addRow(O);var L=new sap.ui.commons.layout.MatrixLayout(i+"rowRepActiveTimeMatLyt",{columns:1,layoutFixed:true});var N=new sap.ui.commons.layout.MatrixLayoutRow(i+"rowRepActiveRow");var A=new sap.ui.commons.TextView(i+"rowRepActiveTxt");A.addStyleClass("grayFontColor");A.addStyleClass("boldFontWeight");A.addStyleClass("sapUiExtSubstitutionPadding");A.bindText({parts:[{path:"Mode"},{path:"IsEnabled"},{path:"BeginDate"},{path:"EndDate"}],formatter:function(e,t,i,a){if(e&&e===s.substitutionConstants.MODE_RECEIVE_TASKS){return s.substitutionRulesManagerUtils._getStatus(o,t,i,a)}}});var P=new sap.ui.commons.layout.MatrixLayoutCell(i+"rowRepActiveCell",{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});P.addContent(A);N.addCell(P);L.addRow(N);var F=new sap.ui.commons.SegmentedButton(i+"rowRepOnOffSegBtn",{visible:false,buttons:[new sap.ui.commons.Button(i+"rowRepOnSegBtn",{text:s._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT"),tooltip:s._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT")}),new sap.ui.commons.Button(i+"rowRepOffSegBtn",{text:s._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT"),tooltip:s._oBundle.getText("SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT")})]});F.bindProperty("visible",{parts:[{path:"Mode"},{path:"SupportsEnableSubstitutionRule"}],formatter:function(e,t){if(!o)return t;else return e&&e===s.substitutionConstants.MODE_RECEIVE_TASKS&&t}});F.bindProperty("enabled","IsEnabled",function(e){if(e!=null&&e!==""){if(e){this.setSelectedButton(this.getButtons()[0].getId())}else{this.setSelectedButton(this.getButtons()[1].getId())}}return true});F.attachSelect(this,function(e,t){var o=true;if(e.mParameters.selectedButtonId.indexOf("rowRepOnSegBtn")==-1){o=false}t.updateSubstitutionRule(e,t,o)});if(o){var V=new sap.ui.commons.Button(i+"rowRepDeleteImg",{tooltip:this._oBundle.getText("SUBSTITUTION_RULE_DELETE"),icon:this.constants.iconPool.getIconURI("delete"),lite:true});V.bindProperty("visible","SupportsDeleteSubstitutionRule",function(e){return e});V.attachPress(this,this.deleteSubstitutionRule);if(s.bSubstitutionProfileAvailable){n.createRow(u,l,I,U,L,F,V)}else{n.createRow(u,l,U,L,F,V)}}else{if(s.bSubstitutionProfileAvailable){n.createRow(u,l,I,U,L,F)}else{n.createRow(u,l,U,L,F)}}var k=new sap.ui.commons.layout.MatrixLayout(i+"rowRepMainMatrixWapperMatrix",{layoutFixed:true});k.createRow(n);k.createRow(new sap.ui.commons.TextView(i+"rowRepWapperMatEmptyTxt",{text:""}));var q;if(e===this.getId()+"--iamSubstituting"){q=this.substitutesRuleCollection;a.setModel(this._getSubstitutesRuleCollectionModel())}else{q=this.substitutionRuleCollection;a.setModel(this._getSubstitutionRuleCollectionModel())}a.bindRows("/"+q,k,null,this._getFilters(t))}else{this._refreshBindings(e,t)}return a};sap.uiext.inbox.SubstitutionRulesManager.prototype.formatUserName=function(e){if(e!==null&&e!==""){var t=e.indexOf(",");var o=e.substring(t+1);if(o===" ")e=e.substring(0,t);return e}};sap.uiext.inbox.SubstitutionRulesManager.prototype.setNoOfRules=function(e){var t=sap.ui.getCore().byId(e+"subsRowRepeater");var o=jQuery(window).height();var i=Math.floor((o-230)/180);if(i>0){t.setNumberOfRows(i)}};sap.uiext.inbox.SubstitutionRulesManager.prototype.bindSubstitutionRules=function(e){};sap.uiext.inbox.SubstitutionRulesManager.prototype.deleteMessage=function(e,t){if(t===undefined)t=this;var o=sap.ui.getCore().byId(t.getId()+"--"+"notificationBar1");var i=sap.ui.ux3.NotificationBarStatus.Default;if(o!=undefined&&o.hasItems()){o.setVisibleStatus(i)}};sap.uiext.inbox.SubstitutionRulesManager.prototype.closeNotificationBar1=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"notificationBar1");var t=sap.ui.ux3.NotificationBarStatus.None;if(e!=undefined)e.setVisibleStatus(t)};sap.uiext.inbox.SubstitutionRulesManager.prototype.showMessage=function(e,t){var o=sap.ui.getCore().byId(this.getId()+"--"+"notificationBar1");var i=sap.ui.getCore().byId(this.getId()+"--"+"messageNotifier1");var s=sap.ui.ux3.NotificationBarStatus.None;if(o===undefined){this.populateNotificationBar()}if(o!=undefined){o.setVisibleStatus(s);var a=new Date;var n=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"});var u=n.format(a);var r=new sap.ui.core.Message({text:t,timestamp:u});if(e==="success"){r.setLevel(sap.ui.core.MessageType.Success)}else if(e==="info"){r.setLevel(sap.ui.core.MessageType.Information)}else if(e==="error"){r.setLevel(sap.ui.core.MessageType.Error)}else if(e==="warning"){r.setLevel(sap.ui.core.MessageType.Warning)}i.addMessage(r);o.setMessageNotifier(i)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._getComponent=function(e){return sap.ui.getCore().byId(this.getId()+"--"+e)};sap.uiext.inbox.SubstitutionRulesManager.prototype.deleteSubstitutionRule=function(e,t){var o=e.getSource().getModel();var i=e.getSource().getBindingContext();var s=o.getProperty("SubstitutionRuleID",i);var a=o.getProperty("SAP__Origin",i);var n={};n.SubstitutionRuleID=decodeURIComponent(s);n.SAP__Origin=a;t.oDataManager.callFunctionImport(t.substitutionConstants.deleteRuleExecutionFunctionImport,{method:"POST",success:function(e,s){var a=i.getPath();var n=a.split("/");o.oData[n[1]].splice(n[2],1);o.checkUpdate(false);t.showMessage("success",t._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_DELETED_SUCCESSFULLY"))},error:function(e){if(e.response===undefined||e.response.statusCode!=205){t.showMessage("error",t._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_DELETION_FAILURE_CONTACT_ADMIN"))}else if(e.response.statusCode==205){var i={statusCode:e.response.statusCode,statusText:e.response.statusText};o.fireRequestFailed(i)}},urlParameters:n},true)};sap.uiext.inbox.SubstitutionRulesManager.prototype.updateSubstitutionRule=function(e,t,o){var i=e.getSource().getModel();var s=e.getSource().getBindingContext();var a=i.getProperty("SubstitutionRuleID",s);var n=i.getProperty("SAP__Origin",s);var u={};u.SubstitutionRuleID=decodeURIComponent(a);u.SAP__Origin=n;u.Enabled=o;t.oDataManager.callFunctionImport(t.substitutionConstants.updateRuleExecutionFunctionImport,{method:"POST",success:function(e,o){var a=sap.ui.getCore().byId(t.getId()+"--subsNavBar");var n=a.getSelectedItem();var u=s.getPath();var r=u.split("/");i.oData[r[1]][r[2]].IsEnabled=e.IsEnabled;i.checkUpdate(true);t.showMessage("success",t._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_UPDATED_SUCCESSFULLY"))},error:function(e){if(e.response===undefined||e.response.statusCode!=205){t.showMessage("error",t._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_UPDATION_FAILURE_CONTACT_ADMIN"))}else if(e.response.statusCode==205){var o={statusCode:e.response.statusCode,statusText:e.response.statusText};i.fireRequestFailed(o)}},urlParameters:u},true)};sap.uiext.inbox.SubstitutionRulesManager.prototype.isSubstitutionDatesDateTimeType=function(){var e,t;var o=false;e=this.oTcmMetadata.getParameterTypeForFunctionImport(this.substitutionConstants.CREATE_SUBSTITUTION_RULE,"BeginDate");if(e==="Edm.DateTime"){o=true}return o};sap.uiext.inbox.SubstitutionRulesManager.prototype.createSubstitutionRule=function(e,t){var o=t.validate(t);if(o===false){var i=t.getModel();var s={};var a=t.isSubstitutionDatesDateTimeType();var n=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyyMMdd"});var u;var r;var l=t._getComponent("popupToDatePicker").getYyyymmdd();if(l!=undefined&&l!==""){var p=l.substr(0,4);var d=l.substr(4,2);var T=l.substr(6,8);var S=t.substitutionRulesManagerUtils._getTimeZoneOffset();if(S!==undefined){S=S/(60*1e3);r=new Date(Date.UTC(p,d-1,T,23,59-S,59,59))}else{r=n.parse(l);r.setHours(23,59,59,59)}}else{r=null}var c=t._getComponent("popupFromDatePicker").getYyyymmdd();if(c!=undefined&&c!==""){var b=c.substr(0,4);var g=c.substr(4,2);var _=c.substr(6,8);var S=t.substitutionRulesManagerUtils._getTimeZoneOffset();if(S!==undefined){S=S/(60*1e3);u=new Date(Date.UTC(b,g-1,_,0,-S,0,0))}else{u=n.parse(c)}}else{u=new Date;u.setHours(0,0,0,0)}a?s.BeginDate=u.getTime():s.BeginDate="/Date("+u.getTime()+")/";var f=t._getComponent("popupValueHelp");s.FullName=f.getValue();s.User=f.data("uniqueName");var I=t._getComponent("popupSegBtn");var R=I.getSelectedButton();if(R.indexOf("popupSegBtnON")>=0){s.Mode=t.substitutionConstants.MODE_RECEIVE_TASKS;a?s.EndDate=r.getTime():s.EndDate="/Date("+r.getTime()+")/"}else{s.Mode=t.substitutionConstants.MODE_TAKE_OVER;var C=new Date(9999,11,31);a?s.EndDate=C.getTime():s.EndDate="/Date("+C.getTime()+")/"}var m=t._getComponent("activateCheckBox");s.IsEnabled=m.getChecked();if(t.bSubstitutionProfileAvailable){var y=t._getComponent("substProfileValueHelp");if(y!=undefined){s.Profile=y.data("Profile");s.ProfileText=y.data("ProfileText")}t._sendCreateRuleRequestWithProfile(t,s)}else{t._sendCreateRuleRequest(t,s)}var x=sap.ui.getCore().byId(t.getId()+"--createSubsRulePopup");x.close();x.destroy()}};sap.uiext.inbox.SubstitutionRulesManager.prototype.openUsersDialog=function(e,t){var o=t.getId()+"--";var i=sap.ui.getCore().byId(o+"usersDialog");var s=sap.ui.getCore().byId(o+"userTable");if(i===undefined){var a=new sap.ui.commons.layout.MatrixLayout({id:o+"dLayout",layoutFixed:true,width:"100%"});var n=new sap.ui.commons.SearchField({id:o+"oSearch",enableListSuggest:false,startSuggestion:0,tooltip:t._oBundle.getText("SUBSTIUTION_RULE_SEARCH_FOR_USERS"),editable:true,width:"100%"});n.addDelegate({onAfterRendering:function(){var e=sap.ui.getCore().byId(o+"oSearch-tf");e.prop("placeholder",t._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_SEARCH_LABEL"))}});n.attachSearch(t,function(e,t){s.setBusy(true);t._handleSearchUsersClickforCreateSubstitution(e)});n.attachSuggest(t,function(e,t){if(e.getParameter("value")===""){s.clearSelection();s.bindRows("")}});a.createRow(n);var u={collection:"UserInfoCollection",propertiesLabel:[t._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_LOGONID"),t._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_NAME")],properties:["UniqueName","DisplayName"]};if(s===undefined){s=new sap.ui.table.Table(o+"userTable",{selectionMode:sap.ui.table.SelectionMode.Single})}s.setModel(t.getModel());s.setVisibleRowCount(5);s.attachRowSelectionChange(function(){if(s.getSelectedIndices().length!==0){sap.ui.getCore().byId(o+"usersDialogOKBtn").setEnabled(true)}else{sap.ui.getCore().byId(o+"usersDialogOKBtn").setEnabled(false)}});s.bDynamic=true;for(var r=0;r<=u.properties.length-1;r++){s.addColumn((new sap.ui.table.Column).setLabel(new sap.ui.commons.Label({text:u.propertiesLabel[r],design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({editable:false,value:{path:u.properties[r]}})))}var l=new sap.ui.commons.layout.VerticalLayout(o+"userDialogVLayout",{width:"100%"});l.insertContent(a,0);l.insertContent(s,1);i=new sap.ui.commons.Dialog(o+"usersDialog",{modal:true,title:t._oBundle.getText("SUBSTIUTION_RULE_SEARCH_FOR_USERS"),content:[l],buttons:[new sap.ui.commons.Button(o+"usersDialogOKBtn",{enabled:false,text:t._oBundle.getText("INBOX_BUTTON_OK_TEXT"),tooltip:t._oBundle.getText("SUBSTITUTE_SEARCH_USERS_OK_BUTTON_TOOLTIP"),press:function(){var e=sap.ui.getCore().byId(o+"userTable");var s=e.getSelectedIndex();var a=e.getContextByIndex(s);var n=sap.ui.getCore().byId(o+"userTable").getModel();var u=n.getProperty("DisplayName",a);if(u===null)u="";var r=n.getProperty("UniqueName",a);var l=t._getComponent("popupValueHelp");l.setValue(u);l.data("uniqueName",r);i.close()}})]})}i.setWidth("400px");i.open();i.attachClosed(t,function(e,t){i.destroy()});i.setInitialFocus(n)};sap.uiext.inbox.SubstitutionRulesManager.prototype.validate=function(e){var t=this;var o=false;var i="";var s,a;var n=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyyMMdd"});var u=e._getComponent("popupToDatePicker").getYyyymmdd();var r=e._getComponent("popupFromDatePicker").getYyyymmdd();if(u!=undefined&&u!==""){var l=u.substr(0,4);var p=u.substr(4,2);var d=u.substr(6,8);var T=e.substitutionRulesManagerUtils._getTimeZoneOffset();if(T!==undefined){T=T/(60*1e3);s=new Date(Date.UTC(l,p-1,d,23,59-T,59,59))}else{s=n.parse(u);s.setHours(23,59,59,59)}}if(r!=undefined&&r!==""){var S=r.substr(0,4);var c=r.substr(4,2);var b=r.substr(6,8);var T=e.substitutionRulesManagerUtils._getTimeZoneOffset();if(T!==undefined){T=T/(60*1e3);a=new Date(Date.UTC(S,c-1,b,0,-T,0,0))}else{a=n.parse(r)}}var g=e._getComponent("popupValueHelp").getValue();var _=e._getComponent("popupFromDatePicker").getProperty("required");if(g===null||g===""){o=true;i=e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SELECT_SUBSTITUTE")}if(o!=true&&_===true){if(s===null||a===null||s===""||a===""||isNaN(s)||isNaN(a)){o=true;i=e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_ENTER_VALID_DATE_RANGE")}if(o!=true){if(s<a){o=true;i=e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_FROM_DATE_AFTER_TODATE")}}}if(o!=true&&_!=true){if(s!=null&&a!=null){if(o!=true&&s<a){o=true;i=e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_FROM_DATE_AFTER_TODATE")}}}if(o===true){e.showMessage("error",i)}return o};sap.uiext.inbox.SubstitutionRulesManager.prototype.populateNotificationBar=function(){var e=sap.ui.getCore().byId(this.getId()+"--"+"notificationBar1");if(e===undefined){var t=new sap.ui.ux3.NotificationBar({id:this.getId()+"--"+"notificationBar1",visibleStatus:"None"});t.attachDisplay(function(e){var o=t.getVisibleStatus();var i=sap.ui.ux3.NotificationBarStatus.None;var s=sap.ui.ux3.NotificationBarStatus.Default;if(o===i){t.setVisibleStatus(s)}else{t.setVisibleStatus(i)}});var o=new sap.ui.ux3.Notifier({id:this.getId()+"--"+"messageNotifier1",title:this._oBundle.getText("INBOX_NOTIFICATIONS")});t.setMessageNotifier(o);t.addStyleClass("sapUiExtInboxNotificationBar");return t;var i=this._getComponent("popupMainMatrixCellMsgBar");i.addContent(t)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._refreshBindings=function(e,t){var o=e;var i=e===this.getId()+"--iamSubstituting"?this.substitutesRuleCollection:this.substitutionRuleCollection;if(i===this.substitutesRuleCollection&&!this.bSubstituteDataRefreshed){this._getSubstitutesRulesData(this.getModel());this.bSubstituteDataRefreshed=true}if(t===undefined){this._refreshBindings(e,true);this._refreshBindings(e,false)}else if(t){var s=sap.ui.getCore().byId(o+"active"+"--"+"rowRepMainMatrixWapperMatrix");var a=sap.ui.getCore().byId(o+"active"+"--"+"subsRowRepeater");a.bindRows("/"+i,s,null,this._getFilters(t))}else{var n=sap.ui.getCore().byId(o+"inactive"+"--"+"rowRepMainMatrixWapperMatrix");var u=sap.ui.getCore().byId(o+"inactive"+"--"+"subsRowRepeater");u.bindRows("/"+i,n,null,this._getFilters(t))}};sap.uiext.inbox.SubstitutionRulesManager.prototype.getSubstitutionRulesManagerUtils=function(){return this.substitutionRulesManagerUtils};sap.uiext.inbox.SubstitutionRulesManager.prototype._searchUsers=function(e){var t=this;var o=this.oTCMModel.getFunctionImportHandler();var i=t.getId()+"--";var s=sap.ui.getCore().byId(i+"userTable");o.setServiceURL(this.sUrl);o.setHeaders({Accept:this.inboxConstants.acceptHeaderforJSON,"x-csrf-token":this.getModel().oHeaders["x-csrf-token"]});var a=e.sSearchTerm;var n=e.iMaxResults;var u=e.sSAPOrigin;var r;this.oPendingSearchRequestInSubstitution=o.callSearchUsers({SearchPattern:jQuery.sap.encodeURL(a),MaxResults:n,SAP__Origin:u},function(e,o){s.setBusy(false);r=e;t.displaySubstitesSearchResults(r,s,n);t.oPendingSearchRequestInSubstitution=undefined},function(e){s.setBusy(true);if(e.response!==undefined){t.showMessage("error",t._oBundle.getText("INBOX_MSG_NO_USER_FOUND",[a]));s.setBusy(false)}t.oPendingSearchRequestInSubstitution=undefined})};sap.uiext.inbox.SubstitutionRulesManager.prototype.displaySubstitesSearchResults=function(e,t,o){if(e){var i=new sap.ui.model.json.JSONModel;i.setData(e);t.clearSelection();t.setModel(i);t.bindRows("/results");if(e.results.length>0){t.setSelectedIndex(0)}}if(e.results.length===o){this.showMessage("warning",this._oBundle.getText("INBOX_TOP_MAX_USER",[o]))}if(e.results.length===0){this.showMessage("error",this._oBundle.getText("INBOX_MSG_FOR_NO_DATA"))}};sap.uiext.inbox.SubstitutionRulesManager.prototype._handleSearchUsersClickforCreateSubstitution=function(e){var t=this.oConfiguration?this.oConfiguration.getSearchUersMaxLimit():100;var o="";var i=e.getParameter("query").trim();if(this.bSystemInfoAvailable===undefined){var s=this.constants.SystemInfoCollection;this.bSystemInfoAvailable=this.oTcmMetadata._isEntitySet(s.name,s.entityType)}if(this.bSystemInfoAvailable){o=this.oSystemInfoData[0].SAP__Origin}if(this.oPendingSearchRequestInSubstitution!==undefined){this.oPendingSearchRequestInSubstitution.abort()}this._searchUsers({sSearchTerm:i,iMaxResults:t,sSAPOrigin:o})};sap.uiext.inbox.SubstitutionRulesManager.prototype._sendCreateRuleRequestWithProfile=function(e,t){var o=jQuery.proxy(function(o){if(o.length==0){this._sendCreateRuleRequest(e,t)}else{var i=e.isSubstitutionDatesDateTimeType();if(i){t.BeginDate="/Date("+t.BeginDate+")/";t.EndDate="/Date("+t.EndDate+")/"}if(o.length===1){this._createSubRuleWithProfile(t,o[0])}else if(o.length>1){this._createSubRuleWithProfileBatch(t,o)}}},this);this._getProvidersForCreateSubstitution(t,o)};sap.uiext.inbox.SubstitutionRulesManager.prototype._sendCreateRuleRequest=function(e,t){var o="Profile";if(!t[o]){delete t[o]}var i=this.getModel();var s=this._getSubstitutionRuleCollectionModel();if(this.oTcmMetadata._isFunctionImport(this.substitutionConstants.CREATE_SUBSTITUTION_RULE)){i.callFunction("CreateSubstitutionRule","POST",t,null,function(t,o){e.showMessage("success",e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY"));s.oData.SubstitutionRuleCollection.push(t);s.checkUpdate(false)},function(t){e.showMessage("error",e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN"))})}else{i.create(e.sPath,t,null,function(t,o){e.showMessage("success",e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY"));s.oData.SubstitutionRuleCollection.push(t);s.checkUpdate(false);i.oHeaders["DataServiceVersion"]="2.0"},function(t){e.showMessage("error",e._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN"))})}};sap.uiext.inbox.SubstitutionRulesManager.prototype._getSubstitutionRuleCollectionModel=function(){if(!this.oSubstitutionRuleCollectionModel)this.oSubstitutionRuleCollectionModel=new sap.ui.model.json.JSONModel;return this.oSubstitutionRuleCollectionModel};sap.uiext.inbox.SubstitutionRulesManager.prototype._getSubstitutesRuleCollectionModel=function(){if(!this.bSubstituteDataRefreshed){if(!this.oSubstitutesRuleCollectionModel)this.oSubstitutesRuleCollectionModel=new sap.ui.model.json.JSONModel;this._getSubstitutesRulesData(this.getModel());this.bSubstituteDataRefreshed=true}return this.oSubstitutesRuleCollectionModel};sap.uiext.inbox.SubstitutionRulesManager.prototype.openSubstProfileDialog=function(e,t){var o=t.getId()+"--";var i=function(e){var i={};jQuery.each(e.results,function(e,t){var o={};o.Profile=t.Profile;o.ProfileText=t.ProfileText;i[t.Profile+" - "+t.ProfileText]=o});var s=[];var a=0;jQuery.each(i,function(e,t){s[a++]=t});var n={};n.results=s;var u=new sap.ui.model.json.JSONModel;u.setData(n);var r=sap.ui.getCore().byId(o+"substProfileTable");if(r===undefined){r=new sap.ui.table.Table(o+"substProfileTable",{selectionMode:sap.ui.table.SelectionMode.Single})}r.clearSelection();r.setModel(u);r.bindRows("/results");r.setVisibleRowCount(5);r.bDynamic=true;r.addColumn((new sap.ui.table.Column).setLabel(new sap.ui.commons.Label({text:t._oBundle.getText("SUBSTITUTION_RULE_SUBSTITUTION_PROFILE"),design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({editable:false}).bindValue({parts:[{path:"ProfileText",type:new sap.ui.model.type.String},{path:"Profile",type:new sap.ui.model.type.String}],formatter:function(e,t){if(e&&t){return e+" ("+t+")"}else{return null}}})));var l=sap.ui.getCore().byId(o+"substProfileDialog");if(l===undefined){var p=new sap.ui.commons.layout.MatrixLayout({id:o+"searchSubstProfileLayout",layoutFixed:true,width:"100%"});var d=new sap.ui.commons.SearchField({id:o+"substProfileSearch",enableListSuggest:false,startSuggestion:0,tooltip:t._oBundle.getText("SUBSTIUTION_RULE_SEARCH_FOR_SUBSTITUTION_PROFILE"),editable:true,width:"100%"});d.addDelegate({onAfterRendering:function(){var e=sap.ui.getCore().byId(o+"substProfileSearch-tf");e.prop("placeholder",t._oBundle.getText("SUBSTITUTION_USERS_PICKLIST_SEARCH_LABEL"))}});d.attachSuggest(function(e){var t=e.getParameter("value");var o=[];o.push(new sap.ui.model.Filter("ProfileText",sap.ui.model.FilterOperator.Contains,t));o.push(new sap.ui.model.Filter("Profile",sap.ui.model.FilterOperator.Contains,t));var i=new sap.ui.model.Filter(o,false);r.getBinding("rows").filter(i,sap.ui.model.FilterType.Application)});p.createRow(d);var T=new sap.ui.commons.layout.VerticalLayout(o+"substProfileDialogVLayout",{width:"100%"});T.insertContent(p,0);T.insertContent(r,1);l=new sap.ui.commons.Dialog(o+"substProfileDialog",{width:"400px",modal:true,title:t._oBundle.getText("SUBSTIUTION_RULE_SEARCH_FOR_SUBSTITUTION_PROFILE"),content:[T],buttons:[new sap.ui.commons.Button(o+"substProfileDialogOKBtn",{text:t._oBundle.getText("INBOX_BUTTON_OK_TEXT"),tooltip:t._oBundle.getText("SUBSTIUTION_RULE_SEARCH_SUBSTITUTION_PROFILE_OK_BUTTON_TOOLTIP"),press:function(){var e=sap.ui.getCore().byId(o+"substProfileTable");var i=e.getSelectedIndex();var s=e.getContextByIndex(i);var a=e.getModel();var n=a.getProperty("ProfileText",s);var u=a.getProperty("Profile",s);var r=t._getComponent("substProfileValueHelp");r.setValue(n);r.data("Profile",u);r.data("ProfileText",n);l.close()}})]})}l.open();l.attachClosed(t,function(e,t){l.destroy()});l.setInitialFocus(d)};t._getSubstProfileData(i)};sap.uiext.inbox.SubstitutionRulesManager.prototype._getSubstProfileData=function(e){if(!t){var t=this.getModel()}var o=this;if(!this.oSubstitutionProfileData){this.oDataManager.readData("/SubstitutionProfileCollection",{success:function(t,i){o.oSubstitutionProfileData=t;e(o.oSubstitutionProfileData)},error:function(e){o.showMessage("error",o._oBundle.getText("INBOX_MSG_FETCH_SUBSTITUTION_PROFILE_FAILED"))}})}else{e(this.oSubstitutionProfileData)}};sap.uiext.inbox.SubstitutionRulesManager.prototype._getProvidersForCreateSubstitution=function(e,t){var o=[];var i=this._getComponent("substProfileValueHelp").getValue();if(i!=null&&i!==""){jQuery.each(this.oSubstitutionProfileData.results,function(t,i){if(i.Profile===e.Profile&&i.ProfileText===e.ProfileText){o.push(i.SAP__Origin)}})}else{var s=this.oSystemInfoData;for(var a in s){o.push(s[a].SAP__Origin)}}t(o)};sap.uiext.inbox.SubstitutionRulesManager.prototype._createSubRuleWithProfile=function(e,t){var o=this.getModel();var i=this._getSubstitutionRuleCollectionModel();var s=i.oData.SubstitutionRuleCollection.length>0;var a=this;var n={};n=jQuery.extend(true,{},e);n.SAP__Origin=t;o.create(this.sPath,n,{success:function(e,t){a.showMessage("success",a._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY"));if(s)a._fetchSubstitutionRuleCollectionData();else i.oData.SubstitutionRuleCollection.push(e);i.checkUpdate(false)},error:function(e){if(e.response===undefined||e.response.statusCode!=205){a.showMessage("error",a._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN"))}else if(e.response.statusCode==205){var t={statusCode:e.response.statusCode,statusText:e.response.statusText};o.fireRequestFailed(t)}}})};sap.uiext.inbox.SubstitutionRulesManager.prototype._createSubRuleWithProfileBatch=function(e,t){var o=this._getSubstitutionRuleCollectionModel();var i=o.oData.SubstitutionRuleCollection.length>0;var s=this;var a=[];jQuery.each(t,function(t,o){var i={};i=jQuery.extend(true,{},e);i.SAP__Origin=o;a.push(i)});this.oDataManager.fireBatchRequest({sPath:s.sPath,sMethod:"POST",aProperties:a,numberOfRequests:t.length,sBatchGroupId:"createSubRule",fnSuccess:function(e,a){var n=e.__batchResponses;var u=[],r=[];jQuery.each(n,function(e,t){var s=t.__changeResponses;if(s){if(s[0].statusCode==="201"&&s[0].statusText==="Created"){if(!i)o.oData.SubstitutionRuleCollection.push(s[0].data);r.push(e)}else{u.push(e)}}else{u.push(e)}});if(i)s._fetchSubstitutionRuleCollectionData();if(u.length>0){if(r.length<1){s.showMessage("error",s._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN"))}else{s.showMessage("warning",s._oBundle.getText("INBOX_MSG_CREATE_SUBSTITUTION_SUCCESS_AND_ERROR",[r.length,t.length]))}}else{s.showMessage("success",s._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY"))}o.checkUpdate(false)},fnError:function(e){s.showMessage("error",s._oBundle.getText("SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN"))}})};sap.uiext.inbox.SubstitutionRulesManager.prototype._getFilters=function(e){var t=this.substitutionRulesManagerUtils._getTodaysDate();var o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0);var i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,59);var s,a,n;var u=e;if(e){s=new sap.ui.model.Filter("IsEnabled",sap.ui.model.FilterOperator.EQ,true);a=new sap.ui.model.Filter("BeginDate",sap.ui.model.FilterOperator.LE,i);n=new sap.ui.model.Filter("EndDate",sap.ui.model.FilterOperator.GE,o)}else{s=new sap.ui.model.Filter("IsEnabled",sap.ui.model.FilterOperator.EQ,false);a=new sap.ui.model.Filter("BeginDate",sap.ui.model.FilterOperator.GT,i);n=new sap.ui.model.Filter("EndDate",sap.ui.model.FilterOperator.LT,o)}var r=[s,a,n];var l=new sap.ui.model.Filter(r,u);var p=[l];return p};
},
	"sap/uiext/inbox/SubstitutionRulesManagerConstants.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.SubstitutionRulesManagerConstants");sap.uiext.inbox.SubstitutionRulesManagerConstants=function(){};sap.uiext.inbox.SubstitutionRulesManagerConstants.prototype=jQuery.sap.newObject(sap.ui.base.Object.prototype);sap.uiext.inbox.SubstitutionRulesManagerConstants.deleteSubstRule="delete.png";sap.uiext.inbox.SubstitutionRulesManagerConstants.updateRuleExecutionFunctionImport="EnableSubstitutionRule";sap.uiext.inbox.SubstitutionRulesManagerConstants.deleteRuleExecutionFunctionImport="DeleteSubstitutionRule";sap.uiext.inbox.SubstitutionRulesManagerConstants.SubstitutionRuleCollection="SubstitutionRuleCollection";sap.uiext.inbox.SubstitutionRulesManagerConstants.SubstitutesRuleCollection="SubstitutesRuleCollection";sap.uiext.inbox.SubstitutionRulesManagerConstants.CREATE_SUBSTITUTION_RULE="CreateSubstitutionRule";sap.uiext.inbox.SubstitutionRulesManagerConstants.MODE_RECEIVE_TASKS="RECEIVE_TASKS";sap.uiext.inbox.SubstitutionRulesManagerConstants.MODE_TAKE_OVER="TAKE_OVER";
},
	"sap/uiext/inbox/SubstitutionRulesManagerRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.SubstitutionRulesManagerRenderer");sap.uiext.inbox.SubstitutionRulesManagerRenderer={};sap.uiext.inbox.SubstitutionRulesManagerRenderer.render=function(e,t){var i=e;i.write("<div");i.writeControlData(t);i.writeAttribute("class","sapuiextinbox-SubstitutionRulesManager");i.write(">");i.renderControl(t.vLayout);i.write("</div>")};
},
	"sap/uiext/inbox/SubstitutionRulesManagerUtils.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.SubstitutionRulesManagerUtils");sap.uiext.inbox.SubstitutionRulesManagerUtils=function(){throw new Error};sap.uiext.inbox.SubstitutionRulesManagerUtils._getText=function(e,t,i,r,u,n){var T=this._isOutDated(n);var _=!this._isFutureDate(u)&&!T;var a=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");if(T){return""}else{if(t){if(i){if(_){return e+" "+a.getText("SUBSTIUTION_RULE_CURRENTLY_RECEIVING_TASKS")}else{return e+" "+a.getText("SUBSTIUTION_RULE_WILL_RECEIVE_TASKS_FROM")+" "+this._getFormattedDate(u)}}else{if(r){if(_){return a.getText("SUBSTITUTION_RULE_ENABLE_FOR")+" "+e+" "+a.getText("SUBSTITUTION_RULE_TO_RECIEVE_TASKS")}else{return a.getText("SUBSTITUTION_RULE_ENABLE_FOR")+" "+e+" "+a.getText("SUBSTITUTION_RULE_TO_RECIEVE_TASKS")+" "+a.getText("SUBSTITUTION_RULE_FROM_TXT")+" "+this._getFormattedDate(u)}}else{return e+" "+a.getText("SUBSTIUTION_RULE_HAS_NOT_ACTIVATED_YOUR")}}}else{if(i){if(_){return a.getText("SUBSTIUTION_RULE_CURRENTLY_RECEIVING_TASKS_FROM")+" "+e}else{return a.getText("SUBSTIUTION_RULE_YOU_WILL_RECEIVE_TASKS_FROM")+" "+e+" "+a.getText("SUBSTITUTION_RULE_FROM_TXT")+" "+this._getFormattedDate(u)}}else{if(r){if(_){return a.getText("SUBSTIUTION_RULE_TURN_ON_TO_RECEIVE_TASKS_FROM")+" "+e}else{return a.getText("SUBSTIUTION_RULE_TURN_ON_TO_RECEIVE_TASKS_FROM")+" "+e+" "+a.getText("SUBSTITUTION_RULE_FROM_TXT")+" "+this._getFormattedDate(u)}}else{if(_){return a.getText("SUBSTIUTION_RULE_IS_CURRENTLY_DISABLED_BY")+" "+e}else{return a.getText("SUBSTIUTION_RULE_YOU_WILL_RECEIVE_TASKS_FROM")+" "+e+" "+a.getText("SUBSTITUTION_RULE_FROM_TXT")+" "+this._getFormattedDate(u)}}}}}};sap.uiext.inbox.SubstitutionRulesManagerUtils._isOutDated=function(e){if(e!==null&&e!==""){if(this._getTimeDiff(e)<0){return true}}return false};sap.uiext.inbox.SubstitutionRulesManagerUtils._isFutureDate=function(e){if(e!==null&&e!==""){if(this._getTimeDiff(e)>0&&!this._isCurrentDate(e)){return true}}return false};sap.uiext.inbox.SubstitutionRulesManagerUtils._isCurrentDate=function(e){if(e!==null&&e!==""){var t=new Date;if(t.getDate()==e.getDate()&&t.getMonth()==e.getMonth()&&t.getYear()==e.getYear()){return true}}return false};sap.uiext.inbox.SubstitutionRulesManagerUtils._getStatus=function(e,t,i,r){var u=this._isOutDated(r);var n=!this._isFutureDate(i)&&!u;var T=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");if(r=="")return"";if(u)return T.getText("SUBSTITUTION_OUT_OF_DATE_RANGE");else{if(t){var _=n?"SUBSTITUTION_RULE_ACTIVE_FOR_LABEL":"SUBSTITUTION_RULE_ACTIVE_IN_LABEL";return T.getText(_)+" "+this._getNoOfDays(n,i,r)}else return T.getText("SUBSTITUTION_DISABLED_STATUS")}};sap.uiext.inbox.SubstitutionRulesManagerUtils._getNoOfDays=function(e,t,i){var r=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");var u="";if(i!==null&&i!==""){var n=this._getTimeDiff(e?i:t)/(1e3*60*60*24);if(n>1){var T=Math.floor(n);if(T===1){return T+" "+r.getText("SUBSTIUTION_RULE_IN_DAY")}else{return T+" "+r.getText("SUBSTIUTION_RULE_IN_MORE_DAYS")}}else if(n>0){return Math.ceil(n)+" "+r.getText("SUBSTIUTION_RULE_IN_DAY")}}return""};sap.uiext.inbox.SubstitutionRulesManagerUtils._getFormattedDate=function(e){var t=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});if(e!=undefined&&e!=""){return t.format(e)}};sap.uiext.inbox.SubstitutionRulesManagerUtils._getTodaysDateinYYYYMMDD=function(){var e=new Date;var t=String(e.getFullYear());if(e.getMonth()<9){t=t+"0"}t=t+String(e.getMonth()+1);if(e.getDate()<9){t=t+"0"}t=t+String(e.getDate());return t};sap.uiext.inbox.SubstitutionRulesManagerUtils._getTodaysDate=function(){var e=new Date;return e};sap.uiext.inbox.SubstitutionRulesManagerUtils._getTimeDiff=function(e){var t=new Date;var i=t.getTimezoneOffset()*60*1e3;var r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24,0,0);var u=r.getTime()-t.getTime();return u};sap.uiext.inbox.SubstitutionRulesManagerUtils._getTimeZoneOffset=function(){return undefined};
},
	"sap/uiext/inbox/TCMMetadata.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.base.Object.extend("sap.uiext.inbox.TCMMetadata",{constructor:function(){sap.ui.base.Object.apply(this);this.oServiceMetadata=null;this.serviceSupportsFilterOption=false;this.oSubstitutionConstants=sap.uiext.inbox.SubstitutionRulesManagerConstants;this.oInboxConstants=sap.uiext.inbox.InboxConstants}});sap.uiext.inbox.TCMMetadata.prototype.setServiceMetadata=function(t){if(t)this.oServiceMetadata=t;this.serviceSupportsFilterOption=this._isPropertyAvailable(this.oInboxConstants.ENTITY_NAME_TASK_COLLECTION,this.oInboxConstants.PROPERTY_NAME_CUSTOM_STATUS)};sap.uiext.inbox.TCMMetadata.prototype.getServiceMetadata=function(){return this.oServiceMetadata};sap.uiext.inbox.TCMMetadata.prototype._isPropertyAvailable=function(t,e){var a=this._getProperty(t,e)?true:false;return a};sap.uiext.inbox.TCMMetadata.prototype._getPropertyType=function(t,e){var a=this._getProperty(t,e);if(a)return a.type;else return null};sap.uiext.inbox.TCMMetadata.prototype._getProperty=function(t,e){var a=null;if(this.getServiceMetadata()!=null){var i=this.getServiceMetadata().dataServices.schema[0].entityType;var n=null;jQuery.each(i,function(i,r){if(r.name===t){n=r.property;jQuery.each(n,function(t,i){if(i.name===e){a=i;return false}});return false}})}return a};sap.uiext.inbox.TCMMetadata.prototype._isEntitySet=function(t,e){var a=false;if(this.getServiceMetadata()!=null){var i=this.getServiceMetadata().dataServices.schema[0].entityContainer[0].entitySet;jQuery.each(i,function(i,n){if(n.name===t&&n.entityType===e){a=true;return false}})}return a};sap.uiext.inbox.TCMMetadata.prototype._isFunctionImport=function(t){var e=this._getFunctionImport(t)?true:false;return e};sap.uiext.inbox.TCMMetadata.prototype.getParameterTypeForFunctionImport=function(t,e){var a=null;var i=this._getFunctionImport(t);if(i){var n=i.parameter;jQuery.each(n,function(t,i){if(i.name===e){a=i.type;return false}})}return a};sap.uiext.inbox.TCMMetadata.prototype._getFunctionImport=function(t){var e=null;var a=this.getServiceMetadata().dataServices.schema[0].entityContainer[0].functionImport;jQuery.each(a,function(a,i){if(i.name===t){e=i;return false}});return e};
},
	"sap/uiext/inbox/TaskInitialFilters.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.TaskInitialFilters");jQuery.sap.require("sap.uiext.inbox.InboxUtils");sap.ui.base.Object.extend("sap.uiext.inbox.TaskInitialFilters",{constructor:function(t,i,e,s,a){sap.ui.base.Object.apply(this);this.aStatusFilters=t?t:[];this.aPriorityFilters=i?i:[];this.sDateTimeFilter=e;this.aTaskTypeFilters=s?s:[];this.sDueDateTimeFilter=a;this.aFiltersTobeApplied=[];this.inboxUtils=sap.uiext.inbox.InboxUtils}});sap.uiext.inbox.TaskInitialFilters.prototype.getFilterObjects=function(){var t=sap.uiext.inbox.TaskInitialFilters.FILTERSTOAPPLYMAP;var i={};var e=[],s=[],a=[],r,l;var T=undefined,_=[];for(var D=0;D<this.aStatusFilters.length;D++){var u=t.filters.filterStatus;if(u[this.aStatusFilters[D]]!==undefined){var F=this.inboxUtils._getStatusFilters(this.aStatusFilters[D]);i[u[this.aStatusFilters[D]]]=F;e.push(F)}}_=_.concat(e);for(var D=0;D<this.aPriorityFilters.length;D++){var I=t.filters.filterPriority;if(I[this.aPriorityFilters[D]]){var n=this.inboxUtils._getPriorityFilters(this.aPriorityFilters[D]);i[I[this.aPriorityFilters[D]]]=n;s.push(n)}}_=_.concat(s);if(this.sDateTimeFilter!==null&&this.sDateTimeFilter!==undefined){var o=t.filters.filterDateTime;if(o[this.sDateTimeFilter]){var r=this.inboxUtils._getDateTimeFilters(this.sDateTimeFilter);i[o[this.sDateTimeFilter]]=r}}if(r!==undefined){_.push(r)}for(var D=0;D<this.aTaskTypeFilters.length;D++){var E=new sap.ui.model.Filter("TaskDefinitionID",sap.ui.model.FilterOperator.EQ,this.aTaskTypeFilters[D]);i[this.aTaskTypeFilters[D]]=E;a.push(E)}_=_.concat(a);if(this.sDueDateTimeFilter!==null&&this.sDueDateTimeFilter!==undefined){var h=t.filters.filterDueDateTime;if(h[this.sDueDateTimeFilter]){var l=this.inboxUtils._getDueDateFilters(this.sDueDateTimeFilter);i[h[this.sDueDateTimeFilter]]=l}}if(l!==undefined){_.push(l)}if(_.length>0){T={DueDate:l,TaskType:a,CreatedDate:r,Priority:s,Status:e}}return{filterOperatorMap:T,filtersAppliedMap:i}};sap.uiext.inbox.TaskInitialFilters.prototype.getFilterUIKeys=function(){var t=sap.uiext.inbox.TaskInitialFilters.FILTERMAP;var i=[];var e=[];var s=[];var a=[];var r=[];for(var l=0;l<this.aStatusFilters.length;l++){var T=t.filters.filterStatus;if(T[this.aStatusFilters[l]])i.push(T[this.aStatusFilters[l]])}for(var l=0;l<this.aPriorityFilters.length;l++){var _=t.filters.filterPriority;if(_[this.aPriorityFilters[l]])e.push(_[this.aPriorityFilters[l]])}if(this.sDateTimeFilter!==null&&this.sDateTimeFilter!==undefined){var D=t.filters.filterDateTime;if(D[this.sDateTimeFilter])s.push(D[this.sDateTimeFilter])}for(var l=0;l<this.aTaskTypeFilters.length;l++){var u=this.aTaskTypeFilters[l];if(u){u=u.replace(/-/g,"--");u=u.replace(/\s+/g,"-");if(!/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(u)){if(/^[^A-Za-z_]/.test(u)){u=u.replace(/^[^A-Za-z_]/,"_")}u.replace(/[^-\w_.:]/g,"_")}a.push(u)}}if(this.sDueDateTimeFilter!==null&&this.sDueDateTimeFilter!==undefined){var F=t.filters.filterDueDateTime;if(F[this.sDueDateTimeFilter])r.push(F[this.sDueDateTimeFilter])}return{Status:i,Priority:e,StartDate:s,TaskType:a,DueDate:r}};sap.uiext.inbox.TaskInitialFilters.FILTERMAP={filters:{filterStatus:{READY:"INBOX_FILTER_STATUS_READY",RESERVED:"INBOX_FILTER_STATUS_RESERVED",IN_PROGRESS:"INBOX_FILTER_STATUS_IN_PROGRESS"},filterPriority:{LOW:"INBOX_FILTER_PRIORITY_LOW",MEDIUM:"INBOX_FILTER_PRIORITY_MEDIUM",HIGH:"INBOX_FILTER_PRIORITY_HIGH",VERY_HIGH:"INBOX_FILTER_PRIORITY_VERY_HIGH"},filterDateTime:{Today:"INBOX_FILTER_DATETIME_TODAY",Last_7_days:"INBOX_FILTER_DATETIME_WEEK",Last_15_days:"INBOX_FILTER_DATETIME_15DAYS",Last_30_days:"INBOX_FILTER_DATETIME_MONTH"},filterDueDateTime:{Today:"INBOX_FILTER_DUE_DATETIME_TODAY",Next_7_days:"INBOX_FILTER_DUE_DATETIME_WEEK",Next_15_days:"INBOX_FILTER_DUE_DATETIME_15DAYS",Next_30_days:"INBOX_FILTER_DUE_DATETIME_MONTH",No_Due_Date:"INBOX_FILTER_NO_DUE_DATETIME"}}};sap.uiext.inbox.TaskInitialFilters.FILTERSTOAPPLYMAP={filters:{filterStatus:{READY:"readyStat",RESERVED:"resStat",IN_PROGRESS:"InProStat"},filterPriority:{LOW:"lowPrio",MEDIUM:"medPrio",HIGH:"hiPrio",VERY_HIGH:"veryhiPrio"},filterDateTime:{Today:"today",Last_7_days:"last7",Last_15_days:"last15",Last_30_days:"last30"},filterDueDateTime:{Today:"dueDateToday",Next_7_days:"dueDatenext7",Next_15_days:"dueDatenext15",Next_30_days:"dueDatenext30",No_Due_Date:"noDueDate"}}};
},
	"sap/uiext/inbox/composite/InboxAddAttachmentTile.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAddAttachmentTile");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxAddAttachmentTile",{metadata:{library:"sap.uiext.inbox"}});sap.uiext.inbox.composite.InboxAddAttachmentTile.prototype.init=function(){this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox")};
},
	"sap/uiext/inbox/composite/InboxAddAttachmentTileRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAddAttachmentTileRenderer");sap.uiext.inbox.composite.InboxAddAttachmentTileRenderer={};sap.uiext.inbox.composite.InboxAddAttachmentTileRenderer.render=function(t,e){t.write("<span");t.writeControlData(e);t.addClass("sapUiExtInboxAddAttachmentTileLayout");t.writeClasses();t.write(">");t.write("<span>");var i=[];var a={};i.push("sapUiExtInboxAttachmentIcon");t.writeIcon(sap.ui.core.IconPool.getIconURI("add"),i);t.write("</span>");t.write("<span");t.addClass("sapUiExtInboxAddAttachmentText");t.writeClasses();t.write(">");t.write("<a");t.addClass("sapUiExtInboxAttachmentAddLink");t.writeClasses();t.writeAttribute("id",e.getId()+"_textAddAttachment");t.writeAttribute("title",e._oBundle.getText("INBOX_ADD_ATTACHMENT_TOOLTIP"));t.write(">");t.writeEscaped(e._oBundle.getText("INBOX_ADD_ATTACHMENT"));t.write("</a> ");t.write("</span>");t.write("</span>")};
},
	"sap/uiext/inbox/composite/InboxAttachmentFileUploader.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAttachmentFileUploader");sap.ui.commons.FileUploader.extend("sap.uiext.inbox.composite.InboxAttachmentFileUploader",{metadata:{},renderer:{}});sap.uiext.inbox.composite.InboxAttachmentFileUploader.prototype.upload=function(){var e=this.getDomRef("fu_form");try{if(e){this._bUploading=true;if(this.getSendXHR()&&window.File){var t=jQuery.sap.domById(this.getId()+"-fu").files;if(t.length>0){var a=new window.XMLHttpRequest;a.open("POST",this.getUploadUrl(),true);if(this.getHeaderParameters()){var r=this.getHeaderParameters();for(var o=0;o<r.length;o++){var s=r[o].getName();var i=r[o].getValue();a.setRequestHeader(s,i)}}a.send(t[0]);var n=this;a.onreadystatechange=function(){if(a.readyState==4){n.fireUploadComplete({response:a.response,status:a.status,"x-csrf-token":a.getResponseHeader("x-csrf-token"),headerParameters:n.getHeaderParameters()});n._bUploading=false}};this._bUploading=false}}else{e.submit()}jQuery.sap.log.info("File uploading to "+this.getUploadUrl())}}catch(e){jQuery.sap.log.error("File upload failed:\n"+e.message)}};
},
	"sap/uiext/inbox/composite/InboxAttachmentTile.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAttachmentTile");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxAttachmentTile",{metadata:{library:"sap.uiext.inbox",properties:{fileName:{type:"string",defaultValue:null},fileSize:{type:"string",defaultValue:null},fileDescription:{type:"string",group:"Misc",defaultValue:null},fileTypeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},creationDate:{type:"string",group:"Misc",defaultValue:null},downloadUrl:{type:"string",group:"Misc",defaultValue:null},createdBy:{type:"string",group:"Misc",defaultValue:null},showDeleteButton:{type:"boolean",group:"Misc",defaultValue:true}},events:{deleteAttachment:{}}}});sap.uiext.inbox.composite.InboxAttachmentTile.prototype.init=function(){this.oCore=sap.ui.getCore();this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox")};sap.uiext.inbox.composite.InboxAttachmentTile.prototype.onclick=function(e){var t=e.target.getAttribute("ID")};
},
	"sap/uiext/inbox/composite/InboxAttachmentTileRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAttachmentTileRenderer");sap.uiext.inbox.composite.InboxAttachmentTileRenderer={};sap.uiext.inbox.composite.InboxAttachmentTileRenderer.render=function(e,t){e.write("<span");e.writeControlData(t);e.addClass("sapUiExtInboxAttachmentTileLayout");e.writeClasses();e.write(">");e.write("<span>");var i=[];var a={};a["id"]=t.getId()+"-fileTypeIcon";i.push("sapUiExtInboxAttachmentIcon");e.writeIcon(t.getFileTypeIcon(),i,a);e.write("</span>");e.write("<span");e.addClass("sapUiExtInboxAttachmentDetails");e.writeClasses();e.write(">");e.write("<div");e.addClass("sapUiExtInboxInlineFlexRow");e.writeClasses();e.write(">");e.write("<span");e.addClass("sapUiExtInboxAttachmentTitle");e.writeClasses();e.write(">");e.write("<span");e.addClass("sapUiExtInboxAttachmentInline");e.writeClasses();e.write(">");e.write("<a");e.addClass("sapUiExtInboxAttachmentFileLink");e.writeClasses();e.writeAttribute("id",t.getId()+"_downloadLink");e.writeAttributeEscaped("title",t._oBundle.getText("INBOX_ATTACHMENT_DOWNLOAD_TOOLTIP",[t.getFileName()]));e.writeAttributeEscaped("href",t.getDownloadUrl());e.writeAttribute("rel","noopener noreferrer");e.write(">");e.writeEscaped(t.getFileName());e.write("</a> ");e.write("</span>");e.write("<span");e.addClass("sapUiExtInboxAttachmentFileSize");e.writeClasses();e.writeAttributeEscaped("title",t.getFileSize());e.write(">");e.writeEscaped(t.getFileSize());e.write("</span>");e.write("</div>");e.write("<div");e.addClass("sapUiExtInboxInlineFlexRow");e.writeClasses();e.write(">");e.write("<span");e.addClass("sapUiExtInboxAttachmentCreatedBy");e.writeClasses();e.writeAttributeEscaped("title",t._oBundle.getText("INBOX_ATTACHMENT_CREATED_BY_TOOLTIP",[t.getCreatedBy()]));e.write(">");e.writeEscaped(t.getCreatedBy());e.write("</span>");e.write("<span");e.addClass("sapUiExtInboxAttachmentDate");e.writeClasses();e.writeAttributeEscaped("title",t._oBundle.getText("INBOX_ATTACHMENT_CREATION_DATE_TOOLTIP",[t.getCreationDate()]));e.write(">");e.writeEscaped(t.getCreationDate());e.write("</span>");if(t.getShowDeleteButton())this.renderDeleteButton(e,t);e.write("</div>");e.write("</span>");e.write("</span>")};sap.uiext.inbox.composite.InboxAttachmentTileRenderer.renderDeleteButton=function(e,t){e.write("<span");e.addClass("sapUiExtInboxAttachmentDeleteBtn");e.writeClasses();e.write(">");var i=new sap.ui.commons.Button({tooltip:t._oBundle.getText("INBOX_ATTACHMENT_DELETE_TOOLTIP"),icon:sap.ui.core.IconPool.getIconURI("delete"),lite:true}).attachPress(function(e){t.fireDeleteAttachment()});e.renderControl(i);e.write("</span>")};
},
	"sap/uiext/inbox/composite/InboxAttachmentsTileContainer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAttachmentsTileContainer");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxAttachmentsTileContainer",{metadata:{library:"sap.uiext.inbox",properties:{uploadUrl:{type:"string",group:"Misc",defaultValue:null},fileName:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string",group:"Misc",defaultValue:null},isFileSelected:{type:"boolean",group:"Misc",defaultValue:null},enteredDescription:{type:"string",group:"Misc",defaultValue:null},showAddTile:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{attachments:{type:"sap.uiext.inbox.composite.InboxAttachmentTile",multiple:true,singularName:"attachment"},firstTile:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{uploadButtonPress:{},uploadSuccess:{},uploadFailed:{}}}});jQuery.sap.require("sap.uiext.inbox.composite.InboxAttachmentFileUploader");jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.require("sap.ui.commons.MessageBox");sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.init=function(){var e=this;this.oUtils=sap.uiext.inbox.InboxUtils;this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.oAddAttachmentTile=new sap.uiext.inbox.composite.InboxAddAttachmentTile;this.setAggregation("firstTile",this.oAddAttachmentTile);this.oUploadAttachmentTile=new sap.uiext.inbox.composite.InboxUploadAttachmentTile;this.oUploadAttachmentTile.getUploadButton().attachPress(function(t){e.getAggregation("firstTile").setBusy(true);e.fireUploadButtonPress()});this.oUploadAttachmentTile.getCancelButton().attachPress(function(t){e.resetFileUploader();e.resetFirstTile()});this.oFileUploader=new sap.uiext.inbox.composite.InboxAttachmentFileUploader({sendXHR:true,change:jQuery.proxy(function(t){this.oFileUploader.setUploadUrl(this.getUploadUrl());var i=this.oFileUploader.oFileUpload.files[0];if(i&&i.size===0){this.oFileUploader.setValue("");sap.ui.commons.MessageBox.alert(e._oBundle.getText("SIZE_ZERO_ATTACHMENT_ALERT"))}else{this.oUploadAttachmentTile.setFileName(i.name).setFileTypeIcon(this.oUtils._getFileTypeIcon(i.type));this.setAggregation("firstTile",this.oUploadAttachmentTile)}},this),uploadComplete:function(t){var i=t.getParameter("status");if(i&&i==201){e.fireUploadSuccess({attachmentResponse:t.getParameter("response"),statusCode:i,headerParameters:t.getParameter("headerParameters")})}else{e.fireUploadFailed({attachmentResponse:t.getParameter("response"),statusCode:i,securityToken:t.getParameter("x-csrf-token"),headerParameters:t.getParameter("headerParameters")})}e.resetFileUploader();e.resetFirstTile()}})};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.onclick=function(e){if(e.target.id===this.getAggregation("firstTile").getId()+"_textAddAttachment"){jQuery.sap.byId(this.oFileUploader.getId()+"-fu").trigger("click")}};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.getFileName=function(){if(this.getIsFileSelected()){return this.oFileUploader.oFileUpload.files[0].name}};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.getFileType=function(){if(this.getIsFileSelected()){return this.oFileUploader.oFileUpload.files[0].type}};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.addUploadHeader=function(e,t){this.oFileUploader.addHeaderParameter(new sap.ui.commons.FileUploaderParameter({name:e,value:t}))};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.getIsFileSelected=function(){return this.oFileUploader.oFileUpload.files.length>0};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.resetFileUploader=function(){this.oFileUploader.setValue("").destroyHeaderParameters()};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.resetFirstTile=function(){this.getAggregation("firstTile").setBusy(false);this.setAggregation("firstTile",this.oAddAttachmentTile)};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.triggerUpload=function(e){this.oFileUploader.upload()};sap.uiext.inbox.composite.InboxAttachmentsTileContainer.prototype.removeUploadHeader=function(e){var t=this;jQuery.each(this.oFileUploader.getHeaderParameters(),function(i,o){if(o.getName()===e)t.oFileUploader.removeHeaderParameter(o)})};
},
	"sap/uiext/inbox/composite/InboxAttachmentsTileContainerRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxAttachmentsTileContainerRenderer");sap.uiext.inbox.composite.InboxAttachmentsTileContainerRenderer={};sap.uiext.inbox.composite.InboxAttachmentsTileContainerRenderer.render=function(e,t){e.write("<div");e.writeControlData(t);e.write(">");if(t.getShowAddTile())e.renderControl(t.getAggregation("firstTile"));for(var i=0;i<t.getAttachments().length;i++){e.renderControl(t.getAttachments()[i])}e.write("<div");e.addClass("sapUiExtInboxAttachmentHidden");e.writeClasses();e.write(">");e.renderControl(t.oFileUploader);e.write("</div>");e.write("</div>")};
},
	"sap/uiext/inbox/composite/InboxBusyIndicator.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxBusyIndicator");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxBusyIndicator",{metadata:{library:"sap.uiext.inbox"}});
},
	"sap/uiext/inbox/composite/InboxBusyIndicatorRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxBusyIndicatorRenderer");sap.uiext.inbox.composite.InboxBusyIndicatorRenderer={};sap.uiext.inbox.composite.InboxBusyIndicatorRenderer.render=function(e,i){e.write("<div ");e.writeControlData(i);e.addClass("sapUiextBusyContainer");e.writeClasses();e.write(">");e.write("</div>")};
},
	"sap/uiext/inbox/composite/InboxComment.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxComment");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxComment",{metadata:{library:"sap.uiext.inbox",properties:{sender:{type:"string",group:"Data",defaultValue:null},timestamp:{type:"string",group:"Data",defaultValue:null},thumbnailSrc:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},text:{type:"string",group:"Data",defaultValue:null},createdBy:{type:"string",group:"Misc",defaultValue:null},sapOrigin:{type:"string",group:"Misc",defaultValue:null}}}});sap.uiext.inbox.composite.InboxComment.prototype.init=function(){this.rb=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox")};
},
	"sap/uiext/inbox/composite/InboxCommentRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.require("sap.uiext.inbox.InboxUtils");jQuery.sap.declare("sap.uiext.inbox.composite.InboxCommentRenderer");sap.uiext.inbox.composite.InboxCommentRenderer={};sap.uiext.inbox.composite.InboxCommentRenderer.render=function(e,t){var r=e;var i=t;var s=i.getId();r.write("<ARTICLE");r.writeControlData(i);r.addClass("sapuiextInboxCommentChunk");r.addClass("sapuiextInboxComment");r.writeClasses();r.write(">");r.write("<img id="+s+"-thumb");var a=sap.uiext.inbox.InboxUtils.getUserMediaResourceURL(sap.uiext.inbox.composite.InboxComment.bpmSvcUrl,i.getSapOrigin(),i.getCreatedBy());if(!a){a=jQuery.sap.getModulePath("sap.uiext.inbox","/")+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/comments/person_placeholder_grey_512.png"}r.writeAttributeEscaped("src",a);r.writeClasses();r.write(">");r.write('<DIV class= "sapuiextInboxCommentText" >');r.write("<SPAN id="+s+'-sender class= "sapuiextInboxCommentSenderText"');r.write(">");r.writeEscaped(i.getSender());r.write("</SPAN> ");this.renderText(r,i);r.write("</DIV>");r.write('<SPAN class= "sapuiextInboxCommentChunkByline" >');r.writeEscaped(i.getTimestamp());r.write("</SPAN>");r.write("</ARTICLE>")};sap.uiext.inbox.composite.InboxCommentRenderer.renderText=function(e,t){var r=t.getText();var i=0;do{var s=r.search(/\s/);var a="",n="";if(s<0){n=r}else{n=r.slice(0,s);a=r.slice(s,s+1);r=r.slice(s+1)}if(/^@/.test(n)){e.write("<a id="+t.getId()+"-Ref"+i);e.write(">");e.writeEscaped(n,true);e.write("</a>",a);i++}else if(/^(https?|ftp):\/\//i.test(n)&&jQuery.sap.validateUrl(n)){e.write("<a");e.writeAttribute("href",jQuery.sap.encodeHTML(n));e.writeAttribute("rel","noopener noreferrer");e.write(">");e.writeEscaped(n,true);e.write("</a>",a)}else if(/^(www\.)/i.test(n)&&jQuery.sap.validateUrl("http://"+n)){e.write("<a");e.writeAttribute("href",jQuery.sap.encodeHTML("http://"+n));e.writeAttribute("rel","noopener noreferrer");e.write(">");e.writeEscaped(n,true);e.write("</a>",a)}else if(/^[\w\.=-]+@[\w\.-]+\.[\w]{2,5}$/.test(n)){e.write("<a");e.writeAttribute("href","mailto:"+jQuery.sap.encodeHTML(n));e.writeAttribute("rel","noopener noreferrer");e.write(">");e.writeEscaped(n,true);e.write("</a>",a)}else{e.writeEscaped(n+a,true)}}while(s>=0)};
},
	"sap/uiext/inbox/composite/InboxTaskComments.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxTaskComments");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxTaskComments",{metadata:{library:"sap.uiext.inbox",properties:{feederSender:{type:"string",group:"Data",defaultValue:null},feederThumbnailSrc:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},showFeeder:{type:"boolean",group:"Data",defaultValue:true},showHeader:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{comments:{type:"sap.uiext.inbox.composite.InboxComment",multiple:true,singularName:"comment"},busyIndicator:{type:"sap.uiext.inbox.composite.InboxBusyIndicator",multiple:false,visibility:"hidden"}},events:{commentSubmit:{}}}});jQuery.sap.require("sap.ui.core.theming.Parameters");jQuery.sap.require("sap.ui.ux3.Feeder");jQuery.sap.require("sap.uiext.inbox.composite.InboxBusyIndicator");sap.uiext.inbox.composite.InboxTaskComments.prototype.init=function(){this.maxComments=2;this.allComments=false;this.rb=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.initCommentFeeder()};sap.uiext.inbox.composite.InboxTaskComments.prototype.initCommentFeeder=function(){if(!this.oCommentFeeder){this.oCommentFeeder=new sap.ui.ux3.Feeder(this.getId()+"-InboxTaskCommentFeeder",{type:sap.ui.ux3.FeederType.Comment,thumbnailSrc:this.getFeederThumbnailSrc()}).setParent(this);this.oCommentFeeder.attachEvent("submit",this.handleCommentFeederSubmit,this);this.showCommentFeeder=true}};sap.uiext.inbox.composite.InboxTaskComments.prototype.exit=function(){if(this.oCommentFeeder){this.oCommentFeeder.destroy();delete this.oCommentFeeder}this.rb=undefined;this.showCommentFeeder=undefined;this.oText=undefined};sap.uiext.inbox.composite.InboxTaskComments.prototype.onclick=function(e){var t=e.target.getAttribute("ID");if(t){switch(t){case this.getId()+"-all":this.showAllComments();break}}e.stopPropagation()};sap.uiext.inbox.composite.InboxTaskComments.prototype.onAfterRendering=function(){jQuery.sap.byId(this.getId()+"-InboxTaskCommentFeeder"+"-input").bind("keyup",this,this.keyupHandler)};sap.uiext.inbox.composite.InboxTaskComments.prototype.keyupHandler=function(e){var t=e.data;var o=t.getId()+"-InboxTaskCommentFeeder"+"-input";var n=jQuery.sap.byId(o).text();var i=500;if(n.length>i){jQuery.sap.byId(o).text(n.slice(0,i));t.placeCaretAtEnd(document.getElementById(o))}};sap.uiext.inbox.composite.InboxTaskComments.prototype.placeCaretAtEnd=function(e){e.focus();if(typeof window.getSelection!="undefined"&&typeof document.createRange!="undefined"){var t=document.createRange();t.selectNodeContents(e);t.collapse(false);var o=window.getSelection();o.removeAllRanges();o.addRange(t)}else if(typeof document.body.createTextRange!="undefined"){var n=document.body.createTextRange();n.moveToElementText(e);n.collapse(false);n.select()}};sap.uiext.inbox.composite.InboxTaskComments.prototype.showAllComments=function(){this.allComments=!this.allComments;var e=jQuery.sap.byId(this.getId()+" > section");if(e.length>0){var t=sap.ui.getCore().createRenderManager();this.getRenderer().renderComments(t,this);t.flush(e[0]);t.destroy()}};sap.uiext.inbox.composite.InboxTaskComments.prototype.handleCommentFeederSubmit=function(e){var t=this._sanitizeText(e.getParameter("text"));this.fireCommentSubmit({text:t})};sap.uiext.inbox.composite.InboxTaskComments.prototype.setFeederThumbnailSrc=function(e){this.setProperty("feederThumbnailSrc",e);if(this.oCommentFeeder){this.oCommentFeeder.setThumbnailSrc(e)}};sap.uiext.inbox.composite.InboxTaskComments.prototype.insertComment=function(e,t){this.insertAggregation("comments",e,t);this.initCommentFeeder();return this};sap.uiext.inbox.composite.InboxTaskComments.prototype.addComment=function(e){this.addAggregation("comments",e);this.initCommentFeeder();return this};sap.uiext.inbox.composite.InboxTaskComments.prototype._sanitizeText=function(e){var t=jQuery.sap._sanitizeHTML(e);return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')};sap.uiext.inbox.composite.InboxTaskComments.prototype.showBusy=function(e){if(e){var t=new sap.uiext.inbox.composite.InboxBusyIndicator;t.setBusy(true);this.setAggregation("busyIndicator",t)}else{this.destroyAggregation("busyIndicator")}};
},
	"sap/uiext/inbox/composite/InboxTaskCommentsRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxTaskCommentsRenderer");sap.uiext.inbox.composite.InboxTaskCommentsRenderer={};sap.uiext.inbox.composite.InboxTaskCommentsRenderer.render=function(e,t){var r=e;var o=t;var n=o.getId();r.write("<ARTICLE");r.writeControlData(o);r.addClass("sapuiextInboxTaskCommentsChunk");r.writeClasses();r.write(">");if(o.getAggregation("busyIndicator"))r.renderControl(o.getAggregation("busyIndicator"));if(o.getComments().length>0||o.showCommentFeeder){r.write("<SECTION>");this.renderComments(r,o);r.write("</SECTION>")}r.write("</ARTICLE>")};sap.uiext.inbox.composite.InboxTaskCommentsRenderer.renderComments=function(e,t){var r=t.getComments();var o=r.length;if(t.getShowHeader()){e.write('<HEADER class= "sapuiextInboxTaskComments" >');if(t.rb){e.write(t.rb.getText("INBOX_TASK_NO_COMMENTS",[o]));if(o>t.maxComments){e.write("<a id="+t.getId()+"-all ");e.write(">");if(!t.allComments){e.write(t.rb.getText("INBOX_TASK_ALL_COMMENTS"))}else{e.write(t.rb.getText("INBOX_TASK_MAX_COMMENTS"))}e.write("</a>")}}e.write("</HEADER>")}var n=o;if(!t.allComments&&t.maxComments<n){n=t.maxComments}for(var i=0;i<n;i++){e.renderControl(r[o-n+i])}if(t.getShowFeeder()){if(t.oCommentFeeder){e.renderControl(t.oCommentFeeder)}}};
},
	"sap/uiext/inbox/composite/InboxTaskTitleControl.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxTaskTitleControl");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxTaskTitleControl",{metadata:{library:"sap.uiext.inbox",properties:{taskTitle:{type:"string",group:"Misc",defaultValue:null},categoryIconURI:{type:"sap.ui.core.URI",group:"Misc",defaultValue:"hasCategory"},hasAttachments:{type:"boolean",group:"Misc",defaultValue:null},hasComments:{type:"boolean",group:"Misc",defaultValue:null}},aggregations:{titleLink:{type:"sap.ui.core.Control",multiple:false}}}});jQuery.sap.require("sap.ui.core.IconPool");sap.uiext.inbox.composite.InboxTaskTitleControl.prototype.init=function(){};sap.uiext.inbox.composite.InboxTaskTitleControl.prototype.setTaskTitle=function(t){this.setProperty("taskTitle",t,true);this.getAggregation("titleLink").setText(t)};sap.uiext.inbox.composite.InboxTaskTitleControl.prototype.setTooltip=function(t){this.setProperty("taskTitle",t,true);this.getAggregation("titleLink").setTooltip(t)};
},
	"sap/uiext/inbox/composite/InboxTaskTitleControlRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxTaskTitleControlRenderer");sap.uiext.inbox.composite.InboxTaskTitleControlRenderer={};sap.uiext.inbox.composite.InboxTaskTitleControlRenderer.render=function(e,o){var t=e;t.write("<div");t.writeControlData(o);t.writeStyles();t.addClass("sapUiExtInboxTaskTitle");t.writeClasses();t.write(">");if(o.getCategoryIconURI()&&sap.ui.core.IconPool.isIconURI(o.getCategoryIconURI())){this.renderTaskCategoryIcon(t,o)}var n=o.getAggregation("titleLink");n.addStyleClass("sapUiExtInboxTaskTitleLink");t.renderControl(n);if(o.getHasAttachments()){this.renderAttachmentIcon(t,o)}if(o.getHasComments()){this.renderCommentsIcon(t,o)}t.write("</div>")};sap.uiext.inbox.composite.InboxTaskTitleControlRenderer.renderTaskCategoryIcon=function(e,o){var t=sap.ui.core.IconPool.getIconInfo(o.getCategoryIconURI());if(t){this.renderIcon(e,o.getId()+"-categoryIcon","sapUiExtInboxTaskTitleCategIcon",o.getCategoryIconURI())}};sap.uiext.inbox.composite.InboxTaskTitleControlRenderer.renderAttachmentIcon=function(e,o){this.renderIcon(e,o.getId()+"-attachmentIcon","sapUiExtInboxTaskTitleAttachIcon",sap.ui.core.IconPool.getIconURI("attachment"))};sap.uiext.inbox.composite.InboxTaskTitleControlRenderer.renderCommentsIcon=function(e,o){this.renderIcon(e,o.getId()+"-commentIcon","sapUiExtInboxTaskTitleCommIcon",sap.ui.core.IconPool.getIconURI("comment"))};sap.uiext.inbox.composite.InboxTaskTitleControlRenderer.renderIcon=function(e,o,t,n){var i=[];var r={};r["id"]=o;i.push("sapUiExtInboxTaskTitleIcon");e.writeIcon(n,i,r)};
},
	"sap/uiext/inbox/composite/InboxUploadAttachmentTile.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxUploadAttachmentTile");jQuery.sap.require("sap.uiext.inbox.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.uiext.inbox.composite.InboxUploadAttachmentTile",{metadata:{library:"sap.uiext.inbox",properties:{fileName:{type:"string",group:"Misc",defaultValue:null},fileTypeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}},events:{uploadSelectedFile:{}}}});sap.uiext.inbox.composite.InboxUploadAttachmentTile.prototype.init=function(){var t=this;this._oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.uiext.inbox");this.oUploadButton=new sap.ui.commons.Button({tooltip:t._oBundle.getText("INBOX_UPLOAD_ATTACHMENT"),text:t._oBundle.getText("INBOX_UPLOAD_ATTACHMENT_TOOLTIP")});this.oCancelButton=new sap.ui.commons.Button({text:t._oBundle.getText("INBOX_CANCEL_TEXT"),tooltip:t._oBundle.getText("INBOX_CANCEL_TEXT")})};sap.uiext.inbox.composite.InboxUploadAttachmentTile.prototype.onAfterRendering=function(){var t=this.oUploadButton.getFocusDomRef();if(t){jQuery.sap.focus(t)}};sap.uiext.inbox.composite.InboxUploadAttachmentTile.prototype.getUploadButton=function(){return this.oUploadButton};sap.uiext.inbox.composite.InboxUploadAttachmentTile.prototype.getCancelButton=function(){return this.oCancelButton};
},
	"sap/uiext/inbox/composite/InboxUploadAttachmentTileRenderer.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.composite.InboxUploadAttachmentTileRenderer");sap.uiext.inbox.composite.InboxUploadAttachmentTileRenderer={};sap.uiext.inbox.composite.InboxUploadAttachmentTileRenderer.render=function(e,t){e.write("<span");e.writeControlData(t);e.addClass("sapUiExtInboxAttachmentTileLayout");e.writeClasses();e.write(">");e.write("<span>");var n=[];var a={};n.push("sapUiExtInboxAttachmentIcon");e.writeIcon(t.getFileTypeIcon(),n);e.write("</span>");e.write("<span");e.addClass("sapUiExtInboxAttachmentDetails");e.writeClasses();e.write(">");e.write("<div");e.addClass("sapUiExtInboxAttachmentName");e.writeClasses();e.writeAttributeEscaped("title",t.getFileName());e.write(">");e.writeEscaped(t.getFileName());e.write("</div>");e.write("<div");e.addClass("sapUiExtInboxAttachmentUplodBtns");e.writeClasses();e.write(">");this.renderUploadButton(e,t);this.renderCancelButton(e,t);e.write("</div>");e.write("</span>");e.write("</span>")};sap.uiext.inbox.composite.InboxUploadAttachmentTileRenderer.renderUploadButton=function(e,t){e.write("<span>");e.renderControl(t.getUploadButton());e.write("</span>")};sap.uiext.inbox.composite.InboxUploadAttachmentTileRenderer.renderCancelButton=function(e,t){e.write("<span");e.addClass("sapUiExtInboxAttachmentCancelBtn");e.writeClasses();e.write(">");e.renderControl(t.getCancelButton());e.write("</span>")};
},
	"sap/uiext/inbox/controller/InboxController.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.controller.InboxController");sap.ui.base.Object.extend("sap.uiext.inbox.controller.InboxController",{constructor:function(){sap.ui.base.Object.apply(this);this.oView=null;this.oModel=null},setModel:function(t){this.oModel=t},getModel:function(t){return this.oModel},getExpandParameters:function(){var t="";var e=this.getView();var i=e.currentView===e.constants.rowRepeaterView?true:false;var n=e._getComponent("INBOX_FILTER_TASK_TYPE");var r=n?e._isInitialFilterAppliedforTaskType(n):false;if(e.showTaskCategory){t="TaskDefinitionData"}if(e.showTaskDescription&&i){if(t.length>0){t=t+","}t=t+"Description"}if(r&&e.isCustomAttributesEnabled){if(t.length>0){t=t+","}t=t+"CustomAttributeData"}return t},setView:function(t){this.oView=t},getView:function(){return this.oView},getTaskInitiatorIconParts:function(){return[{path:"CreatedBy"}]},getTaskInitiatorIconFormatter:function(t){return function(e){var i=this.getBindingContext();var n;if(i){n=i.getProperty("TaskDefinitionData/Category")}var r;if(n!==null&&n!==""&&n!==undefined){n=n.toUpperCase();if(n===t._oBundle.getText("ALERT"))r=t.constants.iconPool.getIconURI("alert");else if(n===t._oBundle.getText("NOTIFICATION"))r=t.constants.iconPool.getIconURI("notification-2");else if(n===t._oBundle.getText("TODO"))r=t.constants.iconPool.getIconURI("activity-2");else if(n===t._oBundle.getText("TASK"))r=t.constants.iconPool.getIconURI("task")}if(!e){return r}else{this.setVisible(false)}}},getExpandTaskDescriptionLinkParts:function(){return[{path:"Description"}]},getExpandTaskDescriptionLinkFormatter:function(t){return function(e){if(e){var i=t.getCoreModel();var n=this.getBindingContext();var r=t.getModel().getProperty(t.constants.NAVIGATION_DESCRIPTION,n);var o=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");if(!o){if(r.Description&&r.Description!==""){if(r.Description.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}else{if(r.DescriptionAsHtml&&r.DescriptionAsHtml!==""){if(r.DescriptionAsHtml.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}}return"auto"}},isFilterOnCustomAttributesSupported:function(){return true},isSortOnCustomAttributesSupported:function(){return true},getCustomAttributeColumnParts:function(t){return[{path:"CustomAttributeData"}]},getCustomAttributeColumnFormatter:function(t){return function(e){var i=t.getCoreModel();var n="name";var r=t.sCollectionPath.replace(/^\//,"")+"('"+this.data(n)+"')";var o="";if(e!==undefined&&e!==""&&e!==null){var a=this.getModel().getProperty("InstanceID",this.getBindingContext());var s=t.constants.oTaskInstanceCustomAttributeValuesMap;for(var u=0;u<e.length;u++){var l=i.oData[e[u]]===undefined?i._original_data[e[u]]:i.oData[e[u]];if(l.Name===this.data(n)){var c=l.Name;var f=s[a];if(!f){var f={};f[l.Name]=l.Value;s[a]=f}else{var p=f.sAttributeName;if(!p){s[a][c]=l.Value}}o=l.Value;break}}}return o}},getTaskDetailsParts:function(){return[{path:"Description"}]},getTaskDetailsFormatter:function(t){return function(e){if(e!==null&&e!==undefined){var i=t.getCoreModel();var n=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");var r=this.getBindingContext();var o=e[0];var a=i.oData[o];var s=/(<([^>]+)>)/gi;var u;if(a){if(n&&a.DescriptionAsHtml!==""){u=a.DescriptionAsHtml}else{u=a.Description}}else{if(n&&e.DescriptionAsHtml!==""){u=e.DescriptionAsHtml}else{u=e.Description}}if(u!==null&&u!==undefined&&u!==""){this.data("showMore",u);this.data("showLess",u.replace(s,""));return u.replace(s,"")}}return""}},getHtmlTextParts:function(){return[{path:"Description"}]},getHtmlTextFormatter:function(t){return function(e){var i=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");if(i){if(e.DescriptionAsHtml){return e.DescriptionAsHtml}}return e.Description}}});
},
	"sap/uiext/inbox/controller/InboxControllerAsync.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.controller.InboxControllerAsync");jQuery.sap.require("sap.uiext.inbox.controller.InboxController");jQuery.sap.require("sap.ui.model.json.JSONModel");sap.uiext.inbox.controller.InboxController.extend("sap.uiext.inbox.controller.InboxControllerAsync",{constructor:function(){if(sap.uiext.inbox.controller.InboxController.prototype.constructor){sap.uiext.inbox.controller.InboxController.prototype.constructor.apply(this,arguments)}this.oTaskDefinitionModel=new sap.ui.model.json.JSONModel;this.oTaskDefinitionModel.setData({TaskDefinitionCollection:[]});this.oTaskDescriptionModel=new sap.ui.model.json.JSONModel;this.oTaskDescriptionModel.setData({TaskDescriptionCollection:[]});this.oCustomAttributeDataModel=new sap.ui.model.json.JSONModel;this.oCustomAttributeDataModel.setData({CustomAttributeDataCollection:[]});this.oUtilityModelTaskDescription;this.oUtilityModelTaskDefinition;this.oUtilityModelCustomAttributeData;this.aFetchedTaskDefinitions=[];this.aBatchedTaskDefinitions=[];this.aFetchedTaskDescriptions=[];this.aBatchedTaskDescriptions=[];this.aFetchedCustomAttributes=[];this.aBatchedCustomAttributes=[];this.oBatchTimer;this.sLoadingText;this.iBatchThreshold=50;this.iTimerThreshold=1e3},setModel:function(t){if(sap.uiext.inbox.controller.InboxController.prototype.setModel){sap.uiext.inbox.controller.InboxController.prototype.setModel.apply(this,arguments)}if(t instanceof sap.ui.model.odata.ODataModel||t instanceof sap.ui.model.odata.v2.ODataModel){this.oUtilityModelTaskDescription=new sap.ui.model.odata.ODataModel(t.sServiceUrl);this.oUtilityModelCustomAttributeData=new sap.ui.model.odata.ODataModel(t.sServiceUrl);this.oUtilityModelTaskDefinition=new sap.ui.model.odata.ODataModel(t.sServiceUrl);this.getView()._getComponent("tasksRowRepeater").setModel(this.oTaskDefinitionModel,"TaskDefinitionModel").setModel(this.oTaskDescriptionModel,"TaskDescriptionModel");this.getView()._getComponent("listViewTable").setModel(this.oTaskDefinitionModel,"TaskDefinitionModel").setModel(this.oCustomAttributeDataModel,"CustomAttributeDataModel")}},setView:function(t){if(sap.uiext.inbox.controller.InboxController.prototype.setView){sap.uiext.inbox.controller.InboxController.prototype.setView.apply(this,arguments)}this.sLoadingText=t._oBundle.getText("INBOX_LP_LOADING")},getExpandParameters:function(){return""},addReadTaskDefinitionToBatch:function(t,i,e){if(this.aFetchedTaskDefinitions.indexOf(i+e)===-1&&this.aBatchedTaskDefinitions.indexOf(i+e)===-1){if(this.oBatchTimer===undefined){this._startBatchTimer()}var s=this._getRequestURLTaskDefinitionData(t,e);var o=this.oUtilityModelTaskDefinition.createBatchOperation(s,"GET");this.oUtilityModelTaskDefinition.addBatchReadOperations([o]);this.aBatchedTaskDefinitions.push(i+e);if(this.aBatchedTaskDefinitions.length===this.iBatchThreshold){this._submitBatchTaskDefinitions(this.oUtilityModelTaskDefinition);this.aBatchedTaskDefinitions=[]}}return""},_getRequestURLTaskDefinitionData:function(t,i){var e=this.getView().constants;var s=e.TaskCollection;var o=e.forwardSlash+s.entityName+"("+s.properties.instanceID+"='"+t+"',"+e.sapOrigin+"='"+i+"')"+e.forwardSlash+s.navParam.taskDefinition;return o},_submitBatchTaskDefinitions:function(t){var i=this;t.submitBatch(function(t,e){i._processTaskDefinitionsResponse(t.__batchResponses)},function(t){var i=JSON.parse(String(t.response.body))},true)},_processTaskDefinitionsResponse:function(t){var i,e,s,o,a,n=[],r={};function c(t,i){this.sSapOrigin=i;this.sTaskDefinitionID=t}c.prototype.toString=function(){return this.sTaskDefinitionID+this.sSapOrigin};for(var h=0;h<t.length;h++){i=t[h];if(i&&i.statusCode&&i.statusCode==200){a=i.data;e=a.SAP__Origin;s=a.TaskDefinitionID;o=a.Category;n[new c(s,e)]={Category:o};this.aFetchedTaskDefinitions.push(s+e)}else{this.aBatchedTaskDefinitions=[]}}this.oTaskDefinitionModel.setData({TaskDefinitionCollection:n},true);n=[]},addReadTaskDescriptionToBatch:function(t,i){if(this.aFetchedTaskDescriptions.indexOf(t+i)===-1&&this.aBatchedTaskDescriptions.indexOf(t+i)===-1){if(this.oBatchTimer===undefined){this._startBatchTimer()}var e=this._getRequestURLTaskDescriptionData(t,i);var s=this.oUtilityModelTaskDescription.createBatchOperation(e,"GET");this.oUtilityModelTaskDescription.addBatchReadOperations([s]);this.aBatchedTaskDescriptions.push(t+i);if(this.aBatchedTaskDescriptions.length===this.iBatchThreshold){this.aBatchedTaskDescriptions=[];this._submitBatchTaskDescriptions(this.oUtilityModelTaskDescription)}}return this.sLoadingText},_submitBatchTaskDescriptions:function(t){var i=this;t.submitBatch(function(t,e){i._processTaskDescriptionResponse(t.__batchResponses)},function(t){var i=JSON.parse(String(t.response.body))},true)},_processTaskDescriptionResponse:function(t){var i,e,s,o,a,n,r={},c={};function h(t,i){this.sSapOrigin=i;this.sTaskInstanceID=t}h.prototype.toString=function(){return this.sTaskInstanceID+this.sSapOrigin};for(var l=0;l<t.length;l++){i=t[l];if(i&&i.statusCode&&i.statusCode==200){n=i.data;e=n.SAP__Origin;s=n.InstanceID;o=n.Description;a=n.DescriptionAsHtml;r[new h(s,e)]={Description:o,DescriptionAsHtml:a};this.aFetchedTaskDescriptions.push(s+e)}else{this.aBatchedTaskDescriptions=[]}}this.oTaskDescriptionModel.setData({TaskDescriptionCollection:r},true)},_getRequestURLTaskDescriptionData:function(t,i){var e=this.getView().constants;var s=e.TaskCollection;var o=e.forwardSlash+s.entityName+"("+s.properties.instanceID+"='"+t+"',"+e.sapOrigin+"='"+i+"')"+e.forwardSlash+s.navParam.taskDescription;return o},addReadCustomAttributeDataToBatch:function(t,i){if(this.aFetchedCustomAttributes.indexOf(t+i)===-1&&this.aBatchedCustomAttributes.indexOf(t+i)===-1){if(this.oBatchTimer===undefined){this._startBatchTimer()}var e=this.getRequestURLCustomAttributeData(t,i);var s=this.oUtilityModelCustomAttributeData.createBatchOperation(e,"GET");this.oUtilityModelCustomAttributeData.addBatchReadOperations([s]);this.aBatchedCustomAttributes.push(t+i);if(this.aBatchedCustomAttributes.length===this.iBatchThreshold){this.aBatchedCustomAttributes=[];this._submitBatchCustomAttributeData(this.oUtilityModelCustomAttributeData)}}return this.sLoadingText},getRequestURLCustomAttributeData:function(t,i){var e=this.getView().constants;var s=e.TaskCollection;var o=e.forwardSlash+s.entityName+"("+s.properties.instanceID+"='"+t+"',"+e.sapOrigin+"='"+i+"')"+e.forwardSlash+s.navParam.customAttrValues;return o},_submitBatchCustomAttributeData:function(t){var i=this;t.submitBatch(function(t,e){for(var s=0;s<t.__batchResponses.length;s++){i._processCustomAttributeDataResponse(t.__batchResponses[s])}},function(t){var i=JSON.parse(String(t.response.body))},true)},_processCustomAttributeDataResponse:function(t){var i,e,s,o,a={},n={};function r(t,i){this.sSapOrigin=i;this.sTaskInstanceID=t}r.prototype.toString=function(){return this.sTaskInstanceID+this.sSapOrigin};if(t&&t.statusCode&&t.statusCode==200){var c;for(var h=0;h<t.data.results.length;h++){i=t.data.results[h];if(h===0){c=new r(i.InstanceID,i.SAP__Origin);this.aFetchedCustomAttributes.push(i.InstanceID+i.SAP__Origin)}n[i.Name]=i.Value}a[c]=n}else{this.aBatchedCustomAttributes=[]}this.oCustomAttributeDataModel.setData({CustomAttributeDataCollection:a},true)},_fireSubmitBatch:function(){if(this.aBatchedTaskDefinitions!==undefined&&this.aBatchedTaskDefinitions.length>0){this.aBatchedTaskDefinitions=[];this._submitBatchTaskDefinitions(this.oUtilityModelTaskDefinition)}if(this.aBatchedTaskDescriptions!==undefined&&this.aBatchedTaskDescriptions.length>0){this.aBatchedTaskDescriptions=[];this._submitBatchTaskDescriptions(this.oUtilityModelTaskDescription)}if(this.aBatchedCustomAttributes!==undefined&&this.aBatchedCustomAttributes.length>0){this.aBatchedCustomAttributes=[];this._submitBatchCustomAttributeData(this.oUtilityModelCustomAttributeData)}this._stopBatchTimer()},_startBatchTimer:function(){var t=this;this.oBatchTimer=window.setInterval(function(){t._fireSubmitBatch()},this.iTimerThreshold)},_stopBatchTimer:function(){window.clearInterval(this.oBatchTimer);this.oBatchTimer=undefined},getTaskInitiatorIconParts:function(){return[{path:"InstanceID"},{path:"TaskDefinitionID"},{path:"SAP__Origin"},{path:"CreatedBy"},{path:"TaskDefinitionModel>Category"}]},getTaskInitiatorIconFormatter:function(t){return function(i,e,s,o,a){if(!o){if(i&&e&&s){var n;if(a===null){this.bindElement("TaskDefinitionModel>/TaskDefinitionCollection/"+e+s+"/");return""}if(a!=null){this.setVisible(true);var r=a.toUpperCase();if(r===t._oBundle.getText("ALERT"))n=t.constants.iconPool.getIconURI("alert");else if(r===t._oBundle.getText("NOTIFICATION"))n=t.constants.iconPool.getIconURI("notification-2");else if(r===t._oBundle.getText("TODO"))n=t.constants.iconPool.getIconURI("activity-2");else if(r===t._oBundle.getText("TASK"))n=t.constants.iconPool.getIconURI("task");return n}else if(this.getBindingContext()){t.oController.addReadTaskDefinitionToBatch(i,e,s)}}}else{this.setVisible(false)}}},getExpandTaskDescriptionLinkParts:function(){return[{path:"InstanceID"},{path:"SAP__Origin"},{path:"TaskDescriptionModel>Description"},{path:"TaskDescriptionModel>DescriptionAsHtml"}]},getExpandTaskDescriptionLinkFormatter:function(t){return function(i,e,s,o){if(i&&e){this.bindElement("TaskDescriptionModel>/TaskDescriptionCollection/"+i+e+"/");if(s){var a=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");if(!a){if(s&&s!==""){if(s.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}else{if(o&&o!==""){if(o.search(/(<([^>]+)>)/gi)!==-1){return"true"}}}}return"auto"}}},isFilterOnCustomAttributesSupported:function(){return false},isSortOnCustomAttributesSupported:function(){return false},getCustomAttributeColumnParts:function(t){return[{path:"InstanceID"},{path:"SAP__Origin"},{path:"CustomAttributeDataModel>"+t}]},getCustomAttributeColumnFormatter:function(t){return function(i,e,s){if(i&&e){this.bindElement("CustomAttributeDataModel>/CustomAttributeDataCollection/"+i+e+"/");var o=this.getBindingContext();if(s!=null){return s}else if(o){return t.oController.addReadCustomAttributeDataToBatch(i,e)}}}},getTaskDetailsParts:function(){return[{path:"InstanceID"},{path:"SAP__Origin"},{path:"TaskDescriptionModel>Description"},{path:"TaskDescriptionModel>DescriptionAsHtml"}]},getTaskDetailsFormatter:function(t){return function(i,e,s,o){if(i&&e){this.bindElement("TaskDescriptionModel>/TaskDescriptionCollection/"+i+e+"/");var a=this.getBindingContext();if(s!=null){var n=t.oTcmMetadata._isPropertyAvailable("TaskDescription","DescriptionAsHtml");var r=/(<([^>]+)>)/gi;var c;if(s){if(n&&o!==""){c=o}else{c=s}}if(c!==null&&c!==undefined&&c!==""){this.data("showMore",c);this.data("showLess",c.replace(r,""));return c.replace(r,"")}else{return""}}else if(a){return t.oController.addReadTaskDescriptionToBatch(i,e)}}}}});
},
	"sap/uiext/inbox/controller/InboxControllerFactory.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.controller.InboxControllerFactory");jQuery.sap.require("sap.uiext.inbox.controller.InboxController");jQuery.sap.require("sap.uiext.inbox.controller.InboxControllerAsync");sap.ui.base.Object.extend("sap.uiext.inbox.controller.InboxControllerFactory",{constructor:function(o){sap.ui.base.Object.apply(this);this._bAsync=o.bAsyncValue;this._oController=null}});sap.uiext.inbox.controller.InboxControllerFactory.prototype.getController=function(){if(this._oController===null){if(this._bAsync===true){this._oController=new sap.uiext.inbox.controller.InboxControllerAsync}else if(this._bAsync===false){this._oController=new sap.uiext.inbox.controller.InboxController}else{if(window.console){console.error("Invalid argument specified in constructor. Please pass a boolean value - true/false.")}this._oController=null}}return this._oController};
},
	"sap/uiext/inbox/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.uiext.inbox","type":"library","embeds":[],"applicationVersion":{"version":"1.141.1"},"title":"The Unified Inbox control","description":"The Unified Inbox control","ach":"CA-UI5-INB","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_base","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_bluecrystal_base","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_hcb","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.1"},"sap.ui.commons":{"minVersion":"1.141.1"},"sap.ui.ux3":{"minVersion":"1.141.1"},"sap.m":{"minVersion":"1.141.1","lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.uiext.inbox.Inbox","sap.uiext.inbox.InboxLaunchPad","sap.uiext.inbox.InboxSplitApp","sap.uiext.inbox.SubstitutionRulesManager","sap.uiext.inbox.composite.InboxAddAttachmentTile","sap.uiext.inbox.composite.InboxAttachmentTile","sap.uiext.inbox.composite.InboxAttachmentsTileContainer","sap.uiext.inbox.composite.InboxBusyIndicator","sap.uiext.inbox.composite.InboxComment","sap.uiext.inbox.composite.InboxTaskComments","sap.uiext.inbox.composite.InboxTaskTitleControl","sap.uiext.inbox.composite.InboxUploadAttachmentTile"],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/uiext/inbox/splitapp/DetailViewPage.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.splitapp.DetailViewPage");jQuery.sap.require("sap.m.MessageToast");jQuery.sap.require("sap.m.SelectDialog");jQuery.sap.require("sap.uiext.inbox.InboxConstants");jQuery.sap.require("sap.uiext.inbox.InboxUtils");sap.ui.base.Object.extend("sap.uiext.inbox.splitapp.DetailViewPage",{constructor:function(t){sap.ui.base.Object.apply(this);this.oCore=sap.ui.getCore();this.Id=t;this.constants=sap.uiext.inbox.InboxConstants;this._oBundle=this.oCore.getLibraryResourceBundle("sap.uiext.inbox");this.utils=sap.uiext.inbox.InboxUtils;this.useBatch=false;this.isCommentsSupported=false;this.bPhoneDevice=jQuery.device.is.phone;this.detailViewPage=this._create()}});sap.uiext.inbox.splitapp.DetailViewPage.prototype._create=function(){var t=this.oCore.byId(this.Id+"-detailPage");if(!t){var e=this;var a=new Array;var i=new sap.m.Button(this.Id+"-claimBtn",{text:this._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM"),icon:"sap-icon://locked",enabled:"{SupportsClaim}"});i.attachPress(this,this._handleClaim);a.push(i);var s=new sap.m.Button(this.Id+"-releaseBtn",{text:this._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE"),icon:"sap-icon://unlocked",enabled:"{SupportsRelease}"});s.attachPress(this,this._handleRelease);a.push(s);var o=new sap.m.Bar(this.Id+"-actionsBar",{contentMiddle:a});t=new sap.m.Page(this.Id+"-detailPage",{title:"{"+this.constants.PROPERTY_NAME_TASK_DEFINITION_NAME+"}",footer:o,showNavButton:jQuery.device.is.phone}).attachNavButtonPress(function(t){sap.ui.getCore().getEventBus().publish("sap.uiext.inbox","detailPageNavButtonTapped")});var n=new sap.m.ObjectHeader(this.Id+"-objHeader",{title:"{"+this.constants.PROPERTY_NAME_TASK_TITLE+"}",attributes:[new sap.m.ObjectAttribute(this.Id+"-objDesc",{text:"{Description/Description}"}),(new sap.m.ObjectAttribute).bindProperty("text",this.constants.PROPERTY_NAME_PRIORITY,function(t){if(t){var a=e._oBundle.getText(e.constants.prioTooltip[t]);a=a==""?t:a;a=e._oBundle.getText("INBOX_PRIORITY")+" : "+a;this.setTooltip(a);return a}return""}),(new sap.m.ObjectAttribute).bindProperty("text","CompletionDeadLine",function(t){if(t!=null&&t!=""){var a=e._oBundle.getText("INBOX_DUE_DATE")+" : "+e.utils._dateFormat(t);this.setTooltip(a);return a}})]}).setTitleActive(true);n.attachTitlePress(this,this._handleTaskTitlePress);t.addContent(n);var r=new sap.m.IconTabBar(this.Id+"-iconTabBar",{items:[new sap.m.IconTabFilter(this.Id+"-custAttrTab",{icon:"sap-icon://hint",iconColor:sap.ui.core.IconColor.Default,key:"customAttr"})]});r.attachSelect(this,this._handleSelectIconTabFilter);t.addContent(r);t.addDelegate({onAfterRendering:function(){}})}return t};sap.uiext.inbox.splitapp.DetailViewPage.prototype._setTcmServiceURL=function(t){this.tcmServiceURL=t};sap.uiext.inbox.splitapp.DetailViewPage.prototype._setTcmConfiguration=function(t){this.useBatch=t.useBatch?t.useBatch:false;this.isCommentsSupported=t.isCommentsSupported?t.isCommentsSupported:false;this._createCommentsView()};sap.uiext.inbox.splitapp.DetailViewPage.prototype._createCommentsView=function(){var t=this.oCore.byId(this.Id+"-iconTabBar");if(this.isCommentsSupported){t.addItem(new sap.m.IconTabFilter(this.Id+"-commentsTab",{icon:"sap-icon://collaborate",iconColor:sap.ui.core.IconColor.Default,key:"comments"}))}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getOModel=function(){if(!this.oTCMModel){this.oTCMModel=this.detailViewPage.getModel("inboxTCMModel")}return this.oTCMModel};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getPageModel=function(){if(!this.model){this.model=this.detailViewPage.getModel()}return this.model};sap.uiext.inbox.splitapp.DetailViewPage.prototype.getPage=function(){return this.detailViewPage};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleClaim=function(t,e){e.executeActionOnTask("Claim")};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleRelease=function(t,e){e.executeActionOnTask("Release")};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleForward=function(t,e){e.executeActionOnTask("Forward")};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleTaskTitlePress=function(t,e){e.oCore.getEventBus().publish("sap.uiext.inbox","detailPageTaskTitleSelected",{context:e.detailViewPage.getBindingContext()})};sap.uiext.inbox.splitapp.DetailViewPage.prototype.executeActionOnTask=function(t,e){var a=t==="Forward"?true:false;var e=a?e:"";var i=[],s=[],o=[],n=[];var r=[];var p="'",l="'",d="'";var u,c;var g=this.detailViewPage.getBindingContext();u=this._getPageModel().getProperty("InstanceID",g);c=this._getPageModel().getProperty("SAP__Origin",g);s.push(g);i.push(u);o.push(c);p=p+u+"'";l=l+c+"'";if(a){d="'"+e+"'"}if(i!=null||i.length>0){var h,_,m,C;if(t==="Complete"){t="Complete"}if(t==="Claim"){t="Claim"}if(t==="Release"){t="Release"}if(a){t="Forward"}this.defaultActionHandler(t,p,l,i,o,s,d)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype.defaultActionHandler=function(t,e,a,i,s,o,n){var r,p,l,d;var u=t==="Forward"?true:false;var c=o;var g=this;var h=i.length;var _=g._getPageModel().getProperty("TaskTitle",o[0]);r="/"+t+"?InstanceID="+e+"&SAP__Origin="+a+"&$format=json";if(t==="Release"){t=g._oBundle.getText("INBOX_ACTION_BUTTON_RELEASE")}else if(t==="Claim"){t=g._oBundle.getText("INBOX_ACTION_BUTTON_CLAIM")}else if(t==="Forward"){t=g._oBundle.getText("INBOX_ACTION_BUTTON_FORWARD")}var m=function(e){sap.m.MessageToast.show(g._oBundle.getText("INBOX_MSG_ACTION_FAILED",[t,_]))};if(u){r=r+"&ForwardTo="+n}p=this.tcmServiceURL+r;var C=this._getOModel().oHeaders["x-csrf-token"];if(!C){this._getOModel().refreshSecurityToken(null,null,false);C=this._getOModel().oHeaders["x-csrf-token"]}l={async:true,requestUri:p,method:"POST",headers:{Accept:"application/json","x-csrf-token":C}};OData.request(l,function(e,a){g._handleActionCompleted(e);sap.m.MessageToast.show(g._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[t,e.TaskTitle]))},m)};sap.uiext.inbox.splitapp.DetailViewPage.prototype._renderCustomActions=function(){var t=[];if(this.detailViewPage.getBindingContext()){var e=this.detailViewPage.getBindingContext();var a=this._getPageModel().getProperty("InstanceID",e);var i=this._getPageModel().getProperty("SAP__Origin",e);var s=this;this._getOModel().read(this.constants.decisionOptionsFunctionImport,null,["InstanceID='"+a+"'&SAP__Origin='"+i+"'",this.constants.formatJSONURLParam],true,function(e,a){t=e.results;s._createCustomActions(t)},function(t){var e=JSON.parse(String(t.response.body));sap.m.MessageToast.show(s._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_CUSTOM_ACTIONS"),{width:"55em",autoClose:false})})}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._createCustomActions=function(t){var e=this;var a=this.oCore.byId(this.Id+"-actionsBar");this._deleteCustomActions(t,a);var i=t.length;var s=3,o,n,r;if(this.bPhoneDevice){var p=0}else{var p=7}if(i>p){o=t.slice(0,p+1);n=t.slice(p,i);i=p;r=true}for(var l=0;l<i;l++){var d=t[l];var u=e._createCustomActionButton(d);a.insertContentMiddle(u,s);s++}if(r){var c=this.oCore.byId(this.Id+"--"+"customActionMoreButton");if(!c){c=new sap.m.Button(this.Id+"--"+"customActionMoreButton",{icon:"sap-icon://open-command-field"}).data("type",this.constants.customAction).attachPress({that:e,aCustomActionsTobeRendered:n},e._openCustomActionSheet)}a.insertContentMiddle(c,s)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._openCustomActionSheet=function(t,e){var a=e.that;var i=e.aCustomActionsTobeRendered;var s=a.oCore.byId(a.Id+"--"+"customActionSheet");if(!s){s=new sap.m.ActionSheet(a.Id+"--"+"customActionSheet",{title:"Custom Action",showCancelButton:true,placement:sap.m.PlacementType.Top})}jQuery.each(i,function(t,e){var i=a._createCustomActionButton(e);i.data("source","actionSheet");s.addButton(a._createCustomActionButton(e))});s.openBy(t.getSource())};sap.uiext.inbox.splitapp.DetailViewPage.prototype._createCustomActionButton=function(t){var e=this.oCore.byId(this.Id+"--"+t.DecisionKey+"button");if(!e){var a=t.DecisionText!==undefined&&t.DecisionText!==""?t.DecisionText:t.DecisionKey;var e=new sap.m.Button(this.Id+"--"+t.DecisionKey+"button",{icon:"sap-icon://complete",text:a,tooltip:t.Description}).data("type",this.constants.customAction).data("key",t.DecisionKey).data("text",a);e.attachPress(this,this._handleCustomAction)}return e};sap.uiext.inbox.splitapp.DetailViewPage.prototype._deleteCustomActions=function(t,e){var a=this;var i=e.getContentMiddle();for(var s=0;s<i.length;s++){var o=i[s];if(o instanceof sap.m.Button&&o.data("type")===a.constants.customAction){e.removeContentMiddle(o);o.destroy()}}var n=a.oCore.byId(a.Id+"--"+"customActionSheet");if(n){n.destroy()}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getPropertyValue=function(t){var e=this.detailViewPage.getBindingContext();if(e){return this._getPageModel().getProperty(t,e)}return null};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleCustomAction=function(t,e){var a=t.getSource();var i=a.data("key");var s=e.oCore.byId(e.Id+"--"+i+"cAinPopUp");if(!s){s=new sap.m.Button(e.Id+"--"+i+"cAinPopUp",{text:a.data("text"),press:function(t){var a=e.oCore.byId(e.Id+"--"+"addCommentsInputBtn").getValue();e._executeCustomAction(a,i);e.oCore.byId(e.Id+"--"+"customActionWithComments").close()}}).data("key",i)}var o=e.oCore.byId(e.Id+"--"+"customActionWithComments");if(!o){o=new sap.m.ResponsivePopover(e.Id+"--"+"customActionWithComments",{placement:sap.m.PlacementType.Top,content:new sap.m.TextArea(e.Id+"--"+"addCommentsInputBtn",{placeholder:e._oBundle.getText("INBOX_LP_ADD_COMMENT"),maxLength:500,width:"100%"})});if(e.bPhoneDevice){o.setTitle(e._getPageModel().getProperty("TaskTitle",e.detailViewPage.getBindingContext()));o.setShowHeader(e.bPhoneDevice)}}o.setBeginButton(s);var n=e.oCore.byId(e.Id+"--"+"addCommentsInputBtn");if(n){n.setValue("")}if(a.data("source")==="actionSheet"){o.openBy(e.oCore.byId(e.Id+"--"+"customActionMoreButton"))}else{o.openBy(a)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._executeCustomAction=function(t,e){var a=[],i=[],s=[];var o=[];var n="'",r="'";var p=[];var l,d;var u=this;var c=this.detailViewPage.getBindingContext();var g=this._getPageModel().getProperty("TaskTitle",c);l=this._getPageModel().getProperty("InstanceID",c);d=this._getPageModel().getProperty("SAP__Origin",c);i.push(c);a.push(l);s.push(d);n=n+l+"'";r=r+d+"'";var h,_,m,C,v;v=a.length;h=this.constants.forwardSlash+this.constants.decisionExecutionFunctionImport+this.constants.query+"InstanceID="+n+this.constants.amperSand+"SAP__Origin="+r+this.constants.amperSand+"DecisionKey='"+e+"'"+this.constants.amperSand+this.constants.formatJSONURLParam;if(t)h=h+"&Comments='"+t+"'";_=this.tcmServiceURL+h;var f=this._getOModel().oHeaders["x-csrf-token"];if(!f){this._getOModel().refreshSecurityToken(null,null,false);f=this._getOModel().oHeaders["x-csrf-token"]}m={async:true,requestUri:_,method:"POST",headers:{Accept:this.constants.acceptHeaderforJSON,"x-csrf-token":f}};OData.request(m,function(t,a){u._handleActionCompleted(t);sap.m.MessageToast.show(u._oBundle.getText("INBOX_MSG_ACTION_SUCCESS",[e,t.TaskTitle]))},function(t){sap.m.MessageToast.show(u._oBundle.getText("INBOX_MSG_ACTION_FAILED",[e,g]))})};sap.uiext.inbox.splitapp.DetailViewPage.prototype._createCustomAttributes=function(){if(this.detailViewPage.getBindingContext()){var t=this._getPropertyValue("TaskDefinitionID");var e=this._getPropertyValue("SAP__Origin");var a=this._getPropertyValue("InstanceID");this._getCustomAttributeMetaData(t,e,a)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getCustomAttributeMetaData=function(t,e,a){var i=this;var s=this.constants;var o=s.TaskDefinitionCollection;var n=s.oTaskDefinitionCustomAttributesMap[t];if(!n){var r=this._getRequestURLCustomAttributeMetaData(o,t,e);var p=this.tcmServiceURL+r;var l={async:true,requestUri:p,method:"GET",headers:{Accept:s.acceptHeaderforJSON}};OData.request(l,function(o,n){s.oTaskDefinitionCustomAttributesMap[t]=o.results;i.showHideIconTabFilters(a,e,o.results)},function(t){var e=JSON.parse(String(t.response.body));sap.m.MessageToast.show(i._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_CUSTOM_ATTR"),{width:"55em",autoClose:false})})}else{i.showHideIconTabFilters(a,e,n)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype.showHideIconTabFilters=function(t,e,a){var i=sap.ui.getCore().byId(this.Id+"-iconTabBar");var s=i.getItems();var o=i.getSelectedKey();if(a.length>0){s[0].setVisible(true);if(o==="customAttr"&&i.getExpanded()===true){this._addBusyIndicatorForTaskDetails(s[0]);this._getCustomAttributeData(t,e,a)}else if(o==="comments"&&i.getExpanded()===true){this._handleSelectComments(s[1])}}else{s[0].setVisible(false);if(!(o==="comments")){i.setSelectedKey("comments")}if(i.getExpanded()===true){this._handleSelectComments(s[1])}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getCustomAttributeData=function(t,e,a){var i=this;var s=this.constants;var o=s.TaskCollection;var n=s.oTaskInstanceCustomAttributeValuesMap;var r=n[t];var p=sap.ui.getCore().byId(i.Id+"-iconTabBar");if(!r){var l=this._getRequestURLCustomAttributeData(o,t,e);var d=this._getOModel().sServiceUrl+l;var u={async:true,requestUri:d,method:"GET",headers:{Accept:s.acceptHeaderforJSON}};OData.request(u,function(e,o){var n=i._transformCustomAttributeJsonToArray(e.results);s.oTaskInstanceCustomAttributeValuesMap[t]=n;p.getItems()[0].addContent(i._renderCustomAttributes(a,n))},function(t){sap.m.MessageToast.show(i._oBundle.getText("INBOX_MSG_FETCH_CUSTOM_ATTRIBUTES_FAILS"))})}else{p.getItems()[0].addContent(i._renderCustomAttributes(a,r))}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleSelectIconTabFilter=function(t,e){var a=e.oCore.byId(e.Id+"-iconTabBar");var i=a.getItems();if(a.getSelectedKey()==="customAttr"){e._createCustomAttributes()}else if(a.getSelectedKey()==="comments"&&a.getExpanded()===true){e._handleSelectComments(i[1])}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._createCustomAttributesLayout=function(t,e){var a=this.oCore.byId(this.Id+"-iconTabBar");var i=this.oCore.byId(this.Id+"-custAttrTab");i.removeAllContent();var s=t.length;if(s>0){var o=this.oCore.byId(this.Id+"-custAttrScrollCont");if(!o){o=new sap.m.ScrollContainer(this.Id+"-custAttrScrollCont",{vertical:true,width:"auto"}).addStyleClass("inbox_split_app_scrollContainer")}o.removeAllContent();var n=this.oCore.byId(this.Id+"-custAttForm");if(!n){n=new sap.ui.layout.form.SimpleForm(this.Id+"-custAttForm",{})}n.removeAllContent();for(var r=0;r<s;r++){n.addContent(new sap.m.Label({text:t[r].Label}));n.addContent(new sap.m.Text({text:e[t[r].Name]}))}o.addContent(n);return o}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleActionCompleted=function(t){this.oCore.getEventBus().publish("sap.uiext.inbox","taskActionCompleted",{taskData:t})};sap.uiext.inbox.splitapp.DetailViewPage.prototype._rerenderTaskDescription=function(t){var e=this._getPageModel().getProperty(this.detailViewPage.getBindingContext().getPath(),this.detailViewPage.getBindingContext());if(e.Description){e.Description.Description=t}else{e.Description={Description:t}}this._getPageModel().checkUpdate(false)};sap.uiext.inbox.splitapp.DetailViewPage.prototype.renderDetailsPage=function(t){if(this.useBatch){this._renderDetailsPageBatchProcessing()}else{this._renderDetailsPageNonBatchProcessing(t)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._renderDetailsPageBatchProcessing=function(){var t=this;var e=this._addReadCustomAttributeMetaDatatoBatch();var a=this._addReadCustomAttributeDataToBatch();var i=this._addReadTaskDescriptiontoBatch();var s=this._addReadCustomActionstoBatch();if(s||e||a){this._getOModel().submitBatch(function(o,n){var r=t.detailViewPage.getBindingContext();var p=t._getPageModel().getProperty("TaskDefinitionID",r);var l=t._getPageModel().getProperty("InstanceID",r);var d=0;var u,c,g,h,_;if(e){g=t._processCustomAttributeDefinitionResponse(t,o.__batchResponses[d++],p)}if(a){h=t._processCustomAttributeResponse(t,o.__batchResponses[d++],p,l)}if(i){u=t._processTaskDescriptionResponse(t,o.__batchResponses[d++],l)}if(s){c=t._processCustomActionResponse(t,o.__batchResponses[d++],p)}if(u){_=u}if(c){_=_?_+c:c}if(g){_=_?_+g:g}if(h){_=_?_+h:h}if(_){sap.m.MessageToast.show(_,{width:"55em",autoClose:false})}},function(e){var a=JSON.parse(String(e.response.body));sap.m.MessageToast.show(t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_LOADING_DETAIL_PAGE"),{width:"55em",autoClose:false})},true)}else{}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._processTaskDescriptionResponse=function(t,e,a){if(e&&e.statusCode&&e.statusCode==200){t.constants.taskDescriptionsMap[a]=e.data.Description;t._rerenderTaskDescription(e.data.Description)}else{if(e){var i;if(e.response){i=JSON.parse(String(e.response.body)).error.message.value}var s=t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_TASK_DESC");return s}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._processCustomActionResponse=function(t,e,a){if(e&&e.statusCode&&e.statusCode==200){t.constants.taskDefinitionDecisionOptionsMap[a]=e.data.results;t._createCustomActions(e.data.results)}else{if(e){var i;if(e.response){i=JSON.parse(String(e.response.body)).error.message.value}var s=t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_CUSTOM_ACTIONS");return s}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._processCustomAttributeDefinitionResponse=function(t,e,a){if(e&&e.statusCode&&e.statusCode==200){t.constants.oTaskDefinitionCustomAttributesMap[a]=e.data.results}else{if(e&&!e.statusCode){var i;if(e.response){i=JSON.parse(String(e.response.body)).errorBody.error.message.value}var s=t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_CUSTOM_ATTR");return s}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._processCustomAttributeResponse=function(t,e,a,i){if(e&&e.statusCode&&e.statusCode==200){var s=t.oCore.byId(t.Id+"-iconTabBar");if(s.getSelectedKey()==="customAttr"){var o=t._transformCustomAttributeJsonToArray(e.data.results);t.constants.oTaskInstanceCustomAttributeValuesMap[i]=o;s.getItems()[0].addContent(t._renderCustomAttributes(t.constants.oTaskDefinitionCustomAttributesMap[a],o))}}else{if(e&&!e.statusCode){var n;if(e.response){n=JSON.parse(String(e.response.body)).errorBody.error.message.value}var r=t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_CUSTOM_ATTR");return r}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._addReadTaskDescriptiontoBatch=function(){if(this.detailViewPage.getBindingContext()){var t=this.detailViewPage.getBindingContext();var e=this._getPageModel().getProperty("InstanceID",t);var a=this._getPageModel().getProperty("SAP__Origin",t);var i=this.constants;var s=i.TaskCollection;var o=i.taskDescriptionsMap[e];if(o){this._rerenderTaskDescription(o);return false}else{var n=this._getRequestURLTaskDescription(s,e,a);var r=this._getOModel().createBatchOperation(n,"GET",null);this._getOModel().addBatchReadOperations([r]);return true}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getRequestURLTaskDescription=function(t,e,a){var i=this.constants;var s=i.forwardSlash+t.entityName+"("+t.properties.instanceID+"='"+e+"',"+i.sapOrigin+"='"+a+"')"+i.forwardSlash+t.navParam.taskDescription;return s};sap.uiext.inbox.splitapp.DetailViewPage.prototype._addReadCustomActionstoBatch=function(){if(this.detailViewPage.getBindingContext()){var t=this.detailViewPage.getBindingContext();var e=this._getPageModel().getProperty("InstanceID",t);var a=this._getPageModel().getProperty("SAP__Origin",t);var i=this._getPageModel().getProperty("TaskDefinitionID",t);var s=this.constants;var o=s.taskDefinitionDecisionOptionsMap;var n=o[i];if(n){this._createCustomActions(n);return false}else{var r=this.constants.decisionOptionsFunctionImport+this.constants.query+"InstanceID='"+e+"'&SAP__Origin='"+a+"'";var p=this._getOModel().createBatchOperation(r,"GET");this._getOModel().addBatchReadOperations([p]);return true}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._addReadCustomAttributeMetaDatatoBatch=function(){if(this.detailViewPage.getBindingContext()){var t=this.detailViewPage.getBindingContext();var e=this._getPageModel().getProperty("TaskDefinitionID",t);var a=this._getPageModel().getProperty("SAP__Origin",t);var i=this.constants;var s=i.TaskDefinitionCollection;var o=i.oTaskDefinitionCustomAttributesMap;var n=o[e];if(!n){var r=this._getRequestURLCustomAttributeMetaData(s,e,a);var p=this._getOModel().createBatchOperation(r,"GET");this._getOModel().addBatchReadOperations([p]);return true}else{return false}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getRequestURLCustomAttributeMetaData=function(t,e,a){var i=this.constants;var s=i.forwardSlash+t.entityName+"("+t.properties.taskDefnID+"='"+e+"',"+i.sapOrigin+"='"+a+"')"+i.forwardSlash+t.navParam.customAttrDefn;return s};sap.uiext.inbox.splitapp.DetailViewPage.prototype._addReadCustomAttributeDataToBatch=function(){if(this.detailViewPage.getBindingContext()){var t=this.detailViewPage.getBindingContext();var e=this._getPageModel().getProperty("TaskDefinitionID",t);var a=this._getPageModel().getProperty("InstanceID",t);var i=this._getPageModel().getProperty("SAP__Origin",t);var s=this.constants;var o=s.TaskCollection;var n=s.oTaskInstanceCustomAttributeValuesMap;var r=n[a];if(r){var p=this.oCore.byId(this.Id+"-iconTabBar");if(p.getSelectedKey()==="customAttr"){var l=s.oTaskDefinitionCustomAttributesMap;var d=l[e];p.getItems()[0].addContent(this._renderCustomAttributes(d,r))}return false}else{var u=this._getRequestURLCustomAttributeData(o,a,i);var c=this._getOModel().createBatchOperation(u,"GET");this._getOModel().addBatchReadOperations([c]);return true}}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getRequestURLCustomAttributeData=function(t,e,a){var i=this.constants;var s=i.forwardSlash+t.entityName+"("+t.properties.instanceID+"='"+e+"',"+i.sapOrigin+"='"+a+"')"+i.forwardSlash+t.navParam.customAttrValues;return s};sap.uiext.inbox.splitapp.DetailViewPage.prototype._renderCustomAttributes=function(t,e){var a=this.oCore.byId(this.Id+"-iconTabBar");return this._createCustomAttributesLayout(t,e)};sap.uiext.inbox.splitapp.DetailViewPage.prototype._transformCustomAttributeJsonToArray=function(t){var e=this.detailViewPage.getBindingContext();var a=this.constants.oTaskInstanceCustomAttributeValuesMap;var i=this._getPageModel().getProperty("InstanceID",e);var s={};var s;for(var o=0;o<t.length;o++){s[t[o].Name]=t[o].Value;a[i]=s}return s};sap.uiext.inbox.splitapp.DetailViewPage.prototype._renderDetailsPageNonBatchProcessing=function(t){this._renderTaskDescription();this._renderCustomActions();this._createCustomAttributes()};sap.uiext.inbox.splitapp.DetailViewPage.prototype._renderTaskDescription=function(){var t=this;var e=this.constants;var a=e.TaskCollection;var i=this.detailViewPage.getBindingContext();var s=this._getPageModel().getProperty("InstanceID",i);var o=this._getPageModel().getProperty("SAP__Origin",i);var n=e.taskDescriptionsMap[s];if(n){this._rerenderTaskDescription(n)}else{var r=this._getRequestURLTaskDescription(a,s,o);var p=this.tcmServiceURL+r;var l={async:true,requestUri:p,method:"GET",headers:{Accept:e.acceptHeaderforJSON}};OData.request(l,function(a,i){e.taskDescriptionsMap[s]=a.Description;t._rerenderTaskDescription(a.Description)},function(e){var a=JSON.parse(String(e.response.body));sap.m.MessageToast.show(t._oBundle.getText("INBOX_LP_MSG_ERROR_WHILE_FETCHING_TASK_DESC"),{width:"55em",autoClose:false})})}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleSelectComments=function(t){t.removeAllContent();var e=this.oCore.byId(this.Id+"-commentsScrollCont");if(!e){e=new sap.m.ScrollContainer(this.Id+"-commentsScrollCont",{vertical:true,width:"100%"})}e.removeAllContent();var a=this.oCore.byId("commentsBI");if(!a){a=new sap.m.BusyIndicator("commentsBI",{text:this._oBundle.getText("INBOX_LP_LOADING")})}e.addContent(a);var i=this.oCore.byId("addCommentContainer");if(!i){i=new sap.m.FlexBox("addCommentContainer",{width:"100%",items:[new sap.m.TextArea("addCommentsInput",{type:sap.m.InputType.Text,placeholder:this._oBundle.getText("INBOX_LP_ADD_COMMENT"),maxLength:500,rows:3}).addStyleClass("inbox_split_app_addCommentInput"),new sap.m.Button("addCommentsButton",{text:this._oBundle.getText("INBOX_LP_ADD_BUTTON_TEXT")}).attachPress(this,this._handleCommentAdded).addStyleClass("inbox_split_app_addCommentBtn")],fitContainer:true}).addStyleClass("inbox_split_app_addCommentContainer")}else{var s=i.getItems()[0];if(s){s.setValue("")}}e.addContent(i);t.addContent(e);this._getComments()};sap.uiext.inbox.splitapp.DetailViewPage.prototype._getComments=function(){if(this.detailViewPage.getBindingContext()){var t=this.detailViewPage.getBindingContext();var e=this._getPageModel().getProperty("InstanceID",t);var a=this._getPageModel().getProperty("SAP__Origin",t);var i=this._loadCommentsFromServer(e,a);return true}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._handleCommentAdded=function(t,e){var a=jQuery.sap._sanitizeHTML(e.oCore.byId("addCommentsInput").getValue());if(e.detailViewPage.getBindingContext()&&a){var i=e.detailViewPage.getBindingContext();var s=e._getPageModel().getProperty("InstanceID",i);var o=e._getPageModel().getProperty("SAP__Origin",i);var n=e._getOModel();var r=e.tcmServiceURL+"/AddComment?InstanceID='"+s+"'&SAP__Origin='"+o+"'&Text='"+encodeURIComponent(a)+"'&$format=json";var p=n.oHeaders["x-csrf-token"];if(!p){e._getOModel().refreshSecurityToken(null,null,false);p=n.oHeaders["x-csrf-token"]}var l={async:false,requestUri:r,method:"POST",headers:{Accept:e.constants.acceptHeaderforJSON,"x-csrf-token":p}};OData.request(l,function(t,a){var i=e.oCore.byId(e.Id+"--commentsList");e._loadCommentsFromServer(s,o);sap.m.MessageToast.show(e._oBundle.getText("INBOX_MSG_COMMENT_ADD_SUCCESS"));e.oCore.byId("addCommentsInput").setValue()},function(t){sap.m.MessageToast.show(e._oBundle.getText("INBOX_MSG_COMMENT_ADD_ERROR"))})}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._loadCommentsFromServer=function(t,e){var a=this;var i=this.constants;var s=i.TaskCollection;var o=i.forwardSlash+s.entityName+"("+s.properties.instanceID+"='"+t+"',"+i.sapOrigin+"='"+e+"')"+i.forwardSlash+s.navParam.comments;var n=this.tcmServiceURL+o;var r=[];var p={async:true,requestUri:n,method:"GET",headers:{Accept:i.acceptHeaderforJSON}};OData.request(p,function(t,e){a._displayComments(t.results)},function(t){sap.m.MessageToast.show(a._oBundle.getText("INBOX_MSG_FETCH_COMMENTS_FAILS"))})};sap.uiext.inbox.splitapp.DetailViewPage.prototype._displayComments=function(t){var e=this;var a=t&&t.length>0;var i=this.oCore.byId(this.Id+"-commentsScrollCont");var s=this.oCore.byId("commentsBI");if(a){var o=this.oCore.byId(this.Id+"--commentsList");var n;if(!o){var o=new sap.m.List(this.Id+"--"+"commentsList").addStyleClass("inbox_split_app_CommentsList");o.setShowSeparators(sap.m.ListSeparators.All);n=new sap.ui.model.json.JSONModel;o.setModel(n)}else{n=o.getModel()}n.setData(t);var r=new sap.m.FeedListItem({sender:"{CreatedByName}",text:"{Text}"});r.bindProperty("timestamp","CreatedAt",this.utils.dateTimeFormat);r.bindProperty("icon","CreatedBy",function(t){if(this.getBindingContext()){return e.utils.getUserMediaResourceURL(e.tcmServiceURL,this.getBindingContext().getProperty("SAP__Origin"),t)}else{return"sap-icon://person-placeholder"}});o.bindAggregation("items",{path:"/",template:r});i.removeContent(s);i.insertContent(o,0)}else{i.removeContent(s)}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._displayCommentsIfCommentsSelectedinIconBar=function(){var t=this.oCore.byId(this.Id+"-iconTabBar");if(t.getSelectedKey()==="comments"&&t.getExpanded()===true){this._handleSelectComments(t.getItems()[1])}};sap.uiext.inbox.splitapp.DetailViewPage.prototype._addBusyIndicatorForTaskDetails=function(t){var e=this.oCore.byId(this.Id+"-custAttrScrollCont");if(!e){e=new sap.m.ScrollContainer(this.Id+"-custAttrScrollCont",{vertical:true,width:"auto"}).addStyleClass("inbox_split_app_scrollContainer")}e.removeAllContent();var a=this.oCore.byId("customAttrBI");if(!a){a=new sap.m.BusyIndicator("customAttrBI",{text:this._oBundle.getText("INBOX_LP_LOADING")})}e.addContent(a);t.addContent(e)};sap.uiext.inbox.splitapp.DetailViewPage.prototype.updateTaskDataInModel=function(t){var e=t.Status=="COMPLETED"?true:false;var a=this.detailViewPage.getBindingContext().getPath();var i=a.split("/");if(e){this.detailViewPage.getModel().oData.TaskCollection.splice(i[2],1)}else{this.detailViewPage.getModel().oData.TaskCollection[i[2]]=t}this.detailViewPage.getModel().checkUpdate(false)};
},
	"sap/uiext/inbox/splitapp/MasterPage.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.splitapp.MasterPage");jQuery.sap.require("sap.uiext.inbox.InboxUtils");sap.ui.base.Object.extend("sap.uiext.inbox.splitapp.MasterPage",{constructor:function(e){sap.ui.base.Object.apply(this);this.oCore=sap.ui.getCore();this.Id=e;this.utils=sap.uiext.inbox.InboxUtils;this._oBundle=this.oCore.getLibraryResourceBundle("sap.uiext.inbox");this.bPhoneDevice=jQuery.device.is.phone;this.masterPage=this._create()}});sap.uiext.inbox.splitapp.MasterPage.prototype.getPage=function(){return this.masterPage};sap.uiext.inbox.splitapp.MasterPage.prototype.setShowNavButton=function(e){this.masterPage.setShowNavButton(e);return this};sap.uiext.inbox.splitapp.MasterPage.prototype._setTcmServiceURL=function(e){this.tcmServiceURL=e};sap.uiext.inbox.splitapp.MasterPage.prototype._create=function(){var e=this.oCore.byId(this.Id+"-masterPage");if(!e){var t=this;var a=new sap.m.SearchField(t.Id+"-searchFld",{showRefreshButton:false,placeholder:t._oBundle.getText("INBOX_LP_SEARCH_LABEL"),tooltip:t._oBundle.getText("INBOX_LP_SEARCH_LABEL_TOOLTIP"),width:"100%"});a.attachSearch(t,t.handleSearch);a.attachLiveChange(t,function(e,t){if(e.getParameter("newValue")===""){t._resetSearch()}});e=new sap.m.Page(t.Id+"-masterPage",{title:t._oBundle.getText("INBOX_LP_TASKS_AND_COUNT",[""]),showNavButton:true,showFooter:false,footer:new sap.m.Bar(t.Id+"fooBar",{contentLeft:[new sap.m.Button(this.Id+"-mangSubstBtn",{tooltip:t._oBundle.getText("INBOX_MANAGE_SUBSTITUTION_RULES_TOOLTIP"),icon:"sap-icon://visits"}).attachPress(t,t._openManageSubstitutionOverlay)]}),subHeader:new sap.m.Bar(t.Id+"-searchBar",{contentMiddle:[a],contentRight:[new sap.m.Button(t.Id+"-refreshBtn",{tooltip:t._oBundle.getText("INBOX_LP_REFRESH_BUTTON_TOOLTIP"),icon:"sap-icon://synchronize"}).attachPress(t,t._refreshTasks)]})}).attachNavButtonTap(function(e){sap.ui.getCore().getEventBus().publish("sap.uiext.inbox","masterPageNavButtonTapped")});var i=new sap.m.List(t.Id+"-list",{growing:true,growingThreshold:7,visible:true,mode:sap.m.ListMode.SingleSelectMaster,threshhold:50,noDataText:t._oBundle.getText("INBOX_LP_NO_MATCHING_TASKS")}).attachSelect(this,this.handleListSelect);i.addEventDelegate({ontap:function(e){var t=i.getSelectedItem();if(t&&t.getDomRef().contains(e.target)){if(jQuery.device.is.phone)i.setSelectedItem(t,false)}}});this.oList=i;var s=new Array;s.push(new sap.m.ObjectAttribute({text:"{CreatedByName}"}));s.push((new sap.m.ObjectAttribute).bindProperty("text","CreatedOn",function(e){return t.utils._dateFormat(e)}));var r=new sap.m.ObjectListItem(t.Id+"-objLstItm",{type:"Active",title:"{TaskTitle}",icon:"sap-icon://person-placeholder",attributes:s,firstStatus:new sap.m.ObjectStatus({icon:{path:"CompletionDeadLine",formatter:function(e){if(t.utils._isOverDue(e)){return"sap-icon://pending"}}},state:sap.ui.core.ValueState.Error}),secondStatus:new sap.m.ObjectStatus(t.Id+"-objStatus").bindProperty("text",{parts:[{path:"Status",type:new sap.ui.model.type.String},{path:"StatusText",type:new sap.ui.model.type.String}],formatter:function(e,a){if(e!=null&&a){return a}else if(e!=null&&e!=""){var i=t._oBundle.getText(sap.uiext.inbox.InboxConstants.statusMap[e]);return i==""?e:i}else{return""}},useRawValues:true})}).addStyleClass("inbox_split_app_wordBreak");r.bindProperty("icon","CreatedBy",function(e){if(this.getBindingContext()){return t.utils.getUserMediaResourceURL(t.tcmServiceURL,this.getBindingContext().getProperty("SAP__Origin"),e)}else{return"sap-icon://person-placeholder"}});this.oListTemplate=r;i.attachUpdateFinished(function(e){if(t.bPhoneDevice){var a=t.oCore.byId(t.Id+"-list");var i=a.mBindingInfos.items.binding.iLength;t.masterPage.setTitle(t._oBundle.getText("INBOX_LP_TASKS_AND_COUNT",[i]))}else{var s=this.getItems();if(s.length>0){this.fireSelect({listItem:s[0],selected:true})}}});e.addContent(i)}return e};sap.uiext.inbox.splitapp.MasterPage.prototype._selectDetail=function(){var e=this.oCore.byId(this.Id+"-list");var t=e.getItems();if(!jQuery.device.is.phone&&t.length>0&&!e.getSelectedItem()){e.setSelectedItem(t[0],true);this._showDetail(t[0])}};sap.uiext.inbox.splitapp.MasterPage.prototype.handleSearch=function(e,t){t._updateList()};sap.uiext.inbox.splitapp.MasterPage.prototype._updateList=function(){var e=this;var t=new Array;var a=e.oCore.byId(e.Id+"-searchFld").getValue();if(a&&a.length>0){var i="in progress";var s=a.indexOf(" ")>=0&&i.indexOf(a.toLowerCase())!=-1?true:false;var r=a.split(" ");var o=[];jQuery.each(r,function(e,t){var a=s?"IN_PROGRESS":t;var i=new sap.ui.model.Filter("TaskTitle",sap.ui.model.FilterOperator.Contains,t);var r=new sap.ui.model.Filter("CreatedByName",sap.ui.model.FilterOperator.Contains,t);var n=new sap.ui.model.Filter("Status",sap.ui.model.FilterOperator.Contains,a);o[e]=new sap.ui.model.Filter({aFilters:[i,r,n],bAnd:false})});t.push(new sap.ui.model.Filter({aFilters:o,bAnd:true}));if(this.aFilters){t=t.concat(e.aFilters)}var n=e.oCore.byId(e.Id+"-list");var p=n.getSelectedItem();var l=n.getBinding("items");l.filter(t);if(t.length==0){n.setSelectedItem(p,true)}}};sap.uiext.inbox.splitapp.MasterPage.prototype.handleListSelect=function(e,t){var a=e.getParameter("onUpdate");var i=t.oCore.byId(t.Id+"-list");var s=i.mBindingInfos.items.binding.iLength;t.masterPage.setTitle(t._oBundle.getText("INBOX_LP_TASKS_AND_COUNT",[s]));var r=i.getItems();if(r.length>0&&!i.getSelectedItem()){i.setSelectedItem(r[0],true)}var o=i.getSelectedItem();var n=o.getBindingContext();t.oCore.getEventBus().publish("sap.uiext.inbox","masterPageListSelected",{context:n,onUpdate:a})};sap.uiext.inbox.splitapp.MasterPage.prototype.bindService=function(e){this.aFilters=e;this.oList.bindItems({path:"/TaskCollection",template:this.oListTemplate,filters:e})};sap.uiext.inbox.splitapp.MasterPage.prototype._openManageSubstitutionOverlay=function(e,t){var a=t.oCore.byId(t.Id+"--"+"substitutionRulesManager");if(a===undefined){jQuery.sap.require("sap.uiext.inbox.SubstitutionRulesManager");a=new sap.uiext.inbox.SubstitutionRulesManager(t.Id+"--"+"substitutionRulesManager")}if(a.getModel()===undefined){var i=t.oCore.getModel();var s=new sap.ui.model.odata.ODataModel(t.tcmServiceURL,true);a.setModel(s)}jQuery.sap.require("sap.uiext.inbox.tcm.TCMModel");a.oTCMModel=new sap.uiext.inbox.tcm.TCMModel;a.open()};sap.uiext.inbox.splitapp.MasterPage.prototype._refreshTasks=function(e,t){t.addBusyIndicatorOnRefresh();t.oCoreModel=t.masterPage.getModel("inboxTCMModel");t.oCoreModel.read("/TaskCollection?$filter=Status ne 'COMPLETED'&$orderby=CreatedOn desc",null,null,true,function(e,a){t.oTaskData=e.results;t._updateModel(t)},function(e){sap.m.MessageToast.show(t._oBundle.getText("INBOX_LP_MSG_FAILED_TO_READ_SERVICE_WHILE_REFRESH"))})};sap.uiext.inbox.splitapp.MasterPage.prototype._updateModel=function(e){var t=e.masterPage.getModel();var a={TaskCollection:e.oTaskData};t.setData(a);e.bindService(e.aFilters);var i=this.oCore.byId("refreshBI");if(i&&this.masterPage.indexOfContent(i)>=0){this.masterPage.removeContent(i)}};sap.uiext.inbox.splitapp.MasterPage.prototype.rerenderTask=function(e){var t=e.Status=="COMPLETED"?true:false;var a=this.oCore.byId(this.Id+"-list");var i=a.getSelectedItem();var s=i.getBindingContext().getPath();var r=s.split("/");if(t){this.masterPage.getModel().oData.TaskCollection.splice(r[2],1)}else{this.masterPage.getModel().oData.TaskCollection[r[2]]=e}this.masterPage.getModel().checkUpdate(false)};sap.uiext.inbox.splitapp.MasterPage.prototype.resetSearchCriteria=function(){var e=this.oCore.byId(this.Id+"-searchFld");if(e){e.setValue("");this._resetSearch()}};sap.uiext.inbox.splitapp.MasterPage.prototype.addBusyIndicatorOnRefresh=function(){var e=this.oCore.byId("refreshBI");if(!e){e=new sap.m.BusyIndicator("refreshBI",{text:this._oBundle.getText("INBOX_LP_LOADING")})}this.masterPage.insertContent(e,0)};sap.uiext.inbox.splitapp.MasterPage.prototype._resetSearch=function(){var e=this.oCore.byId(this.Id+"-list");if(e){var t=e.getSelectedItem();var a=e.getBinding("items")}if(a){a.filter(this.aFilters)}if(t&&this.aFilters.length==0){e.setSelectedItem(t,true)}};
},
	"sap/uiext/inbox/splitapp/MasterPageController.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.splitapp.MasterPageController");sap.ui.base.Object.extend("sap.uiext.inbox.splitapp.MasterPageController",{constructor:function(){sap.ui.base.Object.apply(this)}});sap.uiext.inbox.splitapp.MasterPageController.prototype._selectDetail=function(){var e=sap.ui.getCore().byId(this.Id+"-list");var t=e.getItems();if(!jQuery.device.is.phone&&t.length>0&&!e.getSelectedItem()){e.setSelectedItem(t[0],true);this._showDetail(t[0])}};sap.uiext.inbox.splitapp.MasterPageController.prototype.handleSearch=function(e,t){t._updateList()};sap.uiext.inbox.splitapp.MasterPageController.prototype._updateList=function(){var e=this;var t=new Array;var a=sap.ui.getCore().byId(e.Id+"-searchFld").getValue();if(a&&a.length>0){t.push(new sap.ui.model.Filter("TaskTitle",sap.ui.model.FilterOperator.Contains,a))}t=t.concat(e.oSplitAppObj.filters);var i=sap.ui.getCore().byId(e.Id+"-list");var o=i.getSelectedItem();var s=i.getBinding("items");s.filter(t);if(t.length==0){i.setSelectedItem(o,true)}};sap.uiext.inbox.splitapp.MasterPageController.prototype.handleListSelect=function(e,t){var a=sap.ui.getCore().byId(t.Id+"-list");var i=a.mBindingInfos.items.binding.iLength;t.masterPage.setTitle(t._oBundle.getText("INBOX_LP_TASKS_AND_COUNT",[i]));var o=a.getItems();if(o.length>0&&!a.getSelectedItem()){a.setSelectedItem(o[0],true)}var s=a.getSelectedItem();var p=s.getBindingContext();var r=t.oSplitAppObj.oInboxDetailPage.detailViewPage;r.setBindingContext(p);var l=t.oSplitAppObj.getAggregation("splitAppl");if(r.getId()==l.getCurrentPage().getId()){t.oSplitAppObj.oInboxDetailPage.renderDetailsPage()}else{var n=t.oSplitAppObj._oTaskExecutionUIPageObj;if(!n){jQuery.sap.require("sap.uiext.inbox.splitapp.TaskExecutionUIPage");n=new sap.uiext.inbox.splitapp.TaskExecutionUIPage(t.oSplitAppObj.getId()+"-exUi");t.oSplitAppObj.app.addPage(n.oTaskExecutionUIPage);n._oParentSplitAppObj=t.oSplitAppObj;t.oSplitAppObj._oTaskExecutionUIPageObj=n}n.oTaskExecutionUIPage.setBindingContext(p);n.open()}};sap.uiext.inbox.splitapp.MasterPageController.prototype._openManageSubstitutionOverlay=function(e,t){var a=sap.ui.getCore().byId(t.Id+"--"+"substitutionRulesManager");if(a===undefined){jQuery.sap.require("sap.uiext.inbox.SubstitutionRulesManager");a=new sap.uiext.inbox.SubstitutionRulesManager(t.Id+"--"+"substitutionRulesManager");a.setParent(t.oSplitAppObj._oLaunchPad)}if(a.getModel()===undefined){var i=sap.ui.getCore().getModel();var o=new sap.ui.model.odata.ODataModel(i.sServiceUrl,true);o.oHeaders["x-csrf-token"]=i.oHeaders["x-csrf-token"];a.setModel(o)}jQuery.sap.require("sap.uiext.inbox.tcm.TCMModel");a.oTCMModel=new sap.uiext.inbox.tcm.TCMModel;a.open()};sap.uiext.inbox.splitapp.MasterPageController.prototype._refreshTasks=function(e,t){if(!t.oTaskData){t.oCoreModel=sap.ui.getCore().getModel();t.oCoreModel.read("/TaskCollection?$filter=Status ne 'COMPLETED'&$orderby=CreatedOn desc",null,null,true,function(e,a){t.oTaskData=e.results;t._updateModel(t)},function(e){sap.m.MessageToast.show(t._oBundle.getText("INBOX_LP_MSG_FAILED_TO_READ_SERVICE_WHILE_REFRESH"))})}};sap.uiext.inbox.splitapp.MasterPageController.prototype._updateModel=function(e){var t=e.masterPage.getModel();var a={TaskCollection:e.oTaskData};t.setData(a);e.oSplitAppObj._setModel(t,e.oSplitAppObj.filters)};sap.uiext.inbox.splitapp.MasterPageController.prototype._rerenderTask=function(e){var t=e.Status=="COMPLETED"?true:false;var a=sap.ui.getCore().byId(this.Id+"-list");var i=a.getSelectedItem();var o=i.getBindingContext().getPath();var s=o.split("/");if(t){this.masterPage.getModel().oData.TaskCollection.splice(s[2],1)}else{this.masterPage.getModel().oData.TaskCollection[s[2]]=e}this.masterPage.getModel().checkUpdate(false)};
},
	"sap/uiext/inbox/splitapp/TaskExecutionUIPage.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.splitapp.TaskExecutionUIPage");jQuery.sap.require("sap.m.MessageToast");sap.ui.base.Object.extend("sap.uiext.inbox.splitapp.TaskExecutionUIPage",{constructor:function(e){sap.ui.base.Object.apply(this);this.Id=e;this._oCore=sap.ui.getCore();this._oBundle=this._oCore.getLibraryResourceBundle("sap.uiext.inbox");this.oTaskExecutionUIPage=this._createTaskExecutionUIPage()}});sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype._createTaskExecutionUIPage=function(){var e=this;var t=e._oCore.byId(this.Id+"-taskExecUIPage");if(!t){t=new sap.m.Page(this.Id+"-taskExecUIPage",{showNavButton:true,navButtonPress:function(){e.handleNavButtonPress()}})}return t};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.getPage=function(){return this.oTaskExecutionUIPage};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.handleNavButtonPress=function(){sap.ui.getCore().getEventBus().publish("sap.uiext.inbox","taskExecUIPageNavButtonPressed")};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype.open=function(){var e=this;var t=e.oTaskExecutionUIPage.getBindingContext();if(!e.oModel){e.oModel=e.oTaskExecutionUIPage.getModel("inboxTCMModel")}var a=e.oTaskExecutionUIPage.getModel();var i=a.getProperty("TaskTitle",t);var o=a.getProperty("InstanceID",t);var s=a.getProperty("SAP__Origin",t);var n=e._getTaskExecutionURLCallBack(o,s);if(jQuery.device.is.android_tablet||jQuery.device.is.ipad||jQuery.device.is.desktop){sap.ui.require(["sap/ui/util/openWindow"],function(e){var t=e(n);if(t){t.document.title=i;t.focus()}})}else if(jQuery.device.is.phone){var r=sap.ui.getCore().byId("tsk"+"--"+"execURLFrame");if(!r){r=new sap.ui.core.HTML("tsk"+"--"+"execURLFrame")}var u="<iframe name='myframe' src='"+n+"' scrolling='auto' id = '"+"tsk"+"--"+"execURLFrame"+"' style='position: absolute;height: 100%;width: 100%; border: none;'></iframe>";r.setContent(u);e.oTaskExecutionUIPage.setTitle(i);e.oTaskExecutionUIPage.addContent(r)}};sap.uiext.inbox.splitapp.TaskExecutionUIPage.prototype._getTaskExecutionURLCallBack=function(e,t){var a="/TaskCollection"+"(InstanceID='"+e+"',SAP__Origin='"+t+"')/UIExecutionLink?$format=json";var i=this.oTaskExecutionUIPage.getModel("inboxTCMModel").sServiceUrl+a;var o="";var s=this;var n={async:false,requestUri:i,method:"GET",headers:{Accept:"application/json"}};OData.request(n,function(e,t){o=e.GUI_Link},function(e){if(e.response.statusCode==205){}else{}sap.m.MessageToast.show(s._oBundle.getText("INBOX_MSG_ACTION_FAILED",[o,""]))});return o};
},
	"sap/uiext/inbox/tcm/TCMModel.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.tcm.TCMModel");jQuery.sap.require("sap.uiext.inbox.tcm.fI.TCMFunctionImport");sap.ui.base.Object.extend("sap.uiext.inbox.tcm.TCMModel",{constructor:function(){sap.ui.base.Object.apply(this);this.oFunctionImport=undefined}});sap.uiext.inbox.tcm.TCMModel.prototype.getFunctionImportHandler=function(){if(!this.oFunctionImport){this.oFunctionImport=new sap.uiext.inbox.tcm.fI.TCMFunctionImport}return this.oFunctionImport};
},
	"sap/uiext/inbox/tcm/fI/TCMFunctionImport.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.tcm.fI.TCMFunctionImport");jQuery.sap.require("sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData");sap.ui.base.Object.extend("sap.uiext.inbox.tcm.fI.TCMFunctionImport",{constructor:function(){sap.ui.base.Object.apply(this);this.sTcmServiceURL=undefined;this.oHeaders={};this.ofIMetadata=sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData}});sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setHeaders=function(t){this.oHeaders=t};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getHeaders=function(){return this.oHeaders};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setServiceURL=function(t){this.sTcmServiceURL=t};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getServiceURL=function(){return this.sTcmServiceURL};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.callSearchUsers=function(t,e,a){var r=this.ofIMetadata.SEARCHUSERS;var i=this._createURLParamsArray(t,r);var o=this._createRequest(r.name,i,true,r.httpMethod);return OData.request(o,e,a)};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createURLParamsArray=function(t,e){var a=this;var r=e.params,i=[],o;var s,n,m;jQuery.each(r,function(r,c){s=c.name;n=c.type;m=t[s];if(m){o=s+"="+a._formatParamValue(m,n);i.push(o)}else{if(c.nullable){jQuery.sap.log.warning("No parameter Value provided for a non nullable input paramater for function Import:"+e.name)}}});return i};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createRequest=function(t,e,a,r){var i=this.sTcmServiceURL;if(t){if(!jQuery.sap.startsWith(t,"/")){i+="/"}i+=t}if(e&&e.length>0){i+="?"+e.join("&")}return{requestUri:i,headers:this.oHeaders,method:r,async:a,user:this.sUser,password:this.sPassword}};sap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._formatParamValue=function(t,e){if(!this.oDateTimeFormat){this.oDateTimeFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"});this.oDateTimeOffsetFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"});this.oTimeFormat=sap.ui.core.format.DateFormat.getTimeInstance({pattern:"'time'''HH:mm:ss''"})}var a;switch(e){case"Edm.String":a="'"+String(t).replace(/'/g,"''")+"'";break;case"Edm.Time":a="time'"+t+"'";break;case"Edm.DateTime":a=this.oDateTimeFormat.format(new Date(t),true);break;case"Edm.DateTimeOffset":a=this.oDateTimeOffsetFormat.format(new Date(t),true);break;case"Edm.Guid":a="guid'"+t+"'";break;case"Edm.Decimal":a=t+"M";break;case"Edm.Int64":a=t+"L";break;case"Edm.Single":a=t+"f";break;case"Edm.Binary":a="binary'"+t+"'";break;default:a=new String(t);break}return a};
},
	"sap/uiext/inbox/tcm/fI/TCMFunctionImportMetaData.js":function(){
/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
jQuery.sap.declare("sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData");sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData={SEARCHUSERS:{name:"SearchUsers",params:[{name:"SAP__Origin",type:"Edm.String",Mode:"In"},{name:"SearchPattern",type:"Edm.String",Mode:"In",nullable:true},{name:"MaxResults",type:"Edm.Int16",Mode:"In",nullable:true}],httpMethod:"GET"}};
}
});
//# sourceMappingURL=library-preload.js.map
