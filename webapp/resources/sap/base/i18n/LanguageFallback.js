/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log"],function(e){"use strict";const n=/(?:^|-)(saptrc|sappsd|saprigi)(?:-|$)/i;const r=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?((?:-[0-9A-Z]{5,8}|-[0-9][0-9A-Z]{3})*)((?:-[0-9A-WYZ](?:-[0-9A-Z]{2,8})+)*)(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;const i={he:"iw",yi:"ji",nb:"no"};const t={iw:"he",ji:"yi"};const s=new Map;const a=function(e,t){let a=e;if(t){a+="|true"}let o=s.get(a);if(o){return o}var l;if(typeof e==="string"&&(l=r.exec(e.replace(/_/g,"-")))){var f=l[1].toLowerCase();if(!t){f=i[f]||f}var c=l[2]?l[2].toLowerCase():undefined;var u=l[3]?l[3].toUpperCase():undefined;var d=l[4]?l[4].slice(1):undefined;var p=l[6];if(p&&(l=n.exec(p))||d&&(l=n.exec(d))){o="en_US_"+l[1].toLowerCase();s.set(a,o);return o}if(f==="zh"&&!u){if(c==="hans"){u="CN"}else if(c==="hant"){u="TW"}}if(f==="sr"&&c==="latn"){if(t){f="sr_Latn"}else{f="sh"}}o=f+(u?"_"+u+(d?"_"+d.replace("-","_"):""):"")}s.set(a,o);return o};const o=function(e,n){if(e===""){return e}var r=a(e,n);if(r===undefined){throw new TypeError("Locale '"+e+"' is not a valid BCP47 language tag")}return r};const l=function(e,n){var i;if(typeof e==="string"&&(i=r.exec(e.replace(/_/g,"-")))){var s=i[1].toLowerCase();var a=i[2]?i[2].toLowerCase():undefined;if(n&&s==="sh"&&!a){s="sr_Latn"}else if(!n&&s==="sr"&&a==="latn"){s="sh"}s=t[s]||s;return s+(i[3]?"-"+i[3].toUpperCase()+(i[4]?"-"+i[4].slice(1).replace("_","-"):""):"")}};const f=function(e,n){if(!n||n.length===0||n.includes(e)){return e}e=l(e,true);if(e){e=a(e,true)}if(n.includes(e)){return e}return undefined};const c=function(n,r,i,t,s){r=r&&r.map(function(e){return o(e,true)});if(!s){var a=i!==undefined;i=a?i:"en";i=o(i);if(i!==""&&!f(i,r)){var l="The fallback locale '"+i+"' is not contained in the list of supported locales ['"+r.join("', '")+"']"+t+" and will be ignored.";if(a){throw new Error(l)}e.error(l)}}var c=[],u;while(n!=null){u=f(n,r);if(u!==undefined&&c.indexOf(u)===-1){c.push(u)}if(!n){n=null}else if(n==="zh_HK"){n="zh_TW"}else if(n.lastIndexOf("_")>=0){n=n.slice(0,n.lastIndexOf("_"))}else if(s){n=null}else if(i){n=i;i=null}else{n=""}}return c};const u=function(e,n,r){return c(a(e),n,r,"")};return{convertLocaleToBCP47:l,calculate:c,getFallbackLocales:u,normalize:a}});
//# sourceMappingURL=LanguageFallback.js.map