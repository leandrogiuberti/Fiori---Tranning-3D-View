/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["./BarcodeScanner","./BarcodeScannerButtonRenderer","./library","sap/m/Button","sap/ui/core/Control","sap/ui/model/resource/ResourceModel"],function(e,t,a,i,n,o){"use strict";var r=n.extend("sap.ndc.BarcodeScannerButton",{metadata:{library:"sap.ndc",properties:{provideFallback:{type:"boolean",defaultValue:true},width:{type:"sap.ui.core.CSSSize",defaultValue:null},dialogTitle:{type:"string",defaultValue:null},preferFrontCamera:{type:"boolean",defaultValue:false},frameRate:{type:"float"},zoom:{type:"float"},keepCameraScan:{type:"boolean",defaultValue:false},disableBarcodeInputDialog:{type:"boolean",defaultValue:false}},aggregations:{_btn:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{scanSuccess:{parameters:{text:{type:"string"},format:{type:"string"},cancelled:{type:"boolean"}}},scanFail:{},inputLiveUpdate:{parameters:{newValue:{type:"string"}}}}},renderer:t});var s;r.prototype.init=function(){s=new o({bundleName:"sap.ndc.messagebundle"});this.setAggregation("_btn",new i({icon:"sap-icon://bar-code",tooltip:s.getProperty("BARCODE_SCANNER_BUTTON_TOOLTIP"),press:this._onBtnPressed.bind(this),width:"100%"}));var t=e.getStatusModel();this.setModel(t,"status")};r.prototype._onBtnPressed=function(t){var a=this.getAggregation("_btn");e.setFocusedInstanceId(a.sId);e.scan(this._onScanSuccess.bind(this),this._onScanFail.bind(this),this._onInputLiveUpdate.bind(this),this.getProperty("dialogTitle"),this.getProperty("preferFrontCamera"),this.getProperty("frameRate"),this.getProperty("zoom"),this.getProperty("keepCameraScan"),this.getProperty("disableBarcodeInputDialog"))};r.prototype._onScanSuccess=function(e){this.fireScanSuccess(e)};r.prototype._onScanFail=function(e){this.fireScanFail(e)};r.prototype._onInputLiveUpdate=function(e){this.fireInputLiveUpdate(e)};r.prototype.setProvideFallback=function(e){var t=this.getProvideFallback();var a;e=!!e;if(t!==e){this.setProperty("provideFallback",e);a=this.getAggregation("_btn");if(e){a.unbindProperty("visible");a.setVisible(true)}else{a.bindProperty("visible","status>/available")}}return this};r.prototype._setTooltip=function(){var e=this.getTooltip_AsString();this.getAggregation("_btn").setTooltip(e)};return r});
//# sourceMappingURL=BarcodeScannerButton.js.map