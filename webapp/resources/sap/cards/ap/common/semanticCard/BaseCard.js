/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["../odata/ODataUtils"],function(t){"use strict";function n(t,n){try{var e=t()}catch(t){return n(t)}if(e&&e.then){return e.then(void 0,n)}return e}const e=t["fetchFileContent"];const r=typeof Symbol!=="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function o(t,n,e){if(!t.s){if(e instanceof i){if(e.s){if(n&1){n=e.s}e=e.v}else{e.o=o.bind(null,t,n);return}}if(e&&e.then){e.then(o.bind(null,t,n),o.bind(null,t,2));return}t.s=n;t.v=e;const r=t.o;if(r){r(t)}}}const i=function(){function t(){}t.prototype.then=function(n,e){const r=new t;const i=this.s;if(i){const t=i&1?n:e;if(t){try{o(r,1,t(this.v))}catch(t){o(r,2,t)}return r}else{return this}}this.o=function(t){try{const i=t.v;if(t.s&1){o(r,1,n?n(i):i)}else if(e){o(r,1,e(i))}else{o(r,2,i)}}catch(t){o(r,2,t)}};return r};return t}();function s(t){return t instanceof i&&t.s&1}function a(t,n,e){var r=-1,a,c;function u(f){try{while(++r<t.length&&(!e||!e())){f=n(r);if(f&&f.then){if(s(f)){f=f.v}else{f.then(u,c||(c=o.bind(null,a=new i,2)));return}}}if(a){o(a,1,f)}else{a=f}}catch(t){o(a||(a=new i),2,t)}}u();return a}const c=t["isODataV4Model"];function u(t,n,e){if(typeof t[r]==="function"){var c=t[r](),u,f,l;function v(t){try{while(!(u=c.next()).done&&(!e||!e())){t=n(u.value);if(t&&t.then){if(s(t)){t=t.v}else{t.then(v,l||(l=o.bind(null,f=new i,2)));return}}}if(f){o(f,1,t)}else{f=t}}catch(t){o(f||(f=new i),2,t)}}v();if(c.return){var h=function(t){try{if(!u.done){c.return()}}catch(t){}return t};if(f&&f.then){return f.then(h,function(t){throw h(t)})}h()}return f}if(!("length"in t)){throw new TypeError("Object is not iterable")}var d=[];for(var m=0;m<t.length;m++){d.push(t[m])}return a(d,function(t){return n(d[t])},e)}class f{constructor(t){this.appComponent=t}getApplicationManifest(){return this.appComponent.getManifest()}getMetadata(){try{const t=this;const r=t.appComponent.getModel();if(!r){throw new Error("OData model is not available.")}const o=c(r);const i=o?r.getServiceUrl():r.sServiceUrl;if(!i){throw new Error("Service URL is not available from the model.")}return Promise.resolve(n(function(){const t=i?.endsWith("/")?`${i}$metadata`:`${i}/$metadata`;return Promise.resolve(e(t))},function(t){const n=t instanceof Error?t.message:"Unknown error";throw new Error(`Failed to fetch OData metadata: ${n}`)}))}catch(t){return Promise.reject(t)}}getAnnotations(){try{let t=false;const r=this;const o=r.appComponent.getModel();if(!o){throw new Error("OData model is not available.")}const i=c(o);const s=[];const a=(i?o.getMetaModel()?.aAnnotationUris:o?.aAnnotationURIs)??[];const f=u(a,function(t){if(!t||t.trim().length===0){return}return n(function(){return Promise.resolve(e(t)).then(function(t){s.push(t)})},function(n){const e=n instanceof Error?n.message:"Unknown error";throw new Error(`Failed to fetch annotation from ${t}: ${e}`)})},function(){return t});return Promise.resolve(f&&f.then?f.then(function(n){return t?n:s}):t?f:s)}catch(t){return Promise.reject(t)}}}var l={__esModule:true};l.BaseCard=f;return l});
//# sourceMappingURL=BaseCard.js.map