/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/base/i18n/ResourceBundle","../odata/ODataUtils"],function(t,e){"use strict";const n=e["createContextParameter"];const o=e["getEntitySetWithObjectContext"];const s=e["unquoteAndDecode"];var r=function(t){t["V2"]="V2";t["V4"]="V4";return t}(r||{});var a=function(t){t["FreeStyle"]="FreeStyle";t["ObjectPage"]="ObjectPage";return t}(a||{});function i(t){const e=t.getManifestEntry("sap.ui.generic.app");if(e){return a.ObjectPage}const n=t.getManifestEntry("sap.ui5");const o=n?.routing?.targets;if(o){const t=Object.keys(o);const e=t.some(t=>{const e=o[t];return e.name==="sap.fe.templates.ObjectPage"||e.name==="sap.fe.templates.ListReport"});return e?a.ObjectPage:a.FreeStyle}return a.FreeStyle}class c{constructor(t){this._rootComponent=t;this.appInfo=null}static getInstance(t){if(!c.instance){c.instance=new c(t)}return c.instance}fetchDetails(e){try{let s=false;const l=this;function u(i){if(s)return i;function c(e){function o(n){return Promise.resolve(M.getResourceBundle()).then(function(o){function s(){l.appInfo={odataModel:I,appModel:m,entitySet:j,entitySetWithObjectContext:e,context:x,componentName:f,resourceBundle:o,semanticObject:h,action:y,appType:p,contextParameters:n,navigationURI:O,variantParameter:C,contextParametersKeyValue:n.length?l.getContextParametersKeyValue(n):[]};return l.appInfo}const r=function(){if(u){const e=o?.oUrlInfo?.url;const n=Date.now();return Promise.resolve(t.create({url:`${e}?v=${n}`,async:true})).then(function(t){o=t})}}();return r&&r.then?r.then(s):s(r)})}const s=I===r.V4;return e?Promise.resolve(n(e,m,s)).then(o):o("")}const u=e?.isDesignMode||false;const f=l._rootComponent.getManifest()["sap.app"].id;const m=l._rootComponent.getModel();const d=window.hasher.getHash();const[g]=d.split("&/");const[h,y]=g.includes("?")?g.split("?")[0].split("-"):g.split("-");let P=d.split("&/")[1]||"";const O=p===a.FreeStyle?P:null;P=P.includes("/")?P.split("/")[0]:P;P=P.startsWith("/")?P.slice(1):P;P=P.includes("?")?P.split("?")[0]:P;const v=new URLSearchParams(d.split("?")[1]);const C=v.get("sap-appvar-id");const S=P.indexOf("(");const b=S>-1?P.substring(0,S):P;const j=p===a.FreeStyle?e.entitySet:b;const x=S>-1?P.substring(S+1,P.indexOf(")")):"";const I=m.isA("sap.ui.model.odata.v4.ODataModel")?r.V4:r.V2;const M=l._rootComponent.getModel("i18n")||l._rootComponent.getModel("@i18n");const V=p===a.FreeStyle;return V?Promise.resolve(o(l._rootComponent,e)).then(c):c(P)}const p=i(l._rootComponent);const f=function(){if(l.appInfo!==null&&c.instance!==null){function t(t){if(l.appInfo.entitySetWithObjectContext&&t.includes(l.appInfo.entitySetWithObjectContext)){const t=l.appInfo;s=true;return t}}const n=window.hasher.getHash();const r=p===a.FreeStyle;return r?Promise.resolve(o(l._rootComponent,e)).then(t):t(n.split("&/")[1])}}();return Promise.resolve(f&&f.then?f.then(u):u(f))}catch(m){return Promise.reject(m)}}getContextParametersKeyValue(t){return t.split(",").map(t=>{const[e,n]=t.split("=");const o=s(n);return{key:e.trim(),value:o}})}_resetInstance(){c.instance=null}}var l={__esModule:true};l.ODataModelVersion=r;l.AppType=a;l.getApplicationFloorplan=i;l.ApplicationInfo=c;return l});
//# sourceMappingURL=ApplicationInfo-dbg.js.map