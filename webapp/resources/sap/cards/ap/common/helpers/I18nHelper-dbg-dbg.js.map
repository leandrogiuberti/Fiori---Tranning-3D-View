{"version":3,"file":"I18nHelper-dbg-dbg.js","names":["sap","ui","define","resolvei18nText","i18nKey","resourceBundle","startsWith","endsWith","key","slice","getText","updateGroups","groups","forEach","group","title","items","item","label","value","resolvei18nTextsForCardAction","sapCard","actionsStrip","footer","length","actionStrip","text","adaptiveCardActions","configuration","parameters","_adaptiveFooterActionParameters","actionKeys","Object","keys","actionKey","adaptiveCardAction","triggerActionText","actionParameters","actionParameter","placeholder","errorMessage","resolvei18nTextsForIntegrationCard","cardManifest","sapApp","appTitle","subTitle","appSubTitle","header","headerTitle","headerSubTitle","mainIndicator","content","resolvei18nTextsForParameters","includes","split","map","part","index","join","unit","number","configParam","__exports","__esModule"],"sources":["I18nHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport type { CardConfigParameters, CardManifest, Group, ObjectContent } from \"sap/ui/integration/widgets/Card\";\n\n/**\n *  Resolves i18n text for a given key.\n *\n *  @param {string} i18nKey  having unresolved i18n keys\n *  @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n *  @return {string} - The resolved i18n text.\n */\nconst resolvei18nText = function (i18nKey: string, resourceBundle: ResourceBundle): string {\n\tif (i18nKey.startsWith(\"{{\") && i18nKey.endsWith(\"}}\")) {\n\t\tconst key = i18nKey.slice(2, -2); // Remove the leading \"{{\" and trailing \"}}\"\n\t\treturn resourceBundle.getText(key) || key;\n\t}\n\n\treturn i18nKey;\n};\n\n/**\n * Updates groups with resolved i18n texts.\n *\n * @param {Array<Group>} groups - The groups to update.\n * @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n */\nconst updateGroups = function (groups: Array<Group>, resourceBundle: ResourceBundle) {\n\tgroups.forEach(function (group) {\n\t\tconst { title } = group;\n\t\tgroup.title = resolvei18nText(title, resourceBundle);\n\t\tgroup.items.forEach(function (item) {\n\t\t\tconst { label, value } = item;\n\n\t\t\titem.label = resolvei18nText(label, resourceBundle);\n\t\t\titem.value = resolvei18nText(value, resourceBundle);\n\t\t});\n\t});\n};\n\n/**\n * Resolves i18n texts for card actions in a sap.card object using the provided resource bundle.\n *\n * @param {CardManifest[\"sap.card\"]} sapCard - The sap.card object containing the card configuration.\n * @param {ResourceBundle} resourceBundle - The resource bundle used to resolve i18n texts.\n */\nconst resolvei18nTextsForCardAction = function (sapCard: CardManifest[\"sap.card\"], resourceBundle: ResourceBundle) {\n\tconst actionsStrip = sapCard?.footer?.actionsStrip;\n\n\tif (actionsStrip?.length) {\n\t\tactionsStrip.forEach(function (actionStrip) {\n\t\t\tactionStrip.text = resolvei18nText(actionStrip.text, resourceBundle);\n\t\t});\n\t}\n\n\tconst adaptiveCardActions = sapCard?.configuration?.parameters?._adaptiveFooterActionParameters;\n\tif (!adaptiveCardActions) {\n\t\treturn;\n\t}\n\tconst actionKeys = Object.keys(adaptiveCardActions);\n\n\tfor (const actionKey of actionKeys) {\n\t\tconst adaptiveCardAction = adaptiveCardActions[actionKey];\n\t\tadaptiveCardAction.label = resolvei18nText(adaptiveCardAction.label, resourceBundle);\n\n\t\tif (adaptiveCardAction?.triggerActionText) {\n\t\t\tadaptiveCardAction.triggerActionText = resolvei18nText(adaptiveCardAction.triggerActionText, resourceBundle);\n\t\t}\n\n\t\tif (adaptiveCardAction?.actionParameters?.length) {\n\t\t\tadaptiveCardAction.actionParameters.forEach(function (actionParameter) {\n\t\t\t\tactionParameter.label = resolvei18nText(actionParameter.label, resourceBundle);\n\n\t\t\t\tif (actionParameter.placeholder) {\n\t\t\t\t\tactionParameter.placeholder = resolvei18nText(actionParameter.placeholder, resourceBundle);\n\t\t\t\t}\n\n\t\t\t\tif (actionParameter.errorMessage) {\n\t\t\t\t\tactionParameter.errorMessage = resolvei18nText(actionParameter.errorMessage, resourceBundle);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n\n/**\n * Resolves i18n texts for an integration card manifest.\n *\n * @param {CardManifest} cardManifest - The manifest with unresolved i18n keys.\n * @param {ResourceBundle} resourceBundle - The resource bundle containing i18n values.\n * @return {CardManifest} - The updated manifest with resolved i18n keys.\n */\nexport const resolvei18nTextsForIntegrationCard = function (cardManifest: CardManifest, resourceBundle: ResourceBundle): CardManifest {\n\tconst { \"sap.app\": sapApp, \"sap.card\": sapCard } = cardManifest;\n\tconst { title: appTitle, subTitle: appSubTitle } = sapApp;\n\tconst { header } = sapCard;\n\tconst { title: headerTitle, subTitle: headerSubTitle, mainIndicator } = header;\n\tconst groups = (sapCard.content as ObjectContent).groups;\n\n\tresolvei18nTextsForParameters(sapCard.configuration?.parameters as CardConfigParameters, [\"_yesText\", \"_noText\"], resourceBundle);\n\n\tsapApp.title = resolvei18nText(appTitle, resourceBundle);\n\tsapApp.subTitle = appSubTitle.includes(\" | \")\n\t\t? appSubTitle\n\t\t\t\t.split(\" | \")\n\t\t\t\t.map((part, index) => (index === 0 ? resolvei18nText(part, resourceBundle) : part))\n\t\t\t\t.join(\" | \")\n\t\t: resolvei18nText(appSubTitle, resourceBundle);\n\theader.title = resolvei18nText(headerTitle!, resourceBundle);\n\theader.subTitle = resolvei18nText(headerSubTitle!, resourceBundle);\n\n\tif (mainIndicator) {\n\t\tconst { unit, number } = mainIndicator;\n\t\tif (unit) {\n\t\t\tmainIndicator.unit = resolvei18nText(unit, resourceBundle);\n\t\t}\n\t\tif (number) {\n\t\t\tmainIndicator.number = resolvei18nText(number, resourceBundle);\n\t\t}\n\t}\n\n\tupdateGroups(groups, resourceBundle);\n\tresolvei18nTextsForCardAction(sapCard, resourceBundle);\n\n\treturn cardManifest;\n};\n\n/**\n * Resolves internationalized (i18n) text values for the specified parameters.\n *\n * @param {CardConfigParameters} - An object containing configuration parameters where each parameter\n * may have a `value` property that could be an i18n key.\n * @param {string[]} - An array of keys corresponding to the properties of the `parameters` object\n * that need their `value` properties resolved.\n * @param {ResourceBundle} - The resource bundle used to resolve i18n text values.\n */\nconst resolvei18nTextsForParameters = function (parameters: CardConfigParameters, keys: string[], resourceBundle: ResourceBundle) {\n\tkeys.forEach((key) => {\n\t\tconst configParam = parameters?.[key] as { value: string };\n\t\tif (configParam?.value) {\n\t\t\tconfigParam.value = resolvei18nText(configParam.value, resourceBundle);\n\t\t}\n\t});\n};\n"],"mappings":"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","ignoreList":[]}