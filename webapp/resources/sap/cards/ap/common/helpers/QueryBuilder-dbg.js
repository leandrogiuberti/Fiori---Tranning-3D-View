/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define([],function(){"use strict";const e=function(e,t){if(e.indexOf("{{parameters._contentExpandQuery}}")===-1){e+="{{parameters._contentExpandQuery}}"}const n=c(t);if(!n){return e.replace("{{parameters._contentExpandQuery}}","")}return e.replace("{{parameters._contentExpandQuery}}",n)};const t=function(e){const t=[];const n=[];let r=[];const c=[];e.forEach(e=>{const s=e.indexOf("(")>-1;const o=e.indexOf(")")>-1;if(s&&o){n.push(e)}else if(s&&!o){r=[];t.push("(");r.push(e)}else if(o){r.push(e);t.pop();if(t.length===0){n.push(r.join(","))}}else if(t.length!==0){r.push(e)}else{c.push(e)}});return{navigationPropertiesWithSelect:n,navigationProperties:c}};const n=function(e){let t="";e.forEach((e,n)=>{if(e.length===0){t+=n+","}else{t+=n+"($select="+e.join(",")+"),"}});return t.substring(0,t.length-1)};const r=function(e){const{navigationPropertiesWithSelect:r,navigationProperties:c}=t(e);const s=new Map;r.forEach(e=>{const t=e.substring(0,e.indexOf("("));e=e.replace(t,"").replace("($select=","").replace(")","");const n=s.get(t)||[];if(n.length===0){s.set(t,e.split(","))}else{const r=e.split(",");r.forEach(e=>{if(!n.includes(e)){n.push(e)}});s.set(t,n)}});c.forEach(e=>{s.set(e,[])});return n(s)};const c=function(e){const t=e["sap.card"].configuration?.parameters;if(!t){return""}const n=t?._headerExpandQuery?.value.replace("$expand=","")||"";const c=t?._contentExpandQuery?.value.replace("$expand=","")||"";const s=n?n.split(","):[];const o=c?c.split(","):[];if(s.length||o.length){const e=o[0];const t=e.indexOf("?")>-1?"?":"&";if(s.length){s[0]=s[0]?.replace(t,"")}if(o.length){o[0]=o[0]?.replace(t,"")}const a=s.concat(o);const i=Array.from(new Set(a));if(n.indexOf("$select")>-1||c.indexOf("$select")>-1){const e=r(i);return e?`${t}$expand=`+e:""}return i.length?`${t}$expand=`+i.join(","):""}return""};const s=function(e){const t=e["sap.card"].configuration?.parameters;if(t){const e=t?._headerSelectQuery?.value.replace("$select=","");const n=t?._contentSelectQuery?.value.replace("$select=","");const r=e?e.split(","):[];const c=n?n.split(","):[];if(r.length||c.length){const e=r.concat(c);const t=Array.from(new Set(e));return t.length?"$select="+t.join(","):""}}return""};const o=function(e,t){if(e.indexOf("?{{parameters._contentSelectQuery}}")===-1){e=e+"?{{parameters._contentSelectQuery}}"}const n=s(t);if(n){e=e.replace("{{parameters._contentSelectQuery}}",n)}else{e=e.replace("?{{parameters._contentSelectQuery}}","")}return e};var a={__esModule:true};a.updateExpandQuery=e;a.getSeparatedProperties=t;a.updateSelectQuery=o;return a});
//# sourceMappingURL=QueryBuilder-dbg.js.map