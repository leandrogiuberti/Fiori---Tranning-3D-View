{"version":3,"file":"CardActions-dbg-dbg.js","names":["sap","ui","define","sap_ui_core_library","Filter","____helpers_FooterActions","____helpers_IntegrationCardHelper","____helpers_Transpiler","____utils_CommonUtils","_iteratorSymbol","Symbol","iterator","_settle","pact","state","value","s","_Pact","v","o","bind","then","observer","prototype","onFulfilled","onRejected","result","callback","e","_this","_isSettledPact","thenable","_forTo","array","body","check","i","reject","_cycle","length","onAddedActionTitleChange","oEvent","_temp3","renderCardPreview","manifest","model","transpileIntegrationCardToAdaptive","getDialogModel","control","getSource","path","getBindingContext","getPath","getCurrentCardManifest","validateSelectedAction","addedAction","getProperty","titleKey","getSelectedKey","title","getValue","isStyleControlEnabled","updateRelativeproperties","setValueState","ValueState","None","Error","setValueStateText","getTranslatedText","errorControls","includes","push","focus","resetCardActions","addedActions","_temp2","_forOf","action","_temp","Promise","resolve","addActionToCardManifest","target","step","next","done","return","_fixup","TypeError","values","removeActionFromManifest","updateCardManifestAction","onActionAddClick","style","enablePathKey","isConfirmationRequired","setProperty","onAddedActionDelete","inputListControl","getParent","innerControls","findAggregatedObjects","comboBox","find","getMetadata","getName","updatedErrorControls","filter","actionIndex","Number","split","deletedAction","undefined","splice","annotationActions","some","annotationAction","label","relatedAnnotationAction","enabledPath","enablePath","indexOf","replace","filterCardActions","dialogModel","itemsBinding","getBinding","actionToFilter","loadActions","controlEvent","isSuspended","refresh","resume","addEventDelegate","onBeforeRendering","onAddedActionStyleChange","key","getObject","__exports","__esModule"],"sources":["CardActions.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport type Button from \"sap/m/Button\";\nimport type ComboBox from \"sap/m/ComboBox\";\nimport type Event from \"sap/ui/base/Event\";\nimport { ValueState } from \"sap/ui/core/library\";\nimport Filter from \"sap/ui/model/Filter\";\nimport type ListBinding from \"sap/ui/model/ListBinding\";\nimport type JSONModel from \"sap/ui/model/json/JSONModel\";\nimport { addActionToCardManifest, removeActionFromManifest, resetCardActions, updateCardManifestAction } from \"../../helpers/FooterActions\";\nimport { getCurrentCardManifest, renderCardPreview } from \"../../helpers/IntegrationCardHelper\";\nimport { transpileIntegrationCardToAdaptive } from \"../../helpers/Transpiler\";\nimport type { AnnotationAction, ControlProperties } from \"../../types/ActionTypes\";\nimport { getDialogModel } from \"../../utils/CommonUtils\";\n\n/**\n *\n * Handles the click event for adding a new action to the card.\n *\n */\nfunction onActionAddClick() {\n\tconst model = getDialogModel() as JSONModel;\n\tconst addedActions = model.getProperty(\"/configuration/actions/addedActions\");\n\n\tif (addedActions.length < 2) {\n\t\taddedActions.push({\n\t\t\ttitle: \"\",\n\t\t\ttitleKey: \"\",\n\t\t\tstyle: \"Default\",\n\t\t\tenablePathKey: \"\",\n\t\t\tisStyleControlEnabled: false,\n\t\t\tisConfirmationRequired: false\n\t\t});\n\t\tmodel.setProperty(\"/configuration/actions/addedActions\", addedActions);\n\t\tmodel.setProperty(\"/configuration/isEdited\", true);\n\t}\n\tmodel.setProperty(\"/configuration/actions/isAddActionEnabled\", addedActions.length < 2);\n}\n\n/**\n * Handles the delete event for removing an added action from the card.\n *\n * @param {Event} oEvent - The event object triggered by the delete action.\n */\nfunction onAddedActionDelete(oEvent: Event) {\n\tconst model = getDialogModel() as JSONModel;\n\tconst control: Button = oEvent?.getSource();\n\tconst path = control?.getBindingContext()?.getPath();\n\tconst inputListControl = control.getParent()?.getParent();\n\tconst innerControls = inputListControl?.findAggregatedObjects(true);\n\tconst comboBox = innerControls?.find((control) => control.getMetadata().getName() === \"sap.m.ComboBox\") as ComboBox | undefined;\n\tcomboBox?.setValueState(ValueState.None);\n\tif (comboBox) {\n\t\tconst errorControls = model.getProperty(\"/configuration/errorControls\") ?? [];\n\t\tconst updatedErrorControls = errorControls.filter((control: ComboBox) => control !== comboBox);\n\t\tmodel.setProperty(\"/configuration/errorControls\", updatedErrorControls);\n\t}\n\tconst actionIndex = Number(path?.split(\"/configuration/actions/addedActions/\")[1]);\n\tconst addedActions = model.getProperty(\"/configuration/actions/addedActions\") as Array<ControlProperties>;\n\tconst deletedAction = actionIndex !== undefined ? addedActions.splice(actionIndex, 1) : [];\n\tmodel.setProperty(\"/configuration/actions/addedActions\", addedActions);\n\tmodel.setProperty(\"/configuration/actions/isAddActionEnabled\", addedActions.length < 2);\n\tmodel.setProperty(\"/configuration/isEdited\", true);\n\tconst manifest = getCurrentCardManifest();\n\tremoveActionFromManifest(manifest, deletedAction[0]);\n\trenderCardPreview(manifest, model);\n\ttranspileIntegrationCardToAdaptive(model);\n}\n\n/**\n * Validates the selected action in the ComboBox control.\n *\n * @param {ComboBox} control - The ComboBox control containing the selected action.\n * @returns {boolean} true if the selected action is valid, false otherwise.\n */\nfunction validateSelectedAction(control: ComboBox): boolean {\n\tconst model = getDialogModel() as JSONModel;\n\tconst annotationActions = model.getProperty(\"/configuration/actions/annotationActions\") as Array<AnnotationAction>;\n\treturn annotationActions.some((annotationAction) => {\n\t\treturn annotationAction.label === control.getValue() && annotationAction.action === control.getSelectedKey();\n\t});\n}\n\n/**\n * Updates the relative properties of an added action based on the annotation actions.\n *\n *\n * @param {ControlProperties} addedAction - The added action to be updated.\n * @param {string} path - The path in the model where the added action is stored.\n */\nfunction updateRelativeproperties(addedAction: ControlProperties, path: string) {\n\tconst model = getDialogModel() as JSONModel;\n\tconst annotationActions = model.getProperty(\"/configuration/actions/annotationActions\") as Array<AnnotationAction>;\n\tconst relatedAnnotationAction = annotationActions.filter((annotationAction) => {\n\t\treturn annotationAction.label === addedAction.title && annotationAction.action === addedAction.titleKey;\n\t});\n\n\tif (relatedAnnotationAction.length) {\n\t\tlet enabledPath = relatedAnnotationAction[0].enablePath;\n\t\tenabledPath = enabledPath?.indexOf(\"_it/\") > -1 ? enabledPath?.replace(\"_it/\", \"\") : enabledPath; // Remove instance of _it/ from the path\n\t\tconst isConfirmationRequired = relatedAnnotationAction[0].isConfirmationRequired;\n\t\tif (enabledPath) {\n\t\t\taddedAction.enablePathKey = enabledPath;\n\t\t}\n\n\t\tif (isConfirmationRequired) {\n\t\t\taddedAction.isConfirmationRequired = isConfirmationRequired;\n\t\t}\n\t}\n\tif (path) {\n\t\tmodel.setProperty(path, addedAction);\n\t}\n}\n\n/**\n * Filters the available card actions in the ComboBox control based on the added actions.\n *\n * @param {ComboBox} comboBox - The ComboBox control containing the available actions.\n */\nfunction filterCardActions(comboBox: ComboBox) {\n\tconst dialogModel = getDialogModel() as JSONModel;\n\tconst addedActions = dialogModel.getProperty(\"/configuration/actions/addedActions\") as ControlProperties[];\n\tconst itemsBinding = comboBox.getBinding(\"items\");\n\tconst titleKey = comboBox.getSelectedKey();\n\tconst actionToFilter = addedActions.filter((addedAction) => addedAction.titleKey !== titleKey);\n\tconst filter = actionToFilter.length ? new Filter(\"action\", \"NE\", actionToFilter[0].titleKey) : [];\n\t(itemsBinding as ListBinding).filter(filter);\n}\n\n/**\n * Loads the available actions into the ComboBox control and sets up filtering.\n *\n * @param {Event} controlEvent - The event object triggered by the control action.\n */\nfunction loadActions(controlEvent: Event) {\n\tconst comboBox: ComboBox = controlEvent.getSource();\n\tconst itemsBinding = comboBox.getBinding(\"items\");\n\n\tif (itemsBinding?.isSuspended()) {\n\t\titemsBinding.refresh(true);\n\t\titemsBinding.resume();\n\t}\n\n\tcomboBox.addEventDelegate({\n\t\tonBeforeRendering: filterCardActions.bind(null, comboBox)\n\t});\n}\n\n/**\n * Handles the change event for the title of an added action in the ComboBox control.\n *\n * @param {Event} oEvent - The event object triggered by the title change action.\n */\nasync function onAddedActionTitleChange(oEvent: Event) {\n\tconst model = getDialogModel() as JSONModel;\n\tconst control: ComboBox = oEvent.getSource();\n\tconst path = control?.getBindingContext()?.getPath() as string;\n\tconst manifest = getCurrentCardManifest();\n\n\tif (validateSelectedAction(control)) {\n\t\tconst addedAction = model.getProperty(path) as ControlProperties;\n\t\taddedAction.titleKey = control.getSelectedKey();\n\t\taddedAction.title = control.getValue();\n\t\taddedAction.isStyleControlEnabled = true;\n\t\tupdateRelativeproperties(addedAction, path || \"\");\n\t\tcontrol.setValueState(ValueState.None);\n\t} else {\n\t\tif (control.getValue() === \"\" && control.getSelectedKey() === \"\") {\n\t\t\tcontrol.setValueState(ValueState.None);\n\t\t} else {\n\t\t\tcontrol.setValueState(ValueState.Error);\n\t\t\tcontrol.setValueStateText(getTranslatedText(\"GENERATOR_ACTION_ERROR_TEXT\"));\n\t\t\tconst errorControls = model.getProperty(\"/configuration/errorControls\");\n\t\t\tif (errorControls && !errorControls.includes(control)) {\n\t\t\t\terrorControls.push(control);\n\t\t\t}\n\t\t}\n\t\tcontrol.focus();\n\t}\n\tresetCardActions(manifest);\n\tconst addedActions = model.getProperty(\"/configuration/actions/addedActions\") as ControlProperties[];\n\tfor (const action of addedActions) {\n\t\tif (action.titleKey) {\n\t\t\tawait addActionToCardManifest(manifest, action);\n\t\t}\n\t}\n\trenderCardPreview(manifest, model);\n\ttranspileIntegrationCardToAdaptive(model);\n}\n\n/**\n * Handles the change event for the style of an added action in the ComboBox control.\n *\n * @param {Event} oEvent - The event object triggered by the style change action.\n */\nfunction onAddedActionStyleChange(oEvent: Event) {\n\tconst model = getDialogModel() as JSONModel;\n\tconst control: ComboBox = oEvent.getSource();\n\tconst path = control?.getBindingContext()?.getPath() as string;\n\tconst addedAction = model.getProperty(path) as ControlProperties;\n\taddedAction.style = control.getSelectedKey();\n\tmodel.setProperty(path, addedAction);\n\tconst manifest = getCurrentCardManifest();\n\tupdateCardManifestAction(manifest, addedAction);\n\trenderCardPreview(manifest, model);\n\ttranspileIntegrationCardToAdaptive(model);\n}\n\n/**\n * Retrieves the translated text for the given key from the i18n model.\n *\n * @param {string} key - The key for which the translated text is to be retrieved.\n * @returns {string} The translated text corresponding to the provided key.\n */\nfunction getTranslatedText(key: string): string {\n\treturn getDialogModel(\"i18n\").getObject(key);\n}\n\nexport { filterCardActions, loadActions, onActionAddClick, onAddedActionDelete, onAddedActionStyleChange, onAddedActionTitleChange };\n"],"mappings":"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","ignoreList":[]}