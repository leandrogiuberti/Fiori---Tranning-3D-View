/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/cards/ap/common/odata/ODataUtils","../../helpers/CardGeneratorModel","../../helpers/IntegrationCardHelper","../../pages/Application","../../utils/CommonUtils"],function(t,e,n,r,o){"use strict";const s=function(){try{const t=P.getInstance().getRootComponent();const e=h("freeStyle");e.setProperty("/isServiceDetailsView",false);const n=p();const r=n?e.getProperty("/entitySet")!==n?.["sap.card"]?.configuration?.parameters?._entitySet?.value:e.getProperty("/isEntityPathChanged");const o=e.getProperty("/isContextPathChanged");const s=Object.keys(n).length>0&&!r?n:undefined;const i=g();return Promise.resolve(l(t,s)).then(function(n){if(r||o){i?.setModel(n);e.setProperty("/isEntityPathChanged",false);e.setProperty("/isContextPathChanged",false)}return Promise.resolve(y(t,s,i?.getModel())).then(function(t){u(t)})})}catch(t){return Promise.reject(t)}};const i=function(t){try{const e=h("freeStyle");e.setProperty("/isApplyServiceDetailsEnabled",false);const n=P.getInstance();const r=t.getSource();const o=r.getValue();const s=function(){if(o){return Promise.resolve(n.fetchDataForObjectContext(o)).then(function(){e.setProperty("/entitySetWithObjectContext",o);e.setProperty("/isApplyServiceDetailsEnabled",true);e.setProperty("/isContextPathChanged",true)})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(t){return Promise.reject(t)}};const c=function(t){try{const e=P.getInstance();const{rootComponent:n}=e.fetchDetails();const r=t.getSource();const o=r.getValue();const s=h("freeStyle");const i=s.getProperty("/currentService");s.setProperty("/entitySet",o);s.setProperty("/entitySetWithObjectContext","");s.setProperty("/entitySetWithObjectContextList",[]);s.setProperty("/isApplyServiceDetailsEnabled",false);s.setProperty("/isEntityPathChanged",true);return Promise.resolve(a(i,o,n.getModel())).then(function(t){if(t?.length){s.setProperty("/entitySetWithObjectContextList",t)}})}catch(t){return Promise.reject(t)}};const a=t["getEntitySetWithContextURLs"];const l=e["getCardGeneratorDialogModel"];const y=n["createCardManifest"];const p=n["getCurrentCardManifest"];const u=n["renderCardPreview"];const P=r["Application"];const g=o["getCardGeneratorDialog"];const h=o["getDialogModel"];function f(t){const e=t.getSource();const n=e.getValue();const r=h("freeStyle");r.setProperty("/entitySet","");r.setProperty("/entitySetWithObjectContext","");r.setProperty("/currentService",n);r.setProperty("/isApplyServiceDetailsEnabled",false)}function d(){const t=h("freeStyle");t.setProperty("/isServiceDetailsView",true)}var C={__esModule:true};C.applyServiceDetails=s;C.onBackButtonPress=d;C.onContextPathChange=i;C.onEntitySetPathChange=c;C.onServiceChange=f;return C});
//# sourceMappingURL=FreeStyle.js.map