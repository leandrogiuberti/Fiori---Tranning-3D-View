<!--
  SAP UI development toolkit for HTML5 (SAPUI5)
   * (c) Copyright 2009-2025 SAP SE. All rights reserved
-->
<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:forms="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout"
	xmlns:form="sap.ui.layout.form"
	xmlns:dnd="sap.ui.core.dnd"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
>
	<VBox>
		<VBox items="{/configuration/groups}">
			<VBox class="sapUiSmallMarginBottom">
				<HBox width="100%" justifyContent="SpaceBetween">
					<Title text="" />
					<Button type="Transparent" text="{i18n>GENERATOR_DELETE_GROUP}" press=".onGroupDeleteClick" />
				</HBox>
				<Input
					value="{title}"
					tooltip="{i18n>GENERATOR_TITLE}"
					change=".onGroupTitleChange"
					placeholder="{i18n>GENERATOR_ENTER_GROUP_NAME}"
				/>
				<List items="{items}" showNoData="false">
					<InputListItem>
						<HBox width="100%" justifyContent="SpaceBetween" alignItems="Center" renderType="Bare">
							<core:Icon src="sap-icon://vertical-grip" class="">
								<core:layoutData>
									<FlexItemData growFactor="0" />
								</core:layoutData>
							</core:Icon>
							<Input
								change=".onPropertyLabelChange"
								value="{label}"
								enabled="{= ${isEnabled} || !!${label}}"
								width="100%"
								class="sapUiTinyMarginBeginEnd"
							/>
							<Text class="" text=":" />

							<ComboBox
								width="100%"
								id="propertySelection"
								selectedKey="{name}"
								class="sapUiTinyMarginBeginEnd"
								change=".onPropertySelection"
								items="{
                                    path: '/configuration/propertiesWithNavigation',
                					sorter: [{ path: 'category', descending: true, group: true }, {path: 'label', descending: false}],
                                    length : 500
                                }"
							>
								<core:Item key="{name}" text="{labelWithValue}" />
							</ComboBox>
							<ComboBox
								width="100%"
								id="groupNavigationSelection"
								selectedKey="{navigationProperty}"
								visible="{isNavigationEnabled}"
								change=".updateContentNavigationSelection"
								items="{
								path: 'navigationalProperties/',
								sorter: { path: 'label', descending: false },
								length : 500
							}"
								class="sapUiTinyMarginEnd"
							>
								<core:Item key="{name}" text="{labelWithValue}" />
							</ComboBox>

							<FlexBox alignItems="End" justifyContent="End">
								<Button
									type="Ghost"
									id="additionalActions"
									icon="sap-icon://overflow"
									tooltip="{i18n>ADDITIONAL_ACTION_TEXT}"
									press=".onItemsActionsButtonPressed"
									enabled="{isEnabled}"
								/>
								<Button type="Transparent" icon="sap-icon://delete" press=".onDeleteClick" />
							</FlexBox>
						</HBox>
					</InputListItem>
					<dragDropConfig>
						<dnd:DragInfo groupName="groups" sourceAggregation="items" />
						<dnd:DropInfo groupName="groups" targetAggregation="items" dropPosition="Between" drop=".onDrop" />
						<dnd:DragDropInfo
							dropPosition="Between"
							sourceAggregation="items"
							targetAggregation="items"
							dragStart=".onDragStart"
							dragEnd=".onDragEnd"
						/>
					</dragDropConfig>
				</List>
				<HBox width="90%" justifyContent="SpaceBetween">
					<Button icon="sap-icon://add" press=".onAddClick" type="Transparent" enabled="{path: 'enableAddMoreGroupItems'}" />
				</HBox>
				<Toolbar width="100%" height="1px" class="sapUiTinyMarginTop" />
			</VBox>
		</VBox>
		<Button
			text="{i18n>GENERATOR_ADD_GROUP}"
			icon="sap-icon://add"
			press=".onGroupAddClick"
			enabled="{= ${/configuration/groupLimitReached} ? false : true}"
		/>
	</VBox>
</core:FragmentDefinition>
