/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/base/Log","sap/cards/ap/common/helpers/ApplicationInfo","sap/cards/ap/common/services/RetrieveCard","sap/m/MessageBox","sap/ui/core/Fragment","sap/ui/core/Lib","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel","./app/CardGeneratorDialogController","./config/PreviewOptions","./helpers/CardGeneratorModel","./helpers/IntegrationCardHelper","./pages/Application","./pages/FreeStyle","./pages/ObjectPage"],function(e,t,n,r,o,i,a,s,c,l,u,d,p,f,g){"use strict";function h(e,t){try{var n=e()}catch(e){return t(e)}if(n&&n.then){return n.then(void 0,t)}return n}const v=t["AppType"];const P=t["getApplicationFloorplan"];const m=n["getObjectPageCardManifestForPreview"];const y=c["CardGeneratorDialogController"];const A=c["setValueStateForAdvancedPanel"];const C=l["PREVIEW_OPTIONS"];const O=u["getCardGeneratorDialogModel"];const M=d["createCardManifest"];const D=d["renderCardPreview"];const I=d["updateCardGroups"];const E=p["Application"];const S=f["FreeStyle"];const b=g["ObjectPage"];var w=function(e){e["INTEGRATION"]="integration";e["ADAPTIVE"]="adaptive";return e}(w||{});let G;const j=function(e){try{function t(){const t=o.validateCardGeneration();if(!t){const e=T();const t=e.getObject("GENERATE_CARD_NOT_SUPPORTED");r.warning(t,{actions:r.Action.OK,emphasizedAction:r.Action.OK});return}return Promise.resolve(R(e))}const n=P(e);let o;const i=function(){if(n===v.ObjectPage){o=b.createInstance(e)}else{o=S.createInstance(e);return Promise.resolve(o.updateObjectContextFreeStyleModel()).then(function(){})}}();return Promise.resolve(i&&i.then?i.then(t):t(i))}catch(a){return Promise.reject(a)}};const F=function(e,t,n){try{const r=E.getInstance();const o=r.getEntityRelatedInfo();if(!e.getModel("i18n")){const t=T();e.setModel(t,"i18n")}if(!e.getModel("previewOptions")){const t=new a(C);e.setModel(t,"previewOptions")}const i=r instanceof S?r.getFreeStyleModelForDialog():new a({isServiceDetailsView:false,isApplyServiceDetailsEnabled:false});e.setModel(i,"freeStyle");const s=function(){if(o.entitySetWithObjectContext){return Promise.resolve(O(t,n)).then(function(r){e.setModel(r);return Promise.resolve(M(t,n,r)).then(function(e){D(e);I(r);A();i.setProperty("/isServiceDetailsView",false)})})}}();return Promise.resolve(s&&s.then?s.then(function(){}):void 0)}catch(e){return Promise.reject(e)}};const R=function(t){try{function n(){G.then(function(e){try{F(e,t,r);y.initialize();e.open();const n=document.getElementById("cardGeneratorDialog--contentSplitter");if(n){n.style.backgroundColor="#f8f8f8"}return Promise.resolve(e)}catch(e){return Promise.reject(e)}}).catch(function(t){e.error("Error while loading or initializing the dialog:",t)})}if(!G){G=o.load({id:"cardGeneratorDialog",name:"sap.cards.ap.generator.app.CardGeneratorDialog",controller:y})}let r;const i=h(function(){return Promise.resolve(m(t,{cardType:w.INTEGRATION,includeActions:false,hideActions:false,isDesignMode:true})).then(function(e){r=e})},function(){e.error("Error while fetching the card manifest.")});return Promise.resolve(i&&i.then?i.then(n):n(i))}catch(a){return Promise.reject(a)}};function T(){const e=i.getResourceBundleFor("sap.cards.ap.generator.i18n");return new s({bundleUrl:e.oUrlInfo.url,bundle:e})}var N={__esModule:true};N.initializeAsync=j;N.initializeCardGeneratorDialog=R;N.getResourceModelForDialog=T;return N});
//# sourceMappingURL=CardGenerator-dbg.js.map