/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["../odata/ODataUtils","../pages/Application","./Batch","./Formatter","./PropertyExpression"],function(t,e,n,o,r){"use strict";const i=function(t,e,n){try{const o=t.getModel();const{entitySet:r,serviceUrl:i,odataModel:v}=c.getInstance().fetchDetails();const g=v===p.V4;const P=s(o,r);const f=P.find(t=>t.name===e);if(!f){return Promise.resolve({propertiesWithLabel:[],navigationPropertyData:{}})}const h=f.properties||[];const y={properties:[],navigationProperties:[{name:f.name,properties:[]}]};return Promise.resolve(a(i,n,g,l(y))).then(function(t){if(t[f.name]!==undefined&&t[f.name]!==null){h.forEach(e=>{const n=t[f.name];if(n[e.name]!==undefined&&n[e.name]!==null){const t=n[e.name];e.labelWithValue=u(e,t)}else{e.labelWithValue=`${e.label} (<empty>)`}})}return{propertiesWithLabel:h,navigationPropertyData:t}})}catch(t){return Promise.reject(t)}};const a=t["fetchDataAsync"];const s=t["getNavigationPropertyInfoFromEntity"];const c=e["Application"];const p=e["ODataModelVersion"];const l=n["createUrlParameters"];const u=o["formatPropertyDropdownValues"];const v=r["resolvePropertyPathFromExpression"];function g(t,e,n){const o=t.find(t=>t.name===e);if(!o){return}o.properties=[...n]}const P=function(t,e,n){try{function o(){const o=function(){if(t.isNavigationForId){const o=t.propertyKeyForId;return Promise.resolve(i(r,o,n)).then(function({propertiesWithLabel:n,navigationPropertyData:r}){t.navigationalPropertiesForId=n;g(e,o,t.navigationalPropertiesForId);const i={navigationEntitySet:o,navigationPropertyData:r};a.push(i)})}}();return o&&o.then?o.then(function(){return a}):a}const{rootComponent:r}=c.getInstance().fetchDetails();const a=[];const s=function(){if(t.isNavigationForDescription){const o=t.propertyKeyForDescription;return Promise.resolve(i(r,o,n)).then(function({propertiesWithLabel:n,navigationPropertyData:r}){t.navigationalPropertiesForDescription=n;g(e,o,t.navigationalPropertiesForDescription);const i={navigationEntitySet:o,navigationPropertyData:r};a.push(i)})}}();return Promise.resolve(s&&s.then?s.then(o):o(s))}catch(p){return Promise.reject(p)}};const f=function(t,e,n,o){try{const{rootComponent:r}=c.getInstance().fetchDetails();const a=v(t.value,o);return Promise.resolve(function(){if(a?.includes("/")){const[o,s]=a.replace(/[{}]/g,"").split("/");return Promise.resolve(i(r,o,n)).then(function({propertiesWithLabel:n,navigationPropertyData:r}){t.navigationalProperties=n;t.isNavigationEnabled=true;t.isEnabled=true;t.navigationProperty=s;if(t.navigationalProperties){g(e,o,t.navigationalProperties)}return{navigationEntitySet:o,navigationPropertyData:r}})}}())}catch(t){return Promise.reject(t)}};var h={__esModule:true};h.getNavigationPropertiesWithLabel=i;h.updateNavigationPropertiesWithLabel=g;h.getNavigationPropertyInfo=P;h.getNavigationPropertyInfoGroups=f;return h});
//# sourceMappingURL=NavigationProperty.js.map