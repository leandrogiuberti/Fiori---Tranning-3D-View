/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/cards/ap/common/adaptiveCards/AdaptiveCardRenderer","sap/cards/ap/transpiler/cardTranspiler/Transpile","sap/ui/core/Element","../pages/Application","../utils/CommonUtils"],function(t,e,n,o,r){"use strict";const i=t["getAdaptiveCardForRendering"];const a=e["convertIntegrationCardToAdaptive"];const c=o["Application"];const s=r["checkForDateType"];function p(t){if(typeof t==="object"&&t instanceof Date&&!isNaN(t.getTime())){return t.toISOString()}else if(typeof t==="string"){const e=new Date(t);return isNaN(e.getTime())?"":e.toISOString()}}function d(t){const e=n.getElementById("cardGeneratorDialog--cardPreview");const o=e.getManifest();const r=t.getProperty("/configuration/keyParameters")??[];let s=t.getProperty("/configuration/appIntent");const{variantParameter:d,navigationURI:l}=c.getInstance().fetchDetails();s=d?`${s}?sap-appvar-id=${d}`:s;const u=a(o,s,r,l);const m=Object.assign({},t.getProperty("/configuration/$data"));const y=t.getProperty("/configuration/properties");y.forEach(function(t){if(t?.isDate&&m[t.name]){const e=m[t.name];const n=p(e);m[t.name]=n?n:e}});g(m);u.$data=m;const v=n.getElementById("cardGeneratorDialog--preview-select").getSelectedItem().getBindingContext("previewOptions").getProperty("hostConfig");let C;if(v){C=i(v,u)}const I=document.querySelector("#adaptiveCardPreview");if(I&&C){setTimeout(function(){I.innerHTML="";f(C);I.appendChild(C)})}}function f(t){const e=t.querySelectorAll(".ac-textBlock");const n=Array.from(e);n.forEach(t=>{if(t.textContent?.includes("&minus;")){t.textContent="-"}})}function g(t){for(const e in t){if(t.hasOwnProperty(e)){l(t,e)}}}function l(t,e){const n=t[e];if(typeof n==="object"&&n!==null){if(s(n?.__edmType)){const o=p(n);t[e]=o?o:n}g(n)}}var u={__esModule:true};u.transpileIntegrationCardToAdaptive=d;return u});
//# sourceMappingURL=Transpiler.js.map