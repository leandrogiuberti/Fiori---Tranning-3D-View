{"version":3,"file":"I18nHelper.js","names":["sap","ui","define","Log","CoreLib","ResourceModel","jQuery","___utils_CommonUtils","hasBooleanBindingExpression","i18nMap","i18nPayload","I18nClassificationsMap","Title","Label","Button","hasBinding","propertyValue","startsWith","isJSONData","value","JSON","parse","Error","getPropertyValue","partialManifest","key","updatedKey","replaceAll","seti18nValueToMap","text","trim","length","inserti18nKeysManifest","integrationCardManifest","i18nKey","split","reduce","number","textClassification","keyType","comment","inserti18nPayLoad","type","description","groupPath","payload","push","writei18nPayload","ajax","url","headers","data","stringify","success","info","error","reseti18nProperties","createi18nKeysForActionParameters","index","actionPath","adaptiveCardAction","adaptiveCardActionParameters","actionParameters","forEach","actionParameter","idx","actionParameterLabel","label","actionParameterErrorMsg","errorMessage","actionParameterPlaceholder","placeholder","i18nKeyActionParamLabel","actionParameterDescription","actionParameterLabelPath","i18nKeyActionParamErrorMsg","actionParameterErrorMsgDescription","actionParameterErrorMsgPath","i18nKeyActionParamPlaceholder","actionParameterPlaceholderDescription","actionParameterPlaceholderPath","createI18nKeysForCardActions","cardManifest","actionsStrip","footer","actionPathPrefix","action","actions","parameters","replace","configuration","_adaptiveFooterActionParameters","adaptiveCardActionDescription","i18nKeyCardAction","AdaptiveCardActionTextpath","i18nKeyOkButton","okButtonDescription","okButtonPath","triggerActionText","createKeysFromManifestData","manifestHeader","header","manifestGroup","content","groups","manifestHeaderKeys","Object","keys","propertyType","propertyTypes","includes","property","toUpperCase","slice","i18nPayloadHasYesAndNoText","some","createKeysForYesOrNoText","items","configurationItem","createKeysFromGroup","title","path","groupLabelPath","itemIndex","groupIndex","groupType","itemsPath","valueYes","valueNo","descriptionYes","descriptionNo","updateManifestAppProperties","manifest","app","headerInfo","subTitle","UOMExists","unitOfMeasurement","resolveI18nTextFromResourceModel","resourceModel","endsWith","getObject","getYesAndNoTextValues","resourceBundle","getResourceBundleFor","i18nModel","bundleUrl","oUrlInfo","bundle","yesText","noText","createAndStoreGeneratedi18nKeys","__exports","__esModule"],"sources":["I18nHelper.ts"],"sourcesContent":["/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n *  * (c) Copyright 2009-2025 SAP SE. All rights reserved\n */\nimport Log from \"sap/base/Log\";\nimport CoreLib from \"sap/ui/core/Lib\";\nimport { AdaptiveCardAction, CardManifest, Group, GroupItems, ObjectContent } from \"sap/ui/integration/widgets/Card\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport jQuery from \"sap/ui/thirdparty/jquery\";\nimport { hasBooleanBindingExpression } from \"../utils/CommonUtils\";\n\ntype I18nObject = {\n\t[key: string]: string;\n};\n\ntype I18nClassifications = {\n\t[key: string]: string;\n};\n\ntype I18nProperty = {\n\tcomment: string;\n\tkey: string;\n\tvalue: string;\n};\n\ntype ManifestPartial = {\n\t[key: string]: ManifestPartial | string | number | boolean | undefined;\n};\n\ntype YesAndNoText = {\n\tyesText: string;\n\tnoText: string;\n};\n\nlet i18nMap: I18nObject = {};\nlet i18nPayload: Array<I18nProperty> = [];\n\nconst I18nClassificationsMap: I18nClassifications = {\n\tTitle: \"XTIT:\",\n\tLabel: \"XFLD:\",\n\tButton: \"XBUT:\",\n\t\"Group header\": \"XGRP:\"\n};\n\n/**\n * This function checks if the property value has a binding\n *\n * @param {string} propertyValue\n * @returns {boolean}\n */\nfunction hasBinding(propertyValue: string) {\n\treturn propertyValue && propertyValue.startsWith(\"{\");\n}\n\n/**\n * Function to check if the given data is of type JSON or not\n *\n * @param value\n * @returns\n */\nfunction isJSONData(value: string) {\n\ttry {\n\t\treturn JSON.parse(value) ? true : false;\n\t} catch (Error) {\n\t\treturn false;\n\t}\n}\n\n/**\n * This function gets the property value from the card manifest/sub-manifest\n * - In case if the property value is an object then return the object\n * - In case if the property value is not an object then return the object and key\n * - Added handling for keys with multiple dots should be passsed as \"parameters.[com/sap/property].name\"\n *\n * @param {object} obj The  object\n * @param {string} key\n * @returns {object}\n */\nfunction getPropertyValue(partialManifest: ManifestPartial, key: string) {\n\tif (isJSONData(key)) {\n\t\tconst updatedKey = JSON.parse(key.replaceAll(/\\//g, \".\"))?.[0];\n\t\tkey = updatedKey ? updatedKey : key;\n\t}\n\n\tif (key && typeof partialManifest[key] === \"object\" && key != \"mainIndicator\") {\n\t\treturn partialManifest[key];\n\t}\n\n\treturn {\n\t\tpartialManifest,\n\t\tkey\n\t};\n}\n\n/**\n * This function sets i18n values to a map\n *  - In case if it is a new key create a key in map.\n *  - In case if it is an existsinig one update it.\n *\n * @param {string} key\n * @param {string} value\n * @param {string} text\n */\nfunction seti18nValueToMap(key: string, value: string, text?: string) {\n\tif (!text?.trim().length) {\n\t\tdelete i18nMap[key];\n\t\treturn;\n\t}\n\ti18nMap[key] = \"{{CardGenerator\" + value + \"}}\";\n}\n\n/**\n * This function updates i18n keys to card manifest\n *\n * @param {object} integrationCardManifest The manifest object\n */\nfunction inserti18nKeysManifest(integrationCardManifest: CardManifest) {\n\tfor (const i18nKey in i18nMap) {\n\t\tconst { partialManifest, key } = i18nKey.split(\".\").reduce(getPropertyValue, integrationCardManifest[\"sap.card\"]);\n\n\t\tif (partialManifest[key]?.number && i18nMap[i18nKey]) {\n\t\t\tpartialManifest[key].number = i18nMap[i18nKey];\n\t\t} else if (partialManifest?.[key]?.trim().length > 0) {\n\t\t\tpartialManifest[key] = i18nMap[i18nKey];\n\t\t}\n\t}\n}\n\n/**\n * Gets the text classification for given i18n key and value\n *\n * @param {string} keyType Type of key\n * @param {string} comment The comments which needs to be added\n * @returns {string} The text classification string\n */\nfunction textClassification(keyType: string, comment: string): string {\n\tconst key = I18nClassificationsMap[keyType] || \"\";\n\treturn key + \" \" + comment;\n}\n\n/**\n * This function sets i18n payload to an array\n *\n * @param {string} text\n * @param {string} key\n * @param {string} type\n * @param {string} description\n * @param {string} groupPath\n */\nfunction inserti18nPayLoad(text: string, key: string, type: string, description: string, groupPath?: string) {\n\tif (text.trim().length === 0) {\n\t\treturn;\n\t}\n\tconst payload: I18nProperty = {\n\t\tcomment: textClassification(type, description),\n\t\tkey: \"CardGenerator\" + (groupPath ? key + groupPath : key),\n\t\tvalue: text\n\t};\n\ti18nPayload.push(payload);\n}\n\n/**\n * This function will create an ajax call to save i18n payload\n */\nfunction writei18nPayload() {\n\tif (i18nPayload.length === 0) {\n\t\treturn;\n\t}\n\n\tjQuery.ajax({\n\t\ttype: \"POST\",\n\t\turl: \"/editor/i18n\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tdata: JSON.stringify(i18nPayload),\n\t\tsuccess: function () {\n\t\t\tLog.info(\"i18n was successfully saved.\");\n\t\t},\n\t\terror: function () {\n\t\t\tLog.error(\"i18n could not be saved.\");\n\t\t}\n\t});\n}\n\n/**\n * This function resets i18nPayload and i18nMap\n *\n */\nfunction reseti18nProperties() {\n\ti18nPayload = [];\n\ti18nMap = {};\n}\n\n/**\n *\n * Creates i18n keys for the action parameters of an adaptive card action.\n *\n * For each action parameter the label value will be different so i18n key will be created for each action parameter label.\n *\n * @param {number} index - The index of the current action in the adaptive card actions array.\n * @param {string} actionPath - The path to the current action in the configuration parameters.\n * @param {AdaptiveCardAction} [adaptiveCardAction] - The adaptive card action object containing action parameters.\n */\nfunction createi18nKeysForActionParameters(index: number, actionPath: string, adaptiveCardAction?: AdaptiveCardAction) {\n\tconst adaptiveCardActionParameters = adaptiveCardAction?.actionParameters;\n\n\tif (adaptiveCardActionParameters?.length) {\n\t\tadaptiveCardActionParameters.forEach((actionParameter, idx) => {\n\t\t\tconst actionParameterLabel = actionParameter?.label;\n\t\t\tconst actionParameterErrorMsg = actionParameter?.errorMessage;\n\t\t\tconst actionParameterPlaceholder = actionParameter?.placeholder;\n\n\t\t\tif (actionParameterLabel) {\n\t\t\t\tconst i18nKeyActionParamLabel = `_AdaptiveCardAction_${index}_ActionParameterLabel_${idx}`;\n\t\t\t\tconst actionParameterDescription = `Label for Action Parameter ${actionParameterLabel} - Created by Card Generator`;\n\t\t\t\tconst actionParameterLabelPath = `configuration.parameters._adaptiveFooterActionParameters.[\"${actionPath}\"].actionParameters.${idx}.label`;\n\t\t\t\tseti18nValueToMap(actionParameterLabelPath, i18nKeyActionParamLabel, actionParameterLabel);\n\t\t\t\tinserti18nPayLoad(actionParameterLabel, i18nKeyActionParamLabel, \"Label\", actionParameterDescription);\n\t\t\t}\n\n\t\t\tif (actionParameterErrorMsg) {\n\t\t\t\tconst i18nKeyActionParamErrorMsg = `_AdaptiveCardAction_${index}_ActionParameterErrorMsg_${idx}`;\n\t\t\t\tconst actionParameterErrorMsgDescription = `Error message for Action Parameter ${actionParameterLabel} - Created by Card Generator`;\n\t\t\t\tconst actionParameterErrorMsgPath = `configuration.parameters._adaptiveFooterActionParameters.[\"${actionPath}\"].actionParameters.${idx}.errorMessage`;\n\t\t\t\tseti18nValueToMap(actionParameterErrorMsgPath, i18nKeyActionParamErrorMsg, actionParameterErrorMsg);\n\t\t\t\tinserti18nPayLoad(actionParameterErrorMsg, i18nKeyActionParamErrorMsg, \"Label\", actionParameterErrorMsgDescription);\n\t\t\t}\n\n\t\t\tif (actionParameterPlaceholder) {\n\t\t\t\tconst i18nKeyActionParamPlaceholder = `_AdaptiveCardAction_${index}_ActionParameterPlaceholder_${idx}`;\n\t\t\t\tconst actionParameterPlaceholderDescription = `Placeholder for Action Parameter ${actionParameterLabel} - Created by Card Generator`;\n\t\t\t\tconst actionParameterPlaceholderPath = `configuration.parameters._adaptiveFooterActionParameters.[\"${actionPath}\"].actionParameters.${idx}.placeholder`;\n\t\t\t\tseti18nValueToMap(actionParameterPlaceholderPath, i18nKeyActionParamPlaceholder, actionParameterPlaceholder);\n\t\t\t\tinserti18nPayLoad(\n\t\t\t\t\tactionParameterPlaceholder,\n\t\t\t\t\ti18nKeyActionParamPlaceholder,\n\t\t\t\t\t\"Label\",\n\t\t\t\t\tactionParameterPlaceholderDescription\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n *\n * Creates i18n keys for card actions based on the card manifest.\n *\n * Takes care of creating i18n key for the action label and the OK button text which will be used when action type is Submit.\n * The action text for Integration card is also replaced with same i18n key that is created for the adaptive card action.\n *\n * @param {CardManifest} cardManifest - The card manifest.\n */\nfunction createI18nKeysForCardActions(cardManifest: CardManifest) {\n\tconst actionsStrip = cardManifest[\"sap.card\"]?.footer?.actionsStrip;\n\tconst actionPathPrefix = \"{{parameters.footerActionParameters.\";\n\n\tactionsStrip?.forEach((action, index) => {\n\t\tlet actionPath = action?.actions[0]?.parameters?.replace(actionPathPrefix, \"\").replace(\"}}\", \"\") ?? \"\";\n\t\tconst adaptiveCardAction = cardManifest[\"sap.card\"]?.configuration?.parameters?._adaptiveFooterActionParameters?.[actionPath];\n\n\t\tif (adaptiveCardAction?.label) {\n\t\t\tactionPath = actionPath.replaceAll(/\\./g, \"/\");\n\t\t\tconst adaptiveCardActionDescription = `Label for Action ${adaptiveCardAction?.label} - Created by Card Generator`;\n\t\t\tconst i18nKeyCardAction = `_AdaptiveCardActions_${index}_Label`;\n\t\t\tconst AdaptiveCardActionTextpath = `configuration.parameters._adaptiveFooterActionParameters.[\"${actionPath}\"].label`;\n\t\t\taction.text = \"{{CardGenerator\" + i18nKeyCardAction + \"}}\";\n\n\t\t\tseti18nValueToMap(AdaptiveCardActionTextpath, i18nKeyCardAction, adaptiveCardAction?.label);\n\t\t\tinserti18nPayLoad(adaptiveCardAction?.label, i18nKeyCardAction, \"Label\", adaptiveCardActionDescription);\n\n\t\t\tconst i18nKeyOkButton = \"_AdaptiveCardActions_OkButton\";\n\t\t\tconst okButtonDescription = \"Label for OK Button - Created by Card Generator\";\n\t\t\tconst okButtonPath = `configuration.parameters._adaptiveFooterActionParameters.[\"${actionPath}\"].triggerActionText`;\n\t\t\tseti18nValueToMap(okButtonPath, i18nKeyOkButton, adaptiveCardAction?.triggerActionText);\n\n\t\t\tif (index === 0) {\n\t\t\t\tinserti18nPayLoad(adaptiveCardAction?.triggerActionText, i18nKeyOkButton, \"Button\", okButtonDescription);\n\t\t\t}\n\t\t}\n\n\t\tcreatei18nKeysForActionParameters(index, actionPath, adaptiveCardAction);\n\t});\n}\n\n/**\n * This function creates i18n keys from modal data\n *  - In case if text does not start with \"{\" create a key and set key and value to i18n map, also upload the i18n payload to the array.\n *  - In case if it is already a key then no need to create a new key.\n *\n * @param {CardManifest} cardManifest\n */\nfunction createKeysFromManifestData(cardManifest: CardManifest) {\n\tconst manifestHeader = cardManifest[\"sap.card\"].header;\n\tconst manifestGroup = (cardManifest[\"sap.card\"].content as ObjectContent).groups;\n\tconst manifestHeaderKeys = Object.keys(manifestHeader) as Array<keyof typeof manifestHeader>;\n\tmanifestHeaderKeys.forEach((propertyType) => {\n\t\tconst propertyTypes = [\"title\", \"subTitle\", \"unitOfMeasurement\", \"mainIndicator\"];\n\t\tif (propertyTypes.includes(propertyType)) {\n\t\t\tconst property = propertyType === \"mainIndicator\" ? manifestHeader[propertyType]?.number : manifestHeader[propertyType];\n\n\t\t\tif (!hasBinding(property)) {\n\t\t\t\tconst key = `header.${propertyType}`;\n\t\t\t\tconst value = `Header${propertyType[0].toUpperCase() + propertyType.slice(1)}`;\n\t\t\t\tconst description = `${value} for ${property} - Created by Card Generator`;\n\n\t\t\t\tseti18nValueToMap(key, value, property);\n\t\t\t\tinserti18nPayLoad(property, value, \"Title\", description);\n\t\t\t}\n\t\t\tconst i18nPayloadHasYesAndNoText = i18nPayload.some(({ value }) => value === \"Yes\");\n\t\t\tif (hasBooleanBindingExpression(property) && !i18nPayloadHasYesAndNoText) {\n\t\t\t\tcreateKeysForYesOrNoText();\n\t\t\t}\n\t\t}\n\t});\n\n\tmanifestGroup.forEach((configuration: Group, index: number) => {\n\t\tconfiguration.items.forEach((configurationItem: GroupItems, idx: number) => {\n\t\t\tcreateKeysFromGroup(configurationItem.label, idx, index, \"label\");\n\n\t\t\tif (!hasBinding(configurationItem.value)) {\n\t\t\t\tcreateKeysFromGroup(configurationItem.value, idx, index, \"value\");\n\t\t\t}\n\t\t\tconst i18nPayloadHasYesAndNoText = i18nPayload.some(({ value }) => value === \"Yes\");\n\t\t\tif (hasBooleanBindingExpression(configurationItem.value) && !i18nPayloadHasYesAndNoText) {\n\t\t\t\tcreateKeysForYesOrNoText();\n\t\t\t}\n\t\t});\n\t\tconst key = \"GroupHeader\";\n\t\tconst description = `${key} for ${configuration.title} - Created by Card Generator`;\n\t\tconst path = `_Groups_${index}`;\n\t\tconst groupLabelPath = `content.groups.${index}.title`;\n\n\t\tseti18nValueToMap(groupLabelPath, key + path, configuration.title);\n\t\tinserti18nPayLoad(configuration.title, key, \"Group header\", description, path);\n\t});\n\n\tcreateI18nKeysForCardActions(cardManifest);\n}\n\n/**\n * This function creates i18n keys from manifest group data\n *  - In case if text does not start with \"{\" create a key and set key and value to i18n map, also upload the i18n payload to the array.\n *  - In case if it is already a key then no need to create a new key.\n *\n * @param {string} configurationItem\n * @param {number} itemIndex\n * @param {number} groupIndex\n * @param {string} type\n */\nfunction createKeysFromGroup(configurationItem: string, itemIndex: number, groupIndex: number, type: string) {\n\tconst groupType = \"Label\";\n\tconst key = `GroupProperty${groupType}`;\n\tconst description = `${key} for ${configurationItem} - Created by Card Generator`;\n\tconst path = `_Groups_${groupIndex}_Items_${itemIndex}`;\n\tconst itemsPath = `content.groups.${groupIndex}.items.${itemIndex}.${type}`;\n\n\tseti18nValueToMap(itemsPath, key + path, configurationItem);\n\tinserti18nPayLoad(configurationItem, key, groupType, description, path);\n}\n\n/**\n * Creates i18n keys and payloads for \"Yes\" and \"No\" text values.\n *\n * The function ensures that these keys and labels are properly added to the\n * i18n map and payload for further use in the application.\n */\nfunction createKeysForYesOrNoText() {\n\tconst valueYes = \"Value_Yes\";\n\tconst valueNo = \"Value_No\";\n\tconst descriptionYes = \"Text for boolean property true - Created by Card Generator\";\n\tconst descriptionNo = \"Text for boolean property false - Created by Card Generator\";\n\n\tseti18nValueToMap(\"yes\", valueYes, \"Yes\");\n\tinserti18nPayLoad(\"Yes\", valueYes, \"Label\", descriptionYes);\n\n\tseti18nValueToMap(\"no\", valueNo, \"No\");\n\tinserti18nPayLoad(\"No\", valueNo, \"Label\", descriptionNo);\n}\n\nfunction updateManifestAppProperties(manifest: CardManifest) {\n\tconst app = manifest[\"sap.app\"];\n\tconst headerInfo = manifest[\"sap.card\"].header;\n\n\tif (app.title !== headerInfo.title && headerInfo.title?.startsWith(\"{{\")) {\n\t\tapp.title = headerInfo.title;\n\t}\n\tif (app.subTitle !== headerInfo.subTitle && headerInfo.subTitle?.startsWith(\"{{\")) {\n\t\tconst UOMExists: boolean = headerInfo.unitOfMeasurement ? true : false;\n\t\tapp.subTitle = UOMExists ? headerInfo.subTitle + \" | \" + headerInfo.unitOfMeasurement : headerInfo.subTitle;\n\t}\n}\n\n/**\n * This function resolves i18n text from resource model\n * - In case if key exists in resource model then return the object from resource model\n * - In case if key does not exist in resource model then return the key\n * @param key\n */\nexport function resolveI18nTextFromResourceModel(key: string, resourceModel: ResourceModel) {\n\tif (key.startsWith(\"{{\") && key.endsWith(\"}}\")) {\n\t\treturn resourceModel.getObject(key.replace(\"{{\", \"\").replace(\"}}\", \"\"));\n\t}\n\n\treturn key;\n}\n\n/**\n * Retrieves the localized text values for \"Yes\" and \"No\" from the resource bundle.\n *\n * @returns {YesAndNoText} An object containing the localized text values:\n * - `yes`: The localized text for \"Yes\".\n * - `no`: The localized text for \"No\".\n */\nexport function getYesAndNoTextValues(): YesAndNoText {\n\tconst resourceBundle = CoreLib.getResourceBundleFor(\"sap.cards.ap.generator.i18n\");\n\tconst i18nModel = new ResourceModel({\n\t\tbundleUrl: resourceBundle.oUrlInfo.url,\n\t\tbundle: resourceBundle\n\t});\n\tconst yesText = i18nModel.getObject(\"VALUE_YES\");\n\tconst noText = i18nModel.getObject(\"VALUE_NO\");\n\treturn {\n\t\tyesText: yesText as string,\n\t\tnoText: noText as string\n\t};\n}\n\n/**\n * This function creates i18n keys from card manifest data and stores it in i18n map and i18n payload\n * - Further it will update manifest with i18n keys\n * - and create an ajax call to save i18n payload\n * @param cardManifest\n */\nexport function createAndStoreGeneratedi18nKeys(cardManifest: CardManifest) {\n\tcreateKeysFromManifestData(cardManifest);\n\tinserti18nKeysManifest(cardManifest);\n\tupdateManifestAppProperties(cardManifest);\n\twritei18nPayload();\n\treseti18nProperties();\n}\n"],"mappings":"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","ignoreList":[]}