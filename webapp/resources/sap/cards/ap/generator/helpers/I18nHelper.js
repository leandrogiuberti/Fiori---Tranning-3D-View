/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *  * (c) Copyright 2009-2025 SAP SE. All rights reserved
 */
"use strict";sap.ui.define(["sap/base/Log","sap/ui/core/Lib","sap/ui/model/resource/ResourceModel","sap/ui/thirdparty/jquery","../utils/CommonUtils"],function(e,t,r,jQuery,a){"use strict";const o=a["hasBooleanBindingExpression"];let n={};let s=[];const i={Title:"XTIT:",Label:"XFLD:",Button:"XBUT:","Group header":"XGRP:"};function c(e){return e&&e.startsWith("{")}function l(e){try{return JSON.parse(e)?true:false}catch(e){return false}}function u(e,t){if(l(t)){const e=JSON.parse(t.replaceAll(/\//g,"."))?.[0];t=e?e:t}if(t&&typeof e[t]==="object"&&t!="mainIndicator"){return e[t]}return{partialManifest:e,key:t}}function d(e,t,r){if(!r?.trim().length){delete n[e];return}n[e]="{{CardGenerator"+t+"}}"}function f(e){for(const t in n){const{partialManifest:r,key:a}=t.split(".").reduce(u,e["sap.card"]);if(r[a]?.number&&n[t]){r[a].number=n[t]}else if(r?.[a]?.trim().length>0){r[a]=n[t]}}}function p(e,t){const r=i[e]||"";return r+" "+t}function b(e,t,r,a,o){if(e.trim().length===0){return}const n={comment:p(r,a),key:"CardGenerator"+(o?t+o:t),value:e};s.push(n)}function m(){if(s.length===0){return}jQuery.ajax({type:"POST",url:"/editor/i18n",headers:{"Content-Type":"application/json"},data:JSON.stringify(s),success:function(){e.info("i18n was successfully saved.")},error:function(){e.error("i18n could not be saved.")}})}function g(){s=[];n={}}function $(e,t,r){const a=r?.actionParameters;if(a?.length){a.forEach((r,a)=>{const o=r?.label;const n=r?.errorMessage;const s=r?.placeholder;if(o){const r=`_AdaptiveCardAction_${e}_ActionParameterLabel_${a}`;const n=`Label for Action Parameter ${o} - Created by Card Generator`;const s=`configuration.parameters._adaptiveFooterActionParameters.["${t}"].actionParameters.${a}.label`;d(s,r,o);b(o,r,"Label",n)}if(n){const r=`_AdaptiveCardAction_${e}_ActionParameterErrorMsg_${a}`;const s=`Error message for Action Parameter ${o} - Created by Card Generator`;const i=`configuration.parameters._adaptiveFooterActionParameters.["${t}"].actionParameters.${a}.errorMessage`;d(i,r,n);b(n,r,"Label",s)}if(s){const r=`_AdaptiveCardAction_${e}_ActionParameterPlaceholder_${a}`;const n=`Placeholder for Action Parameter ${o} - Created by Card Generator`;const i=`configuration.parameters._adaptiveFooterActionParameters.["${t}"].actionParameters.${a}.placeholder`;d(i,r,s);b(s,r,"Label",n)}})}}function _(e){const t=e["sap.card"]?.footer?.actionsStrip;const r="{{parameters.footerActionParameters.";t?.forEach((t,a)=>{let o=t?.actions[0]?.parameters?.replace(r,"").replace("}}","")??"";const n=e["sap.card"]?.configuration?.parameters?._adaptiveFooterActionParameters?.[o];if(n?.label){o=o.replaceAll(/\./g,"/");const e=`Label for Action ${n?.label} - Created by Card Generator`;const r=`_AdaptiveCardActions_${a}_Label`;const s=`configuration.parameters._adaptiveFooterActionParameters.["${o}"].label`;t.text="{{CardGenerator"+r+"}}";d(s,r,n?.label);b(n?.label,r,"Label",e);const i="_AdaptiveCardActions_OkButton";const c="Label for OK Button - Created by Card Generator";const l=`configuration.parameters._adaptiveFooterActionParameters.["${o}"].triggerActionText`;d(l,i,n?.triggerActionText);if(a===0){b(n?.triggerActionText,i,"Button",c)}}$(a,o,n)})}function A(e){const t=e["sap.card"].header;const r=e["sap.card"].content.groups;const a=Object.keys(t);a.forEach(e=>{const r=["title","subTitle","unitOfMeasurement","mainIndicator"];if(r.includes(e)){const r=e==="mainIndicator"?t[e]?.number:t[e];if(!c(r)){const t=`header.${e}`;const a=`Header${e[0].toUpperCase()+e.slice(1)}`;const o=`${a} for ${r} - Created by Card Generator`;d(t,a,r);b(r,a,"Title",o)}const a=s.some(({value:e})=>e==="Yes");if(o(r)&&!a){h()}}});r.forEach((e,t)=>{e.items.forEach((e,r)=>{C(e.label,r,t,"label");if(!c(e.value)){C(e.value,r,t,"value")}const a=s.some(({value:e})=>e==="Yes");if(o(e.value)&&!a){h()}});const r="GroupHeader";const a=`${r} for ${e.title} - Created by Card Generator`;const n=`_Groups_${t}`;const i=`content.groups.${t}.title`;d(i,r+n,e.title);b(e.title,r,"Group header",a,n)});_(e)}function C(e,t,r,a){const o="Label";const n=`GroupProperty${o}`;const s=`${n} for ${e} - Created by Card Generator`;const i=`_Groups_${r}_Items_${t}`;const c=`content.groups.${r}.items.${t}.${a}`;d(c,n+i,e);b(e,n,o,s,i)}function h(){const e="Value_Yes";const t="Value_No";const r="Text for boolean property true - Created by Card Generator";const a="Text for boolean property false - Created by Card Generator";d("yes",e,"Yes");b("Yes",e,"Label",r);d("no",t,"No");b("No",t,"Label",a)}function y(e){const t=e["sap.app"];const r=e["sap.card"].header;if(t.title!==r.title&&r.title?.startsWith("{{")){t.title=r.title}if(t.subTitle!==r.subTitle&&r.subTitle?.startsWith("{{")){const e=r.unitOfMeasurement?true:false;t.subTitle=e?r.subTitle+" | "+r.unitOfMeasurement:r.subTitle}}function T(e,t){if(e.startsWith("{{")&&e.endsWith("}}")){return t.getObject(e.replace("{{","").replace("}}",""))}return e}function v(){const e=t.getResourceBundleFor("sap.cards.ap.generator.i18n");const a=new r({bundleUrl:e.oUrlInfo.url,bundle:e});const o=a.getObject("VALUE_YES");const n=a.getObject("VALUE_NO");return{yesText:o,noText:n}}function P(e){A(e);f(e);y(e);m();g()}var G={__esModule:true};G.resolveI18nTextFromResourceModel=T;G.getYesAndNoTextValues=v;G.createAndStoreGeneratedi18nKeys=P;return G});
//# sourceMappingURL=I18nHelper.js.map