/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(["sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/core/HTML","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel"],function(t,e,i,a,o,n){"use strict";var r=t.ListType;return o.extend("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget"},createContent:function(t){var e=this.getViewData();this.oNavListPopover=e.oNavListPopover;this.oOpenInButtonEventSource=e.oOpenInButtonEventSource;this.oNavigationHandler=e.oNavigationHandler;this.oUiApi=e.oUiApi;this.oController=t;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var i=this.oNavigationHandler.getNavigationTargets();i.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false)})},_prepareActionListModel:function(t){var o=this;var s=[];var p=[];t.global.forEach(function(t){if(t.title){t.text=o.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}s.push(t)});t.stepSpecific.forEach(function(t){if(t.title){t.text=o.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}p.push(t)});this.oNavListPopover.removeAllContent();var v,l;var g=this;if(p.length!==0){var u=new n;var c={navTargets:p};l=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:r.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});u.setData(c);l.setModel(u);var d=new a({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(l);this.oNavListPopover.addContent(d)}if(s.length!==0){var h=new n;var f={navTargets:s};v=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:r.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});h.setData(f);v.setModel(h);this.oNavListPopover.addContent(v)}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource)}})});
//# sourceMappingURL=navigationTarget.view.js.map