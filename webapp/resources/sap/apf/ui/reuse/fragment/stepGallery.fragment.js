/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/NavContainer","sap/m/Page","sap/m/SearchField","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery"],function(e,t,n,a,i,r,o,l,s,p,jQuery){"use strict";return{createContent:function(c){var g=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;var d=function(e){var t=[];var n=e.getSource().getValue();var a=g.oStepGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(n&&n.length>0){var i=new s("title",p.Contains,n);t.push(i)}var r=a.getBinding("items");r.filter(t)};var u=function(e){g.oUiApi.getLayoutView().setBusy(true);var t=e.getSource().getBindingContext().sPath.split("/");var n=t[2];var a=t[4];var i=t[6];var r=c.getStepDetails(n,a);c.onStepPress(r.id,r.representationtypes[i].representationId)};var h=(new a).bindItems({path:"representationtypes",template:new l({title:"{title}",icon:"{picture}",tooltip:"{title}",type:"Active",wrapping:true,press:u,description:{path:"sortDescription",formatter:function(e){var t=[];if(e===undefined||e===null){return null}t=e.length?e.join(", "):e;return g.oCoreApi.getTextNotHtmlEncoded("sortBy")+": "+t}}})});var v=new r({id:this.createId("idStepGalleryRepresentationPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:h,showNavButton:true,navButtonPress:function(){g.oStepGalleryNavContainer.back()}});var y=(new a).bindItems({path:"stepTemplates",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();v.setBindingContext(t);v.setTitle(e.getSource().getTitle());g.oStepGalleryNavContainer.to(g.oStepGalleryNavContainer.getPages()[2])}})});var C=new r({id:this.createId("idStepGalleryStepPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:y,showNavButton:true,navButtonPress:function(){g.oStepGalleryNavContainer.back()}});var S=(new a).bindItems({path:"/GalleryElements",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();C.setBindingContext(t);C.setTitle(e.getSource().getTitle());g.oStepGalleryNavContainer.to(g.oStepGalleryNavContainer.getPages()[1])}})});var w=new r({id:this.createId("idStepGalleryCategoryPage"),title:g.oCoreApi.getTextNotHtmlEncoded("category"),tooltip:g.oCoreApi.getTextNotHtmlEncoded("category"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:S});this.oStepGalleryNavContainer=new i({pages:[w,C,v]});this.oStepGalleryNavContainer.setModel(c.getView().getModel());this.oStepGalleryHierarchicalDialog=new n({contentWidth:g.contentWidth,contentHeight:g.contentHeight,showHeader:false,content:[this.oStepGalleryNavContainer],endButton:new t({text:g.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){g.oStepGalleryHierarchicalDialog.close();g.oStepGalleryHierarchicalDialog.destroy()}}),afterClose:function(){g.oStepGalleryHierarchicalDialog.destroy()}});return this.oStepGalleryHierarchicalDialog}}});
//# sourceMappingURL=stepGallery.fragment.js.map