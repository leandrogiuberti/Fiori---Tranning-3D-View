/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.define(["sap/apf/ui/utils/stringToDateFormatter","sap/apf/ui/utils/dateTimeFormatter","sap/apf/ui/utils/timeFormatter","sap/apf/ui/utils/decimalFormatter","sap/base/util/deepExtend","sap/viz/ui5/api/env/Format","sap/viz/ui5/format/ChartFormatter"],function(t,e,a,r,n,i,o){"use strict";var u=function(t,e,a){this.metadata=e;this.dataResponse=a;this.oFormatterArgs=t;this.oDataTypeFormatterMap=s()};u.prototype.constructor=u;function s(){var t=new Map;t.set("Edm.String",d);t.set("Edm.DateTime",m);t.set("Edm.Time",p);t.set("Edm.Decimal",f);return t}function d(e,a){var r=new t;return r.getFormattedValue(e,a,this.oFormatterArgs)}function m(t,a){var r=new e;return r.getFormattedValue(t,a)}function p(t,e){var r=new a;return r.getFormattedValue(t,e)}function f(t,e){var a=new r;var n=t.unit!==undefined?l(this,t.unit):t;var i=0;if(t!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){i=isNaN(t.scale)?this.dataResponse[0][t.scale]:t.scale}return a.getFormattedValue(n,e,i)}function l(t,e){if(t.metadata&&t.metadata.getPropertyMetadata){return t.metadata.getPropertyMetadata(e)}return t.metadata}u.prototype.getFormattedValue=function(t,e){if(e===null){return"null"}var a;var r=l(this,t);var i=r.dataType!==undefined?r.dataType.type:undefined;if(i===undefined){i=r.type}if(this.oDataTypeFormatterMap.has(i)){a=this.oDataTypeFormatterMap.get(i).call(this,r,e)}else{a=e}var o=n({},r);a=F(o,t,e,a,this.oFormatterArgs);return a};u.prototype.getFormattedValueAsString=function(t,e){return this.getFormattedValue(t,e)+""};u.prototype.getFormatStringTooltip=function(t){return this.getFormatString(t)};u.prototype.getFormatString=function(t){var e=this;var a=o.getInstance();i.numericFormatter(a);var r=t.fieldName;a.registerCustomFormatter("measureFormatter",function(t){var a="-";if(t!==null){a=e.getFormattedValue(r,t)}return a});var n="measureFormatter";return n};u.prototype.getFormattedValueForTextProperty=function(t,e){var a;if(e.key){a=e.text+" ("+e.key+")"}else{a=e.text}var r=n({},l(this,t));a=F(r,t,e.text,a,this.oFormatterArgs);return a};function F(t,e,a,r,n){var i;var o=n.getExits!==undefined?n.getExits.customFormat:undefined;if(o===undefined){return r}i=n.getExits.customFormat.apply(n,[t,e,a,r]);r=i!==undefined?i:r;return r}return u},true);
//# sourceMappingURL=formatter.js.map