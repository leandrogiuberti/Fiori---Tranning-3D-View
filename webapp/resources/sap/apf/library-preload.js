//@ui5-bundle sap/apf/library-preload.js
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/Component", ["sap/ui/core/UIComponent","sap/apf/api"],function(t,i){"use strict";var e=t.extend("sap.apf.Component",{oApi:null,metadata:{config:{fullWidth:true},name:"CoreComponent",version:"0.0.1",publicMethods:["getApi"],dependencies:{libs:["sap.m","sap.ui.layout","sap.viz","sap.ui.comp","sap.suite.ui.commons"]}},init:function(){if(!this.oApi){this.oApi=new i(this,this.getApiInjections())}var e=this.oApi.getStartParameterFacade().getApplicationConfigurationPath();if(e){this.oApi.loadApplicationConfig(e)}t.prototype.init.apply(this,arguments)},createContent:function(){t.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){try{this.oApi.destroy()}catch(t){}},getApi:function(){return this.oApi},getApiInjections:function(){return undefined}});return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/abap/LrepConnector", ["sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/base/util/merge"],function(jQuery,e,t){"use strict";var s=function(e){this._initClientParam();this._initLanguageParam();if(e){this._sXsrfToken=e.XsrfToken}this._sLrepUrl="/sap/bc/lrep"};s.DEFAULT_CONTENT_TYPE="application/json; charset=utf-8";s.ROUTES={CONTENT:"/content/",CSRF:"/actions/getcsrftoken/",DATA:"/flex/data/"};s.createConnector=function(e){return new s(e)};s.prototype._initClientParam=function(){var e=n("sap-client");if(e){this._sClient=e}};function n(e){return new URLSearchParams(window.location.search).get(e)}s.prototype._initLanguageParam=function(){var e;e=n("sap-language")||n("sap-ui-language");if(e){this._sLanguage=e}};s.prototype._resolveUrl=function(t){if(!t.startsWith("/")){t="/"+t}var s=e(t).absoluteTo("");return s.toString()};s.prototype._getDefaultHeader=function(){return{headers:{"X-CSRF-Token":this._sXsrfToken||"fetch"}}};s.prototype._getDefaultOptions=function(e,n,a){var r;if(!n){n=s.DEFAULT_CONTENT_TYPE}else if(n.indexOf("charset")===-1){n+="; charset=utf-8"}r=t(this._getDefaultHeader(),{type:e,async:true,contentType:n,processData:false,headers:{"Content-Type":n}});if(a&&r.contentType.indexOf("application/json")===0){r.dataType="json";if(typeof a==="object"){r.data=JSON.stringify(a)}else{r.data=a}}else if(a){r.data=a}if(e==="DELETE"){delete r.data;delete r.contentType}return r};s.prototype.send=function(e,s,n,a){s=s||"GET";s=s.toUpperCase();a=a||{};e=this._resolveUrl(e);a=t(this._getDefaultOptions(s,a.contentType,n),a);return this._sendAjaxRequest(e,a)};s.prototype.deleteFile=function(e,t,s,n,a){return this._fileAction("DELETE",e,t,s,n,null,null,a)};s.prototype.upsert=function(e,t,s,n,a,r,i){var o=this;return Promise.resolve(o._fileAction("PUT",e,t,s,n,a,r,i))};s.prototype.listContent=function(e,t){var n=this._sLrepUrl+s.ROUTES.CONTENT;n+=e;var a=[];if(t){a.push({name:"layer",value:t})}n+=this._buildParams(a);return this.send(n,"GET",null,null)};s.prototype._fileAction=function(e,t,n,a,r,i,o,u){var l=this._sLrepUrl+s.ROUTES.CONTENT;l+=t+"/"+n+"."+a;var f=[];f.push({name:"layer",value:r});if(u){f.push({name:"changelist",value:u})}l+=this._buildParams(f);var p={contentType:o||s.DEFAULT_CONTENT_TYPE};return this.send(l,e.toUpperCase(),i,p)};s.prototype._getMessagesFromXHR=function(e){var t;var s;var n;var a;s=[];try{t=JSON.parse(e.responseText);if(t&&t.messages&&t.messages.length>0){n=t.messages.length;for(a=0;a<n;a++){s.push({severity:t.messages[a].severity,text:t.messages[a].text})}}}catch(e){}return s};s.prototype._sendAjaxRequest=function(e,t){var n=this._sLrepUrl;if(!n){return Promise.reject({status:"warning",messages:[{severity:"warning",text:"Flexibility Services requests were not sent. The UI5 bootstrap is configured to not send any requests."}]})}var a=n+s.ROUTES.CSRF;var r={headers:{"X-CSRF-Token":"fetch"},type:"HEAD"};if(this._sClient){r.headers["sap-client"]=this._sClient}return new Promise(function(s,n){function i(e,t,n){var a=n.getResponseHeader("X-CSRF-Token");this._sXsrfToken=a||this._sXsrfToken;var r=n.getResponseHeader("etag");var i={status:t,etag:r,response:e};s(i);this._aSentRequestListeners?.forEach(function(e){e(i)})}function o(e,t,s,n){var a=new Error(n);a.status=s;a.code=t.statusCode().status;a.messages=this._getMessagesFromXHR(t);if(!a.stack){try{throw a}catch(t){e(t)}}else{e(a)}}function u(s,a,r){this._sXsrfToken=r.getResponseHeader("X-CSRF-Token");t.headers=t.headers||{};t.headers["X-CSRF-Token"]=this._sXsrfToken;jQuery.ajax(e,t).done(i).fail(o.bind(this,n))}function l(e,s,n,i,l){if(n.status===403){jQuery.ajax(a,r).done(u.bind(this)).fail(function(){s({status:"error"})})}else if(t&&t.type==="DELETE"&&n.status===404){e()}else{o.call(this,s,n,i,l)}}var f=true;if(t&&t.type){if(t.type==="GET"||t.type==="HEAD"){f=false}else if(this._sXsrfToken&&this._sXsrfToken!=="fetch"){f=false}}if(f){jQuery.ajax(a,r).done(u.bind(this)).fail(o.bind(this,n))}else{jQuery.ajax(e,t).done(i.bind(this)).fail(l.bind(this,s,n))}}.bind(this))};s.prototype._buildParams=function(e){if(!e){e=[]}if(this._sClient){e.push({name:"sap-client",value:this._sClient})}if(this._sLanguage){e.push({name:"sap-language",value:this._sLanguage})}var t="";var s=e.length;for(var n=0;n<s;n++){if(n===0){t+="?"}else if(n>0&&n<s){t+="&"}t+=e[n].name+"="+e[n].value}return t};s.prototype.getStaticResource=function(e,t,n,a){var r=this._sLrepUrl+s.ROUTES.CONTENT;r+=e+"/"+t+"."+n;var i=[];if(!a){i.push({name:"dt",value:"true"})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};s.prototype.getFileAttributes=function(e,t,n,a){var r=this._sLrepUrl+s.ROUTES.CONTENT;r+=e+"/"+t+"."+n;var i=[];i.push({name:"metadata",value:"true"});if(a){i.push({name:"layer",value:a})}r+=this._buildParams(i);return this.send(r,"GET",null,null)};return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/api", ["sap/apf/ui/instance","sap/apf/core/instance","sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/constants","sap/apf/core/utils/filterSimplify","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/exportToGlobal","sap/apf/utils/externalContext","sap/apf/utils/startFilterHandler","sap/apf/utils/startFilter","sap/apf/utils/filterIdHandler","sap/apf/utils/serializationMediator","sap/apf/utils/navigationHandler","sap/apf/utils/startParameter","sap/apf/messageCallbackForStartup","sap/apf/ui/representations/RepresentationInterfaceProxy","sap/base/Log","sap/m/App","sap/m/Text","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery"],function(t,e,r,n,a,i,s,o,c,u,f,p,l,d,g,h,m,v,C,P,F,A,jQuery){"use strict";function S(o,c,S){var y;var x;var H;var R;var b;var T;var M;var k;var E;var w;var q;var I;var j;var L=true;var B=jQuery.Deferred();var z=new jQuery.Deferred;var N;var O;this.type="api";this.constants={};this.constants.eventTypes=a.eventTypes;this.destroy=function(){y.activateOnErrorHandling(false);y.setMessageCallback(undefined);y.setLifeTimePhaseShutdown();if(I&&I.destroy){I.destroy()}if(x){x.destroy()}I=undefined;x=undefined;y=undefined;H=undefined;R=undefined};this.activateOnErrorHandling=function(t){return x.activateOnErrorHandling(t)};this.getStartParameterFacade=function(){return x.getStartParameterFacade()};this.getLogMessages=function(){return x.getLogMessages()};this.createStep=function(t,e,r){return x.createStep(t,e,r)};this.getActiveStep=function(){return x.getActiveStep()};this.getCategories=function(){return x.getCategories()};this.getSteps=function(){return x.getSteps()};this.getStepTemplates=function(){return x.getStepTemplates()};this.getFacetFilterConfigurations=function(){return x.getFacetFilterConfigurations()};this.getApplicationConfigProperties=function(){return x.getApplicationConfigProperties()};this.moveStepToPosition=function(t,e,r){return x.moveStepToPosition(t,e,r)};this.removeStep=function(t,e){return x.removeStep(t,e)};this.resetPath=function(){return x.resetPath()};this.setActiveStep=function(t){return x.setActiveStep(t)};this.stepIsActive=function(t){return x.stepIsActive(t)};this.updatePath=function(t){return x.updatePath(t)};this.getApfLocation=function(){return x.getUriGenerator().getApfLocation()};this.readPaths=function(t){return x.readPaths(t)};this.savePath=function(t,e,r){x.savePath(t,e,r)};this.openPath=function(t,e,r){return x.openPath(t,e,r)};this.deletePath=function(t,e){return x.deletePath(t,e)};this.addFacetFilter=function(t){I.getLayoutView().getController().addFacetFilter(t)};this.getEventCallback=function(t){return I.getEventCallback(t)};this.putMessage=function(t){return x.putMessage(t)};this.createMessageObject=function(t){return x.createMessageObject(t)};this.getTextHtmlEncoded=function(t,e){return x.getTextHtmlEncoded(t,e)};this.getTextNotHtmlEncoded=function(t,e){return x.getTextNotHtmlEncoded(t,e)};if(!S){this.loadApplicationConfig=function(t){x.loadApplicationConfig(t)}}else{this.loadApplicationConfig=function(t){}}this.createFilter=function(){return x.createFilter()};this.addPathFilter=function(t){return M.add(t)};this.updatePathFilter=function(t,e){M.update(t,e)};this.getPathFilter=function(t){return M.get(t)};this.createReadRequest=function(t){return x.createReadRequest(t)};this.createReadRequestByRequiredFilter=function(t){return x.createReadRequestByRequiredFilter(t)};this.selectionChanged=function(t){I.selectionChanged(t)};this.createApplicationLayout=function(){if(!N){N=(new P).addStyleClass("sapApf")}return N};this.startApf=function(){var t;var e=this;var r=this.createApplicationLayout();z.done(function(){try{if(this.fnBeforeApfStartupCallback&&typeof this.fnBeforeApfStartupCallback==="function"){this.fnBeforeApfStartupCallback.apply(o,[this])}B.resolve();I.createApplicationLayout(r).then(function(){t=R.checkMode();var r=I.handleStartup(t);r.done(function(){if(e.fnAfterApfStartupCallback&&typeof e.fnAfterApfStartupCallback==="function"){e.fnAfterApfStartupCallback.apply(o,[e])}y.setLifeTimePhaseRunning()})})}catch(t){L=false}}.bind(this));return r};this.addMasterFooterContent=function(t){return I.addMasterFooterContentRight(t)};this.setEventCallback=function(t,e){switch(t){case a.eventTypes.contextChanged:I.setEventCallback(t,e);return true;case a.eventTypes.printTriggered:I.setEventCallback(t,e);return true;case a.eventTypes.format:this.customFormat(e);return true;default:return false}};this.customFormat=function(t){I.setCustomFormatExit(t)};this.setCallbackBeforeApfStartup=function(t){this.fnBeforeApfStartupCallback=t};this.setCallbackAfterApfStartup=function(t){this.fnAfterApfStartupCallback=t};this.getPropertyValuesOfExternalContext=function(t){var e=jQuery.Deferred();T.getCombinedContext().then(function(r){var n=r.getFilterTermsForProperty(t);var a=[];n.forEach(function(t){var e={Low:t.getValue(),Option:t.getOp(),High:t.getHighValue()};a.push(e)});e.resolve(a)});return e.promise()};this.startupSucceeded=function(){return L};if(o&&o.getInjections instanceof Function){if(!c){c={}}jQuery.extend(c,c,o.getInjections())}H=new(c&&c.constructors&&c.constructors.StartParameter||h)(o,S);y=new(c&&c.constructors&&c.constructors.MessageHandler||r);y.activateOnErrorHandling(true);y.setLifeTimePhaseStartup();y.loadConfig(n,true);j=c&&c.functions&&c.functions.messageCallbackForStartup||m;y.setMessageCallback(j);if(c&&c.functions&&c.functions.isUsingCloudFoundryProxy){O=c.functions.isUsingCloudFoundryProxy}else{O=function(){return false}}try{x=new(c&&c.constructors&&c.constructors.CoreInstance||e.constructor)({functions:{isUsingCloudFoundryProxy:O,getCumulativeFilter:function(){return b.getCumulativeFilter()},getCombinedContext:function(){return T.getCombinedContext()},ajax:c&&c.functions&&c.functions.ajax,serializeApfState:function(t,e){return q.serialize(t,e)},deserializeApfState:function(t){return q.deserialize(t)},odataRequest:c&&c.functions&&c.functions.odataRequest,getComponentName:function(){if(S&&S.manifest&&S.manifest["sap.app"]){return S.manifest["sap.app"].id}return o.getMetadata().getComponentName()}},instances:{messageHandler:y,startParameter:H,datajs:c&&c.instances&&c.instances.datajs||A,component:o},constructors:{Request:c&&c.constructors&&c.constructors.Request,Metadata:c&&c.constructors&&c.constructors.Metadata,MetadataFactory:c&&c.constructors&&c.constructors.MetadataFactory,ResourcePathHandler:c&&c.constructors&&c.constructors.ResourcePathHandler,TextResourceHandler:c&&c.constructors&&c.constructors.TextResourceHandler,SessionHandler:c&&c.constructors&&c.constructors.SessionHandler,Persistence:c&&c.constructors&&c.constructors.Persistence,AnalysisPathProxy:c&&c.constructors&&c.constructors.AnalysisPathProxy},manifests:S,exits:c&&c.exits,coreProbe:c&&c.coreProbe,corePromise:z});E={instances:{startParameter:H,component:o,messageHandler:y},functions:{getConfigurationProperties:x.getApplicationConfigProperties,ajax:x.ajax}};T=new(c&&c.constructors&&c.constructors.ExternalContext||u)(E);k={functions:{getFacetFilterConfigurations:x.getFacetFilterConfigurations,getReducedCombinedContext:x.getReducedCombinedContext,createRequest:x.getFunctionCreateRequest()},instances:{messageHandler:y,onBeforeApfStartupPromise:B.promise()},constructors:{StartFilter:p}};b=new(c&&c.constructors&&c.constructors.StartFilterHandler||f)(k);w={functions:{setRestrictionByProperty:b.setRestrictionByProperty,getRestrictionByProperty:b.getRestrictionByProperty},instances:{messageHandler:y}};M=new(c&&c.constructors&&c.constructors.FilterIdHandler||l)(w);q=new(c&&c.constructors&&c.constructors.SerializationMediator||d)({instances:{coreApi:x,filterIdHandler:M,startFilterHandler:b,messageHandler:y}});var U={constructors:{FilterReduction:i.FilterReduction},functions:{getCumulativeFilterUpToActiveStep:x.getCumulativeFilterUpToActiveStep,getNavigationTargets:x.getNavigationTargets,getActiveStep:x.getActiveStep,createRequest:x.getFunctionCreateRequest(),getXappStateId:x.getStartParameterFacade().getXappStateId,isFilterReductionActive:x.getStartParameterFacade().isFilterReductionActive,getAllParameterEntitySetKeyProperties:x.getMetadataFacade().getAllParameterEntitySetKeyProperties},instances:{messageHandler:y,component:o,serializationMediator:q}};R=new(c&&c.constructors&&c.constructors.NavigationHandler||g)(U);I=new(c&&c.constructors&&c.constructors.UiInstance||t)({oCoreApi:x,oFilterIdHandler:M,oSerializationMediator:q,oNavigationHandler:R,oComponent:o,oStartParameter:H,oStartFilterHandler:b,functions:c&&c.functions||{},exits:c&&c.exits||{}})}catch(t){L=false;this.startApf=function(){return new F({text:""})};this.loadApplicationConfig=function(){return""};C.error("Caught exception during creation of APF API")}if(x){x.createRepresentation=function(t,e){var r=t.replaceAll(".","/");var n=sap.ui.requireSync(r)||s.extractFunctionFromModulePathString(t);var a=new v(x,I);return new n(a,e)}}if(c&&c.probe&&typeof c.probe==="function"){c.probe({apfApi:this,coreApi:x,component:o,uiApi:I,messageHandler:y,serializationMediator:q,navigationHandler:R,startParameter:H,injectedFunctionsNavigationHandler:U&&U.functions,startFilterHandler:b,externalContext:T,filterIdHandler:M,corePromise:z})}}c("sap.apf.Api",S);return S},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/base/Component", ["sap/ui/core/UIComponent","sap/apf/api","sap/apf/cloudFoundry/uiHandler","sap/base/util/deepExtend"],function(t,e,i,n){"use strict";var s=t.extend("sap.apf.base.Component",{metadata:{manifest:"json",library:"sap.apf",publicMethods:["getApi"]},oApi:null,init:function(){var o;var a;var p;if(!this.oApi){o=s.prototype.getMetadata()._getManifest();a=n({},this.getManifest());if(this.getMetadata().getAllProperties().injectedApfApi){p=this.getMetadata().getAllProperties().injectedApfApi.appData.Constructor}else{p=e}this.oApi=new p(this,undefined,{manifest:a,baseManifest:o});if(this.oApi.startupSucceeded()){t.prototype.init.apply(this,arguments)}}else{return}if(this.getInjections()&&this.getInjections().functions&&this.getInjections().functions.isUsingCloudFoundryProxy&&typeof this.getInjections().functions.isUsingCloudFoundryProxy==="function"&&this.getInjections().functions.isUsingCloudFoundryProxy()===true){i.initRuntime(this)}},createContent:function(){t.prototype.createContent.apply(this,arguments);return this.oApi.startApf()},exit:function(){this.oApi.destroy()},getApi:function(){return this.oApi},getInjections:function(){return{exits:{},instances:{},functions:{},constructors:{},probe:function(){}}}});return s},true);
sap.ui.predefine("sap/apf/cloudFoundry/ajaxHandler", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";var s=function(e){var s=e.functions.coreAjax;var t=e.instances.messageHandler;var n;this.send=function(e){if(e.type==="POST"||e.type==="PUT"||e.type==="DELETE"||e.method==="POST"||e.method==="PUT"||e.method==="DELETE"){e.headers=e.headers||{};e.headers["X-CSRF-Token"]=n;if(e.data&&!e.headers["Content-Type"]){e.headers["Content-Type"]="application/json;charset=utf-8"}s(e)}else if(n===undefined){var a=e.success;var r=e.error;e.beforeSend=function(e){e.setRequestHeader("x-csrf-token","Fetch")};e.success=function(e,s,t){n=t.getResponseHeader("x-csrf-token");a(e,s,t)};e.error=function(e,s,a){n="";var o=t.createMessageObject({code:5105});t.putMessage(o);r(e,s,a)};s(e)}else{s(e)}}};e("sap.apf.cloudFoundry.AjaxHandler",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/analysisPathProxy", ["sap/apf/cloudFoundry/utils","sap/apf/utils/exportToGlobal"],function(a,s){"use strict";var t=function(s){var t=s.instances.messageHandler;var e=s.instances.coreApi;var n=s.manifests.manifest;var i=n["sap.app"].dataSources;var r=i&&i["apf.runtime.analysisPaths"]&&i["apf.runtime.analysisPaths"].uri;var u={"Content-Type":"application/json; charset=utf-8"};var c=a.resolveUri.bind(this,s.instances.coreApi);this.openPath=function(a,s){var e=c(r+"/"+a+"?$select=AnalysisPathName,SerializedAnalysisPath");y({method:"GET",url:e,dataType:"json",success:function(a){var t={AnalysisPathName:a.analysisPath.analysisPathName,SerializedAnalysisPath:JSON.parse(a.analysisPath.serializedAnalysisPath)};s({path:t,status:"successful"},d())},error:function(s,e,n,i){var r=l(s,"5252",[a],i,t);t.putMessage(r)},headers:u})};this.createPath=function(a,s,e){var n=o();if(n===undefined){s({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var i=h(e);var l={analysisPathName:a,analyticalConfiguration:n,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(e)};y({method:"POST",url:c(r),data:JSON.stringify(l),dataType:"json",success:function(a){s({AnalysisPath:a.analysisPath,status:"successful"},d())},error:function(a,e,n,i){var r=f(a,i,t);s({status:"failed"},undefined,r)},headers:u})};this.modifyPath=function(a,s,e,n){var i=h(n);var l={analysisPathName:s,structuredAnalysisPath:JSON.stringify(i),serializedAnalysisPath:JSON.stringify(n)};y({method:"PUT",url:c(r+"/"+a),data:JSON.stringify(l),dataType:"json",success:function(){e({AnalysisPath:a,status:"successful"},d())},error:function(a,s,n,i){var r=f(a,i,t);e({status:"failed"},undefined,r)},headers:u})};this.deletePath=function(a,s){y({method:"DELETE",url:c(r+"/"+a),success:function(){s({status:"successful"},d())},error:function(a,e,n,i){var r=f(a,i,t);s({status:"failed"},undefined,r)}})};this.readPaths=function(a){function s(a){var s=[];if(a.analysisPaths!==null){a.analysisPaths.forEach(function(a){s.push({AnalysisPath:a.analysisPath,AnalysisPathName:a.analysisPathName,LastChangeUTCDateTime:a.lastChangeUtcDateTime,StructuredAnalysisPath:JSON.parse(a.structuredAnalysisPath)})})}return s}var e=o();if(e===undefined){a({status:"failed"},undefined,t.createMessageObject({code:5075}));return}var n=c(r+"?$select=AnalysisPath,AnalysisPathName,LastChangeUtcDateTime,StructuredAnalysisPath&$filter=(AnalyticalConfiguration%20eq%20'"+e+"')");y({url:n,dataType:"json",success:function(t){var e=s(t);a({paths:e,status:"successful"},d())},error:function(s,e,n,i){var r=f(s,i,t);a({status:"failed"},undefined,r)},headers:u})};function d(){return undefined}function l(a,s,t,e,n){var i=n.createMessageObject({code:s,aParameters:t});var r=f(a,e,n);i.setPrevious(r);return i}function f(a,s,t){var e=t.createMessageObject({code:"5214",aParameters:[a.status,a.statusText]});if(s){e.setPrevious(s)}return e}function o(){var a=e.getStartParameterFacade().getAnalyticalConfigurationId();return a&&a.configurationId}function h(a){var s=[];var t=a.path.steps;t.forEach(function(a){s.push({stepId:a.stepId,selectedRepresentationId:a.binding.selectedRepresentationId})});return{steps:s,indexOfActiveStep:a.path.indicesOfActiveSteps[0]}}function y(a){s.instances.ajaxHandler.send(a)}};s("sap.apf.cloudFoundry.AnalysisPathProxy",t);return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/modelerProxy", ["sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/cloudFoundry/utils","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery"],function(e,i,n,jQuery){"use strict";function a(e,a){var t=a.instances.messageHandler;var r=a.manifests.manifest;var o=r["sap.app"].dataSources;var l=o&&o["apf.designTime.customer.applications"]&&o["apf.designTime.customer.applications"].uri;var c=o&&o["apf.designTime.customer.analyticalConfigurations"]&&o["apf.designTime.customer.analyticalConfigurations"].uri;var u=o&&o["apf.designTime.customer.applicationAndAnalyticalConfiguration"]&&o["apf.designTime.customer.applicationAndAnalyticalConfiguration"].uri;var s=o&&o["apf.designTime.textFileAndAnalyticalConfigurations"]&&o["apf.designTime.textFileAndAnalyticalConfigurations"].uri;var f=o&&o["apf.designTime.textFiles"]&&o["apf.designTime.textFiles"].uri;var d=o&&o["apf.designTime.vendor.importToCustomerLayer"]&&o["apf.designTime.vendor.importToCustomerLayer"].uri;var p=o&&o["apf.designTime.vendor.analyticalConfigurations"]&&o["apf.designTime.vendor.analyticalConfigurations"].uri;var g=a.instances.proxyTextHandlerForLocalTexts;var y=i.resolveUri.bind(this,a.instances.coreApi);function v(){return{}}function m(e){var i=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;i.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(i);return e}this.create=function(e,i,n){if(e==="application"){T(i,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=m(i);var a=i.AnalyticalConfiguration;_({type:"HEAD",url:y(c+"/"+a),success:function(){var e=t.createMessageObject({code:"5238",aParams:[a]});n(undefined,undefined,e)},error:function(e,a,r,o){if(e.status===404){O(i,function(e,a){n(i,e,a)})}else{var l=D(e,o,t);n(undefined,undefined,l)}}})}else if(e==="configuration"){i=m(i);C(i,n)}else if(e==="texts"){A(i,n)}else{t.check(false,"The create operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function T(e,a){var r={applicationName:e.ApplicationName,textFile:{inDevelopmentLanguage:""}};var o="POST";var c=y(l);if(e.Application){o="PUT";c=c+"/"+e.Application}_({type:o,url:c,data:JSON.stringify(r),dataType:"json",success:function(r,l,c){if(o==="POST"&&r&&!n(r)){var u={ApplicationName:e.ApplicationName,Application:r.application};a(u,v(),undefined)}else if(o==="PUT"){var u={ApplicationName:e.ApplicationName,Application:e.Application};a(u,v(),undefined)}else{var s=i.buildErrorMessage(c,"5227",[],undefined,t);a(undefined,v(),s)}},error:function(e,n,r,o){var l=i.buildErrorMessage(e,"5227",[],o,t);a(undefined,v(),l)},async:true})}function C(e,a){var r=e.Application;var o={analyticalConfigurationName:e.AnalyticalConfigurationName,application:r,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration,textFile:{inDevelopmentLanguage:g.createTextFileOfApplication(r)}};_({type:"POST",url:y(c),data:JSON.stringify(o),dataType:"json",success:function(e,l,c){if(e&&!n(e)){var u={AnalyticalConfiguration:e.analyticalConfiguration,AnalyticalConfigurationName:o.analyticalConfigurationName};a(u,v(),undefined)}else{var s=i.buildErrorMessage(c,"5226",[r],undefined,t);a(undefined,v(),s)}},error:function(e,n,o,l){var c=i.buildErrorMessage(e,"5226",[r],l,t);a(undefined,v(),c)},async:true})}function A(e,i){var n=g.addText(e);e.TextElement=n;i(e,v())}this.readCollection=function(e,i,n,a,r){if(e==="application"){h(i)}else if(e==="configuration"){x(i,r)}else if(e==="texts"){i([],undefined)}else{t.check(false,"The read collection operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function h(e){var a=y(l+"?$select=Application,ApplicationName");_({type:"GET",url:a,success:function(a,r,o){if(a&&!n(a)){var l=[];if(a.applications!==null){a.applications.forEach(function(e){l.push({Application:e.application,ApplicationName:e.applicationName,SemanticObject:""})})}e(l,v(),undefined)}else{var c=i.buildErrorMessage(o,"5229",[],undefined,t);e(undefined,v(),c)}},error:function(n,a,r,o){var l=i.buildErrorMessage(n,"5229",[],o,t);e(undefined,v(),l)},async:true})}function x(e,a){var r=a.getFilterTermsForProperty("Application");var o=r[0].getValue();var l=y(s+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration&$filter="+a.toUrlParam());_({type:"GET",url:l,success:function(a,r,l){if(a&&!n(a)){var c=[];if(a.analyticalConfigurations!==null){a.analyticalConfigurations.forEach(function(e){c.push({AnalyticalConfiguration:e.analyticalConfiguration,Application:o,AnalyticalConfigurationName:e.analyticalConfigurationName,SerializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}g.initApplicationTexts(o,a.textFile.inDevelopmentLanguage);e(c,v(),undefined)}else{var u=i.buildErrorMessage(l,"5223",[o],undefined,t);e(undefined,v(),u)}},error:function(n,a,r,l){var c=i.buildErrorMessage(n,"5223",[o],l,t);e(undefined,v(),c)},async:true})}this.readEntity=function(e,i,n,a,r){if(e==="configuration"){var o=n[0].value;if(a&&a.length===2&&a.includes("CreationUTCDateTime")&&a.includes("LastChangeUTCDateTime")){N(o,r,i)}else{E(o,r,i)}}else{t.check(false,"The read single entity operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function N(e,a,r){var o=y(c+"/"+e+"?$select=Application,CreationUtcDateTime,LastChangeUtcDateTime,ServiceInstance");_({type:"GET",url:o,success:function(o,l,c){if(o&&!n(o)){var u={CreationUTCDateTime:o.analyticalConfiguration.creationUtcDateTime,LastChangeUTCDateTime:o.analyticalConfiguration.lastChangeUtcDateTime};r(u,v())}else{var s=i.buildErrorMessage(c,"5221",[a,e],undefined,t);r(undefined,v(),s)}},error:function(n,o,l,c){var u=i.buildErrorMessage(n,"5221",[a,e],c,t);r(undefined,v(),u)},async:true})}function E(e,a,r){var o=y(c+"/"+e+"?$select=AnalyticalConfigurationName,SerializedAnalyticalConfiguration");_({type:"GET",url:o,success:function(o,l,c){if(o&&!n(o)){var u={Application:a,SerializedAnalyticalConfiguration:o.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:e};r(u,v(),undefined)}else{var s=i.buildErrorMessage(c,"5221",[a,e],undefined,t);r(undefined,v(),s)}},error:function(n,o,l,c){var u=i.buildErrorMessage(n,"5221",[a,e],c,t);r(undefined,v(),u)},async:true})}this.update=function(e,i,n,a){if(e==="application"){var r=a[0].value;b(i,r,n)}else if(e==="configuration"&&i.CreationUTCDateTime&&i.LastChangeUTCDateTime){i=m(i);O(i,n)}else if(e==="configuration"){i=m(i);S(i,n)}else{t.check(false,"The update operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function b(e,n,a){var r={applicationName:e.ApplicationName};var o=y(l+"/"+n);_({type:"PUT",url:o,data:JSON.stringify(r),dataType:"json",success:function(e,i,n){a(v(),undefined)},error:function(e,r,o,l){var c=i.buildErrorMessage(e,"5228",[n],l,t);a(v(),c)},async:true})}function S(e,n){var a=JSON.parse(e.SerializedAnalyticalConfiguration);var r=e.AnalyticalConfiguration;var o=y(c+"/"+r);var l=e.Application;a.configHeader={Application:l,AnalyticalConfiguration:r,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};var u={analyticalConfigurationName:e.AnalyticalConfigurationName,serializedAnalyticalConfiguration:JSON.stringify(a),textFile:{inDevelopmentLanguage:g.createTextFileOfApplication(l)}};_({type:"PUT",url:o,data:JSON.stringify(u),dataType:"json",success:function(e,i,a){n(v(),undefined)},error:function(e,a,o,c){var u=i.buildErrorMessage(e,"5233",[l,r],c,t);n(v(),u)},async:true})}function O(e,n){var a=JSON.parse(e.SerializedAnalyticalConfiguration);var r=a.configHeader.AnalyticalConfiguration;var o=y(u+"/"+r);var l=e.Application;var c={analyticalConfigurationName:e.AnalyticalConfigurationName,application:l,serializedAnalyticalConfiguration:e.SerializedAnalyticalConfiguration};_({type:"PUT",url:o,data:JSON.stringify(c),dataType:"json",success:function(e,i,a){n(v(),undefined)},error:function(e,a,o,c){var u=i.buildErrorMessage(e,"5233",[l,r],c,t);n(v(),u)},async:true})}this.remove=function(e,i,n,a,r,o){if(e==="application"){var l=i[0].value;F(l,n)}else if(e==="configuration"){var c=i[0].value;L(c,r,n)}else{t.check(false,"The delete operation on entity set "+e+" is currently not supported by the modeler proxy.")}};function F(e,n){var a=y(l+"/"+e);_({type:"DELETE",url:a,success:function(e,i,a){n(v(),undefined)},error:function(a,r,o,l){var c=i.buildErrorMessage(a,"5237",[e],l,t);n(v(),c)},async:true})}function L(e,n,a){var r=y(c+"/"+e);_({type:"DELETE",url:r,success:function(e,i,n){a(v(),undefined)},error:function(r,o,l,c){var u=i.buildErrorMessage(r,"5225",[n,e],c,t);a(v(),u)},async:true})}this.doChangeOperationsInBatch=function(e,i,n,a){e.forEach(function(e){if(e.entitySetName!=="texts"){t.check(false,"The create/update/delete operation in batch on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}e.application=n});this._readConfigurationListAndTextFile(n).then(function(t){var r=t.textFile.inDevelopmentLanguage;this._initText(n,r);this._applyChangesOnTextFile(e);var o=this._createTextFileOfApplication(n);this._updateRemoteTextFile(n,"DEV",o,a).then(function(){i(undefined)},function(e){i(e)})}.bind(this),function(e){i(e)})};this._readConfigurationListAndTextFile=function(e){var n="'";var a=new Promise(function(a,r){var o=y(s+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,SerializedAnalyticalConfiguration"+"&$filter=(Application%20eq%20"+n+e+n+")");_({type:"GET",url:o,success:function(e,i,n){var t=[];if(e.analyticalConfigurations!==null){e.analyticalConfigurations.forEach(function(e){t.push({analyticalConfiguration:e.analyticalConfiguration,analyticalConfigurationName:e.analyticalConfigurationName,serializedAnalyticalConfiguration:e.serializedAnalyticalConfiguration})})}var r={analyticalConfigurations:t,textFile:{inDevelopmentLanguage:e.textFile.inDevelopmentLanguage}};a(r)},error:function(n,a,o,l){var c=i.buildErrorMessage(n,"5222",[e],l,t);r(c)},async:true})});return a};this._initText=function(e,i){g.initApplicationTexts(e,i)};this._applyChangesOnTextFile=function(e){e.forEach(function(e){if(e.entitySetName==="texts"){switch(e.method){case"POST":var i=e.data;this._createOrUpdateLocalText(i);break;case"PUT":var n=e.data;this._createOrUpdateLocalText(n);break;case"DELETE":var a=e.application;var r=e.inputParameters[0].value;this._deleteLocalText(a,r);break;default:t.check(false,"The method "+e.method+" is not supported during text processing in batch mode by the modeler proxy.");break}}else{t.check(false,"The create/update/delete operation on entity set "+e.entitySetName+" is not supported by the modeler proxy.")}}.bind(this))};this._createTextFileOfApplication=function(e){return g.createTextFileOfApplication(e)};this._createOrUpdateLocalText=function(e){g.addText(e)};this._deleteLocalText=function(e,i){var n={application:e,inputParameters:[{value:i}]};g.removeText(n)};this._updateRemoteTextFile=function(e,n,a,r){var o=new Promise(function(o,l){var c;if(r===true){c=y(f+"/"+e)}else{c=y(f+"/"+e+"/"+n)}var u={serializedTextFile:a};_({type:"PUT",data:JSON.stringify(u),url:c,success:function(e,i,n){o()},error:function(n,a,r,o){var c=i.buildErrorMessage(n,"5230",[e],o,t);l(c)},async:true})});return o};this.readCollectionsInBatch=function(e,i){var n=e[0];t.check(n.entitySetName==="configuration","wrong usage, only 'configuration' is allowed");var a=n.filter.getFilterTermsForProperty("Application");var r=a[0].getValue();function o(){function e(e,n,a){if(a){i(undefined,a)}else{var t=[];t.push(e);t.push(g.getTextElements(r));i(t)}}return e}this.readCollection(n.entitySetName,o(),n.inputParameters,n.selectList,n.filter)};function D(e,i,n){var a=n.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});if(i){a.setPrevious(i)}return a}this.importVendorContent=function(e,i,n,a,t){this.readAllConfigurationsFromVendorLayer().done(function(r){U(e,i,n,a,t,r)}).fail(function(e){a(undefined,undefined,e)})};function U(e,i,n,a,r,o){var l;var u,s;var f=e+"."+i;for(l=0;l<o.length;l++){if(o[l].value===f){s=o[l].configurationText;u=o[l].applicationText;break}}_({type:"HEAD",url:y(c+"/"+i),success:function(){n(g,v,s)},error:function(e,n,r,o){if(e.status===404){z(i,d)}else{var l=D(e,o,t);a(undefined,undefined,l)}}});function d(i,n,t){if(!t){r(e,u)}a(i,n,t)}function g(){z(i,a)}function v(n){var r=y(p+"/"+i+"?$select=SerializedAnalyticalConfiguration");_({type:"GET",url:r,success:function(i){P(e,n,i.serializedAnalyticalConfiguration,a)},error:function(e,i,n,r){var o=D(e,r,t);a(undefined,undefined,o)}})}}function P(e,i,n,a){var r=y(c);var o={analyticalConfigurationName:i,application:e,serializedAnalyticalConfiguration:n};_({type:"POST",url:r,dataType:"json",data:JSON.stringify(o),success:function(e){a(e.analyticalConfiguration)},error:function(e,i,n,r){var o=D(e,r,t);a(undefined,undefined,o)}})}function z(e,i){_({type:"PUT",url:y(d+"/"+e),contentType:"application/x-www-form-urlencoded",success:function(){i(e)},error:function(e,n,a,r){var o=D(e,r,t);i(undefined,undefined,o)}})}var M;this.readAllConfigurationsFromVendorLayer=function(){var e=jQuery.Deferred();if(M){e.resolve(M)}else{_({url:y(p+"?$select=Application,ApplicationName,AnalyticalConfiguration,AnalyticalConfigurationName"),success:function(i){var n=[];if(i!==null){i.forEach(function(e){n.push({configurationText:e.analyticalConfigurationName,applicationText:e.applicationName,value:e.application+"."+e.analyticalConfiguration})})}M=n;e.resolve(n)},error:function(i,n,a,r){var o=D(i,r,t);var l=t.createMessageObject({code:"5231"});l.setPrevious(o);e.reject(l)}})}return e.promise()};function _(e){return a.instances.ajaxHandler.send(e)}}var t={ModelerProxy:a};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/runtimeProxy", ["sap/apf/cloudFoundry/utils","sap/apf/utils/exportToGlobal","sap/base/i18n/Localization"],function(a,e,i){"use strict";function t(e,t){var n=t.instances.messageHandler;var r=t.instances.coreApi;var s=t.manifests.manifest;var o=s["sap.app"].dataSources;var c=i.getLanguage();var l={"Content-Type":"application/json; charset=utf-8","Accept-Language":c};var u=o&&o["apf.runtime.analyticalConfigurationAndTextFiles"]&&o["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!u){n.putMessage(n.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}))}var f=a.resolveUri.bind(this,t.instances.coreApi);function p(){return{}}this.readEntity=function(a,e,i){n.check(a==="configuration");var t=i[0].value;var s=this;this.textFiles=undefined;var o=f(u+"/"+t);r.ajax({url:o,success:function(a){var i=JSON.parse(a.analyticalConfiguration.serializedAnalyticalConfiguration);var n=i.configHeader&&i.configHeader.Application;var r={SerializedAnalyticalConfiguration:a.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:t,Application:n,AnalyticalConfigurationName:a.analyticalConfiguration.analyticalConfigurationName};s.textFiles=a.textFiles;e(r,p())},error:function(a,i,t,r){var s=n.createMessageObject({code:"5057",aParameters:[o]});if(r){s.setPrevious(r)}e(undefined,p(),s)},headers:l})};this.readCollection=function(e,i,t,r,s){n.check(e==="texts");var o=s.getFilterTermsForProperty("Application");var c=o[0].getValue();if(!this.textFiles){i(undefined,p(),n.createMessageObject({code:"5222",aParameters:[c]}));return}var l=a.mergeReceivedTexts(this.textFiles,n);i(l.texts,p(),l.messageObject)}}e("sap.apf.cloudFoundry.RuntimeProxy",t);return t},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation", ["sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(e,t,a){"use strict";function o(o,n){var r=new a;var i=n.getAnalyticalConfigurationId().configurationId;var u=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.HEADER);var g=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.SUBHEADER);var c=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.ICON)||"";var m=n.getParameter(e.BOOKMARK_LINK_PARAMETERS.GROUP)||"";o.getApplicationConfigProperties().then(function(a){u=u||o.getTextNotHtmlEncoded(a.appTitle);g=g||o.getTextNotHtmlEncoded("bookmarkSubheaderDefault");t.confirm(o.getTextNotHtmlEncoded("bookmarkConfirmation",[u]),{title:o.getTextNotHtmlEncoded("bookmarkConfirmationTitle"),onClose:function(a){if(a==t.Action.OK){var o=e.generateRuntimeLink(i);e.setBookmarkTile(o,u,g,c,m)}r.replaceHash(e.generateRuntimeHash(i))}})})}return{show:o}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/controller/ShareDialog.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/library","sap/m/MessageBox","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils","sap/ui/core/Fragment","sap/ui/core/IconPool","sap/ui/core/library"],function(e,t,i,o,a,r,n,s){"use strict";const{ValueState:l}=s;var u="sap.apf.cloudFoundry.ui.sharedialog";return e.extend(u+".controller.ShareDialog",{onInit:function(){var e=this.getOwnerComponent();this.oCoreApi=e.oCoreApi;var t=this.getView();var i=t.getViewData();if(i.oController.configEditor.isSaved()){this._pDialogInitialized=this.initializeDialog()}else{o.warning(this.translate("unsavedStateWarning"),{onClose:function(){t.destroy();this.destroy()}.bind(this)})}},whenDialogInitialized(){return this._pDialogInitialized},initializeDialog:async function(){var e=this.oDialog=await this.loadFragment({name:"sap.apf.cloudFoundry.ui.sharedialog.fragment.ShareDialog"});var i=this.getView();var o=i.getViewData();this.config=o.oController._getNodeData({},"configuration").data;this.runtimeLink=a.generateRuntimeLink(this.config.AnalyticalConfiguration);this.ui=new t({TileHeader:this.config.name,TileHeaderDefault:this.config.name,TileSubheader:this.translate("bookmarkSubheaderDefault"),TileIcon:"",TileIconValueState:l.None,TileGroup:""});i.setModel(this.ui,"ui");this.updateTileTooltip();var r=i.byId("tilePreview");r.addDelegate({onAfterRendering:function(){r.getDomRef().setAttribute("tabindex",-1)}});e.open()},updateTileTooltip:function(){var e="";e+=this.translate("bookmarkTooltipHeader",this.ui.getProperty("/TileHeader"));e+="\n"+this.translate("bookmarkTooltipSubheader",this.ui.getProperty("/TileSubheader"));var t=this.ui.getProperty("/TileIcon");if(t!==""){e+="\n"+this.translate("bookmarkTooltipIcon",t)}var i=this.ui.getProperty("/TileGroup");if(i!==""){e+="\n"+this.translate("bookmarkTooltipGroup",i)}this.ui.setProperty("/TileTooltip",e)},selectText:function(e,t,i){var o=document.getElementById(e.getIdForLabel());o.select();o.setSelectionRange(t,i)},showLinkDialog:function(e){var t=this;var i=this.getView();r.load({id:i.getId(),name:u+".fragment.ShowLinkDialog",controller:{getView:function(){return i.byId("showLinkDialog")},translate:t.translate.bind(t),onBeforeOpen:function(){var t=i.byId("textAreaLink");t.setValue(e)},onAfterOpen:function(){var o=i.byId("textAreaLink");if(e!==undefined){t.selectText(o,0,e.length)}},onAfterClose:function(){this.getView().destroy();i.removeDependent(this.getView())},onButtonClosePress:function(){this.getView().close()}}}).then(function(e){i.addDependent(e);e.open()})},getBookmarkLink:function(){var e=this.getView();var t=e.byId("inputHeader").getValue();var i=e.byId("inputSubheader").getValue();var o=e.byId("inputIcon").getValue();var r=e.byId("inputGroup").getValue();var s=n.getIconInfo(o);if(s){o=s.uri}else{o=""}var l=this.runtimeLink;return new Promise(function(e){setTimeout(function(){e()},2e3)}).then(function(){return a.buildBookmarkLink(l,t,i,o,r)})},onShowLink:function(){var e=this.getBookmarkLink();this.showLinkDialog(e)},onSendEmail:function(){var e=this.ui.getProperty("/TileHeader");var t=this.getBookmarkLink();var o=this.translate("helpLink");var a=this.translate("emailTemplateSubject",e);var r=this.translate("emailTemplateText",e,t,o);i.URLHelper.triggerEmail("",a,r)},onMarkFavorite:function(){var e=this.ui.getProperty("/TileHeader");var t=this.ui.getProperty("/TileSubheader");var i=this.ui.getProperty("/TileIcon");var o=this.ui.getProperty("/TileGroup");a.setBookmarkTile(this.runtimeLink,e,t,i,o)},onHeaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.config.name}this.ui.setProperty("/TileHeader",t);this.updateTileTooltip()},onSubheaderChange:function(e){var t=e.getParameters().value;if(t==""){t=this.translate("bookmarkSubheaderDefault")}this.ui.setProperty("/TileSubheader",t);this.updateTileTooltip()},onIconChange:function(e){var t=e.getParameters().value;var i=n.getIconInfo(t);if(t===""){this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",l.None)}else if(i){this.ui.setProperty("/TileIcon",i.uri);this.ui.setProperty("/TileIconValueState",l.None)}else{this.ui.setProperty("/TileIcon","");this.ui.setProperty("/TileIconValueState",l.Error)}this.updateTileTooltip()},onGroupChange:function(e){var t=e.getParameters().value;this.ui.setProperty("/TileGroup",t);this.updateTileTooltip()},onClose:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},getDialog:function(){return this.getView().byId("shareDialog")},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/sharedialog/showShareDialog", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/mvc/ViewType"],function(e,o){"use strict";var i="sap.apf.cloudFoundry.ui.sharedialog";async function a(a,r){e.createView(a.getComponent(),{viewName:i+".view.ShareDialog",type:o.XML,viewData:{oCoreApi:a,oController:r}})}return{show:a}});
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ComponentCorrector", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/mvc/View"],function(n,t,e){"use strict";var o="sap.apf.cloudFoundry.ui.utils";var r=n.extend(o+".ComponentCorrector",{constructor:function(n){if(!(this instanceof r)){throw Error('Cannot instantiate object: "new" is missing!')}if(n instanceof t){this.oComponent=n}else{throw Error('Cannot instantiate object: "oComponent" is not a Component!')}},runAsComponent:function(n){return this.oComponent.runAsOwner(n)},createView:function(n){var t=this.oComponent;return this.runAsComponent(function(){return e.create(n).then(function(n){if(!n.bIsDestroyed){Object.keys(t.oModels).forEach(function(e){if(!n.getModel(e)){n.setModel(t.getModel(e),e)}});n.setParent(t);return n}return null})})}});r.createView=function(n,t){return new r(n).createView(t)};return r},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/LaunchPageUtils", ["sap/base/security/encodeURLParameters"],function(e){"use strict";var i={BOOKMARK:"bookmark",HEADER:"tile-header",SUBHEADER:"tile-subheader",ICON:"tile-icon",GROUP:"tile-group"};function r(e){return sap.ui.require("sap/ushell/Container").getServiceAsync("CrossApplicationNavigation").then(function(i){var r=i.hrefForExternalAsync({target:{semanticObject:"FioriApplication",action:"executeAPFConfiguration"},params:{"sap-apf-configuration-id":e}})||"";return r})}function n(e){var i=jQuery(window.location).attr("href").split("#")[0].split("?")[0];var n=r(e);return n.then(function(e){return i+e})}function t(r,n,t,a,o){if(!r.includes("#")){return null}var u={};u[i.BOOKMARK]=true;if(n){u[i.HEADER]=n}if(t){u[i.SUBHEADER]=t}if(a){u[i.ICON]=a}if(o){u[i.GROUP]=o}var s=r.split("#");var c=s[s.length-1];var l=e(u);var f=r;f+=c.includes("?")?"&":"?";f+=l;return f}function a(e,i,r,n,t){sap.ui.require("sap/ushell/Container").getService("LaunchPage").getGroups().then(function(a){var o;if(t){a.forEach(function(e){if(e.identification.id===t){o=e}});if(o===undefined){throw"group not found"}}var u={title:i,subtitle:r,url:e,icon:n};var s=sap.ui.require("sap/ushell/Container").getService("Bookmark");s.deleteBookmarks(e);s.addBookmark(u,o)})}return{BOOKMARK_LINK_PARAMETERS:i,generateRuntimeHash:r,generateRuntimeLink:n,buildBookmarkLink:t,setBookmarkTile:a}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/utils/ODataServiceUtils", ["sap/ui/model/odata/v2/ODataModel","sap/ui/thirdparty/jquery"],function(e,jQuery){"use strict";var t="/destination/";var n="/sap/opu/odata/iwfnd/catalogservice;v=2/";var r="/$metadata";var a="/odata/v2/";var i={CATALOG:"CATALOG",SERVICE:"SERVICE",OTHER:"OTHER"};var o={PENDING:"PENDING",ANALYTICAL_SERVICE:"ANALYTICAL_SERVICE",NOT_ANALYTICAL_SERVICE:"NOT_ANALYTICAL_SERVICE",WRONG_ODATA_VERSION:"WRONG_ODATA_VERSION",NOT_ACCESSIBLE:"NOT_ACCESSIBLE"};function u(e){return t+e+n}function s(e){var t=(e||"").match(new RegExp("https?:\\/\\/[^\\/]+\\/(.+)"));return t?"/"+t[1]:""}function f(e,t){if(!e||typeof e!=="string"||!t||typeof t!=="string"){return undefined}else if(!t.includes("://")){return undefined}var n;if(e.startsWith(t)){n=e.slice(t.length)}else if(e.includes("://")){return undefined}else{n=e}if(n.startsWith("/")){return n}return"/"+n}function c(e,n){return t+e+n}function E(e){var a=function(e,a){jQuery.ajax(t+e.name+r).then(function(){a(i.SERVICE)}).fail(function(){if(e.proxyType=="OnPremise"){jQuery.ajax(t+e.name+n).then(function(){a(i.CATALOG)}).fail(function(){a(i.OTHER)})}else{a(i.OTHER)}})};return e.map(function(e){return new Promise(function(t){a(e,t)})}).reduce(function(t,n,r){t[e[r].name]=n;return t},{})}function A(t,n){return new Promise(function(r,a){var i=c(t,n);var u=new e(i);u.attachMetadataFailed(function(e){var t=e.getParameter("response");if(t&&t.headers["odata-version"]&&!t.headers["odata-version"].startsWith("2")){a(o.WRONG_ODATA_VERSION)}else{a(o.NOT_ACCESSIBLE)}});var s=u.getMetaModel();s.loaded().then(function(){var e=s.getODataEntityContainer().entitySet.some(function(e){return s.getODataEntityType(e.entityType).property.some(function(e){return e["sap:aggregation-role"]==="measure"})});r(e?o.ANALYTICAL_SERVICE:o.NOT_ANALYTICAL_SERVICE)})})}function d(e){return new Promise(function(n,r){jQuery.ajax(t+e+a).done(function(e,t,a){if(a.status===200&&jQuery(e).filter("h1").text().trim()==="OData endpoints:"){var i=jQuery(e).filter("a").map(function(e,t){return{Url:s(t.href)}}).toArray();n(i)}else{r()}}).fail(function(){r()})})}return{DESTINATION_TYPE:i,SERVICE_STATUS:o,getCatalogURL:u,getRelativeServiceURL:s,getFullServiceURL:c,getRelativeURL:f,pingDestinations:E,isAnalyticalService:A,discoverServices:d}},true);
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/controller/CatalogBrowser.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/IconPool","sap/ui/core/Item","sap/ui/core/library","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/m/MessageToast","sap/apf/cloudFoundry/ui/utils/ODataServiceUtils"],function(e,t,a,r,i,n,s,o,l,c,u){"use strict";const{ValueState:S}=r;var d="sap.apf.cloudFoundry.ui.valuehelp";var v={BACK:-1,DESTINATIONS:0,CATALOG:1,URL:2,OVERVIEW:3,OVERVIEW_REDUCED:4,OVERVIEW_SERVICEONLY:5};function h(e,t){return e.getManifestObject().resolveUri(t).toString()}return e.extend(d+".controller.CatalogBrowser",{onInit:function(){var e=this.getOwnerComponent();var t=h(e,e.getManifestEntry("/sap.app/dataSources/apf.destinationCatalog.destinations").uri);this.sDestination=undefined;this.sService=undefined;this.oCoreApi=e.oCoreApi;var a=this.getView();var r=new i({Title:this.translate("selectDestination"),Destination:"",Service:"",ServiceUrlValueState:S.None,SearchEnabled:true,ButtonOkEnabled:false,ButtonSelectEnabled:false,ButtonBackEnabled:false});a.setModel(r,"ui");var n=new i(t);a.setModel(n,"destinations");n.attachRequestCompleted(function(){this.oDestinationStatusPromises=u.pingDestinations(n.getData().destinations)}.bind(this));this.initializeDialog()},initializeDialog:async function(){var e=this.oDialog=await this.loadFragment({name:d+".fragment.CatalogBrowser"});e.removeStyleClass("sapUiPopupWithPadding");e.addStyleClass("sapMSelectDialog");this.addCustomEventDelegates();e.open()},addCustomEventDelegates:function(){var e=this.getView();e.byId("urlInput").addEventDelegate({onkeypress:function(e){if(e.key==="Enter"){this.onSelectServiceUrl()}}.bind(this)})},onSelectDestination:function(e){this.destinationPath=e.getSource().getBindingContext("destinations").getPath();var t=this.getView();var r=t.getModel("destinations");var i=r.getObject(this.destinationPath);this.destinationSearch=t.byId("searchField").getValue();t.byId("searchField").setValue("");this.oDestinationStatusPromises[i.name].then(function(e){switch(e){case u.DESTINATION_TYPE.SERVICE:this.navigate(v.OVERVIEW_SERVICEONLY,{destination:i.name});this.setIsAnalyticalService();t.byId("serviceOnlyOverview").bindElement({path:this.destinationPath,model:"destinations"});break;case u.DESTINATION_TYPE.CATALOG:this.navigate(v.CATALOG,{destination:i.name});this.attachCatalogModel(i.name);break;default:var r=t.byId("urlInput");r.setValue("");r.removeAllItems();r.setShowButton(false);this.navigate(v.URL,{destination:i.name});u.discoverServices(i.name).then(function(e){if(e.length>0){e.forEach(function(e){r.addItem(new a({text:e.Url}))});r.setShowButton(true)}}).catch(function(){});break}}.bind(this))},attachCatalogModel:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];a.bindItems({path:"catalog>/ServiceCollection",sorter:new l("TechnicalServiceName",false),parameters:{custom:{search:""}},template:a.getBindingInfo("items").template});var r=new n(u.getCatalogURL(e));t.setModel(r,"catalog");var i=t.byId("selectService");i.setBusy(true);r.attachMetadataLoaded(function(){i.setBusy(false)});r.attachMetadataFailed(function(e){this.onBack();c.show(this.translate("destinationError",e.getParameter("responseText")));i.setBusy(false)}.bind(this))},onSelectService:function(e){var t=this.getView();var a=e.getSource().getBindingContext("catalog");var r=u.getRelativeServiceURL(a.getProperty("ServiceUrl"));this.navigate(v.OVERVIEW,{service:r});this.setIsAnalyticalService();var i=a.getPath();t.byId("destinationOverview").bindElement({path:this.destinationPath,model:"destinations"});t.byId("serviceOverview").bindElement({path:i,model:"catalog"})},onSelectServiceUrl:function(){var e=this.getView();var t=e.getModel("ui");var a=e.byId("urlInput").getValue();if(!a.startsWith("/")){t.setProperty("/ServiceUrlValueState",S.Error);return}t.setProperty("/ServiceUrlValueState",S.None);this.navigate(v.OVERVIEW_REDUCED,{service:a});this.setIsAnalyticalService();e.byId("reducedDestinationOverview").bindElement({path:this.destinationPath,model:"destinations"})},onCancel:function(){this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onBack:function(){var e=this.getView();var t=this.navigate(v.BACK);switch(t){case v.DESTINATIONS:e.byId("searchField").setValue(this.destinationSearch);break;default:break}},onOk:function(){var e=this.getView();var t=e.getModel("ui");var a=u.getFullServiceURL(t.getProperty("/Destination"),t.getProperty("/Service"));var r=this.getView().getViewData();r.parentControl.fireEvent("selectService",{sSelectedService:a});this.getDialog().close();this.getDialog().destroy();this.getView().destroy();this.destroy()},onLiveChangeSearch:function(e){var t=e.getParameter("newValue");var a=t?300:0;var r=this;clearTimeout(this.iLiveChangeTimer);if(a){this.iLiveChangeTimer=setTimeout(function(){r.executeSearch(t)},a)}else{this.executeSearch(t)}},onSearch:function(e){this.executeSearch(e.getSource().getValue())},executeSearch:function(e){var t=this.getView();var a=t.byId("navContainer").getCurrentPage().getContent()[0];var r=t.getModel("ui").getProperty("/Destination")!=="";if(r){a.bindItems({path:"catalog>/ServiceCollection",sorter:new l("TechnicalServiceName",false),parameters:{custom:{search:e}},template:a.getBindingInfo("items").template})}else{a.getBinding("items").filter(new s({filters:[new s({path:"name",operator:o.Contains,value1:e}),new s({path:"description",operator:o.Contains,value1:e})],and:false}))}},setIsAnalyticalService:function(){var e=this.getView().getModel("ui");var t=e.getProperty("/Destination");var a=e.getProperty("/Service");e.setProperty("/ServiceStatus",u.SERVICE_STATUS.PENDING);return u.isAnalyticalService(t,a).then(function(t){e.setProperty("/ServiceStatus",t)}).catch(function(t){e.setProperty("/ServiceStatus",t)})},serviceStatusIcon:function(e){switch(e){case u.SERVICE_STATUS.ANALYTICAL_SERVICE:return t.getIconURI("status-positive");case u.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return t.getIconURI("status-critical");case u.SERVICE_STATUS.WRONG_ODATA_VERSION:return t.getIconURI("status-error");case u.SERVICE_STATUS.NOT_ACCESSIBLE:return t.getIconURI("status-error");default:return t.getIconURI("status-inactive")}},serviceStatusState:function(e){switch(e){case u.SERVICE_STATUS.ANALYTICAL_SERVICE:return S.Success;case u.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return S.Warning;case u.SERVICE_STATUS.WRONG_ODATA_VERSION:return S.Error;case u.SERVICE_STATUS.NOT_ACCESSIBLE:return S.Error;default:return S.None}},serviceStatusText:function(e){switch(e){case u.SERVICE_STATUS.ANALYTICAL_SERVICE:return this.translate("analyticalService");case u.SERVICE_STATUS.NOT_ANALYTICAL_SERVICE:return this.translate("nonAnalyticalService");case u.SERVICE_STATUS.WRONG_ODATA_VERSION:return this.translate("wrongOdataVersion");case u.SERVICE_STATUS.NOT_ACCESSIBLE:return this.translate("serviceNotAccessible");default:return this.translate("pending")}},proxyTypeIcon:function(e){switch(e){case"OnPremise":return t.getIconURI("it-host");default:return t.getIconURI("cloud")}},proxyTypeText:function(e){switch(e){case"OnPremise":return this.translate("onPremise");default:return this.translate("cloud")}},translate:function(e){return this.oCoreApi.getText(e,Array.prototype.slice.call(arguments,1))},getRelativeServiceURL:u.getRelativeServiceURL,navigate:function(e,t){var a=this.getView();var r=a.getModel("ui");var i=a.byId("navContainer");t=t||{};t.destination=t.destination||r.getProperty("/Destination");t.service=t.service||r.getProperty("/Service");var n;if(e<0){var s=i.getPreviousPage();n=i.indexOfPage(s)}else{n=e}switch(n){case v.DESTINATIONS:r.setProperty("/Title",this.translate("selectDestination"));r.setProperty("/Destination","");r.setProperty("/Service","");r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",true);r.setProperty("/ButtonOkEnabled",false);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",false);break;case v.CATALOG:r.setProperty("/Title",this.translate("selectService",t.destination));r.setProperty("/Destination",t.destination);r.setProperty("/Service","");r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",true);r.setProperty("/ButtonOkEnabled",false);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",true);break;case v.URL:r.setProperty("/Title",this.translate("enterService",t.destination));r.setProperty("/Destination",t.destination);r.setProperty("/Service","");r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",false);r.setProperty("/ButtonOkEnabled",false);r.setProperty("/ButtonSelectEnabled",true);r.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW:r.setProperty("/Title",this.translate("overview"));r.setProperty("/Destination",t.destination);r.setProperty("/Service",t.service);r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",false);r.setProperty("/ButtonOkEnabled",true);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_REDUCED:r.setProperty("/Title",this.translate("overview"));r.setProperty("/Destination",t.destination);r.setProperty("/Service",t.service);r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",false);r.setProperty("/ButtonOkEnabled",true);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",true);break;case v.OVERVIEW_SERVICEONLY:r.setProperty("/Title",this.translate("overview"));r.setProperty("/Destination",t.destination);r.setProperty("/Service","");r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",false);r.setProperty("/ButtonOkEnabled",true);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",true);break;default:r.setProperty("/Title",this.translate("selectDestination"));r.setProperty("/Destination","");r.setProperty("/Service","");r.setProperty("/ServiceUrlValueState",S.None);r.setProperty("/SearchEnabled",true);r.setProperty("/ButtonOkEnabled",false);r.setProperty("/ButtonSelectEnabled",false);r.setProperty("/ButtonBackEnabled",false);n=v.DESTINATIONS;break}if(e<0){i.back()}else{var o=i.getPages()[n];i.to(o)}return n},getDialog:function(){return this.getView().byId("catalogBrowser")}})});
sap.ui.predefine("sap/apf/cloudFoundry/ui/valuehelp/showValueHelp", ["sap/apf/cloudFoundry/ui/utils/ComponentCorrector","sap/ui/core/mvc/ViewType"],function(e,o){"use strict";var a="sap.apf.cloudFoundry.ui.valuehelp";async function i(i,t){e.createView(t.getComponent(),{viewName:a+".view.CatalogBrowser",type:o.XML,viewData:i})}return{show:i}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/uiHandler", ["sap/apf/cloudFoundry/ui/sharedialog/showShareDialog","sap/apf/cloudFoundry/ui/valuehelp/showValueHelp","sap/apf/cloudFoundry/ui/bookmarkconfirmation/showBookmarkConfirmation","sap/apf/cloudFoundry/ui/utils/LaunchPageUtils"],function(a,o,i,r){"use strict";function u(a){var o=a.getApi();var u=o.getStartParameterFacade();var e=u.getAnalyticalConfigurationId().configurationId;var t=u.getParameter(r.BOOKMARK_LINK_PARAMETERS.BOOKMARK);if(e&&t=="true"){i.show(o,u)}}return{showShareDialog:a.show,showValueHelp:o.show,initRuntime:u}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/cloudFoundry/utils", ["sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/apf/utils/parseTextPropertyFile"],function(e,t,r){"use strict";function n(){return["inRequestedLanguage","inAlternateLanguage","inEnglish","inDevelopmentLanguage"]}var s={createErrorMessageObject:function(t,r){var n=new e(t);var s="";if(r){r.forEach(function(e){s=s+e+" "});n.setPrevious(new e({code:"5220",aParameters:[s]}))}return n},buildErrorMessage:function(e,t,r,n,s){var a=s.createMessageObject({code:"5214",aParameters:[e.status,e.statusText]});var i=s.createMessageObject({code:t,aParameters:r});if(n){i.setPrevious(n);n.setPrevious(a)}else{i.setPrevious(a)}return i},mergeReceivedTexts:function(s,a){var i=undefined;var o=new t(a);var u=n();u.forEach(function(t){var n=s[t];if(!n||n==="null"){return}var u=r(n,{instances:{messageHandler:a}});var c;if(u.Messages.length>0){i=i||new e({code:"5416"});c=i;u.Messages.forEach(function(e){c.setPrevious(e);c=e})}u.TextElements.forEach(function(e){if(e.TextElement&&!o.hasItem(e.TextElement)){o.setItem(e.TextElement,e)}})});var c=[];o.getKeys().forEach(function(e){c.push(o.getItem(e))});return{texts:c,messageObject:i}},resolveUri:function e(t,r){if(t&&t.getComponent&&t.getComponent()){return t.getComponent().getManifestObject().resolveUri(r)}return r}};return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/ajax", ["sap/apf/core/utils/checkForTimeout","sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,s,a,t,jQuery){"use strict";function n(s){var n=s.instances&&s.instances.messageHandler;var r=a({},s);if(r.functions&&r.functions.ajax){delete r.functions.ajax}if(r.functions&&r.functions.getSapSystem){delete r.functions.getSapSystem}if(r.instances&&r.instances.messageHandler){delete r.instances.messageHandler}if(r.suppressSapSystem){delete r.suppressSapSystem}var i=r.beforeSend;var c=r.success;var u=r.error;var f;var o;var p=s.functions&&s.functions.ajax||jQuery.ajax;r.beforeSend=function(e,s){if(i){i(e,s)}};if(s.functions&&s.functions.getSapSystem&&s.functions.getSapSystem()&&!s.suppressSapSystem){r.url=t.setOrigin(r.url,{force:true,alias:s.functions.getSapSystem()})}var l=function(s,a,t){var n;try{n=e(t);if(n){u(s,"error",undefined,n)}else{c(s,a,t)}}catch(e){S(e)}};var d=function(s,a,t){var n;try{n=e(s);if(n){u(s,a,t,n)}else{u(s,a,t)}}catch(e){S(e)}};if(r.async!==undefined&&r.async===false){r.success=l;r.error=d;o=p(r);if(n&&n.isOwnException(f)){throw new Error(f&&f.message||"")}}else{delete r.success;delete r.error;o=p(r).done(function(e,s,a){l(e,s,a)}).fail(function(e,s,a){d(e,s,a)})}return o;function S(e){var s;var a;f=e;if(!n.isOwnException(e)){s=e&&e.message||"";a=n.createMessageObject({code:"5042",aParameters:[s]});n.putMessage(a)}}}s("sap.apf.core.ajax",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/binding", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/utils/exportToGlobal","sap/base/util/deepExtend"],function(e,t,n,r,i){"use strict";function a(n,r,a,s){var o=this;this.type="binding";var d=0;var c=[];var l=[];var p=[];var u;this.oTitle=r.oTitle;this.oLongTitle=r.oLongTitle;var f=r.requiredFilters;var g=r.requiredFilterOptions;this.destroy=function(){c.forEach(function(e){if(e&&e.destroy){e.destroy()}});c=[];l=[];p=[];u=undefined};function h(e,t){if(n.exits&&n.exits.binding&&n.exits.binding.afterGetFilter){return n.exits.binding.afterGetFilter(e,o.getSelectedRepresentation(),n.instances.coreApi,r,t)}return e}this.getFilter=function(r){var i=this.getSelectedRepresentation();var a=e.filterMethodTypes;var s=[];var o;if(i.getFilterMethodType()===a.filter){var d=i.getFilter().getInternalFilter();return h(d,r)}if(i.getSelectionAsArray){s=i.getSelectionAsArray()}else{return h(new t(n.instances.messageHandler),r)}if(s===undefined){o=t.createEmptyFilter(n.instances.messageHandler,f);return h(o,r)}if(s.length===p.length||s.length===0){return h(new t(n.instances.messageHandler),r)}o=t.createFromArray(n.instances.messageHandler,f,p,s);return h(o,r)};this.getRequiredFilters=function(){return f};this.getRequiredFilterOptions=function(){return g};this.getRequestOptions=function(e){if(typeof this.getSelectedRepresentation().getRequestOptions==="function"){return this.getSelectedRepresentation().getRequestOptions(e)}return{}};this.setFilterValues=function(e){var t=this.getSelectedRepresentation();t.setFilterValues(e)};this.setData=function(e){n.instances.messageHandler.check(e!==undefined,"aDataResponse is undefined (binding function setData)");p=e.data;u=e.metadata;this.getSelectedRepresentation().setData(e.data,e.metadata,e.count,e.selectionValidation)};this.updateTreetable=function(e,t,n,r){this.getSelectedRepresentation().updateTreetable(e,t,n,r)};this.getSortedSelections=function(){return this.getSelectedRepresentation().getSortedSelections()};this.getRepresentationInfo=function(){var e=i([],l);for(var t=0;t<e.length;t++){delete e[t].id;delete e[t].type;delete e[t].constructor}return e};this.getSelectedRepresentationInfo=function(){n.instances.messageHandler.check(d>=0&&d<l.length,"index in array boundaries");var e=i({},l[d]);delete e.id;delete e.type;delete e.constructor;return e};this.getSelectedRepresentation=function(){n.instances.messageHandler.check(d>=0&&d<c.length,"selectedRepresentation in array boundaries");return c[d]};this.setSelectedRepresentation=function(e){n.instances.messageHandler.check(typeof e==="string","setSelectedRepresentation() - sRepresentationId missing");var t=this;var i=this.getSelectedRepresentation();var s=l(e,r.representations);var o=f(s);d=s.index;if(p!==undefined&&u!==undefined){o.setData(p,u)}if(o.adoptSelection){o.adoptSelection(i)}if(i&&i.onChartSwitch){i.onChartSwitch()}function l(e,t){for(var r=0;r<t.length;r++){if(e===t[r].id){return{config:t[r],constructor:a.getConfigurationById(t[r].representationTypeId).constructor,index:r}}}n.instances.messageHandler.check(false,"Representation config not found")}function f(e){var i;if(c[e.index]===undefined){if(e.config.parameter&&e.config.parameter.alternateRepresentationTypeId){e.config.parameter.alternateRepresentationType=a.getConfigurationById(e.config.parameter.alternateRepresentationTypeId)}e.config.parameter.requiredFilters=r.requiredFilters;e.config.parameter.requiredFilterOptions=r.requiredFilterOptions;i=t.convertSortToOrderBy(e.config.parameter);c[e.index]=n.instances.coreApi.createRepresentation(e.constructor,i);return c[e.index]}return c[e.index]}};this.serialize=function(){return{selectedRepresentation:o.getSelectedRepresentation().serialize(),selectedRepresentationId:o.getSelectedRepresentationInfo().representationId}};this.deserialize=function(e){o.setSelectedRepresentation(e.selectedRepresentationId);o.getSelectedRepresentation().deserialize(e.selectedRepresentation);return o};this.convertSortToOrderBy=function(e){var t;if(e.sort&&!e.orderby){t=i({},e);if(e.alternateRepresentationType){t.alternateRepresentationType=e.alternateRepresentationType}t.orderby=[{property:e.sort.sortField,ascending:!e.sort.descending}];delete t.sort;return t}t=e;return t};c[0]=undefined;var R=false;r.representations.forEach(function(e,t){var n=e.representationTypeId;l[t]=i({},a.getConfigurationById(n));l[t].representationId=e.id;if(s===l[t].representationId){R=true}l[t].representationLabel=e.label;l[t].thumbnail=e.thumbnail;l[t].parameter=i({},e.parameter)});if(R){this.setSelectedRepresentation(s)}else if(l.length>0){this.setSelectedRepresentation(l[0].representationId)}if(!R&&s){n.instances.messageHandler.putMessage(n.instances.messageHandler.createMessageObject({code:"5037",aParameters:[s]}))}}r("sap.apf.core.Binding",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/configurationFactory", ["sap/apf/core/binding","sap/apf/core/constants","sap/apf/core/hierarchicalStep","sap/apf/core/representationTypes","sap/apf/core/request","sap/apf/core/step","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,t,n,i,r,a,s,o,c,f,jQuery){"use strict";var u=t.message.code;function d(s){var d=this;var l;var g=false;var p=jQuery.Deferred();var h=new o(s.instances.messageHandler);var y=function(e){s.instances.messageHandler.check(e!==undefined&&e.hasOwnProperty("id")!==false,"oItem is undefined or property 'id' is missing",u.errorCheckConfiguration);if(!h){h=new o(s.instances.messageHandler)}var t=h.setItem(e.id,e);s.instances.messageHandler.check(t===undefined,"Configuration includes duplicated identifiers (IDs): "+e.id+"",u.errorCheckConfigurationWarning)};var m=function(e){var t=[];if(!g&&p.state()==="pending"){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5020"}))}if(h.getNumberOfItems()!==0){h.each(function(n,i){if(i.type===e){t.push(i)}});return t}return t};function v(e){if(!t.configurationObjectTypes.hasOwnProperty(e.type)){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5033",aParams:[e.type]}))}if(e.type===t.configurationObjectTypes.facetFilter&&!e.property){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5034"}))}h.setItem(e.id,e)}function H(e){if(e.type===undefined){e.type="step"}y(e)}function C(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"aSteps is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){H(e)})}function b(e){if(e.type===undefined){e.type="request"}if(e.entitySet){e.entityType=e.entitySet;delete e.entitySet}y(e)}function k(e){if(e.type===undefined){e.type="navigationTarget"}y(e)}function T(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"aRequests is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){b(e)})}function I(e){function t(){var t=new o(s.instances.messageHandler);e.representations.forEach(function(n){if(!(n.id&&typeof n.id==="string")){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5028",aParameters:[e.id]}))}if(t.setItem(n.id,n.id)){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5029",aParameters:[e.id]}))}})}if(e.type===undefined){e.type="binding"}s.instances.messageHandler.check(e.id!==undefined,"binding has no id");s.instances.messageHandler.check(e.representations!==undefined&&e.representations instanceof Array!==false,"representations for binding "+e.id+" not defined",u.errorCheckConfiguration);t();y(e)}function F(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"aBindings is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){I(e)})}function A(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"navigationTarget is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){k(e)})}function w(e){h.setItem("configHeader",e)}function S(e){if(e.type===undefined){e.type="category"}y(e)}function R(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"aCategories is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){var t=e.steps;s.instances.messageHandler.check(t!==undefined&&t instanceof Array!==false,"steps for category "+e.id+" are missing or not an Array",u.errorCheckConfiguration);t.forEach(function(t){s.instances.messageHandler.check(t.type&&(t.type==="step"||t.type==="hierarchicalStep")&&t.id,"step with wrong format assigned to category '"+e.id+"'");s.instances.messageHandler.check(d.existsConfiguration(t.id),"step with id '"+t.id+"' which is assigned to category '"+e.id+"' does not exist")});S(e)})}function q(e){var t=false;var n=i();n.forEach(function(n){if(e===n.id){t=true}});return t}function M(e){var t;if(e.type===undefined){e.type="representationType"}if(!q(e.id)){t=c.extractFunctionFromModulePathString(e.constructor);if(typeof t!=="function"){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5030",parameters:[e.id]}))}}y(e)}function E(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"aRepresentationInfo is missing or not an Array",u.errorCheckConfiguration);e.forEach(function(e){M(e)})}function P(e){if(e.type===undefined){e.type="smartFilterBar"}v(e)}function B(e){if(e.type===undefined){e.type="facetFilter"}v(e)}function L(e){s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"Facet filter configuration is missing or not an Array",u.errorCheckConfiguration);if(e.length===0){h.setItem(t.existsEmptyFacetFilterArray,true);return}e.forEach(B)}function O(e,t,n,i){var r,a,o;function f(e){return e.alias||e.property}function u(e){var t=e.preselectionDefaults&&e.preselectionDefaults.length>0;var n=e.valueList&&e.valueList.length>0;return t||n}function d(e,t,i,r,a){e.metadataProperty=t;B(e);O(i,r,n,a)}function p(e,t){if(c.isPropertyTypeWithDateSemantics(t)){e.preselectionDefaults=c.convertDateListToInternalFormat(e.preselectionDefaults,t);e.valueList=c.convertDateListToInternalFormat(e.valueList,t)}}if(t===e.length){n.resolve();g=false;return}a=e[t];t++;o=f(a);l=l||s.instances.coreApi.getMetadataFacade();var y=i&&Array.prototype.indexOf.call(i,o)>-1;if(y&&u(a)){if(a.valueHelpRequest||a.filterResolutionRequest){if(a.valueHelpRequest){r=h.getItem(a.valueHelpRequest)}else if(a.filterResolutionRequest){r=h.getItem(a.filterResolutionRequest)}l.getPropertyMetadataByEntitySet(r.service,r.entityType,o).done(function(n){p(a,n);d(a,n,e,t,i)})}else{l.getProperty(o).done(function(n){p(a,n);d(a,n,e,t,i)})}}else if(y){if(a.valueHelpRequest||a.filterResolutionRequest){if(a.valueHelpRequest){r=h.getItem(a.valueHelpRequest)}else if(a.filterResolutionRequest){r=h.getItem(a.filterResolutionRequest)}l.getPropertyMetadataByEntitySet(r.service,r.entityType,o).done(function(n){d(a,n,e,t,i)})}else{l.getProperty(o).done(function(n){d(a,n,e,t,i)})}}else{d(a,{},e,t,i)}}function D(e){var n=jQuery.Deferred();l=l||s.instances.coreApi.getMetadataFacade();s.instances.messageHandler.check(e!==undefined&&e instanceof Array!==false,"Facet filter configuration is missing or not an Array",u.errorCheckConfiguration);if(e.length===0){h.setItem(t.existsEmptyFacetFilterArray,true);n.resolve();return n.promise()}g=true;l.getAllProperties(function(t){O(e,0,n,t)});return n.promise()}function j(e){E(e)}function x(e,t){function n(e,t){var n=t.getConfigurationById(e.binding).representations;if(n){return n}s.instances.messageHandler.check(false,'Binding of step with ID "'+e.id+'" does not contain any representations.',u.errorCheckConfigurationWarning)}function i(e,t){var i;var r=[];if(e.binding){i=n(e,t);i.forEach(function(e){var n=f({},t.getConfigurationById(e.representationTypeId));n.representationId=e.id;n.representationLabel=e.label;n.parameter=f({},e.parameter);r.push(n)});return r}s.instances.messageHandler.check(false,'Step with ID "'+e.id+'" does not contain any binding references.',u.errorCheckConfigurationWarning)}var r=f({},e);var a=i(e,t);delete r.request;delete r.binding;delete r.thumbnail;delete r.longTitle;r.type="stepTemplate";r.getRepresentationInfo=function(){var e=f([],a);e.forEach(function(e){delete e.id;delete e.type;delete e.constructor});return e};return r}var W=function(e,t){var n=this;this.type=e.type;this.id=e.id;this.label=e.label;this.stepTemplates=[];e.steps.forEach(function(e){var i=t.getConfigurationById(e.id);n.stepTemplates.push(new x(i,t))});return this};var U=function(e,t){this.type="thumbnail";if(e===undefined){return this}this.leftUpper=t.createLabel(e.leftUpper);this.rightUpper=t.createLabel(e.rightUpper);this.leftLower=t.createLabel(e.leftLower);this.rightLower=t.createLabel(e.rightLower);this.altTitle=t.createLabel(e.altTitle);return this};this.createThumbnail=function(e){return new U(e,this)};function N(e){this.type="label";this.kind=e.kind;if(this.kind==="text"){this.file=e.file;this.key=e.key}else if(this.kind==="property"){this.property=e.property}else if(this.kind==="sapLabel"){this.labelOf=e.labelOf}}this.createLabel=function(e){return new N(e,this)};this.loadConfig=function(e,t){h=new o(s.instances.messageHandler);if(e.applicationTitle){h.setItem("applicationTitle",e.applicationTitle)}var n={constructors:{Hashtable:o},instances:{messageHandler:s.instances.messageHandler}};c.migrateConfigToCategoryStepAssignment(e,n);var r=i();j(r);C(e.steps);R(e.categories);T(e.requests);F(e.bindings);if(e.representationTypes){E(e.representationTypes)}if(e.smartFilterBar){P(e.smartFilterBar)}if(e.facetFilters){if(t){L(e.facetFilters);p.resolve()}else{D(e.facetFilters).done(function(){p.resolve()})}}else{p.resolve()}if(e.navigationTargets){A(e.navigationTargets)}if(e.configHeader){w(e.configHeader)}return p};this.getConfigurationById=function(e){return h.getItem(e)};this.existsConfiguration=function(e){return h.hasItem(e)};this.getServiceDocuments=function(){var e=m("request");var t=[];e.forEach(function(e){t.push(e.service)});return c.eliminateDuplicatesInArray(s.instances.messageHandler,t)};this.getNavigationTargets=function(){var e=m("navigationTarget");return f([],e)};this.getStepTemplates=function(){var e=[];var t=m("step");t=jQuery.merge(t,m("hierarchicalStep"));t.forEach(function(t,n){e[n]=new x(t,d)});return e};this.getSmartFilterBarConfiguration=function(){var e=jQuery.Deferred();var t;p.done(function(){t=m("smartFilterBar")[0];if(typeof t==="object"&&t.service&&(t.entityType||t.entitySet)){e.resolve(f({},t))}else{e.resolve()}});return e.promise()};this.getFacetFilterConfigurations=function(){var e=m("facetFilter");var t,n,i;var r=f([],e);for(i=0;i<r.length;i++){n=r[i];if(e[i].metadataProperty&&e[i].metadataProperty.clone){n.metadataProperty=e[i].metadataProperty.clone()}if(n.preselectionFunction){t=c.extractFunctionFromModulePathString(n.preselectionFunction);if(typeof t!=="function"){s.instances.messageHandler.putMessage(s.instances.messageHandler.createMessageObject({code:"5035",parameters:[n.id]}));n.preselectionFunction=undefined}else{n.preselectionFunction=t}}}return r};this.getCategories=function(){var e=m("category");var t=[];e.forEach(function(e,n){t[n]=new W(e,d)});return t};this.getConfigHeader=function(){return h.getItem("configHeader")};this.createStep=function(e,t){var i=this.getConfigurationById(e);const r=s.constructors.Step||a.constructor;s.instances.messageHandler.check(i!==undefined&&(i.type==="step"||i.type==="hierarchicalStep"),"Error - referenced object is undefined or has not type step",u.errorCheckConfiguration);s.instances.messageHandler.check(r!==undefined,"Step must be defined ",u.errorCheckConfiguration);s.instances.messageHandler.check(typeof r==="function","Step must be constructor function");if(i.type==="hierarchicalStep"){s.instances.messageHandler.check(typeof n==="function","HierarchicalStep must be constructor function");return new n(s.instances.messageHandler,i,this,t,s.instances.coreApi)}return new r(s.instances.messageHandler,i,this,t,s.instances.coreApi)};this.createBinding=function(t,n,i,r){var a=this.getConfigurationById(t);s.instances.messageHandler.check(a!==undefined&&a.type==="binding","Error - oBindingConfig is undefined or has not type binding",u.errorCheckConfiguration);a.oTitle=n;a.oLongTitle=i;const o=s.constructors.Binding||e;return new o(s,a,this,r)};this.createRequest=function(e){if(e.entitySet){e.entityType=e.entitySet;delete e.entitySet}var t;var n;if(typeof e==="string"){n=d.getConfigurationById(e);if(!(n!==undefined&&n.type==="request")){t=s.instances.messageHandler.createMessageObject({code:"5004",aParameters:[e]});s.instances.messageHandler.putMessage(t);return undefined}}else{n=e;s.instances.messageHandler.check(n.type&&n.type==="request"&&n.service&&n.entityType,"Wrong request configuration when creating a new request");if(!n.id){t=s.instances.messageHandler.createMessageObject({code:"5004",aParameters:[e]});s.instances.messageHandler.putMessage(t);return undefined}}return new(s&&s.constructors&&s.constructors.Request||r)(s,n)};if(s.constructors&&s.constructors.RegistryProbe){this.getRegistry=function(){return new s.constructors.RegistryProbe(h)}}}s("sap.apf.core.ConfigurationFactory",d);return d});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/constants", ["sap/ui/model/FilterOperator"],function(e){"use strict";var t={};t.filterMethodTypes={selectionAsArray:"saa",filter:"f"};t.FilterOperators=e;t.BooleFilterOperators={AND:"and",OR:"or",NOT:"not"};t.aSelectOpt=[t.FilterOperators.EQ,t.FilterOperators.NE,t.FilterOperators.GT,t.FilterOperators.LT,t.FilterOperators.GE,t.FilterOperators.LE,t.FilterOperators.BT,t.FilterOperators.StartsWith,t.FilterOperators.Contains,t.FilterOperators.EndsWith];t.resourceLocation={applicationMessageDefinitionLocation:"applicationMessageDefinitionLocation",applicationMessageTextBundle:"applicationMessageTextBundle",apfUiTextBundle:"apfUiTextBundle",applicationUiTextBundle:"applicationUiTextBundle",analyticalConfigurationLocation:"analyticalConfigurationLocation"};t.message={};t.message.severity={fatal:"fatal",warning:"warning",error:"error",technError:"technError",information:"information",success:"success"};t.message.code={suppressFurtherException:"APFapf1972",errorCheck:"5100",errorCheckWarning:"5101",errorCheckConfiguration:"5102",errorCheckConfigurationWarning:"5103",errorUnknown:"9000",errorExitTriggered:"9001",errorInMessageDefinition:"9003"};t.eventTypes={contextChanged:"contextChanged",printTriggered:"printTriggered",format:"format"};t.configurationObjectTypes={facetFilter:"facetFilter",smartFilterBar:"smartFilterBar"};t.existsEmptyFacetFilterArray="__existsEmptyFacetFilterArray__";t.entitySets={application:"ApplicationQueryResults",configuration:"AnalyticalConfigurationQueryResults",texts:"TextElementQueryResults",logicalSystem:"SAPClientQuery",analysisPath:"AnalysisPathQueryResults",smartBusiness:"EVALUATIONS"};t.modelerPersistenceServiceRoot="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata";t.developmentLanguage="";t.textKeyForInitialText="00000000000000000000000000000000";t.representationMetadata={kind:{XAXIS:"xAxis",XAXIS2:"xAxis2",YAXIS:"yAxis",YAXIS2:"yAxis2",BUBBLEWIDTH:"bubbleWidth",SECTORSIZE:"sectorSize",LEGEND:"legend",SECTORCOLOR:"sectorColor",REGIONCOLOR:"regionColor",REGIONSHAPE:"regionShape",COLUMN:"column",HIERARCHIALCOLUMN:"hierarchicalColumn"},labelDisplayOptions:{KEY:"key",TEXT:"text",KEY_AND_TEXT:"keyAndText"},measureDisplayOptions:{BAR:"bar",LINE:"line"}};t.vizFrame={feedItemTypes:{CATEGORYAXIS:"categoryAxis",CATEGORYAXIS2:"categoryAxis2",COLOR:"color",VALUEAXIS:"valueAxis",VALUEAXIS2:"valueAxis2",BUBBLEWIDTH:"bubbleWidth",SIZE:"size",SHAPE:"shape",TIMEAXIS:"timeAxis"}};t.applicationConfiguration={applicationConfigPath:"config/applicationConfiguration.json"};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/entityTypeMetadata", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t,e,a){this.type="entityTypeMetadata";this.getPropertyMetadata=function(t){var n;n=a.getPropertyMetadata(e,t);if(!n){n={dataType:{}}}return n};this.getEntityTypeMetadata=function(){return a.getEntityTypeAnnotations(e)};function n(){t.check(e&&typeof e==="string","sap.apf.core.entityTypeMetadata: incorrect value for parameter sEntityType");t.check(a&&a.type&&a.type==="metadata","sap.apf.core.entityTypeMetadata: incorrect value for parameter oMetadata")}n()}t("sap.apf.core.EntityTypeMetadata",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/hierarchicalStep", ["sap/apf/core/step","sap/apf/core/utils/uriGenerator","sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/OperationMode","sap/ui/model/odata/v2/ODataModel","sap/ui/model/Sorter","sap/ui/thirdparty/jquery"],function(e,t,r,i,a,n,o,jQuery){"use strict";function s(r,s,p,u,c){e.constructor.call(this,r,s,p,u,c);var d;var l;var g;this.type="hierarchicalStep";var h=p.getConfigurationById(s.request).service;var f=p.getConfigurationById(s.request).entityType;var v=c.getAnnotationsForService(h);var y=s.hierarchyProperty;var m=jQuery.Deferred();var F=p.getConfigurationById(s.binding).requiredFilters;var P=c.getStartParameterFacade().getSapSystem();if(P){h=i.setOrigin(h,{force:true,alias:P})}jQuery.when(c.getMetadata(h),c.getEntityTypeMetadata(h,f)).then(function(e,t){var i=e.getHierarchyAnnotationsForProperty(f,y);if(i.type==="messageObject"){r.putMessage(i)}else{l=E(y,i)}d=p.createRequest({service:h,entityType:f,selectProperties:b(F[0],e,i),type:"request",id:"SelectionValidationRequest"});m.resolve(e,i,t)});var S=new n(h,{annotationURI:v});function b(e,t,r){var i=[e];var a=t.getPropertyMetadata(f,e)["sap:text"];if(a){i.push(a)}if(r.hierarchyNodeExternalKeyFor){i.push(r.hierarchyNodeExternalKeyFor)}return i}function E(e,r){var i=[e];for(var a in r){i.push(r[a])}i=i.concat(p.getConfigurationById(s.request).selectProperties);return t.getSelectString(i)}this.update=function(e,i){m.done(function(n,o,s){var p=e.restrictToProperties(n.getFilterablePropertiesAndParameters(f));var u=!p.isEqual(g);g=p.copy();var c="/"+t.generateOdataPath(r,n,f,e,n.getUriComponents(f).navigationProperty);var h={};h.path=c;var v=e.restrictToProperties(n.getFilterableProperties(f));if(!v.isEmpty()){h.filters=[v.mapToSapUI5FilterExpression()]}h.parameters={select:l,operationMode:a.Server,useServerSideApplicationFilters:true,treeAnnotationProperties:o};h.sorter=this.getSorter();this.getBinding().updateTreetable(h,S,s,u);if(!this.getFilter().isEmpty()&&u){var y=v.removeTermsByProperty(F[0]);d.sendGetInBatch(y.addAnd(this.getFilter()),function(e){var t=e.data;var r=this.getFilter().getFilterTerms();var a=[];r.forEach(function(e){t.forEach(function(t){if(t[F[0]]===e.getValue()){a.push(t)}})});this.getBinding().setFilterValues(a);i({},true)}.bind(this))}else{i({},u)}}.bind(this))};this.getSorter=function(){var e=[];var t=this.getBinding().getRequestOptions();if(t&&t.orderby&&t.orderby.length>0){t.orderby.forEach(function(t){e.push(new o(t.property,!t.ascending))})}if(e.length===0){return}return e};this.setData=function(){};this.adjustCumulativeFilter=function(e){if(F[0]&&!this.getFilter().isEmpty()){return e.removeTermsByProperty(F[0])}return e};this.whenMetadataInitialized=function(){return m.promise()}}r("sap.apf.core.HierarchicalStep",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/instance", ["sap/apf/utils/utils","sap/apf/utils/exportToGlobal","sap/apf/utils/filter","sap/apf/utils/hashtable","sap/apf/core/utils/checkForTimeout","sap/apf/core/utils/uriGenerator","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/apf/core/utils/filter","sap/apf/core/messageHandler","sap/apf/core/path","sap/apf/core/persistence","sap/apf/core/metadataFactory","sap/apf/core/textResourceHandler","sap/apf/core/configurationFactory","sap/apf/core/sessionHandler","sap/apf/core/resourcePathHandler","sap/apf/core/constants","sap/apf/cloudFoundry/analysisPathProxy","sap/apf/cloudFoundry/ajaxHandler","sap/apf/core/metadataProperty","sap/apf/core/metadataFacade","sap/apf/core/metadata","sap/apf/core/readRequestByRequiredFilter","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/core/entityTypeMetadata","sap/apf/core/readRequest","sap/base/util/deepExtend","sap/ui/comp/smartfilterbar/ControlConfiguration","sap/ui/comp/smartfilterbar/SelectOption","sap/ui/model/odata/v2/ODataModel","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery"],function(t,e,n,a,r,s,i,o,c,u,f,l,g,p,d,h,m,v,y,S,F,P,x,C,A,T,H,M,R,b,j,B,E,jQuery){"use strict";function w(e){var u=this;var w;var k,D,I;var O=e.instances.messageHandler;var q=e.instances.startParameter;e.constructors=e.constructors||{};var N=e.functions&&e.functions.checkForTimeout||r;var U={instances:{messageHandler:O,coreApi:this},constructors:{Request:e.constructors.Request},exits:{binding:{afterGetFilter:e.exits&&e.exits.binding&&e.exits.binding.afterGetFilter},path:{beforeAddingToCumulatedFilter:e.exits&&e.exits.path&&e.exits.path.beforeAddingToCumulatedFilter}},functions:e.functions};var L;var V;var G;var K;var z;var W;var X;var _;var J;var Q;var Y=e&&e.instances&&e.instances.datajs||E;this.destroy=function(){z.destroy()};this.ajax=function(t){var n=R({},t);n.functions=n.functions||{};n.functions.getSapSystem=q.getSapSystem;if(e.functions&&e.functions.ajax){n.functions.ajax=e.functions.ajax}n.instances=n.instances||{};n.instances.messageHandler=O;return A(n)};this.odataRequest=function(t,n,a,r){var s={instances:{datajs:Y},functions:{getSapSystem:q.getSapSystem}};var i=e&&e.functions&&e.functions.odataRequest||T;i(s,t,n,a,r)};this.getStartParameterFacade=function(){return q};this.getMessageHandler=function(){return O};this.putMessage=function(t){return O.putMessage(t)};this.check=function(t,e,n){return O.check(t,e,n)};this.createMessageObject=function(t){return O.createMessageObject(t)};this.activateOnErrorHandling=function(t){O.activateOnErrorHandling(t)};this.setCallbackForMessageHandling=function(t){O.setMessageCallback(t)};this.getLogMessages=function(){return O.getLogMessages()};this.checkForTimeout=function(t){var e=N(t);if(e){O.putMessage(e)}return e};this.getUriGenerator=function(){return s};this.getMetadata=function(t){return V.getMetadata(t)};this.getMetadataFacade=function(){return V.getMetadataFacade()};this.getEntityTypeMetadata=function(t,e){return V.getEntityTypeMetadata(t,e)};this.loadApplicationConfig=function(t){L.loadConfigFromFilePath(t)};this.loadTextElements=function(t){G.loadTextElements(t)};this.registerTextWithKey=function(t,e){G.registerTextWithKey(t,e)};this.getApplicationConfigProperties=function(){return L.getConfigurationProperties()};this.getResourceLocation=function(t){return L.getResourceLocation(t)};this.getPersistenceConfiguration=function(){return L.getPersistenceConfiguration()};this.getCategories=function(){return K.getCategories()};this.existsConfiguration=function(t){return K.existsConfiguration(t)};this.getStepTemplates=function(){return K.getStepTemplates()};this.getConfigurationObjectById=function(t){return K.getConfigurationById(t)};this.registerSmartFilterBarInstance=function(t){if(!Q){Q=jQuery.Deferred()}Q.resolve(t)};this.getSmartFilterBarAsPromise=function(){if(!Q){Q=jQuery.Deferred()}this.getSmartFilterBarConfigurationAsPromise().done(function(t){if(!t){Q.resolve(null)}});return Q};this.getSmartFilterBarConfigurationAsPromise=function(){return K.getSmartFilterBarConfiguration()};this.getSmartFilterBarPersistenceKey=function(t){return"APF"+K.getConfigHeader().AnalyticalConfiguration+t};this.getSmartFilterbarDefaultFilterValues=function(){const t=jQuery.Deferred();const n=e.constructors.SFBControlConfiguration??b;const a=e.constructors.SFBSelectOption??j;function r(t,e){var n=t.getFilterTermsForProperty(e);var r=[];n.forEach(function(t){var e=new a({low:t.getValue(),operator:t.getOp(),high:t.getHighValue(),sign:"I"});r.push(e)});return r}var s=[];e.functions.getCombinedContext().done(function(e){e.getProperties().forEach(function(t){var a={key:t,visibleInAdvancedArea:true,defaultFilterValues:r(e,t)};s.push(new n(a))});t.resolve(s)});return t};this.getReducedCombinedContext=function(){var t=jQuery.Deferred();e.functions.getCombinedContext().done(function(n){var a=u.getSmartFilterBarAsPromise();a.done(function(a){if(!a){t.resolve(n);return}var r=new c(e.instances.messageHandler);var s=a.getFilters();s.forEach(function(t){r.addAnd(c.transformUI5FilterToInternal(e.instances.messageHandler,t))});t.resolve(n.removeTermsByProperty(r.getProperties()))})});return t};this.getFacetFilterConfigurations=function(){return K.getFacetFilterConfigurations()};this.getNavigationTargets=function(){return K.getNavigationTargets()};this.createStep=function(t,e,n){var a;O.check(t!==undefined&&typeof t==="string"&&t.length!==0,"sStepID is  unknown or undefined");a=K.createStep(t,n);z.addStep(a,e);return a};this.getSteps=function(){return z.getSteps()};this.moveStepToPosition=function(t,e,n){z.moveStepToPosition(t,e,n)};this.updatePath=function(t,e){z.update(t,e)};this.removeStep=function(t,e){z.removeStep(t,e)};this.resetPath=function(){if(z){z.destroy()}z=new f.constructor(U)};this.stepIsActive=function(t){return z.stepIsActive(t)};this.isApfStateAvailable=function(){return W.isApfStateAvailable()};this.storeApfState=function(){W.storeApfState()};this.restoreApfState=function(){return W.restoreApfState()};this.serialize=function(){var t=z.serialize();u.getSmartFilterBarAsPromise().done(function(e){if(e){t.smartFilterBar=e.fetchVariant()}});return t};this.deserialize=function(t){if(t.smartFilterBar){if(!Q){Q=jQuery.Deferred()}Q.done(function(e){e._apfOpenPath=true;e.applyVariant(t.smartFilterBar);e.clearVariantSelection();e.fireFilterChange()})}z.deserialize(t)};this.getTextNotHtmlEncoded=function(t,e){return G.getTextNotHtmlEncoded(t,e)};this.getTextHtmlEncoded=function(t,e){return G.getTextHtmlEncoded(t,e)};this.isInitialTextKey=function(t){return t===v.textKeyForInitialText};this.getMessageText=function(t,e){return G.getMessageText(t,e)};this.getXsrfToken=function(t){return W.getXsrfToken(t)};this.setDirtyState=function(t){W.setDirtyState(t)};this.isDirty=function(){return W.isDirty()};this.setPathName=function(t){W.setPathName(t)};this.getPathName=function(){return W.getPathName()};this.getCumulativeFilter=function(){return e.functions.getCumulativeFilter()};this.createReadRequest=function(t){var e=K.createRequest(t);var n;if(typeof t==="string"){n=K.getConfigurationById(t)}else{n=t}return new M(U,e,n.service,n.entityType)};this.createReadRequestByRequiredFilter=function(t){var e=K.createRequest(t);var n;if(typeof t==="string"){n=K.getConfigurationById(t)}else{n=t}return new C(U,e,n.service,n.entityType)};this.loadMessageConfiguration=function(t,e){O.loadConfig(t,e)};this.loadAnalyticalConfiguration=function(t){K.loadConfig(t)};this.savePath=function(t,e,n,a){var r;var s;var i;var o;if(typeof t==="string"&&typeof e==="string"&&typeof n==="function"){r=t;s=e;i=n;o=a;this.setPathName(s);X.modifyPath(r,s,i,o)}else if(typeof t==="string"&&typeof e==="function"){s=t;i=e;o=n;this.setPathName(s);X.createPath(s,i,o)}else{O.putMessage(O.createMessageObject({code:"5027",aParameters:[t,e,n]}))}};this.readPaths=function(t){X.readPaths(t)};this.openPath=function(t,e){function n(t,n,a){if(!a){u.setPathName(t.path.AnalysisPathName)}e(t,n,a)}return X.openPath(t,n)};this.deletePath=function(t,e){X.deletePath(t,e)};this.createFilter=function(t){return new n(O,t)};this.getActiveStep=function(){return z.getActiveSteps()[0]};this.getCumulativeFilterUpToActiveStep=function(){return z.getCumulativeFilterUpToActiveStep()};this.setActiveStep=function(t){z.makeStepActive(t);var e=z.getActiveSteps();var n;for(n=0;n<e.length;++n){z.makeStepInactive(e[n])}return z.makeStepActive(t)};this.createFirstStep=function(t,e,n){var a=false;var r;r=u.getStepTemplates();r.forEach(function(e){a=e.id===t?true:a});if(!a){O.putMessage(O.createMessageObject({code:"5036",aParameters:[t]}))}else{u.createStep(t,n,e)}};this.getFunctionCreateRequest=function(){return K.createRequest};this.getAnnotationsForService=function(t){return _.getAnnotationsForService(t)};this.checkAddStep=function(t){return z.checkAddStep(t)};this.getPathFilterInformation=function(){return z.getFilterInformation()};this.getGenericExit=function(t){if(e&&e.exits&&e.exits[t]&&typeof e.exits[t]==="function"){return e.exits[t]}return undefined};this.getComponent=function(){return e&&e.instances&&e.instances.component};G=new(e.constructors.TextResourceHandler||p)(U);O.setTextResourceHandler(G);if(e.manifests){U.manifests=e.manifests}J=new(e.constructors.FileExists||i)({functions:{ajax:u.ajax,getSapSystem:q.getSapSystem}});var Z={manifests:e.manifests,functions:{getSapSystem:q.getSapSystem,getComponentNameFromManifest:t.getComponentNameFromManifest,getODataPath:s.getODataPath,getBaseURLOfComponent:s.getBaseURLOfComponent,addRelativeToAbsoluteURL:s.addRelativeToAbsoluteURL},instances:{fileExists:J}};_=new(e.constructors.AnnotationHandler||o.constructor)(Z);K=new(e.constructors.ConfigurationFactory||d)(U);var $={constructors:{EntityTypeMetadata:H,Hashtable:e.constructors.Hashtable||a,Metadata:e.constructors.Metadata||x,MetadataFacade:e.constructors.MetadataFacade||P,MetadataProperty:e.constructors.MetadataProperty||F,ODataModel:e.constructors.ODataModel||B},instances:{messageHandler:U.instances.messageHandler,coreApi:u,annotationHandler:_},functions:{getServiceDocuments:K.getServiceDocuments,getSapSystem:q.getSapSystem}};V=new(e.constructors.MetadataFactory||g)($);z=new(e.constructors.Path||f.constructor)(U);W=new(e.constructors.SessionHandler||h)(U);if(e.functions&&e.functions.isUsingCloudFoundryProxy){w=e.functions.isUsingCloudFoundryProxy}else{w=function(){return false}}if(w()){k={instances:{messageHandler:O},functions:{coreAjax:this.ajax}};D=e.constructors.AjaxHandler||S;I=new D(k)}var tt={instances:{messageHandler:O,coreApi:this},functions:{getComponentName:e.functions&&e.functions.getComponentName},manifests:e.manifests};if(e.constructors.Persistence){tt.instances.ajaxHandler=I;X=new e.constructors.Persistence(tt)}else if(w()){tt.instances.ajaxHandler=I;X=new(e.constructors.AnalysisPathProxy||y)(tt)}else{X=new l.constructor(tt)}var et={instances:{coreApi:u,messageHandler:U.instances.messageHandler,fileExists:J},functions:{checkForTimeout:N,initTextResourceHandlerAsPromise:G.loadResourceModelAsPromise,isUsingCloudFoundryProxy:w},corePromise:e.corePromise,manifests:e.manifests};if(e.constructors&&e.constructors.ProxyForAnalyticalConfiguration){et.constructors={ProxyForAnalyticalConfiguration:e.constructors.ProxyForAnalyticalConfiguration}}L=new(e.constructors.ResourcePathHandler||m)(et);if(e&&e.coreProbe){e.coreProbe({coreApi:this,startParameter:q,resourcePathHandler:L,textResourceHandler:G,configurationFactory:K,path:z,sessionHandler:W,persistence:X,fileExists:J,corePromise:e.corePromise})}}e("sap.apf.core.Instance",w);return{constructor:w}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/layeredRepositoryProxy", ["sap/apf/utils/utils","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/abap/LrepConnector","sap/apf/utils/parseTextPropertyFile","sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,n,a,t,i,r,o,jQuery){"use strict";function s(n,a){var s=a.instances.coreApi;var c;var f=a.instances.messageHandler;var u="sap/apf/dt";var l="text.properties";var p=new t(a.instances.messageHandler);var d=new t(a.instances.messageHandler);var m;var v=false;this.getConnector=function(){return c};this.readEntity=function(e,n,a,t,i,r,o){var s=a[0].value;var u=P(i);var l=[];var p=false;var d=1;var m=0;var v;var g;var h;var y;var C;var b;var N;var x;var j=S(r);var I;f.check(e==="configuration","layered repository proxy - only read entity of configuration supported");if(o&&o.noMetadata){c.getStaticResource(u,s,"apfconfiguration").then(function(e){h={Application:i};x=e.response;if(typeof x==="string"){h.SerializedAnalyticalConfiguration=x}else{h.SerializedAnalyticalConfiguration=JSON.stringify(x)}h.AnalyticalConfiguration=s;n(h,E())},function(e){n(undefined,E(),O({code:"5221",aParameters:[i,s]},e&&e.messages))});return}if(t===undefined||t.indexOf("SerializedAnalyticalConfiguration")>=0){p=true;if(j==="VENDOR"){var U={contentType:"application/json"};var D=[];D.push({name:"layer",value:j});D.push({name:"dt",value:"true"});var M="/sap/bc/lrep/content/"+u+"/"+s+".apfconfiguration";M+=c._buildParams(D);I=c.send(M,"GET",undefined,U)}else{I=c.getStaticResource(u,s,"apfconfiguration")}l.push(I)}else{d=0}v=T(i,s);if(v===undefined){var R=c.getFileAttributes(u,s,"apfconfiguration",j);l.push(R)}g=Promise.all(l);g.then(function(e){v=T(i,s);if(v===undefined){v=e[d].response}A(i,s,v);h=L(i,v);if(p){x=e[m].response;if(typeof x==="string"){h.SerializedAnalyticalConfiguration=x}else{h.SerializedAnalyticalConfiguration=JSON.stringify(x)}}h.AnalyticalConfiguration=s;if(t&&t.length!==0){C=t.length;b={};for(y=0;y<C;y++){N=t[y];b[N]=h[N]}h=b}n(h,E())},function(e){n(undefined,E(),O({code:"5221",aParameters:[i,s]},e&&e.messages))})};this.doChangeOperationsInBatch=function(n,a,t){function i(e,n){a(n)}var r,o;function s(){}x(t).then(function(){for(r=0;r<n.length;r++){o=n[r];o.application=t;if(o.method==="DELETE"&&o.entitySetName==="texts"){b(o,s)}else if(o.method==="POST"&&e.isValidPseudoGuid(o.data.TextElement)){j(o.data,s)}else{j(o.data,s)}}I(t,i,true)}).fail(function(e){a(e)})};this.readCollectionsInBatch=function(e,n){var a=e.length;var t=[];var i=0;function r(e){function r(r,o,s){if(s){n(undefined,s)}else{i++;t[e]=r;if(i===a){n(t)}}}return r}for(var o=0;o<a;o++){var s=e[o];this.readCollection(s.entitySetName,r(o),s.inputParameters,s.selectList,s.filter)}};this.readCollection=function(e,n,a,i,o,s){var c,u;var l;var d;if(s&&s.layer){d=s.layer}else{d="CUSTOMER"}var m=function(e,a){if(a&&(a==="error"||a==="timeout"||a==="abort"||a==="parsererror")){n(undefined,E(),O({code:"5222",aParameters:[u]},[a]));return}var i=new t(f);var o=[];var s=e&&e.response||e&&e.responseText||"";var c=r(s,{instances:{messageHandler:f}});var l,d;if(c.Messages.length>0){l=f.createMessageObject({code:"5416"});d=l;c.Messages.forEach(function(e){d.setPrevious(e);d=e})}i=new t(f);c.TextElements.forEach(function(e){if(e.TextElement){i.setItem(e.TextElement,e);o.push(e)}});p.setItem(u,i);n(o,E(),l)};if(e==="application"){f.check(!a&&!i&&!o,"unsupported parameters when calling readCollection for application");w(n,d)}else if(e==="texts"){c=o.getFilterTermsForProperty("Application");u=c[0].getValue();l=N(u,s);l.then(function(e){m(e)},function(e){n(undefined,E(),O({code:"5222",aParameters:[u]},e&&e.messages))})}else if(e==="configuration"){c=o.getFilterTermsForProperty("Application");u=c[0].getValue();U(u,n,i)}};this.remove=function(e,n,a,t,i,r){if(!r){r="CUSTOMER"}if(e==="application"){H(n,a,r)}else if(e==="configuration"){G(n,a,i,r)}else{f.check(false,"the remove operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.create=function(e,n,a,t){if(e==="application"){V(n,a,t)}else if(e==="configuration"){F(n,a,t)}else if(e==="texts"){j(n,a)}else{f.check(false,"the create operation on entity set "+e+" is currently not supported by the lrep proxy")}};this.update=function(e,n,a){if(e==="configuration"){R(n,a)}else if(e==="application"){z(n,a)}else{f.check(false,"the update operation on entity set "+e+" is currently not supported by the lrep proxy")}};function g(e,n){var a={async:true,contentType:"application/json"};var t=[];t.push({name:"layer",value:e});t.push({name:"deep-read",value:true});t.push({name:"metadata",value:true});t.push({name:"type",value:n});var i="/sap/bc/lrep/content/"+u+"/";i+=c._buildParams(t);return c.send(i,"GET",undefined,a)}function h(e){var n=e.ns.split("/");return n[n.length-2]}function y(e,n){var a=undefined;e.metadata.forEach(function(e){if(e.name===n){a=e.value}});return a}this.readAllConfigurationsFromVendorLayer=function(){var n=jQuery.Deferred();var a=[];g("VENDOR","apf*").then(function(t){var i={};t.response.forEach(function(e){if(e.fileType&&e.fileType==="apfapplication"){i[h(e)]=y(e,"apfdt-applname")}});t.response.forEach(function(n){var t;var r;var o;if(n.fileType&&n.fileType==="apfconfiguration"){t=h(n);r=n.name;if(!(e.isValidPseudoGuid(t)&&e.isValidPseudoGuid(r))){return}o=y(n,"apfdt-configname");a.push({configurationText:o,applicationText:i[t],value:t+"."+r})}});n.resolve(a)},function(e){n.reject(O({code:"5231"},e&&e.messages))});return n.promise()};C();function C(){if(a.constructors&&a.constructors.LrepConnector){c=a.constructors.LrepConnector.createConnector()}else{c=i.createConnector()}if(!c._sClient){c._sClient=s.getStartParameterFacade().getSapClient()}}function T(e,n){var a=d.getItem(e);if(a===undefined){return undefined}n=a.getItem(n);return n}function A(e,n,a){var i=d.getItem(e);if(i===undefined){i=new t(f)}i.setItem(n,a);d.setItem(e,i)}function S(e){var n=e&&e.layer||"CUSTOMER";if(n==="ALL"){return undefined}return n}function O(e,n){var a=f.createMessageObject(e);var t="";if(n){n.forEach(function(e){t=t+e+" "});a.setPrevious(f.createMessageObject({code:5220,aParameters:[t]}))}return a}function E(){return{}}function P(e){return u+"/"+e}function b(e,n){var a=e.application;var t=e.inputParameters[0].value;var i;x(a).done(function(){i=p.getItem(a);i.removeItem(t);n(e,E())}).fail(function(e){n(undefined,E(),e)})}function N(e,n){var a;var t=[];var i="/sap/bc/lrep/content/";var r=S(n);i+=u+"/"+e+"/"+l;if(r){t.push({name:"layer",value:r})}a={contentType:"text/plain"};i+=c._buildParams(t);return c.send(i,"GET",undefined,a)}function x(e){var n=jQuery.Deferred();var a;var i=p.getItem(e);var o=function(a){var o=a&&a.response||a&&a.responseText||"";var s=r(o,{instances:{messageHandler:f}});i=new t(f);s.TextElements.forEach(function(e){if(e.TextElement){i.setItem(e.TextElement,e)}});p.setItem(e,i);n.resolve({})};if(i===undefined){a=N(e);a.then(function(e){o(e)},function(a){n.reject(O({code:"5222",aParameters:[e]},a&&a.messages))})}else{n.resolve({})}return n.promise()}function j(n,a){var t=n.Application;if(n.TextElement===undefined||!e.isValidGuid(n.TextElement)){n.TextElement=e.createPseudoGuid()}x(t).done(function(){var e=p.getItem(t);e.setItem(n.TextElement,n);a(n,E())}).fail(function(e){a(undefined,E(),e)})}function I(n,a,t){var i=P(n);var o;function s(){var t=e.renderHeaderOfTextPropertyFile(n,f);t=t+e.renderTextEntries(o,f);var r=c.upsert(i,"text","properties","CUSTOMER",t,"text/plain");r.then(function(){a(E())},function(e){a(E(),O({code:"5230",aParameters:[n]},e&&e.messages))})}o=p.getItem(n);if(!o){a(E());return}if(t){s()}else{var u=N(n);u.then(function(e){var n=e&&e.response||"";var a=r(n,{instances:{messageHandler:f}});a.TextElements.forEach(function(e){if(e.TextElement){o.setItem(e.TextElement,e)}});s()},function(e){a(E(),O({code:"5222",aParameters:[n]},e&&e.messages))})}}function U(e,n,a){var t=[];var i=P(e);var r=c._buildParams([{name:"layer",value:"CUSTOMER"},{name:"metadata",value:"true"},{name:"type",value:"apfconfiguration"}]);var o=c.send("/sap/bc/lrep/content/"+i+r);o.then(function(r){var o=r.response;o.forEach(function(n){if(n.fileType==="apfconfiguration"){n.metadata.forEach(function(a){if(a.name==="apfdt-configname"){t.push({AnalyticalConfiguration:n.name,Application:e,AnalyticalConfigurationName:a.value})}})}});if(a&&a.indexOf("SerializedAnalyticalConfiguration")>=0){var s=[];t.forEach(function(e){var n=jQuery.Deferred();s.push(n);c.getStaticResource(i,e.AnalyticalConfiguration,"apfconfiguration").then(function(a){if(a.response){e.SerializedAnalyticalConfiguration=JSON.stringify(a.response);n.resolve()}else{n.reject()}},function(e){n.reject(e)})});jQuery.when.apply(jQuery,s).then(function(){n(t,E())},function(a){n([],E(),O({code:"5223",aParameters:[e]},a&&a.messages))})}else{n(t,E())}},function(a){n([],E(),O({code:"5223",aParameters:[e]},a&&a.messages))})}function D(){var e=jQuery.Deferred();var n=[];if(v){e.resolve(m)}else{n.push({name:"dt",value:false});var a="/sap/bc/lrep/content/sap/ui/fl/settings/main.flsettings";a+=c._buildParams(n);var t=c.send(a,"GET",undefined);t.then(function(n){var a=n&&n.response||{};v=true;if(a.isAtoEnabled===true){m="ATO_NOTIFICATION"}e.resolve(m)},function(n){e.reject(n)})}return e.promise()}function M(e,n,a,t){var i=t||"CUSTOMER";var r=P(e);var o=c.getFileAttributes(r,n,"apfconfiguration",i);o.then(function(t){var r=t.response;if(i==="CUSTOMER"){A(e,n,r);I(e,a)}else{a(E())}},function(t){a(E(),O({code:"5232",aParameters:[e,n]},t&&t.messages))})}function R(e,n,a){if(!a){a="CUSTOMER"}var t=e.Application;var i=e.AnalyticalConfiguration;var r=JSON.parse(e.SerializedAnalyticalConfiguration);var s=P(t);var f=D();f.then(function(f){var u=c.getStaticResource(s,"metadata","apfapplication");u.then(function(n){var u={Application:t,ApplicationName:n.response.ApplicationName,SemanticObject:n.response.SemanticObject,AnalyticalConfiguration:i,AnalyticalConfigurationName:e.AnalyticalConfigurationName,CreationUTCDateTime:e.CreationUTCDateTime,LastChangeUTCDateTime:e.LastChangeUTCDateTime};r=o(r,{configHeader:u});r=JSON.stringify(r);var l=c.upsert(s,i,"apfconfiguration",a,r,"application/json",f);return l},function(e){n(E(),O({code:"5233",aParameters:[t,i]},e&&e.messages))}).then(function(){M(t,i,n,a)},function(e){n(E(),O({code:"5233",aParameters:[t,i]},e&&e.messages))})},function(e){n(E(),O({code:"5224"},e&&e.messages))})}function F(n,a,t){var i=S(t);var r=n.Application;var s=n.AnalyticalConfiguration;if(s===undefined||!e.isValidGuid(s)){s=e.createPseudoGuid(32)}var f=JSON.parse(n.SerializedAnalyticalConfiguration);var u=P(r);var l=c.getStaticResource(u,"metadata","apfapplication");l.then(function(e){var t={Application:r,ApplicationName:e.response.ApplicationName,SemanticObject:e.response.SemanticObject,AnalyticalConfiguration:s,AnalyticalConfigurationName:f.analyticalConfigurationName,CreationUTCDateTime:n.CreationUTCDateTime,LastChangeUTCDateTime:n.LastChangeUTCDateTime};f=o(f,{configHeader:t});f=JSON.stringify(f);p(r,s,n.AnalyticalConfigurationName,f,a)},function(e){a(undefined,E(),O({code:"5223",aParameters:[r]},e&&e.messages))});function p(e,a,t,r,o){var s=P(e);var f=D();f.then(function(t){var f=c.upsert(s,a,"apfconfiguration",i,r,"application/json",t);f.then(function(){M(e,a,function(e,t){if(!t){o({AnalyticalConfiguration:a,AnalyticalConfigurationName:n.AnalyticalConfigurationName},E())}else{o(undefined,E(),t)}},i)},function(n){o(undefined,E(),O({code:"5226",aParameters:[e,a]},n&&n.messages))})},function(e){o(undefined,E(),O({code:"5224"},e&&e.messages))})}}function G(e,n,a,t){var i=e[0].value;f.check(i!==undefined,"configuration may not be undefined");f.check(a!==undefined,"application of configuration not found");var r=P(a);D().then(function(e){var o=c.deleteFile(r,i,"apfconfiguration",t,e);o.then(function(){n(E())},function(e){n(E(),O({code:"5225",aParameters:[a,i]},e&&e.messages))})},function(e){n(E(),O({code:"5224"},e&&e.messages))})}function L(e,n){var a;var t={Application:e};var i,r;for(a=0;a<n.length;a++){i=n[a].name;r=n[a].value;if(i==="apfdt-applname"){i="ApplicationName"}else if(i==="createdAt"){i="CreationUTCDateTime"}else if(i==="createdBy"){i="CreatedByUser"}else if(i==="lastChangedAt"){i="LastChangeUTCDateTime"}else if(i==="lastChangedBy"){i="LastChangedByUser"}else if(i==="apfdt-configname"){i="AnalyticalConfigurationName"}else if(i==="size"||i==="layer"){continue}t[i]=r}return t}function V(n,a,i){f.check(n.ApplicationName!==undefined&&n.ApplicationName!=="","Valid application name is required");var r=n.Application;if(r===undefined||!e.isValidGuid(r)){r=e.createPseudoGuid(32)}var o=JSON.stringify({ApplicationName:n.ApplicationName,SemanticObject:n.SemanticObject,Application:r});var s=e.renderHeaderOfTextPropertyFile(r,f);var u=S(i);function l(e){a(undefined,E(),O({code:"5227"},e&&e.messages))}var d=P(r);var m=c.upsert(d,"metadata","apfapplication",u,o,"application/json");m.then(function(){var e=c.upsert(d,"text","properties",u,s,"text/plain");e.then(function(){p.setItem(r,new t(f));a({Application:r,ApplicationName:n.ApplicationName,SemanticObject:n.SemanticObject},E())},l)},l)}function z(e,n){f.check(e.ApplicationName!==undefined&&e.ApplicationName!=="","Valid application name is required");var a=e.Application;var t=JSON.stringify({ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject,Application:a});function i(e){n(undefined,O({code:"5228",aParameters:[a]},e&&e.messages))}var r=P(a);var o=c.upsert(r,"metadata","apfapplication","CUSTOMER",t,"application/json");o.then(function(){n({Application:a,ApplicationName:e.ApplicationName,SemanticObject:e.SemanticObject})},i)}function H(e,n,a){var t=e[0].value;function i(e){var a=k(e);n(E(),a)}var r=P(t);var o=c.listContent(r,a);o.then(function(e){var a=e.response;var t=[];a.forEach(function(e){if(e.fileType==="apfconfiguration"){D().then(function(n){t.push(c.deleteFile(r,e.name,e.fileType,e.layer,n))},function(e){n(E(),O({code:"5224"},e&&e.messages))})}else{t.push(c.deleteFile(r,e.name,e.fileType,e.layer))}});var i=Promise.all(t);return i},i).then(function(){n(E())},i)}function k(e){var n;if(e&&e.messageObject&&e.messageObject.getCode){n=e.messageObject}else if(e&&e.response&&e.response.statusCode&&e.response.statusCode>=400){n=f.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{n=f.createMessageObject({code:"5201",aParameters:e&&e.messages||[]})}return n}function w(n,a){var t=[];g(a,"apfapplication").then(function(a){var i=a.response;i.forEach(function(n){var a;var i;if(n.fileType&&n.fileType==="apfapplication"){a=h(n);if(!e.isValidPseudoGuid(a)){return}var r="";i=y(n,"apfdt-applname");t.push({Application:a,ApplicationName:i,SemanticObject:r})}});n(t,E())},i);function i(e){n(undefined,E(),O({code:"5229"},e&&e.messages))}}}a("sap.apf.core.LayeredRepositoryProxy",s);return s});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageDefinition", function(){var e=[{code:"3001",severity:"technError",text:"Text is not available for the following key: {0}"},{code:"5001",severity:"fatal",text:"Request {3} to server failed with http status code {0}, http error message {1}, and server response {2}.",key:"5001"},{code:"5002",severity:"error",description:"Error in OData request; update of analysis step {0} failed.",key:"5002"},{code:"5004",severity:"fatal",description:"Request with ID {0} does not exist in the analytical content configuration.",key:"5004"},{code:"5005",severity:"technError",text:"Required property {1} is missing in the filter of the OData request for entity type {0}."},{code:"5006",severity:"technError",text:"Inconsistency in data model; non-filterable property {1} is set as required filter for entity type {0}."},{code:"5015",severity:"fatal",description:"Service for request {0} is not defined in the analytical content configuration.",key:"5015"},{code:"5016",severity:"technError",text:"Mandatory parameter key property {0} is missing in filter."},{code:"5018",severity:"fatal",description:"Metadata request {0} failed.",key:"5018"},{code:"5019",severity:"technError",text:"System query option $orderby for property {1} removed from OData request for entity type {0}."},{code:"5020",severity:"fatal",description:"Analytical content configuration is not available.",key:"5020"},{code:"5021",severity:"error",description:"Error during server request; session timeout occurred.",key:"5021"},{code:"5022",severity:"fatal",description:"Analytical configuration with ID {0} is not available.",key:"5022"},{code:"5023",severity:"fatal",description:"Texts could not be loaded for Analytical configuration with ID {0}.",key:"5023"},{code:"5024",severity:"fatal",description:"URL Parameter for Analytical Configuration ID must contain the ID of the application and the ID of the Analytical configuration seperated by a dot.",key:"5024"},{code:"5025",severity:"fatal",description:"Value for SAP client has not been provided at startup of the application.",key:"5025"},{code:"5026",severity:"fatal",description:"Logical system cannot be determined for SAP client {0}. ",key:"5026"},{code:"5027",severity:"technError",text:"Inconsistent parameters; analysis path cannot be saved. Path ID: {0}, path name: {1}, callback function {2}"},{code:"5028",severity:"technError",text:"Binding with ID {0} contains a representation without ID."},{code:"5029",severity:"technError",text:"Binding with ID {0} contains a duplicated representation ID."},{code:"5030",severity:"technError",text:"Constructor property of representation type ID {0} does not contain a module path to a valid function."},{code:"5031",severity:"technError",text:"Argument for method 'setApplicationMessageCallback' is not a function."},{code:"5032",severity:"technError",text:"System query option {1} unknown in request for entity type {0}."},{code:"5033",severity:"technError",text:"Unsupported type {0} in configuration object provided."},{code:"5034",severity:"technError",text:"Facet filter configuration attribute 'property' missing."},{code:"5035",severity:"technError",text:"Function module path contained in property preselectionFuntion of facet filter ID {0} does not contain a valid function."},{code:"5036",severity:"technError",text:"Start parameter step id {0} is not existing."},{code:"5037",severity:"technError",text:"Start parameter representation id {0} is not existing."},{code:"5038",severity:"technError",text:"Environment for sap.ushell.Container is not existing."},{code:"5039",severity:"technError",text:"Error while pushing content to the ushell container"},{code:"5040",severity:"technError",text:"Error while fetching content from the ushell container"},{code:"5041",severity:"error",description:"Metadata document {0} is inconsistent. It contains no entity sets.",key:"5041"},{code:"5042",severity:"error",description:"Exception occurred: {0}",key:"5042"},{code:"5043",severity:"fatal",description:"Server error {1} occurred when trying to read the Smart Business Evaluation Id {0}.",key:"5043"},{code:"5044",severity:"fatal",description:"Smart Business Evaluation Id {0} could not be evaluated, because the entry for DataSource SmartBusiness is missing in the manifest of the component.",key:"5044"},{code:"5045",severity:"fatal",description:"There occurred an error when trying to resolve the X-AppState with ID {0}. See log in console.",key:"5045"},{code:"5046",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object. The parameter name is missing.",key:"5046"},{code:"5047",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid parameter object with name {1}. The parameter value is missing.",key:"5047"},{code:"5048",severity:"fatal",description:"The selection variant in X-AppState with ID {0} contains invalid selection. The property name is missing.",key:"5048"},{code:"5049",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid selection. The range definition is invalid.",key:"5049"},{code:"5050",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The sign must be I.",key:"5050"},{code:"5051",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid range. The option BT requires a high value.",key:"5051"},{code:"5052",severity:"fatal",description:"Service {0} for SmartFilterBar not available.",key:"5052"},{code:"5053",severity:"fatal",description:"Initialization of SmartFilterBar failed, for example, because the entity type {0} doesn't exist in service {1} .",key:"5053"},{code:"5054",severity:"fatal",description:"Server problem occurred when loading application configuration file from {0}."},{code:"5055",severity:"fatal",description:"The application configuration from url path {0} has no valid format."},{code:"5056",severity:"fatal",description:"The text resource locations are missing in the application configuration from {0}."},{code:"5057",severity:"fatal",description:"Error when loading the analytical configuration from {0}."},{code:"5058",severity:"fatal",description:"Server error {0} when loading the application message configuration from url path {2}: {1}."},{code:"5059",severity:"fatal",description:"The url path {0} for the resource location {1} is not valid."},{code:"5060",severity:"fatal",description:"No analytical configuration defined either in the application configuration or the data source AnalyticalConfigurationLocation is missing in the manifest."},{code:"5061",severity:"fatal",description:"EntityType of the smart business service definition is missing in the application configuration file."},{code:"5062",severity:"fatal",description:"The type in Smart Business configuration is either missing or not smartBusinessRequest."},{code:"5063",severity:"fatal",description:"The service in the Smart Business service configuration is missing."},{code:"5064",severity:"fatal",description:"The data source definition for path persistence, that has to be declared  with name PathPersistenceServiceRoot, is missing in the manifest."},{code:"5065",severity:"fatal",description:"The data source definition for analytical configuration, that has to be declared  with name PathPersistenceServiceRoot, is either missing in the manifest or incomplete."},{code:"5066",severity:"fatal",description:"The persistence path configuration is missing in the application configuration."},{code:"5067",severity:"fatal",description:"The service of the persistence path configuration is missing in the application configuration."},{code:"5068",severity:"fatal",description:"Server problem {1} occurred when loading application configuration file from {0}: {2}"},{code:"5069",severity:"fatal",description:"The selection variant in X-AppState with ID {0} for property {1} contains invalid option. The option CP may not contain more than two wildcards.",key:"5069"},{code:"5070",severity:"error",description:"Javascript exception was caught: {0}",key:"5070"},{code:"5071",severity:"error",description:"Exception happened during processing of error by message callback function: {0}",key:"5071"},{code:"5072",severity:"fatal",description:"Entity set {0} for hierarchical service {1} not available",key:"5072"},{code:"5073",severity:"fatal",description:"Hierarchical property {2} in entity set {0} for hierarchical service {1} has no hierarchical annotations",key:"5073"},{code:"5074",severity:"technError",text:"UShell service for navigation targets does not exist in the current runtime, so no navigation to other applications is possible"},{code:"5075",severity:"error",description:"URL Parameter for Analytical Configuration ID must be supplied when reading, loading or storing analysis paths.",key:"5075"},{code:"5100",severity:"fatal",description:"Unexpected internal error: {0}. Contact SAP.",key:"5100"},{code:"5101",severity:"technError",text:"Unexpected internal error: {0}. Contact SAP."},{code:"5102",severity:"fatal",description:"Wrong definition in analytical content configuration: {0}",key:"5102"},{code:"5103",severity:"technError",text:"Wrong definition in analytical content configuration: {0}"},{code:"5104",severity:"technError",text:"Wrong filter mapping definition in analytical content configuration"},{code:"5105",severity:"technError",text:"XSRF Token could not be fetched from the application router"},{code:"5200",severity:"technError",text:"Server error during processing of path: {0} {1}"},{code:"5201",severity:"error",description:"Unknown server error.",key:"5201"},{code:"5202",severity:"technError",text:"Persistence service call returned '405 - Method not allowed'."},{code:"5203",severity:"technError",text:"Bad request; data is structured incorrectly."},{code:"5204",severity:"error",description:"Error during server request; maximum number of analysis steps exceeded.",key:"5204"},{code:"5205",severity:"error",description:"Error during server request; maximum number of analysis paths exceeded.",key:"5205"},{code:"5206",severity:"error",description:"Access forbidden; insufficient privileges",key:"5206"},{code:"5207",severity:"error",description:"Inserted value too large; probably maximum length of analysis path name exceeded",key:"5207"},{code:"5208",severity:"error",description:"Error during path persistence; request to server can not be proceed due to invalid ID.",key:"5208"},{code:"5210",severity:"fatal",description:"Error during opening of analysis path; see log.",key:"5210"},{code:"5211",severity:"error",description:"Server response contains undefined path objects.",key:"5211"},{code:"5212",severity:"error",description:"Metadata file of application {0} could not be accessed.",key:"5212"},{code:"5213",severity:"error",description:"Text file of application {0} could not be accessed.",key:"5213"},{code:"5214",severity:"error",description:'Request to the server failed with http status code {0} and http error message "{1}".',key:"5214"},{code:"5220",severity:"error",description:"Error Message from Server: {0}",key:"5220"},{code:"5221",severity:"error",description:"Server Error - Analytical Configuration could not be read. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5221"},{code:"5222",severity:"error",description:"Server Error - Texts of Application could not be read. The technical key of the application is {0}.",key:"5222"},{code:"5223",severity:"error",description:"Server Error - Analytical Configurations could not be read. The technical key of the application is {0}.",key:"5223"},{code:"5224",severity:"error",description:"Server Error - Settings of the Layered Repository could not be read.",key:"5224"},{code:"5225",severity:"error",description:"Server Error - Analytical Configuration could not be deleted. Technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5225"},{code:"5226",severity:"error",description:"Server Error - Analytical Configuration could not be created. Technical key of application is {0}.",key:"5226"},{code:"5227",severity:"error",description:"Server Error - Application could not be created.",key:"5227"},{code:"5228",severity:"error",description:"Server Error - Application could not be updated. The technical key of the application is {0}.",key:"5228"},{code:"5229",severity:"error",description:"Server Error - Applications could not be read.",key:"5229"},{code:"5230",severity:"error",description:"Server Error - Text property file of Application could not be updated. The technical key of the application is {0}.",key:"5230"},{code:"5231",severity:"error",description:"Server Error - Analytical Configurations could not be read from the Vendor Layer during Import",key:"5231"},{code:"5232",severity:"error",description:"Server Error - Metadata of the Analytical Configurations could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5232"},{code:"5233",severity:"error",description:"Server Error - Analytical configuration could not be updated. The technical key of application is {0}, technical key of analytical configuration is {1}.",key:"5233"},{code:"5234",severity:"information",description:"In this hierarchical step you can make selections in the hierarchy {0}. You have already added analysis step {1}, in which you can also make selections in the hierarchy {0}. For technical reasons, you cannot add more than one hierarchical step with the same selection option.",key:"5234"},{code:"5235",severity:"technError",text:"The filter, that is provided to the called application during navigation could not be reduced properly. So the original filter is supplied."},{code:"5236",severity:"fatal",description:"Please configure the data source {0} in the manifest of the component.",key:"5236"},{code:"5237",severity:"error",text:"Server Error - The application could not be deleted. Technical key of the application is {0}.",key:"5237"},{code:"5238",severity:"error",text:"The analytical configuration with key {0} already exists under another application and cannot be created again",key:"5238"},{code:"5252",severity:"fatal",description:"Server Error - Analysis Path could not be opened.",key:"5252"},{code:"5301",severity:"warning",description:"Add or update path filter API method called with unsupported filter; See sap.apf.api documentation",key:"5301"},{code:"5408",severity:"error",description:"Format information is missing at least for text element {0} - please edit the exported text property file manually",key:"5408"},{code:"5409",severity:"error",description:"Application id {0} cannot be used as translation uuid in text property file - please edit the exported text property file manually",key:"5409"},{code:"5410",severity:"error",description:"Imported text property file does not contain the APF application id - expected an entry like #ApfApplicationId=543EC63F05550175E10000000A445B6D.",key:"5410"},{code:"5411",severity:"error",description:"Expected a valid text entry <key>=<value> in line {0}, but could not find - key must be in valid guid format.",key:"5411"},{code:"5412",severity:"error",description:"No valid text entry <key>=<value> in line {0}, key is not in valid guid format like 543EC63F05550175E10000000A445B6D.",key:"5412"},{code:"5415",severity:"error",description:"Date in line {0} has invalid format.",key:"5415"},{code:"6001",severity:"fatal",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6000",severity:"error",description:"Data is not available for the {0} step.",key:"6000"},{code:"6002",severity:"error",description:"Missing {0} for {1} in the configuration; contact your administrator.",key:"6002"},{code:"6003",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"6004",severity:"technError",text:"Metadata not available for step {0}."},{code:"6005",severity:"error",description:"Server request failed. Unable to read paths.",key:"6005"},{code:"6006",severity:"error",description:"Server request failed. Unable to save path {0}.",key:"6006"},{code:"6007",severity:"error",description:"Server request failed. Unable to update path {0}.",key:"6007"},{code:"6008",severity:"error",description:"Server request failed. Unable to open path {0}.",key:"6008"},{code:"6009",severity:"error",description:"Server request failed. Unable to delete path {0}.",key:"6009"},{code:"6010",severity:"technError",description:"Data is not available for filter {0}",key:"6010"},{code:"6011",severity:"fatal",description:"Smart Business service failed.Please try later",key:"6011"},{code:"6012",severity:"information",description:"Add at least one step to the path before saving",key:"6012"},{code:"6013",severity:"information",description:"This table uses the top n function to limit the number of data records. Therefore, the table is already sorted to determine the top n records and you cannot sort it by any other sorting criteria.",key:"6013"},{code:"6014",severity:"information",description:"Maximum number of analysis paths exceeded",key:"6014"},{code:"6015",severity:"information",description:"Maximum number of analysis steps exceeded; delete a step",key:"6015"},{code:"6016",severity:"success",description:"Path {0} updated",key:"6016"},{code:"6017",severity:"success",description:"Path {0} updated",key:"6017"},{code:"7000",severity:"error",description:"Missing {0} in the configuration; contact your administrator.",key:"6001"},{code:"9001",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"9001"}];return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageHandler", ["sap/apf/core/constants","sap/apf/utils/utils","sap/apf/core/messageObject","sap/apf/utils/hashtable","sap/apf/utils/exportToGlobal","sap/base/Log","sap/base/util/deepExtend","sap/ui/Device","sap/ui/thirdparty/jquery","sap/apf/core/messageDefinition"],function(e,r,s,t,i,n,a,o,jQuery){"use strict";function f(i){var f={initial:0,startup:1,running:2,shutdown:3};var g=this;var u;var d=[];var c=0;var v;var l;var h;var p=false;var m=false;var y=false;var w=false;var M=false;var E="";var b={code:e.message.code.errorUnknown,severity:e.message.severity.error,rawText:"Unknown Error occurred"};var C=f.initial;var x=[];this.setLifeTimePhaseStartup=function(e){C=f.startup};this.setLifeTimePhaseRunning=function(){C=f.running};this.setLifeTimePhaseShutdown=function(){C=f.shutdown};this.fatalErrorOccurredAtStartup=function(){var r;if(C!==f.startup){return false}for(r=0;r<x.length;r++){if(x[r].getSeverity()===e.message.severity.fatal){return true}}return false};this.createMessageObject=function(r){var t=new s(r);if(i){if(t.getCode()===undefined){t.setCode(e.message.code.errorUnknown)}O.bind(this)(t);j(t,1)}else if(r.enrichInfoInMessageObject===true){O.bind(this)(t)}return t};this.activateOnErrorHandling=function(e){p=e;if(p===true){jQuery(window).on("error",L)}else{jQuery(window).off("error")}};this.setTextResourceHandler=function(e){u=e};this.loadConfig=function(e,r){if(v===undefined||r){v=new t(g)}for(var s=0;s<e.length;s++){F(e[s])}};this.setMessageCallback=function(e){if(e!==undefined&&typeof e==="function"){l=e}else{l=undefined}};this.setCallbackForTriggeringFatal=function(e){if(e!==undefined&&typeof e==="function"){h=e}else{h=undefined}};this.putMessage=function(r){var s;var t=0;var n;if(r.getCode()===undefined){r.setCode(e.message.code.errorUnknown)}O.bind(this)(r);if(r.getSeverity()===e.message.severity.fatal){n=g.createMessageObject({code:e.message.code.errorExitTriggered});O.bind(this)(n);n.setSeverity(e.message.severity.fatal);if(n.getMessage()===""){n.setMessage("The app has stopped working due to a technical error.")}}s=r.getPrevious();while(s!==undefined&&s.type&&s.type==="messageObject"&&t<10){if(s.getCode()===undefined){s.setCode(e.message.code.errorUnknown)}O.bind(this)(s);s=s.getPrevious();t++}if(n!==undefined){n.setPrevious(r);r=n}if(!i){j(r,10)}x.push(r);if(m){return}if(r.getSeverity()===e.message.severity.technError){return}if(l!==undefined){if(C===f.shutdown||C===f.startup&&r.getSeverity()!==e.message.severity.fatal){return}m=true;l(r);m=false}if(h!==undefined&&y===false){y=true;h(r);y=false}if(r.getSeverity()===e.message.severity.fatal&&C!==f.shutdown){if(o.browser.firefox){M=true}throw new Error(E)}};this.check=function(r,s,t){var i=t||e.message.code.errorCheck;if(!r){var n=this.createMessageObject({code:i,aParameters:[s]});g.putMessage(n)}};this.getConfigurationByCode=function(e){if(v===undefined){return undefined}return v.getItem(e)};this.getLogMessages=function(){return a([],d)};this.reset=function(){v=undefined;l=undefined;d=[];x=[]};this.isOwnException=function(e){return e&&e.message&&e.message.search(E)>-1};function k(e){if(o.browser.firefox){return M}return e.originalEvent&&e.originalEvent.message&&e.originalEvent.message.search(E)>-1}function T(r){return r.originalEvent&&r.originalEvent.message&&r.originalEvent.message.search(E)===-1&&r.originalEvent.message.search(e.message.code.suppressFurtherException)>-1}function P(){var s=r.createPseudoGuid(32);return e.message.code.suppressFurtherException+s}function S(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorUnknown||s==e.message.code.errorInMessageDefinition}function I(r){var s=parseInt(r,10);return s==e.message.code.errorExitTriggered||s==e.message.code.errorInMessageDefinition}function O(r){function s(e,r){var s=0;while(e.indexOf("{"+s+"}")>-1){if(typeof r[s]==="string"){e=e.replace("{"+s+"}",r[s])}else{e=e.replace("{"+s+"}","undefined")}s++}return e}var t=r.getCode();var i=g.getConfigurationByCode(t);if(i===undefined){i=a({},b);if(S(t)){if(r.hasRawText()){i.rawText=r.getRawText()}i.rawText+=" "+r.getParameters();if(I(t)){i.severity=e.message.severity.fatal}}else{i.rawText="Message "+t+"  "+r.getParameters()+" (Message Code has no Configuration)"}if(!S(t)){r.setCode(i.code)}}if(i.severity!==undefined){r.setSeverity(i.severity)}else{r.setSeverity(e.message.severity.technError)}if(i.rawText){r.setMessage(i.rawText)}else{var n=r.getParameters();if(r.getSeverity()===e.message.severity.technError){var o=g.getConfigurationByCode(i.code).text;if(!o){o=g.getConfigurationByCode(i.code).description}r.setMessage(s(o,n))}else{try{if(u&&i.key){r.setMessage(u.getMessageText(i.key,r.getParameters()))}else if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}catch(e){if(i.description){r.setMessage(s(i.description,n))}else{r.setMessage("Message Code: "+t+" "+n.toString())}}}}}function j(r,s){var t="APF message ";var i="";var a=s-1;if(s===0){return}var o=r.getPrevious();if(o!==undefined){j(o,a);i=" - (see previous message for more information)"}c++;var f=t+"("+c+"): "+r.getCode()+" - "+r.getMessage()+i;if(w){alert("Fatal Error during Log Writing "+f);return}w=true;if(r.getSeverity()===e.message.severity.fatal){if(d.length<2){d.unshift(f)}}switch(r.getSeverity()){case e.message.severity.warning:n.warning(f);break;case e.message.severity.error:n.error(f);break;case e.message.severity.fatal:n.error(f);break;case e.message.severity.technError:n.error(f);break;default:n.info(f)}w=false}function D(r){g.check(r!==undefined&&r.hasOwnProperty("code")!==false,"MessageHandler setItem: oItem is undefined or property 'code' is missing",e.message.code.errorInMessageDefinition);var s=v.setItem(r.code,r);g.check(s===undefined,"MessageHandler setItem: Configuration includes duplicated codes",e.message.code.errorInMessageDefinition)}function F(e){if(e.type===undefined){e.type="message"}D(e)}function L(e){var r;var t="";var i="";var n="";var a="";var f=true;if(o.browser.firefox){f=false}if(f&&e&&e.originalEvent){t=e.originalEvent.message;n=e.originalEvent.filename;i=e.originalEvent.lineno}if(k(e)){e.stopImmediatePropagation();e.preventDefault()}else if(T(e)){return}else if(m){a="";if(f){a=t+" (source: "+n+":"+i+")"}r=new s({code:"5070",aParameters:[a]});O.bind(this)(r);j(r,1)}else{a="";if(f){a=t+" (source: "+n+":"+i+")"}r=new s({code:"5070",aParameters:[a]});O.bind(this)(r);j(r,1)}}function U(){E=P()}U()}i("sap.apf.core.MessageHandler",f);return f});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/messageObject", ["sap/apf/utils/exportToGlobal","sap/ui/Global","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";function r(t){var r=t.code;var n=t.aParameters||[];var i=t.oCallingObject;var s="";var u="";var a;var o=new Date;var c=t.rawText;this.type="messageObject";this.getCode=function(){return r};this.setCode=function(t){r=t};this.hasRawText=function(){return c!==undefined};this.getRawText=function(){return c};this.getMessage=function(){return s};this.setMessage=function(t){s=t};this.setSeverity=function(t){u=t};this.getSeverity=function(){return u};this.setPrevious=function(t){a=t};this.getPrevious=function(){return a};this.getCallingObject=function(){return i};this.getParameters=function(){return n};this.getStack=function(){if(this.stack){return this.stack}return""};this.getTimestamp=function(){return o.getTime()};this.getTimestampAsdateObject=function(){return o};this.getJQueryVersion=function(){return jQuery().jquery};this.getSapUi5Version=function(){return e.version}}r.prototype=new Error;r.prototype.constructor=r;t("sap.apf.core.MessageObject",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadata", ["sap/apf/utils/utils","sap/apf/utils/hashtable","sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/base/util/each","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,r,a,n,i,s,jQuery){"use strict";function o(t,r){this.type="metadata";var o=this;var f=jQuery.Deferred();var c=[];var u=t&&t.constructors&&t.constructors.Hashtable||u;var l=new u(t.instances.messageHandler);var y=new u(t.instances.messageHandler);var h=new u(t.instances.messageHandler);var p=new u(t.instances.messageHandler);var d=new u(t.instances.messageHandler);var g=new u(t.instances.messageHandler);var v=new u(t.instances.messageHandler);var m=new u(t.instances.messageHandler);var E=new u(t.instances.messageHandler);var P=new u(t.instances.messageHandler);var I=new u(t.instances.messageHandler);var S=new u(t.instances.messageHandler);var O=t.constructors.ODataModel||i;var H=false;if(t.deactivateFatalError){H=true}var b;var M;var k;var A;var D=w(r);function w(e){var r=t.functions.getSapSystem();if(r){return s.setOrigin(e,{force:true,alias:r})}return e}function T(e){var t;function r(e){if(!t.dataType){t.dataType={}}t.dataType[e]=t[e]}function i(e,r){if(Array.isArray(t[r])===true){t[r].forEach(function(e){t[e.name]=e.value})}else if(r!=="dataType"&&typeof t[r]==="object"){if(Object.keys(t[r]).length===0){t[e]="true"}if(r!==e){n(t[r],function(r,a){t[e]=a})}}else{t[e]=t[r]}}if(e===null){return{}}t=a({},e);n(t,function(e){switch(e){case"type":r(e);break;case"maxLength":r(e);break;case"precision":r(e);break;default:var t=e.split(".").pop();if(t.search("ISO")===0){i(t,e)}else{i(t.replace(/^./,t[0].toLowerCase()),e)}break}});return t}function F(e,t){if(p.hasItem(e)!==true){var r;var a={};var n={allParameters:[],keyParameters:[]};if(x(e)){r=B(e);if(r.key&&r.key.propertyRef){r.key.propertyRef.forEach(function(e){a[e.name]=null})}r.property.forEach(function(e){var t=T(e);t.isKey=a.hasOwnProperty(t.name);n.allParameters.push(t);if(t.isKey){n.keyParameters.push(t)}})}p.setItem(e,n)}if(!t){return p.getItem(e).allParameters}return p.getItem(e).keyParameters}function C(e){var t=[];var r;if(x(e)){e=z(e)}r=B(e);r.property.forEach(function(e){t.push(e.name)});return t}function j(e){var t;if(h.hasItem(e)===true){return h.getItem(e)}var r;var a=[];var n=[];var i=z(e);if(i&&R(i)){var s=B(i);s.property.forEach(function(e){a.push(e.name)})}var o=F(e,false);for(t=0;t<o.length;t++){n.push(o[t].name)}r=a.concat(n);h.setItem(e,r);return r}function U(e){return g.getItem(e)}function q(e){var t=U(e);t=t||U(e+"Results");if(!t&&B(e)){t=e}return t}function N(e){if(y.hasItem(e)===false){var t=[];var r=B(e);r.property.forEach(function(e){if(!(e["sap:filterable"]==="false"||e.filterable&&e.filterable==="true")){t.push(e.name)}});y.setItem(e,t)}return y.getItem(e)}function x(e){return K(e)==="parameters"}function R(e){return K(e)==="aggregate"}function K(e){if(!m.hasItem(e)){var t=B(e);var r=t&&t["sap:semantics"]||"undefined";m.setItem(e,r)}return m.getItem(e)}function L(e,t){if(l.hasItem(e+t)===false){var r=x(e);var a=B(e);var n=b.getODataProperty(a,t);if(!n&&r){var i=z(e);a=B(i);n=b.getODataProperty(a,t)}l.setItem(e+t,T(n))}return l.getItem(e+t)}function z(e){var t=P.getItem(e);if(t){return U(t.toAggregateEntitySet)}return e}function B(e){if(!e){return undefined}if(!S.hasItem(e)){var t=b.getODataEntityType(k+e);if(!t){return t}S.setItem(e,t)}return S.getItem(e)}function G(){var e;M=u();M.attachMetadataLoaded(function(){b=M.getMetaModel();b.loaded().then(function(){if(!M.getServiceMetadata()){e="5018";if(H){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[r],oCallingObject:o}));f.reject();return}a();n();i(M);s();f.resolve(this)}.bind(this))}.bind(this));M.attachMetadataFailed(function(){e="5018";if(H){e="11013"}t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:e,aParameters:[r],oCallingObject:o}));f.reject();return});function a(){var e={};var a=b.getODataEntityContainer()&&b.getODataEntityContainer().entitySet;if(!a){t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5041",aParameters:[r],oCallingObject:o}));return}a.forEach(function(t){var r=t.entityType.split(/[. ]+/).pop();g.setItem(t.name,r);v.setItem(r,t.name);if(!e.hasOwnProperty(r)){e[r]=true;c.push(r)}})}function n(){var e=b.getODataEntityContainer()&&b.getODataEntityContainer().entitySet;if(!e){return}var t=e[0].entityType.split(".");t.pop();k=t.join(".")+"."}function i(e){var t=e&&e.getServiceAnnotations();if(t&&t.aliasDefinitions&&t.aliasDefinitions.Capabilities){A=t.aliasDefinitions.Capabilities+"."}}function s(){var e=b.getODataEntityContainer();if(!e||!e.associationSet){return}e.associationSet.forEach(function(e){var t=e.end[0].entitySet,r=e.end[1].entitySet,a,n;if(x(U(t))){a=t}else if(R(U(t))){n=t}if(x(U(r))){a=r}else if(R(U(r))){n=r}if(!a||!n){return}var i;var s=B(U(a));var o;s.navigationProperty.forEach(function(t){if(!o&&t.relationship===e.association){i=t.name;o=true}});if(!i){return}var f={navigationProperty:i,fromParameterEntitySet:a,toAggregateEntitySet:n,fromIsUnique:undefined,toIsUnique:undefined};if(E.hasItem(a)){f.fromIsUnique=false;E.getItem(a).fromIsUnique=false}else{f.fromIsUnique=true;E.setItem(a,f);P.setItem(U(a),f)}if(I.hasItem(n)){I.getItem(n).toIsUnique=false}else{f.toIsUnique=true;I.setItem(n,f)}})}function u(){var e=t.instances.annotationHandler.getAnnotationsForService(r);var a={annotationURI:e,json:true};return new O(D,a)}}this.getEntityTypes=function(){return c};this.getPropertyMetadata=function(e,r){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect EntityType name or type");t.instances.messageHandler.check(r!==undefined&&typeof r==="string","sap.apf.core.Metadata:getPropertyMetadata incorrect sPropertyName name or type");var a=q(e);if(!a){return{}}return L(a,r)};this.getUriComponents=function(e){if(!U(e)){if(U(e+"Results")){return{entitySet:e+"Results",navigationProperty:""}}return null}var r;switch(K(U(e))){case"undefined":return{entitySet:e,navigationProperty:""};case"parameters":r=E.getItem(e);if(!r||r.fromIsUnique===false){return{entitySet:e,navigationProperty:undefined}}return{entitySet:e,navigationProperty:r.navigationProperty};case"aggregate":r=I.getItem(e);if(!r){return{entitySet:e,navigationProperty:""}}if(r.toIsUnique===false){return{entitySet:undefined,navigationProperty:undefined}}return{entitySet:r.fromParameterEntitySet,navigationProperty:r.navigationProperty};default:t.instances.messageHandler.check(false,"metadata : getUriComponents - not handled return value for sap semantics")}};this.getFilterableProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getFilterableProperties incorrect EntityType name or type");var r=q(e);if(!r){return[]}r=z(r);return N(r)};this.getAllPropertiesOfEntitySet=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getAllPropertiesOfEntitySet incorrect EntitySet name or type");var r=q(e);if(!r){return[]}return C(r)};this.getAllProperties=function(){var r=[];var a;this.getEntityTypes().forEach(function(e){a=j(e);if(a.length===0){a=C(e)}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getFilterablePropertiesAndParameters=function(){var r=[];var a;var n=this.getEntityTypes();n.forEach(function(e){var t=B(e);t.property.forEach(function(e){if(!(e["sap:filterable"]==="false")&&e["sap:aggregation-role"]==="dimension"){r.push(e.name)}});a=F(e,false);a.forEach(function(e){r.push(e.name)})});return e.eliminateDuplicatesInArray(t.instances.messageHandler,r)};this.getParameterEntitySetKeyPropertiesForService=function(){var r=[];this.getEntityTypes().forEach(function(e){F(e,true).forEach(function(e){r.push(e.name)})});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAllKeys=function(){var r=[];var a=[];this.getEntityTypes().forEach(function(e){var t=B(e);a=[];if(t.key&&t.key.propertyRef){t.key.propertyRef.forEach(function(e){a.push(e.name)})}r=r.concat(a)});r=e.eliminateDuplicatesInArray(t.instances.messageHandler,r);return r};this.getAttributes=function(e){var t=false;var r={};this.getEntityTypes().forEach(function(a){if(!t){r=L(a,e);if(r.name){t=true}}});return r};this.getParameterEntitySetKeyProperties=function(e){t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getParameterEntitySetKeyProperties incorrect EntityType name or type");var r=q(e);if(!r){return[]}return F(r,true)};this.getEntityTypeAnnotations=function(e){var r=q(e);t.instances.messageHandler.check(e!==undefined&&typeof e==="string","sap.apf.core.Metadata:getEntityTypeAnnotations incorrect EntityType name or type");if(d.hasItem(r)===true){return d.getItem(r)}var a={};i(r,a);var n=z(r);if(n!==r){i(n,a)}d.setItem(r,a);return d.getItem(r);function i(e,t){var r;var a;var n;var i=B(e);for(r in i){if(i.hasOwnProperty(r)){if(r.indexOf(A)!==0){continue}a=r.split(".").pop();a=a.replace(/^./,a[0].toLowerCase());for(n in i[r]){if(i[r].hasOwnProperty(n)){t[a]=i[r][n]}}}}}};this.getEntitySets=function(){var e={};var t=[];var r=b.getODataEntityContainer();if(!r){return[]}if(r.associationSet){r.associationSet.forEach(function(t){var r,a,n;r=q(t.end[0].entitySet);if(!x(r)){return}n=t.end[1].entitySet;a=q(n);if(!x(a)){e[n]=true}})}if(r.entitySet){r.entitySet.forEach(function(r){if(!e[r.name]){t.push(r.name)}})}return t};this.getAllEntitySetsExceptParameterEntitySets=function(){var e=b.getODataEntityContainer();var t=[];if(!e){return[]}if(e.entitySet){e.entitySet.forEach(function(e){var r=U(e.name);if(!x(r)){t.push(e.name)}})}return t};this.getEntitySetByEntityType=function(e){return v.getItem(e)};this.getHierarchyAnnotationsForProperty=function(e,a){var n={};var i=this.getAllPropertiesOfEntitySet(e);if(i.length===0){return t.instances.messageHandler.createMessageObject({code:5072,aParameters:[e,r]})}var s=U(e);var o=z(s);i.forEach(function(e){var t=L(o,e);if(t["hierarchy-node-for"]===a){n.hierarchyNodeFor=e}});if(!n.hierarchyNodeFor){return t.instances.messageHandler.createMessageObject({code:5073,aParameters:[e,r,a]})}i.forEach(function(e){var t=L(o,e);if(t["hierarchy-level-for"]===n.hierarchyNodeFor){n.hierarchyLevelFor=e}else if(t["hierarchy-parent-node-for"]===n.hierarchyNodeFor){n.hierarchyParentNodeFor=e}else if(t["hierarchy-drill-state-for"]===n.hierarchyNodeFor){n.hierarchyDrillStateFor=e}else if(t["hierarchy-node-external-key-for"]===n.hierarchyNodeFor){n.hierarchyNodeExternalKeyFor=e}});return n};this.getHierarchicalEntitySets=function(){var e=[];var t=this.getEntitySets();t.forEach(function(t){var r=J.call(this,t);if(r.entitySet){e.push(r.entitySet)}}.bind(this));return e};this.getHierarchicalPropertiesOfEntitySet=function(e){return J.call(this,e).hierarchyProperties};function J(e){var t={};t.hierarchyProperties=[];var r=U(e);if(!r){return t}var a=z(r);var n=this.getAllPropertiesOfEntitySet(e);n.forEach(function(r){var i=L(a,r);var s=false;var o=false;var f=false;if(i["hierarchy-node-for"]!==undefined){var c=i["hierarchy-node-for"];var u=r;n.forEach(function(e){var t=L(a,e);if(t["hierarchy-level-for"]===u){s=true}else if(t["hierarchy-parent-node-for"]===u){o=true}else if(t["hierarchy-drill-state-for"]===u){f=true}});if(s&&o&&f){t.entitySet=e;t.hierarchyProperties.push(c)}}});return t}this.getNonHierarchicalPropertiesOfEntitySet=function(e){var t=[];var r=U(e);if(!r){return t}var a=z(r);var n=this.getAllPropertiesOfEntitySet(e);var i=J.call(this,e).hierarchyProperties;n.forEach(function(e){var r=L(a,e);if(r["hierarchy-node-for"]===undefined&&r["hierarchy-node-external-key-for"]===undefined&&r["hierarchy-parent-node-for"]===undefined&&r["hierarchy-level-for"]===undefined&&r["hierarchy-drill-state-for"]===undefined&&r["hierarchy-node-descendant-count-for"]===undefined&&i.indexOf(e)===-1){var n=r.name;t.push(n)}});return t};this.getODataModel=function(){return M};this.isInitialized=function(){return f.promise()};G.call(this)}r("sap.apf.core.Metadata",o);return o},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFacade", ["sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";function a(e,a){this.type="metadataFacade";var i=e.instances.messageHandler;var n=e.instances.metadataFactory;var o;var s;var f={};this.getAllProperties=function(e){var r;var a;var s=0;var f;var u=[];if(o){e(o)}else{r=c();a=r.length;for(f=0;f<a;f++){n.getMetadata(r[f]).done(p)}}function p(r){s++;u=u.concat(r.getAllProperties());if(a==s){o=t.eliminateDuplicatesInArray(i,u);e(o)}}};this.getAllParameterEntitySetKeyProperties=function(e){var r;var a;var o=0;var f;var u=[];if(s){e(s)}else{r=c();a=r.length;for(f=0;f<a;f++){n.getMetadata(r[f]).done(p)}}function p(r){o++;u=u.concat(r.getParameterEntitySetKeyPropertiesForService());if(a==o){s=t.eliminateDuplicatesInArray(i,u);e(s)}}};this.getPropertyMetadataByEntitySet=function(e,t,a){var i=jQuery.Deferred();n.getMetadata(e).done(function(e){var n=e.getPropertyMetadata(t,a);i.resolve(new r.constructor(n))});return i.promise()};this.getProperty=function(e){var t;var a;var i;var o=jQuery.Deferred();if(f[e]){o.resolve(f[e])}else{t=c();i=t.length;for(var s=0;s<i;s++){n.getMetadata(t[s]).done(function(t){a=t.getAttributes(e);if(a.name){if(t.getParameterEntitySetKeyPropertiesForService().indexOf(e)>-1){a.isParameterEntitySetKeyProperty=true}if(t.getAllKeys().indexOf(e)>-1){a.isKey=true}for(var i in a){if(i==="dataType"){for(var n in a.dataType){a[n]=a.dataType[n]}}}f[e]=new r.constructor(a);o.resolve(f[e])}})}}return o.promise()};function c(){if(typeof a==="string"){return[a]}return n.getServiceDocuments()}}e("sap.apf.core.MetadataFacade",a);return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataFactory", ["sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(t){this.type="metadataFactory";var e=t.instances.messageHandler;var a=t.constructors.Hashtable;var n=t.constructors.Metadata;var r=t.constructors.EntityTypeMetadata;var s=t.constructors.MetadataFacade;delete t.constructors.Metadata;delete t.constructors.EntityTypeMetadata;delete t.constructors.MetadataFacade;delete t.instances.configurationFactory;var i=new a(e);this.getMetadata=function(e){if(i.hasItem(e)===false){i.setItem(e,{metadataPromise:new n(t,e).isInitialized()})}return i.getItem(e).metadataPromise};this.getEntityTypeMetadata=function(t,n){var s;var o;var c=this.getMetadata(t);s=i.getItem(t).entityTypes;if(!s){s=new a(e);i.getItem(t).entityTypes=s}if(!s.getItem(n)){o=jQuery.Deferred();s.setItem(n,o.promise());c.then(function(t){o.resolve(new r(e,n,t))},function(){o.resolve(undefined)})}return s.getItem(n)};this.getMetadataFacade=function(a){return new s({constructors:{MetadataProperty:t.constructors.MetadataProperty},instances:{messageHandler:e,metadataFactory:this}},a)};this.getServiceDocuments=function(){return t.functions.getServiceDocuments()};this.getEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getAllEntitySetsExceptParameterEntitySets=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getAllEntitySetsExceptParameterEntitySets())}).fail(function(){e.resolve([])});return e.promise()};this.getEntityTypes=function(t){var e=jQuery.Deferred();this.getMetadata(t).done(function(t){e.resolve(t.getEntityTypes())}).fail(function(){e.resolve([])});return e.promise()}}t("sap.apf.core.MetadataFactory",e);return e});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/metadataProperty", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t){var r=this;var i=false;var a=false;this.isKey=function(){return i};this.isParameterEntitySetKeyProperty=function(){return a};this.getAttribute=function(t){if(typeof this[t]!=="function"){return this[t]}};this.clone=function(){return new e(t)};function n(t,e){switch(t){case"isKey":if(e===true){i=true}break;case"isParameterEntitySetKeyProperty":if(e===true){a=true}break;default:if(typeof r[t]!=="function"){r[t]=e}}return r}function u(){for(var e in t){switch(e){case"dataType":for(var r in t.dataType){n(r,t.dataType[r])}break;default:n(e,t[e])}}}u()}t("sap.apf.core.MetadataProperty",e);return{constructor:e}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataProxy", ["sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/constants","sap/base/i18n/Localization","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery"],function(e,t,a,s,n,jQuery){"use strict";var r=a.entitySets;function o(e,a){var o=a.instances.coreApi;var i=a.instances.messageHandler;var c=e.serviceRoot;function u(e,t){return o.getEntityTypeMetadata(e,t)}function f(e){var t,a,s;if(!e){return""}a=e.length;if(a===1){return"('"+e[0].value+"')"}s="(";for(t=0;t<a;t++){if(t>0){s=s+","}s=s+e[t].name+"='"+e[t].value+"'"}return s+")"}function d(e){var t;if(e.messageObject&&e.messageObject.getCode){t=e.messageObject}else if(e.response&&e.response.statusCode&&e.response.statusCode>=400){t=i.createMessageObject({code:"11005",aParameters:[e.response.statusCode.toString(),e.response.statusText]})}else{t=i.createMessageObject({code:"5201"})}i.putMessage(t);return t}function h(e,t){var a=d(e);t(undefined,undefined,a)}function l(e,t,a,s){var n;var r;if(e&&e.results){n=e.results}else if(e){n=e}else{r=i.createMessageObject({code:"5201"})}u(t,a).done(function(e){s(n,e,r)})}function p(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);delete e.SerializedAnalyticalConfiguration;t.configHeader=e;e.SerializedAnalyticalConfiguration=JSON.stringify(t);return e}this.readEntity=function(e,t,a,s,n){var i=r[e];o.getXsrfToken(c).done(function(e){var n=c+"/"+i;n=n+f(a);if(s&&s.length>0){n=n+"?$select="+s.join()}var r={requestUri:n,async:true,method:"GET",headers:{"x-csrf-token":e}};o.odataRequest(r,function(e){l(e,c,i,t)},function(e){h(e,t)})})};function v(e,a,s){var n="'";if(s&&s.dataType){return t.formatValue(a,s.dataType.type)}if(typeof a==="number"){return a}return n+t.escapeOdata(a)+n}function g(e){var t=jQuery.Deferred();o.getXsrfToken(c).done(function(a){var n=[];var o,i=e.length;var d;var h=0;for(o=0;o<i;o++){d=r[e[h].entitySetName];u(c,d).done(function(o){var c,u,d;var l=false;c=r[e[h].entitySetName];c=c+f(e[h].inputParameters);if(e[h].selectList&&e[h].selectList.length>0){c=c+"?$select="+e[h].selectList.join();l=true}if(e[h].filter){if(l){c=c+"&"}else{c=c+"?"}c=c+"$filter="+e[h].filter.toUrlParam({formatValue:function(e,t){return v(e,t,o)}})}u=e[h].method||"GET";d={requestUri:c,method:u,headers:{"Accept-Language":s.getLanguage(),"x-csrf-token":a}};if(u!=="GET"){d.data=e[h].data}n.push(d);h++;if(h===i){t.resolve(n)}})}});return t}function b(e,t,a,s){var n=jQuery.Deferred();var o="";var i=e+f(t);if(a&&a.length>0){o="$select="+a.join()}u(c,e).done(function(t){if(s){if(o){o=o+"&"}o=o+"$filter="+s.toUrlParam({formatValue:function(e,a){return v(e,a,t)}})}if(e===r.application){if(o){o=o+"&"}o=o+"$orderby=ApplicationName"}if(o){i=i+"?"+o}n.resolve(i)});return n}function _(e,t){var a="unknown error";var s="unknown error";var n="";if(e.message!==undefined){a=e.message}var r="unknown";if(e.response&&e.response.statusCode){r=e.response.statusCode;s=e.response.statusText||"";n=e.response.requestUri}if(e.messageObject&&e.messageObject.type==="messageObject"){t([],e.messageObject)}else{t([],i.createMessageObject({code:"5001",aParameters:[r,a,s,n]}))}}this.doChangeOperationsInBatch=function(e,t){o.getXsrfToken(c).done(function(a){g(e).done(function(e){var s={requestUri:c+"/"+"$batch",method:"POST",headers:{"x-csrf-token":a},data:{__batchRequests:[{__changeRequests:e}]}};var r=function(e,a){var s;var n;var r,o,c;var u="";var f,d;if(e&&e.__batchResponses){for(f=0;f<e.__batchResponses.length;f++){if(e.__batchResponses[f].message){r=e.__batchResponses[f].message;o="";u=a.requestUri;s=i.createMessageObject({code:"5001",aParameters:[o,r,"",u]});break}for(d=0;d<e.__batchResponses[f].__changeResponses.length;d++){n=e.__batchResponses[f].__changeResponses[d];if(n.message){r=n.message;c=n.data;o=n.statusCode;u=a.requestUri;s=i.createMessageObject({code:"5001",aParameters:[o,r,c,u]});break}}}t(s)}};var u=function(e){_(e,t)};o.odataRequest(s,r,u,n.batchHandler)})})};this.readCollectionsInBatch=function(e,t){o.getXsrfToken(c).done(function(a){g(e).done(function(e){var s={requestUri:c+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":a},data:{__batchRequests:e}};var r=function(e){var a=[];var s,n,r,o,c;var u;if(e&&e.__batchResponses){for(u=0;u<e.__batchResponses.length;u++){if(e.__batchResponses[u].data&&e.__batchResponses[u].data.results){a.push(e.__batchResponses[u].data.results)}else if(e.__batchResponses[u].message){n=e.__batchResponses[u].message;r=e.__batchResponses[u].response.body;o=e.__batchResponses[u].response.statusCode;c=a.requestUri;s=i.createMessageObject({code:"5001",aParameters:[o,n,r,c]});break}else{c=a.requestUri;s=i.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",c]});break}}t(a,s)}};var u=function(e){_(e,t)};o.odataRequest(s,r,u,n.batchHandler)})})};this.readCollection=function(e,t,a,s,n){m(e,t,a,s,n)};function m(e,t,a,f,d){var l=r[e];var p=function(e,a){var s;var n;var r="";if(e&&e.__batchResponses){if(e.__batchResponses[0].data&&e.__batchResponses[0].data.results){s=e.__batchResponses[0].data.results}else if(e.__batchResponses[0].message){var o=e.__batchResponses[0].message;var f=e.__batchResponses[0].response.body;var d=e.__batchResponses[0].response.statusCode;r=a.requestUri;n=i.createMessageObject({code:"5001",aParameters:[d,o,f,r]})}else{r=a.requestUri;n=i.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",r]})}u(c,l).done(function(e){t(s,e,n)})}};o.getXsrfToken(c).done(function(e){b(l,a,f,d).done(function(a){var r={requestUri:c+"/"+"$batch",async:true,method:"POST",headers:{"x-csrf-token":e},data:{__batchRequests:[{requestUri:a,method:"GET",headers:{"x-csrf-token":e,"Accept-Language":s.getLanguage()}}]}};o.odataRequest(r,p,function(e){h(e,t)},n.batchHandler)})})}this.create=function(e,t,a){if(e==="configuration"){t=p(t)}var s=r[e];o.getXsrfToken(c).done(function(e){var n=c+"/"+s;var r={requestUri:n,async:true,method:"POST",headers:{"x-csrf-token":e},data:t};function f(e,t){var n;var r;if(e&&t.statusCode===201){n=e}else{r=i.createMessageObject({code:"5201"})}u(c,s).done(function(e){a(n,e,r)})}function h(e){var t=d(e);a(undefined,undefined,t)}o.odataRequest(r,f,h)})};this.update=function(e,t,a,s){if(e==="configuration"){t=p(t)}var n=r[e];o.getXsrfToken(c).done(function(e){var r=c+"/"+n+f(s);var h={requestUri:r,method:"PUT",headers:{"x-csrf-token":e},data:t};function l(e,t){var s;if(t.statusCode!==204){s=i.createMessageObject({code:"5201"})}u(c,n).done(function(e){a(e,s)})}function p(e){var t=d(e);a(undefined,t)}o.odataRequest(h,l,p)})};this.remove=function(e,t,a,s){var n=r[e];o.getXsrfToken(c).done(function(e){var r=c+"/"+n+f(t);u(c,n).done(function(t){if(s){r=r+"$filter="+s.toUrlParam({formatValue:function(e,a){return v(e,a,t)}})}var a={requestUri:r,method:"DELETE",headers:{"x-csrf-token":e}};o.odataRequest(a,h,l)});function h(e,t){if(t.statusCode===204){u(c,n).done(function(e){a(e,undefined)})}else{var s=i.createMessageObject({code:"5201"});a(undefined,s)}}function l(e){var t=d(e);a(undefined,t)}})}}e("sap.apf.core.OdataProxy",o);return o});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/odataRequest", ["sap/apf/core/utils/checkForTimeout","sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils"],function(e,t,r){"use strict";function a(t,a,s,i,u){var n=t.instances.datajs;function c(t,r){var a=e(r);var u={};if(a){u.messageObject=a;i(u)}else{s(t,r)}}function o(t){var r=e(t);if(r){t.messageObject=r}i(t)}var f=a.serviceMetadata;var p=t.functions.getSapSystem();if(p&&!a.isSemanticObjectRequest){var q=/(\/[^\/]+)$/g;if(a.requestUri&&a.requestUri[a.requestUri.length-1]==="/"){a.requestUri=a.requestUri.substring(0,a.requestUri.length-1)}var l=a.requestUri.match(q)[0];var v=a.requestUri.split(l);var U=r.setOrigin(v[0],{force:true,alias:p});a.requestUri=U+l}n.request(a,c,o,u,undefined,f)}t("sap.apf.core.odataRequestWrapper",a);return a});
/*!
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/path", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/utils/exportToGlobal","sap/apf/utils/trace","sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,t,i,r,a,jQuery){"use strict";var n=e.message.code;function s(e){this.type="path";var i=e.instances.messageHandler;var s=e.instances.coreApi;var o=[];var u=[];var c=0;this.destroy=function(){u=[];o.forEach(function(e){e.destroy()});o=[]};this.getFilterInformation=function(){var e=false;var t=[];var i=u[0];o.forEach(function(r,a){if(!e){if(this.stepIsActive(r)){e=true}else{t.push(r.getFilterInformation(i,a))}}}.bind(this));return Promise.all(t).then(function(e){return[].concat.apply([],e)})};this.getSteps=function(){return a([],o)};this.addStep=function(e,t){r.logCall("Path.addStep");o.push(e);this.update(t);r.logReturn("addStep")};this.makeStepActive=function(e){var t=this.stepIsInPath(e);r.log("makeStepActive",", bStepIsInPath",t);i.check(t,"An unknown step can't be an active step.",n.errorCheckWarning);if(t){if(this.stepIsActive(e)===false){u.push(e)}}};this.makeStepInactive=function(e){var t=this.stepIsActive(e);r.log("makeStepInactive",", bStepIsActive",t);i.check(t,"Only an active step can be removed from the active steps.",n.errorCheckWarning);if(t){var a=u.indexOf(e);u.splice(a,1)}};this.stepIsActive=function(e){var t=u.indexOf(e);return t>=0};this.stepIsInPath=function(e){var t=o.indexOf(e);return t>=0};this.getActiveSteps=function(){return a([],u)};this.getCumulativeFilterUpToActiveStep=function(){var e=jQuery.Deferred();var t=this;h().done(function(t){if(o.length===0){e.resolve(t)}else{i(0,t,function(t){e.resolve(t)})}});return e.promise();function i(e,r,a){o[e].determineFilter(r.copy(),function(n,s){if(s){r=s}r.addAnd(n);if(t.stepIsActive(o[e])||!o[e+1]){a(r);return}i(++e,r,a)})}};this.moveStepToPosition=function(e,t,r){var a=o.indexOf(e);var n=t;i.check(typeof t==="number"&&t>=0&&t<o.length,"Path: moveStepToPosition invalid argument for nPosition");i.check(a>=0&&a<o.length,"Path: moveStepToPosition invalid step");if(a===t){return}o.splice(a,1);o.splice(n,0,e);this.update(r)};this.removeStep=function(e,t){r.logCall("Path.removeStep");var a=this.stepIsInPath(e);var n=this.stepIsActive(e);var s=o.indexOf(e);i.check(a,"Path: remove step - invalid step");o.splice(s,1);if(n){this.makeStepInactive(e)}this.update(t);e.destroy();r.logReturn("removeStep")};this.update=function(e,t){r.logCall("Path.update");if(!o[0]){if(t){r.log("update - fnUpdatePathFinished <<< ");t()}r.logReturn("update");return}var a;var n=o[0];h().done(function(u){r.log("update - @ getContextFilter().done(oContextFilter)");c++;a=c;n.update(u,f);function f(t,s){var f=o.indexOf(n);r.logCall("Path.update.callbackAfterRequest"," nIndexOfCurrentStep=",f,", nCurrentUpdateCount="+a);var p;if(a===c){if(t instanceof Error){var d=f+1;p=i.createMessageObject({code:"5002",aParameters:[d],callingObject:n});p.setPrevious(t);i.putMessage(p);n.setData({data:[],metadata:undefined},u);e(n,true);f++;n=o[f];while(n){n.setData({data:[],metadata:undefined},u);e(n,true);f++;n=o[f]}r.logReturn("update-callbackAfterRequest");return}if(s){n.setData(t,u)}r.log("update - before fnStepProcessedCallback");e(n,s);if(a!==c){r.logReturn("update-callbackAfterRequest");return}n.determineFilter(u.copy(),l)}r.logReturn("update-callbackAfterRequest")}function l(e,i){if(i){u=i}u=v(u,e,n.getContextInfo());var r=o.indexOf(n);u.addAnd(e);n=o[r+1];if(n){n.update(u,f)}else{s.storeApfState();u=undefined;if(t){t()}}}});r.logReturn("update")};this.serialize=function(){return{path:{steps:l(),indicesOfActiveSteps:f()}}};this.deserialize=function(e){p(e.path.steps,this);d(e.path.indicesOfActiveSteps,this)};function f(){var e=[];for(var t=0;t<o.length;t++){for(var i=0;i<u.length;i++){if(o[t]===u[i]){e.push(t)}}}return e}function l(){var e=[];for(var t=0;t<o.length;t++){e.push(o[t].serialize())}return e}function p(e,t){var i=t.update;t.update=function(){};var r;for(r=0;r<e.length;r++){s.createStep(e[r].stepId)}for(r=0;r<o.length;r++){o[r].deserialize(e[r])}t.update=i}function d(e,t){for(var i=0;i<e.length;i++){var r=e[i];t.makeStepActive(o[r])}}this.checkAddStep=function(e){var t=jQuery.Deferred();var r=s.getConfigurationObjectById(e);var a=s.getConfigurationObjectById(r.binding).requiredFilters;if(r.type==="hierarchicalStep"&&a&&a.length===1){var n=s.getConfigurationObjectById(r.request);s.getMetadata(n.service).done(function(e){var u=e.getPropertyMetadata(n.entityType,a[0]);if(u["hierarchy-node-for"]===r.hierarchyProperty){o.forEach(function(e){if(e.type==="hierarchicalStep"){var n=e.getBinding().getRequiredFilters();if(n.length===1&&n[0]===a[0]){t.resolve(false,i.createMessageObject({code:5234,aParameters:[r.hierarchyProperty,s.getTextNotHtmlEncoded(e.getAdditionalConfigurationProperties().title.key)],enrichInfoInMessageObject:true}))}}})}if(t.state()==="pending"){t.resolve(true)}})}else{t.resolve(true)}return t.promise()};function h(){var e=jQuery.Deferred();jQuery.when(s.getCumulativeFilter(),s.getSmartFilterBarAsPromise()).done(function(r,a){var n,s,o;var u=r.copy();if(a){n=a.getFilters();n.forEach(function(e){u.addAnd(t.transformUI5FilterToInternal(i,e))});o=a.getAnalyticalParameters();if(o&&o.length>0){for(s=0;s<o.length;s++){var c=o[s].fieldName;var f=o[s].fieldNameOData;var l=a.getFilters([c]);var p=undefined;if(l&&l.length){if(l[0].oValue1!==undefined){p=l[0].oValue1}else{p=l[0].aFilters[0].oValue1}u.addAnd(new t(i,f,"EQ",p))}}}}e.resolve(u)});return e}function v(t,i,r){if(e.exits&&e.exits.path&&e.exits.path.beforeAddingToCumulatedFilter){return e.exits.path.beforeAddingToCumulatedFilter(t,i,r)}return t}}i("sap.apf.core.Path",s);return{constructor:s}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/persistence", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,a,jQuery){"use strict";function s(a){var s;this.createPath=function(e,t,s){var i;var r=c(s);f().then(function(t){i={data:{AnalysisPath:"",AnalysisPathName:e,LogicalSystem:t,ApplicationConfigurationURL:a.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(s),StructuredAnalysisPath:JSON.stringify(r)},method:"POST"};if(a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){i.data.AnalyticalConfiguration=a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}n(i,o)},function(e){t({oResponse:undefined,status:"failed"},{},e)});function o(e,s,n){if(n){t({oResponse:e,status:"failed"},s,n)}else{a.instances.messageHandler.check(e&&e.data&&e.statusCode===201,"Persistence create Path - proper response");t({AnalysisPath:e.data.AnalysisPath,status:"successful"},s,n)}}};this.readPaths=function(e){var t={method:"GET"};n(t,s.bind(this));function s(t,s,n){if(!n&&t&&t.data&&t.data.results){for(var i in t.data.results){t.data.results[i].StructuredAnalysisPath=JSON.parse(t.data.results[i].StructuredAnalysisPath)}}else if(!n||t.statusCode!==200){n=a.instances.messageHandler.createMessageObject({code:"5211"})}if(n){e({oResponse:t,status:"failed"},s,n)}else{e({paths:t.data.results,status:"successful"},s,n)}}};this.deletePath=function(e,t){var s={method:"DELETE"};n(s,i.bind(this),e);function i(e,s,n){if(e.statusCode!==204&&!n){n=a.instances.messageHandler.createMessageObject({code:5201});n.setPrevious(a.instances.messageHandler.createMessageObject({code:5200,aParameters:[e.statusCode,e.statusText]}))}if(n){t({oResponse:e,status:"failed"},s,n)}else{t({status:"successful"},s,n)}}};this.modifyPath=function(e,t,s,i){var r=c(i);f().then(function(s){var c={data:{AnalysisPath:e,AnalysisPathName:t,LogicalSystem:s,ApplicationConfigurationURL:a.functions.getComponentName(),SerializedAnalysisPath:JSON.stringify(i),StructuredAnalysisPath:JSON.stringify(r)},method:"PUT"};if(a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){c.data.AnalyticalConfiguration=a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId}n(c,o.bind(this),e)},function(e){s({oResponse:undefined,status:"failed"},{},e)});function o(t,n,i){if(t.statusCode!==204&&!i){i=a.instances.messageHandler.createMessageObject({code:5201});i.setPrevious(a.instances.messageHandler.createMessageObject({code:5200,aParameters:[t.statusCode,t.statusText]}))}if(i){s({oResponse:t,status:"failed"},n,i)}else{s({AnalysisPath:e,status:"successful"},n,i)}}};this.openPath=function(e,t){var s={method:"GET"};n(s,i,e);function i(e,s,n){var i;if(!n&&e&&e.statusCode===200&&e.data&&e.data.SerializedAnalysisPath){e.data.SerializedAnalysisPath=JSON.parse(e.data.SerializedAnalysisPath)}if(n){i=a.instances.messageHandler.createMessageObject({code:"5210"});i.setPrevious(n);a.instances.messageHandler.putMessage(i)}t({path:e.data,status:"successful"},s)}};function n(e,t,s){var n=function(e,a){o().done(function(e){t(a,e,undefined)})};var c=function(e){var s;if(e.messageObject&&e.messageObject.getCode&&e.messageObject.getCode()===5021){o().done(function(a){t(e,a,e.messageObject)});return}var n=r(e.response.body);if(n!==undefined){s=a.instances.messageHandler.createMessageObject({code:n})}if(e.response.body.match("274")){s=a.instances.messageHandler.createMessageObject({code:"5207"})}if(e.response.statusCode===400){s=a.instances.messageHandler.createMessageObject({code:"5203"})}if(e.response.statusCode===403){s=a.instances.messageHandler.createMessageObject({code:"5206"})}if(e.response.statusCode===405){s=a.instances.messageHandler.createMessageObject({code:"5202"})}if(e.response.statusCode===404){s=a.instances.messageHandler.createMessageObject({code:"5208"})}if(!s&&e.response.statusCode===500){s=a.instances.messageHandler.createMessageObject({code:"5200",aParameters:[e.response.statusCode,e.response.statusText]})}if(!s){s=a.instances.messageHandler.createMessageObject({code:"5201"})}a.instances.messageHandler.putMessage(s);o().done(function(a){t(e,a,s)})};a.instances.coreApi.getPersistenceConfiguration().done(function(r){var d=r.path.service+"/"+r.path.entitySet;a.instances.coreApi.getXsrfToken(r.path.service).done(function(r){e.headers={"x-csrf-token":r};switch(e.method){case"GET":if(!e.data&&s){e.requestUri=d+"('"+s+"')";a.instances.coreApi.odataRequest(e,n,c)}else if(!e.data&&!s){i().then(function(t){e.requestUri=d+t;a.instances.coreApi.odataRequest(e,n,c)},function(e){o().done(function(a){t({},a,e)})})}break;case"POST":if(e.data&&!s){e.requestUri=d}a.instances.coreApi.odataRequest(e,n,c);break;case"DELETE":if(!e.data&&s){e.requestUri=d+"('"+s+"')"}a.instances.coreApi.odataRequest(e,n,c);break;case"PUT":if(e.data&&s){e.requestUri=d+"('"+s+"')"}a.instances.coreApi.odataRequest(e,n,c);break;default:a.instances.coreApi.odataRequest(e,n,c);break}})})}function i(){var e=jQuery.Deferred();f().then(function(t){var s="";if(a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId()){s="AnalyticalConfiguration%20eq%20'"+a.instances.coreApi.getStartParameterFacade().getAnalyticalConfigurationId().configurationId+"'%20and%20"}var n="?$select=AnalysisPath,AnalysisPathName,StructuredAnalysisPath,CreationUTCDateTime,LastChangeUTCDateTime&$filter=("+s+"LogicalSystem%20eq%20'"+t+"'%20and%20"+"ApplicationConfigurationURL%20eq%20'"+a.functions.getComponentName()+"')"+"&$orderby=LastChangeUTCDateTime%20desc";e.resolve(n)},function(t){e.fail(t)});return e.promise()}function r(e){var t=e.match("52[0-9]{2}");if(t){return t[0]}return undefined}function c(e){var t=[];var a=e.path.steps;var s;for(var n in a){t.push({stepId:a[n].stepId,selectedRepresentationId:a[n].binding.selectedRepresentationId})}s={steps:t,indexOfActiveStep:e.path.indicesOfActiveSteps[0]};return s}function o(){var e=jQuery.Deferred();a.instances.coreApi.getPersistenceConfiguration().done(function(t){a.instances.coreApi.getEntityTypeMetadata(t.path.service,t.path.entitySet).done(function(t){e.resolve(t)})});return e}function d(e){var t=e&&e.getFilterTermsForProperty("SAPClient");if(t===undefined||t.length!==1){return undefined}return t[0].getValue()}function u(n,i){a.instances.coreApi.getPersistenceConfiguration().done(function(r){var c=a.instances.messageHandler;var o=r.logicalSystem;if(!o){s=i;n.resolve(i);return n.promise()}var d=o.service;var u=o.entitySet||o.entityType;if(d===null){s=i;n.resolve(i);return n.promise()}if(u===undefined){u=e.entitySets.logicalSystem}a.instances.coreApi.getMetadata(d).done(function(e){a.instances.coreApi.getXsrfToken(d).done(function(r){var o=new t(c,"SAPClient","eq",i);var f=a.instances.coreApi.getUriGenerator().getAbsolutePath(d);f=f+a.instances.coreApi.getUriGenerator().buildUri(c,u,["LogicalSystem"],o,undefined,undefined,undefined,undefined,undefined,"Results",e);var l={requestUri:f,method:"GET",headers:{"x-csrf-token":r}};var g=function(e){var t;if(e&&e.results&&e.results instanceof Array&&e.results.length===1&&e.results[0].LogicalSystem){s=e.results[0].LogicalSystem;n.resolve(s)}else{t=c.createMessageObject({code:"5026",aParameters:[i]});n.fail(t)}};var p=function(e){var t=c.createMessageObject({code:"5026",aParameters:[i]});if(e.messageObject!==undefined&&e.messageObject.type==="messageObject"){t.setPrevious(e.messageObject)}n.fail(t)};a.instances.coreApi.odataRequest(l,g,p)})})})}function f(){var e=jQuery.Deferred();if(s){e.resolve(s);return e.promise()}var t=a.instances.coreApi.getStartParameterFacade().getSapClient();if(t){u(e,t);return e.promise()}a.instances.coreApi.getCumulativeFilter().done(function(a){t=d(a);if(!t){e.resolve("")}else{u(e,t)}});return e.promise()}}a("sap.apf.core.Persistence",s);return{constructor:s}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequest", ["sap/apf/core/utils/filter","sap/apf/core/request","sap/apf/utils/exportToGlobal"],function(e,t,a){"use strict";function s(t,a,s,n){var r=t.instances.coreApi;var i=t.instances.messageHandler;this.type="readRequest";this.send=function(t,s,n){var r;var c=function(e,t){var a;var n;var r=[];if(e&&e.type&&e.type==="messageObject"){i.putMessage(e);a=e}else{r=e.data;n=e.metadata}s(r,n,a)};if(t){r=t.getInternalFilter()}else{r=new e(i)}a.sendGetInBatch(r,c,n)};this.getMetadata=function(){return r.getEntityTypeMetadata(s,n)};this.getMetadataFacade=function(){return r.getMetadataFacade(s)}}a("sap.apf.core.ReadRequest",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/readRequestByRequiredFilter", ["sap/apf/core/request","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";var r=function(e,t,r,a){var i=e.instances.coreApi;var n=e.instances.messageHandler;this.type="readRequestByRequiredFilter";this.send=function(e,s,u){var d;var o;var c=function(e,t){var r;var a;var i=[];if(e&&e.type&&e.type==="messageObject"){n.putMessage(e);r=e}else{i=e.data;a=e.metadata}s(i,a,r)};i.getMetadata(r).done(function(r){var n=r.getParameterEntitySetKeyProperties(a);var s="";var p=r.getEntityTypeAnnotations(a);if(p.requiresFilter!==undefined&&p.requiresFilter==="true"){if(p.requiredProperties!==undefined){s=p.requiredProperties}}var f=s.split(",");n.forEach(function(e){f.push(e.name)});i.getCumulativeFilter().done(function(r){o=r.restrictToProperties(f);if(e){d=e.getInternalFilter();d.addAnd(o)}else{d=o}t.sendGetInBatch(d,c,u)})})};this.getMetadataFacade=function(){return i.getMetadataFacade(r)}};t("sap.apf.core.readRequestByRequiredFilter",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/representationTypes", ["sap/apf/core/constants"],function(t){"use strict";function e(){return[{type:"representationType",id:"ColumnChart",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"BarChart",constructor:"sap.apf.ui.representations.barChart",picture:"sap-icon://horizontal-bar-chart",label:{type:"label",kind:"text",key:"BarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChart",constructor:"sap.apf.ui.representations.lineChart",picture:"sap-icon://line-chart",label:{type:"label",kind:"text",key:"LineChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTwoVerticalAxes",constructor:"sap.apf.ui.representations.lineChartWithTwoVerticalAxes",picture:"sap-icon://line-chart-dual-axis",label:{type:"label",kind:"text",key:"LineChartWithTwoVerticalAxes"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"LineChartWithTimeAxis",constructor:"sap.apf.ui.representations.lineChartWithTimeAxis",picture:"sap-icon://line-chart-time-axis",label:{type:"label",kind:"text",key:"LineChartWithTimeAxis"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PieChart",constructor:"sap.apf.ui.representations.pieChart",picture:"sap-icon://pie-chart",label:{type:"label",kind:"text",key:"PieChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"DonutChart",constructor:"sap.apf.ui.representations.donutChart",picture:"sap-icon://donut-chart",label:{type:"label",kind:"text",key:"DonutChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORSIZE,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"ScatterPlotChart",constructor:"sap.apf.ui.representations.scatterPlotChart",picture:"sap-icon://scatter-chart",label:{type:"label",kind:"text",key:"ScatterPlotChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"BubbleChart",constructor:"sap.apf.ui.representations.bubbleChart",picture:"sap-icon://bubble-chart",label:{type:"label",kind:"text",key:"BubbleChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.REGIONCOLOR,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.REGIONSHAPE,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"1",min:"1"},{kind:t.representationMetadata.kind.BUBBLEWIDTH,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"StackedColumnChart",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://vertical-stacked-chart",label:{type:"label",kind:"text",key:"StackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"StackedBarChart",constructor:"sap.apf.ui.representations.stackedBarChart",picture:"sap-icon://horizontal-stacked-chart",label:{type:"label",kind:"text",key:"StackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedColumnChart",constructor:"sap.apf.ui.representations.percentageStackedColumnChart",picture:"sap-icon://full-stacked-column-chart",label:{type:"label",kind:"text",key:"PercentageStackedColumnChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"PercentageStackedBarChart",constructor:"sap.apf.ui.representations.percentageStackedBarChart",picture:"sap-icon://full-stacked-chart",label:{type:"label",kind:"text",key:"PercentageStackedBarChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:0,max:"*",min:"0"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"CombinationChart",constructor:"sap.apf.ui.representations.combinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"CombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"StackedCombinationChart",constructor:"sap.apf.ui.representations.stackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"StackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:2,max:"*",min:"2"}]}}},{type:"representationType",isCombinationChart:true,id:"DualCombinationChart",constructor:"sap.apf.ui.representations.dualCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",isCombinationChart:true,id:"DualStackedCombinationChart",constructor:"sap.apf.ui.representations.dualStackedCombinationChart",picture:"sap-icon://business-objects-experience",label:{type:"label",kind:"text",key:"DualStackedCombinationChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.LEGEND,defaultCount:0,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.YAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.YAXIS2,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"HeatmapChart",constructor:"sap.apf.ui.representations.heatmapChart",picture:"sap-icon://heatmap-chart",label:{type:"label",kind:"text",key:"HeatmapChart"},metadata:{dimensions:{supportedKinds:[{kind:t.representationMetadata.kind.XAXIS,defaultCount:1,max:"*",min:"1"},{kind:t.representationMetadata.kind.XAXIS2,defaultCount:1,max:"*",min:"0"}]},measures:{supportedKinds:[{kind:t.representationMetadata.kind.SECTORCOLOR,defaultCount:1,max:"1",min:"1"}]}}},{type:"representationType",id:"TableRepresentation",constructor:"sap.apf.ui.representations.table",picture:"sap-icon://table-chart",label:{type:"label",kind:"text",key:"tableView"},metadata:{properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:1,max:"*",min:"1"}]}}},{type:"representationType",id:"TreeTableRepresentation",constructor:"sap.apf.ui.representations.treeTable",picture:"sap-icon://tree",label:{type:"label",kind:"text",key:"treeTable"},metadata:{hierarchicalColumn:{supportedKinds:[{kind:t.representationMetadata.kind.HIERARCHIALCOLUMN,defaultCount:1,max:"1",min:"0"}]},properties:{supportedKinds:[{kind:t.representationMetadata.kind.COLUMN,defaultCount:0,max:"*",min:"0"}]}}},{type:"representationType",id:"ColumnChartSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart",label:{type:"label",kind:"text",key:"ColumnChartSorted"}},{type:"representationType",id:"ColumnChartClustered",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://bar-chart",label:{type:"label",kind:"text",key:"ColumnChartClustered"}},{type:"representationType",id:"ColumnChartClusteredSorted",constructor:"sap.apf.ui.representations.columnChart",picture:"sap-icon://vertical-bar-chart-2",label:{type:"label",kind:"text",key:"ColumnChartClusteredSorted"}},{type:"representationType",id:"StackedColumnSorted",constructor:"sap.apf.ui.representations.stackedColumnChart",picture:"sap-icon://upstacked-chart",label:{type:"label",kind:"text",key:"StackedColumnSorted"}}]}return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/request", ["sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/utils/filterSimplify","sap/base/i18n/Localization","sap/ui/thirdparty/datajs"],function(e,t,a,r,s,n,i){"use strict";var o=function(e,a){var r=e.instances.messageHandler;var o=e.instances.coreApi;var c=a.service;var u=a.selectProperties;var d=o.getUriGenerator();var p;if(c===undefined){p=r.createMessageObject({code:"5015",aParameters:[a.id]});r.putMessage(p)}var f=o.getMetadata(c);this.type=a.type;this.sendGetInBatch=function(e,p,g,v){f.done(function(f){o.getXsrfToken(c).done(function(l){var b=f.getUriComponents(a.entityType);var h,_;if(b){h=b.entitySet;_=b.navigationProperty}r.check(h!==undefined,"Invalid request configuration: An entityset does not exist under the service "+a.entityType);r.check(_!==undefined,"Invalid request configuration: A usable navigation does not exist for the service "+a.entityType);var m;var y;A(e);if(e&&e.getProperties){m=e.restrictToProperties(f.getFilterableProperties(h));if(o.getStartParameterFacade().isFilterReductionActive()){y=new s.FilterReduction;m=y.reduceFilter(r,m)}}x(g);var P=g&&g.paging;var M=g&&g.orderby;var R=d.buildUri(r,h,u,m,e,M,P,undefined,w,_,f);var O=[{requestUri:R,method:"GET",headers:{"Accept-Language":n.getLanguage(),"x-csrf-token":l}}];k();var q=d.getAbsolutePath(c);q=q+"$batch";var j={method:"POST",headers:{"x-csrf-token":l},requestUri:q,serviceMetadata:f.getODataModel().getServiceMetadata(),data:{__batchRequests:O}};var F=function(e,s){var n={};o.getEntityTypeMetadata(a.service,a.entityType).done(function(a){var i;try{var o="";if(e&&e.__batchResponses&&e.__batchResponses[0].data){n.data=e.__batchResponses[0].data.results;n.metadata=a;if(e.__batchResponses[0].data.__count){n.count=parseInt(e.__batchResponses[0].data.__count,10)}if(e.__batchResponses[1]&&e.__batchResponses[1].data){n.selectionValidation=e.__batchResponses[1].data.results}p(n,true)}else if(e&&e.__batchResponses[0]&&e.__batchResponses[0].response&&e.__batchResponses[0].message){o=s.requestUri;var c=e.__batchResponses[0].message;var u=e.__batchResponses[0].response.body;i=t.extractOdataErrorResponse(u);var d=e.__batchResponses[0].response.statusCode;n=r.createMessageObject({code:"5001",aParameters:[d,c,i,o]});r.putMessage(n)}else{o=s.requestUri||R;n=r.createMessageObject({code:"5001",aParameters:["unknown","unknown error","unknown error",o]});r.putMessage(n)}}catch(e){i=e&&e.message||"";window.console.trace("sap.apf.core.request catch exception: "+i);if(!r.isOwnException(e)){r.putMessage(r.createMessageObject({code:"5042",aParameters:[i]}))}}})};var T=function(e){var t="unknown error";var a;var s="unknown error";var n=R;if(e.message!==undefined){t=e.message}var i="unknown";if(e.response&&e.response.statusCode){i=e.response.statusCode;s=e.response.statusText||"";n=e.response.requestUri||R}if(e.messageObject&&e.messageObject.type==="messageObject"){r.putMessage(e.messageObject);p(e.messageObject)}else{a=r.createMessageObject({code:"5001",aParameters:[i,t,s,n]});r.putMessage(a);p(a)}};o.odataRequest(j,F,T,i.batchHandler);function k(){if(v&&v.requiredFilterProperties&&v.selectionFilter){var t=m.copy();t.addAnd(v.selectionFilter);if(o.getStartParameterFacade().isFilterReductionActive()){t=y.reduceFilter(r,t)}var a=d.buildUri(r,h,v.requiredFilterProperties,t,e,undefined,undefined,undefined,w,_,f);O.push({requestUri:a,method:"GET",headers:{"Accept-Language":n.getLanguage(),"x-csrf-token":l}})}}function w(e,a){var r="'";var s=f.getPropertyMetadata(h,e);if(s&&s.dataType){return t.formatValue(a,s)}if(typeof a==="number"){return a}return r+t.escapeOdata(a)+r}function x(e){var t,a;if(!e){return}t=Object.getOwnPropertyNames(e);for(a=0;a<t.length;a++){if(t[a]!=="orderby"&&t[a]!=="paging"){r.putMessage(r.createMessageObject({code:"5032",aParameters:[h,t[a]]}))}}}function A(e){var t=f.getFilterableProperties(h);var a="";var s=f.getEntityTypeAnnotations(h);var n;if(s.requiresFilter!==undefined&&s.requiresFilter==="true"){if(s.requiredProperties!==undefined){a=s.requiredProperties}}if(a===""){return}if(!t?.includes(a)){n=r.createMessageObject({code:"5006",aParameters:[h,a]});r.putMessage(n)}var i=e.getProperties();if(!i?.includes(a)){n=r.createMessageObject({code:"5005",aParameters:[h,a]});r.putMessage(n)}}})})}};e("sap.apf.core.Request",o);return o},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/resourcePathHandler", ["sap/apf/core/messageHandler","sap/apf/core/messageDefinition","sap/apf/core/odataProxy","sap/apf/core/layeredRepositoryProxy","sap/apf/cloudFoundry/runtimeProxy","sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/core/utils/uriGenerator","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/startParameter","sap/apf/utils/utils","sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,a,t,i,o,n,s,r,c,u,p,f,l,jQuery){"use strict";function d(e){var c=this;var p=e.instances.coreApi;var d=e.instances.messageHandler;var g=new u(d);var v;var m;var y=null;var L=jQuery.Deferred();var P=false;var C;this.loadConfigFromFilePath=function(a){if(P){return}P=true;var t=p.getStartParameterFacade().getAnalyticalConfigurationId();var i=a;p.ajax({url:i,dataType:"json",success:o,error:function(e,a,t){var o=d.createMessageObject({code:"5068",aParameters:[i,a,t]});B(o)},async:true,suppressSapSystem:true});function o(i,o,n){var s=e.functions.checkForTimeout(n);var r;if(s){r=d.createMessageObject({code:"5054",aParameters:[a]});r.setPrevious(s);B(r)}if(!i||!i.applicationConfiguration){B(d.createMessageObject({code:"5055",aParameters:[a]}))}if(i.applicationConfiguration.textResourceLocations===undefined){B(d.createMessageObject({code:"5056",aParameters:[a]}));return}U(i,t);M().done(function(){if(t){x(t)}else{b()}})}};function S(){return p.getStartParameterFacade().isLrepActive()}function x(a){var t=a.applicationId;var i=a.configurationId;if(S()&&!t){B(d.createMessageObject({code:"5024"}))}var o=new C({serviceRoot:m&&m.path&&m.path.service,entityTypes:{configuration:n.entitySets.configuration,texts:n.entitySets.texts}},{instances:{coreApi:p,messageHandler:d},manifests:e.manifests});if(S()){var s=[];var r=jQuery.Deferred();s.push(r);s.push(T(t,o))}o.readEntity("configuration",function(e,a,n){if(n){B(d.createMessageObject({code:"5022",aParameters:[i]}));L.resolve()}else{var s=JSON.parse(e.SerializedAnalyticalConfiguration);p.loadAnalyticalConfiguration(s);if(s.applicationTitle){v.appName=s.applicationTitle.key;v.appTitle=s.applicationTitle.key}if(S()){r.resolve()}else{t=t||e.Application;T(t,o).then(function(){L.resolve()})}}},[{name:"AnalyticalConfiguration",value:i}],undefined,t,{layer:"ALL"},{noMetadata:true});if(S()){jQuery.when.apply(jQuery,s).then(function(){L.resolve()})}}function T(e,a){var t=jQuery.Deferred();var i=new s(d,"Application","eq",e);var o=new s(d,"Language","eq",n.developmentLanguage);o.addAnd(i);var r=["TextElement","TextElementDescription"];a.readCollection("texts",function(e,a,i){if(i){B(d.createMessageObject({code:"5023",aParameters:[p.getStartParameterFacade().getAnalyticalConfigurationId()]}))}else{p.loadTextElements(e)}t.resolve()},undefined,r,o,{layer:"ALL"});return t.promise()}function b(){var e=c.getResourceLocation(n.resourceLocation.analyticalConfigurationLocation);var a;if(e!==""){p.ajax({url:e,dataType:"json",success:function(t,i,o){if(t){p.loadAnalyticalConfiguration(t);if(t.applicationTitle){v.appName=t.applicationTitle.key;v.appTitle=t.applicationTitle.key}L.resolve()}else{a=d.createMessageObject({code:"5057",aParameters:[e]});B(a)}},error:function(t,i,o,n){a=d.createMessageObject({code:"5057",aParameters:[e]});if(n){a.setPrevious(n)}B(a)},async:true,suppressSapSystem:true})}else{a=d.createMessageObject({code:"5060"});B(a)}}function M(){p.loadMessageConfiguration(a,true);return h(n.resourceLocation.applicationMessageDefinitionLocation,false)}function h(a,t){var i=jQuery.Deferred();var o=c.getResourceLocation(a);if(o!==""){p.ajax({url:o,dataType:"json",success:n,error:function(e,a,t,i){var n=d.createMessageObject({code:"5058",aParameters:[a,t,o]});if(i){n.setPrevious(i)}B(n)},async:true,suppressSapSystem:true})}else{i.resolve()}return i.promise();function n(a,o,n){var s;var r=e.functions.checkForTimeout(n);if(!r){if(a.messageConfiguration){p.loadMessageConfiguration(a.messageConfiguration.definitions,t)}}else{s=d.createMessageObject({code:"5067"});s.setPrevious(r);B(s)}i.resolve()}}function R(e){var a;if(!e||!e.path){a=d.createMessageObject({code:"5066"});B(a)}if(!e.path.service){a=d.createMessageObject({code:"5067"});B(a)}if(e.analyticalConfiguration){if(!e.analyticalConfiguration.service){a=d.createMessageObject({code:n.message.code.errorInAnalyticalConfig,rawText:"service or entity set are missing in analytical configuration in the application configuration"});B(a)}}}function j(e){var a;if(e.evaluations&&!e.evaluations.service){a=d.createMessageObject({code:"5063"});B(a)}if(e.evaluations&&(!e.evaluations.type||e.evaluations.type!=="smartBusinessRequest")){a=d.createMessageObject({code:"5062",rawText:"type in Smart Business configuration is not smartBusinessRequest"});B(a)}if(e.evaluations&&!e.evaluations.entityType){a=d.createMessageObject({code:"5061"});B(a)}}this.getResourceLocation=function(e){return g.getItem(e)};this.getPersistenceConfiguration=function(){var e=jQuery.Deferred();L.done(function(){e.resolve(m)});return e};this.getConfigurationProperties=function(){var a=jQuery.Deferred();e.corePromise.done(function(){a.resolve(v)});return a};function A(){var a,t,i;var o=e.manifests.manifest;var n=e.manifests.baseManifest;var s;if(L.state()==="resolved"){return}var c=r.getBaseURLOfComponent(f.getComponentNameFromManifest(e.manifests.baseManifest));var u=r.getBaseURLOfComponent(f.getComponentNameFromManifest(e.manifests.manifest));if(o["sap.app"].dataSources&&o["sap.app"].dataSources.PathPersistenceServiceRoot){i=o["sap.app"].dataSources.PathPersistenceServiceRoot.uri}else if(e.functions.isUsingCloudFoundryProxy()){i=""}else{s=d.createMessageObject({code:"5064"});B(s)}var l=n["sap.app"].i18n;if(typeof l==="string"){l=r.addRelativeToAbsoluteURL(c,l)}else if(typeof l==="object"){l=r.addRelativeToAbsoluteURL(c,l.bundleUrl)}var g=o["sap.app"].i18n;if(typeof g==="string"){g=r.addRelativeToAbsoluteURL(u,g)}else if(typeof g==="object"){g=r.addRelativeToAbsoluteURL(u,g.bundleUrl)}var v=o["sap.app"].title;var m=f.createPseudoGuid();p.registerTextWithKey(m,v);var y=p.getStartParameterFacade().getAnalyticalConfigurationId();var P="";if(o["sap.app"].dataSources&&o["sap.app"].dataSources.AnalyticalConfigurationLocation&&o["sap.app"].dataSources.AnalyticalConfigurationLocation.uri){P=o["sap.app"].dataSources.AnalyticalConfigurationLocation.uri;P=r.addRelativeToAbsoluteURL(u,P)}if(!y&&!P){s=d.createMessageObject({code:"5065"});B(s)}var C={appName:m,appTitle:m,analyticalConfigurationLocation:P,textResourceLocations:{apfUiTextBundle:l,applicationUiTextBundle:g},persistence:{path:{service:i}}};if(o["sap.apf"]&&o["sap.apf"].appSpecificParameters){for(a in o["sap.apf"].appSpecificParameters){C[a]=o["sap.apf"].appSpecificParameters[a]}}if(o["sap.app"].dataSources&&o["sap.app"].dataSources.SmartBusiness){t=o["sap.app"].dataSources.SmartBusiness.uri;C.smartBusiness={runtime:{service:t}}}if(o["sap.app"].dataSources&&o["sap.app"].dataSources.LogicalSystem){C.persistence.logicalSystem={service:o["sap.app"].dataSources.LogicalSystem.uri}}U({applicationConfiguration:C},y);M().done(function(){if(y){x(y)}else{b()}})}function O(){var e=p.getUriGenerator().getApfLocation();g.setItem(n.resourceLocation.apfUiTextBundle,e+"resources/i18n/apfUi.properties");g.setItem(n.resourceLocation.applicationMessageDefinitionLocation,"");g.setItem(n.resourceLocation.applicationMessageTextBundle,"");g.setItem(n.resourceLocation.applicationUiTextBundle,"");g.setItem(n.resourceLocation.analyticalConfigurationLocation,"")}function U(a,t){function i(e){v=l({},e);delete v.type;delete v.analyticalConfigurationLocation;delete v.applicationMessageDefinitionLocation;delete v.textResourceLocations;delete v.persistence}var o=a.applicationConfiguration;i(o);var s=a.applicationConfiguration.textResourceLocations;m=a.applicationConfiguration.persistence;if(!e.functions.isUsingCloudFoundryProxy()){R(m);if(!m.path.entitySet){m.path.entitySet=n.entitySets.analysisPath}}if(a.applicationConfiguration.smartBusiness){y=a.applicationConfiguration.smartBusiness;j(y)}var r;var c;var u;for(u in n.resourceLocation){if(!n.resourceLocation.hasOwnProperty(u)){continue}if(u===n.resourceLocation.analyticalConfigurationLocation&&t){continue}if(o[u]!==undefined){c=o[u]}else if(s[u]!==undefined){c=s[u]}else{continue}if(e.manifests){g.setItem(u,c)}else if(u===n.resourceLocation.apfUiTextBundle||e.instances.fileExists.check(c,true)){g.setItem(u,c)}else if(!t){r=d.createMessageObject({code:"5059",aParameters:[c,u]});B(r)}}}function B(e){d.putMessage(e)}function F(){var a;var t;var i;jQuery.when(L).done(function(){a=c.getResourceLocation(n.resourceLocation.apfUiTextBundle);t=c.getResourceLocation(n.resourceLocation.applicationUiTextBundle);i=c.getResourceLocation(n.resourceLocation.applicationMessageTextBundle);e.functions.initTextResourceHandlerAsPromise(a,t,i).done(function(){e.corePromise.resolve()})})}O();if(e.constructors&&e.constructors.ProxyForAnalyticalConfiguration){C=e.constructors.ProxyForAnalyticalConfiguration}else if(e.functions.isUsingCloudFoundryProxy()){C=e.constructors&&e.constructors.RuntimeProxy||o}else if(S()){C=e.constructors&&e.constructors.LayeredRepositoryProxy||i}else{C=t}if(e.manifests&&e.manifests.manifest){A()}if(e.corePromise){F()}}c("sap.apf.core.ResourcePathHandler",d);return d});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/sessionHandler", ["sap/apf/core/ajax","sap/apf/utils/exportToGlobal","sap/apf/utils/filter","sap/apf/utils/hashtable","sap/apf/core/constants","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,s,n,a,r,jQuery){"use strict";function i(t){var s=null;var a=false;var i=false;var f=false;var o="";var u="";var c=new n(t.instances.messageHandler);var l=t.instances.coreApi;var p=t.instances.messageHandler;if(t&&t.functions&&t.functions.serializeApfState&&typeof t.functions.serializeApfState=="function"){a=t.functions.serializeApfState}if(t&&t.functions&&t.functions.deserializeApfState&&typeof t.functions.deserializeApfState=="function"){i=t.functions.deserializeApfState}this.type="sessionHandler";this.ajax=function(t){e(t)};this.getXsrfToken=function(e){var t=jQuery.Deferred();e=d(e);var s=c.getItem(e);if(s!==undefined&&s!==false){return t.resolve(s)}this.fetchXcsrfToken(e).done(function(s){c.setItem(e,s);t.resolve(s)});return t.promise()};function d(e){var t=l.getStartParameterFacade().getSapSystem();if(t){return r.setOrigin(e,{force:true,alias:t})}return e}this.fetchXcsrfToken=function(e){var t=jQuery.Deferred();var s="HEAD";if(c.getItem(e)===false){s="GET"}this.ajax({url:l.getUriGenerator().getAbsolutePath(e),type:s,beforeSend:function(e){e.setRequestHeader("x-csrf-token","Fetch")},success:n.bind(this),error:a.bind(this),async:true});function n(e,s,n){u=n.getResponseHeader("x-csrf-token");if(u!==undefined&&u!==null){t.resolve(u)}if(u===null){u="";t.resolve(u)}}function a(s,n,a){if(s.status===405&&c.getItem(e)!==false){c.setItem(e,false);this.fetchXcsrfToken(e).done(function(e){t.resolve(e)})}else{u="";var r=p.createMessageObject({code:5101,aParameters:[]});p.putMessage(r);t.resolve(u)}}return t.promise()};this.setDirtyState=function(e){f=e};this.isDirty=function(){return f};this.setPathName=function(e){if(typeof e!="string"){o="";return}o=e};this.getPathName=function(){return o};this.isApfStateAvailable=function(){if(s===null){return false}return true};this.storeApfState=function(){var e=true;if(a){a(undefined,e).done(function(e){s=e})}};this.restoreApfState=function(){if(this.isApfStateAvailable()&&i){l.resetPath();return i(s)}}}t("sap.apf.core.SessionHandler",i);return i});
sap.ui.predefine("sap/apf/core/step", ["sap/apf/utils/trace","sap/apf/core/utils/filter","sap/apf/core/utils/areRequestOptionsEqual","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/utils/filter","sap/apf/utils/executeFilterMapping","sap/apf/core/constants","sap/apf/core/metadataProperty","sap/base/util/deepExtend","sap/base/util/extend","sap/ui/thirdparty/jquery"],function(e,t,i,r,n,a,o,s,l,p,u,jQuery){"use strict";function f(t,r,a,f,d){t.check(r!==undefined,"Step: step configuration is missing");t.check(r.binding!==undefined,"No binding assigned to step "+r.id+" in analytical configuration",s.message.code.errorCheckConfiguration);var g=s.representationMetadata.labelDisplayOptions;var c=this;var h,v,y,T;var q={responseData:[]};var F=p({},r);this.type="step";this.title=p({},r.title);this.longTitle=undefined;if(r.longTitle){this.longTitle=p({},r.longTitle)}this.thumbnail=p({},r.thumbnail);this.categories=r.categories;this.destroy=function(){if(h){h.destroy()}v=undefined;y=undefined;T=undefined;h=undefined;c=undefined};this.getRequestConfiguration=function(){return a.getConfigurationById(r.request)};this.getAdditionalConfigurationProperties=function(){return F};this.update=function(t,n){var o;var s=this.getFilter();var l=!t.isEqual(y);var p=h.getRequestOptions(l);var u=!i(T,p);var f=a.getConfigurationById(r.request);e.logCall("Step.update",", bFilterChanged",l,", bRequestOptionsChanged",u);d.getMetadata(f.service).then(function(i){e.log("update  -  in oCoreApi.getMetadata().then()");if(!s.isEmpty()&&!r.topNSettings&&h.getSelectedRepresentation().type==="TableRepresentation"){var a=s.getProperties()[0];var d=[a];var g=i.getPropertyMetadata(f.entityType,a)["sap:text"];if(g){d.push(g)}o={selectionFilter:s,requiredFilterProperties:d}}if(v&&(l||u)){e.log("update() - before sendGetInBatch");v.sendGetInBatch(t,n,p,o)}else{e.log("update() - no request, before callbackAfterRequest");n({},false)}},function(){e.log("update - then.reject() - before callbackAfterRequest");n({},false)});e.logReturn("update")};this.determineFilter=function(e,i){var n;var s;if(this.adjustCumulativeFilter){n=this.adjustCumulativeFilter(e)}if(M()&&this.getFilter().toUrlParam()){var l=a.getConfigurationById(r.filterMapping.requestForMappedFilter);l.selectProperties=r.filterMapping.target.slice();if(r.filterMapping.targetPropertyDisplayOption===g.TEXT||r.filterMapping.targetPropertyDisplayOption===g.KEY_AND_TEXT){d.getMetadata(l.service).done(function(e){var t=e.getPropertyMetadata(l.entityType,l.selectProperties[0]);if(t.text){l.selectProperties.push(t.text)}p.call(this,l)}.bind(this))}else{p.call(this,l)}}else{q.responseData=[];i(this.getFilter(),n)}function p(l){var p=a.createRequest(l);s=e.addAnd(this.getFilter());if(n){s=n.copy().addAnd(this.getFilter())}if(s.isEqual(q.mergedFilter)){i(q.mappedFilter,n)}else{o(s,p,r.filterMapping.target,u,t)}}function u(e,t,a){if(!t){if(r.filterMapping.keepSource==="true"){e=c.getFilter().addAnd(e)}q.mergedFilter=s;q.mappedFilter=e;q.responseData=a;i(e,n)}}};this.getBinding=function(){return h};this.getFilter=function(){return h.getFilter(this.getContextInfo())};this.getContextInfo=function(){var e=a.getConfigurationById(r.request);var t={entityType:e.entityType,service:e.service};return t};this.setData=function(e,t){var i=!t.isEqual(y);y=t.copy();T=u({},h.getRequestOptions(i));h.setData(e)};this.getRepresentationInfo=function(){return h.getRepresentationInfo()};this.getSelectedRepresentationInfo=function(){return h.getSelectedRepresentationInfo()};this.getSelectedRepresentation=function(){return h.getSelectedRepresentation()};this.setSelectedRepresentation=function(e){h.setSelectedRepresentation(e)};this.getFilterInformation=function(e,t){var i=jQuery.Deferred();var o;if(r.longTitle&&r.longTitle.key){o=d.getTextNotHtmlEncoded(r.longTitle.key)}else{o=d.getTextNotHtmlEncoded(r.title.key)}if(M()&&r.filterMapping.keepSource==="true"){jQuery.when(u(e,o),s(e,o)).then(function(e,t){i.resolve([e,t])})}else if(M()){jQuery.when(s(e,o)).then(function(e){i.resolve([e])})}else{jQuery.when(u(e,o)).then(function(e){i.resolve([e])})}return i;function s(){var e=jQuery.Deferred();var t;if(r.filterMapping.targetPropertyLabelKey){t=d.getTextNotHtmlEncoded(r.filterMapping.targetPropertyLabelKey)}var i=r.filterMapping.target[0];var n=a.getConfigurationById(r.filterMapping.requestForMappedFilter);p(i,n).done(function(r){f(e,i,r,t,n,true)});return e}function p(e,t){var i=jQuery.Deferred();d.getMetadata(t.service).done(function(a){var o;var s=new l.constructor(a.getPropertyMetadata(t.entityType,e));if(s.text){o=s.text}var p=[];var u=r.filterMapping.targetPropertyDisplayOption;var f=false;q.responseData.forEach(function(t){if(u===g.TEXT&&o){p.push({text:t[o]})}else if(u===g.KEY_AND_TEXT&&o){p.push({text:d.getTextNotHtmlEncoded("keyAndTextSelection",[t[o],n.convertToExternalFormat(t[e],s)])})}else{p.push({text:t[e]});f=true}});p=n.sortByProperty(p,"text",s);if(f===true){p.forEach(function(e){e.text=n.convertToExternalFormat(e.text,s)})}i.resolve(p)});return i}function u(){var e=jQuery.Deferred();var t;var i;var n=a.getConfigurationById(r.binding);var o=a.getConfigurationById(r.request);if(n.requiredFilters&&n.requiredFilters.length===1){t=n.requiredFilters[0];if(n.requiredFilterOptions&&n.requiredFilterOptions.fieldDesc){i=d.getTextNotHtmlEncoded(n.requiredFilterOptions.fieldDesc.key)}}f(e,t,h.getSortedSelections(),i,o,false);return e}function f(i,r,n,a,s,l){var p;var u;if(!a){p=d.getMetadata(s.service)}if(r){u=d.getMetadata(e.getRequestConfiguration().service)}jQuery.when(p,u).then(function(p,u){var f=false;var g;var c=e.getRequestConfiguration().entityType;var h;if(u){h=u.getFilterableProperties(c).concat(u.getParameterEntitySetKeyProperties(c))}if(!a&&p&&r){a=p.getPropertyMetadata(s.entityType,r)["sap:label"]}if(!r){f=true;g=d.getTextNotHtmlEncoded("noSelectionPossible")}else if(h.indexOf(r)===-1){f=true;g=d.getTextNotHtmlEncoded("filterNotApplicable")}else if(n.length===0){f=true;g=d.getTextNotHtmlEncoded("nothingSelected")}i.resolve({text:o,selectablePropertyLabel:a||r,filterValues:n,infoIcon:l,infoText:l?d.getTextNotHtmlEncoded("infoIconfilterMapping"):undefined,warningIcon:f,warningText:g,stepIndex:t})})}};this.serialize=function(){return{stepId:r.id,binding:h.serialize()}};this.deserialize=function(e){h.deserialize(e.binding);t.check(r.id,e.stepId,"sap.apf.core.step.deserialize inconsistent serialization data - id "+e.stepId);return this};this.getAssignedNavigationTargets=function(){return r.navigationTargets};x();function x(){h=a.createBinding(r.binding,undefined,undefined,f);delete F.binding;if(r.request!==undefined&&r.request!==""){v=a.createRequest(r.request);delete F.request}}function M(){if(r.filterMapping){if(r.filterMapping.requestForMappedFilter&&r.filterMapping.target instanceof Array&&r.filterMapping.keepSource){return true}t.putMessage(t.createMessageObject({code:"5104"}))}return false}}r("sap.apf.core.Step",f);return{constructor:f}},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/textResourceHandler", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/strings/formatMessage","sap/ui/model/resource/ResourceModel"],function(e,t,n,jQuery,r,s,i){"use strict";function u(t){var u=t.instances.messageHandler;var a;var o=new n(u);var c=new n(u);var l=new n(u);var f={};var d=t.constructors&&t.constructors.ResourceModel||i;var h;this.getTextNotHtmlEncoded=function(e,t){var n;var r;var s;if(typeof e==="string"){r=e}else{u.check(e!==undefined&&e.kind!==undefined&&e.kind==="text"&&e.key!==undefined,"Error - oLabel is not compatible");r=e.key}s=JSON.stringify({textKey:r,parameters:t});if(o.hasItem(s)){return o.getItem(s)}n=m(r,t);o.setItem(s,n);return n};this.getTextHtmlEncoded=function(e,t){return r(this.getTextNotHtmlEncoded(e,t))};this.getMessageText=function(e,t){return g(e,t,false)};this.loadTextElements=function(e){var t,n;n=e.length;for(t=0;t<n;t++){c.setItem(e[t].TextElement,e[t].TextElementDescription)}};this.registerTextWithKey=function(e,t){f[e]=t};this.loadResourceModelAsPromise=function(e,t,n){var r=jQuery.Deferred();h=new d({bundleUrl:e,async:true});if(t!==undefined&&t!==""){h.enhance({bundleUrl:t,async:true}).then(function(){if(n!==undefined&&n!==""){h.enhance({bundleUrl:n,async:true}).then(function(){h.getResourceBundle().then(function(e){a=e;r.resolve()})})}else{h.getResourceBundle().then(function(e){a=e;r.resolve()})}})}else if(n!==undefined&&n!==""){h.enhance({bundleUrl:n,async:true}).then(function(){h.getResourceBundle().then(function(e){a=e;r.resolve()})})}else{h.getResourceBundle().then(function(e){a=e;r.resolve()})}return r.promise()};function g(e,t,n){if(t&&t.length===0){return a.getText(e,undefined,n)}return a.getText(e,t,n)}function m(t,n){var r;if(t===e.textKeyForInitialText){return""}else if(f[t]){if(n&&n.length>0){return s(f[t],n)}return f[t]}else if(c.hasItem(t)){r=g(t,n,true);if(typeof r!=="string"||r===t){return c.getItem(t)}return r}else if(l.hasItem(t)){return l.getItem(t)}r=g(t,n,true);if(typeof r==="string"){return r}u.putMessage(u.createMessageObject({code:"3001",aParameters:[t],oCallingObject:this}));var i="# text not available: "+t;l.setItem(t,i);return i}}t("sap.apf.core.TextResourceHandler",u);return u});
sap.ui.predefine("sap/apf/core/utils/annotationHandler", ["sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils"],function(n,t){"use strict";var e=function(n){var e=n.manifests&&n.manifests.manifest;var i=e&&e["sap.app"].dataSources;var s=n.functions.getSapSystem();var a=e&&e["sap.ui5"]&&e["sap.ui5"].dependencies&&e["sap.ui5"].dependencies.libs&&e["sap.ui5"].dependencies.libs["sap.apf"]&&e["sap.ui5"].dependencies.libs["sap.apf"].minVersion;this.getAnnotationsForService=function(n){if(!i){return r(n)}return f(n)};function r(e){if(!(typeof a==="string")||a<"1.44.0"){var i=n.functions.getODataPath(e)+"annotation.xml";if(s){i=t.setOrigin(i,{force:true,alias:s})}if(n.instances.fileExists.check(i)){return[i]}}return[]}function o(n){if(n&&n[n.length-1]==="/"){n=n.substring(0,n.length-1)}var t;if(!n){return n}var e=n.split(";");var i=e[0];for(t=1;t<e.length;t++){if(e[t].search("o=")===-1){i=i+";"+e[t]}}return i}function u(n,t){var e=o(n);var i=o(t);return e===i}function f(e){var a=[];var o;for(o in i){if(u(i[o].uri,e)){var f=i[o].settings&&i[o].settings.annotations;if(f){f.forEach(c)}else{return r(e)}return a}}return r(e);function c(e){var r=i[e]&&i[e].uri;var o=i[e]&&i[e].settings&&i[e].settings.localUri;var u;if(r){if(s){r=t.setOrigin(r,{force:true,alias:s})}a.push(r)}if(o&&o[0]!=="/"){var f=n.functions.getComponentNameFromManifest(n.manifests.manifest);u=n.functions.getBaseURLOfComponent(f);a.push(n.functions.addRelativeToAbsoluteURL(u,o))}else if(o&&o[0]==="/"){a.push(o)}}}};n("sap.apf.core.utils.AnnotationHandler",e);return{constructor:e}},true);
sap.ui.predefine("sap/apf/core/utils/areRequestOptionsEqual", [],function(){"use strict";var r=function(r,e){function n(r,e){if(r.skip){var n=e&&e.skip||0;if(r.skip!==n){return false}}if(r.top){var i=e&&e.top||0;if(r.top!==i){return false}}if(r.inlineCount){var f=e&&e.inlineCount||false;if(r.inlineCount!==f){return false}}return true}function i(r,e){var n=0;var f=0;var t;for(t in r){n++}for(t in e){f++}if(n!==f){return false}for(t in r){if(!r.hasOwnProperty(t)){continue}if(typeof r[t]==="object"){if(!i(r[t],e[t])){return false}}else if(r[t]!==e[t]){return false}}return true}function f(r,e){var f;r=r||{};e=e||{};var t=Object.keys(r);for(f=0;f<t.length;f++){if(t[f]==="paging"){if(!n(r.paging,e.paging)){return false}}if(t[f]==="orderby"){if(!i(r.orderby,e.orderby)){return false}}}return true}if(f(r,e)){return f(e,r)}return false};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/checkForTimeout", ["sap/apf/core/messageObject"],function(e){"use strict";var s=function(s){var a;var r;var t=false;if(s&&s.headers&&s.headers["x-sap-login-page"]){t=true}if(s&&s.getResponseHeader&&s.getResponseHeader("x-sap-login-page")!==null){t=true}if(s&&s.status){a=s.status}if(s&&s.response&&s.response.statusCode){a=s.response.statusCode}if(a===303||a===401||a===403||t){r=new e({code:"5021"})}return r};return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/fileExists", ["sap/apf/core/utils/checkForTimeout","sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils","sap/ui/thirdparty/jquery"],function(e,t,a,jQuery){"use strict";var s=function(t){var s={};var i=t&&t.functions&&t.functions.ajax;var n=t&&t.functions&&t.functions.getSapSystem&&t.functions.getSapSystem();this.check=function(t,r){if(n&&!r){t=a.setOrigin(t,{force:true,alias:n})}if(s[t]!==undefined){return s[t]}var u=false;var f={url:t,type:"HEAD",success:function(t,a,s){var i=e(s);if(i===undefined){u=true}else{u=false}},error:function(){u=false},async:false};if(i){i(f)}else{jQuery.ajax(f)}s[t]=u;return u}};t("sap.apf.core.utils.FileExists",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filter", ["sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/ui/model/Filter","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,r,t,i,s,jQuery){"use strict";var n="%20and%20";var o="%20or%20";var a=function(r,t,i,s,n){this.type="internalFilter";this.messageHandler=r;if(t&&(t instanceof e||t instanceof a)){this.leftExpr=t}else if(t!==undefined&&i!==undefined&&s!==undefined){this.leftExpr=new e(r,t,i,s,n)}else if(t!==undefined||i!==undefined||s!==undefined){r.check(false,"wrong arguments in construction of sap.apf.core.utils.Filter")}this.restExpr=[]};a.prototype.getProperties=function(){var r;var t=[];var i=[];var n="";if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof e){n=this.leftExpr.getProperty();t.push(n)}else if(this.leftExpr instanceof a){t=this.leftExpr.getProperties()}for(r=0;r<this.restExpr.length;r++){if(this.restExpr[r]instanceof e){t.push(this.restExpr[r].getProperty())}else{i=this.restExpr[r].getProperties();t=t.concat(i)}}return s.eliminateDuplicatesInArray(this.messageHandler,t)};a.prototype.copy=function(){var e;var t;if(this.leftExpr===undefined){return new a(this.messageHandler)}e=new a(this.messageHandler,this.leftExpr);if(this.levelOperator===undefined){return e}for(t=0;t<this.restExpr.length;t++){if(this.levelOperator===r.BooleFilterOperators.AND){e.addAnd(this.restExpr[t].copy())}else{e.addOr(this.restExpr[t].copy())}}return e};a.prototype.isEmpty=function(){if(this.leftExpr===undefined){return true}if(this.leftExpr instanceof e){return false}if(!this.leftExpr.isEmpty()){return false}if(this.restExpr.length===0){return true}var r;for(r=0;r<this.restExpr.length;++r){if(!this.restExpr[r].isEmpty()){return false}}return true};a.prototype.isOr=function(){if(this.levelOperator===r.BooleFilterOperators.OR){return true}else if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.leftExpr){if(this.leftExpr instanceof a){return this.leftExpr.isOr()}}return false};a.prototype.isEqual=function(e){if(this===e){return true}if(e===undefined){return false}return this.getHash()===e.getHash()};a.prototype.getHash=function(e){var t=e||1;var i=0;if(this.restExpr.length===0){i=t}else{i=t+1}if(this.leftExpr===undefined){return 0}var s=this.leftExpr.getHash(i);var n;if(this.levelOperator===undefined){return s}if(this.levelOperator===r.BooleFilterOperators.AND){s=s+Math.pow(2,t)}else if(this.levelOperator===r.BooleFilterOperators.OR){s=s+Math.pow(3,t)}for(n=0;n<this.restExpr.length;n++){s=s+this.restExpr[n].getHash(i)}return s};a.prototype.getFilterTermsForProperty=function(r){var t=[];var i;if(this.leftExpr===undefined){return t}if(this.leftExpr instanceof a){t=this.leftExpr.getFilterTermsForProperty(r)}else if(r===this.leftExpr.getProperty()){t.push(this.leftExpr)}for(i=0;i<this.restExpr.length;i++){if(this.restExpr[i]instanceof e){if(r===this.restExpr[i].getProperty()){t.push(this.restExpr[i])}}else{t=t.concat(this.restExpr[i].getFilterTermsForProperty(r))}}return t};a.prototype.getFilterTerms=function(){var r=[];var t;if(this.leftExpr===undefined){return r}if(this.leftExpr instanceof a){r=this.leftExpr.getFilterTerms()}else{r.push(this.leftExpr)}for(t=0;t<this.restExpr.length;t++){if(this.restExpr[t]instanceof e){r.push(this.restExpr[t])}else{r=r.concat(this.restExpr[t].getFilterTerms())}}return r};a.prototype.isConsistentWithFilter=function(t,i){var s;var n=false;if(this.leftExpr===undefined){return true}if(this.levelOperator===undefined){return this.leftExpr.isConsistentWithFilter(t,i)}if(this.levelOperator===r.BooleFilterOperators.AND){if(!this.leftExpr.isConsistentWithFilter(t,i)){return false}for(s=0;s<this.restExpr.length;s++){if(!this.restExpr[s].isConsistentWithFilter(t,i)){return false}}return true}if(this.levelOperator===r.BooleFilterOperators.OR){if(o(this.leftExpr,t)){n=true;if(this.leftExpr.isConsistentWithFilter(t,i)){return true}}for(s=0;s<this.restExpr.length;s++){if(o(this.restExpr[s],t)){n=true;if(this.restExpr[s].isConsistentWithFilter(t,i)){return true}}}return!n}function o(r,t){if(r instanceof e){return r.getProperty()===t}return r.getProperties().indexOf(t)>=0}};a.prototype.removeTermsByProperty=function(e){var r=this.internalRemoveTermsByProperty(e);if(r===undefined){return new a(this.messageHandler)}return r};a.prototype.internalRemoveTermsByProperty=function(t){var i,s,n;if(this.leftExpr===undefined){return this.copy()}s=this.leftExpr.internalRemoveTermsByProperty(t);if(s instanceof e){s=new a(this.messageHandler,s.getProperty(),s.getOp(),s.getValue(),s.getHighValue())}if(this.levelOperator===undefined){return s}for(i=0;i<this.restExpr.length;i++){n=this.restExpr[i].internalRemoveTermsByProperty(t);if(s===undefined){if(n instanceof e){s=new a(this.messageHandler,n)}else{s=n}}else if(n!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){s.addAnd(n)}else{s.addOr(n)}}}if(s){return new a(this.messageHandler,s)}};a.prototype.removeTerms=function(t,i,s){var n;if(this.leftExpr===undefined){return this.copy()}var o=this.leftExpr.removeTerms(t,i,s);var l;if(o instanceof e){o=new a(this.messageHandler,o.getProperty(),o.getOp(),o.getValue(),o.getHighValue())}if(this.levelOperator===undefined){return o}for(n=0;n<this.restExpr.length;n++){l=this.restExpr[n].removeTerms(t,i,s);if(o===undefined){if(l instanceof e){o=new a(this.messageHandler,l)}else{o=l}}else if(l!==undefined){if(this.levelOperator===r.BooleFilterOperators.AND){o.addAnd(l)}else{o.addOr(l)}}}return o};a.prototype.addOr=function(t,i,s,n){var o;if(t instanceof a||t instanceof e){o=t}else if(t!==undefined&&i!==undefined&&s!==undefined){o=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addOr: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=o;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.OR}this.restExpr.push(o);this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.OR,"sap.apf.core.utils.Filter - addOr wrong operation");return this};a.prototype.addAnd=function(t,i,s,n){var o;if(t instanceof a||t instanceof e){o=t}else if(t!==undefined&&i!==undefined&&s!==undefined){o=new e(this.messageHandler,t,i,s,n)}else{this.messageHandler.check(false,"sap.apf.core.utils.Filter.addAnd: wrong arguments in construction of  Filter")}if(this.leftExpr===undefined){this.leftExpr=o;return this}if(this.levelOperator===undefined){this.levelOperator=r.BooleFilterOperators.AND}this.messageHandler.check(this.levelOperator===r.BooleFilterOperators.AND,"sap.apf.core.utils.Filter - addAnd wrong operation");this.restExpr.push(o);return this};a.prototype.toUrlParam=function(e){var t="";if(this.leftExpr===undefined){return""}t=this.leftExpr.toUrlParam(e);var i=0;var s=this.restExpr.length;var a="";if(s===0){return t}if(this.levelOperator===r.BooleFilterOperators.AND){a=n}else{a=o}var l="";for(i=0;i<s;i++){l=this.restExpr[i].toUrlParam(e);if(t===""){t=l}else if(l!==""){t=t+a+l}}if(t===""){return""}return"("+t+")"};a.prototype.mapToSapUI5FilterExpression=function(){var e,i,s=[];if(this.leftExpr===undefined){return new t({filters:[],and:undefined})}if(this.restExpr.length===0){return this.leftExpr.mapToSapUI5FilterExpression()}if(!(this.leftExpr.type==="internalFilter"&&this.leftExpr.isEmpty())){s.push(this.leftExpr.mapToSapUI5FilterExpression())}for(e=0;e<this.restExpr.length;e++){if(!(this.restExpr[e].type==="internalFilter"&&this.restExpr[e].isEmpty())){s.push(this.restExpr[e].mapToSapUI5FilterExpression())}}i={aFilters:s,bAnd:this.levelOperator===r.BooleFilterOperators.AND};var n=new t({filters:i.aFilters,and:i.bAnd});n.bAnd=i.bAnd;return n};a.prototype.overwriteWith=function(e){var r=e.getProperties();var t;if(r.length!==0){t=this.removeTermsByProperty(r);if(t===undefined){return e.copy()}t.addAnd(e);return t}return this.copy()};a.prototype.restrictToProperties=function(e){var r=t(this.getProperties(),e);return this.copy().removeTermsByProperty(r)||new a(this.messageHandler);function t(e,r){var t;var i=[];var s={};var n=e?e.length:0;var o=r?r.length:0;for(t=0;t<o;t++){s[r[t]]=undefined}for(t=0;t<n;t++){if(!(e[t]in s)){i.push(e[t])}}return i}};a.prototype.isFilterTerm=function(){if(this.restExpr.length>0){return false}if(!this.leftExpr){return false}if(this.leftExpr instanceof e){return true}return this.leftExpr.isFilterTerm()};a.prototype.getSingleValueTerms=function(){var e=[];var t=this;var i=this.getProperties();i.forEach(function(i){var s=t.getFilterTermsForProperty(i);if(s.length===1&&s[0].getOp()===r.FilterOperators.EQ){e.push({property:s[0].getProperty(),value:s[0].getValue()})}});return e};a.prototype.traverse=function(t){if(!this.leftExpr){return t.processEmptyFilter()}if(this.leftExpr&&this.restExpr.length===0){if(this.leftExpr instanceof e){return t.processTerm(this.leftExpr)}return this.leftExpr.traverse(t)}if(this.levelOperator===r.BooleFilterOperators.AND){return t.processAnd(this.leftExpr,this.restExpr,this)}if(this.levelOperator===r.BooleFilterOperators.OR){return t.processOr(this.leftExpr,this.restExpr,this)}this.messageHandler.check(false,"undefined case in traverse()");return false};a.prototype.isDisjunctionOverEqualities=function(){var e=true;if(this.levelOperator===r.BooleFilterOperators.AND){return false}if(this.getProperties().length>1){return false}if(this.leftExpr instanceof a){if(this.leftExpr.getFilterTerms().length>1&&!this.leftExpr.isOr()){return false}}this.getFilterTerms().forEach(function(t){if(t.getOp()!==r.FilterOperators.EQ){e=false}});this.restExpr.forEach(function(r){if(r instanceof a){if(r.getFilterTerms().length>1){e=false}}});return e};a.prototype.mapToSelectOptions=function(e){var r=jQuery.Deferred();var t;var i=this;e(s);function s(e){t=e;var s=new n;s.process(i);r.resolve(s.getSelectionVariant())}function n(){var e={};e.SelectOptions=[];e.Parameters=[];function r(r){var t;e.SelectOptions.forEach(function(e){if(e.PropertyName===r){t=e}});if(!t){t={PropertyName:r,Ranges:[]};e.SelectOptions.push(t)}return t.Ranges}function i(e){var t,i;var s=r(e.getProperty());if(e.getHighValue()!==undefined&&e.getHighValue()!==null){s.push({Sign:"I",Option:e.getOp(),Low:e.getValue(),High:e.getHighValue()})}else{t=e.getOp();i=e.getValue();if(t==="StartsWith"){t="CP";i=i+"*"}else if(t==="EndsWith"){t="CP";i="*"+i}else if(t==="Contains"){t="CP";i="*"+i+"*"}s.push({Sign:"I",Option:t,Low:i})}}function s(r){e.Parameters.push({PropertyName:r.getProperty(),PropertyValue:r.getValue()})}this.getSelectionVariant=function(){if(e.SelectOptions.length>0||e.Parameters.length>0){return e}return{}};this.processEmptyFilter=function(){return};this.processTerm=function(e){if(!t?.includes(e.getProperty())){i(e)}else{s(e)}};this.processAnd=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.processOr=function(e,r){this.process(e);r.forEach(function(e){this.process(e)}.bind(this))};this.process=function(e){e.traverse(this)}}return r.promise()};a.createFromArray=function(e,t,i,s){var n=t.length;var o;var l;var f;var p;var h;var u;e.check(t instanceof Array&&t.length>0,"sap.apf.core.utils.Filter.createFromArray incorrect argument aProperties");e.check(i instanceof Array,"sap.apf.core.utils.Filter.createFromArray incorrect argument aData");if(s.length>0){for(o=0;o<s.length;++o){h=undefined;l=s[o];if(!i[l]){continue}for(f=0;f<n;f++){u=new a(e,t[f],r.FilterOperators.EQ,i[l][t[f]]);if(h===undefined){h=new a(e,u)}else{h.addAnd(u)}}if(p===undefined){p=new a(e,h)}else{p.addOr(h)}}return p}return new a(e)};a.createEmptyFilter=function(e,t){e.check(Array.isArray(t)&&t.length>0,"sap.apf.core.utils.Filter.createEmptyFilter - array with property names expected");return new a(e,t[0],r.FilterOperators.EQ,"").addAnd(t[0],r.FilterOperators.NE,"")};a.transformUI5FilterToInternal=function(e,r){return t(r,r.bAnd);function t(r,i){var s=new a(e);var n;if(r.aFilters){r.aFilters.forEach(function(e){if(e.aFilters){n=t(e,e.bAnd);if(i){s.addAnd(n)}else{s.addOr(n)}}else if(e.sPath){if(i){s.addAnd(e.sPath,e.sOperator,e.oValue1,e.oValue2)}else{s.addOr(e.sPath,e.sOperator,e.oValue1,e.oValue2)}}})}else{s=new a(e,r.sPath,r.sOperator,r.oValue1,r.oValue2)}return s}};i("sap.apf.core.utils.Filter",a);return a},true);
/*
 * Copyright(c) 2015 SAP SE
 */
sap.ui.predefine("sap/apf/core/utils/filterSimplify", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/apf/core/messageHandler","sap/apf/utils/exportToGlobal"],function(r,t,e,i,s){"use strict";var n={};n.FilterReduction=function(){var i=this;var s=false;this.transformFilter=function(e){var i=[];var s;var o;if(e){e.forEach(function(e){if(e instanceof t){i.push({property:e.getProperty(),values:[e.getValue()]})}else if(e instanceof r){s=e.getProperties();o=new n.CollectPropertiesAndValuesVisitor;o.process(e);i.push({property:s[0],values:o.getValues()})}})}return i};this.intersection=function(r,t){var e={};var i=r.values;var s=t.values;var n=[];var o={};var u,c=i.length;var a,f=s.length;for(u=0;u<c;u++){o[i[u]]=i[u]}for(a=0;a<f;a++){if(o[s[a]]!==undefined&&n.indexOf(s[a])<0){n.push(s[a])}}e.property=r.property;e.values=n;return e};function o(t){this.reducers=[];this.disjunctions=[];this.processTerm=function(i){var s=new r(t,i);if(i.getOp()===e.FilterOperators.EQ){this.disjunctions.push(s)}else{this.reducers.push(s)}};this.processOr=function(r,t,e){var i=new n.CollectPropertiesAndValuesVisitor;i.process(e);if(i.isWellFormed()){this.disjunctions.push(e)}else{this.reducers.push(e)}};this.processAnd=function(r,e,s){var n=i.filterSeparation(s,t);this.disjunctions=this.disjunctions.concat(n.disjunctions);this.reducers=this.reducers.concat(n.reducers)};this.processEmptyFilter=function(){};this.process=function(r){r.traverse(this)}}this.filterSeparation=function(r,t){var e=new n.CollectChildrenOfAndNodeVisitor;var i=e.process(r);var s;if(!i){return{reducers:[],disjunctions:[]}}s=new o(t);i.forEach(function(r){r.traverse(s)});return{reducers:s.reducers,disjunctions:s.disjunctions}};this.simplifyTransforms=function(r){var t=[];var e;var s=[];var n=r.length;var o;r.forEach(function(u,c){var a;o=u.property;if(s.indexOf(o)===-1){s.push(o);e=u;for(a=c+1;a<n;++a){if(o===r[a].property){e=i.intersection(e,r[a])}}t.push(e)}});return t};this.applyStartFilter=function(r,t){var e=[];var i=r.getProperties();t.forEach(function(t){var s=[];var n;var o=t.values.length;var u;if(i.indexOf(t.property)>-1){for(n=0;n<o;n++){u=t.values[n];if(r.isConsistentWithFilter(t.property,u)){s.push(u)}}e.push({property:t.property,values:s})}else{e.push(t)}});return e};this.simplifyInStartFilter=function(r,t){var e=r;t.forEach(function(r){if(e){e=e.removeTermsByProperty(r.property)}});if(e.isEmpty()){return undefined}return e};this.containsContradiction=function(r,t){var e=false;t.forEach(function(r){if(r.values.length===0){e=true}});if(e){return e}return e};this.rebuildDisjunction=function(i,s){var n=new r(i);var o=s.property;var u=s.values;u.forEach(function(r){var s=new t(i,o,e.FilterOperators.EQ,r);n.addOr(s)});return n};this.reduceFilter=function(t,e){var n=this;function o(r){var e=[];r.forEach(function(r){e.push(i.rebuildDisjunction(t,r))});return e}function u(r,t){t.forEach(function(t){r.addAnd(t)})}function c(r,i){var s;var o=i;var u=[];var c;for(s=0;s<r.length;++s){o=n.applyStartFilter(r[s],i);if(n.containsContradiction(t,o)){return{contradiction:e}}c=n.simplifyInStartFilter(r[s],i);if(c){u.push(c)}}return{reducedTransforms:o,simplifiedReducers:u}}var a;var f;var p;var h;var l;var v;if(e.isFilterTerm()||e.isOr()||e.isEmpty()){return e}a=this.filterSeparation(e,t);f=a.disjunctions;p=this.transformFilter(f);h=this.simplifyTransforms(p);if(this.containsContradiction(t,h)){s=true;return e}v=c(a.reducers,h);if(v.contradiction){s=true;return v.contradiction}l=new r(t);u(l,v.simplifiedReducers);u(l,o(v.reducedTransforms));return l};this.isContradicted=function(){return s}};n.CollectPropertiesAndValuesVisitor=function(){var r=this;var i=[];var s=[];var n=true;var o=true;var u=0;var c=0;var a=0;var f=0;function p(r){var t,e=i.length;for(t=0;t<e;t++){if(i[t]===r){return}}i.push(r)}this.getProperties=function(){return i.slice(0)};this.getValues=function(){return s.slice(0)};this.isWellFormed=function(){return n&&o&&i.length<=1};this.isEmptyFilter=function(){return u===0&&c===0&&a>0&&f===0};this.processEmptyFilter=function(){a++};this.processAnd=function(r,t){u++;o=false;this.process(r);this.processAndArray(t)};this.processAndArray=function(t){t.forEach(function(t){r.process(t)})};this.processOr=function(r,t){c++;this.process(r);this.processOrArray(t)};this.processOrArray=function(t){t.forEach(function(t){r.process(t)})};this.processTerm=function(r){f++;var t=r.getProperty();p(t);switch(r.getOp()){case e.FilterOperators.EQ:s.push(r.getValue());return;default:n=false;return}};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{r.traverse(this)}}};n.CollectChildrenOfAndNodeVisitor=function(){this.processEmptyFilter=function(){return null};this.processTerm=function(r){return[r]};this.processAnd=function(r,t){var e=[];e.push(r);t.forEach(function(r){e.push(r)});return e};this.processOr=function(){return null};this.process=function(r){if(r instanceof t){this.processTerm(r)}else{return r.traverse(this)}}};s("sap.apf.core.utils.FilterReduction",n.FilterReduction);return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/filterTerm", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/model/Filter","sap/base/security/encodeURL"],function(e,t,r,a,i){"use strict";var s=function(t,r,a,i,s){this.type="filterTerm";this.propertyName=r;this.operator=a;this.value=i;this.highValue=s;this.messageHandler=t;if(this.operator.length==2){this.operator=this.operator.toUpperCase()}t.check(this.operator!==undefined,"sap.apf.utils.FilterTerm.constructor operator undefined");t.check(e.aSelectOpt.includes(this.operator),"sap.apf.core.utils.FilterTerm operator "+this.operator+" not supported");t.check(this.propertyName!==undefined,"sap.apf.utils.core.FilterTerm propertyName undefined");t.check(this.value!==undefined,"sap.apf.utils.FilterTerm value undefined")};s.prototype.isConsistentWithFilter=function(t,r){var a;var i;if(t!==this.propertyName){return true}if(this.operator===e.FilterOperators.EQ){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()===r.valueOf()}return this.value===r}else if(this.operator===e.FilterOperators.LT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>r.valueOf()}return this.value>r}else if(this.operator===e.FilterOperators.LE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()>=r.valueOf()}return this.value>=r}else if(this.operator===e.FilterOperators.GT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<r.valueOf()}return this.value<r}else if(this.operator===e.FilterOperators.BT){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()&&r.valueOf()<=this.highValue.valueOf()}return this.value<=r&&r<=this.highValue}else if(this.operator===e.FilterOperators.GE){if(this.value instanceof Date&&r instanceof Date){return this.value.valueOf()<=r.valueOf()}return this.value<=r}else if(this.operator===e.FilterOperators.NE){if(this.value instanceof Date&&r instanceof Date){return!(this.value.valueOf()===r.valueOf())}return!(this.value===r)}else if(this.operator===e.FilterOperators.StartsWith){if(this.value.length>r.length){return false}a=r.slice(0,this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.EndsWith){if(this.value.length>r.length){return false}a=r.slice(-this.value.length);return a===this.value}else if(this.operator===e.FilterOperators.Contains){i=r.indexOf(this.value);return i>-1}};s.prototype.toUrlParam=function(t){var a="'";var s=" ";var o="";var p,h;if(t&&t.formatValue){p=t.formatValue(this.propertyName,this.value);if(this.highValue){h=t.formatValue(this.propertyName,this.highValue)}}else{if(typeof this.value==="number"){p=this.value}else{p=a+r.escapeOdata(this.value)+a}if(this.highValue){if(typeof this.value==="number"){h=this.highValue}else{h=a+r.escapeOdata(this.highValue)+a}}}if(this.operator===e.FilterOperators.StartsWith){o="startswith("+r.escapeOdata(this.propertyName)+","+p+")";o=i(o)}else if(this.operator===e.FilterOperators.EndsWith){o="endswith("+r.escapeOdata(this.propertyName)+","+p+")";o=i(o)}else if(this.operator===e.FilterOperators.Contains){o="substringof("+p+","+r.escapeOdata(this.propertyName)+")";o=i(o)}else if(this.operator===e.FilterOperators.BT){o="(("+i(r.escapeOdata(this.propertyName)+s+"ge"+s+p)+")"+i(s+"and"+s)+"("+i(r.escapeOdata(this.propertyName)+s+"le"+s+h)+"))"}else{o="("+i(r.escapeOdata(this.propertyName)+s+this.operator.toLowerCase()+s+p)+")"}return o};s.prototype.getProperty=function(){return this.propertyName};s.prototype.getOp=function(){return this.operator};s.prototype.getValue=function(){return this.value};s.prototype.getHighValue=function(){return this.highValue};s.prototype.getHash=function(){var e=this.propertyName+this.operator+this.value;if(this.highValue){e+=this.highValue}return r.hashCode(e)};s.prototype.copy=function(){return new s(this.messageHandler,this.propertyName,this.operator,this.value,this.highValue)};s.prototype.removeTermsByProperty=function(e){return this.internalRemoveTermsByProperty(e)};s.prototype.internalRemoveTermsByProperty=function(e){var t=0;var r=0;if(e instanceof Array){r=e.length;for(t=0;t<r;t++){if(this.propertyName===e[t]){return undefined}}return this.copy()}if(this.propertyName===e){return undefined}return this.copy()};s.prototype.removeTerms=function(e,t,r){var a=0;var i=0;if(e instanceof Array){i=e.length;for(a=0;a<i;a++){if(this.propertyName===e[a]&&this.operator===t&&this.value===r){return undefined}}return this.copy()}if(this.propertyName===e&&this.operator===t&&this.value===r){return undefined}return this.copy()};s.prototype.mapToSapUI5FilterExpression=function(){if(this.operator===e.FilterOperators.BT){return new a({path:this.propertyName,operator:this.operator,value1:this.value,value2:this.highValue})}return new a({path:this.propertyName,operator:this.operator,value1:this.value})};s.prototype.traverse=function(e){return e.processTerm(this)};t("sap.apf.core.utils.FilterTerm",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/core/utils/uriGenerator", ["sap/apf/core/messageObject","sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/utils/utils","sap/base/security/encodeURL","sap/base/util/isPlainObject"],function(e,t,r,a,n,i){"use strict";var s={};s.getAbsolutePath=function(e){if(e.slice(-1)==="/"){return e}return e+"/"};s.getODataPath=function(e){var t=e.split("/");var r;var a=[];for(r=0;r<t.length;r++){if(t[r]!==""){a.push(t[r])}}var n="";var i=a.length-1;for(r=0;r<i;r++){n=n+"/"+a[r]}return n+"/"};s.addRelativeToAbsoluteURL=function(e,t){var r=e.split("/");var a=t.split("/");a.forEach(function(e){if(e===".."){r.pop()}else if(e!="."){r.push(e)}});return r.join("/")};s.getBaseURLOfComponent=function(e){var t=e.split(".");t.pop();var r=t.join("/");return sap.ui.require.toUrl(r)};s.getApfLocation=function(){return sap.ui.require.toUrl("sap/apf/")};s.generateOdataPath=function(e,i,s,f,u){var o=g(i,f);var l=s;var p=false;var c;for(c in o){if(!p){l+="(";p=true}else{l+=","}l+=c.toString()+"="+o[c]}if(p){l+=")/"}l+=u||"";return l;function g(){var u={};var o;var l;var p;var c;var g;o=i.getParameterEntitySetKeyProperties(s);if(o!==undefined){l=o.length}else{l=0}if(l>0){for(c=0;c<l;c++){if(f&&f instanceof t){p=f.getFilterTermsForProperty(o[c].name);g=p[p.length-1]}if(g instanceof r){v(c,g.getValue())}else if(o[c].defaultValue){v(c,o[c].defaultValue)}else if(o[c].parameter!=="optional"){e.putMessage(e.createMessageObject({code:"5016",aParameters:[o[c].name]}))}}}return u;function v(e,t){var r;if(o[e].dataType.type==="Edm.String"){r=a.formatValue(t,o[e]);u[o[e].name]=n(r)}else if(o[e].dataType.type){r=a.formatValue(t,o[e]);if(typeof r==="string"){u[o[e].name]=n(r)}else{u[o[e].name]=r}}else if(typeof t==="string"){u[o[e].name]=n(a.escapeOdata(t))}else{u[o[e].name]=t}}}};s.getSelectString=function(e){var t="";e.forEach(function(r,i){t+=n(a.escapeOdata(r));if(i<e.length-1){t+=","}});return t};s.buildUri=function(e,r,a,f,u,o,l,p,c,g,v){var d="";d+=s.generateOdataPath(e,v,r,u,g);d=d+"?";d+=m(a);d+=y(f,c);d+=h(o,a);d+=b(l);d+=O(p);return d;function m(e){if(!e[0]){return""}var t="$select=";t+=s.getSelectString(e);return t}function y(e,r){if(!(e&&e instanceof t)||e.isEmpty()){return""}var a=e.toUrlParam({formatValue:r});if(a===""||a==="()"){return""}return"&$filter="+a}function h(t,a){var s="";var f="";var u;if(!t){return""}switch(true){case Array.isArray(t):for(u=0;u<t.length;u++){f=o(t[u],a);if(s.length>0&&f.length>0){s+=","}s+=f}break;case i(t):s+=o(t,a);break;case typeof t==="string":s+=o({property:t},a);break;default:s="";break}if(s.length>0){return"&$orderby="+s}return"";function o(t,a){var i="";if(a?.includes(t.property)){i+=t.property;if(t.ascending===false){i+=" desc"}else{i+=" asc"}}else{e.putMessage(e.createMessageObject({code:"5019",aParameters:[r,t.property]}))}return n(i)}}function b(t){function a(t){var a,n;a=Object.getOwnPropertyNames(t);for(n=0;n<a.length;n++){if(a[n]!=="top"&&a[n]!=="skip"&&a[n]!=="inlineCount"){e.putMessage(e.createMessageObject({code:"5032",aParameters:[r,a[n]]}))}}}var n="";if(!t){return n}a(t);if(t.top){n+="&$top="+t.top}if(t.skip){n+="&$skip="+t.skip}if(t.inlineCount===true){n+="&$inlinecount=allpages"}return n}function O(e){if(!e){e="json"}return"&$format="+e}};return s},true);
sap.ui.predefine("sap/apf/demokit/configuration/demokit", [],function(){"use strict";return{analyticalConfigurationName:"APF Standard Demo",applicationTitle:{type:"label",kind:"text",key:"57FCA4E2C3D350DEE10000000A442AF5"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"15102377857028838103150312430278"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"15102377963651508758254158996844"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-26",binding:"binding-for-Step-26",id:"Step-26",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Customer",request:"request-for-Step-29",binding:"binding-for-Step-29",id:"Step-29",title:{type:"label",kind:"text",key:"15102370883951657475286461234693"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date","Month","Year"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-26",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-29",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"Country",selectProperties:["Country","CountryName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"CustomerGroup",selectProperties:["CustomerGroup","CustomerGroupName"]},{type:"request",id:"FilterResolution-request-for-FacetFilter-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Date",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true},{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"15102377426421018326751208039995"}}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"00000000000000000000000000000000"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-26",stepDescription:"Revenue by Country and Month",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text"},representations:[{id:"Step-26-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true},{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-26-Representation-4",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",labelDisplayOption:"key"},{fieldName:"Country",kind:"xAxis2",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true},{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-29",stepDescription:"Discount by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-29-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-29-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-26"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-20"},{type:"step",id:"Step-7"},{type:"step",id:"Step-22"},{type:"step",id:"Step-21"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-10"},{type:"step",id:"Step-9"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-26"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-17"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-29"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF4"}],title:{key:"15181818661221038491819157748774",type:"label",kind:"text"}}],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:[],valueList:["USD","EUR"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Company Code",id:"FacetFilter-2",property:"CompanyCode",multiSelection:"true",preselectionDefaults:["CA01","CH01","DE01","IN01","US01"],label:{type:"label",kind:"text",key:"57FCA4EBC3D350DEE10000000A442AF5"},invisible:true,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-3",property:"Country",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-3",valueHelpRequest:"FilterResolution-request-for-FacetFilter-3",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer Group",id:"FacetFilter-4",property:"CustomerGroup",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4F5C3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-4",valueHelpRequest:"FilterResolution-request-for-FacetFilter-4",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"},{type:"facetFilter",description:"Customer",id:"FacetFilter-5",property:"Customer",multiSelection:"true",preselectionDefaults:null,label:{type:"label",kind:"text",key:"57FCA4FBC3D350DEE10000000A442AF5"},invisible:false,filterResolutionRequest:"FilterResolution-request-for-FacetFilter-5",valueHelpRequest:"FilterResolution-request-for-FacetFilter-5",hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"true"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF4",AnalyticalConfigurationName:"APF Standard Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitHierarchy", [],function(){"use strict";return{analyticalConfigurationName:"APF Hierarchy Demo",applicationTitle:{type:"label",kind:"text",key:"14822380843323382109646873064048"},steps:[{type:"step",description:"Revenue by Country (with Hierarchy Service)",request:"request-for-Step-2",binding:"binding-for-Step-2",id:"Step-2",title:{type:"label",kind:"text",key:"14822374389411352084979829313687"},navigationTargets:[]},{type:"step",description:"Revenue by Country (with normal Service)",request:"request-for-Step-3",binding:"binding-for-Step-3",id:"Step-3",title:{type:"label",kind:"text",key:"14822374366121819634218359677717"},navigationTargets:[]},{type:"hierarchicalStep",description:"Revenue by Customer",request:"request-for-Step-1",binding:"binding-for-Step-1",id:"Step-1",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],hierarchyProperty:"Customer"}],requests:[{type:"request",id:"request-for-Step-2",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-3",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Revenue","Currency"]},{type:"request",id:"request-for-Step-1",service:"/tmp/demokit/hierarchy.xsodata",entitySet:"RevenueHryQuery",selectProperties:["Currency","Customer_NodeText","Revenue"]},{type:"request",id:"ValueHelp-request-for-FacetFilter-2",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName"]}],bindings:[{type:"binding",id:"binding-for-Step-2",stepDescription:"Revenue by Country (with Hierarchy Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-2-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-3",stepDescription:"Revenue by Country (with normal Service)",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-3-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}}}]},{type:"binding",id:"binding-for-Step-1",stepDescription:"Revenue by Customer",requiredFilters:["Customer_NodeID"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-1-Representation-1",representationTypeId:"TreeTableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],hierarchicalProperty:[{fieldName:"Customer",kind:"hierarchicalColumn",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],width:{}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-1",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-1"},{type:"step",id:"Step-2"},{type:"step",id:"Step-3"}]}],navigationTargets:[],facetFilters:[{type:"facetFilter",description:"Currency",id:"FacetFilter-1",property:"P_Currency",multiSelection:"false",preselectionDefaults:["USD"],valueList:["EUR","USD"],label:{type:"label",kind:"text",key:"57FCA395C3D350DEE10000000A442AF5"},invisible:false,hasAutomaticSelection:"false",useSameRequestForValueHelpAndFilterResolution:"false"},{type:"facetFilter",description:"Country",id:"FacetFilter-2",alias:"Country",property:"Country",multiSelection:"true",preselectionDefaults:[],label:{type:"label",kind:"text",key:"57FCA4F1C3D350DEE10000000A442AF5"},invisible:false,valueHelpRequest:"ValueHelp-request-for-FacetFilter-2",hasAutomaticSelection:"true",useSameRequestForValueHelpAndFilterResolution:"false"}],configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF6",AnalyticalConfigurationName:"APF Hierarchy Demo",UI5Version:"1.51.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
sap.ui.predefine("sap/apf/demokit/configuration/demokitSFB", [],function(){"use strict";return{analyticalConfigurationName:"APF Smart Filter Bar Demo",applicationTitle:{type:"label",kind:"text",key:"14858784650039751216561611030127"},steps:[{type:"step",description:"Revenue by Customer",request:"request-for-Step-4",binding:"binding-for-Step-4",id:"Step-4",title:{type:"label",kind:"text",key:"57FCA515C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer and Month",request:"request-for-Step-5",binding:"binding-for-Step-5",id:"Step-5",title:{type:"label",kind:"text",key:"57FCA590C3D350DEE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{type:"step",description:"Revenue by Customer over Time",request:"request-for-Step-6",binding:"binding-for-Step-6",id:"Step-6",title:{type:"label",kind:"text",key:"57FCA52FC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Discount - Detailed",request:"request-for-Step-7",binding:"binding-for-Step-7",id:"Step-7",title:{type:"label",kind:"text",key:"57FCA621C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Detailed Data",request:"request-for-Step-9",binding:"binding-for-Step-9",id:"Step-9",title:{type:"label",kind:"text",key:"57FCA5F7C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Month",request:"request-for-Step-10",binding:"binding-for-Step-10",id:"Step-10",title:{type:"label",kind:"text",key:"57FCA63CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue and Shipping Costs - Detailed",request:"request-for-Step-13",binding:"binding-for-Step-13",id:"Step-13",title:{type:"label",kind:"text",key:"57FCA68AC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs - Detailed",request:"request-for-Step-14",binding:"binding-for-Step-14",id:"Step-14",title:{type:"label",kind:"text",key:"57FCA696C3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country and Month",request:"request-for-Step-16",binding:"binding-for-Step-16",id:"Step-16",title:{type:"label",kind:"text",key:"582CF0DE286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue over Time",request:"request-for-Step-17",binding:"binding-for-Step-17",id:"Step-17",title:{type:"label",kind:"text",key:"57FCA37CC3D350DEE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue by Country",request:"request-for-Step-18",binding:"binding-for-Step-18",id:"Step-18",title:{type:"label",kind:"text",key:"582CF190286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount by Country",request:"request-for-Step-19",binding:"binding-for-Step-19",id:"Step-19",title:{type:"label",kind:"text",key:"582CF1AA286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Shipping Costs by Country",request:"request-for-Step-20",binding:"binding-for-Step-20",id:"Step-20",title:{type:"label",kind:"text",key:"582CF1B7286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Revenue, Discount, and Shipping Costs by Country",request:"request-for-Step-21",binding:"binding-for-Step-21",id:"Step-21",title:{type:"label",kind:"text",key:"582CF1C1286D6BFFE10000000A442AF5"},navigationTargets:[]},{type:"step",description:"Discount and Shipping Costs by Customer",request:"request-for-Step-22",binding:"binding-for-Step-22",id:"Step-22",title:{type:"label",kind:"text",key:"582CF1F5286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"}}},{type:"step",description:"Discount by Customer and Month",request:"request-for-Step-23",binding:"binding-for-Step-23",id:"Step-23",title:{type:"label",kind:"text",key:"582CF243286D6BFFE10000000A442AF5"},navigationTargets:[],thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}],requests:[{type:"request",id:"request-for-Step-4",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Currency"]},{type:"request",id:"request-for-Step-5",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName"]},{type:"request",id:"request-for-Step-6",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency","Customer","CustomerName","CustomerGroupName","CustomerGroup"]},{type:"request",id:"request-for-Step-7",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Revenue","Currency","CompanyCode","Product","Discount"]},{type:"request",id:"request-for-Step-9",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Product","ProductName","Country","CountryName","CustomerGroup","CustomerGroupName","CompanyCode","CompanyCodeName","Currency","CurrencyName","YearMonth","Revenue","ShippingCosts","Discount","Date"]},{type:"request",id:"request-for-Step-10",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["YearMonth","Currency","Revenue","ShippingCosts","Discount","Year","Month"]},{type:"request",id:"request-for-Step-13",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","Revenue","ShippingCosts"]},{type:"request",id:"request-for-Step-14",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Customer","CustomerName","Currency","CompanyCode","Product","ShippingCosts","Discount"]},{type:"request",id:"request-for-Step-16",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Country","CountryName","Year","Month","YearMonth","Revenue","Currency"]},{type:"request",id:"request-for-Step-17",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Date","Revenue","Currency"]},{type:"request",id:"request-for-Step-18",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Revenue","Currency","Country","CountryName"]},{type:"request",id:"request-for-Step-19",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","Discount"]},{type:"request",id:"request-for-Step-20",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts"]},{type:"request",id:"request-for-Step-21",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Currency","Country","CountryName","ShippingCosts","Discount","Revenue"]},{type:"request",id:"request-for-Step-22",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Currency","Discount","ShippingCosts","CustomerGroup","CustomerGroupName"]},{type:"request",id:"request-for-Step-23",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQuery",selectProperties:["Customer","CustomerName","Year","Month","Currency","CustomerGroup","CustomerGroupName","Country","CountryName","Discount"]}],bindings:[{type:"binding",id:"binding-for-Step-4",stepDescription:"Revenue by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-4-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]}},{id:"Step-4-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-4-Representation-3",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:true}]}},{id:"Step-4-Representation-4",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Customer",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-5",stepDescription:"Revenue by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"15053050151301676919357480678764"}},representations:[{id:"Step-5-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-5-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CustomerName",ascending:true}]}},{id:"Step-5-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Revenue",ascending:false}]}}]},{type:"binding",id:"binding-for-Step-6",stepDescription:"Revenue by Customer over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-6-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-7",stepDescription:"Revenue and Discount - Detailed",requiredFilters:[],representations:[{id:"Step-7-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-9",stepDescription:"Detailed Data",requiredFilters:[],representations:[{id:"Step-9-Representation-1",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CompanyCode",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"}},{fieldName:"CompanyCodeName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654653622077363120109737296"}},{fieldName:"Country",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"}},{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Product",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"}},{fieldName:"ProductName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654973841803358061607117468"}},{fieldName:"YearMonth",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655078505897926830178603327"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"CurrencyName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655205561312561637116321044"}},{fieldName:"Revenue",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CompanyCode",ascending:true},{property:"Country",ascending:true},{property:"CustomerGroup",ascending:true},{property:"Customer",ascending:"true"},{property:"Product",ascending:true}]}}]},{type:"binding",id:"binding-for-Step-10",stepDescription:"Revenue, Discount, and Shipping Costs by Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-10-Representation-1",representationTypeId:"LineChartWithTwoVerticalAxes",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis2",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-2",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-10-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-13",stepDescription:"Revenue and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-13-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-14",stepDescription:"Discount and Shipping Costs - Detailed",requiredFilters:[],representations:[{id:"Step-14-Representation-1",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"CompanyCode",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654351676651232220531117371"},labelDisplayOption:"key"},{fieldName:"Product",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654430531727431348137129535"},labelDisplayOption:"key"},{fieldName:"Date",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{}},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-16",stepDescription:"Revenue by Country and Month",requiredFilters:["YearMonth"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049976392117373455981353248"}},representations:[{id:"Step-16-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Country",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"YearMonth",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-16-Representation-3",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-17",stepDescription:"Revenue over Time",requiredFilters:["Date"],requiredFilterOptions:{fieldDesc:{type:"label",kind:"text",key:"15053049951111233616299921121549"}},representations:[{id:"Step-17-Representation-1",representationTypeId:"LineChartWithTimeAxis",parameter:{dimensions:[{fieldName:"Date",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654071801237122177186160452"},labelDisplayOption:"key"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Date",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-18",stepDescription:"Revenue by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-18-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Revenue",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-18-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Revenue",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-19",stepDescription:"Discount by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-19-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-19-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-20",stepDescription:"Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-20-Representation-1",representationTypeId:"PieChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-2",representationTypeId:"DonutChart",parameter:{dimensions:[{fieldName:"Country",kind:"sectorColor",labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"sectorSize"}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-20-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-21",stepDescription:"Revenue, Discount, and Shipping Costs by Country",requiredFilters:["Country"],requiredFilterOptions:{labelDisplayOption:"text",fieldDesc:{type:"label",kind:"text",key:"15053049815106687677930186500838"}},representations:[{id:"Step-21-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Country",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"text"}],measures:[{fieldName:"Revenue",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"}}},{id:"Step-21-Representation-2",representationTypeId:"BubbleChart",parameter:{dimensions:[{fieldName:"Country",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998654696299888808200129512867"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Revenue",kind:"bubbleWidth",fieldDesc:{type:"label",kind:"text",key:"14998652326179777222480117701560"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Country",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},leftLower:{type:"label",kind:"text",key:"57FCA51BC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"582CF0DA286D6BFFE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-22",stepDescription:"Discount and Shipping Costs by Customer",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-22-Representation-1",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-2",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"ShippingCosts",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-3",representationTypeId:"ColumnChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-4",representationTypeId:"BarChart",parameter:{dimensions:[{fieldName:"CustomerGroup",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"text"}],measures:[{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}},{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerGroupName",ascending:true},{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA630C3D350DEE10000000A442AF5"}}},{id:"Step-22-Representation-5",representationTypeId:"ScatterPlotChart",parameter:{dimensions:[{fieldName:"Customer",kind:"regionColor",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"ShippingCosts",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998655468591080116939206010709"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA68EC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]},{type:"binding",id:"binding-for-Step-23",stepDescription:"Discount by Customer and Month",requiredFilters:["Customer"],requiredFilterOptions:{labelDisplayOption:"keyAndText",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},representations:[{id:"Step-23-Representation-1",representationTypeId:"LineChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-2",representationTypeId:"StackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-3",representationTypeId:"PercentageStackedColumnChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"Customer",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-4",representationTypeId:"StackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-5",representationTypeId:"PercentageStackedBarChart",parameter:{dimensions:[{fieldName:"Customer",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"},{fieldName:"Year",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"legend",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"}],measures:[{fieldName:"Discount",kind:"yAxis",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Customer",ascending:true},{property:"Year",ascending:true},{property:"Month",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-6",representationTypeId:"HeatmapChart",parameter:{dimensions:[{fieldName:"Year",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"},labelDisplayOption:"key"},{fieldName:"Month",kind:"xAxis",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"},labelDisplayOption:"key"},{fieldName:"CustomerGroup",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"},labelDisplayOption:"text"},{fieldName:"Customer",kind:"xAxis2",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"},labelDisplayOption:"keyAndText"}],measures:[{fieldName:"Discount",kind:"sectorColor",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}}],properties:[],hierarchicalProperty:[{}],alternateRepresentationTypeId:"TableRepresentation",width:{},orderby:[{property:"Year",ascending:true},{property:"Month",ascending:true},{property:"CustomerGroupName",ascending:false},{property:"CustomerName",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA51FC3D350DEE10000000A442AF5"},rightUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"},rightLower:{type:"label",kind:"text",key:"57FCA533C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-7",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"CountryName",ascending:true}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}},{id:"Step-23-Representation-8",representationTypeId:"TableRepresentation",parameter:{dimensions:[],measures:[],properties:[{fieldName:"CountryName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653104964720126290166825322"}},{fieldName:"CustomerGroupName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653198571430428175234187582"}},{fieldName:"CustomerName",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653363629622038810213652282"}},{fieldName:"Year",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652222454346841580163092475"}},{fieldName:"Month",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652259301467785212271544619"}},{fieldName:"Discount",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998654524391749750260102126556"}},{fieldName:"Currency",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653507209401435790398465730"}},{fieldName:"Customer",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998652293709247139600212095455"}},{fieldName:"CustomerGroup",kind:"column",fieldDesc:{type:"label",kind:"text",key:"14998653005891920551803724311210"}}],hierarchicalProperty:[{}],width:{},orderby:[{property:"Discount",ascending:false}]},thumbnail:{type:"thumbnail",leftUpper:{type:"label",kind:"text",key:"57FCA5B6C3D350DEE10000000A442AF5"}}}]}],representationTypes:[],categories:[{type:"category",description:"All Steps",id:"Category-9",label:{type:"label",kind:"text",key:"582CF273286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-5"},{type:"step",id:"Step-4"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-9"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-16"},{type:"step",id:"Step-17"},{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Time",id:"Category-3",label:{type:"label",kind:"text",key:"57FCA587C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-16"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-23"}]},{type:"category",description:"Country",id:"Category-5",label:{type:"label",kind:"text",key:"582CF189286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-19"},{type:"step",id:"Step-20"},{type:"step",id:"Step-21"}]},{type:"category",description:"Customer",id:"Category-2",label:{type:"label",kind:"text",key:"57FCA50FC3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-22"},{type:"step",id:"Step-23"}]},{type:"category",description:"Revenue",id:"Category-6",label:{type:"label",kind:"text",key:"582CF257286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-18"},{type:"step",id:"Step-16"},{type:"step",id:"Step-4"},{type:"step",id:"Step-5"},{type:"step",id:"Step-6"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-17"},{type:"step",id:"Step-10"},{type:"step",id:"Step-21"}]},{type:"category",description:"Discount",id:"Category-7",label:{type:"label",kind:"text",key:"582CF25B286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-19"},{type:"step",id:"Step-23"},{type:"step",id:"Step-10"},{type:"step",id:"Step-22"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Shipping Costs",id:"Category-8",label:{type:"label",kind:"text",key:"582CF25F286D6BFFE10000000A442AF5"},steps:[{type:"step",id:"Step-20"},{type:"step",id:"Step-22"},{type:"step",id:"Step-10"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"},{type:"step",id:"Step-21"}]},{type:"category",description:"Detailed Data",id:"Category-4",label:{type:"label",kind:"text",key:"57FCA5E9C3D350DEE10000000A442AF5"},steps:[{type:"step",id:"Step-9"},{type:"step",id:"Step-7"},{type:"step",id:"Step-13"},{type:"step",id:"Step-14"}]}],navigationTargets:[{type:"navigationTarget",id:"NavigationTarget-1",semanticObject:"FioriApplication",action:"executeAPFConfiguration",isStepSpecific:false,useDynamicParameters:true,parameters:[{key:"sap-apf-configuration-id",value:"57FCA36EC3D350DEE10000000A442AF7"}],title:{key:"15181892007378544392570341801336",type:"label",kind:"text"}}],smartFilterBar:{id:"SmartFilterBar-1",type:"smartFilterBar",service:"/tmp/demokit/demokit.xsodata",entitySet:"RevenueQueryResults"},configHeader:{Application:"57FCA36EC3D350DEE10000000A442AF5",ApplicationName:"APF Demo Kit Application",SemanticObject:"FioriApplication",AnalyticalConfiguration:"57FCA36EC3D350DEE10000000A442AF7",AnalyticalConfigurationName:"APF Smart Filter Bar Demo",UI5Version:"1.55.0-SNAPSHOT",CreationUTCDateTime:null,LastChangeUTCDateTime:null}}});
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5). (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/library", ["sap/ui/core/Lib","sap/ui/core/library","sap/suite/ui/commons/library","sap/m/library","sap/ui/layout/library","sap/ushell/library","sap/viz/library","sap/ui/comp/library","sap/ui/export/library","sap/ui/table/library"],function(a){return a.init({name:"sap.apf",apiVersion:2,dependencies:["sap.ui.core","sap.suite.ui.commons","sap.m","sap.ui.layout","sap.ushell","sap.viz","sap.ui.comp","sap.ui.export","sap.ui.table"],types:[],interfaces:[],controls:[],elements:[],noLibraryCSS:true,version:"1.141.0"})});
sap.ui.predefine("sap/apf/messageCallbackForStartup", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/base/security/encodeXML","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/ui/core/HTML","sap/ui/core/library"],function(e,t,s,n,o,a,i,r,u,p,l){"use strict";var c=a.DialogType,g=a.FlexAlignItems,f=l.ValueState;function w(t){function a(){window.history.go(-1)}function l(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function w(){var e=new o({title:"Error",type:c.Message,state:f.Error,content:new p({content:["<div><p> "+s(l(t))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new n({text:"Close",press:function(){e.close()}}),afterClose:function(){e.destroy()}});e.setInitialFocus(e);e.open()}var m=new o({title:"Error",type:c.Message,state:f.Error,content:[new r({text:t.getMessage()}),new u({alignItems:g.End,items:[new i({text:"Show Details",press:function(){w()}})]})],beginButton:new n({text:"Close",press:function(){if(t.getSeverity()===e.message.severity.fatal){a()}}}),afterClose:function(){m.destroy()}});m.setInitialFocus(m);m.open()}t("sap.apf.messageCallbackForStartup",w);return w},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/Component", ["sap/ui/core/UIComponent","sap/apf/modeler/core/instance","sap/m/routing/RouteMatchedHandler","sap/apf/modeler/ui/utils/APFRouter","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/APFTree","sap/apf/core/layeredRepositoryProxy","sap/apf/core/constants","sap/base/util/deepExtend","sap/ui/core/mvc/ViewType","sap/ui/dom/includeStylesheet"],function(e,a,t,i,o,s,n,r,p,c,u){"use strict";var l=e.extend("sap.apf.modeler.Component",{oCoreApi:null,metadata:{manifest:"json",library:"sap.apf"},init:function(){var t,i;var o;if(this.initHasAlreadyBeenCalled){return}this.initHasAlreadyBeenCalled=true;var s=p({},this.getManifest());var n=l.prototype.getMetadata()._getManifest();if(s["sap.app"].crossNavigation&&s["sap.app"].crossNavigation.outbounds&&s["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime){o=s["sap.app"].crossNavigation.outbounds.navigateToGenericRuntime}if(s["sap.app"].dataSources&&s["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){t=s["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri}else{t=r.modelerPersistenceServiceRoot}var d={serviceRoot:t};var f=this.getInjections();f.instances=f.instances||{};f.instances.component=this;f.functions=f.functions||{};if(o){f.functions.getNavigationTargetForGenericRuntime=function(){return o}}else{f.functions.getNavigationTargetForGenericRuntime=function(){if(s["sap.app"]&&s["sap.app"].id==="fnd.apf.dts1"){return{semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"}}return{semanticObject:"FioriApplication",action:"executeAPFConfiguration"}}}if(s["sap.app"].dataSources&&s["sap.app"].dataSources.GatewayCatalogService){i=s["sap.app"].dataSources.GatewayCatalogService.uri}else if(n["sap.app"].dataSources&&n["sap.app"].dataSources.GatewayCatalogService){i=n["sap.app"].dataSources.GatewayCatalogService.uri}f.functions.getCatalogServiceUri=function(){return i};this.oCoreApi=new(f.constructors&&f.constructors.Instance||a)(d,f);var g=this.oCoreApi.getUriGenerator().getApfLocation();u(g+"modeler/resources/css/configModeler.css","configModelerCss");e.prototype.init.apply(this,arguments);this.getRouter().initialize();var v=sap.ui.view({viewName:"sap.apf.modeler.ui.view.messageHandler",type:c.XML,viewData:this.oCoreApi});var m=v.getController().showMessage;this.oCoreApi.setCallbackForMessageHandling(m.bind(v.getController()))},createContent:function(){var e=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:c.XML,viewData:this.oCoreApi});this.oCoreApi.getUriGenerator().getApfLocation();return e},getInjections:function(){return{instances:{},exits:{}}}});return l},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/applicationHandler", ["sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable"],function(t){"use strict";function i(t,i){var e=this;var n=t.instances.persistenceProxy;var a=t.instances.messageHandler;var c=t.constructors.Hashtable;var p;this.type="application";this.setAndSave=function(t,i,e,a){if(typeof t==="object"&&typeof i==="function"&&typeof e==="string"&&!a){var c=function(e,n){if(n){i(undefined,e,n)}else{p.setItem(t.Application,t);i(t.Application,e,n)}};if(!t.SemanticObject){t.SemanticObject=""}t.Application=e;n.update(this.type,t,c,[{name:"Application",value:e}])}else if(typeof t==="object"&&typeof i==="function"){var o=function(t,e,n){if(n){i(t,e,n)}else{p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject});i(t.Application,e,n)}};if(!t.SemanticObject){t.SemanticObject=""}if(a&&e){t.Application=e}else{t.Application=""}n.create(this.type,t,o)}};this.removeApplication=function(i,e){var a=function(n,a){if(!a){p.removeItem(i)}t.functions.resetConfigurationHandler(i);e(i,n,a)};n.remove(this.type,[{name:"Application",value:i}],a)};this.getList=function(){var t=[];var i=function(i,e){t.push(e)};p.forEachOrdered(i);t=t.sort(function(t,i){return t.ApplicationName.localeCompare(i.ApplicationName)});return t};this.getApplication=function(t){return p.getItem(t)};this.registerApplicationCreatedOnServer=function(t,i){var n=e.getList();var a=false;n.forEach(function(i){if(i.Application===t){a=true}});if(!a){p.setItem(t,{Application:t,ApplicationName:i,SemanticObject:""})}};function o(){p=new c(a);var t=function(t,n,a){if(t instanceof Array&&a===undefined){t.forEach(function(t){p.setItem(t.Application,{Application:t.Application,ApplicationName:t.ApplicationName,SemanticObject:t.SemanticObject})})}i(e,a)};n.readCollection(e.type,t)}o()}t("sap.apf.modeler.core.ApplicationHandler",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationEditor", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";function n(t,i,a,o){var s=this;var f;var l;var c=i.instances.configurationHandler;var u=i.instances.persistenceProxy;var g=i.instances.messageHandler;var v=i.instances.metadataFactory;var d=true;var m,h,p,y,E,C;var S;var A=new i.constructors.ConfigurationObjects(i);var F=new i.constructors.ConfigurationFactory({instances:{messageHandler:g},constructors:{RegistryProbe:i.constructors.RegistryProbe}});if(!o){m=new i.constructors.ElementContainer("Step",i.constructors.Step,i);h=new i.constructors.ElementContainer("Category",undefined,i);p=new i.constructors.ElementContainer("FacetFilter",i.constructors.FacetFilter,i);y=new i.constructors.ElementContainer("NavigationTarget",i.constructors.NavigationTarget,i);E=new i.constructors.ElementContainer("CategoryStepAssignment",i.constructors.ElementContainer,i);C=[];f={smartFilterBar:true}}else{m=o.stepContainer;h=o.categoryContainer;S=o.smartFilterBar;p=o.facetFilterContainer;y=o.navigationTargetContainer;E=o.categoryStepAssignmentContainer;C=o.serviceList;l=o.applicationTitle;f=o.filterOption}this.registerServiceAsPromise=function(e){var t=jQuery.Deferred();var r;if(C.indexOf(e)===-1){r=v.getMetadata(e);r.done(function(){if(C.indexOf(e)===-1){C.push(e)}t.resolve(true)});r.fail(function(){t.resolve(false)})}else{t.resolve(true)}return t.promise()};this.getAllServices=function(){return C};this.getAllEntitySetsOfServiceAsPromise=function(e){return v.getEntitySets(e)};this.getAllHierarchicalEntitySetsOfServiceAsPromise=function(e){var t=jQuery.Deferred();v.getMetadata(e).done(function(e){if(e){t.resolve(e.getHierarchicalEntitySets())}t.resolve([])}).fail(function(){t.resolve([])});return t.promise()};this.checkIfHierarchicalEntitySetIsAvailableAsPromise=function(e){var t=jQuery.Deferred();this.getAllHierarchicalEntitySetsOfServiceAsPromise(e).done(function(e){if(e.length>0){t.resolve(true)}else{t.resolve(false)}});return t};this.getHierarchicalPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();v.getMetadata(e).done(function(e){if(e){r.resolve(e.getHierarchicalPropertiesOfEntitySet(t))}else{r.resolve([])}}).fail(function(){r.resolve([])});return r};this.getHierarchyNodeIdAsPromise=function(e,t,r){var n;var i=jQuery.Deferred();v.getMetadata(e).done(function(e){if(e){n=e.getHierarchyAnnotationsForProperty(t,r);if(n&&n.hierarchyNodeFor){i.resolve(n.hierarchyNodeFor)}else{i.resolve(null)}}else{i.resolve(null)}}).fail(function(){i.resolve(null)});return i};this.getNonHierarchicalPropertiesOfEntitySet=function(e,t){var r;var n=jQuery.Deferred();v.getMetadata(e).then(function(e){r=e.getNonHierarchicalPropertiesOfEntitySet(t);n.resolve(r)},function(){n.resolve([])});return n};this.getAllEntitySetsExceptParameterEntitySets=function(e){return v.getAllEntitySetsExceptParameterEntitySets(e)};this.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise=function(e,t){var r=[];var n=jQuery.Deferred();this.getAllEntitySetsOfServiceAsPromise(e).done(function(i){if(!t||t.length===0){n.resolve(i);return}v.getMetadata(e).done(function(e){i.forEach(function(n){var i=e.getFilterableProperties(n);var a=true;for(var o=0;o<t.length;o++){if(i.indexOf(t[o])<=-1){a=false;break}}if(a){r.push(n)}});n.resolve(r)})});return n.promise()};this.getAllPropertiesOfEntitySetAsPromise=function(e,t){var r=jQuery.Deferred();v.getMetadata(e).done(function(e){r.resolve(e.getAllPropertiesOfEntitySet(t))}).fail(function(){r.resolve([])});return r.promise()};this.getAllKnownPropertiesAsPromise=function(){var e=jQuery.Deferred();var t=[];var n=C.length;C.forEach(function(i){v.getMetadata(i).done(function(i){t=t.concat(i.getAllProperties());n--;if(n===0){t=r.eliminateDuplicatesInArray(g,t);e.resolve(t)}})});return e.promise()};this.getFilterablePropertiesAndParametersAsPromise=function(){var e=jQuery.Deferred();var t=[];var n=C.length;C.forEach(function(i){v.getMetadata(i).done(function(i){t=t.concat(i.getFilterablePropertiesAndParameters());if(--n===0){e.resolve(r.eliminateDuplicatesInArray(g,t))}})});if(n===0){e.resolve([])}return e.promise()};this.setApplicationTitle=function(e){d=false;l=e};this.getApplicationTitle=function(){return l};this.getConfigurationName=function(){return c.getConfiguration(t.id||t).AnalyticalConfigurationName};this.getCategoryStepAssignments=function(e){var t=[];if(!this.getCategory(e)){return false}var r=E.getElement(e);if(r){r.getElements().forEach(function(e){t.push(e.stepId)})}return t};this.addCategoryStepAssignment=function(e,t){if(!this.getCategory(e)||!this.getStep(t)){return false}var r=E.getElement(e);if(!r){E.createElementWithProposedId({},e);r=E.getElement(e)}if(!r.getElement(t)){r.createElementWithProposedId({stepId:t},t);return true}return false};this.removeCategoryStepAssignment=function(e,t){var r;if(!t){var n=this.getCategoryStepAssignments(e);r=E.removeElement(e);if(r){T(n)}return!!r}var i=E.getElement(e);if(!i){return false}r=i.removeElement(t);if(i.getElements().length===0){E.removeElement(e)}if(r){T([t])}return!!r};function T(e){if(!e){return}e.forEach(function(e){if(s.getCategoriesForStep(e).length===0){m.removeElement(e)}})}this.moveCategoryStepAssignmentBefore=function(e,t,r){var n=E.getElement(e);if(!n){return null}return n.moveBefore(t,r)};this.moveCategoryStepAssignmentToEnd=function(e,t){var r=E.getElement(e);if(!r){return null}return r.moveToEnd(t)};this.moveCategoryStepAssignmentUpOrDown=function(e,t,r){var n=E.getElement(e);if(!n){return null}return n.moveUpOrDown(t,r)};this.getCategory=h.getElement;this.setCategory=function(e,t){d=false;return h.setElement(e,t)};this.createCategoryWithId=function(e,t){d=false;return h.createElementWithProposedId(e,t).getId()};this.removeCategory=function(e){var t=s.getCategoryStepAssignments(e);if(t){t.forEach(function(e){var t=s.getCategoriesForStep(e);if(!t||t.length<2){m.removeElement(e)}})}h.removeElement(e)};this.getCategories=h.getElements;this.copyCategory=function(e){var t=h.copyElement(e);if(!t){return}s.getCategoryStepAssignments(e).forEach(function(e){P(e,t)});return t};this.moveCategoryBefore=function(e,t){return h.moveBefore(e,t)};this.moveCategoryToEnd=function(e){return h.moveToEnd(e)};this.moveCategoryUpOrDown=function(e,t){return h.moveUpOrDown(e,t)};this.serialize=function(){return A.serializeConfiguration(s)};this.isSaved=function(){return d};this.setIsUnsaved=function(){d=false};this.save=function(e){var r;function n(n,i,a){if(!a){d=true;c.replaceConfigurationId(t.id||t,n.AnalyticalConfiguration);c.updateConfigurationName(t.id||t,r);t=n.AnalyticalConfiguration}e(t,i,a)}function i(n,i){if(!i){d=true}c.updateConfigurationName(t.id||t,r);e(t.id||t,n,i)}r=c.getConfiguration(t.id||t).AnalyticalConfigurationName;var a={AnalyticalConfiguration:"",AnalyticalConfigurationName:r,Application:c.getApplicationId(),SerializedAnalyticalConfiguration:JSON.stringify(this.serialize()),CreatedByUser:"",CreationUTCDateTime:null,LastChangeUTCDateTime:null,LastChangedByUser:""};if(typeof t==="string"){if(t.indexOf("apf1972-")===0){u.create("configuration",a,n)}else{a.AnalyticalConfiguration=t;u.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:t}])}}else{if(t.id.indexOf("apf1972-")===0){a.AnalyticalConfiguration="";a.CreationUTCDateTime=null;a.LastChangeUTCDateTime=null}else{a.AnalyticalConfiguration=t.id;a.CreationUTCDateTime=t.creationDate;a.LastChangeUTCDateTime=t.lastChangeDate}if(t.updateExisting){u.update("configuration",a,i,[{name:"AnalyticalConfiguration",value:t.id}])}else{u.create("configuration",a,n)}}};this.getFilterOption=function(){return Object.assign({},f)};this.setFilterOption=function(e){if(e.none===true){S=null;t.call(this);r()}if(e.smartFilterBar===true){t.call(this);n()}if(e.facetFilter===true){S=null;i()}function t(){this.getFacetFilters().forEach(function(e){this.removeFacetFilter(e.getId())}.bind(this))}function r(){delete f.smartFilterBar;delete f.facetFilter;f.none=true}function n(){f.smartFilterBar=true;delete f.facetFilter;delete f.none}function i(){delete f.smartFilterBar;f.facetFilter=true;delete f.none}};this.isDataLostByFilterOptionChange=function(){if(f.smartFilterBar===true){if(S&&(S.getService()||S.getEntitySet())){return true}}if(f.facetFilter===true){if(p.getElements().length>0){return true}}return false};this.getSmartFilterBar=function(){if(f.smartFilterBar===true){if(!S){S=new i.constructors.SmartFilterBar("SmartFilterBar-1")}return S}return null};this.createFacetFilterWithId=function(e){if(f.facetFilter===true){return p.createElementWithProposedId(undefined,e).getId()}return null};this.createFacetFilter=function(){if(f.facetFilter===true){return p.createElement().getId()}return null};this.removeFacetFilter=p.removeElement;this.getFacetFilter=p.getElement;this.getFacetFilters=p.getElements;this.copyFacetFilter=p.copyElement;this.moveFacetFilterBefore=function(e,t){return p.moveBefore(e,t)};this.moveFacetFilterToEnd=function(e){return p.moveToEnd(e)};this.moveFacetFilterUpOrDown=function(e,t){return p.moveUpOrDown(e,t)};this.createNavigationTargetWithId=function(e){return y.createElementWithProposedId(undefined,e).getId()};this.createNavigationTarget=function(){return y.createElement().getId()};this.removeNavigationTarget=function(e){var t=y.getElement(e);if(!t){return}y.removeElement(e);if(t.isStepSpecific()){var r=this.getStepsAssignedToNavigationTarget(e);var n,i;for(n=0;n<r.length;n++){i=this.getStep(r[n]);i.removeNavigationTarget(e)}}};this.getNavigationTarget=y.getElement;this.getNavigationTargets=y.getElements;this.copyNavigationTarget=function(e){var t=y.copyElement(e);var r=y.getElement(t);if(r.isStepSpecific()){var n=this.getStepsAssignedToNavigationTarget(e);var i,a;for(i=0;i<n.length;i++){a=this.getStep(n[i]);a.addNavigationTarget(t)}}return t};this.moveNavigationTargetBefore=function(e,t){return y.moveBefore(e,t)};this.moveNavigationTargetToEnd=function(e){return y.moveToEnd(e)};this.moveNavigationTargetUpOrDown=function(e,t){return y.moveUpOrDown(e,t)};this.createStepWithId=function(e){return m.createElementWithProposedId(undefined,e).getId()};this.createStep=function(e){if(!this.getCategory(e)){return}var t=m.createElement().getId();this.addCategoryStepAssignment(e,t);return t};this.createHierarchicalStepWithId=function(e){return m.createElementWithProposedId(undefined,e,i.constructors.HierarchicalStep).getId()};this.createHierarchicalStep=function(e){if(!this.getCategory(e)){return}var t=m.createElement(undefined,i.constructors.HierarchicalStep).getId();this.addCategoryStepAssignment(e,t);return t};this.getStep=m.getElement;this.getSteps=m.getElements;this.getStepsNotAssignedToCategory=function(e){var t=this.getCategoryStepAssignments(e);var r=[];s.getSteps().forEach(function(e){var n=e.getId();if(t.indexOf(n)===-1){r.push(n)}});return r};this.copyStep=function(e){var t=P(e);var r=this.getCategoriesForStep(e);if(!t){return false}if(r){r.forEach(function(e){s.addCategoryStepAssignment(e,t)})}return t};function P(e,t){if(t&&!s.getCategory(t)){return false}var r=m.copyElement(e);if(!r){return false}if(t){s.addCategoryStepAssignment(t,r)}return r}this.getCategoriesForStep=function e(t){var r=[];var n=s.getCategories();if(n){n.forEach(function(e){var n=e.getId();var i=s.getCategoryStepAssignments(n);if(i&&i.indexOf(t)>-1){r.push(n)}})}return r};this.getAssignableStepsForNavigationTarget=function(e){var t=[];s.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(!n){t.push(r.getId())}});return t};this.getStepsAssignedToNavigationTarget=function(e){var t=[];s.getSteps().forEach(function(r){var n=false;r.getNavigationTargets().forEach(function(t){if(e===t){n=true}});if(n){t.push(r.getId())}});return t};this.copy=function(t){var r={stepContainer:m,categoryContainer:h,facetFilterContainer:p,navigationTargetContainer:y,categoryStepAssignmentContainer:E,applicationTitle:l,serviceList:C,filterOption:f};var a=e.deepDataCopy(r);if(f.smartFilterBar===true&&S){a.smartFilterBar=o()}return new n(t,i,undefined,a);function o(){var e=new i.constructors.SmartFilterBar(S.getId());e.setService(S.getService());e.setEntitySet(S.getEntitySet(),!S.isEntityTypeConverted());return e}};if(typeof t==="string"){if(t.indexOf("apf1972-")===0){d=false;if(a){a(s,undefined)}}else if(!o){I(t,u,function(e,t){if(!t){var r=JSON.parse(e.SerializedAnalyticalConfiguration);s.setApplicationTitle(r.applicationTitle);F.loadConfig(r,true);A.mapToDesignTimeAsPromise(F.getRegistry(),s).then(function(){d=true;a(s,undefined)})}else{a(undefined,t)}})}}else{F.loadConfig(t.content,true);A.mapToDesignTimeAsPromise(F.getRegistry(),this).then(function(){if(a){a(s,undefined)}})}function I(e,t,r){t.readEntity("configuration",function(e,t,n){r(e,n)},[{name:"AnalyticalConfiguration",value:e}],undefined,c.getApplicationId())}}t("sap.apf.modeler.core.ConfigurationEditor",n);return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationHandler", ["sap/apf/modeler/core/configurationEditor","sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/modeler/core/configurationObjects","sap/ui/Global"],function(t,e,n,i,a,o,r){"use strict";function s(t){var n=this;var i=t.instances.messageHandler;var o=t.instances.persistenceProxy;var s=t.constructors.ConfigurationEditor;var c=t.constructors.Hashtable;var u=t.constructors.LazyLoader;var f=new c(i);var l=new c(i);var g=new c(i);var m=new c(i);var p,C;var d={constructors:{Hashtable:c},instances:{messageHandler:i}};this.exportTexts=function(t){var e=this.getConfiguration(t).AnalyticalConfigurationName;return C.exportTexts(e)};this.getTextPool=function(){return C};this.setApplicationIdAndContext=function(t,e,n){C=n||C;f=new c(i);var a,o=e.length;for(a=0;a<o;a++){f.setItem(e[a].AnalyticalConfiguration,e[a]);l.setItem(e[a].AnalyticalConfiguration,e[a].AnalyticalConfigurationName)}p=t};this.getApplicationId=function(){return p};this.setConfiguration=function(t,e){t.AnalyticalConfiguration=e||v();t.Application=p;f.setItem(t.AnalyticalConfiguration,t);return t.AnalyticalConfiguration};this.getList=function(){var t=[];var e=function(e,n){t.push(n)};f.each(e);return t};this.getConfiguration=function(t){return f.getItem(t)};this.loadConfiguration=function(e,a){var r,f=e.id||e;if(!e.updateExisting){r=g.getItem(f)}if(!r){r=new u(d,m);g.setItem(f,r)}r.asyncGetInstance(f,l);function l(t,e,n){a(t,e)}function m(a,r,u){var f={instances:{coreApi:t.instances.coreApi,messageHandler:i,configurationHandler:n,persistenceProxy:o,textPool:C,metadataFactory:t.instances.metadataFactory},constructors:{Hashtable:c,Step:t.constructors.Step,HierarchicalStep:t.constructors.HierarchicalStep,SmartFilterBar:t.constructors.SmartFilterBar,FacetFilter:t.constructors.FacetFilter,NavigationTarget:t.constructors.NavigationTarget,Representation:t.constructors.Representation,ConfigurationObjects:t.constructors.ConfigurationObjects,ElementContainer:t.constructors.ElementContainer,ConfigurationFactory:t.constructors.ConfigurationFactory,RegistryProbe:t.constructors.RegistryProbe}};new s(e,f,function(t,e){r(a,t,e)})}};this.resetConfiguration=function(t){var e;if(g.hasItem(t)){e=f.getItem(t);e.AnalyticalConfigurationName=l.getItem(t);g.removeItem(t);return t}};this.updateConfigurationName=function(t,e){l.setItem(t,e)};this.copyConfiguration=function(t,i){var a=this.getConfiguration(t);if(!a){i(null);return}n.loadConfiguration(t,o);function o(t){var o,r,s,c;c=e.deepDataCopy(a);o=v();c.AnalyticalConfiguration=o;n.setConfiguration(c,o);r=t.copy(o);s=new u(d,undefined,{id:o,instance:r});g.setItem(o,s);i(o)}};this.replaceConfigurationId=function(t,e){if(t.indexOf("apf1972-")===0){var n=f.getItem(t);var i=g.getItem(t).getInstance();var a=new u(d,undefined,{id:e,instance:i});n.AnalyticalConfiguration=e;f.setItem(e,n);l.setItem(e,n.AnalyticalConfigurationName);f.removeItem(t);g.setItem(e,a);g.removeItem(t)}};this.exportConfiguration=function(e,a){var s;this.loadConfiguration(e,c);function c(c){if(!c.isSaved()){i.putMessage(i.createMessageObject({code:"11007",aParameters:[e]}));a(null)}else{var u=t.functions.getApplication(p);var f=n.getConfiguration(e).AnalyticalConfigurationName;s=c.serialize();s.configHeader={Application:p,ApplicationName:u.ApplicationName,SemanticObject:u.SemanticObject,AnalyticalConfiguration:e,AnalyticalConfigurationName:f,UI5Version:r.version};o.readEntity("configuration",function(t,n,o){if(o){i.putMessage(i.createMessageObject({code:"5022",aParameters:[e]}));a(null)}else{s.configHeader.CreationUTCDateTime=t.CreationUTCDateTime;s.configHeader.LastChangeUTCDateTime=t.LastChangeUTCDateTime;s=JSON.stringify(s,null,"\t");a(s,f)}},[{name:"AnalyticalConfiguration",value:e}],["CreationUTCDateTime","LastChangeUTCDateTime"],p)}}};this.memorizeConfiguration=function(t){var e,n;n=g.getItem(t);if(!n){return null}e=n.getInstance();if(e){m.setItem(t,e.copy(t));return t}return null};this.restoreMemorizedConfiguration=function(t){var e,n;n=m.removeItem(t);if(n){e=new u(d,undefined,{id:t,instance:n});g.setItem(t,e);return n}return null};this.removeConfiguration=function(t,e){function n(n,i){if(!i){f.removeItem(t);g.removeItem(t)}e(t,n,i)}if(t.indexOf("apf1972-")!==0){o.remove("configuration",[{name:"AnalyticalConfiguration",value:t}],n,undefined,p)}else{f.removeItem(t);g.removeItem(t);e(t,undefined,undefined)}};this.removeAllConfigurations=function(){f=new c(i)};function v(){return"apf1972-"+a.createPseudoGuid(32)}}n("sap.apf.modeler.core.ConfigurationHandler",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/configurationObjects", ["sap/apf/core/utils/filter","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function i(t){var r=this;var a,n,s,l;var o=t.instances.metadataFactory;if(t.constructors&&t.constructors.Hashtable){a=t.constructors.Hashtable}if(t.instances.textPool){n=t.instances.textPool}if(t.instances.persistenceProxy){s=t.instances.persistenceProxy}if(t.instances.messageHandler){l=t.instances.messageHandler}function p(e,t){var i=[];if(t){i.push(t)}l.putMessage(l.createMessageObject({code:e,aParameters:i}))}function c(e){var t=e&&e.type&&e.type==="label"&&e.kind&&e.kind==="text"&&e.key&&typeof e.key==="string";if(!t){p(11030,e.key)}return t}this.serializeLabelKey=function(e){return{type:"label",kind:"text",key:n.getPersistentKey(e)}};this.serializeAndAddThumbnail=function(e,t){var i=e.getLeftLowerCornerTextKey();var r=e.getLeftUpperCornerTextKey();var a=e.getRightUpperCornerTextKey();var n=e.getRightLowerCornerTextKey();var s={type:"thumbnail"};if(r){s.leftUpper=this.serializeLabelKey(r)}if(i){s.leftLower=this.serializeLabelKey(i)}if(a){s.rightUpper=this.serializeLabelKey(a)}if(n){s.rightLower=this.serializeLabelKey(n)}if(s.leftLower||s.leftUpper||s.rightLower||s.rightUpper){t.thumbnail=s}};this.serializeCategory=function(e,t){var i=n.get(e.labelKey);var a=[];if(t){t.forEach(function(e){a.push({type:"step",id:e})})}var s=i&&i.TextElementDescription||"";return{type:"category",description:s,id:e.getId(),label:r.serializeLabelKey(e.labelKey),steps:a}};this.validateCategory=function(e){var t=e&&e.type&&e.type==="category"&&e.id&&e.steps&&c(e.label);if(t){e.steps.forEach(function(e){if(!e.type||e.type!=="step"||!e.id){t=false}})}if(!t){p(11031,e.id)}return t};this.validateRequest=function(e){var t=e&&e.id&&e.type==="request"&&e.service&&typeof e.service==="string"&&(e.entityType&&typeof e.entityType==="string"||e.entitySet&&typeof e.entitySet==="string")&&e.selectProperties&&e.selectProperties&&e.selectProperties instanceof Array&&e.selectProperties.length>=0;if(!t){p(11032,e.id)}return t};this.validateBinding=function(e){var t=e&&e.id&&e.type==="binding"&&e.requiredFilters&&e.requiredFilters instanceof Array&&e.requiredFilters.length>=0&&e.representations&&e.representations instanceof Array;if(!t){p(11033,e.id)}return t};this.validateFacetFilter=function(e){var t=e&&e.id&&e.property&&e.type==="facetFilter";if(!t){p(11034,e.id)}return t};this.validateNavigationTarget=function(e){var t=e&&e.id&&e.semanticObject&&e.action&&e.type==="navigationTarget"&&e.hasOwnProperty("isStepSpecific");if(!t){p(11040,e.id)}return t};this.validateStep=function(e){var t=e&&e.id&&e.type==="step"&&c(e.title)&&c(e.longTitle)&&e.hasOwnProperty("navigationTargets");if(!t){p(11035,e.id)}return t};this.validateConfiguration=function(e){var t=e&&e.applicationTitle&&e.applicationTitle.key&&typeof e.applicationTitle.key==="string"&&e.steps&&e.steps instanceof Array&&e.steps.length>=0&&e.requests&&e.requests instanceof Array&&e.requests.length>=0&&e.bindings&&e.bindings instanceof Array&&e.bindings.length>=0&&e.representationTypes&&e.representationTypes instanceof Array&&e.representationTypes.length>=0&&e.categories&&e.categories instanceof Array&&e.categories.length>=0;if(!t){p(11036)}return t};function f(e){var t=[];var i,a;var n,s;var l;var o;var p;var c;var f=e.getRepresentations();f.forEach(function(e){i=[];a=e.getDimensions();a.forEach(function(t){var r={fieldName:t};if(e.getDimensionKind(t)){r.kind=e.getDimensionKind(t)}if(e.getDimensionTextLabelKey(t)){r.fieldDesc={type:"label",kind:"text",key:e.getDimensionTextLabelKey(t)}}if(e.getLabelDisplayOption(t)){r.labelDisplayOption=e.getLabelDisplayOption(t)}i.push(r)});n=[];s=e.getMeasures();s.forEach(function(t){var i={fieldName:t};if(e.getMeasureKind(t)){i.kind=e.getMeasureKind(t)}if(e.getMeasureTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getMeasureTextLabelKey(t)}}if(e.getMeasureDisplayOption(t)){i.measureDisplayOption=e.getMeasureDisplayOption(t)}n.push(i)});l=[];e.getProperties().forEach(function(t){var i={fieldName:t};if(e.getPropertyKind(t)){i.kind=e.getPropertyKind(t)}if(e.getPropertyTextLabelKey(t)){i.fieldDesc={type:"label",kind:"text",key:e.getPropertyTextLabelKey(t)}}l.push(i)});var f=[{}];if(e.getHierarchyProperty()){f[0].fieldName=e.getHierarchyProperty();f[0].kind="hierarchicalColumn";if(e.getHierarchyPropertyTextLabelKey()){f[0].fieldDesc={type:"label",kind:"text",key:e.getHierarchyPropertyTextLabelKey()}}f[0].labelDisplayOption=e.getHierarchyPropertyLabelDisplayOption()}o=[];e.getOrderbySpecifications().forEach(function(e){o.push({property:e.property,ascending:e.ascending})});p={id:e.getId(),representationTypeId:e.getRepresentationType(),parameter:{dimensions:i,measures:n,properties:l,hierarchicalProperty:f,alternateRepresentationTypeId:e.getAlternateRepresentationType()}};if(e.getWidthProperties()){p.parameter.width=e.getWidthProperties()}if(o.length>0){p.parameter.orderby=o}c=e.getTopN();if(c&&c>0){p.parameter.top=c}r.serializeAndAddThumbnail(e,p);t.push(p)});return t}this.serializeBinding=function(e,t){var i="binding-for-"+e.getId();var r=n.get(e.getTitleId());var a=r&&r.TextElementDescription||"";if(e.getFilterPropertyLabelKey()||e.getFilterPropertyLabelDisplayOption()){var s={labelDisplayOption:e.getFilterPropertyLabelDisplayOption()};if(e.getFilterPropertyLabelKey()){s.fieldDesc=this.serializeLabelKey(e.getFilterPropertyLabelKey())}}t.bindings.push({type:"binding",id:i,stepDescription:a,requiredFilters:e.getFilterProperties(),requiredFilterOptions:s,representations:f(e)});return i};this.serializeRequest=function(e,t){var i;var r="request-for-"+e.getId();i={type:"request",id:r,service:e.getService(),entitySet:e.getEntitySet(),selectProperties:e.getSelectProperties()};t.requests.push(i);return r};this.serializeFilterMappingRequest=function(e,t){var i="request-for-FilterMapping"+e.getId();var r={type:"request",id:i,service:e.getFilterMappingService(),entitySet:e.getFilterMappingEntitySet(),selectProperties:e.getFilterMappingTargetProperties()};t.requests.push(r);return i};this.serializeStep=function(e,t){var i=r.serializeRequest(e,t);var a=r.serializeBinding(e,t);var s=n.get(e.getTitleId());var l=s&&s.TextElementDescription||"";var o=e.getLongTitleId();var p;var c={type:e.getType(),description:l,request:i,binding:a,id:e.getId(),title:r.serializeLabelKey(e.getTitleId()),navigationTargets:[]};if(e.getHierarchyProperty&&e.getHierarchyProperty()){c.hierarchyProperty=e.getHierarchyProperty()}if(e.getFilterMappingService()){c.filterMapping={requestForMappedFilter:r.serializeFilterMappingRequest(e,t),target:e.getFilterMappingTargetProperties(),targetPropertyLabelKey:e.getFilterMappingTargetPropertyLabelKey(),targetPropertyDisplayOption:e.getFilterMappingTargetPropertyLabelDisplayOption(),keepSource:e.getFilterMappingKeepSource()?"true":"false"}}p=e.getTopN();if(p){c.topNSettings=p}if(o!==""&&o!==undefined){c.longTitle=r.serializeLabelKey(e.getLongTitleId())}this.serializeAndAddThumbnail(e,c);e.getNavigationTargets().forEach(function(e){c.navigationTargets.push({type:"navigationTarget",id:e})});return c};this.serializeFacetFilter=function(e,t){var i,a,s;if(e.getServiceOfFilterResolution()){i=p("FilterResolution",e,t)}if(e.getUseSameRequestForValueHelpAndFilterResolution()){a=i}else if(e.getServiceOfValueHelp()){a=p("ValueHelp",e,t)}var l=n.get(e.getLabelKey());var o=l&&l.TextElementDescription||"";if(e.getValueList().length>0){s=e.getValueList()}return{type:"facetFilter",description:o,id:e.getId(),alias:e.getAlias(),property:e.getProperty(),multiSelection:e.isMultiSelection()+"",preselectionFunction:e.getPreselectionFunction(),preselectionDefaults:c(),valueList:s,label:r.serializeLabelKey(e.getLabelKey()),invisible:!e.isVisible(),filterResolutionRequest:i,valueHelpRequest:a,hasAutomaticSelection:e.getAutomaticSelection()+"",useSameRequestForValueHelpAndFilterResolution:e.getUseSameRequestForValueHelpAndFilterResolution()+""};function p(e,t,i){var r;var a;var n;var s;switch(e){case"ValueHelp":a=t.getServiceOfValueHelp();n=t.getEntitySetOfValueHelp();s=t.getSelectPropertiesOfValueHelp();break;case"FilterResolution":a=t.getServiceOfFilterResolution();n=t.getEntitySetOfFilterResolution();s=t.getSelectPropertiesOfFilterResolution();break;default:a="";n="";s="";break}var l=e+"-request-for-"+t.getId();r={type:"request",id:l,service:a,entitySet:n,selectProperties:s};i.requests.push(r);return l}function c(){if(e.getNoneSelection()===true){return null}return e.getPreselectionDefaults()}};this.serializeNavigationTarget=function(e,t){var i={type:"navigationTarget",id:e.getId(),semanticObject:e.getSemanticObject(),action:e.getAction(),isStepSpecific:e.isStepSpecific(),useDynamicParameters:e.getUseDynamicParameters(),parameters:e.getAllNavigationParameters()};if(e.getFilterMappingService()){i.filterMapping={requestForMappedFilter:r.serializeFilterMappingRequest(e,t),target:e.getFilterMappingTargetProperties()}}if(e.getTitleKey()){i.title={key:e.getTitleKey(),type:"label",kind:"text"}}return i};this.serializeSmartFilterBar=function(e){if(e){if(!e.isEntityTypeConverted()){return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entityType:e.getEntitySet()}}return{id:e.getId(),type:"smartFilterBar",service:e.getService(),entitySet:e.getEntitySet()}}};this.serializeConfiguration=function(e){var t={analyticalConfigurationName:e.getConfigurationName(),applicationTitle:r.serializeLabelKey(e.getApplicationTitle()),steps:[],requests:[],bindings:[],representationTypes:[],categories:[],navigationTargets:[]};var i={requests:t.requests,bindings:t.bindings};e.getCategories().forEach(function(i){var a=e.getCategoryStepAssignments(i.getId());t.categories.push(r.serializeCategory(i,a))});e.getSteps().forEach(function(e){var a=r.serializeStep(e,i);t.steps.push(a)});e.getFacetFilters().forEach(function(e){var a=r.serializeFacetFilter(e,i);if(t.facetFilters===undefined){t.facetFilters=[]}t.facetFilters.push(a)});if(e.getFilterOption().facetFilter===true&&t.facetFilters===undefined){t.facetFilters=[]}e.getNavigationTargets().forEach(function(e){var a=r.serializeNavigationTarget(e,i);t.navigationTargets.push(a)});var a=this.serializeSmartFilterBar(e.getSmartFilterBar());if(a!==undefined){t.smartFilterBar=a}return t};function y(e,t){var i=e.thumbnail;if(!i){return}if(i.leftLower){t.setLeftLowerCornerTextKey(i.leftLower.key)}if(i.leftUpper){t.setLeftUpperCornerTextKey(i.leftUpper.key)}if(i.rightLower){t.setRightLowerCornerTextKey(i.rightLower.key)}if(i.rightUpper){t.setRightUpperCornerTextKey(i.rightUpper.key)}}function u(e,t,i){var r=[];var a;var n;if(e.type==="hierarchicalStep"){a=i.createHierarchicalStepWithId(e.id);n=i.getStep(a);n.setHierarchyProperty(e.hierarchyProperty)}else{a=i.createStepWithId(e.id);n=i.getStep(a)}var s=t.getItem(e.request);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service))}n.setService(s.service);n.setEntitySet(s.entitySet);n.setTitleId(e.title.key);if(e.longTitle&&e.longTitle.key){n.setLongTitleId(e.longTitle.key)}if(e.navigationTargets){e.navigationTargets.forEach(function(e){n.addNavigationTarget(e.id)})}y(e,n);s.selectProperties.forEach(function(e){n.addSelectProperty(e)});var l=t.getItem(e.binding);l.requiredFilters.forEach(function(e){n.addFilterProperty(e)});if(l.requiredFilterOptions){n.setFilterPropertyLabelDisplayOption(l.requiredFilterOptions.labelDisplayOption);if(l.requiredFilterOptions.fieldDesc){n.setFilterPropertyLabelKey(l.requiredFilterOptions.fieldDesc.key)}}l.representations.forEach(function(e){var t;var i=n.getRepresentation(n.createRepresentation({id:e&&e.id}).getId());i.setRepresentationType(e.representationTypeId);i.setAlternateRepresentationType(e.parameter.alternateRepresentationTypeId);if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]&&e.parameter.hierarchicalProperty[0].fieldDesc){i.setHierarchyPropertyTextLabelKey(e.parameter.hierarchicalProperty[0].fieldDesc.key)}if(e.parameter.hierarchicalProperty&&e.parameter.hierarchicalProperty[0]){i.setHierarchyPropertyLabelDisplayOption(e.parameter.hierarchicalProperty[0].labelDisplayOption)}e.parameter.dimensions.forEach(function(e){i.addDimension(e.fieldName);if(e.fieldDesc){i.setDimensionTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setDimensionKind(e.fieldName,e.kind)}if(e.labelDisplayOption){i.setLabelDisplayOption(e.fieldName,e.labelDisplayOption)}});e.parameter.measures.forEach(function(e){i.addMeasure(e.fieldName);if(e.fieldDesc){i.setMeasureTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setMeasureKind(e.fieldName,e.kind)}if(e.measureDisplayOption){i.setMeasureDisplayOption(e.fieldName,e.measureDisplayOption)}});if(e.parameter.properties){e.parameter.properties.forEach(function(e){i.addProperty(e.fieldName);if(e.fieldDesc){i.setPropertyTextLabelKey(e.fieldName,e.fieldDesc.key)}if(e.kind){i.setPropertyKind(e.fieldName,e.kind)}})}if(e.parameter.width){for(t in e.parameter.width){if(e.parameter.width.hasOwnProperty(t)){i.setWidthProperty(t,e.parameter.width[t])}}}if(e.parameter.orderby&&!e.parameter.topN){e.parameter.orderby.forEach(function(e){i.addOrderbySpec(e.property,e.ascending)})}y(e,i)});if(e.filterMapping){r.push(h(e.filterMapping,n,t,i))}if(e.topNSettings){n.setTopN(e.topNSettings.top,e.topNSettings.orderby)}return Promise.all(r)}function g(e,t,i){var r=[];var a=i.createFacetFilterWithId(e.id);var n=i.getFacetFilter(a);n.setLabelKey(e.label.key);n.setAlias(e.alias);n.setProperty(e.property);if(e.preselectionFunction&&e.preselectionFunction!==""){n.setPreselectionFunction(e.preselectionFunction)}else if(e.preselectionDefaults===null){n.setNoneSelection(true)}else{n.setPreselectionDefaults(e.preselectionDefaults)}if(e.valueList){n.setValueList(e.valueList)}if(e.useSameRequestForValueHelpAndFilterResolution&&e.useSameRequestForValueHelpAndFilterResolution==="true"){n.setUseSameRequestForValueHelpAndFilterResolution(true)}else{n.setUseSameRequestForValueHelpAndFilterResolution(false)}if(e.multiSelection==="true"){n.setMultiSelection(true)}if(e.invisible===true){n.setInvisible()}if(e.hasAutomaticSelection==="true"){n.setAutomaticSelection(true)}else{n.setAutomaticSelection(false)}if(e.valueHelpRequest){var s=t.getItem(e.valueHelpRequest);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.push(i.registerServiceAsPromise(s.service));n.setServiceOfValueHelp(s.service)}if(s.entitySet){n.setEntitySetOfValueHelp(s.entitySet)}s.selectProperties.forEach(function(e){n.addSelectPropertyOfValueHelp(e)})}if(e.filterResolutionRequest){var l=t.getItem(e.filterResolutionRequest);if(l.entityType){l.entitySet=l.entityType;delete l.entityType}if(l.service){r.push(i.registerServiceAsPromise(l.service));n.setServiceOfFilterResolution(l.service)}if(l.entitySet){n.setEntitySetOfFilterResolution(l.entitySet)}l.selectProperties.forEach(function(e){n.addSelectPropertyOfFilterResolution(e)})}return Promise.all(r)}function d(e,t,i){return new Promise(function(r,a){var n=i.createNavigationTargetWithId(e.id);var s=i.getNavigationTarget(n);s.setSemanticObject(e.semanticObject);s.setAction(e.action);if(e.parameters){e.parameters.forEach(function(e){s.addNavigationParameter(e.key,e.value)})}if(e.isStepSpecific===true){s.setStepSpecific()}else{s.setGlobal()}if(e.useDynamicParameters===true){s.setUseDynamicParameters(true)}if(e.filterMapping){h(e.filterMapping,s,t,i).then(function(){r()})}else{r()}if(e.title&&e.title.key){s.setTitleKey(e.title.key)}})}function h(e,t,i,r){return new Promise(function(a,n){var s=i.getItem(e.requestForMappedFilter);if(s.entityType){s.entitySet=s.entityType;delete s.entityType}if(s.service){r.registerServiceAsPromise(s.service).done(function(){a()})}else{a()}t.setFilterMappingService(s.service);t.setFilterMappingEntitySet(s.entitySet);e.target.forEach(function(e){t.addFilterMappingTargetProperty(e)});if(e.targetPropertyLabelKey){t.setFilterMappingTargetPropertyLabelKey(e.targetPropertyLabelKey)}if(e.targetPropertyDisplayOption){t.setFilterMappingTargetPropertyLabelDisplayOption(e.targetPropertyDisplayOption)}if(e.hasOwnProperty("keepSource")){if(e.keepSource==="true"){t.setFilterMappingKeepSource(true)}else{t.setFilterMappingKeepSource(false)}}})}function v(e,t){var i=[];i.unshift(new Promise(function(r){var a=e.getItem("SmartFilterBar-1");if(a){t.setFilterOption({smartFilterBar:true});var n=t.getSmartFilterBar();n.setService(a.service);if(a.service){i.push(t.registerServiceAsPromise(a.service))}if(a.entitySet){n.setEntitySet(a.entitySet);r(true)}else if(a.entityType){o.getMetadata(a.service).done(function(e){if(e){var t=e.getEntitySetByEntityType(a.entityType);if(t){n.setEntitySet(t)}else{n.setEntitySet(a.entityType,true);p("11524",[a.entityType])}}r(true)}).fail(function(){n.setEntitySet(a.entityType,true);p("11524",[a.entityType]);r(true)})}else{r(true)}}else{r(false)}}));return Promise.all(i)}this.mapToDesignTimeAsPromise=function(e,t){var i;var r=false;var a=[];t.setApplicationTitle(e.getItem("applicationTitle").key);e.getSteps().forEach(function(i){a.push(u(i,e,t))});e.getCategories().forEach(function(e){t.createCategoryWithId({labelKey:e.label.key},e.id);e.steps.forEach(function(i){t.addCategoryStepAssignment(e.id,i.id)})});i=e.getFacetFilters();if(i.emptyArray===true){r=true;t.setFilterOption({facetFilter:true})}else{i.forEach(function(i){r=true;t.setFilterOption({facetFilter:true});a.push(g(i,e,t))})}e.getNavigationTargets().forEach(function(i){a.push(d(i,e,t))});a.push(new Promise(function(i){v(e,t).then(function(e){var a=e[0];if(!r&&!a){t.setFilterOption({none:true})}i()})}));return Promise.all(a)};this.loadAllConfigurations=function(t,i){var r=new e(l,"Application","eq",t);s.readCollection("configuration",function(e,t,r){i(e,t,r)},undefined,["AnalyticalConfiguration","SerializedAnalyticalConfiguration"],r)};this.getTextKeysFromAllConfigurations=function(e,t){this.loadAllConfigurations(e,function(e,r,n){var s=new a(l);if(n){t(undefined,n);return}e.forEach(function(e){var t=JSON.parse(e.SerializedAnalyticalConfiguration);var r=i.getTextKeysFromConfiguration(t);r.forEach(function(e){s.setItem(e,e)})});t(s,undefined)})}}i.deepDataCopy=function e(t){var i;if(!t){i=t}else if(t.copy&&typeof t.copy==="function"){i=t.copy()}else if(t&&typeof t==="object"){if(t instanceof Array){i=[];t.forEach(function(t){i.push(e(t))})}else{i={};for(var r in t){if(!t.hasOwnProperty(r)){continue}i[r]=e(t[r])}}}else{i=t}return i};i.getTextKeysFromConfiguration=function e(t){var i=[];if(!t){return undefined}if(t.type==="label"&&t.kind==="text"&&t.key){return[t.key]}for(var r in t){if(typeof t[r]!=="object"||!t.hasOwnProperty(r)){continue}Array.prototype.push.apply(i,e(t[r]))}return i};t("sap.apf.modeler.core.ConfigurationObjects",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/elementContainer", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/base/util/extend","sap/ui/thirdparty/jquery"],function(e,n,t){"use strict";var r=function(n,a,i,s){var o,u,c=new RegExp("^"+n+"-([123456789]\\d*)$"),d=new RegExp("^"+n);var f=this;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name");if(!s){o=new i.constructors.Hashtable(i.instances.messageHandler);u=0}else{o=s.elements;u=s.elementCounter}this.generateId=function(){return n+"-"+ ++u};this.createElement=function(e,n){var t;t=f.generateId();return m(e,t,n)};this.createElementWithProposedId=function(e,n,t){function r(e){var n=c.exec(e);if(n){var t=parseInt(n[1],10);if(t>u){u=t}}}var a;var i=o.getItem(n);if(i){return f.createElement(e,t)}a=m(e,n,t);r(n);return a};this.removeElement=function(e){return o.removeItem(e)};this.getElement=function(e){return o.getItem(e)};this.updateElement=function(e,n){i.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been updated with undefined elementId");if(!n.getId||n.getId()!==e){n.getId=function(){return e}}o.setItem(e,n);return e};this.setElement=function(e,n){var t;if(n){if(!o.getItem(n)){i.instances.messageHandler.putMessage(i.instances.messageHandler.createMessageObject({code:"11006",aParameters:[n]}));return undefined}f.updateElement(n,e);return n}t=f.createElement(e);return t.getId()};this.getElements=function(){var e=[];o.forEachOrdered(function(n,t){e.push(t)});return e};this.moveUpOrDown=function(e,n){return o.moveUpOrDown(e,n)};this.moveBefore=function(e,n){return o.moveBefore(e,n)};this.moveToEnd=function(e){return o.moveToEnd(e)};this.copyElement=function(n){var t,r,a;t=o.getItem(n);if(!t){return}a=f.generateId();if(t.copy&&typeof t.copy==="function"){r=t.copy(a)}else{r=e.deepDataCopy(t)}r.getId=function(){return a};o.setItem(a,r);return a};this.copy=function(t){var s={elements:new i.constructors.Hashtable(i.instances.messageHandler),elementCounter:u};var c;var f;o.getKeysOrdered().forEach(function(r){c=o.getItem(r);f=e.deepDataCopy(c);if(t&&r.indexOf(n)===0){r=r.replace(d,t)}i.instances.messageHandler.check(r!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof f==="object"&&f.getId&&typeof f.getId==="function"){f.getId=function(){return r}}s.elements.setItem(r,f)});i.instances.messageHandler.check(n!==undefined||t!==undefined,"ElementContainer: Element has been created without name in copy 2");return new r(t||n,a,i,s)};function m(e,n,s){var u;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof s==="function"){u=new s(n,i)}else if(typeof a==="function"){if(a!==r){u=new a(n,i)}else{u=new a(n,undefined,i)}}else{u={}}u.getId=function(){return n};if(e){u=t(u,e)}o.setItem(n,u);return u}};n("sap.apf.modeler.core.ElementContainer",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/facetFilter", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";function i(t,n,r){var o,l,s,u,c,f,a,h,p,d,v,S,F,y,m,P=true;if(!r){o={forValueHelp:{service:undefined,entitySet:undefined},forFilterResolution:{service:undefined,entitySet:undefined}};l=new n.constructors.ElementContainer("SelectPropertyValueHelp",undefined,n);s=new n.constructors.ElementContainer("SelectPropertyFilterResolution",undefined,n);u={};c={};f=[];F=false;m=false}else{o=r.request;l=r.selectPropertyForValueHelp;s=r.selectPropertyForFilterResolution;u=r.metadata;c=r.label;v=r.preselectionFunction;f=r.preselectionDefaults;a=r.valueList;h=r.property;p=r.alias;d=r.labelKey;y=r.invisible;F=r.isMultiSelectionActive;S=r.hasAutomaticSelection;m=r.useSameRequestForValueHelpAndFilterResolution;P=r.hasNoneSelection}this.getId=function(){return t};this.setMultiSelection=function(e){F=e};this.isMultiSelection=function(){return F};this.setInvisible=function(){y=true};this.setVisible=function(){y=undefined};this.isVisible=function(){return!y};this.setAlias=function(e){p=e};this.getAlias=function(){return p};this.setNoneSelection=function(e){P=e;if(P){S=false;this.removePreselectionDefaults();this.removePreselectionFunction()}};this.getNoneSelection=function(){return P};this.setAutomaticSelection=function(e){n.instances.messageHandler.check(typeof e==="boolean","facetFilter wrong input for setAutomaticSelection");S=e;if(S){P=false;this.removePreselectionFunction();this.removePreselectionDefaults()}};this.getAutomaticSelection=function(){return S};this.setPreselectionFunction=function(e){v=e;S=false;P=false;this.removePreselectionDefaults()};this.getPreselectionFunction=function(){return v};this.removePreselectionFunction=function(){v=undefined};this.setPreselectionDefaults=function(e){f=e;S=false;P=false;this.removePreselectionFunction()};this.getPreselectionDefaults=function(){return f};this.removePreselectionDefaults=function(){f=[]};this.setValueList=function(e){var t=Array.isArray(e);if(t&&e.length>0&&i(e)){a=e.slice()}else if(t&&e.length==0){a=undefined}function i(e){for(var t=0,i=e.length;t<i;t++){if(typeof e[t]!="string"){return false}}return true}};this.getValueList=function(){if(!a){return[]}return a.slice()};this.setLabelKey=function(e){d=e};this.getLabelKey=function(){return d};this.setProperty=function(e){h=e};this.getProperty=function(){return h};this.setUseSameRequestForValueHelpAndFilterResolution=function(e){var t=this;if(e){var i=this.getServiceOfValueHelp();this.setServiceOfFilterResolution(i);var n=this.getEntitySetOfValueHelp();this.setEntitySetOfFilterResolution(n);var r=this.getSelectPropertiesOfFilterResolution();r.forEach(function(e){t.removeSelectPropertyOfFilterResolution(e)});r=this.getSelectPropertiesOfValueHelp();r.forEach(function(e){t.addSelectPropertyOfFilterResolution(e)})}m=e};this.getUseSameRequestForValueHelpAndFilterResolution=function(){return m};this.setServiceOfValueHelp=function(e){o.forValueHelp.service=e;if(m){o.forFilterResolution.service=e}};this.getServiceOfValueHelp=function(){return o.forValueHelp.service};this.setEntitySetOfValueHelp=function(e){o.forValueHelp.entitySet=e;if(m){o.forFilterResolution.entitySet=e}};this.getEntitySetOfValueHelp=function(){return o.forValueHelp.entitySet};this.getSelectPropertiesOfValueHelp=function(){var e=[];var t;t=l.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfValueHelp=function(e){l.removeElement(e);if(m){s.removeElement(e)}};this.addSelectPropertyOfValueHelp=function(e){l.createElementWithProposedId(undefined,e);if(m){s.createElementWithProposedId(undefined,e)}};this.setServiceOfFilterResolution=function(e){if(m){return}o.forFilterResolution.service=e};this.getServiceOfFilterResolution=function(){return o.forFilterResolution.service};this.setEntitySetOfFilterResolution=function(e){if(m){return}o.forFilterResolution.entitySet=e};this.getEntitySetOfFilterResolution=function(){return o.forFilterResolution.entitySet};this.getSelectPropertiesOfFilterResolution=function(){var e=[];var t;t=s.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeSelectPropertyOfFilterResolution=function(e){if(m){return}s.removeElement(e)};this.addSelectPropertyOfFilterResolution=function(e){if(m){return}s.createElementWithProposedId(undefined,e)};this.copy=function(t){var r={request:o,selectPropertyForValueHelp:l,selectPropertyForFilterResolution:s,metadata:u,label:c,preselectionFunction:v,preselectionDefaults:f,valueList:a,property:h,alias:p,labelKey:d,invisible:y,isMultiSelectionActive:F,hasAutomaticSelection:S,hasNoneSelection:P};var m=e.deepDataCopy(r);return new i(t||this.getId(),n,m)}}t("sap.apf.modeler.core.FacetFilter",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/hierarchicalStep", ["sap/apf/modeler/core/configurationObjects","sap/apf/modeler/core/step","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";function a(r,i,n){t.call(this,r,i,n);var o;var s=this.createRepresentation;if(n){o=n.hierarchyProperty}this.getType=function(){return"hierarchicalStep"};this.getHierarchyProperty=function(){return o};this.setHierarchyProperty=function(e){o=e;this.getRepresentationContainer().getElements().forEach(function(e){e.setHierarchyProperty(o)})};this.createRepresentation=function(e){var t=s(e);if(o){t.setHierarchyProperty(o)}return t};this.getConsumableSortPropertiesForRepresentation=function(e){var t=this;var r=jQuery.Deferred();this.getAvailableProperties().done(function(a){i.instances.metadataFactory.getMetadata(t.getService()).then(function(i){var n=[];a.forEach(function(e){var r=i.getPropertyMetadata(t.getEntitySet(),e);if(r["aggregation-role"]==="measure"){n.push(e)}});r.resolve({available:n,consumable:t.getConsumableProperties(n,t.getSortPropertiesFromRepresentation(e))})},function(){r.resolve({available:[],consumable:[]})})});return r.promise()};this.copy=function(t){var r=e.deepDataCopy(this.getDataForCopy());r.hierarchyProperty=o;r.representationContainer=this.getRepresentationContainer().copy((t||this.getId())+"-Representation");return new a(t||this.getId(),i,r)}}r("sap.apf.modeler.core.HierarchicalStep",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/instance", ["sap/apf/utils/hashtable","sap/apf/utils/utils","sap/apf/core/constants","sap/apf/core/layeredRepositoryProxy","sap/apf/core/messageHandler","sap/apf/core/sessionHandler","sap/apf/core/representationTypes","sap/apf/core/entityTypeMetadata","sap/apf/core/configurationFactory","sap/apf/core/utils/checkForTimeout","sap/apf/core/utils/filter","sap/apf/core/utils/uriGenerator","sap/apf/core/metadata","sap/apf/core/metadataFacade","sap/apf/core/metadataProperty","sap/apf/core/messageDefinition","sap/apf/core/metadataFactory","sap/apf/core/odataProxy","sap/apf/cloudFoundry/modelerProxy","sap/apf/cloudFoundry/ajaxHandler","sap/apf/utils/proxyTextHandlerForLocalTexts","sap/apf/core/ajax","sap/apf/core/odataRequest","sap/apf/modeler/core/messageDefinition","sap/apf/modeler/core/textHandler","sap/apf/modeler/core/textPool","sap/apf/modeler/core/applicationHandler","sap/apf/modeler/core/configurationHandler","sap/apf/modeler/core/configurationEditor","sap/apf/modeler/core/step","sap/apf/modeler/core/hierarchicalStep","sap/apf/modeler/core/smartFilterBar","sap/apf/modeler/core/facetFilter","sap/apf/modeler/core/navigationTarget","sap/apf/modeler/core/elementContainer","sap/apf/modeler/core/representation","sap/apf/modeler/core/configurationObjects","sap/apf/utils/parseTextPropertyFile","sap/apf/modeler/core/lazyLoader","sap/apf/modeler/core/registryWrapper","sap/apf/utils/exportToGlobal","sap/apf/utils/startParameter","sap/apf/core/utils/fileExists","sap/apf/core/utils/annotationHandler","sap/base/util/deepExtend","sap/ui/thirdparty/datajs","sap/ui/thirdparty/jquery"],function(e,t,n,a,r,o,i,s,c,u,f,l,d,p,g,m,y,v,h,C,x,A,H,T,F,S,b,j,M,P,O,E,L,w,R,N,U,I,D,q,G,V,k,B,z,K,jQuery){"use strict";function W(G,W){var J=this;var X,$,_,Q,Y,Z,ee,te,ne,ae,re,oe,ie,se,ce,ue,fe,le,de,pe,ge,me,ye,ve,he,Ce,xe,Ae,He,Te,Fe,Se,be,je,Me,Pe,Oe,Ee,Le,we,Re,Ne;var Ue=[];var Ie;var De;X=W&&W.constructors&&W.constructors.ApplicationHandler||b;_=W&&W.constructors&&W.constructors.ConfigurationHandler||j;Q=W&&W.constructors&&W.constructors.ConfigurationEditor||M;Y=W&&W.constructors&&W.constructors.ConfigurationObjects||U;Z=W&&W.constructors&&W.constructors.ConfigurationFactory||c;ie=W&&W.constructors&&W.constructors.ElementContainer||R;ee=W&&W.constructors&&W.constructors.Step||P;te=W&&W.constructors&&W.constructors.HierarchicalStep||O;ne=W&&W.constructors&&W.constructors.SmartFilterBar||E;ae=W&&W.constructors&&W.constructors.FacetFilter||L;re=W&&W.constructors&&W.constructors.NavigationTarget||w;oe=W&&W.constructors&&W.constructors.Representation||N;ce=W&&W.constructors&&W.constructors.Hashtable||e;ue=W&&W.constructors&&W.constructors.RegistryProbe||q;me=W&&W.constructors&&W.constructors.LazyLoader||D;fe=W&&W.constructors&&W.constructors.Metadata||d;le=W&&W.constructors&&W.constructors.EntityTypeMetadata||s;de=W&&W.constructors&&W.constructors.MetadataFacade||p;pe=W&&W.constructors&&W.constructors.MetadataProperty||g.constructor;ge=W&&W.constructors&&W.constructors.MetadataFactory||y;ye=W&&W.constructors&&W.constructors.StartParameter||V;ve=W&&W.constructors&&W.constructors.AnnotationHandler||B.constructor;se=W&&W.constructors&&W.constructors.FileExists||k;he=W&&W.constructors&&W.constructors.ProxyTextHandlerForLocalTexts||x;$=W&&W.constructors&&W.constructors.AjaxHandler||C;De=W&&W.instances&&W.instances.datajs||K;if(W&&W.constructors&&W.constructors.TextHandler){Ce=new W.constructors.TextHandler}else{Ce=new F}if(W&&W.constructors&&W.constructors.MessageHandler){xe=new W.constructors.MessageHandler(true)}else{xe=new r(true)}xe.activateOnErrorHandling(true);xe.loadConfig(m);xe.loadConfig(T);xe.setTextResourceHandler(Ce);if(W&&W.instances&&W.instances.component){Ne={};Ne.baseManifest=Object.getPrototypeOf(W.instances.component).getMetadata()._getManifest();Ne.manifest=z({},W.instances.component.getManifest())}He=new ye(W&&W.instances&&W.instances.component,Ne);this.getStartParameterFacade=function(){return He};this.ajax=function(e){var t=z({},e);t.functions=t.functions||{};t.functions.getSapSystem=He.getSapSystem;if(W&&W.functions&&W.functions.ajax){t.functions.ajax=W.functions.ajax}t.instances={messageHandler:xe};return A(t)};var qe=new he({instances:{messageHandler:xe}});Se={manifests:Ne,instances:{messageHandler:xe,coreApi:this,proxyTextHandlerForLocalTexts:qe}};var Ge=W&&W.functions&&W.functions.isUsingCloudFoundryProxy&&W.functions.isUsingCloudFoundryProxy();if(Ge){je={instances:{messageHandler:xe},functions:{coreAjax:this.ajax}};Se.instances.ajaxHandler=new $(je)}if(W&&W.constructors&&W.constructors.PersistenceProxy){Te=new W.constructors.PersistenceProxy(G,Se)}else{if(Ge){Te=new h.ModelerProxy(G,Se)}else if(Ne&&Ne.manifest["sap.apf"]&&Ne.manifest["sap.apf"].activateLrep){Te=new(W&&W.constructors&&W.constructors.LayeredRepositoryProxy||a)(G,Se)}else{Te=new(W&&W.constructors&&W.constructors.OdataProxy||v)(G,Se)}}if(W&&W.constructors&&W.constructors.SessionHandler){Ae=new W.constructors.SessionHandler(Se)}else{Ae=new o(Se)}var Ve={functions:{getSapSystem:He.getSapSystem,getComponentNameFromManifest:t.getComponentNameFromManifest,getODataPath:l.getODataPath,getBaseURLOfComponent:l.getBaseURLOfComponent,addRelativeToAbsoluteURL:l.addRelativeToAbsoluteURL},instances:{fileExists:new se({functions:{ajax:this.ajax,getSapSystem:He.getSapSystem}})}};var ke=new ve(Ve);be={constructors:{EntityTypeMetadata:le,Hashtable:ce,Metadata:fe,MetadataFacade:de,MetadataProperty:pe},functions:{getServiceDocuments:function(){return[G.serviceRoot]},getSapSystem:He.getSapSystem},instances:{messageHandler:xe,coreApi:J,annotationHandler:ke},deactivateFatalError:true};Fe=new ge(be);Me={constructors:{Hashtable:ce},instances:{messageHandler:xe}};this.getCatalogServiceUri=W&&W.functions&&W.functions.getCatalogServiceUri;Pe=W&&W.functions&&W.functions.odataRequestWrapper||H;this.odataRequest=function(e,t,n,a){var r={instances:{datajs:De},functions:{getSapSystem:He.getSapSystem}};Pe(r,e,t,n,a)};this.checkForTimeout=function(e){var t=u(e);if(t){xe.putMessage(t)}return t};this.getEntityTypeMetadataAsPromise=function(e,t){return Fe.getEntityTypeMetadata(e,t)};this.getEntityTypeMetadata=this.getEntityTypeMetadataAsPromise;this.getXsrfToken=function(e){return Ae.getXsrfToken(e)};this.getUriGenerator=function(){return l};this.getText=function(e,t){return Ce.getText(e,t)};this.putMessage=function(e){return xe.putMessage(e)};this.check=function(e,t,n){return xe.check(e,t,n)};this.createMessageObject=function(e){return xe.createMessageObject(e)};this.setCallbackForMessageHandling=function(e){xe.setMessageCallback(e)};this.isUsingCloudFoundryProxy=function(){return Ge||false};this.isVendorContentAvailable=function(){if(He.isLrepActive()||Ge&&this.getGenericExit("hasVendorContent")&&this.getGenericExit("hasVendorContent")()){return true}return false};this.importConfigurationFromVendorLayer=function(e,t,n,a){if(Ge){this.getApplicationHandler(function(r,o){if(o){a(undefined,undefined,o);return}Te.importVendorContent(e,t,n,a,r.registerApplicationCreatedOnServer)})}else{Be(e,t,n,a)}};function Be(e,t,a,r){var o;Te.readAllConfigurationsFromVendorLayer().then(function(n){var a=e+"."+t;var r;for(r=0;r<n.length;r++){if(n[r].value===a){o=n[r].applicationText;break}}J.getApplicationHandler(i)});function i(t,n){if(n){r(undefined,undefined,n);return}var a=false;var i=t.getApplication(e);if(!i){a=true}var c={ApplicationName:o};t.setAndSave(c,s,e,a)}function s(e,n,a){if(a){r(t,undefined,a);return}c()}function c(){var t=new f(xe,"Language","eq",n.developmentLanguage);var a=new f(xe,"Application","eq",e);a.addAnd(t);Te.readCollection("texts",u,undefined,undefined,a,{layer:"VENDOR"})}function u(n,a,o){if(o){r(t,undefined,o);return}ze(n,e,l)}function l(n){if(n){r(t,undefined,n);return}Te.readEntity("configuration",d,[{value:t}],undefined,e,{layer:"VENDOR"})}function d(e,t,n){if(n){r(undefined,t,n);return}var o=JSON.parse(e.SerializedAnalyticalConfiguration);Ke(o,a,r)}}function ze(e,t,a){J.getApplicationHandler(o);function r(n,r,o){var i;var s;if(o){a(o)}else{i={instances:{messageHandler:xe,persistenceProxy:Te},constructors:{Hashtable:ce},isUsingCloudFoundryProxy:Ge};s=new S(i,t,n);s.addTextsAndSave(e,a,t)}}function o(o,i){if(i){a(i);return}var s;var c=o.getApplication(t);if(!c){s=xe.createMessageObject({code:11021});a(s);return}if(Le&&Le.getId()===t){Le.getInstance().getTextPool().addTextsAndSave(e,a,t)}else{var u=new f(xe,"Application","eq",t);var l=new f(xe,"Language","eq",n.developmentLanguage);l.addAnd(u);Te.readCollection("texts",r,undefined,undefined,l)}}}this.importTexts=function(e,t){var n;var a;var r;var o=I(e,{instances:{messageHandler:xe}});if(o.Messages.length>0){n=xe.createMessageObject({code:11020});a=o.Messages.length;for(r=0;r<a-1;r++){o.Messages[r+1].setPrevious(o.Messages[r])}n.setPrevious(o.Messages[a-1]);t(n)}else{ze(o.TextElements,o.Application,t)}};function Ke(e,t,n){var a=e.configHeader;J.getApplicationHandler(r);function r(e,t){if(t){n(undefined,undefined,t);return}var r=false;var s=e.getList();s.forEach(function(e){if(e.Application===a.Application){r=true}});if(r){J.getConfigurationHandler(a.Application,i)}else{var c={ApplicationName:a.ApplicationName,SemanticObject:a.SemanticObject};e.setAndSave(c,o,a.Application,true)}}function o(e,t,r){if(r){n(undefined,undefined,r);return}J.getConfigurationHandler(a.Application,i)}function i(r,o){if(o){n(undefined,undefined,o);return}var i=jQuery.extend({},e,true);delete i.configHeader;var c=false;var u=r.getList();u.forEach(function(e){if(e.AnalyticalConfiguration===a.AnalyticalConfiguration){c=true}});if(c){t(l,d,a.AnalyticalConfigurationName)}else{r.setConfiguration({AnalyticalConfigurationName:a.AnalyticalConfigurationName},a.AnalyticalConfiguration);var f={id:a.AnalyticalConfiguration,creationDate:a.CreationUTCDateTime,lastChangeDate:a.LastChangeUTCDateTime,content:i};r.loadConfiguration(f,s)}function l(){r.setConfiguration({AnalyticalConfigurationName:a.AnalyticalConfigurationName},a.AnalyticalConfiguration);var e={updateExisting:true,id:a.AnalyticalConfiguration,creationDate:a.CreationUTCDateTime,lastChangeDate:a.LastChangeUTCDateTime,content:i};r.loadConfiguration(e,s)}function d(e){if(e&&e!==""){a.AnalyticalConfigurationName=e}var t=r.setConfiguration({AnalyticalConfigurationName:a.AnalyticalConfigurationName});var n={id:t,content:i};r.loadConfiguration(n,s)}}function s(e,t){if(t){n(undefined,undefined,t);return}e.save(n)}}this.importConfiguration=function(e,n,a){var r=JSON.parse(e);if(!o(r,a)){return}Ke(r,n,a);function o(n,a){var r=[],o=true,i;if(!t.isValidGuid(n.configHeader.Application)){r.push(xe.createMessageObject({code:11037,aParameters:[n.configHeader.Application]}));o=false}if(!t.isValidGuid(n.configHeader.AnalyticalConfiguration)){r.push(xe.createMessageObject({code:11038,aParameters:[n.configHeader.AnalyticalConfiguration]}));o=false}i=U.getTextKeysFromConfiguration(n);i.forEach(function(e){var n=new ce(xe);if(!n.hasItem(e)){n.setItem(e,e);if(!t.isValidGuid(e)){r.push(xe.createMessageObject({code:11039,aParameters:[e]}));o=false}}});if(o){return o}r.forEach(function(e,t,n){if(t){e.setPrevious(n[t-1])}});a(e,undefined,r[r.length-1]);return o}};this.getApplicationHandler=function(e){if(!Ee){var t=W&&W.functions&&W.functions.loadApplicationHandler||n;Ee=new me(Me,t)}Ee.asyncGetInstance("ApplicationHandlerId",e);function n(e,t){new X({instances:{messageHandler:xe,persistenceProxy:Te},constructors:{Hashtable:ce},functions:{resetConfigurationHandler:a}},n);function n(n,a){t(e,n,a)}function a(e){if(Le&&Le.getId()===e){Le.getInstance().removeAllConfigurations();Le.reset()}}}};this.getConfigurationHandler=function(e,t){if(!Le){Oe=W&&W.functions&&W.functions.loadConfigurationHandler||a;Le=new me(Me,Oe)}Le.asyncGetInstance(e,t);function a(e,t,a){var r=new f(xe,"Application","eq",e);var o=new f(xe,"Language","eq",n.developmentLanguage);o.addAnd(r);var i=[];var s=["AnalyticalConfiguration","AnalyticalConfigurationName","Application","CreatedByUser","CreationUTCDateTime","LastChangeUTCDateTime","LastChangedByUser"];i.push({entitySetName:"configuration",filter:r,selectList:s});i.push({entitySetName:"texts",filter:o});Te.readCollectionsInBatch(i,c);function c(n,r){var o,i;var s;var c;var u=a;if(r){t(e,undefined,r)}else{s=n[0];c=n[1];i={instances:{messageHandler:xe,persistenceProxy:Te},constructors:{Hashtable:ce},isUsingCloudFoundryProxy:Ge};o=new S(i,e,c);if(!u){u=new _({instances:{messageHandler:xe,persistenceProxy:Te,coreApi:J,metadataFactory:Fe},constructors:{ConfigurationEditor:Q,ConfigurationFactory:Z,ConfigurationObjects:Y,ElementContainer:ie,EntityTypeMetadata:le,SmartFilterBar:ne,FacetFilter:ae,NavigationTarget:re,Hashtable:ce,Representation:oe,RegistryProbe:ue,Step:ee,HierarchicalStep:te,LazyLoader:me},functions:{getApplication:Ee.getInstance().getApplication}})}u.setApplicationIdAndContext(e,s,o);t(e,u,r)}}}};this.getUnusedTextKeys=function(e,t){var n={instances:{messageHandler:xe,persistenceProxy:Te},constructors:{Hashtable:ce}};var a=new Y(n);var r=null,o=null,i=null;a.getTextKeysFromAllConfigurations(e,function(e,t){if(o){return}r=e;o=t;if(t||i){s()}});this.getConfigurationHandler(e,function(e,t){if(o){return}i=e;o=t;if(t||r){s()}});function s(){var e=[];if(o){t(undefined,o);return}i.getTextPool().getTextKeys().forEach(function(t){if(!r.hasItem(t)){e.push(t)}});t(e,undefined)}};this.resetConfigurationHandler=function(){if(Le){Le.reset()}};this.getRepresentationTypes=function(){var e=i();var t=[];z(t,e);return t};this.getAllAvailableSemanticObjects=function(e){if(Re){e(Re,Ie);return}if(Ie){e([],Ie);return}Ue.push(e);if(Ue.length===1){var t={requestUri:"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$format=json&$select=id,text",method:"GET",isSemanticObjectRequest:true};J.odataRequest(t,n,a)}function n(e,t){Re=e.results;Ue.forEach(function(t){t(e.results,undefined)})}function a(e){var t;if(e&&e.messageObject){t=e.messageObject}else{xe.createMessageObject({code:"11041"});Re=[]}Ie=t;Ue.forEach(function(e){e([],t)})}};this.getSemanticActions=function(e){var t;var n=jQuery.Deferred();if(!we){we=new ce(xe)}t=we.getItem(e);if(t){n.resolve(t);return n.promise()}J.getAllAvailableSemanticObjects(a);return n.promise();function a(t,a){if(a){n.reject(a);return}var r=sap.ui.require("sap/ushell/Container")?.getService("CrossApplicationNavigation");var o={id:e,text:""};var i;for(i=0;i<t.length;i++){if(t[i].id===e){o=t[i];break}}if(!r){xe.createMessageObject({code:"5038"});var s={semanticObject:o,semanticActions:[]};we.setItem(e,s);n.resolve(s)}else{r.getLinks({semanticObject:o.id,ignoreFormFactor:true,ui5Component:W.instances.component}).done(function(t){var a=[];t.forEach(function(e){var t=e.intent.split("-");var n=t[1].split("?");n=n[0].split("~");a.push({id:n[0],text:e.text})});var r={semanticObject:o,semanticActions:a};we.setItem(e,r);n.resolve(r)}).fail(function(){n.reject(xe.createMessageObject({code:"11042"}))})}}};this.navigateToGenericRuntime=function(e,t,n){var a;if(W&&W.exits&&W.exits.getRuntimeUrl&&typeof W.exits.getRuntimeUrl==="function"){a=W.exits.getRuntimeUrl(e,t)}else{var r=sap.ui.require("sap/ushell/Container")?.getService("CrossApplicationNavigation");var o={};if(J.getStartParameterFacade().isLrepActive()){o["sap-apf-configuration-id"]=e+"."+t}else{o["sap-apf-configuration-id"]=t}var i=r.hrefForExternal({target:W.functions.getNavigationTargetForGenericRuntime(),params:o});var s=jQuery(window.location).attr("href");var c=s.split("#")[0];a=c+i}n(a)};this.readAllConfigurationsFromVendorLayer=function(){return Te.readAllConfigurationsFromVendorLayer()};this.showSemanticObject=function(){if(He.isLrepActive()||Ge){return false}return true};this.getGenericExit=function(e){if(W&&W.exits&&W.exits[e]&&typeof W.exits[e]==="function"){return W.exits[e]}return undefined};this.getComponent=function(){return W&&W.instances&&W.instances.component};if(W&&W.probe&&typeof W.probe==="function"){W.probe({constructors:{ApplicationHandler:X,ConfigurationHandler:_,ConfigurationEditor:Q,ConfigurationObjects:Y,ConfigurationFactory:Z,MetadataFactory:ge,Metadata:fe,EntityTypeMetadata:le,MetadataFacade:de,MetadataProperty:pe,Step:ee,HierarchicalStep:te,SmartFilterBar:ne,FacetFilter:ae,NavigationTarget:re,Representation:oe,ElementContainer:ie,Hashtable:ce,LazyLoader:me,AnnotationHandler:ve,ProxyTextHandlerForLocalTexts:he,RegistryProbe:ue},textHandler:Ce,messageHandler:xe,sessionHandler:Ae,persistenceProxy:Te,metadataFactory:Fe,injectForFollowUp:Se,injectMetadataFactory:be,fnOdataRequestWrapper:Pe,proxyTextHandlerForLocalTexts:qe,ajax:this.ajax,odataRequestWrapper:Pe,annotationHandler:ke})}}G("sap.apf.modeler.core.Instance",W);return W});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/lazyLoader", ["sap/apf/utils/exportToGlobal"],function(n){"use strict";function i(n,i,e){var t=n.constructors.Hashtable;var s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)},a=null;if(e){s.id=e.id;s.instance=e.instance}this.type="lazyLoader";this.getId=function(){return s.id};this.getInstance=function(){return s.instance};this.isInitializing=function(){return s.isInitializing};this.reset=function(){a=s.instance;s={id:null,instance:null,messageObject:null,isInitializing:false,callbacksFromAsyncGet:new t(n.instances.messageHandler)}};this.asyncGetInstance=function(n,e){function t(n){if(n===null){return undefined}return n}var r;if(!n){return}if(s.id&&n!==s.id){this.reset()}if(s.id&&(s.instance||s.messageObject)){r=t(s.messageObject);e(s.instance,r,s.id);return}l(e);if(!s.isInitializing){s.isInitializing=true;s.id=n;i(n,c,a)}};function c(n,i,e){if(n!==s.id){return}s.isInitializing=false;if(!e){s.instance=i}else{s.messageObject=e}s.callbacksFromAsyncGet.each(function(n,i){i.forEach(function(n){n(s.instance,e,s.id)})});s.callbacksFromAsyncGet=null}function l(n){var i;var e,t;t=s.callbacksFromAsyncGet.getItem(n);if(!t){s.callbacksFromAsyncGet.setItem(n,[n]);return}e=false;for(i=0;i<t.length;i++){if(t[i]===n){e=true;break}}if(!e){t.push(n)}}}n("sap.apf.modeler.core.LazyLoader",i);return i});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/messageDefinition", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";var r=[{code:"11005",severity:"technError",text:"Bad HTTP request returned status code {0} with status text {1}."},{code:"11006",severity:"technError",text:"Unknown identifier: {0}"},{code:"11007",severity:"technError",text:"Cannot export unsaved configuration. Configuration ID: {0}"},{code:"11013",severity:"technError",text:"Metadata request {0} to server failed."},{code:"11016",severity:"error",description:"Sorting options must be supplied when setting top n",key:"11016"},{code:"11020",severity:"error",description:"Text property has invalid format and cannot be imported - see previous messages for details",key:"11020"},{code:"11021",severity:"error",description:"ApfApplicationId {0} referenced in the text property is not yet existing - please load one configuration of the application before importing the texts.",key:"11021"},{code:"11030",severity:"error",description:"Label {0} is not valid",key:"11030"},{code:"11031",severity:"error",description:"Category {0} is not valid",key:"11031"},{code:"11032",severity:"error",description:"Request {0} is not valid",key:"11032"},{code:"11033",severity:"error",description:"Binding {0} is not valid",key:"11033"},{code:"11034",severity:"error",description:"Facet filter {0} is not valid",key:"11034"},{code:"11035",severity:"error",description:"Step {0} is not valid",key:"11035"},{code:"11036",severity:"error",description:"Configuration is not valid",key:"11036"},{code:"11037",severity:"error",description:"Invalid application guid {0}",key:"11037"},{code:"11038",severity:"error",description:"Invalid configuration guid {0}",key:"11038"},{code:"11039",severity:"error",description:"Invalid text guid {0}",key:"11039"},{code:"11040",severity:"error",description:"Navigation target {0} is not valid",key:"11040"},{code:"11041",severity:"technError",text:"Network service for retrieving semantic objects failed - see console."},{code:"11042",severity:"technError",text:"Error occurred when retrieving actions for semantic object - see console."},{code:"11500",severity:"error",description:"An error occurred while attempting to save the application.",key:"11500"},{code:"11501",severity:"error",description:"An error occurred while attempting to delete the application.",key:"11501"},{code:"11502",severity:"error",description:"An error occurred while importing the configuration.",key:"11502"},{code:"11503",severity:"error",description:"An error occurred while importing the text properties file.",key:"11503"},{code:"11504",severity:"technError",description:"An error occurred while retrieving the semantic objects available.",key:"11504"},{code:"11505",severity:"technError",description:"An error occurred while retrieving the actions for the given semantic object.",key:"11505"},{code:"11506",severity:"error",description:"An error occurred while getting the unused texts.",key:"11506"},{code:"11507",severity:"error",description:"An error occurred while doing the text pool cleanup.",key:"11507"},{code:"11508",severity:"fatal",description:"The app has stopped working due to a technical error.",key:"11508"},{code:"11509",severity:"fatal",description:"OData service is not available. You cannot create a new application or change existing ones.",key:"11509"},{code:"11510",severity:"success",description:"Application has been deleted.",key:"11510"},{code:"11511",severity:"success",description:"Cleanup of text pool completed.",key:"11511"},{code:"11512",severity:"success",description:"Application has been saved.",key:"11512"},{code:"11513",severity:"success",description:"Configuration is saved.",key:"11513"},{code:"11514",severity:"error",description:"Error in saving the configuration.",key:"11514"},{code:"11515",severity:"success",description:"Configuration file imported.",key:"11515"},{code:"11516",severity:"success",description:"Text properties file imported",key:"11516"},{code:"11517",severity:"success",description:"Incorrect extension used for configuration file. Please use .json format.",key:"11517"},{code:"11518",severity:"success",description:"Incorrect extension used for text properties file. Please use .properties format.",key:"11518"},{code:"11519",severity:"success",description:"The configuration file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11519"},{code:"11520",severity:"success",description:"The application you referenced does not yet exist. You must also upload a configuration file.",key:"11520"},{code:"11521",severity:"success",description:"The configuration file and text properties file do not belong to the same application. The text properties file cannot be imported.",key:"11521"},{code:"11522",severity:"success",description:"The text properties file cannot be imported because of an error while reading the file. See the previous messages for details.",key:"11522"},{code:"11523",severity:"information",description:"Sorting field in section Data Reduction has been changed. Please check and adjust if necessary.",key:"11523"},{code:"11524",severity:"technError",text:"The entity type {0} in smart filter bar configuration is not valid - please check service"}];e("sap.apf.modeler.core.messageDefinition",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2015 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/navigationTarget", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal"],function(t,e){"use strict";function i(e,n,r){var a,s,o=false,c,u,p;var f=false;var g=[];if(r){a=r.semObject;s=r.actn;o=r.isStepSpecific;c=r.requestForFilterMapping;u=r.targetPropertiesForFilterMapping;g=r.parameters;p=r.titleKey;f=r.useDynamicParameters}else{c={};u=new n.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,n)}this.getId=function(){return e};this.setSemanticObject=function(t){a=t};this.getSemanticObject=function(){return a};this.setAction=function(t){s=t};this.getAction=function(){return s};this.isGlobal=function(){return!o};this.isStepSpecific=function(){return o};this.setGlobal=function(){o=false};this.setStepSpecific=function(){o=true};this.setFilterMappingService=function(t){c.service=t};this.getFilterMappingService=function(){return c.service};this.setFilterMappingEntitySet=function(t){c.entitySet=t};this.getFilterMappingEntitySet=function(){return c.entitySet};this.addFilterMappingTargetProperty=function(t){u.createElementWithProposedId(undefined,t)};this.getFilterMappingTargetProperties=function(){var t=[];var e=u.getElements();e.forEach(function(e){t.push(e.getId())});return t};this.removeFilterMappingTargetProperty=function(t){u.removeElement(t)};this.getNavigationParameter=function(t){var e;g.forEach(function(i){if(i.key===t){e=i}});return e};this.getAllNavigationParameters=function(){return g};this.addNavigationParameter=function(t,e,i){if(i===undefined||i>g.length){i=g.length}g.splice(i,0,{key:t,value:e})};this.removeNavigationParameter=function(t){var e;g.forEach(function(i,n){if(i.key===t){e=n}});if(e>=0){g.splice(e,1)}};this.setTitleKey=function(t){p=t};this.setUseDynamicParameters=function(t){f=t};this.getUseDynamicParameters=function(){return f};this.getTitleKey=function(){return p};this.copy=function(e){var r={semObject:a,actn:s,isStepSpecific:o,requestForFilterMapping:c,targetPropertiesForFilterMapping:u,parameters:g,titleKey:p,useDynamicParameters:f};var l=t.deepDataCopy(r);return new i(e||this.getId(),n,l)}}e("sap.apf.modeler.core.NavigationTarget",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/registryWrapper", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";function r(e){function r(t){var r=[];e.each(function(e,i){if(i.type===t){r.push(i)}});return r}this.getItem=function(t){return e.getItem(t)};this.getSteps=function(){var t=r("step");t=jQuery.merge(t,r("hierarchicalStep"));return t};this.getCategories=function(){return r("category")};this.getFacetFilters=function(){if(e.getItem(t.existsEmptyFacetFilterArray)===true){return{emptyArray:true}}return r("facetFilter")};this.getNavigationTargets=function(){return r("navigationTarget")}}e("sap.apf.modeler.core.RegistryWrapper",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/representation", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";var n=function(t,r,i){var o,s,a,u,p,f,l,y,c,h,d,m,g,E,K;if(!i){a={};u=new r.constructors.ElementContainer("dimension",undefined,r);p=new r.constructors.ElementContainer("measure",undefined,r);f=new r.constructors.ElementContainer("property",undefined,r);d=new r.constructors.ElementContainer("orderBy",undefined,r)}else{g=i.hierarchyProperty;E=i.hierarchyPropertyTextLabelKey;o=i.representationTypeId;s=i.alternateRepresentationTypeId;a=i.width;u=i.dimensions;p=i.measures;f=i.properties;l=i.leftUpperCornerTextKey;y=i.rightUpperCornerTextKey;c=i.leftLowerCornerTextKey;h=i.rightLowerCornerTextKey;d=i.orderByProperties;m=i.topN;K=i.hierarchyLabelDisplayOption}this.getId=function(){return t};this.setRepresentationType=function(e){o=e};this.getRepresentationType=function(){return o};this.setAlternateRepresentationType=function(e){s=e};this.getAlternateRepresentationType=function(){return s};this.getDimensions=function(){var e=[];u.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addDimension=function(e,t){var n;if(u.getElement(e)){return null}n={propertyName:e,textLabelKey:t};return u.createElementWithProposedId(n,e).getId()};this.removeDimension=function(e){u.removeElement(e)};this.setDimensionKind=function(e,t){var n=u.getElement(e);if(n){n.kind=t}};this.getDimensionKind=function(e){var t=u.getElement(e);if(t){return t.kind}return undefined};this.setDimensionTextLabelKey=function(e,t){var n=u.getElement(e);if(n){n.textLabelKey=t}};this.getDimensionTextLabelKey=function(e){var t=u.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLabelDisplayOption=function(e,t){var n=u.getElement(e);if(n){n.labelDisplayOption=t}};this.getLabelDisplayOption=function(e){var t=u.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.setMeasureDisplayOption=function(e,t){var n=p.getElement(e);if(n){n.labelDisplayOption=t}};this.getMeasureDisplayOption=function(e){var t=p.getElement(e);if(t&&t.labelDisplayOption){return t.labelDisplayOption}return undefined};this.getMeasures=function(){var e=[];p.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addMeasure=function(e){var t;if(p.getElement(e)){return null}t={propertyName:e};return p.createElementWithProposedId(t,e).getId()};this.removeMeasure=p.removeElement;this.setMeasureTextLabelKey=function(e,t){var n=p.getElement(e);if(n){n.textLabelKey=t}};this.getMeasureTextLabelKey=function(e){var t=p.getElement(e);if(t){return t.textLabelKey}return undefined};this.setMeasureKind=function(e,t){var n=p.getElement(e);if(n){n.kind=t}};this.getMeasureKind=function(e){var t=p.getElement(e);if(t){if(t.kind==="yAxis1"){t.kind="yAxis"}return t.kind}return undefined};this.setWidthProperty=function(e,t){a[e]=t};this.getWidthProperties=function(){return a};this.getProperties=function(){var e=[];f.getElements().forEach(function(t){e.push(t.propertyName)});return e};this.addProperty=function(e,t){if(f.getElement(e)){return null}return f.createElementWithProposedId({propertyName:e,textLabelKey:t},e).getId()};this.removeProperty=function(e){f.removeElement(e)};this.getHierarchyProperty=function(){return g};this.setHierarchyProperty=function(e){if(g!==e){E=undefined;K=undefined}g=e};this.getHierarchyPropertyTextLabelKey=function(){return E};this.setHierarchyPropertyTextLabelKey=function(e){E=e};this.getHierarchyPropertyLabelDisplayOption=function(){return K};this.setHierarchyPropertyLabelDisplayOption=function(e){K=e};this.setPropertyKind=function(e,t){var n=f.getElement(e);if(n){n.kind=t}};this.getPropertyKind=function(e){var t=f.getElement(e);if(t){return t.kind}return undefined};this.setPropertyTextLabelKey=function(e,t){var n=f.getElement(e);if(n){n.textLabelKey=t}};this.getPropertyTextLabelKey=function(e){var t=f.getElement(e);if(t){return t.textLabelKey}return undefined};this.setLeftUpperCornerTextKey=function(e){l=e};this.getLeftUpperCornerTextKey=function(){return l};this.setRightUpperCornerTextKey=function(e){y=e};this.getRightUpperCornerTextKey=function(){return y};this.setLeftLowerCornerTextKey=function(e){c=e};this.getLeftLowerCornerTextKey=function(){return c};this.setRightLowerCornerTextKey=function(e){h=e};this.getRightLowerCornerTextKey=function(){return h};this.setTopN=function(e){m=e};this.getTopN=function(){return m};this.addOrderbySpec=function(e,t){var n;n=d.getElement(e);if(n){n.ascending=t;return n}n={property:e,ascending:t};return d.createElementWithProposedId(n,e).getId()};this.removeOrderbySpec=function(e){d.removeElement(e)};this.removeAllOrderbySpecs=function(){var e=this.getOrderbySpecifications();e.forEach(function(e){d.removeElement(e.property)})};this.getOrderbySpecifications=function(){var e=[];d.getElements().forEach(function(t){e.push({property:t.property,ascending:t.ascending})});return e};this.copy=function(t){var i={representationTypeId:o,alternateRepresentationTypeId:s,width:a,dimensions:u,measures:p,properties:f,leftUpperCornerTextKey:l,rightUpperCornerTextKey:y,leftLowerCornerTextKey:c,rightLowerCornerTextKey:h,orderByProperties:d,topN:m,hierarchyProperty:g,hierarchyPropertyTextLabelKey:E,hierarchyLabelDisplayOption:K};var v=e.deepDataCopy(i);return new n(t||this.getId(),r,v)}};t("sap.apf.modeler.core.Representation",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/smartFilterBar", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(t){var e,n;var i=false;this.getId=function(){return t};this.setService=function(t){e=t};this.getService=function(){return e};this.setEntitySet=function(t,e){n=t;i=e};this.getEntitySet=function(){return n};this.isEntityTypeConverted=function(){return!i}}t("sap.apf.modeler.core.SmartFilterBar",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/step", ["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";function r(t,n,i){var o,s,p,a,u,c,f,l,g,h,d,y,v,m,P,b,T,E,F,S,C;T=n.instances.messageHandler;if(!i){o=new n.constructors.ElementContainer(t+"-Representation",n.constructors.Representation,n);s={};p=new n.constructors.ElementContainer("SelectProperty",undefined,n);a=new n.constructors.ElementContainer("FilterProperty",undefined,n);u={};c=new n.constructors.ElementContainer("SelectPropertyForFilterMapping",undefined,n);f=new n.constructors.ElementContainer("TargetPropertyForFilterMapping",undefined,n);g=false;l=new n.constructors.ElementContainer("NavigationTarget",undefined,n)}else{o=i.representationContainer;s=i.request;p=i.selectProperties;a=i.filterProperties;E=i.filterPropertyLabelKey;F=i.filterPropertyLabelDisplayOption;S=i.targetPropertyLabelKey;C=i.targetPropertyLabelDisplayOption;u=i.requestForFilterMapping;c=i.selectPropertiesForFilterMapping;f=i.targetPropertiesForFilterMapping;g=i.keepSourceForFilterMapping;l=i.navigationTargets;h=i.titleId;d=i.longTitleId;y=i.leftUpperCornerTextKey;v=i.rightUpperCornerTextKey;m=i.leftLowerCornerTextKey;P=i.rightLowerCornerTextKey;b=i.topNSettings}this.getType=function(){return"step"};this.getId=function(){return t};this.setTopN=function(e,t){if(t&&t instanceof Array&&t.length>0){this.resetTopN();b={};b.top=e;b.orderby=t}else{T.putMessage(T.createMessageObject({code:11016}));return}o.getElements().forEach(function(t){t.setTopN(e);b.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})})};this.setTopNValue=function(e){if(!b){b={}}b.top=e;if(b.orderby){L()}};this.setTopNSortProperties=function(e){if(!b){b={}}if(e&&e.length>0){e.forEach(function(e){if(e.ascending==="true"){e.ascending=true}})}b.orderby=e;if(b.top){L()}};function L(){o.getElements().forEach(function(e){e.setTopN(b.top);e.removeAllOrderbySpecs();b.orderby.forEach(function(t){e.addOrderbySpec(t.property,t.ascending)})})}this.getTopN=function(){if(b&&b.top>0){if(Array.isArray(b.orderby)){var e=this.getSelectProperties();var t;for(t=b.orderby.length-1;t>=0;t--){if(!e.includes(b.orderby[t].property)){b.orderby.splice(t,1);L()}}}return jQuery.extend({},true,b)}};this.resetTopN=function(){b=undefined;o.getElements().forEach(function(e){if(e.getTopN()){e.setTopN(undefined)}})};this.getService=function(){return s.service};this.setService=function(e){s.service=e};this.getEntitySet=function(){return s.entitySet};this.setEntitySet=function(e){s.entitySet=e};this.setTitleId=function(e){h=e};this.getTitleId=function(){return h};this.setLongTitleId=function(e){d=e};this.getLongTitleId=function(){return d};this.getSelectProperties=function(){var e=[];var t=p.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addSelectProperty=function(e){p.createElementWithProposedId(undefined,e)};this.removeSelectProperty=function(e){p.removeElement(e)};this.getFilterProperties=function(){var e=[];var t=a.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.addFilterProperty=function(e){E=undefined;F=undefined;return a.createElementWithProposedId(undefined,e).getId()};this.removeFilterProperty=function(e){E=undefined;F=undefined;a.removeElement(e)};this.setFilterPropertyLabelKey=function(e){E=e};this.getFilterPropertyLabelKey=function(){return E};this.setFilterPropertyLabelDisplayOption=function(e){F=e};this.getFilterPropertyLabelDisplayOption=function(){return F};this.setFilterMappingService=function(e){u.service=e};this.getFilterMappingService=function(){return u.service};this.setFilterMappingEntitySet=function(e){u.entitySet=e};this.getFilterMappingEntitySet=function(){return u.entitySet};this.addFilterMappingTargetProperty=function(e){S=undefined;C=undefined;f.createElementWithProposedId(undefined,e)};this.getFilterMappingTargetProperties=function(){var e=[];var t=f.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeFilterMappingTargetProperty=function(e){S=undefined;C=undefined;f.removeElement(e)};this.setFilterMappingTargetPropertyLabelKey=function(e){S=e};this.getFilterMappingTargetPropertyLabelKey=function(){return S};this.setFilterMappingTargetPropertyLabelDisplayOption=function(e){C=e};this.getFilterMappingTargetPropertyLabelDisplayOption=function(){return C};this.addNavigationTarget=function(e){l.createElementWithProposedId(undefined,e)};this.getNavigationTargets=function(){var e=[];var t=l.getElements();t.forEach(function(t){e.push(t.getId())});return e};this.removeNavigationTarget=function(e){l.removeElement(e)};this.setFilterMappingKeepSource=function(e){g=e};this.getFilterMappingKeepSource=function(){return g};this.getRepresentations=o.getElements;this.getRepresentation=o.getElement;this.createRepresentation=function(e){var t;if(e&&e.id){t=o.createElementWithProposedId(e,e.id)}else{t=o.createElement(e)}if(b&&b.top){t.setTopN(b.top);b.orderby.forEach(function(e){t.addOrderbySpec(e.property,e.ascending)})}return t};this.removeRepresentation=o.removeElement;this.copyRepresentation=o.copyElement;this.moveRepresentationBefore=function(e,t){return o.moveBefore(e,t)};this.moveRepresentationUpOrDown=function(e,t){return o.moveUpOrDown(e,t)};this.moveRepresentationToEnd=function(e){return o.moveToEnd(e)};this.setLeftUpperCornerTextKey=function(e){y=e};this.getLeftUpperCornerTextKey=function(){return y};this.setRightUpperCornerTextKey=function(e){v=e};this.getRightUpperCornerTextKey=function(){return v};this.setLeftLowerCornerTextKey=function(e){m=e};this.getLeftLowerCornerTextKey=function(){return m};this.setRightLowerCornerTextKey=function(e){P=e};this.getRightLowerCornerTextKey=function(){return P};this.getConsumablePropertiesForTopN=function(){var e=jQuery.Deferred();this.getAvailableProperties().done(function(t){var r=[];if(b&&b.orderby&&b.orderby.length>0){b.orderby.forEach(function(e){r.push(e.property)})}e.resolve({available:t,consumable:this.getConsumableProperties(t,r)})}.bind(this));return e.promise()};this.getConsumablePropertiesForRepresentation=function(e){var t=jQuery.Deferred();function r(e){var t=[];jQuery.merge(t,e.getDimensions());jQuery.merge(t,e.getMeasures());jQuery.merge(t,e.getProperties());return t}this.getAvailableProperties().done(function(n){if(this.getHierarchyProperty&&this.getHierarchyProperty()){n.push(this.getHierarchyProperty())}var i=[];var s=o.getElement(e);if(s){i=r(s);if(s.getHierarchyProperty){i.push(s.getHierarchyProperty())}}else{i=this.getSelectProperties()}t.resolve({available:n,consumable:this.getConsumableProperties(n,i)})}.bind(this));return t.promise()};this.getConsumableSortPropertiesForRepresentation=function(e){var t=jQuery.Deferred();this.getAvailableProperties().done(function(r){t.resolve({available:r,consumable:this.getConsumableProperties(r,this.getSortPropertiesFromRepresentation(e))})}.bind(this));return t.promise()};this.getSortPropertiesFromRepresentation=function(e){var t=[];var r=o.getElement(e);var n=r.getOrderbySpecifications();n.forEach(function(e){t.push(e.property)});return t};this.getConsumableProperties=function(e,t){var r=[];e.forEach(function(e){if(!t?.includes(e)){r.push(e)}});return r};this.getAvailableProperties=function(){var e=jQuery.Deferred();var t=[];if(s.service&&s.entitySet){n.instances.metadataFactory.getMetadata(s.service).then(function(r){if(r){var n=r.getAllPropertiesOfEntitySet(s.entitySet);var i=this.getSelectProperties();i.forEach(function(e){if(n.includes(e)){t.push(e)}})}e.resolve(t)}.bind(this),function(){e.resolve([])})}else{e.resolve([])}return e.promise()};this.copy=function(t){var i=e.deepDataCopy(this.getDataForCopy());i.representationContainer=o.copy((t||this.getId())+"-Representation");return new r(t||this.getId(),n,i)};this.getDataForCopy=function(){return{request:s,selectProperties:p,filterProperties:a,filterPropertyLabelKey:E,filterPropertyLabelDisplayOption:F,requestForFilterMapping:u,selectPropertiesForFilterMapping:c,targetPropertiesForFilterMapping:f,targetPropertyLabelKey:S,targetPropertyLabelDisplayOption:C,navigationTargets:l,keepSourceForFilterMapping:g,titleId:h,longTitleId:d,leftUpperCornerTextKey:y,rightUpperCornerTextKey:v,leftLowerCornerTextKey:m,rightLowerCornerTextKey:P,topNSettings:b}};this.getRepresentationContainer=function(){return o}}t("sap.apf.modeler.core.Step",r);return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/textHandler", ["sap/apf/utils/exportToGlobal","sap/ui/model/resource/ResourceModel"],function(e,r){"use strict";function t(){var e;this.getMessageText=function(e,r){return this.getText(e,r)};this.getText=function(r,t){return e.getResourceBundle().getText(r,t)};function t(){var t=sap.ui.require.toUrl("sap/apf/modeler/resources/i18n/texts.properties");e=new r({bundleUrl:t});var s=sap.ui.require.toUrl("sap/apf/resources/i18n/apfUi.properties");e.enhance({bundleUrl:s})}t()}e("sap.apf.modeler.core.TextHandler",t);return t});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/core/textPool", ["sap/apf/utils/hashtable","sap/apf/core/constants","sap/apf/core/utils/filter","sap/ui/core/format/DateFormat","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,n,a,i,r,jQuery){"use strict";function s(e,n,a){var i=e.instances.messageHandler;var s=e.instances.persistenceProxy;var m=e.isUsingCloudFoundryProxy;var o=e.constructors.Hashtable;var l=new o(i);var u=new o(i);var x=new o(i);var T={TextElement:t.textKeyForInitialText,Language:t.developmentLanguage,TextElementType:"XFLD",TextElementDescription:"",MaximumLength:10,Application:n,TranslationHint:""};function g(e,t){var n=l.getKeys();var a,i=n.length;var r=t.MaximumLength||10;var s=t.TranslationHint||"";var m;for(a=0;a<i;a++){m=l.getItem(n[a]);if(m.TextElementDescription===e&&m.MaximumLength===r&&m.TranslationHint===s){return n[a]}}return undefined}this.removeTexts=function(e,n,a){var i=[];var r,o;function u(t){var n;if(!t){for(n=0;n<o;n++){l.removeItem(e[n])}}a(t)}o=e.length;if(o===0){a(undefined);return}for(r=0;r<o;r++){if(e[r]===t.textKeyForInitialText){continue}i.push({method:"DELETE",entitySetName:"texts",inputParameters:[{name:"TextElement",value:e[r]},{name:"Language",value:t.developmentLanguage}]})}if(m){s.doChangeOperationsInBatch(i,u,n,true)}else{s.doChangeOperationsInBatch(i,u,n)}};this.isInitialTextKey=function(e){return e===t.textKeyForInitialText};this.addTextsAndSave=function(e,n,a){function i(e,t){return e.TextElement===t.TextElement&&e.TextElementDescription===t.TextElementDescription&&e.MaximumLength===t.MaximumLength&&e.Language===t.Language&&e.TranslationHint===t.TranslationHint}var r;var o=e.length;var u;var x=[];var T=[];var g=[];var p;for(r=0;r<o;r++){if(e[r]===t.textKeyForInitialText){continue}u=l.getItem(e[r].TextElement);if(u){if(!i(u,e[r])){x.push(e[r]);l.setItem(e[r].TextElement,e[r])}}else{T.push(e[r]);l.setItem(e[r].TextElement,e[r])}}o=x.length;for(r=0;r<o;r++){p=[{name:"TextElement",value:x[r].TextElement},{name:"Language",value:x[r].Language}];x[r].MaximumLength=parseInt(x[r].MaximumLength,10);g.push({method:"PUT",entitySetName:"texts",data:x[r],inputParameters:p})}o=T.length;for(r=0;r<o;r++){T[r].MaximumLength=parseInt(T[r].MaximumLength,10);g.push({method:"POST",entitySetName:"texts",data:T[r]})}if(g.length>0){if(m){s.doChangeOperationsInBatch(g,n,a,false)}else{s.doChangeOperationsInBatch(g,n,a)}}else{n(undefined)}};this.exportTexts=function(e){var a=r.renderHeaderOfTextPropertyFile(n,i);var s={TextElement:"AnalyticalConfigurationName",Language:t.developmentLanguage,TextElementType:"XTIT",TextElementDescription:e,MaximumLength:250,Application:n,TranslationHint:""};return a+r.renderTextEntries(l,i)+r.renderEntryOfTextPropertyFile(s,i)};this.get=function(e){var n,a;if(e===t.textKeyForInitialText){return T}if(l.hasItem(e)){return l.getItem(e)}if(u.hasItem(e)){n=u.getItem(e);if(n.TextElementDescription){return n}return l.getItem(n)}a=jQuery.extend({},true,T);a.TextElement=e;a.TextElementDescription=e;return a};this.getPersistentKey=function(e){return e};this.setTextAsPromise=function(e,a){var r;var m=jQuery.Deferred();var o=function(e,t,n){if(n){i.putMessage(n)}if(e){l.setItem(e.TextElement,e);r=e.TextElement}m.resolve(e&&e.TextElement)};var u={TextElement:"",Language:t.developmentLanguage,TextElementType:a.TextElementType,TextElementDescription:e,MaximumLength:a.MaximumLength||10,Application:n,TranslationHint:a.TranslationHint||""};if(!e){m.resolve(t.textKeyForInitialText)}r=g(e,a);if(r){m.resolve(r)}else{s.create("texts",u,o,true)}return m.promise()};this.getTextKeys=function(e){var t=l.getKeys();var n,a,i=t.length;var r=[];for(n=0;n<i;n++){a=l.getItem(t[n]);if(e&&a.TextElementType!==e){continue}if(x.hasItem(t[n])){r.push(x.getItem(t[n]))}else{r.push(t[n])}}return r};this.getTextsByTypeAndLength=function(e,t){var n=l.getKeys();var a,i,r=n.length;var s=[];for(a=0;a<r;a++){i=l.getItem(n[a]);if(i.TextElementType===e&&i.MaximumLength===t){if(x.hasItem(n[a])){s.push({TextElement:x.getItem(n[a]),TextElementDescription:i.TextElementDescription})}else{s.push({TextElement:n[a],TextElementDescription:i.TextElementDescription})}}}return s};function p(){var e,t;t=a.length;for(e=0;e<t;e++){if(a[e].TextElement){l.setItem(a[e].TextElement,a[e])}}}p()}i("sap.apf.modeler.core.TextPool",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/applicationList.controller", ["sap/m/library","sap/m/List","sap/m/Popover","sap/m/StandardListItem","sap/m/Text","sap/ui/core/CustomData","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/UIComponent","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,a,n,o,r,l,d,p,s,c,u,f,g,m,h){"use strict";var b=e.ListType,v=e.PlacementType;function y(e){return function(...t){e.call(this,...t)}}function I(e){var t=e.coreApi.getText;e.byId("idAppPage").setTitle(t("configModelerTitle"));e.byId("idAppTitle").setText(t("applicationOverview"));e.byId("idApplicationToolbar").setTooltip(t("applications"));e.byId("idAppNumberTitle").setText(t("applications"));e.byId("idAppNumberTitle").setTooltip(t("applications"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idImportButton").setText(t("import"));e.byId("idImportButton").setTooltip(t("importConfig"));e.byId("idNewButton").setText(t("new"));e.byId("idNewButton").setTooltip(t("newApplication"));e.byId("idEditIcon").setTooltip(t("editApplication"));e.byId("idDeleteIcon").setTooltip(t("deleteApplication"));e.byId("idTextpoolCleanupIcon").setTooltip(t("textCleanUp"));e.byId("idAriaPropertyForDelete").setText(t("ariaTextForDeleteIcon"));e.byId("idAriaPropertyForEdit").setText(t("ariaTextForEditIcon"));e.byId("idAriaPropertyForTextpoolCleanup").setText(t("ariaTextForTextpoolCleanupIcon"))}function A(e){var t=e.coreApi.getText;l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").setTitle(t("confirmation"));l.byId("idDeleteConfirmationFragment","idDeleteButton").setText(t("deleteButton"));l.byId("idDeleteConfirmationFragment","idCancelButtonDialog").setText(t("cancel"))}function T(e){var t=e.applicationHandler.getList();e.byId("idAppCount").setText("("+t.length+")");var i=[];t.forEach(function(e){var t={};t.id=e.Application;t.description=e.ApplicationName;t.semanticObject=e.SemanticObject;i.push(t)});var a=g.prepareModel(i,i.length);e.byId("idApplicationTable").setModel(a);if(e.actualQuery!==""){e.filterValues(e.actualQuery)}}function C(e,t){var i=e.coreApi.createMessageObject({code:t});e.coreApi.putMessage(i)}function D(e){e.byId("idApplicationTable").attachEvent("addNewAppEvent",e.handleAdditionOfNewApp.bind(e));e.byId("idApplicationTable").attachEvent("updateAppListEvent",e.handleAppListUpdate.bind(e))}async function x(e,t){var i,a;i={oParentControl:e.byId("idApplicationTable"),oCoreApi:e.coreApi};a=await s.create({viewName:"sap.apf.modeler.ui.view."+t,type:c.XML,viewData:i});e.getView().addDependent(a)}function w(e,t,i,a){e.getView().addDependent(t);var o=new n({text:e.coreApi.getText(i)});t.removeAllContent();t.addContent(o);t.addAriaDescribedBy(o);if(a){t.removeAllCustomData();t.addCustomData(a)}t.open()}function O(e){var t=e.byId("idAppListScrollContainer");var i=e.byId("idApplicationTable");var a=e.getView();i.addEventDelegate({onAfterRendering:function(){var i=jQuery(window).height();var n=jQuery(a.byId("idAppTitle").getDomRef()).height()??0;var o=jQuery(a.byId("idApplicationToolbar").getDomRef()).height()??0;var r=jQuery(a.byId("idAppPage").getDomRef()).find("header").height()??0;var l=jQuery(a.byId("idAppPage").getDomRef()).find("footer").height()??0;var p;if(n>0){n=n+80;p=n+o+r+l+25}else{p=232}t.setHeight(i-p+"px");t.setWidth("100%");u.onResize(function(){if(jQuery(a.getDomRef()).css("display")==="block"){i=jQuery(a.byId("idAppPage").getDomRef()).height()??0;t.setHeight(i-p+"px");t.setWidth("100%")}});d.getRouterFor(e).attachRoutePatternMatched(function(e){if(e.getParameter("name")==="applicationList"){i=jQuery(a.getDomRef()).height()??0;t.setHeight(i-p+"px");t.setWidth("100%")}})}})}function j(e,n){var o=new a({title:e.coreApi.getText("importDeliveredContent"),type:b.Active,press:function(){x(e,"importDeliveredContent")}});var r=new a({title:e.coreApi.getText("importFiles"),type:b.Active,press:function(){x(e,"importFiles")}});var l=new i({placement:v.Top,showHeader:false});var d=new t({items:[o,r]});l.addContent(d);l.openBy(n.getSource())}return p.extend("sap.apf.modeler.ui.controller.applicationList",{onInit:function(){var e=this;this.actualQuery="";var t=e.getOwnerComponent();if(f.checkIsNotUndefined(t)){e.coreApi=t.oCoreApi;if(!this.coreApi.showSemanticObject()){this.hideSemanticObjectColumn()}D(this);I(e);e.coreApi.getApplicationHandler(function(t,i){e.applicationHandler=t;if(e.applicationHandler&&!f.checkIsNotUndefined(i)){T(e)}else{e.showMessage("11508",i)}})}O(e)},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)},hideSemanticObjectColumn:function(){this.byId("idSemanticObjectColumn").setVisible(false)},handleAddNewAppPress:function(){var e=this;if(f.checkIsNotNullOrUndefinedOrBlank(e.applicationHandler)){x(e,"newApplication")}else{e.showMessage("11509")}},handleListItemPress:function(e){var t=this,i;i=e.getParameter("listItem").getBindingContext().getPath().split("/")[2];d.getRouterFor(t).navTo("configurationList",{appId:t.byId("idApplicationTable").getModel().getData().Objects[i].id})},handleTextpoolCleanupPress:y(async function(e){var t;var i=e.getSource().getBindingContext().getObject().id;var a=new o({value:{applicationId:i}});var n=this.coreApi.getText;t=await l.load({id:"idTextpoolCleanupConfirmationFragment",name:"sap.apf.modeler.ui.fragment.textpoolCleanupConfirmationDialog",controller:this});t.setTitle(n("confirmation"));t.getButtons()[0].setText(n("ok"));t.getButtons()[1].setText(n("cancel"));w(this,t,"textpoolCleanupConfirmation",a)}),handleConfirmTextpoolCleanup:function(e){var t=this;var i=l.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").getCustomData()[0].getValue().applicationId;t.coreApi.getConfigurationHandler(i,function(e){var a=e.getTextPool();t.coreApi.getUnusedTextKeys(i,function(e,n){if(!f.checkIsNotUndefined(n)){a.removeTexts(e,i,function(e){if(!f.checkIsNotUndefined(e)){t.showMessage("11511")}else{t.showMessage("11507",e)}t.closeTextpoolCleanupConfirmationDialog()})}else{t.showMessage("11506",n);t.closeTextpoolCleanupConfirmationDialog()}})})},closeTextpoolCleanupConfirmationDialog:function(){l.byId("idTextpoolCleanupConfirmationFragment","idTextpoolCleanupConfirmation").destroy()},handleCancelTextpoolCleanup:function(e){this.closeTextpoolCleanupConfirmationDialog()},handleEditPress:function(e){var t,i;if(f.checkIsNotNullOrUndefinedOrBlank(this.applicationHandler)){t=e.getSource().getBindingContext().getObject();i={parentControl:this.byId("idApplicationTable"),coreApi:this.coreApi,applicationData:t};s.create({viewName:"sap.apf.modeler.ui.view.editApplication",type:c.XML,viewData:i}).then(function(e){this.getView().addDependent(e)}.bind(this))}},handleDeletePress:y(async function(e){var t=this,i;var a=e.getSource().getBindingContext().getPath().split("/")[2];var n=new o({value:{removeId:this.byId("idApplicationTable").getModel().getData().Objects[a].id,sPath:a}});i=await l.load({id:"idDeleteConfirmationFragment",type:"XML",name:"sap.apf.modeler.ui.fragment.deleteConfirmationDialog",controller:t});A(t);w(t,i,"deleteApp",n)}),handleConfirmDeletion:function(){var e=this;var t=l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").getCustomData()[0].getValue().removeId;if(f.checkIsNotUndefined(t)){e.applicationHandler.removeApplication(t,function(t,i,a){if(!f.checkIsNotUndefined(a)&&typeof t==="string"){T(e);C(e,"11510")}else{e.showMessage("11501",a)}e.closeDialog()})}},closeDialog:function(){l.byId("idDeleteConfirmationFragment","idDeleteConfirmation").destroy()},handleNavigationWithSave:function(){var e=this;e.handleSavePress();l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleNavigationWithoutSave:function(){l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handlePreventNavigation:function(){l.byId("idUnsavedDataConfirmationFragment","idMessageDialog").destroy()},handleImportPress:function(e){if(this.coreApi.isVendorContentAvailable()){j(this,e)}else{x(this,"importFiles")}},handleSavePress:function(){var e=this,t=[],i,a,n;i=e.applicationHandler.getList();a=e.byId("idApplicationTable").getModel().getData().Objects;for(n=0;n<i.length;n++){if(a[n].description!==i[n].ApplicationName||a[n].semanticObject!==i[n].SemanticObject){t.push(a[n])}}t.forEach(function(t){var i={ApplicationName:t.description,SemanticObject:t.semanticObject};e.applicationHandler.setAndSave(i,function(t,i,a){if(f.checkIsNotUndefined(a)){e.showMessage("11500",a)}},t.id)})},handleNavigationToConfigurationList:function(e){var t=this;var i={listItem:r.getElementById(e.currentTarget.id).getParent(),srcControl:t.byId("idApplicationTable")};t.byId("idApplicationTable").fireItemPress(i)},handleAdditionOfNewApp:function(e){var t=this,i,a,n,o=0,r;i=e.getParameter("appId");T(t);a=t.byId("idApplicationTable").getModel().getData().Objects;C(t,"11512");t.byId("idApplicationTable").rerender();for(n=0;n<a.length;n++){if(a[n].id===i){o=n;break}}r=t.byId("idApplicationTable").getItems();if(r.length){var l=r[o].getDomRef();if(l){l.scrollIntoView()}}if(this.actualQuery!==""){this.filterValues(this.actualQuery)}},handleAppListUpdate:function(){var e=this;T(e)},handleNavBack:function(){window.history.go(-1)},onSearch:function(e){var t=e.getParameters().newValue;this.actualQuery=t;this.filterValues(t)},filterValues:function(e){var t=[];if(e&&e.length>0){var i=new m("description",h.Contains,e);t.push(i)}var a=this.byId("idApplicationTable");var n=a.getBinding("items");n.filter(t,"Objects")}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/catalogService.controller", ["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v2/ODataModel","sap/apf/utils/utils"],function(e,t,a,i,r){"use strict";function o(e){var t={serviceUrl:e.getView().getViewData().getCalatogServiceUri(),json:true,async:true,useBatch:true};return new i(t)}function n(e){var t=e.getView().getViewData().oTextReader;var a=e.byId("idGatewayCatalogListDialog");a.setTitle(t("selectService"));a.setNoDataText(t("noDataText"))}return e.extend("sap.apf.modeler.ui.controller.catalogService",{handleSearch:function(e){var i=this;var r=e.getParameter("value").trim();var o=r.toUpperCase();var n=r.toLowerCase();var l=[new t("TechnicalServiceName",a.Contains,o),new t("TechnicalServiceName",a.Contains,n)];var s=new t(l,false);var c=i.byId("idGatewayCatalogListDialog");c.getBinding("items").filter(s)},onInit:function(){var e=this;var t=o(e);var a=e.byId("idGatewayCatalogListDialog");n(e);a.setModel(t);a.open()},handleConfirm:function(e){var t=this,a=e.getParameter("selectedItem").getProperty("title");var i=t.byId("idGatewayCatalogListDialog");var r=t.getView().getViewData().parentControl;i.getBinding("items").filter([]);r.fireEvent("selectService",{sSelectedService:a});t.byId("idGatewayCatalogListDialog").destroy();t.getView().destroy()},handleCancel:function(){var e=this;e.byId("idGatewayCatalogListDialog").destroy();e.getView().destroy()},handleFormatting:function(e){var t=r.extractPathnameFromUrl(e);return t}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/category.controller", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/ui/core/mvc/Controller"],function(e,t,a,i){"use strict";var n,o,r,l,g,d,s;function u(e){e.byId("idCategoryBasicData").setText(o("categoryData"));e.byId("idCategoryTitleLabel").setText(o("categoryTitle"));e.byId("idCategoryTitle").setPlaceholder(o("newCategory"));e.byId("idTotalStepsLabel").setText(o("totalSteps"))}function c(e){var a;if(n&&n.arguments&&n.arguments.categoryId){d=l.getCategory(n.arguments.categoryId)}if(!t.checkIsNotUndefined(d)){a=l.setCategory();d=l.getCategory(a);f(e)}}function f(e,t){var a={id:d.getId(),icon:"sap-icon://open-folder"};if(t){delete a.icon;a.name=t}e.getView().getViewData().updateSelectedNode(a)}function y(e,t){var a=o("category")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(a)}function I(e){if(!t.checkIsNotNullOrUndefinedOrBlank(l.getCategory(n.arguments.categoryId))){return}if(t.checkIsNotNullOrUndefinedOrBlank(d.labelKey)&&g.get(d.labelKey)){e.byId("idCategoryTitle").setValue(g.get(d.labelKey).TextElementDescription)}else{e.byId("idCategoryTitle").setValue(d.getId())}}function T(e){var t=l.getCategoryStepAssignments(d.getId()).length;e.byId("idTotalSteps").setValue(t)}var C=i.extend("sap.apf.modeler.ui.controller.category",{onInit:function(){var e=this;var t=e.getView().getViewData();o=t.getText;n=t.oParams;r=t.oConfigurationHandler;g=r.getTextPool();l=t.oConfigurationEditor;if(!l){r.loadConfiguration(n.arguments.configId,function(e){l=e})}s=new a(e.getView());u(e);c(e);e.setDetailData();s.addField("idCategoryTitle")},onAfterRendering:function(){if(this.getView().byId("idCategoryTitle").getValue().length===0){this.getView().byId("idCategoryTitle").focus()}},setDetailData:function(){var e=this;I(e);T(e)},handleChangeDetailValue:function(a){var i=this,n;var o=i.byId("idCategoryTitle").getValue().trim();var r=e.TranslationFormatMap.CATEGORY_TITLE;if(t.checkIsNotNullOrUndefinedOrBlank(o)){g.setTextAsPromise(o,r).done(function(e){n={labelKey:e};l.setCategory(n,d.getId());f(i,o);y(i,o);l.setIsUnsaved()})}else{l.setIsUnsaved()}},handleSuggestions:function(t){var a=e.TranslationFormatMap.CATEGORY_TITLE;var i=new e.SuggestionTextHandler(g);i.manageSuggestionTexts(t,a)},updateSubViewInstancesOnReset:function(e){l=e;d=l.getCategory(d.getId())},getValidationState:function(){return s.getValidationState()},onExit:function(){s=null}});return C},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/configuration.controller", ["sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper"],function(t,e,i,a,n,o,r){"use strict";var d=e.ValueState;function g(t){t.byId("idConfigurationBasicData").setText(t.textReader("configurationData"));t.byId("idConfigTitleLabel").setText(t.textReader("configTitle"));t.byId("idConfigTitle").setPlaceholder(t.textReader("newConfiguration"));t.byId("idConfigurationIdLabel").setText(t.textReader("configurationId"));if(t.coreApi.showSemanticObject()){t.byId("idSemanticObjectLabel").setText(t.textReader("semanticObject"))}t.byId("idNoOfCategoriesLabel").setText(t.textReader("noOfCategories"));t.byId("idNoOfStepsLabel").setText(t.textReader("noOfSteps"));t.byId("idFilterTypeData").setText(t.textReader("filterType"));t.byId("idFilterTypeLabel").setText(t.textReader("type"));t.byId("smartFilterBar").setText(t.textReader("smartFilterBar"));t.byId("facetFilter").setText(t.textReader("configuredFilters"));t.byId("none").setText(t.textReader("noFilters"));t.byId("idAriaPropertyForFilterRadioGp").setText(t.textReader("type"))}function l(t){if(!t.configuration){return}t.byId("idNoOfCategories").setValue(t.configurationEditor.getCategories().length)}function u(t){if(!t.configuration){return}t.byId("idNoOfSteps").setValue(t.configurationEditor.getSteps().length)}function s(t){if(!t.configuration){return}t.byId("idConfigTitle").setValue(t.configuration.AnalyticalConfigurationName)}function f(t){if(!t.configuration){return}if(t.configuration.AnalyticalConfiguration.indexOf(o.configurationObjectTypes.ISNEWCONFIG)===-1){t.byId("idConfigurationId").setValue(t.configuration.AnalyticalConfiguration)}}function c(t){var e=t.applicationHandler.getApplication(t.params.arguments.appId);if(e){t.byId("idSemanticObject").setValue(e.SemanticObject)}}function p(t){var e;if(t.configuration){e=Object.keys(t.configurationEditor.getFilterOption())[0];t.byId("idFilterTypeRadioGroup").setEnabled(true);t.byId("idFilterTypeRadioGroup").setSelectedButton(t.byId(e))}}function b(t){if(t.params&&t.params.arguments&&t.params.arguments.configId){t.configuration=t.configurationHandler.getConfiguration(t.params.arguments.configId)}if(t.configuration){t.configurationEditor=t.getView().getViewData().oConfigurationEditor}}function m(t,e){var i=t.textReader("configuration")+": "+e;t.getView().getViewData().updateTitleAndBreadCrumb(i)}function I(t,e){var i=t.configurationHandler.getTextPool();var a=r.TranslationFormatMap.APPLICATION_TITLE;i.setTextAsPromise(e,a).done(function(e){t.configurationEditor.setApplicationTitle(e)})}function y(t,e,i){var a={appId:t.params.arguments.appId};var n={name:e};if(i){n.id=i;a.configId=i;t.getView().getViewData().updateSelectedNode(n,a)}else{t.getView().getViewData().updateSelectedNode(n)}}function C(t){var e={};var i=t.byId("idFilterTypeRadioGroup").getSelectedButton().getCustomData()[0].getValue();e[i]=true;t.configurationEditor.setFilterOption(e);t.configurationEditor.setIsUnsaved()}return i.extend("sap.apf.modeler.ui.controller.configuration",{onInit:function(){var t=this;var e=t.getView().getViewData();t.applicationHandler=e.oApplicationHandler;t.configurationHandler=e.oConfigurationHandler;t.textReader=e.getText;t.params=e.oParams;this.coreApi=e.oCoreApi;this.viewValidatorForConfig=new n(t.getView());g(t);if(!this.coreApi.showSemanticObject()){t.byId("idSemanticObjectLabel").setVisible(false);t.byId("idSemanticObject").setVisible(false)}b(t);t.setDetailData();this.viewValidatorForConfig.addField("idConfigTitle")},onAfterRendering:function(){var t=this;if(t.getView().byId("idConfigTitle").getValue().length===0){t.getView().byId("idConfigTitle").focus()}},setDetailData:function(){var t=this;c(t);f(t);s(t);l(t);u(t);p(t)},updateSubViewInstancesOnReset:function(t){this.configurationEditor=t},handleChangeDetailValue:function(){var t=this;var e=t.byId("idConfigTitle").getValue().trim();var i;if(a.checkIsNotNullOrUndefinedOrBlank(e)){i={AnalyticalConfigurationName:e};if(t.params&&t.params.arguments&&t.params.arguments.configId&&t.params.arguments.configId.indexOf("newConfig")===-1){t.configurationHandler.setConfiguration(i,t.params.arguments.configId);y(t,e)}else{var n=t.configurationHandler.setConfiguration(i);t.configuration=t.configurationHandler.getConfiguration(n);if(!t.configurationEditor){t.configurationHandler.loadConfiguration(n,function(e){t.configurationEditor=e})}y(t,e,n)}I(t,e);m(t,e);t.configuration=i}t.configurationEditor.setIsUnsaved()},handleChangeForFilterType:function(){var e=this,i;if(!e.configurationEditor.isDataLostByFilterOptionChange()){C(e);e.getView().getViewData().updateTree()}else{t.load({id:"idFilterOptionChangeFragment",type:"XML",name:"sap.apf.modeler.ui.fragment.dialogWithTwoButtons",controller:e}).then(a=>{i=a;i.setState(d.Warning);i.setTitle(e.textReader("warning"));t.byId("idFilterOptionChangeFragment","idLabelForDialog").setText(e.textReader("filterOptionChangeMessage"));t.byId("idFilterOptionChangeFragment","idBeginButtonForDialog").setText(e.textReader("continue"));t.byId("idFilterOptionChangeFragment","idEndButtonForDialog").setText(e.textReader("cancel"));i.open()})}},handleBeginButtonDialogWithTwoButtons:function(){var e=this;C(e);e.getView().getViewData().updateTree();t.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},handleCancel:function(){var e=this;p(e);t.byId("idFilterOptionChangeFragment","idDialogWithTwoButtons").destroy()},getValidationState:function(){return this.viewValidatorForConfig.getValidationState()}})},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/configurationList.controller", ["sap/apf/modeler/ui/utils/APFRouter","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/navigationHandler","sap/apf/modeler/ui/utils/helper","sap/apf/modeler/ui/utils/APFTree","sap/m/Label","sap/m/Link","sap/ui/core/Fragment","sap/ui/core/Icon","sap/ui/core/UIComponent","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/core/util/File","sap/ui/model/json/JSONModel","sap/ui/util/openWindow","sap/apf/cloudFoundry/uiHandler","sap/ui/thirdparty/jquery","sap/base/util/deepExtend","sap/base/util/extend","sap/base/util/isEmptyObject","sap/ui/core/syncStyleClass"],function(e,t,i,a,o,n,r,s,d,l,g,f,c,u,h,C,p,D,jQuery,I,T,v,b){"use strict";var x=t.configurationObjectTypes;return f.extend("sap.apf.modeler.ui.controller.configurationList",{onInit:function(){this._pOnInit=this.onInitAsync()},whenInitialized:function(){return Promise.resolve(this._pOnInit)},onInitAsync:async function(){var t=this.getOwnerComponent();if(t!==undefined){this.oCoreApi=t.oCoreApi;this._setDisplayText();this._setPublishVisible()}this._addConfigStyleClass();this.oModel=new C({aConfigDetails:[]});this.getView().setModel(this.oModel);this.bProgramaticSelection=false;if(this.oTreeInstance!==undefined){this.oTreeInstance.expandToLevel(1);this.oTreeInstance.collapseAll()}this.modelUpdateDeferred={};e.patternMatch(this);await this._instantiateToolbarView();this._instantiateAPFTree();await this._instantiateTitleAndBreadCrumbView()},_instantiateToolbarView:async function(){var e=await c.create({viewName:"sap.apf.modeler.ui.view.toolbar",type:u.XML,viewData:{oConfigListInstance:this}});this.toolbarController=e.getController();this.byId("idConfigMasterData").insertItem(e,0)},_instantiateAPFTree:function(){this.oTreeInstance=this.byId("idConfigTree");this.oTreeInstance.setTranslationFunction(this.oCoreApi.getText);var e;if(this.oCoreApi.getRepresentationTypes()[0].metadata){e=this.oCoreApi.getRepresentationTypes()[0].id}this.oTreeInstance.setDefaultRepresentationType(e)},_instantiateTitleAndBreadCrumbView:async function(){this.oTitleBreadCrumbView=await c.create({viewName:"sap.apf.modeler.ui.view.titleBreadCrumb",type:u.XML,viewData:{getText:this.oCoreApi.getText}});this.oTitleBreadCrumbController=this.oTitleBreadCrumbView.getController();this.byId("idConfigDetail").insertItem(this.oTitleBreadCrumbView,0);this.oBreadCrumb=this.oTitleBreadCrumbView.byId("IdBreadCrumb")},setConfigListMasterTitle:function(e){this.byId("idConfigTitleMaster").setText(this.oCoreApi.getText("configurationObjectTitle")+" : "+e)},onAfterRendering:function(){var e=this;this.whenInitialized().then(()=>{this.oTreeInstance.onAfterRendering=function(){e._setHeightForScrollBar()}})},_setHeightForScrollBar:function(){var e=this;var t=jQuery(window).height();t=t-165;e.byId("idMasterScroll").setHeight(t+"px");o.onResize(function(){t=jQuery(e.byId("configPage").getDomRef()).height();e.byId("idMasterScroll").setHeight(t+"px")})},_setDisplayText:function(){this.byId("configPage").setTitle(this.oCoreApi.getText("configModelerTitle"));this.byId("idSavebutton").setText(this.oCoreApi.getText("save"));this.byId("idCancelbutton").setText(this.oCoreApi.getText("cancel"));this.byId("idExportbutton").setText(this.oCoreApi.getText("export"));this.byId("idExecuteButton").setText(this.oCoreApi.getText("execute"));this.byId("idPublishbutton").setText(this.oCoreApi.getText("share"));this.byId("idAriaPropertyForBreadCrumb").setText(this.oCoreApi.getText("breadCrumbText"))},_setPublishVisible:function(){var e=this.oCoreApi.isUsingCloudFoundryProxy();this.byId("idPublishbutton").setVisible(e)},_addConfigStyleClass:function(){this.getView().addStyleClass("sapUiSizeCompact");this.byId("idConfigTree").addStyleClass("configTree");this.byId("idConfigTitleMaster").addStyleClass("configTitle");this.byId("idConfigMasterData").addStyleClass("configMasterData");this.byId("idConfigDetailData").addStyleClass("configDetailData")},_setSubViewContainerHeight:function(e){var t=this;var i=e.getContent()[0].getItems()[0];var a=jQuery(window).height();var n=jQuery(this.byId("idConfigTitleMaster").getDomRef()).outerHeight()+jQuery(this.byId("idConfigTitleMaster").getDomRef()).offset().top+25;var r=jQuery(this.byId("idConfigMasterData").getItems()[0].getDomRef()).height();var s=jQuery(this.byId("configPage").getDomRef()).find("header").height();var d=jQuery(this.byId("configPage").getDomRef()).find("footer").height();var l,g;if(r>0){l=n+r+s+d}else{l=265}var f=a-l-40+"px";i.setHeight(f);var c=jQuery(this.byId("idConfigDetailData").getDomRef()).width();if(c>0){g=jQuery(this.byId("idConfigMasterData").getDomRef()).offset().left}else{c=1015;g=15}var u=c-g;var h=u+"px";i.setWidth(h);o.onResize(function(){a=jQuery(t.byId("configPage").getDomRef()).height();f=a-l+"px";i.setHeight(f);c=jQuery(t.byId("idConfigDetailData").getDomRef()).width();u=c-g;h=u+"px";i.setWidth(h)})},_setSubView:async function(e){this.oSubView=e},_getSubView:async function(){return this.oSubView},updateSubView:async function(e){var t=this;var i=await this._getSubView();var a=this.byId("idConfigDetailData");var o=this.getSPathFromURL(e);this.configurationHandler.memorizeConfiguration(e.arguments.configId);if(i){i.destroy()}if(e.arguments.configId.indexOf("newConfig")===0){this.modelUpdateDeferred[this.byId("idConfigTree").getModel().getData().aConfigDetails.length-1]=new jQuery.Deferred}var n=await c.create({viewName:"sap.apf.modeler.ui.view."+o.objectType,type:"XML",viewData:{oParams:e,oCoreApi:t.oCoreApi,updateConfigTree:t.updateConfigTree.bind(t),updateSelectedNode:t.updateSelectedNode.bind(t),updateTitleAndBreadCrumb:t.updateTitleAndBreadCrumb.bind(t),updateTree:t.updateTree.bind(t),oConfigurationHandler:t.configurationHandler,oApplicationHandler:t.applicationHandler,oConfigurationEditor:t.configEditor,getText:t.oCoreApi.getText,getEntityTypeMetadataAsPromise:t.oCoreApi.getEntityTypeMetadataAsPromise,getRepresentationTypes:t.oCoreApi.getRepresentationTypes,oFooter:t.byId("idFooterBarMain"),createMessageObject:t.oCoreApi.createMessageObject,putMessage:t.oCoreApi.putMessage,getAllAvailableSemanticObjects:t.oCoreApi.getAllAvailableSemanticObjects,getSemanticActions:t.oCoreApi.getSemanticActions,getNavigationTargetName:t._getNavigationTargetName.bind(t),setNavigationTargetName:t._setNavigationTargetName.bind(t),getCalatogServiceUri:t.oCoreApi.getCatalogServiceUri,oTitleBreadCrumbController:t.oTitleBreadCrumbController}});if(e.name!=="applicationList"){a.removeAllContent();n.placeAt(a);this._setSubViewContainerHeight(n);await this._setSubView(n);return n}return null},clearTitleAndBreadCrumb:function(){this.oTitleBreadCrumbView.byId("IdFormTitle").setText("");this.oTitleBreadCrumbView.byId("IdBreadCrumb").destroyContent()},_createLinkForBreadCrumb:function(e,t,i){var a=this;var o=new s({text:e,id:a.createId("linkId"+t),press:function(){a._navigateToNode(i)}});o.addAriaDescribedBy(a.byId("idAriaPropertyForBreadCrumb"));return o},_createTextForBreadCrumb:function(e,t){var i=this;var a=new r({id:i.createId("textId"+t)});a.addStyleClass("dialogText");a.setText(e);return a},_createIconForBreadCrumb:function(){var e=new l({src:"sap-icon://open-command-field"});e.addStyleClass("breadCrumbIcon");return e},_navigateToNode:function(e){var t=this.oTreeInstance.getItemNodeByContext(e);this.oTreeInstance.setSelectedItem(t);this._onTreeNodeSelection()},_getAllPossibleNodes:function(e){var t=[];if(e.configId){t.push({id:e.configId,name:e.configurationName,oParams:{arguments:{configId:e.configId}}})}if(e.facetFilterId){t.push({id:e.facetFilterId,name:e.facetFilterName,oParams:{arguments:{configId:e.configId,facetFilterId:e.facetFilterId}}})}if(e.smartFilterId){t.push({id:e.smartFilterId,name:e.smartFilterName,oParams:{arguments:{configId:e.configId,smartFilterId:e.smartFilterId}}})}if(e.categoryId){t.push({id:e.categoryId,name:e.categoryName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId}}})}if(e.stepId){t.push({id:e.stepId,name:e.stepName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId}}})}if(e.representationId){t.push({id:e.representationId,name:e.representationName,oParams:{arguments:{configId:e.configId,categoryId:e.categoryId,stepId:e.stepId,representationId:e.representationId}}})}if(e.navTargetId){t.push({id:e.navTargetId,name:e.navTargetName,oParams:{arguments:{configId:e.configId,navTargetId:e.navTargetId}}})}return t},_breadCrumbCreation:function(e,t){for(var i=0;i<e.length;i++){var a=this.getSPathFromURL(e[i].oParams).sPath;var o;if(i===1){o=this._createTextForBreadCrumb(t,i);this.oBreadCrumb.addContent(o);var n=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(n)}if(i!==e.length-1){var r=this._createLinkForBreadCrumb(e[i].name,i,a);this.oBreadCrumb.addContent(r);var s=this._createIconForBreadCrumb();this.oBreadCrumb.addContent(s)}if(i===e.length-1){o=this._createTextForBreadCrumb(e[i].name,++i);this.oBreadCrumb.addContent(o)}}},updateTitleAndBreadCrumb:function(e){var t;var i;var a=this.oTreeInstance.getSelectedItems();if(a&&a.length>0){i=a[0]}var o=i?this.oTreeInstance.getAPFTreeNodeContext(i):undefined;var n=o?o.nodeObjectType:undefined;var r=o?this.oTreeInstance.getParentNodeContext(o):undefined;if(e){t=e}else{if(n){var s=i.getTitle();t=this.oCoreApi.getText(n)+": "+s;if(n===x.SMARTFILTERBAR){t=s}}}if(r){if(this.oBreadCrumb){this.oBreadCrumb.destroyContent()}var d=this._getAllPossibleNodes(r);var l;switch(n){case x.CONFIGURATION:this._breadCrumbCreation(d);break;case x.SMARTFILTERBAR:case x.FACETFILTER:l=this.oCoreApi.getText("facetFilter");this._breadCrumbCreation(d,l);break;case x.CATEGORY:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case x.STEP:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case x.REPRESENTATION:l=this.oCoreApi.getText("category");this._breadCrumbCreation(d,l);break;case x.NAVIGATIONTARGET:l=this.oCoreApi.getText("navigationTarget");this._breadCrumbCreation(d,l);break;default:break}}if(n!==x.STEP){this.oTitleBreadCrumbController.setTitleForDetailPage(t)}},setSelectionOnTree:function(e){if(e.objectType==="smartFilterBar"){this.toolbarController.disableCopyDeleteButton()}else{this.toolbarController.enableCopyDeleteButton()}this._enableDisableExportAndExecuteButton(true);this.oTreeInstance.setSelectionOnTree(e.sPath)},removeSelectionOnTree:function(){this.oTreeInstance.removeSelectionOnTree(this.selectedNode)},updateConfigTree:function(e){var t,i,a,o,n,r,s,d,l;var f=this;e.forEach(function(e){var g;t=f.getSPathFromURL(e.oldContext).sPath;a=t.split("/");o=a[2];n=a[6];s=a[8];d=I({},f.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[s]);l=d.id;d.isSelected=false;i=f.getSPathFromURL(e.newContext).sPath;r=i.split("/")[6];if(e.removeStep===undefined){if(f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps){f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps.forEach(function(e){if(e.id===l){g=true}});if(g===undefined){f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps.push(d)}}else{f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps=[];f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps.push(d)}}else if(e.removeStep===true){if(f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps){f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps.forEach(function(e,t){if(e.id===l){var i=f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps;i.splice(t,1);f.oModel.getData().aConfigDetails[o].configData[1].categories[r].steps=i}});if(e.changeCategory===true){var c=f.getSPathFromURL(e.categoryChangeContext).sPath;var u=c.split("/");o=u[2];var h=u[6];var C=u[8];f.oModel.getData().aConfigDetails[o].configData[1].categories[h].steps[C].isSelected=true;f.oModel.getData().aConfigDetails[o].configData[1].categories[h].expanded=true}}}});this.oModel.updateBindings();var c=e.length;if(e[c-1].changeCategory){g.getRouterFor(this).navTo(e[c-1].oldContext.name,e[c-1].categoryChangeContext.arguments,true)}this.configEditor.setIsUnsaved()},updateSelectedNode:function(e,t){if(e){if(this.oTreeInstance.getSelectedItems()){this.selectedNode=this.oTreeInstance.getSelectedItem()}if(this.selectedNode){if(e.name&&this.selectedNode._getBindingContext()&&this.selectedNode._getBindingContext().getObject()){this.selectedNode.getBindingContext().getObject().name=e.name;this.selectedNode.getBindingContext().getObject().isSelected=true;if(this.selectedNode.getBindingContext().getObject().type===x.REPRESENTATION||this.selectedNode.getBindingContext().getObject().type===x.NAVIGATIONTARGET){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}if(e.id&&this.selectedNode.getBindingContext().getObject().id){this.selectedNode.getBindingContext().getObject().id=e.id;if(e.icon){this.selectedNode.getBindingContext().getObject().icon=e.icon}this.oModel.updateBindings()}else if(e.id&&this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration){this.selectedNode.getBindingContext().getObject().AnalyticalConfiguration=e.id;this.selectedNode.getBindingContext().getObject().expanded=true}}if(this.selectedNode.getBindingContext().getObject().type===x.CONFIGURATION&&t){g.getRouterFor(this).navTo(this.selectedNode.getBindingContext().getObject().type,t,true);this.updateTree()}}},createConfigList:function(){var e=this;this.configList=this.configurationHandler.getList();this.configList.forEach(function(t,i){var a={};a.AnalyticalConfiguration=t.AnalyticalConfiguration;a.name=t.AnalyticalConfigurationName;a.Application=t.Application;a.type=x.CONFIGURATION;a.bIsLoaded=false;a.bToggleState=false;a.isSelected=false;a.expanded=false;a.selectable=true;a.hasExpander=true;e.oModel.getData().aConfigDetails.push(a);e.modelUpdateDeferred[i]=new jQuery.Deferred});this.oModel.updateBindings()},showNoConfigSelectedText:function(){this.byId("idConfigDetailData").removeAllContent();this.clearTitleAndBreadCrumb();var e=(new r).addStyleClass("noConfigSelected");e.setText(this.oCoreApi.getText("noConfigSelected"));e.placeAt(this.byId("idConfigDetailData"));this.toolbarController.disableCopyDeleteButton();this._enableDisableExportAndExecuteButton(false);this.byId("idConfigDetail").setBusy(false)},updateConfigListView:function(){this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode===null||this.selectedNode===undefined||this.selectedNode.length==0){if(this.configList.length>1){this.showNoConfigSelectedText()}else{this.oModel.getData().aConfigDetails[0].isSelected=true;this.oModel.getData().aConfigDetails[0].expanded=true;this.configId=this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration;this.oModel.updateBindings();var e={appId:this.appId,configId:this.oModel.getData().aConfigDetails[0].AnalyticalConfiguration};this.selectedNode=this.oTreeInstance.getItems()[0];this.oTreeInstance.expand(0);this.toolbarController.enableCopyDeleteButton();this._enableDisableExportAndExecuteButton(true);g.getRouterFor(this).navTo(this.oModel.getData().aConfigDetails[0].type,e,true)}}},_getNodeData:function(e,t){var i=this.oModel.getData().aConfigDetails;var a={};var o=function(e){var t={};var a=e||this.configId;for(var o=0;o<i.length;o++){if(i[o].AnalyticalConfiguration===a){t.index=o;t.data=i[o];t.id=i[o].AnalyticalConfiguration;break}}return t};var n=function(t){var a=o.call(this,e[x.CONFIGURATION]).index;var n={};for(var r=0;r<i[a].configData.length;r++){if(i[a].configData[r].filters instanceof Array){n.indexConfigData=r;for(var s=0;s<i[a].configData[r].filters.length;s++){if(i[a].configData[r].filters[s].id===t){n.index=s;n.data=i[a].configData[r].filters[s];n.id=i[a].configData[r].filters[s].id;n.filterNodeExpansion=i[a].configData[r].expanded}}}}return n};var r=function(t){var a=o.call(this,e[x.CONFIGURATION]).index;var n={};for(var r=0;r<i[a].configData.length;r++){if(i[a].configData[r].categories instanceof Array){n.indexConfigData=r;for(var s=0;s<i[a].configData[r].categories.length;s++){if(i[a].configData[r].categories[s].id===t){n.index=s;n.data=i[a].configData[r].categories[s];n.id=i[a].configData[r].categories[s].id;n.categoryExpansion=i[a].configData[r].expanded}}}}return n};var s=function(t){var a=o.call(this,e[x.CONFIGURATION]).index;var n=r.call(this,e[x.CATEGORY]).indexConfigData;var s=r.call(this,e[x.CATEGORY]).index;var d={};for(var l=0;l<i[a].configData[n].categories[s].steps.length;l++){if(i[a].configData[n].categories[s].steps[l].id===t){d.index=l;d.data=i[a].configData[n].categories[s].steps[l];d.id=i[a].configData[n].categories[s].steps[l].id}}return d};var d=function(t){var a=o.call(this,e[x.CONFIGURATION]).index;var n=r.call(this,e[x.CATEGORY]).indexConfigData;var d=r.call(this,e[x.CATEGORY]).index;var l=s.call(this,e[x.STEP]).index;var g={};if(i[a].configData[n].categories[d].steps[l]){for(var f=0;f<i[a].configData[n].categories[d].steps[l].representations.length;f++){if(i[a].configData[n].categories[d].steps[l].representations[f].id===t){g.index=f;g.data=i[a].configData[n].categories[d].steps[l].representations[f];g.id=i[a].configData[n].categories[d].steps[l].representations[f].id}}}return g};var l=function(t){var a=o.call(this,e[x.CONFIGURATION]).index;var n={};for(var r=0;r<i[a].configData.length;r++){if(i[a].configData[r].navTargets instanceof Array){n.indexConfigData=r;for(var s=0;s<i[a].configData[r].navTargets.length;s++){if(i[a].configData[r].navTargets[s].id===t){n.index=s;n.data=i[a].configData[r].navTargets[s];n.id=i[a].configData[r].navTargets[s].id;n.nTExpansion=i[a].configData[r].expanded}}}}return n};switch(t){case x.CONFIGURATION:a=o.call(this,e[x.CONFIGURATION]);break;case x.FACETFILTER:a=n.call(this,e[x.FACETFILTER]);break;case x.SMARTFILTERBAR:a=n.call(this,e[x.SMARTFILTERBAR]);break;case x.CATEGORY:a=r.call(this,e[x.CATEGORY]);break;case x.STEP:a=s.call(this,e[x.STEP]);break;case x.REPRESENTATION:a=d.call(this,e[x.REPRESENTATION]);break;case x.NAVIGATIONTARGET:a=l.call(this,e[x.NAVIGATIONTARGET]);break;default:break}return a},_retainNodeState:function(e,t){var i=this._getNodeData(e,x.CONFIGURATION).index;if(!this.oModel.getData().aConfigDetails[i].bIsLoaded){return{}}var a=this._getNodeData(e,t);if(!a.data){return{}}return{expanded:a.data.expanded,isSelected:a.data.isSelected}},updateTree:function(){var t=this;var i=[],a=[],o=[],n={},r=[],s=[],d=[],l=[],g,f;this.oTextPool=this.configurationHandler.getTextPool();var c={};c[x.CONFIGURATION]=this.configId;var u=t._getNodeData(c,x.CONFIGURATION).index;var h=this.configId;var C=false;var p=false;var D=false;var I=Object.keys(this.configEditor.getFilterOption())[0];i=this.configEditor.getCategories();function v(){if(t.oModel.getData().aConfigDetails[u].bIsLoaded){f=t._getNodeData(c,I)}g=t._retainNodeState(c,I)}function b(e,i){var a=t.oCoreApi.getText("smartFilterBar");if(I===x.FACETFILTER){a=t.oTextPool.get(i.getLabelKey())?t.oTextPool.get(i.getLabelKey()).TextElementDescription:i.getLabelKey()}c[I]=i.getId();v();o.push({id:i.getId(),name:a,type:I,isSelected:g.isSelected||false,expanded:g.expanded||false,selectable:true,icon:e})}if(I===x.SMARTFILTERBAR){n=this.configEditor.getSmartFilterBar();b("sap-icon://filter",n)}else if(I===x.FACETFILTER){a=this.configEditor.getFacetFilters();a.forEach(function(e){var t=e.isVisible()?"sap-icon://filter":"sap-icon://hide";b(t,e)})}if(f&&f.filterNodeExpansion){C=true}r=this.configEditor.getNavigationTargets();var m=this.oCoreApi.getRepresentationTypes();var N={};m.forEach(function(e){var t=e.id;N[t]=e.picture});i.forEach(function(e){c[x.CATEGORY]=e.getId();var i=e;var a=i.getId();l=[];t.configEditor.getCategoryStepAssignments(a).forEach(function(e){var i=t.configEditor.getStep(e);c[x.CATEGORY]=a;c[x.STEP]=i.getId();var o=t._retainNodeState(c,x.STEP);var n=i.getRepresentations();var r=n.map(function(e){c[x.REPRESENTATION]=e.getId();var i=t._retainNodeState(c,x.REPRESENTATION);return{id:e.getId(),name:t.oCoreApi.getText(e.getRepresentationType()),type:"representation",isSelected:i.isSelected||false,expanded:i.expanded||false,selectable:true,icon:N[e.getRepresentationType()]}});l.push({id:i.getId(),name:t.oTextPool.get(i.getTitleId())?t.oTextPool.get(i.getTitleId()).TextElementDescription:i.getTitleId(),type:"step",representations:r,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:i.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"})});var o=t._retainNodeState(c,x.CATEGORY);if(t.oModel.getData().aConfigDetails[u].bIsLoaded){var n=t._getNodeData(c,x.CATEGORY);if(n.categoryExpansion){D=true}}s.push({id:e.getId(),name:t.oTextPool.get(e.labelKey)?t.oTextPool.get(e.labelKey).TextElementDescription:e.labelKey,type:"category",steps:l,isSelected:o.isSelected||false,expanded:o.expanded||false,selectable:true,icon:"sap-icon://open-folder"})});d.push({filters:o,name:t.oCoreApi.getText("facetFilters"),expanded:C,selectable:false});d.push({categories:s,name:t.oCoreApi.getText("categories"),expanded:D,selectable:false});var y=[];var S=function(e,i){c[x.NAVIGATIONTARGET]=i.getId();var a=t._retainNodeState(c,x.NAVIGATIONTARGET);if(t.oModel.getData().aConfigDetails[u].bIsLoaded){var o=t._getNodeData(c,x.NAVIGATIONTARGET);if(o.nTExpansion){p=true}}var n,r;for(n=0;n<e.length;n++){if(e[n].id===i.getAction()){r=e[n].text;break}}if(i.getTitleKey()){r=t.configurationHandler.getTextPool().get(i.getTitleKey()).TextElementDescription}y.push({id:i.getId(),name:r||i.getSemanticObject(),type:"navigationTarget",isSelected:a.isSelected||false,expanded:a.expanded||false,selectable:true,icon:i.isStepSpecific()?"sap-icon://pushpin-off":"sap-icon://overview-chart"})};var A=function(){var e=r.map(function(e){return e.getId()});var t=[];for(var i=0;i<e.length;i++){for(var a=0;a<y.length;a++){if(e[i]===y[a].id){t[i]=y[a];break}}}y=t};var E=function(){var e={};e.configData=d;t.oModel.getData().aConfigDetails[u].bIsLoaded=true;var i=t.oModel.getData().aConfigDetails[u];T(i,e);t.oModel.getData().aConfigDetails[u]=i;t.oModel.getData().aConfigDetails[u].name=t.configurationHandler.getConfiguration(h).AnalyticalConfigurationName;for(var a=0;a<t.oModel.getData().aConfigDetails.length;a++){if(t.modelUpdateDeferred[a]&&t.modelUpdateDeferred[a].state()==="pending"&&r.length===0){t.modelUpdateDeferred[a].resolve(t.oModel.getData())}}if(i.configData[2].navTargets.length>0){t._setNavigationTargetName({configIndexInTree:u});t.modelUpdateDeferred[u].resolve(t.oModel.getData())}t.oModel.updateBindings()};r.forEach(function(i){var a=t.oCoreApi.getSemanticActions(i.getSemanticObject());a.then(function(a){S(a.semanticActions,i);if(y.length===r.length){A();if(d[2]){d.splice(2,2);d.push({navTargets:y,name:t.oCoreApi.getText("navigationTargets"),expanded:p,selectable:false});E();var o=e.params;if(o.name==="navigationTarget"){e.setCurrentSelectionState(o,t)}}}})});d.push({navTargets:y,name:t.oCoreApi.getText("navigationTargets"),expanded:p,selectable:false});E()},_checkIfKeyExists:function(e,t){var i;if(this.navTargetTextsTable[t]){this.navTargetTextsTable[t].texts.forEach(function(t,a){if(t.key===e){i=a}})}return i},_getNavigationTargetName:function(e){var t=this;var i;var a=new jQuery.Deferred;var o=t.getSPathForConfig(t.configId).split("/")[2];if(this.modelUpdateDeferred[o]===undefined){this.modelUpdateDeferred[o]=new jQuery.Deferred;this.modelUpdateDeferred[o].resolve(this.oModel.getData())}jQuery.when(this.modelUpdateDeferred[o]).done(function(n){var r=t._checkIfKeyExists(e,o);if(r!==undefined){i=t.navTargetTextsTable[o].texts[r].value;a.resolve(i)}});return a.promise()},_setNavigationTargetName:function(e){var t=e.configIndexInTree!==undefined?e.configIndexInTree:this.getSPathForConfig(this.configId).split("/")[2];if(v(this.navTargetTextsTable)){this.navTargetTextsTable={}}if(!this.navTargetTextsTable[t]){this.navTargetTextsTable[t]={texts:[]}}if(e.key&&e.value){var i=this._checkIfKeyExists(e.key,t);if(i===undefined){var a={};a.key=e.key;a.value=e.value;this.navTargetTextsTable[t].texts.push(a)}else{this.navTargetTextsTable[t].texts[i].value=e.value}}else{var o=this.oModel.getData().aConfigDetails[t].configData[2].navTargets;for(var n=0;n<o.length;n++){var r={};r.key=o[n].id;r.value=o[n].name;this.navTargetTextsTable[e.configIndexInTree].texts.push(r)}}},_handleToggleTreeNode:function(e){var t=this;var i=e.getSource().getSelectedItems();if(i&&i.length>0){var a=i[0]._getBindingContext().sPath;var o=i[0]._getBindingContext().getObject().type;if(o===x.CONFIGURATION){var n=a.split("/")[2];if(t.oModel.getData().aConfigDetails[n].bIsLoaded===true){this.oModel.updateBindings()}else{this.configurationHandler.loadConfiguration(this.oModel.getData().aConfigDetails[n].AnalyticalConfiguration,function(e,i){if(i===undefined){t.configEditor=e;t.configId=t.oModel.getData().aConfigDetails[n].AnalyticalConfiguration;t.updateTree()}})}}}},getSPathForConfig:function(e){var t;this.oModel.getData().aConfigDetails.forEach(function(i,a){if(i.AnalyticalConfiguration===e){t="/aConfigDetails/"+a}});return t},getSPathFromURL:function(e){var t={sPath:undefined,objectType:undefined};var i=this;this.oModel.getData().aConfigDetails.forEach(function(a,o){if(a.AnalyticalConfiguration===e.arguments.configId){t.sPath="/aConfigDetails/"+o;t.objectType=x.CONFIGURATION;i.oModel.getData().aConfigDetails[o].expanded=true;if(e.arguments.categoryId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories.forEach(function(a,n){if(a.id===e.arguments.categoryId){t.sPath=t.sPath.concat("/configData/1/categories/"+n);t.objectType=x.CATEGORY;i.oModel.getData().aConfigDetails[o].configData[1].expanded=true;if(e.arguments.stepId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps.forEach(function(a,r){if(a.id===e.arguments.stepId){t.sPath=t.sPath.concat("/steps/"+r);t.objectType=x.STEP;i.oModel.getData().aConfigDetails[o].configData[1].categories[n].expanded=true;if(e.arguments.representationId!==undefined){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[r].representations.forEach(function(a,s){if(a.id===e.arguments.representationId){i.oModel.getData().aConfigDetails[o].configData[1].categories[n].steps[r].expanded=true;t.sPath=t.sPath.concat("/representations/"+s);t.objectType=x.REPRESENTATION}})}}})}}})}if(e.arguments.facetFilterId!==undefined){i.oModel.getData().aConfigDetails[o].configData[0].filters.forEach(function(a,n){if(a.id===e.arguments.facetFilterId){t.sPath=t.sPath.concat("/configData/0/filters/"+n);t.objectType=x.FACETFILTER;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}})}if(e.arguments.smartFilterId!==undefined){t.sPath=t.sPath.concat("/configData/0/filters/0");t.objectType=x.SMARTFILTERBAR;i.oModel.getData().aConfigDetails[o].configData[0].expanded=true}if(e.arguments.navTargetId!==undefined){i.oModel.getData().aConfigDetails[o].configData[2].navTargets.forEach(function(a,n){if(a.id===e.arguments.navTargetId){t.sPath=t.sPath.concat("/configData/2/navTargets/"+n);t.objectType=x.NAVIGATIONTARGET;i.oModel.getData().aConfigDetails[o].configData[2].expanded=true}})}}});return t},_navHandleExpandDelete:function(e,t,i){var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var o=this.oModel.getData().aConfigDetails;var n=i||this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);var r=function(e){var t;for(var i=0;i<o.length;i++){if(o[i].AnalyticalConfiguration===e){t=i;break}}return t};var s=function(e){var i=r.call(this,t.configId);var a,n;for(var s=0;s<o[i].configData.length;s++){if(o[i].configData[s].filters instanceof Array){a=s;for(var d=0;d<o[i].configData[s].filters.length;d++){if(o[i].configData[s].filters[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexFilter:n}};var d=function(e){var i=r.call(this,t.configId);var a,n;for(var s=0;s<o[i].configData.length;s++){if(o[i].configData[s].navTargets instanceof Array){a=s;for(var d=0;d<o[i].configData[s].navTargets.length;d++){if(o[i].configData[s].navTargets[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexNavTarget:n}};var l=function(e){var i=r.call(this,t.configId);var a,n;for(var s=0;s<o[i].configData.length;s++){if(o[i].configData[s].categories instanceof Array){a=s;for(var d=0;d<o[i].configData[s].categories.length;d++){if(o[i].configData[s].categories[d].id===e){n=d;break}else{n=d}}}}return{indexConfig:a,indexCategory:n}};var g=function(e){var i=r.call(this,t.configId);var a=l.call(this,t.categoryId).indexConfig;var n=l.call(this,t.categoryId).indexCategory;var s;for(var d=0;d<o[i].configData[a].categories[n].steps.length;d++){if(o[i].configData[a].categories[n].steps[d].id===e){s=d;break}else{s=d}}return s};if(t.configId.indexOf(x.ISNEWCONFIG)===0&&n){this.configurationHandler.removeConfiguration(t.configId,function(e){var i=a.oModel.getData().aConfigDetails;var o=r.call(a,t.configId);a._deleteConfigNavTargetTexts(o,i.length);i.splice(o,1);a.oModel.getData().aConfigDetails=i})}else{var f,c,u,h,C,p;switch(e.nodeObjectType){case x.CONFIGURATION:f=r.call(this,t.configId);this.oModel.getData().aConfigDetails[f].isSelected=true;this.oModel.getData().aConfigDetails[f].expanded=true;break;case x.FACETFILTER:f=r.call(this,t.configId);c=s.call(this,t.facetFilterId).indexConfig;u=s.call(this,t.facetFilterId).indexFilter;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].filters[u].expanded=true;break;case x.CATEGORY:f=r.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;h=l.call(this,t.categoryId).indexCategory;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;break;case x.STEP:f=r.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;h=l.call(this,t.categoryId).indexCategory;C=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[h].expanded=true;break;case x.REPRESENTATION:f=r.call(this,t.configId);c=l.call(this,t.categoryId).indexConfig;h=l.call(this,t.categoryId).indexCategory;C=g.call(this,t.stepId);this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[h].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].categories[h].steps[C].expanded=true;break;case x.NAVIGATIONTARGET:f=r.call(this,t.configId);c=d.call(this,t.navTargetId).indexConfig;p=d.call(this,t.navTargetId).indexNavTarget;this.oModel.getData().aConfigDetails[f].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].expanded=true;this.oModel.getData().aConfigDetails[f].configData[c].navTargets[p].expanded=true;break;default:break}}this.oModel.updateBindings()},_isNewSubView:function(e){var t=false;if(e.arguments.configId.indexOf(x.ISNEWCONFIG)===0){t=true}else{if(e.name===x.CONFIGURATION){t=this.configurationHandler.getConfiguration(e.arguments.configId)!==undefined?false:true}else if(e.name===x.CATEGORY){t=this.configEditor.getCategory(e.arguments.categoryId)!==undefined?false:true}else if(e.name===x.FACETFILTER){t=this.configEditor.getFacetFilter(e.arguments.facetFilterId)!==undefined?false:true}else if(e.name===x.STEP){t=this.configEditor.getStep(e.arguments.stepId)!==undefined?false:true}else if(e.name===x.REPRESENTATION){t=this.configEditor.getStep(e.arguments.stepId).getRepresentation(e.arguments.representationId)!==undefined?false:true}else if(e.name===x.NAVIGATIONTARGET){t=this.configEditor.getNavigationTarget(e.arguments.navTargetId)!==undefined?false:true}}return t},_getCurrentConfigurationNode:function(){var e=this.oTreeInstance.getItems();var t=this.configId;for(var i=0;i<e.length;i++){if(t===e[i]._getBindingContext().getObject().AnalyticalConfiguration){return e[i]}}return undefined},_navMandatoryResetState:function(e,t){var i=e;e.selectedNode=e.oTreeInstance.getSelectedItem();i.bIsSaved=i.configEditor?i.configEditor.isSaved():undefined;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;e.configurationHandler.memorizeConfiguration(a.getView().getViewData().oParams.arguments.configId);var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var r=a.getView().getViewData().oParams.name;var s=x;if(r!==s.REPRESENTATION){a.updateSubViewInstancesOnReset(i.configEditor)}else{a.oConfigurationEditor=i.configEditor}a.setDetailData.call(a);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}else{i.handleConfirmDeletion()}return{bIsSaved:i.bIsSaved,isNewView:o}},_navSaveState:function(e){e()},_navConfigResetState:function(e,t){var i=e;var a=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;var o=this._isNewSubView(a.getView().getViewData().oParams);if(!o){i.configurationHandler.loadConfiguration(i.configId,function(e,a){if(a===undefined){var o=typeof i.byId("idConfigDetailData").getContent()[0].getController==="function"?i.byId("idConfigDetailData").getContent()[0].getController():undefined;i.configEditor=e;i.updateTree();var n=i.selectedNode._getBindingContext().getObject();if(n){n.isSelected=true;var r=o.getView().getViewData().oParams.name;var s=x;if(r!==s.REPRESENTATION){o.updateSubViewInstancesOnReset(i.configEditor)}else{o.oConfigurationEditor=i.configEditor}o.setDetailData.call(o);i.updateTitleAndBreadCrumb()}else{i.oTreeInstance.setSelectedItem(i._getCurrentConfigurationNode())}if(typeof t==="function"){t()}}})}else{i.handleConfirmDeletion()}},_onTreeNodeSelection:function(e){this.selectedNode=this.oTreeInstance.getSelectedItem();var t=this;var i,o,n;if(!this.bProgramaticSelection){this.oPreviousSelectedNode=this.oTreeInstance.previousSelectedItem;this.bIsDifferntConfig=this.oTreeInstance.isConfigurationSwitched(this.oPreviousSelectedNode,this.selectedNode);this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);this._enableDisableExportAndExecuteButton(true);var r;if(this.byId("idConfigDetailData").getContent().length>=1){r=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var s=this.selectedNode?this.selectedNode.getId():null;var d=this.oPreviousSelectedNode?this.oPreviousSelectedNode.getId():null;var l=function(){if(t.oPreviousSelectedNode){var e=t.selectedNode.getBindingContext().getObject();e.isSelected=false;t.oModel.updateBindings()}};if(s!==d||this.bNavDeletionMode){var g=a.getInstance();var f;if(r!==undefined){f=typeof r.getValidationState==="function"?r.getValidationState.call(r):true}else{f=true}var c=this.configEditor?I({},this.configEditor):undefined;this.bIsSaved=c?c.isSaved():undefined;var u;var h=false;var C=this.configurationHandler.getList();if(!f&&C.length>0){g.throwMandatoryPopup(this,{yes:function(){var e=typeof t.byId("idConfigDetailData").getContent()[0].getController==="function"?t.byId("idConfigDetailData").getContent()[0].getController():undefined;var i=t._isNewSubView(e.getView().getViewData().oParams);if(!i){var a=function(e){t.configEditor=t.configurationHandler.restoreMemorizedConfiguration(t.oParentNodeDetails.configId);if(t.bIsSaved===false&&t.configEditor){t.configEditor.setIsUnsaved()}if(typeof e==="function"){e()}t.updateTree();var i=t.selectedNode.getBindingContext().getObject();t.navigateToDifferntView(t.oParentNodeDetails,t.oSelectedNodeDetails);i.isSelected=true;t.oModel.updateBindings()};if(t.bIsSaved===false&&t.bIsDifferntConfig){u(false,function(){a.call(t)})}else{a.call(t)}}else{if(t.bIsSaved===false&&t.bIsDifferntConfig){u(false,function(){var e=t.selectedNode.getBindingContext().sPath;var i=t.oPreviousSelectedNode;t.handleConfirmDeletion(i,e)})}else{var o=t.selectedNode.getBindingContext().sPath;var n=t.oPreviousSelectedNode;t.handleConfirmDeletion(n,o)}}t._navHandleExpandDelete.call(t,t.oSelectedNodeDetails,t.oParentNodeDetails)},no:function(){l()}});h=true}u=function(e){if(r){t.configurationHandler.memorizeConfiguration(r.getView().getViewData().oParams.arguments.configId)}g.throwLossOfDataPopup(t,{yes:function(a){if(typeof e==="function"){e(function(){a(function(){var e;if(t.oPreviousSelectedNode){var i=t.oPreviousSelectedNode._getBindingContext().sPath;var a=i.split("/");e=a[2]}t.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=t.configId})})}else{if(t.oPreviousSelectedNode){i=t.oTreeInstance.getAPFTreeNodeContext(t.oPreviousSelectedNode);o=t.oTreeInstance.getParentNodeContext(i);n=t.configurationHandler.restoreMemorizedConfiguration(o.configId);if(n){t.configEditor=n}}a(function(){var e;if(t.oPreviousSelectedNode){var i=t.oPreviousSelectedNode._getBindingContext().sPath;var a=i.split("/");e=a[2]}t.oModel.getData().aConfigDetails[e].AnalyticalConfiguration=t.configId;var o=t.selectedNode._getBindingContext().getObject();t.navigateToDifferntView(t.oParentNodeDetails,t.oSelectedNodeDetails);o.isSelected=true;t.oModel.updateBindings()})}},no:function(){t.configurationHandler.loadConfiguration(t.configId,function(e,i){if(i===undefined){t.configEditor=e;if(t.configId.indexOf(x.ISNEWCONFIG)===0){t._navHandleExpandDelete.call(t,{},{configId:t.configId},t.oParentNodeDetails)}else{t.updateTree()}t.navigateToDifferntView(t.oParentNodeDetails,t.oSelectedNodeDetails);t._navHandleExpandDelete.call(t,t.oSelectedNodeDetails,t.oParentNodeDetails)}})},cancel:function(){l()}})};if(t.bIsSaved===false&&t.bIsDifferntConfig&&f){u();h=true}if(!h){if(this.oPreviousSelectedNode&&this.oPreviousSelectedNode.getId()!==this.selectedNode.getId()){var p=this.oPreviousSelectedNode.getBindingContext().getObject();if(p){this.oPreviousSelectedNode.getBindingContext().getObject().isSelected=false}}else{this.selectedNode.getBindingContext().getObject().isSelected=true}this.navigateToDifferntView(this.oParentNodeDetails,this.oSelectedNodeDetails,this.bIsSaved,this.bIsDifferntConfig)}this.oTreeInstance.previousSelectedItem=this.oTreeInstance.getSelectedItem()}}this.bProgramaticSelection=false;this.bNavDeletionMode=false},navigateToDifferntView:function(e,t,i,a){if(!v(e)&&(i===undefined||i)||!a){g.getRouterFor(this).navTo(t.nodeObjectType,e,true)}},_deleteConfigNavTargetTexts:function(e,t){var i=this;var a;for(var o=e;o<t-1;o++){this.modelUpdateDeferred[o]=this.modelUpdateDeferred[o+1]}delete this.modelUpdateDeferred[t-1];if(this.navTargetTextsTable){if(this.navTargetTextsTable[e]){delete this.navTargetTextsTable[e]}if(e!==t-1){Object.keys(this.navTargetTextsTable).forEach(function(t){t=parseInt(t,10);if(t>e){i.navTargetTextsTable[t-1]=i.navTargetTextsTable[t];a=t}});if(a!==undefined){delete this.navTargetTextsTable[a]}}}},handleConfirmDeletion:function(e,t){var i=e===undefined||typeof e.preventDefault==="function"?this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()):this.oTreeInstance.getAPFTreeNodeContext(e);var a=this;this.selectedNode=this.oTreeInstance.getSelectedItem();var o,n,s,d,l,f,c,u,h,C;l=i.nodeContext;d=l.split("/");f=d[2];switch(i.nodeObjectType){case x.FACETFILTER:this.configEditor.removeFacetFilter(i.nodeAPFId);c=d[6];var p=this.oModel.getData().aConfigDetails[f].configData[0].filters;p.splice(c,1);this.oModel.getData().aConfigDetails[f].configData[0].filters=p;s=d.slice(0,3);n=s.join("/");break;case x.CATEGORY:this.configEditor.removeCategory(i.nodeAPFId);u=d[6];var D=this.oModel.getData().aConfigDetails[f].configData[1].categories;D.splice(u,1);this.oModel.getData().aConfigDetails[f].configData[1].categories=D;s=d.slice(0,3);n=s.join("/");break;case x.NAVIGATIONTARGET:this.configEditor.removeNavigationTarget(i.nodeAPFId);h=d[6];var I=this.oModel.getData().aConfigDetails[f].configData[2].navTargets;I.splice(h,1);this.oModel.getData().aConfigDetails[f].configData[2].navTargets=I;s=d.slice(0,3);n=s.join("/");break;case x.STEP:var T=this.configEditor.getCategoriesForStep(i.nodeAPFId);var v=i.nodeContext.split("/");f=v[2];T.forEach(function(e){a.configEditor.removeCategoryStepAssignment(e,i.nodeAPFId);a.oModel.getData().aConfigDetails[f].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===i.nodeAPFId){var n=a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps;n.splice(t,1);a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps=n}})}})});s=d.slice(0,7);n=s.join("/");break;case x.REPRESENTATION:u=d[6];C=d[8];var b=this.oModel.getData().aConfigDetails[f].configData[1].categories[u].steps[C].id;var m=this.configEditor.getStep(b);var N=this.configEditor.getCategoriesForStep(b);m.removeRepresentation(i.nodeAPFId);N.forEach(function(e){a.oModel.getData().aConfigDetails[f].configData[1].categories.forEach(function(t,o){if(t.id===e){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps.forEach(function(e,t){if(e.id===b){a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations.forEach(function(e,n){if(e.id===i.nodeAPFId){var r=a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations;r.splice(n,1);a.oModel.getData().aConfigDetails[f].configData[1].categories[o].steps[t].representations=r}})}})}})});s=d.slice(0,9);n=s.join("/");break;case x.CONFIGURATION:var y=false;if(i.nodeAPFId.indexOf("newConfig")===0){y=true}if(!y){this.configurationHandler.removeConfiguration(i.nodeAPFId,function(e){var i;var o=a.oModel.getData().aConfigDetails;a._deleteConfigNavTargetTexts(parseInt(f,10),o.length);var n=a.configurationHandler.getList().length>0?true:false;o.splice(f,1);a.oModel.getData().aConfigDetails=o;a.oModel.updateBindings();if(t){var s=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));g.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,s,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();if(n){i=(new r).addStyleClass("noConfigSelected");i.setText(a.oCoreApi.getText("noConfigSelected"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{i=(new r).addStyleClass("addNewConfig");i.setText(a.oCoreApi.getText("addNewConfig"));i.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}})}else{var S;var A=a.oModel.getData().aConfigDetails;A.splice(f,1);a.oModel.getData().aConfigDetails=A;a.oModel.updateBindings();if(t){var E=a.oTreeInstance.getParentNodeContext(a.oTreeInstance.getAPFTreeNodeContext(a.selectedNode));g.getRouterFor(a).navTo(a.selectedNode._getBindingContext().getObject().type,E,true)}else{a.clearTitleAndBreadCrumb();a.byId("idConfigDetailData").removeAllContent();var P=this.configurationHandler.getList().length>0?true:false;if(P){S=(new r).addStyleClass("noConfigSelected");S.setText(a.oCoreApi.getText("noConfigSelected"));S.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}else{S=(new r).addStyleClass("addNewConfig");S.setText(a.oCoreApi.getText("addNewConfig"));S.placeAt(a.byId("idConfigDetailData"));a.toolbarController.disableCopyDeleteButton();a._enableDisableExportAndExecuteButton(false)}}}break;default:break}if(t){this.bNavDeletionMode=true}if(i.nodeObjectType!==x.CONFIGURATION){this.configEditor.setIsUnsaved();this.clearTitleAndBreadCrumb();this.byId("idConfigDetailData").removeAllContent();n=t||n;o=this.oTreeInstance.getModel().getContext(n);this.oModel.updateBindings();this.selectedNode=this.oTreeInstance.getItemNodeByContextWithoutExpand(o.sPath);this.bProgramaticSelection=false;this.oTreeInstance.setSelectedItem(this.selectedNode);if(t){this.selectedNode.getBindingContext().getObject().isSelected=true;this.oModel.updateBindings()}}var M=this.toolbarController.confirmationDialog===undefined?false:this.toolbarController.confirmationDialog.isOpen;if(M&&!t){this.toolbarController.confirmationDialog.close()}},handleNavBack:function(){var e;var t=this;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}this.selectedNode=this.oTreeInstance.getSelectedItem();this.oSelectedNodeDetails=this.oTreeInstance.getAPFTreeNodeContext(this.selectedNode);this.oParentNodeDetails=this.oTreeInstance.getParentNodeContext(this.oSelectedNodeDetails);var i=a.getInstance();var o;if(e!==undefined){o=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{o=true}this.bIsSaved=this.configEditor?this.configEditor.isSaved():undefined;var n=t.configurationHandler.getList().length>0?true:false;var r=function(e){if(this.selectedNode){this.selectedNode=null}this.oModel=new C({aConfigDetails:[]});this.getView().setModel(this.oModel);this.configEditor=undefined;this.navTargetTextsTable={};window.history.go(-1)};if(n){var s=t.bIsSaved===undefined?true:t.bIsSaved;if(!o){i.throwMandatoryPopup(t,{yes:function(){t.configEditor=t.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(t.bIsSaved===false&&t.configEditor){t.configEditor.setIsUnsaved()}var a=t._navMandatoryResetState(t);var o=t.configurationHandler.getList();if(a.bIsSaved===false&&o.length>0){i.throwLossOfDataPopup(t,{yes:function(e){e();r.call(t)},no:function(){if(t.configId.indexOf(x.ISNEWCONFIG)===0){t._navHandleExpandDelete.call(t,{},{configId:t.configId},t.oParentNodeDetails)}r.call(t)}})}else{r.call(t)}}});return}else if(!s&&o){i.throwLossOfDataPopup(t,{yes:function(e){e();r.call(t)},no:function(){t.configurationHandler.resetConfiguration(t.configId);if(t.configId.indexOf(x.ISNEWCONFIG)===0){t._navHandleExpandDelete.call(t,{},{configId:t.configId},t.oParentNodeDetails)}r.call(t)}});return}}r.call(t)},handleSavePress:function(){var e,t;var i=this;this.selectedNode=this.oTreeInstance.getSelectedItems();if(this.selectedNode){var o=this.selectedNode[0].getBindingContext().sPath;var n=o.split("/");t=n[2]}if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var r=function(){var i=this;var a;i.configEditor.save(function(o,n,r){if(r===undefined){i.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId);i.oModel.getData().aConfigDetails[t].AnalyticalConfiguration=o;i.oModel.updateBindings();i.oSelectedNodeDetails=i.oTreeInstance.getAPFTreeNodeContext(i.selectedNode[0]);i.oParentNodeDetails=i.oTreeInstance.getParentNodeContext(i.oSelectedNodeDetails);i.navigateToDifferntView(i.oParentNodeDetails,i.oSelectedNodeDetails,true,false);a=i.oCoreApi.createMessageObject({code:"11513"});i.oCoreApi.putMessage(a)}else{a=i.oCoreApi.createMessageObject({code:"11514"});i.oCoreApi.putMessage(a)}})};var s=a.getInstance();var d;if(e!==undefined){d=typeof e.getValidationState==="function"?e.getValidationState.call(e):true}else{d=true}var l=this.configEditor?I({},this.configEditor):undefined;this.bIsSaved=l?l.isSaved():undefined;var g=false;if(!d){s.throwMandatoryPopup(i,{yes:function(){i.configEditor=i.configurationHandler.restoreMemorizedConfiguration(e.getView().getViewData().oParams.arguments.configId);if(i.bIsSaved===false&&i.configEditor){i.configEditor.setIsUnsaved()}i._navMandatoryResetState(i);r.call(i)}});g=true}if(!g){r.call(this);this.toolbarController.closeDialog()}},_handleExportButtonPress:function(){var e;if(this.byId("idConfigDetailData").getContent().length>=1){e=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}var t=function(){if(!this.exportConfigurationDialog){d.load({id:"idExportConfigurationFragment",name:"sap.apf.modeler.ui.fragment.exportConfiguration",controller:this}).then(function(t){this.exportConfigurationDialog=t;this.getView().addDependent(this.exportConfigurationDialog);this._setExportConfigDialogText();this._addStyleClassForExportDialog();this.configurationHandler.memorizeConfiguration(e.getView().getViewData().oParams.arguments.configId);b("sapUiSizeCompact",this.getView(),this.exportConfigurationDialog);this.exportConfigurationDialog.open()}.bind(this))}else{b("sapUiSizeCompact",this.getView(),this.exportConfigurationDialog);this.exportConfigurationDialog.open()}};this._performExportOrExecute(t.bind(this))},handlePublishPress:function(){if(this.oCoreApi.isUsingCloudFoundryProxy()){D.showShareDialog(this.oCoreApi,this)}},_enableDisableExportAndExecuteButton:function(e){this.byId("idExportbutton").setEnabled(e);this.byId("idExecuteButton").setEnabled(e);this.byId("idPublishbutton").setEnabled(e)},_setExportConfigDialogText:function(){d.byId("idExportConfigurationFragment","idExportConfigDialog").setTitle(this.oCoreApi.getText("exportConfig"));d.byId("idExportConfigurationFragment","idDownloadConfig").setText(this.oCoreApi.getText("downloadConfig"));d.byId("idExportConfigurationFragment","idDownloadTextProperty").setText(this.oCoreApi.getText("downloadTextProperty"));d.byId("idExportConfigurationFragment","idCloseButton").setText(this.oCoreApi.getText("close"))},_addStyleClassForExportDialog:function(){d.byId("idExportConfigurationFragment","idDownloadConfig").addStyleClass("configLink");d.byId("idExportConfigurationFragment","idDownloadTextProperty").addStyleClass("textPropertyLink")},_handleCloseOfExportDialog:function(){if(this.exportConfigurationDialog.isOpen()){this.exportConfigurationDialog.close()}},_handleOpenConfigLinkPress:function(){this.configurationHandler.exportConfiguration(this.configId,function(e,t){h.save(e,t,"json","application/json","utf-8")})},_handleOpenTextsLinkPress:function(){var e=this.configurationHandler.getConfiguration(this.configId).AnalyticalConfigurationName;var t=this.configurationHandler.exportTexts(this.configId);h.save(t,e,"properties","text/plain","utf-8")},_performExportOrExecute:function(e){var t,i,o,n,s,d,l,g;var f=false;var c=true;var u=this;u.selectedNode=u.oTreeInstance.getSelectedItem();u.oSelectedNodeDetails=u.oTreeInstance.getAPFTreeNodeContext(u.selectedNode);u.oParentNodeDetails=u.oTreeInstance.getParentNodeContext(u.oSelectedNodeDetails);var h=a.getInstance();if(this.byId("idConfigDetailData").getContent().length>=1){t=typeof this.byId("idConfigDetailData").getContent()[0].getController==="function"?this.byId("idConfigDetailData").getContent()[0].getController():undefined}if(t!==undefined){c=typeof t.getValidationState==="function"?t.getValidationState.call(t):true}var C=this.configEditor?I({},this.configEditor):undefined;this.bIsSaved=C?C.isSaved():undefined;var p=function(e){u.byId("idConfigDetailData").removeAllContent();if(e){l=(new r).addStyleClass("noConfigSelected");l.setText(u.oCoreApi.getText("noConfigSelected"))}else{l=(new r).addStyleClass("addNewConfig");l.setText(u.oCoreApi.getText("addNewConfig"))}l.placeAt(u.byId("idConfigDetailData"));u.toolbarController.disableCopyDeleteButton();u._enableDisableExportAndExecuteButton(false)};if(!c){h.throwMandatoryPopup(u,{yes:function(){u.configEditor=u.configurationHandler.restoreMemorizedConfiguration(t.getView().getViewData().oParams.arguments.configId);if(u.bIsSaved===false&&u.configEditor){u.configEditor.setIsUnsaved()}o=u._navMandatoryResetState(u);n=u.configurationHandler.getList().length>0?true:false;if(n){if(o.bIsSaved===false){i()}else{if(u.oParentNodeDetails.configId.indexOf("newConfig")!==0){e()}}}else{p(n)}}});f=true}i=function(){h.throwLossOfDataPopup(u,{yes:function(t){u._navSaveState(function(){t(function(t){if(u.selectedNode){s=u.selectedNode._getBindingContext().sPath;g=s.split("/");d=g[2]}u.oModel.getData().aConfigDetails[d].AnalyticalConfiguration=u.configId;u.oModel.updateBindings();e()})})},no:function(){if(u.configId.indexOf(x.ISNEWCONFIG)===0){u._navHandleExpandDelete.call(u,{},{configId:u.configId},u.oParentNodeDetails);u.clearTitleAndBreadCrumb();u.byId("idConfigDetailData").removeAllContent();n=u.configurationHandler.getList().length>0?true:false;p(n)}else{u._navConfigResetState(u,function(){u._navHandleExpandDelete.call(u,u.oSelectedNodeDetails,u.oParentNodeDetails);e()})}}})};if(u.bIsSaved===false&&c){i();f=true}if(!f){e()}},handleExecuteButtonPress:function(){var e=this.oTreeInstance.getSelectedItem();var t=function(){var t=this.oTreeInstance.getAPFTreeNodeContext(e);var i=this.oTreeInstance.getParentNodeContext(t);this.oCoreApi.navigateToGenericRuntime(i.appId,i.configId,p);this.configurationHandler.memorizeConfiguration(i.configId)};this._performExportOrExecute(t.bind(this))},getStepConfigDataBysPath:function(e){var t=e.split("/");var i=t[2],a=t[4],o=t[6],n=t[8];var r=this.oModel.getData().aConfigDetails[i].configData[a].categories[o].steps[n];return r}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/cornerTexts", ["sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/core/mvc/Controller"],function(e,t){"use strict";var o,r,a,n;function i(e){e.byId("idThumbnailTexts").setText(r("cornerTextLabel"));e.byId("idLeftUpper").setPlaceholder(r("leftTop"));e.byId("idRightUpper").setPlaceholder(r("rightTop"));e.byId("idLeftLower").setPlaceholder(r("leftBottom"));e.byId("idRightLower").setPlaceholder(r("rightBottom"))}function s(e){var t=e.byId("idLeftUpper").getCustomData()[1].getValue();var r=e.getLeftUpperCornerText(t,a,o.oParentStep);e.byId("idLeftUpper").setValue(r)}function u(e){var t=e.byId("idRightUpper").getCustomData()[1].getValue();var r=e.getRightUpperCornerText(t,a,o.oParentStep);e.byId("idRightUpper").setValue(r)}function g(e){var t=e.byId("idLeftLower").getCustomData()[1].getValue();var r=e.getLeftLowerCornerText(t,a,o.oParentStep);e.byId("idLeftLower").setValue(r)}function l(e){var t=e.byId("idRightLower").getCustomData()[1].getValue();var r=e.getRightLowerCornerText(t,a,o.oParentStep);e.byId("idRightLower").setValue(r)}var d=t.extend("sap.apf.modeler.ui.controller.cornerTexts",{oTextPool:{},onInit:function(){var e=this;o=e.getView().getViewData();n=o.oConfigurationEditor;r=o.oTextReader;a=o.oParentObject;e.oTextPool=o.oTextPool;i(e);e.setDetailData()},setDetailData:function(){var e=this;s(e);u(e);g(e);l(e);e.setChartIcon();e.addStyleClasses()},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},handleChangeForCornerText:function(e){var t=this;var o=e.getSource().getCustomData()[0].getValue();t.oTextPool.setTextAsPromise(e.getSource().getValue().trim(),t.getTranslationFormatMap()).done(function(e){a[o](e);n.setIsUnsaved()})},handleSuggestions:function(t){var o=this;var r=new e.SuggestionTextHandler(o.oTextPool);r.manageSuggestionTexts(t,o.getTranslationFormatMap())},setChartIcon:function(){},addStyleClasses:function(){},getTranslationFormatMap:function(){},getLeftUpperCornerText:function(e){},getRightUpperCornerText:function(e){},getLeftLowerCornerText:function(e){},getRightLowerCornerText:function(e){}});return d},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/editApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/mvc/Controller"],function(e,t){"use strict";function i(e){var t=e.coreApi.getText;e.byId("idEditAppDialog").setTitle(t("editApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}var a=t.extend("sap.apf.modeler.ui.controller.editApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().parentControl;this.coreApi=e.getView().getViewData().coreApi;this.applicationData=e.getView().getViewData().applicationData;e.byId("idDescriptionInput").setValue(this.applicationData.description);if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue(this.applicationData.semanticObject)}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}i(e);e.byId("idEditAppDialog").open()},handleAppDescriptionLiveChange:function(t){var i=t.getParameters().value;if(i!==this.applicationData.description&&e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(true)}else if(!e.checkIsNotNullOrUndefinedOrBlank(i)){this.byId("idSaveButton").setEnabled(false)}},handleSemanticObjectLiveChange:function(t){var i=t.getParameters().value;var a=this.byId("idDescriptionInput").getValue().trim();if(i!==this.applicationData.semanticObject&&e.checkIsNotNullOrUndefinedOrBlank(a)){this.byId("idSaveButton").setEnabled(true);this.byId("idSaveButton").setType("Emphasized")}},handleSavePress:function(){var t=this;var i={};i.ApplicationName=t.byId("idDescriptionInput").getValue().trim();i.SemanticObject=t.byId("idSemanticObjectInput").getValue().trim();i.Application=t.applicationData.id;this.coreApi.getApplicationHandler(function(a,n){if(a&&!e.checkIsNotUndefined(n)){a.setAndSave(i,function(i,a,s){if(!e.checkIsNotUndefined(s)&&typeof i==="string"){t.parentControl.fireEvent("updateAppListEvent",{appId:i})}else{t.showMessage("11500",n)}},t.applicationData.id)}else{t.showMessage("11509",n)}});t.byId("idEditAppDialog").close()},handleCancelPress:function(){this.byId("idEditAppDialog").close()},handleAfterClose:function(){this.getView().destroy()},showMessage:function(e,t){var i=this.coreApi.createMessageObject({code:e});if(t){i.setPrevious(t)}this.coreApi.putMessage(i)}});return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilter.controller", ["sap/apf/modeler/ui/controller/facetFilterVHR.controller","sap/apf/modeler/ui/controller/facetFilterFRR.controller","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/viewValidator","sap/apf/utils/utils","sap/m/Token","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,t,i,l,n,a,o,s,d,r,u,c,f,I){"use strict";var b=u.ValueState;var V=i.events.facetFilter;var g,y,F,S,p,v,R;var h=o.TranslationFormatMap.FACETFILTER_LABEL;function P(e){e.byId("idFacetFilterBasicData").setText(y("basicData"));e.byId("idFFLabel").setText(y("ffLabel"));e.byId("idLabel").setPlaceholder(y("newFacetFilter"));e.byId("idFFPropertyLabel").setText(y("ffProperty"));e.byId("idDoNotShowAtRuntimeLabel").setText(y("doNotShowAtRuntime"));e.byId("idSelectionModeLabel").setText(y("ffSelectionMode"));e.byId("idValueHelpLabel").setText(y("valueHelpMode"));e.byId("idVHNone").setText(y("none"));e.byId("idValueHelpRequest").setText(y("valueHelpRequest"));e.byId("idConfigListOfValues").setText(y("configListOfValues"));e.byId("idConfigListOfValuesLabel").setText(y("configListOfValuesLabel"));e.byId("idSingleSelectionMode").setText(y("singleSelection"));e.byId("idMultiSelectionMode").setText(y("multipleSelection"));e.byId("idDefaultValuesTitle").setText(y("vhDefaultValues"));e.byId("idPreselectionModeLabel").setText(y("vhDefaultValueMode"));e.byId("idNoneSelection").setText(y("none"));e.byId("idAutomaticSelection").setText(y("automaticValue"));e.byId("idFixedValue").setText(y("fixedValues"));e.byId("idFunction").setText(y("function"));e.byId("idPreselectionDefaultsLabel").setText(y("vhDefaultValues"));e.byId("idPreselectionFunctionLabel").setText(y("function"));e.byId("idValueHelpTitle").setText(y("valueHelp"));e.byId("idFilterResolutionTitle").setText(y("contextResolution"));e.byId("idUseVHRAsFRRCheckBoxLabel").setText(y("vhCheckBoxLabel"));e.byId("idAriaPropertyForSelection").setText(y("ffSelectionMode"));e.byId("idAriaPropertyForDefaultMode").setText(y("vhDefaultValueMode"));e.byId("idAriaPropertyForVHR").setText(y("valueHelpMode"))}function T(e,t){var i=v.isVisible()?"sap-icon://filter":"sap-icon://hide";var l={id:v.getId(),icon:i};if(t){delete l.icon;l.name=t}e.getView().getViewData().updateSelectedNode(l)}function m(e,t){var i=y("facetFilter")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i)}function C(e){var t;if(g&&g.arguments&&g.arguments.facetFilterId){v=S.getFacetFilter(g.arguments.facetFilterId);L(v)}if(!l.checkIsNotUndefined(v)){t=S.createFacetFilter();v=S.getFacetFilter(t);T(e);L(v)}}function L(e){true}async function E(l){var n={oTextReader:y,oConfigurationHandler:F,oConfigurationEditor:S,oParentObject:v,getCalatogServiceUri:l.getView().getViewData().getCalatogServiceUri,oCoreApi:l.getView().getViewData().oCoreApi};const[a,o]=await Promise.all([f.create({viewName:"sap.apf.modeler.ui.view.requestOptions",type:I.XML,id:l.createId("idVHRView"),viewData:n,controller:new e}),f.create({viewName:"sap.apf.modeler.ui.view.requestOptions",type:I.XML,id:l.createId("idFRRView"),viewData:n,controller:new t})]);a.attachEvent(V.UPDATEPROPERTIES,l.setFFProperty.bind(l));o.attachEvent(V.UPDATEPROPERTIES,l.setFFProperty.bind(l));l.getView().attachEvent(V.USESAMEASVHR,o.getController().handleCopy.bind(o.getController()));l.getView().attachEvent(V.ENABLEDISABLEFRRFIELDS,o.getController().enableOrDisableView.bind(o.getController()));a.attachEvent(V.USESAMEASVHR,o.getController().handleCopy.bind(o.getController()));l.getView().attachEvent(i.events.UPDATESUBVIEWINSTANCESONRESET,a.getController().updateSubViewInstancesOnReset.bind(a.getController()));l.getView().attachEvent(i.events.UPDATESUBVIEWINSTANCESONRESET,o.getController().updateSubViewInstancesOnReset.bind(o.getController()));l.getView().attachEvent(V.DONOTSHOWATRUNTIME,a.getController().clearVHRFields.bind(a.getController()));l.getView().attachEvent(V.CLEARVHRFIELDSIFVALUELIST,a.getController().clearVHRFields.bind(a.getController()));l.getView().attachEvent(V.DONOTSHOWATRUNTIME,o.getController().clearFRRFields.bind(o.getController()));a.addStyleClass("formTopPadding");a.addStyleClass("formBottomPadding");o.addStyleClass("formTopPadding")}function D(e,t){e.byId("idSelectionMode").setVisible(t);e.byId("idSelectionModeLabel").setVisible(t);e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"));e.byId("idValueHelp").setVisible(t);e.byId("idValueHelpLabel").setVisible(t);e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"));e.byId("idFFForm1").setVisible(t);if(t){e.byId("idValueHelpTitle").setText(y("valueHelp"));e.byId("idFRRVBox").insertItem(e.byId("idFRRView"));e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(false)}else{e.byId("idValueHelpTitle").setText("");G(e,t);U(e,t);e.byId("idFRRVBox").removeItem(e.byId("idFRRView"))}}function A(e){if(!v.isVisible()){e.byId("idDoNotShowAtRuntimeCheckBox").setSelected(true)}D(e,v.isVisible())}function O(e){if(!l.checkIsNotNullOrUndefinedOrBlank(S.getFacetFilter(g.arguments.facetFilterId))){return}if(l.checkIsNotNullOrUndefinedOrBlank(v.getLabelKey())&&p.get(v.getLabelKey())){e.byId("idLabel").setValue(p.get(v.getLabelKey()).TextElementDescription)}else{e.byId("idLabel").setValue(v.getId())}}function x(e){if(!l.checkIsNotNullOrUndefinedOrBlank(S.getFacetFilter(g.arguments.facetFilterId))){v.setMultiSelection(true)}if(v.isMultiSelection()){e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idMultiSelectionMode"))}else{e.byId("idSelectionModeRadioGroup").setSelectedButton(e.byId("idSingleSelectionMode"))}}function N(e){e.byId("idPreselectionFunction").setValue("");if(l.checkIsNotNullOrUndefinedOrBlank(v.getPreselectionFunction())){e.byId("idPreselectionFunction").setValue(v.getPreselectionFunction())}}function w(e){var t=false,i=false;if(v.getNoneSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idNoneSelection"))}else if(l.checkIsNotNullOrUndefinedOrBlank(v.getPreselectionFunction())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFunction"));N(e);t=true}else if(l.checkIsNotNullOrUndefinedOrBlank(v.getPreselectionDefaults())){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idFixedValue"));M(e);i=true}else if(v.getAutomaticSelection()){e.byId("idPreselectionModeRadioGroup").setSelectedButton(e.byId("idAutomaticSelection"))}k(e,t);B(e,i)}function k(e,t){e.byId("idPreselectionFunctionLabel").setVisible(t);e.byId("idPreselectionFunction").setVisible(t);if(t){R.addField("idPreselectionFunction")}else{e.byId("idPreselectionFunction").setValue("");R.removeField("idPreselectionFunction")}}function B(e,t){e.byId("idPreselectionDefaultsLabel").setVisible(t);e.byId("idPreselectionDefaults").setVisible(t);if(t){R.addField("idPreselectionDefaults")}else{R.removeField("idPreselectionDefaults")}}function M(e){e.byId("idPreselectionDefaults").setTokens([]);var t=v.getPreselectionDefaults();if(l.checkIsNotNullOrUndefinedOrBlank(t)){t.forEach(function(t){e.byId("idPreselectionDefaults").addToken(new r({text:t}))})}}function H(e){e.byId("idConfigListOfValuesMultiInput").setTokens([]);var t=v.getValueList();if(l.checkIsNotNullOrUndefinedOrBlank(t)){t.forEach(function(t){e.byId("idConfigListOfValuesMultiInput").addToken(new r({text:t}))})}}function U(e,t){e.byId("idConfigListOfValuesLabel").setVisible(t);e.byId("idConfigListOfValuesMultiInput").setVisible(t);if(t){R.addField("idConfigListOfValuesMultiInput")}else{R.removeField("idConfigListOfValuesMultiInput")}}function G(e,t){e.getView().fireEvent(V.ENABLEDISABLEFRRFIELDS);K(e,t);if(t){e.byId("idVHRVBox").insertItem(e.byId("idVHRView"))}else{e.getView().fireEvent(V.CLEARVHRFIELDSIFVALUELIST);e.byId("idVHRVBox").removeItem(e.byId("idVHRView"))}}function q(e){if(v.getUseSameRequestForValueHelpAndFilterResolution()){e.byId("idUseVHRAsFRRCheckBox").setSelected(true);e.getView().fireEvent(V.ENABLEDISABLEFRRFIELDS)}}function W(e){var t=false,i=false;if(l.checkIsNotNullOrUndefinedOrBlank(v.getServiceOfValueHelp())){t=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idValueHelpRequest"))}else if(l.checkIsNotNullOrUndefinedOrBlank(v.getValueList())){H(e);i=true;e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idConfigListOfValues"))}else{e.byId("idValueHelpRadioGroup").setSelectedButton(e.byId("idVHNone"))}U(e,i);G(e,t)}function K(e,t){if(t===false){e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}e.byId("idUseVHRAsFRRCheckBox").setVisible(t);e.byId("idUseVHRAsFRRCheckBoxLabel").setVisible(t)}function j(e,t){t.byId("idPreselectionDefaults").setValueState(b.Warning);t.byId("idPreselectionDefaults").setValueStateText(y(e));t.byId("idPreselectionDefaults").focus()}function _(e,t){var i=new r({text:e});t.addToken(i);S.setIsUnsaved()}function X(e,t){if(e.mEventRegistry.tokenChange===undefined){e.attachTokenChange(t)}}return c.extend("sap.apf.modeler.ui.controller.facetFilter",{onInit:function(){this._pOnInit=this.onInitAsync()},whenInitialized:function(){return Promise.resolve(this._pOnInit)},onInitAsync:async function(){var e=this;var t=e.getView().getViewData();y=t.getText;g=t.oParams;F=t.oConfigurationHandler;p=F.getTextPool();S=t.oConfigurationEditor;if(!S){F.loadConfiguration(g.arguments.configId,function(e){S=e})}R=new s(e.getView());P(e);C(e);await E(e);e.setDetailData();R.addFields(["idFFProperty","idLabel"])},onAfterRendering:function(){var e=this;if(e.byId("idLabel").getValue().length===0){e.byId("idLabel").focus()}X(e.byId("idConfigListOfValuesMultiInput"),e.handleTokenChangeForConfigListOfValues.bind(e));X(e.byId("idPreselectionDefaults"),e.handleTokenChangeForPreselectionDefaults.bind(e))},setDetailData:function(){var e=this;A(e);e.setFFProperty();O(e);x(e);w(e);W(e);q(e)},updateSubViewInstancesOnReset:function(e){var t=this;S=e;v=S.getFacetFilter(v.getId());t.getView().fireEvent(i.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:S,oParentObject:v})},validateSelectedValues:function(e,t,i){var l={},n=[],o=[],s=[],r=[],u;l=d.validateSelectedValues(t,i);n=l.invalid;o=l.valid;s=a.addPrefixText(n,y);r=s.concat(i).length!==0?s.concat(i):i;u=s.concat(o).length!==0?s.concat(o):t;return{aValues:r,aSelectedValues:u}},setFFProperty:function(){var e=this;var t=[],i,a;S.getFilterablePropertiesAndParametersAsPromise().done(function(o){t=o;a=v.getProperty();if(l.checkIsNotNullOrUndefinedOrBlank(a)){i=e.validateSelectedValues(e,[a],t);t=i.aValues;a=i.aSelectedValues[0]}var s=n.convert(t);e.byId("idFFProperty").setModel(s);e.byId("idFFProperty").setSelectedKey(a)})},handleChangeForVisibilityAtRuntime:function(){var e=this,t=true;if(e.byId("idDoNotShowAtRuntimeCheckBox").getSelected()){t=false;v.setInvisible();v.setUseSameRequestForValueHelpAndFilterResolution(false);e.getView().fireEvent(V.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(V.DONOTSHOWATRUNTIME);v.setValueList([]);H(e)}else{v.setVisible()}v.setMultiSelection(true);S.setIsUnsaved();T(e);D(e,t)},handleChangeForProperty:function(){var e=this;var t=e.byId("idFFProperty").getSelectedKey().trim();t=a.removePrefixText(t,y(i.texts.NOTAVAILABLE));if(l.checkIsNotNullOrUndefinedOrBlank(t)){v.setProperty(t)}S.setIsUnsaved()},handleChangeForLabel:function(){var e=this;var t=e.byId("idLabel").getValue().trim();if(l.checkIsNotNullOrUndefinedOrBlank(t)){p.setTextAsPromise(t,h).done(function(i){v.setLabelKey(i);T(e,t);m(e,t);S.setIsUnsaved()})}else{S.setIsUnsaved()}},handleSuggestions:function(e){var t=new o.SuggestionTextHandler(p);t.manageSuggestionTexts(e,h)},handleChangeForSelectionMode:function(){var e=this,t,i;var l=e.byId("idSelectionModeRadioGroup").getSelectedButton();if(l===e.byId("idSingleSelectionMode")){v.setMultiSelection(false);if(e.byId("idPreselectionDefaultsLabel").getVisible()){t=v.getPreselectionDefaults();if(t&&t.length>1){v.setPreselectionDefaults([t[0]]);i=new r({text:t[0]});e.byId("idPreselectionDefaults").setTokens([i]);j("singleToMultipleSelectionWarningMessage",e)}}}else{e.byId("idPreselectionDefaults").setValueState(b.None);v.setMultiSelection(true)}S.setIsUnsaved()},handleChangeForPreselectionMode:function(){var e=this,t=false,i=false,l=false,n=false;switch(e.byId("idPreselectionModeRadioGroup").getSelectedButton()){case e.byId("idAutomaticSelection"):t=true;break;case e.byId("idFunction"):i=true;v.removePreselectionDefaults();break;case e.byId("idFixedValue"):l=true;v.removePreselectionFunction();break;default:n=true}v.setAutomaticSelection(t);v.setNoneSelection(n);M(e);N(e);B(e,l);k(e,i);S.setIsUnsaved()},handleChangeForPreselectionDefaults:function(e){var t=this;t.byId("idPreselectionDefaults").setValue("");t.byId("idPreselectionDefaults").setValueState(b.None);if(!v.isMultiSelection()){if(t.byId("idPreselectionDefaults").getTokens().length<1){t.byId("idPreselectionDefaults").setValueState(b.None);_(e.getParameter("value"),t.byId("idPreselectionDefaults"))}else{j("singleSelectionWarningMessage",t)}}else{_(e.getParameter("value"),t.byId("idPreselectionDefaults"))}},handleTokenChangeForPreselectionDefaults:function(e){var t=this;var i,l=[];var n=t.byId("idPreselectionDefaults").getTokens();t.byId("idPreselectionDefaults").setValueState(b.None);if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<n.length;i++){l[i]=n[i].getText()}if(v.isMultiSelection()){v.setPreselectionDefaults(l)}else{v.setPreselectionDefaults([l[0]])}if(e.getParameters().type==="removed"){S.setIsUnsaved()}}},handleChangeForPreselectionFunction:function(){var e=this;var t=e.byId("idPreselectionFunction").getValue().trim();v.removePreselectionFunction();if(l.checkIsNotNullOrUndefinedOrBlank(t)){v.setPreselectionFunction(t)}S.setIsUnsaved()},handleChangeForUseVHRAsFRRCheckBox:function(){var e=this;if(e.byId("idUseVHRAsFRRCheckBox").getSelected()){v.setUseSameRequestForValueHelpAndFilterResolution(true)}else{v.setUseSameRequestForValueHelpAndFilterResolution(false)}e.getView().fireEvent(V.ENABLEDISABLEFRRFIELDS);e.getView().fireEvent(V.USESAMEASVHR);S.setIsUnsaved()},handleChangeForValueHelpOption:function(){var e=this,t=false,i=false;switch(e.byId("idValueHelpRadioGroup").getSelectedButton()){case e.byId("idValueHelpRequest"):t=true;v.setValueList([]);break;case e.byId("idConfigListOfValues"):i=true;v.setAlias(undefined);break;default:v.setAlias(undefined);v.setValueList([])}if(v.getUseSameRequestForValueHelpAndFilterResolution()===true){v.setUseSameRequestForValueHelpAndFilterResolution(false);e.byId("idUseVHRAsFRRCheckBox").setSelected(false)}H(e);U(e,i);G(e,t);S.setIsUnsaved()},handleChangeForConfigListOfValues:function(e){var t=this;t.byId("idConfigListOfValuesMultiInput").setValue("");_(e.getParameter("value"),t.byId("idConfigListOfValuesMultiInput"))},handleTokenChangeForConfigListOfValues:function(e){var t=this;var i,l=[];var n=t.byId("idConfigListOfValuesMultiInput").getTokens();if(e.getParameters().type==="removed"||e.getParameters().type==="added"){for(i=0;i<n.length;i++){l[i]=n[i].getText()}v.setValueList(l);if(e.getParameters().type==="removed"){S.setIsUnsaved()}}},getValidationState:function(){var e=this;return R.getValidationState()&&e.byId("idVHRView").getController().getValidationState()&&e.byId("idFRRView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idVHRView").destroy();e.byId("idFRRView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterFRR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t,r){"use strict";var i=false;var o=e.extend("sap.apf.modeler.ui.controller.facetFilterFRR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"))},handleCopy:function(){var e=this;e.setDetailData()},clearFRRFields:function(){var e=this;e.clearSource();e.setDetailData()},enableOrDisableView:function(){var e=true,t=this;if(t.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()===true){e=false}t.byId("idSource").setEnabled(e);t.byId("idEntity").setEnabled(e);t.byId("idSelectProperties").setEnabled(e)},getSource:function(){var e=this;return e.oParentObject.getServiceOfFilterResolution()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfFilterResolution()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfFilterResolution(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfFilterResolution(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfFilterResolution();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfFilterResolution(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfFilterResolution(e)})},updateSource:function(e){var t=this;t.oParentObject.setServiceOfFilterResolution(e);i=true},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfFilterResolution(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addSelectPropertyOfFilterResolution(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfFilterResolution()},fireRelevantEvents:function(){var e=this;if(i){e.getView().fireEvent(t.events.facetFilter.UPDATEPROPERTIES);i=false}},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return o});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/facetFilterVHR.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/ui/layout/GridData"],function(e,t,i,r,a,n){"use strict";var l=e.extend("sap.apf.modeler.ui.controller.facetFilterVHR",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("vhSource"));e.byId("idEntityLabel").setText(t("vhEntity"));e.byId("idSelectPropertiesLabel").setText(t("vhSelectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("ffAlias"))},clearVHRFields:function(e){var t=this;t.clearSource();t.addOrRemoveMandatoryFieldsAndRequiredFlag(false,e);t.setDetailData()},onBeforeRendering:function(){var e=this;var t=new n({span:"L6 M6 S6"});e.byId("idOptionalRequestField").setLayoutData(t);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},fireRelevantEvents:function(e){var i=this,r;var n=i.getView().getViewData().oTextReader;if(e.getSource()===i.byId("idSource")){i.getView().fireEvent(t.events.facetFilter.UPDATEPROPERTIES)}if(e.getSource()!==i.byId("idOptionalRequestField")){r=[a.removePrefixText(i.byId("idOptionalRequestField").getSelectedKey(),n(t.texts.NOTAVAILABLE))];i.updateOptionalRequestFieldProperty(r)}if(i.oParentObject.getUseSameRequestForValueHelpAndFilterResolution()){i.getView().fireEvent(t.events.facetFilter.USESAMEASVHR)}},setOptionalRequestFieldProperty:function(){var e=this;var t=[],a,n;t=e.byId("idSelectProperties").getSelectedKeys();n=e.oParentObject.getAlias();if(i.checkIsNotNullOrUndefinedOrBlank(n)){a=e.validateSelectedValues(e,[n],t);n=a.aSelectedValues[0]}var l=r.convert(t);e.byId("idOptionalRequestField").setModel(l);e.byId("idOptionalRequestField").setSelectedKey(n)},updateOptionalRequestFieldProperty:function(e){var t=this;t.oParentObject.setAlias(undefined);if(i.checkIsNotNullOrUndefinedOrBlank(e[0])){t.oParentObject.setAlias(e[0])}},removeOptionalRequestFieldProperty:function(e){var t=this;if(i.checkIsNotNullOrUndefinedOrBlank(e[0])){t.oParentObject.setAlias(undefined)}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;if(e===false&&t===undefined){return}i.byId("idSourceLabel").setRequired(e);i.byId("idEntityLabel").setRequired(e);i.byId("idSelectPropertiesLabel").setRequired(e);if(e){i.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])}else{i.viewValidator.removeFields(["idSource","idEntity","idSelectProperties"])}},getSource:function(){var e=this;return e.oParentObject.getServiceOfValueHelp()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySetOfValueHelp()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setServiceOfValueHelp(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySetOfValueHelp(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectPropertiesOfValueHelp();t.forEach(function(t){e.oParentObject.removeSelectPropertyOfValueHelp(t)});e.clearOptionalRequestFieldProperty()},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectPropertyOfValueHelp(e)})},clearOptionalRequestFieldProperty:function(){var e=this;e.oParentObject.setAlias(undefined)},updateSource:function(e){var t=this;t.oParentObject.setServiceOfValueHelp(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySetOfValueHelp(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectPropertiesOfValueHelp());e.forEach(function(e){t.oParentObject.addSelectPropertyOfValueHelp(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectPropertiesOfValueHelp()},getOptionalRequestFieldProperty:function(){var e=this;return[e.oParentObject.getAlias()]},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return l},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/hierarchicalStepRequest.controller", ["sap/apf/modeler/ui/controller/stepRequest.controller","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,i,a,jQuery){"use strict";return e.extend("sap.apf.modeler.ui.controller.hierarchicalStepRequest",{onBeforeRendering:function(){var e=this;e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalProperty").setVisible(true);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("hierarchicalEntity"));e.byId("idOptionalPropertyLabel").setText(t("hierarchicalProperty"));e.byId("idSelectPropertiesLabel").setText(t("nonHierarchicalProperty"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalHierarchicalProperty:function(){var e=this;var t=jQuery.Deferred();var a,l,o,d;l=e.byId("idSource").getValue();o=e.byId("idEntity").getSelectedKey();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").clearSelection();if(!r.checkIsNotNullOrUndefinedOrBlank(l)){t.resolve();return t.promise()}e.getHierarchicalProperty(l,o).done(function(l){var o=e.getSelectedHierarchicalProperty();if(r.checkIsNotNullOrUndefinedOrBlank(o)){d=e.validateSelectedValues(e,[o],l);l=d.aValues;o=d.aSelectedValues[0]}a=i.convert(l);e.byId("idOptionalProperty").setModel(a);if(!r.checkIsNotNullOrUndefinedOrBlank(o)||l.indexOf(o)===-1){o=l[0];if(r.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o)}t.resolve()}else if(r.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idOptionalProperty").setSelectedKey(o);t.resolve()}});return t.promise()},setOptionalRequestFieldProperty:function(){var e=this;var t,a,l,o,d,n=[],s,c,y,u;d=[e.getView().getViewData().oTextReader("none")];s=e.oParentObject.getService();c=e.oParentObject.getEntitySet();y=e.getSelectedHierarchicalProperty();t=d;l=d[0];if(s&&c&&y){e.getHierarchyNodeIdAsPromise(s,c,y).done(function(i){o=e.oParentObject.getFilterProperties();if(r.checkIsNotNullOrUndefinedOrBlank(o)){n=e.validateSelectedValues(e,o,[i]);o=n.aValues;l=n.aSelectedValues}if(i){u={key:i,name:y};t=t.concat(u)}else{t=t.concat(o)}})}a=i.convert(t);e.byId("idOptionalRequestField").setModel(a);e.byId("idOptionalRequestField").setSelectedKey(l)},handleChangeForOptionalProperty:function(e){var r=this;var i=r.getView().getViewData().oTextReader;var l=a.removePrefixText(r.byId("idOptionalProperty").getSelectedKey(),i(t.texts.NOTAVAILABLE));r.updateHierarchicalProperty(l);r.clearOptionalRequestFieldProperty();r.setOptionalRequestFieldProperty();r.oConfigurationEditor.setIsUnsaved();r.fireRelevantEvents(e)},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idOptionalPropertyLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idOptionalProperty"])},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllHierarchicalEntitySetsOfServiceAsPromise(e)},getHierarchicalProperty:function(e,t){var r=this;return r.oConfigurationEditor.getHierarchicalPropertiesOfEntitySetAsPromise(e,t)},getHierarchyNodeIdAsPromise:function(e,t,r){var i=this;return i.oConfigurationEditor.getHierarchyNodeIdAsPromise(e,t,r)},getSelectedHierarchicalProperty:function(){var e=this;return e.oParentObject.getHierarchyProperty()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getNonHierarchicalPropertiesOfEntitySet(e,t)},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearHierarchicalProperty();e.byId("idOptionalProperty").setModel(null);e.byId("idOptionalProperty").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([])},clearHierarchicalProperty:function(){var e=this;e.oParentObject.setHierarchyProperty(undefined)},updateHierarchicalProperty:function(e){var t=this;t.clearHierarchicalProperty();t.oParentObject.setHierarchyProperty(e)}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/importDeliveredContent.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/thirdparty/jquery"],function(e,t,i,o,n,a,jQuery){"use strict";var r=a.ValueState;var l,d,p;function f(e){var t=l.getText;e.byId("idImportDeliveredContentDialog").setTitle(t("importDeliveredContent"));e.byId("idConfigLabel").setText(t("configuration"));e.byId("idAppConfigCombobox").setPlaceholder(t("configFileInputPlaceHolder"));e.byId("idImportOfConfig").setText(t("import"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function s(e){var t,o,n;o=l.readAllConfigurationsFromVendorLayer();o.then(function(o){n={applicationText:l.getText("application"),configurationText:l.getText("configuration")};o=[n].concat(o);t=i.prepareModel(o);var a=e.byId("idAppConfigCombobox");a.setModel(t);a.getItems()[0].setEnabled(false);e.byId("idImportDeliveredContentDialog").open()})}async function c(e,t,i,a){var r=new o({value:{callbackOverwrite:t,callbackCreateNew:i}});p=await n.load({type:"XML",id:"idOverwriteConfirmationFragment",name:"sap.apf.modeler.ui.fragment.overwriteConfirmation",controller:e});e.getView().addDependent(p);e.setOverwriteConfirmationDialogText(l.getText);p.removeAllCustomData();p.addCustomData(r);n.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(a);p.open()}function u(e){var t=e.byId("idImportDeliveredContentDialog");if(p&&p.isOpen()){e.handleCancelOfOverwriteDialog()}if(t&&t.isOpen()){e.handleCancelOfImportDialog()}}function g(e,i,o){var n=this;if(!t.checkIsNotUndefined(o)){d.fireEvent("updateAppListEvent");var a=l.createMessageObject({code:"11515"});l.putMessage(a)}else{var a=l.createMessageObject({code:"11502"});a.setPrevious(o);l.putMessage(a)}u(n)}return e.extend("sap.apf.modeler.ui.controller.importDeliveredContent",{onInit:function(){var e=this;l=e.getView().getViewData().oCoreApi;d=e.getView().getViewData().oParentControl;f(e);s(e)},handleChangeOfAppConfigTextField:function(){var e=this,t,i;i=e.byId("idAppConfigCombobox");t=i.getItems().filter(function(e){return e.getText()===i.getValue()});if(!t.length){jQuery(i).focus();jQuery(".appCofigCombo").find("input").focus();i.setValueState(r.Error)}},handleSelectionChangeOfAppConfigTextField:function(){var e=this;e.byId("idAppConfigCombobox").setValueState(r.None)},handleImportPress:function(){var e=this;var i=e.byId("idAppConfigCombobox");e.handleChangeOfAppConfigTextField();if(t.checkIsNotNullOrUndefinedOrBlank(i.getSelectedItem())){var o=i.getSelectedItem().data("value").split(".");var n=o[0];var a=o[1];l.importConfigurationFromVendorLayer(n,a,function(t,i,o){c(e,t,i,o)},g.bind(e))}},handleCancelOfImportDialog:function(){var e=this;e.getView().destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/importFiles.controller", ["sap/apf/modeler/ui/controller/overwriteExistingConfiguration","sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/CustomData","sap/ui/core/Fragment"],function(e,t,i,l){"use strict";var a,o,r,n,s;function d(e){var t=a.getText;e.byId("idImportFilesDialog").setTitle(t("importConfig"));e.byId("idJsonFileLabel").setText(t("jsonFile"));e.byId("idJsonFileUploader").setPlaceholder(t("jsonFileInputPlaceHolder"));e.byId("idTextFileLabel").setText(t("textFile"));e.byId("idTextFileUploader").setPlaceholder(t("textFileInputPlaceHolder"));e.byId("idUploadOfConfig").setText(t("upload"));e.byId("idCancelImportOfConfig").setText(t("cancel"))}function c(e,t,o,r){l.load({id:"idOverwriteConfirmationFragment",type:"XML",name:"sap.apf.modeler.ui.fragment.overwriteConfirmation",controller:e}).then(s=>{n=s;e.getView().addDependent(n);e.setOverwriteConfirmationDialogText(a.getText);const d=new i({value:{callbackOverwrite:t,callbackCreateNew:o}});n.destroyCustomData();n.addCustomData(d);l.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValue(r);n.open()})}function p(e){var t=a.createMessageObject({code:e});a.putMessage(t)}function u(e,i,l){var r=this;var n=r.byId("idTextFileUploader");if(!t.checkIsNotUndefined(l)){o.fireEvent("updateAppListEvent");p("11515");if(n&&n.getValue()){n.upload()}else{r.closeAllOpenDialogs()}}else{var s=a.createMessageObject({code:"11502"});s.setPrevious(l);a.putMessage(s);r.closeAllOpenDialogs()}}function f(e,i){a.importTexts(i,function(e){if(!t.checkIsNotUndefined(e)){p("11516")}else{var i=a.createMessageObject({code:"11503"});i.setPrevious(e);a.putMessage(i)}});e.closeAllOpenDialogs()}return e.extend("sap.apf.modeler.ui.controller.importFiles",{onInit:function(){var e=this;a=e.getView().getViewData().oCoreApi;o=e.getView().getViewData().oParentControl;a.getApplicationHandler(function(e,i){if(e&&!t.checkIsNotUndefined(i)){r=e}else{var l=a.createMessageObject({code:"11508"});l.setPrevious(i);a.putMessage(l)}});d(e);e.byId("idImportFilesDialog").setInitialFocus("true");e.byId("idImportFilesDialog").open()},addAcceptAttribute:function(){var e=this;var t=jQuery("#"+e.getView().getId()+"--idJsonFileUploader-fu");var i=jQuery("#"+e.getView().getId()+"--idTextFileUploader-fu");t.attr("accept",".json");i.attr("accept",".properties")},handleTypeMissmatchForJSONFile:function(){p("11517")},handleTypeMissmatchForPropertiesFile:function(){p("11518")},handleJSONFileUploadComplete:function(e){var t=this;var i=e.getSource().oFileUpload.files[0];if(i){var l=new FileReader;l.readAsText(i,"UTF-8");l.onload=function(e){s=JSON.parse(e.target.result).configHeader.Application;a.importConfiguration(JSON.stringify(JSON.parse(e.target.result)),function(e,i,l){c(t,e,i,l)},u.bind(t))};l.onerror=function(){p("11519")}}},handleTextFileUploadComplete:function(e){var i=this,l,a;l=e.getSource().oFileUpload.files[0];a=i.byId("idJsonFileUploader");if(l){var o=new FileReader;o.readAsText(l,"UTF-8");o.onload=function(e){var l=e.target.result.split(/\r?\n/);var o,n,d;for(n=0;n<l.length;n++){o=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(l[n]);if(t.checkIsNotNull(o)){d=l[n].split("=")[1]}}var c;if(r){for(n=0;n<r.getList().length;n++){if(d===r.getList()[n].Application){c=true;break}else{c=false}}}if(!c&&a&&!a.getValue()){p("11520")}else if(a&&a.getValue()){if(s&&d&&d!==s){p("11521")}else{f(i,e.target.result)}}else if(c&&a&&!a.getValue()){f(i,e.target.result)}};o.onerror=function(){p("11522")}}i.closeAllOpenDialogs()},handleUploadOfConfig:function(){var e=this;var i=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idJsonFileUploader").getValue());var l=t.checkIsNotNullOrUndefinedOrBlank(e.byId("idTextFileUploader").getValue());if(i&&l||i){e.byId("idJsonFileUploader").upload()}else{e.byId("idTextFileUploader").upload()}},handleCancelOfImportFilesDialog:function(){var e=this;e.byId("idImportFilesDialog").close()},closeAllOpenDialogs:function(){var e=this.byId("idImportFilesDialog");if(n&&n.isOpen()){this.handleCancelOfOverwriteDialog()}if(e&&e.isOpen()){this.handleCancelOfImportFilesDialog()}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/messageHandler.controller", ["sap/apf/core/constants","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/HTML","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery","sap/base/security/encodeXML","sap/base/Log","sap/ui/Device"],function(e,t,s,a,i,n,o,r,c,g,l,p,jQuery,u,d,f){"use strict";var w=a.DialogType,m=a.FlexAlignItems,v=l.ValueState;var y;function x(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function h(e,t){var s=e.getView().getViewData();var a=s.getGenericExit("closeFatalErrorDialog");if(a){a(s,e,t)}else{window.history.go(-1)}}function M(e){r.error(e.getMessage(),{styleClass:f.system.desktop?"sapUiSizeCompact":""})}function b(e){r.information(e.getMessage(),{styleClass:f.system.desktop?"sapUiSizeCompact":""})}function C(e){c.show(e.getMessage(),{width:"20em"})}function D(e,a){var i=new s(e.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:y.getText("error"),type:w.Message,state:v.Error,content:new g({content:["<div><p> "+u(x(a))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new t({text:y.getText("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}}).addStyleClass("dialogContentPadding");i.setInitialFocus(i);i.open()}function T(e,a){var r=new s(e.createId("idFatalDialog"),{title:y.getText("error"),type:w.Message,state:v.Error,content:[new n({text:y.getText("fatalErrorMessage")}),new o({alignItems:m.End,items:[new i({text:y.getText("showDetailsLink"),press:function(){D(e,a)}})]})],beginButton:new t({text:y.getText("close"),press:function(){h(e,r)}}),afterClose:function(){r.destroy()}});r.setInitialFocus(r);r.open()}var k=p.extend("sap.apf.modeler.ui.controller.messageHandler",{onInit:function(){y=this.getView().getViewData()},showMessage:function(t){var s=this;var a=t.getSeverity();var i=e.message.severity;switch(a){case i.fatal:T(s,t);break;case i.error:M(t);break;case i.success:C(t);break;case i.information:b(t);break;default:d.error("Error type not defined");break}}});return k},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/navTargetContextMapping.controller", ["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator"],function(e,t,r){"use strict";var i=e.extend("sap.apf.modeler.ui.controller.navTargetContextMapping",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalPropertyLabel").setText(t("mappedProperty"));e.byId("idOptionalProperty").setVisible(true)},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()},getIdOfPropertiesControl:function(){return"idOptionalProperty"},getIdOfPropertyLabel:function(){return"idOptionalPropertyLabel"},setSelectedKeysForProperties:function(e){if(e.length>0){this.byId("idOptionalProperty").setSelectedKey(e[0])}},getSelectedKeysForProperties:function(){return this.oParentObject.getFilterMappingTargetProperties()},handleChangeForOptionalProperty:function(){var e=this;var i=e.getView().getViewData().oTextReader;var n=this.byId("idOptionalProperty").getSelectedKey();n=r.removePrefixText(n,i(t.texts.NOTAVAILABLE));e.updateSelectProperties([n]);e.oConfigurationEditor.setIsUnsaved()}});return i},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/navigationTarget.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/viewValidator","sap/m/MessageBox","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/thirdparty/jquery"],function(e,t,i,a,n,o,r,s,d,c,jQuery){"use strict";var g,l,u,f,v,p,m,b;var I;var y=n.TranslationFormatMap.NAVTARGET_TITLE;function T(e){e.byId("idNavigationTargetHeaderLabel").setText(l("basicData"));e.byId("idSemanticObjectLabel").setText(l("semanticObject"));e.byId("idActionLabel").setText(l("action"));e.byId("idDescriptionLabel").setText(l("navigationTargetTitle"));e.byId("idNavigationParametersHeaderLabel").setText(l("navigationParametersHeader"));e.byId("idNavigationTargetTypeHeaderLabel").setText(l("navigationTargetType"));e.byId("idNavigationTargetTypeLabel").setText(l("assignmentType"));e.byId("idAssignedStepsLabel").setText(l("assignedSteps"));e.byId("idContextMapping").setText(l("contextMapping"))}function h(e){var i;if(g&&g.arguments&&g.arguments.navTargetId){p=v.getNavigationTarget(g.arguments.navTargetId)}if(!t.checkIsNotUndefined(p)){i=v.createNavigationTarget();p=v.getNavigationTarget(i);E(e)}}function S(e){var t=p.getTitleKey()?l("navigationTargetTitle"):l("navigationTargetTitle")+" ("+l("default")+")";e.byId("idDescriptionLabel").setText(t);e.byId("idDescriptionLabel").setTooltip(t);e.byId("idUseDynamicParametersCheckBoxLabel").setText(l("useDynamicParametersLabel"))}async function N(t){var i,a;var n={oTextReader:l,oConfigurationHandler:f,oConfigurationEditor:v,oParentObject:p,getCalatogServiceUri:t.getView().getViewData().getCalatogServiceUri,oCoreApi:t.getView().getViewData().oCoreApi};i=await s.create({name:"sap.apf.modeler.ui.controller.navTargetContextMapping"});a=await d.create({viewName:"sap.apf.modeler.ui.view.requestOptions",type:c.XML,id:t.createId("idContextMappingView"),viewData:n,controller:i});t.getView().attachEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,a.getController().updateSubViewInstancesOnReset.bind(a.getController()));a.addStyleClass("formTopPadding");t.byId("idContextMappingVBox").insertItem(a);I=0;var o=p.getAllNavigationParameters();if(o.length>0){o.forEach(function(e){A(t,e)})}else{A(t)}}function A(e,t){var i=new sap.ui.controller("sap.apf.modeler.ui.controller.navigationTargetParameter");var a=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.navigationTargetParameter",type:c.XML,id:e.createId("idNavigationTargetParameter"+I),viewData:{oTextReader:l,oParentController:e,oNavigationTarget:p,parameter:t,oConfigurationEditor:v},controller:i});e.byId("idNavigationParameterBox").addItem(a);I++;V(e)}function V(e){e.byId("idNavigationParameterBox").getItems().forEach(function(e){e.getController().checkVisibilityOfPlusMinus()})}function x(e){var a=jQuery.Deferred();b.getAllAvailableSemanticObjects(function(n,o){if(o===undefined){var r=i.prepareModel(n,n.length);e.byId("idSemanticObjectField").setModel(r);if(t.checkIsNotNullOrUndefinedOrBlank(p.getSemanticObject())){e.byId("idSemanticObjectField").setValue(p.getSemanticObject())}a.resolve()}else{j(e,o,"11504")}});return a.promise()}function C(e){var t,a;a=jQuery.Deferred();t=i.prepareModel([],0);e.byId("idActionField").setModel(t);w(undefined,e);D(e).then(function(e){a.resolve(e)});e.byId("idActionField").setValue(p.getAction());return a.promise()}function D(e){var a,n,o,r;r=new jQuery.Deferred;n=p.getSemanticObject();if(t.checkIsNotUndefined(n)){o=b.getSemanticActions(n);o.then(function(t){a=i.prepareModel(t.semanticActions,t.semanticActions.length);e.byId("idActionField").setModel(a);r.resolve(t)},function(t){j(e,t,"11505")})}return r.promise()}function w(e,i){var a,n,o;var r=p.getTitleKey();if(t.checkIsNotUndefined(r)){n=i.getView().getViewData().oConfigurationHandler.getTextPool().get(r).TextElementDescription;i.byId("idDescription").setValue(n)}else{var s=e?e:i.byId("idActionField").getModel().getData().Objects;if(s&&t.checkIsNotNullOrBlank(p.getAction())){for(o=0;o<s.length;o++){if(s[o].id===p.getAction()){a=s[o].text;break}}}n=a?a:p.getSemanticObject();i.byId("idDescription").setValue(n)}}function P(e){var t=new a(l,i);var n=t.getNavTargetTypeData();e.byId("idNavigationTargetTypeField").setModel(n);var o=p.isStepSpecific()?l("stepSpecific"):l("globalNavTargets");e.byId("idNavigationTargetTypeField").setSelectedKey(o)}function O(e){var t=p.isStepSpecific()?l("stepSpecific"):l("globalNavTargets");if(t===l("stepSpecific")){F(e,true);var a=[];var n=v.getSteps();var o,r;for(o=0;o<n.length;o++){r={};r.stepKey=n[o].getId();r.stepName=u.get(n[o].getTitleId()).TextElementDescription;a.push(r)}var s=i.prepareModel(a,a.length);e.byId("idAssignedStepsCombo").setModel(s);var d=v.getStepsAssignedToNavigationTarget(p.getId());e.byId("idAssignedStepsCombo").setSelectedKeys(d)}}function E(e){var t={id:p.getId(),icon:p.isGlobal()?"sap-icon://overview-chart":"sap-icon://pushpin-off"};if(e.byId("idDescription").getValue()){t.name=e.byId("idDescription").getValue()}b.updateSelectedNode(t)}function M(e){var t=l("navigationTarget")+": "+e.byId("idDescription").getValue();b.updateTitleAndBreadCrumb(t)}function U(e){var t={key:p.getId(),value:e.byId("idDescription").getValue()};b.setNavigationTargetName(t)}function F(e,t){e.byId("idAssignedStepsLabel").setVisible(t);e.byId("idAssignedStepsCombo").setVisible(t)}function j(e,t,i){var a=b.createMessageObject({code:i});a.setPrevious(t);b.putMessage(a)}function B(){var e=v.getStepsAssignedToNavigationTarget(p.getId());var t,i;for(t=0;t<e.length;t++){i=v.getStep(e[t]);i.removeNavigationTarget(p.getId())}}return s.extend("sap.apf.modeler.ui.controller.navigationTarget",{onInit:function(){this._pOnInit=this.onInitAsync()},whenInitialized:function(){return Promise.resolve(this._pOnInit)},onInitAsync:async function(){var e=this;b=e.getView().getViewData();f=b.oConfigurationHandler;v=b.oConfigurationEditor;u=f.getTextPool();l=b.getText;g=b.oParams;if(!v){f.loadConfiguration(g.arguments.configId,function(e){v=e})}T(e);m=new o(e.getView());m.addFields(["idSemanticObjectField","idActionField"]);h(e);await N(e);e.setDetailData()},onAfterRendering:function(){var e=this;if(e.getView().byId("idSemanticObjectField").getValue().length===0){e.getView().byId("idSemanticObjectField").focus()}},setDetailData:function(){var e=this;x(e).then(function(){C(e).then(function(t){w(t.semanticActions,e)})});S(e);P(e);O(e);var t=p.getUseDynamicParameters();if(t){this.getView().byId("idUseDynamicParametersCheckBox").setSelected(true)}else{this.getView().byId("idUseDynamicParametersCheckBox").setSelected(false)}},updateSubViewInstancesOnReset:function(t){var i=this;v=t;p=v.getNavigationTarget(p.getId());i.getView().fireEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:v,oParentObject:p})},handleChangeSemanticObjectValue:function(e){var i,a=this;i=e.getParameter("value").trim();p.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){p.setSemanticObject(i);D(a).then(function(e){if(e.semanticActions.length>0){p.setAction(a.byId("idActionField").getModel().getData().Objects[0].id);a.byId("idActionField").setSelectedKey(e.semanticActions[0].id)}else{a.byId("idActionField").setValue("")}w(e.semanticActions,a);S(a);E(a);M(a);U(a)})}v.setIsUnsaved()},handleChangeofAction:function(e){var i,a=this;i=e.getParameter("value");p.setTitleKey(undefined);if(t.checkIsNotNullOrBlank(i)){p.setAction(i)}w(undefined,a);S(a);E(a);M(a);U(a);v.setIsUnsaved()},handleChangeForTitleText:function(){var e=this,t;var i=e.byId("idDescription").getValue();if(i.trim().length===0){t=undefined;p.setTitleKey(t);w(undefined,e);S(e);E(e);M(e);U(e);v.setIsUnsaved()}else{e.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(i,y).done(function(t){p.setTitleKey(t);S(e);e.byId("idDescription").setValue(i);E(e);M(e);U(e);v.setIsUnsaved()})}},handleSuggestions:function(e){var t=new n.SuggestionTextHandler(u);t.manageSuggestionTexts(e,y)},handleChangeOfNavigationTargetType:function(){var e=this;v.setIsUnsaved();var t=e.byId("idNavigationTargetTypeField").getSelectedKey();if(t===l("stepSpecific")){p.setStepSpecific();O(e)}else{p.setGlobal();F(e,false);e.byId("idAssignedStepsCombo").setSelectedKeys([]);B()}E(e,e.byId("idDescription").getValue())},handleChangeForAssignedSteps:function(){var e=this;v.setIsUnsaved();var t=e.byId("idAssignedStepsCombo").getSelectedKeys();var i=v.getStepsAssignedToNavigationTarget(p.getId());i.forEach(function(e){if(t.indexOf(e)===-1){var i=v.getStep(e);i.removeNavigationTarget(p.getId())}});t.forEach(function(e){if(i.indexOf(e)===-1){var t=v.getStep(e);t.addNavigationTarget(p.getId())}})},getValidationState:function(){var e=this;var t=true;e.byId("idNavigationParameterBox").getItems().forEach(function(e){if(!e.getController().validate()){t=false}});return m.getValidationState()&&e.byId("idContextMappingView").getController().getValidationState()&&t},getNavigationParameters:function(){return this.byId("idNavigationParameterBox").getItems()},addNavigationParameter:function(){A(this)},removeNavigationParameter:function(e){this.byId("idNavigationParameterBox").removeItem(e);V(this)},handleChangeForUseDynamicParameters:function(){var e=this.byId("idUseDynamicParametersCheckBox").getSelected();p.setUseDynamicParameters(e)},onExit:function(){var e=this;e.byId("idContextMappingView").destroy()},displayHelpAboutDynamicParameters:function(){var e=l("explanationOfDynamicParameters");var t=l("titleDynamicParameters");r.show(e,{icon:r.Icon.INFORMATION,title:t,actions:[r.Action.CLOSE]})}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/navigationTargetParameter.controller", ["sap/ui/core/library","sap/ui/core/mvc/Controller"],function(e,a){"use strict";var t=e.ValueState;var i;function r(e){var a;var i=s(e);var r=l(e);if(e.oldKey&&e.navigationTarget.getNavigationParameter(e.oldKey)){e.navigationTarget.removeNavigationParameter(e.oldKey);e.configurationEditor.setIsUnsaved()}if(!e.navigationTarget.getNavigationParameter(i)){if(i&&r){a=e.oParentController.getNavigationParameters().indexOf(e.getView());e.configurationEditor.setIsUnsaved();e.navigationTarget.addNavigationParameter(i,r,a)}e.byId("idNavigationParametersKey").setValueState(t.None);e.oldKey=i}else{e.byId("idNavigationParametersKey").setValueState(t.Error);e.oldKey=null}}function n(e){var a=s(e);if(a&&e.navigationTarget.getNavigationParameter(a)){e.configurationEditor.setIsUnsaved();e.navigationTarget.removeNavigationParameter(a)}}function o(e){e.byId("idNavigationParametersKey").setValueStateText(i("navigationParametersKeyErrorState"));e.byId("idNavigationParametersValue").setValueStateText(i("navigationParametersValueErrorState"));e.byId("idNavigationParametersLabel").setText(i("navigationStaticParametersLabel"));e.byId("idNavigationParametersKey").setPlaceholder(i("navigationParametersKey"));e.byId("idNavigationParametersValue").setPlaceholder(i("navigationParametersValue"))}function s(e){return e.byId("idNavigationParametersKey").getValue()}function l(e){return e.byId("idNavigationParametersValue").getValue()}function d(e,a){if(a){e.byId("idNavigationParametersKey").setValue(a.key);e.oldKey=a.key;e.byId("idNavigationParametersValue").setValue(a.value)}}return a.extend("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var e=this.getView().getViewData();i=e.oTextReader;this.oParentController=e.oParentController;this.navigationTarget=e.oNavigationTarget;this.configurationEditor=e.oConfigurationEditor;o(this);d(this,e.parameter)},onExit:function(){var e=this;e.destroy()},onPlus:function(){this.oParentController.addNavigationParameter()},onMinus:function(){n(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy()},checkVisibilityOfPlusMinus:function(){var e=this.oParentController.getNavigationParameters();if(e.length===1){this.byId("idRemoveNavigationParameter").setVisible(false)}else{this.byId("idRemoveNavigationParameter").setVisible(true)}if(e[e.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon")}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon")}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(t.None);r(this)},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(t.None);r(this)},validate:function(){if(l(this)&&!s(this)){this.byId("idNavigationParametersKey").setValueState(t.Error);return false}if(!l(this)&&s(this)){this.byId("idNavigationParametersValue").setValueState(t.Error);return false}if(this.byId("idNavigationParametersKey").getValueState()===t.Error){return false}return true}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/newApplication.controller", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/mvc/Controller"],function(e,t){"use strict";function i(e){var t=e.coreApi.getText;e.byId("idNewAppDialog").setTitle(t("newApplication"));e.byId("idDescriptionLabel").setText(t("description"));if(e.coreApi.showSemanticObject()){e.byId("idSemanticObjectLabel").setText(t("semanticObject"))}e.byId("idSaveButton").setText(t("save"));e.byId("idCancelButton").setText(t("cancel"))}return t.extend("sap.apf.modeler.ui.controller.newApplication",{onInit:function(){var e=this;this.parentControl=e.getView().getViewData().oParentControl;this.coreApi=e.getView().getViewData().oCoreApi;e.byId("idDescriptionInput").setValue("");if(this.coreApi.showSemanticObject()){e.byId("idSemanticObjectInput").setValue("FioriApplication")}else{e.byId("idSemanticObjectInput").setValue("");e.byId("idSemanticObjectBox").setVisible(false)}i(e);e.byId("idNewAppDialog").open()},handleAppDescriptionLiveChange:function(e){var t=this;var i=e.getParameters().value.trim().length!==0?true:false;t.byId("idSaveButton").setEnabled(i);if(i===true){t.byId("idSaveButton").setType("Emphasized")}},handleSavePress:function(){var t=this;var i={};i.ApplicationName=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idDescriptionInput").getValue().trim())?t.byId("idDescriptionInput").getValue().trim():undefined;i.SemanticObject=e.checkIsNotNullOrUndefinedOrBlank(t.byId("idSemanticObjectInput").getValue().trim())?t.byId("idSemanticObjectInput").getValue().trim():undefined;this.coreApi.getApplicationHandler(function(n,a){if(n&&!e.checkIsNotUndefined(a)){n.setAndSave(i,function(i,n,a){if(!e.checkIsNotUndefined(a)&&typeof i==="string"){t.parentControl.fireEvent("addNewAppEvent",{appId:i})}else{var c=t.coreApi.createMessageObject({code:"11500"});c.setPrevious(a);t.coreApi.putMessage(c)}})}else{var c=t.coreApi.createMessageObject({code:"11509"});c.setPrevious(a);t.coreApi.putMessage(c)}});t.byId("idNewAppDialog").close()},handleCancelPress:function(){var e=this;e.byId("idNewAppDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/overwriteExistingConfiguration", ["sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/apf/modeler/ui/utils/nullObjectChecker"],function(e,i,t,r){"use strict";var n=i.ValueState;return t.extend("sap.apf.modeler.ui.controller.overwriteExistingConfiguration",{setOverwriteConfirmationDialogText:function(i){e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").setTitle(i("configAlreadyExists"));e.byId("idOverwriteConfirmationFragment","idConfirmationMessage").setText(i("overwriteDialogMsg"));e.byId("idOverwriteConfirmationFragment","idOverwriteConfig").setText(i("overwriteConfig"));e.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig").setText(i("doNotOverwriteConfig"));e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLabel").setText(i("newConfigTitle"));e.byId("idOverwriteConfirmationFragment","idOkButton").setText(i("ok"));e.byId("idOverwriteConfirmationFragment","idCancelButton").setText(i("cancel"))},handleOkButtonPress:function(){var i,t,o,a,d;o=e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog");a=o.getCustomData()[0].getValue().callbackOverwrite;d=o.getCustomData()[0].getValue().callbackCreateNew;i=e.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();t=e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput");if(i===e.byId("idOverwriteConfirmationFragment","idOverwriteConfig")){a()}else{if(r.checkIsNotNullOrUndefinedOrBlank(t.getValue().trim())){t.setValueState(n.None);d(t.getValue())}else{t.setValueState(n.Error)}}},handleCancelOfOverwriteDialog:function(){e.byId("idOverwriteConfirmationFragment","idOverwriteConfirmationDialog").destroy()},handleChangeForOverwriteConfigOptions:function(){var i;i=e.byId("idOverwriteConfirmationFragment","idOverwriteConfigRadioGroup").getSelectedButton();if(i===e.byId("idOverwriteConfirmationFragment","idDoNotOverwriteConfig")){e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(true);e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(true)}else{if(r.checkIsNotNullOrUndefinedOrBlank(e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").getValue().trim())){e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setEnabled(false);e.byId("idOverwriteConfirmationFragment","idNewConfigTitleInput").setValueState(n.None)}else{e.byId("idOverwriteConfirmationFragment","idNewConfigTitleLayout").setVisible(false)}}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/previewContent.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/constants","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,n,r,jQuery){"use strict";var i,o,a,s,u,p,d,l;var c=t.representationTypes.TABLE_REPRESENTATION;function f(e){var t=e&&s.getTextPool().get(e),n;if(t!==undefined){n=t.TextElementDescription}return n}function g(e){var t=f(o[e]());if(t===undefined){t=f(a[e]())}return t}function v(e,t){return e.sort(function(e,n){var r,i;for(i=0;i<t.length;i++){if(e[t[i].property]<n[t[i].property]){r=-1}else if(e[t[i].property]>n[t[i].property]){r=1}r=r*[1,-1][+!t[i].ascending];if(r!==0){return r}}})}function y(e,t){var n=jQuery.Deferred();d.getEntityTypeMetadataAsPromise().done(function(r){var i,o,a=[];t.forEach(function(t){if(t.sProperty!==u("none")&&t.sProperty!==""){o=e(t.sProperty);if(o!==undefined){i=s.getTextPool().get(o).TextElementDescription}else{i=d.getDefaultLabel(r,t.sProperty)}a.push({fieldName:t.sProperty,fieldDesc:i,kind:t.sContext})}});n.resolve(a)});return n.promise()}function T(e){var t=jQuery.Deferred();var n=[];if(e==="properties"&&o.getRepresentationType()===c){y(o.getPropertyTextLabelKey,p.getActualProperties()).done(function(e){n=e})}else if(e==="dimensions"&&o.getRepresentationType()!==c){d.getEntityTypeMetadataAsPromise().done(function(e){y(o.getDimensionTextLabelKey,p.getActualDimensions().concat(p.getActualLegends())).done(function(e){n=e})})}else if(e==="measures"&&o.getRepresentationType()!==c){d.getEntityTypeMetadataAsPromise().done(function(e){y(o.getMeasureTextLabelKey,p.getActualMeasures()).done(function(e){n=e;n.forEach(function(e){var t=o.getMeasureDisplayOption(e.fieldName);if(t){e.measureDisplayOption=t}})})})}t.resolve(n);return t.promise()}function h(){var t=jQuery.Deferred();var n=[],r=[],i=0,a=3;var s=d.getProperties();d.getEntityTypeMetadataAsPromise().done(function(u){var p=d.getDimensionsProperties(u);var l=d.getMeasures(u);var f=o.getRepresentationType();var g=f!==c?Math.pow(a,p.length):7;for(i=0;i<g;i++){var y={};if(f===c){s.forEach(function(t){var n=t+" - "+e.createRandomNumberString(4);y[t]=n})}else{p.forEach(function(e,t){var n=e+" - "+(Math.floor(i/Math.pow(a,t))%a+1);y[e]=n});l.forEach(function(t){var n=e.createRandomNumberString(4);y[t]=n})}n.push(y)}r=o.getOrderbySpecifications();if(r&&r.length){n=v(n,r)}t.resolve(n)});return t.promise()}function w(){var t=l.getConstructorOfRepresentationType(o.getRepresentationType());var n=t.replaceAll(".","/");var r=sap.ui.requireSync(n)||e.extractFunctionFromModulePathString(t);var a={};a.requiredFilters=[];function s(e){return e}function u(){}var p={getTextNotHtmlEncoded:s,getTextHtmlEncoded:s,getEventCallback:u,getExits:function(){var e={};return e},getUiApi:function(){var e={};e.getStepContainer=function(){return undefined};return e},createFilter:function(){return{getOperators:function(){return{EQ:true}},getTopAnd:function(){return{addOr:u}},getInternalFilter:function(){return{getProperties:function(){return[]}}}}},createMessageObject:u,putMessage:u,updatePath:u,selectionChanged:u,getActiveStep:function(){return{getSelectedRepresentation:function(){return{bIsAlternateView:true}}}}};T("dimensions").done(function(e){a.dimensions=e});T("measures").done(function(e){a.measures=e});T("properties").done(function(e){a.properties=e});i=new r(p,a);if(i.chartType===c){i.oTableRepresentation.removeEventDelegate();i.oTableRepresentation.onAfterRendering(function(){return})}var d={getPropertyMetadata:function(e){return{label:e}}};h().done(function(e){i.setData(e,d)})}function m(e){var t=e.byId("idPreviewContentDialog");t.setTitle(u("preview"));t.getEndButton().setText(u("close"))}var C=r.extend("sap.apf.modeler.ui.controller.previewContent",{onInit:function(){var e=this;var t=e.byId("idPreviewContentDialog");o=e.getView().getViewData().oRepresentation;a=e.getView().getViewData().oParentStep;s=e.getView().getViewData().oConfigurationHandler;u=e.getView().getViewData().oCoreApi.getText;p=e.getView().getViewData().oRepresentationHandler;d=e.getView().getViewData().oStepPropertyMetadataHandler;l=e.getView().getViewData().oRepresentationTypeHandler;m(e);w();e._drawContent();t.open()},_drawContent:function(){this._drawMainChart();this._drawLikeStepInCarousel()},_drawLikeStepInCarousel:function(){var e=a.getTitleId();var t=f(e);var r={getSelectedRepresentation:function(){return i}};var o=n.getClonedChart(r);var s={rightLower:g("getRightLowerCornerTextKey"),rightUpper:g("getRightUpperCornerTextKey"),leftLower:g("getLeftLowerCornerTextKey"),leftUpper:g("getLeftUpperCornerTextKey")};var u={mode:"preview",titleText:t,oCornerTexts:s};var p=new n.constructor(null,a,o,u);this._addChart(p.getContent())},_drawMainChart:function(){var e=a.getLongTitleId();var t=s.getTextPool().isInitialTextKey(e);var n=e&&!t?e:a.getTitleId();var r=i.getMainContent(f(n),480,330);var o={interaction:{selectability:{axisLabelSelection:true,legendSelection:true,plotLassoSelection:true,plotStdSelection:true}}};if(r.setVizProperties!==undefined)r.setVizProperties(o);this.byId("idMainChart").addItem(r)},handleCloseButtonOfDialog:function(){var e=this;e.byId("idPreviewContentDialog").close()},handleClose:function(){var e=this;e.byId("idPreviewContentDialog").destroy();e.getView().destroy()},_addChart:function(e){this.byId("idThumbnail").addItem(e)}});return C},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyType", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/Device","sap/ui/core/Item","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,r,o,i,a,n,s,d,jQuery){"use strict";var p=e.events;var l=o.TranslationFormatMap.REPRESENTATION_LABEL;function y(e){var t=e.oRepresentation.getRepresentationType();var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.getView().getViewData().oRepresentationTypeHandler.getLabelsForChartType(e.oTextReader,t,r);e.byId("idPropertyTypeLabel").setText(o);e.byId("idPropertyTypeLabel").setTooltip(o)}function f(e){if(n.browser.msie&&n.browser.version>=11){e.byId("idAriaPropertyForBasicDataGroup").setText(e.oTextReader("basicData"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function u(e){var r;var o=jQuery.Deferred();var i=e.byId("idPropertyType");e.getAllPropertiesAsPromise().then(function(e){r=t.convert(e.aAllProperties);i.setModel(r);i.setSelectedKey(e.sSelectedKey);o.resolve()});return o.promise()}function g(t){var r=i.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var o=t.getPropertyTextLabelKey(r)?t.oTextReader("label"):t.oTextReader("label")+" ("+t.oTextReader("default")+")";t.byId("idPropertyLabel").setText(o);t.byId("idPropertyLabel").setTooltip(o)}function c(t){var o;var a=i.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));var n=t.getPropertyTextLabelKey(a);if(r.checkIsNotUndefined(n)){o=t.getView().getViewData().oConfigurationHandler.getTextPool().get(n).TextElementDescription;t.byId("idPropertyLabelText").setValue(o)}else{t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().then(function(e){var r=t.oStepPropertyMetadataHandler.getDefaultLabel(e,a);t.byId("idPropertyLabelText").setValue(r)})}}function P(e){e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function v(e){var t=e.getView().getViewData().sPropertyType;var r=e.getView().getViewData().oPropertyTypeData.sContext;var o=e.oRepresentationTypeHandler.isAdditionToBeEnabled(e.oRepresentation.getRepresentationType(),t,r);var i=o;var a=e.getView().getViewData().oPropertyTypeState;var n=a.indexOfPropertyTypeViewId(e.getView().getId());if(n===0){i=false}else if(n>0){var s=a.getViewAt(n-1);var d=s.getViewData().oPropertyTypeData.sContext;if(r!==d){i=false}}e.byId("idAddPropertyIcon").setVisible(o);e.byId("idRemovePropertyIcon").setVisible(i);if(n>0){s.oController?.byId("idAddPropertyIcon").setVisible(false)}}function T(e){var t=e.getView().getViewData().oPropertyTypeState;var r=t.indexOfPropertyTypeViewId(e.getView().getId());if(r>0){var o=t.aProperties.length-1;var i=t.getViewAt(r-1);var a=t.getViewAt(r);var n=e.oConfigurationEditor.isSaved()}if(r>0&&r==o&&n==false){i.oController.byId("idAddPropertyIcon").setVisible(false);a.oController.byId("idAddPropertyIcon").setVisible(true);a.oController.byId("idRemovePropertyIcon").setVisible(true)}}function I(e,t){var r=e.getView().getViewData().oPropertyTypeState;var o=r.aProperties.length;var i=r.getViewAt(t-1);var a=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&a==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}function b(e){e.byId("idAddPropertyIcon").attachEvent(p.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var V=d.extend("sap.apf.modeler.ui.controller.propertyType",{_apfName:"propertyType",oConfigurationEditor:{},oRepresentation:{},oStepPropertyMetadataHandler:{},oRepresentationTypeHandler:{},oTextReader:{},oTextPool:{},initPromise:null,onInit:function(){var e=this;e.initPromise=new jQuery.Deferred;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oRepresentation=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oRepresentationTypeHandler=e.getView().getViewData().oRepresentationTypeHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.oTextPool=e.getView().getViewData().oTextPool;if(e.getView().getViewData().oPropertyTypeData.bMandatory){e.getView().getViewData().oViewValidator.addField(e.byId("idPropertyType").getId());e.byId("idPropertyTypeLabel").setRequired(true)}u(e).then(function(){e.setDetailData().then(function(){e.initPromise.resolve()});v(e)})},onAfterRendering:function(){var e=this;e.initPromise.then(function(){e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){e.byId("idAddPropertyIcon").fireEvent(p.SETFOCUSONADDICON)})})},setDetailData:function(){var e=jQuery.Deferred();var r=this;r.setLabelDisplayOptionTypeAsPromise(t).then(function(){if(!r.byId("idPropertyType")){e.resolve();return}c(r);f(r);g(r);y(r);P(r);e.resolve()});return e.promise()},handleChangeForPropertyTypeAsPromise:function(t){var r=this;var o=jQuery.Deferred();var a=i.removePrefixText(r.byId("idPropertyType").getSelectedKey(),r.oTextReader(e.texts.NOTAVAILABLE));var n=r.getView().getViewData().oPropertyOrchestration;var s=r.getView().getId();var d;var p=null;if(n){d=n.isSwapCase(s,a);p=n.getPropertyTypeRowByPropertyName(a);n.updateAllSelectControlsForPropertyType(s,a).then(function(){var e;r.updateRepresentationAndView().then(function(){if(d){e=p.oView.getController();e.updateRepresentationAndView().then(function(){r.oConfigurationEditor.setIsUnsaved();o.resolve()})}else{r.oConfigurationEditor.setIsUnsaved();o.resolve()}})})}else{r.forceFailSinceOrchestrationIsMissing();o.resolve()}return o.promise()},updateRepresentationAndView:function(){var e=this;return new Promise(function(t){e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData();e.enableDisableLabelDisplayOptionTypeAsPromise().then(function(){t()})})})},handleChangeForLabelDisplayOptionType:function(){var e=this;var t=e.byId("idLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForLabelText:function(){var t=this,r;var o=t.byId("idPropertyLabelText").getValue();var a=i.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(e.texts.NOTAVAILABLE));if(o.trim().length===0){r=undefined;t.setPropertyTextLabelKey(a,r);g(t);c(t);t.oConfigurationEditor.setIsUnsaved()}else{t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(o,l).then(function(e){t.setPropertyTextLabelKey(a,e);g(t);c(t);t.oConfigurationEditor.setIsUnsaved()})}},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var t=this;var r=t.getView();var o=r.getViewData().oPropertyOrchestration;var i=t.byId("idPropertyType").getItems();var a=t.byId("idPropertyType").getSelectedKey();var n=t.oTextReader("none");if(this._shallAddPropertyBeHandled(i,a,n,o)){b(t);t.getView().fireEvent(e.events.ADDPROPERTY,{oSourceView:r});t.oConfigurationEditor.setIsUnsaved();T(t)}},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=t.oPropertyTypeState;var o=r.indexOfPropertyTypeViewId(e.getView().getId());if(o>0){var i=r.getViewAt(o-1);b(i.getController())}var a=t.oPropertyOrchestration;a.removePropertyTypeReference(e.getView().getId());return e.updateRepresentationAndView().then(function(){a.updateAllSelectControlsForPropertyType();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});e.oConfigurationEditor.setIsUnsaved();if(o!==0){I(e,o)}e.getView().destroy()})},updateOfConfigurationObjectAsPromise:function(){var e=this;return new Promise(function(t){var r=[];if(e.getView().getViewData().oPropertyOrchestration){r=e.getView().getViewData().oPropertyOrchestration.getPropertyInformationList();e.updatePropertiesInConfiguration(r)}else{e.forceFailSinceOrchestrationIsMissing()}t()})},handleSuggestions:function(e){var t=this;var r=new o.SuggestionTextHandler(t.oTextPool);r.manageSuggestionTexts(e,l)},getSelectedProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId("idPropertyType");t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(t,r,o,a,n){function d(e,t){return e.indexOf(t)!==-1}var p=this;var l=p.byId("idPropertyType");var y=[];var f=o===p.oTextReader("none");if(!a&&n===e.aggregationRoles.DIMENSION){l.addItem(new s({key:p.oTextReader("none"),text:p.oTextReader("none")}))}if(n===e.aggregationRoles.MEASURE){y=JSON.parse(JSON.stringify(r))}else{y=JSON.parse(JSON.stringify(t))}if(!d(y,o)&&!f){y.unshift(o)}y.forEach(function(e){var t=e;if(!d(r,e)&&!f&&e!==""){e=i.addPrefixText([e],p.oTextReader)[0]}var a=new s({key:e,text:e});l.addItem(a);if(t===o){o=e}});l.setSelectedKey(o)},updatePropertiesInConfiguration:function(e){},createNewPropertyInfoAsPromise:function(e){return a.createPromise()},setPropertyInParentObject:function(){},setLabelDisplayOptionTypeAsPromise:function(e){return a.createPromise()},getAllPropertiesAsPromise:function(){return a.createPromise()},getPropertyTextLabelKey:function(e){},setPropertyTextLabelKey:function(e,t){},enableDisableLabelDisplayOptionTypeAsPromise:function(){return a.createPromise()},removePropertyFromParentObject:function(){},addPropertyAsPromise:function(){return a.createPromise()},changeLabelDisplayOption:function(e){},_shallAddPropertyBeHandled:function(t,r,o,i){var a=t.filter(function(e){return e.mProperties.key!==o});if(i&&i.getAggregationRole()===e.aggregationRoles.MEASURE){var n=i._getPropertyTypeRows().length;return n<a.length}if(t.length===0||!r){return false}var s=a.filter(function(e){return e.mProperties.key!==r});var d=r===o;if(s.length<2&&d){return false}else if(s.length<1&&!d){return false}return true}});return V});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/propertyTypeHandler.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeFactory","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/propertyTypeState","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/base/util/deepExtend","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,r,o,a,n,p,jQuery){"use strict";function i(t,r){r.attachEvent(e.events.ADDPROPERTY,t.handlePressOfAdd.bind(t));r.attachEvent(e.events.REMOVEPROPERTY,t.handlePressOfRemove.bind(t));r.attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));t.getView().attachEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT,r.getController().setNextPropertyInParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVECURRENTPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT,r.getController().removePropertyFromParentObject.bind(r.getController()));r.attachEvent(e.events.UPDATEPROPERTYVALUESTATE,t.updatePropertyValueState.bind(t));r.attachEvent(e.events.FOCUSONREMOVE,t.handleFocusOnRemove.bind(t));r.attachEvent(e.events.SETFOCUSONREMOVEICON,r.getController().setFocusOnAddRemoveIcons.bind(r.getController()))}function y(e,t){var r=[];var o=e.getView().getViewData().aPropertiesToBeCreated;o.forEach(function(o){var a=P(e,o,e.nCounter,t);r.push(a.then(e=>e.getController().initPromise))});e.initPromise=jQuery.when.apply(jQuery,r)}async function P(e,r,o,a){var p=n({},e.getView().getViewData().oViewDataForPropertyType);p.oPropertyTypeState=e.oPropertyTypeState;p.oPropertyTypeData=r;p.oPropertyOrchestration=a;p.oPropertyTypeHandlerBackLink=e;var y=e.createId("id"+p.sPropertyType+"View"+e.nCounter);e.oPropertyTypeState.addPropertyAt(r.sProperty,o);e.oPropertyTypeState.addPropertyTypeViewIdAt(y,o);e.nCounter++;var P=await t.createPropertyTypeView(p,y);if(a){a.addPropertyTypeReference(y,r,p.sPropertyType,P)}i(e,P);e.byId("idPropertyTypeVBox").insertItem(P,o);return P}var s=p.extend("sap.apf.modeler.ui.controller.propertyTypeHandler",{_apfName:"propertyTypeHandler",nCounter:0,oPropertyTypeState:{},initPromise:undefined,oPropertyOrchestration:undefined,onInit:function(){var e=this;e.oPropertyOrchestration=e.getView().getViewData().oPropertyOrchestration;e.oPropertyTypeState=new o;y(e,e.oPropertyOrchestration);if(e.oPropertyOrchestration){e.oPropertyOrchestration.updateAllSelectControlsForPropertyType()}},handlePressOfAdd:function(t){var o=this,n={},p;var i=t.getParameter("oSourceView");var y=o.getView().getViewData().oPropertyOrchestration;var s=y.getPropertyTypeRow(i.getId()).sPropertyType;var d=a._mapPropertyType2AggregationRole(s);var T=o.byId("idPropertyTypeVBox").indexOfItem(i)+1;var l=o.getView().getViewData().oViewDataForPropertyType.oParentObject.getId();var v=o.getView().getViewData().oViewDataForPropertyType.oStepPropertyMetadataHandler;var c=v.oStep;var E=c.getType()==="hierarchicalStep";if(E&&s===e.propertyTypes.REPRESENTATIONSORT){d=e.aggregationRoles.MEASURE}a.getConsumableAndAvailablePropertiesAsPromise(l,d,v).then(async function(e){var t=a._relativeComplement(e.available,y.getSelectedProperties());var s=t[0];n.sProperty=s;n.sContext=y.getPropertyTypeRow(i.getId()).propertyRowInformation.sContext;if(r.checkIsNotUndefined(n.sProperty)){p=await P(o,n,T,y);p.getController().setNextPropertyInParentObject()}return y.updateAllSelectControlsForPropertyType()})},handleFocusOnRemove:function(t){var r=this;var o=r.byId("idPropertyTypeVBox");var a=t.getSource();var n=o.indexOfItem(a);var p=r.byId(r.oPropertyTypeState.aPropertyTypeViewIds[n-1]);p.fireEvent(e.events.SETFOCUSONREMOVEICON)},handlePressOfRemove:function(e){var t=this;var r=e.oSourceView||e.getSource();var o=t.byId("idPropertyTypeVBox");var a=o.indexOfItem(r);t.oPropertyTypeState.removePropertyAt(a);t.oPropertyTypeState.removePropertyTypeViewIdAt(a);o.removeItem(r)},updatePropertyValueState:function(e){var t=this;var r=e.getSource();var o=e.getParameter("sProperty");var a=t.byId("idPropertyTypeVBox").indexOfItem(r);t.oPropertyTypeState.updatePropertyAt(o,a)},handleRemoveOfProperty:function(){var t=this;var o=t.byId("idPropertyTypeVBox");if(r.checkIsNotUndefined(o)){o.getItems().forEach(function(t){t.fireEvent(e.events.REMOVEPROPERTYFROMPARENTOBJECT)})}},handleSettingTopNProperties:function(){var t=this;t.getView().fireEvent(e.events.SETNEXTPROPERTYINPARENTOBJECT)}});return s},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/representation.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/representationHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/representationBasicDataHandler","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/modeler/ui/utils/viewValidator","sap/base/util/deepExtend","sap/m/Button","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/thirdparty/jquery"],function(e,t,n,r,a,i,o,s,p,d,u,l,f,c,g,y,jQuery){"use strict";var T,v,m,h,D,P,E,w,C,I;var V=r.representationMetadata.labelDisplayOptions;function R(e){e.byId("idVisualization").setText(v.getText("visualization"));e.byId("idChartTypeLabel").setText(v.getText("chartType"));e.byId("idChartTypeLabel").setTooltip(v.getText("chartType"));e.byId("idBasicData").setText(v.getText("basicData"));e.byId("idSorting").setText(v.getText("sorting"));e.byId("idChartType").setValueStateText(v.getText("modeler.ui.representation.invalidChartTypeError"))}function b(e,t){var n;var r=P.getPictureOfRepresentationType(h.getRepresentationType());var a=m.getCategoriesForStep(D.getId());if(a.length===1){n={id:h.getId(),icon:r};if(t){n.name=t}e.getView().getViewData().updateSelectedNode(n)}else{e.getView().getViewData().updateTree()}}function x(e,t){var n=v.getText("representation")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(n)}function M(e){h.setRepresentationType(e);var t="TableRepresentation";if(e===n.representationTypes.TABLE_REPRESENTATION||e===n.representationTypes.TREE_TABLE_REPRESENTATION){t=undefined}h.setAlternateRepresentationType(t)}function S(e){var t;var n=jQuery.Deferred();E.getEntityTypeMetadataAsPromise().done(function(r){var a=E.getDimensionsProperties(r);var i=P.getKindsForDimensionPropertyType(e);i.forEach(function(e,n){t=false;var i;var o;var s=a[n];if(h.getDimensions().length!==0){if(h.getDimensions()[n]){if(h.getDimensionKind(h.getDimensions()[n])){t=true}}}if(!t&&s){i=E.hasTextPropertyOfDimension(r,s);o=i?V.KEY_AND_TEXT:V.KEY;h.addDimension(s);h.setLabelDisplayOption(s,o);h.setDimensionKind(s,e)}});n.resolve()});return n.promise()}function A(e){var t;var n=E.oStep.getService();var r=E.oStep.getEntitySet();var a=E.oStep.getHierarchyProperty();m.getHierarchyNodeIdAsPromise(n,r,a).done(function(n){t=E.hasTextPropertyOfDimension(e,n)});return t}function K(e){var t,n;var r=jQuery.Deferred();E.getEntityTypeMetadataAsPromise().done(function(e){var a=E.getHierarchicalProperty();if(a&&h.getHierarchyPropertyLabelDisplayOption()===undefined){t=A(e);n=t?V.TEXT:V.KEY;h.setHierarchyPropertyLabelDisplayOption(n)}r.resolve()});return r.promise()}function O(e){var t=jQuery.Deferred(),n,r;var a;var i=0;E.getEntityTypeMetadataAsPromise().done(function(o){a=P.getKindsForMeasurePropertyType(e);n=E.getMeasures(o);a.forEach(function(t){var a=P.getDefaultCountForRepresentationKind(e,t);for(var o=0;o<a;o++){r=false;var s=n[i];if(h.getMeasures().length!==0){if(h.getMeasures()[i]){if(h.getMeasureKind(h.getMeasures()[i])){r=true}}}if(!r&&s){h.addMeasure(s);h.setMeasureKind(s,t)}i++}});t.resolve()});return t.promise()}function H(e){var t=jQuery.Deferred();var n,r;if(e==="TableRepresentation"){if(h.getProperties().length===0){r=P.getKindsForPropertyType(e);n=E.getProperties()[0];h.addProperty(n);h.setPropertyKind(n,r[0]);t.resolve()}else{t.resolve()}}else if(e==="TreeTableRepresentation"){K(e).done(function(){t.resolve()})}else{S(e).done(function(){O(e).done(function(){t.resolve()})})}return t.promise()}function L(){if(T&&T.arguments&&T.arguments.stepId){D=m.getStep(T.arguments.stepId)}}function N(){var e=v.getRepresentationTypes()[0].id;if(D.getType()==="hierarchicalStep"){e="TreeTableRepresentation"}return e}function B(e){var t;var n=jQuery.Deferred();if(T&&T.arguments&&T.arguments.representationId){h=D.getRepresentation(T.arguments.representationId)}if(!a.checkIsNotUndefined(h)){h=D.createRepresentation();t=N();M(t);b(e,v.getText(t));m.setIsUnsaved();H(t).done(function(){return n.resolve()})}else{t=h.getRepresentationType();j().done(function(){H(t).done(function(){return n.resolve()})})}return n.promise()}function _(e){var t=new f({id:e.createId("idPreviewButton"),text:v.getText("preview"),press:e.handlePreviewButtonPress.bind(e)});var n=e.getView().getViewData().oFooter;n.addContentRight(t)}async function F(t){var n=t.getView().getViewData().oConfigurationHandler.getTextPool();var r={oTextReader:v.getText,oConfigurationEditor:m,oTextPool:n,oParentObject:h,oParentStep:D,oRepresentationTypeHandler:P};var a=await c.create({name:"sap.apf.modeler.ui.controller.representationCornerTexts"});var i=await g.create({viewName:"sap.apf.modeler.ui.view.cornerTexts",type:y.XML,id:t.createId("representationCornerTexts"),viewData:r,controller:a});t.byId("idCornerTextsVBox").insertItem(i);t.getView().attachEvent(e.events.representation.SETCHARTICON,i.getController().setChartIcon.bind(i.getController()))}function U(){h.getDimensions().forEach(function(e){h.removeDimension(e)});h.getMeasures().forEach(function(e){h.removeMeasure(e)})}function k(){var e,t;if(h.getRepresentationType()==="TableRepresentation"){e=h.getDimensions();t=h.getMeasures();e.forEach(function(e){h.addProperty(e);h.setPropertyTextLabelKey(e,h.getDimensionTextLabelKey(e));h.setPropertyKind(e,r.representationMetadata.kind.COLUMN);m.setIsUnsaved()});t.forEach(function(e){h.addProperty(e);h.setPropertyTextLabelKey(e,h.getMeasureTextLabelKey(e));h.setPropertyKind(e,r.representationMetadata.kind.COLUMN);m.setIsUnsaved()});U()}}function X(e){var t;E.getEntityTypeMetadataAsPromise().done(function(n){t=E.hasTextPropertyOfDimension(n,e);if(t){h.setLabelDisplayOption(e,V.KEY_AND_TEXT)}else{h.setLabelDisplayOption(e,V.KEY)}m.setIsUnsaved()})}function Y(){var e=jQuery.Deferred();E.getEntityTypeMetadataAsPromise().done(function(t){h.getDimensions().forEach(function(e){if(h.getLabelDisplayOption(e)===undefined){X(e)}});e.resolve()});return e.promise()}function j(){k();return Y()}async function z(e){I.instantiateRepresentationSortData();await F(e);return C.instantiateBasicDataAsPromise()}function q(e){if(!e.getValidationState()){if(e.byId("idChartType").getValueState("None")){setTimeout(function(){e.byId("idChartType").setValueState("Error")},1)}}else{e.byId("idChartType").setValueState("None")}}var J=c.extend("sap.apf.modeler.ui.controller.representation",{onInit:function(){var e=this;e.promiseControllerIsCreated=new Promise(function(n){var r=e.getView().getViewData();v=r.oCoreApi;T=r.oParams;m=r.oConfigurationEditor;P=new d;e.oViewValidator=new u(e.getView());R(e);L();if(D.getType()!=="hierarchicalStep"){_(e)}E=new(r.StepPropertyMetadataHandler||p)(v,D);B(e).then(function(){w=new t(h,P,v.getText);C=new s(e.getView(),E,w,e.oViewValidator);I=new o(e.getView(),h,E,v.getText);z(e).then(function(){e.setDetailData();n()})})})},promiseControllerIsCreated:null,setDetailData:function(){var e=this;e._setChartType()},handleChangeForChartType:function(t){var n=this;var r=t.getParameter("selectedItem").getKey();var a=v.getText(r);var i=h.getRepresentationType();M(r);b(n,a);x(n,a);if(!P.isChartTypeSimilar(i,r)){n.getView().fireEvent(e.events.REMOVEALLPROPERTIESFROMPARENTOBJECT);U();H(r).done(function(){C.instantiateBasicDataAsPromise().then(function(){q(n)});n.getView().fireEvent(e.events.representation.SETCHARTICON);m.setIsUnsaved()})}else{C.instantiateBasicDataAsPromise().then(function(){q(n)});n.getView().fireEvent(e.events.representation.SETCHARTICON);m.setIsUnsaved()}},handlePreviewButtonPress:function(){var e=this;var t={oParentStep:D,oRepresentation:h,oConfigurationHandler:e.getView().getViewData().oConfigurationHandler,oCoreApi:v,oRepresentationHandler:w,oStepPropertyMetadataHandler:E,oRepresentationTypeHandler:P};g.create({id:e.createId("idPreviewContentView"),viewName:"sap.apf.modeler.ui.view.previewContent",type:y.XML,viewData:t})},onExit:function(){var e=this;e.getView().getViewData().oFooter.removeContentRight(e.byId("idPreviewButton"));C.destroyBasicData();I.destroySortData();e.byId("idCornerTextsVBox").destroyItems()},getValidationState:function(){return this.oViewValidator.getValidationState()},_setChartType:function(){var e=this;E.getEntityTypeMetadataAsPromise().done(function(t){var n;var r=E.getDimensionsProperties(t);var a=E.getMeasures(t);var o=e._getAnnotatedChartTypes(P.aRepresentationTypes,E.getRepresentationTypesArray(),r,a,v);n=i.prepareModel(o);e.byId("idChartType").setModel(n);e.byId("idChartType").setSelectedKey(h.getRepresentationType());q(e)})},_getAnnotatedChartTypes:function(e,t,n,r,a){function i(e,t){var n;e.forEach(function(e){if(e["id"]===t){n=e}});return n}var o=l([],t);o.forEach(function(t){var o=0,s=0;var p=i(e,t.key);if(p.metadata&&p.id!=="TableRepresentation"&&p.id!=="TreeTableRepresentation"){p.metadata.dimensions.supportedKinds.forEach(function(e){o+=parseInt(e.min,10)});p.metadata.measures.supportedKinds.forEach(function(e){s+=parseInt(e.min,10)});if(n.length<o||r.length<s){t.name=a.getText("modeler.ui.representation.invalidChartTypes",[t.name])}}});return o}});return J},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationCornerTexts.controller", ["sap/apf/modeler/ui/controller/cornerTexts","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t,r){"use strict";function a(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var n=e.extend("sap.apf.modeler.ui.controller.representationCornerTexts",{addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("repLeftCornerText");e.byId("idRightUpper").addStyleClass("repRightCornerText");e.byId("idLeftLower").addStyleClass("repLeftCornerText");e.byId("idRightLower").addStyleClass("repRightCornerText")},setChartIcon:function(){var e=this;var t=e.getView().getViewData().oParentObject.getRepresentationType();var r=e.getView().getViewData().oRepresentationTypeHandler.getPictureOfRepresentationType(t);e.byId("idChartIcon").setSrc(r);e.byId("idChartIcon").addStyleClass("repChartIcon")},getTranslationFormatMap:function(){return r.TranslationFormatMap.REPRESENTATION_CORNER_TEXT},getLeftUpperCornerText:function(e){var r=this;var n=r.getView().getViewData().oParentStep[e]();var i=a(r,n);var o=r.getView().getViewData().oParentObject[e]();var s=a(r,o);var d=t.checkIsNotUndefined(s)?s:i;return d},getRightUpperCornerText:function(e){var r=this;var n=r.getView().getViewData().oParentStep[e]();var i=a(r,n);var o=r.getView().getViewData().oParentObject[e]();var s=a(r,o);var d=t.checkIsNotUndefined(s)?s:i;return d},getLeftLowerCornerText:function(e){var r=this;var n=r.getView().getViewData().oParentStep[e]();var i=a(r,n);var o=r.getView().getViewData().oParentObject[e]();var s=a(r,o);var d=t.checkIsNotUndefined(s)?s:i;return d},getRightLowerCornerText:function(e){var r=this;var n=r.getView().getViewData().oParentStep[e]();var i=a(r,n);var o=r.getView().getViewData().oParentObject[e]();var s=a(r,o);var d=t.checkIsNotUndefined(s)?s:i;return d}});return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationDimension.controller", ["sap/apf/core/constants","sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/apf/modeler/ui/utils/textManipulator"],function(e,t,r,a,o,n){"use strict";var i=e.representationMetadata;return t.extend("sap.apf.modeler.ui.controller.representationDimension",{_apfName:"representationDimension",setLabelDisplayOptionTypeAsPromise:function(t){var o=this;var i=jQuery.Deferred();var s=[];var p=new a(o.oTextReader,t);var d=e.representationMetadata.labelDisplayOptions;var y=n.removePrefixText(o.byId("idPropertyType").getSelectedKey(),o.oTextReader(r.texts.NOTAVAILABLE));var l=o.oRepresentation.getLabelDisplayOption(y);var P=p.getLabelDisplayOptions();o.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((l===d.KEY_AND_TEXT||l===d.TEXT)&&!o.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,y)){P=p.getValidatedLabelDisplayOptions();s=n.addPrefixText([l],o.oTextReader);l=s[0]}o.byId("idLabelDisplayOptionType").setModel(P);o.byId("idLabelDisplayOptionType").setSelectedKey(l);i.resolve()});return i.promise()},getAllPropertiesAsPromise:function(){var e=this;var t=e.oStepPropertyMetadataHandler.oStep;var a=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){var s=[];t.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(t){var p=t.consumable;p.forEach(function(t){var a;if(e.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)){a=e.oStepPropertyMetadataHandler.getPropertyMetadata(i,t)["aggregation-role"];if(a===r.aggregationRoles.DIMENSION){s.push(t)}}});var d=e.getSelectedProperty();a.resolve(o.getPropertyListAndSelectedKey(s,d,e,t,n.addPrefixText))})});return a.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getDimensionTextLabelKey(e)},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualDimensions().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},updatePropertiesInConfiguration:function(e){var t=this;t.removeProperties();e.forEach(function(e){t.oRepresentation.addDimension(e.sProperty);t.oRepresentation.setDimensionKind(e.sProperty,e.sKind);t.oRepresentation.setLabelDisplayOption(e.sProperty,e.sLabelDisplayOption);t.oRepresentation.setDimensionTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=jQuery.Deferred();var r=this,a={};r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(o){var n=r.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(o,e);a.sProperty=e;a.sKind=r.getView().getViewData().oPropertyTypeData.sContext;a.sLabelDisplayOption=n?i.labelDisplayOptions.KEY_AND_TEXT:i.labelDisplayOptions.KEY;a.sTextLabelKey=undefined;t.resolve(a)});return t.promise()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setDimensionTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,t=this;var a=jQuery.Deferred();var o=t.byId("idLabelDisplayOptionType");var i=n.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(r.texts.NOTAVAILABLE));t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(r){var n=t.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(r,i);if(i===t.oTextReader("none")){o.setEnabled(false);a.resolve()}else{o.setEnabled(true);for(e=0;e<o.getItems().length;e++){o.getItems()[e].setEnabled(true);if(e>0&&!n){o.getItems()[e].setEnabled(false)}}a.resolve()}});return a.promise()},changeLabelDisplayOption:function(e){var t=this;var a=n.removePrefixText(t.byId("idPropertyType").getSelectedKey(),t.oTextReader(r.texts.NOTAVAILABLE));t.oRepresentation.setLabelDisplayOption(a,e)},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeDimension(n.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(r.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=jQuery.Deferred();var t=this,a,o=[];var n=t.oStepPropertyMetadataHandler.oStep;t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){n.getConsumablePropertiesForRepresentation(t.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(e){if(t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)){a=t.oStepPropertyMetadataHandler.getPropertyMetadata(i,e)["aggregation-role"];if(a===r.aggregationRoles.DIMENSION){o.push(e)}}});t.getView().fireEvent(r.events.ADDPROPERTY,{sProperty:o[0],sContext:t.getView().getViewData().oPropertyTypeData.sContext,bMandatory:t.getView().getViewData().oPropertyTypeData.bMandatory});t.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationHierarchyProperty.controller", ["sap/apf/core/constants","sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";function o(e,t){var r;var a=t.oStepPropertyMetadataHandler.oStep.getService();var o=t.oStepPropertyMetadataHandler.oStep.getEntitySet();var i=t.oStepPropertyMetadataHandler.oStep.getHierarchyProperty();t.oConfigurationEditor.getHierarchyNodeIdAsPromise(a,o,i).done(function(a){r=t.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,a)});return r}return t.extend("sap.apf.modeler.ui.controller.representationHierarchyProperty",{onBeforeRendering:function(){var e=this;e.byId("idPropertyType").setEnabled(false)},setLabelDisplayOptionTypeAsPromise:function(t){var i=jQuery.Deferred();var n,p,s,l,d=this,y=[];n=new a(d.oTextReader,t);p=e.representationMetadata.labelDisplayOptions;l=d.oRepresentation.getHierarchyPropertyLabelDisplayOption();s=n.getLabelDisplayOptions();d.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if(l===p.TEXT&&!o(e,d)){s=n.getValidatedLabelDisplayOptions();y=r.addPrefixText([l],d.oTextReader);l=y[0]}d.byId("idLabelDisplayOptionType").setModel(s);d.byId("idLabelDisplayOptionType").setSelectedKey(l);i.resolve()});return i.promise()},changeLabelDisplayOption:function(e){var t=this;t.oRepresentation.setHierarchyPropertyLabelDisplayOption(e)},getAllPropertiesAsPromise:function(){var e=this,t,a,o=[];var i=e.oStepPropertyMetadataHandler.oStep;var n=jQuery.Deferred();i.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(i){i.available.forEach(function(t){if(t===e.oStepPropertyMetadataHandler.getHierarchicalProperty()){o.push(t)}});t=e.getSelectedProperty();if(t!==undefined){a=o.indexOf(t)!==-1?o:o.concat(t);if(i.available.indexOf(t)!==-1){o=a}else{o=o.concat(r.addPrefixText([t],e.oTextReader));t=r.addPrefixText([t],e.oTextReader)[0]}}n.resolve({aAllProperties:o,sSelectedKey:t})});return n.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,t=this;var r=jQuery.Deferred();var a=t.byId("idLabelDisplayOptionType");t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){var n=o(i,t);for(e=0;e<a.getItems().length;e++){a.getItems()[e].setEnabled(true);if(e>0&&!n){a.getItems()[e].setEnabled(false)}}r.resolve()});return r.promise()},getPropertyTextLabelKey:function(){var e=this;return e.oRepresentation.getHierarchyPropertyTextLabelKey()},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setHierarchyPropertyTextLabelKey(t)},setNextPropertyInParentObject:function(){return},removePropertyFromParentObject:function(){return},setFocusOnAddRemoveIcons:function(){return}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationLegend.controller", ["sap/apf/modeler/ui/controller/representationDimension.controller","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator"],function(e,t,r){"use strict";return e.extend("sap.apf.modeler.ui.controller.representationLegend",{getAllPropertiesAsPromise:function(){var e=this,a,o,n,i,s=[];var d=e.oStepPropertyMetadataHandler.oStep;var p=t;var l=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){d.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(d){a=d.consumable;a.forEach(function(r){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(t,r)){i=e.oStepPropertyMetadataHandler.getPropertyMetadata(t,r)["aggregation-role"];if(i===p.aggregationRoles.DIMENSION){s.push(r)}}});o=e.getSelectedProperty();if(o!==e.oTextReader("none")&&o!==undefined){n=s.indexOf(o)!==-1?s:s.concat(o);s=d.available.indexOf(o)!==-1?n:s.concat(r.addPrefixText([o],e.oTextReader));o=d.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}s.splice(0,0,e.oTextReader("none"));l.resolve({aAllProperties:s,sSelectedKey:o})})});return l.promise()},removeProperties:function(){var e=this;e.getView().getViewData().oRepresentationHandler.getActualLegends().forEach(function(t){e.oRepresentation.removeDimension(t.sProperty)})},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=jQuery.Deferred();var a,o=this;var n=o.byId("idLabelDisplayOptionType");var i=r.removePrefixText(o.byId("idPropertyType").getSelectedKey(),o.oTextReader(t.texts.NOTAVAILABLE));o.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){var r=o.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(t,i);if(i===o.oTextReader("none")){n.setEnabled(false);e.resolve();return}n.setEnabled(true);for(a=0;a<n.getItems().length;a++){n.getItems()[a].setEnabled(true);if(a>0&&!r){n.getItems()[a].setEnabled(false)}}e.resolve()});return e.promise()},addPropertyAsPromise:function(){var e=jQuery.Deferred();var r=this,a,o=[];var n=r.oStepPropertyMetadataHandler.oStep;var i=t;r.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){n.getConsumablePropertiesForRepresentation(r.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(e){if(r.oStepPropertyMetadataHandler.getPropertyMetadata(t,e)){a=r.oStepPropertyMetadataHandler.getPropertyMetadata(t,e)["aggregation-role"];if(a===i.aggregationRoles.DIMENSION){o.push(e)}}});r.getView().fireEvent(i.events.ADDPROPERTY,{sProperty:o[0],sContext:r.getView().getViewData().oPropertyTypeData.sContext});r.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationMeasure.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/core/constants","sap/apf/utils/utils"],function(e,t,a,r,o,n){"use strict";return e.extend("sap.apf.modeler.ui.controller.representationMeasure",{setLabelDisplayOptionTypeAsPromise:function(e){var t=this;var r=t.getView().getViewData().oPropertyTypeData.sProperty;if(!t.oRepresentationTypeHandler.isCombinationChart(t.oRepresentation.getRepresentationType())){if(t.byId("idLabelDisplayOptionType")){t.byId("idLabelDisplayOptionType").destroy();t.byId("idPropertyTypeLayout").setSpan("L4 M4 S4");t.oRepresentation.setMeasureDisplayOption(r,undefined)}}else{var n=new a(t.oTextReader,e);var i=n.getMeasureDisplayOptions();t.byId("idLabelDisplayOptionType").setModel(i);var s=t.oRepresentation.getMeasureDisplayOption(r);if(!s){var p=t.getView().getViewData().oPropertyTypeData.bMandatory?o.representationMetadata.measureDisplayOptions.BAR:o.representationMetadata.measureDisplayOptions.LINE;t.byId("idLabelDisplayOptionType").setSelectedKey(p);t.oRepresentation.setMeasureDisplayOption(r,p)}else{t.byId("idLabelDisplayOptionType").setSelectedKey(s)}}return jQuery.Deferred().resolve()},changeLabelDisplayOption:function(e){var t=this;var a=t.getView().getViewData().oPropertyTypeData.sProperty;t.oRepresentation.setMeasureDisplayOption(a,e)},getAllPropertiesAsPromise:function(){var e=this,a,o,n,i,s=[];var p=e.oStepPropertyMetadataHandler.oStep;var y=t;var d=jQuery.Deferred();e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){p.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(p){a=p.consumable;a.forEach(function(a){if(e.oStepPropertyMetadataHandler.getPropertyMetadata(t,a)){i=e.oStepPropertyMetadataHandler.getPropertyMetadata(t,a)["aggregation-role"];if(i===y.aggregationRoles.MEASURE){s.push(a)}}});o=e.getSelectedProperty();if(o!==undefined){n=s.indexOf(o)!==-1?s:s.concat(o);s=p.available.indexOf(o)!==-1?n:s.concat(r.addPrefixText([o],e.oTextReader));o=p.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}d.resolve({aAllProperties:s,sSelectedKey:o})})});return d.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getMeasureTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getMeasures().forEach(function(e){t.oRepresentation.removeMeasure(e)});e.forEach(function(e){t.oRepresentation.addMeasure(e.sProperty);t.oRepresentation.setMeasureKind(e.sProperty,e.sKind);t.oRepresentation.setMeasureTextLabelKey(e.sProperty,e.sTextLabelKey);t.oRepresentation.setMeasureDisplayOption(e.sProperty,e.sMeasureDisplayOption)})},createNewPropertyInfoAsPromise:function(e){var t=this,a={};a.sProperty=e;a.sKind=t.getView().getViewData().oPropertyTypeData.sContext;a.sTextLabelKey=undefined;return n.createPromise(a)},setPropertyTextLabelKey:function(e,t){var a=this;a.oRepresentation.setMeasureTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeMeasure(r.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(t.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=jQuery.Deferred();var a=this,r,o=[];var n=a.oStepPropertyMetadataHandler.oStep;var i=t;a.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(t){n.getConsumablePropertiesForRepresentation(a.oRepresentation.getId()).done(function(n){n.consumable.forEach(function(e){if(a.oStepPropertyMetadataHandler.getPropertyMetadata(t,e)){r=a.oStepPropertyMetadataHandler.getPropertyMetadata(t,e)["aggregation-role"];if(r===i.aggregationRoles.MEASURE){o.push(e)}}});a.getView().fireEvent(i.events.ADDPROPERTY,{sProperty:o[0],sContext:a.getView().getViewData().oPropertyTypeData.sContext});a.oConfigurationEditor.setIsUnsaved();e.resolve()})});return e.promise()}})});
sap.ui.predefine("sap/apf/modeler/ui/controller/representationProperty.controller", ["sap/apf/modeler/ui/controller/propertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(e,t,r,o,jQuery){"use strict";return e.extend("sap.apf.modeler.ui.controller.representationProperty",{onBeforeRendering:function(){var e=this;if(e.byId("idLabelDisplayOptionType")){e.byId("idLabelDisplayOptionType").destroy()}e.byId("idPropertyTypeLayout").setSpan("L4 M4 S4")},getAllPropertiesAsPromise:function(){var e=this,t,o,n=[];var a=e.oStepPropertyMetadataHandler.oStep;var i=jQuery.Deferred();a.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(a){a.consumable.forEach(function(t){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(t===e){n.push(t)}})});t=e.getSelectedProperty();if(t!==e.oTextReader("none")&&t!==undefined){o=n.indexOf(t)!==-1?n:n.concat(t);if(a.available.indexOf(t)!==-1||t===e.oTextReader("none")){n=o}else{n=n.concat(r.addPrefixText([t],e.oTextReader));t=r.addPrefixText([t],e.oTextReader)[0]}}if(e.oStepPropertyMetadataHandler.getStepType()==="hierarchicalStep"){n.splice(0,0,e.oTextReader("none"))}i.resolve({aAllProperties:n,sSelectedKey:t})});return i.promise()},getPropertyTextLabelKey:function(e){var t=this;return t.oRepresentation.getPropertyTextLabelKey(e)},updatePropertiesInConfiguration:function(e){var t=this;t.oRepresentation.getProperties().forEach(function(e){t.oRepresentation.removeProperty(e)});e.forEach(function(e){t.oRepresentation.addProperty(e.sProperty);t.oRepresentation.setPropertyKind(e.sProperty,e.sKind);t.oRepresentation.setPropertyTextLabelKey(e.sProperty,e.sTextLabelKey)})},createNewPropertyInfoAsPromise:function(e){var t=this,r={};r.sProperty=e;r.sKind=t.getView().getViewData().oPropertyTypeData.sContext;r.sTextLabelKey=undefined;return o.createPromise(r)},setPropertyTextLabelKey:function(e,t){var r=this;r.oRepresentation.setPropertyTextLabelKey(e,t)},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObjectAsPromise().then(function(){e.setDetailData()})},removePropertyFromParentObject:function(){var e=this;e.oRepresentation.removeProperty(r.removePrefixText(e.byId("idPropertyType").getSelectedKey(),e.oTextReader(t.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this,r=[];var o=e.oStepPropertyMetadataHandler.oStep;var n=t;o.getConsumablePropertiesForRepresentation(e.oRepresentation.getId()).done(function(t){t.consumable.forEach(function(t){e.oStepPropertyMetadataHandler.getProperties().forEach(function(e){if(t===e){r.push(t)}})});e.getView().fireEvent(n.events.ADDPROPERTY,{sProperty:r[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved()})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/representationSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o=e.extend("sap.apf.modeler.ui.controller.representationSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L2 M2 S2");e.byId("idGridSortProperty").setSpan("L4 M4 S4");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L3 M3 S2");e.byId("idGridIconLayout").setSpan("L1 M1 S1")},disableView:function(){var e=this;if(e.oStepPropertyMetadataHandler.oStep.getTopN()){e.byId("idSortProperty").setEnabled(false);e.byId("idSortDirection").setEnabled(false);e.byId("idAddPropertyIcon").setVisible(false);e.byId("idRemovePropertyIcon").setVisible(false)}},getAllPropertiesAsPromise:function(){var e=this,t,o,i;var n=jQuery.Deferred();e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(a){t=a.consumable;o=e.getSelectedSortProperty();if(o!==e.oTextReader("none")&&o!==undefined){i=t.indexOf(o)!==-1?t:t.concat(o);t=a.available.indexOf(o)!==-1?i:t.concat(r.addPrefixText([o],e.oTextReader));o=a.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}t.splice(0,0,e.oTextReader("none"));n.resolve({aAllProperties:t,sSelectedKey:o})});return n.promise()},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.removeAllOrderbySpecs();e.forEach(function(e){t.oParentObject.addOrderbySpec(e.property,e.ascending)})},getOrderBy:function(){var e=this;return e.oParentObject.getOrderbySpecifications()},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.oParentObject.removeOrderbySpec(r.removePrefixText(e.byId("idSortProperty").getSelectedKey(),e.oTextReader(t.texts.NOTAVAILABLE)))},addPropertyAsPromise:function(){var e=this;var r=jQuery.Deferred();var o=t.events;e.oStepPropertyMetadataHandler.oStep.getConsumableSortPropertiesForRepresentation(e.oParentObject.getId()).done(function(t){e.getView().fireEvent(o.ADDPROPERTY,{oSourceView:e.getView(),sProperty:t.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();r.resolve()});return r.promise()}});return o},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/requestOptions", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/constants","sap/apf/cloudFoundry/uiHandler","sap/apf/utils/utils","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,t,r,i,o,a,n,l,s,d,u,c){"use strict";var p=s.ValueState;function f(e){e.byId("idSource").attachEvent("selectService",e.handleSelectionOfService.bind(e))}function y(e){var r=jQuery.Deferred();e.setLabelDisplayOptionTypeAsPromise(t).done(function(){if(!e.byId("idOptionalRequestField")){r.resolve()}else{e.enableDisableLabelDisplayOptionTypeAsPromise().done(function(){r.resolve()})}});return r}var g=d.extend("sap.apf.modeler.ui.controller.requestOptions",{viewValidator:{},oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},initPromise:{},onInit:function(){var e=this;this.initPromise=jQuery.Deferred();var t=e.getView().getViewData().oConfigurationHandler.getTextPool();e.oSuggestionTextHandler=new i.SuggestionTextHandler(t);e.viewValidator=new o(e.getView());e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.setDetailData();e.setDisplayText();f(e)},setDetailData:function(){var e=this;e.setSource();e.setEntityAsPromise().done(function(){e.setOptionalHierarchicalProperty();e.setSelectProperties().done(function(){e.setOptionalRequestFieldProperty();y(e).done(function(){e.initPromise.resolve()})})})},setSource:function(){var t=this;var r=t.getSource();t.byId("idSource").setValue("");t.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(r)){t.addOrRemoveMandatoryFieldsAndRequiredFlag(false);return}t.byId("idSource").setValue(r);t.addOrRemoveMandatoryFieldsAndRequiredFlag(true)},setEntityAsPromise:function(){var r=this;var i=jQuery.Deferred();var o,a,n,l;a=r.byId("idSource").getValue();r.byId("idEntity").setModel(null);r.byId("idEntity").clearSelection();if(!e.checkIsNotNullOrUndefinedOrBlank(a)){i.resolve();return i.promise()}r.getAllEntitiesAsPromise(a).done(function(s){n=r.getEntity();if(e.checkIsNotNullOrUndefinedOrBlank(n)){l=r.validateSelectedValues(r,[n],s);s=l.aValues;n=l.aSelectedValues[0]}o=t.convert(s);r.byId("idEntity").setModel(o);if(!e.checkIsNotNullOrUndefinedOrBlank(n)||s.indexOf(n)===-1){r.getAllEntitiesAsPromise(a).done(function(t){n=t[0];if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n)}i.resolve()})}else if(e.checkIsNotNullOrUndefinedOrBlank(n)){r.byId("idEntity").setSelectedKey(n);i.resolve()}});return i.promise()},setSelectProperties:function(){var i=jQuery.Deferred();var o=this;var n,l,s,d,u=[];var c=o.getView().getViewData().oTextReader;n=o.byId("idSource").getValue();var p=o.getIdOfPropertiesControl();o.byId(p).setModel(null);o.byId(p).clearSelection();l=r.removePrefixText(o.byId("idEntity").getSelectedKey(),c(a.texts.NOTAVAILABLE));o.getAllEntitySetPropertiesAsPromise(n,l).done(function(r){s=o.getSelectProperties();if(e.checkIsNotNullOrUndefinedOrBlank(s)){u=o.validateSelectedValues(o,s,r);r=u.aValues;s=u.aSelectedValues}d=t.convert(r);o.byId(p).setModel(d);o.setSelectedKeysForProperties(s);i.resolve()});return i},updateSubViewInstancesOnReset:function(e){var t=this;t.oConfigurationEditor=e.getParameter("oConfigurationEditor");t.oParentObject=e.getParameter("oParentObject");t.setDetailData()},setDisplayText:function(){},handleChangeForSourceAsPromise:function(t){var i=jQuery.Deferred();var o=this,n,l;var s=o.byId("idSource").getValue().trim();var d=o.getView().getViewData().oTextReader;o.setValidationStateForService();if(!e.checkIsNotNullOrUndefinedOrBlank(s)){o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false);o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})}else{o.oConfigurationEditor.registerServiceAsPromise(s).done(function(u){o.getAllEntitiesAsPromise(s).done(function(c){if(u){o.addOrRemoveMandatoryFieldsAndRequiredFlag(true);o.updateSource(s);if(!e.checkIsNotNullOrUndefinedOrBlank(c)){var f={sValueState:p.Error,sValueStateText:d("hierarchicalServiceError")};o.setValidationStateForService(f);o.resetEntityAndProperties();return}}else{o.clearSource();o.addOrRemoveMandatoryFieldsAndRequiredFlag(false)}o.setEntityAsPromise(o).done(function(){n=r.removePrefixText(o.byId("idEntity").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateEntity(n);o.setSelectProperties();l=o.getSelectedKeysForProperties();o.updateSelectProperties(l);o.setOptionalHierarchicalProperty().done(function(){var e=r.removePrefixText(o.byId("idOptionalProperty").getSelectedKey(),d(a.texts.NOTAVAILABLE));o.updateHierarchicalProperty(e);o.setOptionalRequestFieldProperty();o.oConfigurationEditor.setIsUnsaved();o.fireRelevantEvents(t);i.resolve()})})})})}return i.promise()},handleChangeForEntity:function(e){var t=this,i,o;var n=t.getView().getViewData().oTextReader;i=r.removePrefixText(t.byId("idEntity").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateEntity(i);t.setSelectProperties();o=t.getSelectedKeysForProperties();t.updateSelectProperties(o);t.setOptionalHierarchicalProperty();var l=r.removePrefixText(t.byId("idOptionalProperty").getSelectedKey(),n(a.texts.NOTAVAILABLE));t.updateHierarchicalProperty(l);t.setOptionalRequestFieldProperty();t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForSelectProperty:function(e){var t=this;var r=t.getSelectedKeysForProperties();t.updateSelectProperties(r);t.setOptionalRequestFieldProperty();y(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalRequestField:function(e){var t=this;var i=t.getView().getViewData().oTextReader;var o=[r.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),i(a.texts.NOTAVAILABLE))];t.updateOptionalRequestFieldProperty(o);y(t);t.oConfigurationEditor.setIsUnsaved();t.fireRelevantEvents(e)},handleChangeForOptionalLabelDisplayOptionType:function(){var e=this;var t=e.byId("idOptionalLabelDisplayOptionType").getSelectedKey();e.changeLabelDisplayOption(t);e.oConfigurationEditor.setIsUnsaved()},handleChangeForOptionalSelectedPropertyLabelText:function(){var e=this;var t=e.byId("idOptionalSelectedPropertyLabelText").getValue();e.changeOptionalSelectedPropertyLabelText(t);e.oConfigurationEditor.setIsUnsaved()},handleSuggestionsForSource:function(e){var t=this;var r=t.oConfigurationEditor.getAllServices();t.oSuggestionTextHandler.manageSuggestions(e,r)},fireRelevantEvents:function(){},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;t.byId("idEntityLabel").setRequired(e);t.byId(t.getIdOfPropertyLabel()).setRequired(e);if(e){t.viewValidator.addFields(["idEntity",t.getIdOfPropertiesControl()])}else{t.viewValidator.removeFields(["idEntity",t.getIdOfPropertiesControl()])}},handleSelectionOfService:function(e){var t=e.getParameter("sSelectedService");e.getSource().setValue(t);e.getSource().fireEvent("change")},handleShowValueHelpRequest:function(e){var t=this;var r={oTextReader:t.getView().getViewData().oTextReader,parentControl:e.getSource(),getCalatogServiceUri:t.getView().getViewData().getCalatogServiceUri};var i=t.getView().getViewData();if(i.oCoreApi&&i.oCoreApi.isUsingCloudFoundryProxy()){n.showValueHelp(r,i.oCoreApi,this)}else{u.create({id:t.createId("idCatalogServiceView"),viewName:"sap.apf.modeler.ui.view.catalogService",type:c.XML,viewData:r})}},getNonCommonValues:function(t,r){var i=[];if(!e.checkIsNotNullOrUndefined(t)){return i}i=t.filter(function(e){return r.indexOf(e)===-1});return i},validateSelectedValues:function(e,t,i){var o={},a=[],n=[],s=[],d=[],u;var c=e.getView().getViewData().oTextReader;o=l.validateSelectedValues(t,i);a=o.invalid;n=o.valid;s=r.addPrefixText(a,c);d=s.concat(i).length!==0?s.concat(i):i;u=s.concat(n).length!==0?s.concat(n):t;return{aValues:d,aSelectedValues:u}},handleSuggestionsForSelectedPropertyLabel:function(e){this.oSuggestionTextHandler.manageSuggestionTexts(e,i.TranslationFormatMap.STEPFILTERPROPERTY_LABEL)},resetEntityAndProperties:function(){},setOptionalRequestFieldProperty:function(){},setOptionalHierarchicalProperty:function(){return jQuery.Deferred().resolve()},getIdOfPropertiesControl:function(){return"idSelectProperties"},getIdOfPropertyLabel:function(){return"idSelectPropertiesLabel"},setSelectedKeysForProperties:function(e){var t=this;t.byId("idSelectProperties").setSelectedKeys(e)},getSelectedKeysForProperties:function(){var e=this,t=[],i=[];var o=e.getView().getViewData().oTextReader;t=e.byId("idSelectProperties").getSelectedKeys();t.forEach(function(e){i.push(r.removePrefixText(e,o(a.texts.NOTAVAILABLE)))});return i},setValidationStateForService:function(e){var t=this;var r={sValueState:p.None,sValueStateText:""};var i=e?e:r;t.byId("idSource").setValueState(i.sValueState);t.byId("idSource").setValueStateText(i.sValueStateText)},getSource:function(){},updateSource:function(e){},clearSource:function(){},getAllEntitiesAsPromise:function(e){return l.createPromise()},getEntity:function(){},updateEntity:function(e){},clearEntity:function(){},getAllEntitySetPropertiesAsPromise:function(e,t){return l.createPromise()},setLabelDisplayOptionTypeAsPromise:function(e){return l.createPromise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){return l.createPromise()},getSelectProperties:function(){},updateSelectProperties:function(e){},clearSelectProperties:function(){},removeSelectProperties:function(e){},getOptionalRequestFieldProperty:function(){},updateOptionalRequestFieldProperty:function(e){},updateHierarchicalProperty:function(e){},clearOptionalRequestFieldProperty:function(){},removeOptionalRequestFieldProperty:function(e){},changeLabelDisplayOption:function(e){},changeOptionalSelectedPropertyLabelText:function(e){},handleChangeForOptionalProperty:function(){}});return g},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/smartFilterBar.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,t,i){"use strict";var a,r,n,o,s;function u(e){if(a&&a.arguments&&a.arguments.smartFilterId){s=o.getSmartFilterBar()}}async function c(a){var u,c;var l={oTextReader:r,oConfigurationHandler:n,oConfigurationEditor:o,oParentObject:s,getCalatogServiceUri:a.getView().getViewData().getCalatogServiceUri,oCoreApi:a.getView().getViewData().oCoreApi};u=await e.create({name:"sap.apf.modeler.ui.controller.smartFilterBarRequest"});c=await t.create({viewName:"sap.apf.modeler.ui.view.requestOptions",type:i.XML,id:a.createId("idSFBRequestView"),viewData:l,controller:u});a.byId("idSFBRequestVBox").insertItem(c)}return e.extend("sap.apf.modeler.ui.controller.smartFilterBar",{onInit:function(){this._pOnInit=this.onInitAsync()},whenInitialized:function(){return Promise.resolve(this._pOnInit)},onInitAsync:async function(){var e=this;var t=e.getView().getViewData();r=t.getText;a=t.oParams;n=t.oConfigurationHandler;o=t.oConfigurationEditor;u(e);await c(e)},setDetailData:function(){},getValidationState:function(){var e=this;return e.byId("idSFBRequestView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idSFBRequestView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/smartFilterBarRequest.controller", ["sap/apf/modeler/ui/controller/requestOptions"],function(e){"use strict";var t=e.extend("sap.apf.modeler.ui.controller.smartFilterBarRequest",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"))},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false)},onAfterRendering:function(){var e=this;if(e.byId("idSource").getValue().length===0){e.byId("idSource").focus()}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e,t){var i=this;i.byId("idEntityLabel").setRequired(e);if(e){i.viewValidator.addFields(["idEntity"])}else{i.viewValidator.removeFields(["idEntity"])}},getSource:function(){var e=this;return e.oParentObject.getService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsExceptParameterEntitySets(e)},getEntity:function(){var e=this;return e.oParentObject.getEntitySet()},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined)},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/sortPropertyType", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/staticValuesBuilder","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/utils","sap/ui/Device","sap/ui/core/Item","sap/ui/core/mvc/Controller"],function(e,t,r,o,i,n,a,d,s){"use strict";var u="idSortProperty";var p="idSortDirection";var c=r.events;function f(e){e.byId("idSortLabel").setText(e.oTextReader("sortingField"));e.byId("idSortLabel").setTooltip(e.oTextReader("sortingField"));e.byId("idSortDirectionLabel").setText(e.oTextReader("direction"));e.byId("idSortDirectionLabel").setTooltip(e.oTextReader("direction"));e.byId("idAddPropertyIcon").setTooltip(e.oTextReader("addButton"));e.byId("idRemovePropertyIcon").setTooltip(e.oTextReader("deleteButton"))}function l(e){if(a.browser.msie&&a.browser.version>=11){e.byId("idAriaPropertyForSortGroup").setText(e.oTextReader("sorting"))}e.byId("idAriaPropertyForAdd").setText(e.oTextReader("ariaTextForAddIcon"));e.byId("idAriaPropertyForDelete").setText(e.oTextReader("ariaTextForDeleteIcon"))}function y(t){var r=t.byId(u);t.getAllPropertiesAsPromise().done(function(t){var o=e.convert(t.aAllProperties);r.setModel(o);r.setSelectedKey(t.sSelectedKey)})}function g(r){var o=r.byId(p);var i=new t(r.oTextReader,e);var n=i.getSortDirections();o.setModel(n);o.setSelectedKey(r.getView().getViewData().oPropertyTypeData.sContext)}function v(e){var t=true,r=true;var o=e.getView().getViewData().oPropertyTypeState;var i=o.indexOfPropertyTypeViewId(e.getView().getId());if(o.indexOfPropertyTypeViewId(e.getView().getId())===0){r=false}e.byId("idAddPropertyIcon").setVisible(t);e.byId("idRemovePropertyIcon").setVisible(r);if(i>0&&o.aProperties!==undefined){var n=o.getViewAt(i-1);n.oController.byId("idAddPropertyIcon").setVisible(false)}}function P(e,t){var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.aProperties.length;var i=r.getViewAt(t-1);var n=e.oConfigurationEditor.isSaved();if(t>1&&t==o&&n==false){i.oController.byId("idAddPropertyIcon").setVisible(true);i.oController.byId("idRemovePropertyIcon").setVisible(true)}if(t===1&&t==o&&n==false){i.oController.byId("idAddPropertyIcon").setVisible(true)}}}function I(e){e.byId("idAddPropertyIcon").attachEvent(c.SETFOCUSONADDICON,e.setFocusOnAddRemoveIcons.bind(e))}var V=s.extend("sap.apf.modeler.ui.controller.sortPropertyType",{oConfigurationEditor:{},oParentObject:{},oStepPropertyMetadataHandler:{},oTextReader:{},onInit:function(){var e=this;e.oConfigurationEditor=e.getView().getViewData().oConfigurationEditor;e.oParentObject=e.getView().getViewData().oParentObject;e.oStepPropertyMetadataHandler=e.getView().getViewData().oStepPropertyMetadataHandler;e.oTextReader=e.getView().getViewData().oCoreApi.getText;e.setDetailData()},onAfterRendering:function(){var e=this;e.byId("idAddPropertyIcon").fireEvent(c.SETFOCUSONADDICON)},setDetailData:function(){var e=this;f(e);l(e);y(e);g(e);v(e);e.disableView()},handleChangeForSortProperty:function(e){var t=this;var i=o.removePrefixText(t.byId(u).getSelectedKey(),t.oTextReader(r.texts.NOTAVAILABLE));var n=t.getView().getViewData().oPropertyOrchestration;var a=t.getView().getId();return new Promise(function(e){t.getView().fireEvent(c.UPDATEPROPERTYVALUESTATE,{sProperty:i});n.updatePropertyTypeRow(a,i);n.updateAllSelectControlsForPropertyType().then(function(){t.updateOfConfigurationObject();t.oConfigurationEditor.setIsUnsaved();e()})})},handleChangeForSortDirection:function(){var e=this;e.updateOfConfigurationObject();e.oConfigurationEditor.setIsUnsaved()},setFocusOnAddRemoveIcons:function(){var e=this;e.byId("idAddPropertyIcon").focus()},handlePressOfAddPropertyIcon:function(){var e=this;I(e);e.addPropertyAsPromise()},handlePressOfRemovePropertyIcon:function(){var e=this;var t=e.getView().getViewData();var r=e.getView().getViewData().oPropertyTypeState;if(r!==undefined){var o=r.indexOfPropertyTypeViewId(e.getView().getId())}return new Promise(function(r){e.getView().fireEvent(c.FOCUSONREMOVE);var i=t.oPropertyOrchestration;i.removePropertyTypeReference(e.getView().getId());i.updateAllSelectControlsForPropertyType().then(function(){e.updateOfConfigurationObject();t.oPropertyTypeHandlerBackLink.handlePressOfRemove({oSourceView:e.getView()});P(e,o);e.oConfigurationEditor.setIsUnsaved();e.getView().destroy();r()})})},updateOfConfigurationObject:function(){var e=this;var t=e.getView().getViewData().oPropertyOrchestration;var r=t.getSortPropertyInformationList(p);e.updateOfConfigurationObjectOfSubclass(r)},getSelectedSortProperty:function(){var e=this;var t=e.getView().getViewData().oPropertyTypeState;var r=t.getPropertyValueState();var o=t.indexOfPropertyTypeViewId(e.getView().getId());return r[o]},removeAllItemsFromDropDownList:function(){var e=this;var t=e.byId(u);t.getItems().forEach(function(e){t.removeItem(e)})},setItemsOfDropDownList:function(e,t,r){function i(e,t){return e.indexOf(t)!==-1}var n=this;var a=n.byId(u);var s=r===n.oTextReader("none");var p=JSON.parse(JSON.stringify(e));a.addItem(new d({key:n.oTextReader("none"),text:n.oTextReader("none")}));if(!i(p,r)&&!s){p.unshift(r)}p=p.filter(function(e){return e!==n.oTextReader("none")});p.forEach(function(e){var u=e;if(!i(t,e)&&!s){e=o.addPrefixText([e],n.oTextReader)[0]}var p=new d({key:e,text:e});a.addItem(p);if(u===r){r=e}});a.setSelectedKey(r)},updateOfConfigurationObjectOfSubclass:function(e){},getOrderBy:function(){},setNextPropertyInParentObject:function(){},removePropertyFromParentObject:function(){},disableView:function(){},addPropertyAsPromise:function(){return n.createPromise()}});return V},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/step.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/sortDataHandler","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/viewValidator","sap/apf/modeler/ui/utils/stepPropertyMetadataHandler","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,t,i,a,n,r,o,d,s,l,g){"use strict";var c=d.ValueState;var p,u,I,f,S,T,v,b,y,h,m,V;var N=o.TranslationFormatMap.STEP_TITLE;var E=o.TranslationFormatMap.STEP_LONG_TITLE;function C(e){e.byId("idStepBasicData").setText(u("stepBasicData"));e.byId("idStepTitleLabel").setText(u("stepTitle"));e.byId("idStepTitle").setPlaceholder(u("newStep"));e.byId("idStepLongTitleLabel").setText(u("stepLongTitle"));e.byId("idStepLongTitle").setPlaceholder(u("stepLongTitle"));e.byId("idCategoryTitleLabel").setText(u("categoryAssignments"));e.byId("idGlobalLabel").setText(u("globalNavigationTarget"));e.byId("idStepSpecificLabel").setText(u("stepSpecificNavTargets"));e.byId("idDataRequest").setText(u("dataRequest"));e.byId("idFilterMapping").setText(u("filterMap"));e.byId("idFilterMapKeepSourceLabel").setText(u("filterMapKeepSource"));e.byId("idNavigationTarget").setText(u("navigationTargetAssignments"));e.byId("idDataReduction").setText(u("dataReduction"));e.byId("idDataReductionLabel").setText(u("dataReductionType"));e.byId("idNoDataReduction").setText(u("noDataReduction"));e.byId("idTopN").setText(u("topN"));e.byId("idNumberOfRecordsLabel").setText(u("recordNumber"));e.byId("idAriaPropertyForDataReduction").setText(u("dataReductionType"))}function w(e,t){var i=u(m?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().updateTitleAndBreadCrumb(i);R(e,t)}function R(e,t){var i=u(m?"hierarchicalStepTitle":"step")+": "+t;e.getView().getViewData().oTitleBreadCrumbController.byId("IdFormTitle").setText(i)}function F(e,t){var i={id:v.getId(),icon:v.getType()==="hierarchicalStep"?"sap-icon://drill-down":"sap-icon://step"};if(t){i.name=t}e.getView().getViewData().updateSelectedNode(i)}function x(e){var t,a;if(p&&p.arguments&&p.arguments.stepId){v=f.getStep(p.arguments.stepId);m=v&&v.getType()==="hierarchicalStep"?true:false}if(!i.checkIsNotUndefined(v)){a=p.arguments.categoryId;m=p.bIsHierarchicalStep;if(m){t=f.createHierarchicalStep(a)}else{t=f.createStep(a)}v=f.getStep(t);F(e)}}function O(t){var i=this;var a=t.getParameter("bShowFilterMappingLayout");i.byId("idStepFilterMappingVBox").setVisible(a);i.byId("idFilterMapKeepSourceLabel").setVisible(a);i.byId("idFilterKeepSourceCheckBox").setVisible(a);if(!a){i.byId("idFilterMapping").setText("");i.getView().fireEvent(e.events.step.RESETFILTERMAPPINGFIELDS)}else{i.byId("idFilterMapping").setText(u("filterMap"))}}function D(e){e.byId("idDataReductionForm").setVisible(!m)}async function P(e,t,i,a,n){return l.create({viewName:a,type:g.XML,id:e.createId(n),viewData:i,controller:t})}async function L(t){var i,a,n,r,o,d,l;i={oTextReader:u,oConfigurationEditor:f,oTextPool:S,oParentObject:v,oStepPropertyMetadataHandler:V,oCoreApi:t.getView().getViewData().oCoreApi};a=await s.create({name:"sap.apf.modeler.ui.controller.stepCornerTexts"});await P(t,a,i,"sap.apf.modeler.ui.view.cornerTexts","idStepCornerTextView");o=t.byId("idStepCornerTextView");t.byId("idStepCornerTextVBox").insertItem(o);i.oConfigurationHandler=I;i.getCalatogServiceUri=t.getView().getViewData().getCalatogServiceUri;if(m){n=await s.create({name:"sap.apf.modeler.ui.controller.hierarchicalStepRequest"})}else{n=await s.create({name:"sap.apf.modeler.ui.controller.stepRequest"})}await P(t,n,i,"sap.apf.modeler.ui.view.requestOptions","idStepRequestView");d=t.byId("idStepRequestView");t.byId("idStepRequestVBox").insertItem(d);r=await s.create({name:"sap.apf.modeler.ui.controller.stepFilterMapping"});await P(t,r,i,"sap.apf.modeler.ui.view.requestOptions","idStepFilterMappingView");l=t.byId("idStepFilterMappingView");t.byId("idStepFilterMappingVBox").insertItem(l);d.attachEvent(e.events.step.SETDATAREDUCTIONSECTION,t.setDataReductionSection.bind(t));d.attachEvent(e.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,O.bind(t));t.getView().attachEvent(e.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,O.bind(t));d.attachEvent(e.events.step.UPDATEFILTERMAPPINGFIELDS,l.getController().updateFilterMappingFields.bind(l.getController()));t.getView().attachEvent(e.events.step.RESETFILTERMAPPINGFIELDS,l.getController().resetFilterMappingFields.bind(l.getController()));t.getView().attachEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,o.getController().updateSubViewInstancesOnReset.bind(o.getController()));t.getView().attachEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,d.getController().updateSubViewInstancesOnReset.bind(d.getController()));t.getView().attachEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,l.getController().updateSubViewInstancesOnReset.bind(l.getController()));d.addStyleClass("formTopPadding");d.addStyleClass("formBottomPadding");l.addStyleClass("formTopPadding");l.addStyleClass("formBottomPadding")}function M(e){if(!i.checkIsNotNullOrUndefinedOrBlank(f.getStep(p.arguments.stepId))){return}e.byId("idStepTitle").setValue(v.getId());if(i.checkIsNotNullOrUndefinedOrBlank(v.getTitleId())&&S.get(v.getTitleId())){e.byId("idStepTitle").setValue(S.get(v.getTitleId()).TextElementDescription)}}function B(e){if(!i.checkIsNotNullOrUndefinedOrBlank(f.getStep(p.arguments.stepId))){return}e.byId("idStepLongTitle").setValue("");if(i.checkIsNotNullOrUndefinedOrBlank(v.getLongTitleId())&&S.get(v.getLongTitleId())){e.byId("idStepLongTitle").setValue(S.get(v.getLongTitleId()).TextElementDescription)}}function U(e){var t=[];var n=f.getCategories();n.forEach(function(e){var i={};i.CategoryId=e.getId();i.CategoryTitle=S.get(e.labelKey)?S.get(e.labelKey).TextElementDescription:e.labelKey;t.push(i)});var r=a.prepareModel(t,t.length);e.byId("idCategorySelect").setModel(r);var o=f.getCategoriesForStep(v.getId());if(i.checkIsNotNullOrUndefinedOrBlank(o)){e.byId("idCategorySelect").setSelectedKeys(o)}}function A(e){e.byId("idNumberOfRecordsValue").setValue("");e.byId("idNumberOfRecordsValue").setValueState("None");if(v.getTopN()){e.byId("idNumberOfRecordsValue").setValue(v.getTopN().top)}K(e)}function k(e){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idNoDataReduction"));q(e);if(v.getTopN()){e.byId("idDataReductionRadioGroup").setSelectedButton(e.byId("idTopN"))}}function K(e){var t=e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idTopN")?true:false;e.byId("idNumberOfRecordsLabel").setVisible(t);e.byId("idNumberOfRecordsValue").setVisible(t);if(t){b.addField("idNumberOfRecordsValue")}else{b.removeField("idNumberOfRecordsValue")}}function G(t){if(v.getTopN()){y.instantiateStepSortData();if(v.getTopN().orderby.length===0){t.getView().fireEvent(e.events.step.SETTOPNPROPERTIES);var i=h.createMessageObject({code:"11523"});h.putMessage(i)}}else{y.destroySortData()}}function q(e){var t=v.getSelectProperties().length!==0?true:false;e.byId("idDataReductionRadioGroup").setEnabled(t)}function H(t){var i=v.getFilterProperties().length!==0?true:false;t.getView().fireEvent(e.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:i})}function _(e){if(i.checkIsNotNullOrUndefinedOrBlank(v.getFilterMappingKeepSource())){e.byId("idFilterKeepSourceCheckBox").setSelected(v.getFilterMappingKeepSource())}}function j(e,t,i,n){var r=[];if(t.length!==0){i.setBusy(true)}t.forEach(function(e){var o={};o.navTargetKey=e.getId();T(e.getId()).then(function(e){o.navTargetName=e;r.push(o);if(r.length===t.length){var d=a.prepareModel(r,r.length);i.setModel(d);i.setSelectedKeys(n);i.setBusy(false)}})})}function W(e){var t=f.getNavigationTargets();var i=v.getNavigationTargets();var a=t.filter(function(e){return e.isStepSpecific()});j(e,a,e.byId("idStepSpecificCombo"),i)}function Y(e){var t=f.getNavigationTargets();var i=t.filter(function(e){return e.isGlobal()});var a=i.map(function(e){return e.getId()});j(e,i,e.byId("idGlobalCombo"),a)}return s.extend("sap.apf.modeler.ui.controller.step",{onInit:function(){this._pOnInit=this.onInitAsync()},whenInitialized:function(){return Promise.resolve(this._pOnInit)},onInitAsync:async function(){var e=this,i;var a=e.getView().getViewData();h=a.oCoreApi;u=h.getText;p=a.oParams;I=a.oConfigurationHandler;S=I.getTextPool();f=a.oConfigurationEditor;T=a.getNavigationTargetName;b=new n(e.getView());C(e);x(e);V=new(a.StepPropertyMetadataHandler||r)(h,v);y=new t(e.getView(),v,V,u);await L(e);e.setDetailData();i=e.byId("idStepTitle").getValue().trim();if(i===""){i="< "+u("newStep")+" >"}R(e,i);b.addFields(["idStepTitle","idCategorySelect"])},setDetailData:function(){var e=this;M(e);B(e);U(e);e.setDataReductionSection();D(e);H(e);_(e);W(e);Y(e)},onAfterRendering:function(){var e=this;if(e.byId("idStepTitle").getValue().length===0){e.byId("idStepTitle").focus()}},updateSubViewInstancesOnReset:function(t){var i=this;f=t;v=f.getStep(v.getId());i.getView().fireEvent(e.events.UPDATESUBVIEWINSTANCESONRESET,{oConfigurationEditor:f,oParentObject:v})},setDataReductionSection:function(){var e=this;k(e);A(e);G(e)},handleChangeForStepTitle:function(){var e=this;var t=f.getCategoriesForStep(v.getId());var a=e.byId("idStepTitle").getValue().trim();if(i.checkIsNotNullOrUndefinedOrBlank(a)){S.setTextAsPromise(a,N).done(function(i){v.setTitleId(i);if(t.length>1){e.getView().getViewData().updateTree()}else{F(e,a)}w(e,a);f.setIsUnsaved()})}else{f.setIsUnsaved()}},handleSuggestionsForStepTitle:function(e){var t=new o.SuggestionTextHandler(S);t.manageSuggestionTexts(e,N)},handleChangeForStepLongTitle:function(){var e=this;var t=e.byId("idStepLongTitle").getValue().trim();if(i.checkIsNotNullOrUndefined(t)){S.setTextAsPromise(t,E).done(function(e){v.setLongTitleId(e);f.setIsUnsaved()})}else{f.setIsUnsaved()}},handleSuggestionsForStepLongTitle:function(e){var t=new o.SuggestionTextHandler(S);t.manageSuggestionTexts(e,E)},handleChangeForCategory:function(){var e=this;var t=v.getId();var i=p.arguments.categoryId;var a=f.getCategoriesForStep(v.getId());var n=e.byId("idCategorySelect").getSelectedKeys();var r=n.indexOf(i);var o=[];var d=[];var s,l;for(s=0;s<a.length;s++){var g=false;for(l=0;l<n.length;l++){if(a[s]===n[l]){g=true;break}}if(!g){d.push(a[s])}}if(n.length!==0){n.forEach(function(e){f.addCategoryStepAssignment(e,t);var a={oldContext:{name:p.name,arguments:{configId:p.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:p.arguments.configId,categoryId:e}}};if(e!==i){o.push(a)}});a.forEach(function(e){if(n.indexOf(e)===-1){f.removeCategoryStepAssignment(e,v.getId())}});if(d.length!==0){d.forEach(function(e){var a={oldContext:{name:p.name,arguments:{configId:p.arguments.configId,categoryId:i,stepId:t}},newContext:{arguments:{configId:p.arguments.configId,categoryId:e}},removeStep:true};if(r===-1&&e===i){var d={arguments:{appId:p.arguments.appId,configId:p.arguments.configId,categoryId:n[0],stepId:t}};a.categoryChangeContext=d;a.changeCategory=true}o.push(a)})}}if(o.length!==0){e.getView().getViewData().updateTree(o)}f.setIsUnsaved()},handleChangeForDataReductionType:function(){var e=this;if(e.byId("idDataReductionRadioGroup").getSelectedButton()===e.byId("idNoDataReduction")){v.resetTopN();e.setDataReductionSection()}else{y.instantiateStepSortData()}K(e);f.setIsUnsaved()},handleValidationForNumberOfRecords:function(e){var t=e.getSource();var i=t.getValue().trim();var a=i.indexOf("E")!==-1||i.indexOf("e")!==-1||i.indexOf(".")!==-1||i<=0||i>1e4?c.Error:c.None;t.setValueState(a);f.setIsUnsaved()},handleChangeForNoOfRecords:function(t){var a=this;var n=t.getSource().getValue().trim();if(t.getSource().getValueState()===c.Error){return}if(i.checkIsNotNullOrUndefinedOrBlank(n)){if(v.getTopN()===undefined){a.getView().fireEvent(e.events.step.SETTOPNPROPERTIES)}v.setTopNValue(n)}f.setIsUnsaved()},handleFilterMapKeepSource:function(){var e=this;var t=e.byId("idFilterKeepSourceCheckBox").getSelected();v.setFilterMappingKeepSource(t);f.setIsUnsaved()},handleChangeForStepSpecificNavTargets:function(){var e=this;var t=e.byId("idStepSpecificCombo").getSelectedKeys();var i=v.getNavigationTargets();i.forEach(function(e){if(t.indexOf(e)===-1){v.removeNavigationTarget(e)}});t.forEach(function(e){if(i.indexOf(e)===-1){v.addNavigationTarget(e)}});f.setIsUnsaved()},getValidationState:function(){var e=this;return b.getValidationState()&&e.byId("idStepRequestView").getController().getValidationState()&&e.byId("idStepFilterMappingView").getController().getValidationState()},onExit:function(){var e=this;e.byId("idStepCornerTextView").destroy();e.byId("idStepRequestView").destroy();e.byId("idStepFilterMappingView").destroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepCornerTexts.controller", ["sap/apf/modeler/ui/controller/cornerTexts","sap/apf/modeler/ui/utils/textPoolHelper"],function(e,t){"use strict";function r(e,t){var r=t&&e.oTextPool.get(t);return r&&r.TextElementDescription}var a=e.extend("sap.apf.modeler.ui.controller.stepCornerTexts",{setChartIcon:function(){var e=this;e.byId("idChartIcon").setSrc("sap-icon://line-chart");e.byId("idChartIcon").addStyleClass("stepChartIcon")},addStyleClasses:function(){var e=this;e.byId("idLeftUpper").addStyleClass("stepLeftCornerText");e.byId("idRightUpper").addStyleClass("stepRightCornerText");e.byId("idLeftLower").addStyleClass("stepLeftCornerText");e.byId("idRightLower").addStyleClass("stepRightCornerText")},getTranslationFormatMap:function(){return t.TranslationFormatMap.STEP_CORNER_TEXT},getLeftUpperCornerText:function(e){var t=this;var a=t.getView().getViewData().oParentObject[e]();var n=r(t,a);return n},getRightUpperCornerText:function(e){var t=this;var a=t.getView().getViewData().oParentObject[e]();var n=r(t,a);return n},getLeftLowerCornerText:function(e){var t=this;var a=t.getView().getViewData().oParentObject[e]();var n=r(t,a);return n},getRightLowerCornerText:function(e){var t=this;var a=t.getView().getViewData().oParentObject[e]();var n=r(t,a);return n}});return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepFilterMapping.controller", ["sap/apf/core/constants","sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,i,r,a,n,l,jQuery){"use strict";var o=l.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function d(e){var t=e.getView().getViewData().oTextReader;var i=e.oParentObject.getFilterMappingTargetPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(i);e.byId("idOptionalSelectedPropertyLabel").setTooltip(i)}function s(e){var t=e.getSource();var i=e.getEntity();var r;var n=e.oParentObject.getFilterMappingTargetPropertyLabelKey();if(t===undefined||i===undefined){return}if(a.checkIsNotUndefined(n)){r=e.getView().getViewData().oConfigurationHandler.getTextPool().get(n).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(r);return}e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,i).done(function(t){var i=e.oParentObject.getFilterMappingTargetProperties()[0];if(i){r=e.oStepPropertyMetadataHandler.getDefaultLabel(t,i)}e.byId("idOptionalSelectedPropertyLabelText").setValue(r)})}function p(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}var u=t.extend("sap.apf.modeler.ui.controller.stepFilterMapping",{setLabelDisplayOptionTypeAsPromise:function(t){var a=jQuery.Deferred();var l=this;var o=l.getSource();var p=l.getEntity();var u=[];var y=l.getView().getViewData().oTextReader;var c=new r(y,t);var g=c.getLabelDisplayOptions();var b=e.representationMetadata.labelDisplayOptions;var f=n.removePrefixText(l.byId("idOptionalRequestField").getSelectedKey(),y(i.texts.NOTAVAILABLE));d(l);s(l);l.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(!f){l.byId("idOptionalLabelDisplayOptionType").setModel(g);l.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return a.promise()}var P=l.oParentObject.getFilterMappingTargetPropertyLabelDisplayOption();l.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(o,p).done(function(e){if((P===b.KEY_AND_TEXT||P===b.TEXT)&&!e.getPropertyMetadata(f).text){g=c.getValidatedLabelDisplayOptions();u=n.addPrefixText([P],y);P=u[0]}l.byId("idOptionalLabelDisplayOptionType").setModel(g);l.byId("idOptionalLabelDisplayOptionType").setSelectedKey(P);a.resolve()});return a.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e=this;var t=e.getSource();var r=e.getEntity();var a=jQuery.Deferred();var l=e.getView().getViewData().oTextReader;var o=e.byId("idOptionalLabelDisplayOptionType");var d=n.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),l(i.texts.NOTAVAILABLE));e.oStepPropertyMetadataHandler.getFilterMappingEntityTypeMetadataAsPromise(t,r).done(function(e){var t=e.getPropertyMetadata(d).text;o.getItems().forEach(function(e){e.setEnabled(true);if(e.getKey()!=="key"&&!t){e.setEnabled(false)}});a.resolve()});return a.promise()},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterMappingTargetPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterMappingTargetPropertyLabelKey(undefined);d(t);s(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,o).done(function(e){t.oParentObject.setFilterMappingTargetPropertyLabelKey(e);d(t);s(t)})},onBeforeRendering:function(){var e=this;e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalRequestField").setForceSelection(false);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){p(this)},getIdOfPropertiesControl:function(){return"idOptionalRequestField"},getIdOfPropertyLabel:function(){return"idOptionalRequestFieldLabel"},setSelectedKeysForProperties:function(e){var t=this;if(e.length!==0){t.byId("idOptionalRequestField").setSelectedKey(e[0])}else{t.byId("idOptionalRequestField").clearSelection()}},getSelectedKeysForProperties:function(){var e=this,t,r;var l=e.getView().getViewData().oTextReader;t=n.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),l(i.texts.NOTAVAILABLE));r=a.checkIsNotNullOrUndefinedOrBlank(t)?[t]:[];return r},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idOptionalRequestFieldLabel").setText(t("targetProperty"))},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},resetFilterMappingFields:function(){var e=this;e.clearSource();e.byId("idSource").setValue("");e.resetEntityAndProperties();e.addOrRemoveMandatoryFieldsAndRequiredFlag(false)},updateFilterMappingFields:function(){var e=this,t,r,l,o,d;var s=e.getView().getViewData().oTextReader;t=e.byId("idSource").getValue().trim();e.oConfigurationEditor.setIsUnsaved();if(a.checkIsNotNullOrUndefinedOrBlank(t)){e.getAllEntitiesAsPromise(t).done(function(t){if(!a.checkIsNotNullOrUndefinedOrBlank(t)){e.resetEntityAndProperties();return}e.setDetailData();r=n.removePrefixText(e.byId("idEntity").getSelectedKey(),s(i.texts.NOTAVAILABLE));l=a.checkIsNotNullOrUndefinedOrBlank(r)?r:undefined;e.updateEntity(l);o=n.removePrefixText(e.byId("idOptionalRequestField").getSelectedKey(),s(i.texts.NOTAVAILABLE));d=a.checkIsNotNullOrUndefinedOrBlank(o)?[o]:[];e.updateSelectProperties(d)})}},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceWithGivenPropertiesAsPromise(e,t.oParentObject.getFilterProperties())},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var i=this;return i.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)});e.byId("idOptionalSelectedPropertyLabelText").setValue("")},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getFilterMappingTargetProperties());e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;t.updateSelectProperties(e)},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}});return u},true);
sap.ui.predefine("sap/apf/modeler/ui/controller/stepRequest.controller", ["sap/apf/core/constants","sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/modeler/ui/utils/textPoolHelper","sap/ui/thirdparty/jquery"],function(e,t,r,i,a,o,n,l,jQuery){"use strict";var s=l.TranslationFormatMap.STEPFILTERPROPERTY_LABEL;function d(e){var t=e.getView().getViewData().oTextReader;var r=e.oParentObject.getFilterPropertyLabelKey()?t("label"):t("label")+" ("+t("default")+")";e.byId("idOptionalSelectedPropertyLabel").setText(r);e.byId("idOptionalSelectedPropertyLabel").setTooltip(r)}function p(e){var t=jQuery.Deferred();var r;var i=e.oParentObject.getFilterPropertyLabelKey();if(!e.getSource()||!e.getEntity()){return t.resolve()}if(a.checkIsNotUndefined(i)){r=e.getView().getViewData().oConfigurationHandler.getTextPool().get(i).TextElementDescription;e.byId("idOptionalSelectedPropertyLabelText").setValue(r);return t.resolve()}e.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(i){var a=e.oParentObject.getFilterProperties()[0];if(e.oParentObject.getType()==="hierarchicalStep"&&a){a=e.oStepPropertyMetadataHandler.getPropertyMetadata(i,a)["hierarchy-node-for"]}if(a){r=e.oStepPropertyMetadataHandler.getDefaultLabel(i,a)}e.byId("idOptionalSelectedPropertyLabelText").setValue(r);t.resolve()});return t}function c(e){e.byId("idOptionalRequestFieldLabel").addStyleClass("filterPropertyLable");e.byId("idOptionalRequestField").addStyleClass("filterProperty");e.byId("idOptionalLabelDisplayOptionType").addStyleClass("filterProperty")}return t.extend("sap.apf.modeler.ui.controller.stepRequest",{setLabelDisplayOptionTypeAsPromise:function(t){var a=jQuery.Deferred();var o,l,s,c,y,u=this,P=[];var b=u.getView().getViewData().oTextReader;o=new i(b,t);s=o.getLabelDisplayOptions();l=e.representationMetadata.labelDisplayOptions;c=n.removePrefixText(u.byId("idOptionalRequestField").getSelectedKey(),b(r.texts.NOTAVAILABLE));d(u);p(u).done(function(){u.byId("idOptionalLabelDisplayOptionType").setEnabled(true);if(c===b("none")){u.byId("idOptionalLabelDisplayOptionType").setModel(s);u.byId("idOptionalLabelDisplayOptionType").setEnabled(false);return a.promise()}y=u.oParentObject.getFilterPropertyLabelDisplayOption();u.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(e){if((y===l.KEY_AND_TEXT||y===l.TEXT)&&!u.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(e,c)){s=o.getValidatedLabelDisplayOptions();P=n.addPrefixText([y],b);y=P[0]}u.byId("idOptionalLabelDisplayOptionType").setModel(s);u.byId("idOptionalLabelDisplayOptionType").setSelectedKey(y);a.resolve()})});return a.promise()},enableDisableLabelDisplayOptionTypeAsPromise:function(){var e,t=this;var i=jQuery.Deferred();var a=t.getView().getViewData().oTextReader;var o=t.byId("idOptionalLabelDisplayOptionType");var l=n.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),a(r.texts.NOTAVAILABLE));t.oStepPropertyMetadataHandler.getEntityTypeMetadataAsPromise().done(function(r){var a=t.oStepPropertyMetadataHandler.hasTextPropertyOfDimension(r,l);for(e=0;e<o.getItems().length;e++){o.getItems()[e].setEnabled(true);if(e>0&&!a){o.getItems()[e].setEnabled(false)}}i.resolve()});return i.promise()},onBeforeRendering:function(){var e=this;e.byId("idOptionalRequestFieldLabel").setVisible(true);e.byId("idOptionalRequestField").setVisible(true);e.byId("idOptionalLabelDisplayOptionType").setVisible(true);e.byId("idOptionalSelectedPropertyLabel").setVisible(true);e.byId("idOptionalSelectedPropertyLabelText").setVisible(true)},onAfterRendering:function(){var e=this;e.addOrRemoveMandatoryFieldsAndRequiredFlag(true);c(e)},setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setText(t("selectProperties"));e.byId("idOptionalRequestFieldLabel").setText(t("requiredFilters"))},setOptionalRequestFieldProperty:function(){var e=this;var t,r,i,n,l,s=[];var d=e.oParentObject.getFilterProperties();l=[e.getView().getViewData().oTextReader("none")];t=e.byId("idSelectProperties").getSelectedKeys();r=e.oParentObject.getSelectProperties();r.forEach(function(e){if(e===d[0]){i=true}});if(!i&&d.length>0){e.removeOptionalRequestFieldProperty(d);d=e.oParentObject.getFilterProperties()}n=o.convert(l.concat(t));e.byId("idOptionalRequestField").setModel(n);e.byId("idOptionalRequestField").setSelectedKey(l[0]);if(a.checkIsNotNullOrUndefinedOrBlank(d)){s=e.validateSelectedValues(e,d,t);d=s.aSelectedValues;e.byId("idOptionalRequestField").setSelectedKey(d[0])}},addOrRemoveMandatoryFieldsAndRequiredFlag:function(e){var t=this;if(e===false){return}t.byId("idSourceLabel").setRequired(e);t.byId("idEntityLabel").setRequired(e);t.byId("idSelectPropertiesLabel").setRequired(e);t.viewValidator.addFields(["idSource","idEntity","idSelectProperties"])},fireRelevantEvents:function(e){var t=this,i,o;if(e.getSource()!==t.byId("idOptionalRequestField")){i=[n.removePrefixText(t.byId("idOptionalRequestField").getSelectedKey(),t.getView().getViewData().oTextReader(r.texts.NOTAVAILABLE))];if(a.checkIsNotNullOrUndefinedOrBlank(i)){t.updateOptionalRequestFieldProperty(i)}if(t.getSelectProperties().length===0){t.oParentObject.resetTopN()}t.getView().fireEvent(r.events.step.SETDATAREDUCTIONSECTION)}if(e.getSource()===t.byId("idOptionalProperty")){t.setOptionalRequestFieldProperty()}o=t.byId("idOptionalRequestField").getSelectedKey()!==t.getView().getViewData().oTextReader("none")?true:false;t.getView().fireEvent(r.events.step.SETVISIBILITYOFFILTERMAPPINGFIELDS,{bShowFilterMappingLayout:o});t.getView().fireEvent(r.events.step.UPDATEFILTERMAPPINGFIELDS)},getSource:function(){return this.oParentObject.getService()},getAllEntitiesAsPromise:function(e){return this.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){return this.oParentObject.getEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){return this.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},changeLabelDisplayOption:function(e){var t=this;t.oParentObject.setFilterPropertyLabelDisplayOption(e)},changeOptionalSelectedPropertyLabelText:function(e){var t=this;if(e.trim().length===0){t.oParentObject.setFilterPropertyLabelKey(undefined);d(t);p(t);return}t.getView().getViewData().oConfigurationHandler.getTextPool().setTextAsPromise(e,s).done(function(e){t.oParentObject.setFilterPropertyLabelKey(e);d(t);p(t)})},resetEntityAndProperties:function(){var e=this;e.clearEntity();e.byId("idEntity").setModel(null);e.byId("idEntity").setSelectedKey(undefined);e.clearSelectProperties();e.byId("idSelectProperties").setModel(null);e.byId("idSelectProperties").setSelectedKeys([]);e.byId("idOptionalRequestField").setModel(null);e.byId("idOptionalRequestField").setSelectedKey(undefined)},clearSource:function(){var e=this;e.oParentObject.setService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getSelectProperties();t.forEach(function(t){e.oParentObject.removeSelectProperty(t)});e.clearOptionalRequestFieldProperty()},clearOptionalRequestFieldProperty:function(){var e=this;var t=e.oParentObject.getFilterProperties();t.forEach(function(t){e.oParentObject.removeFilterProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeSelectProperty(e)})},removeOptionalRequestFieldProperty:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setService(e)},updateEntity:function(e){var t=this;t.oParentObject.setEntitySet(e)},updateSelectProperties:function(e){var t=this;t.removeSelectProperties(t.oParentObject.getSelectProperties());e.forEach(function(e){t.oParentObject.addSelectProperty(e)})},updateOptionalRequestFieldProperty:function(e){var t=this;var r=t.oParentObject.getFilterPropertyLabelKey();var i=t.oParentObject.getFilterPropertyLabelDisplayOption();var a=t.oParentObject.getFilterProperties();t.removeOptionalRequestFieldProperty(t.oParentObject.getFilterProperties());e.forEach(function(e){if(e!==t.getView().getViewData().oTextReader("none")){t.oParentObject.addFilterProperty(e);if(e===a[0]){t.oParentObject.setFilterPropertyLabelKey(r);t.oParentObject.setFilterPropertyLabelDisplayOption(i)}}})},getSelectProperties:function(){var e=this;return e.oParentObject.getSelectProperties()},getOptionalRequestFieldProperty:function(){var e=this;return e.oParentObject.getFilterProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/controller/stepSortPropertyType.controller", ["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o=e.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L4 M4 S4");e.byId("idGridSortProperty").setSpan("L2 M2 S2");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L2 M2 S2");e.byId("idGridIconLayout").setSpan("L2 M2 S2")},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.setTopNSortProperties(e)},getAllPropertiesAsPromise:function(){var e=this,t,o,i;var n=jQuery.Deferred();e.oParentObject.getConsumablePropertiesForTopN().done(function(a){t=a.consumable;o=e.getSelectedSortProperty();if(o!==undefined){i=t.indexOf(o)!==-1?t:t.concat(o);t=a.available.indexOf(o)!==-1?i:t.concat(r.addPrefixText([o],e.oTextReader));o=a.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}n.resolve({aAllProperties:t,sSelectedKey:o})});return n.promise()},getOrderBy:function(){var e=this;return e.oParentObject.getTopN().orderby},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.updateOfConfigurationObject()},addPropertyAsPromise:function(){var e=this;var r=jQuery.Deferred();var o=t.events;e.oParentObject.getConsumablePropertiesForTopN().done(function(t){e.getView().fireEvent(o.ADDPROPERTY,{oSourceView:e.getView(),sProperty:t.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();r.resolve()});return r.promise()}});return o},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/titleBreadCrumb.controller", ["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("sap.apf.modeler.ui.controller.titleBreadCrumb",{setTitleForDetailPage:function(e){var t=this;t.byId("IdFormTitle").setText(e)}})});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/controller/toolbar.controller", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/navigationHandler","sap/apf/modeler/ui/utils/textPoolHelper","sap/base/util/deepExtend","sap/base/util/extend","sap/m/Label","sap/m/Text","sap/ui/core/Fragment","sap/ui/core/Popup","sap/ui/core/UIComponent","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/core/syncStyleClass"],function(e,t,i,n,o,a,s,r,g,d,f,c,l,p,I){"use strict";const C=g.Dock;return f.extend("sap.apf.modeler.ui.controller.toolbar",{onInit:function(){this.oCoreApi=this.getView().getViewData().oConfigListInstance.oCoreApi;this.oConfigListInstance=this.getView().getViewData().oConfigListInstance;this._setDisplayText()},_setDisplayText:function(){this.byId("idAddButton").setText(this.oCoreApi.getText("addButton"));this.byId("idCopyButton").setText(this.oCoreApi.getText("copyButton"));this.byId("idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));this.byId("idMoveUp").setTooltip(this.oCoreApi.getText("moveUp"));this.byId("idMoveDown").setTooltip(this.oCoreApi.getText("moveDown"))},enableCopyDeleteButton:function(){if(!this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(true)}if(!this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(true)}},disableCopyDeleteButton:function(){if(this.byId("idCopyButton").getEnabled()){this.byId("idCopyButton").setEnabled(false)}if(this.byId("idDeleteButton").getEnabled()){this.byId("idDeleteButton").setEnabled(false)}},_setAddMenuText:function(){r.byId("idAddMenuFragment","idNewConfig").setText(this.oCoreApi.getText("newConfiguration"));r.byId("idAddMenuFragment","idNewFacetFilter").setText(this.oCoreApi.getText("newFacetFilter"));r.byId("idAddMenuFragment","idNewCategory").setText(this.oCoreApi.getText("newCategory"));r.byId("idAddMenuFragment","idNewNavigationTarget").setText(this.oCoreApi.getText("newNavigationTarget"));r.byId("idAddMenuFragment","idStep").setText(this.oCoreApi.getText("step"));r.byId("idAddMenuFragment","idNewStep").setText(this.oCoreApi.getText("newStep"));r.byId("idAddMenuFragment","idExistingStep").setText(this.oCoreApi.getText("existingStep"));r.byId("idAddMenuFragment","idHierarchicalStep").setText(this.oCoreApi.getText("hierarchicalStep"));r.byId("idAddMenuFragment","idNewRepresentation").setText(this.oCoreApi.getText("newRepresentation"))},_setExistingStepDialogText:function(){r.byId("idExistingStepDialogFragment","idExistingStepDialog").setTitle(this.oCoreApi.getText("existingStepDialogTitle"))},_enableDisableAddMenuItems:function(t,i){var n;var o=i.getItems();var a,s={};if(this.oConfigListInstance.configEditor){n=Object.keys(this.oConfigListInstance.configEditor.getFilterOption())[0]}if(this.oConfigListInstance.configurationHandler.getList().length===0||t===null){a="default"}else{a=t.nodeObjectType}s["default"]=1;s[e.configurationObjectTypes.CONFIGURATION]=4;s[e.configurationObjectTypes.FACETFILTER]=4;s[e.configurationObjectTypes.SMARTFILTERBAR]=4;s[e.configurationObjectTypes.CATEGORY]=5;s[e.configurationObjectTypes.STEP]=6;s[e.configurationObjectTypes.REPRESENTATION]=6;s[e.configurationObjectTypes.NAVIGATIONTARGET]=4;o.forEach(function(t,i){if(i<s[a]){t.setEnabled(true);if(n!==e.configurationObjectTypes.FACETFILTER&&i===1){t.setEnabled(false)}}else{t.setEnabled(false)}})},_handlePressAddButton:function(e){var i;var o=this,a=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){i=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}e.getSource().$().blur();var s=t.getInstance();if(i!==undefined){a=typeof i.getValidationState==="function"?i.getValidationState.call(i):true}var r=this.oConfigListInstance.configEditor?n({},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=r?r.isSaved():undefined;var g=false;var d=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var f=e.getSource();var c=function(){this._pAddMenu??=o.loadFragment({autoPrefixId:false,id:"idAddMenuFragment",name:"sap.apf.modeler.ui.fragment.addMenu"}).then(e=>{this.addMenu=e});this._pAddMenu.then(()=>{this._setAddMenuText();this._enableDisableAddMenuItems(d,this.addMenu);this.addMenu.open(false,f,C.BeginTop,C.BeginBottom,f)})};if(!a){s.throwMandatoryPopup(o.oConfigListInstance,{yes:function(){var e=o.oConfigListInstance.oTreeInstance.getParentNodeContext(d);o.oConfigListInstance.configEditor=o.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(e.configId);if(o.oConfigListInstance.bIsSaved===false&&o.oConfigListInstance.configEditor){o.oConfigListInstance.configEditor.setIsUnsaved()}var t=o.oConfigListInstance._navMandatoryResetState(o.oConfigListInstance);if(!t.isNewView){c.call(o)}}});g=true}if(!g){c.call(o)}},_handleAddMenuItemPress:function(t){var i=this.addMenu.getItems();var n=t.getParameters("item");var o;var a={"idAddMenuFragment--idNewFacetFilter":e.configurationObjectTypes.FACETFILTER,"idAddMenuFragment--idNewCategory":e.configurationObjectTypes.CATEGORY,"idAddMenuFragment--idNewStep":e.configurationObjectTypes.STEP,"idAddMenuFragment--idHierarchicalStep":e.configurationObjectTypes.STEP,"idAddMenuFragment--idNewRepresentation":e.configurationObjectTypes.REPRESENTATION,"idAddMenuFragment--idNewConfig":e.configurationObjectTypes.CONFIGURATION,"idAddMenuFragment--idNewNavigationTarget":e.configurationObjectTypes.NAVIGATIONTARGET,default:e.configurationObjectTypes.CONFIGURATION};i.forEach(function(e){if(e.getId()===n.id){o=a[e.getId()]}else if(e.getSubmenu()){e.getSubmenu().getItems().forEach(function(e){if(e.getId()===n.id){o=a[e.getId()]}})}});var s=false;if(n.id==="idAddMenuFragment--idExistingStep"){this._handleAddExistingStepPress()}else if(n.id!=="idAddMenuFragment--idStep"&&o!==undefined){if(n.id==="idAddMenuFragment--idHierarchicalStep"){s=true}this.oConfigListInstance.oTreeInstance.addNodeInTree(o,undefined,s)}},_copyConfiguration:function(t,i){var n=this.oConfigListInstance.configurationHandler.getConfiguration(t);var o={},a;o.AnalyticalConfiguration=n.AnalyticalConfiguration;o.name="< "+n.AnalyticalConfigurationName+" >";o.Application=n.Application;o.type=e.configurationObjectTypes.CONFIGURATION;o.bIsLoaded=false;o.bToggleState=false;o.isSelected=true;o.expanded=true;o.selectable=true;o.hasExpander=true;this.oConfigListInstance.oModel.getData().aConfigDetails.push(o);this.oConfigListInstance.oModel.updateBindings();a=this.oConfigListInstance.oTreeInstance.getModel().getContext(i);this.oConfigListInstance.selectedNode=this.oConfigListInstance.oTreeInstance.getItemNodeByContextWithoutExpand(a.sPath);this.oConfigListInstance.modelUpdateDeferred[this.oConfigListInstance.oModel.getData().aConfigDetails.length-1]=new jQuery.Deferred;var s={appId:this.oConfigListInstance.appId,configId:t};d.getRouterFor(this.oConfigListInstance).navTo(o.type,s,true)},_handlePressCopyButton:function(o){var s=jQuery.Deferred();var r,g;var d=this,f=true;if(this.oConfigListInstance.getView().byId("idConfigDetailData").getContent().length>=1){r=typeof this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?this.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined}o.getSource().$().blur();var c=t.getInstance();if(r!==undefined){f=typeof r.getValidationState==="function"?r.getValidationState.call(r):true}var l=this.oConfigListInstance.configEditor?n({},this.oConfigListInstance.configEditor):undefined;this.oConfigListInstance.bIsSaved=l?l.isSaved():undefined;var p=false;var I=function(){var t=this;var o;var a=this.oTreeInstance.getAPFTreeNodeContext(this.oTreeInstance.getSelectedItem()||this.selectedNode);this.selectedNode=this.oTreeInstance.getSelectedItem()||this.selectedNode;var r,f,c,l,p,I,C,u,h,T;c=a.nodeContext;switch(a.nodeObjectType){case e.configurationObjectTypes.FACETFILTER:var v=this.oCoreApi.getText("copyOf")+"  "+a.nodeTitle;var D=this.configEditor.copyFacetFilter(a.nodeAPFId);var m=this.configEditor.getFacetFilter(D);var L=i.TranslationFormatMap.FACETFILTER_LABEL;this.oTextPool.setTextAsPromise(v,L).done(function(e){m.setLabelKey(e);p=c.split("/");g=p[2];I=p[6];var t=this.oModel.getData().aConfigDetails[g].configData[0].filters[I];t.isSelected=false;var i=n({},t);i.id=D;i.name="< "+v+" >";i.isSelected=true;l=this.oModel.getData().aConfigDetails[g].configData[0].filters.length;this.oModel.getData().aConfigDetails[g].configData[0].filters.push(i);p[6]=l;f=p.join("/");Q()}.bind(this));break;case e.configurationObjectTypes.CATEGORY:var y=this.oCoreApi.getText("copyOf")+"  "+a.nodeTitle;var b=this.configEditor.copyCategory(a.nodeAPFId);var A=i.TranslationFormatMap.CATEGORY_TITLE;this.oTextPool.setTextAsPromise(y,A).done(function(e){var i={labelKey:e};this.configEditor.setCategory(i,b);p=c.split("/");g=p[2];C=p[6];var a=[];var s=this.configEditor.getSteps();s.forEach(function(e){if(t.configEditor.getCategoriesForStep(e.getId())[0]===b){a.push(e.getId())}});var r=this.oModel.getData().aConfigDetails[g].configData[1].categories[C];r.isSelected=false;var d=n({},r);if(d.steps){for(var I=0;I<d.steps.length;I++){d.steps[I].id=a[I];var u=t.configEditor.getStep(a[I]);o=u.getRepresentations();if(d.steps[I].representations){for(var h=0;h<d.steps[I].representations.length;h++){d.steps[I].representations[h].id=o[h].getId()}}}}d.id=b;d.name="< "+y+" >";d.isSelected=true;l=this.oModel.getData().aConfigDetails[g].configData[1].categories.length;this.oModel.getData().aConfigDetails[g].configData[1].categories.push(d);p[6]=l;f=p.join("/");Q()}.bind(this));break;case e.configurationObjectTypes.NAVIGATIONTARGET:var E=this.oCoreApi.getText("copyOf")+"  "+a.nodeTitle;var S=this.configEditor.copyNavigationTarget(a.nodeAPFId);p=c.split("/");g=p[2];u=p[6];var x=this.oModel.getData().aConfigDetails[g].configData[2].navTargets[u];x.isSelected=false;var F=n({},x);F.id=S;F.name="< "+E+" >";F.isSelected=true;l=this.oModel.getData().aConfigDetails[g].configData[2].navTargets.length;this.oModel.getData().aConfigDetails[g].configData[2].navTargets.push(F);p[6]=l;f=p.join("/");Q();d.oConfigListInstance._setNavigationTargetName({configIndexInTree:g});break;case e.configurationObjectTypes.STEP:var O=this.oCoreApi.getText("copyOf")+"  "+a.nodeTitle;var N=this.configEditor.copyStep(a.nodeAPFId);var M=this.configEditor.getCategoriesForStep(N);var w=this.configEditor.getStep(N);var P=i.TranslationFormatMap.STEP_TITLE;this.oTextPool.setTextAsPromise(O,P).done(function(e){var t;w.setTitleId(e);p=c.split("/");g=p[2];C=p[6];h=p[8];var i=this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h];i.isSelected=false;var a=n({},i);o=w.getRepresentations();a.id=N;a.name="< "+O+" >";if(a.representations){for(t=0;t<a.representations.length;t++){a.representations[t].id=o[t].getId()}}l=this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps.length;p[8]=l;f=p.join("/");for(var s=0;s<M.length;s++){var r=n({},a);var I={arguments:{configId:d.oConfigListInstance.configId,categoryId:M[s]}};var u=d.oConfigListInstance.getSPathFromURL(I).sPath.split("/");var T=u[6];this.oModel.getData().aConfigDetails[g].configData[1].categories[T].steps.push(r)}this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[l].isSelected=true;Q()}.bind(this));break;case e.configurationObjectTypes.REPRESENTATION:p=c.split("/");g=p[2];C=p[6];h=p[8];T=p[10];var R=this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h].id;var _=this.configEditor.getStep(R);var j=this.configEditor.getCategoriesForStep(R);this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h].representations[T].isSelected=false;var B=this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h].representations[T];var V=n({},B);var U=_.copyRepresentation(V.id);V.id=U;l=this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h].representations.length;p[10]=l;f=p.join("/");for(var G=0;G<j.length;G++){var k=n({},V);var H={arguments:{configId:d.oConfigListInstance.configId,categoryId:j[G],stepId:R}};var Y=d.oConfigListInstance.getSPathFromURL(H).sPath.split("/");var z=Y[6];var K=Y[8];this.oModel.getData().aConfigDetails[g].configData[1].categories[z].steps[K].representations.push(k)}this.oModel.getData().aConfigDetails[g].configData[1].categories[C].steps[h].representations[l].isSelected=true;Q();break;case e.configurationObjectTypes.CONFIGURATION:var W=this.oCoreApi.getText("copyOf")+"  "+a.nodeTitle;p=c.split("/");g=p[2];var $=this.oModel.getData().aConfigDetails[g];$.isSelected=false;p[2]=this.oModel.getData().aConfigDetails.length;f=p.join("/");this.configurationHandler.copyConfiguration(a.nodeAPFId,function(e){var n={AnalyticalConfigurationName:W};var o=t.configurationHandler.setConfiguration(n,e);t.configTitle=W;t.configurationHandler.loadConfiguration(o,function(e){var n=t.configTitle;var o=i.TranslationFormatMap.APPLICATION_TITLE;t.configurationHandler.getTextPool().setTextAsPromise(n,o).done(function(t){e.setApplicationTitle(t)})});d._copyConfiguration(e,f)});break;default:break}function Q(){t.oModel.updateBindings();r=t.oTreeInstance.getModel().getContext(f);t.selectedNode=t.oTreeInstance.getItemNodeByContextWithoutExpand(r.sPath);var e=t.oTreeInstance.getAPFTreeNodeContext(t.selectedNode);var i=t.oTreeInstance.getParentNodeContext(e);t.navigateToDifferntView(i,e);t.configEditor.setIsUnsaved();s.resolve()}};var C=function(){var e=(new a).addStyleClass("noConfigSelected");e.setText(d.oConfigListInstance.oCoreApi.getText("noConfigSelected"));e.placeAt(d.oConfigListInstance.byId("idConfigDetailData"));d.oConfigListInstance.toolbarController.disableCopyDeleteButton();d.oConfigListInstance._enableDisableExportAndExecuteButton()};var u;if(!f){c.throwMandatoryPopup(d.oConfigListInstance,{yes:function(){var e=d.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(d.oConfigListInstance.oTreeInstance.getSelectedItem());var t=d.oConfigListInstance.oTreeInstance.getParentNodeContext(e);d.oConfigListInstance.bIsDifferntConfig=d.oConfigListInstance.oTreeInstance.isConfigurationSwitched(d.oConfigListInstance.oPreviousSelectedNode,d.oConfigListInstance.selectedNode);d.oConfigListInstance.configEditor=d.oConfigListInstance.configurationHandler.restoreMemorizedConfiguration(t.configId);if(d.oConfigListInstance.bIsSaved===false&&d.oConfigListInstance.configEditor){d.oConfigListInstance.configEditor.setIsUnsaved()}if(d.oConfigListInstance.bIsDifferntConfig===false){var i=typeof d.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?d.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var n=d.oConfigListInstance._isNewSubView(i.getView().getViewData().oParams);if(!n){I.call(d.oConfigListInstance);d.oConfigListInstance._navHandleExpandDelete.call(d.oConfigListInstance,d.oConfigListInstance.oSelectedNodeDetails,t)}else{d.oConfigListInstance.handleConfirmDeletion()}}else{var o=d.oConfigListInstance._navMandatoryResetState(d.oConfigListInstance);if(!o.isNewView){if(o.bIsSaved===false){u(d.oConfigListInstance)}else{I.call(d.oConfigListInstance)}}}}});p=true}var h;if(r.getView().getViewData().oParams.name==="configuration"){h=true}u=function(t){c.throwLossOfDataPopup(t,{yes:function(e){d.oConfigListInstance._navSaveState(function(){e(function(e){if(d.oConfigListInstance.selectedNode){var t=d.oConfigListInstance.selectedNode._getBindingContext().sPath;var i=t.split("/");var n=i[2]}d.oConfigListInstance.oModel.getData().aConfigDetails[n].AnalyticalConfiguration=d.oConfigListInstance.configId;d.oConfigListInstance.oModel.updateBindings();I.call(d.oConfigListInstance)})})},no:function(){var t={appId:d.oConfigListInstance.appId,configId:d.oConfigListInstance.configId};var i=typeof d.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController==="function"?d.oConfigListInstance.getView().byId("idConfigDetailData").getContent()[0].getController():undefined;var n=i.getView().getViewData().oParams.name==="configuration"?true:false;if(d.oConfigListInstance.configId.indexOf(e.configurationObjectTypes.ISNEWCONFIG)===0){d.oConfigListInstance._navHandleExpandDelete.call(d.oConfigListInstance,{},t,n);d.oConfigListInstance.clearTitleAndBreadCrumb();d.oConfigListInstance.byId("idConfigDetailData").removeAllContent();C()}else{d.oConfigListInstance._navConfigResetState(d.oConfigListInstance,function(){I.call(d.oConfigListInstance)})}}})};if(d.oConfigListInstance.bIsSaved===false&&f&&h){u(d.oConfigListInstance);p=true}if(!p){I.call(d.oConfigListInstance)}return s.promise()},_handlePressDeleteButton:function(t){var i;var n=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var o=this.oCoreApi.getText(n.nodeObjectType);t.getSource().$().blur();if(n.nodeObjectType===e.configurationObjectTypes.STEP){i=this.oCoreApi.getText("confirmStepDeletion",[n.nodeTitle])}else{i=this.oCoreApi.getText("confirmDeletion",[o,n.nodeTitle])}this._openDeleteConfirmationDialog(i)},_openDeleteConfirmationDialog:function(e){var t=this;var i=o(t.oConfigListInstance,{closeDialog:t.closeDialog.bind(t)});this._pConfirmationDialog??=r.load({id:"idConfigConfirmationDialogFragment",name:"sap.apf.modeler.ui.fragment.deleteConfirmationDialog",controller:i}).then(e=>{this.confirmationDialog=e;this.getView().addDependent(e)});this._pConfirmationDialog.then(()=>{this._setConfirmationDialogText();var t=new s;t.setText(e);this.confirmationDialog.removeAllContent();this.confirmationDialog.addContent(t);this.confirmationDialog.addAriaDescribedBy(t);I("sapUiSizeCompact",this.getView(),this.confirmationDialog);this.confirmationDialog.open()})},closeDialog:function(){if(this.confirmationDialog&&this.confirmationDialog.isOpen()){this.confirmationDialog.close()}},_setConfirmationDialogText:function(){r.byId("idConfigConfirmationDialogFragment","idDeleteConfirmation").setTitle(this.oCoreApi.getText("confirmation"));r.byId("idConfigConfirmationDialogFragment","idDeleteButton").setText(this.oCoreApi.getText("deleteButton"));r.byId("idConfigConfirmationDialogFragment","idCancelButtonDialog").setText(this.oCoreApi.getText("cancel"))},_handlePressMoveUpButton:function(){this.bIsDown=false;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_handlePressMoveDownButton:function(){this.bIsDown=true;var e=this.oConfigListInstance.oTreeInstance.getSelectedItem();if(e!==null){var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(e);if(t!==undefined){this._moveUpOrDown(t,this.bIsDown)}}},_moveUpOrDown:function(t,i){var n=t.nodeObjectType;var o=t.nodeAPFId;var a=t.nodeContext;var s=a.split("/")[2];var r,g,d,f,c;var l=false;var p=a.split("/")[a.split("/").length-1];switch(n){case e.configurationObjectTypes.FACETFILTER:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[0].filters;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveFacetFilterUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case e.configurationObjectTypes.CATEGORY:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case e.configurationObjectTypes.NAVIGATIONTARGET:r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[2].navTargets;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveNavigationTargetUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;case e.configurationObjectTypes.STEP:var I=a.split("/")[6];var C=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories[I];r=C.steps;c=r.length;if(i){if(parseInt(p,10)!==c-1){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){this.oConfigListInstance.configEditor.moveCategoryStepAssignmentUpOrDown(C.id,o,-1);g=parseInt(p,10)-1;l=true}}break;case e.configurationObjectTypes.REPRESENTATION:var u=this.oConfigListInstance.oTreeInstance.getSelectedItem();var h=u.getParentNode();var T=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(h).nodeAPFId;var v=this.oConfigListInstance.configEditor.getStep(T);I=a.split("/")[6];var D=a.split("/")[8];r=this.oConfigListInstance.oModel.getData().aConfigDetails[s].configData[1].categories[I].steps[D].representations;c=r.length;if(i){if(parseInt(p,10)!==c-1){v.moveRepresentationUpOrDown(o,1);g=parseInt(p,10)+1;l=true}}else{if(parseInt(p,10)!==0){v.moveRepresentationUpOrDown(o,-1);g=parseInt(p,10)-1;l=true}}break;default:break}if(l){d=r[p];f=r[g];r[g]=d;r[p]=f;this.oConfigListInstance.oModel.updateBindings();this.oConfigListInstance.configEditor.setIsUnsaved()}},_handleAddExistingStepPress:function(){var e=this;var t=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var i=this.oConfigListInstance.oTreeInstance.getParentNodeContext(t).categoryId;var n=this.oConfigListInstance.configEditor.getStepsNotAssignedToCategory(i);var o;var a=[];n.forEach(function(t){var i={};var n=e.oConfigListInstance.configEditor.getStep(t);o=e.oConfigListInstance.oTextPool.get(n.getTitleId()).TextElementDescription;i.id=t;i.name=o;a.push(i)});var s=new p({existingStepData:a});this._pAddExistingStepDialog??=this.loadFragment({autoPrefixId:false,id:"idExistingStepDialogFragment",name:"sap.apf.modeler.ui.fragment.existingStepDialog"}).then(e=>this.addExistingStepDialog=e);this._pAddExistingStepDialog.then(()=>{this._setExistingStepDialogText();this.addExistingStepDialog.setModel(s);this.addExistingStepDialog.open()})},_handleExistingStepDialogOK:function(t){var i=e.configurationObjectTypes.STEP;var n=t.getParameters("listItem").selectedItems;var o=n.length;var a=this.oConfigListInstance.oTreeInstance.getAPFTreeNodeContext(this.oConfigListInstance.oTreeInstance.getSelectedItem());var s=this.oConfigListInstance.oTreeInstance.getParentNodeContext(a).categoryId;var r=[];for(var g=0;g<o;g++){var d=t.getParameters("selectedItems").selectedContexts[g].sPath.split("/")[2];var f=t.getSource().getModel().getData().existingStepData[d];var c=this.oConfigListInstance.configEditor.getStep(f.id);this.oConfigListInstance.configEditor.addCategoryStepAssignment(s,f.id);var l=c.getRepresentations();var p=l.length;var I=[];for(var C=0;C<p;C++){var u={};u.id=l[C].getId();u.name=l[C].getRepresentationType();u.icon=this._getRepresentationIcon(u.name);I.push(u)}var h={};h.step=f;h.representations=I;h.noOfReps=p;r.push(h)}if(o!==0){var T={noOfSteps:o,aExistingStepsToBeAdded:r};this.oConfigListInstance.oTreeInstance.addNodeInTree(i,T)}},_getRepresentationIcon:function(e){var t;var i=this.oCoreApi.getRepresentationTypes();for(var n=0;n<i.length;n++){if(e===i[n].id){t=i[n].picture;break}}return t},_handleExistingStepDialogSearch:function(e){var t=e.getParameter("value");var i=new c("name",l.Contains,t);var n=e.getSource().getBinding("items");n.filter([i])},_handleExistingStepDialogClose:function(e){if(this.addExistingStepDialog){e.getSource().getBinding("items").filter([])}}})},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/APFRouter", ["sap/apf/modeler/ui/utils/constants","sap/ui/core/UIComponent"],function(e,t){"use strict";var a={patternMatch:function(a){this.params={};var i=this;t.getRouterFor(a).attachRoutePatternMatched(function(t){i.params={name:t.getParameter("name"),arguments:t.getParameter("arguments")};a.getView().byId("idConfigMasterData").setBusy(true);a.getView().byId("idConfigDetail").setBusy(true);if(i.params.name!=="applicationList"){var n=a.oCoreApi;a.appId=i.params.arguments.appId;a.configId=i.params.arguments.configId;n.getApplicationHandler(function(t){a.applicationHandler=t;a.appName=t.getApplication(a.appId).ApplicationName;var o=a.byId("idConfigTitleMaster").getText();if(o===""||i.params.name==="configurationList"){a.setConfigListMasterTitle(a.appName);a.oTreeInstance.setApplicationId(i.params.arguments.appId)}n.getConfigurationHandler(a.appId,function(t){a.configurationHandler=t;a.oTextPool=a.configurationHandler.getTextPool();if(a.configurationHandler.getList().length>a.getView().getModel().getData().aConfigDetails.length){a.createConfigList();if(i.params.name==="configurationList"){a.updateConfigListView()}}if(a.configurationHandler.getList().length===0&&a.configId===undefined){a.oTreeInstance.addNodeInTree(e.configurationObjectTypes.CONFIGURATION);var n=a.oTreeInstance.getItems();var o=n[n.length-1];a.oTreeInstance.setSelectedItem(o);a.oTreeInstance.expand(0);a.getView().byId("idConfigDetail").setBusy(false)}else if(a.configId===undefined){a.oTreeInstance.expandToLevel(1);a.oTreeInstance.collapseAll()}if(a.configId!==undefined){var r=t.getConfiguration(a.configId);if(r){t.loadConfiguration(a.configId,function(e){a.configEditor=e;var t=a.getSPathForConfig(a.configId);if(a.oModel.getData().aConfigDetails[t.split("/")[2]].bIsLoaded===false){a.updateTree();if(i.params.name!=="navigationTarget"){i.setCurrentSelectionState(i.params,a)}}else{i.setCurrentSelectionState(i.params,a)}})}else{i.setCurrentSelectionState(i.params,a)}}a.getView().byId("idConfigMasterData").setBusy(false)})})}})},setCurrentSelectionState:function(e,t){var a=t.getSPathFromURL(e);if(e.name!=="configurationList"){if(a&&a.objectType){if(e.name==="step"){var i=t.getStepConfigDataBysPath(a.sPath);e.bIsHierarchicalStep=i&&i.bIsHierarchicalStep?true:false}t.updateSubView(e);if(a.sPath){t.setSelectionOnTree(a)}t.updateTitleAndBreadCrumb()}else{t.showNoConfigSelectedText();t.removeSelectionOnTree()}}t.getView().byId("idConfigDetail").setBusy(false)}};return a},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/APFTree", ["sap/apf/modeler/ui/utils/constants","sap/apf/utils/exportToGlobal","sap/base/util/isEmptyObject","sap/m/Tree","sap/m/TreeRenderer"],function(e,t,a,n,i){"use strict";var s=n.extend("sap.apf.modeler.ui.utils.APFTree",{metadata:{events:{},properties:{translationFunction:{},defaultRepresentationType:{},applicationId:{}}},previousSelectedItem:null,renderer:function(e,t){i.render(e,t)},setTranslationFunction:function(e){this.fnTranslationFunction=e},setDefaultRepresentationType:function(e){this.defaultRepresentationType=e},setApplicationId:function(e){this.applicationId=e},getAPFTreeNodeContext:function(e){if(e){var t=e?e._getBindingContext():undefined;var a=t.getObject()?t.getObject().type:undefined;var n;if(t.getObject()&&t.getObject().id){n=t.getObject().id}else if(t.getObject()&&t.getObject().AnalyticalConfiguration){n=t.getObject().AnalyticalConfiguration}return{oNode:e,nodeContext:t.sPath,nodeObjectType:a,nodeTitle:e.getTitle(),nodeAPFId:n}}return null},getItemNodeByContext:function(e){var t=this;var a=e.split("/");switch(a.length){case 3:t.expandToLevel(0);break;case 7:t.expandToLevel(2);break;case 9:t.expandToLevel(3);break;case 11:t.expandToLevel(4);break;default:break}for(var n=0;n<this.getItems().length;n++){var i=this.getItems()[n];if(i._getBindingContext().sPath===e){return i}}return null},getItemNodeByContextWithoutExpand:function(e){for(var t=0;t<this.getItems().length;t++){var a=this.getItems()[t];if(a._getBindingContext().sPath===e){return a}}return null},getParentNodeContext:function(t){var a=this.getModel();if(t!==null){var n=t.nodeContext.split("/")[2];var i=a.getData().aConfigDetails[n]?a.getData().aConfigDetails[n].AnalyticalConfiguration:undefined;var s;var o=t.nodeContext.split("/")[6];var g=t.nodeContext.split("/")[6];var r=t.nodeContext.split("/")[6];var d=t.nodeContext.split("/")[8];var c={};if(t!==null){switch(t.nodeObjectType){case e.configurationObjectTypes.FACETFILTER:c.facetFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.facetFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.SMARTFILTERBAR:c.smartFilterId=a.getData().aConfigDetails[n].configData[0].filters[g].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.smartFilterName=a.getData().aConfigDetails[n].configData[0].filters[g].name;break;case e.configurationObjectTypes.CATEGORY:if(a.getData().aConfigDetails[n].configData!=undefined){c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name}break;case e.configurationObjectTypes.STEP:c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;break;case e.configurationObjectTypes.REPRESENTATION:s=t.oNode;c.configId=i;c.categoryId=a.getData().aConfigDetails[n].configData[1].categories[o].id;c.stepId=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].id;c.representationId=s._getBindingContext().getObject().id;c.configurationName=a.getData().aConfigDetails[n].name;c.categoryName=a.getData().aConfigDetails[n].configData[1].categories[o].name;c.stepName=a.getData().aConfigDetails[n].configData[1].categories[o].steps[d].name;c.representationName=s._getBindingContext().getObject().name;break;case e.configurationObjectTypes.CONFIGURATION:c.configId=t.oNode._getBindingContext().getObject().AnalyticalConfiguration;c.configurationName=t.oNode._getBindingContext().getObject().name;break;case e.configurationObjectTypes.NAVIGATIONTARGET:c.navTargetId=a.getData().aConfigDetails[n].configData[2].navTargets[r].id;c.configId=i;c.configurationName=a.getData().aConfigDetails[n].name;c.navTargetName=a.getData().aConfigDetails[n].configData[2].navTargets[r].name;break;default:break}if(a.getData().aConfigDetails&&a.getData().aConfigDetails[n]){c.appId=a.getData().aConfigDetails[n].Application}}return c}},isConfigurationSwitched:function(e,t){var n=false,i,s;var o=this.getParentNodeContext(this.getAPFTreeNodeContext(e));var g=this.getParentNodeContext(this.getAPFTreeNodeContext(t));i=o?o.configId:undefined;if(o&&!a(o)&&o.configId===undefined){s=this.getAPFTreeNodeContext(e).nodeContext.split("/")[2];i=this.getModel().getData().aConfigDetails[s].AnalyticalConfiguration}if(i!==undefined&&i!==g.configId){n=true}return n},removeSelectionOnTree:function(e){var t=this.getSelectedItem();if(e){e._getBindingContext().getObject().isSelected=false;e.setSelected(false)}else if(t){t._getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.getModel().updateBindings()},setSelectionOnTree:function(e){this.selectedNode=this.getItemNodeByContextWithoutExpand(e);var t=this.getSelectedItem();if(t!==this.selectedNode){if(t&&t._getBindingContext().getObject()){t.getBindingContext().getObject().isSelected=false;t.setSelected(false)}this.setSelectedItem(this.selectedNode)}},_scrollTreeToNewNode:function(e){if(e&&e.$().length!==0){jQuery(e.$())[0].scrollIntoView()}},setSelectedNode:function(e){this.setSelectedItem(e.getItemNodeContext());this.getModel().updateBindings();this._scrollTreeToNewNode(e)},addNodeInTree:function(t,a,n){var i;var s=this.getAPFTreeNodeContext(this.getSelectedItem());var o=s?s.nodeContext.split("/")[2]:undefined;var g=s?s.nodeContext.split("/")[6]:undefined;var r=s?s.nodeContext.split("/")[8]:undefined;i=["_add",t].join("");this[i](o,g,r,a,n);var d=this._getObjectNodesArray(t,o,g,r);var c=d[d.length-1];if(c!==undefined){if(t!==e.configurationObjectTypes.CONFIGURATION){this.onItemExpanderPressed(c,true)}this.setSelectedItem(c)}},_getObjectNodesArray:function(t,a,n,i){var s=[];switch(t){case e.configurationObjectTypes.CONFIGURATION:s=this.getItems();break;case e.configurationObjectTypes.FACETFILTER:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){for(var f=1;f<c;f++){s.push(this.getItems()[parseInt(d,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.CATEGORY:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[parseInt(l,10)].getItemNodeContext().children.length;for(var f=1;f<p;f++){s.push(this.getItems()[parseInt(l,10)+1+f])}}this.expandToLevel(1);break;case e.configurationObjectTypes.STEP:break;case e.configurationObjectTypes.REPRESENTATION:break;case e.configurationObjectTypes.NAVIGATIONTARGET:this.expandToLevel(2);var o=this.getSelectedItem().getId();var g=o.split("-");var r=g.length;var d=g[r-1];if(this.getItems()[parseInt(d,10)+1].getItemNodeContext().context.sPath==="/aConfigDetails/"+a+"/configData/0"){var c=this.getItems()[parseInt(d,10)+1].getItemNodeContext().children.length;var l=parseInt(d,10)+2+c;var p=this.getItems()[l].getItemNodeContext().children.length;var D=l+p+1;var u=this.getItems()[D].getItemNodeContext().children.length;for(var f=1;f<u;f++){s.push(this.getItems()[D+1+f])}}this.expandToLevel(1);break;default:break}return s},_addconfiguration:function(){var t=this;this.configNewIndex=this.configNewIndex||1;var a=this.getModel();var n;n="I"+this.configNewIndex;this.configNewIndex++;var i=[],s=[],o=[],g=[];i.push({filters:s,name:t.fnTranslationFunction("facetFilters"),isSelected:false,expanded:false,selectable:false});i.push({categories:o,name:t.fnTranslationFunction("categories"),isSelected:false,expanded:false,selectable:false});i.push({navTargets:g,name:t.fnTranslationFunction("navigationTargets"),isSelected:false,expanded:false,selectable:false});var r={};r.configData=i;var d=this.fnTranslationFunction("newConfiguration");var c={name:"< "+d+" >",type:e.configurationObjectTypes.CONFIGURATION,AnalyticalConfiguration:"newConfig"+n,Application:this.applicationId,configData:i,bIsLoaded:true,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails.push(c);a.updateBindings()},_addfacetFilter:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newFacetFilter");var i=a.getData().aConfigDetails[t].configData[0].filters.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.FACETFILTER,id:"newFilter"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[0].expanded=true;a.getData().aConfigDetails[t].configData[0].filters.push(s);a.updateBindings()},_addnavigationTarget:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newNavigationTarget");var i=a.getData().aConfigDetails[t].configData[2].navTargets.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.NAVIGATIONTARGET,id:"newNavTarget"+i,isSelected:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[2].expanded=true;a.getData().aConfigDetails[t].configData[2].navTargets.push(s);a.updateBindings()},_addcategory:function(t){var a=this.getModel();var n=this.fnTranslationFunction("newCategory");var i=a.getData().aConfigDetails[t].configData[1].categories.length;var s={name:"< "+n+" >",type:e.configurationObjectTypes.CATEGORY,id:"newCategory"+i,isSelected:false,expanded:false,selectable:true};a.getData().aConfigDetails[t].expanded=true;a.getData().aConfigDetails[t].configData[1].expanded=true;a.getData().aConfigDetails[t].configData[1].categories.push(s);a.updateBindings()},_addstep:function(t,a,n,i,s){var o=this.getModel();var g;var s=s&&s===true?true:false;if(o.getData().aConfigDetails[t].configData[1].categories[a].steps===undefined){o.getData().aConfigDetails[t].configData[1].categories[a].steps=[]}if(!i){var r=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length;var d=this.fnTranslationFunction("newStep");g={name:"< "+d+" >",type:e.configurationObjectTypes.STEP,id:"newStep"+r,isSelected:false,expanded:false,selectable:true,bIsHierarchicalStep:s};o.getData().aConfigDetails[t].expanded=true;o.getData().aConfigDetails[t].configData[1].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].expanded=true;o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(g)}else{var c,f,l;for(f=0;f<i.noOfSteps;f++){c={name:i.aExistingStepsToBeAdded[f].step.name,type:e.configurationObjectTypes.STEP,id:i.aExistingStepsToBeAdded[f].step.id,isSelected:false,expanded:false,selectable:true,icon:s===true?"sap-icon://drill-down":"sap-icon://step"};o.getData().aConfigDetails[t].configData[1].categories[a].steps.push(c);if(i.aExistingStepsToBeAdded[f].noOfReps!==0){n=o.getData().aConfigDetails[t].configData[1].categories[a].steps.length-1;for(l=0;l<i.aExistingStepsToBeAdded[f].noOfReps;l++){var p={id:i.aExistingStepsToBeAdded[f].representations[l].id,name:i.aExistingStepsToBeAdded[f].representations[l].name,icon:i.aExistingStepsToBeAdded[f].representations[l].icon};this._addrepresentation(t,a,n,p)}}}}o.updateBindings()},_addrepresentation:function(t,a,n,i){var s=this.getModel();var o=this;var g;if(i===undefined){var r=this.getAPFTreeNodeContext(this.getSelectedItem());if(r.nodeObjectType===e.configurationObjectTypes.REPRESENTATION){g=this.getParentNodeContext(r,s).stepId}else if(r.nodeObjectType===e.configurationObjectTypes.STEP){g=r.nodeAPFId}var d=[];s.getData().aConfigDetails[t].configData[1].categories.forEach(function(e,a){if(s.getData().aConfigDetails[t].configData[1].categories[a].steps){s.getData().aConfigDetails[t].configData[1].categories[a].steps.forEach(function(e,t){var n={};if(e.id===g){n.stepIndex=t;n.categoryIndex=a;d.push(n)}})}});d.forEach(function(a){if(s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations=[]}var n=s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.length;var i={name:o.fnTranslationFunction(o.defaultRepresentationType),type:e.configurationObjectTypes.REPRESENTATION,id:"newRepresentation"+n,isSelected:false,selectable:true};s.getData().aConfigDetails[t].expanded=true;s.getData().aConfigDetails[t].configData[1].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].expanded=true;s.getData().aConfigDetails[t].configData[1].categories[a.categoryIndex].steps[a.stepIndex].representations.push(i)})}else{if(s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations===undefined){s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations=[]}var c={name:i.name,type:e.configurationObjectTypes.REPRESENTATION,id:i.id,isSelected:false,selectable:true,icon:i.icon};s.getData().aConfigDetails[t].configData[1].categories[a].steps[n].representations.push(c)}s.updateBindings()}});t("sap.apf.modeler.ui.utils.APFTree",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/constants", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";var E={configurationObjectTypes:{CONFIGURATION:"configuration",FACETFILTER:"facetFilter",SMARTFILTERBAR:"smartFilterBar",CATEGORY:"category",STEP:"step",REPRESENTATION:"representation",NAVIGATIONTARGET:"navigationTarget",ISNEWCONFIG:"apf1972-"},events:{UPDATESUBVIEWINSTANCESONRESET:"updateSubViewInstancesOnResetEvent",ADDPROPERTY:"addProperty",REMOVEPROPERTY:"removeProperty",SETNEXTPROPERTYINPARENTOBJECT:"setNextPropertyInParentObject",REMOVECURRENTPROPERTYFROMPARENTOBJECT:"removeCurrentPropertyFromParentObject",REMOVEPROPERTYFROMPARENTOBJECT:"removePropertyFromParentObject",REMOVEALLPROPERTIESFROMPARENTOBJECT:"removeAllPropertiesFromParentObject",UPDATEPROPERTYVALUESTATE:"updatePropertyValueState",SETFOCUSONADDICON:"setFocusOnAddIcon",FOCUSONREMOVE:"focusOnRemove",SETFOCUSONREMOVEICON:"setFocusOnRemoveIcon",UPDATEPROPERTY:"updateProperty",REMOVEADDEDPROPERTYFROMOTHERPROPERTYTYPE:"removeAddedPropertyFromOtherPropertyType",ADDREMOVEDPROPERTYFROMOTHERPROPERTYTYPE:"addRemovedPropertyFromOtherPropertyType",facetFilter:{ENABLEDISABLEFRRFIELDS:"enableDisableFRRFields",USESAMEASVHR:"useSameAsVHR",CLEARVHRFIELDSIFVALUELIST:"clearVHRFieldsIfValueList",DONOTSHOWATRUNTIME:"doNotShowAtRuntime",UPDATEPROPERTIES:"updatePropertiesInConfiguration"},step:{SETTOPNPROPERTIES:"setTopNProperties",SETDATAREDUCTIONSECTION:"setDataReductionSection",SETVISIBILITYOFFILTERMAPPINGFIELDS:"setVisibilityOfFilterMappingFields",RESETFILTERMAPPINGFIELDS:"resetFilterMappingFields",UPDATEFILTERMAPPINGFIELDS:"updateFilterMappingFields"},representation:{SETCHARTICON:"setChartIcon"}},propertyTypes:{HIERARCHIALCOLUMN:"hierarchicalColumn",DIMENSION:"dimensions",MEASURE:"measures",LEGEND:"legend",PROPERTY:"property",REPRESENTATIONSORT:"representationSort",STEPSORT:"stepSort"},aggregationRoles:{DIMENSION:"dimension",MEASURE:"measure"},similarChartTypes:["ColumnChart","BarChart","LineChart","StackedColumnChart","StackedBarChart","PercentageStackedColumnChart","PercentageStackedBarChart"],texts:{NOTAVAILABLE:"notavailableText"}};e("sap.apf.modeler.ui.utils.CONSTANTS",E);return E},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/displayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t}a.prototype.constructor=a;a.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")},{key:"keyAndText",name:this.oTextReader("keyAndText")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a.prototype.getMeasureDisplayOptions=function(){var e=[{key:"line",name:this.oTextReader("line")},{key:"bar",name:this.oTextReader("column")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a.prototype.getValidatedLabelDisplayOptions=function(){var t=[{key:"key",name:this.oTextReader("key")},{key:e.addPrefixText(["text"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]},{key:e.addPrefixText(["keyAndText"],this.oTextReader)[0],name:e.addPrefixText([this.oTextReader("keyAndText")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(t,t.length)};t("sap.apf.modeler.ui.utils.DisplayOptionsValueBuilder",a);return a});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/helper", function(){"use strict";var e={onResize:function(e){window.addEventListener("resize",function(){e()})}};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/labelForRepresentationTypes", function(){"use strict";var e=function(e){this.oTextReader=e};e.prototype.getLabelsForChartType=function(e,r){var t={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis")};var o={xAxis:this.oTextReader("dim-for-yaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-xaxis")};var i={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis"),yAxis2:this.oTextReader("meas-for-rightVAxis")};var a={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-yaxis-Display")};var s={xAxis:this.oTextReader("dim-for-xaxis"),legend:this.oTextReader("dim-for-legend"),yAxis:this.oTextReader("meas-for-leftVAxis-Display"),yAxis2:this.oTextReader("meas-for-rightVAxis-Display")};var x={ColumnChart:t,BarChart:o,LineChart:t,LineChartWithTwoVerticalAxes:i,LineChartWithTimeAxis:t,PieChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},DonutChart:{sectorColor:this.oTextReader("dim-for-sectorColor"),sectorSize:this.oTextReader("meas-for-sectorSize")},ScatterPlotChart:{regionColor:this.oTextReader("dim-for-colorDataPoints"),regionShape:this.oTextReader("dim-for-shapeDataPoints"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis")},BubbleChart:{regionColor:this.oTextReader("dim-for-bubbleColor"),regionShape:this.oTextReader("dim-for-bubbleShape"),xAxis:this.oTextReader("meas-for-xaxis"),yAxis:this.oTextReader("meas-for-yaxis"),bubbleWidth:this.oTextReader("meas-for-bubbleWidth")},StackedColumnChart:t,StackedBarChart:o,PercentageStackedColumnChart:t,PercentageStackedBarChart:o,HeatmapChart:{xAxis:this.oTextReader("dim-for-xaxis"),xAxis2:this.oTextReader("dim-for-yaxis"),sectorColor:this.oTextReader("meas-for-sectorColor")},CombinationChart:a,StackedCombinationChart:a,DualCombinationChart:s,DualStackedCombinationChart:s,TableRepresentation:{column:this.oTextReader("prop-for-column")},TreeTableRepresentation:{hierarchicalColumn:this.oTextReader("prop-for-hierarchy-column"),column:this.oTextReader("prop-for-column")}};return x[e][r]};return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/navigationHandler", ["sap/apf/utils/exportToGlobal","sap/m/Text","sap/ui/core/Fragment"],function(a,i,o){"use strict";var n,t={};var e=function(a){a.close()};var r=function(){var a=this.configListInstance;var i=this.callback;var o=function(i){a.configEditor.save(function(o,n,t){a.configId=o;a.configurationHandler.memorizeConfiguration(o);if(t===undefined){if(typeof i==="function"){i()}var e=a.oCoreApi.createMessageObject({code:"11513"});a.oCoreApi.putMessage(e)}else{var e=a.oCoreApi.createMessageObject({code:"11514"});a.oCoreApi.putMessage(e)}})};e(t.oConfirmNavigationDialog);if(typeof i.yes==="function"){i.yes(o)}};var l=function(){var a=this.configListInstance;var i=this.callback;e(t.oConfirmNavigationDialog);a.configurationHandler.resetConfiguration(a.configId);if(typeof i.no==="function"){i.no()}};var g=function(){var a=this.isValidationCheck;var i=this.callback;if(!a){e(t.oConfirmNavigationDialog)}else{e(t.oConfirmValidationDialog)}if(typeof i.cancel==="function"){i.cancel()}else if(typeof i.no==="function"&&a){i.no()}};var d=function(a,i){if(i==="naviagtionDialog"){o.byId("idMessageDialogFragment","idMessageDialog").setTitle(a.getText("warning"));o.byId("idMessageDialogFragment","idYesButton").setText(a.getText("yes"));o.byId("idMessageDialogFragment","idNoButton").setText(a.getText("no"));o.byId("idMessageDialogFragment","idCancelButton").setText(a.getText("cancel"))}else if(i==="validationDialog"){o.byId("idMandatoryValidationDialogFragement","idMandatoryValidationDialog").setTitle(a.getText("warning"));o.byId("idMandatoryValidationDialogFragement","idYesButton").setText(a.getText("yes"));o.byId("idMandatoryValidationDialogFragement","idNoButton").setText(a.getText("no"))}};var s=async function(a,n,e){var s=a.oCoreApi;var f=s.getText("unsavedConfiguration");var c=Object.keys(n)[0];var v={handleNavigationWithSave:r,handleNavigationWithoutSave:l,handlePreventNavigation:g,configListInstance:a,callback:e};v[c]=n[c];t.oConfirmNavigationDialog=await o.load({type:"XML",id:"idMessageDialogFragment",name:"sap.apf.modeler.ui.fragment.unsavedDataConfirmationDialog",controller:v});a.getView().addDependent(t.oConfirmNavigationDialog);d(s,"naviagtionDialog");var u=new i;u.setText(f);t.oConfirmNavigationDialog.removeAllContent();t.oConfirmNavigationDialog.addContent(u);t.oConfirmNavigationDialog.attachAfterClose(function(){t.oConfirmNavigationDialog.destroy()});t.oConfirmNavigationDialog.open()};var f=function(a,i){s(a,{isSwitchConfiguration:true},i)};var c=function(){var a=this.callback;e(t.oConfirmValidationDialog);if(typeof a.yes==="function"){a.yes()}};var v=async function(a,n,e){var r=a.oCoreApi;var l=r.getText("mandatoryField");var s=Object.keys(n)[0];var f={handleValidationNavigation:c,handlePreventNavigation:g,configListInstance:a,callback:e};f[s]=n[s];t.oConfirmValidationDialog=await o.load({type:"XML",id:"idMandatoryValidationDialogFragement",name:"sap.apf.modeler.ui.fragment.mandatoryDialog",controller:f});a.getView().addDependent(t.oConfirmValidationDialog);d(r,"validationDialog");var v=new i;v.setText(l);t.oConfirmValidationDialog.removeAllContent();t.oConfirmValidationDialog.addContent(v);t.oConfirmValidationDialog.attachAfterClose(function(){t.oConfirmValidationDialog.destroy()});t.oConfirmValidationDialog.open()};var u=function(a,i){v(a,{isValidationCheck:true},i)};var m=function(){return{throwLossOfDataPopup:f,throwMandatoryPopup:u}};var D={getInstance:function(){return n||(n=m())}};a("sap.apf.modeler.ui.utils.navigationHandler",D);return D});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/nullObjectChecker", function(){"use strict";var e={};e.checkIsNotUndefined=function(e){if(e===undefined){return false}return true};e.checkIsNotNull=function(e){if(e===null){return false}return true};e.checkIsNotBlank=function(e){if(e instanceof Array&&e.length===0){return false}if(e instanceof Object&&Object.keys(e).length===0){return false}if(e===""){return false}return true};e.checkIsNotNullOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefined=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)};e.checkIsNotUndefinedOrBlank=function(e){return this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};e.checkIsNotNullOrUndefinedOrBlank=function(e){return this.checkIsNotNull(e)&&this.checkIsNotUndefined(e)&&this.checkIsNotBlank(e)};return e},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/optionsValueModelBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/model/json/JSONModel"],function(e,n){"use strict";var r=500;var t={};t.prepareModel=function(t,i){var u;if(!e.checkIsNotNullOrUndefined(i)){i=r}u=new n;u.setSizeLimit(i);u.setData({Objects:t});return u};t.convert=function(n,r){var i=[],u;if(!e.checkIsNotNullOrUndefinedOrBlank(n)){return undefined}n.forEach(function(n){if(!e.checkIsNotNullOrUndefined(n)){return}u={};u.key=n instanceof Object?n.key:n;u.name=n instanceof Object?n.name:n;i.push(u)});return t.prepareModel(i,r)};return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeFactory", ["sap/apf/modeler/ui/utils/constants","sap/apf/utils/exportToGlobal","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,r,p,o,a){"use strict";async function t(r,t){var s="sap.apf.modeler.ui.view.propertyType",i;switch(r.sPropertyType){case e.propertyTypes.DIMENSION:i="sap.apf.modeler.ui.controller.representationDimension";break;case e.propertyTypes.MEASURE:i="sap.apf.modeler.ui.controller.representationMeasure";break;case e.propertyTypes.LEGEND:i="sap.apf.modeler.ui.controller.representationLegend";break;case e.propertyTypes.PROPERTY:i="sap.apf.modeler.ui.controller.representationProperty";break;case e.propertyTypes.HIERARCHIALCOLUMN:i="sap.apf.modeler.ui.controller.representationHierarchyProperty";break;case e.propertyTypes.REPRESENTATIONSORT:s="sap.apf.modeler.ui.view.sortPropertyType";i="sap.apf.modeler.ui.controller.representationSortPropertyType";break;case e.propertyTypes.STEPSORT:s="sap.apf.modeler.ui.view.sortPropertyType";i="sap.apf.modeler.ui.controller.stepSortPropertyType";break;default:return Promise.resolve(undefined)}return o.create({viewName:s,type:a.XML,id:t,viewData:r,controller:await p.create({name:i})})}r("sap.apf.modeler.ui.utils.PropertyTypeFactory",t);return{createPropertyTypeView:t}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeOrchestration", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";function r(){var r=[];this._getPropertyTypeRows=function(){return r};this.getPropertyTypeRow=function(e){return r.filter(function(r){return r.controlId===e})[0]};this.getPropertyTypeRowByPropertyName=function(e){return r.filter(function(r){return r.propertyRowInformation.sProperty===e})[0]};this.getSelectedProperties=function(){var e=[];this._getPropertyTypeRows().forEach(function(r){e.push(r.propertyRowInformation.sProperty)});return e};this.updatePropertyTypeRow=function(e,r){this.getPropertyTypeRow(e).propertyRowInformation.sProperty=r};this.getAggregationRole=function(){if(r.length===0){return null}return t._mapPropertyType2AggregationRole(r[0].sPropertyType)};this.getPropertyInformationList=function(){var r=this;var t=[];this._getPropertyTypeRows().forEach(function(o){var n=o.propertyRowInformation.sProperty;var a;switch(r._getPropertyTypeRows()[0].sPropertyType){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getDimensionTextLabelKey(n);break;case e.propertyTypes.MEASURE:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureTextLabelKey(n);break;case e.propertyTypes.PROPERTY:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getPropertyTextLabelKey(n);break;case e.propertyTypes.HIERARCHIALCOLUMN:a=o.oView.oViewData.oRepresentationHandler.oRepresentation.getHierarchyPropertyTextLabelKey(n);break;default:a=null;break}if(n!==o.oView.getController().oTextReader("none")){t.push({sProperty:n,sKind:o.propertyRowInformation.sContext,sTextLabelKey:a,sLabelDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getLabelDisplayOption(n),sMeasureDisplayOption:o.oView.oViewData.oRepresentationHandler.oRepresentation.getMeasureDisplayOption(n)})}});return t};this.getSortPropertyInformationList=function(e){return this._getPropertyTypeRows().filter(function(e){var r=e.propertyRowInformation.sProperty;return r!==e.oView.getController().oTextReader("none")}).map(function(r){return{property:r.propertyRowInformation.sProperty,ascending:r.oView.getController().byId(e).getSelectedKey()==="true"?true:false}})};this.addPropertyTypeReference=function(e,t,o,n){r.push({controlId:e,propertyRowInformation:t,sPropertyType:o,oView:n})};this.removePropertyTypeReference=function(e){r.forEach(function(t,o){if(t.controlId===e){r.splice(o,1)}})};this.updateAllDropDownsAsPromise=function(){return new Promise(function(e){o(e)})};function o(e){var o=[];r.forEach(function(e){o.push(t._updateDropDownOfAControl(e))});Promise.all(o).then(function(){e()})}this.updateAllSelectControlsForPropertyType=function(e,r){var t=this;return new Promise(function(n){if(e&&r){if(t.isSwapCase(e,r)){t._swapPropertiesBetweenControls(e,r).then(function(){o(n)})}else{t.updatePropertyTypeRow(e,r);o(n)}}else{o(n)}})};this.isSwapCase=function(r,o){return t._mapPropertyType2AggregationRole(this.getPropertyTypeRow(r).sPropertyType)===e.aggregationRoles.MEASURE&&t._isPropertyAlreadySelected(this.getSelectedProperties(),o)};this._swapPropertiesBetweenControls=function(e,r){var t=this;return new Promise(function(o){var n=t.getPropertyTypeRow(e);var a;var i=n.propertyRowInformation.sProperty;t._getPropertyTypeRows().forEach(function(e){if(e.propertyRowInformation.sProperty===r){a=t.getPropertyTypeRow(e.controlId)}});a.propertyRowInformation.sProperty=i;n.propertyRowInformation.sProperty=r;t.updateAllDropDownsAsPromise().then(function(){a.oView.getController().setDetailData();o()})})}}var t={_updateDropDownOfAControl:function(r){var o=new Promise(function(o){var n=t._mapPropertyType2AggregationRole(r.sPropertyType);var a=r.oView.getViewData();var i=r.oView.getViewData().oPropertyOrchestration;var p=a.oStepPropertyMetadataHandler;var s=a.oParentObject.getId();var y=r.propertyRowInformation.sProperty;var l=r.propertyRowInformation.bMandatory;var u=p.oStep;var f=u.getType()==="hierarchicalStep";if(f&&r.sPropertyType===e.propertyTypes.REPRESENTATIONSORT){n=e.aggregationRoles.MEASURE}t.getConsumableAndAvailablePropertiesAsPromise(s,n,p).then(function(e){var a=r.oView.getController();a.removeAllItemsFromDropDownList();var p=i.getSelectedProperties();var s=t._relativeComplement(e.available,p);a.setItemsOfDropDownList(s,e.available,y,l,n);o()})});return o},getPropertyListAndSelectedKey:function(e,r,t,o,n){function a(e,r){return e.indexOf(r)!==-1}function i(e,r){return a(r.available,e)?e:n([e],t.oTextReader)[0]}function p(e){return e!==t.oTextReader("none")&&e!==undefined}var s=JSON.parse(JSON.stringify(e));var y=i(r,o);if(p(r)&&!a(e,r)){s=e.concat(y)}if(!t.oView.oViewData.oPropertyTypeData.bMandatory){s.splice(0,0,t.oTextReader("none"))}return{aAllProperties:s,sSelectedKey:y}},_mapPropertyType2AggregationRole:function(r){switch(r){case e.propertyTypes.DIMENSION:case e.propertyTypes.LEGEND:return e.aggregationRoles.DIMENSION;case e.propertyTypes.MEASURE:return e.aggregationRoles.MEASURE;default:return null}},getConsumableAndAvailablePropertiesAsPromise:function(e,r,t){var o=new Promise(function(o){t.getEntityTypeMetadataAsPromise().then(function(n){var a=t.oStep;a.getConsumablePropertiesForRepresentation(e).then(function(e){var a=e.consumable.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});var i=e.available.filter(function(e){var o=t.getPropertyMetadata(n,e);return!r||o&&o["aggregation-role"]===r});o({available:i,consumable:a})})})});return o},_relativeComplement:function(e,r){var t=JSON.parse(JSON.stringify(e));r.forEach(function(e){t=t.filter(function(r){return r!==e})});return t},_isPropertyAlreadySelected:function(e,r){function t(e,r){return e.indexOf(r)!==-1}return t(e,r)},PropertyTypeOrchestration:r};return t});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/propertyTypeState", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/ui/core/Element"],function(e,t){"use strict";function r(){this.aProperties=[];this.aPropertyTypeViewIds=[]}r.prototype.constructor=r;r.prototype.addProperty=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aProperties.push(t)};r.prototype.addPropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties.splice(r,0,t)};r.prototype.updatePropertyAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aProperties[r]=t};r.prototype.removePropertyAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aProperties.splice(e,1)};r.prototype.removeAllProperties=function(){this.aProperties.splice(0,this.aProperties.length)};r.prototype.isPropertyPresentExactlyOnce=function(e){var t,r=0;for(t=0;t<this.aProperties.length;t++){if(this.aProperties[t]===e){r++}}if(r===1){return true}return false};r.prototype.getPropertyValueState=function(){return this.aProperties};r.prototype.addPropertyTypeViewId=function(t){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}this.aPropertyTypeViewIds.push(t)};r.prototype.addPropertyTypeViewIdAt=function(t,r){if(!e.checkIsNotNullOrUndefinedOrBlank(t)){return}if(r>this.aProperties.length&&r>=0){return}this.aPropertyTypeViewIds.splice(r,0,t)};r.prototype.removePropertyTypeViewIdAt=function(e){if(e>this.aProperties.length&&e>=0){return}this.aPropertyTypeViewIds.splice(e,1)};r.prototype.removeAllPropertyTypeViewIds=function(){this.aPropertyTypeViewIds.splice(0,this.aPropertyTypeViewIds.length)};r.prototype.indexOfPropertyTypeViewId=function(e){return this.aPropertyTypeViewIds.indexOf(e)};r.prototype.getViewAt=function(r){if(!e.checkIsNotNullOrUndefinedOrBlank(r)){return}return t.getElementById(this.aPropertyTypeViewIds[r])};return r});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationBasicDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType"],function(e,t,r,o){"use strict";function n(e,t,r,o){this.oRepresentationView=e;this.oRepresentation=r.oRepresentation;this.oStepPropertyMetadataHandler=t;this.oRepresentationTypeHandler=r.oRepresentationTypeHandler;this.oRepresentationHandler=r;this.nCounter=0;this.oViewValidator=o;this.propertyTypeHandlerPromises=[]}n.prototype._prepareCommonView=function(t,n,a,i){var p={},s={};if(a.length===0){return}s.oConfigurationEditor=t.oRepresentationView.getViewData().oConfigurationEditor;s.oParentObject=t.oRepresentation;s.oCoreApi=t.oRepresentationView.getViewData().oCoreApi;s.oConfigurationHandler=t.oRepresentationView.getViewData().oConfigurationHandler;s.oRepresentationTypeHandler=t.oRepresentationTypeHandler;s.oRepresentationHandler=t.oRepresentationHandler;s.oStepPropertyMetadataHandler=t.oStepPropertyMetadataHandler;s.sPropertyType=n;s.oBasicDataLayout=t.oRepresentationView.getController().byId("idBasicDataLayout");s.oTextPool=t.oRepresentationView.getViewData().oConfigurationHandler.getTextPool();s.oViewValidator=t.oViewValidator;p.oViewDataForPropertyType=s;p.aPropertiesToBeCreated=a;p.oPropertyOrchestration=i;const l=r.create({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:o.XML,id:t.oRepresentationView.getController().createId("id"+n),viewData:p}).then(r=>{t.oRepresentationView.getController().byId("idBasicDataLayout").insertItem(r,t.nCounter);t.oRepresentationView.attachEvent(e.events.REMOVEALLPROPERTIESFROMPARENTOBJECT,r.getController().handleRemoveOfProperty.bind(r.getController()));return r.getController().initPromise});t.propertyTypeHandlerPromises.push(l);t.nCounter++};function a(t,r){t._prepareCommonView(t,e.propertyTypes.DIMENSION,t.oRepresentationHandler.getActualDimensions(),r)}function i(t,r){t._prepareCommonView(t,e.propertyTypes.LEGEND,t.oRepresentationHandler.getActualLegends(),r)}function p(t,r){t._prepareCommonView(t,e.propertyTypes.MEASURE,t.oRepresentationHandler.getActualMeasures(),r)}function s(t,r){t._prepareCommonView(t,e.propertyTypes.PROPERTY,t.oRepresentationHandler.getActualProperties(),r)}function l(t,r){t._prepareCommonView(t,e.propertyTypes.HIERARCHIALCOLUMN,t.oRepresentationHandler.getHierarchicalProperty(),r)}n.prototype.instantiateBasicDataAsPromise=function(){var r=this;var o=r.oRepresentation.getId();var n=jQuery.Deferred();this.propertyTypeHandlerPromises.push(n);return t.getConsumableAndAvailablePropertiesAsPromise(o,e.aggregationRoles.DIMENSION,r.oStepPropertyMetadataHandler).then(function(y){t.getConsumableAndAvailablePropertiesAsPromise(o,e.aggregationRoles.MEASURE,r.oStepPropertyMetadataHandler).then(function(e){var o;var y;var d;r.destroyBasicData();if(r.oRepresentation.getRepresentationType()==="TreeTableRepresentation"){d=new t.PropertyTypeOrchestration;l(r,d);s(r,d)}else if(r.oRepresentation.getRepresentationType()==="TableRepresentation"){d=new t.PropertyTypeOrchestration;s(r,d)}else{y=new t.PropertyTypeOrchestration;a(r,y);i(r,y);o=new t.PropertyTypeOrchestration;p(r,o)}n.resolve()})}).then(()=>jQuery.when(...this.propertyTypeHandlerPromises))};n.prototype.destroyBasicData=function(){this.oViewValidator.clearFields();this.nCounter=0;this.oRepresentationView.getController().byId("idBasicDataLayout").destroyItems()};return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/representationHandler", function(){"use strict";var e=function(e,t,r){this.oRepresentation=e;this.oRepresentationTypeHandler=t;this.oTextReader=r};function t(e,t){var r;e.forEach(function(e){if(e.kind===t){r=e}});return r}function r(e,r,n,o,i){var s=[],a;r.forEach(function(r){var p=t(e,r);var d=p.min;a=false;n.forEach(function(e){if(o===undefined||o&&o(e)===r){s.push({sProperty:e,sContext:r,bMandatory:d>0?true:false});a=true;d--}});while(!a||d>0){var u=d>0?"":i("none");s.push({sProperty:u,sContext:r,bMandatory:d>0?true:false});a=true;d--}});return s}function n(e,t){var r;e.forEach(function(e){if(e["id"]===t){r=e}});return r}e.prototype.formPropertiesToBeCreated=function(e,t,n,o){return r(e,t,n,o,this.oTextReader)};e.prototype.getActualDimensions=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForDimensionPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualLegends=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getDimensions();var o=this.oRepresentationTypeHandler.getKindsForLegendPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.dimensions.supportedKinds,o,r,this.oRepresentation.getDimensionKind)};e.prototype.getActualMeasures=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getMeasures();var o=this.oRepresentationTypeHandler.getKindsForMeasurePropertyType(e);return this.formPropertiesToBeCreated(t.metadata.measures.supportedKinds,o,r,this.oRepresentation.getMeasureKind)};e.prototype.getActualProperties=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=this.oRepresentation.getProperties();var o=this.oRepresentationTypeHandler.getKindsForPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.properties.supportedKinds,o,r,this.oRepresentation.getPropertyKind)};e.prototype.getHierarchicalProperty=function(){var e=this.oRepresentation.getRepresentationType();var t=n(this.oRepresentationTypeHandler.aRepresentationTypes,e);var r=[];r.push(this.oRepresentation.getHierarchyProperty());var o=this.oRepresentationTypeHandler.getKindsForHierarchicalPropertyType(e);return this.formPropertiesToBeCreated(t.metadata.hierarchicalColumn.supportedKinds,o,r,undefined)};return e},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
sap.ui.predefine("sap/apf/modeler/ui/utils/sortDataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/propertyTypeOrchestration","sap/ui/core/mvc/ViewType"],function(t,e,r){"use strict";var o=function(t,e,r,o){this.oParentView=t;this.oStepPropertyMetadataHandler=r;this.oParentObject=e;this.oTextReader=o};function a(o,a,i){var n;var p=new e.PropertyTypeOrchestration;var s={oConfigurationEditor:o.oParentView.getViewData().oConfigurationEditor,oParentObject:o.oParentObject,oCoreApi:o.oParentView.getViewData().oCoreApi,oConfigurationHandler:o.oParentView.getViewData().oConfigurationHandler,oStepPropertyMetadataHandler:o.oStepPropertyMetadataHandler,sPropertyType:a};var y={oViewDataForPropertyType:s,aPropertiesToBeCreated:i,oPropertyOrchestration:p};n=new sap.ui.view({viewName:"sap.apf.modeler.ui.view.propertyTypeHandler",type:r.XML,id:o.oParentView.getController().createId("id"+a),viewData:y});o.oParentView.getController().byId("idSortLayout").insertItem(n);o.oParentView.attachEvent(t.events.step.SETTOPNPROPERTIES,n.getController().handleSettingTopNProperties.bind(n.getController()))}function i(t){var e=[];t.forEach(function(t){e.push({sProperty:t.property,sContext:t.ascending?"true":"false"})});return e}o.prototype.instantiateRepresentationSortData=function(){var e=i(this.oParentObject.getOrderbySpecifications());if(e.length===0){e=[{sProperty:this.oTextReader("none"),sContext:"true"}]}a(this,t.propertyTypes.REPRESENTATIONSORT,e)};o.prototype.instantiateStepSortData=function(){var e;this.destroySortData();if(this.oParentObject.getTopN()&&this.oParentObject.getTopN().orderby.length!==0){e=i(this.oParentObject.getTopN().orderby)}else{e=[{sProperty:this.oStepPropertyMetadataHandler.getProperties()[0],sContext:"true"}]}a(this,t.propertyTypes.STEPSORT,e)};o.prototype.destroySortData=function(){this.oParentView.getController().byId("idSortLayout").destroyItems()};return o},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/staticValuesBuilder", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/exportToGlobal"],function(e,t,o){"use strict";function r(e,t){this.oTextReader=e;this.oOptionsValueModelBuilder=t}r.prototype.constructor=r;r.prototype.getNavTargetTypeData=function(){var e=[this.oTextReader("globalNavTargets"),this.oTextReader("stepSpecific")];return this.oOptionsValueModelBuilder.convert(e,e.length)};r.prototype.getSortDirections=function(){var e=[{key:"true",name:this.oTextReader("ascending")},{key:"false",name:this.oTextReader("descending")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};o("sap.apf.modeler.ui.utils.StaticValuesBuilder",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/stepPropertyMetadataHandler", ["sap/apf/modeler/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";var r=function(e,t){this.oCoreApi=e;this.oStep=t};function o(e,t,r){var o=[],i;var a=t.oStep.getSelectProperties();a.forEach(function(a){if(t.getPropertyMetadata(e,a)){i=t.getPropertyMetadata(e,a)["aggregation-role"];if(i===r){o.push(a)}}});return o}r.prototype.getEntityTypeMetadataAsPromise=function(){var e=this.oStep.getService();var t=this.oStep.getEntitySet();return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};r.prototype.getFilterMappingEntityTypeMetadataAsPromise=function(e,t){return this.oCoreApi.getEntityTypeMetadataAsPromise(e,t)};r.prototype.getDimensionsProperties=function(t){return o(t,this,e.aggregationRoles.DIMENSION)};r.prototype.getMeasures=function(t){return o(t,this,e.aggregationRoles.MEASURE)};r.prototype.getProperties=function(){return this.oStep.getSelectProperties()};r.prototype.getHierarchicalProperty=function(){return this.oStep.getHierarchyProperty()};r.prototype.getPropertyMetadata=function(e,t){if(!e){return undefined}return e.getPropertyMetadata(t)};r.prototype.getDefaultLabel=function(e,t){var r=this;var o=r.getPropertyMetadata(e,t);if(!o){return""}return o.label||o.name};r.prototype.hasTextPropertyOfDimension=function(e,t){var r=false,o,i=this;var a=i.getPropertyMetadata(e,t);if(!a){return r}if(a.text){o=this.oStep.getSelectProperties();r=o.indexOf(a.text)===-1?false:true}return r};r.prototype.getRepresentationTypesArray=function(){var e=[],t=this;if(t.oStep.getType()==="hierarchicalStep"){e.push({key:"TreeTableRepresentation",name:t.oCoreApi.getText("TreeTableRepresentation")})}else{t.oCoreApi.getRepresentationTypes().forEach(function(r){if(r.metadata){if(r.id!=="TreeTableRepresentation"){e.push({key:r.id,name:t.oCoreApi.getText(r.label.key)})}}})}return e};r.prototype.getStepType=function(){return this.oStep.getType()};t("sap.apf.modeler.ui.utils.StepPropertyMetadataHandler",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textManipulator", ["sap/apf/modeler/ui/utils/constants"],function(e){"use strict";var r={};r.addPrefixText=function(r,t){var n=[];if(r){n=r.map(function(r){return t(e.texts.NOTAVAILABLE)+": "+r})}return n};r.removePrefixText=function(e,r){var t=e.replace(r,"");return t.replace(": ","")};return r},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/textPoolHelper", ["sap/apf/modeler/ui/utils/optionsValueModelBuilder","sap/apf/utils/exportToGlobal","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,T,n){"use strict";var a={SuggestionTextHandler:function(e){this.oTextPool=e},TranslationFormatMap:{APPLICATION_TITLE:{TextElementType:"XTIT",MaximumLength:250},CATEGORY_TITLE:{TextElementType:"XTIT",MaximumLength:60},FACETFILTER_LABEL:{TextElementType:"XFLD",MaximumLength:50},STEP_TITLE:{TextElementType:"XTIT",MaximumLength:100},STEP_LONG_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEP_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},REPRESENTATION_LABEL:{TextElementType:"XTIT",MaximumLength:80},REPRESENTATION_CORNER_TEXT:{TextElementType:"XFLD",MaximumLength:25},NAVTARGET_TITLE:{TextElementType:"XTIT",MaximumLength:200},STEPFILTERPROPERTY_LABEL:{TextElementType:"XTIT",MaximumLength:80}}};a.SuggestionTextHandler.prototype.manageSuggestions=function(t,a){var i=t.getSource();var o=t.getParameter("suggestValue");var l=e.convert(a,a.length);var m=o.toUpperCase();var s=o.toLowerCase();var r=[new T("key",n.Contains,m),new T("key",n.Contains,s)];var u=new T(r,false);i.setModel(null);i.removeAllSuggestionItems();i.setModel(l);i.getBinding("suggestionItems").filter(u)};a.SuggestionTextHandler.prototype.manageSuggestionTexts=function(e,t){var T=[];var n=this.oTextPool.getTextsByTypeAndLength(t.TextElementType,t.MaximumLength);if(n.length!==0){n.forEach(function(e){T.push(e.TextElementDescription)});this.manageSuggestions(e,T)}};t("sap.apf.modeler.ui.utils.SuggestionTextHandler",a.SuggestionTextHandler);t("sap.apf.modeler.ui.utils.TranslationFormatMap",a.TranslationFormatMap);return a},true);
sap.ui.predefine("sap/apf/modeler/ui/utils/treeTableDisplayOptionsValueBuilder", ["sap/apf/modeler/ui/utils/displayOptionsValueBuilder","sap/apf/modeler/ui/utils/textManipulator","sap/apf/utils/exportToGlobal"],function(e,t,a){"use strict";function i(t,a){e.apply(this,[t,a])}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype.getLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:"text",name:this.oTextReader("text")}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};i.prototype.getValidatedLabelDisplayOptions=function(){var e=[{key:"key",name:this.oTextReader("key")},{key:t.addPrefixText(["text"],this.oTextReader)[0],name:t.addPrefixText([this.oTextReader("text")],this.oTextReader)[0]}];return this.oOptionsValueModelBuilder.prepareModel(e,e.length)};a("sap.apf.modeler.ui.utils.TreeTableDisplayOptionsValueBuilder",i);return i});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/modeler/ui/utils/viewValidator", ["sap/apf/modeler/ui/utils/nullObjectChecker","sap/apf/utils/exportToGlobal"],function(e,i){"use strict";var t=function(e){this.aFieldIds=[];this.oView=e};function s(e){var i=true;if(typeof e!=="string"){i=false}return i}function l(e,i){var t=true;if(!e.oView.byId(i)){t=false}return t}t.prototype.addFields=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}var t,r=i.length;for(t=0;t<r;t++){if(s(i[t])&&l(this,i[t])&&this.aFieldIds.indexOf(i[t])===-1){this.aFieldIds.push(i[t])}}};t.prototype.addField=function(i){if(!e.checkIsNotNullOrUndefinedOrBlank(i)){return}if(s(i)&&l(this,i)&&this.aFieldIds.indexOf(i)===-1){this.aFieldIds.push(i)}};t.prototype.removeFields=function(i){var t=-1;var r,n=i.length;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}for(r=0;r<n;r++){t=this.aFieldIds.indexOf(i[r]);if(s(i[r])&&l(this,i[r])&&t!==-1){this.aFieldIds.splice(t,1)}}};t.prototype.removeField=function(i){var t=-1;if(e.checkIsNotNullOrUndefinedOrBlank(i)===false){return}if(e.checkIsNotNullOrUndefinedOrBlank(this.aFieldIds)===false){return}t=this.aFieldIds.indexOf(i);if(s(i)&&l(this,i)&&t!==-1){this.aFieldIds.splice(t,1)}};t.prototype.getFields=function(){return this.aFieldIds};t.prototype.getView=function(){return this.oView};t.prototype.clearFields=function(){var e=this.aFieldIds.length;this.aFieldIds.splice(0,e)};t.prototype.getValidationState=function(){var e=true,i;for(i=0;i<this.aFieldIds.length;i++){var t=this.oView.byId(this.aFieldIds[i]);if(t){if(t.isA("sap.m.MultiComboBox")){e=t.getSelectedKeys().length>=1?true:false}else if(t.isA("sap.m.Input")){if(t.isA("sap.m.MultiInput")){e=t.getTokens().length>=1?true:false}else{e=t.getValue().trim()!==""?true:false}}else if(t.isA("sap.m.ComboBox")){e=t.getValue().trim()!==""?true:false}else if(t.isA("sap.m.Select")){e=t.getSelectedKey().length>=1?true:false}}if(e===false){break}}return e};i("sap.apf.modeler.ui.utils.ViewValidator",t);return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/instance", ["sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/trace","sap/ui/base/Object","sap/ui/core/mvc/View","sap/ui/core/mvc/ViewType","sap/ui/dom/includeStylesheet","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,r,o,s,jQuery){"use strict";function l(e,t,a){const i=n.isObjectA(t,"sap.ui.comp.smartfilterbar.SmartFilterBar");var r=e.getLayoutView();var o=r.byId("subHeader");var s=r.byId("idSplitterLayoutData");o.addContent(t);if(!i){s.setSize("65px")}t.addEventDelegate({onAfterRendering:function(){o.setBusy(false);if(i){o.setHeight("");o.addStyleClass(a)}}})}function u(e){e.getLayoutView().byId("subHeader").setBusy(false)}function c(a){a.uiApi=this;var n=a.oCoreApi;var c=a.oStartFilterHandler;const d={};var f;var p;var g;var h;var v;var y;var w;var C;var m,S;var A=n.getUriGenerator().getApfLocation();this.oEventCallbacks={};s(A+"resources/css/apfUi.css","apfCss");s(A+"resources/css/apfPrint.css","printCss");jQuery("#printCss").attr("media","print");this.getAddAnalysisStepButton=function(){return this.getAnalysisPath().getCarouselView().getAddStepButton()};this._loadAnalysisPath=function(){if(d.analysisPath===undefined){d.analysisPath=r.create({viewName:"module:sap/apf/ui/reuse/view/analysisPath.view",viewData:a}).then(e=>f=e)}return d.analysisPath};this.getAnalysisPath=function(){if(f===undefined){throw new Error("premature access to analysisPath view")}return f};this.loadNotificationBar=function(){if(d.messageHandler===undefined){d.messageHandler=r.create({viewName:"module:sap/apf/ui/reuse/view/messageHandler.view",viewData:a})}return d.messageHandler};this._loadStepContainer=function(){if(d.stepContainer===undefined){d.stepContainer=r.create({viewName:"module:sap/apf/ui/reuse/view/stepContainer.view",viewData:a}).then(e=>p=e)}return d.stepContainer};this.getStepContainer=function(){if(p===undefined){throw new Error("premature access to stepContainer view")}return p};this._loadToolbar=function(){if(d.toolbar===undefined){d.toolbar=r.create({viewName:"module:sap/apf/ui/reuse/view/toolbar.view",viewData:a}).then(e=>g=e)}return d.toolbar};this.getToolbar=function(){if(g===undefined){throw new Error("premature access to toolbar view")}return g};this._loadCarouselSingleton=function(){if(a&&a.functions&&a.functions.createCarouselSingleton){h=a.functions.createCarouselSingleton();d.carousel=Promise.resolve(h)}if(d.carousel===undefined){d.carousel=r.create({viewName:"module:sap/apf/ui/reuse/view/carousel.view",viewData:{oInject:a}}).then(e=>h=e)}return d.carousel};this.createCarouselSingleton=function(){if(h===undefined){throw new Error("premature access to carousel view")}return h};this._loadStepGallery=function(){if(d.stepGallery==null){d.stepGallery=r.create({viewName:"module:sap/apf/ui/reuse/view/stepGallery.view",viewData:a}).then(e=>v=e)}return d.stepGallery};this.getStepGallery=function(){if(v===undefined){throw new Error("premature access to stepGallery view")}return v};this._loadPathGallery=function(){if(d.pathGallery===undefined){d.pathGallery=r.create({viewName:"module:sap/apf/ui/reuse/view/pathGallery.view",viewData:{oInject:a}}).then(e=>y=e)}return d.pathGallery};this.getPathGallery=function(){if(y===undefined){throw new Error("premature access to pathGallery view")}return y};this._loadDeleteAnalysisPath=function(){if(d.deleteAnalysisPath===undefined){d.deleteAnalysisPath=r.create({viewName:"module:sap/apf/ui/reuse/view/deleteAnalysisPath.view",viewData:{oInject:a}}).then(e=>w=e)}return d.deleteAnalysisPath};this.getDeleteAnalysisPath=function(){if(w===undefined){throw new Error("premature access to deleteAnalysisPath view")}return w};this._loadLayoutView=function(){if(d.applicationLayout===undefined){d.applicationLayout=r.create({viewName:"sap.apf.ui.reuse.view.layout",type:o.XML,viewData:a}).then(e=>C=e)}return d.applicationLayout};this.getLayoutView=function(){if(C===undefined){throw new Error("premature access to applicationLayout view")}return C};this.selectionChanged=function(e){i.logCall("ui/Instance.selectionChanged",", bRefreshAllSteps: ",e,"--------");var t;var a=this;function r(){if(C){C.getController().enableDisableOpenIn()}}t=n.getSteps().indexOf(n.getActiveStep());var o=0;t=n.getSteps().indexOf(n.getActiveStep());if(!e){o=t+1}i.logCall("...",", nActiveStepIndex: ",t,", indexOfRefresh",o);a.getAnalysisPath().getController().refresh(o);a.getAnalysisPath().getController().getView().getCarouselView().getController().setBusyFromIndex(o);n.updatePath(a.getAnalysisPath().getController().callBackForUpdatePath.bind(a.getAnalysisPath().getController()),function(){r()});i.logReturn("ui/Instance.selectionChanged")};let P;this.createApplicationLayout=function(e){var t=this;if(P==null){P=new Promise(function(a){var i=t._loadStepGallery();var n=t._loadToolbar();var r=t._loadPathGallery();var o=t._loadDeleteAnalysisPath();var s=t._loadStepContainer();var l=i.then(function(){return t._loadCarouselSingleton()});var u=Promise.all([n,l,r,o]).then(function(){return t._loadAnalysisPath()});var c=Promise.all([s,u]).then(function(){return t._loadLayoutView()});c.then(function(){e.addPage(C);a(e)})})}return P};this.addDetailFooterContent=function(e){this.getLayoutView().getController().addDetailFooterContentLeft(e)};this.addMasterFooterContentRight=function(e){this.getLayoutView().getController().addMasterFooterContentRight(e)};this.setEventCallback=function(e,t){this.oEventCallbacks[e]=t};this.getEventCallback=function(e){return this.oEventCallbacks[e]};this.getCustomFormatExit=function(){return a.exits};this.setCustomFormatExit=function(e){var t=this.getCustomFormatExit();t.customFormat=e};this.drawSmartFilterBar=function(e){var t=this;function a(e){return n.getSmartFilterbarDefaultFilterValues().done(async function(a){S=await r.create({viewName:"module:sap/apf/ui/reuse/view/smartFilterBar.view",viewData:{oCoreApi:n,oUiApi:t,oSmartFilterBarConfiguration:e,controlConfiguration:a,parent:t.getLayoutView()}});l(t,S.byId("idAPFSmartFilterBar"),"smartFilterBarContainer")})}if(e){if(e.entitySet){return a(e)}return n.getMetadata(e.service).done(function(t){e.entitySet=t.getEntitySetByEntityType(e.entityType);delete e.entityType;return a(e)})}u(t)};this.drawFacetFilter=async function(e){if(e.length>0){if(d.facetFilterView==null){d.facetFilterView=r.create({viewName:"module:sap/apf/ui/reuse/view/facetFilter.view",viewData:{oCoreApi:n,oUiApi:this,aConfiguredFilters:e,oStartFilterHandler:c}})}m=await d.facetFilterView;l(this,m.byId("idAPFFacetFilter"))}else{u(this)}};this.contextChanged=function(e){var a=this.getEventCallback(t.eventTypes.contextChanged);if(typeof a==="function"){a()}};this.getFacetFilterForPrint=function(){if(m){return m.byId("idAPFFacetFilter")}};this.getSmartFilterForPrint=function(){if(S){return S.byId("idAPFSmartFilterBar")}};this.handleStartup=function(e){var t=this;var a=jQuery.Deferred();n.getSmartFilterBarConfigurationAsPromise().done(function(i){if(i){t.drawSmartFilterBar(i)}e.done(function(e){var r=c.getStartFilters();r.done(function(r){t.contextChanged();if(!i){t.drawFacetFilter(r)}if(e.navigationMode==="backward"){t.getAnalysisPath().getController().isBackNavigation=true;n.updatePath(t.getAnalysisPath().getController().callBackForUpdatePath.bind(t.getAnalysisPath().getController()));t.getLayoutView().getController().setPathTitle()}if(e.navigationMode==="forward"){if(n.getStartParameterFacade().getSteps()){var o=n.getStartParameterFacade().getSteps()[0].stepId;var s=n.getStartParameterFacade().getSteps()[0].representationId;var l=t.getAnalysisPath().getController().callBackForUpdatePathAndSetLastStepAsActive.bind(t.getAnalysisPath().getController());n.createFirstStep(o,s,l)}sap.ui.require("sap/ui/core/BusyIndicator")?.hide()}t.loadNotificationBar().then(function(e){t.getLayoutView().byId("applicationPage").addContent(e);var i=e.getController().showMessage;n.setCallbackForMessageHandling(i.bind(e.getController()));a.resolve()})})})});return a.promise()};this.destroy=function(){m=undefined;S=undefined;if(f){var e=this.getAnalysisPath().getToolbar().getController();F(e.saveDialog);F(e.newOpenDialog);F(e.newDialog);F(e.confirmDialog);F(e.errorMsgDialog);F(e.noPathAddedDialog);if(e.deleteAnalysisPath!==undefined){F(e.deleteAnalysisPath.getController().oDialog)}if(e.pathGallery!==undefined){F(e.pathGallery.getController().oDialog)}var t=this.getAnalysisPath().getCarouselView().getStepGallery().getController();F(t.oHierchicalSelectDialog)}if(p){var a=this.getStepContainer().getController();F(a.selectionDisplayDialog);b(this)}};function F(e){if(e!==undefined){if(e.isA("sap.m.ViewSettingsDialog")){e.destroy()}else if(e.isOpen()){e.close()}}}function b(t){var a=false;var i=false;var n;if(t.getStepContainer().getViewData().oCoreApi.getActiveStep()!==undefined){a=true}if(a){n=t.getStepContainer().getViewData().oCoreApi.getActiveStep().getSelectedRepresentation();if(n!==undefined){i=true}}if(i){if(n.type!==e.representationTypes.TABLE_REPRESENTATION){if(n.toggleInstance!==undefined){F(n.toggleInstance.viewSettingsDialog)}}else{F(n.viewSettingsDialog)}}}}a("sap.apf.ui.Instance",c);return c},true);
sap.ui.predefine("sap/apf/ui/representations/BaseUI5ChartRepresentation", ["sap/m/Text","sap/apf/core/constants","sap/ui/layout/HorizontalLayout","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/constants","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/ui/representations/utils/representationFilterHandler","sap/apf/ui/representations/utils/timeAxisDateConverter","sap/apf/utils/utils","sap/ui/thirdparty/jquery"],function(t,e,a,i,r,n,s,o,l,h,jQuery){"use strict";var u=0;function c(t,e){if(!e){return undefined}var a=t.getMetaData();if(!a){return null}var i=a.getPropertyMetadata(e);if(!i){return null}var r=i.label||i.name;return r!==undefined?r:null}var d=function(t,e){this.oMessageObject="";this.aDataResponse=undefined;this.dataset={};this.parameter=e;this.orderby=e.orderby;this.measures=e.measures;this.alternateRepresentation=e.alternateRepresentationType;this.requiredFilters=e.requiredFilters;this.oVizFrameSelectionHandler=new i.constructor(this.parameter,t);this.oTimeAxisDateConverter=new l;this.oRepresentationFilterHandler=new o(t,this.parameter,this.oTimeAxisDateConverter);this.chartInstance={};this.chartParam="";this.thumbnailChartParam="";this.oApi=t;this.axisType=r.axisTypes.AXIS;this.topN=e.top;this.apfId=++u};d.prototype={getParameter:function(){return this.parameter},setData:function(t,e){if(this.bIsAlternateView&&this.toggleInstance&&typeof this.toggleInstance.setData==="function"){this.toggleInstance.setData(t,e)}else{this.formatter=new n({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},e,t);this.oRepresentationFilterHandler.setMetadataAndDataResponse(e,t);this.oRepresentationFilterHandler.validateFiltersWithDataset();this.oChartDataSetHelper=new s(this.formatter,this.oTimeAxisDateConverter);this.oChartDataSetHelper.createFlattenDataSet(this.parameter,e,t,this.oApi);if(this.chartType===r.vizFrameChartTypes.SCATTERPLOT||this.chartType===r.vizFrameChartTypes.BUBBLE){this.oChartDataSetHelper.addUnusedDimensionsToChartContext(e,t)}this.aDataResponse=t||[];this.metadata=e;if(!this.metadata){this.oMessageObject=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}}},attachSelectionAndFormatValue:function(t){var e=this;if(!t){this.oMessageObject=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(this.oMessageObject)}if(!this.aDataResponse||this.aDataResponse.length===0){this.oMessageObject=this.oApi.createMessageObject({code:"6000",aParameters:[t]});this.oApi.putMessage(this.oMessageObject)}this.fnHandleSelection=this.handleSelection.bind(e);this.chart.attachSelectData(this.fnHandleSelection);this.fnHandleDeselection=this.handleDeselection.bind(e);this.chart.attachDeselectData(this.fnHandleDeselection)},getFormatStringForMeasure:function(t){var e=this.formatter.getFormatString(t);return e},getFormatStringForMeasureTooltip:function(t){var e=this.formatter.getFormatStringTooltip(t);return e},getSelectionFilterLabel:function(){var t=this.getParameter().requiredFilters[0];var e=this.getSelectedFilterPropertyLabel(t);if(this.getParameter().requiredFilterOptions&&this.getParameter().requiredFilterOptions.fieldDesc){e=this.oApi.getTextNotHtmlEncoded(this.getParameter().requiredFilterOptions.fieldDesc)}return e},getSelectedFilterPropertyLabel:function(t){return c(this,t)},getIsAllMeasureSameUnit:function(){var t=true;var e=this;var a=this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit?this.metadata.getPropertyMetadata(this.metadata.getPropertyMetadata(this.measures[0].fieldName).unit).semantics:undefined;var i;this.measures.forEach(function(r,n){i=e.metadata.getPropertyMetadata(e.measures[n].fieldName).unit?e.metadata.getPropertyMetadata(e.metadata.getPropertyMetadata(r.fieldName).unit).semantics:undefined;if(t&&a!==undefined&&i&&a!==i){t=false}});return t},createThumbnailLayout:function(){if(!this.thumbnailChart){return}this.thumbnailLayout=(new a).addStyleClass("thumbnailLayout");this.thumbnailLayout.removeAllContent();if(this.aDataResponse!==undefined&&this.aDataResponse.length!==0){this.thumbnailChart.setModel(this.oModel);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.removeStyleClass("thumbnailNoData")}else{var e=new t({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");this.thumbnailLayout.addContent(e);this.thumbnailLayout.addContent(this.thumbnailChart);this.thumbnailChart.addStyleClass("thumbnailNoData")}},getAlternateRepresentation:function(){return this.alternateRepresentation},getMetaData:function(){return this.metadata},getData:function(){return this.aDataResponse},getRequestOptions:function(t){if(this.bIsAlternateView&&this.toggleInstance&&typeof this.toggleInstance.getRequestOptions==="function"){return this.toggleInstance.getRequestOptions(t,this.bIsAlternateView)}var e={paging:{},orderby:[]};if(this.orderby&&this.orderby.length){var a=this.orderby.map(function(t){return{property:t.property,ascending:t.ascending}});e.orderby=a}if(this.topN&&this.topN>0){e.paging.top=this.topN}return e},createDataset:function(){this.dataset=this.oChartDataSetHelper.getFlattenDataSet();this.oModel=this.oChartDataSetHelper.getModel()},drawSelectionOnMainChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnMainChart(e)}},drawSelectionOnThumbnailChart:function(){var t=this.oRepresentationFilterHandler.getFilterValues();if(t.length>0){var e=this.oVizFrameSelectionHandler.getSelectionInfoFromFilter(t,this.aDataResponse);this.setSelectionOnThumbnailChart(e,false)}},handleSelection:function(t){this.manageSelectionsOnChart(t,false,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},handleDeselection:function(t){this.manageSelectionsOnChart(t,true,this.parameter);this.chart.attachEvent("setFocusOnSelectedLinkEvent",this.chart.setFocusOnSelectLink)},getSelections:function(){return this.oRepresentationFilterHandler.getDisplayInfoForFilters(this.metadata,this.oModel.getData().data)},getSortedSelections:function(){var t;var a=this.getSelections();if(!a||a.length===0){return[]}var i=this.getParameter();if(i.requiredFilterOptions&&i.requiredFilterOptions.labelDisplayOption){t=i.requiredFilterOptions.labelDisplayOption}var r=this.getParameter().requiredFilters[0];var n=this.metadata.getPropertyMetadata(r);switch(t){case e.representationMetadata.labelDisplayOptions.TEXT:return h.sortByProperty(a,"text",this.metadata.getPropertyMetadata(n.text));case e.representationMetadata.labelDisplayOptions.KEY_AND_TEXT:return h.sortByProperty(a,"text");default:return h.sortByProperty(a,"id",n)}},getSelectionCount:function(){return this.oRepresentationFilterHandler.getFilterValues().length},removeAllSelection:function(){this.setSelectionOnThumbnailChart([],false);this.setSelectionOnMainChart([],true)},getFilterMethodType:function(){return e.filterMethodTypes.filter},getFilter:function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues();return this.filter},setFilter:function(t){this.filter=t},adoptSelection:function(t){if(t&&t.getFilter){var e=t.getFilter().getInternalFilter().getFilterTerms().map(function(t){return t.getValue()});this.oRepresentationFilterHandler.updateFilterFromSelection(e)}},serialize:function(){var t=this.parameter.orderby;if(this.toggleInstance){t=this.toggleInstance.orderby}return{oFilter:this.oRepresentationFilterHandler.getFilterValues(),bIsAlternateView:this.bIsAlternateView,orderby:t}},deserialize:function(t){this.oRepresentationFilterHandler.updateFilterFromSelection(t.oFilter);this.bIsAlternateView=t.bIsAlternateView;if(this.bIsAlternateView){this.toggleInstance=this.oApi.getUiApi().getStepContainer().getController().createToggleRepresentationInstance(this,t.orderby)}},getPrintContent:function(){},onChartSwitch:function(){},destroy:function(){this.dataset=null;if(this.formatter){this.formatter=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler.aFilterValues=[];this.oRepresentationFilterHandler=null}if(this.chart){this.chart.detachSelectData(this.fnHandleSelection);this.fnHandleSelection=null;this.chart.detachDeselectData(this.fnHandleDeselection);this.fnHandleDeselection=null;this.chart.destroy();this.chart=null}if(this.thumbnailChart){this.thumbnailChart.destroy();this.thumbnailChart=null}if(this.thumbnailLayout){this.thumbnailLayout.removeAllContent()}}};return d},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/BaseVizFrameChartRepresentation", ["sap/viz/ui5/controls/VizFrame","sap/viz/ui5/controls/common/feeds/FeedItem","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/vizFrameSelectionHandler","sap/apf/ui/utils/representationTypesHandler","sap/apf/ui/utils/constants","sap/apf/core/constants","sap/apf/utils/trace"],function(e,t,i,a,r,s,n,o){"use strict";var l=" ************************************** ";var h=function(e,t){i.apply(this,[e,t]);this.oApi=e};h.prototype=Object.create(i.prototype);h.prototype.constructor=h;h.prototype.destroy=function(){if(this.chart){this.chart.destroyDataset();this.chart.destroyFeeds();this.chart.detachRenderComplete(this.fnDrawSelectionOnMainChart);this.fnDrawSelectionOnMainChart=null}if(this.thumbnailChart){this.thumbnailChart.destroyDataset();this.thumbnailChart.destroyFeeds();this.thumbnailChart.detachRenderComplete(this.fnDrawSelectionOnThumbnailChart);this.fnDrawSelectionOnThumbnailChart=null}i.prototype.destroy.call(this)};h.prototype.getMeasures=function(){return this.measures};h.prototype.getChartForCustomListItem=function(){o.logCall("getChartForCustomListItem");if(!this.chart4CustomItemList){var e=this.getMainContent("#chartForCustomListItem#",null,null,"isCreate4CIL");this.chart=undefined;this.title=undefined;this.chart4CustomItemList=e}o.logReturn("getChartForCustomListItem"," return=",this.chart4CustomItemList);return this.chart4CustomItemList};h.prototype.getMainContent=function(t,i,a,r){o.logCall("BaseVizFrame.getMainContent"," apfId=",this.apfId,", creationMode"+r);var s=r==="isCreate4CIL";var n=this;var l=this;var h=(a||725)+"px";var p=i||1e3;p=p+"px";this.title=t;this.createDataset();if(!this.chart){this.chart=new e({vizType:this.chartType,dataset:this.dataset,width:p,height:h,uiConfig:{applicationSet:"fiori"}});o.log(""," *** new VizFrame ***",t,", chartType="+this.chartType,", chart=",this.chart);this.setVizPropertiesOnChart(this.metadata);if(this.metadata){this._createAndAddFeedItemBasedOnId(this.chart);if(this.measures.length!==0){var c={};var u;this.measures.forEach(function(e){var t=l.getFormatStringForMeasure(e);u=l.getFormatStringForMeasureTooltip(e);c.measure=e;c.formatString=t;n.setFormatStringOnChart(c)});this.setFormatString("tooltip",u);if(this.handleCustomFormattingOnChart){this.handleCustomFormattingOnChart()}}}if(!s){this.fnDrawSelectionOnMainChart=this.drawSelectionOnMainChart.bind(n);this.chart.attachRenderComplete(this.fnDrawSelectionOnMainChart);l.attachSelectionAndFormatValue.call(this,t)}}else{if(i){this.chart.setWidth(p)}if(a){this.chart.setHeight(h)}this.chart.destroyDataset();this.chart.removeAllFeeds();this.chart.destroyFeeds();this.chart.vizUpdate({data:this.dataset});this._createAndAddFeedItemBasedOnId(this.chart)}this.chart.setModel(this.oModel);o.logReturn("BaseVizFrame.getMainContent");return this.chart};h.prototype.setVizPropertiesOnChart=function(e){var t={behaviorType:null};if(this.parameter.requiredFilters.length===0){t={selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:false,behaviorType:null}}this.chart.setVizProperties({title:{visible:true,text:this.title},interaction:t,categoryAxis:{visible:true,title:{visible:true},label:{visible:true}},valueAxis:{visible:true,title:{visible:true},label:{visible:true}},legend:{visible:true,title:{visible:true},isScrollable:true},plotArea:{window:{start:null},dataLabel:{visible:false,unitFormatType:"measureFormatter",hideWhenOverlap:true}},tooltip:{visible:true,label:{visible:true}},general:{groupData:false}});this.setVizPropsForSpecificRepresentation();var i=new r;if(i.isCombinationChart(this.type)){this.chart.setVizProperties(this.getVizPropertiesForCombinationCharts(i))}};h.prototype.getVizPropertiesForCombinationCharts=function(e){var t=[];var i=[];this.measures.forEach(function(a){if(!a.measureDisplayOption){return}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[0]){t.push(a.measureDisplayOption)}if(a.kind===e.getKindsForMeasurePropertyType(this.type)[1]){i.push(a.measureDisplayOption)}}.bind(this));var a={plotArea:{dataShape:{}}};if(t.length>0){a.plotArea.dataShape.primaryAxis=t}if(i.length>0){a.plotArea.dataShape.secondaryAxis=i}return a};h.prototype.setVizPropsForSpecificRepresentation=function(){};h._setVizPropsForBubbleAndScatter=function(e,t){o.log("_setVizPropsForBubbleAndScatter",", dimensions",e);var i={valueAxis2:{visible:t,title:{visible:t}},sizeLegend:{visible:t},plotArea:{adjustScale:true}};if(!t){i.plotArea.markerSize=4;i.plotArea.marker={visible:true,size:4}}else{i.valueAxis2.label={visible:true}}var a=0;var r=0;e.forEach(function(e){if(e.kind===n.representationMetadata.kind.REGIONCOLOR){a++}else if(e.kind===n.representationMetadata.kind.REGIONSHAPE){r++}});if(a>0){i.plotArea.colorDepth=a}if(r>0){i.plotArea.shapeDepth=r}return i};h.prototype.setFormatStringOnChart=function(e){var t=e.formatString;var i=e.measure.axisfeedItemId;this.setFormatString(i,t)};h.prototype.setFormatString=function(e,t){var i=this;var a=i.getIsAllMeasureSameUnit();switch(e){case n.vizFrame.feedItemTypes.VALUEAXIS:if(a){this.chart.setVizProperties({valueAxis:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.VALUEAXIS2:if(a){this.chart.setVizProperties({valueAxis2:{label:{formatString:t}}})}break;case n.vizFrame.feedItemTypes.CATEGORYAXIS:this.chart.setVizProperties({categoryAxis:{label:{formatString:t}}});break;case n.vizFrame.feedItemTypes.BUBBLEWIDTH:this.chart.setVizProperties({sizeLegend:{formatString:t}});break;case"tooltip":this.chart.setVizProperties({tooltip:{formatString:t}});break;default:break}};h.prototype._createAndAddFeedItemBasedOnId=function(e){var t=this._createFeedItemGroup(this.parameter.measures);this._addFeedItemsToChart(e,t,"Measure");var i=this._createFeedItemGroup(this.parameter.dimensions);this._addFeedItemsToChart(e,i,"Dimension")};h.prototype._createFeedItemGroup=function(e){var t=this;var i={};e.forEach(function(e){e.axisfeedItemId=t.getAxisFeedItemId(e.kind);var a=i[e.axisfeedItemId];if(a){var r=a.some(function(t){return t.identity===e.identity});if(!r){a.push(e)}}else{i[e.axisfeedItemId]=[e]}});return i};h.prototype.manageSelectionsOnChart=function(e,t,i){o.logCall("BaseVizFrame.manageSelectionsOnChart",l,", is deselection",t,", oParameter: ",i);var r=new a.constructor(i,this.oApi);var s=this.chart.vizSelection();var n=r.getSelectionInfoFromEvent(e,t,s);this.setSelectionOnMainChart(n.dataPointsFromSelection,t);this.setSelectionOnThumbnailChart(n.dataPointsFromSelection,t);if(this.oRepresentationFilterHandler.getIfSelectedFilterChanged(n.aUniqueFilterValueFromChart)){o.logCall("...manageSelectionsOnChart, selected filter changed",", aUniqueFilterValueFromChart: ",n.aUniqueFilterValueFromChart);this.oRepresentationFilterHandler.updateFilterFromSelection(n.aUniqueFilterValueFromChart);this.oApi.selectionChanged(false)}o.logReturn("BaseVizFrame.manageSelectionsOnChart")};h.prototype._addFeedItemsToChart=function(e,i,a){for(var r in i){var s={};var n=[];var o=0;for(o in i[r]){n.push(i[r][o].identity);s.feedItemId=i[r][0].axisfeedItemId}s.value=n;var l=new t({uid:s.feedItemId,type:a,values:s.value});e.addFeed(l)}};h.prototype.setVizPropertiesOnThumbnailChart=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({title:{visible:false},categoryAxis:{visible:false,title:{visible:false}},valueAxis:{visible:false,title:{visible:false}},legend:{visible:false,title:{visible:false}},tooltip:{visible:false},interaction:{selectability:{axisLabelSelection:false,legendSelection:false,plotLassoSelection:false,plotStdSelection:false},enableHover:false,noninteractiveMode:true},background:{visible:false},general:{layout:{padding:0},groupData:false},plotArea:{window:{start:null},gridline:{visible:false},dataLabel:{visible:false},seriesStyle:{rules:[{properties:{width:1}}]}}});this.setVizPropsOfThumbnailForSpecificRepresentation();var e=new r;if(e.isCombinationChart(this.type)){this.thumbnailChart.setVizProperties(this.getVizPropertiesForCombinationCharts(e))}};h.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){};h.prototype.setSelectionOnMainChart=function(e,t){o.log("BaseVizFrame.setSelectionOnMainChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"chart.sId"+this.chart.sId);this.chart.vizSelection(e,{clearSelection:t})};h.prototype.setSelectionOnThumbnailChart=function(e,t){o.log("BaseVizFrame.setSelectionOnThumbnailChart",", aSelection=",e," apfId=",this.apfId,", bIsDeselection="+t,"thumbnailChart.sId"+!this.thumbnailChart?"-":this.thumbnailChart.sId);if(this.thumbnailChart){this.thumbnailChart.vizSelection(e,{clearSelection:t})}};h.prototype.getAxisFeedItemId=function(e){};h.prototype.getPrintContent=function(e){var t,i=this.chartType,a={},r,s;var n=this.getMainContent(e);a=n.getVizProperties();t=n.clone();t.setVizType(i);t.setVizProperties(a);t.setWidth("1000px");t.setHeight("600px");this.createDataset();t.setDataset(this.dataset);t.setModel(this.oModel);r=this.chart.vizSelection();t.attachRenderComplete(function(){t.vizSelection(r)});s={oRepresentation:t};return s};return h},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/RepresentationInterfaceProxy", function(){"use strict";var t=function(t,e){this.type="RepresentationInterfaceProxy";this.putMessage=function(e){return t.putMessage(e)};this.createMessageObject=function(e){return t.createMessageObject(e)};this.getActiveStep=function(){return t.getActiveStep()};this.setActiveStep=function(e){return t.setActiveStep(e)};this.getTextNotHtmlEncoded=function(e,n){return t.getTextNotHtmlEncoded(e,n)};this.getExits=function(){return e.getCustomFormatExit()};this.updatePath=function(e){return t.updatePath(e)};this.createFilter=function(){return t.createFilter()};this.selectionChanged=function(t){return e.selectionChanged(t)};this.getEventCallback=function(t){return e.getEventCallback(t)};this.getUiApi=function(){return e}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/barChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";function n(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BAR_CHART;this.chartType=a.vizFrameChartTypes.BAR;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};r("sap.apf.ui.representations.barChart",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/bubbleChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";function i(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.BUBBLE_CHART;this.chartType=a.vizFrameChartTypes.BUBBLE;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){if(a===0){e.kind=t.representationMetadata.kind.XAXIS}else if(a===1){e.kind=t.representationMetadata.kind.YAXIS}else{e.kind=t.representationMetadata.kind.BUBBLEWIDTH}}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};i.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.BUBBLEWIDTH:r=t.vizFrame.feedItemTypes.BUBBLEWIDTH;break;default:break}return r};r("sap.apf.ui.representations.bubbleChart",i);return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/columnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,n){"use strict";function r(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.COLUMN_CHART;this.chartType=a.vizFrameChartTypes.COLUMN;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};n("sap.apf.ui.representations.columnChart",r);return r},true);
sap.ui.predefine("sap/apf/ui/representations/combinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";var s=function(e,r){a.apply(this,[e,r]);this.type=t.representationTypes.COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.COMBINATION};s.prototype=Object.create(a.prototype);s.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};r("sap.apf.ui.representations.combinationChart",s);return s},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/donutChart", ["sap/apf/core/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/ui/utils/constants"],function(e,t,a){"use strict";var r=function(e,r){t.apply(this,[e,r]);this.type=a.representationTypes.DONUT_CHART;this.chartType=a.vizFrameChartTypes.DONUT};r.prototype=Object.create(t.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.SECTORCOLOR:r=e.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:r=e.vizFrame.feedItemTypes.SIZE;break;default:break}return r};return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";var r=function(e,i){a.apply(this,[e,i]);this.type=t.representationTypes.DUAL_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_COMBINATION};r.prototype=Object.create(a.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var i;switch(t){case a.XAXIS:i=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:i=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:i=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:i=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return i};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};i("sap.apf.ui.representations.dualCombinationChart",r);return r},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/dualStackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";var r=function(e,i){a.apply(this,[e,i]);this.type=t.representationTypes.DUAL_STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.DUAL_STACKED_COMBINATION};r.prototype=Object.create(a.prototype);r.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var i;switch(t){case a.XAXIS:i=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:i=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:i=e.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:i=e.vizFrame.feedItemTypes.VALUEAXIS2;break;default:break}return i};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};i("sap.apf.ui.representations.dualStackedCombinationChart",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/heatmapChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,i,a){"use strict";function r(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.HEATMAP_CHART;this.chartType=i.vizFrameChartTypes.HEATMAP;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.XAXIS2}})};r.prototype.setVizPropsForSpecificRepresentation=function(){this.chart.setVizProperties({categoryAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({categoryAxis2:{visible:false,title:{visible:false}}})};r.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case i.XAXIS2:a=t.vizFrame.feedItemTypes.CATEGORYAXIS2;break;case i.SECTORCOLOR:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};a("sap.apf.ui.representations.heatmapChart",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,n){"use strict";function r(t,n){e.apply(this,[t,n]);this.type=a.representationTypes.LINE_CHART;this.chartType=a.vizFrameChartTypes.LINE;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var n;switch(e){case a.XAXIS:n=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:n=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:n=t.vizFrame.feedItemTypes.COLOR;break;default:break}return n};n("sap.apf.ui.representations.lineChart",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTimeAxis", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal","sap/apf/utils/utils"],function(e,t,i,a,r){"use strict";function s(t,a){e.apply(this,[t,a]);this.type=i.representationTypes.LINE_CHART_WITH_TIME_AXIS;this.chartType=i.vizFrameChartTypes.LINE_CHART_WITH_TIME_AXIS;this.setDateType();this._addDefaultKind()}s.prototype=Object.create(e.prototype);s.prototype.constructor=s;s.prototype.setDateType=function(){var e;for(e=0;e<this.parameter.dimensions.length;e++){if(this.parameter.dimensions[e].kind===t.representationMetadata.kind.XAXIS){this.parameter.dimensions[e].dataType="date"}}};s.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,i){if(e.kind===undefined){e.kind=i===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};s.prototype.setVizPropsForSpecificRepresentation=function(e){var i;this.chart.setVizProperties({timeAxis:{visible:true,title:{visible:true},label:{visible:true}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}});if(e){for(i=0;i<this.parameter.dimensions.length;i++){if(this.parameter.dimensions[i].kind===t.representationMetadata.kind.XAXIS){var a=e.getPropertyMetadata(this.parameter.dimensions[i].fieldName);if(r.isPropertyTypeWithDateSemantics(a)){this.chart.setVizProperties({general:{showAsUTC:true}})}}}}};s.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({timeAxis:{visible:false,title:{visible:false}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}}})};s.prototype.getAxisFeedItemId=function(e){var i=t.representationMetadata.kind;var a;switch(e){case i.XAXIS:a=t.vizFrame.feedItemTypes.TIMEAXIS;break;case i.YAXIS:a=t.vizFrame.feedItemTypes.VALUEAXIS;break;case i.LEGEND:a=t.vizFrame.feedItemTypes.COLOR;break;default:break}return a};a("sap.apf.ui.representations.lineChartWithTimeAxis",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/lineChartWithTwoVerticalAxes", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";function i(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this.chartType=a.vizFrameChartTypes.LINE_CHART_WITH_TWO_VERTICAL_AXES;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.YAXIS:t.representationMetadata.kind.YAXIS2}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};i.prototype.setVizPropsForSpecificRepresentation=function(){var e=this;this.chart.attachEventOnce("renderComplete",function(){var t,a;if(!this.chart){return}if(!t){t=e.chart.getVizProperties().plotArea.primaryScale.autoMaxValue}if(!a){a=e.chart.getVizProperties().plotArea.secondaryScale.autoMaxValue}e.chart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}});n(e,t,a)});e.chart.setVizProperties({valueAxis2:{visible:true,title:{visible:true},label:{visible:true}}})};function n(e,t,a){if(!e.thumbnailChart){return}e.thumbnailChart.setVizProperties({plotArea:{primaryScale:{fixedRange:true,maxValue:t},secondaryScale:{fixedRange:true,maxValue:a}}})}i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}this.thumbnailChart.setVizProperties({valueAxis2:{visible:false,title:{visible:false}}})};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS2:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.LEGEND:r=t.vizFrame.feedItemTypes.COLOR;break;default:break}return r};r("sap.apf.ui.representations.lineChartWithTwoVerticalAxes",i);return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";function r(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.PERCENTAGE_STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_BAR;this._addDefaultKind()}r.prototype=Object.create(e.prototype);r.prototype.constructor=r;r.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};r.prototype.setFormatString=function(){return};function n(e){e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}r.prototype.setVizPropsForSpecificRepresentation=function(){n(this.chart)};r.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}n(this.thumbnailChart)};r.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};i("sap.apf.ui.representations.percentageStackedBarChart",r);return r},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/percentageStackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";function n(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.PERCENTAGE_STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.PERCENTAGE_STACKED_COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};n.prototype.setFormatString=function(){return};function r(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}n.prototype.setVizPropsForSpecificRepresentation=function(){r(this.chart)};n.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}r(this.thumbnailChart)};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};i("sap.apf.ui.representations.percentageStackedColumnChart",n);return n},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/pieChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";function n(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.PIE_CHART;this.chartType=a.vizFrameChartTypes.PIE;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORSIZE}});this.parameter.dimensions.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.SECTORCOLOR}})};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.SECTORCOLOR:i=t.vizFrame.feedItemTypes.COLOR;break;case a.SECTORSIZE:i=t.vizFrame.feedItemTypes.SIZE;break;default:break}return i};i("sap.apf.ui.representations.pieChart",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/representationInterface", ["sap/apf/core/constants"],function(t){"use strict";var e=function(e,n){this.setData=function(t,e){};this.updateTreetable=function(t,e,n,i){};this.getSelectionAsArray=function(){return[0,2]};this.adoptSelection=function(t){};this.getFilterMethodType=function(){return t.filterMethodTypes.selectionAsArray};this.getRequestOptions=function(){return{}};this.getParameter=function(){var t={dimensions:[],measures:[]};return t};this.getMainContent=function(){var t={};return t};this.getThumbnailContent=function(){var t={};return t};this.getPrintContent=function(){var t={};return t};this.getTooltipContent=function(){var t={};return t};this.removeAllSelection=function(){};this.serialize=function(){var t={};return t};this.deserialize=function(t){};this.getAlternateRepresentation=function(){return this.oAlternateRepresentation};this.getMetaData=function(){return this.metadata};this.getData=function(){return this.aDataResponse}};return e},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/scatterPlotChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";function i(t,r){e.apply(this,[t,r]);this.type=a.representationTypes.SCATTERPLOT_CHART;this.chartType=a.vizFrameChartTypes.SCATTERPLOT;this._addDefaultKind()}i.prototype=Object.create(e.prototype);i.prototype.constructor=i;i.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.REGIONCOLOR:t.representationMetadata.kind.REGIONSHAPE}})};i.prototype.setVizPropsForSpecificRepresentation=function(){var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,true);this.chart.setVizProperties(t)};i.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){if(!this.thumbnailChart){return}var t=e._setVizPropsForBubbleAndScatter(this.parameter.dimensions,false);this.thumbnailChart.setVizProperties(t)};i.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var r;switch(e){case a.XAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.YAXIS:r=t.vizFrame.feedItemTypes.VALUEAXIS2;break;case a.REGIONCOLOR:r=t.vizFrame.feedItemTypes.COLOR;break;case a.REGIONSHAPE:r=t.vizFrame.feedItemTypes.SHAPE;break;default:break}return r};r("sap.apf.ui.representations.scatterPlotChart",i);return i},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedBarChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";function n(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_BAR_CHART;this.chartType=a.vizFrameChartTypes.STACKED_BAR;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};function r(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}n.prototype.setVizPropsForSpecificRepresentation=function(){r(this.chart)};n.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){r(this.thumbnailChart)};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};i("sap.apf.ui.representations.stackedBarChart",n);return n},true);
/*!
* SAP APF Analysis Path Framework
*
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedColumnChart", ["sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/utils/exportToGlobal"],function(e,t,a,i){"use strict";function n(t,i){e.apply(this,[t,i]);this.type=a.representationTypes.STACKED_COLUMN_CHART;this.chartType=a.vizFrameChartTypes.STACKED_COLUMN;this._addDefaultKind()}n.prototype=Object.create(e.prototype);n.prototype.constructor=n;n.prototype._addDefaultKind=function(){this.parameter.measures.forEach(function(e){if(e.kind===undefined){e.kind=t.representationMetadata.kind.YAXIS}});this.parameter.dimensions.forEach(function(e,a){if(e.kind===undefined){e.kind=a===0?t.representationMetadata.kind.XAXIS:t.representationMetadata.kind.LEGEND}})};function r(e){if(!e){return}e.setVizProperties({plotArea:{animation:{dataLoading:false,dataUpdating:false}}})}n.prototype.setVizPropsForSpecificRepresentation=function(){r(this.chart)};n.prototype.setVizPropsOfThumbnailForSpecificRepresentation=function(){r(this.thumbnailChart)};n.prototype.getAxisFeedItemId=function(e){var a=t.representationMetadata.kind;var i;switch(e){case a.XAXIS:i=t.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.YAXIS:i=t.vizFrame.feedItemTypes.VALUEAXIS;break;case a.LEGEND:i=t.vizFrame.feedItemTypes.COLOR;break;default:break}return i};i("sap.apf.ui.representations.stackedColumnChart",n);return n},true);
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/stackedCombinationChart", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/representations/BaseVizFrameChartRepresentation","sap/apf/utils/exportToGlobal"],function(e,t,a,r){"use strict";var s=function(e,r){a.apply(this,[e,r]);this.type=t.representationTypes.STACKED_COMBINATION_CHART;this.chartType=t.vizFrameChartTypes.STACKED_COMBINATION};s.prototype=Object.create(a.prototype);s.prototype.getAxisFeedItemId=function(t){var a=e.representationMetadata.kind;var r;switch(t){case a.XAXIS:r=e.vizFrame.feedItemTypes.CATEGORYAXIS;break;case a.LEGEND:r=e.vizFrame.feedItemTypes.COLOR;break;case a.YAXIS:r=e.vizFrame.feedItemTypes.VALUEAXIS;break;default:break}return r};r("sap.apf.ui.representations.stackedCombinationChart",s);return s},true);
/* SAP APF Analysis Path Framework
* 
* (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/table", ["sap/apf/core/constants","sap/apf/ui/utils/constants","sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport","sap/apf/ui/utils/formatter","sap/apf/ui/representations/utils/paginationHandler","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/ui/Device","sap/ui/model/BindingMode","sap/ui/model/Sorter","sap/ui/table/Table","sap/ui/table/Column","sap/ui/table/rowmodes/Fixed","sap/ui/table/rowmodes/Type","sap/ui/core/CustomData","sap/ui/model/json/JSONModel","sap/ui/core/Icon","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/layout/VerticalLayout","sap/m/Text","sap/m/Title","sap/m/Label","sap/m/library","sap/m/Link","sap/m/Button","sap/m/FlexItemData","sap/m/HBox","sap/m/VBox","sap/m/ScrollContainer","sap/ui/export/Spreadsheet","sap/m/Dialog","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,o,r,s,l,p,d,u,h,c,g,f,m,v,b,y,A,T,F,x,D,w,S,P,C,E,R,I,jQuery){"use strict";var O=x.DialogType;var H=v.HorizontalAlign;var N=v.TitleLevel;function B(e,t){t.forEach(function(t){e.addSelectionInterval(t,t)})}function M(e){e.loadAllButton.attachEvent("setFocusOnLoadAllButtonEvent",e.loadAllButton.setFocusOnLoadAllButton)}function V(e,t){if(e.bIsAlternateRepresentation&&e.oApi.getActiveStep()){e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(e.aFiltersInTable.indexOf(t)===-1){e.aFiltersInTable.push(t)}})}if(t&&e.oParameter.top||e.oParameter.isAlternateRepresentation){e.aFiltersInTable=L(e,t)}}function L(e,t){var a=[];e.aFiltersInTable.forEach(function(i){e.aDataResponse.forEach(function(e){var n=e[t];if(n==i&&a.indexOf(i)===-1){a.push(i)}})});return a}function k(e,t,a){var i=e.tableControl.getContextByIndex(a[0]).getProperty(t);if(e.tableControl.isIndexSelected(a[0])&&e.aFiltersInTable.indexOf(i)===-1){e.aFiltersInTable.push(i)}else{var n=e.aFiltersInTable.indexOf(i);if(n!==-1){e.aFiltersInTable.splice(n,1)}}}function U(e,t){q(e);e.aFiltersInTable=t;e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function q(e){e.oRepresentationFilterHandler.clearFilters();e.oApi.getActiveStep().getSelectedRepresentation().oRepresentationFilterHandler.clearFilters();e.aValidatedFilter=[];e.aFiltersInTable=[]}function W(e,t,a,i,n){var o=e.nDataResponseCount||0;var r,s;var l=e.oApi.getTextNotHtmlEncoded("buttonTextExport");var p=new w({text:l,press:function(){if(e.aDataResponse.length>1e4){var a=e;a.newOpenDialog=new I({type:O.Message,title:e.oApi.getTextNotHtmlEncoded("warningTitle"),state:"Warning",content:new A({text:e.oApi.getTextNotHtmlEncoded("exportWarning")}),beginButton:new w({text:e.oApi.getTextNotHtmlEncoded("warningExport"),press:function(){e.exportExcel(t);a.newOpenDialog.close()}}),endButton:new w({text:e.oApi.getTextNotHtmlEncoded("warningCancel"),press:function(){a.newOpenDialog.close()}}),afterClose:function(){a.oUiApi.getLayoutView().setBusy(false);a.newOpenDialog.destroy()}});a.newOpenDialog.open()}else{e.exportExcel(t)}}}).addStyleClass("sapUiTinyMarginBeginEnd");e.titleControl=new T({level:N.H1}).addStyleClass("sapUiTinyMarginBegin").addStyleClass("sapUiTinyMarginTop");if(e.aDataResponse.length===0){p.setEnabled(false)}if(n){s=e.title}else if(e.oParameter.top){r=new P({items:[p]});s=e.title}else if(i){r=new P({items:[p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,a])}else{l=e.oApi.getTextNotHtmlEncoded("buttonTextLoadAll");if(e.loadAllButton===undefined){e.loadAllButton=new w({text:l,press:e.loadAll.bind(e)});e.loadAllButton.setFocusOnLoadAllButton=function(){this.focus();this.detachEvent("setFocusOnLoadAllButtonEvent",this.setFocusOnLoadAllButton)}}r=new P({items:[e.loadAllButton,p]});s=e.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[e.title,a,o]);e.loadAllButton.addAriaLabelledBy(e.titleControl)}p.addAriaLabelledBy(e.titleControl);e.titleControl.setText(s);var d=new P({alignItems:"Start",wrap:"Wrap",justifyContent:"SpaceBetween",items:[e.titleControl,r]});return d}function j(e,t,a,i){var n=function(t){return function(i){if(a.metadata!==undefined){var n;if(e.value[t]&&i){n=a.oFormatter.getFormattedValueAsString(e.value[t],i);if(n!==undefined){return n}}}return i}};var o=new d({extension:[t],showNoData:false,enableSelectAll:false,rowMode:c.Auto});if(i){o.setWidth(i+"px")}o.setLayoutData(new S({growFactor:1}));if(s.system.desktop){o.addStyleClass("sapUiSizeCompact")}var r=a.oParameter.requiredFilters;var p=r&&r.length>0?"MultiToggle":"None";o.setSelectionMode(p);var h=[],m,v,b;for(var y=0;y<e.name.length;y++){m=new A({wrapping:false});m.bindText({path:e.value[y],formatter:n(y),bindingMode:l.OneWay});m.bindProperty("tooltip",{path:e.value[y],formatter:n(y)});v=new u({label:new F({text:e.name[y],tooltip:e.name[y]}),template:m});b=new g({value:{text:e.name[y],key:e.value[y]}});if(i){v.setMinWidth(125)}v.addCustomData(b);h.push(v)}var T;T=h;T.forEach(function(e){o.addColumn(e)});if(h.length>10){o.getColumns().forEach(function(e){e.setWidth("125px")})}var x=new f;x.setSizeLimit(1e4);var D=a.getData();x.setData({tableData:D});o.setModel(x);o.bindRows("/tableData");if(a.metadata!==undefined){for(var w=0;w<e.name.length;w++){var P=a.metadata.getPropertyMetadata(e.value[w]);if(P["aggregation-role"]==="measure"){var C=o.getColumns()[w];C.setHAlign(H.End)}}}return o}function _(e){var t=e.getData();var a=[],i;var n={name:[],value:[]};a=e.oParameter.dimensions.concat(e.oParameter.measures).length?e.oParameter.dimensions.concat(e.oParameter.measures):e.parameter.properties;if(t.length!==0){for(var o=0;o<a.length;o++){n.value[o]=a[o].fieldName;var r=e.metadata.getPropertyMetadata(a[o].fieldName).label||e.metadata.getPropertyMetadata(a[o].fieldName).name;var s="";if(e.metadata!==undefined&&e.metadata.getPropertyMetadata(a[o].fieldName).unit!==undefined){var l=e.metadata.getPropertyMetadata(a[o].fieldName).unit;s=e.getData()[0][l];for(i=0;i<e.getData().length;i++){if(s!==e.getData()[i][l]){s=undefined;break}}n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc);if(s!==undefined&&s!==""){n.name[o]=e.oApi.getTextNotHtmlEncoded("displayUnit",[n.name[o],s])}}else{n.name[o]=a[o].fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc).length?r:e.oApi.getTextNotHtmlEncoded(a[o].fieldDesc)}}}return n}function z(e){var t;var a=e.getSelectedSortItem();e.getSortItems().forEach(function(e){if(e.getId()===a){t=e.getKey()}});return t}var J=function(e,a){this.oViewSettingDialog=undefined;this.aDataResponse=[];this.aValidatedFilter=[];this.aFiltersInTable=[];this.oParameter=a;this.orderby=a.orderby;this.omitTopAndSkipOptionsForNextPathUpdate=false;o.apply(this,[e,a]);this.alternateRepresentation=a.alternateRepresentationType;this.type=t.representationTypes.TABLE_REPRESENTATION;this.oPaginationHandler=new n(this);this.oPaginationDisplayOptionHandler=new r;this._drawSelection=function(e){var t=this.oParameter.requiredFilters;var a=t&&t.length>0?t[0]:undefined;var i=e.getParameter("userInteraction");var n=e.getParameter("rowIndices");if(!i||n.length===0){return}if(e.getSource().getFocusDomRef()&&e.getSource().getFocusDomRef().offsetTop!==0){this.nFirstVisibleRow=this.tableControl.getFirstVisibleRow()}k(this,a,n);var o=jQuery.unique(this.aFiltersInTable);U(this,o)};this._handleSelectionEvent=function(e){this._drawSelection(e)};this._getSelectedIndicesInTable=function(e){var t=this;var a=[];t.aDataResponse.forEach(function(i,n){var o=i[e];if(t.aFiltersInTable.indexOf(o)!==-1){a.push(n)}});return a}};J.prototype=Object.create(o.prototype);J.prototype.constructor=J;J.prototype.setData=function(e,t,a,n){var o=this;var r,s;if(!t){var l=this.oApi.createMessageObject({code:"6004",aParameters:[this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(l)}this.metadata=t;this.oFormatter=new i({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata,this.aDataResponse);if(this.oParameter.requiredFilters.length>0){r=this.oParameter.requiredFilters[0];s=t.getPropertyMetadata(r).text}if(!this.oParameter.isAlternateRepresentation){if(r){this.aValidatedFilter=[];if(n&&n.length>0){n.forEach(function(e){o.aValidatedFilter.push(e[r]);o.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[r],e[s])});o.aFiltersInTable=o.aValidatedFilter}else{o.aFiltersInTable=[]}}var p=this.getRequestOptions();var d=p.paging&&p.paging.skip;this.nDataResponseCount=a;if(d===undefined||d===0){this.aDataResponse=e}else{e.map(function(e){o.aDataResponse.push(e)})}if(!this.oParameter.top&&this.titleControl){var u=this.aDataResponse&&this.aDataResponse.length||0;var h=this.oApi.getTextNotHtmlEncoded("stepTitleWithNumberOfRecords",[this.title,u,a]);this.titleControl.setText(h)}}else{this.aDataResponse=e}if(s){this.aDataResponse.forEach(function(e){o.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(e[r],e[s])})}};J.prototype.getFilter=function(){this.filter=this.oRepresentationFilterHandler.createFilterFromSelectedValues(this.aFiltersInTable);return this.filter};J.prototype.getSelections=function(){var e=this,t=[],a;var i=e.parameter.requiredFilters[0];V(e,i);e.aFiltersInTable.forEach(function(n){a=e.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(n,e.parameter.requiredFilterOptions,i,e.oFormatter,e.metadata);t.push({id:n,text:a})});return t};J.prototype.markSelectionInTable=function(e){var t=this.oParameter.requiredFilters?this.oParameter.requiredFilters[0]:undefined;if(t){var a=this._getSelectedIndicesInTable(t);if(this.oParameter.isAlternateRepresentation){var i=[];var n=this.tableControl.getBinding().aIndices;a.forEach(function(e){i.push(n.indexOf(e))});a=i}this.tableControl.clearSelection();if(a.length>0){B(this.tableControl,a)}}};J.prototype.getRequestOptions=function(e,t){this.bIsAlternateRepresentation=t;if(e){this.oPaginationHandler.resetPaginationOption()}var a={paging:{},orderby:[]};if(e){this.omitTopAndSkipOptionsForNextPathUpdate=false}if(this.omitTopAndSkipOptionsForNextPathUpdate){a.paging={inlineCount:true}}else if(!this.bIsAlternateRepresentation){a.paging=this.oPaginationHandler.getPagingOption(this.oParameter.top)}if(this.orderby){a.orderby=this.orderby}if(this.oViewSettingDialog){var i=z(this.oViewSettingDialog);if(i){var n={property:z(this.oViewSettingDialog),ascending:!this.oViewSettingDialog.getSortDescending()};this.orderby=[n];a.orderby=[n]}}return a};J.prototype.resetPaginationForTable=function(){this.omitTopAndSkipOptionsForNextPathUpdate=false;this.oPaginationHandler.resetPaginationOption()};J.prototype.getMainContent=function(e,t,a){var i=this;var n=this.getData();this.title=e;var o=this.oParameter.dimensions.concat(this.oParameter.measures).length?this.oParameter.dimensions.concat(this.oParameter.measures):this.oParameter.properties;var r=_(this);var s;if(!e){s=this.oApi.createMessageObject({code:"6002",aParameters:["title",this.oApi.getTextNotHtmlEncoded("step")]});this.oApi.putMessage(s)}if(o.length===0){s=this.oApi.createMessageObject({code:"6002",aParameters:["dimensions",e]});this.oApi.putMessage(s)}if(!n||n.length===0){s=this.oApi.createMessageObject({code:"6000",aParameters:[e]});this.oApi.putMessage(s)}var l;if(this.oParameter.isAlternateRepresentation){l=W(this,e,n.length,true,t)}else{l=W(this,e,n.length,false,t)}this.tableControl=j(r,l,this,t);this.tableControl.addAriaLabelledBy(l.getItems()[0]);this.tableControl.addEventDelegate({onAfterRendering:function(){if(i.oParameter){i.markSelectionInTable(true);if(i.loadAllButton){i.loadAllButton.fireEvent("setFocusOnLoadAllButtonEvent")}if(!i.oParameter.top&&!i.oParameter.isAlternateRepresentation&&i.nDataResponseCount>100){i.oPaginationHandler.attachPaginationOnTable(i)}}}});this.tableControl.attachRowSelectionChange(this._handleSelectionEvent.bind(this));this.oLoadMoreLink=new D({text:this.oApi.getTextNotHtmlEncoded("moreIcon"),visible:false});var p=new C({fitContainer:true,items:[this.tableControl,this.oLoadMoreLink]}).addStyleClass("tableRepresentation");if(a){p.setHeight(a+"px")}return p};J.prototype.getThumbnailContent=function(){var e;var t=this.getData();var a=this.oParameter.isAlternateRepresentation?"sap-icon://table-view":"sap-icon://table-chart";if(t!==undefined&&t.length!==0){var i=new m({src:a,size:"70px"}).addStyleClass("thumbnailTableImage");e=i}else{var n=new A({text:this.oApi.getTextNotHtmlEncoded("noDataText")}).addStyleClass("noDataText");e=new y({content:n})}return e};J.prototype.removeAllSelection=function(){q(this);this.tableControl.clearSelection();this.oApi.selectionChanged()};J.prototype.getPrintContent=function(e){var t=this.tableControl.clone();t.getColumns().forEach(function(e){e.setWidth("auto");e.getTemplate().setWrapping(true)});var a=this.tableControl.getSelectedIndices();t.setRowMode(new h({rowCount:t.getModel().getData().tableData.length}));t.onAfterRendering=function(){a.forEach(function(e){t.getRows()[e].getDomRef().classList.add("sapTableSelectionForPrint")})};var i={oRepresentation:t};return i};J.prototype.getViewSettingDialog=async function(){if(!this.oViewSettingDialog){var e={oTableInstance:this};var t=await b.create({viewName:"module:sap/apf/ui/reuse/view/viewSetting.view",viewData:e});this.oViewSettingDialog=t.getContent()[0];this.oViewSettingDialog.addStyleClass("sapUiSizeCompact")}return this.oViewSettingDialog};J.prototype.loadAll=function(){this.omitTopAndSkipOptionsForNextPathUpdate=true;if(this.loadAllButton){M(this)}this.oApi.selectionChanged()};J.prototype.exportExcel=function(e){var t=this;function i(){var e=_(t);var i=[];var n,o;for(n=0;n<e.value.length;n++){o=a(e.value[n],t.metadata);o.property=e.value[n];o.label=e.name[n];i.push(o)}return i}var n=this.getData();var o=i();var r={workbook:{columns:o},dataSource:n,fileName:e+".xlsx"};var s=new sap.ui.export.Spreadsheet(r);s.build()};J.prototype.onChartSwitch=function(){this.resetPaginationForTable()};J.prototype.destroy=function(){if(this.orderby){this.orderby=null}if(this.oParameter){this.oParameter=null}if(this.oViewSettingDialog){this.oViewSettingDialog.destroy()}if(this.aDataResponse){this.aDataResponse=null}if(this.aValidatedFilter){this.aValidatedFilter=[]}if(this.aFiltersInTable){this.aFiltersInTable=[]}o.prototype.destroy.call(this)};return J},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/representations/treeTable", ["sap/apf/core/constants","sap/apf/modeler/ui/utils/constants","sap/apf/ui/representations/BaseUI5ChartRepresentation","sap/apf/ui/representations/utils/paginationDisplayOptionHandler","sap/apf/ui/utils/constants","sap/apf/ui/utils/formatter","sap/m/FlexItemData","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/VBox","sap/ui/core/library","sap/ui/model/BindingMode","sap/ui/table/Column","sap/ui/table/library","sap/ui/table/TreeTable","sap/ui/table/rowmodes/Type"],function(e,t,r,a,o,i,n,l,s,p,u,d,c,f,T,g,h){"use strict";var b=d.HorizontalAlign,y=T.SelectionMode;function m(e){return e.metadata.getPropertyMetadata(e.requiredFilter).text}function F(e){return e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}function v(e,t){if(e){if(t.getPropertyMetadata(e)["filter-restriction"]==="single-value"){return y.Single}return y.MultiToggle}return y.None}function C(e,t,r){var a;var o=function(e){return function(t){if(r.metadata!==undefined){var a;if(t){a=r.oFormatter.getFormattedValue(e,t);if(a!==undefined){return a}}}return t}};a=new g({showNoData:false,rows:{parameters:{numberOfExpandedLevels:99}},extension:[new p({text:t})],enableSelectAll:false,rowMode:h.Auto});a.setLayoutData(new n({growFactor:1}));a.addStyleClass("sapUiSizeCompact");a.setSelectionMode(v(r.requiredFilter,r.metadata));var i=[],u,d;e.name.forEach(function(t,r){u=new s({text:{path:e.value[r],formatter:o(e.value[r]),bindingMode:c.OneWay}});d=new f({label:new l({text:t}),template:u,tooltip:t});i.push(d)});i.forEach(function(e){a.addColumn(e)});r.oTreeTableModel.attachBatchRequestCompleted(function(){if(r.oApi.getUiApi().getLayoutView().getController()&&r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(false)}A(r,a,e);if(r.oRepresentationFilterHandler!==null){if(r.oRepresentationFilterHandler!==undefined){if(r.oRepresentationFilterHandler.getFilterValues().length>0){x(r)}else{r.oTreeTable.clearSelection()}}}});r.oTreeTableModel.attachBatchRequestSent(function(e){if(r.oApi.getUiApi().getLayoutView().getController()&&r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer")){r.oApi.getUiApi().getLayoutView().getController().byId("stepContainer").getContent()[0].byId("idStepLayout").setBusy(true)}});a.setModel(r.oTreeTableModel);a.bindRows(r.oTreeTableControlObject);return a}function x(e){var t=e.oTreeTable.getRows();e.oTreeTable.clearSelection();setTimeout(function(){t.forEach(function(t,r){var a=t.getBindingContext();if(a){var o=a.getProperty(e.requiredFilter);e.oRepresentationFilterHandler.getFilterValues().forEach(function(t){if(o===t){e.oTreeTable.addSelectionInterval(r,r)}})}})},1)}function A(e,t,r){if(e.metadata!==null){if(e.metadata!==undefined){for(var a=0;a<r.name.length;a++){var o=e.metadata.getPropertyMetadata(r.value[a]);if(o["aggregation-role"]==="measure"){var i=t.getColumns()[a];i.setHAlign(b.End)}}}}}function P(e,t){var r=e.oTreeTable.getContextByIndex(t).getProperty(e.requiredFilter);var a=e.oTreeTable.getSelectionMode(e.requiredFilter);var o=e.oTreeTable.isIndexSelected(t);var i=e.oTreeTable.getContextByIndex(t).getProperty(m(e));var n=e.oTreeTable.getContextByIndex(t).getProperty(F(e));e.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(r,i,n);var l=e.oRepresentationFilterHandler.getFilterValues();if(o){l=E(e,a,r,l)}else{l=H(e,a,r,l)}S(e,l)}function R(e){e.oRepresentationFilterHandler.clearFilters()}function w(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function E(e,t,r,a){if(t===y.Single){a=[r]}else{a.push(r)}return w(a)}function H(e,t,r,a){if(t===y.Single){a=[]}else{var o=a.indexOf(r);if(o!==-1){a.splice(o,1)}}return a}function S(e,t){R(e);e.oRepresentationFilterHandler.updateFilterFromSelection(t);e.oApi.selectionChanged()}function O(e){var r={name:[],value:[]};var a=e.oParameters.hierarchicalProperty.concat(e.oParameters.properties);a.forEach(function(a,o){var i=a.fieldName;var n=e.metadata.getPropertyMetadata(i).label||e.metadata.getPropertyMetadata(i).name;if(a.kind===t.propertyTypes.HIERARCHIALCOLUMN){if(a.labelDisplayOption==="text"){i=e.metadata.getPropertyMetadata(e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeFor).text}else{i=e.oTreeTableControlObject.parameters.treeAnnotationProperties.hierarchyNodeExternalKeyFor}}r.name[o]=a.fieldDesc===undefined||!e.oApi.getTextNotHtmlEncoded(a.fieldDesc).length?n:e.oApi.getTextNotHtmlEncoded(a.fieldDesc);r.value[o]=i});return r}var M=function(e,t){var i=this;i.oParameters=t;i.requiredFilter=i.oParameters.requiredFilters[0];i.oKeyTextLookup={};i.type=o.representationTypes.TREE_TABLE_REPRESENTATION;r.apply(i,[e,t]);i.oPaginationDisplayOptionHandler=new a;i._selectRowInTreeTable=function(e){var t=e.getParameter("userInteraction");var r=e.getParameter("rowIndex");if(!t||r===undefined||r===null){return}P(i,r)};i.handleRowSelectionInTreeTable=function(e){i._selectRowInTreeTable(e)}};M.prototype=Object.create(r.prototype);M.prototype.constructor=M;M.prototype.getMainContent=function(e){if(!this.oTreeTable){var t=O(this);this.oTreeTable=C(t,e,this);this.oTreeTable.attachRowSelectionChange(this.handleRowSelectionInTreeTable.bind(this))}return new u({fitContainer:true,items:[this.oTreeTable]})};M.prototype.getSelections=function(){var e=[],t=this,r;this.oRepresentationFilterHandler.getFilterValues().forEach(function(a){r=t.oPaginationDisplayOptionHandler.getDisplayNameForPaginatedFilter(a,t.parameter.requiredFilterOptions,t.requiredFilter,t.oFormatter,t.metadata);e.push({id:a,text:r})});return e};M.prototype.removeAllSelection=function(){this.oRepresentationFilterHandler.clearFilters();this.oTreeTable.clearSelection();this.oApi.selectionChanged()};M.prototype.getFilter=function(){var e=this.oApi.createFilter();var t=e.getTopAnd().addOr("exprssionOr");this.oRepresentationFilterHandler.getFilterValues().forEach(function(e){var r={id:e,name:this.requiredFilter,operator:"EQ",value:e};t.addExpression(r)}.bind(this));return e};M.prototype.setFilterValues=function(e){var t=this,r=[];var a=t.requiredFilter;t.oRepresentationFilterHandler.clearFilters();e.forEach(function(e){var o=e[a];var i=e[m(t)];var n=e[F(t)];t.oPaginationDisplayOptionHandler.createDisplayValueLookupForPaginatedFilter(o,i,n);r.push(o)});t.oRepresentationFilterHandler.updateFilterFromSelection(r)};M.prototype.updateTreetable=function(e,t,r,a){this.oTreeTableModel=t;this.oTreeTableControlObject=e;this.metadata=r;this.oFormatter=new i({getEventCallback:this.oApi.getEventCallback.bind(this.oApi),getTextNotHtmlEncoded:this.oApi.getTextNotHtmlEncoded,getExits:this.oApi.getExits()},this.metadata);if(this.oTreeTable&&a){this.oTreeTable.bindRows(this.oTreeTableControlObject)}};M.prototype.getPrintContent=function(e){var t=this.oTreeTable.clone();var r={oRepresentation:t};return r};M.prototype.getSelectedFilterPropertyLabel=function(e){return this.metadata.getPropertyMetadata(e)["hierarchy-node-for"]};M.prototype.destroy=function(){if(this.oParameters){this.oParameters=null}if(this.oTreeTableModel){this.oTreeTableModel=null}if(this.oTreeTableControlObject){this.oTreeTableControlObject=null}if(this.oTreeTable){this.oTreeTable.destroy()}if(this.metadata){this.metadata=null}if(this.oRepresentationFilterHandler){this.oRepresentationFilterHandler=null}r.prototype.destroy.call(this)};return M},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/chartDataSetHelper", ["sap/apf/core/constants","sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/base/util/deepExtend","sap/ui/model/json/JSONModel","sap/viz/ui5/data/FlattenedDataset"],function(t,e,a,i,n,r,o){"use strict";function s(t,a){this.oFormatter=t;this.aDataResponseWithDisplayValue=[];this.oDisplayOptionHandler=new e;this.oTimeAxisDateConverter=a;this.oChartDataSet={}}s.getFieldNameForOriginalContentOfProperty=function(t){return"original_"+t};function l(t,e){var a=t.map(function(t){return t.fieldName});return a.indexOf(e)===-1?true:false}function p(t){var e=t.dimensions.concat(t.measures),a;e.forEach(function(t){for(a in t){if(a!=="name"&&a!=="value"&&a!=="dataType"&&a!=="displayValue"&&a!=="identity"){delete t[a]}}})}function d(e,a,r,o){var l=n([],o);var p,d={};e.oTimeAxisDateConverter.createPropertyInfo(a.dimensions);var u=a.dimensions.concat(a.requiredFilters);u.forEach(function(n,o){var u=a.requiredFilterOptions?a.requiredFilterOptions.labelDisplayOption:undefined;var f=n.labelDisplayOption?n.labelDisplayOption:u;var h=n.fieldName?n.fieldName:n;if(f===undefined||f===t.representationMetadata.labelDisplayOptions.TEXT){return l}l.forEach(function(a,o){a[h]=a[h]===null||a[h]===undefined?a[h]:a[h].toString();if(f===t.representationMetadata.labelDisplayOptions.KEY){p="formatted_"+h;if(!l[o][p]){l[o][p]=e.oFormatter.getFormattedValue(h,l[o][h])}}if(f===t.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){var u=r.getPropertyMetadata(h).text;p=h+"_"+u;var m={text:l[o][u],key:l[o][h]};l[o][p]=e.oFormatter.getFormattedValueForTextProperty(h,m)}if(e.oTimeAxisDateConverter.bIsConversionToDateRequired(n.fieldName,r)){var D=a[h];var y=s.getFieldNameForOriginalContentOfProperty(h);if(a[y]){d[D]=a[y]}else{var c=i.convertFiscalYearMonthDayToDateString(D)+"";d[c]=D;a[h]=c;a[y]=D}}})});e.oTimeAxisDateConverter.setConvertedDateLookUp(d);return l}s.prototype.constructor=s;s.prototype.createFlattenDataSet=function(t,e,a,i){var r=this;this.aDataResponseWithDisplayValue=d(this,t,e,a);t.dimensions.forEach(function(t,a){t.name=r.oDisplayOptionHandler.getDisplayNameForDimension(t,e,i);t.value="{"+t.fieldName+"}";t.identity=t.fieldName;t.displayValue="{"+r.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(t.fieldName,t.labelDisplayOption,e)+"}"});t.measures.forEach(function(t){t.name=r.oDisplayOptionHandler.getDisplayNameForMeasure(t,e,a,i);t.value="{"+t.fieldName+"}";t.identity=t.fieldName});var o={dimensions:t.dimensions,measures:t.measures};var s=t.requiredFilters[0];this.oChartDataSet=n({},o);this.oChartDataSet.context=[];p(this.oChartDataSet);if(s&&l(t.dimensions,s)){this.oChartDataSet.context.push(s);this.oChartDataSet.dimensions.push({name:s,value:"{"+s+"}",identity:s})}this.oChartDataSet.data={path:"/data"}};s.prototype.addUnusedDimensionsToChartContext=function(t,e){if(e.length===0){return}var a=[];this.oChartDataSet.dimensions.forEach(function(e){var i=e.identity;a.push(i);var n=t.getPropertyMetadata(i).text;if(n){a.push(n)}});this.oChartDataSet.measures.forEach(function(t){a.push(t.identity)});var i=Object.keys(e[0]);i.forEach(function(e){if(a.indexOf(e)>=0||e==="__metadata"){return}var i=t.getPropertyMetadata(e);if(i&&i["aggregation-role"]==="measure"){return}this.addPropertyToContext(e,i)}.bind(this))};s.prototype.addPropertyToContext=function(t,e){var a=e&&e.label?e.label:t;this.oChartDataSet.context.push(t);this.oChartDataSet.dimensions.push({name:a,value:"{"+t+"}",identity:t})};s.prototype.getFlattenDataSet=function(){return new o(this.oChartDataSet)};s.prototype.getModel=function(){var t=new r({data:this.aDataResponseWithDisplayValue});return t};a("sap.apf.ui.representations.utils.ChartDataSetHelper",s);return s});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/displayOptionHandler", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function a(){}function r(e,t){var a,r=false;var n=e[0][t];for(a=0;a<e.length;a++){if(n!==e[a][t]){r=true;break}}return r}a.prototype.constructor=a;a.prototype.getColumnNameBasedOnDisplayOption=function(t,a,r){var n;var i=t;if(a===undefined){n=i}if(a===e.representationMetadata.labelDisplayOptions.TEXT){n=r.getPropertyMetadata(i).text}if(a===e.representationMetadata.labelDisplayOptions.KEY){n="formatted_"+i}if(a===e.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){n=i+"_"+r.getPropertyMetadata(i).text}return n};a.prototype.getDisplayNameForMeasure=function(e,t,a,n){var i=t.getPropertyMetadata(e.fieldName);var o=i.label?i.label:i.name;var l=t.getPropertyMetadata(i.name).unit;var p=a[0]?a[0][l]:undefined;if(e.fieldDesc){o=n.getTextNotHtmlEncoded(e.fieldDesc)}if(l&&p&&!r(a,l)){o=n.getTextNotHtmlEncoded("displayUnit",[o,p])}return o};a.prototype.getDisplayNameForDimension=function(e,t,a){var r=t.getPropertyMetadata(e.fieldName);var n=r.label?r.label:r.name;if(e.fieldDesc){n=a.getTextNotHtmlEncoded(e.fieldDesc)}return n};t("sap.apf.ui.representations.utils.DisplayOptionHandler",a);return a});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/paginationDisplayOptionHandler", ["sap/apf/core/constants","sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/metadataProperty"],function(e,t,r,o,a){"use strict";function i(){this.oKeyTextForProperties={};this.oDisplayValueForProperties={}}i.prototype.createDisplayValueLookupForPaginatedFilter=function(e,t,r){this.oKeyTextForProperties[e]=t;if(r){this.oDisplayValueForProperties[e]=r}};i.prototype.getDisplayNameForPaginatedFilter=function(t,r,i,s,p){var l=t,n;var u=new a.constructor(p.getPropertyMetadata(i));if(this.oDisplayValueForProperties[t]){l=this.oDisplayValueForProperties[t]}if(r&&r.labelDisplayOption){if(r.labelDisplayOption===e.representationMetadata.labelDisplayOptions.TEXT&&this.oKeyTextForProperties[t]){return this.oKeyTextForProperties[t]}else if(r.labelDisplayOption===e.representationMetadata.labelDisplayOptions.KEY_AND_TEXT&&this.oKeyTextForProperties[t]){n={key:o.convertToExternalFormat(l,u),text:this.oKeyTextForProperties[t]};return s.getFormattedValueForTextProperty(i,n)}}return o.convertToExternalFormat(l,u)};r("sap.apf.ui.representations.utils.PaginationDisplayOptionHandler",i);return i});
/* SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/paginationHandler", ["sap/apf/utils/exportToGlobal","sap/ui/Device"],function(t,i){"use strict";function n(){this.pagingOption={top:100,skip:0}}n.prototype.constructor=n;function e(t,i){t.pagingOption.skip=i.getData().tableData.length;t.pagingOption.top=99}function a(t,i){var n=i.tableControl.getModel();var a=n.getData();e(t,n);if(!t.bPaginationTriggered&&t.pagingOption.skip<i.nDataResponseCount){i.tableControl.getParent().setBusy(true);sap.ui.getCore().applyChanges();var o=i.oApi.getActiveStep();t.bPaginationTriggered=true;i.oApi.updatePath(function(e,p){t.bPaginationTriggered=false;if(e===o){n.setData(a);i.markSelectionInTable();i.tableControl.getParent().setBusy(false);if(n.getData().tableData.length>=i.nDataResponseCount){i.oLoadMoreLink.setVisible(false)}}})}}function o(t,i){i.oLoadMoreLink.setVisible(true);i.oLoadMoreLink.attachPress(function(){a(t,i)})}function p(t,i){var n=i.tableControl;i.tableControl.attachFirstVisibleRowChanged(function(e){var o=e.getParameter("firstVisibleRow");var p=n.getVisibleRowCount();var s=t.pagingOption.top+t.pagingOption.skip;if(o+p+10>s){a(t,i)}})}n.prototype.attachPaginationOnTable=function(t){if(i.system.desktop){p(this,t)}else{o(this,t)}};n.prototype.getPagingOption=function(t){var i,n;if(t){i=t;n=0}else if(this.pagingOption.top!==100&&this.pagingOption.skip!==0){i=this.pagingOption.top;n=this.pagingOption.skip}else{i=100;n=0}this.pagingOption={inlineCount:t?false:true,top:i,skip:n};return this.pagingOption};n.prototype.resetPaginationOption=function(){this.pagingOption={top:100,skip:0}};t("sap.apf.ui.representations.utils.PaginationHandler",n);return n});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/representationFilterHandler", ["sap/apf/ui/representations/utils/displayOptionHandler","sap/apf/utils/exportToGlobal","sap/apf/utils/utils","sap/apf/core/metadataProperty","sap/ui/thirdparty/jquery"],function(e,t,r,i,jQuery){"use strict";function a(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function o(e,t,a){var o,s;var n=e.oParameter.requiredFilters[0];if(n){var l=e.oParameter.requiredFilterOptions?e.oParameter.requiredFilterOptions.labelDisplayOption:undefined;var u=e.oDisplayOptionHandler.getColumnNameBasedOnDisplayOption(n,l,t);var p=new i.constructor(t.getPropertyMetadata(u));e.aFilterValues.forEach(function(t){for(o=0;o<a.length;o++){if(a[o][n]===t){if(a[o]["formatted_"+u]){s=a[o]["formatted_"+u]}else{s=r.convertToExternalFormat(a[o][u],p)}break}}e.filterValueLookup[t]=s})}}function s(t,r,i){this.oApi=t;this.aFilterValues=[];this.oParameter=r;this.sRequiredFilter=this.oParameter.requiredFilters[0];this.oDisplayOptionHandler=new e;this.filterValueLookup={};this.oTimeAxisDateConverter=i}s.prototype.constructor=s;s.prototype.setMetadataAndDataResponse=function(e,t){this.oMetadata=e;this.aDataResponse=t};s.prototype.validateFiltersWithDataset=function(){var e=[];var t=this.aDataResponse.map(function(e){return e[this.sRequiredFilter]}.bind(this));e=this.aFilterValues.filter(function(e){return t.indexOf(e)!==-1});this.aFilterValues=e};s.prototype.createFilterFromSelectedValues=function(e){var t=this,r=false,i;var o=this.oApi.createFilter();if(e&&e.length>0){this.aFilterValues=a(e.concat(this.aFilterValues))}var s=o.getTopAnd().addOr("exprssionOr");var n=o.getOperators().EQ;r=t.oTimeAxisDateConverter.bIsConversionToDateRequired(this.oParameter.requiredFilters[0],this.oMetadata);this.aFilterValues.forEach(function(e){if(r){i=t.oTimeAxisDateConverter.getConvertedDateLookUp()[e]||e}else{i=e}var a={id:e,name:t.sRequiredFilter,operator:n,value:i};s.addExpression(a)});return o};s.prototype.updateFilterFromSelection=function(e){var t=a(e);this.aFilterValues=t.slice(0)};s.prototype.clearFilters=function(){this.aFilterValues=[]};s.prototype.getDisplayInfoForFilters=function(e,t){var r=[],i=this;o(i,e,t);i.aFilterValues.forEach(function(e){var t={id:e,text:i.filterValueLookup[e]};r.push(t)});return r};s.prototype.getFilterValues=function(){return this.aFilterValues};s.prototype.getIfSelectedFilterChanged=function(e){var t=jQuery(this.aFilterValues).not(e).length===0&&jQuery(e).not(this.aFilterValues).length===0;return!t};t("sap.apf.ui.representations.utils.RepresentationFilterHandler",s);return s});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/timeAxisDateConverter", ["sap/apf/utils/exportToGlobal"],function(o){"use strict";function e(){this.oConversionDate={};this.oDimensionInfo={}}e.prototype.constructor=e;e.prototype.bIsConversionToDateRequired=function(o,e){if(!this.oDimensionInfo||!this.oDimensionInfo[o]){return false}if(this.oDimensionInfo[o].conversionEvaluated){return this.oDimensionInfo[o].conversionRequired}this.oDimensionInfo[o].conversionEvaluated=true;if(this.oDimensionInfo[o].dataType==="date"&&e.getPropertyMetadata(o).semantics==="yearmonthday"){this.oDimensionInfo[o].conversionRequired=true;return true}this.oDimensionInfo[o].conversionRequired=false;return false};e.prototype.setConvertedDateLookUp=function(o){this.oConversionDate=o};e.prototype.getConvertedDateLookUp=function(){return this.oConversionDate};e.prototype.createPropertyInfo=function(o){var e=this;o.forEach(function(o){e.oDimensionInfo[o.fieldName]=o})};o("sap.apf.ui.representations.utils.TimeAxisDateConverter",e);return e});
/*!

 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/representations/utils/vizFrameSelectionHandler", ["sap/apf/ui/representations/utils/chartDataSetHelper","sap/apf/utils/exportToGlobal"],function(r,t){"use strict";function e(r,t){this.oParameter=r;this.oApi=t}var a=e.prototype;a.constructor=e;var i={isFilterMatch:function(r){var t=r.filterValue;var e=r.dataRow;var a=r.sRequiredProperty;var i=r.fieldForOriginalValue;return t==e[a]||t==e[i]},determine1Selection:function(r){var t=r.dataRow;var e=r.sRequiredProperty;var a=r.aDataPoint;if(i.isFilterMatch(r)){var n={data:{}};n.data[e]=t[e];a.push(n)}}};function n(r,t){var e=[];t.forEach(function(t){var a={data:{}};a.data[r]=t.data?t.data[r]:t;e.push(a)});return e}function o(r){return r.filter(function(r,t,e){return e.indexOf(r)===t})}a.getSelectionInfoFromEvent=function(r,t,e){var a,i,u=this;var f=u.oParameter.requiredFilters[0];var c=r.mParameters.data.map(function(r){return r.data[f]});var l=e.map(function(r){return r.data[f]});if(t){i=o(l).filter(function(r){return c.indexOf(r)===-1})}else{i=o(c.concat(l))}a=n(f,i);return{dataPointsFromSelection:a,aUniqueFilterValueFromChart:i}};a.getSelectionInfoFromFilter=function(t,e,a){var n=[];var o=this.oParameter.requiredFilters[0];var u=r.getFieldNameForOriginalContentOfProperty(o);if(o){e.forEach(function(r){t.forEach(function(t){i.determine1Selection({dataRow:r,filterValue:t,sRequiredProperty:o,aDataPoint:n,fieldForOriginalValue:u})})})}return n};function u(){return i}t("sap.apf.ui.representations.utils.VizFrameSelectionHandler",e);return{constructor:e,_getLocal:u}},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/analysisPath.controller", ["sap/ui/core/mvc/Controller","sap/apf/utils/trace","sap/ui/Device"],function(t,e,i){"use strict";return t.extend("sap.apf.ui.reuse.controller.analysisPath",{refreshAnalysisPath:function(t){if(this.getView().getCarouselView().getController().oCoreApi.getSteps().length<2){this.getView().getCarouselView().getController().getView().moveDownButton.setEnabled(false);this.getView().getCarouselView().getController().getView().moveUpButton.setEnabled(false)}this.getView().getCarouselView().getController().showStepChartChartAfterUpdate()},isOpenPath:false,isNewPath:false,isBackNavigation:false,bLastValidState:false,onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},refresh:function(t){e.logCall("AnalysisPath.refresh"," inx=",t);function i(){var e=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());if(e>t){var i=this.oUiApi.getStepContainer();i.stepLayout.setBusy(true)}}i.bind(this)();if(!this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle()}e.logReturn("refresh")},updateCustomListView:function(t,e,i){this.getView().getCarouselView().getController().updateCustomListView(t,e,i)},callBackForUpdatePath:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePath"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){this.refreshAnalysisPath(a)}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("callBackForUpdatePath")},callBackForUpdatePathAndSetLastStepAsActive:function(t,i){e.logCall("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive"," changed?",i," chart=",t.getSelectedRepresentation().chart?t.getSelectedRepresentation().chart.sId:"NULL");try{var a=this.oCoreApi.getSteps().indexOf(t);if(a===0){var s=this.oCoreApi.getSteps()[this.oCoreApi.getSteps().length-1];this.oCoreApi.setActiveStep(s);this.refreshAnalysisPath()}this.updateCurrentStep(t,a,i);this.updateCustomListView(t,a,i);this.oUiApi.getLayoutView().setBusy(false)}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("AnalysisPath.callBackForUpdatePathAndSetLastStepAsActive")},getIsOpenPath:function(){return this.isOpenPath===true?true:false},setIsOpenPath:function(t){this.isOpenPath=t?true:false},updateCurrentStep:function(t,i,a){e.logCall("AnalysisPath.updateCurrentStep",", inx=",i,", changed?",a,", #core.path=",this.oCoreApi.getSteps().length);try{var s=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=i===s;e.log("updateCurrentStep",", isOpenPath=",this.isOpenPath,", nActiveIndex=",s);if(o){this.drawMainChart(a,o)}if(this.isOpenPath&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isOpenPath=false}if(this.isBackNavigation&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.isBackNavigation=false}if(this.bLastValidState&&this.oCoreApi.getSteps().indexOf(t)===this.oCoreApi.getSteps().length-1){this.oUiApi.getLayoutView().setBusy(false);this.bLastValidState=false}this.isNewPath=false}catch(t){window.console.error("sap.apf .. analysisPath.controller catch exception: ",t);window.console.trace("trace ")}e.logReturn("updateCurrentStep",", isOpenPath="+this.isOpenPath)},drawMainChart:function(t,i){e.logCall("AnalysisPath.drawMainChart");var a=this.oUiApi.getStepContainer();a.getController().drawStepContent(t,i);e.logReturn("drawMainChart")},navigateToStep:function(t){this.getView().getCarouselView().getController().changeActiveStep(t)},apfDestroy:function(){e.logCall("AnalysisPath.apfDestroy ******");this.getView().getToolbar().getController().apfDestroy();this.getView().getCarouselView().getController().apfDestroy()}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/carousel.controller", ["sap/apf/utils/utils","sap/apf/ui/utils/wrappedChartWithCornerTexts","sap/apf/utils/trace","sap/base/Log","sap/ui/Device","sap/ui/core/mvc/Controller"],function(e,t,i,o,n,s){"use strict";var r=0;var a=" ************************************** ";var h=" -------------------------------------- ";function l(e,t,o,n,s){if(jQuery.sap.log.apfTrace===undefined){return}var r=c(e,t,o,n,s);i.log("Carousel."+t,r)}function g(e){var t="";e.forEach(function(e,i){var o=e.oChart;if(o){t+="'"+o.sId+"',"}else{t+="'"+o+"',"}});t=e.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function p(e){var t="";var i=e.getView().getCustomItemList();i.forEach(function(e,i){t+="'"+e.sId+"',"});t=i.length===0?"[]":"["+t.slice(0,t.length-1)+"]";return t}function u(e){return", relation="+g(e._relateChartsToItems)+" // "+p(e)+" #path="+e.oCoreApi.getSteps().length}function c(e,t,i,o,n){n=n||"";var s="";var r="-";var a;var h="-";if(o){a=o.getSelectedRepresentation();h=a.type}var l="";if(i===-1){return s+n}l+=": inx="+i;l+=r==="-"||r===false?"":", is iconic";l+=h==="-"?"":", repr.type="+h;l+=u(e);l+=n===""?"":"\n --- "+n+"---";return s+l}var m=s.extend("sap.apf.ui.reuse.controller.carousel",{cloneCnt:0,paddingLeft:10,paddingRight:10,paddingBottom:15,paddingTop:15,_relateChartsToItems:[],onAfterRendering:function(){},onInit:function(){if(n.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}var e=this.getView().getViewData().oInject;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;this._relateChartsToItems=[]},showStepGallery:function(){this.getView().getStepGallery().getController().openHierarchicalSelectDialog()},onBeforeRendering:function(){if(!n.system.desktop){this.oUiApi.getLayoutView().getController().showMasterFooter(this.getView().addStepButton,this.getView().moveUpButton,this.getView().moveDownButton)}else{this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().addStepButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveUpButton);this.oUiApi.getLayoutView().getController().addMasterFooterContentLeft(this.getView().moveDownButton)}},getStepData:function(e){var t={};t.index=this.oCoreApi.getSteps().indexOf(e);t.title=this.oCoreApi.getTextNotHtmlEncoded(e.title);t.oStepTexts=this.getTextsForCustomListItem(e);return t},update1CustomItemChartWhenChange:function(e,t){i.logCall("update1CustomItemChartWhenChange",t,e);var o=e.getSelectedRepresentation();var n=this._relateChartsToItems[t].oChart;if(!n){i.logReturn("update1CustomItemChartWhenChange: chart reference is undefined");return}i.log("...",", #oClonedChart.oModel before update:",n.getModel().getData().data.length);o.createDataset();n.setModel(o.oModel);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i.logReturn("update1CustomItemChartWhenChange",", #oClonedChart.oModel:",n.getModel().getData().data.length)},_setSelectionsOnThumbnailAndEnforceRendering:function(e,t){var o=this;var n=r++;i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," set timeout, tick=",n);setTimeout(function(){i.emphasize("_setSelectionsOnThumbnailAndEnforceRendering, nIndex="+t," resolved timeout, tick=",n);o.setSelectionsOnThumbnail(e,t)},1)},getActiveStepIndex:function(){if(this.oCoreApi.getSteps().length>1){this.getView().moveDownButton.setEnabled(true);this.getView().moveUpButton.setEnabled(true)}return this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep())},deleteFromBookkeeping:function(e){if(e>=0){this._relateChartsToItems.splice(e,1)}},setSelectionsOnThumbnail:function(e,n){var s=e.getSelectedRepresentation();if(t.isIconDisplayed(s)){i.log("setSelectionsOnThumbnail","iconic, no selections applied, return");return}var r=this._relateChartsToItems[n].oChart;i.logCall("setSelectionsOnThumbnail",", nIndex",n);if(!r){o.error("***** setSelectionsOnThumbnail: chart reference is undefined");return}var a=s.oRepresentationFilterHandler.getFilterValues();var h=s.oVizFrameSelectionHandler.getSelectionInfoFromFilter(a,s.aDataResponse);i.log("setSelectionsOnThumbnail",", call oClonedChart.vizSelection"," apfId="+s.apfId,"  chart.id="+r.sId," selections&filters:",h,a);r.vizSelection(h,{clearSelection:true});var l=" #filters:"+a.length;l+=" #vizSelection="+(r.vizSelection()?r.vizSelection().length:"undefined");i.logReturn("setSelectionsOnThumbnail",l)},_createWrappedChartClone:function(e){var i=t.getClonedChart(e);var o=new t.constructor(this,e,i);return{oChart:i,oWrappedView:o.getContent(),wrappedChartWithCornerTexts:o}},_createRelation:function(e){var o=this._createWrappedChartClone(e);var n=this.getView().createCustomListItem(o.oWrappedView);var s=e.getSelectedRepresentation();var r=o.oChart;if(t.isIconDisplayed(s)){r=null}var a={oChart:r,oTable:s.toggleInstance,typeOfChart:s.type,bIsAlternateView:s.bIsAlternateView,customListItem:n,wrappedChartWithCornerTexts:o.wrappedChartWithCornerTexts};i.log("_createRelation"," return=",a);return a},_addStepAsCustomItem:function(e){var t=this._createRelation(e);this.getView().addCustomListItem(t.customListItem);t.wrappedChartWithCornerTexts.setHighlighted();this._relateChartsToItems.push(t);l(this,"_addStepAsCustomItem <<",this._relateChartsToItems.length,e)},_replaceChangedRepresentation:function(e,t){l(this,"_replaceChangedRepresentation",t,e);var o=this._createRelation(e);i.log("",", relation=",o);this._relateChartsToItems[t]=o;this.getView().removeCustomItem(t);this.getView().insertCustomItem(o.customListItem,t);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);l(this,"_replaceChangedRepresentation",t,e)},isChangeOfRepresentation:function(e,t){var o=t.type!==this._relateChartsToItems[e].typeOfChart||t.bIsAlternateView!==this._relateChartsToItems[e].bIsAlternateView;i.log("isChangeOfRepresentation"," return=",o);return o},updateCustomListView:function(e,t,o){var n;try{n=e.getSelectedRepresentation();i.logCall(" --API-- Carousel.updateCustomListView",", nIndex="+t," bStepChanged="+o,"apfId=",n.apfId,u(this),h);if(t>=this._relateChartsToItems.length){this._addCustomItemAndSetHighlighting(e,t)}else if(this.isChangeOfRepresentation(t,n)){this._replaceChangedRepresentation(e,t)}else if(!o){this._setSelectionsOnThumbnailAndEnforceRendering(e,t)}else{this.update1CustomItemChartWhenChange(e,t)}this._pruneRelateChartsToItems();this._setBusyOnCustomListItem(this._relateChartsToItems[t],false)}catch(e){window.console.error("sap.apf .. carousel.controller catch exception: ",e);window.console.trace("trace ")}i.logReturn("updateCustomListView",u(this),h)},_pruneRelateChartsToItems:function(){if(this.oCoreApi.getSteps().length<this._relateChartsToItems.length){this._relateChartsToItems.splice(this.oCoreApi.getSteps().length);i.emphasize("updateCustomListView"," deletion of superfluous custom items")}},_addCustomItemAndSetHighlighting:function(e,t){var i;this._addStepAsCustomItem(e);this._setSelectionsOnThumbnailAndEnforceRendering(e,t);i=this.getActiveStepIndex();this._removeHighlightingOfAnyStep(i);if(i<=t){this._setHighlightingOfActiveStep(i)}},_setBusyOnCustomListItem:function(e,t){setTimeout(function(){e.customListItem.setBusy(t)},1)},setBusyFromIndex:function(e){var t=this;e=e||0;this._relateChartsToItems.forEach(function(i,o){if(o>=e){t._setBusyOnCustomListItem(i,true)}})},showStepChartChartAfterUpdate:function(){var e=this.oCoreApi.getSteps();if(e.length>this.getView().getCustomItemList().length){this.oUiApi.getLayoutView().setBusy(true);jQuery(this.oUiApi.getStepContainer().getDomRef()).show()}},handleMove:function(e){var t=this.oCoreApi.getSteps().indexOf(this.oCoreApi.getActiveStep());var o=t+1;var n=t-1;i.log("Carousel.handleMove",", parameter",e,", activeStepIndex="+t,a);if(e.down&&o<this.oCoreApi.getSteps().length){this._moveStep(t,o,t)}else{if(e.down!==true&&n>=0&&n<this.oCoreApi.getSteps().length){this._moveStep(t,n,n)}}},_moveInBookkeeping:function(e){i.logCall("_moveInBookkeeping",u(this));var t;t=this._relateChartsToItems[e+1];this._relateChartsToItems[e+1]=this._relateChartsToItems[e];this._relateChartsToItems[e]=t;t=this.getView().getCustomItemList()[e+1];this.getView().removeCustomItem(e+1);this.getView().insertCustomItem(t,e);i.logReturn("_moveInBookkeeping",u(this))},_moveStep:function(e,t,o){i.logCall("Carousel._moveStep"," from "+e+" to "+t,"relation=",this._relateChartsToItems);if(e!==t){this.setBusyFromIndex(o);this._moveInBookkeeping(o);var n=this.oCoreApi.getSteps()[e];var s=this.oUiApi.getAnalysisPath().getController();i.log("Carousel._moveStep"," move step in core and update path");this.oCoreApi.moveStepToPosition(n,t,s.callBackForUpdatePath.bind(s))}i.logReturn("_moveStep","relation=",this._relateChartsToItems)},setActiveStepAfterRemove:function(e){var t=this.getActiveStepIndex();if(e===t){var i;if(t===0){i=1;this._setHighlightingOfActiveStep(0)}else if(t===this.oCoreApi.getSteps().length-1){i=t-1;this._setHighlightingOfActiveStep(i)}else{i=t+1;this._setHighlightingOfActiveStep(t)}this.oCoreApi.setActiveStep(this.oCoreApi.getSteps()[i])}},removeStep:function(e){var t=this.oUiApi.getAnalysisPath().getController();var i=this.getActiveStepIndex();if(i===e&&this.oCoreApi.getSteps().length>1){this.setActiveStepAfterRemove(e)}var o=this.oCoreApi.getSteps()[e];this.oCoreApi.removeStep(o,t.callBackForUpdatePath.bind(t));this.oCoreApi.setDirtyState(true);this.oUiApi.getLayoutView().getController().setPathTitle();if(this.oCoreApi.getSteps().length>=1){this.getView().moveDownButton.setEnabled(false);this.getView().moveUpButton.setEnabled(false)}else{this.oUiApi.getStepContainer("ChartContainer").stepLayout.getAggregation("content")[0].getAggregation("toolbar").removeAllContent();this.oUiApi.getStepContainer("ChartContainer").stepLayout.getAggregation("content")[0].removeAllContent()}this.oUiApi.getLayoutView().getController().enableDisableOpenIn()},removeAllThumbnails:function(){this._removeItemsAndBookkeepingRelations()},_removeItemsAndBookkeepingRelations:function(){var e=this;e.getView().oCustomItemList.removeAllItems();e._relateChartsToItems.forEach(function(t){e._destroyItemAndChart(t)});e._relateChartsToItems=[]},getTextsForCustomListItem:function(e){var t=this;var i=["leftUpper","rightUpper","leftLower","rightLower"];var o=e.thumbnail;var n=e.getSelectedRepresentationInfo().thumbnail;var s={};i.forEach(function(e){var i=n&&n[e];i=i&&!t.oCoreApi.isInitialTextKey(n[e]);var r=o&&o[e];r=r&&!t.oCoreApi.isInitialTextKey(o[e]);if(i){s[e]=t.oCoreApi.getTextNotHtmlEncoded(n[e]);return}else if(r){s[e]=t.oCoreApi.getTextNotHtmlEncoded(o[e]);return}});return s},_getIndexOfCustomItem:function(e){return this.getView().getCustomItemList().findIndex(function(t){return t.sId===e})},deleteCustomListItem:function(e){var t=this._getIndexOfCustomItem(e);i.log("deleteCustomListItem",", indexOfItem=",t,a);var o=null;if(t>=0){o=this._relateChartsToItems[t];this.getView().removeCustomItem(t);this.deleteFromBookkeeping(t);this.setBusyFromIndex(t);this.removeStep(t);this._destroyItemAndChart(o)}l(this,"deleteCustomListItem",t,null)},_destroyItemAndChart:function(e){if(e.oChart){e.oChart.destroy()}if(e.oTable){e.oTable.destroy()}e.customListItem.destroy();e.customListItem=null;e.oChart=null},listItemPressed:function(e){var t=this._getIndexOfCustomItem(e.getParameters().id);this.changeActiveStep(t)},changeActiveStep:function(e){i.logCall("changeActiveStep -- changes the active step, index=",e,a);if(e===this.getActiveStepIndex()){i.logReturn("changeActiveStep",", index=",e,"******");return}var t=this.oCoreApi.getSteps()[e];this._removeHighlightingOfActiveStep();this.oCoreApi.setActiveStep(t);this.oUiApi.selectionChanged(false);this._setHighlightingOfActiveStep(e);i.logReturn("changeActiveStep",", index=",e,"******")},apfDestroy:function(){var t=this.getView().getStepGallery().getController();e.checkAndCloseDialog(t.oHierchicalSelectDialog)},_removeHighlightingOfActiveStep:function(){var e=this.getActiveStepIndex();var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setNonHighlighted()},_removeHighlightingOfAnyStep:function(e){i.log("_removeHighlightingOfAnyStep",", nExclude",e);this._relateChartsToItems.forEach(function(t,i){if(i!==e){t.wrappedChartWithCornerTexts.setNonHighlighted()}})},_setHighlightingOfActiveStep:function(e){i.log("_setHighlightingOfActiveStep",", nActive",e);var t=this._relateChartsToItems[e];t.wrappedChartWithCornerTexts.setHighlighted()}});return m});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/deleteAnalysisPath.controller", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Text","sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,i,o,a,s,n){"use strict";const r=i.DialogType;return s.extend("sap.apf.ui.reuse.controller.deleteAnalysisPath",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator},openPathGallery:function(){var e=new n;e.setData(this.getView().getViewData().jsonData);this.oDialog=this.getView().getContent()[0];this.oDialog.getContent()[0].setModel(e);this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},handleDeleteOfDialog:function(e){var t=e.getParameter("listItem").getProperty("title");var i={item:e.getParameter("listItem"),list:this.getView().getContent()[0].getContent()[0],guid:this.getGuidForPath(t,this.getView().getViewData().jsonData.GalleryElements),sPathName:t};this.openConfirmDelDialog(i)},getGuidForPath:function(e,t){var i;for(i=0;i<t.length;i++){var o=t[i];if(o.AnalysisPathName===e){return o.guid}}},deleteSavedPath:function(e,t){var i=this;var o=t.guid;var a=e;var s;var n=i.oUiApi.getLayoutView().getController().oSavedPathName.getText();i.oSerializationMediator.deletePath(o,function(e,o,n){if(n===undefined&&typeof e==="object"){t.list.removeItem(t.item);t.list.rerender();i.oCoreApi.readPaths(function(e,t,o){if(o===undefined&&typeof e==="object"){var n=e.paths.length;if(n===0){jQuery(".pathText").removeClass("pathTextDontShow");jQuery(".pathText").addClass("pathTextShow")}}else{s=i.oCoreApi.createMessageObject({code:"6005",aParameters:[a]});s.setPrevious(o);i.oCoreApi.putMessage(s)}})}else{s=i.oCoreApi.createMessageObject({code:"6009",aParameters:[a]});s.setPrevious(n);i.oCoreApi.putMessage(s)}});if(i.oCoreApi.isDirty()){n=n.substring(1)}if(n===a){i.oUiApi.getAnalysisPath().getToolbar().getController().resetAnalysisPath()}},openConfirmDelDialog:function(i){var s=this;var n=i.sPathName;var l=(new o).addStyleClass("textStyle");l.setText(s.oCoreApi.getTextNotHtmlEncoded("do-you-want-to-delete-analysis-path",["'"+n+"'"]));s.delConfirmDialog=new t({type:r.Standard,title:s.oCoreApi.getTextNotHtmlEncoded("delPath"),content:l,beginButton:new e({text:s.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){s.deleteSavedPath(n,i);s.delConfirmDialog.close()}}),endButton:new e({text:s.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){s.delConfirmDialog.close()}}),afterClose:function(){s.oUiApi.getLayoutView().setBusy(false);s.delConfirmDialog.destroy()}});if(a.system.desktop){s.delConfirmDialog.addStyleClass("sapUiSizeCompact")}s.delConfirmDialog.open()}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/facetFilter.controller", ["sap/apf/ui/utils/facetFilterListHandler","sap/m/FacetFilter","sap/ui/Device","sap/ui/core/mvc/Controller"],function(e,t,i,a){"use strict";function r(t){t.getView().byId("idAPFFacetFilter").removeAllLists();var i=t.getView().getViewData();var a=i.aConfiguredFilters;a.forEach(function(a){var r=new e(i.oCoreApi,i.oUiApi,a);t.getView().byId("idAPFFacetFilter").addList(r.createFacetFilterList())})}return a.extend("sap.apf.ui.reuse.controller.facetFilter",{onInit:function(){var e=this;if(i.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}r(e)},onResetPress:function(){var e=this;e.getView().getViewData().oStartFilterHandler.resetVisibleStartFilters();e.getView().getViewData().oUiApi.selectionChanged(true)}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/layout.controller", ["sap/m/Button","sap/m/library","sap/m/Popover","sap/ui/Device","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View"],function(t,e,i,o,n,a,s){"use strict";var r=e.PlacementType;return a.extend("sap.apf.ui.reuse.controller.layout",{onInit:function(){this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;var t;this.oCoreApi.getApplicationConfigProperties().done(function(e){if(e){t=e.appName}this.applicationTitle=this.oCoreApi.getTextNotHtmlEncoded(t);this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.loadLayout()}.bind(this));var e=this;this.oActionListPopover=new i({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:r.Bottom,contentWidth:"165px"});this.oActionListItem=e.oUiApi.getToolbar().addStyleClass("toolbarView");this.oActionListPopover.addContent(this.oActionListItem);this.oSavedPathName=this.getView().byId("analysisPathTitle");if(this.byId("analysisPath")){this.setPathTitle()}},showMenu:function(t){this.oActionListPopover.openBy(t.getSource())},getAnalysisPathTitleText:function(){this.getView.byId("analysisPathTitle")},setPathTitle:function(){var t=this.oCoreApi.getPathName();if(t.length==0){t=this.oCoreApi.getTextNotHtmlEncoded("unsaved")}if(this.oCoreApi.isDirty()){t="*"+t}this.getView().byId("analysisPathTitle").setText(t);this.getView().byId("analysisPathTitle").setTooltip(t)},loadLayout:function(){this.oCoreApi.getSmartFilterBarConfigurationAsPromise().done(function(t){if(o.system.desktop){this.getView().addStyleClass("sapUiSizeCompact");this.getView().byId("deviceFooter").destroy()}if(t===undefined){this.getView().byId("idSplitterLayoutData").setSize("0px")}var e=this.oUiApi.getStepContainer();var i=this.oUiApi.getAnalysisPath();this.getView().byId("applicationPage").setTitle(this.applicationTitle);this.getView().byId("stepContainer").addContent(e);this.getView().byId("analysisDynamicPage").setContent(i);if(this.getView().byId("menuButton")){this.getView().byId("menuButton").setTooltip(this.oCoreApi.getTextNotHtmlEncoded("options"))}this.addOpenInButton()}.bind(this))},onAfterRendering:function(){var e=this;if(!o.system.desktop){var i=new t({text:this.oCoreApi.getTextNotHtmlEncoded("showAnalyticalPath"),press:function(){e.getView().byId("applicationView").showMaster()},type:"Transparent"});this.getView().byId("applicationView").attachAfterMasterClose(function(){if(e.getView().byId("masterFooter")&&e.getView().byId("masterFooter").getContentLeft().length===0){e.getView().byId("masterFooter").addContentLeft(i)}});this.getView().byId("applicationView").attachAfterMasterOpen(function(){if(e.getView().byId("masterFooter")){e.getView().byId("masterFooter").removeContentLeft(i)}});if(this.getView().byId("applicationView").isMasterShown()===false&&this.getView().byId("masterFooter").getContentLeft().length===0){this.addMasterFooterContentLeft(i)}}},hideMaster:function(){if(o.system.phone||o.system.tablet){this.getView().byId("applicationView").hideMaster();if(o.system.phone){this.getView().byId("applicationView").toDetail(this.getView().byId("stepContainer").getId())}}},showMasterFooter:function(t,e,i){if(!o.system.desktop){var n=this;n.getView().byId("analysisPath").showFooter=true;n.getView().byId("analysisPath").enableScrolling=true;n.getView().byId("deviceFooter").addContentLeft(t);n.getView().byId("deviceFooter").addContentLeft(e);n.getView().byId("deviceFooter").addContentLeft(i)}},showMaster:function(){this.getView().byId("applicationView").showMaster()},addMasterFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addMasterFooterContentRight:function(t){if(this.getView().byId("masterFooter").getContentRight().length===0){this.getView().byId("masterFooter").insertContentRight(t)}else{this.addMasterFooterContent(t)}},addMasterFooterContent:function(e){var o=this;if(this.oActionListPopover===undefined){this.oActionListPopover=new i({showHeader:false,placement:r.Top})}if(typeof e.getWidth==="function"){e.setWidth("100%")}if(this.footerContentButton===undefined){this.getView().byId("masterFooter").getContentRight()[0].setWidth("71%");this.footerContentButton=new t({icon:"sap-icon://overflow",press:function(t){o.oActionListPopover.openBy(t.getSource())},type:"Transparent",tooltip:this.oCoreApi.getTextNotHtmlEncoded("moreIcon")})}this.oActionListPopover.addContent(e);this.getView().byId("masterFooter").insertContentRight(this.footerContentButton,1)},addDetailFooterContentLeft:function(t){this.getView().byId("masterFooter").addContentLeft(t)},addFacetFilter:function(t){this.getView().byId("subHeader").addContent(t)},enableDisableOpenIn:function(){var t=this;if(!t.openInBtn){return}var e=false;var i=this.oNavigationHandler.getNavigationTargets();i.then(function(i){if(i.global.length===0&&i.stepSpecific.length===0){if(t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(false)}}else{if(!t.openInBtn.getEnabled()){e=true;t.openInBtn.setEnabled(true)}}if(e){t.openInBtn.rerender()}})},addOpenInButton:function(){var e=this;if(this.oNavListPopover===undefined){this.oNavListPopover=new i({showHeader:false,placement:r.Top})}this.openInBtn=new t({id:this.createId("idOpenInButton"),text:this.oCoreApi.getTextNotHtmlEncoded("openIn"),tooltip:this.oCoreApi.getTextNotHtmlEncoded("openIn"),type:"Transparent",enabled:false,press:function(t){s.create({viewName:"module:sap/apf/ui/reuse/view/navigationTarget.view",viewData:{oNavigationHandler:e.oNavigationHandler,oNavListPopover:e.oNavListPopover,oOpenInButtonEventSource:t.getSource(),oUiApi:e.oUiApi,oCoreApi:e.oCoreApi}}).then(t=>e.oNavTargetsView=t)}});this.getView().byId("masterFooter").insertContentRight(this.openInBtn,1);this.enableDisableOpenIn()},doOkOnNavAnalysisPath:function(){var t=this;var e=this.oUiApi.getAnalysisPath().getToolbar();this.oCoreApi.readPaths(function(i,o,n){var a=true;var s=i.paths;if(o!==undefined){e.maxNumberOfSteps=o.getEntityTypeMetadata().maximumNumberOfSteps;e.maxNumberOfPaths=o.getEntityTypeMetadata().maxOccurs}if(n===undefined&&typeof i==="object"){e.getController().getSaveDialog(a,function(){window.history.go(-1)},s)}else{var r=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});r.setPrevious(n);t.oCoreApi.putMessage(r)}})},handleNavBack:function(){var t=this;if(t.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(0,1)==="*"&&t.oCoreApi.getSteps().length!==0){this._openNewMessageDialog()}else{window.history.go(-1)}},_openNewMessageDialog:async function(){var e=this;var i=await n.load({type:"JS",name:"sap.apf.ui.reuse.fragment.newMessageDialog",controller:this});e.getView().byId("idYesButton").attachPress(function(){i.close();e.doOkOnNavAnalysisPath()});e.getView().byId("idNoButton").attachPress(function(){i.close();window.history.go(-1)});var a=new t(e.createId("idCancelButton"),{text:e.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){i.close()}});i.addButton(a);if(o.system.desktop){i.addStyleClass("sapUiSizeCompact")}i.setInitialFocus(i);i.open()}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/messageHandler.controller", ["sap/apf/core/constants","sap/base/Log","sap/base/security/encodeXML","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/MessageBox","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/Device","sap/ui/core/HTML","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/thirdparty/jquery"],function(e,t,o,a,s,i,n,r,l,g,c,u,d,p,f,jQuery){"use strict";var w=i.DialogType,m=i.FlexAlignItems,h=p.ValueState;var y;function v(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}function x(e,t){var o=e.getView().getViewData().oCoreApi;var a=o.getGenericExit("closeFatalErrorDialog");if(a){a(o,e,t)}else{window.history.go(-1)}}function C(e,t){r.information(t.getMessage(),{styleClass:u.system.desktop?"sapUiSizeCompact":""})}function A(e,t){l.show(t.getMessage(),{width:"20em"})}function E(e){var t=y.oCoreApi.getLogMessages();var o=false;for(var a=0;a<t.length;a++){if(t[a].search(5021)!==-1){o=true;break}}return o}function T(e,t){var i=new s(e.createId("idShowDetailsDialog"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:y.oCoreApi.getTextNotHtmlEncoded("error"),type:w.Message,state:h.Error,content:new d({content:["<div><p> "+o(v(t))+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new a({text:y.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){i.close()}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}function b(e,t){var o=E(e);var i=new s(e.createId("idFatalDialog"),{title:y.oCoreApi.getTextNotHtmlEncoded("error"),type:w.Message,state:h.Error,content:[new g({text:o?y.oCoreApi.getTextNotHtmlEncoded("application-reload"):y.oCoreApi.getTextNotHtmlEncoded("fatalErrorMessage")}),new c({alignItems:m.End,items:[new n({text:y.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){T(e,t)}})]})],beginButton:new a({text:y.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){x(e,i)}}),afterClose:function(){i.destroy()}});i.setInitialFocus(i);i.open()}function V(e,t){var o=y.oCoreApi;var i=y.uiApi;var r=new s(e.createId("idShowValidStateDialog"),{title:o.getTextNotHtmlEncoded("error"),type:w.Message,state:h.Error,content:[new g({text:o.getTextNotHtmlEncoded("lastValidStateMessage")}),new c({alignItems:m.End,items:[new n({text:o.getTextNotHtmlEncoded("showDetails"),press:function(){T(e,t)}})]})],beginButton:new a({text:o.getTextNotHtmlEncoded("gobackToValidState"),press:function(){var e=o.restoreApfState();e.then(function(){i.getAnalysisPath().getController().bLastValidState=true;i.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();o.updatePath(i.getAnalysisPath().getController().callBackForUpdatePath.bind(i.getAnalysisPath().getController()));i.getLayoutView().getController().setPathTitle();r.close();i.getAnalysisPath().getCarouselView().rerender();i.getLayoutView().setBusy(false)},function(){r.close()})}}),endButton:new a({text:o.getTextNotHtmlEncoded("startNewAnalysis"),press:function(){i.getAnalysisPath().getToolbar().getController().resetAnalysisPath();r.close()}}),afterClose:function(){r.destroy()}});r.setInitialFocus(r);r.open()}function M(e,t){var o=y.oCoreApi.isApfStateAvailable();if(o){V(e,t)}else{b(e,t)}}return f.extend("sap.apf.ui.reuse.controller.messageHandler",{onInit:function(){var e=this;if(u.system.desktop){e.getView().addStyleClass("sapUiSizeCompact")}y=e.getView().getViewData()},showMessage:function(o){var a=this;var s=o.getSeverity();var i=e.message.severity;switch(s){case i.fatal:y.uiApi.getLayoutView().setBusy(false);M(a,o);break;case i.error:y.uiApi.getLayoutView().setBusy(false);break;case i.information:C(a,o);break;case i.success:A(a,o);break;default:t.error("Error type not defined");break}if(s===i.warning||s===i.error){l.show(o.getMessage(),{width:"40%",offset:"0 -50",animationDuration:2e3})}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/navigationTarget.controller", ["sap/ui/Device","sap/ui/core/mvc/Controller"],function(i,e){"use strict";return e.extend("sap.apf.ui.reuse.controller.navigationTarget",{onInit:function(){this.oNavigationHandler=this.getView().getViewData().oNavigationHandler;if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},handleNavigation:function(i){this.oNavigationHandler.navigateToApp(i)}})});
sap.ui.predefine("sap/apf/ui/reuse/controller/pathFilterDisplay.controller", ["sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery"],function(t,e,i,o,a,jQuery){"use strict";return e.extend("sap.apf.ui.reuse.controller.pathFilterDisplay",{getCoreApi:function(){return this.getView().getViewData().oCoreApi},onInit:function(){var e=this.getView().getViewData().pathFilterInformation;var i=new a(e);this.getView().setModel(i);if(t.system.desktop){this.getView().byId("pathFilterDisplayDialog").addStyleClass("sapUiSizeCompact")}this.getView().byId("pathFilterDisplayDialog").setContentWidth(jQuery(window).height()*.6+"px");this.getView().byId("pathFilterDisplayDialog").setContentHeight(jQuery(window).height()*.6+"px");this.getView().byId("stepPage").setTitle(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("stepPage").setTooltip(this.getCoreApi().getTextNotHtmlEncoded("pathFilterDisplay-SelectedFilters"));this.getView().byId("pathFilterDisplayDialog").getEndButton().setText(this.getCoreApi().getTextNotHtmlEncoded("close"));this.getView().byId("pathFilterDisplayDialog").getBeginButton().setText(this.getCoreApi().getTextNotHtmlEncoded("closeAndNavigate"))},onStepPress:function(t){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(true);var e=this.getView().byId("navContainer");var i=this.getView().byId("filterValuesPage");var o=t.getSource().getBindingContext();i.setBindingContext(o);e.to(i)},onCloseButton:function(){this.getView().byId("pathFilterDisplayDialog").close()},onClose:function(){this.getView().byId("pathFilterDisplayDialog").close()},onSearch:function(t){var e=t.getParameters().newValue;var a=this.getView().byId("navContainer").getCurrentPage().getContent()[0];var s=a.getBinding("items");var n=[];if(e){n.push(new i("text",o.Contains,e))}s.filter(n)},getDescriptionForStep:function(t,e){if(t){if(e&&e.length>0){return t+", "+this.getCoreApi().getTextNotHtmlEncoded("amountSelected",[e.length])}return t+", "+this.getCoreApi().getTextNotHtmlEncoded("nothingSelected")}return this.getCoreApi().getTextNotHtmlEncoded("noSelectionPossible")},onBackPress:function(){this.getView().byId("pathFilterDisplayDialog").getBeginButton().setVisible(false);var t=this.getView().byId("navContainer");t.back()},onCloseAndNavigatePress:function(t){var e=this.getView().byId("filterValuesPage").data("stepIndex");this.getView().getViewData().oUiApi.getAnalysisPath().getController().navigateToStep(e);this.getView().byId("pathFilterDisplayDialog").close()}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/pathGallery.controller", ["sap/apf/utils/trace","sap/ui/Device","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,i,a,s){"use strict";return a.extend("sap.apf.ui.reuse.controller.pathGallery",{onInit:function(){this.oCoreApi=this.getView().getViewData().oInject.oCoreApi;this.oUiApi=this.getView().getViewData().oInject.uiApi;this.oSerializationMediator=this.getView().getViewData().oInject.oSerializationMediator;if(t.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}},openPathGallery:async function(){if(this.oDialog){this.oDialog.destroy()}this.oDialog=await i.load({type:"JS",name:"sap.apf.ui.reuse.fragment.pathGallery",controller:this});var e=new s;var a=this.getPathGalleryData();e.setData(a);this.oDialog.setModel(e);if(t.system.desktop){this.oDialog.addStyleClass("sapUiSizeCompact")}this.oDialog.setInitialFocus(this.oDialog);this.oDialog.open()},getPathGalleryData:function(){var e=this;var t=this.getView().getViewData()?this.getView().getViewData().jsonData:{};var i=function(){var t={steps:e.oCoreApi.getStepTemplates()};return t};if(t.GalleryElements.length!==0){var a=t.GalleryElements;var s=i();var o,r,n,l;for(o=0;o<a.length;o++){for(r=0;r<a[o].StructuredAnalysisPath.steps.length;r++){for(n=0;n<s.steps.length;n++){var p=a[o].StructuredAnalysisPath.steps[r].stepId;var u=a[o].StructuredAnalysisPath.steps[r].selectedRepresentationId;if(p===s.steps[n].id){for(l in s.steps[n].getRepresentationInfo()){if(u===s.steps[n].getRepresentationInfo()[l].representationId){t.GalleryElements[o].StructuredAnalysisPath.steps[r].imgSrc=s.steps[n].getRepresentationInfo()[l].picture;t.GalleryElements[o].StructuredAnalysisPath.steps[r].title=e.oCoreApi.getTextNotHtmlEncoded(s.steps[n].title.key)}}}}}}}return t},openPath:function(t,i,a){e.log("pathGallery.openPath",", ",a,", guid",i,"***********************");var s=this;var o;var r=s.oUiApi.getAnalysisPath().getCarouselView();this.oDialog.setBusy(true);this.oUiApi.getAnalysisPath().getCarouselView().oController.removeAllThumbnails();s.oSerializationMediator.openPath(i,function(s){return function(n,l,p){var u=s.oUiApi.getLayoutView().getController();var h=s.oUiApi.getAnalysisPath().getController();e.log("pathGallery.openPath continuation",", activeStepindex=",a,", guid=",i);if(p===undefined&&typeof n==="object"){h.setIsOpenPath(true);s.oUiApi.contextChanged();h.refresh(-1);s.oCoreApi.updatePath(h.callBackForUpdatePath.bind(h));s.oCoreApi.setDirtyState(false);u.setPathTitle();if(s.oDialog!==undefined){s.oDialog.close()}r.rerender();s.oUiApi.getLayoutView().setBusy(false)}else{o=s.oCoreApi.createMessageObject({code:"6008",aParameters:[t]});o.setPrevious(p);s.oUiApi.getLayoutView().setBusy(false);s.oCoreApi.putMessage(o)}}}(this),a)}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/controller/smartFilterBar.controller", ["sap/ui/comp/state/UIState","sap/ui/core/mvc/Controller","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v2/ODataModel","sap/ui/model/odata/CountMode"],function(e,t,a,i,r){"use strict";return t.extend("sap.apf.ui.reuse.controller.smartFilterBar",{onInit:function(){var e=this;var t=e.getView().getViewData().oSmartFilterBarConfiguration.service;var n=e.getView().getViewData().oCoreApi.getAnnotationsForService(t);var o={annotationURI:n,json:true};if(n&&n.length>0){o.loadAnnotationsJoined=true}var s=e.getView().getViewData().oCoreApi.getStartParameterFacade().getSapSystem();if(s){t=a.setOrigin(t,{force:true,alias:s})}var g=new i(t,o);g.getMetaModel().loaded().then(function(){e.getView().getViewData().oCoreApi.getMetadata(t).done(function(a){if(a.getAllEntitySetsExceptParameterEntitySets().indexOf(e.getView().getViewData().oSmartFilterBarConfiguration.entitySet)<0){e.getView().getViewData().oCoreApi.putMessage(e.getView().getViewData().oCoreApi.createMessageObject({code:"5053",aParameters:[e.getView().getViewData().oSmartFilterBarConfiguration.entitySet,t]}))}g.setDefaultCountMode(r.None);e.byId("idAPFSmartFilterBar").setModel(g)})});g.attachMetadataFailed(function(){e.getView().getViewData().oCoreApi.putMessage(e.getView().getViewData().oCoreApi.createMessageObject({code:"5052",aParameters:[t]}))})},afterInitialization:function(){this.handleSplitterSize();this.setFilterData();this.validateFilters();this.registerSFBInstanceWithCore()},registerSFBInstanceWithCore:function(){var e=this;e.getView().getViewData().oCoreApi.registerSmartFilterBarInstance(e.byId("idAPFSmartFilterBar"))},handlePressOfGoButton:function(){var e=this;var t=this.byId("idAPFSmartFilterBar");if(!t._apfOpenPath&&e.getView().getViewData().oCoreApi.getActiveStep()){e.getView().getViewData().oUiApi.selectionChanged(true)}delete t._apfOpenPath},setFilterData:function(){var t=this;var a=this.byId("idAPFSmartFilterBar");var i=t.getView().getViewData().oCoreApi.getStartParameterFacade().getAnalyticalConfigurationId();var r=t.getView().getViewData().oCoreApi.getStartParameterFacade().getXappStateId();var n=a.getUiState();var o=a.mProperties;a.setUiState(n,o);if(i!==undefined||r!==null&&r!==undefined){var s=t.getView().getViewData().oCoreApi;var g=s.getComponent();const i=sap.ui.require("sap/ushell/Container");if(i!==undefined){var d=i.getService("CrossApplicationNavigation");var l=d.getStartupAppState(g);l.done(function(t){var a=t.getData();if(a){a=JSON.parse(JSON.stringify(a));var i=a.selectionVariant;var r=new e({selectionVariant:i});var n=this.byId("idAPFSmartFilterBar");n.setUiState(r,{replace:true,strictMode:false});var o=n.getVariantManagement().STANDARDVARIANTKEY;n.getVariantManagement().setCurrentVariantId(o)}}.bind(this))}var p=a.getVariantManagement().getDefaultVariantKey();a.setCurrentVariantId(p)}},validateFilters:function(){var e=this.byId("idAPFSmartFilterBar");var t=e.validateMandatoryFields();this.getView().getViewData().oUiApi.getAddAnalysisStepButton().setEnabled(t);this.getView().getViewData().oUiApi.getAddAnalysisStepButton().rerender()},handleSplitterSize:function(){var e=this;var t=this.byId("idAPFSmartFilterBar");var a=t.getAggregation("_searchButton");a.attachPress(function(){var t=this.getParent();if(t.getFilterBarExpanded()){e.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("127px")}else{e.getView().getViewData().oUiApi.getLayoutView().byId("idSplitterLayoutData").setSize("65px")}})}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepContainer.controller", ["sap/apf/ui/utils/helper","sap/apf/core/constants","sap/apf/ui/utils/constants","sap/base/util/deepExtend","sap/suite/ui/commons/ChartContainerContent","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/ui/core/Icon","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/core/mvc/XMLView","sap/m/library","sap/m/Link","sap/m/ToggleButton","sap/m/Label","sap/m/Button","sap/m/ToolbarSpacer","sap/m/List","sap/m/StandardListItem","sap/m/Popover","sap/apf/utils/trace","sap/ui/thirdparty/jquery"],function(e,t,n,a,r,i,o,s,l,d,p,c,u,g,f,v,h,C,y,m,S,jQuery){"use strict";const I=c.ListMode;const b=c.PlacementType;const T=c.ListSeparators;var w,R,A,P=false;function x(){var e=A.getSelectedRepresentation();return e.type===n.representationTypes.TABLE_REPRESENTATION}function D(){var e=A.getSelectedRepresentation();return e.type===n.representationTypes.TREE_TABLE_REPRESENTATION}function E(){if(A.getSelectedRepresentation().bIsAlternateView===undefined||A.getSelectedRepresentation().bIsAlternateView===false){return false}return true}function V(e){var t=e.getCurrentRepresentation();var n=t.getParameter().requiredFilters;if(n===undefined||n.length===0){return undefined}return n[0]}function N(e){S.logCall("StepContainer._setChartContainerContent");var t=e.byId("idChartContainer");var n=e.getCurrentRepresentation();var a=A.longTitle&&!w.isInitialTextKey(A.longTitle.key)?A.longTitle:A.title;var i=w.getTextNotHtmlEncoded(a);S.log("_setChartContainerContent"," title=",i);var o=n.getMainContent(i);var s={onBeforeRendering:function(){L(e,o)}};o.addEventDelegate(s);t.removeAllContent();var l=new r({content:o});t.addContent(l);S.logReturn("_setChartContainerContent")}function L(e,t){var n=e.byId("idChartContainer");var a="0";var r=jQuery(window).width();var i=n.getId();if(jQuery("#"+i).length!==0){a=jQuery("#"+i+" > div:first-child > div:nth-child(2)").offset().top;r=jQuery("#"+i+" > div:first-child > div:nth-child(2)").width()}var o=jQuery(window).height()-a-jQuery(".applicationFooter").height();var s=r;t.setHeight(o+"px");t.setWidth(s+"px")}function F(e,t){var n=e.byId("idSelectedText");var a=e.getCurrentRepresentation();var r=K(e);var i=a.getSelectionFilterLabel();var o=i+" ("+r+") ";var s=e.byId("idSelPropertyAndCount");if(!s){s=new u({id:e.createId("idSelPropertyAndCount"),press:e.handlePressSelectedPropertyCountLink.bind(e)});s.addAriaLabelledBy(n.getId())}else{if(s&&a.chart!==undefined&&(a.chart!==null&&a.chart.setFocusOnSelectLink)){a.chart.detachEvent("setFocusOnSelectedLinkEvent",a.chart.setFocusOnSelectLink)}}if(s&&a.chart!==undefined&&a.chart!==null){a.chart.setFocusOnSelectLink=function(){s.focus()}}s.setVisible(true);s.setText(o);t.addContent(s);t.onAfterRendering=function(){if(s&&a.chart!==undefined&&a.chart!==null){a.chart.fireEvent("setFocusOnSelectedLinkEvent");a.chart.detachEvent("setFocusOnSelectedLinkEvent",a.chart.setFocusOnSelectLink)}}}function B(e){var t=e.byId("idChartContainer");t.removeAllCustomIcons();H(e);O(e);k(e)}function H(t){var n=t.byId("idChartContainer");var a=A.getSelectedRepresentationInfo();var r;if(a.parameter&&a.parameter.orderby){var i=a.parameter.orderby;new e(w).getRepresentationSortInfo(a).done(function(e){for(var s=0;s<e.length;s++){r=i[0].property}var l=i[0].ascending==true?"Sort Order: Ascending":"Sort Order: Descending";var d=w.getTextNotHtmlEncoded(a.label)+"\n"+(r!==undefined?w.getTextNotHtmlEncoded("sortBy")+": "+r:"")+"\n"+l;var p=new o({src:a.picture,tooltip:d,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(p)})}else{var s=w.getTextNotHtmlEncoded(a.label)+"\n"+(r!==undefined?w.getTextNotHtmlEncoded("sortBy")+": "+r:"");var l=new o({src:a.picture,tooltip:s,press:function(e){t.handlePressChartIcon(e)}});n.addCustomIcon(l)}}function O(e){var t=e.byId("idChartContainer");var n=w.getTextNotHtmlEncoded("listView");var a=new o({src:"sap-icon://table-view",tooltip:n,press:e.handlePressAlternateRepIcon.bind(e)});var r=e.getCurrentRepresentation();var i=r.type;if(x()||D()||i=="TableRepresentation"){t.removeCustomIcon(a);return}t.addCustomIcon(a)}function k(e){if(e.getCurrentRepresentation().topN!==undefined||!E()&&!x()||D()){return}var t=e.byId("idChartContainer");var n=w.getTextNotHtmlEncoded("view-Settings-Button");var a=new o({src:"sap-icon://drop-down-list",tooltip:n,press:async function(){const t=await e.getCurrentRepresentation().getViewSettingDialog();e.getView().addDependent(t);t.open()}});t.addCustomIcon(a)}function M(e,t){var n=e.byId("idSelectedText");if(!n){n=new f({id:e.createId("idSelectedText"),text:w.getTextNotHtmlEncoded("selectedValue")})}n.setVisible(true);t.addContent(n)}function _(e,t){var n=e.byId("idReset");if(!n){n=new v({text:w.getTextNotHtmlEncoded("reset"),id:e.createId("idReset"),type:"Transparent",press:e.handlePressResetButton.bind(e)}).addStyleClass("chartContainerResetStyle")}n.setVisible(true);t.addContent(n)}function z(e,t){var n=K(e);if(n>0&&V(e)!==undefined){M(e,t);F(e,t);_(e,t)}}function U(e,t){var n=e.byId("idPathFilterDisplayButton");if(!n){n=new v({text:w.getTextNotHtmlEncoded("pathFilterDisplayButton"),id:e.createId("idPathFilterDisplayButton"),icon:"sap-icon://message-information",type:"Transparent",press:function(){if(e.byId("idStepLayout").getBusy()===false){w.getPathFilterInformation().then(function(t){var n=e.byId("pathFilterDisplay");if(!n){var a=new p({viewName:"sap.apf.ui.reuse.view.pathFilterDisplay",viewData:{pathFilterInformation:t,oCoreApi:w,oUiApi:R},id:e.createId("pathFilterDisplay")})}else{var a=new p({viewName:"sap.apf.ui.reuse.view.pathFilterDisplay",viewData:{pathFilterInformation:t,oCoreApi:w,oUiApi:R}})}a.setParent(e.getView(),"content",true);a.getContent()[0].open()})}}})}t.addContent(n)}function j(e,t){var n=e.getCurrentRepresentation();var a=n.type;var r=undefined;var i=false;if(a!=="TableRepresentation"&&a!=="listView"&&a!=="TreeTableRepresentation"){if(n.chart!==undefined){if(Object.getOwnPropertyNames(n.chart).length!==0){r=n.chart.vizSelection();i=n.chart.getVizProperties().plotArea.dataLabel.visible}}if(n!==undefined){if(n.aDataResponse!==0){var o=e.byId("idToggleDisplayButton");if(!o){o=new g({id:e.createId("idToggleDisplayButton"),pressed:false,text:w.getTextNotHtmlEncoded("values"),tooltip:w.getTextNotHtmlEncoded("displayValues"),press:e.handleToggleDisplay.bind(e)})}else{n=e.getCurrentRepresentation();o.setPressed(i)}if(r!==undefined){e.getCurrentRepresentation().chart.vizSelection(r,{clearSelection:false})}t.addContent(o)}}}}function X(e){var t=e.byId("idChartContainer");var n=t.getToolbar();n.removeAllContent();var a=new f({text:w.getTextNotHtmlEncoded("currentStep")});n.addContent(a);var r=new h;n.addContent(r);j(e,n);z(e,n);if(w.getSteps().indexOf(A)!==0){U(e,n)}n.addContent(new i);t.setToolbar(n)}function q(e,t,n){S.logCall("StepContainer._drawChartContainer",", isActiveStep=",n,", oActiveStep=",t);if(t!==undefined){N(e);B(e);X(e)}S.logReturn("_drawChartContainer")}function K(e){var t=e.getCurrentRepresentation();var n=t.getSelections().length;return n}function J(t,n){var a=new C({mode:I.SingleSelectMaster,showSeparators:T.None,includeItemInSelection:true,selectionChange:t.handleSelectionChartSwitchIcon.bind(t)});var r;var i;for(var o=0;o<A.getRepresentationInfo().length;o++){i=A.getRepresentationInfo()[o];r=undefined;if(i.parameter&&i.parameter.orderby){new e(w).getRepresentationSortInfo(i).done(function(e){var t=[];for(var n=0;n<e.length;n++){e[n].done(function(e){t.push(e)})}r=t.join(", ");var o=r!==undefined?w.getTextNotHtmlEncoded("sortBy")+": "+r:"";var l=new y({description:o,icon:i.picture,title:w.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});a.addItem(l)})}else{var l=r!==undefined?w.getTextNotHtmlEncoded("sortBy")+": "+r:"";var d=new y({description:l,icon:i.picture,title:w.getTextNotHtmlEncoded(i.label),customData:[new s({key:"data",value:{oRepresentationType:i,icon:i.picture}})]});a.addItem(d)}}if(!t.byId("idAllChartPopover")){var p=new m({id:t.createId("idAllChartPopover"),placement:b.Bottom,showHeader:false,content:[a],afterClose:function(){p.destroy()}})}t.byId("idAllChartPopover").openBy(n)}function W(e,t){e.byId("idReset").setVisible(t);e.byId("idSelPropertyAndCount").setVisible(t);e.byId("idSelectedText").setVisible(t)}return d.extend("sap.apf.ui.reuse.controller.stepContainer",{onInit:function(){var e=this;w=e.getView().getViewData().oCoreApi;R=e.getView().getViewData().uiApi;A=w.getActiveStep();this.initialText=new f({id:this.createId("idInitialText")}).addStyleClass("initialText");this.initialText.setText(w.getTextNotHtmlEncoded("initialText"))},onAfterRendering:function(){jQuery(R.getStepContainer().getDomRef()).hide();if(jQuery("#"+this.initialText.getId()).length===0&&w.getSteps().length===0){jQuery("#"+R.getStepContainer().getId()).parent().append(sap.ui.getCore().getRenderManager().getHTML(this.initialText))}else if(w.getSteps().length>0){jQuery(R.getStepContainer().getDomRef()).show()}if(R.getAnalysisPath().getController().isOpenPath){jQuery(".initialText").remove()}},getCurrentRepresentation:function(){var e=A.getSelectedRepresentation();if(E()){e=A.getSelectedRepresentation().toggleInstance}return e},handlePressSelectedPropertyCountLink:function(){this.openSelectionDisplayDialog()},openSelectionDisplayDialog:async function(){var e=this;e.oCoreApi=w;const t=await l.load({type:"JS",id:"idSelectionDisplayFragment",name:"sap.apf.ui.reuse.fragment.selectionDisplay",controller:e});t.open()},handleToggleDisplay:function(){var e=this;e.oCoreApi=w;var t=e.getCurrentRepresentation();var n=e.byId("idToggleDisplayButton");if(t.measures!==undefined){var a=t.getFormatStringForMeasure(t.measures[0]);if(t.type==="PieChart"){t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),type:"percentage"}}})}else{t.chart.setVizProperties({plotArea:{dataLabel:{visible:n.getPressed(),formatString:a}}})}return t.chart.getVizProperties().plotArea.dataLabel.visible}var r=t.chartPlotArea.plotArea.dataLabel.visible;r=n.getPressed();return r},handlePressResetButton:function(){var e=this;if(E()){e.getCurrentRepresentation().removeAllSelection()}e.getCurrentRepresentation().removeAllSelection();W(e,false)},createToggleRepresentationInstance:function(e,n){var r={};function i(n){var a=n.dimensions;var r=e.getMetaData();n.isAlternateRepresentation=true;if(r===undefined){return n}var i,o;for(i=0;i<a.length;i++){var s=r.getPropertyMetadata(a[i].fieldName).hasOwnProperty("text");if(s&&a[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.KEY_AND_TEXT){o={};o.fieldName=r.getPropertyMetadata(a[i].fieldName).text;n.dimensions.splice(i+1,0,o)}else if(s&&a[i].labelDisplayOption===t.representationMetadata.labelDisplayOptions.TEXT){o={};o.fieldName=r.getPropertyMetadata(a[i].fieldName).text;n.dimensions.splice(i,1,o)}}return n}var o=a({},e.getParameter());delete o.alternateRepresentationTypeId;delete o.alternateRepresentationType;o=i(o);if(n){o.orderby=n}r=w.createRepresentation(e.getParameter().alternateRepresentationType.constructor,o);var s=e.getData(),l=e.getMetaData();if(s!==undefined&&l!==undefined){r.setData(s,l)}return r},handlePressAlternateRepIcon:function(){var e=this;var t=A.getSelectedRepresentation();t.bIsAlternateView=true;if(E()){t.toggleInstance=e.createToggleRepresentationInstance(t)}P=true;e.getView().getViewData().uiApi.selectionChanged(true)},handlePressChartIcon:function(e){var t=this;var n=A.getSelectedRepresentation();var a=w.getSteps().indexOf(A);var r=null;if(A.getRepresentationInfo().length>1){r=e.getParameter("controlReference");J(t,r)}else{n.bIsAlternateView=false;P=true;t.getView().getViewData().uiApi.selectionChanged(true);n.createDataset();t.drawStepContent();R.getAnalysisPath().getController().updateCustomListView(A,a,false)}},handleSelectionChartSwitchIcon:function(e){this.byId("idAllChartPopover").close();var t=A.getSelectedRepresentation();var n=e.getParameter("listItem").getCustomData()[0].getValue();var a=A.getSelectedRepresentationInfo().representationId;var r=n.oRepresentationType.representationId;if(a===r&&t.bIsAlternateView===false){return}P=true;t.bIsAlternateView=false;A.setSelectedRepresentation(n.oRepresentationType.representationId);R.getAnalysisPath().getController().refresh(n.nActiveStepIndex);w.updatePath(R.getAnalysisPath().getController().callBackForUpdatePath.bind(R.getAnalysisPath().getController()));t.createDataset()},drawStepContent:function(e,t){S.logCall("StepContainer.drawStepContent"," bStepUpdated="+e);var n=this;var a=false;var r=A;A=w.getActiveStep();if(A===undefined){S.logReturn("drawStepContent",", the active step === undefined");return}if(r!==A){a=true}if(e||P||a){q(n,A,t)}else{X(n)}P=false;n.initialText.destroy();n.byId("idStepLayout").setBusy(false);S.logReturn("drawStepContent",", bIsActiveStepChanged",a)}})},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/stepGallery.controller", ["sap/apf/ui/utils/helper","sap/apf/utils/trace","sap/ui/Device","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,i,a,o,s){"use strict";function r(e){var t=e.getMessage();while(e.getPrevious()){e=e.getPrevious();t=t+"\n"+e.getMessage()}return t}return o.extend("sap.apf.ui.reuse.controller.stepGallery",{getGalleryElementsData:function(){var t=this;var i=[];var a=this.oCoreApi.getCategories();var o=this.oCoreApi.getTextNotHtmlEncoded("label");var s=this.oCoreApi.getTextNotHtmlEncoded("steps");var r=this.oCoreApi.getTextNotHtmlEncoded("category");var l;if(a.length===0){l=this.oCoreApi.createMessageObject({code:"6001",aParameters:["Categories"]});this.oCoreApi.putMessage(l)}var n;for(n=0;n<a.length;n++){var c={};var p=a[n];var h;if(!p.label){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[o,r+": "+h]});this.oCoreApi.putMessage(l)}else{h=this.oCoreApi.getTextNotHtmlEncoded(p.label);c.title=this.oCoreApi.getTextNotHtmlEncoded(p.label)}c.id=p.id;c.stepTemplates=[];p.stepTemplates.forEach(function(i){var a={};if(!i.title){l=t.oCoreApi.createMessageObject({code:"6003",aParameters:["Title"]});t.oCoreApi.putMessage(l)}else{a.title=t.oCoreApi.getTextNotHtmlEncoded(i.title)}a.id=i.id;a.representationtypes=i.getRepresentationInfo();a.representationtypes.forEach(function(i){i.title=t.oCoreApi.getTextNotHtmlEncoded(i.label);if(i.parameter&&i.parameter.orderby){new e(t.oCoreApi).getRepresentationSortInfo(i).done(function(e){var t=[];for(var a=0;a<e.length;a++){e[a].done(function(e){t.push(e)})}i.sortDescription=t})}});a.defaultRepresentationType=a.representationtypes[0];c.stepTemplates.push(a)});i.push(c)}var g=this.oCoreApi.getStepTemplates();if(g.length===0){l=this.oCoreApi.createMessageObject({code:"6002",aParameters:[s,r]});this.oCoreApi.putMessage(l)}var d={GalleryElements:i};return d},onInit:function(){if(i.system.desktop){this.getView().addStyleClass("sapUiSizeCompact")}this.oCoreApi=this.getView().getViewData().oCoreApi;this.oUiApi=this.getView().getViewData().uiApi;var e=this.getGalleryElementsData().GalleryElements;var t=new s({GalleryElements:e});this.getView().setModel(t)},getStepDetails:function(e,t){var i=this.getGalleryElementsData().GalleryElements;var a=i[e].stepTemplates[t];return a},openHierarchicalSelectDialog:async function(){if(this.pHierchicalSelectDialog){this.bAbortOpeningHierchicalSelectDialog=true;this.oHierchicalSelectDialog=await this.pHierchicalSelectDialog;this.pHierchicalSelectDialog=undefined}if(this.oHierchicalSelectDialog){this.oHierchicalSelectDialog.destroy();this.oHierchicalSelectDialog=undefined}this.pHierchicalSelectDialog=a.load({type:"JS",name:"sap.apf.ui.reuse.fragment.stepGallery",controller:this});this.bAbortOpeningHierchicalSelectDialog=false;this.oHierchicalSelectDialog=await this.pHierchicalSelectDialog;this.pHierchicalSelectDialog=undefined;if(this.bAbortOpeningHierchicalSelectDialog){this.oHierchicalSelectDialog.destroy();this.oHierchicalSelectDialog=undefined;return}this.oHierchicalSelectDialog.setModel(this.getView().getModel());if(i.system.desktop){this.oHierchicalSelectDialog.addStyleClass("sapUiSizeCompact")}this.oHierchicalSelectDialog.open()},onStepPress:function(e,i){t.logCall("stepGallery.onStepPress -- adds an active step, id=",e," ************************************** ");var a=this;var o=a.oUiApi.getAnalysisPath().getController();this.oCoreApi.checkAddStep(e).done(function(s,l){t.log("onStepPress->continuation",", bCanStepBeAdded",s," oRepresentationType=",i);if(s){a.oHierchicalSelectDialog.close();a.oCoreApi.createStep(e,o.callBackForUpdatePathAndSetLastStepAsActive.bind(o),i);o.refresh(-1)}else{var n=r(l);var c={oController:a,sMessageText:n};a.openAddStepCheckDialog(c)}});var s=this.oCoreApi.getSteps();var l=s.length>0?s[s.length-1].getSelectedRepresentation():{};t.logReturn("onStepPress",", step id=",e,", repr.apfId="+(l?l.apfId:"--"),", selectedRepr=",l?l:"error: no step existing")},openAddStepCheckDialog:async function(e){const t=await a.load({type:"JS",name:"sap.apf.ui.reuse.fragment.addStepCheckDialog",controller:e});t.open();this.oUiApi.getLayoutView().setBusy(false)}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/toolbar.controller", ["sap/apf/ui/utils/print","sap/apf/utils/utils","sap/m/Button","sap/m/Dialog","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/Device","sap/ui/core/Item","sap/ui/core/library","sap/ui/core/mvc/Controller","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel"],function(e,t,a,i,o,s,n,l,r,g,p,h,u){"use strict";var c=s.DialogType;var d=s.InputType;var f=g.ValueState;return p.extend("sap.apf.ui.reuse.controller.toolbar",{resetAnalysisPath:function(){this.oUiApi.getAnalysisPath().getCarouselView().getController().removeAllThumbnails();this.oCoreApi.resetPath();this.oUiApi.getAnalysisPath().getController().isNewPath=true;this.oStartFilterHandler.resetAll();this.oUiApi.contextChanged(true);this.oUiApi.getAnalysisPath().getController().refreshAnalysisPath();this.oCoreApi.setDirtyState(false);this.oCoreApi.setPathName("");this.oUiApi.getLayoutView().getController().setPathTitle();this.oUiApi.getStepContainer().rerender()},onInit:function(){this.view=this.getView();if(l.system.desktop){this.view.addStyleClass("sapUiSizeCompact")}this.oViewData=this.getView().getViewData();this.oCoreApi=this.oViewData.oCoreApi;this.oSerializationMediator=this.oViewData.oSerializationMediator;this.oUiApi=this.oViewData.uiApi;this.oStartFilterHandler=this.oViewData.oStartFilterHandler;this.bIsPathGalleryWithDelete=false;this.oPathGalleryDialog={}},addCompactStyleClassForDialog:function(e){if(l.system.desktop){e.addStyleClass("sapUiSizeCompact")}},onSaveAndSaveAsPress:function(e){var t=this;if(t.oCoreApi.getSteps().length!==0){t.oUiApi.getLayoutView().setBusy(true);t.oCoreApi.readPaths(function(a,i,o){var s=a.paths;if(i!==undefined){t.getView().maxNumberOfSteps=i.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=i.getEntityTypeMetadata().maxOccurs}if(o===undefined&&typeof a==="object"){t.getSaveDialog(e,function(){},s)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(o);t.oCoreApi.putMessage(n)}t.oUiApi.getLayoutView().setBusy(false)})}else{var a=t.oCoreApi.createMessageObject({code:"6012",aParameters:[]});t.oCoreApi.putMessage(a)}},openPathGallery:function(e){var t={};var a=this;var i,o;a.oCoreApi.readPaths(async function(s,n,l){if(l===undefined&&typeof s==="object"){var r=s.paths;for(i=0;i<r.length;i++){var g=r[i].StructuredAnalysisPath.steps.length;var p=r[i].LastChangeUTCDateTime;var h=/\d+/g;var u=parseInt(p.match(h)[0],10);var c=new Date(u).toString().split(" ");var d=c[1]+"-"+c[2]+"-"+c[3];r[i].title=r[i].AnalysisPathName;r[i].guid=r[i].AnalysisPath;r[i].StructuredAnalysisPath.noOfSteps=g;r[i].description=d+"  -   ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[g])+")";r[i].summary=r[i].AnalysisPathName+"- ("+d+") - ("+a.oCoreApi.getTextNotHtmlEncoded("no-of-steps",[g])+")"}t={GalleryElements:r};if(e){await a.openSavedPathGallery(t,a,"deleteAnalysisPath")}else{await a.openSavedPathGallery(t,a,"pathGallery")}a.oUiApi.getLayoutView().setBusy(false)}else{o=a.oCoreApi.createMessageObject({code:"6005",aParameters:[]});o.setPrevious(l);a.oCoreApi.putMessage(o);a.oUiApi.getLayoutView().setBusy(false)}})},openSavedPathGallery:async function(e,t,a){if(t.oPathGalleryDialog[a]===undefined||(await t.oPathGalleryDialog[a]).bIsDestroyed){t.oPathGalleryDialog[a]=h.create({viewName:`module:sap/apf/ui/reuse/view/${a}.view`,viewData:{oInject:t.oViewData}})}const i=await t.oPathGalleryDialog[a];i.getViewData().jsonData=e;var o=i.getController().oDialog;if(!o||o&&!o.isOpen()){i.getController().openPathGallery()}},doPrint:function(){var t=new e(this.oViewData);t.doPrint()},getSaveDialog:function(e,t,s){var n=this;var l=this.oCoreApi.getTextNotHtmlEncoded("saveName");var g=this.oUiApi.getLayoutView().getController().oSavedPathName.getText();var p=new u;p.setData(s);if(g){if(this.oCoreApi.isDirty()){g=g.split("*")[1]}}this.oInput=new o({type:d.Text,placeholder:l,showSuggestion:true,maxLength:100,suggestionItems:{path:"/",template:new r({text:"{AnalysisPathName}",additionalText:"{AnalysisPath}"})}}).addStyleClass("textStyle");this.oInput.setModel(p);if(!e){this.oInput.destroySuggestionItems()}this.oInput.attachEvent("click",function(e){jQuery(e.currentTarget).attr("value","")});function h(e,t,a,i){n.oInput.setValueState(e);n.oInput.setShowValueStateMessage(t);n.saveDialog.getBeginButton().setEnabled(a);if(a===true){n.saveDialog.getBeginButton().setType("Emphasized")}if(i){n.oInput.setValueStateText(i)}}this.oInput.attachLiveChange(function(e){var t=this.getValue();var a=new RegExp("[*]","g");if(t.trim()===""){h(f.Error,true,false)}else{h(f.None,false,true)}if(t.match(a)!==null){var i=n.oCoreApi.getTextNotHtmlEncoded("invalidPathName");h(f.Error,true,false,i)}n.oInput.setValue(t)});if(g!==n.oCoreApi.getTextNotHtmlEncoded("unsaved")){this.oInput.setValue(g)}this.analysisPathName=n.oInput.getValue().trim();if(n.saveDialog===undefined||n.saveDialog&&n.saveDialog.bIsDestroyed){n.saveDialog=new i({type:c.Message,title:n.oCoreApi.getTextNotHtmlEncoded("save-analysis-path"),content:n.oInput,contentWidth:"110px",contentHeight:"110px",beginButton:new a({text:n.oCoreApi.getTextNotHtmlEncoded("ok"),enabled:false,press:function(){n.saveDialog.getBeginButton().setEnabled(false);n.saveDialog.getEndButton().setEnabled(false);var a=n.oInput.getValue().trim();n.saveAnalysisPath(a,t,e);n.saveDialog.close()}}),endButton:new a({text:n.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){n.saveDialog.close()}}),afterClose:function(){n.oUiApi.getLayoutView().setBusy(false);n.saveDialog.destroy()}}).addStyleClass("saveDialog");this.addCompactStyleClassForDialog(n.saveDialog);if(this.oInput.getValue()===g){n.saveDialog.getBeginButton().setEnabled(true)}}if(n.oCoreApi.getSteps().length>=1){if(!e&&g===n.oCoreApi.getTextNotHtmlEncoded("unsaved")){if(!n.saveDialog||n.saveDialog&&!n.saveDialog.isOpen()){n.saveDialog.open()}}else if(e){if(!n.saveDialog||n.saveDialog&&!n.saveDialog.isOpen()){n.saveDialog.open()}}else{n.saveAnalysisPath(g,t,e)}}},doOkOnNewAnalysisPath:function(){var e=this;this.isOpen=false;e.oCoreApi.readPaths(function(t,a,i){var o=true;var s=t.paths;if(a!==undefined){e.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;e.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof t==="object"){e.getSaveDialog(o,function(){e.resetAnalysisPath()},s)}else{var n=e.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);e.oCoreApi.putMessage(n)}})},doOkOnOpenAnalysisPath:function(e){var t=this;this.isOpen=true;this.bIsPathGalleryWithDelete=e;t.oCoreApi.readPaths(function(e,a,i){var o=true;var s=e.paths;if(a!==undefined){t.getView().maxNumberOfSteps=a.getEntityTypeMetadata().maximumNumberOfSteps;t.getView().maxNumberOfPaths=a.getEntityTypeMetadata().maxOccurs}if(i===undefined&&typeof e==="object"){t.getSaveDialog(o,function(){return},s)}else{var n=t.oCoreApi.createMessageObject({code:"6005",aParameters:[]});n.setPrevious(i);t.oCoreApi.putMessage(n)}})},getNewAnalysisPathDialog:function(){var e=this;if(this.oCoreApi.isDirty()&&e.oCoreApi.getSteps().length!==0){e.newDialog=new i({type:c.Message,title:e.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new n({text:e.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new a({text:e.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){e.doOkOnNewAnalysisPath();e.newDialog.close()}}),endButton:new a({text:e.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){e.resetAnalysisPath();e.newDialog.close()}}),afterClose:function(){e.oUiApi.getLayoutView().setBusy(false);e.newDialog.destroy()}});this.addCompactStyleClassForDialog(e.newDialog);e.newDialog.setInitialFocus(e.newDialog);e.newDialog.open()}else{this.resetAnalysisPath()}},getOpenDialog:function(e){var t=this;t.newOpenDialog=new i({type:c.Message,title:t.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new n({text:t.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),beginButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.doOkOnOpenAnalysisPath(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),endButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){t.resetAnalysisPath();t.openPathGallery(t.bIsPathGalleryWithDelete);t.newOpenDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.newOpenDialog.destroy()}});this.addCompactStyleClassForDialog(t.newOpenDialog);t.newOpenDialog.setInitialFocus(t.newOpenDialog);t.newOpenDialog.open()},getConfirmDialog:function(e){var t=this;var o=e||{};var s={success:o.success||function(){return},fail:o.fail||function(){return},msg:o.msg||""};t.confirmDialog=new i({title:t.oCoreApi.getTextNotHtmlEncoded("caution"),type:c.Message,content:new n({text:s.msg}).addStyleClass("textStyle"),beginButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("yes"),type:"Emphasized",press:function(){t.overWriteAnalysisPath();t.confirmDialog.close()}}),endButton:new a({text:t.oCoreApi.getTextNotHtmlEncoded("no"),press:function(){var e=true;var a=t.oInput.getModel().getData();t.getSaveDialog(e,function(){return},a);t.confirmDialog.close()}}),afterClose:function(){t.oUiApi.getLayoutView().setBusy(false);t.confirmDialog.destroy()}});this.addCompactStyleClassForDialog(t.confirmDialog);t.confirmDialog.open()},callbackforSave:function(e){e()},onOpenPathGallery:function(e){if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){this.getOpenDialog(e)}else{this.openPathGallery(e)}this.isOpen=false},saveAnalysisPath:function(e,t,a){var i=this;this.saveCallback=t;this.analysisPathName=e;this.aData=i.oInput.getModel().getData();var o=false;this.guid="";for(var s=0;s<this.aData.length;s++){var n=this.aData[s].AnalysisPathName;if(this.analysisPathName===n){o=true;this.guid=this.aData[s].AnalysisPath;break}}var l=o?this.aData.length:this.aData.length+1;var r=i.oCoreApi.getSteps().length;if(l>this.getView().maxNumberOfPaths){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6014"}));return false}else if(r>this.getView().maxNumberOfSteps){i.oCoreApi.putMessage(i.oCoreApi.createMessageObject({code:"6015"}));return false}if(!o){i.oSerializationMediator.savePath(i.analysisPathName,function(e,t,a){if(a===undefined&&typeof e==="object"){i.oCoreApi.setDirtyState(false);i.oUiApi.getLayoutView().getController().setPathTitle();i.getSuccessToast(i.analysisPathName,false);if(typeof i.saveCallback==="function"){i.saveCallback()}}else{var o=i.oCoreApi.createMessageObject({code:"6006",aParameters:[i.analysisPathName]});o.setPrevious(a);i.oCoreApi.putMessage(o)}})}else{var g;if(this.oCoreApi.isDirty()&&this.oCoreApi.getSteps().length!==0){g=i.oUiApi.getLayoutView().getController().oSavedPathName.getText().slice(1,i.oUiApi.getLayoutView().getController().oSavedPathName.getText().length)}else{g=i.oUiApi.getLayoutView().getController().oSavedPathName.getText()}if(!a&&g===i.analysisPathName){i.overWriteAnalysisPath()}else{this.getConfirmDialog({msg:i.oCoreApi.getTextNotHtmlEncoded("path-exists",["'"+i.analysisPathName+"'"])})}}},getSuccessToast:function(e,t){var a=this;var i=a.oCoreApi.createMessageObject({code:t?"6017":"6016",aParameters:[e]});a.oCoreApi.putMessage(i);if(a.isOpen&&a.bIsPathGalleryWithDelete){a.openPathGallery(a.bIsPathGalleryWithDelete)}else if(a.isOpen){a.openPathGallery()}},overWriteAnalysisPath:function(){var e=this;var t=this.analysisPathName;var a=this.guid;e.oSerializationMediator.savePath(a,t,function(a,i,o){if(o===undefined&&typeof a==="object"){e.oCoreApi.setDirtyState(false);e.oUiApi.getLayoutView().getController().setPathTitle();if(e.saveDialog&&e.saveDialog.isOpen()){e.saveDialog.close()}e.getSuccessToast(t,true);if(typeof e.saveCallback==="function"){e.saveCallback()}}else{var s=e.oCoreApi.createMessageObject({code:"6007",aParameters:[t]});s.setPrevious(o);e.oCoreApi.putMessage(s)}})},apfDestroy:function(){t.checkAndCloseDialog(this.saveDialog);t.checkAndCloseDialog(this.newOpenDialog);t.checkAndCloseDialog(this.newDialog);t.checkAndCloseDialog(this.confirmDialog);t.checkAndCloseDialog(this.errorMsgDialog);t.checkAndCloseDialog(this.noPathAddedDialog);if(this.deleteAnalysisPath!==undefined){t.checkAndCloseDialog(this.deleteAnalysisPath.getController().oDialog)}if(this.pathGallery!==undefined){t.checkAndCloseDialog(this.pathGallery.getController().oDialog)}}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/controller/viewSetting.controller", ["sap/ui/core/mvc/Controller"],function(e){"use strict";function t(e,t){var r={},n;if(e.orderby&&e.orderby.length&&e.orderby[0].ascending!==undefined){n=e.orderby[0].ascending}if(e.orderby&&e.orderby.length>1){r=undefined}else if(e.orderby&&e.orderby.length==1){r=e.orderby[0].property}else{r=undefined;n=true}t.setSortDescending(!n);t.setSelectedSortItem(r)}function r(e,t){var r;if(e.getParameters().sortItem&&e.getParameters().sortItem.getKey()){r=e.getParameters().sortItem.getKey()}else{return false}var n={property:r,ascending:!e.getParameters().sortDescending};var i={property:t._oPreviousState.sortItem?t._oPreviousState.sortItem.getKey():undefined,ascending:!t._oPreviousState.sortDescending};if(i.property===n.property&&i.ascending===n.ascending){return false}return true}return e.extend("sap.apf.ui.reuse.controller.viewSetting",{onInit:function(){var e=this;this.oViewSettingDialog=e.getView().getContent()[0];this.oSelectedRepresentation=e.getView().getViewData().oTableInstance;t(this.oSelectedRepresentation,this.oViewSettingDialog)},handleConfirmForSort:function(e){if(!r(e,this.oViewSettingDialog)){return}if(this.oSelectedRepresentation){this.oSelectedRepresentation.resetPaginationForTable()}this.oSelectedRepresentation.oApi.selectionChanged(true)},handleCancel:function(e){this.oViewSettingDialog.destroy();this.oSelectedRepresentation.oViewSettingDialog=undefined}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/addStepCheckDialog.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Link","sap/m/Text","sap/m/VBox","sap/base/security/encodeXML","sap/ui/core/HTML","sap/ui/core/library","sap/ui/thirdparty/jquery"],function(e,t,n,o,i,s,a,r,d,jQuery){"use strict";var c=n.DialogType,p=n.FlexAlignItems,l=d.ValueState;return{createContent:function(n){var d=n.oController;var g=new t(d.createId("idAddStepCheckDialog"),{title:d.oCoreApi.getTextNotHtmlEncoded("warning"),type:c.Message,state:l.Warning,content:[new i({text:d.oCoreApi.getTextNotHtmlEncoded("addStepCheck")}),new s({alignItems:p.End,items:[new o(d.createId("idShowDetailsLinkForAddStep"),{text:d.oCoreApi.getTextNotHtmlEncoded("showDetails"),press:function(){var o=new t(d.createId("idShowDetailsDialogForAddStep"),{contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",title:d.oCoreApi.getTextNotHtmlEncoded("warning"),type:c.Message,state:l.Warning,content:new r({content:["<div><p> "+a(n.sMessageText)+"</p></div>"].join(""),sanitizeContent:true}),beginButton:new e({text:d.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){o.close()}}),afterClose:function(){o.destroy()}});o.setInitialFocus(o);o.open()}})]})],beginButton:new e({text:d.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){g.close()}}),afterClose:function(){g.destroy()}});return g}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/newMessageDialog.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Text"],function(t,e,o,n){"use strict";var a=o.DialogType;return{createContent:function(o){var r=new t(o.createId("idYesButton"),{text:o.oCoreApi.getTextNotHtmlEncoded("yes")});var d=new t(o.createId("idNoButton"),{text:o.oCoreApi.getTextNotHtmlEncoded("no")});var i=new e(o.createId("idNewDialog"),{type:a.Standard,title:o.oCoreApi.getTextNotHtmlEncoded("newPath"),content:new n({text:o.oCoreApi.getTextNotHtmlEncoded("analysis-path-not-saved")}).addStyleClass("textStyle"),buttons:[r,d],afterClose:function(){i.destroy()}});return i}}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/pathGallery.fragment", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/NavContainer","sap/m/Page","sap/m/SearchField","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery"],function(t,e,a,i,n,o,r,l,s,h,jQuery){"use strict";return{createContent:function(c){var p=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;var g=function(t){var e=[];var a=t.getSource().getValue();var i=p.pathGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(a&&a.length>0){var n=new s("title",h.Contains,a);e.push(n)}var o=i.getBinding("items");o.filter(e)};var u=(new i).bindItems({path:"StructuredAnalysisPath/steps",template:new l({title:"{title}",tooltip:"{title}",type:"Active",icon:"{imgSrc}",press:function(t){p.oUiApi.getLayoutView().setBusy(true);var e=t.getSource().getBindingContext().sPath.split("/");var a=this.getModel().getData().GalleryElements[e[2]].AnalysisPathName;var i=this.getModel().getData().GalleryElements[e[2]].AnalysisPath;var n=e[5];c.openPath(a,i,n);p.oUiApi.getLayoutView().setBusy(false)}})});var d=new o({subHeader:new t({contentLeft:[new r({liveChange:g})]}),content:u,showNavButton:true,navButtonPress:function(){p.oPathGalleryNavContainer.back()}});var v=(new i).bindItems({path:"/GalleryElements",template:new l({title:"{title}",tooltip:"{title}",description:"{description}",type:"Navigation",press:function(t){var e=t.getSource().getBindingContext();d.setBindingContext(e);d.setTitle(t.getSource().getTitle());p.oPathGalleryNavContainer.to(p.oPathGalleryNavContainer.getPages()[1])}})});var y=new o({title:p.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),subHeader:new t({contentLeft:[new r({liveChange:g})]}),content:v});this.oPathGalleryNavContainer=new n({pages:[y,d]});this.oPathGalleryNavContainer.setModel(c.getView().getModel());p.pathGalleryHierarchicalDialog=new a({contentWidth:p.contentWidth,contentHeight:p.contentHeight,showHeader:false,content:[this.oPathGalleryNavContainer],endButton:new e({text:p.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){p.pathGalleryHierarchicalDialog.close()}}),afterClose:function(){p.pathGalleryHierarchicalDialog.destroy()}});return this.pathGalleryHierarchicalDialog}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/selectionDisplay.fragment", ["sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery"],function(e,t,i,a,r,jQuery){"use strict";return{createContent:function(n){var o=n.getCurrentRepresentation();var s=o.getParameter().requiredFilterOptions;var d=o.getSortedSelections();var l=o.getMetaData().getPropertyMetadata(o.getParameter().requiredFilters[0]);var c=l.label||l.name;if(s&&s.fieldDesc){c=n.oCoreApi.getTextNotHtmlEncoded(s.fieldDesc)}var p=new t({id:this.createId("idSelectionDisplayDialog"),title:n.oCoreApi.getTextNotHtmlEncoded("selected-required-filter",[c])+" ("+d.length+")",contentWidth:jQuery(window).height()*.6+"px",contentHeight:jQuery(window).height()*.6+"px",buttons:[new e({text:n.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){p.close();p.destroy()}})],afterClose:function(){p.destroy()}});var u={selectionData:d};var g=new i({items:{path:"/selectionData",template:new a({title:"{text}"})}});var m=new r;m.setSizeLimit(d.length);m.setData(u);g.setModel(m);p.addContent(g);return p}}});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/fragment/stepGallery.fragment", ["sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/List","sap/m/NavContainer","sap/m/Page","sap/m/SearchField","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/thirdparty/jquery"],function(e,t,n,a,i,r,o,l,s,p,jQuery){"use strict";return{createContent:function(c){var g=this;this.contentWidth=jQuery(window).height()*.6+"px";this.contentHeight=jQuery(window).height()*.6+"px";this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;var d=function(e){var t=[];var n=e.getSource().getValue();var a=g.oStepGalleryHierarchicalDialog.getContent()[0].getCurrentPage().getContent()[0];if(n&&n.length>0){var i=new s("title",p.Contains,n);t.push(i)}var r=a.getBinding("items");r.filter(t)};var u=function(e){g.oUiApi.getLayoutView().setBusy(true);var t=e.getSource().getBindingContext().sPath.split("/");var n=t[2];var a=t[4];var i=t[6];var r=c.getStepDetails(n,a);c.onStepPress(r.id,r.representationtypes[i].representationId)};var h=(new a).bindItems({path:"representationtypes",template:new l({title:"{title}",icon:"{picture}",tooltip:"{title}",type:"Active",wrapping:true,press:u,description:{path:"sortDescription",formatter:function(e){var t=[];if(e===undefined||e===null){return null}t=e.length?e.join(", "):e;return g.oCoreApi.getTextNotHtmlEncoded("sortBy")+": "+t}}})});var v=new r({id:this.createId("idStepGalleryRepresentationPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:h,showNavButton:true,navButtonPress:function(){g.oStepGalleryNavContainer.back()}});var y=(new a).bindItems({path:"stepTemplates",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();v.setBindingContext(t);v.setTitle(e.getSource().getTitle());g.oStepGalleryNavContainer.to(g.oStepGalleryNavContainer.getPages()[2])}})});var C=new r({id:this.createId("idStepGalleryStepPage"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:y,showNavButton:true,navButtonPress:function(){g.oStepGalleryNavContainer.back()}});var S=(new a).bindItems({path:"/GalleryElements",template:new l({title:"{title}",tooltip:"{title}",type:"Navigation",press:function(e){var t=e.getSource().getBindingContext();C.setBindingContext(t);C.setTitle(e.getSource().getTitle());g.oStepGalleryNavContainer.to(g.oStepGalleryNavContainer.getPages()[1])}})});var w=new r({id:this.createId("idStepGalleryCategoryPage"),title:g.oCoreApi.getTextNotHtmlEncoded("category"),tooltip:g.oCoreApi.getTextNotHtmlEncoded("category"),subHeader:new e({contentLeft:[new o({liveChange:d})]}).addStyleClass("searchMargin"),content:S});this.oStepGalleryNavContainer=new i({pages:[w,C,v]});this.oStepGalleryNavContainer.setModel(c.getView().getModel());this.oStepGalleryHierarchicalDialog=new n({contentWidth:g.contentWidth,contentHeight:g.contentHeight,showHeader:false,content:[this.oStepGalleryNavContainer],endButton:new t({text:g.oCoreApi.getTextNotHtmlEncoded("cancel"),press:function(){g.oStepGalleryHierarchicalDialog.close();g.oStepGalleryHierarchicalDialog.destroy()}}),afterClose:function(){g.oStepGalleryHierarchicalDialog.destroy()}});return this.oStepGalleryHierarchicalDialog}}});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/analysisPath.view", ["sap/m/library","sap/m/Popover","sap/ui/core/mvc/View","sap/ui/layout/VerticalLayout"],function(t,e,i,a){"use strict";var o=t.PlacementType;return i.extend("sap.apf.ui.reuse.view.analysisPath",{getCarouselView:function(){return this.oCarousel},getToolbar:function(){return this.oActionListItem},getPathGallery:function(){return this.pathGallery},getPathGalleryWithDeleteMode:function(){return this.deleteAnalysisPath},getControllerName:function(){return"sap.apf.ui.reuse.controller.analysisPath"},createContent:function(t){var i=this;this.oController=t;this.oActionListPopover=new e({id:this.createId("idAnalysisPathMenuPopOver"),showHeader:false,placement:o.Bottom,contentWidth:"165px"});var s=this.getViewData();i.oCoreApi=s.oCoreApi;i.oUiApi=s.uiApi;this.oActionListItem=i.oUiApi.getToolbar().addStyleClass("toolbarView");this.oCarousel=i.oUiApi.createCarouselSingleton();this.oCarousel.getViewData().analysisPath=i;this.pathGallery=i.oUiApi.getPathGallery();this.deleteAnalysisPath=i.oUiApi.getDeleteAnalysisPath();this.oAnalysisPath=new a({content:[i.oContentTitle,i.oCarousel],width:"100%"});return this.oAnalysisPath}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/carousel.view", ["sap/apf/ui/utils/constants","sap/m/CustomListItem","sap/m/library","sap/m/List","sap/m/Button","sap/ui/core/mvc/View"],function(t,e,o,s,n,i){"use strict";var r=o.ListType;return i.extend("sap.apf.ui.reuse.view.carousel",{onListItemPressed:function(t){this.getController().listItemPressed(t)},createCustomListItem:function(t){var o=new e({content:t,type:r.Active,press:this.onListItemPressed.bind(this)});return o},addCustomListItem:function(t){this.oCustomItemList.addItem(t)},onDeleteCustomListItem:function(t){this.getController().deleteCustomListItem(t.getParameters().listItem.sId)},getCustomItemList:function(){return this.oCustomItemList.getItems()},removeCustomItem:function(t){return this.oCustomItemList.removeItem(t)},insertCustomItem:function(t,e){return this.oCustomItemList.insertItem(t,e)},getStepGallery:function(){return this.stepGalleryView},oldCarouselContent:function(t){},getAddStepButton:function(){return this.addStepButton},createCarouselContent:function(t){var e=this;this.addStepButton=new n({id:t.createId("idAddAnalysisStepButtonInFooter"),tooltip:e.oCoreApi.getTextNotHtmlEncoded("add-step"),icon:"sap-icon://add",press:function(e){t.showStepGallery()}});this.moveUpButton=new n({id:t.createId("idMoveStepUpButtonInFooter"),icon:"sap-icon://arrow-top",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepUp"),enabled:false,press:function(e){t.handleMove({down:false})}});this.moveDownButton=new n({id:t.createId("idMoveStepDownButtonInFooter"),icon:"sap-icon://arrow-bottom",tooltip:e.oCoreApi.getTextNotHtmlEncoded("moveStepDown"),enabled:false,press:function(e){t.handleMove({down:true})}});this.oCustomItemList=new s({id:"stepList",mode:"Delete",delete:function(t){e.onDeleteCustomListItem(t)}}).addStyleClass("sapMCarousel");this.oCarousel=this.oCustomItemList;this.stepGalleryView=e.oUiApi.getStepGallery();return this.oCarousel},getControllerName:function(){return"sap.apf.ui.reuse.controller.carousel"},createContent:function(t){var e=this.getViewData().oInject;this.oController=t;this.oCoreApi=e.oCoreApi;this.oUiApi=e.uiApi;return this.createCarouselContent(t)}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/deleteAnalysisPath.view", ["sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/Device","sap/ui/core/mvc/View","sap/ui/thirdparty/jquery"],function(e,t,i,a,s,o,n,jQuery){"use strict";var r=i.ListMode;return n.extend("sap.apf.ui.reuse.view.deleteAnalysisPath",{getControllerName:function(){return"sap.apf.ui.reuse.controller.deleteAnalysisPath"},createContent:function(i){var n=jQuery(window).height()*.6+"px";var l=jQuery(window).height()*.6+"px";this.oCoreApi=this.getViewData().oInject.oCoreApi;this.oUiApi=this.getViewData().oInject.uiApi;var p=this;var d=new a({mode:r.Delete,items:{path:"/GalleryElements",template:new s({title:"{AnalysisPathName}",description:"{description}",tooltip:"{AnalysisPathName}"})},delete:i.handleDeleteOfDialog.bind(i)});var c=new t({title:p.oCoreApi.getTextNotHtmlEncoded("delPath"),contentWidth:n,contentHeight:l,content:d,beginButton:new e({text:p.oCoreApi.getTextNotHtmlEncoded("close"),press:function(){c.close();p.oUiApi.getLayoutView().setBusy(false)}}),afterClose:function(){p.destroy()}});if(o.system.desktop){this.addStyleClass("sapUiSizeCompact");c.addStyleClass("sapUiSizeCompact")}return c}})});
/*!
* SAP APF Analysis Path Framework
* 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/reuse/view/facetFilter.view", ["sap/m/FacetFilter","sap/ui/Device","sap/ui/core/mvc/View"],function(e,t,r){"use strict";return r.extend("sap.apf.ui.reuse.view.facetFilter",{getControllerName:function(){return"sap.apf.ui.reuse.controller.facetFilter"},createContent:function(r){var i=new e(r.createId("idAPFFacetFilter"),{type:"Simple",showReset:true,showPopoverOKButton:true,reset:r.onResetPress.bind(r)}).addStyleClass("facetFilterInitialAlign");if(t.system.desktop){i.addStyleClass("facetfilter")}return i}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/messageHandler.view", ["sap/ui/core/mvc/View"],function(e){"use strict";return e.extend("sap.apf.ui.reuse.view.messageHandler",{getControllerName:function(){return"sap.apf.ui.reuse.controller.messageHandler"},createContent:function(){}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/navigationTarget.view", ["sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/core/HTML","sap/ui/core/mvc/View","sap/ui/model/json/JSONModel"],function(t,e,i,a,o,n){"use strict";var r=t.ListType;return o.extend("sap.apf.ui.reuse.view.navigationTarget",{getControllerName:function(){return"sap.apf.ui.reuse.controller.navigationTarget"},createContent:function(t){var e=this.getViewData();this.oNavListPopover=e.oNavListPopover;this.oOpenInButtonEventSource=e.oOpenInButtonEventSource;this.oNavigationHandler=e.oNavigationHandler;this.oUiApi=e.oUiApi;this.oController=t;this.oUiApi.getLayoutView().byId("applicationPage").setBusy(true);var i=this.oNavigationHandler.getNavigationTargets();i.then(this._prepareActionListModel.bind(this),function(){this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false)})},_prepareActionListModel:function(t){var o=this;var s=[];var p=[];t.global.forEach(function(t){if(t.title){t.text=o.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}s.push(t)});t.stepSpecific.forEach(function(t){if(t.title){t.text=o.getViewData().oCoreApi.getTextNotHtmlEncoded(t.title)}p.push(t)});this.oNavListPopover.removeAllContent();var v,l;var g=this;if(p.length!==0){var u=new n;var c={navTargets:p};l=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:r.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});u.setData(c);l.setModel(u);var d=new a({content:'<hr class="lineSeparator">',sanitizeContent:true});this.oNavListPopover.addContent(l);this.oNavListPopover.addContent(d)}if(s.length!==0){var h=new n;var f={navTargets:s};v=new e({items:{path:"/navTargets",template:new i({title:"{text}",type:r.Navigation,press:function(t){var e=t.getSource().getBindingContext().getObject().id;g.oController.handleNavigation(e)}})}});h.setData(f);v.setModel(h);this.oNavListPopover.addContent(v)}this.oUiApi.getLayoutView().byId("applicationPage").setBusy(false);this.oNavListPopover.openBy(this.oOpenInButtonEventSource)}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/pathGallery.view", ["sap/ui/core/mvc/View"],function(e){"use strict";return e.extend("sap.apf.ui.reuse.view.pathGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.pathGallery"},createContent:function(e){this.viewData=this.getViewData()}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/smartFilterBar.view", ["sap/ui/comp/smartfilterbar/SmartFilterBar","sap/ui/core/mvc/View"],function(e,t){"use strict";return t.extend("sap.apf.ui.reuse.view.smartFilterBar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.smartFilterBar"},createContent:function(t){var r=this,a,i,n,o;a=r.getViewData().oSmartFilterBarConfiguration.entitySet;i=r.getViewData().oSmartFilterBarConfiguration.id;n=r.getViewData().oCoreApi.getSmartFilterBarPersistenceKey(i);o=new e(t.createId("idAPFSmartFilterBar"),{entitySet:a,controlConfiguration:r.getViewData().controlConfiguration,initialized:t.afterInitialization.bind(t),search:t.handlePressOfGoButton.bind(t),persistencyKey:n,considerAnalyticalParameters:true,customData:{key:"dateFormatSettings",value:{UTC:true}},useDateRangeType:true,liveMode:true,filterChange:t.validateFilters.bind(t)});r.setParent(r.getViewData().parent);return o}})});
/*!
 * SAP APF Analysis Path Framework 
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/stepContainer.view", ["sap/suite/ui/commons/ChartContainer","sap/suite/ui/commons/ChartContainerToolbarPlaceholder","sap/m/OverflowToolbar","sap/ui/Device","sap/ui/core/mvc/View","sap/ui/layout/VerticalLayout"],function(e,t,a,r,o,i){"use strict";return o.extend("sap.apf.ui.reuse.view.stepContainer",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepContainer"},createContent:function(o){if(r.system.desktop){o.getView().addStyleClass("sapUiSizeCompact")}var n=new e({id:o.createId("idChartContainer"),showFullScreen:true}).addStyleClass("chartContainer ChartArea");var s=new a({id:o.createId("idChartContainerToolbar")});s.addContent(new t);n.setToolbar(s);this.stepLayout=new i({id:o.createId("idStepLayout"),content:[n],width:"100%"});this.stepLayout.setBusy(true);return this.stepLayout}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/stepGallery.view", ["sap/ui/core/mvc/View"],function(e){"use strict";return e.extend("sap.apf.ui.reuse.view.stepGallery",{getControllerName:function(){return"sap.apf.ui.reuse.controller.stepGallery"},createContent:function(e){this.oController=e}})});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/toolbar.view", ["sap/m/library","sap/m/List","sap/m/StandardListItem","sap/ui/core/mvc/View"],function(e,t,i,s){"use strict";const a=e.ListType;return s.extend("sap.apf.ui.reuse.view.toolbar",{getControllerName:function(){return"sap.apf.ui.reuse.controller.toolbar"},createContent:function(e){this.maxNumberOfSteps=32;this.maxNumberOfPaths=255;var s=this;var n=this.getViewData();s.oCoreApi=n.oCoreApi;s.oUiApi=n.uiApi;var o=new i({id:this.createId("idAnalysisPathMenuNewAnalysisPath"),icon:"sap-icon://add-product",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("new"),press:function(){s.getParent().close();s.oUiApi.getLayoutView().setBusy(true);e.getNewAnalysisPathDialog();s.oUiApi.getLayoutView().setBusy(false)}});var r=new i({id:this.createId("idAnalysisPathMenuOpenAnalysisPath"),icon:"sap-icon://open-folder",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("open"),press:function(){e.bIsPathGalleryWithDelete=false;s.oUiApi.getLayoutView().setBusy(true);s.getParent().close();e.onOpenPathGallery(e.bIsPathGalleryWithDelete)}});var l=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPath"),icon:"sap-icon://save",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("save"),press:function(){s.getParent().close();e.onSaveAndSaveAsPress(false)}});var c=new i({id:this.createId("idAnalysisPathMenuSaveAnalysisPathAs"),icon:"sap-icon://save",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("savePathAs"),press:function(){s.getParent().close();e.onSaveAndSaveAsPress(true)}});var p=new i({id:this.createId("idAnalysisPathMenuDeleteAnalysisPath"),icon:"sap-icon://delete",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("delete"),press:function(){e.bIsPathGalleryWithDelete=true;s.getParent().close();s.oUiApi.getLayoutView().setBusy(true);e.openPathGallery(e.bIsPathGalleryWithDelete)}});var d=new i({id:this.createId("idAnalysisPathMenuPrintAnalysisPath"),icon:"sap-icon://print",type:a.Active,title:s.oCoreApi.getTextNotHtmlEncoded("print"),press:function(){s.getParent().close();e.doPrint()}});this.oActionListItem=new t({items:[o,r,l,c,p,d]});return this.oActionListItem}})});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/reuse/view/viewSetting.view", ["sap/m/ViewSettingsDialog","sap/m/ViewSettingsItem","sap/ui/core/mvc/View"],function(e,t,n){"use strict";return n.extend("sap.apf.ui.reuse.view.viewSetting",{getControllerName:function(){return"sap.apf.ui.reuse.controller.viewSetting"},createContent:function(n){var a=this.getViewData().oTableInstance;var i=a.tableControl;var r=[];i.getColumns().forEach(function(e){var n=new t({text:e.getCustomData()[0].getValue().text,key:e.getCustomData()[0].getValue().key});r.push(n)});var o=new e({sortItems:r,confirm:n.handleConfirmForSort.bind(n),cancel:n.handleCancel.bind(n)});return o}})});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/constants", ["sap/apf/utils/exportToGlobal"],function(T){var C={step:{OPEN_OVERLAY_IMAGE_HEIGHT:15,DROP_MARKER_HEIGHT:1},representationTypes:{FORM_REPRESENTATION:"FormRepresentation",TABLE_REPRESENTATION:"TableRepresentation",COLUMN_CHART:"ColumnChart",LINE_CHART:"LineChart",PIE_CHART:"PieChart",DONUT_CHART:"DonutChart",GEO_MAP:"GeoMap",STACKED_COLUMN_CHART:"StackedColumnChart",SCATTERPLOT_CHART:"ScatterPlotChart",PERCENTAGE_STACKED_COLUMN_CHART:"PercentageStackedColumnChart",BUBBLE_CHART:"BubbleChart",BAR_CHART:"BarChart",STACKED_BAR_CHART:"StackedBarChart",PERCENTAGE_STACKED_BAR_CHART:"PercentageStackedBarChart",HEATMAP_CHART:"HeatmapChart",LINE_CHART_WITH_TWO_VERTICAL_AXES:"LineChartWithTwoVerticalAxes",LINE_CHART_WITH_TIME_AXIS:"LineChartWithTimeAxis",TREE_TABLE_REPRESENTATION:"TreeTableRepresentation",COMBINATION_CHART:"CombinationChart",STACKED_COMBINATION_CHART:"StackedCombinationChart",DUAL_COMBINATION_CHART:"DualCombinationChart",DUAL_STACKED_COMBINATION_CHART:"DualStackedCombinationChart"},vizChartTypes:{COLUMN:"Column",LINE:"Line",PIE:"Pie",STACKED_COLUMN:"StackedColumn",PERCENTAGE_STACKED_COLUMN:"StackedColumn100",SCATTERPLOT:"Scatter",BUBBLE:"Bubble"},vizFrameChartTypes:{COLUMN:"column",LINE:"line",PIE:"pie",DONUT:"donut",STACKED_COLUMN:"stacked_column",PERCENTAGE_STACKED_COLUMN:"100_stacked_column",SCATTERPLOT:"scatter",BUBBLE:"bubble",BAR:"bar",STACKED_BAR:"stacked_bar",PERCENTAGE_STACKED_BAR:"100_stacked_bar",HEATMAP:"heatmap",LINE_CHART_WITH_TWO_VERTICAL_AXES:"dual_line",LINE_CHART_WITH_TIME_AXIS:"timeseries_line",COMBINATION:"combination",STACKED_COMBINATION:"stacked_combination",DUAL_COMBINATION:"dual_combination",DUAL_STACKED_COMBINATION:"dual_stacked_combination"},axisTypes:{AXIS:"axis",GROUP:"group"},thumbnailDimensions:{HEIGHT:"75px",WIDTH:"180px",STEP_WIDTH:"202px",STEP_HEIGHT:"170px",STEP_MARGIN:"20px",SEPARATOR_HEIGHT:"25px",REMOVE_ICON_HEIGHT:"20px",TOTAL_STEP_HEIGHT:215},printChartDimensions:{WIDTH:"0.89",POTRAITWIDTH:"793.700787402",LANDSCAPEWIDTH:"1122.519685039"},analysisPathArea:{HEADERHEIGHT:140},chartArea:{CHARTHEADERHEIGHT:120},carousel:{SCROLLCONTAINER:275,DNDBOX:280},landingPage:"landingPage"};T("sap.apf.ui.utils.CONSTANTS",C);return C},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/dateTimeFormatter", ["sap/ui/core/format/DateFormat"],function(t){"use strict";var e=function(){this.oDisplayFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("Date",a);t.set(undefined,n);return t}function a(e){var r=t.getDateInstance({style:"short"});var a=r.format(e,true);return a}function n(t){return t}e.prototype.getFormattedValue=function(t,e){var r=t["sap:display-format"]!==undefined?t["sap:display-format"]:undefined;var a=new Date(e);if(a.toLocaleString()==="Invalid Date"){return"-"}var n=this.oDisplayFormatterMap.get(r)!==undefined?this.oDisplayFormatterMap.get(r).call(this,a):a;return n};return e},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/decimalFormatter", ["sap/ui/core/format/NumberFormat"],function(t){"use strict";var e=function(){this.aSupportedSemantics=["currency-code",undefined];this.oSemanticsFormatterMap=r()};e.prototype.constructor=e;function r(){var t=new Map;t.set("currency-code",n);t.set(undefined,a);return t}function n(e,r){var n=t.getCurrencyInstance();return n.format(r)}function a(e,r,n){var a=t.getFloatInstance({style:"standard",minFractionDigits:n});return a.format(r)}e.prototype.getFormattedValue=function(t,e,r){var n;if(this.aSupportedSemantics.indexOf(t["semantics"])!==-1){n=t["semantics"]}return this.oSemanticsFormatterMap.get(n).call(self,t,e,r)};return e},true);
sap.ui.predefine("sap/apf/ui/utils/determineColumnSettingsForSpreadSheetExport", ["sap/ui/export/library","sap/ui/export/Spreadsheet"],function(e,t){"use strict";var a=e.EdmType;var i=function(e,t){var i={};var r,p;if(t){r=t.getPropertyMetadata(e);var s=r.dataType.type;if(s==="Edm.Int32"){i.type=a.Number;i.scale=0}else if(s==="Edm.Decimal"){i.type=a.Number;i.precision=parseInt(r.precision,10);i.scale=parseInt(r.scale,10);if(r["sap:unit"]){p=t.getPropertyMetadata(r["sap:unit"]);if(p&&p["sap:semantics"]&&p["sap:semantics"]==="currency-code"){i.type=a.Currency;i.unitProperty=p.name;i.displayUnit=true}}}else if(s==="Edm.DateTime"){if(r["sap:display-format"]&&r["sap:display-format"]==="Date"){i.type=a.Date}else{i.type=a.DateTime}}else if(s==="Edm.DateTimeOffset"){i.type=a.DateTime}else if(s==="Edm.String"){i.type=a.String;if(r.MaxLength){i.width=parseInt(r.MaxLength,10)}}else{i.type=a.String}}return i};return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListConverter", ["sap/apf/utils/exportToGlobal"],function(t){"use strict";function e(){"use strict";this.getFFListDataFromFilterValues=function(t,e,i){var a=[];t.forEach(function(t){var r={};r.key=t[e];r.text=t.formattedValue;r.selected=false;if(i){i.forEach(function(i){if(i instanceof Date&&t[e]instanceof Date){if(i.toISOString()===t[e].toISOString()){r.selected=true}}else if(i==t[e]){r.selected=true}})}a.push(r)});return a}}t("sap.apf.ui.utils.FacetFilterListConverter",e);return e});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterListHandler", ["sap/apf/ui/utils/facetFilterListConverter","sap/apf/ui/utils/facetFilterValueFormatter","sap/apf/utils/exportToGlobal","sap/m/FacetFilterList","sap/m/FacetFilterItem","sap/m/library","sap/ui/Device","sap/ui/model/BindingMode","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,r,l,n,o,jQuery){"use strict";const{ListMode:c}=r;function u(i,r,u){"use strict";var d=[];var f;var g=new e;function F(e){if(e===null||e.length===0){var t=i.createMessageObject({code:"6010",aParameters:[i.getTextNotHtmlEncoded(u.getLabel())]});i.putMessage(t);f.setActive(false)}}function p(e,s,a,n){var o=new t(r,i);var c=o.getFormattedFFData(e,s,a);var u=g.getFFListDataFromFilterValues(c,s,d);var F=f.getModel();F.setSizeLimit(500);F.setData(u);var p=F.getData();if(n){p.forEach(function(e){if(e.selected==false){if(!l.browser.msie){if(Object.values(f.getSelectedKeys()).indexOf(e.text)>-1){f.removeSelectedKey(e.key)}}else{if(Object.keys(f.getSelectedKeys()).indexOf(e.text)>-1){f.removeSelectedKey(e.key)}}}})}F.updateBindings()}this.createFacetFilterList=function(){var e=this;f=new s({title:i.getTextNotHtmlEncoded(u.getLabel()),mode:u.isMultiSelection()?c.MultiSelect:c.SingleSelectMaster,key:u.getPropertyName(),growing:true,growingThreshold:10,growingScrollToLoad:true,listClose:this.onListClose.bind(this),listOpen:this.onListOpen.bind(this)});f.bindItems("/",new a({key:"{key}",text:"{text}",selected:"{selected}"}));var t=new o([]);t.setDefaultBindingMode(n.OneWay);f.setModel(t);if(!u.hasValueHelpRequest()){this.getFacetFilterListData().done(F)}this.getSelectedFFValues().then(function(e){r(e)});return f;function r(t){t.oFilterRestrictionPropagationPromiseForSelectedValues.done(function(e,t){r({aSelectedFilterValues:e,oFilterRestrictionPropagationPromiseForSelectedValues:t})});if(t.aSelectedFilterValues.length>0||d.length>0){d=t.aSelectedFilterValues;e.getFacetFilterListData().done(function(e,t,i){p(e,t,i,true)})}}};this.getFacetFilterListData=function(){var e;var t=jQuery.Deferred();var i=u.getValues();i.then(function(i){e=u.getAliasNameIfExistsElsePropertyName()||u.getPropertyName();u.getMetadata().then(function(s){t.resolve(i,e,s)})});return t.promise()};this.getSelectedFFValues=function(){var e=jQuery.Deferred();var t=u.getSelectedValues();t.then(function(t,i){e.resolve({aSelectedFilterValues:t,oFilterRestrictionPropagationPromiseForSelectedValues:i})});return e.promise()};this.setSelectedFFValues=function(e){u.setSelectedValues(e)};this.onListClose=function(){var e=[],t,i,s,a;t=f.getSelectedItems();e=t.map(function(e){return e.getKey()});i=JSON.stringify(e.sort());s=JSON.stringify(d.sort());a=i!==s;if(a){d=e;this.setSelectedFFValues(e);r.selectionChanged(true)}};this.onListOpen=function(){f.setBusy(true);this.getFacetFilterListData().done(function(e,t,i){p(e,t,i,false);f.setBusy(false)})}}i("sap.apf.ui.utils.FacetFilterListHandler",u);return u});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/facetFilterValueFormatter", ["sap/apf/ui/utils/formatter","sap/apf/utils/exportToGlobal"],function(t,e){"use strict";function a(e,a){"use strict";this.getFormattedFFData=function(i,n,r){var u,o;var l=new t({getEventCallback:e.getEventCallback.bind(e),getTextNotHtmlEncoded:a.getTextNotHtmlEncoded,getExits:e.getCustomFormatExit()},r,i);var f=r.text;i.forEach(function(t){u=l.getFormattedValue(n,t[n]);o=u;if(f!==undefined&&t[f]!==undefined){o=u+" - "+t[f]}t.formattedValue=o});return i}}e("sap.apf.ui.utils.FacetFilterValueFormatter",a);return a});
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/formatter", ["sap/apf/ui/utils/stringToDateFormatter","sap/apf/ui/utils/dateTimeFormatter","sap/apf/ui/utils/timeFormatter","sap/apf/ui/utils/decimalFormatter","sap/base/util/deepExtend","sap/viz/ui5/api/env/Format","sap/viz/ui5/format/ChartFormatter"],function(t,e,a,r,n,i,o){"use strict";var u=function(t,e,a){this.metadata=e;this.dataResponse=a;this.oFormatterArgs=t;this.oDataTypeFormatterMap=s()};u.prototype.constructor=u;function s(){var t=new Map;t.set("Edm.String",d);t.set("Edm.DateTime",m);t.set("Edm.Time",p);t.set("Edm.Decimal",f);return t}function d(e,a){var r=new t;return r.getFormattedValue(e,a,this.oFormatterArgs)}function m(t,a){var r=new e;return r.getFormattedValue(t,a)}function p(t,e){var r=new a;return r.getFormattedValue(t,e)}function f(t,e){var a=new r;var n=t.unit!==undefined?l(this,t.unit):t;var i=0;if(t!==undefined&&this.dataResponse!==undefined&&this.dataResponse[0]!==undefined){i=isNaN(t.scale)?this.dataResponse[0][t.scale]:t.scale}return a.getFormattedValue(n,e,i)}function l(t,e){if(t.metadata&&t.metadata.getPropertyMetadata){return t.metadata.getPropertyMetadata(e)}return t.metadata}u.prototype.getFormattedValue=function(t,e){if(e===null){return"null"}var a;var r=l(this,t);var i=r.dataType!==undefined?r.dataType.type:undefined;if(i===undefined){i=r.type}if(this.oDataTypeFormatterMap.has(i)){a=this.oDataTypeFormatterMap.get(i).call(this,r,e)}else{a=e}var o=n({},r);a=F(o,t,e,a,this.oFormatterArgs);return a};u.prototype.getFormattedValueAsString=function(t,e){return this.getFormattedValue(t,e)+""};u.prototype.getFormatStringTooltip=function(t){return this.getFormatString(t)};u.prototype.getFormatString=function(t){var e=this;var a=o.getInstance();i.numericFormatter(a);var r=t.fieldName;a.registerCustomFormatter("measureFormatter",function(t){var a="-";if(t!==null){a=e.getFormattedValue(r,t)}return a});var n="measureFormatter";return n};u.prototype.getFormattedValueForTextProperty=function(t,e){var a;if(e.key){a=e.text+" ("+e.key+")"}else{a=e.text}var r=n({},l(this,t));a=F(r,t,e.text,a,this.oFormatterArgs);return a};function F(t,e,a,r,n){var i;var o=n.getExits!==undefined?n.getExits.customFormat:undefined;if(o===undefined){return r}i=n.getExits.customFormat.apply(n,[t,e,a,r]);r=i!==undefined?i:r;return r}return u},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/helper", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";var r=function(e){this.oCoreApi=e;this.getRepresentationSortInfo=function(e){var r=this;var t=jQuery.Deferred();var o=e.parameter.dimensions.concat(e.parameter.measures);var a=e.parameter.orderby;var i=a.map(function(e){var t;var a=jQuery.Deferred();o.forEach(function(o){if(e.property===o.fieldName&&o.fieldDesc&&r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc)){t=r.oCoreApi.getTextNotHtmlEncoded(o.fieldDesc);a.resolve(t)}});if(!t){r.oCoreApi.getMetadataFacade().getProperty(e.property).done(function(e){if(e.label||e.name){if(e.label){a.resolve(e.label)}else if(e.name){a.resolve(e.name)}else{a.resolve("")}}})}return a.promise()});t.resolve(i);return t.promise()}};e("sap.apf.ui.utils.Helper",r);return r},true);
/*
 * ! SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/print", ["sap/apf/ui/utils/constants","sap/apf/ui/utils/formatter","sap/apf/ui/utils/printView","sap/apf/ui/utils/printModel","sap/apf/utils/exportToGlobal","sap/base/util/isEmptyObject","sap/ui/Device","sap/ui/layout/VerticalLayout","sap/ui/thirdparty/jquery"],function(t,e,n,i,r,a,o,s,jQuery){"use strict";function l(e){"use strict";var r=e.oCoreApi;var l=e.uiApi;var u=null;var p=new i(e);var d=new n(e,p);this.oPrintLayout={};function f(t){if(!a(t.oPrintLayout)){t.oPrintLayout.removeContent()}jQuery("#apfPrintArea").remove();jQuery("body").append('<div id="apfPrintArea"></div>');l.createApplicationLayout(false).then(function(t){t.setBusy(true)})}this.doPrint=function(t){t=t||0;r.getApplicationConfigProperties().done(function(e){p.setApplicationConfig(e);var n,i,a;var o=2e3,l=this;p.nStepRenderCount=0;u=r.getSteps();p.nNoOfSteps=u.length;this.oPrintLayout=new s({id:"idAPFPrintLayout"});f(this);a=new s({id:"idAPFPrintFirstPageLayout",content:[d.getHeaderForFirstPage(),d.getPrintLayoutForFacetFiltersAndFooters()]}).addStyleClass("filterLayout");this.oPrintLayout.addContent(a);for(n=0;n<u.length;n++){i=parseInt(n,10)+1;this.oPrintLayout.addContent(d.getPrintLayoutForEachStep(u[n],i,u.length))}this.oPrintLayout.placeAt("apfPrintArea");c(l.oPrintLayout,o,t)}.bind(this))};function c(t,e,n){new Promise(function(t){setTimeout(function(){t()},e)}).then(function(){P(t);if(n==1){y(n)}else{y()}h(t);return l.createApplicationLayout(false)}).then(function(t){t.setBusy(false)})}function h(e){var n,i;var r,a;for(var o=0;o<jQuery("#apfPrintArea").siblings().length;o++){jQuery("#apfPrintArea").siblings()[o].hidden=false}for(var s=0;s<u.length;s++){n=u[s].getSelectedRepresentation();n=n.bIsAlternateView?n.toggleInstance:n;if(n&&n.titleControl&&n.titleControl.oParent){r=n.titleControl.oParent.getItems();if(r&&r.length>1){for(var l=0;l<r.length;l++){if(r[l].getMetadata()._sClassName==="sap.m.HBox"){a=r[l];a.setVisible(true)}}}}if(n.type!==t.representationTypes.TREE_TABLE_REPRESENTATION&&n.type!==t.representationTypes.TABLE_REPRESENTATION){i=e.getContent()[s+1].getContent()[1].getContent()[0];i.destroy();i=null}}e.destroy();e=null;jQuery("div[id^=idAPFStepLayout]").remove();jQuery("#apfPrintArea").remove()}function y(t){t=t||0;var e=o.system.tablet;var n=o.os.ios;if(e===true&&n===true){var i=jQuery("html").clone();var r=jQuery(i).find("body");jQuery(r).children("div").each(function(t,e){if(jQuery(e).attr("id")==="apfPrintArea"){jQuery(e).show()}else{jQuery(e).remove()}});jQuery(jQuery(i).find("body")).html(jQuery(r.html()));var a="<html>"+jQuery(i).html()+"</html>";var s=window.open("","_blank","width=300,height=300");s.opener=null;s.document.write(a);s.print()}else{if(t==0){var l=window.open("","_blank","height=600,width=700");var u=document.getElementById("apfPrintArea").innerHTML;l.opener=null;l.document.write("<html><head><title>Analysis Path Framework</title>");l.document.write("</head><body >");l.document.write(u);l.document.write("</body></html>");l.document.close();l.print();l.close()}else{window.print()}}}function P(t){var e=t.getDomRef();jQuery("#apfPrintArea").empty();jQuery("#apfPrintArea").append(jQuery(e).html());for(var n=0;n<jQuery("#apfPrintArea").siblings().length;n++){jQuery("#apfPrintArea").siblings()[n].hidden=true}}}r("sap.apf.ui.utils.Print",l);return l});
/* (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/printModel", ["sap/apf/core/constants","sap/apf/core/utils/filter","sap/apf/ui/utils/formatter","sap/apf/utils/exportToGlobal","sap/viz/ui5/types/legend/Common"],function(e,t,r,o,i){"use strict";function a(e){this.oUiApi=e.uiApi;this.oCoreApi=e.oCoreApi;this.oFilterIdHandler=e.oFilterIdHandler}a.prototype.constructor=a;function n(e,t,o,i,a,n){var l=new r({getEventCallback:e.oUiApi.getEventCallback.bind(e.oUiApi),getTextNotHtmlEncoded:e.oCoreApi.getTextNotHtmlEncoded,getExits:e.oUiApi.getCustomFormatExit()},t);var s=l.getFormattedValue(o,a);var p=l.getFormattedValue(o,n);var g=e.oCoreApi.getTextNotHtmlEncoded(i,[s,p]);return g}function l(e){var r=e.oUiApi.getSmartFilterForPrint();var o=[];if(r!==undefined&&r!==null){var i=r.getFilterData();var a=r.getAnalyticalParameters();if(a&&a.length>0){a.forEach(function(t){var r=i[t.fieldName];var a=t.fieldNameOData;e.oCoreApi.getMetadataFacade().getProperty(a).done(function(t){o.push({sFilterName:a,sFilterValue:n(e,t,a,"EQ",r)})})})}var l=r.getFilters();if(l.length>0){var s=t.transformUI5FilterToInternal(e.oCoreApi.getMessageHandler(),l[0]);for(var p in i){var g="";var u=s.getFilterTermsForProperty(p);if(u.length>0){e.oCoreApi.getMetadataFacade().getProperty(p).done(function(t){for(var r=0;r<u.length;r++){g+=n(e,t,p,u[r]["operator"],u[r]["value"],u[r]["highValue"]);if(r!==u.length-1){g+=", "}}o.push({sFilterName:p,sFilterValue:g})})}}}}return o}function s(e){var t,r="",o;var i,a,n=[],l=[],s=[];i=e.oUiApi.getFacetFilterForPrint();if(i){a=i.getLists();for(t=0;t<a.length;t++){r=a[t].getTitle();s=a[t].getSelectedItems();if(s.length>0){l=p(s);if(r!==undefined&&r!==null){o="";for(var g=0;g<l.length;g++){if(g!==l.length-1){o+=l[g]+", "}else{o+=l[g]}}n.push({sFilterName:r,sFilterValue:o})}}else{n.push({sFilterName:r,sFilterValue:e.oCoreApi.getTextNotHtmlEncoded("noSelectionInFilter")})}}}return n}function p(e){var t=[];e.forEach(function(e){t.push(e.getText())});return t}function g(e){var t=e.oFilterIdHandler.getAllInternalIds();var r,o=[],i;if(t.length>0){for(i=0;i<t.length;i++){r=e.oFilterIdHandler.get(t[i]).getExpressions();o.push(r[0])}}return o}function u(e,t){var o=[],i,a,n="",l,s,p;var g=[];for(i=0;i<t.length;i++){for(a=0;a<t[i].length;a++){e.oCoreApi.getMetadataFacade().getProperty(t[i][a].name).done(function(t){p=t;n="";g=[];n=t.label;s=new r({getEventCallback:e.oUiApi.getEventCallback.bind(e.oUiApi),getTextNotHtmlEncoded:e.oCoreApi.getTextNotHtmlEncoded,getExits:e.oUiApi.getCustomFormatExit()},t)});g.push(s.getFormattedValue(p.name,t[i][a].value));if(n!==undefined&&n!==null){l="";for(var a=0;a<g.length;a++){if(a!==g.length-1){l+=g[a]+", "}else{l+=g[a]}}o.push({sFilterName:n,sFilterValue:l})}}}return o}function f(t){var r=t.oUiApi.getEventCallback(e.eventTypes.printTriggered);var o=u(t,g(t));if(r!==undefined){var i={getTextNotHtmlEncoded:t.oCoreApi.getTextNotHtmlEncoded};o=r.apply(i,g(t))}return o}function d(e){var t,r,o;var i=s(e);r=l(e);t=f(e);o=t.concat(r,i);return o}a.prototype.getFiltersToPrint=function(){var e=this;var t=d(e);return t};a.prototype.getHeaderForFirstPage=function(){return this.oUiApi.getLayoutView().getController().oSavedPathName.getText()};a.prototype.getApplicationName=function(){var e;var t=this.applicationConfig.appName;if(!t){e=this.oCoreApi.createMessageObject({code:"6003",aParameters:["sAppName"]});this.oCoreApi.putMessage(e)}return t};a.prototype.setApplicationConfig=function(e){this.applicationConfig=e};a.prototype.getRepresentationForPrint=function(e){var t;var r;var o;var i;var a=this.oCoreApi.getTextNotHtmlEncoded(e.title);var n=e.getSelectedRepresentation();var l=n.bIsAlternateView?n.toggleInstance:n;if(l&&l.titleControl&&l.titleControl.oParent){o=l.titleControl.oParent.getItems();if(o&&o.length>1){for(r=0;r<o.length;r++){if(o[r].getMetadata()._sClassName==="sap.m.HBox"){i=o[r];i.setVisible(false)}}}}t=l.getPrintContent(a);return t.oRepresentation};o("sap.apf.ui.utils.PrintModel",a);return a});
sap.ui.predefine("sap/apf/ui/utils/printView", ["sap/apf/ui/utils/printModel","sap/apf/utils/exportToGlobal","sap/base/security/encodeXML","sap/m/Text","sap/ui/core/HTML","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout"],function(t,e,r,i,a,n,o){"use strict";function d(t,e){this.oUiApi=t.uiApi;this.oCoreApi=t.oCoreApi;this.printModel=e}d.prototype.constructor=d;d.prototype.getHeaderForFirstPage=function(){var t=new Date;var e=this.printModel.getApplicationName();e=this.oCoreApi.getTextNotHtmlEncoded(e);var r=this.printModel.getHeaderForFirstPage();var a,o,d;a=new i({text:e+":"}).addStyleClass("printHeaderTitle");o=new i({text:r}).addStyleClass("printHeaderTitle");d=new i({text:t.toTimeString()}).addStyleClass("printHeaderDate");var p=new n({id:"idAPFheaderLayout",content:[a,o,d],sanitizeContent:true}).addStyleClass("subHeaderPrintWrapper");return p};d.prototype.getPrintLayoutForFacetFiltersAndFooters=function(){var t=[];var e="",r="";var a=new o({id:"idAPFFacetAndFooterLayout"});t=this.printModel.getFiltersToPrint();for(var n=0;n<t.length;n++){e=new i({text:t[n].sFilterName}).addStyleClass("printFilterName");r=new i({text:t[n].sFilterValue}).addStyleClass("printFilterValue");a.addContent(e);a.addContent(r)}return a};d.prototype.getPrintLayoutForEachStep=function(t,e,r){var i=new o({id:"idAPFChartLayout"+e});i.addContent(this.printModel.getRepresentationForPrint(t));var a=new o({id:"idAPFStepLayout"+e,content:[p(e,r,this),i]}).addStyleClass("representationContent");return a};function p(t,e,i){var n=new Date;var o=i.printModel.getApplicationName();var d=i.printModel.getHeaderForFirstPage();var p=new a({id:"idAPFHeaderForEachStep"+t,content:['<div class="subHeaderPrintWrapper"><p class="printHeaderTitle"> '+i.oCoreApi.getTextHtmlEncoded(o)+" : "+r(d)+"</p>",'<p class="printHeaderDate"> '+n.toTimeString()+' </p></div><div class="clear"></div>','<br><div class="printChipName"><p>'+i.oCoreApi.getTextHtmlEncoded("print-step-number",[t,e])+"</p></div>"].join(""),sanitizeContent:true});return p}e("sap.apf.ui.utils.PrintView",d);return d});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/ui/utils/representationTypesHandler", ["sap/apf/modeler/ui/utils/labelForRepresentationTypes","sap/apf/modeler/ui/utils/constants","sap/apf/core/representationTypes","sap/base/util/deepExtend"],function(e,t,r,n){"use strict";var i=function(){this.aRepresentationTypes=n([],r())};function a(e,t,r){var n=[],i,a;i=e.indexOfRepresentationType(t);if(i===-1){return n}a=e.aRepresentationTypes[i].metadata.dimensions.supportedKinds;a.forEach(function(e){if(e.defaultCount===r){n.push(e.kind)}});return n}function p(e){if(e==="TableRepresentation"){return true}return false}function o(e){if(e==="TreeTableRepresentation"){return true}return false}i.prototype.getLabelsForChartType=function(t,r,n){var i=new e(t);return i.getLabelsForChartType(r,n)};i.prototype.indexOfRepresentationType=function(e){var t;for(t=0;t<this.aRepresentationTypes.length;t++){if(this.aRepresentationTypes[t].id===e){return t}}return-1};i.prototype.getConstructorOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].constructor};i.prototype.getPictureOfRepresentationType=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return null}return this.aRepresentationTypes[t].picture};i.prototype.getKindsForDimensionPropertyType=function(e){return a(this,e,1)};i.prototype.getKindsForLegendPropertyType=function(e){return a(this,e,0)};i.prototype.getKindsForMeasurePropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}r=this.aRepresentationTypes[t].metadata.measures.supportedKinds.map(function(e){return e.kind});return r};i.prototype.getKindsForPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.properties){r=this.aRepresentationTypes[t].metadata.properties.supportedKinds.map(function(e){return e.kind})}return r};i.prototype.getKindsForHierarchicalPropertyType=function(e){var t,r=[];t=this.indexOfRepresentationType(e);if(t===-1){return r}if(this.aRepresentationTypes[t].metadata.hierarchicalColumn){r=this.aRepresentationTypes[t].metadata.hierarchicalColumn.supportedKinds.map(function(e){return e.kind})}return r};i.prototype.isChartTypeSimilar=function(e,r){var n=t.similarChartTypes;return n.indexOf(e)!==-1&&n.indexOf(r)!==-1};i.prototype.isAdditionToBeEnabled=function(e,r,n){var i=false;var a=t.propertyTypes;var s=this.indexOfRepresentationType(e);if(s===-1){return i}if(r===a.PROPERTY){if(p(e)||o(e)){i=true}return i}if(r===a.LEGEND){r=a.DIMENSION}this.aRepresentationTypes[s].metadata[r].supportedKinds.forEach(function(e){if(n===e.kind&&e.max==="*"){i=true}});return i};i.prototype.isCombinationChart=function(e){var t=this.indexOfRepresentationType(e);if(t===-1){return false}if(this.aRepresentationTypes[t].isCombinationChart){return true}return false};i.prototype.getDefaultCountForRepresentationKind=function(e,t){var r=this.indexOfRepresentationType(e);if(r===-1){return 0}var n=this.aRepresentationTypes[r].metadata;for(var i in n){for(var a=0;a<n[i].supportedKinds.length;a++){var p=n[i].supportedKinds[a];if(p.kind===t){return p.defaultCount}}}return 0};return i});
sap.ui.predefine("sap/apf/ui/utils/stringToDateFormatter", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var r=function(){this.oSemanticsFormatterMap=n();this.oAnnotationFormatterMap=a()};r.prototype.constructor=r;function a(){var t=new Map;t.set("isCalendarYearMonth",m);t.set("isCalendarDate",u);t.set("isCalendarYearQuarter",d);t.set("isCalendarYearWeek",c);return t}function n(){var t=new Map;t.set("yearmonth",s);t.set("yearmonthday",i);t.set(undefined,o);return t}function o(t,e){return e}function s(t,e,r){var a=r.getTextNotHtmlEncoded("month-1-shortName");var n=r.getTextNotHtmlEncoded("month-2-shortName");var o=r.getTextNotHtmlEncoded("month-3-shortName");var s=r.getTextNotHtmlEncoded("month-4-shortName");var i=r.getTextNotHtmlEncoded("month-5-shortName");var m=r.getTextNotHtmlEncoded("month-6-shortName");var u=r.getTextNotHtmlEncoded("month-7-shortName");var d=r.getTextNotHtmlEncoded("month-8-shortName");var c=r.getTextNotHtmlEncoded("month-9-shortName");var v=r.getTextNotHtmlEncoded("month-10-shortName");var l=r.getTextNotHtmlEncoded("month-11-shortName");var h=r.getTextNotHtmlEncoded("month-12-shortName");var f=[a,n,o,s,i,m,u,d,c,v,l,h];var N=e.substr(0,4);var g=f[e.substr(4,6)-1];return g+" "+N}function i(r,a){var n="-";var o;if(a.length===8){o=t.convertFiscalYearMonthDayToDate(a)}else{o=new Date(Date.parse(a))}if(!isNaN(o.getTime())){var s=e.getDateInstance({style:"short"});n=s.format(o,true)}return n}function m(t,e,r){if(t.isCalendarYearMonth===undefined){return""}var a=s(this,e,r);return a}function u(t,e){if(t.isCalendarDate===undefined){return""}var r=i(this,e);return r}function d(t,e){if(t.isCalendarYearQuarter===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,1);var n=new Date(r);var o=n.getFullYear();var s;s="Q"+a;var i=s+" "+o;return i}function c(t,e){if(t.isCalendarYearWeek===undefined){return""}var r=e.substr(0,4);var a=e.substr(4,2);var n=new Date(r);var o=n.getFullYear();var s;s="CW"+a;var i=s+" "+o;return i}r.prototype.getFormattedValue=function(t,e,r){var a="";var n=t["sap:semantics"]!==undefined&&t["sap:semantics"].String!==undefined?t["sap:semantics"].String:t["sap:semantics"];if(e!==null){var o=this;o.oAnnotationFormatterMap.forEach(function(n,s){if(a===""){a=o.oAnnotationFormatterMap.get(s).call(o,t,e,r)}});if(a===""){a=o.oSemanticsFormatterMap.get(n)!==undefined?o.oSemanticsFormatterMap.get(n).call(o,t,e,r):e}}else{a=e}return a};return r},true);
/*!
* SAP APF Analysis Path Framework
*
* (c) Copyright 2012-2018 SAP SE. All rights reserved
*/
sap.ui.predefine("sap/apf/ui/utils/timeFormatter", ["sap/ui/model/odata/type/Time"],function(e){"use strict";var t=function(){};t.prototype.constructor=t;t.prototype.getFormattedValue=function(t,r){var n=r;if(r.__edmType!=undefined&&r.__edmType==="Edm.Time"){var o=new e;n=o.formatValue(r,"string")}return n};return t},true);
/*/
 * Created on 19.04.2019.
 * Copyright(c) 2019 SAP SE
 */
sap.ui.predefine("sap/apf/ui/utils/wrappedChartWithCornerTexts", ["sap/m/VBox","sap/m/FlexBox","sap/m/library","sap/m/Text","sap/apf/ui/utils/constants","sap/apf/utils/trace","sap/ui/core/Icon","sap/ui/core/library"],function(e,t,i,a,s,l,n,o){"use strict";const r=i.FlexAlignItems;const u=i.FlexJustifyContent;var c=o.TextAlign;var h="120px";var p="200px";var d="80px";var g="100px";var d="150px";var f="carouselActiveBorderedChartWithCornerTexts";var m="carouselBorderedChartWithCornerTexts";var y=0;function T(e){return e.type===s.representationTypes.TREE_TABLE_REPRESENTATION}function C(e){return e.type===s.representationTypes.TABLE_REPRESENTATION||e.type===s.representationTypes.TREE_TABLE_REPRESENTATION||e.bIsAlternateView===true}function x(e){l.logCall("getClonedChart");var t=e.getSelectedRepresentation();var i=t.chart;var a;var s;if(H.isIconDisplayed(t)){l.logReturn("getClonedChart"," return createIconThumbnail()");return H.createIconThumbnail(t)}if(!i){i=t.getChartForCustomListItem();l.log("getClonedChart",",  switches to substitute for main chart ",", cloning:",t.chart4CustomItemList?t.chart4CustomItemList.sId:"undefined");s=t.chart4CustomItemList.clone(1e3+y++)}else{l.log("getClonedChart"," takes oRepr.chart",", cloning:",i.sId);s=i.clone(y++);if(t.fnHandleSelection){s.detachSelectData(t.fnHandleSelection);s.detachDeselectData(t.fnHandleDeselection)}}if(i.getVizProperties){a=i.getVizProperties()}if(s.getVizProperties){s.setVizProperties(a);H.setAllLabelsInvisible(s);H.setAllAxisInvisible(s)}else{l.emphasize("getClonedChart"," cannot set setVizProperties since method is missing")}l.logReturn("getClonedChart"," cloned ID="+(s?s.sId:"-"));return s}function v(e){var t="sap-icon://table-chart";if(H.isTreeTable(e)){t="sap-icon://tree"}var i=new n({src:t,size:"400%"}).addStyleClass("carouselTableIconOldStyle");return i}function b(e){var t=e.getVizProperties();t.title={visible:false};t.categoryAxis={visible:false};t.valueAxis={visible:false};t.categoryAxis2={visible:false};t.valueAxis2={visible:false}}function L(e){var t=e.getVizProperties();if(t){Object.keys(t).forEach(function(e){if(t[e].label){t[e].label.visible=false}})}t.legend={visible:false,title:{visible:false}};t.timeAxis={visible:false,title:{visible:false}};t.plotArea={window:{start:"firstDataPoint",end:"lastDataPoint"}};t.interaction={noninteractiveMode:true,selectability:false};if(t.toolTip){t.toolTip.visible=false}if(!t.general||!t.general.layout){t.general={layout:{}}}t.general.layout.paddingLeft=this.paddingLeft;t.general.layout.paddingRight=this.paddingRight;t.general.layout.paddingBottom=this.paddingBottom;t.general.layout.paddingTop=this.paddingTop;e.setVizProperties(t)}function S(e,t){var i=t.longTitle&&!e.isInitialTextKey(t.longTitle.key)?t.longTitle:t.title;return e.getTextNotHtmlEncoded(i)}function I(e,i){e.oTopLayout=new t({items:[new a({text:i.leftUpper,tooltip:i.leftUpper,wrapping:true,maxLines:2,textAlign:c.Left}).addStyleClass("thumbanilText"),new a({text:i.rightUpper,tooltip:i.rightUpper,wrapping:true,maxLines:2,textAlign:c.Right}).addStyleClass("thumbanilText")],alignItems:r.Start,justifyContent:u.SpaceBetween}).addStyleClass("topLayout")}function A(e,i){e.oBottomLayout=new t({items:[new a({text:i.leftLower,tooltip:i.leftLower,wrapping:true,maxLines:2,textAlign:c.Left}).addStyleClass("thumbanilText"),new a({text:i.rightLower,tooltip:i.rightLower,wrapping:true,maxLines:2,textAlign:c.Right}).addStyleClass("thumbanilText")],alignItems:r.Start,justifyContent:u.SpaceBetween}).addStyleClass("bottomLayout")}function w(t,i){t.oThumbnailChartLayout=new e({items:[i],alignItems:c.Center}).addStyleClass("carouselChartVerticalBox")}function E(e,t){e.oStepTitle=new a({text:"\n"+t,wrapping:true,maxLines:2}).addStyleClass("carouselThumbnailTitle")}function V(t,i,a){t.oThumbnailVLayout=new e({items:[t.oTopLayout,t.oThumbnailChartLayout,t.oBottomLayout]}).addStyleClass(m);if(a){t.setHighlighted()}}function B(t){return new e({items:[t.oStepTitle,t.oThumbnailVLayout]}).addStyleClass("carouselItemVerticalLayout")}function R(e,t){if(e){if(t){e.setHeight(g);e.setWidth(d)}else{e.setHeight(h);e.setWidth(p)}}}function P(e,t,i,a){a=a||{};var s;var l={},n=false,o="initial";var r=a.mode==="preview";if(!r){l=e.getStepData(t).oStepTexts;o=S(e.oCoreApi,t);n=e.oCoreApi.stepIsActive(t)}else{l=a.oCornerTexts;o=a.titleText}var u=true;this.setHighlighted=function(){u=true;this.oThumbnailVLayout.removeStyleClass(m);this.oThumbnailVLayout.addStyleClass(f)};this.setNonHighlighted=function(){u=false;this.oThumbnailVLayout.removeStyleClass(f);this.oThumbnailVLayout.addStyleClass(m)};this.isHighlighted=function(){return u};this.getContent=function(){return s};R(i,r);I(this,l);A(this,l);w(this,i);E(this,o);V(this,t,n);s=B(this)}var H={constructor:P,itemChartHeightWithTexts:h,itemChartWidthWithTexts:p,activeBoxStyleName:f,inactiveBoxStyleName:m,createIconThumbnail:v,setAllAxisInvisible:b,setAllLabelsInvisible:L,getClonedChart:x,isIconDisplayed:C,isTreeTable:T};return H});
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/executeFilterMapping", ["sap/apf/core/utils/filter","sap/apf/core/constants"],function(e,n){"use strict";var t=function(t,a,r,s,f){a.sendGetInBatch(t,i);function i(t){var a;if(t&&t.type&&t.type==="messageObject"){f.putMessage(t);s(undefined,t)}else{a=new e(f);t.data.forEach(function(t){var s=new e(f);r.forEach(function(a){s.addAnd(new e(f,a,n.FilterOperators.EQ,t[a]))});a.addOr(s)});s(a,undefined,t.data)}}};return t},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2023 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/exportToGlobal", ["sap/base/util/ObjectPath"],function(e){return e.set.bind(e)});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2015 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/externalContext", ["sap/apf/core/utils/filter","sap/apf/core/utils/filterTerm","sap/apf/core/constants","sap/apf/utils/exportToGlobal"],function(e,t,r,a){function n(a){"use strict";var n=jQuery.Deferred();var s=a.instances.startParameter.getEvaluationId();var i=a.instances.startParameter.getXappStateId();var o=a.instances.messageHandler;var c=this;var l=a.functions.ajax;this.getCombinedContext=function(){if(i){u()}else if(s){f()}else{n.resolve(new e(o))}return n.promise();function t(t){if(t.levelOperator===r.BooleFilterOperators.OR){return new e(o,t)}return t}function u(){sap.ui.require("sap/ushell/Container")?.getService("CrossApplicationNavigation").getAppState(a.instances.component,i).done(function(r){var a=r.getData();if(a&&a.sapApfCumulativeFilter){n.resolve(t(e.transformUI5FilterToInternal(o,a.sapApfCumulativeFilter)))}else if(a&&a.selectionVariant){n.resolve(t(c.convertSelectionVariantToFilter(a.selectionVariant)))}else{n.resolve(new e(o))}}).fail(function(){var e=o.createMessageObject({code:5045,aParameters:[i]});o.putMessage(e)})}function f(){a.functions.getConfigurationProperties().done(function(r){var a=r&&r.smartBusiness&&r.smartBusiness.runtime;if(a&&a.service){var i=a.service+"/EVALUATIONS('"+s+"')/FILTERS?$format=json";l({url:i,success:function(r){var a;var s;var i=new e(o);var c=[];var l={};r.d.results.forEach(u);for(a in l){if(l.hasOwnProperty(a)){s=new e(o);l[a].forEach(f);c.push(s)}}c.forEach(p);n.resolve(t(i));function u(t){if(!l[t.NAME]){l[t.NAME]=[]}l[t.NAME].push(new e(o,t.NAME,t.OPERATOR,t.VALUE_1,t.VALUE_2))}function f(e){s.addOr(e)}function p(e){i.addAnd(e)}},error:function(e,t,r,a){var n=o.createMessageObject({code:5043,aParameters:[s,t]});if(a){n.setPrevious(a)}o.putMessage(n)}})}else{var c=o.createMessageObject({code:5044,aParameters:[s]});o.putMessage(c)}})}};this.convertParameterObject=function(e){var a;if(!e.PropertyName||e.PropertyValue===undefined||e.PropertyValue===null){if(!e.PropertyName){a=o.createMessageObject({code:5046,aParameters:[i]})}else{a=o.createMessageObject({code:5047,aParameters:[i,e.PropertyName]})}o.putMessage(a)}return new t(o,e.PropertyName,r.FilterOperators.EQ,e.PropertyValue)};this.convertSelectOption=function(t){var r=this;var a=null;var n;var s;if(!t.PropertyName||!t.Ranges||!Array.isArray(t.Ranges)){if(!t.PropertyName){s=o.createMessageObject({code:5048,aParameters:[i]})}else{s=o.createMessageObject({code:5049,aParameters:[i,t.PropertyName]})}o.putMessage(s)}a=new e(o);for(n=0;n<t.Ranges.length;n++){var c=r.convertRange(t.Ranges[n],t.PropertyName);a.addOr(c)}return a};this.convertRange=function(e,r){var a,n,s,c;if(e.Sign!="I"){a=o.createMessageObject({code:5050,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="BT"&&(e.High===undefined||e.High===null)){a=o.createMessageObject({code:5051,aParameters:[i,r]});o.putMessage(a)}if(e.Option==="CP"){c=e.Low.split("*");if(c.length>3||c.length===3&&(c[0].length!==0||c[2].length!==0)||c.length===1){a=o.createMessageObject({code:5069,aParameters:[i,r]});o.putMessage(a)}if(e.Low.indexOf("*")===0&&e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substr(1,e.Low.lastIndexOf("*")-1);s="Contains"}else if(e.Low.indexOf("*")===0){n=e.Low.substr(1,e.Low.length-1);s="EndsWith"}else if(e.Low.lastIndexOf("*")===e.Low.length-1){n=e.Low.substring(0,e.Low.indexOf("*"));s="StartsWith"}return new t(o,r,s,n,e.High)}return new t(o,r,e.Option,e.Low,e.High)};this.convertSelectionVariantToFilter=function(t){var r=this;var a=new e(o);var n;if(!t){return a}if(t.Parameters&&!Array.isArray(t.Parameters)){return a}if(t.SelectOptions&&!Array.isArray(t.SelectOptions)){return a}if(t.Parameters){for(n=0;n<t.Parameters.length;n++){var s=r.convertParameterObject(t.Parameters[n]);a.addAnd(s)}}if(t.SelectOptions){for(n=0;n<t.SelectOptions.length;n++){var i=r.convertSelectOption(t.SelectOptions[n]);a.addAnd(i)}}return a}}a("sap.apf.utils.ExternalContext",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filter", ["sap/apf/core/utils/filter","sap/apf/core/constants","sap/apf/utils/exportToGlobal","sap/base/Log"],function(e,t,r,n){"use strict";var i=function(e){var t;var r=this;var a=function(){t=new s(e,i.topAndId)};this.getById=function(e){if(t){if(e===i.topAndId){return t}return t.getById(e)}return undefined};this.type="filter";this.getExpressions=function(){if(t){return t.getExpressions()}return[]};this.getInternalFilter=function(){return t.getInternalFilter()};this.getTopAnd=function(){return t};this.updateExpression=function(t,r){e.check(t===r.id,"sId differs from oExpression.id");var n=this.getById(t);n.update(r)};this.updateValue=function(t,r,n){e.check(t!==undefined,"Filter updateValue: parameter id required");e.check(r!==undefined,"Filter updateValue: parameter value is required");var i=this.getById(t);e.check(i!==undefined,"Filter updateValue: id for expression not valid");i.updateValue(r,n)};this.serialize=function(){function e(t,r){var n={id:r.getId(),type:r.type,expressions:[],terms:[]};t.forEach(function(t,i){if(t instanceof Array){if(r.type==="filterAnd"){n.terms.push(e(t,r.getAndTerms()[i]))}else if(r.type==="filterOr"){n.terms.push(e(t,r.getOrTerms()[i]))}}else{n.expressions.push(t)}});return n}return e(this.getTopAnd().getExpression(),this.getTopAnd())};this.deserialize=function(e){t=undefined;a();function r(e,t){if(e.type==="filterAnd"&&e.id!==i.topAndId){t=t.addAnd(e.id)}else if(e.type==="filterOr"&&e.id!==i.topAndId){t=t.addOr(e.id)}e.expressions.forEach(function(e){t.addExpression(e)});e.terms.forEach(function(e){r(e,t)})}r(e,this.getTopAnd());return this};this.addAnd=function(e){n.error("Method 'addAnd' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.intersectWith=function(t){var n=0;var s=[];var a;var o=new i(e);var d=r.serialize();u(d);switch(arguments.length){case 1:a=arguments[0];if(a instanceof Array){s=a}else{s.push(a)}break;default:s=Array.prototype.slice.call(arguments,0)}s.forEach(function(t){e.check(t instanceof i,"Parameter value is not of type sap.apf.utils.Filter");var r=t.serialize();u(r);Array.prototype.push.apply(d.expressions,r.expressions);Array.prototype.push.apply(d.terms,r.terms)});o.deserialize(d);return o;function u(e){if(e.id!==i.topAndId){e.id="#"+n+++"#"}e.terms.forEach(u)}};a();return this};i.createFilterFromSapUi5FilterJSON=function(e,t){var r=new i(e);function n(e,t,r){var i;t++;if(r.aFilters){if(r.bAnd){if(t!==1){i=e.addAnd()}else{i=e}}else{i=e.addOr()}r.aFilters.forEach(function(e){n(i,t,e)})}else if(r.sOperator){e.addExpression({name:r.sPath,operator:r.sOperator,value:r.oValue1,high:r.oValue2})}}n(r.getTopAnd(),0,t);return r};i.getOperators=function(){return t.FilterOperators};i.prototype.getOperators=i.getOperators;i.topAndId="filterTopAnd";var s=function(r,i){var s=i;var d=[];var u=this;this.type="filterAnd";this.getById=function(e){if(e===s){return this}var t;var r;for(r=0;r<d.length;r++){t=d[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpressions=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}if(t instanceof Array){e.push(t)}else{e.push([t])}}return e};this.getExpression=function(){var e=[];var t;var r;for(r=0;r<d.length;r++){t=d[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getCompoundExpressions=function(){n.error("Method 'getExpressions' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getId=function(){return i};this.getInternalFilter=function(){var t=new e(r);var n=d.length;var i;for(i=0;i<n;i++){t.addAnd(d[i].getInternalFilter())}return t};this.addAndTerm=function(e){n.error("Method 'addAndTerm' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getAndTerms=function(){return d};this.addOr=function(e){r.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new a(r,e,u);d.push(t);return t};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}r.check(e.id===undefined||this.getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");r.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");r.check(t.aSelectOpt.includes(e.operator),"Filter oExpression.operator "+e.operator+" not supported");d.push(new o(r,e));return this}};var a=function(r,i,a){var d=i;var u=[];var p=a;this.type="filterOr";this.getById=function(e){if(e===d){return this}var t;for(var r=0;r<u.length;r++){t=u[r].getById(e);if(t!==undefined){return t}}return undefined};this.getExpression=function(){var e=[];var t;for(var r=0;r<u.length;r++){t=u[r].getExpression();if(t instanceof Array&&t.length===0){continue}e.push(t)}return e};this.getId=function(){return i};this.getInternalFilter=function(){var t=new e(r);for(var n=0;n<u.length;n++){t.addOr(u[n].getInternalFilter())}return t};this.getAndObject=function(){return p};this.addOrTerm=function(e){n.error("Method 'addOr' is deprecated since 1.23.0","Will be discarded with 1.26.0.")};this.getOrTerms=function(){return u};this.addExpression=function(e){if(e.operator.length==2){e.operator=e.operator.toUpperCase()}r.check(e.id===undefined||this.getAndObject().getById(e.id)===undefined,"Filter includes duplicated identifiers (IDs)");r.check(e.operator!==undefined,"sap.apf.utils.Filter oExpression.operator undefined");r.check(t.aSelectOpt.includes(e.operator),"Filter oExpression.operator "+e.operator+" not supported");u.push(new o(r,e));return this};this.addAnd=function(e){r.check(e===undefined||this.getById(e)===undefined,"Filter includes duplicated identifiers (IDs)");var t=new s(r,e);u.push(t);return t}};var o=function(r,n){u(n.high,n.operator);var i=n.id;var s=n.name;var a=n.operator;var o=n.value;var d=n.high;this.getById=function(e){if(i===e){return this}return undefined};this.getExpression=function(){if(!a||a!==t.FilterOperators.BT){return{name:s,operator:a,value:o}}return{name:s,operator:a,value:o,high:d}};this.getInternalFilter=function(){return new e(r,s,a,o,d)};this.update=function(e){u(e.high,e.operator);s=e.name;a=e.operator;o=e.value;d=e.high};this.updateValue=function(e,t){o=e;if(t!==undefined){d=t}u(d,a)};function u(e,n){if(!n){return}if(n===t.FilterOperators.BT&&(e===null||e===undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value needed for 'between' selection")}else if(n!==t.FilterOperators.BT&&(e!==null&&e!==undefined)){r.check(false,"sap.apf.utils.FilterExpression: High value only needed for 'between' selection")}}};r("sap.apf.utils.Filter",i);return i},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/filterIdHandler", ["sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/base/util/merge"],function(e,t,r){"use strict";function n(e){var n=e.instances.messageHandler;var i=1;var s=[];var a={};this.add=function(t){if(!c(t)){n.putMessage(n.createMessageObject({code:"5301"}))}a[i]=u(t);s.push(i);e.functions.setRestrictionByProperty(t);return i++};this.update=function(t,r){if(typeof t==="number"){if(t<=0||t>=i){n.putMessage(n.createMessageObject({code:"5100",aParameters:["Passed invalid numeric identifier during update of path filter"]}));return}}else if(!t||typeof t!=="string"){n.putMessage(n.createMessageObject({code:"5100",aParameters:['Passed falsity (0,"",undefined,null) or an object as identifier during update of path filter']}));return}var s=u(r);if(a[t]&&a[t]!==s){n.putMessage(n.createMessageObject({code:"5100",aParameters:["Updating filter with different property not allowed"]}));return}if(!c(r)){n.putMessage(n.createMessageObject({code:"5301"}))}e.functions.setRestrictionByProperty(r);a[t]=s};this.get=function(t){switch(typeof t){case"number":n.check(t>0&&t<i,"Passed unknown numeric identifier during get from path context handler");break;case"string":n.check(a[t],"Passed unknown string identifier during get from path context handler");break;default:n.check(false,"Filter Id handler - wrong type of the id parameter in get")}return e.functions.getRestrictionByProperty(a[t])};this.getAllInternalIds=function(e){return r([],s)};this.serialize=function(){return t({},a)};this.deserialize=function(e){i=1;var r;for(r in e){if(typeof f(r)==="number"){i++}}a=t({},e)};function u(e){return e.getInternalFilter().getProperties()[0]}function f(e){if(isNaN(Number(e))){return e}return Number(e)}function c(e){var t=e.getInternalFilter();var r=t.getProperties();if(r.length>1){return false}var n=new i;t.traverse(n);return n.isAccepted();function i(){var e=this;var t=false;var r=false;var n=true;this.isAccepted=function(){return n};this.processEmptyFilter=function(){return};this.processTerm=function(e){var i=e.getOp();if(!r&&!t){if(i==="GE"||i==="LE"||i==="EQ"){return}}if(r&&(i==="GE"||i==="LE")){return}if(t&&i==="EQ"){return}n=false};this.processAnd=function(t,n){if(n&&n.length>0){r=true}this.process(t);n.forEach(function(t){e.process(t)})};this.processOr=function(r,n){if(n&&n.length>0){t=true}this.process(r);n.forEach(function(t){e.process(t)})};this.process=function(e){if(t&&r){n=false}if(!n){return}e.traverse(this)}}}}e("sap.apf.utils.FilterIdHandler",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/hashtable", ["sap/apf/utils/exportToGlobal"],function(e){"use strict";function n(e){var n=0;var t={};var i=[];this.type="hashTable";this.setItem=function(s,r){var u;e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.setItem: key undefined");e.check(r!==undefined&&r!==null,"sap.apf.utils.HashTable.setItem: value undefined");if(this.hasItem(s)){u=t[s]}else{n++;i.push(s)}t[s]=r;return u};this.getNumberOfItems=function(){return n};this.getItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.getItem key undefined");return this.hasItem(n)?t[n]:undefined};this.hasItem=function(n){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.hasItem key undefined");return t.hasOwnProperty(n)};this.removeItem=function(s){e.check(s!==undefined&&s!==null,"sap.apf.utils.HashTable.removeItem key undefined");var r;if(this.hasItem(s)){r=t[s];n--;i.splice(i.indexOf(s),1);delete t[s];return r}return undefined};this.getKeys=function(){var e=[];var n;for(n in t){if(this.hasItem(n)){e.push(n)}}return e};this.each=function(e){var n;for(n in t){if(this.hasItem(n)){e(n,t[n])}}};this.forEachOrdered=function(n){var s=this;i.forEach(function(i){if(!s.hasItem(i)){e.check(false,"sap.apf.utils.HashTable.forEachOrdered: key not contained")}else{n(i,t[i])}})};this.getKeysOrdered=function(){var e=[];this.forEachOrdered(function(n){e.push(n)});return e};this.moveUpOrDown=function(n,t){e.check(n!==undefined&&n!==null,"sap.apf.utils.HashTable.moveItemUpOrDown movedKey undefined");var s=i.indexOf(n);var r=s+t;if(s<0){return null}if(t<0){i.splice(s,1);if(r<0){i.splice(0,0,n);return 0}i.splice(s+t,0,n);return s+t}else if(t===0){return s}else if(t>0){i.splice(s,1);if(r>=i.length){i.splice(i.length,0,n);return i.length}i.splice(r,0,n);return r}};this.moveBefore=function(e,n){if(i.indexOf(e)<0||i.indexOf(n)<0){return null}if(e===n){return i.indexOf(n)}i.splice(i.indexOf(n),1);i.splice(i.indexOf(e),0,n);return i.indexOf(n)};this.moveToEnd=function(e){if(i.indexOf(e)<0){return null}i.splice(i.indexOf(e),1);i.push(e);return i.indexOf(e)};this.reset=function(){t={};i=[];n=0}}e("sap.apf.utils.Hashtable",n);return n},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/navigationHandler", ["sap/apf/core/utils/filterSimplify","sap/apf/utils/utils","sap/apf/utils/executeFilterMapping","sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/base/util/uid","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/jquery"],function(e,t,i,a,n,r,s,jQuery){"use strict";function o(a){var o;var c;var p;var u=a.instances.messageHandler;var f=this;var l=a.constructors&&a.constructors.FilterReduction||e.FilterReduction;var v;var g=false;this.getNavigationTargets=function(){var e,i;var r=sap.ui.require("sap/ushell/Container")?.getService("CrossApplicationNavigation");if(!r){if(!g){i=u.createMessageObject({code:5074});u.putMessage(i);g=true}c={global:[],stepSpecific:[]};return t.createPromise(c)}e=jQuery.Deferred();a.functions.getCumulativeFilterUpToActiveStep().done(function(t){if(c&&t.isEqual(p)){e.resolve(h(c));return e.promise()}p=t;if(!o){d()}c=n([],o);c.forEach(function(e){e.text=""});s(t).done(function(t){c=t;e.resolve(h(c))})});return e.promise();function s(e){var t=jQuery.Deferred();var i=[];var n=[];var s;c.forEach(function(t){var o;if(t.useDynamicParameters){s=s||A(e);t.parameters=F(t.parameters,s)}o=jQuery.Deferred();n.push(o);r.getLinks({semanticObject:t.semanticObject,action:t.action,params:S(t.parameters),ignoreFormFactor:false,ui5Component:a.instances.component}).then(function(e){e.forEach(function(e){var a=e.intent.split("-");var n=a[1].split("?");n=n[0].split("~");if(e.text!==""&&n[0]===t.action){t.text=e.text;i.push(t)}});o.resolve()},function(){o.resolve()})});jQuery.when.apply(jQuery,n).done(function(){t.resolve(i)});return t.promise()}};this.navigateToApp=function(e){if(!o){d()}var t=m(e);if(!t){return}var n=s&&s.getInstance();a.functions.getCumulativeFilterUpToActiveStep().done(function(e){if(a.functions.isFilterReductionActive&&a.functions.isFilterReductionActive()){v=v||new l;var r=v.reduceFilter(u,e);if(r===null){u.putMessage(u.createMessageObject({code:5235}))}else{e=r}}if(!t.filterMapping||!t.filterMapping.requestForMappedFilter){o(null,null)}else{var s=a.functions.createRequest(t.filterMapping.requestForMappedFilter);i(e,s,t.filterMapping.target,o,u)}function o(i,r){var s;if(r){return}if(i){e=e.addAnd(i)}var o=sap.ui.require("sap/ushell/Container")?.getService("CrossApplicationNavigation");if(o){a.instances.serializationMediator.serialize(true).done(function(i){f.generateSelectionVariant(e).done(function(r){var c;var p={};if(t.useDynamicParameters){c=A(e)}p.sapApfState=i;p.sapApfCumulativeFilter=e.mapToSapUI5FilterExpression();p.selectionVariant=r;s=o.createEmptyAppState(a.instances.component);s.setData(p);s.save();if(n){n.replaceHash("sap-iapp-state="+s.getKey())}var u=t.parameters;if(t.useDynamicParameters){u=F(u,c)}o.toExternal({target:{semanticObject:t.semanticObject,action:t.action},appStateKey:s.getKey(),params:S(u)},a.instances.component)})})}}})};this.checkMode=function(){var e=jQuery.Deferred();var t=s&&s.getInstance&&s.getInstance();var i=/(?:sap-iapp-state=)([^&=]+)/;var n,r,o,c;if(t){o=i.exec(t.getHash());if(o){n=o[1]}}r=a.functions.getXappStateId();if(n){sap.ui.require("sap/ushell/Container").getService("CrossApplicationNavigation").getAppState(a.instances.component,n).done(function(t){c=t.getData();if(c.sapApfState){a.instances.serializationMediator.deserialize(c.sapApfState).done(function(){e.resolve({navigationMode:"backward"})})}})}else if(r){sap.ui.require("sap/ushell/Container").getService("CrossApplicationNavigation").getAppState(a.instances.component,r).done(function(t){c=t.getData();if(c&&c.sapApfCumulativeFilter){e.resolve({navigationMode:"forward",sapApfCumulativeFilter:c.sapApfCumulativeFilter})}else{e.resolve({navigationMode:"forward"})}})}else{e.resolve({navigationMode:"forward"})}if(t){t.replaceHash("")}return e.promise()};this.generateSelectionVariant=function(e){var t=jQuery.Deferred();if(!a.functions.isFilterReductionActive||!a.functions.isFilterReductionActive()){v=v||new l;e=v.reduceFilter(u,e)}if(!v||!v.isContradicted()){var i=e.mapToSelectOptions(a.functions.getAllParameterEntitySetKeyProperties);i.done(function(e){e.SelectionVariantID=r();t.resolve(e)})}else{var n={};n={SelectionVariantID:r(),Text:"Filter could not be converted to a selectionVariant"};t.resolve(n)}return t.promise()};function d(){o=a.functions.getNavigationTargets()}function m(e){for(var t=0,i=o.length;t<i;t++){if(o[t].id===e){return o[t]}}}function S(e){var t;if(e&&e.length>0){t={};e.forEach(function(e){t[e.key]=e.value})}return t}function h(e){var t=n([],e);var i={global:[],stepSpecific:[]};t.forEach(function(e){if(e.isStepSpecific&&r(e.id)){delete e.isStepSpecific;i.stepSpecific.push(e)}else if(!e.isStepSpecific){delete e.isStepSpecific;i.global.push(e)}});return i;function r(e){var t=false;var i;var n=a.functions.getActiveStep();if(n&&n.getAssignedNavigationTargets){i=n.getAssignedNavigationTargets();if(i&&Array.isArray(i)){i.forEach(function(i){if(e===i.id){t=true}})}}return t}}function A(e){v=v||new l;var t=v.reduceFilter(u,e)||e;return t.getSingleValueTerms()}function F(e,t){t.forEach(function(t){e=e||[];e.push({key:t.property,value:t.value})});return e}}a("sap.apf.utils.NavigationHandler",o);return o},true);
sap.ui.predefine("sap/apf/utils/parseTextPropertyFile", ["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(e,t,n){"use strict";var a=function(a,i){var s=i.instances.messageHandler;var r=t.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var l;var u=a.split(/\r?\n/);var c=u.length;var o,p;var f=-1;var m=-1;var g;var h,v,T;var x=false;var A={Application:undefined,TextElements:[],Messages:[]};var d=false;function L(e,t){var n=s.createMessageObject({code:e,aParameters:[t]});A.Messages.push(n)}function M(e){L(11013,e)}function D(e){L(5411,e)}function y(t,n){var a=e.isValidGuid(t);if(!a){L(5412,n);return false}return true}function E(e){L(5415,e)}function H(e){L(5412,e)}for(o=0;o<c;o++){if(!x){var C=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(u[o]);if(C!==null){A.Application=u[o].split("=")[1];if(!e.isValidGuid(A.Application)){A.Application="";M(o)}x=true;continue}}if(u[o]===""){continue}if(d){d=false;continue}if(m===o&&/^\#\s*LastChangeDate/.exec(u[o])){T=u[o].split("=");if(T.length===2){l=r.parse(T[1]);if(!l){E(o);g.LastChangeUTCDateTime=""}else{g.LastChangeUTCDateTime="/Date("+l.getTime()+")/"}A.TextElements.push(g)}else{E(o)}g=null;continue}if(f===o){T=u[o].split("=");if(T.length>1){if(T[0]==="AnalyticalConfigurationName"){m=0;d=true;continue}if(y(T[0],o)){g.TextElement=T[0];g.TextElementDescription=T[1];for(p=2;p<T.length;p++){g.TextElementDescription+="="+T[p]}}else{H(o)}}else{D(o)}continue}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(u[o]);if(h){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=u[o].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);f=o+1;m=o+2}else{v=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(u[o]);if(v){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";f=o+1;m=o+2}}}if(!x){L(5410,0)}return A};return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/proxyTextHandlerForLocalTexts", ["sap/apf/utils/exportToGlobal","sap/apf/utils/hashtable","sap/apf/utils/parseTextPropertyFile","sap/apf/utils/utils"],function(e,t,n,r){"use strict";function a(e){var a=e.instances.messageHandler;var i={};this.initApplicationTexts=function(e,r){var s=i[e]||new t(a);if(r===""||r===null){i[e]=s;return}var l=n(r,{instances:{messageHandler:a}});l.TextElements.forEach(function(e){if(e.TextElement){s.setItem(e.TextElement,e)}});i[e]=s};this.createTextFileOfApplication=function(e){if(!i[e]){return""}var t=r.renderHeaderOfTextPropertyFile(e,a);return t+r.renderTextEntries(i[e],a)};this.getTextElements=function(e){if(!i[e]){return[]}var t=[];i[e].each(function(e,n){t.push(n)});return t};this.addText=function(e){if(!e.TextElement){e.TextElement=r.createPseudoGuid(32)}var n=i[e.Application]||new t(a);n.setItem(e.TextElement,e);i[e.Application]=n;return e.TextElement};this.removeText=function(e){var n=e.application;var r=e.inputParameters[0].value;var s=i[n]||new t(a);if(s.hasItem(r)){s.removeItem(r)}}}e("sap.apf.utils.ProxyTextHandlerForLocalTexts",a);return a},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/sbAdapter", ["sap/apf/abap/LrepConnector","sap/base/Log","sap/base/util/deepExtend","sap/ui/thirdparty/jquery","sap/ui/thirdparty/datajs"],function(e,n,a,jQuery,t){"use strict";var i={semanticObject:"FioriApplication",action:"executeAPFConfiguration"};var r={semanticObject:"FioriApplication",action:"editAPFConfiguration"};var o={semanticObject:"FioriApplication",action:"executeAPFConfigurationS4HANA"};var s={semanticObject:"FioriApplication",action:"editAPFConfigurationS4HANA"};var c="/sap/hba/r/apf/core/odata/modeler/AnalyticalConfiguration.xsodata/AnalyticalConfigurationQueryResults";var u=undefined;var p={};p._hanaConfigurations=undefined;p._lrepConfigurations=undefined;p.getConfigurations=function(e,n){var a=jQuery.Deferred();var t=[];jQuery.when(l(),f()).then(function(r,s){t=s.concat(r);var c=y(e,n);if(c&&!I(c,i)&&!I(c,o)){t.forEach(function(e){e.runtimeIntent=c})}a.resolve(t)});return a.promise()};p.getTargetMappingInstaceIDsWithConfigurations=function(e,n,a,t){var r=jQuery.Deferred();var s=[];var c=[];jQuery.when(l(),f()).then(function(p,f){d(a,t).then(function(a){return u(1e3).then(function(){s=f.concat(p);var t=y(e,n);a.forEach(function(e){if(e.semanticParameters["sap-apf-configuration-id"]){var n=e.semanticParameters["sap-apf-configuration-id"].defaultValue;s.forEach(function(a){if(n.value===a.id){a.targetMappingInstanceId=e;if(t&&!I(t,i)&&!I(t,o)){a.runtimeIntent=t}c.push(a)}})}});r.resolve(c)})})});return r.promise();function u(e,n){return new Promise(function(a){setTimeout(a.bind(null,n),e)})}};p.getConfigurationNameById=function(e){var n=jQuery.Deferred();if(!e){return n.resolve("")}if(e.indexOf(".")>-1){l().done(a)}else{f().done(a)}return n.promise();function a(a){a.forEach(function(a){if(a.id===e){n.resolve(a.title)}});if(n.state!=="resolved"){n.resolve("")}}};function f(){var e=jQuery.Deferred();if(!p._hanaConfigurations){var n={requestUri:c+"?$select=AnalyticalConfiguration,AnalyticalConfigurationName,Application",async:true,method:"GET"};t.request(n,o,s)}else{e.resolve(a([],p._hanaConfigurations))}return e.promise();function o(n){var t=[];n.results.forEach(function(e){t.push({title:e.AnalyticalConfigurationName,id:e.AnalyticalConfiguration,runtimeIntent:i,modelerIntent:r,configurationId:e.AnalyticalConfiguration,applicationId:e.Application})});p._hanaConfigurations=a([],t);e.resolve(t)}function s(){p._hanaConfigurations=[];e.resolve([])}}function l(){var e=jQuery.Deferred();if(!p._lrepConfigurations){v().then(function(n){var t=[];n.response.forEach(function(e){var n;var a;if(e.fileType&&e.fileType==="apfconfiguration"){n=m(e);a=e.name;t.push({title:C(e,"apfdt-configname"),id:n+"."+a,runtimeIntent:o,modelerIntent:s,configurationId:a,applicationId:n})}});p._lrepConfigurations=a([],t);e.resolve(t)},function(){e.resolve([]);p._lrepConfigurations=[]})}else{e.resolve(a([],p._lrepConfigurations))}return e.promise()}function g(e){var n;const a=sap.ui.require("sap/ushell/Container");if(a?.getService){if(e=="S")n=a.getService("PageBuilding","CONF").getFactory();else if(e=="C")n=a.getService("PageBuilding","CUST").getFactory();else n=a.getService("PageBuilding","PERS").getFactory();return n}}function d(e,a){var t=jQuery.Deferred();var i=a;var r=[];var o=g(e);var s=o.getPageBuildingService();s.readCatalog(i,jQuery.proxy(function(e){if(e&&e.Chips&&e.Chips.results instanceof Array){jQuery.each(e.Chips.results,jQuery.proxy(function(e,a){try{if(a&&a.baseChipId==="X-SAP-UI2-CHIP:/UI2/ACTION"){u=a;var i=JSON.parse(u.configuration);var o=JSON.parse(i.tileConfiguration);var s=o.ui5_component;var c="smartbusiness";var p="sap.apf";if(s&&s.indexOf(c)===-1){h(s).then(function(e){jQuery.each(e.response.results,jQuery.proxy(function(e,a){if(a&&a["sap.ui5/dependencies/libs"]){if(a["sap.ui5/dependencies/libs"].indexOf(p)!==-1){var t;var i=JSON.parse(u.configuration);var o=JSON.parse(i.tileConfiguration);var s=o.signature&&o.signature.parameters;if(u.ChipBags&&u.ChipBags.results instanceof Array){jQuery.each(u.ChipBags.results,jQuery.proxy(function(e,a){if(a&&a.id==="tileProperties"){if(a.ChipProperties&&a.ChipProperties.results instanceof Array){jQuery.each(a.ChipProperties.results,jQuery.proxy(function(e,n){if(n&&n.name==="display_title_text"){t=n.value;return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the properties inside the chip bag 'tileProperties' for "+u.catalogPageChipInstanceId)}return false}},this))}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Unable to read the chip bags for "+u.catalogPageChipInstanceId)}r.push({instanceID:u.catalogPageChipInstanceId||"",title:t||"",semanticObject:o.semantic_object||"",semanticAction:o.semantic_action||"",ui5Component:o.ui5_component||"",semanticParameters:s||{}});window.TargetMapping=r}}},this))},function(){t.resolve([])})}}}catch(e){n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID",e&&e.message)}},this));t.resolve(r)}else{n.error("sbAdapter/getTargetMappingInstanceIDsFromCatalogID","Invalid catalog object");t.reject()}},this),jQuery.proxy(function(e,n){t.reject(n)},this));return t.promise()}function v(){var n=e.createConnector();var a={async:true,contentType:"application/json"};var t=[];t.push({name:"deep-read",value:true});t.push({name:"metadata",value:true});t.push({name:"layer",value:"CUSTOMER"});var i="/sap/bc/lrep/content/sap/apf/dt/";i+=n._buildParams(t);return n.send(i,"GET",{},a)}function h(n){var a=e.createConnector();var t={async:true,contentType:"application/json"};var i=[];i.push({name:"sap.app/id",value:n});i.push({name:"fields",value:"sap.ui5/dependencies/libs"});var r="/sap/bc/ui2/app_index";r+=a._buildParams(i);return a.send(r,"GET",{},t)}function m(e){var n=e.ns.split("/");return n[n.length-2]}function C(e,n){var a;e.metadata.forEach(function(e){if(e.name===n){a=e.value}});return a}function I(e,n){if(e.semanticObject===n.semanticObject&&e.action===n.action){return true}return false}function y(e,n){if(e&&n){return{semanticObject:e,action:n}}}return p},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/serializationMediator", ["sap/apf/core/constants","sap/apf/utils/exportToGlobal"],function(e,t){"use strict";function i(t){this.savePath=function(e,i,a){this.serialize(false).done(function(n){if(typeof e==="string"&&typeof i==="function"){t.instances.coreApi.savePath(e,i,n)}else if(typeof e==="string"&&typeof i==="string"&&typeof a==="function"){t.instances.coreApi.savePath(e,i,a,n)}})};this.openPath=function(i,a,n){t.instances.coreApi.openPath(i,s.bind(this));function s(i,s,r){t.instances.coreApi.resetPath();t.instances.messageHandler.setCallbackForTriggeringFatal(c);this.deserialize(i.path.SerializedAnalysisPath,n).done(function(){t.instances.messageHandler.setCallbackForTriggeringFatal(undefined);a({},s)});function c(i){if(i.getSeverity()!==e.message.severity.warning){var a=t.instances.messageHandler.createMessageObject({code:"5210"});a.setPrevious(i);t.instances.messageHandler.putMessage(a)}}}};this.deletePath=function(e,i){t.instances.coreApi.deletePath(e,i)};this.readPaths=function(e){t.instances.coreApi.readPaths(e)};this.serialize=function(e,i){var a=jQuery.Deferred();var n={};t.instances.startFilterHandler.serialize(undefined,i).done(function(i){var s=t.instances.coreApi.serialize();n.startFilterHandler=i;n.filterIdHandler=t.instances.filterIdHandler.serialize();n.path=s.path;n.smartFilterBar=s.smartFilterBar;if(e){n.pathName=t.instances.coreApi.getPathName();n.dirtyState=t.instances.coreApi.isDirty()}a.resolve(n)});return a};this.deserialize=function(e,i){var a=jQuery.Deferred();var n;if(e.dirtyState!==undefined){t.instances.coreApi.setDirtyState(e.dirtyState)}if(e.pathName!==undefined){t.instances.coreApi.setPathName(e.pathName)}n={path:e.path,smartFilterBar:e.smartFilterBar};if(i!==undefined){n.path.indicesOfActiveSteps[0]=i}t.instances.coreApi.getApplicationConfigProperties().done(function(){t.instances.coreApi.deserialize(n);t.instances.filterIdHandler.deserialize(e.filterIdHandler);t.instances.startFilterHandler.getStartFilters().done(function(){if(e.startFilterHandler){t.instances.startFilterHandler.deserialize(e.startFilterHandler).done(function(){a.resolve()})}else{a.resolve()}})});return a.promise()}}t("sap.apf.utils.SerializationMediator",i);return i},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilter", ["sap/apf/core/utils/filter","sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";function s(t,s,n){var r;var l;var a=new e(t.instances.messageHandler);var o;var u;var f=0;var c=0;var p=i([],n);var d;if(s.preselectionDefaults&&s.preselectionDefaults.length>0){d=i([],s.preselectionDefaults)}else if(typeof s.preselectionFunction==="function"){d=i([],s.preselectionFunction())}var v=false;if(s.valueHelpRequest||Array.isArray(s.valueList)&&s.valueList.length>0){v=true}var h=false;var y={};var g={};var m;A=A.bind(this);P=P.bind(this);N=N.bind(this);E=E.bind(this);q=q.bind(this);F=F.bind(this);this.hasValueHelpRequest=function(){return!!s.valueHelpRequest};this.setContext=function(e){if(s.notConfigured===true){n=e}else{t.instances.messageHandler.putMessage(t.instances.messageHandler.createMessageObject({code:"5100",aParameters:["Context of configured Startfilter cannot be changed"]}))}};this.getPropertyName=function(){return s.property};this.getLabel=function(){return s.label};this.getAliasNameIfExistsElsePropertyName=function(){return s.alias||s.property};this.isMultiSelection=function(){if(s.multiSelection==="true"||s.multiSelection===true){return true}return false};this.isVisible=function(){if(n&&n.type==="internalFilter"&&!s.filterResolutionRequest){return false}return!s.invisible};this.setRestriction=function(e){a=e.copy();if(!u){u=jQuery.Deferred()}R(++c)};this.setSelectedValues=function(e,t){if(!u){u=jQuery.Deferred()}if(!r){r=jQuery.Deferred();if(!t){q().done(function(e){if(r){r.resolve(e)}})}else{r.resolve(e)}}if(e.type==="internalFilter"){l=e}else{l=i([],e)}if(!t){R(++c)}};this.getSelectedValues=function(){var e;if(!u){u=jQuery.Deferred();e=u;R(++c)}else if(u.state()==="pending"){e=u;if(r){r.done(function(){R(++c)})}else{R(++c)}}return e.promise()};this.getValues=function(){var e;if(!o||o.state()!=="pending"){o=jQuery.Deferred()}e=o;D(++f);return e.promise()};this.getMetadata=function(){if(s.metadataProperty){return jQuery.Deferred().resolve(s.metadataProperty)}return jQuery.Deferred().resolve({})};this.serialize=function(e,t){var i=jQuery.Deferred();var s={propertyName:this.getPropertyName()};q().done(function(n){if(n&&n.type==="internalFilter"){n=n.mapToSapUI5FilterExpression()}s.selectedValues=n;if(r){r.done(function(n){if(e===true){s.initiallySelectedValues=n}if(t!==true){r=null}i.resolve(s)})}else{i.resolve(s)}});return i};this.deserialize=function(s){if(s.selectedValues&&(s.selectedValues.aFilters||s.selectedValues.sPath)){s.selectedValues=e.transformUI5FilterToInternal(t.instances.messageHandler,s.selectedValues)}l=null;if(s.initiallySelectedValues){r=jQuery.Deferred().resolve(s.initiallySelectedValues)}else{r=null}if(Array.isArray(s.selectedValues)){p=i([],s.selectedValues);n=i([],s.selectedValues)}else{p=s.selectedValues;n=s.selectedValues}h=false};this.reset=function(){if(r){r.done(function(e){l=e})}};function D(e){F(e,f).done(function(t){if(e===f){o.resolve(t)}})}function R(e){q(e).done(function(t){if(e===c){var i=u;u=jQuery.Deferred();i.resolve(t,u.promise())}})}function F(e,t){var i=jQuery.Deferred();var r=[];l=l.bind(this);if(v&&Array.isArray(n)){V(e,t).then(function(e){var t=e.data;var s=A(p,t);i.resolve(s)})}else if(n&&n.type==="internalFilter"&&v&&s.filterResolutionRequest){jQuery.when(V(e,t),E(e,t)).then(function(e,t){var s=e.data;l(t.data,s);i.resolve(s)})}else if(v&&(s.preselectionDefaults&&s.preselectionDefaults.length>0||typeof s.preselectionFunction==="function")){V(e,t).then(function(e){var t=e.data;m=A(d,t);i.resolve(m)})}else if(v){V(e,t).then(function(e){i.resolve(e.data)})}else if(n&&n.type==="internalFilter"&&s.filterResolutionRequest){E(e,t).then(function(e){i.resolve(e.data)})}else if(Array.isArray(n)&&s.filterResolutionRequest&&!v){E(e,t).then(function(e){i.resolve(e.data)})}else if(Array.isArray(n)){r=A(p,r);i.resolve(r)}else if((s.preselectionDefaults&&s.preselectionDefaults.length>0||typeof s.preselectionFunction==="function")&&!v&&!s.filterResolutionRequest&&!n){if(this.isMultiSelection()){m=A(d,r)}else if(d.length>0){m=A([d[0]],r)}i.resolve(m)}else if((s.preselectionDefaults&&s.preselectionDefaults.length>0||typeof s.preselectionFunction==="function")&&s.filterResolutionRequest&&!n){if(this.isMultiSelection()){m=A(d,r)}else if(d.length>0){m=A([d[0]],r)}i.resolve(m)}else if(n&&n.type==="internalFilter"||!n){i.resolve(null)}return i.promise();function l(e,t){var i=N(t);for(var s=e.length-1;s>=0;s--){if(!i[e[s][this.getAliasNameIfExistsElsePropertyName()]]){t.unshift(e[s])}}}}function A(e,t){var s=i([],t);var n=N(t);var r;for(var l=e.length-1;l>=0;l--){if(!n[e[l]]){r={};r[this.getAliasNameIfExistsElsePropertyName()]=e[l];s.unshift(r)}else if(!h){e.splice(l,1)}}h=true;return s}function q(e){var t=jQuery.Deferred();var r;var a;var o;var u=this;if(l){if(!s.invisible){p(i([],l),e)}else{r=l;f()}}else if(typeof s.preselectionFunction==="function"&&!v){r=s.preselectionFunction();f()}else if(n&&n.type==="internalFilter"&&!s.filterResolutionRequest){t.resolve(n)}else if(s.preselectionDefaults===null&&!n){t.resolve([])}else if(s.filterResolutionRequest&&!n&&!v&&!(s.preselectionDefaults&&s.preselectionDefaults.length>0)){t.resolve(null)}else if(n&&n.type==="internalFilter"&&s.filterResolutionRequest){E(e,c).then(function(t){var s=P(t);p(i([],s),e)})}else if(v&&!Array.isArray(n)&&!(s.preselectionDefaults&&s.preselectionDefaults.length>0)&&!s.preselectionFunction){V(e,c).then(function(e){var t=P(e);if(this.isMultiSelection()){r=t}else{r=[t[0]]}f()}.bind(this))}else if(v&&!Array.isArray(n)&&(s.preselectionDefaults&&s.preselectionDefaults.length>0||s.preselectionFunction)){if(typeof s.preselectionFunction==="function"){a=s.preselectionFunction()}else{a=s.preselectionDefaults}p(i([],a),e)}else if(Array.isArray(n)){p(n,e)}else if(s.preselectionDefaults&&s.preselectionDefaults.length>0){r=s.preselectionDefaults;p(r,e)}else{t.resolve(null)}return t.promise();function f(){if(r&&r.type==="internalFilter"){t.resolve(r)}else{t.resolve(i([],r))}}function p(e,t){F(t,c).done(function(t){if(t!==null){r=[];o=N(t);e.forEach(function(e){if(o[e]){r.push(e)}});if(e.length!==0&&r.length===0&&s.preselectionDefaults!==null){r=P({data:t})}if(!u.isMultiSelection()){r=[r[0]]}if(l!==null){l=r}}else{r=null}f()})}}function E(i,r){var l;var o=jQuery.Deferred();if(i&&i!==r){return o.promise()}var u;if(Array.isArray(n)){u=new e(t.instances.messageHandler);n.forEach(function(e){u.addOr(this.getAliasNameIfExistsElsePropertyName(),"eq",e)}.bind(this))}else if(n instanceof e){u=n}else{u=new e(t.instances.messageHandler)}if(!a.isEmpty()){l=new e(t.instances.messageHandler);l.addAnd(a).addAnd(u)}else{l=u}if(y.lastMergedFilter&&y.lastMergedFilter.isEqual(l)){y.lastFilterResolutionPromise.done(function(e){o.resolve(e)})}else{y.lastMergedFilter=l.copy();y.lastFilterResolutionPromise=o;t.functions.createRequest(s.filterResolutionRequest).sendGetInBatch(l,f,undefined)}return o.promise();function f(e){o.resolve(e)}}function V(e,t){var i;if(s.valueHelpRequest){return b(e,t)}else if(s.valueList){i={data:A(s.valueList,[])};return jQuery.Deferred().resolve(i)}}function b(e,i){var n=jQuery.Deferred();var r={paging:{top:1e5,skip:0,inlineCount:true}};if(e&&i!==e){return n.promise()}if(g.lastRestriction&&g.lastRestriction.isEqual(a)){g.lastValueHelpPromise.done(function(e){n.resolve(e)})}else{g.lastRestriction=a.copy();g.lastValueHelpPromise=n;t.functions.createRequest(s.valueHelpRequest).sendGetInBatch(a,l,r)}return n.promise();function l(e){n.resolve(e)}}function P(e){var t=[];e.data.forEach(function(e){t.push(e[this.getAliasNameIfExistsElsePropertyName()])}.bind(this));return t}function N(e){var t={};e.forEach(function(e){var i=e[this.getAliasNameIfExistsElsePropertyName()];t[i]=true}.bind(this));return t}}t("sap.apf.utils.StartFilter",s);return s},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startFilterHandler", ["sap/apf/utils/filter","sap/apf/core/utils/filter","sap/apf/utils/exportToGlobal","sap/apf/utils/startFilter","sap/apf/utils/utils"],function(e,r,t,i,n){"use strict";function a(t){var a=[{isLevel:true}];var o=t&&t.constructors&&t.constructors.StartFilter||i;var s={};var f={};var u={};var l={};var c=t.instances.messageHandler;var v=jQuery.Deferred();var d=jQuery.Deferred();var p=false;var y=jQuery.Deferred();var g=0;var h=0;var m;var P=jQuery.Deferred();this.getStartFilters=function(){F().done(function(){v.resolve(D())});return v.promise()};this.setRestrictionByProperty=function(e){if(!m){m=jQuery.Deferred()}g++;var r=e.getInternalFilter();var i=r.getProperties()[0];s[i]=e;F();m.done(function(){var n=true;S().forEach(function(e){if(e.getPropertyName()===i){if(r.isDisjunctionOverEqualities()){var t=P.state()==="pending";e.setSelectedValues(A(r),t)}else{e.setContext(r)}n=false}});if(n){a.unshift(new o(t,{multiSelection:true,property:i,invisible:true,notConfigured:true},r))}if(y.state()==="resolved"){y=jQuery.Deferred()}if(t.functions.getFacetFilterConfigurations().length===0){y.resolve(b(j()))}f[i]=e;delete s[i];if(!u[i]){u[i]=e.serialize()}h++;if(h===g){O();P.resolve()}})};this.getRestrictionByProperty=function(r){if(f[r]){return f[r]}else if(s[r]){return s[r]}return new e(c)};this.getCumulativeFilter=function(){var e=jQuery.Deferred();var t=new r(c);var i;F().done(function(){i=S().length;if(i===0){e.resolve(new r(c))}y.done(function(i,n,a){var o;o=new r(c);if(i&&i.type==="internalFilter"){o=i}if(Array.isArray(i)){i.forEach(function(e){o.addOr(new r(c,a,"eq",e))})}if(n){t.addAnd(n).addAnd(o)}else{t=o}e.resolve(t)})});return e.promise()};this.serialize=function(e,r){var t=jQuery.Deferred();var i;var n;var a={};a.startFilters=[];a.restrictionsSetByApplication={};for(n in f){a.restrictionsSetByApplication[n]=f[n].serialize()}i=S().length;if(S().length>0){S().forEach(function(n){n.serialize(e,r).done(function(e){a.startFilters.push(e);i--;if(i===0){t.resolve(a)}})})}else{t.resolve(a)}return t.promise()};this.deserialize=function(r){var t=jQuery.Deferred();y.done(function(){var i=S();var n;var a;f={};r.startFilters.forEach(function(e){for(var r=0,t=i.length;r<t;r++){if(e.propertyName===i[r].getPropertyName()){i[r].deserialize(e)}}});for(n in r.restrictionsSetByApplication){a=new e(c);a.deserialize(r.restrictionsSetByApplication[n]);f[n]=a}y=jQuery.Deferred();O();y.done(function(){t.resolve()})});return t};this.resetAll=function(){var r;S().forEach(function(e){e.reset()});f={};for(r in u){f[r]=new e(c).deserialize(u[r])}O()};this.resetVisibleStartFilters=function(){D().forEach(function(e){e.reset()});var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){a[e].setRestriction(l[a[e].getPropertyName()])}};function F(){if(!p){p=true;t.instances.onBeforeApfStartupPromise.done(function(){t.functions.getReducedCombinedContext().done(function(e){var r=t.functions.getFacetFilterConfigurations();var i=e.getProperties();var s=i.length;var f=null;r.forEach(function(r){for(var u=0;u<s;u++){if(r.property===i[u]){f=i[u];break}}if(f){var l=N(e,f);if(n.isPropertyTypeWithDateSemantics(r.metadataProperty)){l=n.convertDateListToInternalFormat(l,r.metadataProperty)}a.push(new o(t,r,l));i.splice(i.indexOf(f),1);f=null}else{a.push(new o(t,r))}});i.forEach(function(r){a.unshift(new o(t,{property:r,invisible:true,multiSelection:true},N(e,r)))});if(!m){m=jQuery.Deferred();P.resolve()}m.resolve();P.done(function(){Q().done(function(){E();d.resolve()})})})})}return d}function E(){var e=w();e.forEach(function(t){t.getSelectedValues().done(i);function i(n,a){var o;var s=new r(c);var f;a.done(i);for(var u=0;u<e.length;u++){if(e[u]===t){o=u;break}}if(o===e.length-1){if(y.state()==="resolved"){y=jQuery.Deferred()}y.resolve(n,l[t.getPropertyName()],t.getPropertyName());return}else if(y.state()==="resolved"){y=jQuery.Deferred()}if(n&&n.type==="internalFilter"){s=n}else if(Array.isArray(n)){n.forEach(function(e){s.addOr(t.getPropertyName(),"eq",e)})}if(l[t.getPropertyName()]){if(s.isEmpty()){f=l[t.getPropertyName()].copy()}else{if(l[t.getPropertyName()].isOr()){f=new r(c);f.addAnd(l[t.getPropertyName()]).addAnd(s)}else{f=l[t.getPropertyName()].copy().addAnd(s)}}}else{f=s}l[e[o+1].getPropertyName()]=f;e[o+1].setRestriction(f)}})}function A(e){var r=[];e.getFilterTerms().forEach(function(e){r.push(e.getValue())});return r}function N(e,r){var t=[];var i=e.getFilterTermsForProperty(r);var n=e.restrictToProperties([r]);if(n.toUrlParam().indexOf("%20and%20")>-1){return n}for(var a=0,o=i.length;a<o;a++){if(i[a].getOp()!=="EQ"){return n}t.push(i[a].getValue())}return t}function D(){var e=[];S().forEach(function(r){if(r.isVisible()){e.push(r)}});return e}function w(){var e=false;var r=[];a.forEach(function(t){if(t.isLevel){e=true}else if(e===true){r.push(t)}});return r}function S(){var e=[];a.forEach(function(r){if(!r.isLevel){e.push(r)}});return e}function j(){var e=[];for(var r=0,t=a.length;r<t;r++){if(!a[r].isLevel){e.push(a[r])}else{break}}return e}function Q(){var e=jQuery.Deferred();t(b(j()));return e;function t(t){var i;var n=a.length;var o=t;var s=0;for(i=0;i<n;i++){if(a[i].isLevel){s=i+1;break}}if(a[s]){a[s].setRestriction(o);l[a[s].getPropertyName()]=o.copy();f(s)}else{y.resolve(b(j()));e.resolve()}function f(t){if(a[t+1]){a[t].getSelectedValues().done(function(e){var i=new r(c);if(e&&e.type==="internalFilter"){i.addOr(e)}else if(Array.isArray(e)){e.forEach(function(e){i.addOr(a[t].getPropertyName(),"eq",e)})}if(!i.isEmpty()){o.addAnd(i)}a[t+1].setRestriction(o);l[a[t+1].getPropertyName()]=o.copy();f(t+1)})}else{e.resolve()}}}}function b(e){var t=new r(c);e.forEach(function(e){var i=new r(c);e.getSelectedValues().done(function(r){if(r.type==="internalFilter"){i.addOr(r)}else{r.forEach(function(r){i.addOr(e.getPropertyName(),"eq",r)})}});t.addAnd(i)});return t}function O(){var e=0;var r=a.length;for(var t=0;t<r;t++){if(a[t].isLevel){e=t+1;break}}if(a[e]){var i=b(j());l[a[e].getPropertyName()]=i;a[e].setRestriction(i)}else{y.resolve(b(j()))}}}t("sap.apf.utils.StartFilterHandler",a);return a},true);
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/startParameter", ["sap/apf/utils/exportToGlobal"],function(a){"use strict";function t(a,t){var i=null;var e=null;var n=null;var p;var r;var s;var f;var o;var u;if(a&&a.getComponentData&&a.getComponentData()&&a.getComponentData().startupParameters){s=a.getComponentData().startupParameters;if(sap&&sap.flp&&sap.flp.FaasInitUtils&&sap.flp.FaasInitUtils.siteType&&sap.flp.FaasInitUtils.siteType=="flp"){if(s["sap-apf-configuration-id"]){u=s["sap-apf-configuration-id"][0].split(".");if(u.length===2){i=null}else{i=s["sap-apf-configuration-id"][0]}}}else if(s["sap-apf-configuration-id"]){i=s["sap-apf-configuration-id"][0]}if(s["sap-apf-step-id"]){e=s["sap-apf-step-id"][0]}if(s["sap-apf-representation-id"]){n=s["sap-apf-representation-id"][0]}if(s["sap-apf-app-config-path"]){p=s["sap-apf-app-config-path"][0]}if(s["evaluationId"]){r=s["evaluationId"][0]}if(s["sap-client"]){f=s["sap-client"][0]}if(s["sap-system"]){o=s["sap-system"][0]}}this.getSapSystem=function(){return o};this.getAnalyticalConfigurationId=function(){var a,t;if(!i){var e=new URLSearchParams(window.location.search);i=e.get("sap-apf-configuration-id")}if(i){t={};a=i.split(".");if(a.length===2){t.applicationId=a[0];t.configurationId=a[1]}else{t.configurationId=i}}return t};this.getSteps=function(){var a=new URLSearchParams(window.location.search);if(!e){e=a.get("sap-apf-step-id")}if(!n){n=a.get("sap-apf-representation-id")}if(!e){return null}return[{stepId:e,representationId:n}]};this.getXappStateId=function(){var a=/(?:sap-xapp-state=)([^&=]+)/;var t=a.exec(window.location.hash);if(t){return t[1]}return null};this.getApplicationConfigurationPath=function(){return p};this.getEvaluationId=function(){return r};this.isLrepActive=function(){if(t&&t.manifest&&t.manifest["sap.apf"]&&t.manifest["sap.apf"].activateLrep){return t.manifest["sap.apf"].activateLrep}return false};this.getSapClient=function(){return f};this.isFilterReductionActive=function(){if(s&&s["sap-apf-filter-reduction"]){return s["sap-apf-filter-reduction"][0]}if(t&&t.manifest&&t.manifest["sap.apf"]&&t.manifest["sap.apf"].activateFilterReduction){return t.manifest["sap.apf"].activateFilterReduction}return false};this.getParameter=function(a){if(s&&s[a]){return s[a][0]}var t=new URLSearchParams(window.location.search);return t.get(a)}}a("sap.apf.utils.StartParameter",t);return t},true);
/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2019 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/apf/utils/trace", [],function(){"use strict";var o={apfLogStyle:"color: blue; font-style: italic; background-color: wheat;padding: 1px",apfWarningStyle:"color: DarkMagenta; font-style: bold; background-color: wheat;padding: 1px",apfErrorStyle:"color: white; font-style: bold; background-color: red;padding: 1px",logCounter:0,_logBase:function(e,n,l,a,t,r,d,g,i){if(jQuery.sap.log.apfTrace===undefined){return}a=a===undefined?"":a||a;t=t===undefined?"":t||t;r=r===undefined?"":r||r;d=d===undefined?"":d||d;g=g===undefined?"":g||g;i=i===undefined?"":i||i;var u="%c%s %s %s ";window.console.log(u,e,n,o.logCounter,l,a,t,r,d,g,i)},log:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"-APF-",e,n,l,a,t,r,d)},logCall:function(e,n,l,a,t,r,d){++o.logCounter;o._logBase(o.apfLogStyle,">APF>",e,n,l,a,t,r,d)},logReturn:function(e,n,l,a,t,r,d){o._logBase(o.apfLogStyle,"<APF<",e,n,l,a,t,r,d);--o.logCounter},emphasize:function(e,n,l,a,t,r,d){o._logBase(o.apfWarningStyle,"-APF-",e,n,l,a,t,r,d)}};return o});
/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2018 SAP AG. All rights reserved
 */
sap.ui.predefine("sap/apf/utils/utils", ["sap/ui/core/format/DateFormat","sap/apf/utils/hashtable","sap/apf/utils/exportToGlobal","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";function a(e){var t=parseInt(e,10);if(t<10){return"0"+t}return e}var n;var i=0;var s={renderHeaderOfTextPropertyFile:function(e,t){var r=e.toLowerCase();var a=/^[0-9a-f]+$/;var n=a.test(r);if(!n||e.length!==32){t.putMessage(t.createMessageObject({code:"5409",aParameters:[e]}));r="<please enter valid translation uuid, if you want to upload into a SAP translation system>"}else{r=r.substring(0,8)+"-"+r.substring(8,12)+"-"+r.substring(12,16)+"-"+r.substring(16,20)+"-"+r.substring(20)}return"#FIORI: insert Fiori-Id\n"+"# __ldi.translation.uuid="+r+"\n"+"#ApfApplicationId="+e+"\n\n"},getUriParameters:function(){var e=new URLSearchParams(window.location.search);const t={};e.forEach((e,r)=>{t[r]??=[];t[r].push(e)});return t},createPromise:function(e,t){var r=jQuery.Deferred();if(!t){r.resolve(e)}else{setTimeout(function(){r.resolve(e)},t)}return r.promise()},renderTextEntries:function(e,t){n=false;var r=e.getKeys();r.sort(function(t,r){var a=e.getItem(t);var n=e.getItem(r);if(a.LastChangeUTCDateTime<n.LastChangeUTCDateTime){return-1}if(a.LastChangeUTCDateTime>n.LastChangeUTCDateTime){return 1}return 0});var a=r.length;var i="";var o;for(o=0;o<a;o++){i=i+s.renderEntryOfTextPropertyFile(e.getItem(r[o]),t)}return i},renderEntryOfTextPropertyFile:function(t,r){var a,i;if(!n&&(!t.TextElementType||!t.MaximumLength)){n=true;r.putMessage(r.createMessageObject({code:"5408",aParameters:[t.TextElement]}))}var s="#"+(t.TextElementType||"<Add text type>")+","+(t.MaximumLength||"<Add maximum length>");if(t.TranslationHint&&t.TranslationHint!==""){s=s+":"+t.TranslationHint}s=s+"\n"+t.TextElement+"="+t.TextElementDescription+"\n";var o=e.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});if(t.LastChangeUTCDateTime&&t.LastChangeUTCDateTime!==""){a=t.LastChangeUTCDateTime.replace(/\/Date\(/,"").replace(/\)\//,"");i=new Date(parseInt(a,10))}else{i=new Date}s=s+"# LastChangeDate="+o.format(i)+"\n\n";return s},eliminateDuplicatesInArray:function(e,t){e.check(t!==undefined&&typeof t==="object"&&t.hasOwnProperty("length")===true,"Error - aArray is undefined");var r=[];var a,n;for(a=0;a<t.length;a++){for(n=a+1;n<t.length;n++){if(t[a]===t[n]){n=++a}}r.push(t[a])}return r},hashCode:function(e){var t=0;var r;var a=0;e=e.toString();var n=e.length;for(r=0;r<n;r++){a=e.charCodeAt(r);t=17*t+a<<0}return Math.abs(t)},escapeOdata:function(e){if(typeof e==="string"){return e.replace("'","''")}return e},json2javascriptFormat:function(e,t){var r;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){return e}if(typeof e==="string"){return e.toLowerCase()==="true"}return false;case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.String":return e;case"Edm.Int16":case"Edm.Int32":return parseInt(e,10);case"Edm.Single":case"Edm.Float":return parseFloat(e);case"Edm.Time":return e;case"Edm.DateTime":r=e.replace("/Date(","").replace(")/","");r=parseFloat(r);return new Date(r);case"Edm.DateTimeOffset":r=e.replace("/Date(","");r=r.replace(")/","");r=parseFloat(r);return new Date(r);default:return e}},formatValue:function(t,r){function n(e){var t;var r=new RegExp("^[0-9]*$");if(e instanceof Date){return e}if(typeof e==="string"){if(e.substring(0,6)==="/Date("){t=e.replace("/Date(","");t=t.replace(")/","");t=parseInt(t,10);return new Date(t)}else if(e.length===8&&r.test(e)){return s.convertFiscalYearMonthDayToDate(e)}return new Date(e)}return undefined}var i;var o="";if(t===null||t===undefined){return"null"}var u=r.dataType.type;switch(u){case"Edm.String":if(r["sap-semantics"]==="yearmonthday"){if(typeof t==="object"&&t instanceof Date){var f=t.getUTCFullYear()+"";var c=a(t.getUTCMonth()+1+"");var m=a(t.getUTCDate()+"");t=f+c+m}}o="'"+String(t).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof t==="number"){i=new Date;i.setTime(t);var l=i.getUTCHours();if(l<10){l="0"+l}var p=i.getUTCMinutes();if(p<10){p="0"+p}var d=i.getUTCSeconds();if(d<10){d="0"+d}o="time'"+l+":"+p+":"+d+"'"}else{o="time'"+t+"'"}break;case"Edm.DateTime":if(!s.formatValue.oDateTimeFormat){s.formatValue.oDateTimeFormat=e.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"})}i=n(t);o=s.formatValue.oDateTimeFormat.format(i,true);break;case"Edm.DateTimeOffset":if(!s.formatValue.oDateTimeOffsetFormat){s.formatValue.oDateTimeOffsetFormat=e.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"})}i=n(t);o=s.formatValue.oDateTimeOffsetFormat.format(i,true);break;case"Edm.Guid":o="guid'"+t+"'";break;case"Edm.Decimal":o=t+"M";break;case"Edm.Int64":o=String(t)+"L";break;case"Edm.Single":o=t+"f";break;case"Edm.Binary":o="binary'"+t+"'";break;default:o=t;break}return o},extractFunctionFromModulePathString:function(e){if(typeof e==="function"){return e}var t,r,a;r=e.split(".");t=window;var n;for(n=0;n<r.length-1;n++){t=t[r[n]];if(!t){return undefined}}a=r[r.length-1];return t[a]},isValidGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},isValidPseudoGuid:function(e){return/^[0-9A-F]{32}$/.test(e)},createPseudoGuid:function(e){if(!e&&e!==0){e=32}var t=Date.now().toString();var r=e-t.length;t+=s.createRandomNumberString(r);return t},createRandomNumberString:function(e){var t="";var r,a,n;while(t.length<e){r=Math.min(10,e-t.length);a=Math.pow(10,r);n=o((new Date).getTime());t+=Math.floor(n*a)}return t},migrateConfigToCategoryStepAssignment:function(e,t){var r=t.constructors&&t.constructors.Hashtable||r;var a=new r(t.instances.messageHandler);if(e.steps){e.steps.forEach(function(e){if(e.categories){e.categories.forEach(function(t){var r=a.getItem(t.id);if(!r){r={category:t.id,steps:[{type:"step",id:e.id}]};a.setItem(t.id,r)}else{r.steps.push({type:"step",id:e.id})}});delete e.categories}})}if(e.categories){e.categories.forEach(function(e){if(!e.steps){var t=a.getItem(e.id);if(t){e.steps=t.steps}else{e.steps=[]}}})}},getComponentNameFromManifest:function(e){var t;if(e["sap.ui5"]&&e["sap.ui5"].componentName){t=e["sap.ui5"].componentName}else{t=e["sap.app"].id}if(t.search("Component")>-1){return t}return t+".Component"},validateSelectedValues:function(e,t){var r={valid:[],invalid:[]};if(!Array.isArray(e)||e.length===0){return r}if(!Array.isArray(t)||t.length===0){r.invalid=e;return r}e.forEach(function(e){if(t.includes(e)){r.valid.push(e)}else{r.invalid.push(e)}});return r},extractPathnameFromUrl:function(e){var t="a";var r;var a=document.createElement(t);a.href=e;if(a.pathname){r=a.pathname;if(r&&r[0]!=="/"){r="/"+r}return r}return e},extractOdataErrorResponse:function(e){var t;if(typeof e==="string"){t=JSON.parse(e)}else{t=e}var r=t&&t.error&&t.error.message&&t.error.message.value||t&&t.error&&t.error.message&&t.error.message||e;if(t&&t.error&&t.error.innererror&&t.error.innererror.errordetails){r=r+"\n";t.error.innererror.errordetails.forEach(function(e){r=r+e.message+"\n"})}else if(t&&t.error&&t.error.details){r=r+"\n";t.error.details.forEach(function(e){r=r+e.message+"\n"})}return r},checkAndCloseDialog:function(e){if(e!==undefined){if(typeof e.isA==="function"&&e.isA("sap.m.ViewSettingsDialog")){e.destroy()}else if(e.isOpen()){e.close()}}},convertFiscalYearMonthDayToDate:function(e){var t=parseInt(e.substr(0,4),10);var r=parseInt(e.substr(4,2),10);var a=parseInt(e.substr(6,2),10);return new Date(Date.UTC(t,r-1,a))},convertFiscalYearMonthDayToDateString:function(e){return s.convertFiscalYearMonthDayToDate(e).toUTCString()},convertDateListToInternalFormat:function(e,t){function r(e){var t=parseInt(e,10);if(t<10){return"200"+t}else if(t<100){return"20"+t}return e}if(!e||!e.length){return e}var n=[];e.forEach(function(e){var i,s,o,u,f;if(new RegExp("^[0-9]{1,2}\\.[0-9]{1,2}\\.[0-9]+$").test(e)){u=e.split(".");o=a(u[0]);s=a(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{1,2}/[0-9]{1,2}/[0-9]+$").test(e)){u=e.split("/");s=a(u[0]);o=a(u[1]);i=r(u[2])}else if(new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}").test(e)){i=e.slice(0,4);s=e.slice(5,7);o=e.slice(8,10)}if(i!==undefined&&s!==undefined&&o!==undefined){if(t.getAttribute("type")==="Edm.String"){n.push(i+s+o)}else{f=new Date(Date.UTC(parseInt(i,10),parseInt(s,10)-1,parseInt(o,10)));n.push(f)}}else{n.push(e)}});return n},convertToExternalFormat:function(t,r){var a=r.getAttribute("type");var n,i;var o;switch(a){case"Edm.DateTime":o=r.getAttribute("sap:display-format");if(o==="Date"&&t instanceof Date){n=e.getDateInstance({style:"short"});return n.format(t,true)}else if(o==="Date"&&typeof t==="string"){if(t.length===8){i=s.convertFiscalYearMonthDayToDate(t);n=e.getDateInstance({style:"short"});return n.format(i,true)}i=new Date(Date.parse(t));if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t.toString();case"Edm.String":o=r.getAttribute("sap:semantics");if(o==="yearmonthday"){if(t.length===8){i=s.convertFiscalYearMonthDayToDate(t)}else{i=new Date(Date.parse(t))}if(isNaN(i.getTime())){return t}n=e.getDateInstance({style:"short"});return n.format(i,true)}return t;default:return t}},sortByProperty:function(e,t,r){if(e.length===0){return[]}var a=r?r.type:undefined;var n=e[0][t];var i;if(typeof n==="number"){return e.sort(function(e,r){return e[t]-r[t]})}else if(typeof n==="object"&&n instanceof Date){return e.sort(function(e,r){return e[t].getTime()-r[t].getTime()})}else if(typeof n==="string"){switch(a){case"Edm.DateTime":return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])});case"Edm.String":i=r["sap:semantics"];if(i==="yearmonthday"&&n.length===8){return e.sort(function(e,r){return e[t].localeCompare(r[t])})}else if(i==="yearmonthday"){return e.sort(function(e,r){return Date.parse(e[t])-Date.parse(r[t])})}return e.sort(function(e,r){return e[t].localeCompare(r[t])});default:return e.sort(function(e,r){return e[t].localeCompare(r[t])})}}},isPropertyTypeWithDateSemantics:function(e){var t=e["type"];var r=e["sap:display-format"];return t==="Edm.DateTime"&&r==="Date"||t==="Edm.String"&&e["sap:semantics"]==="yearmonthday"}};function o(e){i++;var t,r,a;e=i.toString()+e.toString();t=s.hashCode(e);r=t.toString().length;a=t/Math.pow(10,r);return a}Object.keys(s).forEach(function(e){r("sap.apf.utils."+e,s[e])});return s},true);
sap.ui.require.preload({
	"sap/apf/base/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.base","type":"component","embeddedBy":"../","i18n":"../resources/i18n/apfUi.properties","title":"{{AnalysisPathFramework}}","description":"{{AnalysisPathFrameworkDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.fiori":{"registrationIds":["F1768"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ushell":{"minVersion":"1.30.0"},"sap.viz":{"minVersion":"1.30.0"},"sap.ui.comp":{"minVersion":"1.30.0"},"sap.suite.ui.commons":{"minVersion":"1.30.0"},"sap.ui.export":{"minVersion":"1.50.0"}}},"contentDensities":{"compact":false,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"../resources/i18n/apfUi.properties"}}}}',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShareDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n\txmlns:core="sap.ui.core" ><Dialog id="shareDialog" title="{value: \'shareConfiguration\', formatter: \'.translate\'}" contentWidth="750px" ><content><FlexBox direction="Column" ><FlexBox alignItems="Center" justifyContent="Center" ><items><FlexBox alignItems="Center" justifyContent="Center" ><layoutData><FlexItemData growFactor="1" /></layoutData><GenericTile id="tilePreview" header="{path: \'ui>/TileHeader\'}" subheader="{path: \'ui>/TileSubheader\'}" tooltip="{path: \'ui>/TileTooltip\'}" ><TileContent><ImageContent id="tileImage" src="{path: \'ui>/TileIcon\'}" /></TileContent></GenericTile></FlexBox><FlexBox alignItems="Center" justifyContent="Start" ><layoutData><FlexItemData growFactor="1" /></layoutData><f:SimpleForm id="formTile"\r\n\t\t\t\t\t\t\teditable="true"\r\n\t\t\t\t\t\t\tlayout="ResponsiveGridLayout"\r\n\t\t\t\t\t\t\tlabelSpanXL="3"\r\n\t\t\t\t\t\t\tlabelSpanL="3"\r\n\t\t\t\t\t\t\tlabelSpanM="3"\r\n\t\t\t\t\t\t\tlabelSpanS="3"\r\n\t\t\t\t\t\t\twidth="400px" ><f:content><Label id="labelHeader" text="{value: \'bookmarkHeader\', formatter: \'.translate\'}" labelFor="inputHeader" /><Input id="inputHeader" placeholder="{path: \'ui>/TileHeaderDefault\'}" liveChange="onHeaderChange" /><Label id="labelSubheader" text="{value: \'bookmarkSubheader\', formatter: \'.translate\'}" labelFor="inputSubheader" /><Input id="inputSubheader" placeholder="{value: \'bookmarkSubheaderDefault\', formatter: \'.translate\'}" liveChange="onSubheaderChange" /><Label id="labelIcon" text="{value: \'bookmarkIcon\', formatter: \'.translate\'}" labelFor="inputIcon" /><Input id="inputIcon" change="onIconChange" valueState="{path: \'ui>/TileIconValueState\'}" valueStateText="{value: \'bookmarkIconInvalid\', formatter: \'.translate\'}" /><Label id="labelGroup" text="{value: \'bookmarkGroup\', formatter: \'.translate\'}" labelFor="inputGroup" /><Input id="inputGroup" liveChange="onGroupChange" /></f:content></f:SimpleForm></FlexBox></items></FlexBox><FlexBox justifyContent="Center" ><Button id="buttonLink" text="{value: \'showLink\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://copy" press="onShowLink" class="sapUiMediumMarginEnd" tooltip="{value: \'showLinkTooltip\', formatter: \'.translate\'}" /><Button id="buttonEmail" text="{value: \'sendInEmail\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://email" press="onSendEmail" class="sapUiMediumMarginEnd" tooltip="{value: \'sendInEmailTooltip\', formatter: \'.translate\'}" /><Button id="buttonFavorite" text="{value: \'markAsFavorite\', formatter: \'.translate\'}" type="Transparent" icon="sap-icon://add-favorite" press="onMarkFavorite" class="sapUiMediumMarginEnd" tooltip="{value: \'markAsFavoriteTooltip\', formatter: \'.translate\'}" /></FlexBox><Input id="inputCopy" editable="false" visible="false" /></FlexBox></content><buttons><Button id="buttonClose" text="{value: \'close\', formatter: \'.translate\'}" press="onClose" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/fragment/ShowLinkDialog.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog\r\n\t\tid="showLinkDialog"\r\n\t\ttitle="{value: \'configurationLink\', formatter: \'.translate\'}"\r\n\t\ttype="Message"\r\n\t\tstate="None"\r\n\t\tbeforeOpen=".onBeforeOpen"\r\n\t\tafterOpen=".onAfterOpen"\r\n\t\tafterClose=".onAfterClose"><content><TextArea id="textAreaLink" width="100%" editable="false" growing="true"/></content><endButton><Button id="buttonCloseLinkDialog" text="{value: \'close\', formatter: \'.translate\'}" press=".onButtonClosePress"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/sharedialog/view/ShareDialog.view.xml":'<mvc:View\r\n\tcontrollerName="sap.apf.cloudFoundry.ui.sharedialog.controller.ShareDialog"\r\n\txmlns="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/CatalogBrowser.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><Dialog\r\n        id="catalogBrowser"\r\n        title="{path: \'ui>/Title\'}"\r\n        contentWidth="60%"\r\n        contentHeight="1000px"><subHeader><Bar visible="{path: \'ui>/SearchEnabled\'}"><contentMiddle><SearchField \r\n                        id="searchField"\r\n                        liveChange="onLiveChangeSearch"\r\n                        search="onSearch" /></contentMiddle></Bar></subHeader><content><NavContainer\r\n                id="navContainer"><ScrollContainer horizontal="false" vertical="true" height="100%"><List\r\n                        id="selectDestination"\r\n                        items="{destinations>/destinations}"><items><StandardListItem\r\n                                title="{destinations>name}"\r\n                                description="{destinations>description}"\r\n                                info="{destinations>url}"\r\n                                icon="{path: \'destinations>proxyType\', formatter: \'.proxyTypeIcon\'}"\r\n                                adaptTitleSize="false"\r\n                                type="Navigation"\r\n                                press="onSelectDestination" /></items></List></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><Table id="selectService"\r\n                        fixedLayout="false"\r\n                        sticky="ColumnHeaders"\r\n                        inset="false"\r\n                        items="{\r\n                            path: \'catalog>/ServiceCollection\',\r\n                            sorter: { path: \'TechnicalServiceName\', descending: false }\r\n                        }"><columns><Column><Text id="columnTextTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /></Column><Column\r\n                                minScreenWidth="Tablet"\r\n                                demandPopin="true"><Text id="columnTextUrl" text="{value: \'url\', formatter: \'.translate\'}" /></Column></columns><items><ColumnListItem type="Navigation" press="onSelectService" vAlign="Middle"><cells><ObjectIdentifier\r\n                                        title="{catalog>TechnicalServiceName}"\r\n                                        text="{catalog>Description}"/><Text\r\n                                        text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /></cells></ColumnListItem></items></Table></ScrollContainer><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="urlInputForm"\r\n                        editable="true"\r\n                        layout="ResponsiveGridLayout"\r\n                        labelSpanXL="1"\r\n                        labelSpanL="1"\r\n                        labelSpanM="1"\r\n                        labelSpanS="12"\r\n                        adjustLabelSpan="false"\r\n                        columnsXL="1"\r\n                        columnsL="1"\r\n                        columnsM="1"\r\n                        singleContainerFullSize="false" ><f:content><Label text="{value: \'url\', formatter: \'.translate\'}" /><ComboBox id="urlInput"\r\n                                placeholder="{value: \'serviceURLExample\', formatter: \'.translate\'}"\r\n                                valueState="{path: \'ui>/ServiceUrlValueState\'}"\r\n                                valueStateText="{value: \'serviceURLFormatWarning\', formatter: \'.translate\'}"\r\n                                showButton="false" /><Label /></f:content></f:SimpleForm></ScrollContainer><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.Overview" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewReduced" type="XML" /><core:Fragment fragmentName="sap.apf.cloudFoundry.ui.valuehelp.fragment.OverviewServiceOnly" type="XML" /></NavContainer></content><buttons><Button id="buttonOk" text="{value: \'ok\', formatter: \'.translate\'}" visible="{ui>/ButtonOkEnabled}" press="onOk" type="Emphasized" /><Button id="buttonSelect" text="{value: \'select\', formatter: \'.translate\'}" visible="{ui>/ButtonSelectEnabled}" press="onSelectServiceUrl" /><Button id="buttonBack" text="{value: \'back\', formatter: \'.translate\'}" visible="{ui>/ButtonBackEnabled}" press="onBack" /><Button id="buttonCancel" text="{value: \'cancel\', formatter: \'.translate\'}" press="onCancel" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/Overview.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="destinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="destinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="destinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="destinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="destinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="serviceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="serviceOverviewTechnicalServiceName" text="{value: \'technicalServiceName\', formatter: \'.translate\'}" /><Text text="{catalog>TechnicalServiceName}" /><Label id="serviceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>ServiceUrl\', formatter: \'.getRelativeServiceURL\'}" /><Label id="serviceOverviewDescription" text="{value: \'description\', formatter: \'.translate\'}" /><Text text="{catalog>Description}" /><Label id="serviceOverviewUpdatedDate" text="{value: \'updatedDate\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>UpdatedDate\', type: \'sap.ui.model.type.DateTime\'}" /><Label id="serviceOverviewTechnicalServiceVersion" text="{value: \'technicalServiceVersion\', formatter: \'.translate\'}" /><Text text="{path: \'catalog>TechnicalServiceVersion\'}" /><Label id="serviceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewReduced.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><f:SimpleForm id="reducedDestinationOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedDestination\', formatter: \'.translate\'}" /><f:content><Label id="reducedDestinationOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="reducedDestinationOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="reducedDestinationOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="reducedDestinationOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /></f:content></f:SimpleForm><f:SimpleForm id="reducedServiceOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><Title text="{value: \'selectedService\', formatter: \'.translate\'}" /><f:content><Label id="reducedServiceOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{ui>/Service}" /><Label id="reducedServiceOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/fragment/OverviewServiceOnly.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:l="sap.ui.layout"\r\n    xmlns:f="sap.ui.layout.form"\r\n    xmlns:core="sap.ui.core" ><ScrollContainer horizontal="false" vertical="true" height="100%"><MessageStrip text="{value: \'directServiceDestination\', formatter: \'.translate\'}" type="Information" showIcon="true" class="sapUiSmallMargin" /><f:SimpleForm id="serviceOnlyOverview"\r\n            editable="false"\r\n            layout="ResponsiveGridLayout"\r\n            labelSpanXL="3"\r\n            labelSpanL="3"\r\n            labelSpanM="3"\r\n            labelSpanS="12"\r\n            adjustLabelSpan="false"\r\n            columnsXL="1"\r\n            columnsL="1"\r\n            columnsM="1"\r\n            singleContainerFullSize="false" ><f:content><Label id="serviceOnlyOverviewName" text="{value: \'destinationName\', formatter: \'.translate\'}" /><Text text="{destinations>name}" /><Label id="serviceOnlyOverviewDescription" text="{value: \'destinationDescription\', formatter: \'.translate\'}" /><Text text="{destinations>description}" /><Label id="serviceOnlyOverviewProxyType" text="{value: \'destinationProxyType\', formatter: \'.translate\'}" /><Text text="{path: \'destinations>proxyType\', formatter: \'.proxyTypeText\'}" /><Label id="serviceOnlyOverviewUrl" text="{value: \'url\', formatter: \'.translate\'}" /><Text text="{destinations>url}" /><Label id="serviceOnlyOverviewStatus" text="{value: \'serviceStatus\', formatter: \'.translate\'}" /><ObjectStatus\r\n                    icon="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusIcon\'}"\r\n                    state="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusState\'}"\r\n                    text="{path: \'ui>/ServiceStatus\', formatter: \'.serviceStatusText\'}" /></f:content></f:SimpleForm></ScrollContainer></core:FragmentDefinition>\r\n',
	"sap/apf/cloudFoundry/ui/valuehelp/view/CatalogBrowser.view.xml":'<mvc:View\r\n    controllerName="sap.apf.cloudFoundry.ui.valuehelp.controller.CatalogBrowser"\r\n    xmlns="sap.m"\r\n    xmlns:mvc="sap.ui.core.mvc"></mvc:View>',
	"sap/apf/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.apf","type":"library","embeds":["base","modeler"],"applicationVersion":{"version":"1.141.0"},"title":"Analysis Path Framework","description":"Analysis Path Framework","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.141","libs":{"sap.ui.core":{"minVersion":"1.141.0"},"sap.suite.ui.commons":{"minVersion":"1.141.0"},"sap.m":{"minVersion":"1.141.0"},"sap.ui.layout":{"minVersion":"1.141.0"},"sap.ushell":{"minVersion":"1.141.0"},"sap.viz":{"minVersion":"1.141.0"},"sap.ui.comp":{"minVersion":"1.141.0"},"sap.ui.export":{"minVersion":"1.141.0"},"sap.ui.table":{"minVersion":"1.141.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/apf/modeler/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.apf.modeler","type":"component","embeddedBy":"../","i18n":"./resources/i18n/texts.properties","title":"{{configModelerTitle}}","description":"{{configModelerDescription}}","ach":"CA-EPT-ANL-APF","resources":"resources.json","offline":false,"dataSources":{"GatewayCatalogService":{"uri":"/sap/opu/odata/iwfnd/catalogservice;v=2"}},"crossNavigation":{"outbounds":{"navigateToGenericRuntime":{"semanticObject":"FioriApplication","action":"executeAPFConfiguration"}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","deviceTypes":{"desktop":true,"tablet":false,"phone":false},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","dependencies":{"libs":{"sap.ui.core":{"minVersion":"1.30.0"},"sap.m":{"minVersion":"1.30.0"},"sap.ui.layout":{"minVersion":"1.30.0"},"sap.ui.table":{"minVersion":"1.30.0"}}},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","viewPath":"sap.apf.modeler.ui.view","clearTarget":"false"},"routes":{"applicationList":{"pattern":"","view":"applicationList","targetAggregation":"pages","targetControl":"applicationList","subroutes":[{"pattern":"app/{appId}","view":"configurationList","name":"configurationList","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}","view":"configurationList","name":"configuration","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}","view":"configurationList","name":"category","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/facetFilter/{facetFilterId}","view":"configurationList","name":"facetFilter","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/smartFilter/{smartFilterId}","view":"configurationList","name":"smartFilterBar","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}","view":"configurationList","name":"step","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/category/{categoryId}/step/{stepId}/repn/{representationId}","view":"configurationList","name":"representation","targetAggregation":"pages"},{"pattern":"app/{appId}/config/{configId}/navigationTarget/{navTargetId}","view":"configurationList","name":"navigationTarget","targetAggregation":"pages"}]}}},"contentDensities":{"compact":true,"cozy":false},"config":{"fullWidth":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"./resources/i18n/texts.properties"}},"rootView":"sap.apf.modeler.ui.view.applicationList"}}',
	"sap/apf/modeler/ui/fragment/addMenu.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"><u:Menu id="idAddMenu"><u:MenuItem id="idNewConfig" enabled="true" select="_handleAddMenuItemPress" /><u:MenuItem id="idNewFacetFilter" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewCategory" enabled="true" select="_handleAddMenuItemPress"/><u:MenuItem id="idNewNavigationTarget" enabled="false" select="_handleAddMenuItemPress"/><u:MenuItem id="idStep" enabled="false" select="_handleAddMenuItemPress"><u:Menu><u:MenuItem id="idNewStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idHierarchicalStep" select="_handleAddMenuItemPress"/><u:MenuItem id="idExistingStep" select="_handleAddMenuItemPress"/></u:Menu></u:MenuItem><u:MenuItem id="idNewRepresentation" enabled="false" select="_handleAddMenuItemPress"/></u:Menu></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/deleteConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDeleteConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" initialFocus="idDeleteButton"><beginButton><Button xmlns="sap.m" id="idDeleteButton" press="handleConfirmDeletion" type="Emphasized"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButtonDialog" press="closeDialog"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/dialogWithTwoButtons.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idDialogWithTwoButtons" type="Message"\n\t\tclass="sapUiSizeCompact dialogContentPadding" afterClose="handleCancel" initialFocus="idBeginButtonForDialog"><content><Label xmlns="sap.m" id="idLabelForDialog" class="dialogText" /></content><beginButton><Button xmlns="sap.m" id="idBeginButtonForDialog"\n\t\t\t\tpress="handleBeginButtonDialogWithTwoButtons" /></beginButton><endButton><Button xmlns="sap.m" id="idEndButtonForDialog" press="handleCancel" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/existingStepDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><SelectDialog xmlns="sap.m" id="idExistingStepDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tmultiSelect="true" rememberSelections="false"\r\n\t\tconfirm="_handleExistingStepDialogOK" cancel="_handleExistingStepDialogClose"\r\n\t\tliveChange="_handleExistingStepDialogSearch"\r\n\t\titems="{path:\'/existingStepData\'}"><StandardListItem title="{name}"/></SelectDialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/exportConfiguration.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><Dialog xmlns="sap.m" id="idExportConfigDialog" icon="" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" initialFocus="idExportConfigDialog"><VBox><HBox><Link xmlns="sap.m" id="idDownloadConfig" press="_handleOpenConfigLinkPress" /></HBox><HBox><Link xmlns="sap.m" id="idDownloadTextProperty" press="_handleOpenTextsLinkPress" /></HBox></VBox><beginButton><Button xmlns="sap.m" id="idCloseButton" type="Default" width=""\r\n\t\t\t\tenabled="true" visible="true" press="_handleCloseOfExportDialog"></Button></beginButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/mandatoryDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMandatoryValidationDialog" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tshowHeader="true" type="Standard" state="Warning" initialFocus="idMandatoryValidationDialog"><beginButton><Button xmlns="sap.m" id="idYesButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handleValidationNavigation"></Button></beginButton><endButton><Button xmlns="sap.m" id="idNoButton" type="Default" enabled="true"\r\n\t\t\t\tvisible="true" iconFirst="true" iconDensityAware="true"\r\n\t\t\t\tpress="handlePreventNavigation"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/overwriteConfirmation.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idOverwriteConfirmationDialog"\r\n\t\tshowHeader="true" type="Standard" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tinitialFocus="idOverwriteConfirmationDialog" afterClose="handleCancelOfOverwriteDialog"><VBox xmlns="sap.m"><items><Text xmlns="sap.m" id="idConfirmationMessage" /><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\tid="idOverwriteConfigRadioGroup" select="handleChangeForOverwriteConfigOptions"\r\n\t\t\t\t\tariaLabelledBy="idConfirmationMessage"><buttons><RadioButton id="idOverwriteConfig" /><RadioButton id="idDoNotOverwriteConfig" /></buttons></RadioButtonGroup><HBox id="idNewConfigTitleLayout" class="newConfigTitleLabel"\r\n\t\t\t\t\tvisible="false"><items><Label xmlns="sap.m" id="idNewConfigTitleLabel" width="65px" /><Input xmlns="sap.m" id="idNewConfigTitleInput" editable="true"\r\n\t\t\t\t\t\t\twidth="290px" ariaLabelledBy="idNewConfigTitleLabel"></Input></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idOkButton" press="handleOkButtonPress" /></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelOfOverwriteDialog" /></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/textpoolCleanupConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog id="idTextpoolCleanupConfirmation" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" ariaDescribedBy="textpoolCleanupConfirmation" initialFocus="idConfirmTextpoolCleanupButton"><beginButton><Button id="idConfirmTextpoolCleanupButton" press="handleConfirmTextpoolCleanup"></Button></beginButton><endButton><Button id="idCancelTextpoolCleanupButton" press="handleCancelTextpoolCleanup"></Button></endButton></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/fragment/unsavedDataConfirmationDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\r\n\txmlns:core="sap.ui.core"><Dialog xmlns="sap.m" id="idMessageDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" type="Standard" state="Warning" initialFocus="idMessageDialog"><buttons><Button xmlns="sap.m" id="idYesButton" press="handleNavigationWithSave"></Button><Button xmlns="sap.m" id="idNoButton" press="handleNavigationWithoutSave"></Button><Button xmlns="sap.m" id="idCancelButton" press="handlePreventNavigation"></Button></buttons></Dialog></core:FragmentDefinition>',
	"sap/apf/modeler/ui/view/application.view.xml":'<mvc:View resourceBundleAlias="i18n" xmlns:mvc="sap.ui.core.mvc"\r\n\txmlns="sap.m" xmlns:f="sap.ui.layout.form"><Button xmlns="sap.m" id="idButton"></Button></mvc:View>\r\n\r\n',
	"sap/apf/modeler/ui/view/applicationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.applicationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><App xmlns="sap.m" id="applicationList" height="100%" width="100%"\r\n\t\tbackgroundRepeat="false" backgroundOpacity="1"><Page id="idAppPage" showNavButton="true" enableScrolling="false"\r\n\t\t\tnavButtonPress="handleNavBack"><content><VBox xmlns="sap.m" id="idAppLayout"><items><Panel width="auto"><HBox xmlns="sap.m" alignItems="Start" justifyContent="SpaceBetween"><items><Label xmlns="sap.m" id="idAppTitle" class="applicationTitle"/></items></HBox></Panel><Toolbar id="idApplicationToolbar" class="applicationTitleLayout"><content><Label xmlns="sap.m" id="idAppNumberTitle" class="appCountLabel"></Label><Label xmlns="sap.m" id="idAppCount" class="applicationCount"></Label><ToolbarSpacer/><SearchField liveChange="onSearch" id="idApplicationListSearchField" width="300px" class="sapUiSmallMarginEnd"/><Button xmlns="sap.m" id="idNewButton"\r\n\t\t\t\t\t\t\t\t\ttype="Transparent" press="handleAddNewAppPress" class="newButton" /><Button xmlns="sap.m" id="idImportButton" type="Transparent" press="handleImportPress"/></content></Toolbar><ScrollContainer xmlns="sap.m" id="idAppListScrollContainer"\r\n\t\t\t\t\t\t\tclass="applicationListScroll" width="100%" horizontal="true"\r\n\t\t\t\t\t\t\tvertical="true"><Table xmlns="sap.m" id="idApplicationTable" inset="false"\r\n\t\t\t\t\t\t\t\trememberSelections="true" mode="None"\r\n\t\t\t\t\t\t\t\titems="{/Objects}"\r\n\t\t\t\t\t\t\t\titemPress="handleListItemPress"><columns><Column><Label xmlns="sap.m" id="idDescriptionLabel" /></Column><Column id="idSemanticObjectColumn"><Label xmlns="sap.m" id="idSemanticObjectLabel" /></Column><Column id="idTextpoolCleanupColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column id="idEditColumn" width="5%"><Label xmlns="sap.m" text=""/></Column><Column xmlns="sap.m" width="5%" demandPopin="true"><Label text="" /></Column></columns><items><ColumnListItem type="Navigation" vAlign="Middle"><cells><Text xmlns="sap.m" id="idAppDescription" text="{description}"/><Text xmlns="sap.m" id="idSemanticObject" text="{semanticObject}"/><Button id="idTextpoolCleanupIcon" icon="sap-icon://attachment-text-file"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleTextpoolCleanupPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForTextpoolCleanup"></Button><Button id="idEditIcon" icon="sap-icon://edit" \r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleEditPress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForEdit"></Button><Button id="idDeleteIcon" icon="sap-icon://delete"\r\n\t\t\t\t\t\t\t\t\t\t\t\tpress="handleDeletePress" type="Transparent"\r\n\t\t\t\t\t\t\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForDelete"></Button></cells></ColumnListItem></items></Table></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForEdit" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDelete" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForTextpoolCleanup" /></content></Page></App></mvc:View>',
	"sap/apf/modeler/ui/view/catalogService.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.catalogService"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><SelectDialog id="idGatewayCatalogListDialog"\r\n\t\tcontentHeight="60%" class="dialogPadding" search="handleSearch"\r\n\t\tconfirm="handleConfirm" cancel="handleCancel" multiSelect="false"\r\n\t\titems="{\r\n\t\t\tpath: \'/ServiceCollection\',\r\n\t\t\tsorter: { path: \'ServiceUrl\', descending: false}\r\n\t\t}"><StandardListItem\r\n\t\t\ttitle="{ path: \'ServiceUrl\', formatter: \'.handleFormatting\'}" /></SelectDialog></mvc:View>',
	"sap/apf/modeler/ui/view/category.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.category" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idCategoryform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idCategoryBasicData" level="H4" /><Label xmlns="sap.m" id="idCategoryTitleLabel" required="true" /><Input xmlns="sap.m" id="idCategoryTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idTotalStepsLabel" /><Input xmlns="sap.m" id="idTotalSteps" editable="false" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configuration.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configuration" xmlns:core="sap.ui.core"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:f="sap.ui.layout.form"\r\n\txmlns:l="sap.ui.layout"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idConfigform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idConfigurationBasicData" level="H4" /><Label xmlns="sap.m" id="idConfigTitleLabel" required="true" /><Input xmlns="sap.m" id="idConfigTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeDetailValue" /><Label xmlns="sap.m" id="idConfigurationIdLabel" /><Input xmlns="sap.m" id="idConfigurationId" editable="false" /><Label xmlns="sap.m" id="idSemanticObjectLabel" /><Input xmlns="sap.m" id="idSemanticObject" editable="false" /><Label xmlns="sap.m" id="idNoOfCategoriesLabel" /><Input xmlns="sap.m" id="idNoOfCategories" editable="false" /><Label xmlns="sap.m" id="idNoOfStepsLabel" /><Input xmlns="sap.m" id="idNoOfSteps" editable="false" /><core:Title id="idFilterTypeData" level="H4" /><Label xmlns="sap.m" id="idFilterTypeLabel" width="100%" /><VBox xmlns="sap.m" id="idFilterTypeRadioGroupVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idFilterTypeRadioGroup" select="handleChangeForFilterType"\r\n\t\t\t\t\t\t\t\t\tenabled="false"\tariaLabelledBy="idAriaPropertyForFilterRadioGp"><buttons><RadioButton id="smartFilterBar" app:value="smartFilterBar" /><RadioButton id="facetFilter" app:value="facetFilter" class="facetFilterRadioLabel"/><RadioButton id="none" app:value="none" /></buttons></RadioButtonGroup></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForFilterRadioGp" /></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/configurationList.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.configurationList"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:t="sap.apf.modeler.ui.utils"><Page xmlns="sap.m" showNavButton="true" showHeader="true"\r\n\t\tenableScrolling="false" showFooter="true" id="configPage"\r\n\t\tnavButtonPress="handleNavBack"><content><Label xmlns="sap.m" id="idConfigTitleMaster" design="Standard"\r\n\t\t\t\ttext="Configuration" visible="true" textAlign="Begin" textDirection="Inherit"\r\n\t\t\t\twidth="" required="false"></Label><HBox xmlns="sap.m" id="idHorizontalLayout" visible="true"><items><VBox xmlns="sap.m" id="idConfigMasterData" visible="true"\r\n\t\t\t\t\t\twidth="34%"><items><ScrollContainer id="idMasterScroll" vertical="true" horizontal="false" ><t:APFTree id="idConfigTree" mode="SingleSelectMaster" toggleOpenState="_handleToggleTreeNode" \r\n\t\t\t\t\t\t\t\tselect="_onTreeNodeSelection" items="{/aConfigDetails}" includeItemInSelection="{selectable}"><StandardTreeItem title="{name}" icon="{icon}"></StandardTreeItem></t:APFTree></ScrollContainer></items></VBox><VBox xmlns="sap.m" id="idConfigDetail" visible="true" width="66%"><l:Grid defaultSpan="L12 M12 S12" id="idConfigDetailData" /></VBox></items></HBox></content><footer><Bar xmlns="sap.m" id="idFooterBarMain" visible="true"><contentRight><Button xmlns="sap.m" id="idSavebutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleSavePress"></Button><Button xmlns="sap.m" id="idCancelbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="true" visible="true" press="handleNavBack"></Button><Button xmlns="sap.m" id="idExportbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="_handleExportButtonPress"></Button><Button xmlns="sap.m" id="idExecuteButton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="true" press="handleExecuteButtonPress"></Button><Button xmlns="sap.m" id="idPublishbutton" type="Default"\r\n\t\t\t\t\t\twidth="" enabled="false" visible="false" press="handlePublishPress"></Button></contentRight></Bar></footer></Page><core:InvisibleText id="idAriaPropertyForBreadCrumb" /></mvc:View>',
	"sap/apf/modeler/ui/view/cornerTexts.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\tlayout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\temptySpanS="2" columnsL="1" columnsM="1"><f:content><core:Title id="idThumbnailTexts" level="H4" /><Input xmlns="sap.m" id="idLeftUpper" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftUpperCornerTextKey" /><core:CustomData key="getLeftUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightUpper" editable="true" width="60%"\r\n\t\t\t\tchange="handleChangeForCornerText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightUpperCornerTextKey" /><core:CustomData key="getRightUpperCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightUpperCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Icon xmlns="sap.ui.core" id="idChartIcon" color="black"\r\n\t\t\t\tvisible="true" decorative="true" size="30px" tooltip="sampleChart"><layoutData><GridData xmlns="sap.ui.layout" span="L12 M12 S12" /></layoutData></Icon><Input xmlns="sap.m" id="idLeftLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setLeftLowerCornerTextKey" /><core:CustomData key="getLeftLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getLeftLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input><Input xmlns="sap.m" id="idRightLower" editable="true"\r\n\t\t\t\tchange="handleChangeForCornerText" width="60%" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><customData><core:CustomData key="setRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="setRightLowerCornerTextKey" /><core:CustomData key="getRightLowerCornerTextKey"\r\n\t\t\t\t\t\tvalue="getRightLowerCornerTextKey" /></customData><layoutData><GridData xmlns="sap.ui.layout" span="L6 M6 S6" /></layoutData></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/editApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.editApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"><Dialog xmlns="sap.m" id="idEditAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" initialFocus="idDescriptionInput"><VBox><items><HBox class="newAppLayout"><items><Label id="idDescriptionLabel" required="true"\r\n\t\t\t\t\t\t\twidth="110px" labelFor="idDescriptionInput" /><Input id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\trequired="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox class="newAppLayout" id="idSemanticObjectBox"><items><Label id="idSemanticObjectLabel" width="110px" /><Input id="idSemanticObjectInput" liveChange="handleSemanticObjectLiveChange"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><buttons><Button id="idSaveButton" enabled="false" press="handleSavePress" /><Button id="idCancelButton" press="handleCancelPress" /></buttons></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/facetFilter.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.facetFilter"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idFacetFilterVBox" visible="true" width="100%"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idFFForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idFacetFilterBasicData" level="H4" /><Label xmlns="sap.m" id="idFFLabel" width="100%" required="true" /><Input xmlns="sap.m" id="idLabel" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForLabel" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><Label xmlns="sap.m" id="idFFPropertyLabel" width="100%"\r\n\t\t\t\t\t\t\trequired="true" /><Select xmlns="sap.m" id="idFFProperty" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%" autoAdjustWidth="false"\r\n\t\t\t\t\t\t\tforceSelection="false" change="handleChangeForProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idDoNotShowAtRuntimeLabel" width="100%" /><CheckBox xmlns="sap.m" id="idDoNotShowAtRuntimeCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="true" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForVisibilityAtRuntime"></CheckBox><Label xmlns="sap.m" id="idSelectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idSelectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idSelectionModeRadioGroup" select="handleChangeForSelectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForSelection"><buttons><RadioButton id="idSingleSelectionMode" /><RadioButton id="idMultiSelectionMode" /></buttons></RadioButtonGroup></items></VBox><core:Title id="idDefaultValuesTitle" level="H4" /><Label xmlns="sap.m" id="idPreselectionModeLabel" width="100%" /><VBox xmlns="sap.m" id="idPreselectionMode" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m"\r\n\t\t\t\t\t\t\t\t\tid="idPreselectionModeRadioGroup" select="handleChangeForPreselectionMode"\r\n\t\t\t\t\t\t\t\t\tariaLabelledBy="idAriaPropertyForDefaultMode"><buttons><RadioButton id="idNoneSelection" /><RadioButton id="idAutomaticSelection" /><RadioButton id="idFixedValue" /><RadioButton id="idFunction" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idPreselectionDefaultsLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idPreselectionDefaults" width="100%" visible="false"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionDefaults" showValueHelp="false" /><Label xmlns="sap.m" id="idPreselectionFunctionLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" required="true" /><Input xmlns="sap.m" id="idPreselectionFunction" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForPreselectionFunction" visible="false" /><core:Title id="idValueHelpTitle" level="H4" /></f:content><Label xmlns="sap.m" id="idValueHelpLabel" width="100%" /><VBox xmlns="sap.m" id="idValueHelp" visible="true"\r\n\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup xmlns="sap.m" id="idValueHelpRadioGroup"\r\n\t\t\t\t\t\t\t\tselect="handleChangeForValueHelpOption" ariaLabelledBy="idAriaPropertyForVHR"><buttons><RadioButton id="idVHNone" /><RadioButton id="idValueHelpRequest" /><RadioButton id="idConfigListOfValues" /></buttons></RadioButtonGroup></items></VBox><Label xmlns="sap.m" id="idConfigListOfValuesLabel" width="100%"\r\n\t\t\t\t\t\tvisible="false" required="true" /><MultiInput id="idConfigListOfValuesMultiInput" width="100%" visible="false"\r\n\t\t\t\t\t\tchange="handleChangeForConfigListOfValues" showValueHelp="false" /></f:SimpleForm><VBox id="idVHRVBox" /><f:SimpleForm id="idFFForm1" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idFilterResolutionTitle" level="H4" /><Label xmlns="sap.m" id="idUseVHRAsFRRCheckBoxLabel" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" /><CheckBox xmlns="sap.m" id="idUseVHRAsFRRCheckBox"\r\n\t\t\t\t\t\t\tselected="false" width="0px" visible="false" enabled="true"\r\n\t\t\t\t\t\t\tactiveHandling="true" select="handleChangeForUseVHRAsFRRCheckBox"></CheckBox></f:content></f:SimpleForm><VBox id="idFRRVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForSelection" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDefaultMode" /><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForVHR" /></mvc:View>',
	"sap/apf/modeler/ui/view/importDeliveredContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importDeliveredContent"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\r\n\tclass="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportDeliveredContentDialog"\r\n\t\tshowHeader="true" class="sapUiSizeCompact dialogContentPadding"\r\n\t\tcontentWidth="700px" initialFocus="idImportDeliveredContentDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idConfigLabel" class="importFileUploaderDialogLabels" /><ComboBox xmlns="sap.m" id="idAppConfigCombobox"\r\n\t\t\t\t\tshowSecondaryValues="true" items="{/Objects}"\r\n\t\t\t\t\tselectionChange="handleSelectionChangeOfAppConfigTextField" change="handleChangeOfAppConfigTextField"\r\n\t\t\t\t\tclass="appCofigCombo" ariaLabelledBy="idConfigLabel"><core:ListItem text="{applicationText}"\r\n\t\t\t\t\t\tadditionalText="{configurationText}" app:value="{value}"></core:ListItem></ComboBox></HBox></VBox><beginButton><Button xmlns="sap.m" id="idImportOfConfig" press="handleImportPress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/importFiles.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.importFiles"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idImportFilesDialog" showHeader="true"\r\n\t\tafterOpen="addAcceptAttribute"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" initialFocus="idImportFilesDialog" afterClose="handleCancelOfImportFilesDialog"><VBox xmlns="sap.m"><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idJsonFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idJsonFileUploader"\r\n\t\t\t\t\tclass="jsonfileuploader" fileType="json" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForJSONFile" uploadComplete="handleJSONFileUploadComplete"\r\n\t\t\t\t\tsameFilenameAllowed="true" ariaLabelledBy="idJsonFileLabel"></FileUploader></HBox><HBox xmlns="sap.m"><Label xmlns="sap.m" id="idTextFileLabel" class="importFileUploaderDialogLabels" textAlign="Center" width="170px"/><FileUploader xmlns="sap.ui.unified" id="idTextFileUploader"\r\n\t\t\t\t\tclass="propertiesfileuploader" fileType="properties" width="600px"\r\n\t\t\t\t\ttypeMissmatch="handleTypeMissmatchForPropertiesFile"\r\n\t\t\t\t\tuploadComplete="handleTextFileUploadComplete" sameFilenameAllowed="true"\r\n\t\t\t\t\tariaLabelledBy="idTextFileLabel"></FileUploader></HBox></VBox><beginButton><Button xmlns="sap.m" id="idUploadOfConfig" press="handleUploadOfConfig"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelImportOfConfig" press="handleCancelOfImportFilesDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/messageHandler.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.messageHandler"\r\n\txmlns:mvc="sap.ui.core.mvc" class="sapUiSizeCompact"></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTarget.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.navigationTarget"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact"><VBox xmlns="sap.m" id="idNavTargetform" visible="true"\r\n\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="2" emptySpanM="2"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formBottomPadding"><f:content><core:Title id="idNavigationTargetHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idSemanticObjectLabel" required="true" /><ComboBox xmlns="sap.m" id="idSemanticObjectField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" maxWidth="100%"\r\n\t\t\t\t\t\t\tchange="handleChangeSemanticObjectValue"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idActionLabel" required="true" /><ComboBox xmlns="sap.m" id="idActionField" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="100%" maxWidth="100%"\r\n\t\t\t\t\t\t\tchange="handleChangeofAction" items="{/Objects}"><core:Item key="{id}" text="{id}" /></ComboBox><Label xmlns="sap.m" id="idDescriptionLabel" /><Input xmlns="sap.m" id="idDescription" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForTitleText" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /></Input><core:Title id="idNavigationParametersHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idUseDynamicParametersCheckBoxLabel" width="100%"></Label><HBox\r\n\t\t\t\t\t\t\talignItems="Start"\r\n\t\t\t\t\t\t\tjustifyContent="Start"><items><CheckBox xmlns="sap.m" id="idUseDynamicParametersCheckBox"\r\n\t\t\t\t \t\t\t\t\tselect="handleChangeForUseDynamicParameters"/><Button xmlns="sap.m" type="Transparent" id="idDisplayHelpAboutDynamicParameters" press="displayHelpAboutDynamicParameters" icon="sap-icon://sys-help"/></items></HBox><VBox id="idNavigationParameterBox"><layoutData><l:GridData span="L12 M12 S12" /></layoutData></VBox><core:Title id="idNavigationTargetTypeHeaderLabel" level="H4" /><Label xmlns="sap.m" id="idNavigationTargetTypeLabel" /><Select xmlns="sap.m" id="idNavigationTargetTypeField"\r\n\t\t\t\t\t\t\tvisible="true" enabled="true" width="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeOfNavigationTargetType"\r\n\t\t\t\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label xmlns="sap.m" id="idAssignedStepsLabel" visible="false" /><MultiComboBox xmlns="sap.m" id="idAssignedStepsCombo"\r\n\t\t\t\t\t\t\tenabled="true" visible="false" editable="true" valueState="None"\r\n\t\t\t\t\t\t\tselectionFinish="handleChangeForAssignedSteps" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{stepKey}" text="{stepName}" /></MultiComboBox><core:Title id="idContextMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idContextMappingVBox" /></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/navigationTargetParameter.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idNavigationTargetParameterForm" maxContainerCols="1"\r\n\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding"><f:content><Label xmlns="sap.m" id="idNavigationParametersLabel"></Label><Input xmlns="sap.m" id="idNavigationParametersKey" change="onKeyEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><Input xmlns="sap.m" id="idNavigationParametersValue" change="onValueEntered"><layoutData><l:GridData span="L3 M3 S3" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L2 M2 S2" /></layoutData><items><Button id="idAddNavigationParameter" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t\t press="onPlus" ariaDescribedBy="idAriaPropertyForAdd"></Button><Button id="idRemoveNavigationParameter" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t\tpress="onMinus" \r\n\t\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/newApplication.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.newApplication"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" id="idNewAppDialog" showHeader="true"\r\n\t\tclass="sapUiSizeCompact dialogContentPadding" initialFocus="idDescriptionInput"><VBox xmlns="sap.m"><items><HBox xmlns="sap.m" class="newAppLayout"><items><Label xmlns="sap.m" id="idDescriptionLabel" required="true" textAlign="Center"\r\n\t\t\t\t\t\t\twidth="135px" labelFor="idDescriptionInput" /><Input xmlns="sap.m" id="idDescriptionInput" liveChange="handleAppDescriptionLiveChange"\r\n\t\t\t\t\t\t\trequired="true" ariaLabelledBy="idDescriptionLabel" /></items></HBox><HBox xmlns="sap.m" class="newAppLayout" id="idSemanticObjectBox"><items><Label xmlns="sap.m" id="idSemanticObjectLabel" textAlign="Center"\r\n\t\t\t\t\t\t       width="135px" labelFor="idSemanticObjectInput"/><Input xmlns="sap.m" id="idSemanticObjectInput"\r\n\t\t\t\t\t\t\tariaLabelledBy="idSemanticObjectLabel" /></items></HBox></items></VBox><beginButton><Button xmlns="sap.m" id="idSaveButton" enabled="false"\r\n\t\t\t\tpress="handleSavePress"></Button></beginButton><endButton><Button xmlns="sap.m" id="idCancelButton" press="handleCancelPress" /></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/previewContent.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.previewContent"\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" class="sapUiSizeCompact"><Dialog xmlns="sap.m" type="Standard" id="idPreviewContentDialog"\n\t\t class="previewDialogStyle" afterClose="handleClose"><VBox xmlns="sap.m" id="idThumbnail" height="240px" width="30%"\n\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\n\t\t\trenderType="Div" justifyContent="Start" alignItems="Start"\n\t\t\tclass="previewThumbnailHolder"><items></items></VBox><VBox xmlns="sap.m" id="idMainChart" width="70%" displayInline="false"\n\t\t\tdirection="Column" fitContainer="false" renderType="Div"\n\t\t\tjustifyContent="End" alignItems="End"\n\t\t\tclass="previewTable previewMainChartHolder"><items></items></VBox><endButton><Button xmlns="sap.m" id="idCloseButtonDialog" press="handleCloseButtonOfDialog"></Button></endButton></Dialog></mvc:View>',
	"sap/apf/modeler/ui/view/propertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idPropertyTypeForm" maxContainerCols="1"\r\n\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\temptySpanM="1" emptySpanS="1" columnsL="1" columnsM="1" width="100%"\r\n\t\tclass="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForBasicDataGroup"><core:InvisibleText id="idAriaPropertyForBasicDataGroup"/><f:content><Label id="idPropertyTypeLabel"><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Label><Select id="idPropertyType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForPropertyTypeAsPromise" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idPropertyTypeLayout" span="L2 M2 S2" /></layoutData></Select><Select id="idLabelDisplayOptionType" visible="true" enabled="true"\r\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForLabelDisplayOptionType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L2 M2 S2" /></layoutData></Select><Label id="idPropertyLabel"><layoutData><l:GridData span="L2 M2 S1" /></layoutData></Label><Input id="idPropertyLabelText" editable="true"\r\n\t\t\t\tchange="handleChangeForLabelText" showSuggestion="true"\r\n\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestions"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData span="L3 M3 S2" /></layoutData></Input><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData span="L1 M1 S1" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" ariaDescribedBy="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\tpress="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>',
	"sap/apf/modeler/ui/view/propertyTypeHandler.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\tvisible="true" xmlns="sap.m"\r\n\tcontrollerName="sap.apf.modeler.ui.controller.propertyTypeHandler"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idPropertyTypeVBox" /></mvc:View>',
	"sap/apf/modeler/ui/view/representation.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.representation"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\txmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idRepresentationform" visible="true"\r\n\t\twidth="100%" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="1" columnsL="1" columnsM="1"><f:content><core:Title id="idVisualization" level="H4" /><Label xmlns="sap.m" id="idChartTypeLabel"><layoutData><GridData xmlns="sap.ui.layout" span="L2 M2 S2" /></layoutData></Label><Select xmlns="sap.m" id="idChartType" visible="true"\r\n\t\t\t\t\t\t\tenabled="true" width="95%" maxWidth="100%" type="Default"\r\n\t\t\t\t\t\t\tautoAdjustWidth="false" change="handleChangeForChartType" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><GridData xmlns="sap.ui.layout" span="L4 M4 S4" /></layoutData></Select></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idBasicData" level="H4" /><VBox xmlns="sap.m" id="idBasicDataLayout" width="100%"\r\n\t\t\t\t\t\t\tvisible="true" displayInline="false" direction="Column"\r\n\t\t\t\t\t\t\tfitContainer="false" renderType="Div" justifyContent="Start"\r\n\t\t\t\t\t\t\talignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm id="idSecondForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="3" labelSpanM="4" labelSpanS="4" emptySpanL="1"\r\n\t\t\t\t\temptySpanM="1" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formTopPadding"><f:content><core:Title id="idSorting" level="H4" /><VBox xmlns="sap.m" id="idSortLayout" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm><f:SimpleForm maxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="3"\r\n\t\t\t\t\tlabelSpanM="4" labelSpanS="4" emptySpanL="1" emptySpanM="1"\r\n\t\t\t\t\temptySpanS="2" columnsL="1" columnsM="1" class="formTopPadding"><f:content><VBox xmlns="sap.m" id="idCornerTextsVBox" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="false"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"></VBox></f:content></f:SimpleForm></ScrollContainer></items></VBox></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/requestOptions.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\n\tvisible="true" xmlns:f="sap.ui.layout.form" xmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idRequestOptionsForm" maxContainerCols="1"\n\t\teditable="true" layout="ResponsiveGridLayout"\n\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\n\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1" width="100%"><f:content><Label id="idSourceLabel" /><Input id="idSource" editable="true" showValueHelp="true"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\n\t\t\t\tchange="handleChangeForSourceAsPromise" valueHelpRequest="handleShowValueHelpRequest"\n\t\t\t\tsuggest="handleSuggestionsForSource"><core:Item key="{key}" text="{name}" /></Input><Label id="idEntityLabel" /><Select id="idEntity" visible="true" enabled="true" width="100%"\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForEntity" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalPropertyLabel" visible="false" /><Select id="idOptionalProperty" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idSelectPropertiesLabel" /><MultiComboBox id="idSelectProperties" value="" width="100%"\n\t\t\t\tenabled="true" visible="true" valueState="None" editable="true"\n\t\t\t\tselectionFinish="handleChangeForSelectProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /></MultiComboBox><Label id="idOptionalRequestFieldLabel" visible="false" /><Select id="idOptionalRequestField" visible="false" enabled="true"\n\t\t\t\twidth="100%" maxWidth="100%" type="Default" autoAdjustWidth="false"\n\t\t\t\tchange="handleChangeForOptionalRequestField" items="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Select id="idOptionalLabelDisplayOptionType" visible="false"\n\t\t\t\tenabled="true" width="100%" maxWidth="100%" type="Default"\n\t\t\t\tautoAdjustWidth="false" change="handleChangeForOptionalLabelDisplayOptionType"\n\t\t\t\titems="{/Objects}"><core:Item key="{key}" text="{name}" /></Select><Label id="idOptionalSelectedPropertyLabel" visible="false"></Label><Input id="idOptionalSelectedPropertyLabelText" editable="true"\n\t\t\t\tvisible="false" change="handleChangeForOptionalSelectedPropertyLabelText"\n\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}" suggest="handleSuggestionsForSelectedPropertyLabel"><core:Item key="{key}" text="{name}" /></Input></f:content></f:SimpleForm></mvc:View>',
	"sap/apf/modeler/ui/view/smartFilterBar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.smartFilterBar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"\r\n\tclass="sapUiSizeCompact"><VBox xmlns="sap.m" id="idSFBVBox" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><VBox id="idSFBRequestVBox"></VBox></ScrollContainer></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/sortPropertyType.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:l="sap.ui.layout" visible="true" xmlns:f="sap.ui.layout.form"\r\n\txmlns="sap.m" class="sapUiSizeCompact"><f:SimpleForm id="idSortPropertyTypeForm"\r\n\t\tmaxContainerCols="1" editable="true"\r\n\t\tlayout="ResponsiveGridLayout" labelSpanL="3" labelSpanM="4"\r\n\t\tlabelSpanS="4" emptySpanL="1" emptySpanM="1" emptySpanS="1" columnsL="1"\r\n\t\tcolumnsM="1" width="100%" class="formTopPadding formBottomPadding" ariaLabelledBy="idAriaPropertyForSortGroup"><core:InvisibleText id="idAriaPropertyForSortGroup"/><f:content><Label id="idSortLabel"><layoutData><l:GridData id="idGridSortLabel" /></layoutData></Label><Select id="idSortProperty" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortProperty" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortProperty" /></layoutData></Select><Label id="idSortDirectionLabel"><layoutData><l:GridData id="idGridSortDirectionLabel" /></layoutData></Label><Select id="idSortDirection" visible="true" width="100%"\r\n\t\t\t\tmaxWidth="100%" type="Default" autoAdjustWidth="false"\r\n\t\t\t\tchange="handleChangeForSortDirection" items="{/Objects}"><core:Item key="{key}" text="{name}" /><layoutData><l:GridData id="idGridSortDirection" /></layoutData></Select><HBox xmlns="sap.m" id="idIconLayout" class="plusMinusLayout"><layoutData><l:GridData id="idGridIconLayout" /></layoutData><items><Button id="idAddPropertyIcon" icon="sap-icon://add" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfAddPropertyIcon" ariaDescribedBy="idAriaPropertyForAdd"></Button><Button id="idRemovePropertyIcon" icon="sap-icon://less" type="Transparent"\r\n\t\t\t\t\t\t press="handlePressOfRemovePropertyIcon" \r\n\t\t\t\t\t\tariaDescribedBy="idAriaPropertyForDelete"></Button></items></HBox></f:content></f:SimpleForm><core:InvisibleText id="idAriaPropertyForAdd" /><core:InvisibleText id="idAriaPropertyForDelete" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/step.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.step"\r\n\txmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\r\n\txmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout" class="sapUiSizeCompact viewInline"><VBox xmlns="sap.m" id="idStepform" visible="true" displayInline="false"\r\n\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\tjustifyContent="Start" alignItems="Stretch"><items><ScrollContainer vertical="true"><f:SimpleForm id="idBasicDataForm" maxContainerCols="1"\r\n\t\t\t\t\teditable="true" layout="ResponsiveGridLayout"\r\n\t\t\t\t\tlabelSpanL="4" labelSpanM="4" labelSpanS="4" emptySpanL="2"\r\n\t\t\t\t\temptySpanM="2" emptySpanS="2" columnsL="1" columnsM="1"\r\n\t\t\t\t\tclass="formBottomPadding"><f:content><core:Title id="idStepBasicData" level="H4" /><Label id="idStepTitleLabel" required="true" /><Input id="idStepTitle" editable="true" change="handleChangeForStepTitle"\r\n\t\t\t\t\t\t\tshowSuggestion="true" suggestionItems="{/Objects}"\r\n\t\t\t\t\t\t\tsuggest="handleSuggestionsForStepTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idStepLongTitleLabel" /><Input id="idStepLongTitle" editable="true"\r\n\t\t\t\t\t\t\tchange="handleChangeForStepLongTitle" showSuggestion="true"\r\n\t\t\t\t\t\t\tsuggestionItems="{/Objects}" suggest="handleSuggestionsForStepLongTitle"><core:Item key="{key}" text="{name}" /></Input><Label id="idCategoryTitleLabel" required="true" /><MultiComboBox id="idCategorySelect" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForCategory" items="{/Objects}"><core:Item key="{CategoryId}" text="{CategoryTitle}" /></MultiComboBox><core:Title id="idDataRequest" level="H4" /></f:content></f:SimpleForm><VBox id="idStepRequestVBox" /><f:SimpleForm id="idDataReductionForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><core:Title id="idDataReduction" level="H4" /><Label id="idDataReductionLabel" width="100%" visible="true" /><VBox id="idDataReductionRadioButton" visible="true"\r\n\t\t\t\t\t\t\tdisplayInline="false" direction="Column" fitContainer="true"\r\n\t\t\t\t\t\t\trenderType="Div" justifyContent="Start"><items><RadioButtonGroup id="idDataReductionRadioGroup"\r\n\t\t\t\t\t\t\t\t\tselect="handleChangeForDataReductionType" ariaLabelledBy="idAriaPropertyForDataReduction"><buttons><RadioButton groupName="groupDataReduction" id="idNoDataReduction" /><RadioButton groupName="groupDataReduction" id="idTopN" /></buttons></RadioButtonGroup></items></VBox><Label id="idNumberOfRecordsLabel" width="100%" required="true"\r\n\t\t\t\t\t\t\tvisible="false" /><Input id="idNumberOfRecordsValue" busy="false" width="100%"\r\n\t\t\t\t\t\t\tvisible="false" type="Number" enabled="true"\r\n\t\t\t\t\t\t\tliveChange="handleValidationForNumberOfRecords" change="handleChangeForNoOfRecords"></Input></f:content></f:SimpleForm><VBox id="idSortLayout" visible="true" displayInline="false"\r\n\t\t\t\t\tdirection="Column" fitContainer="false" renderType="Div"\r\n\t\t\t\t\tjustifyContent="Start" alignItems="Stretch"></VBox><f:SimpleForm id="idFilterMappingHeaderForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding"><f:content><core:Title id="idFilterMapping" level="H4" /></f:content></f:SimpleForm><VBox id="idStepFilterMappingVBox" visible="false" /><f:SimpleForm id="idFilterMapKeepSourceAndNavTargetForm"\r\n\t\t\t\t\tmaxContainerCols="1" editable="true"\r\n\t\t\t\t\tlayout="ResponsiveGridLayout" labelSpanL="4" labelSpanM="4"\r\n\t\t\t\t\tlabelSpanS="4" emptySpanL="2" emptySpanM="2" emptySpanS="2"\r\n\t\t\t\t\tcolumnsL="1" columnsM="1" class="formTopPadding formBottomPadding"><f:content><Label id="idFilterMapKeepSourceLabel" visible="false" /><CheckBox xmlns="sap.m" id="idFilterKeepSourceCheckBox"\r\n\t\t\t\t\t\t\tvisible="false" selected="false" select="handleFilterMapKeepSource" /><core:Title id="idNavigationTarget" level="H4" /><Label id="idStepSpecificLabel" /><MultiComboBox id="idStepSpecificCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="true"\r\n\t\t\t\t\t\t\tselectionChange="handleChangeForStepSpecificNavTargets" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox><Label id="idGlobalLabel" /><MultiComboBox id="idGlobalCombo" enabled="true"\r\n\t\t\t\t\t\t\tvisible="true" valueState="None" editable="false" items="{/Objects}"\r\n\t\t\t\t\t\t\twidth="100%"><core:Item key="{navTargetKey}" text="{navTargetName}" /></MultiComboBox></f:content></f:SimpleForm><VBox id="idStepCornerTextVBox" /></ScrollContainer></items></VBox><InvisibleText xmlns="sap.ui.core" id="idAriaPropertyForDataReduction" /></mvc:View>\r\n',
	"sap/apf/modeler/ui/view/titleBreadCrumb.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.titleBreadCrumb"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><VBox xmlns="sap.m" id="idFormTitleLayout" visible="true" height=""\r\n\t\twidth="" displayInline="false" direction="Column" fitContainer="false"\r\n\t\trenderType="Div" justifyContent="Start" alignItems="Stretch"><items><Text xmlns="sap.m" id="IdFormTitle" textDirection="Inherit"\r\n\t\t\t\tvisible="true" wrapping="true" textAlign="Begin" width="" class="formTitle"></Text><l:HorizontalLayout xmlns="sap.m" id="IdBreadCrumb"\r\n\t\t\t\tvisible="true" class="breadCrumb"></l:HorizontalLayout></items></VBox></mvc:View>',
	"sap/apf/modeler/ui/view/toolbar.view.xml":'<mvc:View controllerName="sap.apf.modeler.ui.controller.toolbar"\r\n\txmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout"><Toolbar xmlns="sap.m" id="idTreeToolbar" visible="true" width="100%"\r\n\t\tactive="false" enabled="true" design="Auto"><content><FlexBox alignItems="Start" width="100%"><items><Button xmlns="sap.m" id="idAddButton" type="Default" width="100%"\r\n\t\t\t\t\t\tpress="_handlePressAddButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idCopyButton" enabled="false"\r\n\t\t\t\t\t\twidth="100%" type="Default" press="_handlePressCopyButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idDeleteButton" type="Default"\r\n\t\t\t\t\t\tenabled="false" width="100%" press="_handlePressDeleteButton"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveUp" type="Default" width="100%"\r\n\t\t\t\t\t\tpress="_handlePressMoveUpButton" icon="sap-icon://up"><layoutData><FlexItemData growFactor="1" /></layoutData></Button><Button xmlns="sap.m" id="idMoveDown" type="Default" width="100%"\r\n\t\t\t\t\t\tpress="_handlePressMoveDownButton" icon="sap-icon://down"><layoutData><FlexItemData growFactor="1" /></layoutData></Button></items></FlexBox></content></Toolbar></mvc:View>',
	"sap/apf/ui/reuse/view/layout.view.xml":'\r\n<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:fiori="sap.f" xmlns:l="sap.ui.layout"\r\n\tcontrollerName="sap.apf.ui.reuse.controller.layout" xmlns="sap.m" class="layoutView"><Page id="applicationPage" xmlns="sap.m" showNavButton="true" floatingFooter = "true" showHeader="false"\r\n\t\tnavButtonPress="handleNavBack" showFooter="true" enableScrolling="false" class="apfAppPage"><content><l:Splitter id="idSplitter" orientation="Vertical"><ScrollContainer xmlns="sap.m" id="subHeader" width="100%"><layoutData><l:SplitterLayoutData id="idSplitterLayoutData" size="127px" ></l:SplitterLayoutData></layoutData></ScrollContainer><SplitApp xmlns="sap.m" id="applicationView" mode="ShowHideMode"><layoutData><l:SplitterLayoutData size="auto"></l:SplitterLayoutData></layoutData><masterPages><Page xmlns="sap.m" id="analysisPath" showHeader="false" showFooter="true" enableScrolling="false"><content><fiori:DynamicPage id="analysisDynamicPage" preserveHeaderStateOnScroll="false" showFooter="false"><fiori:title><fiori:DynamicPageTitle areaShrinkRatio="1:5:0"><fiori:content><Title id="analysisPathTitle" text="" /></fiori:content><fiori:actions><Button id="menuButton" type="Transparent" icon="sap-icon://drop-down-list" press="showMenu" ariaLabelledBy="analysisPathTitle"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Button></fiori:actions></fiori:DynamicPageTitle></fiori:title></fiori:DynamicPage></content><footer><Bar xmlns="sap.m" id="deviceFooter" class="applicationFooter" ></Bar></footer></Page></masterPages><detailPages><Page xmlns="sap.m" id="stepContainer" showFooter="false" showHeader="false" enableScrolling="false"/></detailPages></SplitApp></l:Splitter></content><footer><Bar xmlns="sap.m" id="masterFooter" class="applicationFooter" ></Bar></footer></Page></mvc:View>\r\n',
	"sap/apf/ui/reuse/view/pathFilterDisplay.view.xml":'\r\n<mvc:View xmlns:mvc="sap.ui.core.mvc" controllerName="sap.apf.ui.reuse.controller.pathFilterDisplay" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Dialog id="pathFilterDisplayDialog" showHeader="false" resizable="true" draggable="true" afterClose=".onClose"><content><NavContainer id="navContainer"><pages><Page id="stepPage"><subHeader><Bar class="filterMargin"><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items = "{path: \'/\', templateShareable:false}"><CustomListItem type="Navigation" press=".onStepPress" class="sapUiSmallMargin"><content><HBox class="sapUiSmallMargin" width="100%" wrap="Wrap"><items><VBox class="sapUiSmallMargin" width="100%"><items><Label text="{text}" design="Bold" tooltip="{text}"/><Label text="{parts:[\'selectablePropertyLabel\', \'filterValues\'], formatter: \'.getDescriptionForStep\'}"/></items></VBox><HBox justifyContent="End" alignItems="Center" width="100%"><items><core:Icon src="sap-icon://message-warning" class="sapUiSmallMarginBegin" visible="{warningIcon}" tooltip="{warningText}"/><core:Icon src="sap-icon://message-information" class="sapUiSmallMarginBegin" visible="{infoIcon}" tooltip="{infoText}"/></items></HBox></items></HBox></content></CustomListItem></List></content></Page><Page id="filterValuesPage" title="{text}" showNavButton="true" navButtonPress=".onBackPress" app:stepIndex="{stepIndex}"><subHeader><Bar><contentLeft><SearchField liveChange=".onSearch"/></contentLeft></Bar></subHeader><content><List items="{filterValues}"><StandardListItem title="{text}"/></List></content></Page></pages></NavContainer></content><beginButton><Button visible="false" press=".onCloseAndNavigatePress" type="Emphasized"></Button></beginButton><endButton><Button press=".onCloseButton"/></endButton></Dialog></mvc:View>'
});
//# sourceMappingURL=library-preload.js.map
