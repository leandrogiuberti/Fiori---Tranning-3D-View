sap.ui.define(["sap/apf/utils/utils","sap/ui/core/format/DateFormat","sap/apf/core/constants"],function(e,t,n){"use strict";var a=function(a,i){var s=i.instances.messageHandler;var r=t.getDateTimeInstance({pattern:"yyyy/MM/dd HH:mm:ss"});var l;var u=a.split(/\r?\n/);var c=u.length;var o,p;var f=-1;var m=-1;var g;var h,v,T;var x=false;var A={Application:undefined,TextElements:[],Messages:[]};var d=false;function L(e,t){var n=s.createMessageObject({code:e,aParameters:[t]});A.Messages.push(n)}function M(e){L(11013,e)}function D(e){L(5411,e)}function y(t,n){var a=e.isValidGuid(t);if(!a){L(5412,n);return false}return true}function E(e){L(5415,e)}function H(e){L(5412,e)}for(o=0;o<c;o++){if(!x){var C=/^\#\s*ApfApplicationId=[0-9A-F]+\s*$/.exec(u[o]);if(C!==null){A.Application=u[o].split("=")[1];if(!e.isValidGuid(A.Application)){A.Application="";M(o)}x=true;continue}}if(u[o]===""){continue}if(d){d=false;continue}if(m===o&&/^\#\s*LastChangeDate/.exec(u[o])){T=u[o].split("=");if(T.length===2){l=r.parse(T[1]);if(!l){E(o);g.LastChangeUTCDateTime=""}else{g.LastChangeUTCDateTime="/Date("+l.getTime()+")/"}A.TextElements.push(g)}else{E(o)}g=null;continue}if(f===o){T=u[o].split("=");if(T.length>1){if(T[0]==="AnalyticalConfigurationName"){m=0;d=true;continue}if(y(T[0],o)){g.TextElement=T[0];g.TextElementDescription=T[1];for(p=2;p<T.length;p++){g.TextElementDescription+="="+T[p]}}else{H(o)}}else{D(o)}continue}h=/^\#(X|Y)[A-Z]{3},[0-9]+:/.exec(u[o]);if(h){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint=u[o].match(/:\s*[0-9a-zA-Z\s]+$/);g.TranslationHint=g.TranslationHint[0].substring(1);f=o+1;m=o+2}else{v=/^\#(X|Y)[A-Z]{3},[0-9]+/.exec(u[o]);if(v){if(f===o){D(o)}g={};g.Language=n.developmentLanguage;g.Application=A.Application;g.TextElementType=u[o].match(/(X|Y)[A-Z]{3}/)[0];g.MaximumLength=u[o].match(/,[0-9]+/);g.MaximumLength=parseInt(g.MaximumLength[0].substring(1),10);g.TranslationHint="";f=o+1;m=o+2}}}if(!x){L(5410,0)}return A};return a},true);
//# sourceMappingURL=parseTextPropertyFile.js.map