{"version":3,"file":"startFilterHandler.js","names":["sap","ui","define","UtilsFilter","CoreFilter","exportToGlobal","OriginalStartFilter","utils","StartFilterHandler","inject","startFilters","isLevel","StartFilter","constructors","restrictionsSetByApplicationBeforeInit","restrictionsSetByApplication","restrictionsInitiallySetByApplication","restrictionsBuffer","msgH","instances","messageHandler","deferredStartFilters","jQuery","Deferred","initializationPromise","isInitialized","propagationPromise","numberOfRestrictions","numberOfInitializedRestrictions","initializeForRestrictionsDeferred","restrictionsSetDeferred","this","getStartFilters","initialize","done","resolve","getVisibleStartFilters","promise","setRestrictionByProperty","filter","internalFilter","getInternalFilter","propertyName","getProperties","isNewStartFilterRequired","forEach","startFilter","getPropertyName","isDisjunctionOverEqualities","isSetInititally","state","setSelectedValues","getListFromFilter","setContext","unshift","multiSelection","property","invisible","notConfigured","functions","getFacetFilterConfigurations","length","buildRestrictiveFilters","getMinusOneLevelFilters","serialize","triggerPropagation","getRestrictionByProperty","getCumulativeFilter","deferred","result","numberOfStartFilters","selectedValues","restrictions","disjointTerms","type","Array","isArray","value","addOr","addAnd","isNavigation","keepInitialStartFilterValues","restrictedProperty","serializedStartFilterHandler","serializedStartFilter","push","deserialize","externalFilter","i","len","resetAll","initiallyRestrictedProperty","reset","resetVisibleStartFilters","indexFirstConfiguredStartFilter","setRestriction","onBeforeApfStartupPromise","getReducedCombinedContext","externalContextFilter","facetFilterConfigurations","externalContextProperties","numberOfExternalContextProperties","filterPropertyToBeMerged","config","contextValues","createContextForStartFilter","isPropertyTypeWithDateSemantics","metadataProperty","convertDateListToInternalFormat","splice","indexOf","setRestrictionsOnConfiguredFilters","registerGetSelectedValuesPromises","getConfiguredStartFilters","getSelectedValues","onGetSelectedValues","values","startFilterIndex","filterSelectedValues","isEmpty","copy","isOr","getFilterTerms","term","getValue","termsForProperty","getFilterTermsForProperty","reducedFilter","restrictToProperties","toUrlParam","getOp","visibleStartFilters","isVisible","levelFound","configuredStartFilters","realStartFilters","minusOneLevelFilters","setRestrictions","restrictiveFilter","cumulativeFilter","propagateResolvedSelectionAsRestriction","index","filters","restriction"],"sources":["startFilterHandler-dbg.js"],"mappings":"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","ignoreList":[]}