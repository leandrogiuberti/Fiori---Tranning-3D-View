/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/apf/utils/exportToGlobal","sap/base/util/deepExtend","sap/base/util/merge"],function(e,t,r){"use strict";function n(e){var n=e.instances.messageHandler;var i=1;var s=[];var a={};this.add=function(t){if(!c(t)){n.putMessage(n.createMessageObject({code:"5301"}))}a[i]=u(t);s.push(i);e.functions.setRestrictionByProperty(t);return i++};this.update=function(t,r){if(typeof t==="number"){if(t<=0||t>=i){n.putMessage(n.createMessageObject({code:"5100",aParameters:["Passed invalid numeric identifier during update of path filter"]}));return}}else if(!t||typeof t!=="string"){n.putMessage(n.createMessageObject({code:"5100",aParameters:['Passed falsity (0,"",undefined,null) or an object as identifier during update of path filter']}));return}var s=u(r);if(a[t]&&a[t]!==s){n.putMessage(n.createMessageObject({code:"5100",aParameters:["Updating filter with different property not allowed"]}));return}if(!c(r)){n.putMessage(n.createMessageObject({code:"5301"}))}e.functions.setRestrictionByProperty(r);a[t]=s};this.get=function(t){switch(typeof t){case"number":n.check(t>0&&t<i,"Passed unknown numeric identifier during get from path context handler");break;case"string":n.check(a[t],"Passed unknown string identifier during get from path context handler");break;default:n.check(false,"Filter Id handler - wrong type of the id parameter in get")}return e.functions.getRestrictionByProperty(a[t])};this.getAllInternalIds=function(e){return r([],s)};this.serialize=function(){return t({},a)};this.deserialize=function(e){i=1;var r;for(r in e){if(typeof f(r)==="number"){i++}}a=t({},e)};function u(e){return e.getInternalFilter().getProperties()[0]}function f(e){if(isNaN(Number(e))){return e}return Number(e)}function c(e){var t=e.getInternalFilter();var r=t.getProperties();if(r.length>1){return false}var n=new i;t.traverse(n);return n.isAccepted();function i(){var e=this;var t=false;var r=false;var n=true;this.isAccepted=function(){return n};this.processEmptyFilter=function(){return};this.processTerm=function(e){var i=e.getOp();if(!r&&!t){if(i==="GE"||i==="LE"||i==="EQ"){return}}if(r&&(i==="GE"||i==="LE")){return}if(t&&i==="EQ"){return}n=false};this.processAnd=function(t,n){if(n&&n.length>0){r=true}this.process(t);n.forEach(function(t){e.process(t)})};this.processOr=function(r,n){if(n&&n.length>0){t=true}this.process(r);n.forEach(function(t){e.process(t)})};this.process=function(e){if(t&&r){n=false}if(!n){return}e.traverse(this)}}}}e("sap.apf.utils.FilterIdHandler",n);return n},true);
//# sourceMappingURL=filterIdHandler.js.map