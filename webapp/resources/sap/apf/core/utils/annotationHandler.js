sap.ui.define(["sap/apf/utils/exportToGlobal","sap/ui/model/odata/ODataUtils"],function(n,t){"use strict";var e=function(n){var e=n.manifests&&n.manifests.manifest;var i=e&&e["sap.app"].dataSources;var s=n.functions.getSapSystem();var a=e&&e["sap.ui5"]&&e["sap.ui5"].dependencies&&e["sap.ui5"].dependencies.libs&&e["sap.ui5"].dependencies.libs["sap.apf"]&&e["sap.ui5"].dependencies.libs["sap.apf"].minVersion;this.getAnnotationsForService=function(n){if(!i){return r(n)}return f(n)};function r(e){if(!(typeof a==="string")||a<"1.44.0"){var i=n.functions.getODataPath(e)+"annotation.xml";if(s){i=t.setOrigin(i,{force:true,alias:s})}if(n.instances.fileExists.check(i)){return[i]}}return[]}function o(n){if(n&&n[n.length-1]==="/"){n=n.substring(0,n.length-1)}var t;if(!n){return n}var e=n.split(";");var i=e[0];for(t=1;t<e.length;t++){if(e[t].search("o=")===-1){i=i+";"+e[t]}}return i}function u(n,t){var e=o(n);var i=o(t);return e===i}function f(e){var a=[];var o;for(o in i){if(u(i[o].uri,e)){var f=i[o].settings&&i[o].settings.annotations;if(f){f.forEach(c)}else{return r(e)}return a}}return r(e);function c(e){var r=i[e]&&i[e].uri;var o=i[e]&&i[e].settings&&i[e].settings.localUri;var u;if(r){if(s){r=t.setOrigin(r,{force:true,alias:s})}a.push(r)}if(o&&o[0]!=="/"){var f=n.functions.getComponentNameFromManifest(n.manifests.manifest);u=n.functions.getBaseURLOfComponent(f);a.push(n.functions.addRelativeToAbsoluteURL(u,o))}else if(o&&o[0]==="/"){a.push(o)}}}};n("sap.apf.core.utils.AnnotationHandler",e);return{constructor:e}},true);
//# sourceMappingURL=annotationHandler.js.map