{"version":3,"file":"step.js","names":["sap","ui","define","trace","filter","areRequestOptionsEqual","exportToGlobal","utils","utilsFilter","executeFilterMapping","coreConstants","MetadataProperty","deepExtend","extend","jQuery","Step","oMessageHandler","oStepConfig","oFactory","sRepresentationId","oCoreApi","check","undefined","binding","id","message","code","errorCheckConfiguration","oLabelDisplayOptions","representationMetadata","labelDisplayOptions","that","this","oBinding","oRequest","oCachedFilter","oCachedRequestOptions","filterMappingCache","responseData","oAdditionalConfigurationProperties","type","title","longTitle","thumbnail","categories","destroy","getRequestConfiguration","getConfigurationById","request","getAdditionalConfigurationProperties","update","oFilterForRequest","callbackAfterRequest","selectionValidationRequest","selectionValidationRequestFilter","getFilter","bFilterChanged","isEqual","oCurrentRequestOptions","getRequestOptions","bRequestOptionsChanged","requestConfig","logCall","getMetadata","service","then","metadata","log","isEmpty","topNSettings","getSelectedRepresentation","requiredFilter","getProperties","requiredFilterProperties","requiredFilterTextProperty","getPropertyMetadata","entityType","push","selectionFilter","sendGetInBatch","logReturn","determineFilter","oCumulatedFilter","callbackFromStepFilterProcessing","newCumulativeFilter","oMergedFilter","adjustCumulativeFilter","mappingRequired","toUrlParam","oRequestConfig","filterMapping","requestForMappedFilter","selectProperties","target","slice","targetPropertyDisplayOption","TEXT","KEY_AND_TEXT","done","propertyMetadata","text","doExecuteFilterMapping","call","bind","oMappingRequest","createRequest","addAnd","copy","mergedFilter","mappedFilter","localCallback","oMappedFilter","oMessageObject","keepSource","getBinding","getContextInfo","oRequestConfiguration","oContextInfo","setData","oDataResponse","oFilterThatHasBeenUsedToRetrieveData","getRepresentationInfo","getSelectedRepresentationInfo","setSelectedRepresentation","getFilterInformation","activeStep","index","filterInformationDeferred","Deferred","key","getTextNotHtmlEncoded","when","getSelectionInformation","getFilterMappingInformation","selectionInformation","filterMappingInformation","resolve","filterMappingDeferred","mappedPropertyLabel","targetPropertyLabelKey","mappedProperty","mappingRequest","getFilterMappingValues","filterMappingValues","resolveInformationPromise","deferred","filterMappingMetadata","textProperty","mappedPropertyMetadata","constructor","mappedFilterValues","displayOption","conversionToExternalFormatIsRequired","forEach","data","convertToExternalFormat","sortByProperty","value","selectionDeferred","selectableProperty","selectablePropertyLabel","bindingConfig","requiredFilters","length","requiredFilterOptions","fieldDesc","getSortedSelections","resolveDeferred","filterValues","isFilterMapping","metadataPromise","activeStepMetadataPromise","activeStepMetadata","warningIcon","warningText","activeStepEntitySet","filterableProperties","getFilterableProperties","concat","getParameterEntitySetKeyProperties","indexOf","infoIcon","infoText","stepIndex","serialize","stepId","deserialize","oSerializableStep","getAssignedNavigationTargets","navigationTargets","initialize","createBinding","Array","putMessage","createMessageObject"],"sources":["step-dbg.js"],"mappings":"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","ignoreList":[]}