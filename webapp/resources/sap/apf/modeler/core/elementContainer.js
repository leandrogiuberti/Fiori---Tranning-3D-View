/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(["sap/apf/modeler/core/configurationObjects","sap/apf/utils/exportToGlobal","sap/base/util/extend","sap/ui/thirdparty/jquery"],function(e,n,t){"use strict";var r=function(n,a,i,s){var o,u,c=new RegExp("^"+n+"-([123456789]\\d*)$"),d=new RegExp("^"+n);var f=this;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created without name");if(!s){o=new i.constructors.Hashtable(i.instances.messageHandler);u=0}else{o=s.elements;u=s.elementCounter}this.generateId=function(){return n+"-"+ ++u};this.createElement=function(e,n){var t;t=f.generateId();return m(e,t,n)};this.createElementWithProposedId=function(e,n,t){function r(e){var n=c.exec(e);if(n){var t=parseInt(n[1],10);if(t>u){u=t}}}var a;var i=o.getItem(n);if(i){return f.createElement(e,t)}a=m(e,n,t);r(n);return a};this.removeElement=function(e){return o.removeItem(e)};this.getElement=function(e){return o.getItem(e)};this.updateElement=function(e,n){i.instances.messageHandler.check(e!==undefined,"ElementContainer: Element has been updated with undefined elementId");if(!n.getId||n.getId()!==e){n.getId=function(){return e}}o.setItem(e,n);return e};this.setElement=function(e,n){var t;if(n){if(!o.getItem(n)){i.instances.messageHandler.putMessage(i.instances.messageHandler.createMessageObject({code:"11006",aParameters:[n]}));return undefined}f.updateElement(n,e);return n}t=f.createElement(e);return t.getId()};this.getElements=function(){var e=[];o.forEachOrdered(function(n,t){e.push(t)});return e};this.moveUpOrDown=function(e,n){return o.moveUpOrDown(e,n)};this.moveBefore=function(e,n){return o.moveBefore(e,n)};this.moveToEnd=function(e){return o.moveToEnd(e)};this.copyElement=function(n){var t,r,a;t=o.getItem(n);if(!t){return}a=f.generateId();if(t.copy&&typeof t.copy==="function"){r=t.copy(a)}else{r=e.deepDataCopy(t)}r.getId=function(){return a};o.setItem(a,r);return a};this.copy=function(t){var s={elements:new i.constructors.Hashtable(i.instances.messageHandler),elementCounter:u};var c;var f;o.getKeysOrdered().forEach(function(r){c=o.getItem(r);f=e.deepDataCopy(c);if(t&&r.indexOf(n)===0){r=r.replace(d,t)}i.instances.messageHandler.check(r!==undefined,"ElementContainer: Element has been created without name in copy - 1");if(typeof f==="object"&&f.getId&&typeof f.getId==="function"){f.getId=function(){return r}}s.elements.setItem(r,f)});i.instances.messageHandler.check(n!==undefined||t!==undefined,"ElementContainer: Element has been created without name in copy 2");return new r(t||n,a,i,s)};function m(e,n,s){var u;i.instances.messageHandler.check(n!==undefined,"ElementContainer: Element has been created with undefined id");if(typeof s==="function"){u=new s(n,i)}else if(typeof a==="function"){if(a!==r){u=new a(n,i)}else{u=new a(n,undefined,i)}}else{u={}}u.getId=function(){return n};if(e){u=t(u,e)}o.setItem(n,u);return u}};n("sap.apf.modeler.core.ElementContainer",r);return r},true);
//# sourceMappingURL=elementContainer.js.map