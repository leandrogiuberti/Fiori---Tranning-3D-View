/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/apf/modeler/ui/controller/requestOptions","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator"],function(e,t,r){"use strict";var i=e.extend("sap.apf.modeler.ui.controller.navTargetContextMapping",{setDisplayText:function(){var e=this;var t=e.getView().getViewData().oTextReader;e.byId("idSourceLabel").setText(t("source"));e.byId("idEntityLabel").setText(t("entity"));e.byId("idSelectPropertiesLabel").setVisible(false);e.byId("idSelectProperties").setVisible(false);e.byId("idOptionalPropertyLabel").setVisible(true);e.byId("idOptionalPropertyLabel").setText(t("mappedProperty"));e.byId("idOptionalProperty").setVisible(true)},getSource:function(){var e=this;return e.oParentObject.getFilterMappingService()},getAllEntitiesAsPromise:function(e){var t=this;return t.oConfigurationEditor.getAllEntitySetsOfServiceAsPromise(e)},getEntity:function(){var e=this;return e.oParentObject.getFilterMappingEntitySet()},getAllEntitySetPropertiesAsPromise:function(e,t){var r=this;return r.oConfigurationEditor.getAllPropertiesOfEntitySetAsPromise(e,t)},clearSource:function(){var e=this;e.oParentObject.setFilterMappingService(undefined);e.clearEntity()},clearEntity:function(){var e=this;e.oParentObject.setFilterMappingEntitySet(undefined);e.clearSelectProperties()},clearSelectProperties:function(){var e=this;var t=e.oParentObject.getFilterMappingTargetProperties();t.forEach(function(t){e.oParentObject.removeFilterMappingTargetProperty(t)})},removeSelectProperties:function(e){var t=this;e.forEach(function(e){t.oParentObject.removeFilterMappingTargetProperty(e)})},updateSource:function(e){var t=this;t.oParentObject.setFilterMappingService(e)},updateEntity:function(e){var t=this;t.oParentObject.setFilterMappingEntitySet(e)},updateSelectProperties:function(e){var t=this;t.clearSelectProperties();e.forEach(function(e){t.oParentObject.addFilterMappingTargetProperty(e)})},getSelectProperties:function(){var e=this;return e.oParentObject.getFilterMappingTargetProperties()},getValidationState:function(){var e=this;return e.viewValidator.getValidationState()},getIdOfPropertiesControl:function(){return"idOptionalProperty"},getIdOfPropertyLabel:function(){return"idOptionalPropertyLabel"},setSelectedKeysForProperties:function(e){if(e.length>0){this.byId("idOptionalProperty").setSelectedKey(e[0])}},getSelectedKeysForProperties:function(){return this.oParentObject.getFilterMappingTargetProperties()},handleChangeForOptionalProperty:function(){var e=this;var i=e.getView().getViewData().oTextReader;var n=this.byId("idOptionalProperty").getSelectedKey();n=r.removePrefixText(n,i(t.texts.NOTAVAILABLE));e.updateSelectProperties([n]);e.oConfigurationEditor.setIsUnsaved()}});return i},true);
//# sourceMappingURL=navTargetContextMapping.controller.js.map