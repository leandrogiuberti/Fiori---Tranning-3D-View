/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.define(["sap/apf/modeler/ui/controller/sortPropertyType","sap/apf/modeler/ui/utils/constants","sap/apf/modeler/ui/utils/textManipulator","sap/ui/thirdparty/jquery"],function(e,t,r,jQuery){"use strict";var o=e.extend("sap.apf.modeler.ui.controller.stepSortPropertyType",{onBeforeRendering:function(){var e=this;e.byId("idGridSortLabel").setSpan("L4 M4 S4");e.byId("idGridSortProperty").setSpan("L2 M2 S2");e.byId("idGridSortDirectionLabel").setSpan("L2 M2 S2");e.byId("idGridSortDirection").setSpan("L2 M2 S2");e.byId("idGridIconLayout").setSpan("L2 M2 S2")},updateOfConfigurationObjectOfSubclass:function(e){var t=this;t.oParentObject.setTopNSortProperties(e)},getAllPropertiesAsPromise:function(){var e=this,t,o,i;var n=jQuery.Deferred();e.oParentObject.getConsumablePropertiesForTopN().done(function(a){t=a.consumable;o=e.getSelectedSortProperty();if(o!==undefined){i=t.indexOf(o)!==-1?t:t.concat(o);t=a.available.indexOf(o)!==-1?i:t.concat(r.addPrefixText([o],e.oTextReader));o=a.available.indexOf(o)!==-1?o:r.addPrefixText([o],e.oTextReader)[0]}n.resolve({aAllProperties:t,sSelectedKey:o})});return n.promise()},getOrderBy:function(){var e=this;return e.oParentObject.getTopN().orderby},setNextPropertyInParentObject:function(){var e=this;e.updateOfConfigurationObject();e.byId("idSortDirection").setSelectedKey("true")},removePropertyFromParentObject:function(){var e=this;e.updateOfConfigurationObject()},addPropertyAsPromise:function(){var e=this;var r=jQuery.Deferred();var o=t.events;e.oParentObject.getConsumablePropertiesForTopN().done(function(t){e.getView().fireEvent(o.ADDPROPERTY,{oSourceView:e.getView(),sProperty:t.consumable[0],sContext:e.getView().getViewData().oPropertyTypeData.sContext});e.oConfigurationEditor.setIsUnsaved();r.resolve()});return r.promise()}});return o},true);
//# sourceMappingURL=stepSortPropertyType.controller.js.map