sap.ui.define(["sap/ui/core/library","sap/ui/core/mvc/Controller"],function(e,a){"use strict";var t=e.ValueState;var i;function r(e){var a;var i=s(e);var r=l(e);if(e.oldKey&&e.navigationTarget.getNavigationParameter(e.oldKey)){e.navigationTarget.removeNavigationParameter(e.oldKey);e.configurationEditor.setIsUnsaved()}if(!e.navigationTarget.getNavigationParameter(i)){if(i&&r){a=e.oParentController.getNavigationParameters().indexOf(e.getView());e.configurationEditor.setIsUnsaved();e.navigationTarget.addNavigationParameter(i,r,a)}e.byId("idNavigationParametersKey").setValueState(t.None);e.oldKey=i}else{e.byId("idNavigationParametersKey").setValueState(t.Error);e.oldKey=null}}function n(e){var a=s(e);if(a&&e.navigationTarget.getNavigationParameter(a)){e.configurationEditor.setIsUnsaved();e.navigationTarget.removeNavigationParameter(a)}}function o(e){e.byId("idNavigationParametersKey").setValueStateText(i("navigationParametersKeyErrorState"));e.byId("idNavigationParametersValue").setValueStateText(i("navigationParametersValueErrorState"));e.byId("idNavigationParametersLabel").setText(i("navigationStaticParametersLabel"));e.byId("idNavigationParametersKey").setPlaceholder(i("navigationParametersKey"));e.byId("idNavigationParametersValue").setPlaceholder(i("navigationParametersValue"))}function s(e){return e.byId("idNavigationParametersKey").getValue()}function l(e){return e.byId("idNavigationParametersValue").getValue()}function d(e,a){if(a){e.byId("idNavigationParametersKey").setValue(a.key);e.oldKey=a.key;e.byId("idNavigationParametersValue").setValue(a.value)}}return a.extend("sap.apf.modeler.ui.controller.navigationTargetParameter",{onInit:function(){var e=this.getView().getViewData();i=e.oTextReader;this.oParentController=e.oParentController;this.navigationTarget=e.oNavigationTarget;this.configurationEditor=e.oConfigurationEditor;o(this);d(this,e.parameter)},onExit:function(){var e=this;e.destroy()},onPlus:function(){this.oParentController.addNavigationParameter()},onMinus:function(){n(this);this.oParentController.removeNavigationParameter(this.getView());this.getView().destroy()},checkVisibilityOfPlusMinus:function(){var e=this.oParentController.getNavigationParameters();if(e.length===1){this.byId("idRemoveNavigationParameter").setVisible(false)}else{this.byId("idRemoveNavigationParameter").setVisible(true)}if(e[e.length-1]===this.getView()){this.byId("idAddNavigationParameter").setVisible(true);if(!this.byId("idRemoveNavigationParameter").hasStyleClass("lessIcon")){this.byId("idRemoveNavigationParameter").addStyleClass("lessIcon")}}else{this.byId("idAddNavigationParameter").setVisible(false);this.byId("idRemoveNavigationParameter").removeStyleClass("lessIcon")}},onKeyEntered:function(){this.byId("idNavigationParametersKey").setValueState(t.None);r(this)},onValueEntered:function(){this.byId("idNavigationParametersValue").setValueState(t.None);r(this)},validate:function(){if(l(this)&&!s(this)){this.byId("idNavigationParametersKey").setValueState(t.Error);return false}if(!l(this)&&s(this)){this.byId("idNavigationParametersValue").setValueState(t.Error);return false}if(this.byId("idNavigationParametersKey").getValueState()===t.Error){return false}return true}})});
//# sourceMappingURL=navigationTargetParameter.controller.js.map