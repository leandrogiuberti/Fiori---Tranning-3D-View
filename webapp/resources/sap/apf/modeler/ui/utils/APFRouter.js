/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
sap.ui.define(["sap/apf/modeler/ui/utils/constants","sap/ui/core/UIComponent"],function(e,t){"use strict";var a={patternMatch:function(a){this.params={};var i=this;t.getRouterFor(a).attachRoutePatternMatched(function(t){i.params={name:t.getParameter("name"),arguments:t.getParameter("arguments")};a.getView().byId("idConfigMasterData").setBusy(true);a.getView().byId("idConfigDetail").setBusy(true);if(i.params.name!=="applicationList"){var n=a.oCoreApi;a.appId=i.params.arguments.appId;a.configId=i.params.arguments.configId;n.getApplicationHandler(function(t){a.applicationHandler=t;a.appName=t.getApplication(a.appId).ApplicationName;var o=a.byId("idConfigTitleMaster").getText();if(o===""||i.params.name==="configurationList"){a.setConfigListMasterTitle(a.appName);a.oTreeInstance.setApplicationId(i.params.arguments.appId)}n.getConfigurationHandler(a.appId,function(t){a.configurationHandler=t;a.oTextPool=a.configurationHandler.getTextPool();if(a.configurationHandler.getList().length>a.getView().getModel().getData().aConfigDetails.length){a.createConfigList();if(i.params.name==="configurationList"){a.updateConfigListView()}}if(a.configurationHandler.getList().length===0&&a.configId===undefined){a.oTreeInstance.addNodeInTree(e.configurationObjectTypes.CONFIGURATION);var n=a.oTreeInstance.getItems();var o=n[n.length-1];a.oTreeInstance.setSelectedItem(o);a.oTreeInstance.expand(0);a.getView().byId("idConfigDetail").setBusy(false)}else if(a.configId===undefined){a.oTreeInstance.expandToLevel(1);a.oTreeInstance.collapseAll()}if(a.configId!==undefined){var r=t.getConfiguration(a.configId);if(r){t.loadConfiguration(a.configId,function(e){a.configEditor=e;var t=a.getSPathForConfig(a.configId);if(a.oModel.getData().aConfigDetails[t.split("/")[2]].bIsLoaded===false){a.updateTree();if(i.params.name!=="navigationTarget"){i.setCurrentSelectionState(i.params,a)}}else{i.setCurrentSelectionState(i.params,a)}})}else{i.setCurrentSelectionState(i.params,a)}}a.getView().byId("idConfigMasterData").setBusy(false)})})}})},setCurrentSelectionState:function(e,t){var a=t.getSPathFromURL(e);if(e.name!=="configurationList"){if(a&&a.objectType){if(e.name==="step"){var i=t.getStepConfigDataBysPath(a.sPath);e.bIsHierarchicalStep=i&&i.bIsHierarchicalStep?true:false}t.updateSubView(e);if(a.sPath){t.setSelectionOnTree(a)}t.updateTitleAndBreadCrumb()}else{t.showNoConfigSelectedText();t.removeSelectionOnTree()}}t.getView().byId("idConfigDetail").setBusy(false)}};return a},true);
//# sourceMappingURL=APFRouter.js.map