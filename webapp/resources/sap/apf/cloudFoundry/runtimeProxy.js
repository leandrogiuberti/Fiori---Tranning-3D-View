/*!
 * SAP APF Analysis Path Framework
 *
 * (c) Copyright 2012-2018 SAP SE. All rights reserved
 */
sap.ui.define(["sap/apf/cloudFoundry/utils","sap/apf/utils/exportToGlobal","sap/base/i18n/Localization"],function(a,e,i){"use strict";function t(e,t){var n=t.instances.messageHandler;var r=t.instances.coreApi;var s=t.manifests.manifest;var o=s["sap.app"].dataSources;var c=i.getLanguage();var l={"Content-Type":"application/json; charset=utf-8","Accept-Language":c};var u=o&&o["apf.runtime.analyticalConfigurationAndTextFiles"]&&o["apf.runtime.analyticalConfigurationAndTextFiles"].uri;if(!u){n.putMessage(n.createMessageObject({code:"5236",aParameters:["apf.runtime.analyticalConfigurationAndTextFiles"]}))}var f=a.resolveUri.bind(this,t.instances.coreApi);function p(){return{}}this.readEntity=function(a,e,i){n.check(a==="configuration");var t=i[0].value;var s=this;this.textFiles=undefined;var o=f(u+"/"+t);r.ajax({url:o,success:function(a){var i=JSON.parse(a.analyticalConfiguration.serializedAnalyticalConfiguration);var n=i.configHeader&&i.configHeader.Application;var r={SerializedAnalyticalConfiguration:a.analyticalConfiguration.serializedAnalyticalConfiguration,AnalyticalConfiguration:t,Application:n,AnalyticalConfigurationName:a.analyticalConfiguration.analyticalConfigurationName};s.textFiles=a.textFiles;e(r,p())},error:function(a,i,t,r){var s=n.createMessageObject({code:"5057",aParameters:[o]});if(r){s.setPrevious(r)}e(undefined,p(),s)},headers:l})};this.readCollection=function(e,i,t,r,s){n.check(e==="texts");var o=s.getFilterTermsForProperty("Application");var c=o[0].getValue();if(!this.textFiles){i(undefined,p(),n.createMessageObject({code:"5222",aParameters:[c]}));return}var l=a.mergeReceivedTexts(this.textFiles,n);i(l.texts,p(),l.messageObject)}}e("sap.apf.cloudFoundry.RuntimeProxy",t);return t},true);
//# sourceMappingURL=runtimeProxy.js.map