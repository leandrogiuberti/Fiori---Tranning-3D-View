/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Utils","../library","sap/ui/core/Lib","sap/m/IllustratedMessageType","sap/ui/base/BindingParser"],function(e,t,r,s,n){"use strict";var a=t.CardBlockingMessageType;const T=r.getResourceBundleFor("sap.ui.integration");function R(e){return n.complexParser.escape(JSON.stringify(e,null,4))}function E(e){if(e.options){e.options.body=e.body&&e.body.toString();e.options.headers=Object.fromEntries(e.options.headers)}return R(e)}var o={};o.configureDataRequestErrorInfo=function(t,r){var o=t.requestErrorParams.response,i=t.requestErrorParams.responseText,_=s.UnableToLoad,u=T.getText("CARD_ERROR_CONFIGURATION_TITLE"),g=T.getText("CARD_ERROR_CONFIGURATION_DESCRIPTION"),S=t.requestSettings,c=S.request?S.request.url:"",C=T.getText("CARD_ERROR_REQUEST_DETAILS",[c]);if(o){u=o.status+" "+o.statusText;g=T.getText("CARD_ERROR_REQUEST_DESCRIPTION");switch(o.status){case 0:switch(o.statusText){case"timeout":_=s.UnableToLoad;u="408 "+T.getText("CARD_ERROR_REQUEST_TIMEOUT_TITLE");C=T.getText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[c]);break;default:_=s.PageNotFound;u="404 "+T.getText("CARD_ERROR_REQUEST_NOTFOUND_TITLE");break}break;case 404:_=s.PageNotFound;if(!o.statusText){u="404 "+T.getText("CARD_ERROR_REQUEST_NOTFOUND_TITLE")}break;case 408:_=s.UnableToLoad;C=T.getText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[c]);break;case 401:case 403:case 511:g=T.getText("CARD_ERROR_REQUEST_ACCESS_DENIED_DESCRIPTION");break;default:break}}C=u+"\n"+g+"\n"+C+"\n\n";C+=T.getText("CARD_LOG_MSG")+"\n"+(o?o.statusText:t.requestErrorParams.message)+"\n\n";C+=T.getText("CARD_REQUEST_SETTINGS")+"\n"+R(S)+"\n\n";if(o){C+=T.getText("CARD_REQUEST")+"\n"+E(t.requestErrorParams.settings)+"\n\n"+T.getText("CARD_RESPONSE_HEADERS")+"\n"+R(Object.fromEntries(o.headers))+"\n\n"}if(o&&i){C+=T.getText("CARD_RESPONSE")+"\n";if(e.isJson(i)){C+=R(JSON.parse(i))}else{C+=n.complexParser.escape(i)}C+="\n\n"}C+=T.getText("CARD_MANIFEST")+"\n"+R(r._oCardManifest.getJson())+"\n\n";C+=T.getText("CARD_STACK_TRACE")+"\n"+(new Error).stack;return{type:a.Error,illustrationType:_,title:u,description:g,details:C,httpResponse:o}};o.configureErrorInfo=function(e,t){var r=T.getText("CARD_MANIFEST")+"\n"+R(t._oCardManifest.getJson())+"\n\n"+T.getText("CARD_STACK_TRACE")+"\n"+(e.originalError?e.originalError.stack:(new Error).stack);return{type:a.Error,illustrationType:e.illustrationType,title:e.title,description:e.description,details:r}};return o});
//# sourceMappingURL=ErrorHandler.js.map