/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/DynamicDateRange","sap/m/DatePicker","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/BindingHelper","sap/ui/core/date/UI5Date"],function(t,e,a,r,n){"use strict";var o=n.getInstance(-864e13);var s=n.getInstance("1753-01-01");var i=n.getInstance(864e13);var T=n.getInstance("9999-12-31");var l={DATE:"date",TODAY:"today",YESTERDAY:"yesterday",TOMORROW:"tomorrow",DATERANGE:"dateRange",DATETIMERANGE:"dateTimeRange",FROM:"from",TO:"to",FROMDATETIME:"fromDateTime",TODATETIME:"toDateTime",YEARTODATE:"yearToDate",LASTDAYS:"lastDays",LASTWEEKS:"lastWeeks",LASTMONTHS:"lastMonths",LASTQUARTERS:"lastQuarters",LASTYEARS:"lastYears",NEXTDAYS:"nextDays",NEXTWEEKS:"nextWeeks",NEXTMONTHS:"nextMonths",NEXTQUARTERS:"nextQuarters",NEXTYEARS:"nextYears",TODAYFROMTO:"todayFromTo",THISWEEK:"thisWeek",LASTWEEK:"lastWeek",NEXTWEEK:"nextWeek",SPECIFICMONTH:"specificMonth",THISMONTH:"thisMonth",LASTMONTH:"lastMonth",NEXTMONTH:"nextMonth",THISQUARTER:"thisQuarter",LASTQUARTER:"lastQuarter",NEXTQUARTER:"nextQuarter",QUARTER1:"quarter1",QUARTER2:"quarter2",QUARTER3:"quarter3",QUARTER4:"quarter4",THISYEAR:"thisYear",LASTYEAR:"lastYear",NEXTYEAR:"nextYear",DATETIME:"dateTime"};function u(t){return l[t]}function E(t){return t.getFullYear().toString().padStart(4,"0")+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")}function S(t){if(typeof t!=="string"){return t}const e=t.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);if(e){return n.getInstance(parseInt(e[1]),parseInt(e[2])-1,parseInt(e[3]))}return n.getInstance(t)}var A={};A.createInput=function(a,r,n){var o;var s=a.options.map(function(t){return t.toUpperCase()});if(s.length===1&&s[0]==="DATE"&&n){o=new e({placeholder:a.placeholder})}else{o=new t({standardOptions:s,placeholder:a.placeholder})}A.setValue(o,a.value,r);return o};A.setValue=function(t,e,r){if(!e){return}if(t.isA("sap.m.DatePicker")){if(e.values){e=e.values}t.applySettings({value:e})}else{var n=a.resolveValue(e,r);var o=n.option.toUpperCase();var s=t.getOption(o).getValueTypes();t.setValue({operator:o,values:n.values.map(function(t,e){if(s[e]==="date"||s[e]==="datetime"){return S(t)}return t})})}};A.getValueForModel=function(e){var a;var r;var n;var l;if(e.isA("sap.m.DatePicker")&&e.getValue()&&e.isValidValue()){l={operator:"DATE",values:[e.getDateValue()]}}else if(e.isA("sap.m.DynamicDateRange")){l=e.getValue()}if(l){a={option:u(l.operator),values:l.values.slice()};var S=t.toDates(l),A=S[0],p=l.operator==="TO"||l.operator==="TODATETIME",c=l.operator==="FROM"||l.operator==="FROMDATETIME",D=p||c?0:1,g=S[D];r={start:A.toISOString(),end:g.toISOString(),startLocalDate:E(A),endLocalDate:E(g)};n={start:A.toISOString(),end:g.toISOString(),startLocalDate:E(A),endLocalDate:E(g)};if(p){r.start=o.toISOString();n.start=s.toISOString();r.startLocalDate=E(o);n.startLocalDate=E(s)}if(c){r.end=i.toISOString();n.end=T.toISOString();r.endLocalDate=E(i);n.endLocalDate=E(T)}}return{value:a,range:r,rangeOData:n}};A.getAllOptions=function(){return l};return A});
//# sourceMappingURL=DateRangeHelper.js.map