/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/getCompatibilityVersion","sap/ui/core/Locale","sap/base/strings/formatMessage","sap/base/util/isPlainObject","sap/base/Log","sap/ui/core/date/UI5Date","sap/base/i18n/Localization","sap/base/util/deepClone"],function(e,t,n,r,a,i,o,s){"use strict";var u={};u.languageMapping={"da-DK":"da","en-US":"en","hi-IN":"hi","hu-HU":"hu","id-ID":"id","ms-MY":"ms","nl-NL":"nl","pl-PL":"pl","ro-RO":"ro","th-TH":"th"};u.getLocalizationLanguage=function(){var e=o.getLanguage().replaceAll("_","-");return u.languageMapping[e]||e};u.formatLanguageCodesInTranslationTexts=function(e){var t;if(e){t={};Object.keys(e).forEach(function(n){var r=n.replaceAll("_","-");t[r]=e[n]})}return t};u.mapLanguagesInManifestChanges=function(e){if(typeof e==="object"){e.forEach(function(e){if(e.texts){e.texts=u.formatLanguageCodesInTranslationTexts(e.texts);for(var[t,n]of Object.entries(u.languageMapping)){if(e.texts[t]){var r=s(e.texts[t],500);delete e.texts[t];r=Object.assign(r,e.texts[n]);e.texts[n]=r}}}})}};u._language=u.getLocalizationLanguage();u.refreshLocalizationLanguage=function(){u._language=u.getLocalizationLanguage()};o.attachChange(u.refreshLocalizationLanguage);u.isJson=function(e){if(typeof e!=="string"){return false}try{JSON.parse(e);return true}catch(e){return false}};u.processFormatArguments=function(e,n){var a=r(e)?e:{},i=typeof e==="string"?new t(e):n&&new t(n);return{formatOptions:a,locale:i}};u.parseJsonDateTime=function(e){var t=1,n=2,r=3;var o=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,s;if(typeof e==="string"){s=o.exec(e)}if(s){var u=i.getInstance(parseInt(s[t]));if(s[n]){var f=parseInt(s[r]);if(s[n]==="-"){f=-f}var l=u.getUTCMinutes();u.setUTCMinutes(l-f)}if(isNaN(u.valueOf())){a.error("Invalid JSON Date format - "+e)}else{e=u}}return e};u.DEFAULT_PROMISE_TIMEOUT=5e3;u.timeoutPromise=function(e,t){var n;if(t===undefined){t=u.DEFAULT_PROMISE_TIMEOUT}n=new Promise(function(e,n){setTimeout(function(){n("The promise was not resolved after "+t+" ms so it timed out.")},t)});return Promise.race([e,n])};u.hasFalsyValueAsString=function(e){return typeof e=="string"&&["null","false","undefined",""].indexOf(e.trim())>-1};u.setNestedPropertyValue=function(e,t,n){var r=t.substring(1).split("/"),a;for(var i=0;i<r.length-1;i++){a=r[i];e=e.hasOwnProperty(a)?e[a]:undefined;if(e===null||typeof e!=="object"){break}}e[r[r.length-1]]=n};u.getNestedPropertyValue=function(e,t){var n=t.substring(1).split("/"),r;for(var a=0;a<n.length;a++){r=n[a];e=e.hasOwnProperty(r)?e[r]:undefined;if(e===null||typeof e!=="object"){break}}return e};u.makeUndefinedValuesNull=function(e){if(Array.isArray(e)){return e.map(function(e){if(e===undefined){return null}if(typeof e==="object"){return u.makeUndefinedValuesNull(e)}return e})}for(var t in e){if(e.hasOwnProperty(t)){if(e[t]===undefined){e[t]=null}else if(typeof e[t]==="object"){e[t]=u.makeUndefinedValuesNull(e[t])}}}return e};u.isBindingSyntaxComplex=function(){if(u._isBindingSyntaxComplex===undefined){u._isBindingSyntaxComplex=e("sapCoreBindingSyntax").compareTo("1.26")>=0}return u._isBindingSyntaxComplex};u.generateUuidV4=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;if(e==="y"){t=t&3|8}return t.toString(16)});return e};u.getStatusTextBindingInfo=function(e){var t;if(e.parts&&e.translationKey&&e.parts.length===2){t={parts:[e.translationKey,e.parts[0].toString(),e.parts[1].toString()],formatter:function(t,r,a){if(!t){return""}var i=r||e.parts[0];var o=a||e.parts[1];if(Array.isArray(r)){i=r.length}if(Array.isArray(a)){o=a.length}var s=parseFloat(i)||0;var u=parseFloat(o)||0;return n(t,[s,u])}}}return t};u.polling=function(e,t=3e3,n=6e5){let r=0;let a;let i=false;const o=async()=>{if(n&&r>=n){return}const s=await e();if(s||i){return}r+=t;a=setTimeout(o,t)};o();return{stop:()=>{clearTimeout(a);i=true}}};u.find=function(e,t){if(!r(e)){throw new Error("Parameter 'data' must be an object.")}function n(e){if(t(e)){return e}if(Array.isArray(e)){for(const t of e){const e=n(t);if(e){return e}}return false}if(r(e)){for(const t of Object.keys(e)){const r=n(e[t]);if(r){return r}}}return false}return n(e)};return u});
//# sourceMappingURL=Utils.js.map