/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/ManagedObject","sap/base/i18n/ResourceBundle","sap/base/Log"],function(e,r,a){"use strict";var s=e.extend("sap.ui.integration.editor.EditorResourceBundles",{metadata:{library:"sap.ui.integration",properties:{url:{type:"string",defaultValue:""},languages:{type:"object"},supportedLocales:{type:"array"}},events:{ready:{}}}});s.prototype.loadResourceBundles=function(){var e=this;var s=e.getUrl();var u=e.getSupportedLocales();var o=e.getLanguages();e._ready=false;e._aResourceBundles=[];e._aResourceBundleReadyPromise=[];Object.keys(o).forEach(function(a){if(s){var n=[a];if(a.indexOf("-")>-1){n.push(a.substring(0,a.indexOf("-")))}if(!n.includes("en")){n.push("en")}e._aResourceBundles[a]="";var i=r.create({url:s,async:true,locale:a,supportedLocales:n}).then(function(r){var s={language:o[a],resourceBundle:r,isSupportedLocale:true};if(Array.isArray(u)&&!u.includes(a)&&!u.includes(a.replace("-","_"))){s.isSupportedLocale=false}e._aResourceBundles[a]=s});e._aResourceBundleReadyPromise.push(i)}else{var t={language:o[a],isSupportedLocale:true};if(Array.isArray(u)&&!u.includes(a)&&!u.includes(a.replace("-","_"))){t.isSupportedLocale=false}e._aResourceBundles[a]=t}});if(e._aResourceBundleReadyPromise.length>0){Promise.all(e._aResourceBundleReadyPromise).then(function(){Object.keys(o).forEach(function(r){if(e._aResourceBundles[r]==""){var a={language:o[r],isSupportedLocale:true};if(Array.isArray(u)&&!u.includes(r)&&!u.includes(r.replace("-","_"))){a.isSupportedLocale=false}e._aResourceBundles[r]=a}});a.info("sap.ui.integration.editor.EditorResourceBundles: resource bundles loaded.");e._ready=true;e.fireReady()})}else{a.info("sap.ui.integration.editor.EditorResourceBundles: no resource bundles.");e._ready=true;e.fireReady()}};s.prototype.isReady=function(){return this._ready};s.prototype.getResourceBundles=function(){return this._aResourceBundles};return s});
//# sourceMappingURL=EditorResourceBundles.js.map