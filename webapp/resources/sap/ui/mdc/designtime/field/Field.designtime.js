/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/fl/Utils","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/m/p13n/Engine","sap/ui/core/Lib"],(e,t,n,o,r)=>{"use strict";const i=r.getResourceBundleFor("sap.ui.mdc");return{properties:{value:{ignore:true},additionalValue:{ignore:true}},getStableElements:function(n){if(!n?.getFieldInfo()){return[]}const o=n.getFieldInfo();let r=typeof o.getSourceControl()==="string"?e.getElementById(o.getSourceControl()):o.getSourceControl();if(!r){r=n}const i=t.getAppComponentForControl(r)||t.getAppComponentForControl(n);const l=o.getControlDelegate().getPanelId(o);return[{id:l,appComponent:i}]},actions:{settings:{"sap.ui.mdc":{name:i.getText("info.POPOVER_DEFINE_LINKS"),isEnabled:e=>!!e.getFieldInfo(),handler:function(e,r){const i=e.getFieldInfo();return i.getContent().then(l=>{i.addDependent(l);return n.waitForChanges({element:l}).then(()=>{r.fnAfterClose=function(){l.destroy()};const i=function(){return o.getInstance().getRTASettingsActionHandler(l,r,"LinkItems").then(n=>{n.forEach(n=>{const o=n.selectorElement;delete n.selectorElement;const r=t.getAppComponentForControl(e);n.selectorControl={id:typeof o==="string"?o:o.getId(),controlType:o===l?l.getMetadata().getName():"sap.ui.mdc.link.PanelItem",appComponent:r}});return n})};const s=l.getItems();if(s.length>0){return n.waitForChanges({selectors:s}).then(()=>i())}else{return i()}})})},CAUTION_variantIndependent:true}}},tool:{start:function(e){e.getFieldInfo()?.setEnablePersonalization(false)},stop:function(e){e.getFieldInfo()?.setEnablePersonalization(true)}}}});
//# sourceMappingURL=Field.designtime.js.map