/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/util/IdentifierUtil","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/enums/OperatorName","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/condition/FilterConverter","sap/base/Log","sap/base/util/merge"],(e,t,i,n,r,o,s)=>{"use strict";const a=function(e){if(e&&e.getTypeMap){return e.getTypeMap()}if(e&&e.getTypeUtil){return e.getTypeUtil()}return e};const l={getPropertyByKey:function(t,i){let n=null;t.some(t=>{if(e.getPropertyPath(t)===i){n=t}return n!=null});if(!n){t.some(t=>{if(e.getPropertyKey(t)===i){n=t}return n!=null})}return n},getConditionsMap:function(e,n){let r,s;const a={};if(!e||!e.isA("sap.ui.mdc.FilterBar")){o.error("instance of sap.ui.mdc.FilterBar expected");return a}const l=e.getInternalConditions();for(const e in l){if(n.indexOf(e)>=0){r=[];if(l[e]){for(let n=0;n<l[e].length;n++){s={};s.operator=l[e][n].operator;if(s.operator===i.EQ&&l[e][n].validated===t.Validated){s.values=[l[e][n].values[0]]}else{s.values=l[e][n].values}r.push(s)}a[e]=r}}}return a},getFilterInfo:function(e,t,i,u){const p={};let c={};if(i&&i.length>0){Object.keys(t).forEach(e=>{const n=i.find(t=>t.name===e);const r=n&&n.path?n.path:e;c[r]=t[e]})}else{c=t}u=u?u:[];let f,d,g;const y={};const m={};if(i&&i.length>0){for(d in c){if(u.indexOf(d)<0){const t=l.getPropertyByKey(i,d);if(t){m[d]={type:t.typeConfig.typeInstance,caseSensitive:t.caseSensitive,baseType:t.typeConfig.baseType};y[d]=[];for(f=0;f<c[d].length;f++){g=s({},c[d][f]);y[d].push(n.toType(g,t.typeConfig.typeInstance,a(e)))}}else{o.error("sap.ui.mdc.util.FilterUitl.js :","could not find propertyMetadata of : "+d)}}}if(Object.keys(y).length>0){p.filters=r.createFilters(y,m)}}return p},getRequiredFieldNamesWithoutValues:function(e){const t=[];if(e&&e._getRequiredPropertyNames&&e._getConditionModel){e._getRequiredPropertyNames().forEach(i=>{const n=e._getConditionModel().getConditions(i);if(!n||n.length===0){t.push(i)}})}return t}};return l});
//# sourceMappingURL=FilterUtil.js.map