/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/mdc/p13n/P13nBuilder","./SelectionController","sap/ui/mdc/p13n/panels/LinkSelectionPanel","sap/m/MessageBox"],(e,t,n,o,r,i)=>{"use strict";const a=t.getResourceBundleFor("sap.ui.mdc");const s=o.extend("sap.ui.mdc.p13n.subcontroller.LinkPanelController",{constructor:function(){o.apply(this,arguments);this._bResetEnabled=true}});s.prototype.getUISettings=function(){return{contentWidth:"28rem",contentHeight:"35rem",reset:{warningText:a.getText("info.SELECTION_DIALOG_RESET_WARNING")},title:a.getText("info.SELECTION_DIALOG_ALIGNEDTITLE")}};s.prototype.getSelectorForReset=function(){return this.getAdaptationControl().getItems().concat(this.getAdaptationControl())};s.prototype.getSelectorsForHasChanges=function(){return this.getAdaptationControl().getItems()};s.prototype.initAdaptationUI=function(e){const t=this.getAdaptationControl();const n=new r({title:a.getText("info.SELECTION_DIALOG_ALIGNEDTITLE"),showHeader:true,fieldColumn:a.getText("info.SELECTION_DIALOG_COLUMNHEADER_WITHOUT_COUNT"),enableCount:true,enableReorder:false,linkPressed:t.onPressLink.bind(t)});const o=this.mixInfoAndState(e);n.setP13nData(o.items);this._oPanel=n;return Promise.resolve(n)};s.prototype._navigate=function(e){this.getAdaptationControl().getMetadata()._oClass.navigate(e)};s.prototype._createAddRemoveChanges=function(e,t,n,o){const r=[];for(let i=0;i<e.length;i++){if(Array.isArray(n)){n.forEach(n=>{r.push(this._createAddRemoveChange(t,n,this._getChangeContent(e[i],o)))})}else{r.push(this._createAddRemoveChange(t,n,this._getChangeContent(e[i],o)))}}return r.filter(e=>e!==undefined)};s.prototype._createAddRemoveChange=function(t,n,o){const r=o.name;const i=e.getElementById(r);if(n==="revealItem"||n==="hideItem"){return{selectorElement:i?i:r,changeSpecificData:{changeType:n,content:{}}}}if(!i){return{selectorElement:t,changeSpecificData:{changeType:"createItem",content:{selector:r}}}}return undefined};s.prototype.mixInfoAndState=function(e){const t=this.getCurrentState();const o=n.arrayToMap(t);const r=this.prepareAdaptationData(e,(e,t)=>{const n=o[t.name];e.visible=n?true:false;e.position=n?n.position:-1;e.href=t.href;e.internalHref=t.internalHref;e.description=t.description;e.target=t.target;e.text=t.text;return true});this.sortP13nData({visible:"visible",position:"position"},r.items);r.presenceAttribute=this._getPresenceAttribute();r.items.forEach(e=>{delete e.position});return r};s.prototype._createMoveChange=function(e,t,n,o){return{selectorElement:o,changeSpecificData:{changeType:n,content:{index:t,name:e}}}};s.prototype.getChangeOperations=function(){return{add:["createItem","revealItem"],remove:"hideItem",move:"moveItem"}};return s});
//# sourceMappingURL=LinkPanelController.js.map