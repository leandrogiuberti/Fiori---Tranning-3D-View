/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ItemBaseFlex","./Util","sap/ui/fl/changeHandler/common/ChangeCategories","sap/ui/mdc/chart/Util"],(e,t,r,a)=>{"use strict";const n=Object.assign({},e);n.beforeAddItem=function(e,t,r,a,n){return e.addItem.call(e,r,t,a,n.role)};n.findItem=function(e,t,r){return t.reduce((t,a)=>t.then(t=>{if(!t){return Promise.all([e.getProperty(a,"propertyKey"),e.getProperty(a,"key")]).then(e=>{if(e[0]===r||e[1]===r){return a}})}return t}),Promise.resolve())};n.getChangeVisualizationInfo=function(e,n){const o=e.getContent();const i=n.byId(e.getSelector().id);let d;const c=[o.name];const l={descriptionPayload:{}};if(e.getChangeType()==="addItem"){l.descriptionPayload.category=r.ADD;d="chart.ITEM_ADD_CHANGE";c.push(o.index);c.push(o.role)}else if(e.getChangeType()==="removeItem"){l.descriptionPayload.category=r.REMOVE;d="chart.ITEM_DEL_CHANGE"}else if(e.getChangeType()==="moveItem"){l.descriptionPayload.category=r.MOVE;d="chart.ITEM_MOVE_CHANGE";c.push(e.getRevertData().index);c.push(o.index)}const s=i?.getPropertyHelper();if(s){let t;const r=s.getProperty(o.name);if(r){if(r.isAggregatable()){t="aggregatable";d+="_MEAS"}else if(r.groupable){t="groupable";d+="_DIM"}c.splice(0,1,r.label)}if(e.getChangeType()==="addItem"&&t){const e=a.getLayoutOptionTextForTypeAndRole(t,o.role);if(e){c.splice(2,1,e)}}}return t.getMdcResourceText(d,c).then(e=>{l.descriptionPayload.description=e;l.updateRequired=true;return l})};n.addItem=n.createAddChangeHandler();n.removeItem=n.createRemoveChangeHandler();n.moveItem=n.createMoveChangeHandler();return n});
//# sourceMappingURL=ChartItemFlex.js.map