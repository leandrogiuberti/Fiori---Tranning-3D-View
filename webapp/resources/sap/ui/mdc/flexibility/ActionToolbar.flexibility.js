/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./ItemBaseFlex","./Util","sap/ui/fl/changeHandler/common/ChangeCategories","./actiontoolbar/CombineAction","./actiontoolbar/SplitAction"],(e,t,n,i,a)=>{"use strict";const o=Object.assign({},e);o.findItem=function(e,t,n){return t.find(t=>e.getId(t)===n)};o.determineAggregation=function(e,t){return e.getAggregation(t,"actions").then(e=>({name:"actions",items:e}))};o._applyMove=function(e,n,i,a){const o=a===t.REVERT?true:false;const r=i.modifier;if(r.getParent(n)){const e=r.getParent(n);if(r.getControlType(e)==="sap.ui.mdc.Chart"){n=e}else if(r.getParent(e)&&r.getControlType(r.getParent(e))==="sap.ui.mdc.Table"){n=r.getParent(e)}}this.beforeApply(e.getChangeType(),n,o);if(this._bSupressFlickering){this._delayInvalidate(n)}const g=o?e.getRevertData():e.getContent();let s;let c;let d;let l;const u=this.determineAggregation(r,n).then(e=>{c=e;return this._getExistingAggregationItem(g,i,n)}).then(e=>{s=e}).then(()=>{if(!s){throw new Error("No corresponding item in "+c.name+" found. Change to move item cannot be "+this._getOperationText(o)+"at this moment")}l=r.getId(s);return r.findIndexInParentAggregation(s)}).then(e=>{d=e;return r.removeAggregation(n,c.name,s).then(()=>r.insertAggregation(n,c.name,s,g.index))}).then(()=>{if(o){e.resetRevertData()}else{e.setRevertData({name:g.name,index:d,item:l})}this.afterApply(e.getChangeType(),n,o)});return u};o.getChangeVisualizationInfo=function(e,i){const a=e.getContent();const o=i.byId(e.getSelector().id);let r;const g=[a.name];const s={descriptionPayload:{}};if(e.getChangeType()==="moveAction"){s.descriptionPayload.category=n.MOVE;r="actiontoolbar.ITEM_MOVE_CHANGE";g.push(e.getRevertData().index);g.push(a.index)}if(o){const e=i.byId(a.name);if(e){g.splice(0,1,e.getLabel())}}return t.getMdcResourceText(r,g).then(e=>{s.descriptionPayload.description=e;s.updateRequired=true;return s})};return{moveAction:o.createMoveChangeHandler(),combineButtons:{changeHandler:i},splitMenuButton:{changeHandler:a}}});
//# sourceMappingURL=ActionToolbar.flexibility.js.map