/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/condition/Operator","sap/ui/mdc/util/DateUtil","sap/ui/mdc/enums/OperatorValueType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/strings/escapeRegExp"],(e,t,a,n,s,o)=>{"use strict";const i=e.extend("sap.ui.mdc.condition.RangeOperator",{constructor:function(t){t.filterOperator=t.filterOperator||s.BT;if(t.valueTypes&&t.valueTypes.length>0){if(t.valueTypes[0]===a.Static){const e=t.longText&&o(t.longText);if(t.longText&&t.longText!==t.tokenText&&t.tokenText){t.tokenTest=t.tokenTest||"^"+e+"$|^#tokenText#$"}else if(t.longText&&!t.tokenText){t.tokenTest=t.tokenTest||"^"+e+"$"}else{t.tokenTest=t.tokenTest||"^#tokenText#$"}t.tokenParse=t.tokenParse||"^(.+)?$"}else{t.tokenTest=t.tokenTest||"^#tokenText#$";t.tokenParse=t.tokenParse||"^#tokenText#$|^(.+)?$"}}else{t.tokenParse=t.tokenParse||"^#tokenText#$"}t.tokenFormat=t.tokenFormat||!!t.tokenText&&"#tokenText#";e.apply(this,arguments);if(this.paramTypes){if(t.defaultValues!==undefined){if(Array.isArray(t.defaultValues)){this.valueDefaults=t.defaultValues}else{this.valueDefaults=t.defaultValues()}}else{this.paramTypes.forEach(e=>{if(!this.valueDefaults){this.valueDefaults=[]}this.valueDefaults.push(1)})}}if(t.label!==undefined){this.aLabels=t.label}if(t.calcRange){this.calcRange=t.calcRange}if(t.formatRange){this.formatRange=t.formatRange}else if(this.calcRange){this.formatRange=function(e,t){return t.formatValue(e[0],"string")+(e[1]?" - "+t.formatValue(e[1],"string"):"")}}}});i.prototype.getModelFilter=function(e,t,a,s,o){const i=this._getRange(e.values,a,o);return new n({path:t,operator:this.filterOperator,value1:i[0],value2:i[1]})};i.prototype._getRange=function(e,a,n){let s;if(e){if(e.length===2){s=this.calcRange(e[0],e[1])}else{s=this.calcRange(e[0])}}else{s=this.calcRange()}for(let e=0;e<s.length;e++){s[e]=t.dateToType(s[e].getJSDate(),a,n)}return s};i.prototype.getStaticText=function(e){const t=this._getRange(null,e);return this.formatRange(t,e)};i.prototype.format=function(t,n,s,o,i,l,r,u,f){const p=u||this.getTokenFormat(f);if(this.valueTypes.length===1&&this.valueTypes[0]===a.Static&&p.indexOf("{0}")>=0){const e=this.getStaticText(n);return p.replace(new RegExp("\\{"+0+"\\}","g"),e)}return e.prototype.format.apply(this,arguments)};return i},true);
//# sourceMappingURL=RangeOperator.js.map