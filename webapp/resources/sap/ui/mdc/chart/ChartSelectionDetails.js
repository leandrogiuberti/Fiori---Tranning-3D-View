/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/SelectionDetails","sap/m/SelectionDetailsItem","sap/m/SelectionDetailsItemLine","sap/m/SelectionDetailsRenderer","sap/m/List","sap/m/StandardListItem","sap/m/library","sap/ui/core/Lib"],(t,e,a,i,n,s,o,r)=>{"use strict";const{ListMode:l,ListType:c}=o;const p=r.getResourceBundleFor("sap.ui.mdc");const g=t.extend("sap.ui.mdc.chart.ChartSelectionDetails",{metadata:{library:"sap.ui.mdc",interfaces:[],defaultAggregation:"",properties:{enableNavCallback:{type:"function"},fetchFieldInfosCallback:{type:"function"}},aggregations:{},associations:{},events:{}},renderer:i});g.prototype.init=function(){t.prototype.init.apply(this,arguments);this.registerSelectionDetailsItemFactory({},this._selectionDetailsItemFactory.bind(this));this.attachNavigate(this._navigate.bind(this))};g.prototype._selectionDetailsItemFactory=function(t,i,n){const s=this.getEnableNavCallback();const o=[];const r=function(t){if(t){return t instanceof Object?t:t.toString()}else{return t}};for(let e=0;e<t.length;e++){o.push(new a({label:t[e].label,value:r(t[e].value),unit:t[e].unit}))}return new e({enableNav:s?.(i,n)??false,lines:o}).setBindingContext(n)};g.prototype._navigate=function(t){if(t.getParameter("direction")==="back"){t.getParameter("content").destroy()}else{this._navigateToDetails(t)}};g.prototype._navigateToDetails=async t=>{const e=t.getSource();const a=e.getFetchFieldInfosCallback();if(!a){throw new Error("sap.ui.mdc.chart.ChartSelectionDetails._navigateToDetails: 'fetchFieldInfosCallback' is not set! This is required to determine navigation.")}const i=t.getParameter("item");const n=i.getBindingContext();let s,o="";const r=await a(e,n);if(Object.keys(r).length===0){throw new Error("sap.ui.mdc.chart.ChartSelectionDetails._navigateToDetails: 'fetchFieldInfosCallback' returned an empty map! Could not determine navigation.")}if(Object.keys(r).length===1){s=await Object.values(r)[0].getContent(()=>e)}else{s=e._getDetailsList(e,r,n);o=p.getText("chart.SELECTION_DETAILS_BTN")}e.navTo(o,s)};g.prototype._getDetailsList=(t,e,a)=>{const i=Object.keys(e).map(t=>{const i=e[t];const n=new s({title:t,type:c.Navigation});n.data("fieldInfo",i);n.setBindingContext(a);return n});return new n({mode:l.SingleSelectMaster,rememberSelections:false,items:i,itemPress:async e=>{const a=e.getParameter("listItem");if(a){const e=a.data("fieldInfo");const i=await e.getContent(()=>t);t.navTo(a.getTitle(),i)}}})};g.prototype.setModal=function(t){this.setPopoverModal(t)};return g});
//# sourceMappingURL=ChartSelectionDetails.js.map