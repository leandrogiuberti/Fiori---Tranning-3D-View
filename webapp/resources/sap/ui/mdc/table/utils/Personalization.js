/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/enums/ProcessingStrategy","sap/ui/core/library"],(e,t)=>{"use strict";const n={};n.isUserPersonalizationActive=function(e){return e._bUserPersonalizationActive===true};n.detectUserPersonalizationCompletion=function(e,t){if(!t.isOpen()){return}e._bUserPersonalizationActive=true;t.attachEventOnce("afterClose",()=>{e.getEngine().waitForChanges(e).then(()=>{delete e._bUserPersonalizationActive})})};n.openSettingsDialog=function(e,t){const n=e.getInbuiltFilter();if(n){if(!t){n.setVisibleFields(null)}else{const r=e.getPropertyHelper().getProperty(t.getPropertyKey()).getFilterableProperties();const o=r.map(e=>e.name);n.setVisibleFields(o)}}r(e,e.getActiveP13nModes(),{reset:()=>{e.getEngine().reset(e)}})};n.openFilterDialog=function(e,t){r(e,"Filter",{close:t})};async function r(e,t,n={}){await e.finalizePropertyHelper();const r=e.getEngine();const o=await r.show(e,t,{reset:n.reset,close:()=>{n.close?.();r.waitForChanges(e).then(()=>{delete e._bUserPersonalizationActive})}});if(o){e._bUserPersonalizationActive=true}}n.createSortChange=function(e,n){e.getEngine().createChanges({control:e,key:"Sort",state:[{name:n.propertyKey,descending:n.sortOrder===t.SortOrder.Descending,sorted:n.sortOrder!==t.SortOrder.None}],applyAbsolute:true})};n.createGroupChange=function(e,t){const n=(e.getCurrentState().groupLevels||[]).some(e=>e.name===t.propertyKey);e.getEngine().createChanges({control:e,key:"Group",state:[{grouped:!n,name:t.propertyKey}],applyAbsolute:e._isOfType("ResponsiveTable")})};n.createClearGroupsChange=function(t){t.getEngine().createChanges({control:t,key:"Group",state:[],applyAbsolute:e.FullReplace})};n.createClearFiltersChange=function(t){t.getEngine().createChanges({control:t,key:"Filter",state:[],applyAbsolute:e.FullReplace})};n.createAggregateChange=function(e,t){const n=t.propertyKey in(e.getCurrentState().aggregations||{});e.getEngine().createChanges({control:e,key:"Aggregate",state:[{name:t.propertyKey,aggregated:!n}],applyAbsolute:false})};n.createColumnWidthChange=function(e,t){e.getEngine().createChanges({control:e,key:"ColumnWidth",state:[{name:t.column.getPropertyKey(),width:t.width}],applyAbsolute:false})};n.createColumnReorderChange=function(e,t){const n=e.indexOfColumn(t.column);if(n===t.index){return}e.getEngine().createChanges({control:e,key:"Column",state:[{name:t.column.getPropertyKey(),position:t.index}]})};n.createShowDetailsChange=function(e,t){e.getEngine().createChanges({control:e,key:"ShowDetails",state:[{name:"ResponsiveTable",showDetails:t.showDetails}],applyAbsolute:true})};n.createFixedColumnCountChange=function(e,t){e.getEngine().createChanges({control:e,key:"ColumnFreeze",state:[{name:"GridTable",fixedColumnCount:t.fixedColumnCount}],applyAbsolute:true})};return n});
//# sourceMappingURL=Personalization.js.map