/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/Personalization","sap/m/table/columnmenu/QuickActionContainer","sap/m/table/columnmenu/QuickSort","sap/m/table/columnmenu/QuickSortItem","sap/m/table/columnmenu/QuickGroup","sap/m/table/columnmenu/QuickGroupItem","sap/m/table/columnmenu/QuickTotal","sap/m/table/columnmenu/QuickTotalItem","sap/ui/core/Element","sap/ui/core/library"],(e,t,n,o,r,i,s,a,c,u)=>{"use strict";const g=t.extend("sap.ui.mdc.table.menus.QuickActionContainer",{metadata:{library:"sap.ui.mdc",associations:{table:{type:"sap.ui.mdc.Table"},column:{type:"sap.ui.mdc.table.Column"}}}});g.prototype.initializeQuickActions=function(){const t=this.getTable();const c=this.getColumn();const g=t.getPropertyHelper();this.destroyQuickActions();if(t.isSortingEnabled()){const r=g.getProperty(c.getPropertyKey()).getSortableProperties();const i=t._getSortedProperties();if(r.length>0){this.addQuickAction(new n({items:r.map(e=>{let t=u.SortOrder.None;const n=i.find(t=>t.name===e.name);if(n){t=n.descending?u.SortOrder.Descending:u.SortOrder.Ascending}return new o({key:e.name,label:e.label,sortOrder:t})}),change:function(n){const o=n.getParameter("item");e.createSortChange(t,{propertyKey:o.getKey(),sortOrder:o.getSortOrder()})}}))}}if(t.isGroupingEnabled()){const n=g.getProperty(c.getPropertyKey()).getGroupableProperties();const o=t._getGroupedProperties();if(n.length>0){this.addQuickAction(new r({items:n.map(e=>{const t=o.some(t=>t.name===e.name);return new i({key:e.name,label:e.label,grouped:t})}),change:function(n){e.createGroupChange(t,{propertyKey:n.getParameter("item").getKey()})}}))}}if(t.isAggregationEnabled()){const n=g.getProperty(c.getPropertyKey()).getAggregatableProperties();const o=t._getAggregatedProperties();if(n.length>0){this.addQuickAction(new s({items:n.map(e=>new a({key:e.name,label:e.label,totaled:o.hasOwnProperty(e.name)})),change:function(n){e.createAggregateChange(t,{propertyKey:n.getParameter("item").getKey()})}}))}}if(t.getEnableColumnResize()){this.addQuickAction(t._getType().createColumnResizeMenuItem(c,this.getMenu()));this.addQuickAction(t._getType().createColumnResizeInputMenuItem(c,this.getMenu()))}};g.prototype.updateQuickActions=function(e){const t=this.getTable();const n=t._getSortedProperties();const o=t._getGroupedProperties();const r=t._getAggregatedProperties();this.getQuickActions().forEach(t=>{if((!e||e.includes("Sort"))&&t.isA("sap.m.table.columnmenu.QuickSort")){t.getItems().forEach(e=>{const t=n.find(t=>t.name===e.getProperty("key"));if(t){e.setSortOrder(t.descending?u.SortOrder.Descending:u.SortOrder.Ascending)}else{e.setSortOrder(u.SortOrder.None)}})}else if((!e||e.includes("Group"))&&t.isA("sap.m.table.columnmenu.QuickGroup")){t.getItems().forEach(e=>{const t=o.some(t=>t.name===e.getProperty("key"));e.setGrouped(t)})}else if((!e||e.includes("Aggregate"))&&t.isA("sap.m.table.columnmenu.QuickTotal")){t.getItems().forEach(e=>{const t=r.hasOwnProperty(e.getProperty("key"));e.setTotaled(t)})}})};g.prototype.hasQuickActions=function(){return this.getEffectiveQuickActions().length>0};g.prototype.getTable=function(){return c.getElementById(this.getAssociation("table"))};g.prototype.getColumn=function(){return c.getElementById(this.getAssociation("column"))};return g});
//# sourceMappingURL=QuickActionContainer.js.map