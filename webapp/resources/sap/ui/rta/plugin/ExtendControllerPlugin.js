/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/dt/Util","sap/ui/fl/Utils","sap/ui/rta/plugin/Plugin"],function(t,e,n,o){"use strict";const r=o.extend("sap.ui.rta.plugin.ExtendController",{metadata:{library:"sap.ui.rta",properties:{handlerFunction:{type:"function"}},associations:{},events:{}}});const i="codeExt";function a(t){return!!n.getViewForControl(t.getElement())?.oAsyncState}r.prototype._isEditable=function(){return Promise.resolve(true)};r.prototype.isEnabled=function(t){return t.length===1&&!this.isInReuseComponentOnS4HanaCloud(t[0])&&a(t[0])};r.prototype.getActionText=function(e,n,o){const r=n.name;const i=e.getElement();let s;if(r){if(typeof r==="function"){return r(i)}s=e.getDesignTimeMetadata()?e.getDesignTimeMetadata().getLibraryText(i,r):""}else{s=t.getResourceBundleFor("sap.ui.rta").getText(o)}if(this.isInReuseComponentOnS4HanaCloud(e)){s+=` (${t.getResourceBundleFor("sap.ui.rta").getText("CTX_DISABLED_REUSE")})`}if(!a(e)){s+=` (${t.getResourceBundleFor("sap.ui.rta").getText("CTX_DISABLED_NOT_ASYNC")})`}return s};r.prototype.handler=async function(t,n){try{const e=n.handlerFunction||this.getHandlerFunction();if(!e){throw Error("Controller handler function is not available in the handler")}const o=t[0];const r=await e(o);const a=await this.getCommandFactory().getCommandFor(o.getElement(),i,r);this.fireElementModified({command:a})}catch(t){throw e.propagateError(t,"ExtentController#handler","Error occurred in ExtentController handler function","sap.ui.rta")}};r.prototype.getMenuItems=function(t){return this._getMenuItems(t,{pluginId:"CTX_EXTEND_CONTROLLER",icon:"sap-icon://create-form",additionalInfoKey:"EXTEND_CONTROLLER_RTA_CONTEXT_MENU_INFO"})};r.prototype.getActionName=function(){return"extendController"};r.prototype.getAction=function(t){const e=o.prototype.getAction.apply(this,[t]);return e||{changeType:i}};return r});
//# sourceMappingURL=ExtendControllerPlugin.js.map