/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/rta/plugin/BaseCreate","sap/ui/fl/Utils","sap/ui/dt/Util","sap/base/util/uid","sap/ui/core/IconPool","sap/ui/rta/plugin/iframe/AddIFrameDialog"],function(t,e,a,i,n,r,o){"use strict";function s(t,e,a,i){var n=!t;var r=this.getCreateAction(n,i,t);return a.getText(e,[r.text])}function d(t,e,i,r){var o=a.getViewForControl(t);var s=o.createId(n());var d;var g;if(e.frameWidth){d=e.frameWidth+e.frameWidthUnit}else{d="100%"}if(e.frameHeight){g=e.frameHeight+e.frameHeightUnit}else{g="100%"}return this.getCommandFactory().getCommandFor(t,"addIFrame",{targetAggregation:e.aggregation,baseId:s,index:e.index,url:e.frameUrl,width:d,height:g,title:e.title,advancedSettings:e.advancedSettings},i,r)}function g(t,e){var a=e[0];var n=!t;var r=this.getCreateAction(n,a,t);var s=this._getParentOverlay(n,a);var g=s.getElement();var l=s.getDesignTimeMetadata();var c=0;if(n){var u=a.getElement();var h=l.getAggregation(r.aggregation).getIndex;c=this._determineIndex(g,u,r.aggregation,h)}var f=this.getVariantManagementReference(s);var m=!!r.getCreatedContainerId;var v=new o;var I;o.buildUrlBuilderParametersFor(g).then(function(t){var e={parameters:t,asContainer:m};return v.open(e,g)}).then(function(t){if(!t){return Promise.reject()}t.index=c;t.aggregation=r.aggregation;I=t.title;return d.call(this,g,t,l,f)}.bind(this)).then(function(t){this.fireElementModified({command:t,newControlId:t.getBaseId(),action:m?r:undefined,title:I})}.bind(this)).catch(function(t){if(t){throw i.createError("AddIFrame#handler",t,"sap.ui.rta")}})}var l=e.extend("sap.ui.rta.plugin.AddIFrame",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});l.prototype.isEnabled=function(t,e){var a=e[0];var i=!t;var n=this.getCreateAction(i,a,t);return this.isActionEnabled(n,i,a)};l.prototype.getMenuItems=async function(e){function a(e){var a=t.getResourceBundleFor("sap.ui.rta");var i=a.getText("CTX_ADDIFRAME_GROUP");return{text:s.bind(this,e,"CTX_ADDIFRAME",a),handler:g.bind(this,e),enabled:this.isEnabled.bind(this,e),isSibling:!e,icon:"sap-icon://tnt/content-enricher",group:i}}r.registerFont({collectionName:"tnt",fontFamily:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:false});await r.fontLoaded("tnt");var i=this.getRank("CTX_CREATE_SIBLING_IFRAME");var n=[];var o=true;if(this.isAvailable(e,o)){var d=this.getCreateAction(o,e[0]);if(d){var l={id:"CTX_CREATE_SIBLING_IFRAME",additionalInfo:this._getAdditionalInfo(e[0],d,{additionalInfoKey:"IFRAME_RTA_CONTEXT_MENU_INFO"}),rank:i,action:d,...a.call(this)};n.push(this.enhanceItemWithResponsibleElement(l,e))}}o=false;if(this.isAvailable(e,o)){n=n.concat(this.getCreateActions(o,e[0]).map(function(t){var n={action:t,id:`CTX_CREATE_CHILD_IFRAME_${t.aggregation.toUpperCase()}`,additionalInfo:this._getAdditionalInfo(e[0],t,{additionalInfoKey:"IFRAME_RTA_CONTEXT_MENU_INFO"}),rank:++i,...a.call(this,t.aggregation)};return this.enhanceItemWithResponsibleElement(n,e)},this))}return n};l.prototype.getActionName=function(){return"addIFrame"};return l});
//# sourceMappingURL=AddIFrame.js.map