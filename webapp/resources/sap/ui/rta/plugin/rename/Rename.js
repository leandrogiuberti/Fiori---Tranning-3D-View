/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/rta/plugin/rename/RenameDialog","sap/ui/rta/plugin/Plugin"],function(e,t,n){"use strict";var i=n.extend("sap.ui.rta.plugin.Rename",{metadata:{library:"sap.ui.rta",properties:{oldValue:"string"},associations:{},events:{editable:{},nonEditable:{}}}});i.prototype.init=function(...e){n.prototype.init.apply(this,e);this._oDialog=new t};i.prototype.startEdit=async function(e){const t=this.getResponsibleElementOverlay(e);const n=this.getAction(e).domRef;const i=await this._oDialog.openDialogAndHandleRename({overlay:e,domRef:n,action:this.getAction(t)});if(i){this.createRenameCommand(e,i)}};i.prototype.handler=function(e){const t=this.getSelectedOverlays();const[n]=t?.length>0?t:e;this.startEdit(n)};i.prototype.isRenameAvailable=function(e){return this._isEditableByPlugin(e)};i.prototype.isRenameEnabled=function(e){return this.isEnabled(e)};i.prototype.isEnabled=function(e){if(e.length>1){return false}var t=e[0];var n=this.getResponsibleElementOverlay(t);var i=true;if(!this.getAction(n)){i=false}var a=this.getAction(t);if(i&&typeof a.isEnabled!=="undefined"){if(typeof a.isEnabled==="function"){i=a.isEnabled(t.getElement())}else{i=a.isEnabled}}if(i){var o=t.getDesignTimeMetadata();var r=o.getAssociatedDomRef(t.getElement(),a.domRef);if(!r){i=false}}return i};i.prototype._isEditable=function(e){return this._checkChangeHandlerAndStableId(e)};i.prototype.createRenameCommand=function(t,n){var i=this.getResponsibleElementOverlay(t);var a=i.getElement();var o=i.getDesignTimeMetadata();var r=this.getVariantManagementReference(i);return this.getCommandFactory().getCommandFor(a,"rename",{renamedElement:a,newValue:n},o,r).then(function(e){this.fireElementModified({command:e})}.bind(this)).catch(function(t){e.error("Error during rename: ",t)})};i.prototype.getMenuItems=function(e){return this._getMenuItems(e,{pluginId:"CTX_RENAME",icon:"sap-icon://edit"})};i.prototype.getActionName=function(){return"rename"};i.prototype.destroy=function(...e){n.prototype.destroy.apply(this,e);this._oDialog.destroy();delete this._oDialog};return i});
//# sourceMappingURL=Rename.js.map