/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/m/Image","sap/ui/rta/toolbar/Adaptation","sap/ui/rta/toolbar/AdaptationRenderer","sap/ui/rta/Utils"],function(t,i,e,o,n){"use strict";const s="sapUiRtaFioriHeaderInvisible";const r=e.extend("sap.ui.rta.toolbar.Fiori",{metadata:{library:"sap.ui.rta",properties:{ushellApi:{type:"any",defaultValue:null}}},renderer:o,type:"fiori"});r.prototype.init=function(...t){this._oRenderer=n.getFiori2Renderer();this._oFioriHeader=this._oRenderer.getRootControl().getShellHeader();e.prototype.init.apply(this,t)};r.prototype.show=function(...t){this._oFioriHeader.addStyleClass(s);return e.prototype.show.apply(this,t)};r.prototype.buildControls=function(...t){return e.prototype.buildControls.apply(this,t).then(function(t){const e=this.getUshellApi().getLogo();if(e){const t=this.getUshellApi().getLogoDomRef();let o;let n;if(t){o=t.getBoundingClientRect().width;n=t.getBoundingClientRect().height;this._checkLogoSize(t,o,n)}this.getControl("iconSpacer").setWidth("8px");this._iLogoWidth=o+8;this.getControl("iconBox").addItem(new i(`${this.getId()}_fragment--sapUiRta_icon`,{src:e,width:typeof o==="number"?`${o}px`:o,height:typeof n==="number"?`${n}px`:n}))}return t}.bind(this))};r.prototype.hide=function(...t){return e.prototype.hide.apply(this,t).then(function(){this._oFioriHeader.removeStyleClass(s)}.bind(this))};r.prototype._checkLogoSize=function(i,e,o){const n=i.naturalWidth;const s=i.naturalHeight;if(Math.round(e)!==n||Math.round(o)!==s){t.error(["sap.ui.rta: please check Fiori Launchpad logo, expected size is",`${e}x${o},`,`but actual is ${n}x${s}`].join(" "))}};r.prototype._restoreHiddenElements=function(){if(this._iLogoVisibilityLimit&&window.innerWidth>this._iLogoVisibilityLimit){this._setLogoVisibility(true);delete this._iLogoVisibilityLimit}e.prototype._restoreHiddenElements.apply(this)};r.prototype._hideElementsOnIntersection=function(...t){const[i,o]=t;let n;if(o[0].intersectionRatio===0){this.adjustToolbarSectionWidths();this._observeIntersections();return}if(o[0].intersectionRatio<1){if(!this._iLogoVisibilityLimit&&i===e.LEFT_SECTION){const i=o[0].boundingClientRect.width-o[0].intersectionRect.width;n=i>this._iLogoWidth;this._iLogoVisibilityLimit=this._calculateWindowWidth(o);this._setLogoVisibility(false);if(n){e.prototype._hideElementsOnIntersection.apply(this,t)}return}}e.prototype._hideElementsOnIntersection.apply(this,t)};r.prototype._setLogoVisibility=function(t){const i=this.getControl("iconBox");const e=this.getControl("iconSpacer");i.setVisible(t);e.setVisible(t)};r.prototype.destroy=function(...t){this._oFioriHeader.removeStyleClass(s);e.prototype.destroy.apply(this,t)};return r});
//# sourceMappingURL=Fiori.js.map