/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/fl/variants/VariantManager","sap/ui/fl/Utils","sap/ui/rta/command/BaseCommand"],function(t,e,a,n){"use strict";const i=n.extend("sap.ui.rta.command.ControlVariantSwitch",{metadata:{library:"sap.ui.rta",properties:{targetVariantReference:{type:"string"},sourceVariantReference:{type:"string"},discardVariantContent:{type:"boolean"},discardedChanges:{type:"array"}},associations:{},events:{}},constructor:function(...t){n.apply(this,t);this.setRelevantForSave(false)}});async function r(t){const a=await e.eraseDirtyChangesOnVariant(this.sVariantManagementReference,t,this.getElement());this.setDiscardedChanges(a)}i.prototype.execute=async function(){const t=this.getElement();const e=this.getTargetVariantReference();this.sVariantManagementReference=t.getVariantManagementReference();if(this.getDiscardVariantContent()){await r.call(this,this.getSourceVariantReference())}this._updateVariant(e)};i.prototype.undo=async function(){const t=this.getSourceVariantReference();await this._updateVariant(t);if(this.getDiscardVariantContent()){await e.addAndApplyChangesOnVariant(this.getDiscardedChanges(),this.getElement());this.setDiscardedChanges([])}};i.prototype._updateVariant=async function(e){if(this.getTargetVariantReference()!==this.getSourceVariantReference()){await t.activateVariant({element:this.getElement(),variantReference:e})}};return i});
//# sourceMappingURL=ControlVariantSwitch.js.map