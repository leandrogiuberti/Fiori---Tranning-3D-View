{"version":3,"file":"Stack.js","names":["sap","ui","define","ManagedObject","JsControlTreeModifier","Lib","PersistenceWriteAPI","FlUtils","CompositeCommand","FlexCommand","ManifestCommand","Settings","showMessageBox","pushToStack","oComponent","mComposite","oStack","oChange","oSelector","getSelector","oCommand","selector","changeType","getChangeType","element","bySelector","_oPreparedChange","sCompositeId","getSupportInformation","compositeCommand","pushExecutedCommand","addCommand","handleDiscardedChanges","aDiscardedChanges","bSaveRelevant","aAllExecutedCommands","this","getAllExecutedCommands","forEach","some","oExecutedCommand","vPreparedChange","getPreparedChange","Array","isArray","oPreparedChangeItem","getId","setRelevantForSave","Stack","extend","metadata","library","properties","saved","type","defaultValue","lastCommandExecuted","Promise","resolve","lastCommandUnExecuted","aggregations","commands","multiple","events","modified","initializeWithChanges","async","oControl","aFileNames","_aPersistedChanges","length","getAppComponentForControl","mPropertyBag","invalidateCache","aChanges","_getUIChanges","mChanges","reduce","sFileName","push","bind","prototype","init","_aCommandExecutionHandler","_toBeExecuted","_getCommandToBeExecuted","getCommands","fireModified","bExecuted","_bUndoneCommands","pop","insertCommand","top","removeCommand","vObject","bSuppressInvalidate","oRemovedCommand","removeAggregation","removeAllCommands","aCommands","removeAllAggregation","isEmpty","addCommandChangesToPersistence","oAppComponent","aSubCommands","getSubCommands","aManifestPromises","map","oSubCommand","getRuntimeOnly","undefined","createAndStoreChange","getAppComponent","filter","Boolean","all","indexOf","add","flexObjects","removeCommandChangesFromPersistence","aFlexObjects","remove","execute","setLastCommandExecuted","getLastCommandExecuted","catch","then","call","getDiscardedChanges","oCaughtError","oError","Error","index","command","oRtaResourceBundle","getResourceBundleFor","sErrorMessage","isA","message","getText","title","_unExecute","setLastCommandUnExecuted","getLastCommandUnExecuted","canUndo","undo","canSave","getRelevantForSave","canRedo","redo","pushAndExecute","i","concat","compositeLastTwoCommands","oLastCommand","oSecondLastCommand","oCompositeCommand"],"sources":["Stack-dbg.js"],"mappings":"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","ignoreList":[]}