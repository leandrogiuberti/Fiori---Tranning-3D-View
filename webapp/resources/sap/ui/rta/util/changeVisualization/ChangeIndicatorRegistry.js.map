{"version":3,"file":"ChangeIndicatorRegistry.js","names":["sap","ui","define","values","_omit","Log","ManagedObject","JsControlTreeModifier","ElementUtil","ChangesWriteAPI","FlUtils","ChangeCategories","ChangeStates","ChangeIndicatorRegistry","extend","metadata","properties","changeCategories","type","defaultValue","rootControlId","constructor","aArgs","prototype","apply","this","_oRegisteredChanges","_oChangeIndicators","exit","reset","getAllRegisteredChanges","map","oChange","getRegisteredChangeIds","Object","keys","getRegisteredChange","sChangeId","getSelectorsWithRegisteredChanges","oChangeIndicators","sPreviousAffectedElementId","addSelector","sSelectorId","sAffectedElementId","oChangeIndicatorData","bDependent","undefined","push","id","change","getId","dependent","affectedElementId","displayElementsKey","visualizationInfo","displayElementIds","toString","descriptionPayload","forEach","sId","iIndex","affectedElementIds","getRelevantChangesWithSelector","oSelectors","aRelevantChanges","aRelevantChangesForSelector","filter","concat","getChangeIndicator","getChangeIndicators","registerChange","sCommandName","oVersionsModel","oAppComponent","getAppComponentForControl","getElementInstance","getRootControlId","getVisualizationInfo","then","mChangeVisualizationInfo","aCategories","getChangeCategories","sChangeCategory","includes","category","find","sChangeCategoryName","OTHER","aChangeStates","aDraftChangesList","getData","draftFilenames","getState","getDraftAndDirtyStates","DRAFT","ALL","commandName","changeCategory","changeStates","bind","getSelectorIds","aSelectorList","vSelector","oElement","bySelector","Boolean","getInfoFromChangeHandler","oInfoFromChangeHandler","mVisualizationInfo","aChangeSelectors","getSelector","aAffectedElementSelectors","affectedControls","oChangeOriginalSelector","getOriginalSelector","aDisplayElementSelectors","dependentElementIds","dependentControls","displayControls","updateRequired","oSelector","oControl","getChangeHandler","changeType","getChangeType","element","modifier","layer","getLayer","oChangeHandler","getChangeVisualizationInfo","isSuccessfullyApplied","catch","vErr","error","Promise","resolve","registerChangeIndicator","oChangeIndicator","waitForIndicatorRendering","aVisibleIndicators","oIndicator","getVisible","all","waitForRendering","sKeyToRemove","removeRegisteredChange","destroy","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","length"],"sources":["ChangeIndicatorRegistry-dbg.js"],"mappings":"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","ignoreList":[]}