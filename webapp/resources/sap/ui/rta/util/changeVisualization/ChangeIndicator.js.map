{"version":3,"file":"ChangeIndicator.js","names":["sap","ui","define","DateFormat","Control","Element","Fragment","Lib","StaticArea","OverlayRegistry","KeyCodes","FlUtils","JSONModel","getCommandVisualization","ChangeCategories","ChangeVisualizationUtils","resolveBinding","ChangeIndicator","extend","metadata","library","properties","changes","type","defaultValue","posX","posY","overlayId","selectorId","connectedElementId","aggregations","_popover","multiple","visibility","events","selectChange","parameters","changeId","keyPress","originalEvent","detailPopoverOpened","renderer","apiVersion","render","oRm","oControl","openStart","class","sTooltip","getTooltip_AsString","attr","openEnd","getId","text","close","constructor","aArgs","this","_oDetailModel","setDefaultBindingMode","_fnHoverTrue","_setHoverStyleClasses","bind","_fnHoverFalse","prototype","apply","_bEventAttachedToElement","_oRenderPromise","Promise","resolve","_fnRendered","handleBrowserEventsOnOverlay","oOverlay","sEventHandler","_onSelect","_onKeyDown","handleBrowserEventsOnIndicator","oIndicator","centerVertically","oIndicatorDomRef","getDomRef","iOverlayHeight","getElementById","getOverlayId","offsetHeight","iIndicatorHeight","addStyleClass","removeStyleClass","getTexts","mChangeInformation","oRtaResourceBundle","sOverlayId","oAffectedElement","affectedElementId","mDescriptionPayload","Object","keys","descriptionPayload","reduce","sKey","vOriginalValue","bIsBinding","isBinding","vValue","mPropertyBag","appComponent","getAppComponentForControl","sElementLabel","getDesignTimeMetadata","getLabel","oCommandVisualization","oDescription","getDescription","sCommandName","commandName","sDescriptionText","sDescriptionTooltip","description","descriptionText","descriptionTooltip","changeCategory","sShortenedElementLabel","shortenString","sChangeTextKey","toUpperCase","getText","length","sDetailButtonText","buttonText","sIconTooltip","tooltip","iconTooltip","getDates","sCreationDate","change","getCreation","oDate","Date","sFallbackDate","fullDate","getDateTimeInstance","format","relativeDate","relative","formatChangesModelItem","getResourceBundleFor","oTexts","oDates","id","detailButtonText","icon","getIconForCategory","init","_iOldTabIndex","call","setVisible","bVisible","getAggregation","destroy","focus","_bScheduledForFocus","setOverlayId","oDomRef","parentNode","removeChild","placeAt","setProperty","onAfterRendering","appendChild","tabIndex","waitForRendering","exit","setChanges","aChanges","aSortedChanges","sort","a","b","reverse","aFormattedChanges","map","setData","setTooltip","oEvent","stopPropagation","_toggleDetailPopover","keyCode","ENTER","SPACE","fireKeyPress","onDetailPopoverOpened","preventDefault","onIndicatorBrowserInteraction","bAdd","getMetadata","getName","sFunctionName","getConnectedElementId","oConnectedElementOverlay","getOverlay","getAttribute","load","name","sId","controller","then","oPopover","_bOpenedByChangeIndicator","setAggregation","setModel","openBy","isOpen","undefined","_showDependentElements","sChangeId","getChanges","getSource","getBindingContext","getObject","fireSelectChange"],"sources":["ChangeIndicator-dbg.js"],"mappings":"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","ignoreList":[]}