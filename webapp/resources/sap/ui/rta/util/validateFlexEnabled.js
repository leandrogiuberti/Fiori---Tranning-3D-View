/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Utils","sap/m/MessageBox","sap/base/util/ObjectPath","sap/ui/rta/util/validateStableIds","sap/ui/rta/util/showMessageBox","sap/base/Log","sap/ui/rta/Utils","sap/ui/dt/Util"],function(t,e,n,o,a,s,i,r){"use strict";return function(c){const l={};let g=[];const u=t.getAppComponentForControl(c.getRootControlInstance());function p(t,n,o,s,r){const c=n.getId();if(!l[c]){a(t._getTextResources().getText(o),{icon:e.Icon[s],title:t._getTextResources().getText(r),styleClass:i.getRtaStyleClassName()},"show");f(c,true)}}function f(t,e){l[t]=e}function d(t){const e=t.getManifest();return n.get(["sap.app","id"],e)!=="sap.ui.documentation.sdk"&&!(n.get(["sap.app","id"],e)||"").startsWith("sap.ui.rta")&&!n.get(["sap.ovp"],e)}function m(){return"QUnit"in window||window.frameElement&&(window.frameElement.getAttribute("id")||"").toLowerCase()==="opaframe"}function E(t){return t&&!t._bIsBeingDestroyed}function I(e){const n=e.getParameters().mode;if(n==="adaptation"){const n=e.getSource();const o=t.getAppComponentForControl(n.getRootControlInstance());g=g.filter(E);C(n,o,g);g=[]}}function R(e,n){const o=e.getParameters().elementOverlay;if(n.getMode()==="adaptation"){const e=t.getAppComponentForControl(n.getRootControlInstance());r.waitForSynced(n._oDesignTime,function(t){if(E(t)){C(n,e,[t])}})(o)}else{g.push(o)}}function C(t,e,n){const a=o(n,e);if(a.length){a.forEach(function(t){s.error("Control ID was generated dynamically by SAPUI5. To support SAPUI5 flexibility, a stable control ID is needed to assign the changes to.",t.getElement().getId())});p(t,e,"MSG_UNSTABLE_ID_FOUND","ERROR","HEADER_ERROR")}}c.attachEventOnce("stop",function(){f(u.getId(),false)});if(u&&d(u)){const t=u.getManifest();const e=n.get(["sap.ui5","flexEnabled"],t);if(typeof e!=="boolean"){if(!m()){p(c,u,"MSG_NO_FLEX_ENABLED_FLAG","WARNING","HEADER_WARNING")}}else{c.attachEvent("modeChanged",I);c._oDesignTime.attachEvent("elementOverlayCreated",c,R);C(c,u,c._oDesignTime.getElementOverlays())}}}});
//# sourceMappingURL=validateFlexEnabled.js.map