/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/ObjectPath","sap/ui/base/DataType","sap/ui/core/Lib","sap/ui/test/generic/GenericTestCollection","require"],function(e,t,n,a,r){"use strict";var s={loadClass:function(t,n){return new Promise(function(a){var s=n?n:t.replace(/\./g,"/");r([s],function(r){if(n){r=e.get(t)}a({className:t,fnClass:r,error:undefined})},function(n){var r=e.get(t);a({className:t,fnClass:r,error:n})})})},loadAllControls:function(e,t){var a=e.library;var r=e.objectCapabilities||{};var o=[];t=t||{};var i=[];var l=function(){return n.load(a).then(function(e){var n=e?e.controls:[];if(t.includeElements){n=n.concat(e.elements)}n=n.filter(function(e){return!o.includes(e)});if(n.length>0){n.forEach(function(e){var t=r[e]&&r[e].moduleName;i.push(s.loadClass(e,t));o.push(e)});return Promise.all(i).then(l)}return Promise.all(i)})};return l().then(function(e){var t;var n=e.filter(function(e){return e.error!==undefined});e=e.filter(function(e){return!!e.fnClass});if(n.length){QUnit.test("Controls only available in global namespace",function(e){for(t=0;t<n.length;t++){e.ok(false,n[t].className+" seems to be only available using global namespace."+" If the class exists, but is not a module of its own, then specify the module that contains the class within the testsuite config.")}})}return e})},createControlOrElement:function(e,t,n){if(t&&t.create){return t.create(e,n)}else{return new e(n)}},fillControlProperties:function(e,n){const r=e.getMetadata().getAllProperties();const s=n&&n.properties||{};let o="test";for(const n in r){const i=r[n];let l;if(s[n]){if(a.ExcludeReason.hasOwnProperty(s[n])){l=s[n]}else{o=s[n]}}if(l!==a.ExcludeReason.NotChangeableAfterInit&&l!==a.ExcludeReason.SetterNeedsSpecificSettings&&l!==a.ExcludeReason.OnlyChangeableViaBinding){try{const n=t.getType(i.type);o=n?.getDefaultValue();if(i.type==="int"){o=100}e[i._sMutator](o)}catch(e){}}}try{e.setTooltip("test")}catch(e){QUnit.assert.ok(true,"WARNING: setTooltip is not able to handle strings")}},fillControlAggregations:function(e,n){var r=e.getMetadata(),o=n[r.getName()],i=r.getAggregations();return Promise.all(Object.values(i).map(function(r){var i=r.type;switch(r.type){case"sap.ui.core.Control":i="sap.m.Text";break;case"sap.ui.core.Element":i="sap.ui.core.Icon";break;case"sap.ui.core.Toolbar":i="sap.m.Toolbar";break;default:i=r.type;break}if(o&&o.aggregations&&o.aggregations[r.name]){if(a.ExcludeReason.hasOwnProperty(o.aggregations[r.name])){var l=o.aggregations[r.name];if(l===a.ExcludeReason.NotChangeableAfterInit||l===a.ExcludeReason.SetterNeedsSpecificSettings){return Promise.resolve(undefined)}}else{i=o.aggregations[r.name]}}var c=n[i]&&n[i].moduleName?n[i].moduleName:undefined;if(t.isInterfaceType(i)){return Promise.resolve(undefined)}return s.loadClass(i,c).then(function(t){var n;if(!t.fnClass){QUnit.assert.ok(false,"No class of type "+i+" for aggregation '"+r.name+"' of "+e+" could be loaded. Does this class exist? Is it properly implemented?");return}if(t.fnClass.getMetadata().isAbstract()){return}else{n=new t.fnClass}if(n){e[r._sMutator](n)}return n}).catch(function(){})}))}};return s});
//# sourceMappingURL=Utils.js.map