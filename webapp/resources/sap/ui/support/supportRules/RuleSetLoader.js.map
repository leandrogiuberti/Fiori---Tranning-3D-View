{"version":3,"file":"RuleSetLoader.js","names":["sap","ui","define","Log","extend","ObjectPath","VersionInfo","Lib","Supportability","RuleSet","CommunicationBus","channelNames","RuleSerializer","constants","EvalUtils","Utils","jQuery","getAbsoluteUrl","a","url","document","createElement","href","replace","sCustomSuffix","sSupportModulePath","require","toUrl","sSupportModuleRootPath","sAbsUrl","RuleSetLoader","_mRuleLibs","_mRequireRuleLibs","getRuleLibs","this","addRuleLib","sLibName","oRuleLib","getRuleLib","_fetchSupportRuleSets","fnReadyCbk","mLibraries","mLoadedLibraries","all","oLibNamesWithRulesPromise","_fetchLibraryNamesWithSupportRules","load","library","then","oCoreLibInfo","versionInfo","oLibNamesWithRules","Promise","_fetchLibraryFiles","_fetchRuleLib","bind","_bRulesCreated","publish","UPDATE_SUPPORT_RULES","sRuleSet","serialize","oVersionInfo","loadAdditionalRuleSets","aLibNames","that","aLibFetchPromises","oLoadedLibraries","mainResolve","canLoadInternalRulesAsync","bCanLoadInternalRules","oLibNames","publicRules","internalRules","allRules","aAllMetaPromises","Object","keys","forEach","oMetaPromise","resolve","rcFilePath","ajax","type","dataType","success","data","lib","rcData","error","push","metaArgs","metaInfo","bHasRules","indexOf","fnProcessFile","aAjaxPromises","supportModulePath","supportModulesRoot","canLoadInternalRules","bHasInternalRules","length","iProgress","iRulesNumber","supportModeConfig","getSupportSettings","bSilentMode","reportCurrentLoadingProgress","iPercentileProgressValue","Math","ceil","CURRENT_LOADING_PROGRESS","value","oLibName","customizableLibName","_registerLibraryPath","oLibPublicRulesPromise","_requireRuleLib","internalLibName","oLibPrivateRulesPromise","libraryName","libResourceName","customizableLibResourceName","loadFromSupportOrigin","_getLoadFromSupportOrigin","pathsConfig","internalLibResourceName","libraryInternalResourceRoot","loader","config","paths","sLibraryName","oLibSupport","call","ex","sNormalizedLibName","get","support","ruleset","mergeRuleSet","_createRuleLib","e","SUPPORT_ASSISTANT_NAME","coreUri","URL","baseURI","supportUri","origin","fetchNonLoadedRuleSets","aLoadedLibraries","oLibraries","libraries","oLib","name","aNonLoadedLibraries","POST_AVAILABLE_LIBRARIES","libNames","_onLibraryChanged","oEvent","getParameter","_oMainPromise","updateRuleSets","oLibrarySupport","niceName","oRuleSet","getAllRules","mRules","map","getRules","getAllRuleDescriptors","sRuleId","libName","ruleId","isEvalAllowed","TEMP_RULESETS_NAME"],"sources":["RuleSetLoader-dbg.js"],"mappings":"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","ignoreList":[]}