/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/comp/smarttable/flexibility/Utils","sap/ui/core/Lib","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/base/ManagedObjectMetadata"],function(e,t,o,a){"use strict";var r={};function n(e){var t=e.getMetadata().getName();var o=t.slice(t.lastIndexOf(".")+1)+" - ";if(e.getText&&e.getText()){o=o+e.getText()}else if(e.getTooltip_AsString&&e.getTooltip_AsString()){o=o+e.getTooltip_AsString()}else{o=o+e.getId()}return o}function s(e,t){var o=[];for(var r=0;r<e.length;r++){if(!e[r].hasStyleClass("sapUiCompSmartTableToolbarContent")&&e[r]!=t._oSeparator&&!a.isGeneratedId(e[r].getId())){o.push(e[r])}}return o}r.isEnabled=function(e){var t=e.getCustomToolbar();if(t&&!t.hasStyleClass("sapUiCompSmartTableToolbar")){var o=s(t.getContent(),e);return o.length>=2}return false};r.handleToolbarSettings=function(o,a){return new Promise(function(r,l){sap.ui.require(["sap/m/p13n/Popup","sap/m/p13n/SelectionPanel"],function(i,u){var p=[];var T=[];var c=o.getCustomToolbar();var g=s(c.getContent(),o);var f=e.getAppComponentForControl(o)||null;for(var d=0;d<g.length;d++){var v=e.getSelectorForControl(g[d],f);p.push({visible:true,name:v.id,label:n(g[d]),selector:v});T.push(v)}var C=new u({title:t.getResourceBundleFor("sap.ui.comp").getText("SMARTTABLE_RTA_REARRANGE_TOOLBAR_CONTENT_TABLE_TITLE"),enableCount:false,showHeader:false});var m=new i({title:t.getResourceBundleFor("sap.ui.comp").getText("SMARTTABLE_RTA_REARRANGE_TOOLBAR_CONTENT_TITLE"),close:function(e){var t=e.getParameter("reason");if(t==="Cancel"){m.destroy();l();return}p=C.getP13nData();m.destroy();var a=false;var n=[];for(var s=0;s<p.length;s++){n.push(p[s].selector);if(T[s].id!=n[s].id){a=true}}if(a){r([{selectorControl:o,changeSpecificData:{changeType:"ToolbarContentMove",content:{order:n}}}])}else{l()}},panels:[C]});C.getSelectedFields=function(){var e=[];this._loopItems(this._oListControl,function(t,o){e.push(o)});return e};C._oListControl.setMode("None");C.setP13nData(p);m.open(c);m.addStyleClass(a.styleClass)})})};return r});
//# sourceMappingURL=ToolbarContentMoveHandler.js.map