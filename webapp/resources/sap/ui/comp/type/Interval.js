/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/base/i18n/Formatting","sap/ui/comp/util/DateTimeUtil","sap/ui/core/Locale","sap/ui/model/CompositeType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/core/LocaleData"],function(e,t,i,a,n,r,s,l){"use strict";var o=a.extend("sap.ui.comp.type.Interval",{constructor:function(){a.apply(this,arguments);this.sName="Interval";this.bUseInternalValues=true}});o.prototype.formatValue=function(e,t){if(e==undefined||e==null){return null}if(!Array.isArray(e)){throw new n("Cannot format interval: "+e+" is expected as an Array but given the wrong format")}if(e.length<1||e.length>2){throw new n("Cannot format interval: "+e+" is expected as an Array with 1 or 2 entries")}if(!t){t="string"}switch(this.getPrimitiveType(t)){case"string":case"any":if(e[0]===null&&(e.length===1||e[1]===null)){return""}var i=this.oFormatOptions.type;var a=u.call(this,i);var r;var s;var l;if(i){if(i.isA("sap.ui.model.odata.type.Time")){r=i.formatValue(f(e[0]),"string")}else{r=i.formatValue(e[0],"string")}}else{r=e[0]}if(e.length===1||e[1]===null){l=r}else{if(i){if(i.isA("sap.ui.model.odata.type.Time")){s=i.formatValue(f(e[1]),"string")}else{s=i.formatValue(e[1],"string")}}else{s=e[1]}l=a.replace(/\{0\}/g,r).replace(/\{1\}/g,s)}return l;default:throw new n("Don't know how to format Interval to "+t)}};o.prototype.parseValue=function(e,t,i){if((!t||t==="any")&&typeof e==="string"){t="string"}switch(this.getPrimitiveType(t)){case"string":if(!e){return[null,null]}var a=this.oFormatOptions.type;var n=u.call(this,a);var s=p.call(this,a);var l=[];var o=e.indexOf(s);var f=null;var h=null;if(o<0&&s.length>1){s=s.replace(/\s+/g,"");o=e.indexOf(s)}if(o<0&&s!==" - "&&s!=="-"){s=" - ";o=e.indexOf(s)}if(o<0&&s!=="-"){s="-";o=e.indexOf(s)}if(o===0&&s==="-"){o=e.slice(1).indexOf(s);if(o>=0){o++}}if(o<0){f=e;if(!f){throw new r(e+" is not a valid interval")}}else if(o===0){f="";h=e.slice(s.length);if(!h){throw new r(e+" is not a valid interval")}}else{f=e.slice(0,o);h=e.slice(o+s.length);if(!f||!h){throw new r(e+" is not a valid interval")}}if(a){f=a.parseValue(f,"string");if(a.isA("sap.ui.model.odata.type.Time")){f=m(f)}if(o>=0){h=a.parseValue(h,"string");if(a.isA("sap.ui.model.odata.type.Time")){h=m(h)}}}if(n.indexOf("{0}")<n.indexOf("{1}")){l.push(f);l.push(h)}else{l.push(h);l.push(f)}return l;default:throw new r("Don't know how to parse Interval from "+t)}};o.prototype.validateValue=function(e){if(e==undefined||e==null){return}if(!Array.isArray(e)){throw new s("An array is expected")}if(e.length<1||e.length>2){throw new s("There must be only one or two values in the array")}if(e.length===2&&e[1]!==null&&typeof e[0]!==typeof e[1]){throw new s("Low and high value must have the same type")}var t=this.oFormatOptions.type;if(t){if(t.isA("sap.ui.model.odata.type.Time")){t.validateValue(f(e[0]))}else{t.validateValue(e[0])}if(e.length===2&&e[1]!==null){if(t.isA("sap.ui.model.odata.type.Time")){t.validateValue(f(e[1]))}else{t.validateValue(e[1])}}}if(typeof e[0]==="number"){if(e.length===2&&e[1]!==null&&e[0]>e[1]){throw new s("Low value must be smaller than high value")}}else if(e[0]instanceof Date){if(e.length===2&&e[1]instanceof Date&&e[0]>e[1]){throw new s("Low value must be smaller than high value")}}};o.prototype._handleLocalizationChange=function(){delete this._sPattern;delete this._sDelimiter};function u(t){if(this.oFormatOptions.delimiter){return"{0} "+this.oFormatOptions.delimiter+" {1}"}else if(!this._sPattern){var a=new i(e.getLanguageTag());var n=l.getInstance(a);if(t&&(t.isA("sap.ui.model.type.Time")||t.isA("sap.ui.model.odata.type.Time")||t.isA("sap.ui.model.type.Date")||t.isA("sap.ui.model.odata.type.Date")||t.isA("sap.ui.model.type.DateTime")||t.isA("sap.ui.model.odata.type.DateTime")||t.isA("sap.ui.model.odata.type.DateTimeOffset")||t.isA("sap.ui.model.odata.type.TimeOfDay"))){this._sPattern=n.getIntervalPattern()}else{this._sPattern=n.getMiscPattern("range")}return this._sPattern}else{return this._sPattern}}function p(e){if(this.oFormatOptions.delimiter){return this.oFormatOptions.delimiter}else if(!this._sDelimiter){var t=u.call(this,e);this._sDelimiter=t.replace(/\{0\}/g,"").replace(/\{1\}/g,"");return this._sDelimiter}else{return this._sDelimiter}}function f(e){if(e instanceof Date){e=t.localToUtc(e);return t.dateToEdmTime(e)}else{return e}}function m(e){var i;if(e&&e.ms){i=t.edmTimeToDate(e);return t.utcToLocal(i)}else{return e}}return o});
//# sourceMappingURL=Interval.js.map