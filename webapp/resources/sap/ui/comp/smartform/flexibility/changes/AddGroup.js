/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/changeHandler/condenser/Classification"],function(e,r){"use strict";var t={};t.applyChange=function(e,r,t){var o=t.modifier;var n=t.appComponent;var i=t.view;var a=e.getContent();var g=e.getTexts();if(g&&g.groupLabel&&g.groupLabel.value&&a&&a.group&&(a.group.selector||a.group.id)){var u=g.groupLabel.value;var s=a.group.index;var p=a.group.selector;return Promise.resolve().then(o.createControl.bind(o,"sap.ui.comp.smartform.Group",n,i,a.group.selector||a.group.id)).then(function(t){if(!p){p=o.getSelector(a.group.id,n)}e.setRevertData({newGroupSelector:p});o.setProperty(t,"visible",true);o.setProperty(t,"title",u);return o.insertAggregation(r,"groups",t,s,i)})}return Promise.resolve()};t.completeChangeContent=function(r,t,o){var n=o.appComponent;var i={group:{}};if(t.newLabel){r.setText("groupLabel",t.newLabel,"XFLD")}else{throw new Error("oSpecificChangeInfo.groupLabel attribute required")}if(t.index===undefined){throw new Error("oSpecificChangeInfo.index attribute required")}else{i.group.index=t.index}if(t.newControlId){i.group.selector=e.getSelector(t.newControlId,n)}else{throw new Error("oSpecificChangeInfo.newControlId attribute required")}r.setContent(i)};t.revertChange=function(e,r,t){var o=t.appComponent;var n=t.view;var i=t.modifier;var a=e.getRevertData().newGroupSelector;var g=i.bySelector(a,o,n);return Promise.resolve().then(i.removeAggregation.bind(i,r,"groups",g)).then(function(){i.destroy(g);e.resetRevertData()})};t.getChangeVisualizationInfo=function(e){var r=e.getText("groupLabel");return{affectedControls:[e.getContent().group.selector],descriptionPayload:{originalLabel:r}}};t.getCondenserInfo=function(e,t){const o=e.getContent();const n=t.modifier;const i=t.appComponent;const a=t.view;const g=n.bySelector(o.group.selector,i,a);const u=g.getParent().getParent();return{affectedControl:o.group.selector,classification:r.Create,targetContainer:u.getId(),targetAggregation:"groups",setTargetIndex(e,r){const t=e.getContent();t.group.index=r;e.setContent(t)},getTargetIndex(e){return e.getContent().group.index}}};return t},true);
//# sourceMappingURL=AddGroup.js.map