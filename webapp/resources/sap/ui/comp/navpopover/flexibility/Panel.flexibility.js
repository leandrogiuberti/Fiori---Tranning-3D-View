/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/base/util/isEmptyObject","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/mdc/flexibility/Panel.flexibility"],function(e,n,t,o,i){"use strict";const r="visible";const a=(n,t,o)=>{if(e(t.content)){throw new Error("mSpecificChangeInfo.content should be filled")}if(!t.content.key){throw new Error("In mSpecificChangeInfo.content.key attribute is required")}if(t.changeType==="addLink"){if(t.content.visible!==true){throw new Error("In mSpecificChangeInfo.content.visible attribute should be 'true'")}}else if(t.changeType==="removeLink"){if(t.content.visible!==false){throw new Error("In mSpecificChangeInfo.content.visible attribute should be 'false'")}}n.setContent(t.content)};const c=e=>({affectedControl:{id:e.getContent().key,idIsLocal:true},uniqueKey:r,classification:n.Reverse});return{createChanges:function(e,n){const t=n.filter(e=>!Element.getElementById(e.id));const o={};return t.reduce((e,n)=>{if(!o[n.id]){o[n.id]=true;e.push(n)}return e},[]).map(n=>({selectorElement:e,changeSpecificData:{changeType:"addLink",content:{selector:n.id}}}))},addLink:{layers:{USER:true},changeHandler:{applyChange:function(e,n,t){const r=e.getContent();r.selector??={id:r.key,idIsLocal:false};const a=t.modifier;let c=a.bySelector(r.selector,t.appComponent,t.view);if(c){o.applyChange(e,c,t)}else{i.createItem.changeHandler.applyChange(e,n,t).then(()=>{c=a.bySelector(r.key,t.appComponent,t.view);o.applyChange(e,c,t)})}},revertChange:function(e,n,t){const r=e.getRevertData();if(r){const n=e.getContent();const i=t.modifier;const r=i.bySelector(n.key,t.appComponent,t.view);o.revertChange(e,r,t);return}i.createItem.changeHandler.revertChange(e,n,t)},completeChangeContent:function(e,n,t){a(e,n,t)},getCondenserInfo:c}},removeLink:{layers:{USER:true},changeHandler:{applyChange:function(e,n,o){const i=e.getContent();const r=o.modifier;const a=r.bySelector(i.key,o.appComponent,o.view);t.applyChange(e,a,o)},revertChange:function(e,n,o){const i=e.getContent();const r=o.modifier;const a=r.bySelector(i.key,o.appComponent,o.view);if(a){t.revertChange(e,a,o)}},completeChangeContent:function(e,n,t){a(e,n,t)},getCondenserInfo:c}}}},true);
//# sourceMappingURL=Panel.flexibility.js.map