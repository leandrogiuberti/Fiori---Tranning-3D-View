{"version":3,"file":"SmartVariantManagementBase.js","names":["sap","ui","define","MVariantManagement","ManagedObjectModel","ManagedObjectObserver","Log","SmartVariantManagementMediator","SmartVariantManagementBase","extend","metadata","interfaces","library","designtime","properties","standardItemAuthor","type","group","defaultValue","initialSelectionKey","lifecycleSupport","renderer","apiVersion","prototype","init","apply","this","_mVariants","STANDARDVARIANTKEY","_mTranslatablePromises","addStyleClass","setStandardVariantKey","_oObserver","_observeChanges","bind","observe","setDefaultVariantKey","getStandardVariantKey","setPopoverTitle","oResourceBundle","getText","_setStandardVariantKey","oChanges","name","fnResolve","current","promise","Promise","resolve","_createEmbeddedVM","_oVM","attachCancel","_onCancel","attachManageCancel","_onManageCancel","_destroyEmbeddedVM","detachCancel","detachManageCancel","oEvent","_fGetDataForKeyUser","_cleanUpSaveForKeyUser","_onSave","mParameters","getParameters","_prepareSaveAsKeyUserData","arguments","_onManage","_prepareManageKeyUserData","fireManage","_cleanUpManageViewsForKeyUser","_onSelect","setModified","_getStandardVariantItemName","sPropertyName","getBindingInfo","_waitForTranslation","_determineStandardVariantName","oPromise","setInitialSelectionKey","sKey","setSelectionKey","getInitialSelectionKey","getSelectionKey","_getContentAsync","then","oContent","mData","default","def","executeOnSelection","execute","_getPersoControllerType","text","contexts","content","oException","error","message","bSelectedItemDeleted","hasOwnProperty","sDefault","_sOriginalDefaultKey","deleted","forEach","exe","oEntry","key","fav","favorite","visible","renamed","activateVariant","_updateLayerSpecificInformations","getVariants","oItem","oVariant","_getVariantById","getKey","setRemove","isDeleteEnabled","_sLayer","setRename","isRenameEnabled","getPersonalizableControlPersistencyKey","isPageVariant","getPersistencyKey","aPersoInfo","_getAllPersonalizableControls","length","_getControlPersKey","getPresentVariantId","getCurrentVariantId","getPresentVariantText","getSelectedVariantText","getPresentVariantContent","_getPersoController","_oPersoControl","_getViewByName","sViewName","sText","sTrimName","trim","oItems","i","getViewIdByName","oVariantItem","_isDuplicateSaveAs","sValue","isNameDuplicate","sName","isNameTooLong","MAX_NAME_LEN","_executeOnSelectForStandardVariantByXML","bSelect","bExecuteOnSelectForStandardViaXML","getExecuteOnSelectForStandardVariant","bExecForStandardVariant","oStandardVariant","getItemByKey","getExecuteOnSelect","openManageViewsDialogForKeyUser","mProperties","fCallBack","bTesting","layer","bAlwaysDestroy","openManagementDialog","rtaStyleClass","contextSharingComponentContainer","getTitle","refreshTitle","enteringDesignMode","setDesignTimeMode","leavingDesignMode","bValue","oModel","setVariantsEditable","oContext","path","setDesignMode","getManageDialog","oManagementDialog","openSaveAsDialogForKeyUser","sStyleClass","oRolesComponentContainer","openSaveAsDialog","_oRolesComponentContainer","oSaveDialog","removeContent","_cleanUpKeyUser","getDefaultVariantId","getDefaultVariantKey","setDefaultVariantId","sVariantId","setCurrentVariantKey","fireSelect","getAllVariants","aItems","aVariantList","mView","push","updateVariant","addVariant","bIsDefault","_createVariantItem","getVariantId","_insertVariantItem","mViewData","nIdx","aVariants","author","getStandardItemAuthor","_getIdxSorted","getName","splice","setVariants","removeVariant","variantId","previousVariantId","previousDefault","removeWeakVariant","previousDirtyFlag","_destroyManageDialog","setShowShare","_bShowShare","_fetchContentAsync","exit","disconnect","undefined","_oManagedObjectModel","destroy","_fRegisteredApplyAutomaticallyOnStandardVariant"],"sources":["SmartVariantManagementBase-dbg.js"],"mappings":"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","ignoreList":[]}