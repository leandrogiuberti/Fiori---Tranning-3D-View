ace.define("ace/ext/hardwrap",["require","exports","module","ace/range","ace/editor","ace/config"],function(e,r,t){"use strict";var n=e("../range").Range;function a(e,r){var t=r.column||e.getOption("printMarginColumn");var a=r.allowMerge!=false;var i=Math.min(r.startRow,r.endRow);var o=Math.max(r.startRow,r.endRow);var s=e.session;while(i<=o){var l=s.getLine(i);if(l.length>t){var f=p(l,t,5);if(f){var c=/^\s*/.exec(l)[0];s.replace(new n(i,f.start,i,f.end),"\n"+c)}o++}else if(a&&/\S/.test(l)&&i!=o){var d=s.getLine(i+1);if(d&&/\S/.test(d)){var g=l.replace(/\s+$/,"");var u=d.replace(/^\s+/,"");var v=g+" "+u;var f=p(v,t,5);if(f&&f.start>g.length||v.length<t){var h=new n(i,g.length,i+1,d.length-u.length);s.replace(h," ");i--;o--}else if(g.length<l.length){s.remove(new n(i,g.length,i,l.length))}}}i++}function p(e,r,t){if(e.length<r)return;var n=e.slice(0,r);var a=e.slice(r);var i=/^(?:(\s+)|(\S+)(\s+))/.exec(a);var o=/(?:(\s+)|(\s+)(\S+))$/.exec(n);var s=0;var l=0;if(o&&!o[2]){s=r-o[1].length;l=r}if(i&&!i[2]){if(!s)s=r;l=r+i[1].length}if(s){return{start:s,end:l}}if(o&&o[2]&&o.index>t){return{start:o.index,end:o.index+o[2].length}}if(i&&i[2]){s=r+i[2].length;return{start:s,end:s+i[3].length}}}}function i(e){if(e.command.name=="insertstring"&&/\S/.test(e.args)){var r=e.editor;var t=r.selection.cursor;if(t.column<=r.renderer.$printMarginColumn)return;var n=r.session.$undoManager.$lastDelta;a(r,{startRow:t.row,endRow:t.row,allowMerge:false});if(n!=r.session.$undoManager.$lastDelta)r.session.markUndoGroup()}}var o=e("../editor").Editor;e("../config").defineOptions(o.prototype,"editor",{hardWrap:{set:function(e){if(e){this.commands.on("afterExec",i)}else{this.commands.off("afterExec",i)}},value:false}});r.hardWrap=a});(function(){ace.require(["ace/ext/hardwrap"],function(e){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=e}})})();
//# sourceMappingURL=ext-hardwrap.js.map