{"version":3,"file":"ClusterBase.js","names":["sap","ui","define","Element","Parameters","ClusterContainer","Menu","jQuery","Log","library","thisModule","ClusterBase","extend","metadata","properties","areaAlwaysVisible","type","group","defaultValue","areaColor","areaColorBorder","textProperty","textSettings","rule","defaultAggregation","aggregations","vizTemplate","multiple","vizVo","clusterVos","visibility","singularName","clusterContainers","events","click","parameters","clusterID","contextMenu","menu","prototype","openDetailWindow","oSpotInst","oParams","oParent","this","getParent","mDTWindowCxt","bUseClickPos","open","src","key","getKey","params","m_bWindowsDirty","invalidate","openContextMenu","sType","oContainer","oMenu","init","mVizObjMap","mContObjMap","sDefaultFontFamily","get","name","setProperty","textcolor","textfont","textfontsize","exit","oSpotAggr","destroy","setTextSettings","oSettings","oNewSettings","getTextSettings","getTemplateObject","oTemplate","sId","getId","getVizTemplate","id","datasource","getVizVo","vbm","Spots","items","path","template","error","getActionArray","aActions","i","length","refVO","getClusterDefinition","VO","getRule","areapermanent","getAreaAlwaysVisible","toString","areabordersize","areafillcol","getAreaColor","areabordercol","getAreaColorBorder","handleContainerCreated","event","sClusterId","mParameters","oItem","_getVizObjInst","oNodeInfo","getInfoForCluster","ClusterInfoType","NodeInfo","getBindingInfo","getTextProperty","cnt","oDOMHandler","oDOMHander","_DOMHandler","oDomRef","getParameter","addEventListener","addRenderItem","handleContainerDestroyed","removeEventListener","_removeVizObjInst","handleEvent","sName","Action","funcname","toUpperCase","slice","oVo","eventContext","data","nodeInfo","instance","pos","mClickGeoPos","AddActionProperties","AddActionProperty","mClickPos","Params","Param","mVBIContext","m_Menus","deleteMenu","oMenuObject","vbi_data","menuRef","VBIName","split","aggr","inst","oDragSource","getAggregatorContainer","findInstanceByKey","findInstance","sKey","_getContainer","oResult","oVizObj","clone","mClusterId","addAggregation","removeAggregation","setItem","_removeContainer","_handleDOMEvent","oEvent","currentTarget","m_Key","oCluster","parent","fireClick","_onContextMenu","touch","touchTime","Date","now","time","oMapDiv","getDomRef","clientX","offsetLeft","clientY","offsetTop","preventDefault","fireContextMenu","e"],"sources":["ClusterBase-dbg.js"],"mappings":"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","ignoreList":[]}