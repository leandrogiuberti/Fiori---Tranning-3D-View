{"version":3,"file":"LassoSelection.js","names":["sap","ui","define","BaseObject","PayloadGenerator","LassoSelection","extend","constructor","map","call","this","_map","_coordinates","mouseDown","e","aPressed","canvas","getCanvasContainer","lassoPolygon","createLassoSVG","button","dragPan","disable","that","mousePos","document","addEventListener","onMouseMove","onMouseUp","onKeyDown","rect","getBoundingClientRect","maplibregl","Point","clientX","left","clientLeft","clientY","top","clientTop","point","push","updateLassoPath","selectedFeatures","finishLasso","length","selectObjects","keyCode","polygon","coordinates","points","i","x","y","setAttribute","trim","removeEventListener","parentNode","remove","lassoGeoCoords","unproject","bounds","reduce","bbox","minX","Math","min","minY","maxX","max","maxY","Infinity","candidates","queryRenderedFeatures","layers","filter","feature","geometry","type","pointInPolygon","lineInPolygonOrIntersects","enable","inside","j","xi","lng","yi","lat","xj","yj","intersect","line","some","lineStart","lineEnd","polyStart","polyEnd","segmentsIntersect","p1","p2","q1","q2","orientation","p","q","r","val","o1","o2","o3","o4","svgNS","svg","createElementNS","appendChild"],"sources":["LassoSelection-dbg.js"],"mappings":"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","ignoreList":[]}