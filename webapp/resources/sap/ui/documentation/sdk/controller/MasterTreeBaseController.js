/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./BaseController","./util/TreeUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(jQuery,e,t,i,l){"use strict";var n=300;var o=e.extend("sap.ui.documentation.sdk.controller.MasterTreeBaseController",{_initTreeUtil:function(e,i,l){this._oTreeUtil=t.getInstance(e,i,l)},_expandTreeToNode:function(e,t){var i=this.byId("tree"),l=t.getData();var n=this._oTreeUtil.getPathToNode(e,l);var o;n.forEach(function(e){var t=this._findTreeItem(e);if(t){i.getBinding("items").expand(i.indexOfItem(t));o=t}},this);if(o){o.setSelected(true);this.oSelectedItem={sTopicId:e,oModel:t};setTimeout(function(){this._scrollTreeItemIntoView(o)}.bind(this))}},_findTreeItem:function(e){var t=this.byId("tree").getItems();for(var i=0;i<t.length;i++){if(t[i].getTarget()===e){return t[i]}}return null},_scrollTreeItemIntoView:function(e){var t=e.getDomRef(),i=this.byId("treeContainer"),l=i.getDomRef(),o=i.getScrollDelegate();if(t&&r(t,l)){o.scrollToElement(t,n)}},onTreeFilter:function(e){this._sFilter=e.getParameter("newValue").trim();if(this._filterTimeout){clearTimeout(this._filterTimeout)}this._filterTimeout=setTimeout(function(){if(this.buildAndApplyFilters()){this._expandAllNodes()}else{this._collapseAllNodes();if(this.oSelectedItem){this._expandTreeToNode(this.oSelectedItem.sTopicId,this.oSelectedItem.oModel)}}this._filterTimeout=null}.bind(this),250)},buildAndApplyFilters:function(){var e=this.byId("tree").getBinding("items");if(this._sFilter){e.filter(new i({path:"name",operator:l.Contains,value1:this._sFilter}));return true}else{e.filter();return false}},_expandAllNodes:function(){this.byId("tree").expandToLevel(10)},_collapseAllNodes:function(){this.byId("tree").collapseAll()},_clearSelection:function(){var e=this.byId("tree").getItems();if(e.length){e[0].setSelected(false)}},onTreeExpandAll:function(e){this._expandAllNodes()},onTreeCollapseAll:function(e){this._collapseAllNodes()}});function r(e,t){const i=e.getBoundingClientRect();const l=t.getBoundingClientRect();return i.bottom>l.bottom||i.top<l.top||i.right>l.right||i.left<l.left}return o});
//# sourceMappingURL=MasterTreeBaseController.js.map