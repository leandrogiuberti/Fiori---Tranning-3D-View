{"version":3,"file":"Viewport.js","names":["sap","ui","define","vkCore","ViewportBase","Element","ResizeHandler","KeyCodes","Loco","ViewStateManagerVK","ViewStateManagerSVG","ViewportHandler","VisibilityMode","ZoomTo","SelectionMode","NodeContentType","getResourceBundle","Messages","Scene","OrthographicCamera","MeasurementSurface","Rectangle","HotspotHelper","colorToCSSColor","cssColorToColor","colorToABGR","abgrToColor","MiniMap","ElementSVG","Dialog","Log","Localization","Viewport","extend","metadata","library","aggregations","miniMap","type","multiple","events","cameraChanged","parameters","offset","zoom","enableEventBubbling","hotspotEnter","nodeRef","hotspotLeave","EcadLayerZone","Top","Inner","Bottom","Unknown","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_measurementSurface","_resizeListenerId","_animLoopRequestId","_animLoopFunction","_animLoop","bind","_width","_height","_camera","_gestureX","_gestureY","_scene","_selectionRect","material","lineColor","lineStyle","dashPattern","_styles","Map","raster","rasterImage","document","createElement","vectorImage","Image","bmpCanvas","rasterMode","useRasterMode","delayEnd","endRasterModeTimer","updateImageTimer","bmpDrawRequestId","nodesThreshold","onload","viewBox","updateImageSize","width","height","ctx","getContext","clearRect","drawImage","_requestBmpDraw","_viewportHandler","_loco","addHandler","_hotspotHelper","_currentViewIndex","_currentView","_pcbRotateAngle","_pcbVisibleSurface","_topElements","_bottomElements","getEventBus","subscribe","_onViewStateApplied","attachChange","_onLocalizationChanged","_miniMap","viewport","miniMapDialog","showHeader","horizontalScrolling","verticalScrolling","content","escapeHandler","addStyleClass","attachBeforeOpen","oPopup","setModal","_calcPosition","rect","getDomRef","getBoundingClientRect","top","right","miniMapRect","lockPos","_lockPosition","y","Math","max","bottom","left","x","attachSizeChanged","event","setContentWidth","getParameter","setContentHeight","setMiniMap","exit","detachChange","unsubscribe","removeHandler","destroy","deregister","_setScene","_renderer","tools","getTools","i","length","tool","getElementById","setActive","surface","getMeasurements","update","getCamera","onBeforeRendering","_updateCustomText","root","getRootElement","fontSizes","traverse","node","fontSizeCSS","style","size","fontSize","parseFloat","unitScale","endsWith","m","_matrixWorld","push","sqrt","sort","bbox","domRef","getBBox","round","customText","_updateCustomTextFilters","blurStdDeviation","getHotspotCustomTextHaloWidth","dilateRadius","outlineWidth","getHotspotCustomTextOutlineWidth","expand","color","getHotspotCustomTextOutlineColor","filter","parentNode","getElementsByTagName","id","Device","browser","firefox","setAttribute","childNodes","red","green","blue","alpha","setHotspotCustomTextOutlineColor","cssColor","setProperty","setHotspotCustomTextOutlineWidth","setHotspotCustomTextHaloWidth","onAfterRendering","register","_handleResize","append","_setDomRef","uid","_svgElement","clientWidth","clientHeight","_onContentUpdate","oldWidth","oldHeight","_initialZoom","_initialPosition","zoomTo","All","_updateViewBox","fireCameraChanged","_getViewBox","measurementSurfaceDomRef","getMiniMap","$","css","fireResize","previousSibling","_invalidateRasterImage","setScene","scene","getDefaultNodeHierarchy","detachNodeCreated","_nodeCreatedHandler","clear","setCamera","isECAD","zones","_extractLayersZone","_scanTree","nh","findNodesByName","attachNodeCreated","initialView","getInitialView","activateView","_onContentLoadingFinished","camera","createdNode","_vkGetNodeContentType","Annotation","children","invalidate","getScene","onSetViewStateManager","viewStateManager","_viewStateManager","setViewStateManager","attachOutliningChanged","_onOutliningOrSelectionChanged","attachSelectionChanged","onUnsetViewStateManager","detachOutliningChanged","detachSelectionChanged","_getViewStateManagerSVG","_implementation","hitTest","withTolerance","exactHitObject","ignoreHotspots","vsm","rootElement","viewportRect","getHit","htmlElement","parentElement","hit","elem","_getSceneTreeElement","Hotspot","userData","undefined","elementFromPoint","elementsFromPoint","toleranceX","toleranceY","y2","x2","tap","isDoubleClick","focus","element","findElement","tapObject","fireNodeClicked","getFreezeCamera","zoomedObject","Node","Visible","picked","fireNodesPicked","include","ref","forEach","getSelectionMode","Exclusive","exclusiveSelectionHandler","Sticky","stickySelectionHandler","offscreenPosition","rotateDelta","panDelta","onkeydown","isMarked","keyCode","ARROW_LEFT","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","ctrlKey","altKey","metaKey","delta","beginGesture","shiftKey","pan","rotate","endGesture","preventDefault","stopPropagation","PLUS","NUMPAD_MINUS","NUMPAD_PLUS","D","_dumpSceneData","gizmo","getGizmoForContainer","handleSelectionChanged","setSelectionRect","removeAttribute","_transformRect","x1","y1","_select","selection","Set","_findRectElementsRecursive","_mask","output","add","child","Array","from","getImage","topColor","bottomColor","includeSelection","_setContent","apply","arguments","setScale","onSetContentConnector","contentConnector","attachContentLoadingFinished","onUnsetContentConnector","detachContentLoadingFinished","nodeHierarchy","vsmMask","getShowAllHotspots","getShowAllHotspotsTintColor","hotspotNodes","getHotspotNodeRefs","hotspotNode","updateHotspot","setHotspotColor","getDisableHotspotHovering","addClass","flipPcb","getZoomFactor","getPosition","lerp","a","b","f","smootherStep","edge0","edge1","min","anim","_anim","start","end","timeNow","Date","now","time","duration","oldOffsetX","offsetX","oldOffsetY","offsetY","oldZoom","_redlineHandler","window","requestAnimationFrame","_endRasterMode","getCurrentView","channel","eventId","source","view","viewGroups","getViewGroups","that","viewGroup","getViews","modelView","indexOf","fireViewActivated","viewIndex","publish","getTopColor","isArray","setBackgroundColorTop","floor","getBottomColor","setBackgroundColorBottom","ignoreAnimationPosition","rerender","_MIN_ZOOM","fireViewFinished","resetCurrentView","_resetNodesStatusByCurrentView","what","crossFadeSeconds","margin","boundingBox","Infinity","_expandBoundingBoxRecursive","Selected","enumerateSelection","Restore","error","getText","NodeSetIsolation","RestoreRemoveIsolation","ViewLeft","ViewRight","ViewTop","ViewBottom","ViewBack","ViewFront","newCamera","_zoomTo","_activateCamera","flyToDuration","_startRasterMode","image","devicePixelRatio","clearTimeout","setTimeout","_updateRasterImage","sizeExtension","scaleX","scaleY","viewBoxExtended","join","svgContent","XMLSerializer","serializeToString","data","encodeURIComponent","src","display","clearRasterMode","dx","dy","z","hover","activeHotspotChanged","_hotspotElement","fireHotspotLeave","_dynamicContentElement","getShowAllDynamicContents","getHotspotColorABGR","fireHotspotEnter","DynamicContent","_bmpDraw","resetTransform","imageViewBox","oldPos","_worldToScreen","newPos","translate","scale","imageSmoothingEnabled","imageSmoothingQuality","getViewInfo","query","viewInfo","visibility","visibilityMode","mode","Complete","allVisibility","getVisibilityComplete","visible","hidden","getShouldTrackVisibilityChanges","changes","getVisibilityChanges","warning","VIT32","summary","code","_getSelectionComplete","setViewInfo","_setViewBox","veIdToNodeRefMap","getNodeHierarchy","allNodeRefs","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","set","visibleNodes","map","get","n","hiddenNodes","setVisibilityState","Differences","resetVisibility","getVisibilityState","VIT28","info","selected","unselected","setSelectionStates","queueCommand","command","getOutputSize","boundingClientRect","viewportWidth","viewportHeight","relevantDimension","sideLength","setShouldRenderFrame","_isPanoramicActivated","setShowAllHotspots","value","nodes","hotspotElement","setDisableHotspotHovering","removeClass","setHotspotColorABGR","showHotspots","nodeRefs","show","hotspotColor","setCustomHotspotColor","setShowAllDynamicContents","getDynamicContentNodeRefs","dynamicContentElement","_getFillStyleId","highlightColor","tintColor","fillStyle","veid","fill","has","attributes","_setFillStyleAttributes","name","_getLineStyleId","materialId","_setLineStyleAttributes","getMeasurementSurface","level","getLevel","setLevel","Level","INFO","count","treeDepth","leafNodes","emptyLeafNodes","e","parent","t","tagName","projectToScreen","screenPos","isECADScene","_extractMetadata","entry","category","tag","getSceneMetadata","layers","find","el","list","split","zone","layer","makeRotateMatrix","sin","cos","_setRootTransform","reflect","setMatrix","_multiplyMatrices","rotatePcbCW","PI","rotatePcbCCW","skipReflect"],"sources":["Viewport-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,UACA,kBACA,sBACA,4BACA,yBACA,UACA,sBACA,qBACA,qBACA,oBACA,YACA,mBACA,qBACA,uBACA,cACA,UACA,uBACA,0BACA,cACA,kBACA,qBACA,qBACA,iBACA,iBACA,YACA,YACA,eACA,eACA,8BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAaA,IAAIC,EAAW5B,EAAa6B,OAAO,yBAA0E,CAC5GC,SAAU,CACTC,QAAS,YACTC,aAAc,CACbC,QAAS,CACRC,KAAM,eACNC,SAAU,QAGZC,OAAQ,CACPC,cAAe,CACdC,WAAY,CAIXC,OAAQ,UAIRC,KAAM,SAEPC,oBAAqB,MAEtBC,aAAc,CACbJ,WAAY,CACXK,QAAS,OAEVF,oBAAqB,MAEtBG,aAAc,CACbN,WAAY,CACXK,QAAS,OAEVF,oBAAqB,UAMzB,MAAMI,EAAgB,CACrBC,IAAK,MACLC,MAAO,QACPC,OAAQ,SACRC,QAAS,IAGV,IAAIC,EAAgBtB,EAASuB,cAAcC,YAAYC,WAAWC,UAElE1B,EAAS0B,UAAUC,KAAO,WAEzB,GAAIL,EAAcK,KAAM,CACvBL,EAAcK,KAAKC,KAAKC,KACzB,CAGAA,KAAKC,oBAAsB,IAAI1C,EAE/ByC,KAAKE,kBAAoB,KACzBF,KAAKG,mBAAqB,EAC1BH,KAAKI,kBAAoBJ,KAAKK,UAAUC,KAAKN,MAE7CA,KAAKO,OAASP,KAAKQ,QAAU,EAC7BR,KAAKS,QAAU,IAAInD,EACnB0C,KAAKU,UAAY,EACjBV,KAAKW,UAAY,EAEjBX,KAAKY,OAAS,KACdZ,KAAKa,eAAiB,IAAIrD,EAAU,CACnCsD,SAAU,CACTC,UAAW,CAAC,IAAM,IAAM,EAAG,GAC3BC,UAAW,CACVC,YAAa,CAAC,EAAG,OAKpBjB,KAAKkB,QAAU,IAAIC,IAEnBnB,KAAKoB,OAAS,CAEbC,YAAaC,SAASC,cAAc,UAGpCC,YAAa,IAAIC,MAGjBC,UAAW,KAGXC,WAAY,MAGZC,cAAe,MAGfC,SAAU,MAGVC,mBAAoB,KAGpBC,iBAAkB,KAGlBC,iBAAkB,KAGlBC,eAAgB,MAGjBjC,KAAKoB,OAAOI,YAAYU,OAAS,WAChC,IAAIV,EAAcxB,KAAKoB,OAAOI,YAC9B,IAAIH,EAAcrB,KAAKoB,OAAOC,YAE9BA,EAAYc,QAAUX,EAAYW,QAClCC,EAAgBf,EAAaG,EAAYa,MAAOb,EAAYc,QAG5D,IAAIC,EAAMlB,EAAYmB,WAAW,MACjCD,EAAIE,UAAU,EAAG,EAAGpB,EAAYgB,MAAOhB,EAAYiB,QACnDC,EAAIG,UAAUlB,EAAa,EAAG,EAAGH,EAAYgB,MAAOhB,EAAYiB,QAEhEtC,KAAK2C,iBACN,EAAErC,KAAKN,MAEPA,KAAK4C,iBAAmB,IAAI9F,EAAgBkD,MAE5CA,KAAK6C,MAAQ,IAAIlG,EAAKqD,MACtBA,KAAK6C,MAAMC,WAAW9C,KAAK4C,kBAAmB,GAE9C5C,KAAK+C,eAAiB,IAAItF,EAE1BuC,KAAKgD,kBAAoB,EACzBhD,KAAKiD,aAAe,KAEpBjD,KAAKkD,gBAAkB,EACvBlD,KAAKmD,mBAAqB/D,EAAcI,QACxCQ,KAAKoD,aAAe,GACpBpD,KAAKqD,gBAAkB,GAEvB/G,EAAOgH,cAAcC,UAAU,YAAa,mBAAoBvD,KAAKwD,oBAAqBxD,MAE1F9B,EAAauF,aAAazD,KAAK0D,uBAAuBpD,KAAKN,OAE3D,MAAMxB,EAAUwB,KAAK2D,SAAW,IAAI7F,EAAQ,CAAE8F,SAAU5D,OACxD,MAAM6D,EAAgB,IAAI7F,EAAO,CAChC8F,WAAY,MACZC,oBAAqB,MACrBC,kBAAmB,MACnBC,QAASzF,EACT0F,cAAe,WAAa,IAC1BC,cAAc,wBACjBN,EAAcO,iBAAiB,WAAaP,EAAcQ,OAAOC,SAAS,MAAQ,GAClFT,EAAcU,cAAgB,KAC7B,MAAMC,EAAOxE,KAAKyE,aAAaC,yBAA2B,CAAEC,IAAK,EAAGC,MAAO,GAC3E,MAAMC,EAAchB,EAAcY,aAAaC,yBAA2B,CAAErC,MAAO,EAAGC,OAAQ,GAC9F,MAAMwC,EAAUtG,EAAQuG,cACxB,MAAO,CACNJ,KAAMG,EAAQE,GAAK,EAAIR,EAAKG,IAAMG,EAAQE,EAAIC,KAAKC,IAAIV,EAAKW,OAASL,EAAQE,EAAIH,EAAYvC,OAAQkC,EAAKG,MAAQ,KAClHS,MAAON,EAAQO,GAAK,EAAIb,EAAKY,KAAON,EAAQO,EAAIJ,KAAKC,IAAIV,EAAKI,MAAQE,EAAQO,EAAIR,EAAYxC,MAAOmC,EAAKY,OAAS,OAGrH5G,EAAQ8G,kBAAmBC,IAC1B1B,EAAc2B,gBAAgBD,EAAME,aAAa,SAAW,EAAI,MAChE5B,EAAc6B,iBAAiBH,EAAME,aAAa,UAAY,EAAI,QAEnEzF,KAAK2F,WAAW9B,EACjB,EAEA1F,EAAS0B,UAAU+F,KAAO,WACzB1H,EAAa2H,aAAa7F,KAAK0D,wBAE/BpH,EAAOgH,cAAcwC,YAAY,YAAa,mBAAoB9F,KAAKwD,oBAAqBxD,MAE5FA,KAAK6C,MAAMkD,cAAc/F,KAAK4C,kBAC9B5C,KAAK4C,iBAAiBoD,UAEtB,GAAIhG,KAAKE,kBAAmB,CAC3BzD,EAAcwJ,WAAWjG,KAAKE,mBAC9BF,KAAKE,kBAAoB,IAC1B,CAEAF,KAAKkG,UAAU,MACflG,KAAKmG,UAAY,KACjBnG,KAAK6C,MAAMmD,UACXhG,KAAK6C,MAAQ,KACb7C,KAAK4C,iBAAmB,KACxB5C,KAAK2D,SAAW,KAEhBlE,EAAcmG,MAAM7F,KAAKC,MAEzB,IAAIoG,EAAQpG,KAAKqG,WAEjB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAAK,CACtC,IAAIE,EAAOhK,EAAQiK,eAAeL,EAAME,IACxC,GAAIE,EAAM,CACTA,EAAKE,UAAU,MAChB,CACD,CAEA1G,KAAKC,oBAAoB+F,UACzBhG,KAAKC,oBAAsB,KAE3BD,KAAKoB,OAAOO,WAAa,MACzB3B,KAAKoB,OAAOQ,cAAgB,KAC7B,EAEAzD,EAAS0B,UAAU6D,uBAAyB,SAAS6B,GACpD,IAAIoB,EAAU3G,KAAKC,oBACnB,GAAI0G,GAAWA,EAAQC,kBAAkBL,OAAS,EAAG,CACpDI,EAAQE,OAAO7G,KAAMA,KAAK8G,YAC3B,CACD,EAEA3I,EAAS0B,UAAUkH,kBAAoB,WACtC,GAAI/G,KAAKE,kBAAmB,CAC3BzD,EAAcwJ,WAAWjG,KAAKE,mBAC9BF,KAAKE,kBAAoB,IAC1B,CACD,EAEA/B,EAAS0B,UAAUmH,kBAAoB,WACtC,MAAMC,EAAOjH,KAAKY,OAAOsG,iBAGzB,MAAMC,EAAY,GAClBF,EAAKG,SAAS,SAASC,GACtB,GAAIA,EAAK5I,OAAS,OAAQ,CACzB,MAAM6I,EAAcD,EAAKE,MAAMC,KAC/B,MAAMC,EAAWC,WAAWJ,GAC5B,GAAIG,EAAW,EAAG,CACjB,IAAIE,EAAY,EAChB,UAAWL,IAAgB,SAAU,CACpC,GAAIA,EAAYM,SAAS,MAAO,CAC/BD,EAAY,EACb,MAAO,GAAIL,EAAYM,SAAS,MAAO,CACtCD,EAAY,KACb,CACD,CAEA,MAAME,EAAIR,EAAKS,eACfX,EAAUY,KAAKN,EAAWE,EAAY1C,KAAK+C,KAAKH,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IACxE,CACD,CACD,GAEA,IAAIJ,EACJ,GAAIN,EAAUZ,OAAS,EAAG,CACzBY,EAAUc,OACVR,EAAWN,EAAUA,EAAUZ,QAAU,EAC1C,KAAO,CACN,MAAM2B,EAAOjB,EAAKkB,OAAOC,UACzBX,EAAWxC,KAAKC,IAAIgD,EAAK7F,MAAO6F,EAAK5F,QAAU,GAChD,CACAmF,EAAWxC,KAAKoD,MAAMZ,EAAW,KAAO,IAExCR,EAAKG,SAAS,SAASC,GACtB,GAAIA,EAAKiB,YAAYf,MAAMC,OAAS,MAAO,CAC1CH,EAAKiB,WAAWf,MAAMC,KAAOC,EAAW,IACzC,CACD,EACD,EAEAtJ,EAAS0B,UAAU0I,yBAA2B,WAC7C,MAAMJ,EAASnI,KAAKY,QAAQsG,kBAAkBiB,OAC9C,GAAIA,EAAQ,CACX,MAAMK,EAAmBxI,KAAKyI,gCAC9B,MAAMC,EAAeF,EAAmB,GACxC,MAAMG,EAAe3I,KAAK4I,mCAC1B,MAAMC,EAAS5D,KAAKC,IAAIsD,EAAmBE,EAAcC,EAAe,GACxE,MAAMG,EAAQnL,EAAgBqC,KAAK+I,oCACnC,IAAK,MAAMC,KAAUb,EAAOc,WAAWC,qBAAqB,UAAW,CACtE,GAAIF,EAAOG,GAAGvB,SAAS,gBAAiB,CACvC,GAAIzL,IAAIC,GAAGgN,OAAOC,QAAQC,QAAS,CAClCN,EAAOO,aAAa,IAAK,QACzBP,EAAOO,aAAa,IAAK,SACzBP,EAAOO,aAAa,QAAS,QAC7BP,EAAOO,aAAa,SAAU,OAC/B,KAAO,CACNP,EAAOO,aAAa,KAAMV,EAAS,MACnCG,EAAOO,aAAa,KAAMV,EAAS,MACnCG,EAAOO,aAAa,QAAS,eAAeV,EAAS,QACrDG,EAAOO,aAAa,SAAU,eAAeV,EAAS,OACvD,CACAG,EAAOQ,WAAW,GAAGD,aAAa,SAAUb,GAC5CM,EAAOQ,WAAW,GAAGD,aAAa,eAAgBf,GAClDQ,EAAOQ,WAAW,GAAGD,aAAa,SAAUZ,GAC5CK,EAAOQ,WAAW,GAAGD,aAAa,eAAgBZ,GAClDK,EAAOQ,WAAW,GAAGD,aAAa,SAAU,WAAWT,EAAMW,IAAM,gBAAgBX,EAAMY,MAAQ,gBAAgBZ,EAAMa,KAAO,cAAcb,EAAMc,UACnJ,CACD,CACD,CACD,EAEAzL,EAAS0B,UAAUgK,iCAAmC,SAASC,GAC9D9J,KAAK+J,YAAY,gCAAiCD,EAAU,MAC5D9J,KAAKuI,2BACL,OAAOvI,IACR,EAEA7B,EAAS0B,UAAUmK,iCAAmC,SAAS3H,GAC9DrC,KAAK+J,YAAY,gCAAiC1H,EAAO,MACzDrC,KAAKuI,2BACL,OAAOvI,IACR,EAEA7B,EAAS0B,UAAUoK,8BAAgC,SAAS5H,GAC3DrC,KAAK+J,YAAY,6BAA8B1H,EAAO,MACtDrC,KAAKuI,2BACL,OAAOvI,IACR,EAEA7B,EAAS0B,UAAUqK,iBAAmB,WACrClK,KAAKE,kBAAoBzD,EAAc0N,SAASnK,KAAMA,KAAKoK,cAAc9J,KAAKN,OAE9E,IAAImI,EAASnI,KAAKyE,YAClB0D,EAAOkC,OAAOrK,KAAKC,oBAAoBwE,aAEvC,GAAIzE,KAAKY,OAAQ,CAChB,IAAIqG,EAAOjH,KAAKY,OAAOsG,iBACvBD,EAAKqD,WAAWhJ,SAASmF,eAAeQ,EAAKsD,MAC7CvK,KAAKwK,YAAcvD,EAAKkB,OAAOc,WAE/BjJ,KAAKgH,mBACN,CAEAhH,KAAKoK,cAAc,CAClB5C,KAAM,CACLnF,MAAO8F,EAAOsC,YACdnI,OAAQ6F,EAAOuC,gBAIjB1K,KAAK2D,SAASgH,kBACf,EAEAxM,EAAS0B,UAAUuK,cAAgB,SAAS7E,GAC3C,IAAIqF,EAAW5K,KAAKO,OACpB,IAAIsK,EAAY7K,KAAKQ,QACrBR,KAAKO,OAASgF,EAAMiC,KAAKnF,MACzBrC,KAAKQ,QAAU+E,EAAMiC,KAAKlF,OAE1BtC,KAAKS,QAAQoG,OAAO7G,KAAKO,OAAQP,KAAKQ,QAAS,OAC/C,IAAKoK,IAAa,GAAKC,IAAc,MAAQ7K,KAAKS,QAAQqK,cACzD9K,KAAKS,QAAQqK,aAAe,IAAM9K,KAAKS,QAAQsK,kBAAmB,CAClE/K,KAAKgL,OAAOhO,EAAOiO,IAAK,KAAM,EAAG,EAClC,KAAO,CACNjL,KAAKkL,iBACLlL,KAAKmL,kBAAkB,CAAEhJ,QAASnC,KAAKoL,eACxC,CAEA,IAAIC,EAA2BrL,KAAKC,oBAAoBwE,YACxD4G,EAAyB9D,MAAMlF,MAAQrC,KAAKO,OAAS,KACrD8K,EAAyB9D,MAAMjF,OAAStC,KAAKQ,QAAU,KAEvD,MAAMqD,EAAgB7D,KAAKsL,aAC3BzH,EAAc0H,IAAIC,IAAI3H,EAAcU,iBAEpCvE,KAAKyL,WAAW,CACfjE,KAAM,CACLnF,MAAOrC,KAAKO,OACZ+B,OAAQtC,KAAKQ,WAIf,GAAIR,KAAKwK,aAAe,KAAM,CAE7BxK,KAAKoB,OAAOM,UAAY1B,KAAKwK,YAAYkB,gBACzC1L,KAAK2L,wBACN,CAEA,OAAO,IACR,EASAxN,EAAS0B,UAAU+L,SAAW,SAASC,GACtC,OAAO7L,KAAKkG,UAAU2F,EACvB,EAEA1N,EAAS0B,UAAUqG,UAAY,SAAS2F,GACvC,GAAI7L,KAAKY,OAAQ,CAEhBZ,KAAKY,OAAOkL,0BAA0BC,kBAAkB/L,KAAKgM,oBAAqBhM,KACnF,CACAA,KAAKY,OAASiL,EACd7L,KAAKgD,kBAAoB,EACzBhD,KAAKiD,aAAe,KACpBjD,KAAKkB,QAAQ+K,QAEb,GAAIJ,EAAO,CACV7L,KAAKkM,UAAU,IAAI5O,GAEnB,GAAI0C,KAAKmM,SAAU,CAElB,MAAMC,EAAQpM,KAAKqM,qBAEnBrM,KAAKoD,aAAe,GACpBpD,KAAKqD,gBAAkB,GACvBrD,KAAKsM,UAAUF,EAAOpM,KAAKY,OAAOsG,iBACnC,CAQA,IAAIqF,EAAKvM,KAAKY,OAAOkL,0BAIrB9L,KAAKoB,OAAOQ,cAAgB2K,EAAGC,kBAAkBjG,OAASvG,KAAKoB,OAAOa,eAEtEsK,EAAGE,kBAAkBzM,KAAKgM,oBAAqBhM,MAC/C,IAAI0M,EAAcb,EAAMc,iBACxB,GAAID,EAAa,CAChB1M,KAAK4M,aAAaF,EACnB,CAEA1M,KAAK6M,2BACN,CAEA,OAAO7M,IACR,EAEA7B,EAAS0B,UAAUqM,UAAY,SAASY,GACvC,KAAMA,aAAkBxP,GAAqB,CAC5C,OAAO0C,IACR,CAEA,GAAIP,EAAcyM,UAAW,CAC5BzM,EAAcyM,UAAUnM,KAAKC,KAAM8M,EACpC,CAEA,GAAIA,EAAQ,CACXA,EAAOjG,OAAO7G,KAAKO,OAAQP,KAAKQ,QAAS,MACzCR,KAAKkL,gBACN,CAEA,OAAOlL,IACR,EAEA7B,EAAS0B,UAAUmM,oBAAsB,SAASzG,GAEjD,IAAIwH,EAAcxH,EAAME,aAAa,WAErC,GAAIsH,EAAYC,0BAA4B9P,EAAgB+P,YAC3DF,EAAYG,UAAYH,EAAYG,SAAS3G,QAAUwG,EAAYG,SAAS,GAAGzO,OAAS,QAAS,CACjGuB,KAAKmN,YACN,CACD,EAOAhP,EAAS0B,UAAUuN,SAAW,WAC7B,OAAOpN,KAAKY,MACb,EAgBAzC,EAAS0B,UAAUwN,sBAAwB,SAASC,GACnDtN,KAAKuN,kBAAoBD,EACzBtN,KAAK2D,SAAS6J,oBAAoBF,GAElCA,EAAiBG,uBAAuBzN,KAAK0N,+BAAgC1N,MAC7EsN,EAAiBK,uBAAuB3N,KAAK0N,+BAAgC1N,KAC9E,EAEA7B,EAAS0B,UAAU+N,wBAA0B,SAASN,GACrDA,EAAiBO,uBAAuB7N,KAAK0N,+BAAgC1N,MAC7EsN,EAAiBQ,uBAAuB9N,KAAK0N,+BAAgC1N,MAE7EA,KAAKuN,kBAAoB,KACzBvN,KAAK2D,UAAU6J,oBAAoB,KACpC,EAEArP,EAAS0B,UAAUkO,wBAA0B,WAC5C,GAAI/N,KAAKuN,kBAAmB,CAC3B,GAAIvN,KAAKuN,6BAA6B1Q,EAAqB,CAC1D,OAAOmD,KAAKuN,iBACb,CACA,GAAIvN,KAAKuN,6BAA6B3Q,GACrCoD,KAAKuN,kBAAkBS,2BAA2BnR,EAAqB,CACvE,OAAOmD,KAAKuN,kBAAkBS,eAC/B,CACD,CACA,OAAO,IACR,EAYA7P,EAAS0B,UAAUoO,QAAU,SAAS5I,EAAGL,EAAGkJ,EAAeC,EAAgBC,GAC1E,IAAIC,EAAMrO,KAAK+N,0BACf,IAAKM,IAAQrO,KAAKY,OAAQ,CACzB,OAAO,IACR,CAEA,IAAI0N,EAActO,KAAKY,OAAOsG,iBAC9B,IAAIqH,EAAevO,KAAKyE,YAAYC,wBACpCW,GAAKkJ,EAAalJ,EAClBL,GAAKuJ,EAAavJ,EAElB,SAASwJ,EAAOC,GACf,MAAOA,IAAgBA,EAAYtF,GAAI,CACtCsF,EAAcA,EAAYC,aAC3B,CACA,IAAKD,EAAa,CACjB,OAAO,IACR,CAEA,MAAME,EAAML,EAAY7H,eAAegI,EAAYtF,IACnD,MAAMyF,EAAOD,GAAKE,uBAClB,IAAKD,EAAM,CACV,OAAO,IACR,CAEA,GAAKR,GAAkBQ,EAAK5B,0BAA4B9P,EAAgB4R,SACvEH,EAAII,SAASzG,WAAY,CACzB,OAAO0G,SACR,CAEA,OAAOL,CACR,CAEA,SAASV,EAAQ5I,EAAGL,GACnB,MAAMyJ,EAAcnN,SAAS2N,iBAAiB5J,EAAGL,GACjD,MAAM2J,EAAMH,EAAOC,GACnB,GAAIE,IAAQK,UAAW,CACtB,OAAOL,CACR,CAEA,IAAK,MAAMF,KAAenN,SAAS4N,kBAAkB7J,EAAGL,GAAI,CAC3D,MAAM2J,EAAMH,EAAOC,GACnB,GAAIE,IAAQK,UAAW,CACtB,OAAOL,CACR,CACD,CAEA,OAAO,IACR,CAEA,IAAIA,EAAMV,EAAQ5I,EAAGL,GACrB,GAAIkJ,EAAe,CAClB,IAAIiB,EAAa,EACjB,IAAIC,EAAa,EACjB,IAAK,IAAIC,EAAKrK,EAAIoK,EAAYC,EAAKrK,EAAIoK,IAAeT,EAAKU,IAAM,CAChE,IAAK,IAAIC,EAAKjK,EAAI8J,EAAYG,EAAKjK,EAAI8J,IAAeR,EAAKW,IAAM,CAChEX,EAAMV,EAAQqB,EAAID,EACnB,CACD,CACD,CAEA,GAAIlB,EAAgB,CACnB,OAAOQ,CACR,CAEA,OAAOA,EAAMA,EAAIE,uBAAyB,IAC3C,EAUA1Q,EAAS0B,UAAU0P,IAAM,SAASlK,EAAGL,EAAGwK,GACvC,IAAIrH,EAASnI,KAAKyE,YAClB,GAAI0D,EAAQ,CACXA,EAAOsH,OACR,CACA,IAAIpI,EAAOrH,KAAKiO,QAAQ5I,EAAGL,EAAG,MAE9B,GAAIhF,KAAKmM,UAAY9E,EAAM,CAC1B,MAAMqI,EAAU1P,KAAK2P,YAAYtI,GACjC,GAAIqI,GAAW,KAAM,CACpB,OAAO1P,IACR,CACAqH,EAAOqI,CACR,CAEA,IAAKF,EAAe,CACnBxP,KAAK4P,UAAUvI,GAEf,GAAIA,GAAQ,KAAM,CACjBrH,KAAK6P,gBAAgB,CAAE3Q,QAASmI,EAAMhC,EAAGA,EAAGL,EAAGA,GAAK,KAAM,KAC3D,CACD,MAAO,IAAKhF,KAAK8P,kBAAmB,CACnC,GAAIzI,GAAQrH,KAAKS,QAAQsP,eAAiB1I,EAAM,CAC/CrH,KAAKS,QAAQsP,aAAe1I,EAC5BrH,KAAKgL,OAAOhO,EAAOgT,KAAMhQ,KAAKS,QAAQsP,aAAc,GAAK,GAC1D,KAAO,CACN/P,KAAKS,QAAQsP,aAAe,KAC5B/P,KAAKgL,OAAOhO,EAAOiT,QAAS,KAAM,GAAK,EACxC,CACD,CAEA,OAAOjQ,IACR,EASA7B,EAAS0B,UAAU+P,UAAY,SAAS1Q,GACvC,IAAIL,EAAa,CAChBqR,OAAQhR,EAAU,CAACA,GAAW,IAG/Bc,KAAKmQ,gBAAgBtR,GAGrB,GAAImB,KAAKmM,UAAYjN,EAAS,CAC7B,MAAMkR,EAAWC,IAChB,GAAIA,GAAO,KAAM,CAChBxR,EAAWqR,OAAOnI,KAAKsI,GACvBA,EAAInD,SAASoD,QAAQF,EACtB,GAEDvR,EAAWqR,OAAS,GACpBE,EAAQlR,EACT,CAEA,GAAIc,KAAKuQ,qBAAuBtT,EAAcuT,UAAW,CACxDxQ,KAAKyQ,0BAA0B5R,EAAWqR,OAC3C,MAAO,GAAIlQ,KAAKuQ,qBAAuBtT,EAAcyT,OAAQ,CAC5D1Q,KAAK2Q,uBAAuB9R,EAAWqR,OACxC,CAEA,OAAOlQ,IACR,EAKA,IAAI4Q,EAAoB,CAAEvL,GAAI,EAAGL,GAAI,GACrC,IAAI6L,EAAc,EAClB,IAAIC,EAAW,EAEf3S,EAAS0B,UAAUkR,UAAY,SAASxL,GACvC,IAAKA,EAAMyL,WAAY,CACtB,OAAQzL,EAAM0L,SACb,KAAKvU,EAASwU,WACd,KAAKxU,EAASyU,YACd,KAAKzU,EAAS0U,SACd,KAAK1U,EAAS2U,WACb,GAAI9L,EAAM+L,SAAW/L,EAAMgM,QAAUhM,EAAMiM,QAAS,CACnD,KACD,CACA,IAAIC,EAAQ,CAAEpM,EAAG,EAAGL,EAAG,GACvB,OAAQO,EAAM0L,SACb,KAAKvU,EAASwU,WAAYO,EAAMpM,GAAK,EAAG,MACxC,KAAK3I,EAASyU,YAAaM,EAAMpM,GAAK,EAAG,MACzC,KAAK3I,EAAS0U,SAAUK,EAAMzM,GAAK,EAAG,MACtC,KAAKtI,EAAS2U,WAAYI,EAAMzM,GAAK,EAAG,MACxC,QAAS,MAEVhF,KAAK0R,aAAad,EAAkBvL,EAAGuL,EAAkB5L,GACzD,GAAIO,EAAMoM,SAAU,CACnB3R,KAAK4R,IAAId,EAAWW,EAAMpM,EAAGyL,EAAWW,EAAMzM,EAC/C,KAAO,CACNhF,KAAK6R,OAAOhB,EAAcY,EAAMpM,EAAGwL,EAAcY,EAAMzM,EAAG,KAC3D,CACAhF,KAAK8R,aACLvM,EAAMwM,iBACNxM,EAAMyM,kBACN,MAED,KAAK,IACL,KAAKtV,EAASuV,KACd,KAAKvV,EAASwV,aACd,KAAKxV,EAASyV,YACbnS,KAAK0R,aAAa1R,KAAKO,OAAS,GAAKP,KAAKQ,QAAU,IACpDR,KAAKjB,KAAKwG,EAAM0L,UAAYvU,EAASuV,MAAQ1M,EAAM0L,UAAYvU,EAASyV,YAAc,KAAO,KAC7FnS,KAAK8R,aACLvM,EAAMwM,iBACNxM,EAAMyM,kBACN,MAED,KAAKtV,EAAS0V,EACb,GAAI7M,EAAM+L,QAAS,CAClBtR,KAAKqS,gBACN,CACA,MAED,QAAS,MAEX,CACD,EAKAlU,EAAS0B,UAAU6N,+BAAiC,SAASnI,GAC5D,IAAIa,EAAQpG,KAAKqG,WACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAMG,OAAQD,IAAK,CACtC,IAAIE,EAAOhK,EAAQiK,eAAeL,EAAME,IACxC,IAAIgM,EAAQ9L,EAAK+L,qBAAqBvS,MACtC,GAAIsS,GAASA,EAAME,uBAAwB,CAC1CF,EAAME,uBAAuBjN,EAC9B,CACD,CAEAvF,KAAK2L,wBACN,EAEAxN,EAAS0B,UAAU4S,iBAAmB,SAASjO,GAC9C,IAAI2D,EAAS7G,SAASmF,eAAezG,KAAKa,eAAe0J,KACzD,GAAIpC,EAAQ,CACX,GAAI3D,EAAM,CACT2D,EAAOuK,gBAAgB,WACvBlO,EAAOxE,KAAKS,QAAQkS,eAAenO,GACnC2D,EAAOoB,aAAa,IAAK/E,EAAKoO,GAAIpO,EAAK8K,IACvCnH,EAAOoB,aAAa,IAAK/E,EAAKqO,GAAIrO,EAAK6K,IACvClH,EAAOoB,aAAa,QAAS/E,EAAK8K,GAAK9K,EAAKoO,IAC5CzK,EAAOoB,aAAa,SAAU/E,EAAK6K,GAAK7K,EAAKqO,GAC9C,KAAO,CACN1K,EAAOoB,aAAa,UAAW,OAChC,CACD,CACD,EAEApL,EAAS0B,UAAUiT,QAAU,SAAStO,GACrC,IAAI6J,EAAMrO,KAAK+N,0BACf,GAAIM,GAAOrO,KAAKY,OAAQ,CACvB4D,EAAOxE,KAAKS,QAAQkS,eAAenO,GACnC,IAAIuO,EAAY,IAAIC,IACpBhT,KAAKY,OAAOsG,iBAAiB+L,2BAA2BF,EAAWvO,EAAM6J,EAAI6E,OAE7E,GAAIlT,KAAKmM,UAAY4G,EAAUvL,OAAS,EAAG,CAC1C,MAAM2L,EAAS,IAAIH,IACnB,MAAM5C,EAAU,CAACC,EAAK8C,KACrB,GAAI9C,GAAO,KAAM,CAChB8C,EAAOC,IAAI/C,GACXA,EAAInD,SAASoD,QAAS+C,GAAUjD,EAAQiD,EAAOF,GAChD,GAEDJ,EAAUzC,QAAQD,IACjB,MAAMX,EAAU1P,KAAK2P,YAAYU,GACjC,GAAIX,GAAW,KAAM,CACpBU,EAAQV,EAASyD,EAClB,IAED,OAAOG,MAAMC,KAAKJ,EACnB,CACA,OAAOG,MAAMC,KAAKR,EACnB,CAEA,MAAO,EACR,EAaA5U,EAAS0B,UAAU2T,SAAW,SAASnR,EAAOC,EAAQmR,EAAUC,EAAaC,GAC5E,OAAO,IACR,EAGAxV,EAAS0B,UAAU+T,YAAc,SAAS3P,GACzCxE,EAAcmU,YAAYC,MAAM7T,KAAM8T,WAEtC9T,KAAKkG,UAAUjC,aAAmB5G,EAAQ4G,EAAU,MAEpD,GAAIjE,KAAKC,qBAAuB,KAAM,CAErCD,KAAKC,oBAAoB8T,SAAS,EACnC,CAEA,OAAO/T,IACR,EAEA7B,EAAS0B,UAAUmU,sBAAwB,SAASC,GACnD1X,EAAasD,UAAUmU,sBAAsBjU,KAAKC,KAAMiU,GACxDA,EAAiBC,6BAA6BlU,KAAK6M,0BAA2B7M,KAC/E,EAEA7B,EAAS0B,UAAUsU,wBAA0B,SAASF,GACrDA,EAAiBG,6BAA6BpU,KAAK6M,0BAA2B7M,MAC9EzD,EAAasD,UAAUsU,wBAAwBpU,KAAKC,KAAMiU,EAC3D,EAEA9V,EAAS0B,UAAUgN,0BAA4B,SAAStH,GACvD,GAAIvF,KAAKY,OAAQ,CAChB,IAAIyT,EAAgBrU,KAAKY,OAAOkL,0BAChC,GAAIuI,EAAe,CAClB,IAAIhG,EAAMrO,KAAK+N,0BACf,IAAIuG,EAAUjG,GAAOA,EAAI6E,OAAS,EAClC,IAAIpK,EAAQ9I,KAAKuU,qBAAuBvU,KAAKwU,8BAAgC,KAC7E,IAAIC,EAAeJ,EAAcK,qBACjCD,EAAanE,QAAQ,SAASqE,GAC7B3U,KAAK+C,eAAe6R,cAAcD,GAClC,GAAI7L,GAAS,KAAM,CAClB6L,EAAYE,gBAAgBP,EAASxL,EACtC,CAEA,GAAI9I,KAAK8U,4BAA6B,CACrCH,EAAYI,SAAS,mCACtB,CACD,EAAG/U,KACJ,CAEA,GAAIA,KAAKmM,SAAU,CAClBnM,KAAKmD,mBAAqB/D,EAAcG,OAExCS,KAAKgV,QAAQ,KACd,CAEA,GAAIzP,KAAWvF,KAAKS,QAAQqK,cAAgB9K,KAAKS,QAAQqK,gBAAkB,GAAI,CAE9E9K,KAAKgL,OAAOhO,EAAOiO,IAAK,KAAM,EAAG,GACjCjL,KAAKS,QAAQqK,aAAe9K,KAAKS,QAAQwU,gBACzCjV,KAAKS,QAAQsK,iBAAmB/K,KAAKS,QAAQyU,aAC9C,CAEAlV,KAAKmN,YACN,CACD,EAEA,SAASgI,EAAKC,EAAGC,EAAGC,GACnB,OAAOF,GAAKC,EAAID,GAAKE,CACtB,CAEA,SAASC,EAAaC,EAAOC,EAAOpQ,GAEnCA,EAAIJ,KAAKyQ,IAAIzQ,KAAKC,KAAKG,EAAImQ,IAAUC,EAAQD,GAAQ,GAAM,GAE3D,OAAOnQ,EAAIA,EAAIA,GAAKA,GAAKA,EAAI,EAAI,IAAM,GACxC,CAEAlH,EAAS0B,UAAUQ,UAAY,WAC9BL,KAAKG,mBAAqB,EAE1B,IAAIwV,EAAO3V,KAAK4V,MAChB,GAAID,EAAM,CACT,IAAIE,EAAQF,EAAKE,MACjB,IAAIC,EAAMH,EAAKG,IACf,IAAIC,EAAUC,KAAKC,MACnB,IAAIX,EAAIrQ,KAAKyQ,IAAIH,EAAa,EAAG,GAAIQ,EAAUF,EAAMK,MAAQP,EAAKQ,UAAW,GAC7E,IAAIC,EAAapW,KAAKS,QAAQ4V,QAC9B,IAAIC,EAAatW,KAAKS,QAAQ8V,QAC9B,IAAIC,EAAUxW,KAAKS,QAAQ1B,KAE3BiB,KAAKS,QAAQ4V,QAAUlB,EAAKU,EAAMQ,QAASP,EAAIO,QAASf,GACxDtV,KAAKS,QAAQ8V,QAAUpB,EAAKU,EAAMU,QAAST,EAAIS,QAASjB,GACxDtV,KAAKS,QAAQ1B,KAAOoW,EAAKU,EAAM9W,KAAM+W,EAAI/W,KAAMuW,GAE/C,GAAItV,KAAKyW,gBAAiB,CACzBzW,KAAKyW,gBAAgB7E,IAAI5R,KAAKS,QAAQ4V,QAAUD,EAAYpW,KAAKS,QAAQ8V,QAAUD,GACnFtW,KAAKyW,gBAAgB1X,KAAKiB,KAAKS,QAAQ1B,KAAOyX,EAASxW,KAAKS,QAAQ4V,QAASrW,KAAKS,QAAQ8V,QAC3F,CAEAvW,KAAKmL,kBAAkB,CAAEhJ,QAASnC,KAAKoL,gBAEvC,GAAIpL,KAAKkL,kBAAqB6K,EAAUF,EAAMK,KAAQP,EAAKQ,SAAU,CACpEnW,KAAKG,mBAAqBuW,OAAOC,sBAAsB3W,KAAKI,kBAC7D,KAAO,QACCJ,KAAK4V,MACZ5V,KAAK4W,gBACN,CACD,CACD,EAQAzY,EAAS0B,UAAUgX,eAAiB,WACnC,OAAO7W,KAAKiD,YACb,EAEA9E,EAAS0B,UAAU2D,oBAAsB,SAASsT,EAASC,EAASxR,GACnE,GAAIA,EAAMyR,SAAWhX,KAAK+N,0BAA2B,CACpD/N,KAAK4M,aAAarH,EAAM0R,KACzB,CACD,EAQA9Y,EAAS0B,UAAU+M,aAAe,SAASqK,GAC1C,IAAKjX,KAAKY,OAAQ,CACjB,OAAOZ,IACR,CAEA,IAAIkX,EAAalX,KAAKY,OAAOuW,gBAC7B,IAAIC,EAAOpX,KACX,GAAIkX,EAAY,CACfA,EAAW5G,QAAQ,SAAS+G,GAC3BA,EAAUC,WAAWhH,QAAQ,SAASiH,GACrC,GAAIA,IAAcN,EAAM,CACvBG,EAAKpU,kBAAoBqU,EAAUC,WAAWE,QAAQD,EACvD,CACD,EACD,EACD,CAEAvX,KAAKyX,kBAAkB,CAAEC,UAAW1X,KAAKgD,kBAAmBiU,KAAMA,IAClE3a,EAAOgH,cAAcqU,QAAQ,YAAa,gBAAiB,CAAEX,OAAQhX,KAAMiX,KAAMA,EAAMS,UAAW1X,KAAKgD,oBAEvGhD,KAAKiD,aAAegU,EAEpB,IAAInK,EAASmK,EAAKnQ,YAClB,GAAIgG,EAAQ,CACX9M,KAAKkM,UAAUY,EAChB,CAKA,IAAI2G,EAAWwD,EAAKW,cACpB,GAAInE,GAAY,KAAM,CACrB,GAAIH,MAAMuE,QAAQpE,IAAaA,EAASlN,OAAS,EAAG,CACnDvG,KAAK8X,sBAAsBpa,EAAgB,CAC1C+L,IAAKxE,KAAK8S,MAAMtE,EAAS,GAAK,KAC9B/J,MAAOzE,KAAK8S,MAAMtE,EAAS,GAAK,KAChC9J,KAAM1E,KAAK8S,MAAMtE,EAAS,GAAK,KAC/B7J,MAAO6J,EAASlN,OAAS,EAAIkN,EAAS,GAAK,IAG7C,KAAO,CACNzT,KAAK8X,sBAAsBrE,EAC5B,CACD,CAEA,IAAIC,EAAcuD,EAAKe,iBACvB,GAAItE,GAAe,KAAM,CACxB,GAAIJ,MAAMuE,QAAQnE,IAAgBA,EAAYnN,OAAS,EAAG,CACzDvG,KAAKiY,yBAAyBva,EAAgB,CAC7C+L,IAAKxE,KAAK8S,MAAMrE,EAAY,GAAK,KACjChK,MAAOzE,KAAK8S,MAAMrE,EAAY,GAAK,KACnC/J,KAAM1E,KAAK8S,MAAMrE,EAAY,GAAK,KAClC9J,MAAO8J,EAAYnN,OAAS,EAAImN,EAAY,GAAK,IAGnD,KAAO,CACN1T,KAAKiY,yBAAyBvE,EAC/B,CACD,CAEApX,EAAOgH,cAAcqU,QAAQ,YAAa,oBAAqB,CAC9DX,OAAQhX,KAAK+N,0BACbkJ,KAAMA,EACNiB,wBAAyB,QAG1BlY,KAAKmY,WAEL,GAAIrL,GAAQ/N,MAAQzB,EAAmB8a,UAAW,CACjDpY,KAAKgL,OAAOhO,EAAOiT,QAAS,KAAM,EAAG,EACtC,CAEAjQ,KAAKqY,iBAAiB,CAAEX,UAAW1X,KAAKgD,oBAExC,OAAOhD,IACR,EAQA7B,EAAS0B,UAAUyY,iBAAmB,WACrC,GAAItY,KAAKiD,aAAc,CACtBjD,KAAK+N,0BAA0BwK,+BAA+BvY,KAAKiD,cACnEjD,KAAKmY,UACN,CACA,OAAOnY,IACR,EAWA7B,EAAS0B,UAAUmL,OAAS,SAASwN,EAAMtZ,EAASuZ,EAAkBC,GACrE,GAAI1Y,KAAKO,SAAW,GAAKP,KAAKQ,UAAY,GAAKR,KAAKY,QAAU,KAAM,CACnE,OAAOZ,IACR,CAEA,IAAI2Y,EAAc,CACjBjD,IAAK,CAAErQ,EAAGuT,SAAU5T,EAAG4T,UACvB1T,IAAK,CAAEG,GAAIuT,SAAU5T,GAAI4T,WAG1B,IAAIvK,EAAMrO,KAAK+N,2BAEduF,MAAMuE,QAAQW,GAAQA,EAAO,CAACA,IAAOlI,QAAQ,SAASkI,GACtD,OAAQA,GACP,KAAKxb,EAAOiO,IACXjL,KAAKY,OAAOsG,iBAAiB2R,4BAA4BF,GAAc,IAAM,GAC7E,MACD,KAAK3b,EAAOiT,QACX,GAAI5B,EAAK,CACRrO,KAAKY,OAAOsG,iBAAiB2R,4BAA4BF,EAAatK,EAAI6E,MAC3E,CACA,MACD,KAAKlW,EAAO8b,SACX,GAAIzK,EAAK,CACRA,EAAI0K,mBAAmB,SAAS7Z,GAC/BA,EAAQ2Z,4BAA4BF,GAAc,IAAM,EACzD,EACD,CACA,MACD,KAAK3b,EAAOgT,KACX,IAAK9Q,EAAS,CACb,MACD,CACA,GAAIoU,MAAMuE,QAAQ3Y,GAAU,CAC3BA,EAAQoR,QAAQ,SAASpR,GACxBA,EAAQ2Z,4BAA4BF,GAAc,IAAM,EACzD,EACD,KAAO,CACNzZ,EAAQ2Z,4BAA4BF,GAAc,IAAM,EACzD,CACA,MACD,KAAK3b,EAAOgc,QACX/a,EAAIgb,MAAM9b,IAAoB+b,QAAQ,uCACtC,OACD,KAAKlc,EAAOmc,iBACXlb,EAAIgb,MAAM9b,IAAoB+b,QAAQ,gDACtC,OACD,KAAKlc,EAAOoc,uBACXnb,EAAIgb,MAAM9b,IAAoB+b,QAAQ,sDACtC,OACD,KAAKlc,EAAOqc,SACZ,KAAKrc,EAAOsc,UACZ,KAAKtc,EAAOuc,QACZ,KAAKvc,EAAOwc,WACZ,KAAKxc,EAAOyc,SACZ,KAAKzc,EAAO0c,UACX,OACD,QACC,MAEH,EAAEpZ,KAAKN,OAEP,GAAI2Y,EAAYjD,IAAIrQ,GAAKsT,EAAYzT,IAAIG,GAAKsT,EAAYjD,IAAI1Q,GAAK2T,EAAYzT,IAAIF,EAAG,CACrF2T,EAAc,CACbjD,IAAK,CAAErQ,EAAG,EAAGL,EAAG,GAChBE,IAAK,CAAEG,EAAG,EAAGL,EAAG,GAElB,CAEA,IAAI2U,EAAY,IAAIrc,EACpBqc,EAAUC,QAAQjB,EAAa3Y,KAAKO,OAAQP,KAAKQ,QAASkY,GAC1D1Y,KAAK6Z,gBAAgBF,EAAWlB,GAEhC,OAAOzY,IACR,EAEA7B,EAAS0B,UAAUga,gBAAkB,SAAS/M,EAAQgN,GACrD,GAAIA,EAAgB,IAAM9Z,KAAKG,mBAAoB,CAClDH,KAAK4V,MAAQ,CACZC,MAAO,CACNK,KAAMF,KAAKC,MACXI,QAASrW,KAAKS,QAAQ4V,QACtBE,QAASvW,KAAKS,QAAQ8V,QACtBxX,KAAMiB,KAAKS,QAAQ1B,MAEpB+W,IAAK,CACJO,QAASvJ,EAAOuJ,QAChBE,QAASzJ,EAAOyJ,QAChBxX,KAAM+N,EAAO/N,MAEdoX,SAAU2D,EAAgB,KAG3B9Z,KAAK+Z,mBACL/Z,KAAKG,mBAAqBuW,OAAOC,sBAAsB3W,KAAKI,kBAC7D,KAAO,CACN,GAAIJ,KAAKyW,gBAAiB,CACzBzW,KAAKyW,gBAAgB7E,IAAI9E,EAAOuJ,QAAUrW,KAAKS,QAAQ4V,QAASvJ,EAAOyJ,QAAUvW,KAAKS,QAAQ8V,SAC9FvW,KAAKyW,gBAAgB1X,KAAK+N,EAAO/N,KAAOiB,KAAKS,QAAQ1B,KAAM+N,EAAOuJ,QAASvJ,EAAOyJ,QACnF,CAEAvW,KAAKS,QAAQ1B,KAAO+N,EAAO/N,KAC3BiB,KAAKS,QAAQ4V,QAAUvJ,EAAOuJ,QAC9BrW,KAAKS,QAAQ8V,QAAUzJ,EAAOyJ,QAC9BvW,KAAKkL,iBAELlL,KAAK2L,yBAEL3L,KAAKmL,kBAAkB,CAAEhJ,QAASnC,KAAKoL,eACxC,CACD,EAEAjN,EAAS0B,UAAU6R,aAAe,SAASrM,EAAGL,GAC7ChF,KAAKU,WAAa2E,EAAIrF,KAAKS,QAAQ4V,SAAWrW,KAAKS,QAAQ1B,KAC3DiB,KAAKW,WAAaqE,EAAIhF,KAAKS,QAAQ8V,SAAWvW,KAAKS,QAAQ1B,IAC5D,EAEAZ,EAAS0B,UAAUiS,WAAa,WAC/B9R,KAAKU,UAAY,EACjBV,KAAKW,UAAY,EAEjBX,KAAK4W,gBACN,EAEA,SAASxU,EAAgB4X,EAAO3X,EAAOC,GAEtC,GAAI0X,EAAM3X,QAAUA,EAAQ4X,kBAC3BD,EAAM1X,SAAWA,EAAS2X,iBAAkB,CAC5CD,EAAM3X,MAAQA,EAAQ4X,iBACtBD,EAAM1X,OAASA,EAAS2X,iBACxBD,EAAMzS,MAAMlF,MAAQA,EAAQ,KAC5B2X,EAAMzS,MAAMjF,OAASA,EAAS,IAC/B,CACD,CAEAnE,EAAS0B,UAAUsN,WAAa,WAC/B5Q,EAAasD,UAAUsN,WAAWpN,KAAKC,MACvC,GAAIA,KAAKoB,OAAQ,CAChBpB,KAAK2L,wBACN,CACD,EAEAxN,EAAS0B,UAAU8L,uBAAyB,WAC3C,GAAI3L,KAAKoB,OAAOW,iBAAkB,CACjCmY,aAAala,KAAKoB,OAAOW,kBACzB/B,KAAKoB,OAAOW,iBAAmB,IAChC,CACA,GAAI/B,KAAKoB,OAAOQ,cAAe,CAC9B5B,KAAKoB,OAAOW,iBAAmBoY,WAAWna,KAAKoa,mBAAmB9Z,KAAKN,MAAO,IAC/E,CACD,EAEA7B,EAAS0B,UAAUua,mBAAqB,WACvCpa,KAAKoB,OAAOW,iBAAmB,KAC/B,GAAI/B,KAAKwK,aAAe,OAASxK,KAAKoB,OAAOQ,gBAAkB5B,KAAKoB,OAAOM,UAAW,CACrF,MACD,CAEA,IAAI2Y,EAAgBpV,KAAKoD,MAAMpD,KAAKC,IAAID,KAAKC,IAAIlF,KAAKO,OAAQP,KAAKQ,SAAW,GAAK,MACnF,IAAI6B,EAAQrC,KAAKO,OAAS8Z,EAC1B,IAAI/X,EAAStC,KAAKQ,QAAU6Z,EAC5B,IAAIC,EAASjY,EAAQrC,KAAKO,OAC1B,IAAIga,EAASjY,EAAStC,KAAKQ,QAC3B,IAAI2B,EAAUnC,KAAKoL,cACnB,IAAIoP,EAAkB,CAACrY,EAAQ,GAAKA,EAAQ,IAAMmY,EAAS,GAAK,GAAKnY,EAAQ,GAAKA,EAAQ,IAAMoY,EAAS,GAAK,GAAKpY,EAAQ,GAAKmY,EAAQnY,EAAQ,GAAKoY,GAErJva,KAAKwK,YAAYjB,aAAa,QAASlH,EAAQ,MAC/CrC,KAAKwK,YAAYjB,aAAa,SAAUjH,EAAS,MACjDtC,KAAKwK,YAAYjB,aAAa,UAAWiR,EAAgBC,KAAK,MAG9D,IAAIC,GAAa,IAAIC,eAAgBC,kBAAkB5a,KAAKwK,aAC5D,IAAIqQ,EAAO,qCAAuCC,mBAAmBJ,GAGrE1a,KAAKwK,YAAYjB,aAAa,QAAS,QACvCvJ,KAAKwK,YAAYjB,aAAa,SAAU,QACxCvJ,KAAKwK,YAAYjB,aAAa,UAAWpH,EAAQsY,KAAK,MAEtDza,KAAKoB,OAAOI,YAAYW,QAAUqY,EAClCxa,KAAKoB,OAAOI,YAAYuZ,IAAMF,CAC/B,EAEA1c,EAAS0B,UAAUka,iBAAmB,SAASlY,GAC9C,GAAI7B,KAAKoB,OAAOU,mBAAoB,CAEnCoY,aAAala,KAAKoB,OAAOU,oBACzB9B,KAAKoB,OAAOU,mBAAqB,IAClC,CACA,GAAI9B,KAAKoB,OAAOW,iBAAkB,CACjCmY,aAAala,KAAKoB,OAAOW,kBACzB/B,KAAKoB,OAAOW,iBAAmB,IAChC,CAEA,GAAI/B,KAAKoB,OAAOO,aAAe3B,KAAKoB,OAAOQ,eAAiB5B,KAAKwK,aAAe,KAAM,CACrF,MACD,CAEAxK,KAAKoB,OAAOO,WAAa,KACzB3B,KAAKoB,OAAOS,SAAWA,EAEvB7B,KAAKwK,YAAYjD,MAAMyT,QAAU,OACjChb,KAAKoB,OAAOM,UAAU6F,MAAMyT,QAAU,QAEtChb,KAAK2C,iBACN,EAEAxE,EAAS0B,UAAU+W,eAAiB,WACnC,IAAK5W,KAAKoB,OAAOO,WAAY,CAC5B,MACD,CAEA,IAAIsZ,EAAkB,WACrBjb,KAAKoB,OAAOM,UAAU6F,MAAMyT,QAAU,OACtChb,KAAKwK,YAAYjD,MAAMyT,QAAU,GACjChb,KAAKoB,OAAOO,WAAa,MACzB3B,KAAK2L,wBACN,EAAErL,KAAKN,MAEP,GAAIA,KAAKoB,OAAOS,SAAU,CACzB7B,KAAKoB,OAAOU,mBAAqBqY,WAAW,WAC3Cna,KAAKoB,OAAOU,mBAAqB,KACjCmZ,GACD,EAAE3a,KAAKN,MAAO,IACf,KAAO,CACNib,GACD,CACD,EAEA9c,EAAS0B,UAAU+R,IAAM,SAASsJ,EAAIC,GACrC,IAAKnb,KAAK8P,kBAAmB,CAC5B9P,KAAK+Z,mBAEL/Z,KAAKS,QAAQ4V,SAAW6E,EACxBlb,KAAKS,QAAQ8V,SAAW4E,EACxBnb,KAAKkL,iBAEL,GAAIlL,KAAKyW,gBAAiB,CACzBzW,KAAKyW,gBAAgB7E,IAAIsJ,EAAIC,EAC9B,CAEAnb,KAAKmL,kBAAkB,CAAEhJ,QAASnC,KAAKoL,eACxC,CACD,EAEAjN,EAAS0B,UAAUgS,OAAS,SAASqJ,EAAIC,GACxCnb,KAAK4R,IAAIsJ,EAAIC,EACd,EAEAhd,EAAS0B,UAAUd,KAAO,SAASqc,GAClC,IAAKpb,KAAK8P,kBAAmB,CAC5B9P,KAAK+Z,iBAAiB,MAEtB,IAAIvD,EAAUxW,KAAKS,QAAQ1B,KAC3BiB,KAAKS,QAAQ1B,KAAOkG,KAAKC,IAAIlF,KAAKS,QAAQ1B,KAAOqc,EAAG9d,EAAmB8a,WACvEpY,KAAKS,QAAQ4V,SAAWrW,KAAKU,WAAa8V,EAAUxW,KAAKS,QAAQ1B,MACjEiB,KAAKS,QAAQ8V,SAAWvW,KAAKW,WAAa6V,EAAUxW,KAAKS,QAAQ1B,MAEjE,GAAIiB,KAAKyW,gBAAiB,CACzBzW,KAAKyW,gBAAgB1X,KAAKiB,KAAKS,QAAQ1B,KAAOyX,EAC/C,CAEAxW,KAAKkL,iBAELlL,KAAKmL,kBAAkB,CAAEhJ,QAASnC,KAAKoL,eACxC,CACD,EAEAjN,EAAS0B,UAAUwb,MAAQ,SAAShW,EAAGL,GACtC,IAAIqJ,EAAMrO,KAAK+N,0BACf,IAAKM,EAAK,CACT,MACD,CAEA,IAAIO,EAAO5O,KAAK8U,4BAA8B,KAAO9U,KAAKiO,QAAQ5I,EAAGL,GACrE,IAAIsW,EAAuB,MAE3B,GAAItb,KAAKub,iBAAmBvb,KAAKub,kBAAoB3M,EAAM,CAC1D5O,KAAKwb,iBAAiB,CAAEtc,QAASc,KAAKub,kBACtC,IAAKvb,KAAKuU,qBAAsB,CAC/BvU,KAAKub,gBAAgB1G,gBAAgBxG,EAAI6E,MAAO,KACjD,CACAlT,KAAKub,gBAAkB,KACvBD,EAAuB,IACxB,CAEA,GAAItb,KAAKyb,wBAA0Bzb,KAAKyb,yBAA2B7M,EAAM,CACxE5O,KAAKwb,iBAAiB,CAAEtc,QAASc,KAAKyb,yBACtC,IAAKzb,KAAK0b,4BAA6B,CACtC1b,KAAKyb,uBAAuB5G,gBAAgBxG,EAAI6E,MAAO,KACxD,CACAlT,KAAKyb,uBAAyB,KAC9BH,EAAuB,IACxB,CAEA,GAAI1M,GAAQA,EAAK5B,0BAA4B9P,EAAgB4R,QAAS,CACrE9O,KAAKub,gBAAkB3M,EACvB,IAAK5O,KAAKuU,qBAAsB,CAC/B3F,EAAKiG,gBAAgBxG,EAAI6E,MAAOlT,KAAK2b,sBACtC,CACA3b,KAAK4b,iBAAiB,CAAE1c,QAAS0P,IACjC0M,EAAuB,IACxB,CAEA,GAAI1M,GAAQA,EAAK5B,0BAA4B9P,EAAgB2e,eAAgB,CAC5E7b,KAAKyb,uBAAyB7M,EAC9B,IAAK5O,KAAK0b,4BAA6B,CACtC9M,EAAKiG,gBAAgBxG,EAAI6E,MAAOlT,KAAK2b,sBACtC,CACA3b,KAAK4b,iBAAiB,CAAE1c,QAAS0P,IACjC0M,EAAuB,IACxB,CAEA,GAAIA,EAAsB,CACzBtb,KAAK2L,wBACN,CACD,EAEAxN,EAAS0B,UAAUuL,YAAc,WAChC,OAAOpL,KAAKS,QAAQ2K,aACrB,EAEAjN,EAAS0B,UAAU8C,gBAAkB,WACpC,GAAI3C,KAAKoB,OAAOO,WAAY,CAC3B3B,KAAKoB,OAAOY,iBAAmBhC,KAAKoB,OAAOY,kBAAoB0U,OAAOC,sBAAsB3W,KAAK8b,SAASxb,KAAKN,MAChH,CACD,EAEA7B,EAAS0B,UAAUic,SAAW,WAC7B9b,KAAKoB,OAAOY,iBAAmB,KAC/B,IAAIG,EAAUnC,KAAKoL,cACnB,IAAI/J,EAAcrB,KAAKoB,OAAOC,YAC9B,IAAIK,EAAY1B,KAAKoB,OAAOM,UAC5BU,EAAgBV,EAAW1B,KAAKO,OAAQP,KAAKQ,SAE7C,IAAI+B,EAAMb,EAAUc,WAAW,MAC/BD,EAAIwZ,iBACJxZ,EAAIE,UAAU,EAAG,EAAGf,EAAUW,MAAOX,EAAUY,QAE/C,IAAI0Z,EAAe3a,EAAYc,QAC/B,GAAI6Z,EAAc,CACjB,IAAIC,EAASjc,KAAKS,QAAQyb,eAAeF,EAAa,GAAIA,EAAa,IACvE,IAAIG,EAASnc,KAAKS,QAAQyb,eAAe/Z,EAAQ,GAAIA,EAAQ,IAC7DI,EAAI6Z,WAAWH,EAAO5W,EAAI8W,EAAO9W,GAAK4U,kBAAmBgC,EAAOjX,EAAImX,EAAOnX,GAAKiV,kBAEhF1X,EAAI8Z,MAAML,EAAa,GAAKta,EAAUW,OAASF,EAAQ,GAAKd,EAAYgB,OAAQ2Z,EAAa,GAAKta,EAAUY,QAAUH,EAAQ,GAAKd,EAAYiB,SAE/IC,EAAI+Z,sBAAwB,KAC5B/Z,EAAIga,sBAAwB,OAC5Bha,EAAIG,UAAUrB,EAAa,EAAG,EAC/B,CACD,EAEAlD,EAAS0B,UAAUqL,eAAiB,WACnC,GAAIlL,KAAKwK,aAAe,KAAM,CAC7B,OAAO,KACR,CAEAxK,KAAK2C,kBAEL,GAAI3C,KAAKC,qBAAuB,KAAM,CACrCD,KAAKC,oBAAoB4G,OAAO7G,KAAMA,KAAK8G,YAC5C,CAEA9G,KAAKwK,YAAYjB,aAAa,UAAWvJ,KAAKoL,cAAcqP,KAAK,MACjE,OAAO,IACR,EAqBAtc,EAAS0B,UAAU2c,YAAc,SAASC,GACzC,IAAIC,EAAW,CAAC,EAEhB,GAAID,GAAS,KAAM,CAClBA,EAAQ,CAAC,CACV,CAEA,GAAIA,EAAM3P,QAAU,KAAM,CACzB2P,EAAM3P,OAAS,IAChB,CAEA,GAAI2P,EAAM3P,OAAQ,CACjB4P,EAAS5P,OAAS,CAAE3K,QAASnC,KAAKoL,cACnC,CAEA,GAAIqR,EAAME,YAAc3c,KAAKuN,kBAAmB,CAC/C,IAAIqP,EAAiBH,EAAME,WAAWE,MAAQ,KAAO9f,EAAe+f,SAAWL,EAAME,WAAWE,KAChGH,EAASC,WAAa,CACrBE,KAAMD,GAEP,GAAIA,IAAmB7f,EAAe+f,SAAU,CAC/C,IAAIC,EAAgB/c,KAAKuN,kBAAkByP,wBAC3CN,EAASC,WAAWM,QAAUF,EAAcE,QAC5CP,EAASC,WAAWO,OAASH,EAAcG,MAC5C,MAAO,GAAIld,KAAKuN,kBAAkB4P,kCAAmC,CACpET,EAASC,WAAWS,QAAUpd,KAAKuN,kBAAkB8P,sBACtD,KAAO,CACNpf,EAAIqf,QAAQngB,IAAoB+b,QAAQ9b,EAASmgB,MAAMC,SAAUpgB,EAASmgB,MAAME,KAAM,6BACvF,CACD,CAEA,IAAIpP,EAAMrO,KAAK+N,0BACf,GAAI0O,EAAM1J,WAAa1E,EAAK,CAC3BqO,EAAS3J,UAAY1E,EAAIqP,uBAC1B,CAEA,OAAOhB,CACR,EAwBAve,EAAS0B,UAAU8d,YAAc,SAASjB,EAAU5C,GACnD,IAAIhN,EAAS4P,EAAS5P,OACtB,GAAIA,GAAUA,EAAO3K,QAAS,CAC7B,IAAIwX,EAAY,IAAIrc,EACpBqc,EAAUiE,YAAY9Q,EAAO3K,QAASnC,KAAKO,OAAQP,KAAKQ,SACxDR,KAAK6Z,gBAAgBF,EAAWG,EACjC,CAEA,IAAI+D,EAAmB,IAAI1c,IAC3B,GAAIub,EAASC,YAAcD,EAAS3J,UAAW,CAC9C,IAAIsB,EAAgBrU,KAAKuN,kBAAkBuQ,mBAC1CC,EAAc1J,EAAc7H,kBAE7BuR,EAAYzN,QAAQ,SAASpR,GAE5B,IAAI8e,EAAY3J,EAAc4J,gBAAgB/e,GAC9C,IAAIgf,EAAOF,EAAUG,UAErB9J,EAAc+J,iBAAiBJ,GAC/B,GAAIE,EAAM,CAETL,EAAiBQ,IAAIH,EAAMhf,EAC5B,CACD,EACD,CAGA,GAAIwd,EAASC,WAAY,CACxB,OAAQD,EAASC,WAAWE,MAC3B,KAAK9f,EAAe+f,SACnB,MAAMwB,EAAe5B,EAASC,WAAWM,QAAQsB,IAAIL,GAAQL,EAAiBW,IAAIN,IAAOlV,OAAOyV,GAAKA,GAAK,MACzGC,EAAchC,EAASC,WAAWO,OAAOqB,IAAIL,GAAQL,EAAiBW,IAAIN,IAAOlV,OAAOyV,GAAKA,GAAK,MACnGze,KAAKuN,kBAAkBoR,mBAAmBL,EAAc,KAAM,OAC9Dte,KAAKuN,kBAAkBoR,mBAAmBD,EAAa,MAAO,OAC9D,MAED,KAAK3hB,EAAe6hB,YACnB5e,KAAKuN,kBAAkBsR,kBACvBnC,EAASC,WAAWS,QAAQ9M,QAAQ,SAAS4N,GAC5C,IAAIhf,EAAU2e,EAAiBW,IAAIN,GAEnC,GAAIhf,EAAS,CACZc,KAAKuN,kBAAkBoR,mBAAmBzf,GAAUc,KAAKuN,kBAAkBuR,mBAAmB5f,GAAU,MACzG,CACD,EAAGc,MACH,MAED,QACC/B,EAAIgb,MAAM9b,IAAoB+b,QAAQ9b,EAAS2hB,MAAMvB,SAAUpgB,EAAS2hB,MAAMtB,KAAM,8BACpF,MAEH,CAEA,IAAIpP,EAAMrO,KAAK+N,0BACf,IAAIgF,EAAY2J,EAAS3J,UACzB,GAAIA,GAAa1E,EAAK,CACrB,IAAI2Q,EAAO3Q,EAAIqP,wBAEf,GAAIpK,MAAMuE,QAAQ9E,EAAUkM,UAAW,CACtC,IAAIA,EAAW,GACf,IAAIC,EAAa,GACjBnM,EAAUkM,SAAS3O,QAAQ,SAAS4N,GACnC,IAAIhf,EAAU2e,EAAiBW,IAAIN,GACnC,GAAIhf,EAAS,CACZ+f,EAASlX,KAAK7I,EACf,CACD,GACA8f,EAAKC,SAAS3O,QAAQ,SAAS4N,GAC9B,IAAIhf,EAAU2e,EAAiBW,IAAIN,GACnC,GAAIhf,GAAW6T,EAAUkM,SAASzH,QAAQ0G,GAAQ,EAAG,CACpDgB,EAAWnX,KAAK7I,EACjB,CACD,GACAmP,EAAI8Q,mBAAmBF,EAAUC,EAAY,MAAO,MACrD,CACD,CACA,OAAOlf,IACR,EASA7B,EAAS0B,UAAUuf,aAAe,SAASC,GAC1C,GAAIrf,gBAAgB7B,EAAU,CAC7BkhB,GACD,CACA,OAAOrf,IACR,EAaA7B,EAAS0B,UAAUyf,cAAgB,WAClC,IAAIC,EAAqBvf,KAAKyE,YAAYC,wBAC1C,IAAI8a,EAAgBD,EAAmBld,MACvC,IAAIod,EAAiBF,EAAmBjd,OACxC,IAAIod,EAEJA,EAAoBza,KAAKyQ,IAAI8J,EAAeC,GAE5C,MAAO,CACNra,MAAOoa,EAAgBE,GAAqB,GAC5C/a,KAAM8a,EAAiBC,GAAqB,GAC5CC,WAAYD,EAEd,EAEAvhB,EAAS0B,UAAU+f,qBAAuB,WACzC5f,KAAKmN,YACN,EAGAhP,EAAS0B,UAAUggB,sBAAwB,WAC1C,OAAO,KACR,EAEA1hB,EAAS0B,UAAUigB,mBAAqB,SAASC,GAChD/f,KAAK+J,YAAY,kBAAmBgW,EAAO,MAC3C,IAAI1R,EAAMrO,KAAK+N,0BACf,GAAIM,EAAK,CACR,IAAIiG,EAAUjG,EAAI6E,MAClB,IAAI8M,EAAQ3R,EAAIyP,mBAAmBpJ,qBACnC,IAAIuL,EAAiBjgB,KAAKub,gBAC1B,IAAIzS,EAAQ9I,KAAKwU,8BACjBwL,EAAM1P,QAAQ,SAASjJ,GACtB,GAAI0Y,EAAO,CACV1Y,EAAKwN,gBAAgBP,EAASxL,EAC/B,MAAO,GAAIzB,IAAS4Y,EAAgB,CACnC5Y,EAAKwN,gBAAgBP,EAAStU,KAAK2b,sBACpC,KAAO,CACNtU,EAAKwN,gBAAgBP,EAAS,KAC/B,CACD,EAAGtU,MAEH,GAAIggB,EAAMzZ,OAAS,EAAG,CACrBvG,KAAKmN,YACN,CACD,CACD,EAEAhP,EAAS0B,UAAUqgB,0BAA4B,SAASH,GACvD/f,KAAK+J,YAAY,yBAA0BgW,EAAO,MAClD,GAAIA,EAAO,CACV/f,KAAKqb,MAAM,EAAG,EACf,CAEA,IAAIhN,EAAMrO,KAAK+N,0BACf,GAAIM,EAAK,CACR,IAAI2R,EAAQ3R,EAAIyP,mBAAmBpJ,qBACnCsL,EAAM1P,QAAQ,SAASjJ,GACtB,GAAI0Y,EAAO,CACV1Y,EAAK0N,SAAS,mCACf,KAAO,CACN1N,EAAK8Y,YAAY,mCAClB,CACD,EACD,CACD,EAEAhiB,EAAS0B,UAAUugB,oBAAsB,SAASL,GACjD/f,KAAK+J,YAAY,mBAAoBgW,EAAO,MAC5C/f,KAAK+J,YAAY,eAAgBrM,EAAgBG,EAAYkiB,IAAS,MACtE/f,KAAKmN,aACL,OAAOnN,IACR,EAEA7B,EAAS0B,UAAUgV,gBAAkB,SAASkL,GAC7C/f,KAAK+J,YAAY,eAAgBgW,EAAO,MACxC/f,KAAK+J,YAAY,mBAAoBnM,EAAYD,EAAgBoiB,IAAS,MAC1E/f,KAAKmN,aACL,OAAOnN,IACR,EASA7B,EAAS0B,UAAUwgB,aAAe,SAASC,EAAUC,EAAMzX,GAC1D,GAAIwX,GAAY,KAAM,CACrB,OAAOtgB,IACR,CAEA,IAAKsT,MAAMuE,QAAQyI,GAAW,CAC7BA,EAAW,CAACA,EACb,CAGA,IAAIE,EAAeD,EAAQzX,GAAS9I,KAAK2b,sBAAyB,KAClE,IAAIrH,EAAUtU,KAAK+N,0BAA0BmF,MAC7CoN,EAAShQ,QAAQ,SAASjJ,GACzBA,EAAKoZ,sBAAsBnM,EAASkM,EACrC,GAEAxgB,KAAKmN,aAEL,OAAOnN,IACR,EAEA7B,EAAS0B,UAAU6gB,0BAA4B,SAASX,GACvD/f,KAAK+J,YAAY,yBAA0BgW,EAAO,MAClD,MAAM1R,EAAMrO,KAAK+N,0BACjB,GAAIM,EAAK,CACR,MAAMiG,EAAUjG,EAAI6E,MACpB,MAAM8M,EAAQ3R,EAAIyP,mBAAmB6C,4BACrC,MAAMC,EAAwB5gB,KAAKyb,uBACnC,MAAM3S,EAAQ9I,KAAKwU,8BACnBwL,EAAM1P,QAAQ,SAASjJ,GACtB,GAAI0Y,EAAO,CACV1Y,EAAKwN,gBAAgBP,EAASxL,EAC/B,MAAO,GAAIzB,IAASuZ,EAAuB,CAC1CvZ,EAAKwN,gBAAgBP,EAAStU,KAAK2b,sBACpC,KAAO,CACNtU,EAAKwN,gBAAgBP,EAAS,KAC/B,CACD,EAAGtU,MAEH,GAAIggB,EAAMzZ,OAAS,EAAG,CACrBvG,KAAKmN,YACN,CACD,CACD,EAEAhP,EAAS0B,UAAUghB,gBAAkB,SAASnR,GAC7C,GAAIA,EAAQoR,gBAAkBpR,EAAQqR,UAAW,CAChD,OAAO,IACR,CAEA,IAAI5X,EACJ,GAAIuG,EAAQsR,WAAatR,EAAQsR,UAAUC,OAASjS,UAAW,CAC9D7F,EAAK,IAAMuG,EAAQsR,UAAUC,IAC9B,MAAO,GAAIvR,EAAQwR,OAASlS,WAAaU,EAAQwR,KAAK,KAAO,EAAG,CAC/D/X,EAAK,IACN,KAAO,CACN,OAAO,IACR,CAEA,IAAKnJ,KAAKkB,QAAQigB,IAAIhY,GAAK,CAC1B,IAAIiY,EAAa,GACjB1R,EAAQ2R,wBAAwB,SAASC,EAAMvB,GAASqB,EAAWrZ,KAAKuZ,EAAMvB,EAAQ,GACtF/f,KAAKkB,QAAQmd,IAAIlV,EAAIiY,EACtB,CAEA,OAAOjY,CACR,EAEAhL,EAAS0B,UAAU0hB,gBAAkB,SAAS7R,GAC7C,GAAIA,EAAQoR,gBAAkBpR,EAAQqR,UAAW,CAChD,OAAO,IACR,CAEA,IAAI5X,EACJ,GAAIuG,EAAQ1O,WAAa0O,EAAQ1O,UAAUigB,OAASjS,UAAW,CAC9D7F,EAAK,IAAMuG,EAAQ1O,UAAUigB,IAC9B,MAAO,GAAIvR,EAAQ8R,WAAY,CAC9BrY,EAAK,IAAMuG,EAAQ8R,UACpB,KAAO,CACN,OAAO,IACR,CAEA,IAAKxhB,KAAKkB,QAAQigB,IAAIhY,GAAK,CAC1B,IAAIiY,EAAa,GACjB1R,EAAQ+R,wBAAwB,SAASH,EAAMvB,GAASqB,EAAWrZ,KAAKuZ,EAAMvB,EAAQ,GACtF/f,KAAKkB,QAAQmd,IAAIlV,EAAIiY,EACtB,CAEA,OAAOjY,CACR,EAEAhL,EAAS0B,UAAU6hB,sBAAwB,WAC1C,OAAO1hB,KAAKC,mBACb,EAEA9B,EAAS0B,UAAUwS,eAAiB,WACnC,IAAI9F,EAAKvM,KAAKY,OAAOkL,0BACrB,IAAIkU,EAAQzT,EAAGC,kBACf,IAAImV,EAAQ1jB,EAAI2jB,WAChB3jB,EAAI4jB,SAAS5jB,EAAI6jB,MAAMC,MACvB9jB,EAAI+gB,KAAK,0CACT/gB,EAAI+gB,KAAK,uBAAyBgB,EAAMzZ,QACxC,IAAIyb,EAAQ,EACZ,IAAIC,EAAY,EAChB,IAAIC,EAAY,EAChB,IAAIC,EAAiB,EACrB,IAAIC,EAAI9gB,SAAS4H,qBAAqB,OAAO,GAC7C,IAAIoM,EAAI,SAASmJ,GAChBuD,GAASvD,EAAEvR,SAAS3G,OACpB,IAAI8b,EAAS5D,EACb,IAAI6D,EAAI,EACR,MAAOD,GAAUD,EAAG,CACnBC,EAASA,EAAOpZ,WAChBqZ,GACD,CACA,GAAIL,EAAYK,EAAG,CAClBL,EAAYK,CACb,CACA,GAAI7D,EAAEvR,SAAS3G,SAAW,EAAG,CAC5B2b,IACA,GAAIzD,EAAE8D,UAAY,IAAK,CACtBJ,GACD,CACD,CACA,IAAK,IAAI7b,EAAI,EAAGA,EAAImY,EAAEvR,SAAS3G,OAAQD,IAAK,CAC3CgP,EAAEmJ,EAAEvR,SAAS5G,GACd,CACD,EACAgP,EAAE8M,GACFnkB,EAAI+gB,KAAK,mBACT/gB,EAAI+gB,KAAK,mBAAqBgD,GAC9B/jB,EAAI+gB,KAAK,mBAAqBiD,GAC9BhkB,EAAI+gB,KAAK,mBAAqBkD,GAC9BjkB,EAAI+gB,KAAK,mBAAqBmD,GAC9BlkB,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,KAAK3C,QACjEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,QAAQ3C,QACpEtI,EAAI+gB,KAAK,oBAAsB1d,SAAS4H,qBAAqB,YAAY3C,QACzEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,WAAW3C,QACvEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,QAAQ3C,QACpEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,WAAW3C,QACvEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,QAAQ3C,QACpEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,QAAQ3C,QACpEtI,EAAI+gB,KAAK,mBAAqB1d,SAAS4H,qBAAqB,SAAS3C,QACrEtI,EAAI+gB,KAAK,0CACT/gB,EAAI4jB,SAASF,EACd,EAEAxjB,EAAS0B,UAAU2iB,gBAAkB,SAASnd,EAAGL,EAAGoW,EAAGtO,GACtD,IAAI2V,EAAY3V,EAAOoP,eAAe7W,EAAGL,EAAG,GAC5Cyd,EAAUrH,EAAI,EACd,OAAOqH,CACR,EAEAtkB,EAAS0B,UAAUsM,OAAS,WAC3B,OAAOnM,KAAKY,QAAQ8hB,eAAiB,KACtC,EAEAvkB,EAAS0B,UAAU8iB,iBAAmB,SAAStkB,GAC9C,GAAIA,EAASkI,QAAUyI,UAAW,CACjC,MAAMuP,EAAM,IAAIpd,IAChB9C,EAASiS,QAAQ,SAASsS,GACzB,GAAIA,EAAMC,WAAa,OAAQ,CAC9BtE,EAAIF,IAAIuE,EAAME,IAAKF,EAAM7C,MAC1B,CACD,GACA,OAAOxB,CACR,CACA,OAAO,IACR,EAEApgB,EAAS0B,UAAUwM,mBAAqB,WACvC,MAAMD,EAAQ,IAAIjL,IAClB,MAAM9C,EAAW2B,KAAKY,OAAOmiB,mBAC7B,MAAMC,EAAS3kB,EAAS4kB,KAAMC,GAAOA,EAAGL,WAAa,QAAUK,EAAGJ,MAAQ,UAE1E,GAAIE,EAAQ,CACX,MAAMG,EAAOH,EAAOjD,MAAMqD,MAAM,KAChCD,EAAK7S,QAAQ,SAASgR,GACrB,MAAM+B,EAAOhlB,EAAS4kB,KAAMC,GAAOA,EAAGL,WAAavB,GAAQ4B,EAAGJ,MAAQ,QACtE1W,EAAMiS,IAAIiD,EAAM+B,EAAOA,EAAKtD,MAAQ3gB,EAAcI,QACnD,EAAGQ,KACJ,CACA,OAAOoM,CACR,EAEAjO,EAAS0B,UAAUyM,UAAY,SAASF,EAAOlN,GAC9C,MAAMb,EAAW2B,KAAK2iB,iBAAiBzjB,EAAQ6P,SAAS1Q,UAAY,CAAC,GACrE,GAAIA,EAAU,CACb,MAAMilB,EAAQjlB,EAASmgB,IAAI,SAC3B,GAAI8E,EAAO,CACV,MAAMD,EAAOjX,EAAMoS,IAAI8E,GACvB,OAAQD,GACP,KAAKjkB,EAAcC,IAClBW,KAAKoD,aAAa2E,KAAK7I,GACvB,MACD,KAAKE,EAAcG,OAClBS,KAAKqD,gBAAgB0E,KAAK7I,GAC1B,MACD,QACC,MAEF,MACD,CACD,CACAA,EAAQgO,SAASoD,QAAQtQ,KAAKsM,UAAUhM,KAAKN,KAAMoM,GACpD,EAEA,SAASmX,EAAiBle,GACzB,MAAMme,EAAMve,KAAKue,IAAIne,GACrB,MAAMoe,EAAMxe,KAAKwe,IAAIpe,GACrB,MAAO,CAACoe,GAAMD,EAAKA,EAAKC,EAAK,EAAG,EACjC,CACAtlB,EAAS0B,UAAU6jB,kBAAoB,WACtC,MAAM7R,EAAS0R,EAAiBvjB,KAAKkD,iBACrC,MAAMygB,EAAU,CAAC3jB,KAAKmD,qBAAuB/D,EAAcC,IAAM,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GACrF,MAAM4H,EAAOjH,KAAKY,OAAOsG,iBACzBD,EAAK2c,UAAU7lB,EAAW8lB,kBAAkBF,EAAS9R,GACtD,EAEA1T,EAAS0B,UAAU8P,YAAc,SAASU,GACzC,MAAOA,GAAO,KAAM,CACnB,MAAMhS,EAAW2B,KAAK2iB,iBAAiBtS,EAAItB,SAAS1Q,UAAY,CAAC,GAEjE,GAAIA,GAAU8iB,IAAI,QAAS,CAC1B,OAAO9Q,CACR,CACAA,EAAMA,EAAIgS,MACX,CACA,OAAO,IACR,EAEAlkB,EAAS0B,UAAUikB,YAAc,WAChC,GAAI9jB,KAAKmM,SAAU,CAClBnM,KAAKkD,iBAAmBlD,KAAKmD,qBAAuB/D,EAAcC,KAC9D4F,KAAK8e,GAAK,EACX9e,KAAK8e,GAAK,EACb/jB,KAAK0jB,oBACL1jB,KAAKgL,OAAOhO,EAAOiT,QACpB,CACD,EAEA9R,EAAS0B,UAAUmkB,aAAe,WACjC,GAAIhkB,KAAKmM,SAAU,CAClBnM,KAAKkD,iBAAmBlD,KAAKmD,qBAAuB/D,EAAcC,IAC/D4F,KAAK8e,GAAK,GACT9e,KAAK8e,GAAK,EACd/jB,KAAK0jB,oBACL1jB,KAAKgL,OAAOhO,EAAOiT,QACpB,CACD,EAEA9R,EAAS0B,UAAUmV,QAAU,SAASiP,GACrC,GAAIjkB,KAAKmM,UAAYnM,KAAKuN,kBAAmB,CAC5CvN,KAAKmD,mBAAsBnD,KAAKmD,qBAAuB/D,EAAcC,IAAMD,EAAcG,OAASH,EAAcC,IAEhH,IAAK4kB,EAAa,CACjBjkB,KAAK0jB,oBACL1jB,KAAKgL,OAAOhO,EAAOiT,QACpB,CAEAjQ,KAAKuN,kBAAkBoR,mBAAmB3e,KAAKY,OAAOsG,iBAAkB,MAAO,KAAM,MAErF,OAAQlH,KAAKmD,oBACZ,KAAK/D,EAAcC,IAClBW,KAAKuN,kBAAkBoR,mBAAmB3e,KAAKoD,aAAc,KAAM,KAAM,MACzE,MACD,KAAKhE,EAAcG,OAClBS,KAAKuN,kBAAkBoR,mBAAmB3e,KAAKqD,gBAAiB,KAAM,KAAM,MAC5E,MACD,QACC,MAEH,CACD,EAEA,OAAOlF,CACR","ignoreList":[]}