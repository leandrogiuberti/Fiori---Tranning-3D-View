{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","Log","Element","Ellipse","Rectangle","Line","Polyline","Path","Text","Image","LinearGradient","OrthographicCamera","View","NodeContentType","NavigationMode","TransformationMatrix","getResourceBundle","TotaraUtils","colorToCSSColor","SvgImage","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_cameras","Map","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_materialMap","_annotationsMap","_annotationNodesMap","_materialNodesMap","_nodes","_viewGroups","_views","_viewThumbnails","_geometries","_geometryMeshes","_meshNodes","_meshSubmeshes","_images","_imageTextures","_fillStyles","_lineStyles","_textStyles","_joints","_yIndex","_materialsByTextureImageId","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","_currentSceneId","userData","skipIt","getName","prototype","setScene","info","matrix","upAxis","camera","get","cameraId","outputSettings","outputDPI","mmToInch","pointToPixel","mmToPixels","outputSize","Math","min","width","height","forEach","material","lineStyle","widthCoordinateSpace","showPaperSpace","lineWidth","JSON","stringify","node","backgroundTopColor","backgroundBottomColor","builder","setRootNode","nodeId","sceneId","vkScene","sid","_sceneMetadata","setSceneMetadata","setNodePersistentId","nodeRef","_resetCurrentScene","cleanup","clear","getNode","contextIterator","values","contextItem","next","done","value","nodes","createCamera","cameraInfo","setUpDirection","Array","isArray","up","setZoomFactor","zoom","setPosition","origin","id","getCamera","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","findBestLOD","lods","i","length","type","undefined","setMeshNode","_setMeshNode","setModelViewVisibilitySet","setAnimationPlaybacks","createThumbnail","view","thumbnailData","window","btoa","String","fromCharCode","apply","data","_fireThumbnailLoaded","modelView","setSubmeshes","meshes","mesh","submeshes","submesh","j","len","count","insertSubmesh","submeshInfo","lod","boundingBox","geometry","ni","_addGeometryToNode","pushElementIntoMapArray","getViewGroup","viewGroupId","viewGroup","views","vi","viewId","push","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","metadata","veids","NavigationModes","turntable","Turntable","orbit","Orbit","pan","Pan","Zoom","insertView","viewInfo","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","navigationMode","NoChange","dimension","setAspectRatio","thumbnailId","imageData","setCamera","flyToTime","preDelay","postDelay","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","query","addView","getView","setViewCamera","getChildNodeIds","includeMeshNode","ids","children","child","treeNode","setViewNodeInfos","nodeInfos","setNodeInfos","finalizeViewGroups","entries","removeViews","setVoxelThreshold","voxelThreshold","getVoxelThreshold","createNode","nodeInfo","transform","contentType","convertTo3x2","usageIds","parametricId","dynamicContentId","setVisible","visible","visualisable","joints","joint","parent","parentSid","jointNodes","concat","viewBox","pageIndex","setPageIndex","parentId","add","_vkSetNodeContentType","Hotspot","DynamicContent","Annotation","preferMeshes","createAnnotation","attributes","annotation","getAnnotation","createImageNote","remove","nodeIds","that","target","delete","_getMatrixFromBoundingBox","Float32Array","max","Number","EPSILON","materialId","_getMaterial","indices","points","isPositionQuantized","i0","i1","i2","l","segments","isPolyline","Object","assign","lineColor","path","isTriangleMesh","materialID","fillStyle","colour","color","subelement","setGeometry","geomInfo","geometryMeshes","mi","_fireSceneUpdated","DEFAULT_T","DEFAULT_R","DEFAULT_S","getTransformationMatrix","shape","_compose","t","r","s","setParametricContent","parametricContent","warning","shapes","_createObject","setDynamicContent","dynamicContent","templateId","rectangle","fill","stroke","polarToCartesian","cx","cy","rx","ry","angle","cos","sin","stroke_id","fill_id","gradient","fillURL","uid","style_id","style","textStyles","major","radius","minor","start","end","PI","short","abs","clockwise","po","label","imageNode","removeNode","createMaterial","materialInfo","textureIds","lineColour","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","lineWidthCoordinateSpace","emissiveColour","opacity","textureEmissive","textureImageId","texture","textureInfo","imageIdsToLoad","Set","textureWidth","textureHeight","nodeIdsToUpdate","setMaterial","_createTemporaryMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","updateViewsForReplacedNodes","insertFillStyle","veid","insertLineStyle","insertTextStyle","textStyle","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","slice","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","materialsAwaitingTexture","m","size","bind","setViewThumbnail","tileWidth","viewInfoColor","settingColor","red","floor","green","blue","alpha"],"sources":["SceneBuilder-dbg.js"],"mappings":"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","ignoreList":[]}