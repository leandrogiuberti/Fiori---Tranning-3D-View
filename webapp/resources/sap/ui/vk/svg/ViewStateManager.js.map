{"version":3,"file":"ViewStateManager.js","names":["sap","ui","define","Log","vkCore","ViewStateManagerBase","cssColorToColor","colorToCSSColor","abgrToColor","colorToABGR","AnimationTrackType","NodeContentType","Scene","Element","DataType","coreElement","VisibilityTracker","ViewStateManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_mask","_nodeHierarchy","_selectedNodes","Set","_visibilityTracker","setHighlightColor","getEventBus","subscribe","_onActivateView","exit","unsubscribe","_setContent","content","_scene","scene","_setScene","initialView","getInitialView","_currentView","_resetNodesStatusByCurrentView","_setNodeHierarchy","getDefaultNodeHierarchy","setViewStateManager","nodeHierarchy","oldNodeHierarchy","clear","attachNodeReplaced","_handleNodeReplaced","attachNodeUpdated","_handleNodeUpdated","attachNodeRemoving","_handleNodeRemoving","_initialState","visible","hidden","that","allNodeRefs","findNodesByName","forEach","nodeRef","isVisible","push","fireVisibilityChanged","fireNodeHierarchyReplaced","newNodeHierarchy","event","replacedNodeRef","getParameter","replacementNodeRef","getSelectionState","setSelectionStates","getNodeHierarchy","getVisibilityChanges","getShouldTrackVisibilityChanges","getInfo","getCurrentView","viewManager","getElementById","getViewManager","currentView","getActiveView","getVisibilityComplete","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","getVisibilityState","resetVisibility","setVisibilityState","nodeRefs","mask","Array","isArray","map","recursive","force","isBulkChange","recursiveVisibility","idx","collected","_collectNodesRecursively","concat","length","fill","changedVisibility","usedNodeRefs","changed","filter","index","has","add","eventParameters","setVisible","node","parent","trackNodeRef","enumerateSelection","callback","selectionSet","isSelected","_getSelectionComplete","selected","_isAncestorSelected","_updateHighlightColor","parentSelected","setSelected","_highlightColorABGR","nodeContentType","Hotspot","DynamicContent","children","i","l","setSelectionState","blockNotification","getRecursiveSelection","value","self","indexOf","_appendAncestors","fireSelectionChanged","unselected","selectedNodeRefs","unselectedNodeRefs","delete","result","collectChildNodes","enumerateChildren","_getOpacity","opacity","undefined","getOpacity","setTotalOpacity","totalOpacity","setOpacity","recursiveOpacity","changedOpacity","fireOpacityChanged","_getTintColorABGR","tintColor","_getTintColor","getTintColor","inABGRFormat","getTintColorMethodName","toABGR","color","CSSColor","getType","isValid","setTintColor","recursiveColor","changedColor","changedABGR","tintColorABGR","fireTintColorChanged","size","fireHighlightColorChanged","highlightColor","highlightColorABGR","getHighlightColor","getTransformationWorld","getData","_decompose","_matrixWorld","getTransformation","t","matrix","translation","position","quaternion","scale","arrayToMatrix","array","Float32Array","Error","setTransformation","transformations","transformation","getTransformParametersForEvent","userData","setMatrix","slice","transform","angleAxis","halfAngle","s","Math","sin","cos","euler","warning","_compose","fireTransformationChanged","view","nodeInfos","getNodeInfos","transforms","nodeInfo","target","Translate","Rotate","Scale","nodeStartDataByAnimation","data","nodeVisible","nodeInvisible","info","skipIt","getChildren","channel","eventId","source","getId","activateView","fireViewStateApplying","fireViewStateApplied","publish","setJoints","joints","playback","_propagateOpacityToJointChildren","opacities","_setJointNodeMatrix","_visibilityChanges","changedNodes","getScene","nodeRefToPersistentId"],"sources":["ViewStateManager-dbg.js"],"mappings":"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","ignoreList":[]}