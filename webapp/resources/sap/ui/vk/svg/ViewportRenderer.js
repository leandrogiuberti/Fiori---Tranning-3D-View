/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./Element","../abgrToColor","../cssColorToColor"],function(t,e,o){"use strict";var r={apiVersion:2};r.render=function(r,a){r.openStart("div",a);r.class("sapVizKitViewport");r.attr("tabindex",0);r.attr("aria-label","Image");r.attr("role","figure");r.style("width",a.getWidth());r.style("height",a.getHeight());r.style("background-image","linear-gradient("+a.getBackgroundColorTop()+","+a.getBackgroundColorBottom()+")");r.openEnd();r.openStart("canvas");r.style("display","none");r.style("position","absolute");r.openEnd();r.close("canvas");r.openStart("svg");r.attr("id",a.getId()+"-svg");r.attr("width","100%");r.attr("height","100%");r.attr("viewBox",a._getViewBox().join(" "));r.style("position","absolute");r.openEnd();var n=a.getScene();if(n){var l=a._getViewStateManagerSVG();var i=new Map;var s=e(l._highlightColorABGR);var u=e(a.getHotspotColorABGR());var p=o(a.getShowAllHotspotsTintColor());const d=a.getHotspotCustomTextHaloWidth();const f=d*.1;const g=o(a.getHotspotCustomTextOutlineColor());const h=a.getHotspotCustomTextOutlineWidth();const x=Math.max(d+f,h*2);i.set(t._hotspotEffectName(s),s);i.set(t._hotspotEffectName(u),u);i.set(t._hotspotEffectName(p),p);var c=n.getDefaultNodeHierarchy();c.getHotspotNodeRefs().forEach(function(t){var e=t.getHotspotEffectDef();i.set(e.name,e.color)});i.forEach(function(t,e){r.openStart("filter");r.attr("id",e);r.openEnd();r.openStart("feColorMatrix");r.attr("in","SourceGraphic");r.attr("type","matrix");r.attr("values","0 0 0 0 "+t.red/255+", 0 0 0 0 "+t.green/255+", 0 0 0 0 "+t.blue/255+", 0 0 0 "+t.alpha+" 0");r.openEnd();r.close("feColorMatrix");r.close("filter");r.openStart("filter");r.attr("id",e+"-custom-text");if(sap.ui.Device.browser.firefox){r.attr("x","-25%");r.attr("y","-100%");r.attr("width","150%");r.attr("height","300%")}else{r.attr("x",-x+"px");r.attr("y",-x+"px");r.attr("width",`calc(100% + ${x*2}px)`);r.attr("height",`calc(100% + ${x*2}px)`)}r.openEnd();r.openStart("feMorphology");r.attr("in","SourceAlpha");r.attr("result","blurOut");r.attr("operator","dilate");r.attr("radius",f);r.openEnd();r.close("feMorphology");r.openStart("feColorMatrix");r.attr("in","blurOut");r.attr("result","blurOut");r.attr("type","matrix");r.attr("values","0 0 0 0 "+t.red/255+", 0 0 0 0 "+t.green/255+", 0 0 0 0 "+t.blue/255+", 0 0 0 1 0");r.openEnd();r.close("feColorMatrix");r.openStart("feGaussianBlur");r.attr("in","blurOut");r.attr("result","blurOut");r.attr("stdDeviation",d);r.openEnd();r.close("feGaussianBlur");r.openStart("feMorphology");r.attr("in","SourceAlpha");r.attr("result","outline");r.attr("operator","dilate");r.attr("radius",h);r.openEnd();r.close("feMorphology");r.openStart("feColorMatrix");r.attr("in","outline");r.attr("result","outline");r.attr("type","matrix");r.attr("values","0 0 0 0 "+g.red/255+", 0 0 0 0 "+g.green/255+", 0 0 0 0 "+g.blue/255+", 0 0 0 "+g.alpha+" 0");r.openEnd();r.close("feColorMatrix");r.openStart("feGaussianBlur");r.attr("in","outline");r.attr("result","outline");r.attr("stdDeviation",h);r.openEnd();r.close("feGaussianBlur");r.openStart("feBlend");r.attr("in","blurOut");r.attr("in2","outline");r.attr("result","blurOut");r.openEnd();r.close("feBlend");r.openStart("feBlend");r.attr("in","SourceGraphic");r.attr("in2","blurOut");r.openEnd();r.close("feBlend");r.close("filter")});n.getRootElement().render(r,l?l._mask:-1|0,a)}a._selectionRect.render(r,0|0);if(a._styles.size>0){r.openStart("defs");r.openEnd();r.openStart("style");r.openEnd();a._styles.forEach(function(t,e){r.text("."+e+"{\n");for(var o=0;o<t.length;o+=2){r.text(t[o]+":"+t[o+1]+";\n")}r.text("}\n")});r.close("style");r.close("defs")}r.close("svg");a.renderTools(r);a.renderContent(r);r.close("div")};return r},true);
//# sourceMappingURL=ViewportRenderer.js.map