/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/Control","./tools/Tool","./library","./Core","./SelectionMode","./SelectionDisplayMode","./RenderMode","./SafeArea","sap/ui/core/Element","sap/ui/core/StaticArea"],function(e,t,n,a,o,i,r,l,s,u){"use strict";var p=e.extend("sap.ui.vk.ViewportBase",{metadata:{library:"sap.ui.vk",abstract:true,properties:{showDebugInfo:{type:"boolean",defaultValue:false},backgroundColorTop:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(50, 50, 50, 1)"},backgroundColorBottom:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 255, 255, 1)"},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},selectionMode:{type:"sap.ui.vk.SelectionMode",defaultValue:o.Sticky},selectionDisplayMode:{type:"sap.ui.vk.SelectionDisplayMode",defaultValue:i.Highlight},showSelectionBoundingBoxes:{type:"boolean",defaultValue:true},freezeCamera:{type:"boolean",defaultValue:false},renderMode:{type:"sap.ui.vk.RenderMode",defaultValue:r.Default},showSafeArea:{type:"boolean",defaultValue:false},showAllHotspots:{type:"boolean",defaultValue:false},showAllDynamicContents:{type:"boolean",defaultValue:false},disableHotspotHovering:{type:"boolean",defaultValue:false},hotspotColorABGR:{type:"int",defaultValue:1493172411},hotspotColor:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(89, 0, 0, 0.73)"},hotspotCustomTextOutlineWidth:{type:"float",defaultValue:1},hotspotCustomTextOutlineColor:{type:"sap.ui.core.CSSColor",defaultValue:"white"},hotspotCustomTextHaloWidth:{type:"float",defaultValue:10},keepOutputSize:{type:"boolean",defaultValue:false},showAllHotspotsTintColor:{type:"sap.ui.core.CSSColor",defaultValue:"rgba(255, 255, 0, .35)"},autoStartRendering:{type:"boolean",defaultValue:true}},associations:{contentConnector:{type:"sap.ui.vk.ContentConnector",multiple:false},viewStateManager:{type:"sap.ui.vk.ViewStateManagerBase",multiple:false},tools:{type:"sap.ui.vk.tools.Tool",multiple:true}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true},safeArea:{type:"sap.ui.vk.SafeArea",multiple:false},annotations:{type:"sap.ui.vk.Annotation",multiple:true},outputSettings:{type:"sap.ui.vk.OutputSettings",multiple:false}},events:{urlClicked:{parameters:{nodeRef:"any",url:"string"},enableEventBubbling:true},nodeClicked:{parameters:{nodeRef:"any",x:"int",y:"int"},enableEventBubbling:true},resize:{parameters:{size:"object"},enableEventBubbling:true},nodesPicked:{parameters:{picked:{type:"any[]"}},enableEventBubbling:true},nodeZoomed:{parameters:{zoomed:{type:"any"},isZoomIn:{type:"boolean"}},enableEventBubbling:true},viewActivated:{parameters:{viewIndex:"int",view:"sap.ui.vk.View",type:{type:"string"}},enableEventBubbling:true},procedureFinished:{enableEventBubbling:true},viewFinished:{parameters:{viewIndex:"int"},enableEventBubbling:true}}},renderer:null,constructor:function(t,n){e.apply(this,arguments);a.observeAssociations(this)}});var c=p.getMetadata().getParent().getClass().prototype;p.prototype.init=function(){if(c.init){c.init.call(this)}if(this.getSafeArea()==null){this.setSafeArea(new l)}this._camera=null;this._staticAreaParent=null;this._staticAreaNextSibling=null;this.attachBrowserEvent("fullscreenchange",this._handleFullscreenChange,this)};p.prototype.exit=function(){if(this._camera){var e=s.getElementById(this.getContentConnector());if(e){var t=e.getContentManager();if(t){t.destroyCamera(this._camera)}this._camera=null}}this._staticAreaParent=null;this._staticAreaNextSibling=null;this.detachBrowserEvent("fullscreenchange",this._handleFullscreenChange,this);if(c.exit){c.exit.call(this)}};p.prototype._handleFullscreenChange=function(e){if(e.target===this.getDomRef()){const t=u.getDomRef();if(t==null){return}const n=this.getDomRef();if(document.fullscreenElement===n){this._staticAreaParent=t.parentElement;this._staticAreaNextSibling=t.nextSibling;n.insertBefore(t,n.firstChild);e.stopImmediatePropagation()}else{this._staticAreaParent.insertBefore(t,this._staticAreaNextSibling);this._staticAreaParent=this._staticAreaNextSibling=null;if(document.fullscreenElement!=null){e.stopImmediatePropagation()}}}};p.prototype.onSetContentConnector=function(e){e.attachContentReplaced(this._onContentReplaced,this);this._setContent(e.getContent())};p.prototype.onUnsetContentConnector=function(e){e.detachContentReplaced(this._onContentReplaced,this);this._setContent(null);this.setCamera(null)};p.prototype._onContentReplaced=function(e){this._setContent(e.getParameter("newContent"))};p.prototype._setContent=function(e){if(e&&!this.getViewStateManager()){var t=s.getElementById(this.getContentConnector());if(t){var n=t.getDefaultViewStateManager();if(n){this.setViewStateManager(n)}}}return this};p.prototype.addTool=function(e){this.addAssociation("tools",e);e=e instanceof t?e:s.getElementById(e);e.setViewport(this)};p.prototype.getImage=function(e,t){return null};p.prototype.stickySelectionHandler=function(e){if(this._viewStateManager==null){return}if(e.length===0){const e=[];this._viewStateManager.enumerateSelection(function(t){e.push(t)});if(e.length>0){this._viewStateManager.setSelectionStates([],e)}}else{const t=[];const n=[];this._viewStateManager.getSelectionState(e).forEach(function(a,o){if(a){n.push(e[o])}else{t.push(e[o])}});this._viewStateManager.setSelectionStates(t,n)}};p.prototype.exclusiveSelectionHandler=function(e){if(this._viewStateManager==null){return}const t=this._viewStateManager.getSelectionState(e).some(e=>!e);var n=[];if(e.length===0||t){const t=new Set(e);this._viewStateManager.enumerateSelection(function(e){if(!t.has(e)){n.push(e)}})}this._viewStateManager.setSelectionStates(e,n)};p.prototype.setCamera=function(e){if(e!==this._camera){var t=s.getElementById(this.getContentConnector());if(this._camera&&t){var n=t.getContentManager();if(n){n.destroyCamera(this._camera)}}}this._camera=e;return this};p.prototype.getCamera=function(){return this._camera};p.prototype.activateView=function(e,t,n){return this};p.prototype.pan=function(e,t){return this};p.prototype.rotate=function(e,t){return this};p.prototype.zoom=function(e){return this};p.prototype.projectToScreen=function(e,t,n,a){return{x:0,y:0,depth:0}};p.prototype.normalizeRectangle=function(e,t,n,a){return{x:0,y:0,width:0,height:0}};p.prototype.deNormalizeRectangle=function(e,t,n,a){return{x:0,y:0,width:0,height:0}};p.prototype.renderTools=function(e){var t=this.getTools();for(var n=0,a=t.length;n<a;n++){var o=s.getElementById(t[n]);var i=o.getGizmoForContainer(this);if(i&&i.hasDomElement()){e.renderControl(i)}}};p.prototype.renderContent=function(e){var t=this.getContent();for(var n=0,a=t.length;n<a;n++){e.renderControl(t[n])}};p.prototype.getMeasurementSurface=function(){return null};return p});
//# sourceMappingURL=ViewportBase.js.map