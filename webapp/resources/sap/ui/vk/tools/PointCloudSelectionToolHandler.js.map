{"version":3,"file":"PointCloudSelectionToolHandler.js","names":["sap","ui","define","EventProvider","THREE","PointCloudSelectionToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","_handleIndex","_handleAxis","Vector3","_gizmoOrigin","_gizmoScale","_matrixOrigin","Matrix4","_rotationOrigin","_mouse","Vector2","_mouseOrigin","prototype","_updateMouse","event","viewport","getViewport","size","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","setFromMatrixPosition","matrixWorld","copy","scale","extractRotation","setFromMatrixColumn","normalize","multiplyScalar","highlightHandle","hover","_inside","_gesture","handled","click","hit","hitTest","getCurrentGroup","_setGroupPosition","point","shiftKey","addGroup","position","delta","_getAxisOffset","ray","dir","clone","cross","direction","origin","sub","dot","_getPlaneOffset","dist","_getMouseAngle","_rotationPoint","_rotationAxis","mouseDirection","Math","atan2","_axis2","_axis1","beginGesture","_dragOrigin","crossVectors","abs","cos","PI","matCamera","_startAngle","move","isFinite","_setOffset","z","deltaAngle","_setRotationAxisAngle","_setSize","Device","os","macintosh","metaKey","ctrlKey","endGesture","undefined","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","left","window","scrollX","top","scrollY","id","getIdForLabel","domobj","document","getElementById","offset","w","offsetWidth","h","offsetHeight"],"sources":["PointCloudSelectionToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}