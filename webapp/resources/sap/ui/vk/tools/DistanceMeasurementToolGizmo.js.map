{"version":3,"file":"DistanceMeasurementToolGizmo.js","names":["sap","ui","define","Distance","Utils","State","MeasurementToolGizmo","DistanceMeasurementToolGizmo","extend","metadata","library","renderer","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_updateCurrentFeature","nodeRef","point","viewport","allowFace","allowEdge","allowVertex","meshAnalyzer","_getMeshAnalyzer","removeFeature","r","_computeSphereRadius","pointRadius","_getPointRadius","intersection","intersectSphere","_is2D","vertex","_replaceCurrentFeature","_vertexFeatures","_currentFeatureIndex","vertexId","_currentFeature","setValue","edge","_edgeFeatures","edgeId","getVertex","buildEdgePath","faceId","_faceFeatures","buildFace","_surface","_updateMeasurement","currentMeasurement","feature1","_firstFeature","feature2","change1","isEdge","isFace","change2","p","_hoverPoint","worldPoint","np1","isVertex","getValue","res","findClosestPointEdgeToEdge","findClosestPointFaceToEdge","findClosestPointFaceToFace","findClosestPointEdgeToPoint","findClosestPointFaceToPoint","p1","getPoint1","setPoint1","setPoint2","setHoverPoint","data","oldHighlightedNodeRef","newHighlightedNodeRef","vsm","_vsm","outlined","unoutlined","setOutliningStates","_state","SearchingSecondFeature","_currentMeasurement","setVisible","update","_viewport","getCamera","settings","_settings","shiftKey","featureFace","featureEdge","featureVertex","needToUpdateMeasurement","fixPoint","state","SearchingFirstFeature","setCurrentFeatureIndex","slice","measurement","point1","point2","beginMeasurementConstruction","getDistance","setShowArrows","setFeatures","newMeasurement","endMeasurementConstruction","escapePressed","cancelMeasurementConstruction","Off","_tool","setActive","is2D"],"sources":["DistanceMeasurementToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}