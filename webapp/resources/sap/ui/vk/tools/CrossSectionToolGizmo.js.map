{"version":3,"file":"CrossSectionToolGizmo.js","names":["sap","ui","define","getResourceBundle","THREE","Gizmo","AxisColours","ThreeUtils","assert","CrossSectionToolGizmo","extend","metadata","library","renderer","apiVersion","render","rm","control","openStart","class","openEnd","renderControl","_editingForm","close","prototype","init","apply","this","_createEditingForm","getText","_handleIndex","_viewport","_tool","_position","Vector3","_plane","Plane","_flip","_matViewProj","Matrix4","_gizmoSize","_firstShowPress","setAxis","hasDomElement","show","viewport","tool","bbox","_scene","_computeBoundingBox","Box3","getCenter","constant","normal","dot","setClippingPlanes","hide","_updateEditingForm","_getOffset","getComponent","_axis","getAxis","i","dir","setComponent","set","geometry","BufferGeometry","vertices","Array","dirX","y","z","x","dirY","p","sub","multiplyScalar","toArray","add","setAttribute","Float32BufferAttribute","_gizmoPlane","Line","LineBasicMaterial","color","transparent","linewidth","window","devicePixelRatio","arrowLength","lineRadius","coneHeight","coneRadius","touchRadius","clone","lineGeometry","CylinderGeometry","m","makeBasis","setPosition","applyMatrix4","_gizmoArrow","Mesh","MeshBasicMaterial","userData","coneGeometry","cone","matrixAutoUpdate","touchGeometry","_touchMesh","visible","side","DoubleSide","setShouldRenderFrame","setFlip","flip","handleIndex","getTouchObject","size","_getDelta","getSize","Math","max","_setOffset","offset","MathUtils","clamp","min","getValue","setValue","value","highlightArrowHandle","highlight","material","setHex","children","selectHandle","index","_adjustBoundingBox","boundingBox","delta","expandByScalar","_updateGizmo","position","scale","updateMatrixWorld","camera","getCamera","getCameraRef","copy","multiplyMatrices","projectionMatrix","matrixWorldInverse","setScalar","_getGizmoScale","expandBoundingBox","sceneBoundingBox","expandByPoint","multiply","_getEditingFormPosition","matrixWorld","getMetadata","getName","getRenderer","clearDepth","_gizmo","exit","disposeObject","call"],"sources":["CrossSectionToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}