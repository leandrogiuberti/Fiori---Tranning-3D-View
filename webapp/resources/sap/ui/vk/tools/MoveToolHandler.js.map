{"version":3,"file":"MoveToolHandler.js","names":["sap","ui","define","EventProvider","Menu","MenuItem","getResourceBundle","THREE","CoordinateSystem","MoveToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","_handleIndex","_gizmoIndex","_handleAxis","Vector3","_gizmoOrigin","_gizmoScale","_objectSpace","Matrix4","_mouse","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","prevHandleIndex","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","setFromMatrixPosition","matrixWorld","scale","extractRotation","_coordinateSystem","World","copyPosition","setFromMatrixColumn","normalize","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","selectHandle","delta","_getAxisOffset","ray","dir","clone","cross","direction","copy","origin","sub","dot","_getPlaneOffset","dist","multiplyScalar","beginGesture","_dragOrigin","_setOffset","offset","getEnableStepping","stepSize","Math","pow","round","log10","matInv","invert","applyMatrix4","pos","add","pos1","getComponent","abs","pos2","isFinite","z","move","endGesture","undefined","contextMenu","getAllowContextMenu","menu","items","text","getText","key","Local","Parent","Screen","Custom","itemSelected","item","getParameters","setCoordinateSystem","getKey","bind","openAsContextMenu","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["MoveToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}