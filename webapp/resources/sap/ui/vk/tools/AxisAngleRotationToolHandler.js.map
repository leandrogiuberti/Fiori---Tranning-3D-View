{"version":3,"file":"AxisAngleRotationToolHandler.js","names":["sap","ui","define","EventProvider","Menu","MenuItem","getResourceBundle","THREE","CoordinateSystem","AxisAngleRotationToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","linePrecision","_handleIndex","_gizmoIndex","_matrixOrigin","Matrix4","_mouse","Vector2","_mouseOrigin","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","prevHandleIndex","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","copy","matrixWorld","_objectSize","_getObjectSize","_getGizmoScale","position","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","selectHandle","_getMouseAngle","ray","delta","_rotationPoint","clone","sub","origin","dist","_rotationAxis","dot","direction","mouseDirection","multiplyScalar","normalize","Math","atan2","_axis2","_axis1","beginGesture","Vector3","setFromMatrixColumn","crossVectors","setFromMatrixPosition","abs","cos","PI","matCamera","_startAngle","MathUtils","degToRad","getValue","_prevAngle","_deltaAngle","move","mouseAngle","moveDelta","angle1","angle2","getEnableStepping","step","steps","sizes","round","isFinite","_setRotationAxisAngle","endGesture","contextMenu","getAllowContextMenu","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["AxisAngleRotationToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}