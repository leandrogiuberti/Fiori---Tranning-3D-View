{"version":3,"file":"ScaleToolGizmo.js","names":["sap","ui","define","THREE","Gizmo","CoordinateSystem","AxisColours","AnimationTrackType","assert","Log","ScaleToolGizmo","extend","metadata","library","renderer","apiVersion","render","rm","control","openStart","class","openEnd","renderControl","_editingForm","close","prototype","init","apply","this","_createEditingForm","_gizmoIndex","_handleIndex","_value","Vector3","setScalar","_scaleDelta","_noHitScale","_viewport","_tool","_nonUniformScaleEnabled","_sceneGizmo","Scene","light","DirectionalLight","Math","PI","position","set","add","AmbientLight","_gizmo","Group","_touchAreas","_coordinateSystem","World","_nodes","_matViewProj","Matrix4","_gizmoSize","arrowLength","boxSize","touchBoxSize","createGizmoBox","dir","color","touchAreas","m","makeBasis","y","z","x","boxGeometry","BoxGeometry","applyMatrix4","material","MeshLambertMaterial","transparent","box","Mesh","userData","copy","lineRadius","lineGeometry","CylinderGeometry","setPosition","clone","multiplyScalar","line","renderOrder","touchGeometry","createGizmoTriangle","a","b","BufferGeometry","vertices","Float32Array","setAttribute","Float32BufferAttribute","colors","Line","LineBasicMaterial","vertexColors","linewidth","window","devicePixelRatio","triangleGeometry","triVertices","setIndex","triangle","MeshBasicMaterial","opacity","side","DoubleSide","visible","boxMaterial","_axisTitles","_createAxisTitles","_updateGizmoPartVisibility","hasDomElement","screenSystem","Screen","gizmoObjects","children","touchObjects","resetValues","setCoordinateSystem","coordinateSystem","setNonUniformScaleEnabled","value","show","viewport","tool","length","_sequence","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","_attachVisibilityChanged","hide","_detachVisibilityChanged","_cleanTempData","_disposeBoundsTree","_updateEditingForm","_onVisibilityChanged","event","getEnableSnapping","_computeBoundsTree","getGizmoCount","Local","Parent","getTouchObject","i","_updateGizmoObjectTransformation","arrowHighlighting","highlightHandle","index","hoverMode","highlightAll","obj","highlight","setHex","axisTitle","colorAttr","geometry","attributes","copyArray","needsUpdate","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","forEach","nodeInfo","matGizmo","matrixWorld","scaleOrigin","node","scale","matOrigin","parent","matParentInv","invert","_prepareForCreatingScaleKey","sequence","_printEventInfo","debug","properties","name","offsetToRest","offsetToPrevious","absolute","world","restDifference","restDifferenceInCoordinates","property","rtransform","getRelativeTransformation","slice","_getEffectiveParent","skipUpdateJointNode","_setJointNodeOffsets","Scale","offsetScale","_setJointNodeMatrix","_playback","sequenceOffset","_getEndPropertyInPreviousPlayback","transform","getTransformation","wtrans","getTransformationWorld","_nodeUserDataMap","get","sc","wmatScale","matScale","initialScale","quaternionVector","Quaternion","quaternion","rotMat","makeRotationFromQuaternion","initialRotMat","initialQuaternion","vx","vy","vz","extractBasis","rvx","rvy","rvz","dot","multiply","decompose","indices","_alignAxesBetweenGizmoAndNodeCoordinates","abs","push","endGesture","fireScaled","withNode","getClosestAligned","v","v1","v2","v3","d1","d2","d3","nodeMat","normalize","gizmoMat","gvx","gvy","gvz","_scale","noSnapping","changeSigns","scaleVector","appliedScalePositive","multiplyVectors","ignore","multiplyMatrices","matrix","smat","te","elements","updateMatrix","updateMatrixWorld","_checkSceneSelectionIntersection","testScale","equals","_setScale","getValue","getComponent","setValue","axisScale","setComponent","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","viewStateManager","call","handleSelectionChanged","_getObjectScale","objectIndex","_getObjectSize","Box3","isEmpty","size","getSize","_updateGizmoTransformation","gi","camera","_updateAxisTitles","_getEditingFormPosition","direction","setFromMatrixColumn","getMetadata","getName","getRenderer","projectionMatrix","matrixWorldInverse","clearDepth","l"],"sources":["ScaleToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}