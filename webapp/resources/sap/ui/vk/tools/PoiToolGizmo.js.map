{"version":3,"file":"PoiToolGizmo.js","names":["sap","ui","define","THREE","Gizmo","PoiToolGizmoRenderer","GizmoPlacementMode","NodeContentType","assert","TransformationMatrix","PoiToolGizmo","extend","metadata","library","prototype","init","apply","this","_viewport","_tool","_placementMode","ObjectCenter","_nodes","_poiIndex","_moveDelta","Vector3","_ignoreNonPoiNode","hasDomElement","setIgnoreNonPoiNode","value","getIgnoreNonPoiNode","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","x","y","z","hide","_cleanTempData","getPOICount","getPOI","i","node","selectPOI","poiIndex","setShouldRenderFrame","beginGesture","setScalar","forEach","nodeInfo","_vkGetNodeContentType","Symbol","origin","setFromMatrixPosition","matrixWorld","matParentInv","Matrix4","parent","copy","invert","push","endGesture","fireMoved","_setOffset","offset","_move","isPanoramicActivated","_isPanoramicActivated","cameraPosition","getCamera","getCameraRef","pos","clone","cameraDistance","distanceTo","add","sub","setLength","setPosition","matrix","multiplyMatrices","position","matrixWorldNeedsUpdate","_updatePoiNodeTransform","move","handleSelectionChanged","event","_updatePoiButtons","updateButtons","render","getMetadata","getName","markerNode","userData","treeNode","invertParent","sceneBuilder","getScene","getSceneBuilder","referenceNode","getReferenceNodeFromMarkerNodeId","nodeId","newMatrix","premultiply","transform","convertTo4x3","elements"],"sources":["PoiToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}