{"version":3,"file":"AnchorPointToolGizmo.js","names":["sap","ui","define","getResourceBundle","THREE","BufferGeometryUtils","Gizmo","CoordinateSystem","AxisColours","AnchorPointToolOperation","assert","AnchorPointToolGizmo","extend","metadata","library","renderer","apiVersion","render","rm","control","openStart","class","openEnd","renderControl","_editingForm","close","prototype","init","apply","this","_createEditingForm","_gizmoIndex","_handleIndex","_viewport","_tool","_sceneGizmo","Scene","light","DirectionalLight","Math","PI","position","set","add","AmbientLight","_touchAreas","Group","_gizmo","_matViewProj","Matrix4","_gizmoSize","_moveDelta","Vector3","_rotationDelta","createGizmoArrow","dir","color","touchAreas","arrowLength","lineRadius","coneHeight","coneRadius","touchRadius","multiplyScalar","lineGeometry","CylinderGeometry","m","makeBasis","y","z","x","setPosition","clone","applyMatrix4","material","MeshLambertMaterial","transparent","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","touchGeometry2","mergedGeometry","mergeGeometries","createGizmoPlane","a","b","colors","Float32Array","geometry","BufferGeometry","vertices","setAttribute","Float32BufferAttribute","setIndex","MeshBasicMaterial","opacity","visible","side","DoubleSide","plane","lineVertices","Line","LineBasicMaterial","vertexColors","linewidth","window","devicePixelRatio","createGizmoArc","axis","radius","segments","TorusGeometry","rotateY","rotateX","arc","createTouchArc","i","arcMaterial","_arcMesh","_axisTitles","_createAxisTitles","_line","LineSegments","frustumCulled","hasDomElement","_updateHandlesVisibility","allowOperation","getAllowOperation","enableMovement","Rotate","enableRotation","Move","children","_initAnchorPoint","viewport","_anchorPoint","show","tool","hide","pos","copy","updateMatrixWorld","setQuaternion","quaternion","getGizmoCount","getTouchObject","scale","arrowHighlighting","highlightHandle","index","hoverMode","arrow","highlight","setHex","colorAttr","attributes","copyArray","needsUpdate","selectHandle","_units","setText","getText","String","fromCharCode","rerender","setShouldRenderFrame","beginGesture","_isMoved","_isRotated","_originPosition","setFromMatrixPosition","matrixWorld","_originQuaternion","endGesture","fireMoved","fireRotated","_setOffset","offset","gizmoIndex","fireEvent","_move","matInv","invert","setFromMatrixScale","newPos","sub","multiply","posAttribute","getAttribute","array","toArray","computeBoundingBox","abs","max","setRGB","move","_setRotationAxisAngle","axisIndex","angle1","angle2","deltaAngle","euler","Euler","fromArray","MathUtils","radToDeg","_rotate","i1","i2","n","ceil","setComponent","cos","sin","push","indices","geom","_deactivateScreenAlignment","quat","Quaternion","setFromEuler","rotate","degToRad","_getValueLocaleOptions","useGrouping","minimumFractionDigits","maximumFractionDigits","getValue","setFromMatrixColumn","normalize","dot","rotation","reorder","setValue","value","quat2","setFromQuaternion","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","_updateGizmoTransformation","camera","multiplyMatrices","projectionMatrix","matrixWorldInverse","_getGizmoScale","setScalar","_updateAxisTitles","_getEditingFormPosition","direction","basis","_extractBasis","getMetadata","getName","getRenderer","clearDepth","_updateEditingForm"],"sources":["AnchorPointToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}