{"version":3,"file":"PoiManipulationTool.js","names":["sap","ui","define","Tool","THREE","PoiToolHandler","PoiToolGizmo","PoiHelper","ToolNodeSet","NodeContentType","Button","library","ButtonType","PoiManipulationTool","extend","metadata","properties","nodeSet","type","defaultValue","Highlight","aggregations","buttons","multiple","events","editing","parameters","nodeRef","removing","moving","x","y","z","nodesProperties","moved","constructor","sId","mSettings","apply","this","arguments","_viewport","_poiHelper","setAggregation","_handler","_buttonPosition","Vector2","_selectedPoi","Set","prototype","init","call","_editButton","icon","Neutral","press","event","fireEditing","values","next","value","bind","addStyleClass","_deleteButton","fireRemoving","addAggregation","setButtonsVisibility","attachMoved","getParameter","i","length","node","_gizmo","getIgnoreNonPoiNode","_vkGetNodeContentType","Symbol","adjustPoi","setFootprint","getSelectedPois","pois","vsm","_viewStateManager","getSymbolNodes","forEach","poi","getSelectionState","push","_updateSelectedPoi","symbolNodes","includes","delete","add","_updateButtonPosition","nodeRect","getPoiRect","nodeBoundingBox","Box3","expandByObject","center","Vector3","getCenter","nodeCenter","projectToScreen","getCamera","buttonx","width","buttony","height","set","handlePoiSelectionChange","setActive","activeViewport","updateButtons","getGizmo","show","rerender","_addLocoHandler","attachSelectionChanged","_removeLocoHandler","detachSelectionChanged","hide","getButtons","buttonsDom","btn","getVisible","getDomRef","parentElement","size","style","display","left","top","visible","setVisible","addButtons","controls","Array","isArray","ctr"],"sources":["PoiManipulationTool-dbg.js"],"mappings":"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","ignoreList":[]}