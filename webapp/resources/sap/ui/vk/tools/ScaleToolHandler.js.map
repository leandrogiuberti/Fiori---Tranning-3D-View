{"version":3,"file":"ScaleToolHandler.js","names":["sap","ui","define","EventProvider","Menu","MenuItem","getResourceBundle","THREE","CoordinateSystem","ScaleToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","_handleIndex","_gizmoIndex","_handleAxis","Vector3","_handleDirection","_gizmoOrigin","_mouse","Vector2","_mouseOrigin","_originScale","_objectSize","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","prevHandleIndex","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObjects","children","length","indexOf","object","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","_getObjectScale","_getObjectSize","scale","axis1","axis2","addVectors","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","selectHandle","_getAxisOffset","ray","dir","clone","cross","direction","delta","origin","sub","dot","_getPlaneOffset","dist","multiplyScalar","beginGesture","set","_dragOrigin","move","setScalar","getNonUniformScaleEnabled","setComponent","dy","z","isFinite","getEnableStepping","scaleStep","Math","pow","round","log10","max","_setScale","endGesture","undefined","contextMenu","getAllowContextMenu","menu","items","text","getText","key","World","Local","Screen","Custom","itemSelected","item","getParameters","setCoordinateSystem","getKey","bind","openAsContextMenu","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["ScaleToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}