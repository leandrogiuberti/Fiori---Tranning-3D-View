/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./Tool","./CoordinateSystem","./GizmoPlacementMode","./MoveToolHandler","./MoveToolGizmo","./ToolNodeSet"],function(e,t,o,i,s,r){"use strict";var n=e.extend("sap.ui.vk.tools.MoveTool",{metadata:{library:"sap.ui.vk",properties:{coordinateSystem:{type:"sap.ui.vk.tools.CoordinateSystem",defaultValue:t.World},placementMode:{type:"sap.ui.vk.tools.GizmoPlacementMode",defaultValue:o.ObjectCenter},enableStepping:{type:"boolean",defaultValue:false},enableSnapping:{type:"boolean",defaultValue:false},showEditingUI:{type:"boolean",defaultValue:false},autoResetValues:{type:"boolean",defaultValue:true},allowContextMenu:{type:"boolean",defaultValue:true},nodeSet:{type:"sap.ui.vk.tools.ToolNodeSet",defaultValue:r.Highlight}},events:{moving:{parameters:{x:"float",y:"float",z:"float",nodesProperties:"any[]"}},moved:{parameters:{x:"float",y:"float",z:"float",nodesProperties:"any[]"}},coordinateSystemChanged:{parameters:{coordinateSystem:"sap.ui.vk.tools.CoordinateSystem"}},placementModeChanged:{parameters:{placementMode:"sap.ui.vk.tools.GizmoPlacementMode"}}}},constructor:function(t,o){e.apply(this,arguments);this._viewport=null;this._handler=new i(this);this._gizmo=null}});n.prototype.init=function(){e.prototype.init.call(this);this.setFootprint(["sap.ui.vk.threejs.Viewport"]);this.setAggregation("gizmo",new s)};n.prototype.setActive=function(t,o,i){e.prototype.setActive.call(this,t,o,i);if(this._viewport){if(t){this._gizmo=this.getGizmo();this._gizmo.setCoordinateSystem(this.getCoordinateSystem());this._gizmo.setPlacementMode(this.getPlacementMode());this._gizmo.show(this._viewport,this);this._addLocoHandler()}else{this._removeLocoHandler();this._gizmo?.hide();this._gizmo=null}}return this};n.prototype.queueCommand=function(e){if(this._addLocoHandler()){if(this.isViewportType("sap.ui.vk.threejs.Viewport")){e()}}return this};n.prototype.setPlacementMode=function(e){var t=this.getPlacementMode();if(t!==e){this.setProperty("placementMode",e,true);this.getGizmo().setPlacementMode(e);this._viewport?.setShouldRenderFrame();this.firePlacementModeChanged({placementMode:e})}return this};n.prototype.setCoordinateSystem=function(e){var t=this.getCoordinateSystem();if(t!==e){this.setProperty("coordinateSystem",e,true);this.getGizmo().setCoordinateSystem(e);this._viewport?.setShouldRenderFrame();this.fireCoordinateSystemChanged({coordinateSystem:e})}return this};n.prototype.setShowEditingUI=function(e){this.setProperty("showEditingUI",e,true);this._viewport?.setShouldRenderFrame();return this};n.prototype.setEnableSnapping=function(e){this.setProperty("enableSnapping",e,true);if(e&&this.getActive()){this.getGizmo()._computeBoundsTree()}else{this.getGizmo()._disposeBoundsTree()}return this};n.prototype.resetValues=function(){this.getGizmo().resetValues();this._viewport?.setShouldRenderFrame();return this};n.prototype.setNodeSet=function(e){this.setProperty("nodeSet",e,true);this._gizmo?.handleSelectionChanged()};n.prototype.move=function(e,t,o,i){var s;if(i&&i!==this.getCoordinateSystem()){s=this.getCoordinateSystem();this.setCoordinateSystem(i)}this._gizmo?.move(e,t,o);if(s){this.setCoordinateSystem(s)}this._gizmo?.endGesture();this._viewport?.setShouldRenderFrame();return this};n.prototype.prepareForCreatingTranslateKey=function(e){if(this._gizmo){this._gizmo._prepareForCreatingKey(e);return this._gizmo._getNodesProperties()}return null};return n});
//# sourceMappingURL=MoveTool.js.map