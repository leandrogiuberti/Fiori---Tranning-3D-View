{"version":3,"file":"PoiToolHandler.js","names":["sap","ui","define","EventProvider","THREE","PoiToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_poiIndex","_mouse","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","_updateActivePOI","n","type","viewportRect","_viewport","getDomRef","getBoundingClientRect","hit","hitTest","left","top","object","_poiZ","Vector3","setFromMatrixPosition","matrixWorld","project","getCamera","getCameraRef","z","i","l","getPOICount","getPOI","_getDragPosition","unproject","click","_inside","_gesture","selectPOI","handled","beginGesture","_dragOrigin","_setOffset","offset","isFinite","move","sub","endGesture","undefined","setShouldRenderFrame","_getOffset","obj","rectangle","p","window","pageXOffset","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["PoiToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}