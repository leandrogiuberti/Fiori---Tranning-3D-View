{"version":3,"file":"PointCloudSelectionToolGizmo.js","names":["sap","ui","define","KeyCodes","THREE","BufferGeometryUtils","PolylineMesh","PolylineGeometry","PolylineMaterial","PointCloudGroup","Gizmo","AxisColours","assert","PointCloudSelectionToolGizmo","extend","metadata","library","renderer","apiVersion","render","rm","control","openStart","class","openEnd","close","gizmoSize","axisNames","prototype","init","apply","this","_currentGroupIndex","_viewport","_tool","_sceneGizmo","Scene","light","DirectionalLight","Math","PI","position","set","add","AmbientLight","touchAreas","_touchAreas","Group","gizmo","_gizmo","_matViewProj","Matrix4","_groups","touchObjMaterial","MeshBasicMaterial","opacity","transparent","side","DoubleSide","addTouchGeometry","geometry","Mesh","addGizmoAxis","dir","color","axisLength","lineRadius","coneHeight","touchRadius","multiplyScalar","lineGeometry","CylinderGeometry","m","makeBasis","Vector3","y","z","x","setPosition","clone","applyMatrix4","material","MeshLambertMaterial","line","matrixAutoUpdate","touchGeometry","touchGeometry2","mergedGeometry","mergeGeometries","addGizmoPlane","a","b","colors","Float32Array","BufferGeometry","vertices","setAttribute","Float32BufferAttribute","setIndex","visible","plane","userData","lineVertices","Line","LineBasicMaterial","vertexColors","linewidth","window","devicePixelRatio","createTorusGeometry","radius","segments","axis","TorusGeometry","rotateY","rotateX","addGizmoArc","arc","i","boxHandleGeometry","ConeGeometry","translate","rotateZ","boxHandleObject","tg","children","forEach","mesh","toJSON","polylineMaterialSettings","dashCapStyle","dashPattern","segmentCapStyle","trimStyle","_polylineMaterial1","Object","assign","lineColor","dashOffset","_polylineMaterial2","l","boxGeometry","setVertices","_boxMesh","hasDomElement","show","viewport","tool","_updatePointCloudGroups","hide","viewportSize","Vector2","matViewProj","matWorldViewProj","addGroup","settings","length","getSelectionColor","slice","dist","camera","getCamera","getCameraRef","isPerspectiveCamera","matrixWorldInverse","projectionMatrix","elements","getRenderer","getSize","hit","hitTest","distance","point","near","far","setFromMatrixColumn","matrixWorld","size","group","push","fireGroupAdded","fireCurrentGroupChanged","removeGroup","pop","index","indexOf","splice","min","fireGroupRemoved","getCurrentGroup","clearGroups","getGizmoCount","_updateGizmoObjectTransformation","obj","groupIndex","copy","_position","quaternion","_quaternion","scale","_getGizmoScale","setScalar","updateMatrixWorld","_size","getComponent","setComponent","_updateGizmoTransformation","getTouchObject","highlightHandle","handleIndex","hoverMode","_handleIndex","_hoverMode","highlightColor","inactiveHandleOpacity","axisHighlighting","setHex","colorAttr","attributes","copyArray","needsUpdate","boxHandle","setShouldRenderFrame","beginGesture","_originPosition","_originSize","_originQuaternion","endGesture","_setGroupPosition","horizontal","_setOffset","offset","_setSize","delta","uniform","abs","_setRotationAxisAngle","axisIndex","deltaAngle","euler","Euler","setFromEuler","premultiply","groups","sceneUserData","getScene","getSceneRef","pointCloudGroupMatrices","map","getMatrix","invert","transpose","pointCloudGroupColors","getColor","expandBoundingBox","boundingBox","_expandBoundingBox","_previousGroup","_nextGroup","_isCurrentGroupAdditive","_color","w","undefined","_changeCurrentGroupType","additive","getMetadata","getName","clearDepth","resolution","multiplyMatrices","nearZ","PerspectiveCamera","child","computeLineDistances"],"sources":["PointCloudSelectionToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}