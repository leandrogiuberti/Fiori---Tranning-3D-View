{"version":3,"file":"RotateToolGizmo.js","names":["sap","ui","define","THREE","Gizmo","RotatableAxis","CoordinateSystem","AxisColours","AnimationTrackType","AnimationTrackValueType","GizmoPlacementMode","assert","Log","RotateToolGizmo","extend","metadata","library","renderer","apiVersion","render","rm","control","openStart","class","openEnd","renderControl","_editingForm","close","prototype","init","apply","this","_createEditingForm","String","fromCharCode","_gizmoIndex","_handleIndex","_value","Vector3","_rotationDelta","_noHitRotation","Euler","_viewport","_tool","_sceneGizmo","Scene","_gizmo","Group","_touchAreas","add","_axis","All","_coordinateSystem","World","_nodes","_matViewProj","Matrix4","_gizmoSize","createGizmoCircle","axis","color","radius","segments","geometry","TorusGeometry","rotateY","Math","PI","rotateX","circle","Mesh","MeshBasicMaterial","transparent","matrixAutoUpdate","userData","createTouchCircle","opacity","i","AxesHelper","arcMaterial","side","DoubleSide","_arcMesh","BufferGeometry","visible","_axisTitles","_createAxisTitles","hasDomElement","setAxis","value","RotatableAxises","X","Y","Z","Screen","children","resetValues","setScalar","setCoordinateSystem","coordinateSystem","screenSystem","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","x","y","z","_attachVisibilityChanged","_prepareForCreatingRotationKey","animationPlayer","time","playbackIndex","forEach","nodeInfo","nodeRef","node","euler","setTime","data","getAnimatedProperty","Rotate","offsetToPrevious","_nodeUserDataMap","Map","get","set","eulerInParentCoors","startEulerInParentCoors","bind","playback","getCurrentPlayback","_prepareForCreatingKey","hide","_detachVisibilityChanged","_cleanTempData","_disposeBoundsTree","_updateEditingForm","_onVisibilityChanged","event","getEnableSnapping","_computeBoundsTree","getGizmoCount","Local","Parent","getTouchObject","_updateGizmoObjectTransformation","highlightHandle","index","hoverMode","arrow","material","setHex","axisTitle","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","clone","matGizmo","matrixWorld","parent","updateMatrixWorld","matOrigin","matLocalOrigin","matrix","matParentInv","copy","invert","quaternion","_printEventInfo","debug","properties","name","offsetToRest","offsetToRestInCoordinates","absolute","world","restDifference","restDifferenceInCoordinates","property","offsetEuler","offsetQ","Quaternion","setFromEuler","_playback","sequenceOffset","_getEndPropertyInPreviousPlayback","sequenceOffsetQ","multiply","w","transform","getTransformation","wtrans","getTransformationWorld","wq","we","setFromQuaternion","quatInitialDiffInv","quat","push","endGesture","startEuler","Custom","skipUpdateJointNode","_setJointNodeOffsets","fireRotated","getNearestRotation","original","target","abs","rotateFromRestPosition","MathUtils","degToRad","ni","nc","ignore","radToDeg","restTrans","getRestTransformationUsingJoint","restQuaternion","_getEffectiveParent","offsetQuaternion","_setJointNodeMatrix","updateMatrix","rotateRestPosition","currentMat","currentMatInv","matRest","matRestInv","offsetMat","makeRotationFromQuaternion","offsetRotationMatInParent","offsetMInParent","quatInitialDiff","currentE","setFromRotationMatrix","matInitialDiff","decompose","position","scale","_updateEulerForCreatingAnimationKey","aboutSingleAxis","rTrans","getRelativeTransformation","em","sm","offsetQInParent","offsetMatInParent","offsetRotationMat","_rotate","noSnapping","addVectors","eulerArray","toArray","angle","axisIndex","charCodeAt","setFromMatrixColumn","normalize","matRotate","makeRotationAxis","pos","setFromMatrixPosition","setPosition","sub","applyMatrix4","setFromMatrixScale","localAxis","transformDirection","setFromAxisAngle","_checkSceneSelectionIntersection","testRotation","equals","_setRotationAxisAngle","angle1","angle2","deltaAngle","vertices","dir","i1","i2","n","max","ceil","a","setComponent","cos","sin","indices","geom","setIndex","setAttribute","Float32BufferAttribute","rotate","_getValueLocaleOptions","useGrouping","minimumFractionDigits","maximumFractionDigits","getValue","getComponent","setValue","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","viewStateManager","call","handleSelectionChanged","_getLevelingQuaternion","objectIndex","anchorPoint","_getAnchorPoint","_getObjectSize","Box3","isEmpty","size","getSize","_updateGizmoTransformation","camera","_placementMode","ObjectCenter","_updateAxisTitles","_getEditingFormPosition","direction","multiplyScalar","getMetadata","getName","getRenderer","multiplyMatrices","projectionMatrix","matrixWorldInverse","clearDepth","l"],"sources":["RotateToolGizmo-dbg.js"],"mappings":"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","ignoreList":[]}