{"version":3,"file":"ExplodeToolHandler.js","names":["sap","ui","define","EventProvider","ExplodeToolGizmo","THREE","ExplodeToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","Raycaster","_handleIndex","_handleAxis","Vector3","_gizmoOrigin","_mouse","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","far","Infinity","_updateHandles","hoverMode","prevHandleIndex","n","type","layers","mask","_getCameraLayersMask","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","distance","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","multiplyScalar","copy","_axisDirection","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","hit","hitTest","setSelectedItem","node","groupsMap","_groupsMap","group","get","parent","delta","_getAxisOffset","ray","dir","clone","cross","direction","origin","sub","dot","_getPlaneOffset","dist","beginGesture","_beginGesture","_dragOrigin","move","offset","isFinite","_setOffset","endGesture","_endGesture","undefined","contextMenu","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["ExplodeToolHandler-dbg.js"],"mappings":"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","ignoreList":[]}