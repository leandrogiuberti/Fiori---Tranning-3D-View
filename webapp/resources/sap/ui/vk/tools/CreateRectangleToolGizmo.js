/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./CreateParametricGizmo","../svg/Element","../svg/Rectangle"],function(t,e,i){"use strict";var a=t.extend("sap.ui.vk.tools.CreateRectangleToolGizmo",{metadata:{library:"sap.ui.vk"},renderer:null});a.prototype.hasDomElement=function(){return false};a.prototype.show=function(t,e){t.addStyleClass("sapVizKitViewportCreateToolActive");this._viewport=t;this._tool=e;this.updateParentNode()};a.prototype.hide=function(){this._viewport.removeStyleClass("sapVizKitViewportCreateToolActive");this._viewport=null;this._tool=null;this._root=null};a.prototype._startAdding=function(t){this._startPos=t;var a=this._viewport._camera._transformRect({x1:0,y1:0,x2:1,y2:1});this._minWidth=a.x2-a.x1;this._minHeight=a.y2-a.y1;this._activeElement=new i({subelement:true,width:this._minWidth,height:this._minHeight,material:this._tool._material,lineStyle:this._tool._lineStyle,fillStyle:this._tool._fillStyle});var o=new e({name:"Rectangle",matrix:[1,0,0,1,t.x,t.y]});this._setPageIndexIfExists(o);o.add(this._activeElement);this._root.add(o)};a.prototype._update=function(t,e){var i=this._startPos;var a=this._activeElement;if(a){var o=Math.min(i.x,t.x);var s=Math.min(i.y,t.y);var r=Math.max(Math.abs(i.x-t.x),this._minWidth);var n=Math.max(Math.abs(i.y-t.y),this._minHeight);if(this._tool.getUniformMode()^e){if(r<n){r=n;if(t.x<i.x){o=i.x-r}}else{n=r;if(t.y<i.y){s=i.y-n}}}a.parent.setMatrix([1,0,0,1,o,s]);a.width=r;a.height=n;a.invalidate()}};a.prototype._stopAdding=function(t){var e=this._activeElement;this._activeElement=null;if(t){this._tool.fireCompleted({node:e.parent,request:this._createRequest(e.parent)})}else{this._root.remove(e.parent)}};return a});
//# sourceMappingURL=CreateRectangleToolGizmo.js.map