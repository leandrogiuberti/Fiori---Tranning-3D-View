{"version":3,"file":"NodeProxy.js","names":["sap","ui","define","NodeProxyBase","Material","cssColorToColor","colorToCSSColor","abgrToColor","colorToABGR","TransformationMatrix","ThreeExtensions","ObjectType","THREE","NodeProxy","extend","metadata","library","constructor","nodeHierarchy","obj3D","call","this","_object3D","_nodeHierarchy","prototype","destroy","getNodeHierarchy","getNodeRef","getNodeId","getVeIds","userData","veids","getVeId","treeNode","sid","getMaterialId","refWithMaterial","geometry","children","length","name","undefined","material","materialId","originalMaterial","getName","type","_updateAncestorsBoundingBox","parent","boundingBox","_vkCalculateObjectOrientedBoundingBox","getLocalMatrix","convertTo4x3","matrix","elements","setLocalMatrix","value","fromArray","convertTo4x4","decompose","position","quaternion","scale","updateMatrixWorld","setProperty","setLocalMatrixNotUpdatingBBox","getWorldMatrix","matrixWorld","setWorldMatrix","multiplyMatrices","Matrix4","copy","invert","getOpacity","vsm","getScene","getViewStateManager","opacity","setOpacity","vsManager","getTintColorABGR","_getTintColorABGR","tintColor","setTintColorABGR","setTintColor","getTintColor","abgr","getNodeMetadata","getHasChildren","getClosed","closed","getBoundingBox","assignMaterial","setNodeRefMaterial","materialRef","nodeRef","side","materialUsed","getMaterialRef","forEach","child","objectType","PMI","Hotspot","enumerateMaterials","recursive","collectMaterials","materialRefSet","add","matRefSet","Set","materialRefs","val","push","materials","i","setMaterialRef","replaceMaterial","materialToReplace","materialToReplaceRef","id","getLocalTranslate","x","y","z","getLocalScale","getLocalRotationInQuaternion","w","getLocalRotationInAngleAxis","q","normalise","angle","Math","acos","s","sqrt","getLocalRotationInEuler","order","test","heading","attitude","bank","atan2","PI","sqx","sqy","sqz","asin"],"sources":["NodeProxy-dbg.js"],"mappings":"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","ignoreList":[]}