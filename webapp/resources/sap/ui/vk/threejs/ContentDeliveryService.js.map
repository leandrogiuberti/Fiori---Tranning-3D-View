{"version":3,"file":"ContentDeliveryService.js","names":["sap","ui","define","Log","ManagedObject","TotaraLoader","SceneBuilder","Material","THREE","getResourceBundle","ObjectType","ContentDeliveryService","extend","metadata","library","properties","authorizationHandler","maxActiveRequests","type","defaultValue","consumptionScenario","maxUrlLength","meshesBatchSize","materialsBatchSize","geomMeshesBatchSize","geomMeshesMaxBatchDataSize","annotationsBatchSize","tracksBatchSize","sequencesBatchSize","voxelThreshold","skipLowLODRendering","events","cameraChanged","parameters","sceneId","camera","enableEventBubbling","sceneUpdated","viewGroupUpdated","currentViewGroupId","sceneCompleted","loadingFinished","currentViewId","contentChangesProgress","percent","errorReported","error","initialViewCompleted","constructor","sId","mSettings","this","_loader","setSceneBuilder","apply","arguments","setSkipLowLODRendering","getSkipLowLODRendering","_transientSceneMap","Map","_currentNodeHierarchy","prototype","getMaxActiveRequests","setMaxActiveRequests","getConsumptionScenario","setConsumptionScenario","getMaxUrlLength","setMaxUrlLength","getMeshesBatchSize","setMeshesBatchSize","getMaterialsBatchSize","setMaterialsBatchSize","getGeomMeshesBatchSize","setGeomMeshesBatchSize","getGeomMeshesMaxBatchDataSize","setGeomMeshesMaxBatchDataSize","getAnnotationsBatchSize","setAnnotationsBatchSize","getVoxelThreshold","setVoxelThreshold","setProperty","uuid","replace","c","r","Math","random","v","toString","toLowerCase","initUrl","url","keepCachedData","sessionId","endsWith","that","notifyUpdate","fireSceneUpdated","notifyViewGroupUpdate","currentSceneInfo","context","getContext","id","fireViewGroupUpdated","running","getUrl","sceneBuilder","dispose","onErrorCallbacks","attach","_reportError","bind","onMaterialFinishedCallbacks","onImageFinishedCallbacks","onImageDetailsFinishedCallbacks","onViewGroupUpdatedCallbacks","setUrl","setSessionId","run","cleanup","Promise","resolve","fireErrorReported","_createLoadParam","reject","parentNode","contentResource","initialCamera","sceneLoaded","scene","getScene","contextParams","root","vkScene","activateView","getActivateView","enableLogger","getEnableLogger","includeAnimation","getIncludeAnimation","includeBackground","getIncludeBackground","includeHidden","getIncludeHidden","includeParametric","getIncludeParametric","includeMetadata","getIncludeMetadata","includeUsageId","getIncludeUsageId","metadataFilter","getMetadataFilter","pushPMI","getPushPMI","pushViewGroups","getPushViewGroups","useSecureConnection","getUseSecureConnection","onActiveCamera","newCam","isInitialCam","getVeid","phase","fireCameraChanged","onInitialSceneFinished","initialView","node","annotations","getSceneBuilder","_annotations","loader","onSceneCompleted","fireSceneCompleted","onLoadingFinished","fireLoadingFinished","source","onContentChangesProgress","event","fireContentChangesProgress","percentage","onInitialViewCompleted","fireInitialViewCompleted","errorCallback","info","warning","JSON","stringify","getParameters","reason","getParameter","errorCode","detachErrorReported","attachErrorReported","load","nodeProxy","getNodeProxy","getNodeHierarchy","getSource","getText","request","decrementResourceCountersForDeletedTreeNode","sid","update","sids","viewId","then","result","i","replacedNodeRefs","length","fireNodeReplaced","ReplacedNodeRef","ReplacementNodeRef","replacementNodeRefs","ReplacedNodeId","ReplacementNodeId","sceneVeId","sidArray","catch","exit","loadView","requestView","view","updatedNodes","fireNodeUpdated","nodeRef","updatePlaybacks","playbackIds","loadViewGroup","viewGroupId","forceRefresh","requestViewGroup","views","loadAnnotation","annotationId","requestAnnotation","annotation","assignMaterialToNodes","material","nodeRefs","assignToRestOfSceneTree","requestMaterial","materialRef","assignMaterial","recursive","userData","markedForNotAssigningMaterial","createNodeProxy","setMaterialRef","destroyNodeProxy","children","forEach","child","objectType","PMI","Hotspot","j","replaceMaterialOnNodes","originalMaterial","replacementMaterial","all","values","originalMaterialRef","replacementMaterialRef","replaceMaterial","childRef","Array","isArray","printLogTokens"],"sources":["ContentDeliveryService-dbg.js"],"mappings":"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","ignoreList":[]}