/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["../OrthographicCamera","../thirdparty/three"],function(t,e){"use strict";var a=t.extend("sap.ui.vk.threejs.OrthographicCamera",{metadata:{library:"sap.ui.vk"}});var i=t.getMetadata().getParent().getClass().prototype;a.prototype.init=function(){if(i.init){i.init.call(this)}var t=1;var a=2e5;this._nativeCamera=new e.OrthographicCamera(-1,1,1,-1,t,a);this._nativeCamera.position.set(0,0,1e4);this._nativeCamera.zoom=-1;this.setUsingDefaultClipPlanes(true)};a.prototype.update=function(t,e){var a=1/Math.min(t,e);var i=t*a;var r=e*a;if(this.getRight()!==i||this.getTop()!==r){this.setLeft(-i);this.setRight(i);this.setTop(r);this.setBottom(-r);var n=this._nativeCamera.view;if(n&&n.enabled){var o=n.fullWidth/n.fullHeight;var s=t/e;var p=Math.min(s,1)/Math.min(o,1);var u=p*o/s;var h=t/n.fullWidth;var f=e/n.fullHeight;n.offsetX=(n.offsetX*u+(n.fullWidth-n.width)*(1-u)*.5)*h;n.offsetY=(n.offsetY*p+(n.fullHeight-n.height)*(1-p)*.5)*f;n.width*=h;n.height*=f;n.fullWidth=t;n.fullHeight=e}this._nativeCamera.updateProjectionMatrix()}};a.prototype.exit=function(){if(i.exit){i.exit.call(this)}this._nativeCamera=null};a.prototype.getLeft=function(){return this._nativeCamera.left};a.prototype.setLeft=function(t){this._nativeCamera.left=t;return this};a.prototype.getRight=function(){return this._nativeCamera.right};a.prototype.setRight=function(t){this._nativeCamera.right=t;return this};a.prototype.getTop=function(){return this._nativeCamera.top};a.prototype.setTop=function(t){this._nativeCamera.top=t;return this};a.prototype.getBottom=function(){return this._nativeCamera.bottom};a.prototype.setBottom=function(t){this._nativeCamera.bottom=t;return this};a.prototype.getZoomFactor=function(){return this._nativeCamera.zoom};a.prototype.setZoomFactor=function(t){this._nativeCamera.zoom=t;return this};a.prototype.getCameraRef=function(){return this._nativeCamera};a.prototype.setCameraRef=function(t){this._nativeCamera=t;return this};a.prototype.getNearClipPlane=function(){return this._nativeCamera.near};a.prototype.setNearClipPlane=function(t){this._nativeCamera.near=t;this.setUsingDefaultClipPlanes(false);this._nativeCamera.updateProjectionMatrix();this.setIsModified(true);return this};a.prototype.getFarClipPlane=function(){return this._nativeCamera.far};a.prototype.setFarClipPlane=function(t){this._nativeCamera.far=t;this.setUsingDefaultClipPlanes(false);this._nativeCamera.updateProjectionMatrix();this.setIsModified(true);return this};a.prototype.getPosition=function(){return this._nativeCamera.position.toArray()};a.prototype.setPosition=function(t){this._nativeCamera.position.fromArray(t);this._nativeCamera.updateMatrixWorld();return this};a.prototype.getUpDirection=function(){return this._nativeCamera.up.toArray()};a.prototype.setUpDirection=function(t){this._nativeCamera.up.fromArray(t);this._nativeCamera.updateMatrixWorld();return this};a.prototype.getTargetDirection=function(){var t=new e.Vector3;this._nativeCamera.getWorldDirection(t);return t.toArray()};a.prototype.setTargetDirection=function(t){var a=(new e.Vector3).fromArray(t);a.add(this._nativeCamera.position);this._nativeCamera.lookAt(a);return this};a.prototype.setUsingDefaultClipPlanes=function(t){this._nativeCamera.userData.usingDefaultClipPlanes=t;return this};a.prototype.getUsingDefaultClipPlanes=function(){return this._nativeCamera.userData.usingDefaultClipPlanes};a.prototype.adjustClipPlanes=function(t){var a=this._nativeCamera;a.updateMatrixWorld();t=t.clone().applyMatrix4(a.matrixWorldInverse);a.near=-t.max.z;a.far=-t.min.z;var i=Math.max((a.far-a.near)*.0025,.001);a.near-=i;a.far+=i;if(a.near<0){var r=new e.Vector3(0,0,-1).transformDirection(a.matrixWorld).multiplyScalar(a.near);a.position.add(r);a.far-=a.near;a.near=0;a.updateMatrixWorld()}a.updateProjectionMatrix();return this};a.prototype.adjustZoom=function(t){var e=this._nativeCamera;e.updateMatrixWorld();t=t.clone().applyMatrix4(e.matrixWorldInverse);e.zoom=1/Math.max(t.min.x/e.left,t.max.y/e.top,t.max.x/e.right,t.min.y/e.bottom);e.updateProjectionMatrix();return this};return a});
//# sourceMappingURL=OrthographicCamera.js.map