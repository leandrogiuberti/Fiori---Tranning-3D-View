{"version":3,"file":"Annotation.js","names":["sap","ui","define","Control","vkCore","AnnotationStyle","NodeUtils","TransformationMatrix","FormattedText","Element","RTE","rteLibrary","AnnotationRenderer","Annotation","extend","metadata","library","properties","annotationId","name","nodeRef","text","type","defaultValue","style","Default","display","animate","animationDelay","selected","editable","xCoordinate","yCoordinate","xOffset","yOffset","height","width","associations","viewport","multiple","aggregations","textEditor","constructor","sId","mSettings","apply","this","arguments","_viewport","_topLimit","_leftLimit","prototype","setViewport","vp","setAssociation","getElementById","getViewport","getSafeArea","getDomRef","safeBox","getBoundingClientRect","viewBox","widthMargin","left","heightMargin","top","rect","normalizeRectangle","_firePositionChanged","annotation","getEventBus","publish","x","getXCoordinate","y","getYCoordinate","_fireSizeChanged","annotationWidth","annotationHeight","getTargetNodes","_targetNodes","getAttachmentNode","_attachmentNode","setAttachmentNode","attNode","invalidate","getDisplay","getNodeRef","vsm","getViewStateManager","getVisibilityState","getProperty","setDisplay","visible","setProperty","_reverse","getSelected","getSelectionState","setSelected","getEditable","_setMaxZ","setSelectionStates","that","onscroll","ev","textDivDom","_textDiv","stopPropagation","scrollTo","scrollLeft","deltaX","scrollTop","deltaY","_localScroll","document","addEventListener","removeEventListener","undefined","_moving","setAnnotationId","newId","oldAnnotationId","getAnnotationId","sourceData","getScene","setAnnotationPersistentId","view","getCurrentView","getNodeInfos","forEach","nodeInfo","_getNodeRefScreenCenter","node","center","centerOfNodes","projectToScreen","getCamera","_getSortIndex","zIndex","aNode","screenPoint","Math","floor","depth","_getOpacity","annotations","getAnnotations","atn","push","length","zIndexes","Array","from","zMax","max","zMin","min","_updateBlocked","targetNode","_getViewStateManagerThreeJS","nodeScreen","hitNode","hitTest","visibility","subNodes","_vkTraverseMeshNodes","indexOf","object","worldPos","getTransformationWorld","translation","hitPos","setName","getName","setText","html","getTextEditor","value","_textWidth","_textHeight","addStyleClass","getAnimate","getStyle","Random","Expand","_setSpanText","setHtmlText","update","textValue","newText","i","setStyle","val","getText","setAnimate","maxZ","map","ant","onclick","evt","_firstClick","setTimeout","tapObject","bind","openEditor","rte","editorType","EditorType","TinyMCE4","getWidth","getHeight","destroy","setTextEditor","closeEditor","getValue","destroyTextEditor","onAfterRendering","_initialOffsetWidth","offsetWidth","_initialOffsetHeight","offsetHeight","getAnimationDelay","domRef","delay","animationName","children","getElementsByTagName","styleObjects","className","j","randomDelay","random","animationDuration","animationTimingFunction","animationIterationCount","animationDirection","animationFillMode","k","setXCoordinate","setYCoordinate","setWidth","setHeight","setEditableState","setEditable","_previousState","annotationRect","scale","setY","deNormalizeRectangle","testHeight","getNativeApi","_resized","rectText","bBox","clientHeight","scrollHeight","round","toString","setX","testWidth","clientWidth","scrollWidth","maxWidth","rightEnd","position","textRect","_resizeEnd","_handleViewportStop","ontouchstart","currentSize","Map","editableAnnotations","getEditableAnnotations","filter","computedStyle","window","getComputedStyle","textWidth","parseInt","slice","textHeight","textMaxWidth","set","gripElements","childNodes","resizer","strategies","sapUiVizKitAnnotationElement0","gripNW","sapUiVizKitAnnotationElement1","gripN","sapUiVizKitAnnotationElement2","gripNE","sapUiVizKitAnnotationElement3","gripE","sapUiVizKitAnnotationElement4","gripSE","sapUiVizKitAnnotationElement5","gripS","sapUiVizKitAnnotationElement6","gripSW","sapUiVizKitAnnotationElement7","gripW","resize","gripHandler","oEvent","event","resizeHandler","targetTouches","target","offsetTop","_offsetTop","offsetLeft","_initialX","clientX","_initialY","clientY","onMouseMove","_viewportGestureHandler","_gesture","_currentX","_currentY","setTranslate","onMouseUp","disX","disY","oTarget","jQuery","currentTarget","control","$","rteIfr","cover","attr","css","opacity","offset","append","onmousemove","deltaWidth","deltaHeight","onmouseup","remove","size","get","_textMaxWidth","ontouchmove","ontouchend","setSize","isVisible","isSelected","annotationNodeElement","annotationLeaderLine","viewportRect","attNodeScreen","normRect","getXOffset","getYOffset","annotationNodeScreen","Explode","Square","posX","posY","leaderOptions","isElbow","toHeight","setLeaderLineSVG","transform","parseFloat","substring","_offsetLeft","to","leaderLineSVG","options","fromRect","toRect","x1","y1","x2","y2","classList","contains","add","svgLeft","svgTop","abs","startX","startY","pathway","leaderLine","getAttribute","setAttribute","getTotalLength","setLeaderLine","line","fT","tT","fL","tL","topSide","leftSide","sqrt","angle","PI","acos","getTransform","annotationNode","updateMatrix","convertTo4x3","matrix","elements","setTransform","updateNodeId","nodeId","userData","setNodePersistentId","setInitialOffset","values","next","nomPos","targetNodePos","initialX","initialY","fitToText","maxHeight","div","createElement","innerHTML","body","appendChild","removeChild","getStyles","styles","darkThemeSrc","lightThemeSrc","createAnnotation","divAnnotation","escapeCharacters","replaceAll","id","attachment","targetNodes","_getBackgroundColor","color","label","colour","colorArray"],"sources":["Annotation-dbg.js"],"mappings":"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","ignoreList":[]}