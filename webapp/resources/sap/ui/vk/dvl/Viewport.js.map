{"version":3,"file":"Viewport.js","names":["sap","ui","define","ResizeHandler","abgrToColor","CameraFOVBindingType","CameraProjectionType","colorToABGR","colorToCSSColor","vkCore","cssColorToColor","getResourceBundle","glMatrix","Loco","Messages","SelectionMode","Smart2DHandler","ViewportBase","ViewportHandler","VisibilityMode","ZoomTo","OutputSettings","getJSONObject","Scene","ViewportRenderer","Log","dictionary","initializeDictionary","encodedProjectionType","decodedProjectionType","encodedBindingType","decodedBindingType","decodedZoomTo","Perspective","ve","dvl","DVLCAMERAPROJECTION","PERSPECTIVE","Orthographic","ORTHOGRAPHIC","Minimum","DVLCAMERAFOVBINDING","MIN","Maximum","Max","Horizontal","HORZ","Vertical","VERT","MAX","All","DVLZOOMTO","DVLZOOMTO_ALL","Visible","DVLZOOMTO_VISIBLE","Selected","DVLZOOMTO_SELECTED","Node","DVLZOOMTO_NODE","NodeSetIsolation","DVLZOOMTO_NODE_SETISOLATION","Restore","DVLZOOMTO_RESTORE","RestoreRemoveIsolation","DVLZOOMTO_RESTORE_REMOVEISOLATION","ViewLeft","VIEW_LEFT","ViewRight","VIEW_RIGHT","ViewTop","VIEW_TOP","ViewBottom","VIEW_BOTTOM","ViewBack","VIEW_BACK","ViewFront","VIEW_FRONT","Viewport","extend","metadata","library","properties","backgroundColorTopABGR","type","defaultValue","backgroundColorBottomABGR","events","pan","parameters","dx","dy","zoom","zoomFactor","rotate","frameRenderingFinished","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_eventBus","getEventBus","_graphicsCore","_dvl","_dvlRendererId","_viewStateManager","_canvas","_resizeListenerId","_is2D","_viewportHandler","_loco","addHandler","_smart2DHandler","_lastPlayedStep","_contentConnector","exit","removeHandler","destroy","deregister","setViewStateManager","setScene","setGraphicsCore","graphicsCore","Client","detachFrameFinished","_handleFrameFinished","detachStepEvent","_updateLastPlayedStep","Renderer","SetViewStateManager","_deregisterViewport","_getDvl","_registerViewport","setShowDebugInfo","getShowDebugInfo","attachStepEvent","attachFrameFinished","getGraphicsCore","_setCanvas","canvas","shouldInvalidate","getDomRef","invalidate","_setRenderer","rendererId","DVLSTEPEVENT","DVLSTEPEVENT_STARTED","stepId","_updateOutputSettings","scene","AttachScene","getSceneRef","_dvlSceneRef","attachUrlClicked","_fireUrlClicked","isSmart2DContent","_isSmart2DContent","_isSmart2DContentLegacy","SetBackgroundColor","topColor","_getDecomposedABGR","getBackgroundColorTopABGR","bottomColor","getBackgroundColorBottomABGR","red","green","blue","alpha","fireViewActivated","detachUrlClicked","stepInfo","RetrieveSceneInfo","DVLSCENEINFO","DVLSCENEINFO_STEP_INFO","dvlOutput","RetrieveOutputSettings","StepId","outputSettings","width","height","dpi","setOutputSettings","hotspotNodeRefs","DVLSCENEINFO_HOTSPOTS","ChildNodes","length","cameraId","GetCurrentCamera","rotation","Camera","GetRotation","projection","GetProjection","_initializeSmart2DHandler","getShowAllHotspots","nodeHierarchy","getNodeHierarchy","hotspotsNodeRefs","getHotspotNodeRefs","showHotspots","paramaters","fireUrlClicked","url","nodeRef","nodeId","setHotspotColorABGR","value","setProperty","getProperty","setHotspotColor","_getStepAndProcedureIndexes","procedures","procedureIndex","stepIndex","isFound","i","j","steps","id","_getStepVeIdById","veIds","RetrieveVEIDs","Array","isArray","idIndex","idCount","veId","source","fields","fieldIndex","fieldCount","field","name","_getStepIdByVeId","stepVeId","procedureCount","stepCount","setDefaultQueryCamera","effectiveQuery","camera","setDefaultQueryCameraMatrices","matrices","setDefaultQueryCameraUseTransitionCamera","useTransitionCamera","setDefaultQueryAnimation","animation","setDefaultQueryVisibility","visibility","setDefaultQueryVisibilityMode","mode","Complete","getViewInfo","query","Differences","viewInfo","GetTransitionCamera","DVLID_INVALID","cameraOrigin","GetOrigin","yaw","pitch","roll","position","x","y","z","projectionType","bindingType","GetFOVBinding","_matView","viewMatrix","slice","_matProj","projectionMatrix","fieldOfView","GetFOV","GetOrthoZoomFactor","GetCameraMatrices","view","isStepBeingPlayed","animationTime","StepTime","RetrieveProcedures","stepAndProcedureIndexes","allVisibility","getVisibilityComplete","visible","hidden","getShouldTrackVisibilityChanges","changes","getVisibilityChanges","warning","getText","VIT32","summary","code","setViewInfo","flyToDuration","shouldResetVisibility","error","VIT26","VIT27","ActivateStep","PauseCurrentStep","VIT19","currentCamera","CreateCamera","SetFOV","SetOrthoZoomFactor","SetOrigin","SetRotation","SetFOVBinding","ActivateCamera","DeleteNode","veIdToNodeRefMap","Map","allNodeRefs","findNodesByName","forEach","nodeProxy","createNodeProxy","jQuery","grep","getVeIds","destroyNodeProxy","set","visibleVeIds","hiddenVeIds","setVisibilityState","get","resetView","transition","getVisibilityState","VIT28","setSelectionRect","rect","DrawSelectionRect","p1","_toDvlRendererCoord","x1","y1","p2","x2","y2","getOutputSize","boundingClientRect","getBoundingClientRect","viewportWidth","viewportHeight","relevantDimension","Math","min","max","left","top","sideLength","onBeforeRendering","onAfterRendering","domRef","appendChild","register","_handleResize","bind","size","clientWidth","clientHeight","event","drawingBufferWidth","window","devicePixelRatio","drawingBufferHeight","px","py","pmax","getAggregation","_gestureRatio","getKeepOutputSize","getDpi","getWidth","getHeight","wratio","hratio","ratio","SetDimensions","SetOptionF","DVLRENDEROPTIONF","DVLRENDEROPTIONF_DPI","DVLRENDEROPTIONF_MIN_VISIBLE_OBJECT_SIZE","style","fireResize","_onVisibilityChanged","_onSelectionChanged","_onOpacityChanged","_onTintColorChanged","ForceRenderFrame","nodeRefs","show","color","setTintColor","vk","NodeProxy","setNodeProxyTintColor","highlightColor","undefined","getHotspotColorABGR","children","nodeChildren","RetrieveNodeInfo","DVLNODEINFO","DVLNODEINFO_CHILDREN","push","descendants","getAllDescendants","getChildren","k","l","integerColor","_setBackgroundColor","bottom","setBackgroundColorTopABGR","setBackgroundColorTop","setBackgroundColorBottomABGR","setBackgroundColorBottom","setKeepOutputSize","_updateViewportSize","setAggregation","setShouldRenderFrame","shouldRenderFrame","ShouldRenderFrame","lerp","a","b","f","smootherStep","edge0","edge1","_updateRedlineZoomToAnimation","anim","_anim","startProjRect","endProjRect","Date","now","startTime","duration","projRect","right","_redlineHandler","prevProjRect","currentProjRect","pcx","pcy","ncx","ncy","setProjectionRect","renderFrame","renderFrameEx","RenderFrame","RenderFrameEx","apply","concat","resetOptions","isPlainObject","VIT31","options","dvlOption","DVLRESETVIEWFLAG","CAMERA","SMOOTHTRANSITION","VISIBILITY","ResetView","canIsolateNode","CanIsolateNode","setIsolatedNode","SetIsolatedNode","getIsolatedNode","GetIsolatedNode","r1","getProjectionRect","r2","rx","ry","hitTest","p","result","HitTest","SetOption","DVLRENDEROPTION","DVLRENDEROPTION_SHOW_DEBUG_INFO","fireFrameRenderingFinished","beginGesture","_gesturePoint","BeginGesture","endGesture","EndGesture","_activateRedline","_deactivateRedline","getFreezeCamera","Pan","firePan","Rotate","fireRotate","matProj","isOrthographic","rightMinusLeft","topMinusBottom","rightPlusLeft","topPlusBottom","Zoom","fireZoom","zoomTo","what","crossFadeSeconds","margin","flags","_redlineZoomTo","Infinity","bbox","DVLNODEINFO_BBOX","matWorld","GetNodeWorldMatrix","matrix","vec3","mat4","matViewProj","multiply","create","matWorldViewProj","fromValues","transformMat4","cx","cy","hw","hh","tap","isDoubleClick","node","picked","fireNodesPicked","getSelectionMode","Exclusive","exclusiveSelectionHandler","Sticky","stickySelectionHandler","fireNodeClicked","Tap","rectSelect","nodes","RectSelect","SelectedNodes","queueCommand","command","_queueCommand","_setContent","content","arguments","_setScene","onSetContentConnector","contentConnector","attachContentChangesFinished","_onContentChangesFinished","onUnsetContentConnector","detachContentChangesFinished","getSource","getContentResources","onSetViewStateManager","viewStateManager","attachOpacityChanged","attachSelectionChanged","attachTintColorChanged","attachVisibilityChanged","onUnsetViewStateManager","detachOpacityChanged","detachSelectionChanged","detachTintColorChanged","detachVisibilityChanged","offscreenPosition","rotateDelta","panDelta","key","item","preventDefault","stopPropagation","shiftKey","ctrlKey","altKey","metaKey","d","$"],"sources":["Viewport-dbg.js"],"mappings":"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","ignoreList":[]}