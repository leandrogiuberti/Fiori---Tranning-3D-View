{"version":3,"file":"StorageUtils.js","names":["sap","ui","define","isEmptyObject","ObjectPath","Log","FlexConfiguration","Layer","LayerUtils","StorageUtils","mConnectorNamespaces","load","LrepConnector","NeoLrepConnector","PersonalizationConnector","KeyUserConnector","BtpServiceConnector","StaticFileConnector","JsObjectConnector","ObjectPathConnector","LocalStorageConnector","SessionStorageConnector","write","INITIAL_CONNECTOR_NAME_SPACE","STATIC_FILE_CONNECTOR_CONFIGURATION","connector","_filterValidLayers","aLayers","aConnectorLayers","aValidLayers","filter","sLayer","indexOf","_getConnectorConfigurations","sNameSpace","bLoadConnectors","mConnectors","map","mConnectorConfiguration","sConnector","sConnectorModuleName","loadConnector","applyConnector","writeConnector","getChangeCategoryPath","oChangeDefinition","fileType","selector","persistencyKey","variantReference","appDescriptorChange","requireConnectors","aConnectors","Promise","resolve","require","aArgs","async","_requireConnectorsByConfiguration","aConnectorModules","forEach","oConnector","iIndex","layers","loadConnectorModule","writeConnectorModule","getConnectors","bSkipAddStaticFileConnector","aConfiguredConnectors","getFlexibilityServices","concat","getLoadConnectors","this","getStaticFileConnector","logAndResolveDefault","oResponse","oConnectorConfig","sFunctionName","sErrorMessage","error","filterAndSortResponses","mGroupedFlexObjects","aResponses","Object","keys","push","changes","length","appDescriptorChanges","variants","variantChanges","variantManagementChanges","variantDependentControlChanges","comp","defaultVariants","standardVariants","annotationChanges","sort","a","b","index","sortFlexObjects","aFlexObjects","aFlexObjectsWithCreation","oFlexObject","creation","aFlexObjectWithoutCreation","oChangeA","oChangeB","Date","parse","getGroupedFlexObjects","aSortedFlexObjects","getEmptyFlexDataResponse","getLayerIndex","bind","layer","variantManagementReference","changeType","ui2personalization","getAllFlexObjectNamespaces","isStorageResponseFilled","oUI2Available","some","sKey","get","updateStorageResponse","aUpdates","oUpdate","type","newData","vPath","flexObject","sFileName","fileName","aCache","splice","findIndex"],"sources":["StorageUtils-dbg.js"],"mappings":"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","ignoreList":[]}