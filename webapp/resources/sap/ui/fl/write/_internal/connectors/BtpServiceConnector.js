/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/fl/Layer","sap/ui/fl/write/_internal/connectors/KeyUserConnector","sap/ui/fl/initial/_internal/connectors/BtpServiceConnector","sap/ui/fl/initial/_internal/connectors/Utils","sap/ui/fl/write/_internal/connectors/Utils"],function(e,n,t,s,a,i){"use strict";const r=e({},t,{layers:[n.CUSTOMER,n.PUBLIC,n.USER],ROUTES:{CONDENSE:`${s.ROOT}/actions/condense`,CHANGES:`${s.ROOT}/changes`,SETTINGS:`${s.ROOT}/settings`,TOKEN:`${s.ROOT}/settings`,VERSIONS:{GET:`${s.ROOT}/versions`,ACTIVATE:`${s.ROOT}/versions/activate`,DISCARD:`${s.ROOT}/versions/draft`,PUBLISH:`${s.ROOT}/versions/publish`},TRANSLATION:{UPLOAD:`${s.ROOT}/translation/texts`,DOWNLOAD:`${s.ROOT}/translation/texts`,GET_SOURCELANGUAGE:`${s.ROOT}/translation/sourcelanguages`},CONTEXTS:`${s.ROOT}/contexts`,SEEN_FEATURES:`${s.ROOT}/seenFeatures`,DELETE_USER_VARIANTS:`${s.ROOT}/variantdata/delete`},async getSeenFeatureIds(e){const n=a.getUrl(this.ROUTES.SEEN_FEATURES,e);const t=await a.sendRequest(n,"GET",{initialConnector:s});return t.response?.seenFeatureIds},async setSeenFeatureIds(e){const n={seenFeatureIds:e.seenFeatureIds};const t=a.getUrl(this.ROUTES.SEEN_FEATURES,e);const r=await i.sendRequest(t,"PUT",{tokenUrl:this.ROUTES.TOKEN,initialConnector:s,payload:JSON.stringify(n),dataType:"json",contentType:"application/json; charset=utf-8"});return r.response?.seenFeatureIds},condense(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}if(this.isLanguageInfoRequired){a.addLanguageInfo(n)}const t=a.getUrl(this.ROUTES.CONDENSE,e,n);const r=i.getRequestOptions(s,this.ROUTES.TOKEN,e.flexObjects,"application/json; charset=utf-8","json");return i.sendRequest(t,"POST",r)},deleteUserVariantsForVM(e){const n={flexReference:e.flexReference,variantManagementReferences:e.variantManagementReferences};const t=a.getUrl(this.ROUTES.DELETE_USER_VARIANTS,e);return i.sendRequest(t,"POST",{tokenUrl:this.ROUTES.TOKEN,initialConnector:s,payload:JSON.stringify(n),dataType:"json",contentType:"application/json; charset=utf-8"})}});r.initialConnector=s;return r});
//# sourceMappingURL=BtpServiceConnector.js.map