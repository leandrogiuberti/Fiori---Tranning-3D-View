{"version":3,"file":"Versions.js","names":["sap","ui","define","FlexInfoSession","Version","Storage","FeaturesAPI","JSONModel","BindingMode","_mInstances","MODEL_SIZE_LIMIT","BACKEND_REQUEST_LIMIT","createModel","mPropertyBag","oModel","_prepareVersionsModel","setDefaultBindingMode","OneWay","setSizeLimit","setDirtyChanges","bDirtyChanges","setProperty","updateDraftVersion","updateBindings","aVersions","getProperty","bVersioningEnabled","bBackendDraft","bDraftAvailable","Number","Draft","_doesDraftExistInVersions","splice","version","type","Type","filenames","isPublished","shift","bActivateEnabled","_isPublishVersionEnabled","sDisplayedVersion","Original","some","oVersion","sPersistedBasisForDisplayedVersion","sActiveVersion","versions","oVersionsModel","versionsModel","aDraftFilenames","length","forEach","Active","Inactive","versioningEnabled","oFlexInfoSession","getByReference","reference","publishVersionEnabled","backendDraft","dirtyChanges","draftAvailable","activateEnabled","activeVersion","persistedVersion","displayedVersion","draftFilenames","_updateVersionModelWhenDiscardOrActivate","iNewVersion","Versions","initialize","async","sReference","sLayer","layer","limit","bVersionsEnabled","isVersioningEnabled","aVersionsPromise","load","Promise","resolve","then","getVersionsModel","hasVersionsModel","Error","clearInstances","updateAfterSave","oVersionsProperties","backendResponse","response","map","oChange","fileName","onAllChangesSaved","updateModelFromBackend","undefined","concat","contextBasedAdaptation","oFlexInfo","setByReference","activate","bDraftExists","reject","oVersionEntry","discardDraft","bBackendDraftExists","oDiscardPromise","discardDraftAndKeepActiveVersion","backendChangesDiscarded","publish","sMessage","bIsPublishedOrOlderVersion"],"sources":["Versions-dbg.js"],"mappings":"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","ignoreList":[]}