/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/write/_internal/appVariant/AppVariant","sap/ui/fl/Layer","sap/ui/fl/descriptorRelated/Utils","sap/ui/fl/write/_internal/connectors/LrepConnector","sap/base/util/merge","sap/base/util/isPlainObject"],function(e,r,t,n,a,i){"use strict";function s(e){e.url||="/sap/bc/lrep";return n.appVariant.load(e)}var p={};p.load=function(r){if(r.id===undefined||typeof r.id!=="string"){throw new Error(`Parameter ${r.id} must be provided of type string`)}return s({reference:r.id}).then(function(t){var n=t.response;if(!i(n)){n=JSON.parse(n)}r=a({},r,n);return new e(r)})};p.prepareCreate=function(n){try{t.checkParameterAndType(n,"reference","string");t.checkParameterAndType(n,"id","string");if(n.parsedHash){t.checkParameterAndType(n,"parsedHash","object")}if(n.version){t.checkParameterAndType(n,"version","string")}if(!n.layer){n.layer=r.CUSTOMER}else{t.checkParameterAndType(n,"layer","string")}if(n.skipIam){t.checkParameterAndType(n,"skipIam","boolean")}if(n.transport){t.checkTransportRequest(n.transport)}if(n.package){t.checkPackage(n.package)}}catch(e){return Promise.reject(e)}n.content=[];var a=new e(n);a.setMode("NEW");return Promise.resolve(a)};p.prepareUpdate=function(e){return p.load(e).then(function(e){e.setMode("EXISTING");return e})};p.prepareDelete=function(r){return(r.isForSmartBusiness?Promise.resolve(new e(r)):p.load(r)).then(function(e){e.setMode("DELETION");return e})};return p});
//# sourceMappingURL=AppVariantFactory.js.map