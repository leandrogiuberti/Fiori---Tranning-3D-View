{"version":3,"file":"Condenser.js","names":["sap","ui","define","_isEqual","each","isPlainObject","ObjectPath","Log","JsControlTreeModifier","Element","ChangesUtils","FlexObject","States","UIChange","CondenserClassification","LastOneWins","Reverse","Update","UIReconstruction","CondenserUtils","FlUtils","Measurement","Condenser","UNCLASSIFIED","NON_INDEX_RELEVANT","lastOneWins","reverse","update","PROPERTIES_WITH_SELECTORS","isCreateAfterMoveSubtype","mSubtypes","oCondenserInfo","aMoveSubType","Move","classification","Create","length","targetContainer","isMoveAfterDestroySubtype","Destroy","isCreateAfterDestroySubtype","mClassifications","async","addIndexRelatedChange","mUIReconstructions","oChange","sClassification","change","condenserState","updateChange","forEach","addChange","addNonIndexRelatedChange","mProperties","addToChangesMap","addClassifiedChange","mTypes","aIndexRelatedChanges","type","NOT_INDEX_RELEVANT","push","targetAggregation","addUnclassifiedChange","sKey","getCondenserInfoFromChangeHandler","oAppComponent","oFlexObject","oChangeHandler","bTemplateAffected","mPropertyBag","modifier","appComponent","sControlId","getControlIdBySelector","getSelector","oControl","getElementById","view","getViewForControl","mControl","getControlIfTemplateAffected","getChangeHandler","flexObject","control","controlType","getCondenserInfo","replaceTemplateSelector","oError","undefined","oOriginalSelector","getOriginalSelector","oTemplateSelector","sPropertyName","getTypesMap","mReducedChanges","sIdForCondensing","getIdForCondensing","updateControl","sUpdateControlId","aPath","uniqueKey","oUpdateCondenserInfo","get","set","defineMaps","aChanges","addChangeToMap","changeSelectorsToIdsInCondenserInfo","addType","condenseUpdateChange","INDEX_RELEVANT","isPersisted","updateContent","setState","LifecycleState","UPDATED","getChanges","mObjects","vSubObjects","getChangesFromMap","Array","isArray","oObject","getAllReducedChanges","getCondenserInfos","aCondenserInfos","Object","values","sortByInitialOrder","aReducedChanges","sort","a","b","indexOf","sortCondenserInfosByInitialOrder","addAllIndexRelatedChanges","aReducedChangeIds","map","getId","updateRevertData","sId","oUniqueKeys","oldestChange","getRevertData","setRevertData","handleChangeUpdate","aReducedIndexRelatedChangesPerContainer","oUpdateChange","getContent","getState","NEW","oLastChange","oNewContent","setContent","setUpdateChange","aReducedIndexRelatedChanges","iIndex","condense","start","aAllIndexRelatedChanges","aNotCondensableChanges","aCondensableChanges","slice","DELETED","canBeCondensed","end","bUnclassifiedChanges","compareAndUpdate","concat","bSuccess","sortIndexRelatedChanges","error","message","filter","swapChanges"],"sources":["Condenser-dbg.js"],"mappings":"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","ignoreList":[]}