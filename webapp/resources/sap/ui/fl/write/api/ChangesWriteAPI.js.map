{"version":3,"file":"ChangesWriteAPI.js","names":["sap","ui","define","_omit","Log","JsControlTreeModifier","Component","Element","Lib","DescriptorChangeTypes","Applier","Reverter","ChangesUtils","FlexObjectFactory","States","VariantManagementState","FlexObjectState","ManifestUtils","DescriptorChangeFactory","ChangeHandlerStorage","AppVariantInlineChangeFactory","ControlVariantWriteUtils","FlexObjectManager","ContextBasedAdaptationsAPI","FeaturesAPI","VersionsAPI","Layer","Utils","ChangesWriteAPI","createDescriptorChange","mPropertyBag","sLayer","changeSpecificData","layer","oInlineChange","changeType","content","texts","support","compositeCommand","adaptationId","createDescriptorInlineChange","then","oAppDescriptorChangeContent","createNew","reference","undefined","generator","catch","oError","error","message","async","createAnnotationChange","oChangeHandler","getAnnotationChangeHandler","oFlexObject","completeChangeContent","modifier","appComponent","createAndCompleteFlexObjectWithChangeHandlerInfo","createUIChange","getChangeHandler","getChangeType","controlType","selector","getLayer","oChangeSpecificData","Object","keys","forEach","sKey","warning","view","getViewForControl","setState","LifecycleState","NEW","create","oSelector","createControllerExtensionChange","getAppComponentForSelector","appId","getFlexReferenceForControl","mContextBasedAdaptationBag","control","hasAdaptationsModel","getDisplayedAdaptationId","getChangeTypes","includes","createFlexObject","annotationChange","Promise","resolve","name","viewSelector","getSelector","getId","sControlId","id","assign","getControlType","apply","element","reject","applyChangeOnControl","change","oResult","aDependentChanges","getOpenDependentChangesForControl","getControlIdBySelector","length","revert","oFlResourceBundle","getResourceBundleFor","sDependentChangesFileNames","map","oChange","join","Error","getText","oAppComponent","aResults","mRevertSettings","Array","isArray","revertChangeOnControl","aChanges","slice","reverse","reduce","oPreviousPromise","vResult","unshift","sControlType","appDescriptorChange","deleteVariantsAndRelatedObjects","variantManagementControl","isA","oVariantManagementControl","getAppComponentForControl","sVariantManagementReference","sFlexReference","aVariantsToBeDeleted","variants","filter","sVariantId","oVariant","getVariant","vmReference","vReference","forceDelete","aDraftFilenames","getDraftFilenames","aDirtyFlexObjectIds","getDirtyFlexObjects","sVariantID","deleteVariant","flat","restoreDeletedFlexObjects"],"sources":["ChangesWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}