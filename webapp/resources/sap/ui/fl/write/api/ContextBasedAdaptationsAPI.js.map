{"version":3,"file":"ContextBasedAdaptationsAPI.js","names":["sap","ui","define","Lib","FlexObjectFactory","VariantManagementState","ManifestUtils","FlexInfoSession","applyChangesOnVariant","CompVariantManagementState","CompVariantManager","FlexObjectManager","Storage","Versions","Adaptations","FeaturesAPI","Layer","LayerUtils","FlexUtils","JSONModel","_mInstances","_oResourceBundle","aMigrationLayers","VENDOR","PARTNER","CUSTOMER_BASE","CUSTOMER","ContextBasedAdaptationsAPI","getFlexReferenceForControl","oControl","sReference","Error","handleResponseForVersioning","oResponse","mPropertyBag","bDelete","updateModelFromBackend","reference","appId","layer","then","onAllChangesSaved","contextBasedAdaptation","Promise","resolve","initialize","getResourceBundleFor","reject","control","sLayer","bContextBasedAdaptationsEnabled","isContextBasedAdaptationAvailable","bContextBasedAdaptationsEnabledResponse","load","adaptations","oAdaptations","oFlexInfoSession","getByReference","oDisplayedAdaptation","adaptationId","find","oAdaptation","id","createModel","oModel","aAdaptations","Array","isArray","length","allAdaptations","count","displayedAdaptation","contextBasedAdaptationsEnabled","updateAdaptations","aContextBasedAdaptations","filter","iIndex","rank","type","Type","Default","setProperty","getProperty","oCorrespondingAdaptation","updateBindings","insertAdaptation","oNewAdaptation","splice","priority","deleteAdaptation","iModelCount","sToBeDisplayedAdaptationId","oDefaultAdaptation","pop","push","switchDisplayedAdaptation","sAdaptationId","getIndexByAdaptationId","oNewDisplayedAdaptation","updateAdaptationContent","oContextBasedAdaptation","oAdaptationForUpdate","title","contexts","aDisplayedAdaptation","iAdaptationIndex","findIndex","undefined","getAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","this","adaptationExists","clearInstances","refreshAdaptationModel","getNewVariantId","mFileNames","sOldVariantId","get","createContextBasedAdaptation","create","flexObject","parentVersion","getParentVersion","bind","writeChangesToBackend","aFlexObjects","write","flexObjects","transport","isLegacyVariant","getFinalState","aFlVariantsFinalState","oVariant","isA","aVariantChanges","oFlexObject","getChangeType","getSelector","variantId","getId","oClone","clone","destroy","mProperties","oFlVariant","key","groupVariantsByContextEntry","aVariants","oFinalStates","mUniqueContexts","aUnrestrictedViews","forEach","oFinalState","visible","bUnrestricted","aContextKeys","Object","keys","sKey","aContexts","from","sContext","variants","contextBasedAdaptationId","createDefaultFileName","uniqueContexts","unrestrictedViews","createChangeSetVisibleFalseToRestrictedVariant","VariantManager","sPersistencyKey","getPersistencyKey","updateVariant","persistencyKey","forceCreate","getVariantChanges","reverse","convertToFileContent","oAppComponent","getAppComponentForControl","oChange","createVariantChange","getVariantManagementReference","changeType","variantReference","appComponent","getObjectsByLayerAndType","sChangesLayer","bVariants","getLayer","getVariantReference","sFileType","getFileType","getVariantId","isSetContextChange","filterChangesForAdaptation","aIgnoredVariantIds","aChanges","sVariantId","indexOf","copyVariantsAndChanges","sContextBasedAdaptationId","Map","aCopiedVariants","copyVariants","aCopiedChanges","copyChanges","concat","map","aCopiedFlexObjects","oCopiedVariant","createFromFileContent","cloneFileContentWithNewId","setAdaptationId","setContexts","set","oCopiedChange","oCopiedChangeContent","getContent","oCopiedChangeSelector","setSelector","defaultVariantName","setContent","setVariantReference","setVariantId","defaultVariant","getVersionsModel","prepareMigrationData","oMigrationData","contextBasedAdaptations","oGrouped","entries","aEntry","oUniqueContext","getText","role","aCustomerLayerVariants","oContextRelevantVariant","aUniqueContextVariantIds","aVariantIdsNotInUniqueContext","aChangesToCopy","bRestricted","lazyRequireVariantManager","require","migrate","async","sParentVersion","aFlexObjectsData","getAllVariants","getFlexObjects","selector","includeManifestChanges","includeAnnotationChanges","includeCtrlVariants","includeDirtyChanges","all","flat","oPromise","canMigrate","oContextBasedAdaptationModel","invalidateCache","aFilteredFlexObjects","some","call","currentLayer","aCustomerFlexObjects","filterChangeOrChangeDefinitionsByCurrentLayer","update","reorder","parameters","priorities","version","remove"],"sources":["ContextBasedAdaptationsAPI-dbg.js"],"mappings":"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","ignoreList":[]}