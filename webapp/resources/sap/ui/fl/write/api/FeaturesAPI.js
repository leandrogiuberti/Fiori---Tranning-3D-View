/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/initial/_internal/Settings","sap/ui/fl/initial/api/InitialFlexAPI","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/fl/write/_internal/init"],function(e,t,n,a,s){"use strict";var r={isPublishAvailable(){return e.getInstance().then(function(e){return e.getIsPublishAvailable()||!!(!e.getIsProductiveSystem()&&e.getSystem()&&e.getClient())})},isSaveAsAvailable(t){return Promise.all([e.getInstance(),s.getUShellService("Navigation")]).then(function(e){var n=e[0];var s=e[1];return!n.getIsContextBasedAdaptationEnabled()&&n.getIsAppVariantSaveAsEnabled()&&t===a.CUSTOMER&&s!==undefined}).catch(function(){return false})},isContextBasedAdaptationAvailable(t){return e.getInstance().then(function(e){if(e.getIsContextBasedAdaptationEnabled()&&t===a.CUSTOMER){return true}return false})},isKeyUser(){return t.isKeyUser()},async isVersioningEnabled(t){const n=await e.getInstance();const a=n.getVersioning();return!!(a[t]||a.ALL)},isKeyUserTranslationEnabled(t){if(t===a.CUSTOMER){return e.getInstance().then(function(e){return e.getIsKeyUserTranslationEnabled()})}return Promise.resolve(false)},isContextSharingEnabled(t){if(t!==a.CUSTOMER){return Promise.resolve(false)}return e.getInstance().then(function(e){return e.getIsContextSharingEnabled({layer:t})})},async isSeenFeaturesAvailable(){const t=await e.getInstance();return t.getIsSeenFeaturesAvailable()},async getSeenFeatureIds(e){if(!await this.isSeenFeaturesAvailable()){return[]}return n.getSeenFeatureIds(e)},async setSeenFeatureIds(e){if(!await this.isSeenFeaturesAvailable()){return Promise.reject("The backend does not support saving seen features.")}return n.setSeenFeatureIds(e)},isVariantAdaptationEnabled(){const t=e.getInstanceOrUndef();return t?.getIsVariantAdaptationEnabled()},isLocalResetEnabled(){const t=e.getInstanceOrUndef();return t?.getIsLocalResetEnabled()},areAnnotationChangesEnabled(){const t=e.getInstanceOrUndef();return t?.getIsAnnotationChangeEnabled()}};return r});
//# sourceMappingURL=FeaturesAPI.js.map