/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/apply/_internal/flexState/compVariants/Utils","sap/ui/fl/initial/_internal/ManifestUtils","sap/ui/fl/initial/_internal/Settings","sap/ui/fl/write/api/ContextBasedAdaptationsAPI","sap/ui/fl/write/_internal/flexState/compVariants/CompVariantManager","sap/ui/fl/write/_internal/transport/TransportSelection","sap/ui/fl/Utils","sap/ui/fl/write/_internal/init"],function(t,e,a,n,r,i,o){"use strict";function c(a,n){a.componentId=o.getAppComponentForControl(a.control).getId();a.persistencyKey=t.getPersistencyKey(a.control);a.reference||=e.getFlexReferenceForControl(a.control);return n(a)}function l(t){var a=t.layer||t.changeSpecificData&&t.changeSpecificData.layer;if(a){t.changeSpecificData||={};t.reference||=e.getFlexReferenceForControl(t.control);var r={layer:a,control:t.control,reference:t.reference};if(n.hasAdaptationsModel(r)){t.changeSpecificData.adaptationId=n.getDisplayedAdaptationId(r)}}}var s={addVariant(t){l(t);return c(t,r.addVariant)},updateVariant(t){l(t);return c(t,r.updateVariant)},updateVariantContent(t){l(t);t.action=r.updateActionType.UPDATE;return c(t,r.updateVariant)},saveVariantContent(t){t.action=r.updateActionType.SAVE;return c(t,r.updateVariant)},discardVariantContent(t){t.action=r.updateActionType.DISCARD;return c(t,r.discardVariantContent)},updateVariantMetadata(t){l(t);t.action=r.updateActionType.UPDATE_METADATA;return c(t,r.updateVariant)},removeVariant(t){l(t);return c(t,r.removeVariant)},revert(t){return c(t,r.revert)},save(t){return c(t,r.persist)},setDefaultVariantId(t){l(t);return c(t,r.setDefault)},isVariantSharingEnabled(){return a.getInstance().then(function(t){return t.getIsVariantSharingEnabled()})},isVariantPersonalizationEnabled(){return a.getInstance().then(function(t){return t.getIsVariantPersonalizationEnabled()})},isVariantAdaptationEnabled(){return a.getInstance().then(function(t){return t.getIsVariantAdaptationEnabled()})},overrideStandardVariant(t){c(t,r.overrideStandardVariant)},revertSetDefaultVariantId(t){return c(t,r.revertSetDefaultVariantId)},_getTransportSelection(){function t(){var t=new URLSearchParams(window.location.search).get("sap-ui-layer")||"";return!!t}var e=new i;e.selectTransport=function(a,n,r,o,c,l){if(!t()){n(e._createEventObject(a,{transportId:""}));return}i.prototype.selectTransport.call(this,a,n,r,o,c,l)};return e}};return s});
//# sourceMappingURL=SmartVariantManagementWriteAPI.js.map