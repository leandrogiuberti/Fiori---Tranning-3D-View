{"version":3,"file":"ControlVariantApplyAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Component","Element","URLHandler","VariantUtil","VariantManagementState","FlexObjectState","ManifestUtils","Utils","VARIANT_MODEL_NAME","waitForVariantModel","oAppComponent","oVariantModel","getModel","Promise","resolve","onModelContextChange","detachModelContextChange","attachModelContextChange","handleInitialLoadScenario","sVMReference","oVariantManagementControl","sFlexReference","aVariantChangesForVariant","getVariantChangesForVariant","vmReference","reference","sDefaultVariantReference","getDefaultVariantReference","getExecuteOnSelectionForStandardDefault","some","oVariantChange","getChangeType","oStandardVariant","getVariant","vReference","instance","setExecuteOnSelection","updateVariant","variant","waitForInitialVariantChanges","mPropertyBag","aCurrentVariantChanges","getInitialUIChanges","aSelectors","reduce","aCurrentControls","oChange","oSelector","getSelector","oControl","bySelector","appComponent","indexOfObject","selector","push","length","waitForFlexObjectsToBeApplied","waitForControlToBeRendered","getDomRef","addEventDelegate","onAfterRendering","ControlVariantApplyAPI","getVariantModelName","getVariantModel","getVariantManagementControlByVMReference","sVariantManagementReference","sVMControlId","byId","createId","getElementById","clearVariantParameterInURL","aUpdatedVariantParameters","getAppComponentForControl","control","error","isA","getLocalId","getId","mCleansedParametersWithIndex","removeURLParameterForVariantManagement","model","parameters","update","updateURL","updateHashEntry","silent","activateVariant","logAndThrowError","oError","oElement","element","getComponentById","Error","getFlexReferenceForControl","standardVariant","sVariantReference","oVMControl","getVariantManagementReference","getVariantManagementReferenceForVariant","variantReference","loadVariant","this","waitForInit","updateCurrentVariant","variantManagementReference","newVariantReference","attachVariantApplied","vmControlId","id","bInitialLoad","callAfterInitialVariant","then","sCurrentVariantReference","getCurrentVariantReference","oVariant","callback","getRelevantVariantManagementControlId","setShowExecuteOnSelection","_addVariantAppliedListener","detachVariantApplied","all","_removeVariantAppliedListener"],"sources":["ControlVariantApplyAPI-dbg.js"],"mappings":"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","ignoreList":[]}