/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/CustomData"],function(t){"use strict";const a={};a.appliedChangesCustomDataKey="sap.ui.fl.appliedChanges";a.failedChangesCustomDataKeyJs="sap.ui.fl.failedChanges.js";a.failedChangesCustomDataKeyXml="sap.ui.fl.failedChanges.xml";a.notApplicableChangesCustomDataKey="sap.ui.fl.notApplicableChanges";function e(t,a,e,s){const o=s.modifier.getCustomDataInfo(t,a);if(!o.customData){return s.modifier.createAndAddCustomData(t,a,e,s.appComponent)}return Promise.resolve(s.modifier.setProperty(o.customData,"value",e))}function s(t,a){const e=a.getRevertData();if(t&&e!==undefined){return JSON.stringify(e)}return"true"}a.getAppliedCustomDataValue=function(t,e,s){const o=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));return o.customDataValue};a.getParsedRevertDataFromCustomData=function(e,s,o){const u=a.getAppliedCustomDataValue(e,s,o);try{return u&&JSON.parse(u)}catch(a){t.error("Could not parse revert data from custom data",u);return undefined}};a.hasChangeApplyFinishedCustomData=function(t,e,s){const o=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));if(o.customData){return true}const u=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.failedChangesCustomDataKeyJs));if(u.customData){return true}const n=s.getCustomDataInfo(t,a._getCustomDataKey(e,a.notApplicableChangesCustomDataKey));if(n.customData){return true}return false};a.addAppliedCustomData=function(t,o,u,n){const r=s(n,o);const i=a._getCustomDataKey(o,a.appliedChangesCustomDataKey);return e(t,i,r,u)};a.addFailedCustomData=function(t,s,o,u){const n=a._getCustomDataKey(s,u);return e(t,n,"true",o)};a.destroyAppliedCustomData=function(t,e,s){const o=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);const u=s.getCustomDataInfo(t,o);if(u.customData){s.destroy(u.customData)}};a.getCustomDataIdentifier=function(t,e,s){if(t){return a.appliedChangesCustomDataKey}if(!e){return a.notApplicableChangesCustomDataKey}if(s){return a.failedChangesCustomDataKeyXml}return a.failedChangesCustomDataKeyJs};a._getCustomDataKey=function(t,a){return`${a}.${t.getId()}`};return a});
//# sourceMappingURL=FlexCustomData.js.map