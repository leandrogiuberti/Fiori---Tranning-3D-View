/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/api/FlexRuntimeInfoAPI","sap/ui/fl/initial/_internal/ManifestUtils","sap/ui/fl/Utils"],function(t,e,a,n,i){"use strict";let o={};function s(t,e,a,n){const i={info:{customProperties:{[n]:{label:e,value:a,showInAbout:true}}}};t.setAppInfo(i)}function c(t){if(t.homePage||t.applicationType!=="UI5"){return false}return true}async function r(i,o){if(c(o)){const c=o.componentInstance;const r=n.getFlexReference({componentData:c.getComponentData(),manifest:c.getManifest()});const p={reference:r,componentId:c.getId(),manifest:c.getManifestObject(),componentData:c.getComponentData(),asyncHints:c._componentConfig.asyncHints};await e.initialize(p);const u=a.getContextBasedAdaptationId(p);if(u==="DEFAULT"||!u){return}const l=a.getContextBasedAdaptationTitle(p);const f=t.getResourceBundleFor("sap.ui.fl").getText("CBA_ABOUT_INFO_DIALOG_LABEL");const d=`${l} (${u})`;s(i,f,d,"ui5.flex.adaptation")}}async function p(){const t=await i.getUShellService("AppLifeCycle");const e=t.getCurrentApplication();if(e){await r(t,e)}t.attachAppLoaded(t,o.onAppLoadedListener)}function u(){return new Promise(t=>{sap.ui.require(["sap/ushell/api/BootstrapObserver"],async function(e){await e.ready();t()})})}function l(){return new Promise(e=>{t.attachLibraryChanged(t=>{if(t.getParameter("operation")==="add"&&t.getParameter("metadata").sName==="sap.ushell"){e()}})})}async function f(){if(!t.isLoaded("sap.ushell")){await l()}await u()}o={async initialize(){await f();await p()},async onAppLoadedListener(t,e){const a=t.getParameters();await r(e,a)}};return o});
//# sourceMappingURL=FLPAboutInfo.js.map