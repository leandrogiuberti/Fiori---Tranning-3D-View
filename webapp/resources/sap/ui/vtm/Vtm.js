/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/Element","./Panel","./Scene","./ArrayUtilities","./Viewable","sap/m/Toolbar"],function(jQuery,e,n,t,i,s,a){"use strict";var o=e.extend("sap.ui.vtm.Vtm",{metadata:{properties:{addDefaultExtensions:{type:"boolean"}},events:{panelAdded:{parameters:{panel:{type:"sap.ui.vtm.Panel"}}},activePanelChanged:{},initialized:{}},aggregations:{extensions:{type:"sap.ui.vtm.Extension",multiple:true}},defaultAggregation:"extensions"},constructor:function(n,t){e.apply(this,arguments);this._panels=[];this._scene=new sap.ui.vtm.Scene(this.getId()+"_scene");this.addDependent(this._scene);this._dragStartParameters={};var i=this.getExtensions().map(function(e){return e.getInitializedPromise()});Promise.all(i).then(function(){sap.ui.vtm.measure(this,"fireInitialized",function(){this.fireInitialized()}.bind(this))}.bind(this))},setAddDefaultExtensions:function(e){if(e){[new sap.ui.vtm.extensions.LoadProgressExtension,new sap.ui.vtm.extensions.MessageStatusCalculationExtension,new sap.ui.vtm.extensions.MessageStatusIconClickExtension,new sap.ui.vtm.extensions.ViewportSelectionLinkingExtension,new sap.ui.vtm.extensions.VisibilityIconClickExtension,new sap.ui.vtm.extensions.DisplayStateCalculationExtension,new sap.ui.vtm.extensions.SelectionLinkingExtension({enabled:false}),new sap.ui.vtm.extensions.ViewLinkingExtension({enabled:false}),new sap.ui.vtm.extensions.InitialViewExtension,new sap.ui.vtm.extensions.SceneNodeHoverHighlightExtension,new sap.ui.vtm.extensions.SceneNodeHoverTooltipExtension].forEach(function(e){this.addExtension(e)}.bind(this))}},getPanels:function(){return this._panels},getPanel:function(e){return sap.ui.vtm.ArrayUtilities.find(this._panels,function(n){return n.getId()===e})},getScene:function(){return this._scene},createPanel:function(e,n){n=jQuery.extend(n,{vtmId:this});return new sap.ui.vtm.Panel(e,n)},_setActivePanel:function(e,n){if(this._activePanel===e){return}this._activePanel=e;var t=this.getPanels();t.forEach(function(t){var i=t===e;t._setIsActive(i);if(n){e.focus()}});sap.ui.vtm.measure(this,"fireActivePanelChanged",function(){this.fireActivePanelChanged()}.bind(this))},getActivePanel:function(){return this._activePanel||null},setActivePanel:function(e){this._setActivePanel(e,true);return this},_addPanel:function(e){var n=this.getPanels();n.push(e);sap.ui.vtm.measure(this,"firePanelAdded",function(){this.firePanelAdded({panel:e})}.bind(this));return this},getExtensionsByName:function(e){return this.getExtensions().filter(function(n){return n.getMetadata().getName()===e})},getExtensionByName:function(e){var n=this.getExtensionsByName(e);return n.length===1?n[0]:undefined},getExtensionsByInterface:function(e){return this.getExtensions().filter(function(n){return n.getMetadata().isInstanceOf(e)})},getExtensionByInterface:function(e){var n=this.getExtensionsByInterface(e);return n.length===1?n[0]:undefined}});return o});
//# sourceMappingURL=Vtm.js.map