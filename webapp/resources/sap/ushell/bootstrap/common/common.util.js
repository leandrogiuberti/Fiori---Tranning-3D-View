// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/ObjectPath"],(e,t)=>{"use strict";const o=Object.getOwnPropertyNames(Object.prototype);function i(e){Object.keys(e).filter(t=>typeof e[t]==="object").forEach(t=>{e[t]=i(e[t])});return Object.freeze(e)}function s(){return`${location.protocol}//${location.host}`}function r(e){if(typeof e==="string"&&e.charAt(e.length-1)!=="/"){return`${e}/`}return e}function n(e,t,i){if(!t){return}const s=i?JSON.parse(JSON.stringify(t)):t;Object.keys(s).forEach(t=>{if(o.includes(t)){return}if(typeof e[t]==="object"&&typeof s[t]==="object"){n(e[t],s[t],false);return}e[t]=s[t]})}function a(t){const o=t||window.location.search;let i=/sap-statistics=(true|x|X)/.test(o);if(!i){try{i=window.localStorage.getItem("sap-ui-statistics")==="X"}catch(t){e.warning("failed to read sap-statistics setting from local storage",t,"sap.ushell.bootstrap.common.common.util")}}return!!i}function c(o){window["sap-ushell-config-migration"]=true;[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(i=>{const s=i.from.split(".")[1];const r=t.get(i.from,o);const n=t.get(i.to,o);if(r&&!n){e.warning(`The service config for ${i.from} is migrated to ${i.to}`,"common.util");const n={...r};if(n.module===`sap.ushell.services.${s}`){delete n.module}t.set(i.to,n,o)}})}function f(o){window["sap-ushell-config-migration"]=true;const i={};[{from:"services.Bookmark",to:"services.BookmarkV2"},{from:"services.CrossApplicationNavigation",to:"services.Navigation"},{from:"services.Notifications",to:"services.NotificationsV2"},{from:"services.Personalization",to:"services.PersonalizationV2"},{from:"services.LaunchPage",to:"services.FlpLaunchPage"},{from:"services.ShellNavigation",to:"services.ShellNavigationInternal"},{from:"services.NavTargetResolution",to:"services.NavTargetResolutionInternal"}].forEach(s=>{const r=s.from.split(".")[1];const n=t.get(s.from,o);const a=t.get(s.to,o);if(n&&!a){e.warning(`The service config for ${s.from} is migrated to ${s.to}`,"common.util");const o={...n};if(o.module===`sap.ushell.services.${r}`){delete o.module}t.set(s.to,o,i)}});return JSON.parse(JSON.stringify(i))}return{deepFreeze:i,getLocationOrigin:s,ensureTrailingSlash:r,mergeConfig:n,isSapStatisticsSet:a,migrateV2ServiceConfig:c,getV2ServiceMigrationConfig:f}});
//# sourceMappingURL=common.util.js.map