// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/bootstrap/SchedulingAgent/logger","sap/base/util/now","sap/base/util/deepClone","sap/base/Log"],(t,e,o,n)=>{"use strict";const i={module:{schedulingAgent:{id:"schedulingAgent",FatalError:"FATAL_ERROR",Idle:"IDLE",Initialized:"INITIALIZED",Initializing:"INITIALIZING",Waiting:"WAITING",WokeUp:"WOKE_UP",Working:"WORKING"},state:{id:"state",FatalError:"FATAL_ERROR",Available:"AVAILABLE"},flpScheduler:{id:"flpScheduler",Initialized:"INITIALIZED",WrongConfiguration:"WRONG_CONFIGURATION",LoadingAborted:"LOADING_ABORTED"},flpLoader:{id:"flpLoader"},logger:{id:t,Block:"BLOCK",Step:"STEP",Module:"MODULE"}},loadingStep:{Prepared:"STEP_PREPARED",WaitingForDependencies:"STEP_WAITING_FOR_DEPENDENCIES",InProgress:"STEP_IN_PROGRESS",Done:"STEP_DONE",Aborted:"STEP_ABORTED",Skipped:"STEP_SKIPPED"},loadingBlock:{Prepared:"BLOCK_PREPARED",WaitingForDependencies:"BLOCK_WAITING_FOR_DEPENDENCIES",InProgress:"BLOCK_IN_PROGRESS",TimedOut:"BLOCK_TIMEDOUT",Done:"BLOCK_DONE",Aborted:"BLOCK_ABORTED"}};const d={id:i,oState:{ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}},clear:function(){this.oState={ofLoadingBlock:{},ofLoadingStep:{},ofModule:{}}},getIdBase:function(){return i},setForLoadingBlock:function(o,n,d,a,s){this.oState.ofLoadingBlock[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingBlock[o].time,type:i.module.logger.Block,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingBlock:function(t){return this.oState.ofLoadingBlock[t]},setForLoadingStep:function(o,n,d,a,s){this.oState.ofLoadingStep[o]={time:e(),status:n,parameter:d,remark:a,byModule:s};t.logStatus({time:this.oState.ofLoadingStep[o].time,type:i.module.logger.Step,id:o,status:n,parameter:d,remark:a,byModule:s})},getForLoadingStep:function(t){return this.oState.ofLoadingStep[t]},setForModule:function(o,n,d){this.oState.ofModule[o]={time:e(),status:n,remark:d,byModule:undefined};t.logStatus({time:this.oState.ofModule[o].time,type:i.module.logger.Module,id:o,status:n,parameter:undefined,remark:d,byModule:undefined})},getForModule:function(t){return this.oState.ofModule[t]},isBlockWaitingForDependencies:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.WaitingForDependencies)},isBlockLoading:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.InProgress)},isBlockLoaded:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Done)},isBlockLoadingAborted:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.Aborted)},hasBlockLoadingTimedOut:function(t){const e=this.getForLoadingBlock(t);return!!(e&&e.status===i.loadingBlock.TimedOut)},isStepWaitingForDependencies:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.WaitingForDependencies)},isStepLoading:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.InProgress)},isStepLoaded:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Done)},isStepLoadingAborted:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Sborted)},isStepSkipped:function(t){const e=this.getForLoadingStep(t);return!!(e&&e.status===i.loadingStep.Skipped)},isAgentIdle:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Idle)},isAgentWaiting:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.Waiting)},agentWokeUp:function(){const t=this.getForModule(i.module.schedulingAgent.id);return!!(t&&t.status===i.module.schedulingAgent.WokeUp)},dump:function(){n.debug(JSON.parse(JSON.stringify(this.oState)));const t=o(this.oState);return t},iStartingTime:e()};d.setForModule(i.module.state.id,i.module.state.Available);return d});
//# sourceMappingURL=state.js.map