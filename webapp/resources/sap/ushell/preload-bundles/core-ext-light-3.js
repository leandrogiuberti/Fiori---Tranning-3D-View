//@ui5-bundle sap/ushell/preload-bundles/core-ext-light-3.js
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/LocaleData","sap/ui/core/Lib","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/base/i18n/date/CalendarWeekNumbering"],function(e,t,a,i,r,s,o,n,h,g,l,d,u,c,_,p,f,D,y,m,M,P,T,v,C,S,A,k){"use strict";var Y=i.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null},initialFocusedDate:{type:"object",group:"Data",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:v});var b={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};Y.prototype.init=function(){this._iBreakPointTablet=y.media._predefinedRangeSets[y.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=y.media._predefinedRangeSets[y.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=y.media._predefinedRangeSets[y.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._iColumns=1;this._oResourceBundle=o.getResourceBundleFor("sap.ui.unified");this.setProperty("_currentPicker",b.MONTH_PICKER);this._oYearFormat=m.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=n._minDate(this._getPrimaryCalendarType());this._oMaxDate=n._maxDate(this._getPrimaryCalendarType());this._initializeHeader();this._initializeSecondMonthHeader();var e=this._createMonth(this.getId()+"--Month0");e.attachEvent("focus",this._handleFocus,this);e.attachEvent("select",L,this);e.attachEvent("_renderMonth",N,this);e.attachEvent("_bindMousemove",F,this);e.attachEvent("_unbindMousemove",I,this);e._bNoThemeChange=true;this.addAggregation("month",e);this._initializeMonthPicker();this._initializeYearPicker();this._initializeYearRangePicker();this._resizeProxy=B.bind(this);this._oSelectedMonth;this._bSkipCancelButtonRendering=false;this._bActionTriggeredFromSecondHeader=false};Y.prototype.exit=function(){if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}if(this._afterHeaderRenderAdjustCSS){this.removeDelegate(this._afterHeaderRenderAdjustCSS);this._afterHeaderRenderAdjustCSS=null}if(this._afterSecondHeaderRenderAdjustCSS){this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS);this._afterSecondHeaderRenderAdjustCSS=null}if(this._sResizeListener){M.deregister(this._sResizeListener);this._sResizeListener=undefined}this._oSelectedMonth=null};Y.prototype._initializeHeader=function(){var e=new g(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressCurrentDate",this._handleCurrentDate,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);e.attachEvent("pressButton3",this._handleButton1,this);e.attachEvent("pressButton4",this._handleButton2,this);e.setProperty("_keyShortcutButton1",this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON_SHORTCUT"));e.setProperty("_keyShortcutButton2",this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON_SHORTCUT"));this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};Y.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){if(e.getVisible()&&!e.getVisibleButton1()){e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton")}if(e.getVisible()&&!e._getVisibleButton3()){this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}}.bind(this)}};Y.prototype._initializeSecondMonthHeader=function(){var e=new g(this.getId()+"--SecondMonthHead",{visible:false});e.addStyleClass("sapUiCalHeadSecondMonth");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterSecondHeaderRenderAdjustCSS);this.setAggregation("secondMonthHeader",e)};Y.prototype._initializeMonthPicker=function(){var e=new d(this.getId()+"--MP");e._bCalendar=true;e.attachEvent("select",this._selectMonth,this);e.attachEvent("pageChange",O,this);e._bNoThemeChange=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};Y.prototype._initializeYearPicker=function(){var e=new u(this.getId()+"--YP");e._bCalendar=true;e.attachEvent("select",this._selectYear,this);e.attachEvent("pageChange",J,this);this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};Y.prototype._initializeYearRangePicker=function(){var e=new c(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this._getPrimaryCalendarType());this.setAggregation("yearRangePicker",e);e._setSelectedDatesControlOrigin(this)};Y.prototype._createMonth=function(e){var t=new l(e,{width:"100%"});this._setMonthCalendarWeekNumbering(t);t._bCalendar=true;t.attachEvent("datehovered",this._handleDateHovered,this);t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this);return t};Y.prototype._handleWeekNumberSelect=function(e){const t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t}),i=t?.getStartDate()&&t?.getStartDate().getMonth(),r=e.getSource().getDate()&&e.getSource().getDate().getMonth(),s=this.getAggregation("month"),o=_.fromLocalJSDate(s[0].getDate()),h=_.fromLocalJSDate(s[s.length-1].getDate());o.setDate(1);h.setDate(1);h.setMonth(h.getMonth()+1);h.setDate(0);const g=s.length>=2?!n._isBetween(_.fromLocalJSDate(e.getSource().getDate()),o,h,true):i!==r;t&&this._focusDate(_.fromLocalJSDate(t.getStartDate(),this._getPrimaryCalendarType()),g,false,false);if(!a){e.preventDefault()}return this};Y.prototype._handleDateHovered=function(e){var t=this.getAggregation("month"),a=e.getParameter("date1"),i=e.getParameter("date2"),r;for(r=0;r<t.length;r++){t[r]._markDatesBetweenStartAndHoveredDate(a,i)}};Y.prototype.onBeforeRendering=function(){var e=this.getAggregation("month"),t,a=e[0].getDate(),i=this._getFocusedDate();if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){A.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}if(e.length>1&&a){t=_.fromLocalJSDate(a,this._getPrimaryCalendarType())}else if(e.length>1){t=H.call(this,this._getFocusedDate())}else{t=i}for(var r=0;r<e.length;r++){a=new _(t);if(r>0){a.setMonth(a.getMonth()+r,1)}var s=a;if(i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()){s=i}e[r].displayDate(s.toLocalJSDate());e[r].setShowWeekNumbers(this.getShowWeekNumbers())}if(this._getMonthPicker()){this._setDisabledMonths(i.getYear(),this._getMonthPicker())}this._updateHeader(t);this._updateHeadersButtons();this._adjustYearRangeDisplay();this._updateLegendParent();if(this.getInitialFocusedDate()){this._oFocusedDate=_.fromLocalJSDate(this.getInitialFocusedDate(),this._getPrimaryCalendarType())}};Y.prototype.onAfterRendering=function(e){if(!this._getSucessorsPickerPopup()){w.call(this)}if(E.call(this)>1||this._bInitMonth){e.size={width:this.getDomRef().offsetWidth};B.call(this,e,true);if(!this._sResizeListener){this._sResizeListener=M.register(this,this._resizeProxy)}this._bInitMonth=undefined}};Y.prototype.removeSelectedDate=function(e){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",e)};Y.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};Y.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};Y.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};Y.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};Y.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e};Y.prototype._getCalendarWeekNumbering=function(){if(this.isPropertyInitial("calendarWeekNumbering")){return}return this.getCalendarWeekNumbering()};Y.prototype.getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin.getSpecialDates()}if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};Y.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};Y.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};Y.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate();this._toggleTwoMonthsInColumnsCSS()}return this};Y.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=new P(e.getLanguageTag()).toString()}return this._sLocale};Y.prototype._getFocusedDate=function(){if(!this._oFocusedDate){R.call(this)}return this._oFocusedDate};Y.prototype._setFocusedDate=function(e){n._checkCalendarDate(e);this._oFocusedDate=new _(e,this._getPrimaryCalendarType())};Y.prototype.focusDate=function(e){x.call(this,e,false);this._addMonthFocusDelegate();return this};Y.prototype.displayDate=function(e){x.call(this,e,true);return this};Y.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=_.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{e=new _(this._getFocusedDate())}e.setDate(1);return e.toLocalJSDate()};Y.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++){this._setMonthCalendarWeekNumbering(t[a])}return this};Y.prototype._setMonthCalendarWeekNumbering=function(e){if(this.isPropertyInitial("calendarWeekNumbering")){return this}return e.setCalendarWeekNumbering(this.getCalendarWeekNumbering())};Y.prototype.setMonths=function(e){this._bDateRangeChanged=undefined;this.setProperty("months",e);e=E.call(this);var t=this.getAggregation("month");var a=0;var i;if(t.length<e){for(a=t.length;a<e;a++){i=this._createMonth(this.getId()+"--Month"+a);i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",L,this);i.attachEvent("_renderMonth",N,this);i.attachEvent("_bindMousemove",F,this);i.attachEvent("_unbindMousemove",I,this);i._bNoThemeChange=true;i.setSecondaryCalendarType(this._getSecondaryCalendarType());this._setMonthCalendarWeekNumbering(i);this.addAggregation("month",i)}this._toggleTwoMonthsInColumnsCSS()}else if(t.length>e){for(a=t.length;a>e;a--){i=this.removeAggregation("month",a-1);i.destroy()}if(e==1){this._bInitMonth=true}this._toggleTwoMonthsInColumnsCSS()}if(e>1&&t[0].getDate()){t[0].setProperty("date",null,true)}t=this.getAggregation("month");t.forEach(t=>t.setProperty("_renderMonthWeeksOnly",e>1));return this};Y.prototype.setPrimaryCalendarType=function(e){var t=this.getAggregation("month"),a,i,r,s,o;this.setProperty("primaryCalendarType",e);this._oYearFormat=m.getDateInstance({format:"y",calendarType:e});if(this._oFocusedDate){this._oFocusedDate=new _(this._oFocusedDate,e)}this._oMinDate=new _(this._oMinDate,e);this._oMaxDate=new _(this._oMaxDate,e);for(o=0;o<t.length;o++){a=t[o];a.setPrimaryCalendarType(e)}if(!this._getSucessorsPickerPopup()){i=this._getMonthPicker();i.setPrimaryCalendarType(e);r=this._getYearPicker();r.setPrimaryCalendarType(e);s=this.getAggregation("yearRangePicker");s.setPrimaryCalendarType(e)}return this};Y.prototype.setSecondaryCalendarType=function(e){var t=e?2:3,a=this._getMonthPicker();this.setProperty("secondaryCalendarType",e);this._oYearFormatSecondary=m.getDateInstance({format:"y",calendarType:e});var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s.setSecondaryCalendarType(e)}a.setSecondaryCalendarType(e);a.setColumns(t);this._getYearPicker().setSecondaryCalendarType(e);this._getYearRangePicker().setSecondaryCalendarType(e);return this};Y.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};Y.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};Y.prototype._getActiveHeaderAggregation=function(){if(this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()){return this.getAggregation("secondMonthHeader")}else{return this.getAggregation("header")}};Y.prototype._saveTriggeredHeader=function(e){if(e.getSource().sParentAggregationName==="secondMonthHeader"||e.sId==="pressButton3"||e.sId==="pressButton4"){this._bActionTriggeredFromSecondHeader=true}else{this._bActionTriggeredFromSecondHeader=false}};Y.prototype.setMinDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(S(e,this.getMinDate())){return this}if(!e){this._oMinDate=n._minDate(a)}else{n._checkJSDateObject(e);this._oMinDate=_.fromLocalJSDate(e,a);var r=this._oMinDate.getYear();n._checkYearInValidRange(r,a);if(this._oMaxDate.isBefore(this._oMinDate)){A.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=_.fromLocalJSDate(e,a);this._oMaxDate.setDate(n._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(_.fromLocalJSDate(e,a))}this.setProperty("minDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMinDate.getYear();this._getYearPicker()._oMinDate.setYear(i);this._getYearRangePicker()._oMinDate.setYear(i)}for(var s=0;s<t.length;s++){t[s]._oMinDate=new _(this._oMinDate)}return this};Y.prototype.setMaxDate=function(e){var t=this.getAggregation("month"),a=this._getPrimaryCalendarType(),i;if(S(e,this.getMaxDate())){return this}if(!e){this._oMaxDate=n._maxDate(a)}else{n._checkJSDateObject(e);this._oMaxDate=_.fromLocalJSDate(e,a);var r=this._oMaxDate.getYear();n._checkYearInValidRange(r,a);if(this._oMinDate.isAfter(this._oMaxDate)){A.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=_.fromLocalJSDate(e,a);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(_.fromLocalJSDate(e,a))}this.setProperty("maxDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMaxDate.getYear();this._getYearPicker()._oMaxDate.setYear(i);this._getYearRangePicker()._oMaxDate.setYear(i)}for(var s=0;s<t.length;s++){t[s]._oMaxDate=new _(this._oMaxDate)}return this};Y.prototype.setShowCurrentDateButton=function(e){this.getAggregation("header").setVisibleCurrentDateButton(e);return this.setProperty("showCurrentDateButton",e)};Y.prototype.setIntervalSelection=function(e){const t=this._getMonthPicker();if(t){t._setShowSelectedRange(e)}const a=this._getYearPicker();if(a){a._setShowSelectedRange(e)}const i=this._getYearRangePicker();if(i){i._setShowSelectedRange(e)}return this.setProperty("intervalSelection",e)};Y.prototype.setSingleSelection=function(e){const t=this._getMonthPicker();if(t){t.setProperty("_singleSelection",e)}const a=this._getYearPicker();if(a){a.setProperty("_singleSelection",e)}const i=this._getYearRangePicker();if(i){i.setProperty("_singleSelection",e)}return this.setProperty("singleSelection",e)};Y.prototype._setMinMaxDateExtend=function(e){if(this._oFocusedDate){if(n._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){A.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this);this.focusDate(e.toLocalJSDate())}}};Y.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new P(e);this._oLocaleData=s.getInstance(t)}return this._oLocaleData};Y.prototype._getShowMonthHeader=function(){var e=E.call(this);if(e>2){return true}else{return false}};Y.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};Y.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};Y.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")};Y.prototype.onclick=function(e){var t=e.target;if(e.isMarked("delayedMouseEvent")){return}if(t.id==this.getId()+"-cancel"){this.onsapescape(e)}};Y.prototype.onmousedown=function(e){if(e.cancelable){e.preventDefault()}e.setMark("cancelAutoClose")};Y.prototype.onsapescape=function(e){this.fireCancel();this._closePickers();this._addMonthFocusDelegate();if(!this._getSucessorsPickerPopup()){this._setHeaderText(this._getFocusedDate())}};Y.prototype.onsapshow=function(e){var t=e.which||e.keyCode;if(this._bPoupupMode&&t!==T.F4){this._closePickers();this._addMonthFocusDelegate();this.fireCancel();e.preventDefault()}};Y.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t!==T.F4){return}e.preventDefault();switch(this._iMode){case 0:if(a){this._showYearPicker()}else{this._showMonthPicker()}break;case 1:if(a){this._showYearPicker()}break;case 2:if(a){this._showYearRangePicker()}break;default:}};Y.prototype.onsaphide=Y.prototype.onsapshow;Y.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}};Y.prototype.onThemeChanged=function(){var e,t=arguments;if(!this.getDomRef()){return}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t);e._bNoThemeChange=true;w.call(this);this._bLongMonth=e._bLongMonth;this._closePickers();e.removeEventDelegate(a)}};e=this._getMonthPicker();this._showMonthPicker(true);e._bNoThemeChange=false;e.addEventDelegate(a,this)}var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true}var o;if(i.length>1){o=_.fromLocalJSDate(i[0].getDate(),this._getPrimaryCalendarType())}else{o=this._getFocusedDate()}this._setHeaderText(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()};Y.prototype._updateLegendParent=function(){var e=this.getLegend(),t=r.getElementById(e);t&&t._setParent(this)};Y.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e,false);break;case 2:case 3:this._togglePrevNexYearPicker();break}};Y.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var r=this._oMaxDate.getMonth();var s=this._oMinDate.getMonth();var o=this.getAggregation("header");var h=E.call(this);var g=new _(e,this._getPrimaryCalendarType());if(this._iMode===1&&h>1){g=H.call(this,e);g.setMonth(g.getMonth()+h-1);g.setDate(n._daysInMonth(g))}else{g.setDate(n._daysInMonth(g))}var l=g.getYear();var d=g.getMonth();if((this._iMode===0||this._iMode===1)&&h>1){d+=h-1}if(l>a||l===a&&(!t||d>=r)||(this._iMode===0||this._iMode===1)&&this._getSucessorsPickerPopup()){o.setEnabledNext(false)}else{o.setEnabledNext(true)}if(this._iMode===1&&h>1){g.setMonth(g.getMonth()-h+1,1)}else{g.setDate(1)}l=g.getYear();d=g.getMonth();if(l<i||l==i&&(!t||d<=s)||this._iMode==1&&this._getSucessorsPickerPopup()){o.setEnabledPrevious(false)}else{o.setEnabledPrevious(true)}};Y.prototype._togglePrevNexYearPicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=this._getPrimaryCalendarType(),i=new _(this._oMinDate,a),r=new _(this._oMaxDate,a),s=this.getAggregation("header"),o=1,n,h,g,l;if(this._iMode===3){g=e.getYears();o=e.getRangeSize();n=new _(e.getProperty("_middleDate"));h=new _(n);n.setYear(n.getYear()-o*g/2);h.setYear(h.getYear()+o*g/2-1)}else{g=t.getYears();l=t.getProperty("_middleDate")?t.getProperty("_middleDate"):_.fromLocalJSDate(f.getInstance());n=new _(l);h=new _(l);n.setYear(n.getYear()-g/2);h.setYear(h.getYear()+g/2-1)}s.setEnabledNext(h.getYear()<r.getYear());s.setEnabledPrevious(n.getYear()>i.getYear())};Y.prototype._handlePrevious=function(){var e=this._getFocusedDate(),t=E.call(this),a,i=false;switch(this._iMode){case 0:if(t>1){a=_.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setDate(1);this._setFocusedDate(a);e=this._getFocusedDate()}else{e.setDate(1)}e.setDate(e.getDate()-1);this._renderMonth(i,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()-1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var r=this._getMonthPicker();r._setYear(e.getYear());r._setDate(e);r.invalidate();this.setProperty("_currentPicker",b.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};Y.prototype._handleNext=function(){var e=this._getFocusedDate(),t=E.call(this),a;switch(this._iMode){case 0:if(t>1){a=_.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType());a.setMonth(a.getMonth(),1);this._setFocusedDate(a);e=this._getFocusedDate()}e.setMonth(e.getMonth()+1,1);this._renderMonth(false,false);this._addMonthFocusDelegate();break;case 1:e.setYear(e.getYear()+1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(e.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(e);this._setDisabledMonths(e.getYear());var i=this._getMonthPicker();i._setYear(e.getYear());i._setDate(e);i.invalidate();this.setProperty("_currentPicker",b.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};Y.prototype._updateHeadersYearAdditionalTextHelper=function(){if(!this._getSecondaryCalendarType()){return}var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear()){this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true))}else{var t=this._getLocaleData();var a=t.getIntervalPattern();var i=a.replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),true));this._updateHeadersYearAdditionalText(i)}};Y.prototype._handleCurrentDate=function(){var e=f.getInstance(),t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",b.MONTH);if(t&&t.getTime()<e.getTime()){this.focusDate(t)}else if(a&&a.getTime()>e.getTime()){this.focusDate(a)}else{this.focusDate(e)}};Y.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();if(e&&t&&t.style.display===""){a=e.getProperty("_middleDate");a.setDate(1)}return this._oYearFormat.format(p.getInstance(a.toUTCJSDate(),a.getCalendarType()),true)};Y.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var i=E.call(this);if(i>1){for(var r=0;r<i;r++){t.push((a+r)%12)}}else{t.push(a)}return t};Y.prototype._getDisplayedSecondaryMonths=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a=this.getAggregation("month"),i=_.fromLocalJSDate(a[0].getDate(),e),r=_.fromLocalJSDate(a[a.length-1].getDate(),e),s,o;i.setDate(1);i=new _(i,t);s=i.getMonth();r=_.fromLocalJSDate(a[a.length-1].getDate(),e);r.setDate(n._daysInMonth(r));r=new _(r,t);o=r.getMonth();return{start:s,end:o}};Y.prototype._getDisplayedSecondaryYears=function(){var e=this._getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a,i,r,s,o,h,g;switch(this._iMode){case 0:o=this.getAggregation("month");a=_.fromLocalJSDate(o[0].getDate(),e);a.setDate(1);a=new _(a,t);i=_.fromLocalJSDate(o[o.length-1].getDate(),e);i.setDate(n._daysInMonth(i));i=new _(i,t);break;case 1:r=this._getFocusedDate();s=new _(r,e);s.setMonth(0,1);a=new _(s,e);a=new _(a,t);s.setYear(s.getYear()+1);s.setDate(s.getDate()-1);i=new _(s,e);i=new _(i,t);break;case 2:h=this._getYearPicker();g=h.getYears()/2-1;r=h.getProperty("_middleDate");a=new _(r,e);a.setYear(r.getYear()-g-1);a.setMonth(0,1);a=new _(a,t);i=new _(r,e);i.setYear(i.getYear()+g+1);a.setMonth(0,1);i.setDate(i.getDate()-1);i=new _(i,t);break;default:}return{start:a,end:i}};Y.prototype._closePickers=function(){this.setProperty("_currentPicker",b.MONTH);this._togglePrevNext(this._getFocusedDate(),true);if(this.getAggregation("month").length>1){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=0})}};Y.prototype._setDisabledMonths=function(e,t){var a=0;var i=11;if(e===this._oMinDate.getYear()){a=this._oMinDate.getMonth()}if(e===this._oMaxDate.getYear()){i=this._oMaxDate.getMonth()}if(!t){t=this._getMonthPicker()}t.setMinMax(a,i)};Y.prototype._handleFocus=function(e){var t=_.fromLocalJSDate(e.getParameter("date"),this._getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");if(this.getIntervalSelection()){this.getAggregation("month").forEach(function(e){e.setProperty("_focusedDate",t)})}if(i){if(!S(this._getFocusedDate(),t)){this._renderMonth(false,true)}}else{this._focusDate(t,a,false,true)}};Y.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),false)};Y.prototype._renderMonth=function(e,t){var a=this._getFocusedDate(),i=this.getAggregation("month"),r,s,o=H.call(this,new _(a,this._getPrimaryCalendarType())),h=0,g=i[0].checkDateFocusable(a.toLocalJSDate()),l=!t&&!g;for(h=0;h<i.length;h++){r=i[h];s=new _(o,this._getPrimaryCalendarType());s.setMonth(o.getMonth()+h);if(!e&&n._isSameMonthAndYear(s,a)){r.setDate(a.toLocalJSDate())}else{r.displayDate(s.toLocalJSDate())}}this._updateHeader(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS();if(l){this.fireStartDateChange()}};Y.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(false)}return this};Y.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new _(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility();this._updateMonthButtonVisibility();this.setProperty("_currentPicker",b.MONTH_PICKER);if(this._bActionTriggeredFromSecondHeader){i.setDate(1);i.setMonth(i.getMonth()+1);a._setYear(i.getYear());a._setDate(i)}else{a._setYear(t.getYear());a._setDate(t)}if(!e&&this._bActionTriggeredFromSecondHeader){a.setMonth(i.getMonth());this._setDisabledMonths(i.getYear(),a)}else if(!e){a.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),a)}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==b.MONTH_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}this._togglePrevNext(t,true);this._setHeaderText(this._getFocusedDate())};Y.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",b.YEAR_PICKER);t.setDate(e.toLocalJSDate());this._togglePrevNexYearPicker();if(this._isTwoMonthsInOneColumn()){this._updateActiveHeaderYearButtonVisibility()}else{this._updateActiveHeaderYearButtonVisibility()}if(this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1);t.setDate(a);this._updateHeadersYearPrimaryText(this._getYearString())}else{t.setDate(e.toLocalJSDate());this._updateHeadersYearPrimaryText(this._getYearString())}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==b.YEAR_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}};Y.prototype._focusDate=function(e,t,a,i){var r,s=false,o=false,n=this.getAggregation("month"),h;if(e.isBefore(this._oMinDate)){r=this._oMinDate;s=true}else if(e.isAfter(this._oMaxDate)){r=this._oMaxDate;s=true}else{r=e}if(this._focusDateExtend){o=this._focusDateExtend(e,t,a)}this._setFocusedDate(r);if(i&&!this._focusDateExtend){for(h=0;h<n.length;++h){if(n[h].checkDateFocusable(r.toLocalJSDate())){n[h].setDate(r.toLocalJSDate());n[h]._focusDate(r);return}}}if(s||t){this._renderMonth(false,a);this._addMonthFocusDelegate()}if(o){this.fireStartDateChange()}};Y.prototype._setHeaderText=function(e){var t=this.getAggregation("header");var a=this.getAggregation("secondMonthHeader");var i=this._getLocaleData();var r=[];var s=[];var o=[];var n=[];var h;var g=false;var l;var d;var u;var c;var p;var f=this._getPrimaryCalendarType();var D=this._getSecondaryCalendarType();var y="";if(this._bLongMonth||!this._bNamesLengthChecked){r=i.getMonthsStandAlone("wide",f)}else{g=true;r=i.getMonthsStandAlone("abbreviated",f);s=i.getMonthsStandAlone("wide",f)}if(D){o=i.getMonthsStandAlone("abbreviated",D);n=i.getMonthsStandAlone("wide",D);var m=this._getDisplayedSecondaryMonths();if(m.start===m.end){u=o[m.start];y=n[m.start]}else{p=i.getIntervalPattern();u=p.replace(/\{0\}/,o[m.start]).replace(/\{1\}/,o[m.end]);y=p.replace(/\{0\}/,n[m.start]).replace(/\{1\}/,n[m.end])}}t.setAdditionalTextButton1(u);t._setAdditionalTextButton3(u);a.setAdditionalTextButton1(u);var M=this._getDisplayedMonths(e);this._sFirstMonthName=l=r[M[0]];d=r[M[M.length-1]];if(M.length>1&&!this._bShowOneMonth){if(!p){p=i.getIntervalPattern()}u=p.replace(/\{0\}/,l).replace(/\{1\}/,d);h=s.length?p.replace(/\{0\}/,s[M[0]]).replace(/\{1\}/,s[M[M.length-1]]):u;if(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn()){u=l}}else{u=l;h=s[M[0]]||u}if(!this._getSucessorsPickerPopup()&&y){h+=", "+y}var P=this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[h]);var T=this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON_SHORTCUT");var v=`${this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[h])} (${T})`;t.setTextButton1(u);t.setAriaLabelButton1(P);t.setProperty("_tooltipButton1",v);t.setProperty("_descriptionButton1",P);t._setTextButton3(d);if(M.length>1){var C=this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[d]);var S=`${this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[d])} (${T})`;t._setAriaLabelButton3(C);t.setProperty("_tooltipButton3",S);t.setProperty("_keyShortcutButton3",T);t.setProperty("_descriptionButton3",C)}a.setTextButton1(d);if(M.length>1){var A=this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[d]);var k=`${this._oResourceBundle.getText("CALENDAR_HEADER_MONTH_BUTTON",[d])} (${T})`;a.setAriaLabelButton1(A);a.setProperty("_tooltipButton1",k);a.setProperty("_keyShortcutButton1",T);a.setProperty("_descriptionButton1",A)}var Y=new _(e,f);Y.setDate(1);c=this._oYearFormat.format(Y.toUTCJSDate(),true);if(Y.getMonth()===11){this._updateHeadersYearPrimaryText(c,(parseInt(c)+1).toString())}else{this._updateHeadersYearPrimaryText(c,c)}if(D&&this._iMode!==3){this._updateHeadersYearAdditionalTextHelper()}else{this._updateHeadersYearAdditionalText()}return{sMonth:u,sYear:c,sAriaLabel:h,bShort:g}};Y.prototype._handleButton1=function(e){if(this._iMode!=1){this._saveTriggeredHeader(e);this._showMonthPicker()}else{this.setProperty("_currentPicker",b.MONTH);this._addMonthFocusDelegate()}};Y.prototype._addMonthFocusDelegate=function(){var e=this.getAggregation("month"),t=e[0].getDate(),a=this._getFocusedDate(),i={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex(),undefined,true);this.removeDelegate(i)}},r,s;if(e.length>1&&r){t=_.fromLocalJSDate(r,this._getPrimaryCalendarType())}else if(e.length>1){t=H.call(this,this._getFocusedDate())}else{t=a}for(var o=0;o<e.length;o++){r=new _(t);if(o>0){r.setMonth(r.getMonth()+o,1)}if(a.getYear()===r.getYear()&&a.getMonth()===r.getMonth()){s=this.getAggregation("month")[o];s.addDelegate(i,s)}}};Y.prototype._handleButton2=function(e){if(this._iMode<=1){this._saveTriggeredHeader(e);this._showYearPicker()}else{this._showYearRangePicker()}};Y.prototype._selectMonth=function(){var e=new _(this._getFocusedDate(),this._getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||a===0?a:t.getMonth(),r=_.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());r=t._iYear?r.setYear(t._iYear).setMonth(i-1,1):new _(this._getFocusedDate().getYear(),i-1,1);if(E.call(this)>1){if(this._bActionTriggeredFromSecondHeader&&r.getYear()>=n._minDate(this._getPrimaryCalendarType()).getYear()){e.setYear(r.getYear());i=r.getMonth()}else if(e.getYear()===n._maxDate(this._getPrimaryCalendarType()).getYear()&&i===11){i-=1}}e.setMonth(i);if(i!=e.getMonth()){e.setDate(0)}this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate()};Y.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()};Y.prototype._selectYear=function(){var e=new _(this._getFocusedDate(),this._getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=_.fromLocalJSDate(a.getDate(),this._getPrimaryCalendarType());if(!this._bActionTriggeredFromSecondHeader){i.setMonth(t,e.getDate())}else{i.setYear(t===11?i.getYear()-1:i.getYear());i.setMonth(t,e.getDate())}e=i;this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate();this._setHeaderText(this._getFocusedDate())};Y.prototype.setProperty=function(){var e=arguments[0],t=arguments[1];i.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(t){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}}return this};Y.prototype._selectYearRange=function(){var e=this.getAggregation("yearRangePicker"),t=this.getAggregation("header"),a=e.getRangeSize(),i=this._getPrimaryCalendarType(),r=_.fromLocalJSDate(e.getDate(),i),s=new _(r.getYear()+a-1,0,1,i),o=this._getFocusedDate(),n,h;o.setYear(r.getYear()+a/2);r.setMonth(0,1);if(o.isBefore(this._oMinDate)){o=new _(this._oMinDate,this._getPrimaryCalendarType())}else if(o.isAfter(this._oMaxDate)){o=new _(this._oMaxDate,this._getPrimaryCalendarType())}this._setFocusedDate(o);this._showYearPicker();n=this._oYearFormat.format(p.getInstance(r.toUTCJSDate(),r.getCalendarType()),true);h=this._oYearFormat.format(p.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);t.setTextButton2(n+" - "+h);t._setTextButton4(n+" - "+h)};Y.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=_.fromLocalJSDate(t.getFirstRenderedDate(),this._getPrimaryCalendarType());this.setProperty("_currentPicker",b.YEAR_RANGE_PICKER);e.getColumns()%2!==0?a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2)):a.setYear(a.getYear());e.setDate(a.toLocalJSDate());this._togglePrevNexYearPicker()};Y.prototype._setColumns=function(e){this._iColumns=e;return this};Y.prototype._getColumns=function(){return this._iColumns};Y.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(!e.getVisibleButton1())}return this};Y.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e);r.setVisibleButton2(t);r._setVisibleButton3(a);r._setVisibleButton4(i);if(s.getVisible()){s.setVisibleButton1(e);s.setVisibleButton2(t);s._setVisibleButton3(a);s._setVisibleButton4(i)}};Y.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");if(this._isTwoMonthsInOneColumn()){e.setVisible(true);if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}else if(this._isTwoMonthsInTwoColumns()){e.setVisible(false);if(this._iMode===2){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else if(this._iMode===1){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else{this._updateHeadersButtonsHelper(true,true,true,true)}}else{e.setVisible(false);if(this._iMode===1){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}if(this._getSucessorsPickerPopup()){this.getAggregation("header").setVisibleButton2(false)}};Y.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");if(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns()){e.setTextButton1(this._sFirstMonthName)}};Y.prototype._toggleTwoMonthsInColumnsCSS=function(){if(this._isTwoMonthsInTwoColumns()){if(new P(t.getLanguageTag()).getLanguage().toLowerCase()==="ja"||new P(t.getLanguageTag()).getLanguage().toLowerCase()==="zh"){this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}else{this.addStyleClass("sapUiCalTwoMonthsTwoColumns");this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")}}else{this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}if(this._isTwoMonthsInOneColumn()){this.addStyleClass("sapUiCalTwoMonthsInOneColumn")}else{this.removeStyleClass("sapUiCalTwoMonthsInOneColumn")}};Y.prototype._isTwoMonthsInOneColumn=function(){var e=E.call(this);return this._getColumns()===1&&e===2};Y.prototype._isTwoMonthsInTwoColumns=function(){var e=E.call(this);return this._getColumns()===2&&e===2};Y.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),r=this.getAggregation("secondMonthHeader"),s=e,o=t||e,h=this._getPrimaryCalendarType(),g,l;var d=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON_SHORTCUT");var u=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_RANGE_BUTTON_SHORTCUT");var c=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON",[s]);var f=`${c} (${d})`;var D=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON",[o]);var y=`${D} (${d})`;var m,M;if(this._iMode===2&&a){var P=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),T=new _(P,h),v=n._minDate(this._getPrimaryCalendarType()).getYear(),C=n._maxDate(this._getPrimaryCalendarType()).getYear(),S;T.setDate(1);T.setYear(T.getYear()-Math.floor(a.getYears()/2));if(T.getYear()<v){T.setYear(v)}else if(T.getYear()+a.getYears()>C){T.setYear(C-a.getYears()+1)}S=new _(T,h);S.setYear(S.getYear()+a.getYears()-1);g=this._oYearFormat.format(p.getInstance(T.toUTCJSDate(),T.getCalendarType()),true);l=this._oYearFormat.format(p.getInstance(S.toUTCJSDate(),S.getCalendarType()),true);if(this._bActionTriggeredFromSecondHeader){o=g+" - "+l}else{s=g+" - "+l}m=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_RANGE_BUTTON",[g,l]);M=`${m} (${u})`;i.setProperty("_tooltipButton4",M);i.setProperty("_keyShortcutButton4",u);i.setProperty("_descriptionButton4",m)}else{i.setProperty("_tooltipButton4",y);i.setProperty("_keyShortcutButton4",d);i.setProperty("_descriptionButton4",D)}i._setTextButton4(o);r.setTextButton2(o);var A,k;if(this._iMode===2&&a){A=m;k=M}else{A=D;k=y}i._setAriaLabelButton4(A);r.setAriaLabelButton2(A);r.setProperty("_tooltipButton2",k);r.setProperty("_keyShortcutButton2",this._iMode===2&&a?u:d);r.setProperty("_descriptionButton2",A);i.setTextButton2(s);i.setAriaLabelButton2(this._iMode===2&&a?m:c);i.setProperty("_tooltipButton2",this._iMode===2&&a?M:f);i.setProperty("_descriptionButton2",this._iMode===2&&a?m:c);if(this._isTwoMonthsInTwoColumns()&&o!==s){var Y=this._iMode===2&&a?m:D;var b=this._iMode===2&&a?M:y;var R=this._iMode===2&&a?u:d;i.setAriaLabelButton2(Y);i.setProperty("_tooltipButton2",b);i.setProperty("_keyShortcutButton2",R);i.setProperty("_descriptionButton2",Y)}if(o!==s){var B,H,w;if(this._iMode===2&&a){var x=o.split(" - ");if(x.length===2){B=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_RANGE_BUTTON",x);H=`${B} (${u})`;w=u}else{B=D;H=y;w=d}}else{B=D;H=y;w=d}i.setProperty("_tooltipButton4",H);i.setProperty("_keyShortcutButton4",w);i.setProperty("_descriptionButton4",B)}};Y.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader"),i,r,s;t.setAdditionalTextButton2(e);t._setAdditionalTextButton4(e);a.setAdditionalTextButton2(e);if(e){i=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON_SHORTCUT");r=this._oResourceBundle.getText("CALENDAR_HEADER_YEAR_BUTTON",[e]);s=`${r} (${i})`;t.setProperty("_tooltipButton4",s);t.setProperty("_keyShortcutButton4",i);t.setProperty("_descriptionButton4",r)}};Y.prototype._adjustYearRangeDisplay=function(){var e=this.getAggregation("yearRangePicker"),t=this._getPrimaryCalendarType(),i=this._getSecondaryCalendarType(),r=t===a.Japanese||i===a.Japanese;if(!this._getSucessorsPickerPopup()){if(r){e.setColumns(1);e.setYears(4)}else{e.setColumns(2);e.setYears(8)}}};function R(){var e=this.getSelectedDates();var t=this._getPrimaryCalendarType();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=_.fromLocalJSDate(e[0].getStartDate(),t)}else{this._oFocusedDate=_.fromLocalJSDate(f.getInstance(),t)}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new _(this._oMinDate,t)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new _(this._oMaxDate,t)}}function B(e){var t=e.size.width;if(t<=0){return}if(t===this._iPrevWidth){return}this._iPrevWidth=t;var a=this._iSize;if(t<this._iBreakPointTablet){this._iSize=0}else if(t<this._iBreakPointDesktop){this._iSize=1}else if(t<this._iBreakPointLargeDesktop){this._iSize=2}else{this._iSize=3}var i=E.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1);break}if(i<this._getColumns()){this._setColumns(i)}if(this._getColumns()>2&&i>this._getColumns()){var r=this._getColumns();var s=0;var o=this._getColumns();while(r>=2){var n=i%r;if(n==0){o=r;break}else{var h=n/r;if(h>s){s=h;o=r}}r--}this._setColumns(o)}var g;var l=this.getAggregation("month");if(this._getColumns()>1){g=100/this._getColumns()+"%";this.$("content").removeClass("sapUiCalContentSingle")}else{g="100%";this.$("content").addClass("sapUiCalContentSingle")}for(var d=0;d<l.length;d++){var u=l[d];u.setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()}function H(e){var t=new _(e,this._getPrimaryCalendarType());t.setDate(1);var a=E.call(this);if(a<=12){var i=e.getMonth();if(12%a>0&&i+a>11){i=12-a}t.setMonth(i)}return t}function w(){var e,t,a;if(!this._bNamesLengthChecked){e=this._getMonthPicker();this._bLongMonth=e._bLongMonth;this._bNamesLengthChecked=true;this.setProperty("_currentPicker",b.MONTH);if(!this._bLongMonth){t=this.getAggregation("month");if(t.length>1){a=_.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else{a=this._getFocusedDate()}this._setHeaderText(a);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInColumnsCSS()}}}function x(e,t){var a,i=this._getPrimaryCalendarType(),r;if(!e){return}a=_.fromLocalJSDate(e,i);r=a.getYear();n._checkYearInValidRange(r,i);if(n._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){this._renderMonth(t,true)}}function E(){if(y.system.phone){return 1}else{return this.getMonths()}}function N(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function L(e){this._oSelectedMonth=e.oSource;this.fireSelect()}function F(e){var t,a,i;if(E.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._bindMousemove()}}}}function I(e){var t,a,i;if(E.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._unbindMousemove()}}}}function O(e){var t=e.getParameter("offset");if(t>0){this._handleNext(e)}if(t<0){this._handlePrevious(e)}}function J(){this._updateHeadersYearPrimaryText(this._getYearString())}return Y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarAppointment", ["./DateTypeRange","sap/base/i18n/Formatting","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","./calendar/CalendarUtils","./library","sap/base/Log","sap/ui/core/date/UI5Date"],function(e,t,a,n,i,r,o,u,g,s){"use strict";var p=e.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},description:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});p.prototype.init=function(){this._sAppointmentPartSuffix=null};p.prototype.applyFocusInfo=function(e){var t=this.getParent();if(t){t.applyFocusInfo(e)}return this};p.prototype._getDateRangeIntersectionText=function(e,o){var u=this.getStartDate(),g=this.getEndDate()?this.getEndDate():s.getInstance(864e12),p=o?"h:mm a":"HH:mm",l,m,f=s.getInstance(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),c=s.getInstance(f.getFullYear(),f.getMonth(),f.getDate()+1),d=i.getTimeInstance({pattern:p}),T=a.getResourceBundleFor("sap.m"),h=r.getUnitInstance({allowedUnits:["duration-hour"]},new n(t.getLanguageTag())),y=r.getUnitInstance({allowedUnits:["duration-minute"]},new n(t.getLanguageTag())),A,D,I,N;if(u.getTime()>c.getTime()||g.getTime()<f.getTime()){l=""}else if(u.getTime()<=f.getTime()&&g.getTime()>=c.getTime()){l=T.getText("PLANNINGCALENDAR_ALLDAY")}else if(u.getTime()<f.getTime()){l=T.getText("PLANNINGCALENDAR_UNTIL");m=d.format(g)}else if(g.getTime()>c.getTime()){l=T.getText("PLANNINGCALENDAR_FROM");m=d.format(u)}else{l=d.format(u);if(g.getTime()-u.getTime()<36e5){D=(g.getTime()-u.getTime())/6e4;m=y.format(D,"duration-minute")}else if((g.getTime()-u.getTime())%36e5===0){A=(g.getTime()-u.getTime())/36e5;m=h.format(A,"duration-hour")}else{A=Math.floor((g.getTime()-u.getTime())/36e5);I=h.format(A,"duration-hour");D=(g.getTime()-u.getTime())/6e4%60;N=y.format(D,"duration-minute");m=T.getText("PLANNINGCALENDAR_APP_DURATION",[I,N])}}return{start:l,end:m}};p._getComparer=function(e){var t=24*60*60*1e3,a=s.getInstance(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0).getTime(),n=a+t;return function(e,t){var i=e.appointment.getStartDate().getTime(),r=t.appointment.getStartDate().getTime(),o=e.appointment.getEndDate()?e.appointment.getEndDate().getTime():864e12,u=t.appointment.getEndDate()?t.appointment.getEndDate().getTime():864e12,g=i<=a&&o>=n,s=r<=a&&u>=n,p;if(g&&s||!g&&!s){p=i-r;if(p===0){p=u-o}}else if(g){p=-1}else{p=1}return p}};p.prototype.setColor=function(e){if(e&&!e.match(/^#[0-9a-f]{6}$/i)){g.warning("setColor accepts only full hex color value with pound symbol, but value is '"+e+"'")}return this.setProperty("color",e)};p.prototype._getCSSColorForBackground=function(e){if(e.length===4){e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)}return"rgba("+[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)].join(", ")+", 0.2)"};p.prototype._setAppointmentPartSuffix=function(e){this._sAppointmentPartSuffix=e;return this};p.prototype.getDomRef=function(e){if(document.getElementById(this.getId())){return document.getElementById(e?this.getId()+"-"+e:this.getId())}else if(this._sAppointmentPartSuffix){return document.getElementById(e?this.getId()+"-"+this._sAppointmentPartSuffix+"-"+e:this.getId()+"-"+this._sAppointmentPartSuffix)}var t=document.querySelectorAll(".sapUiCalendarRowApps[id^='"+this.getId()+"-']");return t.length>0?t[0]:null};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarDateInterval", ["./calendar/CalendarUtils","./Calendar","./calendar/DatesRow","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","./library","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/Device","./CalendarDateIntervalRenderer","sap/base/util/deepEqual","sap/m/Popover","sap/base/Log","./DateRange","sap/ui/core/date/UI5Date"],function(e,t,a,r,i,s,o,n,h,g,p,c,l,u,d,_,D){"use strict";var f=t.extend("sap.ui.unified.CalendarDateInterval",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false}},designtime:"sap/ui/unified/designtime/CalendarDateInterval.designtime"},renderer:c});f.prototype.init=function(){t.prototype.init.apply(this,arguments);this._iDaysMonthHead=35};f.prototype.onBeforeRendering=function(){if(this._getSucessorsPickerPopup()){this.setProperty("_currentPicker","month")}t.prototype.onBeforeRendering.apply(this,arguments);this._bPoupupMode=this.getPickerPopup()};f.prototype._selectYearRange=function(){t.prototype._selectYearRange.apply(this,arguments);this.getAggregation("month")[0].setStartDate(this._getFocusedDate().toLocalJSDate())};f.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._oPopup){this._oPopup.destroy();this._oPopup=null}if(this._oCalendar){this._oCalendar.removeDelegate(this._oFocusCalendarDelegate);this._oCalendar.destroy();this._oCalendar=null}};f.prototype._initializeMonthPicker=function(){var e=this._createMonthPicker();e._bCalendar=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};f.prototype._initializeYearPicker=function(){var e=this._createYearPicker();e._bCalendar=true;this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};f.prototype._initializeYearRangePicker=function(){var e=this._createYearRangePicker();this.setAggregation("yearRangePicker",e);e._setSelectedDatesControlOrigin(this)};f.prototype.setPickerPopup=function(e){this.setProperty("pickerPopup",e);var t=this.getAggregation("header"),a,r;if(e){if(this._getMonthPicker()){this._getMonthPicker().destroy()}if(this._getYearPicker()){this._getYearPicker().destroy()}t.setVisibleButton2(false);t.detachEvent("pressButton2",this._handleButton2,this);this._setHeaderText(this._getFocusedDate(true))}else{if(!this._getMonthPicker()){this.setAggregation("monthPicker",this._createMonthPicker())}if(!this._getYearPicker()){this.setAggregation("yearPicker",this._createYearPicker())}a=this._getMonthPicker();r=this._getYearPicker();a.setColumns(0);a.setMonths(6);r.setColumns(0);r.setYears(6);r._oMinDate.setYear(this._oMinDate.getYear());r._oMaxDate.setYear(this._oMaxDate.getYear());t.setVisibleButton2(true);t.detachEvent("pressButton2",this._handleButton2,this);t.attachEvent("pressButton2",this._handleButton2,this)}return this};f.prototype._createMonthPicker=function(){var e=new r(this.getId()+"--MP");e.attachEvent("select",this._selectMonth,this);e._bNoThemeChange=true;e.setColumns(0);e.setMonths(3);e.attachEvent("pageChange",y,this);return e};f.prototype._createYearPicker=function(){var e=new i(this.getId()+"--YP");e.attachEvent("select",this._selectYear,this);e.setColumns(0);e.setYears(3);e.attachEvent("pageChange",P,this);return e};f.prototype._createYearRangePicker=function(){var e=new s(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this.getPrimaryCalendarType());e.setYears(6);e.setRangeSize(this._getYearPicker().getYears());return e};f.prototype._adjustYearRangeDisplay=function(){var e=this.getAggregation("yearRangePicker");if(!this._getSucessorsPickerPopup()){switch(this.getPrimaryCalendarType()){case g.Gregorian:e.setColumns(3);e.setYears(3);break;default:e.setColumns(2);e.setYears(2)}}else{t.prototype._adjustYearRangeDisplay.call(this,arguments)}};f.prototype._getCalendar=function(){var e;if(!this._oCalendar){e=new t(this.getId()+"--Cal");e.attachEvent("select",this._handleCalendarPickerDateSelect,this);e.attachEvent("cancel",function(e){this._closeCalendarPicker(true);var t=this.getAggregation("header").getDomRef("B1");if(t){t.focus()}},this);this._oFocusCalendarDelegate={onAfterRendering:function(){this.focus()}};e.addDelegate(this._oFocusCalendarDelegate,e);this._oCalendar=e}return this._oCalendar};f.prototype._setAriaRole=function(e){var t=this.getAggregation("month")[0];t._setAriaRole(e);t.invalidate();return this};f.prototype._handleButton1=function(e){if(this.getPickerPopup()){this._showCalendarPicker();this._showOverlay()}else{this._showMonthPicker()}};f.prototype._showOverlay=function(){this.$("contentOver").css("display","")};f.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")};f.prototype._setHeaderText=function(e){var a;if(this.getStartDate()){a=t.prototype._setHeaderText.apply(this,[o.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType())])}else{a=t.prototype._setHeaderText.apply(this,arguments)}var r,i=a.sAriaLabel,s=this.getAggregation("header");var n=this._getLocaleData();var h=o.fromLocalJSDate(D.getInstance(e.toLocalJSDate().getTime()+(this._getDays()-1)*24*60*60*1e3),this.getPrimaryCalendarType());h.setDate(1);var g=n.getIntervalPattern().replace("{0}","").replace("{1}","");var p=this._oYearFormat.format(h.toUTCJSDate(),true);var c=a.sMonth;if(this.getPickerPopup()){if(n.oLocale.sLanguage.toLowerCase()==="ja"||n.oLocale.sLanguage.toLowerCase()==="zh"){if(p!=a.sYear){c=c.replace(g,g+p+" ");i=i.replace(g,g+p+" ")}r=a.sYear+" "+c;i=a.sYear+" "+i}else{if(p!=a.sYear){c=c.replace(g," "+a.sYear+g);i=i.replace(g," "+a.sYear+g)}r=c+" "+p;i=i+" "+p}s.setTextButton1(r,true);s.setAriaLabelButton1(i)}};f.prototype._showCalendarPicker=function(){var e=this.getStartDate(),t=this._getCalendar(),a=new _,r=D.getInstance(e.getTime());r.setDate(r.getDate()+this._getDays()-1);a.setStartDate(e);a.setEndDate(r);t.displayDate(this._getFocusedDate().toLocalJSDate());t.removeAllSelectedDates();t.addSelectedDate(a);t.setMinDate(this.getMinDate());t.setMaxDate(this.getMaxDate());this._openPickerPopup(t)};f.prototype._handleCalendarPickerDateSelect=function(e){var t=this._getCalendar(),a=t.getSelectedDates()[0].getStartDate(),r=o.fromLocalJSDate(a);this._setStartDate(r);this._setFocusedDate(r);this._closeCalendarPicker()};f.prototype._closeCalendarPicker=function(e){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close()}if(!e){this._renderMonth()}this._getCalendar()._closePickers()};f.prototype._getDaysLarge=function(){return 10};f.prototype._createMonth=function(e){var t=new a(e);t._bCalendar=true;return t};f.prototype.setStartDate=function(t){e._checkJSDateObject(t);if(l(this.getStartDate(),t)){return this}var a=t.getFullYear();e._checkYearInValidRange(a);var r=o.fromLocalJSDate(t,this.getPrimaryCalendarType());if(e._isOutside(r,this._oMinDate,this._oMaxDate)){throw new Error("Date must be in valid range (minDate and maxDate); "+this)}var i=this.getMinDate();if(i&&t.getTime()<i.getTime()){d.warning("startDate < minDate -> minDate as startDate set",this);t=D.getInstance(i.getTime())}var s=this.getMaxDate();if(s&&t.getTime()>s.getTime()){d.warning("startDate > maxDate -> maxDate as startDate set",this);t=D.getInstance(s.getTime())}this.setProperty("startDate",t,true);r=o.fromLocalJSDate(t,this.getPrimaryCalendarType());this._oStartDate=r;var n=this.getAggregation("month")[0];n.setStartDate(t);this._updateHeader(r);var h=this._getFocusedDate(true).toLocalJSDate();if(!n.checkDateFocusable(h)){this._setFocusedDate(r);n.displayDate(t)}return this};f.prototype.getStartDate=function(){return this.getProperty("startDate")};f.prototype.setDays=function(e){var t=this.getAggregation("yearRangePicker");this.setProperty("days",e,true);e=this._getDays();var a=this.getAggregation("month")[0];a.setDays(e);if(!this.getPickerPopup()){var r=this._getMonthPicker();var i=Math.ceil(e/3);if(i>12){i=12}r.setMonths(i);var s=this._getYearPicker();var o=Math.floor(e/2);if(o>20){o=20}s.setYears(o);t.setRangeSize(o)}var n=this._getStartDate();this._updateHeader(n);if(this.getDomRef()){if(e>this._getDaysLarge()){this.$().addClass("sapUiCalIntLarge")}else{this.$().removeClass("sapUiCalIntLarge")}if(e>this._iDaysMonthHead){this.$().addClass("sapUiCalIntHead")}else{this.$().removeClass("sapUiCalIntHead")}}return this};f.prototype._getDays=function(){var e=this.getDays();if(p.system.phone&&e>8){return 8}else{return e}};f.prototype.setShowDayNamesLine=function(e){this.setProperty("showDayNamesLine",e,true);var t=this.getAggregation("month")[0];t.setShowDayNamesLine(e);return this};f.prototype._getShowMonthHeader=function(){var e=this._getDays();if(e>this._iDaysMonthHead){return true}else{return false}};f.prototype._getFocusedDate=function(e){if(!this._oFocusedDate||e){this._oFocusedDate=null;t.prototype._getFocusedDate.apply(this,arguments);var a=this.getStartDate();var r=this.getAggregation("month")[0];if(!a){this._setStartDate(this._oFocusedDate,false,true)}else if(!r.checkDateFocusable(this._oFocusedDate.toLocalJSDate())){this._oFocusedDate=o.fromLocalJSDate(a,this.getPrimaryCalendarType())}}return this._oFocusedDate};f.prototype.setMonths=function(e){if(e==1){return this.setProperty("months",e,false)}else{throw new Error("Property months not supported "+this)}};f.prototype.setFirstDayOfWeek=function(e){if(e==-1){return this.setProperty("firstDayOfWeek",e,false)}else{throw new Error("Property firstDayOfWeek not supported "+this)}};f.prototype.focusDate=function(e){var a=this.getAggregation("month")[0];if(!a.checkDateFocusable(e)){this._focusDateExtend(o.fromLocalJSDate(e,this.getPrimaryCalendarType()),true,true)}t.prototype.focusDate.apply(this,arguments);return this};f.prototype._focusOnShiftTab=function(){var e=this.getAggregation("header");if(this.getPickerPopup()&&e.getDomRef("B1")){e.getDomRef("B1").focus()}else if(!this.getPickerPopup()&&e.getDomRef("B2")){e.getDomRef("B2").focus()}};f.prototype.onsapescape=function(e){if(this.getPickerPopup()){this._closeCalendarPicker();this.fireCancel()}else{if(this._iMode===0){this.fireCancel()}this._closePickers()}this._updateHeadersButtons();this._setHeaderText(this._getFocusedDate())};f.prototype._focusDateExtend=function(e,t,a){if(t){var r=this.getAggregation("month")[0],i=r._oItemNavigation?r._oItemNavigation.getFocusedIndex():0,s=new o(e,this.getPrimaryCalendarType());s.setDate(s.getDate()-i);this._setStartDate(s,false,true);if(!a){return true}}return false};f.prototype._setMinMaxDateExtend=function(e){if(this._oStartDate){if(this._oStartDate.isBefore(this._oMinDate)){d.warning("start date < minDate -> minDate will be start date",this);this._setStartDate(new o(this._oMinDate,this.getPrimaryCalendarType()),true,true)}else{var t=new o(this._oStartDate);t.setDate(t.getDate()+this._getDays()-1);if(t.isAfter(this._oMaxDate)){d.warning("end date > maxDate -> start date will be changed",this);var a=new o(this._oMaxDate);a.setDate(a.getDate()-this._getDays()+1);this._setStartDate(a,true,true)}}}};f.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e);break;case 2:case 3:this._togglePrevNexYearPicker();break}};f.prototype._togglePrevNext=function(a,r){if(this._iMode>1||this._iMode==1&&this.getPickerPopup()){return t.prototype._togglePrevNext.apply(this,arguments)}var i=this._oMaxDate.getYear();var s=this._oMinDate.getYear();var n=this._oMaxDate.getMonth();var h=this._oMinDate.getMonth();var g=this._oMinDate.getDate();var p=this._oMaxDate.getDate();var c=this.getAggregation("header");var l=this._getDays();var u;var d;var _;var D;var f;if(this._iMode==1&&!r){var y=this._getMonthPicker();var P=y.getMonths();var v=y.getProperty("_firstMonth");var m=v+P-1;u=a.getYear();if(v==0||u==s&&v<=h){c.setEnabledPrevious(false)}else{c.setEnabledPrevious(true)}if(m>10||u==i&&m>=n){c.setEnabledNext(false)}else{c.setEnabledNext(true)}return}d=this._getStartDate();_=new o(d,this.getPrimaryCalendarType());_.setDate(_.getDate()+l-1);if(e._isOutside(a,d,_)){d=new o(a,this.getPrimaryCalendarType());_=new o(d,this.getPrimaryCalendarType());_.setDate(_.getDate()+l-1)}u=d.getYear();D=d.getMonth();f=d.getDate();if(u<s||u==s&&(!r||D<h||D==h&&f<=g)){c.setEnabledPrevious(false)}else{c.setEnabledPrevious(true)}u=_.getYear();D=_.getMonth();f=_.getDate();if(u>i||u==i&&(!r||D>n||D==n&&f>=p)){c.setEnabledNext(false)}else{c.setEnabledNext(true)}};f.prototype._shiftStartFocusDates=function(e,t,a){e.setDate(e.getDate()+a);t.setDate(t.getDate()+a);this._setFocusedDate(t);this._setStartDate(e,true)};f.prototype._handlePrevious=function(e){var t=new o(this._getFocusedDate(),this.getPrimaryCalendarType()),a,r,i;switch(this._iMode){case 0:r=new o(this._getStartDate(),this.getPrimaryCalendarType());i=this._getDays();this._shiftStartFocusDates(r,t,i*-1);this._addMonthFocusDelegate();break;case 1:if(!this.getPickerPopup()){a=this._getMonthPicker();if(a.getMonths()<12){a.previousPage();this._togglePrevNext(t)}else{t.setYear(t.getYear()-1);var s=this._focusDateExtend(t,true,false);this._setFocusedDate(t);this._updateHeader(t);this._setDisabledMonths(t.getYear());if(s){this.fireStartDateChange()}}}break;case 2:if(!this.getPickerPopup()){this._getYearPicker().previousPage();P.call(this)}break;case 3:if(!this.getPickerPopup()){this.getAggregation("yearRangePicker").previousPage();P.call(this)}break}};f.prototype._handleNext=function(e){var t=new o(this._getFocusedDate(),this.getPrimaryCalendarType()),a,r,i;switch(this._iMode){case 0:r=new o(this._getStartDate(),this.getPrimaryCalendarType());i=this._getDays();this._shiftStartFocusDates(r,t,i);this._addMonthFocusDelegate();break;case 1:if(!this.getPickerPopup()){a=this._getMonthPicker();if(a.getMonths()<12){a.nextPage();this._togglePrevNext(t)}else{t.setYear(t.getYear()+1);var s=this._focusDateExtend(t,true,false);this._setFocusedDate(t);this._updateHeader(t);this._setDisabledMonths(t.getYear());if(s){this.fireStartDateChange()}}}break;case 2:if(!this.getPickerPopup()){this._getYearPicker().nextPage();P.call(this)}break;case 3:if(!this.getPickerPopup()){this.getAggregation("yearRangePicker").nextPage();P.call(this)}break}};f.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var r=this._getDays();t.push(a);if(r>this._getDaysLarge()){var i=new o(e,this.getPrimaryCalendarType());i.setDate(i.getDate()+r-1);var s=i.getMonth();while(a!=s){a=(a+1)%12;t.push(a)}}return t};f.prototype._getDisplayedSecondaryMonths=function(e,t){var a=this._getDays();var r=new o(this._getStartDate(),t);var i=r.getMonth();var s=new o(r,this.getPrimaryCalendarType());s.setDate(s.getDate()+a-1);s=new o(s,t);var n=s.getMonth();return{start:i,end:n}};f.prototype._openPickerPopup=function(e){if(!this._oPopup){var t=new u({placement:"VerticalPreferredBottom",showHeader:false,showArrow:false,verticalScrolling:false});t.oPopup.setDurations(0,0);t.addEventDelegate({onsapescape:function(e){this._oCalendar.onsapescape(e);this._hideOverlay()}},this);this._oPopup=t}this._oPopup.addContent(e);this._oPopup.attachAfterClose(function(){this._closeCalendarPicker(true);this._hideOverlay()},this);this._oPopup.attachAfterOpen(function(){var e=a.$("B1");var t=this._oPopup.$();var r=Math.floor((t.width()-e.width())/2);this._oPopup.setOffsetX(h.getRTL()?r:-r);var i=e.height();this._oPopup.setOffsetY(this._oPopup._getCalculatedPlacement()==="Top"?i:-i)},this);var a=this.getAggregation("header");this._oPopup.openBy(a.getDomRef("B1"))};f.prototype._getMaxDateAlignedToMinDate=function(e,t){var a=new o(e,this.getPrimaryCalendarType());if(a.isBefore(t)){a=new o(t);a.setDate(a.getDate()+this._getDays()-1)}return a};f.prototype._getStartDateAlignedToMinAndMaxDate=function(e,t,a){var r=new o(a,this.getPrimaryCalendarType());if(r.isBefore(t)){r=new o(t,this.getPrimaryCalendarType())}else if(r.isAfter(e)){r=e}return r};f.prototype._calculateStartDate=function(e,t,a){var r=new o(e,this.getPrimaryCalendarType());r.setDate(r.getDate()-this._getDays()+1);r=this._getMaxDateAlignedToMinDate(r,t);a=this._getStartDateAlignedToMinAndMaxDate(r,t,a);return a};f.prototype._setStartDate=function(e,t,a){e=this._calculateStartDate(this._oMaxDate,this._oMinDate,e);var r=e.toLocalJSDate();this.setProperty("startDate",r,true);this._oStartDate=e;var i=this.getAggregation("month")[0];i.setStartDate(r);this._updateHeader(e);if(t){var s=this._getFocusedDate().toLocalJSDate();if(!i.checkDateFocusable(s)){this._setFocusedDate(e);i.setDate(r)}else{i.setDate(s)}}if(!a){this.fireStartDateChange()}};f.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=this._getFocusedDate()}return this._oStartDate};function y(e){var t=new o(this._getFocusedDate(),this.getPrimaryCalendarType());this._togglePrevNext(t)}function P(e){this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString())}return f});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarDateIntervalRenderer", ["sap/ui/core/Renderer","./CalendarRenderer"],function(e,a){"use strict";var n=e.extend(a);n.apiVersion=2;n.renderCalContentOverlay=function(){};n.renderCalContentAndArrowsOverlay=function(e,a,n){if(a.getPickerPopup()){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");if(!a._oPopup||!a._oPopup.isOpen()){e.style("display","none")}e.openEnd();e.close("div")}};n.addAttributes=function(e,a){e.class("sapUiCalInt");e.class("sapUiCalDateInt");var n=a._getDays();if(n>a._getDaysLarge()){e.class("sapUiCalIntLarge")}if(n>a._iDaysMonthHead){e.class("sapUiCalIntHead")}if(a.getShowDayNamesLine()){e.class("sapUiCalWithDayNamesLine")}if(a.getShowWeekNumbers()){e.class("sapUiCalWithWeekNumbers")}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend", ["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem","sap/ui/Device","sap/ui/core/delegate/ItemNavigation"],function(e,t,i,a,n,r,jQuery,o,s,d){"use strict";var p=r.getResourceBundleFor("sap.ui.unified");var g=t.CalendarDayType;var l=t.StandardCalendarLegendItem;var u=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,i){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){i=t}if(!i||i&&!i.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true;this._oItemNavigation=null},renderer:i});u.prototype.onAfterRendering=function(){if(!s.system.phone&&this._oParentControl){this._initItemNavigation()}};u.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!l[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};u.prototype._initItemNavigation=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[],i,a=[],n,r;i=e.concat(t);if(!i.length){return}r=i[0].getDomRef().parentElement;i.forEach(function(e,t){n=e.getFocusDomRef();n.setAttribute("tabindex","-1");a.push(n)});if(!this._oItemNavigation){this._oItemNavigation=(new d).setCycling(false).attachEvent(d.Events.AfterFocus,this._onItemNavigationAfterFocus,this).attachEvent(d.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta","ctrl"],sapprevious:["alt","meta","ctrl"],saphome:["alt","meta","ctrl"],sapend:["meta","ctrl"]});this.addDelegate(this._oItemNavigation)}this._oItemNavigation.setRootDomRef(r).setItemDomRefs(a).setPageSize(i.length).setFocusedIndex(0)};u.prototype._onItemNavigationAfterFocus=function(e){var t=e.getSource(),i=t.getItemDomRefs()[t.getFocusedIndex()],a=n.getElementById(i.id).getType(),r=n.getElementById(i.id).getColor(),o=this._getParent();this._setSpecialDateTypeFilter(a);this._setSpecialDateColorFilter(r);o&&o.invalidate()};u.prototype._onItemNavigationFocusLeave=function(e){var t=this._getParent();this._setSpecialDateColorFilter();this._setSpecialDateTypeFilter();t&&t.invalidate()};u.prototype._setSpecialDateTypeFilter=function(e){this._sSpecialDateTypeFilter=e||""};u.prototype._setSpecialDateColorFilter=function(e){this._sSpecialDateColorFilter=e||""};u.prototype._getSpecialDateTypeFilter=function(){return this._sSpecialDateTypeFilter||""};u.prototype._getSpecialDateColorFilter=function(){return this._sSpecialDateColorFilter||""};u.prototype._setParent=function(e){this._oParentControl=e};u.prototype._getParent=function(){return this._oParentControl};u.prototype._getLegendAriaLabel=function(){return p.getText("LEGEND_ARIA_LABEL")};u.prototype._addStandardItems=function(e,t){var i,a=this.getId();if(t){this.destroyAggregation("_standardItems")}for(i=0;i<e.length;i++){var n=new o(a+"-"+e[i],{text:p.getText(u._Standard_Items_TextKeys[e[i]])});this.addAggregation("_standardItems",n)}};u._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};u.prototype._getItemType=function(e,t){var i=e.getType(),n,r;if(i&&i!==g.None){return i}r=this._getUnusedItemTypes(t);n=t.filter(function(e){return!e.getType()||e.getType()===g.None}).indexOf(e);if(n<0){a.error("Legend item is not in the legend",this);return i}if(r[n]){i=r[n]}else{i="Type"+(Object.keys(g).length+n-r.length-1)}return i};u.prototype._getItemByType=function(e){var t,i=this.getItems(),a;for(a=0;a<i.length;a++){if(this._getItemType(i[a],i)===e){t=i[a];break}}return t};u.prototype._getUnusedItemTypes=function(e){var t=jQuery.extend({},g),i,a;delete t[g.None];delete t[g.NonWorking];delete t[g.Working];for(a=0;a<e.length;a++){i=e[a].getType();if(t[i]){delete t[i]}}return Object.keys(t)};u.prototype._extractItemIdsString=function(e){return e.map(function(e){return e.getId()}).join(" ")};u.prototype._getAllItems=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[];return e.concat(t)};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendItem", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=a.CalendarDayType;var u=e.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:r.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return u});
/*
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer", ["sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/unified/library"],function(e,t,i){"use strict";var n={apiVersion:2};n.render=function(e,t){var n=t.getAggregation("_standardItems"),r=t.getItems(),d=this.defineItemsLength(t,r.length),a=(n?n.length:0)+(r?r.length:0),s="",o=4,l,g,p,c,f=1;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.attr("aria-label",t._getLegendAriaLabel());e.attr("role","list");s=t._extractItemIdsString(t._getAllItems());e.attr("aria-owns",s);e.openEnd();this.renderItemsHeader(e,t);if(n||r){e.openStart("div");e.class("sapUiUnifiedLegendItems");p=t.getColumnWidth();e.style("column-width",p);e.style("-moz-column-width",p);e.style("-webkit-column-width",p);e.openEnd();if(n){g=t.getId().length+1;for(l=0;l<n.length;++l){var u="sapUiUnifiedLegend"+n[l].getId().slice(g);this.renderLegendItem(e,u,n[l],["sapUiUnifiedLegendSquareColor"],f++,a)}}if(r){for(l=0;l<d;l++){c=t._getItemType(r[l],r);if(c===i.CalendarDayType.NonWorking){o=0}this.renderLegendItem(e,"sapUiCalLegDayType"+c.slice(o),r[l],["sapUiUnifiedLegendSquareColor"],f++,a)}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};n.renderLegendItem=function(e,t,i,n,r,d){var a=i.getText();var s=i.getTooltip_AsString();e.openStart("div",i);if(s){e.attr("title",s)}e.attr("role","listitem");e.attr("aria-posinset",r);e.attr("aria-setsize",d);e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(a);e.close("div");e.close("div")};n.renderItemsHeader=function(e,t){};n.renderAdditionalContent=function(e,t){};n.defineItemsLength=function(e,t){return t};n.renderAdditionalItems=function(e,t){};n.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};n.addCalendarTypeAccInfo=function(e,t,i){var r,d;if(i){var a=i._getItemByType(t);if(a){r=a.getText()}}if(r){e["label"]=e["label"]?e["label"]+"; "+r:r}else{d=n.getTypeAriaText(t);if(d){e["describedby"]=e["describedby"]?e["describedby"]+" "+d.getId():d.getId()}}};n.typeARIATexts={};n.getTypeAriaText=function(i){var r,d;if(i.indexOf("Type")!==0){return}if(!n.typeARIATexts[i]){r=t.getResourceBundleFor("sap.ui.unified");d=r.getText("LEGEND_UNNAMED_TYPE",[parseInt(i.slice(4)).toString()]);n.typeARIATexts[i]=new e({text:d});n.typeARIATexts[i].toStatic()}return n.typeARIATexts[i]};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarMonthInterval", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/m/Popover","sap/ui/Device","sap/ui/core/Control","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","./calendar/CalendarUtils","./calendar/CustomYearPicker","./calendar/Header","./calendar/MonthsRow","./calendar/YearPicker","./calendar/CalendarDate","./CalendarMonthIntervalRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/unified/DateRange"],function(t,e,a,i,s,o,r,n,h,c,l,g,u,D,f,d,p,_,v){"use strict";var M=s.extend("sap.ui.unified.CalendarMonthInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:12},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},_currentPicker:{type:"string",group:"Appearance",defaultValue:"monthsRow",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},monthsRow:{type:"sap.ui.unified.calendar.MonthsRow",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}},renderer:f});var m={MONTHS_ROW:"monthsRow",YEAR_PICKER:"yearPicker"};M.prototype.init=function(){this._iMode=0;this.data("sap-ui-fastnavgroup","true",true);this._oYearFormat=n.getDateInstance({format:"y"});this._oMinDate=h._minDate();this._oMaxDate=h._maxDate();this._initializeHeader();this._initializeMonthsRow();this._initilizeYearPicker();this._iDaysMonthsHead=15};M.prototype.exit=function(){if(this._sInvalidateContent){clearTimeout(this._sInvalidateContent)}if(this._oPopup){this._oPopup.destroy();this._oPopup=null}if(this._oCustomYearPicker){this._oCustomYearPicker.removeDelegate(this._oFocusCYPDelegate);this._oCustomYearPicker.destroy();this._oCustomYearPicker=null}};M.prototype.onBeforeRendering=function(){var t=this.getAggregation("monthsRow");var e=this._getFocusedDate();C.call(this);t.displayDate(e.toLocalJSDate())};M.prototype._setAriaRole=function(t){var e=this.getAggregation("monthsRow");e._setAriaRole(t);e.invalidate();return this};M.prototype._initializeHeader=function(){var t=new l(this.getId()+"--Head",{visibleButton0:false,visibleButton1:false,visibleButton2:true});t.attachEvent("pressPrevious",this._handlePrevious,this);t.attachEvent("pressNext",this._handleNext,this);t.attachEvent("pressButton2",L,this);this.setAggregation("header",t)};M.prototype._initializeMonthsRow=function(){var t=new g(this.getId()+"--MonthsRow");t.attachEvent("focus",O,this);t.attachEvent("select",J,this);t._bNoThemeChange=true;this.setAggregation("monthsRow",t)};M.prototype._initilizeYearPicker=function(){var t=this._createYearPicker();this.setAggregation("yearPicker",t);t._setSelectedDatesControlOrigin(this)};M.prototype._createYearPicker=function(){var t=new u(this.getId()+"--YP",{columns:0,years:6});t.attachEvent("select",B,this);t.attachEvent("pageChange",T,this);t._oMinDate.setYear(this._oMinDate.getYear());t._oMaxDate.setYear(this._oMaxDate.getYear());return t};M.prototype._getCalendarPicker=function(){var t;if(!this._oCustomYearPicker){t=new c(this.getId()+"--Cal");t.attachEvent("select",E,this);t.attachEvent("cancel",function(t){this._oPopup.close();var e=this.getAggregation("header").getDomRef("B2");if(e){e.focus()}},this);this._oFocusCYPDelegate={onAfterRendering:function(){this.focus()}};t.addDelegate(this._oFocusCYPDelegate,t);this._oCustomYearPicker=t}return this._oCustomYearPicker};M.prototype.setStartDate=function(t){h._checkJSDateObject(t);if(p(this.getStartDate(),t)){return this}var e=t.getFullYear();h._checkYearInValidRange(e);this.setProperty("startDate",t,true);this._oStartDate=D.fromLocalJSDate(t);this._oStartDate.setDate(1);var a=this.getAggregation("monthsRow");a.setStartDate(t);C.call(this);var i=this._getFocusedDate().toLocalJSDate();if(!a.checkDateFocusable(i)){this._setFocusedDate(this._oStartDate);a.displayDate(t)}return this};M.prototype.invalidate=function(t){if(!this._bDateRangeChanged&&(!t||!(t instanceof v))){s.prototype.invalidate.apply(this,arguments)}else if(this.getDomRef()&&this._iMode==0&&!this._sInvalidateContent){this._sInvalidateContent=setTimeout(N.bind(this),0)}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var t=this.removeAllAggregation("selectedDates");return t};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var t=this.destroyAggregation("selectedDates");return t};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var t=this.removeAllAggregation("specialDates");return t};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var t=this.destroyAggregation("specialDates");return t};M.prototype.setLocale=function(t){if(this._sLocale!=t){this._sLocale=t;this._oLocaleData=undefined;this.invalidate()}return this};M.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=new o(t.getLanguageTag()).toString()}return this._sLocale};M.prototype._getFocusedDate=function(){if(!this._oFocusedDate){k.call(this)}return this._oFocusedDate};M.prototype._setFocusedDate=function(t){h._checkCalendarDate(t);this._oFocusedDate=new D(t)};M.prototype.focusDate=function(t){var e=false;var a=this.getAggregation("monthsRow");if(t&&!a.checkDateFocusable(t)){H.call(this,D.fromLocalJSDate(t));e=true}R.call(this,t,false);if(e){this.fireStartDateChange()}return this};M.prototype.displayDate=function(t){R.call(this,t,true);return this};M.prototype.setMonths=function(t){this.setProperty("months",t,true);t=this._getMonths();var e=this.getAggregation("monthsRow");e.setMonths(t);if(!e.checkDateFocusable(this._getFocusedDate().toLocalJSDate())){var a=P.call(this);this._setFocusedDate(this._oStartDate);e.setDate(a.toLocalJSDate())}if(!this.getPickerPopup()){var i=this.getAggregation("yearPicker");var s=Math.floor(t/2);if(s>20){s=20}i.setYears(s)}C.call(this);if(this.getDomRef()){if(this._getShowItemHeader()){this.$().addClass("sapUiCalIntHead")}else{this.$().removeClass("sapUiCalIntHead")}}return this};M.prototype._getMonths=function(){var t=this.getMonths();if(i.system.phone&&t>6){return 6}else{return t}};M.prototype._getLocaleData=function(){if(!this._oLocaleData){var t=this.getLocale();var e=new o(t);this._oLocaleData=r.getInstance(e)}return this._oLocaleData};M.prototype.setPickerPopup=function(t){var e;this.setProperty("pickerPopup",t,true);if(t){if(this.getAggregation("yearPicker")){this.getAggregation("yearPicker").destroy()}}else{if(!this.getAggregation("yearPicker")){this.setAggregation("yearPicker",this._createYearPicker())}e=this.getAggregation("yearPicker");e.setColumns(0);e.setYears(6)}return this};M.prototype.setMinDate=function(t){if(p(t,this.getMinDate())){return this}if(!t){this._oMinDate=h._minDate()}else{h._checkJSDateObject(t);this._oMinDate=D.fromLocalJSDate(t);this._oMinDate.setDate(1);var e=this._oMinDate.getYear();h._checkYearInValidRange(e);if(this._oMaxDate.isBefore(this._oMinDate)){_.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=D.fromLocalJSDate(t);this._oMaxDate.setDate(h._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}if(this._oFocusedDate){if(this._oFocusedDate.isBefore(this._oMinDate)){_.warning("focused date < minDate -> minDate focused",this);this.focusDate(t)}}if(this._oStartDate&&this._oStartDate.isBefore(this._oMinDate)){_.warning("start date < minDate -> minDate set as start date",this);y.call(this,new D(this._oMinDate),true,true)}}this.setProperty("minDate",t,false);if(this.getPickerPopup()){var a=this._getCalendarPicker();a.setMinDate(t)}else{var i=this.getAggregation("yearPicker");i._oMinDate.setYear(this._oMinDate.getYear())}return this};M.prototype.setMaxDate=function(t){if(p(t,this.getMaxDate())){return this}if(!t){this._oMaxDate=h._maxDate()}else{h._checkJSDateObject(t);this._oMaxDate=D.fromLocalJSDate(t);this._oMaxDate.setDate(h._daysInMonth(this._oMaxDate));var e=this._oMaxDate.getYear();h._checkYearInValidRange(e);if(this._oMinDate.isAfter(this._oMaxDate)){_.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=D.fromLocalJSDate(t);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}if(this._oFocusedDate){if(this._oFocusedDate.isAfter(this._oMaxDate)){_.warning("focused date > maxDate -> maxDate focused",this);this.focusDate(t)}}if(this._oStartDate){var a=new D(this._oStartDate);a.setDate(1);a.setMonth(a.getMonth()+this._getMonths());a.setDate(0);if(a.isAfter(this._oMaxDate)){var i=new D(this._oMaxDate);i.setDate(1);i.setMonth(i.getMonth()-this._getMonths()+1);if(i.isSameOrAfter(this._oMinDate)){_.warning("end date > maxDate -> maxDate set as end date",this);y.call(this,i,true,true)}}}}this.setProperty("maxDate",t,false);if(this.getPickerPopup()){var s=this._getCalendarPicker();s.setMaxDate(t)}else{var o=this.getAggregation("yearPicker");o._oMaxDate.setYear(this._oMaxDate.getYear())}return this};M.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(t.target.id==this.getId()+"-cancel"){this.onsapescape(t)}};M.prototype.onmousedown=function(t){t.preventDefault();t.setMark("cancelAutoClose")};M.prototype.onsapescape=function(t){if(this.getPickerPopup()){I.call(this);this.fireCancel()}else{switch(this._iMode){case 0:this.fireCancel();break;case 1:A.call(this);break}}};M.prototype._handlePrevious=function(t){var e,a,i,s;switch(this._iMode){case 0:e=this._getFocusedDate();a=this._getMonths();i=new D(P.call(this));i.setMonth(i.getMonth()-a);e.setMonth(e.getMonth()-a);this._setFocusedDate(e);y.call(this,i,true);break;case 1:if(!this.getPickerPopup()){s=this.getAggregation("yearPicker");s.previousPage();Y.call(this)}break}};M.prototype._handleNext=function(t){var e,a,i,s;switch(this._iMode){case 0:e=this._getFocusedDate();a=this._getMonths();i=new D(P.call(this));i.setMonth(i.getMonth()+a);e.setMonth(e.getMonth()+a);this._setFocusedDate(e);y.call(this,i,true);break;case 1:if(!this.getPickerPopup()){s=this.getAggregation("yearPicker");s.nextPage();Y.call(this)}break}};M.prototype._showOverlay=function(){this.$("contentOver").css("display","")};M.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")};M.prototype._getShowItemHeader=function(){var t=this.getMonths();if(t>this._iDaysMonthsHead){return true}else{return false}};function y(t,e,a){var i=new D(this._oMaxDate);i.setDate(1);i.setMonth(i.getMonth()-this._getMonths()+1);if(i.isBefore(this._oMinDate)){i=new D(this._oMinDate);i.setMonth(i.getMonth()+this._getMonths()-1)}if(t.isBefore(this._oMinDate)){t=new D(this._oMinDate)}else if(t.isAfter(i)){t=i}t.setDate(1);var s=t.toLocalJSDate();this.setProperty("startDate",s,true);this._oStartDate=t;var o=this.getAggregation("monthsRow");o.setStartDate(s);C.call(this);if(e){var r=this._getFocusedDate().toLocalJSDate();if(!o.checkDateFocusable(r)){this._setFocusedDate(t);o.setDate(s)}else{o.setDate(r)}}if(!a){this.fireStartDateChange()}}function P(){if(!this._oStartDate){this._oStartDate=this._getFocusedDate();this._oStartDate.setDate(1)}return this._oStartDate}function S(t){var e=this._getFocusedDate();var a=this.getAggregation("monthsRow");if(!t){a.setDate(e.toLocalJSDate())}else{a.displayDate(e.toLocalJSDate())}C.call(this)}function k(){var t=this.getSelectedDates();if(t&&t[0]&&t[0].getStartDate()){this._oFocusedDate=D.fromLocalJSDate(t[0].getStartDate())}else{this._oFocusedDate=new D}this._oFocusedDate.setDate(1);if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new D(this._oMinDate)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new D(this._oMaxDate)}}function w(){var t=this._getFocusedDate();var e=this.getAggregation("yearPicker");this.setProperty("_currentPicker",m.YEAR_PICKER);this._showOverlay();e.setDate(t.toLocalJSDate());Y.call(this);this._iMode=1}function A(t){this._iMode=0;this.setProperty("_currentPicker",m.MONTHS_ROW);this._hideOverlay();if(!t){S.call(this)}}function C(){b.call(this);x.call(this)}function x(){var t=new D(P.call(this));var e=this._getMonths();var a=t.getYear();var i=this._oMaxDate.getYear();var s=this._oMinDate.getYear();var o=t.getMonth();var r=this._oMaxDate.getMonth();var n=this._oMinDate.getMonth();var h=this.getAggregation("header");if(a<s||a==s&&o<=n){h.setEnabledPrevious(false)}else{h.setEnabledPrevious(true)}t.setMonth(t.getMonth()+e-1);a=t.getYear();o=t.getMonth();if(a>i||a==i&&o>=r){h.setEnabledNext(false)}else{h.setEnabledNext(true)}}function Y(){var t=this.getAggregation("yearPicker");var e=t.getYears();var a=new D(t.getProperty("_middleDate"));a.setYear(a.getYear()+Math.floor(e/2));var i=this.getAggregation("header");var s=new D(this._oMaxDate);s.setYear(s.getYear()-Math.ceil(e/2));s.setMonth(11,31);var o=new D(this._oMinDate);o.setYear(o.getYear()+Math.floor(e/2)+1);o.setMonth(0,1);i.setEnabledNext(!a.isAfter(s));i.setEnabledPrevious(!a.isBefore(o))}function b(){var t;var e=P.call(this);var a=this._oYearFormat.format(e.toUTCJSDate(),true);var i=new D(e);i.setMonth(i.getMonth()+this._getMonths()-1);var s=this._oYearFormat.format(i.toUTCJSDate(),true);if(a!=s){var o=this._getLocaleData();var r=o.getIntervalPattern();t=r.replace(/\{0\}/,a).replace(/\{1\}/,s)}else{t=a}var n=this.getAggregation("header");n.setTextButton2(t)}function F(t,e){var a;var i=false;if(t.isBefore(this._oMinDate)){a=this._oMinDate;i=true}else if(t.isAfter(this._oMaxDate)){a=this._oMaxDate;i=true}else{a=t}this._setFocusedDate(a);if(i||e){H.call(this,a);S.call(this,false);this.fireStartDateChange()}}function R(t,e){if(!t){return}var a=D.fromLocalJSDate(t);if(this._oFocusedDate&&this._oFocusedDate.isSame(a)){return}var i=a.getYear();h._checkYearInValidRange(i);if(h._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){S.call(this,e)}}function L(t){var e;if(this.getPickerPopup()){this._showCalendarPicker()}else{if(this._iMode!=1){e=function(){var t=this.getAggregation("yearPicker");t.focus();t.removeDelegate(e)};w.call(this);this.getAggregation("yearPicker").addDelegate({onAfterRendering:e},this)}else{A.call(this)}}}M.prototype._showCalendarPicker=function(){var t=this._getFocusedDate(true).toLocalJSDate();var e=this._getCalendarPicker();var a=new v({startDate:t});var i=D.fromLocalJSDate(t);e.displayDate(t,false);i.setMonth(0,1);e._getYearPicker().setProperty("_middleDate",i);e.removeAllSelectedDates();e.addSelectedDate(a);e.setMinDate(this.getMinDate());e.setMaxDate(this.getMaxDate());V.call(this,e);this._showOverlay()};function I(t){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close()}this._hideOverlay();if(!t){S.call(this)}}function J(t){this.fireSelect()}function O(t){var e=D.fromLocalJSDate(t.getParameter("date"));var a=t.getParameter("notVisible");F.call(this,e,a)}function E(t){var e=new D(this._getFocusedDate());var a=this._getCalendarPicker();var i=a.getSelectedDates()[0].getStartDate();var s=D.fromLocalJSDate(i);s.setMonth(e.getMonth());s.setDate(e.getDate());F.call(this,s,true);I.call(this)}function B(t){var e=new D(this._getFocusedDate());var a=this.getAggregation("yearPicker");var i=D.fromLocalJSDate(a.getDate());var s={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(s)}};var o=this.getAggregation("monthsRow");i.setMonth(e.getMonth());i.setDate(e.getDate());e=i;F.call(this,e,true);A.call(this);o.addDelegate(s,o)}function N(){this._sInvalidateContent=undefined;var t=this.getAggregation("monthsRow");if(t){t._bDateRangeChanged=true;t._bInvalidateSync=true;t.invalidate();t._bInvalidateSync=undefined}this._bDateRangeChanged=undefined}function H(t){var e=this.getAggregation("monthsRow");var a=P.call(this);var i=e._oItemNavigation.getFocusedIndex();a=new D(t);a.setMonth(a.getMonth()-i);y.call(this,a,false,true)}function V(t){if(!this._oPopup){var i=new a({placement:"VerticalPreferredBottom",showHeader:false,showArrow:false,verticalScrolling:false});i.oPopup.setDurations(0,0);i.addEventDelegate({onsapescape:function(t){this._oCustomYearPicker.onsapescape(t);this._hideOverlay()}},this);this._oPopup=i}this._oPopup.addContent(t);this._oPopup.attachAfterClose(function(){this._hideOverlay()},this);this._oPopup.attachAfterOpen(function(){var t=s.$("B2");var a=this._oPopup.$();var i=Math.floor((a.width()-t.width())/2);this._oPopup.setOffsetX(e.getRTL()?i:-i);var o=t.height();this._oPopup.setOffsetY(this._oPopup._getCalculatedPlacement()==="Top"?o:-o)},this);var s=this.getAggregation("header");this._oPopup.openBy(s.getDomRef("B2"))}function T(t){Y.call(this)}return M});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarMonthIntervalRenderer", ["sap/ui/core/Lib"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,a){var n=a.getId();var i=a.getTooltip_AsString();t.openStart("div",a);t.class("sapUiCal");t.class("sapUiCalInt");t.class("sapUiCalMonthInt");if(a._getShowItemHeader()){t.class("sapUiCalIntHead")}var o=e.getResourceBundleFor("sap.ui.unified");var r={labelledby:{value:"",append:false}};if(a._bPoupupMode){r["role"]="dialog"}else{r["role"]="group";r["roledescription"]=o.getText("CALENDAR_DIALOG")}t.accessibilityState(a,r);if(i){t.attr("title",i)}var s=a.getWidth();if(s&&s!=""){t.style("width",s)}t.openEnd();var l=a.getAggregation("header");t.renderControl(l);t.openStart("div",n+"-content");t.class("sapUiCalContent");t.openEnd();t.renderControl(a.getAggregation(a.getProperty("_currentPicker")));t.close("div");t.openStart("button",n+"-cancel");t.class("sapUiCalCancel");t.attr("tabindex","-1");t.openEnd();t.text(o.getText("CALENDAR_CANCEL"));t.close("button");if(a.getPickerPopup()){t.openStart("div",n+"-contentOver");t.class("sapUiCalContentOver");if(!a._oPopup||!a._oPopup.isOpen()){t.style("display","none")}t.openEnd();t.close("div")}t.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarOneMonthInterval", ["sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/Calendar","./library","sap/ui/unified/CalendarDateInterval","sap/ui/unified/calendar/OneMonthDatesRow","sap/ui/unified/DateRange","./CalendarOneMonthIntervalRenderer"],function(t,e,a,n,i,o,r,s,h){"use strict";var g=o.extend("sap.ui.unified.CalendarOneMonthInterval",{renderer:h});g.prototype.init=function(){o.prototype.init.apply(this,arguments);this._bShowOneMonth=true};g.prototype._getCalendar=function(){var n;if(!this._oCalendar){n=new t(this.getId()+"--Cal");n.attachEvent("select",function(){var t=this._getCalendar(),n=t._getFocusedDate(),i=e._getFirstDateOfMonth(new a(n,this.getPrimaryCalendarType()));var o=this.getAggregation("month")[0];this._setStartDate(i);if(o.getMode()<2){i=this._getStartDate()}this._adjustSelectedDate(i);this._oFocusDateOneMonth=i;this._closeCalendarPicker(true);this._focusDate(n,false,true)},this);n.attachEvent("cancel",function(t){var e=this._getCalendar(),a=e._getFocusedDate();this._closeCalendarPicker(true);this._oFocusDateOneMonth=a;this._focusDate(a,true);var n=this.getAggregation("header").getDomRef("B1");if(n){n.focus()}},this);this._oCalendar=n}return this._oCalendar};g.prototype._createMonth=function(t){return new r(t)};g.prototype._handleFocus=function(t){var n=!!t.getParameter("_outsideBorder"),i=t.getParameter("date"),r=a.fromLocalJSDate(i,this.getPrimaryCalendarType()),s=a.fromLocalJSDate(this.getStartDate()),h=!e._isSameMonthAndYear(r,s),g,l,u;if(n||h){if(e._isLastDateInMonth(r)){this._oFocusDateOneMonth=r}else{this._oFocusDateOneMonth=e._getFirstDateOfMonth(r)}g=r.isBefore(s)?-1:1;l=new a(this._getFocusedDate(),this.getPrimaryCalendarType());u=new a(this._getStartDate(),this.getPrimaryCalendarType());o.prototype._shiftStartFocusDates.call(this,l,u,g)}return o.prototype._handleFocus.apply(this,arguments)};g.prototype._focusDateExtend=function(t,e,a){var n,i;if(!this._oFocusDateOneMonth){return o.prototype._focusDateExtend.apply(this,arguments)}n=this.getAggregation("month")[0];i=this._oFocusDateOneMonth.toLocalJSDate();this._setFocusedDate(this._oFocusDateOneMonth);n._bNoRangeCheck=true;n.setDate(i);n._bNoRangeCheck=false;this._oFocusDateOneMonth=null;return!a};g.prototype._setDisplayMode=function(t){this.getAggregation("month")[0].setMode(t)};g.prototype._shiftStartFocusDates=function(t,e,n){var i=n,o=this.getAggregation("month")[0],r,s;if(i!==0){i=i>0?1:-1}t.setMonth(t.getMonth()+i);e.setYear(t.getYear());e.setMonth(t.getMonth(),t.getDate());this._setFocusedDate(e);this._setStartDate(t,true);r=this.getStartDate();s=a.fromLocalJSDate(r,this.getPrimaryCalendarType());if(this.getMinDate()&&this.getMinDate().getTime()>r.getTime()){s=a.fromLocalJSDate(this.getMinDate(),this.getPrimaryCalendarType())}if(this.getMaxDate()&&this.getMaxDate().getTime()<r.getTime()){s=a.fromLocalJSDate(this.getMaxDate(),this.getPrimaryCalendarType())}o.selectDate(s.toLocalJSDate());if(o.getMode()<2){this.fireSelect()}};g.prototype._adjustSelectedDate=function(t){var e=this.getAggregation("month")[0];if(e.getMode&&e.getMode()<2){this._selectDate(t)}};g.prototype._selectDate=function(t){var e=this.getAggregation("month")[0],a=t.toLocalJSDate();this.removeAllSelectedDates();this.addSelectedDate(new s({startDate:a}));e.selectDate(a);this._bDateRangeChanged=undefined};g.prototype._dateMatchesVisibleRange=function(t){return e._isSameMonthAndYear(a.fromLocalJSDate(this.getStartDate()),a.fromLocalJSDate(t))};g.prototype._togglePrevNext=function(t,n){var i=this.getAggregation("header");var o=this._oMaxDate.getYear();var r=this._oMinDate.getYear();var s=this._oMaxDate.getMonth();var h=this._oMinDate.getMonth();var g=e._getFirstDateOfMonth(new a(t,this.getPrimaryCalendarType()));var l=new a(g),u,d;l.setMonth(l.getMonth()+1);u=g.getYear();d=g.getMonth();if(u<r||u==r&&(!n||d<=h)){i.setEnabledPrevious(false)}else{i.setEnabledPrevious(true)}u=l.getYear();d=l.getMonth();if(u>o||u==o&&(!n||d>s)){i.setEnabledNext(false)}else{i.setEnabledNext(true)}};g.prototype._setMinMaxDateExtend=function(t){return n.prototype._setMinMaxDateExtend.apply(this,arguments)};return g});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarOneMonthIntervalRenderer", ["sap/ui/core/Renderer","./CalendarDateIntervalRenderer"],function(e,t){"use strict";var n=e.extend(t);n.apiVersion=2;n.addAttributes=function(e,n){t.addAttributes.apply(this,arguments);e.class("sapUiCalOneMonthInt")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer", ["sap/ui/core/Lib"],function(e){"use strict";var t={apiVersion:2};var n={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};t.render=function(t,r){var a=r.getId(),i=r.getTooltip_AsString(),o=r.getAggregation("month"),s=r.getProperty("_currentPicker"),l=r.getWidth(),c=e.getResourceBundleFor("sap.ui.unified"),d={labelledby:{value:"",append:!r._oSpecialDatesControlOrigin},role:r._oSpecialDatesControlOrigin?"":"group",roledescription:r._oSpecialDatesControlOrigin?"":c.getText("CALENDAR_DIALOG")};t.openStart("div",r);t.class("sapUiCal");if(o.length>1){t.class("sapUiCalMulti")}t.accessibilityState(r,d);if(i){t.attr("title",i)}if(l){t.class("sapUiCalWidth");t.style("width",l)}if(r._getSecondaryCalendarType()){t.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(t,r)}t.openEnd();var C=r.getAggregation("header");t.renderControl(C);t.openStart("div",a+"-content");t.class("sapUiCalContent");t.openEnd();if(r.getMonths()>1){switch(s){case n.MONTH_PICKER:case n.YEAR_PICKER:case n.YEAR_RANGE_PICKER:this.renderMonths(t,r,o);this.renderCalContentOverlay(t,r,a);break}}switch(s){case n.MONTH:this.renderMonths(t,r,o);break;case n.MONTH_PICKER:t.renderControl(r._getMonthPicker());break;case n.YEAR_PICKER:t.renderControl(r._getYearPicker());break;case n.YEAR_RANGE_PICKER:t.renderControl(r._getYearRangePicker());break}t.close("div");if(!r._bSkipCancelButtonRendering){t.openStart("button",a+"-cancel");t.class("sapUiCalCancel");t.attr("tabindex","-1");t.openEnd();t.text(c.getText("CALENDAR_CANCEL"));t.close("button")}this.renderCalContentAndArrowsOverlay(t,r,a);t.close("div")};t.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};t.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};t.renderCalContentAndArrowsOverlay=function(e,t,n){};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRow", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","./library","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","./CalendarRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarAppointment","sap/ui/core/library","sap/ui/core/date/UI5Date"],function(e,t,i,n,a,r,s,o,p,l,u,g,h,d,c,jQuery,f,m,v){"use strict";var T=p.CalendarDayType;var C=p.CalendarAppointmentVisualization;var A=p.GroupAppointmentsMode;var _=p.CalendarIntervalType;var U=p.CalendarAppointmentHeight;var y=p.CalendarAppointmentRoundWidth;var D=i.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalSize:{type:"int",group:"Appearance",defaultValue:1},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:_.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:true},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:true},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:A.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:C.Standard},appointmentHeight:{type:"sap.ui.unified.CalendarAppointmentHeight",group:"Appearance",defaultValue:U.Regular},appointmentRoundWidth:{type:"sap.ui.unified.CalendarAppointmentRoundWidth",group:"Appearance",defaultValue:y.None},multipleAppointmentsSelection:{type:"boolean",group:"Data",defaultValue:false}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",defaultClass:f,multiple:true,singularName:"appointment"},nonWorkingPeriods:{type:"sap.ui.unified.NonWorkingPeriod",multiple:true},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"groupAppointment",visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}},renderer:d});D.prototype.init=function(){this._bRTL=t.getRTL();this._oRb=a.getResourceBundleFor("sap.ui.unified");var e=this._oRb.getText("APPOINTMENT_DATE_TIME_DESCRIPTION",[I.call(this).getDatePattern("long"),I.call(this).getTimePattern("medium")]);this._oFormatAria=u.getDateTimeInstance({pattern:"EEEE "+e});this._aVisibleAppointments=[];this._aVisibleIntervalHeaders=[];this.setStartDate(v.getInstance());this._resizeProxy=jQuery.proxy(this.handleResize,this);this.aSelectedAppointments=[];this._fnCustomSortedAppointments=undefined};D.prototype.exit=function(){if(this._sResizeListener){g.deregister(this._sResizeListener);this._sResizeListener=undefined}if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}this._fnCustomSortedAppointments=undefined};D.prototype.onBeforeRendering=function(){this._aVisibleAppointments=[];M.call(this);H.call(this);z.call(this);if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}if(!this.getAppointments().length){this.aSelectedAppointments=[]}else{this.getAppointments().forEach(function(e){this._updateSelectedAppointmentsArray(e)}.bind(this))}};D.prototype.onAfterRendering=function(){F.call(this);this.updateCurrentTimeVisualization();if(this.getCheckResize()&&!this._sResizeListener){this._sResizeListener=g.register(this,this._resizeProxy)}};D.prototype.onThemeChanged=function(e){if(this.getDomRef()){for(var t=0;t<this._aVisibleAppointments.length;t++){var i=this._aVisibleAppointments[t];i.level=-1}this.handleResize(e)}};D.prototype.invalidate=function(e){if(e&&e instanceof f){var t=false;for(var n=0;n<this._aVisibleAppointments.length;n++){if(this._aVisibleAppointments[n].appointment==e){t=true;break}}if(t){this._aVisibleAppointments=[]}this._updateSelectedAppointmentsArray(e)}i.prototype.invalidate.apply(this,arguments)};D.prototype.setStartDate=function(e){if(!e){e=v.getInstance()}s._checkJSDateObject(e);var t=e.getFullYear();s._checkYearInValidRange(t);this._oUTCStartDate=s._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);return this};D.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=s._createUniversalUTCDate(this.getStartDate(),undefined,true)}return this._oUTCStartDate};D.prototype.setIntervalType=function(e){this.setProperty("intervalType",e);this._aVisibleAppointments=[];return this};D.prototype._getAppointmentReducedHeight=function(e){var t=!n.system.phone&&this.getAppointmentsReducedHeight()&&e.size===U.Regular;return t};D.prototype.onfocusin=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){N.call(this,e.target.id)}else{var t=this._getVisibleAppointments();var i=false;var n;for(var a=0;a<t.length;a++){n=t[a].appointment;if(c(n.getDomRef(),e.target)){i=true;n.focus();break}}if(!i){n=this.getFocusedAppointment();if(n){n.focus()}}}};D.prototype.applyFocusInfo=function(e){if(this._sFocusedAppointmentId){this.getFocusedAppointment().focus()}return this};D.prototype.onsapleft=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){Y.call(this,this._bRTL,1)}e.preventDefault();e.stopPropagation()};D.prototype.onsapright=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){Y.call(this,!this._bRTL,1)}e.preventDefault();e.stopPropagation()};D.prototype.onsapup=function(e){this.fireLeaveRow({type:e.type})};D.prototype.onsapdown=function(e){this.fireLeaveRow({type:e.type})};D.prototype.onsaphome=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};D.prototype.onsapend=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};D.prototype.onsapselect=function(e){var t=this._getVisibleAppointments(),i;for(var n=0;n<t.length;n++){i=t[n].appointment;if(c(i.getDomRef(),e.target)){var a=!(this.getMultipleAppointmentsSelection()||e.ctrlKey||e.metaKey);P.call(this,i,a);break}}e.stopPropagation();e.preventDefault()};D.prototype.ontap=function(e){var t=this.$("Apps").children(".sapUiCalendarRowAppsInt");var i=0;var n=false;for(i=0;i<t.length;i++){var a=t[i];if(!this._isOneMonthsRowOnSmallSizes()&&c(a,e.target)){n=true;break}}if(n){B.call(this,i,e.target)}else{this.onsapselect(e)}};D.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};D.prototype.handleResize=function(e){if(e&&e.size&&e.size.width<=0){return this}var t=this.$("DummyApp");t.css("display","");F.call(this);return this};D.prototype.updateCurrentTimeVisualization=function(){var e=this.$("Now");var t=s._createUniversalUTCDate(v.getInstance(),undefined,true);var i=this.getIntervals();var n=this.getIntervalType();var a=this._getStartDate();var r=a.getTime();var o=this._oUTCEndDate;var p=o.getTime();this._sUpdateCurrentTime=undefined;if(t.getTime()<=p&&t.getTime()>=r){var l=V.call(this,n,i,a,o,r,t);var u=0;if(this._bRTL){e.css("right",l+"%")}else{e.css("left",l+"%")}e.css("display","");if(this.getUpdateCurrentTime()){switch(n){case _.Hour:u=6e4;break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":u=18e5;break;default:u=-1;break}if(u>0){this._sUpdateCurrentTime=setTimeout(this.updateCurrentTimeVisualization.bind(this),u)}}}else{e.css("display","none")}return this};D.prototype.getFocusedAppointment=function(){var e=this._getAppointmentsSorted();var t=this.getAggregation("groupAppointments",[]);var i;var n=0;for(n=0;n<t.length;n++){if(t[n].getId()==this._sFocusedAppointmentId){i=t[n];break}}if(!i){for(n=0;n<e.length;n++){if(e[n].getId()==this._sFocusedAppointmentId){i=e[n];break}}}return i};D.prototype.focusAppointment=function(e){if(!e||!(e instanceof f)){throw new Error("Appointment must be a CalendarAppointment; "+this)}var t=e.getId();if(this._sFocusedAppointmentId!=t){N.call(this,t)}else{e.focus()}return this};D.prototype.focusNearestAppointment=function(e){s._checkJSDateObject(e);var t=this._getAppointmentsSorted();var i;var n;var a;for(var r=0;r<t.length;r++){i=t[r];if(i.getStartDate()>e){if(r>0){n=t[r-1]}else{n=i}break}}if(i){if(n&&Math.abs(i.getStartDate()-e)>=Math.abs(n.getStartDate()-e)){a=n}else{a=i}this.focusAppointment(a)}return this};D.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments};D.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders};D.prototype._getNonWorkingDays=function(){if(this.getIntervalSize()!==1){return[]}var e=this.getNonWorkingDays();if(!e){var t=I.call(this);var i=t.getWeekendStart();var n=t.getWeekendEnd();e=[];for(var a=0;a<=6;a++){if(i<=n&&a>=i&&a<=n||i>n&&(a>=i||a<=n)){e.push(a)}}}else if(!Array.isArray(e)){e=[]}return e};D.prototype._isOneMonthsRowOnSmallSizes=function(){return(this.getIntervalType()===_.OneMonth||this.getIntervalType()==="OneMonth")&&this.getIntervals()===1};D.prototype._getAppointmentsSorted=function(){var e=this.getAppointments(),t=j;e.sort(this._fnCustomSortedAppointments?this._fnCustomSortedAppointments:t);return e};D.prototype._setCustomAppointmentsSorterCallback=function(e){this._fnCustomSortedAppointments=e;this.invalidate()};D.prototype._calculateAppoitnmentVisualCue=function(e){if(b(this,e)){return{appTimeUnitsDifRowStart:0,appTimeUnitsDifRowEnd:0}}var t=e.getStartDate(),i=e.getEndDate(),n=new o(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),a=new o(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()),r=this.getIntervalType(),s=this.getStartDate(),p=r==="Hour"?new o(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()):new o(s.getFullYear(),s.getMonth(),s.getDate()),l=this.getIntervals(),u;switch(r){case"Hour":u=new o(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()+l);break;case"Day":case"Week":case"One Month":u=new o(s.getFullYear(),s.getMonth(),s.getDate()+l);break;case"Month":u=new o(s.getFullYear(),s.getMonth()+l,s.getDate());break;default:break}return{appTimeUnitsDifRowStart:p.getTime()-n.getTime(),appTimeUnitsDifRowEnd:a.getTime()-u.getTime()}};D.prototype._updateSelectedAppointmentsArray=function(e){if(e.getSelected()){if(this.aSelectedAppointments.indexOf(e.getId())===-1){this.aSelectedAppointments.push(e.getId())}}else{this.aSelectedAppointments=this.aSelectedAppointments.filter(function(t){return t!==e.getId()})}};function b(e,t){var i=e.getAggregation("groupAppointments",[]);var n;for(n=0;n<i.length;++n){if(t===i[n]){return true}}return false}function S(){if(!this._sLocale){this._sLocale=new h(e.getLanguageTag()).toString()}return this._sLocale}function I(){if(!this._oLocaleData){var e=S.call(this);var t=new h(e);this._oLocaleData=r.getInstance(t)}return this._oLocaleData}function M(){var e=this.getStartDate();var t;var i=this.getIntervals();var n=this.getIntervalType();this._oUTCStartDate=w.call(this,e);switch(n){case _.Hour:t=new o(this._oUTCStartDate.getTime());t.setUTCHours(t.getUTCHours()+i);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":t=new o(this._oUTCStartDate.getTime());t.setUTCDate(t.getUTCDate()+i*this.getIntervalSize());break;case _.Month:t=new o(this._oUTCStartDate.getTime());t.setUTCMonth(t.getUTCMonth()+i);break;default:throw new Error("Unknown IntervalType: "+n+"; "+this)}t.setUTCMilliseconds(-1);this._iRowSize=t.getTime()-this._oUTCStartDate.getTime();this._iIntervalSize=Math.floor(this._iRowSize/i);this._oUTCEndDate=t}function w(e){var t=this.getIntervalType();var i=s._createUniversalUTCDate(e,undefined,true);switch(t){case _.Hour:i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Month:i.setUTCDate(1);i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+t+"; "+this)}return i}function k(){return n.system.phone||this.getGroupAppointmentsMode()===A.Collapsed}function H(){var e=this._getAppointmentsSorted();var t;var i;var n;var a=this.getIntervals();var r=this.getIntervalType();var p=this._getStartDate();var l=p.getTime();var u=this._oUTCEndDate;var g=u.getTime();var h=[];var d=false;var c=0;var f=0;var m=k.call(this);var T=this._needAppointmentHorizontalFit();this.destroyAggregation("groupAppointments",true);for(c=0;c<e.length;c++){t=e[c];if(!t||!t.getStartDate()){continue}var C=s._createUniversalUTCDate(t.getStartDate(),undefined,true);var A=C.getTime();C.setUTCSeconds(0);C.setUTCMilliseconds(0);var U=t.getEndDate()?s._createUniversalUTCDate(t.getEndDate(),undefined,true):s._createUniversalUTCDate(v.getInstance(864e12),undefined,true);var y=U.getTime();U.setUTCSeconds(0);U.setUTCMilliseconds(0);var D=false;if(C.getTime()<l&&U.getTime()>=l){C=new o(l);D=true}if(U.getTime()>g&&C.getTime()<=g){U=new o(g);D=true}var b=(U.getTime()-C.getTime())/6e4;if(D&&b==0){continue}var S=0;var I=0;var M=-1;i=undefined;n=undefined;if(C&&C.getTime()<=g&&U&&U.getTime()>=l&&A<=y){if(m&&r==_.Month&&U.getTime()-C.getTime()<6048e5){i=R.call(this,C,t,r,a,p,u,l,h);var w=s._createUniversalUTCDate(i.getEndDate(),undefined,true);if(U.getTime()>w.getTime()){n=R.call(this,U,t,r,a,p,u,l,h)}}if(T){this._setHorizontalRoundingWidth(t,C,U)}S=V.call(this,r,a,p,u,l,C);I=E.call(this,r,a,p,u,l,U);if(i){i._iBegin=S;i._iEnd=I;i._iLevel=M;if(n){n._iBegin=S;n._iEnd=I;n._iLevel=M}continue}h.push({appointment:t,begin:S,end:I,calculatedEnd:I,level:M,size:this.getProperty("appointmentHeight")});if(this._sFocusedAppointmentId&&this._sFocusedAppointmentId==t.getId()){d=true}}}var H=this.getAggregation("groupAppointments",[]);if(H.length>0){for(c=0;c<h.length;c++){t=h[c];if(t.appointment._aAppointments&&t.appointment._aAppointments.length<=1){i=t.appointment;var z=false;if(i._aAppointments.length==0){z=true}else{for(f=0;f<h.length;f++){if(h[f].appointment==i._aAppointments[0]){z=true;break}}}if(!z){for(f=0;f<H.length;f++){n=H[f];if(i!=n){for(var F=0;F<n._aAppointments.length;F++){if(i._aAppointments[0]==n._aAppointments[F]){n._aAppointments.splice(F,1);if(n._aAppointments.length==1){this.removeAggregation("groupAppointments",n);n.destroy();H=this.getAggregation("groupAppointments",[])}else{n.setProperty("title",n._aAppointments.length,true)}break}}}}t.begin=i._iBegin;t.end=i._iEnd;t.calculatedEnd=i._iEnd;t.level=i._iLevel;t.appointment=i._aAppointments[0]}else{h.splice(c,1);c--}this.removeAggregation("groupAppointments",i);i.destroy();H=this.getAggregation("groupAppointments",[])}}}if(!d){if(h.length>0){this._sFocusedAppointmentId=h[0].appointment.getId()}else{this._sFocusedAppointmentId=undefined}}this._aVisibleAppointments=h;return this._aVisibleAppointments}function R(e,t,i,n,a,r,p,l){var u=this.getAggregation("groupAppointments",[]);var g;var h=I.call(this);var d=h.getFirstDayOfWeek();var c=e.getUTCDay();var m=new o(e.getTime());m.setUTCHours(0);m.setUTCMinutes(0);m.setUTCSeconds(0);m.setUTCMilliseconds(0);if(d<=c){m.setDate(m.getDate()-(c-d))}else{m.setDate(m.getDate()-(7-c-d))}for(var C=0;C<u.length;C++){g=u[C];var A=s._createUniversalUTCDate(g.getStartDate(),undefined,true);if(A.getTime()==m.getTime()){break}g=undefined}if(!g){var _=new o(m.getTime());_.setDate(_.getDate()+7);_.setMilliseconds(-1);g=new f(this.getId()+"-Group"+u.length,{type:t.getType(),startDate:s._createLocalDate(v.getInstance(m.getTime()),true),endDate:s._createLocalDate(v.getInstance(_.getTime()),true)});g._aAppointments=[];this.addAggregation("groupAppointments",g,true);var U=V.call(this,i,n,a,r,p,m);var y=E.call(this,i,n,a,r,p,_);l.push({appointment:g,begin:U,end:y,calculatedEnd:y,level:-1,size:this.getProperty("appointmentHeight")})}g._aAppointments.push(t);if(g.getType()!=T.None&&g.getType()!=t.getType()){g.setType(T.None)}g.setProperty("title",g._aAppointments.length,true);return g}function V(e,t,i,n,a,r){var s=0;if(e!=_.Month){s=100*(r.getTime()-a)/this._iRowSize}else{var p=new o(r.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();s=100*g/t+100*(r.getTime()-p.getTime())/u/t}if(s<0){s=0}s=Math.round(s*1e5)/1e5;return s}function E(e,t,i,n,a,r){var s=0;if(e!=_.Month){s=100-100*(r.getTime()-a)/this._iRowSize}else{var p=new o(r.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();s=100-(100*g/t+100*(r.getTime()-p.getTime())/u/t)}if(s<0){s=0}s=Math.round(s*1e5)/1e5;return s}function z(){var e=[];if(this.getShowIntervalHeaders()){var t=this.getIntervalHeaders();var i;var n=this.getIntervals();var a=this.getIntervalType();var r=this._getStartDate();var p=r.getTime();var l=this._oUTCEndDate;var u=l.getTime();var g=0;var h=0;for(g=0;g<t.length;g++){i=t[g];var d=s._createUniversalUTCDate(i.getStartDate(),undefined,true);d.setUTCSeconds(0);d.setUTCMilliseconds(0);var c=i.getEndDate()?s._createUniversalUTCDate(i.getEndDate(),undefined,true):s._createUniversalUTCDate(v.getInstance(864e12),undefined,true);c.setUTCSeconds(0);c.setUTCMilliseconds(0);if(d&&d.getTime()<=u&&c&&c.getTime()>=p){var f=new o(r.getTime());var m=new o(r.getTime());m.setUTCMinutes(m.getUTCMinutes()-1);var T=-1;var C=-1;for(h=0;h<n;h++){switch(a){case _.Hour:m.setUTCHours(m.getUTCHours()+1);if(h>0){f.setUTCHours(f.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":m.setUTCDate(m.getUTCDate()+1);if(h>0){f.setUTCDate(f.getUTCDate()+1)}break;case _.Month:m.setUTCDate(1);m.setUTCMonth(m.getUTCMonth()+2);m.setUTCDate(0);if(h>0){f.setUTCMonth(f.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+a+"; "+this)}if(d&&d.getTime()<=f.getTime()&&c&&c.getTime()>=m.getTime()){if(T<0){T=h}C=h}}if(T>=0){e.push({interval:T,appointment:i,last:C})}}}}this._aVisibleIntervalHeaders=e;return this._aVisibleIntervalHeaders}function F(){if(this._isOneMonthsRowOnSmallSizes()){return}var e=this.$("Apps");var t=e.innerWidth();if(t<=0){return}var i=this.$("DummyApp");var n=i.outerHeight(true);if(n<=0){return}var a=4;var r=i.outerWidth();var s=r/t*100;var o=Math.ceil(1e3*s)/1e3;var p;var l;var u=0;var g=0;var h=0;var d=false;var c;var f=this._needAppointmentHorizontalFit();if(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)){u=jQuery(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(true);d=true}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var m=Math.floor(1e3*(100-p.calculatedEnd-p.begin))/1e3;var v=false;if(m<o){p.end=100-p.begin-s;if(p.end<0){p.end=0}v=true;l.addClass("sapUiCalendarAppSmall")}else if(l.hasClass("sapUiCalendarAppSmall")){p.end=p.calculatedEnd;v=true;l.removeClass("sapUiCalendarAppSmall")}if(v){p.level=-1}if(v&&!f){if(this._bRTL){l.css("left",p.end+"%")}else{l.css("right",p.end+"%")}}if(f){p.end=p.calculatedEnd}}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var T={};if(p.level<0){for(var C=0;C<this._aVisibleAppointments.length;C++){var A=this._aVisibleAppointments[C];if(p!=A&&p.begin<Math.floor(1e3*(100-A.end))/1e3&&Math.floor(1e3*(100-p.end))/1e3>A.begin&&A.level>=0){this._setBlockedLevelsForAppointment(A,T)}}p.level=this._getAppointmetLevel(T,p);l.attr("data-sap-level",p.level)}c=n*p.level+u;if(!d){c+=a}l.css("top",c+"px");var _=p.level;_+=this._getAppointmentRowCount(p)-1;if(g<_){g=_}}g++;n=n*g+u;if(!d){n+=a}if(!this.getHeight()){e.outerHeight(n)}else{var U=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(h=0;h<U.length;h++){var y=jQuery(U[h]);y.outerHeight(n)}}i.css("display","none")}function L(e,t){var i=e.getColor();if(!i){return}var n=t?"transparent":e._getCSSColorForBackground(i),a=e.getDomRef();if(a){var r=a.querySelector(".sapUiCalendarAppCont");if(r){r.style.backgroundColor=n}}}function P(e,t){var i=0;var n;var a;var r;var s;var o;var p;var u=l.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED");var g=!e.getSelected();var h=this.getAppointmentsVisualization()===C.Filled;if(t){var d=this.getAppointments();var c=this.getAggregation("groupAppointments",[]);jQuery.merge(d,c);for(i=0;i<d.length;i++){n=d[i];if(n.getId()!==e.getId()&&n.getSelected()){n.setProperty("selected",false,true);n.$().removeClass("sapUiCalendarAppSel");for(var f=0;f<this.aSelectedAppointments.length;f++){if(this.aSelectedAppointments[f]!==n.getId()){this.aSelectedAppointments.splice(f)}}a=n.$().attr("aria-describedby");r=a?a.replace(u,""):"";n.$().attr("aria-describedby",r)}}}s=e.$().attr("aria-describedby");p=(s?s.replace(u,""):"").trim();o=(p+" "+u).trim();if(e.getSelected()){e.setProperty("selected",false,true);h&&L(e,false);e.$().removeClass("sapUiCalendarAppSel");if(p){e.$().attr("aria-describedby",p)}else{e.$().removeAttr("aria-describedby")}W(this,t)}else{e.setProperty("selected",true,true);h&&L(e,true);e.$().addClass("sapUiCalendarAppSel");e.$().attr("aria-describedby",o);W(this,t)}this._updateSelectedAppointmentsArray(e);if(e._aAppointments){for(i=0;i<e._aAppointments.length;i++){n=e._aAppointments[i];n.setProperty("selected",g,true)}this.fireSelect({appointments:e._aAppointments,multiSelect:!t,domRefId:e.getId()})}else{this.fireSelect({appointment:e,multiSelect:!t,domRefId:e.getId()})}}function O(e){var t=this._getPlanningCalendar();if(t){t["_onRow"+e]()}}D.prototype._needAppointmentHorizontalFit=function(){var e=this._getPlanningCalendar(),t,i,n;if(!e||this.getAppointmentRoundWidth()===y.None){return false}t=e.getViewKey();i=e._getView(t);n=e._getIntervals(i);return n>=20};D.prototype._setHorizontalRoundingWidth=function(e,t,i){var n;switch(this.getAppointmentRoundWidth()){case y.HalfColumn:n=12;break}this._roundAppointment(e,t,i,n)};D.prototype._roundAppointment=function(e,t,i,n){var a,r;a=e.getStartDate().getHours()-e.getStartDate().getHours()%n;t.setUTCHours(a);t.setUTCMinutes(0);t.setUTCSeconds(0);t.setUTCMilliseconds(0);r=e.getEndDate().getHours()-e.getEndDate().getHours()%n+n;i.setUTCHours(r);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0)};D.prototype._setBlockedLevelsForAppointment=function(e,t){var i=this._getAppointmentRowCount(e);for(var n=0;n<i;n++){t[e.level+n]=true}return t};D.prototype._getAppointmentRowCount=function(e){var t,i=this._getAppointmentReducedHeight(e);switch(e.size){case U.HalfSize:t=1;break;case U.Regular:t=2;if(i&&!e.appointment.getText()&&!e.appointment.getDescription()){t=1}break;case U.Large:t=3;break;case U.Automatic:t=1;if(e.appointment.getText()){t+=1}if(e.appointment.getDescription()){t+=1}break}return t};D.prototype._getAppointmetLevel=function(e,t){var i=0;var n=this._getAppointmentRowCount(t);var a=true;while(a){a=this._isPosibleToPositionAppointment(i,e,n);if(!a){a=true;i+=1}else{a=false}}return i};D.prototype._isPosibleToPositionAppointment=function(e,t,i){for(var n=e;n<i+e;n++){if(t[n]){return false}}return true};D.prototype._getPlanningCalendar=function(){var e=this;while(e.getParent()!==null){if(e.isA("sap.m.PlanningCalendar")){return e}e=e.getParent()}};D.prototype._isNonWorkingInterval=function(e,t,i,n){return t.includes((e+i)%n)};function W(e,t){if(t){O.call(e,"DeselectAppointment")}}function $(e){var t=this.getAggregation("groupAppointments",[]);var i;var n=false;for(var a=0;a<t.length;a++){var r=t[a]._aAppointments;for(var s=0;s<r.length;s++){if(r[s].getId()==e){i=t[a];n=true;break}}if(n){break}}return i}function N(e){if(this._sFocusedAppointmentId!=e){var t=this._getAppointmentsSorted();var i=this._aVisibleAppointments;var n;var a=0;n=$.call(this,e);if(n){e=n.getId();n=undefined}for(a=0;a<i.length;a++){if(i[a].appointment.getId()==e){n=i[a].appointment;break}}if(n){var r=this.getFocusedAppointment().$();var o=n.$();this._sFocusedAppointmentId=n.getId();r.attr("tabindex","-1");o.attr("tabindex","0");o.trigger("focus")}else{for(a=0;a<t.length;a++){if(t[a].getId()==e){n=t[a];break}}if(n){this._sFocusedAppointmentId=n.getId();var p=w.call(this,n.getStartDate());this.setStartDate(s._createLocalDate(p,true));if(!c(this.getDomRef(),document.activeElement)){setTimeout(function(){this.getFocusedAppointment().focus()}.bind(this),0)}this.fireStartDateChange()}}}}function Y(e,t){var i=this._sFocusedAppointmentId;var n=this._getAppointmentsSorted();var a=this.getAggregation("groupAppointments",[]);var r;var s=0;var o=0;for(o=0;o<a.length;o++){if(a[o].getId()==i){var p=a[o]._aAppointments;if(e){i=p[p.length-1].getId()}else{i=p[0].getId()}break}}for(o=0;o<n.length;o++){if(n[o].getId()==i){s=o;break}}if(e){s=s+t}else{s=s-t}if(s<0){s=0}else if(s>=n.length){s=n.length-1}r=n[s];N.call(this,r.getId())}function x(e){var t=this._getAppointmentsSorted();var i;var n=new o(this._getStartDate());var a=new o(this._oUTCEndDate);var r=this.getIntervalType();var p;var l;n.setUTCHours(0);a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);switch(r){case _.Hour:a.setUTCDate(a.getUTCDate()+1);a.setUTCMilliseconds(-1);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":n.setUTCDate(1);a.setUTCMonth(a.getUTCMonth()+1);a.setUTCDate(1);a.setUTCMilliseconds(-1);break;case _.Month:n.setUTCMonth(0);n.setUTCDate(1);a.setUTCFullYear(a.getUTCFullYear()+1);a.setUTCMonth(1);a.setUTCDate(1);a.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+r+"; "+this)}var u=s._createLocalDate(n,true);var g=s._createLocalDate(a,true);for(var h=0;h<t.length;h++){if(t[h].getStartDate()>=u&&t[h].getStartDate()<=g){i=t[h];p=i.getId();if(e.type=="saphome"){break}}else if(t[h].getStartDate()>g){break}}l=$.call(this,p);if(l){i=l;p=i.getId()}if(p&&p!=this._sFocusedAppointmentId){N.call(this,p)}else if(e._bPlanningCalendar&&i){i.focus()}else{this.fireLeaveRow({type:e.type})}}function B(e,t){var i=this.getIntervalType();var n=this._getStartDate();var a=new o(n.getTime());var r;var p=false;var l=0;var u=0;if(jQuery(t).hasClass("sapUiCalendarRowAppsSubInt")){p=true;var g=jQuery(jQuery(t).parent()).children(".sapUiCalendarRowAppsSubInt");u=g.length;for(l=0;l<u;l++){var h=g[l];if(h==t){break}}}switch(i){case _.Hour:a.setUTCHours(a.getUTCHours()+e);if(p){a.setUTCMinutes(a.getUTCMinutes()+l*60/u);r=new o(a.getTime());r.setUTCMinutes(r.getUTCMinutes()+60/u)}else{r=new o(a.getTime());r.setUTCHours(r.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":a.setUTCDate(a.getUTCDate()+e);if(p){a.setUTCHours(a.getUTCHours()+l*24/u);r=new o(a.getTime());r.setUTCHours(r.getUTCHours()+24/u)}else{r=new o(a.getTime());r.setUTCDate(r.getUTCDate()+1)}break;case _.Month:a.setUTCMonth(a.getUTCMonth()+e);if(p){a.setUTCDate(a.getUTCDate()+l);r=new o(a.getTime());r.setUTCDate(r.getUTCDate()+1)}else{r=new o(a.getTime());r.setUTCMonth(r.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+i+"; "+this)}r.setUTCMilliseconds(r.getUTCMilliseconds()-1);a=s._createLocalDate(a,true);r=s._createLocalDate(r,true);this.fireIntervalSelect({startDate:a,endDate:r,subInterval:p})}function j(e,t){var i=e.getStartDate()-t.getStartDate();if(i==0){i=t.getEndDate()-e.getEndDate()}return i}return D});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRowRenderer", ["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarAppointment","sap/ui/unified/CalendarLegendRenderer","sap/ui/Device","sap/ui/unified/library","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/unified/calendar/RecurrenceUtils","sap/base/Log","sap/ui/core/IconPool"],function(e,t,a,n,i,r,s,o,l,p,d){"use strict";var g=s.CalendarDayType;var c=s.CalendarIntervalType;var v=s.CalendarAppointmentVisualization;var f=s.CalendarAppointmentHeight;var u={apiVersion:2};u.render=function(e,t){var a=t.getTooltip_AsString();var n=t.getAppointmentsVisualization();var i=this.getLegendItems(t);e.openStart("div",t);e.class("sapUiCalendarRow");if(!r.system.phone&&t.getAppointmentsReducedHeight()){e.class("sapUiCalendarRowAppsRedHeight")}if(n!=v.Standard){e.class("sapUiCalendarRowVis"+n)}if(a){e.attr("title",a)}var s=t.getWidth();if(s){e.style("width",s)}var o=t.getHeight();if(o){e.style("height",o)}e.openEnd();this.renderAppointmentsRow(e,t,i);e.close("div")};u.renderAppointmentsRow=function(e,t,a){var n=t.getId();e.openStart("div",n+"-Apps");e.class("sapUiCalendarRowApps");e.attr("role","list");e.openEnd();this.renderBeforeAppointments(e,t);this.renderAppointments(e,t,a);this.renderAfterAppointments(e,t);e.close("div")};u.renderBeforeAppointments=function(e,t){};u.renderAfterAppointments=function(e,t){};u.renderResizeHandle=function(e,t,a){};u.renderAppointments=function(e,t,n){var i=t._getVisibleAppointments();var r=t._getVisibleIntervalHeaders();var s=t._getStartDate();var o=[];var l=0;var p=0;var d=[];var g=0;var v=0;var f=t.getIntervals();var u=t.getIntervalType();var A=100/f;var C=0;var I=new a(s);var T=false;var h=false;switch(u){case c.Hour:o=t.getNonWorkingHours()||[];l=s.getUTCHours();p=24;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":o=t._getNonWorkingDays();l=s.getUTCDay();p=7;d=t.getNonWorkingHours()||[];g=s.getUTCHours();v=24;break;case c.Month:d=t._getNonWorkingDays();g=s.getUTCDay();v=7;break;default:break}if(t._isOneMonthsRowOnSmallSizes()){this.renderSingleDayInterval(e,t,i,n,r,o,l,p,d,g,v,true,true)}else{for(C=0;C<f;C++){if(h){T=true}else{T=false}h=false;switch(u){case c.Hour:I.setUTCHours(I.getUTCHours()+1);if(I.getUTCHours()==0){h=true}break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":I.setUTCDate(I.getUTCDate()+1);if(I.getUTCDate()==1){h=true}break;case c.Month:g=I.getUTCDay();I.setUTCMonth(I.getUTCMonth()+1);if(I.getUTCMonth()==0){h=true}break;default:break}this.renderInterval(e,t,C,A,r,o,l,p,d,g,v,T,h)}this.renderIntervalHeaders(e,t,A,r,f);if(!(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative)){e.openStart("div",t.getId()+"-Now");e.class("sapUiCalendarRowNow");e.openEnd();e.close("div")}for(C=0;C<i.length;C++){var m=i[C];this.renderAppointment(e,t,m,n)}e.openStart("div",t.getId()+"-DummyApp");e.class("sapUiCalendarApp");e.class("sapUiCalendarAppTitleOnly");e.class("sapUiCalendarAppDummy");e.class("sapUiCalendarAppHeight1");e.openEnd();e.close("div")}};u.writeCustomAttributes=function(e,t){};u.renderInterval=function(e,t,n,i,r,s,o,d,g,v,f,u,A){const C=t.getStartDate();const I=l.getInstance(C);I.setHours(n+o,0,0,0);var T=t.getId()+"-AppsInt"+n;var h;var m=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||r.length>0);var U=t.getStartDate().getMonth();var S=l.getInstance(t.getStartDate().getFullYear(),U+1,0).getDate();const R=t.getIntervalType()!==c.Hour?[]:t.getNonWorkingPeriods().filter(e=>{if(!e.isRecurring()){return e.hasNonWorkingAtDate(C)}const t=p.hasOccurrenceOnDate.bind(e);return t(C)});const y=R.filter(e=>e.hasNonWorkingAtHour(I));e.openStart("div",T);e.class("sapUiCalendarRowAppsInt");e.style("position","relative");e.style("width",i+"%");if(n>=S&&(t.getIntervalType()===c.OneMonth||t.getIntervalType()==="OneMonth")){e.class("sapUiCalItemOtherMonth")}if(t._isNonWorkingInterval(n,s,o,d)){e.class("sapUiCalendarRowAppsNoWork")}if(!m){e.class("sapUiCalendarRowAppsIntNoHead")}if(u){e.class("sapUiCalendarRowAppsIntFirst")}if(A){e.class("sapUiCalendarRowAppsIntLast")}this.writeCustomAttributes(e,t);e.openEnd();if(y.length){e.openStart("div");e.class("sapUiCalendarRowAppsIntNoWork");e.openEnd();p.getWorkingAndNonWorkingSegments(I,y).forEach(t=>{if(t.type==="working"){this.renderWorkingParts(e,t.duration)}else{this.renderNonWorkingParts(e,t.duration)}});e.close("div")}if(m){e.openStart("div");e.class("sapUiCalendarRowAppsIntHead");e.openEnd();e.close("div")}if(t.getShowSubIntervals()){var b=t.getIntervalType();var w=0;switch(b){case c.Hour:w=4;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":w=24;break;case c.Month:var E=t._getStartDate();var D=new a(E);D.setUTCMonth(D.getUTCMonth()+n+1,0);w=D.getUTCDate();D.setUTCDate(1);o=D.getUTCDay();break;default:break}var _=100/w;for(h=0;h<w;h++){e.openStart("div");e.class("sapUiCalendarRowAppsSubInt");e.style("width",_+"%");if(t._isNonWorkingInterval(h,g,v,f)){e.class("sapUiCalendarRowAppsNoWork")}e.openEnd();e.close("div")}}e.close("div")};u.renderIntervalHeaders=function(e,t,a,n,i){var r=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||n.length>0);if(r){for(var s=0;s<n.length;s++){var o=n[s],l,p;if(t._bRTL){p=a*o.interval;l=a*(i-o.last-1)}else{l=a*o.interval;p=a*(i-o.last-1)}this.renderIntervalHeader(e,t,o,t._bRTL,l,p)}}};u.renderIntervalHeader=function(e,t,a,n,i,r){var s=a.appointment.getId(),o={role:"listitem",labelledby:{value:s+"-Descr",append:true}},l;var p=t._calculateAppoitnmentVisualCue(a.appointment);e.openStart("div",a.appointment);e.class("sapUiCalendarRowAppsIntHead");if(i!==undefined){e.style("left",i+"%")}if(r!==undefined){e.style("right",r+"%")}e.class("sapUiCalendarRowAppsIntHeadFirst");var d=a.appointment.getSelected();if(d){e.class("sapUiCalendarRowAppsIntHeadSel")}if(a.appointment.getTentative()){e.class("sapUiCalendarRowAppsIntHeadTent")}var c=a.appointment.getTooltip_AsString();if(c){e.attr("title",c)}var v=a.appointment.getType();var f=a.appointment.getColor();if(!f&&v&&v!=g.None){e.class("sapUiCalendarRowAppsIntHead"+v)}if(f){if(n){e.style("border-right-color",f)}else{e.style("border-left-color",f)}}e.accessibilityState(a.appointment,o);e.openEnd();e.openStart("div");e.class("sapUiCalendarIntervalHeaderCont");if(!d&&f){e.style("background-color",a.appointment._getCSSColorForBackground(f))}e.openEnd();if(p.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}var u=a.appointment.getIcon();if(u){var A=["sapUiCalendarRowAppsIntHeadIcon"];var C={};C["id"]=s+"-Icon";C["title"]=null;C["alt"]=null;C["role"]="presentation";e.icon(u,A,C)}var I=a.appointment.getTitle();if(I&&!a.appointment.getCustomContent().length){e.openStart("span",s+"-Title");e.class("sapUiCalendarRowAppsIntHeadTitle");e.openEnd();e.text(I);e.close("span")}var T=a.appointment.getText();if(T&&!a.appointment.getCustomContent().length){e.openStart("span",s+"-Text");e.class("sapUiCalendarRowAppsIntHeadText");e.openEnd();e.text(T);e.close("span")}if(p.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}l=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(a.appointment.getStartDate())+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(a.appointment.getEndDate());if(v&&v!==g.None){l+="; "+this.getAriaTextForType(v,this.getLegendItems(t))}e.openStart("span",s+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(l);e.close("span");e.close("div");e.close("div")};u.renderAppointment=function(e,t,a,n,i){var r=a.appointment;var s=r.getTooltip_AsString();var l=r.getType();var p=r.getColor();var d=r.getTitle();var c=r.getText();var u=r.getDescription();var A=r.getIcon();var C=r.getId();var I=t._getAppointmentReducedHeight(a);var T=r.getSelected();var h={role:"listitem",labelledby:{value:`${o.getStaticId("sap.m","ACC_CTR_TYPE_LISTITEM")} ${o.getStaticId("sap.ui.unified","APPOINTMENT")} ${C.concat("-Descr")}`,append:true},describedby:{value:T?o.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED"):"",append:true},selected:null};var m=t._getAppointmentRowCount(a,I);var U=t.getAriaLabelledBy();var S=t._calculateAppoitnmentVisualCue(r);if(U.length>0){h["labelledby"].value=h["labelledby"].value+" "+U.join(" ")}if(d&&!r.getCustomContent().length){h["labelledby"].value=h["labelledby"].value+" "+C+"-Title"}if(c&&!r.getCustomContent().length){h["labelledby"].value=h["labelledby"].value+" "+C+"-Text"}e.openStart("div",r);e.class("sapUiCalendarApp");e.class("sapUiCalendarAppHeight"+m);if(T){e.class("sapUiCalendarAppSel")}if(r.getTentative()){e.class("sapUiCalendarAppTent");h["labelledby"].value=h["labelledby"].value+" "+o.getStaticId("sap.ui.unified","APPOINTMENT_TENTATIVE")}if(m===1){e.class("sapUiCalendarAppTitleOnly")}if(A){e.class("sapUiCalendarAppWithIcon")}if(!i){if(t._bRTL){e.style("right",a.begin+"%");e.style("left",a.end+"%")}else{e.style("left",a.begin+"%");e.style("right",a.end+"%")}}e.attr("data-sap-level",a.level);if(t._sFocusedAppointmentId==C){e.attr("tabindex","0")}else{e.attr("tabindex","-1")}if(s){e.attr("title",s)}if(!p&&l&&l!=g.None){e.class("sapUiCalendarApp"+l)}if(p){if(t._bRTL){e.style("border-right-color",p)}else{e.style("border-left-color",p)}}e.accessibilityState(r,h);e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");if(!T&&p&&t.getAppointmentsVisualization()===v.Filled){e.style("background-color",r._getCSSColorForBackground(p))}e.openEnd();if(r.getCustomContent().length){r.getCustomContent().forEach(function(t){e.renderControl(t)})}else{if(S.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}if(A){var R=["sapUiCalendarAppIcon"];var y={};y["id"]=C+"-Icon";y["title"]=null;y["alt"]=null;y["role"]="presentation";e.icon(A,R,y)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(d){e.openStart("span",C+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(d);e.close("span")}if(c&&a.size!==f.HalfSize){e.openStart("span",C+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(c);e.close("span")}if(u&&a.size!==f.HalfSize&&(a.size!==f.Regular||!c)){e.openStart("span",C+"-Info");e.class("sapUiCalendarAppDescription");e.openEnd();e.text(u);e.close("span")}e.close("div");if(S.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}}var b=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(r.getStartDate());b=b+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(r.getEndDate());if(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative){var w=t._getRelativeInfo();b=t._oRb.getText("CALENDAR_START_TIME")+": "+w.intervalLabelFormatter(w._getIndexFromDate(r.getStartDate()));b=b+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+w.intervalLabelFormatter(w._getIndexFromDate(r.getEndDate()))}if(l&&l!=g.None){b=b+"; "+this.getAriaTextForType(l,n)}e.openStart("span",C+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(b);e.close("span");e.close("div");this.renderResizeHandle(e,t,r);e.close("div")};u.renderSingleDayInterval=function(i,r,s,o,p,d,g,v,f,u,A,C,I){var T=1,h=100,m=r.getId()+"-AppsInt"+T,U,S=r.getShowIntervalHeaders()&&(r.getShowEmptyIntervalHeaders()||p.length>0),R=l.getInstance(r.getStartDate()),y=R.getMonth(),b=l.getInstance(R.getFullYear(),y+1,0).getDate(),w,E=r._getPlanningCalendar(),D,_,N=[];R.setHours(0,0,0,0);D=s.concat(r.getIntervalHeaders().filter(function(e){var t=e.getStartDate().getTime(),a=e.getEndDate().getTime(),n=R.getTime(),i=n+1e3*60*60*24;return!(t>=i||a<=n)}).map(function(e){return{appointment:e,isHeader:true}})).sort(n._getComparer(R));if(E){N=E._getSelectedDates()}i.openStart("div",m);i.class("sapUiCalendarRowAppsInt");i.class("sapUiCalendarMonthRowAppsS");i.style("width",h+"%");if(T>=b&&(r.getIntervalType()===c.OneMonth||r.getIntervalType()==="OneMonth")){i.class("sapUiCalItemOtherMonth")}if(r._isNonWorkingInterval(T,d,g,v)){i.class("sapUiCalendarRowAppsNoWork")}if(!S){i.class("sapUiCalendarRowAppsIntNoHead")}if(C){i.class("sapUiCalendarRowAppsIntFirst")}if(I){i.class("sapUiCalendarRowAppsIntLast")}i.openEnd();if(S){i.openStart("div");i.class("sapUiCalendarRowAppsIntHead");i.openEnd();i.close("div")}if(N.length>0){var H=0,k=D.length;if(E.getRows()[0]._calculateVisibleAppointments){var x=E.getRows()[0]._calculateVisibleAppointments(N,D);H=x.iStart;k=x.iEnd}for(U=H;U<k;U++){_=D[U];i.openStart("div");i.class("sapUiCalendarAppContainer");i.openEnd();i.openStart("div");i.class("sapUiCalendarAppContainerLeft");i.openEnd();i.openStart("div");i.class("sapUiCalendarAppStart");i.openEnd();i.text(_.appointment._getDateRangeIntersectionText(R).start);i.close("div");i.openStart("div");i.class("sapUiCalendarAppEnd");i.openEnd();i.text(_.appointment._getDateRangeIntersectionText(R).end);i.close("div");i.close("div");i.openStart("div");i.class("sapUiCalendarAppContainerRight");i.openEnd();if(_.isHeader){this.renderIntervalHeader(i,r,_)}else{this.renderAppointment(i,r,_,o,true)}i.close("div");i.close("div")}}if(s.length===0||N.length===0){i.openStart("div");i.class("sapUiCalendarNoApps");i.openEnd();var M=e.getElementById(r.getAssociation("row"));w=M.getNoAppointmentsText()?M.getNoAppointmentsText():t.getResourceBundleFor("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");i.text(w);i.close("div")}if(!(r._getRelativeInfo&&r._getRelativeInfo().bIsRelative)){i.openStart("div",r.getId()+"-Now");i.class("sapUiCalendarRowNow");i.openEnd()}i.close("div");i.openStart("div",r.getId()+"-DummyApp");i.class("sapUiCalendarApp");i.class("sapUiCalendarAppTitleOnly");i.class("sapUiCalendarAppDummy");i.style("margin","0");i.style("height","0px");i.openEnd();i.close("div");if(r.getShowSubIntervals()){var W=r.getIntervalType();var L=0;switch(W){case c.Hour:L=4;break;case c.Day:case c.Week:case c.OneMonth:case"OneMonth":L=24;break;case c.Month:var O=new a(R);O.setUTCMonth(O.getUTCMonth()+T+1,0);L=O.getUTCDate();O.setUTCDate(1);g=O.getUTCDay();break;default:break}var F=100/L;for(U=0;U<L;U++){i.openStart("div");i.class("sapUiCalendarRowAppsSubInt");i.style("width",F+"%");if(r._isNonWorkingInterval(U,f,u,A)){i.class("sapUiCalendarRowAppsNoWork")}i.openEnd();i.close("div")}}i.close("div")};u.getLegendItems=function(t){var a=[],n,i=t.getLegend();if(i){n=e.getElementById(i);if(n){a=n.getItems()}else{d.error("CalendarLegend with id '"+i+"' does not exist!",t)}}return a};u.renderWorkingParts=function(e,t){const a=t/60*100;e.openStart("div");e.style("width",`${a}%`);e.style("height","inherit");e.style("display","inline-block");e.openEnd();e.close("div")};u.renderNonWorkingParts=function(e,t){const a=t/60*100;e.openStart("div");e.style("width",`${a}%`);e.class("sapUiCalendarRowAppsNoWork");e.style("height","inherit");e.style("display","inline-block");e.openEnd();e.close("div")};u.getAriaTextForType=function(e,t){var a,n,r,s;if(t&&t.length){for(var s=0;s<t.length;s++){r=t[s];if(r.getType()===e){a=r.getText();break}}}if(!a){n=i.getTypeAriaText(e);if(n){a=n.getText()}}return a};return u},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarTimeInterval", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/m/Popover","sap/ui/core/Control","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","./calendar/Header","./calendar/TimesRow","./calendar/DatesRow","./calendar/MonthPicker","./calendar/YearPicker","sap/ui/core/date/UniversalDate","./library","sap/ui/core/format/DateFormat","sap/ui/Device","sap/ui/core/Locale","./CalendarTimeIntervalRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/unified/Calendar"],function(e,t,a,i,s,r,o,n,h,g,l,c,u,D,_,d,f,p,T,v,M,C,m,U){"use strict";var P=i.extend("sap.ui.unified.CalendarTimeInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},_currentPicker:{type:"string",group:"Appearance",defaultValue:"timesRow",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},timesRow:{type:"sap.ui.unified.calendar.TimesRow",multiple:false,visibility:"hidden"},datesRow:{type:"sap.ui.unified.calendar.Month",multiple:false,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}},renderer:p});var y={TIMES_ROW:"timesRow",DATES_ROW:"datesRow",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker"};P.prototype.init=function(){this._iMode=0;this._oYearFormat=_.getDateInstance({format:"y"});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=new u(m.getInstance(Date.UTC(1,0,1)));this._oMinDate.getJSDate().setUTCFullYear(1);this._oMaxDate=new u(m.getInstance(Date.UTC(9999,11,31,23,59,59)));this._initializeHeader();this._initializeTimesRow();this._initializeMonthPicker();this._initializeYearPicker();this.setPickerPopup(false);this._iItemsHead=15};P.prototype._initializeHeader=function(){var e=new n(this.getId()+"--Head"),t=s.getResourceBundleFor("sap.m");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e);if(e){e.setAriaLabelButton0(t.getText("DATETIMEPICKER_DATE"));e.setAriaLabelButton1(t.getText("MOBISCROLL_MONTH"));e.setAriaLabelButton2(t.getText("MOBISCROLL_YEAR"))}};P.prototype._initializeTimesRow=function(){var e=new h(this.getId()+"--TimesRow");e.attachEvent("focus",z,this);e.attachEvent("select",H,this);e._bNoThemeChange=true;this.setAggregation("timesRow",e)};P.prototype._initializeMonthPicker=function(){var e=this._createMonthPicker();this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};P.prototype._initializeYearPicker=function(){var e=this._createYearPicker();this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};P.prototype._createDatesRow=function(){var e=new g(this.getId()+"--DatesRow",{days:18,selectedDates:[new C(this.getId()+"--Range")]});e.attachEvent("focus",K,this);e.attachEvent("select",j,this);e._bNoThemeChange=true;e.getIntervalSelection=function(){return this.getProperty("intervalSelection")};e.getSingleSelection=function(){return this.getProperty("singleSelection")};e.getSelectedDates=function(){return this.getAggregation("selectedDates",[])};e.getSpecialDates=function(){return this.getAggregation("specialDates",[])};e.getAriaLabelledBy=function(){return this.getAssociation("ariaLabelledBy",[])};return e};P.prototype._createMonthPicker=function(){var e=new l(this.getId()+"--MP",{columns:0,months:6});e.attachEvent("select",$,this);e._bNoThemeChange=true;e.attachEvent("pageChange",ee,this);return e};P.prototype._createYearPicker=function(){var e=new c(this.getId()+"--YP",{columns:0,years:6});e.attachEvent("select",q,this);e.attachEvent("pageChange",te,this);e._oMinDate.setYear(this._oMinDate.getUTCFullYear());e._oMaxDate.setYear(this._oMaxDate.getUTCFullYear());return e};P.prototype.exit=function(){if(this._oPopup){this._oPopup.destroy();this._oPopup=null}if(this._oCalendar){this._oCalendar.removeDelegate(this._oFocusCalendarDelegate);this._oCalendar.destroy();this._oCalendar=null}if(this._sInvalidateContent){clearTimeout(this._sInvalidateContent)}};P.prototype.onBeforeRendering=function(){var e=this.getAggregation("timesRow");var t=this._getFocusedDate();I.call(this);e.displayDate(o._createLocalDate(t,true))};P.prototype._setAriaRole=function(e){var t=this.getAggregation("timesRow");t._setAriaRole(e);t.invalidate();return this};P.prototype._getCalendar=function(){var e;if(!this._oCalendar){e=new U(this.getId()+"--Cal",{});e.attachEvent("select",W,this);e.attachEvent("cancel",function(e){this._oPopup.close();var t=this.getAggregation("header").getDomRef("B1");if(t){t.focus()}},this);this._oFocusCalendarDelegate={onAfterRendering:function(){this.focus()}};e.addDelegate(this._oFocusCalendarDelegate,e);this._oCalendar=e}return this._oCalendar};P.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};P.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};P.prototype.setStartDate=function(e){o._checkJSDateObject(e);if(v(this.getStartDate(),e)){return this}var t=e.getFullYear();o._checkYearInValidRange(t);var a=this.getMinDate();if(a&&e.getTime()<a.getTime()){M.warning("startDate < minDate -> minDate as startDate set",this);e=m.getInstance(a)}var i=this.getMaxDate();if(i&&e.getTime()>i.getTime()){M.warning("startDate > maxDate -> maxDate as startDate set",this);e=m.getInstance(i)}this.setProperty("startDate",e);var s=this.getAggregation("timesRow");s.setStartDate(e);this._oUTCStartDate=new u(s._getStartDate().getTime());I.call(this);var r=o._createLocalDate(this._getFocusedDate(),true);if(!s.checkDateFocusable(r)){this._setFocusedDate(this._oUTCStartDate);s.displayDate(e)}return this};P.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};P.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};P.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};P.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};P.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e);var t=this.getAggregation("timesRow");var a=o._createLocalDate(this._getFocusedDate(),true);if(!t.checkDateFocusable(a)){var i=k.call(this);this._setFocusedDate(i);t.setDate(o._createLocalDate(i,true))}return this};P.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate()}return this};P.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=new f(e.getLanguageTag()).toString()}return this._sLocale};P.prototype._getFocusedDate=function(){if(!this._oFocusedDate){F.call(this)}return this._oFocusedDate};P.prototype._setFocusedDate=function(e){if(!(e instanceof u)){throw new Error("Date must be a UniversalDate object "+this)}this._oFocusedDate=new u(e.getTime())};P.prototype.focusDate=function(e){var t=false;var a=this.getAggregation("timesRow");if(!a.checkDateFocusable(e)){var i=o._createUniversalUTCDate(e,undefined,true);X.call(this,i);t=true}J.call(this,e,false);if(t){this.fireStartDateChange()}return this};P.prototype.displayDate=function(e){J.call(this,e,true);return this};P.prototype.setItems=function(e){this.setProperty("items",e);e=this._getItems();var t=this.getAggregation("timesRow");t.setItems(e);var a=o._createLocalDate(this._getFocusedDate(),true);if(!t.checkDateFocusable(a)){var i=k.call(this);this._setFocusedDate(i);t.setDate(o._createLocalDate(i,true))}if(!this.getPickerPopup()){var s=this.getAggregation("datesRow");var r=Math.floor(e*1.5);if(r>31){r=31}s.setDays(r);var n=this._getMonthPicker();var h=Math.floor(e/2);if(h>12){h=12}n.setMonths(h);var g=this._getYearPicker();var l=Math.floor(e/2);if(l>20){l=20}g.setYears(l)}I.call(this);return this};P.prototype._getItems=function(){var e=this.getItems();if(d.system.phone&&e>6){return 6}else{return e}};P.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new f(e);this._oLocaleData=r.getInstance(t)}return this._oLocaleData};P.prototype.setPickerPopup=function(e){var t=this.getAggregation("header"),a,i,s;this.setProperty("pickerPopup",e);if(a){a.destroy()}if(e){t.setVisibleButton0(false);t.setVisibleButton1(true);t.setVisibleButton2(false);t.detachEvent("pressButton1",N,this);t.attachEvent("pressButton1",N,this);if(this.getAggregation("datesRow")){this.getAggregation("datesRow").destroy()}if(this._getMonthPicker()){this._getMonthPicker().destroy()}if(this._getYearPicker()){this._getYearPicker().destroy()}}else{t.setVisibleButton0(true);t.setVisibleButton1(true);t.setVisibleButton2(true);t.detachEvent("pressButton0",B,this);t.attachEvent("pressButton0",B,this);t.detachEvent("pressButton1",N,this);t.attachEvent("pressButton1",N,this);t.detachEvent("pressButton2",V,this);t.attachEvent("pressButton2",V,this);if(!this.getAggregation("datesRow")){this.setAggregation("datesRow",this._createDatesRow())}if(!this._getYearPicker()){this.setAggregation("yearPicker",this._createYearPicker())}if(!this._getMonthPicker()){this.setAggregation("monthPicker",this._createMonthPicker())}i=this._getMonthPicker();s=this._getYearPicker();i.setColumns(0);i.setMonths(6);s.setColumns(0);s.setYears(6)}return this};P.prototype.setMinDate=function(e){var t,a,i,s;if(v(e,this.getMinDate())){return this}if(!e){o._updateUTCDate(this._oMinDate.getJSDate(),1,0,1,0,0,0,0)}else{o._checkJSDateObject(e);this._oMinDate=o._createUniversalUTCDate(e,undefined,true);t=this.getAggregation("timesRow");this._oMinDate=t._getIntervalStart(this._oMinDate);a=this._oMinDate.getUTCFullYear();o._checkYearInValidRange(a);if(this._oMaxDate.getTime()<this._oMinDate.getTime()){M.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=o._createUniversalUTCDate(e,undefined,true);o._updateUTCDate(this._oMaxDate,null,this._oMaxDate.getUTCMonth()+1,0,23,59,59,0);this.setProperty("maxDate",o._createLocalDate(this._oMaxDate,true))}if(this._oFocusedDate){if(this._oFocusedDate.getTime()<this._oMinDate.getTime()){M.warning("focused date < minDate -> minDate focused",this);this.focusDate(e)}}if(this._oUTCStartDate&&this._oUTCStartDate.getTime()<this._oMinDate.getTime()){M.warning("start date < minDate -> minDate set as start date",this);w.call(this,new u(this._oMinDate.getTime()),true,true)}}this.setProperty("minDate",e);if(this.getPickerPopup()){s=this._getCalendar();s.setMinDate(e)}else{i=this._getYearPicker();i._oMinDate.setYear(this._oMinDate.getUTCFullYear())}return this};P.prototype.setMaxDate=function(e){var t,a,i,s,r,n;if(v(e,this.getMaxDate())){return this}if(!e){o._updateUTCDate(this._oMaxDate.getJSDate(),9999,11,31,23,59,59,0)}else{o._checkJSDateObject(e);this._oMaxDate=o._createUniversalUTCDate(e,undefined,true);t=this.getAggregation("timesRow");this._oMaxDate=t._getIntervalStart(this._oMaxDate);this._oMaxDate.setUTCMinutes(this._oMaxDate.getUTCMinutes()+this.getIntervalMinutes());this._oMaxDate.setUTCMilliseconds(-1);a=this._oMaxDate.getUTCFullYear();o._checkYearInValidRange(a);if(this._oMinDate.getTime()>this._oMaxDate.getTime()){M.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=o._createUniversalUTCDate(e,undefined,true);o._updateUTCDate(this._oMinDate,null,null,1,0,0,0,0);this.setProperty("minDate",o._createLocalDate(this._oMinDate,true))}if(this._oFocusedDate){if(this._oFocusedDate.getTime()>this._oMaxDate.getTime()){M.warning("focused date > maxDate -> maxDate focused",this);this.focusDate(e)}}if(this._oUTCStartDate){i=new u(this._oUTCStartDate.getTime());i.setUTCMinutes(i.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1));if(i.getTime()>this._oMaxDate.getTime()){s=new u(this._oMaxDate.getTime());s.setUTCMinutes(s.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1));if(s.getTime()>=this._oMinDate.getTime()){M.warning("end date > maxDate -> maxDate set as end date",this);w.call(this,s,true,true)}}}}this.setProperty("maxDate",e);if(this.getPickerPopup()){n=this._getCalendar();n.setMaxDate(e)}else{r=this._getYearPicker();r._oMaxDate.setYear(this._oMaxDate.getUTCFullYear())}return this};P.prototype.onclick=function(e){if(e.isMarked("delayedMouseEvent")){return}if(e.target.id==this.getId()+"-cancel"){this.onsapescape(e)}};P.prototype.onmousedown=function(e){e.preventDefault();e.setMark("cancelAutoClose")};P.prototype.onsapescape=function(e){if(this.getPickerPopup()){b.call(this);this.fireCancel()}else{switch(this._iMode){case 0:this.fireCancel();break;case 1:case 2:case 3:this.setProperty("_currentPicker",y.TIMES_ROW);break}}};P.prototype.setProperty=function(){var e=arguments[0],t=arguments[1];i.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(t){case"timesRow":this._iMode=0;break;case"datesRow":this._iMode=1;break;case"monthPicker":this._iMode=2;break;case"yearPicker":this._iMode=3;break;default:return}}return this};P.prototype._handlePrevious=function(e){var t=this._getFocusedDate(),a,i,s,r,n,h,g,l;switch(this._iMode){case 0:a=this._getItems();i=new u(k.call(this).getTime());s=this.getIntervalMinutes();i.setUTCMinutes(i.getUTCMinutes()-a*s);t.setUTCMinutes(t.getUTCMinutes()-a*s);this._setFocusedDate(t);w.call(this,i,true);break;case 1:if(!this.getPickerPopup()){r=this.getAggregation("datesRow");n=o._createUniversalUTCDate(r.getDate());h=r.getDays();if(n.getUTCDate()<=h){n.setUTCDate(1)}else{n.setUTCDate(n.getUTCDate()-h)}G.call(this,n)}break;case 2:if(!this.getPickerPopup()){g=this._getMonthPicker();if(g.getMonths()<12){g.previousPage();Y.call(this)}else{t.setUTCFullYear(t.getUTCFullYear()-1);X.call(this,t);this._setFocusedDate(t);I.call(this);Z.call(this,t.getUTCFullYear(),g);this.fireStartDateChange()}}break;case 3:if(!this.getPickerPopup()){l=this._getYearPicker();l.previousPage();E.call(this)}break}};P.prototype._handleNext=function(e){var t=this._getFocusedDate();switch(this._iMode){case 0:var a=this._getItems();var i=new u(k.call(this).getTime());var s=this.getIntervalMinutes();i.setUTCMinutes(i.getUTCMinutes()+a*s);t.setUTCMinutes(t.getUTCMinutes()+a*s);this._setFocusedDate(t);w.call(this,i,true);break;case 1:if(!this.getPickerPopup()){var r=this.getAggregation("datesRow");var n=o._createUniversalUTCDate(r.getDate());var h=new u(n.getTime());h.setUTCDate(1);h.setUTCMonth(h.getUTCMonth()+1);h.setUTCDate(0);var g=r.getDays();if(n.getUTCDate()+g>h.getUTCDate()){n.setUTCDate(h.getUTCDate())}else{n.setUTCDate(n.getUTCDate()+g)}G.call(this,n)}break;case 2:if(!this.getPickerPopup()){var l=this._getMonthPicker();if(l.getMonths()<12){l.nextPage();Y.call(this)}else{t.setUTCFullYear(t.getUTCFullYear()+1);X.call(this,t);this._setFocusedDate(t);I.call(this);Z.call(this,t.getUTCFullYear(),l);this.fireStartDateChange()}}break;case 3:if(!this.getPickerPopup()){var c=this._getYearPicker();c.nextPage();E.call(this)}break}};P.prototype._getShowItemHeader=function(){var e=this.getItems();if(e>this._iItemsHead){return true}else{return false}};function w(e,t,a){var i=new u(this._oMaxDate.getTime());i.setUTCMinutes(i.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1));if(i.getTime()<this._oMinDate.getTime()){i=new u(this._oMinDate.getTime());i.setUTCMinutes(i.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1))}if(e.getTime()<this._oMinDate.getTime()){e=new u(this._oMinDate.getTime())}else if(e.getTime()>i.getTime()){e=i}var s=this.getAggregation("timesRow");var r=o._createLocalDate(e,true);s.setStartDate(r);this._oUTCStartDate=new u(s._getStartDate().getTime());r=o._createLocalDate(this._oUTCStartDate,true);this.setProperty("startDate",r);I.call(this);if(t){var n=o._createLocalDate(this._getFocusedDate(),true);if(!s.checkDateFocusable(n)){this._setFocusedDate(e);s.setDate(r)}else{s.setDate(n)}}if(!a){this.fireStartDateChange()}}function k(){if(!this._oUTCStartDate){var e=this.getAggregation("timesRow");e.setStartDate(o._createLocalDate(this._getFocusedDate(),true));this._oUTCStartDate=new u(e._getStartDate().getTime());this._setFocusedDate(this._oUTCStartDate)}return this._oUTCStartDate}function S(e){var t=this._getFocusedDate();var a=this.getAggregation("timesRow");if(!e){a.setDate(o._createLocalDate(t,true))}else{a.displayDate(o._createLocalDate(t,true))}I.call(this)}function F(){var e=this.getSelectedDates();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=o._createUniversalUTCDate(e[0].getStartDate(),undefined,true)}else{var t=m.getInstance();this._oFocusedDate=o._createUniversalUTCDate(t,undefined,true)}if(this._oFocusedDate.getTime()<this._oMinDate.getTime()){this._oFocusedDate=new u(this._oMinDate.getTime())}else if(this._oFocusedDate.getTime()>this._oMaxDate.getTime()){this._oFocusedDate=new u(this._oMaxDate.getTime())}}P.prototype._showCalendarPicker=function(){var e=o._createLocalDate(this._getFocusedDate(),true);var t=this._getCalendar();var a=new C({startDate:e});t.displayDate(e,false);t.removeAllSelectedDates();t.addSelectedDate(a);t.setMinDate(this.getMinDate());t.setMaxDate(this.getMaxDate());Q.call(this,t);this._showOverlay()};P.prototype._showOverlay=function(){this.$("contentOver").css("display","")};P.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")};function b(e){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close()}this._hideOverlay();if(!e){S.call(this)}this._getCalendar()._closePickers()}function R(){var e=this._getFocusedDate();var t=this._getItems();var a=this.getAggregation("datesRow");var i=a.getSelectedDates()[0];i.setStartDate(o._createLocalDate(e,true));var s=new u(e.getTime());s.setUTCDate(1);s.setUTCMonth(s.getUTCMonth()+1);s.setUTCDate(0);var r=s.getUTCDate();var n=Math.floor(t*1.5);if(n>r){n=r}a.setDays(n);this.setProperty("_currentPicker",y.DATES_ROW);this._showOverlay();G.call(this,e);this._iMode=1}function x(){var e=this._getFocusedDate();var t=this._getMonthPicker();this.setProperty("_currentPicker",y.MONTH_PICKER);this._showOverlay();t.setMonth(e.getUTCMonth());Z.call(this,e.getUTCFullYear(),t);this._iMode=2;Y.call(this)}function A(){var e=this._getFocusedDate();var t=this._getYearPicker();this.setProperty("_currentPicker",y.YEAR_PICKER);this._showOverlay();t.setDate(e.getJSDate());E.call(this);this._iMode=3}function I(){L.call(this);Y.call(this)}function Y(e){var t=new u(k.call(this).getTime());var a=this._getItems();var i=t.getJSDate().getUTCFullYear();var s=this._oMaxDate.getJSDate().getUTCFullYear();var r=this._oMinDate.getJSDate().getUTCFullYear();var o=t.getJSDate().getUTCMonth();var n=this._oMaxDate.getJSDate().getUTCMonth();var h=this._oMinDate.getJSDate().getUTCMonth();var g=t.getJSDate().getUTCDate();var l=this._oMaxDate.getJSDate().getUTCDate();var c=this._oMinDate.getJSDate().getUTCDate();var D=t.getJSDate().getUTCHours();var _=this._oMaxDate.getJSDate().getUTCHours();var d=this._oMinDate.getJSDate().getUTCHours();var f=t.getJSDate().getUTCMinutes();var p=this._oMaxDate.getJSDate().getUTCMinutes();var T=this._oMinDate.getJSDate().getUTCMinutes();var v=this.getAggregation("header");if(this._iMode==2&&!e){var M=this._getMonthPicker();var C=M.getMonths();var m=M.getStartMonth();var U=m+C-1;if(m==0||i==r&&m<=h){v.setEnabledPrevious(false)}else{v.setEnabledPrevious(true)}if(U>10||i==s&&U>=n){v.setEnabledNext(false)}else{v.setEnabledNext(true)}return}if(i<r||i==r&&(e||(o<h||o==h&&(g<c||g==c&&(D<d||D==d&&f<=T))))||(this._iMode==1||this._iMode==2)&&this.getPickerPopup()){v.setEnabledPrevious(false)}else{v.setEnabledPrevious(true)}t.setUTCMinutes(t.getUTCMinutes()+a*this.getIntervalMinutes()-1);i=t.getJSDate().getUTCFullYear();o=t.getJSDate().getUTCMonth();g=t.getJSDate().getUTCDate();D=t.getJSDate().getUTCHours();f=t.getJSDate().getUTCMinutes();if(i>s||i==s&&(!e||(o>n||o==n&&(g>l||g==l&&(D>_||D==_&&f>=p))))||(this._iMode==1||this._iMode==2)&&this.getPickerPopup()){v.setEnabledNext(false)}else{v.setEnabledNext(true)}if(this._iMode===1){var P=new u(t.getTime());P.setUTCDate(1);P.setUTCMonth(P.getUTCMonth()+1);P.setUTCDate(0);var y=this.getAggregation("datesRow").getDays();t.setUTCDate(1+(Math.ceil(t.getUTCDate()/y)-1)*y);if(P.getUTCDate()-t.getUTCDate()<y){t.setUTCDate(P.getUTCDate()-y+1)}g=t.getUTCDate();if(g<=1||i==r&&o==h&&g<=c){v.setEnabledPrevious(false)}else{v.setEnabledPrevious(true)}if(g+y>=P.getUTCDate()||i==s&&o==n&&g>=l){v.setEnabledNext(false)}else{v.setEnabledNext(true)}}}function E(){var e=this._getYearPicker();var t=e.getYears();var a=o._createUniversalUTCDate(e.getProperty("_middleDate").toLocalJSDate());a.setUTCFullYear(a.getUTCFullYear()+Math.floor(t/2));var i=this.getAggregation("header");var s=new u(this._oMaxDate);s.setUTCFullYear(s.getUTCFullYear()-Math.ceil(t/2));s.setUTCMonth(11,31);var r=new u(this._oMinDate);r.setUTCFullYear(r.getUTCFullYear()+Math.floor(t/2)+1);r.setUTCMonth(0,1);if(a.getTime()>s.getTime()){i.setEnabledNext(false)}else{i.setEnabledNext(true)}if(a.getTime()<r.getTime()){i.setEnabledPrevious(false)}else{i.setEnabledPrevious(true)}}function L(){var e=this.getAggregation("header");var t;var a=k.call(this);var i;var s=this._getLocaleData();var r=[];var n=[];var h;var g=false;var l;var c=false;if(s.oLocale.sLanguage.toLowerCase()==="ja"||s.oLocale.sLanguage.toLowerCase()==="zh"){l=_.getDateInstance({format:"d"}).format(a,true)}else{l=a.getUTCDate().toString()}if(this._bLongMonth||!this._bNamesLengthChecked){r=s.getMonthsStandAlone("wide")}else{g=true;r=s.getMonthsStandAlone("abbreviated");n=s.getMonthsStandAlone("wide")}var u=a.getUTCMonth();t=r[u];if(g){h=n[r[u]]}if(!this.getPickerPopup()){e.setTextButton0(l);e.setTextButton1(t);e.setTextButton2(this._oYearFormat.format(a,true))}else{i=_.getInstance({style:"long",strictParsing:true,relative:c},s.oLocale);h=l=i.format(o._createLocalDate(a,true));e.setTextButton1(l)}if(g){e.setAriaLabelButton1(h)}}function O(e,t){var a;var i=false;if(e.getTime()<this._oMinDate.getTime()){a=this._oMinDate;i=true}else if(e.getTime()>this._oMaxDate.getTime()){a=this._oMaxDate;i=true}else{a=e}this._setFocusedDate(a);if(i||t){X.call(this,a);S.call(this,false);this.fireStartDateChange()}}function J(e,t){if(e&&(!this._oFocusedDate||this._oFocusedDate.getTime()!=e.getTime())){o._checkJSDateObject(e);e=o._createUniversalUTCDate(e,undefined,true);var a=e.getUTCFullYear();o._checkYearInValidRange(a);if(e.getTime()<this._oMinDate.getTime()||e.getTime()>this._oMaxDate.getTime()){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(e);if(this.getDomRef()&&this._iMode==0){S.call(this,t)}}}function B(e){if(this._iMode!=1){R.call(this)}else{this.setProperty("_currentPicker",y.TIMES_ROW)}}function N(e){var t;if(this.getPickerPopup()){this._showCalendarPicker()}else{if(this._iMode!=2){t=function(){var e=this._getMonthPicker();e._oItemNavigation.focusItem(e.getProperty("_focusedMonth"));e.removeDelegate(t)};x.call(this);this._getMonthPicker().addDelegate({onAfterRendering:t},this)}else{this.setProperty("_currentPicker",y.TIMES_ROW)}}}function V(e){var t;if(this._iMode!=3){t=function(){var e=this._getYearPicker();e.focus();e.removeDelegate(t)};A.call(this);this._getYearPicker().addDelegate({onAfterRendering:t},this)}else{this.setProperty("_currentPicker",y.TIMES_ROW)}}function H(e){this.fireSelect()}function z(e){var t=o._createUniversalUTCDate(e.getParameter("date"),undefined,true);var a=e.getParameter("notVisible");O.call(this,t,a)}function W(e){var t=e.getSource(),a=t.getSelectedDates()[0].getStartDate();var i=new u(this._getFocusedDate().getTime());var s=o._createUniversalUTCDate(a);i.setUTCFullYear(s.getUTCFullYear());i.setUTCMonth(s.getUTCMonth(),s.getUTCDate());O.call(this,i,true);b.call(this)}function j(e){var t=new u(this._getFocusedDate().getTime());var a=e.oSource;var i=a.getSelectedDates()[0];var s=o._createUniversalUTCDate(i.getStartDate());if(!this.getPickerPopup()||s.getUTCMonth()==t.getUTCMonth()){t.setUTCDate(s.getUTCDate());t.setUTCMonth(s.getUTCMonth());t.setUTCFullYear(s.getUTCFullYear());O.call(this,t,true);this.setProperty("_currentPicker",y.TIMES_ROW)}this._addTimesRowFocusDelegate()}function K(e){var t=new u(this._getFocusedDate().getTime());var a=o._createUniversalUTCDate(e.getParameter("date"),undefined,true);var i=e.getParameter("otherMonth");if(i&&a.getUTCMonth()==t.getUTCMonth()&&a.getUTCFullYear()==t.getUTCFullYear()){G.call(this,a)}}function $(e){var t=new u(this._getFocusedDate().getTime());var a=this._getMonthPicker();var i=a.getMonth();t.setUTCMonth(i);if(i!=t.getUTCMonth()){t.setUTCDate(0)}O.call(this,t,true);this.setProperty("_currentPicker",y.TIMES_ROW);this._addTimesRowFocusDelegate()}function q(e){var t=new u(this._getFocusedDate().getTime());var a=this._getYearPicker();var i=o._createUniversalUTCDate(a.getDate());var s=t.getUTCMonth();i.setUTCMonth(t.getUTCMonth(),t.getUTCDate());i.setUTCHours(t.getUTCHours());i.setUTCMinutes(t.getUTCMinutes());t=i;if(s!=t.getUTCMonth()){t.setUTCDate(0)}O.call(this,t,true);this.setProperty("_currentPicker",y.TIMES_ROW);this._addTimesRowFocusDelegate()}P.prototype._addTimesRowFocusDelegate=function(){var e={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(e)}},t=this.getAggregation("timesRow");t.addDelegate(e,t)};function X(e){var t=this.getAggregation("timesRow");var a=k.call(this);var i=t._oItemNavigation.getFocusedIndex();a=new u(e.getTime());a.setUTCMinutes(a.getUTCMinutes()-i*this.getIntervalMinutes());w.call(this,a,false,true)}function G(e){var t=this.getAggregation("datesRow");var a=this.getAggregation("header");if(!this.getPickerPopup()){var i=new u(e.getTime());i.setUTCDate(1);i.setUTCMonth(i.getUTCMonth()+1);i.setUTCDate(0);var s=t.getDays();var r=new u(e.getTime());r.setUTCDate(1+(Math.ceil(e.getUTCDate()/s)-1)*s);if(i.getUTCDate()-r.getUTCDate()<s){r.setUTCDate(i.getUTCDate()-s+1)}t.setStartDate(o._createLocalDate(r,true));var n=r.getJSDate().getUTCFullYear();var h=this._oMaxDate.getJSDate().getUTCFullYear();var g=this._oMinDate.getJSDate().getUTCFullYear();var l=r.getJSDate().getUTCMonth();var c=this._oMaxDate.getJSDate().getUTCMonth();var D=this._oMinDate.getJSDate().getUTCMonth();var _=r.getJSDate().getUTCDate();var d=this._oMaxDate.getJSDate().getUTCDate();var f=this._oMinDate.getJSDate().getUTCDate();if(_<=1||n==g&&l==D&&_<=f){a.setEnabledPrevious(false)}else{a.setEnabledPrevious(true)}if(_+s>=i.getUTCDate()||n==h&&l==c&&_>=d){a.setEnabledNext(false)}else{a.setEnabledNext(true)}if(!this._oFocusDatesRowDelegate){this._oFocusDatesRowDelegate={onAfterRendering:function(){this.focus()}};t.addDelegate(this._oFocusDatesRowDelegate,t)}}else{a.setEnabledPrevious(false);a.setEnabledNext(false)}t.setDate(o._createLocalDate(e,true))}function Q(e){if(!this._oPopup){var i=new a({placement:"VerticalPreferredBottom",showHeader:false,showArrow:false,verticalScrolling:false});i.oPopup.setDurations(0,0);i.addEventDelegate({onsapescape:this._oCalendar.onsapescape},this._oCalendar);this._oPopup=i}this._oPopup.addContent(e);this._oPopup.attachAfterClose(function(){this._hideOverlay();this._addTimesRowFocusDelegate()},this);this._oPopup.attachAfterOpen(function(){var e=s.$("B1");var a=this._oPopup.$();var i=Math.floor((a.width()-e.width())/2);this._oPopup.setOffsetX(t.getRTL()?i:-i);var r=e.height();this._oPopup.setOffsetY(this._oPopup._getCalculatedPlacement()==="Top"?r:-r)},this);var s=this.getAggregation("header");this._oPopup.openBy(s.getDomRef("B1"))}function Z(e,t){var a=0;var i=11;if(e==this._oMinDate.getUTCFullYear()){a=this._oMinDate.getUTCMonth()}if(e==this._oMaxDate.getUTCFullYear()){i=this._oMaxDate.getUTCMonth()}t.setMinMax(a,i)}function ee(e){Y.call(this)}function te(e){E.call(this)}return P});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarTimeIntervalRenderer", ["sap/ui/core/Lib"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,a){var i=a.getId();var n=a.getTooltip_AsString();t.openStart("div",a);t.class("sapUiCal");t.class("sapUiCalInt");t.class("sapUiCalTimeInt");if(a._getShowItemHeader()){t.class("sapUiCalIntHead")}if(a.getPickerPopup()){t.class("sapUiCalIntLarge")}var o=e.getResourceBundleFor("sap.ui.unified");var r={labelledby:{value:"",append:false}};if(a._bPoupupMode){r["role"]="dialog"}else{r["role"]="group";r["roledescription"]=o.getText("CALENDAR_DIALOG")}t.accessibilityState(a,r);if(n){t.attr("title",n)}var s=a.getWidth();if(s&&s!=""){t.style("width",s)}t.openEnd();var l=a.getAggregation("header");t.renderControl(l);t.openStart("div",i+"-content");t.class("sapUiCalContent");t.openEnd();t.renderControl(a.getAggregation(a.getProperty("_currentPicker")));t.close("div");t.openStart("button",i+"-cancel");t.class("sapUiCalCancel");t.attr("tabindex","-1");t.openEnd();t.text(o.getText("CALENDAR_CANCEL"));t.close("button");if(a.getPickerPopup()){t.openStart("div",i+"-contentOver");t.class("sapUiCalContentOver");if(!a._oPopup||!a._oPopup.isOpen()){t.style("display","none")}t.openEnd();t.close("div")}t.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarWeekInterval", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","./library","sap/ui/unified/CalendarDateInterval","sap/ui/unified/CalendarDateIntervalRenderer","sap/ui/unified/DateRange"],function(e,t,a,i,s,r){"use strict";var o=i.extend("sap.ui.unified.CalendarWeekInterval",{renderer:s});o.prototype._getDaysLarge=function(){return 6};o.prototype._handleFocus=function(a){var s=!!a.getParameter("_outsideBorder"),r,o,n;if(s){r=a.getParameter("date");this._oFocusDateWeek=t.fromLocalJSDate(r);o=e._getFirstDateOfWeek(this._oFocusDateWeek);n=this.getAggregation("month")[0];if(n.getDomRef()){this._setStartDate(o,false,true)}}return i.prototype._handleFocus.apply(this,arguments)};o.prototype._focusDateExtend=function(e,t,a){var s,r;if(!this._oFocusDateWeek){return i.prototype._focusDateExtend.apply(this,arguments)}s=this.getAggregation("month")[0];r=this._oFocusDateWeek.toLocalJSDate();this._setFocusedDate(this._oFocusDateWeek);s.setDate(r);this._oFocusDateWeek=null;return!a};o.prototype._dateMatchesVisibleRange=function(e){var a=this.getDays(),i=t.fromLocalJSDate(e),s=t.fromLocalJSDate(this.getStartDate()),r=t.fromLocalJSDate(this.getStartDate());r.setDate(r.getDate()+a);return i.isSameOrAfter(s)&&i.isBefore(r)};o.prototype._showCalendarPicker=function(){var e=this._getFocusedDate(),a=this._getStartDate(),i=this._getCalendar(),s=new r,o;o=new t(a);o.setDate(o.getDate()+this._getDays()-1);s.setStartDate(a.toLocalJSDate());s.setEndDate(o.toLocalJSDate());i.displayDate(e.toLocalJSDate(),false);i.removeAllSelectedDates();i.addSelectedDate(s);i.setMinDate(this.getMinDate());i.setMaxDate(this.getMaxDate());this._openPickerPopup(i)};o.prototype._handleCalendarPickerDateSelect=function(a){var i=this._getCalendar(),s=i.getSelectedDates()[0].getStartDate(),r=t.fromLocalJSDate(s),o;if(this._dateMatchesVisibleRange(r.toLocalJSDate())){this._oFocusDateWeek=r;this._focusDate(this._oFocusDateWeek,false,true)}else{o=e._getFirstDateOfWeek(r);this._setStartDate(o);this._oFocusDateWeek=r;this._focusDate(this._oFocusDateWeek,false,true)}this._closeCalendarPicker(true)};o.prototype._calculateStartDate=function(e,a,i){var e=new t(this._oMaxDate,this.getPrimaryCalendarType());e=this._getMaxDateAlignedToMinDate(e,this._oMinDate);i=this._getStartDateAlignedToMinAndMaxDate(e,this._oMinDate,i);return i};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPicker", ["./library","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/Lib","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","./ColorPickerHelper","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/Global"],function(e,t,i,s,o,a,l,r,h,n,d,u,p,C,c,g,f,jQuery){"use strict";var S=C.ValueState,b=e.ColorPickerMode,_=e.ColorPickerDisplayMode;var y=i.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:b.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:_.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:c});var R="",H=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),F=o.getResourceBundleFor("sap.ui.unified"),L={};Object.defineProperties(L,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"00000000"}}});y.prototype.init=function(){this.oColorPickerHelper=g.getHelper();if(p.browser.firefox){R="-moz-linear-gradient"}else if(p.browser.webkit){R="-webkit-linear-gradient"}else{R="linear-gradient"}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=t.getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=this.oColorPickerHelper.isResponsive();var e=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var i=d.get({name:e,callback:function(e){this._iCPCursorSize=parseInt(e)}.bind(this)});if(i){this._iCPCursorSize=parseInt(i)}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false};var P=i.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=t.getRTL()},exit:function(){if(this._sResizeListener){a.deregister(this._sResizeListener)}},getWidth:function(){return this.$().width()},getOffset:function(){return this.$().offset()},onBeforeRendering:function(){if(this._sResizeListener){a.deregister(this._sResizeListener)}},onAfterRendering:function(){this._handle=this.$().find("> div."+L.CPCircleClass);this._sResizeListener=a.register(this.getDomRef(),this.handleResize.bind(this))},handleResize:function(e){this.fireResize({size:e.size.width})},getHandle:function(){return this._handle},ontouchstart:function(e){this.handleTouch(e)},ontouchend:function(e){this.handleTouch(e)},ontouchmove:function(e){this.handleTouch(e)},handleTouch:function(e){var t=this.calculateValuesFromEvent(e);if(t){this.fireSelect(t)}},calculateValuesFromEvent:function(e){var t=e.offsetX,i=e.offsetY,s,o=s=this.getWidth(),a,l;e.preventDefault&&e.preventDefault();if(!t){a=e.targetTouches?e.targetTouches[0]:e;if(!a||!a.pageX){a=e;if((!a||!a.pageX)&&e.changedTouches){a=e.changedTouches[0]}}if(!a.pageX){return false}l=this.getOffset();t=a.pageX-l.left;i=a.pageY-l.top}t=Math.min(Math.max(t,0),o);i=Math.min(Math.max(i,0),s);if(this.bRtl){t=o-t}return{value:t/o*100,saturation:(1-i/s)*100}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class(L.CPBoxClass);e.openEnd();e.openStart("div",t.getId()+"-cpCur");e.class(L.CPCircleClass);e.openEnd().close("div");e.close("div")}}});y.prototype._createRowFromInput=function(e,t,i,s){var o=F.getText(t),a;a=new n({content:[this.oColorPickerHelper.factory.createLabel({text:i,tooltip:o,labelFor:e}).addStyleClass(L.LabelClass),e.setTooltip(o)]});if(s){a.addContent(this.oColorPickerHelper.factory.createLabel({text:s,labelFor:e}).addStyleClass(L.UnitLabelClass).addStyleClass(L.LabelClass))}return a};y.prototype._updateColorStringProperty=function(e,t){var i=this._getCSSColorString();this.setProperty("colorString",i,true);if(t){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}if(e){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}};y.prototype._handleCPBoxSelectEvent=function(e){var t=e.getParameter("value"),i=e.getParameter("saturation");this.oSatField.setValue(i);if(this._bHSLMode){this.oLitField.setValue(t)}else{this.oValField.setValue(t)}this._processChanges();this._updateColorStringProperty(false,true)};y.prototype._handleCPBoxResizeEvent=function(e){this._iCPBoxSize=e.getParameter("size");this._updateCursorPosition()};y.prototype._handleCPBoxTouchEndEvent=function(e){this._updateColorStringProperty(true,false)};y.prototype._createInteractionControls=function(){var t=this.getId();this.oCPBox=new P(t+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=this.oColorPickerHelper.factory.createInput(t+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(L.HEXClass);this.oRedField=this.oColorPickerHelper.factory.createInput(t+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(L.LeftColumnInputClass);this.oGreenField=this.oColorPickerHelper.factory.createInput(t+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(L.LeftColumnInputClass);this.oBlueField=this.oColorPickerHelper.factory.createInput(t+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(L.LeftColumnInputClass);this.oHueField=this.oColorPickerHelper.factory.createInput(t+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(L.RightColumnInputClass);this.oSatField=this.oColorPickerHelper.factory.createInput(t+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+u.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(L.RightColumnInputClass);this.oLitField=this.oColorPickerHelper.factory.createInput(t+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+u.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass);this.oAlphaField=this.oColorPickerHelper.factory.createInput(t+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=this.oColorPickerHelper.factory.createInput(t+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=this.oColorPickerHelper.factory.createInput(t+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:u.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(L.RightColumnInputClass).addStyleClass(L.HideForHSLClass);this.oRGBorHSLRBGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[this.oColorPickerHelper.factory.createRadioButtonItem({text:L.RGB}),this.oColorPickerHelper.factory.createRadioButtonItem({text:e.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0}).addStyleClass(L.OutputSelectorClass);this.oHueInvisibleText=new u({text:F.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=this.oColorPickerHelper.factory.createSlider(t+"-hSLD",{max:360,step:1,tooltip:F.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(L.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new u({text:F.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=this.oColorPickerHelper.factory.createSlider(t+"-aSLD",{max:1,value:1,step:.01,tooltip:F.getText("COLORPICKER_ALPHA")}).addStyleClass(L.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this))};y.prototype._createLayout=function(){var e=this.getId(),t;if(this._bLayoutControlsCreated){return}this._createInteractionControls();if(this.getDisplayMode()===_.Large){this._toggleInputsEnabled(this.Color.formatHSL)}this.oCPBoxGD=new r({span:"L6 M6 S12"});this.icOne=new r({span:"L3 M3 S6"});this.icTwo=new r({span:"L3 M3 S6"});this.swatches=new r({span:"L3 M3 S12"});this.rbg=new r({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(e)}else{t=this._createCommonsColorPicker(t,e);this.setAggregation("_grid",t,true)}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary()}};y.prototype._adaptControlToLibrary=function(){var e;if(!this._bLayoutControlsCreated){return}e=this.getAggregation("_grid");if(this.bResponsive){if(!p.system.phone&&!jQuery("html").hasClass("sapUiMedia-Std-Phone")){e._setBreakPointTablet(400)}e.addStyleClass(L.CPResponsiveClass)}else{e.setProperty("hSpacing",0,true);e.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8)}};y.prototype._updateControlVisualState=function(){var e=this.getAggregation("_grid");if(!e){return}if(this.bResponsive){if(this._bHSLMode){e.addStyleClass(L.HSLClass);this.swatches.setSpanM(4).setLinebreak(true)}else{e.removeStyleClass(L.HSLClass);this.swatches.setSpanM(3).setLinebreak(false)}}else{if(this._bHSLMode){e.addStyleClass(L.HSLClass);this.swatches.setSpanS(4).setLinebreak(true)}else{e.removeStyleClass(L.HSLClass);this.swatches.setSpanS(3).setLinebreak(false)}}};y.prototype._processChanges=function(){};y.prototype.setMode=function(t,i){this._bLayoutControlsCreated=false;switch(t){case e.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case e.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:f.error("Control must have a valid mode set to work correct");break}this._bHSLMode=t===e.ColorPickerMode.HSL;return this.setProperty("mode",t,i)};y.prototype.setDisplayMode=function(e){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",e,false)};y.prototype._cleanup=function(){var e=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];e.forEach(function(e){if(e){e.destroy()}},this);this._bLayoutControlsCreated=false};y.prototype.exit=function(){this._cleanup()};y.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString()};y.prototype._updateAlphaValue=function(e){this.Color.a=this._getValueInRange(e,0,1)};y.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0)}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0)}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a)}this._updateColorStringProperty(false,false)};y.prototype.isColor=function(e){return this._parseColorString(e,true)};y.prototype._handleSliderChange=function(e,t){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(t==="change",t==="liveChange")};y.prototype._handleAlphaSliderChange=function(e,t){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(t==="change",t==="liveChange")};y.prototype._getValueInRange=function(e,t,i){if(isNaN(e)){e=0}return Math.min(Math.max(e,t),i)};y.prototype._handleAlphaValueChange=function(e){var t=e.getParameter("id")=="cp-aF2"?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);t=this._getValueInRange(t,0,1);this.Color.a=t;this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t);this.oAlphaSlider.setValue(t);if(!this.Color.formatHSL){this._processRGBChanges()}else{this._processChanges()}this._updateColorStringProperty(true,true)};y.prototype._handleRGBorHSLValueChange=function(e){this.Color.formatHSL=e.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true)};y.prototype._toggleInputsEnabled=function(e){this.oRedField.setEnabled(!e);this.oGreenField.setEnabled(!e);this.oBlueField.setEnabled(!e);this.oHueField.setEnabled(!!e);this.oSatField.setEnabled(!!e);this.oLitField.setEnabled(!!e);this.oValField.setEnabled(!!e)};y.prototype._handleHueValueChange=function(){var e=parseInt(this.oHueField.getValue());e=this._getValueInRange(e,0,360);this.oHueField.setValue(e);this.oSlider.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};y.prototype._handleSatValueChange=function(){var e=parseInt(this.oSatField.getValue());e=this._getValueInRange(e,0,100);this.oSatField.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};y.prototype._handleValValueChange=function(){var e=parseInt(this.oValField.getValue());e=this._getValueInRange(e,0,100);this.oValField.setValue(e);this._processHSVChanges();this._updateColorStringProperty(true,true)};y.prototype._handleLitValueChange=function(){var e=parseInt(this.oLitField.getValue());e=this._getValueInRange(e,0,100);this.oLitField.setValue(e);this._processHSLChanges();this._updateColorStringProperty(true,true)};y.prototype._handleRedValueChange=function(){var e=parseInt(this.oRedField.getValue());e=this._getValueInRange(e,0,255);this.oRedField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._handleGreenValueChange=function(){var e=parseInt(this.oGreenField.getValue());e=this._getValueInRange(e,0,255);this.oGreenField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._handleBlueValueChange=function(){var e=parseInt(this.oBlueField.getValue());e=this._getValueInRange(e,0,255);this.oBlueField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};y.prototype._processHSVChanges=function(){var e=parseInt(this.oHueField.getValue());var t=parseInt(this.oSatField.getValue());var i=parseInt(this.oValField.getValue());this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.v=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground()};y.prototype._processHSLChanges=function(){var e=parseInt(this.oHueField.getValue()),t=parseInt(this.oSatField.getValue()),i=parseInt(this.oLitField.getValue());if(e>360){e%=360}this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.l=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};y.prototype._processRGBChanges=function(){var e=Math.round(parseInt(this.oRedField.getValue())),t=Math.round(parseInt(this.oGreenField.getValue())),i=Math.round(parseInt(this.oBlueField.getValue())),s=e+t+i===765;this._calculateHEX(e,t,i);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(e,t,i);this.oLitField.setValue(this.Color.l)}else{if(!s){this._calculateHSV(e,t,i)}this.oValField.setValue(this.Color.v)}if(!s){this.oHueField.setValue(this.Color.h)}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=e;this.Color.g=t;this.Color.b=i;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};y.prototype._handleHexValueChange=function(){var e=this.oHexField.getValue().toLowerCase(),t=1,i;if(e.substr(0,1)==="#"){e=e.substr(1)}i=/^([0-9a-fA-F]{8})$/;if(i.test(e)!==false){t=Number((parseInt(e.substr(6,2),16)/255).toFixed(2));e=e.substr(0,6)}i=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(i.test(e)===false){this.oHexField.setValueState(S.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false)}else{this.oValField.setEnabled(false)}return}else if(this.oHexField.getValueState()===S.Error){this.oHexField.setValueState(S.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true)}else{this.oValField.setEnabled(true)}}if(e.length===3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}this._processHexChanges(e);this.oHexField.setValue(e);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1)}else{this.oValField.setValue(this.Color.v)}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(t);this.Color.a=t;if(this._bHSLMode){this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t)}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true)};y.prototype._processHexChanges=function(e){this._convertRGB(e);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b)}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b)}this.Color.hex="#"+e.toLowerCase()};y.prototype._updateAlphaBackground=function(){var e=[this.Color.r,this.Color.g,this.Color.b].join(","),t=R+"(left,rgba("+e+",0),rgba("+e+",1)),url("+H+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",t)};y.prototype._updateCursorPosition=function(){var e,i;if(!this._iCPBoxSize){return}if(this._bHSLMode){e=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100)}else{e=Math.round(this.oValField.getValue()*this._iCPBoxSize/100)}if(t.getRTL()){e=this._iCPBoxSize-e}i=Math.round((1-this.oSatField.getValue()/100)*this._iCPBoxSize);e=Math.round(Math.max(e,0)-this._iCPCursorSize/2-1);i=Math.round(Math.max(i,0)-this._iCPCursorSize/2-1);this.$CPCur.css("left",e).css("top",i)};y.prototype._calculateRGB=function(e,t,i){var s,o,a,l,r,h,n;if(this._bHSLMode){this._calculateRGBAdvanced(e,t,i);return}e%=360;e/=60;t/=100;i/=100;h=i*t;r=h*(1-Math.abs(e%2-1));l=i-h;s=0;o=0;a=0;n=Math.floor(e);switch(n){case 0:s=h;o=r;break;case 1:s=r;o=h;break;case 2:o=h;a=r;break;case 3:o=r;a=h;break;case 4:s=r;a=h;break;case 5:s=h;a=r;break;default:s=0;a=0;o=0;break}this.RGB.r=Math.floor((s+l)*255);this.RGB.g=Math.floor((o+l)*255);this.RGB.b=Math.floor((a+l)*255)};y.prototype._calculateRGBAdvanced=function(e,t,i){var s,o,a,l,r,h,n,d,u;e=this._getValueInRange(e,0,360);e%=360;if(t>100){t=1}else if(t<0){t=0}else{t=t/100}if(i>100){i=1}else if(i<0){i=0}else{i=i/100}d=t*(1-Math.abs(2*i-1));n=255*(i-.5*d);h=d*(1-Math.abs(e/60%2-1));u=Math.floor(e/60);r=n+255*h;l=n+255*d;switch(u){case 0:s=l;o=r;a=n;break;case 1:s=r;o=l;a=n;break;case 2:s=n;o=l;a=r;break;case 3:s=n;o=r;a=l;break;case 4:s=r;o=n;a=l;break;case 5:s=l;o=n;a=r;break;default:s=0;o=0;a=0;break}this.RGB.r=Math.round(s);this.RGB.g=Math.round(o);this.RGB.b=Math.round(a)};y.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")"}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)"}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")"}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")"}};y.prototype._calculateHEX=function(e,t,i){var s=e.toString(16),o=t.toString(16),a=i.toString(16);if(s.length===1){s="0"+s}if(o.length===1){o="0"+o}if(a.length===1){a="0"+a}this.sHexString=(s+o+a).toLowerCase()};y.prototype._calculateHSV=function(e,t,i){var s=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),a=s-o,l=Math.round(s*100/255),r=s===0?0:100*a/s,h=0;if(r===0){h=0}else if(e===s){h=60*(t-i)/a}else if(t===s){h=120+60*(i-e)/a}else if(i===s){h=240+60*(e-t)/a}if(h<0){h+=359.9}h=Math.round(h);r=Math.round(r);this.Color.h=h;this.Color.s=r;this.Color.v=l};y.prototype._calculateHSL=function(e,t,i){var s=Math.max(e,t,i),o=Math.min(e,t,i),a=(s-o)/255,l=(s+o)/510,r=1-Math.abs(2*l-1),h=l===0?0:a/r,n=r!==0?h:0,d=0;l=Math.round(l*100);n=Math.round(n*100);if(l===0||n===0||e+t+i===765){d=0}else{var u=s-o;if(s===e){d=(t-i)/u%6}if(s===t){d=(i-e)/u+2}if(s===i){d=(e-t)/u+4}if(u===0){d=0}d*=60;if(d<0){d+=360}}if(d!==0||this.Color.h!==360){this.Color.h=Math.round(d)}this.Color.s=n;this.Color.l=l};y.prototype._convertRGB=function(e){this.Color.r=parseInt(e.substr(0,2),16);this.Color.g=parseInt(e.substr(2,2),16);this.Color.b=parseInt(e.substr(4,2),16)};y.prototype._updateGradientBoxBackground=function(e){if(this._bHSLMode){this._calculateRGBAdvanced(e,100,50)}else{this._calculateRGB(e,100,100)}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css("background-color","rgb("+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+")")};y.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",this._getCSSColorString())};y.prototype._parseColorString=function(e,t){var i;if(e.substr(0,1)==="#"){e=e.substr(1)}e=e.trim().toLowerCase();i=this._parseColorName(e);if(i){if(t){return true}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6)}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)){if(t){return true}if(e.length===3){i=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}else{i=e}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(e.substr(0,3)==="rgb"){return this._parseRGB(e,t)}if(this._bHSLMode){return this._parseHSL(e,t)}else if(e.substr(0,3)==="hsv"){return this._parseHSV(e,t)}return false};y.prototype._parseHSV=function(e,t){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,s,o,a,l;e=e.substr(3).replace("(","").replace(")","").split(" ").join("");if(i.test(e)===true){if(t){return true}s=e.split(",");o=parseInt(s[0]);a=parseInt(s[1]);l=parseInt(s[2]);this._calculateRGB(o,a,l);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=o;this.Color.s=a;this.Color.v=l;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true}return false};y.prototype._parseHSL=function(e,t){var i,s=e.substr(0,4),o,a,l,r,h;if(s==="hsla"){o=true}else if(s==="hsl("){o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");i=e.split(",");a=parseInt(i[0]);l=parseFloat(i[1]);r=parseFloat(i[2]);if(o){h=parseFloat(i[3])}else{if(i[3]&&parseFloat(i[3])>=0){return false}h=1}l=l<1&&l>0?l*100:l;r=r<1&&r>0?r*100:r;if(a>=0&&a<=360&&(l>=0&&l<=100)&&(r>=0&&r<=100)&&(h>=0&&h<=1)){if(t){return true}this._calculateRGB(a,l,r);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=a;this.Color.s=l;this.Color.l=r;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=h;this.Color.formatHSL=true}else{return false}return true};y.prototype._parseRGB=function(e,t){var i,s,o,a;s=e.substring(0,4);if(s==="rgba"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true}else if(s.substring(0,3)==="rgb"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");if(a.test(e)){if(t){return true}i=e.split(",");this._calculateHEX(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(i[3])}return true}if(this._bHSLMode){this.Color.formatHSL=false}return false};y.prototype._parseColorName=function(e){return L.Colors[e]};y.prototype.onAfterRendering=function(){var e=this._getCSSColorString(),t=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",e);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css("background-color",e);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(jQuery(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(jQuery(this.oAlphaSlider.oGrip).outerWidth()/2);if(t&&t.getMetadata().getName()==="sap.m.Dialog"){t.addStyleClass("sapUiCPDialog")}this.addStyleClass("sapUiCPDisplayRGB");if(p.system.phone){this._toggleFields()}};y.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b}};y.prototype._getConstants=function(){return L};y.prototype._createCommonsColorPicker=function(e,t){e=new l({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new h({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new h({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(L.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(L.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(L.LastColumnClass),new n({content:[new s({content:["<div id='",t,"-ocBox' class='",L.OldColorClass,"'></div>"].join("")}),new s({content:["<div id='",t,"-ncBox' class='",L.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(L.SwatchesClass),new n({content:[this.oColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(L.HideForHSVClass).addStyleClass(L.OutputSelectorRowClass),this.oSlider.setLayoutData(new r({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new r({span:"L6 M6 S12"}))]}).addStyleClass(L.CPMatrixClass);return e};y.prototype._createUnifiedColorPicker=function(e){var t=this;this.oRbRGB=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:F.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:F.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=this.oColorPickerHelper.factory.createButton(e+"-toggleMode",{type:p.system.phone?"Default":"Transparent",tooltip:F.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(e){t._toggleFields()}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true)};y.prototype._toggleFields=function(){if(!p.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break}}};return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", ["sap/ui/base/DataType"],function(e){"use strict";var i={Default:"Default",Large:"Large",Simplified:"Simplified"};e.registerEnum("sap.ui.unified.ColorPickerDisplayMode",i);return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerHelper", ["sap/ui/core/Lib"],function(e){"use strict";var t;var n={isResponsive:function(){return true},factory:{createLabel:function(e){return new sap.m.Label(e)},createInput:function(e,t){return new sap.m.InputBase(e,t)},createSlider:function(e,t){return new sap.m.Slider(e,t)},createRadioButtonGroup:function(e){return new sap.m.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.m.RadioButton(e)},createButton:function(e,t){return new sap.m.Button(e,t)}}};var r={isResponsive:function(){return false},factory:{createLabel:function(e){return new sap.ui.commons.Label(e)},createInput:function(e,t){return new sap.ui.commons.TextField(e,t)},createSlider:function(e,t){if(t&&t.step){t.smallStepWidth=t.step;delete t.step}return new sap.ui.commons.Slider(e,t)},createRadioButtonGroup:function(e){if(e&&e.buttons){e.items=e.buttons;delete e.buttons}return new sap.ui.commons.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.ui.core.Item(e)}}};var o={isResponsive:function(){return false},factory:{createLabel:function(){throw new Error("no Label control available")},createInput:function(){throw new Error("no Input control available")},createSlider:function(){throw new Error("no Slider control available")},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available")},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available")}}};t={getHelper:function(){if(e.isLoaded("sap.m")){return n}else if(e.isLoaded("sap.ui.unified")){return r}return o}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerPopover", ["sap/ui/core/Control","sap/ui/Device","sap/m/Button","sap/m/ResponsivePopover","./ColorPicker","./library","sap/m/library","sap/ui/core/Lib","sap/ui/thirdparty/jquery"],function(e,t,o,r,i,n,p,a,jQuery){"use strict";var s=p.PlacementType;var l=n.ColorPickerMode,u=n.ColorPickerDisplayMode;var P=p.ButtonType;var y=e.extend("sap.ui.unified.ColorPickerPopover",{metadata:{library:"sap.ui.unified",publicMethods:["openBy","close"],properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:l.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:u.Default}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:{apiVersion:2}});var c=a.getResourceBundleFor("sap.ui.unified");var h={COLOR_PICKER_PROPS:{colorString:"setColorString",mode:"setMode",displayMode:"setDisplayMode"},POPOVER_METHODS:{getDomRef:"",close:""}};y.prototype.init=function(){this._oPopover=null;this._bPopoverDestroying=null};y.prototype.exit=function(){this._bPopoverDestroying=true;if(this._oPopover){this._oPopover.removeDelegate(this._oPopover._onAfterRenderingDelegate);this._oPopover.destroy();this._oPopover=null}};y.prototype.openBy=function(e){return r.prototype.openBy.apply(this._ensurePopover(),arguments)};y.prototype._getColorPicker=function(){return this._ensurePopover().getContent()[0]};y.prototype._ensurePopover=function(){if(!this._oPopover){this._oPopover=this._createPopover()}return this._oPopover};y.prototype._createPopover=function(){var e,i=this._createColorPicker(),n,p=this;e=new r(this.getId()+"-colorPickerPopover",{showHeader:t.system.phone,placement:s.VerticalPreferredBottom,showArrow:false,showCloseButton:false,beginButton:new o({text:c.getText("COLOR_PICKER_SUBMIT"),type:P.Emphasized,press:function(){p.fireChange(p._oLastChangeCPParams);e.close()}}),endButton:new o({text:c.getText("COLOR_PICKER_CANCEL"),press:function(){e.close()}}),title:c.getText("COLOR_PICKER_TITLE"),content:i});i.attachChange(function(e){this._handleChange(e)}.bind(this));i.attachLiveChange(function(e){this.fireLiveChange(e.getParameters())}.bind(this));n={onAfterRendering:function(){var e=this.$();e.attr("aria-modal","true");e.attr("aria-label",this.getTitle())}};e.addEventDelegate(n,e);e._onAfterRenderingDelegate=n;return e};y.prototype._handleChange=function(e){var t={};this._oLastChangeCPParams=jQuery.extend(t,e.getParameters());delete this._oLastChangeCPParams.id;return this};y.prototype._createColorPicker=function(){var e=new i(this.getId()+"-color_picker");return e};y.prototype.setProperty=function(t,o,r){var n;if(h.COLOR_PICKER_PROPS[t]!==undefined){n=h.COLOR_PICKER_PROPS[t]||t;i.prototype[n].call(this._getColorPicker(),o)}return e.prototype.setProperty.apply(this,arguments)};Object.keys(h.POPOVER_METHODS).forEach(function(e){var t=h.POPOVER_METHODS[e]||e;y.prototype[e]=function(){if(this._bPopoverDestroying){return null}var e=this._ensurePopover();return e[t].apply(e,arguments)}});return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerRenderer", ["./ColorPickerDisplayMode","sap/ui/Device","sap/ui/core/Lib"],function(e,o,t){"use strict";var r={apiVersion:2};var n=t.getResourceBundleFor("sap.ui.unified");r.render=function(t,r){var i=r.getDisplayMode(),s=r.bResponsive;t.openStart("div",r);t.accessibilityState(r,{role:"group",roledescription:n.getText("COLOR_PICKER_TITLE")});if(s){t.class("sapUiColorPicker-ColorPickerMatrix");t.class("sapUiColorPicker-"+i);t.class("sapUnifiedColorPicker");if(r._bHSLMode){t.class("sapUiColorPickerHSL")}}if(o.system.phone){t.class("sapUiCPPhone")}t.openEnd();if(!s){t.renderControl(r.getAggregation("_grid"))}else{switch(i){case e.Default:this.renderDefaultColorPicker(t,r);break;case e.Large:this.renderLargeColorPicker(t,r);break;case e.Simplified:this.renderSimplifiedColorPicker(t,r)}}t.close("div")};r.renderDefaultColorPicker=function(e,t){e.renderControl(t.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(t.getAggregation("_oSlider"));e.renderControl(t.getAggregation("_oAlphaSlider"));e.close("div");this.renderMobileSwatches(e,t);e.close("div")}else{e.renderControl(t.getAggregation("_oSlider"));e.renderControl(t.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,t)}e.openStart("div");e.class("sapUiCPDefaultWrapper");e.openEnd();if(o.system.phone){e.renderControl(t.getAggregation("_oHexField"));e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div")}e.openStart("div");e.class("sapUiCPDefaultRGB");e.openEnd();e.renderControl(t.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oAlphaField"));e.close("div");e.openStart("div");e.class("sapUiCPDefaultHSLV");e.openEnd();e.renderControl(t.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(t.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(t.getAggregation("_oLitField"));e.renderControl(t.getAggregation("_oValField"));if(t.getMode()==="HSL"){e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div")}else{this.renderEmptyDiv(e)}e.renderControl(t.getAggregation("_oAlphaField2"));e.close("div");e.renderControl(t.getAggregation("_oButton"));this.renderRGBLabel(e,t);this.renderHSLVLabel(e,t);e.close("div")};r.renderLargeColorPicker=function(e,o){e.renderControl(o.getAggregation("_oCPBox"));e.renderControl(o.getAggregation("_oSlider"));e.renderControl(o.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,o);e.renderControl(o.oRGBorHSLRBUnifiedGroup);e.openStart("div");e.class("sapUiCPRGBA");e.openEnd();e.renderControl(o.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oAlphaField"));e.close("div");this.renderRGBLabel(e,o);e.openStart("div");e.class("sapUiCPHSLV");e.openEnd();e.renderControl(o.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");const t=o.getMode()==="HSL";if(t){e.renderControl(o.getAggregation("_oLitField"))}else{e.renderControl(o.getAggregation("_oValField"))}e.openStart("div");e.class("sapUiCPPercentSymbol");if(!t){e.style("visibility","hidden")}e.openEnd();e.text("%");e.close("div");e.renderControl(o.getAggregation("_oAlphaField2"));e.close("div");this.renderHSLVLabel(e,o)};r.renderSimplifiedColorPicker=function(e,t){e.renderControl(t.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(t.getAggregation("_oSlider"));e.close("div");e.renderControl(t.getAggregation("_oHexField"));this.renderMobileSwatches(e,t);e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div");e.close("div");e.close("div")}else{e.renderControl(t.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(e,t)}};r.renderDesktopSwatchesAndHexFields=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.attr("title",n.getText("COLOR_PICKER_CURRENT_COLOR_TOOLTIP"));e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.attr("title",n.getText("COLOR_PICKER_NEW_COLOR_TOOLTIP"));e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("span");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("span");e.close("div");e.renderControl(o.getAggregation("_oHexField"))};r.renderMobileSwatches=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.class("sapUiCPComparisonWrapperPhone");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div")};r.renderEmptyDiv=function(e){e.openStart("div");e.class("sapUiCPEmptyDiv");e.openEnd();e.close("div")};r.renderRGBLabel=function(e,o){e.openStart("div");e.class("sapUiCPRGBText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("R");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("G");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("B");e.close("span");this.renderEmptyDiv(e);if(o.getDisplayMode()==="Default"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.close("span")}e.close("div")};r.renderHSLVLabel=function(e,o){e.openStart("div");e.class("sapUiCPHSLVText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("H");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("S");e.close("span");this.renderEmptyDiv(e);if(o.getMode()==="HSL"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("L");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("V");e.close("span")}this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span");e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ContentSwitcher", ["sap/ui/core/Control","./library","./ContentSwitcherRenderer","sap/base/Log"],function(t,e,n,i){"use strict";var o=e.ContentSwitcherAnimation;var r=t.extend("sap.ui.unified.ContentSwitcher",{metadata:{deprecated:true,library:"sap.ui.unified",properties:{animation:{type:"string",group:"Appearance",defaultValue:"None"},activeContent:{type:"int",group:"Behavior",defaultValue:1}},aggregations:{content1:{type:"sap.ui.core.Control",multiple:true,singularName:"content1"},content2:{type:"sap.ui.core.Control",multiple:true,singularName:"content2"}}},renderer:n});(function(t){r.prototype.init=function(){};r.prototype.switchContent=function(){this.setActiveContent(this.getActiveContent()==1?2:1);return this};r.prototype.onAfterRendering=function(){this._$Contents=[this.$("content1"),this.$("content2")]};r.prototype._showActiveContent=function(t){if(this._$Contents){this._$Contents[0].toggleClass("sapUiUfdCSwitcherVisible",t===1);this._$Contents[1].toggleClass("sapUiUfdCSwitcherVisible",t===2)}};r.prototype.setActiveContent=function(t){t=parseInt(t);if(isNaN(t)||t<1){t=1;i.warning("setActiveContent argument must be either 1 or 2. Active content set to 1.")}else if(t>2){t=2;i.warning("setActiveContent argument must be either 1 or 2. Active content set to 2.")}this.setProperty("activeContent",t,true);this._showActiveContent(t);return this};r.prototype.setAnimation=function(t,e){if(typeof t!=="string"){t=o.None;i.warning('setAnimation argument must be a string. Animation was set to "'+o.None+'".')}t=t.replace(/[^a-zA-Z0-9]/g,"");var n=this.getProperty("animation");if(t===n){return this}var r=this.$();if(r[0]){r.toggleClass("sapUiUfdCSwitcherAnimation"+n,false);r.toggleClass("sapUiUfdCSwitcherAnimation"+t,true)}return this.setProperty("animation",t,e)}})(window);return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ContentSwitcherRenderer", ["sap/ui/core/ControlBehavior","sap/ui/unified/library","sap/base/security/encodeXML","sap/ui/core/Configuration"],function(t,e,i,n){"use strict";var r=e.ContentSwitcherAnimation;var o={};o.render=function(e,o){var a=o.getId();var s=o.getAnimation();if(t.getAnimationMode()===n.AnimationMode.none){s=r.None}var d=o.getActiveContent();e.write("<div");e.writeControlData(o);e.addClass("sapUiUfdCSwitcher");e.addClass("sapUiUfdCSwitcherAnimation"+i(s));e.writeClasses();e.write(">");e.write('<section id="'+a+'-content1" class="sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent1'+(d==1?" sapUiUfdCSwitcherVisible":"")+'">');this.renderContent(e,o.getContent1());e.write("</section>");e.write('<section id="'+a+'-content2" class="sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent2'+(d==2?" sapUiUfdCSwitcherVisible":"")+'">');this.renderContent(e,o.getContent2());e.write("</section>");e.write("</div>")};o.renderContent=function(t,e){for(var i=0;i<e.length;++i){t.renderControl(e[i])}};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Currency", ["sap/ui/core/Control","sap/m/library","sap/ui/core/format/NumberFormat","./CurrencyRenderer"],function(e,t,r,i){"use strict";var n=t.EmptyIndicatorMode;var u=e.extend("sap.ui.unified.Currency",{metadata:{library:"sap.ui.unified",properties:{value:{type:"float",group:"Appearance",defaultValue:0},stringValue:{type:"string",group:"Appearance",defaultValue:null},currency:{type:"string",group:"Appearance",defaultValue:null},maxPrecision:{type:"int",group:"Appearance"},useSymbol:{type:"boolean",group:"Appearance",defaultValue:true},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:n.Off}},designtime:"sap/ui/unified/designtime/Currency.designtime",dnd:{draggable:true,droppable:false}},renderer:i});u.FIGURE_SPACE="";u.PUNCTUATION_SPACE="";u.prototype.init=function(){this._oFormat=r.getCurrencyInstance({showMeasure:false})};u.prototype.exit=function(){this._oFormat=null;this._$Value=null;this._$Currency=null;this._sLastCurrency=null;this._iLastCurrencyDigits=null;this._bRenderNoValClass=null};u.prototype.onAfterRendering=function(){if(this.$()){this._$Value=this.$().find(".sapUiUfdCurrencyValue");this._$Currency=this.$().find(".sapUiUfdCurrencyCurrency")}};u.prototype.setValue=function(e){if(this.isBound("value")){this._bRenderNoValClass=e==null}this.setProperty("value",e,true);this._renderValue();return this};u.prototype.unbindProperty=function(t){e.prototype.unbindProperty.apply(this,arguments);if(t==="value"){this._bRenderNoValClass=false}};u.prototype.setCurrency=function(e){var t,r;this.setProperty("currency",e,true);this._renderCurrency();t=this._oFormat.oLocaleData.getCurrencyDigits(e);if(this._iLastCurrencyDigits!=null&&this._iLastCurrencyDigits!==t){r=true}else if(this._oFormat.oLocaleData.getCurrencyDigits()!==t){r=true}this._iLastCurrencyDigits=t;if(this._sLastCurrency==="*"||e==="*"){r=true}this._sLastCurrency=e;if(r){this._renderValue()}return this};u.prototype.setUseSymbol=function(e){this.setProperty("useSymbol",e,true);this._renderCurrency();return this};u.prototype.setMaxPrecision=function(e){this.setProperty("maxPrecision",e,true);this._renderValue();return this};u.prototype._renderValue=function(){if(this._$Value){this._$Value.text(this.getFormattedValue())}};u.prototype._renderCurrency=function(){if(this._$Currency){this._$Currency.text(this._getCurrency())}};u.prototype._getCurrency=function(){return this.getUseSymbol()?this.getCurrencySymbol():this.getCurrency()};u.prototype.getFormattedValue=function(){var e=this.getCurrency(),t,r,i,n=this.getMaxPrecision(),s=!n&&n!==0;if(e==="*"){return""}r=this._oFormat.oLocaleData.getCurrencyDigits(e);if(s){n=r}n=n<=0&&r>0?n-1:n;t=n-r;i=this._oFormat.format(this.getStringValue()||this.getValue(),e);if(t==n&&n>0){i+=u.PUNCTUATION_SPACE}if(t>0){i=i.padEnd(i.length+t,u.FIGURE_SPACE)}else if(t<0){i=i.substr(0,i.length+t)}return i};u.prototype.getCurrencySymbol=function(){return this._oFormat.oLocaleData.getCurrencySymbol(this.getCurrency())};u.prototype.getAccessibilityInfo=function(){if(this._bRenderNoValClass){return{}}return{description:(this.getFormattedValue()||"")+" "+(this.getCurrency()||"").trim()}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CurrencyRenderer", ["sap/m/library","sap/ui/core/Lib"],function(e,t){"use strict";var n={apiVersion:2};var a=e.EmptyIndicatorMode;var r=t.getResourceBundleFor("sap.m");n.render=function(e,t){var n=t.getTooltip_AsString();e.openStart("div",t);if(n){e.attr("title",n)}e.class("sapUiUfdCurrency");if(t.getEmptyIndicatorMode()!==a.Off&&!t.getValue()){e.openEnd();this.renderEmptyIndicator(e,t)}else{e.openEnd();e.openStart("div");e.class("sapUiUfdCurrencyAlign");e.openEnd();e.openStart("span");e.attr("dir","ltr");e.class("sapUiUfdCurrencyValue");e.openEnd();e.text(t.getFormattedValue());e.close("span");e.openStart("span");e.class("sapUiUfdCurrencyCurrency");e.openEnd();e.text(t._getCurrency());e.close("span");e.close("div")}e.close("div")};n.renderEmptyIndicator=function(e,t){e.openStart("span");e.class("sapMEmptyIndicator");if(t.getEmptyIndicatorMode()===a.Auto){e.class("sapMEmptyIndicatorAuto")}e.openEnd();e.openStart("span");e.attr("aria-hidden",true);e.openEnd();e.text(r.getText("EMPTY_INDICATOR"));e.close("span");e.openStart("span");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(r.getText("EMPTY_INDICATOR_TEXT"));e.close("span");e.close("span")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange", ["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateTypeRange", ["./DateRange","./library"],function(e,a){"use strict";var p=a.CalendarDayType;var r=e.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.Type01},secondaryType:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader", ["sap/ui/core/Control","./library","sap/ui/core/ControlBehavior","sap/ui/core/Element","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/StaticArea","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","./FileUploaderHelper","sap/ui/dom/jquery/Aria"],function(e,t,i,s,o,r,a,l,n,p,h,u,f,d,g,jQuery,c){var y=l.ValueState;var m=t.FileUploaderHttpRequestMethod;var F=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:m.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:y.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false},directory:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"int"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:h});F.prototype.init=function(){var e=this;this.oFileUploaderHelper=c.getHelper();this.oFilePath=this.oFileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){if(e.getWidth()){e._resizeDomElements()}}});this.oBrowse=this.oFileUploaderHelper.createButton(this.getId()+"-fu_button");this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(i.isAccessibilityEnabled()){if(!F.prototype._sAccText){var t=a.getResourceBundleFor("sap.ui.unified");F.prototype._sAccText=t.getText("FILEUPLOAD_ACC")}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr")}if(this.oFilePath){this.oFilePath.addAriaLabelledBy(r.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}}this._submitAfterRendering=false};F.prototype.setIcon=function(e){this.oBrowse.setIcon(e);this.setProperty("icon",e,false);return this};F.prototype.setIconHovered=function(e){this.setProperty("iconHovered",e,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(e)}return this};F.prototype.setIconSelected=function(e){this.setProperty("iconSelected",e,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(e)}else{this.oBrowse.setActiveIcon(e)}return this};F.prototype.setIconFirst=function(e){this.oBrowse.setIconFirst(e);this.setProperty("iconFirst",e,false);return this};F.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),i=o.getReferencingLabels(this);if(t){i.forEach(function(i){if(t.indexOf(i)===-1){e.addAriaLabelledBy(i)}})}return this};F.prototype.setName=function(e){this.setProperty("name",e,false);this._rerenderInputField();return this};F.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);this.setProperty("fileType",t,false);this._rerenderInputField();return this};F.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);this.setProperty("mimeType",t,false);this._rerenderInputField();return this};F.prototype.setMultiple=function(e){this.setProperty("multiple",e,false);this._rerenderInputField();return this};F.prototype.setDirectory=function(e){this.setProperty("directory",e,false);this._rerenderInputField();return this};F.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;this._clearInputField();this._prepareFileUpload();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));this.oFileUpload.files=e;this._cacheDOMEls()}};F.prototype.setTooltip=function(t){var i;e.prototype.setTooltip.call(this,t);if(this.oFileUpload){i=this.getTooltip_AsString();if(i){this.oFileUpload.setAttribute("title",i)}else{this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())}}return this};F.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e);this.oBrowse.addAriaLabelledBy(e);return this};F.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);if(!t){return}this.oBrowse.removeAriaLabelledBy(t);return t};F.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaLabelledBy(e)}}.bind(this));return e};F.prototype.addAriaDescribedBy=function(e){this.addAssociation("ariaDescribedBy",e);this.oBrowse.addAriaDescribedBy(e);return this};F.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);if(!t){return}this.oBrowse.removeAriaDescribedBy(t);return t};F.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaDescribedBy(e)}}.bind(this));return e};F.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),i=this.getValue(),s=o.isRequired(this),r="";if(s){r+=a.getResourceBundleFor("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "}if(e){r+=e+" "}if(i){r+=i+" "}else if(t){r+=t+" "}r+=this._sAccText;return r};F.prototype._convertTypesToArray=function(e){if(typeof e==="string"){if(e===""){return[]}else{return e.split(",").map(function(e){return e.trim()})}}return e};F.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){jQuery(this.oIFrameRef).off();n.getDomRef().removeChild(this.oIFrameRef);this.oIFrameRef=null}if(this.oFileUpload){this._clearInputField()}if(this.FUEl){this.FUEl=null}if(this.FUDataEl){this.FUDataEl=null}};F.prototype._clearInputField=function(){jQuery(this.oFileUpload).off();this.oFileUpload.parentElement.removeChild(this.oFileUpload);this.oFileUpload=null};F.prototype.onBeforeRendering=function(){var e=n.getDomRef();jQuery(this.oFileUpload).appendTo(e);if(!this.getName()){d.warning("Name property is not set. It would be used instead to identify the control on the server.",this)}jQuery(this.oFileUpload).off();if(this.getIconOnly()&&this.getButtonOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())}else if(this.getIconOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getBrowseText())}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("")}this.oFilePath.setPlaceholder(this.getPlaceholder())};F.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1")}else{this.oFilePath.$().find("input").attr("tabindex","-1")}setTimeout(this._recalculateWidth.bind(this),0);this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite");if(this._submitAfterRendering){this._submitAndResetValue();this._submitAfterRendering=false}};F.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data")};F.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};F.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!u(this.getDomRef(),s.getElementById(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage()}};F.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth()}this._resizeDomElements()}};F.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()};F.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=jQuery(this._oBrowseDomRef);var i=t.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var s=this._oFilePathDomRef;var o=this.getWidth();if(o.substr(-1)=="%"&&s){while(s.id!=e){s.style.width="100%";s=s.parentNode}s.style.width=o}else{if(s){s.style.width=o;var r=jQuery(this._oFilePathDomRef);var a=r.outerWidth()-i;if(a<0){this.oFilePath.getDomRef().style.width="0px";if(this.oFileUpload){this.oFileUpload.style.width=t.outerWidth(true)}}else{this.oFilePath.getDomRef().style.width=a+"px"}}}};F.prototype.onresize=function(){this._recalculateWidth()};F.prototype.onThemeChanged=function(){this._recalculateWidth()};F.prototype.setEnabled=function(e){var t=jQuery(this.oFileUpload);this.setProperty("enabled",e,false);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);if(this.getEnabled()){t.removeAttr("disabled")}else{t.attr("disabled","disabled")}return this};F.prototype.setValueState=function(e){this.setProperty("valueState",e,false);if(this.oFilePath.setValueState){this.oFilePath.setValueState(e)}else{d.warning("Setting the valueState property with the combination of libraries used is not supported.",this)}var t=u(this.getDomRef(),document.activeElement);switch(e){case y.Error:case y.Warning:case y.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.openValueStateMessage()}break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.closeValueStateMessage()}}return this};F.prototype.setValueStateText=function(e){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(e)}else{d.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this)}return this.setProperty("valueStateText",e,false)};F.prototype.setStyle=function(e){this.setProperty("style",e,true);if(e){if(e=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true)}else{this.oBrowse.setType("Transparent")}}else{if(this.oBrowse.setType){this.oBrowse.setType(e)}else{if(e=="Emphasized"){e="Emph"}this.oBrowse.setStyle(e)}}}return this};F.prototype.setValue=function(e,t,i){var s=this.getValue();var o;if(s!=e||this.getSameFilenameAllowed()){var r=this.getUploadOnChange()&&e;this.setProperty("value",e,r);if(this.oFileUpload&&!this.getTooltip_AsString()){this.oFileUpload.setAttribute("title",e?e:this._getNoFileChosenText())}if(this.oFilePath){this.oFilePath.setValue(e);if(this.oBrowse.getDomRef()&&!i&&u(this.getDomRef(),document.activeElement)){this.oBrowse.focus()}}var a=this.getDomRef("fu_form"),l=this.getDomRef("fu_input-inner");if(this.oFileUpload&&a&&!e){a.reset();this.getDomRef("fu_input").value="";if(l){l.value=""}jQuery(this.FUDataEl).val(this.getAdditionalData())}if(t){if(window.File){o=this.FUEl.files}if(!this.getSameFilenameAllowed()||e&&s!=e){this.fireChange({id:this.getId(),newValue:e,files:o})}}if(r){this.upload()}}return this};F.prototype.clear=function(){var e=this.getDomRef("fu_form");if(e){e.reset()}else if(this.oFileUpload){this.oFileUpload.files=(new DataTransfer).files}return this.setValue("",false,true)};F.prototype.openFilePicker=function(){if(this.oFileUpload){this.oFileUpload.click()}return this};F.prototype.getInputReference=function(){return this.oFileUpload};F.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e)}};F.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e)}};F.prototype.onmouseover=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover");this.oBrowse.onmouseover(e)}};F.prototype.onmouseout=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover");this.oBrowse.onmouseout(e)}};F.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,true);var t=this.FUDataEl;if(t){e=this.getAdditionalData()||"";t.value=e}return this};F.prototype.sendFiles=function(e,t){var i=this;var s=true;for(var o=0;o<e.length;o++){if(!e[o].bPosted){s=false;break}}if(s){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){i.setValue("",true)}return}var r=e[t];var a=r.file.name?r.file.name:"MultipartFile";var l=r.requestHeaders;var n=function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})};r.xhr.upload.addEventListener("progress",n);r.xhr.onreadystatechange=function(){var e;var t;var s={};var o;var n;var p;var h;h=r.xhr.readyState;var u=r.xhr.status;if(r.xhr.readyState==4){if(r.xhr.responseXML){e=r.xhr.responseXML.documentElement.textContent}t=r.xhr.response;o=r.xhr.getAllResponseHeaders();if(o){n=o.split("\r\n");for(var f=0;f<n.length;f++){if(n[f]){p=n[f].indexOf(": ");s[n[f].substring(0,p)]=n[f].substring(p+2)}}}i.fireUploadComplete({fileName:a,headers:s,response:e,responseRaw:t,readyStateXHR:h,status:u,requestHeaders:l})}i._bUploading=false};if(r.xhr.readyState===0||r.bPosted){t++;i.sendFiles(e,t)}else{r.xhr.send(r.file);r.bPosted=true;t++;i.sendFiles(e,t)}};F.prototype.upload=function(e){var t,i;if(!this.getEnabled()){return}t=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var s=this.FUEl.files;if(e){this._sendProcessedFilesWithXHR(s)}else{this._sendFilesWithXHR(s)}}else if(t){i=t.getAttribute("action");if(i!==this.getUploadUrl()){this._submitAfterRendering=true}else{this._submitAndResetValue()}}}catch(e){d.error("File upload failed:\n"+e.message)}};F.prototype._submitAndResetValue=function(){var e=this.getDomRef("fu_form");e.submit();this.fireUploadStart();this._resetValueAfterUploadStart()};F.prototype.abort=function(e,t){if(!this.getUseMultipart()){var i=this._aXhr.length-1;for(var s=i;s>-1;s--){if(e&&t){for(var o=0;o<this._aXhr[s].requestHeaders.length;o++){var r=this._aXhr[s].requestHeaders[o].name;var a=this._aXhr[s].requestHeaders[o].value;if(r==e&&a==t){this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);d.info("File upload aborted.");break}}}else{this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);d.info("File upload aborted.")}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({fileName:null,requestHeaders:null});d.info("File upload aborted.")}};F.prototype.onclick=function(e){var t=e.target.getAttribute("type")==="file";if(t&&this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true)}if(this.oBrowse.getDomRef()&&(p.browser.safari||u(this.getDomRef(),document.activeElement))){this.oBrowse.focus()}if(e.target.getAttribute("type")==="file"){this.fireBeforeDialogOpen();document.body.onfocus=function(){this.fireAfterDialogClose();document.body.onfocus=null}.bind(this)}};F.prototype.onkeydown=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode;if(t===f.ENTER){if(this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}}this.oBrowse._bPressedSpace=false};F.prototype.onkeyup=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode,i=f;if(t===i.DELETE||t===i.BACKSPACE){if(this.oFileUpload){this.setValue("",true)}}else if(t===i.SPACE){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}else if(t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN){e.preventDefault();e.stopPropagation()}this.oBrowse._bPressedSpace=false};F.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();if(t!==0&&e.length>t){d.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters.");return true}return false};F.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t=this.getFileType();var i="";var s,o,r,a;var l=this.getDomRef("fu_form");if(window.File){var n=e.target.files;if(this._areFilesAllowed(n)){this.fireFileAllowed();i=this._generateInputValue(n)}else{l.reset();this.setValue("",true,true);return}}else if(t&&t.length>0){s=true;o=this.oFileUpload.value||"";r=o.lastIndexOf(".");a=r===-1?"":o.substring(r+1);for(var h=0;h<t.length;h++){if(a==t[h]){s=false}}if(s){d.info("File: "+o+" is of type "+a+". Allowed types are: "+t+".");this.fireTypeMissmatch({fileName:o,fileType:a});l.reset();this.setValue("",true,true);return}if(this._isFilenameTooLong(o)){this.fireFilenameLengthExceed({fileName:o});l.reset();this.setValue("",true,true);return}if(o){this.fireFileAllowed()}}var u=this.oFileUpload.value||"";var f=u.lastIndexOf("\\");if(f>=0){u=u.substring(f+1)}if(this.getMultiple()||this.getDirectory()){u=i}if(u||p.browser.chrome){this.setValue(u,true)}}};F.prototype._sendFilesWithXHR=function(e){var t,i,s,o,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){this._uploadXHR=new window.XMLHttpRequest;o={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(o);o.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),true);if(r){o.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){var l=this.getHeaderParameters();for(var n=0;n<l.length;n++){i=l[n].getName();s=l[n].getValue();o.requestHeaders.push({name:i,value:s})}}var p=e[a].name;var h=o.requestHeaders;o.fileName=p;o.file=e[a];this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length;u++){if(o.xhr.readyState===0){break}i=h[u].name;s=h[u].value;o.xhr.setRequestHeader(i,s)}}if(this.getUseMultipart()){var f=new window.FormData;var d=this.FUEl.name;for(var g=0;g<e.length;g++){this._appendFileToFormData(f,d,e[g])}f.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();f.append(c,y)}else{f.append(c,"")}if(this.getParameters()){var m=this.getParameters();for(var F=0;F<m.length;F++){var b=m[F].getName();s=m[F].getValue();f.append(b,s)}}o.file=f;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this};F.prototype._appendFileToFormData=function(e,t,i){if(i instanceof window.Blob&&i.name){e.append(t,i,i.name)}else{e.append(t,i)}};F.prototype._sendProcessedFilesWithXHR=function(e){this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch(function(e){d.error("File upload failed: "+e&&e.message?e.message:"no details available")});return this};F.prototype._areFilesAllowed=function(e){var t,i,s,o,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType();for(var p=0;p<e.length;p++){t=e[p].name;r=e[p].type||"unknown";var h=e[p].size/1024/1024;if(a&&h>a){d.info("File: "+t+" is of size "+h+" MB which exceeds the file size limit of "+a+" MB.");this.fireFileSizeExceed({fileName:t,fileSize:h});return false}if(h===0){d.info("File: "+t+" is empty!");this.fireFileEmpty({fileName:t})}if(this._isFilenameTooLong(t)){this.fireFilenameLengthExceed({fileName:t});return false}if(l&&l.length>0){var u=true;for(var f=0;f<l.length;f++){if(r==l[f]||l[f]=="*/*"||r.match(l[f])){u=false}}if(u&&r!=="unknown"){d.info("File: "+t+" is of type "+r+". Allowed types are: "+l+".");this.fireTypeMissmatch({fileName:t,mimeType:r});return false}}if(n&&n.length>0){i=true;s=t.lastIndexOf(".");o=s===-1?"":t.substring(s+1);for(var g=0;g<n.length;g++){if(o.toLowerCase()==n[g].toLowerCase()){i=false}}if(i){d.info("File: "+t+" is of type "+o+". Allowed types are: "+n+".");this.fireTypeMissmatch({fileName:t,fileType:o});return false}}}return true};F.prototype._sendFilesFromDragAndDrop=function(e){if(this._areFilesAllowed(e)){this._sendFilesWithXHR(e)}return this};F.prototype._generateInputValue=function(e){var t="";for(var i=0;i<e.length;i++){t=t+'"'+e[i].name+'" '}return t};F.prototype.getBrowseText=function(){if(!F.prototype._sBrowseText){var e=a.getResourceBundleFor("sap.ui.unified");F.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return F.prototype._sBrowseText?F.prototype._sBrowseText:"Browse..."};F.prototype._getNoFileChosenText=function(){if(!F.prototype._sNoFileChosenText){var e=a.getResourceBundleFor("sap.ui.unified");F.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return F.prototype._sNoFileChosenText?F.prototype._sNoFileChosenText:"No file chosen"};F.prototype.getShortenValue=function(){return this.getValue()};F.prototype.prepareFileUploadAndIFrame=function(){this._prepareFileUpload();if(!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none";e.id=this.getId()+"-frame";n.getDomRef().appendChild(e);e.contentWindow.name=this.getId()+"-frame";this._bUploading=false;jQuery(e).on("load",function(e){if(this._bUploading){d.info("File uploaded to "+this.getUploadUrl());var t;try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t});this._bUploading=false}}.bind(this));this.oIFrameRef=e}};F.prototype._prepareFileUpload=function(){if(!this.oFileUpload){var e=[];e.push("<input ");e.push('type="file" ');e.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()||this.getDirectory()){e.push('name="'+g(this.getName())+'[]" ')}else{e.push('name="'+g(this.getName())+'" ')}}else{if(this.getMultiple()||this.getDirectory()){e.push('name="'+this.getId()+'[]" ')}else{e.push('name="'+this.getId()+'" ')}}e.push('id="'+this.getId()+'-fu" ');e.push('tabindex="-1" ');e.push('size="1" ');if(this.getTooltip_AsString()){e.push('title="'+g(this.getTooltip_AsString())+'" ')}else{e.push('title="'+g(this.getValue()?this.getValue():this._getNoFileChosenText())+'" ')}if(!this.getEnabled()){e.push('disabled="disabled" ')}if(this.getDirectory()){e.push("webkitdirectory ")}if(this.getMultiple()){e.push("multiple ")}if((this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+g(t)+'" ')}e.push(">");this.oFileUpload=jQuery(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}else{jQuery(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"))}};F.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage()}};F.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage()}};F.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];t=t.map(function(e){return e.indexOf(".")===0?e:"."+e});return t.concat(e).join(",")};F.prototype._resetValueAfterUploadStart=function(){d.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true)}};F.prototype._addLabelFeaturesToBrowse=function(){let e;const t=e=>{e.preventDefault();e.stopPropagation();this.FUEl.click()};if(this.oBrowse&&this.oBrowse.$().length){e=this.oBrowse.$();if(this.oBrowse.getAriaLabelledBy()){o.getReferencingLabels(this).forEach(function(e){const i=s.getElementById(e).$();i.off("click").on("click",t)},this)}e.off("click").on("click",t);e.off("dragover").on("dragover",e=>{e.preventDefault();e.stopPropagation()});e.off("dragenter").on("dragenter",e=>{e.preventDefault();e.stopPropagation()});e.off("drop").on("drop",e=>{e.preventDefault();e.stopPropagation();var t=e.originalEvent.dataTransfer.files;if(!this.getMultiple()&&t.length>1||this.getDirectory()){return}this.oFileUpload.files=t;var i={target:{files:t}};this.handlechange(i)})}};F.prototype.getProcessedBlobsFromArray=function(e){return new Promise(function(t){t(e)})};F.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;if(window.File&&this.FUEl&&this.FUEl.files.length){var i=new FileReader;i.readAsArrayBuffer(this.FUEl.files[0].slice(0,1));i.onload=function(){e()};i.onerror=function(){t(i.error)}}else{e()}}.bind(this))};return F});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHelper", ["sap/ui/core/Lib"],function(t){"use strict";var e={createTextField:function(t){var e=new sap.m.Input(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.m.Button(t);return e},addFormClass:function(){return"sapUiFUM"}};var n={createTextField:function(t){var e=new sap.ui.commons.TextField(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.ui.commons.Button(t);return e},addFormClass:function(){return"sapUiCFUM"}};var r={createTextField:function(t){throw new Error("no TextField control available!")},createTextFieldContent:function(t,e){throw new Error("no TextField control available!")},createButton:function(t){throw new Error("no Button control available!")},addFormClass:function(){return null}};var o={getHelper:function(){if(t.isLoaded("sap.m")){return e}else if(t.isLoaded("sap.ui.unified")){return n}return r}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", ["sap/ui/base/DataType"],function(e){"use strict";var t={Post:"POST",Put:"PUT"};e.registerEnum("sap.ui.unified.FileUploaderHttpRequestMethod",t);return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer", ["sap/ui/unified/library","sap/ui/thirdparty/jquery","sap/ui/unified/FileUploaderHelper"],function(t,jQuery,e){"use strict";var a={};a.apiVersion=2;a.render=function(t,a){var r=a.getEnabled();var n=e.getHelper();t.openStart("div",a);t.class("sapUiFup");if(a.getButtonOnly()){t.class("sapUiFupButtonOnly")}var i=n.addFormClass();if(i){t.class(i)}if(!r){t.class("sapUiFupDisabled")}t.openEnd();t.openStart("form",a.getId()+"-fu_form");t.style("display","inline-block");t.attr("enctype","multipart/form-data");t.attr("method",a.getHttpRequestMethod().toLowerCase());t.attr("action",a.getUploadUrl());t.attr("target",a.getId()+"-frame");t.openEnd();t.openStart("div");if(!a.bMobileLib){t.class("sapUiFupInp")}t.openEnd();t.openStart("div");t.class("sapUiFupGroup");t.style("border","0");t.style("cellPadding","0");t.style("cellSpacing","0");t.openEnd();t.openStart("div");t.openEnd();t.openStart("div");if(a.getButtonOnly()){t.style("display","none")}t.openEnd();t.renderControl(a.oFilePath);t.close("div");t.openStart("div");t.openEnd();a._ensureBackwardsReference();t.renderControl(a.oBrowse);t.openStart("span",a.getId()+"-AccDescr");t.class("sapUiInvisibleText");t.attr("aria-hidden","true");t.openEnd();t.text(a._generateAccDescriptionText());t.close("span");t.close("div");t.close("div");t.close("div");var d=a.getName()||a.getId();t.openStart("div");t.class("sapUiFupInputMask");t.openEnd();t.voidStart("input");t.attr("type","hidden");t.attr("name","_charset_");t.attr("aria-hidden","true");t.voidEnd();t.voidStart("input",a.getId()+"-fu_data");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",d+"-data");t.attr("value",a.getAdditionalData()||"");t.voidEnd();jQuery.each(a.getParameters(),function(e,a){t.voidStart("input");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",a.getName()||"");t.attr("value",a.getValue()||"");t.voidEnd()});t.close("div");t.close("div");t.close("form");t.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderXHRSettings", ["sap/ui/core/Element","./library"],function(e){"use strict";var a=e.extend("sap.ui.unified.FileUploaderXHRSettings",{metadata:{library:"sap.ui.unified",properties:{withCredentials:{type:"boolean",group:"Data",defaultValue:false}}}});return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/base/i18n/Localization","sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./MenuItem","./library","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/RenderManager","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave"],function(e,t,i,o,n,s,r,u,a,p,h,f,l,jQuery,d,c,g,m,y){"use strict";var v=n.Dock;var b=p.OpenState;var I=p.ItemSelectionMode;var _=i.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item",defaultClass:r}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}},closed:{},beforeClose:{allowPreventDefault:true}}},renderer:f});(function(r){_.prototype.bCozySupported=true;_._DELAY_SUBMENU_TIMER=300;_._DELAY_SUBMENU_TIMER_EXT=400;_.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=jQuery.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.isOpen()||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};_.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};_.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};_.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};_.prototype.invalidate=function(e){if(e instanceof s&&this.getDomRef()){this._delayedRerenderItems()}else if(this.oPopup&&this.oPopup.isOpen()){i.prototype.invalidate.apply(this,arguments)}};_.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};_.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){c.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this._getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}S(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};_.prototype._focusMenuItem=function(e){if(!o.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.isOpen()||!t){return}if(this.oOpenedSubMenu&&l(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);var i=t&&t.getDomRef()!==document.activeElement;if(i){t.focus(this)}this._openSubMenuDelayed(t)};_.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===b.OPEN){S(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};_.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};_.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};_.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=(new h).getInterface();f.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};_.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};_.prototype._detachResizeHandler=function(){if(this._hasResizeListener){o.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};_.prototype.open=function(e,t,i,n,s,u,a){var h;this._bLeavingMenu=false;if(this.isOpen()){return}p(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,i,n,s,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(s);if(!t||!jQuery(t).is(":visible")||!M(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=this.getPopup().isOpen();o.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){h=this.getNextSelectableItem(-1);this.setHoveredItem(h);h&&h.focus(this)}g.bindAnyEvent(this.fAnyEventHandlerProxy);if(o.support.orientation&&this.getRootMenu()===this){jQuery(r).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};_.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};_.prototype.openAsContextMenu=function(i,o){var n,s,r,u,a;o=o instanceof t?o.getDomRef():o;if(i instanceof jQuery.Event){a=jQuery(o).offset();n=i.pageX-a.left;s=i.pageY-a.top;this._iX=i.clientX;this._iY=i.clientY}else{n=i.offsetX||0;s=i.offsetY||0;this._iX=i.left||0;this._iY=i.top||0}r=e.getRTL();u=v;if(r){n=o.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,o,u.BeginTop,u.BeginTop,o,n+" "+s,"fit")};_.prototype._handleOpened=function(){var t,i,o,n,s,u,a,p,h,f;if(!this._bOpenedAsContextMenu){return}t=this.$();i=jQuery(r);o=this._iX;n=this._iY;s=i.scrollLeft()+i.width();u=i.scrollTop()+i.height();a=e.getRTL();p=false;h=t.width();f=t.height();if(n+f>u){n=n-f;p=true}if(a){if(s-o+h>s){o=s-(o+h);p=true}else{o=s-o;p=true}}else{if(o+h>s){o=o-h;p=true}}this._bOpenedAsContextMenu=false;p&&this.oPopup.setPosition("begin top","begin top",i,o+" "+n,"flipfit")};_.prototype.close=function(e){if(!this.isOpen()||_._dbg){return}this._discardOpenSubMenuDelayed();p(this,false);delete this._bFixed;g.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(r).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this.bOpen=this.getPopup().isOpen();this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};_.prototype.isOpen=function(){return this.getPopup().isOpen()};_.prototype._menuClosed=function(){this.fireClosed();if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){c.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};_.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};_.prototype.onsapnext=function(e){var t,i,o=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==d.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(o){if(o.isOpen()){i=o.getNextSelectableItem(-1);o.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsapnextmodifiers=_.prototype.onsapnext;_.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),o=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==d.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(o&&o.isOpen()){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};_.prototype.onsappreviousmodifiers=_.prototype.onsapprevious;_.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this._getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappagedown=function(e){var t=this._getItems(),i=this.oHoveredItem?t.indexOf(this.oHoveredItem):-1,o;if(this.getPageSize()<1){this.onsapend(e);return}i+=this.getPageSize();if(i>=t.length){this.onsapend(e);return}o=this.getNextSelectableItem(i-1);this.setHoveredItem(o);o&&o.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsappageup=function(e){var t=this.oHoveredItem?this._getItems().indexOf(this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};_.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};_.prototype.onkeyup=function(e){if(e.keyCode===d.ARROW_LEFT||e.keyCode===d.ARROW_RIGHT){return}if(this.oHoveredItem&&jQuery(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}if(!this._sapSelectOnKeyDown){return}else{this._sapSelectOnKeyDown=false}if(!m.events.sapselect.fnCheck(e)&&e.keyCode!==d.ENTER){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};_.prototype.onsapbackspace=function(e){if(jQuery(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};_.prototype.onsapbackspacemodifiers=_.prototype.onsapbackspace;_.prototype.onsapescape=function(e){this._bLeavingMenu=true;this.close(true);e.preventDefault();e.stopPropagation()};_.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this._bLeavingMenu=true;this.close(true);e.stopPropagation()};_.prototype.onsaptabprevious=_.prototype.onsaptabnext;_.prototype._openSubMenuDelayed=function(e){if(!e){return}var t=e.getSubmenu(),i=t&&t._getItems().length;this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){if(i){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),i?_._DELAY_SUBMENU_TIMER:_._DELAY_SUBMENU_TIMER_EXT)};_.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};_.prototype.onmouseout=function(e){if(!o.system.desktop){return}if(y(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};_.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.isOpen()){return}if(o.os.name=="mac"&&o.browser.firefox&&this.isOpen()){var t=e.relatedControlId,i=t?a.byId(t):null,n=i&&i instanceof s;if(i&&!n){this._getItems()[0].focus();return}}this.getRootMenu().handleOuterEvent(this.getId(),e)};_.prototype.handleOuterEvent=function(e,t){var i=false,n=o.support.touch||o.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(n&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!i){if(l(s.getDomRef(),t.target)){i=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(n){return}if(t.relatedControlId){var s=this;while(s&&!i){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||l(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0))){i=true}s=s.oOpenedSubMenu}}if(!i){this.bIgnoreOpenerDOMRef=true}}if(!i&&this.fireBeforeClose()){this.close()}};_.prototype.getItemByDomRef=function(e){var t=this._getItems(),i=t.length;for(var o=0;o<i;o++){var n=t[o],s=n.getDomRef();if(l(s,e)){return n}}return null};_.prototype.selectItem=function(e,t,i){if(!e||!(e instanceof s&&this.checkEnabled(e))){return}var n=e.getSubmenu();if(!n||!n._getItems().length){if(this.fireBeforeClose()){this.getRootMenu().close(true)}if(e._getItemSelectionMode&&e._getItemSelectionMode()!==I.None){e.setSelected(!e.getSelected())}}else{if(!o.system.desktop&&this.oOpenedSubMenu===n){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:i});this.getRootMenu().fireItemSelect({item:e})};_.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof _};_.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};_.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};_.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};_.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};_.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(!this.checkEnabled(e)){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else if(o._getItems().length){this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};_.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};_.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var o=t.scrollTop,n=i.offsetTop,s=jQuery(t).height(),r=jQuery(i).height();if(o>n){t.scrollTop=n}else if(n+r>o+s){t.scrollTop=Math.ceil(n+r-s)}};_.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()};_.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};_.prototype.getNextSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e+1;o<t.length;o++){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.getPreviousSelectableItem=function(e){var t=this._getItems();var i=t[e];for(var o=e-1;o>=0;o--){if(t[o].getVisible()){return t[o]}}return i&&i.getVisible()?i:null};_.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;_.rerenderMenu(this.getRootMenu())};_.rerenderMenu=function(e){var t=e._getItems();for(var i=0;i<t.length;i++){var o=t[i].getSubmenu();if(o){_.rerenderMenu(o)}}e.invalidate()};_.prototype.focus=function(){if(this.isOpen()){i.prototype.focus.apply(this,arguments)}};_.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(u(this.oOpenerRef)){return true}if(u(this.getParent())){return true}return false};_.prototype.getSelectedItems=function(){return this._getItems().filter(e=>e.getSelected&&e.getSelected()&&e._getItemSelectionMode()!==I.None)};_.prototype._getItems=function(){var e=this.getItems(),t=[],i,o;for(o=0;o<e.length;o++){if(e[o].getItems){i=e[o].getItems();for(var n=0;n<i.length;n++){t.push(i[n])}}else{t.push(e[o])}}return t};function u(e){if(!e||!e.getDomRef){return false}return!!e.getDomRef()?.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy")?.classList.contains("sapUiSizeCozy")}function p(e,t){var i=e.getParent();if(i&&i instanceof s){i.onSubmenuToggle(t)}}function S(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,o=e.$();if(t>0){var n=e._getItems();for(var s=0;s<n.length;s++){if(n[s].getDomRef()){i=Math.min(i,n[s].$().outerHeight(true)*t);break}}}if(o.outerHeight(true)>i){o.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{o.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function M(e){var t;if(!e){return false}if(e instanceof jQuery){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(r.innerHeight||document.documentElement.clientHeight)&&t.right<=(r.innerWidth||document.documentElement.clientWidth)}})(window);return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/Element","sap/ui/core/IconPool","sap/ui/events/KeyCodes","./MenuItemBase","./library","sap/ui/core/library"],function(e,t,o,n,i,s){"use strict";var a=s.ItemSelectionMode;var r=n.extend("sap.ui.unified.MenuItem",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},selected:{type:"boolean",group:"Behavior",defaultValue:false},shortcutText:{type:"string",group:"Appearance",defaultValue:""},_expanded:{type:"boolean",group:"Misc",visibility:"hidden",defaultValue:undefined}},aggregations:{endContent:{type:"sap.ui.core.Control",multiple:true,singularName:"endContent"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},_group:{type:"sap.ui.unified.MenuItemGroup",group:"Behavior",visibility:"hidden"}}}});t.insertFontFaceStyle();r.prototype.render=function(e,t,o,n){var i=e,r=t.getSubmenu(),l=t.getEnabled(),p=t.getSelected()&&t._getItemSelectionMode()!==a.None,u=t.getEndContent(),d=t.getShortcutText(),c,g;i.openStart("li",t);if(t.getVisible()){i.attr("tabindex","0")}i.class("sapUiMnuItm");if(n.iItemNo==1){i.class("sapUiMnuItmFirst")}else if(n.iItemNo==n.iTotalItems){i.class("sapUiMnuItmLast")}if(!o.checkEnabled(t)){i.class("sapUiMnuItmDsbl")}if(t.getStartsSection()){i.class("sapUiMnuItmSepBefore")}if(t.getTooltip_AsString()){i.attr("title",t.getTooltip_AsString())}if(n.bAccessible){switch(t._getItemSelectionMode()){case a.SingleSelect:c="menuitemradio";break;case a.MultiSelect:c="menuitemcheckbox";break;default:c="menuitem"}i.accessibilityState(t,{role:c,disabled:!l,posinset:n.iItemNo,setsize:n.iTotalItems,selected:null,checked:p?true:undefined,labelledby:{value:this.getId()+"-txt",append:true},keyshortcuts:!r&&d?d:null,haspopup:r&&s.aria.HasPopup.Menu.toLowerCase(),owns:r&&r.getId(),expanded:r&&t.getProperty("_expanded")})}i.openEnd();i.openStart("div");i.class("sapUiMnuItmIco");i.openEnd();if(t.getIcon()){g=t._getIcon();i.renderControl(g)}i.close("div");i.openStart("div",this.getId()+"-txt");i.class("sapUiMnuItmTxt");i.openEnd();i.text(t.getText());i.close("div");i.openStart("div",this.getId()+"-scuttxt");i.class("sapUiMnuItmSCut");i.openEnd();if(!r&&d){i.text(d)}i.close("div");if(r){i.openStart("div");i.class("sapUiMnuItmSbMnu");i.openEnd();i.openStart("div");i.class("sapUiIconMirrorInRTL");i.openEnd();i.close("div");i.close("div")}else if(p||u.length){if(u.length){i.openStart("div",this.getId()+"-endContent");i.class("sapUiMnuEndContent");i.openEnd();u.forEach(e=>i.renderControl(e));i.close("div")}if(p){i.openStart("div",this.getId()+"-sel");i.class("sapUiMnuItmSel");i.openEnd();i.close("div")}}i.close("li")};r.prototype.hover=function(e,t){this.$().toggleClass("sapUiMnuItmHov",e)};r.prototype.focus=function(e){if(this.getVisible()){this.$().trigger("focus")}else{e.focus()}};r.prototype._handleContentNavigation=function(e){const t=e.keyCode===o.ARROW_LEFT||e.keyCode===o.ARROW_RIGHT;if(!this.getEndContent().length||!t){this.oHoveredItem=null;return}const n=this.oHoveredItem?this.getEndContent().indexOf(this.oHoveredItem):-1;let i;if(e.keyCode===o.ARROW_LEFT){i=this.getPreviousSelectableItem(n)}else{i=this.getNextSelectableItem(n)}this.setHoveredItem(i);i&&i.focus();e.preventDefault();e.stopPropagation()};r.prototype.onsapnext=r.prototype._handleContentNavigation;r.prototype.onsapprevious=r.prototype._handleContentNavigation;r.prototype.getNextSelectableItem=function(e){const t=this.getEndContent();const o=e+1>=t.length?t.length-1:e+1;return t[o]};r.prototype.getPreviousSelectableItem=function(e){const t=this.getEndContent();const o=e-1<0?0:e-1;return t[o]};r.prototype.setHoveredItem=function(e){if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e};r.prototype.onSubmenuToggle=function(e){this.setProperty("_expanded",e);n.prototype.onSubmenuToggle.call(this,e)};r.prototype._getItemSelectionMode=function(){var t=this.getAssociation("_group");return t?e.getElementById(t).getItemSelectionMode():a.None};r.prototype.setSelected=function(t){var o=e.getElementById(this.getAssociation("_group"));if(t&&o&&o.getItemSelectionMode()===a.SingleSelect){o._clearSelectedItems()}this.setProperty("selected",t);return this};r.prototype.getSelected=function(){return this.getProperty("selected")&&this._getItemSelectionMode()!==a.None};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library","sap/ui/core/IconPool","sap/m/Image"],function(e,t,o,n){"use strict";var i=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});i.prototype.init=function(){};i.prototype.render=function(e,t,o){var n=e;n.openStart("li",t);n.openEnd();n.openStart("div",this.getId()+"-txt");n.style("white-space","nowrap");n.style("display","inline-block");n.style("padding","1px");n.style("color","black");n.openEnd();n.text(t.getId());if(this.getSubmenu()){n.text("&nbsp;&nbsp;->")}n.close("div");n.close("li")};i.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};i.prototype.focus=function(){};i.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};i.prototype.onAfterRendering=function(){};i.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};i.prototype._getIcon=function(){return o.createControlByURI({src:this.getIcon(),useIconTooltip:false},n)};i.prototype.onsaphide=i.prototype.onsapshow;return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemGroup", ["sap/ui/core/Element","sap/ui/core/library"],function(e,t){"use strict";var i=t.ItemSelectionMode;var n=e.extend("sap.ui.unified.MenuItemGroup",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{itemSelectionMode:{type:"sap.ui.core.ItemSelectionMode",group:"Behavior",defaultValue:i.None}},aggregations:{items:{type:"sap.ui.unified.IMenuItem",multiple:true,singularName:"item"}}}});n.prototype.setItemSelectionMode=function(e,t){this.setProperty("itemSelectionMode",e,t);if(e===i.SingleSelect){this._ensureSingleSelection()}return this};n.prototype.addItem=function(e,t){this._addOrInsertItem(e,undefined,t);return this};n.prototype.insertItem=function(e,t,i){if(t===undefined){t=this.getItems().length}this._addOrInsertItem(e,t,i);return this};n.prototype.removeItem=function(e,t){const i=this.removeAggregation("items",e,t);!t&&this._invalidateParentControls();return i};n.prototype.removeAllItems=function(e){const t=this.removeAllAggregation("items",e);!e&&this._invalidateParentControls();return t};n.prototype.destroyItems=function(e){this.destroyAggregation("items",e);!e&&this._invalidateParentControls();return this};n.prototype._invalidateParentControls=function(){const e=this.getParent();if(e&&!e._getItems().length){const t=e.getParent();t&&t.invalidate();e.close()}};n.prototype._addOrInsertItem=function(e,t,n){const r=e.getSelected&&e.getSelected(),s=this.getItems().length;e.setAssociation("_group",this);if(r&&this.getItemSelectionMode()===i.SingleSelect){this._clearSelectedItems()}t===undefined?this.addAggregation("items",e,n):this.insertAggregation("items",e,t,n);if(s>0){return}const o=this.getParent();if(o){const e=o.getParent();e&&e.invalidate();o.invalidate()}};n.prototype._clearSelectedItems=function(){this.getItems().forEach(e=>e.setSelected&&e.setSelected(false))};n.prototype._ensureSingleSelection=function(){var e=this.getItems(),t=e.map(e=>e.getSelected()),i=t.lastIndexOf(true);this._clearSelectedItems();if(i!==-1){e[i].setSelected(true)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/ControlBehavior"],function(e){"use strict";var t={apiVersion:2};t.render=function(i,n){var s=e.isAccessibilityEnabled(),o=n.getRootMenu();if(n.oHoveredItem&&n.indexOfItem(n.oHoveredItem)<0){n.oHoveredItem=null}i.openStart("div",n);i.attr("tabindex",-1);i.attr("hideFocus",true);if(n.getTooltip_AsString()){i.attr("title",n.getTooltip_AsString())}if(s){i.accessibilityState(n,{disabled:null})}i.class("sapUiMnu");if(n.isSubMenu()){i.class("sapUiSubmenu")}if(o.bUseTopStyle){i.class("sapUiMnuTop")}i.openEnd();t.renderItems(i,n);i.close("div")};t.renderItems=function(i,n){var s=n._getItems(),o=e.isAccessibilityEnabled(),r=false,a=false,l=0,d=0,u,p,c=null,f=null,g=false,v;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(u=0;u<s.length;u++){v=s[u].getSubmenu();if(s[u].getIcon&&s[u].getIcon()){r=true}if(v&&v._getItems().length){a=true;if(typeof s[u].getProperty("_expanded")!=="boolean"){s[u].setProperty("_expanded",false)}}}if(!r){i.class("sapUiMnuNoIco")}if(!a){i.class("sapUiMnuNoSbMnu")}i.openEnd();for(u=0;u<s.length;u++){if(s[u].getVisible()&&s[u].render){l++}}for(u=0;u<s.length;u++){p=s[u];if(p.getVisible()&&p.render){d++;f=p.getAssociation("_group");if(g&&c!==f){i.close("div");g=false}if(f&&!g){i.openStart("div");i.attr("role","group");i.openEnd();g=true}if((c!==f||p.getStartsSection())&&d!==1){t.renderSeparator(i,o)}c=f;p.render(i,p,n,{bAccessible:o,iItemNo:d,iTotalItems:l})}}if(g){i.close("div")}i.close("ul")};t.renderSeparator=function(e,t){e.openStart("li");if(t){e.attr("role","separator")}e.class("sapUiMnuDiv");e.openEnd();e.openStart("div");e.class("sapUiMnuDivL");e.openEnd();e.close("div");e.voidStart("hr").voidEnd();e.openStart("div");e.class("sapUiMnuDivR");e.openEnd();e.close("div");e.close("li")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuTextFieldItem", ["sap/base/i18n/Localization","sap/ui/core/Lib","sap/ui/core/ValueStateSupport","./MenuItemBase","./library","sap/ui/core/library","sap/ui/Device","sap/base/Log","sap/ui/events/PseudoEvents","sap/ui/core/InvisibleText","sap/ui/core/IconPool","sap/ui/dom/jquery/cursorPos"],function(t,e,i,s,n,o,a,r,p,u){"use strict";var l=o.ValueState;var c=s.extend("sap.ui.unified.MenuTextFieldItem",{metadata:{interfaces:["sap.ui.unified.IMenuItem"],library:"sap.ui.unified",properties:{label:{type:"string",group:"Appearance",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},value:{type:"string",group:"Misc",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:l.None}}}});c.prototype.render=function(t,e,i,s){var n=t,o=i.checkEnabled(e),a=e.getId(),r;n.openStart("li",e);if(e.getVisible()){n.attr("tabindex","0")}n.class("sapUiMnuItm").class("sapUiMnuTfItm");if(s.iItemNo==1){n.class("sapUiMnuItmFirst")}else if(s.iItemNo==s.iTotalItems){n.class("sapUiMnuItmLast")}if(!o){n.class("sapUiMnuItmDsbl")}if(e.getStartsSection()){n.class("sapUiMnuItmSepBefore")}if(s.bAccessible){n.attr("role","menuitem");n.attr("aria-posinset",s.iItemNo);n.attr("aria-setsize",s.iTotalItems);n.attr("aria-disabled",!o)}n.openEnd();if(e.getIcon()){n.openStart("div").class("sapUiMnuItmIco").openEnd();r=e._getIcon();n.renderControl(r);n.close("div")}n.openStart("div",a+"-txt").class("sapUiMnuItmTxt").openEnd();n.openStart("label",a+"-lbl").class("sapUiMnuTfItemLbl").openEnd();n.text(e.getLabel());n.close("label");n.openStart("div",a+"-str").class("sapUiMnuTfItmStretch").openEnd().close("div");n.openStart("div").class("sapUiMnuTfItemWrppr").openEnd();n.voidStart("input",a+"-tf").attr("tabindex","-1");n.attr("role","textbox");if(e.getValue()){n.attr("value",e.getValue())}n.class("sapUiMnuTfItemTf").class(o?"sapUiMnuTfItemTfEnbl":"sapUiMnuTfItemTfDsbl");if(!o){n.attr("disabled","disabled")}if(s.bAccessible){n.accessibilityState(e,{disabled:null,describedby:e._fnInvisibleDescriptionFactory(s).getId(),labelledby:a+"-lbl"})}n.voidEnd().close("div").close("div");n.close("li")};c.prototype.exit=function(){if(this._invisibleDescription){this._fnInvisibleDescriptionFactory().destroy();this._invisibleDescription=null}};c.prototype.hover=function(t,e){this.$().toggleClass("sapUiMnuItmHov",t);if(t){e.closeSubmenu(false,true)}};c.prototype.focus=function(t){if(this.getVisible()&&this.getEnabled()){this.$("tf").get(0).focus()}else{this.$().trigger("focus")}};c.prototype.onAfterRendering=function(){this.setValueState(this.getValueState())};c.prototype.onsapup=function(t){this.getParent().onsapprevious(t)};c.prototype.onsapdown=function(t){this.getParent().onsapnext(t)};c.prototype.onsaphome=function(t){if(this._checkCursorPosForNav(false)){this.getParent().onsaphome(t)}};c.prototype.onsapend=function(t){if(this._checkCursorPosForNav(true)){this.getParent().onsapend(t)}};c.prototype.onsappageup=function(t){this.getParent().onsappageup(t)};c.prototype.onsappagedown=function(t){this.getParent().onsappagedown(t)};c.prototype.onsapescape=function(t){this.getParent().onsapescape(t)};c.prototype.onkeydown=function(t){t.stopPropagation()};c.prototype.onclick=function(t){this.getParent().closeSubmenu(false,true);if(!a.system.desktop){this.focus()}t.stopPropagation()};c.prototype.onkeyup=function(t){if(!p.events.sapenter.fnCheck(t)&&t.key!=="Enter"){return}var e=this.$("tf").val();this.setValue(e);this.getParent().selectItem(this);t.preventDefault();t.stopPropagation()};c.prototype.setSubmenu=function(t){r.warning("The aggregation 'submenu' is not supported for this type of menu item.","","sap.ui.unified.MenuTextFieldItem");return this};c.prototype.setLabel=function(t){this.setProperty("label",t,true);this.$("lbl").text(t);return this};c.prototype.setValue=function(t){this.setProperty("value",t,true);this.$("tf").val(t);return this};c.prototype.setValueState=function(t){this.setProperty("valueState",t,true);var e=this.$("tf");e.toggleClass("sapUiMnuTfItemTfErr",t==l.Error);e.toggleClass("sapUiMnuTfItemTfWarn",t==l.Warning);var s=i.enrichTooltip(this,this.getTooltip_AsString());if(s){this.$().attr("title",s)}return this};c.prototype.getFocusDomRef=function(){var t=this.$("tf");return t.length?t.get(0):null};c.prototype._checkCursorPosForNav=function(e){var i=t.getRTL();var s=e?i:!i;var n=this.$("tf");var o=n.cursorPos();var a=n.val().length;if(i){o=a-o}if(!s&&o!=a||s&&o!=0){return false}return true};c.prototype._fnInvisibleDescriptionFactory=function(t){var i,s,n;if(!this._invisibleDescription){n=e.getResourceBundleFor("sap.ui.unified");i=n.getText("UNIFIED_MENU_ITEM_COUNT_TEXT",[t.iItemNo,t.iTotalItems]);s=n.getText("UNIFIED_MENU_ITEM_HINT_TEXT");this._invisibleDescription=new u({text:i+" "+s}).toStatic()}return this._invisibleDescription};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/NonWorkingPeriod", ["sap/ui/core/Element","sap/ui/core/date/UI5Date","sap/base/Log"],function(t,e,n){"use strict";var s=t.extend("sap.ui.unified.NonWorkingPeriod",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"}},defaultAggregation:"timeRange",aggregations:{timeRange:{type:"sap.ui.unified.TimeRange",multiple:false}}}});s.prototype.getStartDate=function(){if(!this.getDate()){return n.error("Enter a valid date.")}const t=e.getInstance(this.getDate());const s=this.getTimeRange().getStartDate();t.setHours(s.getHours(),s.getMinutes(),s.getMilliseconds());return t};s.prototype.getEndDate=function(){if(!this.getDate()){return n.error("Enter a valid date.")}const t=e.getInstance(this.getDate());const s=this.getTimeRange().getEndDate();t.setHours(s.getHours(),s.getMinutes(),s.getMilliseconds());return t};s.prototype.getDurationInMinutes=function(){return Math.abs(this.getStartDate().getTime()-this.getEndDate().getTime())/1e3/60};s.prototype.isRecurring=function(){return false};s.prototype.hasNonWorkingAtDate=function(t){const n=e.getInstance(this.getStartDate());const s=e.getInstance(t);n.setHours(0,0,0);s.setHours(0,0,0);const i=s>=n&&s<=this.getEndDate();return i};s.prototype.hasNonWorkingAtHour=function(t){const e=this.getStartDate().getHours();const n=e+(this.getStartDate().getMinutes()+this.getDurationInMinutes())/60;const s=t.getHours()+t.getMinutes()/60;return t.getHours()===e||n>=s&&e<=t.getHours()};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/RecurringNonWorkingPeriod", ["./NonWorkingPeriod"],function(e){"use strict";var r=e.extend("sap.ui.unified.RecurringNonWorkingPeriod",{metadata:{library:"sap.ui.unified",properties:{recurrenceType:{type:"sap.ui.unified.RecurrenceType",group:"Misc"},recurrenceEndDate:{type:"object",group:"Data"},recurrencePattern:{type:"int",group:"Behavior",defaultValue:1}}}});r.prototype.isRecurring=function(){return true};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Shell", ["./ShellHeader","./ShellLayout","./library","./ShellRenderer"],function(e,t,r,a){"use strict";var i=t.extend("sap.ui.unified.Shell",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showCurtain:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},showCurtainPane:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},searchVisible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{curtainContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainContent"},curtainPaneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainPaneContent"},headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headItem",forwarding:{idSuffix:"-header",aggregation:"headItems"}},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headEndItem",forwarding:{idSuffix:"-header",aggregation:"headEndItems"}},search:{type:"sap.ui.core.Control",multiple:false,forwarding:{idSuffix:"-header",aggregation:"search"}},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false,forwarding:{idSuffix:"-header",aggregation:"user"}}}},renderer:a});i.prototype.init=function(){t.prototype.init.apply(this,arguments);this._header=new e(this.getId()+"-header");this.setHeader(this._header)};i.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._header.destroy();delete this._header};i.prototype._getSearchWidth=function(){if(this._header===this.getHeader()&&this._header.getDomRef()){var e=this._header.$("hdr-center").children();if(e.length){return e.width()}}return-1};i.prototype.setIcon=function(e){this.setProperty("icon",e,true);this._header.setLogo(e);return this};i.prototype.getIcon=function(){return this._header.getLogo()};i.prototype.setSearchVisible=function(e){this.setProperty("searchVisible",e,true);this._header.setSearchVisible(e);return this};i.prototype.getSearchVisible=function(){return this._header.getSearchVisible()};i.prototype.setHeader=function(e){return t.prototype.setHeader.apply(this,[e?e:this._header])};i.prototype.destroyHeader=function(){if(this.getHeader()===this._header){return this}return t.prototype.destroyHeader.apply(this,[])};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeadItem", ["sap/ui/core/Element","sap/ui/core/IconPool","./library","sap/base/security/encodeXML","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";var o=e.extend("sap.ui.unified.ShellHeadItem",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},toggleEnabled:{type:"boolean",group:"Appearance",defaultValue:true},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});o.prototype.onclick=function(e){this.firePress();e.preventDefault()};o.prototype.onsapspace=o.prototype.onclick;o.prototype.onsapenter=o.prototype.onclick;o.prototype.setStartsSection=function(e){e=!!e;this.setProperty("startsSection",e,true);this.$().toggleClass("sapUiUfdShellHeadItmDelim",e);return this};o.prototype.setShowSeparator=function(e){e=!!e;this.setProperty("showSeparator",e,true);this.$().toggleClass("sapUiUfdShellHeadItmSep",e);return this};function s(){var e=this.$(),t=this.getToggleEnabled(),r=this.getSelected();if(!e.length){return}if(t){e.toggleClass("sapUiUfdShellHeadItmSel",r);e.attr("aria-pressed",r)}else{e.removeClass("sapUiUfdShellHeadItmSel");e.removeAttr("aria-pressed")}}o.prototype.setToggleEnabled=function(e){this.setProperty("toggleEnabled",!!e,true);s.apply(this);return this};o.prototype.setSelected=function(e){this.setProperty("selected",!!e,true);s.apply(this);return this};o.prototype.setVisible=function(e){this.setProperty("visible",!!e);return this};o.prototype.setShowMarker=function(e){e=!!e;this.setProperty("showMarker",e,true);this.$().toggleClass("sapUiUfdShellHeadItmMark",e);return this};o.prototype.setIcon=function(e){this.setProperty("icon",e,true);if(this.getDomRef()){this._refreshIcon()}return this};o.prototype._refreshIcon=function(){var e=jQuery(this.$().children()[0]);var r=this.getIcon();if(t.isIconURI(r)){var o=t.getIconInfo(r);e.html("").attr("style","");if(o){e.text(o.content).attr("role","presentation").attr("aria-label",o.text||o.name).css("font-family","'"+o.fontFamily+"'")}}else{var s=this.$("img-inner");if(s.length==0||s.attr("src")!=r){e.attr("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+a(r)+"'>")}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeadUserItem", ["sap/ui/core/Element","sap/ui/core/IconPool","./library","sap/base/security/encodeXML"],function(e,t,a,i){"use strict";var r=e.extend("sap.ui.unified.ShellHeadUserItem",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{username:{type:"string",group:"Appearance",defaultValue:""},showPopupIndicator:{type:"boolean",group:"Accessibility",defaultValue:true},image:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});t.insertFontFaceStyle();r.prototype.onclick=function(e){this.firePress();e.preventDefault()};r.prototype.onsapspace=r.prototype.onclick;r.prototype.onsapenter=r.prototype.onclick;r.prototype.setImage=function(e){this.setProperty("image",e,true);if(this.getDomRef()){this._refreshImage()}return this};r.prototype._refreshImage=function(){var e=this.$("img");var a=this.getImage();if(!a){e.html("").attr("style","").css("display","none")}else if(t.isIconURI(a)){var r=t.getIconInfo(a);e.html("").attr("style","");if(r){e.text(r.content).attr("role","presentation").attr("aria-label",r.text||r.name).css("font-family","'"+r.fontFamily+"'")}}else{var s=this.$("img-inner");if(s.length==0||s.attr("src")!=a){e.attr("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+i(a)+"'>")}}};r.prototype._checkAndAdaptWidth=function(e){if(!this.getDomRef()){return false}var t=this.$(),a=this.$("name");var i=t.width();t.toggleClass("sapUiUfdShellHeadUsrItmLimit",false);var r=240;if(e){r=Math.min(r,.5*document.documentElement.clientWidth-225)}if(r<a.width()){t.toggleClass("sapUiUfdShellHeadUsrItmLimit",true)}return i!=t.width()};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeader", ["./library","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/Device","sap/ui/core/ControlBehavior","sap/ui/core/Lib","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery"],function(e,t,i,a,r,s,d,jQuery){"use strict";var l=i.extend("sap.ui.unified.ShellHeader",{metadata:{properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},searchVisible:{type:"boolean",defaultValue:true}},aggregations:{headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false}}},renderer:{render:function(e,t){var i=t.getId();e.write("<div");e.writeControlData(t);e.writeAttribute("class","sapUiUfdShellHeader");if(r.isAccessibilityEnabled()){e.writeAttribute("role","toolbar")}e.write(">");e.write("<div id='",i,"-hdr-begin' class='sapUiUfdShellHeadBegin'>");this.renderHeaderItems(e,t,true);e.write("</div>");e.write("<div id='",i,"-hdr-center' class='sapUiUfdShellHeadCenter'>");this.renderSearch(e,t);e.write("</div>");e.write("<div id='",i,"-hdr-end' class='sapUiUfdShellHeadEnd'>");this.renderHeaderItems(e,t,false);e.write("</div>");e.write("</div>")},renderSearch:function(e,t){var i=t.getSearch();e.write("<div id='",t.getId(),"-hdr-search'");if(r.isAccessibilityEnabled()){e.writeAttribute("role","search")}e.writeAttribute("class","sapUiUfdShellSearch"+(t.getSearchVisible()?"":" sapUiUfdShellHidden"));e.write("><div>");if(i){e.renderControl(i)}e.write("</div></div>")},renderHeaderItems:function(e,t,i){e.write("<div class='sapUiUfdShellHeadContainer'>");var a=i?t.getHeadItems():t.getHeadEndItems();for(var s=0;s<a.length;s++){e.write("<div tabindex='0'");e.writeElementData(a[s]);e.addClass("sapUiUfdShellHeadItm");if(a[s].getStartsSection()){e.addClass("sapUiUfdShellHeadItmDelim")}if(a[s].getShowSeparator()){e.addClass("sapUiUfdShellHeadItmSep")}if(!a[s].getVisible()){e.addClass("sapUiUfdShellHidden")}if(a[s].getSelected()&&a[s].getToggleEnabled()){e.addClass("sapUiUfdShellHeadItmSel")}if(a[s].getShowMarker()){e.addClass("sapUiUfdShellHeadItmMark")}e.writeClasses();var d=a[s].getTooltip_AsString();if(d){e.writeAttributeEscaped("title",d)}if(r.isAccessibilityEnabled()){e.writeAccessibilityState(a[s],{role:"button",selected:null,pressed:a[s].getToggleEnabled()?a[s].getSelected():null})}e.write("><span></span><div class='sapUiUfdShellHeadItmMarker'><div></div></div></div>")}var l=t.getUser();if(!i&&l){e.write("<div tabindex='0'");e.writeElementData(l);e.addClass("sapUiUfdShellHeadUsrItm");if(!l.getShowPopupIndicator()){e.addClass("sapUiUfdShellHeadUsrItmWithoutPopup")}e.writeClasses();var d=l.getTooltip_AsString();if(d){e.writeAttributeEscaped("title",d)}if(r.isAccessibilityEnabled()){e.writeAccessibilityState(l,{role:"button"});if(l.getShowPopupIndicator()){e.writeAttribute("aria-haspopup","true")}}e.write("><span id='",l.getId(),"-img' aria-hidden='true' class='sapUiUfdShellHeadUsrItmImg'></span>");e.write("<span id='"+l.getId()+"-name' class='sapUiUfdShellHeadUsrItmName'");var n=l.getUsername()||"";e.writeAttributeEscaped("title",n);e.write(">");e.writeEscaped(n);e.write("</span><span class='sapUiUfdShellHeadUsrItmExp' aria-hidden='true'></span></div>")}e.write("</div>");if(i){this._renderLogo(e,t)}},_renderLogo:function(e,t){var i=s.getResourceBundleFor("sap.ui.unified"),a=i.getText("SHELL_LOGO_TOOLTIP"),r=t._getLogo();e.write("<div class='sapUiUfdShellIco'>");e.write("<img id='",t.getId(),"-icon'");e.writeAttributeEscaped("title",a);e.writeAttributeEscaped("alt",a);e.write("src='");e.writeEscaped(r);e.write("'");if(!r){e.addStyle("display","none");e.writeStyles()}e.write(">");e.write("</div>")}}});l.prototype.init=function(){var e=this;this._rtl=t.getRTL();this._handleMediaChange=function(t){if(!e.getDomRef()){return}e._refresh()};a.media.attachHandler(this._handleMediaChange,this,a.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(t){if(!e.getDomRef()||!e.getUser()){return}var i=this.getUser();var a=i._checkAndAdaptWidth(!e.$("hdr-search").hasClass("sapUiUfdShellHidden")&&!!e.getSearch());if(a){e._refresh()}};a.resize.attachHandler(this._handleResizeChange,this);this.data("sap-ui-fastnavgroup","true",true)};l.prototype.exit=function(){a.media.detachHandler(this._handleMediaChange,this,a.media.RANGESETS.SAP_STANDARD);delete this._handleMediaChange;a.resize.detachHandler(this._handleResizeChange,this);delete this._handleResizeChange};l.prototype.onAfterRendering=function(){this._refresh();this.$("hdr-center").toggleClass("sapUiUfdShellAnim",!this._noHeadCenterAnim)};l.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate()}};l.prototype._getLogo=function(){var e=this.getLogo();if(!e){e=d._getThemeImage(null,true)}return e};l.prototype._refresh=function(){function e(e){for(var t=0;t<e.length;t++){e[t]._refreshIcon()}}e(this.getHeadItems());e(this.getHeadEndItems());var t=this.getUser(),i=jQuery("html").hasClass("sapUiMedia-Std-Phone"),a=!this.$("hdr-search").hasClass("sapUiUfdShellHidden"),r=this.$("icon");if(t){t._refreshImage();t._checkAndAdaptWidth(a&&!!this.getSearch())}r.parent().toggleClass("sapUiUfdShellHidden",i&&a&&!!this.getSearch());var s=this.$("hdr-end").outerWidth(),d=this.$("hdr-begin").outerWidth(),l=Math.max(s,d),n=(i&&a?d:l)+"px",h=(i&&a?s:l)+"px";this.$("hdr-center").css({left:this._rtl?h:n,right:this._rtl?n:h})};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellLayout", ["sap/base/i18n/Localization","sap/ui/Device","sap/ui/core/Control","sap/ui/core/ControlBehavior","sap/ui/core/Popup","sap/ui/core/RenderManager","sap/ui/core/theming/Parameters","./SplitContainer","./library","./ShellLayoutRenderer","sap/ui/dom/containsOrEquals","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Focusable"],function(t,e,n,i,r,o,s,a,u,d,h,c,jQuery,p){"use strict";var l=n.extend("sap.ui.unified.ShellLayout",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{showPane:{type:"boolean",group:"Appearance",defaultValue:false},headerHiding:{type:"boolean",group:"Appearance",defaultValue:false},headerVisible:{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",forwarding:{idSuffix:"-container",aggregation:"content"}},paneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"paneContent",forwarding:{idSuffix:"-container",aggregation:"secondaryContent"}},header:{type:"sap.ui.core.Control",multiple:false},canvasSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"},curtainSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"}}},renderer:d});l._SIDEPANE_WIDTH_PHONE=208;l._SIDEPANE_WIDTH_TABLET=208;l._SIDEPANE_WIDTH_DESKTOP=240;l._HEADER_ALWAYS_VISIBLE=true;l._HEADER_AUTO_CLOSE=true;l._HEADER_TOUCH_TRESHOLD=15;if(e.browser.chrome&&e.browser.version<36){l._HEADER_TOUCH_TRESHOLD=10}l.prototype.init=function(){this._rtl=t.getRTL();this._animation=p.getAnimation();this._showHeader=true;this._showCurtain=false;this._iHeaderHidingDelay=3e3;this._useStrongBG=false;this._cont=new a(this.getId()+"-container");this._cont._bRootContent=true;if(i.isAccessibilityEnabled()){var n=this;this._cont.addEventDelegate({onAfterRendering:function(){n._cont.$("canvas").attr("role","main");n._cont.$("pane").attr("role","complementary")}})}this.setAggregation("canvasSplitContainer",this._cont,true);this._curtCont=new a(this.getId()+"-curt-container");this._curtCont._bRootContent=true;this.setAggregation("curtainSplitContainer",this._curtCont,true);this._setSidePaneWidth();e.media.attachHandler(this._handleMediaChange,this,e.media.RANGESETS.SAP_STANDARD);e.resize.attachHandler(this._handleResizeChange,this)};l.prototype.exit=function(){e.media.detachHandler(this._handleMediaChange,this,e.media.RANGESETS.SAP_STANDARD);e.resize.detachHandler(this._handleResizeChange,this);delete this._cont;delete this._curtCont};l.prototype.onAfterRendering=function(){var t=this;function e(e){var n=jQuery.event.fix(e);if(h(t.getDomRef("hdr"),n.target)){t._timedHideHeader(n.type==="focus")}}if(window.addEventListener&&!l._HEADER_ALWAYS_VISIBLE){var n=this.getDomRef("hdr");n.addEventListener("focus",e,true);n.addEventListener("blur",e,true)}this._refreshAfterRendering()};l.prototype.onThemeChanged=function(){this._refreshAfterRendering()};l.prototype.onfocusin=function(t){var e=this.getId();if(t.target.id===e+"-curt-focusDummyOut"&&this.$("hdrcntnt").firstFocusableDomRef()){this.$("hdrcntnt").firstFocusableDomRef().focus()}else if(t.target.id===e+"-main-focusDummyOut"&&this.$("curtcntnt").firstFocusableDomRef()){this.$("curtcntnt").firstFocusableDomRef().focus()}};(function(){function t(t){if(t._startY===undefined||t._currY===undefined){return}var e=t._currY-t._startY;if(Math.abs(e)>l._HEADER_TOUCH_TRESHOLD){t._doShowHeader(e>0);t._startY=t._currY}}if(e.support.touch){l._HEADER_ALWAYS_VISIBLE=false;l.prototype.ontouchstart=function(t){this._startY=t.touches[0].pageY;if(this._startY>2*48){this._startY=undefined}this._currY=this._startY};l.prototype.ontouchend=function(e){t(this);this._startY=undefined;this._currY=undefined};l.prototype.ontouchcancel=l.prototype.ontouchend;l.prototype.ontouchmove=function(e){this._currY=e.touches[0].pageY;t(this)}}})();l.prototype.setHeaderHiding=function(t){t=!!t;return this._mod(function(e){return this.setProperty("headerHiding",t,e)},function(){this._doShowHeader(!t?true:this._showHeader)})};l.prototype.setHeaderHidingDelay=function(t){this._iHeaderHidingDelay=t;return this};l.prototype.getHeaderHidingDelay=function(){return this._iHeaderHidingDelay};l.prototype.getShowPane=function(){return this._cont.getShowSecondaryContent()};l.prototype.setShowPane=function(t){this._cont.setShowSecondaryContent(t);this.setProperty("showPane",!!t,true);return this};l.prototype.setShowCurtainPane=function(t){this._curtCont.setShowSecondaryContent(t);return this};l.prototype.getShowCurtainPane=function(){return this._curtCont.getShowSecondaryContent()};l.prototype.setHeaderVisible=function(t){t=!!t;this.setProperty("headerVisible",t,true);this.$().toggleClass("sapUiUfdShellNoHead",!t);return this};l.prototype.setShowCurtain=function(t){t=!!t;return this._mod(function(e){this._showCurtain=t;return this},function(){this.$("main-focusDummyOut").attr("tabindex",t?0:-1);this.$().toggleClass("sapUiUfdShellCurtainHidden",!t).toggleClass("sapUiUfdShellCurtainVisible",t);if(t){var e=r.getNextZIndex();this.$("curt").css("z-index",e+1);this.$("hdr").css("z-index",e+3);this.$("brand").css("z-index",e+7);this.$().toggleClass("sapUiUfdShellCurtainClosed",false)}this._timedCurtainClosed(t);this._doShowHeader(true)})};l.prototype.getShowCurtain=function(){return this._showCurtain};l.prototype.setHeader=function(t){this.setAggregation("header",t,true);t=this.getHeader();if(this.getDomRef()){if(!t){this.$("hdrcntnt").html("")}else{var e=(new o).getInterface();e.renderControl(t);e.flush(this.getDomRef("hdrcntnt"));e.destroy()}}return this};l.prototype.destroyHeader=function(){this.destroyAggregation("header",true);this.$("hdrcntnt").html("");return this};l.prototype.getCurtainContent=function(){return this._curtCont.getContent()};l.prototype.insertCurtainContent=function(t,e){this._curtCont.insertContent(t,e);return this};l.prototype.addCurtainContent=function(t){this._curtCont.addContent(t);return this};l.prototype.removeCurtainContent=function(t){return this._curtCont.removeContent(t)};l.prototype.removeAllCurtainContent=function(){return this._curtCont.removeAllContent()};l.prototype.destroyCurtainContent=function(){this._curtCont.destroyContent();return this};l.prototype.indexOfCurtainContent=function(t){return this._curtCont.indexOfCurtainContent(t)};l.prototype.getCurtainPaneContent=function(){return this._curtCont.getSecondaryContent()};l.prototype.insertCurtainPaneContent=function(t,e){this._curtCont.insertSecondaryContent(t,e);return this};l.prototype.addCurtainPaneContent=function(t){this._curtCont.addSecondaryContent(t);return this};l.prototype.removeCurtainPaneContent=function(t){return this._curtCont.removeSecondaryContent(t)};l.prototype.removeAllCurtainPaneContent=function(){return this._curtCont.removeAllSecondaryContent()};l.prototype.destroyCurtainPaneContent=function(){this._curtCont.destroySecondaryContent();return this};l.prototype.indexOfCurtainPaneContent=function(t){return this._curtCont.indexOfSecondaryContent(t)};l.prototype._setStrongBackground=function(t){this._useStrongBG=!!t;this.$("strgbg").toggleClass("sapUiStrongBackgroundColor",this._useStrongBG)};l.prototype._mod=function(t,e){var n=!!this.getDomRef();var i=t.apply(this,[n]);if(n&&e){if(e instanceof u._ContentRenderer){e.render()}else{e.apply(this)}}return i};l.prototype._doShowHeader=function(t){var e=this._showHeader;this._showHeader=this._isHeaderHidingActive()?!!t:true;this.$().toggleClass("sapUiUfdShellHeadHidden",!this._showHeader).toggleClass("sapUiUfdShellHeadVisible",this._showHeader);if(this._showHeader){this._timedHideHeader()}if(e!=this._showHeader&&this._isHeaderHidingActive()){setTimeout(function(){try{var t=document.createEvent("UIEvents");t.initUIEvent("resize",true,false,window,0);window.dispatchEvent(t)}catch(t){c.error(t)}},500)}};l.prototype._timedHideHeader=function(t){if(this._headerHidingTimer){clearTimeout(this._headerHidingTimer);this._headerHidingTimer=null}if(t||!l._HEADER_AUTO_CLOSE||!this._isHeaderHidingActive()||this._iHeaderHidingDelay<=0){return}this._headerHidingTimer=setTimeout(function(){if(this._isHeaderHidingActive()&&this._iHeaderHidingDelay>0&&!h(this.getDomRef("hdr"),document.activeElement)){this._doShowHeader(false)}}.bind(this),this._iHeaderHidingDelay)};l.prototype._timedCurtainClosed=function(t){if(this._curtainClosedTimer){clearTimeout(this._curtainClosedTimer);this._curtainClosedTimer=null}if(t){return}var e=parseInt(s.get("_sap_ui_unified_ShellLayout_AnimDuration"));if(!this._animation){e=0}this._curtainClosedTimer=setTimeout(function(){this._curtainClosedTimer=null;this.$("curt").css("z-index","");this.$("hdr").css("z-index","");this.$("brand").css("z-index","");this.$().toggleClass("sapUiUfdShellCurtainClosed",true)}.bind(this),e)};l.prototype._isHeaderHidingActive=function(){if(l._HEADER_ALWAYS_VISIBLE||this.getShowCurtain()||!this.getHeaderHiding()||u._iNumberOfOpenedShellOverlays>0||!this.getHeaderVisible()){return false}return true};l.prototype._setSidePaneWidth=function(t){if(!t){t=e.media.getCurrentRange(e.media.RANGESETS.SAP_STANDARD).name}var n=l["_SIDEPANE_WIDTH_"+t.toUpperCase()]+"px";this._cont.setSecondaryContentSize(n);this._curtCont.setSecondaryContentSize(n)};l.prototype._handleMediaChange=function(t){if(!this.getDomRef()){return false}this._setSidePaneWidth(t.name)};l.prototype._handleResizeChange=function(t){};l.prototype._refreshAfterRendering=function(){var t=this.getDomRef();if(!t){return false}this._timedHideHeader();return true};l.prototype._getSearchWidth=function(){return-1};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellLayoutRenderer", ["sap/ui/core/ControlBehavior"],function(i){"use strict";var e={};e.render=function(e,a){var d=a.getId();e.write("<div");e.writeControlData(a);e.addClass("sapUiUfdShell");if(a._animation){e.addClass("sapUiUfdShellAnim")}if(!a.getHeaderVisible()){e.addClass("sapUiUfdShellNoHead")}e.addClass("sapUiUfdShellHead"+(a._showHeader?"Visible":"Hidden"));if(a.getShowCurtain()){e.addClass("sapUiUfdShellCurtainVisible")}else{e.addClass("sapUiUfdShellCurtainHidden");e.addClass("sapUiUfdShellCurtainClosed")}e.writeClasses();e.write(">");e.write("<hr id='",d,"-brand' class='sapUiUfdShellBrand'>");e.write("<header id='",d,"-hdr'  class='sapUiUfdShellHead'");if(i.isAccessibilityEnabled()){e.writeAttribute("role","banner")}e.write("><div><div id='",d,"-hdrcntnt' class='sapUiUfdShellCntnt'>");if(a.getHeader()){e.renderControl(a.getHeader())}e.write("</div>","</div>","</header>");e.write("<section id='",d,"-curt' class='sapUiUfdShellCntnt sapUiUfdShellCurtain'>");e.write("<div id='",d,"-curtcntnt' class='sapUiUfdShellCntnt'>");e.renderControl(a._curtCont);e.write("</div>");e.write("<span id='",d,"-curt-focusDummyOut' tabindex='0'></span>");e.write("</section>");e.write("<div id='",d,"-cntnt' class='sapUiUfdShellCntnt sapUiUfdShellCanvas sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce'>");e.write("<div id='",d,"-strgbg' class='sapUiUfdShellBG"+(a._useStrongBG?" sapUiStrongBackgroundColor":"")+"'></div>");e.write("<div class='sapUiGlobalBackgroundImage sapUiGlobalBackgroundImageForce sapUiUfdShellBG'></div>");e.renderControl(a._cont);e.write("</div>");e.write("<span id='",d,"-main-focusDummyOut' tabindex='"+(a.getShowCurtain()?0:-1)+"'></span>");e.write("</div>")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellOverlay", ["sap/ui/Device","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Popup","./library","sap/ui/core/theming/Parameters","./ShellOverlayRenderer","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/rect","sap/ui/dom/jquery/Selectors"],function(e,t,i,n,r,o,s,jQuery,a){"use strict";var l=t.extend("sap.ui.unified.ShellOverlay",{metadata:{library:"sap.ui.unified",deprecated:true,defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},search:{type:"sap.ui.core.Control",multiple:false}},associations:{shell:{type:"sap.ui.unified.ShellLayout",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{closed:{}}},renderer:s});l.prototype.open=function(){if(this._getPopup().isOpen()){return}this._opening=true;this._forceShellHeaderVisible();this._getPopup().setModal(true,n.blStack.length==0&&this._getAnimActive()?"sapUiUfdShellOvrlyBly sapUiUfdShellOvrlyBlyTp":"");this._getPopup().open(0,n.Dock.BeginTop,n.Dock.BeginTop,window,"0 0","none");var e=this.getSearch();if(e){e.focus()}this._opening=false;if(this._getAnimActive()){setTimeout(function(){jQuery(document.getElementById("sap-ui-blocklayer-popup")).toggleClass("sapUiUfdShellOvrlyBlyTp",false)},50)}setTimeout(function(){this.$().toggleClass("sapUiUfdShellOvrlyOpening",false)}.bind(this),this._getAnimDuration(true))};l.prototype.close=function(){if(!this._getPopup().isOpen()){return}this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",true).toggleClass("sapUiUfdShellOvrlyClosing",true);this._setSearchWidth();setTimeout(function(){var e=jQuery(document.getElementById("sap-ui-blocklayer-popup"));if(n.blStack.length==1&&this._getAnimActive()&&e.hasClass("sapUiUfdShellOvrlyBly")){e.toggleClass("sapUiUfdShellOvrlyBlyTp",true)}}.bind(this),Math.max(this._getAnimDuration(false)-this._getBLAnimDuration(),0));setTimeout(function(){this._getPopup().close(0);this.$().remove();this._forceShellHeaderVisible();this.fireClosed()}.bind(this),this._getAnimDuration(false))};l.prototype.setShell=function(e){return this.setAssociation("shell",e,true)};l.prototype.setSearch=function(e){this.setAggregation("search",e,true);if(this.getDomRef()){this._headRenderer.render()}return this};l.prototype.insertContent=function(e,t){var i=this.insertAggregation("content",e,t,true);if(this.getDomRef()){this._contentRenderer.render()}return i};l.prototype.addContent=function(e){var t=this.addAggregation("content",e,true);if(this.getDomRef()){this._contentRenderer.render()}return t};l.prototype.removeContent=function(e){var t=this.removeAggregation("content",e,true);if(this.getDomRef()){this._contentRenderer.render()}return t};l.prototype.removeAllContent=function(){var e=this.removeAllAggregation("content",true);if(this.getDomRef()){this._contentRenderer.render()}return e};l.prototype.destroyContent=function(){var e=this.destroyAggregation("content",true);if(this.getDomRef()){this._contentRenderer.render()}return e};l.prototype.init=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1;this._animation=a.getAnimation();this._opening=false;var e=this;this._headRenderer=new r._ContentRenderer(this,this.getId()+"-hdr-center",function(t){s.renderSearch(t,e)});this._contentRenderer=new r._ContentRenderer(this,this.getId()+"-cntnt",function(t){s.renderContent(t,e)})};l.prototype.exit=function(){if(this._popup){this._popup.close(0);this._popup.destroy();this._popup=null}this._getPopup=function(){return null};this._headRenderer.destroy();delete this._headRenderer;this._contentRenderer.destroy();delete this._contentRenderer};l.prototype.onAfterRendering=function(){if(this._opening){this._setSearchWidth()}setTimeout(function(){this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",false);this.$("search").css("width","")}.bind(this),10)};l.prototype.onclick=function(e){if(jQuery(e.target).attr("id")===this.getId()+"-close"){this.close();e.preventDefault()}};l.prototype.onsapspace=l.prototype.onclick;l.prototype.onThemeChanged=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1};l.prototype.onfocusin=function(e){var t,i;if(e.target.id==this.getId()+"-focfirst"){t=jQuery(":sapTabbable",this.$("inner"));i=t.get(t.length-1)}else if(e.target.id==this.getId()+"-foclast"){t=jQuery(":sapTabbable",this.$("inner"));i=t.get(0)}if(i){i.focus()}};l.prototype._getAnimDurationThemeParam=function(e,t){var i=parseInt(o.get(e));if(!this._getAnimActive()&&t){i=0}return i};l.prototype._getAnimDuration=function(e){if(e&&this._animOpenDuration==-1||!e&&this._animCloseDuration==-1){var t=e?"Open":"Close";this["_anim"+t+"Duration"]=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_"+t+"AnimOverAll",true)}return e?this._animOpenDuration:this._animCloseDuration};l.prototype._getBLAnimDuration=function(){if(this._animBlockLayerDuration==-1){this._animBlockLayerDuration=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_BlockLayerAnimDuration",true)}return this._animBlockLayerDuration};l.prototype._getAnimActive=function(){if(!this._animation){return false}return true};l.prototype._getPopup=function(){if(!this._popup){this._popup=new n(this,true,false,false);this._popup._applyPosition=function(e){this._$().css("left","0").css("top","0");this._oLastPosition=e;this._oLastOfRect=jQuery(window).rect()};this._popup.attachOpened(function(){r._iNumberOfOpenedShellOverlays++});this._popup.attachClosed(function(){r._iNumberOfOpenedShellOverlays--})}return this._popup};l.prototype._getShell=function(){var e=this.getShell();if(!e){return}var t=i.getElementById(e);if(!t||!(t instanceof sap.ui.unified.ShellLayout)){return}return t};l.prototype._forceShellHeaderVisible=function(){var e=this._getShell();if(e){e._doShowHeader(true)}};l.prototype._getSearchWidth=function(){var e=this._getShell();return e?e._getSearchWidth():-1};l.prototype._setSearchWidth=function(){var t=this._getSearchWidth();if(t<=0){return}var i=t+"px";if(e.browser.safari){var n=this.$("hdr-center").width();if(n>t){i=Math.round(t*100/n)+"%"}else{i="100%"}}this.$("search").css("width",i)};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellOverlayRenderer", ["sap/ui/core/Lib","sap/ui/core/ControlBehavior"],function(e,i){"use strict";var t={};t.render=function(r,d){r.write("<div");r.writeControlData(d);r.addClass("sapUiUfdShellOvrly");if(d._opening){r.addClass("sapUiUfdShellOvrlyCntntHidden");r.addClass("sapUiUfdShellOvrlyOpening")}if(d._getAnimActive()){r.addClass("sapUiUfdShellOvrlyAnim")}r.writeClasses();if(i.isAccessibilityEnabled()){r.writeAccessibilityState(d,{role:"dialog"})}r.write("><span id='",d.getId(),"-focfirst' tabindex='0'></span><div id='",d.getId(),"-inner'>");r.write("<header class='sapUiUfdShellOvrlyHead'>");r.write("<hr class='sapUiUfdShellOvrlyBrand'>");r.write("<div class='sapUiUfdShellOvrlyHeadCntnt'");if(i.isAccessibilityEnabled()){r.writeAttribute("role","toolbar")}r.write("><div id='"+d.getId()+"-hdr-center' class='sapUiUfdShellOvrlyHeadCenter'>");t.renderSearch(r,d);r.write("</div>");var a=e.getResourceBundleFor("sap.ui.unified"),l=a.getText("SHELL_OVERLAY_CLOSE");r.write("<a tabindex='0' href='#' id='"+d.getId()+"-close' class='sapUiUfdShellOvrlyHeadClose'");r.writeAttributeEscaped("title",l);if(i.isAccessibilityEnabled()){r.writeAttribute("role","button")}r.write(">");r.writeEscaped(l);r.write("</a></div></header>");r.write("<div id='"+d.getId()+"-cntnt' class='sapUiUfdShellOvrlyCntnt'>");t.renderContent(r,d);r.write("</div>");r.write("</div><span id='",d.getId(),"-foclast' tabindex='0'></span></div>")};t.renderSearch=function(e,i){var t=i._getSearchWidth();e.write("<div id='"+i.getId()+"-search' class='sapUiUfdShellOvrlySearch' ");if(t>0&&i._opening){e.addStyle("width",t+"px'");e.writeStyles()}e.write("><div>");var r=i.getSearch();if(r){e.renderControl(r)}e.write("</div></div>")};t.renderContent=function(e,i){e.write("<div>");var t=i.getContent();for(var r=0;r<t.length;r++){e.renderControl(t[r])}e.write("</div>")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellRenderer", ["sap/ui/core/Renderer","./ShellLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/SplitContainer", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/theming/Parameters","./library","sap/ui/core/library","./SplitContainerRenderer","sap/base/Log"],function(t,e,n,o,r,i,a){"use strict";var s=r.Orientation;var d=e.extend("sap.ui.unified.SplitContainer",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:null},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px"},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px",deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:s.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"}}},renderer:i});(function(e){d.prototype.init=function(){this.bRtl=t.getRTL();this._paneRenderer=new o._ContentRenderer(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new o._ContentRenderer(this,this.getId()+"-canvascntnt","content");this._moveContent=true};d.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;if(this._closeContentDelayId){clearTimeout(this._closeContentDelayId);delete this._closeContentDelayId}delete this._contentContainer;delete this._secondaryContentContainer};d.prototype.onAfterRendering=function(){this.bRtl=t.getRTL();this._contentContainer=this.$("canvas");this._secondaryContentContainer=this.$("pane");this._applySecondaryContentSize()};d.prototype._applySecondaryContentSize=function(){if(this.getDomRef()){var t=this.getOrientation()==s.Vertical;var e,o;var r,i;var a=this.getSecondaryContentSize();var d=this.getShowSecondaryContent();if(t){e="height";o="width";r="top";i=this.bRtl?"right":"left"}else{e="width";o="height";r=this.bRtl?"right":"left";i="top"}if(this._closeContentDelayId){clearTimeout(this._closeContentDelayId);delete this._closeContentDelayId}this._secondaryContentContainer.css(e,a);this._secondaryContentContainer.css(o,"");this._secondaryContentContainer.css(r,d?"0":"-"+a);this._secondaryContentContainer.css(i,"");if(this._moveContent){this._contentContainer.css(r,d?a:"0")}else{this._contentContainer.css(r,"0")}if(!d){var c=parseInt(n.get("_sap_ui_unified_SplitContainer_AnimationDuration"));this._closeContentDelayId=setTimeout(function(){this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",true)}.bind(this),c)}else{this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",false)}}};d.prototype._mod=function(t,e){var n=!!this.getDomRef();var o=t.apply(this,[n]);if(n&&e){e.render()}return o};d.prototype.setShowSecondaryContent=function(t){var e=this.getDomRef();this.setProperty("showSecondaryContent",!!t,e);this._applySecondaryContentSize();return this};d.prototype.setSecondaryContentSize=function(t){this.setProperty("secondaryContentSize",t,true);this._applySecondaryContentSize();return this};d.prototype.getSecondaryContentWidth=function(){a.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.getSecondaryContentSize.apply(this,arguments)};d.prototype.setSecondaryContentWidth=function(){a.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.setSecondaryContentSize.apply(this,arguments)};d.prototype.insertContent=function(t,e){return this._mod(function(n){return this.insertAggregation("content",t,e,n)},this._canvasRenderer)};d.prototype.addContent=function(t){return this._mod(function(e){return this.addAggregation("content",t,e)},this._canvasRenderer)};d.prototype.removeContent=function(t){return this._mod(function(e){return this.removeAggregation("content",t,e)},this._canvasRenderer)};d.prototype.removeAllContent=function(){return this._mod(function(t){return this.removeAllAggregation("content",t)},this._canvasRenderer)};d.prototype.destroyContent=function(){return this._mod(function(t){return this.destroyAggregation("content",t)},this._canvasRenderer)};d.prototype.insertSecondaryContent=function(t,e){return this._mod(function(n){return this.insertAggregation("secondaryContent",t,e,n)},this._paneRenderer)};d.prototype.addSecondaryContent=function(t){return this._mod(function(e){return this.addAggregation("secondaryContent",t,e)},this._paneRenderer)};d.prototype.removeSecondaryContent=function(t){return this._mod(function(e){return this.removeAggregation("secondaryContent",t,e)},this._paneRenderer)};d.prototype.removeAllSecondaryContent=function(){return this._mod(function(t){return this.removeAllAggregation("secondaryContent",t)},this._paneRenderer)};d.prototype.destroySecondaryContent=function(){return this._mod(function(t){return this.destroyAggregation("secondaryContent",t)},this._paneRenderer)}})(window);return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/SplitContainerRenderer", ["sap/ui/core/ControlBehavior","sap/ui/core/library","sap/ui/core/Configuration"],function(t,e,n){"use strict";var i=e.Orientation;var a={};a.render=function(e,a){var o=a.getId();var r=a.getOrientation()==i.Vertical;e.write("<div");e.writeControlData(a);e.addClass("sapUiUfdSpltCont");e.addClass("sapUiUfdSpltCont"+(r?"V":"H"));if(t.getAnimationMode()!==n.AnimationMode.none){e.addClass("sapUiUfdSpltContAnim")}if(!a.getShowSecondaryContent()){e.addClass("sapUiUfdSpltContPaneHidden")}e.writeClasses();e.write(">");var d=o+"-canvas";e.write("<section id='",d,"' class='sapUiUfdSpltContCanvas'>");this.renderContent(e,d,a.getContent(),a._bRootContent);e.write("</section>");var s=o+"-pane";var C=a.getShowSecondaryContent()?a.getSecondaryContentSize():"0";e.write("<aside id='",s);e.write("'");e.addStyle("width",C);e.writeStyles();e.addClass("sapUiUfdSpltContPane");if(!a.getShowSecondaryContent()){e.addClass("sapUiUfdSplitContSecondClosed")}e.writeClasses();e.write(">");this.renderContent(e,s,a.getSecondaryContent(),a._bRootContent);e.write("</aside>");e.write("</div>")};a.renderContent=function(t,e,n,i){t.write("<div id='",e,"cntnt' class='sapUiUfdSpltContCntnt'");if(i){t.writeAttribute("data-sap-ui-root-content","true")}t.write(">");for(var a=0;a<n.length;a++){t.renderControl(n[a])}t.write("</div>")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/TimeRange", ["sap/ui/core/Element","sap/ui/core/format/DateFormat","sap/ui/core/Configuration","sap/base/i18n/Formatting","sap/ui/core/Locale"],function(t,e,a,r,n){"use strict";var i=t.extend("sap.ui.unified.TimeRange",{metadata:{library:"sap.ui.unified",properties:{start:{type:"string",group:"Misc",defaultValue:null},end:{type:"string",group:"Misc",defaultValue:null},valueFormat:{type:"string",group:"Misc",defaultValue:"hh:mm"}}}});i.prototype._getFormatInstance=function(){const t={pattern:this.getValueFormat(),strictParsing:true};return e.getTimeInstance(t,new n(r.getLanguageTag()))};i.prototype.getStartDate=function(){return this._getFormatInstance().parse(this.getStart())};i.prototype.getEndDate=function(){return this._getFormatInstance().parse(this.getEnd())};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate", ["sap/ui/base/Object","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date"],function(t,e,a){"use strict";var n=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,o,i;switch(t.length){case 0:o=a.getInstance();return n.call(this,o.getFullYear(),o.getMonth(),o.getDate());case 1:case 2:if(!(t[0]instanceof n)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}i=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=a.getInstance(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=r(e,i);break;case 3:case 4:u(t[0],"Invalid year: "+t[0]);u(t[1],"Invalid month: "+t[1]);u(t[2],"Invalid date: "+t[2]);e=a.getInstance(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){i=t[3]}this._oUDate=r(e,i);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});n.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};n.prototype.setYear=function(t){u(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};n.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};n.prototype.setMonth=function(t,e){u(t,"Invalid month: "+t);if(e||e===0){u(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};n.prototype.getDate=function(){return this._oUDate.getUTCDate()};n.prototype.setDate=function(t){u(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};n.prototype.getDay=function(){return this._oUDate.getUTCDay()};n.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};n.prototype.getEra=function(){return this._oUDate.getUTCEra()};n.prototype.isBefore=function(t){i(t);return this.valueOf()<t.valueOf()};n.prototype.isAfter=function(t){i(t);return this.valueOf()>t.valueOf()};n.prototype.isSameOrBefore=function(t){i(t);return this.valueOf()<=t.valueOf()};n.prototype.isSameOrAfter=function(t){i(t);return this.valueOf()>=t.valueOf()};n.prototype.isSame=function(t){i(t);return this.valueOf()===t.valueOf()};n.prototype.toLocalJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};n.prototype.toUTCJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};n.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};n.prototype.valueOf=function(){return this._oUDate.getTime()};n.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getFullYear(),t.getMonth(),t.getDate(),e)};n.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function r(t,a){if(a){return e.getInstance(o(t),a)}else{return new e(o(t).getTime())}}function o(t){var e=a.getInstance(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function i(t){if(!(t instanceof n)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function u(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils", ["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/base/i18n/date/CalendarType","sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,i,s,g,u){"use strict";var l={};l.MAX_MILLISECONDS=864e13;l.HOURS24=1e3*3600*24;l._createLocalDate=function(e,t){var a;if(e){var r;if(e instanceof n){r=e.getJSDate()}else{r=e}a=u.getInstance(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){a.setFullYear(r.getFullYear())}if(t){a.setHours(r.getUTCHours());a.setMinutes(r.getUTCMinutes());a.setSeconds(r.getUTCSeconds());a.setMilliseconds(r.getUTCMilliseconds())}}return a};l._createUTCDate=function(e,t){var a;if(e){var r;if(e instanceof n){r=e.getJSDate()}else{r=e}a=u.getInstance(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){a.setUTCFullYear(r.getFullYear())}if(t){a.setUTCHours(r.getHours());a.setUTCMinutes(r.getMinutes());a.setUTCSeconds(r.getSeconds());a.setUTCMilliseconds(r.getMilliseconds())}}return a};l._createUniversalUTCDate=function(e,t,a){var r;if(t){r=n.getInstance(this._createUTCDate(e,a),t)}else{r=new n(this._createUTCDate(e,a).getTime())}return r};l.calculateWeekNumber=function(e,t,a,n,r){const u=new i(a);const l=s.getInstance(u);const o=l.getMinimalDaysInFirstWeek();const c=g.getInstance({pattern:"w",calendarType:t,firstDayOfWeek:r,minimalDaysInFirstWeek:o,calendarWeekNumbering:n},u);const f=c.format(e.toLocalJSDate());return Number(f)};l._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};l.getFirstDateOfWeek=function(a,r){var g=new n(a.getTime()),u,l,o=s.getInstance(new i(e.getLanguageTag())),c=new i(t.getLanguageTag()),f=o.getFirstDayOfWeek(),D;if(!r||(r.firstDayOfWeek===-1||r.firstDayOfWeek===undefined)){r={firstDayOfWeek:o.getFirstDayOfWeek(),minimalDaysInFirstWeek:o.getMinimalDaysInFirstWeek()}}D=n.getWeekByDate(g.getCalendarType(),g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),c,r);u=n.getFirstDateOfWeek(g.getCalendarType(),D.year,D.week,c,r);l=new n(n.UTC(u.year,u.month,u.day));if(r&&(r.firstDayOfWeek===-1||r.firstDayOfWeek===undefined)){while(l.getUTCDay()!==f){l.setUTCDate(l.getUTCDate()-1)}}return new n(n.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())).getJSDate()};l.getFirstDateOfMonth=function(e){var t=new n(e.getTime());t.setUTCDate(1);return t};l._getNumberOfWeeksForYear=function(t){var a=e.getLanguageTag().toString(),n=s.getInstance(new i(a)),r=u.getInstance(Date.UTC(t,0,1)),g=r.getUTCDay(),l=52;if(n.getFirstDayOfWeek()===0){if(g===5||g===6){l=53}}else{if(g===3||g===4){l=53}}return l};l.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};l.isDateLastInMonth=function(e){var t=u.getInstance(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};l._updateUTCDate=function(e,t,a,n,r,i,s,g){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(g!=null){e.setUTCMilliseconds(g)}};l._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript or UI5Date date object.")}};l._checkYearInValidRange=function(t,n){var i=e.getCalendarType(),s=new r(this._minDate(a.Gregorian),n||i),g=new r(this._maxDate(a.Gregorian),n||i);if(typeof t!=="number"||t<s.getYear()||t>g.getYear()){throw new Error("Year must be in valid range (between year 0001 and year 9999 in Gregorian calendar type).")}};l._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};l._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};l._areCurrentMinutesLessThan=function(e){var t=u.getInstance().getMinutes();return e>=t};l._areCurrentMinutesMoreThan=function(e){var t=u.getInstance().getMinutes();return e<=t};l._monthsBetween=function(e,t,a){var n=u.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=u.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};l._hoursBetween=function(e,t){var a=u.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=u.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};l._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};l._daysInMonth=function(e){this._checkCalendarDate(e);e=new r(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};l._isLastDateInMonth=function(e){return e.getDate()===l._daysInMonth(e)};l._getFirstDateOfWeek=function(t,a){var n=s.getInstance(new i(e.getLanguageTag()));this._checkCalendarDate(t);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:n.getFirstDayOfWeek(),minimalDaysInFirstWeek:n.getMinimalDaysInFirstWeek()}}if(t.getDay()!==a.firstDayOfWeek){var g=l.getFirstDateOfWeek(t.toUTCJSDate(),a);g.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate());return r.fromLocalJSDate(g,t.getCalendarType())}return t};l._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var t=new r(e,e.getCalendarType());t.setDate(1);return t};l._minDate=function(e){var t=new r(1,0,1,e);t.setYear(1);t.setMonth(0);t.setDate(1);return t};l._maxDate=function(e){var t=new r(9999,11,1,e);t.setYear(9999);t.setMonth(11);t.setDate(this._daysInMonth(t));return new r(t)};l._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};l._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};l._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};l._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};l._checkCalendarDate=function(e){if(!e||!(e instanceof r)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};l._getWeek=function(e){this._checkCalendarDate(e);return n.getWeekByDate(e.getCalendarType(),e.getYear(),e.getMonth(),e.getDate())};l._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomMonthPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a){"use strict";var n=e.extend(i);n.apiVersion=2;var s=t.extend("sap.ui.unified.internal.CustomMonthPicker",{metadata:{library:"sap.ui.unified"},renderer:n});s.prototype._initializeHeader=function(){var e=new r(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","monthPicker");this._bNamesLengthChecked=true};s.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=this._getYearPicker().getDate(),r=this._getMonthPicker(),a,n=r&&!r._iYear;t.prototype.onBeforeRendering.apply(this,arguments);if(this._iMode===1){if(e.length&&e[0].getStartDate()&&(!i||n||e[0].getStartDate().getFullYear()===i.getFullYear())){a=e[0].getStartDate();r.setMonth(a.getMonth());r._iYear=a.getFullYear()}}};s.prototype._closePickers=function(){this.setProperty("_currentPicker","monthPicker");this._togglePrevNext(this._getFocusedDate(),true)};s.prototype._selectYear=function(){var e=this._getMonthPicker(),t=this._getYearPicker(),i=this._getFocusedDate();i.setYear(t.getDate().getFullYear());e._setYear(i.getYear());e._setDate(i);this._focusDate(i,true);this._showMonthPicker()};s.prototype._selectMonth=function(){var e=this._getMonthPicker(),t=this.getSelectedDates()[0],i=this._getFocusedDate();if(!t){t=new a}if(!e.getIntervalSelection()){i.setMonth(e.getMonth(),1);t.setStartDate(i.toLocalJSDate());this.addSelectedDate(t)}this.fireSelect()};s.prototype.onsapescape=function(e){this.fireCancel()};s.prototype._hideMonthPicker=function(){this._hideOverlay();this._togglePrevNext(this._getFocusedDate(),true);this._bActionTriggeredFromSecondHeader=false};s.prototype.setShowCurrentDateButton=function(e){return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomYearPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a,n){"use strict";var s=e.extend(i);s.apiVersion=2;var o=t.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:s});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true};o.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=e.length?e[0].getStartDate():undefined,a=this._getYearPicker(),n,s;if(i){n=r.fromLocalJSDate(i);n.setMonth(0,1);s=new r(this._getFocusedDate());s.setMonth(0,1);if(s.isSame(n)){a.setDate(i)}}else{a.setProperty("_middleDate",this._getFocusedDate());a.setDate(this._getFocusedDate().toLocalJSDate())}t.prototype.onBeforeRendering.call(this,arguments)};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate)}};o.prototype._initializeHeader=function(){var e=new a(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};o.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker()};o.prototype._selectYear=function(){var e=this.getSelectedDates()[0],t=this._getYearPicker();if(!e){e=new n}if(!t.getIntervalSelection()){e.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(e)}this.fireSelect()};o.prototype.onsapescape=function(e){this.fireCancel()};o.prototype.setShowCurrentDateButton=function(e){return this};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRow", ["sap/base/i18n/date/CalendarWeekNumbering","sap/ui/core/Lib","sap/ui/core/RenderManager","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Month","sap/ui/unified/library","./DatesRowRenderer","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,s,n,o,jQuery,p,h,l,u){"use strict";var c=s.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null},selectableAccessibilitySemantics:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"}}},renderer:o});c.prototype.init=function(){s.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];this._bAlwaysShowSpecialDates=true};c.prototype.exit=function(){s.prototype.exit(this,arguments);if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};c.prototype._setAriaRole=function(e){this._ariaRole=e;return this};c.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};c.prototype._getDayDescription=function(){return this._fnInvisibleHintFactory().getId()};c.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new u({text:t.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};c.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t=e.getFullYear();i._checkYearInValidRange(t);this.setProperty("startDate",e);this._oStartDate=r.fromLocalJSDate(e,this.getPrimaryCalendarType());if(this.getDomRef()){var a=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(a&&this.checkDateFocusable(a)){this.displayDate(a)}}return this};c.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=r.fromLocalJSDate(l.getInstance(),this.getPrimaryCalendarType())}return this._oStartDate};c.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}s.prototype.setDate.apply(this,arguments);return this};c.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}s.prototype.displayDate.apply(this,arguments);return this};c.prototype._setTopPosition=function(e){this._iTopPosition=e};c.prototype.setPrimaryCalendarType=function(e){s.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new r(this._oStartDate,e)}return this};c.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;s.prototype.setSecondaryCalendarType.apply(this,arguments);return this};c.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=this._getRelativeInfo?this.getDays()*this._getRelativeInfo().iIntervalSize:this.getDays();var i=this._getRelativeInfo?this._getRelativeInfo().iIntervalSize:1;var s=this._getDate();var n=new r(s,this.getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":n.setDate(n.getDate()+i);break;case"sapprevious":case"sappreviousmodifiers":n.setDate(n.getDate()-i);break;case"sappagedown":n.setDate(n.getDate()+a);break;case"sappageup":n.setDate(n.getDate()-a);break;default:break}this.fireFocus({date:n.toLocalJSDate(),otherMonth:true,_outsideBorder:true})}};c.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t,this.getPrimaryCalendarType());var s=this.getDays();if(this._getRelativeInfo&&this._getRelativeInfo().bIsRelative){s=this.getDays()*this._getRelativeInfo().iIntervalSize}a.setDate(a.getDate()+s);var n=r.fromLocalJSDate(e,this.getPrimaryCalendarType());return n.isSameOrAfter(t)&&n.isBefore(a)};c.prototype._renderHeader=function(){var e=this._getStartDate();var t=e.getDay();var i=this._getLocaleData();var r=this.$("Names").children();var s=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){s=i.getDaysStandAlone("abbreviated")}else{s=i.getDaysStandAlone("narrow")}var n=i.getDaysStandAlone("wide");var o=0;for(o=0;o<r.length;o++){var p=jQuery(r[o]);p.text(s[(o+t)%7]);p.attr("aria-label",n[(o+t)%7])}if(this._getShowHeader()){var h=this.$("Head");if(h.length>0){var l=(new a).getInterface();this.getRenderer().renderHeaderLine(l,this,i,e);l.flush(h[0]);l.destroy()}}};c.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay()};c.prototype.getWeekNumbers=function(){var e=this.getDays(),t=this._getLocale(),a=this.getPrimaryCalendarType(),s=this._getStartDate(),n=new r(s,a),o=new r(s,a).setDate(n.getDate()+e),p=[];while(n.isBefore(o)){p.push(new r(n,a));n.setDate(n.getDate()+1)}this._aWeekNumbers=p.reduce(function(e,a){var r=i.calculateWeekNumber(a,this.getPrimaryCalendarType(),t,this.getCalendarWeekNumbering(),this._getFirstWeekDay());if(!e.length||e[e.length-1].number!==r){e.push({len:0,number:r})}e[e.length-1].len++;return e}.bind(this),[]);return this._aWeekNumbers};c.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers};c.prototype._getSelectableAccessibilitySemantics=function(){return this.getProperty("selectableAccessibilitySemantics")};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRowRenderer", ["sap/base/i18n/date/CalendarType","sap/ui/core/Lib","sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer"],function(e,a,t,r,n){"use strict";var i=t.extend(n);i.apiVersion=2;i.getStartDate=function(e){return e._getStartDate()};i.getClass=function(e,a){var t=["sapUiCalDatesRow","sapUiCalRow"];if(!a.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t};i.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.style("top",a._iTopPosition+"px")}};i.renderMonth=function(e,a,t){if(a.isRelative&&a.isRelative()){i.renderCustomIntervals(e,a)}else{n.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)}};i.renderCustomIntervals=function(e,a){var t;e.openStart("div",a.getId()+"-customintervals");e.openEnd();var r=a.getDays();t=100/r;var n=a._getRelativeInfo()._getIndexFromDate(a.getStartDate());for(var i=0;i<r;i++){e.openStart("div");e.class("sapUiCalItem");if(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative){e.class("sapUiRelativeCalItem");e.attr("data-sap-ui-index",n+i);e.attr("tabindex","-1");var s=a._getRelativeInfo()._getDateFromIndex(n+i+1);e.attr("data-sap-day",a._oFormatYyyymmdd.format(s,true))}e.style("width",t+"%");e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(a._getRelativeInfo?a._getRelativeInfo().intervalLabelFormatter(n+i):n+i);e.close("span");e.close("div")}e.close("div")};i.renderWeekNumbers=function(t,r){var n,i,s,o;if(r.getShowWeekNumbers()&&r._getPrimaryCalendarType()===e.Gregorian){n=a.getResourceBundleFor("sap.ui.unified");t.openStart("div",r.getId()+"-weeks");t.class("sapUiCalRowWeekNumbers");t.openEnd();i=r.getDays();s=100/i;o=r.getWeekNumbers();o.forEach(function(e){t.openStart("div",r.getId()+"-week-"+e.number+"-text");t.class("sapUiCalRowWeekNumber");t.style("width",e.len*s+"%");t.attr("data-sap-ui-week",e.number);t.openEnd();t.text(n.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[e.number]));t.close("div")});t.close("div")}};i.renderDummyCell=function(){};i.renderHeader=function(e,a,t){var r=a._getLocaleData();var n=a.getId();var i=a.getDays();var s="";if(a._getShowHeader()){e.openStart("div",n+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,t);e.close("div")}s=100/i+"%";if(a.getShowDayNamesLine()){e.openStart("div",n+"-Names");e.style("display","inline");e.attr("role","row");e.openEnd();this.renderDayNames(e,a,r,t.getDay(),i,false,s);e.close("div")}};i.renderHeaderLine=function(e,a,t,n){var i=a.getId();var s=a.getDays();var o=new r(n,a.getPrimaryCalendarType());var d="";var l=0;var v=[];var p=0;for(p=0;p<s;p++){l=o.getMonth();if(v.length>0&&v[v.length-1].iMonth==l){v[v.length-1].iDays++}else{v.push({iMonth:l,iDays:1})}o.setDate(o.getDate()+1)}var g=t.getMonthsStandAlone("wide",a.getPrimaryCalendarType());for(p=0;p<v.length;p++){var u=v[p];d=100/s*u.iDays+"%";e.openStart("div",i+"-Head"+p);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g[u.iMonth]);e.close("div")}};i.renderDays=function(e,a,t){var n=a.getDays();var i=100/n+"%";var s=a.getShowDayNamesLine();var o=a.getPrimaryCalendarType();if(!t){t=a._getFocusedDate()}var d=this.getDayHelper(a,t);if(!s){if(a._bLongWeekDays||!a._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated",o)}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow",o)}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide",o)}var l=new r(t,o);e.openStart("div");e.attr("role","row");e.openEnd();for(var v=0;v<n;v++){this.renderDay(e,a,l,d,false,false,v,i,!s);l.setDate(l.getDate()+1)}e.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header", ["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var o=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false},_tooltipButton1:{type:"string",group:"Misc",visibility:"hidden"},_tooltipButton2:{type:"string",group:"Misc",visibility:"hidden"},_keyShortcutButton1:{type:"string",group:"Misc",visibility:"hidden"},_keyShortcutButton2:{type:"string",group:"Misc",visibility:"hidden"},_descriptionButton1:{type:"string",group:"Misc",visibility:"hidden"},_descriptionButton2:{type:"string",group:"Misc",visibility:"hidden"},_tooltipButton3:{type:"string",group:"Misc",visibility:"hidden"},_tooltipButton4:{type:"string",group:"Misc",visibility:"hidden"},_keyShortcutButton3:{type:"string",group:"Misc",visibility:"hidden"},_keyShortcutButton4:{type:"string",group:"Misc",visibility:"hidden"},_descriptionButton3:{type:"string",group:"Misc",visibility:"hidden"},_descriptionButton4:{type:"string",group:"Misc",visibility:"hidden"}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});o.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};o.prototype._getVisibleButton3=function(){return this._visibleButton3};o.prototype._setTextButton3=function(t){r.call(this,3,t);return this};o.prototype._getTextButton3=function(){return this._textButton3};o.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};o.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};o.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};o.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};o.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};o.prototype._getVisibleButton4=function(){return this._visibleButton4};o.prototype._setTextButton4=function(t){r.call(this,4,t);return this};o.prototype._getTextButton4=function(){return this._textButton4};o.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};o.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};o.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};o.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};o.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};o.prototype.onsapnext=function(t){t.preventDefault()};function r(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer", ["sap/base/i18n/Localization","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/IconPool"],function(t,e,i){"use strict";var a=5;var n={apiVersion:2};n.render=function(n,o){var s=new i(t.getLanguageTag()).getLanguage();var l=o.getTooltip_AsString();var r=o.getId();var u=e.getResourceBundleFor("sap.ui.unified");var c=u.getText("CALENDAR_BTN_NEXT");var d=u.getText("CALENDAR_BTN_PREV");var p=u.getText("CALENDAR_BTN_TODAY");n.openStart("div",o);n.class("sapUiCalHead");if(o.getVisibleCurrentDateButton()){n.class("sapUiCalHeaderWithTodayButton")}if(l){n.attr("title",l)}n.accessibilityState(o);n.openEnd();n.openStart("button",r+"-prev");n.attr("title",d);n.accessibilityState(null,{label:d});n.class("sapUiCalHeadPrev");if(!o.getEnabledPrevious()){n.class("sapUiCalDsbl");n.attr("disabled","disabled")}n.attr("tabindex","-1");n.openEnd();n.icon("sap-icon://slim-arrow-left",null,{title:null});n.close("button");var g=-1;var B=-1;var b=0;var f;for(b=0;b<a;b++){if(this.getVisibleButton(o,b)){if(g<0){g=b}B=b}}for(b=0;b<a;b++){if(s.toLowerCase()==="ja"||s.toLowerCase()==="zh"){f=a-1-b;if(this._isTwoMonthsCalendar(o)){switch(b){case 0:f=2;break;case 2:f=4;break;case 1:f=1;break;case 3:f=3;break}}}else{f=b}if(this._isTwoMonthsCalendar(o)){g=2;B=3}this.renderCalendarButtons(n,o,r,g,B,f)}if(!o.getVisibleButton0()&&!o.getVisibleButton1()&&!o.getVisibleButton2()&&!o._getVisibleButton3()&&!o._getVisibleButton4()){n.openStart("div",r+"-B"+"-Placeholder");n.class("sapUiCalHeadBPlaceholder");n.openEnd();n.close("span")}n.openStart("button",r+"-next");n.attr("title",c);n.accessibilityState(null,{label:c});n.class("sapUiCalHeadNext");if(!o.getEnabledNext()){n.class("sapUiCalDsbl");n.attr("disabled","disabled")}n.attr("tabindex","-1");n.openEnd();n.icon("sap-icon://slim-arrow-right",null,{title:null});n.close("button");if(o.getVisibleCurrentDateButton()){n.openStart("button",r+"-today");n.attr("title",p);n.accessibilityState(null,{label:p});n.class("sapUiCalHeadB");n.class("sapUiCalHeadToday");n.openEnd();n.icon("sap-icon://appointment",null,{title:null});n.close("button")}n.close("div")};n.renderCalendarButtons=function(t,e,i,a,n,o){var s={};if(this.getVisibleButton(e,o)){t.openStart("button",i+"-B"+o);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+o);if(a===o){t.class("sapUiCalHeadBFirst")}if(n===o){t.class("sapUiCalHeadBLast")}if(this.getAriaLabelButton(e,o)){s["label"]=this.getAriaLabelButton(e,o)}this._setAccessibilityDescription(e,o,s);this._setAccessibilityKeyShortcuts(e,o,s);if(this.getTooltipButton(e,o)){t.attr("title",this.getTooltipButton(e,o))}t.accessibilityState(null,s);s={};t.openEnd();var l=this.getTextButton(e,o)||"";var r=this.getAdditionalTextButton(e,o)||"";if(r){t.openStart("span",i+"-B"+o+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(l);t.close("span");t.openStart("span",i+"-B"+o+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(l)}t.close("button")}};n.getVisibleButton=function(t,e){var i=false;if(t["getVisibleButton"+e]){i=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){i=t["_getVisibleButton"+e]()}return i};n.getAriaLabelButton=function(t,e){var i;if(t["getAriaLabelButton"+e]){i=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){i=t["_getAriaLabelButton"+e]()}return i};n.getTextButton=function(t,e){var i;if(t["getTextButton"+e]){i=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){i=t["_getTextButton"+e]()}return i};n.getAdditionalTextButton=function(t,e){var i;if(t["getAdditionalTextButton"+e]){i=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){i=t["_getAdditionalTextButton"+e]()}return i};n.getTooltipButton=function(t,e){var i;if(t["getTooltipButton"+e]){i=t["getTooltipButton"+e]()}else if(t["_getTooltipButton"+e]){i=t["_getTooltipButton"+e]()}else if(e===1){i=t.getProperty("_tooltipButton1")}else if(e===2){i=t.getProperty("_tooltipButton2")}else if(e===3){i=t.getProperty("_tooltipButton3")}else if(e===4){i=t.getProperty("_tooltipButton4")}return i};n._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};n._setAccessibilityDescription=function(t,e,i){if(e>=1&&e<=4){var a=t.getProperty("_descriptionButton"+e);if(a){i["description"]=a}}};n._setAccessibilityKeyShortcuts=function(t,e,i){if(e>=1&&e<=4){var a=t.getProperty("_keyShortcutButton"+e);if(a){i["keyshortcuts"]=a}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPicker", ["sap/ui/core/Control","sap/ui/unified/calendar/Header","sap/ui/unified/calendar/IndexPickerRenderer","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes"],function(e,t,i,a,n){"use strict";var s=e.extend("sap.ui.unified.calendar.IndexPicker",{metadata:{library:"sap.ui.unified",properties:{startIndex:{type:"int",group:"Data",defaultValue:0},selectedIndex:{type:"int",group:"Data",defaultValue:0},formatter:{type:"object",group:"Data"},rows:{type:"int",group:"Data",defaultValue:4},columns:{type:"int",group:"Data",defaultValue:3},periodSize:{type:"int",group:"Data",defaultValue:1}},aggregations:{header:{type:"sap.ui.unified.calendar.Header",multiple:false}},events:{select:{},focus:{}}},renderer:i});s.prototype.init=function(){this._initializeHeader();this.iCurrentIndex=0};s.prototype.onBeforeRendering=function(){this.getHeader().setEnabledPrevious(this.getStartIndex()>0)};s.prototype.onAfterRendering=function(){r.call(this)};s.prototype._initializeHeader=function(){var e=new t(this.getId()+"--Head",{visibleButton1:false,visibleButton2:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e)};s.prototype._handlePrevious=function(){this.goToPreviousPage()};s.prototype.goToPreviousPage=function(){var e=this.getStartIndex()-this.getRows()*this.getColumns();e=Math.max(0,e);this.setStartIndex(e)};s.prototype._handleNext=function(){this.goToNextPage()};s.prototype.goToNextPage=function(){var e=this.getStartIndex()+this.getRows()*this.getColumns();this.setStartIndex(e)};s.prototype.onmouseup=function(e){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))};s.prototype.onkeydown=function(e){if(e.keyCode===n.ENTER){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype.onkeyup=function(e){if(e.keyCode===n.SPACE){e.preventDefault();var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype._selectIndex=function(e){this.setSelectedIndex(e);this.iCurrentIndex=0;this.fireSelect({index:e})};s.prototype._getFormatter=function(){return this.getFormatter()||o};function o(e){return(e+1).toString()}function r(){var e=0,t=false,i=this.getDomRef(),n=i.querySelectorAll(".sapMIPItem"),s=this.getColumns();for(var o=0;o<n.length;o++){if(n[o].getAttribute("data-sap-ui-index")===this.getSelectedIndex()){e=o;t=true;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,u,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(s>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(s,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(n);if(!t){e=this.iCurrentIndex%n.length}this._oItemNavigation.setFocusedIndex(e);this._oItemNavigation.focusItem(e);this._oItemNavigation.setPageSize(n.length)}function u(e){var t=e.getParameter("index");var i=e.getParameter("event");if(!i){return}var a=e.getParameter("index");var n=this._oItemNavigation.getItemDomRefs();var s=n[t];this.iCurrentIndex=a;a=s.getAttribute("data-sap-ui-index");this.fireFocus({index:a})}s.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var i=parseInt(t.target.getAttribute("data-sap-ui-index"));var a=e.getParameter("index");if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===n.ARROW_DOWN){i+=this.getColumns();a+=this.getColumns()}else{i+=1;a+=1}this.goToNextPage();break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===n.ARROW_UP){i-=this.getColumns();a-=this.getColumns()}else{i-=1;a-=1}this.goToPreviousPage();break;default:break}var s=this._oItemNavigation.getItemDomRefs();a=Math.abs(s.length-Math.abs(a));this.iCurrentIndex=a;this._oItemNavigation.focusItem(s[a]);this.fireFocus({index:i})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPickerRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var s,a={role:"gridcell",selected:false,label:"",describedby:""};e.openStart("div",t);e.class("sapMIP");e.openEnd();var l=t.getAggregation("header");e.renderControl(l);e.openStart("div");e.class("sapMIPContent");e.attr("role","grid");e.openEnd();for(var d=0;d<t.getRows();d++){e.openStart("div",t.getId()+"-"+d);e.class("sapMIPRow");e.attr("role","row");e.openEnd();var r=t.getSelectedIndex()+t.getPeriodSize()-1;for(var i=0;i<t.getColumns();i++){s=t.getStartIndex()+t.getColumns()*d+i;e.openStart("div");e.class("sapMIPItem");if(s===t.getSelectedIndex()){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelStart");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-Start"}else if(s===r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelEnd");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-End"}else if(s>t.getSelectedIndex()&&s<r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelBetween");a["selected"]=true}else{a["selected"]=false}e.accessibilityState(null,a);e.class("sapUiCalItem");e.class("customWidth");e.attr("tabindex","-1");e.attr("data-sap-ui-index",s);e.openEnd();e.text(t._getFormatter()(s));e.close("div")}e.close("div")}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/base/i18n/date/CalendarWeekNumbering","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/date/CalendarUtils","sap/ui/core/date/UI5Date","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,y,f,D,m,_,jQuery,v,S,C){"use strict";var b=c.CalendarDayType;var M=i.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},_renderMonthWeeksOnly:{type:"boolean",group:"Data",visibility:"hidden",defaultValue:false},calendarWeekNumbering:{type:"sap.base.i18n.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:D});M.prototype.init=function(){this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=h._minDate(this._getPrimaryCalendarType());this._oMaxDate=h._maxDate(this._getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=o.getResourceBundleFor("sap.ui.unified")};M.prototype._getAriaRole=function(){return"gridcell"};M.prototype._getDayDescription=function(){return""};M.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};M.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};M.prototype.onBeforeRendering=function(){this._oFormatYyyymmdd=p.getInstance({pattern:"yyyyMMdd",calendarType:t.Gregorian});this._oFormatLong=p.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()});if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!==a.Default){C.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}this._aSpecialDates=this._getSpecialDates()};M.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;k.call(this);A.call(this)};M.prototype.onmouseover=function(e){var t=jQuery(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};M.prototype._getCalendarWeekNumbering=function(){if(this.isPropertyInitial("calendarWeekNumbering")){return}return this.getCalendarWeekNumbering()};M.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=jQuery(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};M.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};M.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!m(this.getDomRef(),r.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;I.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};M.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};M.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};M.prototype.setDate=function(e){if(e){var t=g.fromLocalJSDate(e,this._getPrimaryCalendarType());w.call(this,t)}return this.setProperty("date",e)};M.prototype._getDate=function(){if(!this._oDate){this._oDate=g.fromLocalJSDate(S.getInstance(),this._getPrimaryCalendarType())}return this._oDate};M.prototype.displayDate=function(e){var t=g.fromLocalJSDate(e,this._getPrimaryCalendarType());w.call(this,t);return this};M.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=p.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new g(this._oDate,e)}return this};M.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=p.getInstance({style:"long",calendarType:e});return this};M.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};M.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new f(e.getLanguageTag()).toString()}return this._sLocale};M.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new f(t);this._oLocaleData=n.getInstance(a)}return this._oLocaleData};M.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new f(e);this._oFormatLong=p.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=p.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};M.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};M.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};M.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};M.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};M.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};M.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};M.prototype._getPrimaryCalendarType=function(){var t=this.getParent();if(t&&t._getPrimaryCalendarType){return t._getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")||e.getCalendarType()};M.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};M.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};M.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};M.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=v.getWeekConfigurationValues(this._getCalendarWeekNumbering(),new f(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};M.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};M.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=S.getInstance()}return this._bAlwaysShowSpecialDates||h._isSameMonthAndYear(e,g.fromLocalJSDate(t))};M.prototype._checkDateSelected=function(e){h._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this._getPrimaryCalendarType(),s=0,r=this.getProperty("_focusedDate"),o=false,n=this.getParent(),l=this._bCalendar&&n.getMonths(),d,u;for(s=0;s<a.length;s++){var c=a[s],p=c.getStartDate()?g.fromLocalJSDate(c.getStartDate(),i):undefined,y=c.getEndDate()?g.fromLocalJSDate(c.getEndDate(),i):undefined;if(p&&y){u=this._arrangeStartAndEndDates(p,y);p=u.startDate;y=u.endDate}d=r&&p&&l===1&&r.getMonth()!==p.getMonth();o=this._isMarkingUnfinishedRangeAllowed()&&r&&!d&&(h._isBetween(e,p,r,true)||h._isBetween(e,r,p,true));if(p&&!y&&e.isSame(p)){t=1;break}else if(y&&e.isSame(p)){t=2;if(e.isSame(y)){t=5}break}else if(y&&e.isSame(y)){t=3;break}else if(y&&e.isAfter(p)&&e.isBefore(y)||o){t=4;break}if(this.getSingleSelection()){break}}return t};M.prototype._getDateTypes=function(e){h._checkCalendarDate(e);var t,a,i,s=[];var r=this._aSpecialDates||this._getSpecialDates();var o=e.toUTCJSDate().getTime();var n=S.getInstance(Date.UTC(0,0,1));for(var l=0;l<r.length;l++){var g=r[l];var d=g.getStartDate();var u=h.MAX_MILLISECONDS;if(d){n.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=n.getTime()}var c=g.getEndDate();var p=-h.MAX_MILLISECONDS;if(c){n.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=n.getTime()}i=g.getType()===b.NonWorking;if(o===u&&!c||o>=u&&o<=p){if(!i&&!t){t={type:g.getType(),secondaryType:g.getSecondaryType(),tooltip:g.getTooltip_AsString(),color:g.getColor(),customData:g.getCustomData()};s.push(t)}else if(i&&!a){a={type:g.getType(),secondaryType:g.getSecondaryType(),tooltip:g.getTooltip_AsString(),customData:g.getCustomData()};s.push(a)}if(t&&a){break}}}return s};M.prototype._checkDateEnabled=function(e){h._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var s=this._getPrimaryCalendarType();if(this._oMinDate&&i<this._oMinDate||this._oMaxDate&&i>this._oMaxDate){return false}for(var r=0;r<a.length;r++){var o=a[r];var n=o.getStartDate();var l=0;if(n){n=g.fromLocalJSDate(n,s);l=n.toUTCJSDate().getTime()}var d=o.getEndDate();var u=0;if(d){d=g.fromLocalJSDate(d,s);u=d.toUTCJSDate().getTime()}if(d){if(i>l&&i<u){t=false;break}}else if(i===l){t=false;break}}return t};M.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(m(this.getDomRef(),e.target)){var i=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day")),this._getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new g(i,this._getPrimaryCalendarType())}this._bMoveChange=true}}}};M.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||s.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var t=e.target,a=t.nextElementSibling,i=a.getAttribute("data-sap-day"),r=!a.classList.contains("sapUiCalItemOtherMonth"),o=this._oFormatYyyymmdd.parse(i),n=g.fromLocalJSDate(o,this._getPrimaryCalendarType());this._handleWeekSelection(n,r)};M.prototype.onmouseup=function(e){var t=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var a=this._getDate();var i=this._oItemNavigation.getItemDomRefs();for(var r=0;r<i.length;r++){var o=jQuery(i[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(a.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(a);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;I.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}else if(s.support.touch&&t&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);I.call(this)}}};M.prototype.onsapselect=function(e){var t=this.getParent();if(this.bSpaceButtonPressed){return}if(t&&t._isMultiDatesSelectionHeaderAllowed&&!t._isMultiDatesSelectionHeaderAllowed()){return}var a=this._selectDay(this._getSelectedDateFromEvent(e));if(a){I.call(this)}e.stopPropagation();e.preventDefault()};M.prototype.onkeydown=function(e){if(e.which===_.SPACE){this.bSpaceButtonPressed=true}};M.prototype.onkeyup=function(e){if(e.which===_.SPACE){this.bSpaceButtonPressed=false}};M.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a,i=this.getParent();if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===_.SPACE){if(i&&i._isMultiDatesSelectionHeaderAllowed&&!i._isMultiDatesSelectionHeaderAllowed()){return}a=h._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===_.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};M.prototype.onsappageupmodifiers=function(e){var t=new g(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype.onsappagedownmodifiers=function(e){var t=new g(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};M.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};M.prototype._bindMousemove=function(e){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};M.prototype._unbindMousemove=function(e){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this._getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}A.call(this)};M.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new g(i,this._getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===_.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===_.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};M.prototype.checkDateFocusable=function(e){h._checkJSDateObject(e);var t=this._getDate();var a=g.fromLocalJSDate(e,this._getPrimaryCalendarType());return h._isSameMonthAndYear(a,t)};M.prototype.applyFocusInfo=function(e){return this};M.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};M.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};M.prototype._getVisibleDays=function(e,t){var a=42,i=this.getProperty("_renderMonthWeeksOnly"),s,r,o,n,l,h,d,u;if(!e){return this._aVisibleDays}this._aVisibleDays=[];d=this._getFirstDayOfWeek();h=new g(e,this._getPrimaryCalendarType());h.setDate(1);l=h.getDay()-d;if(l<0){l=7+l}if(l>0){h.setDate(1-l)}o=new g(h);r=(e.getMonth()+1)%12;for(let e=0;e<a;e++){u=o.getYear();n=new g(o,this._getPrimaryCalendarType());if(t&&u<1){n._bBeforeFirstYear=true;this._aVisibleDays.push(n)}else if(u>0&&u<1e4){this._aVisibleDays.push(n)}o.setDate(o.getDate()+1);s=o.getMonth()===r&&o.getDay()===d;if(i&&s){break}}return this._aVisibleDays};M.prototype._handleMousedown=function(e,t){var a=e.target.classList.contains("sapUiCalWeekNum"),i=!e.button,r=this._getSelectedDateFromEvent(e);if(!i||s.support.touch){return this}if(a){this._isWeekSelectionAllowed()&&this._handleWeekSelection(r,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(r);return this}var o=this._selectDay(t);if(o){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(o&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new g(t,this._getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};M.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a);return i?g.fromLocalJSDate(i,this._getPrimaryCalendarType()):null};M.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),r=this.getIntervalSelection(),o=this._checkDateEnabled(e)?e:null,n=this._checkDateEnabled(i)?i:null;if(e.isAfter(this._oMaxDate)||i.isBefore(this._oMinDate)){return this}if(!o){o=new g(this._oMinDate)}if(!n){n=new g(this._oMaxDate)}if(!s&&!r){this._handleWeekSelectionByMultipleDays(a,o,n)}else if(s&&r){this._handleWeekSelectionBySingleInterval(a,o,n)}t&&this._focusDate(o);return this};M.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?g.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};M.prototype._calculateWeekNumber=function(e){return h.calculateWeekNumber(e,this._getPrimaryCalendarType(),this._getLocale(),this._getCalendarWeekNumbering(),this._getFirstDayOfWeek())};M.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),a=this.getIntervalSelection(),i=this._getPrimaryCalendarType(),s=this.getFirstDayOfWeek()!==-1,r=!e&&!a,o=e&&a,n=o||r;return i===t.Gregorian&&!s&&n};M.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};M.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};M.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new d({startDate:t.toLocalJSDate()}):new d({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};M.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new d({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,o;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}o=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(o){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};M.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};M.prototype._getLastWeekDate=function(e){return new g(e).setDate(e.getDate()+6)};M.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new g(i.startDate),r;do{r=this._checkDateSelected(s);if(!r&&a||r&&!a){this._selectDay(s);I.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};M.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new g(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};M.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};M.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var r;var o;var n=0;var l=this.getParent();var h=this;var u;var c=this._getPrimaryCalendarType();if(l&&l.isA("sap.ui.unified.Calendar")){h=l}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=g.fromLocalJSDate(u,c)}}else{i=new d;h.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var y=this._checkDateSelected(e);if(y>0){for(n=0;n<a.length;n++){u=a[n].getStartDate();if(u&&e.isSame(g.fromLocalJSDate(u,c))){h.removeAggregation("selectedDates",n);break}}}else{i=new d({startDate:e.toLocalJSDate()});h.addAggregation("selectedDates",i)}o=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(n=0;n<s.length;n++){r=jQuery(s[n]);if(r.attr("data-sap-day")===o){if(y>0){r.removeClass("sapUiCalItemSel");if(this._getSelectableAccessibilitySemantics()){r.attr("aria-selected","false")}}else{r.addClass("sapUiCalItemSel");if(this._getSelectableAccessibilitySemantics()){r.attr("aria-selected","true")}}}}}}return true};M.prototype._getSelectableAccessibilitySemantics=function(){return true};M.prototype._getSpecialDates=function(){var e=this.getSpecialDates();for(var t=0;t<e.length;t++){var a=e[t].getSecondaryType()===c.CalendarDayType.NonWorking&&e[t].getType()!==c.CalendarDayType.NonWorking;if(a){var i=new u;i.setType(c.CalendarDayType.NonWorking);i.setStartDate(e[t].getStartDate());if(e[t].getEndDate()){i.setEndDate(e[t].getEndDate())}e.push(i)}}return e};function k(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),i=a.querySelectorAll(".sapUiCalItem");for(var s=0;s<i.length;s++){if(i[s].getAttribute("data-sap-day")===e){t=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new l;this._oItemNavigation.attachEvent(l.Events.AfterFocus,T,this);this._oItemNavigation.attachEvent(l.Events.FocusAgain,L,this);this._oItemNavigation.attachEvent(l.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(i);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(i.length)}function T(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new g(i,this._getPrimaryCalendarType()),r=false,o=true,n=this._oItemNavigation.getItemDomRefs(),l=n[t],h=l.getAttribute("data-sap-day"),d;if(!a){return}if(l.classList.contains("sapUiCalItemOtherMonth")||l.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<n.length;++u){d=n[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=n.length-1;u>0;--u){d=n[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else{r=true;s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(h),this._getPrimaryCalendarType());if(!s){s=new g(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===h||l.classList.contains("sapUiCalItemDsbl")){o=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?h:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=g.fromLocalJSDate(this._oFormatYyyymmdd.parse(h),this._getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=l.id}if(o){this.fireFocus({date:s.toLocalJSDate(),otherMonth:r})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function L(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function w(e){h._checkCalendarDate(e);var t=e.getYear();h._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(g.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new g(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}M.prototype._focusDate=function(e,t,a){if(!t){this.setDate(e.toLocalJSDate())}var i=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===i){if(document.activeElement!==r[n]){if(a||s.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function I(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function A(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this._getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return M});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/date/UI5Date"],function(t,e,a,i,s,o,n,r,h,jQuery,l,g,c,f,d){"use strict";var u=12,p=2,_={OneYearBackward:-1,OneYearForward:1};var m=a.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},_singleSelection:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},_showSelectedRange:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:h});m.prototype.init=function(){this._iMinMonth=0;this._iMaxMonth=11};m.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;M.call(this);S.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(u/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};m.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{v.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||t.getCalendarType()};m.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new g];e=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};m.prototype.setIntervalSelection=function(t){this._setShowSelectedRange(t);return this.setProperty("intervalSelection",t)};m.prototype._setShowSelectedRange=function(t){return this.setProperty("_showSelectedRange",t)};m.prototype._getShowSelectedRange=function(){return this.getProperty("_showSelectedRange")};m.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};m.prototype._setYear=function(t){this._iYear=t};m.prototype._setDate=function(t){this._oDate=t};m.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=new r(t.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var a=new r(e);this._oLocaleData=s.getInstance(a)}return this._oLocaleData};m.prototype.onsapspace=function(t){t.preventDefault()};m.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};m.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};m.prototype.onmouseup=function(t){var e=t.target,a=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&e.classList.contains("sapUiCalItem")&&a){s=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());o=a.getEndDate();n=this._extractMonth(e);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(i.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};m.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};m.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this._getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=jQuery(t[i]);s.text(a[i])}S.call(this)};m.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>u-1){a=u-1}v.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%u;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};m.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}v.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%u;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};m.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=jQuery(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};m.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};m.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};m.prototype._getSecondaryCalendarType=function(){var t=this.getSecondaryCalendarType();if(t===this._getPrimaryCalendarType()){return undefined}return t};m.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new f(this._oDate?this._oDate:f.fromLocalJSDate(d.getInstance()),this._getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new f(a,e);a.setDate(c._daysInMonth(a));s=new f(a,e);return{start:i,end:s}};function M(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new o;this._oItemNavigation.attachEvent(o.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(o.Events.FocusAgain,y,this);this._oItemNavigation.attachEvent(o.Events.BorderReached,D,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var i=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(e.length)}m.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=f.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setDate(1)}n=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function y(t){this._handleAfterFocus(t)}m.prototype._isSelectionInProgress=function(){const t=this._getShowSelectedRange();const e=this._getSelectedDates()[0];if(!e){return false}return t&&e.getStartDate()&&!e.getEndDate()};m.prototype._extractMonth=function(t){var e=this.getId().length+p;return parseInt(t.id.slice(e))};m.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){jQuery(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){jQuery(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(c._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){jQuery(a[s]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){jQuery(a[s]).removeClass("sapUiCalItemSel")}}};m.prototype._handleMousedown=function(t,e){if(t.button||i.support.touch&&!i.system.combi){return}var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function D(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,r=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType()),h=s===0&&i<u;this._iYear&&r.setYear(this._iYear);if(o&&o.getStartDate()){n=f.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(h){this._oneRowChangePage(a,true)}else if(e.keyCode===l.ARROW_DOWN&&s<=i){if(a<u-i){v.call(this,a+s,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward});this._oItemNavigation.focusItem(a%s);r.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,r)}else{if(s===0){s=i}v.call(this,a%s,true,_.OneYearForward)}}else{if(a<u-i){v.call(this,a+1,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward});this._oItemNavigation.focusItem(0);r.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,0,true,_.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(h){this._oneRowChangePage(a)}else if(e.keyCode===l.ARROW_UP&&s<=i){if(a>=i){v.call(this,a-s,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);r.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,u-s+a,true,_.OneYearBackward)}}else{if(a>=i){v.call(this,a-1,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward});this._oItemNavigation.focusItem(i-1);r.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{v.call(this,u-1,true,_.OneYearBackward)}}break;case"sappagedown":if(a<u-i){v.call(this,a+i,false,_.OneYearForward)}else if(i===u){this.firePageChange({offset:_.OneYearForward})}else{v.call(this,a,true,_.OneYearForward)}break;case"sappageup":if(a>i){v.call(this,a-i,false,_.OneYearBackward)}else if(i===u){this.firePageChange({offset:_.OneYearBackward})}else{v.call(this,a,true,_.OneYearBackward)}break;default:break}}}m.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<u:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};m.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=f.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function S(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(u/i),o=i-1;for(var n=0;n<s;n++){if(i<u){v.call(this,o);o=o+i;if(o>u-1){o=u-1}}for(t=0;t<e.length;t++){var r=e[t];if(Math.abs(r.clientWidth-r.scrollWidth)>1){a=true;break}}if(a){break}}if(i<u){o=this.getMonth();v.call(this,o)}if(a){this._bLongMonth=false;var h=this._getLocaleData(),l=this._getPrimaryCalendarType(),g=h.getMonthsStandAlone("abbreviated",l),c=h.getMonthsStandAlone("wide",l);for(t=0;t<e.length;t++){var f=jQuery(e[t]);f.text(g[t]);f.attr("aria-label",c[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function v(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=f.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=f.fromLocalJSDate(i.getEndDate(),this._getPrimaryCalendarType());o.setDate(1)}else{o=f.fromLocalJSDate(d.getInstance(),this._getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}m.prototype._isMonthSelected=function(t){const e=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(e&&e.length)){return false}const i=e[0];const s=i.getStartDate();const o=i.getEndDate();if(a&&s&&o){const e=f.fromLocalJSDate(s,this._getPrimaryCalendarType());const a=f.fromLocalJSDate(o,this._getPrimaryCalendarType());return c._isSameMonthAndYear(t,e)||c._isSameMonthAndYear(t,a)}const n=e=>{const a=e.getStartDate();if(a){const a=f.fromLocalJSDate(e.getStartDate(),this._getPrimaryCalendarType());return c._isSameMonthAndYear(t,a)}return false};if(this.getProperty("_singleSelection")){return n(i)}return e.some(n)};m.prototype._isMonthInsideSelectionRange=function(t){const e=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(e&&e.length)){return false}const i=e[0];if(!i){return false}if(a){const e=i.getStartDate();const a=i.getEndDate();if(!e||!a){return false}const s=f.fromLocalJSDate(e,this._getPrimaryCalendarType());const o=f.fromLocalJSDate(a,this._getPrimaryCalendarType());s.setDate(1);o.setDate(c._daysInMonth(o));return c._isBetween(t,s,o,true)}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer", ["sap/ui/core/Lib","sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date"],function(e,t,a,n,i){"use strict";var r={apiVersion:2};r.render=function(r,l){var s=l.getProperty("_firstMonth")!==undefined?l.getProperty("_firstMonth"):l.getMonth(),o=l.getMonths(),d=0,c=l.getColumns(),g=l.getTooltip_AsString(),p=l._getLocaleData(),f=l.getId(),u="",h=[],S=[],y=l.getPrimaryCalendarType(),M=l._getSecondaryCalendarType(),b=a.getDateInstance({format:"y",calendarType:l.getPrimaryCalendarType()}),C=l._iYear?l._iYear:i.getInstance().getFullYear(),_=b.format(i.getInstance(Date.UTC(C,0,1)),true),m,I,v;if(l._bLongMonth||!l._bNamesLengthChecked){h=p.getMonthsStandAlone("wide",y)}else{h=p.getMonthsStandAlone("abbreviated",y);S=p.getMonthsStandAlone("wide",y)}r.openStart("div",l);r.class("sapUiCalMonthPicker");if(M){r.class("sapUiCalMonthSecType")}if(g){r.attr("tooltip",g)}r.accessibilityState(l,{role:"grid",readonly:"true",multiselectable:l.getIntervalSelection(),roledescription:e.getResourceBundleFor("sap.ui.unified").getText("MONTH_PICKER"),describedby:l._bCalendar?n.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});r.openEnd();var T;if(o>12){o=12}else if(o<12){d=s}if(c>0){u=100/c+"%"}else{u=100/o+"%"}for(m=0;m<o;m++){var D=m+d,U=t.fromLocalJSDate(i.getInstance(),l.getPrimaryCalendarType());U.setMonth(D,1);l._iYear&&U.setYear(l._iYear);T={role:"gridcell"};if(!l._bLongMonth&&l._bNamesLengthChecked){T["label"]=S[D]}if(c>0&&m%c===0){r.openStart("div");r.accessibilityState(null,{role:"row"});r.openEnd()}r.openStart("div",f+"-m"+D);r.class("sapUiCalItem");I=l._isMonthSelected(U);v=l._isMonthInsideSelectionRange(U);if(I){r.class("sapUiCalItemSel");T["selected"]=true}if(v&&!I){r.class("sapUiCalItemSelBetween");T["selected"]=true}if(!I&&!v){T["selected"]=false}if(D<l._iMinMonth||D>l._iMaxMonth){r.class("sapUiCalItemDsbl");T["disabled"]=true}T["label"]=h[D]+" "+_;if(M){var P=l.getSecondaryCalendarType(),E=p.getMonthsStandAlone("abbreviated",P),A=a.getDateInstance({format:"y",calendarType:P}),L=l._getDisplayedSecondaryDates(D),x,Y,N;if(L.start.getMonth()===L.end.getMonth()){x=E[L.start.getMonth()];Y=A.format(L.start.toUTCJSDate(),true)}else{N=p.getIntervalPattern();x=N.replace(/\{0\}/,E[L.start.getMonth()]).replace(/\{1\}/,E[L.end.getMonth()]);Y=N.replace(/\{0\}/,A.format(L.start.toUTCJSDate(),true)).replace(/\{1\}/,A.format(L.end.toUTCJSDate(),true))}T["label"]=T["label"]+" "+x+" "+Y}r.attr("tabindex","-1");r.style("width",u);r.accessibilityState(null,T);r.openEnd();r.text(h[D]);if(M){r.openStart("div",f+"-m"+D+"-secondary");r.class("sapUiCalItemSecText");r.openEnd();r.text(x);r.close("div")}r.close("div");if(c>0&&(m+1)%c===0){r.close("div")}}r.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer", ["sap/base/i18n/date/CalendarType","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/core/date/CalendarUtils","sap/ui/core/Locale"],function(e,a,t,i,n,r,s,l,o,d,c,p,g){"use strict";var u=l.CalendarDayType;var y={apiVersion:2};y.render=function(e,a){var i=this.getStartDate(a),n=a.getTooltip_AsString(),r=t.getResourceBundleFor("sap.ui.unified"),s=a.getId(),l={value:"",append:!a._bCalendar},o="",c=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(n){e.attr("title",n)}if(a._getShowHeader()){l.value=s+"-Head"}if(a._bCalendar){o=d.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+d.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(c){e.style("width",c)}e.accessibilityState(a,{role:"grid",roledescription:a._bCalendar?"":r.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:l,describedby:o});e.openEnd();this.renderMonth(e,a,i);e.close("div")};y.addWrapperAdditionalStyles=function(){};y.getStartDate=function(e){return e._getDate()};y.getClass=function(a,t){var i=["sapUiCalMonthView"],n=t.getPrimaryCalendarType(),r=t.getShowWeekNumbers();if(n===e.Islamic||!r){i.push("sapUiCalNoWeekNum")}return i};y.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};y.renderHeader=function(e,a,t){var i=a._getLocaleData();var n=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,n,7,true,undefined);e.close("div")};y.renderHeaderLine=function(e,a,t,n){i._checkCalendarDate(n);if(a._getShowHeader()){var r=a.getId();var s=a.getPrimaryCalendarType();var l=t.getMonthsStandAlone("wide",s);e.openStart("div",r+"-Head");e.class("sapUiCalHeadText");e.openEnd();e.text(l[n.getMonth()]);e.close("div")}};y.renderDayNames=function(a,t,i,n,r,s,l){var o=t._getFirstDayOfWeek();var d=t.getId();var c="";var p=t.getPrimaryCalendarType();var g=[];if(t._bLongWeekDays||!t._bNamesLengthChecked){g=i.getDaysStandAlone("abbreviated",p)}else{g=i.getDaysStandAlone("narrow",p)}var u=i.getDaysStandAlone("wide",p);if(t.getShowWeekNumbers()&&p!==e.Islamic){this.renderDummyCell(a,"sapUiCalWH",true,"columnheader")}for(var y=0;y<r;y++){if(s){c=d+"-WH"+(y+o)%7}else{c=d+"-WH"+y}a.openStart("div",c);a.class("sapUiCalWH");if(y===0){a.class("sapUiCalFirstWDay")}if(l){a.style("width",l)}a.accessibilityState(null,{role:"columnheader"});a.openEnd();a.openStart("span");a.attr("aria-hidden","true");a.openEnd();a.text(g[(y+n)%7]);a.close("span");a.openStart("span");a.class("sapUiPseudoInvisibleText");a.openEnd();a.text(u[(y+n)%7]);a.close("span");a.close("div")}};y.renderDays=function(a,t,n){var r,s,l,o,d,c,p;i._checkCalendarDate(n);if(!n){n=t._getFocusedDate()}c=n.toUTCJSDate().getTime();if(!c&&c!==0){throw new Error("Date is invalid "+t)}o=this.getDayHelper(t,n);s=t._getVisibleDays(n,true);p=t.getShowWeekNumbers();r=t.getPrimaryCalendarType()!==e.Islamic&&p;l=s.length;for(d=0;d<l;d++){if(d%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(r){this._renderWeekNumber(a,s[d],o,t)}}this.renderDay(a,t,s[d],o,true,r,-1);if(d%7===6||d===l-1){a.close("div")}}if(l===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};y.renderDummyCell=function(e,a,i,n){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",i?"visible":"hidden");e.attr("role",n);e.openEnd();e.openStart("span");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(t.getResourceBundleFor("sap.ui.unified").getText("CALENDAR_WEEK"));e.close("span");e.close("div")};y.isTypeAttributeRequired=function(e,a,t,i){const n=i.color?.toLowerCase();if(e){return t===n&&a===i.type}return a===""||a===u.None||a===i.type};y.isColorAttributeRequired=function(e,a,t,i,n){const r=e&&!a;const s=e===t&&i===n[0].type;const l=e===t&&(!i||i===u.None);if(r){return true}return s||l};y.getDayHelper=function(e,t){var i,s,l=e._getLocaleData(),d={sLocale:e._getLocale(),oLocaleData:l,iMonth:t.getMonth(),iYear:t.getYear(),iFirstDayOfWeek:e._getFirstDayOfWeek(),iWeekendStart:l.getWeekendStart(),iWeekendEnd:l.getWeekendEnd(),aNonWorkingDays:e._getNonWorkingDays(),sToday:l.getRelativeDay(0),oToday:n.fromLocalJSDate(c.getInstance(),e.getPrimaryCalendarType()),sId:e.getId(),oFormatLong:e._getFormatLong(),sPrimaryCalendarType:e.getPrimaryCalendarType(),sSecondaryCalendarType:e._getSecondaryCalendarType(),oLegend:undefined};s=e.getLegend();if(s&&typeof s==="string"){i=a.getElementById(s);if(i){if(!(i instanceof r)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+e)}d.oLegend=i}else{o.warning("CalendarLegend "+s+" does not exist!",e)}}return d};y.renderDay=function(e,a,t,r,l,o,c,y,f){i._checkCalendarDate(t);var D=new n(t,r.sSecondaryCalendarType),C=a._getAriaRole()==="gridcell"&&a._getSelectableAccessibilitySemantics(),m={role:a._getAriaRole(),selected:C?false:null,label:"",describedby:C?a._getDayDescription():null},b=t._bBeforeFirstYear,S="",h=r.oLegend;var _=a._oFormatYyyymmdd.format(t.toUTCJSDate(),true);var v=t.getDay();var W=a._checkDateSelected(t);var T=a._getDateTypes(t);var E=r&&r.oLegend?r.oLegend._getSpecialDateTypeFilter():"";var N=r?.oLegend?r.oLegend._getSpecialDateColorFilter().toLowerCase():"";var k=a._checkDateEnabled(t);var I=a._isSpecialDateMarkerEnabled(t);const L=T.length>0&&T[0].type;const U=T.length>0&&T[0].secondaryType;const A=r.aNonWorkingDays&&r.aNonWorkingDays instanceof Array?r.aNonWorkingDays.some(e=>t.getDay()===e):i._isWeekend(t,a._getLocaleData());const w=L!==u.Working&&U!==u.Working&&A;const R=L===u.NonWorking||U===u.NonWorking||w;const x=!!(E||N)&&(E!==u.None||N);const F=a._oUnifiedRB.getText("LEGEND_NON_WORKING_DAY");const M=d.getStaticId("sap.ui.unified","CALENDAR_START_DATE");const O=d.getStaticId("sap.ui.unified","CALENDAR_END_DATE");const H=[];if(b){k=false}e.openStart("div",r.sId+"-"+_);e.class("sapUiCalItem");e.class("sapUiCalWDay"+v);if(y){e.style("width",y)}if(v===r.iFirstDayOfWeek){e.class("sapUiCalFirstWDay")}if(l&&r.iMonth!==t.getMonth()){e.class("sapUiCalItemOtherMonth");m["disabled"]=true}if(t.isSame(r.oToday)){e.class("sapUiCalItemNow");H.push(a._oUnifiedRB.getText("LEGEND_TODAY"))}if(W>0){e.class("sapUiCalItemSel");if(C){m["selected"]=true}}else if(C){m["selected"]=false}if(W===2){e.class("sapUiCalItemSelStart");m["describedby"]=`${m["describedby"]} ${M}`.trim()}else if(W===3){e.class("sapUiCalItemSelEnd");m["describedby"]=`${m["describedby"]} ${O}`.trim()}else if(W===4){e.class("sapUiCalItemSelBetween")}else if(W===5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");m["describedby"]=`${m["describedby"]} ${M}`.trim();m["describedby"]=`${m["describedby"]} ${O}`.trim()}if(this.renderWeekNumbers&&a.getShowWeekNumbers()&&a._oDate){const e=p.getWeekConfigurationValues(a.getCalendarWeekNumbering(),new g(a._getLocale()));e.firstDayOfWeek=a._getFirstDayOfWeek();const r=n.fromUTCDate(i.getFirstDateOfWeek(t.toLocalJSDate(),e),a.getPrimaryCalendarType());m["describedby"]=m["describedby"]+" "+a.getId()+"-week-"+a._calculateWeekNumber(r)+"-text"}if(R){e.class("sapUiCalItemWeekEnd");H.push(F)}if(I){const a=this;T.forEach(function(t,i){if(t.type!==u.None){if(a.isTypeAttributeRequired(x,E,N,t)){if(i===0){e.class("sapUiCalItem"+t.type)}S=t.type;if(t.tooltip){H.push(t.tooltip)}}}})}if(H.length){const a=H.filter((e,a)=>H.indexOf(e)===a);e.attr("title",a.join(" "))}if((a.getParent()&&a.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||a.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&a.getStartDate()&&r.iMonth!==t.getMonth()){e.class("sapUiCalItemOtherMonth")}if(!k){e.class("sapUiCalItemDsbl");m["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-day",_);if(f){m["label"]=m["label"]+r.aWeekDaysWide[v]+" "}m["label"]=m["label"]+r.oFormatLong.format(t.toUTCJSDate(),true);if(S!==""){s.addCalendarTypeAccInfo(m,S,h)}if(r.sSecondaryCalendarType){m["label"]=m["label"]+" "+a._oFormatSecondaryLong.format(D.toUTCJSDate(),true)}if(T[0]&&T[0].customData?.length&&I){T[0].customData.forEach(a=>{if(a.getWriteToDom()){e.attr(`data-${a.getKey()}`,a.getValue())}})}e.accessibilityState(null,m);e.openEnd();if(T[0]&&I){e.openStart("div");e.class("sapUiCalSpecialDate");const a=T[0].color?.toLowerCase();if(this.isColorAttributeRequired(a,x,N,E,T)){e.style("background-color",a)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");if(T[0]&&T[0].color){e.class("sapUiCalItemTextCustomColor")}e.openEnd();if(!b){e.text(t.getDate())}e.close("span");if(f){e.openStart("span");e.class("sapUiCalDayName");e.openEnd();e.text(r.aWeekDays[v]);e.close("span")}if(r.sSecondaryCalendarType){e.openStart("span");e.class("sapUiCalItemSecText");e.openEnd();e.text(D.getDate());e.close("span")}e.close("div")};y._renderWeekNumber=function(e,a,t,i){var n=i._calculateWeekNumber(a);var r=t.sId+"-WNum-"+n;e.openStart("div",r);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:d.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+r});e.openEnd();e.text(n);e.close("div")};return y},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRow", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./MonthsRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,o,s,n,l,h,g,p,c,u,jQuery,f,d,y){"use strict";var m=a.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},selectableAccessibilitySemantics:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:c});m.prototype.init=function(){var e=this._getPrimaryCalendarType();this._oFormatYyyymm=g.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatOnlyYearLong=g.getInstance({pattern:"yyyy",calendarType:e});this._oFormatLong=g.getInstance({pattern:"MMMM y",calendarType:e});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=r.getResourceBundleFor("sap.ui.unified")};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatYyyymm=g.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatLong=g.getInstance({pattern:"MMMM y",calendarType:e});return this};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatYearInSecType=g.getDateInstance({format:"y",calendarType:e});this._oFormatLongInSecType=g.getInstance({pattern:"MMMM y",calendarType:e});return this};m.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};m.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonths){clearTimeout(this._sInvalidateMonths)}if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};m.prototype.onAfterRendering=function(){D.call(this);T.call(this)};m.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!u(this.getDomRef(),i.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){w.call(this,true);I.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;L.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}}};m.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};m.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};m.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};m.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};m.prototype.setDate=function(e){if(e){var t=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this._oDate=t;C.call(this,t,false)}return this.setProperty("date",e)};m.prototype._getDisplayedSecondaryDates=function(e,t){var a=this._getSecondaryCalendarType(),i,r,o;if(this._oDate){i=new l(this._oDate)}else{i=new l(l.fromLocalJSDate(d.getInstance()),this._getPrimaryCalendarType())}i.setYear(t);i.setMonth(e);i.setDate(1);r=new l(i,a);i.setDate(n._daysInMonth(i));o=new l(i,a);return{start:r,end:o}};m.prototype._getDate=function(){if(!this._oDate){this._oDate=l.fromLocalJSDate(d.getInstance(),this.getProperty("primaryCalendarType"))}return this._oDate};m.prototype.setStartDate=function(e){n._checkJSDateObject(e);var t,a,i;a=e.getFullYear();n._checkYearInValidRange(a);t=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this.setProperty("startDate",e,true);this._oStartDate=t;this._oStartDate.setDate(1);if(this.getDomRef()){i=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.setDate(i)}}return this};m.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=l.fromLocalJSDate(d.getInstance(),this.getProperty("primaryCalendarType"));this._oStartDate.setDate(1)}return this._oStartDate};m.prototype.displayDate=function(e){C.call(this,l.fromLocalJSDate(e,this.getProperty("primaryCalendarType")),true);return this};m.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new p(e.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new p(t);this._oLocaleData=o.getInstance(a)}return this._oLocaleData};m.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new p(e);this._oFormatLong=g.getInstance({style:"long",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};m.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};m.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};m.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};m.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};m.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};m.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};m.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};m.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};m.prototype._setAriaRole=function(e){this._ariaRole=e;return this};m.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};m.prototype._getMonthDescription=function(){return this._fnInvisibleHintFactory().getId()};m.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new y({text:r.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};m.prototype._checkDateSelected=function(e){var t,a,i,r,o=0,s=0,h=0,g=this.getProperty("primaryCalendarType"),p,c,u;n._checkCalendarDate(e);c=this.getSelectedDates();u=new l(e);u.setDate(1);r=u.toUTCJSDate().getTime();for(p=0;p<c.length;p++){t=c[p];a=t.getStartDate();o=0;if(a){a=l.fromLocalJSDate(a,g);a.setDate(1);o=a.toUTCJSDate().getTime()}i=t.getEndDate();s=0;if(i){i=l.fromLocalJSDate(i,g);i.setDate(1);s=i.toUTCJSDate().getTime()}if(r==o&&!i){h=1;break}else if(r==o&&i){h=2;if(i&&r==s){h=5}break}else if(i&&r==s){h=3;break}else if(i&&r>o&&r<s){h=4;break}if(this.getSingleSelection()){break}}return h};m.prototype._getDateType=function(e){n._checkCalendarDate(e);var t,a,i,r,o=0,s,h=0,g,p=this.getSpecialDates(),c=new l(e),u=this.getProperty("primaryCalendarType");c.setDate(1);g=c.toUTCJSDate().getTime();for(i=0;i<p.length;i++){a=p[i];r=a.getStartDate();o=0;if(r){r=l.fromLocalJSDate(r,u);r.setDate(1);o=r.toUTCJSDate().getTime()}s=a.getEndDate();h=0;if(s){s=l.fromLocalJSDate(s,u);s.setDate(n._daysInMonth(s));h=s.toUTCJSDate().getTime()}if(g==o&&!s||g>=o&&g<=h){t={type:a.getType(),tooltip:a.getTooltip_AsString()};break}}return t};m.prototype._checkMonthEnabled=function(e){n._checkCalendarDate(e);var t=this.getParent();if(t&&t._oMinDate&&t._oMaxDate){if(n._isOutside(e,t._oMinDate,t._oMaxDate)){return false}}return true};m.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){w.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=l.fromLocalJSDate(this._oFormatYyyymm.parse(t.attr("data-sap-month"),this.getProperty("primaryCalendarType")));i.setDate(1);if(!i.isSame(a)){this.setDate(i.toLocalJSDate());I.call(this,i,true);this._bMoveChange=true}}};m.prototype.onmouseup=function(e){if(this._bMouseMove){w.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var r=jQuery(a[i]);if(r.attr("data-sap-month")==this._oFormatYyyymm.format(t.toUTCJSDate(),true)){r.trigger("focus");break}}if(this._bMoveChange){var o=jQuery(e.target);if(o.hasClass("sapUiCalItemText")){o=o.parent()}if(o.hasClass("sapUiCalItem")){t=l.fromLocalJSDate(this._oFormatYyyymm.parse(o.attr("data-sap-month")));t.setDate(1)}I.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;L.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}};m.prototype.onsapselect=function(e){var t=I.call(this,this._getDate());if(t){L.call(this)}e.stopPropagation();e.preventDefault()};m.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};m.prototype.onsappageupmodifiers=function(e){var t=new l(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{var i=this.getMonths();if(i<=12){t.setYear(a-1)}else{t.setMonth(t.getMonth()-i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};m.prototype.onsappagedownmodifiers=function(e){var t=new l(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{var i=this.getMonths();if(i<=12){t.setYear(a+1)}else{t.setMonth(t.getMonth()+i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};m.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var e=this._getLocaleData();var t=e.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var a=this.$("months").children();var i=this._getStartDate().getMonth();for(var r=0;r<a.length;r++){var o=jQuery(jQuery(a[r]).children(".sapUiCalItemText"));o.text(t[(r+i)%12])}T.call(this)};m.prototype.checkDateFocusable=function(e){n._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new l(t);a.setDate(1);a.setMonth(a.getMonth()+this.getMonths());var i=l.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));return i.isSameOrAfter(t)&&i.isBefore(a)};m.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};function D(){var e=this._getDate();var t=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var a=0;var i=this.$("months").get(0);var r=this.$("months").children(".sapUiCalItem");for(var o=0;o<r.length;o++){var n=jQuery(r[o]);if(n.attr("data-sap-month")===t){a=o;break}}if(!this._oItemNavigation){this._oItemNavigation=new s;this._oItemNavigation.attachEvent(s.Events.AfterFocus,v,this);this._oItemNavigation.attachEvent(s.Events.FocusAgain,_,this);this._oItemNavigation.attachEvent(s.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(r);this._oItemNavigation.setFocusedIndex(a);this._oItemNavigation.setPageSize(r.length)}function v(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var i=this._getDate();var r=new l(i);var o=this._oItemNavigation.getItemDomRefs();var s=jQuery(o[t]);r=l.fromLocalJSDate(this._oFormatYyyymm.parse(s.attr("data-sap-month")));r.setDate(1);this.setDate(r.toLocalJSDate());this.fireFocus({date:r.toLocalJSDate(),notVisible:false});if(a.type=="mousedown"){b.call(this,a,r,t)}}function _(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();b.call(this,a,i,t)}}function S(e){var t=e.getParameter("event");var a=this.getMonths();var i=this._getDate();var r=new l(i);if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":r.setMonth(r.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":r.setMonth(r.getMonth()-1);break;case"sappagedown":r.setMonth(r.getMonth()+a);break;case"sappageup":r.setMonth(r.getMonth()-a);break;default:break}this.fireFocus({date:r.toLocalJSDate(),notVisible:true})}}function b(e,t,a){if(e.button){return}var i=I.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){w.call(this,true);this._bMoveChange=false}else if(i&&this.getIntervalSelection()&&this.$().is(":visible")){P.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function C(e,t){n._checkCalendarDate(e);var a=e.getYear();n._checkYearInValidRange(a);var i=true;if(!this.getDate()||!e.isSame(l.fromLocalJSDate(this.getDate(),this.getProperty("primaryCalendarType")))){var r=new l(e);r.setDate(1);i=this.checkDateFocusable(e.toLocalJSDate());if(!this._bNoRangeCheck&&!i){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e.toLocalJSDate());this._oDate=r}if(this.getDomRef()){if(i){M.call(this,this._oDate,t)}}}function M(e,t){var a=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var o=0;o<i.length;o++){r=jQuery(i[o]);if(r.attr("data-sap-month")==a){if(document.activeElement!=i[o]){if(t){this._oItemNavigation.setFocusedIndex(o)}else{this._oItemNavigation.focusItem(o)}}break}}}function I(e,t){if(!this._checkMonthEnabled(e)){return false}var a=this.getSelectedDates();var i;var r=0;var o=this.getParent();var s=this;var n;if(o&&o.getSelectedDates){s=o}if(this.getSingleSelection()){if(a.length>0){i=a[0];n=i.getStartDate();if(n){n=l.fromLocalJSDate(n,this.getProperty("primaryCalendarType"));n.setDate(1)}}else{i=new f;s.addAggregation("selectedDates",i)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&n){var h;if(e.isBefore(n)){h=n;n=e;if(!t){i.setProperty("startDate",n.toLocalJSDate());i.setProperty("endDate",h.toLocalJSDate())}}else if(e.isSameOrAfter(n)){h=e;if(!t){i.setProperty("endDate",h.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var g=this._checkDateSelected(e);if(g>0){for(r=0;r<a.length;r++){n=a[r].getStartDate();if(n){n=l.fromLocalJSDate(n,this.getProperty("primaryCalendarType"));n.setDate(1);if(e.isSame(n)){s.removeAggregation("selectedDates",r);break}}}}else{i=new f({startDate:e.toLocalJSDate()});s.addAggregation("selectedDates",i)}}}return true}function L(){if(this._bMouseMove){w.call(this,true)}this.fireSelect()}function T(){if(!this._bNamesLengthChecked){var e=0;var t=this.$("months").children();var a=false;var i=this.getMonths();var r=Math.ceil(12/i);var o=0;var s=this._getLocaleData();var n=s.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var l;for(var h=0;h<r;h++){if(i<12){for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}o=o+i;if(o>11){o=11}}for(e=0;e<t.length;e++){var g=t[e];if(Math.abs(g.clientWidth-g.scrollWidth)>1){a=true;break}}if(a){break}}if(i<12){o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}}if(a){this._bLongMonth=false;var p=s.getMonthsStandAlone("abbreviated",this.getProperty("primaryCalendarType"));o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(p[(e+o)%12])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function P(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function w(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRowRenderer", ["sap/ui/core/Element","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,o,s){"use strict";var l=r.CalendarDayType;var i={apiVersion:2};i.render=function(e,t){var a=t._getStartDate();var n=t.getTooltip_AsString();var r=t.getId();e.openStart("div",t);e.class("sapUiCalMonthsRow");e.class("sapUiCalRow");if(n){e.attr("title",n)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection()});e.openEnd();if(t.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_MONTH"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_MONTH"));e.close("span")}this.renderRow(e,t,a);e.close("div")};i.renderRow=function(e,t,a){var n=t.getId();this.renderHeader(e,t,a);e.openStart("div",n+"-months");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderMonths(e,t,a);e.close("div")};i.renderHeader=function(e,a,n){t._checkCalendarDate(n);if(a._getShowHeader()){var r=a._getLocaleData();var o=a.getId();e.openStart("div",o+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,n);e.close("div")}};i.renderHeaderLine=function(e,n,r,o){t._checkCalendarDate(o);var s=n.getId();var l=n.getMonths();var i=new a(o);var d="";var c=0;var p=[];var g=0;for(g=0;g<l;g++){c=i.getYear();if(p.length>0&&p[p.length-1].iYear==c){p[p.length-1].iMonths++}else{p.push({iYear:c,iMonths:1})}i.setMonth(i.getMonth()+1)}for(g=0;g<p.length;g++){var h=p[g];d=100/l*h.iMonths+"%";e.openStart("div",s+"-Head"+g);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(h.iYear);e.close("div")}};i.renderMonths=function(e,t,n){var r=this.getHelper(t,n);var o=t.getMonths();var s=100/o+"%";var l=new a(n);l.setDate(1);for(var i=0;i<o;i++){this.renderMonth(e,t,l,r,s);l.setMonth(l.getMonth()+1)}};i.getHelper=function(n,r){t._checkCalendarDate(r);var l={};var i=n.getProperty("primaryCalendarType");l.sLocale=n._getLocale();l.oLocaleData=n._getLocaleData();l.oToday=a.fromLocalJSDate(s.getInstance(),i);l.sCurrentMonth=n._rb.getText("CALENDAR_CURRENT_MONTH");l.sId=n.getId();l.oFormatLong=n._getFormatLong();if(n._bLongMonth||!n._bNamesLengthChecked){l.aMonthNames=l.oLocaleData.getMonthsStandAlone("wide",i)}else{l.aMonthNames=l.oLocaleData.getMonthsStandAlone("abbreviated",i);l.aMonthNamesWide=l.oLocaleData.getMonthsStandAlone("wide",i)}var d=n.getLegend();if(d){var c=e.getElementById(d);if(c){if(!(c instanceof sap.ui.unified.CalendarLegend)){throw new Error(c+" is not an sap.ui.unified.CalendarLegend. "+n)}l.oLegend=c}else{o.warning("CalendarLegend "+d+" does not exist!",n)}}l.convertTextInfoToSecondaryType=function(e){var t=n._getSecondaryCalendarType(),a=l.oLocaleData.getMonthsStandAlone("abbreviated",t),r=n._oFormatYearInSecType,o=n._getDisplayedSecondaryDates(e.getMonth(),e.getYear()),s,i,d;if(o.start.getMonth()===o.end.getMonth()){s=a[o.start.getMonth()]}else{d=n._getLocaleData().getIntervalPattern();s=d.replace(/\{0\}/,a[o.start.getMonth()]).replace(/\{1\}/,a[o.end.getMonth()])}if(o.start.getYear()===o.end.getYear()){i=r.format(o.start.toUTCJSDate(),true)}else{i=d.replace(/\{0\}/,r.format(o.start.toUTCJSDate(),true)).replace(/\{1\}/,r.format(o.end.toUTCJSDate(),true))}return{sMonthInfo:s,sYearInfo:i}};return l};i.renderMonth=function(e,a,r,o,s){t._checkCalendarDate(r);var i=a._getAriaRole();var d=i==="gridcell"&&a.getProperty("selectableAccessibilitySemantics");var c=!!a._getSecondaryCalendarType(),p;if(c){p=o.convertTextInfoToSecondaryType(r)}var g={role:a._getAriaRole(),selected:d?false:null,label:"",describedby:d?a._getMonthDescription():null};var h=a._oFormatYyyymm.format(r.toUTCJSDate(),true);var f=a._checkDateSelected(r);var v=a._getDateType(r);var y=a._checkMonthEnabled(r);e.openStart("div",o.sId+"-"+h);e.class("sapUiCalItem");if(s){e.style("width",s)}if(t._isSameMonthAndYear(r,o.oToday)){e.class("sapUiCalItemNow");g["label"]=o.sCurrentMonth+" "}if(f>0){e.class("sapUiCalItemSel");if(d){g["selected"]=true}}if(f==2){e.class("sapUiCalItemSelStart");g["describedby"]=g["describedby"]+" "+o.sId+"-Start"}else if(f==3){e.class("sapUiCalItemSelEnd");g["describedby"]=g["describedby"]+" "+o.sId+"-End"}else if(f==4){e.class("sapUiCalItemSelBetween")}else if(f==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");g["describedby"]=g["describedby"]+" "+o.sId+"-Start";g["describedby"]=g["describedby"]+" "+o.sId+"-End"}if(v&&v.type!=l.None){e.class("sapUiCalItem"+v.type);if(v.tooltip){e.attr("title",v.tooltip)}}if(!y){e.class("sapUiCalItemDsbl");g["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-month",h);g["label"]=g["label"]+o.oFormatLong.format(r.toUTCJSDate(),true);if(c){g["label"]=g["label"]+", "+p.sMonthInfo+" "+p.sYearInfo}if(v&&v.type!=l.None){n.addCalendarTypeAccInfo(g,v.type,o.oLegend)}e.accessibilityState(null,g);if(c){e.class("sapUiCalItemWithSecondaryType")}e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(o.aMonthNames[r.getMonth()]);e.close("span");if(c){e.openStart("span");e.class("sapUiCalItemAddText");e.openEnd();e.text(p.sMonthInfo);e.close("span")}e.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRow", ["sap/ui/unified/calendar/DatesRow","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","./OneMonthDatesRowRenderer"],function(t,e,a,i,o){"use strict";var s=t.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"},renderer:o});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.iMode=2};s.prototype.setMode=function(t){var e=this.getSelectedDates(),a,i=this.iMode!==t;this.iMode=t;if(i&&e.length){if(this.iMode<2){a=this.getStartDate()}e[0].setProperty("startDate",a)}this.iMode<2?this._bAlwaysShowSpecialDates=false:this._bAlwaysShowSpecialDates=true;return this};s.prototype.getMode=function(){return this.iMode};s.prototype.selectDate=function(t){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(t)}return this};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.setDate.apply(this,arguments);return this};s.prototype.getDays=function(){if(this.iMode===2){return 31}else{return e._daysInMonth(a.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType()))}};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.displayDate.apply(this,arguments);return this};s.prototype.onsaphome=function(t){var e=a.fromLocalJSDate(this.getStartDate());r(t);this.setDate(e.toLocalJSDate());this._focusDate(e);this.fireFocus({date:e.toLocalJSDate(),otherMonth:false})};s.prototype.onsapend=function(t){var i=this.getStartDate(),o;o=a.fromLocalJSDate(i);o.setDate(e._daysInMonth(o));r(t);this.setDate(o.toLocalJSDate());this._focusDate(o);this.fireFocus({date:o.toLocalJSDate(),otherMonth:false})};function r(t){t.stopPropagation();t.preventDefault();t.stopImmediatePropagation(true)}return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRowRenderer", ["sap/ui/core/Renderer","./MonthRenderer","./DatesRowRenderer"],function(e,r,a){"use strict";var n=e.extend(a);n.apiVersion=2;["getClass","renderMonth","renderDays","renderHeader"].forEach(function(e){n[e]=function(n,s){if(s.iMode<2){return r[e].apply(r,arguments)}else{if(e==="getClass"){var t=["sapUiCalDatesRow","sapUiCalRow","sapUiCalOneMonthDatesRow"];if(!s.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t}return a[e].apply(a,arguments)}}});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/RecurrenceUtils", ["sap/ui/core/date/UI5Date"],function(t){"use strict";var e={};const n={WORKING_PERIOD:"working",NON_WORKING_PERIOD:"non-working"};e.hasOccurrenceOnDate=function(e){if(this.getRecurrenceType()!=="Daily"){return false}const n=t.getInstance(this.getStartDate());const s=t.getInstance(e);n.setHours(0,0,0,0);s.setHours(0,0,0,0);const r=24*60*60*1e3;const u=s>=n&&s<=this.getRecurrenceEndDate();const o=Math.floor((s.getTime()-n.getTime())/r)%this.getRecurrencePattern()===0;return u&&o};e.calculateDurationInCell=function(t,e,n){const s=t.getStartDate();const r=60;let u=t.getDurationInMinutes();if(s.getHours()<e.getHours()){const t=e.getHours()*r+e.getMinutes();const n=s.getHours()*r+s.getMinutes();u-=t-n}else if(s.getHours()===e.getHours()&&s.getMinutes()>0){u=t.getDurationInMinutes()+n>60?r-n:t.getDurationInMinutes()}else if(s.getHours()===e.getHours()&&t.getEndDate().getHours()<=e.getHours()+1){u=t.getDurationInMinutes()}else{u=r-n}return u};e.getWorkingAndNonWorkingSegments=function(t,e){const s=[];const r=60;let u=0;let o=0;while(u<r){const i=e[o];const g=i?.getStartDate();if(!i){const t=r-u;s.push({type:n.WORKING_PERIOD,duration:t});return s}let c=this.calculateDurationInCell(i,t,u);const a=g.getMinutes();if(c>r&&g.getHours()<t.getHours()){s.push({type:n.NON_WORKING_PERIOD,duration:r});return s}if(a===u||g.getHours()<t.getHours()){s.push({type:n.NON_WORKING_PERIOD,duration:c});o++}else{c=a-u;s.push({type:n.WORKING_PERIOD,duration:c})}u+=c}return s};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRow", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./TimesRowRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/core/InvisibleText"],function(e,t,a,i,r,s,n,o,l,g,u,h,c,p,f,jQuery,d,v,m){"use strict";var _=a.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},selectableAccessibilitySemantics:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:c});_.prototype.init=function(){this._oFormatYyyyMMddHHmm=u.getInstance({pattern:"yyyyMMddHHmm",calendarType:this.getProperty("primaryCalendarType")});this._oFormatLong=u.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")});this._oFormatDate=u.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=r.getResourceBundleFor("sap.ui.unified")};_.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._invisibleDayHint){this._invisibleDayHint.destroy();this._invisibleDayHint=null}};_.prototype.onAfterRendering=function(){y.call(this)};_.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!p(this.getDomRef(),i.getElementById(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){L.call(this,true);S.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;U.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;U.call(this)}}};_.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};_.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};_.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};_.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};_.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e,false);this._oFormatTime=undefined;return this};_.prototype.setDate=function(e){I.call(this,e,false);return this.setProperty("date",e)};_.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=o._createUniversalUTCDate(v.getInstance(),undefined,true)}return this._oUTCDate};_.prototype.setStartDate=function(e){o._checkJSDateObject(e);var t=e.getFullYear();o._checkYearInValidRange(t);var a=o._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);this._oUTCStartDate=this._getIntervalStart(a);if(this.getDomRef()){var i=o._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.displayDate(i)}}return this};_.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=o._createUniversalUTCDate(v.getInstance(),undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate)}return this._oUTCStartDate};_.prototype.displayDate=function(e){I.call(this,e,true);return this};_.prototype._getLocale=function(){var t=this.getParent();if(t&&t.getLocale){return t.getLocale()}else if(!this._sLocale){this._sLocale=new h(e.getLanguageTag()).toString()}return this._sLocale};_.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=s.getInstance(a)}return this._oLocaleData};_.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new h(e);this._oFormatLong=u.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};_.prototype._getFormatTime=function(){var e=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=e){var t=new h(e);var a=this.getIntervalMinutes();var i=this._getLocaleData();var r;var s=i.getTimePattern("short");this._oFormatTimeAmPm=undefined;if(a%60==0){r=F(s);if(s.search("a")>=0){this._oFormatTimeAmPm=u.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t)}}else{r=s;r=r.replace("HH","H");r=r.replace("hh","h");if(r.search("a")>=0){this._oFormatTimeAmPm=u.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t);r=r.replace("a","").trim()}}this._oFormatTime=u.getTimeInstance({pattern:r,calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatTime};_.prototype._getFormatDate=function(){var e=this._getLocale();if(this._oFormatDate.oLocale.toString()!=e){var t=new h(e);this._oFormatDate=u.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatDate};_.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};_.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};_.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};_.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};_.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};_.prototype.getIntervalMinutes=function(){var e=this.getParent();if(e&&e.getIntervalMinutes){return e.getIntervalMinutes()}else{return this.getProperty("intervalMinutes")}};_.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};_.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};_.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend")}};_.prototype._checkDateSelected=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t=0;var a=this.getSelectedDates();var i=new l(e.getTime());i=this._getIntervalStart(i);var r=i.getTime();for(var s=0;s<a.length;s++){var n=a[s];var g=n.getStartDate();var u=0;if(g){g=o._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=n.getEndDate();var c=0;if(h){h=o._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);c=h.getTime()}if(r==u&&!h){t=1;break}else if(r==u&&h){t=2;if(h&&r==c){t=5}break}else if(h&&r==c){t=3;break}else if(h&&r>u&&r<c){t=4;break}if(this.getSingleSelection()){break}}return t};_.prototype._getDateType=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t;var a=this.getSpecialDates();var i=new l(e.getTime());i=this._getIntervalStart(i);var r=i.getTime();for(var s=0;s<a.length;s++){var n=a[s];var g=n.getStartDate();var u=0;if(g){g=o._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=n.getEndDate();var c=0;if(h){h=o._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);h.setUTCMinutes(h.getUTCMinutes()+this.getIntervalMinutes()-1);c=h.getTime()}else if(g.getUTCHours()==0&&g.getUTCMinutes()==0&&g.getUTCSeconds()==0&&g.getUTCMilliseconds()==0){h=new l(g.getTime());h.setUTCDate(h.getUTCDate()+1);c=h.getTime()}if(r==u&&!h||r>=u&&r<=c){t={type:n.getType(),tooltip:n.getTooltip_AsString(),color:n.getColor()};break}}return t};_.prototype._checkTimeEnabled=function(e){if(!(e instanceof l)){throw new Error("Date must be a UniversalDate object "+this)}var t=e.getTime();var a=this.getParent();if(a&&a._oMinDate&&a._oMaxDate){if(t<a._oMinDate.getTime()||t>a._oMaxDate.getTime()){return false}}return true};_.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){L.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=new l(this._oFormatYyyyMMddHHmm.parse(t.attr("data-sap-time"),true).getTime());if(i.getTime()!=a.getTime()){this._oUTCDate=i;S.call(this,i,true);this._bMoveChange=true}}};_.prototype.onmouseup=function(e){if(this._bMouseMove){L.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var r=jQuery(a[i]);if(r.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(t.getJSDate(),true)){r.trigger("focus");break}}if(this._bMoveChange){var s=jQuery(e.target);if(s.hasClass("sapUiCalItemText")){s=s.parent()}if(s.hasClass("sapUiCalItem")){t=new l(this._oFormatYyyyMMddHHmm.parse(s.attr("data-sap-time"),true).getTime())}S.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;U.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;U.call(this)}};_.prototype.onsapselect=function(e){var t=S.call(this,this._getDate());if(t){U.call(this)}e.stopPropagation();e.preventDefault()};_.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};_.prototype.onsappageupmodifiers=function(e){var t=new l(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a-7)}else{t.setUTCDate(a-1)}this.fireFocus({date:o._createLocalDate(t,true),notVisible:true});e.preventDefault()};_.prototype.onsappagedownmodifiers=function(e){var t=new l(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a+7)}else{t.setUTCDate(a+1)}this.fireFocus({date:o._createLocalDate(t,true),notVisible:true});e.preventDefault()};_.prototype.checkDateFocusable=function(e){o._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new l(t.getTime());a.setUTCMinutes(a.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var i=o._createUniversalUTCDate(e,undefined,true);if(i.getTime()>=t.getTime()&&i.getTime()<a.getTime()){return true}else{return false}};_.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};_.prototype._getIntervalStart=function(e){var t=e.getTime();var a=new l(e.getTime());a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);var i=this.getIntervalMinutes();while(a.getTime()<=t){a.setUTCMinutes(a.getUTCMinutes()+i)}var r=new l(a.getTime());r.setUTCMinutes(r.getUTCMinutes()-i);return r};_.prototype._setAriaRole=function(e){this._ariaRole=e;return this};_.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};_.prototype._getTimeDescription=function(){return this._fnInvisibleHintFactory().getId()};_.prototype._fnInvisibleHintFactory=function(){if(!this._invisibleDayHint){this._invisibleDayHint=new m({text:r.getResourceBundleFor("sap.m").getText("SLIDETILE_ACTIVATE")}).toStatic()}return this._invisibleDayHint};function y(){var e=this._getDate();var t=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var a=0;var i=this.$("times").get(0);var r=this.$("times").children(".sapUiCalItem");for(var s=0;s<r.length;s++){var o=jQuery(r[s]);if(o.attr("data-sap-time")===t){a=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new n;this._oItemNavigation.attachEvent(n.Events.AfterFocus,D,this);this._oItemNavigation.attachEvent(n.Events.FocusAgain,T,this);this._oItemNavigation.attachEvent(n.Events.BorderReached,C,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(r);this._oItemNavigation.setFocusedIndex(a);this._oItemNavigation.setPageSize(r.length)}function D(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var i=this._getDate();var r=new l(i.getTime());var s=this._oItemNavigation.getItemDomRefs();var n=jQuery(s[t]);r=new l(this._oFormatYyyyMMddHHmm.parse(n.attr("data-sap-time"),true).getTime());this._oUTCDate=r;this.fireFocus({date:o._createLocalDate(r,true),notVisible:false});if(a.type=="mousedown"){b.call(this,a,r,t)}}function T(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();b.call(this,a,i,t)}}function C(e){var t=e.getParameter("event");var a=this.getItems();var i=this.getIntervalMinutes();var r=this._getDate();var s=new l(r.getTime());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":s.setUTCMinutes(s.getUTCMinutes()+i);break;case"sapprevious":case"sappreviousmodifiers":s.setUTCMinutes(s.getUTCMinutes()-i);break;case"sappagedown":s.setUTCMinutes(s.getUTCMinutes()+i*a);break;case"sappageup":s.setUTCMinutes(s.getUTCMinutes()-i*a);break;default:break}this.fireFocus({date:o._createLocalDate(s,true),notVisible:true})}}function b(e,t,a){if(e.button){return}var i=S.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){L.call(this,true);this._bMoveChange=false}else if(this.getIntervalSelection()&&this.$().is(":visible")){w.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function I(e,t){o._checkJSDateObject(e);var a=e.getFullYear();o._checkYearInValidRange(a);var i=true;if(!f(this.getDate(),e)){var r=o._createUniversalUTCDate(e,undefined,true);r=this._getIntervalStart(r);i=this.checkDateFocusable(e);if(!this._bNoRangeCheck&&!i){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e);this._oUTCDate=r}if(this.getDomRef()){if(i){M.call(this,this._oUTCDate,t)}else{this.setDate(e)}}}function M(e,t){var a=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var s=0;s<i.length;s++){r=jQuery(i[s]);if(r.attr("data-sap-time")==a){if(document.activeElement!=i[s]){if(t){this._oItemNavigation.setFocusedIndex(s)}else{this._oItemNavigation.focusItem(s)}}break}}}function S(e,t){if(!this._checkTimeEnabled(e)){return false}var a=this.getSelectedDates();var i;var r=0;var s=this.getParent();var n=this;var l;if(s&&s.getSelectedDates){n=s}if(this.getSingleSelection()){if(a.length>0){i=a[0];l=i.getStartDate();if(l){l=o._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l)}}else{i=new d;n.addAggregation("selectedDates",i)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&l){var g;if(e.getTime()<l.getTime()){g=l;l=e;if(!t){i.setProperty("startDate",o._createLocalDate(v.getInstance(l.getTime()),true));i.setProperty("endDate",o._createLocalDate(v.getInstance(g.getTime()),true))}}else if(e.getTime()>=l.getTime()){g=e;if(!t){i.setProperty("endDate",o._createLocalDate(v.getInstance(g.getTime()),true))}}}else{i.setProperty("startDate",o._createLocalDate(v.getInstance(e.getTime()),true));i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var u=this._checkDateSelected(e);if(u>0){for(r=0;r<a.length;r++){l=a[r].getStartDate();if(l){l=o._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l);if(e.getTime()==l.getTime()){n.removeAggregation("selectedDates",r);break}}}}else{i=new d({startDate:o._createLocalDate(v.getInstance(e.getTime()),true)});n.addAggregation("selectedDates",i)}}}return true}function U(){if(this._bMouseMove){L.call(this,true)}this.fireSelect()}function w(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function L(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}function F(e){var t;if(e.toUpperCase().indexOf("K")>-1){t=e.indexOf("k")>-1?"k":"K"}else{t=e.indexOf("h")>-1?"h":"H"}return t}return _});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRowRenderer", ["sap/ui/core/Element","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/date/UI5Date","sap/ui/unified/library","sap/base/Log"],function(e,t,a,r,i,s,n){"use strict";var l=s.CalendarDayType;var o={apiVersion:2};o.render=function(e,t){var a=t._getStartDate();var r=t.getTooltip_AsString();var i=t.getId();e.openStart("div",t);e.class("sapUiCalTimesRow");e.class("sapUiCalRow");if(r){e.attr("title",r)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:t._getShowHeader()?{value:i+"-Head",append:true}:undefined});e.openEnd();if(t.getIntervalSelection()){e.openStart("span",i+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_TIME"));e.close("span");e.openStart("span",i+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_TIME"));e.close("span")}this.renderRow(e,t,a);e.close("div")};o.renderRow=function(e,t,a){var r=t.getId();this.renderHeader(e,t,a);e.openStart("div",r+"-times");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderTimes(e,t,a);e.close("div")};o.renderHeader=function(e,t,a){if(t._getShowHeader()){var r=t._getLocaleData();var i=t.getId();e.openStart("div",i+"-Head");e.openEnd();this.renderHeaderLine(e,t,r,a);e.close("div")}};o.renderHeaderLine=function(e,t,a,r){var i=t._getFormatDate();var s=t.getId();var n=t.getItems();var l=t._getIntervalStart(r);var o=t.getIntervalMinutes();var d="";var c=0;var p=[];var m=0;for(m=0;m<n;m++){c=i.format(l,true);if(p.length>0&&p[p.length-1].sDay==c){p[p.length-1].iItems++}else{p.push({sDay:c,iItems:1})}l.setUTCMinutes(l.getUTCMinutes()+o)}for(m=0;m<p.length;m++){var g=p[m];d=100/n*g.iItems+"%";e.openStart("div",s+"-Head"+m);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g.sDay);e.close("div")}};o.renderTimes=function(e,t,a){var r=this.getHelper(t,a);var i=t.getItems();var s=100/i+"%";var n=t._getIntervalStart(a);var l="";var o="";for(var d=0;d<i;d++){if(r.oFormatTimeAmPm){o=r.oFormatTimeAmPm.format(n,true);if(l==o){o=""}else{l=o}}this.renderTime(e,t,n,r,s,o);n.setUTCMinutes(n.getUTCMinutes()+r.iMinutes)}};o.getHelper=function(a,r){var s={};s.sLocale=a._getLocale();s.oLocaleData=a._getLocaleData();s.oNow=t._createUniversalUTCDate(i.getInstance(),undefined,true);s.sCurrentTime=a._rb.getText("CALENDAR_CURRENT_TIME");s.sId=a.getId();s.oFormatLong=a._getFormatLong();s.oFormatTime=a._getFormatTime();s.oFormatTimeAmPm=a._oFormatTimeAmPm;s.iMinutes=a.getIntervalMinutes();var l=a.getLegend();if(l){var o=e.getElementById(l);if(o){if(!(o instanceof sap.ui.unified.CalendarLegend)){throw new Error(o+" is not an sap.ui.unified.CalendarLegend. "+a)}s.oLegend=o}else{n.warning("CalendarLegend "+l+" does not exist!",a)}}return s};o.renderTime=function(e,t,i,s,n,o){var d=t._getAriaRole();var c=d==="gridcell"&&t.getProperty("selectableAccessibilitySemantics");var p={role:d,selected:c?false:null,label:"",describedby:c?t._getTimeDescription():null};var m=t._oFormatYyyyMMddHHmm.format(i.getJSDate(),true);var g=t._checkDateSelected(i);var u=t._getDateType(i);var v=t._checkTimeEnabled(i);e.openStart("div",s.sId+"-"+m);e.class("sapUiCalItem");if(n){e.style("width",n)}var f=new a(i.getTime());f.setUTCMinutes(f.getUTCMinutes()+s.iMinutes);if(i.getTime()<=s.oNow.getTime()&&f.getTime()>s.oNow.getTime()){e.class("sapUiCalItemNow");p["label"]=s.sCurrentTime+" "}if(g>0){e.class("sapUiCalItemSel");if(c){p["selected"]=true}}if(g==2){e.class("sapUiCalItemSelStart");p["describedby"]=p["describedby"]+" "+s.sId+"-Start"}else if(g==3){e.class("sapUiCalItemSelEnd");p["describedby"]=p["describedby"]+" "+s.sId+"-End"}else if(g==4){e.class("sapUiCalItemSelBetween")}else if(g==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");p["describedby"]=p["describedby"]+" "+s.sId+"-Start";p["describedby"]=p["describedby"]+" "+s.sId+"-End"}if(u&&u.type!=l.None){e.class("sapUiCalItem"+u.type);if(u.tooltip){e.attr("title",u.tooltip)}}if(!v){e.class("sapUiCalItemDsbl");p["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-time",m);p["label"]=p["label"]+s.oFormatLong.format(i,true);if(u&&u.type!=l.None){r.addCalendarTypeAccInfo(p,u.type,s.oLegend)}e.accessibilityState(null,p);e.openEnd();if(u&&u.type!=l.None){e.openStart("div");e.class("sapUiCalSpecialDate");if(u.color){e.style("background-color",u.color)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(s.oFormatTime.format(i,true));if(o){e.openStart("span");e.class("sapUiCalItemTextAmPm");e.openEnd();e.text(o);e.close("span")}e.close("span");e.close("div")};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker", ["sap/base/i18n/Formatting","sap/base/i18n/date/CalendarType","sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/date/UI5Date","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery"],function(e,t,a,r,i,s,o,n,l,h,d,g,p,c,y,u,jQuery){"use strict";var m=a.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},_singleSelection:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},_showSelectedRange:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.base.i18n.date.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:y});m.prototype.init=function(){var e=c.getInstance();e.setFullYear(2e3);this.setProperty("date",e);this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:t.Gregorian});this._oMinDate=s._minDate(this._getPrimaryCalendarType());this._oMaxDate=s._maxDate(this._getPrimaryCalendarType())};m.prototype.onBeforeRendering=function(){this._oYearFormat=h.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()})};m.prototype.onAfterRendering=function(){_.call(this);this.focus()};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};m.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new o(e,0,1,this._getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};m.prototype.setDate=function(e){var t=s._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,r,i,n;e&&s._checkJSDateObject(e);r=e.getFullYear();s._checkYearInValidRange(r);a=o.fromLocalJSDate(e,this._getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;i=this.getYears();n=Math.floor(i/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+i-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};m.prototype._getDate=function(){if(!this._oDate){var e=this.getDate().getFullYear();this._oDate=new o(e,0,1,this._getPrimaryCalendarType())}return this._oDate};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||e.getCalendarType()};m.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new n];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=h.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new o(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new o(this._oMinDate,e);this._oMaxDate=new o(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype.setIntervalSelection=function(e){this._setShowSelectedRange(e);return this.setProperty("intervalSelection",e)};m.prototype._setShowSelectedRange=function(e){return this.setProperty("_showSelectedRange",e)};m.prototype._getShowSelectedRange=function(){return this.getProperty("_showSelectedRange")};m.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};m.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};m.prototype.onsapspace=function(e){e.preventDefault()};m.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};m.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,i,s;if(!a){return}if(a.getStartDate()){r=o.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){s=t.getAttribute("data-sap-year-start");i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,i)}}};m.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};m.prototype.onmouseup=function(e){var t=e.target,a=this._getSelectedDates()[0],i,s,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&t.classList.contains("sapUiCalItem")&&a){s=t.getAttribute("data-sap-year-start");l=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());n=o.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!a.getEndDate()){i=h.index(t);this._selectYear.call(this,i);this._oItemNavigation.focusItem(i)}}this.fireSelect()}else if(r.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){i=this._oItemNavigation.getFocusedIndex();if(!h[i].classList.contains("sapUiCalItemDsbl")){this._selectYear(i);this.fireSelect()}}};m.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),r,i,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){i=a[n].getAttribute("data-sap-year-start");r=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(i),this._getPrimaryCalendarType());if(this._bMousedownChange){if((r.isSame(e)||r.isSame(t))&&!s._isOutside(r,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSel")}else{jQuery(a[n]).removeClass("sapUiCalItemSel")}}if(s._isBetween(r,e,t)&&s._isBetween(r,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[n]).removeClass("sapUiCalItemSelBetween")}}};m.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=this._oFormatYyyymmdd.parse(jQuery(t[0]).attr("data-sap-year-start"))}return e};m.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};m.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new o(e,e.getCalendarType()),r=new o(e,e.getCalendarType());a.setMonth(0,1);a=new o(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new o(r,t);return{start:a,end:r}};m.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=new g(e.getLanguageTag()).toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new g(t);this._oLocaleData=p.getInstance(a)}return this._oLocaleData};m.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new o(this._oMaxDate,this._getPrimaryCalendarType());if(!a.isSame(s._maxDate(this._getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new o(a,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new o(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};m.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};m.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(r[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType());var s=this.getYears();if(e){var n=new o(this._oMaxDate,this._getPrimaryCalendarType());n.setYear(n.getYear()-s+1);if(i.isBefore(n)){i.setYear(i.getYear()+s);if(i.isAfter(n)){t=t+(i.getYear()-n.getYear());if(t>s-1){t=s-1}i=new o(this._oMaxDate,this._getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(i.isAfter(this._oMinDate)){i.setYear(i.getYear()-s);if(i.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-i.getYear());if(t<0){t=0}i=new o(this._oMinDate,this._getPrimaryCalendarType())}}else{return}}i.setYear(i.getYear()+Math.floor(s/2));this._iSelectedIndex=t;this.setProperty("_middleDate",i);if(a){this.firePageChange()}};m.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=jQuery(t[e]),r=a.attr("data-sap-year-start"),i=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType()),s=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",i.getYear(),h);this.setProperty("date",i.toLocalJSDate(),h);if(!s){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",s)}!this.getIntervalSelection()&&s.setStartDate(i.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!s.getStartDate()){s.setStartDate(i.toLocalJSDate(),h)}else if(!s.getEndDate()){l=o.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());if(i.isBefore(l)){s.setEndDate(l.toLocalJSDate(),h);s.setStartDate(i.toLocalJSDate(),h)}else{s.setEndDate(i.toLocalJSDate(),h)}}else{s.setStartDate(i.toLocalJSDate(),h);s.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=jQuery(t[d]);r=a.attr("data-sap-year-start");var g=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType());var p=this._isYearSelected(g);var c=this._isYearInsideSelectionRange(g);if(p){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(c){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!p&&!c){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};m.prototype._isSelectionInProgress=function(){const e=this._getShowSelectedRange();const t=this._getSelectedDates()[0];if(!t){return false}return e&&t.getStartDate()&&!t.getEndDate()};function _(){var e=this.getProperty("_middleDate")||(this.getDate()?o.fromLocalJSDate(this.getDate(),this._getPrimaryCalendarType()):this._getDate()),t=this.getDomRef(),a=this.$().find(".sapUiCalItem"),r,n,l,h;for(h=0;h<a.length;++h){n=a[h].getAttribute("data-sap-year-start");l=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(n),this._getPrimaryCalendarType());if(l.isSame(e)){r=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,f,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(a);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(s._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(r)}this._oItemNavigation.setPageSize(a.length)}function f(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],i=this._getSelectedDates()[0],s,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!i){return}if(i.getStartDate()){s=o.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(l),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(s,n)}}}function D(e){f.call(this,e)}m.prototype._handleMousedown=function(e,t){if(e.button||r.support.touch&&!r.system.combi){return}var a=this._selectYear(t);if(a){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function S(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),i=this.getColumns(),s=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(s&&s.getStartDate()){l=o.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(i===0){i=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===u.ARROW_DOWN&&i<r){d=n[a-r+i].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a-r+i,true);this._iSelectedIndex=a-r+i}else{d=n[0].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===u.ARROW_UP&&i<r){d=n[r-i+a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-i+a,true);this._iSelectedIndex=r-i+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=o.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}m.prototype._isYearSelected=function(e){const t=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(t&&t.length)){return false}const r=t[0];const i=r.getStartDate();const s=r.getEndDate();if(a&&i&&s){const t=o.fromLocalJSDate(i,this._getPrimaryCalendarType());const a=o.fromLocalJSDate(s,this._getPrimaryCalendarType());return e.getYear()===t.getYear()||e.getYear()===a.getYear()}const n=t=>{const a=t.getStartDate();if(!a){return false}const r=o.fromLocalJSDate(a,this._getPrimaryCalendarType());return e.getYear()===r.getYear()};if(this.getProperty("_singleSelection")){return n(r)}return t.some(n)};m.prototype._isYearInsideSelectionRange=function(e){const t=this.getSelectedDates();const a=this._getShowSelectedRange();if(!(t&&t.length)){return false}const r=t[0];if(!r){return false}if(a){const t=r.getStartDate();const a=r.getEndDate();if(!t||!a){return false}const i=o.fromLocalJSDate(t,this._getPrimaryCalendarType());const n=o.fromLocalJSDate(a,this._getPrimaryCalendarType());i.setMonth(0,1);n.setMonth(0,1);return s._isBetween(e,i,n,true)}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer", ["sap/ui/core/Lib","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i,l){"use strict";var s={apiVersion:2};s.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};s.getAccessibilityState=function(t){return{role:"grid",readonly:"true",multiselectable:t.getIntervalSelection(),roledescription:e.getResourceBundleFor("sap.ui.unified").getText("YEAR_PICKER"),describedby:t._bCalendar?l.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};s.renderCells=function(e,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new t(s,l.getPrimaryCalendarType()),d=a._minDate(l.getProperty("primaryCalendarType")).getYear(),o=a._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),g=l.getColumns(),y=l._getSecondaryCalendarType(),u="",f=false,C=l._getLocaleData(),S,m,_,D,Y,T;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(g>0){u=100/g+"%"}else{u=100/c+"%"}for(T=0;T<c;T++){Y=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};f=l._checkDateEnabled(n);if(g>0&&T%g==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",p+"-y"+Y);e.class("sapUiCalItem");m=l._isYearSelected(n);_=l._isYearInsideSelectionRange(n);if(m){e.class("sapUiCalItemSel");D["selected"]=true}if(_&&!m){e.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!f){e.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(r.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(y){var b=l._getDisplayedSecondaryDates(n),v=i.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(b.start.getYear()===b.end.getYear()){I=v.format(b.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(b.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(b.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}e.attr("tabindex","-1");e.attr("data-sap-year-start",Y);e.style("width",u);e.accessibilityState(null,D);e.openEnd();e.text(S);if(y){e.openStart("div",p+"-y"+Y+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(I);e.close("div")}e.close("div");n.setYear(n.getYear()+1);if(g>0&&(T+1)%g==0){e.close("div")}}};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePicker", ["./YearPicker","./YearRangePickerRenderer","./CalendarDate","./CalendarUtils","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var s=e.extend("sap.ui.unified.calendar.YearRangePicker",{metadata:{library:"sap.ui.unified",properties:{years:{type:"int",group:"Appearance",defaultValue:9},columns:{type:"int",group:"Appearance",defaultValue:3},rangeSize:{type:"int",group:"Appearance",defaultValue:20}}},renderer:t});s.prototype.setDate=function(e){var t,s,i,n,o;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);t=a.fromLocalJSDate(e,this._getPrimaryCalendarType());t.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",t.getYear());this._oDate=t;i=this.getYears();o=Math.floor(i/2);n=new a(this._oDate,this._getPrimaryCalendarType());n=this._checkFirstDate(n);this._iSelectedIndex=o;this.setProperty("_middleDate",n);return this};s.prototype._checkFirstDate=function(e){var t=this.getYears();var s=new a(this._oMaxDate,this._getPrimaryCalendarType());const i=t*this.getRangeSize();if(!s.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}if(this.getColumns()%2===0){s.setYear(s.getYear()-i/2+1)}else{Math.floor(t/2)*this.getRangeSize()+1-Math.floor(this.getRangeSize()/2)}if(e.isAfter(s)&&e.getYear()!=s.getYear()){e=new a(s,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new a(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};s.prototype._updatePage=function(e,t,r){const s=this._oItemNavigation.getItemDomRefs();const i=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(s[0].getAttribute("data-sap-year-start")),this._getPrimaryCalendarType());const n=this.getYears();const o=this.getRangeSize();const h=new a(i,this._getPrimaryCalendarType());const g=n*o;const l=this.getColumns()%2===0?g/2:Math.floor(n/2)*o+Math.floor(o/2);let y;if(e){const e=new a(this._oMaxDate,this._getPrimaryCalendarType());e.setYear(e.getYear()-g+1);if(i.isBefore(e)){h.setYear(i.getYear()+g);const t=new a(h,this._getPrimaryCalendarType());t.setYear(h.getYear()+g);if(t.isAfter(e)){h.setYear(e.getYear())}y=new a(h,this._getPrimaryCalendarType());y.setYear(h.getYear()+l)}else{return}}else{if(i.isAfter(this._oMinDate)){const e=new a(this._oMinDate,this._getPrimaryCalendarType());h.setYear(i.getYear()-g);if(h.isBefore(e)){h.setYear(e.getYear())}y=new a(h,this._getPrimaryCalendarType());y.setYear(h.getYear()+l)}else{return}}this._iSelectedIndex=t;this.setProperty("_middleDate",y);if(r){this.firePageChange()}};s.prototype._checkDateEnabled=function(e,t){if(r._isBetween(this._oMinDate,e,t,true)||r._isBetween(this._oMaxDate,e,t,true)||this._oMinDate.isBefore(e)&&this._oMaxDate.isAfter(t)){return true}return false};s.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),r=jQuery(t[e]),s=r.attr("data-sap-year-start"),i=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(s),this._getPrimaryCalendarType());if(r.hasClass("sapUiCalItemDsbl")){return false}this.setProperty("date",i.toLocalJSDate());this.setProperty("year",i.getYear());return true};s.prototype._isYearSelected=function(e){const t=this.getSelectedDates();const s=this._getShowSelectedRange();if(!(t&&t.length)){return false}const i=new a(e,this.getPrimaryCalendarType());i.setYear(i.getYear()+this.getRangeSize()-1);i.setMonth(0,1);const n=t[0];const o=n.getStartDate();const h=n.getEndDate();if(s&&o&&h){const t=a.fromLocalJSDate(o,this._getPrimaryCalendarType());t.setMonth(0,1);const s=a.fromLocalJSDate(h,this._getPrimaryCalendarType());s.setMonth(0,1);return r._isBetween(t,e,i,true)||r._isBetween(s,e,i,true)}const g=t=>{const s=t.getStartDate();if(!s){return false}const n=a.fromLocalJSDate(s,this._getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(n,e,i,true)){return true}return false};if(this.getProperty("_singleSelection")){return g(n)}return t.some(g)};s.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),r=new a(e,e.getCalendarType()),s=new a(e,e.getCalendarType());r.setMonth(0,1);r=new a(r,t);s.setYear(s.getYear()+this.getRangeSize());s.setMonth(0,1);s.setDate(s.getDate()-1);s=new a(s,t);return{start:r,end:s}};s.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8);this.setRangeSize(8)}return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePickerRenderer", ["sap/ui/core/Lib","sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,l,i,n){"use strict";var s=t.extend(a);s.apiVersion=2;s.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:e.getResourceBundleFor("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};s.renderCells=function(e,t){var a=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),s=new r(a,t.getPrimaryCalendarType()),o=new r(s,t.getPrimaryCalendarType()),d=n._minDate(t.getProperty("primaryCalendarType")).getYear(),g=n._maxDate(t.getProperty("primaryCalendarType")).getYear(),c,p="",y="",f="",u=t.getId(),m=t.getColumns(),Y=t.getYears(),S=t._getSecondaryCalendarType(),C=t._getLocaleData(),D=C.getIntervalPattern(),_="",T,I,R,U,b;if(t.getColumns()%2!==0){o.setYear(o.getYear()-Math.floor(t.getRangeSize()/2));o.setYear(o.getYear()-Math.floor(Y/2)*t.getRangeSize())}else{o.setYear(o.getYear()-Y/2*t.getRangeSize())}if(o.getYear()<d){o.setYear(d)}else if(o.getYear()>g-Y){o.setYear(g-Math.floor(Y)*t.getRangeSize()+1)}c=new r(o,t.getPrimaryCalendarType());c.setYear(c.getYear()+t.getRangeSize()-1);if(m>0){_=100/m+"%"}else{_=100/Y+"%"}for(b=0;b<Y;b++){U=t._oFormatYyyymmdd.format(o.toUTCJSDate(),true);R={role:"gridcell"};if(m>0&&b%m==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",u+"-y"+U);e.class("sapUiCalItem");T=t._isYearSelected(o);I=t._isYearInsideSelectionRange(o);if(T){e.class("sapUiCalItemSel");R["selected"]=true}if(I&&!T){e.class("sapUiCalItemSelBetween");R["selected"]=true}if(!T&&!I){R["selected"]=false}if(!t._checkDateEnabled(o,c)){e.class("sapUiCalItemDsbl");R["disabled"]=true}p=t._oYearFormat.format(i.getInstance(o.toUTCJSDate(),o.getCalendarType()),true);y=t._oYearFormat.format(i.getInstance(c.toUTCJSDate(),c.getCalendarType()),true);f=D.replace(/\{0\}/,p).replace(/\{1\}/,y);R["label"]=f;if(S){var v=t._getDisplayedSecondaryDates(o),P=l.getDateInstance({format:"y",calendarType:t.getSecondaryCalendarType()}),x;if(v.start.getYear()===v.end.getYear()){x=P.format(v.start.toUTCJSDate(),true)}else{x=D.replace(/\{0\}/,P.format(v.start.toUTCJSDate(),true)).replace(/\{1\}/,P.format(v.end.toUTCJSDate(),true))}R["label"]=R["label"]+" "+x}e.attr("tabindex","-1");e.attr("data-sap-year-start",U);e.style("width",_);e.accessibilityState(null,R);e.openEnd();if(n._isBetween(t._oDate,o,c,true)){t._iSelectedIndex=b}e.text(f);if(S){e.openStart("div",u+"-y"+U+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(x);e.close("div")}e.close("div");if(m>0&&(b+1)%m==0){e.close("div")}o.setYear(c.getYear()+1);c.setYear(c.getYear()+t.getRangeSize())}};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/base/Object","sap/ui/base/DataType","sap/ui/core/Lib","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/RenderManager","sap/ui/core/library"],function(e,i,n,a,t,r){"use strict";var d=n.init({name:"sap.ui.unified",apiVersion:2,version:"1.141.0",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IMenuItem","sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuItemGroup","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.NonWorkingPeriod","sap.ui.unified.RecurringNonWorkingPeriod","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem","sap.ui.unified.TimeRange"],extensions:{"sap.ui.support":{publicRules:true}}});d.CalendarDayType={None:"None",NonWorking:"NonWorking",Working:"Working",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};i.registerEnum("sap.ui.unified.CalendarDayType",d.CalendarDayType);d.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};i.registerEnum("sap.ui.unified.StandardCalendarLegendItem",d.StandardCalendarLegendItem);d.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};i.registerEnum("sap.ui.unified.CalendarIntervalType",d.CalendarIntervalType);d.RecurrenceType={Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"};i.registerEnum("sap.ui.unified.RecurrenceType",d.RecurrenceType);d.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};i.registerEnum("sap.ui.unified.CalendarAppointmentHeight",d.CalendarAppointmentHeight);d.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};i.registerEnum("sap.ui.unified.CalendarAppointmentRoundWidth",d.CalendarAppointmentRoundWidth);d.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};i.registerEnum("sap.ui.unified.GroupAppointmentsMode",d.GroupAppointmentsMode);d.FileUploaderHttpRequestMethod=t;d.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};i.registerEnum("sap.ui.unified.CalendarAppointmentVisualization",d.CalendarAppointmentVisualization);d.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};i.registerEnum("sap.ui.unified.ContentSwitcherAnimation",d.ContentSwitcherAnimation);d.ColorPickerMode={HSV:"HSV",HSL:"HSL"};i.registerEnum("sap.ui.unified.ColorPickerMode",d.ColorPickerMode);d.ColorPickerDisplayMode=a;d._ContentRenderer=e.extend("sap.ui.unified._ContentRenderer",{constructor:function(i,n,a,t){e.apply(this);this._id=n;this._cntnt=a;this._ctrl=i;this._rm=(new r).getInterface();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});d._iNumberOfOpenedShellOverlays=0;d.calendar=d.calendar||{};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/NWBCInterface", ["sap/ushell/EventHub","sap/ushell/Config"],(e,s)=>{"use strict";const t={};t.notifyUserActivity=function(){e.emit("nwbcUserIsActive",Date.now())};t.getSessionTimeoutMinutes=function(){let e=0;if(s.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){e=s.last("/core/shell/sessionTimeoutIntervalInMinutes")}return e};t.isAnyAppKeptAlive=function(){return new Promise(e=>{sap.ui.require(["sap/ushell/appIntegration/KeepAliveApps"],s=>{e(s.length()>0)})})};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],e=>{"use strict";const r={_servicePromises:{},createServiceFactory:function(r){const i=this._servicePromises;const s=e.extend(`sap.ushell.ui5Service.${r}Factory`,{createInstance:function(){let e=i[r];if(!e){e=new Promise((e,i)=>{sap.ui.require([`sap/ushell/ui5service/${r}`],s=>{if(!s){i(new Error(`Failed to load UI5 service ${r}`))}const c=new s;e(c)},()=>{i(new Error(`Failed to load UI5 service ${r}`))})});i[r]=e}return e}});return new s}};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UserActivityLog", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/EventHub","sap/ushell/ui/launchpad/Tile","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/Container","sap/ushell/state/StateManager"],(e,t,s,i,a,n,o,r,l,g,u)=>{"use strict";function c(){}c.prototype={_maxLoggedMessages:50,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroupAt","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","addBookmarkTile"],_observedGeneralActions:["openApp"],_observedEventHubEvents:["showCatalog"],_aDoables:[],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(){if(this._isActive){return}this._isActive=true;const t=i.getInstance();this._observedLaunchpadActions.forEach(e=>{t.subscribe("launchpad",e,this._handleAction,this)});t.subscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach(e=>{t.subscribe(e,this._handleAction,this)});this._observedEventHubEvents.forEach(e=>{this._aDoables.push(n.on(e).do(this._handleActionEventHub.bind(this)))});e.addLogListener(this);this._tileOntapOrigFunc=o.prototype.ontap;o.prototype.ontap=this._tileOnTapDecorator(this._tileOntapOrigFunc)},deactivate:function(){if(!this._isActive){return}this._isActive=false;const t=i.getInstance();this._observedLaunchpadActions.forEach((e,s,i)=>{t.unsubscribe("launchpad",e,this._handleAction,this)});t.unsubscribe("sap.ushell","appOpened",this._handleAction,this);this._observedGeneralActions.forEach((e,s,i)=>{t.unsubscribe(e,this._handleAction,this)});this._aDoables.forEach(e=>{e.off()});this._aDoables=[];e.removeLogListener(this);o.prototype.ontap=this._tileOntapOrigFunc},addMessage:function(e,t,s){if(this._isActive){this._addMessageInternal(e,t,s)}},getLog:function(){return this._getLoggingQueueFromStorage()},getMessageInfo:function(){return{userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:r.getFormFactor()}},getMessageInfoAsString:function(e){return JSON.stringify(this.getMessageInfo(e))},onLogEntry:function(e){if(e.level<=2){let t=e.message;if(typeof e.details!=="undefined"&&e.details!==""){t=`${t}, ${e.details}`}this.addMessage(this.messageType.ERROR,t)}},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(e){const t=this;return function(){if(this.isA("sap.ushell.ui.launchpad.PlusTile")){t.addMessage(t.messageType.ACTION,`Open Catalog for empty group ${this.getGroupId()}`)}else if(this.isA("sap.ushell.ui.launchpad.Tile")){let e=a.getHash();if(e){const t=l.parseShellHash(e);e=`#${l.constructShellHash({target:{semanticObject:t.semanticObject,action:t.action}})}`}const i=t._getLastNavActionFromStorage();i.time=new Date;i.navigationHash=e;i.tileDebugInfo=this.getDebugInfo();const n=s.getElementById(this.getId());const o=n.getModel();const r=this.getBindingContext();const g=r.getPath();i.tileTitle=r.getModel().getProperty(g).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(i));t.addMessage(t.messageType.ACTION,`Click on Tile: ${o.getData().title} Tile debugInfo: ${this.getDebugInfo()}`)}e.apply(this,arguments)}},_addMessageInternal:function(e,s,i){const a=this._getLoggingQueueFromStorage();const n={type:null};for(const t in this.messageType){if(e===this.messageType[t]){n.type=t;break}}if(n.type===null){return}t(n,{messageID:i,messageText:s,time:new Date,toString:function(){const e=[this.type,this.time];if(typeof this.messageID!=="undefined"){e.push(this.messageID)}e.push(this.messageText);return e.join(" :: ")}});a.push(n);if(a.length>this._maxLoggedMessages){a.shift()}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(a))},_handleActionEventHub:function(e){this._handleAction("",e.sId,e.oData)},_handleAction:function(e,t,s){let i;switch(t){case"deleteTile":i=`Delete Tile ${s.tileId||""}`;break;case"moveTile":i=`Move Tile ${s.sTileId||""} to Group ${s.toGroupId||""}`;break;case"createGroupAt":i="Create Group";break;case"changeGroupTitle":i=`Change Group Title of ${s.groupId||""} to ${s.newTitle||""}`;break;case"deleteGroup":i=`Delete Group ${s.groupId||""}`;break;case"addTile":const e=s.catalogTileContext.oModel;const t=s.catalogTileContext.sPath;const a=e.getProperty(t);const n=a&&a.id||"";const o=s.groupContext.getObject();const r=o&&o.id||"";i=`Add Tile ${n} to Group ${r}`;break;case"moveGroup":i=`Move Group from index ${s.fromIndex||""} to index ${s.toIndex||""}`;break;case"appOpened":i=`Open application ${s.action}`;const l=this._getLastNavActionFromStorage();l.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(e=>{l.applicationInformation[e]=s[e]});if(!this._hashSegmentsEqual(l.navigationHash,s.sShellHash)){l.tileDebugInfo=""}l.navigationHash=s.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case"addBookmarkTile":i=`Add Bookmark ${s.title||""} ${s.subtitle||""} for URL: ${s.url||""}`;break;case"showCatalog":i="Show Catalog";break;default:break}this.addMessage(this.messageType.ACTION,i)},_getUserDetails:function(){const e=g.getUser();return{fullName:e.getFullName()||"",userId:e.getId()||"",eMail:e.getEmail()||"",Language:e.getLanguage()||""}},_getShellState:function(){const e=u.getShellMode()||"default";return`${e}-${u.getLaunchpadState()}`},_getLoggingQueueFromStorage:function(){const e=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");let t=[];if(e){try{t=JSON.parse(e)}catch{}}return t},_getLastNavActionFromStorage:function(){const e=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return e?JSON.parse(e):{}},_hashSegmentsEqual:function(e,t){if(!e||!t){return false}return this._getHashSegment(e)===this._getHashSegment(t)},_getHashSegment:function(e){let t=e.split("~");if(t.length>1){return t[0]}t=e.split("?");if(t.length>1){return t[0]}return e},_getFromSessionStorage:function(e){let t=null;try{t=sessionStorage.getItem(e)}catch{}return t},_putInSessionStorage:function(e,t){try{sessionStorage.setItem(e,t)}catch{}}};const h=new c;return h});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/StaticGroupsAdapter", ["sap/ushell/adapters/cdm/v3/AdapterBase"],t=>{"use strict";function e(e,o,r){t.call(this,e,o,r)}e.prototype=t.prototype;e.prototype._addDefaultGroup=function(t,e){return t};e.prototype._getSiteData=function(){return Promise.resolve(this.oAdapterConfiguration.config)};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readPages", ["sap/base/util/ObjectPath","sap/base/util/values"],(e,t)=>{"use strict";const s={};s.getVisualizationReferences=function(s){let a;const i=[];const n=e.get("payload.sections",s)||{};t(n).forEach(t=>{a=e.get("layout.vizOrder",t)||[];a.forEach(e=>{if(t.viz[e]){i.push(t.viz[e])}})});return i};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cep/SearchCEPAdapter", ["sap/ui/core/Lib","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ushell/Container"],(e,t,i,r,o)=>{"use strict";function n(e,t,i){}n.prototype.search=function(e){return this._searchWithSearchableContentAndJsSearch(e)};n.prototype._searchWithSearchableContentAndJsSearch=function(e){return Promise.all([this._getNormalizedSearchableContentApps(e),this._loadJsSearchModule()]).then(t=>{const i=t[0];const r=t[1];const o=new r({objects:i,fields:["title","label","contentProviderLabel","description","keywords","fioriAppId"],shouldNormalize:!String.prototype.normalize,algorithm:{id:"contains-ranked",options:[50,49,40,39,5,4,51]}});const n={searchFor:e?.searchTerm||"*",top:Number.MAX_SAFE_INTEGER,skip:0};const s=o.search(n);const a=s.results.map(e=>e.object);return this._getPaginatedResult(this._applyFiltersAndSorter(a,e.filter,e.sort),e.skip||0,e.top||10)})};n.prototype._getPaginatedResult=function(e,t,i){return{data:e.slice(t,t+i),count:e.length}};n.prototype._getSearchableContent=function(e){const t=e&&{includeAppsWithoutVisualizations:!!e.includeAppsWithoutVisualizations,enableVisualizationPreview:e.enableVisualizationPreview!==false};return o.getServiceAsync("SearchableContent").then(e=>e.getApps(t))};n.prototype._getNormalizedSearchableContentApps=function(e){return this._getSearchableContent(e).then(e=>this._normalizeSearchableContentServiceResult(e))};n.prototype._normalizeSearchableContentServiceResult=function(e){if(!Array.isArray(e)){e=[]}const t=[];let i;let r;let o;let n;let s;e.forEach(e=>{if(e.visualizations&&e.visualizations.length>0){e.visualizations.forEach(a=>{i=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].title||a.title||e.title;r=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].subTitle||a.subtitle||e.subtitle;o=a.vizConfig&&a.vizConfig["sap.app"]&&a.vizConfig["sap.app"].description||a.description||e.description;s=a?.vizConfig?.["sap.fiori"]?.registrationIds||[];n=r?`${i} - ${r}`:i;t.push({fioriAppId:s.join(" "),title:i,description:r,longDescription:o||"",keywords:Array.isArray(a.keywords)?a.keywords.join(" "):"",icon:a.icon||"",label:n,contentProviderLabel:a.contentProviderLabel||"",visualization:a,url:a.targetURL,technicalAttributes:Array.isArray(e.technicalAttributes)?e.technicalAttributes.join(" "):""})})}else{i=e.title;r=e.subtitle;n=r?`${i} - ${r}`:i;t.push({title:i,description:r,longDescription:e.description||"",keywords:Array.isArray(e.keywords)?e.keywords.join(" "):"",icon:e.icon||"",label:n,url:e.targetURL,technicalAttributes:Array.isArray(e.technicalAttributes)?e.technicalAttributes.join(" "):""})}});return t};n.prototype._loadJsSearchModule=function(){this._loadJsSearchModulePromise=new Promise(t=>{e.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/appsearch/JsSearch"],e=>{t(e)})})});return this._loadJsSearchModulePromise};n.prototype._createFilters=function(e){let t=null;if(e){if(typeof e==="object"){if(Array.isArray(e.filters)){e.filters=e.filters.map(e=>e instanceof i?e:new i(e))}t=[e instanceof i?e:new i(e)]}}return t};n.prototype._createSorters=function(e){let t=null;if(e){if(typeof e==="object"&&!Array.isArray(e)){e=[e]}if(Array.isArray(e)){t=e.map(e=>e instanceof r?e:new r(e))}}return t};n.prototype._applyFiltersAndSorter=function(e,i,r){if(!i&&!r){return e}const o=this._createFilters(i);const n=this._createSorters(r);const s=new t;s.setSizeLimit(Number.MAX_SAFE_INTEGER);s.setData(e);return s.bindList("/",null,n,o).getContexts().map(e=>e.getObject())};return n},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/DWS", ["sap/ushell/appIntegration/ApplicationContainerCache","sap/ushell/appIntegration/AppLifeCycle"],(e,t)=>{"use strict";const r={};r.getCurrentApplicationIframe=function(){const e=t.getCurrentApplication()?.container;if(!e){return null}const r=e.getPostMessageTarget();if(!r){return null}return{iframe:r,origin:e.getPostMessageTargetOrigin()}};r.getAllApplicationIframes=function(){const t=e.getAll();return t.filter(e=>{if(!e){return false}if(!e.isA("sap.ushell.appIntegration.IframeApplicationContainer")){return false}if(!e.getPostMessageTarget()){return false}return true}).map(e=>({iframe:e.getPostMessageTarget(),origin:e.getPostMessageTargetOrigin()}))};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/S4MyHome", ["sap/ui/base/EventProvider","sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ushell/Container","sap/ushell/utils","sap/ushell/resources"],(e,t,i,s,a)=>{"use strict";const h="home";const o="Shell-home";const r=t.getInstance();class n{#e;#t=false;#i=new e;#s(){if(this.#t){return}this.#t=true;this.#e=s.getRendererInternal("fiori2").getRouter();this.#e.attachRouteMatched(this.#a.bind(this));r.subscribe("sap.ushell","navigated",this.#h,this)}#a(e){const t=e.getParameter("name")===h;this.#i.fireEvent("routeMatched",{isMyHomeRoute:t})}#h(){const e=i.getHash();const t=e===o;const s=this.#e.match(e);if(!t&&!s){this.#i.fireEvent("routeMatched",{isMyHomeRoute:false})}}attachRouteMatched(...e){this.#s();this.#i.attachEvent("routeMatched",...e)}detachRouteMatched(...e){this.#s();this.#i.detachEvent("routeMatched",...e)}formatDate(e){return a.formatDate(e)}reset(){r.unsubscribe("sap.ushell","navigated",this.#h,this);this.#i.destroy();this.#i=new e;this.#t=false;this.#e=null}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/SAPBusinessClient", ["sap/base/util/deepExtend","sap/ushell/Container","sap/ushell/services/NavTargetResolutionInternal","sap/ushell/state/ShellModel","sap/ushell/utils","sap/ushell/utils/UrlParsing"],(e,t,s,a,r,l)=>{"use strict";class n{getTheme(){const e=t.getUser();return e.getTheme(e.constants.themeFormat.THEME_NAME_PLUS_URL)}async resolveNavigationTarget(s){const a=e({},s);const n=l.constructShellHash(a);const o=await t.getServiceAsync("NavTargetResolutionInternal");const u=await r.promisify(o.resolveHashFragment(`#${n}`));return{url:u.url,text:u.text}}getLogo(){return a.getModel().getProperty("/header/logo/src")}}return new n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/workpage/Designtime", ["sap/ushell/utils/workpage/WorkPageVizInstantiation","sap/base/util/extend"],(t,e)=>{"use strict";class i{static#t;_oWorkPageVizInstantiation;_bPreviewMode;static async getInstance(){if(!i.#t){const e=await t.getInstance();i.#t=new i(e)}return i.#t}constructor(t){this._oWorkPageVizInstantiation=t;this._bPreviewMode=true}createVizInstance(t){const i=e({},t,{preview:this._bPreviewMode});return this._oWorkPageVizInstantiation.createVizInstance(i)}createTileCardConfiguration(t){const i=e({},t,{preview:this._bPreviewMode});return this._oWorkPageVizInstantiation.createTileCardConfiguration(i)}}return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/api/workpage/Runtime", ["./Designtime","sap/ushell/utils/workpage/WorkPageVizInstantiation","sap/ushell/utils/workpage/WorkPageService","sap/ushell/utils/workpage/WorkPageHost","sap/ushell/EventHub"],(e,t,s,n,a)=>{"use strict";class i extends e{static#e;_oWorkPageService;static async getInstance(){if(!i.#e){const e=await t.getInstance();i.#e=new i(e,new s)}return i.#e}constructor(e,t){super(e);this._oWorkPageService=t;this._bPreviewMode=false}fetchPageData(e){return this._oWorkPageService.loadWorkPageAndVisualizations(e,true)}fireAfterContentAdded(){a.emit("CenterViewPointContentRendered")}createHost(e,t){return new n(e,t)}}return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/generic", ["sap/ui/core/mvc/Controller","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/ushell/components/tiles/sbtilecontent","sap/m/library","sap/ui/core/format/DateFormat","sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/base/Log"],(e,i,t,l,a,s,o,n,jQuery,r)=>{"use strict";const u=a.DeviationIndicator;const c=a.ValueColor;const T=a.FrameType;const h=a.LoadState;const g=e.extend("sap.ushell.components.tiles.generic",{getTile:function(){return this.oKpiTileView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});r.error(e);if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject()}else{this.oKpiTileView.oGenericTile.setState(h.Failed)}},getKeyForCallCheck:function(){if(this.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){return`${this.oConfig.TILE_PROPERTIES.id}left`}return`${this.oConfig.TILE_PROPERTIES.id}right`},getRelativeTime:function(){let e=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();let i;if(this.cacheTime instanceof Date){i=this.cacheTime}else{i=new Date(parseInt(this.cacheTime.substr(6),10))}const t=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(e-i);let l;let a;switch(t.unit){case"minutes":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"minutes");e=e-a;l=new Date(e);break;case"hours":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"hours");e=e-a;l=new Date(e);break;case"days":a=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(t.time,"days");e=e-a;l=new Date(e);break}return l},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;const e=s.getDateTimeInstance({relative:true,relativeSource:"auto",style:"short"});const i=e.format(this.getRelativeTime());this.oKpiTileView.oNVConfS.setRefreshOption(true);this.oKpiTileView.oNVConfS.setTimestamp(i);this.updateTimeStampjobScheduled=false;const t=`${this.oConfig.TILE_PROPERTIES.id}time`;let l=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(t);if(l){clearTimeout(l);l=undefined}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible())},isACurrencyMeasure:function(e){const i=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;return sap.ushell.components.tiles.indicatorTileUtils.util.getFormattingMetadata(this.oRunTimeODataModel,i,e)._hasCurrency},isCurrencyMeasure:function(e){const i=this;const t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(i.oConfig.TILE_PROPERTIES.id);if(t&&t.Data){let l=t.Data&&JSON.parse(t.Data);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(i.oConfig)){if(i.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){l=l.leftData}else{l=l.rightData}}if(i.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"||i.oConfig.TILE_PROPERTIES.tileType==="CM"){if(l&&l.data&&l.data.length){for(let t=0;t<l.data.length;t++){if(l.data[t]&&l.data[t].measure==e){if(typeof l.data[t].isCurM==="boolean"){return l.data[t].isCurM}return i.isACurrencyMeasure(e)}return i.isACurrencyMeasure(e)}}else{return i.isACurrencyMeasure(e)}}if(l&&typeof l.isCurM==="boolean"){return l.isCurM}return i.isACurrencyMeasure(e)}return i.isACurrencyMeasure(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t=`${t},${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){const t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e.oConfig.TILE_PROPERTIES.id);switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);i.criticalHighValue=Number(t.Data.ch);i.warningHighValue=Number(t.Data.wh);t.Data=JSON.stringify(t.Data)}break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.criticalLowValue=Number(t.Data.cl);i.warningLowValue=Number(t.Data.wl);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);t.Data=JSON.stringify(t.Data)}break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);if(t&&t.Data&&t.Data.length){t.Data=JSON.parse(t.Data);i.criticalLowValue=Number(t.Data.cl);i.warningLowValue=Number(t.Data.wl);i.trendValue=Number(t.Data.trend);i.targetValue=Number(t.Data.target);i.criticalHighValue=Number(t.Data.ch);i.warningHighValue=Number(t.Data.wh);t.Data=JSON.stringify(t.Data)}break}}else if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED")}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},setNoData:function(){const e=this.getView().getViewData();if(e.parentController){e.parentController.setNoData();if(e.deferredObj){e.deferredObj.resolve()}}else{try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(h.Loaded)}catch(e){}}},getLocalCache:function(e){const i={};i.ChipId=e.ChipId;i.Data=e.Data;i.CacheMaxAge=e.CacheMaxAgeUnit;i.CacheMaxAgeUnit=e.CacheMaxAgeUnit;i.CacheType=e.CacheType;i.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return i},fetchKpiValue:function(e,i,t,l){const a=this;let s=0;try{const o=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const n=this.setThresholdValues();const u=n.fullyFormedMeasure;const c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);const h=a.oTileApi.configuration.getParameterValueAsString("timeStamp");const g=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(a.oConfig.TILE_PROPERTIES.id,h,a.chipCacheTime,a.chipCacheTimeUnit,a.tilePressed);const p=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(t);const d=this.getKeyForCallCheck();let m=true;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){m=sap.ushell.components.tiles.indicatorTileUtils.util.isCallInProgress(d);if(m==undefined){m=true}}if(m){let t;if(!c||!g&&a.oTileApi.visible.isVisible()||p||l&&a.oTileApi.visible.isVisible()||a.getView().getViewData().refresh){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,false);if(a.kpiValueFetchDeferred){a.kpiValueFetchDeferred=false;const t=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);const l=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(a.oRunTimeODataModel,o,u,null,t);if(l){this.QUERY_SERVICE_MODEL=l.model;this.queryUriForKpiValue=l.uri;this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(l.uri,null,null,true,i=>{a.backEndCallMade=true;a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);if(i&&i.results&&i.results.length&&i.results[0][a.DEFINITION_DATA.EVALUATION.COLUMN_NAME]!=null){s=i.results[0][a.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const t={};if(l.unit[0]){a._updateTileModel({unit:i.results[0][l.unit[0].name]});t.uom=i.results[0][l.unit[0].name]}if(a.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){t.numericValue=s}else{t.value=s}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=i.results[0][n.sCriticalHigh];n.criticalLowValue=i.results[0][n.sCriticalLow];n.warningHighValue=i.results[0][n.sWarningHigh];n.warningLowValue=i.results[0][n.sWarningLow];n.targetValue=i.results[0][n.sTarget];n.trendValue=i.results[0][n.sTrend]}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(i.results[0][n.sTarget]);n.criticalHighValue=n.targetValue*n.criticalHighValue/100;n.criticalLowValue=n.targetValue*n.criticalLowValue/100;n.warningHighValue=n.targetValue*n.warningHighValue/100;n.warningLowValue=n.targetValue*n.warningLowValue/100;n.trendValue=Number(i.results[0][n.sTrend])}t.cl=n.criticalLowValue;t.ch=n.criticalHighValue;t.wl=n.warningLowValue;t.wh=n.warningHighValue;t.trend=n.trendValue;t.target=n.targetValue;t.isCurM=a.isCurrencyMeasure(a.oConfig.EVALUATION.COLUMN_NAME);const o={};o.ChipId=a.oConfig.TILE_PROPERTIES.id;o.Data=JSON.stringify(t);o.CacheMaxAge=Number(a.chipCacheTime);o.CacheMaxAgeUnit=a.chipCacheTimeUnit;o.CacheType=1;const r=a.getLocalCache(o);if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,r);let e=false;if(c){e=true}if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(a.oTileApi,a.oConfig.TILE_PROPERTIES.id,o,e,e=>{if(e){a.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e);a.setTimeStamp(a.cacheTime)}if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let i;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}i=e.Data;if(i){i=JSON.parse(i);if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){i.leftData=t}else{i.rightData=t}}e.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e)}else{i={};if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){i.leftData=t}else{i.rightData=t}r.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,r)}a.cacheWriteData=t}a.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();a.updateDatajobScheduled=false;const u=`${a.oConfig.TILE_PROPERTIES.id}data`;let T=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(u);if(T){clearTimeout(T);T=undefined}e.call(a,s,n)}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,{empty:"empty"});a.setNoData()}},e=>{a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);if(e&&e.response){r.error(`${e.message} : ${e.request.requestUri}`);i.call(a,e)}})}else{a.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(d,true);a.logError("Error Preparing Query Service URI")}}}else if(a.DEFINITION_DATA.TILE_PROPERTIES.frameType==T.OneByOne){if(c&&c.Data){t=c.Data&&JSON.parse(c.Data);s=t.value;if(t.uom){a._updateTileModel({unit:t.uom})}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=t.ch;n.criticalLowValue=t.cl;n.warningHighValue=t.wh;n.warningLowValue=t.wl;n.targetValue=t.target;n.trendValue=t.trend}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(t.target);n.criticalHighValue=n.targetValue*n.ch/100;n.criticalLowValue=n.targetValue*n.cl/100;n.warningHighValue=n.targetValue*n.wh/100;n.warningLowValue=n.targetValue*n.wl/100;n.trendValue=Number(t.trend)}a.cacheTime=c.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(c.CachedTime)}e.call(a,s,n)}else{a.setNoData()}}else if(c&&c.Data){t=c.Data&&JSON.parse(c.Data);if(a.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){t=t.leftData}else{t=t.rightData}s=t.numericValue;if(t.unit){a._updateTileModel({unit:t.unit})}if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){n.criticalHighValue=t.ch;n.criticalLowValue=t.cl;n.warningHighValue=t.wh;n.warningLowValue=t.wl;n.targetValue=t.target;n.trendValue=t.trend}else if(a.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){n.targetValue=Number(t.target);n.criticalHighValue=n.targetValue*n.criticalHighValue/100;n.criticalLowValue=n.targetValue*n.criticalLowValue/100;n.warningHighValue=n.targetValue*n.warningHighValue/100;n.warningLowValue=n.targetValue*n.warningLowValue/100;n.trendValue=Number(t.trend)}a.cacheTime=c.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(c.CachedTime)}e.call(a,s,n)}else{a.setNoData()}}}catch(e){a.logError(e)}},getRunTimeODataModel:function(e,i){if(window["sap-ushell-config"].cacheBusting){e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e)}if(!this.oRunTimeODataModel){this.oRunTimeODataModel=sap.ushell.components.tiles.indicatorTileUtils.util.getODataModelByServiceUri(e)}if(this.oRunTimeODataModel.getServiceMetadata()){i()}else{this.oRunTimeODataModel.attachMetadataLoaded(i)}},parse_sapclient:function(){const e=this.oConfig.EVALUATION_FILTERS;if(e.constructor!==Array){return}if(e.length<1){return}let i;const t="P_SAPClient";const l="$$$";for(const a in e){i=e[a];if(i.NAME===t&&i.VALUE_1===l){break}i=null}if(i){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getHanaClient()).done(e=>{i.VALUE_1=e})}},fetchEvaluation:function(e,i,t,l){const a=this;const s=this.oConfig.TILE_PROPERTIES.sb_metadata||"HANA";a.DEFINITION_DATA=e;a._updateTileModel(this.DEFINITION_DATA);const o=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(t);if(a.oTileApi.visible.isVisible()&&!a.firstTimeVisible||o||l){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getFrontendCache(e,a.oTileApi)).done(e=>{a.firstTimeVisible=true;e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);if(e||Number(a.oTileApi.configuration.getParameterValueAsString("isSufficient"))){i.call()}else{try{if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)||!a.dataCallInProgress){a.dataCallInProgress=true;const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(a.oConfig.TILE_PROPERTIES.id);if(e){a.oConfig.EVALUATION_FILTERS=e.EVALUATION_FILTERS;i.call()}else if(a.evaluationFetchDeferred){a.evaluationFetchDeferred=false;sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(a.oConfig,a.oTileApi,e=>{a.evaluationFetchDeferred=true;a.oConfig.EVALUATION_FILTERS=e;if(s.toUpperCase()==="HANA"){a.parse_sapclient()}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(a.oConfig.TILE_PROPERTIES.id,a.oConfig);i.call()})}}}catch(e){a.evaluationFetchDeferred=true;a.logError("no evaluation data")}}}).fail(()=>{a.firstTimeVisible=true;if(Number(a.oTileApi.configuration.getParameterValueAsString("isSufficient"))){i.call()}else{try{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(a.oConfig.TILE_PROPERTIES.id);if(e){a.oConfig.EVALUATION_FILTERS=e.EVALUATION_FILTERS;i.call()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(a.oConfig,a.oTileApi,e=>{a.oConfig.EVALUATION_FILTERS=e;if(s.toUpperCase()==="HANA"){a.parse_sapclient()}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(a.oConfig.TILE_PROPERTIES.id,a.oConfig);i.call()})}}catch(e){a.logError("no evaluation data")}}})}},refreshHandler:function(e,i){const t=this;const l=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(i);if(!t.firstTimeVisible||l||a){t.fetchEvaluation(t.oConfig,()=>{let i;if(t.oConfig.TILE_PROPERTIES.tileType=="NT"||t.oConfig.TILE_PROPERTIES.tileType=="AT"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatordeviation.DeviationTile"){i=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(i,()=>{if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(e,i){this.KPIVALUE=e;t.doProcess(e,i)},t.logError,e,a)}else{t.doProcess()}})}else{i=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(i,()=>{if(t.KPI_VALUE_REQUIRED){t.doProcess(t.KPIVALUE,t.setThresholdValues())}else{t.doProcess(l,a)}})}},e,a)}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},getChipConfiguration:function(e){const i=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(i.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i.oTileApi.preview.isEnabled(),t=>{i.oConfig=t;const l=sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(i.oConfig);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(i.oConfig);if(i.oTileApi.search){i.oTileApi.search.setKeywords([l,a])}if(i.oTileApi.preview){i.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(i.oConfig,i.system))}e.call()})}catch(e){i.logError(e.message)}},onAfterTileRendering:function(){const e=this;this.firstTimeVisible=false;this.oKpiTileView=this.getView();this.updateDatajobScheduled=false;this.updateTimeStampjobScheduled=false;this.oViewData=this.oKpiTileView.getViewData();this.tilePressed=false;this.kpiValueFetchDeferred=true;this.evaluationFetchDeferred=true;this.backEndCallMade=false;if(!sap.ushell.components.tiles.utils){sap.ui.require("sap.ushell.components.tiles.utils")}this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundle();this.oTileApi=this.oViewData.chip;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(h.Loading);this.getChipConfiguration(()=>{let i;e.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(e.oConfig);e.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(e.oConfig);if(e.oTileApi.preview.isEnabled()){e.doDummyProcess();e.oKpiTileView.oGenericTile.attachPress(()=>{o.show(e.oResourceBundle.getText("sb.NavigationHelp"))})}else if(e.oConfig.BLANKTILE||e.oConfig.TILE_PROPERTIES.blankTile){e.doDummyProcess();i=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oKpiTileView.oGenericTile.$().wrap(`<a href ='${i}'></a>`);e.oKpiTileView.oGenericTile.attachPress(()=>{e.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=i})}else{if(e.oTileApi.visible&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(e.oConfig)){e.oTileApi.visible.attachVisible(e.visibleHandler.bind(e))}i=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oKpiTileView.oGenericTile.$().wrap(`<a href ='${i}></a>`).style="display:block;";e.oKpiTileView.oGenericTile.attachPress(()=>{e.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=i});if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(e.oConfig)){e.oKpiTileView.oNVConfS.attachRefresh(()=>{e.oKpiTileView.oGenericTile.setState(h.Loading);e.refreshHandler(true)})}e.fetchEvaluation(e.oConfig,()=>{e.DEFINITION_DATA=e.oConfig;const i=e.oTileApi.url.addSystemToServiceUrl(e.oConfig.EVALUATION.ODATA_URL);const t=e.oTileApi.configuration.getParameterValueAsString("timeStamp");const l=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(e.oConfig.TILE_PROPERTIES.id,t,e.chipCacheTime,e.chipCacheTimeUnit,e.tilePressed);if(!l||e.getView().getViewData().refresh){e.getRunTimeODataModel(i,()=>{if(e.KPI_VALUE_REQUIRED){e.fetchKpiValue(function(i,t){this.KPIVALUE=i;e.doProcess(i,t)},e.logError)}else{e.doProcess()}})}else if(e.KPI_VALUE_REQUIRED){e.fetchKpiValue(function(i,t){this.KPIVALUE=i;e.doProcess(i,t)},e.logError)}else{e.doProcess()}})}})},onAfterRendering:function(){this.onAfterTileRendering()},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new n({}))}},autoFormatter:function(e,i){i=i||false;if(!e){return""}return sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,i)},setToolTip:function(e,i,t){const l=this;let a;const s=this.setThresholdValues();const o=this.oConfig.EVALUATION.COLUMN_NAME;const n=this.isCurrencyMeasure(o);let r;if(t=="CONT"||t=="COMP"){if(this.oKpiTileView.getContent()[0].getTileContent().length){a=l.oKpiTileView.getContent()[0].getTileContent()[0].getContent();let e;let s;let o;let u;let c;let T;let h;let g;let p;if(i&&i[0]){e=i[0].title;u=this.autoFormatter(i[0].value,n);h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[0].color)}if(i&&i[1]){s=i[1].title;c=this.autoFormatter(i[1].value,n);g=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[1].color)}if(i&&i[2]){o=i[2].title;T=this.autoFormatter(i[2].value,n);p=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(i[2].color)}const d={};d["0"]=`${this.oConfig.EVALUATION.COLUMN_NAME},asc`;d["1"]=`${this.oConfig.EVALUATION.COLUMN_NAME},desc`;d["2"]=`${this.oConfig.TILE_PROPERTIES.dimension},asc`;d["3"]=`${this.oConfig.TILE_PROPERTIES.dimension},desc`;const m=d[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");r={measure:this.oConfig.EVALUATION.COLUMN_NAME,contributionTile:m,m1:e,v1:u,c1:h,m2:s,v2:c,c2:g,m3:o,v3:T,c3:p};sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(a,t,r)}}else{let o="";if(e=="Error"){o="sb.error"}if(e=="Neutral"){o="sb.neutral"}if(e=="Critical"){o="sb.critical"}if(e=="Good"){o="sb.good"}r={status:o,actual:this.autoFormatter(i,n),target:this.autoFormatter(s.targetValue,n),cH:this.autoFormatter(s.criticalHighValue,n),wH:this.autoFormatter(s.warningHighValue,n),wL:this.autoFormatter(s.warningLowValue,n),cL:this.autoFormatter(s.criticalLowValue,n)};a=l.oKpiTileView.getContent()[0].getTileContent()[0]&&l.oKpiTileView.getContent()[0].getTileContent()[0].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(a,t,r)}},getTrendColor:function(e){const i=this;let t;let l;let a;let s;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let o=c.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){s=Number(e.criticalHighValue);a=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<a){o=c.Good}else if(this.CALCULATED_KPI_VALUE<=s){o=c.Critical}else{o=c.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){l=Number(e.criticalLowValue);t=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<l){o=c.Error}else if(this.CALCULATED_KPI_VALUE<=t){o=c.Critical}else{o=c.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){s=Number(e.criticalHighValue);a=Number(e.warningHighValue);t=Number(e.warningLowValue);l=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<l||this.CALCULATED_KPI_VALUE>s){o=c.Error}else if(this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=t||this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=s){o=c.Critical}else{o=c.Good}}return o}catch(e){i.logError(e)}},getTrendIndicator:function(e){const i=this;e=Number(e);try{let i=u.None;if(e>this.CALCULATED_KPI_VALUE){i=u.Down}else if(e<this.CALCULATED_KPI_VALUE){i=u.Up}return i}catch(e){i.logError(e)}},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},_getEvaluationThresholdMeasures:function(){const e=[];e.push(this.oConfig.EVALUATION.COLUMN_NAME);if(this.oConfig.EVALUATION.VALUES_SOURCE==="MEASURE"){const i=this.oConfig.EVALUATION_VALUES;if(i&&i.length){for(let t=0;t<i.length;t++){if(i[t].COLUMN_NAME&&!i[t].FIXED){e.push(i[t].COLUMN_NAME)}}}}return e},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}});return g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorArea/AreaChartTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint"],(e,i,t,l)=>{"use strict";const a=i.FrameType;const s=i.LoadState;const r=e.extend("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},doProcess:function(e,i){this.onAfterFinalEvaluation(e,i)},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({footer:"",description:"",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oKpiTileView.oGenericTile.setState(s.Loaded)},scheduleJob:function(e){if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},onAfterFinalEvaluation:function(e,i){const r=this;const o=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const n=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;const c=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);let u=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(u==undefined){this.logError();return}const h=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;const E=this.DEFINITION_DATA.EVALUATION_VALUES;const T=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(r.oConfig.TILE_PROPERTIES.id);let d;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){if(T){d=T.Data&&JSON.parse(T.Data)}}const f=r.oTileApi.configuration.getParameterValueAsString("timeStamp");const g=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(r.oConfig.TILE_PROPERTIES.id,f,r.chipCacheTime,r.chipCacheTimeUnit,r.tilePressed);let m=n;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(h){case"MI":r.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WH","MEASURE");r.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CH","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");if(r.sWarningHigh&&r.sCriticalHigh&&r.sTarget){m+=`,${r.sWarningHigh},${r.sCriticalHigh},${r.sTarget}`}break;case"MA":r.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WL","MEASURE");r.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CL","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");if(r.sWarningLow&&r.sCriticalLow&&r.sTarget){m+=`,${r.sWarningLow},${r.sCriticalLow},${r.sTarget}`}break;case"RA":r.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WH","MEASURE");r.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CH","MEASURE");r.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TA","MEASURE");r.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"TC","MEASURE");r.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"WL","MEASURE");r.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(r.oConfig,"CL","MEASURE");if(r.sWarningLow&&r.sCriticalLow&&r.sTarget&&r.sWarningHigh&&r.sCriticalHigh){m+=`,${r.sWarningLow},${r.sCriticalLow},${r.sTarget},${r.sWarningHigh},${r.sCriticalHigh}`}break}}function p(e,i){const a=[];const s=[];const o=[];const c=[];const T=[];const d=[];let f=e.firstXlabel;let g;let m;let p;let C;let A;let L=e.lastXlabel;const N=Number(e.results[0][n]);const I=Number(e.results[e.results.length-1][n]);let U;for(U in e.results){e.results[U][u]=Number(U);e.results[U][n]=Number(e.results[U][n]);if(r.sWarningHigh){e.results[U][r.sWarningHigh]=Number(e.results[U][r.sWarningHigh])}if(r.sCriticalHigh){e.results[U][r.sCriticalHigh]=Number(e.results[U][r.sCriticalHigh])}if(r.sCriticalLow){e.results[U][r.sCriticalLow]=Number(e.results[U][r.sCriticalLow])}if(r.sWarningLow){e.results[U][r.sWarningLow]=Number(e.results[U][r.sWarningLow])}if(r.sTarget){e.results[U][r.sTarget]=Number(e.results[U][r.sTarget])}if(r.sWarningHigh){o.push(e.results[U][r.sWarningHigh])}if(r.sCriticalHigh){c.push(e.results[U][r.sCriticalHigh])}if(r.sCriticalLow){T.push(e.results[U][r.sCriticalLow])}if(r.sWarningLow){d.push(e.results[U][r.sWarningLow])}a.push(e.results[U][u]);s.push(e.results[U][n])}try{f=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(f);L=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(L)}catch(e){r.logError(e)}let b=Number(N);if(r.oConfig.EVALUATION.SCALING==-2){b*=100}const M=Math.min.apply(Math,s);let S=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);let D=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(b,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,S,r.CURRENCY_CODE);if(r.oConfig.EVALUATION.SCALING==-2){D+=" %"}const w=D.toString();let R=Number(I);if(r.oConfig.EVALUATION.SCALING==-2){R*=100}const O=Math.max.apply(Math,s);S=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);let V=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(R,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,S,r.CURRENCY_CODE);if(r.oConfig.EVALUATION.SCALING==-2){V+=" %"}const H=V.toString();let F;let y;try{F=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,a));y=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,a))}catch(e){r.logError(e)}if(i=="MEASURE"){if(o.length!=0){r.firstwH=o[F];r.lastwH=o[y]}if(c.length!=0){r.firstcH=c[F];r.lastcH=c[y]}if(T.length!=0){r.firstcL=T[F];r.lastcL=T[y]}if(d.length!=0){r.firstwL=d[F];r.lastwL=d[y]}}const P={width:"100%",height:"100%",unit:r.unit||"",chart:{color:"Neutral",data:e.results},size:"Auto",minXValue:F,maxXValue:y,minYValue:M,maxYValue:O,firstXLabel:{label:`${f}`,color:"Neutral"},lastXLabel:{label:`${L}`,color:"Neutral"},firstYLabel:{label:`${w}`,color:"Neutral"},lastYLabel:{label:`${H}`,color:"Neutral"},minLabel:{},maxLabel:{}};let _;switch(h){case"MA":for(U in E){if(E[U].TYPE=="CL"){P.minThreshold={color:"Error"};_={};_[u]="";_[n]=Number(E[U].FIXED);r.cl=Number(E[U].FIXED);P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sCriticalLow:n}else if(E[U].TYPE=="WL"){P.maxThreshold={color:"Good"};_={};_[u]="";_[n]=Number(E[U].FIXED);P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sWarningLow:n;r.wl=Number(E[U].FIXED)}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}P.innerMinThreshold={data:[]};P.innerMaxThreshold={data:[]};if(i=="FIXED"){P.firstYLabel.color=N<r.cl?"Error":r.cl<=N&&N<=r.wl?"Critical":N>r.wl?"Good":"Neutral";P.lastYLabel.color=I<r.cl?"Error":r.cl<=I&&I<=r.wl?"Critical":I>r.wl?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwL&&r.lastwL&&r.firstcL&&r.lastcL){P.firstYLabel.color=N<r.firstcL?"Error":r.firstcL<=N&&N<=r.firstwL?"Critical":N>r.firstwL?"Good":"Neutral";P.lastYLabel.color=I<r.lastcL?"Error":r.lastcL<=I&&I<=r.lastwL?"Critical":I>r.lastwL?"Good":"Neutral"}break;case"MI":for(U in E){if(E[U].TYPE=="CH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.ch=Number(E[U].FIXED);P.maxThreshold={color:"Error"};P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sCriticalHigh:n}else if(E[U].TYPE=="WH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wh=Number(E[U].FIXED);P.minThreshold={color:"Good"};P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sWarningHigh:n}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}if(i=="FIXED"){P.firstYLabel.color=N>r.ch?"Error":r.wh<=N&&N<=r.ch?"Critical":N<r.wh?"Good":"Neutral";P.lastYLabel.color=I>r.ch?"Error":r.wh<=I&&I<=r.ch?"Critical":I<r.wh?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwH&&r.lastwH&&r.firstcH&&r.lastcH){P.firstYLabel.color=N>r.firstcH?"Error":r.firstwH<=N&&N<=r.firstcH?"Critical":N<r.firstwH?"Good":"Neutral";P.lastYLabel.color=I>r.lastcH?"Error":r.lastwH<=I&&I<=r.lastcH?"Critical":I<r.lastwH?"Good":"Neutral"}P.innerMaxThreshold={data:[]};P.innerMinThreshold={data:[]};break;case"RA":for(U in E){if(E[U].TYPE=="CH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.ch=Number(E[U].FIXED);P.maxThreshold={color:"Error"};P.maxThreshold.data=i=="MEASURE"?e.results:[_];m=i=="MEASURE"?r.sCriticalHigh:n}else if(E[U].TYPE=="WH"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wh=Number(E[U].FIXED);P.innerMaxThreshold={color:"Good"};P.innerMaxThreshold.data=i=="MEASURE"?e.results:[_];C=i=="MEASURE"?r.sWarningHigh:n}else if(E[U].TYPE=="WL"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.wl=Number(E[U].FIXED);P.innerMinThreshold={color:"Good"};P.innerMinThreshold.data=i=="MEASURE"?e.results:[_];p=i=="MEASURE"?r.sWarningLow:n}else if(E[U].TYPE=="CL"){_={};_[u]="";_[n]=Number(E[U].FIXED);r.cl=Number(E[U].FIXED);P.minThreshold={color:"Error"};P.minThreshold.data=i=="MEASURE"?e.results:[_];g=i=="MEASURE"?r.sCriticalLow:n}else if(E[U].TYPE=="TA"){_={};_[u]="";_[n]=Number(E[U].FIXED);P.target={color:"Neutral"};P.target.data=i=="MEASURE"?e.results:[_];A=i=="MEASURE"?r.sTarget:n}}if(i=="FIXED"){P.firstYLabel.color=N>r.ch||N<r.cl?"Error":r.wh<=N&&N<=r.ch||r.cl<=N&&N<=r.wl?"Critical":N>=r.wl&&N<=r.wh?"Good":"Neutral";P.lastYLabel.color=I>r.ch||I<r.cl?"Error":r.wh<=I&&I<=r.ch||r.cl<=I&&I<=r.wl?"Critical":I>=r.wl&&I<=r.wh?"Good":"Neutral"}else if(i=="MEASURE"&&r.firstwL&&r.lastwL&&r.firstcL&&r.lastcL&&r.firstwH&&r.lastwH&&r.firstcH&&r.lastcH){P.firstYLabel.color=N>r.firstcH||N<r.firstcL?"Error":r.firstwH<=N&&N<=r.firstcH||r.firstcL<=N&&N<=r.firstwL?"Critical":N>=r.firstwL&&N<=r.firstwH?"Good":"Neutral";P.lastYLabel.color=I>r.lastcH||I<r.lastcL?"Error":r.lastwH<=I&&I<=r.lastcH||r.lastcL<=I&&I<=r.lastwL?"Critical":I>=r.lastwL&&I<=r.lastwH?"Good":"Neutral"}break}function Y(e,i,a,s){return new t({color:`{/${e}/color}`,points:{path:`/${e}/data`,template:new l({x:`{${i}}`,y:`{${a}}`})}})}const W=r.getView().oNVConfContS;W.setTarget(Y("target",u,A));W.setInnerMinThreshold(Y("innerMinThreshold",u,p));W.setInnerMaxThreshold(Y("innerMaxThreshold",u,C));W.setMinThreshold(Y("minThreshold",u,g));W.setMaxThreshold(Y("maxThreshold",u,m));W.setChart(Y("chart",u,n));r.setTextInTile();if(r.getView().getViewData().parentController){r.getView().getViewData().parentController._updateTileModel(P)}else{r._updateTileModel(P)}}const C=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);if(d&&!d.rightData||!T||!g&&r.oTileApi.visible.isVisible()||C||i&&r.oTileApi.visible.isVisible()||r.getView().getViewData().refresh){if(r.kpiValueFetchDeferred){r.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(r.oRunTimeODataModel,o,m,u,c);if(e){this.queryUriForTrendChart=e.uri;const i={};try{this.trendChartODataReadRef=e.model.read(e.uri,null,null,true,t=>{r.kpiValueFetchDeferred=true;if(t&&t.results&&t.results.length){if(e.unit[0]){r.unit=t.results[0][e.unit[0].name];r.CURRENCY_CODE=r.unit;i.unit=e.unit[0];i.unit.name=e.unit[0].name}r.queryUriResponseForTrendChart=t;u=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(r.oRunTimeODataModel,o,u);t.results.splice(10);t.firstXlabel=t.results[0][u];t.lastXlabel=t.results[t.results.length-1][u];i.data=t;if(i&&i.data&&i.data.results&&i.data.results.length){for(let e=0;e<i.data.results.length;e++){delete i.data.results[e].__metadata}}i.isCurM=r.isCurrencyMeasure(r.oConfig.EVALUATION.COLUMN_NAME);i.dimensionName=u;p(t,r.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);const l={};r.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=r.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(i);l.CacheMaxAge=Number(r.chipCacheTime);l.CacheMaxAgeUnit=r.chipCacheTimeUnit;l.CacheType=1;const n=r.getLocalCache(l);if(r.DEFINITION_DATA.TILE_PROPERTIES.frameType==a.TwoByOne){const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(r.oConfig.TILE_PROPERTIES.id);let t;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}t=e.Data;if(t){t=JSON.parse(t);t.rightData=i}e.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,e)}else{t={};t.rightData=i;n.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,n)}r.cacheWriteData=i;r.getView().getViewData().deferredObj.resolve()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,n);let e=false;if(T){e=true}if(r.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(r.oTileApi,r.oConfig.TILE_PROPERTIES.id,l,e,e=>{if(e){r.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.oConfig.TILE_PROPERTIES.id,e);r.setTimeStamp()}if(r.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){r.setTimeStamp(r.cacheTime)}})}r.oKpiTileView.oGenericTile.setState(s.Loaded);r.updateDatajobScheduled=false;const i=`${r.oConfig.TILE_PROPERTIES.id}data`;let t=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(i);if(t){clearTimeout(t);t=undefined}r.scheduleJob(r.cacheTime)}}else{r.setNoData()}},e=>{r.kpiValueFetchDeferred=true;if(e&&e.response){r.logError("Data call failed")}})}catch(e){r.kpiValueFetchDeferred=true;r.logError(e)}}else{r.kpiValueFetchDeferred=true;r.logError()}}}else if(T&&T.Data){try{let e;const i=r.oConfig&&r.oConfig.TILE_PROPERTIES&&r.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=T.Data&&JSON.parse(T.Data)}else{e=T.Data&&JSON.parse(T.Data);e=e.rightData}if(e.unit){r.unit=e.data.results[0][e.unit.name];r.CURRENCY_CODE=r.unit}r.cacheTime=T.CachedTime;if(r.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(r.oConfig)){r.setTimeStamp(r.cacheTime)}r.queryUriResponseForTrendChart=e.data;u=e.dimensionName;p(e.data,r.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);if(r.oConfig.TILE_PROPERTIES.frameType==a.OneByOne){r.oKpiTileView.oGenericTile.setState(s.Loaded)}else{r.getView().getViewData().deferredObj.resolve()}r.scheduleJob(r.cacheTime)}catch(e){r.logError(e)}}else{r.setNoData()}}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorArea/AreaChartTile.view", ["sap/ui/core/mvc/JSView","sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/m/library","sap/suite/ui/microchart/AreaMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,i,a,s,l,o,r,n,h)=>{"use strict";const u=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorArea.AreaChartTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");let e="Lorem ipsum";let t="Lorem ipsum";const i=o.Size;const c=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(c.title&&c.subTitle){e=c.title;t=c.subTitle}function m(e){return new a({color:"Good",points:{path:`/${e}/data`,template:new s({x:"{day}",y:"{balance}"})}})}function p(e){return new l({label:`{/${e}/label}`,color:`{/${e}/color}`})}const d={subheader:t,header:e,footerNum:"",footerComp:"",scale:"",unit:"",value:8888,size:"Auto",frameType:"OneByOne",state:u.Loading};this.oNVConfContS=new r({width:"{/width}",height:"{/height}",size:i.Responsive,target:m("target"),innerMinThreshold:m("innerMinThreshold"),innerMaxThreshold:m("innerMaxThreshold"),minThreshold:m("minThreshold"),maxThreshold:m("maxThreshold"),chart:m("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:p("firstXLabel"),lastXLabel:p("lastXLabel"),firstYLabel:p("firstYLabel"),lastYLabel:p("lastYLabel"),minLabel:p("minLabel"),maxLabel:p("maxLabel")});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const b=new h;b.setData(d);this.oGenericTile.setModel(b);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDual/DualTile.controller", ["sap/m/MessageToast","sap/m/library","sap/ui/core/library","sap/ui/core/format/DateFormat","sap/ui/thirdparty/jquery"],(e,i,t,l,jQuery)=>{"use strict";const a=i.DeviationIndicator;const o=i.ValueColor;const s=i.FrameType;const r=i.Size;const n=i.LoadState;const c=t.mvc.ViewType;sap.ui.controller("sap.ushell.components.tiles.indicatorDual.DualTile",{getRelativeTime:function(){let e=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();this.cacheTime=this.cacheTime instanceof Date?this.cacheTime:new Date(parseInt(this.cacheTime.substr(6),10));const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(e-this.cacheTime);let t;let l;switch(i.unit){case"minutes":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"minutes");e=e-l;t=new Date(e);break;case"hours":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"hours");e=e-l;t=new Date(e);break;case"days":l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(i.time,"days");e=e-l;t=new Date(e);break}return t},getTile:function(){return this.oKpiTileView.oGenericTile},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;const e=l.getDateTimeInstance({relative:true,relativeSource:"auto"});const i=e.format(this.getRelativeTime());const t=this.getView().oGenericTile.getTileContent()[0];if(t){if(t.setRefreshOption){t.setRefreshOption(true)}if(t.setTimestamp){t.setTimestamp(i)}}this.updateTimeStampjobScheduled=false;const a=`${this.oConfig.TILE_PROPERTIES.id}time`;let o=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(a);if(o){clearTimeout(o);o=undefined}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible())},getLocalCache:function(e){const i={};i.ChipId=e.ChipId;i.Data=e.Data;i.CacheMaxAge=e.CacheMaxAgeUnit;i.CacheMaxAgeUnit=e.CacheMaxAgeUnit;i.CacheType=e.CacheType;i.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return i},refreshPress:function(){this.initProcess(true)},_getView:function(e,i,t){const l=this.oKpiTileView.getViewData();const a=sap.ui.view({type:c.JS,viewName:e,viewData:jQuery.extend(true,{},l,{parentController:this},{deferredObj:i},{refresh:t})});return a},logError:function(){this._updateTileModel({value:"",scale:"",unit:""});if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject()}},doProcess:function(e){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${this.oKpiTileView.oConfig.TILE_PROPERTIES.id}defferedLeft`,this.deferred_left);sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${this.oKpiTileView.oConfig.TILE_PROPERTIES.id}defferedRight`,this.deferred_right);const i=this;this.getView().oGenericTile.removeAllTileContent();const t=this.getView().oGenericTile;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(n.Loading);const l=i.tileType.split("-")[1];try{let a;a="sap.ushell.components.tiles.indicatornumeric.NumericTile";this.leftView=i._getView(a,this.deferred_left,e);this.leftView.getController().dataCallInProgress=false;t.addTileContent(this.leftView.oGenericTile.getTileContent()[0]);switch(l){case"CM":a="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"CT":a="sap.ushell.components.tiles.indicatorcontribution.ContributionTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"AT":a="sap.ushell.components.tiles.indicatordeviation.DeviationTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"TT":a="sap.ushell.components.tiles.indicatorArea.AreaChartTile";this.rightView=i._getView(a,this.deferred_right,e);this.rightView.getController().dataCallInProgress=false;t.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break}this.leftView.getController().onAfterTileRendering();this.rightView.getController().onAfterTileRendering();const o=this.getView().oGenericTile.getTileContent()[0];if(o&&o.attachRefresh){o.attachRefresh(this.refreshPress.bind(i))}}catch(e){this.logError(e)}},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},doDummyProcess:function(){const e=this;try{e.setTextInTile();switch(e.tileType){case"DT-CM":e._updateTileModel({value:1,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Good,indicator:a.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});break;case"DT-AT":e._updateTileModel({valueColor:"Good",value:100,frameType:s.TwoByOne,unit:"USD",actual:{value:120,color:o.Good},targetValue:100,thresholds:[{value:0,color:o.Error},{value:50,color:o.Critical},{value:150,color:o.Critical},{value:200,color:o.Error}],showActualValue:true,showTargetValue:true});break;case"DT-CT":e._updateTileModel({value:8888,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Error,indicator:a.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});break;case"DT-TT":this._updateTileModel({value:8888,size:r.Auto,frameType:s.TwoByOne,state:n.Loading,valueColor:o.Error,indicator:a.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});break}}catch(e){}},visibleHandler:function(e){if(!e){if(this.leftView){this.leftView.getController().firstTimeVisible=false}if(this.rightView){this.rightView.getController().firstTimeVisible=false}sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){if(this.leftView){this.leftView.getController().refreshHandler()}if(this.rightView){this.rightView.getController().refreshHandler()}}},initProcess:function(i){const t=this;this.oKpiTileView=this.getView();this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundle();this.viewData={};t.viewData=this.oKpiTileView.getViewData();this.oTileApi=this.viewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.deferred_left=new jQuery.Deferred;this.deferred_right=new jQuery.Deferred;jQuery.when(this.deferred_left,this.deferred_right).done(()=>{t.setTextInTile();t.oConfig=t.oKpiTileView.oConfig;t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);const e=t.leftView.getController().cacheWriteData;const i=t.rightView.getController().cacheWriteData;t.oKpiTileView.oGenericTile.setState(n.Loaded);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oKpiTileView.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap(`<a href ='${l}'></a>`);t.oKpiTileView.oGenericTile.attachPress(()=>{t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oKpiTileView.oConfig.TILE_PROPERTIES.id,null);window.location.hash=l});const a={};const o={};o.leftData=e;o.rightData=i;a.ChipId=t.oConfig.TILE_PROPERTIES.id;a.Data=JSON.stringify(o);a.CacheMaxAge=Number(t.chipCacheTime);a.CacheMaxAgeUnit=t.chipCacheTimeUnit;a.CacheType=1;const s=t.getLocalCache(a);if(o.leftData&&o.rightData){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,s)}const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(t.chipCacheTime&&o.leftData&&o.rightData){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,a,false,e=>{if(e){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,e);t.cacheTime=e.CachedTime;t.setTimeStamp()}})}if(t.chipCacheTime){if(!t.cacheTime){t.cacheTime=r.CachedTime}t.setTimeStamp();sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(t,t.oTileApi.visible.isVisible())}}).fail(()=>{t.oKpiTileView.oGenericTile.setState(n.Failed)});t.tileType=t.oKpiTileView.oConfig.TILE_PROPERTIES.tileType;this.oTileApi=t.viewData.chip;if(this.oTileApi.preview.isEnabled()){this.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(()=>{e.show(t.oResourceBundle.getText("sb.NavigationHelp"))})}else{this.doProcess(i)}},onAfterRendering:function(){this.initProcess()},setNoData:function(){try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(n.Loaded)}catch(e){}},getChipConfiguration:function(e){const i=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(i.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i.oTileApi.preview.isEnabled(),t=>{i.oConfig=t;e.call()})}catch(e){i.logError(e.message)}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDual/DualTile.view", ["sap/ui/core/mvc/JSView","sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/ushell/components/tiles/sbtilecontent","sap/m/NumericContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/suite/ui/microchart/AreaMicroChart","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/library","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,l,o,n,s,r,u,c,h,p,m,d,T)=>{"use strict";const C=m.Size;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorDual.DualTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorDual.DualTile"},createContent:function(){function e(e){return new s({color:"Good",points:{path:`/${e}/data`,template:new r({x:"{day}",y:"{balance}"})}})}function t(e){return new u({label:`{/${e}/label}`,color:`{/${e}/color}`})}this.setHeight("100%");this.setWidth("100%");const a=this;a.oGenericTileData={};sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(a.getViewData().chip.configuration.getParameterValueAsString("tileConfiguration"),a.getViewData().chip.preview.isEnabled(),e=>{a.oConfig=e});a.tileType=a.oConfig.TILE_PROPERTIES.tileType;a.oNumericContent=new l({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:"{/isFormatterValue}",truncateValueTo:5,valueColor:"{/valueColor}",nullifyValue:false});a.oLeftTileContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oNumericContent});let i;switch(a.tileType){case"DT-CM":i=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});a.oComparisionContent=new n({size:"{/size}",scale:"{/scale}",data:{template:i,path:"/data"}});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oComparisionContent});break;case"DT-CT":i=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});a.oContributionContent=new n({size:"{/size}",scale:"{/scale}",data:{template:i,path:"/data"}});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:a.oContributionContent});break;case"DT-TT":const l=new c({width:"{/width}",height:"{/height}",size:"{/size}",target:e("target"),innerMinThreshold:e("innerMinThreshold"),innerMaxThreshold:e("innerMaxThreshold"),minThreshold:e("minThreshold"),maxThreshold:e("maxThreshold"),chart:e("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:t("firstXLabel"),lastXLabel:t("lastXLabel"),firstYLabel:t("firstYLabel"),lastYLabel:t("lastYLabel"),minLabel:t("minLabel"),maxLabel:t("maxLabel")});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",content:l});break;case"DT-AT":const s=new h({value:"{value}",color:"{color}"});const r=new p({size:C.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:s,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});a.oRightContent=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:r});break}a.oGenericTile=new d({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[a.oLeftTileContent,a.oRightContent]});a.oGenericTileModel=new T;a.oGenericTileModel.setData(a.oGenericTileData);a.oGenericTile.setModel(a.oGenericTileModel);return a.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualComparison/DualComparison.controller", ["sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],(e,i,jQuery,t)=>{"use strict";const l=i.Size;const o=i.DeviationIndicator;const s=i.ValueColor;const a=i.LoadState;sap.ui.controller("tiles.indicatorDualComparison.DualComparison",{getTile:function(){return this.oDualComparisonView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},setTitle:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},logError:function(e){this.oDualComparisonView.oGenericTile.setState(a.Failed);this.oDualComparisonView.oGenericTile.setState(a.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendColor:function(e){const i=this;let t;let l;let o;let a;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let n=s.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){t=Number(e.criticalHighValue);l=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<l){n=s.Good}else if(this.CALCULATED_KPI_VALUE<=t){n=s.Critical}else{n=s.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){o=Number(e.criticalLowValue);a=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<o){n=s.Error}else if(this.CALCULATED_KPI_VALUE<=a){n=s.Critical}else{n=s.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){t=Number(e.criticalHighValue);l=Number(e.warningHighValue);a=Number(e.warningLowValue);o=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<o||this.CALCULATED_KPI_VALUE>t){n=s.Error}else if(this.CALCULATED_KPI_VALUE>=o&&this.CALCULATED_KPI_VALUE<=a||this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=t){n=s.Critical}else{n=s.Good}}return n}catch(e){i.logError(e)}},_processDataForComparisonChart:function(e,i,t){const l=[];const o={};let s;let a;let n;let r;let u=[];const c=this;let E;for(s=0;s<e.results.length;s++){E=e.results[s]}u=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oConfig.EVALUATION.ODATA_URL,this.oConfig.EVALUATION.ODATA_ENTITYSET);for(s=0,n=u.length;s<n;s++){a=u[s];o[a.key]=a.value}const T=c.oConfig.TILE_PROPERTIES.COLUMN_NAMES||c.oConfig.EVALUATION.COLUMN_NAMES;for(s=0;s<T.length;s++){const e={};const i=T[s];e.value=Number(E[i.COLUMN_NAME]);let a=Number(E[i.COLUMN_NAME]);if(c.oConfig.EVALUATION.SCALING==-2){a*=100}r=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(a,c.oConfig.EVALUATION.SCALING,c.oConfig.EVALUATION.DECIMAL_PRECISION);if(c.oConfig.EVALUATION.SCALING==-2){r+=" %"}e.displayValue=r.toString();if(t[s]&&E[t[s].name]){e.displayValue+=` ${E[t[s].name]}`}e.color=i.semanticColor;e.title=o[i.COLUMN_NAME]||i.COLUMN_NAME;l.push(e)}return l},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=o.None;if(e>i){t=o.Down}else if(e<i){t=o.Up}return t}catch(e){t.logError(e)}},fetchKpiValue:function(e,i){const l=this;try{const o=this.oConfig.EVALUATION.ODATA_URL;const s=this.oConfig.EVALUATION.ODATA_ENTITYSET;let a;let n;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){a=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{a=this.oConfig.EVALUATION.COLUMN_NAME;n=a;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(let e=0;e<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;e++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[e].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){n=`${n},${this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[e].COLUMN_NAME}`}}}}const r=this.oConfig.EVALUATION_VALUES;const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(l.oConfig.TILE_PROPERTIES.id);if(!u){const r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const u={};u["0"]=`${a},asc`;u["1"]=`${a},desc`;const c=u[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,null,r,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){E.uri+=`&$orderby=${c[0]} ${c[2]}`}else{E.uri+=`&$orderby=${c[0]} ${c[1]}`}this.writeData={};this.comparisionChartODataRef=E.model.read(E.uri,null,null,true,t=>{if(t&&t.results&&t.results.length){if(E.unit){l.writeData.unit=E.unit}l.oConfig.TILE_PROPERTIES.FINALVALUE=t;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],E.unit);l.writeData.data=t;let i;for(let e=0;e<l.oConfig.TILE_PROPERTIES.FINALVALUE.length;e++){if(l.oConfig.TILE_PROPERTIES.FINALVALUE[e].title==l.DEFINITION_DATA.EVALUATION.COLUMN_NAME){l.writeData.numericData=l.oConfig.TILE_PROPERTIES.FINALVALUE[e];calculatedValueforScaling=l.oConfig.TILE_PROPERTIES.FINALVALUE[e].value;l.getTrendIndicator(l.setThresholdValues().trendValue,calculatedValueforScaling);l._updateTileModel({valueColor:l.oConfig.TILE_PROPERTIES.FINALVALUE[e].color,value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION).toString()});break}}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(t.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=t;l.writeData.data=t;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else{i.call(l,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);i.call(l,e)}});if(!l.writeData.numericData){const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(l.DEFINITION_DATA.EVALUATION_FILTERS,l.DEFINITION_DATA.ADDITIONAL_FILTERS);const t=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,a,null,e);if(t){l.QUERY_SERVICE_MODEL=t.model;l.queryUriForKpiValue=t.uri;l.numericODataReadRef=l.QUERY_SERVICE_MODEL.read(t.uri,null,null,true,e=>{if(e&&e.results&&e.results.length){if(t.unit){l._updateTileModel({unitNumeric:e.results[0][t.unit.name]});l.writeData.unitNumeric=t.unit;l.writeData.unitNumeric.name=t.unit.name}l.writeData.numericData=e.results[0];l.DEFINITION_DATA.value=l.writeData.numericData[l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];l.writeData.numericData.color=l.getTrendColor(l.setThresholdValues());l.DEFINITION_DATA.valueColor=l.writeData.numericData.color;let i="";let o=e.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const s=l.getTrendIndicator(l.setThresholdValues().trendValue,o);if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}l._updateTileModel({value:i.toString(),valueColor:l.writeData.numericData.color,indicator:s})}else{i.call(l,"no Response from QueryServiceUri")}})}}}else{if(u.unit){l._updateTileModel({unit:u.data.results[0][u.unit.name]})}if(u.data&&u.data.results&&u.data.results.length){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;l._updateTileModel({value:u.data.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME]});l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n,l.writeData.unit);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(r.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else{i.call(l,"no Response from QueryServiceUri")}}}catch(e){i.call(l,e)}},flowWithoutDesignTimeCall:function(){const e=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(i){this.CALCULATED_KPI_VALUE=i;e.oDualComparisonView.oGenericTile.setFrameType("TwoByOne");e.oDualComparisonView.oGenericTile.removeAllTileContent();e.oDualComparisonView.oGenericTile.addTileContent(e.oDualComparisonView.oNumericTile);e.oDualComparisonView.oGenericTile.addTileContent(e.oDualComparisonView.oComparisonTile);const t=this.CALCULATED_KPI_VALUE;let l;let o;for(let i=0;i<t.length;i++){if(t[i].title==e.DEFINITION_DATA.EVALUATION.COLUMN_NAME){o=t[i].value;l=t[i].color||"Neutral";e._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),valueColor:l});break}}if(!l&&!o){l=e.DEFINITION_DATA.valueColor;o=e.DEFINITION_DATA.value}this._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),data:this.CALCULATED_KPI_VALUE});const s=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualComparisonView.oGenericTile.$().wrap(`<a href ='${s}'></a>`);this.oDualComparisonView.oGenericTile.setState(a.Loaded);let n="";if(l=="Error"){n="sb.error"}if(l=="Neutral"){n="sb.neutral"}if(l=="Critical"){n="sb.critical"}if(l=="Good"){n="sb.good"}const r=e.setThresholdValues();let u;let c;let E;let T;let A;let C;let L;let I;let h;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){u=this.CALCULATED_KPI_VALUE[0].title;T=this.CALCULATED_KPI_VALUE[0].value;L=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){c=this.CALCULATED_KPI_VALUE[1].title;A=this.CALCULATED_KPI_VALUE[1].value;I=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){E=this.CALCULATED_KPI_VALUE[2].title;C=this.CALCULATED_KPI_VALUE[2].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color)}const g={status:n,actual:o,target:r.targetValue,cH:r.criticalHighValue,wH:r.warningHighValue,wL:r.warningLowValue,cL:r.criticalLowValue};const f={m1:u,v1:T,c1:L,m2:c,v2:A,c2:I,m3:E,v3:C,c3:h};const U=e.oDualComparisonView.oGenericTile.getTileContent()[0].getContent();const p=e.oDualComparisonView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(U,"NT",g);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(p,"COMP",f)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualComparisonView=this.getView();this.oChip=this.oDualComparisonView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oChip.url.getApplicationSystem();this.oDualComparisonView.oGenericTile.setState(a.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),i=>{e.oConfig=i;if(e.oChip.preview){e.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oChip.preview.isEnabled()){e.setTitle();e._updateTileModel({value:1,size:l.Auto,frameType:"TwoByOne",state:a.Loading,valueColor:s.Good,indicator:o.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});e.oDualComparisonView.oGenericTile.setState(a.Loaded)}else{e.setTitle();e.oDualComparisonView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualComparison/DualComparison.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,i,t,o,a,r,s,l,n,u)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualComparison.DualComparison",{getControllerName:function(){return"tiles.indicatorDualComparison.DualComparison"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=this;e.oGenericTileData={};e.oNumericContent=new a({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new r({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});e.oCmprsDataTmpl=new s({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});e.oCmprsChrtTmpl=new l({size:"{/size}",scale:"{/scale}",data:{template:e.oCmprsDataTmpl,path:"/data"}});e.oComparisonTile=new r({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:e.oCmprsChrtTmpl});e.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,e.oComparisonTile]});e.oGenericTileModel=new u;e.oGenericTileModel.setData(e.oGenericTileData);e.oGenericTile.setModel(e.oGenericTileModel);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualContribution/DualContribution.controller", ["sap/m/library","sap/ui/thirdparty/jquery","sap/base/Log"],(e,jQuery,i)=>{"use strict";const t=e.ValueColor;const l=e.Size;const o=e.DeviationIndicator;const s=e.LoadState;sap.ui.controller("tiles.indicatorDualContribution.DualContribution",{getTile:function(){return this.oDualContributionView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i);this.getTile().getModel().updateBindings()},setTitle:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},logError:function(e){this.oDualContributionView.oGenericTile.setState(s.Failed);this.oDualContributionView.oGenericTile.setState(s.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=o.None;if(e>i){t=o.Down}else if(e<i){t=o.Up}return t}catch(e){t.logError(e)}},_processDataForComparisonChart:function(e,i,t){const l=this.oConfig.TILE_PROPERTIES.semanticMeasure;const o=[];let s;for(let n=0;n<e.results.length;n++){const a=e.results[n];const r={};try{r.title=a[t].toString()}catch(e){r.title=""}r.value=Number(a[i]);let u=Number(a[i]);if(this.oConfig.EVALUATION.SCALING==-2){u*=100}s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(u,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);r.displayValue=s.toString();if(typeof l==="undefined"){r.color="Neutral"}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MA"){if(r.value>a[l]){r.color="Good"}else{r.color="Error"}}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MI"){if(r.value<a[l]){r.color="Good"}else{r.color="Error"}}else{r.color="Neutral"}o.push(r)}return o},fetchKpiValue:function(e,t){const l=this;try{const o=this.oConfig.EVALUATION.ODATA_URL;const s=this.oConfig.EVALUATION.ODATA_ENTITYSET;let n;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){n=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{n=this.oConfig.EVALUATION.COLUMN_NAME}let a=this.oConfig.TILE_PROPERTIES.dimension;const r=this.oConfig.EVALUATION_VALUES;const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(l.oConfig.TILE_PROPERTIES.id);if(!u){const r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const u={};u["0"]=`${n},asc`;u["1"]=`${n},desc`;u["2"]=`${a},asc`;u["3"]=`${a},desc`;const c=u[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,a,r,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){T.uri+=`&$top=3&$orderby=${c[0]} ${c[2]}`}else{T.uri+=`&$top=3&$orderby=${c[0]} ${c[1]}`}this.comparisionChartODataRef=T.model.read(T.uri,null,null,true,i=>{if(T.unit[0]){l._updateTileModel({unitContribution:i.results[0][T.unit[0].name]});l.writeData.unitContribution=T.unit[0];l.writeData.unitContribution.name=T.unit[0].name}if(i&&i.results&&i.results.length){a=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(l.oChip.url.addSystemToServiceUrl(o),s,a);l.writeData.dimension=a;l.oConfig.TILE_PROPERTIES.FINALVALUE=i;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],a);l.writeData.data=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(i.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=i;l.writeData.data=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(l.oConfig.TILE_PROPERTIES.id,l.writeData)}else{t.call(l,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){i.error(`${e.message} : ${e.request.requestUri}`);t.call(l,e)}});const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(l.DEFINITION_DATA.EVALUATION_FILTERS,l.DEFINITION_DATA.ADDITIONAL_FILTERS);const C=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(l.oChip.url.addSystemToServiceUrl(o),s,n,null,E);if(C){l.QUERY_SERVICE_MODEL=C.model;l.queryUriForKpiValue=C.uri;l.numericODataReadRef=l.QUERY_SERVICE_MODEL.read(C.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){if(C.unit){l._updateTileModel({unitNumeric:i.results[0][C.unit.name]});l.writeData.unitNumeric=C.unit;l.writeData.unitNumeric.name=C.unit.name}l.writeData.numericData=i;let t="";let o=i.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const s=l.getTrendIndicator(l.setThresholdValues().trendValue,o);if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}l.DEFINITION_DATA.value=o;t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}l._updateTileModel({value:t.toString(),valueColor:l.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution,indicator:s});e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE,o)}else{t.call(l,"no Response from QueryServiceUri")}})}}else{const i=l.setThresholdValues();let o;if(u.unitContribution){l._updateTileModel({unitContribution:u.data.results[0][u.unitContribution.name]})}if(u.unitNumeric){l._updateTileModel({unitNumeric:u.numericData.results[0][u.unitNumeric.name]})}if(u.data&&u.data.results&&u.data.results.length){a=u.dimension;l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data;l.oConfig.TILE_PROPERTIES.FINALVALUE=l._processDataForComparisonChart(l.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],a);e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(r.results.length==0){l.oConfig.TILE_PROPERTIES.FINALVALUE=u.data}else{t.call(l,"no Response from QueryServiceUri")}if(u.numericData&&u.numericData.results&&u.numericData.results.length){o=u.numericData.results[0][l.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(l.oConfig.EVALUATION.SCALING==-2){o*=100;l.getView().oNumericContent.setFormatterValue(false)}const t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(o),l.oConfig.EVALUATION.SCALING,l.oConfig.EVALUATION.DECIMAL_PRECISION);if(l.oConfig.EVALUATION.SCALING==-2){l._updateTileModel({scale:"%"})}const s=l.getTrendIndicator(i.trendValue,o);l._updateTileModel({value:t.toString(),indicator:s,valueColor:l.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution});e.call(l,l.oConfig.TILE_PROPERTIES.FINALVALUE,o)}else{t.call(l,"no Response from QueryServiceUri")}}}catch(e){t.call(l,e)}},flowWithoutDesignTimeCall:function(){const e=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(i,t){this.CALCULATED_KPI_VALUE=i;if(e.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){e.oDualContributionView.oGenericTile.setFrameType("TwoByOne");e.oDualContributionView.oGenericTile.removeAllTileContent();e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oNumericTile);e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oComparisonTile)}else{e.oDualContributionView.oGenericTile.setFrameType("OneByOne");e.oDualContributionView.oGenericTile.removeAllTileContent();e.oDualContributionView.oGenericTile.addTileContent(e.oDualContributionView.oComparisonTile)}const l=this.CALCULATED_KPI_VALUE;const o=this.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution;for(let e=0;e<this.CALCULATED_KPI_VALUE.length;e++){l[e].color=o}this._updateTileModel({data:l});let n=e.setThresholdValues();const a=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualContributionView.oGenericTile.$().wrap(`<a href ='${a}'></a>`);this.oDualContributionView.oGenericTile.setState(s.Loaded);let r="";if(o=="Error"){r="sb.error"}if(o=="Neutral"){r="sb.neutral"}if(o=="Critical"){r="sb.critical"}if(o=="Good"){r="sb.good"}n=e.setThresholdValues();let u;let c;let T;let E;let C;let h;let A;let g;let I;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){u=this.CALCULATED_KPI_VALUE[0].title;E=this.CALCULATED_KPI_VALUE[0].value;A=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){c=this.CALCULATED_KPI_VALUE[1].title;C=this.CALCULATED_KPI_VALUE[1].value;g=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color)}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){T=this.CALCULATED_KPI_VALUE[2].title;h=this.CALCULATED_KPI_VALUE[2].value;I=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color)}const p={status:r,actual:t,target:n.targetValue,cH:n.criticalHighValue,wH:n.warningHighValue,wL:n.warningLowValue,cL:n.criticalLowValue};const d={m1:u,v1:E,c1:A,m2:c,v2:C,c2:g,m3:T,v3:h,c3:I};const f=e.oDualContributionView.oGenericTile.getTileContent()[0].getContent();const m=e.oDualContributionView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(f,"NT",p);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(m,"CONT",d)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}if(e){this.refreshHandler(this)}},onInit:function(){const e=this;e.writeData={};this.firstTimeVisible=false;this.oDualContributionView=this.getView();this.oChip=this.oDualContributionView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oChip.url.getApplicationSystem();this.oDualContributionView.oGenericTile.setState(s.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),i=>{e.oConfig=i;if(e.oChip.preview){e.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oChip.preview.isEnabled()){e.setTitle();e._updateTileModel({value:8888,size:l.Auto,frameType:"TwoByOne",state:s.Loading,valueColor:t.Error,indicator:o.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});e.oDualContributionView.oGenericTile.setState(s.Loaded)}else{e.setTitle();e.oDualContributionView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualContribution/DualContribution.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,i,t,o,a,r,n,l,s,u)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualContribution.DualContribution",{getControllerName:function(){return"tiles.indicatorDualContribution.DualContribution"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=this;e.oGenericTileData={};e.oNumericContent=new a({value:"{/value}",scale:"{/scale}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new r({unit:"{/unitNumeric}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});e.oCmprsDataTmpl=new n({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});e.oCmprsChrtTmpl=new l({size:"{/size}",scale:"{/scale}",data:{template:e.oCmprsDataTmpl,path:"/data"}});e.oComparisonTile=new r({unit:"{/unitContribution}",size:"{/size}",footer:"{/footerComp}",content:e.oCmprsChrtTmpl});e.oGenericTile=new s({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,e.oComparisonTile]});e.oGenericTileModel=new u;e.oGenericTileModel.setData(e.oGenericTileData);e.oGenericTile.setModel(e.oGenericTileModel);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.controller", ["sap/ui/model/json/JSONModel","sap/m/library","sap/ui/thirdparty/jquery"],(e,i,jQuery)=>{"use strict";const t=i.DeviationIndicator;const l=i.ValueColor;const o=i.LoadState;sap.ui.controller("tiles.indicatorDualDeviation.DualDeviation",{logError:function(e){this.oDualDeviationView.oGenericTile.setState(o.Failed);this.oDualDeviationView.oGenericTile.setState(o.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},getThresholdsObjAndColor:function(e){try{const i={};i.arrObj=[];i.returnColor=l.Neutral;const t=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let o;let a;let s;let r;if(t==="MI"){s=Number(e.criticalHighValue)||0;r=Number(e.warningHighValue)||0;if(s&&r){s=window.parseFloat(s);r=window.parseFloat(r);i.arrObj.push({value:s,color:l.Error});i.arrObj.push({value:r,color:l.Critical});if(this.CALCULATED_KPI_VALUE<r){i.returnColor=l.Good}else if(this.CALCULATED_KPI_VALUE<=s){i.returnColor=l.Critical}else{i.returnColor=l.Error}}}else if(t==="MA"){a=Number(e.criticalLowValue)||0;o=Number(e.warningLowValue)||0;if(a&&o){a=window.parseFloat(a);o=window.parseFloat(o);i.arrObj.push({value:a,color:l.Error});i.arrObj.push({value:o,color:l.Critical});if(this.CALCULATED_KPI_VALUE<a){i.returnColor=l.Error}else if(this.CALCULATED_KPI_VALUE<=o){i.returnColor=l.Critical}else{i.returnColor=l.Good}}}else{s=Number(e.criticalHighValue)||0;r=Number(e.warningHighValue)||0;a=Number(e.criticalLowValue)||0;o=Number(e.warningLowValue)||0;if(o&&r&&a&&a){s=window.parseFloat(s);r=window.parseFloat(r);o=window.parseFloat(o);a=window.parseFloat(a);i.arrObj.push({value:s,color:l.Error});i.arrObj.push({value:r,color:l.Critical});i.arrObj.push({value:o,color:l.Critical});i.arrObj.push({value:a,color:l.Error});if(this.CALCULATED_KPI_VALUE<a||this.CALCULATED_KPI_VALUE>s){i.returnColor=l.Error}else if(this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=o||this.CALCULATED_KPI_VALUE>=r&&this.CALCULATED_KPI_VALUE<=s){i.returnColor=l.Critical}else{i.returnColor=l.Good}}}return i}catch(e){this.logError(e)}},getTrendIndicator:function(e,i){const l=this;e=Number(e);try{let l=t.None;if(e>i){l=t.Down}else if(e<i){l=t.Up}return l}catch(e){l.logError(e)}},getTile:function(){return this.oDualDeviationView.oGenericTile},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i},fetchKpiValue:function(e,i){const t=this;let l=0;try{const o=this.DEFINITION_DATA.EVALUATION.ODATA_URL;const a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;let s=this.setThresholdValues();const r=s.fullyFormedMeasure;const n=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!n){const n=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);const u=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(o),a,r,null,n);if(u){this.QUERY_SERVICE_MODEL=u.model;this.queryUriForKpiValue=u.uri;try{this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(u.uri,null,null,true,o=>{t.writeData={};if(o&&o.results&&o.results.length){l=o.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(u.unit[0]){t._updateTileModel({unit:o.results[0][u.unit[0].name]});t.writeData.unit=u.unit[0];t.writeData.unit.name=u.unit[0].name}t.writeData.numericData=o;let i="";let a=l;if(t.oConfig.EVALUATION.SCALING==-2){a*=100;t.getView().oNumericContent.setFormatterValue(false)}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(a),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);const r=t.getTrendIndicator(s.trendValue,a);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"})}t._updateTileModel({value:i.toString(),indicator:r,valueColor:t.getThresholdsObjAndColor(s).returnColor});t.writeData.data=o;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){s.criticalHighValue=o.results[0][s.sCriticalHigh];s.criticalLowValue=o.results[0][s.sCriticalLow];s.warningHighValue=o.results[0][s.sWarningHigh];s.warningLowValue=o.results[0][s.sWarningLow];s.targetValue=o.results[0][s.sTarget];s.trendValue=o.results[0][s.sTrend]}e.call(t,l,s)}else{i.call(t,"no Response from QueryServiceUri")}},e=>{if(e&&e.response){i.call(t,e.message)}})}catch(e){t.logError("Error in Query Service URI")}}}else if(n.data&&n.data.results&&n.data.results.length){let i;s=t.setThresholdValues();i=n.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(true)}if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"})}const l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);const o=t.getTrendIndicator(s.trendValue,i);if(n.unit){t._updateTileModel({unit:n.data.results[0][n.unit.name]})}t._updateTileModel({indicator:o,value:l.toString()});if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){s.criticalHighValue=n.data.results[0][s.sCriticalHigh];s.criticalLowValue=n.data.results[0][s.sCriticalLow];s.warningHighValue=n.data.results[0][s.sWarningHigh];s.warningLowValue=n.data.results[0][s.sWarningLow];s.targetValue=n.data.results[0][s.sTarget];s.trendValue=n.data.results[0][s.sTrend]}e.call(t,n.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME],s)}else{i.call(t,"no Response from QueryServiceUri")}}catch(e){i.call(t,e)}},flowWithoutDesignTimeCall:function(){const e=this;let i;let t;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(l,a){let s=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){s*=100}i=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(s),this.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);this.CALCULATED_KPI_VALUE=Number(l);const r={};const n=this.getThresholdsObjAndColor(a);const u={value:Number(l),color:n.returnColor};r.valueColor=u.color;r.actualValueLabel=i.toString();r.actual=u;const c=this.DEFINITION_DATA.EVALUATION_VALUES;let T;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T=Number(a.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){T*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(T,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);r.targetValue=Number(a.targetValue);r.targetValueLabel=t.toString()}else{for(let e=0;e<c.length;e++){if(c[e].TYPE==="TA"){T=Number(c[e].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){T*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(T);r.targetValue=Number(c[e].FIXED);r.targetValueLabel=t.toString()}}}this._updateTileModel(r);const g=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualDeviationView.oGenericTile.$().wrap(`<a href ='${g}'></a>`);this.oDualDeviationView.oGenericTile.setState(o.Loaded);let h="";if(r.valueColor=="Error"){h="sb.error"}if(r.valueColor=="Neutral"){h="sb.neutral"}if(r.valueColor=="Critical"){h="sb.critical"}if(r.valueColor=="Good"){h="sb.good"}const E={status:h,actual:s,target:a.targetValue,cH:a.criticalHighValue,wH:a.warningHighValue,wL:a.warningLowValue,cL:a.criticalLowValue};const A=E;const d=e.oDualDeviationView.oGenericTile.getTileContent()[0].getContent();const C=e.oDualDeviationView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(d,"NT",E);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"DT",A)},this.logError)}},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef)}if(e){this.refreshHandler(this)}},setTextInTile:function(){const e=this;const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:i.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:i.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualDeviationView=this.getView();this.oViewData=this.oDualDeviationView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oTileApi.url.getApplicationSystem();this.oDualDeviationView.oGenericTile.setState(o.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(e.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),e.oTileApi.preview.isEnabled(),i=>{e.oConfig=i;e.setTextInTile();if(e.oTileApi.preview){e.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system))}if(e.oTileApi.preview.isEnabled()){e._updateTileModel({valueColor:"Good",value:100,frameType:"TwoByOne",unit:"USD",actual:{value:120,color:l.Good},targetValue:100,thresholds:[{value:0,color:l.Error},{value:50,color:l.Critical},{value:150,color:l.Critical},{value:200,color:l.Error}],showActualValue:true,showTargetValue:true});e.oDualDeviationView.oGenericTile.setState(o.Loaded)}else{e.oDualDeviationView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}})}catch(e){this.logError(e)}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new e({}))}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/m/NumericContent","sap/m/TileContent","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,o,l,s,u,r,n,c)=>{"use strict";const m=o.Size;const h=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualDeviation.DualDeviation",{getControllerName:function(){return"tiles.indicatorDualDeviation.DualDeviation"},createContent:function(){const e=this;this.setHeight("100%");this.setWidth("100%");let t="Lorem ipsum";let a="Lorem ipsum";const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(i.title&&i.subTitle){t=i.title;a=i.subTitle}const o={subheader:a,header:t,footerNum:"",footerComp:"",frameType:"TwoByOne",state:h.Loading,scale:""};e.oNumericContent=new l({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});e.oNumericTile=new s({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oNumericContent});const p=new u({value:"{value}",color:"{color}"});e.oBCTmpl=new r({size:m.Auto,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:p,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});const d=new s({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:e.oBCTmpl});e.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[e.oNumericTile,d]});const T=new c;T.setData(o);e.oGenericTile.setModel(T);return e.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualTrend/DualTrend.controller", ["sap/ui/model/json/JSONModel","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartItem","sap/m/library","sap/ui/thirdparty/jquery"],(e,i,t,l,jQuery)=>{"use strict";const a=l.Size;const s=l.ValueColor;const r=l.DeviationIndicator;const o=l.LoadState;sap.ui.controller("tiles.indicatorDualTrend.DualTrend",{logError:function(e){this.oDualTrendView.oGenericTile.setState(o.Failed);this.oDualTrendView.oGenericTile.setState(o.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e)},formSelectStatement:function(e){const i=Object.keys(e);let t="";for(let l=0;l<i.length;l++){if(e[i[l]]!==undefined&&e.fullyFormedMeasure){t+=`,${e[i[l]]}`}}return t},setThresholdValues:function(){const e=this;try{const i={};i.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"MA":i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break;case"RA":i.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");i.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");i.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");i.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");i.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");i.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");i.fullyFormedMeasure+=e.formSelectStatement(i);break}}else{i.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","FIXED");i.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","FIXED");i.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","FIXED");i.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","FIXED");i.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","FIXED");i.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","FIXED")}return i}catch(i){e.logError(i)}},getTrendIndicator:function(e,i){const t=this;e=Number(e);try{let t=r.None;if(e>i){t=r.Down}else if(e<i){t=r.Up}return t}catch(e){t.logError(e)}},getTile:function(){return this.oDualTrendView.oGenericTile},getTrendColor:function(e){const i=this;try{const i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let t=s.Neutral;if(i==="MI"){if(e.criticalHighValue&&e.warningHighValue){e.criticalHighValue=Number(e.criticalHighValue);e.warningHighValue=Number(e.warningHighValue);if(this.CALCULATED_KPI_VALUE<e.warningHighValue){t=s.Good}else if(this.CALCULATED_KPI_VALUE<=e.criticalHighValue){t=s.Critical}else{t=s.Error}}}else if(i==="MA"){if(e.criticalLowValue&&e.warningLowValue){e.criticalLowValue=Number(e.criticalLowValue);e.warningLowValue=Number(e.warningLowValue);if(this.CALCULATED_KPI_VALUE<e.criticalLowValue){t=s.Error}else if(this.CALCULATED_KPI_VALUE<=e.warningLowValue){t=s.Critical}else{t=s.Good}}}else if(e.warningLowValue&&e.warningHighValue&&e.criticalLowValue&&e.criticalHighValue){e.criticalHighValue=Number(e.criticalHighValue);e.warningHighValue=Number(e.warningHighValue);e.warningLowValue=Number(e.warningLowValue);e.criticalLowValue=Number(e.criticalLowValue);if(this.CALCULATED_KPI_VALUE<e.criticalLowValue||this.CALCULATED_KPI_VALUE>e.criticalHighValue){t=s.Error}else if(this.CALCULATED_KPI_VALUE>=e.criticalLowValue&&this.CALCULATED_KPI_VALUE<=e.warningLowValue||this.CALCULATED_KPI_VALUE>=e.warningHighValue&&this.CALCULATED_KPI_VALUE<=e.criticalHighValue){t=s.Critical}else{t=s.Good}}return t}catch(e){i.logError(e)}},_updateTileModel:function(e){const i=this.getTile().getModel().getData();jQuery.extend(i,e);this.getTile().getModel().setData(i)},onAfterFinalEvaluation:function(){const e=this;const l=this.DEFINITION_DATA.EVALUATION.ODATA_URL;const a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;const s=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;let r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);let n=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(n==undefined){this.logError();return}const u=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;const c=this.DEFINITION_DATA.EVALUATION_VALUES;let T;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){let i=s;switch(u){case"MI":e.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");e.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");if(e.sWarningHigh&&e.sCriticalHigh&&e.sTarget){i+=`,${e.sWarningHigh},${e.sCriticalHigh},${e.sTarget}`}break;case"MA":e.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");e.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");if(e.sWarningLow&&e.sCriticalLow&&e.sTarget){i+=`,${e.sWarningLow},${e.sCriticalLow},${e.sTarget}`}break;case"RA":e.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WH","MEASURE");e.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CH","MEASURE");e.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TA","MEASURE");e.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"TC","MEASURE");e.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"WL","MEASURE");e.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(e.oConfig,"CL","MEASURE");if(e.sWarningLow&&e.sCriticalLow&&e.sTarget&&e.sWarningHigh&&e.sCriticalHigh){i+=`,${e.sWarningLow},${e.sCriticalLow},${e.sTarget},${e.sWarningHigh},${e.sCriticalHigh}`}break}T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,i,n,r)}else{T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,s,n,r)}const h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e.oConfig.TILE_PROPERTIES.id);function E(l,a){const r=[];const o=[];const T=[];const h=[];const E=[];const g=[];let d=l.firstXlabel;let A;let f;let m;let L;let C;let N=l.lastXlabel;const p=Number(l.results[0][s]);const I=Number(l.results[l.results.length-1][s]);let U;for(U in l.results){l.results[U][n]=Number(U);l.results[U][s]=Number(l.results[U][s]);if(e.sWarningHigh){l.results[U][e.sWarningHigh]=Number(l.results[U][e.sWarningHigh])}if(e.sCriticalHigh){l.results[U][e.sCriticalHigh]=Number(l.results[U][e.sCriticalHigh])}if(e.sCriticalLow){l.results[U][e.sCriticalLow]=Number(l.results[U][e.sCriticalLow])}if(e.sWarningLow){l.results[U][e.sWarningLow]=Number(l.results[U][e.sWarningLow])}if(e.sTarget){l.results[U][e.sTarget]=Number(l.results[U][e.sTarget])}if(e.sWarningHigh){T.push(l.results[U][e.sWarningHigh])}if(e.sCriticalHigh){h.push(l.results[U][e.sCriticalHigh])}if(e.sCriticalLow){E.push(l.results[U][e.sCriticalLow])}if(e.sWarningLow){g.push(l.results[U][e.sWarningLow])}r.push(l.results[U][n]);o.push(l.results[U][s])}try{d=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(d);N=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(N)}catch(i){e.logError(i)}let V=Number(p);if(e.oConfig.EVALUATION.SCALING==-2){V*=100}const w=Math.min.apply(Math,o);let M=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(V,e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){M+=" %"}const S=M.toString();let D=Number(I);if(e.oConfig.EVALUATION.SCALING==-2){D*=100}const b=Math.max.apply(Math,o);let R=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(D,e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){R+=" %"}const O=R.toString();let H;let _;try{H=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,r));_=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,r))}catch(i){e.logError(i)}if(a=="MEASURE"){if(T.length!=0){e.firstwH=T[H];e.lastwH=T[_]}if(h.length!=0){e.firstcH=h[H];e.lastcH=h[_]}if(E.length!=0){e.firstcL=E[H];e.lastcL=E[_]}if(g.length!=0){e.firstwL=g[H];e.lastwL=g[_]}}const F={width:"100%",height:"100%",unit:e.unit||"",chart:{color:"Neutral",data:l.results},size:"Auto",minXValue:H,maxXValue:_,minYValue:w,maxYValue:b,firstXLabel:{label:`${d}`,color:"Neutral"},lastXLabel:{label:`${N}`,color:"Neutral"},firstYLabel:{label:`${S}`,color:"Neutral"},lastYLabel:{label:`${O}`,color:"Neutral"},minLabel:{},maxLabel:{}};let v;switch(u){case"MA":for(U in c){if(c[U].TYPE=="CL"){F.minThreshold={color:"Error"};v={};v[n]="";v[s]=Number(c[U].FIXED);e.cl=Number(c[U].FIXED);F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sCriticalLow:s}else if(c[U].TYPE=="WL"){F.maxThreshold={color:"Good"};v={};v[n]="";v[s]=Number(c[U].FIXED);F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sWarningLow:s;e.wl=Number(c[U].FIXED)}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}F.innerMinThreshold={data:[]};F.innerMaxThreshold={data:[]};if(a=="FIXED"){F.firstYLabel.color=p<e.cl?"Error":e.cl<=p&&p<=e.wl?"Critical":p>e.wl?"Good":"Neutral";F.lastYLabel.color=I<e.cl?"Error":e.cl<=I&&I<=e.wl?"Critical":I>e.wl?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwL&&e.lastwL&&e.firstcL&&e.lastcL){F.firstYLabel.color=p<e.firstcL?"Error":e.firstcL<=p&&p<=e.firstwL?"Critical":p>e.firstwL?"Good":"Neutral";F.lastYLabel.color=I<e.lastcL?"Error":e.lastcL<=I&&I<=e.lastwL?"Critical":I>e.lastwL?"Good":"Neutral"}break;case"MI":for(U in c){if(c[U].TYPE=="CH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.ch=Number(c[U].FIXED);F.maxThreshold={color:"Error"};F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sCriticalHigh:s}else if(c[U].TYPE=="WH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wh=Number(c[U].FIXED);F.minThreshold={color:"Good"};F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sWarningHigh:s}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}if(a=="FIXED"){F.firstYLabel.color=p>e.ch?"Error":e.wh<=p&&p<=e.ch?"Critical":p<e.wh?"Good":"Neutral";F.lastYLabel.color=I>e.ch?"Error":e.wh<=I&&I<=e.ch?"Critical":I<e.wh?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwH&&e.lastwH&&e.firstcH&&e.lastcH){F.firstYLabel.color=p>e.firstcH?"Error":e.firstwH<=p&&p<=e.firstcH?"Critical":p<e.firstwH?"Good":"Neutral";F.lastYLabel.color=I>e.lastcH?"Error":e.lastwH<=I&&I<=e.lastcH?"Critical":I<e.lastwH?"Good":"Neutral"}F.innerMaxThreshold={data:[]};F.innerMinThreshold={data:[]};break;case"RA":for(U in c){if(c[U].TYPE=="CH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.ch=Number(c[U].FIXED);F.maxThreshold={color:"Error"};F.maxThreshold.data=a=="MEASURE"?l.results:[v];f=a=="MEASURE"?e.sCriticalHigh:s}else if(c[U].TYPE=="WH"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wh=Number(c[U].FIXED);F.innerMaxThreshold={color:"Good"};F.innerMaxThreshold.data=a=="MEASURE"?l.results:[v];L=a=="MEASURE"?e.sWarningHigh:s}else if(c[U].TYPE=="WL"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.wl=Number(c[U].FIXED);F.innerMinThreshold={color:"Good"};F.innerMinThreshold.data=a=="MEASURE"?l.results:[v];m=a=="MEASURE"?e.sWarningLow:s}else if(c[U].TYPE=="CL"){v={};v[n]="";v[s]=Number(c[U].FIXED);e.cl=Number(c[U].FIXED);F.minThreshold={color:"Error"};F.minThreshold.data=a=="MEASURE"?l.results:[v];A=a=="MEASURE"?e.sCriticalLow:s}else if(c[U].TYPE=="TA"){v={};v[n]="";v[s]=Number(c[U].FIXED);F.target={color:"Neutral"};F.target.data=a=="MEASURE"?l.results:[v];C=a=="MEASURE"?e.sTarget:s}}if(a=="FIXED"){F.firstYLabel.color=p>e.ch||p<e.cl?"Error":e.wh<=p&&p<=e.ch||e.cl<=p&&p<=e.wl?"Critical":p>=e.wl&&p<=e.wh?"Good":"Neutral";F.lastYLabel.color=I>e.ch||I<e.cl?"Error":e.wh<=I&&I<=e.ch||e.cl<=I&&I<=e.wl?"Critical":I>=e.wl&&I<=e.wh?"Good":"Neutral"}else if(a=="MEASURE"&&e.firstwL&&e.lastwL&&e.firstcL&&e.lastcL&&e.firstwH&&e.lastwH&&e.firstcH&&e.lastcH){F.firstYLabel.color=p>e.firstcH||p<e.firstcL?"Error":e.firstwH<=p&&p<=e.firstcH||e.firstcL<=p&&p<=e.firstwL?"Critical":p>=e.firstwL&&p<=e.firstwH?"Good":"Neutral";F.lastYLabel.color=I>e.lastcH||I<e.lastcL?"Error":e.lastwH<=I&&I<=e.lastcH||e.lastcL<=I&&I<=e.lastwL?"Critical":I>=e.lastwL&&I<=e.lastwH?"Good":"Neutral"}break}function y(e,l,a){return new t({color:`{/${e}/color}`,points:{path:`/${e}/data`,template:new i({x:`{${l}}`,y:`{${a}}`})}})}e.getTile().getTileContent()[1].getContent().setTarget(y("target",n,C));e.getTile().getTileContent()[1].getContent().setInnerMinThreshold(y("innerMinThreshold",n,m));e.getTile().getTileContent()[1].getContent().setInnerMaxThreshold(y("innerMaxThreshold",n,L));e.getTile().getTileContent()[1].getContent().setMinThreshold(y("minThreshold",n,A));e.getTile().getTileContent()[1].getContent().setMaxThreshold(y("maxThreshold",n,f));e.getTile().getTileContent()[1].getContent().setChart(y("chart",n,s));e._updateTileModel(F)}if(!h){if(T){this.queryUriForTrendChart=T.uri;e.writeData={};try{this.trendChartODataReadRef=T.model.read(T.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){if(T.unit[0]){e.unit=i.results[0][T.unit[0].name];e.writeData.unit=T.unit[0];e.writeData.unit.name=T.unit[0].name}e.queryUriResponseForTrendChart=i;n=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(e.oTileApi.url.addSystemToServiceUrl(l),a,n);i.firstXlabel=i.results[0][n];i.lastXlabel=i.results[i.results.length-1][n];e.writeData.data=i;e.writeData.dimensionName=n;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,e.writeData);const t=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system);e.oDualTrendView.oGenericTile.$().wrap(`<a href ='${t}'></a>`);e.oDualTrendView.oGenericTile.setState(o.Loaded);E(i,e.DEFINITION_DATA.EVALUATION.VALUES_SOURCE)}else{e.logError("no Response from QueryServiceUri")}},i=>{if(i&&i.response){e.logError("Data call failed")}})}catch(i){e.logError(i)}}else{e.logError()}r=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(e.DEFINITION_DATA.EVALUATION_FILTERS,e.DEFINITION_DATA.ADDITIONAL_FILTERS);T=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(e.oTileApi.url.addSystemToServiceUrl(l),a,s,null,r);if(T){e.QUERY_SERVICE_MODEL=T.model;e.queryUriForKpiValue=T.uri;e.numericODataReadRef=e.QUERY_SERVICE_MODEL.read(T.uri,null,null,true,i=>{if(i&&i.results&&i.results.length){let t="";let l=i.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME];e.writeData.numericData=i;if(e.oConfig.EVALUATION.SCALING==-2){l*=100}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(l),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);if(e.oConfig.EVALUATION.SCALING==-2){e._updateTileModel({scale:"%"})}const a=e.getTrendIndicator(e.setThresholdValues().trendValue,l);e._updateTileModel({value:t.toString(),valueColor:e.getTrendColor(e.setThresholdValues()),indicator:a})}else{fnError.call(e,"no Response from QueryServiceUri")}})}}else{try{if(h.unit!==undefined){e.unit=h.data.results[0][h.unit.name]}e.queryUriResponseForTrendChart=h.data;n=h.dimensionName;const i=h.numericData.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME];const t=e.getTrendIndicator(e.setThresholdValues().trendValue,h.data.results[0][e.DEFINITION_DATA.EVALUATION.COLUMN_NAME]);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),e.oConfig.EVALUATION.SCALING,e.oConfig.EVALUATION.DECIMAL_PRECISION);e.oDualTrendView.oGenericTile.setState(o.Loaded);E(h.data,e.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);e._updateTileModel({value:l.toString(),valueColor:e.getTrendColor(e.setThresholdValues()),indicator:t})}catch(i){e.logError(i)}}},flowWithoutDesignTimeCall:function(){this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true}this.onAfterFinalEvaluation()},flowWithDesignTimeCall:function(){const e=this;try{const i=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(i){e.oConfig.EVALUATION_FILTERS=i.EVALUATION_FILTERS;e.flowWithoutDesignTimeCall()}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,i=>{e.oConfig.EVALUATION_FILTERS=i;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()})}}catch(e){this.logError(e)}},refreshHandler:function(e){if(!e.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}}},visibleHandler:function(e){if(!e){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef)}if(e){this.refreshHandler(this)}},setTextInTile:function(){const e=this;this._updateTileModel({header:e.oTileApi.preview.getTitle()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(e.oConfig),subheader:e.oTileApi.preview.getDescription()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(e.oConfig)})},onInit:function(){const e=this;this.firstTimeVisible=false;this.oDualTrendView=this.getView();this.oViewData=this.oDualTrendView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this))}this.system=this.oTileApi.url.getApplicationSystem();this.oDualTrendView.oGenericTile.setState(o.Loading);if(this.oTileApi.preview.isEnabled()){this.setTextInTile();this._updateTileModel({value:8888,size:a.Auto,frameType:"TwoByOne",state:o.Loading,valueColor:s.Error,indicator:r.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oDualTrendView.oGenericTile.setState(o.Loaded)}else{try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),i=>{e.oConfig=i;e.setTextInTile();e.oDualTrendView.oGenericTile.attachPress(()=>{sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(e.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(e.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(e.oConfig,e.system)});if(Number(e.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(e.oConfig.TILE_PROPERTIES.id,e.oConfig);e.flowWithoutDesignTimeCall()}else{e.flowWithDesignTimeCall()}})}catch(e){this.logError(e)}}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new e({}))}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef)}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorDualTrend/DualTrend.view", ["sap/ui/core/mvc/JSView","sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/AreaMicroChartItem","sap/suite/ui/microchart/AreaMicroChartPoint","sap/suite/ui/microchart/AreaMicroChartLabel","sap/suite/ui/microchart/AreaMicroChart","sap/m/TileContent","sap/m/NumericContent","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,a,t,i,r,n,s,l,o,u,c,h)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("tiles.indicatorDualTrend.DualTrend",{getControllerName:function(){return"tiles.indicatorDualTrend.DualTrend"},createContent:function(){this.setHeight("100%");this.setWidth("100%");function e(e){return new r({color:"Good",points:{path:`/${e}/data`,template:new n({x:"{day}",y:"{balance}"})}})}function a(e){return new s({label:`{/${e}/label}`,color:`{/${e}/color}`})}const t={footer:"",header:"",subheader:""};const i=new l({width:"{/width}",height:"{/height}",size:"{/size}",target:e("target"),innerMinThreshold:e("innerMinThreshold"),innerMaxThreshold:e("innerMaxThreshold"),minThreshold:e("minThreshold"),maxThreshold:e("maxThreshold"),chart:e("chart"),minXValue:"{/minXValue}",maxXValue:"{/maxXValue}",minYValue:"{/minYValue}",maxYValue:"{/maxYValue}",firstXLabel:a("firstXLabel"),lastXLabel:a("lastXLabel"),firstYLabel:a("firstYLabel"),lastYLabel:a("lastYLabel"),minLabel:a("minLabel"),maxLabel:a("maxLabel")});const m=new o({unit:"{/unit}",size:"{/size}",content:i});const d=new u({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",size:"{/size}",formatterValue:true,truncateValueTo:6,valueColor:"{/valueColor}"});const b=new o({unit:"{/unit}",size:"{/size}",content:d});this.oGenericTile=new c({subheader:"{/subheader}",frameType:"TwoByOne",size:"{/size}",header:"{/header}",tileContent:[b,m]});const p=new h;p.setData(t);this.oGenericTile.setModel(p);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.controller", ["sap/ui/model/json/JSONModel","sap/suite/ui/commons/library"],(e,t)=>{"use strict";const i=t.InfoTileValueColor;const a=t.InfoTileSize;const s=t.LoadState;sap.ui.controller("tiles.indicatorHarveyBall.HarveyBallTile",{onInit:function(){this.getView().setModel(new e);this.initializeVariables();this.attachHandlers();this.getVariable("tile").setState(s.Loading);this.readChipConfiguration()},attachHandlers:function(){const e=this;const t=this.getVariable("chip");if(t.visible){t.visible.attachVisible(t=>{if(t){e.onVisible()}else{e.abortAllOpenODataRequests()}})}this.getVariable("tile").attachPress(()=>{e.abortAllOpenODataRequests();const t=e.getVariable("indicatorUtils");e.getVariable("cache").setKpivalueById(e.getVariable("chipId"),null);window.location.hash=t.getNavigationTarget(e.getVariable("evalData"),e.getVariable("system"))})},initializeVariables:function(){this._variables={};this._oDataRequests={};const e=this.getView();const t=e.getViewData();const i=e.oTile;const a=t.chip;this.setVariable("indicatorUtils",sap.ushell.components.tiles.indicatorTileUtils.util);this.setVariable("cache",sap.ushell.components.tiles.indicatorTileUtils.cache);this.setVariable("hasAppeared",false);this.setVariable("chip",a);this.setVariable("tile",i);this.setVariable("tileControl",i.getTileContent()[0].getContent());this.setVariable("configurationString",a.configuration.getParameterValueAsString("tileConfiguration"));this.setVariable("system",a.url.getApplicationSystem())},getVariable:function(e){return this._variables[e]},setVariable:function(e,t){this._variables[e]=t},readChipConfiguration:function(){const e=this;const t=this.getVariable("chip");const i=this.getVariable("indicatorUtils");i.getParsedChip(this.getVariable("configurationString"),a=>{e.setVariable("evalData",a);e.setVariable("chipId",a.TILE_PROPERTIES.id);e.setVariable("tileProperties",a.TILE_PROPERTIES);if(t.preview){t.preview.setTargetUrl(i.getNavigationTarget(a,e.getVariable("system")));e.loadPreviewData();if(t.preview.isEnabled()){e.getVariable("tile").setState(s.Loaded)}else{e.loadActualData()}}})},loadPreviewData:function(){const e=this.getVariable("indicatorUtils").getTileTitleSubtitle(this.getVariable("chip"));this.getView().getModel().setData({fractionValue:34,value:100,size:a.Auto,frameType:"OneByOne",color:"Good",state:s.Loading,header:e.title||this.getVariable("indicatorUtils").getChipTitle(this.getVariable("evalData")),subheader:e.subTitle||this.getVariable("indicatorUtils").getChipSubTitle(this.getVariable("evalData"))})},loadActualData:function(){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.getVariable("cache").setEvaluationById(this.getVariable("chipId"),this.getVariable("evalData"));this.onEvalFiltersFetched()}else{this.fetchEvalFilters(this.onEvalFiltersFetched)}},registerOpenODataRequest:function(e,t){this._oDataRequests[e]=t},deregisterOpenODataRequest:function(e){delete this._oDataRequests[e]},abortAllOpenODataRequests:function(){for(const e in this._oDataRequests){try{this.getVariable("indicatorUtils").abortPendingODataCalls(this._oDataRequests[e]);delete this._oDataRequests[e]}catch(e){}}},fetchKpiValue:function(e){const t=this;let i;let a;function s(e,s,l,r,o){const n=e.read(s,null,null,true,e=>{t.deregisterOpenODataRequest(l.type);if(e&&e.results&&e.results.length){try{if(l.thresholds&&l.thresholds.length){t._setThresholdValues(e.results[0])}i[l.type]=e.results[0][l.measure];i.unit=i.unit||e.results[0][l.unit]||"";if(--a==0){t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),i);r.call(t,i)}}catch(e){t.logError(e)}}else{o.call(t,"no data")}},e=>{t.deregisterOpenODataRequest(l.type);if(e&&e.response){o.call(t,e.message)}});t.registerOpenODataRequest(l.type,n)}const l=this.getVariable("indicatorUtils");const r=this.getVariable("cache").getKpivalueById(this.getVariable("chipId"));if(r){e.fnS.call(t,r)}else{const r=e.measure1;const o=e.measure2;const n=e.url;const h=e.entitySet;const c=e.filters;const u=e.fractionFilters.concat(c);let V;a=2;u.forEach(e=>{e.value=`${e.value}`;e.valueTo=`${e.valueTo}`});if(e.thresholds&&e.thresholds.length){V=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,`${r},${e.thresholds}`,null,c)}else{V=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,r,null,c)}const g=l.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(n),h,o,null,u);const f=V.unit[0];const b=g.unit[0];i={kpiValue:null,fractionValue:null,unit:""};if(V){s(V.model,V.uri,{measure:r,type:"kpiValue",unit:f,thresholds:e.thresholds},e.fnS,e.fnE)}if(g){s(g.model,g.uri,{measure:o,type:"fractionValue",unit:b},e.fnS,e.fnE)}if(!(V&&g)){e.fnE.call(t,"Error Preparing Query Service URI")}}},_setThresholdValues:function(e){const t=this.getVariable("oThreshold");let i;if(t){if(this.getVariable("evalData").EVALUATION.VALUES_SOURCE=="RELATIVE"){if(t.TA.COLUMN_NAME){t.TA.VALUE=parseFloat(e[t.TA.COLUMN_NAME]);for(i in t){if(!t[i].COLUMN_NAME){t[i].VALUE=t.TA.VALUE*t[i].VALUE/100}}}}else{for(i in t){if(t[i].COLUMN_NAME){t[i].VALUE=parseFloat(e[t[i].COLUMN_NAME])}}}}this.setVariable("oThreshold",t)},getThresholdObject:function(){let e=this.getVariable("oThreshold");if(!e){const t=this.getVariable("evalData").EVALUATION_VALUES;e={};for(let i=0,a=t.length;i<a;i++){e[t[i].TYPE]={VALUE:parseFloat(t[i].FIXED),COLUMN_NAME:t[i].COLUMN_NAME}}this.setVariable("oThreshold",e)}return e},hasSomeValue:function(){let e=true;if(arguments.length){for(let t=0,i=arguments.length;t<i;t++){if(!(arguments[t]||arguments[t]=="0")){e=false;break}}}else{e=false}return e},getTrendColor:function(e){let t="Neutral";let a;let s;let l;let r;let o;let n;if(this.getVariable("tileProperties").isFractionMeasure){a=this.getThresholdObject();s=this.getVariable("evalData").EVALUATION.GOAL_TYPE;if(s=="MA"){l=a.WL;o=a.CL;if(this.hasSomeValue(l,o)){t="Good";if(e<o.VALUE){t="Error"}else if(e<=l.VALUE){t="Critical"}}}else if(s=="MI"){r=a.WH;n=a.CH;if(this.hasSomeValue(r,n)){t="Error";if(e<r.VALUE){t="Good"}else if(e<=n.VALUE){t="Critical"}}}else{l=a.WL;o=a.CL;r=a.WH;n=a.CH;if(this.hasSomeValue(r,n,o,l)){if(e<=o.VALUE||e>=r.VALUE){t="Error"}else if(l.VALUE>=e&&e>=o.VALUE||n.VALUE>=e&&e>=r.VALUE){t="Critical"}else{t="Good"}}}}return i[t]},_getThresholdMeasures:function(){const e=[];const t=this.getThresholdObject();for(const i in t){if(t[i].COLUMN_NAME){e.push(t[i].COLUMN_NAME)}}return e},onEvalFiltersFetched:function(){const e=this;if(this.getVariable("chip").visible.isVisible()&&!this.getVariable("hasAppeared")){try{const t=this.getVariable("evalData");const i=t.EVALUATION.ODATA_URL;const a=t.EVALUATION.ODATA_ENTITYSET;const s=this.getVariable("tileProperties");let l=[];const r=this.getVariable("indicatorUtils").prepareFilterStructure(t.EVALUATION_FILTERS,t.ADDITIONAL_FILTERS);const o=t.EVALUATION.COLUMN_NAME;let n=o;let h=[];if(s.isFractionMeasure){n=s.harveyTotalMeasure;h=this._getThresholdMeasures()}else{l=this.getVariable("indicatorUtils").prepareFilterStructure(s.harveyFilters||l)}this.setVariable("totalMeasure",n);this.setVariable("fractionMeasure",o);this.fetchKpiValue({measure1:n,measure2:o,entitySet:a,thresholds:h,url:i,filters:r,fractionFilters:l,fnS:function(t){t.kpiValue=Number(t.kpiValue);t.fractionValue=Number(t.fractionValue);e.setVariable("kpiValue",t.kpiValue);e.setVariable("fractionValue",t.fractionValue);e.onKpiValueFetched(t.kpiValue,t.unit,t.fractionValue)},fnE:this.logError});e.setVariable("hasAppeared",true)}catch(e){this.logError(e)}}},fetchEvalFilters:function(e){const t=this;try{const i=this.getVariable("cache").getEvaluationById(this.getVariable("chipId"));if(i){this.getVariable("evalData").EVALUATION_FILTERS=i.EVALUATION_FILTERS;e()}else{const i=this.getVariable("indicatorUtils").getFilterFromRunTimeService(this.getVariable("evalData"),i=>{t.deregisterOpenODataRequest("kpiFilterRequest");t.getVariable("evalData").EVALUATION_FILTERS=i;t.getVariable("cache").setEvaluationById(t.getVariable("chipId"),t.getVariable("evalData"));e.call(t)},function(e){this.logError(e);t.deregisterOpenODataRequest("kpiFilterRequest")});this.registerOpenODataRequest("kpiFilterRequest",i)}}catch(e){this.logError(e)}},onKpiValueFetched:function(e,t,i,a){const l=this.getVariable("indicatorUtils");let r=e;let o=i;const n=this.getVariable("evalData");const h=n.EVALUATION.SCALING;if(h==-2){r*=100;o*=100}let c=this.isACurrencyMeasure(this.getVariable("totalMeasure"));r=l.getLocaleFormattedValue(Number(r),h,null,c,t);c=this.isACurrencyMeasure(this.getVariable("fractionMeasure"));o=l.getLocaleFormattedValue(Number(o),h,null,c,t);this.getView().getModel().setProperty("/totalLabel",`${r} ${t}`);this.getView().getModel().setProperty("/fractionLabel",`${o} ${a}`);this.getView().getModel().setProperty("/color",this.getTrendColor(i));this.getView().getModel().setProperty("/value",e);this.getView().getModel().setProperty("/fractionValue",i);const u=l.getNavigationTarget(this.getVariable("evalData"),this.getVariable("system"));this.getVariable("tile").$().wrap(`<a href ='${u}'></a>`);this.getVariable("tile").setState(s.Loaded)},logError:function(e){this.getVariable("tile").setState(s.Failed);this.getVariable("indicatorUtils").logError(e,this.getVariable("tile"))},onVisible:function(){if(!this.getVariable("hasAppeared")){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.onEvalFiltersFetched()}else{this.fetchEvalFilters(this.onEvalFiltersFetched)}}},onExit:function(){this.abortAllOpenODataRequests()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/cache", [],()=>{"use strict";const n={};const t={};const e="HANA_CLIENT";return{getCacheHanaClient:function(){return n[e]},setCacheHanaClient:function(t){n[e]=t},getEvaluationByChipId:function(t){if(n[t]){return n[t]}return null},getEvaluationById:function(n){return this.getEvaluationByChipId(n)},setEvaluationById:function(t,e){n[t]=e},getFrontEndCacheDeferredObject:function(t){if(n[t]){return n[t]}return null},setFrontEndCacheDefferedObject:function(t,e){n[t]=e},getKpivalueById:function(n){if(t[n]){return t[n]}return null},setKpivalueById:function(n,e){t[n]=e}}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/indicatorTileHelper", [],()=>{"use strict";function t(t){this.tile=t}t.prototype.setErrorState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Failed)};t.prototype.setLoadingState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loading)};t.prototype.setLoadedState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loaded)};t.prototype.setTrendDown=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Down)};t.prototype.setTrendUp=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Up)};t.prototype.setTrendNeutral=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.None)};t.prototype.setThresholdGood=function(){};t.prototype.setThresholdBad=function(){};t.prototype.setThresholdCritical=function(){};t.prototype.setThresholdNeutral=function(){};t.prototype.calculateThreshold=function(){};t.prototype.setTile=function(t){this.tile=t};t.prototype.getTile=function(){return this.tile};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics", ["sap/ui/model/odata/ODataModel","sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/core/Core"],(e,t,i,n)=>{"use strict";sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants={};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE="http://www.sap.com/Protocols/SAPData";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.VERSION="0.7";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper={renderPropertyKeyValue:function(e,t){if(e.charAt(0)=="'"){throw"Illegal property value starting with a quote"}switch(t){case"Edm.String":return`'${e}'`;case"Edm.DateTime":return`datetime'${e}'`;case"Edm.Guid":return`guid'${e}'`;case"Edm.Time":return`time'${e}'`;case"Edm.DateTimeOffset":return`datetimeoffset'${e}'`;default:return e}},renderPropertyFilterValue:function(e,t){if(e.charAt(0)=="'"){throw"Illegal property value starting with a quote"}switch(t){case"Edm.String":return`'${e}'`;case"Edm.DateTime":return`datetime'${e}'`;case"Edm.Guid":return`guid'${e}'`;case"Edm.Time":return`time'${e}'`;case"Edm.DateTimeOffset":return`datetimeoffset'${e}'`;default:return e}},tokenizeNametoLabelText:function(e){let t="";t=e.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");t=t.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");t=t.replace(/(.*) _E$/,"$1");t=t.replace(/(.*) _(.*)/g,"$1 $2");return t}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByURI=function(e){return{sServiceURI:e}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByModel=function(e){return{oModel:e}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceWithWorkaround=function(e,t){return{oModelReference:e,aWorkaroundID:t}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.prototype={_init:function(t,i){this._oActivatedWorkarounds={};if(t&&t.aWorkaroundID){const e=t.aWorkaroundID;for(let t=0;t<e.length;t++){this._oActivatedWorkarounds[e[t]]=true}t=t.oModelReference}if(!t||!t.sServiceURI&&!t.oModel){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel"}if(t.oModel){this._oModel=t.oModel}else{this._oModel=new e(t.sServiceURI)}if(this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded"}this.mergeV2Annotations(i);this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};const n=this._oModel.getServiceMetadata().dataServices.schema[0];for(let e=-1,t;t=n.entityContainer[++e];){if(t.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=t;break}}const o=n.entityType;const r=[];const s=[];const a=[];let l;for(let e=-1,t;t=o[++e];){let e=false;if(t.extensions!=undefined){let i;for(l=-1;i=t.extensions[++l];){if(i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE&&i.name=="semantics"){e=true;switch(i.value){case"aggregate":r.push(t);break;case"parameters":s.push(t);break;default:a.push(t)}}if(e){continue}}if(!e){a.push(t)}}else{a.push(t)}}let u;let c;let p;for(let e=-1,t;t=a[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;c=this._getEntitySetsOfType(n,p.getQName());if(c.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics"}if(c.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u}const y={};let h;let m;for(let e=-1,t;t=s[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;c=this._getEntitySetsOfType(n,p.getQName());if(c.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics"}if(c.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u;h=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization(p,u);this._oParameterizationSet[h.getName()]=h;y[p.getQName()]=h;const e=p.getQName();if(n.association!=undefined){for(l=-1;m=n.association[++l];){if(m.referentialConstraint==undefined){continue}let t=null;if(m.end[0].type==e&&m.end[0].multiplicity=="*"&&m.end[1].multiplicity=="1"){t=m.end[1].type}else if(m.end[1].type==e&&m.end[1].multiplicity=="*"&&m.end[0].multiplicity=="1"){t=m.end[0].type}if(!t){continue}if(m.referentialConstraint.dependent.propertyRef.length!=1){continue}const i=h.findParameterByName(m.referentialConstraint.dependent.propertyRef[0].name);if(i==null){continue}const n=this._oEntityTypeSet[t];const o=this._oEntityTypeNameToEntitySetMap[t];i.setValueSetEntity(n,o)}}}for(let e=-1,t;t=r[++e];){p=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),n,t);this._oEntityTypeSet[p.getQName()]=p;const e=p.getQName();h=null;let i=null;if(n.association!=undefined){for(l=-1,m;m=n.association[++l];){let t=null;if(m.end[0].type==e){t=m.end[1].type}else if(m.end[1].type==e){t=m.end[0].type}else{continue}let n=null;n=y[t];if(n!=null){if(h!=null){throw`RESTRICTION: Unable to handle multiple parameter entity types of query entity ${p.name}`}else{h=n;i=m}}}}c=this._getEntitySetsOfType(n,p.getQName());if(c.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics"}u=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),n,c[0][0],c[0][1]);this._oEntitySetSet[u.getQName()]=u;this._oEntityTypeNameToEntitySetMap[p.getQName()]=u;const o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult(this,p,u,h);this._oQueryResultSet[o.getName()]=o;if(h){h.setTargetQueryResult(o,i)}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(e){let t;try{t=JSON.parse(e)}catch(e){return}let i;try{i=this._oModel.getServiceMetadata().dataServices}catch(e){return}for(const e in t){if(!(this.oUI5ODataModelAnnotatableObject.objectName===e)){continue}if(!(t[e]instanceof Array)){continue}this.mergeV2AnnotationLevel(i[this.oUI5ODataModelAnnotatableObject.objectName],t[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break}return},mergeV2AnnotationLevel:function(e,t,i){for(let n=-1,o;o=t[++n];){for(let t=-1,n;n=e[++t];){if(!(o[i.keyPropName]==n[i.keyPropName])){continue}if(o.extensions!=undefined){if(n.extensions==undefined){n.extensions=[]}for(let e=-1,t;t=o.extensions[++e];){let e=false;for(let i=-1,o;o=n.extensions[++i];){if(t.name==o.name&&t.namespace==o.namespace){o.value=t.value;e=true;break}}if(!e){n.extensions.push(t)}}}for(let e=-1,t;t=i.aSubObject[++e];){for(const e in o){if(!(t.objectName==e)){continue}if(!(o[t.objectName]instanceof Array)){continue}if(n[t.objectName]==undefined||!(n[t.objectName]instanceof Array)){continue}this.mergeV2AnnotationLevel(n[t.objectName],o[t.objectName],t);break}}}}return},findQueryResultByName:function(e){let t=this._oQueryResultSet[e];if(!t&&this._oDefaultEntityContainer){const i=`${this._oDefaultEntityContainer.name}.${e}`;t=this._oQueryResultSet[i]}return t},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames}this._aQueryResultNames=new Array(0);for(const e in this._oQueryResultSet){this._aQueryResultNames.push(this._oQueryResultSet[e].getName())}return this._aQueryResultNames},getAllQueryResults:function(){return this._oQueryResultSet},getODataModel:function(){return this._oModel},_getEntitySetsOfType:function(e,t){const i=[];for(let n=-1,o;o=e.entityContainer[++n];){for(let e=-1,n;n=o.entitySet[++e];){if(n.entityType==t){i.push([o,n])}}}return i},_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult=function(e,t,i,n){this._init(e,t,i,n)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult.prototype={_init:function(e,t,i,n,o){this._oModel=e;this._oEntityType=t;this._oEntitySet=i;this._oParameterization=n;this._oDimensionSet={};this._oMeasureSet={};const r=t.getTypeDescription().property;const s={};let a;let l;for(let e=-1,t;t=r[++e];){if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"aggregation-role":switch(i.value){case"dimension":l=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension(this,t);this._oDimensionSet[l.getName()]=l;break;case"measure":const e=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure(this,t);this._oMeasureSet[e.getName()]=e;break;case"totaled-properties-list":this._oTotaledPropertyListProperty=t;break}break;case"attribute-for":a=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute(this,t);s[a.getKeyProperty()]=a;break}}}for(const e in s){a=s[e];a.getDimension().addAttribute(a)}if(e._oActivatedWorkarounds.IdentifyTextPropertiesByName){const e=[];for(const i in this._oDimensionSet){l=this._oDimensionSet[i];if(!l.getTextProperty()){let n=null;n=t.findPropertyByName(`${i}Name`);if(!n){n=t.findPropertyByName(`${i}Text`)}if(!n){n=t.findPropertyByName(`${i}Desc`)}if(!n){n=t.findPropertyByName(`${i}Description`)}if(n){l.setTextProperty(n);e.push(n.name)}}}for(let t=-1,i;i=e[++t];){delete this._oDimensionSet[i]}}},getName:function(){return this.getEntitySet().getQName()},getParameterization:function(){return this._oParameterization},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames}this._aDimensionNames=[];for(const e in this._oDimensionSet){this._aDimensionNames.push(this._oDimensionSet[e].getName())}return this._aDimensionNames},getAllDimensions:function(){return this._oDimensionSet},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames}this._aMeasureNames=[];for(const e in this._oMeasureSet){this._aMeasureNames.push(this._oMeasureSet[e].getName())}return this._aMeasureNames},getAllMeasures:function(){return this._oMeasureSet},findDimensionByName:function(e){return this._oDimensionSet[e]},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty},findMeasureByName:function(e){return this._oMeasureSet[e]},getModel:function(){return this._oModel},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization.prototype={_init:function(e,t){this._oEntityType=e;this._oEntitySet=t;this._oParameterSet={};const i=e.getTypeDescription().property;for(let e=-1,t;t=i[++e];){if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"parameter":const e=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter(this,t);this._oParameterSet[e.getName()]=e;break}}}},setTargetQueryResult:function(e,t){this._oQueryResult=e;const i=`${this._oEntityType.getSchema().namespace}.${t.name}`;const n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}for(let e=-1,t;t=n[++e];){if(t.relationship==i){this._oNavPropToQueryResult=t.name}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}},getName:function(){return this.getEntitySet().getQName()},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames}this._aParameterNames=[];for(const e in this._oParameterSet){this._aParameterNames.push(this._oParameterSet[e].getName())}return this._aParameterNames},getAllParameters:function(){return this._oParameterSet},findParameterByName:function(e){return this._oParameterSet[e]},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter.prototype={_init:function(e,t){this._oParameterization=e;this._oProperty=t;const i=e.getEntityType();if(t.extensions!=undefined){for(let e=-1,n;n=t.extensions[++e];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"parameter":switch(n.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property"}break;case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=i.findPropertyByName(n.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=i.findPropertyByName(n.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=i.findPropertyByName(n.value);break}}}if(!this._sLabelText){this._sLabelText=""}},setValueSetEntity:function(e,t){this._oValueSetEntityType=e;this._oValueSetEntitySet=t},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},isOptional:function(){return!this._bRequired},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter},isLowerIntervalBoundary:function(){return!!this._oUpperIntervalBoundaryParameterProperty},getPeerIntervalBoundaryParameter:function(){let e=null;if(this._oLowerIntervalBoundaryParameterProperty){e=this._oLowerIntervalBoundaryParameterProperty.name}else{e=this._oUpperIntervalBoundaryParameterProperty.name}if(!e){throw"Parameter is not an interval boundary"}return this._oParameterization.findParameterByName(e)},isValueSetAvailable:function(){return!!this._oValueSetEntityType},getName:function(){return this._oProperty.name},getProperty:function(){return this._oProperty},getContainingParameterization:function(){return this._oParameterization},getURIToValueEntitySet:function(e){let t=null;t=`${e||""}/${this._oValueSetEntitySet.getQName()}`;return t},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;this._oAttributeSet={};if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break;case"super-ordinate":this._sSuperOrdinatePropertyName=n.value;break}}}if(!this._sLabelText){this._sLabelText=""}},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){return this._oTextProperty},setTextProperty:function(e){this._oTextProperty=e},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinatePropertyName){return null}return this._oQueryResult.findDimensionByName(this._sSuperOrdinatePropertyName)},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name)}return this._oHierarchy},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames}this._aAttributeNames=[];for(const e in this._oAttributeSet){this._aAttributeNames.push(this._oAttributeSet[e].getName())}return this._aAttributeNames},getAllAttributes:function(){return this._oAttributeSet},findAttributeByName:function(e){return this._oAttributeSet[e]},addAttribute:function(e){this._oAttributeSet[e.getName()]=e},getContainingQueryResult:function(){return this._oQueryResult},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinatePropertyName:null,_aAttributeNames:null,_oAttributeSet:null,_oHierarchy:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"attribute-for":this._sDimensionName=n.value;break;case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break}}}},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){return this._sLabelText},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName)},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(let i=-1,n;n=t.extensions[++i];){if(!n.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(n.name){case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(n.value);break;case"unit":this._oUnitProperty=e.getEntityType().findPropertyByName(n.value);break}}}if(!this._sLabelText){this._sLabelText=""}},getName:function(){return this._oProperty.name},getRawValueProperty:function(){return this._oProperty},getFormattedValueProperty:function(){return this._oTextProperty},getUnitProperty:function(){return this._oUnitProperty},getLabelText:function(){return this._sLabelText},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet=function(e,t,i,n){this._init(e,t,i,n)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet.prototype={_init:function(e,t,i,n){this._oEntitySet=n;this._oContainer=i;this._oSchema=t;this._oModel=e;if(t.entityContainer.length>1){this._sQName=`${i.name}.${n.name}`}else{this._sQName=n.name}},getQName:function(){return this._sQName},getSetDescription:function(){return this._oEntitySet},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._sQName=`${t.namespace}.${i.name}`;const n={};let o=null;for(let e=-1,t;t=i.property[++e];){this._aFilterablePropertyNames.push(t.name);this._aSortablePropertyNames.push(t.name);if(t.extensions==undefined){continue}for(let e=-1,i;i=t.extensions[++e];){if(!i.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue}switch(i.name){case"filterable":if(i.value=="false"){this._aFilterablePropertyNames.pop(t.name)}break;case"sortable":if(i.value=="false"){this._aSortablePropertyNames.pop(t.name)}break;case"required-filter":if(i.value=="true"){this._aRequiredFilterPropertyNames.push(t.name)}break;case"hierarchy-node-for":if(!(o=n[t.name])){o=n[t.name]={}}o.dimensionName=i.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":if(!(o=n[i.value])){o=n[i.value]={}}o.parentNodeIDProperty=t;break;case"hierarchy-level-for":if(!(o=n[i.value])){o=n[i.value]={}}o.levelProperty=t;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":if(!(o=n[i.value])){o=n[i.value]={}}o.drillStateProperty=t;break}}this._oPropertySet[t.name]=t}this._oRecursiveHierarchySet={};for(const e in n){const t=n[e];const o=this._oPropertySet[e];let r=this._oPropertySet[t.dimensionName];if(r==null){r=o}this._oRecursiveHierarchySet[r.name]=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy(i,o,t.parentNodeIDProperty,t.levelProperty,r)}},findPropertyByName:function(e){return this._oPropertySet[e]},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames},getSortablePropertyNames:function(){return this._aSortablePropertyNames},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames}this._aHierarchyPropertyNames=[];for(const e in this._oRecursiveHierarchySet){this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[e].getNodeValueProperty().name)}return this._aHierarchyPropertyNames},getHierarchy:function(e){if(this._oRecursiveHierarchySet[e]==undefined){return null}return this._oRecursiveHierarchySet[e]},getQName:function(){return this._sQName},getTypeDescription:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy=function(e,t,i,n,o){this._init(e,t,i,n,o)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy.prototype={_init:function(e,t,i,n,o){this._oEntityType=e;this._oNodeIDProperty=t;this._oParentNodeIDProperty=i;this._oNodeLevelProperty=n;this._oNodeValueProperty=o},isRecursiveHierarchy:function(){return true},isLeveledHierarchy:function(){return false},getNodeIDProperty:function(){return this._oNodeIDProperty},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty},getNodeLevelProperty:function(){return this._oNodeLevelProperty},getNodeValueProperty:function(){return this._oNodeValueProperty},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._aFilterCondition=[]},clear:function(){this._aFilterCondition=[]},addCondition:function(e,t,i,n){const o=this._oEntityType.findPropertyByName(e);if(o==null){throw`Cannot add filter condition for unknown property name ${e}`}const r=this._oEntityType.getFilterablePropertyNames();if(r.indexOf(e)===-1){throw`Cannot add filter condition for not filterable property name ${e}`}this._aFilterCondition.push({property:o,op:t,val1:i,val2:n});return this._aFilterablePropertyNames},addSetCondition:function(e,i){const n=this._oEntityType.findPropertyByName(e);if(n==null){throw`Cannot add filter condition for unknown property name ${e}`}const o=this._oEntityType.getFilterablePropertyNames();if(o.indexOf(e)===-1){throw`Cannot add filter condition for not filterable property name ${e}`}for(let e=-1,o;o=i[++e];){this._aFilterCondition.push({property:n,op:t.EQ,val1:o})}return this._aFilterablePropertyNames},getExpressionAsUI5FilterArray:function(){const e=[];for(let t=-1,n;n=this._aFilterCondition[++t];){e.push(new i(n.property.name,n.op,n.val1,n.val2))}return e},getURIFilterOptionValue:function(){if(this._aFilterCondition.length==0){return""}this._aFilterCondition.sort((e,t)=>{if(e.property.name==t.property.name){return 0}if(e.property.name>t.property.name){return 1}return-1});let e=this._aFilterCondition[0].property.name;let i="";let n="";for(let o=-1,r;r=this._aFilterCondition[++o];){if(e!=r.property.name){i+=`${i==""?"":" and "}(${n})`;n="";e=r.property.name}switch(r.op){case t.BT:n+=`${n==""?"":" or "}(${r.property.name} ${t.GE.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val1,r.property.type)} and ${r.property.name} ${t.LE.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val2,r.property.type)})`;break;default:n+=`${n==""?"":" or "}(${r.property.name} ${r.op.toLowerCase()} ${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(r.val1,r.property.type)})`}}i+=`${i==""?"":" and "}(${n})`;return i},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder={Ascending:"asc",Descending:"desc"};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression=function(e,t,i){this._init(e,t,i)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression.prototype={_init:function(e,t,i){this._oEntityType=i;this._oSchema=t;this._oModel=e;this._aSortCondition=[]},_containsSorter:function(e){let t=null;for(let i=-1,n;n=this._aSortCondition[++i];){if(n.property.name===e){t={sorter:n,index:i};break}}return t},_removeFromArray:function(e,t,i){const n=e.slice((i||t)+1||e.length);e.length=t<0?e.length+t:t;return e.push.apply(e,n)},clear:function(){this._aSortCondition=[]},addSorter:function(e,t){const i=this._oEntityType.findPropertyByName(e);if(i==null){throw`Cannot add sort condition for unknown property name ${e}`}if(this._containsSorter(e)!=null){throw`Sort condition for this property name is already defined ${e}`}const n=this._oEntityType.getSortablePropertyNames();if(n.indexOf(e)===-1){throw`Cannot add sort condition for not sortable property name ${e}`}this._aSortCondition.push({property:i,order:t});return this},removeSorter:function(e){if(!e){return}const t=this._containsSorter(e);if(t){this._removeFromArray(this._aSortCondition,t.index)}},getExpressionsAsUI5SorterArray:function(){const e=[];for(let t=-1,i;i=this._aSortCondition[++t];){e.push(new n(i.property.name,i.order==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder.Descending))}return e},getExpressionAsUI5Sorter:function(){const e=this.getExpressionsAsUI5SorterArray();if(e.length==0){return null}return e[0]},getURIOrderByOptionValue:function(){if(this._aSortCondition.length==0){return""}let e="";for(let t=-1,i;i=this._aSortCondition[++t];){e+=`${i.property.name} ${i.order}`;if(t<this._aSortCondition.length-1){e+=", "}}return e},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest.prototype={_init:function(e){if(!e){throw"No parameterization given"}this._oParameterization=e;this._oParameterValueAssignment=[]},getParameterization:function(){return this._oParameterization},setParameterValue:function(e,t,i){const n=this._oParameterization.findParameterByName(e);if(!n){throw`Invalid parameter name ${e}`}if(i!=null){if(!n.isIntervalBoundary()){throw`Range value cannot be applied to parameter ${e} accepting only single values`}if(!n.isLowerIntervalBoundary()){throw`Range value given, but parameter ${e} does not hold the lower boundary`}}if(!n.isIntervalBoundary()){if(t==null){delete this._oParameterValueAssignment[e]}else{this._oParameterValueAssignment[e]=t}}else{if(t==null&&i!=null){throw`Parameter ${e}: An upper boundary cannot be given without the lower boundary`}if(t==null){delete this._oParameterValueAssignment[e];i=null}else{this._oParameterValueAssignment[e]=t}const o=n.getPeerIntervalBoundaryParameter();if(i==null){i=t}if(t==null){delete this._oParameterValueAssignment[o.getName()]}else{this._oParameterValueAssignment[o.getName()]=i}}return},getURIToParameterizationEntitySet:function(e){return`${e||""}/${this._oParameterization.getEntitySet().getQName()}`},getURIToParameterizationEntry:function(e){const t=this._oParameterization.getAllParameters();for(const e in t){if(this._oParameterValueAssignment[e]==undefined){throw`Parameter ${e} has no value assigned`}}let i="";let n=true;for(const e in this._oParameterValueAssignment){i+=`${(n?"":",")+e}=${sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyKeyValue(this._oParameterValueAssignment[e],t[e].getProperty().type)}`;n=false}return`${e||""}/${this._oParameterization.getEntitySet().getQName()}(${i})`},_oParameterization:null,_oParameterValueAssignment:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest.prototype={_init:function(e,t){this._oQueryResult=e;this._oParameterizationRequest=t;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null},setParameterizationRequest:function(e){this._oParameterizationRequest=e},getQueryResult:function(){return this._oQueryResult},setAggregationLevel:function(e){this._oAggregationLevel={};if(!e){e=this._oQueryResult.getAllDimensionNames()}this.addToAggregationLevel(e)},addToAggregationLevel:function(e){if(!e){return}for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findDimensionByName(i)){throw`${i} is not a valid dimension name`}this._oAggregationLevel[i]={key:true,text:false,attributes:null}}},removeFromAggregationLevel:function(e){if(!e){return}for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findDimensionByName(i)){throw`${i} is not a valid dimension name`}if(this._oAggregationLevel[i]!=undefined){delete this._oAggregationLevel[i];this.getSortExpression().removeSorter(i)}}},getAggregationLevel:function(){const e=[];for(const t in this._oAggregationLevel){e.push(t)}return e},getAggregationLevelDetails:function(e){if(this._oAggregationLevel[e]==undefined){throw`Aggregation level does not include dimension ${e}`}return this._oAggregationLevel[e]},setMeasures:function(e){if(!e){e=this._oQueryResult.getAllMeasureNames()}this._oMeasures={};for(let t=-1,i;i=e[++t];){if(!this._oQueryResult.findMeasureByName(i)){throw`${i} is not a valid measure name`}this._oMeasures[i]={value:true,text:false,unit:false}}},getMeasureNames:function(){const e=[];for(const t in this._oMeasures){e.push(t)}return e},includeDimensionKeyTextAttributes:function(e,t,i,n){const o=[];if(e){if(this._oAggregationLevel[e]==undefined){throw`${e} is not included in the aggregation level`}o.push(e)}else{for(const e in this._oAggregationLevel){o.push(e)}n=null}for(let e=-1,r;r=o[++e];){if(t!=null){this._oAggregationLevel[r].key=t}if(i!=null){this._oAggregationLevel[r].text=i}if(n!=null){this._oAggregationLevel[r].attributes=n}}},includeMeasureRawFormattedValueUnit:function(e,t,i,n){const o=[];if(e){if(this._oMeasures[e]==undefined){throw`${e} is not part of the query result`}o.push(e)}else{for(const e in this._oMeasures){o.push(e)}}for(let e=-1,r;r=o[++e];){if(t!=null){this._oMeasures[r].value=t}if(i!=null){this._oMeasures[r].text=i}if(n!=null){this._oMeasures[r].unit=n}}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oQueryResult.getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},setRequestOptions:function(e,t){if(e){this._bIncludeEntityKey=e}if(t){this._bIncludeCount=t}},setResultPageBoundaries:function(e,t){if(e!=null&&typeof e!=="number"){throw"Start value must be null or numeric"}if(t!==null&&typeof t!=="number"){throw"End value must be null or numeric"}if(e==null){e=1}if(e<1||e>(t==null?e:t)){throw"Invalid values for requested page boundaries"}this._iSkipRequestOption=e>1?e:null;this._iTopRequestOption=t!=null?t-e+1:null},getResultPageBoundaries:function(){let e;let t;if(this._iSkipRequestOption==null){e=1;t=1}else{e=this._iSkipRequestOption;t=this._iSkipRequestOption+this._iTopRequestOption}return{start:e,end:this._iTopRequestOption!=null?t:null}},getURIToQueryResultEntitySet:function(e){let t=null;if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request"}else{t=`${this._oParameterizationRequest.getURIToParameterizationEntry(e)}/${this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult()}`}}else{t=`${e||""}/${this._oQueryResult.getEntitySet().getQName()}`}return t},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";let i;for(const t in this._oAggregationLevel){const n=this._oQueryResult.findDimensionByName(t);const o=this._oAggregationLevel[t];if(o.key==true){e+=(e==""?"":",")+n.getKeyProperty().name}if(o.text==true&&n.getTextProperty()){e+=(e==""?"":",")+n.getTextProperty().name}if(o.attributes){let t;for(i=-1;t=o.attributes[++i];){e+=(e==""?"":",")+n.findAttributeByName(t).getName()}}}for(const t in this._oMeasures){const i=this._oQueryResult.findMeasureByName(t);const n=this._oMeasures[t];if(n.value==true){e+=(e==""?"":",")+i.getRawValueProperty().name}if(n.text==true&&i.getFormattedValueProperty()){e+=(e==""?"":",")+i.getFormattedValueProperty().name}if(n.unit==true&&i.getUnitProperty()){e+=(e==""?"":",")+i.getUnitProperty().name}}if(this._bIncludeEntityKey){const t=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;let n;for(i=-1;n=t[++i];){e+=(e==""?"":",")+n.name}}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}case"$top":{if(this._iTopRequestOption!==null){t=this._iTopRequestOption}break}case"$skip":{t=this._iSkipRequestOption;break}default:break}return t},getURIToQueryResultEntries:function(e){const t=this.getURIToQueryResultEntitySet(e);const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");const r=this.getURIQueryOptionValue("$top");const s=this.getURIQueryOptionValue("$skip");let a=t;let l=false;if(i){a+=`?$select=${i}`;l=true}if(this._oFilterExpression&&n){if(!l){a+="?";l=true}else{a+="&"}a+=`$filter=${n}`}if(this._oSortExpression&&o){if(!l){a+="?";l=true}else{a+="&"}a+=`$orderby=${o}`}if(this._iTopRequestOption&&r){if(!l){a+="?";l=true}else{a+="&"}a+=`$top=${r}`}if(this._iSkipRequestOption&&s){if(!l){a+="?";l=true}else{a+="&"}a+=`$skip=${s}`}if(this._bIncludeCount){if(!l){a+="?";l=true}else{a+="&"}a+="$inlinecount=allpages"}return a},_oQueryResult:null,_oParameterizationRequest:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:0,_iTopRequestOption:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest=function(e){this._init(e)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest.prototype={_init:function(e){this._oParameter=e;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null},includeParameterText:function(e){if(e!=null){this._oValueSetResult.text=e}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oParameter.getContainingParameterization().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";e+=(e==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){e+=(e==""?"":",")+this._oParameter.getTextProperty().name}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}default:break}return t},getURIToParameterValueSetEntries:function(e){let t=null;t=`${e||""}/${this._oParameter.getContainingParameterization().getEntitySet().getQName()}`;const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");let r=t;let s=false;if(i){r+=`?$select=${i}`;s=true}if(this._oFilterExpression&&n){if(!s){r+="?";s=true}else{r+="&"}r+=`$filter=${n}`}if(this._oSortExpression&&o){if(!s){r+="?";s=true}else{r+="&"}r+=`$orderby=${o}`}return r},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest=function(e,t){this._init(e,t)};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest.prototype={_init:function(e,t){this._oDimension=e;this._oParameterizationRequest=t;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null},setParameterizationRequest:function(e){this._oParameterizationRequest=e},includeDimensionTextAttributes:function(e,t){if(e!=null){this._oValueSetResult.text=e}if(t!=null){this._oValueSetResult.attributes=t}},getFilterExpression:function(){if(this._oFilterExpression==null){const e=this._oDimension.getContainingQueryResult().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){const e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},hasMasterDataAvailable:function(){return false},getURIQueryOptionValue:function(e){let t=null;switch(e){case"$select":{let e="";e+=(e==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){e+=(e==""?"":",")+this._oDimension.getTextProperty().name}if(this._oValueSetResult.attributes){for(let t=-1,i;i=this._oValueSetResult.attributes[++t];){e+=(e==""?"":",")+this._oDimension.findAttributeByName(i).getName()}}t=e||null;break}case"$filter":{let e=null;if(this._oFilterExpression){e=this._oFilterExpression.getURIFilterOptionValue()}t=e||null;break}case"$orderby":{let e=null;if(this._oSortExpression){e=this._oSortExpression.getURIOrderByOptionValue()}t=e||null;break}default:break}return t},getURIToDimensionMemberEntries:function(e){let t=null;if(this._oDimension.getContainingQueryResult().getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request"}else{t=`${this._oParameterizationRequest.getURIToParameterizationEntry(e)}/${this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult()}`}}else{t=`${e||""}/${this._oDimension.getContainingQueryResult().getEntitySet().getQName()}`}const i=this.getURIQueryOptionValue("$select");const n=this.getURIQueryOptionValue("$filter");const o=this.getURIQueryOptionValue("$orderby");let r=t;let s=false;if(i){r+=`?$select=${i}`;s=true}if(this._oFilterExpression&&n){if(!s){r+="?";s=true}else{r+="&"}r+=`$filter=${n}`}if(this._oSortExpression&&o){if(!s){r+="?";s=true}else{r+="&"}r+=`$orderby=${o}`}return r},_oDimension:null,_oParameterizationRequest:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};return{}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil", ["sap/ui/model/FilterOperator","sap/ui/model/analytics/odata4analytics","sap/ui/core/format/NumberFormat","sap/ui/model/odata/ODataModel","sap/base/Log","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ushell/utils/UrlParsing","sap/ushell/services/CrossApplicationNavigation"],(e,t,i,n,s,jQuery,r,a,l)=>{"use strict";const o=t.ParameterizationRequest;const c=t.QueryResultRequest;const u=t.Model.ReferenceByModel;const f=t.Model;sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.util=sap.ushell.components.tiles.indicatorTileUtils.util||{};sap.ushell.components.tiles.indicatorTileUtils.util=function(t,a){const g={};const T={ANN:"years",WEE:"weeks",DAY:"days",HUR:"hours",MIN:"minutes"};const h={};const m={};return{getScheduledJob:function(e){return h[e]},setScheduledJob:function(e,t){h[e]=t},isCallInProgress:function(e){return m[e]},setUnsetCallInProgress:function(e,t){m[e]=t},getTimeUnitMap:function(){return T},getHanaUser:function(){return authObject.userName},addSystemToServiceUrl:function(e,t){s.info("Hana Adapter --\x3e Add System to Service Url");if(sap.ushell&&sap.ushell.Container){if(t){sap.ushell.Container.getServiceAsync("URLParsing").then(i=>{sap.ui.model.odata.ODataUtils.setOrigin(e,{alias:t})})}else{sap.ushell.Container.getServiceAsync("URLParsing").then(t=>{sap.ui.model.odata.ODataUtils.setOrigin(e)})}}return e},getODataModelByServiceUri:function(e){e=this.addSystemToServiceUrl(e);if(!g[e]){const t=new n(e,{loadMetadataAsync:true,json:true});g[e]=t}return g[e]},getEdmType:function(e,t){let i=null;if(e instanceof n){i=e}else{i=this.getODataModelByServiceUri(e)}if(i&&i.getServiceMetadata()){const e=i.getServiceMetadata();const n=e.dataServices.schema[0].entityType;if(n){for(let e=0;e<n.length;e++){const i=n[e];const s=i.property;for(let e=0;e<s.length;e++){const i=s[e];if(i.name==t){return i.type}}}}}return null},getMillisecond:function(e,t){let i;switch(t){case"seconds":i=e*1e3;break;case"minutes":i=e*60*1e3;break;case"hours":i=e*60*60*1e3;break;case"days":i=e*24*60*60*1e3;break;case"weeks":i=e*7*24*60*60*1e3;break;case"months":i=e*4*7*24*60*60*1e3;break;case"years":i=e*12*4*7*24*60*60*1e3;break}return i},getUTCDate:function(){const e=new Date;return e},isCacheValid:function(e,t,i,n,s){const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e);if(!r){return false}else if(!(i&&Number(i))){return true}const a=this.getMillisecond(i,T[n]);let l;if(r.CachedTime instanceof Date){l=r.CachedTime&&r.CachedTime.getTime()}else{l=r.CachedTime&&parseInt(r.CachedTime.substr(6),10)}const o=this.getUTCDate();return l>=t&&a>=o-l&&!s},getMantissaLength:function(e){const t=e.toString();let i=0;if(e<0){i=1}if(t.indexOf(".")===-1){return e<0?t.length-1:t.length}return t.substring(i,t.indexOf(".")).length},getLocaleFormattedValue:function(e,t,n,s,r){sap.ui.require("sap.ui.core.format.NumberFormat");s=s||false;r=r||null;if(s){return i.getCurrencyInstance({style:"short",showMeasure:false}).format(e,r)}let a=2;const l={style:"short"};let o;if(!(n==-1||n==null)){l.shortDecimals=Number(n);l.minFractionDigits=Number(n);l.maxFractionDigits=Number(n)}let c=i.getInstance(l);if(t==-2){if(e>9999){o="????"}else if(e>-.001&&e<0||e<.001&&e>0){o="0"}else{if(e.toString().indexOf(".")!=-1){o=Number(e).toFixed(4-e.toString().indexOf("."))}else{o=Number(e)}o=c.format(o)}}else if(n==-1||n==null){const t=this.getMantissaLength(e);if(!(t%3)){a=1}if(t%3===1){a=3}if(t%3===2){a=2}if(Math.abs(e)%Math.pow(10,t-1)==0){a=0}else if(Math.abs(e)%Math.pow(10,t-1)<6*Math.pow(10,t-4)){a=0}c=i.getInstance({style:"short",shortDecimals:a});o=c.format(e)}else{o=c.format(e)}return o},getPlatform:function(e){return(new r(window.location.href).get("sb_metadata")||e||"HANA").toUpperCase()},getTileTitleSubtitle:function(e){const t={};if(e.bag&&e.bag.getBagIds()&&e.bag.getBagIds().length){t.title=e.bag.getBag("sb_tileProperties").getText("title")||e.bag.getBag("sb_tileProperties").getProperty("title")||e.preview.getTitle();t.subTitle=e.bag.getBag("sb_tileProperties").getText("description")||e.bag.getBag("sb_tileProperties").getProperty("description")||e.preview.getDescription()}else{t.title=e.preview.getTitle();t.subTitle=e.preview.getDescription()}return t},scheduleFetchDataJob:function(e){let t;if(this.getView().getViewName().indexOf("DualTile")!==-1){t=this.oKpiTileView.oConfig}else{t=this.oConfig}const i=`${t.TILE_PROPERTIES.id}data`;let n=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(i);if(n){clearTimeout(n);n=undefined}const s=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeUnitMap();const r=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t);const a=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t);const l=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r,s[a]);let o;if(this.cacheTime instanceof Date){o=this.cacheTime}else{o=new Date(parseInt(this.cacheTime.substr(6),10))}let c=l-(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-o);if(c<=0){c=0}else if(c>2147483646){c=2147483646}if(!e){c=3e5}if(this.getView().getViewName().indexOf("DualTile")!==-1){n=setTimeout(this.refreshPress.bind(this),c)}else{n=setTimeout(this.refreshHandler.bind(this,false,true),c);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(i,n)}this.updateDatajobScheduled=true},scheduleTimeStampJob:function(){const e=`${this.oConfig.TILE_PROPERTIES.id}time`;let t=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(e);let i;if(t){clearTimeout(t);t=undefined}if(this.cacheTime instanceof Date){i=this.cacheTime}else{i=new Date(parseInt(this.cacheTime.substr(6),10),13)}const n=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-i);t=setTimeout(this.setTimeStamp.bind(this,this.cacheTime),n.timer);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(e,t);this.updateTimeStampjobScheduled=true},getBoolValue:function(e){let t=false;if(typeof e==="boolean"&&e){t=true}return t},getSeconds:function(e){return e/1e3},getMinutes:function(e){return this.getSeconds(e)/60},getHours:function(e){return this.getMinutes(e)/60},getDays:function(e){return this.getHours(e)/24},getWeeks:function(e){return this.getDays(e)/7},getMonths:function(e){return this.getWeeks(e)/4},getYears:function(e){return this.getMonths(e)/12},getTimeDifference:function(e){const t={};if(e){const i=this.getMinutes(e);const n=this.getHours(e);const s=this.getDays(e);if(i<5){t.time=0;t.unit="minutes";t.timer=Math.round(this.getMillisecond(5-i,"minutes"))}else if(i>=5&&i<60){if(i<10){t.time=5}else{t.time=i-i%10}t.unit="minutes";t.timer=Math.round(this.getMillisecond(10-i%10,"minutes"))}else if(n>=1&&n<24){t.unit="hours";t.time=n-n%1;t.timer=Math.round(this.getMillisecond(1-n%1,"hours"))}else if(s>=1&&s<2){t.unit="days";t.time=s-s%1;t.timer=Math.round(this.getMillisecond(1-s%1,"days"))}else{t.unit="days";t.time=s-s%1;t.timer=this.getMillisecond(2,"days")}}else{t.timer=6e3;t.unit="days";t.timer=2e3}return t},getCachingTime:function(e){return e.CACHINGTIME&&Number(e.CACHINGTIME)||e.TILE_PROPERTIES.cachingTime&&Number(e.TILE_PROPERTIES.cachingTime)},getCachingTimeUnit:function(e){return e.CACHINGUNIT||e.TILE_PROPERTIES.cachingTimeUnit},getFrontendCacheQuery:function(e,t,i,n){let r;try{let e=n.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV");e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e);r=this.getODataModelByServiceUri(e);e="/CacheParameters(P_CacheType=1)/Results";return{oModel:r,uri:e}}catch(e){s.error("FrontEnd cache Metadata failed");return null}},isDualTile:function(e){const t=e&&e.TILE_PROPERTIES&&e.TILE_PROPERTIES.tileType;if(t.indexOf("DT-")==-1){return false}return true},writeFrontendCacheByChipAndUserId:function(e,t,i,n,r){function a(e){s.info("cache write successFully");r(e)}function l(){s.error("cache update failed");r(null)}try{let t=e.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV/");t=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(t);const n=this.getODataModelByServiceUri(t);const s="/CacheData";n.create(s,i,{async:true,success:a,error:l})}catch(e){s.error(e)}},getKpiChipsOnPage:function(e,t){const i=[];sap.ushell.Container.getServiceAsync("FlpLaunchPage").then(n=>{n.getGroups().done(n=>{if(n&&n instanceof Array&&n.length){s.info("Group Chip fetch")}t(e,i)})})},getFrontendCache:function(e,t){const i=this;let n=sap.ushell.components.tiles.indicatorTileUtils.cache.getFrontEndCacheDeferredObject(t.url.getApplicationSystem());let r;if(n){r=n}else{r=jQuery.Deferred()}const a=e&&e.TILE_PROPERTIES&&e.TILE_PROPERTIES.id;const l=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a);if(l){n.resolve(true)}else if(n){return n.promise()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setFrontEndCacheDefferedObject(t.url.getApplicationSystem(),r);n=r;this.getKpiChipsOnPage(a,(e,r)=>{if(r){const a=i.getFrontendCacheQuery(r,sap.ushell.Container.getUser().getId(),r,t);if(a){const t=a.oModel;const i=a.uri;let r=false;t.read(i,null,null,true,t=>{if(t&&t.results&&t.results instanceof Array&&t.results.length){jQuery.each(t.results,(e,t)=>{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.ChipId,t)})}if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(e)){r=true}n.resolve(r)},e=>{if(e&&e.response){s.error(`${e.message} : ${e.request.requestUri}`)}n.reject()})}else{n.reject()}}else{n.resolve(false)}})}return n.promise()},getModelerRuntimeServiceModel:function(){let e="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";e=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(e);return this.getODataModelByServiceUri(e)},getSapFontErrorCode:function(){return String.fromCharCode(57521)},getSapFontBusyCode:function(){return String.fromCharCode(57842)},prepareFilterStructure:function(e,t){const i=[];if(t){e=e.concat(t)}for(let t=0;t<e.length;t++){const n={};n.comparator=e[t].OPERATOR;n.filterPropertyName=e[t].NAME;if(e[t].ID){n.id=e[t].ID}n.type=e[t].TYPE;n.value=e[t].VALUE_1;n.valueTo=e[t].VALUE_2;i.push(n)}return i},getODataModelByServiceUriFromChipAPI:function(e,t){e=t.url.addSystemToServiceUrl(e);if(!g[e]){const t=new n(e,true);g[e]=t}return g[e]},cacheBustingMechanism:function(e){if(window["sap-ushell-config"].cacheBusting.cacheBusterToken){const t=window["sap-ushell-config"].cacheBusting&&window["sap-ushell-config"].cacheBusting.cacheBusterToken;e=`${e}?_=${t}`}return e},getRunTimeUri:function(e){let t="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";let i="/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV";if(e.toUpperCase()=="HANA"){if(window["sap-ushell-config"].cacheBusting){t=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(t)}return t}if(window["sap-ushell-config"].cacheBusting){i=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(i)}return i},getFilterFromRunTimeService:function(e,t,i,n){const s=e.TILE_PROPERTIES.sb_metadata;const r=this.getODataModelByServiceUriFromChipAPI(this.getRunTimeUri(s),t);const a="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",e.EVALUATION.ID);const l=r.read("/EVALUATION_FILTERS",null,{$filter:a},true,function(e){let t=[];if(e.results.length){t=e.results}i.call(this,t)},n);return l},_getOData4AnalyticsObject:function(e){let t=null;if(e instanceof n){t=e}else if(typeof e==="string"){t=this.getODataModelByServiceUri(e)}else{throw new Error(`Invalid Input to Create ODataModel Object : ${e}`)}const i=new f(u(t));return i},findTextPropertyForDimension:function(e,t,i){try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);const r=s.findDimensionByName(i);if(r.getTextProperty()){return r.getTextProperty().name}return i}catch(e){s.error(`Error Fetching Text Property for ${i} : ${e.toString()}`)}},getEvalValueMeasureName:function(e,t,i){const n=e.EVALUATION_VALUES;for(let e=0;e<n.length;e++){if(n[e].TYPE==t){if(i==="FIXED"){return n[e].FIXED}return n[e].COLUMN_NAME}}},getSemanticColorName:function(e){let t="";if(e=="Error"){t="sb.error"}if(e=="Neutral"){t="sb.neutral"}if(e=="Critical"){t="sb.critical"}if(e=="Good"){t="sb.good"}return t},setTooltipInTile:function(e,t,i){let n="";const s=sap.ushell.components.tiles.utils.getResourceBundle();if(t=="NT"||t=="DT"){if(i.status){n+=`${s.getText("sb.status")}: ${s.getText(i.status)}\n`}if(i.actual){n+=`${s.getText("sb.actual")}: ${i.actual}\n`}if(i.target){n+=`${s.getText("sb.target")}: ${i.target}\n`}if(i.cH){n+=`${s.getText("sb.ch")}: ${i.cH}\n`}if(i.wH){n+=`${s.getText("sb.wh")}: ${i.wH}\n`}if(i.wL){n+=`${s.getText("sb.wl")}: ${i.wL}\n`}if(i.cL){n+=`${s.getText("sb.cl")}: ${i.cL}\n`}}if(t=="CONT"||t=="COMP"){if(i.measure&&t=="CONT"){if(i&&i.contributionTile.contributionTile&&i.contributionTile.contributionTile[1]==="asc"){n+=`${s.getText("sb.bottomn")}: ${i.contributionTile[0]}\n`}else if(i&&i.contributionTile.contributionTile&&i.contributionTile.contributionTile.length){n+=`${s.getText("sb.topn")}: ${i.contributionTile[0]}\n`}}if(i.m1&&(i.v1==undefined||i.v1==null?false:i.v1.toString())&&i.c1){n+=`${i.m1}: ${i.v1} ${s.getText(i.c1)}\n`}if(i.m2&&(i.v2==undefined||i.v2==null?false:i.v2.toString())&&i.c2){n+=`${i.m2}: ${i.v2} ${s.getText(i.c2)}\n`}if(i.m3&&(i.v3==undefined||i.v3==null?false:i.v3.toString())&&i.c3){n+=`${i.m3}: ${i.v3} ${s.getText(i.c3)}\n`}}if(e&&e.setTooltip){e.setTooltip(n)}},_getFormattedTileProperties:function(e){e=e||{};const t=["sb_metadata","sb_navigation","sb_catalog"];let i=false;for(let n=0;!i&&n<t.length;n++){i=i||new r(window.location.href).get(t[n])||e[t[n]]}e.sb_metadata=(new r(window.location.href).get("sb_metadata")||e.sb_metadata||"HANA").toLowerCase();e.sb_navigation=(new r(window.location.href).get("sb_navigation")||e.sb_navigation||"abap").toLowerCase();e.sb_catalog=(new r(window.location.href).get("sb_catalog")||e.sb_catalog||"HANA").toLowerCase();e.isPlatformInfoPresent=i;return e},getEvaluationDetailsFromRunTimeService:function(e,t,i,n){const s=this.getODataModelByServiceUri(this.getRunTimeUri(t));const r="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",i);s.read(e,null,{$filter:r},true,function(e){let t=[];if(e.results.length){t=e.results}n.call(this,t)})},getParsedChip:function(e,t,i){try{const n={};const s=JSON.parse(e);const r=JSON.parse(s.TILE_PROPERTIES).evaluationId||"";if(s.TILE_PROPERTIES){const e=JSON.parse(s.TILE_PROPERTIES);if(e&&(e.instanceId||e.catalogId)){return false}}const a=this;if(s.blankTile){n.BLANKTILE=s.blankTile}if(s.cachingTime){n.CACHINGTIME=s.cachingTime}if(s.cachingTimeUnit){n.CACHINGUNIT=s.cachingTimeUnit}if(s.TAGS){n.TAGS=JSON.parse(s.TAGS)}if(s.ADDITIONAL_FILTERS){n.ADDITIONAL_FILTERS=JSON.parse(s.ADDITIONAL_FILTERS)}if(s.ADDITIONAL_APP_PARAMETERS){n.ADDITIONAL_APP_PARAMETERS=JSON.parse(s.ADDITIONAL_APP_PARAMETERS)}n.TILE_PROPERTIES=this._getFormattedTileProperties(JSON.parse(s.TILE_PROPERTIES));const l=n.TILE_PROPERTIES.sb_metadata;if(s.EVALUATION_FILTERS){n.EVALUATION_FILTERS=JSON.parse(s.EVALUATION_FILTERS);if(s.EVALUATION_VALUES){n.EVALUATION_VALUES=JSON.parse(s.EVALUATION_VALUES);if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else if(!t){a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}else if(i){i(n)}else{return n}}else if(!t){a.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",l,r,e=>{n.EVALUATION_VALUES=e;if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}})}else if(i){i(n)}else{return n}}else if(t){if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATION_FILTERS",l,r,e=>{n.EVALUATION_FILTERS=e;if(s.EVALUATION_VALUES){n.EVALUATION_VALUES=JSON.parse(s.EVALUATION_VALUES);if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",l,r,e=>{n.EVALUATION_VALUES=e;if(s.EVALUATION){n.EVALUATION=JSON.parse(s.EVALUATION);if(i){i(n)}else{return n}}else{a.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",l,r,e=>{n.EVALUATION=e;if(i){i(n)}else{return n}})}})}})}}catch(e){return false}},getNavigationTarget:function(e,t){let i;const n={};n.evaluationId=e.EVALUATION.ID;n.chipId=e.TILE_PROPERTIES.id;if(t){n["sap-system"]=t}n.tileType=e.TILE_PROPERTIES.tileType;if(e.TILE_PROPERTIES.dimension){n.dimension=e.TILE_PROPERTIES.dimension}if(e.TILE_PROPERTIES.storyId){n.storyId=e.TILE_PROPERTIES.storyId}if(e.TILE_PROPERTIES.apfConfId){n["sap-apf-configuration-id"]=e.TILE_PROPERTIES.apfConfId}if(e.TILE_PROPERTIES.isPlatformInfoPresent){n.sb_metadata=e.TILE_PROPERTIES.sb_metadata;n.sb_navigation=e.TILE_PROPERTIES.sb_navigation;n.sb_catalog=e.TILE_PROPERTIES.sb_catalog}if(e.ADDITIONAL_APP_PARAMETERS){for(i in e.ADDITIONAL_APP_PARAMETERS){if(e.ADDITIONAL_APP_PARAMETERS.hasOwnProperty(i)){if(e.ADDITIONAL_APP_PARAMETERS[i].constructor==Array){const t=e.ADDITIONAL_APP_PARAMETERS[i];for(let e=0;e<t.length;e++){n[i]=t[e]}}else{n[i]=e.ADDITIONAL_APP_PARAMETERS[i]}}}}let s=l&&l.hrefForExternal({target:{semanticObject:e.TILE_PROPERTIES.semanticObject,action:e.TILE_PROPERTIES.semanticAction},params:n})||"";if(e.ADDITIONAL_FILTERS){const t=e.ADDITIONAL_FILTERS;let i="&";for(let e=0;e<t.length;e++){if(t[e].OPERATOR==="EQ"){i=`${i}/${t[e].NAME}=${t[e].VALUE_1}`}}s+=i}return s},getChipTitle:function(e){let t="";if(e){const i=e.EVALUATION||{};t=i.INDICATOR_TITLE||""}return t},getstringifyTileConfig:function(e){const t={};t.EVALUATION=JSON.stringify(e.EVALUATION);t.EVALUATION_FILTERS=JSON.stringify(e.EVALUATION_FILTERS);t.EVALUATION_VALUES=JSON.stringify(e.EVALUATION_VALUES);t.TILE_PROPERTIES=JSON.stringify(e.TILE_PROPERTIES);return JSON.stringify(t)},getChipSubTitle:function(e){let t="";if(e){const i=e.EVALUATION||{};t=i.TITLE||""}return t},getAllMeasures:function(e,t){let i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);i=s.getAllMeasureNames()}catch(e){s.error(`Error Fetching All Measures : ${e.toString()}`)}return i},getFormattingMetadata:function(e,t,i){const s={};s._hasCurrency=false;s._hasSapText=false;let r=null;if(e instanceof n){r=u(e)}else{const t=this.getODataModelByServiceUri(e);r=u(t)}const a=new f(r);const l=a.findQueryResultByName(t);const o=l.getAllMeasures();if(o[i]){const e=o[i]._oTextProperty&&o[i]._oTextProperty.name?o[i]._oTextProperty.name:"";if(e!=""){s._hasSapText=true;s._sapTextColumn=e}else if(o[i].hasOwnProperty("_oUnitProperty")){const e=o[i]._oUnitProperty.extensions;for(let t=0;t<o[i]._oUnitProperty.extensions.length;t++){if(e[t].name==="semantics"&&e[t].value==="currency-code"){s._hasCurrency=true;s._currencyColumn=o[i]._oUnitProperty.name}}}}return s},getAllDimensions:function(e,t){function i(e,t){let i=0;let n=0;const s=[];while(i<e.length&&n<t.length){if(e[i]<t[n]){i++}else if(e[i]>t[n]){n++}else{s.push(e[i]);i++;n++}}return s}let n=[];let r=[];try{const s=this._getOData4AnalyticsObject(e);const a=s.findQueryResultByName(t);const l=a.getEntityType();r=l.getFilterablePropertyNames();n=a.getAllDimensionNames();if(r&&r.length){n=i(r.sort(),n.sort())}}catch(e){s.error(`Error Fetching All Dimesions : ${e.toString()}`)}return n},prepareQueryServiceUri:function(t,i,r,a,l,g,T){function h(e){return e.replace(/'/g,"''")}let m=null;function p(e){let t=e.toJSON();const i=t.charAt(t.length-1).toUpperCase();if(i.charCodeAt(0)>=65&&i.charCodeAt(0)<=90){t=t.slice(0,-1)}return t}function d(e){if(e){try{if(e==+e){e=window.parseInt(e)}const t=new Date(e);const i=t.getTime();if(isNaN(i)){return e}return p(t)}catch(e){}}return e}try{let p=null;if(t instanceof n){p=u(t)}else{const e=this.getODataModelByServiceUri(t);p=u(e)}const E=new f(p);const A=E.findQueryResultByName(i);const I=new c(A);if(r){I.setMeasures(r.split(","));I.includeMeasureRawFormattedValueUnit(null,true,true,true)}if(a){if(typeof a==="string"){m=a;m=m.split(",")}for(let e=0;e<m.length;e++){I.addToAggregationLevel([m[e]]);const t=A.getAllDimensions();if(t[m[e]].getTextProperty()!=null){I.includeDimensionKeyTextAttributes([m[e]],true,true,null)}}}if(l&&l.length){const i=[];const n=[];let r;for(let e=0,t=l.length;e<t;e++){r=l[e];if(r.type==="PA"){n.push(r)}else if(r.type==="FI"){i.push(r)}}if(i.length){const n=I.getFilterExpression();for(let s=0,a=i.length;s<a;s++){r=i[s];if(this.getEdmType(t,r.filterPropertyName)=="Edm.DateTime"){r.value=d(r.value);r.valueTo=d(r.valueTo)}if(r.comparator==e.BT){n.addCondition(r.filterPropertyName,r.comparator,h(r.value),r.valueTo)}else{const e=r.value.split(",");for(let t=0,i=e.length;t<i;t++){n.addCondition(r.filterPropertyName,r.comparator,h(e[t].replace(/\^\|/g,",")),null)}}}}if(n.length){if(A.getParameterization()){const e=new o(A.getParameterization());const t=A.getParameterization();let i;let r;let a;let l;let c;for(let o=0,u=n.length;o<u;o++){i=n[o];r=t.findParameterByName(i.filterPropertyName);if(r.isIntervalBoundary()===true&&r.isLowerIntervalBoundary()===true){c=r.getPeerIntervalBoundaryParameter();for(let e=0,t=n.length;e<t;e++){if(n[e].filterPropertyName===c.getName()){l=h(n[e].value);break}}a=h(i.value);if(l){e.setParameterValue(i.filterPropertyName,a,l)}}else if(r.isIntervalBoundary()===true&&r.isLowerIntervalBoundary()===false){s.info("Future development")}else{e.setParameterValue(i.filterPropertyName,h(i.value))}}I.setParameterizationRequest(e)}}}let S=I.getURIToQueryResultEntries();if(g&&g.length){S=`${S}&$orderby=`;for(let e=0,t=g.length;e<t;e++){const t=g[e].sortOrder||"asc";if(t){S+=`${g[e].element} ${t},`}}S=S.slice(0,S.length-1)}if(T){S=`${S}&$top=${T}`}const O=A.getAllMeasures();const N=[];for(let e=0;e<r.split(",").length;e++){N.push(O[r.split(",")[e]].getUnitProperty())}return{uri:S,model:E.getODataModel(),unit:N}}catch(e){s.error(`Error Preparing Query Service Uri using OData4Analytics Library : ${e.toString()}`);if(arguments.length){s.error("Arguments Passed to this function");s.error(`${arguments[0]},${arguments[1]},${arguments[2]},${arguments[3]}`)}else{s.error("NO Arguments passed to this function")}return null}},getAllEntitySet:function(e){let t=[];try{const i=this._getOData4AnalyticsObject(e);t=i.getAllQueryResultNames()}catch(e){s.error(`Error fetching Enity Set : ${e.toString()}`)}return t},getAllMeasuresWithLabelText:function(e,i){const n=[];try{const s=this._getOData4AnalyticsObject(e);const r=s.findQueryResultByName(i);const a=r.getAllMeasureNames();for(let e=0;e<a.length;e++){const i=a[e];t.oMeasure=r.findMeasureByName(i);n.push({key:i,value:oMeasure.getLabelText()})}}catch(e){s.error(`Error Fetching All Measures : ${e.toString()}`)}return n},getAllDimensionsWithLabelText:function(e,t){const i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);const r=s.getAllDimensionNames();for(let e=0;e<r.length;e++){const t=r[e];const n=s.findDimensionByName(t);let a=null;if(n.getTextProperty()!=null){a=n.getTextProperty().name}i.push({key:t,value:n.getLabelText(),textProperty:a})}}catch(e){s.error(`Error Fetching All Dimesions : ${e.toString()}`)}return i},getAllInputParams:function(e,t){let i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);if(s.getParameterization()){const e=s.getParameterization();i=e.getAllParameterNames()}}catch(e){s.error(`Error Fetching Input Params : ${e.toString()}`)}return i},getAllInputParamsWithFlag:function(e,t){const i=[];try{const n=this._getOData4AnalyticsObject(e);const s=n.findQueryResultByName(t);if(s.getParameterization()){const e=s.getParameterization();const t=e.getAllParameterNames();for(let n=0;n<t.length;n++){const s=t[n];const r=e.findParameterByName(s);i.push({name:s,optional:r.isOptional()})}}}catch(e){s.error(`Error Fetching Input Params : ${e.toString()}`)}return i},formatOdataObjectToString:function(e){if(e&&e.constructor==Object){if(e.__edmType=="Edm.Time"){const t=e.ms;const i=Math.floor(t/1e3%60);const n=Math.floor(t/6e4%60);const s=Math.floor(t/36e5%24);return`${s}H${n}M${i}S`}}return e},generateCombinations:function(e){function t(e,t){while(t.length<e){t=`0${t}`}return t}let i=Math.pow(2,e.length);const n=[];let s=0;while(i>1){let r=(i-1).toString(2);r=t(e.length,r);n[s]=[];for(let t=0;t<r.length;t++){if(Number(r[t])){n[s].push(e[t])}}i--;s++}return n},logError:function(e,t){if(e=="no data"&&t){const e=sap.ushell.components.tiles.utils.getResourceBundle();t.setFailedText(e.getText("sb.noData"))}s.error(e.toString())},numberOfLeadingZeros:function(e){e=String(e);let t=0;const i=e.indexOf(".");if(i==-1){return 0}if(Number(e.split(".")[0])!=0){return 0}let n=i+1;while(e[n++]=="0"){++t}return t},formatValue:function(e,t,i){i=i||3;const n={3:"K",6:"M",9:"B",12:"T",0:""};n["-3"]="m";n["-6"]="u";n["-9"]="n";n["-12"]="t";n["-2"]="%";let s;let r;const a=Number(e).toPrecision(i);const l=this.numberOfLeadingZeros(a);if(l>0&&t<0){s=a*Math.pow(10,l+i);r=-(l+i)}else{s=Number(a.split("e")[0]);r=Number(a.split("e")[1])||0}if(!e&&e!=0){return{value:"",unitPrefix:""}}let o;if(t>=0){if(r%3!=0){if(r%3==2){if(r+1==t){r=r+1;s=s/10}else{r=r-2;s=s*100}}else if(r+2==t){r=r+2;s=s/100}else{r--;s=s*10}}else if(r==15){s=s*1e3;r=12}}else if(t=="-2"){o=this.formatValue(e*100,0)}else if(r>=0&&e<10&&t=="-3"){s=e*Math.pow(10,3);r=-3}else if(r>=0){return this.formatValue(e,0)}else{r=Math.abs(r);t=Math.abs(t);if(t>r){s=s/Math.pow(10,r%3);r=r-r%3}else{const e=r-t;s=s/Math.pow(10,e);r=r-e}r=0-r}s+="";if(t=="-2"){const e=o.unitPrefix==""?Number(`${o.value}`).toFixed(4-`${o.value}`.indexOf(".")):Number(`${o.value}`).toFixed(3-`${o.value}`.indexOf("."));return{value:Number(e),unitPrefix:o.unitPrefix+n[-2]}}s=Number(s).toFixed(4-s.indexOf("."));return{value:Number(s),unitPrefix:n[r]}},isSmartbusinessChipAndCachable:function(e){const t=this.getParsedChip(e&&e.getConfigurationParameter("tileConfiguration"));return t&&t.TILE_PROPERTIES&&t.TILE_PROPERTIES.tileType&&this.getCachingTime(t)},getHanaClient:function(){let e;function t(t,i,n){e=t.sessionClient;sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(e);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e)}function i(e,t,i){s.error(e.responseText);s.error("session client call failed");sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(null);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.reject()}const n=sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED||jQuery.Deferred();const r=sap.ushell.components.tiles.indicatorTileUtils.cache.getCacheHanaClient();if(r!=undefined){e=r;sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e)}else if(sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED){return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise()}else{sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED=n;jQuery.ajax({type:"GET",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/GetSessionClient.xsjs",success:t,error:i})}return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise()},abortPendingODataCalls:function(e){try{if(e){e.abort()}}catch(e){this.logError(e)}}}}(window,jQuery);sap.ushell.components.tiles.indicatorTileUtils.cache=function(){const e={};const t={};const i="HANA_CLIENT";return{getCacheHanaClient:function(){return e[i]},setCacheHanaClient:function(t){e[i]=t},getEvaluationByChipId:function(t){if(e[t]){return e[t]}return null},getEvaluationById:function(e){return this.getEvaluationByChipId(e)},setEvaluationById:function(t,i){e[t]=i},getFrontEndCacheDeferredObject:function(t){if(e[t]){return e[t]}return null},setFrontEndCacheDefferedObject:function(t,i){e[t]=i},getKpivalueById:function(e){if(t[e]){return t[e]}return null},setKpivalueById:function(e,i){t[e]=i}}}();return{}},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/base/Log"],(e,i,t)=>{"use strict";const o=i.DeviationIndicator;const l=i.ValueColor;const s=i.Size;const a=i.LoadState;const n=i.FrameType;const c=e.extend("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},_processDataForComparisonChart:function(e,i,t){const o=[];const l={};let s;let a;let n;let c;let T=[];const r=this;let E=null;let u;for(s=0;s<e.results.length;s++){u=e.results[s]}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(s=0,n=T.length;s<n;s++){a=T[s];l[a.key]=a.value}const h=r.oConfig.TILE_PROPERTIES.COLUMN_NAMES||r.oConfig.EVALUATION.COLUMN_NAMES;for(s=0;s<h.length;s++){const e={};const i=h[s];e.value=Number(u[i.COLUMN_NAME]);let a=Number(u[i.COLUMN_NAME]);let n=false;const T=r._getEvaluationThresholdMeasures();const p=T?Array.prototype.indexOf.call(T,i.COLUMN_NAME):-1;if(p>-1){n=true}if(r.oConfig.EVALUATION.SCALING==-2&&n){a*=100}const C=r.isCurrencyMeasure(i.COLUMN_NAME);if(t&&t[s]&&u[t[s].name]){E=u[t[s].name]}c=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(a,r.oConfig.EVALUATION.SCALING,r.oConfig.EVALUATION.DECIMAL_PRECISION,C,E);if(r.oConfig.EVALUATION.SCALING==-2&&n){c+=" %"}e.displayValue=c.toString();if(t){if(t[s]&&u[t[s].name]){e.displayValue+=` ${u[t[s].name]}`}}e.color=i.semanticColor;e.title=l[i.COLUMN_NAME]||i.COLUMN_NAME;e.measure=i.COLUMN_NAME;e.isCurM=C;o.push(e)}return o},fetchChartData:function(e,i,o,l){function s(e,i){let t=false;if(e&&e.results&&e.results.length){for(let o=0,l=i.length;o<l&&!t;o++){t=e.results[0][i[o].COLUMN_NAME]!==null}}return t}const a=this;try{const n=this.oConfig.EVALUATION.ODATA_ENTITYSET;const c=this.oConfig.EVALUATION.COLUMN_NAME;let T=c;let r;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(r=0;r<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;r++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[r].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){T=`${T},${this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[r].COLUMN_NAME}`}}}else{for(r=0;r<this.oConfig.EVALUATION.COLUMN_NAMES.length;r++){if(this.oConfig.EVALUATION.COLUMN_NAMES[r].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){T=`${T},${this.oConfig.EVALUATION.COLUMN_NAMES[r].COLUMN_NAME}`}}}const E=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let h;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){if(u){h=u.Data&&JSON.parse(u.Data)}}const p=a.oTileApi.configuration.getParameterValueAsString("timeStamp");const C=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(a.oConfig.TILE_PROPERTIES.id,p,a.chipCacheTime,a.chipCacheTimeUnit,a.tilePressed);if(h&&!h.rightData||!u||!C&&a.oTileApi.visible.isVisible()||E||i&&a.oTileApi.visible.isVisible()||a.getView().getViewData().refresh){if(a.kpiValueFetchDeferred){a.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const i=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(a.oRunTimeODataModel,n,T,null,e,3);this.comparisionChartODataRef=i.model.read(i.uri,null,null,true,e=>{a.kpiValueFetchDeferred=true;let t={};if(i.unit){t.unit=i.unit}if(s(e,a.oConfig.TILE_PROPERTIES.COLUMN_NAMES||a.oConfig.EVALUATION.COLUMN_NAMES)){a.oConfig.TILE_PROPERTIES.FINALVALUE=e;a.oConfig.TILE_PROPERTIES.FINALVALUE=a._processDataForComparisonChart(a.oConfig.TILE_PROPERTIES.FINALVALUE,T.split(",")[0],i.unit);t.data=a.oConfig.TILE_PROPERTIES.FINALVALUE;const l={};a.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=a.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(t);l.CacheMaxAge=Number(a.chipCacheTime);l.CacheMaxAgeUnit=a.chipCacheTimeUnit;l.CacheType=1;const s=a.getLocalCache(l);a.updateDatajobScheduled=false;const n=`${a.oConfig.TILE_PROPERTIES.id}data`;let c=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(n);if(c){clearTimeout(c);c=undefined}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,s);let e=false;if(u){e=true}if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(a.oTileApi,a.oConfig.TILE_PROPERTIES.id,l,e,e=>{if(e){a.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e);a.setTimeStamp()}if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);let i;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}i=e.Data;if(i){i=JSON.parse(i);i.rightData=t}e.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,e)}else{i={};i.rightData=t;s.Data=JSON.stringify(i);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,s)}a.cacheWriteData=t}o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e.results.length==0){a.oConfig.TILE_PROPERTIES.FINALVALUE=e;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id)){t=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(a.oConfig.TILE_PROPERTIES.id);t.data=e}else{t.data=e}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,t);o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE);a.setNoData()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(a.oConfig.TILE_PROPERTIES.id,{empty:"empty"});a.setNoData()}},e=>{a.kpiValueFetchDeferred=true;if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);l.call(a,e)}})}}else if(u&&u.Data){let e;const i=a.oConfig&&a.oConfig.TILE_PROPERTIES&&a.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=u.Data&&JSON.parse(u.Data)}else{e=u.Data&&JSON.parse(u.Data);e=e.rightData}a.cacheTime=u.CachedTime;if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(a.oConfig)){a.setTimeStamp(a.cacheTime)}if(e.data&&e.data.length){a.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE)}else{a.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(a,a.oConfig.TILE_PROPERTIES.FINALVALUE);a.setNoData()}}else{a.setNoData()}}catch(e){a.kpiValueFetchDeferred=true;l.call(a,e)}},doProcess:function(e,i){const t=this;this.setTextInTile();this.fetchChartData(e,i,function(e){this.CALCULATED_KPI_VALUE=e;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==n.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(n.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());const e={};e.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve()}else{t.oKpiTileView.oGenericTile.setFrameType(n.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded)}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"COMP");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},this.logError)},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({value:8888,size:s.Auto,frameType:n.OneByOne,state:a.Loading,valueColor:l.Error,indicator:o.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1.2,color:"Good"},{title:"Measure 2",value:.78,color:"Good"},{title:"Measure 3",value:1.4,color:"Error"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded)}});return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],(e,i,t,o,s,a,r,l)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=l.Size;const i=this;i.oGenericTileData={};i.oCmprsDataTmpl=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});i.oCmprsChrtTmpl=new s({size:e.Responsive,scale:"{/scale}",data:{template:i.oCmprsDataTmpl,path:"/data"}});i.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:i.oCmprsChrtTmpl});i.oGenericTile=new a({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[i.oNVConfS]});i.oGenericTileModel=new r;i.oGenericTileModel.setData(i.oGenericTileData);i.oGenericTile.setModel(i.oGenericTileModel);return i.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library","sap/base/Log"],(e,i,t)=>{"use strict";const o=i.DeviationIndicator;const l=i.ValueColor;const s=i.Size;const a=i.LoadState;const n=i.FrameType;const c=e.extend("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false},_processDataForComparisonChart:function(e,i,t,o){const l=this.oConfig.TILE_PROPERTIES.semanticColorContribution;const s=[];let a;let n;for(let c=0;c<e.results.length;c++){const r=e.results[c];const T={};try{T.title=r[t].toString()}catch(e){T.title=""}T.value=Number(r[i]);let u=Number(r[i]);if(this.oConfig.EVALUATION.SCALING==-2){u*=100}const E=this.isCurrencyMeasure(i);n=r[o];a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(u,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,E,n);T.displayValue=a.toString();if(typeof l==="undefined"){T.color="Neutral"}else{T.color=l}if(T&&o){T[o]=n}s.push(T)}return s},fetchChartData:function(e,i,o,l){const s=this;try{const a=this.oConfig.EVALUATION.ODATA_ENTITYSET;let n;s.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){n=`${this.oConfig.EVALUATION.COLUMN_NAME},${this.oConfig.TILE_PROPERTIES.semanticMeasure}`}else{n=this.oConfig.EVALUATION.COLUMN_NAME}let c=null;let r=this.oConfig.TILE_PROPERTIES.dimension;const T=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(e);const u=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);let E;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){if(u){E=u.Data&&JSON.parse(u.Data)}}const h=s.oTileApi.configuration.getParameterValueAsString("timeStamp");const p=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(s.oConfig.TILE_PROPERTIES.id,h,s.chipCacheTime,s.chipCacheTimeUnit,s.tilePressed);if(E&&!E.rightData||!u||!p&&s.oTileApi.visible.isVisible()||T||i&&s.oTileApi.visible.isVisible()||s.getView().getViewData().refresh){if(s.kpiValueFetchDeferred){s.kpiValueFetchDeferred=false;const e=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);const i={};i["0"]=`${n},asc`;i["1"]=`${n},desc`;i["2"]=`${r},asc`;i["3"]=`${r},desc`;const T=i[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");const E=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(s.oRunTimeODataModel,a,n,r,e,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){E.uri+=`&$top=3&$orderby=${T[0]} ${T[2]}`}else{E.uri+=`&$top=3&$orderby=${T[0]} ${T[1]}`}this.comparisionChartODataRef=E.model.read(E.uri,null,null,true,e=>{s.kpiValueFetchDeferred=true;let i={};if(e&&e.results&&e.results.length){if(E.unit[0]){s._updateTileModel({unit:e.results[0][E.unit[0].name]});c=E.unit[0].name;i.unit=E.unit[0];i.unit.name=E.unit[0].name}r=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(s.oRunTimeODataModel,a,r);i.dimension=r;s.oConfig.TILE_PROPERTIES.FINALVALUE=e;s.oConfig.TILE_PROPERTIES.FINALVALUE=s._processDataForComparisonChart(s.oConfig.TILE_PROPERTIES.FINALVALUE,n.split(",")[0],r,c);i.data=s.oConfig.TILE_PROPERTIES.FINALVALUE;i.isCurM=s.isACurrencyMeasure(s.oConfig.EVALUATION.COLUMN_NAME);const t={};s.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();t.ChipId=s.oConfig.TILE_PROPERTIES.id;t.Data=JSON.stringify(i);t.CacheMaxAge=Number(s.chipCacheTime);t.CacheMaxAgeUnit=s.chipCacheTimeUnit;t.CacheType=1;const l=s.getLocalCache(t);s.updateDatajobScheduled=false;const T=`${s.oConfig.TILE_PROPERTIES.id}data`;let h=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(T);if(h){clearTimeout(h);h=undefined}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,l);let e=false;if(u){e=true}if(s.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(s.oTileApi,s.oConfig.TILE_PROPERTIES.id,t,e,e=>{if(e){s.cacheTime=e&&e.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,e)}if(s.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){s.setTimeStamp(s.cacheTime)}})}}else{const e=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);let t;if(e){if(!e.CachedTime){e.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()}t=e.Data;if(t){t=JSON.parse(t);if(s.oKpiTileView.getViewName()=="tiles.indicatornumeric.NumericTile"){t.leftData=i}else{t.rightData=i}}e.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,e)}else{t={};t.rightData=i;l.Data=JSON.stringify(t);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,l)}s.cacheWriteData=i}o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e.results.length==0){s.oConfig.TILE_PROPERTIES.FINALVALUE=e;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id)){i=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(s.oConfig.TILE_PROPERTIES.id);i.data=e}else{i.data=e}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,i);o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE);s.setNoData()}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(s.oConfig.TILE_PROPERTIES.id,{empty:"empty"});s.setNoData()}},e=>{s.kpiValueFetchDeferred=true;if(e&&e.response){t.error(`${e.message} : ${e.request.requestUri}`);l.call(s,e)}})}}else if(u&&u.Data){let e;const i=s.oConfig&&s.oConfig.TILE_PROPERTIES&&s.oConfig.TILE_PROPERTIES.tileType;if(i.indexOf("DT-")==-1){e=u.Data&&JSON.parse(u.Data)}else{e=u.Data&&JSON.parse(u.Data);e=e.rightData}s.cacheTime=u.CachedTime;if(s.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(s.oConfig)){s.setTimeStamp(s.cacheTime)}if(e.data&&e.data.length){if(e.unit){s._updateTileModel({unit:e.data[0][e.unit.name]})}r=e.dimension;s.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE)}else if(e&&e.data&&e.data instanceof Array&&e.data.length==0){s.oConfig.TILE_PROPERTIES.FINALVALUE=e.data;o.call(s,s.oConfig.TILE_PROPERTIES.FINALVALUE);s.setNoData()}else{s.setNoData()}}else{s.setNoData()}}catch(e){s.kpiValueFetchDeferred=true;l.call(s,e)}},doProcess:function(e,i){const t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(e,i,function(e){this.CALCULATED_KPI_VALUE=e;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==n.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(n.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve()}else{t.oKpiTileView.oGenericTile.setFrameType(n.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(a.Loaded)}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"CONT");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}},this.logError)},doDummyProcess:function(){const e=this;e.setTextInTile();e._updateTileModel({value:8888,size:s.Auto,frameType:n.OneByOne,state:a.Loading,valueColor:l.Error,indicator:o.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral"},{title:"EMEA",value:50,color:"Neutral"},{title:"APAC",value:-20,color:"Neutral"}]});this.oKpiTileView.oGenericTile.setState(a.Loaded)}});return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatorcontribution/ContributionTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/microchart/ComparisonMicroChartData","sap/suite/ui/microchart/ComparisonMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel","sap/m/library"],(e,i,t,o,s,a,n,r)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatorcontribution.ContributionTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");const e=r.Size;const i=this;i.oGenericTileData={};i.oCmprsDataTmpl=new o({title:"{title}",value:"{value}",color:"{color}",displayValue:"{displayValue}"});i.oCmprsChrtTmpl=new s({size:e.Responsive,scale:"{/scale}",data:{template:i.oCmprsDataTmpl,path:"/data"}});i.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerComp}",content:i.oCmprsChrtTmpl});i.oGenericTile=new a({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[i.oNVConfS]});i.oGenericTileModel=new n;i.oGenericTileModel.setData(i.oGenericTileData);i.oGenericTile.setModel(i.oGenericTileModel);return i.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library"],(e,t)=>{"use strict";const i=t.ValueColor;const o=t.LoadState;const r=t.FrameType;const l=e.extend("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true},doProcess:function(e,t){const i=this;let l;l=t.targetValue;let s=Number(e);this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){s*=100}let a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);const n=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(s),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(e);const u={};const A=this.getThresholdsObjAndColor(t).returnColor;const h={value:Number(e),color:A};u.actualValueLabel=n.toString();u.actual=h;u.thresholds=[];u.thresholds=this.getThresholdsObjAndColor(t).arrObj;const C=this.DEFINITION_DATA.EVALUATION_VALUES;let c;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){c=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){c*=100}a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(c,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);u.targetValue=Number(c);u.targetValueLabel=l.toString()}else{for(let e=0;e<C.length;e++){if(C[e].TYPE==="TA"){c=Number(l);if(this.oConfig.EVALUATION.SCALING==-2){c*=100}a=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);l=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(c,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,a,this.CURRENCY_CODE);u.targetValue=Number(c);u.targetValueLabel=l.toString()}}}if(this.oConfig.EVALUATION.SCALING==-2){u.scale="%"}this._updateTileModel(u);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==r.TwoByOne){i.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());i.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${i.oConfig.TILE_PROPERTIES.id}defferedRight`,false)}else{this.oKpiTileView.oGenericTile.setState(o.Loaded)}this.setToolTip(A,s,"DT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(i.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible())}}},getThresholdsObjAndColor:function(e){try{const t={};t.arrObj=[];t.returnColor=i.Neutral;const o=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;let r;let l;let s;let a;if(o==="MI"){s=Number(e.criticalHighValue)||0;a=Number(e.warningHighValue)||0;if(s&&a){s=window.parseFloat(s);a=window.parseFloat(a);t.arrObj.push({value:s,color:i.Error});t.arrObj.push({value:a,color:i.Critical});if(this.CALCULATED_KPI_VALUE<a){t.returnColor=i.Good}else if(this.CALCULATED_KPI_VALUE<=s){t.returnColor=i.Critical}else{t.returnColor=i.Error}}}else if(o==="MA"){l=Number(e.criticalLowValue)||0;r=Number(e.warningLowValue)||0;if(l&&r){l=window.parseFloat(l);r=window.parseFloat(r);t.arrObj.push({value:l,color:i.Error});t.arrObj.push({value:r,color:i.Critical});if(this.CALCULATED_KPI_VALUE<l){t.returnColor=i.Error}else if(this.CALCULATED_KPI_VALUE<=r){t.returnColor=i.Critical}else{t.returnColor=i.Good}}}else{s=Number(e.criticalHighValue)||0;a=Number(e.warningHighValue)||0;l=Number(e.criticalLowValue)||0;r=Number(e.warningLowValue)||0;if(r&&a&&l&&l){s=window.parseFloat(s);a=window.parseFloat(a);r=window.parseFloat(r);l=window.parseFloat(l);t.arrObj.push({value:s,color:i.Error});t.arrObj.push({value:a,color:i.Critical});t.arrObj.push({value:r,color:i.Critical});t.arrObj.push({value:l,color:i.Error});if(this.CALCULATED_KPI_VALUE<l||this.CALCULATED_KPI_VALUE>s){t.returnColor=i.Error}else if(this.CALCULATED_KPI_VALUE>=l&&this.CALCULATED_KPI_VALUE<=r||this.CALCULATED_KPI_VALUE>=a&&this.CALCULATED_KPI_VALUE<=s){t.returnColor=i.Critical}else{t.returnColor=i.Good}}}return t}catch(e){this.logError(e)}},doDummyProcess:function(){const e=this;this.setTextInTile();e._updateTileModel({actual:{value:120,color:i.Good},targetValue:100,thresholds:[{value:0,color:i.Error},{value:50,color:i.Critical},{value:150,color:i.Critical},{value:200,color:i.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(o.Loaded)}});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatordeviation/DeviationTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/BulletMicroChart","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,a,i,s,l,o,n)=>{"use strict";const r=i.Size;const u=i.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.microchart");sap.ui.jsview("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatordeviation.DeviationTile"},createContent:function(){this.setHeight("100%");this.setWidth("100%");let e="Lorem ipsum";let t="Lorem ipsum";const a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(a.title&&a.subTitle){e=a.title;t=a.subTitle}const i={subheader:t,header:e,footerNum:"",footerComp:"",frameType:"OneByOne",state:u.Loading,scale:""};const c=new s({value:"{value}",color:"{color}"});this.oBCTmpl=new l({size:r.Responsive,scale:"{/scale}",actual:{value:"{/actual/value}",color:"{/actual/color}"},targetValue:"{/targetValue}",actualValueLabel:"{/actualValueLabel}",targetValueLabel:"{/targetValueLabel}",thresholds:{template:c,path:"/thresholds"},state:"{/state}",showActualValue:"{/showActualValue}",showTargetValue:"{/showTargetValue}"});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oBCTmpl});this.oGenericTile=new o({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const h=new n;h.setData(i);this.oGenericTile.setModel(h);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatornumeric/NumericTile.controller", ["sap/ushell/components/tiles/generic","sap/m/library"],(e,i)=>{"use strict";const t=i.DeviationIndicator;const o=i.ValueColor;const s=i.LoadState;const l=i.FrameType;const n=e.extend("sap.ushell.components.tiles.indicatornumeric.NumericTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true},doProcess:function(e,i){const t=this;this.CALCULATED_KPI_VALUE=e;const o=this.getTrendColor(i);const n=this.getTrendIndicator(i.trendValue);let a="";let r=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){r*=100;this.getView().oNVConfContS.setFormatterValue(false)}const c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(r),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:"%"})}this._updateTileModel({value:a.toString(),valueColor:o,indicator:n});if(t.oConfig.TILE_PROPERTIES.frameType==l.OneByOne){this.oKpiTileView.oGenericTile.setState(s.Loaded);this.setToolTip(o,r,"NT")}else{t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(`${t.oConfig.TILE_PROPERTIES.id}defferedLeft`,false)}this.setToolTip(o,r,"NT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,t.oTileApi.visible.isVisible())}}},doDummyProcess:function(){const e=this;this.setTextInTile();if(!(e.oConfig.BLANKTILE||e.oConfig.TILE_PROPERTIES.blankTile)){e._updateTileModel({value:"10.34",scale:"M",valueColor:o.Neutral,indicator:t.None})}else{this.oKpiTileView.oNVConfContS.setIcon("sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts")}this.oKpiTileView.oGenericTile.setState(s.Loaded)}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/indicatornumeric/NumericTile.view", ["sap/ui/core/mvc/JSView","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/m/library","sap/m/NumericContent","sap/m/GenericTile","sap/ui/model/json/JSONModel"],(e,t,i,o,s,n,a)=>{"use strict";const l=o.DeviationIndicator;const r=o.ValueColor;const u=o.LoadState;sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatornumeric.NumericTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatornumeric.NumericTile"},createContent:function(){let e="Lorem ipsum";let t="Lorem ipsum";const i=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(i.title&&i.subTitle){e=i.title;t=i.subTitle}const o={subheader:t,header:e,footerNum:"",footerComp:"",scale:"",unit:"",value:"",size:"Auto",frameType:"OneByOne",state:u.Loading,valueColor:r.Neutral,indicator:l.None,title:"",footer:"",description:""};this.oNVConfContS=new s({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",valueColor:"{/valueColor}",size:"{/size}",formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new n({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});const c=new a;c.setData(o);this.oGenericTile.setModel(c);return this.oGenericTile}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/tiles/sbtilecontent", ["sap/m/TileContent","sap/m/TileContentRenderer","sap/ui/core/Control"],(e,t,n)=>{"use strict";const i=n.extend("numeric.TileContent_Timestamp",{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}this.getParent().fireRefresh()}},renderer:function(e,t){e.write("<div");e.writeElementData(t);e.addClass("sapMTileCntFtrTxt");if(t.getParent().getRefreshOption()){e.addClass("sapMLnk")}e.writeClasses();e.addStyle("position","absolute");e.addStyle("z-index","2");e.addStyle(e.getConfiguration().getRTL()?"left":"right","auto");e.writeStyles();e.write(">");const n=t.getParent().getTimestamp();if(n){if(!t.getParent().getRefreshOption()){e.writeEscaped(n)}else if(e.getConfiguration().getRTL()){e.writeEscaped(`${n}`);e.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner")}else{e.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");e.writeEscaped(`${n}`)}}e.write("</div>")}});return e.extend("sap.ushell.components.tiles.sbtilecontent",{metadata:{properties:{timestamp:{type:"string"},refreshOption:{type:"boolean"}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new i)},getAltText:function(){let t=e.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){t+=(t===""?"":"\n")+this.getTimestamp()}return t},renderer:{_renderFooter:function(e,n){t._renderFooter.apply(this,arguments);e.renderControl(n._oTimestamp)}}})},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/functionBindPrototype", ["sap/base/Log"],e=>{"use strict";e.error("The application uses an obsolete sap.ushell.functionBindPrototype module.","The reference to this module has to be removed.")},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu", ["sap/ushell/Config","sap/ushell/modules/NavigationMenu/NavigationMenuMode"],(i,e)=>{"use strict";class o{NavigationMenuMode=e;constructor(){i.emit("/core/sideNavigation/enabled",true)}setNavigationListProvider(e,o){i.emit("/core/sideNavigation/navigationListProvider",{modulePath:e,configuration:JSON.stringify(o||{})})}setFixedNavigationListProvider(e,o){i.emit("/core/sideNavigation/fixedNavigationListProvider",{modulePath:e,configuration:JSON.stringify(o||{})})}setMode(o){if(!Object.values(e).includes(o)){throw new Error(`Invalid mode: ${o}`)}i.emit("/core/sideNavigation/mode",o)}}return new o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/ListProvider", [],()=>{"use strict";class e{constructor(e){}async getRootItem(){throw new Error("Method not implemented.")}async findSelectedKey(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/ListProviderAPI", [],()=>{"use strict";class e{getConfigValue(e){if(false){return undefined}throw new Error("Method not implemented.")}getNavContainerFacade(){if(false){return undefined}throw new Error("Method not implemented.")}async updateSelectedKey(){throw new Error("Method not implemented.")}openSideNavigation(){throw new Error("Method not implemented.")}closeSideNavigation(){throw new Error("Method not implemented.")}expandSideNavigation(){throw new Error("Method not implemented.")}collapseSideNavigation(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/NavContainer", [],()=>{"use strict";class e{add(e){throw new Error("Method not implemented.")}to(e){throw new Error("Method not implemented.")}toRoot(){throw new Error("Method not implemented.")}}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/modules/NavigationMenu/NavigationMenuMode", [],()=>{"use strict";const e={Docked:"Docked",Popover:"Popover"};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/RendererAppContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/library"],(e,t,i,o,n)=>{"use strict";const r=n.ComponentLifecycle;const s=t.extend("sap.ushell.renderer.RendererAppContainer",{metadata:{properties:{childId:{type:"string",defaultValue:""},name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}},aggregations:{child:{multiple:false,type:"sap.ui.core.ComponentContainer",visibility:"hidden"}},events:{childDestroyed:{}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.style("width","100%");e.style("height","100%");e.openEnd();const i=t.getAggregation("child");if(i){e.renderControl(i)}e.close("div")}}});s.prototype.setName=function(e){this.setProperty("name",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype.setUrl=function(e){this.setProperty("url",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype.setChildId=function(e){this.setProperty("childId",e);if(this._hasValidConfig()){this.loadChild()}return this};s.prototype._hasValidConfig=function(){return!!this.getUrl()&&!!this.getName()&&!!this.getChildId()};s.prototype.loadChild=async function(){if(!this._hasValidConfig()){throw new Error("The RenderAppContainer does not yet have all of the required properties set, and thus can not be loaded.")}if(this._getChild()){throw new Error("The RenderAppContainer already has a Component loaded. A Component is not allowed to be loaded twice!")}if(!this._oComponentPromise){this._oComponentPromise=i.create({id:this.getChildId(),name:this.getName(),url:this.getUrl(),componentData:{}}).then(e=>{this._oComponentPromise=null;function t(){return new o({component:e,height:"100%",lifecycle:r.Container,width:"100%"})}let n;const s=i.getOwnerComponentFor(this);if(s){n=s.runAsOwner(t)}else{n=t()}e.setParent(n);this.setAggregation("child",n);return n}).catch(()=>{const t=`The RenderAppContainer could not load the configured Component: ${this.getName()}`;e.error(t);return t})}return this._oComponentPromise};s.prototype._getChild=function(){return this.getAggregation("child")};s.prototype.getChild=async function(){return this._getChild()||this.loadChild()};s.prototype.destroyChild=function(){this.destroyAggregation("child");this.fireChildDestroyed();return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/allMyApps/AllMyApps.controller", ["sap/m/library","sap/m/StandardListItem","sap/ui/core/EventBus","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/library","sap/ushell/renderer/allMyApps/AllMyAppsManager","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/ushell/state/ShellModel","sap/ushell/Container","sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager"],(e,t,s,i,l,n,o,a,r,p,d,g,h,c,u,M)=>{"use strict";const A=e.ListType;const y=r.AllMyAppsState;const f=r.AllMyAppsProviderType;const L=r.AppTitleState;let m=false;return i.extend("sap.ushell.renderer.allMyApps.AllMyApps",{iNumberOfProviders:0,onInit:function(){this.bFirstLoadOfAllMyApps=true;const e=new n;const t=this.getView();const i=s.getInstance();e.setSizeLimit(1e4);e.setProperty("/AppsData",[]);e.setProperty("/catalogEnabled",a.last("/core/catalog/enabled"));t.setModel(d.i18nModel,"i18n");t.setModel(e,"allMyAppsModel");if(!this._fnResizeHandler){this._fnResizeHandler=this._adjustItemNavigationColumns.bind(this);window.addEventListener("resize",this._fnResizeHandler)}i.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext,this);i.subscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);i.subscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);i.subscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this)},_getConfigModel:function(){return c.getConfigModel()},onExit:function(){const e=s.getInstance();if(this._fnResizeHandler){window.removeEventListener("resize",this._fnResizeHandler);delete this._fnResizeHandler}const t=this.getView();const i=t&&t.byId("oItemsContainerlist");const l=i&&i.getDomRef();if(this._fnFocusInHandler&&l){l.removeEventListener("focusin",this._fnFocusInHandler);delete this._fnFocusInHandler}e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.updateMasterFocusAndDetailsContext);e.unsubscribe("launchpad","allMyAppsFirstCatalogLoaded",this.onDetailLoad,this);e.unsubscribe("launchpad","allMyAppsMasterLoaded",this.onMasterLoad,this);e.unsubscribe("launchpad","allMyAppsNoCatalogsLoaded",this.onNoCatalogsLoaded,this)},_adjustItemNavigationColumns:function(){const e=this.getView();const t=e&&e.byId("oItemsContainerlist");const s=t&&t.getItemNavigation();const i=t&&t.getItems();if(s&&i.length>1){const e=i[0].getDomRef();const t=i[1].getDomRef();if(e&&t){const i=e.getBoundingClientRect().y===t.getBoundingClientRect().y;s.setColumns(i?2:1)}}},onBeforeRendering:function(){const e=this.getView();const t=e&&e.byId("oItemsContainerlist");const s=t&&t.getDomRef();if(this._fnFocusInHandler&&s){s.removeEventListener("focusin",this._fnFocusInHandler);delete this._fnFocusInHandler}},onAfterRendering:function(){return new Promise((e,t)=>{const s=this;const i=this.getView();const n=i.getModel("allMyAppsModel");const o=this._getSplitApp();const a=i.byId("sapUshellAllMyAppsMasterPage");const r=i.byId("sapUshellAllMyAppsDetailsPage");if(!this.bAfterInitialLoading){if(a){a.setBusy(true)}if(r){r.setBusy(true)}o.toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");if(!l.system.phone){o.toDetail("sapUshellAllMyAppsDetailsPage","show")}}if(this.bFirstLoadOfAllMyApps){n.setProperty("/AppsData",[])}else{const e=n.getProperty("/AppsData");n.setProperty("/AppsData",e)}const p=i.byId("oItemsContainerlist");const d=p&&p.getDomRef();if(!this._fnFocusInHandler&&d){this._fnFocusInHandler=this._adjustItemNavigationColumns.bind(this);d.addEventListener("focusin",this._fnFocusInHandler)}setTimeout(()=>{s._getAllMyAppsManager().loadAppsData(n,s._getPopoverObject(),s.bFirstLoadOfAllMyApps);s._isSingleDataSource().then(t=>{m=t;s.switchToInitialState();s.bFirstLoadOfAllMyApps=false;e()})},0)})},switchToInitialState:function(){const e=this._getDataSourceList();return this._isSingleDataSource().then(t=>{if(t){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevelSpread);e.bindItems("allMyAppsModel>/AppsData/0/groups",this._getMasterListItemTemplate)}else{this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevel);e.bindItems("allMyAppsModel>/AppsData",this._getMasterListItemTemplate())}if(l.system.phone){this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show")}e.invalidate();this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:true});this._getPopoverHeaderLabel().setText(d.i18n.getText("allMyApps_headerTitle"));this.updateHeaderButtonsState()})},handleSwitchToMasterAreaOnPhone:function(){const e=this._getDataSourcesSelectedPath();const t=e.split("/");this._getSplitApp().toMaster(this.createId("sapUshellAllMyAppsMasterPage"),"show");return this._isSingleDataSource().then(e=>{if(e){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevelSpread)}else if(t.length===3){this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.FirstLevel)}else{this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.SecondLevel)}this.updateHeaderButtonsState()})},handleMasterListItemPress:function(e){this.lastPressedMasterItem=e.getParameter("listItem");const t=this._getClickedDataSourceItemPath(this.lastPressedMasterItem);const s=this.getView();const i=s.getModel("allMyAppsModel");const l=i.getProperty(`${t}/type`);const n=this._getConfigModel().getProperty("/allMyAppsMasterLevel");const o=this._getCustomPanel();const a=this._getCustomPanelLabel();const r=this._getCustomPanelLink();const p=l===f.CATALOG;let d;if(p||n===y.FirstLevelSpread||n===y.SecondLevel){d=this.handleMasterListItemPressToDetails(t)}else{d=this.handleMasterListItemPressToSecondLevel(t)}o.setBindingContext(d,"allMyAppsModel");a.setBindingContext(d,"allMyAppsModel");if(r&&r.getVisible&&r.getVisible()){r.setBindingContext(d,"allMyAppsModel")}},handleMasterListItemPressToSecondLevel:function(e){const t=this.getView();const s=t.getModel("allMyAppsModel");const i=s.getProperty(`${e}/type`);const n=s.getProperty(`${e}/title`);const o=this._getSplitApp();const a=this._getDataSourceList();if(!l.system.phone){o.toDetail(this.createId("sapUshellAllMyAppsDetailsPage"))}a.bindItems(`allMyAppsModel>${e}/groups`,this._getMasterListItemTemplate());this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.SecondLevel);const r=this._setBindingContext(`${e}/groups/0`,t.byId("oItemsContainerlist"));a.invalidate();a.setSelectedItem(a.getItems()[0]);const p=a.getSelectedItem();if(p){p.focus()}if(i===f.HOME){this._getPopoverHeaderLabel().setText(d.i18n.getText("allMyApps_homeEntryTitle"))}else if(i===f.EXTERNAL){this._getPopoverHeaderLabel().setText(n)}this._getDetailsHeaderLabel().setText(s.getProperty(`${e}/groups/0/title`));this.updateHeaderButtonsState();return r},handleMasterListItemPressToDetails:function(e){const t=this.getView();const s=t.getModel("allMyAppsModel");const i=this._setBindingContext(e,t.byId("oItemsContainerlist"));this._getDetailsHeaderLabel().setText(s.getProperty(`${e}/title`));if(l.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"));this._getConfigModel().setProperty("/allMyAppsMasterLevel",y.Details)}this.updateHeaderButtonsState();return i},onMasterLoad:function(){const e=this.getView();const t=this._getPopoverHeaderBackButton();this.bAfterInitialLoading=true;e.byId("sapUshellAllMyAppsMasterPage").setBusy(false);t.focus();this._isSingleDataSource().then(e=>{m=e;this.updateMasterFocusAndDetailsContext(undefined,undefined,{bFirstCatalogLoadedEvent:false})})},onDetailLoad:function(){const e=this.getView();const t=e.byId("sapUshellAllMyAppsDetailsPage");t.setBusy(false);this.bAfterInitialLoading=true;if(!l.system.phone){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"),"show")}},onNoCatalogsLoaded:function(){const e=this.getView();const t=e.byId("sapUshellAllMyAppsDetailsPage");t.setBusy(false);this.bAfterInitialLoading=true;if(!l.system.phone&&!m){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsEmptyDetailsPage"),"show")}else if(!l.system.phone&&m){this._getSplitApp().toDetail(this.createId("sapUshellAllMyAppsDetailsPage"))}},updateMasterFocusAndDetailsContext:function(e,t,s){const i=this.getView();const l=i.getModel("allMyAppsModel");const n=this._getInitialFirstLevelSelectionIndex();const a=this._getDataSourceList();const r=this._getCustomPanelLabel();const p=this._getCustomPanelLink();let d;let g;if(m===true){d=l.createBindingContext("/AppsData/0/groups/0");g=l.getProperty(d.getPath())}else{d=l.createBindingContext(`/AppsData/${n}`);g=l.getProperty(d.getPath())}i.byId("oItemsContainerlist").setBindingContext(d,"allMyAppsModel");r.setBindingContext(d,"allMyAppsModel");i.byId("sapUshellAllMyAppsCustomPanel").setBindingContext(d,"allMyAppsModel");if(p.getVisible()){p.setBindingContext(d,"allMyAppsModel")}if(g!==undefined){this._getDetailsHeaderLabel().setText(g.title)}if(s.bFirstCatalogLoadedEvent===true){a.invalidate()}if(s.bFirstCatalogLoadedEvent===false&&n===0){this.onNoCatalogsLoaded()}a.setSelectedItem(a.getItems()[n]);const h=a.getSelectedItem();if(h){setTimeout(()=>{h.focus()},0)}if(s.bFirstCatalogLoadedEvent){o.end("FLP:ShellAppTitle.onClick");o.end("FLP:ShellNavMenu.footerClick")}},handleCustomPanelLinkPress:function(e){const t=this.getView();const s=t.byId("sapUshellAllMyAppsCustomPanelLink");const i=s.getVisible()?s.getBindingContext("allMyAppsModel").getObject():{};if(i.handlePress){i.handlePress(e.getSource(),i)}},updateHeaderButtonsState:function(){this._getShellAppTitleToggleListButton().setVisible(this.getToggleListButtonVisible());this._getPopoverHeaderBackButton().setVisible(this.getBackButtonVisible())},getToggleListButtonVisible:function(){const e=this.getCurrentState();const t=l.media.getCurrentRange(l.media.RANGESETS.SAP_STANDARD).name==="Phone";const s=(t||l.system.phone)&&e===y.Details;return s},getBackButtonVisible:function(){const e=this._getConfigModel().getProperty("/shellAppTitleState");if(e!==L.AllMyAppsOnly){return true}const t=this.getCurrentState();return t===y.SecondLevel||t===y.Details},onAppItemClick:function(e){const t=this.getView().getModel("allMyAppsModel");const s=e.getSource().getBindingContext("allMyAppsModel").getPath();const i=t.getProperty(`${s}/url`);if(i){h.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:i}});if(i[0]==="#"){hasher.setHash(i);setTimeout(()=>{this.getView().getParent().close()},50)}else{g.openURL(i,"_blank")}}},getCurrentState:function(){return this._getConfigModel().getProperty("/allMyAppsMasterLevel")},_isSingleDataSource:function(){return u.getServiceAsync("AllMyApps").then(e=>{if(e.isCatalogAppsEnabled()){return false}if(!e.isExternalProviderAppsEnabled()&&e.isHomePageAppsEnabled()){return true}return e.isExternalProviderAppsEnabled()&&Object.keys(e.getDataProviders()).length===1&&!e.isHomePageAppsEnabled()})},_getInitialFirstLevelSelectionIndex:function(){const e=this.getView();const t=e.getModel("allMyAppsModel");const s=t.getProperty("/AppsData");for(let e=0;e<s.length;e++){const t=s[e];if(t.type===f.CATALOG){return e}}return 0},_getPopoverHeaderBackButton:function(){if(!this._oPopoverHeaderBackButton){this._oPopoverHeaderBackButton=this._getPopoverHeaderContent(0)}return this._oPopoverHeaderBackButton},_getShellAppTitleToggleListButton:function(){if(!this._oShellAppTitleToggleListButton){this._oShellAppTitleToggleListButton=this._getPopoverHeaderContent(1)}return this._oShellAppTitleToggleListButton},_getPopoverHeaderContent:function(e){const t=this._getPopoverObject().getCustomHeader();const s=t.getContentLeft();const i=s[e];return i},_getPopoverHeaderLabel:function(){const e=this._getPopoverObject().getCustomHeader();const t=e.getContentMiddle();return t[0]},_getPopoverObject:function(){return this.getView().getParent()},_getDetailsHeaderLabel:function(){return this.getView().byId("sapUshellAllMyAppsDetailsHeaderLabel")},_setBindingContext:function(e,t){const s=this.getView().getModel("allMyAppsModel");const i=s.createBindingContext(e);t.setBindingContext(i,"allMyAppsModel");return i},_getClickedDataSourceItemPath:function(e){return e.getBindingContext("allMyAppsModel").getPath()},_getAllMyAppsManager:function(){return p},_getDataSourcesSelectedPath:function(){return this.lastPressedMasterItem.getBindingContextPath()},getControllerName:function(){return"sap.ushell.renderer.allMyApps.AllMyApps"},formatListItemType:function(e,t){const s=l.system.phone||t===y.FirstLevel&&e!==f.CATALOG;return s?A.Navigation:A.Active},_getMasterListItemTemplate:function(){if(!this.oTemplate){this.oTemplate=new t({type:{parts:["allMyAppsModel>type","/allMyAppsMasterLevel"],formatter:this.formatListItemType},title:"{allMyAppsModel>title}",wrapping:true})}return this.oTemplate},_getSplitApp:function(){return this.getView().byId("sapUshellAllMyAppsMasterDetail")},_getDataSourceList:function(){return this.getView().byId("sapUshellAllMyAppsDataSourcesList")},_getCustomPanel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanel")},_getCustomPanelLabel:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLabel")},_getCustomPanelLink:function(){return this.getView().byId("sapUshellAllMyAppsCustomPanelLink")}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/allMyApps/AllMyAppsManager", ["sap/ui/core/EventBus","sap/ui/thirdparty/hasher","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/library","sap/ushell/Container"],(t,e,jQuery,s,o,i)=>{"use strict";const a=o.AllMyAppsProviderType;function r(){}r.prototype.loadAppsData=function(e,s,o){return i.getServiceAsync("AllMyApps").then(i=>{this.oPopover=s;if(!i.isEnabled()){return}this.iNumberOfProviders=0;this.oModel=e;if(i.isHomePageAppsEnabled()){this._handleGroupsData()}if(i.isExternalProviderAppsEnabled()){this._handleExternalProvidersData(e)}if(i.isCatalogAppsEnabled()){this._handleCatalogs(o)}if(!i.isCatalogAppsEnabled()||i.isCatalogAppsEnabled()&&o){const e=t.getInstance();e.publish("launchpad","allMyAppsMasterLoaded")}})};r.prototype._handleGroupsData=function(){const t=this._getGroupsData();const e={title:s.i18n.getText("allMyApps_homeEntryTitle")};let o;return new Promise((e,s)=>{t.done(e).fail(s)}).then(t=>{e.groups=t;e.type=a.HOME;if(t.length===0){return}o=this.oModel.getProperty("/AppsData");if(o){const t=this._getIndexByType(o,e.type);if(t!==undefined){o[t]=e}else{o.unshift(e)}}this.oModel.setProperty("/AppsData",o);this.iNumberOfProviders+=1})};r.prototype._getIndexByType=function(t,e){if(t.length<=0){return 0}for(let s=0;s<t.length;s++){if(t[s].type===e){return s}}};r.prototype._getGroupsData=function(){const t=new jQuery.Deferred;i.getServiceAsync("FlpLaunchPage").then(t=>Promise.all([t.getDefaultGroup(),t.getGroups()])).then(t=>{this.oDefaultGroup=t[0];const e=t[1];const s=[];e.forEach(t=>{s.push(this._getFormattedGroup(t))});return Promise.all(s)}).then(e=>{const s=e.filter(t=>t&&(t.apps.length>0||t.numberCustomTiles>0));t.resolve(s)});return t.promise()};r.prototype._getFormattedGroup=function(t){let e;let o;let a;return i.getServiceAsync("FlpLaunchPage").then(i=>{if(i.isGroupVisible(t)===false){return}if(i.getGroupId(t)===i.getGroupId(this.oDefaultGroup)){o=s.i18n.getText("my_group")}else{o=i.getGroupTitle(t)}e={};e.title=o;e.apps=[];a=i.getGroupTiles(t);return this._getFormattedGroupApps(a)}).then(t=>{if(!t){return}e.apps=t.aFormattedApps;e.numberCustomTiles=t.iNumberOfCustomTiles;if(t.iNumberOfCustomTiles===1){e.sCustomLabel=s.i18n.getText("allMyApps_customStringSingle");e.sCustomLink=s.i18n.getText("allMyApps_customLinkHomePageSingle")}else{e.sCustomLabel=s.i18n.getText("allMyApps_customString",[t.iNumberOfCustomTiles]);e.sCustomLink=s.i18n.getText("allMyApps_customLinkHomePage")}e.handlePress=this._onHandleGroupPress;return e})};r.prototype._getFormattedGroupApps=function(t){const e=[];let s=0;return i.getServiceAsync("FlpLaunchPage").then(o=>{const i=[];t.forEach(t=>{if(o.isTileIntentSupported(t)){const o=this._getAppEntityFromTile(t).then(t=>{if(t){e.push(t)}else{s++}});i.push(o)}});return Promise.all(i)}).then(()=>({iNumberOfCustomTiles:s,aFormattedApps:e}))};r.prototype._onHandleGroupPress=function(s,o){e.setHash("#Shell-home");this.oPopover.close();const i=t.getInstance();i.subscribe("launchpad","dashboardModelContentLoaded",()=>{i.publish("launchpad","scrollToGroupByName",{groupName:o.title,isInEditTitle:false})},this);i.publish("launchpad","scrollToGroupByName",{groupName:o.title,isInEditTitle:false})};r.prototype._handleExternalProvidersData=function(){const e=this;return i.getServiceAsync("AllMyApps").then(s=>{const o=s.getDataProviders();const i=Object.keys(o);let r;let l;let n;let p;let u;let g;if(i.length>0){for(u=0;u<i.length;u++){r=i[u];l=o[r];n=l.getTitle();p={};p.title=n;g=l.getData();g.done(function(s){if(s&&s.length>0){this.groups=s;this.type=a.EXTERNAL;e.oModel.setProperty(`/AppsData/${e.iNumberOfProviders}`,this);e.iNumberOfProviders+=1;const o=t.getInstance();o.publish("launchpad","allMyAppsMasterLoaded")}}.bind(p))}}})};r.prototype._handleNotFirstCatalogsLoad=function(){const e=this.oModel.getProperty("/AppsData");const s=a.CATALOG;if(e.length&&e[e.length-1].type===s){this.bFirstCatalogLoaded=true;t.getInstance().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true})}};r.prototype._handleCatalogs=function(t){if(!t){this._handleNotFirstCatalogsLoad();return Promise.resolve()}this.bFirstCatalogLoaded=false;this.aPromises=[];return i.getServiceAsync("FlpLaunchPage").then(t=>{t.getCatalogs().done(()=>{jQuery.when.apply(jQuery,this.aPromises).then(this._onDoneLoadingCatalogs.bind(this))}).fail(()=>{this._onGetCatalogsFail(s.i18n.getText("fail_to_load_catalog_msg"))}).progress(this._addCatalogToModel.bind(this))})};r.prototype._addCatalogToModel=function(o){let r;let l={apps:[],numberCustomTiles:0,type:null};let n;const p=[i.getServiceAsync("FlpLaunchPage")];if(this._oAddCatalogToModelPromise){p.push(this._oAddCatalogToModelPromise)}this._oAddCatalogToModelPromise=Promise.all(p).then(t=>{r=t[0];l.type=a.CATALOG;const e=r.getCatalogTiles(o);this.aPromises.push(e);return e}).then(t=>{if(t.length===0){return}const e=r.getCatalogTitle(o);const s=this.oModel.getProperty("/AppsData");for(n=0;n<s.length;n++){if(s[n].type===a.CATALOG&&s[n].title===e){l=s[n];break}}l.title=r.getCatalogTitle(o);return this._getFormattedGroupApps(t)}).then(o=>{if(!o){return}Array.prototype.push.apply(l.apps,o.aFormattedApps);l.numberCustomTiles=o.iNumberOfCustomTiles;if(l.numberCustomTiles===1){l.sCustomLabel=s.i18n.getText("allMyApps_customStringSingle");l.sCustomLink=s.i18n.getText("allMyApps_customLinkAppFinderSingle")}else{l.sCustomLabel=s.i18n.getText("allMyApps_customString",[l.numberCustomTiles]);l.sCustomLink=s.i18n.getText("allMyApps_customLinkAppFinder")}l.handlePress=function(t,s){this.oPopover.close();e.setHash(`#Shell-home&/appFinder/catalog/${JSON.stringify({catalogSelector:s.title,tileFilter:"",tagFilter:"[]",targetGroup:""})}`)}.bind(this);if(l.apps.length>0||l.numberCustomTiles>0){this.oModel.setProperty(`/AppsData/${n}`,l);if(this.bFirstCatalogLoaded===false){t.getInstance().publish("launchpad","allMyAppsFirstCatalogLoaded",{bFirstCatalogLoadedEvent:true});this.bFirstCatalogLoaded=true}this.iNumberOfProviders+=1}});return this._oAddCatalogToModelPromise};r.prototype._onGetCatalogsFail=function(t){return i.getServiceAsync("MessageInternal").then(e=>{e.info(t)})};r.prototype._onDoneLoadingCatalogs=function(){const e=this.oModel.getProperty("/AppsData");e.sort((t,e)=>{const s=t.title.toUpperCase();const o=e.title.toUpperCase();if(s<o){return-1}if(s>o){return 1}return 0});this.oModel.setProperty("/AppsData",e);const s=t.getInstance();if(!this.bFirstCatalogLoaded){s.publish("launchpad","allMyAppsNoCatalogsLoaded")}};r.prototype._getAppEntityFromTile=function(t){return i.getServiceAsync("FlpLaunchPage").then(e=>{let s;const o=e.getCatalogTilePreviewTitle(t);const i=e.getCatalogTilePreviewSubtitle(t);const a=e.getCatalogTileTargetURL(t);if(a&&(o||i)){s={};s.url=a;if(o){s.title=o;s.subTitle=i}else{s.title=i}return s}})};return new r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/rendererTargetWrapper/Component", ["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ushell/Container","sap/ushell/EventHub","sap/ushell/resources"],(t,e,n,o,s)=>{"use strict";return t.extend("sap.ushell.renderer.rendererTargetWrapper.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){t.prototype.init.apply(this,arguments);const a=this.getComponentData();this.setModel(new e(a));this.setModel(s.i18nModel,"i18n");this._oReloadCurrentAppDoable=o.on("reloadCurrentApp").do(async t=>{const e=t.sAppId;if(!e){return}const o=await this.rootControlLoaded();const s=o.getController();const a=await s.getComponentInstance();if(a&&a.getId()===e){await s.reloadApp();const t=await this.getComponentInstance();const e=await n.getServiceAsync("AppLifeCycle");e.prepareCurrentAppObject("UI5",t,true)}})},getComponentInstance:async function(){const t=await this.rootControlLoaded();const e=t.getController();return await e.getComponentInstance()},destroy:async function(){const e=await this.getComponentInstance();if(e){e.destroy()}this._oReloadCurrentAppDoable.off();delete this._oReloadCurrentAppDoable;t.prototype.destroy.apply(this,arguments)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/rendererTargetWrapper/RendererTarget.controller", ["sap/ui/core/EventBus","sap/ui/core/mvc/Controller"],(e,n)=>{"use strict";return n.extend("sap.ushell.renderer.rendererTargetWrapper.RendererTarget",{onInit:function(){const e=this.byId("appContainer");e.loadChild()},reloadApp:function(){const e=this.byId("appContainer");e.destroyChild();return e.loadChild()},getComponentInstance:async function(){const e=this.byId("appContainer");const n=await e.getChild();if(typeof n.getComponentInstance==="function"){return n.getComponentInstance()}},onChildDestroy:function(){e.getInstance().publish("sap.ushell.renderer.Renderer","appClosed",{})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/Component", ["sap/ui/core/UIComponent","sap/ui/core/mvc/View","sap/esh/search/ui/i18n","sap/base/util/ObjectPath","sap/ui/core/routing/Router","sap/ushell/Container"],(e,t,n,r,i,s)=>{"use strict";return e.extend("sap/ushell/renderer/search/searchComponent",{metadata:{manifest:"json",library:"sap.ushell",interfaces:["sap.ui.core.IAsyncContentCreation"],config:{title:n.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},init:function(){e.prototype.init.apply(this,arguments);this.oRouter=new i;this.oRouter.initialize()},getRouter:function(){return this.oRouter},createContent:function(){let e;const n=r.get("sap-ushell-config.services.SearchCEP")!==undefined;const i=s.getFLPPlatform(true);const o=n===true&&i==="cFLP";if(o===true){e="module:sap/ushell/renderer/search/searchComponent/view/CEPSearchApp.view"}else{e="module:sap/ushell/renderer/search/searchComponent/view/SearchApp.view"}return t.create({id:"searchContainerApp",viewName:e})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/controller/CEPSearchApp.controller", ["sap/ui/core/Element","sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchModel","sap/ushell/Container","../../util"],(e,t,o,a,n)=>{"use strict";return t.extend("sap/ushell/renderer/search/searchComponent/SearchApp",{onInit:async function(){o.getModelSingleton({},"flp");const e=this.getOwnerComponent().getRouter();e.getHashChanger().attachEvent("hashChanged",this.hashChanged)},hashChanged:function(){const e=o.getModelSingleton({},"flp");e.parseURL()},onExit:function(){const t=this.getOwnerComponent().getRouter();t.getHashChanger().detachEvent("hashChanged",this.hashChanged);this.oSF=e.getElementById("CEPSearchField");this.oPlaceHolderSF=e.getElementById("PlaceHolderSearchField");if(this.oSF&&this.oSF.getValue()!==""){this.oSF.setValue("")}if(this.oPlaceHolderSF&&this.oPlaceHolderSF.getValue()!==""){this.oPlaceHolderSF.setValue("")}const o=this.oView.getContent()[0].oTablePersoController;if(o&&o.getTablePersoDialog&&o.getTablePersoDialog()){o.getTablePersoDialog().destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/controller/SearchApp.controller", ["sap/ui/core/mvc/Controller","sap/esh/search/ui/SearchShellHelper","sap/esh/search/ui/SearchModel","sap/ushell/renderer/search/util"],(e,t,a,s)=>{"use strict";const n=!t.collapseSearch;return e.extend("sap/ushell/renderer/search/searchComponent/SearchApp",{onInit:function(){const e=this.getOwnerComponent().getRouter();e.getHashChanger().attachEvent("hashChanged",this.hashChanged);if(t.oSearchFieldGroup===undefined){t.init()}if(n){t.setSearchState("EXP_S")}else{t.expandSearch()}},hashChanged:function(){const e=a.getModelSingleton({},"flp");e.parseURL()},onExit:function(){const e=this.getOwnerComponent().getRouter();e.getHashChanger().detachEvent("hashChanged",this.hashChanged);const a=this.oView.getContent()[0].oTablePersoController;if(a&&a.getTablePersoDialog&&a.getTablePersoDialog()){a.getTablePersoDialog().destroy()}if(t.resetModel){t.resetModel()}if(n){if(t.getDefaultOpen()!==true){if(t.setSearchStateSync){t.setSearchStateSync("COL")}else{t.setSearchState("COL")}}else{t.setSearchState("EXP")}}else{if(!s.isSearchFieldExpandedByDefault()){t.collapseSearch()}else{t.expandSearch()}}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/view/CEPSearchApp.view", ["sap/ui/core/mvc/View","sap/m/Label","sap/esh/search/ui/SearchCompositeControl","sap/esh/search/ui/SearchModel"],(e,r,n,o)=>{"use strict";return e.extend("sap.ushell.renderer.search.searchComponent.view.CEPSearchApp",{getControllerName:function(){return"sap.ushell.renderer.search.searchComponent.controller.CEPSearchApp"},createContent:function(){const e=o.getModelSingleton({},"flp");return new n({model:e,applicationComponent:"HAN-AS-INA-UI"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/searchComponent/view/SearchApp.view", ["sap/ui/core/mvc/View","sap/m/Label","sap/esh/search/ui/SearchCompositeControl","sap/esh/search/ui/SearchModel"],(e,r,n,o)=>{"use strict";return e.extend("sap.ushell.renderer.search.searchComponent.view.SearchApp",{getControllerName:function(){return"sap.ushell.renderer.search.searchComponent.controller.SearchApp"},createContent:function(){const e=o.getModelSingleton({},"flp");return new n({model:e,applicationComponent:"HAN-AS-INA-UI"})}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderer/search/util", ["sap/ui/core/Element","sap/ushell/Container"],(e,t)=>{"use strict";return{isSearchFieldExpandedByDefault:function(){const n=e.getElementById("shell-header")||{isExtraLargeState:function(){return false}};const a=t.getRendererInternal("fiori2").getShellController();const r=a.getView();const i=(r.getViewData()?r.getViewData().config:{})||{};return i.openSearchAsDefault||n.isExtraLargeState()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/renderers/fiori2/allMyApps/AllMyAppsManager", ["sap/ushell/renderer/allMyApps/AllMyAppsManager"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AllMyApps", [],()=>{"use strict";function t(t,e,n){const i=n&&n.config;let r=false;const s={};this.isEnabled=function(){r=!!(!i||i.enabled!==false);return r};this.isHomePageAppsEnabled=function(){return!!(!i||i.showHomePageApps!==false)};this.isCatalogAppsEnabled=function(){return!!(!i||i.showCatalogApps!==false)};this.isExternalProviderAppsEnabled=function(){return!!(!i||i.showExternalProviders!==false)};this.registerExternalProvider=function(t,e){if(!t||t===""){return}if(!e.getTitle||!e.getData){return}s[t]=e};this.getDataProviders=function(){return s};this.init=function(){}}t.hasNoAdapter=true;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppType", ["sap/ushell/library","sap/ushell/utils/AppType"],(e,s)=>{"use strict";const p=JSON.parse(JSON.stringify(e.AppType));p.getDisplayName=s.getDisplayName;return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Bookmark", ["sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],(e,jQuery,o,r,t,a,s,n)=>{"use strict";const i="sap.ushell.services.Bookmark";const c="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";const l=r.ContentNodeType;function u(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(o.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages")}this._addBookmarkToContentNodes=function(e,o,r,t){const a=o.map(async o=>{if(o&&o.hasOwnProperty("type")&&o.isContainer){switch(o.type){case l.Page:return this.addBookmarkToPage(e,o.id,t);case l.HomepageGroup:return new Promise((e,r)=>{this._oLaunchPageServicePromise.then(t=>{t.getGroupById(o.id).done(e).fail(r)})}).then(o=>this.addBookmarkToHomepageGroup(e,o,r,t));default:throw new Error(`Bookmark Service: The API needs to be called with a valid content node type. '${o.type}' is not supported.`)}}throw new Error("Bookmark Service: Not a valid content node.")});return Promise.all(a)};this.addBookmark=function(e,r,t){const a=new jQuery.Deferred;const s=o.last("/core/shell/enablePersonalization");const c=o.last("/core/spaces/enabled");const l=o.last("/core/spaces/myHome/enabled");if(!s&&(!c||!l)){return a.resolve().promise()}this._checkBookmarkParameters(e).then(()=>this._changeUrlStatesToPersistent(e.url)).then(o=>{e.url=o;if(typeof r==="undefined"&&c){return sap.ushell.Container.getServiceAsync("Menu").then(e=>e.getDefaultSpace()).then(e=>{const o=e&&e.children&&e.children[0];return o}).then(o=>this._addBookmarkToContentNodes(e,[o],false,t))}if((typeof r==="undefined"||!r.hasOwnProperty("type"))&&!Array.isArray(r)){return this.addBookmarkToHomepageGroup(e,r,false,t)}const a=[].concat(r);return this._addBookmarkToContentNodes(e,a,false,t)}).then(a.resolve).catch(e=>{n.error("Error during Bookmark creation: ",e,i);a.reject(e)});return a.promise()};this.addCustomBookmark=async function(e,o,r,t){const n=a(o);const i=s(n,{vizType:e,vizConfig:{"sap.flp":{chipConfig:n.chipConfig},"sap.platform.runtime":{includeManifest:!n.loadManifest}}});delete i.chipConfig;delete i.loadManifest;i.url=await this._changeUrlStatesToPersistent(i.url);const c=[].concat(r);return this._addBookmarkToContentNodes(i,c,true,t)};this.addBookmarkToHomepageGroup=async function(r,t,a,s){if(o.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API is not available in spaces mode.")}return new Promise((o,n)=>{this._oLaunchPageServicePromise.then(i=>{let c;if(a){c=i.addCustomBookmark(r,t,s)}else{c=i.addBookmark(r,t,s)}c.done(r=>{const a={tile:r,group:t};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",a);o()}).fail(n)})})};this.addBookmarkToPage=async function(e,r,t){if(!o.last("/core/spaces/enabled")){throw new Error("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}const a=o.last("/core/shell/enablePersonalization");const s=o.last("/core/spaces/myHome/enabled");const n=o.last("/core/spaces/myHome/myHomePageId");if(!a&&(!s||s&&r!==n)){throw new Error("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){throw new Error("Bookmark Service - Invalid bookmark data.")}return this._oPagesServicePromise.then(o=>o.addBookmarkToPage(r,e,undefined,t))};this.addBookmarkByGroupId=function(e,r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){return a.reject(new Error("Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{o.getGroups().done(o=>{const s=o.find(e=>e.id===r)||null;this.addBookmark(e,s,t).done(a.resolve).fail(a.reject)}).fail(a.reject)}).catch(a.reject);return a.promise()};this.getShellGroupIDs=function(e){const r=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){return r.reject(new Error("Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{o.getGroupsForBookmarks(e).done(e=>{e=e.map(e=>({id:o.getGroupId(e.object),title:e.title}));r.resolve(e)}).fail(r.reject)});return r.promise()};this._doAddCatalogTileToGroup=function(e,o,r,t){this._oLaunchPageServicePromise.then(a=>{if(t){a.getGroups().fail(e.reject).done(s=>{const i=s.some(s=>{if(a.getGroupId(s)===t){this._addToGroup(r,e,o,s);return true}});if(!i){const o=`Group '${t}' is unknown`;n.error(o,null,"sap.ushell.services.Bookmark");e.reject(new Error(o))}})}else{a.getDefaultGroup().fail(e.reject).done(t=>{this._addToGroup(r,e,o,t)})}});return e.promise()};this._isSameCatalogTile=function(e,o,r){const t=r.getCatalogTileId(o);if(t===undefined){return false}return t.indexOf(e)===0};this._addToGroup=function(o,r,t,a){return this._oLaunchPageServicePromise.then(s=>{s.getCatalogTiles(o).fail(r.reject).done(i=>{const c=s.getGroupId(a);const l=i.some(o=>{if(this._isSameCatalogTile(t,o,s)){s.addTile(o,a).fail(r.reject).done(()=>{r.resolve();e.getInstance().publish("sap.ushell.services.Bookmark","catalogTileAdded",c)});return true}});if(!l){const e=`No tile '${t}' in catalog '${s.getCatalogId(o)}'`;n.error(e,null,"sap.ushell.services.Bookmark");r.reject(new Error(e))}})})};this.addCatalogTileToGroup=function(e,r,t){const a=new jQuery.Deferred;n.error("Deprecated API call of 'sap.ushell.Bookmark.addCatalogTileToGroup'. Please use 'addBookmark' instead",null,"sap.ushell.services.Bookmark");if(o.last("/core/spaces/enabled")){return a.reject(new Error("Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.")).promise()}this._oLaunchPageServicePromise.then(o=>{const s=t?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;t=t||{id:c};o.onCatalogTileAdded(e);o.getCatalogs().fail(a.reject).done(i=>{let c;i.forEach(e=>{if(s(e,t,o)){if(!c){c=e}else{n.warning(`More than one matching catalog: ${JSON.stringify(t)}`,null,"sap.ushell.services.Bookmark")}}});if(c){this._doAddCatalogTileToGroup(a,e,c,r)}else{const e=`No matching catalog found: ${JSON.stringify(t)}`;n.error(e,null,"sap.ushell.services.Bookmark");a.reject(new Error(e))}})});return a.promise()};this._checkBookmarkParameters=async function(e){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}const o=e.dataSource;let r;if(o){if(o.type!=="OData"){throw new Error(`Invalid Bookmark Data: Unknown data source type: ${o.type}`)}r=o.settings&&o.settings.odataVersion;const e=["2.0","4.0"];if(!e.includes(r)){throw new Error(`Invalid Bookmark Data: Unknown OData version in the data source: ${r}`)}}if(e.serviceUrl){return sap.ushell.Container.getServiceAsync("ReferenceResolver").then(r=>{if(r.hasSemanticDateRanges(e.serviceUrl)&&!o){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}})}};this._isMatchingRemoteCatalog=function(e,o,r){const t=r.getCatalogData(e);return t.remoteId===o.remoteId&&t.baseUrl.replace(/\/$/,"")===o.baseUrl.replace(/\/$/,"")};this._isLegacyHANACatalog=function(e,o,r){return r.getCatalogId(e)===c};this.countBookmarks=function(e,r){const t=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){this._oPagesServicePromise.then(o=>o.countBookmarks({url:e,contentProviderId:r})).then(t.resolve).catch(t.reject)}else{this._oLaunchPageServicePromise.then(o=>{o.countBookmarks(e,r).done(t.resolve).fail(t.reject)})}return t.promise()};this.countCustomBookmarks=async function(e){if(!e||!e.url||!e.vizType){throw new Error("countCustomBookmarks: Some required parameters are missing.")}if(o.last("/core/spaces/enabled")){const o=await this._oPagesServicePromise;return o.countBookmarks(e)}const r=await this._oLaunchPageServicePromise;return r.countCustomBookmarks(e)};this.deleteBookmarks=function(r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){this._oPagesServicePromise.then(e=>e.deleteBookmarks({url:r,contentProviderId:t})).then(a.resolve).catch(a.reject)}else{this._oLaunchPageServicePromise.then(o=>{o.deleteBookmarks(r,t).done(o=>{e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r);a.resolve(o)}).fail(a.reject)})}return a.promise()};this.deleteCustomBookmarks=async function(r){if(!r||!r.url||!r.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}if(o.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(e=>e.deleteBookmarks(r))}return this._oLaunchPageServicePromise.then(e=>e.deleteCustomBookmarks(r)).then(o=>{e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r.url);return o})};this.updateBookmarks=function(e,r,t){const a=new jQuery.Deferred;if(o.last("/core/spaces/enabled")){Promise.all([this._oPagesServicePromise,this._changeUrlStatesToPersistent(r.url)]).then(([o,a])=>{r.url=a;return o.updateBookmarks({url:e,contentProviderId:t},r)}).then(a.resolve).catch(a.reject)}else{Promise.all([this._oLaunchPageServicePromise,this._changeUrlStatesToPersistent(r.url)]).then(([o,s])=>{r.url=s;o.updateBookmarks(e,r,t).done(a.resolve).fail(a.reject)})}return a.promise()};this.updateCustomBookmarks=async function(e,r){if(!e||!e.url||!e.vizType){throw new Error("updateCustomBookmarks: Some required parameters are missing.")}const t=s({},r,{vizConfig:{"sap.flp":{chipConfig:r.chipConfig},"sap.platform.runtime":{includeManifest:!r.loadManifest}}});delete t.chipConfig;delete t.loadManifest;t.url=await this._changeUrlStatesToPersistent(t.url);if(o.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(o=>o.updateBookmarks(e,t))}return this._oLaunchPageServicePromise.then(o=>o.updateCustomBookmarks(e,t))};this.getContentNodes=async function(){if(o.last("/core/spaces/enabled")){const e=await sap.ushell.Container.getServiceAsync("Menu");return e.getContentNodes()}return new Promise(async(e,o)=>{const r=await this._oLaunchPageServicePromise;r.getGroupsForBookmarks().done(o=>{const t=o.map(e=>({id:r.getGroupId(e.object),label:e.title,type:l.HomepageGroup,isContainer:true}));e(t)}).fail(o)})};this._changeUrlStatesToPersistent=async function(e){const o=await sap.ushell.Container.getServiceAsync("AppState");const r=o.getPersistentWhenShared();if(o.getSupportedPersistencyMethods().length===0&&r!==true){return e}if(e&&e.length>0){return t.promisify(o.setAppStateToPublic(e))}return e}}u.hasNoAdapter=true;return u},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/BookmarkV2", ["sap/ui/core/EventBus","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log","sap/ushell/utils","sap/ushell/Container"],(e,t,a,o,r,s,i,n)=>{"use strict";const c="sap.ushell.services.BookmarkV2";const u=a.ContentNodeType;function d(){this._getLaunchPageService=function(){if(!this._oLaunchPageServicePromise){this._oLaunchPageServicePromise=n.getServiceAsync("LaunchPage")}return this._oLaunchPageServicePromise};this._getPagesService=function(){if(!this._oPagesServicePromise){this._oPagesServicePromise=n.getServiceAsync("Pages")}return this._oPagesServicePromise};this._addBookmarkToContentNodes=async function(e,t,a,o){const r=t.map(async t=>{if(t&&t.hasOwnProperty("type")&&t.isContainer){if(t.type===u.Page){return this.addBookmarkToPage(e,t.id,o)}if(t.type===u.HomepageGroup){const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroupById(t.id));return this.addBookmarkToHomepageGroup(e,s,a,o)}throw new Error(`Bookmark Service: The API needs to be called with a valid content node type. '${t.type}' is not supported.`)}throw new Error("Bookmark Service: Not a valid content node.")});return Promise.all(r)};this.addBookmark=async function(e,a,r){const i=t.last("/core/shell/enablePersonalization");const u=t.last("/core/spaces/enabled");const d=t.last("/core/spaces/myHome/enabled");if(!i&&(!u||!d)){return}try{await this._checkBookmarkParameters(e);const t=o(e,20);t.url=await this._changeUrlStatesToPersistent(t.url);if(typeof a==="undefined"&&u){const e=await n.getServiceAsync("Menu");const a=await e.getDefaultSpace();const o=a&&a.children&&a.children[0];return this._addBookmarkToContentNodes(t,[o],false,r)}if((typeof a==="undefined"||!a.hasOwnProperty("type"))&&!Array.isArray(a)){return this.addBookmarkToHomepageGroup(t,a,false,r)}const s=[].concat(a);return this._addBookmarkToContentNodes(t,s,false,r)}catch(e){s.error("Error during Bookmark creation: ",e,c);throw e}};this.addCustomBookmark=async function(e,t,a,s){const i=o(t);const n=r(i,{vizType:e,vizConfig:{"sap.flp":{chipConfig:i.chipConfig},"sap.platform.runtime":{includeManifest:!i.loadManifest}}});delete n.chipConfig;delete n.loadManifest;n.url=await this._changeUrlStatesToPersistent(n.url);const c=[].concat(a);return this._addBookmarkToContentNodes(n,c,true,s)};this.addBookmarkToHomepageGroup=async function(a,o,r,s){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API is not available in spaces mode.")}const n=await this._getLaunchPageService();let c;if(r){c=await i.promisify(n.addCustomBookmark(a,o,s))}else{c=await i.promisify(n.addBookmark(a,o,s))}const u={tile:c,group:o};e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",u)};this.addBookmarkToPage=async function(e,a,o){if(!t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad home page mode, use 'addBookmark' instead.")}const r=t.last("/core/shell/enablePersonalization");const s=t.last("/core/spaces/myHome/enabled");const i=t.last("/core/spaces/myHome/myHomePageId");if(!r&&(!s||s&&a!==i)){throw new Error("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(e&&(typeof e.title!=="string"||typeof e.url!=="string")){throw new Error("Bookmark Service - Invalid bookmark data.")}const n=await this._getPagesService();return n.addBookmarkToPage(a,e,undefined,o)};this.addBookmarkByGroupId=async function(e,a,o){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.")}const r=await this._getLaunchPageService();const s=await i.promisify(r.getGroups());const n=s.find(e=>e.id===a)||null;await this.addBookmark(e,n,o)};this.getShellGroupIDs=async function(e){if(t.last("/core/spaces/enabled")){throw new Error("Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.")}const a=await this._getLaunchPageService();let o=await i.promisify(a.getGroupsForBookmarks(e));o=o.map(e=>({id:a.getGroupId(e.object),title:e.title}));return o};this._checkBookmarkParameters=async function(e){if(!e){throw new Error("Invalid Bookmark Data: No bookmark parameters passed.")}const t=e.dataSource;let a;if(t){if(t.type!=="OData"){throw new Error(`Invalid Bookmark Data: Unknown data source type: ${t.type}`)}a=t.settings&&t.settings.odataVersion;const e=["2.0","4.0"];if(!e.includes(a)){throw new Error(`Invalid Bookmark Data: Unknown OData version in the data source: ${a}`)}}if(e.serviceUrl){const a=await n.getServiceAsync("ReferenceResolver");if(a.hasSemanticDateRanges(e.serviceUrl)&&!t){throw new Error("Invalid Bookmark Data: Provide a data source to use semantic date ranges.")}}};this.countBookmarks=async function(e,a){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.countBookmarks(e,a))}const o=await this._getPagesService();return o.countBookmarks({url:e,contentProviderId:a})};this.countCustomBookmarks=async function(e){if(!e||!e.url||!e.vizType){throw new Error("countCustomBookmarks: required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.countCustomBookmarks(e)}const a=await this._getPagesService();return a.countBookmarks(e)};this.deleteBookmarks=async function(a,o){if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();const r=await i.promisify(t.deleteBookmarks(a,o));e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",a);return r}const r=await this._getPagesService();return r.deleteBookmarks({url:a,contentProviderId:o})};this.deleteCustomBookmarks=async function(a){if(!a||!a.url||!a.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();await t.deleteCustomBookmarks(a);e.getInstance().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",a.url);return}const o=await this._getPagesService();return o.deleteBookmarks(a)};this.updateBookmarks=async function(e,a,r){const s=o(a,20);s.url=await this._changeUrlStatesToPersistent(s.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return i.promisify(t.updateBookmarks(e,s,r))}const n=await this._getPagesService();return n.updateBookmarks({url:e,contentProviderId:r},s)};this.updateCustomBookmarks=async function(e,a){if(!e||!e.url||!e.vizType){throw new Error("deleteCustomBookmarks: Some required parameters are missing.")}const o=r({},a,{vizConfig:{"sap.flp":{chipConfig:a.chipConfig},"sap.platform.runtime":{includeManifest:!a.loadManifest}}});delete o.chipConfig;delete o.loadManifest;o.url=await this._changeUrlStatesToPersistent(o.url);if(!t.last("/core/spaces/enabled")){const t=await this._getLaunchPageService();return t.updateCustomBookmarks(e,o)}const s=await this._getPagesService();return s.updateBookmarks(e,o)};this.getContentNodes=async function(){if(!t.last("/core/spaces/enabled")){const e=await this._getLaunchPageService();const t=await i.promisify(e.getGroupsForBookmarks());const a=t.map(t=>({id:e.getGroupId(t.object),label:t.title,type:u.HomepageGroup,isContainer:true}));return a}const e=await n.getServiceAsync("Menu");return e.getContentNodes()};this._changeUrlStatesToPersistent=async function(e){const t=await n.getServiceAsync("AppState");const a=t.getPersistentWhenShared();if(t.getSupportedPersistencyMethods().length===0&&a!==true){return e}if(!e||typeof e!=="string"){return e}return i.promisify(t.setAppStateToPublic(e))}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Configuration", ["sap/ushell/Config","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,jQuery,t)=>{"use strict";function s(){this.attachSizeBehaviorUpdate=function(t){const s=e.on("/core/home/sizeBehavior");s.do(t);return{detach:s.off}};this.getAppsSystems=function(){const e=new jQuery.Deferred;t.getServiceAsync("CommonDataModel").then(t=>{t.getSiteWithoutPersonalization().done(t=>{const s=t&&t.systemAliases&&JSON.parse(JSON.stringify(t.systemAliases))||{};e.resolve(s)}).catch(()=>{e.resolve({})})}).catch(()=>{e.resolve({})});return e.promise()}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ConfigurationDefaults", ["sap/base/Log","sap/ushell/bootstrap/common/common.create.configcontract.core"],(t,e)=>{"use strict";function n(t){const n=e.getDefaultConfiguration();this.getDefaults=async function(e){const a=await t.getDefaultConfig();return e.reduce((t,e)=>{let o;if(this._isValidConfigPath(e)){const t=e.split("/");const r=t.pop();let i=a;for(let e=0;e<t.length&&i;e++){i=i[t[e]]}if(i&&i.hasOwnProperty(r)){o={defaultValue:i[r]}}else if(n.hasOwnProperty(e)){o={defaultValue:n[e]}}}if(o&&o.hasOwnProperty("defaultValue")&&typeof o.defaultValue==="undefined"){o.defaultValue=null}t[e]=o;return t},{})}}n.prototype._isValidConfigPath=function(e){if(!e||typeof e!=="string"){t.warning("Configuration path should be string");return false}if(e.length===0){t.warning("Configuration path can not be empty string");return false}if(e.charAt(0)==="/"){t.warning(`Configuration path should not start with '/': ${e}`);return false}return true};n.hasNoAdapter=false;return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Container", ["sap/ushell/Container","sap/base/Log"],(e,s)=>{"use strict";s.warning("The use of sap/ushell/services/Container is deprecated. Please use sap/ushell/Container instead!");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/EndUserFeedback", ["sap/ui/thirdparty/URI"],e=>{"use strict";function t(){this.sendFeedback=function(){return Promise.resolve()};this.getLegalText=function(){return""};this.isEnabled=async function(){throw new Error("EndUserFeedback service is deprecated and therefore always disabled.")};this.getPathOfURL=function(t){const r=new e(t);return r.pathname()}}t.hasNoAdapter=true;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Message", ["sap/ushell/services/MessageInternal"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/MessageInternal", ["sap/base/Log","sap/m/MessageBox","sap/ushell/Config","sap/ushell/resources","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/Button","sap/m/VBox","sap/m/FormattedText","sap/m/library","sap/ui/core/library"],(e,t,n,s,o,i,a,r,l,c,u,d)=>{"use strict";const p=u.ButtonType;const f=u.DialogType;const h=d.ValueState;const y=u.FlexRendertype;function g(){let u;this.init=function(e){u=e;return this};this.show=function(t,n,s){if(!n){e.error("Message must not be empty.");return}if(u&&typeof u==="function"){u(t,n,s||{})}else{this.buildMessage(t,n,s||{})}};this.buildMessage=function(e,n,s){let o={title:s.title,actions:s.actions,details:s.details,onClose:s.callback,emphasizedAction:s.emphasizedAction};let i;switch(e){case g.Type.ERROR:this._createAndOpenErrorDialog(n,o);return;case g.Type.CONFIRM:if(!s.actions){i="confirm"}else if(s.actions.indexOf("DELETE")>-1){i="warning";o.emphasizedAction=t.Action.DELETE}else{o.icon=t.Icon.QUESTION;i="show"}break;case g.Type.INFO:i="info";this.buildAndSendMessageToast(n,s.duration||3e3);return;default:o={duration:s.duration||3e3};i="show";break}this.sendMessageBox(n,i,o)};this._copyToClipboard=function(e,t,n){let o=t.details;if(typeof t.details==="object"){o=JSON.stringify(t.details,null,"\t")}const i=[`Title: ${n||"-"}`,`Message: ${e||"-"}`,`Details: ${o||"-"}`];const a=document.activeElement;const r=document.createElement("textarea");let l;try{r.contentEditable=true;r.readonly=false;r.innerText=i.join("\n");document.documentElement.appendChild(r);if(navigator.userAgent.match(/ipad|iphone/i)){const e=document.createRange();e.selectNodeContents(r);window.getSelection().removeAllRanges();window.getSelection().addRange(e);r.setSelectionRange(0,999999)}else{r.select()}const e=document.execCommand("copy");l=e?"CopyWasSuccessful":"CopyWasNotSuccessful"}catch(e){l="CopyWasNotSuccessful"}finally{this.buildAndSendMessageToast(s.i18n.getText(l));document.documentElement.removeChild(r);window.getSelection().removeAllRanges();a.focus()}};this._createAndOpenErrorDialog=function(e,t){const o=t.details;let i;if(o){i=new c({htmlText:typeof o==="object"?o.info:o})}const a=this.errorWithDetails(e,i,t);if(n.last("/core/extension/SupportTicket")&&e!==s.i18n.getText("supportTicketCreationFailed")){a.addButton(new r({text:s.i18n.getText("contactSupportBtn"),press:()=>{sap.ui.require(["sap/ushell/ui/footerbar/ContactSupportButton"],e=>{const t=new e;if(t){t.showContactSupportDialog();t.destroy()}});a.close()}}))}if(document.queryCommandSupported("copy")){a.addButton(new r({text:s.i18n.getText("CopyToClipboardBtn"),press:this._copyToClipboard.bind(this,e,t,a.getTitle())}))}a.addButton(new r({text:s.i18n.getText("closeBtn"),type:p.Emphasized,press:a.close.bind(a)}))};this.buildAndSendMessageToast=function(e,t){sap.ui.require(["sap/m/MessageToast"],n=>{n.show(e,{duration:t})})};this.sendMessageBox=function(n,s,o){if(typeof t[s]==="function"){t[s](n,o)}else{e.error(`Unknown Message type: ${s}`,null,"MessageInternal Service")}};this.info=function(e,t){this.show(g.Type.INFO,e,{duration:t||3e3})};this.error=function(t,n){e.error(t);this.show(g.Type.ERROR,t,{title:n})};this.confirm=function(e,t,n,s){this.show(g.Type.CONFIRM,e,{title:n,callback:t,actions:s})};this.errorWithDetails=function(e,t,n,c){if(Array.isArray(t)){c=t;t=null}let u=typeof n==="string"?n:n?.title;if(typeof t==="string"){c=u;u=t;t=null}const d=new i({text:e,visible:!!e});if(t){d.addStyleClass("sapUiSmallMarginBottom")}const g=new o({state:h.Error,type:f.Message,contentWidth:"30rem",title:u||s.i18n.getText("error"),content:[new l({renderType:y.Bare,items:[d,new a({text:s.i18n.getText("ViewDetails"),visible:!!t,press:function(){g.getContent()[0].addItem(t);this.destroy()}})]})],buttons:c,endButton:new r({text:s.i18n.getText("closeBtn"),type:p.Emphasized,press:function(){g.close()}}),afterClose:function(){this.destroy()}}).addStyleClass("sapContrastPlus");if(typeof n?.onClose==="function"){g.attachAfterClose(n.onClose)}g.open();return g};this.Type=g.Type}g.Type={INFO:0,ERROR:1,CONFIRM:2};g.hasNoAdapter=true;return g});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Navigation", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/ui/base/Object","sap/ui/thirdparty/hasher","sap/ushell/appIntegration/AppLifeCycle","sap/ushell/Container","sap/ushell/services/Navigation/utils","sap/ushell/services/AppConfiguration","sap/ushell/TechnicalParameters","sap/ushell/utils","sap/ushell/utils/type","sap/ushell/utils/UrlParsing"],(t,e,a,n,i,s,r,p,o,c,l,u,h,f,g)=>{"use strict";function m(m,y,d){let S;if(d&&d.config){S=d.config}this.getTargetWithCurrentSystem=function(e,a){if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}let i;let s;const r=l.getCurrentApplication();if(a){let e;try{e=a.getComponentData().startupParameters}catch(t){}if(!n(e)){t.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.Navigation")}else{if(e.hasOwnProperty("sap-system")){i=e["sap-system"][0]}if(e.hasOwnProperty("sap-ushell-next-navmode")){s=e["sap-ushell-next-navmode"][0]}}}else{if(r&&r["sap-system"]){i=r["sap-system"]}else if(r&&r.url){i=new URL(r.url,window.location.href).searchParams.get("sap-system")}if(r&&r["sap-ushell-next-navmode"]){s=r["sap-ushell-next-navmode"]}else if(r&&r.url){s=new URL(r.url,window.location.href).searchParams.get("sap-ushell-next-navmode")}}let p;if(r){p=r.contentProviderId}const o=c.injectParameters({type:f,inject:{"sap-system":i,"sap-ushell-navmode":s,"sap-app-origin-hint":p},injectEmptyString:{"sap-app-origin-hint":true},args:e});return o};this.amendTargetWithSapUshellEncTestParameter=function(e){if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!S||!S["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!n(e)&&e!==undefined){t.error("Unexpected input type",null,"sap.ushell.services.Navigation");return undefined}if(e===undefined){return undefined}if(n(e)){const t=a({},e);if(t.target&&t.target.shellHash){if(typeof t.target.shellHash==="string"){if(t.target.shellHash!=="#"&&t.target.shellHash!==""){t.target.shellHash=this.amendTargetWithSapUshellEncTestParameter(t.target.shellHash)}}return t}t.params=t.params||{};t.params["sap-ushell-enc-test"]=["A B%20C"];return t}let i=e;if(!/[?&]sap-system=/.test(i)){const t=i.indexOf("?")>-1?"&":"?";i+=`${t}sap-ushell-enc-test=${encodeURIComponent("A B%20C")}`}return i};this._extractInnerAppRoute=function(e){if(typeof e==="string"){const t=e.split("&/");const a=t.shift();return{intent:a,innerAppRoute:t.length>0?`&/${t.join("&/")}`:""}}if(n(e)){const t=i.get("target.shellHash",e);if(typeof t==="string"){const{intent:a,innerAppRoute:n}=this._extractInnerAppRoute(t);e.target.shellHash=a;return{intent:e,innerAppRoute:n}}if(e.hasOwnProperty("appSpecificRoute")){const t=e.appSpecificRoute;delete e.appSpecificRoute;const a=typeof t==="string"&&t.indexOf("&/")!==0&&t.length>0;return{innerAppRoute:a?`&/${t}`:t,intent:e}}return{intent:e,innerAppRoute:""}}t.error("Invalid input parameter","expected string or object","sap.ushell.services.Navigation");return{intent:e}};this._injectInnerAppRoute=function(t,e){if(!e){return t}if(typeof t==="string"){return t+e}if(n(t)){const a=i.get("target.shellHash",t);if(typeof a==="string"){t.target.shellHash=this._injectInnerAppRoute(a,e);return t}t.appSpecificRoute=e}return t};this.getHref=async function(a={},n){try{let i=e(a);if(!i.target){t.debug("Navigation.getHref: No target provided using current hash as fallback","sap.ushell.services.Navigation");const e=g.parseShellHash(r.getHash());i.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};i.params=e.params;if(e.appSpecificRoute&&!i.appSpecificRoute){i.appSpecificRoute=e.appSpecificRoute}}const{intent:s,innerAppRoute:l}=this._extractInnerAppRoute(i);await c.addXAppStateFromParameter(s,"sap-xapp-state-data");i=this.getTargetWithCurrentSystem(s,n);i=await c.injectStickyParameters({args:i,appLifeCycle:p,technicalParameters:u,type:f});i=this.amendTargetWithSapUshellEncTestParameter(i);i=this._injectInnerAppRoute(i,l);const h=await o.getServiceAsync("ShellNavigationInternal");return h.hrefForExternal(i,undefined,n)}catch(e){t.error("href could not be calculated",e,"sap.ushell.services.Navigation")}};this.backToPreviousApp=async function(){const t=await this.isInitialNavigation();if(t){return this.navigate({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined};this.historyBack=function(e){let a=-1;if(e&&typeof e==="number"){if(e<=0){t.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.Navigation#historyBack")}a=e*-1}window.history.go(a)};this.isInitialNavigation=async function(){try{const t=await o.getServiceAsync("ShellNavigationInternal");const e=t.isInitialNavigation();if(typeof e==="undefined"){return true}return e}catch(e){t.debug("ShellNavigationInternal service not available","This will be treated as the initial navigation","sap.ushell.services.Navigation");return true}};this.navigate=async function(a,n){try{let t=e(a);const i=a.writeHistory;this._processShellHashWithParams(t);const{intent:s,innerAppRoute:r}=this._extractInnerAppRoute(t);const l=await o.getServiceAsync("AppLifeCycle");const h=await o.getServiceAsync("ShellNavigationInternal");const g=l.getCurrentApplication();const m=await(g&&g.getIntent());const y=e(a);this._checkIfAppNeedsToBeReloaded(y,g,m,h.hashChanger);await c.addXAppStateFromParameter(s,"sap-xapp-state-data");t=this.getTargetWithCurrentSystem(s,n);t=await c.injectStickyParameters({args:t,appLifeCycle:p,technicalParameters:u,type:f});t=this.amendTargetWithSapUshellEncTestParameter(t);delete t.writeHistory;t=this._injectInnerAppRoute(t,r);await h.toExternal(t,n,i)}catch(e){t.error("Navigation.navigate failed",e,"sap.ushell.services.Navigation")}};this._checkIfAppNeedsToBeReloaded=function(t,e,a,n){if(!e||!a||!t||!t.target){return}if(t.target.shellHash){const e=g.parseShellHash(t.target.shellHash)||{};t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},t.params,e.params)}if(t.appSpecificRoute){return}if(e.applicationType!=="UI5"){return}if(t.target.semanticObject!==a.semanticObject){return}if(t.target.action!==a.action){return}const i={params:{}};if(t.params){Object.keys(t.params).forEach(e=>{const a=t.params[e];const n=Array.isArray(a)?a:[a];i.params[e]=n.map(t=>t.toString())})}if(!g.haveSameIntentParameters(i,a)){return}n.setReloadApplication(true)};this.getPrimaryIntent=async function(t,e){const a={};a.tags=["primaryAction"];a.semanticObject=t;if(e?.params){a.params=e.params}const[n]=await this.getLinks([a]);if(n.length===0){delete a.tags;a.action="displayFactSheet";const[t]=await this.getLinks([a]);return t.length===0?null:t.sort((t,e)=>{const a=/^#\w+-displayFactSheet(?:$|\?.)/;if(t.intent===e.intent){return 0}const n=a.test(t.intent)^a.test(e.intent);if(n){return a.test(t.intent)?-1:1}return t.intent<e.intent?-1:1})[0]}return n.length===0?null:n.sort((t,e)=>{if(t.intent===e.intent){return 0}return t.intent<e.intent?-1:1})[0]};this.getLinks=async function(t=[]){if(!Array.isArray(t)){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}const e=t.every(t=>{if(Array.isArray(t)){return false}if(n(t)){return true}return false});if(!e){throw new Error("Unexpected Input: aLinkFilter has to be an array with plain objects!")}if(t.length===0){t.push({})}return Promise.all(t.map(async t=>{let e=a({},t);e.compactIntents=!!e.compactIntents;e.action=e.action||undefined;e.paramsOptions=c.extractGetLinksParameterOptions(e.params);e=await c.injectStickyParameters({args:e,appLifeCycle:p,technicalParameters:u,type:f});let n;if(e.params){n=c.extractGetLinksParameterDefinition(e.params)}else{n=e.params}let i=this.getTargetWithCurrentSystem({params:n},e.ui5Component).params;i=this.amendTargetWithSapUshellEncTestParameter({params:i}).params;if(e.appStateKey){i["sap-xapp-state"]=[e.appStateKey];delete e.appStateKey}e.params=i;const s=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(s.getLinks(e))}))};this.getSemanticObjects=async function(){const t=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(t.getDistinctSemanticObjects())};this.isNavigationSupported=async function(t,a){const n=e(t).map(t=>{const{intent:e}=this._extractInnerAppRoute(t);return this.getTargetWithCurrentSystem(e,a)});const i=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(i.isNavigationSupported(n))};this.isUrlSupported=async function(t){if(typeof t!=="string"){throw new Error("Url is not supported: It is not a string.")}if(g.isIntentUrl(t)){const e=g.getHash(t);const a={target:{shellHash:e}};const n=await this.isNavigationSupported([a]);if(!n[0].supported){throw new Error("Url is not supported: No matching intent was found.")}}};this.createEmptyAppState=async function(t,e,a,n){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){throw new Error("The passed oAppComponent must be a UI5 Component.")}const i=await o.getServiceAsync("AppState");return i.createEmptyAppState(t,e,a,n)};this.getStartupAppState=function(t){this._checkComponent(t);const e=t.getComponentData()&&t.getComponentData()["sap-xapp-state"]&&t.getComponentData()["sap-xapp-state"][0];return this.getAppState(t,e)};this._checkComponent=function(t){if(!s.isObjectA(t,"sap.ui.core.UIComponent")){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=async function(e,a){this._checkComponent(e);const n=await o.getServiceAsync("AppState");if(typeof a!=="string"){if(a!==undefined){t.error("Illegal Argument sAppStateKey ")}return n.createEmptyUnmodifiableAppState(e)}return h.promisify(n.getAppState(a))};this.getAppStateData=async function(e){if(!Array.isArray(e)){throw new Error("Unexpected Input: aAppStateKeys has to be an array with app state keys!")}const a=await o.getServiceAsync("AppState");return Promise.all(e.map(e=>{if(typeof e!=="string"){if(e!==undefined){t.error("Illegal Argument sAppStateKey ")}return Promise.resolve({})}return h.promisify(a.getAppState(e)).then(t=>t.getData()).catch(()=>({}))}))};this.saveAppStates=function(t){const e=t.map(t=>h.promisify(t.save()));return Promise.all(e)};this._processShellHashWithParams=function(t){if(n(t)){const e=!!t.processParams;const a=i.get("target.shellHash",t);const s=t.params;if(e&&a&&n(s)){const e=g.parseShellHash(a);t.target={semanticObject:e.semanticObject,action:e.action,contextRaw:e.contextRaw};t.appSpecificRoute=e.appSpecificRoute;t.params=Object.assign({},s,e.params)}}};this.getSupportedAppStatePersistencyMethods=async function(){const t=await o.getServiceAsync("AppState");return t.getSupportedPersistencyMethods()};this.updateAppStatePersistencyMethodAndSave=async function(t,e,a){const n=await o.getServiceAsync("AppState");return h.promisify(n.makeStatePersistent(t,e,a))};this.resolveIntent=async function(t){const e=await o.getServiceAsync("NavTargetResolutionInternal");return h.promisify(e.resolveHashFragment(t)).then(t=>({url:t.url}))}}m.hasNoAdapter=true;return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavigationDataProvider", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/LaunchpadError"],(t,s,e)=>{"use strict";function i(){this.S_COMPONENT_NAME="sap.ushell.services.NavigationDataProvider";this._init.apply(this,arguments)}i.prototype._init=function(t,s){this.oAdapter=t};i.prototype.getNavigationData=function(){return new Promise((i,a)=>{const n=this.oAdapter.getSystemAliases&&this.oAdapter.getSystemAliases()||{};s.promisify(this.oAdapter.getInbounds()).then(t=>{i({systemAliases:n,inbounds:t})}).catch(s=>{const i=new e(s.message,{component:this.S_COMPONENT_NAME,description:t.i18n.getText("NavigationDataProvider.CannotLoadData"),detail:s},s);a(i)})})};i.hasNoAdapter=false;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Notifications", ["sap/ui/thirdparty/jquery","sap/ushell/Container","sap/ushell/services/NotificationsV2"],(jQuery,t)=>{"use strict";function i(i,n,e){this._getNotificationsV2=function(){if(!this.oNotificationsV2Promise){this.oNotificationsV2Promise=t.getServiceAsync("NotificationsV2");this.oNotificationsV2Promise.then(t=>{this._oNotificationsV2Service=t})}return this.oNotificationsV2Promise};this._proxyV2=function(t,i){const n=new jQuery.Deferred;this._getNotificationsV2().then(n=>n[t].apply(n,i)).then(n.resolve).catch(n.reject);return n.promise()};this._proxyV2sync=function(t,i,n){const e=this._oNotificationsV2Service;return e[t].apply(e,n)};this.isEnabled=function(){const t=e?.config;return!!(t?.serviceUrl&&t?.enabled)};this.init=function(){this._proxyV2("init")};this.getUnseenNotificationsCount=function(){return this._proxyV2("getUnseenNotificationsCount")};this.getNotificationsCount=function(){return this._proxyV2sync("getNotificationsCount","0")};this.getNotificationsByTypeWithGroupHeaders=function(){return this._proxyV2("getNotificationsByTypeWithGroupHeaders")};this.getNotificationsGroupHeaders=function(){return this._proxyV2("getNotificationsGroupHeaders")};this.getNotificationsBufferInGroup=function(t,i,n){return this._proxyV2("getNotificationsBufferInGroup",arguments)};this.getNotificationsBufferBySortingType=function(t,i,n){return this._proxyV2("getNotificationsBufferBySortingType",arguments)};this.getNotifications=function(){return this._proxyV2("getNotifications",arguments)};this.executeBulkAction=function(t,i){return this._proxyV2("executeBulkAction",arguments)};this.dismissBulkNotifications=function(t){return this._proxyV2("dismissBulkNotifications",arguments)};this.executeAction=function(t,i){return this._proxyV2("executeAction",arguments)};this.sendBulkAction=function(t,i){return this._proxyV2("sendBulkAction",arguments)};this.sendBulkDismiss=function(t){return this._proxyV2("sendBulkDismiss",arguments)};this.markRead=function(t){return this._proxyV2("markRead",arguments)};this.dismissNotification=function(t){return this._proxyV2("dismissNotification",arguments)};this.registerNotificationsUpdateCallback=function(t){this._proxyV2("registerNotificationsUpdateCallback",arguments)};this.registerDependencyNotificationsUpdateCallback=function(t,i){this._proxyV2("registerNotificationsUpdateCallback",arguments)};this.registerNotificationCountUpdateCallback=function(t){this._proxyV2("registerNotificationCountUpdateCallback",arguments)};this.notificationsSeen=function(){this._setNotificationsAsSeen()};this.isFirstDataLoaded=function(){return this._proxyV2sync("isFirstDataLoaded",false)};this.readSettings=function(){return this._readSettingsFromServer()};this.saveSettingsEntry=function(t){return this._writeSettingsEntryToServer(t)};this.getUserSettingsFlags=function(){return this._proxyV2("getUserSettingsFlags")};this.setUserSettingsFlags=function(t){this._proxyV2("setUserSettingsFlags",arguments)};this._getNotificationSettingsMobileSupport=function(){return this._proxyV2sync("_getNotificationSettingsMobileSupport",false)};this._getDismissNotifications=function(){return this._proxyV2sync("_getDismissNotifications",[])};this.filterDismisssedItems=function(t,i){return this._proxyV2sync("_getDismissNotifications",[],arguments)};this._addDismissNotifications=function(t){this._proxyV2sync("_getDismissNotifications",null,arguments)};this._initializeDismissNotifications=function(){this._proxyV2sync("_initializeDismissNotifications")};this._getNotificationSettingsEmailSupport=function(){return this._proxyV2sync("_getNotificationSettingsEmailSupport",false)};this.destroy=function(){this._proxyV2sync("destroy")};this._readUnseenNotificationsCount=function(t){return this._proxyV2("_readUnseenNotificationsCount",arguments)};this.readNotificationsCount=function(){return this._proxyV2("readNotificationsCount",arguments)};this._getNotificationSettingsAvailability=function(){return this._proxyV2("_getNotificationSettingsAvailability")};this._setNotificationsAsSeen=function(){return this._proxyV2("_setNotificationsAsSeen")};this._readNotificationsData=function(t){return this._proxyV2("_readNotificationsData",arguments)};this._getHeaderXcsrfToken=function(){return this._proxyV2sync("_getHeaderXcsrfToken")};this._getDataServiceVersion=function(){return this._proxyV2sync("_getDataServiceVersion")};this._getRequestURI=function(t,i){return this._proxyV2sync("_getRequestURI","",arguments)};this._readSettingsFromServer=function(){return this._proxyV2("readSettings")};this._readMobileSettingsFromServer=function(){return this._proxyV2sync("_readMobileSettingsFromServer","")};this._readEmailSettingsFromServer=function(){return this._proxyV2sync("_readEmailSettingsFromServer","")};this._readChannelSettingsFromServer=function(t){return this._proxyV2("_readChannelSettingsFromServer",arguments)};this._checkWebSocketActivity=function(){return this._proxyV2("_checkWebSocketActivity",arguments)};this._writeSettingsEntryToServer=function(t){return this._proxyV2("_writeSettingsEntryToServer",arguments)};this._updateNotificationsConsumers=function(){this._proxyV2sync("_updateNotificationsConsumers")};this._updateDependentNotificationsConsumers=function(){this._proxyV2sync("_updateDependentNotificationsConsumers")};this._updateNotificationsCountConsumers=function(){this._proxyV2sync("_updateNotificationsCountConsumers")};this._updateAllConsumers=function(){this._proxyV2sync("_updateAllConsumers")};this._getModel=function(){return this._proxyV2sync("_getModel")};this._getMode=function(){return this._proxyV2sync("_getMode")};this._setWorkingMode=function(){this._proxyV2sync("_setWorkingMode")};this._performFirstRead=function(){this._proxyV2sync("_performFirstRead")};this._fioriClientStep=function(){this._proxyV2sync("_fioriClientStep")};this._webSocketStep=function(){this._proxyV2sync("_webSocketStep")};this._webSocketRecoveryStep=function(){this._proxyV2sync("_webSocketRecoveryStep")};this._activatePollingAfterInterval=function(){this._proxyV2sync("_activatePollingAfterInterval")};this._activatePolling=function(){this._proxyV2sync("_activatePolling")};this._formatAsDate=function(t){return new Date(t)};this._notificationAlert=function(t){this._proxyV2sync("_notificationAlert",arguments)};this._getFioriClientRemainingDelay=function(){return this._proxyV2sync("_getFioriClientRemainingDelay",arguments)};this._establishWebSocketConnection=function(){this._proxyV2sync("_establishWebSocketConnection",arguments)};this._isFioriClientMode=function(){return this._proxyV2sync("_isFioriClientMode")};this._isPackagedMode=function(){return this._proxyV2sync("_isPackagedMode")};this._setNativeIconBadge=function(t){this._proxyV2sync("_setNativeIconBadge",arguments)};this._setNativeIconBadgeWithDelay=function(){this._proxyV2sync("_setNativeIconBadgeWithDelay")};this._getIntentsFromConfiguration=function(t){return this._proxyV2sync("_getIntentsFromConfiguration",[],arguments)};this._handlePushedNotification=function(t){this._proxyV2sync("_handlePushedNotification",null,arguments)};this._registerForPush=function(){this._proxyV2sync("_registerForPush")};this._addPushNotificationHandler=function(){this._proxyV2sync("_addPushNotificationHandler")};this._isIntentBasedConsumption=function(){return this._proxyV2sync("_isIntentBasedConsumption")};this._getConsumedIntents=function(t){return this._proxyV2sync("_getConsumedIntents","",arguments)};this._revalidateCsrfToken=function(){return this._proxyV2("_revalidateCsrfToken")};this._csrfTokenInvalid=function(t){return this._proxyV2sync("_csrfTokenInvalid",true,arguments)};this._invalidCsrfTokenRecovery=function(t,i,n){this._proxyV2sync("_invalidCsrfTokenRecovery",null,arguments)};this._getWebSocketObjectObject=function(t,i){this._proxyV2sync("_getWebSocketObjectObject",null,arguments)};this.getOperationEnum=function(){return this._proxyV2sync("getOperationEnum",{})};this._readUserSettingsFlagsFromPersonalization=function(){this._proxyV2sync("_readUserSettingsFlagsFromPersonalization")};this._writeUserSettingsFlagsToPersonalization=function(t){return this._proxyV2("_writeUserSettingsFlagsToPersonalization",arguments)};this._getUserSettingsPersonalizer=function(){return this._proxyV2sync("_getUserSettingsPersonalizer")};this._updateCSRF=function(t){this._proxyV2sync("_updateCSRF",null,arguments)};this._userSettingInitialization=function(){this._proxyV2sync("_userSettingInitialization")};this._closeConnection=function(){this._proxyV2sync("_closeConnection")};this._resumeConnection=function(){this._proxyV2sync("_resumeConnection")}}i.hasNoAdapter=true;return i},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NotificationsV2", ["sap/base/Log","sap/base/i18n/Localization","sap/ui/core/EventBus","sap/ushell/utils/Deferred","sap/ui/core/ws/SapPcpWebSocket","sap/ui/model/json/JSONModel","sap/ui/thirdparty/datajs","sap/ushell/utils","sap/ushell/Container","sap/ushell/utils/LaunchpadError"],(e,t,i,s,n,o,a,r,c,f)=>{"use strict";const u="/sap/bc/apc/iwngw/notification_push_apc";const l=60;function d(d,h,g){this.Priority={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH"};this.Nature={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE",NEUTRAL:"NEUTRAL"};const p=new o;const N=g&&g.config;const _={getNotifications:{},getNotificationsByType:{},getNotificationsInGroup:{},getBadgeNumber:{},resetBadgeNumber:{},getNotificationTypesSettings:{},getNotificationsGroupHeaders:{},getMobileSupportSettings:{},getEmailSupportSettings:{},getWebSocketValidity:{},getNotificationCount:{}};const S=[];const T=[];const I=5e3;const m=6e3;const v={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3,GET_SETTINGS:4,GET_MOBILE_SUPPORT_SETTINGS:5,NOTIFICATIONS_GROUP_HEADERS:6,NOTIFICATIONS_IN_GROUP:7,GET_NOTIFICATIONS_COUNT:8,VALIDATE_WEBSOCKET_CHANNEL:9,GET_EMAIL_SUPPORT_SETTINGS:10,NOTIFICATIONS_BY_DATE_DESCENDING:"notificationsByDateDescending",NOTIFICATIONS_BY_PRIORITY_DESCENDING:"notificationsByPriorityDescending",NOTIFICATIONS_BY_TYPE_DESCENDING:"notificationsByTypeDescending"};const C={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3};const b=new s;const E=new s;const y=b.promise();const P=10;const R=new Date;let D;let O;let A;let B;let U;let k=false;let w=[];let F=false;let $=false;let G=true;let q="fetch";let M;let L=false;let H;let V=false;let W=true;let J;let X;let x=false;let z=false;let j=[];let Y;this.isEnabled=function(){if(!N.enabled||!N.serviceUrl){G=false;if(N.enabled&&!N.serviceUrl){e.warning("No serviceUrl was found in the service configuration")}}else{G=true}return G};this.init=function(){if(!F&&this.isEnabled()){i.getInstance().subscribe("launchpad","sessionTimeout",this.destroy,this);Y=this.fireInitialRequest();this.lastNotificationDate=new Date;this._setWorkingMode();F=true;this.bUpdateDependencyInitiatorExists=false;this._userSettingInitialization()}i.getInstance().subscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this)};this.fireInitialRequest=async function(){return new Promise(e=>{const t={requestUri:`${N.serviceUrl}/GetBadgeNumber()`,headers:{"X-CSRF-Token":q}};a.request(t,t=>{if(t.response){this._updateCSRF(t.response)}e()},t=>{if(t.response){this._updateCSRF(t.response)}e()})})};this.fireODataRequest=async function(e){await Y;if(e.headers&&e.headers["X-CSRF-Token"]){e.headers["X-CSRF-Token"]=q}a.request.apply(this,arguments)};this.fireODataRead=async function(e){await Y;if(e.headers&&e.headers["X-CSRF-Token"]){e.headers["X-CSRF-Token"]=q}a.read.apply(this,arguments)};this._onSetConnectionToServer=function(e,t,i){if(i.active){this._resumeConnection()}else{this._closeConnection()}};this.getUnseenNotificationsCount=function(){return Promise.resolve(p.getProperty("/UnseenCount"))};this.setUnseenNotificationsCount=function(e){return Promise.resolve(p.setProperty("/UnseenCount",e))};this.getNotificationsCount=function(){return p.getProperty("/NotificationsCount")||"0"};this._createRequest=function(e){const i={"Accept-Language":t.getLanguageTag().toString(),"X-CSRF-Token":this._getHeaderXcsrfToken()||"fetch"};return{requestUri:e,headers:i}};this.getNotificationsByTypeWithGroupHeaders=function(){const t=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_BY_TYPE));return new Promise((i,s)=>{this.fireODataRequest(t,i,t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData executeAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this.getNotificationsGroupHeaders=function(){const t=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_GROUP_HEADERS));return new Promise((i,s)=>{this.fireODataRequest(t,i,t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData executeAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this.getNotificationsBufferInGroup=function(t,i,s){const n=this;const o={group:t,skip:i,top:s};const a=this._createRequest(this._getRequestURI(v.NOTIFICATIONS_IN_GROUP,o));return new Promise((t,i)=>{this.fireODataRequest(a,e=>{n._updateCSRF(e.response);t(e.value)},s=>{if(s.response&&s.response.statusCode===200&&s.response.body){n._updateCSRF(s.response);t(JSON.parse(s.response.body).value)}else{e.error("Notification service - oData executeAction failed: ",s,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${s.message}`,{dataJsError:s});i(t)}})})};this.getNotificationsBufferBySortingType=function(t,i,s){const n=this;const o={skip:i,top:s};const a=this._createRequest(this._getRequestURI(t,o));return new Promise((o,r)=>{this.fireODataRequest(a,e=>{n._updateCSRF(e.response);o(e.value)},a=>{if(a.response&&a.response.statusCode===200&&a.response.body){n._updateCSRF(a.response);const t=this._parseJSON(a.response.body);if(t){o(t.value)}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});r(t)}}else if(n._csrfTokenInvalid(a)&&x===false){n._invalidCsrfTokenRecovery(o,r,n.getNotificationsBufferBySortingType,[t,i,s])}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});r(t)}})})};this.getNotifications=function(){if(H===C.FIORI_CLIENT||H===C.PACKAGED_APP){return this._readNotificationsData(false).then(()=>p.getProperty("/Notifications"))}return Promise.resolve(p.getProperty("/Notifications"))};this.executeBulkAction=function(e,t){return new Promise((i,s)=>{this.sendBulkAction(e,t).then(e=>{const t=[];const n=[];e.forEach(e=>{const i=e.NotificationId;if(e.Success){t.push(i)}else{n.push(i)}});const o={succededNotifications:t,failedNotifications:n};if(n.length){s(o)}else{i(o)}})})};this.dismissBulkNotifications=function(e){return this.sendBulkDismiss(e)};this.executeAction=function(t,i){const s=this;const n=`${N.serviceUrl}/ExecuteAction`;const o={NotificationId:t,ActionId:i};const a={requestUri:n,method:"POST",data:o,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((n,o)=>{this.fireODataRequest(a,e=>{const t={isSucessfull:true,message:""};if(e&&e.response&&e.response.statusCode===200&&e.response.body){const i=JSON.parse(e.response.body);t.isSucessfull=i.Success;t.message=i.MessageText}n(t)},a=>{const r={isSucessfull:false,message:""};if(a.response&&a.response.statusCode===200&&a.response.body){const e=JSON.parse(a.response.body);r.isSucessfull=e.Success;r.message=e.MessageText;n(r)}else if(s._csrfTokenInvalid(a)&&x===false){s._invalidCsrfTokenRecovery(n,o,s.executeAction,[t,i])}else{e.error("Notification service - oData executeAction failed: ",a,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});o(t)}})})};this.sendBulkAction=function(t,i){const s=this;const n=`${N.serviceUrl}/BulkActionByHeader`;const o={ParentId:t,ActionId:i};const a={requestUri:n,method:"POST",data:o,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((n,o)=>{this.fireODataRequest(a,e=>{let t;if(e&&e.response&&e.response.statusCode===200&&e.response.body){const i=JSON.parse(e.response.body);t=i.value}n(t)},a=>{if(a.response&&a.response.statusCode===200&&a.response.body){const e=JSON.parse(a.response.body);const t=e.value;n(t)}else if(s._csrfTokenInvalid(a)&&x===false){s._invalidCsrfTokenRecovery(n,o,s.sendBulkAction,[t,i])}else{e.error("Notification service - oData executeBulkAction failed: ",a.message,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${a.message}`,{dataJsError:a});o(t)}})})};this.sendBulkDismiss=function(t){const i=this;const s=`${N.serviceUrl}/DismissAll`;const n={ParentId:t};const o={requestUri:s,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((s,n)=>{this.fireODataRequest(o,()=>s(),o=>{if(o.response&&o.response.statusCode===200){s()}else if(i._csrfTokenInvalid(o)&&x===false){i._invalidCsrfTokenRecovery(s,n,i.sendBulkDismiss,[t])}else{const t=o?o.message:"";e.error("Notification service - oData executeBulkAction failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(i)}})})};this.markRead=function(t){const i=this;const s=`${N.serviceUrl}/MarkRead`;const n={NotificationId:t};const o={requestUri:s,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((s,n)=>{this.fireODataRequest(o,()=>s(),o=>{if(i._csrfTokenInvalid(o)&&x===false){i._invalidCsrfTokenRecovery(s,n,i.markRead,[t])}else{e.error("Notification service - oData reset badge number failed: ",o,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(t)}})})};this.dismissNotification=function(t){const i=`${N.serviceUrl}/Dismiss`;const s=this;const n={NotificationId:t};const o={requestUri:i,method:"POST",data:n,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};return new Promise((i,n)=>{this.fireODataRequest(o,()=>{s._addDismissNotifications(t);i()},o=>{if(s._csrfTokenInvalid(o)&&x===false){s._invalidCsrfTokenRecovery(i,n,s.dismissNotification,[t])}else{e.error("Notification service - oData dismiss notification failed: ",o,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${o.message}`,{dataJsError:o});n(t)}})})};this.registerNotificationsUpdateCallback=function(e){S.push(e)};this.registerNotificationCountUpdateCallback=function(e){T.push(e)};this.isFirstDataLoaded=function(){return V};this.getUserSettingsFlags=async function(){try{await r.promisify(y)}catch(e){}return{highPriorityBannerEnabled:W}};this.setUserSettingsFlags=function(e){W=e.highPriorityBannerEnabled;this._writeUserSettingsFlagsToPersonalization(e)};this._getNotificationSettingsMobileSupport=function(){return J};this._getDismissNotifications=function(){return j};this.filterDismisssedItems=function(e,t){return e.filter(e=>!t.some(t=>t===e.originalItemId))};this._addDismissNotifications=function(e){if(j.indexOf(e)===-1){j.push(e)}};this._initializeDismissNotifications=function(){j=[]};this._getNotificationSettingsEmailSupport=function(){return X};this.destroy=function(){$=true;if(O){clearTimeout(O)}else if(A){clearTimeout(A)}else if(B){clearTimeout(B)}if(H===C.WEB_SOCKET&&D){D.close()}i.getInstance().unsubscribe("launchpad","sessionTimeout",this.destroy,this);i.getInstance().unsubscribe("launchpad","setConnectionToServer",this._onSetConnectionToServer,this)};this._readUnseenNotificationsCount=function(){const t=this;const i=this._createRequest(this._getRequestURI(v.GET_BADGE_NUMBER));return new Promise((s,n)=>{this.fireODataRead(i,(e,i)=>{p.setProperty("/UnseenCount",i.data.GetBadgeNumber.Number);t._setNativeIconBadge(i.data.GetBadgeNumber.Number);s(i.data.GetBadgeNumber.Number)},i=>{if(i.response&&i.response.statusCode===200&&i.response.body){const e=JSON.parse(i.response.body);p.setProperty("/UnseenCount",e.value);t._setNativeIconBadge(e.value);s(e.value)}else{e.error("Notification service - oData read unseen notifications count failed: ",i.message,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${i.message}`,{dataJsError:i});n(t)}})})};this.readNotificationsCount=function(){const t=this._createRequest(this._getRequestURI(v.GET_NOTIFICATIONS_COUNT));return new Promise((i,s)=>{this.fireODataRead(t,(e,t)=>i(t.data),t=>{if(t.response&&t.response.statusCode===200&&t.response.body){const e=JSON.parse(t.response.body);i(e.value)}else{e.error("Notification service - oData read notifications count failed: ",t.message,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this._getNotificationSettingsAvailability=function(){return E.promise()};this.notificationsSeen=function(){const t=this;const i={requestUri:this._getRequestURI(v.RESET_BADGE_NUMBER),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};if(this._isFioriClientMode()===true||this._isPackagedMode()===true){this._setNativeIconBadge(0)}return new Promise((s,n)=>{this.fireODataRequest(i,s,i=>{if(t._csrfTokenInvalid(i)){t._invalidCsrfTokenRecovery(s,n,t.notificationsSeen)}else{e.error("Notification service - oData reset badge number failed: ",i,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${i.message}`,{dataJsError:i});n(t)}})})};this._readNotificationsData=function(e){const t=this;this.readNotificationsCount().then(e=>p.setProperty("/NotificationsCount",e));const i=this._readUnseenNotificationsCount(e).then(()=>{if(e===true){t._updateNotificationsCountConsumers()}});const s=this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,P).then(i=>{p.setProperty("/Notifications",i);t._notificationAlert(i);if(e===true){t._updateNotificationsConsumers()}});return Promise.all([i,s])};this._getHeaderXcsrfToken=function(){return q};this._getDataServiceVersion=function(){return M};this._getRequestURI=function(e,t){const i=encodeURI(this._getConsumedIntents(e));let s;switch(e){case v.NOTIFICATIONS:if(_.getNotifications.basic===undefined){_.getNotifications.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false`}if(this._isIntentBasedConsumption()){if(_.getNotifications.byIntents===undefined){_.getNotifications.byIntents=_.getNotifications.basic.concat(`&intents%20eq%20${i}`)}return _.getNotifications.byIntents}return _.getNotifications.basic;case v.NOTIFICATIONS_BY_TYPE:if(_.getNotificationsByType.basic===undefined){_.getNotificationsByType.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams`}if(this._isIntentBasedConsumption()){if(_.getNotificationsByType.byIntents===undefined){_.getNotificationsByType.byIntents=_.getNotificationsByType.basic.concat(`&$filter=intents%20eq%20${i}`)}return _.getNotificationsByType.byIntents}return _.getNotificationsByType.basic;case v.NOTIFICATIONS_GROUP_HEADERS:if(_.getNotificationsGroupHeaders.basic===undefined){_.getNotificationsGroupHeaders.basic=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20true`}if(this._isIntentBasedConsumption()){if(_.getNotificationsGroupHeaders.byIntents===undefined){_.getNotificationsGroupHeaders.byIntents=_.getNotificationsGroupHeaders.basic.concat(`&intents%20eq%20${i}`)}return _.getNotificationsGroupHeaders.byIntents}return _.getNotificationsGroupHeaders.basic;case v.NOTIFICATIONS_IN_GROUP:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt desc&$filter=IsGroupHeader eq false and ParentId eq ${t.group}&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;case v.GET_BADGE_NUMBER:if(_.getBadgeNumber.basic===undefined){_.getBadgeNumber.basic=`${N.serviceUrl}/GetBadgeNumber()`}if(this._isIntentBasedConsumption()){if(_.getBadgeNumber.byIntents===undefined){_.getBadgeNumber.byIntents=`${N.serviceUrl}/GetBadgeCountByIntent(${i})`}return _.getBadgeNumber.byIntents}return _.getBadgeNumber.basic;case v.GET_NOTIFICATIONS_COUNT:if(_.getNotificationCount.basic===undefined){_.getNotificationCount.basic=`${N.serviceUrl}/Notifications/$count`}return _.getNotificationCount.basic;case v.RESET_BADGE_NUMBER:if(_.resetBadgeNumber.basic===undefined){_.resetBadgeNumber.basic=`${N.serviceUrl}/ResetBadgeNumber`}return _.resetBadgeNumber.basic;case v.GET_SETTINGS:if(_.getNotificationTypesSettings.basic===undefined){_.getNotificationTypesSettings.basic=`${N.serviceUrl}/NotificationTypePersonalizationSet`}return _.getNotificationTypesSettings.basic;case v.GET_MOBILE_SUPPORT_SETTINGS:if(_.getMobileSupportSettings.basic===undefined){_.getMobileSupportSettings.basic=`${N.serviceUrl}/Channels(ChannelId='SAP_SMP')`}return _.getMobileSupportSettings.basic;case v.GET_EMAIL_SUPPORT_SETTINGS:if(_.getEmailSupportSettings.basic===undefined){_.getEmailSupportSettings.basic=`${N.serviceUrl}/Channels(ChannelId='SAP_EMAIL')`}return _.getEmailSupportSettings.basic;case v.VALIDATE_WEBSOCKET_CHANNEL:if(_.getWebSocketValidity.basic===undefined){_.getWebSocketValidity.basic=`${N.serviceUrl}/Channels('SAP_WEBSOCKET')`}return _.getWebSocketValidity.basic;case v.NOTIFICATIONS_BY_DATE_DESCENDING:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20desc&$filter=IsGroupHeader%20eq%20false&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;case v.NOTIFICATIONS_BY_PRIORITY_DESCENDING:s=`${N.serviceUrl}/Notifications?$expand=Actions,NavigationTargetParams&$orderby=Priority%20desc&$filter=IsGroupHeader%20eq%20false&$skip=${t.skip}&$top=${t.top}`;if(this._isIntentBasedConsumption()===true){s=s.concat(`&intents%20eq%20${i}`)}break;default:s=""}return s};this.readSettings=function(){const t=this._createRequest(this._getRequestURI(v.GET_SETTINGS));return new Promise((i,s)=>{this.fireODataRequest(t,e=>i(e.results),t=>{if(t.response&&t.response.statusCode===200&&t.response.body){i(t.response.body)}else{e.error("Notification service - oData get settings failed: ",t,"sap.ushell.services.NotificationsV2");const i=new f(`Failed to fetch data: ${t.message}`,{dataJsError:t});s(i)}})})};this._readMobileSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_MOBILE_SUPPORT_SETTINGS)};this._readEmailSettingsFromServer=function(){return this._readChannelSettingsFromServer(v.GET_EMAIL_SUPPORT_SETTINGS)};this._readChannelSettingsFromServer=function(t){const i=this._getRequestURI(t);const s=this._createRequest(i);let n;let o;return new Promise(t=>{this.fireODataRequest(s,e=>{if(typeof e.results==="string"){n=JSON.parse(e.results);n.successStatus=true;o=JSON.stringify(n);t(o)}else{e.results.successStatus=true;t(e.results)}},i=>{if(i.response&&i.response.statusCode===200&&i.response.body){n=JSON.parse(i.response.body);n.successStatus=true;o=JSON.stringify(n);t(o)}else{e.error("Notification service - oData get settings failed: ",i,"sap.ushell.services.NotificationsV2");t(JSON.stringify({successStatus:false}))}})})};this._checkWebSocketActivity=function(){const t=this._createRequest(this._getRequestURI(v.VALIDATE_WEBSOCKET_CHANNEL));return new Promise(i=>{this.fireODataRequest(t,e=>{if(typeof e.results==="string"){const t=JSON.parse(e.results);i(t.IsActive)}else{i(false)}},t=>{if(t.response&&t.response.statusCode===200&&t.response.body){const e=JSON.parse(t.response.body);i(e.IsActive)}else{e.error("Notification service - oData get settings failed: ",t,"sap.ushell.services.NotificationsV2");i(false)}})})};this.saveSettingsEntry=function(t){const i=this;const s=`${this._getRequestURI(v.GET_SETTINGS)}(NotificationTypeId=${t.NotificationTypeId})`;const n={requestUri:s,method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",DataServiceVersion:M,"X-CSRF-Token":q}};n.data=JSON.parse(JSON.stringify(t));n.data["@odata.context"]="$metadata#NotificationTypePersonalizationSet/$entity";return new Promise((s,o)=>{this.fireODataRequest(n,s,n=>{if(n.response&&n.response.statusCode===200&&n.response.body){s(n.response.body)}else if(i._csrfTokenInvalid(n)&&x===false){i._invalidCsrfTokenRecovery(s,o,i.saveSettingsEntry,[t])}else{e.error("Notification service - oData set settings entry failed: ",n,"sap.ushell.services.NotificationsV2");const t=new f(`Failed to fetch data: ${n.message}`,{dataJsError:n});o(t)}})})};this._updateNotificationsConsumers=function(){S.forEach(e=>e())};this._updateNotificationsCountConsumers=function(){T.forEach(e=>e())};this._updateAllConsumers=function(){this._updateNotificationsConsumers();this._updateNotificationsCountConsumers()};this._getModel=function(){return p};this._getMode=function(){return H};this._setWorkingMode=function(){let e;if(N.intentBasedConsumption===true){w=this._getIntentsFromConfiguration(N.consumedIntents);if(w.length>0){k=true}}if(this._isPackagedMode()){H=C.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){w=e}if(w.length>0){k=true}this._registerForPush();this._readNotificationsData(true);this._setNativeIconBadgeWithDelay();return}this._performFirstRead()};this._performFirstRead=function(){const t=this;this._readNotificationsData(true).then(()=>{const e=t._getFioriClientRemainingDelay();if(e<=0){t._fioriClientStep()}else{O=setTimeout(()=>{t._fioriClientStep()},e)}V=true}).catch(t=>{e.error("Notifications oData read failed. Error:",t)})};this._fioriClientStep=function(){if(this._isFioriClientMode()){H=C.FIORI_CLIENT;this._addPushNotificationHandler();this.getUnseenNotificationsCount().then(e=>{this._setNativeIconBadge(e)})}else{this._webSocketStep()}};this._webSocketStep=function(){H=C.WEB_SOCKET;this._establishWebSocketConnection()};this._webSocketRecoveryStep=function(){if(L===false){L=true;A=window.setTimeout(this._webSocketStep.bind(this),I)}else{this._activatePollingAfterInterval()}};this._activatePollingAfterInterval=function(){U=N.pollingIntervalInSeconds||l;window.clearTimeout(B);B=window.setTimeout(this._activatePolling.bind(this),r.sanitizeTimeoutDelay(U*1e3))};this._activatePolling=function(){U=N.pollingIntervalInSeconds||l;H=C.POLLING;this._readNotificationsData(true);window.clearTimeout(B);U=window.setTimeout(this._activatePolling.bind(this,U,false),r.sanitizeTimeoutDelay(U*1e3))};this._deactivatePolling=function(){if(H===C.POLLING){window.clearTimeout(U)}};this._formatAsDate=function(e){return new Date(e)};this._notificationAlert=function(e){if(W===false){return}const t=[];let s=0;for(const i in e){if(this.lastNotificationDate&&this._formatAsDate(e[i].CreatedAt)>this.lastNotificationDate){if(e[i].Priority==="HIGH"){t.push(e[i])}}if(s<this._formatAsDate(e[i].CreatedAt)){s=this._formatAsDate(e[i].CreatedAt)}}if(this.lastNotificationDate&&t.length>0){i.getInstance().publish("sap.ushell.services.Notifications","onNewNotifications",t)}this.lastNotificationDate=s};this._getFioriClientRemainingDelay=function(){return m-(new Date-R)};this._establishWebSocketConnection=function(){const t=this;let i=false;try{D=this._getWebSocketObjectObject(N.webSocketUrl||u,[n.SUPPORTED_PROTOCOLS.v10]);D.attachMessage(this,e=>{const i=e.getParameter("pcpFields");if(i&&i.Command&&i.Command==="Notification"){t._readNotificationsData(true)}});D.attachOpen(this,()=>{t._checkWebSocketActivity().then(e=>{if(!e){i=true;D.close();t._activatePollingAfterInterval()}});e.info("Notifications UShell service WebSocket: webSocket connection opened")});D.attachClose(this,s=>{e.warning(`Notifications UShell service WebSocket: attachClose called with code: ${s.mParameters.code} and reason: ${s.mParameters.reason}`);if(!$&&!i){t._webSocketRecoveryStep()}});D.attachError(this,()=>{e.warning("Notifications UShell service WebSocket: attachError called!")})}catch(t){e.error("Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message:",t)}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined)};this._isPackagedMode=function(){return window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true};this._setNativeIconBadge=function(e){if(sap.Push&&sap.Push.setBadgeNumber){sap.Push.setBadgeNumber(e,()=>{})}};this._setNativeIconBadgeWithDelay=function(){setTimeout(()=>{this.getUnseenNotificationsCount().then(e=>{this._setNativeIconBadge(e)})},4e3)};this._getIntentsFromConfiguration=function(e){const t=[];if(e&&e.length>0){let i;for(let s=0;s<e.length;s++){i=e[s].intent;t.push(i)}}return t};this._handlePushedNotification=function(e){let t;let i;let s;let n=[];if(e!==undefined){if(e.additionalData===undefined||e.additionalData.foreground===true){this._readNotificationsData(true)}else{if(e.additionalData&&e.additionalData.NavigationTargetObject){t=e.additionalData.NavigationTargetObject}else{t=e.NavigationTargetObject}if(e.additionalData&&e.additionalData.NavigationTargetAction){i=e.additionalData.NavigationTargetAction}else{i=e.NavigationTargetAction}if(e.additionalData&&e.additionalData.NavigationTargetParam){s=e.additionalData.NavigationTargetParam}else{s=e.NavigationTargetParam}if(s){if(typeof s==="string"||s instanceof String){n[0]=s}else if(Array.isArray(s)===true){n=s}}const o=e.NotificationId;if(t&&i){r.toExternalWithParameters(t,i,n)}this.markRead(o);this._readNotificationsData(true)}}};this._registerForPush=function(){if(sap.Push){sap.Push.initPush(this._handlePushedNotification.bind(this))}};this._addPushNotificationHandler=function(){document.addEventListener("deviceready",this._registerForPush.bind(this),false)};this._isIntentBasedConsumption=function(){return k};this._getConsumedIntents=function(e){let t="";if(!this._isIntentBasedConsumption()){return t}if(w.length>0){if(e!==v.GET_BADGE_NUMBER){t="&"}for(let i=0;i<w.length;i++){if(e===v.GET_BADGE_NUMBER){if(i===0){t=w[i]}else{t=`${t},${w[i]}`}}else{t=`${t}NavigationIntent%20eq%20%27${w[i]}%27`}}}return t};this._revalidateCsrfToken=function(){q="fetch";z=false;return this.getNotificationsBufferBySortingType(v.NOTIFICATIONS_BY_DATE_DESCENDING,0,1)};this._csrfTokenInvalid=function(e){const t=e.response;const i=t&&t.statusCode===403;const s=t&&t.headers["x-csrf-token"]||"";const n=s.toLowerCase()==="required";return i&&n};this._invalidCsrfTokenRecovery=function(t,i,s,n){const o=this;x=true;this._revalidateCsrfToken().then(()=>{s.apply(o,n).then(t).catch(e=>{i(e)}).finally(()=>{x=false})}).catch(t=>{x=false;e.error("Notification service - oData markRead failed: ",t.message,"sap.ushell.services.NotificationsV2");i(t)})};this._getWebSocketObjectObject=function(e,t){return new n(e,t)};this.getOperationEnum=function(){return v};this._readUserSettingsFlagsFromPersonalization=function(){const t=this;this._getUserSettingsPersonalizer().then(i=>{i.getPersData().then(e=>{if(e===undefined){t._writeUserSettingsFlagsToPersonalization({highPriorityBannerEnabled:W})}else{W=e.highPriorityBannerEnabled}b.resolve()}).catch(t=>{e.error("Reading User Settings flags from Personalization service failed",t);b.reject(t)})}).catch(t=>{e.error("Personalization service does not work:");e.error(`${t.name}: ${t.message}`);e.error("Reading User Settings flags from Personalization service failed")})};this._writeUserSettingsFlagsToPersonalization=function(t){return this._getUserSettingsPersonalizer().then(e=>e.setPersData(t)).catch(t=>{e.error("Personalization service does not work:");e.error(`${t.name}: ${t.message}`)})};this._getUserSettingsPersonalizer=function(){if(!this.oUserSettingsPersonalizerPromise){this.oUserSettingsPersonalizerPromise=c.getServiceAsync("PersonalizationV2").then(e=>{const t={keyCategory:e.KeyCategory.FIXED_KEY,writeFrequency:e.WriteFrequency.LOW,clientStorageAllowed:true};const i={container:"sap.ushell.services.Notifications",item:"userSettingsData"};return e.getPersonalizer(i,t)})}return this.oUserSettingsPersonalizerPromise};this._updateCSRF=function(e){if(z===true||e.headers===undefined){return}if(this._getHeaderXcsrfToken()==="fetch"){q=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"]||e.headers["X-Csrf-Token"]||"fetch"}if(!this._getDataServiceVersion()){M=e.headers.DataServiceVersion||e.headers["odata-version"]}z=true};this._userSettingInitialization=function(){if(this._bSettingsInitialized){return}this._bSettingsInitialized=true;const t={settingsAvailable:false,mobileAvailable:false,emailAvailable:false};this._readUserSettingsFlagsFromPersonalization();const i=this.readSettings();const s=this._readMobileSettingsFromServer();const n=this._readEmailSettingsFromServer();const o=[i,s,n];i.then(()=>{t.settingsAvailable=true}).catch(t=>{e.warning("User settings for the Notification service are not available.",t);E.promise().catch(()=>{});E.reject(t)});s.then(e=>{const i=JSON.parse(e);if(i.successStatus){J=e?i.IsActive:false;t.mobileAvailable=J}else{J=false;t.mobileAvailable=false}}).catch(()=>{e.warning("Mobile settings for the Notification service are not available.");J=false;t.mobileAvailable=false});n.then(e=>{const i=JSON.parse(e);if(i.successStatus){X=e?i.IsActive:false;t.emailAvailable=X}else{X=false;t.emailAvailable=false}}).catch(()=>{e.warning("Email settings for the Notification service are not available.");X=false;t.emailAvailable=false});Promise.all(o).then(()=>{E.resolve(t)}).catch(()=>e.warning("Settings for the Notification service are not loaded completely."))};this._closeConnection=function(){if(!$){if(H===C.WEB_SOCKET&&D){D.close();$=true}if(H===C.POLLING&&B){window.clearTimeout(B);$=true}}};this._resumeConnection=function(){if($){$=false;this._webSocketStep()}};this._parseJSON=function(e){try{return JSON.parse(e)}catch(e){this._deactivatePolling();return false}}}d.hasNoAdapter=true;return d},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PageBuilding", ["sap/ui/thirdparty/jquery"],jQuery=>{"use strict";function e(e,t){this.getFactory=function(){return e.getFactory()};this.getPage=function(t){return e.getFactory().createPage(t)};this.getPageSet=function(t){const r=new jQuery.Deferred;e.getFactory().createPageSet(t,r.resolve.bind(r),e=>{r.reject(new Error(e))});return r.promise()}}e.hasNoAdapter=false;return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PageReferencing", ["sap/ushell/services/_PageReferencing/PageReferencer"],e=>{"use strict";function r(){}r.prototype.createReferencePage=function(r){return e.createReferencePage(r)};r.hasNoAdapter=true;return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Search", ["sap/ui/core/Lib"],e=>{"use strict";function t(e,t){this.init.apply(this,arguments)}t.prototype={init:function(e,t,r,a){this.oAdapter=e;this.oContainerInterface=t;this.appSearchDeferred=null},getAppSearch:function(){if(this.appSearchPromise){return this.appSearchPromise}this.appSearchPromise=new Promise(t=>{e.load("sap.esh.search.ui").then(()=>{sap.ui.require(["sap/esh/search/ui/appsearch/AppSearch"],e=>{t(new e({}))})})});return this.appSearchPromise},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable()},prefetch:async function(){const e=await this.getAppSearch();return e.prefetch()},queryApplications:async function(e){e.top=e.top||10;e.skip=e.skip||0;const t=await this.getAppSearch();const r=await t.search(e);return{totalResults:r.totalCount,searchTerm:e.searchTerm,getElements:function(){return r.tiles}}}};t.hasNoAdapter=false;return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SearchCEP", ["sap/base/Log","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/base/util/deepExtend","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(e,r,t,o,s,i)=>{"use strict";const a={count:0,data:[]};function n(e,r,t,o){this.oAdapter=e;this._mSearchProviders={default:{},external:{}}}n.prototype.suggest=function(e){return this.search(e)};n.prototype.search=function(e){if(typeof this.oAdapter.search==="function"){return this.oAdapter.search(e)}return Promise.resolve(a)};n.prototype.navigate=async function(e,o){let a=e.url;if(!a){return}t.emit("UITracer.trace",{reason:"LaunchApp",source:"Search",data:{targetUrl:a}});if(a.startsWith("#")){if(o){const e=s.parseShellHash(a);if(e){e.params.searchTerm=o;a=s.constructShellHash(e)}}const e=await i.getServiceAsync("Navigation");return e.navigate({target:{shellHash:a}})}r.openURL(a)};n.prototype.registerDefaultSearchProvider=function(e){const r=o(e);r.name=r.id.replace(/\./g,"_");this._mSearchProviders.default[r.id]=r;return Promise.resolve()};n.prototype.registerExternalSearchProvider=async function(r){const s=o(r);const i=Function.prototype;const a={id:"SearchProvider needs an id",title:"SearchProvider needs a title",execSearch:"SearchProvider needs an execSearch callback"};const n={minQueryLength:1,maxQueryLength:100,defaultItemCount:3,maxItemCount:10,priority:10,closePopover:true,itemPress:i,popoverClosed:i};for(const r in a){if(!s[r]){e.error(a[r]);throw new Error(a[r])}}for(const e in n){if(!s.hasOwnProperty(e)){s[e]=n[e]}}s.name=s.id.replace(/\./g,"_");this._mSearchProviders.external[s.id]=s;t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.unregisterExternalSearchProvider=function(e){if(this._mSearchProviders.external[e]){delete this._mSearchProviders.external[e]}t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};n.prototype.getSearchProviders=function(){return Promise.resolve(o(this._mSearchProviders))};n.prototype.getSearchProvidersPriorityArray=function(){const e=[];for(const r in this._mSearchProviders){e.push.apply(e,Object.values(this._mSearchProviders[r]))}e.sort((e,r)=>e.priority-r.priority);return Promise.resolve(e)};n.prototype.getExternalSearchProvidersPriorityArray=function(){const e=[];for(const r in this._mSearchProviders.external){e.push(this._mSearchProviders.external[r])}e.sort((e,r)=>e.priority-r.priority);return Promise.resolve(e)};n.prototype.getDefaultSearchProviders=function(){const e=Object.values(this._mSearchProviders.default);return Promise.resolve(e)};n.prototype.getExternalSearchProviders=function(){const e=Object.values(this._mSearchProviders.external);return Promise.resolve(e)};n.hasNoAdapter=false;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SearchableContent", ["sap/ushell/Config","sap/ushell/Container","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/ushell/adapters/cdm/v3/_LaunchPage/readPages","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/adapters/cdm/v3/utilsCdm","sap/base/util/values","sap/ushell/library","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/utils"],(t,e,i,a,n,s,o,l,r,c,p,u)=>{"use strict";const d=l.DisplayFormat;function g(){}g.COMPONENT_NAME="sap/ushell/services/SearchableContent";g.prototype.getApps=async function(e={}){const i={includeAppsWithoutVisualizations:false,enableVisualizationPreview:true};const a={includeAppsWithoutVisualizations:e.includeAppsWithoutVisualizations??i.includeAppsWithoutVisualizations,enableVisualizationPreview:e.enableVisualizationPreview??i.enableVisualizationPreview};if(!t.last("/core/spaces/enabled")){try{const t=await this._getLaunchPageAppData(a);const e=this._filterGetApps(t,a);c.debug(`SearchableContent@getApps in classic mode found ${e.length} apps`);return e}catch(t){c.error("SearchableContent@getApps in classic mode failed",t);throw t}}const n=await this._getPagesAppData(a);return this._filterGetApps(n,a)};g.prototype._filterGetApps=function(t,e){let i=t;i.forEach(t=>{const e=t.visualizations;const i=[];t.visualizations=[];e.forEach(e=>{const a=JSON.stringify({title:e.title,subtitle:e.subtitle,icon:e.icon,vizType:e.vizType});if(i.indexOf(a)===-1){t.visualizations.push(e);i.push(a)}})});if(!e.includeAppsWithoutVisualizations){i=i.filter(t=>t.visualizations.length>0)}u.setPerformanceMark("FLP-Search-FilterApps",{bUseUniqueMark:true});return i};g.prototype._getLaunchPageAppData=async function(t){const i=await e.getServiceAsync("FlpLaunchPage");const[a,n]=await this._collectLaunchPageTiles(i);const s=a.concat(n);const l=await Promise.all(s.map(async t=>{const e=a.includes(t);const n={tileId:null,tile:t};let s;try{if(e){n.tileId=i.getCatalogTileId(t)}else{n.tileId=i.getTileId(t)}s=i.getCatalogTilePreviewTitle(t)}catch(t){c.error(`Could not get search data from tile ${n.tileId}`,t)}if(!s){try{const a=await new Promise((a,n)=>{if(e){i.getCatalogTileViewControl(t).done(a).fail(n)}else{i.getTileView(t).done(a).fail(n)}});n.view=a;return n}catch(t){c.error(`Could not get search data from tile ${n.tileId}`,t);return n}}return n}));const r={};const p=l.map(e=>{try{return this._buildVizDataFromLaunchPageTile(e.tile,t,i)}catch(t){c.error(`Could not get search data from tile ${e.tileId}`,t);return null}}).filter(t=>t);l.forEach(t=>{const e=t.view;if(e){if(!e.destroy){c.error(`The tile with id '${t.tileId}' does not implement mandatory function destroy`)}else{e.destroy()}}});p.forEach(t=>{const e=t.targetURL;if(e){if(r[e]){r[e].visualizations.push(t)}else{r[e]=this._buildAppDataFromViz(t)}}});return o(r)};g.prototype._collectLaunchPageTiles=function(t){const e=t.getGroups().then(e=>e.reduce(async(e,i)=>{const[a,n]=await Promise.all([e,t.getGroupTilesForSearch(i)]);return a.concat(n)},Promise.resolve([])));const i=t.getCatalogs().then(e=>e.reduce(async(e,i)=>{const[a,n]=await Promise.all([e,t.getCatalogTiles(i)]);return a.concat(n)},Promise.resolve([])));return Promise.all([i,e])};g.prototype._getPagesAppData=async function(t){const i=await e.getServiceAsync("CommonDataModel");const[a,n,s,l,r]=await Promise.all([i.getAllPages({personalizedPages:true}),i.getApplications(),i.getVisualizations(),i.getVizTypes(),e.getServiceAsync("ClientSideTargetResolution")]);const c={applications:n,visualizations:s,vizTypes:l};const p={};await this._applyCdmVisualizations(c,p,t);await this._applyCdmPages(c,a,p,t);await this._filterAppDataByIntent(p,r);this._applyCdmApplications(c,p,t);return o(p)};g.prototype._filterAppDataByIntent=async function(t,e){const i=Object.keys(t).map(t=>p.isIntentUrlAsync(t).then(e=>e?t:null));const a=await Promise.all(i);const n=a.filter(t=>!!t);if(n.length===0){return}const s=500;let o=0;let l=s;const r=[];while(o<n.length){r.push(n.slice(o,l));o=o+s;l=l+s}return r.reduce((i,a)=>i.then((t=>{u.setPerformanceMark("FLP-Search-IntentPackageStart");return e.isIntentSupported(t)}).bind(null,a)).then(e=>{Object.keys(e).forEach(i=>{if(!e[i].supported&&t[i]){delete t[i]}})}).catch(()=>{}),Promise.resolve())};g.prototype._applyCdmApplications=function(t,e,a){const n={};Object.keys(e).forEach(a=>{try{const n=e[a].visualizations;const s=n.find(t=>t.target.appId&&t.target.inboundId);if(s){const o=t.applications[s.target.appId];const l=i.getInbound(o,s.target.inboundId);e[a]=this._buildAppDataFromAppAndInbound(o,l);e[a].visualizations=n;e[a].target=n[0].target}else{e[a]=this._buildAppDataFromViz(n[0]);e[a].visualizations=n;e[a].target=n[0].target}}catch(t){c.error(`Could not get search data from application ${a}`,t)}});if(a.includeAppsWithoutVisualizations){o(e).forEach(t=>{n[t.id]=t});o(t.applications).forEach(t=>{const a=i.getId(t);const s=o(i.getInbounds(t));const l=s.length>0?s[0]:undefined;if(!n.hasOwnProperty(a)){e[a]=this._buildAppDataFromAppAndInbound(t,l,true)}})}};g.prototype._applyCdmVisualizations=async function(t,e,i){for(const a in t.visualizations){try{const s={vizId:a,displayFormatHint:d.Standard};const o=await n.getVizData(t,s);const l=o.targetURL;if(i.enableVisualizationPreview){this._changeVizType(o);o.preview=true}if(l){if(e[l]){e[l].visualizations.push(o)}else{e[l]={visualizations:[o]}}}}catch(t){c.error(`Could not get search data from visualization ${a}`,t)}}};g.prototype._applyCdmPages=async function(t,e,i,s){for(const o of e){const e=a.getVisualizationReferences(o);for(let a of e){try{if(a.displayFormatHint&&a.displayFormatHint!==d.Standard){a=Object.assign({},a);a.displayFormatHint=d.Standard}const e=await n.getVizData(t,a);const o=e.targetURL;if(s.enableVisualizationPreview){this._changeVizType(e);e.preview=true}if(o){if(i[o]){i[o].visualizations.push(e)}else{i[o]={visualizations:[e]}}}}catch(t){c.error(`Could not get search data from vizReference ${a.id}`,t)}}}};g.prototype._changeVizType=function(t){if(t._instantiationData.platform==="CDM"&&!r.isStandardVizType(t.vizType)){t.vizType="sap.ushell.StaticAppLauncher";t._instantiationData.vizType={"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}};g.prototype._buildAppDataFromAppAndInbound=function(t,e,a){e=e||{};const n=i.getId(t);const o={id:n,title:e.title||i.getTitle(t),subtitle:e.subTitle||i.getSubTitle(t),icon:e.icon||i.getIcon(t),info:e.info||i.getInfo(t),keywords:e.keywords||i.getKeywords(t),technicalAttributes:i.getTechnicalAttributes(t),visualizations:[]};let l;if(a){l=s.toHashFromInbound(e,n);if(l){o.targetURL=`#${l}`}}return o};g.prototype._buildAppDataFromViz=function(t){return{id:t.vizId,title:t.title,subtitle:t.subtitle,icon:t.icon,info:t.info,keywords:t.keywords,technicalAttributes:t.technicalAttributes,target:t.target,visualizations:[t]}};g.prototype._buildVizDataFromLaunchPageTile=function(t,e,i){let a;if(i.getCatalogTileTargetURL(t)&&i.isTileIntentSupported(t)){a={id:i.getTileId(t)||i.getCatalogTileId(t),vizId:i.getCatalogTileId(t)||i.getTileId(t)||"",vizType:"",title:i.getCatalogTilePreviewTitle(t)||i.getCatalogTileTitle(t)||i.getTileTitle(t)||"",subtitle:i.getCatalogTilePreviewSubtitle(t)||"",icon:i.getCatalogTilePreviewIcon(t)||"sap-icon://business-objects-experience",info:i.getCatalogTilePreviewInfo(t)||"",keywords:i.getCatalogTileKeywords(t)||[],technicalAttributes:i.getCatalogTileTechnicalAttributes(t)||[],target:{type:"URL",url:i.getCatalogTileTargetURL(t)},targetURL:i.getCatalogTileTargetURL(t)};a._instantiationData={platform:"LAUNCHPAGE",launchPageTile:t};if(t.getContract){t.getContract("preview").setEnabled(e.enableVisualizationPreview)}if(e.enableVisualizationPreview){if(!t.getChip){a._instantiationData={platform:"CDM",vizType:{"sap.ui5":{componentName:"sap.ushell.components.tiles.cdm.applauncher"}}}}}}return a};g.hasNoAdapter=true;return g},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SmartNavigation", ["sap/ui/thirdparty/jquery","sap/ushell/utils","sap/ushell/services/AppConfiguration","sap/base/Log","sap/ushell/utils/UrlParsing","sap/ushell/Container"],(jQuery,e,t,n,r,i)=>{"use strict";function a(e,t,n){this._oServiceConfig=n;this._oCrossAppNavigationServicePromise=i.getServiceAsync("CrossApplicationNavigation");this._oPersonalizationServicePromise=i.getServiceAsync("Personalization");this._oHashCodeCache={"":0}}a.STATISTIC_COLLECTION_WINDOW_DAYS=90;a.PERS_CONTAINER_KEY_PREFIX="ushell.smartnav.";a.ONE_DAY_IN_MILLISECOND=24*60*60*1e3;a.prototype.getLinks=function(e){const r=new jQuery.Deferred;n.error("Call to deprecated service: 'SmartNavigation.getLinks'. Please use 'CrossApplicationNavigation.getLinks' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(i=>{const a=i.getLinks(e);if(!this._isTrackingEnabled(this._oServiceConfig)){a.done(r.resolve).fail(r.reject);return}const o=t.getCurrentApplication();const s=o.sShellHash;let c=o.componentHandle;if(o.componentHandle){c=o.componentHandle.getInstance()}if(!s){n.warning("Call to SmartNavigation#getLinks() simply delegated to CrossApplicationNavigation#getLinks()"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");a.done(r.resolve).fail(r.reject);return}const l=this._getNavigationOccurrences(s,c);jQuery.when(a,l).done((e,t)=>{if(t.length===0){r.resolve(e);return}const n=this._prepareLinksForSorting(e,t);e=n.sort((e,t)=>t.clickCount-e.clickCount);r.resolve(e)}).fail(r.reject)}).catch(r.reject);return r.promise()};a.prototype.toExternal=function(e){const r=arguments;n.error("Call to deprecated service: 'SmartNavigation.toExternal'. Please use 'CrossApplicationNavigation.toExternal' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(i=>{if(!this._isTrackingEnabled(this._oServiceConfig)){i.toExternal.apply(i,r);return}const a=t.getCurrentApplication();const o=a.sShellHash;let s=a.componentHandle;if(a.componentHandle){s=a.componentHandle.getInstance()}if(!o){n.warning("Current shell hash could not be identified. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");i.toExternal.apply(i,r);return}const c=this._getHashFromOArgs(e.target);if(!c){n.warning("Destination hash does not conform with the ushell guidelines. Navigation will not be tracked.",null,"sap.ushell.services.SmartNavigation");i.toExternal.apply(i,r);return}this._recordNavigationOccurrences(o,c,s).then(()=>{i.toExternal.apply(i,r)})})};a.prototype.hrefForExternal=function(){n.error("Deprecated API call of 'sap.ushell.services.SmartNavigation.hrefForExternal'. Please use 'hrefForExternalAsync' instead.",null,"sap.ushell.services.SmartNavigation");const e=i.getService("CrossApplicationNavigation");return e.hrefForExternal.apply(e,arguments)};a.prototype.hrefForExternalAsync=async function(){n.error("Call to deprecated service: 'SmartNavigation.hrefForExternalAsync'. Please use 'CrossApplicationNavigation.hrefForExternalAsync' instead",null,"sap.ushell.services.SmartNavigation");const e=await this._oCrossAppNavigationServicePromise;return e.hrefForExternalAsync.apply(e,arguments)};a.prototype.getPrimaryIntent=function(){const e=new jQuery.Deferred;const t=arguments;n.error("Call to deprecated service: 'SmartNavigation.getPrimaryIntent'. Please use 'CrossApplicationNavigation.getPrimaryIntent' instead",null,"sap.ushell.services.SmartNavigation");this._oCrossAppNavigationServicePromise.then(n=>{n.getPrimaryIntent.apply(n,t).done(e.resolve).fail(e.reject)}).catch(e.reject);return e.promise()};a.prototype.trackNavigation=function(e){n.error("Call to deprecated service: 'SmartNavigation.trackNavigation'.",null,"sap.ushell.services.SmartNavigation");if(!this._isTrackingEnabled(this._oServiceConfig)){n.debug("Call to SmartNavigation#trackNavigation() ignored because Service is not enabled via Configuration",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null)}const r=e.target;const i=t.getCurrentApplication();const a=i.sShellHash;if(!a){n.warning("Call to SmartNavigation#trackNavigation() simply ignored"+" because AppConfiguration#getCurrentApplication()#sShellHash evaluates to undefined.");return jQuery.when(null)}const o=this._getHashFromOArgs(r);if(!o){n.warning("Navigation not tracked - no valid destination provided",null,"sap.ushell.services.SmartNavigation");return jQuery.when(null)}n.debug(`Navigation to ${o} was tracked out of ${a}`,null,"sap.ushell.services.SmartNavigation");return this._recordNavigationOccurrences(a,o,i.componentHandle.getInstance())};a.prototype._isTrackingEnabled=function(t){return e.isDefined(t)&&e.isDefined(t.config)&&e.isDefined(t.config.isTrackingEnabled)?t.config.isTrackingEnabled:false};a.prototype._getHashCode=function(e){const t=`${e}`;if(this._oHashCodeCache[t]){return this._oHashCodeCache[t]}let n=0;let r=t.length;while(r--){n=(n<<5)-n+(t.charCodeAt(r)|0);n|=0}this._oHashCodeCache[t]=n;return n};a.prototype._getBaseHashPart=function(e){const t=r.parseShellHash(e);if(t&&t.semanticObject&&t.action){return`${t.semanticObject}-${t.action}`}throw new Error(`Invalid intent \`${e}\``)};a.prototype._getHashFromOArgs=function(e){if(!e){return null}if(e.shellHash&&r.parseShellHash(e.shellHash)){return this._getBaseHashPart(e.shellHash)}if(e.semanticObject&&e.action){return`${e.semanticObject}-${e.action}`}return null};a.prototype._getPersContainerKey=function(e){return a.PERS_CONTAINER_KEY_PREFIX+this._getHashCode(e)};a.prototype._getNavigationOccurrences=function(e,t){const n=new jQuery.Deferred;const r=this._getPersContainerKey(e);this._oPersonalizationServicePromise.then(e=>{const i=e.getContainer(r,{keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:true},t);i.done(e=>{const t=e.getItemKeys();const r=t.map(t=>{const n=e.getItemValue(t);const r=Object.keys(n.actions);return r.map(e=>{const r=n.actions[e];const i=r.dailyFrequency.reduce((e,t)=>e+t,0);return{intent:`${t}-${e}`,clickCount:i}})});const i=r.reduce((e,t)=>{Array.prototype.push.apply(e,t);return e},[]);n.resolve(i)})}).catch(n.reject);return n.promise()};a.prototype._prepareLinksForSorting=function(e,t){const n={};t.forEach(e=>{n[e.intent]=e});e.forEach(e=>{const t=this._getBaseHashPart(e.intent);const r=n[t];e.clickCount=r?r.clickCount:0});return e};a.prototype._recordNavigationOccurrences=function(e,t,n){const i=r.parseShellHash(t);const a=this._getPersContainerKey(e);const o=i.semanticObject;const s=new jQuery.Deferred;this._oPersonalizationServicePromise.then(e=>{const t=e.getContainer(a,{keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:true},n);t.done(e=>{let t=e.getItemValue(o);const n=i.action;if(!t){t={actions:{},latestVisit:Date.now(),dailyFrequency:[0]}}let r=t.actions[n];if(!r){r={latestVisit:Date.now(),dailyFrequency:[0]};t.actions[n]=r}this._updateHistoryEntryWithCurrentUsage(t);this._updateHistoryEntryWithCurrentUsage(r);e.setItemValue(o,t);e.save().done(s.resolve).fail(s.reject)}).fail(s.reject)}).catch(s.reject);return s.promise()};a.prototype._updateHistoryEntryWithCurrentUsage=function(e){const t=Date.now();const n=t-e.latestVisit;let r=Math.floor(n/a.ONE_DAY_IN_MILLISECOND);while(r--){e.dailyFrequency.unshift(0);if(e.dailyFrequency.length>a.STATISTIC_COLLECTION_WINDOW_DAYS){e.dailyFrequency.pop()}}++e.dailyFrequency[0];e.latestVisit=t;return e};a.hasNoAdapter=true;return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/SpaceContent", ["sap/ushell/Config","sap/base/util/deepClone","sap/ushell/library","sap/ui/thirdparty/hasher","sap/ushell/utils/WindowUtils","sap/base/Log","sap/ushell/EventHub","sap/ushell/Container"],(e,t,a,n,i,s,o,r)=>{"use strict";const c=a.AppType;function l(){}l.prototype.isPersonalizationEnabled=function(){return e.last("/core/shell/enablePersonalization")};l.prototype.getPage=async function(e){const a=await r.getServiceAsync("Pages");const n=await a.loadPage(e);return t(a.getModel().getProperty(n),20)};l.prototype.getPages=async function(e){const a=await r.getServiceAsync("Pages");const n=await a.loadPages(e);const i={};Object.keys(n).forEach(e=>{i[e]=t(a.getModel().getProperty(n[e]),20)});return i};l.prototype.addSection=async function(e,t,a){const n=await r.getServiceAsync("Pages");const i=n.getPageIndex(e);return n.addSection(i,t,a)};l.prototype.addVisualization=async function(e,t,a){const n=await r.getServiceAsync("Pages");return n.addVisualization(e,t,a)};l.prototype.moveVisualization=async function(e,t,a,n,i){const s=await r.getServiceAsync("Pages");const o=s.getPageIndex(e);return s.moveVisualization(o,t,a,n,i)};l.prototype.updateVisualization=async function(e,t,a,n){const i={displayFormatHint:n.displayFormatHint,title:n.title,subtitle:n.subtitle,info:n.info};const s=await r.getServiceAsync("Pages");const o=s.getPageIndex(e);return s.updateVisualization(o,t,a,i)};l.prototype.deleteVisualization=async function(e,t,a){const n=await r.getServiceAsync("Pages");const i=n.getPageIndex(e);return n.deleteVisualization(i,t,a)};l.prototype.instantiateVisualization=async function(e){const t=await r.getServiceAsync("VisualizationInstantiation");return t.instantiateVisualization(e)};l.prototype.launchTileTarget=function(t,a){if(typeof t!=="string"){s.error("Invalid target URL",null,"sap.ushell.services.SpaceContent");return}o.emit("UITracer.trace",{reason:"LaunchApp",source:"Tile",data:{targetUrl:t}});if(t.indexOf("#")===0){n.setHash(t)}else{if(a){const n=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/enableRecentActivityLogging");if(n){const e={title:a,appType:c.URL,url:t,appId:t};r.getRendererInternal("fiori2").logRecentActivity(e)}}i.openURL(t,"_blank")}};l.prototype.getUserDefaultParameter=async function(e){const t=await r.getServiceAsync("ClientSideTargetResolution");const a=await r.getServiceAsync("UserDefaultParameters");const n=await t.getSystemContext("");const i=await a.getValue(e,n);if(!i.value&&!i.extendedValue){return null}const s={};if(i.value){s.value=i.value}if(i.extendedValue){s.extendedValue=i.extendedValue}return s};l.hasNoAdapter=true;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UsageAnalytics", ["sap/base/Log"],e=>{"use strict";function r(r,t,s){this.setLegalText=function(){this._logDeprecationError()};this.systemEnabled=function(){this._logDeprecationError();return false};this.userEnabled=function(){this._logDeprecationError();return false};this.setCustomAttributes=function(e){this._logDeprecationError()};this._logDeprecationError=function(){e.error("UsageAnalytics service is deprecated, because the corresponding cloud service 'SAP Web Analytics' has been retired.",null,"sap.ushell.services.UsageAnalytics")}}r.hasNoAdapter=true;return r},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PageReferencing/PageReferencer", ["sap/base/util/deepExtend","sap/ui/thirdparty/jquery","sap/ushell/Container"],(e,jQuery,n)=>{"use strict";const t={};function r(e,n){const t={};e.forEach(e=>{e.viz.forEach(e=>{const r=e.target;if(r&&!t[r]){t[r]=n.resolveHashFragment(r)}})});return new Promise((e,n)=>{const r=[];Object.keys(t).forEach(e=>{r.push(t[e])});jQuery.when.apply(null,r).then(function(){const n=arguments;Object.keys(t).forEach((e,r)=>{t[e]=n[r].inboundPermanentKey});e(t)}).catch(n)})}function i(e,n){return{inboundPermanentKey:e[n.target],vizId:n.tileCatalogId}}function a(e,n){return{id:n.id,title:n.title,visualizations:n.viz.map(i.bind(null,e))}}t.createReferencePage=function(t,i){i=i||[];return n.getServiceAsync("NavTargetResolutionInternal").then(r.bind(null,i)).then(n=>{const r=e({},t);r.sections=i.map(a.bind(null,n));return Promise.resolve(r)})};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/VariantSetAdapter", ["sap/ushell/services/personalization/VariantSetAdapter","sap/base/Log"],(e,a)=>{"use strict";a.error("sap.ushell.services.Personalization.VariantSetAdapter has been deprecated. Please use sap.ushell.services.personalization.VariantSetAdapter instead");return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapter", ["sap/ushell/services/PersonalizationV2/WindowAdapter"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Personalization/WindowAdapterContainer", ["sap/ushell/services/PersonalizationV2/WindowAdapterContainer"],e=>{"use strict";return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/appstate/AppStatePersistencySettings", [],()=>{"use strict";function e(e,i,t,s){this.CreatorUserID=e;this.SelectedUserIDs=i;this.RetrievalMapping=t;this.Expiration=s}return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin", ["sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/RenderManager","sap/ui/core/support/Plugin","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/IconTabBar","sap/m/IconTabFilter","sap/m/Label","sap/m/Text","sap/m/MessageStrip","sap/m/FlexBox","sap/ui/model/resource/ResourceModel","sap/m/SearchField","sap/m/MessageBox","sap/base/util/isEmptyObject"],(e,t,n,i,o,r,s,a,l,p,u,f,c,g,d,y)=>{"use strict";const h="SAP Fiori launchpad configuration";const b=new c({async:true,bundleName:"sap/ushell/support/plugins/flpConfig/i18n/FlpConfigurationPlugin"});let E;b.getResourceBundle().then(e=>{E=e});const I=i.extend("sap.ushell.support.plugins.flpConfig.FlpConfigurationPlugin",{constructor:function(e){i.apply(this,["sapUiFlpConfigurationPlugin",h,e]);this._oSupportStub=e;if(this.runsAsToolPlugin()){this._aEventIds=[`${this.getId()}ReceiveData`]}else{this._aEventIds=[`${this.getId()}RequestData`]}}});I.prototype.isToolPlugin=function(){return true};I.prototype.isAppPlugin=function(){return true};I.prototype.init=function(){i.prototype.init.apply(this,arguments);if(this.runsAsToolPlugin()){setTimeout(()=>{this.requestData()},500);const e=(new n).getInterface();e.openStart("div",this.getId());e.openEnd();e.close("div");e.flush(this.dom());e.destroy()}else{}};I.prototype.exit=function(){i.prototype.exit.apply(this,arguments)};I.prototype.requestData=function(){this._oSupportStub.sendEvent(`${this.getId()}RequestData`,{eventData:{data:{}}})};I.prototype.onsapUiFlpConfigurationPluginRequestData=function(e){const t={};this.prepareForSending(window["sap-ushell-config"],t);this._oSupportStub.sendEvent(`${this.getId()}ReceiveData`,{eventData:{data:t}})};I.prototype.onsapUiFlpConfigurationPluginReceiveData=async function(e){this.flpConfig=e.getParameter("eventData").data;await t.load("sap.ui.table");sap.ui.require(["sap/ui/table/TreeTable","sap/ui/table/Column","sap/ui/table/library"],(e,t,n)=>{this.getFlpConfigurationPluginUI(null,e,t,n.SelectionMode)})};function m(e,t){let n=0;if(e[t]){e[t].forEach(e=>{const i=m(e,t);if(i>n){n=i}})}return n+1}function C(){let t=0;const n=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();const i=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData();if(Array.isArray(i[n])){i[n].forEach((e,o)=>{const r=m(i[n][o],n);if(t<r){t=r}});if(t>0){e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${n}`).expandToLevel(t-1)}else{d.error(new l({text:E.getText("MISSING_HIERARCHY_LEVEL")}))}}}function T(){const t=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getSelectedKey();e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${t}`).collapseAll()}function P(e,t,n,i,o){e.forEach((e,r)=>{if(e[t]){n=`${n}.${r}.${t}`;n=P(e[t],t,n,i,o)}else if(e.property.indexOf(o)>-1){n=`${n}.${r}`;i.push(n);n=n.substring(0,n.lastIndexOf("."))}});n=n.substring(0,n.lastIndexOf("."));if(isNaN(parseInt(n.substr(n.lastIndexOf(".")+1),10))){return n}return n.substring(0,n.lastIndexOf("."))}function w(e,t){for(let n=0;n<t.length;n++){if(e){e=e[t[n]]}}return e}function B(e,t,n){const i=n.split(",");for(let t=0;t<i.length-1;t++){e=e[i[t]]}e[i[i.length-1]]=t}function S(e,t,n){if(Array.isArray(e)){e.forEach(e=>{if(e[t]){n=S(e[t],t,n)}else{n+=1}});return n}return undefined}function x(e,t,n,i,o){if(t.length===1){e[t[0]]=n}else{const r=t.shift();e[r]=x(typeof e[r]==="undefined"?{}:e[r],t,n,i,o)}if(e[i]&&e.property&&e.value){delete e.value;e.property=""}return e}I.prototype.onPressSearchNewModel=function(t){let n;let i;let r;let s;let a;let l;let p;let u;let f;let c=[];const g={};let d="";const y={};const h={};let b=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel("Full");const E=t.getParameter("query");if(!b){b=e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").getModel().getData()}else{b=b.getData()}Object.keys(b).forEach(e=>{g[e]=0});if(E){for(const e in b){d=e;n=[];P(b[e],e,d,n,E);h[e]=n}Object.keys(h).forEach(e=>{s=h[e];for(let e=0;e<s.length;e++){a=s[e].split(".");l=[];for(let e=0;e<a.length;e++){if(!isNaN(parseInt(a[e],10))){l.push(parseInt(a[e],10))}else{l.push(a[e])}}for(let e=0;e<l.length;e+=2){p={property:""};p[l[0]]=[];if(isNaN(parseInt(l[e],10))){i=l.slice(0,e+1);if(!w(y,i)&&typeof w(y,l.slice(0,l.length-2))!=="object"){x(y,i,[p],l[0],i.length)}f=w(b,l.slice(0,e+2));if(f&&w(y,l.slice(0,e+2))){B(y,f.property,`${l.slice(0,e+2).toString()},property`)}else if(e!==l.length-2){c.push(l.slice(0,e+2).toString())}}}r=l.slice(0);x(y,l,{property:"",value:""},l[0],i.length);f=w(b,r);if(f){B(y,f.value,`${r.toString()},value`);B(y,f.property,`${r.toString()},property`)}}c.forEach(e=>{f=w(b,e.split(","));if(f&&w(y,e.split(","))){B(y,f.property,`${e},property`)}});c=[];if(y[e]&&Array.isArray(y[e][0][e])&&y[e][0][e].length===0){y[e]=y[e].splice(1)}});e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(y));e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(b),"Full");let t=0;Object.keys(g).forEach(n=>{u=n;if(y[u]&&Array.isArray(y[u])){y[u].forEach((e,n)=>{const i=m(y[u][n],u);if(t<i){t=i}})}e.getElementById(`sap-ui-support-flpConfigurationPlugin-TreeTable${n}`).expandToLevel(t-1);e.getElementById(n).setCount(S(y[n],n,0))})}else{Object.keys(g).forEach(t=>{e.getElementById(t).setCount(S(b[t],t,0))});e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar").setModel(new o(b))}};function A(e,t){if(typeof e!=="object"){return[{property:t,value:e}]}return Object.keys(e).map(n=>{const i={property:n};const o=e[n];if(typeof o==="object"&&o!==null&&!y(o)&&!Array.isArray(o)){i[t]=A(o,t);return i}try{i.value=JSON.stringify(o)}catch(e){i.value=o}return i})}I.prototype.prepareForSending=function(e,t){Object.keys(e).forEach(n=>{const i=e[n];switch(typeof i){case"object":if(i===null){t[n]=i;return}else if(Array.isArray(i)){t[n]=[]}else{t[n]={}}this.prepareForSending(e[n],t[n]);break;case"undefined":t[n]="undefined";return;case"function":return;default:t[n]=e[n];return}})};I.prototype.getNewConfigJSON=function(e){const t={};Object.keys(e).forEach(n=>{t[n]=A(e[n],n)});return t};I.prototype.getFlpConfigurationPluginUI=function(t,n,i,c){let d;const h={};const I=this.getNewConfigJSON(this.flpConfig);const m=new o(I);for(const e in I){h[e]=S(I[e],e,0)}if(!e.getElementById("sap-ui-support-flpConfigurationPlugin-TabBar")){if(!I||y(I)){new u({text:E.getText("ERROR_MESSAGE"),type:"Warning",showIcon:true,showCloseButton:false}).placeAt(this.getId())}else{d=new s("sap-ui-support-flpConfigurationPlugin-TabBar",{headerMode:"Inline"});Object.keys(this.flpConfig).forEach((e,t)=>{d.insertItem(new a(e,{key:e,text:e,count:h[e],content:[new n(`sap-ui-support-flpConfigurationPlugin-TreeTable${e}`,{rows:`{/${e}/}`,selectionMode:c.None,enableCellFilter:true,extension:[new f({items:[new r({icon:"sap-icon://expand",text:"{i18n>EXPAND_BUTTON}",press:C}),new r({icon:"sap-icon://collapse",text:"{i18n>COLLAPSE_BUTTON}",press:T})]})],columns:[new i({label:new l({text:"{i18n>COLUMN_PROPERTY}"}),template:new p({text:"{property}"})}),new i({label:new l({text:"{i18n>COLUMN_VALUE}"}),template:new p({text:"{value}"})})]})]}),t)});const e=new g({search:this.onPressSearchNewModel});e.placeAt(this.getId());d.setModel(m);d.setModel(b,"i18n");d.placeAt(this.getId())}}};return I});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeSelector", ["./ContentNodeSelectorRenderer","sap/base/util/deepClone","sap/m/Column","sap/m/ColumnListItem","sap/m/Label","sap/m/MultiInput","sap/m/Token","sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/core/Control","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources"],(e,t,n,o,s,i,l,a,r,c,d,p,u,g,h,_,y,f)=>{"use strict";const m=y.ContentNodeType;const b=c.extend("sap.ushell.ui.ContentNodeSelector",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.m.MultiInput",multiple:false,visibility:"hidden"}},associations:{labelId:{type:"sap.ui.core.Control",multiple:false}},events:{selectionChanged:{},valueHelpEndButtonPressed:{}}},renderer:e});b.prototype.init=function(){this._oModel=new g({items:[],suggestions:[],isSpaces:h.last("/core/spaces/enabled")});this._oDeviceModel=new g(d);this.setModel(this._oModel,"_internal");this.setModel(this._oDeviceModel,"_device");this.setModel(f.i18nModel,"_i18n");if(!this.getAggregation("content")){const e=this._createMultiInput();this.setAggregation("content",e)}this.setBusyIndicatorDelay(0);this._loadContentNodes().then(this._overwriteLabel.bind(this))};b.prototype._createMultiInput=function(){const e=new i({ariaLabelledBy:this.getLabelId(),valueHelpRequest:this._showValueHelp.bind(this),tokenUpdate:this._onTokenUpdate.bind(this),required:true,suggestionColumns:[new n({header:new s({text:"{= ${_internal>/isSpaces} ? ${_i18n>contentNodeSelectorPage} : ${_i18n>contentNodeSelectorHomepageGroup}}"})}),new n({visible:"{= ${_internal>/isSpaces}}",header:new s({text:"{_i18n>contentNodeSelectorSpace}"})})],suggestionRows:{path:"_internal>/suggestions",template:new o({cells:[new s({text:"{_internal>label}"}),new s({visible:"{_internal>/isSpaces}",text:"{= ${_internal>spaceTitles}.join(', ')}"})]}),templateShareable:false}});e.addValidator(this._validateItem.bind(this));return e};b.prototype._overwriteLabel=function(){const e=this.getLabelId();const t=a.getElementById(e);if(t&&typeof t.setText==="function"){if(this._oModel.getProperty("/isSpaces")){t.setText(f.i18n.getText("contentNodeSelectorHomepagePages"))}else{t.setText(f.i18n.getText("contentNodeSelectorHomepageGroups"))}}if(t&&typeof t.setRequired==="function"&&t.isPropertyInitial("required")){t.setRequired(true)}};b.prototype.exit=function(){this._oModel.destroy();this._oDeviceModel.destroy()};b.prototype.setLabelId=function(e){this.setAssociation("labelId",e);this._overwriteLabel();const t=this.getAggregation("content");if(t){t.addAriaLabelledBy(e)}return this};b.prototype.getSelectedContentNodes=function(){const e=this.getAggregation("content");const n=e.getTokens();return n.map(e=>{const n=e.getBindingContext("_internal").getObject();const o=t(n);delete o.selected;delete o.spaceTitles;return o})};b.prototype._getMyHomeEnablement=function(){return new Promise((e,t)=>{const n=h.last("/core/spaces/myHome/enabled");const o=_.getUser().getShowMyHome();e(n&&o)})};b.prototype._filterPersonalizableContentNodes=function(e){if(!Array.isArray(e)){return[]}return e.reduce((e,t)=>{if(this._bShowOnlyMyHome&&t.id!==this._sMyHomeSpaceId&&t.id!==this._sMyHomePageId){return e}t.children=this._filterPersonalizableContentNodes(t.children);if(t.type===m.HomepageGroup||t.type===m.Space&&t.children.length||t.type===m.Page&&t.isContainer){e.push(t)}return e},[])};b.prototype._loadContentNodes=function(){this.setBusy(true);return Promise.all([_.getServiceAsync("BookmarkV2"),this._getMyHomeEnablement()]).then(e=>{const n=e[0];const o=e[1];const s=h.last("/core/shell/enablePersonalization");this._bShowOnlyMyHome=!s&&o;this._sMyHomeSpaceId=h.last("/core/spaces/myHome/myHomeSpaceId");this._sMyHomePageId=h.last("/core/spaces/myHome/myHomePageId");return n.getContentNodes().then(e=>{e=t(e);e=this._filterPersonalizableContentNodes(e);b._normalizeContentNodes(e);this._oModel.setProperty("/items",e);const n=b._getSuggestions(e);for(let e=0;e<n.length;e++){n[e].selected=false}this._oModel.setProperty("/suggestions",n);this.setBusy(false)})})};b.prototype._showValueHelp=function(e){const t=e.getSource();const n=t.getValue();if(!this._oValueHelpDialog){r.load({id:`${this.getId()}-ValueHelpDialog`,name:"sap.ushell.ui.ContentNodeSelectorValueHelp",controller:this}).then(e=>{this.addDependent(e);this._oValueHelpDialog=e;this._openValueHelpDialog(n)})}else{this._openValueHelpDialog(n)}};b.prototype._openValueHelpDialog=function(e){const t=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");t.expandToLevel(1);this._oValueHelpDialog.open();const n=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesSearch");n.setValue(e);this._onValueHelpSearch()};b.prototype._onValueHelpSearch=function(){const e=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesSearch");const t=e.getValue();const n=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");const o=n.getBinding("items");o.filter(new p({path:"label",operator:u.Contains,value1:t}))};b.prototype._onValueHelpBeginButtonPressed=function(){const e=r.byId(`${this.getId()}-ValueHelpDialog`,"ContentNodesTree");const t=e.getSelectedContextPaths();const n=this.getAggregation("content");n.destroyTokens();let o;let s;for(let e=0;e<t.length;e++){s=t[e];const i=this.getModel("_internal");const l=n.getAggregation("tokens").map(e=>e.getProperty("key")).indexOf(i.getProperty(s).id);if(l<0){o=this._createToken(s);n.addValidateToken({token:o})}}n.setValue("");this._oValueHelpDialog.close()};b.prototype._onValueHelpEndButtonPressed=function(){this.fireValueHelpEndButtonPressed();this._oValueHelpDialog.close()};b.prototype._onTokenUpdate=function(e){const t=e.getParameter("addedTokens");const n=e.getParameter("removedTokens");this._setTokensSelected(t,true);this._setTokensSelected(n,false);setTimeout(this.fireSelectionChanged.bind(this),0)};b.prototype._setTokensSelected=function(e,t){let n;for(let o=0;o<e.length;o++){n=e[o].getBindingContext("_internal");n.getModel().setProperty(n.getPath("selected"),t)}};b.prototype._validateItem=function(e){if(e.suggestedToken){return e.suggestedToken}const t=e.suggestionObject;if(!t){return null}const n=t.getBindingContext("_internal");return this._createToken(n.getPath())};b.prototype._createToken=function(e){const t=new l({key:"{_internal>id}",text:"{_internal>label}"});t.bindObject({path:e,model:"_internal"});return t};b._getSuggestions=function(e){const t=[];b._getChildren(e,t);return t};b._getChildren=function(e,t){let n;for(let o=0;o<e.length;o++){n=e[o];if(n.isContainer&&t.indexOf(n)===-1){t.push(n)}if(n.children){b._getChildren(n.children,t)}}};b._normalizeContentNodes=function(e){const t={};b._visitPages(e,(e,n)=>{n.spaceTitles=n.spaceTitles||[];if(t[n.id]){t[n.id].spaceTitles.push(e.label);return t[n.id]}n.spaceTitles.push(e.label);t[n.id]=n;return n})};b._visitPages=function(e,t){if(e===undefined||e===null){return}for(let n=0;n<e.length;n++){const o=e[n];if(o.type!==m.Space){return}if(o.children){for(let e=0;e<o.children.length;e++){const n=o.children[e];o.children[e]=t(o,n)}}}};b.prototype.clearSelection=function(){const e=this.getAggregation("content");const t=e.getTokens();t.forEach(e=>{const t=e.getBindingContext("_internal");this._oModel.setProperty(t.getPath("selected"),false)});e.destroyTokens()};b.prototype.setValueState=function(e){const t=this.getAggregation("content");t.setValueState(e)};b.prototype.setValueStateText=function(e){const t=this.getAggregation("content");t.setValueStateText(e)};return b});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeSelectorRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,n){e.openStart("div",n);e.openEnd();e.renderControl(n.getAggregation("content"));e.close("div")};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/ContentNodeTreeItem", ["sap/m/StandardTreeItem"],e=>{"use strict";const t=e.extend("sap.ushell.ui.bookmark.ContentNodeTreeItem",{metadata:{library:"sap.ushell",properties:{selectable:{type:"boolean",defaultValue:true,group:"Behavior"}}},renderer:e.getMetadata().getRenderer()});t.prototype.setSelected=function(t){this._bSelected=t;return e.prototype.setSelected.apply(this,arguments)};t.prototype.setSelectable=function(t){this.setProperty("selectable",t,false);if(t){e.prototype.setSelected.call(this,this._bSelected)}return this};t.prototype.isSelectable=function(){return this.getSelectable()};t.prototype.getModeControl=function(){if(!this.getSelectable()){return null}return e.prototype.getModeControl.apply(this,arguments)};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/CustomGroupHeaderListItem", ["sap/m/GroupHeaderListItem","sap/m/Text","./CustomGroupHeaderListItemRenderer"],(t,e,i)=>{"use strict";const s=t.extend("sap.ushell.ui.CustomGroupHeaderListItem",{metadata:{library:"sap.ushell",properties:{description:{type:"string",group:"Data",defaultValue:null}},aggregations:{_titleText:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_descriptionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}}},renderer:i});s.prototype.setTitle=function(t){this.setProperty("title",t);const i=this.getAggregation("_titleText");if(i){i.setText(t)}else{this.setAggregation("_titleText",new e({text:t}),true)}};s.prototype.setDescription=function(t){this.setProperty("description",t);const i=this.getAggregation("_descriptionText");if(i){i.setText(t)}else{this.setAggregation("_descriptionText",new e({text:t}),true)}};s.prototype.getContentAnnouncement=function(){return`${this.getTitle()}, ${this.getDescription()}`};s.prototype.setCount=function(){return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/CustomGroupHeaderListItemRenderer", ["sap/ui/core/library","sap/ui/core/Renderer","sap/m/GroupHeaderListItemRenderer","sap/ushell/library"],(e,t,r,n)=>{"use strict";const s=e.TextDirection;const i=t.extend(r);i.apiVersion=2;i.renderLIAttributes=function(e,t){r.renderLIAttributes(e,t);e.class("sapUshellCGHLIContent")};i.renderLIContent=function(e,t){const r=t.getTitleTextDirection();e.openStart("span");e.class("sapMGHLITitle");if(r!==s.Inherit){e.attr("dir",r.toLowerCase())}e.openEnd();e.renderControl(t.getAggregation("_titleText"));if(t.getDescription()){e.voidStart("br");e.voidEnd();e.openStart("span");e.class("sapUshellCGHLIDescription");e.openEnd();e.renderControl(t.getAggregation("_descriptionText"));e.close("span")}e.close("span")};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/QuickAccess", ["sap/ui/core/Element","sap/ui/core/Fragment","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/hasher","sap/ushell/library","sap/ushell/Config","sap/ushell/Container","sap/ushell/resources","sap/ushell/utils","sap/ushell/utils/WindowUtils","sap/ushell/utils/AppType","sap/ushell/EventHub","sap/ushell/api/performance/Extension","sap/ushell/api/performance/NavigationSource"],(e,t,s,i,n,c,o,a,l,r,u,p,h,g,d)=>{"use strict";const f=c.AppType;const A={oExtension:new g,oModel:new i({recentActivities:[],frequentActivities:[]}),oQuickAccessDialog:null,_createQuickAccessDialog:async function(s){const i=await t.load({name:"sap.ushell.ui.QuickAccess",type:"XML",controller:this});i.setModel(this.oModel);i.attachAfterClose(this._onAfterClose.bind(this,s));e.getElementById("mainShell").addDependent(i);this.oQuickAccessDialog=i;return i},_onAfterClose:function(t){this.oQuickAccessDialog.destroy();if(s.system.desktop){const s=e.getElementById(t);if(s){s.focus()}else{sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.goToLastVisitedTile()})})}}},_updateQuickAccessDialog:async function(e){const t=e.getContent()[0];t.setBusy(true);const s=await a.getServiceAsync("UserRecents");const i=await new Promise(e=>{s.getRecentActivity().then(t=>{e(t.map(e=>{e.timestamp=r.formatDate(e.timestamp);return e}))}).catch(()=>{e([])})});const n=await new Promise(e=>{s.getFrequentActivity().then(t=>{e(t)}).catch(()=>{e([])})});this.oModel.setData({recentActivities:i,frequentActivities:n});this._setDialogContentHeight(e,Math.max(i.length,n.length));t.setBusy(false)},_setDialogContentHeight:function(e,t){let s=(t+.5)*4+2.75;if(s<18){s=18}else if(s>42){s=42}e.setContentHeight(`${s}rem`)},_closeDialog:function(){this.oQuickAccessDialog.close()},_titleFormatter:function(e,t){if(t===f.SEARCH){e=`"${e}"`}return e},_descriptionFormatter:function(e){if(e===f.SEARCH){return l.i18n.getText("recentActivitiesSearchDescription")}return p.getDisplayName(e)},_itemPress:function(e){const t=e.getParameter("listItem").getBindingContextPath();const s=this.oModel.getProperty(t);this.oExtension.addNavigationSource(/recentActivities/.test(t)?d.RecentlyUsed:d.FrequentlyUsed);h.emit("UITracer.trace",{reason:"LaunchApp",source:"Link",data:{targetUrl:s.url}});if(s.url[0]==="#"){n.setHash(s.url);this._closeDialog()}else{const e=o.last("/core/shell/enableRecentActivity")&&o.last("/core/shell/enableRecentActivityLogging");if(e){const e={title:s.title,appType:f.URL,url:s.url,appId:s.url};a.getRendererInternal("fiori2").logRecentActivity(e)}u.openURL(s.url,"_blank")}}};return{openQuickAccessDialog:async function(e,t){const s=await A._createQuickAccessDialog(t);const i=s.getContent()[0];A._updateQuickAccessDialog(s);i.setSelectedKey(e);s.setInitialFocus(e);s.open()},_getQuickAccess:function(){return A}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/bookmark/SaveOnPage.controller", ["sap/ui/core/mvc/Controller","sap/ushell/resources","sap/ui/thirdparty/hasher","sap/ui/core/library"],(e,t,o,r)=>{"use strict";const i=r.ValueState;return e.extend("sap.ushell.ui.bookmark.SaveOnPage",{onInit:function(){const e=this.getView();e.setModel(t.i18nModel,"i18n");this.byId("bookmarkTitleInput").attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(t.i18n.getText("bookmarkTitleInputError"));this.setValueState(i.Error)}else{this.setValueState(i.None)}});this.oContentNodeSelector=this.byId("SelectedNodesComboBox");this.oContentNodeSelector.attachSelectionChanged(function(){const e=this.getSelectedContentNodes();if(Array.isArray(e)&&e.length<1){this.setValueStateText(t.i18n.getText("bookmarkPageSelectError"));this.setValueState(i.Error)}else{this.setValueState(i.None)}});const o=this.byId("previewTileDynamic");o.addEventDelegate({onAfterRendering:function(){o.getDomRef().removeAttribute("tabindex")}});const r=this.byId("previewTile");r.addEventDelegate({onAfterRendering:function(){r.getDomRef().removeAttribute("tabindex")}})},removeFocusFromTile:function(){this.getView().getDomRef().querySelector(".sapMGT").removeAttribute("tabindex")},getBookmarkTileData:function(){const e=this.getView();const t=e.getModel();const r=e.getViewData();let i;if(r.customUrl){if(typeof r.customUrl==="function"){i=r.customUrl()}else{i=r.customUrl}}else{i=o.getHash()?`#${o.getHash()}`:window.location.href}const n={title:t.getProperty("/title"),subtitle:t.getProperty("/subtitle"),url:i,icon:t.getProperty("/icon"),info:t.getProperty("/info"),numberUnit:t.getProperty("/numberUnit"),serviceUrl:typeof r.serviceUrl==="function"?r.serviceUrl():r.serviceUrl,dataSource:t.getProperty("/dataSource"),serviceRefreshInterval:t.getProperty("/serviceRefreshInterval"),contentNodes:this.oContentNodeSelector.getSelectedContentNodes(),keywords:t.getProperty("/keywords")};const s=["title","subtitle","info"];s.forEach(e=>{n[e]=(n[e]||"").substring(0,256).trim()});return n},onValueHelpEndButtonPressed:function(){if(this.oContentNodeSelector&&this.oContentNodeSelector.fireSelectionChanged){this.oContentNodeSelector.fireSelectionChanged()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/cards/FrequentActivitiesExtension", ["sap/ui/integration/Extension","sap/ushell/utils/UrlParsing","sap/ushell/utils/AppType","sap/ushell/library","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/Container"],(e,t,s,i,n,r,a,o)=>{"use strict";const c=i.AppType;function p(e,t){if(t===c.SEARCH){return`"${e}"`}return e}function l(e){if(e===c.SEARCH){return a.i18n.getText("recentActivitiesSearchDescription")}return s.getDisplayName(e)}return e.extend("sap.ushell.ui.cards.FrequentActivitiesExtension",{init:function(){e.prototype.init.apply(this,arguments);this.oUserRecentsPromise=o.getServiceAsync("UserRecents");this.oCrossAppNavPromise=o.getServiceAsync("CrossApplicationNavigation")},exit:function(){e.prototype.exit.apply(this,arguments);r.on("newUserRecentsItem").off();r.on("userRecentsCleared").off()},onCardReady:function(){r.on("newUserRecentsItem").do(()=>{this.getCard().refreshData()});r.on("userRecentsCleared").do(()=>{this.getCard().refreshData()})},getData:function(){if(this._sortedData){return Promise.resolve(this._resolvedData)}return this.oUserRecentsPromise.then(e=>e.getFrequentActivity()).then(this._getActivitiesAsCardItems.bind(this)).then(this._checkEnabled.bind(this))},_getActivitiesAsCardItems:function(e){const s=[];for(let i=0;i<e.length;i++){if(e[i].url&&e[i].url!==""){const n=t.parseShellHash(e[i].url);const r={Name:p(e[i].title,e[i].appType),Description:l(e[i].appType),Icon:e[i].icon||"sap-icon://product",Url:e[i].url};if(n){r.Intent={SemanticObject:n.semanticObject,Action:n.action,Parameters:n.params,AppSpecificRoute:n.appSpecificRoute}}else{r.Url=e[i].url}s.push(r)}}return s},_checkEnabled:function(e){const t=e.map(e=>this._isActionEnabled(e).then(t=>{e.Enabled=t;return e}));return Promise.all(t)},_isActionEnabled:function(e){const s=t.parseShellHash(e.Url);if(!s){return Promise.resolve(true)}const i=s.params;const n={target:{semanticObject:s.semanticObject,action:s.action},params:i};return this.oCrossAppNavPromise.then(e=>new Promise(t=>{e.isNavigationSupported([n]).done(e=>{t(e[0].supported)}).fail(()=>{t(false)})}))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/cards/RecentActivitiesExtension", ["sap/ui/integration/Extension","sap/ushell/utils/UrlParsing","sap/ushell/utils/AppType","sap/ushell/library","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/Container"],(e,t,s,n,i,r,a,o)=>{"use strict";const c=n.AppType;function p(e,t){if(t===c.SEARCH){return`"${e}"`}return e}function l(e){if(e===c.SEARCH){return a.i18n.getText("recentActivitiesSearchDescription")}return s.getDisplayName(e)}return e.extend("sap.ushell.ui.cards.RecentActivitiesExtension",{init:function(){e.prototype.init.apply(this,arguments);this.oUserRecentsPromise=o.getServiceAsync("UserRecents");this.oCrossAppNavPromise=o.getServiceAsync("CrossApplicationNavigation")},exit:function(){e.prototype.exit.apply(this,arguments);r.on("newUserRecentsItem").off();r.on("userRecentsCleared").off()},onCardReady:function(){r.on("newUserRecentsItem").do(()=>{this.getCard().refreshData()});r.on("userRecentsCleared").do(()=>{this.getCard().refreshData()})},getData:function(){return this.oUserRecentsPromise.then(e=>e.getRecentActivity()).then(this._getActivitiesAsCardItems.bind(this)).then(this._checkEnabled.bind(this))},_getActivitiesAsCardItems:function(e){const s=[];for(let n=0;n<e.length;n++){if(e[n].url&&e[n].url!==""){const i=t.parseShellHash(e[n].url);const r={Name:p(e[n].title,e[n].appType),Description:l(e[n].appType),Icon:e[n].icon||"sap-icon://product",Url:e[n].url};if(i){r.Intent={SemanticObject:i.semanticObject,Action:i.action,Parameters:i.params,AppSpecificRoute:i.appSpecificRoute}}else{r.Url=e[n].url}s.push(r)}}return s},_checkEnabled:function(e){const t=e.map(e=>this._isActionEnabled(e).then(t=>{e.Enabled=t;return e}));return Promise.all(t)},_isActionEnabled:function(e){const s=t.parseShellHash(e.Url);if(!s){return Promise.resolve(true)}const n=s.params;const i={target:{semanticObject:s.semanticObject,action:s.action},params:n};return this.oCrossAppNavPromise.then(e=>new Promise(t=>{e.isNavigationSupported([i]).done(e=>{t(e[0].supported)}).fail(()=>{t(false)})}))}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AboutButton", ["sap/m/ButtonRenderer","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ui/core/Fragment","sap/ushell/ui/footerbar/AboutDialog.controller"],(t,e,o,i,a)=>{"use strict";const s=o.extend("sap.ushell.ui.footerbar.AboutButton",{metadata:{library:"sap.ushell"},renderer:t});s.prototype.init=function(){if(o.prototype.init){o.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://hint");this.setText(e.i18n.getText("about"));this.attachPress(this.showAboutDialog)};s.prototype.showAboutDialog=function(){return new Promise((t,o)=>{i.load({id:"aboutDialogFragment",name:"sap.ushell.ui.footerbar.AboutDialog",type:"XML",controller:new a}).then(o=>{o.setModel(e.i18nModel,"i18n");o.open();t()}).catch(o)})};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AboutDialog.controller", ["sap/m/Label","sap/m/Text","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/core/Title","sap/ui/model/json/JSONModel","sap/ushell/services/AppConfiguration","sap/ushell/Config","sap/ushell/resources","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/Device","sap/ushell/Container"],(e,t,o,n,a,i,s,r,p,u,l,c,m)=>{"use strict";return o.extend("sap.ushell.ui.footerbar.AboutDialog.controller",{onBeforeOpen:function(){this._setupAboutDialogModel();this._updateHeaderButtonVisibility();const e=n.byId("aboutDialogFragment","aboutDialogEntryList");e.setSelectedItem(e.getItems()[0])},onClose:function(){this._getDialog().close()},onAfterClose:function(){this._getDialog().destroy()},_getDialog:function(){if(!this.oAboutDialog){this.oAboutDialog=n.byId("aboutDialogFragment","aboutDialog")}return this.oAboutDialog},_setupAboutDialogModel:function(){const e=this._getDialog();this._setupAppInfoModel().catch(e=>{u.error("Failed to setup application info model.",e)});const t=this._getSystemInformation();const o=new i(t);const n=this._getUserEnvironmentInformation();const a=new i(n);e.setModel(o,"SysInfo");e.setModel(a,"UserEnvInfo")},_getSplitAppObj:function(){const e=n.byId("aboutDialogFragment","aboutDialogContainer");if(!e){u.info("SplitContainer object can't be found")}return e},onAfterMasterClose:function(){this._getSplitAppObj().setMode("ShowHideMode");this._updateHeaderButtonVisibility()},onItemPress:function(e){const t=e.getParameter("listItem").getCustomData()[0].getValue();const o=n.createId("aboutDialogFragment",t);this._getSplitAppObj().toDetail(o);if(c.system.desktop){this._getSplitAppObj().hideMaster()}if(c.system.phone){this._getSplitAppObj().setMode("HideMode");this.onAfterMasterClose();this._updateHeaderButtonVisibility()}},navigateBackToMaster:function(){this._getSplitAppObj().backToTopMaster();this._updateHeaderButtonVisibility()},onBeforeMasterOpen:function(){this._updateHeaderButtonVisibility()},navToggleButtonPressHandler:function(){if(this._getSplitAppObj().isMasterShown()){this._getSplitAppObj().hideMaster()}else{this._getSplitAppObj().showMaster()}this._updateHeaderButtonVisibility()},_updateHeaderButtonVisibility:function(){const e=this._getSplitAppObj().isMasterShown();const t=n.byId("aboutDialogFragment","aboutDialogNavBackButton");const o=n.byId("aboutDialogFragment","aboutDialogMenuButton");if(c.system.phone){t.setVisible(!e);if(!t){u.info("oBackButton object can't be found")}}else{if(c.orientation.portrait){o.setVisible(true);o.setPressed(e);o.setTooltip(p.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{o.setVisible(false)}if(!o){u.info("oMenuButton object can't be found")}}},_setupAppInfoModel:function(){const e=this._getDialog();return new Promise((t,o)=>{m.getServiceAsync("AppLifeCycle").then(e=>{const t=e.getCurrentApplication();return Promise.all([t.getAllAppInfo(true),t.getAllAppInfo(false),this._getContentProviderLabel(t)])}).then(o=>{const n=s.getMetadata();const a=o[0]||{};const r=o[1]||{};const p=o[2];a.appTitle=a.title||a.appTitle||n.title||"";a.contentProviderLabel=p;const u=this._buildApplicationInformationObject(a,r);e.setModel(new i(u),"AppInfo");t()}).catch(e=>{o(e)})})},_buildApplicationInformationObject:function(e,t){const o=["appTitle","appId","abap.transaction","appVersion","appSupportInfo","technicalAppComponentId","appFrameworkId","appFrameworkVersion","contentProviderLabel"];const n={entries:[],customEntries:[]};o.forEach(t=>{if(e[t]){n.entries.push({parameterName:t,value:`{i18n>${t}}`,type:"label"});n.entries.push({parameterName:t,value:e[t],type:"text"})}});const a=Object.keys(t).filter(e=>{const o=t[e];return o.showInAbout}).sort((e,t)=>e.toLowerCase()<t.toLowerCase()?-1:1).map(e=>{const o=t[e];return{parameterName:e,...o}});a.forEach(e=>{n.customEntries.push({parameterName:e.parameterName,value:e.label,type:"label"});n.customEntries.push({parameterName:e.parameterName,value:e.value,type:"text"})});return n},_getSystemInformation:function(){const e=m.getLogonSystem();const t={entries:[]};const o=e.getProductName();if(o){t.entries.push({parameterName:"productName",value:"{i18n>productName}",type:"label"});t.entries.push({parameterName:"productName",value:o,type:"text"})}const n=e.getProductVersion();if(n){t.entries.push({parameterName:"productVersion",value:"{i18n>productVersionFld}",type:"label"});t.entries.push({parameterName:"productVersion",value:n,type:"text"})}const a=e.getSystemName();if(a){t.entries.push({parameterName:"systemName",value:"{i18n>systemName}",type:"label"});t.entries.push({parameterName:"systemName",value:a,type:"text"})}const i=e.getSystemRole();if(i){t.entries.push({parameterName:"systemRole",value:"{i18n>systemRole}",type:"label"});t.entries.push({parameterName:"systemRole",value:i,type:"text"})}const s=e.getTenantRole();if(s){t.entries.push({parameterName:"tenantRole",value:"{i18n>tenantRole}",type:"label"});t.entries.push({parameterName:"tenantRole",value:s,type:"text"})}return t},_getUserEnvironmentInformation:function(){const e=m.getUser();const t={entries:[]};const o=this._getDeviceType();if(o){t.entries.push({parameterName:"deviceType",value:"{i18n>deviceType}",type:"label"});t.entries.push({parameterName:"deviceType",value:o,type:"text"})}const n=e.getTheme();t.entries.push({parameterName:"activeTheme",value:"{i18n>activeTheme}",type:"label"});t.entries.push({parameterName:"activeTheme",value:n,type:"text"});const a=e.getContentDensity()==="cozy";t.entries.push({parameterName:"optimizedForTouch",value:"{i18n>AppearanceContentDensityLabel}",type:"label"});t.entries.push({parameterName:"optimizedForTouch",value:a?"{i18n>yes}":"{i18n>no}",type:"text"});const i=this._isTouchSupported();t.entries.push({parameterName:"touchSupported",value:"{i18n>touchSupported}",type:"label"});t.entries.push({parameterName:"touchSupported",value:i?"{i18n>yes}":"{i18n>no}",type:"text"});t.entries.push({parameterName:"userAgentFld",value:"{i18n>userAgentFld}",type:"label"});t.entries.push({parameterName:"userAgentFld",value:navigator.userAgent,type:"text"});return t},_getContentProviderLabel:function(e){if(r.last("/core/contentProviders/providerInfo/enabled")){return e.getSystemContext().then(e=>e.label)}return Promise.resolve(undefined)},_getDeviceType:function(){let e;if(c.system.combi){e="{i18n>configuration.form_factor_combi}"}else if(c.system.desktop){e="{i18n>configuration.form_factor_desktop}"}else if(c.system.tablet){e="{i18n>configuration.form_factor_tablet}"}else if(c.system.phone){e="{i18n>configuration.form_factor_phone}"}return e},_isTouchSupported:function(){return c.support.touch&&(c.system.tablet||c.system.phone||c.system.combi)},itemFactory:function(o,n){const i=n.getProperty("type");switch(i){case"label":return new e({text:n.getProperty("value")});case"title":return new a({text:n.getProperty("value")});default:return new t({text:n.getProperty("value")})}},calculateNumberOfColumns:function(e){if(!this.isFormVisible(e)){return 1}return Object.keys(e).length>1?2:1},isFormVisible:function(e){return!!e&&!l(e)}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/AddBookmarkButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/Dialog","sap/m/library","sap/m/MessageBox","sap/m/Text","sap/m/VBox","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/library","sap/ushell/resources","sap/ushell/state/StateManager"],(e,t,o,s,i,r,a,n,l,u,p,c,d,h,g,f)=>{"use strict";const y=i.ButtonType;const m=l.ValueState;const b=l.mvc.ViewType;const M=f.LaunchpadState;const S=f.ShellMode;const{Headerless:k,Standalone:B,Embedded:T,Merged:P}=S;const D=t.extend("sap.ushell.ui.footerbar.AddBookmarkButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},info:{type:"string",group:"Misc",defaultValue:null},tileIcon:{type:"string",group:"Appearance",defaultValue:null},numberUnit:{type:"string",group:"Appearance",defaultValue:null},keywords:{type:"string",group:"Misc",defaultValue:null},customUrl:{type:"any",group:"Misc",defaultValue:null},serviceUrl:{type:"any",group:"Misc",defaultValue:null},dataSource:{type:"any",group:"Misc",defaultValue:null},serviceRefreshInterval:{type:"string",group:"Misc",defaultValue:null},showGroupSelection:{type:"boolean",group:"Misc",defaultValue:true},showPageSelection:{type:"boolean",group:"Misc",defaultValue:true},appData:{type:"object",group:"Misc",defaultValue:null,deprecated:true}}},renderer:o});D.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.bSpaceEnabled=d.last("/core/spaces/enabled");this.bMyHomeEnabled=d.last("/core/spaces/myHome/enabled");this.setIcon("sap-icon://add-favorite");this.bindProperty("text",{path:"i18n>addToHomePageBtn"});this.setEnabled();this.oModel=new c({showGroupSelection:true,showPageSelection:true,title:"",subtitle:"",numberValue:0,info:"",icon:"",numberUnit:"",keywords:""});this.setModel(g.i18nModel,"i18n");this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.showAddBookmarkDialog()})};D.prototype.exit=function(){if(this.oDialog){this.oDialog.destroy()}if(this.oModel){this.oModel.destroy()}if(t.prototype.exit){t.prototype.exit.apply(this,arguments)}};D.prototype.setBookmarkTileView=function(e){this.bookmarkTileView=e};D.prototype.getBookmarkTileView=function(){return this.bookmarkTileView};D.prototype.showAddBookmarkDialog=function(){const e=this.getAppData()||{};const t={serviceUrl:this.getServiceUrl()||e.serviceUrl,customUrl:this.getCustomUrl()||e.customUrl};this.oModel.setProperty("/serviceUrl",!!t.serviceUrl);let o;if(this.bSpaceEnabled){o=u.create({type:b.XML,viewName:"sap.ushell.ui.bookmark.SaveOnPage",viewData:t})}else{o=u.create({viewName:"module:sap/ushell/ui/footerbar/SaveAsTile.view",viewData:t})}return o.then(e=>{this.setBookmarkTileView(e);e.setModel(this.oModel);e.setModel(g.i18nModel,"i18n");return this._openDialog(e)})};D.prototype._openDialog=function(e){this.oDialog=new s({id:"bookmarkDialog",title:"{i18n>addToHomePageBtn}",contentWidth:"25rem",content:e,beginButton:new t("bookmarkOkBtn",{text:"{i18n>saveBtn}",type:y.Emphasized,press:[this._handleOKButtonPress,this]}),endButton:new t("bookmarkCancelBtn",{text:"{i18n>cancelBtn}",press:[this._handleCancelButtonPress,this]}),stretch:p.system.phone,horizontalScrolling:false,afterClose:function(){const e=this.getAfterPressHandler();if(e){e()}this._restoreDialogEditableValuesToDefault();this.oDialog.destroy();delete this.oDialog}.bind(this)}).addStyleClass("sapContrastPlus");this.oDialog.open();this.oDialog.setModel(g.i18nModel,"i18n");return this.oDialog};D.prototype._handleOKButtonPress=function(){if(this.oDialog.getBusy()){return}if(!this.bSpaceEnabled){this._handleOKButtonPressClassicMode();return}this._handleOKButtonPressSpacesMode()};D.prototype._handleCancelButtonPress=function(){if(!this.bSpaceEnabled){this._handleCancelButtonPressClassicMode();return}this._handleCancelButtonPressSpacesMode()};D.prototype.setTitle=function(e){this.setProperty("title",e,true);this.oModel.setProperty("/title",e);return this};D.prototype.setSubtitle=function(e){this.setProperty("subtitle",e,true);this.oModel.setProperty("/subtitle",e);return this};D.prototype.setInfo=function(e){this.setProperty("info",e,true);this.oModel.setProperty("/info",e);return this};D.prototype.setTileIcon=function(e){this.setProperty("tileIcon",e,true);this.oModel.setProperty("/icon",e);return this};D.prototype.setShowGroupSelection=function(e){this.setProperty("showGroupSelection",e,true);this.oModel.setProperty("/showGroupSelection",e);return this};D.prototype.setNumberUnit=function(e){this.setProperty("numberUnit",e,true);this.oModel.setProperty("/numberUnit",e);return this};D.prototype.setServiceRefreshInterval=function(e){this.setProperty("serviceRefreshInterval",e,true);this.oModel.setProperty("/serviceRefreshInterval",e);return this};D.prototype.setDataSource=function(e){this.setProperty("dataSource",e,true);this.oModel.setProperty("/dataSource",e);return this};D.prototype.setKeywords=function(e){this.setProperty("keywords",e,true);this.oModel.setProperty("/keywords",e);return this};D.prototype.setAppData=function(e){this.setProperty("appData",e,true);const t=["showGroupSelection","title","subtitle","info","icon","numberUnit","keywords","serviceRefreshInterval","dataSource"];const o=["showInfo","showPreview"];Object.keys(e).forEach(s=>{if(t.indexOf(s)>-1){const t=s==="icon"?"tileIcon":s;this.setProperty(t,e[s],true)}if(t.indexOf(s)>-1||o.indexOf(s)>-1){this.oModel.setProperty(`/${s}`,e[s])}});return this};D.prototype._restoreDialogEditableValuesToDefault=function(){if(this.oModel){this.oModel.setProperty("/title",this.getTitle());this.oModel.setProperty("/subtitle",this.getSubtitle());this.oModel.setProperty("/info",this.getInfo())}};D.prototype._handleCancelButtonPressSpacesMode=function(){const e=this.getBookmarkTileView().getController();const t=e.getBookmarkTileData();if(t.title||t.subtitle||t.info||t.contentNodes.length){const e=g.i18n.getText("SaveAsTileDialog.MessageBox.Action.Discard");const t=g.i18n.getText("SaveAsTileDialog.MessageBox.Message.Discard");const o=g.i18n.getText("SaveAsTileDialog.MessageBox.Title.Discard");r.show(t,{title:o,actions:[e,r.Action.CANCEL],emphasizedAction:e,onClose:function(t){if(t===e){this.oDialog.close()}}.bind(this)})}else{this.oDialog.close()}};D.prototype._handleOKButtonPressSpacesMode=function(){const t=this.getBookmarkTileView().getController();const o=t.getBookmarkTileData();let s=true;if(o.contentNodes.length===0){const e=t.byId("SelectedNodesComboBox");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkPageSelectError"));s=false}}if(!o.title||o.title.length<1){const e=t.byId("bookmarkTitleInput");if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));s=false}}if(!s){sap.ushell.Container.getServiceAsync("MessageInternal").then(e=>{e.info(g.i18n.getText("SaveAsTileDialog.MessageToast.ValidationFailed"))});return}this.oDialog.setBusy(true);this.oDialog.close();const i=sap.ushell.Container.getServiceAsync("BookmarkV2");const r=o.contentNodes.map(t=>i.then(e=>e.addBookmark(o,t)).then(()=>({pageId:t.id,status:"resolved"})).catch(o=>{e.error("Failed to add one a bookmark: ",o,"sap.ushell.ui.footerbar.AddBookmarkButton");return{pageId:t.id,error:o.message,status:"failed"}}));Promise.all(r).then(e=>{sap.ushell.Container.getServiceAsync("MessageInternal").then(t=>{const s=e.filter(e=>e.status==="resolved").length;const i=e.filter(e=>e.status==="failed");if(s===1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPage"))}else if(s>1){t.info(g.i18n.getText("SaveAsTileDialog.MessageToast.TileCreatedInPages"))}if(i.length){this._showErrorDialog(i,s,o.title)}})})};D.prototype._showErrorDialog=function(e,t,o){sap.ushell.Container.getServiceAsync("MessageInternal").then(s=>{let i;let r;if(e.length===1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.SinglePageError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.OnePageError")}r=g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorDetail",[o,e[0].pageId])}else if(e.length>1){if(t===0){i=g.i18n.getText("SaveAsTileDialog.MessageBox.AllPagesError")}else{i=g.i18n.getText("SaveAsTileDialog.MessageBox.SomePagesError")}const s=e.map(e=>e.pageId).join("\n");r=g.i18n.getText("SaveAsTileDialog.MessageBox.PagesErrorDetail",[o,s])}const l=new n({items:[new a({text:r}).addStyleClass("sapUiSmallMarginBottom"),new a({text:e.map(e=>e.error).join("\n")}).addStyleClass("sapUiSmallMarginBottom"),new a({text:g.i18n.getText("SaveAsTileDialog.MessageBox.PageErrorSolution")})]});s.errorWithDetails(i,l)})};D.prototype._handleCancelButtonPressClassicMode=function(){this.oDialog.close()};D.prototype._handleOKButtonPressClassicMode=async function(){const t=this.getBookmarkTileView();const o=t.getController();const s=o.getBookmarkTileData();if(!s.title||s.title.length<1){const e=t.getTitleInput();if(e){e.setValueState(m.Error);e.setValueStateText(g.i18n.getText("bookmarkTitleInputError"));throw new Error("Invalid bookmark title")}}this.oDialog.setBusy(true);this.oDialog.close();const i=s.group?s.group.object:"";delete s.group;return Promise.all([sap.ushell.Container.getServiceAsync("BookmarkV2"),sap.ushell.Container.getServiceAsync("MessageInternal")]).then(t=>{const o=t[0];const r=t[1];return o.addBookmark(s,i).then(()=>{r.info(g.i18n.getText("tile_created_msg"))}).catch(t=>{e.error("Failed to add bookmark",t,"sap.ushell.ui.footerbar.AddBookmarkButton");r.error(g.i18n.getText("fail_to_add_tile_msg"))})})};D.prototype.setEnabled=function(o){let s=true;const i=f.getLaunchpadState();const r=f.getShellMode();if(sap.ushell.Container){const e=d.last("/core/shell/enablePersonalization");if(e!==undefined){s=e}if(!s&&this.bSpaceEnabled&&this.bMyHomeEnabled){s=true}}if(!s||i===M.App&&[k,B,T,P].includes(r)){o=false}if(!sap.ushell.Container){if(this.getEnabled()){e.warning("Disabling 'Save as Tile' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.AddBookmarkButton")}o=false}t.prototype.setEnabled.call(this,o);if(!o){this.addStyleClass("sapUshellAddBookmarkButton")}};return D});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/ContactSupportDialog.controller", ["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ushell/UserActivityLog","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/StateManager"],(t,e,o,a,n,i,s)=>{"use strict";const c=s.LaunchpadState;const r="contactSupportDialogFragment";return t.extend("sap.ushell.ui.footerbar.ContactSupportDialog.controller",{onBeforeOpen:function(){this._setupModel()},onAfterClose:function(){this._getDialog().destroy();const t=window.document.activeElement;const e=window.document.getElementById("userActionsMenuHeaderButton");if(t&&t.tagName==="BODY"&&e){e.focus()}delete this.oSupportDialog},_getDialog:function(){if(!this.oSupportDialog){this.oSupportDialog=e.byId(r,"ContactSupportDialog")}return this.oSupportDialog},_setupModel:function(){const t=a.getMessageInfo();const e=t.userDetails;const i={showTechInfo:false,showAppData:s.getLaunchpadState()===c.App,subject:"",description:"",userName:e.fullName||"",host:window.location.host,email:e.eMail||"",language:e.Language||"",navigationHash:t.navigationData.navigationHash||"",applicationType:"",url:"",additionalInformation:""};if(t.navigationData.applicationInformation){i.applicationType=t.navigationData.applicationInformation.applicationType;i.url=t.navigationData.applicationInformation.url;i.additionalInformation=t.navigationData.applicationInformation.additionalInformation}const r=this._getDialog();const l=new o(i);r.setModel(n.i18nModel,"i18n");r.setModel(l);this.oClientContext=t},showTechnicalData:function(){this._getDialog().getModel().setProperty("/showTechInfo",true);e.byId(r,"subjectInput").focus()},_checkErrorState:function(t){if(!t.getValue()){t.setValueState("Error")}else{t.setValueState("None")}},onInputChange:function(t){this._checkErrorState(t.getSource())},closeDialog:function(){this._getDialog().close()},onSend:async function(){const t=e.byId(r,"subjectInput");const o=e.byId(r,"textArea");const a=t.getValue();const s=o.getValue();this._checkErrorState(t);this._checkErrorState(o);if(a&&s){const t=await i.getServiceAsync("SupportTicket");const e=await i.getServiceAsync("MessageInternal");try{await t.createTicket({subject:a,text:s,clientContext:this.oClientContext});e.info(n.i18n.getText("supportTicketCreationSuccess"))}catch(t){e.error(n.i18n.getText("supportTicketCreationFailed"))}this.closeDialog()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/JamDiscussButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ui/core/Component","sap/ushell/resources","sap/ushell/Container"],(s,e,t,i,n,o)=>{"use strict";const a=e.extend("sap.ushell.ui.footerbar.JamDiscussButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:t});a.prototype.init=function(){const s=this;if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.setEnabled();this.setIcon("sap-icon://discussion-2");this.setText(n.i18n.getText("discussBtn"));this.attachPress(function(){if(s.getBeforePressHandler()){s.getBeforePressHandler()()}this.showDiscussDialog(s.getAfterPressHandler())})};a.prototype.showDiscussDialog=function(s){if(!this.discussComponentPromise){this.discussComponentPromise=i.create({name:"sap.collaboration.components.fiori.feed.dialog",settings:this.getJamData()})}return this.discussComponentPromise.then(e=>{e.open();if(s){s()}})};a.prototype.setEnabled=function(t){if(!o){if(this.getEnabled()){s.warning("Disabling JamDiscussButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamDiscussButton")}t=false}else{const e=o.getUser();if(!(e&&e.isJamActive())){if(this.getEnabled()){s.info("Disabling JamDiscussButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamDiscussButton")}t=false;this.setVisible(false)}}e.prototype.setEnabled.call(this,t)};return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/JamShareButton", ["sap/base/Log","sap/collaboration/components/fiori/sharing/dialog/Component","sap/m/Button","sap/m/ButtonRenderer","sap/ui/core/Component","sap/ushell/library","sap/ushell/resources","sap/ushell/Container"],(e,t,o,i,r,s,n,a)=>{"use strict";const l=o.extend("sap.ushell.ui.footerbar.JamShareButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null},jamData:{type:"object",group:"Misc",defaultValue:null}}},renderer:i});l.prototype.init=function(){if(o.prototype.init){o.prototype.init.apply(this,arguments)}this.setEnabled();this.setIcon("sap-icon://share-2");this.setText(n.i18n.getText("shareBtn"));this.attachPress(()=>{if(this.getBeforePressHandler()){this.getBeforePressHandler()()}this.showShareDialog(this.getAfterPressHandler())})};l.prototype._createShareComponent=function(){this.oShareComponentPromise=r.create({name:"sap.collaboration.components.fiori.sharing.dialog",settings:this.getJamData()});return this.oShareComponentPromise};l.prototype.showShareDialog=function(t){if(!this.oShareComponentPromise){this.oShareComponentPromise=this._createShareComponent()}if(a.inAppRuntime()){this.adjustFLPUrl(this.getJamData()).catch(t=>{e.error("Could not retrieve FLP URL",t,"sap.ushell.ui.footerbar.JamShareButton");throw t}).then(()=>this.oShareComponentPromise.then(e=>{e.open();if(t){t()}}))}else{return this.oShareComponentPromise.then(e=>{e.open();if(t){t()}})}};l.prototype.exit=function(){if(this.shareComponentPromise){this.shareComponentPromise.then(e=>{e.destroy()})}if(o.prototype.exit){o.prototype.exit.apply(this,arguments)}};l.prototype.setEnabled=function(t){if(a.isInitialized()){const o=a.getUser();if(!(o&&o.isJamActive())){if(!t){e.info("Disabling JamShareButton: user not logged in or Jam not active",null,"sap.ushell.ui.footerbar.JamShareButton")}t=false;this.setVisible(false)}}else{if(!t){e.warning("Disabling JamShareButton: unified shell container not initialized",null,"sap.ushell.ui.footerbar.JamShareButton")}t=false}o.prototype.setEnabled.call(this,t)};l.prototype.adjustFLPUrl=function(e){if(e&&e.object&&e.object.id&&typeof e.object.id==="string"&&e.object.id===document.URL){return a.getFLPUrl(true).then(t=>{e.object.id=t})}return Promise.resolve()};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/LogoutButton", ["sap/base/Log","sap/m/ButtonRenderer","sap/m/MessageBox","sap/ui/core/ElementMetadata","sap/ushell/resources","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/launchpad/LoadingDialog","sap/ushell/Container"],(t,e,i,o,n,s,a,l)=>{"use strict";const u=i.Action;const g=i.Icon;const p=s.extend("sap.ushell.ui.footerbar.LogoutButton",{metadata:{library:"sap.ushell"},renderer:e});p.prototype.init=function(){if(s.prototype.init){s.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://log");this.setTooltip(n.i18n.getText("signoutBtn_tooltip"));this.setText(n.i18n.getText("signoutBtn_title"));this.attachPress(this.logout);this.setEnabled()};p.prototype.logout=function(){let t=true;let e=false;let s=new a({text:""});l.getGlobalDirty().done(p=>{t=false;if(e===true){s.exit();s=new a({text:""})}const r=n.i18n;let c;if(p===l.DirtyState.DIRTY){c={message:r.getText("unsaved_data_warning_popup_message"),icon:g.WARNING,messageTitle:r.getText("unsaved_data_warning_popup_title")}}else{c={message:r.getText("signoutConfirmationMsg"),icon:g.QUESTION,messageTitle:r.getText("signoutMsgTitle")}}i.show(c.message,c.icon,c.messageTitle,[u.OK,u.CANCEL],t=>{if(t===u.OK){s.openLoadingScreen();s.showAppInfo(n.i18n.getText("beforeLogoutMsg"),null);l.logout()}},o.uid("confirm"))});if(t===true){s.openLoadingScreen();e=true}};p.prototype.setEnabled=function(e){if(!l.isInitialized()){if(this.getEnabled()){t.warning("Disabling 'Logout' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.LogoutButton")}e=false}s.prototype.setEnabled.call(this,e)};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SaveAsTile.controller", ["sap/ui/core/mvc/Controller","sap/base/Log","sap/ushell/resources","sap/ui/core/library","sap/ui/thirdparty/hasher","sap/ushell/Container"],(e,t,r,o,i,s)=>{"use strict";const n=o.ValueState;return e.extend("sap.ushell.ui.footerbar.SaveAsTile",{onInit:function(){const e=this.getView();e.getTitleInput().attachLiveChange(function(){if(this.getValue()===""){this.setValueStateText(r.i18n.getText("bookmarkTitleInputError"));this.setValueState(n.Error)}else{this.setValueState(n.None)}})},loadPersonalizedGroups:function(){return s.getServiceAsync("LaunchPage").then(e=>new Promise((t,r)=>{e.getGroupsForBookmarks().done(t).fail(r)})).then(e=>{const t=this.getView().getModel();t.setProperty("/groups",e);t.setProperty("/groups/length",e.length)}).catch(()=>{t.error("SaveAsTile controller: Unable to determine targets for bookmark placement.")})},getLocalizedText:function(e,t){return t?r.i18n.getText(e,t):r.i18n.getText(e)},getBookmarkTileData:function(){const e=this.getView();const t=e.getModel();const r=e.getViewData();let o;if(e.oGroupsSelect&&e.oGroupsSelect.getSelectedItem()){o=e.oGroupsSelect.getSelectedItem().getBindingContext().getObject()}let s;if(r.customUrl){if(typeof r.customUrl==="function"){s=r.customUrl()}else{s=r.customUrl}}else{s=i.getHash()?`#${i.getHash()}`:window.location.href}const n={title:t.getProperty("/title")||"",subtitle:t.getProperty("/subtitle")||"",url:s,icon:t.getProperty("/icon")||"",info:t.getProperty("/info")||"",numberUnit:t.getProperty("/numberUnit")||"",serviceUrl:typeof r.serviceUrl==="function"?r.serviceUrl():r.serviceUrl,dataSource:t.getProperty("/dataSource"),serviceRefreshInterval:t.getProperty("/serviceRefreshInterval"),group:o,keywords:t.getProperty("/keywords")||""};n.title=n.title.substring(0,256).trim();n.subtitle=n.subtitle.substring(0,256).trim();n.info=n.info.substring(0,256).trim();if(n.serviceUrl===undefined){delete n.serviceUrl;delete n.serviceRefreshInterval}return n},onExit:function(){const e=this.getView();const t=e.getTileView();t.destroy()}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SaveAsTile.view", ["sap/m/FlexBox","sap/m/VBox","sap/ui/layout/form/SimpleForm","sap/m/GenericTile","sap/m/ImageContent","sap/m/Input","sap/m/Label","sap/m/library","sap/m/NumericContent","sap/m/Select","sap/m/TileContent","sap/ui/core/ListItem","sap/ui/core/mvc/View","sap/ui/model/BindingMode","sap/ushell/resources","sap/ushell/ui/footerbar/SaveAsTile.controller"],(e,t,o,i,l,s,n,a,r,u,p,h,c,d,w)=>{"use strict";const b=a.FlexJustifyContent;const m=a.FlexAlignItems;return c.extend("sap.ushell.ui.footerbar.SaveAsTile",{getControllerName:function(){return"sap.ushell.ui.footerbar.SaveAsTile"},createContent:function(){this.oResourceBundle=w.i18n;this.viewData=this.getViewData()||{};this.appData=this.viewData.appData||{};this.oTitleInput=new s("bookmarkTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoTitle_tooltip"),value:{path:"/title",mode:d.TwoWay}});this.oSubTitleInput=new s("bookmarkSubTitleInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoSubTitle_tooltip"),value:{path:"/subtitle",mode:d.TwoWay}});this.oInfoInput=new s("bookmarkInfoInput",{placeholder:this.oResourceBundle.getText("bookmarkDialogoDescription_tooltip"),value:{path:"/info",mode:d.TwoWay},visible:"{/showInfo}"});let a;if(this.viewData.serviceUrl){a=new i({header:"{/title}",subheader:"{/subtitle}",pressEnabled:false,ariaLabel:this.oResourceBundle.getText("previewFld"),tileContent:[new p({footer:"{/info}",unit:"{/numberUnit}",content:[new r({value:"{/numberValue}",truncateValueTo:5,icon:"{/icon}",withMargin:false,width:"100%"})]})]}).addStyleClass("sapUiResponsiveMargin")}else{a=new i({header:"{/title}",subheader:"{/subtitle}",pressEnabled:false,ariaLabel:this.oResourceBundle.getText("previewFld"),tileContent:[new p({footer:"{/info}",content:new l({src:"{/icon}"})})]}).addStyleClass("sapUiResponsiveMargin")}a.addEventDelegate({onAfterRendering:function(){a.getDomRef().removeAttribute("tabindex")}});this.setTileView(a);const c=new e("saveAsTileHBox",{items:[a],alignItems:m.Center,justifyContent:b.Center,visible:"{/showPreview}"}).addStyleClass("sapUshellAddBookmarkTileBackground");const g=new n("previewLbl",{text:this.oResourceBundle.getText("previewFld"),labelFor:c,visible:"{/showPreview}"});this.oGroupsSelect=new u("groupsSelect",{items:{path:"/groups",template:new h({text:"{title}"})},width:"100%",visible:{parts:["/showGroupSelection","/groups"],formatter:function(e,t){if(e&&!(t&&t.length)){this.oController.loadPersonalizedGroups()}return e}.bind(this)}});const T=new n("titleLbl",{showColon:true,required:true,text:this.oResourceBundle.getText("titleFld"),labelFor:this.oTitleInput});const f=new n("subtitleLbl",{showColon:true,text:this.oResourceBundle.getText("subtitleFld"),labelFor:this.oSubTitleInput});const v=new n("infoLbl",{text:this.oResourceBundle.getText("tileSettingsDialog_informationField"),showColon:true,labelFor:this.oInfoInput,visible:"{/showInfo}"});const I=this.oResourceBundle.getText("GroupListItem_label");const x=new n("groupLbl",{text:I,labelFor:this.oGroupsSelect,visible:"{/showGroupSelection}"});return[new t({items:[g,c]}).addStyleClass("sapUiSmallMargin"),new o({content:[T,this.oTitleInput,f,this.oSubTitleInput,v,this.oInfoInput,x,this.oGroupsSelect]})]},getTitleInput:function(){return this.oTitleInput},getTileView:function(){return this.tileView},setTileView:function(e){this.tileView=e}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/footerbar/SendAsEmailButton", ["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/m/library","sap/ushell/resources","sap/ushell/Container","sap/ushell/state/ShellModel"],(e,t,s,i,n,l,r)=>{"use strict";const a=i.URLHelper;const o=t.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"function",group:"Misc",defaultValue:null},afterPressHandler:{type:"function",group:"Misc",defaultValue:null}}},renderer:s});o.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(n.i18n.getText("sendEmailBtn"));this.setTooltip(n.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(()=>{const e=this.getBeforePressHandler();if(e){e()}this.sendAsEmailPressed(this.getAfterPressHandler())})};o.prototype.sendAsEmailPressed=function(t){if(l.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],e=>{e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true})})}else{const t=document.URL;const s=r.getModel().getProperty("/application/title");const i=s===undefined?n.i18n.getText("linkToApplication"):`${n.i18n.getText("linkTo")} '${s}'`;l.getServiceAsync("AppState").then(s=>{s.setAppStateToPublic(t).done(e=>{a.triggerEmail(null,i,e)}).fail(e.error)})}if(t){t()}};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ContentRenderer", ["sap/ui/base/Object","sap/ui/core/RenderManager"],(e,t)=>{"use strict";const r=e.extend("sap.ushell.ui.shell.ContentRenderer",{constructor:function(r,i,s,n){e.apply(this);this._id=i;this._cntnt=s;this._ctrl=r;this._rm=(new t).getInterface();this._cb=n||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}e.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(()=>{const e=document.getElementById(this._id);const t=e!==null;if(t){if(typeof this._cntnt==="string"){const e=this._ctrl.getAggregation(this._cntnt,[]);for(let t=0;t<e.length;t++){this._rm.renderControl(e[t])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(t)},0)}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/NavigationMiniTile", ["sap/ui/core/Control","sap/ui/core/IconPool","sap/ushell/library"],(e,t)=>{"use strict";const n=e.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{apiVersion:2,render:function(e,n){const s=n.getTitle();const i=n.getSubtitle();const l=n.getIcon();const a=t.createControlByURI(l);e.openStart("div",n);e.attr("tabindex","-1");e.class("sapUshellNavMiniTile");e.attr("role","listitem");e.attr("aria-label",i?`${s} ${i}`:s);e.openEnd();e.openStart("div");e.openEnd();e.openStart("span");e.class("sapUshellNavMiniTileTitle");e.openEnd();if(s){e.text(s)}e.close("span");e.close("div");e.openStart("div");e.openEnd();if(a){e.openStart("span");e.class("sapUshellNavMiniTileIcon");e.openEnd();e.renderControl(a);e.close("span")}else{e.openStart("span");e.class("sapUshellNavMiniTileSubtitle");e.openEnd();e.text(i||"");e.close("span")}e.close("div");e.close("div")}}});n.prototype.ontap=function(){this.firePress({})};n.prototype.onsapenter=function(){this.firePress({})};n.prototype.onsapspace=function(){this.firePress({})};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/RightFloatingContainer", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/library"],(e,t,jQuery,i)=>{"use strict";const n=t.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{library:"sap.ushell",properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"56px"},top:{type:"string",group:"Appearance",defaultValue:"0"},right:{type:"string",group:"Appearance",defaultValue:"0"},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true,deprecated:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{apiVersion:2,render:function(t,n){const s=e.getRTL();t.openStart("aside",n);t.class("sapUshellRightFloatingContainer");t.style("top",`${n.getTop()}rem`);t.attr("aria-label",i.i18n.getText("FloatingContainer_AriaLabel"));t.style(s?"left":"right",`${n.getRight()}rem`);t.attr("data-role","alert");t.openEnd();t.openStart("ul");t.class("sapUshellNotificationListContainer");t.attr("role","list");t.openEnd();this.renderFloatingContainerItems(t,n);t.close("ul");t.close("aside")},renderFloatingContainerItems:function(e,t){const i=t.getInsertItemsWithAnimation();const n=t.getActAsPreviewContainer();const s=t.getFloatingContainerItems();let a;for(a=0;a<s.length;a++){if(n&&!i){s[a].addStyleClass("sapUshellNonAnimatedNotificationListItem")}else if(s[a].hasStyleClass("sapUshellNonAnimatedNotificationListItem")){s[a].addStyleClass("sapUshellNotificationsListItem");s[a].addStyleClass("sapUshellRightFloatingContainerItemBackToViewport");s[a].addStyleClass("sapUshellRightFloatingContainerItemHidden");s[a].addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");s[a].removeStyleClass("sapUshellNonAnimatedNotificationListItem")}e.renderControl(s[a])}}}});n.prototype.init=function(){let e;addEventListener("resize",()=>{clearTimeout(e);e=setTimeout(this._handleResize.bind(this),100)});this.iRequiredItemsNumber=5};n.prototype.onBeforeRendering=function(){};n.prototype._setSize=function(){};n.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){const e=this.iRequiredItemsNumber;const t=window.innerHeight;const i=this.getDomRef();const n=i.getBoundingClientRect().top;const s=jQuery(".sapUiSizeCompact").length>0?56:64;const a=this.$().find("li").eq(0);let o;if(!a.length){return}const l=a[0].clientHeight;const r=jQuery("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((t-n-s-r)/l,10),5);if(e!==this.iRequiredItemsNumber){o=this.getFloatingContainerItems();for(let e=0;e<o.length;e++){if(e<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){o[e].removeStyleClass("sapUshellShellHidden")}else{o[e].addStyleClass("sapUshellShellHidden")}}}}};n.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(()=>{this._handleResize()},500);this.addStyleClass("sapContrastPlus");this.addStyleClass("sapContrast");this.addStyleClass("sapUshellNotificationsListItem")};n.prototype.setVisible=function(e){this.setProperty("visible",e,true);if(e){jQuery(this.getDomRef()).css("visibility","visible")}else{jQuery(this.getDomRef()).css("visibility","hidden")}};n.prototype.setFloatingContainerItemsVisiblity=function(e){const t=this.getFloatingContainerItems();const i=e?300:0;const n=this.getInsertItemsWithAnimation();function s(i){if(e){t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn")}else{t[i].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut")}}for(let a=0;a<t.length;a++){(function(a){return function(){if(n){setTimeout(()=>{s(a)},i+a*100)}else{t[a].setVisible(e)}}})(a)()}};n.prototype._animationBouncer=function e(t){function i(){if(!e._animationQueue.length){e._itemTimeoutId=undefined;return}const t=e._animationQueue.shift();t.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");e._itemTimeoutId=setTimeout(i,100)}if(!e._animationQueue){e._animationQueue=[]}e._animationQueue.push(t);if(e._mainTimeoutId||e._itemTimeoutId){return}e._mainTimeoutId=setTimeout(()=>{e._mainTimeoutId=undefined;i()},500)};n.prototype.addFloatingContainerItem=function(e){this.addAggregation("floatingContainerItems",e);e.addStyleClass("sapContrastPlus");if(this.getInsertItemsWithAnimation()){e.addStyleClass("sapUshellNotificationsListItem");e.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){n.prototype._animationBouncer(e)}else{setTimeout(()=>{const t=this.getFloatingContainerItems();if(t.length>5){const e=t[t.length-1];e.addStyleClass("sapUshellRightFloatingContainerHideLastItem")}e.addStyleClass("sapUshellRightFloatingContainerItemBackToViewport").addStyleClass("sapUshellRightFloatingContainerItmHeightVisible")},500)}}else if(this.getActAsPreviewContainer()){e.addStyleClass("sapUshellNonAnimatedNotificationListItem")}if(this.getHideItemsAfterPresentation()){setTimeout(()=>{e.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport")},5e3)}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingAction", ["sap/ui/thirdparty/jquery","sap/m/Button","./ShellFloatingActionRenderer","sap/ushell/library"],(jQuery,t,e)=>{"use strict";const i=t.extend("sap.ushell.ui.shell.ShellFloatingAction",{metadata:{library:"sap.ushell"},renderer:e});i.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(t.prototype.init){t.prototype.init.apply(this,arguments)}};i.prototype.exit=function(){t.prototype.exit.apply(this,arguments)};i.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass("sapUshellShellFloatingActionTransition");jQuery(this.getDomRef()).css("transform",`translateY(${this.data("transformY")})`)}else{this.addStyleClass("sapUshellShellFloatingActionTransition")}};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingActionRenderer", ["sap/ui/core/Renderer","sap/m/ButtonRenderer"],(e,r)=>{"use strict";const n=e.extend(r);n.apiVersion=2;return n},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellFloatingActions", ["sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","./ShellFloatingAction"],(t,e,s,l)=>{"use strict";const o=t.extend("sap.ushell.ui.shell.ShellFloatingActions",{metadata:{library:"sap.ushell",properties:{isFooterVisible:{type:"boolean",defaultValue:false}},aggregations:{floatingActions:{type:"sap.ushell.ui.shell.ShellFloatingAction",multiple:true,singularName:"floatingAction"}}},renderer:{apiVersion:2,render:function(t,e){const s=e.getFloatingActions();t.openStart("div",e);t.class("sapUshellShellFloatingActions");t.openEnd();if(s.length){let l;if(s.length===1){l=s[0]}else{l=e._createMultipleFloatingActionsButton(s);s.forEach(e=>{e.setVisible(false);t.renderControl(e)})}t.renderControl(l)}t.close("div")}}});o.prototype._createMultipleFloatingActionsButton=function(t){if(this._oButton){this._oButton.destroy();this._oButton=null}let e;const o=this;this._oButton=new l({id:`${this.getId()}-multipleFloatingActions`,icon:"sap-icon://add",visible:true,press:function(){if(!this.hasStyleClass("sapUshellShellFloatingActionRotate")){this.addStyleClass("sapUshellShellFloatingActionRotate");if(!e){e=parseInt(this.$().outerHeight(),10)+parseInt(o.$().css("bottom"),10)}t.forEach(t=>{t.setVisible(true)});setTimeout(()=>{t.forEach((t,s)=>{const l=e*(s+1);t.$().css("transform",`translateY(-${l}px)`);t.data("transformY",`-${l}px`)})},0)}else{this.removeStyleClass("sapUshellShellFloatingActionRotate");t.forEach(t=>{t.$().css("transform","translateY(0)")});setTimeout(()=>{t.forEach(t=>{t.setVisible(false);t.data("transformY",undefined)})},150)}},tooltip:s.i18n.getText("XXX")});return this._oButton};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ShellNavigationMenu", ["sap/base/Log","sap/m/FlexBox","sap/m/Label","sap/m/List","sap/m/VBox","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Element","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ushell/library","sap/ushell/resources"],(e,t,i,s,o,n,a,r,jQuery,l,h,p)=>{"use strict";const d=n.extend("sap.ushell.ui.shell.ShellNavigationMenu",{metadata:{library:"sap.ushell",properties:{showRelatedApps:{type:"boolean",defaultValue:true}},aggregations:{items:{type:"sap.m.ListItem",singularName:"item"},miniTiles:{type:"sap.ushell.ui.shell.NavigationMiniTile",singularName:"miniTile"}},events:{}},renderer:{apiVersion:2,render:function(e,t){let i;e.openStart("div",t);e.openEnd();if(t.oItemsList){e.renderControl(t.oItemsList)}if(t.getShowRelatedApps()){i=t.getMiniTiles();if(i&&i.length>0){e.renderControl(t.oRelatedAppsVbox)}}e.close("div")}}});function c(e){this.init(e)}c.prototype.init=function(e){this.keyCodes=l;this.jqElement=e.$();this.jqElement.on("keydown.keyboardNavigation",this.keydownHandler.bind(this))};c.prototype.destroy=function(){if(this.jqElement){this.jqElement.off(".keyboardNavigation")}delete this.jqElement};c.prototype.keydownHandler=function(e){switch(e.keyCode){case this.keyCodes.ARROW_UP:this.upDownHandler(e,true);break;case this.keyCodes.ARROW_DOWN:this.upDownHandler(e,false);break;case this.keyCodes.ARROW_LEFT:this.leftRightHandler(e,false);break;case this.keyCodes.ARROW_RIGHT:this.leftRightHandler(e,true);break;case this.keyCodes.HOME:this.homeEndHandler(e,true);break;case this.keyCodes.END:this.homeEndHandler(e,false);break;case this.keyCodes.PAGE_UP:this.homeEndHandler(e,true);break;case this.keyCodes.PAGE_DOWN:this.homeEndHandler(e,false);break;case this.keyCodes.TAB:if(e&&e.shiftKey){this._setItemFocus(e,jQuery("#sapUshellNavHierarchyItems li:[tabindex='0']"))}else{this._setItemFocus(e,jQuery("#allMyAppsButton"))}break;default:break}};c.prototype.upDownHandler=function(e,t){const i=jQuery(document.activeElement);if(!i.hasClass("sapUshellNavMiniTile")){return false}const s=i.parent().parent();const o=i.parent().index();const n=s.children();let a;if(t){a=o-3;if(a<0){a+=9}}else{a=(o+3)%n.length}const r=n[a].children[0];this._setItemFocus(e,jQuery(r))};c.prototype.leftRightHandler=function(e,t){const i=jQuery(document.activeElement);if(!i.hasClass("sapUshellNavMiniTile")){return false}const s=i.parent();const o=t?"next":"prev";const n=s[o]();const a=n.index();const r=s.parent();let l;if(a===-1){l=t?0:r.children().length-1}else{l=a}const h=r.children()[l].children[0];if(!h){return false}this._setItemFocus(e,jQuery(h))};c.prototype.homeEndHandler=function(e,t){const i=t?"first":"last";const s=jQuery(document.activeElement);if(!s.hasClass("sapUshellNavMiniTile")){return false}e.preventDefault();const o=this.jqElement.find(".sapUshellNavMiniTile")[i]();this._setItemFocus(e,o)};c.prototype._setItemFocus=function(e,t){e.preventDefault();e.stopImmediatePropagation();jQuery(".sapUshellNavMiniTile").attr("tabindex",-1);t.attr("tabindex",0);t.focus()};c.prototype.setFocusToLastFocusedMiniTile=function(e){const t=jQuery(".sapUshellNavMiniTile[tabindex='0']");if(t&&t[0]){this._setItemFocus(e,jQuery(t))}else{this._setItemFocus(e,jQuery(jQuery(".sapUshellNavMiniTile")[0]))}};d.prototype.init=function(){};d.prototype._createItemsList=function(){this.oItemsList=new s("sapUshellNavHierarchyItems")};d.prototype._createMiniTilesBox=function(){this.oMiniTilesBox=new t("sapUshellNavRelatedAppsFlexBox",{justifyContent:"Center"})};d.prototype._beforeOpen=function(){if(!this.bInitialized){this.oRelatedAppsTitle=new i("sapUshellRelatedAppsLabel",{text:p.i18n.getText("shellNavMenu_relatedApps")});if(!this.oMiniTilesBox){this._createMiniTilesBox()}this.oRelatedAppsVbox=new o("sapUshellRelatedAppsItems",{items:[this.oRelatedAppsTitle,this.oMiniTilesBox]});this._extendInnerControlsForAccKeyboard();this.bInitialized=true}};d.prototype._afterOpen=function(){if(a.system.desktop){if(this.keyboardNavigation){this.keyboardNavigation.destroy()}this.keyboardNavigation=new c(this.oMiniTilesBox)}};d.prototype._extendInnerControlsForAccKeyboard=function(){if(a.system.desktop){this.oItemsList.addEventDelegate({onsaptabnext:function(e){if(jQuery(".sapUshellNavMiniTile").length){this.keyboardNavigation.setFocusToLastFocusedMiniTile(e)}else{const t=r.getElementById("allMyAppsButton");this.keyboardNavigation._setItemFocus(e,jQuery(t.getDomRef()))}}.bind(this)})}};d.prototype.getMiniTiles=function(){if(this.oMiniTilesBox){return this.oMiniTilesBox.getItems()}return[]};d.prototype.insertMiniTile=function(e,t){if(!this.oMiniTilesBox){this._createMiniTilesBox()}this.oMiniTilesBox.insertItem(e,t);return this};d.prototype.addMiniTile=function(t){if(!this.oMiniTilesBox){this._createMiniTilesBox()}if(this.oMiniTilesBox.getItems().length<9){this.oMiniTilesBox.addItem(t)}else{e.warning("ShellNavigationMenu.addMiniTile - miniTiles aggregation is already at maximum size of 9 elements "+"- current item was not added.")}return this};d.prototype.removeMiniTile=function(e){if(this.oMiniTilesBox){this.oMiniTilesBox.removeItem(e)}return this};d.prototype.removeAllMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.removeAllItems()}return this};d.prototype.destroyMiniTiles=function(){if(this.oMiniTilesBox){this.oMiniTilesBox.destroyItems()}return this};d.prototype.indexOfMiniTile=function(e){if(this.oMiniTilesBox){return this.oMiniTilesBox.indexOfItem(e)}return-1};d.prototype.getItems=function(){if(this.oItemsList){return this.oItemsList.getItems()}return[]};d.prototype.insertItem=function(e,t){if(!this.oItemsList){this._createItemsList()}e=this._extendHierarchyItemForAcc(e);this.oItemsList.insertItem(e,t);return this};d.prototype.addItem=function(e){if(!this.oItemsList){this._createItemsList()}e=this._extendHierarchyItemForAcc(e);this.oItemsList.addItem(e);return this};d.prototype.removeItem=function(e){if(this.oItemsList){this.oItemsList.removeItem(e)}return this};d.prototype.removeAllItems=function(){if(this.oItemsList){this.oItemsList.removeAllItems()}return this};d.prototype.destroyItems=function(){if(this.oItemsList){this.oItemsList.destroyItems()}return this};d.prototype.indexOfItem=function(e){if(this.oItemsList){return this.oItemsList.indexOfItem(e)}return-1};d.prototype._extendHierarchyItemForAcc=function(e){if(a.system.desktop){e.addEventDelegate({onsapspace:function(e){this.firePress()}.bind(e)})}return e};d.prototype.exit=function(){if(this.oItemsList){this.oItemsList.destroy()}if(this.oMiniTilesBox){this.oMiniTilesBox.destroy()}if(this.bInitialized){this.oRelatedAppsVbox.destroy();this.oRelatedAppsTitle.destroy()}if(this.keyboardNavigation){this.keyboardNavigation.destroy()}};d.prototype.onAfterRendering=function(){const e=jQuery("#sapUshellNavHierarchyItems ul");e.attr("role","menu");e.attr("aria-label",p.i18n.getText("ShellNavigationMenu_HierarchyItemsAriaLabel"));jQuery("#sapUshellNavHierarchyItems li").attr("role","menuitem");const t=jQuery("#sapUshellNavRelatedAppsFlexBox");t.attr("role","list");t.attr("aria-labelledBy","sapUshellRelatedAppsLabel");const i=jQuery(".sapUshellNavMiniTile");for(let e=0;e<i.length;e++){jQuery(i[e]).attr("aria-setsize",i.length);jQuery(i[e]).attr("aria-posinset",e+1)}};return d});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SidePane", ["sap/ui/Device","sap/ui/core/Control","sap/ushell/resources","sap/ushell/library"],(e,t,n,i)=>{"use strict";const s=t.extend("sap.ushell.ui.shell.SidePane",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("aside",t);e.class("sapUshellSidePane");e.attr("aria-label",n.i18n.getText("SidePane_AriaLabel"));e.style("width",t._getContentWidth());e.openEnd();const i=t.getContent();i.forEach(t=>{e.renderControl(t)});e.close("aside")}}});s._WIDTH_PHONE=13;s._WIDTH_TABLET=13;s._WIDTH_DESKTOP=15;s.prototype.init=function(){e.resize.attachHandler(this._handleResize,this)};s.prototype._getContentWidth=function(){const t=e.media.getCurrentRange(e.media.RANGESETS.SAP_STANDARD).name;const n=`${s[`_WIDTH_${t.toUpperCase()}`]}rem`;return n};s.prototype._handleResize=function(){const e=this._getContentWidth();const t=this.getDomRef();if(t){t.style.height="";t.style.width=e}};s.prototype.exit=function(){e.resize.detachHandler(this._handleResize,this)};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SubHeader", ["sap/ui/core/Control","sap/ushell/library"],(e,n)=>{"use strict";const r=e.extend("sap.ushell.ui.shell.SubHeader",{metadata:{library:"sap.ushell",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(e,n){e.openStart("div",n);e.class("sapUshellSubHeader");e.openEnd();const r=n.getContent();if(r.length){e.renderControl(r[0])}e.close("div")}}});return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SysInfoBar", ["sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/Icon","sap/ushell/library","sap/m/Bar","sap/m/Label","sap/ui/core/CustomData","./SysInfoBarRenderer"],(e,s,t,o,l,a,r,n)=>{"use strict";const i={orange:"sapUshellSysInfoBarOrange",Orange:"sapUshellSysInfoBarOrange",red:"sapUshellSysInfoBarRed",Red:"sapUshellSysInfoBarRed",pink:"sapUshellSysInfoBarPink",Pink:"sapUshellSysInfoBarPink",violet:"sapUshellSysInfoBarViolet",Violet:"sapUshellSysInfoBarViolet",blue:"sapUshellSysInfoBarBlue",Blue:"sapUshellSysInfoBarBlue",green:"sapUshellSysInfoBarGreen",Green:"sapUshellSysInfoBarGreen",grey:"sapUshellSysInfoBarGrey",Grey:"sapUshellSysInfoBarGrey",gray:"sapUshellSysInfoBarGrey",Gray:"sapUshellSysInfoBarGrey",pink2:"sapUshellSysInfoBarPink2",Pink2:"sapUshellSysInfoBarPink2",violet2:"sapUshellSysInfoBarViolet2",Violet2:"sapUshellSysInfoBarViolet2",blue2:"sapUshellSysInfoBarBlue2",Blue2:"sapUshellSysInfoBarBlue2",green2:"sapUshellSysInfoBarGreen2",Green2:"sapUshellSysInfoBarGreen2",grey2:"sapUshellSysInfoBarGrey2",Grey2:"sapUshellSysInfoBarGrey2",gray2:"sapUshellSysInfoBarGrey2",Gray2:"sapUshellSysInfoBarGrey2"};const p=e.extend("sap.ushell.ui.shell.SysInfoBar",{metadata:{library:"sap.ushell",defaultAggregation:"_bar",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},text:{type:"string",group:"Misc",defaultValue:""},subText:{type:"string",group:"Misc",defaultValue:""},color:{type:"string",group:"Misc",defaultValue:"orange"}},aggregations:{_bar:{type:"sap.m.Bar",multiple:false,visibility:"hidden"}}},renderer:n});p.prototype.init=function(){const e=new l({id:`${this.getId()}-bar`}).addStyleClass("sapUshellSysInfoBar");e._setRootAccessibilityRole("complementary");e.data("sap-ui-fastnavgroup","false",false);this._oText=new a({id:`${this.getId()}-text`,text:this.getText(),design:"Bold"}).addStyleClass("sapUshellSysInfoBarText");this._oSubText=new a({id:`${this.getId()}-subText`,text:this.getSubText()}).addStyleClass("sapUshellSysInfoBarText");this.setAggregation("_bar",e,true);const s=new r({key:"help-id",value:"FLP-SysInfoBar",writeToDom:true});this.addCustomData(s)};p.prototype.exit=function(){this._oIcon=null;this._oText=null;this._oSubText=null};p.prototype.onBeforeRendering=function(){const e=this.getAggregation("_bar");e.removeAllContentMiddle();e.addContentMiddle(this._oIcon);e.addContentMiddle(this._oText);e.addContentMiddle(this._oSubText);if(this._isMappedColor(this.getColor())){this.addStyleClass(this._getMappedColorClass(this.getColor()))}else{this.addStyleClass("sapUshellSysInfoBarCustom")}};p.prototype.setText=function(e){this.setProperty("text",e,true);this._oText.setText(e)};p.prototype.setSubText=function(e){this.setProperty("subText",e,true);this._oSubText.setText(e)};p.prototype.setIcon=function(e){if(s.isIconURI(e)){if(this._oIcon){this._oIcon.destroy();this._oIcon=null}this._oIcon=s.createControlByURI({id:`${this.getId()}-icon`,src:e,densityAware:true,useIconTooltip:true},t).addStyleClass("sapUshellSysInfoBarText");this.invalidate()}else if(this._oIcon){this._oIcon.destroy();this._oIcon=null}this.setProperty("icon",e)};p.prototype.setColor=function(e){const s=this.getColor();if(this._isMappedColor(s)&&this.hasStyleClass(this._getMappedColorClass(s))){this.removeStyleClass(this._getMappedColorClass(s))}this.setProperty("color",e)};p.prototype._isMappedColor=function(e){return!!i[e]};p.prototype._getMappedColorClass=function(e){return i[e]||""};return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/SysInfoBarRenderer", ["sap/ushell/resources"],e=>{"use strict";const o={apiVersion:2};o.render=function(o,r){o.openStart("div",r);o.accessibilityState(r,{role:"complementary",label:e.i18n.getText("SysInfoBarAriaLabel",[r._oText.getText(),r._oSubText.getText()])});o.class("sapUshellSysInfoBar");if(!r._isMappedColor(r.getColor())){o.style("border",`1px solid ${r.getColor()}`);o.style("background-color",r.getColor())}o.openEnd();o.renderControl(r.getAggregation("_bar"));o.close("div")};return o},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/shell/ToolArea", ["sap/ui/core/Control","sap/ushell/library","sap/ushell/resources"],(e,t,l)=>{"use strict";const s=e.extend("sap.ushell.ui.shell.ToolArea",{metadata:{library:"sap.ushell",aggregations:{toolAreaItems:{type:"sap.ushell.ui.shell.ToolAreaItem",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("aside",t);e.class("sapUshellToolArea");e.attr("aria-label",l.i18n.getText("ToolArea_AriaLabel"));if(!t.hasItemsWithText()){e.class("sapUshellToolAreaTextHidden")}e.openEnd();e.openStart("div");e.attr("id",`${t.getId()}-cntnt`);e.class("sapUshellToolAreaContainer");e.openEnd();const s=t.getToolAreaItems();let a;let o;for(a=0;a<s.length;a++){o=s[a];if(o.getVisible()){e.openStart("div");e.class("sapUshellToolAreaContent");if(o.getSelected()){e.class("sapUshellToolAreaItemSelected")}e.openEnd();e.renderControl(o);e.close("div");e.openStart("div");e.class("sapUshellToolAreaContentSeparator");e.openEnd();e.close("div")}}e.close("div");e.close("aside")}}});s.prototype.hasItemsWithText=function(){const e=this.getToolAreaItems();let t;let l;for(t=0;t<e.length;t++){l=e[t];if(l.getVisible()&&l.getText()){return true}}return false};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/utils", ["sap/ushell/EventHub","sap/ui/thirdparty/jquery"],(e,jQuery)=>{"use strict";function t(t){const s=new jQuery.Deferred;let n;let r=0;let i=0;let o=0;const l=[];const u=[];let f;const c={refresh:false};function a(e){if(e&&e.refresh===true){c.refresh=true}o++;s.notify()}function p(e){u.push({entry:f,message:e});i++;s.notify()}const h=e.last("UserSettingsOpened")||{};Object.keys(h).forEach(e=>{const s=parseInt(e,10);n=t[s].onSave();n.done(a);f=t[s].title;n.fail(p);l.push(n);r++});const d=jQuery.when.apply(null,l);d.done(()=>{e.emit("UserSettingsOpened",null);s.resolve(c)});s.progress(()=>{if(i>0&&i+o===r){s.reject(u)}});return s.promise()}return{saveUserPreferenceEntries:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/AppType", ["sap/ushell/library","sap/ushell/resources"],(e,t)=>{"use strict";const p=e.AppType;const r={};r.getDisplayName=function(e){switch(e){case p.OVP:return t.i18n.getText("Apptype.OVP");case p.SEARCH:return t.i18n.getText("Apptype.SEARCH");case p.FACTSHEET:return t.i18n.getText("Apptype.FACTSHEET");case p.COPILOT:return t.i18n.getText("Apptype.COPILOT");case p.URL:return t.i18n.getText("Apptype.URL");default:return t.i18n.getText("Apptype.APP")}};return r});
sap.ui.require.preload({
	"sap/ui/thirdparty/klay.js":function(){
(function(){var n,e;if(typeof window!=="undefined"){n=window;e=n.document}else{n={Array:function(){}}}function t(){}function r(){}function i(){}function a(){}function c(){}function u(){}function f(){}function s(){}function l(){}function h(){}function b(){}function w(){}function d(){}function g(){}function v(){}function k(){}function p(){}function m(){}function j(){}function y(){}function S(){}function E(){}function H(){}function C(){}function I(){}function L(){}function G(){}function N(){}function O(){}function T(){}function P(){}function R(){}function Y(){}function A(){}function _(){}function M(){}function D(){}function B(){}function x(){}function $(){}function U(){}function F(){}function V(){}function z(){}function q(){}function Q(){}function K(){}function W(){}function J(){}function Z(){}function X(){}function nn(){}function en(){}function tn(){}function rn(){}function an(){}function cn(){}function un(){}function fn(){}function on(){}function sn(){}function ln(){}function hn(){}function bn(){}function wn(){}function dn(){}function gn(){}function vn(){}function kn(){}function pn(){}function mn(){}function jn(){}function yn(){}function Sn(){}function En(){}function Hn(){}function Cn(){}function In(){}function Ln(){}function Gn(){}function Nn(){}function On(){}function Tn(){}function Pn(){}function Rn(){}function Yn(){}function An(){}function _n(){}function Mn(){}function Dn(){}function Bn(){}function xn(){}function $n(){}function Un(){}function Fn(){}function Vn(){}function zn(){}function qn(){}function Qn(){}function Kn(){}function Wn(){}function Jn(){}function Zn(){}function Xn(){}function ne(){}function ee(){}function te(){}function re(){}function ie(){}function ae(){}function ce(){}function ue(){}function fe(){}function oe(){}function se(){}function le(){}function he(){}function be(){}function we(){}function de(){}function ge(){}function ve(){}function ke(){}function pe(n){}function me(n){}function je(n){}function ye(){fw()}function Se(){DY()}function Ee(){XC()}function He(){Sd()}function Ce(){Wv()}function Ie(){ma()}function Le(){ja()}function Ge(){Vc()}function Ne(){Jv()}function Oe(){iw()}function Te(){GG()}function Pe(){aw()}function Re(){cw()}function Ye(){vP()}function Ae(){cO()}function _e(){ph(this)}function Me(){me(this)}function De(){ps(this)}function Be(){je(this)}function xe(n){this.a=n}function $e(n){this.a=n}function Ue(n){this.a=n}function Fe(n){this.a=n}function Ve(n){this.a=n}function ze(n){this.a=n}function qe(n){this.a=n}function Qe(n){this.a=n}function Ke(n){this.a=n}function We(n){this.b=n}function Je(n){this.a=n}function Ze(n){this.a=n}function Xe(n){this.a=n}function nt(n){this.a=n}function et(n){this.a=n}function tt(n){this.a=n}function rt(n){this.a=n}function it(n){this.a=n}function at(n){this.a=n}function ct(n){this.a=n}function ut(n){this.a=n}function ft(n){this.a=n}function ot(n){this.a=n}function st(n){this.a=n}function lt(n){this.a=n}function ht(n){this.e=n}function bt(n){this.a=n}function wt(n){this.a=n}function dt(n){this.a=n}function gt(n){this.a=n}function vt(n){this.a=n}function kt(n){this.a=n}function pt(n){this.a=n}function mt(n){this.a=n}function jt(n){this.a=n}function yt(n){this.a=n}function St(n){this.a=n}function Et(n){this.a=n}function Ht(n){this.a=n}function Ct(n){this.a=n}function It(n){this.a=n}function Lt(n){this.a=n}function Gt(n){this.a=n}function Nt(n){this.a=n}function Ot(n){this.a=n}function Tt(n){this.a=n}function Pt(n){this.a=n}function Rt(n){this.c=n}function Yt(n){this.a=n}function At(n){this.a=n}function _t(n){this.a=n}function Mt(n){this.a=n}function Dt(n){this.a=n}function Bt(n){this.a=n}function xt(n){this.a=n}function $t(n){this.a=n}function Ut(n){this.a=n}function Ft(n){this.a=n}function Vt(n){this.d=n}function zt(n){this.a=n}function qt(n){this.a=n}function Qt(n){this.a=n}function Kt(n){this.a=n}function Wt(n){this.b=n}function Jt(n){this.a=n}function Zt(n){this.a=n}function Xt(n){this.c=n}function nr(n){this.a=n}function er(n){this.a=n}function tr(n){this.a=n}function rr(n){this.b=n}function ir(n){this.b=n}function ar(n){this.c=n}function cr(n){this.a=n}function ur(n){this.a=n}function fr(n){this.a=n}function or(){this.a=[]}function sr(n){this.a=n}function lr(n){this.a=n}function hr(n){n.b=n.a}function br(n){n.c=n.d.d}function wr(n,e){n.g=e}function dr(n,e){n.k=e}function gr(n,e){n.a=e}function vr(n,e){n.b=e}function kr(n,e){n.e.k=e}function pr(n){return n.a}function mr(n){return n.a}function jr(n){return n.a}function yr(n){return n.a}function Sr(n){return n.a}function Er(){return null}function Hr(){return null}function Cr(){this.c=this}function Ir(){ph(this)}function Lr(){Dj(this)}function Gr(n){PT(this,n)}function Nr(n){ss();yM(n)}function Or(n){n.a=new Ga}function Tr(n,e){n.a=e-n.a}function Pr(n,e){n.b=e-n.b}function Rr(){Rr=r;new f}function Yr(){Yr=r;new x}function Ar(){throw new si}function _r(){throw new si}function Mr(){throw new si}function Dr(){throw new si}function Br(){throw new si}function xr(){throw new si}function $r(){throw new si}function Ur(){throw new si}function Fr(){throw new si}function Vr(){this.a=new De}function zr(){this.a=new De}function qr(){this.a=new De}function Qr(){this.a=new De}function Kr(){this.a=new De}function Wr(){this.a=new te}function Jr(){this.a=new zm}function Zr(){this.b=new De}function Xr(){Ga.call(this)}function ni(){Jf.call(this)}function ei(){Me.call(this)}function ti(){Me.call(this)}function ri(){De.call(this)}function ii(){_e.call(this)}function ai(){_e.call(this)}function ci(){_e.call(this)}function ui(){_e.call(this)}function fi(){_e.call(this)}function oi(){_e.call(this)}function si(){_e.call(this)}function li(){this.f=new De}function hi(){this.d=new De}function bi(){this.a=new va}function wi(){throw new si}function di(){throw new si}function gi(){throw new si}function vi(){throw new si}function ki(){throw new si}function pi(){this.a=new De}function mi(){mi=r;BU=new i}function ji(){ji=r;new ae}function yi(){yi=r;SF=new a}function Si(){Si=r;oq=new s}function Ei(){Ei=r;hq=new cv}function Hi(){Hi=r;Dq=new u}function Ci(){Ci=r;qq=new d}function Ii(){Ii=r;mZ=new C}function Li(){Li=r;yZ=new N}function Gi(n){NH(n);return n}function Ni(n){Jg();this.a=n}function Oi(n){Ob();this.a=n}function Ti(n){Ob();this.a=n}function Pi(n){Ob();this.a=n}function Ri(n,e){n.i=e;e.f=n}function Yi(n,e){sg(n.b,e)}function Ai(){_e.call(this)}function _i(){_e.call(this)}function Mi(){_e.call(this)}function Di(){zv.call(this)}function Bi(){zv.call(this)}function xi(){ci.call(this)}function $i(){ai.call(this)}function Ui(n){Wa.call(this,n)}function Fi(n){kh.call(this,n)}function Vi(n){kh.call(this,n)}function zi(n){Gl.call(this,n)}function qi(n){Nb.call(this,n)}function Qi(n){zk.call(this,n)}function Ki(n){Yu.call(this,n)}function Wi(n){Pu.call(this,n)}function Ji(n){Gl.call(this,n)}function Zi(n,e){n.a.W().nb(e)}function Xi(n,e){return n===e}function na(n){return!n?0:n.a}function ea(n){return!n?0:n.d}function ta(n){return!n?0:n.j}function ra(n){Ui.call(this,n)}function ia(n){Ui.call(this,n)}function aa(n){Ui.call(this,n)}function ca(n){aa.call(this,n)}function ua(){ut.call(this,{})}function fa(n){Gr.call(this,n)}function oa(n){Gr.call(this,n)}function sa(n,e,t){Ry(n,e.b,t)}function la(n,e,t){mk(n.c,e,t)}function ha(n,e,t){n.b.Fc(e,t)}function ba(n){Nt.call(this,n)}function wa(n){Nt.call(this,n)}function da(){this.a=(WC(),NQ)}function ga(){this.a=(WC(),NQ)}function va(){this.a=new Lr}function ka(){this.a=new Mf}function pa(){pa=r;fX=new O}function ma(){ma=r;RX=new B}function ja(){ja=r;l2=new kn}function ya(n){jd();return n}function Sa(n){gd(n);return n}function Ea(n){Wa.call(this,n)}function Ha(n){Ui.call(this,n)}function Ca(n){Ui.call(this,n)}function Ia(n){this.c=Uh(ld(n))}function La(){this.a=0;this.b=0}function Ga(){nl(this);Av(this)}function Na(){MU==null&&(MU=[])}function Oa(n){n.b=null;n.c=0}function Ta(n,e){n.b=e;return n}function Pa(n,e){n.c=e;return n}function Ra(n,e){n.f=e;return n}function Ya(n,e){n.g=e;return n}function Aa(n,e){n.a=e;return n}function _a(n,e){n.f=e;return n}function Ma(n,e){n.k=e;return n}function Da(n,e){return n.e-e.e}function Ba(n,e){return n.d-e.d}function xa(n){return n<0?-n:n}function $a(n){return isNaN(n)}function Ua(n){return new ct(n)}function Fa(n){return new hd(n)}function Va(n){Ui.call(this,n)}function za(n){Ui.call(this,n)}function qa(n){Ui.call(this,n)}function Qa(n){Ui.call(this,n)}function Ka(n){Ui.call(this,n)}function Wa(n){this.f=n;ph(this)}function Ja(){this.b=0;this.a=0}function Za(){Za=r;Math.log(2)}function Xa(){Xa=r;Ben=IO()}function nc(n,e,t){n.set(e,t)}function ec(n,e,t){n.set(e,t)}function tc(n,e){QH();xU.dc(n,e)}function rc(n,e){return ap(n,e)}function ic(n,e){return n.a.B(e)}function ac(n,e){return n.g[e.e]}function cc(n,e){return n.i[e.e]}function uc(n,e){return n.j[e.e]}function fc(n,e){return n.n[e.e]}function oc(n,e){return n.o[e.e]}function sc(n,e){return e in n.a}function lc(n,e){return n.b-e.b}function hc(n,e){return n.d-e.d}function bc(n,e){return n.i-e.i}function wc(n,e){return n>e?n:e}function dc(n,e){return n>e?n:e}function gc(n,e){return n>e?n:e}function vc(n,e){return n<e?n:e}function kc(n,e){return n<e?n:e}function pc(n,e){return n<e?n:e}function mc(n){return!!n&&n.b}function jc(n){Xw(n,n.length)}function yc(n){wg(n,n.length)}function Sc(n){dg(n,n.length)}function Ec(n){Ha.call(this,n)}function Hc(n){xt.call(this,n)}function Cc(n){At.call(this,n)}function Ic(n){Ca.call(this,n)}function Lc(n){rr.call(this,n)}function Gc(n){Lc.call(this,n)}function Nc(n){fh.call(this,n)}function Oc(){xt.call(this,"")}function Tc(){xt.call(this,"")}function Pc(n){eb(n);return n.n}function Rc(n){eb(n);return n.j}function Yc(n){return n.e&&n.e()}function Ac(n,e){return n.a.sb(e)}function _c(n,e){return n?n:ld(e)}function Mc(n,e){return MH(n.a,e)}function Dc(n,e){return Tw(n.a,e)}function Bc(n,e){return pC(n,e)<0}function xc(n){return ji(),""+n}function $c(n){return!n?null:n.d}function Uc(n){Ob();this.a=ld(n)}function Fc(){Pj();this.g=new Vf}function Vc(){Vc=r;p2=(kL(),FJ)}function zc(){Aq!=0&&(Aq=0);Mq=-1}function qc(n){zP(n,n.d);return n}function Qc(n,e){n.a.d=e;return n}function Kc(n,e){n.a.a=e;return n}function Wc(n,e){n.a.c=e;return n}function Jc(n,e){n.a.f=e;return n}function Zc(n,e){n.a.f=e;return n}function Xc(n,e){n.a.b=e;return n}function nu(n,e,t){n.splice(e,t)}function eu(n,e){return VE(e,n)}function tu(n,e){return n.b.t(e)}function ru(n,e){return n.c.t(e)}function iu(n,e){return n.a.R(e)}function au(n,e){return n.get(e)}function cu(n,e){return n.get(e)}function uu(n,e){return n.test(e)}function fu(n){return n<=0?0-n:n}function ou(n){return ji(),""+n}function su(n){return ji(),""+n}function lu(n){this.a=new _f(n)}function hu(n){this.a=new ep(n)}function bu(n){this.a=ww(ld(n),19)}function wu(n){this.b=ww(ld(n),57)}function du(n){this.d=ww(ld(n),56)}function gu(n,e){this.d=n;this.e=e}function vu(n,e){this.b=n;this.a=e}function ku(n,e){this.b=n;this.a=e}function pu(n,e){this.b=n;this.c=e}function mu(n,e){this.a=n;this.b=e}function ju(n,e){this.a=n;this.b=e}function yu(n,e){this.a=n;this.f=e}function Su(n,e){gu.call(this,n,e)}function Eu(n,e){gu.call(this,n,e)}function Hu(n,e){gu.call(this,n,e)}function Cu(n,e){this.b=n;this.c=e}function Iu(n,e){this.e=n;this.c=e}function Lu(n,e){this.a=n;this.b=e}function Gu(n,e){this.a=n;this.b=e}function Nu(n,e){gu.call(this,n,e)}function Ou(n,e){this.a=n;this.b=e}function Tu(n){this.a=ww(ld(n),20)}function Pu(n){this.a=ww(ld(n),20)}function Ru(n){this.a=ww(ld(n),57)}function Yu(n){this.b=ww(ld(n),35)}function Au(n,e){this.a=n;this.b=e}function _u(n,e){this.a=n;this.b=e}function Mu(n,e){gu.call(this,n,e)}function Du(n,e){return Hy(n.b,e)}function Bu(n){return ug(),n?Fq:Uq}function xu(n){return n==LQ||n==GQ}function $u(n){return n==OQ||n==IQ}function Uu(n,e){xm(n,e,n.a,n.a.a)}function Fu(n,e){xm(n,e,n.c.b,n.c)}function Vu(n,e){gu.call(this,n,e)}function zu(n,e){gu.call(this,n,e)}function qu(n,e){gu.call(this,n,e)}function Qu(n,e){gu.call(this,n,e)}function Ku(n,e){gu.call(this,n,e)}function Wu(n,e){gu.call(this,n,e)}function Ju(n,e){gu.call(this,n,e)}function Zu(n,e){gu.call(this,n,e)}function Xu(n,e){gu.call(this,n,e)}function nf(n,e){gu.call(this,n,e)}function ef(n,e){gu.call(this,n,e)}function tf(n,e){gu.call(this,n,e)}function rf(n,e){gu.call(this,n,e)}function af(n,e){gu.call(this,n,e)}function cf(n,e){this.b=n;this.a=e}function uf(n,e){this.c=n;this.d=e}function ff(n,e){this.a=n;this.c=e}function of(n,e){this.e=n;this.c=e}function sf(n,e){this.e=n;this.d=e}function lf(n,e){gu.call(this,n,e)}function hf(n,e){gu.call(this,n,e)}function bf(n,e){this.a=n;this.b=e}function wf(n,e){this.a=n;this.b=e}function df(n,e){gu.call(this,n,e)}function gf(n,e){gu.call(this,n,e)}function vf(n,e){gu.call(this,n,e)}function kf(n,e){gu.call(this,n,e)}function pf(n,e){gu.call(this,n,e)}function mf(n,e){gu.call(this,n,e)}function jf(n,e){gu.call(this,n,e)}function yf(n,e){gu.call(this,n,e)}function Sf(n,e){return ah(n.c,e)}function Ef(n){return n.b<n.d.Y()}function Hf(n){return n.d.c+n.e.c}function Cf(n,e){return n.c.ab(e)}function If(n,e){return n.b.kb(e)}function Lf(n,e){return n.b.lb(e)}function Gf(n,e){return n.b.pb(e)}function Nf(n,e){return n.b.kb(e)}function Of(n,e){return n.b.lb(e)}function Tf(n){return n==JZ||n==nX}function Pf(n){return n==JZ||n==ZZ}function Rf(n){return n!=yW&&n!=SW}function Yf(n){return MI(n),n.d.Y()}function Af(n){this.c=n;oS(this)}function _f(n){fC.call(this,n,0)}function Mf(){ep.call(this,null)}function Df(){Vi.call(this,new Lr)}function Bf(){Hu.call(this,"KEY",0)}function xf(n){Zg();Nb.call(this,n)}function $f(e){n.clearTimeout(e)}function Uf(n){return n.Vb(n.b.H())}function Ff(n){this.a=ww(ld(n),144)}function Vf(){this.b=(Ll(),new Lr)}function zf(){zf=r;Hen=new ge}function qf(){qf=r;uen=new he}function Qf(){Qf=r;len=new de}function Kf(){Kf=r;NF=new Ia(",")}function Wf(){Wf=r;Math.pow(2,-65)}function Jf(){Ev.call(this,0,0,0,0)}function Zf(n,e){gu.call(this,n,e)}function Xf(n,e){gu.call(this,n,e)}function no(n,e){gu.call(this,n,e)}function eo(n,e){gu.call(this,n,e)}function to(n){Zs();Bw.call(this,n)}function ro(n,e){gu.call(this,n,e)}function io(n,e){this.c=n;this.b=e}function ao(n,e){this.a=n;this.b=e}function co(n,e){this.b=n;this.d=e}function uo(n,e){gu.call(this,n,e)}function fo(n,e){gu.call(this,n,e)}function oo(n,e){gu.call(this,n,e)}function so(n,e){gu.call(this,n,e)}function lo(n,e){gu.call(this,n,e)}function ho(n,e){gu.call(this,n,e)}function bo(n,e){gu.call(this,n,e)}function wo(n,e){gu.call(this,n,e)}function go(n,e){gu.call(this,n,e)}function vo(n,e){gu.call(this,n,e)}function ko(n,e){gu.call(this,n,e)}function po(n,e){gu.call(this,n,e)}function mo(n,e,t){n.splice(e,0,t)}function jo(n,e,t){n.g[e.e][e.e]=t}function yo(n,e){n.a=e;n.g=0;n.f=0}function So(n){n.a=0;n.b=0;return n}function Eo(n){return Oy(n.b.c,n,0)}function Ho(n){return Math.ceil(n)}function Co(n){return Math.sqrt(n)}function Io(n,e){return cu(n.a,e)}function Lo(n,e){return!!gC(n,e)}function Go(n,e){Ad(n,n.length,e)}function No(n,e){gu.call(this,n,e)}function Oo(n,e){this.b=n;this.a=e}function To(n,e){this.d=n;this.e=e}function Po(){uw();this.c=new va}function Ro(){eN();this.a=new va}function Yo(){Xa();return new Ben}function Ao(n){if(!n){throw new ai}}function _o(n){if(!n){throw new fi}}function Mo(n){if(!n){throw new Mi}}function Do(){this.b=(Ll(),new Lr)}function Bo(){this.b=(Ll(),new Lr)}function xo(n){this.a=n.a;this.b=n.b}function $o(n){return n==null?null:n}function Uo(n){return!n?null:n.zb()}function Fo(n,e){return n.Nb().sb(e)}function Vo(n,e){return n.a.a.a.U(e)}function zo(n,e){return fH(n.mb(),e)}function qo(n,e){return zH(e.b,n.b)}function Qo(n,e){return zH(e.k,n.k)}function Ko(n){return Math.floor(n)}function Wo(n,e){return n.a+=""+e,n}function Jo(n,e){n.a+=""+e;return n}function Zo(n,e){n.a+=""+e;return n}function Xo(n){Gs(n==null);return n}function ns(n){n.d&&$T(n);return n.a}function es(n){n.d&&$T(n);return n.b}function ts(n){n.d&&$T(n);return n.c}function rs(n,e){nw(n.a,e);return e}function is(n){Dj(this);CE(this,n)}function as(n){this.c=n;this.e=false}function cs(){Eu.call(this,"OPEN",0)}function us(){Nu.call(this,"SIZE",0)}function fs(){At.call(this,"UTF-8")}function os(){os=r;ptn={};jtn={}}function ss(){ss=r;xJ=new ew(t$,0)}function ls(n){ld(n);return new Ss(n)}function hs(n){ji();return n.length}function bs(n,e){return _m(n.a,e.a)}function ws(n,e){return xs(n.a,e.a)}function ds(n,e){return n==e?0:n?1:-1}function gs(n){return ea(n.e)-ea(n.g)}function vs(n){return new Au(n.a,n.b)}function ks(n){return new Au(n.d,n.e)}function ps(n){n.c=Vj(WU,WB,1,0,4,1)}function ms(){Hu.call(this,"VALUE",1)}function js(n){vh.call(this);this.a=n}function ys(n){this.a=new AY;this.b=n}function Ss(n){this.a=n;Cr.call(this)}function Es(n){this.a=n;Cr.call(this)}function Hs(){nI();this.d=(UE(),snn)}function Cs(n){if(!n){throw new ui}}function Is(n){if(!n){throw new fi}}function Ls(n){if(!n){throw new ai}}function Gs(n){if(!n){throw new ii}}function Ns(n){if(!n){throw new Mi}}function Os(){sr.call(this,new gj)}function Ts(){Eu.call(this,"CLOSED",1)}function Ps(n){zk.call(this,new Qi(n))}function Rs(n,e){++n.d;return gy(n,e)}function Ys(n,e){return Pw(n.a,0,e)}function As(n,e){return zH(n.a,e.a)}function _s(n){return ng(n.b.mb(),n.a)}function Ms(n){return Ub(n.a.mb(),n.b)}function Ds(n,e){return e==n.c?n.d:n.c}function Bs(n,e){return n<e?-1:n>e?1:0}function xs(n,e){return n<e?-1:n>e?1:0}function $s(n){return n!=null?LI(n):0}function Us(n){this.a=Yo();this.b=n}function Fs(n){this.a=Yo();this.b=n}function Vs(n){this.a=n;Hw.call(this,n)}function zs(){el();this.b=new It(this)}function qs(){qs=r;PV=_l(new Ia(", "))}function Qs(){Qs=r;GV=new cs;LV=new Ts}function Ks(){Ks=r;bz=new b;wz=new w}function Ws(){Ws=r;Vz=new Bf;zz=new ms}function Js(){Js=r;Iq=new us;Cq=new Cl}function Zs(){Zs=r;oQ=new v;sQ=new k}function Xs(n){n.g=new De;n.b=new De}function nl(n){n.a=new ve;n.c=new ve}function el(){el=r;G3=new Kn;L3=new Cw}function tl(){Su.call(this,"IS_NULL",2)}function rl(){No.call(this,"Head",1)}function il(){No.call(this,"Tail",3)}function al(n,e){rE.call(this,n,e,null)}function cl(n,e){QG(n,0,n.length,e)}function ul(n,e){nw(e.a,n.a);return n.a}function fl(n,e){n.a*=e;n.b*=e;return n}function ol(n,e){Jg();this.a=n;this.b=e}function sl(n,e){return n.a[e.d.k][e.k]}function ll(n,e){return n.a[e.d.k][e.k]}function hl(n,e){return Lv(n.b,e.mc())}function bl(n,e){return $c(GC(n.a,e))}function wl(n,e){return $c(NC(n.a,e))}function dl(n,e){return ww(LO(n.a,e),20)}function gl(n,e){return n!=null&&xG(n,e)}function vl(n){return n.a<n.c.c.length}function kl(n){return n.a<n.c.a.length}function pl(n,e){return zH(n.i.a,e.i.a)}function ml(n,e){return n.i.b=(gd(e),e)}function jl(n,e){return n.i.b=(gd(e),e)}function yl(n,e){return n.a.eb(e)!=null}function Sl(n,e,t){return n.g[e.e][t.e]}function El(n){jd();return ji(),""+n}function Hl(){No.call(this,"Range",2)}function Cl(){Nu.call(this,"DISTINCT",1)}function Il(){Su.call(this,"NOT_NULL",3)}function Ll(){Ll=r;Uz=new wh((qs(),PV))}function Gl(n){this.d=(qv(),new ar(n))}function Nl(n,e){return sI(n,new Oc,e).a}function Ol(n,e){return e==null?n.b:Eg(e)}function Tl(n){return n==null?null:n.name}function Pl(n){return typeof n==="number"}function Rl(n){return typeof n==="string"}function Yl(n,e){return new Ng(n,n.Y(),e)}function Al(n,e){return new JT(n.a,n.b,e)}function _l(n){ld(CB);return new Sw(n,n)}function Ml(n){hS(n,Hx);return new Fy(n)}function Dl(n,e){this.a=e;Yu.call(this,n)}function Bl(n,e){this.a=e;Yu.call(this,n)}function xl(n,e){this.a=n;wu.call(this,e)}function $l(n){this.c=n;this.a=CT(this.c)}function Ul(n){var e;e=n.a;n.a=n.b;n.b=e}function Fl(n,e){n.e.j.a=e.a;n.e.j.b=e.b}function Vl(n,e,t){n.a=e^1502;n.b=t^OU}function zl(n,e,t){n.a+=e;n.b+=t;return n}function ql(n,e,t){n.a-=e;n.b-=t;return n}function Ql(n){n.a=-n.a;n.b=-n.b;return n}function Kl(n){Ns(n.b!=0);return n.a.a.c}function Wl(n){Ns(n.b!=0);return n.c.b.c}function Jl(n,e){if(n.a){ed(e);np(e)}}function Zl(n,e,t){var r;r=n.ub(e);r.J(t)}function Xl(n,e){return Bs(e.Yb(),n.Yb())}function nh(n){return ww(Uw(n.a,n.b),128)}function eh(n){return lg(n.c,n.c.length)}function th(n){return n.l+n.m*Rx+n.h*Yx}function rh(n){return n==kW||n==mW||n==pW}function ih(n){return typeof n==="number"}function ah(n,e){return!!e&&n.b[e.e]==e}function ch(n,e){var t;t=n[CU];e[CU]=t}function uh(n,e){aa.call(this,n);this.b=e}function fh(n){rr.call(this,n);this.a=n}function oh(n){ir.call(this,n);this.a=n}function sh(n){Lc.call(this,n);this.a=n}function lh(n){sr.call(this,new Sy(n))}function hh(n){this.a=n;Wt.call(this,n)}function bh(n){this.c=n;this.a=1;this.b=1}function wh(n){this.a=n;this.b=Uh(ld("="))}function dh(){this.a=new Ga;this.e=new Ga}function gh(){this.a=new zr;this.c=new M}function vh(){this.i=new La;this.j=new La}function kh(n){Ao(n.d.c+n.e.c==0);this.b=n}function ph(n){n.g=null;tc(n,n.f);return n}function mh(n){Ks();ld(n);return new Gb(n)}function jh(n){QH();return parseInt(n)||-1}function yh(n,e){return bv(n.a,e)!=null}function Sh(n,e){return!qE(n,e)&&!QE(n,e)}function Eh(n){return n.$H||(n.$H=++ktn)}function Hh(n){return n.d!=null?n.d:""+n.e}function Ch(n){return n.d!=null?n.d:""+n.e}function Ih(n){return n.b=ww(_v(n.a),21)}function Lh(n){return typeof n==="boolean"}function Gh(n){n.b=new Oh(n);n.c=new Lr}function Nh(){this.a=new De;this.d=new De}function Oh(n){Yw.call(this,n,null,null)}function Th(n,e,t,r){tg.call(this,n,e,t,r)}function Ph(n,e,t,r){_p.call(this,n,e,t,r)}function Rh(n,e,t,r){_p.call(this,n,e,t,r)}function Yh(n,e,t){qj.call(this,n,e,t,null)}function Ah(n,e,t){qj.call(this,n,e,t,null)}function _h(n,e,t){n.i=e;e.f=n;e.i=t;t.f=e}function Mh(n,e){Or(this);this.e=n;this.f=e}function Dh(n,e){this.d=n;br(this);this.b=e}function Bh(n){nl(this);Av(this);wE(this,n)}function xh(n){Gs(n==null||Lh(n));return n}function $h(n){Gs(n==null||Pl(n));return n}function Uh(n){Gs(n==null||Rl(n));return n}function Fh(n,e){n.a+=e.a;n.b+=e.b;return n}function Vh(n,e){n.a-=e.a;n.b-=e.b;return n}function zh(n,e){return n.i.a=(gd(e),e)+10}function qh(n,e){return n.i.a=(gd(e),e)+10}function Qh(n,e){return ww(Vg(n.k,e),24).a}function Kh(n,e){return LG(n,e),new Mp(n,e)}function Wh(n,e){return ww(n.b.sb(e),92).a}function Jh(n){return ww(n,7).b.c.length!=0}function Zh(n){return ww(n,7).e.c.length!=0}function Xh(n){return!n.d?-1:Oy(n.d.a,n,0)}function nb(n){return n==null?null:n.message}function eb(n){if(n.n!=null){return}kR(n)}function tb(n,e,t,r){uj(n,e,t,r);return n}function rb(n,e){ji();return n.indexOf(e)}function ib(n,e){if(!e){throw new oi}n.g=e}function ab(n){if(n.e.c!=n.b){throw new Ai}}function cb(n){if(n.f.c!=n.b){throw new Ai}}function ub(n,e){ld(n);ld(e);return VE(n,e)}function fb(n,e){this.a=n;this.c=e;this.b=2}function ob(){Or(this);this.e=-1;this.f=true}function sb(){Fi.call(this,new Lr);this.a=3}function lb(n){_p.call(this,n.d,n.b,n.a,n.c)}function hb(n){_p.call(this,n.d,n.b,n.a,n.c)}function bb(n){sL.call(this,n);this.c=new De}function wb(){Su.call(this,"ALWAYS_TRUE",0)}function db(){Su.call(this,"ALWAYS_FALSE",1)}function gb(n){DD();this.a=new sb;YE(this,n)}function vb(n){!n.e&&(n.e=new De);return n.e}function kb(n){var e;e=new re;e.e=n;return e}function pb(n){var e;e=n[CU]|0;n[CU]=e+1}function mb(n,e){n.a.rb(n.b,e);++n.b;n.c=-1}function jb(n,e){Is(n.c!=-1);n.a.wb(n.c,e)}function yb(n,e){jd();return n==e?0:n?1:-1}function Sb(n,e,t){return n.g[e.e][t.e]*n.d}function Eb(n,e,t){return n.apply(e,t);var r}function Hb(n,e,t){return Pd(n,ww(e,17),t)}function Cb(n,e){return e==(SD(),JW)?n.c:n.d}function Ib(n,e){return e!=null&&n.Nb().kb(e)}function Lb(n,e){this.e=e;this.f=n;ph(this)}function Gb(n){this.b=n;this.a=(Ks(),Ks(),wz)}function Nb(n){Ob();this.a=(qv(),new Lc(n))}function Ob(){Ob=r;new Oi((qv(),qv(),ten))}function Tb(){Tb=r;k4=Fw(new xI,(dB(),n2))}function Pb(n){SH.call(this,n,(qy(),otn))}function Rb(n){ps(this);Rw(this.c,0,n.ob())}function Yb(n,e,t){this.b=n;this.a=e;this.c=t}function Ab(n,e,t){uf.call(this,n,e);this.b=t}function _b(n,e,t){this.b=n;this.a=e;this.c=t}function Mb(n,e){var t;t=n.e;n.e=e;return t}function Db(n){Dj(n.c);n.b.b=n.b;n.b.a=n.b}function Bb(n){n.b?Bb(n.b):mv(n.f.b,n.e,n.d)}function xb(n){Ns(n.b!=0);return RS(n,n.a.a)}function $b(n){Ns(n.b!=0);return RS(n,n.c.b)}function Ub(n,e){Ks();ld(e);return new Dl(n,e)}function Fb(n,e){Ll();return new Bl(n.mb(),e)}function Vb(n,e){ji();return n.charCodeAt(e)}function zb(n,e,t){ji();return n.substr(e,t)}function qb(n){ji();return n==null?CB:JG(n)}function Qb(n,e,t){return Sl(n,e.g,t.g)*n.d}function Kb(n,e,t){return{l:n,m:e,h:t}}function Wb(n,e){return PL(n,new uf(e.a,e.b))}function Jb(n,e,t,r,i){n.d=e;n.e=t;n.c=r;n.b=i}function Zb(n,e,t,r,i){n.b=e;n.c=t;n.d=r;n.a=i}function Xb(n,e){xm(n,e,n.c.b,n.c);return true}function nw(n,e){n.c[n.c.length]=e;return true}function ew(n,e){Zs();Bw.call(this,n);this.a=e}function tw(){Tb();this.e=new Ga;this.d=new Ga}function rw(){rw=r;Rnn=new se;Ynn=new se}function iw(){iw=r;o5=Kw(new xI,(dB(),C0))}function aw(){aw=r;g5=Kw(new xI,(dB(),C0))}function cw(){cw=r;H5=Kw(new xI,(dB(),C0))}function uw(){uw=r;M5=Kw(new xI,(dB(),C0))}function fw(){fw=r;Error.stackTraceLimit=64}function ow(){Zb(this,false,false,false,false)}function sw(n){var e;e=new De;YS(e,n);return e}function lw(n){var e;e=new Ga;mH(e,n);return e}function hw(n){var e;e=new xI;AE(e,n);return e}function bw(n){var e;e=new fe;e.a=n;return e}function ww(n,e){Gs(n==null||xG(n,e));return n}function dw(n,e){if(n<0||n>=e){throw new xi}}function gw(n,e){ld(n);ld(e);return new Aw(n,e)}function vw(n,e){ld(n);ld(e);return new _w(n,e)}function kw(n,e){ji();return n.lastIndexOf(e)}function pw(n,e,t){return n<e?t<=n:n<=t||n==e}function mw(n,e,t){this.d=n;this.b=t;this.a=e}function jw(n,e,t){this.a=n;this.b=e;this.c=t}function yw(n,e,t){this.a=n;this.b=e;this.c=t}function Sw(n,e){this.a=n;this.b=CB;this.c=e.c}function Ew(n){this.c=n.c;this.a=n.e;this.b=n.b}function Hw(n){this.d=n;br(this);this.b=Vd(n.d)}function Cw(){Iw.call(this);this.a=new Lt(this)}function Iw(){this.c=new p;this.d=new Bv(this)}function Lw(n){var e;e=new va;YS(e,n);return e}function Gw(n){rv(n.a);wy(n.c,n.b);n.b=null}function Nw(n){return n.c-ww(Uw(n.a,n.b),128).b}function Ow(n,e){return n.c<e.c?-1:n.c==e.c?0:1}function Tw(n,e){return xu(n.b.d)?e.xc():e.wc()}function Pw(n,e,t){return ji(),n.substr(e,t-e)}function Rw(n,e,t){RN(t,0,n,e,t.length,false)}function Yw(n,e,t){this.c=n;To.call(this,e,t)}function Aw(n,e){this.b=n;this.a=e;Cr.call(this)}function _w(n,e){this.a=n;this.b=e;Cr.call(this)}function Mw(n,e){this.b=n;this.a=e;hS(e,"count")}function Dw(n){this.b=n;this.a=xd(this.b.a).Kb()}function Bw(n){Zs();this.c=oQ;this.d=sQ;this.b=n}function xw(n,e,t){io.call(this,n,e);this.a=t}function $w(n,e,t){io.call(this,n,e);this.a=t}function Uw(n,e){$j(e,n.c.length);return n.c[e]}function Fw(n,e){ww(Uw(n.a,5),18).ib(e);return n}function Vw(n,e){ww(Uw(n.a,0),18).ib(e);return n}function zw(n,e){ww(Uw(n.a,1),18).ib(e);return n}function qw(n,e){ww(Uw(n.a,2),18).ib(e);return n}function Qw(n,e){ww(Uw(n.a,3),18).ib(e);return n}function Kw(n,e){ww(Uw(n.a,4),18).ib(e);return n}function Ww(n){fD(n,(WC(),LQ));n.e=true;return n}function Jw(n){QH();var e;e=xU.ec(n);return BG(e)}function Zw(n,e){var t;t=Gg(n,e);t.g=2;return t}function Xw(n,e){var t;for(t=0;t<e;++t){n[t]=0}}function nd(n,e){n.b=e.b;n.c=e.c;n.d=e.d;n.a=e.a}function ed(n){n.a.b=n.b;n.b.a=n.a;n.a=n.b=null}function td(n){return n.b.c.length+n.e.c.length}function rd(n){return Array.isArray(n)&&n.ad===t}function id(n,e){return Ks(),eC(new Xt(n),e)!=-1}function ad(n,e,t,r,i,a){return bO(n,e,t,r,i,0,a)}function cd(n,e,t){Zs();Bp.call(this,n.b,e,t,n.d)}function ud(n,e){Zs();Bp.call(this,n.b,e,n.c,n.d)}function fd(n,e,t){xj(e,n.c.length);mo(n.c,e,t)}function od(n,e){$j(e,n.a.length);return n.a[e]}function sd(n){n.sort(function(n,e){return n-e})}function ld(n){if(n==null){throw new oi}return n}function hd(n){if(n==null){throw new oi}this.a=n}function bd(n,e,t){if(n.a!=e){throw new Ai}n.a=t}function wd(n,e){if(!n){throw new Ca((ji(),e))}}function dd(n,e){if(!n){throw new Va((ji(),e))}}function gd(n){if(n==null){throw new oi}return n}function vd(n){sr.call(this,new gj);wE(this,n)}function kd(n){this.a=new _f(n.Y());wE(this,n)}function pd(n){this.c=n;this.a=new Af(this.c.a)}function md(n){Jg();this.a=(qv(),new tr(ld(n)))}function jd(){jd=r;jnn=(jd(),false);ynn=true}function yd(){yd=r;Inn=Vj(hF,SB,24,256,0,1)}function Sd(){Sd=r;m4=Fw(Vw(new xI,(dB(),N0)),n2)}function Ed(){Ed=r;RZ=new j;AZ=new Iw;YZ=new y}function Hd(n){return n!=null&&jg(n)&&!(n.ad===t)}function Cd(n){return!Array.isArray(n)&&n.ad===t}function Id(n,e){return Rl(e)?Mv(n,e):AP(n.d,e)}function Ld(n,e){return gl(e,17)&&ah(n,ww(e,17))}function Gd(n,e){return gl(e,17)&&MS(n,ww(e,17))}function Nd(n,e){return!(cu(n.a,e)===undefined)}function Od(n,e){var t;t=XI(n);kH(t,e);return t}function Td(n,e){!n&&(n=[]);n[n.length]=e;return n}function Pd(n,e,t){mE(n.a,e);return bg(n,e.e,t)}function Rd(n,e,t){ji();return n.lastIndexOf(e,t)}function Yd(n,e,t){if(!n){throw new Ca(zY(e,t))}}function Ad(n,e,t){var r;for(r=0;r<e;++r){n[r]=t}}function _d(n,e){var t;t=n.a.Y();Rm(e,t);return t-e}function Md(n){var e;e=n.i;return!e?n.i=n.T():e}function Dd(n){var e;e=n.c;return!e?n.c=n.gb():e}function Bd(n){var e;e=n.c;return!e?n.c=n.Jb():e}function xd(n){if(n.e){return n.e}return n.e=n.Ob()}function $d(n){if(n.f){return n.f}return n.f=n.Pb()}function Ud(n,e){return Kb(n.l&e.l,n.m&e.m,n.h&e.h)}function Fd(n,e){return zH((gd(n),n),(gd(e),e))}function Vd(n){return gl(n,20)?ww(n,20).tb():n.mb()}function zd(n){Ks();ld(n);while(n.G()){n.H();n.I()}}function qd(n){var e;e=n;while(e.g){e=e.g}return e}function Qd(n){n.b.i.a+=n.a.f*(n.a.a-1);return null}function Kd(n){Is(n.b!=-1);n.c.vb(n.a=n.b);n.b=-1}function Wd(n){Ns(n.b>0);return n.a.sb(n.c=--n.b)}function Jd(n){n.b?Jd(n.b):n.d.V()&&Id(n.f.b,n.e)}function Zd(n){MI(n.d);if(n.d.d!=n.c){throw new Ai}}function Xd(n,e){if(e[CU]!=n[CU]){throw new Ai}}function ng(n,e){Ks();ld(n);ld(e);return new ku(n,e)}function eg(n,e){Jg();Lu.call(this,n,qH(new nr(e)))}function tg(n,e,t,r){this.a=n;qj.call(this,n,e,t,r)}function rg(n){this.a=Math.cos(n);this.b=Math.sin(n)}function ig(n,e,t){aa.call(this,n);this.b=e;this.a=t}function ag(n){this.b=new De;this.a=new De;this.c=n}function cg(n){this.c=new La;this.a=new De;this.b=n}function ug(){ug=r;Uq=new at(false);Fq=new at(true)}function fg(n,e){++n.d;return n.c[n.c.length]=e,true}function og(n,e){xm(n.d,e,n.b.b,n.b);++n.a;n.c=null}function sg(n,e){var t;t=n.a.db(e,n);return t==null}function lg(n,e){var t;t=n.slice(0,e);return vy(t,n)}function hg(n,e){var t;t=new Array(e);return vy(t,n)}function bg(n,e,t){var r;r=n.b[e];n.b[e]=t;return r}function wg(n,e){var t;for(t=0;t<e;++t){n[t]=null}}function dg(n,e){var t;for(t=0;t<e;++t){n[t]=false}}function gg(n,e){return jd(),ww(e.b,24).a<n?ynn:jnn}function vg(n,e){return jd(),ww(e.a,24).a<n?ynn:jnn}function kg(n,e){return ww(Bd(xd(n.a)).sb(e),21).yb()}function pg(n){return Ll(),Ub(Ak(n.a).mb(),(Ws(),Vz))}function mg(n){return Ks(),new Ps(Ms(vw(n.a,new h)))}function jg(n){return typeof n===yB||typeof n===GB}function yg(e){n.setTimeout(function(){throw e},0)}function Sg(n,e){return n>0?new Mh(n-1,e):new Mh(n,e)}function Eg(n){ld(n);return gl(n,345)?ww(n,345):JG(n)}function Hg(n,e){return rC(n.a,e,(jd(),jnn))==null}function Cg(n,e){var t;t=n.a.Y();Kk(e,t);return t-1-e}function Ig(n,e,t){var r;r=gS(n,e);Fm(n,e,t);return r}function Lg(n,e,t){var r;r=Gg(n,e);$S(t,r);return r}function Gg(n,e){var t;t=new sC;t.i=n;t.d=e;return t}function Ng(n,e,t){this.a=n;Rm(t,e);this.c=e;this.b=t}function Og(n,e,t){Cs(t==null||eR(n,t));return n[e]=t}function Tg(n){n.a=null;n.e=null;Dj(n.b);n.d=0;++n.c}function Pg(n){Ca.call(this,(ji(),n==null?CB:n))}function Rg(n){Ca.call(this,(ji(),n==null?CB:n))}function Yg(n){var e;return e=n.f,!e?n.f=new Ff(n):e}function Ag(n){var e;return e=n.k,!e?n.k=new Ve(n):e}function _g(n){var e;e=n.e;return!e?n.e=new Ru(n):e}function Mg(n){var e;e=n.e;!e&&(n.e=e=n.gb());return e}function Dg(n){var e,t;e=n.c.f.d;t=n.d.f.d;return e==t}function Bg(n,e){var t;t=new Vm(n);PS(t,e);return t}function xg(n,e){n.a+=String.fromCharCode(e);return n}function $g(n){if(!n.a&&!!n.d){return n.d.b}return n.a}function Ug(n){if(ih(n)){return n|0}return n.l|n.m<<22}function Fg(n){hS(n,Ex);return xy(qC(qC(5,n),n/10|0))}function Vg(n,e){return Rl(e)?xk(n,e):Uo(_k(n.d,e))}function zg(n){return gl(n,19)?ww(n,19).Y():hj(n.mb())}function qg(n){return n?new kd((qs(),n)):Lw(null.mb())}function Qg(n,e){return $o(n)===$o(e)||n!=null&&CC(n,e)}function Kg(n,e){return pa(),zH(Sa($h(n)),Sa($h(e)))}function Wg(n){return Ll(),Ub(n.a.bb().mb(),(Ws(),zz))}function Jg(){Jg=r;Ob();BV=new em((qv(),qv(),ten))}function Zg(){Zg=r;Ob();gq=new xf((qv(),qv(),ien))}function Xg(n,e){if(n==null){throw new Qa((ji(),e))}}function nv(n,e){cO();return(n-e<=0?0-(n-e):n-e)<.2}function ev(n,e){return n.i.b<e.i.b?-1:n.i.b==e.i.b?0:1}function tv(n,e,t,r){n.g[e.e][t.e]=r;n.g[t.e][e.e]=r}function rv(n){Is(n.c!=-1);n.d.vb(n.c);n.b=n.c;n.c=-1}function iv(n){this.c=n;this.b=n.a.b.a;ch(n.a.c,this)}function av(n){l_.call(this,new nr(n));this.a=new La}function cv(){zi.call(this,new Ji(new Lr));this.a=this}function uv(){Vy();this.b=(Ll(),new Lr);this.a=new Lr}function fv(){Ws();return UH(rc(qz,1),ZB,188,0,[Vz,zz])}function ov(){Qs();return UH(rc(NV,1),ZB,159,0,[GV,LV])}function sv(){Js();return UH(rc(Lq,1),ZB,205,0,[Iq,Cq])}function lv(n){dv(n.a);n.b=Vj(WU,WB,1,n.b.length,4,1)}function hv(n){!n.b&&(n.b=new Lc(n.c.W()));return n.b}function bv(n,e){var t;t=new ke;nD(n,e,t);return t.d}function wv(n,e){var t;t=Gg("",n);t.k=e;t.g=1;return t}function dv(n){var e;for(e=n.mb();e.G();){e.H();e.I()}}function gv(n,e){return gl(e,79)&&Xi(n.b,ww(e,79).mc())}function vv(){Gm();return UH(rc(k3,1),ZB,175,0,[g3,v3])}function kv(){Kv();return UH(rc(g4,1),ZB,193,0,[w4,d4])}function pv(){im();return UH(rc(F4,1),ZB,192,0,[U4,$4])}function mv(n,e,t){return Rl(e)?Ip(n,e,t):FT(n.d,e,t)}function jv(n,e,t){n.i=0;n.e=0;if(e==t){return}bH(n,e,t)}function yv(n,e,t){n.i=0;n.e=0;if(e==t){return}hH(n,e,t)}function Sv(n,e,t,r){this.d=n;this.b=e;this.a=t;this.c=r}function Ev(n,e,t,r){this.d=n;this.e=e;this.c=t;this.b=r}function Hv(n,e,t,r){this.a=n;this.c=e;this.b=t;this.d=r}function Cv(n,e,t,r){gu.call(this,n,e);this.a=t;this.b=r}function Iv(n,e){var t;t=au(n.a,e);return t==null?[]:t}function Lv(n,e){ji();if(n==e){return 0}return n<e?-1:1}function Gv(n,e){var t;t=pS(n.f,e);return Fh(Ql(t),n.f.d)}function Nv(n,e){return Ld(n.a,e)?n.b[ww(e,17).e]:null}function Ov(n,e){return $o(n)===$o(e)||n!=null&&CC(n,e)}function Tv(n,e){if(e==null){throw new oi}return aG(n,e)}function Pv(n){Gs(n==null||jg(n)&&!(n.ad===t));return n}function Rv(n){!n.a&&(n.a=new Gc(n.c.bb()));return n.a}function Yv(n){!n.d&&(n.d=new rr(n.c.fb()));return n.d}function Av(n){n.a.a=n.c;n.c.b=n.a;n.a.b=n.c.a=null;n.b=0}function _v(n){return Ns(n.b<n.d.Y()),n.d.sb(n.c=n.b++)}function Mv(n,e){return e==null?AP(n.d,null):OH(n.e,e)}function Dv(n,e){this.g=n;this.d=UH(rc(n1,1),v$,9,0,[e])}function Bv(n){this.c=n;this.b=new hu(ww(ld(new S),56))}function xv(){this.a=new Xr;this.b=(hS(3,Hx),new Fy(3))}function $v(n,e){this.a=n;Dh.call(this,n,ww(n.d,20).ub(e))}function Uv(n,e,t,r){this.a=n;this.c=e;this.b=t;this.d=r}function Fv(n,e,t){this.a=LB;this.d=n;this.b=e;this.c=t}function Vv(){je(this);this.d=0;this.b=0;this.a=0;this.c=0}function zv(){this.b=new va;this.d=new Ga;this.e=new pi}function qv(){qv=r;ten=new le;ren=new be;ien=new we}function Qv(){Qv=r;AF=new wb;YF=new db;_F=new tl;MF=new Il}function Kv(){Kv=r;w4=new mf("GREEDY",0);d4=new mf(rU,1)}function Wv(){Wv=r;hZ=new ud((mB(),CK),(jd(),jd(),ynn))}function Jv(){Jv=r;z4=Fw(Qw(qw(new xI,(dB(),F0)),T0),U0)}function Zv(n,e){var t;t=Zj(e);return ww(Vg(n.c,t),24).a}function Xv(n,e){var t;t=yl(n.a,e);t&&(e.f=null);return t}function nk(n){var e;e=n.b.ob();fj(e,e.length);return e}function ek(n){if(n<0){return-1}if(n>0){return 1}return 0}function tk(){kL();return UH(rc(qJ,1),ZB,171,0,[zJ,UJ,FJ])}function rk(){ZC();return UH(rc(rK,1),ZB,166,0,[eK,nK,tK])}function ik(){IS();return UH(rc(GW,1),ZB,149,0,[LW,IW,CW])}function ak(){Jm();return UH(rc(BJ,1),ZB,225,0,[MJ,_J,DJ])}function ck(){WH();return UH(rc(Q1,1),ZB,221,0,[z1,q1,V1])}function uk(){Qy();return UH(rc(I4,1),ZB,173,0,[C4,H4,E4])}function fk(n,e){return KE(Ud(ih(n)?sH(n):n,ih(e)?sH(e):e))}function ok(n){return n.b==0?null:(Ns(n.b!=0),RS(n,n.a.a))}function sk(n){n.d=n.d-15;n.b=n.b-15;n.c=n.c+15;n.a=n.a+15}function lk(n){this.b=n;this.c=n;n.e=null;n.c=null;this.a=1}function hk(n,e,t){this.d=n;this.b=new De;this.c=e;this.a=t}function bk(n,e){gr(this,new Au(n.a,n.b));vr(this,lw(e))}function wk(n,e){if(e===n){return true}MI(n);return n.d.t(e)}function dk(n){if(n==L6||n==H6){return true}return false}function gk(n){if(!vl(new Xt(oN(n.e)))){return}tB(n);cY(n)}function vk(n,e){var t;t=ww(By(n.e,e),116);!!t&&(n.d=true)}function kk(n,e){var t;t=n.b.pb(e);fj(t,n.b.Y());return t}function pk(n){var e;e=yR(n,(SD(),JW));e+=yR(n,OW);return e}function mk(n,e,t){gR(n,e,t,(SD(),OW),n.f);gR(n,e,t,JW,n.n)}function jk(n,e){!!n.f&&gy(n.f.f,n);n.f=e;!!n.f&&nw(n.f.f,n)}function yk(n,e){!!n.d&&gy(n.d.a,n);n.d=e;!!n.d&&nw(n.d.a,n)}function Sk(n,e){!!n.d&&gy(n.d.b,n);n.d=e;!!n.d&&nw(n.d.b,n)}function Ek(n,e){!!n.c&&gy(n.c.e,n);n.c=e;!!n.c&&nw(n.c.e,n)}function Hk(n){var e;e=lw(n.b);wE(e,n.c);wE(e,n.i);return e}function Ck(){if(mtn==256){ptn=jtn;jtn={};mtn=0}++mtn}function Ik(){Ik=r;G5=new no(qx,0);L5=new no(zx,1)}function Lk(){Lk=r;u7=new uo(zx,0);f7=new uo(qx,1)}function Gk(){Lk();return UH(rc(o7,1),ZB,223,0,[u7,f7])}function Nk(){am();return UH(rc(f5,1),ZB,242,0,[u5,c5])}function Ok(){Ik();return UH(rc(N5,1),ZB,248,0,[G5,L5])}function Tk(){rm();return UH(rc(P5,1),ZB,247,0,[O5,T5])}function Pk(){NS();return UH(rc($5,1),ZB,194,0,[B5,x5])}function Rk(){tm();return UH(rc(l9,1),ZB,174,0,[o9,s9])}function Yk(n){qv();return gl(n,63)?new Nc(n):new fh(n)}function Ak(n){var e;return e=n.g,ww(!e?n.g=new Je(n):e,20)}function _k(n,e){return wC(n,e,Iv(n,e==null?0:n.b.Vc(e)))}function Mk(n){var e;return e=mj(n),"n_"+(e==null?xc(n.k):e)}function Dk(n){return Pc(eS(n))+"@"+(LI(n)>>>0).toString(16)}function Bk(n,e){return yb(ya((gd(n),n)),ya((gd(e),e)))}function xk(n,e){return e==null?Uo(_k(n.d,null)):Io(n.e,e)}function $k(n,e,t){return new up(n.c,u_(n.b,Lp(n.d,e,t)),n.a)}function Uk(n){return Math.max(Math.min(n,NB),-2147483648)|0}function Fk(n){this.e=n;this.b=this.e.a.entries();this.a=[]}function Vk(n){this.c=n;this.b=new oC(new Ft(this.c.a).a)}function zk(n){this.b=(Ks(),Ks(),Ks(),bz);this.a=ww(ld(n),35)}function qk(n,e,t){Zs();ew.call(this,n,e);t!=null&&(this.c=t)}function Qk(n,e,t){if(n<0||e<n||e>t){throw new Ha(MT(n,e,t))}}function Kk(n,e){if(n<0||n>=e){throw new Ha(zT(n,e))}return n}function Wk(n,e){if(n==null){throw new Qa((ji(),e))}return n}function Jk(n){if(!AI(n)){throw new Mi}n.c=n.b;return n.b.H()}function Zk(n){function e(){}e.prototype=n||{};return new e}function Xk(n){var e;e=new lu(pH(n.length));kH(e,n);return e}function np(n){var e;e=n.c.b.b;n.b=e;n.a=n.c.b;e.a=n.c.b.b=n}function ep(n){this.b=null;!n&&(n=(zf(),zf(),Hen));this.a=n}function tp(n){this.b=n;this.a=new Dp(this.b,this.b.c.length)}function rp(n){Jg();ld(n);return n?mG(n):mG(sw(new Xt(null)))}function ip(n,e){var t=Rq[n.charCodeAt(0)];return t==null?n:t}function ap(n,e){var t=n.a=n.a||[];return t[e]||(t[e]=n.Oc(e))}function cp(n,e,t){var r;kN(e,t,n.c.length);r=t-e;nu(n.c,e,r)}function up(n,e,t){du.call(this,e.a);this.c=n;this.b=e;this.a=t}function fp(n){Mo(n.c);n.e=n.a=n.c;n.c=n.c.c;++n.d;return n.a.f}function op(n){Mo(n.e);n.c=n.a=n.e;n.e=n.e.e;--n.d;return n.a.f}function sp(n){return WE(UH(rc(iQ,1),o$,10,0,[n.f.i,n.i,n.a]))}function lp(){$E();return UH(rc(MQ,1),ZB,107,0,[_Q,RQ,YQ,AQ])}function hp(){JC();return UH(rc(FQ,1),ZB,122,0,[UQ,xQ,BQ,$Q])}function bp(){jO();return UH(rc(sJ,1),ZB,139,0,[fJ,oJ,uJ,cJ])}function wp(){vL();return UH(rc(iJ,1),ZB,150,0,[tJ,rJ,eJ,nJ])}function dp(){Qv();return UH(rc(DF,1),ZB,136,0,[AF,YF,_F,MF])}function gp(){xE();return UH(rc(eX,1),ZB,201,0,[JZ,nX,ZZ,XZ])}function vp(){SD();return UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW])}function kp(){WC();return UH(rc(TQ,1),ZB,59,0,[NQ,GQ,LQ,IQ,OQ])}function pp(){pp=r;v4=hC((Kv(),UH(rc(g4,1),ZB,193,0,[w4,d4])))}function mp(){mp=r;p3=hC((Gm(),UH(rc(k3,1),ZB,175,0,[g3,v3])))}function jp(){jp=r;V4=hC((im(),UH(rc(F4,1),ZB,192,0,[U4,$4])))}function yp(){LS();return UH(rc(f9,1),ZB,140,0,[c9,u9,a9])}function Sp(){JH();return UH(rc(y7,1),ZB,218,0,[m7,p7,j7])}function Ep(){nE();return UH(rc(S8,1),ZB,219,0,[y8,m8,j8])}function Hp(){pL();return UH(rc(ann,1),ZB,153,0,[tnn,inn,rnn])}function Cp(){UE();return UH(rc(lnn,1),ZB,172,0,[fnn,onn,snn])}function Ip(n,e,t){return e==null?FT(n.d,null,t):VI(n.e,e,t)}function Lp(n,e,t){return new dP(n,false,null,(Qs(),GV),true,e,t)}function Gp(n,e){return Gd(n.a,e)?bg(n,ww(e,17).e,null):null}function Np(n){ld(n);return bN((Ks(),new Ps(Ms(vw(n.a,new h)))))}function Op(n){qv();if(!n){return Qf(),len}return new er(n)}function Tp(n,e){var t,r;r=_d(n,e);t=n.a.ub(r);return new Cu(n,t)}function Pp(n,e){var t,r;r=n.Y();for(t=0;t<r;t++){n.wb(t,e[t])}}function Rp(n,e,t){var r;r=new ce;r.b=e;r.a=t;++e.b;nw(n.d,r)}function Yp(n,e,t){!!n.d&&gy(n.d.b,n);n.d=e;!!n.d&&fd(n.d.b,t,n)}function Ap(n,e,t){kN(e,t,n.Y());this.c=n;this.a=e;this.b=t-e}function _p(n,e,t,r){me(this);this.d=n;this.b=e;this.a=t;this.c=r}function Mp(n,e){zi.call(this,lE(ld(n),ld(e)));this.b=n;this.c=e}function Dp(n,e){this.a=n;Vt.call(this,n);xj(e,n.Y());this.b=e}function Bp(n,e,t,r){Zs();qk.call(this,n,e,t);r!=null&&(this.d=r)}function xp(n,e,t){n.i=0;n.e=0;if(e==t){return}bH(n,e,t);hH(n,e,t)}function $p(n){Ns(n.a<n.c.c.length);n.b=n.a++;return n.c.c[n.b]}function Up(n){Ns(n.b.b!=n.d.a);n.c=n.b=n.b.b;--n.a;return n.c.c}function Fp(n,e){var t;t=1-e;n.a[t]=jE(n.a[t],t);return jE(n,e)}function Vp(n){var e;e=(YD(),YD(),y6);n.d&&$T(n);Ar();return e}function zp(n){var e;if(ih(n)){e=n;return e==-0?0:e}return YN(n)}function qp(n){var e;e=(ld(n),new Rb((qs(),n)));_T(e);return qH(e)}function Qp(n){Ks();var e;while(true){e=n.H();if(!n.G()){return e}}}function Kp(n){cb(n);Mo(n.c);n.e=n.a=n.c;n.c=n.c.b;++n.d;return n.a}function Wp(n){cb(n);Mo(n.e);n.c=n.a=n.e;n.e=n.e.d;--n.d;return n.a}function Jp(n){var e;e=n.Y();if(e==0){return}n.d.Q();n.f.c-=e;Jd(n)}function Zp(n,e,t){var r;r=zL();try{return Eb(n,e,t)}finally{vj(r)}}function Xp(n){return function(){return Zp(n,this,arguments);var e}}function nm(n){if(gl(n,19)){return ww(n,19).V()}return!n.mb().G()}function em(n){Jg();this.a=(qv(),gl(n,63)?new Nc(n):new fh(n))}function tm(){tm=r;o9=new wo(Qx,0);s9=new wo("TOP_LEFT",1)}function rm(){rm=r;O5=new eo("DOWN",0);T5=new eo("UP",1)}function im(){im=r;U4=new yf("LAYER_SWEEP",0);$4=new yf(rU,1)}function am(){am=r;u5=new Zf("UPPER",0);c5=new Zf("LOWER",1)}function cm(n){if(n<0){throw new qa("Negative array size: "+n)}}function um(n,e){if(gl(e,21)){return pN(n.a,ww(e,21))}return false}function fm(n,e){if(gl(e,21)){return pN(n.a,ww(e,21))}return false}function om(n,e){if(gl(e,21)){return pN(n.a,ww(e,21))}return false}function sm(n){var e;e=new xv;oI(e,n);Ny(e,(mB(),EK),null);return e}function lm(n,e){return e===n?"(this Map)":(ji(),e==null?CB:JG(e))}function hm(n,e,t,r){return gl(t,63)?new Th(n,e,t,r):new tg(n,e,t,r)}function bm(){gL();return UH(rc(gW,1),ZB,100,0,[dW,wW,lW,hW,bW])}function wm(){_N();return UH(rc(EW,1),ZB,28,0,[SW,yW,jW,kW,mW,pW])}function dm(){oG();return UH(rc(HQ,1),ZB,103,0,[pQ,yQ,SQ,EQ,mQ,jQ])}function gm(){lO();return UH(rc(ZQ,1),ZB,133,0,[WQ,QQ,JQ,zQ,KQ,qQ])}function vm(){vm=r;NW=hC((IS(),UH(rc(GW,1),ZB,149,0,[LW,IW,CW])))}function km(){km=r;iK=hC((ZC(),UH(rc(rK,1),ZB,166,0,[eK,nK,tK])))}function pm(){pm=r;L4=hC((Qy(),UH(rc(I4,1),ZB,173,0,[C4,H4,E4])))}function mm(){hO();return UH(rc(u1,1),ZB,132,0,[a1,i1,t1,c1,r1,e1])}function jm(){iT();return UH(rc(C3,1),ZB,125,0,[E3,j3,H3,S3,y3,m3])}function ym(n){Ks();return xg(sI((qs(),PV),xg(new Oc,91),n),93).a}function Sm(n,e){qv();var t;t=n.ob();QG(t,0,t.length,e);Pp(n,t)}function Em(n,e,t,r,i){this.c=n;this.e=e;this.d=t;this.b=r;this.a=i}function Hm(n,e,t,r,i){gu.call(this,n,e);this.a=t;this.b=r;this.c=i}function Cm(n,e,t,r,i){gu.call(this,n,e);this.a=t;this.b=r;this.c=i}function Im(n,e,t){this.a=e;this.c=n;this.b=(ld(t),new Rb((qs(),t)))}function Lm(){ps(this);this.b=new Au(E$,E$);this.a=new Au(H$,H$)}function Gm(){Gm=r;g3=new kf("QUADRATIC",0);v3=new kf("SCANLINE",1)}function Nm(){throw new Ka("Add not supported on this collection")}function Om(n){var e,t;t=qb(n.Zb());e=n.Yb();return e==1?t:t+" x "+e}function Tm(n){Ns(n.b!=n.d.c);n.c=n.b;n.b=n.b.a;++n.a;return n.c.c}function Pm(n){if(n.Tc()){return null}var e=n.k;var t=_U[e];return t}function Rm(n,e){if(n<0||n>e){throw new Ha(VT(n,e,"index"))}return n}function Ym(n,e){var t;MI(n);t=n.d.nb(e);if(t){--n.f.c;Jd(n)}return t}function Am(n,e,t){var r;r=(ld(n),new Rb((qs(),n)));fN(new Im(r,e,t))}function _m(n,e){return Lv((ji(),n.toLowerCase()),e.toLowerCase())}function Mm(n,e){return Lv((ji(),n.toLowerCase()),e.toLowerCase())}function Dm(){qy();return UH(rc(btn,1),ZB,138,0,[otn,stn,ltn,htn])}function Bm(n,e,t,r){Array.prototype.splice.apply(n,[e,t].concat(r))}function xm(n,e,t,r){var i;i=new ve;i.c=e;i.b=t;i.a=r;r.b=t.a=i;++n.b}function $m(n,e){var t;t=Yk(sw(new Ay(n,e)));zd(new Ay(n,e));return t}function Um(n,e,t){if(t){var r=t.gc();n.a[e]=r(t)}else{delete n.a[e]}}function Fm(n,e,t){if(t){var r=t.gc();t=r(t)}else{t=undefined}n.a[e]=t}function Vm(n){pe(this);this.d=n.d;this.c=n.c;this.a=n.a;this.b=n.b}function zm(){this.g=new ri;this.c=new ri;this.a=new De;this.k=new De}function qm(){this.d=new uv;this.a=new gh;this.c=new Do;this.b=new Ie}function Qm(){this.i=new De;this.g=new La;this.n=new ow;this.q=new ow}function Km(n,e,t,r){this.e=n;this.b=new De;this.d=e;this.a=t;this.c=r}function Wm(){Wm=r;iX=new T;aX=new P;tX=new R;rX=new Y;cX=new A}function Jm(){Jm=r;MJ=new rf(zx,0);_J=new rf(Qx,1);DJ=new rf(qx,2)}function Zm(){Zm=r;DQ=hC(($E(),UH(rc(MQ,1),ZB,107,0,[_Q,RQ,YQ,AQ])))}function Xm(){Xm=r;VQ=hC((JC(),UH(rc(FQ,1),ZB,122,0,[UQ,xQ,BQ,$Q])))}function nj(){nj=r;lJ=hC((jO(),UH(rc(sJ,1),ZB,139,0,[fJ,oJ,uJ,cJ])))}function ej(){ej=r;aJ=hC((vL(),UH(rc(iJ,1),ZB,150,0,[tJ,rJ,eJ,nJ])))}function tj(){tj=r;U5=hC((NS(),UH(rc($5,1),ZB,194,0,[B5,x5])))}function rj(){rj=r;h9=hC((tm(),UH(rc(l9,1),ZB,174,0,[o9,s9])))}function ij(n){ld(n);return gl(n,19)?new Rb((qs(),ww(n,19))):sw(n.mb())}function aj(n){return ya(Sa(xh(MH(n,(gB(),v9)))))&&MH(n,F9)!=null}function cj(n){return ya(Sa(xh(MH(n,(gB(),v9)))))&&MH(n,F9)!=null}function uj(n,e,t,r){e==null&&(e=CB);n.a+=""+(ji(),e.substr(t,r-t))}function fj(n,e){var t;for(t=0;t<e;++t){Og(n,t,new ur(ww(n[t],21)))}}function oj(n,e){var t,r;t=ww(CN(n.b,e),19);if(t){r=t.Y();t.Q();n.c-=r}}function sj(n,e,t){var r;r=($j(e,n.c.length),n.c[e]);n.c[e]=t;return r}function lj(n){Ns(n.a<n.c.a.length);n.b=n.a;oS(n);return n.c.b[n.b]}function hj(n){Ks();var e;e=0;while(n.G()){n.H();e=qC(e,1)}return xy(e)}function bj(n){this.d=n;this.b=this.d.a.entries();this.a=this.b.next()}function wj(n){this.g=n;this.f=new De;this.a=vc(this.g.c.c,this.g.d.c)}function dj(n){mi();this.e=null;this.f=null;this.a="";this.b=n;this.a=""}function gj(){Lr.call(this);Gh(this);this.b.b=this.b;this.b.a=this.b}function vj(n){n&&iS((Hi(),Dq));--Aq;if(n){if(Mq!=-1){$f(Mq);Mq=-1}}}function kj(n){if(!n.c||!n.d){return false}return!!n.c.f&&n.c.f==n.d.f}function pj(){if(Date.now){return Date.now()}return(new Date).getTime()}function mj(n){if(n.c.c.length!=0){return ww(Uw(n.c,0),33).a}return null}function jj(n){if(n.c.c.length!=0){return ww(Uw(n.c,0),33).a}return null}function yj(n){n.d=3;n.c=_S(n);if(n.d!=2){n.d=0;return true}return false}function Sj(n,e,t){this.a=n;this.b=e;this.c=t;nw(n.j,this);nw(e.d,this)}function Ej(n,e,t,r){var i;n.c?i=new ct(Uk(r)):i=new ct(r);Gy(e,t,i)}function Hj(n){var e,t;ld(n);e=Fg(n.length);t=new Fy(e);kH(t,n);return t}function Cj(n){var e,t,r;e=n&Tx;t=n>>22&Tx;r=n<0?Px:0;return Kb(e,t,r)}function Ij(){XG();return UH(rc(S5,1),ZB,141,0,[y5,p5,m5,k5,j5])}function Lj(){BN();return UH(rc(L7,1),ZB,115,0,[E7,S7,C7,H7,I7])}function Gj(){nN();return UH(rc(k8,1),ZB,85,0,[v8,b8,w8,d8,g8])}function Nj(){Nj=r;PQ=hC((WC(),UH(rc(TQ,1),ZB,59,0,[NQ,GQ,LQ,IQ,OQ])))}function Oj(){Oj=r;XW=hC((SD(),UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW])))}function Tj(){Tj=r;vW=hC((gL(),UH(rc(gW,1),ZB,100,0,[dW,wW,lW,hW,bW])))}function Pj(){Pj=r;K4=Fw(Qw(Qw(Qw(qw(new xI,(dB(),F0)),J0),y0),T0),U0)}function Rj(n,e){var t,r;for(r=e.mb();r.G();){t=ww(r.H(),55);kA(n,t,0,0)}}function Yj(n,e,t){var r,i;for(i=n.mb();i.G();){r=ww(i.H(),55);rA(r,e,t)}}function Aj(n,e,t){var r,i;r=0;for(i=0;i<e.length;i++){r+=n.Hc(e[i],r,t)}}function _j(n,e){var t;t=($j(e,n.c.length),n.c[e]);nu(n.c,e,1);return t}function Mj(n){var e;ld(n);bS(true);for(e=0;e<0&&AI(n);e++){Jk(n)}return e}function Dj(n){var e;n.d=new Us(n);n.e=new Fs(n);e=n[CU]|0;n[CU]=e+1}function Bj(n){n.g=new va;n.o=new va;n.c=new va;n.j=new De;n.d=new De}function xj(n,e){if(n<0||n>e){throw new Ha("Index: "+n+", Size: "+e)}}function $j(n,e){if(n<0||n>=e){throw new Ha("Index: "+n+", Size: "+e)}}function Uj(n,e){var t,r;t=e.yb();r=gC(n,t);return!!r&&Ov(r.e,e.zb())}function Fj(n,e){var t;t=n.d;if(e>0){return ww(Uw(t.a,e-1),9)}return null}function Vj(n,e,t,r,i,a){var c;c=SN(i,r);i!=9&&UH(rc(n,a),e,t,i,c);return c}function zj(n){var e;if(!uE(n)){throw new Mi}n.d=1;e=n.c;n.c=null;return e}function qj(n,e,t,r){this.f=n;this.e=e;this.d=t;this.b=r;this.c=!r?null:r.d}function Qj(n,e){if(n&&typeof n==yB){try{n.__gwt$exception=e}catch(n){}}}function Kj(n,e){if(n.a.$b(e.d,n.b)>0){nw(n.c,new Ab(e.c,e.d,n.d));n.b=e.d}}function Wj(n,e){var t;t=zH(n.j,e.j);if(t==0){return zH(n.k,e.k)}return t}function Jj(n){var e,t;t=ww(Uw(n.f,0),7);e=ww(MH(t,(gB(),F9)),7);return e}function Zj(n){var e,t;t=ww(Uw(n.f,0),7);e=ww(MH(t,(gB(),F9)),7);return e}function Xj(n,e){return zH(Sa($h(MH(n,(gB(),Z9)))),Sa($h(MH(e,Z9))))}function ny(){ny=r;cnn=hC((pL(),UH(rc(ann,1),ZB,153,0,[tnn,inn,rnn])))}function ey(){ey=r;hnn=hC((UE(),UH(rc(lnn,1),ZB,172,0,[fnn,onn,snn])))}function ty(){ty=r;CQ=hC((oG(),UH(rc(HQ,1),ZB,103,0,[pQ,yQ,SQ,EQ,mQ,jQ])))}function ry(){ry=r;XQ=hC((lO(),UH(rc(ZQ,1),ZB,133,0,[WQ,QQ,JQ,zQ,KQ,qQ])))}function iy(){iy=r;HW=hC((_N(),UH(rc(EW,1),ZB,28,0,[SW,yW,jW,kW,mW,pW])))}function ay(){ay=r;I3=hC((iT(),UH(rc(C3,1),ZB,125,0,[E3,j3,H3,S3,y3,m3])))}function cy(){IR();return UH(rc(D2,1),ZB,109,0,[_2,T2,Y2,P2,R2,O2,A2,M2])}function uy(){HP();return UH(rc(oW,1),ZB,41,0,[eW,nW,rW,fW,uW,cW,iW,aW,tW])}function fy(){sO();return UH(rc(v7,1),ZB,123,0,[g7,d7,w7,h7,l7,b7])}function oy(){oO();return UH(rc(A7,1),ZB,124,0,[P7,T7,Y7,O7,R7,N7])}function sy(){sy=r;kQ=new ew("de.cau.cs.kieler.labels.labelManager",null)}function ly(){if(Date.now){return Date.now()}return(new Date).getTime()}function hy(n){var e;e=ww(lg(n.b,n.b.length),11);return new jw(n.a,e,n.c)}function by(n,e){var t;t=(ji(),e.length);return Xi(zb(n,n.length-t,t),e)}function wy(n,e){var t;t=new ke;t.c=true;t.d=e.zb();return nD(n,e.yb(),t)}function dy(n,e){var t;t=e.yb();return Ll(),new mu(t,tG(n.b,t,ww(e.zb(),19)))}function gy(n,e){var t;t=Oy(n,e,0);if(t==-1){return false}n.vb(t);return true}function vy(n,e){tS(e)!=9&&UH(eS(e),e._c,e.__elementTypeId$,tS(e),n);return n}function ky(n){Xd(n.c.a.c,n);Ns(n.b!=n.c.a.b);n.a=n.b;n.b=n.b.a;return n.a}function py(n){Is(!!n.c);Xd(n.e,n);n.c.I();n.c=null;n.b=dH(n);ch(n.e,n)}function my(n,e,t){n.a=e;n.c=t;n.b.a.Q();Av(n.d);n.e.a.c=Vj(WU,WB,1,0,4,1)}function jy(n,e,t){zi.call(this,lE(ld(n),ld(e)));this.b=n;this.c=e;this.a=t}function yy(n,e,t,r){this.b=new Tt(this);this.a=n;this.c=e;this.e=t;this.d=r}function Sy(n){fC.call(this,n,0);Gh(this);this.b.b=this.b;this.b.a=this.b}function Ey(n,e){To.call(this,n,e);this.a=Vj(utn,WB,183,2,0,1);this.b=true}function Hy(n,e){return Rl(e)?e==null?!!_k(n.d,null):Nd(n.e,e):!!_k(n.d,e)}function Cy(n,e){return Za(),(n-e>0?n-e:-(n-e))<=Nx||n==e||isNaN(n)&&isNaN(e)}function Iy(n,e){Za();return(n-e>0?n-e:-(n-e))<=Nx||n==e||isNaN(n)&&isNaN(e)}function Ly(n){var e,t;e=true;do{e?t=$I(n):t=oL(n);e=!e}while(t);vH(n,n.d)}function Gy(n,e,t){var r;if(e==null){throw new oi}r=Tv(n,e);Um(n,e,t);return r}function Ny(n,e,t){!n.n&&(n.n=new Lr);t==null?Id(n.n,e):mv(n.n,e,t);return n}function Oy(n,e,t){for(;t<n.c.length;++t){if(Ov(e,n.c[t])){return t}}return-1}function Ty(n,e){while(e>=n.a.c.length){nw(n.a,new Ga)}return ww(Uw(n.a,e),20)}function Py(n,e){var t;t=ww(iG(n.a,e),19);if(!t){return null}return tG(n.b,e,t)}function Ry(n,e,t){var r;r=Tv(n,s$);if(!r){r=new ua;Gy(n,s$,r)}Gy(r.kc(),e,t)}function Yy(n,e,t,r,i){var a;a=Gg(n,e);$S(t,a);a.g=i?8:0;a.f=r;a.e=i;return a}function Ay(n,e){var t;this.f=n;this.b=e;t=ww(Vg(n.b,e),126);this.c=!t?null:t.b}function _y(n,e){var t,r,i;for(r=0,i=e.length;r<i;++r){t=e[r];xm(n,t,n.c.b,n.c)}}function My(n,e,t,r,i,a){var c;c=sm(r);Ek(c,i);Sk(c,a);mP(n.a,r,new _b(c,e,t.f))}function Dy(n,e,t){var r;r=0;n.c[t]>0&&(r+=OD(e));n.b[t]&&(r+=FD(e));return r}function By(n,e){var t;t=ww(Id(n.c,e),176);if(t){ed(t);return t.e}return null}function xy(n){if(pC(n,NB)>0){return NB}if(pC(n,AB)<0){return AB}return Ug(n)}function $y(n){qs();hS(n,"size");return Ug(Bc(QC(n,8),vx)?QC(n,8):vx),new Tc}function Uy(n){Lb.call(this,(ji(),n==null?CB:JG(n)),gl(n,46)?ww(n,46):null)}function Fy(n){ps(this);wd(n>=0,"Initial capacity must not be negative")}function Vy(){Vy=r;dZ=Kw(Qw(Qw(new xI,(dB(),V0)),P0),B0);gZ=qw(new xI,_0)}function zy(){zy=r;l1=new $;o1=new U;s1=new F;f1=new V;h1=new z;b1=new q}function qy(){qy=r;otn=new No("All",0);stn=new rl;ltn=new Hl;htn=new il}function Qy(){Qy=r;C4=new jf(uU,0);H4=new jf("LONGEST_PATH",1);E4=new jf(rU,2)}function Ky(){Ky=r;nQ=Kb(Tx,Tx,524287);eQ=Kb(0,0,524288);Cj(1);Cj(2);tQ=Cj(0)}function Wy(){Wy=r;B2=hC((IR(),UH(rc(D2,1),ZB,109,0,[_2,T2,Y2,P2,R2,O2,A2,M2])))}function Jy(){Jy=r;E5=hC((XG(),UH(rc(S5,1),ZB,141,0,[y5,p5,m5,k5,j5])))}function Zy(){Zy=r;G7=hC((BN(),UH(rc(L7,1),ZB,115,0,[E7,S7,C7,H7,I7])))}function Xy(){Xy=r;p8=hC((nN(),UH(rc(k8,1),ZB,85,0,[v8,b8,w8,d8,g8])))}function nS(n){_O();Vl(this,Ug(fk(KE(tR(ih(n)?sH(n):n,24)),PU)),Ug(fk(n,PU)))}function eS(n){return Rl(n)?bF:Pl(n)?Enn:Lh(n)?Snn:Cd(n)?n.$c:rd(n)?n.$c:n.$c||Pq}function tS(n){return n.__elementTypeCategory$==null?9:n.__elementTypeCategory$}function rS(n){var e,t;if(n.a){t=null;do{e=n.a;n.a=null;t=HT(e,t)}while(n.a);n.a=t}}function iS(n){var e,t;if(n.b){t=null;do{e=n.b;n.b=null;t=HT(e,t)}while(n.b);n.b=t}}function aS(n){Wf();var e,t;t=xx;for(e=0;e<n.length;e++){n[e]>t&&(t=n[e])}return t}function cS(n,e){var t;t=ww(Vg(n.b,e),106);if(!t){t=e.rc();mv(n.b,e,t)}return t}function uS(n,e){var t;t=ww(Vg(n.c,e),176);if(t){Jl(n,t);return t.e}return null}function fS(n,e,t,r){var i;i=ww(uS(n.e,e),116);i.b+=t;i.a+=r;RG(n.e,e,i);n.d=true}function oS(n){var e;++n.a;for(e=n.c.a.length;n.a<e;++n.a){if(n.c.b[n.a]){return}}}function sS(n){var e,t,r;for(e=(n.g==null&&(n.g=Jw(n)),n.g),t=0,r=e.length;t<r;++t);}function lS(n,e){var t,r;MI(n);r=n.d.V();t=n.d.ib(e);if(t){++n.f.c;r&&Bb(n)}return t}function hS(n,e){if(n<0){throw new Ca(e+" cannot be negative but was: "+n)}return n}function bS(n){if(!n){throw new Ca((ji(),"numberToAdvance must be nonnegative"))}}function wS(n){if(!n.a.G()){n.a=n.b.mb();if(!n.a.G()){throw new Mi}}return n.a.H()}function dS(n){Ks();var e;ld(n);if(gl(n,108)){e=ww(n,108);return e}return new Ke(n)}function gS(n,e){var t=n.a[e];var r=(CH(),Zq)[typeof t];return r?r(t):_C(typeof t)}function vS(n,e){var t,r;for(r=new Xt(n);r.a<r.c.c.length;){t=ww($p(r),7);MP(t,e)}}function kS(n,e){var t,r,i,a;for(r=n.d,i=0,a=r.length;i<a;++i){t=r[i];ll(n.g,t).a=e}}function pS(n,e){var t;t=Vh(vs(ww(Vg(n.g,e),10)),ks(ww(Vg(n.f,e),198).b));return t}function mS(n){var e;return!uE(ng((e=new zt(n.b.a).a.bb().mb(),new qt(e)),n.a))}function jS(n){var e;Is(!!n.c);e=n.c.a;RS(n.d,n.c);n.b==n.c?n.b=e:--n.a;n.c=null}function yS(n){return!!n.c&&!!n.d?n.c.f+"("+n.c+")->"+n.d.f+"("+n.d+")":"e_"+Eh(n)}function SS(n,e){xE();return n==JZ&&e==nX||n==nX&&e==JZ||n==XZ&&e==ZZ||n==ZZ&&e==XZ}function ES(n,e){xE();return n==JZ&&e==ZZ||n==JZ&&e==XZ||n==nX&&e==XZ||n==nX&&e==ZZ}function HS(){K_();return UH(rc(r9,1),ZB,110,0,[W7,n9,J7,e9,Z7,t9,X7,K7])}function CS(){CS=r;sW=hC((HP(),UH(rc(oW,1),ZB,41,0,[eW,nW,rW,fW,uW,cW,iW,aW,tW])))}function IS(){IS=r;LW=new Xu("OUTSIDE",0);IW=new Xu("INSIDE",1);CW=new Xu("FIXED",2)}function LS(){LS=r;c9=new bo(Jx,0);u9=new bo("TOP",1);a9=new bo("BOTTOM",2)}function GS(){GS=r;KU=new fs;QU=new Cc("ISO-LATIN-1");qU=new Cc("ISO-8859-1")}function NS(){NS=r;B5=new ro("CLASSIC",0);x5=new ro("IMPROVE_STRAIGHTNESS",1)}function OS(){this.e=new La;this.a=new Vv;this.d=new La;this.b=new De;this.c=new De}function TS(n,e,t){this.b=e;this.a=n;this.c=t;nw(this.a.e,this);nw(this.b.b,this)}function PS(n,e){n.d=vc(n.d,e.d);n.c=wc(n.c,e.c);n.a=wc(n.a,e.a);n.b=vc(n.b,e.b)}function RS(n,e){var t;t=e.c;e.a.b=e.b;e.b.a=e.a;e.a=e.b=null;e.c=null;--n.b;return t}function YS(n,e){Ks();var t;ld(n);ld(e);t=false;while(e.G()){t=t|n.ib(e.H())}return t}function AS(n){var e;Xd(n.e,n);Ns(n.b);n.c=n.a;e=ww(n.a.H(),21);n.b=dH(n);return e}function _S(n){var e;while(n.b.G()){e=n.b.H();if(n.a.D(e)){return e}}return n.d=2,null}function MS(n,e){if(!!e&&n.b[e.e]==e){Og(n.b,e.e,null);--n.c;return true}return false}function DS(n){if(Ax<n&&n<Yx){return n<0?Math.ceil(n):Math.floor(n)}return KE(PA(n))}function BS(n){if(n){if(n.V()){throw new Mi}return n.sb(n.Y()-1)}return Qp(null.mb())}function xS(n,e){var t;t=n.d;if(e<t.a.c.length-1){return ww(Uw(t.a,e+1),9)}return null}function $S(n,e){var t;if(!n){return}e.k=n;var r=Pm(e);if(!r){_U[n]=[e];return}r.$c=e}function US(n,e){var t,r;r=false;do{n.i?t=PH(n,e):t=TH(n,e);r=r|t}while(t);return r}function FS(n,e,t){var r,i;r=e;do{i=Sa(n.n[r.k])+t;n.n[r.k]=i;r=n.a[r.k]}while(r!=e)}function VS(n){var e,t;for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);e.vc()}}function zS(){Na();var n=MU;for(var e=0;e<arguments.length;e++){n.push(arguments[e])}}function qS(n,e){var t,r;for(t=0,r=n.Y();t<r;++t){if(Ov(e,n.sb(t))){return t}}return-1}function QS(n,e){var t;Wk(n,"set1");Wk(e,"set2");t=(Kf(),new bu(e));return new Yb(n,t,e)}function KS(n){var e=/function(?:\s+([\w$]+))?\s*\(/;var t=e.exec(n);return t&&t[1]||IB}function WS(n,e,t){GL(t,S$,3);WL(n.c,e,_E(t,1));RP(n,e,_E(t,1));uB(e,_E(t,1));kI(t)}function JS(){JS=r;k7=hC((sO(),UH(rc(v7,1),ZB,123,0,[g7,d7,w7,h7,l7,b7])))}function ZS(){ZS=r;_7=hC((oO(),UH(rc(A7,1),ZB,124,0,[P7,T7,Y7,O7,R7,N7])))}function XS(){XS=r;Lnn=UH(rc(ytn,1),Lx,26,12,[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15])}function nE(){nE=r;y8=new vo(Wx,0);m8=new vo("INPUT",1);j8=new vo("OUTPUT",2)}function eE(n){this.c=n;this.b=new oC(new Ft(n.b).a);this.a=null;this.d=(Ks(),Ks(),wz)}function tE(n){this.e=n;this.d=new lu(pH(Md(this.e).Y()));this.c=this.e.a;this.b=this.e.c}function rE(n,e,t){this.c=n;Qm.call(this);this.b=e;this.j=new Ev(e.d,e.e,e.c,e.b);this.a=t}function iE(n,e){if(n.j>0&&n.c<n.j){n.c+=e;!!n.g&&n.g.d>0&&n.e!=0&&iE(n.g,e/n.j*n.g.d)}}function aE(n){if(n.b.d.f.g==(hO(),t1)){return ww(MH(n.b.d.f,(gB(),F9)),7)}return n.b.d}function cE(n){if(n.b.c.f.g==(hO(),t1)){return ww(MH(n.b.c.f,(gB(),F9)),7)}return n.b.c}function uE(n){_o(n.d!=3);switch(n.d){case 2:return false;case 0:return true}return yj(n)}function fE(n){switch(n.e){case 2:return SD(),JW;case 4:return SD(),OW;default:return n}}function oE(n){switch(n.e){case 1:return SD(),KW;case 3:return SD(),TW;default:return n}}function sE(n){var e;if(gl(n,90)){e=ww(n,90);return new Qi(e.a)}else{return Ks(),new We(n)}}function lE(n,e){qv();var t;t=new _f(1);Rl(n)?Ip(t,n,e):FT(t.d,n,e);return new ar(t)}function hE(n,e){if(!n.g){return n.e}else{n.g=hE(n.g,e);--n.a;n.j=KC(n.j,e.c);return GO(n)}}function bE(n,e){if(!n.e){return n.g}else{n.e=bE(n.e,e);--n.a;n.j=KC(n.j,e.c);return GO(n)}}function wE(n,e){var t,r,i;gd(e);t=false;for(i=e.mb();i.G();){r=i.H();t=t|n.ib(r)}return t}function dE(n){var e,t,r;e=0;for(r=n.mb();r.G();){t=r.H();e+=t!=null?LI(t):0;e=~~e}return e}function gE(n){var e,t,r,i;for(t=n.a,r=0,i=t.length;r<i;++r){e=t[r];e.B(null)}return null}function vE(n){var e,t,r;r=new Xr;for(t=n.b.mb();t.G();){e=ww(t.H(),92);Xb(r,e.a)}return r}function kE(n){var e,t,r;e=0;for(r=n.mb();r.G();){t=$h(r.H());e+=(gd(t),t)}return e/n.Y()}function pE(n,e){var t;t=ww(Vg(n.c,e),200);if(!t){t=new hi;t.c=e;mv(n.c,t.c,t)}return t}function mE(n,e){var t;gd(e);t=e.e;if(!n.b[t]){Og(n.b,t,e);++n.c;return true}return false}function jE(n,e){var t,r;t=1-e;r=n.a[t];n.a[t]=r.a[e];r.a[e]=n;n.b=true;r.b=false;return r}function yE(n,e){var t;if(gl(e,10)){t=ww(e,10);return n.a==t.a&&n.b==t.b}else{return false}}function SE(n,e,t){n.g=new GE(e,t);_h(n,n.g,n.i);n.d=gc(2,n.d);++n.a;n.j=qC(n.j,t);return n}function EE(n,e,t){n.e=new GE(e,t);_h(n.f,n.e,n);n.d=gc(2,n.d);++n.a;n.j=qC(n.j,t);return n}function HE(n,e){var t=n.a;var r=0;for(var i in t){t.hasOwnProperty(i)&&(e[r++]=i)}return e}function CE(n,e){var t,r;gd(e);for(r=e.bb().mb();r.G();){t=ww(r.H(),21);n.db(t.yb(),t.zb())}}function IE(n,e,t){var r;r=n.a.e[ww(e.a,9).k]-n.a.e[ww(t.a,9).k];return Uk(r>0?1:r<0?-1:0)}function LE(n,e,t){this.g=n;this.d=e;this.e=t;this.a=new De;eP(this);qv();Sm(this.a,null)}function GE(n,e){Ao(e>0);this.b=n;this.c=e;this.j=e;this.a=1;this.d=1;this.e=null;this.g=null}function NE(n){n.a=null;n.e=null;n.b.c=Vj(WU,WB,1,0,4,1);n.f.c=Vj(WU,WB,1,0,4,1);n.c=null}function OE(){VY();return UH(rc(Q7,1),ZB,113,0,[D7,x7,$7,U7,F7,V7,q7,M7,B7,z7])}function TE(n){return BP(n,26)*1.4901161193847656e-8+BP(n,27)*11102230246251565e-32}function PE(n){return gl(n,87)?qp(ww(n,87)):gl(n,88)?ww(n,88).a:gl(n,63)?new Wi(n):new Pu(n)}function RE(n){var e;e=ww(MH(n,(gB(),O9)),32);return n.g==(hO(),t1)&&(e==(SD(),JW)||e==OW)}function YE(n,e){if(MN(n,e)){mP(n.a,ww(MH(e,(gB(),G9)),18),e);return true}else{return false}}function AE(n,e){var t;if(e){for(t=0;t<6;t++){ww(Uw(n.a,t),18).jb(ww(Uw(e.a,t),19))}}return n}function _E(n,e){var t;if(n.b){return null}else{t=Sg(n.e,n.f);Xb(n.a,t);t.g=n;n.d=e;return t}}function ME(n,e){var t,r;for(r=OG(n,0);r.b!=r.d.c;){t=ww(Tm(r),10);t.a+=e.a;t.b+=e.b}return n}function DE(n,e){var t,r;for(t=0;t<e.length;t++){for(r=0;r<e[t].length;r++){e[t][r]=n[t][r]}}}function BE(n){var e,t;for(t=new Xt(n.b.f);t.a<t.c.c.length;){e=ww($p(t),7);vk(n.a,bL(e.g))}}function xE(){xE=r;JZ=new lf("Q1",0);nX=new lf("Q4",1);ZZ=new lf("Q2",2);XZ=new lf("Q3",3)}function $E(){$E=r;_Q=new zu(Wx,0);RQ=new zu(Qx,1);YQ=new zu("HEAD",2);AQ=new zu("TAIL",3)}function UE(){UE=r;fnn=new po("AGGRESSIVE",0);onn=new po("CAREFUL",1);snn=new po("OFF",2)}function FE(){FE=r;i9=hC((K_(),UH(rc(r9,1),ZB,110,0,[W7,n9,J7,e9,Z7,t9,X7,K7])))}function VE(n,e){jd();return Rl(n)?Lv(n,Uh(e)):Pl(n)?Fd(n,$h(e)):Lh(n)?Bk(n,xh(e)):n.F(e)}function zE(n,e,t){var r;r=e.$b(t,n.b);return r<0?!n.e?0:zE(n.e,e,t):r>0?!n.g?0:zE(n.g,e,t):n.c}function qE(n,e){var t,r;if(!n.b){return false}r=n.e;t=n.a.$b(e,r);return t<0|t==0&n.d==(Qs(),GV)}function QE(n,e){var t,r;if(!n.c){return false}r=n.g;t=n.a.$b(e,r);return t>0|t==0&n.f==(Qs(),GV)}function KE(n){var e;e=n.h;if(e==0){return n.l+n.m*Rx}if(e==Px){return n.l+n.m*Rx-Yx}return n}function WE(n){var e,t,r,i;e=new La;for(r=0,i=n.length;r<i;++r){t=n[r];e.a+=t.a;e.b+=t.b}return e}function JE(n){var e,t,r,i;for(t=n.a,r=0,i=t.length;r<i;++r){e=t[r];BH(n,e,(SD(),KW));BH(n,e,TW)}}function ZE(n){var e,t,r;e=1;for(r=n.mb();r.G();){t=r.H();e=31*e+(t==null?0:LI(t));e=~~e}return e}function XE(n){var e,t;e=ww(n.e&&n.e(),11);t=ww(lg(e,e.length),11);return new jw(e,t,e.length)}function nH(n){this.e=$o(MH($g(n[0]),(mB(),gK)))===$o((JC(),BQ));this.a=n;this.c=new Lr;JE(this)}function eH(n){Ii();this.g=(Ll(),new Lr);this.f=new Lr;this.b=new Lr;this.c=new Df;this.i=n}function tH(n){this.o=n;this.g=new De;this.j=new Ga;this.n=new Ga;this.e=new De;this.b=new De}function rH(n,e){sg(n.a,e);if(e.f){throw new Ui("CNode belongs to another CGroup.")}e.f=n}function iH(n,e){typeof window===yB&&typeof window["$gwt"]===yB&&(window["$gwt"][n]=e)}function aH(n,e,t,r){var i,a;i=aL(n,e,t,r);i<0&&(i=-i-1);for(a=t-1;a>=i;a--){n[a+1]=n[a]}n[i]=r}function cH(n,e,t,r){var i,a;i=nG(n,e,t,r);i<0&&(i=-i-1);for(a=t-1;a>=i;a--){n[a+1]=n[a]}n[i]=r}function uH(n,e){var t,r;gd(e);for(r=e.mb();r.G();){t=r.H();if(!n.kb(t)){return false}}return true}function fH(n,e){Ks();var t;ld(e);while(n.G()){t=n.H();if(!RE(ww(t,9))){return false}}return true}function oH(n,e){var t,r,i;t=e.k-n.k;if(t==0){r=n.e.a*n.e.b;i=e.e.a*e.e.b;return zH(r,i)}return t}function sH(n){var e,t,r,i;i=n;r=0;if(i<0){i+=Yx;r=Px}t=Uk(i/Rx);e=Uk(i-t*Rx);return Kb(e,t,r)}function lH(n,e){n.c.c=Vj(WU,WB,1,0,4,1);fT(n,n.e,e);fT(n,n.a,e);qv();Sm(n.c,null);return jC(n)}function hH(n,e,t){n.g=AT(n,e,(SD(),OW),n.b);n.d=AT(n,t,OW,n.b);if(n.g.c==0||n.d.c==0){return}MO(n)}function bH(n,e,t){n.g=AT(n,e,(SD(),JW),n.j);n.d=AT(n,t,JW,n.j);if(n.g.c==0||n.d.c==0){return}MO(n)}function wH(n,e,t){return new Ev(vc(n.a,e.a)-t/2,vc(n.b,e.b)-t/2,fu(n.a-e.a)+t,fu(n.b-e.b)+t)}function dH(n){if(n.a.G()){return true}if(n.a!=n.d){return false}n.a=new Fk(n.e.d);return n.a.G()}function gH(n,e){var t,r;t=e.ob();r=t.length;if(r==0){return false}Rw(n.c,n.c.length,t);return true}function vH(n,e){var t,r;for(t=0;t<n.a.length;t++){for(r=0;r<n.a[t].length;r++){n.a[t][r]=e[t][r]}}}function kH(n,e){qv();var t,r,i,a;a=false;for(r=0,i=e.length;r<i;++r){t=e[r];a=a|n.ib(t)}return a}function pH(n){Ll();if(n<3){hS(n,"expectedSize");return n+1}if(n<vx){return Uk(n/.75+1)}return NB}function mH(n,e){var t;if(gl(e,19)){t=(qs(),ww(e,19));return n.jb(t)}return YS(n,ww(ld(e),22).mb())}function jH(n,e){var t,r;r=n.d.f;if(r.g==(hO(),a1)){return}t=mg(EI(r));AI(t)&&mv(e,n,ww(Jk(t),12))}function yH(n,e){var t,r;cm(e);return t=uL(n,0,e),r=Vj(ytn,Lx,26,e,12,1),RN(n,0,r,0,t,true),r}function SH(n,e){var t;this.c=n;t=new De;vN(n,t,e,n.b,null,false,null,false);this.a=new Dp(t,0)}function EH(n){if(!n.a){return false}else if(QE(n.c.b,n.a.b)){n.a=null;return false}else{return true}}function HH(n){if(!n){throw new za((ji(),"no calls to next() since the last call to remove()"))}}function CH(){CH=r;Zq={boolean:Bu,number:Ua,string:Fa,object:cP,function:cP,undefined:Er}}function IH(){IH=r;CZ=Xk(UH(rc(TQ,1),ZB,59,0,[(WC(),LQ),GQ]));IZ=Xk(UH(rc(TQ,1),ZB,59,0,[OQ,IQ]))}function LH(n){qv();var e,t,r;r=0;for(t=n.mb();t.G();){e=t.H();r=r+(e!=null?LI(e):0);r=r|0}return r}function GH(n){Rr();var e,t,r;r=0;for(t=Mg(n).mb();t.G();){e=ww(t.H(),83);r=qC(r,e.Yb())}return xy(r)}function NH(n){var e,t;for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);e.i.Q()}n.c.Dc(n);ZY(n)}function OH(n,e){var t;t=cu(n.a,e);if(t===undefined){++n.d}else{n.a[NU](e);--n.c;pb(n.b)}return t}function TH(n,e){var t,r,i,a;t=false;r=n.d[e].length;for(i=r-1;i>0;i--){a=i-1;t=t|YL(n,e,a,i)}return t}function PH(n,e){var t,r,i,a;t=false;r=n.d[e].length;for(a=0;a<r-1;a++){i=a+1;t=t|YL(n,e,a,i)}return t}function RH(n,e){var t,r,i;t=n.l+e.l;r=n.m+e.m+(t>>22);i=n.h+e.h+(r>>22);return Kb(t&Tx,r&Tx,i&Px)}function YH(n,e){var t,r,i;t=n.l-e.l;r=n.m-e.m+(t>>22);i=n.h-e.h+(r>>22);return Kb(t&Tx,r&Tx,i&Px)}function AH(n,e){var t;for(t=0;t<(ji(),e.length);t++){if(n==e.charCodeAt(t)){return true}}return false}function _H(n,e){var t;for(t=0;t<(ji(),e.length);t++){if(n==e.charCodeAt(t)){return true}}return false}function MH(n,e){var t,r;if(n.n){r=Vg(n.n,e);if(r!=null){return r}}t=uM(e);gl(t,5)&&Ny(n,e,t);return t}function DH(n){var e,t,r;e=new Xr;for(r=OG(n,0);r.b!=r.d.c;){t=ww(Tm(r),10);Zl(e,0,new xo(t))}return e}function BH(n,e,t){var r,i,a,c;c=new fb(e,t);a=0;for(i=KR(c);i.G();){r=ww(i.H(),7);mv(n.c,r,HI(a++))}}function xH(n,e,t){ld(e);if(t.G()){Wo(e,n.C(t.H()));while(t.G()){Wo(e,n.c);Wo(e,n.C(t.H()))}}return e}function $H(n,e,t,r,i){if(r){KN(n,e)}else{WN(n,e,i);QM(n,e,t)}if(e.c.length>1){Sm(e,n.b);oA(n.c,e)}}function UH(n,e,r,i,a){a.$c=n;a._c=e;a.ad=t;a.__elementTypeId$=r;a.__elementTypeCategory$=i;return a}function FH(n,e,t){switch(t.e){case 2:n.b=e;break;case 1:n.c=e;break;case 4:n.d=e;break;case 3:n.a=e}}function VH(n,e,t){var r,i;i=Jj(t).g;r=SC(n,e,i).a;return r-xa(ww(Vg(n.c,e),24).a-ww(Vg(n.c,t),24).a)}function zH(n,e){if(n<e){return-1}if(n>e){return 1}if(n==e){return 0}return isNaN(n)?isNaN(e)?0:1:-1}function qH(n){switch(n.Y()){case 0:return BV;case 1:return new md(n.mb().H());default:return new em(n)}}function QH(){QH=r;var n,e;e=!(!!Error.stackTraceLimit||"stack"in new Error);n=new ye;xU=e?new c:n}function KH(){KH=r;ZJ=new ew("intCoordinates",(jd(),jd(),jnn));XJ=new Bw("jsonObject");nZ=new Au(0,0)}function WH(){WH=r;z1=new df("MIRROR_X",0);q1=new df("TRANSPOSE",1);V1=new df("MIRROR_AND_TRANSPOSE",2)}function JH(){JH=r;m7=new oo(Jx,0);p7=new oo("INCOMING_ONLY",1);j7=new oo("OUTGOING_ONLY",2)}function ZH(){YD();return UH(rc(K6,1),ZB,60,0,[I6,E6,S6,N6,G6,Q6,q6,L6,H6,C6,O6,V6,z6])}function XH(){XH=r;var n,e,t,i;r3=new lL(K6);for(e=ZH(),t=0,i=e.length;t<i;++t){n=e[t];Hb(r3,n,null)}}function nC(n){qv();var e,t,r;r=1;for(t=n.mb();t.G();){e=t.H();r=31*r+(e!=null?LI(e):0);r=r|0}return r}function eC(n,e){Ks();var t,r;Wk(e,"predicate");for(r=0;n.G();r++){t=n.H();if(e.D(t)){return r}}return-1}function tC(n,e){var t,r;t=n.c.a;r=e.ac(t);n.b.b&&(r=KC(r,mR(n,e,t)));n.b.c&&(r=KC(r,pR(n,e,t)));return r}function rC(n,e,t){var r,i;r=new Ey(e,t);i=new ke;n.b=EY(n,n.b,r,i);i.b||++n.c;n.b.b=false;return i.d}function iC(n,e,t){var r,i,a;r=new Ga;for(a=OG(t,0);a.b!=a.d.c;){i=ww(Tm(a),10);Xb(r,new xo(i))}uI(n,e,r)}function aC(n,e){var t;if(e===n){return true}if(gl(e,144)){t=ww(e,144);return n.P().t(t.P())}return false}function cC(n){var e;e=n.a.c.length;if(e>0){return dw(e-1,n.a.c.length),_j(n.a,e-1)}else{throw new _i}}function uC(n){if(n.b.c.length-n.e.c.length<0){ib(n,(SD(),OW));n.a.a=n.j.a}else{ib(n,(SD(),JW));n.a.a=0}}function fC(n,e){wd(n>=0,"Negative initial capacity");wd(e>=0,"Non-positive load factor");Dj(this)}function oC(n){var e;this.e=n;this.d=new bj(this.e.e);this.a=this.d;this.b=dH(this);e=n[CU];this[CU]=e}function sC(){++VU;this.n=null;this.j=null;this.i=null;this.d=null;this.b=null;this.k=null;this.a=null}function lC(n){var e,t,r,i;i=1;for(t=0,r=n.length;t<r;++t){e=n[t];i=31*i+(e!=null?LI(e):0);i=i|0}return i}function hC(n){var e,t,r,i;e={};for(r=0,i=n.length;r<i;++r){t=n[r];e[":"+(t.d!=null?t.d:""+t.e)]=t}return e}function bC(n){kB();var e,t,r,i;for(t=dL(),r=0,i=t.length;r<i;++r){e=t[r];if(Ib(e.a,n)){return e}}return YJ}function wC(n,e,t){var r,i,a;for(i=0,a=t.length;i<a;++i){r=t[i];if(n.b.Uc(e,r.yb())){return r}}return null}function dC(n,e,t){var r,i;for(i=t.mb();i.G();){r=ww(i.H(),21);if(n.Uc(e,r.zb())){return true}}return false}function gC(n,e){var t,r,i;i=n.b;while(i){t=n.a.$b(e,i.d);if(t==0){return i}r=t<0?0:1;i=i.a[r]}return null}function vC(n,e){var t,r;t=ww(Id(n.a,e),19);if(!t){return null}r=n.b.Z();r.jb(t);n.b.c-=t.Y();t.Q();return r}function kC(n,e,t){var r;r=ww(e.B(n),9);while(r.g==(hO(),i1)){!r.n&&(r.n=new Lr);Id(r.n,t);r=ww(e.B(r),9)}}function pC(n,e){var t;if(ih(n)&&ih(e)){t=n-e;if(!isNaN(t)){return t}}return xN(ih(n)?sH(n):n,ih(e)?sH(e):e)}function mC(n){var e;if(gl(n,46)){return n}e=n&&n.__gwt$exception;if(!e){e=new dj(n);tc(e,n);Qj(n,e)}return e}function jC(n){var e,t,r;e=0;for(r=new Xt(n.c);r.a<r.c.c.length;){t=ww($p(r),226);e+=$R(n,t.a,t.b)}return e}function yC(n){var e;e=new wj(n);Am(n.a,cX,new nr(UH(rc(UZ,1),WB,160,0,[e])));!!e.d&&nw(e.f,e.d);return e.f}function SC(n,e,t){switch(t.e){case 1:return ww(Vg(n.d,e),24);case 3:return ww(Vg(n.j,e),24)}return HI(0)}function EC(n,e,t){if(!n.d[e.k][t.k]){_G(n,e,t);n.d[e.k][t.k]=true;n.d[t.k][e.k]=true}return n.a[e.k][t.k]}function HC(n,e,t){var r;r=e.$b(t,n.b);return r<0?!n.e?n:ww(_c(HC(n.e,e,t),n),206):r==0?n:!n.g?null:HC(n.g,e,t)}function CC(n,e){return Rl(n)?Xi(n,e):Pl(n)?(gd(n),n===e):Lh(n)?(gd(n),n===e):Cd(n)?n.t(e):rd(n)?n===e:n===e}function IC(n,e){return Xi(n.b,e)||by(n.b,e)&&((ji(),e.length)==hs(n.b)||Vb(n.b,hs(n.b)-e.length-1)==46)}function LC(n,e){var t,r,i;t=0;for(i=hT(n,e).mb();i.G();){r=ww(i.H(),7);t+=MH(r,(gB(),J9))!=null?1:0}return t}function GC(n,e){var t,r,i;r=null;i=n.b;while(i){t=n.a.$b(e,i.d);if(t>=0){i=i.a[1]}else{r=i;i=i.a[0]}}return r}function NC(n,e){var t,r,i;r=null;i=n.b;while(i){t=n.a.$b(e,i.d);if(t<=0){i=i.a[0]}else{r=i;i=i.a[1]}}return r}function OC(n,e,t,r){var i,a;for(a=n.mb();a.G();){i=ww(a.H(),33);i.i.a=e.a+(r.a-i.j.a)/2;i.i.b=e.b;e.b+=i.j.b+t}}function TC(n,e){var t;if(n.c.length==0){return}t=ww(KG(n,Vj(n1,v$,9,n.c.length,0,1)),51);cl(t,new un);AO(t,e)}function PC(n,e){var t;if(n.c.length==0){return}t=ww(KG(n,Vj(n1,v$,9,n.c.length,0,1)),51);cl(t,new fn);AO(t,e)}function RC(n){var e,t;e=n.g;if(e==(hO(),t1)){t=ww(MH(n,(gB(),O9)),32);return t==(SD(),TW)||t==KW}return false}function YC(n,e){var t;gd(e);t=n[":"+e];Yd(!!t,"Enum constant undefined: %s",UH(rc(WU,1),WB,1,4,[e]));return t}function AC(n,e,t){if(!n){throw new Ca(SY("lowerEndpoint (%s) > upperEndpoint (%s)",UH(rc(WU,1),WB,1,4,[e,t])))}}function _C(n){CH();throw new ra("Unexpected typeof result '"+n+"'; please report this bug to the GWT team")}function MC(n){switch(n.e){case 1:return KW;case 2:return JW;case 3:return TW;case 4:return OW;default:return WW}}function DC(n){switch(n.e){case 2:return GQ;case 1:return LQ;case 4:return IQ;case 3:return OQ;default:return NQ}}function BC(n){if(n>=48&&n<58){return n-48}if(n>=97&&n<97){return n-97+10}if(n>=65&&n<65){return n-65+10}return-1}function xC(n,e){var t,r;for(r=Wg(_g(n.P()));r.b.G();){t=ww(ic(r,r.b.H()),19);if(t.kb(e)){return true}}return false}function $C(n){var e;if(!EH(n)){throw new Mi}e=new Gu(n.c,n.a);n.b=e;n.a.i==n.c.a?n.a=null:n.a=n.a.i;return e}function UC(n,e){Ll();var t;if(n===e){return true}else if(gl(e,57)){t=ww(e,57);return UT(xd(n),t.bb())}return false}function FC(n,e,t,r){Rr();hS(t,"oldCount");hS(r,"newCount");if(n.Cb(e)==t){n.Gb(e,r);return true}else{return false}}function VC(n,e,t,r,i){ld(t);ld(i);return $k(new up(n.c,u_(n.b,new dP(n.d,true,e,t,false,null,(Qs(),GV))),n.a),r,i)}function zC(n){Ob();switch(n.Y()){case 0:return Zg(),gq;case 1:return new Uc(n.mb().H());default:return new xf(n)}}function qC(n,e){var t;if(ih(n)&&ih(e)){t=n+e;if(Ax<t&&t<Yx){return t}}return KE(RH(ih(n)?sH(n):n,ih(e)?sH(e):e))}function QC(n,e){var t;if(ih(n)&&ih(e)){t=n*e;if(Ax<t&&t<Yx){return t}}return KE(bM(ih(n)?sH(n):n,ih(e)?sH(e):e))}function KC(n,e){var t;if(ih(n)&&ih(e)){t=n-e;if(Ax<t&&t<Yx){return t}}return KE(YH(ih(n)?sH(n):n,ih(e)?sH(e):e))}function WC(){WC=r;NQ=new Vu(Wx,0);GQ=new Vu(qx,1);LQ=new Vu(zx,2);IQ=new Vu("DOWN",3);OQ=new Vu("UP",4)}function JC(){JC=r;UQ=new qu(Wx,0);xQ=new qu("POLYLINE",1);BQ=new qu("ORTHOGONAL",2);$Q=new qu("SPLINES",3)}function ZC(){ZC=r;eK=new Ku("INHERIT",0);nK=new Ku("INCLUDE_CHILDREN",1);tK=new Ku("SEPARATE_CHILDREN",2)}function XC(){XC=r;G4=qw(Vw(new xI,(dB(),m0)),D0);N4=Fw(qw(zw(new xI,w0),h0),b0);O4=Fw(Qw(new xI,d0),b0)}function nI(){nI=r;P4=qw(Vw(new xI,(dB(),m0)),D0);R4=Fw(qw(zw(new xI,w0),h0),b0);Y4=Fw(Qw(new xI,d0),b0)}function eI(n){this.a=new Os;this.d=new Os;this.b=new Os;this.c=new Os;this.g=new Os;this.i=new Os;this.f=n}function tI(n,e,t,r,i,a){this.e=new De;this.f=(nE(),y8);nw(this.e,n);this.d=e;this.a=t;this.b=r;this.f=i;this.c=a}function rI(n,e,t,r,i,a,c,u){var f;f=t;while(a<c){f>=r||e<t&&u.$b(n[e],n[f])<=0?Og(i,a++,n[e++]):Og(i,a++,n[f++])}}function iI(n,e,t,r,i){var a,c;for(c=n.mb();c.G();){a=ww(c.H(),33);a.i.a=e.a;a.i.b=i?e.b:e.b+r.b-a.j.b;e.a+=a.j.a+t}}function aI(n,e){uw();var t,r;for(r=mg(wO(n));AI(r);){t=ww(Jk(r),12);if(t.d.f==e||t.c.f==e){return t}}return null}function cI(n,e,t){var r,i,a;r=0;for(a=OG(n,0);a.b!=a.d.c;){i=Sa($h(Tm(a)));if(i>t){break}else i>=e&&++r}return r}function uI(n,e,t){var r,i,a,c;gd(t);c=false;a=OG(n,e);for(i=OG(t,0);i.b!=i.d.c;){r=Tm(i);og(a,r);c=true}return c}function fI(n,e){var t,r,i;if(e.V()){return false}i=n.Y();t=n.d.jb(e);if(t){r=n.d.Y();n.f.c+=r-i;i==0&&Bb(n)}return t}function oI(n,e){var t;if(!e){return n}t=!e.n?(qv(),qv(),ren):e.n;t.V()||(!n.n?n.n=new is(t):CE(n.n,t));return n}function sI(n,e,t){var r;try{xH(n,e,t)}catch(n){n=mC(n);if(gl(n,181)){r=n;throw new Uy(r)}else throw hI(n)}return e}function lI(n,e,t){var r;try{oP(n,e,t)}catch(n){n=mC(n);if(gl(n,181)){r=n;throw new Uy(r)}else throw hI(n)}return e}function hI(n){var e;if(gl(n,164)){e=ww(n,164);if($o(e.b)!==$o((mi(),BU))){return $o(e.b)===$o(BU)?null:e.b}}return n}function bI(n,e){var t;t=ww(MH($g(n),(gB(),K9)),9);while(t){if(t==e){return true}t=ww(MH($g(t),K9),9)}return false}function wI(n){switch(ww(MH(n,(gB(),A9)),140).e){case 1:Ny(n,A9,(LS(),a9));break;case 2:Ny(n,A9,(LS(),u9))}}function dI(n){Ob();switch(n.c){case 0:return Zg(),gq;case 1:return new Uc(RT(new Af(n)));default:return new qi(n)}}function gI(n){Jg();var e,t;for(e=0,t=n.length;e<t;e++){if(n[e]==null){throw new Qa("at index "+e)}}return new nr(n)}function vI(n,e,t){if(e.length==0||t.length==0){return 0}n.e?n.b=new fa(n.c):n.b=new oa(n.c);return n.b.Gc(e,t)}function kI(n){if(n.i==null){throw new za("The task has not begun yet.")}if(!n.b){n.c<n.j&&iE(n,n.j-n.c);n.b=true}}function pI(n,e){var t,r;for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),27);gy(n.b.b,t.b);Xv(ww(t.a,78),ww(t.b,25))}}function mI(n,e){var t,r;for(r=new Xt(n.a);r.a<r.c.c.length;){t=ww($p(r),222);if(YE(t,e)){return}}nw(n.a,new gb(e))}function jI(n){var e,t,r;e=new De;for(r=new Xt(n.b);r.a<r.c.c.length;){t=ww($p(r),251);gH(e,ww(t.Ac(),19))}return e}function yI(n,e){var t,r,i;i=new De;for(r=hT(n,e).mb();r.G();){t=ww(r.H(),7);i.c[i.c.length]=t}Sm(i,new En);return i}function SI(n){var e,t,r;e=new De;for(r=new Xt(n.f);r.a<r.c.c.length;){t=ww($p(r),7);nw(e,t.b)}return ld(e),new Ss(e)}function EI(n){var e,t,r;e=new De;for(r=new Xt(n.f);r.a<r.c.c.length;){t=ww($p(r),7);nw(e,t.e)}return ld(e),new Ss(e)}function HI(n){var e,t;if(n>-129&&n<128){e=n+128;t=(yd(),Inn)[e];!t&&(t=Inn[e]=new Yt(n));return t}return new Yt(n)}function CI(n){var e,t;e=XN(n.b,n.d);t=NB;while(t>e){vH(n,n.d);if(e==0){t=0;break}$I(n);oL(n);t=e;e=XN(n.b,n.d)}n.c=t}function II(){_O();var n,e,t;t=ntn+++ly();n=Uk(Math.floor(t*oU))&PU;e=Uk(t-n*TU);this.a=n^1502;this.b=e^OU}function LI(n){return Rl(n)?sG(n):Pl(n)?Uk((gd(n),n)):Lh(n)?ya((gd(n),n))?1231:1237:Cd(n)?n.v():rd(n)?Eh(n):Eh(n)}function GI(n,e,t){var r,i,a;i=new $G;i.d=t;r=BO(i,e);a=new qm;ya(Sa(xh(MH(r,hZ))))?WS(a,r,new ob):e_(n,a,r);nB(i,r)}function NI(n,e,t,r){var i,a,c,u;u=new fb(e,r);c=0;for(a=KR(u);a.G();){i=ww(a.H(),7);mv(n.i,i,HI(c++))}mv(t,e,HI(c))}function OI(n,e){var t,r,i,a,c;t=0;c=0;for(i=0,a=e.length;i<a;++i){r=e[i];t=DR(n,t,r,(SD(),OW),n.f);c=DR(n,c,r,JW,n.n)}}function TI(n,e){var t,r,i,a;if(!n.n){return}for(r=0,i=e.length;r<i;++r){t=e[r];a=Vg(n.n,t);if(a!=null){t.nc();t.oc()}}}function PI(n,e){var t,r,i;for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),75);i=RY(n.a);fS(n.a,i,t.k,t.j);rT(t,i,true)}}function RI(n,e){var t,r,i;for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),75);i=rY(n.a);fS(n.a,i,t.k,t.j);rT(t,i,true)}}function YI(n){var e,t;t=ww(MH(n,(mB(),wK)),59);if(t==(WC(),NQ)){e=ww(MH(n,(gB(),b9)),15).a;return e>=1?GQ:IQ}return t}function AI(n){ld(n.b);if(n.b.G()){return true}while(n.a.G()){ld(n.b=n.Wb(n.a.H()));if(n.b.G()){return true}}return false}function _I(n){if(n.d!=n.c.d||n.i!=n.g.d){n.a.c=Vj(WU,WB,1,0,4,1);gH(n.a,n.c);gH(n.a,n.g);n.d=n.c.d;n.i=n.g.d}return n.a}function MI(n){var e;if(n.b){MI(n.b);if(n.b.d!=n.c){throw new Ai}}else if(n.d.V()){e=ww(Vg(n.f.b,n.e),19);!!e&&(n.d=e)}}function DI(n,e,t,r,i){var a,c,u,f;f=Hj(n);$H(e,f,r,i,t);a=0;for(u=new Xt(f);u.a<u.c.c.length;){c=ww($p(u),9);n[a++]=c}}function BI(n){var e,t,r;r=ww(Mc(n.a,(mB(),HK)),15).a;for(t=new Xt(gT(n.a));t.a<t.c.c.length;){e=ww($p(t),626);MD(n,e,r)}}function xI(){var n,e;this.a=new Fy(6);for(e=0;e<6;e++){nw(this.a,(n=ww(Yc(f2),11),new jw(n,ww(hg(n,n.length),11),0)))}}function $I(n){var e,t,r;r=false;for(t=0;t<n.d.length;t++){n.j=(e=new aT(n.e,n.d,t,0),new dO(t,n.d,e));r=r|US(n,t)}return r}function UI(n,e,t){var r,i;i=n.a.c;for(r=i.c.length;r<t;r++){fd(i,0,new cg(n.a))}yk(e,ww(Uw(i,i.c.length-t),16));n.b[e.k]=t}function FI(n,e){var t,r;t=OG(n,0);while(t.b!=t.d.c){r=Sa($h(Tm(t)));if(r==e){return}else if(r>e){Up(t);break}}og(t,e)}function VI(n,e,t){var r;r=cu(n.a,e);ec(n.a,e,t===undefined?null:t);if(r===undefined){++n.c;pb(n.b)}else{++n.d}return r}function zI(n,e,t){if((e-n<=0?0-(e-n):e-n)<Z$||(t-n<=0?0-(t-n):t-n)<Z$){return true}return e-n>Z$?n-t>Z$:t-n>Z$}function qI(n){switch(n.e){case 0:return S7;case 1:return E7;case 2:return H7;case 3:return C7;default:return I7}}function QI(n,e){switch(e.e){case 2:return n.b;case 1:return n.c;case 4:return n.d;case 3:return n.a;default:return false}}function KI(n){SD();switch(n.e){case 4:return TW;case 1:return OW;case 3:return KW;case 2:return JW;default:return WW}}function WI(n,e){if(e==n.c){return n.d}else if(e==n.d){return n.c}else{throw new Ca("Node "+e+" not part of edge "+n)}}function JI(n,e){var t;if(ah(n.a,e)){return ww(ah(n.a,e)?n.b[e.e]:null,62)}else{t=new ni;mE(n.a,e);bg(n,e.e,t);return t}}function ZI(n,e){var t,r,i,a;a=n.g.tb();t=0;while(a.G()){r=Sa($h(a.H()));i=r-e;if(i>jU){return t}else i>yU&&++t}return t}function XI(n){var e,t,r,i;t=(e=ww(Yc((r=n.$c,i=r.f,i==RF?r:i)),11),new jw(e,ww(hg(e,e.length),11),0));mE(t,n);return t}function nL(n,e){var t,r;for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),27);nw(n.b.b,ww(t.b,25));rH(ww(t.a,78),ww(t.b,25))}}function eL(n,e,t,r){var i,a,c;for(i=e+1;i<t;++i){for(a=i;a>e&&r.$b(n[a-1],n[a])>0;--a){c=n[a];Og(n,a,n[a-1]);Og(n,a-1,c)}}}function tL(n){var e,t;if(!Rf(ww(MH(n,(mB(),xK)),28))){for(t=new Xt(n.f);t.a<t.c.c.length;){e=ww($p(t),7);ib(e,(SD(),WW))}}}function rL(n,e){switch(e.e){case 1:return gw(n.f,(zy(),o1));case 2:return gw(n.f,(zy(),l1));default:return qv(),qv(),ten}}function iL(n,e){if(gv(e,(mB(),ZK))){return MH(n.e,(gB(),a8))}else if(gv(e,PK)){return MH(n.e,(gB(),U9))}return MH(n.e,e)}function aL(n,e,t,r){var i,a,c;a=e;i=t-1;while(a<=i){c=(a+i)/2|0;if(n[c]==r){return c}else n[c]<r?a=c+1:i=c-1}return-a-1}function cL(n,e,t){var r,i;for(i=n.mb();i.G();){r=i.H();if($o(e)===$o(r)||e!=null&&CC(e,r)){t&&i.I();return true}}return false}function uL(n,e,t){var r;Yd(e<=t,"%s > %s",UH(rc(WU,1),WB,1,4,[HI(e),HI(t)]));r=n.length;t=t<r?t:r;kN(e,t,r);return t-e}function fL(n,e){var t,r,i;t=n;i=0;do{if(t==e){return i}r=ww(MH(t,(gB(),K9)),9);if(!r){throw new ai}t=$g(r);++i}while(true)}function oL(n){var e,t,r;r=false;for(t=n.d.length-1;t>=0;t--){n.j=(e=new aT(n.e,n.d,t,1),new dO(t,n.d,e));r=r|US(n,t)}return r}function sL(n){this.f=(Ll(),new Lr);this.n=new Lr;this.k=new Lr;this.g=new va;this.i=new uG((Si(),oq));this.j=n;OI(this,n)}function lL(n){var e;this.a=(e=ww(n.e&&n.e(),11),new jw(e,ww(hg(e,e.length),11),0));this.b=Vj(WU,WB,1,this.a.a.length,4,1)}function hL(n,e){var t;if(e===n){return true}if(!gl(e,18)){return false}t=ww(e,18);if(t.Y()!=n.Y()){return false}return n.lb(t)}function bL(n){YD();switch(n.e){case 1:return I6;case 2:return S6;case 3:return G6;case 4:return q6;default:return z6}}function wL(n,e){switch(e.e){case 1:return n.e.d;case 2:return n.e.c;case 3:return n.e.a;case 4:return n.e.b;default:return 0}}function dL(){kB();return UH(rc(AJ,1),ZB,67,0,[PJ,TJ,RJ,EJ,SJ,HJ,LJ,IJ,CJ,OJ,NJ,GJ,jJ,mJ,yJ,kJ,vJ,pJ,dJ,wJ,gJ,YJ])}function gL(){gL=r;dW=new Ju(Wx,0);wW=new Ju("JUSTIFIED",1);lW=new Ju("BEGIN",2);hW=new Ju(Qx,3);bW=new Ju("END",4)}function vL(){vL=r;tJ=new ef("PORTS",0);rJ=new ef("PORT_LABELS",1);eJ=new ef("NODE_LABELS",2);nJ=new ef("MINIMUM_SIZE",3)}function kL(){kL=r;zJ=new af("UNKNOWN",0);UJ=new af("ABOVE",1);FJ=new af("BELOW",2);VJ=new ew("de.cau.cs.kieler.labelSide",zJ)}function pL(){pL=r;tnn=new ko("EQUALLY_DISTRIBUTED",0);inn=new ko("NORTH_STACKED",1);rnn=new ko("NORTH_SEQUENCE",2)}function mL(){_U={};!Array.isArray&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"})}function jL(n,e){return Za(),Za(),((n-e>0?n-e:-(n-e))<=Nx||n==e||isNaN(n)&&isNaN(e)?0:n<e?-1:n>e?1:ds(isNaN(n),isNaN(e)))>0}function yL(n,e){return Za(),Za(),((n-e>0?n-e:-(n-e))<=Nx||n==e||isNaN(n)&&isNaN(e)?0:n<e?-1:n>e?1:ds(isNaN(n),isNaN(e)))<0}function SL(n){var e,t;n.d||nA(n);t=new Xr;e=n.b.mb();e.H();while(e.G()){Xb(t,ww(e.H(),92).a)}Ns(t.b!=0);RS(t,t.c.b);return t}function EL(n){var e,t,r,i;i=new Os;e=new Rb(n.c);_T(e);for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),7);i.a.db(t,i)}return i}function HL(n,e){var t,r,i;ld(e);for(r=(i=n.g,ww(!i?n.g=new Je(n):i,20)).mb();r.G();){t=ww(r.H(),21);mP(e,t.zb(),t.yb())}return e}function CL(n,e){var t,r,i;if(gl(e,21)){t=ww(e,21);r=t.yb();i=iG(n.qb(),r);return Qg(i,t.zb())&&(i!=null||n.qb().R(r))}return false}function IL(n,e){var t,r,i;i=n.g.tb();while(i.G()){t=Sa($h(i.H()));r=t-e<=0?0-(t-e):t-e;if(r<jU){return i.L()-1}}return n.g.Y()}function LL(n){var e,t;for(t=new Xt(n.a);t.a<t.c.c.length;){e=ww($p(t),9);if(e.g==(hO(),a1)||e.g==e1){return false}}return true}function GL(n,e,t){if(n.b){throw new za("The task is already done.")}else if(n.i!=null){return false}else{n.i=e;n.j=t;return true}}function NL(n,e){if(n.f<e.f){return-1}else if(n.f>e.f){return 1}else if(n.g<e.g){return-1}else if(n.g>e.g){return 1}return n.b-e.b}function OL(n,e){if(e.c==n){return e.d}else if(e.d==n){return e.c}throw new Ca("Input edge is not connected to the input port.")}function TL(n){var e;if(n.c==0){return}e=ww(Uw(n.a,n.b),128);e.b==1?(++n.b,n.b<n.a.c.length&&hr(ww(Uw(n.a,n.b),128))):--e.b;--n.c}function PL(n,e){n.b.a=vc(n.b.a,e.c);n.b.b=vc(n.b.b,e.d);n.a.a=wc(n.a.a,e.c);n.a.b=wc(n.a.b,e.d);return n.c[n.c.length]=e,true}function RL(n,e,t){var r,i;r=Sa(n.n[e.f.k])+Sa(n.d[e.f.k])+e.i.b+e.a.b;i=Sa(n.n[t.f.k])+Sa(n.d[t.f.k])+t.i.b+t.a.b;return i-r}function YL(n,e,t,r){var i,a,c;i=false;if(v_(n.j,t,r)){la(n.j,n.d[e][t],n.d[e][r]);a=n.d[e];c=a[r];a[r]=a[t];a[t]=c;i=true}return i}function AL(n,e,t){var r,i,a,c,u;u=$g(n);i=u.a;r=ww(MH(u,(gB(),p9)),15).a;a=u.d;c=n.i;e&&(c.a=c.a-i.b-r-a.a);t&&(c.b=c.b-i.d-r-a.b)}function _L(n,e){var t,r,i;for(r=mg(wO(n));AI(r);){t=ww(Jk(r),12);i=ww(e.B(t),9);return new Ue(ld(i.i.b+i.j.b/2))}return yi(),yi(),SF}function ML(n){var e,t,r,i,a;r=Y_(n);e=K$;a=0;i=0;while(e>.5&&a<50){i=xR(r);t=CO(r,i,true);e=fu(t.b);++a}return CO(n,i,false)}function DL(n){var e,t,r,i,a;r=Y_(n);e=K$;a=0;i=0;while(e>.5&&a<50){i=BR(r);t=CO(r,i,true);e=fu(t.a);++a}return CO(n,i,false)}function BL(n){var e,t,r;this.a=new Os;this.e=new va;this.f=0;for(t=0,r=n.length;t<r;++t){e=n[t];!this.g&&(this.g=e);rH(this,e)}}function xL(n){Xs(this);this.c=n.c;this.f=n.f;this.e=n.e;this.k=n.k;this.d=n.d;this.g=lw(n.g);this.j=n.j;this.i=n.i;this.b=lw(n.b)}function $L(n){switch(n.e){case 1:return WC(),OQ;case 4:return WC(),LQ;case 2:return WC(),GQ;case 3:return WC(),IQ}return WC(),NQ}function UL(n,e){if(xT(n,e)){sg(n.g,e);return true}e.g!=(SD(),WW)&&sg(n.i,e);e.e.c.length==0?sg(n.c,e):sg(n.b,e);return false}function FL(n,e){var t,r;xj(0,n.c.length);t=dN(e,Vj(WU,WB,1,e.a.Y(),4,1));r=t.length;if(r==0){return false}Rw(n.c,0,t);return true}function VL(n,e){var t=0;while(!e[t]||e[t]==""){t++}var r=e[t++];for(;t<e.length;t++){if(!e[t]||e[t]==""){continue}r+=n+e[t]}return r}function zL(){var e;if(Aq!=0){e=pj();if(e-_q>2e3){_q=e;Mq=n.setTimeout(zc,10)}}if(Aq++==0){rS((Hi(),Dq));return true}return false}function qL(n){var e,t;for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);e.j.d=-e.j.d-e.j.c;!!e.o&&(e.g.a=-e.g.a+e.o.j.c)}MA(n)}function QL(n,e){var t;t=n;while(e.b<e.d.Y()&&t==n){t=(Ns(e.b<e.d.Y()),ww(e.d.sb(e.c=e.b++),7)).g}t==n||(Ns(e.b>0),e.a.sb(e.c=--e.b))}function KL(n){var e;if(!rh(ww(MH(n,(mB(),xK)),28))){return}e=n.c;dR(($j(0,e.c.length),ww(e.c[0],16)));dR(ww(Uw(e,e.c.length-1),16))}function WL(n,e,t){GL(t,"Compound graph preprocessor",1);n.a=new Df;j_(n,e,null);Z_(n,e);Ny(e,(gB(),H9),n.a);n.a=null;Dj(n.b);kI(t)}function JL(n){var e,t;e=ww(Jk(mg(SI(n))),12);t=ww(Jk(mg(EI(n))),12);return!ya(Sa(xh(MH(e,(gB(),i8)))))||!ya(Sa(xh(MH(t,i8))))}function ZL(n,e,t){if(e.g==(hO(),a1)&&t.g==i1){n.d=LC(e,(SD(),KW));n.b=LC(e,TW)}if(t.g==a1&&e.g==i1){n.d=LC(t,(SD(),TW));n.b=LC(t,KW)}}function XL(n,e,t){var r,i,a,c;a=e.g;c=t.g;if(a!=c){return a.e-c.e}else{r=n.a[e.k];i=n.a[t.k];return!r&&!i?0:!r?-1:!i?1:zH(r.a,i.a)}}function nG(n,e,t,r){var i,a,c,u;a=e;i=t-1;while(a<=i){c=a+i>>>1;u=n[c];if(u<r){a=c+1}else if(u>r){i=c-1}else{return c}}return-(a+1)}function eG(n){return gl(n,137)?(qv(),new sh(ww(n,137))):gl(n,18)?(qv(),new Lc(ww(n,18))):gl(n,20)?Yk(ww(n,20)):(qv(),new rr(n))}function tG(n,e,t){return gl(t,137)?new Ah(n,e,ww(t,137)):gl(t,18)?new Yh(n,e,ww(t,18)):gl(t,20)?hm(n,e,ww(t,20),null):new qj(n,e,t,null)}function rG(n,e){var t;t=n.ub(e);try{return t.H()}catch(n){n=mC(n);if(gl(n,74)){throw new Ha("Can't get element "+e)}else throw hI(n)}}function iG(n,e){Ll();ld(n);try{return n.cb(e)}catch(n){n=mC(n);if(gl(n,119)){return null}else if(gl(n,76)){return null}else throw hI(n)}}function aG(n,e){var t=n.a;var r;e=String(e);t.hasOwnProperty(e)&&(r=t[e]);var i=(CH(),Zq)[typeof r];var a=i?i(r):_C(typeof r);return a}function cG(n,e,t,r){if(e<t){n.b=.5*(e+t);n.p=EU*n.b+.9*e;n.a=EU*n.b+.9*t}else{n.b=.5*(e+r);n.p=EU*n.b+.9*r;n.a=EU*n.b+.9*e}}function uG(n){du.call(this,n);this.b=new dP(n,false,null,(Qs(),GV),false,null,GV);this.a=new GE(null,1);Ri(this.a,this.a);this.c=new l}function fG(n){pa();this.c=new De;this.d=n;switch(n.e){case 0:case 2:this.a=Op(fX);this.b=E$;break;case 3:case 1:this.a=fX;this.b=H$}}function oG(){oG=r;pQ=new Mu("AUTOMATIC",0);yQ=new Mu(zx,1);SQ=new Mu(qx,2);EQ=new Mu("TOP",3);mQ=new Mu("BOTTOM",4);jQ=new Mu(Qx,5)}function sG(n){os();var e,t,r;t=":"+n;r=jtn[t];if(!(r===undefined)){return r}r=ptn[t];e=r===undefined?bP(n):r;Ck();jtn[t]=e;return e}function lG(n,e,t,r,i,a,c){Ob();var u,f;f=c.length+6;u=new Fy(f);kH(u,UH(rc(WU,1),WB,1,4,[n,e,t,r,i,a]));kH(u,c);return ON(new Xt(u))}function hG(n){var e;e=ww(MH(n,(mB(),OK)),18);if(e.V()){return}if(e.kb((HP(),eW))){e.nb(eW);e.ib(rW)}else if(e.kb(rW)){e.nb(rW);e.ib(eW)}}function bG(n){var e;e=ww(MH(n,(mB(),OK)),18);if(e.V()){return}if(e.kb((HP(),fW))){e.nb(fW);e.ib(cW)}else if(e.kb(cW)){e.nb(cW);e.ib(fW)}}function wG(n,e){var t,r,i,a;i=n.g;t=Sa($h(MH(n,(gB(),Z9))));a=e.g;r=Sa($h(MH(e,Z9)));return a!=(hO(),t1)?-1:i!=t1?1:t==r?0:t<r?-1:1}function dG(n,e,t){var r,i;r=pc(Qh(n,e.d),Qh(n,e.c));i=gc(Qh(n,e.d),Qh(n,e.c));return xy(tC(VC(t,HI(r),(Qs(),GV),HI(i),GV),(Js(),Iq)))}function gG(n,e){Ll();ld(n);try{return n.R(e)}catch(n){n=mC(n);if(gl(n,119)){return false}else if(gl(n,76)){return false}else throw hI(n)}}function vG(n,e){qs();ld(n);try{return um(n,e)}catch(n){n=mC(n);if(gl(n,119)){return false}else if(gl(n,76)){return false}else throw hI(n)}}function kG(n,e){if(n.e<e.e){return-1}else if(n.e>e.e){return 1}else if(n.f<e.f){return-1}else if(n.f>e.f){return 1}return Eh(n)-Eh(e)}function pG(n){switch(n.e){case 1:return SD(),JW;case 4:return SD(),TW;case 3:return SD(),OW;case 2:return SD(),KW;default:return SD(),WW}}function mG(n){var e,t;e=lg(n.c,n.c.length);switch(e.length){case 0:return BV;case 1:t=new md(e[0]);return t;default:return new em(gI(e))}}function jG(n){var e,t,r,i;r=Vj(HF,WB,64,n.c.length,0,1);i=0;for(t=new Xt(n);t.a<t.c.c.length;){e=ww($p(t),64);r[i++]=e}return new vt(r)}function yG(n){var e,t;if(!n.b){n.b=Ml(n.a.b.c.length);for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),33);nw(n.b,new ht(e))}}return n.b}function SG(n,e){var t,r,i;if(n.e){return 1}t=0;for(i=new Xt(e.f);i.a<i.c.c.length;){r=ww($p(i),7);t+=r.b.c.length+r.e.c.length}return t}function EG(n){var e,t,r,i;e=false;i=false;for(r=new Xt(n.f);r.a<r.c.c.length;){t=ww($p(r),7);e=e|t.g==(SD(),OW);i=i|t.g==JW}return e&&i}function HG(n){var e,t;this.b=new De;this.c=n;this.a=false;for(t=new Xt(n.b);t.a<t.c.c.length;){e=ww($p(t),9);this.a=this.a|e.g==(hO(),a1)}}function CG(n){vh.call(this);this.g=(hO(),a1);this.f=(hS(6,Hx),new Fy(6));this.c=(hS(2,Hx),new Fy(2));this.e=new Be;this.b=new Be;this.a=n}function IG(n,e,t,r,i,a){Xs(this);this.e=n;this.f=e;this.d=t;this.c=r;this.g=i;this.b=a;this.j=Sa($h(i.mb().H()));this.i=Sa($h(BS(i)))}function LG(n,e){if(n==null){throw new Qa("null key in entry: null="+e)}else if(e==null){throw new Qa("null value in entry: "+n+"=null")}}function GG(){GG=r;l5=Kw(new xI,(dB(),C0));h5=new ew("linearSegments.inputPrio",HI(0));b5=new ew("linearSegments.outputPrio",HI(0))}function NG(n){var e,t,r,i;for(t=(i=new Qt(n.b).a.bb().mb(),new Kt(i));t.a.G();){e=(r=ww(t.a.H(),21),ww(r.zb(),19));e.Q()}Dj(n.b);n.c=0}function OG(n,e){var t,r;xj(e,n.b);if(e>=n.b>>1){r=n.c;for(t=n.b;t>e;--t){r=r.b}}else{r=n.a.a;for(t=0;t<e;++t){r=r.a}}return new mw(n,e,r)}function TG(n,e){var t,r,i;i=new La;for(r=n.mb();r.G();){t=ww(r.H(),55);rA(t,i.a,0);i.a+=t.e.a+e;i.b=wc(i.b,t.e.b)}i.b>0&&(i.b+=e);return i}function PG(n,e){var t,r,i;i=new La;for(r=n.mb();r.G();){t=ww(r.H(),55);rA(t,0,i.b);i.b+=t.e.b+e;i.a=wc(i.a,t.e.a)}i.a>0&&(i.a+=e);return i}function RG(n,e,t){var r,i,a;i=ww(Vg(n.c,e),176);if(!i){r=new Yw(n,e,t);mv(n.c,e,r);np(r);return null}else{a=Mb(i,t);Jl(n,i);return a}}function YG(n,e){if(!UR(n.b).kb(e.c)){return false}return dk(n.b)?!(pw(e.d,n.c,n.a)&&pw(e.a,n.c,n.a)):pw(e.d,n.c,n.a)&&pw(e.a,n.c,n.a)}function AG(n,e){return n.c<e.c||n.c==e.c&&Dg(n.a)&&Dg(e.a)&&Qh(n.d,Ds(n.a,n.b))>Qh(n.d,Ds(e.a,e.b))?-1:n.c==e.c&&Ds(n.a,n.b)==Ds(n.a,n.b)?0:1}function _G(n,e,t){if(n.e){switch(n.b){case 1:yv(n.c,e,t);break;case 0:jv(n.c,e,t)}}else{xp(n.c,e,t)}n.a[e.k][t.k]=n.c.i;n.a[t.k][e.k]=n.c.e}function MG(n,e,t){switch(t.e){case 1:n.a=e.a/2;n.b=0;break;case 2:n.a=e.a;n.b=e.b/2;break;case 3:n.a=e.a/2;n.b=e.b;break;case 4:n.a=0;n.b=e.b/2}}function DG(n){switch(n.e){case 8:return SD(),TW;case 9:return SD(),KW;case 10:return SD(),OW;case 11:return SD(),JW;default:return SD(),WW}}function BG(n){var e,t,r;e="Ot";r=pc(n.length,5);for(t=0;t<r;t++){if(Xi(n[t].d,e)){n.length>=t+1&&(n.splice(0,t+1),undefined);break}}return n}function xG(n,e){if(Rl(n)){return!!FU[e]}else if(n._c){return!!n._c[e]}else if(Pl(n)){return!!UU[e]}else if(Lh(n)){return!!$U[e]}return false}function $G(){KH();this.i=(Ll(),new Lr);this.a=new Lr;this.k=new Lr;this.j=new Lr;this.b=new Lr;this.n=new Lr;this.f=new Lr;this.e=new Lr}function UG(n,e){var t,r;if(e.a.R(n)){return}else{r=ww(MH(n,(gB(),O9)),32);t=ww(Uw(n.f,0),7);r==(SD(),TW)?ib(t,KW):r==KW&&ib(t,TW);e.a.db(n,e)}}function FG(n){var e,t;t=gc(1,ww(MH(n,(gB(),n8)),24).a);n.c.f.g==(hO(),a1)&&n.d.f.g==a1?e=1:n.c.f.g==a1||n.d.f.g==a1?e=2:e=8;return t*e}function VG(n){var e,t,r,i,a;a=ww(MH(n,(gB(),F9)),7);e=ww(KG(n.b,Vj($X,M$,12,n.b.c.length,0,1)),47);for(r=0,i=e.length;r<i;++r){t=e[r];Sk(t,a)}}function zG(n){var e,t,r,i,a;t=ww(MH(n,(gB(),F9)),7);e=ww(KG(n.e,Vj($X,M$,12,n.e.c.length,0,1)),47);for(i=0,a=e.length;i<a;++i){r=e[i];Ek(r,t)}}function qG(n){var e,t;pe(this);t=n.i;e=Fh(new Au(t.a,t.b),n.j);this.d=vc(t.b,e.b);this.a=wc(t.b,e.b);this.b=vc(t.a,e.a);this.c=wc(t.a,e.a)}function QG(n,e,t,r){var i,a,c,u;!r&&(r=(zf(),zf(),Hen));i=(a=uL(n,e,t),c=(u=new Array(t-e),vy(u,n)),RN(n,e,c,0,a,true),c);aP(i,n,e,t,-e,r)}function KG(n,e){var t,r,i;i=n.c.length;e.length<i&&(e=(r=new Array(i),vy(r,e)));for(t=0;t<i;++t){Og(e,t,n.c[t])}e.length>i&&Og(e,i,null);return e}function WG(n,e){var t,r,i;i=n.a.length;e.length<i&&(e=(r=new Array(i),vy(r,e)));for(t=0;t<i;++t){Og(e,t,n.a[t])}e.length>i&&Og(e,i,null);return e}function JG(n){return Rl(n)?n:Pl(n)?ou((gd(n),n)):Lh(n)?El(ya((gd(n),n))):Cd(n)?n.w():rd(n)?Dk(n):n.toString?n.toString():"[JavaScriptObject]"}function ZG(n){var e,t,r,i,a;a=0;for(t=n.b,r=0,i=t.length;r<i;++r){e=t[r];e.g==(hO(),i1)||mv(n.c,e,HI(a++));NI(n,e,n.d,(SD(),TW));NI(n,e,n.j,KW)}}function XG(){XG=r;y5=new Xf("SIMPLE",0);p5=new Xf(rU,1);m5=new Xf("LINEAR_SEGMENTS",2);k5=new Xf("BRANDES_KOEPF",3);j5=new Xf(uU,4)}function nN(){nN=r;v8=new go(Jx,0);b8=new go("FIRST",1);w8=new go("FIRST_SEPARATE",2);d8=new go("LAST",3);g8=new go("LAST_SEPARATE",4)}function eN(){eN=r;g6=new oe;w6=qw(new xI,(dB(),O0));d6=Fw(qw(new xI,Q0),q0);h6=Fw(Qw(qw(zw(new xI,R0),A0),M0),Y0);b6=Fw(Qw(new xI,M0),j0)}function tN(n){var e,t,r,i;for(t=(i=new zt(n.d.a).a.bb().mb(),new qt(i));t.a.G();){e=(r=ww(t.a.H(),21),ww(r.yb(),12));nw(e.c.e,e);nw(e.d.b,e)}}function rN(n,e){var t,r;Ls(e>0);if((e&-e)==e){return Uk(e*BP(n,31)*4.656612873077393e-10)}do{t=BP(n,31);r=t%e}while(t-r+(e-1)<0);return Uk(r)}function iN(n,e){if(n.c.f==e){return n.d.f}else if(n.d.f==e){return n.c.f}else{throw new Ca("Node "+e+" is neither source nor target of edge "+n)}}function aN(n,e,t){Ls(n>=0&&n<=1114111);if(n>=TB){e[t++]=55296+(n-TB>>10&1023)&PB;e[t]=56320+(n-TB&1023)&PB;return 2}else{e[t]=n&PB;return 1}}function cN(n,e){Ks();var t,r;while(n.G()){if(!e.G()){return false}t=n.H();r=e.H();if(!($o(t)===$o(r)||t!=null&&CC(t,r))){return false}}return!e.G()}function uN(n){var e,t,r;Oa(n.b.a);n.a=Vj(EZ,WB,25,n.c.b.a.b.c.length,0,1);e=0;for(r=new Xt(n.c.b.a.b);r.a<r.c.c.length;){t=ww($p(r),25);t.k=e++}}function fN(n){var e,t,r,i;Sm(n.c,n.a);for(i=new Xt(n.c);i.a<i.c.c.length;){r=$p(i);for(t=new Xt(n.b);t.a<t.c.c.length;){e=ww($p(t),160);e.Ec(r)}}}function oN(n){var e,t;if(!n.a){n.a=Ml(ww(n.e,9).c.c.length);for(t=new Xt(ww(n.e,9).c);t.a<t.c.c.length;){e=ww($p(t),33);nw(n.a,new ht(e))}}return n.a}function sN(n){var e,t;if(!n.b){n.b=Ml(ww(n.e,7).c.c.length);for(t=new Xt(ww(n.e,7).c);t.a<t.c.c.length;){e=ww($p(t),33);nw(n.b,new ht(e))}}return n.b}function lN(n){this.b=n;this.c=(Ll(),new Lr);this.i=new Lr;this.d=new Lr;this.j=new Lr;this.k=$o(MH($g(n[0]),(mB(),gK)))===$o((JC(),BQ));ZG(this)}function hN(n){switch(n.e){case 1:return 4.71238898038469;default:case 2:return 0;case 3:return 1.5707963267948966;case 4:return 3.141592653589793}}function bN(n){Ks();var e;e=Mj(n);if(!AI(n)){throw new Ha("position (0) must be less than the number of elements that remained ("+e+")")}return Jk(n)}function wN(n,e){var t,r;t=n.ub(e);try{r=t.H();t.I();return r}catch(n){n=mC(n);if(gl(n,74)){throw new Ha("Can't remove element "+e)}else throw hI(n)}}function dN(n,e){var t,r,i,a;a=n.Y();e.length<a&&(e=(i=new Array(a),vy(i,e)));r=n.mb();for(t=0;t<a;++t){Og(e,t,r.H())}e.length>a&&Og(e,a,null);return e}function gN(n,e,t){if(!!t&&(e<0||e>t.a.c.length)){throw new Ca("index must be >= 0 and <= layer node count")}!!n.d&&gy(n.d.a,n);n.d=t;!!t&&fd(t.a,e,n)}function vN(n,e,t,r,i,a,c,u){var f,o;if(!r){return}f=r.a[0];!!f&&vN(n,e,t,f,i,a,c,u);NN(n,t,r.d,i,a,c,u)&&e.ib(r);o=r.a[1];!!o&&vN(n,e,t,o,i,a,c,u)}function kN(n,e,t){if(n<0){throw new Ha(xB+n+" < 0")}if(e>t){throw new Ha("toIndex: "+e+" > size "+t)}if(n>e){throw new Ca(xB+n+" > toIndex: "+e)}}function pN(n,e){var t,r,i;t=e.yb();i=e.zb();r=n.cb(t);if(!($o(i)===$o(r)||i!=null&&CC(i,r))){return false}if(r==null&&!n.R(t)){return false}return true}function mN(n,e,t){var r;r=e.c.f;if(r.g==(hO(),i1)){Ny(n,(gB(),B9),ww(MH(r,B9),7));Ny(n,x9,ww(MH(r,x9),7))}else{Ny(n,(gB(),B9),e.c);Ny(n,x9,t.d)}}function jN(n,e,t){var r;r=e.c.f;if(r.g==(hO(),i1)){Ny(n,(gB(),B9),ww(MH(r,B9),7));Ny(n,x9,ww(MH(r,x9),7))}else{Ny(n,(gB(),B9),e.c);Ny(n,x9,t.d)}}function yN(n,e,t){var r,i,a,c,u;sS(n);for(i=(n.i==null&&(n.i=Vj(JU,SB,46,0,0,1)),n.i),a=0,c=i.length;a<c;++a){r=i[a];yN(r,e,"\t"+t)}u=n.e;!!u&&yN(u,e,t)}function SN(n,e){var t=new Array(e);var r;switch(n){case 11:case 12:r=0;break;case 13:r=false;break;default:return t}for(var i=0;i<e;++i){t[i]=r}return t}function EN(n){var e,t,r,i;i=Vj(n1,SB,51,n.a.length,0,2);for(t=0;t<i.length;t++){r=n.a[t].length;e=Vj(n1,v$,9,r,0,1);T_(n.a[t],0,e,0,r);i[t]=e}return i}function HN(n){var e,t;if(!n.b){n.b=Ml(ww(n.e,9).f.c.length);for(t=new Xt(ww(n.e,9).f);t.a<t.c.c.length;){e=ww($p(t),7);nw(n.b,new sf(e,n.c))}}return n.b}function CN(n,e){Ll();ld(n);try{return Rl(e)?Mv(n,e):AP(n.d,e)}catch(n){n=mC(n);if(gl(n,119)){return null}else if(gl(n,76)){return null}else throw hI(n)}}function IN(n){var e;e=(XS(),Lnn);return e[n>>>28]|e[n>>24&15]<<4|e[n>>20&15]<<8|e[n>>16&15]<<12|e[n>>12&15]<<16|e[n>>8&15]<<20|e[n>>4&15]<<24|e[n&15]<<28}function LN(n,e,t){var r,i;if(e.c==(nE(),j8)&&t.c==m8){return-1}else if(e.c==m8&&t.c==j8){return 1}r=fL(e.a,n.a);i=fL(t.a,n.a);return e.c==j8?i-r:r-i}function GN(n){var e,t,r,i,a;i=NB;a=null;for(r=new Xt(n.d);r.a<r.c.c.length;){t=ww($p(r),89);if(t.c.j^t.d.j){e=t.d.e-t.c.e-t.a;if(e<i){i=e;a=t}}}return a}function NN(n,e,t,r,i,a,c){var u,f;if(e.Xc()&&(f=n.a.$b(t,r),f<0||!i&&f==0)){return false}if(e.Yc()&&(u=n.a.$b(t,a),u>0||!c&&u==0)){return false}return true}function ON(n){Ob();var e,t;if(!n.G()){return Zg(),gq}t=n.H();if(!n.G()){return new Uc(t)}e=new Os;sg(e,ld(t));do{sg(e,ld(n.H()))}while(n.G());return zC(e)}function TN(n,e,t){n.e=e;n.a=t;n.d=lH(n,(SD(),OW));n.d+=lH(n,JW);gR(n,e,t,OW,n.f);gR(n,e,t,JW,n.n);n.b=lH(n,OW);n.b+=lH(n,JW);gR(n,t,e,OW,n.f);gR(n,t,e,JW,n.n)}function PN(n){var e,t,r;t=(ji(),n.length);r=0;while(r<t&&n.charCodeAt(r)<=32){++r}e=t;while(e>r&&n.charCodeAt(e-1)<=32){--e}return r>0||e<t?n.substr(r,e-r):n}function RN(n,e,t,r,i,a){var c,u,f;if($o(n)===$o(t)){n=n.slice(e,e+i);e=0}for(u=e,f=e+i;u<f;){c=u+1e4<f?u+1e4:f;i=c-u;Bm(t,r,a?i:0,n.slice(u,c));u=c;r+=i}}function YN(n){var e,t,r;if(xN(n,(Ky(),tQ))<0){return-th((e=~n.l+1&Tx,t=~n.m+(e==0?1:0)&Tx,r=~n.h+(e==0&&t==0?1:0)&Px,Kb(e,t,r)))}return n.l+n.m*Rx+n.h*Yx}function AN(n,e){var t;t=n.f;switch(e.e){case 1:return-(n.i.b+n.j.b);case 2:return n.i.a-t.j.a;case 3:return n.i.b-t.j.b;case 4:return-(n.i.a+n.j.a)}return 0}function _N(){_N=r;SW=new Zu(Wx,0);yW=new Zu("FREE",1);jW=new Zu("FIXED_SIDE",2);kW=new Zu("FIXED_ORDER",3);mW=new Zu("FIXED_RATIO",4);pW=new Zu("FIXED_POS",5)}function MN(n,e){var t,r,i,a;t=ww(MH(e,(gB(),G9)),18);a=ww(LO(pX,t),18);for(i=a.mb();i.G();){r=ww(i.H(),18);if(!ww(LO(n.a,r),20).V()){return false}}return true}function DN(n,e,t){this.b=new sb;this.i=new De;this.d=new kt(this);this.g=n;this.a=e.c.length;this.c=e;this.e=ww(Uw(this.c,this.c.c.length-1),9);this.f=t;E_(this)}function BN(){BN=r;E7=new so("ALWAYS_UP",0);S7=new so("ALWAYS_DOWN",1);C7=new so("DIRECTION_UP",2);H7=new so("DIRECTION_DOWN",3);I7=new so("SMART",4)}function xN(n,e){var t,r,i,a,c,u,f,o;f=n.h>>19;o=e.h>>19;if(f!=o){return o-f}i=n.h;u=e.h;if(i!=u){return i-u}r=n.m;c=e.m;if(r!=c){return r-c}t=n.l;a=e.l;return t-a}function $N(n){var e,t,r,i;for(t=(i=new zt(n.p.a).a.bb().mb(),new qt(i));t.a.G();){e=(r=ww(t.a.H(),21),ww(r.yb(),89));if(e.e&&n.b[e.b]<0){return e}}return null}function UN(n,e){var t,r,i,a,c;r=vc(n.d,e.d);a=vc(n.e,e.e);i=wc(n.d+n.c,e.d+e.c);c=wc(n.e+n.b,e.e+e.b);if(i<r){t=r;r=i;i=t}if(c<a){t=a;a=c;c=t}Jb(n,r,a,i-r,c-a)}function FN(n,e){var t;if(s$ in n.a){t=Tv(n,s$);if(!t.kc()){throw new ig("The 'properties' property of a graph element must be an object.",t,n)}eT(t.kc(),e,true)}}function VN(n,e){var t,r,i;r=n.b.j.e;n.a||(r+=n.b.j.b);i=e.b.j.e;e.a||(i+=e.b.j.b);t=zH(r,i);if(t==0){if(!n.a&&e.a){return-1}else if(!e.a&&n.a){return 1}}return t}function zN(n){var e,t;switch(ww(MH($g(n),(vB(),M8)),174).e){case 0:e=n.i;t=n.j;return new Au(e.a+t.a/2,e.b+t.b/2);case 1:return new xo(n.i);default:return null}}function qN(){zy();vh.call(this);this.g=(SD(),WW);this.a=new La;this.d=new Be;this.c=(hS(2,Hx),new Fy(2));this.b=(hS(4,Hx),new Fy(4));this.e=(hS(4,Hx),new Fy(4))}function QN(n,e,t){n.d=0;n.b=0;ZR(n,e,t);e.g==(hO(),c1)&&t.g==i1?Zj(e).g==(SD(),TW)?n.d=1:n.b=1:t.g==c1&&e.g==i1&&(Zj(t).g==(SD(),TW)?n.b=1:n.d=1);ZL(n,e,t)}function KN(n,e){var t,r;for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),9);n.a[t.d.k][t.k].a=TE(n.e);n.a[t.d.k][t.k].d=Sa(n.a[t.d.k][t.k].a);n.a[t.d.k][t.k].b=1}}function WN(n,e,t){var r,i,a;for(a=new Xt(e);a.a<a.c.c.length;){r=ww($p(a),9);n.a[r.d.k][r.k].e=false}for(i=new Xt(e);i.a<i.c.c.length;){r=ww($p(i),9);oD(n,r,t)}}function JN(n,e){var t,r,i,a;t=0;r=0;for(a=new Xt(e.b);a.a<a.c.c.length;){i=ww($p(a),33);t=wc(t,i.j.a);r+=i.j.b}Ny(e,(gB(),u8),new Au(t,r));n.k<t&&(n.k=t);n.j+=r}function ZN(n,e){this.c=(Ll(),new Lr);this.a=n;this.b=e;this.d=ww(MH(n,(gB(),c8)),134);$o(MH(n,(vB(),H8)))===$o((NS(),x5))?this.e=new Bi:this.e=new Di}function XN(n,e){var t,r,i,a;i=0;for(r=0;r<e.length;r++){t=e[r];if(r<e.length-1){a=e[r+1];i+=vI(n,t,a)}i+=(n.d=new lN(t),YT(n.d));i+=(n.a=new sL(t),pk(n.a))}return i}function nO(n){switch(n.c.e){case 1:return zy(),s1;case 2:return zy(),f1;case 3:return zy(),h1;case 4:return zy(),b1}throw new Ka("Can't filter on undefined side")}function eO(n,e){var t;try{t=n.c.a;if(!Sh(n.b,e)||!t){return 0}return zE(t,n.d,e)}catch(n){n=mC(n);if(gl(n,119)){return 0}else if(gl(n,76)){return 0}else throw hI(n)}}function tO(n){var e,t,r,i,a;for(r=new oC(new Ft(n.b).a);r.b;){t=AS(r);e=ww(t.yb(),9);a=ww(ww(t.zb(),27).a,9);i=ww(ww(t.zb(),27).b,10);Fh(So(e.i),Fh(vs(a.i),i))}}function rO(n,e,t){var r,i,a;r=zH(n.a[e.k],n.a[t.k]);if(r==0){i=ww(MH(e,(gB(),M9)),20);a=ww(MH(t,M9),20);if(i.kb(t)){return-1}else if(a.kb(e)){return 1}}return r}function iO(n,e){var t,r;r=Fh(vs(n.i),n.a);t=n.f.j;switch(e.e){case 1:return-r.b;case 2:return-r.a+t.a;case 3:return-r.b+t.b;case 4:return-r.a;default:return 0}}function aO(n,e){var t,r,i,a;for(i=0;i<e.length;i++){i+1<e.length&&Aj(n,e[i+1],(nE(),m8));a=e[i];t=0;for(r=0;r<a.length;r++){lB(n,a[r]);t+=n.Hc(a[r],t,(nE(),j8))}}}function cO(){cO=r;i7=Qw(Qw(Vw(new xI,(dB(),i2)),r2),a2);n7=Fw(Qw(qw(zw(new xI,R0),A0),M0),Y0);t7=qw(new xI,O0);r7=Fw(qw(new xI,Q0),q0);e7=Fw(Qw(new xI,M0),j0)}function uO(n,e,t,r){Na();var i=MU;Gtn=e;Ntn=t;DU=r;function a(){for(var n=0;n<i.length;n++){i[n]()}}if(n){try{Itn(a)()}catch(t){n(e,t)}}else{Itn(a)()}}function fO(n){zU==null&&(zU=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!uu(zU,n)){throw new Ic(YB+n+'"')}return parseFloat(n)}function oO(){oO=r;P7=new lo(Jx,0);T7=new lo("LEFTUP",1);Y7=new lo("RIGHTUP",2);O7=new lo("LEFTDOWN",3);R7=new lo("RIGHTDOWN",4);N7=new lo("BALANCED",5)}function sO(){sO=r;g7=new fo("V_TOP",0);d7=new fo("V_CENTER",1);w7=new fo("V_BOTTOM",2);h7=new fo("H_LEFT",3);l7=new fo("H_CENTER",4);b7=new fo("H_RIGHT",5)}function lO(){lO=r;WQ=new Qu(Jx,0);QQ=new Qu("DIRECTED",1);JQ=new Qu("UNDIRECTED",2);zQ=new Qu("ASSOCIATION",3);KQ=new Qu("GENERALIZATION",4);qQ=new Qu("DEPENDENCY",5)}function hO(){hO=r;a1=new hf("NORMAL",0);i1=new hf("LONG_EDGE",1);t1=new hf("EXTERNAL_PORT",2);c1=new hf("NORTH_SOUTH_PORT",3);r1=new hf("LABEL",4);e1=new hf("BIG_NODE",5)}function bO(n,e,t,r,i,a,c){var u,f,o,s,l;s=i[a];o=a==c-1;u=o?r:0;l=SN(u,s);r!=9&&UH(rc(n,c-a),e[a],t[a],u,l);if(!o){++a;for(f=0;f<s;++f){l[f]=bO(n,e,t,r,i,a,c)}}return l}function wO(n){var e,t,r;e=new De;for(r=new Xt(n.f);r.a<r.c.c.length;){t=ww($p(r),7);nw(e,ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[t.b,t.e]))))))}return ld(e),new Ss(e)}function dO(n,e,t){this.a=t;if(n>=e.length){throw new Ha("Greedy SwitchDecider: Free layer layer not in graph.")}this.b=e[n];this.c=new bb(this.b);this.d=new nH(this.b)}function gO(n,e){var t;this.f=n;this.b=this.f.c;t=n.d;Rm(e,t);if(e>=(t/2|0)){this.e=n.e;this.d=t;while(e++<t){Wp(this)}}else{this.c=n.a;while(e-- >0){Kp(this)}}this.a=null}function vO(n){var e,t,r;for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);r=e.j.d;e.j.d=e.j.e;e.j.e=r;r=e.j.c;e.j.c=e.j.b;e.j.b=r;r=e.g.a;e.g.a=e.g.b;e.g.b=r}MA(n)}function kO(n,e){var t,r,i;r=new Dp(n.b,0);while(r.b<r.d.Y()){t=(Ns(r.b<r.d.Y()),ww(r.d.sb(r.c=r.b++),33));i=ww(MH(t,(mB(),dK)),107);if(i==($E(),YQ)){rv(r);nw(e.b,t)}}}function pO(n,e,t){var r,i,a,c;c=Oy(n.f,e,0);a=new li;a.b=t;r=new Dp(n.f,c);while(r.b<r.d.Y()){i=(Ns(r.b<r.d.Y()),ww(r.d.sb(r.c=r.b++),9));i.k=t;nw(a.f,i);rv(r)}return a}function mO(n,e){Rr();var t,r,i;if(e.V()){return false}if(gl(e,207)){i=ww(e,207);for(r=i.bb().mb();r.G();){t=ww(r.H(),83);n.Bb(t.Zb(),t.Yb())}}else{YS(n,e.mb())}return true}function jO(){jO=r;fJ=new tf("DEFAULT_MINIMUM_SIZE",0);oJ=new tf("MINIMUM_SIZE_ACCOUNTS_FOR_INSETS",1);uJ=new tf("COMPUTE_INSETS",2);cJ=new tf("APPLY_ADDITIONAL_INSETS",3)}function yO(n){var e,t,r,i;t=n.a.b+2;i=Vj(iQ,o$,10,t,0,1);i[0]=vs(sp(n.c));r=OG(n.a,0);while(r.b!=r.d.c){e=ww(Tm(r),10);i[r.a]=new Au(e.a,e.b)}i[t-1]=vs(sp(n.d));return i}function SO(n,e,t){var r,i,a;for(i=n.bb().mb();i.G();){r=ww(i.H(),21);a=r.yb();if($o(e)===$o(a)||e!=null&&CC(e,a)){if(t){r=new To(r.yb(),r.zb());i.I()}return r}}return null}function EO(n,e,t){var r,i;r=n.a[e.d.k][e.k];i=n.a[t.d.k][t.k];if(r.a!=null&&i.a!=null){return Fd(r.a,i.a)}else if(r.a!=null){return-1}else if(i.a!=null){return 1}return 0}function HO(n,e,t){var r,i,a;i=e.c;a=e.d;r=t;if(sg(n.a,e)){UL(n,i)&&(r=true);UL(n,a)&&(r=true);if(r){gy(e.c.e,e);gy(e.d.b,e);sg(n.d,e)}JN(n,e);return true}return false}function CO(n,e,t){var r,i;i=ZI(n,e);if(i==n.c){return Wh(n,IL(n,e))}if(t){ET(n,e,n.c-i);return Wh(n,IL(n,e))}else{r=new xL(n);ET(r,e,n.c-i);return Wh(r,IL(r,e))}}function IO(){function n(){try{return(new Map).entries().next().done}catch(n){return false}}if(typeof Map===GB&&Map.prototype.entries&&n()){return Map}else{return HD()}}function LO(n,e){var t;t=ww(Vg(n.b,e),19);!t&&(t=n.Z());return gl(t,137)?new Ah(n,e,ww(t,137)):gl(t,18)?new Yh(n,e,ww(t,18)):gl(t,20)?hm(n,e,ww(t,20),null):new qj(n,e,t,null)}function GO(n){switch(ea(n.e)-ea(n.g)){case-2:gs(n.g)>0&&(n.g=zO(n.g));return VO(n);case 2:gs(n.e)<0&&(n.e=VO(n.e));return zO(n);default:n.d=1+gc(ea(n.e),ea(n.g));return n}}function NO(n,e){this.f=(Ll(),new Lr);this.b=new Lr;this.j=new Lr;this.a=n;this.c=e;this.c>0&&fP(this,this.c-1,(SD(),OW));this.c<this.a.length-1&&fP(this,this.c+1,(SD(),JW))}function OO(n){var e;if(n.c==null){e=$o(n.b)===$o(BU)?null:n.b;n.d=e==null?CB:Hd(e)?Tl(Pv(e)):Rl(e)?"String":Pc(eS(e));n.a=n.a+": "+(Hd(e)?nb(Pv(e)):e+"");n.c="("+n.d+") "+n.a}}function TO(n){var e,t,r,i;for(t=new Xt(n.a.c);t.a<t.c.c.length;){e=ww($p(t),9);for(i=OG(lw(e.c),0);i.b!=i.d.c;){r=ww(Tm(i),33);MH(r,(gB(),F9))==null&&gy(e.c,r)}}return null}function PO(n,e){var t,r,i,a,c;c=new De;for(r=ww(Nv(r3,n),20).mb();r.G();){t=ww(r.H(),75);gH(c,t.b)}_T(c);vS(c,n.a);for(a=new Xt(c);a.a<a.c.c.length;){i=ww($p(a),7);mb(e,i)}}function RO(n){var e,t,r,i;while(n.o.a.c.length!=0){t=ww(cC(n.o),27);r=ww(t.a,61);e=ww(t.b,89);i=WI(e,r);if(e.d==r){fg(i.g,e);r.e=i.e+e.a}else{fg(i.c,e);r.e=i.e-e.a}nw(n.e.a,r)}}function YO(n,e,t){var r,i,a;hS(t,"count");if(!Sh(n.b,e)){Ao(t==0);return 0}a=n.c.a;if(!a){t>0&&kP(n,e,t);return 0}i=Vj(ytn,Lx,26,1,12,1);r=ZA(a,n.d,e,t,i);bd(n.c,a,r);return i[0]}function AO(n,e){var t,r,i,a,c;i=ww(MH(e,(gB(),a8)),15).a*ww(MH(e,(vB(),R8)),15).a;c=n[0].i.a+n[0].j.a;for(a=1;a<n.length;a++){t=n[a].i;r=n[a].j;t.a<=c+i&&(t.a=c+i);c=t.a+r.a}}function _O(){_O=r;var n,e,t,i;Zen=Vj(Htn,DB,26,25,12,1);Xen=Vj(Htn,DB,26,33,12,1);i=152587890625e-16;for(e=32;e>=0;e--){Xen[e]=i;i*=.5}t=1;for(n=24;n>=0;n--){Zen[n]=t;t*=.5}}function MO(n){while(n.g.c!=0&&n.d.c!=0){if(nh(n.g).c>nh(n.d).c){n.i+=n.g.c;TL(n.d)}else if(nh(n.d).c>nh(n.g).c){n.e+=n.d.c;TL(n.g)}else{n.i+=Nw(n.g);n.e+=Nw(n.d);TL(n.g);TL(n.d)}}}function DO(n){if(!n){throw new ca("An element is null. The origin of an edge could not be determined, this might be due to an inconsistency within the internal element mappings.")}}function BO(n,e){var t,r;Dj(n.i);Dj(n.a);Dj(n.k);Dj(n.j);Dj(n.b);Dj(n.n);Dj(n.f);Dj(n.e);if(n.d){r=Tv(n.d,ZJ.b);!!r&&!!r.ic()&&(n.c=r.ic().a)}t=CD(n,e,null);_A(n,e);return t}function xO(n){var e,t,r,i,a,c;r=GA(Y_(n));e=K$;a=0;i=0;while(e>.5&&a<50){i=xR(r);t=CO(r,i,true);e=fu(t.b);++a}c=$h(rG(lw(n.g),lw(n.g).b-1));return CO(n,(gd(c),c)-i,false)}function $O(n){var e,t,r,i,a,c;r=GA(Y_(n));e=K$;a=0;i=0;while(e>.5&&a<50){i=BR(r);t=CO(r,i,true);e=fu(t.a);++a}c=$h(rG(lw(n.g),lw(n.g).b-1));return CO(n,(gd(c),c)-i,false)}function UO(n){var e,t,r,i;i=new Hc("[");e=false;for(r=n.mb();r.G();){t=r.H();e?(i.a+=", ",i):e=true;Zo(i,t===n?"(this Collection)":(ji(),t==null?CB:JG(t)))}i.a+="]";return i.a}function FO(n){var e,t,r,i;i=new Hc("{");e=false;for(r=n.bb().mb();r.G();){t=ww(r.H(),21);e?(i.a+=", ",i):e=true;Zo(i,lm(n,t.yb()));i.a+="=";Zo(i,lm(n,t.zb()))}i.a+="}";return i.a}function VO(n){var e;_o(!!n.g);e=n.g;n.g=e.e;e.e=n;e.j=n.j;e.a=n.a;n.a=1+na(n.e)+na(n.g);n.j=qC(qC(n.c,ta(n.e)),ta(n.g));n.d=1+gc(ea(n.e),ea(n.g));e.d=1+gc(ea(e.e),ea(e.g));return e}function zO(n){var e;_o(!!n.e);e=n.e;n.e=e.g;e.g=n;e.j=n.j;e.a=n.a;n.a=1+na(n.e)+na(n.g);n.j=qC(qC(n.c,ta(n.e)),ta(n.g));n.d=1+gc(ea(n.e),ea(n.g));e.d=1+gc(ea(e.e),ea(e.g));return e}function qO(n){var e;if(!vl(new Xt(HN(n.e)))){return}e=ww(iL(n.e,(mB(),xK)),28);e==(_N(),pW)?IY(n.e):e==mW?VM(n.e):ya(Sa(xh(iL(n.e,yK))))||n.e.e.j.a==0&&n.e.e.j.b==0?uY(n.e):_M(n)}function QO(n,e,t){var r,i,a;i=new Xt(n);if(i.a<i.c.c.length){a=ww($p(i),33);r=O_(a,e,t);while(i.a<i.c.c.length){a=ww($p(i),33);PS(r,O_(a,e,t))}return new Vm(r)}else{return null}}function KO(n,e){var t,r,i,a,c,u;i=0;for(r=new Xt(e.c);r.a<r.c.c.length;){t=ww($p(r),16);for(c=new Xt(t.a);c.a<c.c.c.length;){a=ww($p(c),9);u=a.j.a+a.e.c+a.e.b+n.b;i=i>u?i:u}}return i}function WO(n,e){Wm();var t;if(n.c==e.c){if(n.b==e.b||SS(n.b,e.b)){t=Tf(n.b)?1:-1;if(n.a&&!e.a){return t}else if(!n.a&&e.a){return-t}}return xs(n.b.e,e.b.e)}else{return zH(n.c,e.c)}}function JO(n){var e,t;t=vs(WE(UH(rc(iQ,1),o$,10,0,[n.f.i,n.i,n.a])));e=n.f.e;switch(n.g.e){case 1:t.b-=e.d;break;case 2:t.a+=e.c;break;case 3:t.b+=e.a;break;case 4:t.a-=e.b}return t}function ZO(n,e){var t;t=0;if(e.g==(hO(),c1)){if(Jj(e).f!=n.a){yo(n,Jj(e).f);n.e=true}n.e?++n.g:t+=n.f}else if(e.g==i1){n.e?t+=n.g:++n.f}else if(e.g==a1){yo(n,e);n.e=false}return t}function XO(n,e,t,r,i){var a,c,u,f;f=null;for(u=new Xt(r);u.a<u.c.c.length;){c=ww($p(u),187);if(c!=t&&Oy(c.e,i,0)!=-1){f=c;break}}a=sm(i);Ek(a,t.b);Sk(a,f.b);mP(n.a,i,new _b(a,e,t.f))}function nT(n){switch(ww(MH(n,(vB(),D8)),85).e){case 1:Ny(n,D8,(nN(),d8));break;case 2:Ny(n,D8,(nN(),g8));break;case 3:Ny(n,D8,(nN(),b8));break;case 4:Ny(n,D8,(nN(),w8))}}function eT(n,e,t){var r,i,a,c;if(n){for(i=(a=HE(n,Vj(bF,SB,2,0,5,1)),new Vt(new nr(new Ou(n,a).b)));i.b<i.d.Y();){r=(Ns(i.b<i.d.Y()),Uh(i.d.sb(i.c=i.b++)));c=Tv(n,r);jB(e,r,c,t)}}}function tT(n,e,t){var r,i,a,c,u,f;i=1;while(i<n){i*=2}f=2*i-1;i-=1;u=Vj(ytn,Lx,26,f,12,1);r=0;for(c=0;c<e;c++){a=t[c]+i;++u[a];while(a>0){a%2>0&&(r+=u[a+1]);a=(a-1)/2|0;++u[a]}}return r}function rT(n,e,t){var r,i,a,c;n.e=e;if(t){for(i=(c=new zt(n.a.a).a.bb().mb(),new qt(c));i.a.G();){r=(a=ww(i.a.H(),21),ww(a.yb(),12));Ny(r,(gB(),f8),n.e);ib(r.c,e.a);ib(r.d,e.b)}}}function iT(){iT=r;E3=new pf(Jx,0);j3=new pf(zx,1);H3=new pf(qx,2);S3=new pf("LEFT_RIGHT_CONSTRAINT_LOCKING",3);y3=new pf("LEFT_RIGHT_CONNECTION_LOCKING",4);m3=new pf("EDGE_LENGTH",5)}function aT(n,e,t,r){var i;this.b=r;this.e=n.a;i=e[t];this.d=ad(Stn,[SB,eU],[227,26],13,[i.length,i.length],2);this.a=ad(ytn,[SB,Lx],[52,26],12,[i.length,i.length],2);this.c=new NO(e,t)}function cT(n,e,t,r){var i,a;a=e;i=a.d==null||n.a.$b(t.d,a.d)>0?1:0;while(a.a[i]!=t){a=a.a[i];i=n.a.$b(t.d,a.d)>0?1:0}a.a[i]=r;r.b=t.b;r.a[0]=t.a[0];r.a[1]=t.a[1];t.a[0]=null;t.a[1]=null}function uT(n,e,t){var r,i,a,c;GL(t,S$,1);lD(n.d,e);c=gM(n.a,e);if(c.Y()==1){__(ww(c.sb(0),55),t)}else{a=1/c.Y();for(i=c.mb();i.G();){r=ww(i.H(),55);__(r,_E(t,a))}}ha(n.a,c,e);t_(e);kI(t)}function fT(n,e,t){var r,i,a,c,u;u=new fb(e,t);for(c=KR(u);c.G();){a=ww(c.H(),7);for(i=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[a.b,a.e]))))));AI(i);){r=ww(Jk(i),12);kj(r)||mT(n,e,a,r)}}}function oT(n,e){var t,r,i;i=hT(n,e);for(r=i.mb();r.G();){t=ww(r.H(),7);if(MH(t,(gB(),J9))!=null||AI(mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[t.b,t.e])))))))){return true}}return false}function sT(n){var e,t;if(nm(n)){throw new Ca(SU)}for(t=OG(n,0);t.b!=t.d.c;){e=ww(Tm(t),10);this.d=vc(this.d,e.b);this.c=wc(this.c,e.a);this.a=wc(this.a,e.b);this.b=vc(this.b,e.a)}}function lT(n,e,t){if(e<0||t<0){throw new Ca("The highx must be bigger then lowx and the highy must be bigger then lowy")}n.a<0?n.a=0:n.a>e&&(n.a=e);n.b<0?n.b=0:n.b>t&&(n.b=t);return n}function hT(n,e){switch(e.e){case 1:return gw(n.f,(zy(),s1));case 2:return gw(n.f,(zy(),f1));case 3:return gw(n.f,(zy(),h1));case 4:return gw(n.f,(zy(),b1));default:return qv(),qv(),ten}}function bT(n){var e,t,r,i;for(i=(Ks(),new Ps(Ms(vw(n.a,new h))));AI(i);){r=ww(Jk(i),9);r.g==(hO(),r1)&&Ny(r,(gB(),D9),(kL(),FJ));for(t=mg(EI(r));AI(t);){e=ww(Jk(t),12);CR(e,(kL(),FJ))}}}function wT(n){var e,t,r,i;for(i=(Ks(),new Ps(Ms(vw(n.a,new h))));AI(i);){r=ww(Jk(i),9);r.g==(hO(),r1)&&Ny(r,(gB(),D9),(kL(),UJ));for(t=mg(EI(r));AI(t);){e=ww(Jk(t),12);CR(e,(kL(),UJ))}}}function dT(n,e){this.b=new va;switch(n){case 0:this.d=new Bt(this);break;case 1:this.d=new Mt(this);break;case 2:this.d=new Dt(this);break;default:throw new ai}this.c=e;this.a=.2*e}function gT(n){var e,t,r,i;if(!n.b){n.b=new De;for(t=new Xt(n.a.c);t.a<t.c.c.length;){e=ww($p(t),16);for(i=new Xt(e.a);i.a<i.c.c.length;){r=ww($p(i),9);nw(n.b,new of(r,n.c))}}}return n.b}function vT(n,e){var t,r,i;t=Cb(e,n.e);r=ww(Vg(n.g.f,t),24).a;i=n.a.c.length-1;if(n.a.c.length!=0&&ww(Uw(n.a,i),128).c==r){++ww(Uw(n.a,i),128).a;++ww(Uw(n.a,i),128).b}else{nw(n.a,new bh(r))}}function kT(n){ji();var e,t;if(n>=TB){e=55296+(n-TB>>10&1023)&PB;t=56320+(n-TB&1023)&PB;return String.fromCharCode(e)+(""+String.fromCharCode(t))}else{return String.fromCharCode(n&PB)}}function pT(n,e,t,r){var i,a,c;i=$g(t);a=YI(i);c=new qN;jk(c,t);switch(r.e){case 1:ib(c,MC(KI(a)));break;case 2:ib(c,KI(a))}Ny(c,(gB(),U9),ww(MH(e,U9),15));Ny(e,F9,c);mv(n.b,c,e);return c}function mT(n,e,t,r){var i;nw(n.c,new Sv(n,t,r,ww(Vg(n.k,t),24).a));if(Dg(r)&&(e==n.e?r.d.f!=n.a&&r.c.f!=n.a:r.d.f!=n.e&&r.c.f!=n.e)){i=t==r.c?r.d:r.c;nw(n.c,new Sv(n,i,r,ww(Vg(n.k,i),24).a))}}function jT(n,e){var t,r,i;if(e===n){return true}if(!gl(e,57)){return false}i=ww(e,57);if(n.Y()!=i.Y()){return false}for(r=i.bb().mb();r.G();){t=ww(r.H(),21);if(!n._(t)){return false}}return true}function yT(n,e){var t,r,i;r=new CG(n);oI(r,e);Ny(r,(gB(),N9),e);Ny(r,(mB(),xK),(_N(),pW));Ny(r,uK,(oG(),jQ));wr(r,(hO(),t1));t=new qN;jk(t,r);ib(t,(SD(),JW));i=new qN;jk(i,r);ib(i,OW);return r}function ST(n,e){var t,r,i;i=NB;for(r=new Xt(_I(e));r.a<r.c.c.length;){t=ww($p(r),89);if(t.e&&!n.c[t.b]){n.c[t.b]=true;i=pc(i,ST(n,WI(t,e)))}}n.i[e.b]=n.j;n.g[e.b]=pc(i,n.j++);return n.g[e.b]}function ET(n,e,t){var r,i,a,c;c=n.g.tb();if(n.e){for(i=0;i<n.c;i++){c.H()}}else{for(i=0;i<n.c-1;i++){c.H()}}a=n.b.tb();r=Sa($h(c.H()));while(r-e<jU){r=Sa($h(c.H()));a.H()}c.M();GY(n,t,e,a,c)}function HT(n,e){var t,r,i,a;for(r=0,i=n.length;r<i;r++){a=n[r];try{a[1]?a[0].bd()&&(e=Td(e,a)):a[0].bd()}catch(n){n=mC(n);if(gl(n,46)){t=n;yg(gl(t,164)?ww(t,164).cc():t)}else throw hI(n)}}return e}function CT(n){var e,t,r;r=n.c.a;if(!r){return null}if(n.b.b){e=n.b.e;t=HC(n.c.a,n.d,e);if(!t){return null}n.b.d==(Qs(),GV)&&n.d.$b(e,t.b)==0&&(t=t.i)}else{t=n.a.i}return t==n.a||!Sh(n.b,t.b)?null:t}function IT(n,e){var t,r,i,a,c,u;a=0;for(r=new Xt(e.c);r.a<r.c.c.length;){t=ww($p(r),16);i=0;for(u=new Xt(t.a);u.a<u.c.c.length;){c=ww($p(u),9);i+=c.j.b+c.e.a+c.e.d+n.a}i-=n.a;a=a>i?a:i}return a}function LT(n){var e,t,r,i,a;a=NB;i=NB;for(r=new Xt(_I(n));r.a<r.c.c.length;){t=ww($p(r),89);e=t.d.e-t.c.e;t.d==n&&e<i?i=e:e<a&&(a=e)}i==NB&&(i=-1);a==NB&&(a=-1);return new _u(HI(i),HI(a))}function GT(n,e,t){var r,i,a,c,u;e.k=-1;for(u=rL(e,(nE(),j8)).mb();u.G();){c=ww(u.H(),7);for(i=new Xt(c.e);i.a<i.c.c.length;){r=ww($p(i),12);a=r.d.f;e!=a&&(a.k<0?t.ib(r):a.k>0&&GT(n,a,t))}}e.k=0}function NT(n,e){pe(this);if(0>e){throw new Ca("Top must be smaller or equal to bottom.")}else if(0>n){throw new Ca("Left must be smaller or equal to right.")}this.d=0;this.c=n;this.a=e;this.b=0}function OT(n){var e,t,r;pe(this);if(n.length==0){throw new Ca(SU)}for(t=0,r=n.length;t<r;++t){e=n[t];this.d=vc(this.d,e.b);this.c=wc(this.c,e.a);this.a=wc(this.a,e.b);this.b=vc(this.b,e.a)}}function TT(){dB();return UH(rc(f2,1),ZB,37,0,[$0,p0,u2,v0,m0,i2,N0,W0,w0,R0,K0,z0,D0,S0,h0,F0,X0,A0,_0,O0,t2,Z0,Q0,y0,J0,r2,e2,T0,L0,M0,d0,P0,a2,V0,E0,C0,B0,b0,g0,G0,H0,U0,q0,Y0,I0,n2,x0,k0,c2,j0])}function PT(n,e){var t,r,i,a,c,u,f,o,s;s=0;for(r=0,i=e.length;r<i;++r){t=e[r];for(c=0,u=t.length;c<u;++c){a=t[c];for(o=new Xt(a.f);o.a<o.c.c.length;){f=ww($p(o),7);f.k=s++}}}n.a=Vj(ytn,Lx,26,s,12,1)}function RT(n){Ks();var e,t,r;e=n.H();if(!n.G()){return e}r=new Oc;r.a+="expected one element but was: <"+e;for(t=0;t<4&&n.G();t++){Zo(r,", "+n.H())}n.G()&&(r.a+=", ...",r);r.a+=">";throw new Ca(r.a)}function YT(n){var e,t,r,i,a;e=0;for(r=n.b,i=0,a=r.length;i<a;++i){t=r[i];e+=ZO(n,t);if(rh(ww(MH(t,(mB(),xK)),28))){hT(t,(SD(),TW)).mb().G()&&(e+=cA(n,t,TW));hT(t,KW).mb().G()&&(e+=cA(n,t,KW))}}return e}function AT(n,e,t,r){var i,a,c,u,f;if(r.d.c+r.e.c==0){for(c=n.a[n.c],u=0,f=c.length;u<f;++u){a=c[u];mv(r,a,new LE(n,a,t))}}i=ww(Uo(_k(r.d,e)),284);i.b=0;i.c=i.f;i.c==0||hr(ww(Uw(i.a,i.b),128));return i}function _T(n){var e;qv();var t,r,i,a,c,u;if(gl(n,63)){for(a=0,i=n.Y()-1;a<i;++a,--i){e=n.sb(a);n.wb(a,n.sb(i));n.wb(i,e)}}else{t=n.tb();c=n.ub(n.Y());while(t.L()<c.N()){r=t.H();u=c.M();t.O(u);c.O(r)}}}function MT(n,e,t){if(n<0||n>t){return VT(n,t,"start index")}if(e<0||e>t){return VT(e,t,"end index")}return SY("end index (%s) must not be less than start index (%s)",UH(rc(WU,1),WB,1,4,[HI(e),HI(n)]))}function DT(n){if(!("id"in n.a)){throw new uh("Every graph element must specify an 'id' property.",n)}if(!Tv(n,"id").lc()){throw new uh("Invalid format for 'id'. Must be a string, was "+Tv(n,"id").$c,n)}}function BT(n,e){var t,r,i,a,c,u,f;f=n.b;for(r=ww(Nv(r3,n),20).mb();r.G();){t=ww(r.H(),75);for(u=(a=new zt(t.c.a).a.bb().mb(),new qt(a));u.a.G();){c=(i=ww(u.a.H(),21),ww(i.yb(),7));mb(e,c);MP(c,f)}}}function xT(n,e){var t,r,i;for(i=new Xt(e.e);i.a<i.c.c.length;){t=ww($p(i),12);if(t.d.f!=n.f){return true}}for(r=new Xt(e.b);r.a<r.c.c.length;){t=ww($p(r),12);if(t.c.f!=n.f){return true}}return false}function $T(n){var e,t,r,i;dv(n.c);dv(n.b);dv(n.a);for(i=(t=new zt(n.e).a.bb().mb(),new qt(t));i.a.G();){r=(e=ww(i.a.H(),21),ww(e.yb(),60));if(r.c!=2){mE(n.a,r);r.c==0&&mE(n.c,r)}mE(n.b,r)}n.d=false}function UT(n,e){var t;if(n===e){return true}if(gl(e,18)){t=ww(e,18);try{return n.Y()==t.Y()&&n.lb(t)}catch(n){n=mC(n);if(gl(n,76)){return false}else if(gl(n,119)){return false}else throw hI(n)}}return false}function FT(n,e,t){var r,i,a,c;c=e==null?0:n.b.Vc(e);i=(r=au(n.a,c),r==null?[]:r);if(i.length==0){nc(n.a,c,i)}else{a=wC(n,e,i);if(a){return a.Ab(t)}}Og(i,i.length,new To(e,t));++n.c;pb(n.b);return null}function VT(n,e,t){if(n<0){return SY(KB,UH(rc(WU,1),WB,1,4,[t,HI(n)]))}else if(e<0){throw new Ca(JB+e)}else{return SY("%s (%s) must not be greater than size (%s)",UH(rc(WU,1),WB,1,4,[t,HI(n),HI(e)]))}}function zT(n,e){if(n<0){return SY(KB,UH(rc(WU,1),WB,1,4,["index",HI(n)]))}else if(e<0){throw new Ca(JB+e)}else{return SY("%s (%s) must be less than size (%s)",UH(rc(WU,1),WB,1,4,["index",HI(n),HI(e)]))}}function qT(n){var e,t,r,i;i=Vj(n1,SB,51,n.c.c.length,0,2);r=new Dp(n.c,0);while(r.b<r.d.Y()){e=(Ns(r.b<r.d.Y()),ww(r.d.sb(r.c=r.b++),16));t=r.b-1;i[t]=ww(KG(e.a,Vj(n1,v$,9,e.a.c.length,0,1)),51)}return i}function QT(n,e,t,r,i){this.c=i;this.d=e;this.a=t;switch(i.e){case 4:this.b=fu(n.b);break;case 1:this.b=fu(n.d);break;case 2:this.b=fu(n.c-r.j.a);break;case 3:this.b=fu(n.a-r.j.b);break;default:this.b=0}}function KT(n,e,t,r,i){var a,c,u,f,o;if(e){for(u=e.mb();u.G();){c=ww(u.H(),9);for(o=qY(c,(nE(),j8),t).mb();o.G();){f=ww(o.H(),7);a=ww(Uo(_k(i.d,f)),80);if(!a){a=new tH(n);r.c[r.c.length]=a;hY(a,f,i)}}}}}function WT(n,e){var t,r,i;t=n.c;if(t.a.Y()>1){throw new Ca("In straight hyperEdges there may be only one edge.")}Xb((i=new zt(t.a).a.bb().mb(),r=ww(new qt(i).a.H(),21),ww(r.yb(),12)).a,new Au(e,n.b))}function JT(n,e,t){var r,i;this.f=n;r=ww(Vg(n.b,e),126);i=!r?0:r.a;Rm(t,i);if(t>=(i/2|0)){this.e=!r?null:r.c;this.d=i;while(t++<i){op(this)}}else{this.c=!r?null:r.b;while(t-- >0){fp(this)}}this.b=e;this.a=null}function ZT(n,e){if(typeof klaycallback===GB){klaycallback(e)}else{typeof document!==c$?Itn(n(e)):typeof module===yB&&module.exports&&Itn(n(e));typeof document===c$&&typeof self!==c$&&self.postMessage(e)}}function XT(n,e){var t,r,i,a;if("x"in n.a){i=ww(Tv(n,"x"),104);e.i.a=i.a}if("y"in n.a){a=ww(Tv(n,"y"),104);e.i.b=a.a}if(b$ in n.a){r=ww(Tv(n,b$),104);e.j.a=r.a}if(w$ in n.a){t=ww(Tv(n,w$),104);e.j.b=t.a}}function nP(n,e,t){var r,i;Bj(this);e==(Lk(),u7)?sg(this.g,n.c):sg(this.o,n.c);t==u7?sg(this.g,n.d):sg(this.o,n.d);sg(this.c,n);r=sp(n.c).b;i=sp(n.d).b;cG(this,r,i,i);this.f=nv(sp(n.c).b,sp(n.d).b)}function eP(n){var e,t,r,i,a,c;c=new fb(n.d,n.e);for(a=KR(c);a.G();){i=ww(a.H(),7);r=n.e==(SD(),JW)?i.b:i.e;for(t=new Xt(r);t.a<t.c.c.length;){e=ww($p(t),12);if(!kj(e)&&e.c.f.d!=e.d.f.d){vT(n,e);++n.f;++n.c}}}}function tP(n,e,t){var r,i,a,c,u;c=(qv(),new Lc(ww(Uw(e.a,t),18)));u=new Fy(c.b.Y());for(i=new ir(c.b.mb());i.b.G();){r=ww(i.b.H(),37);a=ww(Vg(n.a,r),31);if(!a){a=iB(r);mv(n.a,r,a)}u.c[u.c.length]=a}return u}function rP(n,e){var t,r,i,a;r=new Dp(n.f.c,0);while(r.b<r.d.Y()){t=(Ns(r.b<r.d.Y()),ww(r.d.sb(r.c=r.b++),16));a=e[r.b-1];i=new Dp(t.a,0);while(i.b<i.d.Y()){Ns(i.b<i.d.Y());i.d.sb(i.c=i.b++);jb(i,a[i.b-1])}}}function iP(n){var e,t;if(Rf(ww(MH(n,(mB(),xK)),28))){for(t=new Xt(n.f);t.a<t.c.c.length;){e=ww($p(t),7);e.g==(SD(),WW)&&uC(e)}}else{for(t=new Xt(n.f);t.a<t.c.c.length;){e=ww($p(t),7);uC(e)}Ny(n,xK,(_N(),jW))}}function aP(n,e,t,r,i,a){var c,u,f,o;c=r-t;if(c<7){eL(e,t,r,a);return}f=t+i;u=r+i;o=f+(u-f>>1);aP(e,n,f,o,-i,a);aP(e,n,o,u,-i,a);if(a.$b(n[o-1],n[o])<=0){while(t<r){Og(e,t++,n[f++])}return}rI(n,f,o,u,e,t,r,a)}function cP(e){if(!e){return Ci(),qq}var t=e.valueOf?e.valueOf():e;if(t!==e){var r=Zq[typeof t];return r?r(t):_C(typeof t)}else if(e instanceof Array||e instanceof n.Array){return new it(e)}else{return new ut(e)}}function uP(n,e,t){var r,i;r=t.c;i=t.d;if(n.g[r.b]<=n.i[e.b]&&n.i[e.b]<=n.i[r.b]&&n.g[i.b]<=n.i[e.b]&&n.i[e.b]<=n.i[i.b]){if(n.i[r.b]<n.i[i.b]){return false}return true}if(n.i[r.b]<n.i[i.b]){return true}return false}function fP(n,e,t){var r,i,a,c,u,f,o,s;o=0;for(i=n.a[e],a=0,c=i.length;a<c;++a){r=i[a];s=new fb(r,t);for(f=KR(s);f.G();){u=ww(f.H(),7);mv(n.f,u,HI(o));rh(ww(MH(r,(mB(),xK)),28))&&++o}rh(ww(MH(r,(mB(),xK)),28))||++o}}function oP(n,e,t){var r,i;ld(e);if(t.G()){i=ww(t.H(),21);Wo(e,Ol(n.a,i.yb()));Wo(e,n.b);Wo(e,Ol(n.a,i.zb()));while(t.G()){Wo(e,n.a.c);r=ww(t.H(),21);Wo(e,Ol(n.a,r.yb()));Wo(e,n.b);Wo(e,Ol(n.a,r.zb()))}}return e}function sP(n,e){var t,r;t=ww(Id(n.b,e),19);if(!t){return n.$()}r=n.Z();r.jb(t);n.c-=t.Y();t.Q();return gl(r,137)?(qv(),new sh(ww(r,137))):gl(r,18)?(qv(),new Lc(ww(r,18))):gl(r,20)?Yk(ww(r,20)):(qv(),new rr(r))}function lP(n,e){var t;e.d?e.d.b=e.b:n.a=e.b;e.b?e.b.d=e.d:n.e=e.d;if(!e.e&&!e.c){t=ww(Id(n.b,e.a),126);t.a=0;++n.c}else{t=ww(Vg(n.b,e.a),126);--t.a;!e.e?t.b=e.c:e.e.c=e.c;!e.c?t.c=e.e:e.c.e=e.e}--n.d}function hP(n,e,t){switch(t.e){case 1:return new Au(e.a,vc(n.d.b,e.b));case 2:return new Au(wc(n.c.a,e.a),e.b);case 3:return new Au(e.a,wc(n.c.b,e.b));case 4:return new Au(vc(e.a,n.d.a),e.b)}return new Au(e.a,e.b)}function bP(n){var e,t,r,i;e=0;r=(ji(),n.length);i=r-4;t=0;while(t<i){e=n.charCodeAt(t+3)+31*(n.charCodeAt(t+2)+31*(n.charCodeAt(t+1)+31*(n.charCodeAt(t)+31*e)));e=e|0;t+=4}while(t<r){e=e*31+Vb(n,t++)}e=e|0;return e}function wP(n,e){var t,r,i;this.a=n;this.c=e;this.b=Vj(n5,SB,673,n.length,0,2);for(t=0;t<n.length;++t){i=n[t].length;this.b[t]=Vj(n5,{673:1,3:1,5:1,6:1},102,i,0,1);for(r=0;r<i;++r){this.b[t][r]=new Dv(this,n[t][r].c)}}}function dP(n,e,t,r,i,a,c){var u;this.a=ww(ld(n),56);this.b=e;this.c=i;this.e=t;this.d=ww(ld(r),159);this.g=a;this.f=ww(ld(c),159);e&&n.$b(t,t);i&&n.$b(a,a);if(e&&i){u=n.$b(t,a);AC(u<=0,t,a);u==0&&Ao(r!=(Qs(),GV)|c!=GV)}}function gP(n){this.a=n;if(n.c.f.g==(hO(),t1)){this.c=n.c;this.d=ww(MH(n.c.f,(gB(),O9)),32)}else if(n.d.f.g==t1){this.c=n.d;this.d=ww(MH(n.d.f,(gB(),O9)),32)}else{throw new Ca("Edge "+n+" is not an external edge.")}}function vP(){vP=r;n6=Qw(new xI,(dB(),L0));t6=qw(new xI,O0);r6=Fw(qw(new xI,Q0),q0);X5=Fw(Qw(qw(new xI,S0),E0),H0);i6=qw(new xI,t2);e6=Fw(new xI,G0);J5=Fw(Qw(qw(zw(new xI,R0),A0),M0),Y0);Z5=Fw(Qw(new xI,M0),j0)}function kP(n,e,t){var r,i,a,c;hS(t,Ix);if(t==0){return eO(n,e)}Ao(Sh(n.b,e));c=n.c.a;if(!c){n.d.$b(e,e);i=new GE(e,t);_h(n.a,i,n.a);bd(n.c,null,i);return 0}a=Vj(ytn,Lx,26,1,12,1);r=NA(c,n.d,e,t,a);bd(n.c,c,r);return a[0]}function pP(n,e,t){var r,i,a,c,u,f;r=0;f=t;if(!e){r=t*(n.c.length-1);f*=-1}for(a=new Xt(n);a.a<a.c.c.length;){i=ww($p(a),9);Ny(i,(mB(),uK),(oG(),jQ));i.j.a=r;for(u=hT(i,(SD(),OW)).mb();u.G();){c=ww(u.H(),7);c.i.a=r}r+=f}}function mP(n,e,t){var r;r=ww(Vg(n.b,e),19);if(!r){r=n.Z();if(r.ib(t)){++n.c;mv(n.b,e,r);return true}else{throw new Uy("New Collection violated the Collection spec")}}else if(r.ib(t)){++n.c;return true}else{return false}}function jP(n,e,t){var r,i,a;QR(n,e,t);a=new De;for(i=new Xt(n.b.a.b);i.a<i.c.c.length;){r=ww($p(i),25);if(e.D(r)){nw(a,new cf(r,true));nw(a,new cf(r,false))}}uN(n.d);Am(a,n.c,new nr(UH(rc(UZ,1),WB,160,0,[n.d])));YR(n,e,t)}function yP(n,e){var t,r,i,a,c;n.c[e.k]=true;nw(n.a,e);for(c=new Xt(e.f);c.a<c.c.c.length;){a=ww($p(c),7);for(r=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[a.b,a.e]))))));AI(r);){t=ww(Jk(r),12);i=OL(a,t).f;n.c[i.k]||yP(n,i)}}}function SP(n,e,t,r){var i,a,c;if("labels"in e.a){c=Tv(e,"labels");if(!c.hc()){throw new ig("The 'labels' property of a node must be an array.",c,e)}a=c.hc();for(i=0;i<a.a.length;++i){gl(gS(a,i),69)&&lM(n,ww(gS(a,i),69),t,r)}}}function EP(n,e,t){var r,i,a,c,u,f;a=ww(Uw(e.b,0),12).c;r=a.f;i=r.g;f=ww(Uw(t.e,0),12).d;c=f.f;u=c.g;i==(hO(),i1)?Ny(n,(gB(),B9),ww(MH(r,B9),7)):Ny(n,(gB(),B9),a);u==i1?Ny(n,(gB(),x9),ww(MH(c,x9),7)):Ny(n,(gB(),x9),f)}function HP(){HP=r;eW=new Wu("H_LEFT",0);nW=new Wu("H_CENTER",1);rW=new Wu("H_RIGHT",2);fW=new Wu("V_TOP",3);uW=new Wu("V_CENTER",4);cW=new Wu("V_BOTTOM",5);iW=new Wu("INSIDE",6);aW=new Wu("OUTSIDE",7);tW=new Wu("H_PRIORITY",8)}function CP(n){Ed();var e,t,r;this.b=RZ;this.c=AZ;this.d=(WC(),NQ);this.g=(Li(),yZ);this.a=n;Ra(this,new m);MA(this);for(r=new Xt(n.b);r.a<r.c.c.length;){t=ww($p(r),25);if(!t.f){e=new BL(UH(rc(EZ,1),WB,25,0,[t]));nw(n.a,e)}}}function IP(n,e){var t,r,i,a;i=1;e.j=true;for(r=new Xt(_I(e));r.a<r.c.c.length;){t=ww($p(r),89);if(!n.c[t.b]){n.c[t.b]=true;a=WI(t,e);if(t.e){i+=IP(n,a)}else if(!a.j&&t.a==t.d.e-t.c.e){t.e=true;sg(n.p,t);i+=IP(n,a)}}}return i}function LP(n){var e,t,r,i,a,c,u,f;i=E$;r=H$;for(t=new Xt(n.e.c);t.a<t.c.c.length;){e=ww($p(t),16);for(c=new Xt(e.a);c.a<c.c.c.length;){a=ww($p(c),9);f=Sa(n.n[a.k]);u=f+Sa(n.b[n.f[a.k].k]);i=i<f?i:f;r=r>u?r:u}}return r-i}function GP(n){var e;e=new ua;Gy(e,"type",new hd((eb(wZ),wZ.n)));Gy(e,u$,new hd(n.f));!!n.b&&Gy(e,"value",n.b);!!n.a&&Gy(e,"context",n.a);Gy(e,f$,new hd(Nl(new Ia("\n"),new Vt(new nr((n.g==null&&(n.g=Jw(n)),n.g))))));return e}function NP(n,e){if(n.c<e.c){return-1}else if(n.c>e.c){return 1}else if(n.b<e.b){return-1}else if(n.b>e.b){return 1}else if(n.a!=e.a){return n.a.b-e.a.b}else if(n.d==0&&e.d==1){return-1}else if(n.d==1&&e.d==0){return 1}return 0}function OP(n,e){var t,r,i,a,c;if(e===n){return true}if(!gl(e,20)){return false}c=ww(e,20);if(n.Y()!=c.Y()){return false}a=c.mb();for(r=n.mb();r.G();){t=r.H();i=a.H();if(!($o(t)===$o(i)||t!=null&&CC(t,i))){return false}}return true}function TP(n){var e=(!Rq&&(Rq=UD()),Rq);var t=n.replace(/[\x00-\x1f\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u2028-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb"\\]/g,function(n){return ip(n,e)});return'"'+t+'"'}function PP(n,e){var t,r,i,a,c,u,f;i=e==1?IZ:CZ;for(r=(c=new zt(i.a).a.bb().mb(),new qt(c));r.a.G();){t=(a=ww(r.a.H(),21),ww(a.yb(),59));for(f=ww(LO(n.f.c,t),18).mb();f.G();){u=ww(f.H(),27);gy(n.b.b,u.b);gy(n.b.a,ww(u.b,25).f)}}}function RP(n,e,t){var r,i,a,c;GL(t,"Recursive layout",2);if(e.b.c.length!=0){c=1/e.b.c.length;for(a=new Xt(e.b);a.a<a.c.c.length;){i=ww($p(a),9);r=ww(MH(i,(gB(),$9)),55);if(r){RP(n,r,_E(t,c));a_(i,r)}}lD(n.d,e);__(e,t)}t_(e);kI(t)}function YP(n,e){Qm.call(this);this.d=new va;this.b=ww(MH(e,(gB(),a8)),15).a*ww(MH(e,(vB(),R8)),15).a;this.e=this.b*ww(MH(e,Q8),15).a;this.a=new Xr;this.c=new Xr;this.j=new Ev(n.j,n.k,0,n.n-n.k);this.o=n.g;this.g.a=n.i;U_(this,n)}function AP(n,e){var t,r,i,a,c;a=e==null?0:n.b.Vc(e);r=(t=au(n.a,a),t==null?[]:t);for(c=0;c<r.length;c++){i=r[c];if(n.b.Uc(e,i.yb())){if(r.length==1){r.length=0;n.a[NU](a)}else{r.splice(c,1)}--n.c;pb(n.b);return i.zb()}}return null}function _P(n,e,t){var r;r=null;!!e&&(r=e.e);PL(n,new uf(e.i.a-r.b+t.a,e.i.b-r.d+t.b));PL(n,new uf(e.i.a-r.b+t.a,e.i.b+e.j.b+r.a+t.b));PL(n,new uf(e.i.a+e.j.a+r.c+t.a,e.i.b-r.d+t.b));PL(n,new uf(e.i.a+e.j.a+r.c+t.a,e.i.b+e.j.b+r.a+t.b))}function MP(n,e){switch(e.e){case 2:ib(n,(SD(),OW));n.a.a=n.j.a;n.a.b=n.j.b/2;break;case 4:ib(n,(SD(),JW));n.a.a=0;n.a.b=n.j.b/2;break;case 1:ib(n,(SD(),TW));n.a.a=n.j.a/2;n.a.b=0;break;case 3:ib(n,(SD(),KW));n.a.a=n.j.a/2;n.a.b=n.j.b}}function DP(n,e){Rr();var t,r,i;if(e===n){return true}if(gl(e,207)){i=ww(e,207);if(n.Y()!=i.Y()||Mg(n).Y()!=i.bb().Y()){return false}for(r=i.bb().mb();r.G();){t=ww(r.H(),83);if(n.Cb(t.Zb())!=t.Yb()){return false}}return true}return false}function BP(n,e){var t,r,i,a,c,u;a=n.a*OU+n.b*1502;u=n.b*OU+11;t=Math.floor(u*oU);a+=t;u-=t*TU;a%=TU;n.a=a;n.b=u;if(e<=24){return Ko(n.a*Zen[e])}else{i=n.a*(1<<e-24);c=Ko(n.b*Xen[e]);r=i+c;r>=2147483648&&(r-=4294967296);return r}}function xP(n,e,t){var r,i,a;if(e==t){return}r=e;do{Fh(n,r.d);a=ww(MH(r,(gB(),K9)),9);if(a){i=r.a;zl(n,i.b,i.d);Fh(n,a.i);r=$g(a)}}while(a);r=t;do{Vh(n,r.d);a=ww(MH(r,(gB(),K9)),9);if(a){i=r.a;ql(n,i.b,i.d);Vh(n,a.i);r=$g(a)}}while(a)}function $P(n,e){var t,r,i,a,c,u;t=new De;u=new Vf;for(i=(c=new zt(n.a).a.bb().mb(),new qt(c));i.a.G();){r=(a=ww(i.a.H(),21),ww(a.yb(),12));HA(u,r.c,r,null);HA(u,r.d,r,null)}while(u.a){nw(t,KA(u,e,rh(ww(MH(e,(mB(),xK)),28))))}return t}function UP(n,e){var t,r,i,a,c;for(a=new Xt(n.e.a);a.a<a.c.c.length;){i=ww($p(a),61);if(i.c.c.length==i.g.c.length){r=i.e;c=LT(i);for(t=i.e-ww(c.a,24).a+1;t<i.e+ww(c.b,24).a;t++){e[t]<e[r]&&(r=t)}if(e[r]<e[i.e]){--e[i.e];++e[r];i.e=r}}}}function FP(n,e){var t,r,i,a,c,u,f;i=e==1?IZ:CZ;for(r=(c=new zt(i.a).a.bb().mb(),new qt(c));r.a.G();){t=(a=ww(r.a.H(),21),ww(a.yb(),59));for(f=ww(LO(n.f.c,t),18).mb();f.G();){u=ww(f.H(),27);nw(n.b.b,ww(u.b,25));nw(n.b.a,ww(u.b,25).f)}}}function VP(n){uw();var e,t,r,i,a,c,u;t=(Ll(),new gj);for(i=new Xt(n.e.c);i.a<i.c.c.length;){r=ww($p(i),16);for(c=new Xt(r.a);c.a<c.c.c.length;){a=ww($p(c),9);u=n.f[a.k];e=ww(uS(t,u),20);if(!e){e=new De;RG(t,u,e)}e.ib(a)}}return t}function zP(n,e){var t,r,i,a;for(r=new Xt(n.a.a);r.a<r.c.c.length;){t=ww($p(r),78);t.i=true}for(a=new Xt(n.a.b);a.a<a.c.c.length;){i=ww($p(a),25);i.p=ya(Sa(xh(n.f.B(new _u(i,e)))));i.f.i=i.f.i&ya(Sa(xh(n.f.B(new _u(i,e)))))}return n}function qP(n,e){var t,r,i,a;i=lw(EI(e));for(r=OG(i,0);r.b!=r.d.c;){t=ww(Tm(r),12);a=t.d.f;if(a.g==(hO(),e1)&&!(ya(Sa(xh(MH(a,(gB(),v9)))))&&MH(a,F9)!=null)){gy(a.d.a,a);jk(t.c,null);jk(t.d,null);return qP(n,a)}else{return e}}return e}function QP(n,e){var t,r,i,a,c,u,f;if(!e.e){throw new Ca("The input edge is not a tree edge.")}a=null;i=NB;for(r=new Xt(n.d);r.a<r.c.c.length;){t=ww($p(r),89);u=t.c;f=t.d;if(uP(n,u,e)&&!uP(n,f,e)){c=f.e-u.e-t.a;if(c<i){i=c;a=t}}}return a}function KP(n,e){var t,r,i,a,c;a=e.a;a.c.f==e.b?c=a.d:c=a.c;a.c.f==e.b?r=a.c:r=a.d;i=RL(n.a,c,r);if(i>0&&i<K$){t=lR(n.a,r.f,i);FS(n.a,r.f,-t);return t>0}else if(i<0&&-i<K$){t=hR(n.a,r.f,-i);FS(n.a,r.f,t);return t>0}return false}function WP(n,e,t,r,i){var a,c;if(!yE(WE(UH(rc(iQ,1),o$,10,0,[i.f.i,i.i,i.a])),t)){e.c==i?Zl(e.a,0,new xo(t)):Xb(e.a,new xo(t));if(r&&!iu(n.a,t)){c=ww(MH(e,(mB(),EK)),44);if(!c){c=new Xr;Ny(e,EK,c)}a=new xo(t);xm(c,a,c.c.b,c.c);sg(n.a,a)}}}function JP(n){var e,t,r,i,a,c,u;e=0;for(r=new Xt(n.a);r.a<r.c.c.length;){t=ww($p(r),9);for(a=mg(EI(t));AI(a);){i=ww(Jk(a),12);if(n==i.d.f.d&&i.c.g==(SD(),JW)){c=sp(i.c).b;u=sp(i.d).b;e=e>(u-c<=0?0-(u-c):u-c)?e:u-c<=0?0-(u-c):u-c}}}return e}function ZP(n,e){var t,r,i;if($o(e)===$o(ld(n))){return true}if(!gl(e,20)){return false}r=ww(e,20);i=n.Y();if(i!=r.Y()){return false}if(gl(r,63)){for(t=0;t<i;t++){if(!Qg(n.sb(t),r.sb(t))){return false}}return true}else{return cN(n.mb(),r.mb())}}function XP(n,e){var t,r,i,a,c,u,f,o;i=n.b[e.k];if(i>=0){return i}else{a=1;for(u=new Xt(e.f);u.a<u.c.c.length;){c=ww($p(u),7);for(r=new Xt(c.e);r.a<r.c.c.length;){t=ww($p(r),12);o=t.d.f;if(e!=o){f=XP(n,o);a=a>f+1?a:f+1}}}UI(n,e,a);return a}}function nR(n,e,t){var r,i,a,c,u,f;r=0;if(n.b!=0&&e.b!=0){a=OG(n,0);c=OG(e,0);u=Sa($h(Tm(a)));f=Sa($h(Tm(c)));i=true;do{u>f-t&&u<f+t&&++r;u<=f&&a.b!=a.d.c?u=Sa($h(Tm(a))):f<=u&&c.b!=c.d.c?f=Sa($h(Tm(c))):i=false}while(i)}return r}function eR(n,e){switch(tS(n)){case 5:return Rl(e);case 6:return Pl(e);case 7:return Lh(e);case 0:return xG(e,n.__elementTypeId$);case 2:return jg(e)&&!(e.ad===t);case 1:return jg(e)&&!(e.ad===t)||xG(e,n.__elementTypeId$);default:return true}}function tR(n,e){var t,r,i,a,c;e&=63;t=n.h;r=(t&524288)!=0;r&&(t|=-1048576);if(e<22){c=t>>e;a=n.m>>e|t<<22-e;i=n.l>>e|n.m<<22-e}else if(e<44){c=r?Px:0;a=t>>e-22;i=n.m>>e-22|t<<44-e}else{c=r?Px:0;a=r?Tx:0;i=t>>e-44}return Kb(i&Tx,a&Tx,c&Px)}function rR(n,e){switch(n.e){case 1:switch(e.e){case 1:return 1;case 4:return 2;case 3:return 3;case 2:return 4}break;case 2:switch(e.e){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4}break;default:throw new Ca(sU)}return 0}function iR(n,e,t){var r,i,a,c,u,f;r=new De;r.c[r.c.length]=e;f=e;u=0;do{f=pD(n,f);!!f&&(r.c[r.c.length]=f,true);++u}while(f);c=(t-(r.c.length-1)*n.d.d)/r.c.length;for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),9);i.j.a=c}return new _u(HI(u),c)}function aR(n,e,t){var r,i,a,c,u,f;r=new De;r.c[r.c.length]=e;f=e;u=0;do{f=ZM(n,f);!!f&&(r.c[r.c.length]=f,true);++u}while(f);c=(t-(r.c.length-1)*n.d.d)/r.c.length;for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),9);i.j.a=c}return new _u(HI(u),c)}function cR(n){var e,t,r,i,a,c;i=ww(Uw(n.f,0),7);c=0;for(r=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[new bt(i),new dt(i)]))))));AI(r);){t=ww(Jk(r),7);c+=t.f.i.a+t.i.a+t.a.a}e=ww(MH(n,(mB(),BK)),10);a=!e?0:e.a;n.i.a=c/(i.b.c.length+i.e.c.length)-a}function uR(n,e){var t,r,i,a;if(e<2*n.c){throw new Ca("The knot vector must have at least two time the dimension elements.")}n.j=0;n.i=1;for(r=0;r<n.c;r++){n.g.ib(0)}a=e+1-2*n.c;for(i=1;i<a;i++){n.g.ib(i/a)}if(n.e){for(t=0;t<n.c;t++){n.g.ib(1)}}}function fR(n){var e,t;t=n.c;n.c=0;Ri(n.f,n.i);if(!n.e){return n.g}else if(!n.g){return n.e}else if(n.e.d>=n.g.d){e=n.f;e.e=hE(n.e,e);e.g=n.g;e.a=n.a-1;e.j=KC(n.j,t);return GO(e)}else{e=n.i;e.g=bE(n.g,e);e.e=n.e;e.a=n.a-1;e.j=KC(n.j,t);return GO(e)}}function oR(n){var e,t,r,i,a,c;for(i=new Xt(n.a);i.a<i.c.c.length;){r=ww($p(i),9);if(r.g==(hO(),c1)){a=ww(MH(r,(gB(),_9)),9);t=r.f;e=($j(0,t.c.length),ww(t.c[0],7));c=ww(MH(e,F9),7);c.g==(SD(),TW)&&r.k>a.k?ib(c,KW):c.g==KW&&a.k>r.k&&ib(c,TW)}}}function sR(n,e,t){var r,i,a,c,u,f,o;o=n.b;c=0;for(a=new Xt(n.a.b);a.a<a.c.c.length;){i=ww($p(a),33);c=wc(c,i.j.a)}f=wD(n.a.c,n.a.d,e,t,c);wE(n.a.a,SL(f));u=QO(n.a.b,f.a,o);r=new Vm((!f.k&&(f.k=new sT(vE(f))),f.k));sk(r);return!u?r:Bg(r,u)}function lR(n,e,t){var r,i,a,c,u,f,o;r=t;i=e;do{i=n.a[i.k];c=(o=n.f[i.k],Sa(n.n[o.k])+Sa(n.d[i.k])-i.e.d);u=Fj(i,!i.d?-1:Oy(i.d.a,i,0));if(u){a=(f=n.f[u.k],Sa(n.n[f.k])+Sa(n.d[u.k])+u.j.b+u.e.a);r=vc(r,c-(a+Qb(n.j,i,u)))}}while(e!=i);return r}function hR(n,e,t){var r,i,a,c,u,f,o;r=t;i=e;do{i=n.a[i.k];a=(o=n.f[i.k],Sa(n.n[o.k])+Sa(n.d[i.k])+i.j.b+i.e.a);u=xS(i,!i.d?-1:Oy(i.d.a,i,0));if(u){c=(f=n.f[u.k],Sa(n.n[f.k])+Sa(n.d[u.k])-u.e.d);r=vc(r,c-(a+Qb(n.j,i,u)))}}while(e!=i);return r}function bR(n,e,t){var r,i,a;hS(t,Ix);if(t==0){return eO(n,e)}a=n.c.a;i=Vj(ytn,Lx,26,1,12,1);try{if(!Sh(n.b,e)||!a){return 0}r=n_(a,n.d,e,t,i)}catch(n){n=mC(n);if(gl(n,119)){return 0}else if(gl(n,76)){return 0}else throw hI(n)}bd(n.c,a,r);return i[0]}function wR(n,e){var t,r,i,a,c;if(n.b){r=ww(iL(n.e,(mB(),aK)),65);i=r.b+r.c;t=r.d+r.a}else{i=e*2;t=e*2}c=wc(n.o[1]>0?i+n.i[1]*e+n.n[1]:0,n.o[3]>0?i+n.i[3]*e+n.n[3]:0);a=wc(n.o[4]>0?t+n.i[4]*e+n.n[4]:0,n.o[2]>0?t+n.i[2]*e+n.n[2]:0);return new Au(c,a)}function dR(n){var e,t,r,i,a,c;c=ww(KG(n.a,Vj(n1,v$,9,n.a.c.length,0,1)),51);cl(c,new rn);t=null;for(i=0,a=c.length;i<a;++i){r=c[i];if(r.g!=(hO(),t1)){break}e=ww(MH(r,(gB(),O9)),32);if(e!=(SD(),JW)&&e!=OW){continue}!!t&&ww(MH(t,M9),20).ib(r);t=r}}function gR(n,e,t,r,i){var a,c,u,f;f=new fb(e,r);for(u=KR(f);u.G();){a=ww(u.H(),7);mv(n.k,a,HI(ww(Vg(n.k,a),24).a+ww(Uo(_k(i.d,t)),24).a))}f=new fb(t,r);for(c=KR(f);c.G();){a=ww(c.H(),7);mv(n.k,a,HI(ww(Vg(n.k,a),24).a-ww(Uo(_k(i.d,e)),24).a))}}function vR(n,e,r){var i=_U,a;var c=i[n];var u=c instanceof Array?c[0]:null;if(c&&!u){AU=c}else{AU=(a=e&&e.prototype,!a&&(a=_U[e]),Zk(a));AU._c=r;AU.constructor=AU;!e&&(AU.ad=t);i[n]=AU}for(var f=3;f<arguments.length;++f){arguments[f].prototype=AU}u&&(AU.$c=u)}function kR(n){if(n.Sc()){var e=n.c;e.Tc()?n.n="["+e.k:!e.Sc()?n.n="[L"+e.Qc()+";":n.n="["+e.Qc();n.b=e.Pc()+"[]";n.j=e.Rc()+"[]";return}var t=n.i;var r=n.d;r=r.split("/");n.n=VL(".",[t,VL("$",r)]);n.b=VL(".",[t,VL(".",r)]);n.j=r[r.length-1]}function pR(n,e,t){var r;if(!t){return 0}r=n.d.$b(n.b.g,t.b);if(r>0){return pR(n,e,t.g)}else if(r==0){switch(n.b.f.e){case 0:return qC(e._b(t),e.ac(t.g));case 1:return e.ac(t.g);default:throw new Ir}}else{return qC(qC(e.ac(t.g),e._b(t)),pR(n,e,t.e))}}function mR(n,e,t){var r;if(!t){return 0}r=n.d.$b(n.b.e,t.b);if(r<0){return mR(n,e,t.e)}else if(r==0){switch(n.b.d.e){case 0:return qC(e._b(t),e.ac(t.e));case 1:return e.ac(t.e);default:throw new Ir}}else{return qC(qC(e.ac(t.e),e._b(t)),mR(n,e,t.g))}}function jR(n,e,t,r){var i,a,c,u;c=new CG(n);wr(c,(hO(),i1));Ny(c,(gB(),F9),e);Ny(c,(mB(),xK),(_N(),pW));Ny(c,B9,t);Ny(c,x9,r);a=new qN;ib(a,(SD(),JW));jk(a,c);u=new qN;ib(u,OW);jk(u,c);Sk(e,a);i=new xv;oI(i,e);Ny(i,EK,null);Ek(i,u);Sk(i,r);return c}function yR(n,e){var t,r,i,a,c,u,f,o,s,l;t=0;for(c=n.j,u=0,f=c.length;u<f;++u){a=c[u];l=new fb(a,e);for(s=KR(l);s.G();){o=ww(s.H(),7);for(i=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[o.b,o.e]))))));AI(i);){r=ww(Jk(i),12);kj(r)||(t+=$R(n,r,o))}}}return t}function SR(n,e){if(n.c<e.c){return-1}else if(n.c>e.c){return 1}else if(n.b<e.b){return-1}else if(n.b>e.b){return 1}else if(n.a!=e.a){return Eh(n.a)-Eh(e.a)}else if(n.d==(am(),u5)&&e.d==c5){return-1}else if(n.d==c5&&e.d==u5){return 1}return 0}function ER(n){var e,t,r,i,a,c;i=new Ga;for(r=new Xt(n.d.a);r.a<r.c.c.length;){t=ww($p(r),61);t.c.c.length==0&&(xm(i,t,i.c.b,i.c),true)}if(i.b>1){e=ul(Xc(new Jr,n.b++),n.d);for(c=OG(i,0);c.b!=c.d.c;){a=ww(Tm(c),61);XR(Qc(Wc(Jc(Kc(new Wr,1),0),e),a))}}}function HR(n,e,t,r){var i,a,c,u,f,o;o=0;for(c=new Xt(n.a.b);c.a<c.c.c.length;){a=ww($p(c),33);o=wc(o,a.j.a)}f=$M(n.a.c,e,n.a.d,r,DG(n.b),t);wE(n.a.a,SL(f));u=QO(n.a.b,f.a,n.b);i=new Vm((!f.k&&(f.k=new sT(vE(f))),f.k));sk(i);return!u?i:Bg(i,u)}function CR(n,e){var t,r,i,a,c;for(r=new Xt(n.b);r.a<r.c.c.length;){t=ww($p(r),33);Ny(t,(gB(),D9),e)}for(c=new Xt(n.c.c);c.a<c.c.c.length;){i=ww($p(c),33);Ny(i,(gB(),D9),e)}for(a=new Xt(n.d.c);a.a<a.c.c.length;){i=ww($p(a),33);Ny(i,(gB(),D9),e)}}function IR(){IR=r;_2=new vf(Jx,0);T2=new vf("NIKOLOV",1);Y2=new vf("NIKOLOV_PIXEL",2);P2=new vf("NIKOLOV_IMPROVED",3);R2=new vf("NIKOLOV_IMPROVED_PIXEL",4);O2=new vf("DUMMYNODE_PERCENTAGE",5);A2=new vf("NODECOUNT_PERCENTAGE",6);M2=new vf("NO_BOUNDARY",7)}function LR(n,e){var t,r,i,a,c;a=0;c=ww(Uo(_k(e.d,n)),24);if(!c){return 0}for(i=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[n.b,n.e]))))));AI(i);){r=ww(Jk(i),12);r.c==n?t=ww(Vg(e,r.d),24):t=ww(Vg(e,r.c),24);!!t&&c.a>t.a&&(a=gc(a,c.a-t.a-1))}return a}function GR(n){var e,t;e=ww(MH(n,(mB(),GK)),15).a;t=ww(MH(n,NK),15).a;Ny(n,NK,new Ut(e));Ny(n,GK,new Ut(t));switch(ww(MH(n,uK),103).e){case 1:Ny(n,uK,(oG(),EQ));break;case 2:Ny(n,uK,(oG(),mQ));break;case 3:Ny(n,uK,(oG(),yQ));break;case 4:Ny(n,uK,(oG(),SQ))}}function NR(n){var e,t,r,i,a;for(i=(Ks(),new Ps(Ms(vw(n.a,new h))));AI(i);){r=ww(Jk(i),9);if(r.g==(hO(),r1)){a=JL(r)?(kL(),FJ):(kL(),UJ);Ny(r,(gB(),D9),a)}for(t=mg(EI(r));AI(t);){e=ww(Jk(t),12);a=ya(Sa(xh(MH(e,(gB(),i8)))))?(kL(),UJ):(kL(),FJ);CR(e,a)}}}function OR(n){var e,t,r,i,a;for(i=(Ks(),new Ps(Ms(vw(n.a,new h))));AI(i);){r=ww(Jk(i),9);if(r.g==(hO(),r1)){a=JL(r)?(kL(),UJ):(kL(),FJ);Ny(r,(gB(),D9),a)}for(t=mg(EI(r));AI(t);){e=ww(Jk(t),12);a=ya(Sa(xh(MH(e,(gB(),i8)))))?(kL(),FJ):(kL(),UJ);CR(e,a)}}}function TR(n,e,t){var r,i,a;for(a=new Xt(n.e);a.a<a.c.c.length;){r=ww($p(a),118);if(r.b.d<0&&r.c>0){r.b.c-=r.c;r.b.c<=0&&r.b.f>0&&Xb(e,r.b)}}for(i=new Xt(n.b);i.a<i.c.c.length;){r=ww($p(i),118);if(r.a.d<0&&r.c>0){r.a.f-=r.c;r.a.f<=0&&r.a.c>0&&Xb(t,r.a)}}}function PR(n,e,t){var r,i,a;for(a=new Xt(n.j);a.a<a.c.c.length;){r=ww($p(a),117);if(r.b.i<0&&r.c>0){r.b.e-=r.c;r.b.e<=0&&r.b.k>0&&Xb(e,r.b)}}for(i=new Xt(n.d);i.a<i.c.c.length;){r=ww($p(i),117);if(r.a.i<0&&r.c>0){r.a.k-=r.c;r.a.k<=0&&r.a.e>0&&Xb(t,r.a)}}}function RR(n){var e,t,r,i,a;a=n.d.c+n.e.c;switch(a){case 0:return Ei(),hq;case 1:r=ww(RT(new oC(new Ft(n).a)),21);return Kh(r.yb(),r.zb());default:i=(Ll(),new gj);for(t=new oC(new Ft(n).a);t.b;){e=AS(t);RG(i,ld(e.yb()),ld(e.zb()))}return new Ji(i)}}function YR(n,e,t){var r,i,a;for(i=new Xt(n.b.a.b);i.a<i.c.c.length;){r=ww($p(i),25);if(!e.D(r)){continue}a=Sa($h(t.B(r)));if(a>0){!(xu(n.b.d)&&r.q.d)&&!($u(n.b.d)&&r.q.b)&&(r.j.e+=0>a/2-.5?0:a/2-.5);!(xu(n.b.d)&&r.q.a)&&!($u(n.b.d)&&r.q.c)&&(r.j.b-=a-1)}}}function AR(n,e){switch(n.e){case 1:switch(e.e){case 1:return lU;case 4:return.5;case 3:return hU;case 2:return bU}break;case 2:switch(e.e){case 1:return lU;case 2:return.5;case 3:return hU;case 4:return bU}break;default:throw new Ca(sU)}return 0}function _R(n,e){var t,r,i,a;a=new Dp(n,0);t=(Ns(a.b<a.d.Y()),ww(a.d.sb(a.c=a.b++),48));while(a.b<a.d.Y()){r=(Ns(a.b<a.d.Y()),ww(a.d.sb(a.c=a.b++),48));i=new Ab(r.c,t.d,e);Ns(a.b>0);a.a.sb(a.c=--a.b);mb(a,i);Ns(a.b<a.d.Y());a.d.sb(a.c=a.b++);i.a=false;t=r}}function MR(n){var e,t,r,i,a,c;i=ww(MH(n,(gB(),j9)),7);for(c=new Xt(n.f);c.a<c.c.c.length;){a=ww($p(c),7);for(r=new Xt(a.e);r.a<r.c.c.length;){e=ww($p(r),12);Sk(e,i);return a}for(t=new Xt(a.b);t.a<t.c.c.length;){e=ww($p(t),12);Ek(e,i);return a}}return null}function DR(n,e,t,r,i){var a,c,u,f,o,s;c=e;a=0;u=false;s=new fb(t,r);for(o=KR(s);o.G();){f=ww(o.H(),7);u=true;mv(n.k,f,HI(c));if(rh(ww(MH(t,(mB(),xK)),28))||f.b.c.length+f.e.c.length>1){++a;++c}}if(!rh(ww(MH(t,(mB(),xK)),28))&&u){++a;++c}mv(i,t,HI(a));return c}function BR(n){var e,t,r,i,a,c,u,f,o,s,l,h;c=n.b.mb();u=ww(c.H(),92);s=u.a.a;o=s>jU;f=s<yU;while(c.G()){t=u;a=s;i=o;r=f;u=ww(c.H(),92);s=u.a.a;o=s>jU;f=s<yU;if(!(o||f)){return kE(u.b)}if(i&&f||r&&o){e=a/(a-s);l=kE(t.b);h=kE(u.b);return e*l+(1-e)*h}}return 0}function xR(n){var e,t,r,i,a,c,u,f,o,s,l,h;c=n.b.mb();u=ww(c.H(),92);s=u.a.b;o=s>jU;f=s<yU;while(c.G()){t=u;a=s;i=o;r=f;u=ww(c.H(),92);s=u.a.b;o=s>jU;f=s<yU;if(!(o||f)){return kE(u.b)}if(i&&f||r&&o){e=a/(a-s);l=kE(t.b);h=kE(u.b);return e*l+(1-e)*h}}return 0}function $R(n,e,t){var r,i;r=0;if(Dg(e)){if(iu(n.g,e)){bR(n.i,HI(Qh(n,e.c)),1)>0;bR(n.i,HI(Qh(n,e.d)),1)>0;yl(n.g,e);r+=dG(n,e,n.i)}else{sg(n.g,e);kP(n.i,HI(Qh(n,e.c)),1);kP(n.i,HI(Qh(n,e.d)),1)}}else{i=eO(n.i,HI(ww(Vg(n.k,t),24).a));r+=n.g.a.Y()-i}return r}function UR(n){switch(n.e){case 0:return A6;case 1:return P6;case 2:return T6;case 3:return D6;case 4:return M6;case 5:return F6;case 6:return U6;case 7:return _6;case 8:return R6;case 9:return Y6;case 11:return x6;case 10:return B6;default:return $6}}function FR(n){switch(n.e){case 0:return L6;case 1:return I6;case 2:return E6;case 3:return S6;case 4:return N6;case 5:return G6;case 6:return Q6;case 7:return q6;case 8:return C6;case 9:return H6;case 10:return V6;case 11:return O6;default:return z6}}function VR(n){switch(n.e){case 0:return G6;case 1:return Q6;case 2:return q6;case 3:return L6;case 4:return I6;case 5:return E6;case 6:return S6;case 7:return N6;case 8:return C6;case 9:return H6;case 10:return V6;case 11:return O6;default:return z6}}function zR(n){switch(n.e){case 0:return E6;case 1:return S6;case 2:return N6;case 3:return G6;case 4:return Q6;case 5:return q6;case 6:return L6;case 7:return I6;case 8:return C6;case 9:return H6;case 10:return V6;case 11:return O6;default:return z6}}function qR(n){var e,t,r,i,a,c,u,f;t=(Ll(),new gj);u=new vd((qs(),new nr(n.f)));for(c=(i=new zt(u.a).a.bb().mb(),new qt(i));c.a.G();){a=(r=ww(c.a.H(),21),ww(r.yb(),9));if(!a){rw();break}f=n.i[a.k];e=ww(uS(t,f),20);if(!e){e=new De;RG(t,f,e)}e.ib(a)}return t}function QR(n,e,t){var r,i,a;for(i=new Xt(n.b.a.b);i.a<i.c.c.length;){r=ww($p(i),25);if(!e.D(r)){continue}a=Sa($h(t.B(r)));if(a>0){!(xu(n.b.d)&&r.q.d)&&!($u(n.b.d)&&r.q.b)&&(r.j.e-=0>a/2-.5?0:a/2-.5);!(xu(n.b.d)&&r.q.a)&&!($u(n.b.d)&&r.q.c)&&(r.j.b+=0>a-1?0:a-1)}}}function KR(n){var e,t,r;r=n.a.f;switch(n.b){case 0:return new Xt(n.a.f);case 1:return ng((t=new tp(r),t),nO(n));case 2:switch(n.c.e){case 2:case 1:return ng(new Xt(r),nO(n));case 3:case 4:return ng((e=new tp(r),e),nO(n))}}throw new Ka("PortOrder not implemented.")}function WR(n,e){var t;if(!!n.d&&(e.c!=n.e.c||ES(n.e.b,e.b))){nw(n.f,n.d);n.a=n.d.d+n.d.c;n.d=null;n.e=null}Pf(e.b)?n.c=e:n.b=e;if(e.b==(xE(),JZ)&&!e.a||e.b==ZZ&&e.a||e.b==XZ&&e.a||e.b==nX&&!e.a){if(!!n.c&&!!n.b){t=new Ev(n.a,n.c.d,e.c-n.a,n.b.d-n.c.d);n.d=t;n.e=e}}}function JR(n,e,t,r){this.e=n;this.j=ww(MH(n,(gB(),c8)),134);this.f=Vj(n1,v$,9,e,0,1);this.b=Vj(Enn,SB,184,e,6,1);this.a=Vj(n1,v$,9,e,0,1);this.d=Vj(Enn,SB,184,e,6,1);this.i=Vj(n1,v$,9,e,0,1);this.g=Vj(Enn,SB,184,e,6,1);this.n=Vj(Enn,SB,184,e,6,1);this.k=t;this.c=r}function ZR(n,e,t){var r,i;if(e.g==(hO(),c1)&&t.g==c1){if(!rh(ww(MH(ww(MH(e,(gB(),F9)),9),(mB(),xK)),28))||ww(MH(e,F9),9)!=ww(MH(t,F9),9)){return}if(EG(e)||EG(t)){n.d=1;n.b=1;return}i=ww(Uw(e.f,0),7).g;r=ww(Uw(t.f,0),7).g;Zj(e).g==(SD(),TW)?nY(n,e,t,i,r):nY(n,t,e,r,i)}}function XR(n){if(!n.a.c||!n.a.d){throw new za((eb(u4),u4.j+" must have a source and target "+(eb(s4),s4.j)+" specified."))}if(n.a.c==n.a.d){throw new za("Network simplex does not support self-loops: "+n.a+" "+n.a.c+" "+n.a.d)}fg(n.a.c.g,n.a);fg(n.a.d.c,n.a);return n.a}function nY(n,e,t,r,i){if(r==(SD(),OW)&&i==OW){Zv(n,e)>Zv(n,t)?n.d=SG(n,t):n.b=SG(n,e)}else if(r==JW&&i==JW){Zv(n,e)<Zv(n,t)?n.d=SG(n,t):n.b=SG(n,e)}else if(r==JW&&i==OW){if(Zv(n,e)>Zv(n,t)){n.d=SG(n,t);n.b=SG(n,e)}}else{if(Zv(n,e)<Zv(n,t)){n.d=SG(n,t);n.b=SG(n,e)}}}function eY(n){var e,t,r,i,a,c,u,f;f=n.f.c.length;t=0;e=f;i=2*f;for(u=new Xt(n.f);u.a<u.c.c.length;){c=ww($p(u),7);switch(c.g.e){case 2:case 4:c.k=-1;break;case 1:case 3:r=c.b.c.length;a=c.e.c.length;r>0&&a>0?c.k=e++:r>0?c.k=t++:a>0?c.k=i++:c.k=t++}}Sm(n.f,new Yn)}function tY(n,e,t,r){var i,a,c,u,f;if(t.d.f==e.f){return}i=new CG(n);wr(i,(hO(),i1));Ny(i,(gB(),F9),t);Ny(i,(mB(),xK),(_N(),pW));r.c[r.c.length]=i;c=new qN;jk(c,i);ib(c,(SD(),JW));u=new qN;jk(u,i);ib(u,OW);f=t.d;Sk(t,c);a=new xv;oI(a,t);Ny(a,EK,null);Ek(a,u);Sk(a,f);EP(i,c,u)}function rY(n){var e,t,r,i,a,c,u,f,o;c=K$;f=K$;u=null;for(t=new iv(new lr(n.e));t.b!=t.c.a.b;){e=ky(t);if(ww(e.d,60).c==1){r=ww(e.e,116).a;o=ww(e.e,116).b;i=c-r>Z$;a=r-c<Z$&&f-o>Z$;if(i||a){f=ww(e.e,116).b;c=ww(e.e,116).a;u=ww(e.d,60);if(f==0&&c==0){return u}}}}return u}function iY(n,e){var t,r,i,a,c,u;a=n.d;u=ww(MH(n,(mB(),XK)),15).a;if(u<0){u=0;Ny(n,XK,new Ut(u))}e.j.b=u;c=Math.floor(u/2);r=new qN;ib(r,(SD(),JW));jk(r,e);r.i.b=c;i=new qN;ib(i,OW);jk(i,e);i.i.b=c;Sk(n,r);t=new xv;oI(t,n);Ny(t,EK,null);Ek(t,i);Sk(t,a);mN(e,n,t);kO(n,t);return t}function aY(n){var e,t;t=ww(MH(n,(vB(),D8)),85);e=ww(MH(n,(gB(),A9)),140);if(t==(nN(),w8)){Ny(n,D8,v8);Ny(n,A9,(LS(),u9))}else if(t==g8){Ny(n,D8,v8);Ny(n,A9,(LS(),a9))}else if(e==(LS(),u9)){Ny(n,D8,w8);Ny(n,A9,c9)}else if(e==a9){Ny(n,D8,g8);Ny(n,A9,c9)}}function cY(n){var e,t,r,i,a;for(r=new Xt(oN(n.e));r.a<r.c.c.length;){t=ww($p(r),129);a=new xo(t.e.i);i=dL()[t.e.k];e=ww(Nv(n.c,i),283);a.b=e.e+e.a;i.b==(Jm(),MJ)?a.a=e.d:i.b==_J?a.a=e.d+(e.c-t.e.j.a)/2:i.b==DJ&&(a.a=e.d+e.c-t.e.j.a);t.e.i.a=a.a;t.e.i.b=a.b;e.a+=t.e.j.b+n.d}}function uY(n){var e,t,r;for(t=new Xt(HN(n));t.a<t.c.c.length;){e=ww($p(t),161);r=new xo(e.e.i);switch(ww(e.e,7).g.e){case 4:r.a=0;r.b=n.e.j.b/2;break;case 2:r.a=n.e.j.a;r.b=n.e.j.b/2;break;case 1:r.a=n.e.j.a/2;r.b=0;break;case 3:r.a=n.e.j.a/2;r.b=n.e.j.b}e.e.i.a=r.a;e.e.i.b=r.b}}function fY(){this.c=Vj(Htn,DB,26,(SD(),UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW])).length,12,1);this.b=Vj(Htn,DB,26,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,12,1);this.a=Vj(Htn,DB,26,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,12,1);Go(this.c,E$);Go(this.b,H$);Go(this.a,H$)}function oY(n,e,t){var r,i,a,c,u,f,o,s;a=Sa($h(n.b.mb().H()));o=Sa($h(BS(e.b)));r=fl(vs(n.a),o-t);i=fl(vs(e.a),t-a);s=Fh(r,i);fl(s,1/(o-a));this.a=s;this.b=new De;u=true;c=n.b.mb();c.H();while(c.G()){f=Sa($h(c.H()));if(u&&f-t>jU){this.b.ib(t);u=false}this.b.ib(f)}u&&this.b.ib(t)}function sY(n){var e,t,r,i;uA(n,n.n);if(n.d.c.length>0){Sc(n.c);while(IP(n,ww($p(new Xt(n.e.a)),61))<n.e.a.c.length){e=GN(n);i=e.d.e-e.c.e-e.a;e.d.j&&(i=-i);for(r=new Xt(n.e.a);r.a<r.c.c.length;){t=ww($p(r),61);t.j&&(t.e+=i)}Sc(n.c)}Sc(n.c);ST(n,ww($p(new Xt(n.e.a)),61));RM(n)}}function lY(n,e){var t,r,i,a,c,u,f;t=H$;u=(hO(),a1);for(i=new Xt(e.a);i.a<i.c.c.length;){r=ww($p(i),9);a=r.g;if(a!=a1){c=$h(MH(r,(gB(),z9)));if(c==null){t=t>0?t:0;r.i.b=t+Sb(n.a,a,u)}else{r.i.b=(gd(c),c)}}f=Sb(n.a,a,u);r.i.b<t+f+r.e.d&&(r.i.b=t+f+r.e.d);t=r.i.b+r.j.b+r.e.a;u=a}}function hY(n,e,t){var r,i,a;t.db(e,n);nw(n.g,e);a=n.o.d.Lc(e);$a(n.k)?n.k=a:n.k=vc(n.k,a);$a(n.a)?n.a=a:n.a=wc(n.a,a);e.g==n.o.d.Mc()?FI(n.j,a):FI(n.n,a);for(i=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[new bt(e),new dt(e)]))))));AI(i);){r=ww(Jk(i),7);t.R(r)||hY(n,r,t)}}function bY(n){var e,t,r,i,a;r=(ji(),n.length);i=r>0&&(n.charCodeAt(0)==45||n.charCodeAt(0)==43)?1:0;for(e=i;e<r;e++){if(BC(n.charCodeAt(e))==-1){throw new Ic(YB+n+'"')}}a=parseInt(n,10);t=a<AB;if(isNaN(a)){throw new Ic(YB+n+'"')}else if(t||a>NB){throw new Ic(YB+n+'"')}return a}function wY(n,e,t,r){var i,a,c,u;i=ww(hT(e,(SD(),JW)).mb().H(),7);a=ww(hT(e,OW).mb().H(),7);for(u=new Xt(n.f);u.a<u.c.c.length;){c=ww($p(u),7);while(c.b.c.length!=0){Sk(ww(Uw(c.b,0),12),i)}while(c.e.c.length!=0){Ek(ww(Uw(c.e,0),12),a)}}t||Ny(e,(gB(),B9),null);r||Ny(e,(gB(),x9),null)}function dY(n){var e,t,r,i,a,c,u;u=new Lm;for(c=new Xt(n.b);c.a<c.c.c.length;){a=ww($p(c),9);if(a.g==(hO(),t1)){continue}_P(u,a,new La);for(i=mg(EI(a));AI(i);){r=ww(Jk(i),12);if(r.c.f.g==t1||r.d.f.g==t1){continue}for(t=OG(r.a,0);t.b!=t.d.c;){e=ww(Tm(t),10);PL(u,new uf(e.a,e.b))}}}return u}function gY(n,e,t,r){var i,a,c;this.e=new Xr;this.a=n;this.b=e;if(n.b<e.b){this.j=n.a;this.k=n.b;this.n=e.b}else{this.j=e.a;this.k=e.b;this.n=n.b}i=ww(MH(r,(mB(),EK)),44);if(i){for(c=OG(i,0);c.b!=c.d.c;){a=ww(Tm(c),10);Cy(a.a,n.a)&&Xb(this.e,a)}}this.g=t;!!this.g&&(this.i=this.j-t.j.d);this.f=r}function vY(n){Ob();var e,t,r,i,a,c;c=new Os;kH(c,n);for(t=(a=new zt(c.a).a.bb().mb(),new qt(a));t.a.G();){e=(r=ww(t.a.H(),21),r.yb());ld(e)}switch(c.a.Y()){case 0:return Zg(),gq;case 1:return new Uc((i=new zt(c.a).a.bb().mb(),r=ww(new qt(i).a.H(),21),r.yb()));default:return new xf(c)}}function kY(n,e,t,r){var i,a,c;Ej(n,t,"x",e.i.a+r.a);Ej(n,t,"y",e.i.b+r.b);Ej(n,t,b$,e.j.a);Ej(n,t,w$,e.j.b);if(gl(e,9)){if(ww(MH(e,(mB(),JK)),86).kb((jO(),uJ))){i=ww(e,9).b;c=Tv(t,d$);if(!c){c=new ua;Gy(t,d$,c)}a=c.kc();Ej(n,a,"left",i.b);Ej(n,a,"top",i.d);Ej(n,a,"right",i.c);Ej(n,a,i$,i.a)}}}function pY(n,e){var t,r,i,a,c,u,f,o,s,l;c=e==1?IZ:CZ;for(a=(f=new zt(c.a).a.bb().mb(),new qt(f));a.a.G();){i=(u=ww(a.a.H(),21),ww(u.yb(),59));for(s=ww(LO(n.f.c,i),18).mb();s.G();){o=ww(s.H(),27);r=ww(o.b,25);l=ww(o.a,78);t=l.c;switch(i.e){case 2:case 1:r.j.e+=t;break;case 4:case 3:r.j.d+=t}}}}function mY(n,e){var t,r,i;e.a?(Hg(n.b,e.b),n.a[e.b.k]=ww(wl(n.b,e.b),25),t=ww(bl(n.b,e.b),25),!!t&&(n.a[t.k]=e.b),undefined):(r=ww(wl(n.b,e.b),25),!!r&&r==n.a[e.b.k]&&!!r.f&&r.f!=e.b.f&&r.i.ib(e.b),i=ww(bl(n.b,e.b),25),!!i&&n.a[i.k]==e.b&&!!i.f&&i.f!=e.b.f&&e.b.i.ib(i),yh(n.b,e.b),undefined)}function jY(n,e){var t,r,i,a,c,u,f;i=new De;for(t=0;t<=n.i;t++){r=new cg(e);r.k=n.i-t;i.c[i.c.length]=r}for(u=new Xt(n.o);u.a<u.c.c.length;){c=ww($p(u),9);yk(c,ww(Uw(i,n.i-n.f[c.k]),16))}a=new Xt(i);while(a.a<a.c.c.length){f=ww($p(a),16);f.a.c.length==0&&Kd(a)}e.c.c=Vj(WU,WB,1,0,4,1);gH(e.c,i)}function yY(n){var e,t,r,i;n.a.a.c=Vj(WU,WB,1,0,4,1);for(r=new Xt(n.a.b);r.a<r.c.c.length;){e=ww($p(r),25);e.f=null}for(i=new Xt(n.a.b);i.a<i.c.c.length;){e=ww($p(i),25);!e.o&&nw(n.a.a,new BL(UH(rc(EZ,1),WB,25,0,[e])))}for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);!!e.o&&rH(e.o.f,e)}}function SY(n,e){var t,r,i,a;n=(ji(),n==null?CB:n);t=(n.length+16*e.length,new Tc);a=0;r=0;while(r<e.length){i=n.indexOf("%s",a);if(i==-1){break}uj(t,n,a,i);Jo(t,e[r++]);a=i+2}tb(t,n,a,n.length);if(r<e.length){t.a+=" [";Jo(t,e[r++]);while(r<e.length){t.a+=", ";Jo(t,e[r++])}t.a+="]"}return t.a}function EY(n,e,t,r){var i,a;if(!e){return t}else{i=n.a.$b(t.d,e.d);if(i==0){r.d=Mb(e,t.e);r.b=true;return e}a=i<0?0:1;e.a[a]=EY(n,e.a[a],t,r);if(mc(e.a[a])){if(mc(e.a[1-a])){e.b=true;e.a[0].b=false;e.a[1].b=false}else{mc(e.a[a].a[a])?e=jE(e,1-a):mc(e.a[a].a[1-a])&&(e=Fp(e,1-a))}}}return e}function HY(n,e){var t,r,i,a,c,u,f,o,s,l;f=hs(e.a);u=Uk(Ho(f/n.a));l=e.a;c=0;o=u;for(a=0;a<n.a;++a){s=(ji(),l.substr((0>c?0:c)<f?0>c?0:c:f,(0>(o<f?o:f)?0:o<f?o:f)-((0>c?0:c)<f?0>c?0:c:f)));c=o;o+=u;r=ww(Uw(n.c,a),9);t=new js(s);t.j.b=e.j.b;mP(n.b,e,t);nw(r.c,t)}gy(n.g.c,e);nw(n.i,(i=new wf(n,e),i))}function CY(n,e,t){var r,i,a,c,u,f,o,s,l;e.k=1;a=e.d;for(l=rL(e,(nE(),j8)).mb();l.G();){s=ww(l.H(),7);for(i=new Xt(s.e);i.a<i.c.c.length;){r=ww($p(i),12);o=r.d.f;if(e!=o){c=o.d;if(c.k<=a.k){u=a.k+1;if(u==t.c.c.length){f=new cg(t);f.k=u;nw(t.c,f);yk(o,f)}else{f=ww(Uw(t.c,u),16);yk(o,f)}CY(n,o,t)}}}}}function IY(n){var e,t,r,i,a;e=n.e.j;for(r=new Xt(HN(n));r.a<r.c.c.length;){t=ww($p(r),161);i=ww(iL(t,(mB(),PK)),15);!i&&(i=new Ut(0));a=new xo(t.e.i);switch(ww(t.e,7).g.e){case 4:a.a=-t.e.j.a-i.a;break;case 2:a.a=e.a+i.a;break;case 1:a.b=-t.e.j.b-i.a;break;case 3:a.b=e.b+i.a}t.e.i.a=a.a;t.e.i.b=a.b}}function LY(n){var e,t,r;r=ww(MH(n,(mB(),OK)),18);if(r.V()){return}t=(e=ww(Yc(oW),11),new jw(e,ww(hg(e,e.length),11),0));r.kb((HP(),iW))?mE(t,iW):mE(t,aW);r.kb(tW)||mE(t,tW);r.kb(eW)?mE(t,fW):r.kb(nW)?mE(t,uW):r.kb(rW)&&mE(t,cW);r.kb(fW)?mE(t,eW):r.kb(uW)?mE(t,nW):r.kb(cW)&&mE(t,rW);Ny(n,OK,t)}function GY(n,e,t,r,i){var a,c,u,f,o,s,l,h,b,w;h=ZI(n,t);for(f=0;f<e;f++){i.J(t);b=new De;w=ww(r.H(),92);for(s=h+f;s<n.c;s++){u=w;w=ww(r.H(),92);nw(b,new oY(u,w,t))}for(l=h+f;l<n.c;l++){r.M();l>h+f&&r.I()}for(c=new Xt(b);c.a<c.c.c.length;){a=ww($p(c),92);r.J(a)}if(f<e-1){for(o=h+f;o<n.c;o++){r.M()}}}}function NY(n){var e,t,r,i;if(n.d&&ww(n.e,7).f.g==(hO(),c1)){return qv(),qv(),ten}else if(!n.a){n.a=new De;for(r=new Xt(ww(n.e,7).b);r.a<r.c.c.length;){e=ww($p(r),12);nw(n.a,new lt(e))}if(n.d){i=ww(MH(ww(n.e,7),(gB(),J9)),9);if(i){for(t=mg(SI(i));AI(t);){e=ww(Jk(t),12);nw(n.a,new lt(e))}}}}return n.a}function OY(n){var e,t,r,i;if(n.d&&ww(n.e,7).f.g==(hO(),c1)){return qv(),qv(),ten}else if(!n.c){n.c=new De;for(r=new Xt(ww(n.e,7).e);r.a<r.c.c.length;){e=ww($p(r),12);nw(n.c,new lt(e))}if(n.d){i=ww(MH(ww(n.e,7),(gB(),J9)),9);if(i){for(t=mg(EI(i));AI(t);){e=ww(Jk(t),12);nw(n.c,new lt(e))}}}}return n.c}function TY(n,e){var t,r,i,a,c,u,f,o;u=ww(MH(n,(gB(),F9)),7);f=WE(UH(rc(iQ,1),o$,10,0,[u.f.i,u.i,u.a])).a;o=n.f.i.b;t=ww(KG(n.b,Vj($X,M$,12,n.b.c.length,0,1)),47);for(i=0,a=t.length;i<a;++i){r=t[i];Sk(r,u);Fu(r.a,new Au(f,o));if(e){c=ww(MH(r,(mB(),EK)),44);if(!c){c=new Xr;Ny(r,EK,c)}Xb(c,new Au(f,o))}}}function PY(n,e){var t,r,i,a,c,u,f,o;i=ww(MH(n,(gB(),F9)),7);f=WE(UH(rc(iQ,1),o$,10,0,[i.f.i,i.i,i.a])).a;o=n.f.i.b;t=ww(KG(n.e,Vj($X,M$,12,n.e.c.length,0,1)),47);for(c=0,u=t.length;c<u;++c){a=t[c];Ek(a,i);Uu(a.a,new Au(f,o));if(e){r=ww(MH(a,(mB(),EK)),44);if(!r){r=new Xr;Ny(a,EK,r)}Xb(r,new Au(f,o))}}}function RY(n){var e,t,r,i,a,c,u,f,o;c=K$;f=K$;u=null;for(t=new iv(new lr(n.e));t.b!=t.c.a.b;){e=ky(t);if($o(e.d)===$o((YD(),H6))||$o(e.d)===$o(C6)){r=ww(e.e,116).a;o=ww(e.e,116).b;i=c-r>Z$;a=r-c<Z$&&f-o>Z$;if(i||a){f=ww(e.e,116).b;c=ww(e.e,116).a;u=ww(e.d,60);if(f==0&&c==0){return u}}}}return u}function YY(n,e){var t,r,i,a,c;n.d=e;Dj(n.b);n.c=false;n:for(r=new Xt(n.d.c);r.a<r.c.c.length;){t=ww($p(r),16);for(a=new Xt(t.a);a.a<a.c.c.length;){i=ww($p(a),9);if(!nm(wO(i))){n.c=true;break n}}}c=Od((WC(),NQ),UH(rc(TQ,1),ZB,59,0,[LQ,GQ]));if(!n.c){mE(c,OQ);mE(c,IQ)}n.a=new ag(c);hB(n);return n.a}function AY(){var n,e,t,r,i;this.e=(Ll(),new gj);this.b=(t=ww(Yc(K6),11),new jw(t,ww(hg(t,t.length),11),0));this.c=(r=ww(Yc(K6),11),new jw(r,ww(hg(r,r.length),11),0));this.a=(i=ww(Yc(K6),11),new jw(i,ww(hg(i,i.length),11),0));for(e=(YD(),YD(),m6).mb();e.G();){n=ww(e.H(),60);RG(this.e,n,new Ja)}}function _Y(n,e,t){var r,i,a,c,u,f;if(fu(n.k-n.a)<Y$||fu(e.k-e.a)<Y$){return}r=nR(n.n,e.j,t);i=nR(e.n,n.j,t);a=cI(n.n,e.k,e.a)+cI(e.j,n.k,n.a);c=cI(e.n,n.k,n.a)+cI(n.j,e.k,e.a);u=16*r+a;f=16*i+c;if(u<f){new TS(n,e,f-u)}else if(u>f){new TS(e,n,u-f)}else if(u>0&&f>0){new TS(n,e,0);new TS(e,n,0)}}function MY(n,e){var t,r,i,a,c,u,f,o,s;o=new De;s=null;for(r=ww(Nv(r3,n),20).mb();r.G();){t=ww(r.H(),75);for(f=(a=new zt(t.c.a).a.bb().mb(),new qt(a));f.a.G();){c=(i=ww(f.a.H(),21),ww(i.yb(),7));mb(e,c);MP(c,n.b)}gH(o,t.b);s=n.a}_T(o);vS(o,s);for(u=new Xt(o);u.a<u.c.c.length;){c=ww($p(u),7);mb(e,c)}}function DY(){var e={layout:function(n){Itn(qM(n))}};if(typeof klayregister===GB){klayregister(e)}else{typeof document!==c$&&(n.$klay=e);typeof module===yB&&module.exports&&(module.exports=e);typeof document===c$&&typeof self!==c$&&self.addEventListener("message",function(n){e.layout(n.data)},false)}}function BY(n,e,t,r,i){var a,c,u;u=i?r.b:r.a;if(u>t.k&&u<t.a||t.j.b!=0&&t.n.b!=0&&(fu(u-Sa($h(Kl(t.j))))<Y$&&fu(u-Sa($h(Kl(t.n))))<Y$||fu(u-Sa($h(Wl(t.j))))<Y$&&fu(u-Sa($h(Wl(t.n))))<Y$)){if(!iu(n.b,r)){c=ww(MH(e,(mB(),EK)),44);if(!c){c=new Xr;Ny(e,EK,c)}a=new xo(r);xm(c,a,c.c.b,c.c);sg(n.b,a)}}}function xY(n,e,t){var r,i,a,c,u,f,o,s,l;r=t.c;i=t.d;u=sp(e.c);f=sp(e.d);if(r==e.c){u=hP(n,u,i);f=JO(e.d)}else{u=JO(e.c);f=hP(n,f,i)}o=new Bh(e.a);xm(o,u,o.a,o.a.a);xm(o,f,o.c.b,o.c);c=e.c==r;l=new Qr;for(a=0;a<o.b-1;++a){s=new _u(ww(rG(o,a),10),ww(rG(o,a+1),10));c&&a==0||!c&&a==o.b-2?l.b=s:nw(l.a,s)}return l}function $Y(n,e){var t,r,i,a;a=n.g.e-e.g.e;if(a!=0){return a}t=ww(MH(n,(mB(),$K)),24);r=ww(MH(e,$K),24);if(!!t&&!!r){i=t.a-r.a;if(i!=0){return i}}switch(n.g.e){case 1:return zH(n.i.a,e.i.a);case 2:return zH(n.i.b,e.i.b);case 3:return zH(e.i.a,n.i.a);case 4:return zH(e.i.b,n.i.b);default:throw new za(B$)}}function UY(n,e){var t,r,i,a,c;c=new La;for(a=new Xt(HN(n));a.a<a.c.c.length;){i=ww($p(a),161);switch(ww(i.e,7).g.e){case 4:case 2:c.b=wc(c.b,i.e.i.b+i.e.j.b+(e?(r=ww(i.e,7).d,new Rh(r.d,r.b,r.a,r.c)).a:0));break;case 1:case 3:c.a=wc(c.a,i.e.i.a+i.e.j.a+(e?(t=ww(i.e,7).d,new Rh(t.d,t.b,t.a,t.c)).c:0))}}return c}function FY(n,e){var t,r,i,a,c,u,f;i=new De;f=new De;t=ww(Nv(r3,n),20).mb();while(t.G()){r=ww(t.H(),75);FL(i,r.b);FL(i,EL(r));if(t.G()){r=ww(t.H(),75);gH(f,EL(r));gH(f,r.b)}}vS(i,n.b);vS(f,n.a);for(u=new Xt(i);u.a<u.c.c.length;){a=ww($p(u),7);mb(e,a)}for(c=new Xt(f);c.a<c.c.c.length;){a=ww($p(c),7);mb(e,a)}}function VY(){VY=r;D7=new ho("COMMENTS",0);x7=new ho("EXTERNAL_PORTS",1);$7=new ho("HYPEREDGES",2);U7=new ho("HYPERNODES",3);F7=new ho("NON_FREE_PORTS",4);V7=new ho("NORTH_SOUTH_PORTS",5);q7=new ho("SELF_LOOPS",6);M7=new ho("CENTER_LABELS",7);B7=new ho("END_LABELS",8);z7=new ho("PARTITIONS",9)}function zY(n,e){var t,r,i,a;n=(ji(),n==null?CB:n);t=(n.length+16*e.length,new Tc);a=0;r=0;while(r<e.length){i=n.indexOf("%s",a);if(i==-1){break}Zo(t,n.substr(a,i-a));Jo(t,e[r++]);a=i+2}Zo(t,zb(n,a,n.length-a));if(r<e.length){t.a+=" [";Jo(t,e[r++]);while(r<e.length){t.a+=", ";Jo(t,e[r++])}t.a+="]"}return t.a}function qY(n,e,t){var r,i;i=null;switch(e.e){case 1:i=(zy(),o1);break;case 2:i=(zy(),l1)}r=null;switch(t.e){case 1:r=(zy(),s1);break;case 2:r=(zy(),f1);break;case 3:r=(zy(),h1);break;case 4:r=(zy(),b1)}return!!i&&!!r?gw(n.f,(Kf(),new xe(new nr(UH(rc(GF,1),WB,68,0,[ww(ld(i),68),ww(ld(r),68)]))))):(qv(),qv(),ten)}function QY(n,e,t){var r,i,a,c,u,f,o;f=lw(EI(e));for(i=OG(f,0);i.b!=i.d.c;){r=ww(Tm(i),12);o=r.d.f;if(!(ya(Sa(xh(MH(o,(gB(),v9)))))&&MH(o,F9)!=null)&&o.g==(hO(),e1)&&!ya(Sa(xh(MH(r,i8))))&&r.d.g==(SD(),JW)){a=Eo(o.d)-Eo(e.d);if(a>1){t?c=Eo(e.d)+1:c=Eo(o.d)-1;u=ww(Uw(n.a.c,c),16);yk(o,u)}QY(n,o,t)}}return e}function KY(n,e){var t,r,i,a;e.d?i=n.a.c==(Ik(),G5)?SI(e.b):EI(e.b):i=n.a.c==(Ik(),L5)?SI(e.b):EI(e.b);a=false;for(r=(Ks(),new Ps(Ms(vw(i.a,new h))));AI(r);){t=ww(Jk(r),12);if(n.c.a[t.c.f.d.k]===n.c.a[t.d.f.d.k]){continue}a=true;if(iu(n.b,n.a.f[iN(t,e.b).k])){e.c=true;e.a=t;return e}}e.c=a;e.a=null;return e}function WY(n,e,t){var r,i,a,c;r=ww(MH(n.d,(mB(),lK)),15).a;for(a=new Xt(n.a.b);a.a<a.c.c.length;){i=ww($p(a),25);if(gl(i,93)){c=ww(i,93).b;if(c.g==(hO(),t1)){switch(ww(MH(c,(gB(),O9)),32).e){case 4:c.i.a=e.a-r;break;case 2:c.i.a=t.a+r-(c.j.a+c.e.c);break;case 1:c.i.b=e.b-r;break;case 3:c.i.b=t.b+r-(c.j.b+c.e.a)}}}}}function JY(){if(!Object.create||!Object.getOwnPropertyNames){return false}var n="__proto__";var e=Object.create(null);if(e[n]!==undefined){return false}var t=Object.getOwnPropertyNames(e);if(t.length!=0){return false}e[n]=42;if(e[n]!==42){return false}if(Object.getOwnPropertyNames(e).length==0){return false}return true}function ZY(n){var e,t,r,i,a,c,u,f,o;for(c=new Xt(n.a.a);c.a<c.c.c.length;){i=ww($p(c),78);i.f=0;i.e.a.Q()}for(a=new Xt(n.a.a);a.a<a.c.c.length;){i=ww($p(a),78);for(t=(o=new zt(i.a.a).a.bb().mb(),new qt(o));t.a.G();){e=(r=ww(t.a.H(),21),ww(r.yb(),25));for(f=e.i.mb();f.G();){u=ww(f.H(),25);if(u.f!=i){sg(i.e,u);++u.f.f}}}}}function XY(n,e,t,r){var i,a,c,u;if(e.g==(hO(),e1)){for(a=mg(SI(e));AI(a);){i=ww(Jk(a),12);c=i.c.f;if((c.g==e1||ya(Sa(xh(MH(c,(gB(),v9))))))&&n.d.a[i.c.f.d.k]==r&&n.d.a[e.d.k]==t){return true}}}if(e.g==i1){for(a=mg(SI(e));AI(a);){i=ww(Jk(a),12);u=i.c.f.g;if(u==i1&&n.d.a[i.c.f.d.k]==r&&n.d.a[e.d.k]==t){return true}}}return false}function nA(n){var e,t,r,i,a,c;i=n.g.tb();r=n.b.tb();if(n.e){for(t=0;t<n.c;t++){i.H()}}else{for(t=0;t<n.c-1;t++){i.H();i.I()}}e=Sa($h(i.H()));while(n.i-e>jU){a=e;c=0;while((e-a<=0?0-(e-a):e-a)<jU){++c;e=Sa($h(i.H()));r.H()}if(c<n.c){i.M();GY(n,n.c-c,a,r,i);i.H()}r.M()}if(!n.e){for(t=0;t<n.c-1;t++){i.H();i.I()}}n.e=true;n.d=true}function eA(n){var e,t,r,i;switch(ts(n.a).c){case 4:return YD(),G6;case 3:return ww(Vp(n.a).mb().H(),60);case 2:r=ts(n.a);t=new Af(r);e=ww(lj(t),60);i=ww(lj(t),60);return VR(e)==i?ah(r,(YD(),G6))?S6:G6:FR(FR(e))==i?FR(e):zR(e);case 1:r=ts(n.a);return VR(ww(lj(new Af(r)),60));case 0:return YD(),N6;default:return null}}function tA(n,e){var t;Qm.call(this);this.a=ww(MH(e,(gB(),a8)),15).a;this.c=this.a*ww(MH(e,(vB(),Q8)),15).a;this.b=n;this.j=new Ev(n.i.a-n.e.b,n.i.b-n.e.d,n.j.a+n.e.b+n.e.c,n.j.b+n.e.d+n.e.a);So(this.g);t=zg(SI(n))-zg(EI(n));t<0?FH(this.n,true,(WC(),LQ)):t>0&&FH(this.n,true,(WC(),GQ));n.g==(hO(),t1)&&Zb(this.n,false,false,false,false)}function rA(n,e,t){var r,i,a,c,u,f,o,s,l,h;a=new Au(e,t);for(s=new Xt(n.b);s.a<s.c.c.length;){o=ww($p(s),9);Fh(o.i,a);for(h=new Xt(o.f);h.a<h.c.c.length;){l=ww($p(h),7);for(i=new Xt(l.e);i.a<i.c.c.length;){r=ww($p(i),12);ME(r.a,a);c=ww(MH(r,(mB(),EK)),44);!!c&&ME(c,a);for(f=new Xt(r.b);f.a<f.c.c.length;){u=ww($p(f),33);Fh(u.i,a)}}}}}function iA(n,e,t){var r,i,a,c,u,f,o,s,l,h;a=new Au(e,t);for(s=new Xt(n.b);s.a<s.c.c.length;){o=ww($p(s),9);Fh(o.i,a);for(h=new Xt(o.f);h.a<h.c.c.length;){l=ww($p(h),7);for(i=new Xt(l.e);i.a<i.c.c.length;){r=ww($p(i),12);ME(r.a,a);c=ww(MH(r,(mB(),EK)),44);!!c&&ME(c,a);for(f=new Xt(r.b);f.a<f.c.c.length;){u=ww($p(f),33);Fh(u.i,a)}}}}}function aA(n,e){var t,r,i,a,c;for(c=new Xt(n.f);c.a<c.c.c.length;){a=ww($p(c),7);if(e){if(a.b.c.length!=0){throw new ia((i=mj(n),V$+(i==null?xc(n.k):i)+z$+q$+Q$))}}else{for(r=new Xt(a.b);r.a<r.c.c.length;){t=ww($p(r),12);if($o(MH(t.c.f,(vB(),D8)))!==$o((nN(),w8))){throw new ia((i=mj(n),V$+(i==null?xc(n.k):i)+z$+q$+Q$))}}}}}function cA(n,e,t){var r,i,a,c,u,f,o;r=0;o=hT(e,t);for(f=o.mb();f.G();){u=ww(f.H(),7);if(ww(MH(u,(gB(),J9)),9)){c=ww(MH(u,J9),9);hT(c,(SD(),OW)).mb().G()&&(r+=(a=n.k?1:td(ww(Uw(c.f,0),7)),a*pc(SC(n,e,t).a-1-ww(Vg(n.i,u),24).a,VH(n,e,c))));hT(c,JW).mb().G()&&(r+=(i=n.k?1:td(ww(Uw(c.f,0),7)),i*pc(ww(Vg(n.i,u),24).a,VH(n,e,c))))}}return r}function uA(n,e){var t,r,i,a,c,u,f;i=Vj(ytn,Lx,26,n.e.a.c.length,12,1);for(c=new Xt(n.e.a);c.a<c.c.c.length;){a=ww($p(c),61);i[a.b]+=a.c.c.length}u=lw(e);while(u.b!=0){a=ww(u.b==0?null:(Ns(u.b!=0),RS(u,u.a.a)),61);for(r=new Xt(a.g);r.a<r.c.c.length;){t=ww($p(r),89);f=t.d;f.e=gc(f.e,a.e+t.a);--i[f.b];i[f.b]==0&&(xm(u,f,u.c.b,u.c),true)}}}function fA(n,e,t,r,i,a,c){n.d=r.e.i.a;n.e=r.e.i.b;if(i){n.d+=i.e.i.a;n.e+=i.e.i.b}n.c=e.e.j.a;n.b=e.e.j.b;if(!i){t?n.d-=c+e.e.j.a:n.d+=r.e.j.a+c}else{switch(ww(i.e,7).g.e){case 0:case 2:n.d+=i.e.j.a+c+a.a+c;break;case 4:n.d-=c+a.a+c+e.e.j.a;break;case 1:n.d+=i.e.j.a+c;n.e-=c+a.b+c+e.e.j.b;break;case 3:n.d+=i.e.j.a+c;n.e+=i.e.j.b+c+a.b+c}}}function oA(n,e){var t,r,i,a,c,u,f,o,s;i=new De;for(f=new Xt(e);f.a<f.c.c.length;){a=ww($p(f),9);nw(i,n.b[a.d.k][a.k])}M_(n,i);while(s=WM(i)){d_(n,ww(s.a,102),ww(s.b,102),i)}e.c=Vj(WU,WB,1,0,4,1);for(r=new Xt(i);r.a<r.c.c.length;){t=ww($p(r),102);for(c=t.d,u=0,o=c.length;u<o;++u){a=c[u];e.c[e.c.length]=a;n.a[a.d.k][a.k].a=ll(t.g,t.d[0]).a}}}function sA(n){var e,t,r,i,a,c,u;u=(Ll(),new Lr);for(r=new Xt(n.a.b);r.a<r.c.c.length;){e=ww($p(r),25);mv(u,e,new De)}for(i=new Xt(n.a.b);i.a<i.c.c.length;){e=ww($p(i),25);e.r=H$;for(c=e.i.mb();c.G();){a=ww(c.H(),25);ww(Uo(_k(u.d,a)),20).ib(e)}}for(t=new Xt(n.a.b);t.a<t.c.c.length;){e=ww($p(t),25);e.i.Q();e.i=ww(Uo(_k(u.d,e)),20)}ZY(n)}function lA(n){var e,t,r,i,a;i=ww(Uw(n.b,0),9);e=new CG(n);nw(n.b,e);e.j.a=wc(1,i.j.a);e.j.b=wc(1,i.j.b);e.i.a=i.i.a;e.i.b=i.i.b;switch(ww(MH(i,(gB(),O9)),32).e){case 4:e.i.a+=2;break;case 1:e.i.b+=2;break;case 2:e.i.a-=2;break;case 3:e.i.b-=2}r=new qN;jk(r,e);t=new xv;a=ww(Uw(i.f,0),7);Ek(t,a);Sk(t,r);Fh(So(r.i),a.i);Fh(So(r.a),a.a);return e}function hA(n){var e,t,r,i,a,c,u,f,o;o=(Ll(),new Lr);e=0;t=new Kr;for(u=n.mb();u.G();){a=ww(u.H(),9);f=ul(Zc(Xc(new Jr,e++),a),t);FT(o.d,a,f)}for(c=n.mb();c.G();){a=ww(c.H(),9);for(i=mg(EI(a));AI(i);){r=ww(Jk(i),12);if(kj(r)){continue}XR(Qc(Wc(Kc(Jc(new Wr,gc(1,ww(MH(r,(gB(),n8)),24).a)),1),ww(Vg(o,r.c.f),61)),ww(Vg(o,r.d.f),61)))}}return t}function bA(n){var e,t;if(n.V()){return}t=ww(n.sb(0),75).f;new zA(n);e=new Dp(t.f,0);PO((YD(),L6),e);BT(V6,e);QL((SD(),TW),e);FY(I6,e);BT(O6,e);MY(E6,e);PO(H6,e);QL(OW,e);FY(S6,e);PO(C6,e);MY(N6,e);PO(O6,e);QL(KW,e);FY(G6,e);PO(V6,e);MY(Q6,e);BT(C6,e);while(e.b<e.d.Y()){Ns(e.b<e.d.Y());e.d.sb(e.c=e.b++)}FY(q6,e);BT(H6,e);BT(L6,e)}function wA(n){var e,t;if(n.V()){return}t=ww(n.sb(0),75).f;new zA(n);e=new Dp(t.f,0);PO((YD(),L6),e);BT(V6,e);QL((SD(),TW),e);MY(I6,e);BT(O6,e);MY(E6,e);PO(H6,e);QL(OW,e);MY(S6,e);PO(C6,e);MY(N6,e);PO(O6,e);QL(KW,e);MY(G6,e);PO(V6,e);MY(Q6,e);BT(C6,e);while(e.b<e.d.Y()){Ns(e.b<e.d.Y());e.d.sb(e.c=e.b++)}MY(q6,e);BT(H6,e);BT(L6,e)}function dA(n){var e,t,r,i,a,c,u,f,o;i=AB;c=NB;for(o=new Xt(n.e.a);o.a<o.c.c.length;){u=ww($p(o),61);c=pc(c,u.e);i=gc(i,u.e)}a=0;r=Vj(ytn,Lx,26,i-c+1,12,1);for(f=new Xt(n.e.a);f.a<f.c.c.length;){u=ww($p(f),61);u.e-=c;++r[u.e]}if(n.k){for(t=new Xt(n.k.c);t.a<t.c.c.length;){e=ww($p(t),16);r[a++]+=e.a.c.length;if(r.length==a){break}}}return r}function gA(n){var e,t,r,i;VS(n);tO(n);i=new Au(E$,E$);e=new Au(H$,H$);for(r=new Xt(n.a.b);r.a<r.c.c.length;){t=ww($p(r),25);i.a=vc(i.a,t.j.d);i.b=vc(i.b,t.j.e);e.a=wc(e.a,t.j.d+t.j.c);e.b=wc(e.b,t.j.e+t.j.b)}Fh(So(n.d.d),Ql(new Au(i.a,i.b)));Fh(So(n.d.e),Vh(new Au(e.a,e.b),i));WY(n,i,e);n.a.a.c=Vj(WU,WB,1,0,4,1);n.a.b.c=Vj(WU,WB,1,0,4,1)}function vA(n,e){var t,r,i,a,c,u,f,o,s,l;c=n.e;s=ww(MH(n,(gB(),h8)),20);l=0;if(s){f=0;for(a=s.mb();a.G();){i=ww(a.H(),9);f=wc(f,i.j.b);l+=i.j.a}l+=e/2*(s.Y()-1);c.d+=f+e}t=ww(MH(n,m9),20);r=0;if(t){f=0;for(a=t.mb();a.G();){i=ww(a.H(),9);f=wc(f,i.j.b);r+=i.j.a}r+=e/2*(t.Y()-1);c.a+=f+e}u=l>r?l:r;if(u>n.j.a){o=(u-n.j.a)/2;c.b=wc(c.b,o);c.c=wc(c.c,o)}}function kA(n,e,t,r){var i,a,c,u,f,o,s,l,h,b;c=zl(e.d,t,r);for(l=new Xt(e.b);l.a<l.c.c.length;){s=ww($p(l),9);Fh(s.i,c);for(b=new Xt(s.f);b.a<b.c.c.length;){h=ww($p(b),7);for(a=new Xt(h.e);a.a<a.c.c.length;){i=ww($p(a),12);ME(i.a,c);u=ww(MH(i,(mB(),EK)),44);!!u&&ME(u,c);for(o=new Xt(i.b);o.a<o.c.c.length;){f=ww($p(o),33);Fh(f.i,c)}}}nw(n.b,s);s.a=n}}function pA(n,e){var t,r,i,a,c;n.c==null||n.c.length<e.c.length?n.c=Vj(Stn,eU,26,e.c.length,13,1):Sc(n.c);n.a=new De;r=0;for(c=new Xt(e);c.a<c.c.c.length;){i=ww($p(c),9);i.k=r++}t=new Ga;for(a=new Xt(e);a.a<a.c.c.length;){i=ww($p(a),9);if(!n.c[i.k]){yP(n,i);t.b==0||(Ns(t.b!=0),ww(t.a.a.c,20)).Y()<n.a.c.length?Uu(t,n.a):Fu(t,n.a);n.a=new De}}return t}function mA(n,e,t){var r,i,a,c,u,f,o,s,l;r=hN(n.g);o=Fh(vs(n.i),n.a);s=Fh(vs(e.i),e.a);i=Fh(new xo(o),fl(new rg(r),t));l=Fh(new xo(s),fl(new rg(r),t));c=fl(Vh(new xo(i),l),.5);f=Fh(Fh(new xo(l),c),fl(new rg(r),Co(c.a*c.a+c.b*c.b)));u=new av(UH(rc(iQ,1),o$,10,0,[o,i,f,l,s]));a=CO(u,.5,false);u.a=a;dr(u,new OT(UH(rc(iQ,1),o$,10,0,[a,o,s])));return u}function jA(n,e){var t,r,i,a,c;GL(e,"Network simplex",1);if(n.e.a.c.length<1){kI(e);return}for(a=new Xt(n.e.a);a.a<a.c.c.length;){i=ww($p(a),61);i.e=0}c=n.e.a.c.length>=40;c&&XA(n);X_(n);sY(n);t=$N(n);r=0;while(!!t&&r<n.f){SA(n,t,QP(n,t));t=$N(n);++r}c&&RO(n);n.a?UP(n,dA(n)):dA(n);n.b=null;n.d=null;n.p=null;n.c=null;n.g=null;n.i=null;n.n=null;n.o=null;kI(e)}function yA(n){var e,t,r,i,a,c,u,f,o,s;o=new va;i=(Ll(),new Lr);for(u=0,f=n.length;u<f;++u){c=n[u];e=c.mc();o.a.db(e,o);e==null?FT(i.d,null,c):VI(i.e,e,c);s=Pw(e,(ji(),e.lastIndexOf("."))+1,e.length);if(!iu(sZ,s)){o.a.db(s,o);s==null?FT(i.d,null,c):VI(i.e,s,c);sg(sZ,s)}}r=(Ob(),ON((a=new zt(o.a).a.bb().mb(),new qt(a))));t=RR(i);return new _u(r,t)}function SA(n,e,t){var r,i,a;if(!e.e){throw new Ca("Given leave edge is no tree edge.")}if(t.e){throw new Ca("Given enter edge is a tree edge already.")}e.e=false;yl(n.p,e);t.e=true;sg(n.p,t);r=t.d.e-t.c.e-t.a;uP(n,t.d,e)||(r=-r);for(a=new Xt(n.e.a);a.a<a.c.c.length;){i=ww($p(a),61);uP(n,i,e)||(i.e+=r)}n.j=1;Sc(n.c);ST(n,ww($p(new Xt(n.e.a)),61));RM(n)}function EA(n,e){var t,r,i,a,c,u,f,o,s,l,h,b;if(n.V()){return new La}o=0;l=0;for(i=n.mb();i.G();){r=ww(i.H(),55);a=r.e;o=wc(o,a.a);l+=a.a*a.b}o=wc(o,Math.sqrt(l)*ww(MH(ww(n.mb().H(),55),(gB(),b9)),15).a);h=0;b=0;f=0;t=e;for(u=n.mb();u.G();){c=ww(u.H(),55);s=c.e;if(h+s.a>o){h=0;b+=f+e;f=0}rA(c,h,b);t=wc(t,h+s.a);f=wc(f,s.b);h+=s.a+e}return new Au(t+e,b+f+e)}function HA(n,e,t,r){var i,a,c;c=new yu(e,t);if(!n.a){n.a=n.e=c;mv(n.b,e,new lk(c));++n.c}else if(!r){n.e.b=c;c.d=n.e;n.e=c;i=ww(Vg(n.b,e),126);if(!i){mv(n.b,e,new lk(c));++n.c}else{++i.a;a=i.c;a.c=c;c.e=a;i.c=c}}else{i=ww(Vg(n.b,e),126);++i.a;c.d=r.d;c.e=r.e;c.b=r;c.c=r;!r.e?ww(Vg(n.b,e),126).b=c:r.e.c=c;!r.d?n.a=c:r.d.b=c;r.d=c;r.e=c}++n.d;return c}function CA(n){var e,t,r,i,a,c,u,f;if(n.e){throw new za((eb(_Z),"The "+_Z.j+L$))}n.d==(WC(),NQ)&&fD(n,LQ);for(t=new Xt(n.a.a);t.a<t.c.c.length;){e=ww($p(t),78);e.f=0}for(c=new Xt(n.a.b);c.a<c.c.c.length;){a=ww($p(c),25);a.r=H$;for(i=a.i.mb();i.G();){r=ww(i.H(),25);++r.f.f}}n.b.Cc(n);for(f=new Xt(n.a.b);f.a<f.c.c.length;){u=ww($p(f),25);u.p=true}return n}function IA(n,e,t,r,i){var a,c,u,f;a=new CG(n);wr(a,(hO(),c1));Ny(a,(mB(),xK),(_N(),pW));Ny(a,(gB(),F9),e.c.f);c=new qN;Ny(c,F9,e.c);ib(c,i);jk(c,a);Ny(e.c,J9,a);u=new CG(n);wr(u,c1);Ny(u,xK,pW);Ny(u,F9,e.d.f);f=new qN;Ny(f,F9,e.d);ib(f,i);jk(f,u);Ny(e.d,J9,u);Ek(e,c);Sk(e,f);xj(0,t.c.length);mo(t.c,0,a);r.c[r.c.length]=u;Ny(a,E9,HI(1));Ny(u,E9,HI(1))}function LA(n,e){var t,r,i,a,c;c=ww(MH(n.f,(mB(),xK)),28);a=n.g.e-e.g.e;if(a!=0||c==(_N(),jW)){return a}if(c==(_N(),kW)){t=ww(MH(n,$K),24);r=ww(MH(e,$K),24);if(!!t&&!!r){i=t.a-r.a;if(i!=0){return i}}}switch(n.g.e){case 1:return zH(n.i.a,e.i.a);case 2:return zH(n.i.b,e.i.b);case 3:return zH(e.i.a,n.i.a);case 4:return zH(e.i.b,n.i.b);default:throw new za(B$)}}function GA(n){var e,t,r,i,a,c,u,f,o,s,l;u=new De;a=Sa($h(n.g.sb(n.g.Y()-1)));for(l=n.g.mb();l.G();){s=$h(l.H());fd(u,0,a-(gd(s),s))}c=DH(vE(n));o=new De;i=new Xt(u);f=new De;for(e=0;e<n.c-1;e++){nw(o,$h($p(i)))}for(r=OG(c,0);r.b!=r.d.c;){t=ww(Tm(r),10);nw(o,$h($p(i)));nw(f,new bk(t,o));$j(0,o.c.length);o.c.splice(0,1)}return new IG(n.e,n.f,n.d,n.c,u,f)}function NA(n,e,t,r,i){var a,c,u,f,o;a=e.$b(t,n.b);if(a<0){u=n.e;if(!u){i[0]=0;return EE(n,t,r)}c=u.d;n.e=NA(u,e,t,r,i);i[0]==0&&++n.a;n.j=qC(n.j,r);return n.e.d==c?n:GO(n)}else if(a>0){f=n.g;if(!f){i[0]=0;return SE(n,t,r)}c=f.d;n.g=NA(f,e,t,r,i);i[0]==0&&++n.a;n.j=qC(n.j,r);return n.g.d==c?n:GO(n)}i[0]=n.c;o=qC(n.c,r);Ao(pC(o,NB)<=0);n.c+=r;n.j=qC(n.j,r);return n}function OA(n,e){var t,r,i,a,c,u;i=WA(e,",|;|\\(|\\)|\\[|\\]|\\{|\\}| |\t|\n");Av(n);try{r=0;c=0;a=0;u=0;while(r<i.length){if(i[r]!=null&&hs(PN(i[r]))>0){c%2==0?a=fO(i[r]):u=fO(i[r]);c>0&&c%2!=0&&Xb(n,new Au(a,u));++c}++r}}catch(n){n=mC(n);if(gl(n,130)){t=n;throw new Ca("The given string does not match the expected format for vectors."+t)}else throw hI(n)}}function TA(n,e,t){var r,i,a,c,u,f,o,s;i=true;for(c=new Xt(e.c);c.a<c.c.c.length;){a=ww($p(c),16);o=H$;for(f=new Xt(a.a);f.a<f.c.c.length;){u=ww($p(f),9);s=Sa(t.n[u.k])+Sa(t.d[u.k])-u.e.d;r=Sa(t.n[u.k])+Sa(t.d[u.k])+u.j.b+u.e.a;if(s>o&&r>o){o=Sa(t.n[u.k])+Sa(t.d[u.k])+u.j.b+u.e.a}else{i=false;n.a&&(rw(),Ynn);break}}if(!i){break}}n.a&&(rw(),Ynn);return i}function PA(n){var e,t,r,i,a,c,u,f;if(isNaN(n)){return Ky(),tQ}if(n<-0x8000000000000000){return Ky(),eQ}if(n>=0x8000000000000000){return Ky(),nQ}i=false;if(n<0){i=true;n=-n}r=0;if(n>=Yx){r=Uk(n/Yx);n-=r*Yx}t=0;if(n>=Rx){t=Uk(n/Rx);n-=t*Rx}e=Uk(n);a=Kb(e,t,r);i&&(c=~a.l+1&Tx,u=~a.m+(c==0?1:0)&Tx,f=~a.h+(c==0&&u==0?1:0)&Px,a.l=c,a.m=u,a.h=f,undefined);return a}function RA(n){var e,t,r,i,a,c,u;i=sN(n);if(vl(new Xt(i))){u=new Ev(0,0,n.e.j.a,n.e.j.b);for(t=new Xt(i);t.a<t.c.c.length;){e=ww($p(t),129);r=new Ev(e.e.i.a,e.e.i.b,e.e.j.a,e.e.j.b);UN(u,r)}c=new hb((a=ww(n.e,7).d,new Rh(a.d,a.b,a.a,a.c)));c.d=-u.e;c.a=u.e+u.b-n.e.j.b;c.b=-u.d;c.c=u.d+u.c-n.e.j.a;ww(n.e,7).d.b=c.b;ww(n.e,7).d.d=c.d;ww(n.e,7).d.c=c.c;ww(n.e,7).d.a=c.a}}function YA(n){var e,t,r,i,a;for(a=new Xt(n.f);a.a<a.c.c.length;){i=ww($p(a),7);for(r=new Xt(i.e);r.a<r.c.c.length;){t=ww($p(r),12);if($o(MH(t.d.f,(vB(),D8)))!==$o((nN(),g8))){throw new ia((e=mj(n),V$+(e==null?xc(n.k):e)+"' has its layer constraint set to LAST or LAST_SEPARATE, but has "+"at least one outgoing edge. Connections between nodes with these "+Q$))}}}}function AA(n,e,t,r){var i,a,c,u,f,o;for(a=new Xt(n);a.a<a.c.c.length;){i=ww($p(a),12);c=i.c;if(e.a.R(c)){u=(Lk(),u7)}else if(t.a.R(c)){u=(Lk(),f7)}else{throw new Ca("Source port must be in one of the port sets.")}f=i.d;if(e.a.R(f)){o=(Lk(),u7)}else if(t.a.R(f)){o=(Lk(),f7)}else{throw new Ca("Target port must be in one of the port sets.")}nw(r,new nP(i,u,o))}}function _A(n,e){var t,r,i,a,c,u;if("edges"in e.a){u=Tv(e,"edges");if(!u.hc()){throw new ig("The 'edges' property of a node has to be an array.",u,e)}a=u.hc();for(c=0;c<a.a.length;++c){i=gS(a,c);if(!i.kc()){throw new ig("All elements of the 'edges' property must be objects.",i,e)}wB(n,i.kc())}}if(g$ in e.a){r=Tv(e,g$).hc();for(c=0;c<r.a.length;++c){t=gS(r,c).kc();_A(n,t)}}}function MA(n){var e,t,r,i,a,c,u,f;for(r=new Xt(n.a.a);r.a<r.c.c.length;){t=ww($p(r),78);t.g=null;for(c=(f=new zt(t.a.a).a.bb().mb(),new qt(f));c.a.G();){i=(e=ww(c.a.H(),21),ww(e.yb(),25));So(i.g);(!t.g||i.j.d<t.g.j.d)&&(t.g=i)}for(a=(u=new zt(t.a.a).a.bb().mb(),new qt(u));a.a.G();){i=(e=ww(a.a.H(),21),ww(e.yb(),25));i.g.a=i.j.d-t.g.j.d;i.g.b=i.j.e-t.g.j.e}}return n}function DA(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w;t=false;b=Nx*n.b.f*n.b.d;for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);o=new Xt(r.a);a=ww($p(o),9);s=qd(n.a[a.k]);while(o.a<o.c.c.length){u=ww($p(o),9);l=qd(n.a[u.k]);if(s!=l){h=Qb(n.b,a,u);c=a.i.b+a.j.b+a.e.a+s.a+h;f=u.i.b-u.e.d+l.a;if(c>f+b){w=s.i+l.i;l.a=(l.i*l.a+s.i*s.a)/w;l.i=w;s.g=l;t=true}}a=u;s=l}}return t}function BA(n){var e,t,r,i,a,c;if($o(MH(n,(mB(),xK)))===$o((_N(),mW))||$o(MH(n,xK))===$o(pW)){for(c=new Xt(n.f);c.a<c.c.c.length;){a=ww($p(c),7);if(a.g==(SD(),TW)||a.g==KW){return false}}}if(Rf(ww(MH(n,xK),28))){for(i=hT(n,(SD(),OW)).mb();i.G();){r=ww(i.H(),7);if(r.b.c.length!=0){return false}}}for(t=mg(EI(n));AI(t);){e=ww(Jk(t),12);if(e.c.f==e.d.f){return false}}return true}function xA(n,e){var t,r,i,a,c,u,f,o,s;i=n.f;c=i.j.a;a=i.j.b;if(c<=0&&a<=0){return SD(),WW}o=n.i.a;s=n.i.b;u=n.j.a;t=n.j.b;switch(e.e){case 2:case 1:if(o<0){return SD(),JW}else if(o+u>c){return SD(),OW}break;case 4:case 3:if(s<0){return SD(),TW}else if(s+t>a){return SD(),KW}}f=(o+u/2)/c;r=(s+t/2)/a;return f+r<=1&&f-r<=0?(SD(),JW):f+r>=1&&f-r>=0?(SD(),OW):r<.5?(SD(),TW):(SD(),KW)}function $A(n,e,t,r,i,a,c){var u,f,o,s,l,h;h=new Jf;for(o=e.mb();o.G();){u=ww(o.H(),627);for(l=new Xt(yG(u));l.a<l.c.c.length;){s=ww($p(l),129);if($o(iL(s,(mB(),dK)))===$o(($E(),AQ))){fA(h,s,false,r,i,a,c);UN(n,h)}}}for(f=t.mb();f.G();){u=ww(f.H(),627);for(l=new Xt(yG(u));l.a<l.c.c.length;){s=ww($p(l),129);if($o(iL(s,(mB(),dK)))===$o(($E(),YQ))){fA(h,s,true,r,i,a,c);UN(n,h)}}}}function UA(n,e){var t,r,i,a,c,u,f,o;for(f=new Xt(e.f);f.a<f.c.c.length;){u=ww($p(f),7);for(i=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[u.b,u.e]))))));AI(i);){r=ww(Jk(i),12);t=r.c==u?r.d:r.c;a=t.f;if(e==a){continue}o=ww(MH(r,(gB(),n8)),24).a;o<0&&(o=0);c=a.k;if(n.b[c]==0){if(r.d==t){n.a[c]-=o+1;n.a[c]<=0&&n.c[c]>0&&Xb(n.e,a)}else{n.c[c]-=o+1;n.c[c]<=0&&n.a[c]>0&&Xb(n.d,a)}}}}}function FA(n,e){var t,r,i,a,c,u,f,o,s;for(c=new Xt(e.c);c.a<c.c.c.length;){a=ww($p(c),16);for(o=new Xt(a.a);o.a<o.c.c.length;){f=ww($p(o),9);s=new De;u=0;for(i=mg(SI(f));AI(i);){t=ww(Jk(i),12);ww(MH(t,(gB(),n8)),24).a>u&&(u=ww(MH(t,n8),24).a)}for(r=mg(SI(f));AI(r);){t=ww(Jk(r),12);f.d!=t.c.f.d&&ww(MH(t,(gB(),n8)),24).a==u&&nw(s,new _u(t.c.f,t))}Sm(s,n.c);fd(n.b,f.k,s)}}}function VA(n,e){var t,r,i,a,c,u,f,o,s;for(c=new Xt(e.c);c.a<c.c.c.length;){a=ww($p(c),16);for(o=new Xt(a.a);o.a<o.c.c.length;){f=ww($p(o),9);s=new De;u=0;for(i=mg(EI(f));AI(i);){t=ww(Jk(i),12);ww(MH(t,(gB(),n8)),24).a>u&&(u=ww(MH(t,n8),24).a)}for(r=mg(EI(f));AI(r);){t=ww(Jk(r),12);f.d!=t.d.f.d&&ww(MH(t,(gB(),n8)),24).a==u&&nw(s,new _u(t.d.f,t))}Sm(s,n.c);fd(n.f,f.k,s)}}}function zA(n){XH();var e,t,r,i,a,c,u,f,o,s;this.b=new Wn;this.c=new De;this.a=new De;for(f=ZH(),o=0,s=f.length;o<s;++o){u=f[o];Hb(r3,u,new De)}for(t=n.mb();t.G();){e=ww(t.H(),75);gH(this.a,Hk(e));e.g.a.Y()==0?ww(Nv(r3,e.e),20).ib(e):nw(this.c,e)}for(a=(c=new Qt(r3).a.bb().mb(),new Kt(c));a.a.G();){i=(r=ww(a.a.H(),21),ww(r.zb(),20));Sm(i,this.b)}_T(ww(Nv(r3,(YD(),L6)),20))}function qA(n,e){var t,r,i,a,c,u,f;f=ww(MH(e,(mB(),xK)),28);if(!(f==(_N(),mW)||f==pW)){return}a=(t=ww(MH(e,(gB(),p9)),15).a,new Au(e.e.a+e.a.b+e.a.c+2*t,e.e.b+e.a.d+e.a.a+2*t)).b;for(u=new Xt(n.a);u.a<u.c.c.length;){c=ww($p(u),9);if(c.g!=(hO(),t1)){continue}r=ww(MH(c,O9),32);if(r!=(SD(),OW)&&r!=JW){continue}i=Sa($h(MH(c,Z9)));f==mW&&(i*=a);c.i.b=i-ww(MH(c,BK),10).b;AL(c,false,true)}}function QA(n,e){var t,r,i,a,c,u,f,o;t=new CG(n.d.c);wr(t,(hO(),e1));Ny(t,(mB(),xK),ww(MH(e,xK),28));Ny(t,OK,ww(MH(e,OK),86));t.k=n.d.b++;nw(n.b,t);t.j.b=e.j.b;t.j.a=0;o=(SD(),OW);a=ij(hT(e,o));for(f=new Xt(a);f.a<f.c.c.length;){u=ww($p(f),7);jk(u,t)}c=new qN;ib(c,o);jk(c,e);c.i.a=t.j.a;c.i.b=t.j.b/2;i=new qN;ib(i,MC(o));jk(i,t);i.i.b=t.j.b/2;i.i.a=-i.j.a;r=new xv;Ek(r,c);Sk(r,i);return t}function KA(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w;f=new sb;HL(n,f);i=new eI(e);b=new De;nw(b,(w=n.j,ww(Uf(pg(!w?n.j=new et(n):w)),7)));h=new De;while(b.c.length!=0){u=ww($p(new Xt(b)),7);h.c[h.c.length]=u;r=$m(n,u);for(c=new ir(r.b.mb());c.b.G();){a=ww(c.b.H(),12);if(HO(i,a,t)){l=ww(sP(f,a),20);for(s=l.mb();s.G();){o=ww(s.H(),7);Oy(h,o,0)!=-1||(b.c[b.c.length]=o,true)}}}gy(b,u)}return i}function WA(n,e){var t,r,i,a,c,u,f;t=RegExp(e,"g");u=Vj(bF,SB,2,0,5,1);r=0;f=n;a=null;while(true){c=t.exec(f);if(c==null||f==""){u[r]=f;break}else{u[r]=Pw(f,0,c.index);f=Pw(f,c.index+c[0].length,(ji(),f.length));t.lastIndex=0;if(a==f){u[r]=f.substr(0,1);f=zb(f,1,f.length-1)}a=f;++r}}if((ji(),n.length)>0){i=u.length;while(i>0&&u[i-1]==""){--i}i<u.length&&(u.length=i,undefined)}return u}function JA(n){var e,t,r,i,a,c;for(c=new Xt(HN(n.e));c.a<c.c.c.length;){a=ww($p(c),161);switch(ww(a.e,7).g.e){case 4:n.q.b=wc(n.q.b,(t=ww(a.e,7).d,new Rh(t.d,t.b,t.a,t.c)).c);break;case 2:n.q.c=wc(n.q.c,(r=ww(a.e,7).d,new Rh(r.d,r.b,r.a,r.c)).b);break;case 1:n.q.d=wc(n.q.d,(i=ww(a.e,7).d,new Rh(i.d,i.b,i.a,i.c)).a);break;case 3:n.q.a=wc(n.q.a,(e=ww(a.e,7).d,new Rh(e.d,e.b,e.a,e.c)).d)}}}function ZA(n,e,t,r,i){var a,c,u;a=e.$b(t,n.b);if(a<0){c=n.e;if(!c){i[0]=0;return r>0?EE(n,t,r):n}n.e=ZA(c,e,t,r,i);r==0&&i[0]!=0?--n.a:r>0&&i[0]==0&&++n.a;n.j=qC(n.j,r-i[0]);return GO(n)}else if(a>0){u=n.g;if(!u){i[0]=0;return r>0?SE(n,t,r):n}n.g=ZA(u,e,t,r,i);r==0&&i[0]!=0?--n.a:r>0&&i[0]==0&&++n.a;n.j=qC(n.j,r-i[0]);return GO(n)}i[0]=n.c;if(r==0){return fR(n)}n.j=qC(n.j,r-n.c);n.c=r;return n}function XA(n){var e,t,r,i,a,c,u;n.o=new pi;r=new Ga;for(c=new Xt(n.e.a);c.a<c.c.c.length;){a=ww($p(c),61);_I(a).c.length==1&&(xm(r,a,r.c.b,r.c),true)}while(r.b!=0){a=ww(r.b==0?null:(Ns(r.b!=0),RS(r,r.a.a)),61);if(_I(a).c.length==0){continue}e=ww(Uw(_I(a),0),89);t=a.g.c.length>0;u=WI(e,a);t?Rs(u.c,e):Rs(u.g,e);_I(u).c.length==1&&(xm(r,u,r.c.b,r.c),true);i=new _u(a,e);rs(n.o,i);gy(n.e.a,a)}}function n_(n,e,t,r,i){var a,c,u;a=e.$b(t,n.b);if(a<0){c=n.e;if(!c){i[0]=0;return n}n.e=n_(c,e,t,r,i);if(i[0]>0){if(r>=i[0]){--n.a;n.j=KC(n.j,i[0])}else{n.j=KC(n.j,r)}}return i[0]==0?n:GO(n)}else if(a>0){u=n.g;if(!u){i[0]=0;return n}n.g=n_(u,e,t,r,i);if(i[0]>0){if(r>=i[0]){--n.a;n.j=KC(n.j,i[0])}else{n.j=KC(n.j,r)}}return GO(n)}i[0]=n.c;if(r>=n.c){return fR(n)}else{n.c-=r;n.j=KC(n.j,r);return n}}function e_(n,e,t){var r,i,a,c,u,f,o,s;for(f=new Xt(t.b);f.a<f.c.c.length;){u=ww($p(f),9);c=ww(MH(u,(gB(),$9)),55);if(c){s=e_(n,e,c);u.j.a=(a=ww(MH(s,p9),15).a,new Au(s.e.a+s.a.b+s.a.c+2*a,s.e.b+s.a.d+s.a.a+2*a)).a;u.j.b=(i=ww(MH(s,p9),15).a,new Au(s.e.a+s.a.b+s.a.c+2*i,s.e.b+s.a.d+s.a.a+2*i)).b}}o=new ob;r=Uh(MH(t,(mB(),cK)));r!=null&&Xi(r,"de.cau.cs.kieler.fixed")?sB(t,o):uT(e,t,o);return t}function t_(n){var e,t,r,i,a,c,u,f;u=ww(MH(n,(mB(),WK)),18);f=ww(MH(n,JK),18);r=ww(MH(n,(gB(),p9)),15).a;n.d.a+=r;n.d.b+=r;n.e.a+=2*r;n.e.b+=2*r;Ny(n,p9,new Ut(0));i=(t=ww(MH(n,p9),15).a,new Au(n.e.a+n.a.b+n.a.c+2*t,n.e.b+n.a.d+n.a.a+2*t));e=new xo(i);if(u.kb((vL(),nJ))){c=ww(MH(n,NK),15).a;a=ww(MH(n,GK),15).a;if(f.kb((jO(),fJ))){c<=0&&(c=20);a<=0&&(a=20)}e.a=wc(i.a,c);e.b=wc(i.b,a)}P_(n,i,e)}function r_(n,e,t){var r,i,a,c,u,f,o,s;if(e.k==0){e.k=1;c=t;if(!t){i=new De;a=(r=ww(Yc(ZW),11),new jw(r,ww(hg(r,r.length),11),0));c=new _u(i,a)}ww(c.a,20).ib(e);e.g==(hO(),t1)&&ww(c.b,18).ib(ww(MH(e,(gB(),O9)),32));for(f=new Xt(e.f);f.a<f.c.c.length;){u=ww($p(f),7);for(s=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[new bt(u),new dt(u)]))))));AI(s);){o=ww(Jk(s),7);r_(n,o.f,c)}}return c}return null}function i_(n,e,t,r){var i,a,c,u,f;f=new xo(e.i);f.a+=e.j.a/2;f.b+=e.j.b/2;u=ww(MH(e,(gB(),U9)),15).a;a=n.e;c=n.a;i=n.d;switch(ww(MH(e,O9),32).e){case 1:f.a+=c.b+i.a-t/2;f.b=-r-u;e.i.b=-(c.d+u+i.b);break;case 2:f.a=a.a+c.b+c.c+u;f.b+=c.d+i.b-r/2;e.i.a=a.a+c.c+u-i.a;break;case 3:f.a+=c.b+i.a-t/2;f.b=a.b+c.d+c.a+u;e.i.b=a.b+c.a+u-i.b;break;case 4:f.a=-t-u;f.b+=c.d+i.b-r/2;e.i.a=-(c.b+u+i.a)}return f}function a_(n,e){var t,r,i,a,c,u,f;for(a=new Xt(e.b);a.a<a.c.c.length;){i=ww($p(a),9);c=MH(i,(gB(),F9));if(gl(c,7)){u=ww(c,7);f=i_(e,i,u.j.a,u.j.b);u.i.a=f.a;u.i.b=f.b;ib(u,ww(MH(i,O9),32))}}t=(r=ww(MH(e,(gB(),p9)),15).a,new Au(e.e.a+e.a.b+e.a.c+2*r,e.e.b+e.a.d+e.a.a+2*r));if(ww(MH(e,P9),18).kb((VY(),x7))){Ny(n,(mB(),xK),(_N(),pW));ww(MH($g(n),P9),18).ib(F7);PM(n,t,false)}else{PM(n,t,true)}}function c_(n,e,t){var r,i,a,c,u;u=null;switch(e.e){case 1:for(i=new Xt(n.f);i.a<i.c.c.length;){r=ww($p(i),7);if(ya(Sa(xh(MH(r,(gB(),R9)))))){return r}}u=new qN;Ny(u,(gB(),R9),(jd(),jd(),ynn));break;case 2:for(c=new Xt(n.f);c.a<c.c.c.length;){a=ww($p(c),7);if(ya(Sa(xh(MH(a,(gB(),Q9)))))){return a}}u=new qN;Ny(u,(gB(),Q9),(jd(),jd(),ynn))}if(u){jk(u,n);ib(u,t);MG(u.i,n.j,t)}return u}function u_(n,e){var t,r,i,a,c,u,f;ld(e);Ao(n.a.t(e.a));r=n.b;a=n.e;c=n.d;if(n.b){if(e.b){t=n.a.$b(n.e,e.e);if(t<0||t==0&&e.d==(Qs(),GV)){a=e.e;c=e.d}}}else{r=e.b;a=e.e;c=e.d}i=n.c;u=n.g;f=n.f;if(n.c){if(e.c){t=n.a.$b(n.g,e.g);if(t>0||t==0&&e.f==(Qs(),GV)){u=e.g;f=e.f}}}else{i=e.c;u=e.g;f=e.f}if(r&&i){t=n.a.$b(a,u);if(t>0||t==0&&c==(Qs(),GV)&&f==(Qs(),GV)){a=u;c=(Qs(),GV);f=LV}}return new dP(n.a,r,a,c,i,u,f)}function f_(n,e,t,r){var i,a,c,u,f,o,s;if(t.c.f==e.f){return}i=new CG(n);wr(i,(hO(),i1));Ny(i,(gB(),F9),t);Ny(i,(mB(),xK),(_N(),pW));r.c[r.c.length]=i;c=new qN;jk(c,i);ib(c,(SD(),JW));u=new qN;jk(u,i);ib(u,OW);Sk(t,c);a=new xv;oI(a,t);Ny(a,EK,null);Ek(a,u);Sk(a,e);EP(i,c,u);o=new Dp(t.b,0);while(o.b<o.d.Y()){f=(Ns(o.b<o.d.Y()),ww(o.d.sb(o.c=o.b++),33));s=ww(MH(f,dK),107);if(s==($E(),YQ)){rv(o);nw(a.b,f)}}}function o_(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g;a=t+(e.n+1)*n.a;c=e.b;i=new Au(a,c);for(f=(s=new zt(e.c.a).a.bb().mb(),new qt(s));f.a.G();){u=(o=ww(f.a.H(),21),ww(o.yb(),12));w=sp(u.d);l=sp(u.c);b=new Au(a,l.b);g=new Au(a,w.b);h=new Au(t-10,l.b);d=new Au(r,w.b);w.a>=r&&l.a>=r&&(h.a=r);w.a<=t&&l.a<=t&&(d.a=t-10);e.c.a.Y()==1?_y(u.a,UH(rc(iQ,1),o$,10,0,[h,b,g,d])):_y(u.a,UH(rc(iQ,1),o$,10,0,[h,b,i,g,d]))}}function s_(n,e){var t,r,i,a,c,u;a=n.c;c=n.d;Ek(n,null);Sk(n,null);e&&ya(Sa(xh(MH(c,(gB(),R9)))))?Ek(n,c_(c.f,(nE(),j8),(SD(),OW))):Ek(n,c);e&&ya(Sa(xh(MH(a,(gB(),Q9)))))?Sk(n,c_(a.f,(nE(),m8),(SD(),JW))):Sk(n,a);for(r=new Xt(n.b);r.a<r.c.c.length;){t=ww($p(r),33);i=ww(MH(t,(mB(),dK)),107);i==($E(),AQ)?Ny(t,dK,YQ):i==YQ&&Ny(t,dK,AQ)}u=ya(Sa(xh(MH(n,(gB(),i8)))));Ny(n,i8,(jd(),u?jnn:ynn));n.a=DH(n.a)}function l_(n){var e,t,r,i,a,c;Xs(this);for(t=n.Y()-1;t<3;t++){n.rb(0,ww(n.sb(0),10))}if(n.Y()<4){throw new Ca("At (least dimension + 1) control points are necessary!")}else{this.c=3;this.e=true;this.f=true;this.d=false;uR(this,n.Y()+this.c-1);c=new De;a=this.g.mb();for(e=0;e<this.c-1;e++){nw(c,$h(a.H()))}for(i=n.mb();i.G();){r=ww(i.H(),10);nw(c,$h(a.H()));this.b.ib(new bk(r,c));$j(0,c.c.length);c.c.splice(0,1)}}}function h_(n){var e,t,r,i,a,c,u,f,o,s,l;l=new ue;l.d=0;for(c=new Xt(n.c);c.a<c.c.c.length;){a=ww($p(c),16);l.d+=a.a.c.length}r=0;i=0;l.a=Vj(ytn,Lx,26,n.c.c.length,12,1);o=0;l.e=Vj(ytn,Lx,26,l.d,12,1);for(t=new Xt(n.c);t.a<t.c.c.length;){e=ww($p(t),16);e.k=r++;l.a[e.k]=i++;s=0;for(f=new Xt(e.a);f.a<f.c.c.length;){u=ww($p(f),9);u.k=o++;l.e[u.k]=s++}}l.c=new _t(l);l.b=Ml(l.d);FA(l,n);l.f=Ml(l.d);VA(l,n);return l}function b_(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d;u=Vj(ytn,Lx,26,e.c.c.length,12,1);o=Vj(u1,ZB,132,e.c.c.length,0,1);for(l=n.a,h=0,b=l.length;h<b;++h){s=l[h];d=0;for(c=new Xt(s.f);c.a<c.c.c.length;){i=ww($p(c),9);f=i.g;r=Eo(i.d);++u[r];w=n.b.a*n.b.d;u[r]>0&&!!o[r]&&(w=Sb(n.b,o[r],f));d=wc(d,i.d.c.b+w)}for(a=new Xt(s.f);a.a<a.c.c.length;){i=ww($p(a),9);i.i.b=d+i.e.d;t=i.d;t.c.b=d+i.e.d+i.j.b+i.e.a;o[Oy(t.b.c,t,0)]=i.g}}}function w_(n){var e,t,r,i,a,c,u,f,o,s;for(f=new Xt(n.a);f.a<f.c.c.length;){u=ww($p(f),9);if(u.g!=(hO(),t1)){continue}i=ww(MH(u,(gB(),O9)),32);if(i==(SD(),OW)||i==JW){for(r=mg(wO(u));AI(r);){t=ww(Jk(r),12);e=t.a;if(e.b==0){continue}o=t.c;if(o.f==u){a=(Ns(e.b!=0),ww(e.a.a.c,10));a.b=WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b}s=t.d;if(s.f==u){c=(Ns(e.b!=0),ww(e.c.b.c,10));c.b=WE(UH(rc(iQ,1),o$,10,0,[s.f.i,s.i,s.a])).b}}}}}function d_(n,e,t,r){var i,a,c,u,f,o;c=new IM(n,e,t);f=new Dp(r,0);i=false;while(f.b<f.d.Y()){u=(Ns(f.b<f.d.Y()),ww(f.d.sb(f.c=f.b++),102));if(u==e||u==t){rv(f)}else if(!i&&Sa(ll(u.g,u.d[0]).a)>Sa(ll(c.g,c.d[0]).a)){Ns(f.b>0);f.a.sb(f.c=--f.b);mb(f,c);i=true}else if(!!u.e&&u.e.Y()>0){a=(!u.e&&(u.e=new De),u.e).nb(e);o=(!u.e&&(u.e=new De),u.e).nb(t);if(a||o){(!u.e&&(u.e=new De),u.e).ib(c);++c.c}}}i||(r.c[r.c.length]=c,true)}function g_(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w;if(t.d.f==e.f){return}i=new CG(n);wr(i,(hO(),i1));Ny(i,(gB(),F9),t);Ny(i,(mB(),xK),(_N(),pW));r.c[r.c.length]=i;c=new qN;jk(c,i);ib(c,(SD(),JW));u=new qN;jk(u,i);ib(u,OW);f=t.d;Sk(t,c);a=new xv;oI(a,t);Ny(a,EK,null);Ek(a,u);Sk(a,f);o=ww(Uw(c.b,0),12).c;s=o.f;l=s.g;h=ww(Uw(u.e,0),12).d;b=h.f;w=b.g;l==i1?Ny(i,B9,ww(MH(s,B9),7)):Ny(i,B9,o);w==i1?Ny(i,x9,ww(MH(b,x9),7)):Ny(i,x9,h)}function v_(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;if(u=n.b[e],f=n.b[t],(o=ww(MH(u,(gB(),M9)),20),!!o&&o.Y()!=0&&o.kb(f))||(s=u.g!=(hO(),i1)&&f.g!=i1,l=ww(MH(u,_9),9),h=ww(MH(f,_9),9),b=!!l&&l!=u||!!h&&h!=f,w=l!=h,d=oT(u,(SD(),TW)),g=oT(f,KW),v=b&&w||d||g,s&&v)||u.g==(hO(),c1)&&f.g==a1||f.g==(hO(),c1)&&u.g==a1){return false}c=n.b[e];r=n.b[t];TN(n.c,c,r);QN(n.d,c,r);a=EC(n.a,c,r)+n.c.d+n.d.d;i=EC(n.a,r,c)+n.c.b+n.d.b;return a>i}function k_(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d;c=e;h=e.d;s=e.c.f;b=e.d.f;l=Eo(s.d);w=Eo(b.d);for(u=l;u<w;u++){i=new CG(n);wr(i,(hO(),i1));Ny(i,(gB(),F9),c);Ny(i,(mB(),xK),(_N(),pW));f=ww(Uw(n.c,u+1),16);yk(i,f);d=ww(MH(c,XK),15).a;if(d<0){d=0;Ny(c,XK,new Ut(d))}i.j.b=d;o=Math.floor(d/2);r=new qN;ib(r,(SD(),JW));jk(r,i);r.i.b=o;a=new qN;ib(a,OW);jk(a,i);a.i.b=o;Sk(c,r);t=new xv;oI(t,c);Ny(t,EK,null);Ek(t,a);Sk(t,h);jN(i,c,t);c=t}}function p_(n,e){YD();if(n==e){return bL(n)}switch(n.e){case 1:switch(e.e){case 4:return L6;case 1:return I6;case 2:return E6;case 3:return O6}case 2:switch(e.e){case 1:return E6;case 2:return S6;case 3:return N6;case 4:return H6}case 3:switch(e.e){case 2:return N6;case 3:return G6;case 4:return Q6;case 1:return O6}case 4:switch(e.e){case 3:return Q6;case 4:return q6;case 1:return L6;case 2:return H6}}return z6}function m_(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d;l=new Os;i=null;for(c=new Xt(n.c);c.a<c.c.c.length;){a=ww($p(c),16);for(f=new Xt(a.a);f.a<f.c.c.length;){u=ww($p(f),9);if(u.g!=(hO(),t1)){continue}s=ww(MH(u,(gB(),N9)),9);if(s){UG(s,l);h=new qN;jk(h,u);b=ww(MH(u,O9),32);ib(h,b);w=ww(Uw(s.f,0),7);d=new xv;Ek(d,h);Sk(d,w)}}i=a}for(t=(o=new zt(l.a).a.bb().mb(),new qt(o));t.a.G();){e=(r=ww(t.a.H(),21),ww(r.yb(),9));yk(e,i)}return l}function j_(n,e,t){var r,i,a,c,u,f,o,s,l;i=new De;for(o=new Xt(e.b);o.a<o.c.c.length;){f=ww($p(o),9);u=ww(MH(f,(gB(),$9)),55);if(u){r=j_(n,u,f);gH(i,r);xM(n,u,f);if(ww(MH(u,P9),18).kb((VY(),x7))){for(l=new Xt(f.f);l.a<l.c.c.length;){s=ww($p(l),7);if(Vg(n.b,s)==null){a=mD(s,(_N(),yW),s.g,-(s.b.c.length-s.e.c.length),s.j,ww(MH(u,(mB(),wK)),59),u);Ny(a,F9,s);mv(n.b,s,a);nw(u.b,a)}}}}}c=new De;FM(n,e,t,i,c);!!t&&AM(n,e,t,c);return c}function y_(n){var e,t,r,i,a,c,u,f,o,s,l,h;e=VP(n);for(s=(u=new zt(e).a.bb().mb(),new qt(u));s.a.G();){o=(i=ww(s.a.H(),21),ww(i.yb(),9));l=o.e.d;h=o.j.b+o.e.a;n.d[o.k]=0;t=o;while((a=n.a[t.k])!=o){r=aI(t,a);n.c==(Ik(),L5)?f=r.d.i.b+r.d.a.b-r.c.i.b-r.c.a.b:f=r.c.i.b+r.c.a.b-r.d.i.b-r.d.a.b;c=Sa(n.d[t.k])+f;n.d[a.k]=c;l=wc(l,a.e.d-c);h=wc(h,c+a.j.b+a.e.a);t=a}t=o;do{n.d[t.k]=Sa(n.d[t.k])+l;t=n.a[t.k]}while(t!=o);n.b[o.k]=l+h}}function S_(n,e,t){var r,i,a,c,u,f,o,s;r=n.a.k==(rm(),T5)?E$:H$;u=KY(n,new co(e,t));if(!u.a&&u.c){Xb(n.d,u);return r}else if(u.a){i=u.a.c;f=u.a.d;if(t){o=n.a.c==(Ik(),G5)?f:i;a=n.a.c==G5?i:f;c=n.a.f[a.f.k];s=Sa(n.a.n[c.k])+Sa(n.a.d[a.f.k])+a.i.b+a.a.b-Sa(n.a.d[o.f.k])-o.i.b-o.a.b}else{o=n.a.c==(Ik(),L5)?f:i;a=n.a.c==L5?i:f;s=Sa(n.a.n[n.a.f[a.f.k].k])+Sa(n.a.d[a.f.k])+a.i.b+a.a.b-Sa(n.a.d[o.f.k])-o.i.b-o.a.b}return s}return r}function E_(n){var e,t,r,i,a;Ny(n.g,(gB(),d9),lw(n.g.c));for(e=1;e<n.c.c.length-1;++e){Ny(ww(Uw(n.c,e),9),(mB(),OK),(HP(),Od(iW,UH(rc(oW,1),ZB,41,0,[uW,nW]))))}for(r=OG(lw(n.g.c),0);r.b!=r.d.c;){t=ww(Tm(r),33);i=ww(MH(n.g,(mB(),OK)),86);if(uH(i,Od((HP(),aW),UH(rc(oW,1),ZB,41,0,[eW,uW]))));else if(uH(i,Od(aW,UH(rc(oW,1),ZB,41,0,[rW,uW])))){nw(n.e.c,t);gy(n.g.c,t);a=new bf(n,t);Ny(n.g,g9,a)}else{HY(n,t);nw(n.i,n.d);Ny(n.g,g9,jG(n.i))}}}function H_(n,e,t,r){var i,a,c,u,f,o,s;a=YI(r);u=ya(Sa(xh(MH(r,(vB(),x8)))));if((u||ya(Sa(xh(MH(n,(mB(),yK))))))&&!Rf(ww(MH(n,(mB(),xK)),28))){i=KI(a);f=c_(n,t,t==(nE(),j8)?i:MC(i))}else{f=new qN;jk(f,n);s=f.i;s.a=e.a-n.i.a;s.b=e.b-n.i.b;lT(s,n.j.a,n.j.b);ib(f,xA(f,a));c=ww(MH(r,(gB(),P9)),18);o=f.g;switch(a.e){case 2:case 1:(o==(SD(),TW)||o==KW)&&c.ib((VY(),V7));break;case 4:case 3:(o==(SD(),OW)||o==JW)&&c.ib((VY(),V7))}}return f}function C_(n){var e,t,r,i,a,c,u,f;r=mh(ij(n.a));i=(e=ww(Yc(K6),11),new jw(e,ww(hg(e,e.length),11),0));while(r.a.G()||r.b.mb().G()){t=ww(wS(r),12);u=t.c.g;f=t.d.g;if(u==(SD(),WW)){if(f!=WW){c=bL(f);Ny(t,(gB(),f8),c);ib(t.c,f);mE(i,c);r.a.I()}}else{if(f==WW){c=bL(u);Ny(t,(gB(),f8),c);ib(t.d,u);mE(i,c);r.a.I()}else{c=p_(u,f);Ny(t,(gB(),f8),c);mE(i,c);r.a.I()}}}i.c==1?a=ww(lj(new Af(i)),60):a=(YD(),z6);rT(n,a,false);return a}function I_(n,e){var t,r,i,a;i=0;while(i<(ji(),e.length)&&AH(e.charCodeAt(i),_x)){++i}t=e.length;while(t>0&&AH(e.charCodeAt(t-1),Mx)){--t}if(i>=t){throw new Ca("The given string does not contain any numbers.")}a=WA(e.substr(i,t-i),",|;|\r|\n");if(a.length!=2){throw new Ca("Exactly two numbers are expected, "+a.length+" were found.")}try{n.a=fO(PN(a[0]));n.b=fO(PN(a[1]))}catch(n){n=mC(n);if(gl(n,130)){r=n;throw new Ca(Dx+r)}else throw hI(n)}}function L_(n,e,t){var r,i,a,c,u,f,o,s,l;f=t+e.d.c.a;for(l=new Xt(e.f);l.a<l.c.c.length;){s=ww($p(l),7);r=WE(UH(rc(iQ,1),o$,10,0,[s.f.i,s.i,s.a]));a=new Au(0,r.b);if(s.g==(SD(),OW)){a.a=f}else if(s.g==JW){a.a=t}else{continue}if(r.a==a.a){continue}i=s.e.c.length+s.b.c.length>1;for(u=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[s.b,s.e]))))));AI(u);){c=ww(Jk(u),12);o=c.c==s?c.d:c.c;fu(WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b-a.b)>1&&WP(n,c,a,i,s)}}}function G_(n,e){var t,r,i,a,c,u;for(c=new oC(new Ft(n.f.b).a);c.b;){a=AS(c);i=ww(a.yb(),251);if(e==1){if(i.yc()!=(WC(),OQ)&&i.yc()!=IQ){continue}}else{if(i.yc()!=(WC(),LQ)&&i.yc()!=GQ){continue}}r=ww(ww(a.zb(),27).b,25);u=ww(ww(a.zb(),27).a,78);t=u.c;switch(i.yc().e){case 2:r.j.d=n.e.a;r.j.c=wc(1,r.j.c+t);break;case 1:r.j.d=r.j.d+t;r.j.c=wc(1,r.j.c-t);break;case 4:r.j.e=n.e.b;r.j.b=wc(1,r.j.b+t);break;case 3:r.j.e=r.j.e+t;r.j.b=wc(1,r.j.b-t)}}}function N_(n,e,t,r,i){var a,c,u,f,o,s,l,h,b;h=(Ll(),new Lr);u=new De;KT(n,t,n.d.Mc(),u,h);KT(n,r,n.d.Nc(),u,h);f=new Dp(u,0);while(f.b<f.d.Y()){a=(Ns(f.b<f.d.Y()),ww(f.d.sb(f.c=f.b++),80));o=new Dp(u,f.b);while(o.b<o.d.Y()){c=(Ns(o.b<o.d.Y()),ww(o.d.sb(o.c=o.b++),80));_Y(a,c,n.a)}}rB(u,ww(MH(e,(gB(),t8)),154));BM(u);b=-1;for(l=new Xt(u);l.a<l.c.c.length;){s=ww($p(l),80);if(fu(s.k-s.a)<Y$){continue}b=gc(b,s.i);n.d.Kc(s,i)}n.b.a.Q();return b+1}function O_(n,e,t){var r,i;i=new xo(e);r=new xo(n.j);switch(t.e){case 1:case 8:case 7:zl(i,-r.a/2,-r.b);zl(e,0,-(.5+r.b));break;case 3:case 4:case 5:zl(i,-r.a/2,0);zl(e,0,.5+r.b);break;case 0:zl(i,-r.a/2,-r.b);zl(e,0,-(.5+-r.b));break;case 10:case 2:zl(i,0,-r.b/2);zl(e,0,-(.5+r.b));break;case 6:zl(i,-r.a,r.b/2);zl(e,0,-(.5+r.b));break;case 9:zl(i,-r.a/2,0);zl(e,0,-(.5+r.b));break;case 11:zl(i,-r.a,-r.b/2);zl(e,0,-(.5+r.b))}Fh(So(n.i),i);return new qG(n)}function T_(n,e,t,r,i){rw();var a,c,u,f,o,s,l;Xg(n,"src");Xg(t,"dest");s=eS(n);u=eS(t);dd((s.g&4)!=0,"srcType is not an array");dd((u.g&4)!=0,"destType is not an array");o=s.c;a=u.c;dd((o.g&1)!=0?o==a:(a.g&1)==0,"Array types don't match");l=n.length;f=t.length;if(e<0||r<0||i<0||e+i>l||r+i>f){throw new ci}if(((o.g&1)==0||(o.g&4)!=0)&&s!=u){if(n===t&&e<r){e+=i;for(c=r+i;c-- >r;){t[c]=n[--e]}}else{for(c=r+i;r<c;){t[r++]=n[e++]}}}else i>0&&RN(n,e,t,r,i,true)}function P_(n,e,t){var r,i,a,c,u;r=ww(MH(n,(vB(),I8)),18);t.a>e.a&&(r.kb((sO(),l7))?n.d.a+=(t.a-e.a)/2:r.kb(b7)&&(n.d.a+=t.a-e.a));t.b>e.b&&(r.kb((sO(),d7))?n.d.b+=(t.b-e.b)/2:r.kb(w7)&&(n.d.b+=t.b-e.b));if(ww(MH(n,(gB(),P9)),18).kb((VY(),x7))&&(t.a>e.a||t.b>e.b)){for(u=new Xt(n.b);u.a<u.c.c.length;){c=ww($p(u),9);if(c.g==(hO(),t1)){i=ww(MH(c,O9),32);i==(SD(),OW)?c.i.a+=t.a-e.a:i==KW&&(c.i.b+=t.b-e.b)}}}a=n.a;n.e.a=t.a-a.b-a.c;n.e.b=t.b-a.d-a.a}function R_(n,e,t,r,i,a){var c,u,f;c=e.$b(t,n.b);if(c<0){u=n.e;if(!u){a[0]=0;if(r==0&&i>0){return EE(n,t,i)}return n}n.e=R_(u,e,t,r,i,a);if(a[0]==r){i==0&&a[0]!=0?--n.a:i>0&&a[0]==0&&++n.a;n.j=qC(n.j,i-a[0])}return GO(n)}else if(c>0){f=n.g;if(!f){a[0]=0;if(r==0&&i>0){return SE(n,t,i)}return n}n.g=R_(f,e,t,r,i,a);if(a[0]==r){i==0&&a[0]!=0?--n.a:i>0&&a[0]==0&&++n.a;n.j=qC(n.j,i-a[0])}return GO(n)}a[0]=n.c;if(r==n.c){if(i==0){return fR(n)}n.j=qC(n.j,i-n.c);n.c=i}return n}function Y_(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g;f=n.e;b=n.f;c=n.d;w=n.c;s=w-1;d=n.g;l=lw(n.g.xb(1,n.g.Y()-1));o=new De;for(t=0;t<n.b.Y()-1;t++){u=fl(Vh(vs(ww(n.b.sb(t+1),92).a),ww(n.b.sb(t),92).a),w/(Sa($h(d.sb(t+w)))-Sa($h(d.sb(t)))));o.c[o.c.length]=u}g=new De;a=OG(l,0);h=new De;for(e=0;e<s-1;e++){nw(g,$h(Tm(a)))}for(i=new Xt(o);i.a<i.c.c.length;){r=ww($p(i),10);nw(g,$h(Tm(a)));nw(h,new bk(r,g));$j(0,g.c.length);g.c.splice(0,1)}return new IG(f,b,c,s,l,h)}function A_(n){this.q=new ei;this.p=new ei;this.o=Vj(ytn,Lx,26,(SD(),UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW])).length,12,1);this.i=Vj(ytn,Lx,26,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,12,1);this.j=Vj(Htn,DB,26,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,12,1);this.n=Vj(Htn,DB,26,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,12,1);this.g=Vj(gW,ZB,100,UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]).length,0,1);this.c=new lL(AJ);this.e=n;jc(this.o);jc(this.i);Go(this.n,0)}function __(n,e){var t,r,i,a,c,u,f,o,s,l;c=e.i!=null&&!e.b;c||GL(e,"Component Layout",1);t=ww(MH(n,(gB(),e8)),20);a=1/t.Y();if(ya(Sa(xh(MH(n,(mB(),bK)))))){l=0;for(s=t.mb();s.G();){o=ww(s.H(),31);++l;Rc(eS(o));o.sc(n,_E(e,a))}}else{for(s=t.mb();s.G();){o=ww(s.H(),31);o.sc(n,_E(e,a))}}for(i=new Xt(n.c);i.a<i.c.c.length;){r=ww($p(i),16);gH(n.b,r.a);r.a.c=Vj(WU,WB,1,0,4,1)}for(f=new Xt(n.b);f.a<f.c.c.length;){u=ww($p(f),9);yk(u,null)}n.c.c=Vj(WU,WB,1,0,4,1);c||kI(e)}function M_(n,e){var t,r,i,a,c,u,f,o,s,l,h;for(c=new Xt(e);c.a<c.c.c.length;){i=ww($p(c),102);i.e=null;i.c=0}u=null;for(a=new Xt(e);a.a<a.c.c.length;){i=ww($p(a),102);s=i.d[0];for(h=ww(MH(s,(gB(),M9)),20).mb();h.G();){l=ww(h.H(),9);(!i.e&&(i.e=new De),i.e).ib(n.b[l.d.k][l.k]);++n.b[l.d.k][l.k].c}if(s.g==(hO(),a1)){if(u){for(o=Al(new ju(n.c,u),0);o.c;){f=ww(fp(o),9);for(r=Al(new ju(n.c,s),0);r.c;){t=ww(fp(r),9);vb(n.b[f.d.k][f.k]).ib(n.b[t.d.k][t.k]);++n.b[t.d.k][t.k].c}}}u=s}}}function D_(n,e,t,r){var i,a,c,u,f,o;DT(e);a=ww(MH(r,(gB(),P9)),18);u=(mB(),TK).b;if(u in e.a&&Tv(e,u).ic().a){return}f=new qN;Ny(f,F9,e);jk(f,t);c=ww(Tv(e,"id"),97);Ip(n.k,c.a,f);mv(n.n,f,e);XT(e,f);FN(e,f);SP(n,e,f,r);ib(f,ww(MH(f,FK),32));o=ww(MH(t,xK),28);o==(_N(),SW)&&(o=yW);i=ww(MH(r,wK),59);i==(WC(),NQ)&&(i=GQ);cM(f,o,i,ww(MH(f,BK),10));switch(i.e){case 2:case 1:(f.g==(SD(),TW)||f.g==KW)&&a.ib((VY(),V7));break;case 4:case 3:(f.g==(SD(),OW)||f.g==JW)&&a.ib((VY(),V7))}}function B_(n,e){var t,r,i,a,c,u,f,o;n.f=e;i=e.c.c.length;n.a=Vj(n1,SB,51,i,0,2);n.d=Vj(n1,SB,51,i,0,2);n.g=Vj(n1,SB,51,i,0,2);c=new Dp(e.c,0);while(c.b<c.d.Y()){r=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16));u=r.a.c.length;a=c.b-1;n.a[a]=Vj(n1,v$,9,u,0,1);n.d[a]=Vj(n1,v$,9,u,0,1);n.g[a]=Vj(n1,v$,9,u,0,1);o=new Dp(r.a,0);t=0;while(o.b<o.d.Y()){f=(Ns(o.b<o.d.Y()),ww(o.d.sb(o.c=o.b++),9));f.k=t++;n.d[a][o.b-1]=f;n.a[a][o.b-1]=f;n.g[a][o.b-1]=f}}n.b=new as(n.d);n.e.c&&(n.b.e=true)}function x_(n){var e,t,r,i,a,c;i=new De;for(c=new Xt(n.c.f);c.a<c.c.c.length;){a=ww($p(c),7);a.g==(SD(),OW)&&(i.c[i.c.length]=a,true)}if(n.d.a==(WC(),GQ)&&!Rf(ww(MH(n.c,(mB(),xK)),28))){for(r=mg(EI(n.c));AI(r);){t=ww(Jk(r),12);nw(i,t.c)}}Ny(n.c,(gB(),k9),new Ut(n.c.j.a));Ny(n.c,v9,(jd(),jd(),ynn));nw(n.b,n.c);e=null;n.e==1?e=wM(n,n.c,Eo(n.c.d),n.c.j.a):n.e==0?e=dM(n,n.c,Eo(n.c.d),n.c.j.a):n.e==3?e=aR(n,n.c,n.c.j.a):n.e==2&&(e=iR(n,n.c,n.c.j.a));!!e&&new DN(n.c,n.b,Sa($h(e.b)))}function $_(n,e,t){var r,i,a,c,u,f,o,s;i=e.g;ya(Sa(xh(MH(e,(gB(),v9)))))&&(i=(hO(),e1));if(e.k>=0){return false}else if(!!t.e&&i==(hO(),e1)&&i!=t.e){return false}else{e.k=t.b;nw(t.f,e)}t.e=i;if(i==(hO(),i1)||i==c1||i==e1){for(c=new Xt(e.f);c.a<c.c.c.length;){a=ww($p(c),7);for(s=(r=new Xt(new dt(a).a.e),new gt(r));vl(s.a);){o=ww($p(s.a),12).d;u=o.f;f=u.g;if(e.d!=u.d){if(i==e1){if(f==e1){if($_(n,u,t)){return true}}}else{if(f==i1||f==c1){if($_(n,u,t)){return true}}}}}}}return true}function U_(n,e){var t,r,i,a,c,u,f,o,s;_y(n.a,UH(rc(iQ,1),o$,10,0,[e.a,e.b]));wE(n.c,e.e);n.q.d=n.q.d|e.d;n.q.a=n.q.a|e.c;u=vc(n.j.e,e.k);f=wc(n.j.e+n.j.b,e.n);Jb(n.j,e.j,u,0,f-u);sg(n.d,e.f);e.f.c.f==e.f.d.f&&Zb(n.n,true,true,true,true);c=new va;o=new va;for(i=(s=new zt(n.d.a).a.bb().mb(),new qt(s));i.a.G();){r=(a=ww(i.a.H(),21),ww(a.yb(),12));sg(c,r.c);sg(o,r.d)}t=c.a.Y()-o.a.Y();if(t<0){FH(n.n,true,(WC(),LQ));FH(n.n,false,GQ)}else if(t>0){FH(n.n,false,(WC(),LQ));FH(n.n,true,GQ)}}function F_(n,e){var t,r,i,a,c,u,f,o,s,l;c=0;while(c<(ji(),e.length)&&_H(e.charCodeAt(c),_x)){++c}t=e.length;while(t>0&&_H(e.charCodeAt(t-1),Mx)){--t}if(c<t){s=WA(e.substr(c,t-c),",|;");try{for(f=0,o=s.length;f<o;++f){u=s[f];a=WA(u,"=");if(a.length!=2){throw new Ca("Expecting a list of key-value pairs.")}i=PN(a[0]);l=fO(PN(a[1]));Xi(i,"top")?n.d=l:Xi(i,"left")?n.b=l:Xi(i,i$)?n.a=l:Xi(i,"right")&&(n.c=l)}}catch(n){n=mC(n);if(gl(n,130)){r=n;throw new Ca(Dx+r)}else throw hI(n)}}}function V_(n,e){var t,r,i,a,c,u,f,o,s;s=new Ga;for(u=(o=new Qt(n.c).a.bb().mb(),new Kt(o));u.a.G();){a=(i=ww(u.a.H(),21),ww(i.zb(),200));a.b==0&&(xm(s,a,s.c.b,s.c),true)}while(s.b!=0){a=ww(s.b==0?null:(Ns(s.b!=0),RS(s,s.a.a)),200);for(r=new Xt(a.d);r.a<r.c.c.length;){t=ww($p(r),279);e.k==(rm(),O5)?t.b.a=vc(t.b.a,a.a+t.a):t.b.a=wc(t.b.a,a.a+t.a);--t.b.b;t.b.b==0&&Xb(s,t.b)}}for(c=(f=new Qt(n.c).a.bb().mb(),new Kt(f));c.a.G();){a=(i=ww(c.a.H(),21),ww(i.zb(),200));e.g[a.c.k]=a.a}}function z_(n,e,t){var r,i,a,c;a=n.i;i=WE(UH(rc(iQ,1),o$,10,0,[e.i,e.f.i]));r=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a]));c=e.d;switch(e.g.e){case 4:a.a=vc(i.a,r.a)-c.b-n.j.a-t;a.b=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).b+t;break;case 2:a.a=wc(i.a+e.j.a,r.a)+c.c+t;a.b=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).b+t;break;case 1:a.a=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).a+t;a.b=vc(i.b,r.b)-c.d-n.j.b-t;break;case 3:a.a=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).a+t;a.b=wc(i.b+e.j.b,r.b)+c.a+t}}function q_(n,e,t){var r,i,a,c;a=n.i;i=WE(UH(rc(iQ,1),o$,10,0,[e.i,e.f.i]));r=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a]));c=e.d;switch(e.g.e){case 4:a.a=vc(i.a,r.a)-c.b-n.j.a-t;a.b=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).b-n.j.b-t;break;case 2:a.a=wc(i.a+e.j.a,r.a)+c.c+t;a.b=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).b-n.j.b-t;break;case 1:a.a=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).a+t;a.b=vc(i.b,r.b)-c.d-n.j.b-t;break;case 3:a.a=WE(UH(rc(iQ,1),o$,10,0,[e.f.i,e.i,e.a])).a+t;a.b=wc(i.b+e.j.b,r.b)+c.a+t}}function Q_(n){var e,t;t=ww(MH(n,(gB(),P9)),18);e=hw(dZ);ya(Sa(xh(MH(n,(vB(),Y8)))))?Vw(e,(dB(),X0)):qw(e,(dB(),X0));MH(n,(sy(),kQ))!=null&&AE(e,gZ);switch(ww(MH(n,(mB(),wK)),59).e){case 2:Fw(Vw(e,(dB(),$0)),x0);break;case 3:Fw(Vw(e,(dB(),p0)),k0);break;case 4:Fw(Vw(e,(dB(),u2)),c2)}t.kb((VY(),D7))&&Fw(Vw(e,(dB(),v0)),g0);$o(MH(n,V8))!==$o((IR(),_2))&&qw(e,(dB(),z0));$o(MH(n,K8))!==$o((iT(),E3))&&$o(MH(n,L9))===$o((JC(),BQ))&&Fw(e,(dB(),I0));if(t.kb(z7)){Vw(e,(dB(),W0));qw(e,K0)}return e}function K_(){K_=r;W7=new Cm("ONE_SIDED",0,true,false,false);n9=new Cm("TWO_SIDED",1,false,false,false);J7=new Cm("ONE_SIDED_BEST_OF_UP_OR_DOWN",2,true,true,false);e9=new Cm("TWO_SIDED_BEST_OF_UP_OR_DOWN",3,false,true,false);Z7=new Cm("ONE_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",4,true,true,true);t9=new Cm("TWO_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",5,false,true,true);X7=new Cm("ONE_SIDED_ORTHOGONAL_HYPEREDGES",6,true,false,true);K7=new Cm("OFF",7,false,false,false)}function W_(n,e,t,r,i,a,c){var u,f,o,s,l,h,b;l=ya(Sa(xh(MH(e,(vB(),$8)))));h=null;a==(nE(),m8)&&r.c.f==t?h=r.c:a==j8&&r.d.f==t&&(h=r.d);o=c;if(!c||!l||!!h){s=(SD(),WW);h?s=h.g:Rf(ww(MH(t,(mB(),xK)),28))&&(s=a==m8?JW:OW);f=rM(n,e,t,a,s,r);u=sm(($g(t),r));if(a==m8){Ek(u,ww(Uw(f.f,0),7));Sk(u,i)}else{Ek(u,i);Sk(u,ww(Uw(f.f,0),7))}o=new tI(r,u,f,ww(MH(f,(gB(),F9)),7),a,!h)}else{nw(c.e,r);b=dc(ww(MH(c.d,(mB(),XK)),15).a,ww(MH(r,XK),15).a);Ny(c.d,XK,new Ut(b))}mP(n.a,r,new _b(o.d,e,a));return o}function J_(n,e,t,r){var i,a,c,u,f,o,s,l;a=new CG(n);wr(a,(hO(),c1));Ny(a,(mB(),xK),(_N(),pW));i=0;if(e){c=new qN;Ny(c,(gB(),F9),e);Ny(a,F9,e.f);ib(c,(SD(),JW));jk(c,a);l=ww(KG(e.b,Vj($X,M$,12,e.b.c.length,0,1)),47);for(o=0,s=l.length;o<s;++o){f=l[o];Sk(f,c)}Ny(e,J9,a);++i}if(t){u=new qN;Ny(a,(gB(),F9),t.f);Ny(u,F9,t);ib(u,(SD(),OW));jk(u,a);l=ww(KG(t.e,Vj($X,M$,12,t.e.c.length,0,1)),47);for(o=0,s=l.length;o<s;++o){f=l[o];Ek(f,u)}Ny(t,J9,a);++i}Ny(a,(gB(),E9),HI(i));r.c[r.c.length]=a;return a}function Z_(n,e){var t,r,i,a,c,u,f;for(c=Md(n.a).mb();c.G();){a=ww(c.H(),12);if(a.b.c.length>0){r=new Rb(ww(LO(n.a,a),18));Sm(r,new st(e));i=new Dp(a.b,0);while(i.b<i.d.Y()){t=(Ns(i.b<i.d.Y()),ww(i.d.sb(i.c=i.b++),33));u=-1;switch(ww(MH(t,(mB(),dK)),107).e){case 2:u=r.c.length-1;break;case 1:u=r.c.length/2|0;break;case 3:u=0}if(u!=-1){f=($j(u,r.c.length),ww(r.c[u],114));nw(f.b.b,t);ww(MH($g(f.b.c.f),(gB(),P9)),18).ib((VY(),B7));ww(MH($g(f.b.c.f),P9),18).ib(M7);rv(i);Ny(t,q9,a)}}}Ek(a,null);Sk(a,null)}}function X_(n){var e,t,r,i,a,c,u,f,o,s,l;s=n.e.a.c.length;for(c=new Xt(n.e.a);c.a<c.c.c.length;){a=ww($p(c),61);a.j=false}n.i=Vj(ytn,Lx,26,s,12,1);n.g=Vj(ytn,Lx,26,s,12,1);n.n=new De;i=0;l=new De;for(f=new Xt(n.e.a);f.a<f.c.c.length;){u=ww($p(f),61);u.b=i++;u.c.c.length==0&&nw(n.n,u);gH(l,u.g)}e=0;for(r=new Xt(l);r.a<r.c.c.length;){t=ww($p(r),89);t.b=e++;t.e=false}o=l.c.length;if(n.b==null||n.b.length<o){n.b=Vj(Htn,DB,26,o,12,1);n.c=Vj(Stn,eU,26,o,13,1)}else{Sc(n.c)}n.d=l;n.p=new lh(pH(n.d.c.length));n.j=1}function nM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;d=n.d;g=e.d;b=ww(rL(n,(nE(),m8)).mb().H(),7);p=ww(rL(n,j8).mb().H(),7);w=ww(rL(e,m8).mb().H(),7);m=ww(rL(e,j8).mb().H(),7);l=ww(KG(b.b,Vj($X,M$,12,1,0,1)),47);v=ww(KG(p.e,Vj($X,M$,12,1,0,1)),47);h=ww(KG(w.b,Vj($X,M$,12,1,0,1)),47);k=ww(KG(m.e,Vj($X,M$,12,1,0,1)),47);yk(n,g);for(i=0,f=h.length;i<f;++i){t=h[i];Sk(t,b)}for(a=0,o=k.length;a<o;++a){t=k[a];Ek(t,p)}yk(e,d);for(c=0,s=l.length;c<s;++c){t=l[c];Sk(t,w)}for(r=0,u=v.length;r<u;++r){t=v[r];Ek(t,m)}}function eM(n){var e,t,r,i,a,c,u,f;for(a=new Xt(n.a.b);a.a<a.c.c.length;){i=ww($p(a),25);i.vc()}f=new Au(E$,E$);e=new Au(H$,H$);for(r=new Xt(n.a.b);r.a<r.c.c.length;){t=ww($p(r),25);f.a=vc(f.a,t.j.d);f.b=vc(f.b,t.j.e);e.a=wc(e.a,t.j.d+t.j.c);e.b=wc(e.b,t.j.e+t.j.b)}for(u=Ag(n.c).mb();u.G();){c=ww(u.H(),27);t=ww(c.b,25);f.a=vc(f.a,t.j.d);f.b=vc(f.b,t.j.e);e.a=wc(e.a,t.j.d+t.j.c);e.b=wc(e.b,t.j.e+t.j.b)}n.d=Ql(new Au(f.a,f.b));n.e=Vh(new Au(e.a,e.b),f);n.a.a.c=Vj(WU,WB,1,0,4,1);n.a.b.c=Vj(WU,WB,1,0,4,1)}function tM(n){var e,t,r,i,a,c,u;u=ww(Uw(n.f,0),7);if(u.e.c.length!=0&&u.b.c.length!=0){throw new za("Interactive layout does not support NORTH/SOUTH ports with incoming _and_ outgoing edges.")}if(u.e.c.length!=0){a=E$;for(t=new Xt(u.e);t.a<t.c.c.length;){e=ww($p(t),12);c=e.d.f;r=ww(MH(c,(mB(),LK)),65);a=vc(a,c.i.a-r.b)}return new Ue(ld(a))}if(u.b.c.length!=0){i=H$;for(t=new Xt(u.b);t.a<t.c.c.length;){e=ww($p(t),12);c=e.c.f;r=ww(MH(c,(mB(),LK)),65);i=wc(i,c.i.a+c.j.a+r.c)}return new Ue(ld(i))}return yi(),yi(),SF}function rM(n,e,t,r,i,a){var c,u,f,o,s,l,h;o=r==(nE(),m8)?a.c:a.d;f=YI(e);if(o.f==t){c=ww(Vg(n.b,o),9);if(!c){c=mD(o,ww(MH(t,(mB(),xK)),28),i,r==m8?-1:1,o.j,f,e);Ny(c,(gB(),F9),o);mv(n.b,o,c)}}else{s=ww(MH(a,(mB(),XK)),15).a;c=mD((l=new g,h=ww(MH(e,(gB(),a8)),15).a*ww(MH(e,(vB(),R8)),15).a/2,Ny(l,U9,new Ut(h)),l),ww(MH(t,xK),28),i,r==m8?-1:1,new Au(s,s),f,e);u=pT(n,c,t,r);Ny(c,F9,u);mv(n.b,u,c)}ww(MH(e,(gB(),P9)),18).ib((VY(),x7));Rf(ww(MH(e,(mB(),xK)),28))?Ny(e,xK,(_N(),jW)):Ny(e,xK,(_N(),yW));return c}function iM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S;r=ww(MH(e,(vB(),B8)),15).a;j=ww(MH(e,nnn),24).a;h=4;i=3;y=20/j;b=false;f=0;c=NB;do{a=f!=1;l=f!=0;S=0;for(g=n.a,k=0,m=g.length;k<m;++k){w=g[k];w.g=null;cD(n,w,a,l,r);S+=fu(w.a)}do{u=DA(n,e)}while(u);for(d=n.a,v=0,p=d.length;v<p;++v){w=d[v];t=qd(w).a;if(t!=0){for(s=new Xt(w.f);s.a<s.c.c.length;){o=ww($p(s),9);o.i.b+=t}}}if(f==0||f==1){--h;if(h<=0&&(S<c||-h>j)){f=2;c=NB}else if(f==0){f=1;c=S}else{f=0;c=S}}else{b=S>=c||c-S<y;c=S;b&&--i}}while(!(b&&i<=0))}function aM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b;l=ww(KG(n.f,Vj(w1,F$,7,n.f.c.length,0,1)),346);for(o=0,s=l.length;o<s;++o){f=l[o];if(t!=(nE(),m8)){u=ww(KG(f.e,Vj($X,M$,12,f.e.c.length,0,1)),47);for(i=0,a=u.length;i<a;++i){r=u[i];b=ww(MH(r.d.f,(vB(),D8)),85);!ya(Sa(xh(MH(r,(gB(),i8)))))&&!(e==(nN(),d8)&&b==g8)&&s_(r,true)}}if(t!=j8){c=ww(KG(f.b,Vj($X,M$,12,f.b.c.length,0,1)),47);for(i=0,a=c.length;i<a;++i){r=c[i];h=ww(MH(r.c.f,(vB(),D8)),85);!ya(Sa(xh(MH(r,(gB(),i8)))))&&!(e==(nN(),b8)&&h==w8)&&s_(r,true)}}}}function cM(n,e,t,r){var i,a,c,u,f;c=n.g;if(c==(SD(),WW)&&e!=(_N(),yW)&&e!=(_N(),SW)){c=xA(n,t);ib(n,c);MH(n,(mB(),PK))==null&&c!=WW&&(n.i.a!=0||n.i.b!=0)&&Ny(n,PK,new Ut(AN(n,c)))}if(e==(_N(),mW)){f=0;switch(c.e){case 1:case 3:a=n.f.j.a;a>0&&(f=n.i.a/a);break;case 2:case 4:i=n.f.j.b;i>0&&(f=n.i.b/i)}Ny(n,(gB(),Z9),f)}u=n.j;if(r){n.a.a=r.a;n.a.b=r.b}else if(e!=yW&&e!=SW&&c!=WW){switch(c.e){case 1:n.a.a=u.a/2;break;case 2:n.a.a=u.a;n.a.b=u.b/2;break;case 3:n.a.a=u.a/2;n.a.b=u.b;break;case 4:n.a.b=u.b/2}}else{n.a.a=u.a/2;n.a.b=u.b/2}}function uM(n){var e,t,r,i;if(gl(n.a,10)){return vs(ww(n.a,10))}else if(gl(n.a,66)){return hy(ww(n.a,86))}else if(gl(n.a,50)){return ww(n.a,50).Wc()}else if(gl(n.a,191)){e=new ka;i=(r=new Pb(new hh(new Jt(ww(n.a,191).a).a).b),new Zt(r));while(Ef(i.a.a)){Hg(e,(t=Ih(i.a),t.yb()))}return e}else if(gl(n.a,13)){return new Rb(ww(n.a,13))}else if(gl(n.a,44)){e=new Xr;i=OG(ww(n.a,44),0);while(i.b!=i.d.c){Xb(e,ww(Tm(i),10))}return e}else if(gl(n.a,58)){e=new Ga;i=OG(ww(n.a,58),0);while(i.b!=i.d.c){Xb(e,Tm(i))}return e}else{return n.a}}function fM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w;u=0;w=0;f=yH(n.f,n.f.length);a=n.d;c=n.i;r=n.a;i=n.b;do{b=0;for(s=new Xt(n.p);s.a<s.c.c.length;){o=ww($p(s),9);h=TM(n,o);t=true;(n.q==(IR(),T2)||n.q==Y2)&&(t=ya(Sa(xh(h.b))));if(ww(h.a,24).a<0&&t){++b;f=yH(n.f,n.f.length);n.d=n.d+ww(h.a,24).a;w+=a-n.d;a=n.d+ww(h.a,24).a;c=n.i;r=ij(n.a);i=ij(n.b)}else{n.f=yH(f,f.length);n.d=a;n.a=(ld(r),r?new Rb((qs(),r)):sw(new Xt(null)));n.b=(ld(i),i?new Rb((qs(),i)):sw(new Xt(null)));n.i=c}}++u;l=b!=0&&ya(Sa(xh(e.B(new _u(HI(w),HI(u))))))}while(l)}function oM(n,e,t,r){var i,a,c,u,f,o,s;if(!vl(new Xt(oN(n)))){return r}s=bC(ww(iL(n,(mB(),OK)),86));for(f=new Xt(oN(n));f.a<f.c.c.length;){u=ww($p(f),129);o=bC(ww(iL(u,OK),86));o==(kB(),YJ)&&(o=s);kr(u,o.e);i=JI(t,o);i.c=wc(i.c,u.e.j.a);i.b+=u.e.j.b+e}for(c=new pd(new fr(t).a);kl(c.a);){a=(c.b=lj(c.a),new Oo(c.c,c.b));i=ww(a.b.b[a.a.e],62);i.b-=e;switch(ww(a.a,67).e){case 12:case 13:case 14:r.d=wc(r.d,i.b+e);break;case 15:r.b=wc(r.b,i.c+e);break;case 17:r.c=wc(r.c,i.c+e);break;case 18:case 19:case 20:r.a=wc(r.a,i.b+e)}}return r}function sM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;Bj(this);t==(Lk(),u7)?sg(this.g,n):sg(this.o,n);b=K$;h=5e-324;for(o=(c=new zt(e.a).a.bb().mb(),new qt(c));o.a.G();){u=(i=ww(o.a.H(),21),ww(i.yb(),27));s=ww(u.a,223);r=ww(u.b,12);l=r.c;l==n&&(l=r.d);s==u7?sg(this.g,l):sg(this.o,l);d=WE(UH(rc(iQ,1),o$,10,0,[l.f.i,l.i,l.a])).b;b=b<d?b:d;h=h>d?h:d}w=WE(UH(rc(iQ,1),o$,10,0,[n.f.i,n.i,n.a])).b;cG(this,w,b,h);for(f=(a=new zt(e.a).a.bb().mb(),new qt(a));f.a.G();){u=(i=ww(f.a.H(),21),ww(i.yb(),27));sg(this.c,ww(u.b,12))}this.f=false}function lM(n,e,t,r){var i,a,c,u,f,o;u=(mB(),TK).b;if(u in e.a&&Tv(e,u).ic().a){return}o=Tv(e,u$);if(!o){throw new ig("Labels must have a property 'text'.",null,e)}else if(!o.lc()){throw new ig("A label's 'text' property must be a string.",o,e)}f=o.lc().a;a=new js(f);Ny(a,(gB(),F9),e);mv(n.f,a,e);XT(e,a);FN(e,a);gl(t,9)?nw(ww(t,9).c,a):gl(t,12)?nw(ww(t,12).b,a):gl(t,7)&&nw(ww(t,7).c,a);if(gl(t,12)){c=ww(MH(a,dK),107);XT(e,a);Ny(a,dK,c);i=ww(MH(r,P9),18);switch(c.e){case 2:case 3:i.ib((VY(),B7));case 1:case 0:i.ib((VY(),M7));Ny(a,dK,($E(),RQ))}}}function hM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;a=0;c=0;for(o=new Xt(n.a);o.a<o.c.c.length;){u=ww($p(o),9);a=wc(a,u.e.b);c=wc(c,u.e.c)}for(f=new Xt(n.a);f.a<f.c.c.length;){u=ww($p(f),9);t=ww(MH(u,(mB(),uK)),103);switch(t.e){case 1:w=0;break;case 2:w=1;break;case 5:w=.5;break;default:r=0;l=0;for(b=new Xt(u.f);b.a<b.c.c.length;){h=ww($p(b),7);h.b.c.length==0||++r;h.e.c.length==0||++l}r+l==0?w=.5:w=l/(r+l)}g=n.c;s=u.j.a;v=(g.a-s)*w;w>.5?v-=c*2*(w-.5):w<.5&&(v+=a*2*(.5-w));i=u.e.b;v<i&&(v=i);d=u.e.c;v>g.a-d-s&&(v=g.a-d-s);u.i.a=e+v}}function bM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L;t=n.l&8191;r=n.l>>13|(n.m&15)<<9;i=n.m>>4&8191;a=n.m>>17|(n.h&255)<<5;c=(n.h&1048320)>>8;u=e.l&8191;f=e.l>>13|(e.m&15)<<9;o=e.m>>4&8191;s=e.m>>17|(e.h&255)<<5;l=(e.h&1048320)>>8;E=t*u;H=r*u;C=i*u;I=a*u;L=c*u;if(f!=0){H+=t*f;C+=r*f;I+=i*f;L+=a*f}if(o!=0){C+=t*o;I+=r*o;L+=i*o}if(s!=0){I+=t*s;L+=r*s}l!=0&&(L+=t*l);b=E&Tx;w=(H&511)<<13;h=b+w;g=E>>22;v=H>>9;k=(C&262143)<<4;p=(I&31)<<17;d=g+v+k+p;j=C>>18;y=I>>5;S=(L&4095)<<8;m=j+y+S;d+=h>>22;h&=Tx;m+=d>>22;d&=Tx;m&=Px;return Kb(h,d,m)}function wM(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;g=n.d.c.c.c.length;if(t>=g-1){return null}i=new De;i.c[i.c.length]=e;m=e;c=t;w=-1;u=ww(Uw(n.d.c.c,t),16);for(b=0;b<u.a.c.length;++b){v=ww(Uw(u.a,b),9);if(v==e){w=b;break}}d=bB(n,1,w,t,g,n.a);if(!d){return null}j=n.a;h=0;a=0;while(!!m&&j>1&&c<g-1){s=QA(n,m);l=ww(Uw(n.d.c.c,c+1),16);y=ww(d.sb(h++),24).a;k=pc(y,l.a.c.length);gN(s,k,l);!!m&&(i.c[i.c.length]=m,true);m=s;--j;++a;++c}p=(r-(i.c.length-1)*n.d.d)/i.c.length;for(o=new Xt(i);o.a<o.c.c.length;){f=ww($p(o),9);f.j.a=p}return new _u(HI(a),p)}function dM(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;if(t<=0){return null}i=new De;i.c[i.c.length]=e;m=e;c=t;w=-1;u=ww(Uw(n.d.c.c,t),16);for(b=0;b<u.a.c.length;++b){g=ww(Uw(u.a,b),9);if(g==e){w=b;break}}d=bB(n,0,w,t,n.d.c.c.c.length,n.a);if(!d){return null}j=n.a;h=0;a=0;p=w;while(!!m&&j>1&&c>1){s=QA(n,m);u=ww(Uw(n.d.c.c,c),16);l=ww(Uw(n.d.c.c,c-1),16);y=ww(d.sb(h++),24).a;v=pc(y,l.a.c.length);gN(m,v,l);gN(s,p,u);p=v;!!m&&(i.c[i.c.length]=m,true);m=s;--j;++a;--c}k=(r-(i.c.length-1)*n.d.d)/i.c.length;for(o=new Xt(i);o.a<o.c.c.length;){f=ww($p(o),9);f.j.a=k}return new _u(HI(a),k)}function gM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w;n.b=n.c;w=xh(MH(e,(mB(),KK)));b=w==null||ya((gd(w),w));a=ww(MH(e,(gB(),P9)),18).kb((VY(),x7));i=ww(MH(e,xK),28);t=!(i==(_N(),kW)||i==mW||i==pW);if(b&&(t||!a)){for(l=new Xt(e.b);l.a<l.c.c.length;){o=ww($p(l),9);o.k=0}h=new De;for(s=new Xt(e.b);s.a<s.c.c.length;){o=ww($p(s),9);r=r_(n,o,null);if(r){f=new OS;oI(f,e);Ny(f,G9,ww(r.b,18));nd(f.a,e.a);for(u=ww(r.a,20).mb();u.G();){c=ww(u.H(),9);nw(f.b,c);c.a=f}h.ib(f)}}a&&(n.b=n.a)}else{h=new nr(UH(rc(UX,1),{38:1,39:1,42:1,3:1,8:1,5:1,6:1},55,0,[e]))}return h}function vM(n){var e,t,r,i,a,c,u,f,o;for(t=new Xt(n.a.a.b);t.a<t.c.c.length;){e=ww($p(t),25);for(c=e.i.mb();c.G();){a=ww(c.H(),25);if(e.f==a.f){continue}xu(n.a.d)?f=n.a.g.tc(e,a):f=n.a.g.uc(e,a);r=e.g.a+e.j.c+f-a.g.a;r=Math.ceil(r);r=0>r?0:r;if(!!e.o&&!!a.o&&gl(e,82)&&gl(a,82)&&!mS(QS(ww(e,82).d,ww(a,82).d))){i=ul(new Jr,n.d);u=Uk(Ho(a.g.a-e.g.a));XR(Qc(Wc(Jc(Kc(new Wr,0>u?0:u),1),i),n.c[e.f.d]));XR(Qc(Wc(Jc(Kc(new Wr,0>-u?0:-u),1),i),n.c[a.f.d]))}else{o=1;(gl(e,82)&&gl(a,93)||gl(a,82)&&gl(e,93))&&(o=2);XR(Qc(Wc(Jc(Kc(new Wr,Uk(r)),o),n.c[e.f.d]),n.c[a.f.d]))}}}}function kM(){kM=r;sZ=new va;oZ=yA(UH(rc(uQ,1),WB,79,0,[(mB(),cK),pK]));cZ=yA(UH(rc(uQ,1),WB,79,0,[RK,$K,(vB(),J8),mK,(gB(),n8),nnn,z8]));tZ=yA(UH(rc(uQ,1),WB,79,0,[fK,hK,TK,kK,SK,CK,IK,QK,KK,yK,E8,N8,O8,x8,Y8,$8,Z8,q8,C8]));aZ=yA(UH(rc(uQ,1),WB,79,0,[NK,GK,HK,XK,PK,X9,p9,b9,a8,Q8,R8,B8]));iZ=yA(UH(rc(uQ,1),WB,79,0,[FK,uK,wK,gK,dK,vK,jK,YK,AK,_K,MK,DK,xK,UK,H8,G8,U8,T8,L8,F8,V8,A8,_8,D8,K8,W8,X8,enn,M8]));rZ=yA(UH(rc(uQ,1),WB,79,0,[OK,WK,JK,I8]));fZ=yA(UH(rc(uQ,1),WB,79,0,[aK,sK,EK,LK,BK,zK]));uZ=yA(UH(rc(uQ,1),WB,79,0,[(KH(),ZJ)]))}function pM(n){var e,t,r,i,a,c,u;e=0;for(a=new Xt(n.b.a);a.a<a.c.c.length;){r=ww($p(a),78);r.b=0;r.c=0}FP(n,0);nL(n,n.g);MA(n.c);Gi(n.c);t=(WC(),LQ);CA(qc(fD(CA(qc(fD(CA(fD(n.c,t)),DC(t)))),t)));fD(n.c,LQ);pI(n,n.g);PP(n,0);G_(n,0);pY(n,1);FP(n,1);nL(n,n.d);MA(n.c);for(c=new Xt(n.b.a);c.a<c.c.c.length;){r=ww($p(c),78);e+=fu(r.c)}for(u=new Xt(n.b.a);u.a<u.c.c.length;){r=ww($p(u),78);r.b=0;r.c=0}t=OQ;CA(qc(fD(CA(qc(fD(CA(Gi(fD(n.c,t))),DC(t)))),t)));fD(n.c,LQ);pI(n,n.d);PP(n,1);G_(n,1);pY(n,0);Gi(n.c);for(i=new Xt(n.b.a);i.a<i.c.c.length;){r=ww($p(i),78);e+=fu(r.c)}return e}function mM(n){var e,t,r,i,a,c,u;e=new De;n.g=new De;n.d=new De;for(c=new oC(new Ft(n.f.b).a);c.b;){a=AS(c);nw(e,ww(ww(a.zb(),27).b,25));xu(ww(a.yb(),251).yc())?nw(n.d,ww(a.zb(),27)):nw(n.g,ww(a.zb(),27))}nL(n,n.d);nL(n,n.g);n.c=new CP(n.b);Ya(n.c,(Ii(),mZ));pI(n,n.d);pI(n,n.g);gH(e,n.c.a.b);n.e=new Au(E$,E$);n.a=new Au(H$,H$);for(r=new Xt(e);r.a<r.c.c.length;){t=ww($p(r),25);n.e.a=vc(n.e.a,t.j.d);n.e.b=vc(n.e.b,t.j.e);n.a.a=wc(n.a.a,t.j.d+t.j.c);n.a.b=wc(n.a.b,t.j.e+t.j.b)}Ra(n.c,new L);u=0;do{i=pM(n);++u}while((u<2||i>Nx)&&u<10);Ra(n.c,new G);pM(n);Ww(n.c);eM(n.f)}function jM(n){Wm();var e,t,r,i,a,c,u;u=new Vr;for(t=new Xt(n);t.a<t.c.c.length;){e=ww($p(t),48);(!u.b||e.c>=u.b.c)&&(u.b=e);if(!u.c||e.c<=u.c.c){u.d=u.c;u.c=e}(!u.e||e.d>=u.e.d)&&(u.e=e);(!u.f||e.d<=u.f.d)&&(u.f=e)}r=new fG((xE(),JZ));Am(n,aX,new nr(UH(rc(UZ,1),WB,160,0,[r])));c=new fG(nX);Am(n,iX,new nr(UH(rc(UZ,1),WB,160,0,[c])));i=new fG(ZZ);Am(n,rX,new nr(UH(rc(UZ,1),WB,160,0,[i])));a=new fG(XZ);Am(n,tX,new nr(UH(rc(UZ,1),WB,160,0,[a])));_R(r.c,JZ);_R(i.c,ZZ);_R(a.c,XZ);_R(c.c,nX);u.a.c=Vj(WU,WB,1,0,4,1);gH(u.a,r.c);gH(u.a,PE(i.c));gH(u.a,a.c);gH(u.a,PE(c.c));return u}function yM(n){var e,t,r,i,a,c,u,f,o,s;i=ww(Mc(n,(mB(),HK)),15).a;for(u=new Xt(gT(n));u.a<u.c.c.length;){c=ww($p(u),626);t=new A_(c);t.d=i;t.k=ww(iL(c,VK),15).a;r=ww(iL(c,UK),149);e=ya(Sa(xh(MH(ww(c.e,9),(gB(),y9)))));for(s=new Xt(HN(c));s.a<s.c.c.length;){o=ww($p(s),161);r==(IS(),IW)?EM(o,e,i):r==LW&&hD(o,i);RA(o)}ID(t,ww(iL(c,WK),86).kb((vL(),rJ)));JA(t);oM(t.e,t.d,t.c,t.p);XM(t);qO(t);gk(t);f=new lb((a=ww(c.e,9).b,new Ph(a.d,a.b,a.a,a.c)));f.b=t.p.b+t.q.b;f.c=t.p.c+t.q.c;f.d=t.p.d+t.q.d;f.a=t.p.a+t.q.a;ww(c.e,9).b.b=f.b;ww(c.e,9).b.d=f.d;ww(c.e,9).b.c=f.c;ww(c.e,9).b.a=f.a}}function SM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;f=ww(hT(n,(SD(),JW)).mb().H(),7).b;b=ww(hT(n,OW).mb().H(),7).e;u=f.c.length;p=sp(ww(Uw(n.f,0),7));while(u-- >0){d=($j(0,f.c.length),ww(f.c[0],12));i=($j(0,b.c.length),ww(b.c[0],12));k=i.d.b;a=Oy(k,i,0);Yp(d,i.d,a);Ek(i,null);Sk(i,null);w=d.a;e&&Xb(w,new xo(p));for(r=OG(i.a,0);r.b!=r.d.c;){t=ww(Tm(r),10);Xb(w,new xo(t))}v=d.b;for(h=new Xt(i.b);h.a<h.c.c.length;){l=ww($p(h),33);v.c[v.c.length]=l}g=ww(MH(d,(mB(),EK)),44);c=ww(MH(i,EK),44);if(c){if(!g){g=new Xr;Ny(d,EK,g)}for(s=OG(c,0);s.b!=s.d.c;){o=ww(Tm(s),10);Xb(g,new xo(o))}}}}function EM(n,e,t){var r,i,a,c,u;a=rp(sN(n));if(a.Nb().V()){return}u=0;switch(ww(n.e,7).g.e){case 4:case 2:u=e&&ya(Sa(xh(MH(ww(n.e,7),(gB(),Y9)))))?n.e.j.b:(n.e.j.b-ww(a.Nb().sb(0),129).pc().b)/2-t;break;case 1:u=n.e.j.b;break;case 3:u=0}ww(n.e,7).g==(SD(),KW)&&qp(a);for(i=new Xt(sN(n));i.a<i.c.c.length;){r=ww($p(i),129);c=new xo(n.e.i);switch(ww(n.e,7).g.e){case 4:c.a=n.e.j.a+t;c.b=u+t;u+=t+r.e.j.b;break;case 2:c.a=-r.e.j.a-t;c.b=u+t;u+=t+r.e.j.b;break;case 1:c.a=(n.e.j.a-r.e.j.a)/2;c.b=u+t;u+=t+r.e.j.b;break;case 3:c.a=(n.e.j.a-r.e.j.a)/2;c.b=u-t-r.e.j.b;u-=t+r.e.j.b}r.e.i.a=c.a;r.e.i.b=c.b}}function HM(n,e){var t,r,i,a,c,u,f,o,s,l;n.a=new ag(XE(TQ));for(r=new Xt(e.a);r.a<r.c.c.length;){t=ww($p(r),347);u=new BL(UH(rc(EZ,1),WB,25,0,[]));nw(n.a.a,u);for(o=new Xt(t.d);o.a<o.c.c.length;){f=ww($p(o),62);s=new al(n,f);OM(s,ww(MH(t.c,(gB(),G9)),18));if(!Hy(n.g,t)){mv(n.g,t,new Au(f.d,f.e));mv(n.f,t,s)}nw(n.a.b,s);rH(u,s)}for(c=new Xt(t.b);c.a<c.c.c.length;){a=ww($p(c),251);s=new al(n,a.Bc());mv(n.b,a,new _u(u,s));OM(s,ww(MH(t.c,(gB(),G9)),18));if(a.zc()){l=new rE(n,a.zc(),1);OM(l,ww(MH(t.c,G9),18));i=new BL(UH(rc(EZ,1),WB,25,0,[]));rH(i,l);mP(n.c,a.yc(),new _u(u,l))}}}return n.a}function CM(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;d=e.c.c.length;if(d<3){return}b=Vj(ytn,Lx,26,d,12,1);l=0;for(s=new Xt(e.c);s.a<s.c.c.length;){o=ww($p(s),16);b[l++]=o.a.c.length}h=new Dp(e.c,2);for(r=1;r<d-1;r++){t=(Ns(h.b<h.d.Y()),ww(h.d.sb(h.c=h.b++),16));w=new Xt(t.a);a=0;u=0;for(f=0;f<b[r+1];f++){p=ww($p(w),9);if(f==b[r+1]-1||XY(n,p,r+1,r)){c=b[r]-1;XY(n,p,r+1,r)&&(c=n.d.e[ww(ww(ww(Uw(n.d.b,p.k),20).sb(0),27).a,9).k]);while(u<=f){k=ww(Uw(t.a,u),9);if(!XY(n,k,r+1,r)){for(v=ww(Uw(n.d.b,k.k),20).mb();v.G();){g=ww(v.H(),27);i=n.d.e[ww(g.a,9).k];(i<a||i>c)&&sg(n.c,ww(g.b,12))}}++u}a=c}}}}function IM(n,e,t){var r,i,a,c,u,f;this.g=n;u=e.d.length;f=t.d.length;this.d=Vj(n1,v$,9,u+f,0,1);for(c=0;c<u;c++){this.d[c]=e.d[c]}for(a=0;a<f;a++){this.d[u+a]=t.d[a]}if(e.e){this.e=lw(e.e);this.e.nb(t);if(t.e){for(i=t.e.mb();i.G();){r=ww(i.H(),102);if(r==e){continue}else this.e.kb(r)?--r.c:this.e.ib(r)}}}else if(t.e){this.e=lw(t.e);this.e.nb(e)}this.f=e.f+t.f;this.a=e.a+t.a;this.a>0?kS(this,this.f/this.a):ll(e.g,e.d[0]).a!=null&&ll(t.g,t.d[0]).a!=null?kS(this,(Sa(ll(e.g,e.d[0]).a)+Sa(ll(t.g,t.d[0]).a))/2):ll(e.g,e.d[0]).a!=null?kS(this,ll(e.g,e.d[0]).a):ll(t.g,t.d[0]).a!=null&&kS(this,ll(t.g,t.d[0]).a)}function LM(n,e){var t,r,i,a,c,u,f,o,s,l,h;switch(n.g.e){case 1:r=ww(MH(n,(gB(),F9)),12);t=ww(MH(r,V9),44);!t?t=new Xr:ya(Sa(xh(MH(r,i8))))&&(t=DH(t));o=ww(MH(n,B9),7);s=WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a]));if(e<=s.a){return s.b}xm(t,s,t.a,t.a.a);l=ww(MH(n,x9),7);h=WE(UH(rc(iQ,1),o$,10,0,[l.f.i,l.i,l.a]));if(h.a<=e){return h.b}xm(t,h,t.c.b,t.c);f=OG(t,0);c=ww(Tm(f),10);u=ww(Tm(f),10);while(u.a<e&&f.b!=f.d.c){c=u;u=ww(Tm(f),10)}return c.b+(e-c.a)/(u.a-c.a)*(u.b-c.b);case 3:a=ww(MH(ww(Uw(n.f,0),7),(gB(),F9)),7);i=a.f;switch(a.g.e){case 1:return i.i.b;case 3:return i.i.b+i.j.b}}return zN(n).b}function GM(n){var e,t,r,i,a,c,u,f,o,s,l,h;s=$o(MH(n.c.f,(gB(),$9)))===$o(MH(n.d.f,$9));c=new La;t=ww(MH(n,(mB(),sK)),44);if(!!t&&t.b>=2){Av(n.a);r=0;for(h=OG(t,0);h.b!=h.d.c;){l=ww(Tm(h),10);if(r==0){e=Vh(Vh(new Au(l.a,l.b),n.c.i),n.c.f.i);n.c.a.a=e.a;n.c.a.b=e.b}else if(r==t.b-1){e=Vh(Vh(new Au(l.a,l.b),n.d.i),n.d.f.i);n.d.a.a=e.a;n.d.a.b=e.b}else{Xb(n.a,l)}++r}}if(s){for(f=OG(n.a,0);f.b!=f.d.c;){u=ww(Tm(f),10);c.a=wc(c.a,u.a);c.b=wc(c.b,u.b)}}for(a=new Xt(n.b);a.a<a.c.c.length;){i=ww($p(a),33);o=ww(MH(i,zK),10);if(o){i.i.a=o.a;i.i.b=o.b}if(s){c.a=wc(c.a,i.i.a+i.j.a);c.b=wc(c.b,i.i.b+i.j.b)}}return c}function NM(n,e,t){var r,i,a,c,u,f,o;DT(e);r=ww(MH(t,(gB(),P9)),18);c=new CG(t);Ny(c,F9,e);nw(t.b,c);a=ww(Tv(e,"id"),97);Ip(n.i,a.a,c);mv(n.j,c,e);XT(e,c);FN(e,c);if("ports"in e.a){o=Tv(e,"ports");if(!o.hc()){throw new ig("The 'ports' property of the node must be an array.",o,e)}f=o.hc();for(i=0;i<f.a.length;++i){gl(gS(f,i),69)&&D_(n,ww(gS(f,i),69),c,t)}}SP(n,e,c,t);g$ in e.a&&Tv(e,g$).hc().a.length>0&&Ny(c,y9,(jd(),jd(),ynn));u=ww(MH(c,(mB(),xK)),28);u==(_N(),SW)?yW:u!=yW&&r.ib((VY(),F7));ya(Sa(xh(MH(c,hK))))&&r.ib((VY(),D7));if(ya(Sa(xh(MH(c,yK))))){r.ib((VY(),U7));r.ib($7);Ny(c,xK,yW)}return c}function OM(n,e){e.V()&&Zb(n.n,true,true,true,true);e.t((SD(),MW))&&Zb(n.n,true,true,true,false);e.t(PW)&&Zb(n.n,false,true,true,true);e.t(zW)&&Zb(n.n,true,true,false,true);e.t(QW)&&Zb(n.n,true,false,true,true);e.t(DW)&&Zb(n.n,false,true,true,false);e.t(RW)&&Zb(n.n,false,true,false,true);e.t(qW)&&Zb(n.n,true,false,false,true);e.t(VW)&&Zb(n.n,true,false,true,false);e.t(UW)&&Zb(n.n,true,true,true,true);e.t(AW)&&Zb(n.n,true,true,true,true);e.t(UW)&&Zb(n.n,true,true,true,true);e.t(YW)&&Zb(n.n,true,true,true,true);e.t(FW)&&Zb(n.n,true,true,true,true);e.t($W)&&Zb(n.n,true,true,true,true);e.t(xW)&&Zb(n.n,true,true,true,true)}function TM(n,e){var t,r,i,a,c,u,f,o,s,l;f=true;i=0;o=n.f[e.k];s=e.j.b+n.n;t=n.c[e.k][2];sj(n.a,o,HI(ww(Uw(n.a,o),24).a-1+t));sj(n.b,o,Sa($h(Uw(n.b,o)))-s+t*n.e);++o;if(o>=n.i){++n.i;nw(n.a,HI(1));nw(n.b,s)}else{r=n.c[e.k][1];sj(n.a,o,HI(ww(Uw(n.a,o),24).a+1-r));sj(n.b,o,Sa($h(Uw(n.b,o)))+s-r*n.e)}(n.q==(IR(),T2)&&(ww(Uw(n.a,o),24).a>n.j||ww(Uw(n.a,o-1),24).a>n.j)||n.q==Y2&&(Sa($h(Uw(n.b,o)))>n.k||Sa($h(Uw(n.b,o-1)))>n.k))&&(f=false);for(c=mg(SI(e));AI(c);){a=ww(Jk(c),12);u=a.c.f;if(n.f[u.k]==o){l=TM(n,u);i=i+ww(l.a,24).a;f=f&&ya(Sa(xh(l.b)))}}n.f[e.k]=o;i=i+n.c[e.k][0];return new _u(HI(i),(jd(),f?ynn:jnn))}function PM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;h=new xo(n.j);v=e.a/h.a;u=e.b/h.b;d=e.a-h.a;a=e.b-h.b;if(t){i=$o(MH(n,(mB(),xK)))===$o((_N(),pW));for(w=new Xt(n.f);w.a<w.c.c.length;){b=ww($p(w),7);switch(b.g.e){case 1:i||(b.i.a*=v);break;case 2:b.i.a+=d;i||(b.i.b*=u);break;case 3:i||(b.i.a*=v);b.i.b+=a;break;case 4:i||(b.i.b*=u)}}}for(o=new Xt(n.c);o.a<o.c.c.length;){f=ww($p(o),33);s=f.i.a+f.j.a/2;l=f.i.b+f.j.b/2;g=s/h.a;c=l/h.b;if(g+c>=1){if(g-c>0&&l>=0){f.i.a+=d;f.i.b+=a*c}else if(g-c<0&&s>=0){f.i.a+=d*g;f.i.b+=a}}}n.j.a=e.a;n.j.b=e.b;Ny(n,(mB(),WK),(vL(),r=ww(Yc(iJ),11),new jw(r,ww(hg(r,r.length),11),0)))}function RM(n){var e,t,r,i,a,c,u,f,o,s;r=new De;for(c=new Xt(n.e.a);c.a<c.c.c.length;){i=ww($p(c),61);s=0;i.k.c=Vj(WU,WB,1,0,4,1);for(t=new Xt(_I(i));t.a<t.c.c.length;){e=ww($p(t),89);if(e.e){nw(i.k,e);++s}}s==1&&(r.c[r.c.length]=i,true)}for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),61);while(i.k.c.length==1){o=ww($p(new Xt(i.k)),89);n.b[o.b]=o.f;u=o.c;f=o.d;for(t=new Xt(_I(i));t.a<t.c.c.length;){e=ww($p(t),89);e==o||(e.e?u==e.c||f==e.d?n.b[o.b]-=n.b[e.b]-e.f:n.b[o.b]+=n.b[e.b]-e.f:i==u?e.c==i?n.b[o.b]+=e.f:n.b[o.b]-=e.f:e.c==i?n.b[o.b]-=e.f:n.b[o.b]+=e.f)}gy(u.k,o);gy(f.k,o);u==i?i=o.d:i=o.c}}}function YM(n){var e,t,r,i,a,c,u,f,o,s;o=new Ga;u=new Ga;for(a=new Xt(n);a.a<a.c.c.length;){r=ww($p(a),77);r.e=r.d.c.length;r.k=r.j.c.length;r.e==0&&(xm(o,r,o.c.b,o.c),true);r.k==0&&r.g.a.Y()==0&&(xm(u,r,u.c.b,u.c),true)}c=-1;while(o.b!=0){r=ww(wN(o,0),77);for(t=new Xt(r.j);t.a<t.c.c.length;){e=ww($p(t),117);s=e.b;s.n=gc(s.n,r.n+1);c=gc(c,s.n);--s.e;s.e==0&&(xm(o,s,o.c.b,o.c),true)}}if(c>-1){for(i=OG(u,0);i.b!=i.d.c;){r=ww(Tm(i),77);r.n=c}while(u.b!=0){r=ww(wN(u,0),77);for(t=new Xt(r.d);t.a<t.c.c.length;){e=ww($p(t),117);f=e.a;if(f.g.a.Y()!=0){continue}f.n=pc(f.n,r.n-1);--f.k;f.k==0&&(xm(u,f,u.c.b,u.c),true)}}}}function AM(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;f=new De;for(a=new Xt(e.b);a.a<a.c.c.length;){i=ww($p(a),9);for(u=new Xt(i.f);u.a<u.c.c.length;){c=ww($p(u),7);s=null;for(p=ww(KG(c.e,Vj($X,M$,12,0,0,1)),47),m=0,j=p.length;m<j;++m){k=p[m];if(!bI(k.d.f,t)){v=W_(n,e,t,k,k.c,(nE(),j8),s);v!=s&&(f.c[f.c.length]=v,true);v.c&&(s=v)}}o=null;for(w=ww(KG(c.b,Vj($X,M$,12,0,0,1)),47),d=0,g=w.length;d<g;++d){b=w[d];if(!bI(b.c.f,t)){v=W_(n,e,t,b,b.d,(nE(),m8),o);v!=o&&(f.c[f.c.length]=v,true);v.c&&(o=v)}}}}for(h=new Xt(f);h.a<h.c.c.length;){l=ww($p(h),187);Oy(e.b,l.a,0)!=-1||nw(e.b,l.a);l.c&&(r.c[r.c.length]=l,true)}}function _M(n){var e,t,r,i,a,c,u,f,o;r=n.e.e.j;e=ww(iL(n.e,(mB(),WK)),86).kb((vL(),rJ));aB(n);for(a=new Xt(HN(n.e));a.a<a.c.c.length;){i=ww($p(a),161);u=ww(iL(i,PK),15);!u&&(u=new Ut(0));f=i.e.j;c=(t=ww(i.e,7).d,new Rh(t.d,t.b,t.a,t.c));o=new xo(i.e.i);switch(ww(i.e,7).g.e){case 4:o.a=-f.a-u.a;o.b=n.s-f.b-(e?c.a:0);n.s-=uc(n,(SD(),JW))+f.b+(e?c.d+c.a:0);break;case 2:o.a=r.a+u.a;o.b=n.a+(e?c.d:0);n.a+=uc(n,(SD(),OW))+f.b+(e?c.d+c.a:0);break;case 1:o.a=n.f+(e?c.b:0);o.b=-i.e.j.b-u.a;n.f+=uc(n,(SD(),TW))+f.a+(e?c.b+c.c:0);break;case 3:o.a=n.r-f.a-(e?c.c:0);o.b=r.b+u.a;n.r-=uc(n,(SD(),KW))+f.a+(e?c.b+c.c:0)}i.e.i.a=o.a;i.e.i.b=o.b}}function MM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;s=new Os;l=new Os;g=new Os;v=new Os;o=ww(MH(e,(gB(),a8)),15).a;a=o*ww(MH(e,(vB(),R8)),15).a;ya(Sa(xh(MH(e,(mB(),bK)))));for(f=(h=new zt(t.a).a.bb().mb(),new qt(h));f.a.G();){u=(c=ww(f.a.H(),21),ww(c.yb(),9));b=ww(MH(u,O9),32);if(b==(SD(),TW)){l.a.db(u,l);for(i=mg(SI(u));AI(i);){r=ww(Jk(i),12);sg(s,r.c.f)}}else if(b==KW){v.a.db(u,v);for(i=mg(SI(u));AI(i);){r=ww(Jk(i),12);sg(g,r.c.f)}}}if(s.a.Y()!=0){w=new dT(2,a);d=N_(w,e,s,l,-o-e.d.b);if(d>0){n.a=o+(d-1)*a;e.d.b+=n.a;e.e.b+=n.a}}if(g.a.Y()!=0){w=new dT(1,a);d=N_(w,e,g,v,e.e.b+o-e.d.b);d>0&&(e.e.b+=o+(d-1)*a)}}function DM(n,e){var t,r,i,a,c,u,f,o,s;if((ji(),e.length)==0){return n.fc(LB,IB,-1,-1)}s=PN(e);Xi(s.substr(0,3),"at ")&&(s=zb(s,3,s.length-3));s=s.replace(/\[.*?\]/g,"");c=s.indexOf("(");if(c==-1){c=s.indexOf("@");if(c==-1){o=s;s=""}else{o=PN(zb(s,c+1,s.length-(c+1)));s=PN(s.substr(0,c))}}else{t=s.indexOf(")",c);o=s.substr(c+1,t-(c+1));s=PN(s.substr(0,c))}c=rb(s,kT(46));c!=-1&&(s=zb(s,c+1,s.length-(c+1)));(s.length==0||Xi(s,"Anonymous function"))&&(s=IB);u=kw(o,kT(58));i=Rd(o,kT(58),u-1);f=-1;r=-1;a=LB;if(u!=-1&&i!=-1){a=o.substr(0,i);f=jh(o.substr(i+1,u-(i+1)));r=jh(zb(o,u+1,o.length-(u+1)))}return n.fc(a,s,f,r)}function BM(n){var e,t,r,i,a,c,u,f,o,s;o=new De;u=new De;for(c=new Xt(n);c.a<c.c.c.length;){i=ww($p(c),80);i.c=i.b.c.length;i.f=i.e.c.length;i.c==0&&(o.c[o.c.length]=i,true);i.f==0&&i.j.b==0&&(u.c[u.c.length]=i,true)}r=-1;while(o.c.length!=0){i=ww(_j(o,0),80);for(t=new Xt(i.e);t.a<t.c.c.length;){e=ww($p(t),118);s=e.b;s.i=gc(s.i,i.i+1);r=gc(r,s.i);--s.c;s.c==0&&(o.c[o.c.length]=s,true)}}if(r>-1){for(a=new Xt(u);a.a<a.c.c.length;){i=ww($p(a),80);i.i=r}while(u.c.length!=0){i=ww(_j(u,0),80);for(t=new Xt(i.b);t.a<t.c.c.length;){e=ww($p(t),118);f=e.a;if(f.j.b>0){continue}f.i=pc(f.i,i.i-1);--f.f;f.f==0&&(u.c[u.c.length]=f,true)}}}}function xM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;if(!ya(Sa(xh(MH(t,(mB(),QK)))))){return}for(u=new Xt(t.f);u.a<u.c.c.length;){c=ww($p(u),7);l=ww(KG(c.e,Vj($X,M$,12,c.e.c.length,0,1)),47);for(o=0,s=l.length;o<s;++o){f=l[o];a=f.d.f==t;i=a&&ya(Sa(xh(MH(f,QK))));if(i){b=f.c;h=ww(Vg(n.b,b),9);if(!h){h=mD(b,(_N(),yW),b.g,-1,b.j,ww(MH(e,wK),59),e);Ny(h,(gB(),F9),b);mv(n.b,b,h);nw(e.b,h)}d=f.d;w=ww(Vg(n.b,d),9);if(!w){w=mD(d,(_N(),yW),d.g,1,d.j,ww(MH(e,wK),59),e);Ny(w,(gB(),F9),d);mv(n.b,d,w);nw(e.b,w)}r=sm(f);Ek(r,ww(Uw(h.f,0),7));Sk(r,ww(Uw(w.f,0),7));mP(n.a,f,new _b(r,e,(nE(),j8)));ww(MH(e,(gB(),P9)),18).ib((VY(),x7))}}}}function $M(n,e,t,r,i,a){var c,u,f,o,s,l,h,b,w,d,g,v,k,p;b=hN(n.g);d=hN(t.g);w=Fh(vs(n.i),n.a);g=Fh(vs(t.i),t.a);c=Fh(new xo(w),fl(new rg(b),e));u=Fh(new xo(g),fl(new rg(d),r));o=iO(n,i);i==(SD(),KW)||i==OW?o+=a:o-=a;h=new La;v=new La;switch(i.e){case 1:case 3:h.a=c.a;h.b=w.b+o;v.a=u.a;v.b=h.b;break;case 2:case 4:h.a=w.a+o;h.b=c.b;v.a=h.a;v.b=u.b;break;default:return null}s=fl(Fh(new Au(h.a,h.b),v),.5);l=new av(UH(rc(iQ,1),o$,10,0,[w,c,h,s,v,u,g]));f=ML(l);p=DL(l);switch(i.e){case 1:case 3:l.a=f;k=$O(l);break;case 2:case 4:l.a=p;k=xO(l);break;default:return null}dr(l,new OT(UH(rc(iQ,1),o$,10,0,[f,p,k,w,g])));return l}function UM(n,e,t,r){var i,a,c,u,f,s,l,h,b,w;a=new gP(e);h=xY(n,e,a);w=wc(ww(MH(e,(mB(),XK)),15).a,1);for(l=new Xt(h.a);l.a<l.c.c.length;){s=ww($p(l),27);f=wH(ww(s.a,10),ww(s.b,10),w);o=true;o=o&Wb(t,new Au(f.d,f.e));o=o&Wb(t,zl(new Au(f.d,f.e),f.c,0));o=o&Wb(t,zl(new Au(f.d,f.e),0,f.b));o&Wb(t,zl(new Au(f.d,f.e),f.c,f.b))}b=a.d;u=wH(ww(h.b.a,10),ww(h.b.b,10),w);if(b==(SD(),JW)||b==OW){r.c[b.e]=vc(r.c[b.e],u.e);r.b[b.e]=wc(r.b[b.e],u.e+u.b)}else{r.c[b.e]=vc(r.c[b.e],u.d);r.b[b.e]=wc(r.b[b.e],u.d+u.c)}i=H$;c=a.c.f.e;switch(b.e){case 4:i=c.c;break;case 2:i=c.b;break;case 1:i=c.a;break;case 3:i=c.d}r.a[b.e]=wc(r.a[b.e],i);return a}function FM(n,e,t,r,i){var a,c,u,f,o,s,l,h,b,w,d,g;a=new De;for(o=new Xt(r);o.a<o.c.c.length;){u=ww($p(o),187);c=null;if(u.f==(nE(),j8)){for(w=new Xt(u.e);w.a<w.c.c.length;){b=ww($p(w),12);g=b.d.f;if($g(g)==e){My(n,e,u,b,u.b,b.d)}else if(!t||bI(g,t)){XO(n,e,u,r,b)}else{h=W_(n,e,t,b,u.b,j8,c);h!=c&&(a.c[a.c.length]=h,true);h.c&&(c=h)}}}else{for(l=new Xt(u.e);l.a<l.c.c.length;){s=ww($p(l),12);d=s.c.f;if($g(d)==e){My(n,e,u,s,s.c,u.b)}else if(!t||bI(d,t)){continue}else{h=W_(n,e,t,s,u.b,m8,c);h!=c&&(a.c[a.c.length]=h,true);h.c&&(c=h)}}}}for(f=new Xt(a);f.a<f.c.c.length;){u=ww($p(f),187);Oy(e.b,u.a,0)!=-1||nw(e.b,u.a);u.c&&(i.c[i.c.length]=u,true)}}function VM(n){var e,t,r,i;e=n.e.j;for(r=new Xt(HN(n));r.a<r.c.c.length;){t=ww($p(r),161);i=ww(iL(t,(mB(),PK)),15);!i&&(i=new Ut(0));switch(ww(t.e,7).g.e){case 4:t.e.i.b=e.b*Sa($h(iL(t,xJ)));t.e.i.a=-t.e.j.a-i.a;break;case 2:t.e.i.b=e.b*Sa($h(iL(t,xJ)));t.e.i.a=e.a+i.a;break;case 1:t.e.i.a=e.a*Sa($h(iL(t,xJ)));t.e.i.b=-t.e.j.b-i.a;break;case 3:t.e.i.a=e.a*Sa($h(iL(t,xJ)));t.e.i.b=e.b+i.a}switch(ww(t.e,7).g.e){case 4:t.e.i.b=e.b*Sa($h(iL(t,xJ)));t.e.i.a=-t.e.j.a-i.a;break;case 2:t.e.i.b=e.b*Sa($h(iL(t,xJ)));t.e.i.a=e.a+i.a;break;case 1:t.e.i.a=e.a*Sa($h(iL(t,xJ)));t.e.i.b=-t.e.j.b-i.a;break;case 3:t.e.i.a=e.a*Sa($h(iL(t,xJ)));t.e.i.b=e.b+i.a}}}function zM(n){var e,t,r,i,a,c,u,f,o;a=n.f;i=qg(Hk(n));o=OG(lw(n.g),0);while(o.b!=o.d.c){f=ww(Tm(o),7);if(f.e.c.length==0){for(t=new Xt(f.b);t.a<t.c.c.length;){e=ww($p(t),12);r=e.c;if(i.a.R(r)){c=new Dp(a.f,0);u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),7));while(u!=f){u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),7))}mb(c,r);og(o,r);MP(r,f.g);Up(o);Up(o);i.a.eb(r)!=null}}}else{for(t=new Xt(f.e);t.a<t.c.c.length;){e=ww($p(t),12);r=e.d;if(i.a.R(r)){c=new Dp(a.f,0);u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),7));while(u!=f){u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),7))}Ns(c.b>0);c.a.sb(c.c=--c.b);mb(c,r);og(o,r);MP(r,f.g);Up(o);Up(o);i.a.eb(r)!=null}}}}}function qM(n){var e,t,r,i,a,c,u,f,o;a=new ut(n);i=Tv(a,"graph");f=Tv(a,"success");r=Tv(a,"error");c=Tv(a,"options");try{if(!i||!i.kc()){throw new ia("Mandatory parameter missing, 'graph' must be specified")}GI(new Ce,i.kc(),c?c.kc():null);u=i.kc().a;!!f&&!!f.kc()?ZT(f.kc().a,u):ZT(null,u)}catch(n){n=mC(n);if(gl(n,73)){o=n;!!r&&!!r.kc()?ZT(r.kc().a,GP(o).a):ZT(null,GP(o).a)}else if(gl(n,54)){e=n;t=new ua;Gy(t,"type",new hd(Pc(e.$c)));e.bc()!=null?Gy(t,u$,new hd(e.bc())):Gy(t,u$,new hd("null (sic)"));Gy(t,f$,new hd(Nl(new Ia("\n"),new Vt(new nr((e.g==null&&(e.g=Jw(e)),e.g))))));!!r&&!!r.kc()?ZT(r.kc().a,t.a):ZT(null,t.a);yN(e,(rw(),Rnn),"")}else throw hI(n)}}function QM(n,e,t){var r,i,a,c,u,f,o,s,l,h;if(t){r=-1;s=new Dp(e,0);while(s.b<s.d.Y()){u=(Ns(s.b<s.d.Y()),ww(s.d.sb(s.c=s.b++),9));l=n.a[u.d.k][u.k].a;if(l==null){c=r+1;a=new Dp(e,s.b);while(a.b<a.d.Y()){h=sl(n,(Ns(a.b<a.d.Y()),ww(a.d.sb(a.c=a.b++),9))).a;if(h!=null){c=(gd(h),h);break}}l=(r+c)/2;n.a[u.d.k][u.k].a=l;n.a[u.d.k][u.k].d=(gd(l),l);n.a[u.d.k][u.k].b=1}r=(gd(l),l)}}else{i=0;for(o=new Xt(e);o.a<o.c.c.length;){u=ww($p(o),9);n.a[u.d.k][u.k].a!=null&&(i=wc(i,Sa(n.a[u.d.k][u.k].a)))}i+=2;for(f=new Xt(e);f.a<f.c.c.length;){u=ww($p(f),9);if(n.a[u.d.k][u.k].a==null){l=BP(n.e,24)*oU*i-1;n.a[u.d.k][u.k].a=l;n.a[u.d.k][u.k].d=l;n.a[u.d.k][u.k].b=1}}}}function KM(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w;f=0;o=0;w=0;b=0;c=0;h=0;l=0;s=0;for(a=new pd(new fr(n.c).a);kl(a.a);){i=(a.b=lj(a.a),new Oo(a.c,a.b));r=ww(i.b.b[i.a.e],62);switch(ww(i.a,67).e){case 12:case 13:case 14:h+=r.c+e;break;case 15:case 16:case 17:l+=r.c+e;c=wc(c,r.b+e);break;case 18:case 19:case 20:s+=r.c+e;break;case 0:case 1:case 2:w+=r.c+e;break;case 3:case 4:case 5:b+=r.c+e;break;case 6:case 7:case 8:f+=r.b+e;break;case 9:case 10:case 11:o+=r.b+e}}f-=e;o-=e;w-=e;b-=e;h+=h!=0?e:0;l+=l!=0?e:0;s+=s!=0?e:0;u=n.p.d+c+n.p.a;u+=u!=0?e:0;t.a=wc(t.a,w);t.a=wc(t.a,h);t.a=wc(t.a,l);t.a=wc(t.a,s);t.a=wc(t.a,b);t.b=wc(t.b,f);t.b=wc(t.b,u);t.b=wc(t.b,o)}function WM(n){var e,t,r,i,a,c,u,f;e=null;for(r=new Xt(n);r.a<r.c.c.length;){t=ww($p(r),102);Sa(ll(t.g,t.d[0]).a);t.b=null;if(!!t.e&&t.e.Y()>0&&t.c==0){!e&&(e=new De);e.c[e.c.length]=t}}if(e){while(e.c.length!=0){t=ww(_j(e,0),102);if(!!t.b&&t.b.c.length>0){for(a=(!t.b&&(t.b=new De),new Xt(t.b));a.a<a.c.c.length;){i=ww($p(a),102);if(Sa(ll(i.g,i.d[0]).a)==Sa(ll(t.g,t.d[0]).a)){if(Oy(n,i,0)>Oy(n,t,0)){return new _u(i,t)}}else if(Sa(ll(i.g,i.d[0]).a)>Sa(ll(t.g,t.d[0]).a)){return new _u(i,t)}}}for(u=(!t.e&&(t.e=new De),t.e).mb();u.G();){c=ww(u.H(),102);f=(!c.b&&(c.b=new De),c.b);xj(0,f.c.length);mo(f.c,0,t);c.c==f.c.length&&(e.c[e.c.length]=c,true)}}}return null}function JM(n){var e,t,r,i,a,c,u,f,o,s,l,b,w,d,g;l=(Ll(),new Lr);for(s=(Ks(),new Ps(Ms(vw(n.a,new h))));AI(s);){o=ww(Jk(s),9);i=yI(o,(SD(),OW));for(r=new Xt(i);r.a<r.c.c.length;){t=ww($p(r),7);for(c=new Xt(t.e);c.a<c.c.c.length;){a=ww($p(c),12);kL();g=a.d.f;(g.g==(hO(),i1)||g.g==r1)&&(g=ww(MH(g,(gB(),x9)),7).f);if(_k(l.d,g)){e=ww(Uo(_k(l.d,g)),171)}else{i.c.length==2?$o(t)===$o(($j(0,i.c.length),i.c[0]))?e=UJ:e=FJ:e=UJ;FT(l.d,g,e)}for(f=new Xt(a.b);f.a<f.c.c.length;){u=ww($p(f),33);Ny(u,(gB(),D9),e)}for(d=new Xt(a.c.c);d.a<d.c.c.length;){b=ww($p(d),33);Ny(b,(gB(),D9),e)}for(w=new Xt(a.d.c);w.a<w.c.c.length;){b=ww($p(w),33);Ny(b,(gB(),D9),e)}}}}}function ZM(n,e){var t,r,i,a,c,u,f,o,s;if(zg(EI(e))!=1||ww(Np(EI(e)),12).d.f.g!=(hO(),i1)){return null}a=ww(Np(EI(e)),12);t=a.d.f;wr(t,(hO(),e1));Ny(t,(gB(),B9),null);Ny(t,x9,null);Ny(t,(mB(),xK),ww(MH(e,xK),28));Ny(t,OK,ww(MH(e,OK),86));i=MH(a.c,F9);c=null;for(o=hT(t,(SD(),OW)).mb();o.G();){u=ww(o.H(),7);if(u.e.c.length!=0){Ny(u,F9,i);s=a.c;u.j.a=s.j.a;u.j.b=s.j.b;u.a.a=s.a.a;u.a.b=s.a.b;gH(u.c,s.c);s.c.c=Vj(WU,WB,1,0,4,1);c=u;break}}Ny(a.c,F9,null);if(!nm(hT(e,OW))){for(f=new Xt(ij(hT(e,OW)));f.a<f.c.c.length;){u=ww($p(f),7);if(u.e.c.length==0){r=new qN;ib(r,OW);r.j.a=u.j.a;r.j.b=u.j.b;jk(r,t);Ny(r,F9,MH(u,F9));jk(u,null)}else{jk(c,t)}}}t.j.b=e.j.b;nw(n.b,t);return t}function XM(n){var e,t,r,i,a,c,u,f,o;a=n.e.e.j;c=new xo(a);f=ww(iL(n.e,(mB(),WK)),86);o=ww(iL(n.e,JK),86);u=ww(iL(n.e,xK),28);e=ah(f,(vL(),rJ));if(f.c==0){return}a.a=0;a.b=0;r=null;switch(u.e){case 1:case 2:case 3:r=wR(n,n.k);break;case 4:r=new xo(c);break;case 5:r=UY(n.e,e)}if(ah(f,tJ)){if(r){a.a=wc(a.a,r.a);a.b=wc(a.b,r.b)}if(e){a.a=wc(a.a,n.q.b+n.q.c+n.k);a.b=wc(a.b,n.q.d+n.q.a+n.k)}}ah(f,eJ)&&vl(new Xt(oN(n.e)))&&KM(n,n.d,a);if(ah(f,nJ)){i=ww(iL(n.e,NK),15).a;t=ww(iL(n.e,GK),15).a;if(ah(o,(jO(),fJ))){i<=0&&(i=20);t<=0&&(t=20)}if(ah(o,oJ)){i>0&&(a.a=wc(a.a,i+n.q.b+n.q.c));t>0&&(a.b=wc(a.b,t+n.q.d+n.q.a))}else{i>0&&(a.a=wc(a.a,i));t>0&&(a.b=wc(a.b,t))}}Fl(n.e,a)}function nD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b;if(!n.b){return false}c=null;h=null;f=new Ey(null,null);i=1;f.a[1]=n.b;l=f;while(l.a[i]){o=i;u=h;h=l;l=l.a[i];r=n.a.$b(e,l.d);i=r<0?0:1;r==0&&(!t.c||Ov(l.e,t.d))&&(c=l);if(!(!!l&&l.b)&&!mc(l.a[i])){if(mc(l.a[1-i])){h=h.a[o]=jE(l,i)}else if(!mc(l.a[1-i])){b=h.a[1-o];if(b){if(!mc(b.a[1-o])&&!mc(b.a[o])){h.b=false;b.b=true;l.b=true}else{a=u.a[1]==h?1:0;mc(b.a[o])?u.a[a]=Fp(h,o):mc(b.a[1-o])&&(u.a[a]=jE(h,o));l.b=u.a[a].b=true;u.a[a].a[0].b=false;u.a[a].a[1].b=false}}}}}if(c){t.b=true;t.d=c.e;if(l!=c){s=new Ey(l.d,l.e);cT(n,f,c,s);h==c&&(h=s)}h.a[h.a[1]==l?1:0]=l.a[!l.a[0]?1:0];--n.c}n.b=f.a[1];!!n.b&&(n.b.b=false);return t.b}function eD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k;r=ww(MH(n,(mB(),xK)),28);f=n.e;u=n.a;t=ww(MH(n,(gB(),p9)),15).a;o=f.a+u.b+u.c+2*t;s=0-u.d-t-n.d.b;b=f.b+u.d+u.a+2*t-n.d.b;l=new De;w=new De;for(a=(h=new zt(e.a).a.bb().mb(),new qt(h));a.a.G();){i=(c=ww(a.a.H(),21),ww(c.yb(),9));switch(r.e){case 1:case 2:case 3:cR(i);break;case 4:d=ww(MH(i,BK),10);g=!d?0:d.a;i.i.a=o*Sa($h(MH(i,Z9)))-g;AL(i,true,false);break;case 5:v=ww(MH(i,BK),10);k=!v?0:v.a;i.i.a=Sa($h(MH(i,Z9)))-k;AL(i,true,false);f.a=wc(f.a,i.i.a+i.j.a/2)}switch(ww(MH(i,O9),32).e){case 1:i.i.b=s;l.c[l.c.length]=i;break;case 3:i.i.b=b;w.c[w.c.length]=i}}switch(r.e){case 1:case 2:TC(l,n);TC(w,n);break;case 3:PC(l,n);PC(w,n)}}function tD(n){var e,t,r,i,a,c;r=ww(MH(n.a.g,(mB(),OK)),86);if(hL(r,(HP(),e=ww(Yc(oW),11),new jw(e,ww(hg(e,e.length),11),0))));else if(uH(r,XI(eW))){t=ww(ww(LO(n.a.b,n.b),20).sb(0),33);n.b.i.a=t.i.a;n.b.i.b=t.i.b}else if(uH(r,XI(rW))){i=ww(Uw(n.a.c,n.a.c.c.length-1),9);a=ww(ww(LO(n.a.b,n.b),20).sb(ww(LO(n.a.b,n.b),20).Y()-1),33);c=i.j.a-(a.i.a+a.j.a);n.b.i.a=n.a.g.j.a-c-n.b.j.a;n.b.i.b=a.i.b}else if(uH(r,Od(uW,UH(rc(oW,1),ZB,41,0,[nW])))){t=ww(ww(LO(n.a.b,n.b),20).sb(0),33);n.b.i.a=(n.a.g.j.a-n.b.j.a)/2;n.b.i.b=t.i.b}else if(uH(r,XI(uW))){t=ww(ww(LO(n.a.b,n.b),20).sb(0),33);n.b.i.b=t.i.b}else if(uH(r,XI(nW))){t=ww(ww(LO(n.a.b,n.b),20).sb(0),33);n.b.i.a=(n.a.g.j.a-n.b.j.a)/2;n.b.i.b=t.i.b}return null}function rD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g;for(w=new Xt(n);w.a<w.c.c.length;){b=ww($p(w),9);Ul(b.i);Ul(b.j);LY(b);GR(b);for(g=new Xt(b.f);g.a<g.c.c.length;){d=ww($p(g),7);Ul(d.i);Ul(d.a);Ul(d.j);ib(d,pG(d.g));a=ww(MH(d,(mB(),$K)),24);!!a&&Ny(d,$K,HI(-a.a));for(i=new Xt(d.e);i.a<i.c.c.length;){r=ww($p(i),12);for(t=OG(r.a,0);t.b!=t.d.c;){e=ww(Tm(t),10);Ul(e)}f=ww(MH(r,EK),44);if(f){for(u=OG(f,0);u.b!=u.d.c;){c=ww(Tm(u),10);Ul(c)}}for(l=new Xt(r.b);l.a<l.c.c.length;){o=ww($p(l),33);Ul(o.i);Ul(o.j)}}for(h=new Xt(d.c);h.a<h.c.c.length;){o=ww($p(h),33);Ul(o.i);Ul(o.j)}}if(b.g==(hO(),t1)){Ny(b,(gB(),O9),pG(ww(MH(b,O9),32)));aY(b)}for(s=new Xt(b.c);s.a<s.c.c.length;){o=ww($p(s),33);Ul(o.j);Ul(o.i)}}}function iD(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k;DO(t);if(bI(e.d.f,e.c.f)){s=e.c;l=WE(UH(rc(iQ,1),o$,10,0,[s.i,s.a]));o=s.f.b;zl(l,-o.b,-o.d);l.a-=r.a;l.b-=r.b}else{l=sp(e.c)}l.a+=r.a;l.b+=r.b;h=new ua;Ej(n,h,"x",l.a);Ej(n,h,"y",l.b);Gy(t,"sourcePoint",h);b=sp(e.d);MH(e,(gB(),l8))!=null&&Fh(b,ww(MH(e,l8),10));Fh(b,r);w=new ua;Ej(n,w,"x",b.a);Ej(n,w,"y",b.b);Gy(t,"targetPoint",w);i=new or;k=ME(e.a,r);a=0;for(v=OG(k,0);v.b!=v.d.c;){d=ww(Tm(v),10);f=new ua;Ej(n,f,"x",d.a);Ej(n,f,"y",d.b);Ig(i,a++,f)}k.b==0?Gy(t,l$,null):Gy(t,l$,i);c=ww(MH(e,(mB(),EK)),44);a=0;if(c){ME(c,r);u=new or;for(g=OG(c,0);g.b!=g.d.c;){d=ww(Tm(g),10);f=new ua;Ej(n,f,"x",d.a);Ej(n,f,"y",d.b);Ig(u,a++,f)}Gy(t,h$,u)}else{Gy(t,h$,null)}}function aD(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v;d=n.i;g=n.j;h=n.e;if(e){l=r/2*(e.Y()-1);b=0;for(o=e.mb();o.G();){u=ww(o.H(),9);l+=u.j.a;b=wc(b,u.j.b)}v=d.a-(l-g.a)/2;c=d.b-h.d+b;i=g.a/(e.Y()+1);a=i;for(f=e.mb();f.G();){u=ww(f.H(),9);u.i.a=v;u.i.b=c-u.j.b;v+=u.j.a+r/2;s=MR(u);s.i.a=u.j.a/2-s.a.a;s.i.b=u.j.b;w=ww(MH(u,(gB(),j9)),7);if(w.b.c.length+w.e.c.length==1){w.i.a=a-w.a.a;w.i.b=0;jk(w,n)}a+=i}}if(t){l=r/2*(t.Y()-1);b=0;for(o=t.mb();o.G();){u=ww(o.H(),9);l+=u.j.a;b=wc(b,u.j.b)}v=d.a-(l-g.a)/2;c=d.b+g.b+h.a-b;i=g.a/(t.Y()+1);a=i;for(f=t.mb();f.G();){u=ww(f.H(),9);u.i.a=v;u.i.b=c;v+=u.j.a+r/2;s=MR(u);s.i.a=u.j.a/2-s.a.a;s.i.b=0;w=ww(MH(u,(gB(),j9)),7);if(w.b.c.length+w.e.c.length==1){w.i.a=a-w.a.a;w.i.b=g.b;jk(w,n)}a+=i}}}function cD(n,e,t,r,i){var a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;y=0;b=0;for(l=new Xt(e.f);l.a<l.c.c.length;){s=ww($p(l),9);h=0;u=0;f=t?ww(MH(s,h5),24).a:AB;v=r?ww(MH(s,b5),24).a:AB;o=f>v?f:v;for(p=new Xt(s.f);p.a<p.c.c.length;){k=ww($p(p),7);m=s.i.b+k.i.b+k.a.b;if(r){for(c=new Xt(k.e);c.a<c.c.c.length;){a=ww($p(c),12);d=a.d;w=d.f;if(e!=n.a[w.k]){g=gc(ww(MH(w,h5),24).a,ww(MH(w,b5),24).a);j=ww(MH(a,(gB(),n8)),24).a;if(j>=o&&j>=g){h+=w.i.b+d.i.b+d.a.b-m;++u}}}}if(t){for(c=new Xt(k.b);c.a<c.c.c.length;){a=ww($p(c),12);d=a.c;w=d.f;if(e!=n.a[w.k]){g=gc(ww(MH(w,h5),24).a,ww(MH(w,b5),24).a);j=ww(MH(a,(gB(),n8)),24).a;if(j>=o&&j>=g){h+=w.i.b+d.i.b+d.a.b-m;++u}}}}}if(u>0){y+=h/u;++b}}if(b>0){e.a=i*y/b;e.i=b}else{e.a=0;e.i=0}}function uD(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k;b=e.c.length;h=0;for(l=new Xt(n.c);l.a<l.c.c.length;){s=ww($p(l),16);v=s.a;if(v.c.length==0){continue}g=new Xt(v);o=0;k=null;i=ww($p(g),9);while(i){a=ww(Uw(e,i.k),111);if(a.c>=0){f=null;u=new Dp(s.a,o+1);while(u.b<u.d.Y()){c=(Ns(u.b<u.d.Y()),ww(u.d.sb(u.c=u.b++),9));f=ww(Uw(e,c.k),111);if(f.d==a.d&&f.c<a.c){break}else{f=null}}if(f){if(k){sj(r,i.k,HI(ww(Uw(r,i.k),24).a-1));ww(Uw(t,k.k),20).nb(a)}a=pO(a,i,b++);e.c[e.c.length]=a;nw(t,new De);if(k){ww(Uw(t,k.k),20).ib(a);nw(r,HI(1))}else{nw(r,HI(0))}}}w=null;if(g.a<g.c.c.length){w=ww($p(g),9);d=ww(Uw(e,w.k),111);ww(Uw(t,i.k),20).ib(d);sj(r,w.k,HI(ww(Uw(r,w.k),24).a+1))}a.d=h;a.c=o++;k=i;i=w}++h}ya(Sa(xh(MH(n,(mB(),bK)))))&&undefined}function fD(n,e){var t;if(n.e){throw new za((eb(_Z),"The "+_Z.j+L$))}if(!Sf(n.a,e)){throw new Ui("The direction "+e+" is not supported by the CGraph instance.")}if(e==n.d){return n}t=n.d;n.d=e;switch(t.e){case 0:switch(e.e){case 2:NH(n);break;case 1:qL(n);NH(n);break;case 4:vO(n);NH(n);break;case 3:vO(n);qL(n);NH(n)}break;case 2:switch(e.e){case 1:qL(n);sA(n);break;case 4:vO(n);NH(n);break;case 3:vO(n);qL(n);NH(n)}break;case 1:switch(e.e){case 2:qL(n);sA(n);break;case 4:qL(n);vO(n);NH(n);break;case 3:qL(n);vO(n);qL(n);NH(n)}break;case 4:switch(e.e){case 2:vO(n);NH(n);break;case 1:vO(n);qL(n);NH(n);break;case 3:qL(n);sA(n)}break;case 3:switch(e.e){case 2:qL(n);vO(n);NH(n);break;case 1:qL(n);vO(n);qL(n);NH(n);break;case 4:qL(n);sA(n)}}return n}function oD(n,e,t){var r,i,a,c,u,f,o,s,l;if(n.a[e.d.k][e.k].e){return}else{n.a[e.d.k][e.k].e=true}n.a[e.d.k][e.k].b=0;n.a[e.d.k][e.k].d=0;n.a[e.d.k][e.k].a=null;for(s=new Xt(e.f);s.a<s.c.c.length;){o=ww($p(s),7);l=t?new bt(o):new dt(o);for(f=l.mb();f.G();){u=ww(f.H(),7);c=u.f;if(c.d==e.d){if(c!=e){oD(n,c,t);n.a[e.d.k][e.k].b+=n.a[c.d.k][c.k].b;n.a[e.d.k][e.k].d+=n.a[c.d.k][c.k].d}}else{n.a[e.d.k][e.k].d+=n.d[u.k];++n.a[e.d.k][e.k].b}}}a=ww(MH(e,(gB(),w9)),20);if(a){for(i=a.mb();i.G();){r=ww(i.H(),9);if(e.d==r.d){oD(n,r,t);n.a[e.d.k][e.k].b+=n.a[r.d.k][r.k].b;n.a[e.d.k][e.k].d+=n.a[r.d.k][r.k].d}}}if(n.a[e.d.k][e.k].b>0){n.a[e.d.k][e.k].d+=BP(n.e,24)*oU*.07000000029802322-.03500000014901161;n.a[e.d.k][e.k].a=n.a[e.d.k][e.k].d/n.a[e.d.k][e.k].b}}function sD(n,e){var t,r,i,a,c,u,f,o,s,l,h;for(i=new Xt(n.a.c);i.a<i.c.c.length;){t=ww($p(i),16);for(f=new Xt(t.a);f.a<f.c.c.length;){u=ww($p(f),9);e.i[u.k]=u;e.g[u.k]=e.k==(rm(),T5)?H$:E$}}c=n.a.c;e.c==(Ik(),L5)&&(c=gl(c,87)?qp(ww(c,87)):gl(c,88)?ww(c,88).a:gl(c,63)?new Wi(c):new Pu(c));my(n.e,e,n.b);yc(e.n);for(a=c.mb();a.G();){t=ww(a.H(),16);o=t.a;e.k==(rm(),T5)&&(o=gl(o,87)?qp(ww(o,87)):gl(o,88)?ww(o,88).a:gl(o,63)?new Wi(o):new Pu(o));for(h=o.mb();h.G();){l=ww(h.H(),9);e.f[l.k]==l&&BD(n,l,e)}}V_(n,e);for(r=c.mb();r.G();){t=ww(r.H(),16);for(h=new Xt(t.a);h.a<h.c.c.length;){l=ww($p(h),9);e.n[l.k]=e.n[e.f[l.k].k];if(l==e.f[l.k]){s=Sa(e.g[e.i[l.k].k]);(e.k==(rm(),T5)&&s>H$||e.k==O5&&s<E$)&&(e.n[l.k]=Sa(e.n[l.k])+s)}}}n.e.Jc()}function lD(n,e){var t,r,i,a,c,u,f,o,s,l,h;TI(e,UH(rc(uQ,1),WB,79,0,[(gB(),a8),p9,(vB(),nnn),b9]));o=ww(MH(e,a8),15).a;ww(MH(e,R8),15).a*o<2&&Ny(e,R8,new Ut(2/o));s=ww(MH(e,(mB(),wK)),59);s==(WC(),NQ)&&Ny(e,wK,YI(e));l=ww(MH(e,J8),24);l.a==0?Ny(e,t8,new II):Ny(e,t8,new nS(l.a));h=new kD(e);Ny(e,c8,h);i=cS(n,ww(MH(e,G8),180));u=cS(n,ww(MH(e,U8),180));r=cS(n,ww(MH(e,L8),180));f=cS(n,ww(MH(e,F8),180));a=cS(n,bw(ww(MH(e,L9),122)));c=new xI;Ny(e,S9,c);AE(AE(AE(AE(AE(AE(c,i.qc(e)),u.qc(e)),r.qc(e)),f.qc(e)),a.qc(e)),Q_(e));t=(hS(30,Hx),new Fy(30));Ny(e,e8,t);gH(t,tP(n,c,0));t.c[t.c.length]=i;gH(t,tP(n,c,1));t.c[t.c.length]=u;gH(t,tP(n,c,2));t.c[t.c.length]=r;gH(t,tP(n,c,3));t.c[t.c.length]=f;gH(t,tP(n,c,4));t.c[t.c.length]=a;gH(t,tP(n,c,5))}function hD(n,e){var t,r,i,a,c,u;a=rp(sN(n));if(a.Nb().V()){return}i=ww(MH(ww(ww(ww(a.Nb().sb(0),129),224).e,33),(kL(),VJ)),171);i=i==zJ?FJ:i;u=0;switch(ww(n.e,7).g.e){case 4:case 2:i==FJ&&(u=n.e.j.b);break;case 3:u=n.e.j.b}(ww(n.e,7).g==(SD(),TW)||i==UJ)&&(a=qp(a));for(r=dS(a.Nb().mb());r.G();){t=ww(r.H(),129);c=new xo(t.e.i);if(i==UJ){switch(ww(n.e,7).g.e){case 1:case 4:c.a=-t.e.j.a-e;c.b=u-e-t.e.j.b;u-=e+t.e.j.b;break;case 2:c.a=n.e.j.a+e;c.b=u-e-t.e.j.b;u-=e+t.e.j.b;break;case 3:c.a=-t.e.j.a-e;c.b=u+e;u+=e+t.e.j.b}}else{switch(ww(n.e,7).g.e){case 4:c.a=-t.e.j.a-e;c.b=u+e;u+=e+t.e.j.b;break;case 2:c.a=n.e.j.a+e;c.b=u+e;u+=e+t.e.j.b;break;case 1:c.a=n.e.j.a+e;c.b=u-e-t.e.j.b;u-=e+t.e.j.b;break;case 3:c.a=n.e.j.a+e;c.b=u+e;u+=e+t.e.j.b}}t.e.i.a=c.a;t.e.i.b=c.b}}function bD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b;r=0;i=0;for(s=0;s<n.length;s++){f=n[s];if(rh(ww(MH(f,(mB(),xK)),28))){for(c=hT(f,(SD(),OW)).mb();c.G();){a=ww(c.H(),7);if(a.b.c.length+a.e.c.length>0){r+=a.b.c.length+a.e.c.length;mv(e,a,HI(r))}}}else{for(u=hT(f,(SD(),OW)).mb();u.G();){a=ww(u.H(),7);r+=a.b.c.length+a.e.c.length}for(c=hT(f,OW).mb();c.G();){a=ww(c.H(),7);a.b.c.length+a.e.c.length>0&&mv(e,a,HI(r))}}}for(o=n.length-1;o>=0;o--){f=n[o];if(rh(ww(MH(f,(mB(),xK)),28))){for(h=hT(f,(SD(),JW)).mb();h.G();){l=ww(h.H(),7);if(l.b.c.length+l.e.c.length>0){i+=l.b.c.length+l.e.c.length;mv(t,l,HI(i))}}}else{for(b=hT(f,(SD(),JW)).mb();b.G();){l=ww(b.H(),7);i+=l.b.c.length+l.e.c.length}for(h=hT(f,JW).mb();h.G();){l=ww(h.H(),7);l.b.c.length+l.e.c.length>0&&mv(t,l,HI(i))}}}}function wD(n,e,t,r,i){var a,c,u,f,o,s,l,h,b,w,d,g,v;h=hN(n.g);w=hN(e.g);b=Fh(vs(n.i),n.a);d=Fh(vs(e.i),e.a);f=Fh(new Au(b.a,b.b),fl(new rg(h),1.3*t));g=Fh(new Au(d.a,d.b),fl(new rg(w),1.3*r));u=fu(f.a-g.a);u<i&&(n.g==(SD(),JW)||n.g==OW?f.a<g.a?f.a=g.a-i:f.a=g.a+i:f.a<g.a?g.a=f.a+i:g.a=f.a-i);a=0;c=0;switch(n.g.e){case 4:a=2*(b.a-t)-.5*(f.a+g.a);break;case 2:a=2*(b.a+t)-.5*(f.a+g.a);break;case 1:c=2*(b.b-t)-.5*(f.b+g.b);break;case 3:c=2*(b.b+t)-.5*(f.b+g.b)}switch(e.g.e){case 4:a=2*(d.a-r)-.5*(g.a+f.a);break;case 2:a=2*(d.a+r)-.5*(g.a+f.a);break;case 1:c=2*(d.b-r)-.5*(g.b+f.b);break;case 3:c=2*(d.b+r)-.5*(g.b+f.b)}l=new Au(a,c);s=new av(UH(rc(iQ,1),o$,10,0,[b,f,l,g,d]));o=ML(s);v=DL(s);s.a=o;dr(s,new OT(UH(rc(iQ,1),o$,10,0,[o,v,b,d])));return s}function dD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;f=t.a;i=ww(MH(t,(gB(),p9)),15).a;w=t.d;u=(r=ww(MH(t,p9),15).a,new Au(t.e.a+t.a.b+t.a.c+2*r,t.e.b+t.a.d+t.a.a+2*r));o=u.b;for(h=new Xt(n.a);h.a<h.c.c.length;){s=ww($p(h),9);if(s.g!=(hO(),t1)){continue}a=ww(MH(s,O9),32);c=ww(MH(s,T9),10);b=s.i;switch(a.e){case 2:b.a=t.e.a+i+f.c-w.a;break;case 4:b.a=-w.a-i-f.b}g=0;switch(a.e){case 2:case 4:if(e==(_N(),mW)){d=Sa($h(MH(s,Z9)));b.b=u.b*d-ww(MH(s,(mB(),BK)),10).b;g=b.b+c.b;AL(s,false,true)}else if(e==pW){b.b=Sa($h(MH(s,Z9)))-ww(MH(s,(mB(),BK)),10).b;g=b.b+c.b;AL(s,false,true)}}o=o>g?o:g}t.e.b+=o-u.b;for(l=new Xt(n.a);l.a<l.c.c.length;){s=ww($p(l),9);if(s.g!=(hO(),t1)){continue}a=ww(MH(s,O9),32);b=s.i;switch(a.e){case 1:b.b=-w.b-i-f.d;break;case 3:b.b=t.e.b+i+f.a-w.b}}}function gD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w;i=new De;for(f=new Xt(n.d.f);f.a<f.c.c.length;){c=ww($p(f),7);c.g==(SD(),OW)&&(i.c[i.c.length]=c,true)}if(n.e.a==(WC(),GQ)&&!Rf(ww(MH(n.d,(mB(),xK)),28))){for(r=mg(EI(n.d));AI(r);){t=ww(Jk(r),12);nw(i,t.c)}}a=n.d.j.a;Ny(n.d,(gB(),k9),new Ut(n.d.j.a));n.d.j.a=n.c;Ny(n.d,v9,(jd(),jd(),ynn));nw(n.b,n.d);o=n.d;a-=n.c;s=n.a;while(s>1){e=vc(a,n.c);o=(l=new CG(n.e.c),wr(l,(hO(),e1)),Ny(l,(mB(),xK),ww(MH(o,xK),28)),Ny(l,OK,ww(MH(o,OK),86)),l.k=n.e.b++,nw(n.b,l),l.j.b=o.j.b,l.j.a=e,h=new qN,ib(h,(SD(),OW)),jk(h,o),h.i.a=l.j.a,h.i.b=l.j.b/2,b=new qN,ib(b,JW),jk(b,l),b.i.b=l.j.b/2,b.i.a=-b.j.a,w=new xv,Ek(w,h),Sk(w,b),l);nw(n.e.c.b,o);--s;a-=n.c+n.e.d}new DN(n.d,n.b,n.c);for(u=new Xt(i);u.a<u.c.c.length;){c=ww($p(u),7);gy(n.d.f,c);jk(c,o)}}function vD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b;if(n.p>e.a||e.p>n.a){return}t=0;r=0;for(l=(c=new zt(n.o.a).a.bb().mb(),new qt(c));l.a.G();){o=(i=ww(l.a.H(),21),ww(i.yb(),7));zI(WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b,e.p,e.a)&&++t}for(h=(u=new zt(n.g.a).a.bb().mb(),new qt(u));h.a.G();){o=(i=ww(h.a.H(),21),ww(i.yb(),7));zI(WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b,e.p,e.a)&&--t}for(b=(f=new zt(e.o.a).a.bb().mb(),new qt(f));b.a.G();){o=(i=ww(b.a.H(),21),ww(i.yb(),7));zI(WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b,n.p,n.a)&&++r}for(s=(a=new zt(e.g.a).a.bb().mb(),new qt(a));s.a.G();){o=(i=ww(s.a.H(),21),ww(i.yb(),7));zI(WE(UH(rc(iQ,1),o$,10,0,[o.f.i,o.i,o.a])).b,n.p,n.a)&&--r}if(t<r){new Sj(n,e,r-t)}else if(r<t){new Sj(e,n,t-r)}else{new Sj(e,n,0);new Sj(n,e,0)}}function kD(n){var e;this.f=ww(MH(n,(gB(),a8)),15).a;this.d=ww(MH(n,(vB(),Q8)),15).a;this.a=this.f*ww(MH(n,R8),15).a;this.b=this.f*ww(MH(n,P8),15).a;ww(MH(n,X9),15);this.c=ww(MH(n,X9),15).a;this.e=ww(MH(n,(mB(),HK)),15).a;e=(hO(),UH(rc(u1,1),ZB,132,0,[a1,i1,t1,c1,r1,e1])).length;this.g=ad(Ctn,[SB,J$],[250,26],12,[e,e],2);jo(this,a1,this.f);tv(this,a1,i1,this.b);tv(this,a1,c1,this.b);tv(this,a1,t1,this.c);tv(this,a1,r1,this.b);tv(this,a1,e1,this.b);jo(this,i1,this.a);tv(this,i1,c1,this.a);tv(this,i1,t1,this.c);tv(this,i1,r1,this.e);tv(this,i1,e1,this.b);jo(this,c1,this.a);tv(this,c1,t1,this.c);tv(this,c1,r1,this.e);tv(this,c1,e1,this.b);jo(this,t1,this.c);tv(this,t1,r1,this.c);tv(this,t1,e1,this.c);jo(this,r1,this.e);tv(this,r1,e1,this.e);jo(this,e1,this.f)}function pD(n,e){var t,r,i,a,c,u,f,o,s;if(zg(SI(e))!=1||ww(Np(SI(e)),12).c.f.g!=(hO(),i1)){return null}t=ww(Np(SI(e)),12);r=t.c.f;wr(r,(hO(),a1));Ny(r,(gB(),B9),null);Ny(r,x9,null);Ny(r,k9,ww(MH(e,k9),15));Ny(r,v9,(jd(),jd(),ynn));Ny(r,F9,MH(e,F9));r.j.b=e.j.b;a=MH(t.d,F9);c=null;for(o=hT(r,(SD(),JW)).mb();o.G();){u=ww(o.H(),7);if(u.b.c.length!=0){Ny(u,F9,a);s=t.d;u.j.a=s.j.a;u.j.b=s.j.b;u.a.a=s.a.a;u.a.b=s.a.b;gH(u.c,s.c);s.c.c=Vj(WU,WB,1,0,4,1);c=u;break}}Ny(t.d,F9,null);if(zg(hT(e,JW))>1){for(f=OG(lw(hT(e,JW)),0);f.b!=f.d.c;){u=ww(Tm(f),7);if(u.b.c.length==0){i=new qN;ib(i,JW);i.j.a=u.j.a;i.j.b=u.j.b;jk(i,r);Ny(i,F9,MH(u,F9));jk(u,null)}else{jk(c,r)}}}Ny(e,F9,null);Ny(e,v9,(null,jnn));wr(e,e1);Ny(r,(mB(),xK),ww(MH(e,xK),28));Ny(r,OK,ww(MH(e,OK),86));fd(n.b,0,r);return r}function mD(n,e,t,r,i,a,c){var u,f,o,s,l,h;l=t;o=new CG(c);wr(o,(hO(),t1));Ny(o,(gB(),T9),i);Ny(o,(mB(),xK),(_N(),pW));Ny(o,U9,ww(MH(n,PK),15));f=ww(MH(n,BK),10);!f&&(f=new Au(i.a/2,i.b/2));Ny(o,BK,f);s=new qN;jk(s,o);if(!(e!=yW&&e!=SW)){u=a!=(WC(),NQ)?a:GQ;r>0?l=KI(u):l=MC(KI(u));Ny(n,FK,l)}switch(l.e){case 4:Ny(o,(vB(),D8),(nN(),w8));Ny(o,I9,(JH(),j7));o.j.b=i.b;ib(s,(SD(),OW));s.i.b=f.b;break;case 2:Ny(o,(vB(),D8),(nN(),g8));Ny(o,I9,(JH(),p7));o.j.b=i.b;ib(s,(SD(),JW));s.i.b=f.b;break;case 1:Ny(o,A9,(LS(),u9));o.j.a=i.a;ib(s,(SD(),KW));s.i.a=f.a;break;case 3:Ny(o,A9,(LS(),a9));o.j.a=i.a;ib(s,(SD(),TW));s.i.a=f.a}if(e==kW||e==mW||e==pW){h=0;switch(l.e){case 4:case 2:h=null.cd;e==mW&&(h/=null.cd);break;case 1:case 3:h=null.cd;e==mW&&(h/=null.cd)}Ny(o,Z9,h)}Ny(o,O9,l);return o}function jD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;o=new Xr;v=(Ll(),new Lr);mv(v,n,yO(n));r=(hS(2,Hx),new Fy(2));!!n.c&&nw(r,n.c);!!n.d&&nw(r,n.d);for(b=new Xt(r);b.a<b.c.c.length;){h=ww($p(b),7);e=new Ga;wE(e,ij(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[h.b,h.e])))))));cL(e,n,true);if(e.b!=0){p=ww(Uo(_k(v.d,n)),34);if(h==n.d){w=p[p.length-1];k=true}else{w=p[0];k=false}for(f=1;f<p.length;f++){k?d=p[p.length-1-f]:d=p[f];t=OG(e,0);while(t.b!=t.d.c){s=ww(Tm(t),12);l=ww(Uo(_k(v.d,s)),34);if(l==null){l=yO(s);FT(v.d,s,l)}if(l.length<=f){jS(t)}else{k?g=l[l.length-1-f]:g=l[f];if(d.a!=g.a||d.b!=g.b){i=d.a-w.a;c=d.b-w.b;a=g.a-w.a;u=g.b-w.b;a*c==u*i&&ek(i)==ek(a)&&ek(c)==ek(u)?((i<=0?0-i:i)<(a<=0?0-a:a)||(c<=0?0-c:c)<(u<=0?0-u:u))&&(xm(o,d,o.c.b,o.c),true):f>1&&(xm(o,w,o.c.b,o.c),true);jS(t)}}}w=d}}}return o}function yD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d;n.n=ww(MH(n.g,(gB(),a8)),15).a*ww(MH(n.g,(vB(),Q8)),15).a;n.e=n.n*ww(MH(n.g,R8),15).a;n.i=n.g.c.c.length;u=n.i-1;h=0;n.j=0;n.k=0;n.a=Hj(Vj(hF,SB,24,n.i,0,1));n.b=Hj(Vj(Enn,SB,184,n.i,6,1));for(c=new Xt(n.g.c);c.a<c.c.c.length;){i=ww($p(c),16);i.k=u;for(l=new Xt(i.a);l.a<l.c.c.length;){s=ww($p(l),9);s.k=h;++h}--u}n.f=Vj(ytn,Lx,26,h,12,1);n.c=ad(ytn,[SB,Lx],[52,26],12,[h,3],2);n.o=new De;n.p=new De;e=0;n.d=0;for(a=new Xt(n.g.c);a.a<a.c.c.length;){i=ww($p(a),16);u=i.k;r=0;d=0;f=i.a.c.length;o=0;for(l=new Xt(i.a);l.a<l.c.c.length;){s=ww($p(l),9);h=s.k;n.f[h]=s.d.k;o+=s.j.b+n.n;t=zg(SI(s));w=zg(EI(s));n.c[h][0]=w-t;n.c[h][1]=t;n.c[h][2]=w;r+=t;d+=w;t>0&&nw(n.p,s);nw(n.o,s)}e-=r;b=f+e;o+=e*n.e;sj(n.a,u,HI(b));sj(n.b,u,o);n.j=gc(n.j,b);n.k=wc(n.k,o);n.d+=e;e+=d}}function SD(){SD=r;var n;WW=new nf(Wx,0);TW=new nf("NORTH",1);OW=new nf("EAST",2);KW=new nf("SOUTH",3);JW=new nf("WEST",4);_W=(qv(),new Lc((n=ww(Yc(ZW),11),new jw(n,ww(hg(n,n.length),11),0))));MW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[])));PW=dI(Od(OW,UH(rc(ZW,1),ZB,32,0,[])));zW=dI(Od(KW,UH(rc(ZW,1),ZB,32,0,[])));QW=dI(Od(JW,UH(rc(ZW,1),ZB,32,0,[])));UW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[KW])));AW=dI(Od(OW,UH(rc(ZW,1),ZB,32,0,[JW])));VW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[JW])));DW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[OW])));qW=dI(Od(KW,UH(rc(ZW,1),ZB,32,0,[JW])));RW=dI(Od(OW,UH(rc(ZW,1),ZB,32,0,[KW])));$W=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[OW,JW])));YW=dI(Od(OW,UH(rc(ZW,1),ZB,32,0,[KW,JW])));FW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[KW,JW])));BW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[OW,KW])));xW=dI(Od(TW,UH(rc(ZW,1),ZB,32,0,[OW,KW,JW])))}function ED(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H;m=new De;for(h=new Xt(n.c);h.a<h.c.c.length;){l=ww($p(h),16);for(d=new Xt(l.a);d.a<d.c.c.length;){b=ww($p(d),9);if(b.g!=(hO(),t1)){continue}if(MH(b,(gB(),N9))==null){continue}g=null;k=null;v=null;for(S=new Xt(b.f);S.a<S.c.c.length;){y=ww($p(S),7);switch(y.g.e){case 4:g=y;break;case 2:k=y;break;default:v=y}}p=ww(Uw(v.e,0),12);f=new Bh(p.a);u=new xo(v.i);Fh(u,b.i);o=OG(f,0);og(o,u);j=DH(p.a);s=new xo(v.i);Fh(s,b.i);xm(j,s,j.c.b,j.c);E=ww(MH(b,N9),9);H=ww(Uw(E.f,0),7);c=ww(KG(g.b,Vj($X,M$,12,0,0,1)),47);for(r=0,a=c.length;r<a;++r){e=c[r];Sk(e,H);iC(e.a,e.a.b,f)}c=ww(KG(k.e,Vj($X,M$,12,k.e.c.length,0,1)),47);for(t=0,i=c.length;t<i;++t){e=c[t];Ek(e,H);iC(e.a,0,j)}Ek(p,null);Sk(p,null);m.c[m.c.length]=b}}for(w=new Xt(m);w.a<w.c.c.length;){b=ww($p(w),9);yk(b,null)}}function HD(){function n(){this.obj=this.createObject()}n.prototype.createObject=function(n){return Object.create(null)};n.prototype.get=function(n){return this.obj[n]};n.prototype.set=function(n,e){this.obj[n]=e};n.prototype[NU]=function(n){delete this.obj[n]};n.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)};n.prototype.entries=function(){var n=this.keys();var e=this;var t=0;return{next:function(){if(t>=n.length)return{done:true};var r=n[t++];return{value:[r,e.get(r)],done:false}}}};if(!JY()){n.prototype.createObject=function(){return{}};n.prototype.get=function(n){return this.obj[":"+n]};n.prototype.set=function(n,e){this.obj[":"+n]=e};n.prototype[NU]=function(n){delete this.obj[":"+n]};n.prototype.keys=function(){var n=[];for(var e in this.obj){e.charCodeAt(0)==58&&n.push(e.substring(1))}return n}}return n}function CD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;s=new OS;Ny(s,XJ,e);mv(n.e,e,s);Ny(s,(gB(),K9),t);!!n.d&&eT(n.d,s,false);FN(e,s);if(d$ in e.a){g=s.a;v=ww(Tv(e,d$),69);d=ww(Tv(v,"left"),104);!!d&&(g.b=d.a);p=ww(Tv(v,"top"),104);!!p&&(g.d=p.a);k=ww(Tv(v,"right"),104);!!k&&(g.c=k.a);i=ww(Tv(v,i$),104);!!i&&(g.a=i.a)}l=(r=ww(Yc(Q7),11),new jw(r,ww(hg(r,r.length),11),0));Ny(s,P9,l);n.g==null&&(n.g=xh(MH(s,(Wv(),hZ))));if(g$ in e.a){m=Tv(e,g$);if(!m.hc()){throw new ig("The 'children' property of nodes must be an array.",m,e)}o=m.hc();if(o.a.length>0){!!t&&Ny(t,$9,s);u=Vj(n1,v$,9,o.a.length,0,1);for(b=0;b<o.a.length;++b){f=gS(o,b);if(!f.kc()){throw new ig("A 'children' array contains a non-object node element.",f,e)}a=NM(n,f.kc(),s);u[b]=a}for(h=0;h<o.a.length;++h){w=gS(o,h).kc();c=u[h];g$ in w.a&&!ya(Sa(xh(MH(c,(mB(),TK)))))&&CD(n,w,c)}}}return s}function ID(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d;if(!vl(new Xt(HN(n.e)))){return}for(u=new Xt(HN(n.e));u.a<u.c.c.length;){c=ww($p(u),161);o=ww(c.e,7).g.e;++n.o[o];switch(ww(c.e,7).g.e){case 4:case 2:n.n[o]+=c.e.j.b+(e?(r=ww(c.e,7).d,new Rh(r.d,r.b,r.a,r.c)).a+(i=ww(c.e,7).d,new Rh(i.d,i.b,i.a,i.c)).d:0);break;case 1:case 3:n.n[o]+=c.e.j.a+(e?(a=ww(c.e,7).d,new Rh(a.d,a.b,a.a,a.c)).b+(t=ww(c.e,7).d,new Rh(t.d,t.b,t.a,t.c)).c:0)}}f=ww(iL(n.e,(mB(),YK)),100);f=f==(gL(),dW)?wW:f;n.g[1]=ww(iL(n.e,_K),100);n.g[3]=ww(iL(n.e,MK),100);n.g[4]=ww(iL(n.e,DK),100);n.g[2]=ww(iL(n.e,AK),100);for(l=(SD(),UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW])),b=0,d=l.length;b<d;++b){o=l[b];n.g[o.e]=n.g[o.e]==dW?f:n.g[o.e]}n.b=iL(n.e,aK)!=null;for(s=UH(rc(ZW,1),ZB,32,0,[WW,TW,OW,KW,JW]),h=0,w=s.length;h<w;++h){o=s[h];n.o[o.e]==1?n.i[o.e]=2:!n.b&&n.g[o.e]==wW?n.i[o.e]=n.o[o.e]+1:n.i[o.e]=n.o[o.e]-1}}function LD(n,e,t,r,i,a){var c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;f=ww(n.a,16);d=ww(n.b,16);o=ww(e.a,18);g=ww(e.b,18);if(f){for(l=new Xt(f.a);l.a<l.c.c.length;){s=ww($p(l),9);for(p=hT(s,(SD(),OW)).mb();p.G();){k=ww(p.H(),7);o.ib(k);for(u=new Xt(k.e);u.a<u.c.c.length;){c=ww($p(u),12);if(kj(c)){continue}t.c[t.c.length]=c;jH(c,r);v=c.c.f.g;(v==(hO(),a1)||v==c1)&&(i.c[i.c.length]=c,true);j=c.d;m=j.f.d;m==d?g.ib(j):m==f?o.ib(j):gy(t,c)}}}}if(d){for(l=new Xt(d.a);l.a<l.c.c.length;){s=ww($p(l),9);for(w=new Xt(s.f);w.a<w.c.c.length;){b=ww($p(w),7);for(u=new Xt(b.e);u.a<u.c.c.length;){c=ww($p(u),12);kj(c)&&(h=a.a.db(c,a),h==null)}}for(p=hT(s,(SD(),JW)).mb();p.G();){k=ww(p.H(),7);g.ib(k);for(u=new Xt(k.e);u.a<u.c.c.length;){c=ww($p(u),12);if(kj(c)){continue}t.c[t.c.length]=c;jH(c,r);v=c.c.f.g;(v==(hO(),a1)||v==c1)&&(i.c[i.c.length]=c,true);j=c.d;m=j.f.d;m==d?g.ib(j):m==f?o.ib(j):gy(t,c)}}}}}function GD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E;p=e.c.length;i=new JR(n.b,t,null,null);E=Vj(Htn,DB,26,p,12,1);d=Vj(Htn,DB,26,p,12,1);w=Vj(Htn,DB,26,p,12,1);g=0;for(u=0;u<p;u++){d[u]=NB;w[u]=AB}for(f=0;f<p;f++){r=($j(f,e.c.length),ww(e.c[f],81));E[f]=LP(r);E[g]>E[f]&&(g=f);for(l=new Xt(n.b.c);l.a<l.c.c.length;){s=ww($p(l),16);for(k=new Xt(s.a);k.a<k.c.c.length;){v=ww($p(k),9);y=Sa(r.n[v.k])+Sa(r.d[v.k]);d[f]=d[f]<y?d[f]:y;w[f]=wc(w[f],y+v.j.b)}}}S=Vj(Htn,DB,26,p,12,1);for(o=0;o<p;o++){($j(o,e.c.length),ww(e.c[o],81)).k==(rm(),O5)?S[o]=d[g]-d[o]:S[o]=w[g]-w[o]}a=Vj(Htn,DB,26,p,12,1);for(b=new Xt(n.b.c);b.a<b.c.c.length;){h=ww($p(b),16);for(j=new Xt(h.a);j.a<j.c.c.length;){m=ww($p(j),9);for(c=0;c<p;c++){a[c]=Sa(($j(c,e.c.length),ww(e.c[c],81)).n[m.k])+Sa(($j(c,e.c.length),ww(e.c[c],81)).d[m.k])+S[c]}sd(a);i.n[m.k]=(a[1]+a[2])/2;i.d[m.k]=0}}return i}function ND(n,e,t,r,i,a){var c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;d=null;t==(Lk(),u7)?d=n:t==f7&&(d=e);for(v=(h=new zt(d.a).a.bb().mb(),new qt(h));v.a.G();){g=(s=ww(v.a.H(),21),ww(s.yb(),7));k=WE(UH(rc(iQ,1),o$,10,0,[g.f.i,g.i,g.a])).b;j=new va;c=new va;for(f=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[g.b,g.e]))))));AI(f);){u=ww(Jk(f),12);if(ya(Sa(xh(MH(u,(gB(),i8)))))!=r){continue}if(Oy(i,u,0)!=-1){u.d==g?p=u.c:p=u.d;m=WE(UH(rc(iQ,1),o$,10,0,[p.f.i,p.i,p.a])).b;if((m-k<=0?0-(m-k):m-k)<.2){continue}m<k?n.a.R(p)?sg(j,new _u(u7,u)):sg(j,new _u(f7,u)):n.a.R(p)?sg(c,new _u(u7,u)):sg(c,new _u(f7,u))}}if(j.a.Y()>1){nw(a,new sM(g,j,t));for(w=(l=new zt(j.a).a.bb().mb(),new qt(l));w.a.G();){b=(o=ww(w.a.H(),21),ww(o.yb(),27));gy(i,b.b)}}if(c.a.Y()>1){nw(a,new sM(g,c,t));for(w=(l=new zt(c.a).a.bb().mb(),new qt(l));w.a.G();){b=(o=ww(w.a.H(),21),ww(o.yb(),27));gy(i,b.b)}}}}function OD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S;i=0;k=0;v=(Ll(),new Lr);r=new Lr;a=new Lr;S=new Lr;bD(n,a,S);e=null;g=0;y=0;p=true;f=true;for(h=0,w=n.length;h<w;++h){s=n[h];for(j=new Xt(s.f);j.a<j.c.c.length;){m=ww($p(j),7);switch(m.g.e){case 2:i+=LR(m,a);break;case 4:i+=LR(m,S)}}d=s.g;if(f&&(d==(hO(),a1)||d==c1)){o=ww(MH(s,(gB(),_9)),9);if(!o){f=false;continue}if(e!=o){!!e&&mv(v,e,new _u(HI(g),HI(y)));e=o;g=0;y=0;p=true}s==e&&(p=false);if(p){g+=ww(MH(s,E9),24).a;mv(r,s,HI(g))}else{y+=ww(MH(s,E9),24).a;mv(r,s,HI(y))}}}!!e&&mv(v,e,new _u(HI(g),HI(y)));if(f){u=null;c=0;t=0;p=true;for(l=0,b=n.length;l<b;++l){s=n[l];d=s.g;switch(d.e){case 0:c=ww(Uo(_k(r.d,s)),24).a;t=ww(ww(Uo(_k(v.d,s)),27).b,24).a;u=s;p=false;break;case 3:c=ww(Uo(_k(r.d,s)),24).a;o=ww(MH(s,(gB(),_9)),9);if(o!=u){t=ww(ww(Uo(_k(v.d,o)),27).a,24).a;u=o;p=true}break;default:k+=p?c:t-c}}}return i+k}function TD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;l=(Ll(),new Lr);o=new Df;for(r=new Xt(n.a.a.b);r.a<r.c.c.length;){e=ww($p(r),25);if(gl(e,93)){s=ww(e,93).b;FT(l.d,s,e)}else if(gl(e,82)){for(a=(w=new zt(ww(e,82).d.a).a.bb().mb(),new qt(w));a.a.G();){i=(c=ww(a.a.H(),21),ww(c.yb(),12));mP(o,i,e)}}}for(t=new Xt(n.a.a.b);t.a<t.c.c.length;){e=ww($p(t),25);if(gl(e,93)){s=ww(e,93).b;for(f=mg(EI(s));AI(f);){u=ww(Jk(f),12);if(kj(u)){continue}g=u.c;p=u.d;if((SD(),UW).kb(u.c.g)&&UW.kb(u.d.g)){continue}v=ww(Vg(l,u.d.f),25);XR(Qc(Wc(Jc(Kc(new Wr,0),100),n.c[e.f.d]),n.c[v.f.d]));if(g.g==JW&&Zh((zy(),l1,g))){for(b=ww(LO(o,u),18).mb();b.G();){h=ww(b.H(),25);if(h.j.d<e.j.d){d=n.c[h.f.d];k=n.c[e.f.d];if(d==k){continue}XR(Qc(Wc(Jc(Kc(new Wr,1),100),d),k))}}}if(p.g==OW&&Jh((zy(),o1,p))){for(b=ww(LO(o,u),18).mb();b.G();){h=ww(b.H(),25);if(h.j.d>e.j.d){d=n.c[e.f.d];k=n.c[h.f.d];if(d==k){continue}XR(Qc(Wc(Jc(Kc(new Wr,1),100),d),k))}}}}}}}function PD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w;c=new Ew(n);u=ij(gw(e,c));Sm(u,new Xn);i=n.b;switch(i.c){case 2:f=new Ct(i.a);t=_s(gw(u,f));uE(t)?o=ww(zj(t),91).b:o=15;f=new Ct(DG(i));t=_s(gw(u,f));uE(t)?a=ww(zj(t),91).b:a=15;f=new Ct(i.b);t=_s(gw(u,f));uE(t)?s=ww(zj(t),91).b:s=15;r=HR(n,o,a,s);sg(e,new QT(r,n.c,n.e,n.a.c.f,i.a));sg(e,new QT(r,n.c,n.e,n.a.c.f,DG(i)));sg(e,new QT(r,n.c,n.e,n.a.c.f,i.b));break;case 1:f=new Ct(i.a);t=_s(gw(u,f));uE(t)?o=ww(zj(t),91).b:o=15;f=new Ct(i.b);t=_s(gw(u,f));uE(t)?s=ww(zj(t),91).b:s=15;r=sR(n,o,s);sg(e,new QT(r,n.c,n.e,n.a.c.f,i.a));sg(e,new QT(r,n.c,n.e,n.a.c.f,i.b));break;case 0:f=new Ct(i.a);t=_s(gw(u,f));uE(t)?o=ww(zj(t),91).b:o=15;r=(l=n.b,h=mA(n.a.c,n.a.d,o),wE(n.a.a,SL(h)),b=QO(n.a.b,h.a,l),w=new Vm((!h.k&&(h.k=new sT(vE(h))),h.k)),sk(w),!b?w:Bg(w,b));sg(e,new QT(r,n.c,n.e,n.a.c.f,i.a));break;default:throw new Ca("The loopside must be defined.")}return r}function RD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;for(u=new Xt(n.a.c);u.a<u.c.c.length;){a=ww($p(u),16);for(p=new Xt(a.a);p.a<p.c.c.length;){k=ww($p(p),9);e.f[k.k]=k;e.a[k.k]=k;e.d[k.k]=0}}f=n.a.c;e.c==(Ik(),L5)&&(f=gl(f,87)?qp(ww(f,87)):gl(f,88)?ww(f,88).a:gl(f,63)?new Wi(f):new Pu(f));for(c=f.mb();c.G();){a=ww(c.H(),16);b=-1;h=a.a;if(e.k==(rm(),T5)){b=NB;h=gl(h,87)?qp(ww(h,87)):gl(h,88)?ww(h,88).a:gl(h,63)?new Wi(h):new Pu(h)}for(j=h.mb();j.G();){m=ww(j.H(),9);e.c==L5?l=ww(Uw(n.b.f,m.k),20):l=ww(Uw(n.b.b,m.k),20);if(l.Y()>0){r=l.Y();o=Uk(Math.floor((r+1)/2))-1;i=Uk(Math.ceil((r+1)/2))-1;if(e.k==T5){for(s=i;s>=o;s--){if(e.a[m.k]==m){d=ww(l.sb(s),27);w=ww(d.a,9);if(!iu(t,d.b)&&b>n.b.e[w.k]){e.a[w.k]=m;e.f[m.k]=e.f[w.k];e.a[m.k]=e.f[m.k];b=n.b.e[w.k]}}}}else{for(s=o;s<=i;s++){if(e.a[m.k]==m){v=ww(l.sb(s),27);g=ww(v.a,9);if(!iu(t,v.b)&&b<n.b.e[g.k]){e.a[g.k]=m;e.f[m.k]=e.f[g.k];e.a[m.k]=e.f[m.k];b=n.b.e[g.k]}}}}}}}}function YD(){YD=r;I6=new Hm("N",0,(SD(),TW),TW,0);E6=new Hm("EN",1,OW,TW,1);S6=new Hm("E",2,OW,OW,0);N6=new Hm("SE",3,KW,OW,1);G6=new Hm("S",4,KW,KW,0);Q6=new Hm("WS",5,JW,KW,1);q6=new Hm("W",6,JW,JW,0);L6=new Hm("NW",7,TW,JW,1);H6=new Hm("ENW",8,OW,JW,2);C6=new Hm("ESW",9,OW,JW,2);O6=new Hm("SEN",10,KW,TW,2);V6=new Hm("SWN",11,KW,TW,2);z6=new Hm(Wx,12,WW,WW,3);m6=lG(I6,E6,S6,N6,G6,Q6,UH(rc(K6,1),ZB,60,0,[q6,L6,H6,C6,O6,V6]));y6=(Ob(),vY(UH(rc(WU,1),WB,1,4,[I6,S6,G6,q6])));j6=vY(UH(rc(WU,1),WB,1,4,[E6,N6,Q6,L6]));A6=new Uc(TW);P6=vY(UH(rc(WU,1),WB,1,4,[OW,TW]));T6=new Uc(OW);D6=vY(UH(rc(WU,1),WB,1,4,[KW,OW]));M6=new Uc(KW);F6=vY(UH(rc(WU,1),WB,1,4,[JW,KW]));U6=new Uc(JW);_6=vY(UH(rc(WU,1),WB,1,4,[TW,JW]));R6=vY(UH(rc(WU,1),WB,1,4,[OW,TW,JW]));Y6=vY(UH(rc(WU,1),WB,1,4,[OW,KW,JW]));x6=vY(UH(rc(WU,1),WB,1,4,[KW,JW,TW]));B6=vY(UH(rc(WU,1),WB,1,4,[KW,OW,TW]));$6=(Zg(),gq)}function AD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;k=0;if(e.e.a==0){for(g=new Xt(n);g.a<g.c.c.length;){w=ww($p(g),9);k=wc(k,w.i.a+w.j.a+w.e.c)}}else{k=e.e.a-e.d.a}k-=e.d.a;for(d=new Xt(n);d.a<d.c.c.length;){w=ww($p(d),9);Tr(w.i,k-w.j.a);hG(w);switch(ww(MH(w,(mB(),uK)),103).e){case 1:Ny(w,uK,(oG(),SQ));break;case 2:Ny(w,uK,(oG(),yQ))}v=w.j;for(m=new Xt(w.f);m.a<m.c.c.length;){p=ww($p(m),7);Tr(p.i,v.a-p.j.a);Tr(p.a,p.j.a);ib(p,fE(p.g));c=ww(MH(p,$K),24);!!c&&Ny(p,$K,HI(-c.a));for(a=new Xt(p.e);a.a<a.c.c.length;){i=ww($p(a),12);for(r=OG(i.a,0);r.b!=r.d.c;){t=ww(Tm(r),10);t.a=k-t.a}o=ww(MH(i,EK),44);if(o){for(f=OG(o,0);f.b!=f.d.c;){u=ww(Tm(f),10);u.a=k-u.a}}for(h=new Xt(i.b);h.a<h.c.c.length;){s=ww($p(h),33);Tr(s.i,k-s.j.a)}}for(b=new Xt(p.c);b.a<b.c.c.length;){s=ww($p(b),33);Tr(s.i,-s.j.a)}}if(w.g==(hO(),t1)){Ny(w,(gB(),O9),fE(ww(MH(w,O9),32)));nT(w)}for(l=new Xt(w.c);l.a<l.c.c.length;){s=ww($p(l),33);Tr(s.i,v.a-s.j.a)}}}function _D(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;k=0;if(e.e.b==0){for(g=new Xt(n);g.a<g.c.c.length;){w=ww($p(g),9);k=wc(k,w.i.b+w.j.b+w.e.a)}}else{k=e.e.b-e.d.b}k-=e.d.b;for(d=new Xt(n);d.a<d.c.c.length;){w=ww($p(d),9);Pr(w.i,k-w.j.b);bG(w);switch(ww(MH(w,(mB(),uK)),103).e){case 3:Ny(w,uK,(oG(),mQ));break;case 4:Ny(w,uK,(oG(),EQ))}v=w.j;for(m=new Xt(w.f);m.a<m.c.c.length;){p=ww($p(m),7);Pr(p.i,v.b-p.j.b);Pr(p.a,p.j.b);ib(p,oE(p.g));c=ww(MH(p,$K),24);!!c&&Ny(p,$K,HI(-c.a));for(a=new Xt(p.e);a.a<a.c.c.length;){i=ww($p(a),12);for(r=OG(i.a,0);r.b!=r.d.c;){t=ww(Tm(r),10);t.b=k-t.b}o=ww(MH(i,EK),44);if(o){for(f=OG(o,0);f.b!=f.d.c;){u=ww(Tm(f),10);u.b=k-u.b}}for(h=new Xt(i.b);h.a<h.c.c.length;){s=ww($p(h),33);Pr(s.i,k-s.j.b)}}for(b=new Xt(p.c);b.a<b.c.c.length;){s=ww($p(b),33);Pr(s.i,-s.j.b)}}if(w.g==(hO(),t1)){Ny(w,(gB(),O9),oE(ww(MH(w,O9),32)));wI(w)}for(l=new Xt(w.c);l.a<l.c.c.length;){s=ww($p(l),33);Pr(s.i,v.b-s.j.b)}}}function MD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b;r=new Ev(e.e.i.a,e.e.i.b,e.e.j.a,e.e.j.b);i=new Jf;if(n.c){for(c=new Xt(oN(e));c.a<c.c.c.length;){a=ww($p(c),129);i.d=a.e.i.a+e.e.i.a;i.e=a.e.i.b+e.e.i.b;i.c=a.e.j.a;i.b=a.e.j.b;UN(r,i)}}for(s=new Xt(HN(e));s.a<s.c.c.length;){o=ww($p(s),161);l=o.e.i.a+e.e.i.a;h=o.e.i.b+e.e.i.b;if(n.e){i.d=l;i.e=h;i.c=o.e.j.a;i.b=o.e.j.b;UN(r,i)}if(n.d){for(c=new Xt(sN(o));c.a<c.c.c.length;){a=ww($p(c),129);i.d=a.e.i.a+l;i.e=a.e.i.b+h;i.c=a.e.j.a;i.b=a.e.j.b;UN(r,i)}}if(n.b){b=new Au(-t,-t);if($o(iL(e,(mB(),UK)))===$o((IS(),LW))){for(c=new Xt(sN(o));c.a<c.c.c.length;){a=ww($p(c),129);b.a+=a.e.j.a+t;b.b+=a.e.j.b+t}}b.a=wc(b.a,0);b.b=wc(b.b,0);$A(r,OY(o),NY(o),e,o,b,t)}}n.b&&$A(r,(qv(),qv(),ten),(null,ten),e,null,null,t);f=new hb((u=ww(e.e,9).e,new Rh(u.d,u.b,u.a,u.c)));f.d=e.e.i.b-r.e;f.a=r.e+r.b-(e.e.i.b+e.e.j.b);f.b=e.e.i.a-r.d;f.c=r.d+r.c-(e.e.i.a+e.e.j.a);ww(e.e,9).e.b=f.b;ww(e.e,9).e.d=f.d;ww(e.e,9).e.c=f.c;ww(e.e,9).e.a=f.a}function DD(){DD=r;pX=new Df;mP(pX,(SD(),_W),xW);mP(pX,QW,FW);mP(pX,QW,xW);mP(pX,PW,BW);mP(pX,PW,xW);mP(pX,MW,$W);mP(pX,MW,xW);mP(pX,zW,YW);mP(pX,zW,xW);mP(pX,UW,AW);mP(pX,UW,$W);mP(pX,UW,YW);mP(pX,UW,xW);mP(pX,AW,UW);mP(pX,AW,FW);mP(pX,AW,BW);mP(pX,AW,xW);mP(pX,VW,VW);mP(pX,VW,$W);mP(pX,VW,FW);mP(pX,DW,DW);mP(pX,DW,$W);mP(pX,DW,BW);mP(pX,qW,qW);mP(pX,qW,YW);mP(pX,qW,FW);mP(pX,RW,RW);mP(pX,RW,YW);mP(pX,RW,BW);mP(pX,$W,MW);mP(pX,$W,UW);mP(pX,$W,VW);mP(pX,$W,DW);mP(pX,$W,$W);mP(pX,$W,FW);mP(pX,$W,BW);mP(pX,$W,xW);mP(pX,YW,zW);mP(pX,YW,UW);mP(pX,YW,qW);mP(pX,YW,RW);mP(pX,YW,YW);mP(pX,YW,FW);mP(pX,YW,BW);mP(pX,YW,xW);mP(pX,FW,QW);mP(pX,FW,AW);mP(pX,FW,VW);mP(pX,FW,qW);mP(pX,FW,$W);mP(pX,FW,YW);mP(pX,FW,FW);mP(pX,FW,xW);mP(pX,BW,PW);mP(pX,BW,AW);mP(pX,BW,DW);mP(pX,BW,RW);mP(pX,BW,$W);mP(pX,BW,YW);mP(pX,BW,BW);mP(pX,BW,xW);mP(pX,xW,_W);mP(pX,xW,QW);mP(pX,xW,PW);mP(pX,xW,MW);mP(pX,xW,zW);mP(pX,xW,UW);mP(pX,xW,AW);mP(pX,xW,$W);mP(pX,xW,YW);mP(pX,xW,FW);mP(pX,xW,BW);mP(pX,xW,xW)}function BD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;if(t.n[e.k]!=null){return}f=true;t.n[e.k]=0;c=e;v=t.k==(rm(),O5)?H$:E$;do{i=n.b.e[c.k];a=c.d.a.c.length;u=c.g;if(t.k==O5&&i>0||t.k==T5&&i<a-1){t.k==T5?o=ww(Uw(c.d.a,i+1),9):o=ww(Uw(c.d.a,i-1),9);l=t.f[o.k];s=o.g;BD(n,l,t);v=n.e.Ic(v,e,c);t.i[e.k]==e&&(t.i[e.k]=t.i[l.k]);if(t.i[e.k]==t.i[l.k]){g=Sb(n.d,u,s);if(t.k==T5){r=Sa(t.n[e.k]);b=Sa(t.n[l.k])+Sa(t.d[o.k])-o.e.d-g-c.e.a-c.j.b-Sa(t.d[c.k]);if(f){f=false;t.n[e.k]=b<v?b:v}else{t.n[e.k]=r<(b<v?b:v)?r:b<v?b:v}}else{r=Sa(t.n[e.k]);b=Sa(t.n[l.k])+Sa(t.d[o.k])+o.j.b+o.e.a+g+c.e.d-Sa(t.d[c.k]);if(f){f=false;t.n[e.k]=b>v?b:v}else{t.n[e.k]=r>(b>v?b:v)?r:b>v?b:v}}}else{g=n.d.f;d=pE(n,t.i[e.k]);h=pE(n,t.i[l.k]);if(t.k==T5){w=Sa(t.n[e.k])+Sa(t.d[c.k])+c.j.b+c.e.a+g-(Sa(t.n[l.k])+Sa(t.d[o.k])-o.e.d);Rp(d,h,w)}else{w=Sa(t.n[e.k])+Sa(t.d[c.k])-c.e.d-Sa(t.n[l.k])-Sa(t.d[o.k])-o.j.b-o.e.a-g;Rp(d,h,w)}}}else{v=n.e.Ic(v,e,c)}c=t.a[c.k]}while(c!=e);Yi(n.e,e)}function xD(n,e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k;h=false;l=false;if(Rf(ww(MH(r,(mB(),xK)),28))){c=false;u=false;n:for(w=new Xt(r.f);w.a<w.c.c.length;){b=ww($p(w),7);for(g=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[new bt(b),new dt(b)]))))));AI(g);){d=ww(Jk(g),7);if(!ya(Sa(xh(MH(d.f,hK))))){if(b.g==(SD(),TW)){c=true;break n}if(b.g==KW){u=true;break n}}}}h=u&&!c;l=c&&!u}if(!h&&!l&&r.c.c.length!=0){s=0;for(o=new Xt(r.c);o.a<o.c.c.length;){f=ww($p(o),33);s+=f.i.b+f.j.b/2}s/=r.c.c.length;k=s>=r.j.b/2}else{k=!l}if(k){v=ww(MH(r,(gB(),h8)),20);if(!v){a=new De;Ny(r,h8,a)}else if(h){a=v}else{i=ww(MH(r,m9),20);if(!i){a=new De;Ny(r,m9,a)}else{v.Y()<=i.Y()?a=v:a=i}}}else{i=ww(MH(r,(gB(),m9)),20);if(!i){a=new De;Ny(r,m9,a)}else if(l){a=i}else{v=ww(MH(r,h8),20);if(!v){a=new De;Ny(r,h8,a)}else{i.Y()<=v.Y()?a=i:a=v}}}a.ib(n);Ny(n,(gB(),j9),t);if(e.d==t){Sk(e,null);t.b.c.length+t.e.c.length==0&&jk(t,null)}else{Ek(e,null);t.b.c.length+t.e.c.length==0&&jk(t,null)}Av(e.a)}function $D(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;t=new HG(e);t.a||lA(e);o=dY(e);f=new Df;g=new fY;for(d=new Xt(e.b);d.a<d.c.c.length;){w=ww($p(d),9);for(i=mg(EI(w));AI(i);){r=ww(Jk(i),12);if(r.c.f.g==(hO(),t1)||r.d.f.g==t1){s=UM(n,r,o,g);mP(f,$L(s.d),s.a)}}}c=new De;for(p=ww(MH(t.c,(gB(),G9)),18).mb();p.G();){k=ww(p.H(),32);b=g.c[k.e];h=g.b[k.e];u=g.a[k.e];a=null;v=null;switch(k.e){case 4:a=new Ev(n.d.a,b,o.b.a-n.d.a,h-b);v=new Ev(n.d.a,b,u,h-b);Wb(o,new Au(a.d+a.c,a.e));Wb(o,new Au(a.d+a.c,a.e+a.b));break;case 2:a=new Ev(o.a.a,b,n.c.a-o.a.a,h-b);v=new Ev(n.c.a-u,b,u,h-b);Wb(o,new Au(a.d,a.e));Wb(o,new Au(a.d,a.e+a.b));break;case 1:a=new Ev(b,n.d.b,h-b,o.b.b-n.d.b);v=new Ev(b,n.d.b,h-b,u);Wb(o,new Au(a.d,a.e+a.b));Wb(o,new Au(a.d+a.c,a.e+a.b));break;case 3:a=new Ev(b,o.a.b,h-b,n.c.b-o.a.b);v=new Ev(b,n.c.b-u,h-b,u);Wb(o,new Au(a.d,a.e));Wb(o,new Au(a.d+a.c,a.e))}if(a){l=new bi;l.d=k;l.b=a;l.c=v;l.a=qg(ww(LO(f,$L(k)),18));c.c[c.c.length]=l}}gH(t.b,c);t.d=yC(jM(o));return t}function UD(){var n=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F"];n[34]='\\"';n[92]="\\\\";n[173]="\\u00ad";n[1536]="\\u0600";n[1537]="\\u0601";n[1538]="\\u0602";n[1539]="\\u0603";n[1757]="\\u06dd";n[1807]="\\u070f";n[6068]="\\u17b4";n[6069]="\\u17b5";n[8203]="\\u200b";n[8204]="\\u200c";n[8205]="\\u200d";n[8206]="\\u200e";n[8207]="\\u200f";n[8232]="\\u2028";n[8233]="\\u2029";n[8234]="\\u202a";n[8235]="\\u202b";n[8236]="\\u202c";n[8237]="\\u202d";n[8238]="\\u202e";n[8288]="\\u2060";n[8289]="\\u2061";n[8290]="\\u2062";n[8291]="\\u2063";n[8292]="\\u2064";n[8298]="\\u206a";n[8299]="\\u206b";n[8300]="\\u206c";n[8301]="\\u206d";n[8302]="\\u206e";n[8303]="\\u206f";n[65279]="\\ufeff";n[65529]="\\ufff9";n[65530]="\\ufffa";n[65531]="\\ufffb";return n}function FD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;e=0;v=true;y=null;for(r=0;r<n.length;r++){a=n[r];g=a.g;if(g==(hO(),a1)){y=a;v=false}else if(g==c1){if(gl(MH(a,(gB(),F9)),12)){continue}t=ww(MH(a,F9),9);if(y!=t){y=t;v=true}if(!rh(ww(MH(t,(mB(),xK)),28))){continue}h=null;w=null;for(p=new Xt(a.f);p.a<p.c.c.length;){k=ww($p(p),7);k.b.c.length==0?k.e.c.length==0||(w=ww(MH(k,F9),7)):h=ww(MH(k,F9),7)}for(i=r+1;i<n.length;i++){c=n[i];l=c.g;if(l==a1){break}else if(l==c1){if($o(MH(c,F9))!==$o(t)){break}u=null;o=null;for(j=new Xt(c.f);j.a<j.c.c.length;){m=ww($p(j),7);m.b.c.length==0?m.e.c.length==0||(o=ww(MH(m,F9),7)):u=ww(MH(m,F9),7)}if(v){b=false;d=false;if(!!w&&!!u&&w.k<u.k){++e;d=true}if(!!h&&!!o&&h.k>o.k){++e;b=true}if(!!w&&!!o&&w.k>o.k){++e;d=true}if(!!h&&!!u&&h.k<u.k){++e;b=true}b&&d&&h==w&&--e}else{f=false;s=false;if(!!h&&!!o&&h.k<o.k){++e;s=true}if(!!w&&!!u&&w.k>u.k){++e;f=true}if(!!h&&!!u&&h.k<u.k){++e;f=true}if(!!w&&!!o&&w.k>o.k){++e;s=true}f&&s&&u==o&&--e}}}}}return e}function VD(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C;for(p=n.a,m=0,j=p.length;m<j;++m){k=p[m];o=NB;s=NB;for(w=new Xt(k.f);w.a<w.c.c.length;){h=ww($p(w),9);c=!h.d?-1:Oy(h.d.a,h,0);if(c>0){l=ww(Uw(h.d.a,c-1),9);E=Qb(n.b,h,l);g=h.i.b-h.e.d-(l.i.b+l.j.b+l.e.a+E)}else{g=h.i.b-h.e.d}o=g<o?g:o;if(c<h.d.a.c.length-1){l=ww(Uw(h.d.a,c+1),9);E=Qb(n.b,h,l);v=l.i.b-l.e.d-(h.i.b+h.j.b+h.e.a+E)}else{v=2*h.i.b}s=v<s?v:s}f=NB;a=false;i=ww(Uw(k.f,0),9);for(C=new Xt(i.f);C.a<C.c.c.length;){H=ww($p(C),7);d=i.i.b+H.i.b+H.a.b;for(r=new Xt(H.b);r.a<r.c.c.length;){t=ww($p(r),12);y=t.c;e=y.f.i.b+y.i.b+y.a.b-d;if((e<=0?0-e:e)<(f<=0?0-f:f)&&(e<=0?0-e:e)<(e<0?o:s)){f=e;a=true}}}u=ww(Uw(k.f,k.f.c.length-1),9);for(S=new Xt(u.f);S.a<S.c.c.length;){y=ww($p(S),7);d=u.i.b+y.i.b+y.a.b;for(r=new Xt(y.e);r.a<r.c.c.length;){t=ww($p(r),12);H=t.d;e=H.f.i.b+H.i.b+H.a.b-d;if((e<=0?0-e:e)<(f<=0?0-f:f)&&(e<=0?0-e:e)<(e<0?o:s)){f=e;a=true}}}if(a&&f!=0){for(b=new Xt(k.f);b.a<b.c.c.length;){h=ww($p(b),9);h.i.b+=f}}}}function zD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C;l=EA(dl(n,(SD(),_W)),e);w=TG(dl(n,MW),e);m=TG(dl(n,zW),e);E=PG(dl(n,QW),e);h=PG(dl(n,PW),e);k=TG(dl(n,VW),e);d=TG(dl(n,DW),e);y=TG(dl(n,qW),e);j=TG(dl(n,RW),e);H=PG(dl(n,AW),e);v=TG(dl(n,UW),e);p=TG(dl(n,$W),e);S=TG(dl(n,YW),e);C=PG(dl(n,FW),e);b=PG(dl(n,BW),e);g=TG(dl(n,xW),e);t=aS(UH(rc(Htn,1),DB,26,12,[k.a,E.a,y.a,C.a]));r=aS(UH(rc(Htn,1),DB,26,12,[w.a,l.a,m.a,g.a]));i=v.a;a=aS(UH(rc(Htn,1),DB,26,12,[d.a,h.a,j.a,b.a]));o=aS(UH(rc(Htn,1),DB,26,12,[k.b,w.b,d.b,p.b]));f=aS(UH(rc(Htn,1),DB,26,12,[E.b,l.b,h.b,g.b]));s=H.b;u=aS(UH(rc(Htn,1),DB,26,12,[y.b,m.b,j.b,S.b]));Yj(dl(n,_W),t+i,o+s);Yj(dl(n,xW),t+i,o+s);Yj(dl(n,MW),t+i,0);Yj(dl(n,zW),t+i,o+s+f);Yj(dl(n,QW),0,o+s);Yj(dl(n,PW),t+i+r,o+s);Yj(dl(n,DW),t+i+r,0);Yj(dl(n,qW),0,o+s+f);Yj(dl(n,RW),t+i+r,o+s+f);Yj(dl(n,AW),0,o);Yj(dl(n,UW),t,0);Yj(dl(n,YW),0,o+s+f);Yj(dl(n,BW),t+i+r,0);c=new La;c.a=aS(UH(rc(Htn,1),DB,26,12,[t+r+i+a,H.a,p.a,S.a]));c.b=aS(UH(rc(Htn,1),DB,26,12,[o+f+s+u,v.b,C.b,b.b]));return c}function qD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d;r=new Xr;o=null;w=n.c;b=w.f.g;if(b!=(hO(),a1)&&b!=c1){throw new Ca("The target node of the edge must be a normal node or a northSouthPort.")}if(b==c1){h=ww(MH(w,(gB(),F9)),7);o=new Au(WE(UH(rc(iQ,1),o$,10,0,[h.f.i,h.i,h.a])).a,WE(UH(rc(iQ,1),o$,10,0,[w.f.i,w.i,w.a])).b);w=h}Fu(r,WE(UH(rc(iQ,1),o$,10,0,[w.f.i,w.i,w.a])));c=wc(5,wL(w.f,w.g));l=new rg(hN(w.g));l.a*=c;l.b*=c;Xb(r,Fh(l,WE(UH(rc(iQ,1),o$,10,0,[w.f.i,w.i,w.a]))));!!o&&xm(r,o,r.c.b,r.c);a=n;f=n;u=null;t=false;while(a){i=a.a;if(i.b!=0){if(t){Xb(r,fl(Fh(u,(Ns(i.b!=0),ww(i.a.a.c,10))),.5));t=false}else{t=true}u=vs((Ns(i.b!=0),ww(i.c.b.c,10)));wE(r,i);Av(i)}f=a;a=ww(Uo(_k(e.d,a)),12)}d=f.d;if(d.f.g==c1){h=ww(MH(d,(gB(),F9)),7);Xb(r,new Au(WE(UH(rc(iQ,1),o$,10,0,[h.f.i,h.i,h.a])).a,WE(UH(rc(iQ,1),o$,10,0,[d.f.i,d.i,d.a])).b));d=h}c=wc(5,wL(d.f,d.g));l=new rg(hN(d.g));fl(l,c);Xb(r,Fh(l,WE(UH(rc(iQ,1),o$,10,0,[d.f.i,d.i,d.a]))));Fu(r,WE(UH(rc(iQ,1),o$,10,0,[d.f.i,d.i,d.a])));s=new l_(r);wE(n.a,SL(s))}function QD(n){var e,t,r,i,a,c,u,f,o,s,l,b,w,d;if($o(MH(n.c,(mB(),xK)))===$o((_N(),mW))||$o(MH(n.c,xK))===$o(pW)){for(s=new Xt(n.c.f);s.a<s.c.c.length;){o=ww($p(s),7);if(o.g==(SD(),TW)||o.g==KW){return false}}}for(r=mg(EI(n.c));AI(r);){t=ww(Jk(r),12);if(t.c.f==t.d.f){return false}}if(Rf(ww(MH(n.c,xK),28))){w=new De;for(f=hT(n.c,(SD(),JW)).mb();f.G();){c=ww(f.H(),7);nw(w,ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[c.b,c.e]))))))}d=(ld(w),new Ss(w));w=new De;for(u=hT(n.c,OW).mb();u.G();){c=ww(u.H(),7);nw(w,ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[c.b,c.e]))))))}e=(ld(w),new Ss(w))}else{d=SI(n.c);e=EI(n.c)}a=!nm(EI(n.c));i=!nm(SI(n.c));if(!a&&!i){return false}if(!a){n.e=1;return true}if(!i){n.e=0;return true}if(hj((Ks(),new Ps(Ms(vw(d.a,new h)))))==1){l=(ld(d),ww(bN(new Ps(Ms(vw(d.a,new h)))),12)).c.f;if(l.g==(hO(),i1)&&ww(MH(l,(gB(),B9)),7).f!=n.c){n.e=2;return true}}if(hj(new Ps(Ms(vw(e.a,new h))))==1){b=(ld(e),ww(bN(new Ps(Ms(vw(e.a,new h)))),12)).d.f;if(b.g==(hO(),i1)&&ww(MH(b,(gB(),x9)),7).f!=n.c){n.e=3;return true}}return false}function KD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;r=new De;i=NB;a=NB;c=NB;if(t){i=n.e.a;for(d=new Xt(e.f);d.a<d.c.c.length;){w=ww($p(d),7);for(f=new Xt(w.e);f.a<f.c.c.length;){u=ww($p(f),12);if(u.a.b!=0){s=ww(Kl(u.a),10);if(s.a<i){a=i-s.a;c=NB;r.c=Vj(WU,WB,1,0,4,1);i=s.a}if(s.a<=i){r.c[r.c.length]=u;u.a.b>1&&(c=vc(c,fu(ww(rG(u.a,1),10).b-s.b)))}}}}}else{for(d=new Xt(e.f);d.a<d.c.c.length;){w=ww($p(d),7);for(f=new Xt(w.b);f.a<f.c.c.length;){u=ww($p(f),12);if(u.a.b!=0){h=ww(Wl(u.a),10);if(h.a>i){a=h.a-i;c=NB;r.c=Vj(WU,WB,1,0,4,1);i=h.a}if(h.a>=i){r.c[r.c.length]=u;u.a.b>1&&(c=vc(c,fu(ww(rG(u.a,u.a.b-2),10).b-h.b)))}}}}}if(r.c.length!=0&&a>e.j.a/2&&c>e.j.b/2){b=new qN;jk(b,e);ib(b,(SD(),TW));b.i.a=e.j.a/2;v=new qN;jk(v,e);ib(v,KW);v.i.a=e.j.a/2;v.i.b=e.j.b;for(f=new Xt(r);f.a<f.c.c.length;){u=ww($p(f),12);if(t){o=ww(xb(u.a),10);g=u.a.b==0?sp(u.d):ww(Kl(u.a),10);g.b>=o.b?Ek(u,v):Ek(u,b)}else{o=ww($b(u.a),10);g=u.a.b==0?sp(u.c):ww(Wl(u.a),10);g.b>=o.b?Sk(u,v):Sk(u,b)}l=ww(MH(u,(mB(),EK)),44);!!l&&cL(l,o,true)}e.i.a=i-e.j.a/2}}function WD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;v=new De;k=new De;p=new De;for(a=new Xt(e);a.a<a.c.c.length;){i=ww($p(a),75);i.k>50?(v.c[v.c.length]=i,true):i.k>0?(k.c[k.c.length]=i,true):(p.c[p.c.length]=i,true)}if(k.c.length==1&&v.c.length==0){gH(v,k);k.c=Vj(WU,WB,1,0,4,1)}v.c.length!=0&&ah(es(n.a),(YD(),I6))&&ah(es(n.a),(YD(),G6))?PI(n,v):gH(k,v);k.c.length==0||RI(n,k);if(p.c.length!=0){t=ts(n.a);if(t.c!=0){s=new Xt(p);f=(ld(t),mh(new Es(t).a));while(s.a<s.c.c.length){i=ww($p(s),75);while(s.a<s.c.c.length&&i.a.a.Y()<2){i=ww($p(s),75)}if(i.a.a.Y()>1){d=ww(wS(f),60);rT(i,d,true);Kd(s);vk(n.a,d)}}}h=p.c.length;r=eA(n);b=new De;c=h/ns(n.a).c|0;for(u=0;u<c;u++){gH(b,ns(n.a))}w=h%ns(n.a).c;if(w>3){gH(b,(YD(),YD(),j6));w-=4}switch(w){case 3:nw(b,VR(r));case 2:g=FR(VR(r));do{g=FR(g)}while(!ah(es(n.a),g));b.c[b.c.length]=g;g=zR(VR(r));do{g=zR(g)}while(!ah(es(n.a),g));b.c[b.c.length]=g;break;case 1:nw(b,VR(r))}l=new Xt(b);o=new Xt(p);while(l.a<l.c.c.length&&o.a<o.c.c.length){rT(ww($p(o),75),ww($p(l),60),true)}}}function JD(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;s=e.c.c.length;n.a=Vj(n1,SB,51,s,0,2);n.b=Vj(n1,SB,51,s,0,2);n.k=Vj(n1,SB,51,s,0,2);f=Vj(ytn,Lx,26,s,12,1);c=Vj(Stn,eU,26,s,13,1);n.c=Vj(Stn,eU,26,s,13,1);n.d=Vj(Stn,eU,26,s,13,1);v=0;j=0;h=new Dp(e.c,0);while(h.b<h.d.Y()){o=(Ns(h.b<h.d.Y()),ww(h.d.sb(h.c=h.b++),16));l=h.b-1;b=o.a.c.length;n.a[l]=Vj(n1,v$,9,b,0,1);n.k[l]=Vj(n1,v$,9,b,0,1);n.b[l]=Vj(n1,v$,9,b,0,1);f[l]=0;c[l]=false;k=new Dp(o.a,0);while(k.b<k.d.Y()){g=(Ns(k.b<k.d.Y()),ww(k.d.sb(k.c=k.b++),9));n.b[l][k.b-1]=g;g.k=v++;w=ww(MH(g,(gB(),_9)),9);!!w&&(HA(n.g,w,g,null),true);for(m=new Xt(g.f);m.a<m.c.c.length;){p=ww($p(m),7);p.k=j++;for(a=new Xt(p.e);a.a<a.c.c.length;){i=ww($p(a),12);i.d.f.d==o&&++f[l]}p.g==(SD(),OW)?p.e.c.length+p.b.c.length>1&&(n.c[l]=true):p.g==JW&&p.e.c.length+p.b.c.length>1&&(n.d[l]=true)}if(g.g==(hO(),c1)){++f[l];c[l]=true}}}t=true;d=true;for(u=0;u<n.d.length-1;u++){r=n.c[u]||n.d[u+1];t=t&r;d=d&!r}n.j=Vj(Ctn,J$,26,j,12,1);y=Vj(ytn,Lx,26,j,12,1);if(!t){n.i=new xw(f,c,y);n.f=n.i}if(!d){n.e=new $w(f,c,y);n.f=n.e}}function ZD(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E;n.d=new Au(E$,E$);n.c=new Au(H$,H$);for(h=e.mb();h.G();){s=ww(h.H(),55);for(p=new Xt(s.b);p.a<p.c.c.length;){k=ww($p(p),9);n.d.a=vc(n.d.a,k.i.a-k.e.b);n.d.b=vc(n.d.b,k.i.b-k.e.d);n.c.a=wc(n.c.a,k.i.a+k.j.a+k.e.c);n.c.b=wc(n.c.b,k.i.b+k.j.b+k.e.a)}}u=new qr;for(l=e.mb();l.G();){s=ww(l.H(),55);r=$D(n,s);nw(u.a,r);r.a=r.a|!ww(MH(r.c,(gB(),G9)),18).V()}n.b=(IH(),E=new I,E.f=new eH(t),E.b=HM(E.f,u),E);mM((w=n.b,new ob,w));n.e=new La;n.a=n.b.f.e;for(c=new Xt(u.a);c.a<c.c.c.length;){i=ww($p(c),347);m=Gv(n.b,i);iA(i.c,m.a,m.b);for(g=new Xt(i.c.b);g.a<g.c.c.length;){d=ww($p(g),9);if(d.g==(hO(),t1)){v=hP(n,d.i,ww(MH(d,(gB(),O9)),32));Fh(So(d.i),v)}}}for(a=new Xt(u.a);a.a<a.c.c.length;){i=ww($p(a),347);for(o=new Xt(jI(i));o.a<o.c.c.length;){f=ww($p(o),12);S=new Bh(f.a);Zl(S,0,sp(f.c));Xb(S,sp(f.d));b=null;for(y=OG(S,0);y.b!=y.d.c;){j=ww(Tm(y),10);if(!b){b=j;continue}if(Iy(b.a,j.a)){n.e.a=vc(n.e.a,b.a);n.a.a=wc(n.a.a,b.a)}else if(Iy(b.b,j.b)){n.e.b=vc(n.e.b,b.b);n.a.b=wc(n.a.b,b.b)}b=j}}}Ql(n.e);Fh(n.a,n.e)}function XD(n,e,t,r,i){var a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I;d=new Fy(e.b);m=new Fy(e.b);h=new Fy(e.b);E=new Fy(e.b);g=new Fy(e.b);for(S=OG(e,0);S.b!=S.d.c;){j=ww(Tm(S),7);for(u=new Xt(j.e);u.a<u.c.c.length;){a=ww($p(u),12);if(a.c.f==a.d.f){if(j.g==a.d.g){E.c[E.c.length]=a;continue}else if(j.g==(SD(),TW)&&a.d.g==KW){g.c[g.c.length]=a;continue}}}}for(f=new Xt(g);f.a<f.c.c.length;){a=ww($p(f),12);IA(n,a,t,r,(SD(),OW))}for(c=new Xt(E);c.a<c.c.c.length;){a=ww($p(c),12);H=new CG(n);wr(H,(hO(),c1));Ny(H,(mB(),xK),(_N(),pW));Ny(H,(gB(),F9),a);C=new qN;Ny(C,F9,a.d);ib(C,(SD(),JW));jk(C,H);I=new qN;Ny(I,F9,a.c);ib(I,OW);jk(I,H);Ny(a.c,J9,H);Ny(a.d,J9,H);Ek(a,null);Sk(a,null);t.c[t.c.length]=H;Ny(H,E9,HI(2))}for(y=OG(e,0);y.b!=y.d.c;){j=ww(Tm(y),7);o=j.b.c.length>0;v=j.e.c.length>0;o&&v?(h.c[h.c.length]=j,true):o?(d.c[d.c.length]=j,true):v&&(m.c[m.c.length]=j,true)}for(w=new Xt(d);w.a<w.c.c.length;){b=ww($p(w),7);nw(i,J_(n,b,null,t))}for(p=new Xt(m);p.a<p.c.c.length;){k=ww($p(p),7);nw(i,J_(n,null,k,t))}for(l=new Xt(h);l.a<l.c.c.length;){s=ww($p(l),7);nw(i,J_(n,s,s,t))}}function nB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S;m=new xo(e.d);f=new De;for(p=new Xt(e.b);p.a<p.c.c.length;){v=ww($p(p),9);b=ww(Vg(n.j,v),69);if(b){kY(n,v,b,m);for(y=new Xt(v.f);y.a<y.c.c.length;){j=ww($p(y),7);w=ww(Vg(n.n,j),69);if(w){kY(n,j,w,nZ);sa(w,(mB(),FK),new hd(Hh(j.g)))}if($o(MH(v,(mB(),UK)))!==$o((IS(),CW))){for(g=new Xt(j.c);g.a<g.c.c.length;){d=ww($p(g),33);h=ww(Vg(n.f,d),69);kY(n,d,h,nZ)}}}if(ww(MH(v,(mB(),OK)),86).Y()!=0){for(g=new Xt(v.c);g.a<g.c.c.length;){d=ww($p(g),33);h=ww(Vg(n.f,d),69);kY(n,d,h,nZ)}}for(u=mg(EI(v));AI(u);){a=ww(Jk(u),12);bI(a.d.f,v)||(f.c[f.c.length]=a,true)}}}S=ww(MH(e,(gB(),K9)),9);if(S){for(u=mg(EI(S));AI(u);){a=ww(Jk(u),12);bI(a.d.f,S)&&(f.c[f.c.length]=a,true)}}for(c=new Xt(f);c.a<c.c.c.length;){a=ww($p(c),12);l=ww(Vg(n.b,a),69);iD(n,a,l,m);for(g=new Xt(a.b);g.a<g.c.c.length;){d=ww($p(g),33);h=ww(Vg(n.f,d),69);kY(n,d,h,m)}}t=(r=ww(MH(e,p9),15).a,new Au(e.e.a+e.a.b+e.a.c+2*r,e.e.b+e.a.d+e.a.a+2*r));s=ww(MH(e,K9),9);if(s){s.j.a=t.a;s.j.b=t.b}o=ww(MH(e,XJ),69);Ej(n,o,b$,t.a);Ej(n,o,w$,t.b);for(k=new Xt(e.b);k.a<k.c.c.length;){v=ww($p(k),9);i=ww(MH(v,$9),55);!!i&&nB(n,i)}}function eB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G;I=new Ga;E=new Ga;v=-1;for(f=new Xt(n);f.a<f.c.c.length;){c=ww($p(f),77);c.i=v--;l=0;j=0;for(a=new Xt(c.j);a.a<a.c.c.length;){r=ww($p(a),117);j+=r.c}for(i=new Xt(c.d);i.a<i.c.c.length;){r=ww($p(i),117);l+=r.c}c.e=l;c.k=j;j==0?(xm(E,c,E.c.b,E.c),true):l==0&&(xm(I,c,I.c.b,I.c),true)}G=new vd((qs(),n));h=n.c.length;g=h+1;k=h-1;w=new De;while(G.a.Y()!=0){while(E.b!=0){S=(Ns(E.b!=0),ww(RS(E,E.a.a),77));G.a.eb(S)!=null;S.i=k--;PR(S,I,E)}while(I.b!=0){H=(Ns(I.b!=0),ww(RS(I,I.a.a),77));G.a.eb(H)!=null;H.i=g++;PR(H,I,E)}d=AB;for(o=(p=new zt(G.a).a.bb().mb(),new qt(p));o.a.G();){c=(s=ww(o.a.H(),21),ww(s.yb(),77));m=c.k-c.e;if(m>=d){if(m>d){w.c=Vj(WU,WB,1,0,4,1);d=m}w.c[w.c.length]=c}}if(w.c.length!=0){b=ww(Uw(w,rN(e,w.c.length)),77);G.a.eb(b)!=null;b.i=g++;PR(b,I,E);w.c=Vj(WU,WB,1,0,4,1)}}y=n.c.length+1;for(u=new Xt(n);u.a<u.c.c.length;){c=ww($p(u),77);c.i<h&&(c.i+=y)}for(C=new Xt(n);C.a<C.c.c.length;){H=ww($p(C),77);t=new Dp(H.j,0);while(t.b<t.d.Y()){r=(Ns(t.b<t.d.Y()),ww(t.d.sb(t.c=t.b++),117));L=r.b;if(H.i>L.i){rv(t);gy(L.d,r);if(r.c>0){r.a=L;nw(L.j,r);r.b=H;nw(H.d,r)}}}}}function tB(n){var e,t,r;for(r=new pd(new fr(n.c).a);kl(r.a);){t=(r.b=lj(r.a),new Oo(r.c,r.b));e=ww(t.b.b[t.a.e],62);switch(ww(t.a,67).e){case 0:e.d=0;e.e=-(e.b+n.d);break;case 1:e.d=(n.e.e.j.a-e.c)/2;e.e=-(e.b+n.d);break;case 2:e.d=n.e.e.j.a-e.c;e.e=-(e.b+n.d);break;case 3:e.d=0;e.e=n.e.e.j.b+n.d;break;case 4:e.d=(n.e.e.j.a-e.c)/2;e.e=n.e.e.j.b+n.d;break;case 5:e.d=n.e.e.j.a-e.c;e.e=n.e.e.j.b+n.d;break;case 6:e.d=-(e.c+n.d);e.e=0;break;case 7:e.d=-(e.c+n.d);e.e=(n.e.e.j.b-e.b)/2;break;case 8:e.d=-(e.c+n.d);e.e=n.e.e.j.b-e.b;break;case 9:e.d=n.e.e.j.a+n.d;e.e=0;break;case 10:e.d=n.e.e.j.a+n.d;e.e=(n.e.e.j.b-e.b)/2;break;case 11:e.d=n.e.e.j.a+n.d;e.e=n.e.e.j.b-e.b;break;case 12:e.d=n.q.b+n.d;e.e=n.q.d+n.d;break;case 13:e.d=(n.e.e.j.a-e.c)/2;e.e=n.q.d+n.d;break;case 14:e.d=n.e.e.j.a-n.q.c-e.c-n.d;e.e=n.q.d+n.d;break;case 15:e.d=n.q.b+n.d;e.e=(n.e.e.j.b-e.b)/2;break;case 16:e.d=(n.e.e.j.a-e.c)/2;e.e=(n.e.e.j.b-e.b)/2;break;case 17:e.d=n.e.e.j.a-n.q.c-e.c-n.d;e.e=(n.e.e.j.b-e.b)/2;break;case 18:e.d=n.q.b+n.d;e.e=n.e.e.j.b-n.q.a-e.b-n.d;break;case 19:e.d=(n.e.e.j.a-e.c)/2;e.e=n.e.e.j.b-n.q.a-e.b-n.d;break;case 20:e.d=n.e.e.j.a-n.q.c-e.c-n.d;e.e=n.e.e.j.b-n.q.a-e.b-n.d}}}function rB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N;I=new Ga;E=new Ga;w=-1;for(k=new Xt(n);k.a<k.c.c.length;){g=ww($p(k),80);g.d=w--;f=0;j=0;for(a=new Xt(g.e);a.a<a.c.c.length;){r=ww($p(a),118);j+=r.c}for(i=new Xt(g.b);i.a<i.c.c.length;){r=ww($p(i),118);f+=r.c}g.c=f;g.f=j;j==0?(xm(E,g,E.c.b,E.c),true):f==0&&(xm(I,g,I.c.b,I.c),true)}G=(N=new ka,mH(N,n),N);o=n.c.length;d=o-1;b=o+1;l=new De;while(G.a.c!=0){while(E.b!=0){S=(Ns(E.b!=0),ww(RS(E,E.a.a),80));bv(G.a,S)!=null;S.d=d--;TR(S,I,E)}while(I.b!=0){H=(Ns(I.b!=0),ww(RS(I,I.a.a),80));bv(G.a,H)!=null;H.d=b++;TR(H,I,E)}h=AB;for(p=(u=new Pb(new hh(new Jt(G.a).a).b),new Zt(u));Ef(p.a.a);){g=(c=Ih(p.a),ww(c.yb(),80));m=g.f-g.c;if(m>=h){if(m>h){l.c=Vj(WU,WB,1,0,4,1);h=m}l.c[l.c.length]=g}}if(l.c.length!=0){s=ww(Uw(l,rN(e,l.c.length)),80);bv(G.a,s)!=null;s.d=b++;TR(s,I,E);l.c=Vj(WU,WB,1,0,4,1)}}y=n.c.length+1;for(v=new Xt(n);v.a<v.c.c.length;){g=ww($p(v),80);g.d<o&&(g.d+=y)}for(C=new Xt(n);C.a<C.c.c.length;){H=ww($p(C),80);t=new Dp(H.e,0);while(t.b<t.d.Y()){r=(Ns(t.b<t.d.Y()),ww(t.d.sb(t.c=t.b++),118));L=r.b;if(H.d>L.d){rv(t);gy(L.b,r);if(r.c>0){r.a=L;nw(L.e,r);r.b=H;nw(H.b,r)}}}}}function iB(n){switch(n.e){case 14:return new Q;case 37:return new W;case 8:return new da;case 30:return new ga;case 38:return new Z;case 3:return new X;case 47:case 1:return new pt((WH(),q1));case 4:return new nn;case 49:return new en;case 23:return new ee;case 13:return new tn;case 34:return new an;case 40:return new cn;case 35:return new on;case 44:return new zs;case 28:return new sn;case 39:return new ln;case 27:return new hn;case 6:return new bn;case 31:return new vn;case 9:return new Le;case 43:return new pn;case 17:return new mn;case 18:return new Sn;case 29:return new Ge;case 11:return new On;case 12:return new Hn;case 36:return new Cn;case 46:case 0:return new pt((WH(),z1));case 41:return new Ln;case 15:return new Gn;case 33:return new Nn;case 42:return new Pn;case 22:return new Rn;case 19:return new gn;case 10:return new In;case 7:return new An;case 24:return new _n;case 21:return new Mn;case 16:return new Bn;case 45:return new xn;case 26:return new $n;case 20:return new Un;case 25:return new Fn;case 5:return new Jn;case 32:return new Zn;case 48:case 2:return new pt((WH(),V1));default:throw new Ca("No implementation is available for the layout processor "+(n.d!=null?n.d:""+n.e))}}function aB(n){var e,t,r,i,a,c,u;t=n.e.e.j;n.b?e=ww(iL(n.e,(mB(),aK)),65):e=new Rh(n.k,n.k,n.k,n.k);i=t.a;(n.b||n.g[1]!=(gL(),wW))&&(i-=e.b+e.c);a=t.a;(n.b||n.g[3]!=(gL(),wW))&&(a-=e.b+e.c);c=t.b;(n.b||n.g[4]!=(gL(),wW))&&(c-=e.d+e.a);r=t.b;(n.b||n.g[2]!=(gL(),wW))&&(r-=e.d+e.a);if(ac(n,(SD(),TW))==(gL(),wW)){n.j[1]=(i-fc(n,TW))/cc(n,TW);n.f=n.b?e.b+(oc(n,TW)==1?n.j[1]:0):n.j[1]}else{n.j[1]=n.k;u=fc(n,TW)+n.j[1]*(oc(n,TW)-1);switch(ac(n,TW).e){case 2:n.f=e.b;break;case 3:n.f=e.b+(i-u)/2;break;case 4:n.f=t.a-u-e.c}}if(ac(n,KW)==wW){n.j[3]=(a-fc(n,KW))/cc(n,KW);n.r=t.a-(n.b?e.c+(oc(n,KW)==1?n.j[3]:0):n.j[3])}else{n.j[3]=n.k;u=fc(n,KW)+n.j[3]*(oc(n,KW)-1);switch(ac(n,KW).e){case 2:n.r=u+e.b;break;case 3:n.r=t.a-(a-u)/2-e.c;break;case 4:n.r=t.a-e.c}}if(ac(n,JW)==wW){n.j[4]=(c-fc(n,JW))/cc(n,JW);n.s=t.b-(n.b?e.a+(oc(n,JW)==1?n.j[4]:0):n.j[4])}else{n.j[4]=n.k;u=fc(n,JW)+n.j[4]*(oc(n,JW)-1);switch(ac(n,JW).e){case 2:n.s=u+e.d;break;case 3:n.s=t.b-(c-u)/2-e.a;break;case 4:n.s=t.b-e.a}}if(ac(n,OW)==wW){n.j[2]=(r-fc(n,OW))/cc(n,OW);n.a=n.b?e.d+(oc(n,OW)==1?n.j[2]:0):n.j[2]}else{n.j[2]=n.k;u=fc(n,OW)+n.j[2]*(oc(n,OW)-1);switch(ac(n,OW).e){case 2:n.a=e.d;break;case 3:n.a=e.d+(r-u)/2;break;case 4:n.a=t.b-u-e.a}}}function cB(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N;L=0;c=0;l=e[0].d;E=t[0].d;for(w=0,g=t.length;w<g;++w){h=t[w];if(rh(ww(MH(h,(mB(),xK)),28))){k=0;for(j=new Xt(h.f);j.a<j.c.c.length;){m=ww($p(j),7);if(m.g==(SD(),TW)){for(a=new Xt(m.b);a.a<a.c.c.length;){i=ww($p(a),12);if(i.c.f.d==l){++k;break}}}else{break}}p=0;S=new Dp(h.f,h.f.c.length);while(S.b>0){m=(Ns(S.b>0),ww(S.a.sb(S.c=--S.b),7));y=0;for(a=new Xt(m.b);a.a<a.c.c.length;){i=ww($p(a),12);i.c.f.d==l&&++y}if(y>0){if(m.g==(SD(),TW)){n.a[m.k]=L;++L}else{n.a[m.k]=L+k+p;++p}c+=y}}L+=p}else{v=0;for(j=new Xt(h.f);j.a<j.c.c.length;){m=ww($p(j),7);for(a=new Xt(m.b);a.a<a.c.c.length;){i=ww($p(a),12);i.c.f.d==l&&++v}n.a[m.k]=L}if(v>0){++L;c+=v}}}H=Vj(ytn,Lx,26,c,12,1);f=0;for(b=0,d=e.length;b<d;++b){h=e[b];if(rh(ww(MH(h,(mB(),xK)),28))){for(j=new Xt(h.f);j.a<j.c.c.length;){m=ww($p(j),7);C=f;for(a=new Xt(m.e);a.a<a.c.c.length;){i=ww($p(a),12);I=i.d;I.f.d==E&&cH(H,C,f++,n.a[I.k])}}}else{C=f;for(j=new Xt(h.f);j.a<j.c.c.length;){m=ww($p(j),7);for(a=new Xt(m.e);a.a<a.c.c.length;){i=ww($p(a),12);I=i.d;I.f.d==E&&cH(H,C,f++,n.a[I.k])}}}}u=1;while(u<L){u*=2}N=2*u-1;u-=1;G=Vj(ytn,Lx,26,N,12,1);r=0;for(s=0;s<c;s++){o=H[s]+u;++G[o];while(o>0){o%2>0&&(r+=G[o+1]);o=(o-1)/2|0;++G[o]}}return r}function uB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O;GL(e,"Compound graph postprocessor",1);t=ya(Sa(xh(MH(n,(vB(),E8)))));u=ww(MH(n,(gB(),H9)),144);l=new va;for(y=u.W().mb();y.G();){j=ww(y.H(),12);c=new Rb(u.U(j));Sm(c,new st(n));I=cE(($j(0,c.c.length),ww(c.c[0],114)));G=aE(ww(Uw(c,c.c.length-1),114));Av(j.a);H=I.f;bI(G.f,H)?E=ww(MH(H,$9),55):E=$g(H);w=ww(MH(j,(mB(),EK)),44);if(id(c,RX)){if(!w){w=new Xr;Ny(j,EK,w)}else{Av(w)}}else!!w&&Ny(j,EK,null);g=null;for(a=new Xt(c);a.a<a.c.c.length;){i=ww($p(a),114);m=new La;xP(m,i.a,E);v=i.b;r=new Xr;iC(r,0,v.a);ME(r,m);C=new xo(sp(v.c));L=new xo(sp(v.d));C.a+=m.a;C.b+=m.b;L.a+=m.a;L.b+=m.b;if(g){r.b==0?p=L:p=(Ns(r.b!=0),ww(r.a.a.c,10));N=fu(g.a-p.a)>Y$;O=fu(g.b-p.b)>Y$;(!t&&N&&O||t&&(N||O))&&Xb(j.a,C)}wE(j.a,r);r.b==0?g=C:g=(Ns(r.b!=0),ww(r.c.b.c,10));k=ww(MH(v,EK),44);if(k){b=new Xr;iC(b,0,k);ME(b,m);wE(w,b)}if(aE(i)==G){if($g(G.f)!=i.a){m=new La;xP(m,$g(G.f),E)}Ny(j,l8,m)}d=new Dp(v.b,0);while(d.b<d.d.Y()){f=(Ns(d.b<d.d.Y()),ww(d.d.sb(d.c=d.b++),33));if($o(MH(f,q9))!==$o(j)){continue}xP(f.i,$g(v.c.f),E);rv(d);nw(j.b,f)}l.a.db(v,l)}Ek(j,I);Sk(j,G)}for(s=(S=new zt(l.a).a.bb().mb(),new qt(S));s.a.G();){o=(h=ww(s.a.H(),21),ww(h.yb(),12));Ek(o,null);Sk(o,null)}kI(e)}function fB(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N;H=ww(MH(n,(mB(),xK)),28);if(!(H!=(_N(),yW)&&H!=SW)){return}d=n.c;w=d.c.length;l=new Fy((hS(w+2,Ex),xy(qC(qC(5,w+2),(w+2)/10|0))));g=new Fy((hS(w+2,Ex),xy(qC(qC(5,w+2),(w+2)/10|0))));nw(l,new Lr);nw(l,new Lr);nw(g,new De);nw(g,new De);S=new va;for(e=0;e<w;e++){t=($j(e,d.c.length),ww(d.c[e],16));C=($j(e,l.c.length),ww(l.c[e],57));v=(Ll(),new Lr);l.c[l.c.length]=v;L=($j(e,g.c.length),ww(g.c[e],20));p=new De;g.c[g.c.length]=p;for(i=new Xt(t.a);i.a<i.c.c.length;){r=ww($p(i),9);for(o=mg(SI(r));AI(o);){u=ww(Jk(o),12);G=u.c.f;if(!RC(G)){continue}S.a.db(G,S);I=ww(C.cb(MH(G,(gB(),F9))),9);if(!I){I=yT(n,G);C.db(MH(G,F9),I);L.ib(I)}Ek(u,ww(Uw(I.f,1),7))}for(f=mg(EI(r));AI(f);){u=ww(Jk(f),12);N=u.d.f;if(!RC(N)){continue}S.a.db(N,S);k=ww(Vg(v,MH(N,(gB(),F9))),9);if(!k){k=yT(n,N);mv(v,MH(N,F9),k);p.c[p.c.length]=k}Sk(u,ww(Uw(k.f,0),7))}}}for(h=0;h<g.c.length;h++){m=($j(h,g.c.length),ww(g.c[h],20));if(m.V()){continue}if(h==0){b=new cg(n);xj(0,d.c.length);mo(d.c,0,b)}else if(h==l.c.length-1){b=new cg(n);d.c[d.c.length]=b}else{b=($j(h-1,d.c.length),ww(d.c[h-1],16))}for(c=m.mb();c.G();){a=ww(c.H(),9);yk(a,b)}}for(y=(E=new zt(S.a).a.bb().mb(),new qt(E));y.a.G();){j=(s=ww(y.a.H(),21),ww(s.yb(),9));yk(j,null)}}function oB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T;N=new De;for(w=new Xt(e.c);w.a<w.c.c.length;){h=ww($p(w),16);for(j=new Xt(h.a);j.a<j.c.c.length;){m=ww($p(j),9);m.k=-1;l=AB;E=AB;for(C=new Xt(m.f);C.a<C.c.c.length;){H=ww($p(C),7);for(i=new Xt(H.b);i.a<i.c.c.length;){t=ww($p(i),12);I=ww(MH(t,(gB(),n8)),24).a;l=l>I?l:I}for(r=new Xt(H.e);r.a<r.c.c.length;){t=ww($p(r),12);I=ww(MH(t,(gB(),n8)),24).a;E=E>I?E:I}}Ny(m,h5,HI(l));Ny(m,b5,HI(E))}}v=0;for(b=new Xt(e.c);b.a<b.c.c.length;){h=ww($p(b),16);for(j=new Xt(h.a);j.a<j.c.c.length;){m=ww($p(j),9);if(m.k<0){G=new li;G.b=v++;$_(n,m,G);N.c[N.c.length]=G}}}S=Ml(N.c.length);s=Ml(N.c.length);for(c=0;c<N.c.length;c++){nw(S,new De);nw(s,HI(0))}uD(e,N,S,s);O=ww(KG(N,Vj(d5,vU,111,N.c.length,0,1)),625);y=ww(KG(S,Vj(bV,{3:1,5:1,6:1,672:1},20,S.c.length,0,1)),672);o=Vj(ytn,Lx,26,s.c.length,12,1);for(u=0;u<o.length;u++){o[u]=($j(u,s.c.length),ww(s.c[u],24)).a}k=0;p=new De;for(f=0;f<O.length;f++){o[f]==0&&nw(p,O[f])}g=Vj(ytn,Lx,26,O.length,12,1);while(p.c.length!=0){G=ww(_j(p,0),111);g[G.b]=k++;while(!y[G.b].V()){T=ww(y[G.b].vb(0),111);--o[T.b];o[T.b]==0&&(p.c[p.c.length]=T,true)}}n.a=Vj(d5,vU,111,O.length,0,1);for(a=0;a<O.length;a++){d=O[a];L=g[a];n.a[L]=d;d.b=L;for(j=new Xt(d.f);j.a<j.c.c.length;){m=ww($p(j),9);m.k=L}}return n.a}function sB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H;GL(e,"Fixed Layout",1);f=ww(MH(n,(mB(),gK)),122);d=0;g=0;for(p=new Xt(n.b);p.a<p.c.c.length;){v=ww($p(p),9);E=ww(MH(v,zK),10);if(E){v.i.a=E.a;v.i.b=E.b;if(ww(MH(v,WK),86).kb((vL(),nJ))){H=ww(MH(v,NK),15).a;o=ww(MH(v,GK),15).a;H>0&&o>0&&PM(v,new Au(H,o),true)}}d=wc(d,v.i.a+v.j.a);g=wc(g,v.i.b+v.j.b);for(b=new Xt(v.c);b.a<b.c.c.length;){l=ww($p(b),33);E=ww(MH(l,zK),10);if(E){l.i.a=E.a;l.i.b=E.b}d=wc(d,v.i.a+l.i.a+l.j.a);g=wc(g,v.i.b+l.i.b+l.j.b)}for(j=new Xt(v.f);j.a<j.c.c.length;){m=ww($p(j),7);E=ww(MH(m,zK),10);if(E){m.i.a=E.a;m.i.b=E.b}y=v.i.a+m.i.a;S=v.i.b+m.i.b;d=wc(d,y+m.j.a);g=wc(g,S+m.j.b);for(h=new Xt(m.c);h.a<h.c.c.length;){l=ww($p(h),33);E=ww(MH(l,zK),10);if(E){l.i.a=E.a;l.i.b=E.b}d=wc(d,y+l.i.a+l.j.a);g=wc(g,S+l.i.b+l.j.b)}}for(u=mg(EI(v));AI(u);){a=ww(Jk(u),12);w=GM(a);d=wc(d,w.a);g=wc(g,w.b)}for(c=mg(SI(v));AI(c);){a=ww(Jk(c),12);if($o(MH(a.c.f,(gB(),$9)))!==$o(n)){w=GM(a);d=wc(d,w.a);g=wc(g,w.b)}}}if(f==(JC(),BQ)){for(k=new Xt(n.b);k.a<k.c.c.length;){v=ww($p(k),9);for(c=mg(EI(v));AI(c);){a=ww(Jk(c),12);s=jD(a);s.b==0?Ny(a,EK,null):Ny(a,EK,s)}}}n.e.a=d;n.e.b=g;Ny(n,WK,(vL(),r=ww(Yc(iJ),11),new jw(r,ww(hg(r,r.length),11),0)));i=ww(MH(n,(gB(),K9)),9);!!i&&Ny(i,WK,(t=ww(Yc(iJ),11),new jw(t,ww(hg(t,t.length),11),0)));kI(e)}function lB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L;if(!rh(ww(MH(e,(mB(),xK)),28))){if(e.f.c.length>1){S=Vj(Hnn,SB,15,n.a.length,0,1);o=Ml(n.a.length);d=0;w=0;t=2*e.d.a.c.length+1;n:for(y=new Xt(e.f);y.a<y.c.c.length;){j=ww($p(y),7);v=j.g==(SD(),TW)||j.g==KW;L=0;if(v){E=ww(MH(j,(gB(),J9)),9);if(!E){continue}h=false;m=false;for(C=new Xt(E.f);C.a<C.c.c.length;){H=ww($p(C),7);$o(MH(H,F9))===$o(j)&&(H.e.c.length==0?H.b.c.length==0||(h=true):m=true)}h&&!m?L=j.g==TW?-(!E.d?-1:Oy(E.d.a,E,0)):t-(!E.d?-1:Oy(E.d.a,E,0)):m&&!h?L=(!E.d?-1:Oy(E.d.a,E,0))+1:h&&m&&(L=j.g==TW?0:t/2)}else{for(p=new Xt(j.e);p.a<p.c.c.length;){k=ww($p(p),12);i=k.d;if(i.f.d==e.d){o.c[o.c.length]=j;continue n}else{L+=n.a[i.k]}}for(l=new Xt(j.b);l.a<l.c.c.length;){s=ww($p(l),12);i=s.c;if(i.f.d==e.d){o.c[o.c.length]=j;continue n}else{L-=n.a[i.k]}}}if(j.b.c.length+j.e.c.length>0){S[j.k]=new Ut(L/(j.b.c.length+j.e.c.length));d=kc(d,S[j.k].a);w=dc(w,S[j.k].a)}else v&&(S[j.k]=new Ut(L))}g=(!e.d?-1:Oy(e.d.a,e,0))+1;b=e.d.a.c.length+1;for(f=new Xt(o);f.a<f.c.c.length;){u=ww($p(f),7);L=0;c=0;for(a=mg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[new bt(u),new dt(u)]))))));AI(a);){i=ww(Jk(a),7);if(i.f.d==e.d){L+=Xh(i.f)+1;++c}}r=L/c;I=u.g;I==(SD(),OW)?r<g?S[u.k]=new Ut(d-r):S[u.k]=new Ut(w+(b-r)):I==JW&&(r<g?S[u.k]=new Ut(w+r):S[u.k]=new Ut(d-(b-r)))}Sm(e.f,new Ot(S))}Ny(e,xK,(_N(),kW))}}function hB(n){var e,t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H;E=new De;n.a.b.c=Vj(WU,WB,1,0,4,1);m=(Ll(),new Lr);for(v=new Xt(n.d.c);v.a<v.c.c.length;){d=ww($p(v),16);for(p=new Xt(d.a);p.a<p.c.c.length;){k=ww($p(p),9);if(ya(Sa(xh(MH(k,(mB(),hK)))))){if(!nm(wO(k))){u=ww(Np(wO(k)),12);j=u.c.f;j==k&&(j=u.d.f);y=new _u(j,Vh(vs(k.i),j.i));mv(n.b,k,y);continue}}a=new tA(k,n.d);nw(n.a.b,a);FT(m.d,k,a)}}for(g=new Xt(n.d.c);g.a<g.c.c.length;){d=ww($p(g),16);for(p=new Xt(d.a);p.a<p.c.c.length;){k=ww($p(p),9);a=ww(Uo(_k(m.d,k)),25);for(s=mg(EI(k));AI(s);){f=ww(Jk(s),12);r=OG(f.a,0);l=true;w=null;if(r.b!=r.d.c){e=ww(Tm(r),10);if(f.c.g==(SD(),TW)){H=new gY(e,new Au(e.a,a.j.e),a,f);H.c=true;E.c[E.c.length]=H}if(f.c.g==KW){H=new gY(e,new Au(e.a,a.j.e+a.j.b),a,f);H.d=true;E.c[E.c.length]=H}while(r.b!=r.d.c){t=ww(Tm(r),10);if(!Cy(e.b,t.b)){w=new gY(e,t,null,f);E.c[E.c.length]=w;if(l){l=false;if(t.b<a.j.e){w.c=true}else if(t.b>a.j.e+a.j.b){w.d=true}else{w.d=true;w.c=true}}}r.b!=r.d.c&&(e=t)}if(w){c=ww(Vg(m,f.d.f),25);if(e.b<c.j.e){w.c=true}else if(e.b>c.j.e+c.j.b){w.d=true}else{w.d=true;w.c=true}}}}for(o=mg(SI(k));AI(o);){f=ww(Jk(o),12);if(f.a.b!=0){e=ww(Wl(f.a),10);if(f.d.g==(SD(),TW)){H=new gY(e,new Au(e.a,a.j.e),a,f);H.c=true;E.c[E.c.length]=H}if(f.d.g==KW){H=new gY(e,new Au(e.a,a.j.e+a.j.b),a,f);H.d=true;E.c[E.c.length]=H}}}}}if(E.c.length!=0){qv();Sm(E,null);b=($j(0,E.c.length),ww(E.c[0],142));i=new YP(b,n.d);for(h=1;h<E.c.length;h++){S=($j(h,E.c.length),ww(E.c[h],142));if(Cy(i.j.d,S.j)&&!(yL(i.j.e+i.j.b,S.k)||yL(S.n,i.j.e))){U_(i,S)}else{nw(n.a.b,i);i=new YP(S,n.d)}}nw(n.a.b,i)}E.c=Vj(WU,WB,1,0,4,1);yY(n)}function bB(n,e,t,r,i,a){var c,u,f,o,s,l,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T,P,R,Y;u=ww(Uw(n.d.c.c,r),16);P=new va;d=new va;for(w=0;w<u.a.c.length;++w){p=ww(Uw(u.a,w),9);w<t?(I=P.a.db(p,P),I==null):w>t&&(C=d.a.db(p,d),C==null)}R=new va;g=new va;for(j=(G=new zt(P.a).a.bb().mb(),new qt(G));j.a.G();){p=(l=ww(j.a.H(),21),ww(l.yb(),9));c=e==1?EI(p):SI(p);for(o=(Ks(),new Ps(Ms(vw(c.a,new h))));AI(o);){f=ww(Jk(o),12);Eo(p.d)!=Eo(f.d.f.d)&&sg(R,f.d.f)}}for(y=(N=new zt(d.a).a.bb().mb(),new qt(N));y.a.G();){p=(l=ww(y.a.H(),21),ww(l.yb(),9));c=e==1?EI(p):SI(p);for(o=(Ks(),new Ps(Ms(vw(c.a,new h))));AI(o);){f=ww(Jk(o),12);Eo(p.d)!=Eo(f.d.f.d)&&sg(g,f.d.f)}}if(_1){rw()}H=ww(Uw(n.d.c.c,r+(e==1?1:-1)),16);v=AB;k=NB;for(b=0;b<H.a.c.length;b++){p=ww(Uw(H.a,b),9);R.a.R(p)?v=v>b?v:b:g.a.R(p)&&(k=k<b?k:b)}if(v<k){for(S=(O=new zt(R.a).a.bb().mb(),new qt(O));S.a.G();){p=(l=ww(S.a.H(),21),ww(l.yb(),9));for(s=mg(EI(p));AI(s);){f=ww(Jk(s),12);if(Eo(p.d)==Eo(f.d.f.d)){return null}}for(o=mg(SI(p));AI(o);){f=ww(Jk(o),12);if(Eo(p.d)==Eo(f.c.f.d)){return null}}}for(E=(L=new zt(g.a).a.bb().mb(),new qt(L));E.a.G();){p=(l=ww(E.a.H(),21),ww(l.yb(),9));for(s=mg(EI(p));AI(s);){f=ww(Jk(s),12);if(Eo(p.d)==Eo(f.d.f.d)){return null}}for(o=mg(SI(p));AI(o);){f=ww(Jk(o),12);if(Eo(p.d)==Eo(f.c.f.d)){return null}}}P.a.Y()==0?Y=0:d.a.Y()==0?Y=H.a.c.length:Y=v+1;for(m=new Xt(u.a);m.a<m.c.c.length;){p=ww($p(m),9);if(p.g==(hO(),c1)){return null}}if(a==1){return Hj(UH(rc(hF,1),SB,24,0,[HI(Y)]))}else if(e==1&&r==i-2||e==0&&r==1){return Hj(UH(rc(hF,1),SB,24,0,[HI(Y)]))}else{T=bB(n,e,Y,r+(e==1?1:-1),i,a-1);!!T&&e==1&&T.rb(0,HI(Y));return T}}return null}function wB(n,e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;DT(e);b=(mB(),TK).b;if(b in e.a&&Tv(e,b).ic().a){return}f=Tv(e,"source");o=Tv(e,"sourcePort");s=Tv(e,"target");l=Tv(e,"targetPort");if(!f){throw new ig("Edges must contain a 'source' property.",null,e)}else if(!f.lc()){throw new ig("Invalid format of an edge's 'source' property. It must be a string.",f,e)}if(!s){throw new ig("Edges must contain a 'target' property.",null,e)}else if(!s.lc()){throw new ig("Invalid format of an edge's 'target' property. It must be a string.",s,e)}g=null;k=null;try{d=ww(xk(n.i,f.lc().a),9);!!o&&!!o.lc()&&(g=ww(xk(n.k,o.lc().a),7));v=ww(xk(n.i,s.lc().a),9);!!l&&!!l.lc()&&(k=ww(xk(n.k,l.lc().a),7))}catch(n){n=mC(n);if(gl(n,76)){throw new uh("An edge's 'source', 'target', 'sourcePort', and 'targetPort' properties have to be strings.",e)}else throw hI(n)}if(!ya(Sa(n.g))){if(!d||!v){return}else if($g(d)!=$g(v)){return}}if(!d||!v){throw new uh("An edge's source or target node could not be resolved.",e)}w=$g(d);r=new xv;Ny(r,(gB(),F9),e);c=ww(Tv(e,"id"),97);Ip(n.a,c.a,r);mv(n.b,r,e);FN(e,r);SP(n,e,r,w);i=ww(MH(w,P9),18);d==v&&i.ib((VY(),q7));if(!g){g=H_(d,new La,(nE(),j8),w)}else if(g.f!=d){throw new ca("Inconsistent source port reference found.")}if(!k){k=H_(v,new La,(nE(),m8),w)}else if(k.f!=v){throw new ca("Inconsistent target port reference found.")}Ek(r,g);Sk(r,k);(zg(ls((Jg(),new em(gI(UH(rc(WU,1),WB,1,4,[g.b,g.e]))))))>1||zg(ls(new em(gI(UH(rc(WU,1),WB,1,4,[k.b,k.e])))))>1)&&i.ib((VY(),$7));if($o(MH(w,(vB(),L8)))===$o((im(),$4))&&!(l$ in e.a)){t=new Xr;try{u=Tv(e,l$).hc();for(a=0;a<u.a.length;++a){h=gS(u,a).kc();p=new Au(Tv(h,"x").jc().a,Tv(h,"y").jc().a);xm(t,p,t.c.b,t.c)}Ny(r,V9,t)}catch(n){n=mC(n);if(gl(n,54)){throw new uh("Invalid format of an edges 'bendPoints' property.",e)}else throw hI(n)}}Ny(r,EK,null)}function dB(){dB=r;$0=new gf("LEFT_DIR_PREPROCESSOR",0);p0=new gf("DOWN_DIR_PREPROCESSOR",1);u2=new gf("UP_DIR_PREPROCESSOR",2);v0=new gf("COMMENT_PREPROCESSOR",3);m0=new gf("EDGE_AND_LAYER_CONSTRAINT_EDGE_REVERSER",4);i2=new gf("SPLINE_SELF_LOOP_PREPROCESSOR",5);N0=new gf("INTERACTIVE_EXTERNAL_PORT_POSITIONER",6);W0=new gf("PARTITION_PREPROCESSOR",7);w0=new gf("BIG_NODES_PREPROCESSOR",8);R0=new gf("LABEL_DUMMY_INSERTER",9);K0=new gf("PARTITION_POSTPROCESSOR",10);z0=new gf("NODE_PROMOTION",11);D0=new gf("LAYER_CONSTRAINT_PROCESSOR",12);S0=new gf("HIERARCHICAL_PORT_CONSTRAINT_PROCESSOR",13);h0=new gf("BIG_NODES_INTERMEDIATEPROCESSOR",14);F0=new gf("LONG_EDGE_SPLITTER",15);X0=new gf("PORT_SIDE_PROCESSOR",16);A0=new gf("LABEL_DUMMY_SWITCHER",17);_0=new gf("LABEL_MANAGEMENT_PROCESSOR",18);O0=new gf("INVERTED_PORT_PROCESSOR",19);t2=new gf("SELF_LOOP_PROCESSOR",20);Z0=new gf("PORT_LIST_SORTER",21);Q0=new gf("NORTH_SOUTH_PORT_PREPROCESSOR",22);y0=new gf("GREEDY_SWITCH",23);J0=new gf("PORT_DISTRIBUTER",24);r2=new gf("SPLINE_SELF_LOOP_POSITIONER",25);e2=new gf("SAUSAGE_COMPACTION",26);T0=new gf("IN_LAYER_CONSTRAINT_PROCESSOR",27);L0=new gf("HYPEREDGE_DUMMY_MERGER",28);M0=new gf("LABEL_SIDE_SELECTOR",29);d0=new gf("BIG_NODES_SPLITTER",30);P0=new gf("LABEL_AND_NODE_SIZE_PROCESSOR",31);a2=new gf("SPLINE_SELF_LOOP_ROUTER",32);V0=new gf("NODE_MARGIN_CALCULATOR",33);E0=new gf("HIERARCHICAL_PORT_DUMMY_SIZE_PROCESSOR",34);C0=new gf("HIERARCHICAL_PORT_POSITION_PROCESSOR",35);B0=new gf("LAYER_SIZE_AND_GRAPH_HEIGHT_CALCULATOR",36);b0=new gf("BIG_NODES_POSTPROCESSOR",37);g0=new gf("COMMENT_POSTPROCESSOR",38);G0=new gf("HYPERNODE_PROCESSOR",39);H0=new gf("HIERARCHICAL_PORT_ORTHOGONAL_EDGE_ROUTER",40);U0=new gf("LONG_EDGE_JOINER",41);q0=new gf("NORTH_SOUTH_PORT_POSTPROCESSOR",42);Y0=new gf("LABEL_DUMMY_REMOVER",43);I0=new gf("HORIZONTAL_COMPACTOR",44);n2=new gf("REVERSED_EDGE_RESTORER",45);x0=new gf("LEFT_DIR_POSTPROCESSOR",46);k0=new gf("DOWN_DIR_POSTPROCESSOR",47);c2=new gf("UP_DIR_POSTPROCESSOR",48);j0=new gf("END_LABEL_PROCESSOR",49)}function gB(){gB=r;var n,e;F9=new Bw("origin");S9=new Bw("processingConfiguration");e8=new Bw("processors");y9=new ew("compoundNode",(jd(),jd(),jnn));Y9=new ew("insideConnections",(null,jnn));$9=new Bw("nestedLGraph");K9=new Bw("parentLNode");V9=new Bw("originalBendpoints");z9=new Bw("originalDummyNodePosition");q9=new Bw("originalLabelEdge");r8=new Bw("representedLabels");D9=new ew("labelSide",(kL(),zJ));i8=new ew("reversed",(null,jnn));t8=new Bw("random");B9=new ew("longEdgeSource",null);x9=new ew("longEdgeTarget",null);I9=new ew("edgeConstraint",(JH(),m7));_9=new Bw("inLayerLayoutUnit");A9=new ew("inLayerConstraint",(LS(),c9));M9=new ew("inLayerSuccessorConstraint",new De);J9=new Bw("portDummy");E9=new ew("crossingHint",HI(0));P9=new ew("graphProperties",(e=ww(Yc(Q7),11),new jw(e,ww(hg(e,e.length),11),0)));O9=new ew("externalPortSide",(SD(),WW));T9=new ew("externalPortSize",new La);N9=new Bw("externalPortReplacedDummy");G9=new ew("externalPortConnections",(n=ww(Yc(ZW),11),new jw(n,ww(hg(n,n.length),11),0)));Z9=new ew(t$,0);w9=new Bw("barycenterAssociates");h8=new Bw("TopSideComments");m9=new Bw("BottomSideComments");j9=new Bw("CommentConnectionPort");R9=new ew("inputCollect",(null,jnn));Q9=new ew("outputCollect",(null,jnn));C9=new ew("cyclic",(null,jnn));k9=new ew("bigNodeOriginalSize",new Ut(0));v9=new ew("bigNodeInitial",(null,jnn));d9=new ew("de.cau.cs.kieler.klay.layered.bigNodeLabels",new De);g9=new ew("de.cau.cs.kieler.klay.layered.postProcess",null);H9=new Bw("crossHierarchyMap");l8=new Bw("targetOffset");u8=new ew("splineLabelSize",new La);f8=new ew("splineLoopSide",(YD(),z6));o8=new ew("splineSelfLoopComponents",new De);s8=new ew("splineSelfLoopMargins",new ti);c8=new Bw("spacings");W9=new ew("partitionConstraint",(null,jnn));U9=new ud((mB(),PK),new Ut(0));a8=new cd(ZK,new Ut(20),new Ut(1));X9=new cd(VK,new Ut(10),new Ut(1));p9=new cd(lK,new Ut(12),new Ut(0));n8=new ud(qK,HI(0));b9=new cd(oK,new Ut(R$),new Ut(0));L9=new ud(gK,(JC(),BQ))}function vB(){vB=r;V8=new ew("de.cau.cs.kieler.klay.layered.nodePromotion",(IR(),_2));z8=new Bp("de.cau.cs.kieler.klay.layered.nodePromotionBoundary",HI(0),HI(0),HI(100));J8=new ew(Xx,HI(1));Q8=new qk("de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",new Ut(1),new Ut(0));R8=new ew("de.cau.cs.kieler.klay.layered.edgeSpacingFactor",new Ut(.5));P8=new ew("de.cau.cs.kieler.klay.layered.edgeNodeSpacingFactor",new Ut(hU));O8=new ew("de.cau.cs.kieler.klay.layered.distributeNodes",(jd(),jd(),jnn));enn=new ew("de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers",(UE(),snn));G8=new ew("de.cau.cs.kieler.klay.layered.cycleBreaking",(Kv(),w4));U8=new ew("de.cau.cs.kieler.klay.layered.nodeLayering",(Qy(),C4));L8=new ew("de.cau.cs.kieler.klay.layered.crossMin",(im(),U4));_8=new ew("de.cau.cs.kieler.klay.layered.greedySwitch",(K_(),n9));F8=new ew("de.cau.cs.kieler.klay.layered.nodePlace",(XG(),k5));B8=new Bp("de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",new Ut(lU),new Ut(0),new Ut(1));A8=new ew("de.cau.cs.kieler.klay.layered.fixedAlignment",(oO(),P7));T8=new ew("de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",(BN(),E7));N8=new ew(Zx,(null,jnn));nnn=new qk("de.cau.cs.kieler.klay.layered.thoroughness",HI(10),HI(1));D8=new ew("de.cau.cs.kieler.klay.layered.layerConstraint",(nN(),v8));x8=new ew("de.cau.cs.kieler.klay.layered.mergeEdges",(null,jnn));$8=new ew("de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",(null,ynn));M8=new ew("de.cau.cs.kieler.klay.layered.interactiveReferencePoint",(tm(),o9));Y8=new ew("de.cau.cs.kieler.klay.layered.feedBackEdges",(null,jnn));E8=new ew("de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",(null,jnn));I8=new ew("de.cau.cs.kieler.klay.layered.contentAlignment",(sO(),Od(g7,UH(rc(v7,1),ZB,123,0,[h7]))));Z8=new ew("de.cau.cs.kieler.klay.layered.sausageFolding",(null,jnn));X8=new ew("de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",(pL(),inn));H8=new ew("de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",(NS(),B5));q8=new ew("de.cau.cs.kieler.klay.layered.northOrSouthPort",(null,jnn));K8=new ew("de.cau.cs.kieler.klay.layered.postCompaction",(iT(),E3));W8=new ew("de.cau.cs.kieler.klay.layered.postCompaction.constraints",(Gm(),v3));C8=new ew("de.cau.cs.kieler.klay.layered.components.compact",(null,jnn))}function kB(){kB=r;PJ=new Cv("OUT_T_L",0,(Jg(),new md(Od((HP(),aW),UH(rc(oW,1),ZB,41,0,[fW,eW])))),(Jm(),MJ));TJ=new Cv("OUT_T_C",1,new em(gI(UH(rc(WU,1),WB,1,4,[Od(aW,UH(rc(oW,1),ZB,41,0,[fW,nW])),Od(aW,UH(rc(oW,1),ZB,41,0,[fW,nW,tW]))]))),_J);RJ=new Cv("OUT_T_R",2,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[fW,rW]))),DJ);EJ=new Cv("OUT_B_L",3,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[cW,eW]))),MJ);SJ=new Cv("OUT_B_C",4,new em(gI(UH(rc(WU,1),WB,1,4,[Od(aW,UH(rc(oW,1),ZB,41,0,[cW,nW])),Od(aW,UH(rc(oW,1),ZB,41,0,[cW,nW,tW]))]))),_J);HJ=new Cv("OUT_B_R",5,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[cW,rW]))),DJ);LJ=new Cv("OUT_L_T",6,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[eW,fW,tW]))),DJ);IJ=new Cv("OUT_L_C",7,new em(gI(UH(rc(WU,1),WB,1,4,[Od(aW,UH(rc(oW,1),ZB,41,0,[eW,uW])),Od(aW,UH(rc(oW,1),ZB,41,0,[eW,uW,tW]))]))),DJ);CJ=new Cv("OUT_L_B",8,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[eW,cW,tW]))),DJ);OJ=new Cv("OUT_R_T",9,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[rW,fW,tW]))),MJ);NJ=new Cv("OUT_R_C",10,new em(gI(UH(rc(WU,1),WB,1,4,[Od(aW,UH(rc(oW,1),ZB,41,0,[rW,uW])),Od(aW,UH(rc(oW,1),ZB,41,0,[rW,uW,tW]))]))),MJ);GJ=new Cv("OUT_R_B",11,new md(Od(aW,UH(rc(oW,1),ZB,41,0,[rW,cW,tW]))),MJ);jJ=new Cv("IN_T_L",12,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[fW,eW])),Od(iW,UH(rc(oW,1),ZB,41,0,[fW,eW,tW]))]))),MJ);mJ=new Cv("IN_T_C",13,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[fW,nW])),Od(iW,UH(rc(oW,1),ZB,41,0,[fW,nW,tW]))]))),_J);yJ=new Cv("IN_T_R",14,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[fW,rW])),Od(iW,UH(rc(oW,1),ZB,41,0,[fW,rW,tW]))]))),DJ);kJ=new Cv("IN_C_L",15,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[uW,eW])),Od(iW,UH(rc(oW,1),ZB,41,0,[uW,eW,tW]))]))),MJ);vJ=new Cv("IN_C_C",16,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[uW,nW])),Od(iW,UH(rc(oW,1),ZB,41,0,[uW,nW,tW]))]))),_J);pJ=new Cv("IN_C_R",17,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[uW,rW])),Od(iW,UH(rc(oW,1),ZB,41,0,[uW,rW,tW]))]))),DJ);dJ=new Cv("IN_B_L",18,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[cW,eW])),Od(iW,UH(rc(oW,1),ZB,41,0,[cW,eW,tW]))]))),MJ);wJ=new Cv("IN_B_C",19,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[cW,nW])),Od(iW,UH(rc(oW,1),ZB,41,0,[cW,nW,tW]))]))),_J);gJ=new Cv("IN_B_R",20,new em(gI(UH(rc(WU,1),WB,1,4,[Od(iW,UH(rc(oW,1),ZB,41,0,[cW,rW])),Od(iW,UH(rc(oW,1),ZB,41,0,[cW,rW,tW]))]))),DJ);YJ=new Cv(Wx,21,(null,BV),null)}function pB(n,e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T,P,R,Y,A,_,M,D,B,x,$,U,F,V,z,q,Q,K,W,J,Z,X,nn,en,tn,rn;Q=0;for(L=0,O=e.length;L<O;++L){C=e[L];if(rh(ww(MH(C,(mB(),xK)),28))){for(B=new Xt(C.f);B.a<B.c.c.length;){D=ww($p(B),7);$=0;for(u=new Xt(D.e);u.a<u.c.c.length;){c=ww($p(u),12);C.d!=c.d.f.d&&++$}$>0&&(n.a[D.k]=Q++)}}else{P=0;for(B=new Xt(C.f);B.a<B.c.c.length;){D=ww($p(B),7);for(u=new Xt(D.e);u.a<u.c.c.length;){c=ww($p(u),12);C.d!=c.d.f.d&&++P}n.a[D.k]=Q}P>0&&++Q}}X=0;for(G=0,T=t.length;G<T;++G){C=t[G];if(rh(ww(MH(C,(mB(),xK)),28))){R=0;for(B=new Xt(C.f);B.a<B.c.c.length;){D=ww($p(B),7);if(D.g==(SD(),TW)){for(u=new Xt(D.b);u.a<u.c.c.length;){c=ww($p(u),12);if(C.d!=c.c.f.d){++R;break}}}else{break}}A=0;U=new Dp(C.f,C.f.c.length);while(U.b>0){D=(Ns(U.b>0),ww(U.a.sb(U.c=--U.b),7));$=0;for(u=new Xt(D.b);u.a<u.c.c.length;){c=ww($p(u),12);C.d!=c.c.f.d&&++$}if($>0){if(D.g==(SD(),TW)){n.a[D.k]=X;++X}else{n.a[D.k]=X+R+A;++A}}}X+=A}else{P=0;for(B=new Xt(C.f);B.a<B.c.c.length;){D=ww($p(B),7);for(u=new Xt(D.b);u.a<u.c.c.length;){c=ww($p(u),12);C.d!=c.c.f.d&&++P}n.a[D.k]=X}P>0&&++X}}x=(Ll(),new Lr);b=new Os;for(I=0,N=e.length;I<N;++I){C=e[I];for(J=new Xt(C.f);J.a<J.c.c.length;){W=ww($p(J),7);for(u=new Xt(W.e);u.a<u.c.c.length;){c=ww($p(u),12);en=c.d;if(C.d!=en.f.d){K=ww(Uo(_k(x.d,W)),197);nn=ww(Uo(_k(x.d,en)),197);if(!K&&!nn){h=new Nh;b.a.db(h,b);nw(h.a,c);nw(h.d,W);FT(x.d,W,h);nw(h.d,en);FT(x.d,en,h)}else if(!K){nw(nn.a,c);nw(nn.d,W);FT(x.d,W,nn)}else if(!nn){nw(K.a,c);nw(K.d,en);FT(x.d,en,K)}else if(K==nn){nw(K.a,c)}else{nw(K.a,c);for(M=new Xt(nn.d);M.a<M.c.c.length;){_=ww($p(M),7);FT(x.d,_,K)}gH(K.a,nn.a);gH(K.d,nn.d);b.a.eb(nn)!=null}}}}}w=ww(dN(b,Vj(i5,{674:1,3:1,5:1,6:1},197,b.a.Y(),0,1)),674);H=e[0].d;q=t[0].d;for(s=0,l=w.length;s<l;++s){o=w[s];o.e=Q;o.f=X;for(B=new Xt(o.d);B.a<B.c.c.length;){D=ww($p(B),7);F=n.a[D.k];if(D.f.d==H){F<o.e&&(o.e=F);F>o.b&&(o.b=F)}else if(D.f.d==q){F<o.f&&(o.f=F);F>o.c&&(o.c=F)}}}QG(w,0,w.length,(zf(),zf(),Hen));Z=Vj(ytn,Lx,26,w.length,12,1);r=Vj(ytn,Lx,26,X+1,12,1);for(g=0;g<w.length;g++){Z[g]=w[g].f;r[Z[g]]=1}a=0;for(v=0;v<r.length;v++){r[v]==1?r[v]=a:--a}V=0;for(k=0;k<Z.length;k++){Z[k]+=r[Z[k]];V=gc(V,Z[k]+1)}f=1;while(f<V){f*=2}rn=2*f-1;f-=1;tn=Vj(ytn,Lx,26,rn,12,1);i=0;for(S=0;S<Z.length;S++){y=Z[S]+f;++tn[y];while(y>0){y%2>0&&(i+=tn[y+1]);y=(y-1)/2|0;++tn[y]}}E=Vj(a5,WB,156,w.length*2,0,1);for(p=0;p<w.length;p++){E[2*p]=new Uv(w[p],w[p].e,w[p].b,(am(),u5));E[2*p+1]=new Uv(w[p],w[p].b,w[p].e,c5)}QG(E,0,E.length,(null,Hen));Y=0;for(m=0;m<E.length;m++){switch(E[m].d.e){case 0:++Y;break;case 1:--Y;i+=Y}}z=Vj(a5,WB,156,w.length*2,0,1);for(j=0;j<w.length;j++){z[2*j]=new Uv(w[j],w[j].f,w[j].c,(am(),u5));z[2*j+1]=new Uv(w[j],w[j].c,w[j].f,c5)}QG(z,0,z.length,(null,Hen));Y=0;for(d=0;d<z.length;d++){switch(z[d].d.e){case 0:++Y;break;case 1:--Y;i+=Y}}return i}function mB(){mB=r;var n,e;fK=new ew("de.cau.cs.kieler.animate",(jd(),jd(),ynn));new ew("de.cau.cs.kieler.minAnimTime",HI(400));new ew("de.cau.cs.kieler.maxAnimTime",HI(4e3));new ew("de.cau.cs.kieler.animTimeFactor",HI(100));aK=new ew("de.cau.cs.kieler.additionalPortSpace",null);hK=new ew("de.cau.cs.kieler.commentBox",(null,jnn));new Bw("de.cau.cs.kieler.diagramType");dK=new ew("de.cau.cs.kieler.edgeLabelPlacement",($E(),_Q));vK=new ew("de.cau.cs.kieler.edgeType",(lO(),WQ));pK=new Bw("de.cau.cs.kieler.fontName");mK=new ew("de.cau.cs.kieler.fontSize",HI(0));yK=new ew("de.cau.cs.kieler.hypernode",(null,jnn));EK=new ew("de.cau.cs.kieler.junctionPoints",new Xr);new ew("de.cau.cs.kieler.layoutAncestors",(null,jnn));LK=new ew("de.cau.cs.kieler.margins",new ti);GK=new qk("de.cau.cs.kieler.minHeight",new Ut(0),new Ut(0));NK=new qk("de.cau.cs.kieler.minWidth",new Ut(0),new Ut(0));TK=new ew("de.cau.cs.kieler.noLayout",(null,jnn));PK=new Bw("de.cau.cs.kieler.offset");BK=new Bw("de.cau.cs.kieler.klay.layered.portAnchor");$K=new Bw("de.cau.cs.kieler.portIndex");FK=new ew("de.cau.cs.kieler.portSide",(SD(),WW));new ew("de.cau.cs.kieler.progressBar",(null,jnn));new ew("de.cau.cs.kieler.resetConfig",(null,ynn));new ew("de.cau.cs.kieler.scaleFactor",new Ut(1));XK=new ew("de.cau.cs.kieler.thickness",new Ut(1));new ew("de.cau.cs.kieler.zoomToFit",(null,jnn));cK=new Bw("de.cau.cs.kieler.algorithm");uK=new ew("de.cau.cs.kieler.alignment",(oG(),pQ));oK=new ew("de.cau.cs.kieler.aspectRatio",new Ut(0));sK=new Bw("de.cau.cs.kieler.bendPoints");lK=new ew("de.cau.cs.kieler.borderSpacing",new Ut(-1));bK=new ew(Zx,(null,jnn));wK=new ew("de.cau.cs.kieler.direction",(WC(),NQ));gK=new ew("de.cau.cs.kieler.edgeRouting",(JC(),UQ));kK=new ew("de.cau.cs.kieler.expandNodes",(null,jnn));jK=new ew("de.cau.cs.kieler.hierarchyHandling",(ZC(),eK));SK=new ew("de.cau.cs.kieler.interactive",(null,jnn));HK=new qk("de.cau.cs.kieler.labelSpacing",new Ut(3),new Ut(0));CK=new ew("de.cau.cs.kieler.layoutHierarchy",(null,jnn));OK=new ew("de.cau.cs.kieler.nodeLabelPlacement",(HP(),e=ww(Yc(oW),11),new jw(e,ww(hg(e,e.length),11),0)));xK=new ew("de.cau.cs.kieler.portConstraints",(_N(),SW));UK=new ew("de.cau.cs.kieler.portLabelPlacement",(IS(),LW));VK=new qk("de.cau.cs.kieler.portSpacing",new Ut(-1),new Ut(0));YK=new ew("de.cau.cs.kieler.portAlignment",(gL(),wW));_K=new ew("de.cau.cs.kieler.portAlignment.north",dW);MK=new ew("de.cau.cs.kieler.portAlignment.south",dW);DK=new ew("de.cau.cs.kieler.portAlignment.west",dW);AK=new ew("de.cau.cs.kieler.portAlignment.east",dW);zK=new Bw("de.cau.cs.kieler.position");qK=new Bw("de.cau.cs.kieler.priority");new Bw(Xx);QK=new ew("de.cau.cs.kieler.selfLoopInside",(null,jnn));KK=new Bw("de.cau.cs.kieler.separateConnComp");WK=new ew("de.cau.cs.kieler.sizeConstraint",(vL(),n=ww(Yc(iJ),11),new jw(n,ww(hg(n,n.length),11),0)));JK=new ew("de.cau.cs.kieler.sizeOptions",Od((jO(),fJ),UH(rc(sJ,1),ZB,139,0,[cJ])));ZK=new qk("de.cau.cs.kieler.spacing",new Ut(-1),new Ut(0));IK=new ew("de.cau.cs.kieler.layoutPartitions",(null,jnn));RK=new Bw("de.cau.cs.kieler.partition")}function jB(n,e,t,r){kM();var i,a,c,u,f,o,s,l,h,b,w,d,g,v,k;if(!r){if((!n.n?(qv(),qv(),ren):n.n).R(new to(e))){return}}if(ww(oZ.a,18).kb(e)){if(!t.lc()){throw new aa(p$+e+m$+t+").")}b=ww(ww(oZ.b,57).cb(e),79);w=t.lc().a;Ny(n,b,w);return}else if(ww(cZ.a,18).kb(e)){try{if(!t.jc()){throw new $i}b=ww(ww(cZ.b,57).cb(e),79);v=HI(bY((ji(),""+t.jc().a)));Ny(n,b,v);return}catch(n){n=mC(n);if(gl(n,130)){throw new aa("Invalid integer format for property '"+e+m$+t+").")}else throw hI(n)}}else if(ww(tZ.a,18).kb(e)){if(!t.ic()){throw new aa(p$+e+m$+t+").")}b=ww(ww(tZ.b,57).cb(e),79);v=(jd(),t.ic().a?ynn:jnn);Ny(n,b,v);return}else if(ww(aZ.a,18).kb(e)){if(!t.jc()){throw new aa("Invalid float format for property '"+e+m$+t+").")}b=ww(ww(aZ.b,57).cb(e),79);v=new $t(t.jc().a);Ny(n,b,v);return}else if(ww(iZ.a,18).kb(e)){if(!t.lc()){throw new aa(j$+e+m$+t+").")}s=t.lc().a;l=null;try{IC((mB(),FK),e)?l=(SD(),ww(YC((Oj(),XW),s),32)):IC(uK,e)?l=(oG(),ww(YC((ty(),CQ),s),103)):IC(wK,e)?l=(WC(),ww(YC((Nj(),PQ),s),59)):IC(gK,e)?l=(JC(),ww(YC((Xm(),VQ),s),122)):IC(jK,e)?l=(ZC(),ww(YC((km(),iK),s),166)):IC(YK,e)||IC(AK,e)||IC(_K,e)||IC(MK,e)||IC(DK,e)?l=(gL(),ww(YC((Tj(),vW),s),100)):IC(xK,e)?l=(_N(),ww(YC((iy(),HW),s),28)):IC(UK,e)?l=(IS(),ww(YC((vm(),NW),s),149)):IC(vK,e)?l=(lO(),ww(YC((ry(),XQ),s),133)):IC(dK,e)?l=($E(),ww(YC((Zm(),DQ),s),107)):IC((vB(),G8),e)?l=(Kv(),ww(YC((pp(),v4),s),193)):IC(U8,e)?l=(Qy(),ww(YC((pm(),L4),s),173)):IC(T8,e)?l=(BN(),ww(YC((Zy(),G7),s),115)):IC(H8,e)?l=(NS(),ww(YC((tj(),U5),s),194)):IC(L8,e)?l=(im(),ww(YC((jp(),V4),s),192)):IC(V8,e)?l=(IR(),ww(YC((Wy(),B2),s),109)):IC(F8,e)?l=(XG(),ww(YC((Jy(),E5),s),141)):IC(K8,e)?l=(iT(),ww(YC((ay(),I3),s),125)):IC(W8,e)?l=(Gm(),ww(YC((mp(),p3),s),175)):IC(A8,e)?l=(oO(),ww(YC((ZS(),_7),s),124)):IC(_8,e)?l=(K_(),ww(YC((FE(),i9),s),110)):IC(D8,e)?l=(nN(),ww(YC((Xy(),p8),s),85)):IC(X8,e)?l=(pL(),ww(YC((ny(),cnn),s),153)):IC(enn,e)?l=(UE(),ww(YC((ey(),hnn),s),172)):IC(M8,e)&&(l=(tm(),ww(YC((rj(),h9),s),174)))}catch(n){n=mC(n);if(gl(n,54)){throw new aa(j$+e+m$+t+").")}else throw hI(n)}b=ww(ww(iZ.b,57).cb(e),79);Ny(n,b,l);return}else if(ww(rZ.a,18).kb(e)){if(!t.lc()){throw new aa(j$+e+m$+t+").")}o=t.lc().a;d=null;f=WA(o,"[\\[\\]\\s,]+");for(c=0,u=f.length;c<u;++c){a=f[c];if(hs(PN(a))==0){continue}if(IC((mB(),OK),e)){!d&&(d=(i=ww(Yc(oW),11),new jw(i,ww(hg(i,i.length),11),0)));mE(d,(HP(),ww(YC((CS(),sW),a),41)))}else if(IC(WK,e)){!d&&(d=(i=ww(Yc(iJ),11),new jw(i,ww(hg(i,i.length),11),0)));mE(d,(vL(),ww(YC((ej(),aJ),a),150)))}else if(IC(JK,e)){!d&&(d=(i=ww(Yc(sJ),11),new jw(i,ww(hg(i,i.length),11),0)));mE(d,(jO(),ww(YC((nj(),lJ),a),139)))}else if(IC((vB(),I8),e)){!d&&(d=(i=ww(Yc(v7),11),new jw(i,ww(hg(i,i.length),11),0)));mE(d,(sO(),ww(YC((JS(),k7),a),123)))}}b=ww(ww(rZ.b,57).cb(e),79);Ny(n,b,d);return}else if(ww(fZ.a,18).kb(e)){if(!t.lc()){throw new aa("Invalid _other_ format for property '"+e+m$+t+").")}if(IC((mB(),zK),e)||IC(BK,e)){try{g=new La;I_(g,t.lc().a);b=ww(ww(fZ.b,57).cb(e),79);Ny(n,b,g);return}catch(n){n=mC(n);if(gl(n,29)){throw new aa("Invalid KVector format for property '"+e+"' "+t+".")}else throw hI(n)}}else if(IC(sK,e)||IC(EK,e)){try{k=new Xr;OA(k,t.lc().a);b=ww(ww(fZ.b,57).cb(e),79);Ny(n,b,k);return}catch(n){n=mC(n);if(gl(n,29)){throw new aa("Invalid KVectorChain format for property '"+e+"' "+t+".")}else throw hI(n)}}else if(IC(LK,e)||IC(aK,e)){try{h=new ti;F_(h,t.lc().a);b=ww(ww(fZ.b,57).cb(e),79);Ny(n,b,h);return}catch(n){n=mC(n);if(gl(n,29)){throw new aa("Invalid Margins format for property '"+e+"' "+t+".")}else throw hI(n)}}}else if(ww(uZ.a,18).kb(e)){return}throw new aa("Unsupported layout option '"+e+m$+t+").")}var yB="object",SB={3:1,8:1,5:1,6:1},EB={3:1,46:1},HB={3:1,54:1,46:1},CB="null",IB="anonymous",LB="Unknown",GB="function",NB=2147483647,OB={181:1,3:1,54:1,46:1},TB=65536,PB=65535,RB={3:1,54:1,29:1,46:1},YB='For input string: "',AB=-2147483648,_B={56:1},MB={23:1,145:1,185:1},DB={3:1,5:1},BB="Invalid UTF8 sequence",xB="fromIndex: ",$B="java.lang",UB="com.google.gwt.core.client",FB="com.google.gwt.core.client.impl",VB="java.io",zB="java.nio.charset",qB="javaemul.internal",QB="com.google.common.base",KB="%s (%s) must not be negative",WB={3:1,5:1,6:1},JB="negative size: ",ZB={3:1,8:1,5:1,11:1,6:1},XB={68:1,136:1,3:1,23:1,17:1},nx={108:1,35:1},ex="com.google.common.collect",tx={108:1,35:1,96:1},rx={144:1,3:1},ix={35:1},ax={57:1},cx="java.util",ux={22:1,19:1},fx={22:1,19:1,18:1},ox={22:1,19:1,20:1},sx={22:1,19:1,20:1,63:1},lx={35:1,96:1},hx={22:1,19:1,18:1,137:1},bx={21:1},wx="AbstractMapEntry",dx={207:1,22:1,19:1},gx={159:1,3:1,23:1,17:1},vx=1073741824,kx={22:1},px={3:1,22:1,19:1},mx={87:1,3:1,22:1,19:1,20:1,63:1},jx={3:1,57:1},yx={3:1,22:1,19:1,18:1},Sx={64:1},Ex="arraySize",Hx="initialArraySize",Cx={64:1,188:1,3:1,23:1,17:1},Ix="occurrences",Lx={52:1,3:1,5:1},Gx={205:1,3:1,23:1,17:1},Nx=1e-4,Ox="com.google.gwt.json.client",Tx=4194303,Px=1048575,Rx=4194304,Yx=17592186044416,Ax=-17592186044416,_x="([{\"' \t\r\n",Mx=")]}\"' \t\r\n",Dx="The given string contains parts that cannot be parsed as numbers.",Bx="de.cau.cs.kieler.core.math",xx=-17976931348623157e292,$x="de.cau.cs.kieler.core.properties",Ux={79:1,23:1},Fx="de.cau.cs.kieler.core.util",Vx="de.cau.cs.kieler.kiml",zx="LEFT",qx="RIGHT",Qx="CENTER",Kx="de.cau.cs.kieler.kiml.options",Wx="UNDEFINED",Jx="NONE",Zx="de.cau.cs.kieler.debugMode",Xx="de.cau.cs.kieler.randomSeed",n$="de.cau.cs.kieler.kiml.util.nodespacing",e$="de.cau.cs.kieler.kiml.util.labelspacing",t$="portRatioOrPosition",r$="NodeMarginCalculator",i$="bottom",a$={286:1,121:1,3:1,5:1},c$="undefined",u$="text",f$="stacktrace",o$={34:1,3:1,8:1,5:1,6:1},s$="properties",l$="bendPoints",h$="junctionPoints",b$="width",w$="height",d$="padding",g$="children",v$={38:1,39:1,42:1,51:1,71:1,3:1,8:1,5:1,6:1},k$="de.cau.cs.kieler.klay.gwt.client.layout",p$="Invalid boolean format for property '",m$="' (",j$="Invalid enum format for property '",y$="de.cau.cs.kieler.klay.layered",S$="Layered layout",E$=Infinity,H$=-Infinity,C$="de.cau.cs.kieler.klay.layered.compaction.components",I$="de.cau.cs.kieler.klay.layered.compaction.oned",L$=" instance has been finished already.",G$="de.cau.cs.kieler.klay.layered.compaction.oned.algs",N$="de.cau.cs.kieler.klay.layered.compaction.recthull",O$={68:1},T$="de.cau.cs.kieler.klay.layered.components",P$={3:1,5:1,22:1,13:1,19:1,20:1,63:1},R$=1.600000023841858,Y$=.001,A$={31:1},_$="de.cau.cs.kieler.klay.layered.compound",M$={38:1,39:1,47:1,42:1,3:1,8:1,5:1,6:1},D$="de.cau.cs.kieler.klay.layered.graph",B$="Port side is undefined",x$="de.cau.cs.kieler.klay.layered.intermediate",$$="Big nodes pre-processing",U$=34028234663852886e22,F$={38:1,39:1,42:1,346:1,71:1,3:1,8:1,5:1,6:1},V$="Node '",z$="' has its layer constraint set to FIRST or FIRST_SEPARATE, but has ",q$="at least one incoming edge. Connections between nodes with these ",Q$="layer constraints are not supported.",K$=17976931348623157e292,W$="Odd port side processing",J$={250:1,3:1,5:1},Z$=1e-8,X$="de.cau.cs.kieler.klay.layered.intermediate.compaction",nU="de.cau.cs.kieler.klay.layered.intermediate.greedyswitch",eU={227:1,3:1,5:1},tU="de.cau.cs.kieler.klay.layered.networksimplex",rU="INTERACTIVE",iU="de.cau.cs.kieler.klay.layered.p1cycles",aU={106:1,31:1},cU="de.cau.cs.kieler.klay.layered.p2layers",uU="NETWORK_SIMPLEX",fU="de.cau.cs.kieler.klay.layered.p3order",oU=5.960464477539063e-8,sU="Port type is undefined",lU=.30000001192092896,hU=.699999988079071,bU=.8999999761581421,wU="de.cau.cs.kieler.klay.layered.p3order.constraints",dU="de.cau.cs.kieler.klay.layered.p3order.counting",gU="de.cau.cs.kieler.klay.layered.p4nodes",vU={625:1,3:1,5:1,6:1},kU="de.cau.cs.kieler.klay.layered.p4nodes.bk",pU="de.cau.cs.kieler.klay.layered.p5edges",mU="de.cau.cs.kieler.klay.layered.p5edges.splines",jU=1e-6,yU=-1e-6,SU="The list of vectors may not be empty.",EU=.09999999999999998,HU="de.cau.cs.kieler.klay.layered.properties",CU="_gwt_modCount",IU={3:1,22:1,19:1,20:1,63:1},LU={3:1,5:1,57:1},GU={3:1,5:1,22:1,19:1,50:1,18:1},NU="delete",OU=15525485,TU=16777216,PU=16777215,RU={3:1,5:1,22:1,19:1,20:1,63:1},YU={3:1,23:1,17:1,138:1};var AU,_U,MU,DU=-1;mL();vR(1,null,{},i);AU.t=function n(e){return this===e};AU.u=function n(){return this.$c};AU.v=function n(){return Eh(this)};AU.w=function n(){return Dk(this)};AU.toString=function(){return this.w()};vR(46,1,EB);AU.bc=function n(){return this.f};AU.w=function n(){var e,t;return e=Pc(this.$c),t=this.bc(),t!=null?e+": "+t:e};vR(54,46,HB);vR(72,54,HB,Ui);vR(164,72,{164:1,3:1,54:1,46:1},dj);AU.bc=function n(){OO(this);return this.c};AU.cc=function n(){return $o(this.b)===$o(BU)?null:this.b};var BU;var xU;vR(642,1,{});vR(356,642,{},c);AU.dc=function n(e,t){var r={},i;var a=[];e.__gwt$backingJsError={fnStack:a};var c=arguments.callee.caller;while(c){var u=(QH(),c.name||(c.name=KS(c.toString())));a.push(u);var f=":"+u;var o=r[f];if(o){var s,l;for(s=0,l=o.length;s<l;s++){if(o[s]===c){return}}}(o||(r[f]=[])).push(c);c=c.caller}};AU.ec=function n(e){var t,r,i,a,c;i=(QH(),c=e.__gwt$backingJsError,c&&c.fnStack?c.fnStack:[]);r=i.length;a=Vj(Tnn,SB,146,r,0,1);for(t=0;t<r;t++){a[t]=new Fv(i[t],null,-1)}return a};vR(643,642,{});AU.dc=function n(e,t){function r(n){if(!("stack"in n)){try{throw n}catch(n){}}return n}var i;typeof t=="string"?i=r(new Error(t.replace("\n"," "))):t&&typeof t==yB&&"stack"in t?i=t:i=r(new Error);e.__gwt$backingJsError=i};AU.fc=function n(e,t,r,i){return new Fv(t,e+"@"+i,r<0?-1:r)};AU.ec=function n(e){var t,r,i,a,c,u,f;a=(QH(),f=e.__gwt$backingJsError,f&&f.stack?f.stack.split("\n"):[]);c=Vj(Tnn,SB,146,0,0,1);t=0;i=a.length;if(i==0){return c}u=DM(this,a[0]);Xi(u.d,IB)||(c[t++]=u);for(r=1;r<i;r++){c[t++]=DM(this,a[r])}return c};vR(357,643,{},ye);AU.fc=function n(e,t,r,i){return new Fv(t,e,-1)};var $U,UU,FU;vR(181,54,OB);vR(351,181,OB,Ea);vR(288,1,{},sC);AU.Oc=function n(e){var t;t=new sC;t.g=4;e>1?t.c=ap(this,e-1):t.c=this;return t};AU.Pc=function n(){eb(this);return this.b};AU.Qc=function n(){return Pc(this)};AU.Rc=function n(){return Rc(this)};AU.Sc=function n(){return(this.g&4)!=0};AU.Tc=function n(){return(this.g&1)!=0};AU.w=function n(){return((this.g&2)!=0?"interface ":(this.g&1)!=0?"":"class ")+(eb(this),this.n)};AU.g=0;var VU=1;vR(119,72,{3:1,119:1,54:1,46:1},ii);vR(29,72,RB,ai,Ca);vR(95,72,HB,ci,Ha);vR(231,1,{3:1,231:1});var zU;vR(24,231,{3:1,23:1,24:1,231:1},Yt);AU.F=function n(e){return ws(this,ww(e,24))};AU.t=function n(e){return gl(e,24)&&ww(e,24).a==this.a};AU.v=function n(){return this.a};AU.w=function n(){return xc(this.a)};AU.a=0;FU={3:1,345:1,23:1,2:1};vR(350,1,_B,ae);AU.$b=function n(e,t){return Mm(Uh(e),Uh(t))};vR(257,95,HB,Ec);vR(145,1,{23:1,145:1});AU.F=function n(e){return bs(this,ww(e,145))};AU.t=function n(e){var t;if(e===this){return true}if(!gl(e,145)){return false}t=ww(e,145);return Xi(this.a,t.a)};AU.v=function n(){return sG(this.a)};AU.w=function n(){return this.a};vR(358,29,RB,Rg);vR(256,29,{3:1,54:1,29:1,46:1,256:1},Pg);vR(185,145,MB);var qU,QU,KU;vR(289,185,MB,Cc);AU.Zc=function n(e,t,r){var i,a;i=Vj(Etn,DB,26,r,12,1);for(a=0;a<r;++a){i[a]=e[t+a]&255&PB}return i};vR(355,185,MB,fs);AU.Zc=function n(e,t,r){var i,a,c,u,f,o,s,l;c=0;for(s=0;s<r;){++c;a=e[t+s];if((a&192)==128){throw new Ca(BB)}else if((a&128)==0){++s}else if((a&224)==192){s+=2}else if((a&240)==224){s+=3}else if((a&248)==240){s+=4}else{throw new Ca(BB)}if(s>r){throw new Ha(BB)}}u=Vj(Etn,DB,26,c,12,1);l=0;f=0;for(o=0;o<r;){a=e[t+o++];if((a&128)==0){f=1;a&=127}else if((a&224)==192){f=2;a&=31}else if((a&240)==224){f=3;a&=15}else if((a&248)==240){f=4;a&=7}else if((a&252)==248){f=5;a&=3}while(--f>0){i=e[t+o++];if((i&192)!=128){throw new Ca("Invalid UTF8 sequence at "+(t+o-1)+", byte="+(i>>>0).toString(16))}a=a<<6|i&63}l+=aN(a,u,l)}return u};var WU=Lg($B,"Object",1);var JU=Lg($B,"Throwable",46);var ZU=Lg($B,"Exception",54);var XU=Lg($B,"RuntimeException",72);var nF=Lg(UB,"JavaScriptException",164);var eF=Lg(FB,"StackTraceCreator/Collector",642);var tF=Lg(FB,"StackTraceCreator/CollectorLegacy",356);var rF=Lg(FB,"StackTraceCreator/CollectorModern",643);var iF=Lg(FB,"StackTraceCreator/CollectorModernNoSourceMap",357);var aF=Lg(VB,"IOException",181);var cF=Lg(VB,"UnsupportedEncodingException",351);var uF=Lg($B,"Class",288);var fF=Lg($B,"ClassCastException",119);var oF=Lg($B,"IllegalArgumentException",29);var sF=Lg($B,"IndexOutOfBoundsException",95);var lF=Lg($B,"Number",231);var hF=Lg($B,"Integer",24);var bF=Lg($B,"String",2);var wF=Lg($B,"String/1",350);var dF=Lg($B,"StringIndexOutOfBoundsException",257);var gF=Lg(zB,"Charset",145);var vF=Lg(zB,"IllegalCharsetNameException",358);var kF=Lg(zB,"UnsupportedCharsetException",256);var pF=Lg(qB,"EmulatedCharset",185);var mF=Lg(qB,"EmulatedCharset/LatinCharset",289);var jF=Lg(qB,"EmulatedCharset/UtfCharset",355);vR(669,1,{3:1});var yF=Lg(QB,"Optional",669);vR(601,669,{3:1},a);AU.t=function n(e){return e===this};AU.v=function n(){return 2040732332};AU.w=function n(){return"Optional.absent()"};AU.A=function n(e){ld(e);return yi(),SF};var SF;var EF=Lg(QB,"Absent",601);var HF=Zw(QB,"Function");vR(208,1,{},Ia);AU.C=function n(e){return Eg(e)};var CF=Lg(QB,"Joiner",208);vR(363,208,{},Sw);AU.C=function n(e){return Ol(this,e)};var IF=Lg(QB,"Joiner/1",363);vR(362,1,{},wh);var LF=Lg(QB,"Joiner/MapJoiner",362);var GF=Zw(QB,"Predicate");var NF;vR(244,1,{68:1,244:1,3:1},xe);AU.D=function n(e){var t;for(t=0;t<this.a.a.length;t++){if(!ww(od(this.a,t),68).D(e)){return false}}return true};AU.t=function n(e){var t;if(gl(e,244)){t=ww(e,244);return OP(this.a,t.a)}return false};AU.v=function n(){return nC(this.a)+306654252};AU.w=function n(){return"Predicates.and("+Nl((Kf(),NF),new Vt(this.a))+")"};var OF=Lg(QB,"Predicates/AndPredicate",244);vR(246,1,{68:1,246:1,3:1},bu);AU.D=function n(e){try{return this.a.kb(e)}catch(n){n=mC(n);if(gl(n,76)){return false}else if(gl(n,119)){return false}else throw hI(n)}};AU.t=function n(e){var t;if(gl(e,246)){t=ww(e,246);return this.a.t(t.a)}return false};AU.v=function n(){return this.a.v()};AU.w=function n(){return"Predicates.in("+this.a+")"};var TF=Lg(QB,"Predicates/InPredicate",246);vR(245,1,{68:1,245:1,3:1},$e);AU.D=function n(e){return CC(this.a,e)};AU.t=function n(e){var t;if(gl(e,245)){t=ww(e,245);return CC(this.a,t.a)}return false};AU.v=function n(){return LI(this.a)};AU.w=function n(){return"Predicates.equalTo("+this.a+")"};var PF=Lg(QB,"Predicates/IsEqualToPredicate",245);vR(17,1,{3:1,23:1,17:1});AU.F=function n(e){return Da(this,ww(e,17))};AU.t=function n(e){return this===e};AU.v=function n(){return Eh(this)};AU.w=function n(){return Ch(this)};AU.e=0;var RF=Lg($B,"Enum",17);vR(136,17,XB);var YF,AF,_F,MF;var DF=Yy(QB,"Predicates/ObjectPredicate",136,RF,dp);vR(591,136,XB,wb);AU.D=function n(e){return true};AU.w=function n(){return"Predicates.alwaysTrue()"};var BF=Yy(QB,"Predicates/ObjectPredicate/1",591,DF,null);vR(592,136,XB,db);AU.D=function n(e){return false};AU.w=function n(){return"Predicates.alwaysFalse()"};var xF=Yy(QB,"Predicates/ObjectPredicate/2",592,DF,null);vR(593,136,XB,tl);AU.D=function n(e){return e==null};AU.w=function n(){return"Predicates.isNull()"};var $F=Yy(QB,"Predicates/ObjectPredicate/3",593,DF,null);vR(594,136,XB,Il);AU.D=function n(e){return e!=null};AU.w=function n(){return"Predicates.notNull()"};var UF=Yy(QB,"Predicates/ObjectPredicate/4",594,DF,null);vR(177,669,{177:1,3:1},Ue);AU.t=function n(e){var t;if(gl(e,177)){t=ww(e,177);return CC(this.a,t.a)}return false};AU.v=function n(){return 1502476572+LI(this.a)};AU.w=function n(){return"Optional.of("+this.a+")"};AU.A=function n(e){return new Ue(Wk(e.B(this.a),"the Function passed to Optional.transform() must not return null."))};var FF=Lg(QB,"Present",177);vR(108,1,nx);AU.I=function n(){xr()};var VF=Lg(ex,"UnmodifiableIterator",108);vR(651,108,tx);AU.J=function n(e){throw new si};AU.O=function n(e){throw new si};var zF=Lg(ex,"UnmodifiableListIterator",651);vR(378,651,tx);AU.G=function n(){return this.b<this.c};AU.K=function n(){return this.b>0};AU.H=function n(){if(this.b>=this.c){throw new Mi}return Ac(this,this.b++)};AU.L=function n(){return this.b};AU.M=function n(){if(this.b<=0){throw new Mi}return Ac(this,--this.b)};AU.N=function n(){return this.b-1};AU.b=0;AU.c=0;var qF=Lg(ex,"AbstractIndexedListIterator",378);vR(428,108,nx);AU.G=function n(){return uE(this)};AU.H=function n(){return zj(this)};AU.d=1;var QF=Lg(ex,"AbstractIterator",428);vR(653,1,{144:1});AU.P=function n(){var e;return e=this.f,!e?this.f=this.S():e};AU.T=function n(){return new wu(this.P())};AU.t=function n(e){return aC(this,e)};AU.v=function n(){return this.P().v()};AU.V=function n(){return this.Y()==0};AU.W=function n(){return Md(this)};AU.w=function n(){return this.P().w()};var KF=Lg(ex,"AbstractMultimap",653);vR(294,653,rx);AU.Q=function n(){NG(this)};AU.R=function n(e){return Hy(this.b,e)};AU.S=function n(){return new vu(this,this.b)};AU.T=function n(){return new xl(this,this.b)};AU.$=function n(){return eG(this.Z())};AU.U=function n(e){return LO(this,e)};AU.X=function n(e){return sP(this,e)};AU.Y=function n(){return this.c};AU.c=0;var WF=Lg(ex,"AbstractMapBasedMultimap",294);vR(600,294,rx);AU.Z=function n(){return new Fy(this.a)};AU.$=function n(){return Jg(),Jg(),BV};AU.U=function n(e){return ww(LO(this,e),20)};AU.X=function n(e){return ww(sP(this,e),20)};AU.P=function n(){var e;return e=this.f,!e?this.f=new vu(this,this.b):e};AU.t=function n(e){return aC(this,e)};var JF=Lg(ex,"AbstractListMultimap",600);vR(388,1,ix);AU.G=function n(){return this.b.b||this.d.G()};AU.H=function n(){var e;if(!this.d.G()){e=AS(this.b);e.yb();this.a=ww(e.zb(),19);this.d=this.a.mb()}return this.d.H()};AU.I=function n(){this.d.I();this.a.V()&&py(this.b);--this.c.c};var ZF=Lg(ex,"AbstractMapBasedMultimap/Itr",388);vR(389,388,ix,eE);var XF=Lg(ex,"AbstractMapBasedMultimap/1",389);vR(638,1,ax);AU.Q=function n(){this.bb().Q()};AU._=function n(e){return pN(this,e)};AU.R=function n(e){return!!SO(this,e,false)};AU.ab=function n(e){var t,r,i;for(r=this.bb().mb();r.G();){t=ww(r.H(),21);i=t.zb();if($o(e)===$o(i)||e!=null&&CC(e,i)){return true}}return false};AU.t=function n(e){return jT(this,e)};AU.cb=function n(e){return Uo(SO(this,e,false))};AU.v=function n(){return LH(this.bb())};AU.V=function n(){return this.Y()==0};AU.W=function n(){return new zt(this)};AU.db=function n(e,t){throw new Ka("Put not supported on this map")};AU.eb=function n(e){return Uo(SO(this,e,true))};AU.Y=function n(){return this.bb().Y()};AU.w=function n(){return FO(this)};AU.fb=function n(){return new Qt(this)};var nV=Lg(cx,"AbstractMap",638);vR(654,638,ax);AU.bb=function n(){return Dd(this)};AU.W=function n(){var e;e=this.d;return!e?this.d=new wu(this):e};AU.fb=function n(){return _g(this)};var eV=Lg(ex,"Maps/ViewCachingAbstractMap",654);vR(262,654,ax,vu);AU.cb=function n(e){return Py(this,e)};AU.eb=function n(e){return vC(this,e)};AU.Q=function n(){this.a==this.b.b?NG(this.b):zd(new Vk(this))};AU.R=function n(e){return gG(this.a,e)};AU.hb=function n(){return new Fe(this)};AU.gb=function(){return this.hb()};AU.t=function n(e){return this===e||jT(this.a,e)};AU.v=function n(){return LH(new Ft(this.a))};AU.W=function n(){return Md(this.b)};AU.Y=function n(){return Hf(this.a)};AU.w=function n(){return FO(this.a)};var tV=Lg(ex,"AbstractMapBasedMultimap/AsMap",262);vR(640,1,ux);AU.ib=function n(e){return Nm()};AU.jb=function n(e){return wE(this,e)};AU.Q=function n(){dv(this)};AU.kb=function n(e){return cL(this,e,false)};AU.lb=function n(e){return uH(this,e)};AU.V=function n(){return this.Y()==0};AU.nb=function n(e){return cL(this,e,true)};AU.ob=function n(){return this.pb(Vj(WU,WB,1,this.Y(),4,1))};AU.pb=function n(e){return dN(this,e)};AU.w=function n(){return UO(this)};var rV=Lg(cx,"AbstractCollection",640);vR(641,640,fx);AU.t=function n(e){return hL(this,e)};AU.v=function n(){return LH(this)};var iV=Lg(cx,"AbstractSet",641);vR(649,641,fx);var aV=Lg(ex,"Sets/ImprovedAbstractSet",649);vR(655,649,fx);AU.Q=function n(){this.qb().Q()};AU.kb=function n(e){return CL(this,e)};AU.V=function n(){return this.qb().V()};AU.nb=function n(e){var t;if(this.kb(e)){t=ww(e,21);return this.qb().W().nb(t.yb())}return false};AU.Y=function n(){return this.qb().Y()};var cV=Lg(ex,"Maps/EntrySet",655);vR(387,655,fx,Fe);AU.kb=function n(e){return vG(new Ft(this.a.a),e)};AU.mb=function n(){return new Vk(this.a)};AU.qb=function n(){return this.a};AU.nb=function n(e){var t;if(!vG(new Ft(this.a.a),e)){return false}t=ww(e,21);oj(this.a.b,t.yb());return true};var uV=Lg(ex,"AbstractMapBasedMultimap/AsMap/AsMapEntries",387);vR(299,1,ix,Vk);AU.H=function n(){var e;return e=AS(this.b),this.a=ww(e.zb(),19),dy(this.c,e)};AU.G=function n(){return this.b.b};AU.I=function n(){py(this.b);this.c.b.c-=this.a.Y();this.a.Q()};var fV=Lg(ex,"AbstractMapBasedMultimap/AsMap/AsMapIterator",299);vR(260,649,fx,wu);AU.Q=function n(){this.b.Q()};AU.kb=function n(e){return this.b.R(e)};AU.V=function n(){return this.b.V()};AU.mb=function n(){return Ll(),Ub(this.b.bb().mb(),(Ws(),Vz))};AU.nb=function n(e){if(this.b.R(e)){this.b.eb(e);return true}return false};AU.Y=function n(){return this.b.Y()};var oV=Lg(ex,"Maps/KeySet",260);vR(386,260,fx,xl);AU.Q=function n(){var e;zd((e=this.b.bb().mb(),new pu(this,e)))};AU.lb=function n(e){return this.b.W().lb(e)};AU.t=function n(e){return this===e||this.b.W().t(e)};AU.v=function n(){return this.b.W().v()};AU.mb=function n(){var e;return e=this.b.bb().mb(),new pu(this,e)};AU.nb=function n(e){var t,r;r=0;t=ww(this.b.eb(e),19);if(t){r=t.Y();t.Q();this.a.c-=r}return r>0};var sV=Lg(ex,"AbstractMapBasedMultimap/KeySet",386);vR(300,1,ix,pu);AU.G=function n(){return this.c.G()};AU.H=function n(){this.a=ww(this.c.H(),21);return this.a.yb()};AU.I=function n(){var e;HH(!!this.a);e=ww(this.a.zb(),19);this.c.I();this.b.a.c-=e.Y();e.Q()};var lV=Lg(ex,"AbstractMapBasedMultimap/KeySet/1",300);vR(216,640,ux,qj);AU.ib=function n(e){return lS(this,e)};AU.jb=function n(e){return fI(this,e)};AU.Q=function n(){Jp(this)};AU.kb=function n(e){return MI(this),this.d.kb(e)};AU.lb=function n(e){return MI(this),this.d.lb(e)};AU.t=function n(e){return wk(this,e)};AU.v=function n(){return MI(this),this.d.v()};AU.mb=function n(){return MI(this),new Hw(this)};AU.nb=function n(e){return Ym(this,e)};AU.Y=function n(){return MI(this),this.d.Y()};AU.w=function n(){MI(this);return JG(this.d)};var hV=Lg(ex,"AbstractMapBasedMultimap/WrappedCollection",216);var bV=Zw(cx,"List");vR(297,216,ox,tg);AU.rb=function n(e,t){var r;MI(this);r=this.d.V();ww(this.d,20).rb(e,t);++this.a.c;r&&Bb(this)};AU.sb=function n(e){MI(this);return ww(this.d,20).sb(e)};AU.tb=function n(){MI(this);return new Vs(this)};AU.ub=function n(e){MI(this);return new $v(this,e)};AU.vb=function n(e){var t;MI(this);t=ww(this.d,20).vb(e);--this.a.c;Jd(this);return t};AU.wb=function n(e,t){MI(this);return ww(this.d,20).wb(e,t)};AU.xb=function n(e,t){MI(this);return hm(this.a,this.e,ww(this.d,20).xb(e,t),!this.b?this:this.b)};var wV=Lg(ex,"AbstractMapBasedMultimap/WrappedList",297);vR(385,297,sx,Th);var dV=Lg(ex,"AbstractMapBasedMultimap/RandomAccessWrappedList",385);vR(189,1,ix,Hw);AU.G=function n(){return Zd(this),this.b.G()};AU.H=function n(){return Zd(this),this.b.H()};AU.I=function n(){this.b.I();--this.d.f.c;Jd(this.d)};var gV=Lg(ex,"AbstractMapBasedMultimap/WrappedCollection/WrappedIterator",189);vR(298,189,lx,Vs,$v);AU.J=function n(e){var t;t=Yf(this.a)==0;(Zd(this),ww(this.b,96)).J(e);++this.a.a.c;t&&Bb(this.a)};AU.K=function n(){return(Zd(this),ww(this.b,96)).K()};AU.L=function n(){return(Zd(this),ww(this.b,96)).L()};AU.M=function n(){return(Zd(this),ww(this.b,96)).M()};AU.N=function n(){return(Zd(this),ww(this.b,96)).N()};AU.O=function n(e){(Zd(this),ww(this.b,96)).O(e)};var vV=Lg(ex,"AbstractMapBasedMultimap/WrappedList/WrappedListIterator",298);vR(295,216,fx,Yh);var kV=Lg(ex,"AbstractMapBasedMultimap/WrappedSet",295);vR(296,216,hx,Ah);var pV=Lg(ex,"AbstractMapBasedMultimap/WrappedSortedSet",296);vR(668,1,bx);AU.t=function n(e){var t;if(gl(e,21)){t=ww(e,21);return Qg(this.yb(),t.yb())&&Qg(this.zb(),t.zb())}return false};AU.v=function n(){var e,t;e=this.yb();t=this.zb();return(e==null?0:LI(e))^(t==null?0:LI(t))};AU.Ab=function n(e){throw new si};AU.w=function n(){return this.yb()+"="+this.zb()};var mV=Lg(ex,wx,668);vR(390,640,ux,Ve);AU.Q=function n(){NG(this.a)};AU.kb=function n(e){return xC(this.a,e)};AU.mb=function n(){return new eE(this.a)};AU.Y=function n(){return this.a.c};var jV=Lg(ex,"AbstractMultimap/Values",390);vR(656,640,dx);AU.ib=function n(e){return this.Bb(e,1),true};AU.Bb=function n(e,t){throw new si};AU.jb=function n(e){return mO(this,e)};AU.Q=function n(){zd(this.Eb())};AU.kb=function n(e){return this.Cb(e)>0};AU.Cb=function n(e){var t,r;for(r=Mg(this).mb();r.G();){t=ww(r.H(),83);if(Qg(t.Zb(),e)){return t.Yb()}}return 0};AU.gb=function n(){return new ze(this)};AU.bb=function n(){return Mg(this)};AU.t=function n(e){return DP(this,e)};AU.v=function n(){return Mg(this).v()};AU.V=function n(){return Mg(this).V()};AU.mb=function n(){return Rr(),new Iu(this,Mg(this).mb())};AU.nb=function n(e){return this.Fb(e,1)>0};AU.Fb=function n(e,t){throw new si};AU.Gb=function n(e,t){var r,i;return Rr(),hS(t,"count"),r=this.Cb(e),i=t-r,i>0?this.Bb(e,i):i<0&&this.Fb(e,-i),r};AU.Hb=function n(e,t,r){return FC(this,e,t,r)};AU.Y=function n(){return GH(this)};AU.w=function n(){return JG(Mg(this))};var yV=Lg(ex,"AbstractMultiset",656);vR(657,649,fx);AU.Q=function n(){this.Ib().Q()};AU.kb=function n(e){var t,r;if(gl(e,83)){r=ww(e,83);if(r.Yb()<=0){return false}t=this.Ib().Cb(r.Zb());return t==r.Yb()}return false};AU.nb=function n(e){var t,r,i,a;if(gl(e,83)){r=ww(e,83);t=r.Zb();i=r.Yb();if(i!=0){a=this.Ib();return a.Hb(t,i,0)}}return false};var SV=Lg(ex,"Multisets/EntrySet",657);vR(396,657,fx,ze);AU.mb=function n(){return this.a.Eb()};AU.Ib=function n(){return this.a};AU.Y=function n(){return this.a.Db()};var EV=Lg(ex,"AbstractMultiset/EntrySet",396);vR(384,294,rx);AU.Z=function n(){return new lu(pH(this.a))};AU.$=function n(){return Ob(),Zg(),gq};AU.U=function n(e){return ww(LO(this,e),18)};AU.X=function n(e){return ww(sP(this,e),18)};AU.P=function n(){var e;return e=this.f,!e?this.f=new vu(this,this.b):e};AU.t=function n(e){return aC(this,e)};var HV=Lg(ex,"AbstractSetMultimap",384);vR(342,656,dx);var CV=Lg(ex,"AbstractSortedMultiset",342);vR(280,600,rx,sb);AU.a=0;var IV=Lg(ex,"ArrayListMultimap",280);vR(159,17,gx);var LV,GV;var NV=Yy(ex,"BoundType",159,RF,ov);vR(623,159,gx,cs);var OV=Yy(ex,"BoundType/1",623,NV,null);vR(624,159,gx,Ts);var TV=Yy(ex,"BoundType/2",624,NV,null);var PV;vR(234,1,kx);AU.w=function n(){return ym(this.c.mb())};var RV=Lg(ex,"FluentIterable",234);vR(170,234,kx,Ss);AU.mb=function n(){return mg(this)};var YV=Lg(ex,"FluentIterable/2",170);vR(664,1,{});AU.w=function n(){return JG(Rv(this.a.d).b)};var AV=Lg(ex,"ForwardingObject",664);vR(665,664,ux);AU.ib=function n(e){return Rv(this.a.d),wi()};AU.jb=function n(e){return Rv(this.a.d),di()};AU.Q=function n(){Rv(this.a.d);gi()};AU.kb=function n(e){return Nf(Rv(this.a.d),e)};AU.lb=function n(e){return Of(Rv(this.a.d),e)};AU.V=function n(){return Rv(this.a.d).b.V()};AU.mb=function n(){var e;return e=Rv(this.a.d).b.mb(),new cr(e)};AU.nb=function n(e){return Rv(this.a.d),vi()};AU.Y=function n(){return Rv(this.a.d).b.Y()};AU.ob=function n(){return nk(Rv(this.a.d))};AU.pb=function n(e){return kk(Rv(this.a.d),e)};var _V=Lg(ex,"ForwardingCollection",665);vR(660,640,px);AU.mb=function n(){return this.Kb()};AU.ib=function n(e){return _r()};AU.jb=function n(e){return Mr()};AU.Q=function n(){Dr()};AU.kb=function n(e){return e!=null&&cL(this,e,false)};AU.Jb=function n(){switch(this.Y()){case 0:return Jg(),Jg(),BV;case 1:return Jg(),new md(this.Kb().H());default:return new eg(this,this.ob())}};AU.nb=function n(e){return Br()};var MV=Lg(ex,"ImmutableCollection",660);vR(316,660,px,Oi);AU.mb=function n(){return dS(this.a.mb())};AU.kb=function n(e){return e!=null&&this.a.kb(e)};AU.lb=function n(e){return this.a.lb(e)};AU.V=function n(){return this.a.V()};AU.Kb=function n(){return dS(this.a.mb())};AU.Y=function n(){return this.a.Y()};AU.ob=function n(){return this.a.ob()};AU.pb=function n(e){return this.a.pb(e)};AU.w=function n(){return JG(this.a)};var DV=Lg(ex,"ForwardingImmutableCollection",316);vR(87,660,mx);AU.mb=function n(){return this.Kb()};AU.tb=function n(){return this.Lb(0)};AU.ub=function n(e){return this.Lb(e)};AU.xb=function n(e,t){return this.Mb(e,t)};AU.rb=function n(e,t){throw new si};AU.t=function n(e){return ZP(this,e)};AU.v=function n(){return ZE(this)};AU.Kb=function n(){return this.Lb(0)};AU.Lb=function n(e){return Yl(this,e)};AU.vb=function n(e){throw new si};AU.wb=function n(e,t){throw new si};AU.Mb=function n(e,t){var r;return qH((r=new Tu(this),new Ap(r,e,t)))};var BV;var xV=Lg(ex,"ImmutableList",87);vR(667,87,mx);AU.mb=function n(){return dS(this.Nb().mb())};AU.xb=function n(e,t){return qH(this.Nb().xb(e,t))};AU.kb=function n(e){return Ib(this,e)};AU.lb=function n(e){return this.Nb().lb(e)};AU.t=function n(e){return this.Nb().t(e)};AU.sb=function n(e){return Fo(this,e)};AU.v=function n(){return this.Nb().v()};AU.V=function n(){return this.Nb().V()};AU.Kb=function n(){return dS(this.Nb().mb())};AU.Y=function n(){return this.Nb().Y()};AU.Mb=function n(e,t){return qH(this.Nb().xb(e,t))};AU.ob=function n(){return this.Nb().pb(Vj(WU,WB,1,this.Nb().Y(),4,1))};AU.pb=function n(e){return this.Nb().pb(e)};AU.w=function n(){return JG(this.Nb())};var $V=Lg(ex,"ForwardingImmutableList",667);vR(524,1,jx);AU.bb=function n(){return xd(this)};AU.W=function n(){return $d(this)};AU.fb=function n(){return this.Rb()};AU.Q=function n(){throw new si};AU.R=function n(e){return this.cb(e)!=null};AU.ab=function n(e){return this.Rb().kb(e)};AU.Pb=function n(){return new Ti(this)};AU.Qb=function n(){return new Pi(this)};AU.t=function n(e){return UC(this,e)};AU.v=function n(){return xd(this).v()};AU.V=function n(){return this.Y()==0};AU.db=function n(e,t){return $r()};AU.eb=function n(e){throw new si};AU.w=function n(){var e;return Ll(),e=xg($y(this.Y()),123),lI(Uz,e,xd(this).mb()),e.a+="}",e.a};AU.Rb=function n(){if(this.g){return this.g}return this.g=this.Qb()};AU.e=null;AU.f=null;AU.g=null;var UV=Lg(ex,"ImmutableMap",524);vR(320,524,jx);AU.R=function n(e){return gG(this.d,e)};AU.ab=function n(e){return Cf(this.d,e)};AU.Ob=function n(){return zC(new qe(this))};AU.Pb=function n(){return zC(hv(this.d))};AU.Qb=function n(){return Ob(),new Oi(Yv(this.d))};AU.t=function n(e){return ru(this.d,e)};AU.cb=function n(e){return e==null?null:iG(this.d,e)};AU.v=function n(){return this.d.c.v()};AU.V=function n(){return this.d.c.V()};AU.Y=function n(){return this.d.c.Y()};AU.w=function n(){return JG(this.d.c)};var FV=Lg(ex,"ForwardingImmutableMap",320);vR(666,665,fx);AU.t=function n(e){return e===this||tu(Rv(this.a.d),e)};AU.v=function n(){return Rv(this.a.d).b.v()};var VV=Lg(ex,"ForwardingSet",666);vR(523,666,fx,qe);AU.kb=function n(e){if(gl(e,21)&&ww(e,21).yb()==null){return false}try{return Nf(Rv(this.a.d),e)}catch(n){n=mC(n);if(gl(n,119)){return false}else throw hI(n)}};AU.pb=function n(e){var t;t=kk(Rv(this.a.d),e);Rv(this.a.d).b.Y()<t.length&&Og(t,Rv(this.a.d).b.Y(),null);return t};var zV=Lg(ex,"ForwardingImmutableMap/1",523);vR(663,660,yx);AU.mb=function n(){return this.Kb()};AU.t=function n(e){return UT(this,e)};AU.v=function n(){return dE(this)};var qV=Lg(ex,"ImmutableSet",663);vR(315,663,yx);AU.mb=function n(){return dS(new ir(this.a.b.mb()))};AU.kb=function n(e){return e!=null&&If(this.a,e)};AU.lb=function n(e){return Lf(this.a,e)};AU.v=function n(){return this.a.b.v()};AU.V=function n(){return this.a.b.V()};AU.Kb=function n(){return dS(new ir(this.a.b.mb()))};AU.Y=function n(){return this.a.b.Y()};AU.ob=function n(){return this.a.b.ob()};AU.pb=function n(e){return Gf(this.a,e)};AU.w=function n(){return JG(this.a.b)};var QV=Lg(ex,"ForwardingImmutableSet",315);vR(178,1,{178:1,3:1},dP);AU.t=function n(e){var t;if(gl(e,178)){t=ww(e,178);return this.a.t(t.a)&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.f==t.f&&Qg(this.e,t.e)&&Qg(this.g,t.g)}return false};AU.v=function n(){return lC(UH(rc(WU,1),WB,1,4,[this.a,this.e,this.d,this.g,this.f]))};AU.w=function n(){return xg(Jo(xg(Jo(xg(Zo(Jo(new Oc,this.a),":"),this.d==(Qs(),LV)?91:40),this.b?this.e:"-"),44),this.c?this.g:""),this.f==LV?93:41).a};AU.b=false;AU.c=false;var KV=Lg(ex,"GeneralRange",178);vR(215,384,rx,Df);AU.a=2;var WV=Lg(ex,"HashMultimap",215);vR(661,87,mx);AU.kb=function n(e){return this.Sb().kb(e)};AU.V=function n(){return this.Sb().V()};AU.Y=function n(){return this.Sb().Y()};var JV=Lg(ex,"ImmutableAsList",661);vR(275,320,jx);AU.Rb=function n(){return this.Ub()};AU.fb=function n(){return this.Ub()};AU.Ub=function n(){return $d(this.Tb())};var ZV=Lg(ex,"ImmutableBiMap",275);vR(341,668,{3:1,21:1},mu);AU.yb=function n(){return this.a};AU.zb=function n(){return this.b};AU.Ab=function n(e){throw new si};var XV=Lg(ex,"ImmutableEntry",341);vR(436,315,yx,qi);var nz=Lg(ex,"ImmutableEnumSet",436);vR(379,378,tx,Ng);var ez=Lg(ex,"ImmutableList/1",379);vR(266,108,nx,Qe);AU.G=function n(){return this.a.G()};AU.H=function n(){return ww(this.a.H(),21).yb()};var tz=Lg(ex,"ImmutableMap/1",266);vR(670,663,yx);AU.mb=function n(){var e;return e=xd(this.a).Kb(),new Qe(e)};AU.Jb=function n(){return new Ni(this)};AU.Kb=function n(){var e;return(e=this.c,!e?this.c=new Ni(this):e).Kb()};var rz=Lg(ex,"ImmutableSet/Indexed",670);vR(606,670,yx,Ti);AU.mb=function n(){var e;return e=xd(this.a).Kb(),new Qe(e)};AU.kb=function n(e){return this.a.R(e)};AU.Kb=function n(){var e;return e=xd(this.a).Kb(),new Qe(e)};AU.Y=function n(){return this.a.Y()};var iz=Lg(ex,"ImmutableMapKeySet",606);vR(604,660,px,Pi);AU.mb=function n(){return new Dw(this)};AU.kb=function n(e){return e!=null&&(Ks(),Ks(),eC(new Dw(this),(Kf(),e==null?(Qv(),_F):new $e(e)))!=-1)};AU.Jb=function n(){var e;e=Bd(xd(this.a));return new ol(this,e)};AU.Kb=function n(){return new Dw(this)};AU.Y=function n(){return this.a.Y()};var az=Lg(ex,"ImmutableMapValues",604);vR(282,108,nx,Dw);AU.G=function n(){return this.a.G()};AU.H=function n(){return ww(this.a.H(),21).zb()};var cz=Lg(ex,"ImmutableMapValues/1",282);vR(605,661,mx,ol);AU.Sb=function n(){return this.a};AU.sb=function n(e){return ww(this.b.sb(e),21).zb()};var uz=Lg(ex,"ImmutableMapValues/2",605);vR(311,661,mx,Ni);AU.Sb=function n(){return this.a};AU.sb=function n(e){return kg(this.a,e)};var fz=Lg(ex,"ImmutableSet/Indexed/1",311);vR(414,234,kx,Es);AU.mb=function n(){return mh(this.a)};AU.w=function n(){return UO(this.a)+" (cycled)"};var oz=Lg(ex,"Iterables/1",414);vR(105,1,Sx,h);AU.B=function n(e){return ww(e,22).mb()};var sz=Lg(ex,"Iterables/12",105);vR(415,234,kx,Aw);AU.mb=function n(){return _s(this)};var lz=Lg(ex,"Iterables/4",415);vR(416,234,kx,_w);AU.mb=function n(){return Ms(this)};var hz=Lg(ex,"Iterables/5",416);var bz,wz;vR(424,651,tx,b);AU.G=function n(){return false};AU.K=function n(){return false};AU.H=function n(){throw new Mi};AU.L=function n(){return 0};AU.M=function n(){throw new Mi};AU.N=function n(){return-1};var dz=Lg(ex,"Iterators/1",424);vR(264,108,nx,We);AU.G=function n(){return!this.a};AU.H=function n(){if(this.a){throw new Mi}this.a=true;return this.b};AU.a=false;var gz=Lg(ex,"Iterators/11",264);vR(425,1,ix,w);AU.G=function n(){return false};AU.H=function n(){throw new Mi};AU.I=function n(){HH(false)};var vz=Lg(ex,"Iterators/2",425);vR(426,108,nx,Ke);AU.G=function n(){return this.a.G()};AU.H=function n(){return this.a.H()};var kz=Lg(ex,"Iterators/3",426);vR(427,1,ix,Gb);AU.G=function n(){return this.a.G()||this.b.mb().G()};AU.H=function n(){return wS(this)};AU.I=function n(){this.a.I()};var pz=Lg(ex,"Iterators/4",427);vR(429,428,nx,ku);var mz=Lg(ex,"Iterators/6",429);vR(261,1,ix);AU.G=function n(){return this.b.G()};AU.H=function n(){return Uf(this)};AU.I=function n(){this.b.I()};var jz=Lg(ex,"TransformedIterator",261);vR(430,261,ix,Dl);AU.Vb=function n(e){return ic(this,e)};var yz=Lg(ex,"Iterators/7",430);vR(313,1,ix);AU.G=function n(){return AI(this)};AU.H=function n(){return Jk(this)};AU.I=function n(){HH(!!this.c);this.c.I();this.c=null};var Sz=Lg(ex,"MultitransformedIterator",313);vR(90,313,{90:1,35:1},Ps);AU.Wb=function n(e){return ww(e,35)};var Ez=Lg(ex,"Iterators/ConcatenatedIterator",90);vR(314,313,ix,Qi);AU.Wb=function n(e){return sE(ww(e,35))};var Hz=Lg(ex,"Iterators/ConcatenatedIterator/1",314);vR(329,653,rx,Vf);AU.U=function n(e){return new ju(this,e)};AU.X=function n(e){return $m(this,e)};AU.Q=function n(){Tg(this)};AU.R=function n(e){return Du(this,e)};AU.S=function n(){return new Ff(this)};AU.T=function n(){return new Ze(this)};AU.V=function n(){return!this.a};AU.Y=function n(){return this.d};AU.c=0;AU.d=0;var Cz=Lg(ex,"LinkedListMultimap",329);vR(647,640,ox);AU.rb=function n(e,t){throw new Ka("Add not supported on this list")};AU.ib=function n(e){this.rb(this.Y(),e);return true};AU.Q=function n(){this.Xb(0,this.Y())};AU.t=function n(e){return OP(this,e)};AU.v=function n(){return nC(this)};AU.mb=function n(){return new Vt(this)};AU.tb=function n(){return this.ub(0)};AU.ub=function n(e){return new Dp(this,e)};AU.vb=function n(e){throw new Ka("Remove not supported on this list")};AU.Xb=function n(e,t){var r,i;i=this.ub(e);for(r=e;r<t;++r){i.H();i.I()}};AU.wb=function n(e,t){throw new Ka("Set not supported on this list")};AU.xb=function n(e,t){return new Ap(this,e,t)};AU.d=0;var Iz=Lg(cx,"AbstractList",647);vR(648,647,ox);AU.rb=function n(e,t){Zl(this,e,t)};AU.sb=function n(e){return rG(this,e)};AU.mb=function n(){return this.ub(0)};AU.vb=function n(e){return wN(this,e)};AU.wb=function n(e,t){var r,i;r=this.ub(e);try{i=r.H();r.O(t);return i}catch(n){n=mC(n);if(gl(n,74)){throw new Ha("Can't set element "+e)}else throw hI(n)}};var Lz=Lg(cx,"AbstractSequentialList",648);vR(276,648,ox,ju);AU.ub=function n(e){return Al(this,e)};AU.Y=function n(){var e;e=ww(Vg(this.a.b,this.b),126);return!e?0:e.a};var Gz=Lg(ex,"LinkedListMultimap/1",276);vR(330,648,ox,Je);AU.ub=function n(e){return new gO(this.a,e)};AU.Y=function n(){return this.a.d};var Nz=Lg(ex,"LinkedListMultimap/1EntriesImpl",330);vR(563,649,fx,Ze);AU.kb=function n(e){return Du(this.a,e)};AU.mb=function n(){return new tE(this.a)};AU.nb=function n(e){return!$m(this.a,e).a.V()};AU.Y=function n(){return Hf(this.a.b)};var Oz=Lg(ex,"LinkedListMultimap/1KeySetImpl",563);vR(562,1,ix,tE);AU.G=function n(){ab(this);return!!this.c};AU.H=function n(){ab(this);Mo(this.c);this.a=this.c;sg(this.d,this.a.a);do{this.c=this.c.b}while(!!this.c&&!sg(this.d,this.c.a));return this.a.a};AU.I=function n(){ab(this);HH(!!this.a);zd(new Ay(this.e,this.a.a));this.a=null;this.b=this.e.c};AU.b=0;var Tz=Lg(ex,"LinkedListMultimap/DistinctKeyIterator",562);vR(126,1,{126:1},lk);AU.a=0;var Pz=Lg(ex,"LinkedListMultimap/KeyList",126);vR(560,668,bx,yu);AU.yb=function n(){return this.a};AU.zb=function n(){return this.f};AU.Ab=function n(e){var t;t=this.f;this.f=e;return t};var Rz=Lg(ex,"LinkedListMultimap/Node",560);vR(561,1,lx,gO);AU.J=function n(e){ww(e,21);Ur()};AU.H=function n(){return Kp(this)};AU.M=function n(){return Wp(this)};AU.O=function n(e){ww(e,21);Fr()};AU.G=function n(){cb(this);return!!this.c};AU.K=function n(){cb(this);return!!this.e};AU.L=function n(){return this.d};AU.N=function n(){return this.d-1};AU.I=function n(){cb(this);HH(!!this.a);if(this.a!=this.c){this.e=this.a.d;--this.d}else{this.c=this.a.b}lP(this.f,this.a);this.a=null;this.b=this.f.c};AU.b=0;AU.d=0;var Yz=Lg(ex,"LinkedListMultimap/NodeIterator",561);vR(241,1,lx,Ay,JT);AU.J=function n(e){this.e=HA(this.f,this.b,e,this.c);++this.d;this.a=null};AU.G=function n(){return!!this.c};AU.K=function n(){return!!this.e};AU.H=function n(){return fp(this)};AU.L=function n(){return this.d};AU.M=function n(){return op(this)};AU.N=function n(){return this.d-1};AU.I=function n(){HH(!!this.a);if(this.a!=this.c){this.e=this.a.e;--this.d}else{this.c=this.a.c}lP(this.f,this.a);this.a=null};AU.O=function n(e){_o(!!this.a);this.a.f=e};AU.d=0;var Az=Lg(ex,"LinkedListMultimap/ValueForKeyIterator",241);vR(419,647,ox);AU.rb=function n(e,t){this.a.rb(e,t)};AU.kb=function n(e){return this.a.kb(e)};AU.sb=function n(e){return this.a.sb(e)};AU.vb=function n(e){return this.a.vb(e)};AU.wb=function n(e,t){return this.a.wb(e,t)};AU.Y=function n(){return this.a.Y()};var _z=Lg(ex,"Lists/AbstractListWrapper",419);vR(420,419,sx);var Mz=Lg(ex,"Lists/RandomAccessListWrapper",420);vR(422,420,sx,Tu);AU.ub=function n(e){return this.a.ub(e)};var Dz=Lg(ex,"Lists/1",422);vR(88,647,{88:1,22:1,19:1,20:1},Pu);AU.rb=function n(e,t){this.a.rb(_d(this,e),t)};AU.Q=function n(){this.a.Q()};AU.sb=function n(e){return this.a.sb(Cg(this,e))};AU.mb=function n(){return Tp(this,0)};AU.ub=function n(e){return Tp(this,e)};AU.vb=function n(e){return this.a.vb(Cg(this,e))};AU.Xb=function n(e,t){(Qk(e,t,this.a.Y()),PE(this.a.xb(_d(this,t),_d(this,e)))).Q()};AU.wb=function n(e,t){return this.a.wb(Cg(this,e),t)};AU.Y=function n(){return this.a.Y()};AU.xb=function n(e,t){return Qk(e,t,this.a.Y()),PE(this.a.xb(_d(this,t),_d(this,e)))};var Bz=Lg(ex,"Lists/ReverseList",88);vR(220,88,{88:1,22:1,19:1,20:1,63:1},Wi);var xz=Lg(ex,"Lists/RandomAccessReverseList",220);vR(421,1,lx,Cu);AU.J=function n(e){this.c.J(e);this.c.M();this.a=false};AU.G=function n(){return this.c.K()};AU.K=function n(){return this.c.G()};AU.H=function n(){if(!this.c.K()){throw new Mi}this.a=true;return this.c.M()};AU.L=function n(){return _d(this.b,this.c.L())};AU.M=function n(){if(!this.c.G()){throw new Mi}this.a=true;return this.c.H()};AU.N=function n(){return _d(this.b,this.c.L())-1};AU.I=function n(){HH(this.a);this.c.I();this.a=false};AU.O=function n(e){_o(this.a);this.c.O(e)};AU.a=false;var $z=Lg(ex,"Lists/ReverseList/1",421);var Uz;vR(376,261,ix,Bl);AU.Vb=function n(e){return Ll(),new mu(e,Vo(this.a,e))};var Fz=Lg(ex,"Maps/1",376);vR(188,17,Cx);var Vz,zz;var qz=Yy(ex,"Maps/EntryFunction",188,RF,fv);vR(374,188,Cx,Bf);AU.B=function n(e){return ww(e,21).yb()};var Qz=Yy(ex,"Maps/EntryFunction/1",374,qz,null);vR(375,188,Cx,ms);AU.B=function n(e){return ww(e,21).zb()};var Kz=Yy(ex,"Maps/EntryFunction/2",375,qz,null);vR(373,640,ux,Ru);AU.Q=function n(){this.a.Q()};AU.kb=function n(e){return this.a.ab(e)};AU.V=function n(){return this.a.V()};AU.mb=function n(){return Wg(this)};AU.nb=function n(e){var t,r;try{return cL(this,e,true)}catch(n){n=mC(n);if(gl(n,45)){for(r=this.a.bb().mb();r.G();){t=ww(r.H(),21);if(Qg(e,t.zb())){this.a.eb(t.yb());return true}}return false}else throw hI(n)}};AU.Y=function n(){return this.a.Y()};var Wz=Lg(ex,"Maps/Values",373);vR(301,654,ax,Ff);AU.cb=function n(e){return this.a.R(e)?this.a.U(e):null};AU.eb=function n(e){return this.a.R(e)?this.a.X(e):null};AU.Q=function n(){this.a.Q()};AU.R=function n(e){return this.a.R(e)};AU.hb=function n(){return new Xe(this)};AU.gb=function(){return this.hb()};AU.V=function n(){return this.a.V()};AU.W=function n(){return this.a.W()};AU.Y=function n(){return this.a.W().Y()};var Jz=Lg(ex,"Multimaps/AsMap",301);vR(393,655,fx,Xe);AU.mb=function n(){return Fb(this.a.a.W(),new nt(this))};AU.qb=function n(){return this.a};AU.nb=function n(e){var t;if(!CL(this,e)){return false}t=ww(e,21);Zi(this.a,t.yb());return true};var Zz=Lg(ex,"Multimaps/AsMap/EntrySet",393);vR(395,1,Sx,nt);AU.B=function n(e){return Vo(this,e)};var Xz=Lg(ex,"Multimaps/AsMap/EntrySet/1",395);vR(391,656,dx,et);AU.Q=function n(){Tg(this.a)};AU.kb=function n(e){return Du(this.a,e)};AU.Cb=function n(e){var t;return t=ww(iG(Yg(this.a),e),19),!t?0:t.Y()};AU.gb=function n(){return new rt(this)};AU.Db=function n(){return Yg(this.a).Y()};AU.Eb=function n(){return new Ki(Dd(Yg(this.a)).mb())};AU.mb=function n(){return pg(this)};AU.Fb=function n(e,t){var r,i,a,c,u;hS(t,Ix);if(t==0){return u=ww(iG(Yg(this.a),e),19),!u?0:u.Y()}c=ww(iG(Yg(this.a),e),19);if(!c){return 0}a=c.Y();if(t>=a){c.Q()}else{i=c.mb();for(r=0;r<t;r++){i.H();i.I()}}return a};var nq=Lg(ex,"Multimaps/Keys",391);vR(302,261,ix,Ki);AU.Vb=function n(e){return new tt(ww(e,21))};var eq=Lg(ex,"Multimaps/Keys/1",302);vR(658,1,{83:1});AU.t=function n(e){var t;if(gl(e,83)){t=ww(e,83);return this.Yb()==t.Yb()&&Qg(this.Zb(),t.Zb())}return false};AU.v=function n(){var e;e=this.Zb();return(e==null?0:LI(e))^this.Yb()};AU.w=function n(){return Om(this)};var tq=Lg(ex,"Multisets/AbstractEntry",658);vR(394,658,{83:1},tt);AU.Yb=function n(){return ww(this.a.zb(),19).Y()};AU.Zb=function n(){return this.a.yb()};var rq=Lg(ex,"Multimaps/Keys/1/1",394);vR(392,657,fx,rt);AU.kb=function n(e){var t,r;if(gl(e,83)){r=ww(e,83);t=ww(Yg(this.a.a).cb(r.Zb()),19);return!!t&&t.Y()==r.Yb()}return false};AU.V=function n(){return!this.a.a.a};AU.mb=function n(){return new Ki(Dd(Yg(this.a.a)).mb())};AU.Ib=function n(){return this.a};AU.nb=function n(e){var t,r;if(gl(e,83)){r=ww(e,83);t=ww(Yg(this.a.a).cb(r.Zb()),19);if(!!t&&t.Y()==r.Yb()){t.Q();return true}}return false};AU.Y=function n(){return Yg(this.a.a).Y()};var iq=Lg(ex,"Multimaps/Keys/KeysEntrySet",392);vR(659,1,_B);var aq=Lg(ex,"Ordering",659);vR(398,659,_B,f);AU.$b=function n(e,t){return Xl(ww(e,83),ww(t,83))};var cq=Lg(ex,"Multisets/1",398);vR(397,658,{83:1,3:1},Mw);AU.Yb=function n(){return this.a};AU.Zb=function n(){return this.b};AU.a=0;var uq=Lg(ex,"Multisets/ImmutableEntry",397);vR(303,1,ix,Iu);AU.G=function n(){return this.d>0||this.c.G()};AU.H=function n(){if(!(this.d>0||this.c.G())){throw new Mi}if(this.d==0){this.b=ww(this.c.H(),83);this.f=this.d=this.b.Yb()}--this.d;this.a=true;return this.b.Zb()};AU.I=function n(){HH(this.a);this.f==1?this.c.I():this.e.Fb(this.b.Zb(),1)>0;--this.f;this.a=false};AU.a=false;AU.d=0;AU.f=0;var fq=Lg(ex,"Multisets/MultisetIteratorImpl",303);vR(622,659,{3:1,56:1},s);AU.$b=function n(e,t){return ub(ww(e,23),ww(t,23))};AU.w=function n(){return"Ordering.natural()"};var oq;var sq=Lg(ex,"NaturalOrdering",622);vR(343,661,mx,eg);AU.ub=function n(e){return Yl(this.b,e)};AU.Sb=function n(){return this.a};AU.sb=function n(e){return Fo(this.b,e)};AU.Lb=function n(e){return Yl(this.b,e)};var lq=Lg(ex,"RegularImmutableAsList",343);vR(559,275,jx,cv);AU.Tb=function n(){return this.a};var hq;var bq=Lg(ex,"RegularImmutableBiMap",559);vR(53,667,mx,em);AU.Nb=function n(){return this.a};var wq=Lg(ex,"RegularImmutableList",53);vR(321,320,jx,Ji);var dq=Lg(ex,"RegularImmutableMap",321);vR(265,315,yx,xf);var gq;var vq=Lg(ex,"RegularImmutableSet",265);vR(650,641,fx);var kq=Lg(ex,"Sets/SetView",650);vR(377,650,fx,Yb);AU.kb=function n(e){return iu(this.b,e)&&iu(this.c,e)};AU.lb=function n(e){return uH(this.b,e)&&uH(this.c,e)};AU.V=function n(){return mS(this)};AU.mb=function n(){var e;return ng((e=new zt(this.b.a).a.bb().mb(),new qt(e)),this.a)};AU.Y=function n(){var e;return hj(ng((e=new zt(this.b.a).a.bb().mb(),new qt(e)),this.a))};var pq=Lg(ex,"Sets/2",377);vR(328,275,jx,Mp,jy);AU.fb=function n(){return Ob(),new Uc(this.c)};AU.Tb=function n(){var e;e=this.a;return!e?this.a=new jy(this.c,this.b,this):e};AU.Ub=function n(){return Ob(),new Uc(this.c)};var mq=Lg(ex,"SingletonImmutableBiMap",328);vR(127,667,mx,md);AU.Nb=function n(){return this.a};var jq=Lg(ex,"SingletonImmutableList",127);vR(135,663,yx,Uc);AU.mb=function n(){return Ks(),new We(this.a)};AU.kb=function n(e){return CC(this.a,e)};AU.Kb=function n(){return Ks(),new We(this.a)};AU.Y=function n(){return 1};var yq=Lg(ex,"SingletonImmutableSet",135);vR(285,342,{207:1,3:1,22:1,19:1},up,uG);AU.Bb=function n(e,t){return kP(this,e,t)};AU.Cb=function n(e){return eO(this,e)};AU.Db=function n(){return xy(tC(this,(Js(),Cq)))};AU.Eb=function n(){return new $l(this)};AU.Fb=function n(e,t){return bR(this,e,t)};AU.Gb=function n(e,t){return YO(this,e,t)};AU.Hb=function n(e,t,r){var i,a,c;hS(r,"newCount");hS(t,"oldCount");Ao(Sh(this.b,e));c=this.c.a;if(!c){if(t==0){r>0&&kP(this,e,r);return true}else{return false}}a=Vj(ytn,Lx,26,1,12,1);i=R_(c,this.d,e,t,r,a);bd(this.c,c,i);return a[0]==t};AU.Y=function n(){return xy(tC(this,(Js(),Iq)))};var Sq=Lg(ex,"TreeMultiset",285);vR(619,658,{83:1},Gu);AU.Yb=function n(){var e;e=this.b.c;return e==0?eO(this.a,this.b.b):e};AU.Zb=function n(){return this.b.b};var Eq=Lg(ex,"TreeMultiset/1",619);vR(620,1,ix,$l);AU.H=function n(){return $C(this)};AU.G=function n(){return EH(this)};AU.I=function n(){HH(!!this.b);YO(this.c,this.b.b.b,0);this.b=null};var Hq=Lg(ex,"TreeMultiset/2",620);vR(205,17,Gx);var Cq,Iq;var Lq=Yy(ex,"TreeMultiset/Aggregate",205,RF,sv);vR(617,205,Gx,us);AU._b=function n(e){return e.c};AU.ac=function n(e){return!e?0:e.j};var Gq=Yy(ex,"TreeMultiset/Aggregate/1",617,Lq,null);vR(618,205,Gx,Cl);AU._b=function n(e){return 1};AU.ac=function n(e){return!e?0:e.a};var Nq=Yy(ex,"TreeMultiset/Aggregate/2",618,Lq,null);vR(206,658,{83:1,206:1},GE);AU.Yb=function n(){return this.c};AU.Zb=function n(){return this.b};AU.w=function n(){return Rr(),Om(new Mw(this.b,this.c))};AU.a=0;AU.c=0;AU.d=0;AU.j=0;var Oq=Lg(ex,"TreeMultiset/AvlNode",206);vR(616,1,{},l);var Tq=Lg(ex,"TreeMultiset/Reference",616);var Pq=Lg(UB,"JavaScriptObject$",0);var Rq;vR(628,1,{});var Yq=Lg(UB,"Scheduler",628);var Aq=0,_q=0,Mq=-1;vR(360,628,{},u);var Dq;var Bq=Lg(FB,"SchedulerImpl",360);vR(646,1,{});AU.hc=function n(){return null};AU.ic=function n(){return null};AU.jc=function n(){return null};AU.kc=function n(){return null};AU.lc=function n(){return null};var xq=Lg(Ox,"JSONValue",646);vR(214,646,{214:1},or,it);AU.t=function n(e){if(!gl(e,214)){return false}return this.a==ww(e,214).a};AU.gc=function n(){return pr};AU.v=function n(){return Eh(this.a)};AU.hc=function n(){return this};AU.w=function n(){var e,t,r;r=new Hc("[");for(t=0,e=this.a.length;t<e;t++){t>0&&(r.a+=",",r);Jo(r,gS(this,t))}r.a+="]";return r.a};var $q=Lg(Ox,"JSONArray",214);vR(292,646,{},at);AU.gc=function n(){return mr};AU.ic=function n(){return this};AU.w=function n(){return El(this.a)};AU.a=false;var Uq,Fq;var Vq=Lg(Ox,"JSONBoolean",292);vR(371,72,HB,ra);var zq=Lg(Ox,"JSONException",371);vR(435,646,{},d);AU.gc=function n(){return Hr};AU.w=function n(){return CB};var qq;var Qq=Lg(Ox,"JSONNull",435);vR(104,646,{104:1},ct);AU.t=function n(e){if(!gl(e,104)){return false}return this.a==ww(e,104).a};AU.gc=function n(){return jr};AU.v=function n(){return Uk(Sa(this.a))};AU.jc=function n(){return this};AU.w=function n(){return this.a+""};AU.a=0;var Kq=Lg(Ox,"JSONNumber",104);vR(69,646,{69:1},ua,ut);AU.t=function n(e){if(!gl(e,69)){return false}return this.a==ww(e,69).a};AU.gc=function n(){return yr};AU.v=function n(){return Eh(this.a)};AU.kc=function n(){return this};AU.w=function n(){var e,t,r,i,a,c;c=new Hc("{");e=true;a=HE(this,Vj(bF,SB,2,0,5,1));for(r=0,i=a.length;r<i;++r){t=a[r];e?e=false:(c.a+=", ",c);Zo(c,TP(t));c.a+=":";Jo(c,Tv(this,t))}c.a+="}";return c.a};var Wq=Lg(Ox,"JSONObject",69);vR(361,641,fx,Ou);AU.kb=function n(e){return Rl(e)&&sc(this.a,Uh(e))};AU.mb=function n(){return new Vt(new nr(this.b))};AU.Y=function n(){return this.b.length};var Jq=Lg(Ox,"JSONObject/1",361);var Zq;vR(97,646,{97:1},hd);AU.t=function n(e){if(!gl(e,97)){return false}return Xi(this.a,ww(e,97).a)};AU.gc=function n(){return Sr};AU.v=function n(){return sG(this.a)};AU.lc=function n(){return this};AU.w=function n(){return TP(this.a)};var Xq=Lg(Ox,"JSONString",97);var nQ,eQ,tQ;vR(186,1,{},ob,Mh);AU.b=false;AU.c=0;AU.d=-1;AU.e=0;AU.f=false;AU.j=0;var rQ=Lg("de.cau.cs.kieler.core.alg","BasicProgressMonitor",186);vR(10,1,{10:1,286:1,3:1,5:1},La,rg,Au,xo);AU.t=function n(e){return yE(this,e)};AU.v=function n(){return Uk(Sa(this.a))+IN(Uk(Sa(this.b)))};AU.w=function n(){return"("+this.a+","+this.b+")"};AU.a=0;AU.b=0;var iQ=Lg(Bx,"KVector",10);vR(58,648,{3:1,5:1,22:1,19:1,58:1,20:1},Ga);AU.ib=function n(e){return Xb(this,e)};AU.Q=function n(){Av(this)};AU.ub=function n(e){return OG(this,e)};AU.Y=function n(){return this.b};AU.b=0;var aQ=Lg(cx,"LinkedList",58);vR(44,58,{44:1,286:1,3:1,5:1,22:1,19:1,58:1,20:1},Xr,Bh);AU.w=function n(){var e,t,r;e=new Hc("(");t=OG(this,0);while(t.b!=t.d.c){r=ww(Tm(t),10);Zo(e,r.a+","+r.b);t.b!=t.d.c&&(e.a+="; ",e)}return e.a+=")",e.a};var cQ=Lg(Bx,"KVectorChain",44);var uQ=Zw($x,"IProperty");vR(131,1,{179:1,131:1,3:1},g);var fQ=Lg($x,"MapPropertyHolder",131);vR(14,1,Ux,ud,cd,Bw,ew,qk,Bp);AU.F=function n(e){return hl(this,ww(e,79))};AU.t=function n(e){return gv(this,e)};AU.mc=function n(){return this.b};AU.nc=function n(){return this.c};AU.oc=function n(){return this.d};AU.v=function n(){return sG(this.b)};AU.w=function n(){return this.b};var oQ,sQ;var lQ=Lg($x,"Property",14);vR(366,1,{23:1},v);AU.F=function n(e){return-1};var hQ=Lg($x,"Property/1",366);vR(367,1,{23:1},k);AU.F=function n(e){return 1};var bQ=Lg($x,"Property/2",367);vR(27,1,{27:1,22:1},_u);AU.t=function n(e){var t,r,i;if(gl(e,27)){r=ww(e,27);t=this.a==null?r.a==null:CC(this.a,r.a);i=this.b==null?r.b==null:CC(this.b,r.b);return t&&i}else{return false}};AU.v=function n(){var e,t,r,i,a,c;r=this.a==null?0:LI(this.a);e=r&PB;t=r&-65536;c=this.b==null?0:LI(this.b);i=c&PB;a=c&-65536;return e^a>>16&PB|t^i<<16};AU.mb=function n(){return new ft(this)};AU.w=function n(){return this.a==null&&this.b==null?"pair(null,null)":this.a==null?"pair(null,"+JG(this.b)+")":this.b==null?"pair("+JG(this.a)+",null)":"pair("+JG(this.a)+","+JG(this.b)+")"};var wQ=Lg(Fx,"Pair",27);vR(431,1,ix,ft);AU.G=function n(){return!this.c&&(!this.b&&this.a.a!=null||this.a.b!=null)};AU.H=function n(){if(!this.c&&!this.b&&this.a.a!=null){this.b=true;return this.a.a}else if(!this.c&&this.a.b!=null){this.c=true;return this.a.b}throw new Mi};AU.I=function n(){this.c&&this.a.b!=null?this.a.b=null:this.b&&this.a.a!=null&&(this.a.a=null);throw new fi};AU.b=false;AU.c=false;var dQ=Lg(Fx,"Pair/1",431);vR(228,72,HB,ia);var gQ=Lg(Vx,"UnsupportedConfigurationException",228);vR(99,72,HB,aa);var vQ=Lg(Vx,"UnsupportedGraphException",99);var kQ;vR(103,17,{103:1,3:1,23:1,17:1},Mu);var pQ,mQ,jQ,yQ,SQ,EQ;var HQ=Yy(Kx,"Alignment",103,RF,dm);var CQ;vR(59,17,{59:1,3:1,23:1,17:1},Vu);var IQ,LQ,GQ,NQ,OQ;var TQ=Yy(Kx,"Direction",59,RF,kp);var PQ;vR(107,17,{107:1,3:1,23:1,17:1},zu);var RQ,YQ,AQ,_Q;var MQ=Yy(Kx,"EdgeLabelPlacement",107,RF,lp);var DQ;vR(122,17,{122:1,3:1,23:1,17:1},qu);var BQ,xQ,$Q,UQ;var FQ=Yy(Kx,"EdgeRouting",122,RF,hp);var VQ;vR(133,17,{133:1,3:1,23:1,17:1},Qu);var zQ,qQ,QQ,KQ,WQ,JQ;var ZQ=Yy(Kx,"EdgeType",133,RF,gm);var XQ;vR(166,17,{166:1,3:1,23:1,17:1},Ku);var nK,eK,tK;var rK=Yy(Kx,"HierarchyHandling",166,RF,rk);var iK;var aK,cK,uK,fK,oK,sK,lK,hK,bK,wK,dK,gK,vK,kK,pK,mK,jK,yK,SK,EK,HK,CK,IK,LK,GK,NK,OK,TK,PK,RK,YK,AK,_K,MK,DK,BK,xK,$K,UK,FK,VK,zK,qK,QK,KK,WK,JK,ZK,XK;vR(41,17,{41:1,3:1,23:1,17:1},Wu);var nW,eW,tW,rW,iW,aW,cW,uW,fW;var oW=Yy(Kx,"NodeLabelPlacement",41,RF,uy);var sW;vR(100,17,{100:1,3:1,23:1,17:1},Ju);var lW,hW,bW,wW,dW;var gW=Yy(Kx,"PortAlignment",100,RF,bm);var vW;vR(28,17,{28:1,3:1,23:1,17:1},Zu);var kW,pW,mW,jW,yW,SW;var EW=Yy(Kx,"PortConstraints",28,RF,wm);var HW;vR(149,17,{149:1,3:1,23:1,17:1},Xu);var CW,IW,LW;var GW=Yy(Kx,"PortLabelPlacement",149,RF,ik);var NW;vR(32,17,{32:1,3:1,23:1,17:1},nf);var OW,TW,PW,RW,YW,AW,_W,MW,DW,BW,xW,$W,UW,FW,VW,zW,qW,QW,KW,WW,JW;var ZW=Yy(Kx,"PortSide",32,RF,vp);var XW;vR(150,17,{150:1,3:1,23:1,17:1},ef);var nJ,eJ,tJ,rJ;var iJ=Yy(Kx,"SizeConstraint",150,RF,wp);var aJ;vR(139,17,{139:1,3:1,23:1,17:1},tf);var cJ,uJ,fJ,oJ;var sJ=Yy(Kx,"SizeOptions",139,RF,bp);var lJ;vR(62,1,{62:1},Jf,Ev);AU.t=function n(e){var t;if(e==null||!gl(e,62)){return false}t=ww(e,62);return Ov(this.d,t.d)&&Ov(this.e,t.e)&&Ov(this.c,t.c)&&Ov(this.b,t.b)};AU.v=function n(){return lC(UH(rc(WU,1),WB,1,4,[this.d,this.e,this.c,this.b]))};AU.w=function n(){return"Rect[x="+this.d+",y="+this.e+",w="+this.c+",h="+this.b+"]"};AU.b=0;AU.c=0;AU.d=0;AU.e=0;var hJ=Lg(n$,"Rectangle",62);vR(283,62,{283:1,62:1},ni);AU.a=0;var bJ=Lg(e$,"LabelGroup",283);vR(67,17,{67:1,3:1,23:1,17:1},Cv);var wJ,dJ,gJ,vJ,kJ,pJ,mJ,jJ,yJ,SJ,EJ,HJ,CJ,IJ,LJ,GJ,NJ,OJ,TJ,PJ,RJ,YJ;var AJ=Yy(e$,"LabelLocation",67,RF,dL);vR(225,17,{225:1,3:1,23:1,17:1},rf);var _J,MJ,DJ;var BJ=Yy(e$,"TextAlignment",225,RF,ak);var xJ;vR(589,1,{},A_);AU.a=0;AU.b=false;AU.d=0;AU.f=0;AU.k=0;AU.r=0;AU.s=0;var $J=Lg(n$,"LabelAndNodeSizeProcessor/NodeData",589);vR(171,17,{171:1,3:1,23:1,17:1},af);var UJ,FJ,VJ,zJ;var qJ=Yy(n$,"LabelSide",171,RF,tk);vR(590,1,{},ot);AU.b=true;AU.c=true;AU.d=true;AU.e=true;var QJ=Lg(n$,r$,590);vR(121,1,a$);AU.t=function n(e){var t;if(gl(e,121)){t=ww(e,121);return this.d==t.d&&this.a==t.a&&this.b==t.b&&this.c==t.c}else{return false}};AU.v=function n(){var e,t;e=Uk(Sa(this.b))<<16;e|=Uk(Sa(this.a))&PB;t=Uk(Sa(this.c))<<16;t|=Uk(Sa(this.d))&PB;return e^t};AU.w=function n(){return"[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"};AU.a=0;AU.b=0;AU.c=0;AU.d=0;var KJ=Lg(n$,"Spacing",121);vR(232,121,a$,ei,Ph,lb);var WJ=Lg(n$,"Spacing/Insets",232);vR(65,121,{286:1,121:1,65:1,3:1,5:1},ti,Rh,hb);var JJ=Lg(n$,"Spacing/Margins",65);vR(364,1,{},$G);AU.c=false;AU.d=null;AU.g=null;var ZJ,XJ,nZ;var eZ=Lg(k$,"JsonGraphImporter",364);var tZ,rZ,iZ,aZ,cZ,uZ,fZ,oZ,sZ;vR(417,14,Ux,to);var lZ=Lg(k$,"LayoutOptionResolver/DummyProperty",417);vR(348,1,{},Ce);var hZ;var bZ=Lg(k$,"RecursiveLGraphLayout",348);vR(73,99,{73:1,3:1,54:1,46:1},ca,uh,ig);var wZ=Lg(k$,"UnsupportedJsonGraphException",73);vR(380,1,{},uv);var dZ,gZ;var vZ=Lg(y$,"GraphConfigurator",380);vR(49,1,{},xI);var kZ=Lg(y$,"IntermediateProcessingConfiguration",49);vR(365,1,{},qm);var pZ=Lg(y$,"KlayLayered",365);vR(577,1,{},eH);AU.i=0;var mZ;var jZ=Lg(C$,"ComponentsToCGraphTransformer",577);var yZ;vR(578,1,{},C);AU.tc=function n(e,t){return vc(e.wc(),t.wc())};AU.uc=function n(e,t){return vc(e.xc(),t.xc())};var SZ=Lg(C$,"ComponentsToCGraphTransformer/1",578);vR(25,1,{25:1});AU.k=0;AU.o=null;AU.p=true;AU.r=H$;var EZ=Lg(I$,"CNode",25);vR(198,25,{198:1,25:1},al,rE);AU.vc=function n(){this.b.d=this.j.d;this.b.e=this.j.e};AU.wc=function n(){return this.a!=null?Sa(this.a):this.c.i};AU.xc=function n(){return this.a!=null?Sa(this.a):this.c.i};AU.w=function n(){return""};var HZ=Lg(C$,"ComponentsToCGraphTransformer/CRectNode",198);vR(549,1,{},I);var CZ,IZ;var LZ=Lg(C$,"OneDimensionalComponentsCompaction",549);vR(550,1,Sx,L);AU.B=function n(e){return IH(),jd(),ww(ww(e,27).a,25).f.f!=0?ynn:jnn};var GZ=Lg(C$,"OneDimensionalComponentsCompaction/lambda$0$Type",550);vR(551,1,Sx,G);AU.B=function n(e){return IH(),jd(),QI(ww(ww(e,27).a,25).n,ww(ww(e,27).b,59))||ww(ww(e,27).a,25).f.f!=0&&QI(ww(ww(e,27).a,25).n,ww(ww(e,27).b,59))?ynn:jnn};var NZ=Lg(C$,"OneDimensionalComponentsCompaction/lambda$1$Type",551);vR(324,1,{},ag);var OZ=Lg(I$,"CGraph",324);vR(78,1,{78:1},BL);AU.b=0;AU.c=0;AU.d=0;AU.f=0;AU.i=true;AU.j=H$;var TZ=Lg(I$,"CGroup",78);vR(470,1,{},N);AU.tc=function n(e,t){return wc(e.wc(),t.wc())};AU.uc=function n(e,t){return wc(e.xc(),t.xc())};var PZ=Lg(I$,"ISpacingsHandler/1",470);vR(323,1,{},CP);AU.e=false;var RZ,YZ,AZ;var _Z=Lg(I$,"OneDimensionalCompactor",323);vR(554,1,Sx,m);AU.B=function n(e){return Ed(),jd(),ww(ww(e,27).a,25).f.f!=0?ynn:jnn};var MZ=Lg(I$,"OneDimensionalCompactor/lambda$0$Type",554);vR(335,1,{},ow);AU.a=false;AU.b=false;AU.c=false;AU.d=false;var DZ=Lg(I$,"Quadruplet",335);vR(587,1,{},j);AU.Cc=function n(e){var t,r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;l=E$;for(i=new Xt(e.a.b);i.a<i.c.c.length;){t=ww($p(i),25);l=vc(l,t.f.g.j.d+t.g.a)}v=new Ga;for(f=new Xt(e.a.a);f.a<f.c.c.length;){u=ww($p(f),78);u.j=l;u.f==0&&(xm(v,u,v.c.b,v.c),true)}while(v.b!=0){u=ww(v.b==0?null:(Ns(v.b!=0),RS(v,v.a.a)),78);a=u.g.j.d;for(w=(g=new zt(u.a.a).a.bb().mb(),new qt(g));w.a.G();){h=(c=ww(w.a.H(),21),ww(c.yb(),25));p=u.j+h.g.a;h.f.i||h.j.d<p?h.r=p:h.r=h.j.d}a-=u.g.r;u.b+=a;e.d==(WC(),GQ)||e.d==IQ?u.c+=a:u.c-=a;for(b=(d=new zt(u.a.a).a.bb().mb(),new qt(d));b.a.G();){h=(c=ww(b.a.H(),21),ww(c.yb(),25));for(s=h.i.mb();s.G();){o=ww(s.H(),25);xu(e.d)?k=e.g.tc(h,o):k=e.g.uc(h,o);o.f.j=wc(o.f.j,h.r+h.j.c+k-o.g.a);o.p||(o.f.j=wc(o.f.j,o.j.d-o.g.a));--o.f.f;o.f.f==0&&Xb(v,o.f)}}}for(r=new Xt(e.a.b);r.a<r.c.c.length;){t=ww($p(r),25);t.j.d=t.r}};var BZ=Lg(G$,"LongestPathCompaction",587);vR(588,1,{},y);AU.Dc=function n(e){var t,r,i,a,c,u,f;for(r=new Xt(e.a.b);r.a<r.c.c.length;){t=ww($p(r),25);t.i.Q()}for(a=new Xt(e.a.b);a.a<a.c.c.length;){i=ww($p(a),25);for(u=new Xt(e.a.b);u.a<u.c.c.length;){c=ww($p(u),25);if(i==c){continue}if(!!i.f&&i.f==c.f){continue}xu(e.d)?f=e.g.uc(i,c):f=e.g.tc(i,c);i!=c.o&&(c.j.d>i.j.d||i.j.d==c.j.d&&i.j.c<c.j.c)&&jL(c.j.e+c.j.b+f,i.j.e)&&yL(c.j.e,i.j.e+i.j.b+f)&&i.i.ib(c)}}};var xZ=Lg(G$,"QuadraticConstraintCalculation",588);vR(317,1,{},Iw);AU.Dc=function n(e){this.b=e;jP(this,new E,new H)};var $Z=Lg(G$,"ScanlineConstraintCalculator",317);var UZ=Zw(N$,"Scanline/EventHandler");vR(464,1,{160:1},Bv);AU.Ec=function n(e){mY(this,ww(e,235))};var FZ=Lg(G$,"ScanlineConstraintCalculator/ConstraintsScanlineHandler",464);vR(465,1,_B,S);AU.$b=function n(e,t){return zH((ww(e,25).j.d+ww(e,25).j.c)/2,(ww(t,25).j.d+ww(t,25).j.c)/2)};var VZ=Lg(G$,"ScanlineConstraintCalculator/ConstraintsScanlineHandler/lambda$0$Type",465);vR(235,1,{235:1},cf);AU.a=false;var zZ=Lg(G$,"ScanlineConstraintCalculator/Timestamp",235);vR(466,1,_B,p);AU.$b=function n(e,t){return VN(e,t)};var qZ=Lg(G$,"ScanlineConstraintCalculator/lambda$0$Type",466);vR(467,1,O$,E);AU.D=function n(e){return true};var QZ=Lg(G$,"ScanlineConstraintCalculator/lambda$1$Type",467);vR(468,1,Sx,H);AU.B=function n(e){return 0};var KZ=Lg(G$,"ScanlineConstraintCalculator/lambda$2$Type",468);vR(48,1,{48:1},uf,Ab);AU.t=function n(e){var t;if(e==null){return false}if(WZ!=eS(e)){return false}t=ww(e,48);return Ov(this.c,t.c)&&Ov(this.d,t.d)};AU.v=function n(){return lC(UH(rc(WU,1),WB,1,4,[this.c,this.d]))};AU.w=function n(){return"("+this.c+", "+this.d+(this.a?"cx":"")+this.b+")"};AU.a=true;AU.c=0;AU.d=0;var WZ=Lg(N$,"Point",48);vR(201,17,{201:1,3:1,23:1,17:1},lf);var JZ,ZZ,XZ,nX;var eX=Yy(N$,"Point/Quadrant",201,RF,gp);vR(569,1,{},Vr);AU.b=null;AU.c=null;AU.d=null;AU.e=null;AU.f=null;var tX,rX,iX,aX,cX;var uX=Lg(N$,"RectilinearConvexHull",569);vR(243,1,{160:1},fG);AU.Ec=function n(e){Kj(this,ww(e,48))};AU.b=0;var fX;var oX=Lg(N$,"RectilinearConvexHull/MaximalElementsEventHandler",243);vR(571,1,_B,O);AU.$b=function n(e,t){return Kg(e,t)};var sX=Lg(N$,"RectilinearConvexHull/MaximalElementsEventHandler/lambda$0$Type",571);vR(570,1,{160:1},wj);AU.Ec=function n(e){WR(this,ww(e,48))};AU.a=0;AU.b=null;AU.c=null;AU.d=null;AU.e=null;var lX=Lg(N$,"RectilinearConvexHull/RectangleEventHandler",570);vR(572,1,_B,T);AU.$b=function n(e,t){return Wm(),ww(e,48).c==ww(t,48).c?zH(ww(t,48).d,ww(e,48).d):zH(ww(e,48).c,ww(t,48).c)};var hX=Lg(N$,"RectilinearConvexHull/lambda$0$Type",572);vR(573,1,_B,P);AU.$b=function n(e,t){return Wm(),ww(e,48).c==ww(t,48).c?zH(ww(e,48).d,ww(t,48).d):zH(ww(e,48).c,ww(t,48).c)};var bX=Lg(N$,"RectilinearConvexHull/lambda$1$Type",573);vR(574,1,_B,R);AU.$b=function n(e,t){return Wm(),ww(e,48).c==ww(t,48).c?zH(ww(t,48).d,ww(e,48).d):zH(ww(t,48).c,ww(e,48).c)};var wX=Lg(N$,"RectilinearConvexHull/lambda$2$Type",574);vR(575,1,_B,Y);AU.$b=function n(e,t){return Wm(),ww(e,48).c==ww(t,48).c?zH(ww(e,48).d,ww(t,48).d):zH(ww(t,48).c,ww(e,48).c)};var dX=Lg(N$,"RectilinearConvexHull/lambda$3$Type",575);vR(576,1,_B,A);AU.$b=function n(e,t){return WO(e,t)};var gX=Lg(N$,"RectilinearConvexHull/lambda$4$Type",576);vR(469,1,{},Im);var vX=Lg(N$,"Scanline",469);vR(662,1,{});var kX=Lg(T$,"AbstractGraphPlacer",662);vR(222,1,{222:1},gb);var pX;var mX=Lg(T$,"ComponentGroup",222);vR(434,662,{},zr);AU.Fc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;this.a.c=Vj(WU,WB,1,0,4,1);t.b.c=Vj(WU,WB,1,0,4,1);if(e.V()){t.e.a=0;t.e.b=0;return}c=ww(e.sb(0),55);oI(t,c);for(a=e.mb();a.G();){i=ww(a.H(),55);mI(this,i)}w=new La;d=2*ww(MH(c,(gB(),a8)),15).a;for(o=new Xt(this.a);o.a<o.c.c.length;){u=ww($p(o),222);s=zD(u,d);Yj(Ag(u.a),w.a,w.b);w.a+=s.a;w.b+=s.b}t.e.a=w.a-d;t.e.b=w.b-d;if(ya(Sa(xh(MH(c,(vB(),C8)))))&&$o(MH(c,(mB(),gK)))===$o((JC(),BQ))){for(b=e.mb();b.G();){l=ww(b.H(),55);rA(l,l.d.a,l.d.b)}r=new _;ZD(r,e,d);for(h=e.mb();h.G();){l=ww(h.H(),55);Fh(So(l.d),r.e)}Fh(So(t.e),r.a)}for(f=new Xt(this.a);f.a<f.c.c.length;){u=ww($p(f),222);Rj(t,Ag(u.a))}};var jX=Lg(T$,"ComponentGroupGraphPlacer",434);vR(322,1,{},_);var yX=Lg(T$,"ComponentsCompactor",322);vR(13,647,P$,De,Fy,Rb);AU.rb=function n(e,t){fd(this,e,t)};AU.ib=function n(e){return nw(this,e)};AU.jb=function n(e){return gH(this,e)};AU.Q=function n(){this.c=Vj(WU,WB,1,0,4,1)};AU.kb=function n(e){return Oy(this,e,0)!=-1};AU.sb=function n(e){return Uw(this,e)};AU.V=function n(){return this.c.length==0};AU.mb=function n(){return new Xt(this)};AU.vb=function n(e){return _j(this,e)};AU.nb=function n(e){return gy(this,e)};AU.Xb=function n(e,t){cp(this,e,t)};AU.wb=function n(e,t){return sj(this,e,t)};AU.Y=function n(){return this.c.length};AU.ob=function n(){return eh(this)};AU.pb=function n(e){return KG(this,e)};var SX=Lg(cx,"ArrayList",13);vR(532,13,P$,Lm);AU.ib=function n(e){return PL(this,ww(e,48))};var EX=Lg(T$,"ComponentsCompactor/Hullpoints",532);vR(529,1,{347:1},HG);AU.a=false;var HX=Lg(T$,"ComponentsCompactor/InternalComponent",529);vR(528,1,kx,qr);AU.mb=function n(){return new Xt(this.a)};var CX=Lg(T$,"ComponentsCompactor/InternalConnectedComponents",528);vR(531,1,{251:1},gP);AU.zc=function n(){return null};AU.Ac=function n(){return this.a};AU.yc=function n(){return $L(this.d)};AU.Bc=function n(){return this.b};var IX=Lg(T$,"ComponentsCompactor/InternalExternalExtension",531);vR(530,1,{251:1},bi);AU.Ac=function n(){return this.a};AU.yc=function n(){return $L(this.d)};AU.zc=function n(){return this.c};AU.Bc=function n(){return this.b};var LX=Lg(T$,"ComponentsCompactor/InternalUnionExternalExtension",530);vR(534,1,{},fY);var GX=Lg(T$,"ComponentsCompactor/OuterSegments",534);vR(533,1,{},Qr);var NX=Lg(T$,"ComponentsCompactor/Segments",533);vR(381,1,{},gh);var OX=Lg(T$,"ComponentsProcessor",381);vR(432,662,{},M);AU.Fc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E;if(e.Y()==1){m=ww(e.sb(0),55);if(m!=t){t.b.c=Vj(WU,WB,1,0,4,1);kA(t,m,0,0);oI(t,m);nd(t.a,m.a);t.e.a=m.e.a;t.e.b=m.e.b}return}else if(e.V()){t.b.c=Vj(WU,WB,1,0,4,1);t.e.a=0;t.e.b=0;return}for(f=e.mb();f.G();){c=ww(f.H(),55);v=0;for(d=new Xt(c.b);d.a<d.c.c.length;){w=ww($p(d),9);v+=ww(MH(w,(gB(),n8)),24).a}c.k=v}Sm(e,new D);a=ww(e.sb(0),55);t.b.c=Vj(WU,WB,1,0,4,1);oI(t,a);b=0;y=0;for(o=e.mb();o.G();){c=ww(o.H(),55);p=c.e;b=wc(b,p.a);y+=p.a*p.b}b=wc(b,Math.sqrt(y)*ww(MH(t,(gB(),b9)),15).a);j=R$*ww(MH(t,a8),15).a;S=0;E=0;h=0;r=j;for(u=e.mb();u.G();){c=ww(u.H(),55);p=c.e;if(S+p.a>b){S=0;E+=h+j;h=0}g=c.d;rA(c,S+g.a,E+g.b);g.a=0;g.b=0;r=wc(r,S+p.a);h=wc(h,p.b);S+=p.a+j}t.e.a=r;t.e.b=E+h;k=ww(MH(t,a8),15).a;if(ya(Sa(xh(MH(a,(vB(),C8)))))){i=new _;ZD(i,e,k);for(l=e.mb();l.G();){s=ww(l.H(),55);Fh(So(s.d),i.e)}Fh(So(t.e),i.a)}Rj(t,e)};var TX=Lg(T$,"SimpleRowGraphPlacer",432);vR(433,1,_B,D);AU.$b=function n(e,t){return oH(ww(e,55),ww(t,55))};var PX=Lg(T$,"SimpleRowGraphPlacer/1",433);vR(369,1,A$,Ie);AU.sc=function n(e,t){uB(e,t)};var RX;var YX=Lg(_$,"CompoundGraphPostprocessor",369);vR(370,1,O$,B);AU.D=function n(e){var t;return t=ww(MH(ww(e,114).b,(mB(),EK)),44),!!t&&t.b!=0};var AX=Lg(_$,"CompoundGraphPostprocessor/1",370);vR(368,1,A$,Do);AU.sc=function n(e,t){WL(this,e,t)};var _X=Lg(_$,"CompoundGraphPreprocessor",368);vR(187,1,{187:1},tI);AU.c=false;var MX=Lg(_$,"CompoundGraphPreprocessor/ExternalPort",187);vR(114,1,{114:1},_b);AU.w=function n(){return Ch(this.c)+":"+yS(this.b)};var DX=Lg(_$,"CrossHierarchyEdge",114);vR(310,1,_B,st);AU.$b=function n(e,t){return LN(this,ww(e,114),ww(t,114))};var BX=Lg(_$,"CrossHierarchyEdgeComparator",310);vR(147,131,{179:1,131:1,147:1,3:1});AU.k=0;var xX=Lg(D$,"LGraphElement",147);vR(12,147,{179:1,131:1,12:1,147:1,3:1},xv);AU.w=function n(){return yS(this)};var $X=Lg(D$,"LEdge",12);vR(55,147,{179:1,131:1,55:1,147:1,3:1,22:1},OS);AU.mb=function n(){return new Xt(this.c)};AU.w=function n(){if(this.c.c.length==0){return"G-unlayered"+UO(this.b)}else if(this.b.c.length==0){return"G-layered"+UO(this.c)}return"G[layerless"+UO(this.b)+", layers"+UO(this.c)+"]"};var UX=Lg(D$,"LGraph",55);vR(273,1,{});AU.pc=function n(){return this.e.j};var FX=Lg(D$,"LGraphAdapters/AbstractLShapeAdapter",273);vR(240,1,{627:1},lt);AU.b=null;var VX=Lg(D$,"LGraphAdapters/LEdgeAdapter",240);vR(325,1,{},ff);AU.pc=function n(){return this.a.e};AU.b=null;AU.c=false;var zX=Lg(D$,"LGraphAdapters/LGraphAdapter",325);vR(224,273,{129:1,224:1},ht);var qX=Lg(D$,"LGraphAdapters/LLabelAdapter",224);vR(555,273,{626:1},of);AU.a=null;AU.b=null;AU.c=false;var QX=Lg(D$,"LGraphAdapters/LNodeAdapter",555);vR(556,273,{161:1},sf);AU.a=null;AU.b=null;AU.c=null;AU.d=false;var KX=Lg(D$,"LGraphAdapters/LPortAdapter",556);vR(557,1,_B,x);AU.$b=function n(e,t){return $Y(ww(e,7),ww(t,7))};var WX=Lg(D$,"LGraphAdapters/PortComparator",557);vR(168,1,{168:1},Be,Vv);AU.t=function n(e){var t;if(gl(e,168)){t=ww(e,168);return this.d==t.d&&this.a==t.a&&this.b==t.b&&this.c==t.c}else{return false}};AU.v=function n(){var e,t;e=Uk(Sa(this.b))<<16;e|=Uk(Sa(this.a))&PB;t=Uk(Sa(this.c))<<16;t|=Uk(Sa(this.d))&PB;return e^t};AU.w=function n(){return"Insets[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"};AU.a=0;AU.b=0;AU.c=0;AU.d=0;var JX=Lg(D$,"LInsets",168);vR(165,147,{179:1,131:1,147:1,165:1,3:1});var ZX=Lg(D$,"LShape",165);vR(33,165,{179:1,131:1,147:1,33:1,165:1,3:1},js);AU.w=function n(){return this.a==null?"l_"+this.k:"l_"+this.a};var XX=Lg(D$,"LLabel",33);vR(9,165,{179:1,131:1,147:1,9:1,165:1,3:1},CG);AU.w=function n(){return Mk(this)};var n1=Lg(D$,"LNode",9);vR(132,17,{132:1,3:1,23:1,17:1},hf);var e1,t1,r1,i1,a1,c1;var u1=Yy(D$,"LNode/NodeType",132,RF,mm);vR(7,165,{179:1,131:1,147:1,7:1,165:1,3:1},qN);AU.w=function n(){var e;return e=jj(this),e==null?"p_"+this.k:"p_"+e};var f1,o1,s1,l1,h1,b1;var w1=Lg(D$,"LPort",7);vR(399,1,O$,$);AU.D=function n(e){return Zh(e)};var d1=Lg(D$,"LPort/1",399);vR(400,1,O$,U);AU.D=function n(e){return Jh(e)};var g1=Lg(D$,"LPort/2",400);vR(401,1,O$,F);AU.D=function n(e){return ww(e,7).g==(SD(),TW)};var v1=Lg(D$,"LPort/3",401);vR(402,1,O$,V);AU.D=function n(e){return ww(e,7).g==(SD(),OW)};var k1=Lg(D$,"LPort/4",402);vR(403,1,O$,z);AU.D=function n(e){return ww(e,7).g==(SD(),KW)};var p1=Lg(D$,"LPort/5",403);vR(404,1,O$,q);AU.D=function n(e){return ww(e,7).g==(SD(),JW)};var m1=Lg(D$,"LPort/6",404);vR(190,1,kx,bt);AU.mb=function n(){var e;e=new Xt(this.a.b);return new wt(e)};var j1=Lg(D$,"LPort/7",190);vR(405,1,ix,wt);AU.H=function n(){return ww($p(this.a),12).c};AU.G=function n(){return vl(this.a)};AU.I=function n(){Kd(this.a)};var y1=Lg(D$,"LPort/7/1",405);vR(169,1,kx,dt);AU.mb=function n(){var e;return e=new Xt(this.a.e),new gt(e)};var S1=Lg(D$,"LPort/8",169);vR(304,1,ix,gt);AU.H=function n(){return ww($p(this.a),12).d};AU.G=function n(){return vl(this.a)};AU.I=function n(){Kd(this.a)};var E1=Lg(D$,"LPort/8/1",304);vR(16,147,{179:1,131:1,147:1,16:1,3:1,22:1},cg);AU.mb=function n(){return new Xt(this.a)};AU.w=function n(){return"L_"+Oy(this.b.c,this,0)+UO(this.a)};var H1=Lg(D$,"Layer",16);vR(437,1,A$,Q);AU.sc=function n(e,t){var r,i,a,c,u,f,o;GL(t,"Big nodes intermediate-processing",1);this.a=e;for(c=new Xt(this.a.c);c.a<c.c.c.length;){a=ww($p(c),16);o=lw(a.a);r=gw(o,new K);for(f=ng(r.b.mb(),r.a);uE(f);){u=ww(zj(f),9);if($o(MH(u,(vB(),D8)))===$o((nN(),d8))||$o(MH(u,D8))===$o(g8)){i=QY(this,u,false);Ny(i,D8,ww(MH(u,D8),85));Ny(u,D8,v8)}else{QY(this,u,true)}}}kI(t)};var C1=Lg(x$,"BigNodesIntermediateProcessor",437);vR(438,1,O$,K);AU.D=function n(e){return aj(ww(e,9))};var I1=Lg(x$,"BigNodesIntermediateProcessor/1",438);vR(582,1,Sx,vt);AU.B=function n(e){var t;return gE((t=this,Xo(e),t))};var L1=Lg(x$,"BigNodesLabelHandler/CompoundFunction",582);vR(332,1,{},DN);AU.a=0;AU.e=null;AU.f=0;var G1=Lg(x$,"BigNodesLabelHandler/Handler",332);vR(583,1,Sx,kt);AU.B=function n(e){var t;return TO((t=this,Xo(e),t))};var N1=Lg(x$,"BigNodesLabelHandler/Handler/1",583);vR(584,1,Sx,bf);AU.B=function n(e){var t;return Qd((t=this,Xo(e),t))};var O1=Lg(x$,"BigNodesLabelHandler/Handler/2",584);vR(585,1,Sx,wf);AU.B=function n(e){var t;return tD((t=this,Xo(e),t))};var T1=Lg(x$,"BigNodesLabelHandler/Handler/3",585);vR(439,1,A$,W);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,"Big nodes post-processing",1);this.a=e;for(f=new Xt(this.a.c);f.a<f.c.c.length;){u=ww($p(f),16);r=gw(u.a,new J);for(s=ng(r.b.mb(),r.a);uE(s);){o=ww(zj(s),9);h=ww(MH(o,(gB(),k9)),15);c=qP(this,o);g=new De;for(d=hT(c,(SD(),OW)).mb();d.G();){b=ww(d.H(),7);g.c[g.c.length]=b;l=b.i.a-c.j.a;b.i.a=h.a+l}o.j.a=h.a;for(w=new Xt(g);w.a<w.c.c.length;){b=ww($p(w),7);jk(b,o)}this.a.e.a<o.i.a+o.j.a&&(this.a.e.a=o.i.a+o.j.a);a=ww(MH(o,d9),20);gH(o.c,a);i=ww(MH(o,g9),64);!!i&&i.B(null)}}kI(t)};var P1=Lg(x$,"BigNodesPostProcessor",439);vR(440,1,O$,J);AU.D=function n(e){return cj(ww(e,9))};var R1=Lg(x$,"BigNodesPostProcessor/1",440);vR(441,1,A$,da);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w;GL(t,$$,1);this.c=e;h=this.c.b;a=0;for(o=new Xt(h);o.a<o.c.c.length;){u=ww($p(o),9);u.k=a++}this.d=ww(MH(this.c,(gB(),a8)),15).a;this.a=ww(MH(this.c,(mB(),wK)),59);this.b=h.c.length;c=U$;for(s=new Xt(h);s.a<s.c.c.length;){u=ww($p(s),9);u.g==(hO(),a1)&&u.j.a<c&&(c=u.j.a)}c=50>c?50:c;r=new De;w=c+this.d;for(l=new Xt(h);l.a<l.c.c.length;){u=ww($p(l),9);if(u.g==(hO(),a1)&&u.j.a>w){b=1;i=u.j.a;while(i>c){++b;i=(u.j.a-(b-1)*this.d)/b}nw(r,new Km(this,u,b,i))}}for(f=new Xt(r);f.a<f.c.c.length;){u=ww($p(f),267);BA(u.d)&&gD(u)}kI(t)};AU.b=0;AU.d=0;var Y1=Lg(x$,"BigNodesPreProcessor",441);vR(267,1,{267:1},Km);AU.a=0;AU.c=0;var A1=Lg(x$,"BigNodesPreProcessor/BigNode",267);vR(442,1,A$,ga);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,$$,1);_1=ya(Sa(xh(MH(e,(mB(),bK)))));this.c=e;w=new De;for(u=new Xt(e.c);u.a<u.c.c.length;){c=ww($p(u),16);gH(w,c.a)}a=0;for(l=new Xt(w);l.a<l.c.c.length;){o=ww($p(l),9);o.k=a++}this.d=ww(MH(this.c,(gB(),a8)),15).a;this.a=ww(MH(this.c,wK),59);this.b=w.c.length;f=U$;for(h=new Xt(w);h.a<h.c.c.length;){o=ww($p(h),9);o.g==(hO(),a1)&&o.j.a<f&&(f=o.j.a)}f=50>f?50:f;r=new De;g=f+this.d;for(b=new Xt(w);b.a<b.c.c.length;){o=ww($p(b),9);if(o.g==(hO(),a1)&&o.j.a>g){d=1;i=o.j.a;while(i>f){++d;i=(o.j.a-(d-1)*this.d)/d}nw(r,new hk(this,o,d))}}for(s=new Xt(r);s.a<s.c.c.length;){o=ww($p(s),268);QD(o)&&x_(o)}kI(t)};AU.b=0;AU.d=0;var _1=false;var M1=Lg(x$,"BigNodesSplitter",442);vR(268,1,{268:1},hk);AU.a=0;AU.e=4;var D1=Lg(x$,"BigNodesSplitter/BigNode",268);vR(443,1,A$,Z);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s;GL(t,"Comment post-processing",1);o=ww(MH(e,(gB(),a8)),15).a;for(c=new Xt(e.c);c.a<c.c.c.length;){a=ww($p(c),16);i=new De;for(f=new Xt(a.a);f.a<f.c.c.length;){u=ww($p(f),9);s=ww(MH(u,h8),20);r=ww(MH(u,m9),20);if(!!s||!!r){aD(u,s,r,o);!!s&&gH(i,s);!!r&&gH(i,r)}}gH(a.a,i)}kI(t)};var B1=Lg(x$,"CommentPostprocessor",443);vR(444,1,A$,X);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v;GL(t,"Comment pre-processing",1);f=new Xt(e.b);while(f.a<f.c.c.length){u=ww($p(f),9);if(ya(Sa(xh(MH(u,(mB(),hK)))))){i=0;r=null;o=null;for(w=new Xt(u.f);w.a<w.c.c.length;){h=ww($p(w),7);i+=h.b.c.length+h.e.c.length;if(h.b.c.length==1){r=ww(Uw(h.b,0),12);o=r.c}if(h.e.c.length==1){r=ww(Uw(h.e,0),12);o=r.d}}if(i==1&&o.b.c.length+o.e.c.length==1&&!ya(Sa(xh(MH(o.f,hK))))){xD(u,r,o,o.f);Kd(f)}else{v=new De;for(b=new Xt(u.f);b.a<b.c.c.length;){h=ww($p(b),7);for(l=new Xt(h.e);l.a<l.c.c.length;){s=ww($p(l),12);s.d.e.c.length==0||(v.c[v.c.length]=s,true)}for(c=new Xt(h.b);c.a<c.c.c.length;){a=ww($p(c),12);a.c.b.c.length==0||(v.c[v.c.length]=a,true)}}for(g=new Xt(v);g.a<g.c.c.length;){d=ww($p(g),12);s_(d,true)}}}}kI(t)};var x1=Lg(x$,"CommentPreprocessor",444);vR(445,1,A$,nn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Edge and layer constraint edge reversal",1);for(s=new Xt(e.b);s.a<s.c.c.length;){o=ww($p(s),9);u=ww(MH(o,(vB(),D8)),85);c=null;switch(u.e){case 1:case 2:c=(JH(),j7);break;case 3:case 4:c=(JH(),p7)}if(c){Ny(o,(gB(),I9),(JH(),j7));c==p7?aM(o,u,(nE(),j8)):c==j7&&aM(o,u,(nE(),m8))}else{if(Rf(ww(MH(o,(mB(),xK)),28))&&o.f.c.length!=0){r=true;for(h=new Xt(o.f);h.a<h.c.c.length;){l=ww($p(h),7);if(!(l.g==(SD(),OW)&&l.b.c.length-l.e.c.length>0||l.g==JW&&l.b.c.length-l.e.c.length<0)){r=false;break}if(l.g==JW){for(a=new Xt(l.e);a.a<a.c.c.length;){i=ww($p(a),12);f=ww(MH(i.d.f,D8),85);if(f==(nN(),d8)||f==g8){r=false;break}}}if(l.g==OW){for(a=new Xt(l.b);a.a<a.c.c.length;){i=ww($p(a),12);f=ww(MH(i.c.f,D8),85);if(f==(nN(),b8)||f==w8){r=false;break}}}}r&&aM(o,u,(nE(),y8))}}}kI(t)};var $1=Lg(x$,"EdgeAndLayerConstraintEdgeReverser",445);vR(446,1,A$,en);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"End label placement",1);u=ww(MH(e,(mB(),HK)),15).a;this.a=(Ll(),new Lr);this.c=new Lr;this.b=new Lr;for(o=new Xt(e.c);o.a<o.c.c.length;){f=ww($p(o),16);for(l=new Xt(f.a);l.a<l.c.c.length;){s=ww($p(l),9);for(i=mg(EI(s));AI(i);){r=ww(Jk(i),12);for(c=new Xt(r.b);c.a<c.c.c.length;){a=ww($p(c),33);($o(MH(a,dK))===$o(($E(),AQ))||$o(MH(a,dK))===$o(YQ))&&(h=null,$o(MH(a,dK))===$o(AQ)?h=r.c:$o(MH(a,dK))===$o(YQ)&&(h=r.d),Hy(this.a,h.f)||mv(this.a,h.f,0),Hy(this.c,h.f)||mv(this.c,h.f,0),Hy(this.b,h)||mv(this.b,h,0),$o(MH(a,(gB(),D9)))===$o((kL(),UJ))?q_(a,h,u):z_(a,h,u),undefined)}}}}kI(t)};var U1=Lg(x$,"EndLabelProcessor",446);vR(269,1,A$,pt);AU.sc=function n(e,t){var r,i,a,c,u;GL(t,"Graph transformation ("+this.a+")",1);a=ij(e.b);for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);gH(a,r.a)}switch(this.a.e){case 0:AD(a,e);break;case 1:rD(a);u=ww(MH(e,(vB(),T8)),115);!!u&&Ny(e,T8,qI(u));Ul(e.d);Ul(e.e);break;case 2:AD(a,e);_D(a,e);rD(a);c=ww(MH(e,(vB(),T8)),115);!!c&&Ny(e,T8,qI(c));Ul(e.d);Ul(e.e)}kI(t)};var F1=Lg(x$,"GraphTransformer",269);vR(221,17,{221:1,3:1,23:1,17:1},df);var V1,z1,q1;var Q1=Yy(x$,"GraphTransformer/Mode",221,RF,ck);vR(448,1,A$,tn);AU.sc=function n(e,t){GL(t,"Hierarchical port constraint processing",1);KL(e);fB(e);kI(t)};var K1=Lg(x$,"HierarchicalPortConstraintProcessor",448);vR(449,1,_B,rn);AU.$b=function n(e,t){return wG(ww(e,9),ww(t,9))};var W1=Lg(x$,"HierarchicalPortConstraintProcessor/NodeComparator",449);vR(450,1,A$,an);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Hierarchical port dummy size processing",1);o=new De;h=new De;f=ww(MH(e,(gB(),a8)),15).a;l=f*ww(MH(e,(vB(),R8)),15).a;r=l*2;for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);o.c=Vj(WU,WB,1,0,4,1);h.c=Vj(WU,WB,1,0,4,1);for(u=new Xt(i.a);u.a<u.c.c.length;){c=ww($p(u),9);if(c.g==(hO(),t1)){s=ww(MH(c,O9),32);s==(SD(),TW)?(o.c[o.c.length]=c,true):s==KW&&(h.c[h.c.length]=c,true)}}pP(o,true,r);pP(h,false,r)}kI(t)};var J1=Lg(x$,"HierarchicalPortDummySizeProcessor",450);vR(451,1,A$,cn);AU.sc=function n(e,t){var r,i,a,c;GL(t,"Orthogonally routing hierarchical port edges",1);this.a=0;r=m_(e);eD(e,r);MM(this,e,r);ED(e);i=ww(MH(e,(mB(),xK)),28);a=e.c;dD(($j(0,a.c.length),ww(a.c[0],16)),i,e);dD(ww(Uw(a,a.c.length-1),16),i,e);c=e.c;w_(($j(0,c.c.length),ww(c.c[0],16)));w_(ww(Uw(c,c.c.length-1),16));kI(t)};AU.a=0;var Z1=Lg(x$,"HierarchicalPortOrthogonalEdgeRouter",451);vR(452,1,_B,un);AU.$b=function n(e,t){return pl(ww(e,9),ww(t,9))};var X1=Lg(x$,"HierarchicalPortOrthogonalEdgeRouter/1",452);vR(453,1,_B,fn);AU.$b=function n(e,t){return Xj(ww(e,9),ww(t,9))};var n0=Lg(x$,"HierarchicalPortOrthogonalEdgeRouter/2",453);vR(454,1,A$,on);AU.sc=function n(e,t){var r;GL(t,"Hierarchical port position processing",1);r=e.c;r.c.length>0&&qA(($j(0,r.c.length),ww(r.c[0],16)),e);r.c.length>1&&qA(ww(Uw(r,r.c.length-1),16),e);kI(t)};var e0=Lg(x$,"HierarchicalPortPositionProcessor",454);vR(471,1,A$,sn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,"Hyperedge merging",1);w=new Dp(e.c,0);while(w.b<w.d.Y()){b=(Ns(w.b<w.d.Y()),ww(w.d.sb(w.c=w.b++),16));g=b.a;if(g.c.length==0){continue}f=null;h=null;for(d=0;d<g.c.length;d++){r=($j(d,g.c.length),ww(g.c[d],9));u=r.g;if(u==(hO(),i1)&&h==i1){a=ww(MH(r,(gB(),B9)),7);s=ww(MH(f,B9),7);c=ww(MH(r,x9),7);l=ww(MH(f,x9),7);i=!!a||!!c;o=!!s||!!l;if(i&&o&&(a==s||c==l)){wY(r,f,a==s,c==l);$j(d,g.c.length);nu(g.c,d,1);--d;r=f;u=h}}f=r;h=u}}kI(t)};var t0=Lg(x$,"HyperedgeDummyMerger",471);vR(472,1,A$,ln);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Hypernodes processing",1);for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);for(f=new Xt(i.a);f.a<f.c.c.length;){u=ww($p(f),9);if(ya(Sa(xh(MH(u,(mB(),yK)))))&&u.f.c.length<=2){h=0;l=0;r=0;c=0;for(s=new Xt(u.f);s.a<s.c.c.length;){o=ww($p(s),7);switch(o.g.e){case 1:++h;break;case 2:++l;break;case 3:++r;break;case 4:++c}}h==0&&r==0&&KD(e,u,c<=l)}}}kI(t)};var r0=Lg(x$,"HypernodesProcessor",472);vR(473,1,A$,hn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l;GL(t,"Layer constraint edge reversal",1);for(u=new Xt(e.c);u.a<u.c.c.length;){c=ww($p(u),16);l=-1;r=new De;s=ww(KG(c.a,Vj(n1,v$,9,c.a.c.length,0,1)),51);for(a=0;a<s.length;a++){i=ww(MH(s[a],(gB(),A9)),140);if(l==-1){i!=(LS(),u9)&&(l=a)}else{if(i==(LS(),u9)){yk(s[a],null);gN(s[a],l++,c)}}i==(LS(),a9)&&nw(r,s[a])}for(o=new Xt(r);o.a<o.c.c.length;){f=ww($p(o),9);yk(f,null);yk(f,c)}}kI(t)};var i0=Lg(x$,"InLayerConstraintProcessor",473);vR(474,1,A$,bn);AU.sc=function n(e,t){var r,i,a,c,u,f;if(!ww(MH(e,(gB(),P9)),18).kb((VY(),x7))){return}for(f=new Xt(e.b);f.a<f.c.c.length;){c=ww($p(f),9);if(c.g==(hO(),a1)){a=ww(MH(c,(mB(),LK)),65);this.c=vc(this.c,c.i.a-a.b);this.a=wc(this.a,c.i.a+c.j.a+a.c);this.d=vc(this.d,c.i.b-a.d);this.b=wc(this.b,c.i.b+c.j.b+a.a)}}for(u=new Xt(e.b);u.a<u.c.c.length;){c=ww($p(u),9);if(c.g!=(hO(),a1)){switch(c.g.e){case 2:i=ww(MH(c,(vB(),D8)),85);if(i==(nN(),w8)){c.i.a=this.c-10;_L(c,new wn).A(new mt(c));break}if(i==g8){c.i.a=this.a+10;_L(c,new dn).A(new jt(c));break}r=ww(MH(c,A9),140);if(r==(LS(),u9)){tM(c).A(new yt(c));c.i.b=this.d-10;break}if(r==a9){tM(c).A(new St(c));c.i.b=this.b+10;break}break;default:throw new Ca("The node type "+c.g+" is not supported by the "+a0)}}}};AU.a=H$;AU.b=H$;AU.c=E$;AU.d=E$;var a0=Lg(x$,"InteractiveExternalPortPositioner",474);vR(475,1,Sx,wn);AU.B=function n(e){return ww(e,12).d.f};var c0=Lg(x$,"InteractiveExternalPortPositioner/lambda$0$Type",475);vR(476,1,Sx,mt);AU.B=function n(e){return ml(this.a,e)};var u0=Lg(x$,"InteractiveExternalPortPositioner/lambda$1$Type",476);vR(477,1,Sx,dn);AU.B=function n(e){return ww(e,12).c.f};var f0=Lg(x$,"InteractiveExternalPortPositioner/lambda$2$Type",477);vR(478,1,Sx,jt);AU.B=function n(e){return jl(this.a,e)};var o0=Lg(x$,"InteractiveExternalPortPositioner/lambda$3$Type",478);vR(479,1,Sx,yt);AU.B=function n(e){return zh(this.a,e)};var s0=Lg(x$,"InteractiveExternalPortPositioner/lambda$4$Type",479);vR(480,1,Sx,St);AU.B=function n(e){return qh(this.a,e)};var l0=Lg(x$,"InteractiveExternalPortPositioner/lambda$5$Type",480);vR(37,17,{37:1,3:1,23:1,17:1},gf);var h0,b0,w0,d0,g0,v0,k0,p0,m0,j0,y0,S0,E0,H0,C0,I0,L0,G0,N0,O0,T0,P0,R0,Y0,A0,_0,M0,D0,B0,x0,$0,U0,F0,V0,z0,q0,Q0,K0,W0,J0,Z0,X0,n2,e2,t2,r2,i2,a2,c2,u2;var f2=Yy(x$,"IntermediateProcessorStrategy",37,RF,TT);vR(503,1,A$,gn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;GL(t,"Inverted port preprocessing",1);s=e.c;o=new Dp(s,0);r=null;p=new De;while(o.b<o.d.Y()){k=r;r=(Ns(o.b<o.d.Y()),ww(o.d.sb(o.c=o.b++),16));for(b=new Xt(p);b.a<b.c.c.length;){l=ww($p(b),9);yk(l,k)}p.c=Vj(WU,WB,1,0,4,1);for(w=new Xt(r.a);w.a<w.c.c.length;){l=ww($p(w),9);if(l.g!=(hO(),a1)){continue}if(!Rf(ww(MH(l,(mB(),xK)),28))){continue}for(v=qY(l,(nE(),m8),(SD(),OW)).mb();v.G();){d=ww(v.H(),7);f=d.b;u=ww(KG(f,Vj($X,M$,12,f.c.length,0,1)),47);for(a=0,c=u.length;a<c;++a){i=u[a];f_(e,d,i,p)}}for(g=qY(l,j8,JW).mb();g.G();){d=ww(g.H(),7);f=d.e;u=ww(KG(f,Vj($X,M$,12,f.c.length,0,1)),47);for(a=0,c=u.length;a<c;++a){i=u[a];tY(e,d,i,p)}}}}for(h=new Xt(p);h.a<h.c.c.length;){l=ww($p(h),9);yk(l,r)}kI(t)};var o2=Lg(x$,"InvertedPortProcessor",503);vR(481,1,A$,vn);AU.sc=function n(e,t){GL(t,"Node and Port Label Placement and Node Sizing",1);Nr((Yr(),Yr(),new ff(e,false)));kI(t)};var s2=Lg(x$,"LabelAndNodeSizeProcessor",481);vR(482,1,A$,Le);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;GL(t,"Label dummy insertions",1);b=new De;l=ww(MH(e,(mB(),HK)),15).a;h=ww(MH(e,wK),59);for(d=new Xt(e.b);d.a<d.c.c.length;){w=ww($p(d),9);for(v=new Xt(w.f);v.a<v.c.c.length;){g=ww($p(v),7);for(f=new Xt(g.e);f.a<f.c.c.length;){u=ww($p(f),12);if(u.c.f!=u.d.f&&id(u.b,l2)){p=Ml(u.b.c.length);r=new CG(e);wr(r,(hO(),r1));Ny(r,(gB(),F9),u);Ny(r,r8,p);Ny(r,xK,(_N(),pW));Ny(r,B9,u.c);Ny(r,x9,u.d);b.c[b.c.length]=r;iY(u,r);m=ww(MH(u,XK),15).a;if(m<0){m=0;Ny(u,XK,new Ut(m))}k=Math.floor(m/2);for(a=new Xt(r.f);a.a<a.c.c.length;){i=ww($p(a),7);i.i.b=k}c=r.j;o=new Dp(u.b,0);while(o.b<o.d.Y()){s=(Ns(o.b<o.d.Y()),ww(o.d.sb(o.c=o.b++),33));if($o(MH(s,dK))===$o(($E(),RQ))){if(h==(WC(),OQ)||h==IQ){c.a+=s.j.a+l;c.b=wc(c.b,s.j.b)}else{c.a=wc(c.a,s.j.a);c.b+=s.j.b+l}p.c[p.c.length]=s;rv(o)}}if(h==(WC(),OQ)||h==IQ){c.a-=l;c.b+=l+m}else{c.b+=l+m}}}}}gH(e.b,b);kI(t)};var l2;var h2=Lg(x$,"LabelDummyInserter",482);vR(483,1,O$,kn);AU.D=function n(e){return $o(MH(ww(e,33),(mB(),dK)))===$o(($E(),RQ))};var b2=Lg(x$,"LabelDummyInserter/1",483);vR(484,1,A$,pn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b;GL(t,"Label dummy removal",1);a=ww(MH(e,(mB(),HK)),15).a;f=ww(MH(e,wK),59);for(u=new Xt(e.c);u.a<u.c.c.length;){c=ww($p(u),16);s=new Dp(c.a,0);while(s.b<s.d.Y()){o=(Ns(s.b<s.d.Y()),ww(s.d.sb(s.c=s.b++),9));if(o.g==(hO(),r1)){l=ww(MH(o,(gB(),F9)),12);b=ww(MH(l,XK),15).a;r=new xo(o.i);$o(MH(o,D9))===$o((kL(),FJ))&&(r.b+=b+a);i=new Au(o.j.a,o.j.b-b-a);h=ww(MH(o,r8),20);f==(WC(),OQ)||f==IQ?iI(h,r,a,i,$o(MH(o,D9))!==$o(UJ)):OC(h,r,a,i);gH(l.b,h);SM(o,false);rv(s)}}}kI(t)};var w2=Lg(x$,"LabelDummyRemover",484);vR(485,1,A$,mn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;GL(t,"Label dummy switching",1);r=new De;h=new De;f=new De;w=new De;for(u=new Xt(e.c);u.a<u.c.c.length;){c=ww($p(u),16);for(l=new Xt(c.a);l.a<l.c.c.length;){s=ww($p(l),9);if(s.g==(hO(),r1)){r.c[r.c.length]=s;f.c=Vj(WU,WB,1,0,4,1);w.c=Vj(WU,WB,1,0,4,1);g=s;do{g=ww(Jk(mg(SI(g))),12).c.f;g.g==i1&&(f.c[f.c.length]=g,true)}while(g.g==i1);p=s;do{p=ww(Jk(mg(EI(p))),12).d.f;p.g==i1&&(w.c[w.c.length]=p,true)}while(p.g==i1);o=f.c.length;d=w.c.length;if(o>d+1){b=(o+d)/2|0;nw(h,new _u(s,($j(b,f.c.length),ww(f.c[b],9))))}else if(d>o+1){b=((d-o)/2|0)-1;nw(h,new _u(s,($j(b,w.c.length),ww(w.c[b],9))))}}}}for(k=new Xt(h);k.a<k.c.c.length;){v=ww($p(k),27);nM(ww(v.a,9),ww(v.b,9))}for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),9);kC(i,new jn,(gB(),x9));kC(i,new yn,B9)}kI(t)};var d2=Lg(x$,"LabelDummySwitcher",485);vR(486,1,Sx,jn);AU.B=function n(e){return ww(Jk(mg(SI(ww(e,9)))),12).c.f};var g2=Lg(x$,"LabelDummySwitcher/lambda$0$Type",486);vR(487,1,Sx,yn);AU.B=function n(e){return ww(Jk(mg(EI(ww(e,9)))),12).d.f};var v2=Lg(x$,"LabelDummySwitcher/lambda$1$Type",487);vR(488,1,A$,Sn);AU.sc=function n(e,t){GL(t,"Label management",1);Xo(MH(e,(sy(),kQ)));kI(t)};var k2=Lg(x$,"LabelManagementProcessor",488);vR(489,1,A$,Ge);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;o=ww(MH(e,(vB(),T8)),115);GL(t,"Label side selection ("+o+")",1);s=(ld(e),new Ss(e));switch(o.e){case 0:wT(s);break;case 1:bT(s);break;case 2:OR(s);break;case 3:NR(s);break;case 4:JM(s)}for(f=new Xt(e.c);f.a<f.c.c.length;){u=ww($p(f),16);for(i=new Xt(u.a);i.a<i.c.c.length;){r=ww($p(i),9);for(w=new Xt(r.f);w.a<w.c.c.length;){h=ww($p(w),7);for(c=new Xt(h.c);c.a<c.c.c.length;){a=ww($p(c),33);$o(MH(a,(gB(),D9)))===$o((kL(),zJ))&&Ny(a,D9,p2)}}if(r.g==(hO(),r1)){if($o(MH(r,(gB(),D9)))===$o((kL(),UJ))){l=ww(MH(r,F9),12);g=ww(MH(l,(mB(),XK)),15).a;d=r.j.b-Math.ceil(g/2);for(b=new Xt(r.f);b.a<b.c.c.length;){h=ww($p(b),7);h.i.b=d}}}}}kI(t)};var p2;var m2=Lg(x$,"LabelSideSelector",489);vR(490,1,_B,En);AU.$b=function n(e,t){return ev(ww(e,7),ww(t,7))};var j2=Lg(x$,"LabelSideSelector/1",490);vR(495,1,A$,Hn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;GL(t,"Layer constraint application",1);s=e.c;if(s.c.length==0){kI(t);return}c=($j(0,s.c.length),ww(s.c[0],16));u=ww(Uw(s,s.c.length-1),16);p=new cg(e);m=new cg(e);for(o=new Xt(s);o.a<o.c.c.length;){f=ww($p(o),16);g=ww(KG(f.a,Vj(n1,v$,9,f.a.c.length,0,1)),51);for(b=0,d=g.length;b<d;++b){h=g[b];r=ww(MH(h,(vB(),D8)),85);switch(r.e){case 1:yk(h,c);aA(h,false);break;case 2:yk(h,p);aA(h,true);break;case 3:yk(h,u);YA(h);break;case 4:yk(h,m);YA(h)}}}if(s.c.length>=2){l=true;v=($j(1,s.c.length),ww(s.c[1],16));for(w=new Xt(c.a);w.a<w.c.c.length;){h=ww($p(w),9);if($o(MH(h,(vB(),D8)))===$o((nN(),v8))){l=false;break}for(a=mg(EI(h));AI(a);){i=ww(Jk(a),12);if(i.d.f.d==v){l=false;break}}if(!l){break}}if(l){g=ww(KG(c.a,Vj(n1,v$,9,c.a.c.length,0,1)),51);for(b=0,d=g.length;b<d;++b){h=g[b];yk(h,v)}gy(s,c)}}if(s.c.length>=2){l=true;k=ww(Uw(s,s.c.length-2),16);for(w=new Xt(u.a);w.a<w.c.c.length;){h=ww($p(w),9);if($o(MH(h,(vB(),D8)))===$o((nN(),v8))){l=false;break}for(a=mg(SI(h));AI(a);){i=ww(Jk(a),12);if(i.c.f.d==k){l=false;break}}if(!l){break}}if(l){g=ww(KG(u.a,Vj(n1,v$,9,u.a.c.length,0,1)),51);for(b=0,d=g.length;b<d;++b){h=g[b];yk(h,k)}gy(s,u)}}s.c.length==1&&($j(0,s.c.length),ww(s.c[0],16)).a.c.length==0&&_j(s,0);p.a.c.length==0||(xj(0,s.c.length),mo(s.c,0,p));m.a.c.length==0||(s.c[s.c.length]=m,true);kI(t)};var y2=Lg(x$,"LayerConstraintProcessor",495);vR(496,1,A$,Cn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;GL(t,"Layer size calculation",1);s=K$;o=5e-324;for(u=new Xt(e.c);u.a<u.c.c.length;){c=ww($p(u),16);f=c.c;f.a=0;f.b=0;if(c.a.c.length==0){continue}for(h=new Xt(c.a);h.a<h.c.c.length;){l=ww($p(h),9);w=l.j;b=l.e;f.a=wc(f.a,w.a+b.b+b.c)}i=ww(Uw(c.a,0),9);d=i.i.b-i.e.d;a=ww(Uw(c.a,c.a.c.length-1),9);r=a.i.b+a.j.b+a.e.a;f.b=r-d;s=s<d?s:d;o=o>r?o:r}e.e.b=o-s;e.d.b-=s;kI(t)};var S2=Lg(x$,"LayerSizeAndGraphHeightCalculator",496);vR(497,1,A$,Ln);AU.sc=function n(e,t){var r,i,a,c,u;GL(t,"Edge joining",1);r=ya(Sa(xh(MH(e,(vB(),E8)))));for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);u=new Dp(i.a,0);while(u.b<u.d.Y()){c=(Ns(u.b<u.d.Y()),ww(u.d.sb(u.c=u.b++),9));if(c.g==(hO(),i1)){SM(c,r);rv(u)}}}kI(t)};var E2=Lg(x$,"LongEdgeJoiner",497);vR(498,1,A$,Gn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w;GL(t,"Edge splitting",1);if(e.c.c.length<=2){kI(t);return}c=new Dp(e.c,0);u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16));while(c.b<c.d.Y()){a=u;u=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16));for(o=new Xt(a.a);o.a<o.c.c.length;){f=ww($p(o),9);for(l=new Xt(f.f);l.a<l.c.c.length;){s=ww($p(l),7);for(i=new Xt(s.e);i.a<i.c.c.length;){r=ww($p(i),12);b=r.d;h=b.f.d;h!=a&&h!=u&&iY(r,(w=new CG(e),wr(w,(hO(),i1)),Ny(w,(gB(),F9),r),Ny(w,(mB(),xK),(_N(),pW)),yk(w,u),w))}}}}kI(t)};var H2=Lg(x$,"LongEdgeSplitter",498);vR(499,1,A$,Nn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s;GL(t,"Node margin calculation",1);r=new ot((Yr(),new ff(e,true)));BI(r);f=ww(MH(e,(gB(),a8)),15).a;for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);for(u=new Xt(i.a);u.a<u.c.c.length;){c=ww($p(u),9);vA(c,f);o=c.e;s=ww(MH(c,s8),65);o.b=wc(o.b,s.b);o.c=wc(o.c,s.c);o.a=wc(o.a,s.a);o.d=wc(o.d,s.d)}}kI(t)};var C2=Lg(x$,r$,499);vR(491,1,A$,On);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Node promotion heuristic",1);this.g=e;yD(this);this.q=ww(MH(e,(vB(),V8)),109);s=ww(MH(this.g,z8),24).a;a=new Tn;switch(this.q.e){case 2:case 1:fM(this,a);break;case 3:this.q=(IR(),M2);fM(this,a);f=0;for(u=new Xt(this.a);u.a<u.c.c.length;){c=ww($p(u),24);f=gc(f,c.a)}if(f>this.j){this.q=T2;fM(this,a)}break;case 4:this.q=(IR(),M2);fM(this,a);o=0;for(i=new Xt(this.b);i.a<i.c.c.length;){r=$h($p(i));o=wc(o,(gd(r),r))}if(o>this.k){this.q=Y2;fM(this,a)}break;case 6:h=Uk(Ho(this.f.length*s/100));fM(this,new Et(h));break;case 5:l=Uk(Ho(this.d*s/100));fM(this,new Ht(l));break;default:fM(this,a)}jY(this,e);kI(t)};AU.d=0;AU.e=0;AU.i=0;AU.j=0;AU.k=0;AU.n=0;var I2=Lg(x$,"NodePromotion",491);vR(492,1,Sx,Tn);AU.B=function n(e){return jd(),jd(),ynn};var L2=Lg(x$,"NodePromotion/lambda$0$Type",492);vR(493,1,Sx,Et);AU.B=function n(e){return gg(this.a,e)};AU.a=0;var G2=Lg(x$,"NodePromotion/lambda$1$Type",493);vR(494,1,Sx,Ht);AU.B=function n(e){return vg(this.a,e)};AU.a=0;var N2=Lg(x$,"NodePromotion/lambda$2$Type",494);vR(109,17,{109:1,3:1,23:1,17:1},vf);var O2,T2,P2,R2,Y2,A2,_2,M2;var D2=Yy(x$,"NodePromotionStrategy",109,RF,cy);var B2;vR(500,1,A$,Pn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;GL(t,W$,1);w=ww(MH(e,(mB(),gK)),122);for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);o=ww(KG(i.a,Vj(n1,v$,9,i.a.c.length,0,1)),51);for(u=0,f=o.length;u<f;++u){c=o[u];if(c.g!=(hO(),c1)){continue}if(w==(JC(),$Q)){for(l=new Xt(c.f);l.a<l.c.c.length;){s=ww($p(l),7);s.b.c.length==0||VG(s);s.e.c.length==0||zG(s)}}else if(gl(MH(c,(gB(),F9)),12)){g=ww(MH(c,F9),12);v=ww(hT(c,(SD(),JW)).mb().H(),7);k=ww(hT(c,OW).mb().H(),7);p=ww(MH(v,F9),7);m=ww(MH(k,F9),7);Ek(g,m);Sk(g,p);j=new xo(k.f.i);j.a=WE(UH(rc(iQ,1),o$,10,0,[m.f.i,m.i,m.a])).a;Xb(g.a,j);j=new xo(v.f.i);j.a=WE(UH(rc(iQ,1),o$,10,0,[p.f.i,p.i,p.a])).a;Xb(g.a,j)}else{if(c.f.c.length>=2){d=true;h=new Xt(c.f);r=ww($p(h),7);while(h.a<h.c.c.length){b=r;r=ww($p(h),7);if(!CC(MH(b,F9),MH(r,F9))){d=false;break}}}else{d=false}for(l=new Xt(c.f);l.a<l.c.c.length;){s=ww($p(l),7);s.b.c.length==0||TY(s,d);s.e.c.length==0||PY(s,d)}}yk(c,null)}}kI(t)};var x2=Lg(x$,"NorthSouthPortPostprocessor",500);vR(501,1,A$,Rn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j;GL(t,W$,1);d=new De;j=new De;for(s=new Xt(e.c);s.a<s.c.c.length;){o=ww($p(s),16);v=-1;w=ww(KG(o.a,Vj(n1,v$,9,o.a.c.length,0,1)),51);for(h=0,b=w.length;h<b;++h){l=w[h];++v;if(!(l.g==(hO(),a1)&&Rf(ww(MH(l,(mB(),xK)),28)))){continue}rh(ww(MH(l,(mB(),xK)),28))||eY(l);Ny(l,(gB(),_9),l);d.c=Vj(WU,WB,1,0,4,1);j.c=Vj(WU,WB,1,0,4,1);r=new De;m=new Ga;mH(m,hT(l,(SD(),TW)));XD(e,m,d,j,r);f=v;for(c=new Xt(d);c.a<c.c.c.length;){i=ww($p(c),9);gN(i,f,o);++v;Ny(i,_9,l);u=ww(Uw(i.f,0),7);g=ww(MH(u,F9),7);ya(Sa(xh(MH(g,(vB(),q8)))))||ww(MH(i,M9),20).ib(l)}Av(m);for(p=hT(l,KW).mb();p.G();){k=ww(p.H(),7);xm(m,k,m.a,m.a.a)}XD(e,m,j,null,r);for(a=new Xt(j);a.a<a.c.c.length;){i=ww($p(a),9);gN(i,++v,o);Ny(i,_9,l);u=ww(Uw(i.f,0),7);g=ww(MH(u,F9),7);ya(Sa(xh(MH(g,(vB(),q8)))))||ww(MH(l,M9),20).ib(i)}r.c.length==0||Ny(l,w9,r)}}kI(t)};var $2=Lg(x$,"NorthSouthPortPreprocessor",501);vR(502,1,_B,Yn);AU.$b=function n(e,t){var r,i;return r=e.g,i=t.g,r!=i?r.e-i.e:e.k==t.k?0:r==(SD(),TW)?e.k-t.k:t.k-e.k};var U2=Lg(x$,"NorthSouthPortPreprocessor/lambda$0$Type",502);vR(504,1,A$,In);AU.sc=function n(e,t){var r,i,a,c,u,f;GL(t,"Removing partition constraint edges",1);for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);for(c=new Xt(r.a);c.a<c.c.c.length;){a=ww($p(c),9);f=new Xt(a.f);while(f.a<f.c.c.length){u=ww($p(f),7);ya(Sa(xh(MH(u,(gB(),W9)))))&&Kd(f)}}}kI(t)};var F2=Lg(x$,"PartitionPostprocessor",504);vR(505,1,A$,An);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Adding partition constraint edges",1);this.a=new De;for(f=new Xt(e.b);f.a<f.c.c.length;){c=ww($p(f),9);a=ww(MH(c,(mB(),RK)),24);Ty(this,a.a).ib(c)}for(i=0;i<this.a.c.length-1;i++){for(u=ww(Uw(this.a,i),20).mb();u.G();){c=ww(u.H(),9);l=new qN;jk(l,c);ib(l,(SD(),OW));Ny(l,(gB(),W9),(jd(),jd(),ynn));for(s=ww(Uw(this.a,i+1),20).mb();s.G();){o=ww(s.H(),9);h=new qN;jk(h,o);ib(h,JW);Ny(h,W9,(null,ynn));r=new xv;Ny(r,W9,(null,ynn));Ny(r,(mB(),qK),HI(20));Ek(r,l);Sk(r,h)}}}this.a=null;kI(t)};var V2=Lg(x$,"PartitionPreprocessor",505);vR(506,1,A$,_n);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,"Port distribution",1);r=qT(e);w=0;l=0;for(a=0,u=r.length;a<u;++a){i=r[a];for(o=0,s=i.length;o<s;++o){f=i[o];f.k=l++;for(b=new Xt(f.f);b.a<b.c.c.length;){h=ww($p(b),7);h.k=w++}}}for(c=new Xt(e.c);c.a<c.c.c.length;){i=ww($p(c),16);oR(i)}g=ww(MH(e,(gB(),t8)),154);d=BP(g,1)!=0?new wa(Vj(Ctn,J$,26,w,12,1)):new ba(Vj(Ctn,J$,26,w,12,1));aO(d,r);kI(t)};var z2=Lg(x$,"PortDistributionProcessor",506);vR(507,1,A$,Mn);AU.sc=function n(e,t){var r,i,a,c,u;GL(t,"Port order processing",1);u=new Dn;for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);for(c=new Xt(r.a);c.a<c.c.c.length;){a=ww($p(c),9);Rf(ww(MH(a,(mB(),xK)),28))&&Sm(a.f,u)}}kI(t)};var q2=Lg(x$,"PortListSorter",507);vR(508,1,_B,Dn);AU.$b=function n(e,t){return LA(ww(e,7),ww(t,7))};var Q2=Lg(x$,"PortListSorter/PortComparator",508);vR(509,1,A$,Bn);AU.sc=function n(e,t){var r,i,a,c,u;GL(t,"Port side processing",1);for(u=new Xt(e.b);u.a<u.c.c.length;){a=ww($p(u),9);iP(a)}for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);for(c=new Xt(r.a);c.a<c.c.c.length;){a=ww($p(c),9);iP(a)}}kI(t)};var K2=Lg(x$,"PortSideProcessor",509);vR(510,1,A$,xn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Restoring reversed edges",1);for(f=new Xt(e.c);f.a<f.c.c.length;){u=ww($p(f),16);for(s=new Xt(u.a);s.a<s.c.c.length;){o=ww($p(s),9);for(h=new Xt(o.f);h.a<h.c.c.length;){l=ww($p(h),7);c=ww(KG(l.e,Vj($X,M$,12,l.e.c.length,0,1)),47);for(i=0,a=c.length;i<a;++i){r=c[i];ya(Sa(xh(MH(r,(gB(),i8)))))&&s_(r,false)}}}}kI(t)};var W2=Lg(x$,"ReversedEdgeRestorer",510);vR(511,1,A$,$n);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T;GL(t,"Sausage Folding",1);this.b=ww(MH(e,(gB(),a8)),15).a;this.a=this.b*ww(MH(e,(vB(),Q8)),15).a;d=IT(this,e);w=e.c.c.length;g=KO(this,e);G=w*g;a=ww(MH(e,(mB(),wK)),59);a==(WC(),LQ)||a==GQ||a==NQ?i=ww(MH(e,b9),15).a:i=1/ww(MH(e,b9),15).a;r=G/d;if(i>r){kI(t);return}I=0;c=K$;do{++I;r=G/I/(d*I);b=c;c=r-i<=0?0-(r-i):r-i}while(r>i);b<c&&--I;H=w/(1>I?1:I)|0;s=H;j=H;T=true;while(s<w){h=ww(Uw(e.c,s),16);C=true;p=null;m=null;n:for(O=new Xt(h.a);O.a<O.c.c.length;){N=ww($p(O),9);for(f=mg(SI(N));AI(f);){u=ww(Jk(f),12);if(!!p&&p!=N){C=false;break n}p=N;L=u.c.f;if(!!m&&m!=L){C=false;break n}m=L}}if(T&&C){j=0;T=false}if(s!=j){y=ww(Uw(e.c,j),16);for(k=new Xt(ij(h.a));k.a<k.c.c.length;){v=ww($p(k),9);gN(v,y.a.c.length,y);if(j==0){for(f=new Xt(ij(SI(v)));f.a<f.c.c.length;){u=ww($p(f),12);s_(u,true);Ny(e,C9,(jd(),jd(),ynn));k_(e,u);o=new De;g_(e,u.c,u,o);for(E=new Xt(o);E.a<E.c.c.length;){S=ww($p(E),9);gN(S,y.a.c.length-1,y)}}}}}j>=H&&(T=true);++j;++s}l=new Dp(e.c,0);while(l.b<l.d.Y()){h=(Ns(l.b<l.d.Y()),ww(l.d.sb(l.c=l.b++),16));h.a.c.length==0&&rv(l)}kI(t)};AU.a=0;AU.b=0;var J2=Lg(x$,"SausageFolding",511);vR(512,1,A$,Un);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;GL(t,"Self-loop processing",1);r=new De;for(l=new Xt(e.c);l.a<l.c.c.length;){s=ww($p(l),16);r.c=Vj(WU,WB,1,0,4,1);for(b=new Xt(s.a);b.a<b.c.c.length;){h=ww($p(b),9);for(d=new Xt(h.f);d.a<d.c.c.length;){w=ww($p(d),7);o=ww(KG(w.e,Vj($X,M$,12,w.e.c.length,0,1)),47);for(u=0,f=o.length;u<f;++u){c=o[u];if(c.c.f!=c.d.f){continue}g=c.c;k=c.d;v=g.g;p=k.g;(v==(SD(),TW)||v==KW)&&p==JW?s_(c,false):v==KW&&p==TW?s_(c,false):v==OW&&p!=OW&&s_(c,false);v==OW&&p==JW?nw(r,jR(e,c,k,g)):v==JW&&p==OW&&nw(r,jR(e,c,g,k))}}}for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),9);yk(i,s)}}kI(t)};var Z2=Lg(x$,"SelfLoopProcessor",512);vR(513,1,A$,Fn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;GL(t,"Spline SelfLoop positioning",1);l=ww(MH(e,(vB(),X8)),153);for(s=new Xt(e.c);s.a<s.c.c.length;){o=ww($p(s),16);for(b=new Xt(o.a);b.a<b.c.c.length;){h=ww($p(b),9);u=ww(MH(h,(gB(),o8)),20);f=new De;for(a=u.mb();a.G();){r=ww(a.H(),75);tN(r);if((w=qg(r.g),wE(w,r.i),w).a.Y()==0){f.c[f.c.length]=r}else{C_(r);r.g.a.Y()==0||zM(r)}}switch(l.e){case 0:d=new ys(h);BE(d);WD(d,f);break;case 2:for(c=new Xt(f);c.a<c.c.c.length;){r=ww($p(c),75);rT(r,(YD(),I6),true)}break;case 1:for(i=new Xt(f);i.a<i.c.c.length;){r=ww($p(i),75);rT(r,(YD(),I6),true)}}switch(l.e){case 0:case 1:wA(u);break;case 2:bA(u)}}}kI(t)};var X2=Lg(x$,"SplineSelfLoopPositioner",513);vR(515,1,{},ys);var n3=Lg(x$,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator",515);vR(516,1,{},AY);AU.d=true;var e3=Lg(x$,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides",516);vR(116,1,{116:1},Ja);AU.a=0;AU.b=0;var t3=Lg(x$,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides/SizeOfSide",116);vR(318,1,{},zA);var r3;var i3=Lg(x$,"SplineSelfLoopPositioner/PortReadder",318);vR(514,1,_B,Wn);AU.$b=function n(e,t){return Qo(ww(e,75),ww(t,75))};var a3=Lg(x$,"SplineSelfLoopPositioner/TextWidthComparator",514);vR(517,1,A$,Jn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p;GL(t,"Spline SelfLoop pre-processing.",1);l=new Os;for(b=new Xt(e.b);b.a<b.c.c.length;){h=ww($p(b),9);tL(h);l.a.Q();for(f=mg(EI(h));AI(f);){c=ww(Jk(f),12);kj(c)&&(w=l.a.db(c,l),w==null)}for(u=(d=new zt(l.a).a.bb().mb(),new qt(d));u.a.G();){c=(o=ww(u.a.H(),21),ww(o.yb(),12));k=c.c.g;p=c.d.g;(k==(SD(),TW)&&(p==OW||p==KW)||k==OW&&p==KW||k==KW&&p==JW||k==JW&&(p==TW||p==OW))&&s_(c,false)}r=$P(l,h);Ny(h,(gB(),o8),r);if(!rh(ww(MH(h,(mB(),xK)),28))){v=new va;for(a=new Xt(r);a.a<a.c.c.length;){i=ww($p(a),75);wE(v,Hk(i));wE(v,i.i)}s=new Dp(h.f,0);while(s.b<s.d.Y()){g=(Ns(s.b<s.d.Y()),ww(s.d.sb(s.c=s.b++),7));v.a.R(g)&&rv(s)}}}kI(t)};var c3=Lg(x$,"SplineSelfLoopPreProcessor",517);vR(518,1,A$,Zn);AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O;GL(t,"Spline SelfLoop routing",1);I=new ne;for(b=new Xt(e.c);b.a<b.c.c.length;){h=ww($p(b),16);for(p=new Xt(h.a);p.a<p.c.c.length;){k=ww($p(p),9);j=k.f;w=new Os;for(i=ww(MH(k,(gB(),o8)),20).mb();i.G();){r=ww(i.H(),75);wE(w,r.a)}y=new De;for(u=(m=new zt(w.a).a.bb().mb(),new qt(m));u.a.G();){c=(f=ww(u.a.H(),21),ww(f.yb(),12));H=c.c;G=c.d;l=new Xt(c.c.f.f);E=0;L=0;o=0;s=0;while(o<2){a=ww($p(l),7);if(H==a){E=s;++o}if(G==a){L=s;++o}++s}S=ww(MH(c,f8),60);C=S==(YD(),L6)||S==H6?j.c.length-(L-E<0?-(L-E):L-E)+1:L-E<0?-(L-E):L-E;nw(y,new Em(E,L,C,S,c))}Sm(y,I);g=new va;d=new Xt(y);if(d.a<d.c.c.length){v=PD(ww($p(d),195),g);while(d.a<d.c.c.length){PS(v,PD(ww($p(d),195),g))}Ny(k,s8,(N=new ti,O=new NT(k.j.a,k.j.b),N.d=wc(0,O.d-v.d),N.b=wc(0,O.b-v.b),N.a=wc(0,v.a-O.a),N.c=wc(0,v.c-O.c),N))}}}kI(t)};var u3=Lg(x$,"SplineSelfLoopRouter",518);vR(91,1,{91:1},QT);AU.w=function n(){return this.b+": "+this.d+" -> "+this.a+" "+Ch(this.c)};AU.a=0;AU.b=0;AU.d=0;var f3=Lg(x$,"SplineSelfLoopRouter/LoopPadding",91);vR(521,1,O$,Ew);AU.D=function n(e){return YG(this,ww(e,91))};AU.a=0;AU.c=0;var o3=Lg(x$,"SplineSelfLoopRouter/LoopPadding/EnclosingPredicate",521);vR(520,1,_B,Xn);AU.$b=function n(e,t){return qo(ww(e,91),ww(t,91))};var s3=Lg(x$,"SplineSelfLoopRouter/LoopPadding/MarginComparator",520);vR(196,1,O$,Ct);AU.D=function n(e){return ww(e,91).c==this.a};var l3=Lg(x$,"SplineSelfLoopRouter/LoopPadding/PortSidePredicate",196);vR(195,1,{195:1},Em);AU.c=0;AU.d=0;AU.e=0;var h3=Lg(x$,"SplineSelfLoopRouter/SelfLoopEdge",195);vR(519,1,_B,ne);AU.$b=function n(e,t){return Ba(ww(e,195),ww(t,195))};var b3=Lg(x$,"SplineSelfLoopRouter/SelfLoopEdge/StepSizeComparator",519);vR(82,25,{25:1,82:1},YP);AU.vc=function n(){var e,t,r,i;for(t=OG(this.a,0);t.b!=t.d.c;){e=ww(Tm(t),10);e.a=this.j.d}for(i=OG(this.c,0);i.b!=i.d.c;){r=ww(Tm(i),10);r.a=this.j.d}};AU.wc=function n(){return this.b};AU.xc=function n(){return this.e};AU.w=function n(){return UO(new zt(this.d.a))};AU.b=0;AU.e=0;var w3=Lg(X$,"CLEdge",82);vR(93,25,{25:1,93:1},tA);AU.vc=function n(){this.b.i.a=this.j.d+this.b.e.b};AU.wc=function n(){if(this.b.g==(hO(),t1)){return 0}return this.a};AU.xc=function n(){if(this.b.g==(hO(),t1)){return 0}return this.c};AU.w=function n(){return JG(MH(this.b,(gB(),F9)))};AU.a=0;AU.c=0;var d3=Lg(X$,"CLNode",93);vR(175,17,{175:1,3:1,23:1,17:1},kf);var g3,v3;var k3=Yy(X$,"ConstraintCalculationStrategy",175,RF,vv);var p3;vR(125,17,{125:1,3:1,23:1,17:1},pf);var m3,j3,y3,S3,E3,H3;var C3=Yy(X$,"GraphCompactionStrategy",125,RF,jm);var I3;vR(455,1,A$,zs);AU.sc=function n(e,t){var r,i,a;i=ww(MH(e,(vB(),K8)),125);if(i==(iT(),E3)){return}GL(t,"Horizontal Compaction",1);this.a=e;a=new Bo;r=new CP(YY(a,e));Ya(r,this.b);switch(ww(MH(e,W8),175).e){case 1:Pa(r,L3);break;default:Pa(r,(Ed(),YZ))}switch(i.e){case 1:CA(r);break;case 2:CA(fD(r,(WC(),GQ)));break;case 3:CA(qc(fD(CA(r),(WC(),GQ))));break;case 4:CA(qc(Ra(fD(CA(r),(WC(),GQ)),new Vn)));break;case 5:CA(Ta(r,G3))}fD(r,(WC(),LQ));r.e=true;gA(a);kI(t)};var L3,G3;var N3=Lg(X$,"HorizontalGraphCompactor",455);vR(462,1,{},It);AU.tc=function n(e,t){var r,i,a;if(gl(e,82)&&gl(t,82)&&!mS(QS(ww(e,82).d,ww(t,82).d))){return 0}r=null;gl(e,93)&&(r=ww(e,93).b);i=null;gl(t,93)&&(i=ww(t,93).b);if(!!r&&r.g==(hO(),t1)||!!i&&i.g==(hO(),t1)){return 0}a=ww(MH(this.a.a,(gB(),c8)),134);return Sl(a,r?r.g:(hO(),i1),i?i.g:(hO(),i1))};AU.uc=function n(e,t){if(gl(e,82)&&gl(t,82)&&!mS(QS(ww(e,82).d,ww(t,82).d))){return 1}return vc(e.xc(),t.xc())};var O3=Lg(X$,"HorizontalGraphCompactor/1",462);vR(456,317,{},Cw);AU.Dc=function n(e){var t,r,i;this.b=e;jP(this,new zn,this.a);jP(this,new qn,this.a);t=E$;for(i=new Xt(this.b.a.b);i.a<i.c.c.length;){r=ww($p(i),25);if(gl(r,93)&&ww(r,93).b.g==(hO(),t1)){continue}t=vc(t,Sa(Dc(this.a,r)))}t==E$&&(t=0);jP(this,new Qn,new Gt(t))};var T3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation",456);vR(457,1,Sx,Lt);AU.B=function n(e){return Dc(this,e)};var P3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$0$Type",457);vR(458,1,O$,zn);AU.D=function n(e){return gl(ww(e,25),82)};var R3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$1$Type",458);vR(459,1,O$,qn);AU.D=function n(e){return gl(ww(e,25),93)};var Y3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$2$Type",459);vR(460,1,O$,Qn);AU.D=function n(e){return true};var A3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$3$Type",460);vR(461,1,Sx,Gt);AU.B=function n(e){return this.a};AU.a=0;var _3=Lg(X$,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$4$Type",461);vR(463,1,Sx,Vn);AU.B=function n(e){return el(),jd(),QI(ww(ww(e,27).a,25).n,ww(ww(e,27).b,59))?jnn:ynn};var M3=Lg(X$,"HorizontalGraphCompactor/lambda$0$Type",463);vR(553,1,{},Bo);AU.c=false;var D3=Lg(X$,"LGraphToCGraphTransformer",553);vR(552,1,{},Kn);AU.Cc=function n(e){var t,r,i,a,c;this.a=e;this.d=new Kr;this.c=Vj(s4,WB,61,this.a.a.a.c.length,0,1);this.b=0;for(r=new Xt(this.a.a.a);r.a<r.c.c.length;){t=ww($p(r),78);t.d=this.b;c=ul(Zc(Xc(new Jr,this.b),t),this.d);this.c[this.b]=c;++this.b}vM(this);TD(this);ER(this);jA(kb(this.d),new ob);for(a=new Xt(this.a.a.b);a.a<a.c.c.length;){i=ww($p(a),25);i.r=this.c[i.f.d].e+i.g.a;i.j.d=i.r}};AU.b=0;var B3=Lg(X$,"NetworkSimplexCompaction",552);vR(142,1,{142:1,23:1},gY);AU.F=function n(e){return Wj(this,ww(e,142))};AU.c=false;AU.d=true;AU.i=0;AU.j=0;AU.k=0;AU.n=0;var x3=Lg(X$,"VerticalSegment",142);vR(586,1,{},as);AU.e=false;var $3=Lg(nU,"AllCrossingsCounter",586);vR(339,1,{});var U3=Lg(nU,"BetweenLayerEdgeAllCrossingsCounter",339);vR(613,1,{},NO);AU.c=0;AU.e=0;AU.i=0;var F3=Lg(nU,"BetweenLayerEdgeTwoNodeCrossingsCounter",613);vR(284,1,{284:1},LE);AU.w=function n(){return"AdjacencyList [node="+this.d+", adjacencies= "+this.a+"]"};AU.b=0;AU.c=0;AU.f=0;var V3=Lg(nU,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList",284);vR(128,1,{128:1,23:1},bh);AU.F=function n(e){return Ow(this,ww(e,128))};AU.w=function n(){return"Adjacency [position="+this.c+", cardinality="+this.a+", currentCardinality="+this.b+"]"};AU.a=0;AU.b=0;AU.c=0;var z3=Lg(nU,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList/Adjacency",128);vR(610,339,{},fa);AU.Gc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T,P,R,Y,A,_,M,D,B,x,$,U,F,V,z,q,Q,K,W,J,Z,X,nn,en,tn,rn,an,cn,un,fn,on,sn;nn=0;for(O=0,R=e.length;O<R;++O){G=e[O];if(rh(ww(MH(G,(mB(),xK)),28))){for(U=new Xt(G.f);U.a<U.c.c.length;){$=ww($p(U),7);V=0;for(u=new Xt($.e);u.a<u.c.c.length;){c=ww($p(u),12);G.d!=c.d.f.d&&++V}V>0&&(this.a[$.k]=nn++)}}else{A=0;for(U=new Xt(G.f);U.a<U.c.c.length;){$=ww($p(U),7);for(u=new Xt($.e);u.a<u.c.c.length;){c=ww($p(u),12);G.d!=c.d.f.d&&++A}this.a[$.k]=nn}A>0&&++nn}}cn=0;for(T=0,Y=t.length;T<Y;++T){G=t[T];if(rh(ww(MH(G,(mB(),xK)),28))){_=0;for(U=new Xt(G.f);U.a<U.c.c.length;){$=ww($p(U),7);if($.g==(SD(),TW)){for(u=new Xt($.b);u.a<u.c.c.length;){c=ww($p(u),12);if(G.d!=c.c.f.d){++_;break}}}else{break}}D=0;z=new Dp(G.f,G.f.c.length);while(z.b>0){$=(Ns(z.b>0),ww(z.a.sb(z.c=--z.b),7));V=0;for(u=new Xt($.b);u.a<u.c.c.length;){c=ww($p(u),12);G.d!=c.c.f.d&&++V}if(V>0){if($.g==(SD(),TW)){this.a[$.k]=cn;++cn}else{this.a[$.k]=cn+_+D;++D}}}cn+=D}else{A=0;for(U=new Xt(G.f);U.a<U.c.c.length;){$=ww($p(U),7);for(u=new Xt($.b);u.a<u.c.c.length;){c=ww($p(u),12);G.d!=c.c.f.d&&++A}this.a[$.k]=cn}A>0&&++cn}}F=new Lr;g=new va;for(N=0,P=e.length;N<P;++N){G=e[N];for(rn=new Xt(G.f);rn.a<rn.c.c.length;){tn=ww($p(rn),7);for(u=new Xt(tn.e);u.a<u.c.c.length;){c=ww($p(u),12);fn=c.d;if(G.d!=fn.f.d){en=ww(Uo(_k(F.d,tn)),204);un=ww(Uo(_k(F.d,fn)),204);if(!en&&!un){d=new dh;g.a.db(d,g);Xb(d.a,c);Xb(d.e,tn);FT(F.d,tn,d);Xb(d.e,fn);FT(F.d,fn,d)}else if(!en){Xb(un.a,c);Xb(un.e,tn);FT(F.d,tn,un)}else if(!un){Xb(en.a,c);Xb(en.e,fn);FT(F.d,fn,en)}else if(en==un){Xb(en.a,c)}else{Xb(en.a,c);for(x=OG(un.e,0);x.b!=x.d.c;){B=ww(Tm(x),7);FT(F.d,B,en)}wE(en.a,un.a);wE(en.e,un.e);g.a.eb(un)!=null}}}}}v=ww(dN(g,Vj(Q3,{675:1,3:1,5:1,6:1},204,g.a.Y(),0,1)),675);L=e[0].d;X=t[0].d;for(b=0,w=v.length;b<w;++b){h=v[b];h.f=nn;h.g=cn;for(U=OG(h.e,0);U.b!=U.d.c;){$=ww(Tm(U),7);q=this.a[$.k];if($.f.d==L){if(q<h.f){h.f=q;h.b=Eh($)}q>h.c&&(h.c=q)}else if($.f.d==X){q<h.g&&(h.g=q);q>h.d&&(h.d=q)}}}QG(v,0,v.length,(zf(),zf(),Hen));an=Vj(ytn,Lx,26,v.length,12,1);r=Vj(ytn,Lx,26,cn+1,12,1);for(p=0;p<v.length;p++){an[p]=v[p].g;r[an[p]]=1}a=0;for(m=0;m<r.length;m++){r[m]==1?r[m]=a:--a}Q=0;for(j=0;j<an.length;j++){an[j]+=r[an[j]];Q=gc(Q,an[j]+1)}l=1;while(l<Q){l*=2}sn=2*l-1;l-=1;on=Vj(ytn,Lx,26,sn,12,1);i=0;for(o=0,s=an.length;o<s;++o){f=an[o];S=f+l;++on[S];while(S>0){S%2>0&&(i+=on[S+1]);S=(S-1)/2|0;++on[S]}}I=Vj(K3,WB,158,v.length*2,0,1);for(y=0;y<v.length;y++){I[2*y]=new Hv(v[y],v[y].f,v[y].c,0);I[2*y+1]=new Hv(v[y],v[y].c,v[y].f,1)}QG(I,0,I.length,(null,Hen));M=0;for(H=0,C=I.length;H<C;++H){E=I[H];switch(E.d){case 0:++M;break;case 1:--M;i+=M}}Z=Vj(K3,WB,158,v.length*2,0,1);for(k=0;k<v.length;k++){Z[2*k]=new Hv(v[k],v[k].g,v[k].d,0);Z[2*k+1]=new Hv(v[k],v[k].d,v[k].g,1)}QG(Z,0,Z.length,(null,Hen));M=0;for(W=0,J=Z.length;W<J;++W){K=Z[W];switch(K.d){case 0:++M;break;case 1:--M;i+=M}}return i};var q3=Lg(nU,"BetweenLayerHyperedgeAllCrossingsCounter",610);vR(204,1,{204:1,23:1},dh);AU.F=function n(e){return NL(this,ww(e,204))};AU.b=0;AU.c=0;AU.d=0;AU.f=0;AU.g=0;var Q3=Lg(nU,"BetweenLayerHyperedgeAllCrossingsCounter/Hyperedge",204);vR(158,1,{158:1,23:1},Hv);AU.F=function n(e){return NP(this,ww(e,158))};AU.b=0;AU.c=0;AU.d=0;var K3=Lg(nU,"BetweenLayerHyperedgeAllCrossingsCounter/HyperedgeCorner",158);vR(611,339,{},oa);AU.Gc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H;H=0;c=0;f=e[0].d;j=t[0].d;for(l=0,b=t.length;l<b;++l){o=t[l];if(rh(ww(MH(o,(mB(),xK)),28))){d=0;for(k=new Xt(o.f);k.a<k.c.c.length;){v=ww($p(k),7);if(v.g==(SD(),TW)){for(a=new Xt(v.b);a.a<a.c.c.length;){i=ww($p(a),12);if(i.c.f.d==f){++d;break}}}else{break}}g=0;m=new Dp(o.f,o.f.c.length);while(m.b>0){v=(Ns(m.b>0),ww(m.a.sb(m.c=--m.b),7));p=0;for(a=new Xt(v.b);a.a<a.c.c.length;){i=ww($p(a),12);i.c.f.d==f&&++p}if(p>0){if(v.g==(SD(),TW)){this.a[v.k]=H;++H}else{this.a[v.k]=H+d+g;++g}c+=p}}H+=g}else{w=0;for(k=new Xt(o.f);k.a<k.c.c.length;){v=ww($p(k),7);for(a=new Xt(v.b);a.a<a.c.c.length;){i=ww($p(a),12);i.c.f.d==f&&++w}this.a[v.k]=H}if(w>0){++H;c+=w}}}y=Vj(ytn,Lx,26,c,12,1);u=0;for(s=0,h=e.length;s<h;++s){o=e[s];if(rh(ww(MH(o,(mB(),xK)),28))){for(k=new Xt(o.f);k.a<k.c.c.length;){v=ww($p(k),7);S=u;for(a=new Xt(v.e);a.a<a.c.c.length;){i=ww($p(a),12);E=i.d;E.f.d==j&&aH(y,S,u++,this.a[E.k])}}}else{S=u;for(k=new Xt(o.f);k.a<k.c.c.length;){v=ww($p(k),7);for(a=new Xt(v.e);a.a<a.c.c.length;){i=ww($p(a),12);E=i.d;E.f.d==j&&aH(y,S,u++,this.a[E.k])}}}}r=tT(H,c,y);return r};var W3=Lg(nU,"BetweenLayerStraightEdgeAllCrossingsCounter",611);vR(338,1,{},aT);AU.b=0;AU.e=false;var J3=Lg(nU,"CrossingMatrixFiller",338);vR(447,1,A$,ee);AU.sc=function n(e,t){var r,i,a,c;GL(t,"Greedy switch crossing reduction",1);this.e=ww(MH(e,(vB(),_8)),110);r=e.c.c.length;if(r<2||this.e==(K_(),K7)){kI(t);return}B_(this,e);this.e.b?(this.e.a?CI(this):Ly(this),i=EN(this),a=this.e.a?this.c:XN(this.b,this.d),this.i=!this.i,this.d=this.g,this.e.a?CI(this):Ly(this),c=this.e.a?this.c:XN(this.b,this.d),a<=c&&vH(this,i),undefined):this.e.a?CI(this):Ly(this);rP(this,this.a);kI(t)};AU.c=0;AU.i=true;var Z3=Lg(nU,"GreedySwitchProcessor",447);vR(340,1,{},sL);var X3=Lg(nU,"InLayerEdgeAllCrossingsCounter",340);vR(614,340,{},bb);AU.b=0;AU.d=0;var n4=Lg(nU,"InLayerEdgeTwoNodeCrossingCounter",614);vR(226,1,{226:1,23:1},Sv);AU.F=function n(e){return AG(this,ww(e,226))};AU.w=function n(){return"ComparableEdgeAndPort [port="+this.b+", edge="+this.a+", portPosition="+this.c+"]"};AU.c=0;var e4=Lg(nU,"InLayerEdgeTwoNodeCrossingCounter/ComparableEdgeAndPort",226);vR(612,1,{},lN);AU.e=true;AU.f=0;AU.g=0;AU.k=false;var t4=Lg(nU,"NorthSouthEdgeAllCrossingsCounter",612);vR(615,1,{},nH);AU.b=0;AU.d=0;AU.e=false;var r4=Lg(nU,"NorthSouthEdgeNeighbouringNodeCrossingsCounter",615);vR(143,1,kx,fb);AU.mb=function n(){return KR(this)};AU.b=0;var i4=Lg(nU,"PortIterable",143);vR(344,1,ix,tp);AU.H=function n(){return ww(Wd(this.a),7)};AU.G=function n(){return this.a.b>0};AU.I=function n(){throw new si};var a4=Lg(nU,"PortIterable/1",344);vR(336,1,{},dO);var c4=Lg(nU,"SwitchDecider",336);vR(89,1,{89:1},te);AU.w=function n(){return"NEdge[id="+this.b+" w="+this.f+" d="+this.a+"]"};AU.a=1;AU.b=0;AU.e=false;AU.f=0;var u4=Lg(tU,"NEdge",89);vR(157,1,{},Wr);var f4=Lg(tU,"NEdge/NEdgeBuilder",157);vR(278,1,{},Kr);var o4=Lg(tU,"NGraph",278);vR(61,1,{61:1},zm);AU.b=0;AU.d=-1;AU.e=0;AU.i=-1;AU.j=false;var s4=Lg(tU,"NNode",61);vR(333,13,P$,ri);AU.rb=function n(e,t){++this.d;xj(e,this.c.length);mo(this.c,e,t)};AU.ib=function n(e){return fg(this,e)};AU.jb=function n(e){++this.d;return gH(this,e)};AU.Q=function n(){++this.d;this.c=Vj(WU,WB,1,0,4,1)};AU.vb=function n(e){++this.d;return _j(this,e)};AU.nb=function n(e){return Rs(this,e)};var l4=Lg(tU,"NNode/ChangeAwareArrayList",333);vR(199,1,{},Jr);var h4=Lg(tU,"NNode/NNodeBuilder",199);vR(595,1,{},re);AU.a=false;AU.f=NB;AU.j=0;var b4=Lg(tU,"NetworkSimplex",595);vR(193,17,{180:1,193:1,3:1,23:1,17:1},mf);AU.rc=function n(){switch(this.e){case 0:return new tw;case 1:return new He;default:throw new Ca("No implementation is available for the cycle breaker "+(this.d!=null?this.d:""+this.e))}};var w4,d4;var g4=Yy(iU,"CycleBreakingStrategy",193,RF,kv);var v4;vR(539,1,aU,tw);AU.qc=function n(e){return k4};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T;GL(t,"Greedy cycle removal",1);k=e.b;T=k.c.length;this.a=Vj(ytn,Lx,26,T,12,1);this.c=Vj(ytn,Lx,26,T,12,1);this.b=Vj(ytn,Lx,26,T,12,1);f=0;for(g=new Xt(k);g.a<g.c.c.length;){w=ww($p(g),9);w.k=f;for(S=new Xt(w.f);S.a<S.c.c.length;){j=ww($p(S),7);for(c=new Xt(j.b);c.a<c.c.c.length;){r=ww($p(c),12);if(r.c.f==w){continue}C=ww(MH(r,(gB(),n8)),24).a;this.a[f]+=C>0?C+1:1}for(a=new Xt(j.e);a.a<a.c.c.length;){r=ww($p(a),12);if(r.d.f==w){continue}C=ww(MH(r,(gB(),n8)),24).a;this.c[f]+=C>0?C+1:1}}this.c[f]==0?Xb(this.d,w):this.a[f]==0&&Xb(this.e,w);++f}b=-1;h=1;s=new De;I=ww(MH(e,(gB(),t8)),154);while(T>0){while(this.d.b!=0){G=ww(xb(this.d),9);this.b[G.k]=b--;UA(this,G);--T}while(this.e.b!=0){N=ww(xb(this.e),9);this.b[N.k]=h++;UA(this,N);--T}if(T>0){l=AB;for(v=new Xt(k);v.a<v.c.c.length;){w=ww($p(v),9);if(this.b[w.k]==0){p=this.c[w.k]-this.a[w.k];if(p>=l){if(p>l){s.c=Vj(WU,WB,1,0,4,1);l=p}s.c[s.c.length]=w}}}o=ww(Uw(s,rN(I,s.c.length)),9);this.b[o.k]=h++;UA(this,o);--T}}L=k.c.length+1;for(f=0;f<k.c.length;f++){this.b[f]<0&&(this.b[f]+=L)}for(d=new Xt(k);d.a<d.c.c.length;){w=ww($p(d),9);H=ww(KG(w.f,Vj(w1,F$,7,w.f.c.length,0,1)),346);for(y=0,E=H.length;y<E;++y){j=H[y];m=ww(KG(j.e,Vj($X,M$,12,j.e.c.length,0,1)),47);for(i=0,u=m.length;i<u;++i){r=m[i];O=r.d.f.k;if(this.b[w.k]>this.b[O]){s_(r,true);Ny(e,C9,(jd(),jd(),ynn))}}}}this.a=null;this.c=null;this.b=null;Av(this.e);Av(this.d);kI(t)};var k4;var p4=Lg(iU,"GreedyCycleBreaker",539);vR(540,1,aU,He);AU.qc=function n(e){return m4};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,"Interactive cycle breaking",1);l=new De;for(b=new Xt(e.b);b.a<b.c.c.length;){h=ww($p(b),9);h.k=1;w=zN(h).a;for(s=rL(h,(nE(),j8)).mb();s.G();){o=ww(s.H(),7);for(a=new Xt(o.e);a.a<a.c.c.length;){r=ww($p(a),12);d=r.d.f;if(d!=h){g=zN(d).a;g<w&&(l.c[l.c.length]=r,true)}}}}for(c=new Xt(l);c.a<c.c.c.length;){r=ww($p(c),12);s_(r,true)}l.c=Vj(WU,WB,1,0,4,1);for(f=new Xt(e.b);f.a<f.c.c.length;){u=ww($p(f),9);u.k>0&&GT(this,u,l)}for(i=new Xt(l);i.a<i.c.c.length;){r=ww($p(i),12);s_(r,true)}l.c=Vj(WU,WB,1,0,4,1);kI(t)};var m4;var j4=Lg(iU,"InteractiveCycleBreaker",540);vR(543,1,aU,ie);AU.qc=function n(e){return qw(Vw(new xI,(dB(),N0)),D0)};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g;GL(t,"Interactive node layering",1);r=new De;for(h=new Xt(e.b);h.a<h.c.c.length;){s=ww($p(h),9);f=s.i.a;u=f+s.j.a;u=f+1>u?f+1:u;g=new Dp(r,0);i=null;while(g.b<g.d.Y()){w=(Ns(g.b<g.d.Y()),ww(g.d.sb(g.c=g.b++),239));if(w.c>=u){Ns(g.b>0);g.a.sb(g.c=--g.b);break}else if(w.a>f){if(!i){nw(w.b,s);w.c=vc(w.c,f);w.a=wc(w.a,u);i=w}else{gH(i.b,w.b);i.a=wc(i.a,w.a);rv(g)}}}if(!i){i=new Zr;i.c=f;i.a=u;mb(g,i);nw(i.b,s)}}c=e.c;o=0;for(d=new Xt(r);d.a<d.c.c.length;){w=ww($p(d),239);a=new cg(e);a.k=o++;c.c[c.c.length]=a;for(b=new Xt(w.b);b.a<b.c.c.length;){s=ww($p(b),9);yk(s,a);s.k=0}}for(l=new Xt(e.b);l.a<l.c.c.length;){s=ww($p(l),9);s.k==0&&CY(this,s,e)}while(($j(0,c.c.length),ww(c.c[0],16)).a.c.length==0){$j(0,c.c.length);c.c.splice(0,1)}e.b.c=Vj(WU,WB,1,0,4,1);kI(t)};var y4=Lg(cU,"InteractiveLayerer",543);vR(239,1,{239:1},Zr);AU.a=0;AU.c=0;var S4=Lg(cU,"InteractiveLayerer/LayerSpan",239);vR(173,17,{180:1,173:1,3:1,23:1,17:1},jf);AU.rc=function n(){switch(this.e){case 0:return new Hs;case 1:return new Ee;case 2:return new ie;default:throw new Ca("No implementation is available for the layerer "+(this.d!=null?this.d:""+this.e))}};var E4,H4,C4;var I4=Yy(cU,"LayeringStrategy",173,RF,uk);var L4;vR(542,1,aU,Ee);AU.qc=function n(e){var t;t=hw(G4);ya(Sa(xh(MH(e,(vB(),O8)))))||$o(MH(e,enn))===$o((UE(),fnn))?AE(t,N4):$o(MH(e,enn))===$o((UE(),onn))&&AE(t,O4);ya(Sa(xh(MH(e,Z8))))&&Qw(t,(dB(),e2));return t};AU.sc=function n(e,t){var r,i,a,c,u;GL(t,"Longest path layering",1);this.a=e;u=this.a.b;this.b=Vj(ytn,Lx,26,u.c.length,12,1);r=0;for(c=new Xt(u);c.a<c.c.c.length;){i=ww($p(c),9);i.k=r;this.b[r]=-1;++r}for(a=new Xt(u);a.a<a.c.c.length;){i=ww($p(a),9);XP(this,i)}u.c=Vj(WU,WB,1,0,4,1);this.a=null;this.b=null;kI(t)};var G4,N4,O4;var T4=Lg(cU,"LongestPathLayerer",542);vR(541,1,aU,Hs);AU.qc=function n(e){var t;t=hw(P4);if(ya(Sa(xh(MH(e,(vB(),O8)))))||$o(MH(e,enn))===$o((UE(),fnn))){AE(t,R4);this.d=(UE(),fnn)}else if($o(MH(e,enn))===$o((UE(),onn))){AE(t,Y4);this.d=onn}return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Network simplex layering",1);this.b=e;h=ww(MH(e,(vB(),nnn)),24).a*4;l=this.b.b;if(l.c.length<1){kI(t);return}for(i=OG(pA(this,l),0);i.b!=i.d.c;){r=ww(Tm(i),20);c=h*Uk(Co(r.Y()));a=hA(r);jA(Aa(Ma(_a(kb(a),c),this.b),this.d==(UE(),fnn)),_E(t,1));f=this.b.c;for(s=new Xt(a.a);s.a<s.c.c.length;){o=ww($p(s),61);while(f.c.length<=o.e){fd(f,f.c.length,new cg(this.b))}u=ww(o.f,9);yk(u,ww(Uw(f,o.e),16))}}l.c=Vj(WU,WB,1,0,4,1);this.a=null;this.b=null;this.c=null;kI(t)};var P4,R4,Y4;var A4=Lg(cU,"NetworkSimplexLayerer",541);vR(326,1,{});var _4=Lg(fU,"AbstractPortDistributor",326);vR(558,1,_B,Ot);AU.$b=function n(e,t){return XL(this,ww(e,7),ww(t,7))};var M4=Lg(fU,"AbstractPortDistributor/1",558);vR(564,1,{},yy);var D4=Lg(fU,"BarycenterHeuristic",564);vR(272,1,{272:1},Rt);AU.b=0;AU.d=0;AU.e=false;var B4=Lg(fU,"BarycenterHeuristic/BarycenterState",272);vR(565,1,_B,Tt);AU.$b=function n(e,t){return EO(this.a,e,t)};var x4=Lg(fU,"BarycenterHeuristic/lambda$0$Type",565);vR(192,17,{180:1,192:1,3:1,23:1,17:1},yf);AU.rc=function n(){switch(this.e){case 0:return new Fc;case 1:return new Ne;default:throw new Ca("No implementation is available for the crossing minimizer "+(this.d!=null?this.d:""+this.e))}};var $4,U4;var F4=Yy(fU,"CrossingMinimizationStrategy",192,RF,pv);var V4;vR(526,1,aU,Ne);AU.qc=function n(e){var t;t=hw(z4);ww(MH(e,(gB(),P9)),18).kb((VY(),F7))&&qw(t,(dB(),Z0));return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;GL(t,"Interactive crossing minimization",1);b=0;for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);r=0;s=0;for(o=new Xt(i.a);o.a<o.c.c.length;){u=ww($p(o),9);if(u.i.a>0){r+=u.i.a+u.j.a/2;++s}for(h=new Xt(u.f);h.a<h.c.c.length;){l=ww($p(h),7);l.k=b++}}r/=s;d=Vj(Htn,DB,26,i.a.c.length,12,1);c=0;for(f=new Xt(i.a);f.a<f.c.c.length;){u=ww($p(f),9);u.k=c++;d[u.k]=LM(u,r);u.g==(hO(),i1)&&Ny(u,(gB(),z9),d[u.k])}Sm(i.a,new Pt(d))}w=new wa(Vj(Ctn,J$,26,b,12,1));aO(w,qT(e));kI(t)};var z4;var q4=Lg(fU,"InteractiveCrossingMinimizer",526);vR(527,1,_B,Pt);AU.$b=function n(e,t){return rO(this,ww(e,9),ww(t,9))};var Q4=Lg(fU,"InteractiveCrossingMinimizer/1",527);vR(525,1,aU,Fc);AU.qc=function n(e){var t;t=hw(K4);ww(MH(e,(gB(),P9)),18).kb((VY(),F7))&&qw(t,(dB(),Z0));return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N;GL(t,"Layer sweep crossing minimization",1);L=ww(MH(e,(gB(),t8)),154);v=e.c.c.length;if(v<2){kI(t);return}JD(this,e);i=NB;N=ww(MH(e,(vB(),nnn)),24).a;r=Vj(B4,SB,671,e.c.c.length,0,2);b=0;for(g=new Xt(e.c);g.a<g.c.c.length;){d=ww($p(g),16);d.k=b;r[b]=Vj(B4,{671:1,3:1,5:1,6:1},272,d.a.c.length,0,1);w=0;for(y=new Xt(d.a);y.a<y.c.c.length;){j=ww($p(y),9);j.k=w;r[b][w]=new Rt(j);++w}++b}a=new wP(r,this.g);c=new yy(r,a,L,this.j);E=new wa(this.j);m=new ba(this.j);for(G=0;G<N&&i>0;G++){l=BP(L,1)!=0;s=l?0:v-1;o=this.b[s];C=BP(L,1)!=0?E:m;DI(o,c,l,false,true);u=NB;f=true;do{DE(this.b,this.k);I=u;u=0;u+=Dy(this.f,o,s);if(l){for(k=1;k<v;k++){h=this.b[k];Aj(C,o,(nE(),j8));DI(h,c,true,!f,false);u+=Dy(this.f,h,k);this.d[k]||this.c[k-1]?u+=pB(this.e,o,h):u+=cB(this.i,o,h);o=h}s=v-1}else{for(k=v-2;k>=0;k--){h=this.b[k];Aj(C,o,(nE(),m8));DI(h,c,false,!f,false);u+=Dy(this.f,h,k);this.c[k]||this.d[k+1]?u+=pB(this.e,h,o):u+=cB(this.i,h,o);o=h}s=0}f=false;l=!l}while(u<I&&u>0);if(u<i||I<i){if(u<=I){DE(this.b,this.a);i=u}else{DE(this.k,this.a);i=I}}}p=new Dp(e.c,0);while(p.b<p.d.Y()){d=(Ns(p.b<p.d.Y()),ww(p.d.sb(p.c=p.b++),16));H=this.a[p.b-1];S=new Dp(d.a,0);while(S.b<S.d.Y()){Ns(S.b<S.d.Y());S.d.sb(S.c=S.b++);jb(S,H[S.b-1])}}this.j=null;this.a=null;this.b=null;this.k=null;this.i=null;this.e=null;this.c=null;this.d=null;Tg(this.g);kI(t)};var K4;var W4=Lg(fU,"LayerSweepCrossingMinimizer",525);vR(327,326,{},ba);AU.Hc=function n(e,t,r){var i,a,c,u,f,o,s,l,h,b,w,d;b=this.a;if(rh(ww(MH(e,(mB(),xK)),28))){switch(r.e){case 1:{a=0;f=0;for(h=new Xt(e.f);h.a<h.c.c.length;){s=ww($p(h),7);if(s.b.c.length!=0){++a;s.g==(SD(),TW)&&++f}}o=t+f;d=t+a;for(l=rL(e,(nE(),m8)).mb();l.G();){s=ww(l.H(),7);if(s.g==(SD(),TW)){b[s.k]=o;--o}else{b[s.k]=d;--d}}return a}case 2:{w=0;for(l=rL(e,(nE(),j8)).mb();l.G();){s=ww(l.H(),7);++w;b[s.k]=t+w}return w}default:throw new ai}}else{u=4;c=0;for(h=rL(e,r).mb();h.G();){s=ww(h.H(),7);i=rR(r,s.g);u=u<i-1?u:i-1;c=c>i?c:i}if(c>u){for(l=rL(e,r).mb();l.G();){s=ww(l.H(),7);b[s.k]=t+rR(r,s.g)-u}return c-u}return 0}};var J4=Lg(fU,"LayerTotalPortDistributor",327);vR(274,326,{},wa);AU.Hc=function n(e,t,r){var i,a,c,u,f,o,s,l,h,b,w;h=this.a;if(rh(ww(MH(e,(mB(),xK)),28))){switch(r.e){case 1:{a=0;c=0;for(l=new Xt(e.f);l.a<l.c.c.length;){o=ww($p(l),7);if(o.b.c.length!=0){++a;o.g==(SD(),TW)&&++c}}i=1/(a+1);u=t+c*i;w=t+1-i;for(s=rL(e,(nE(),m8)).mb();s.G();){o=ww(s.H(),7);if(o.g==(SD(),TW)){h[o.k]=u;u-=i}else{h[o.k]=w;w-=i}}break}case 2:{f=0;for(l=new Xt(e.f);l.a<l.c.c.length;){o=ww($p(l),7);o.e.c.length==0||++f}i=1/(f+1);b=t+i;for(s=rL(e,(nE(),j8)).mb();s.G();){o=ww(s.H(),7);h[o.k]=b;b+=i}break}default:throw new Ca(sU)}}else{for(s=rL(e,r).mb();s.G();){o=ww(s.H(),7);h[o.k]=t+AR(r,o.g)}}return 1};var Z4=Lg(fU,"NodeRelativePortDistributor",274);vR(566,1,{},wP);var X4=Lg(wU,"ForsterConstraintResolver",566);vR(102,1,{102:1},Dv,IM);AU.w=function n(){var e,t;t=new Oc;t.a+="[";for(e=0;e<this.d.length;e++){Zo(t,Mk(this.d[e]));ll(this.g,this.d[0]).a!=null&&Zo(Zo((t.a+="<",t),ou(Sa(ll(this.g,this.d[0]).a))),">");e<this.d.length-1&&(t.a+=", ",t)}return t.a+="]",t.a};AU.a=0;AU.c=0;AU.f=0;var n5=Lg(wU,"ForsterConstraintResolver/ConstraintGroup",102);vR(331,1,{});var e5=Lg(dU,"AbstractCrossingsCounter",331);vR(568,331,{},xw);var t5=Lg(dU,"BarthJuengerMutzelCrossingsCounter",568);vR(567,331,{},$w);var r5=Lg(dU,"HyperedgeCrossingsCounter",567);vR(197,1,{197:1,23:1},Nh);AU.F=function n(e){return kG(this,ww(e,197))};AU.b=0;AU.c=0;AU.e=0;AU.f=0;var i5=Lg(dU,"HyperedgeCrossingsCounter/Hyperedge",197);vR(156,1,{156:1,23:1},Uv);AU.F=function n(e){return SR(this,ww(e,156))};AU.b=0;AU.c=0;var a5=Lg(dU,"HyperedgeCrossingsCounter/HyperedgeCorner",156);vR(242,17,{242:1,3:1,23:1,17:1},Zf);var c5,u5;var f5=Yy(dU,"HyperedgeCrossingsCounter/HyperedgeCorner/Type",242,RF,Nk);vR(545,1,aU,Oe);AU.qc=function n(e){return ww(MH(e,(gB(),P9)),18).kb((VY(),x7))?o5:null};AU.sc=function n(e,t){var r,i;GL(t,"Interactive node placement",1);this.a=ww(MH(e,(gB(),c8)),134);for(i=new Xt(e.c);i.a<i.c.c.length;){r=ww($p(i),16);lY(this,r)}kI(t)};var o5;var s5=Lg(gU,"InteractiveNodePlacer",545);vR(546,1,aU,Te);AU.qc=function n(e){return ww(MH(e,(gB(),P9)),18).kb((VY(),x7))?l5:null};AU.sc=function n(e,t){GL(t,"Linear segments node placement",1);this.b=ww(MH(e,(gB(),c8)),134);oB(this,e);b_(this,e);iM(this,e);VD(this);this.a=null;this.b=null;kI(t)};var l5,h5,b5;var w5=Lg(gU,"LinearSegmentsNodePlacer",546);vR(111,1,{111:1,23:1},li);AU.F=function n(e){return lc(this,ww(e,111))};AU.t=function n(e){var t;if(gl(e,111)){t=ww(e,111);return this.b==t.b}return false};AU.v=function n(){return this.b};AU.w=function n(){return"ls"+UO(this.f)};AU.a=0;AU.b=0;AU.c=-1;AU.d=-1;AU.i=0;var d5=Lg(gU,"LinearSegmentsNodePlacer/LinearSegment",111);vR(548,1,aU,Pe);AU.qc=function n(e){return ww(MH(e,(gB(),P9)),18).kb((VY(),x7))?g5:null};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T;N=ww(MH(e,(gB(),c8)),134);j=(Ll(),new Lr);m=0;a=new Kr;for(o=new Xt(e.c);o.a<o.c.c.length;){u=ww($p(o),16);I=null;C=null;for(w=new Xt(u.a);w.a<w.c.c.length;){b=ww($p(w),9);++m;p=ul(new Jr,a);p.f=b;FT(j.d,b,p);b.e.d=Ho(b.e.d);if(C){k=new te;k.f=0;k.a=Uk(Ko(I.e.d+I.j.b+I.e.a+Qb(N,ww(C.f,9),b)));k.c=C;k.d=p;fg(C.g,k);fg(p.c,k)}I=b;C=p}}for(s=new Xt(e.c);s.a<s.c.c.length;){u=ww($p(s),16);for(w=new Xt(u.a);w.a<w.c.c.length;){b=ww($p(w),9);for(E=new Xt(b.f);E.a<E.c.c.length;){S=ww($p(E),7);T=S.i.b+S.a.b;if(T!=Math.floor(T)){y=T-zp(DS(Math.round(T)));S.i.b-=y}}}}for(f=new Xt(e.c);f.a<f.c.c.length;){u=ww($p(f),16);for(w=new Xt(u.a);w.a<w.c.c.length;){b=ww($p(w),9);for(h=mg(EI(b));AI(h);){l=ww(Jk(h),12);if(kj(l)){continue}if(l.d.f.d==u){continue}G=l.c.f.e.d+l.c.i.b+l.c.a.b;O=l.d.f.e.d+l.d.i.b+l.d.a.b;r=O-G;H=Uk(r);i=ul(new Jr,a);d=new te;d.f=FG(l);d.a=H>0?H:0;d.c=i;d.d=ww(Vg(j,l.c.f),61);fg(d.c.g,d);fg(d.d.c,d);L=new te;L.f=FG(l);L.a=H<0?-H:0;L.c=i;L.d=ww(Vg(j,l.d.f),61);fg(L.c.g,L);fg(L.d.c,L)}}}c=ww(MH(e,(vB(),nnn)),24).a*Uk(Math.sqrt(m));jA(Aa(_a(kb(a),c),false),_E(t,1));for(v=new Xt(a.a);v.a<v.c.c.length;){g=ww($p(v),61);if(g.f!=null){b=ww(g.f,9);b.i.b=g.e+b.e.d}}};var g5;var v5=Lg(gU,"NetworkSimplexPlacer",548);vR(141,17,{180:1,141:1,3:1,23:1,17:1},Xf);AU.rc=function n(){switch(this.e){case 0:return new Re;case 1:return new Oe;case 2:return new Te;case 3:return new Po;case 4:return new Pe;default:throw new Ca("No implementation is available for the node placer "+(this.d!=null?this.d:""+this.e))}};var k5,p5,m5,j5,y5;var S5=Yy(gU,"NodePlacementStrategy",141,RF,Ij);var E5;vR(544,1,aU,Re);AU.qc=function n(e){return ww(MH(e,(gB(),P9)),18).kb((VY(),x7))?H5:null};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;GL(t,"Simple node placement",1);h=ww(MH(e,(gB(),c8)),134);f=0;for(c=new Xt(e.c);c.a<c.c.c.length;){i=ww($p(c),16);u=i.c;u.b=0;r=null;for(s=new Xt(i.a);s.a<s.c.c.length;){o=ww($p(s),9);!!r&&(u.b+=Sl(h,o.g,r.g)*h.d);u.b+=o.e.d+o.j.b+o.e.a;r=o}f=wc(f,u.b)}for(a=new Xt(e.c);a.a<a.c.c.length;){i=ww($p(a),16);u=i.c;l=(f-u.b)/2;r=null;for(s=new Xt(i.a);s.a<s.c.c.length;){o=ww($p(s),9);!!r&&(l+=Sl(h,o.g,r.g)*h.d);l+=o.e.d;o.i.b=l;l+=o.j.b+o.e.a;r=o}}kI(t)};var H5;var C5=Lg(gU,"SimpleNodePlacer",544);vR(81,1,{81:1},JR);AU.w=function n(){var e;e="";this.c==(Ik(),G5)?e+=qx:this.c==L5&&(e+=zx);this.k==(rm(),O5)?e+="DOWN":this.k==T5?e+="UP":e+="BALANCED";return e};var I5=Lg(kU,"BKAlignedLayout",81);vR(248,17,{248:1,3:1,23:1,17:1},no);var L5,G5;var N5=Yy(kU,"BKAlignedLayout/HDirection",248,RF,Ok);vR(247,17,{247:1,3:1,23:1,17:1},eo);var O5,T5;var P5=Yy(kU,"BKAlignedLayout/VDirection",247,RF,Tk);vR(596,1,{},ao);var R5=Lg(kU,"BKAligner",596);vR(599,1,{},ZN);var Y5=Lg(kU,"BKCompactor",599);vR(279,1,{279:1},ce);AU.a=0;var A5=Lg(kU,"BKCompactor/ClassEdge",279);vR(200,1,{200:1},hi);AU.a=0;AU.b=0;var _5=Lg(kU,"BKCompactor/ClassNode",200);vR(547,1,aU,Po);AU.qc=function n(e){return ww(MH(e,(gB(),P9)),18).kb((VY(),x7))?M5:null};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m;GL(t,"Brandes & Koepf node placement",1);this.b=e;this.d=h_(e);this.a=ya(Sa(xh(MH(e,(vB(),N8)))));this.e=$o(MH(e,A8))===$o((oO(),N7));CM(this,e);w=(hS(4,Hx),new Fy(4));switch(ww(MH(e,A8),124).e){case 3:d=new JR(e,this.d.d,(rm(),O5),(Ik(),L5));w.c[w.c.length]=d;break;case 1:g=new JR(e,this.d.d,(rm(),T5),(Ik(),L5));w.c[w.c.length]=g;break;case 4:p=new JR(e,this.d.d,(rm(),O5),(Ik(),G5));w.c[w.c.length]=p;break;case 2:m=new JR(e,this.d.d,(rm(),T5),(Ik(),G5));w.c[w.c.length]=m;break;default:d=new JR(e,this.d.d,(rm(),O5),(Ik(),L5));g=new JR(e,this.d.d,T5,L5);p=new JR(e,this.d.d,O5,G5);m=new JR(e,this.d.d,T5,G5);w.c[w.c.length]=p;w.c[w.c.length]=m;w.c[w.c.length]=d;w.c[w.c.length]=g}r=new ao(e,this.d);for(c=new Xt(w);c.a<c.c.c.length;){i=ww($p(c),81);RD(r,i,this.c);y_(i)}l=new ZN(e,this.d);for(u=new Xt(w);u.a<u.c.c.length;){i=ww($p(u),81);sD(l,i)}if(this.a){for(f=new Xt(w);f.a<f.c.c.length;){i=ww($p(f),81);rw();i+" size is "+LP(i)}}s=null;if(this.e){o=GD(this,w,this.d.d);TA(this,e,o)&&(s=o)}if(!s){for(f=new Xt(w);f.a<f.c.c.length;){i=ww($p(f),81);TA(this,e,i)&&(!s||LP(s)>LP(i))&&(s=i)}}!s&&(s=($j(0,w.c.length),ww(w.c[0],81)));for(b=new Xt(e.c);b.a<b.c.c.length;){h=ww($p(b),16);for(k=new Xt(h.a);k.a<k.c.c.length;){v=ww($p(k),9);v.i.b=Sa(s.n[v.k])+Sa(s.d[v.k])}}if(this.a){rw();"Blocks: "+VP(s);"Classes: "+qR(s)}for(a=new Xt(w);a.a<a.c.c.length;){i=ww($p(a),81);i.f=null;i.b=null;i.a=null;i.d=null;i.i=null;i.g=null;i.n=null}NE(this.d);this.c.a.Q();kI(t)};AU.a=false;AU.e=false;var M5;var D5=Lg(kU,"BKNodePlacer",547);vR(194,17,{194:1,3:1,23:1,17:1},ro);var B5,x5;var $5=Yy(kU,"CompactionStrategy",194,RF,Pk);var U5;vR(597,1,{},ue);AU.d=0;var F5=Lg(kU,"NeighborhoodInformation",597);vR(598,1,_B,_t);AU.$b=function n(e,t){return IE(this,ww(e,27),ww(t,27))};var V5=Lg(kU,"NeighborhoodInformation/NeighborComparator",598);vR(334,1,{});var z5=Lg(kU,"ThresholdStrategy",334);vR(602,334,{},Di);AU.Ic=function n(e,t,r){return this.a.k==(rm(),T5)?E$:H$};AU.Jc=function n(){};var q5=Lg(kU,"ThresholdStrategy/NullThresholdStrategy",602);vR(249,1,{249:1},co);AU.c=false;AU.d=false;var Q5=Lg(kU,"ThresholdStrategy/Postprocessable",249);vR(603,334,{},Bi);AU.Ic=function n(e,t,r){var i,a,c;a=t==r;i=this.a.a[r.k]==t;if(!(a||i)){return e}c=e;if(this.a.c==(Ik(),G5)){a&&(c=S_(this,t,true));(c==Infinity||c==-Infinity)&&i&&(c=S_(this,r,false))}else{a&&(c=S_(this,t,true));(c==Infinity||c==-Infinity)&&i&&(c=S_(this,r,false))}return c};AU.Jc=function n(){var e,t,r,i;while(this.d.b!=0){i=ww(ok(this.d),249);r=KY(this,i);if(!r.a){continue}e=r.a;if(this.c.a[e.c.f.d.k]===this.c.a[e.d.f.d.k]){continue}t=KP(this,i);t||rs(this.e,i)}while(this.e.a.c.length!=0){KP(this,ww(cC(this.e),249))}};var K5=Lg(kU,"ThresholdStrategy/SimpleThresholdStrategy",603);vR(423,1,{180:1},fe);AU.rc=function n(){switch(this.a.e){case 1:return new Ro;case 3:return new Ae;default:return new Ye}};var W5=Lg(pU,"EdgeRouterFactory",423);vR(538,1,aU,Ye);AU.qc=function n(e){var t,r;r=ww(MH(e,(gB(),P9)),18);t=new xI;if(r.kb((VY(),$7))){AE(t,n6);AE(t,t6)}if(r.kb(F7)||ya(Sa(xh(MH(e,(vB(),Y8)))))){AE(t,t6);r.kb(V7)&&AE(t,r6)}r.kb(x7)&&AE(t,X5);r.kb(q7)&&AE(t,i6);r.kb(U7)&&AE(t,e6);r.kb(M7)&&AE(t,J5);r.kb(B7)&&AE(t,Z5);return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d;GL(t,"Orthogonal edge routing",1);b=ww(MH(e,(gB(),c8)),134);ya(Sa(xh(MH(e,(mB(),bK)))));l=new dT(0,b.a);d=0;c=new Dp(e.c,0);u=null;f=null;do{o=c.b<c.d.Y()?(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16)):null;s=!o?null:o.a;if(u){hM(u,d);d+=u.c.a}w=!u?d:d+b.b;h=N_(l,e,f,s,w);i=!u||zo(f,(eN(),g6));a=!o||zo(s,(eN(),g6));if(h>0){r=b.b+(h-1)*b.a;!!o&&(r+=b.b);r<b.f&&!i&&!a&&(r=b.f);d+=r}else!i&&!a&&(d+=b.f);u=o;f=s}while(o);e.e.a=d;kI(t)};var J5,Z5,X5,n6,e6,t6,r6,i6;var a6=Lg(pU,"OrthogonalEdgeRouter",538);vR(277,1,{},dT);AU.a=0;AU.c=0;var c6=Lg(pU,"OrthogonalRoutingGenerator",277);vR(118,1,{118:1},TS);AU.w=function n(){return this.a+"->"+this.b};AU.c=0;var u6=Lg(pU,"OrthogonalRoutingGenerator/Dependency",118);vR(80,1,{80:1,23:1},tH);AU.F=function n(e){return hc(this,ww(e,80))};AU.t=function n(e){var t;if(gl(e,80)){t=ww(e,80);return this.d==t.d}return false};AU.v=function n(){return this.d};AU.w=function n(){var e,t,r,i;e=new Hc("{");i=new Xt(this.g);while(i.a<i.c.c.length){r=ww($p(i),7);t=mj(r.f);t==null&&(t="n"+Xh(r.f));e.a+=""+t;i.a<i.c.c.length&&(e.a+=",",e)}e.a+="}";return e.a};AU.a=NaN;AU.c=0;AU.d=0;AU.f=0;AU.i=0;AU.k=NaN;var f6=Lg(pU,"OrthogonalRoutingGenerator/HyperNode",80);vR(580,1,{},Mt);AU.Kc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;h=t+e.i*this.a.c;for(f=new Xt(e.g);f.a<f.c.c.length;){u=ww($p(f),7);o=WE(UH(rc(iQ,1),o$,10,0,[u.f.i,u.i,u.a])).a;for(i=new Xt(u.e);i.a<i.c.c.length;){r=ww($p(i),12);s=r.d;l=WE(UH(rc(iQ,1),o$,10,0,[s.f.i,s.i,s.a])).a;if((o-l<=0?0-(o-l):o-l)>Y$){a=new Au(o,h);Xb(r.a,a);BY(this.a,r,e,a,false);c=new Au(l,h);Xb(r.a,c);BY(this.a,r,e,c,false)}}}};AU.Lc=function n(e){return e.f.i.a+e.i.a+e.a.a};AU.Mc=function n(){return SD(),KW};AU.Nc=function n(){return SD(),TW};var o6=Lg(pU,"OrthogonalRoutingGenerator/NorthToSouthRoutingStrategy",580);vR(581,1,{},Dt);AU.Kc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;h=t-e.i*this.a.c;for(f=new Xt(e.g);f.a<f.c.c.length;){u=ww($p(f),7);o=WE(UH(rc(iQ,1),o$,10,0,[u.f.i,u.i,u.a])).a;for(i=new Xt(u.e);i.a<i.c.c.length;){r=ww($p(i),12);s=r.d;l=WE(UH(rc(iQ,1),o$,10,0,[s.f.i,s.i,s.a])).a;if((o-l<=0?0-(o-l):o-l)>Y$){a=new Au(o,h);Xb(r.a,a);BY(this.a,r,e,a,false);c=new Au(l,h);Xb(r.a,c);BY(this.a,r,e,c,false)}}}};AU.Lc=function n(e){return e.f.i.a+e.i.a+e.a.a};AU.Mc=function n(){return SD(),TW};AU.Nc=function n(){return SD(),KW};var s6=Lg(pU,"OrthogonalRoutingGenerator/SouthToNorthRoutingStrategy",581);vR(579,1,{},Bt);AU.Kc=function n(e,t){var r,i,a,c,u,f,o,s,l,h;h=t+e.i*this.a.c;for(f=new Xt(e.g);f.a<f.c.c.length;){u=ww($p(f),7);o=WE(UH(rc(iQ,1),o$,10,0,[u.f.i,u.i,u.a])).b;for(i=new Xt(u.e);i.a<i.c.c.length;){r=ww($p(i),12);s=r.d;l=WE(UH(rc(iQ,1),o$,10,0,[s.f.i,s.i,s.a])).b;if((o-l<=0?0-(o-l):o-l)>Y$){a=new Au(h,o);Xb(r.a,a);BY(this.a,r,e,a,true);c=new Au(h,l);Xb(r.a,c);BY(this.a,r,e,c,true)}}}};AU.Lc=function n(e){return e.f.i.b+e.i.b+e.a.b};AU.Mc=function n(){return SD(),OW};AU.Nc=function n(){return SD(),JW};var l6=Lg(pU,"OrthogonalRoutingGenerator/WestToEastRoutingStrategy",579);vR(535,1,aU,Ro);AU.qc=function n(e){var t,r;r=ww(MH(e,(gB(),P9)),18);t=new xI;if(r.kb((VY(),F7))||ya(Sa(xh(MH(e,(vB(),Y8)))))){AE(t,w6);r.kb(V7)&&AE(t,d6)}r.kb(M7)&&AE(t,h6);r.kb(B7)&&AE(t,b6);return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y;GL(t,"Polyline edge routing",1);h=ww(MH(e,(gB(),a8)),15).a;r=ww(MH(e,(vB(),R8)),15).a;v=0;if(e.c.c.length!=0){k=JP(ww(Uw(e.c,0),16));v=.4*r*k}c=new Dp(e.c,0);while(c.b<c.d.Y()){a=(Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16));i=zo(a,g6);i&&v>0&&(v-=h);hM(a,v);o=0;for(l=new Xt(a.a);l.a<l.c.c.length;){s=ww($p(l),9);f=0;for(w=mg(EI(s));AI(w);){b=ww(Jk(w),12);d=sp(b.c).b;g=sp(b.d).b;if(a==b.d.f.d){p=b.c;m=b.d;j=(WE(UH(rc(iQ,1),o$,10,0,[p.f.i,p.i,p.a])).b+WE(UH(rc(iQ,1),o$,10,0,[m.f.i,m.i,m.a])).b)/2;p.g==(SD(),OW)?y=new Au(v+p.f.d.c.a+.4*r*(d-g<=0?0-(d-g):d-g),j):y=new Au(v-.4*r*(d-g<=0?0-(d-g):d-g),j);Zl(b.a,0,y);if(b.c.g==JW){d=0;g=0}}f=f>(g-d<=0?0-(g-d):g-d)?f:g-d<=0?0-(g-d):g-d}switch(s.g.e){case 0:case 4:case 1:case 3:L_(this,s,v)}o=o>f?o:f}if(c.b<c.d.Y()){k=JP((Ns(c.b<c.d.Y()),ww(c.d.sb(c.c=c.b++),16)));o=o>k?o:k;Ns(c.b>0);c.a.sb(c.c=--c.b)}u=.4*r*o;!i&&c.b<c.d.Y()&&(u+=h);v+=a.c.a+u}this.a.a.Q();e.e.a=v;kI(t)};var h6,b6,w6,d6,g6;var v6=Lg(pU,"PolylineEdgeRouter",535);vR(536,1,O$,oe);AU.D=function n(e){return RE(ww(e,9))};var k6=Lg(pU,"PolylineEdgeRouter/1",536);vR(75,1,{75:1},eI);AU.w=function n(){var e,t,r,i;r=new Oc;!!this.e&&Zo(Zo(r,Ch(this.e)),": ");for(t=OG(Hk(this),0);t.b!=t.d.c;){e=ww(Tm(t),7);Zo(Zo(xg(Zo(r,(i=jj(e),i==null?"p_"+e.k:"p_"+i)),32),Ch(e.g))," / ")}return Ys(r,hs(r.a)-2-1)};AU.j=0;AU.k=0;var p6=Lg(mU,"ConnectedSelfLoopComponent",75);vR(60,17,{60:1,3:1,23:1,17:1},Hm);AU.c=0;var m6,j6,y6,S6,E6,H6,C6,I6,L6,G6,N6,O6,T6,P6,R6,Y6,A6,_6,M6,D6,B6,x6,$6,U6,F6,V6,z6,q6,Q6;var K6=Yy(mU,"LoopSide",60,RF,ZH);vR(203,1,{},xL,l_,IG);AU.w=function n(){return this.b.w()};AU.c=0;AU.d=false;AU.e=false;AU.f=false;AU.i=0;AU.j=0;var W6=Lg(mU,"NubSpline",203);vR(92,1,{92:1},bk,oY);var J6=Lg(mU,"NubSpline/PolarCP",92);vR(281,203,{},av);var Z6=Lg(mU,"NubsSelfLoop",281);vR(112,1,{},NT,qG,Vm,sT,OT);AU.a=xx;AU.b=K$;AU.c=xx;AU.d=K$;var X6=Lg(mU,"Rectangle",112);vR(537,1,aU,Ae);AU.qc=function n(e){var t,r;t=new xI;r=ww(MH(e,(gB(),P9)),18);r.kb((VY(),q7))&&AE(t,i7);r.kb(M7)&&AE(t,n7);if(r.kb(F7)||ya(Sa(xh(MH(e,(vB(),Y8)))))){AE(t,t7);r.kb(V7)&&AE(t,r7)}r.kb(B7)&&AE(t,e7);return t};AU.sc=function n(e,t){var r,i,a,c,u,f,o,s,l,h,b,w,d,g,v,k,p,m,j,y,S,E,H,C,I,L,G,N,O,T,P,R;GL(t,"Spline edge routing",1);j=ww(MH(e,(gB(),a8)),15).a;this.a=j*ww(MH(e,(vB(),R8)),15).a;R=0;v=new Xt(e.c);k=null;T=(Ll(),new Lr);O=new De;o=true;s=true;do{E=v.a<v.c.c.length?ww($p(v),16):null;b=new De;u=new De;p=new Os;C=new Os;G=new Os;LD(new _u(k,E),new _u(p,C),u,T,O,G);ND(p,C,(Lk(),u7),true,u,b);ND(p,C,u7,false,u,b);ND(p,C,f7,true,u,b);ND(p,C,f7,false,u,b);AA(u,p,C,b);N=new Dp(b,0);while(N.b<N.d.Y()){l=(Ns(N.b<N.d.Y()),ww(N.d.sb(N.c=N.b++),77));P=new Dp(b,N.b);while(P.b<P.d.Y()){h=(Ns(P.b<P.d.Y()),ww(P.d.sb(P.c=P.b++),77));vD(l,h)}}eB(b,ww(MH(e,t8),154));YM(b);H=R+10;if(E){s=!E||zo(E.a,(eN(),g6));m=-1;for(a=new Xt(b);a.a<a.c.c.length;){r=ww($p(a),77);m=gc(m,r.n)}++m;if(m>0){w=(m+1)*this.a;w<j&&!o&&!s&&(w=j);H+=w}else o||s||LL(k)||LL(E)||(H+=j);hM(E,H)}for(L=(S=new zt(G.a).a.bb().mb(),new qt(S));L.a.G();){I=(f=ww(L.a.H(),21),ww(f.yb(),12));y=I.c.f.i;ME(I.a,y);for(g=new Xt(I.b);g.a<g.c.c.length;){d=ww($p(g),33);Fh(d.i,y)}}for(c=new Xt(b);c.a<c.c.c.length;){r=ww($p(c),77);r.f?WT(r,R):o_(this,r,R,H)}if(E){R=H+E.c.a+10}else{m=-1;for(a=new Xt(b);a.a<a.c.c.length;){r=ww($p(a),77);m=gc(m,r.n)}m>=0&&(R+=(m+2)*this.a)}k=E;o=s}while(E);for(i=new Xt(O);i.a<i.c.c.length;){r=ww($p(i),12);qD(r,T)}e.e.a=R;kI(t)};AU.a=3;var n7,e7,t7,r7,i7;var a7=Lg(mU,"SplineEdgeRouter",537);vR(117,1,{117:1},Sj);AU.w=function n(){return this.a+" ->("+this.c+") "+this.b};AU.c=0;var c7=Lg(mU,"SplineEdgeRouter/Dependency",117);vR(223,17,{223:1,3:1,23:1,17:1},uo);var u7,f7;var o7=Yy(mU,"SplineEdgeRouter/SideToProcess",223,RF,Gk);vR(77,1,{77:1,23:1},nP,sM);AU.F=function n(e){return bc(this,ww(e,77))};AU.a=0;AU.b=0;AU.e=0;AU.f=false;AU.i=0;AU.k=0;AU.n=0;AU.p=0;var s7=Lg(mU,"SplineEdgeRouter/SplineHyperEdge",77);vR(123,17,{123:1,3:1,23:1,17:1},fo);var l7,h7,b7,w7,d7,g7;var v7=Yy(HU,"ContentAlignment",123,RF,fy);var k7;vR(218,17,{218:1,3:1,23:1,17:1},oo);var p7,m7,j7;var y7=Yy(HU,"EdgeConstraint",218,RF,Sp);vR(115,17,{115:1,3:1,23:1,17:1},so);var S7,E7,H7,C7,I7;var L7=Yy(HU,"EdgeLabelSideSelection",115,RF,Lj);var G7;vR(124,17,{124:1,3:1,23:1,17:1},lo);var N7,O7,T7,P7,R7,Y7;var A7=Yy(HU,"FixedAlignment",124,RF,oy);var _7;vR(113,17,{113:1,3:1,23:1,17:1},ho);var M7,D7,B7,x7,$7,U7,F7,V7,z7,q7;var Q7=Yy(HU,"GraphProperties",113,RF,OE);vR(110,17,{110:1,3:1,23:1,17:1},Cm);AU.a=false;AU.b=false;AU.c=false;var K7,W7,J7,Z7,X7,n9,e9,t9;var r9=Yy(HU,"GreedySwitchType",110,RF,HS);var i9;vR(140,17,{140:1,3:1,23:1,17:1},bo);var a9,c9,u9;var f9=Yy(HU,"InLayerConstraint",140,RF,yp);vR(174,17,{174:1,3:1,23:1,17:1},wo);var o9,s9;var l9=Yy(HU,"InteractiveReferencePoint",174,RF,Rk);var h9;var b9,w9,d9,g9,v9,k9,p9,m9,j9,y9,S9,E9,H9,C9,I9,L9,G9,N9,O9,T9,P9,R9,Y9,A9,_9,M9,D9,B9,x9,$9,U9,F9,V9,z9,q9,Q9,K9,W9,J9,Z9,X9,n8,e8,t8,r8,i8,a8,c8,u8,f8,o8,s8,l8,h8;vR(85,17,{85:1,3:1,23:1,17:1},go);var b8,w8,d8,g8,v8;var k8=Yy(HU,"LayerConstraint",85,RF,Gj);var p8;vR(219,17,{219:1,3:1,23:1,17:1},vo);var m8,j8,y8;var S8=Yy(HU,"PortType",219,RF,Ep);var E8,H8,C8,I8,L8,G8,N8,O8,T8,P8,R8,Y8,A8,_8,M8,D8,B8,x8,$8,U8,F8,V8,z8,q8,Q8,K8,W8,J8,Z8,X8,nnn,enn;vR(153,17,{153:1,3:1,23:1,17:1},ko);var tnn,rnn,inn;var ann=Yy(HU,"SelfLoopPlacement",153,RF,Hp);var cnn;vR(134,1,{134:1},kD);AU.a=0;AU.b=0;AU.c=0;AU.d=0;AU.e=0;AU.f=0;var unn=Lg(HU,"Spacings",134);vR(172,17,{172:1,3:1,23:1,17:1},po);var fnn,onn,snn;var lnn=Yy(HU,"WideNodesStrategy",172,RF,Cp);var hnn;vR(644,1,{});var bnn=Lg(VB,"OutputStream",644);vR(645,644,{});var wnn=Lg(VB,"FilterOutputStream",645);vR(291,645,{},se);var dnn=Lg(VB,"PrintStream",291);vR(255,1,{});AU.w=function n(){return this.a};var gnn=Lg($B,"AbstractStringBuilder",255);vR(621,95,HB,xi);var vnn=Lg($B,"ArrayIndexOutOfBoundsException",621);vR(290,72,HB,ui,Va);var knn=Lg($B,"ArrayStoreException",290);vR(252,46,EB);var pnn=Lg($B,"Error",252);vR(84,252,EB,Ir,Uy);var mnn=Lg($B,"AssertionError",84);$U={3:1,349:1,23:1};var jnn,ynn;var Snn=Lg($B,"Boolean",349);UU={3:1,23:1,184:1,231:1};var Enn=Lg($B,"Double",184);vR(15,231,{3:1,23:1,15:1,231:1},$t,Ut);AU.F=function n(e){return As(this,ww(e,15))};AU.t=function n(e){return gl(e,15)&&ww(e,15).a==this.a};AU.v=function n(){return Uk(this.a)};AU.w=function n(){return su(this.a)};AU.a=0;var Hnn=Lg($B,"Float",15);vR(101,72,HB,fi,za);var Cnn=Lg($B,"IllegalStateException",101);var Inn;var Lnn;vR(608,72,HB,qa);var Gnn=Lg($B,"NegativeArraySizeException",608);vR(76,72,{3:1,54:1,76:1,46:1},oi,Qa);var Nnn=Lg($B,"NullPointerException",76);vR(130,29,{3:1,54:1,29:1,130:1,46:1},$i,Ic);var Onn=Lg($B,"NumberFormatException",130);vR(146,1,{3:1,146:1},Fv);AU.t=function n(e){var t;if(gl(e,146)){t=ww(e,146);return this.c==t.c&&Ov(this.d,t.d)&&Ov(this.a,t.a)&&Ov(this.b,t.b)}return false};AU.v=function n(){return lC(UH(rc(WU,1),WB,1,4,[HI(this.c),this.a,this.d,this.b]))};AU.w=function n(){return this.a+"."+this.d+"("+(this.b!=null?this.b:"Unknown Source")+(this.c>=0?":"+this.c:"")+")"};AU.c=0;var Tnn=Lg($B,"StackTraceElement",146);vR(98,255,{345:1},Oc,Tc,Hc);var Pnn=Lg($B,"StringBuilder",98);var Rnn,Ynn;vR(45,72,{3:1,54:1,46:1,45:1},si,Ka);var Ann=Lg($B,"UnsupportedOperationException",45);vR(213,638,ax);AU.Q=function n(){Dj(this)};AU.R=function n(e){return Hy(this,e)};AU.ab=function n(e){return dC(this,e,this.e)||dC(this,e,this.d)};AU.bb=function n(){return new Ft(this)};AU.cb=function n(e){return Vg(this,e)};AU.db=function n(e,t){return mv(this,e,t)};AU.eb=function n(e){return Id(this,e)};AU.Y=function n(){return Hf(this)};var _nn=Lg(cx,"AbstractHashMap",213);vR(120,641,fx,Ft);AU.Q=function n(){this.a.Q()};AU.kb=function n(e){return um(this,e)};AU.mb=function n(){return new oC(this.a)};AU.nb=function n(e){var t;if(um(this,e)){t=ww(e,21).yb();this.a.eb(t);return true}return false};AU.Y=function n(){return this.a.Y()};var Mnn=Lg(cx,"AbstractHashMap/EntrySet",120);vR(148,1,ix,oC);AU.H=function n(){return AS(this)};AU.G=function n(){return this.b};AU.I=function n(){py(this)};AU.b=false;var Dnn=Lg(cx,"AbstractHashMap/EntrySetIterator",148);vR(162,1,ix,Vt);AU.G=function n(){return this.b<this.d.Y()};AU.H=function n(){return Ns(this.G()),this.d.sb(this.c=this.b++)};AU.I=function n(){rv(this)};AU.b=0;AU.c=-1;var Bnn=Lg(cx,"AbstractList/IteratorImpl",162);vR(43,162,lx,Dp);AU.J=function n(e){mb(this,e)};AU.K=function n(){return this.b>0};AU.L=function n(){return this.b};AU.M=function n(){return Wd(this)};AU.N=function n(){return this.b-1};AU.O=function n(e){jb(this,e)};var xnn=Lg(cx,"AbstractList/ListIteratorImpl",43);vR(258,647,ox,Ap);AU.rb=function n(e,t){xj(e,this.b);this.c.rb(this.a+e,t);++this.b};AU.sb=function n(e){$j(e,this.b);return this.c.sb(this.a+e)};AU.vb=function n(e){var t;$j(e,this.b);t=this.c.vb(this.a+e);--this.b;return t};AU.wb=function n(e,t){$j(e,this.b);return this.c.wb(this.a+e,t)};AU.Y=function n(){return this.b};AU.a=0;AU.b=0;var $nn=Lg(cx,"AbstractList/SubList",258);vR(36,641,fx,zt);AU.Q=function n(){this.a.Q()};AU.kb=function n(e){return this.a.R(e)};AU.mb=function n(){var e;return e=this.a.bb().mb(),new qt(e)};AU.nb=function n(e){if(this.a.R(e)){this.a.eb(e);return true}return false};AU.Y=function n(){return this.a.Y()};var Unn=Lg(cx,"AbstractMap/1",36);vR(40,1,ix,qt);AU.G=function n(){return this.a.G()};AU.H=function n(){var e;return e=ww(this.a.H(),21),e.yb()};AU.I=function n(){this.a.I()};var Fnn=Lg(cx,"AbstractMap/1/1",40);vR(211,640,ux,Qt);AU.Q=function n(){this.a.Q()};AU.kb=function n(e){return this.a.ab(e)};AU.mb=function n(){var e;return e=this.a.bb().mb(),new Kt(e)};AU.Y=function n(){return this.a.Y()};var Vnn=Lg(cx,"AbstractMap/2",211);vR(212,1,ix,Kt);AU.G=function n(){return this.a.G()};AU.H=function n(){var e;return e=ww(this.a.H(),21),e.zb()};AU.I=function n(){this.a.I()};var znn=Lg(cx,"AbstractMap/2/1",212);vR(210,1,{210:1,21:1});AU.t=function n(e){var t;if(!gl(e,21)){return false}t=ww(e,21);return Ov(this.d,t.yb())&&Ov(this.e,t.zb())};AU.yb=function n(){return this.d};AU.zb=function n(){return this.e};AU.v=function n(){return $s(this.d)^$s(this.e)};AU.Ab=function n(e){return Mb(this,e)};AU.w=function n(){return this.d+"="+this.e};var qnn=Lg(cx,"AbstractMap/AbstractEntry",210);vR(163,210,{210:1,163:1,21:1},To);var Qnn=Lg(cx,"AbstractMap/SimpleEntry",163);vR(652,1,bx);AU.t=function n(e){var t;if(!gl(e,21)){return false}t=ww(e,21);return Ov(this.yb(),t.yb())&&Ov(this.zb(),t.zb())};AU.v=function n(){return $s(this.yb())^$s(this.zb())};AU.w=function n(){return this.yb()+"="+this.zb()};var Knn=Lg(cx,wx,652);vR(639,638,ax);AU._=function n(e){return Uj(this,e)};AU.R=function n(e){return Lo(this,e)};AU.bb=function n(){return new Wt(this)};AU.cb=function n(e){return Uo(gC(this,e))};AU.W=function n(){return new Jt(this)};var Wnn=Lg(cx,"AbstractNavigableMap",639);vR(287,641,fx,Wt);AU.kb=function n(e){return gl(e,21)&&Uj(this.b,ww(e,21))};AU.mb=function n(){return new Pb(this.b)};AU.nb=function n(e){var t;if(gl(e,21)){t=ww(e,21);return wy(this.b,t)}return false};AU.Y=function n(){return this.b.c};var Jnn=Lg(cx,"AbstractNavigableMap/EntrySet",287);vR(229,641,hx,Jt);AU.Q=function n(){Oa(this.a)};AU.kb=function n(e){return Lo(this.a,e)};AU.mb=function n(){var e;return e=new Pb(new hh(this.a).b),new Zt(e)};AU.nb=function n(e){if(Lo(this.a,e)){bv(this.a,e);return true}return false};AU.Y=function n(){return this.a.c};var Znn=Lg(cx,"AbstractNavigableMap/NavigableKeySet",229);vR(230,1,ix,Zt);AU.G=function n(){return Ef(this.a.a)};AU.H=function n(){var e;return e=Ih(this.a),e.yb()};AU.I=function n(){Gw(this.a)};var Xnn=Lg(cx,"AbstractNavigableMap/NavigableKeySet/1",230);vR(4,1,ix,Xt);AU.G=function n(){return vl(this)};AU.H=function n(){return $p(this)};AU.I=function n(){Kd(this)};AU.a=0;AU.b=-1;var nen=Lg(cx,"ArrayList/1",4);vR(94,647,IU,nr);AU.kb=function n(e){return qS(this,e)!=-1};AU.sb=function n(e){return od(this,e)};AU.wb=function n(e,t){var r;r=($j(e,this.a.length),this.a[e]);Og(this.a,e,t);return r};AU.Y=function n(){return this.a.length};AU.ob=function n(){return WG(this,Vj(WU,WB,1,this.a.length,4,1))};AU.pb=function n(e){return WG(this,e)};var een=Lg(cx,"Arrays/ArrayList",94);var ten,ren,ien;vR(413,1,_B,er);AU.$b=function n(e,t){return Kg(t,e)};var aen=Lg(cx,"Collections/2",413);vR(406,647,IU,le);AU.kb=function n(e){return false};AU.sb=function n(e){$j(e,0);return null};AU.mb=function n(){return qv(),qf(),uen};AU.tb=function n(){return qv(),qf(),uen};AU.Y=function n(){return 0};var cen=Lg(cx,"Collections/EmptyList",406);vR(407,1,lx,he);AU.J=function n(e){throw new si};AU.G=function n(){return false};AU.K=function n(){return false};AU.H=function n(){throw new Mi};AU.L=function n(){return 0};AU.M=function n(){throw new Mi};AU.N=function n(){return-1};AU.I=function n(){throw new fi};AU.O=function n(e){throw new fi};var uen;var fen=Lg(cx,"Collections/EmptyListIterator",407);vR(409,638,jx,be);AU.R=function n(e){return false};AU.ab=function n(e){return false};AU.bb=function n(){return qv(),ien};AU.cb=function n(e){return null};AU.W=function n(){return qv(),ien};AU.Y=function n(){return 0};AU.fb=function n(){return qv(),ten};var oen=Lg(cx,"Collections/EmptyMap",409);vR(408,641,yx,we);AU.kb=function n(e){return false};AU.mb=function n(){return qv(),qf(),uen};AU.Y=function n(){return 0};var sen=Lg(cx,"Collections/EmptySet",408);vR(410,1,_B,de);AU.$b=function n(e,t){return eu(ww(e,23),ww(t,23))};var len;var hen=Lg(cx,"Collections/ReverseComparator",410);vR(411,647,{3:1,22:1,19:1,20:1},tr);AU.kb=function n(e){return Ov(this.a,e)};AU.sb=function n(e){$j(e,1);return this.a};AU.Y=function n(){return 1};var ben=Lg(cx,"Collections/SingletonList",411);vR(217,1,ux,rr);AU.ib=function n(e){return wi()};AU.jb=function n(e){return di()};AU.Q=function n(){gi()};AU.kb=function n(e){return this.b.kb(e)};AU.lb=function n(e){return this.b.lb(e)};AU.V=function n(){return this.b.V()};AU.mb=function n(){return new ir(this.b.mb())};AU.nb=function n(e){return vi()};AU.Y=function n(){return this.b.Y()};AU.ob=function n(){return this.b.ob()};AU.pb=function n(e){return this.b.pb(e)};AU.w=function n(){return JG(this.b)};var wen=Lg(cx,"Collections/UnmodifiableCollection",217);vR(152,1,ix,ir);AU.G=function n(){return this.b.G()};AU.H=function n(){return this.b.H()};AU.I=function n(){ki()};var den=Lg(cx,"Collections/UnmodifiableCollectionIterator",152);vR(233,217,ox,fh);AU.rb=function n(e,t){throw new si};AU.t=function n(e){return this.a.t(e)};AU.sb=function n(e){return this.a.sb(e)};AU.v=function n(){return this.a.v()};AU.V=function n(){return this.a.V()};AU.tb=function n(){return new oh(this.a.ub(0))};AU.ub=function n(e){return new oh(this.a.ub(e))};AU.vb=function n(e){throw new si};AU.wb=function n(e,t){throw new si};AU.xb=function n(e,t){return new fh(this.a.xb(e,t))};var gen=Lg(cx,"Collections/UnmodifiableList",233);vR(309,152,lx,oh);AU.J=function n(e){throw new si};AU.K=function n(){return this.a.K()};AU.L=function n(){return this.a.L()};AU.M=function n(){return this.a.M()};AU.N=function n(){return this.a.N()};AU.O=function n(e){throw new si};var ven=Lg(cx,"Collections/UnmodifiableListIterator",309);vR(305,1,ax,ar);AU.Q=function n(){throw new si};AU.R=function n(e){return this.c.R(e)};AU.ab=function n(e){return Cf(this,e)};AU.bb=function n(){return Rv(this)};AU.t=function n(e){return ru(this,e)};AU.cb=function n(e){return this.c.cb(e)};AU.v=function n(){return this.c.v()};AU.V=function n(){return this.c.V()};AU.W=function n(){return hv(this)};AU.db=function n(e,t){throw new si};AU.eb=function n(e){throw new si};AU.Y=function n(){return this.c.Y()};AU.w=function n(){return JG(this.c)};AU.fb=function n(){return Yv(this)};var ken=Lg(cx,"Collections/UnmodifiableMap",305);vR(151,217,fx,Lc);AU.t=function n(e){return tu(this,e)};AU.v=function n(){return this.b.v()};var pen=Lg(cx,"Collections/UnmodifiableSet",151);vR(412,151,fx,Gc);AU.kb=function n(e){return Nf(this,e)};AU.lb=function n(e){return Of(this,e)};AU.mb=function n(){var e;return e=this.b.mb(),new cr(e)};AU.ob=function n(){return nk(this)};AU.pb=function n(e){return kk(this,e)};var men=Lg(cx,"Collections/UnmodifiableMap/UnmodifiableEntrySet",412);vR(263,1,ix,cr);AU.H=function n(){return new ur(ww(this.a.H(),21))};AU.G=function n(){return this.a.G()};AU.I=function n(){throw new si};var jen=Lg(cx,"Collections/UnmodifiableMap/UnmodifiableEntrySet/1",263);vR(306,1,bx,ur);AU.t=function n(e){return this.a.t(e)};AU.yb=function n(){return this.a.yb()};AU.zb=function n(){return this.a.zb()};AU.v=function n(){return this.a.v()};AU.Ab=function n(e){throw new si};AU.w=function n(){return JG(this.a)};var yen=Lg(cx,"Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry",306);vR(307,233,sx,Nc);var Sen=Lg(cx,"Collections/UnmodifiableRandomAccessList",307);vR(308,151,hx,sh);AU.t=function n(e){return this.a.t(e)};AU.v=function n(){return this.a.v()};var Een=Lg(cx,"Collections/UnmodifiableSortedSet",308);var Hen;vR(522,1,_B,ge);AU.$b=function n(e,t){gd(e);gd(t);return VE(ww(e,23),t)};var Cen=Lg(cx,"Comparators/1",522);vR(202,72,HB,Ai);var Ien=Lg(cx,"ConcurrentModificationException",202);vR(609,72,HB,_i);var Len=Lg(cx,"EmptyStackException",609);vR(319,638,ax,lL);AU.db=function n(e,t){return Hb(this,e,t)};AU.Q=function n(){lv(this)};AU.R=function n(e){return Ld(this.a,e)};AU.ab=function n(e){var t,r;for(r=new Af(this.a);r.a<r.c.a.length;){t=lj(r);if(Ov(e,this.b[t.e])){return true}}return false};AU.bb=function n(){return new fr(this)};AU.cb=function n(e){return Nv(this,e)};AU.eb=function n(e){return Gp(this,e)};AU.Y=function n(){return this.a.c};var Gen=Lg(cx,"EnumMap",319);vR(236,641,fx,fr);AU.Q=function n(){lv(this.a)};AU.kb=function n(e){return fm(this,e)};AU.mb=function n(){return new pd(this.a)};AU.nb=function n(e){var t;if(fm(this,e)){t=ww(e,21).yb();Gp(this.a,t);return true}return false};AU.Y=function n(){return this.a.a.c};var Nen=Lg(cx,"EnumMap/EntrySet",236);vR(237,1,ix,pd);AU.H=function n(){return this.b=lj(this.a),new Oo(this.c,this.b)};AU.G=function n(){return kl(this.a)};AU.I=function n(){Is(!!this.b);Gp(this.c,this.b);this.b=null};var Oen=Lg(cx,"EnumMap/EntrySetIterator",237);vR(238,652,bx,Oo);AU.yb=function n(){return this.a};AU.zb=function n(){return this.b.b[this.a.e]};AU.Ab=function n(e){return bg(this.b,this.a.e,e)};var Ten=Lg(cx,"EnumMap/MapEntry",238);vR(86,641,{22:1,19:1,86:1,18:1});var Pen=Lg(cx,"EnumSet",86);vR(66,86,{22:1,19:1,86:1,66:1,18:1},jw);AU.ib=function n(e){return mE(this,ww(e,17))};AU.kb=function n(e){return Ld(this,e)};AU.mb=function n(){return new Af(this)};AU.nb=function n(e){return Gd(this,e)};AU.Y=function n(){return this.c};AU.c=0;var Ren=Lg(cx,"EnumSet/EnumSetImpl",66);vR(167,1,ix,Af);AU.H=function n(){return lj(this)};AU.G=function n(){return kl(this)};AU.I=function n(){Is(this.b!=-1);Og(this.c.b,this.b,null);--this.c.c;this.b=-1};AU.a=-1;AU.b=-1;var Yen=Lg(cx,"EnumSet/EnumSetImpl/IteratorImpl",167);vR(30,213,LU,Lr,_f,is);AU.Uc=function n(e,t){return $o(e)===$o(t)||e!=null&&CC(e,t)};AU.Vc=function n(e){var t;t=LI(e);return t|0};var Aen=Lg(cx,"HashMap",30);vR(50,641,GU,va,lu,kd);AU.ib=function n(e){return sg(this,e)};AU.Q=function n(){this.a.Q()};AU.Wc=function n(){return new kd(this)};AU.kb=function n(e){return iu(this,e)};AU.V=function n(){return this.a.Y()==0};AU.mb=function n(){var e;return e=new zt(this.a).a.bb().mb(),new qt(e)};AU.nb=function n(e){return yl(this,e)};AU.Y=function n(){return this.a.Y()};AU.w=function n(){return UO(new zt(this.a))};var _en=Lg(cx,"HashSet",50);vR(418,1,kx,Us);AU.mb=function n(){return new Fk(this)};AU.c=0;var Men=Lg(cx,"InternalHashCodeMap",418);vR(312,1,ix,Fk);AU.H=function n(){return this.d=this.a[this.c++],this.d};AU.G=function n(){var e;if(this.c<this.a.length){return true}e=this.b.next();if(!e.done){this.a=e.value[1];this.c=0;return true}return false};AU.I=function n(){AP(this.e,this.d.yb());this.c!=0&&--this.c};AU.c=0;AU.d=null;var Den=Lg(cx,"InternalHashCodeMap/1",312);var Ben;vR(382,1,kx,Fs);AU.mb=function n(){return new bj(this)};AU.c=0;AU.d=0;var xen=Lg(cx,"InternalStringMap",382);vR(293,1,ix,bj);AU.H=function n(){return this.c=this.a,this.a=this.b.next(),new yw(this.d,this.c,this.d.d)};AU.G=function n(){return!this.a.done};AU.I=function n(){OH(this.d,this.c.value[0])};var $en=Lg(cx,"InternalStringMap/1",293);vR(383,652,bx,yw);AU.yb=function n(){return this.b.value[0]};AU.zb=function n(){if(this.a.d!=this.c){return Io(this.a,this.b.value[0])}return this.b.value[1]};AU.Ab=function n(e){return VI(this.a,this.b.value[0],e)};AU.c=0;var Uen=Lg(cx,"InternalStringMap/2",383);vR(155,30,LU,gj,Sy);AU.Q=function n(){Db(this)};AU.R=function n(e){return Hy(this.c,e)};AU.ab=function n(e){var t;t=this.b.a;while(t!=this.b){if(Ov(t.e,e)){return true}t=t.a}return false};AU.bb=function n(){return new lr(this)};AU.cb=function n(e){return uS(this,e)};AU.db=function n(e,t){return RG(this,e,t)};AU.eb=function n(e){return By(this,e)};AU.Y=function n(){return Hf(this.c)};AU.a=false;var Fen=Lg(cx,"LinkedHashMap",155);vR(176,163,{210:1,163:1,176:1,21:1},Oh,Yw);var Ven=Lg(cx,"LinkedHashMap/ChainEntry",176);vR(270,641,fx,lr);AU.Q=function n(){Db(this.a)};AU.kb=function n(e){return om(this,e)};AU.mb=function n(){return new iv(this)};AU.nb=function n(e){var t;if(om(this,e)){t=ww(e,21).yb();By(this.a,t);return true}return false};AU.Y=function n(){return Hf(this.a.c)};var zen=Lg(cx,"LinkedHashMap/EntrySet",270);vR(271,1,ix,iv);AU.H=function n(){return ky(this)};AU.G=function n(){return this.b!=this.c.a.b};AU.I=function n(){Is(!!this.a);Xd(this.c.a.c,this);ed(this.a);Id(this.c.a.c,this.a.d);ch(this.c.a.c,this);this.a=null};var qen=Lg(cx,"LinkedHashMap/EntrySet/EntryIterator",271);vR(70,50,GU,Os,lh,vd);AU.Wc=function n(){return new vd(this)};var Qen=Lg(cx,"LinkedHashSet",70);vR(372,1,lx,mw);AU.J=function n(e){og(this,e)};AU.G=function n(){return this.b!=this.d.c};AU.K=function n(){return this.b.b!=this.d.a};AU.H=function n(){return Tm(this)};AU.L=function n(){return this.a};AU.M=function n(){return Up(this)};AU.N=function n(){return this.a-1};AU.I=function n(){jS(this)};AU.O=function n(e){Is(!!this.c);this.c.c=e};AU.a=0;AU.c=null;var Ken=Lg(cx,"LinkedList/ListIteratorImpl",372);vR(259,1,{},ve);var Wen=Lg(cx,"LinkedList/Node",259);vR(74,72,{3:1,54:1,46:1,74:1},Mi);var Jen=Lg(cx,"NoSuchElementException",74);vR(154,1,{154:1},II,nS);AU.a=0;AU.b=0;var Zen,Xen,ntn=0;var etn=Lg(cx,"Random",154);vR(607,647,RU);AU.rb=function n(e,t){dw(e,this.a.c.length+1);fd(this.a,e,t)};AU.ib=function n(e){return nw(this.a,e)};AU.jb=function n(e){return gH(this.a,e)};AU.Q=function n(){this.a.c=Vj(WU,WB,1,0,4,1)};AU.kb=function n(e){return Oy(this.a,e,0)!=-1};AU.lb=function n(e){return uH(this.a,e)};AU.sb=function n(e){dw(e,this.a.c.length);return Uw(this.a,e)};AU.V=function n(){return this.a.c.length==0};AU.mb=function n(){return new Xt(this.a)};AU.vb=function n(e){return dw(e,this.a.c.length),_j(this.a,e)};AU.Xb=function n(e,t){cp(this.a,e,t)};AU.wb=function n(e,t){dw(e,this.a.c.length);return sj(this.a,e,t)};AU.Y=function n(){return this.a.c.length};AU.xb=function n(e,t){return new Ap(this.a,e,t)};AU.ob=function n(){return eh(this.a)};AU.pb=function n(e){return KG(this.a,e)};AU.w=function n(){return UO(this.a)};var ttn=Lg(cx,"Vector",607);vR(337,607,RU,pi);var rtn=Lg(cx,"Stack",337);vR(253,639,jx,Mf,ep);AU.Q=function n(){Oa(this)};AU.bb=function n(){return new hh(this)};AU.db=function n(e,t){return rC(this,e,t)};AU.eb=function n(e){return bv(this,e)};AU.Y=function n(){return this.c};AU.c=0;var itn=Lg(cx,"TreeMap",253);vR(182,1,ix,Pb);AU.H=function n(){return Ih(this)};AU.G=function n(){return Ef(this.a)};AU.I=function n(){Gw(this)};var atn=Lg(cx,"TreeMap/EntryIterator",182);vR(209,287,fx,hh);AU.Q=function n(){Oa(this.a)};var ctn=Lg(cx,"TreeMap/EntrySet",209);vR(183,163,{210:1,163:1,21:1,183:1},Ey);AU.b=false;var utn=Lg(cx,"TreeMap/Node",183);vR(254,1,{},ke);AU.w=function n(){return"State: mv="+this.c+" value="+this.d+" done="+this.a+" found="+this.b};AU.a=false;AU.b=false;AU.c=false;var ftn=Lg(cx,"TreeMap/State",254);vR(138,17,YU,No);AU.Xc=function n(){return false};AU.Yc=function n(){return false};var otn,stn,ltn,htn;var btn=Yy(cx,"TreeMap/SubMapType",138,RF,Dm);vR(352,138,YU,rl);AU.Yc=function n(){return true};var wtn=Yy(cx,"TreeMap/SubMapType/1",352,btn,null);vR(353,138,YU,Hl);AU.Xc=function n(){return true};AU.Yc=function n(){return true};var dtn=Yy(cx,"TreeMap/SubMapType/2",353,btn,null);vR(354,138,YU,il);AU.Xc=function n(){return true};var gtn=Yy(cx,"TreeMap/SubMapType/3",354,btn,null);vR(191,641,{3:1,22:1,19:1,18:1,137:1,191:1},ka,hu);AU.ib=function n(e){return Hg(this,e)};AU.Q=function n(){Oa(this.a)};AU.kb=function n(e){return Lo(this.a,e)};AU.mb=function n(){var e;return e=new Pb(new hh(new Jt(this.a).a).b),new Zt(e)};AU.nb=function n(e){return yh(this,e)};AU.Y=function n(){return this.a.c};var vtn=Lg(cx,"TreeSet",191);var ktn=0;var ptn,mtn=0,jtn;var ytn=wv("int","I");var Stn=wv("boolean","Z");var Etn=wv("char","C");var Htn=wv("double","D");var Ctn=wv("float","F");var Itn=Xp;var Ltn=Ltn=uO;zS(Se);iH("permProps",[[["locale","default"],["user.agent","gecko1_8"]]]);var Gtn,Ntn,Otn=function(){},Ttn=function(){};Ltn(null,"klay",null)})();
},
	"sap/ui/thirdparty/less.js":function(){
/*!
 * LESS - Leaner CSS v1.6.3
 * http://lesscss.org
 *
 * Copyright (c) 2009-2014, Alexis Sellier <self@cloudhead.net>
 * Licensed under the Apache v2 License.
 *
 */
/** * @license Apache v2
 */
(function(e,t){function n(t){return e.less[t.split("/")[1]]}if(typeof e.less==="undefined"||typeof e.less.nodeType!=="undefined"){e.less={}}i=e.less;r=e.less.tree={};i.mode="browser";var i,r;if(i===t){i=exports;r=n("./tree");i.mode="node"}i.Parser=function e(s){var a,o,l,u,f,c,h,p,m,d,v,g=s&&s.filename;if(!(s instanceof r.parseEnv)){s=new r.parseEnv(s)}var y=this.imports={paths:s.paths||[],queue:[],files:s.files,contents:s.contents,contentsIgnoredChars:s.contentsIgnoredChars,mime:s.mime,error:null,push:function(e,t,n,a){var o=this;this.queue.push(e);var l=function(t,n,i){o.queue.splice(o.queue.indexOf(e),1);var r=i in o.files||i===g;o.files[i]=n;if(t&&!o.error){o.error=t}a(t,n,r,i)};if(i.Parser.importer){i.Parser.importer(e,t,l,s)}else{i.Parser.fileLoader(e,t,function(e,a,o,u){if(e){l(e);return}var f=new r.parseEnv(s);f.currentFileInfo=u;f.processImports=false;f.contents[o]=a;if(t.reference||n.reference){u.reference=true}if(n.inline){l(null,a,o)}else{new i.Parser(f).parse(a,function(e,t){l(e,t,o)})}},s)}}};function S(){u=p;f=m=o}function b(){p=u;m=o=f}function w(){if(o>m){p=p.slice(o-m);m=o}}function x(e,t){var n=e.charCodeAt(t|0);return n<=32&&(n===32||n===10||n===9)}function C(e){var t=typeof e,n,i;if(t==="string"){if(a.charAt(o)!==e){return null}R(1);return e}w();if(!(n=e.exec(p))){return null}i=n[0].length;R(i);if(typeof n==="string"){return n}else{return n.length===1?n[0]:n}}function I(e){if(o>m){p=p.slice(o-m);m=o}var t=e.exec(p);if(!t){return null}R(t[0].length);if(typeof t==="string"){return t}return t.length===1?t[0]:t}var k=I;function F(e){if(a.charAt(o)!==e){return null}R(1);return e}function R(e){var t=o,n=l,i=o-m,r=o+p.length-i,s=o+=e,u=a,f;for(;o<r;o++){f=u.charCodeAt(o);if(f>32){break}if(f!==32&&f!==10&&f!==9&&f!==13){break}}p=p.slice(e+o-s+i);m=o;if(!p.length&&l<h.length-1){p=h[++l];R(0);return true}return t!==o||n!==l}function A(e,t){var n=Object.prototype.toString.call(e)==="[object Function]"?e.call(v):C(e);if(n){return n}E(t||(typeof e==="string"?"expected '"+e+"' got '"+a.charAt(o)+"'":"unexpected token"))}function M(e,t){if(a.charAt(o)===e){R(1);return e}E(t||"expected '"+e+"' got '"+a.charAt(o)+"'")}function E(e,t){var n=new Error(e);n.index=o;n.type=t||"Syntax";throw n}function _(e){if(typeof e==="string"){return a.charAt(o)===e}else{return e.test(p)}}function D(e){return a.charAt(o)===e}function O(e,t){if(e.filename&&t.currentFileInfo.filename&&e.filename!==t.currentFileInfo.filename){return d.imports.contents[e.filename]}else{return a}}function P(e,t){var n=e+1,i=null,r=-1;while(--n>=0&&t.charAt(n)!=="\n"){r++}if(typeof e==="number"){i=(t.slice(0,e).match(/\n/g)||"").length}return{line:i,column:r}}function L(e,t,r){var s=r.currentFileInfo.filename;if(i.mode!=="browser"&&i.mode!=="rhino"){s=n("path").resolve(s)}return{lineNumber:P(e,t).line+1,fileName:s}}function U(e,t){var n=O(e,t),i=P(e.index,n),r=i.line,s=i.column,a=e.call&&P(e.call,n).line,o=n.split("\n");this.type=e.type||"Syntax";this.message=e.message;this.filename=e.filename||t.currentFileInfo.filename;this.index=e.index;this.line=typeof r==="number"?r+1:null;this.callLine=a+1;this.callExtract=o[a];this.stack=e.stack;this.column=s;this.extract=[o[r-1],o[r],o[r+1]]}U.prototype=new Error;U.prototype.constructor=U;this.env=s=s||{};this.optimization="optimization"in this.env?this.env.optimization:1;d={imports:y,parse:function(e,u,f){var v,g,y,S=null,b,w,x="";o=l=m=c=0;b=f&&f.globalVars?i.Parser.serializeVars(f.globalVars)+"\n":"";w=f&&f.modifyVars?"\n"+i.Parser.serializeVars(f.modifyVars):"";if(b||f&&f.banner){x=(f&&f.banner?f.banner:"")+b;d.imports.contentsIgnoredChars[s.currentFileInfo.filename]=x.length}e=e.replace(/\r\n/g,"\n");a=e=x+e.replace(/^\uFEFF/,"")+w;d.imports.contents[s.currentFileInfo.filename]=e;h=function(e){var t=e.length,n=0,i=0,r,a,o,l,u=[],f=0,c,h,p,m,d;function v(e,t){S=new U({index:t||c,type:"Parse",message:e,filename:s.currentFileInfo.filename},s)}function g(t){var n=c-f;if(n<512&&!t||!n){return}u.push(e.slice(f,c+1));f=c+1}for(c=0;c<t;c++){p=e.charCodeAt(c);if(p>=97&&p<=122||p<34){continue}switch(p){case 40:i++;a=c;continue;case 41:if(--i<0){return v("missing opening `(`")}continue;case 59:if(!i){g()}continue;case 123:n++;r=c;continue;case 125:if(--n<0){return v("missing opening `{`")}if(!n){g()}continue;case 92:if(c<t-1){c++;continue}return v("unescaped `\\`");case 34:case 39:case 96:d=0;h=c;for(c=c+1;c<t;c++){m=e.charCodeAt(c);if(m>96){continue}if(m==p){d=1;break}if(m==92){if(c==t-1){return v("unescaped `\\`")}c++}}if(d){continue}return v("unmatched `"+String.fromCharCode(p)+"`",h);case 47:if(i||c==t-1){continue}m=e.charCodeAt(c+1);if(m==47){for(c=c+2;c<t;c++){m=e.charCodeAt(c);if(m<=13&&(m==10||m==13)){break}}}else if(m==42){o=h=c;for(c=c+2;c<t-1;c++){m=e.charCodeAt(c);if(m==125){l=c}if(m!=42){continue}if(e.charCodeAt(c+1)==47){break}}if(c==t-1){return v("missing closing `*/`",h)}c++}continue;case 42:if(c<t-1&&e.charCodeAt(c+1)==47){return v("unmatched `/*`")}continue}}if(n!==0){if(o>r&&l>o){return v("missing closing `}` or `*/`",r)}else{return v("missing closing `}`",r)}}else if(i!==0){return v("missing closing `)`",a)}g(true);return u}(e);if(S){return u(new U(S,s))}p=h[0];try{v=new r.Ruleset(null,this.parsers.primary());v.root=true;v.firstRoot=true}catch(e){return u(new U(e,s))}v.toCSS=function(e){return function(a,o){a=a||{};var l,u,f=new r.evalEnv(a);if(typeof o==="object"&&!Array.isArray(o)){o=Object.keys(o).map(function(e){var t=o[e];if(!(t instanceof r.Value)){if(!(t instanceof r.Expression)){t=new r.Expression([t])}t=new r.Value([t])}return new r.Rule("@"+e,t,false,null,0)});f.frames=[new r.Ruleset(null,o)]}try{var c=[],h=[new r.joinSelectorVisitor,new r.processExtendsVisitor,new r.toCSSVisitor({compress:Boolean(a.compress)})],p,m=this;if(a.plugins){for(p=0;p<a.plugins.length;p++){if(a.plugins[p].isPreEvalVisitor){c.push(a.plugins[p])}else{if(a.plugins[p].isPreVisitor){h.splice(0,0,a.plugins[p])}else{h.push(a.plugins[p])}}}}for(p=0;p<c.length;p++){c[p].run(m)}l=e.call(m,f);for(p=0;p<h.length;p++){h[p].run(l)}if(a.sourceMap){l=new r.sourceMapOutput({contentsIgnoredCharsMap:d.imports.contentsIgnoredChars,writeSourceMap:a.writeSourceMap,rootNode:l,contentsMap:d.imports.contents,sourceMapFilename:a.sourceMapFilename,sourceMapURL:a.sourceMapURL,outputFilename:a.sourceMapOutputFilename,sourceMapBasepath:a.sourceMapBasepath,sourceMapRootpath:a.sourceMapRootpath,outputSourceFiles:a.outputSourceFiles,sourceMapGenerator:a.sourceMapGenerator})}u=l.toCSS({compress:Boolean(a.compress),dumpLineNumbers:s.dumpLineNumbers,strictUnits:Boolean(a.strictUnits),numPrecision:8})}catch(e){throw new U(e,s)}if(a.cleancss&&i.mode==="node"){var v=n("clean-css"),g=a.cleancssOptions||{};if(g.keepSpecialComments===t){g.keepSpecialComments="*"}g.processImport=false;g.noRebase=true;if(g.noAdvanced===t){g.noAdvanced=true}return new v(g).minify(u)}else if(a.compress){return u.replace(/(^(\s)+)|((\s)+$)/g,"")}else{return u}}}(v.eval);if(o<a.length-1){o=c;var C=P(o,a);y=a.split("\n");g=C.line+1;S={type:"Parse",message:"Unrecognised input",index:o,filename:s.currentFileInfo.filename,line:g,column:C.column,extract:[y[g-2],y[g-1],y[g]]}}var I=function(e){e=S||e||d.imports.error;if(e){if(!(e instanceof U)){e=new U(e,s)}return u(e)}else{return u(null,v)}};if(s.processImports!==false){new r.importVisitor(this.imports,I).run(v)}else{return I()}},parsers:v={primary:function(){var e=this.mixin,t=k,n=[],i;while(p){i=this.extendRule()||e.definition()||this.rule()||this.ruleset()||e.call()||this.comment()||this.directive();if(i){n.push(i)}else{if(!(t(/^[\s\n]+/)||t(/^;+/))){break}}}return n},comment:function(){var e;if(a.charAt(o)!=="/"){return}if(a.charAt(o+1)==="/"){return new r.Comment(I(/^\/\/.*/),true,o,s.currentFileInfo)}e=I(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/);if(e){return new r.Comment(e,false,o,s.currentFileInfo)}},comments:function(){var e,t=[];while(true){e=this.comment();if(!e){break}t.push(e)}return t},entities:{quoted:function(){var e,t=o,n,i=o;if(a.charAt(t)==="~"){t++;n=true}if(a.charAt(t)!=='"'&&a.charAt(t)!=="'"){return}if(n){F("~")}e=I(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);if(e){return new r.Quoted(e[0],e[1]||e[2],n,i,s.currentFileInfo)}},keyword:function(){var e;e=I(/^[_A-Za-z-][_A-Za-z0-9-]*/);if(e){var t=r.Color.fromKeyword(e);if(t){return t}return new r.Keyword(e)}},call:function(){var e,t,n,i,a=o;e=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(p);if(!e){return}e=e[1];t=e.toLowerCase();if(t==="url"){return null}o+=e.length;if(t==="alpha"){i=v.alpha();if(typeof i!=="undefined"){return i}}F("(");n=this.arguments();if(!F(")")){return}if(e){return new r.Call(e,n,a,s.currentFileInfo)}},arguments:function(){var e=[],t;while(true){t=this.assignment()||v.expression();if(!t){break}e.push(t);if(!F(",")){break}}return e},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,t;e=I(/^\w+(?=\s?=)/i);if(!e){return}if(!F("=")){return}t=v.entity();if(t){return new r.Assignment(e,t)}},url:function(){var e;if(a.charAt(o)!=="u"||!I(/^url\(/)){return}e=this.quoted()||this.variable()||I(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"";M(")");return new r.URL(e.value!=null||e instanceof r.Variable?e:new r.Anonymous(e),s.currentFileInfo)},variable:function(){var e,t=o;if(a.charAt(o)==="@"&&(e=I(/^@@?[\w-]+/))){return new r.Variable(e,t,s.currentFileInfo)}},variableCurly:function(){var e,t=o;if(a.charAt(o)==="@"&&(e=I(/^@\{([\w-]+)\}/))){return new r.Variable("@"+e[1],t,s.currentFileInfo)}},color:function(){var e;if(a.charAt(o)==="#"&&(e=I(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){return new r.Color(e[1])}},dimension:function(){var e,t=a.charCodeAt(o);if(t>57||t<43||t===47||t==44){return}e=I(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/);if(e){return new r.Dimension(e[1],e[2])}},unicodeDescriptor:function(){var e;e=I(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/);if(e){return new r.UnicodeDescriptor(e[0])}},javascript:function(){var e=o,t;if(a.charAt(e)==="~"){e++;t=true}if(a.charAt(e)!=="`"){return}E("You are using JavaScript, which has been disabled.")}},variable:function(){var e;if(a.charAt(o)==="@"&&(e=I(/^(@[\w-]+)\s*:/))){return e[1]}},extend:function(e){var t,n,i=o,s,a,l;if(!(e?I(/^&:extend\(/):I(/^:extend\(/))){return}do{s=null;t=null;while(!(s=I(/^(all)(?=\s*(\)|,))/))){n=this.element();if(!n){break}if(t){t.push(n)}else{t=[n]}}s=s&&s[1];l=new r.Extend(new r.Selector(t),s,i);if(a){a.push(l)}else{a=[l]}}while(F(","));A(/^\)/);if(e){A(/^;/)}return a},extendRule:function(){return this.extend(true)},mixin:{call:function(){var e=a.charAt(o),t=false,n=o,i,l,u,f,c,h;if(e!=="."&&e!=="#"){return}S();while(true){i=o;f=I(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);if(!f){break}u=new r.Element(c,f,i,s.currentFileInfo);if(l){l.push(u)}else{l=[u]}c=F(">")}if(l){if(F("(")){h=this.args(true).args;M(")")}if(v.important()){t=true}if(v.end()){return new r.mixin.Call(l,h,n,s.currentFileInfo,t)}}b()},args:function(e){var t=d.parsers,n=t.entities,i={args:null,variadic:false},s=[],l=[],u=[],f,c,h,p,m,v;while(true){if(e){v=t.expression()}else{t.comments();if(a.charAt(o)==="."&&I(/^\.{3}/)){i.variadic=true;if(F(";")&&!f){f=true}(f?l:u).push({variadic:true});break}v=n.variable()||n.literal()||n.keyword()}if(!v){break}p=null;if(v.throwAwayComments){v.throwAwayComments()}m=v;var g=null;if(e){if(v.value.length==1){g=v.value[0]}}else{g=v}if(g&&g instanceof r.Variable){if(F(":")){if(s.length>0){if(f){E("Cannot mix ; and , as delimiter types")}c=true}m=A(t.expression);p=h=g.name}else if(!e&&I(/^\.{3}/)){i.variadic=true;if(F(";")&&!f){f=true}(f?l:u).push({name:v.name,variadic:true});break}else if(!e){h=p=g.name;m=null}}if(m){s.push(m)}u.push({name:p,value:m});if(F(",")){continue}if(F(";")||f){if(c){E("Cannot mix ; and , as delimiter types")}f=true;if(s.length>1){m=new r.Value(s)}l.push({name:h,value:m});h=null;s=[];c=false}}i.args=f?l:u;return i},definition:function(){var e,t=[],n,i,s,l=false;if(a.charAt(o)!=="."&&a.charAt(o)!=="#"||_(/^[^{]*\}/)){return}S();n=I(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/);if(n){e=n[1];var u=this.args(false);t=u.args;l=u.variadic;if(!F(")")){c=o;b()}v.comments();if(I(/^when/)){s=A(v.conditions,"expected condition")}i=v.block();if(i){return new r.mixin.Definition(e,t,i,s,l)}else{b()}}}},entity:function(){var e=this.entities;return e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()||this.comment()},end:function(){return F(";")||D("}")},alpha:function(){var e;if(!I(/^\(opacity=/i)){return}e=I(/^\d+/)||this.entities.variable();if(e){M(")");return new r.Alpha(e)}},element:function(){var e,t,n,i=o;t=this.combinator();e=I(/^(?:\d+\.\d+|\d+)%/)||I(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||F("*")||F("&")||this.attribute()||I(/^\([^()@]+\)/)||I(/^[\.#](?=@)/)||this.entities.variableCurly();if(!e){if(F("(")){if((n=this.selector())&&F(")")){e=new r.Paren(n)}}}if(e){return new r.Element(t,e,i,s.currentFileInfo)}},combinator:function(){var e=a.charAt(o);if(e===">"||e==="+"||e==="~"||e==="|"||e==="^"){o++;if(a.charAt(o)==="^"){e="^^";o++}while(x(a,o)){o++}return new r.Combinator(e)}else if(x(a,o-1)){return new r.Combinator(" ")}else{return new r.Combinator(null)}},lessSelector:function(){return this.selector(true)},selector:function(e){var t=o,n=k,i,l,u,f,c,h,p;while(e&&(c=this.extend())||e&&(h=n(/^when/))||(f=this.element())){if(h){p=A(this.conditions,"expected condition")}else if(p){E("CSS guard can only be used at the end of selector")}else if(c){if(l){l.push(c)}else{l=[c]}}else{if(l){E("Extend can only be used at the end of selector")}u=a.charAt(o);if(i){i.push(f)}else{i=[f]}f=null}if(u==="{"||u==="}"||u===";"||u===","||u===")"){break}}if(i){return new r.Selector(i,l,p,t,s.currentFileInfo)}if(l){E("Extend must be used to extend a selector, it cannot be used on its own")}},attribute:function(){if(!F("[")){return}var e=this.entities,t,n,i;if(!(t=e.variableCurly())){t=A(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)}i=I(/^[|~*$^]?=/);if(i){n=e.quoted()||I(/^[0-9]+%/)||I(/^[\w-]+/)||e.variableCurly()}M("]");return new r.Attribute(t,i,n)},block:function(){var e;if(F("{")&&(e=this.primary())&&F("}")){return e}},ruleset:function(){var e,t,n,i;S();if(s.dumpLineNumbers){i=L(o,a,s)}while(true){t=this.lessSelector();if(!t){break}if(e){e.push(t)}else{e=[t]}this.comments();if(t.condition&&e.length>1){E("Guards are only currently allowed on a single selector.")}if(!F(",")){break}if(t.condition){E("Guards are only currently allowed on a single selector.")}this.comments()}if(e&&(n=this.block())){var l=new r.Ruleset(e,n,s.strictImports);if(s.dumpLineNumbers){l.debugInfo=i}return l}else{c=o;b()}},rule:function(e){var t,n,i=a.charAt(o),l,u=false;S();if(i==="."||i==="#"||i==="&"){return}t=this.variable()||this.ruleProperty();if(t){n=!e&&(s.compress||t.charAt&&t.charAt(0)==="@")?this.value()||this.anonymousValue():this.anonymousValue()||this.value();l=this.important();u=t.pop&&t.pop().value==="+";if(n&&this.end()){return new r.Rule(t,n,l,u,f,s.currentFileInfo)}else{c=o;b();if(n&&!e){return this.rule(true)}}}},anonymousValue:function(){var e;e=/^([^@+\/'"*`(;{}-]*);/.exec(p);if(e){o+=e[0].length-1;return new r.Anonymous(e[1])}},import:function(){var e,t,n=o;S();var i=I(/^@import?\s+/);var a=(i?this.importOptions():null)||{};if(i&&(e=this.entities.quoted()||this.entities.url())){t=this.mediaFeatures();if(F(";")){t=t&&new r.Value(t);return new r.Import(e,t,a,n,s.currentFileInfo)}}b()},importOptions:function(){var e,t={},n,i;if(!F("(")){return null}do{e=this.importOption();if(e){n=e;i=true;switch(n){case"css":n="less";i=false;break;case"once":n="multiple";i=false;break}t[n]=i;if(!F(",")){break}}}while(e);M(")");return t},importOption:function(){var e=I(/^(less|css|multiple|once|inline|reference)/);if(e){return e[1]}},mediaFeature:function(){var e=this.entities,t=[],n,i;do{n=e.keyword()||e.variable();if(n){t.push(n)}else if(F("(")){i=this.property();n=this.value();if(F(")")){if(i&&n){t.push(new r.Paren(new r.Rule(i,n,null,null,o,s.currentFileInfo,true)))}else if(n){t.push(new r.Paren(n))}else{return null}}else{return null}}}while(n);if(t.length>0){return new r.Expression(t)}},mediaFeatures:function(){var e=this.entities,t=[],n;do{n=this.mediaFeature();if(n){t.push(n);if(!F(",")){break}}else{n=e.variable();if(n){t.push(n);if(!F(",")){break}}}}while(n);return t.length>0?t:null},media:function(){var e,t,n,i;if(s.dumpLineNumbers){i=L(o,a,s)}if(I(/^@media/)){e=this.mediaFeatures();t=this.block();if(t){n=new r.Media(t,e,o,s.currentFileInfo);if(s.dumpLineNumbers){n.debugInfo=i}return n}}},directive:function(){var e=o,t,n,i,l,u,f,c,h;if(a.charAt(o)!=="@"){return}n=this["import"]()||this.media();if(n){return n}S();t=I(/^@[a-z-]+/);if(!t){return}l=t;if(t.charAt(1)=="-"&&t.indexOf("-",2)>0){l="@"+t.slice(t.indexOf("-",2)+1)}switch(l){case"@font-face":u=true;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":u=true;break;case"@host":case"@page":case"@document":case"@supports":case"@keyframes":u=true;f=true;break;case"@namespace":c=true;break}if(f){h=(I(/^[^{]+/)||"").trim();if(h){t+=" "+h}}if(u){i=this.block();if(i){return new r.Directive(t,i,e,s.currentFileInfo)}}else{n=c?this.expression():this.entity();if(n&&F(";")){var p=new r.Directive(t,n,e,s.currentFileInfo);if(s.dumpLineNumbers){p.debugInfo=L(o,a,s)}return p}}b()},value:function(){var e,t=[];do{e=this.expression();if(e){t.push(e);if(!F(",")){break}}}while(e);if(t.length>0){return new r.Value(t)}},important:function(){if(a.charAt(o)==="!"){return I(/^! *important/)}},sub:function(){var e,t;if(F("(")){e=this.addition();if(e){t=new r.Expression([e]);M(")");t.parens=true;return t}}},multiplication:function(){var e,t,n,i,s;e=this.operand();if(e){s=x(a,o-1);while(true){if(_(/^\/[*\/]/)){break}n=F("/")||F("*");if(!n){break}t=this.operand();if(!t){break}e.parensInOp=true;t.parensInOp=true;i=new r.Operation(n,[i||e,t],s);s=x(a,o-1)}return i||e}},addition:function(){var e,t,n,i,s;e=this.multiplication();if(e){s=x(a,o-1);while(true){n=I(/^[-+]\s+/)||!s&&(F("+")||F("-"));if(!n){break}t=this.multiplication();if(!t){break}e.parensInOp=true;t.parensInOp=true;i=new r.Operation(n,[i||e,t],s);s=x(a,o-1)}return i||e}},conditions:function(){var e,t,n=o,i;e=this.condition();if(e){while(true){if(!_(/^,\s*(not\s*)?\(/)||!F(",")){break}t=this.condition();if(!t){break}i=new r.Condition("or",i||e,t,n)}return i||e}},condition:function(){var e=this.entities,t=o,n=false,i,s,a,l;if(I(/^not/)){n=true}M("(");i=this.addition()||e.keyword()||e.quoted();if(i){l=I(/^(?:>=|<=|=<|[<=>])/);if(l){s=this.addition()||e.keyword()||e.quoted();if(s){a=new r.Condition(l,i,s,t,n)}else{E("expected expression")}}else{a=new r.Condition("=",i,new r.Keyword("true"),t,n)}M(")");return I(/^and/)?new r.Condition("and",a,this.condition()):a}},operand:function(){var e=this.entities,t=a.charAt(o+1),n;if(a.charAt(o)==="-"&&(t==="@"||t==="(")){n=F("-")}var i=this.sub()||e.dimension()||e.color()||e.variable()||e.call();if(n){i.parensInOp=true;i=new r.Negative(i)}return i},expression:function(){var e=[],t,n;do{t=this.addition()||this.entity();if(t){e.push(t);if(!_(/^\/[\/*]/)){n=F("/");if(n){e.push(new r.Anonymous(n))}}}}while(t);if(e.length>0){return new r.Expression(e)}},property:function(){var e=I(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(e){return e[1]}},ruleProperty:function(){var e=p,t=[],n=[],i=0,a,l;function u(r){var s=r.exec(e);if(s){n.push(o+i);i+=s[0].length;e=e.slice(s[1].length);return t.push(s[1])}}u(/^(\*?)/);while(u(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/));if(t.length>1&&u(/^\s*(\+?)\s*:/)){R(i);if(t[0]===""){t.shift();n.shift()}for(l=0;l<t.length;l++){a=t[l];t[l]=a.charAt(0)!=="@"?new r.Keyword(a):new r.Variable("@"+a.slice(2,-1),n[l],s.currentFileInfo)}return t}}}};return d};i.Parser.serializeVars=function(e){var t="";for(var n in e){if(Object.hasOwnProperty.call(e,n)){var i=e[n];t+=(n[0]==="@"?"":"@")+n+": "+i+((""+i).slice(-1)===";"?"":";")}}return t};(function(i){i.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(e,t,n,r){var s=[e,t,n].map(function(e){return f(e,255)});r=c(r);return new i.Color(s,r)},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,i){function r(e){e=e<0?e+1:e>1?e-1:e;if(e*6<1){return a+(s-a)*e*6}else if(e*2<1){return s}else if(e*3<2){return a+(s-a)*(2/3-e)*6}else{return a}}e=c(e)%360/360;t=h(c(t));n=h(c(n));i=h(c(i));var s=n<=.5?n*(t+1):n+t-n*t;var a=n*2-s;return this.rgba(r(e+1/3)*255,r(e)*255,r(e-1/3)*255,i)},hsv:function(e,t,n){return this.hsva(e,t,n,1)},hsva:function(e,t,n,i){e=c(e)%360/360*360;t=c(t);n=c(n);i=c(i);var r,s;r=Math.floor(e/60%6);s=e/60-r;var a=[n,n*(1-t),n*(1-s*t),n*(1-(1-s)*t)];var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(a[o[r][0]]*255,a[o[r][1]]*255,a[o[r][2]]*255,i)},hue:function(e){return new i.Dimension(Math.round(e.toHSL().h))},saturation:function(e){return new i.Dimension(Math.round(e.toHSL().s*100),"%")},lightness:function(e){return new i.Dimension(Math.round(e.toHSL().l*100),"%")},hsvhue:function(e){return new i.Dimension(Math.round(e.toHSV().h))},hsvsaturation:function(e){return new i.Dimension(Math.round(e.toHSV().s*100),"%")},hsvvalue:function(e){return new i.Dimension(Math.round(e.toHSV().v*100),"%")},red:function(e){return new i.Dimension(e.rgb[0])},green:function(e){return new i.Dimension(e.rgb[1])},blue:function(e){return new i.Dimension(e.rgb[2])},alpha:function(e){return new i.Dimension(e.toHSL().a)},luma:function(e){return new i.Dimension(Math.round(e.luma()*e.alpha*100),"%")},saturate:function(e,t){if(!e.rgb){return null}var n=e.toHSL();n.s+=t.value/100;n.s=h(n.s);return u(n)},desaturate:function(e,t){var n=e.toHSL();n.s-=t.value/100;n.s=h(n.s);return u(n)},lighten:function(e,t){var n=e.toHSL();n.l+=t.value/100;n.l=h(n.l);return u(n)},darken:function(e,t){var n=e.toHSL();n.l-=t.value/100;n.l=h(n.l);return u(n)},fadein:function(e,t){var n=e.toHSL();n.a+=t.value/100;n.a=h(n.a);return u(n)},fadeout:function(e,t){var n=e.toHSL();n.a-=t.value/100;n.a=h(n.a);return u(n)},fade:function(e,t){var n=e.toHSL();n.a=t.value/100;n.a=h(n.a);return u(n)},spin:function(e,t){var n=e.toHSL();var i=(n.h+t.value)%360;n.h=i<0?360+i:i;return u(n)},
// Copyright (c) 2006-2009 Hampton Catlin, Nathan Weizenbaum, and Chris Eppstein
mix:function(e,t,n){if(!n){n=new i.Dimension(50)}var r=n.value/100;var s=r*2-1;var a=e.toHSL().a-t.toHSL().a;var o=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;var l=1-o;var u=[e.rgb[0]*o+t.rgb[0]*l,e.rgb[1]*o+t.rgb[1]*l,e.rgb[2]*o+t.rgb[2]*l];var f=e.alpha*r+t.alpha*(1-r);return new i.Color(u,f)},greyscale:function(e){return this.desaturate(e,new i.Dimension(100))},contrast:function(e,t,n,i){if(!e.rgb){return null}if(typeof n==="undefined"){n=this.rgba(255,255,255,1)}if(typeof t==="undefined"){t=this.rgba(0,0,0,1)}if(t.luma()>n.luma()){var r=n;n=t;t=r}if(typeof i==="undefined"){i=.43}else{i=c(i)}if(e.luma()<i){return n}else{return t}},e:function(e){return new i.Anonymous(e)},escape:function(e){return new i.Anonymous(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(e){var t=Array.prototype.slice.call(arguments,1),n=e.value;for(var r=0;r<t.length;r++){n=n.replace(/%[sda]/i,function(e){var n=e.match(/s/i)?t[r].value:t[r].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(n):n})}n=n.replace(/%%/g,"%");return new i.Quoted('"'+n+'"',n)},unit:function(e,t){if(!(e instanceof i.Dimension)){throw{type:"Argument",message:"the first argument to unit must be a number"+(e instanceof i.Operation?". Have you forgotten parenthesis?":"")}}return new i.Dimension(e.value,t?t.toCSS():"")},convert:function(e,t){return e.convertTo(t.value)},round:function(e,t){var n=typeof t==="undefined"?0:t.value;return s(function(e){return e.toFixed(n)},null,e)},pi:function(){return new i.Dimension(Math.PI)},mod:function(e,t){return new i.Dimension(e.value%t.value,e.unit)},pow:function(e,t){if(typeof e==="number"&&typeof t==="number"){e=new i.Dimension(e);t=new i.Dimension(t)}else if(!(e instanceof i.Dimension)||!(t instanceof i.Dimension)){throw{type:"Argument",message:"arguments must be numbers"}}return new i.Dimension(Math.pow(e.value,t.value),e.unit)},_minmax:function(e,n){n=Array.prototype.slice.call(n);switch(n.length){case 0:throw{type:"Argument",message:"one or more arguments required"};case 1:return n[0]}var r,s,a,o,l,u,f=[],c={};for(r=0;r<n.length;r++){a=n[r];if(!(a instanceof i.Dimension)){f.push(a);continue}o=a.unify();u=o.unit.toString();s=c[u];if(s===t){c[u]=f.length;f.push(a);continue}l=f[s].unify();if(e&&o.value<l.value||!e&&o.value>l.value){f[s]=a}}if(f.length==1){return f[0]}n=f.map(function(e){return e.toCSS(this.env)}).join(this.env.compress?",":", ");return new i.Anonymous((e?"min":"max")+"("+n+")")},min:function(){return this._minmax(true,arguments)},max:function(){return this._minmax(false,arguments)},argb:function(e){return new i.Anonymous(e.toARGB())},percentage:function(e){return new i.Dimension(e.value*100,"%")},color:function(e){if(e instanceof i.Quoted){var t=e.value,n;n=i.Color.fromKeyword(t);if(n){return n}if(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/.test(t)){return new i.Color(t.slice(1))}throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}}else{throw{type:"Argument",message:"argument must be a string"}}},iscolor:function(e){return this._isa(e,i.Color)},isnumber:function(e){return this._isa(e,i.Dimension)},isstring:function(e){return this._isa(e,i.Quoted)},iskeyword:function(e){return this._isa(e,i.Keyword)},isurl:function(e){return this._isa(e,i.URL)},ispixel:function(e){return this.isunit(e,"px")},ispercentage:function(e){return this.isunit(e,"%")},isem:function(e){return this.isunit(e,"em")},isunit:function(e,t){return e instanceof i.Dimension&&e.unit.is(t.value||t)?i.True:i.False},_isa:function(e,t){return e instanceof t?i.True:i.False},tint:function(e,t){return this.mix(this.rgb(255,255,255),e,t)},shade:function(e,t){return this.mix(this.rgb(0,0,0),e,t)},extract:function(e,t){t=t.value-1;return Array.isArray(e.value)?e.value[t]:Array(e)[t]},length:function(e){var t=Array.isArray(e.value)?e.value.length:1;return new i.Dimension(t)},"data-uri":function(t,r){if(typeof e!=="undefined"){return new i.URL(r||t,this.currentFileInfo).eval(this.env)}var s=t.value;var a=r&&r.value;var o=n("fs"),l=n("path"),u=false;if(arguments.length<2){a=s}if(this.env.isPathRelative(a)){if(this.currentFileInfo.relativeUrls){a=l.join(this.currentFileInfo.currentDirectory,a)}else{a=l.join(this.currentFileInfo.entryPath,a)}}if(arguments.length<2){var f;try{f=n("mime")}catch(e){f=i._mime}s=f.lookup(a);var c=f.charsets.lookup(s);u=["US-ASCII","UTF-8"].indexOf(c)<0;if(u){s+=";base64"}}else{u=/;base64$/.test(s)}var h=o.readFileSync(a);var p=32,m=parseInt(h.length/1024,10);if(m>=p){if(this.env.ieCompat!==false){if(!this.env.silent){console.warn("Skipped data-uri embedding of %s because its size (%dKB) exceeds IE8-safe %dKB!",a,m,p)}return new i.URL(r||t,this.currentFileInfo).eval(this.env)}}h=u?h.toString("base64"):encodeURIComponent(h);var d='"data:'+s+","+h+'"';return new i.URL(new i.Anonymous(d))},"svg-gradient":function(e){function r(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position]"}}if(arguments.length<3){r()}var s=Array.prototype.slice.call(arguments,1),a,o="linear",l='x="0" y="0" width="1" height="1"',u=true,f={compress:false},c,h=e.toCSS(f),p,m,d,v,g;switch(h){case"to bottom":a='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":a='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":a='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":a='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":o="radial";a='cx="50%" cy="50%" r="75%"';l='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}c='<?xml version="1.0" ?>'+'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none">'+"<"+o+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+a+">";for(p=0;p<s.length;p+=1){if(s[p].value){m=s[p].value[0];d=s[p].value[1]}else{m=s[p];d=t}if(!(m instanceof i.Color)||!((p===0||p+1===s.length)&&d===t)&&!(d instanceof i.Dimension)){r()}v=d?d.toCSS(f):p===0?"0%":"100%";g=m.alpha;c+='<stop offset="'+v+'" stop-color="'+m.toRGB()+'"'+(g<1?' stop-opacity="'+g+'"':"")+"/>"}c+="</"+o+"Gradient>"+"<rect "+l+' fill="url(#gradient)" /></svg>';if(u){try{c=n("./encoder").encodeBase64(c)}catch(e){u=false}}c="'data:image/svg+xml"+(u?";base64":"")+","+c+"'";return new i.URL(new i.Anonymous(c))}};i._mime={_types:{".htm":"text/html",".html":"text/html",".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png"},lookup:function(e){var r=n("path").extname(e),s=i._mime._types[r];if(s===t){throw new Error('Optional dependency "mime" is required for '+r)}return s},charsets:{lookup:function(e){return e&&/^text\//.test(e)?"UTF-8":""}}};var r={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};function s(e,t,n){if(!(n instanceof i.Dimension)){throw{type:"Argument",message:"argument must be a number"}}if(t==null){t=n.unit}else{n=n.unify()}return new i.Dimension(e(parseFloat(n.value)),t)}function a(e,t,n){var r=t.alpha,s,a=n.alpha,o,l,u,f=[];l=a+r*(1-a);for(var c=0;c<3;c++){s=t.rgb[c]/255;o=n.rgb[c]/255;u=e(s,o);if(l){u=(a*o+r*(s-a*(s+o-u)))/l}f[c]=u*255}return new i.Color(f,l)}var o={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){e*=2;return e<=1?o.multiply(e,t):o.screen(e-1,t)},softlight:function(e,t){var n=1,i=e;if(t>.5){i=1;n=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e}return e-(1-2*t)*i*(n-e)},hardlight:function(e,t){return o.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};i.defaultFunc={eval:function(){var e=this.value_,t=this.error_;if(t){throw t}if(e!=null){return e?i.True:i.False}},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}};function l(){var e,t=i.functions;for(e in r){if(r.hasOwnProperty(e)){t[e]=s.bind(null,Math[e],r[e])}}for(e in o){if(o.hasOwnProperty(e)){t[e]=a.bind(null,o[e])}}e=i.defaultFunc;t["default"]=e.eval.bind(e)}l();function u(e){return i.functions.hsla(e.h,e.s,e.l,e.a)}function f(e,t){if(e instanceof i.Dimension&&e.unit.is("%")){return parseFloat(e.value*t/100)}else{return c(e)}}function c(e){if(e instanceof i.Dimension){return parseFloat(e.unit.is("%")?e.value/100:e.value)}else if(typeof e==="number"){return e}else{throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}}function h(e){return Math.min(1,Math.max(0,e))}i.fround=function(e,t){var n;if(e&&e.numPrecision!=null){n=Math.pow(10,e.numPrecision);return Math.round(t*n)/n}else{return t}};i.functionCall=function(e,t){this.env=e;this.currentFileInfo=t};i.functionCall.prototype=i.functions})(n("./tree"));(function(e){e.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(n("./tree"));(function(e){e.debugInfo=function(t,n,i){var r="";if(t.dumpLineNumbers&&!t.compress){switch(t.dumpLineNumbers){case"comments":r=e.debugInfo.asComment(n);break;case"mediaquery":r=e.debugInfo.asMediaQuery(n);break;case"all":r=e.debugInfo.asComment(n)+(i||"")+e.debugInfo.asMediaQuery(n);break}}return r};e.debugInfo.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"};e.debugInfo.asMediaQuery=function(e){return"@media -sass-debug-info{filename{font-family:"+("file://"+e.debugInfo.fileName).replace(/([.:\/\\])/g,function(e){if(e=="\\"){e="/"}return"\\"+e})+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"};e.find=function(e,t){for(var n=0,i;n<e.length;n++){i=t.call(e,e[n]);if(i){return i}}return null};e.jsify=function(e){if(Array.isArray(e.value)&&e.value.length>1){return"["+e.value.map(function(e){return e.toCSS(false)}).join(", ")+"]"}else{return e.toCSS(false)}};e.toCSS=function(e){var t=[];this.genCSS(e,{add:function(e,n,i){t.push(e)},isEmpty:function(){return t.length===0}});return t.join("")};e.outputRuleset=function(e,t,n){var i=n.length,r;e.tabLevel=(e.tabLevel|0)+1;if(e.compress){t.add("{");for(r=0;r<i;r++){n[r].genCSS(e,t)}t.add("}");e.tabLevel--;return}var s="\n"+Array(e.tabLevel).join("  "),a=s+"  ";if(!i){t.add(" {"+s+"}")}else{t.add(" {"+a);n[0].genCSS(e,t);for(r=1;r<i;r++){t.add(a);n[r].genCSS(e,t)}t.add(s+"}")}e.tabLevel--}})(n("./tree"));(function(e){e.Alpha=function(e){this.value=e};e.Alpha.prototype={type:"Alpha",accept:function(e){this.value=e.visit(this.value)},eval:function(t){if(this.value.eval){return new e.Alpha(this.value.eval(t))}return this},genCSS:function(e,t){t.add("alpha(opacity=");if(this.value.genCSS){this.value.genCSS(e,t)}else{t.add(this.value)}t.add(")")},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Anonymous=function(e,t,n,i){this.value=e.value||e;this.index=t;this.mapLines=i;this.currentFileInfo=n};e.Anonymous.prototype={type:"Anonymous",eval:function(){return new e.Anonymous(this.value,this.index,this.currentFileInfo,this.mapLines)},compare:function(e){if(!e.toCSS){return-1}var t=this.toCSS(),n=e.toCSS();if(t===n){return 0}return t<n?-1:1},genCSS:function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Assignment=function(e,t){this.key=e;this.value=t};e.Assignment.prototype={type:"Assignment",accept:function(e){this.value=e.visit(this.value)},eval:function(t){if(this.value.eval){return new e.Assignment(this.key,this.value.eval(t))}return this},genCSS:function(e,t){t.add(this.key+"=");if(this.value.genCSS){this.value.genCSS(e,t)}else{t.add(this.value)}},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Call=function(e,t,n,i){this.name=e;this.args=t;this.index=n;this.currentFileInfo=i};e.Call.prototype={type:"Call",accept:function(e){if(this.args){this.args=e.visitArray(this.args)}},eval:function(t){var n=this.args.map(function(e){return e.eval(t)}),i=this.name.toLowerCase(),r,s;if(i in e.functions){try{s=new e.functionCall(t,this.currentFileInfo);r=s[i].apply(s,n);if(r!=null){return r}}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}}return new e.Call(this.name,n,this.index,this.currentFileInfo)},genCSS:function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var n=0;n<this.args.length;n++){this.args[n].genCSS(e,t);if(n+1<this.args.length){t.add(", ")}}t.add(")")},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Color=function(e,t){if(Array.isArray(e)){this.rgb=e}else if(e.length==6){this.rgb=e.match(/.{2}/g).map(function(e){return parseInt(e,16)})}else{this.rgb=e.split("").map(function(e){return parseInt(e+e,16)})}this.alpha=typeof t==="number"?t:1};var t="transparent";e.Color.prototype={type:"Color",eval:function(){return this},luma:function(){return.2126*this.rgb[0]/255+.7152*this.rgb[1]/255+.0722*this.rgb[2]/255},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(n,r){var s=n&&n.compress&&!r,a=e.fround(n,this.alpha);if(a<1){if(a===0&&this.isTransparentKeyword){return t}return"rgba("+this.rgb.map(function(e){return i(Math.round(e),255)}).concat(i(a,1)).join(","+(s?"":" "))+")"}else{var o=this.toRGB();if(s){var l=o.split("");if(l[1]===l[2]&&l[3]===l[4]&&l[5]===l[6]){o="#"+l[1]+l[3]+l[5]}}return o}},operate:function(t,n,i){var r=[];var s=this.alpha*(1-i.alpha)+i.alpha;for(var a=0;a<3;a++){r[a]=e.operate(t,n,this.rgb[a],i.rgb[a])}return new e.Color(r,s)},toRGB:function(){return n(this.rgb)},toHSL:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255,i=this.alpha;var r=Math.max(e,t,n),s=Math.min(e,t,n);var a,o,l=(r+s)/2,u=r-s;if(r===s){a=o=0}else{o=l>.5?u/(2-r-s):u/(r+s);switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4;break}a/=6}return{h:a*360,s:o,l:l,a:i}},toHSV:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255,i=this.alpha;var r=Math.max(e,t,n),s=Math.min(e,t,n);var a,o,l=r;var u=r-s;if(r===0){o=0}else{o=u/r}if(r===s){a=0}else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4;break}a/=6}return{h:a*360,s:o,v:l,a:i}},toARGB:function(){return n([this.alpha*255].concat(this.rgb))},compare:function(e){if(!e.rgb){return-1}return e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:-1}};e.Color.fromKeyword=function(n){n=n.toLowerCase();if(e.colors.hasOwnProperty(n)){return new e.Color(e.colors[n].slice(1))}if(n===t){var i=new e.Color([0,0,0],0);i.isTransparentKeyword=true;return i}};function n(e){return"#"+e.map(function(e){e=i(Math.round(e),255);return(e<16?"0":"")+e.toString(16)}).join("")}function i(e,t){return Math.min(Math.max(e,0),t)}})(n("../tree"));(function(e){e.Comment=function(e,t,n,i){this.value=e;this.silent=!!t;this.currentFileInfo=i};e.Comment.prototype={type:"Comment",genCSS:function(t,n){if(this.debugInfo){n.add(e.debugInfo(t,this),this.currentFileInfo,this.index)}n.add(this.value.trim())},toCSS:e.toCSS,isSilent:function(e){var t=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,n=e.compress&&!this.value.match(/^\/\*!/);return this.silent||t||n},eval:function(){return this},markReferenced:function(){this.isReferenced=true}}})(n("../tree"));(function(e){e.Condition=function(e,t,n,i,r){this.op=e.trim();this.lvalue=t;this.rvalue=n;this.index=i;this.negate=r};e.Condition.prototype={type:"Condition",accept:function(e){this.lvalue=e.visit(this.lvalue);this.rvalue=e.visit(this.rvalue)},eval:function(e){var t=this.lvalue.eval(e),n=this.rvalue.eval(e);var i=this.index,r;r=function(e){switch(e){case"and":return t&&n;case"or":return t||n;default:if(t.compare){r=t.compare(n)}else if(n.compare){r=n.compare(t)}else{throw{type:"Type",message:"Unable to perform comparison",index:i}}switch(r){case-1:return e==="<"||e==="=<"||e==="<=";case 0:return e==="="||e===">="||e==="=<"||e==="<=";case 1:return e===">"||e===">="}}}(this.op);return this.negate?!r:r}}})(n("../tree"));(function(e){e.Dimension=function(n,i){this.value=parseFloat(n);this.unit=i&&i instanceof e.Unit?i:new e.Unit(i?[i]:t)};e.Dimension.prototype={type:"Dimension",accept:function(e){this.unit=e.visit(this.unit)},eval:function(e){return this},toColor:function(){return new e.Color([this.value,this.value,this.value])},genCSS:function(t,n){if(t&&t.strictUnits&&!this.unit.isSingular()){throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString())}var i=e.fround(t,this.value),r=String(i);if(i!==0&&i<1e-6&&i>-1e-6){r=i.toFixed(20).replace(/0+$/,"")}if(t&&t.compress){if(i===0&&this.unit.isLength()){n.add(r);return}if(i>0&&i<1){r=r.substr(1)}}n.add(r);this.unit.genCSS(t,n)},toCSS:e.toCSS,operate:function(t,n,i){var r=e.operate(t,n,this.value,i.value),s=this.unit.clone();if(n==="+"||n==="-"){if(s.numerator.length===0&&s.denominator.length===0){s.numerator=i.unit.numerator.slice(0);s.denominator=i.unit.denominator.slice(0)}else if(i.unit.numerator.length===0&&s.denominator.length===0){}else{i=i.convertTo(this.unit.usedUnits());if(t.strictUnits&&i.unit.toString()!==s.toString()){throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+s.toString()+"' and '"+i.unit.toString()+"'.")}r=e.operate(t,n,this.value,i.value)}}else if(n==="*"){s.numerator=s.numerator.concat(i.unit.numerator).sort();s.denominator=s.denominator.concat(i.unit.denominator).sort();s.cancel()}else if(n==="/"){s.numerator=s.numerator.concat(i.unit.denominator).sort();s.denominator=s.denominator.concat(i.unit.numerator).sort();s.cancel()}return new e.Dimension(r,s)},compare:function(t){if(t instanceof e.Dimension){var n=this.unify(),i=t.unify(),r=n.value,s=i.value;if(s>r){return-1}else if(s<r){return 1}else{if(!i.unit.isEmpty()&&n.unit.compare(i.unit)!==0){return-1}return 0}}else{return-1}},unify:function(){return this.convertTo({length:"m",duration:"s",angle:"rad"})},convertTo:function(t){var n=this.value,i=this.unit.clone(),r,s,a,o,l={},u;if(typeof t==="string"){for(r in e.UnitConversions){if(e.UnitConversions[r].hasOwnProperty(t)){l={};l[r]=t}}t=l}u=function(e,t){if(a.hasOwnProperty(e)){if(t){n=n/(a[e]/a[o])}else{n=n*(a[e]/a[o])}return o}return e};for(s in t){if(t.hasOwnProperty(s)){o=t[s];a=e.UnitConversions[s];i.map(u)}}i.cancel();return new e.Dimension(n,i)}};e.UnitConversions={length:{m:1,cm:.01,mm:.001,in:.0254,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:1/400,turn:1}};e.Unit=function(e,t,n){this.numerator=e?e.slice(0).sort():[];this.denominator=t?t.slice(0).sort():[];this.backupUnit=n};e.Unit.prototype={type:"Unit",clone:function(){return new e.Unit(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},genCSS:function(e,t){if(this.numerator.length>=1){t.add(this.numerator[0])}else if(this.denominator.length>=1){t.add(this.denominator[0])}else if((!e||!e.strictUnits)&&this.backupUnit){t.add(this.backupUnit)}},toCSS:e.toCSS,toString:function(){var e,t=this.numerator.join("*");for(e=0;e<this.denominator.length;e++){t+="/"+this.denominator[e]}return t},compare:function(e){return this.is(e.toString())?0:-1},is:function(e){return this.toString()===e},isLength:function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},isEmpty:function(){return this.numerator.length===0&&this.denominator.length===0},isSingular:function(){return this.numerator.length<=1&&this.denominator.length===0},map:function(e){var t;for(t=0;t<this.numerator.length;t++){this.numerator[t]=e(this.numerator[t],false)}for(t=0;t<this.denominator.length;t++){this.denominator[t]=e(this.denominator[t],true)}},usedUnits:function(){var t,n={},i;i=function(e){if(t.hasOwnProperty(e)&&!n[r]){n[r]=e}return e};for(var r in e.UnitConversions){if(e.UnitConversions.hasOwnProperty(r)){t=e.UnitConversions[r];this.map(i)}}return n},cancel:function(){var e={},t,n,i;for(n=0;n<this.numerator.length;n++){t=this.numerator[n];if(!i){i=t}e[t]=(e[t]||0)+1}for(n=0;n<this.denominator.length;n++){t=this.denominator[n];if(!i){i=t}e[t]=(e[t]||0)-1}this.numerator=[];this.denominator=[];for(t in e){if(e.hasOwnProperty(t)){var r=e[t];if(r>0){for(n=0;n<r;n++){this.numerator.push(t)}}else if(r<0){for(n=0;n<-r;n++){this.denominator.push(t)}}}}if(this.numerator.length===0&&this.denominator.length===0&&i){this.backupUnit=i}this.numerator.sort();this.denominator.sort()}}})(n("../tree"));(function(e){e.Directive=function(t,n,i,r){this.name=t;if(Array.isArray(n)){this.rules=[new e.Ruleset(null,n)];this.rules[0].allowImports=true}else{this.value=n}this.index=i;this.currentFileInfo=r};e.Directive.prototype={type:"Directive",accept:function(e){if(this.rules){this.rules=e.visitArray(this.rules)}if(this.value){this.value=e.visit(this.value)}},genCSS:function(t,n){n.add(this.name,this.currentFileInfo,this.index);if(this.rules){e.outputRuleset(t,n,this.rules)}else{n.add(" ");this.value.genCSS(t,n);n.add(";")}},toCSS:e.toCSS,eval:function(t){var n=this;if(this.rules){t.frames.unshift(this);n=new e.Directive(this.name,null,this.index,this.currentFileInfo);n.rules=[this.rules[0].eval(t)];n.rules[0].root=true;t.frames.shift()}return n},variable:function(t){return e.Ruleset.prototype.variable.call(this.rules[0],t)},find:function(){return e.Ruleset.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.rules[0])},markReferenced:function(){var e,t;this.isReferenced=true;if(this.rules){t=this.rules[0].rules;for(e=0;e<t.length;e++){if(t[e].markReferenced){t[e].markReferenced()}}}}}})(n("../tree"));(function(e){e.Element=function(t,n,i,r){this.combinator=t instanceof e.Combinator?t:new e.Combinator(t);if(typeof n==="string"){this.value=n.trim()}else if(n){this.value=n}else{this.value=""}this.index=i;this.currentFileInfo=r};e.Element.prototype={type:"Element",accept:function(e){var t=this.value;this.combinator=e.visit(this.combinator);if(typeof t==="object"){this.value=e.visit(t)}},eval:function(t){return new e.Element(this.combinator,this.value.eval?this.value.eval(t):this.value,this.index,this.currentFileInfo)},genCSS:function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},toCSS:function(e){var t=this.value.toCSS?this.value.toCSS(e):this.value;if(t===""&&this.combinator.value.charAt(0)==="&"){return""}else{return this.combinator.toCSS(e||{})+t}}};e.Attribute=function(e,t,n){this.key=e;this.op=t;this.value=n};e.Attribute.prototype={type:"Attribute",eval:function(t){return new e.Attribute(this.key.eval?this.key.eval(t):this.key,this.op,this.value&&this.value.eval?this.value.eval(t):this.value)},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;if(this.op){t+=this.op;t+=this.value.toCSS?this.value.toCSS(e):this.value}return"["+t+"]"}};e.Combinator=function(e){if(e===" "){this.value=" "}else{this.value=e?e.trim():""}};e.Combinator.prototype={type:"Combinator",_outputMap:{"":""," ":" ",":":" :","+":" + ","~":" ~ ",">":" > ","|":"|","^":" ^ ","^^":" ^^ "},_outputMapCompressed:{"":""," ":" ",":":" :","+":"+","~":"~",">":">","|":"|","^":"^","^^":"^^"},genCSS:function(e,t){t.add((e.compress?this._outputMapCompressed:this._outputMap)[this.value])},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Expression=function(e){this.value=e};e.Expression.prototype={type:"Expression",accept:function(e){if(this.value){this.value=e.visitArray(this.value)}},eval:function(t){var n,i=this.parens&&!this.parensInOp,r=false;if(i){t.inParenthesis()}if(this.value.length>1){n=new e.Expression(this.value.map(function(e){return e.eval(t)}))}else if(this.value.length===1){if(this.value[0].parens&&!this.value[0].parensInOp){r=true}n=this.value[0].eval(t)}else{n=this}if(i){t.outOfParenthesis()}if(this.parens&&this.parensInOp&&!t.isMathOn()&&!r){n=new e.Paren(n)}return n},genCSS:function(e,t){for(var n=0;n<this.value.length;n++){this.value[n].genCSS(e,t);if(n+1<this.value.length){t.add(" ")}}},toCSS:e.toCSS,throwAwayComments:function(){this.value=this.value.filter(function(t){return!(t instanceof e.Comment)})}}})(n("../tree"));(function(e){e.Extend=function t(n,i,r){this.selector=n;this.option=i;this.index=r;this.object_id=e.Extend.next_id++;this.parent_ids=[this.object_id];switch(i){case"all":this.allowBefore=true;this.allowAfter=true;break;default:this.allowBefore=false;this.allowAfter=false;break}};e.Extend.next_id=0;e.Extend.prototype={type:"Extend",accept:function(e){this.selector=e.visit(this.selector)},eval:function(t){return new e.Extend(this.selector.eval(t),this.option,this.index)},clone:function(t){return new e.Extend(this.selector,this.option,this.index)},findSelfSelectors:function(e){var t=[],n,i;for(n=0;n<e.length;n++){i=e[n].elements;if(n>0&&i.length&&i[0].combinator.value===""){i[0].combinator.value=" "}t=t.concat(e[n].elements)}this.selfSelectors=[{elements:t}]}}})(n("../tree"));(function(e){e.Import=function(e,n,i,r,s){this.options=i;this.index=r;this.path=e;this.features=n;this.currentFileInfo=s;if(this.options.less!==t||this.options.inline){this.css=!this.options.less||this.options.inline}else{var a=this.getPath();if(a&&/css([\?;].*)?$/.test(a)){this.css=true}}};e.Import.prototype={type:"Import",accept:function(e){if(this.features){this.features=e.visit(this.features)}this.path=e.visit(this.path);if(!this.options.inline&&this.root){this.root=e.visit(this.root)}},genCSS:function(e,t){if(this.css){t.add("@import ",this.currentFileInfo,this.index);this.path.genCSS(e,t);if(this.features){t.add(" ");this.features.genCSS(e,t)}t.add(";")}},toCSS:e.toCSS,getPath:function(){if(this.path instanceof e.Quoted){var n=this.path.value;return this.css!==t||/(\.[a-z]*$)|([\?;].*)$/.test(n)?n:n+".less"}else if(this.path instanceof e.URL){return this.path.value.value}return null},evalForImport:function(t){return new e.Import(this.path.eval(t),this.features,this.options,this.index,this.currentFileInfo)},evalPath:function(t){var n=this.path.eval(t);var i=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(n instanceof e.URL)){if(i){var r=n.value;if(r&&t.isPathRelative(r)){n.value=i+r}}n.value=t.normalizePath(n.value)}return n},eval:function(t){var n,i=this.features&&this.features.eval(t);if(this.skip){return[]}if(this.options.inline){var r=new e.Anonymous(this.root,0,{filename:this.importedFilename},true);return this.features?new e.Media([r],this.features.value):[r]}else if(this.css){var s=new e.Import(this.evalPath(t),i,this.options,this.index);if(!s.css&&this.error){throw this.error}return s}else{n=new e.Ruleset(null,this.root.rules.slice(0));n.evalImports(t);return this.features?new e.Media(n.rules,this.features.value):n.rules}}}})(n("../tree"));(function(e){e.Keyword=function(e){this.value=e};e.Keyword.prototype={type:"Keyword",eval:function(){return this},genCSS:function(e,t){t.add(this.value)},toCSS:e.toCSS,compare:function(t){if(t instanceof e.Keyword){return t.value===this.value?0:1}else{return-1}}};e.True=new e.Keyword("true");e.False=new e.Keyword("false")})(n("../tree"));(function(e){e.Media=function(t,n,i,r){this.index=i;this.currentFileInfo=r;var s=this.emptySelectors();this.features=new e.Value(n);this.rules=[new e.Ruleset(s,t)];this.rules[0].allowImports=true};e.Media.prototype={type:"Media",accept:function(e){if(this.features){this.features=e.visit(this.features)}if(this.rules){this.rules=e.visitArray(this.rules)}},genCSS:function(t,n){n.add("@media ",this.currentFileInfo,this.index);this.features.genCSS(t,n);e.outputRuleset(t,n,this.rules)},toCSS:e.toCSS,eval:function(t){if(!t.mediaBlocks){t.mediaBlocks=[];t.mediaPath=[]}var n=new e.Media(null,[],this.index,this.currentFileInfo);if(this.debugInfo){this.rules[0].debugInfo=this.debugInfo;n.debugInfo=this.debugInfo}var i=false;if(!t.strictMath){i=true;t.strictMath=true}try{n.features=this.features.eval(t)}finally{if(i){t.strictMath=false}}t.mediaPath.push(n);t.mediaBlocks.push(n);t.frames.unshift(this.rules[0]);n.rules=[this.rules[0].eval(t)];t.frames.shift();t.mediaPath.pop();return t.mediaPath.length===0?n.evalTop(t):n.evalNested(t)},variable:function(t){return e.Ruleset.prototype.variable.call(this.rules[0],t)},find:function(){return e.Ruleset.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.rules[0])},emptySelectors:function(){var t=new e.Element("","&",this.index,this.currentFileInfo),n=[new e.Selector([t],null,null,this.index,this.currentFileInfo)];n[0].mediaEmpty=true;return n},markReferenced:function(){var e,t=this.rules[0].rules;this.isReferenced=true;for(e=0;e<t.length;e++){if(t[e].markReferenced){t[e].markReferenced()}}},evalTop:function(t){var n=this;if(t.mediaBlocks.length>1){var i=this.emptySelectors();n=new e.Ruleset(i,t.mediaBlocks);n.multiMedia=true}delete t.mediaBlocks;delete t.mediaPath;return n},evalNested:function(t){var n,i,r=t.mediaPath.concat([this]);for(n=0;n<r.length;n++){i=r[n].features instanceof e.Value?r[n].features.value:r[n].features;r[n]=Array.isArray(i)?i:[i]}this.features=new e.Value(this.permute(r).map(function(t){t=t.map(function(t){return t.toCSS?t:new e.Anonymous(t)});for(n=t.length-1;n>0;n--){t.splice(n,0,new e.Anonymous("and"))}return new e.Expression(t)}));return new e.Ruleset([],[])},permute:function(e){if(e.length===0){return[]}else if(e.length===1){return e[0]}else{var t=[];var n=this.permute(e.slice(1));for(var i=0;i<n.length;i++){for(var r=0;r<e[0].length;r++){t.push([e[0][r]].concat(n[i]))}}return t}},bubbleSelectors:function(t){this.rules=[new e.Ruleset(t.slice(0),[this.rules[0]])]}}})(n("../tree"));(function(e){e.mixin={};e.mixin.Call=function(t,n,i,r,s){this.selector=new e.Selector(t);this.arguments=n&&n.length?n:null;this.index=i;this.currentFileInfo=r;this.important=s};e.mixin.Call.prototype={type:"MixinCall",accept:function(e){if(this.selector){this.selector=e.visit(this.selector)}if(this.arguments){this.arguments=e.visitArray(this.arguments)}},eval:function(t){var n,i,r,s=[],a=false,o,l,u,f,c,h,p=[],m,d=[],v=e.defaultFunc,g,y=0,S=1,b=2,w;r=this.arguments&&this.arguments.map(function(e){return{name:e.name,value:e.value.eval(t)}});for(o=0;o<t.frames.length;o++){if((n=t.frames[o].find(this.selector)).length>0){c=true;for(l=0;l<n.length;l++){i=n[l];f=false;for(u=0;u<t.frames.length;u++){if(!(i instanceof e.mixin.Definition)&&i===(t.frames[u].originalRuleset||t.frames[u])){f=true;break}}if(f){continue}if(i.matchArgs(r,t)){m={mixin:i,group:y};if(i.matchCondition){for(u=0;u<2;u++){v.value(u);d[u]=i.matchCondition(r,t)}if(d[0]||d[1]){if(d[0]!=d[1]){m.group=d[1]?S:b}p.push(m)}}else{p.push(m)}a=true}}v.reset();w=[0,0,0];for(l=0;l<p.length;l++){w[p[l].group]++}if(w[y]>0){g=b}else{g=S;if(w[S]+w[b]>1){throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(r)+"`",index:this.index,filename:this.currentFileInfo.filename}}}for(l=0;l<p.length;l++){m=p[l].group;if(m===y||m===g){try{i=p[l].mixin;if(!(i instanceof e.mixin.Definition)){i=new e.mixin.Definition("",[],i.rules,null,false);i.originalRuleset=n[l].originalRuleset||n[l]}Array.prototype.push.apply(s,i.eval(t,r,this.important).rules)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}}}if(a){if(!this.currentFileInfo||!this.currentFileInfo.reference){for(o=0;o<s.length;o++){h=s[o];if(h.markReferenced){h.markReferenced()}}}return s}}}if(c){throw{type:"Runtime",message:"No matching definition was found for `"+this.format(r)+"`",index:this.index,filename:this.currentFileInfo.filename}}else{throw{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}}},format:function(e){return this.selector.toCSS().trim()+"("+(e?e.map(function(e){var t="";if(e.name){t+=e.name+":"}if(e.value.toCSS){t+=e.value.toCSS()}else{t+="???"}return t}).join(", "):"")+")"}};e.mixin.Definition=function(t,n,i,r,s){this.name=t;this.selectors=[new e.Selector([new e.Element(null,t,this.index,this.currentFileInfo)])];this.params=n;this.condition=r;this.variadic=s;this.arity=n.length;this.rules=i;this._lookups={};this.required=n.reduce(function(e,t){if(!t.name||t.name&&!t.value){return e+1}else{return e}},0);this.parent=e.Ruleset.prototype;this.frames=[]};e.mixin.Definition.prototype={type:"MixinDefinition",accept:function(e){if(this.params&&this.params.length){this.params=e.visitArray(this.params)}this.rules=e.visitArray(this.rules);if(this.condition){this.condition=e.visit(this.condition)}},variable:function(e){return this.parent.variable.call(this,e)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(t,n,i,r){var s=new e.Ruleset(null,null),a,o,l=this.params.slice(0),u,f,c,h,p,m;n=new e.evalEnv(n,[s].concat(n.frames));if(i){i=i.slice(0);for(u=0;u<i.length;u++){o=i[u];if(h=o&&o.name){p=false;for(f=0;f<l.length;f++){if(!r[f]&&h===l[f].name){r[f]=o.value.eval(t);s.prependRule(new e.Rule(h,o.value.eval(t)));p=true;break}}if(p){i.splice(u,1);u--;continue}else{throw{type:"Runtime",message:"Named argument for "+this.name+" "+i[u].name+" not found"}}}}}m=0;for(u=0;u<l.length;u++){if(r[u]){continue}o=i&&i[m];if(h=l[u].name){if(l[u].variadic&&i){a=[];for(f=m;f<i.length;f++){a.push(i[f].value.eval(t))}s.prependRule(new e.Rule(h,new e.Expression(a).eval(t)))}else{c=o&&o.value;if(c){c=c.eval(t)}else if(l[u].value){c=l[u].value.eval(n);s.resetCache()}else{throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+i.length+" for "+this.arity+")"}}s.prependRule(new e.Rule(h,c));r[u]=c}}if(l[u].variadic&&i){for(f=m;f<i.length;f++){r[f]=i[f].value.eval(t)}}m++}return s},eval:function(t,n,i){var r=[],s=this.frames.concat(t.frames),a=this.evalParams(t,new e.evalEnv(t,s),n,r),o,l;a.prependRule(new e.Rule("@arguments",new e.Expression(r).eval(t)));o=this.rules.slice(0);l=new e.Ruleset(null,o);l.originalRuleset=this;l=l.eval(new e.evalEnv(t,[this,a].concat(s)));if(i){l=this.parent.makeImportant.apply(l)}return l},matchCondition:function(t,n){if(this.condition&&!this.condition.eval(new e.evalEnv(n,[this.evalParams(n,new e.evalEnv(n,this.frames.concat(n.frames)),t,[])].concat(this.frames).concat(n.frames)))){return false}return true},matchArgs:function(e,t){var n=e&&e.length||0,i;if(!this.variadic){if(n<this.required){return false}if(n>this.params.length){return false}}else{if(n<this.required-1){return false}}i=Math.min(n,this.arity);for(var r=0;r<i;r++){if(!this.params[r].name&&!this.params[r].variadic){if(e[r].value.eval(t).toCSS()!=this.params[r].value.eval(t).toCSS()){return false}}}return true}}})(n("../tree"));(function(e){e.Negative=function(e){this.value=e};e.Negative.prototype={type:"Negative",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("-");this.value.genCSS(e,t)},toCSS:e.toCSS,eval:function(t){if(t.isMathOn()){return new e.Operation("*",[new e.Dimension(-1),this.value]).eval(t)}return new e.Negative(this.value.eval(t))}}})(n("../tree"));(function(e){e.Operation=function(e,t,n){this.op=e.trim();this.operands=t;this.isSpaced=n};e.Operation.prototype={type:"Operation",accept:function(e){this.operands=e.visit(this.operands)},eval:function(t){var n=this.operands[0].eval(t),i=this.operands[1].eval(t);if(t.isMathOn()){if(n instanceof e.Dimension&&i instanceof e.Color){n=n.toColor()}if(i instanceof e.Dimension&&n instanceof e.Color){i=i.toColor()}if(!n.operate){throw{type:"Operation",message:"Operation on an invalid type"}}return n.operate(t,this.op,i)}else{return new e.Operation(this.op,[n,i],this.isSpaced)}},genCSS:function(e,t){this.operands[0].genCSS(e,t);if(this.isSpaced){t.add(" ")}t.add(this.op);if(this.isSpaced){t.add(" ")}this.operands[1].genCSS(e,t)},toCSS:e.toCSS};e.operate=function(e,t,n,i){switch(t){case"+":return n+i;case"-":return n-i;case"*":return n*i;case"/":return n/i}}})(n("../tree"));(function(e){e.Paren=function(e){this.value=e};e.Paren.prototype={type:"Paren",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("(");this.value.genCSS(e,t);t.add(")")},toCSS:e.toCSS,eval:function(t){return new e.Paren(this.value.eval(t))}}})(n("../tree"));(function(e){e.Quoted=function(e,t,n,i,r){this.escaped=n;this.value=t||"";this.quote=e.charAt(0);this.index=i;this.currentFileInfo=r};e.Quoted.prototype={type:"Quoted",genCSS:function(e,t){if(!this.escaped){t.add(this.quote,this.currentFileInfo,this.index)}t.add(this.value);if(!this.escaped){t.add(this.quote)}},toCSS:e.toCSS,eval:function(t){var n=this;var i=this.value.replace(/`([^`]+)`/g,function(e,t){const i=new Error("You are using JavaScript, which has been disabled.");i.index=n.index;i.type="Syntax";throw i}).replace(/@\{([\w-]+)\}/g,function(i,r){var s=new e.Variable("@"+r,n.index,n.currentFileInfo).eval(t,true);return s instanceof e.Quoted?s.value:s.toCSS()});return new e.Quoted(this.quote+i+this.quote,i,this.escaped,this.index,this.currentFileInfo)},compare:function(e){if(!e.toCSS){return-1}var t=this.toCSS(),n=e.toCSS();if(t===n){return 0}return t<n?-1:1}}})(n("../tree"));(function(e){e.Rule=function(t,n,i,r,s,a,o){this.name=t;this.value=n instanceof e.Value?n:new e.Value([n]);this.important=i?" "+i.trim():"";this.merge=r;this.index=s;this.currentFileInfo=a;this.inline=o||false;this.variable=t.charAt&&t.charAt(0)==="@"};e.Rule.prototype={type:"Rule",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){e.index=this.index;e.filename=this.currentFileInfo.filename;throw e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},toCSS:e.toCSS,eval:function(n){var i=false,r=this.name;if(typeof r!=="string"){r=r.length===1&&r[0]instanceof e.Keyword?r[0].value:t(n,r)}if(r==="font"&&!n.strictMath){i=true;n.strictMath=true}try{return new e.Rule(r,this.value.eval(n),this.important,this.merge,this.index,this.currentFileInfo,this.inline)}catch(e){e.index=e.index||this.index;throw e}finally{if(i){n.strictMath=false}}},makeImportant:function(){return new e.Rule(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)}};function t(e,t){var n="",i,r=t.length,s={add:function(e){n+=e}};for(i=0;i<r;i++){t[i].eval(e).genCSS(e,s)}return n}})(n("../tree"));(function(e){e.Ruleset=function(e,t,n){this.selectors=e;this.rules=t;this._lookups={};this.strictImports=n};e.Ruleset.prototype={type:"Ruleset",accept:function(e){if(this.paths){e.visitArray(this.paths,true)}else if(this.selectors){this.selectors=e.visitArray(this.selectors)}if(this.rules&&this.rules.length){this.rules=e.visitArray(this.rules)}},eval:function(t){var n=this.selectors,i,r,s,a=e.defaultFunc;if(n&&(r=n.length)){i=[];a.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"});for(s=0;s<r;s++){i.push(n[s].eval(t))}a.reset()}var o=this.rules?this.rules.slice(0):null,l=new e.Ruleset(i,o,this.strictImports),u,f;l.originalRuleset=this;l.root=this.root;l.firstRoot=this.firstRoot;l.allowImports=this.allowImports;if(this.debugInfo){l.debugInfo=this.debugInfo}var c=t.frames;c.unshift(l);var h=t.selectors;if(!h){t.selectors=h=[]}h.unshift(this.selectors);if(l.root||l.allowImports||!l.strictImports){l.evalImports(t)}var p=l.rules,m=p?p.length:0;for(s=0;s<m;s++){if(p[s]instanceof e.mixin.Definition){p[s].frames=c.slice(0)}}var d=t.mediaBlocks&&t.mediaBlocks.length||0;for(s=0;s<m;s++){if(p[s]instanceof e.mixin.Call){o=p[s].eval(t).filter(function(t){if(t instanceof e.Rule&&t.variable){return!l.variable(t.name)}return true});p.splice.apply(p,[s,1].concat(o));m+=o.length-1;s+=o.length-1;l.resetCache()}}for(s=0;s<p.length;s++){u=p[s];if(!(u instanceof e.mixin.Definition)){p[s]=u=u.eval?u.eval(t):u;if(u instanceof e.Ruleset&&u.selectors&&u.selectors.length===1){if(u.selectors[0].isJustParentSelector()){p.splice(s--,1);if(!u.selectors[0].evaldCondition){continue}for(var v=0;v<u.rules.length;v++){f=u.rules[v];if(!(f instanceof e.Rule)||!f.variable){p.splice(++s,0,f)}}}}}}c.shift();h.shift();if(t.mediaBlocks){for(s=d;s<t.mediaBlocks.length;s++){t.mediaBlocks[s].bubbleSelectors(i)}}return l},evalImports:function(t){var n=this.rules,i,r;if(!n){return}for(i=0;i<n.length;i++){if(n[i]instanceof e.Import){r=n[i].eval(t);if(r&&r.length){n.splice.apply(n,[i,1].concat(r));i+=r.length-1}else{n.splice(i,1,r)}this.resetCache()}}},makeImportant:function(){return new e.Ruleset(this.selectors,this.rules.map(function(e){if(e.makeImportant){return e.makeImportant()}else{return e}}),this.strictImports)},matchArgs:function(e){return!e||e.length===0},matchCondition:function(t,n){var i=this.selectors[this.selectors.length-1];if(!i.evaldCondition){return false}if(i.condition&&!i.condition.eval(new e.evalEnv(n,n.frames))){return false}return true},resetCache:function(){this._rulesets=null;this._variables=null;this._lookups={}},variables:function(){if(!this._variables){this._variables=!this.rules?{}:this.rules.reduce(function(t,n){if(n instanceof e.Rule&&n.variable===true){t[n.name]=n}return t},{})}return this._variables},variable:function(e){return this.variables()[e]},rulesets:function(){if(!this.rules){return null}var t=e.Ruleset,n=e.mixin.Definition,i=[],r=this.rules,s=r.length,a,o;for(a=0;a<s;a++){o=r[a];if(o instanceof t||o instanceof n){i.push(o)}}return i},prependRule:function(e){var t=this.rules;if(t){t.unshift(e)}else{this.rules=[e]}},find:function(t,n){n=n||this;var i=[],r,s=t.toCSS();if(s in this._lookups){return this._lookups[s]}this.rulesets().forEach(function(s){if(s!==n){for(var a=0;a<s.selectors.length;a++){r=t.match(s.selectors[a]);if(r){if(t.elements.length>r){Array.prototype.push.apply(i,s.find(new e.Selector(t.elements.slice(r)),n))}else{i.push(s)}break}}}});this._lookups[s]=i;return i},genCSS:function(t,n){var i,r,s=[],a=[],o,l,u,f;t.tabLevel=t.tabLevel||0;if(!this.root){t.tabLevel++}var c=t.compress?"":Array(t.tabLevel+1).join("  "),h=t.compress?"":Array(t.tabLevel).join("  "),p;for(i=0;i<this.rules.length;i++){u=this.rules[i];if(u.rules||u instanceof e.Media||u instanceof e.Directive||this.root&&u instanceof e.Comment){a.push(u)}else{s.push(u)}}if(!this.root){l=e.debugInfo(t,this,h);if(l){n.add(l);n.add(h)}var m=this.paths,d=m.length,v;p=t.compress?",":",\n"+h;for(i=0;i<d;i++){f=m[i];if(!(v=f.length)){continue}if(i>0){n.add(p)}t.firstSelector=true;f[0].genCSS(t,n);t.firstSelector=false;for(r=1;r<v;r++){f[r].genCSS(t,n)}}n.add((t.compress?"{":" {\n")+c)}for(i=0;i<s.length;i++){u=s[i];if(i+1===s.length&&(!this.root||a.length===0||this.firstRoot)){t.lastRule=true}if(u.genCSS){u.genCSS(t,n)}else if(u.value){n.add(u.value.toString())}if(!t.lastRule){n.add(t.compress?"":"\n"+c)}else{t.lastRule=false}}if(!this.root){n.add(t.compress?"}":"\n"+h+"}");t.tabLevel--}p=(t.compress?"":"\n")+(this.root?c:h);o=a.length;if(o){if(s.length&&p){n.add(p)}a[0].genCSS(t,n);for(i=1;i<o;i++){if(p){n.add(p)}a[i].genCSS(t,n)}}if(!n.isEmpty()&&!t.compress&&this.firstRoot){n.add("\n")}},toCSS:e.toCSS,markReferenced:function(){for(var e=0;e<this.selectors.length;e++){this.selectors[e].markReferenced()}},joinSelectors:function(e,t,n){for(var i=0;i<n.length;i++){this.joinSelector(e,t,n[i])}},joinSelector:function(t,n,i){var r,s,a,o,l,u,f,c,h,p,m,d,v,g,y;for(r=0;r<i.elements.length;r++){u=i.elements[r];if(u.value==="&"){o=true}}if(!o){if(n.length>0){for(r=0;r<n.length;r++){t.push(n[r].concat(i))}}else{t.push([i])}return}g=[];l=[[]];for(r=0;r<i.elements.length;r++){u=i.elements[r];if(u.value!=="&"){g.push(u)}else{y=[];if(g.length>0){this.mergeElementsOnToSelectors(g,l)}for(s=0;s<l.length;s++){f=l[s];if(n.length===0){if(f.length>0){f[0].elements=f[0].elements.slice(0);f[0].elements.push(new e.Element(u.combinator,"",u.index,u.currentFileInfo))}y.push(f)}else{for(a=0;a<n.length;a++){c=n[a];h=[];p=[];d=true;if(f.length>0){h=f.slice(0);v=h.pop();m=i.createDerived(v.elements.slice(0));d=false}else{m=i.createDerived([])}if(c.length>1){p=p.concat(c.slice(1))}if(c.length>0){d=false;m.elements.push(new e.Element(u.combinator,c[0].elements[0].value,u.index,u.currentFileInfo));m.elements=m.elements.concat(c[0].elements.slice(1))}if(!d){h.push(m)}h=h.concat(p);y.push(h)}}}l=y;g=[]}}if(g.length>0){this.mergeElementsOnToSelectors(g,l)}for(r=0;r<l.length;r++){if(l[r].length>0){t.push(l[r])}}},mergeElementsOnToSelectors:function(t,n){var i,r;if(n.length===0){n.push([new e.Selector(t)]);return}for(i=0;i<n.length;i++){r=n[i];if(r.length>0){r[r.length-1]=r[r.length-1].createDerived(r[r.length-1].elements.concat(t))}else{r.push(new e.Selector(t))}}}}})(n("../tree"));(function(e){e.Selector=function(e,t,n,i,r,s){this.elements=e;this.extendList=t;this.condition=n;this.currentFileInfo=r||{};this.isReferenced=s;if(!n){this.evaldCondition=true}};e.Selector.prototype={type:"Selector",accept:function(e){if(this.elements){this.elements=e.visitArray(this.elements)}if(this.extendList){this.extendList=e.visitArray(this.extendList)}if(this.condition){this.condition=e.visit(this.condition)}},createDerived:function(t,n,i){i=i!=null?i:this.evaldCondition;var r=new e.Selector(t,n||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);r.evaldCondition=i;r.mediaEmpty=this.mediaEmpty;return r},match:function(e){var t=this.elements,n=t.length,i,r;e.CacheElements();i=e._elements.length;if(i===0||n<i){return 0}else{for(r=0;r<i;r++){if(t[r].value!==e._elements[r]){return 0}}}return i},CacheElements:function(){var e="",t,n,i;if(!this._elements){t=this.elements.length;for(i=0;i<t;i++){n=this.elements[i];e+=n.combinator.value;if(!n.value.value){e+=n.value;continue}if(typeof n.value.value!=="string"){e="";break}e+=n.value.value}this._elements=e.match(/[,&#\.\w-]([\w-]|(\\.))*/g);if(this._elements){if(this._elements[0]==="&"){this._elements.shift()}}else{this._elements=[]}}},isJustParentSelector:function(){return!this.mediaEmpty&&this.elements.length===1&&this.elements[0].value==="&"&&(this.elements[0].combinator.value===" "||this.elements[0].combinator.value==="")},eval:function(e){var t=this.condition&&this.condition.eval(e),n=this.elements,i=this.extendList;n=n&&n.map(function(t){return t.eval(e)});i=i&&i.map(function(t){return t.eval(e)});return this.createDerived(n,i,t)},genCSS:function(e,t){var n,i;if((!e||!e.firstSelector)&&this.elements[0].combinator.value===""){t.add(" ",this.currentFileInfo,this.index)}if(!this._css){for(n=0;n<this.elements.length;n++){i=this.elements[n];i.genCSS(e,t)}}},toCSS:e.toCSS,markReferenced:function(){this.isReferenced=true},getIsReferenced:function(){return!this.currentFileInfo.reference||this.isReferenced},getIsOutput:function(){return this.evaldCondition}}})(n("../tree"));(function(e){e.UnicodeDescriptor=function(e){this.value=e};e.UnicodeDescriptor.prototype={type:"UnicodeDescriptor",genCSS:function(e,t){t.add(this.value)},toCSS:e.toCSS,eval:function(){return this}}})(n("../tree"));(function(e){e.URL=function(e,t,n){this.value=e;this.currentFileInfo=t;this.isEvald=n};e.URL.prototype={type:"Url",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("url(");this.value.genCSS(e,t);t.add(")")},toCSS:e.toCSS,eval:function(t){var n=this.value.eval(t),i;if(!this.isEvald){i=this.currentFileInfo&&this.currentFileInfo.rootpath;if(i&&typeof n.value==="string"&&t.isPathRelative(n.value)){if(!n.quote){i=i.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})}n.value=i+n.value}n.value=t.normalizePath(n.value);if(t.urlArgs){if(!n.value.match(/^\s*data:/)){var r=n.value.indexOf("?")===-1?"?":"&";var s=r+t.urlArgs;if(n.value.indexOf("#")!==-1){n.value=n.value.replace("#",s+"#")}else{n.value+=s}}}}return new e.URL(n,this.currentFileInfo,true)}}})(n("../tree"));(function(e){e.Value=function(e){this.value=e};e.Value.prototype={type:"Value",accept:function(e){if(this.value){this.value=e.visitArray(this.value)}},eval:function(t){if(this.value.length===1){return this.value[0].eval(t)}else{return new e.Value(this.value.map(function(e){return e.eval(t)}))}},genCSS:function(e,t){var n;for(n=0;n<this.value.length;n++){this.value[n].genCSS(e,t);if(n+1<this.value.length){t.add(e&&e.compress?",":", ")}}},toCSS:e.toCSS}})(n("../tree"));(function(e){e.Variable=function(e,t,n){this.name=e;this.index=t;this.currentFileInfo=n||{}};e.Variable.prototype={type:"Variable",eval:function(t){var n,i=this.name;if(i.indexOf("@@")===0){i="@"+new e.Variable(i.slice(1)).eval(t).value}if(this.evaluating){throw{type:"Name",message:"Recursive variable definition for "+i,filename:this.currentFileInfo.file,index:this.index}}this.evaluating=true;n=e.find(t.frames,function(e){var n=e.variable(i);if(n){return n.value.eval(t)}});if(n){this.evaluating=false;return n}else{throw{type:"Name",message:"variable "+i+" is undefined",filename:this.currentFileInfo.filename,index:this.index}}}}})(n("../tree"));(function(e){var t=["paths","optimization","files","contents","contentsIgnoredChars","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","processImports","syncImport","mime","useFileCache","currentFileInfo"];e.parseEnv=function(e){i(e,this,t);if(!this.contents){this.contents={}}if(!this.contentsIgnoredChars){this.contentsIgnoredChars={}}if(!this.files){this.files={}}if(!this.currentFileInfo){var n=e&&e.filename||"input";var r=n.replace(/[^\/\\]*$/,"");if(e){e.filename=null}this.currentFileInfo={filename:n,relativeUrls:this.relativeUrls,rootpath:e&&e.rootpath||"",currentDirectory:r,entryPath:r,rootFilename:n}}};var n=["silent","verbose","compress","yuicompress","ieCompat","strictMath","strictUnits","cleancss","sourceMap","importMultiple","urlArgs"];e.evalEnv=function(e,t){i(e,this,n);this.frames=t||[]};e.evalEnv.prototype.inParenthesis=function(){if(!this.parensStack){this.parensStack=[]}this.parensStack.push(true)};e.evalEnv.prototype.outOfParenthesis=function(){this.parensStack.pop()};e.evalEnv.prototype.isMathOn=function(){return this.strictMath?this.parensStack&&this.parensStack.length:true};e.evalEnv.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/)/.test(e)};e.evalEnv.prototype.normalizePath=function(e){var t=e.split("/").reverse(),n;e=[];while(t.length!==0){n=t.pop();switch(n){case".":break;case"..":if(e.length===0||e[e.length-1]===".."){e.push(n)}else{e.pop()}break;default:e.push(n);break}}return e.join("/")};var i=function(e,t,n){if(!e){return}for(var i=0;i<n.length;i++){if(e.hasOwnProperty(n[i])){t[n[i]]=e[n[i]]}}}})(n("./tree"));(function(e){var t={visitDeeper:true},n=false;function i(e){return e}function r(e,t){var n,i;for(n in e){if(e.hasOwnProperty(n)){i=e[n];switch(typeof i){case"function":if(i.prototype&&i.prototype.type){i.prototype.typeIndex=t++}break;case"object":t=r(i,t);break}}}return t}e.visitor=function(t){this._implementation=t;this._visitFnCache=[];if(!n){r(e,1);n=true}};e.visitor.prototype={visit:function(e){if(!e){return e}var n=e.typeIndex;if(!n){return e}var r=this._visitFnCache,s=this._implementation,a=n<<1,o=a|1,l=r[a],u=r[o],f=t,c;f.visitDeeper=true;if(!l){c="visit"+e.type;l=s[c]||i;u=s[c+"Out"]||i;r[a]=l;r[o]=u}if(l!==i){var h=l.call(s,e,f);if(s.isReplacing){e=h}}if(f.visitDeeper&&e&&e.accept){e.accept(this)}if(u!=i){u.call(s,e)}return e},visitArray:function(e,t){if(!e){return e}var n=e.length,i;if(t||!this._implementation.isReplacing){for(i=0;i<n;i++){this.visit(e[i])}return e}var r=[];for(i=0;i<n;i++){var s=this.visit(e[i]);if(!s.splice){r.push(s)}else if(s.length){this.flatten(s,r)}}return r},flatten:function(e,t){if(!t){t=[]}var n,i,r,s,a,o;for(i=0,n=e.length;i<n;i++){r=e[i];if(!r.splice){t.push(r);continue}for(a=0,s=r.length;a<s;a++){o=r[a];if(!o.splice){t.push(o)}else if(o.length){this.flatten(o,t)}}}return t}}})(n("./tree"));(function(e){e.importVisitor=function(t,n,i){this._visitor=new e.visitor(this);this._importer=t;this._finish=n;this.env=i||new e.evalEnv;this.importCount=0};e.importVisitor.prototype={isReplacing:true,run:function(e){var t;try{this._visitor.visit(e)}catch(e){t=e}this.isFinished=true;if(this.importCount===0){this._finish(t)}},visitImport:function(t,n){var i=this,r,s=t.options.inline;if(!t.css||s){try{r=t.evalForImport(this.env)}catch(e){if(!e.filename){e.index=t.index;e.filename=t.currentFileInfo.filename}t.css=true;t.error=e}if(r&&(!r.css||s)){t=r;this.importCount++;var a=new e.evalEnv(this.env,this.env.frames.slice(0));if(t.options.multiple){a.importMultiple=true}this._importer.push(t.getPath(),t.currentFileInfo,t.options,function(n,r,o,l){if(n&&!n.filename){n.index=t.index;n.filename=t.currentFileInfo.filename}if(o&&!a.importMultiple){t.skip=o}var u=function(e){i.importCount--;if(i.importCount===0&&i.isFinished){i._finish(e)}};if(r){t.root=r;t.importedFilename=l;if(!s&&!t.skip){new e.importVisitor(i._importer,u,a).run(r);return}}u()})}}n.visitDeeper=false;return t},visitRule:function(e,t){t.visitDeeper=false;return e},visitDirective:function(e,t){this.env.frames.unshift(e);return e},visitDirectiveOut:function(e){this.env.frames.shift()},visitMixinDefinition:function(e,t){this.env.frames.unshift(e);return e},visitMixinDefinitionOut:function(e){this.env.frames.shift()},visitRuleset:function(e,t){this.env.frames.unshift(e);return e},visitRulesetOut:function(e){this.env.frames.shift()},visitMedia:function(e,t){this.env.frames.unshift(e.ruleset);return e},visitMediaOut:function(e){this.env.frames.shift()}}})(n("./tree"));(function(e){e.joinSelectorVisitor=function(){this.contexts=[[]];this._visitor=new e.visitor(this)};e.joinSelectorVisitor.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=false},visitMixinDefinition:function(e,t){t.visitDeeper=false},visitRuleset:function(e,t){var n=this.contexts[this.contexts.length-1],i=[],r;this.contexts.push(i);if(!e.root){r=e.selectors;if(r){r=r.filter(function(e){return e.getIsOutput()});e.selectors=r.length?r:r=null;if(r){e.joinSelectors(i,n,r)}}if(!r){e.rules=null}e.paths=i}},visitRulesetOut:function(e){this.contexts.length=this.contexts.length-1},visitMedia:function(e,t){var n=this.contexts[this.contexts.length-1];e.rules[0].root=n.length===0||n[0].multiMedia}}})(n("./tree"));(function(e){e.toCSSVisitor=function(t){this._visitor=new e.visitor(this);this._env=t};e.toCSSVisitor.prototype={isReplacing:true,run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){if(e.variable){return[]}return e},visitMixinDefinition:function(e,t){e.frames=[];return[]},visitExtend:function(e,t){return[]},visitComment:function(e,t){if(e.isSilent(this._env)){return[]}return e},visitMedia:function(e,t){e.accept(this._visitor);t.visitDeeper=false;if(!e.rules.length){return[]}return e},visitDirective:function(t,n){if(t.currentFileInfo.reference&&!t.isReferenced){return[]}if(t.name==="@charset"){if(this.charset){if(t.debugInfo){var i=new e.Comment("/* "+t.toCSS(this._env).replace(/\n/g,"")+" */\n");i.debugInfo=t.debugInfo;return this._visitor.visit(i)}return[]}this.charset=true}return t},checkPropertiesInRoot:function(t){var n;for(var i=0;i<t.length;i++){n=t[i];if(n instanceof e.Rule&&!n.variable){throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:n.index,filename:n.currentFileInfo?n.currentFileInfo.filename:null}}}},visitRuleset:function(t,n){var i,r=[];if(t.firstRoot){this.checkPropertiesInRoot(t.rules)}if(!t.root){if(t.paths){t.paths=t.paths.filter(function(t){var n;if(t[0].elements[0].combinator.value===" "){t[0].elements[0].combinator=new e.Combinator("")}for(n=0;n<t.length;n++){if(t[n].getIsReferenced()&&t[n].getIsOutput()){return true}}return false})}var s=t.rules,a=s?s.length:0;for(var o=0;o<a;){i=s[o];if(i&&i.rules){r.push(this._visitor.visit(i));s.splice(o,1);a--;continue}o++}if(a>0){t.accept(this._visitor)}else{t.rules=null}n.visitDeeper=false;s=t.rules;if(s){this._mergeRules(s);s=t.rules}if(s){this._removeDuplicateRules(s);s=t.rules}if(s&&s.length>0&&t.paths.length>0){r.splice(0,0,t)}}else{t.accept(this._visitor);n.visitDeeper=false;if(t.firstRoot||t.rules&&t.rules.length>0){r.splice(0,0,t)}}if(r.length===1){return r[0]}return r},_removeDuplicateRules:function(t){if(!t){return}var n={},i,r,s;for(s=t.length-1;s>=0;s--){r=t[s];if(r instanceof e.Rule){if(!n[r.name]){n[r.name]=r}else{i=n[r.name];if(i instanceof e.Rule){i=n[r.name]=[n[r.name].toCSS(this._env)]}var a=r.toCSS(this._env);if(i.indexOf(a)!==-1){t.splice(s,1)}else{i.push(a)}}}}},_mergeRules:function(t){if(!t){return}var n={},i,r,s;for(var a=0;a<t.length;a++){r=t[a];if(r instanceof e.Rule&&r.merge){s=[r.name,r.important?"!":""].join(",");if(!n[s]){n[s]=[]}else{t.splice(a--,1)}n[s].push(r)}}Object.keys(n).map(function(t){i=n[t];if(i.length>1){r=i[0];r.value=new e.Value(i.map(function(e){return e.value}))}})}}})(n("./tree"));(function(e){e.extendFinderVisitor=function(){this._visitor=new e.visitor(this);this.contexts=[];this.allExtendsStack=[[]]};e.extendFinderVisitor.prototype={run:function(e){e=this._visitor.visit(e);e.allExtends=this.allExtendsStack[0];return e},visitRule:function(e,t){t.visitDeeper=false},visitMixinDefinition:function(e,t){t.visitDeeper=false},visitRuleset:function(t,n){if(t.root){return}var i,r,s,a=[],o;var l=t.rules,u=l?l.length:0;for(i=0;i<u;i++){if(t.rules[i]instanceof e.Extend){a.push(l[i]);t.extendOnEveryPath=true}}var f=t.paths;for(i=0;i<f.length;i++){var c=f[i],h=c[c.length-1],p=h.extendList;o=p?p.slice(0).concat(a):a;if(o){o=o.map(function(e){return e.clone()})}for(r=0;r<o.length;r++){this.foundExtends=true;s=o[r];s.findSelfSelectors(c);s.ruleset=t;if(r===0){s.firstExtendOnThisSelectorPath=true}this.allExtendsStack[this.allExtendsStack.length-1].push(s)}}this.contexts.push(t.selectors)},visitRulesetOut:function(e){if(!e.root){this.contexts.length=this.contexts.length-1}},visitMedia:function(e,t){e.allExtends=[];this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){e.allExtends=[];this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}};e.processExtendsVisitor=function(){this._visitor=new e.visitor(this)};e.processExtendsVisitor.prototype={run:function(t){var n=new e.extendFinderVisitor;n.run(t);if(!n.foundExtends){return t}t.allExtends=t.allExtends.concat(this.doExtendChaining(t.allExtends,t.allExtends));this.allExtendsStack=[t.allExtends];return this._visitor.visit(t)},doExtendChaining:function(t,n,i){var r,s,a,o=[],l,u=this,f,c,h,p;i=i||0;for(r=0;r<t.length;r++){for(s=0;s<n.length;s++){c=t[r];h=n[s];if(c.parent_ids.indexOf(h.object_id)>=0){continue}f=[h.selfSelectors[0]];a=u.findMatch(c,f);if(a.length){c.selfSelectors.forEach(function(t){l=u.extendSelector(a,f,t);p=new e.Extend(h.selector,h.option,0);p.selfSelectors=l;l[l.length-1].extendList=[p];o.push(p);p.ruleset=h.ruleset;p.parent_ids=p.parent_ids.concat(h.parent_ids,c.parent_ids);if(h.firstExtendOnThisSelectorPath){p.firstExtendOnThisSelectorPath=true;h.ruleset.paths.push(l)}})}}}if(o.length){this.extendChainCount++;if(i>100){var m="{unable to calculate}";var d="{unable to calculate}";try{m=o[0].selfSelectors[0].toCSS();d=o[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+m+":extend("+d+")"}}return o.concat(u.doExtendChaining(o,n,i+1))}else{return o}},visitRule:function(e,t){t.visitDeeper=false},visitMixinDefinition:function(e,t){t.visitDeeper=false},visitSelector:function(e,t){t.visitDeeper=false},visitRuleset:function(e,t){if(e.root){return}var n,i,r,s=this.allExtendsStack[this.allExtendsStack.length-1],a=[],o=this,l;for(r=0;r<s.length;r++){for(i=0;i<e.paths.length;i++){l=e.paths[i];if(e.extendOnEveryPath){continue}var u=l[l.length-1].extendList;if(u&&u.length){continue}n=this.findMatch(s[r],l);if(n.length){s[r].selfSelectors.forEach(function(e){a.push(o.extendSelector(n,l,e))})}}}e.paths=e.paths.concat(a)},findMatch:function(e,t){var n,i,r,s,a,o,l=this,u=e.selector.elements,f=[],c,h=[];for(n=0;n<t.length;n++){i=t[n];for(r=0;r<i.elements.length;r++){s=i.elements[r];if(e.allowBefore||n===0&&r===0){f.push({pathIndex:n,index:r,matched:0,initialCombinator:s.combinator})}for(o=0;o<f.length;o++){c=f[o];a=s.combinator.value;if(a===""&&r===0){a=" "}if(!l.isElementValuesEqual(u[c.matched].value,s.value)||c.matched>0&&u[c.matched].combinator.value!==a){c=null}else{c.matched++}if(c){c.finished=c.matched===u.length;if(c.finished&&(!e.allowAfter&&(r+1<i.elements.length||n+1<t.length))){c=null}}if(c){if(c.finished){c.length=u.length;c.endPathIndex=n;c.endPathElementIndex=r+1;f.length=0;h.push(c)}}else{f.splice(o,1);o--}}}}return h},isElementValuesEqual:function(t,n){if(typeof t==="string"||typeof n==="string"){return t===n}if(t instanceof e.Attribute){if(t.op!==n.op||t.key!==n.key){return false}if(!t.value||!n.value){if(t.value||n.value){return false}return true}t=t.value.value||t.value;n=n.value.value||n.value;return t===n}t=t.value;n=n.value;if(t instanceof e.Selector){if(!(n instanceof e.Selector)||t.elements.length!==n.elements.length){return false}for(var i=0;i<t.elements.length;i++){if(t.elements[i].combinator.value!==n.elements[i].combinator.value){if(i!==0||(t.elements[i].combinator.value||" ")!==(n.elements[i].combinator.value||" ")){return false}}if(!this.isElementValuesEqual(t.elements[i].value,n.elements[i].value)){return false}}return true}return false},extendSelector:function(t,n,i){var r=0,s=0,a=[],o,l,u,f,c;for(o=0;o<t.length;o++){f=t[o];l=n[f.pathIndex];u=new e.Element(f.initialCombinator,i.elements[0].value,i.elements[0].index,i.elements[0].currentFileInfo);if(f.pathIndex>r&&s>0){a[a.length-1].elements=a[a.length-1].elements.concat(n[r].elements.slice(s));s=0;r++}c=l.elements.slice(s,f.index).concat([u]).concat(i.elements.slice(1));if(r===f.pathIndex&&o>0){a[a.length-1].elements=a[a.length-1].elements.concat(c)}else{a=a.concat(n.slice(r,f.pathIndex));a.push(new e.Selector(c))}r=f.endPathIndex;s=f.endPathElementIndex;if(s>=n[r].elements.length){s=0;r++}}if(r<n.length&&s>0){a[a.length-1].elements=a[a.length-1].elements.concat(n[r].elements.slice(s));r++}a=a.concat(n.slice(r,n.length));return a},visitRulesetOut:function(e){},visitMedia:function(e,t){var n=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,e.allExtends));this.allExtendsStack.push(n)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){var n=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,e.allExtends));this.allExtendsStack.push(n)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}}})(n("./tree"));(function(e){e.sourceMapOutput=function(e){this._css=[];this._rootNode=e.rootNode;this._writeSourceMap=e.writeSourceMap;this._contentsMap=e.contentsMap;this._contentsIgnoredCharsMap=e.contentsIgnoredCharsMap;this._sourceMapFilename=e.sourceMapFilename;this._outputFilename=e.outputFilename;this._sourceMapURL=e.sourceMapURL;if(e.sourceMapBasepath){this._sourceMapBasepath=e.sourceMapBasepath.replace(/\\/g,"/")}this._sourceMapRootpath=e.sourceMapRootpath;this._outputSourceFiles=e.outputSourceFiles;this._sourceMapGeneratorConstructor=e.sourceMapGenerator||n("source-map").SourceMapGenerator;if(this._sourceMapRootpath&&this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)!=="/"){this._sourceMapRootpath+="/"}this._lineNumber=0;this._column=0};e.sourceMapOutput.prototype.normalizeFilename=function(e){e=e.replace(/\\/g,"/");if(this._sourceMapBasepath&&e.indexOf(this._sourceMapBasepath)===0){e=e.substring(this._sourceMapBasepath.length);if(e.charAt(0)==="\\"||e.charAt(0)==="/"){e=e.substring(1)}}return(this._sourceMapRootpath||"")+e};e.sourceMapOutput.prototype.add=function(e,t,n,i){if(!e){return}var r,s,a,o,l;if(t){var u=this._contentsMap[t.filename];if(this._contentsIgnoredCharsMap[t.filename]){n-=this._contentsIgnoredCharsMap[t.filename];if(n<0){n=0}u=u.slice(this._contentsIgnoredCharsMap[t.filename])}u=u.substring(0,n);s=u.split("\n");o=s[s.length-1]}r=e.split("\n");a=r[r.length-1];if(t){if(!i){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:s.length,column:o.length},source:this.normalizeFilename(t.filename)})}else{for(l=0;l<r.length;l++){this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+l+1,column:l===0?this._column:0},original:{line:s.length+l,column:l===0?o.length:0},source:this.normalizeFilename(t.filename)})}}}if(r.length===1){this._column+=a.length}else{this._lineNumber+=r.length-1;this._column=a.length}this._css.push(e)};e.sourceMapOutput.prototype.isEmpty=function(){return this._css.length===0};e.sourceMapOutput.prototype.toCSS=function(e){this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null});if(this._outputSourceFiles){for(var t in this._contentsMap){if(this._contentsMap.hasOwnProperty(t)){var n=this._contentsMap[t];if(this._contentsIgnoredCharsMap[t]){n=n.slice(this._contentsIgnoredCharsMap[t])}this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),n)}}}this._rootNode.genCSS(e,this);if(this._css.length>0){var i,r=JSON.stringify(this._sourceMapGenerator.toJSON());if(this._sourceMapURL){i=this._sourceMapURL}else if(this._sourceMapFilename){i=this.normalizeFilename(this._sourceMapFilename)}if(this._writeSourceMap){this._writeSourceMap(r)}else{i="data:application/json,"+encodeURIComponent(r)}if(i){this._css.push("/*# sourceMappingURL="+i+" */")}}return this._css.join("")}})(n("./tree"));var s=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);i.env=i.env||(location.hostname=="127.0.0.1"||location.hostname=="0.0.0.0"||location.hostname=="localhost"||location.port&&location.port.length>0||s?"development":"production");var a={info:2,errors:1,none:0};i.logLevel=typeof i.logLevel!="undefined"?i.logLevel:a.info;i.async=i.async||false;i.fileAsync=i.fileAsync||false;i.poll=i.poll||(s?1e3:1500);if(i.functions){for(var o in i.functions){if(i.functions.hasOwnProperty(o)){i.tree.functions[o]=i.functions[o]}}}var l=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);if(l){i.dumpLineNumbers=l[1]}var u=/^text\/(x-)?less$/;var f=null;var c={};function h(e,t){if(i.env=="development"&&typeof console!=="undefined"&&i.logLevel>=t){console.log("less: "+e)}}function p(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function m(e,n){var i="{line} {content}";var r=e.filename||n;var s=[];var o=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+r+" ";var l=function(e,n,r){if(e.extract[n]!==t){s.push(i.replace(/\{line\}/,(parseInt(e.line,10)||0)+(n-1)).replace(/\{class\}/,r).replace(/\{content\}/,e.extract[n]))}};if(e.extract){l(e,0,"");l(e,1,"line");l(e,2,"");o+="on line "+e.line+", column "+(e.column+1)+":\n"+s.join("\n")}else if(e.stack){o+=e.stack}h(o,a.errors)}function d(e,t,n){var i=t.href||"";var r="less:"+(t.title||p(i));var s=document.getElementById(r);var o=false;var l=document.createElement("style");l.setAttribute("type","text/css");if(t.media){l.setAttribute("media",t.media)}l.id=r;if(l.styleSheet){try{l.styleSheet.cssText=e}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}}else{l.appendChild(document.createTextNode(e));o=s!==null&&s.childNodes.length>0&&l.childNodes.length>0&&s.firstChild.nodeValue===l.firstChild.nodeValue}var u=document.getElementsByTagName("head")[0];if(s===null||o===false){var c=t&&t.nextSibling||null;if(c){c.parentNode.insertBefore(l,c)}else{u.appendChild(l)}}if(s&&o===false){s.parentNode.removeChild(s)}if(n&&f){h("saving "+i+" to cache.",a.info);try{f.setItem(i,e);f.setItem(i+":timestamp",n)}catch(e){h("failed to save",a.errors)}}}function v(e,n){var r="less-error-message:"+p(n||"");var s='<li><label>{line}</label><pre class="{class}">{content}</pre></li>';var a=document.createElement("div"),o,l,u=[];var f=e.filename||n;var c=f.match(/([^\/]+(\?.*)?)$/)[1];a.id=r;a.className="less-error-message";l="<h3>"+(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+"</h3>"+'<p>in <a href="'+f+'">'+c+"</a> ";var h=function(e,n,i){if(e.extract[n]!==t){u.push(s.replace(/\{line\}/,(parseInt(e.line,10)||0)+(n-1)).replace(/\{class\}/,i).replace(/\{content\}/,e.extract[n]))}};if(e.extract){h(e,0,"");h(e,1,"line");h(e,2,"");l+="on line "+e.line+", column "+(e.column+1)+":</p>"+"<ul>"+u.join("")+"</ul>"}else if(e.stack){l+="<br/>"+e.stack.split("\n").slice(1).join("<br/>")}a.innerHTML=l;d([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"});a.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";");if(i.env=="development"){o=setInterval(function(){if(document.body){if(document.getElementById(r)){document.body.replaceChild(a,document.getElementById(r))}else{document.body.insertBefore(a,document.body.firstChild)}clearInterval(o)}},10)}}function g(e,t){if(!i.errorReporting||i.errorReporting==="html"){v(e,t)}else if(i.errorReporting==="console"){m(e,t)}else if(typeof i.errorReporting==="function"){i.errorReporting("add",e,t)}}function y(e){var t=document.getElementById("less-error-message:"+p(e));if(t){t.parentNode.removeChild(t)}}function S(e){}function b(e){if(!i.errorReporting||i.errorReporting==="html"){y(e)}else if(i.errorReporting==="console"){S(e)}else if(typeof i.errorReporting==="function"){i.errorReporting("remove",e)}}function w(e){var t=document.getElementsByTagName("style"),n;for(var r=0;r<t.length;r++){n=t[r];if(n.type.match(u)){var s=new i.tree.parseEnv(i),a=n.innerHTML||"";s.filename=document.location.href.replace(/#.*$/,"");if(e||i.globalVars){s.useFileCache=true}var o=function(e){return function(t,n){if(t){return g(t,"inline")}var r=n.toCSS(i);e.type="text/css";if(e.styleSheet){e.styleSheet.cssText=r}else{e.innerHTML=r}}}(n);new i.Parser(s).parse(a,o,{globalVars:i.globalVars,modifyVars:e})}}}function x(e,t){var n=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,i=e.match(n),r={},s=[],a,o;if(!i){throw new Error("Could not parse sheet href - '"+e+"'")}if(!i[1]||i[2]){o=t.match(n);if(!o){throw new Error("Could not parse page url - '"+t+"'")}i[1]=i[1]||o[1]||"";if(!i[2]){i[3]=o[3]+i[3]}}if(i[3]){s=i[3].replace(/\\/g,"/").split("/");for(a=0;a<s.length;a++){if(s[a]==="."){s.splice(a,1);a-=1}}for(a=0;a<s.length;a++){if(s[a]===".."&&a>0){s.splice(a-1,2);a-=2}}}r.hostPart=i[1];r.directories=s;r.path=i[1]+s.join("/");r.fileUrl=r.path+(i[4]||"");r.url=r.fileUrl+(i[5]||"");return r}function C(e,t){var n=x(e),i=x(t),r,s,a,o,l="";if(n.hostPart!==i.hostPart){return""}s=Math.max(i.directories.length,n.directories.length);for(r=0;r<s;r++){if(i.directories[r]!==n.directories[r]){break}}o=i.directories.slice(r);a=n.directories.slice(r);for(r=0;r<o.length-1;r++){l+="../"}for(r=0;r<a.length-1;r++){l+=a[r]+"/"}return l}function I(){if(e.XMLHttpRequest){return new XMLHttpRequest}else{try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){h("browser doesn't support AJAX.",a.errors);return null}}}function k(e,t,n,r){var o=I();var l=s?i.fileAsync:i.async;if(typeof o.overrideMimeType==="function"){o.overrideMimeType("text/css")}h("XHR: Getting '"+e+"'",a.info);o.open("GET",e,l);o.setRequestHeader("Accept",t||"text/x-less, text/css; q=0.9, */*; q=0.5");o.send(null);function u(t,n,i){if(t.status>=200&&t.status<300){n(t.responseText,t.getResponseHeader("Last-Modified"))}else if(typeof i==="function"){i(t.status,e)}}if(s&&!i.fileAsync){if(o.status===0||o.status>=200&&o.status<300){n(o.responseText)}else{r(o.status,e)}}else if(l){o.onreadystatechange=function(){if(o.readyState==4){u(o,n,r)}}}else{u(o,n,r)}}function F(t,n,r,s,a){if(n&&n.currentDirectory&&!/^([a-z-]+:)?\//.test(t)){t=n.currentDirectory+t}var o=x(t,e.location.href);var l=o.url;var u={currentDirectory:o.path,filename:l};if(n){u.entryPath=n.entryPath;u.rootpath=n.rootpath;u.rootFilename=n.rootFilename;u.relativeUrls=n.relativeUrls}else{u.entryPath=o.path;u.rootpath=i.rootpath||o.path;u.rootFilename=l;u.relativeUrls=s.relativeUrls}if(u.relativeUrls){if(s.rootpath){u.rootpath=x(s.rootpath+C(o.path,u.entryPath)).path}else{u.rootpath=o.path}}if(s.useFileCache&&c[l]){try{var f=c[l];r(null,f,l,u,{lastModified:new Date})}catch(e){r(e,null,l)}return}k(l,s.mime,function(e,t){c[l]=e;try{r(null,e,l,u,{lastModified:t})}catch(e){r(e,null,l)}},function(e,t){r({type:"File",message:"'"+t+"' wasn't found ("+e+")"},null,l)})}function R(e,t,n,r,s){var a=new i.tree.parseEnv(i);a.mime=e.type;if(s||i.globalVars){a.useFileCache=true}F(e.href,null,function(o,l,u,c,h){if(h){h.remaining=r;var p=f&&f.getItem(u),m=f&&f.getItem(u+":timestamp");if(!n&&m&&h.lastModified&&new Date(h.lastModified).valueOf()===new Date(m).valueOf()){d(p,e);h.local=true;t(null,null,l,e,h,u);return}}b(u);if(l){a.currentFileInfo=c;new i.Parser(a).parse(l,function(n,i){if(n){return t(n,null,null,e)}try{t(n,i,l,e,h,u)}catch(n){t(n,null,null,e)}},{modifyVars:s,globalVars:i.globalVars})}else{t(o,null,null,e,h,u)}},a,s)}function A(e,t,n){for(var r=0;r<i.sheets.length;r++){R(i.sheets[r],e,t,i.sheets.length-(r+1),n)}}function M(){if(i.env==="development"){i.optimization=0;i.watchTimer=setInterval(function(){if(i.watchMode){A(function(e,t,n,r,s){if(e){g(e,r.href)}else if(t){d(t.toCSS(i),r,s.lastModified)}})}},i.poll)}else{i.optimization=3}}i.watch=function(){if(!i.watchMode){i.env="development";M()}this.watchMode=true;return true};i.unwatch=function(){clearInterval(i.watchTimer);this.watchMode=false;return false};if(/!watch/.test(location.hash)){i.watch()}if(i.env!="development"){try{f=typeof e.localStorage==="undefined"?null:e.localStorage}catch(e){}}var E=document.getElementsByTagName("link");i.sheets=[];for(var _=0;_<E.length;_++){if(E[_].rel==="stylesheet/less"||E[_].rel.match(/stylesheet/)&&E[_].type.match(u)){i.sheets.push(E[_])}}i.modifyVars=function(e){i.refresh(false,e)};i.refresh=function(e,t){var n,r;n=r=new Date;A(function(e,t,s,o,l){if(e){return g(e,o.href)}if(l.local){h("loading "+o.href+" from cache.",a.info)}else{h("parsed "+o.href+" successfully.",a.info);d(t.toCSS(i),o,l.lastModified)}h("css for "+o.href+" generated in "+(new Date-r)+"ms",a.info);if(l.remaining===0){h("css generated in "+(new Date-n)+"ms",a.info)}r=new Date},e,t);w(t)};i.refreshStyles=w;i.Parser.fileLoader=F;i.refresh(i.env==="development");if(typeof define==="function"&&define.amd){define(function(){return i})}})(window);
},
	"sap/ui/thirdparty/punycode.js":function(){
(function(e){var o=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var n=typeof module=="object"&&module&&!module.nodeType&&module;var r=typeof global=="object"&&global;if(r.global===r||r.window===r||r.self===r){e=r}var t,i=2147483647,f=36,u=1,l=26,c=38,a=700,s=72,d=128,p="-",h=/^xn--/,v=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-u,b=Math.floor,y=String.fromCharCode,C;function m(e){throw new RangeError(g[e])}function j(e,o){var n=e.length;var r=[];while(n--){r[n]=o(e[n])}return r}function A(e,o){var n=e.split("@");var r="";if(n.length>1){r=n[0]+"@";e=n[1]}e=e.replace(w,".");var t=e.split(".");var i=j(t,o).join(".");return r+i}function I(e){var o=[],n=0,r=e.length,t,i;while(n<r){t=e.charCodeAt(n++);if(t>=55296&&t<=56319&&n<r){i=e.charCodeAt(n++);if((i&64512)==56320){o.push(((t&1023)<<10)+(i&1023)+65536)}else{o.push(t);n--}}else{o.push(t)}}return o}function E(e){return j(e,function(e){var o="";if(e>65535){e-=65536;o+=y(e>>>10&1023|55296);e=56320|e&1023}o+=y(e);return o}).join("")}function F(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function O(e,o){return e+22+75*(e<26)-((o!=0)<<5)}function k(e,o,n){var r=0;e=n?b(e/a):e>>1;e+=b(e/o);for(;e>x*l>>1;r+=f){e=b(e/x)}return b(r+(x+1)*e/(e+c))}function S(e){var o=[],n=e.length,r,t=0,c=d,a=s,h,v,w,g,x,y,C,j,A;h=e.lastIndexOf(p);if(h<0){h=0}for(v=0;v<h;++v){if(e.charCodeAt(v)>=128){m("not-basic")}o.push(e.charCodeAt(v))}for(w=h>0?h+1:0;w<n;){for(g=t,x=1,y=f;;y+=f){if(w>=n){m("invalid-input")}C=F(e.charCodeAt(w++));if(C>=f||C>b((i-t)/x)){m("overflow")}t+=C*x;j=y<=a?u:y>=a+l?l:y-a;if(C<j){break}A=f-j;if(x>b(i/A)){m("overflow")}x*=A}r=o.length+1;a=k(t-g,r,g==0);if(b(t/r)>i-c){m("overflow")}c+=b(t/r);t%=r;o.splice(t++,0,c)}return E(o)}function T(e){var o,n,r,t,c,a,h,v,w,g,x,C=[],j,A,E,F;e=I(e);j=e.length;o=d;n=0;c=s;for(a=0;a<j;++a){x=e[a];if(x<128){C.push(y(x))}}r=t=C.length;if(t){C.push(p)}while(r<j){for(h=i,a=0;a<j;++a){x=e[a];if(x>=o&&x<h){h=x}}A=r+1;if(h-o>b((i-n)/A)){m("overflow")}n+=(h-o)*A;o=h;for(a=0;a<j;++a){x=e[a];if(x<o&&++n>i){m("overflow")}if(x==o){for(v=n,w=f;;w+=f){g=w<=c?u:w>=c+l?l:w-c;if(v<g){break}F=v-g;E=f-g;C.push(y(O(g+F%E,0)));v=b(F/E)}C.push(y(O(v,0)));c=k(n,A,r==t);n=0;++r}}++n;++o}return C.join("")}function L(e){return A(e,function(e){return h.test(e)?S(e.slice(4).toLowerCase()):e})}function M(e){return A(e,function(e){return v.test(e)?"xn--"+T(e):e})}t={version:"1.3.2",ucs2:{decode:I,encode:E},decode:S,encode:T,toASCII:M,toUnicode:L};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return t})}else if(o&&n){if(module.exports==o){n.exports=t}else{for(C in t){t.hasOwnProperty(C)&&(o[C]=t[C])}}}else{e.punycode=t}})(this);
},
	"sap/ui/thirdparty/require.js":function(){
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.8 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&navigator&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,i){if(e){var t;for(t=0;t<e.length;t+=1){if(e[t]&&i(e[t],t,e)){break}}}}function eachReverse(e,i){if(e){var t;for(t=e.length-1;t>-1;t-=1){if(e[t]&&i(e[t],t,e)){break}}}}function hasProp(e,i){return hasOwn.call(e,i)}function getOwn(e,i){return hasProp(e,i)&&e[i]}function eachProp(e,i){var t;for(t in e){if(hasProp(e,t)){if(i(e[t],t)){break}}}}function mixin(e,i,t,r){if(i){eachProp(i,function(i,n){if(t||!hasProp(e,n)){if(r&&typeof i!=="string"){if(!e[n]){e[n]={}}mixin(e[n],i,t,r)}else{e[n]=i}}})}return e}function bind(e,i){return function(){return i.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e){return e}var i=global;each(e.split("."),function(e){i=i[e]});return i}function makeError(e,i,t,r){var n=new Error(i+"\nhttp://requirejs.org/docs/errors.html#"+e);n.requireType=e;n.requireModules=r;if(t){n.originalError=t}return n}if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(e){var i,t,r,n,a,s={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},o={},f={},u={},c=[],p={},l={},d=1,h=1;function m(e){var i,t;for(i=0;e[i];i+=1){t=e[i];if(t==="."){e.splice(i,1);i-=1}else if(t===".."){if(i===1&&(e[2]===".."||e[0]==="..")){break}else if(i>0){e.splice(i-1,2);i-=2}}}}function g(e,i,t){var r,n,a,o,f,u,c,p,l,d,h,g=i&&i.split("/"),x=g,b=s.map,v=b&&b["*"];if(e&&e.charAt(0)==="."){if(i){if(getOwn(s.pkgs,i)){x=g=[i]}else{x=g.slice(0,g.length-1)}e=x.concat(e.split("/"));m(e);n=getOwn(s.pkgs,r=e[0]);e=e.join("/");if(n&&e===r+"/"+n.main){e=r}}else if(e.indexOf("./")===0){e=e.substring(2)}}if(t&&b&&(g||v)){o=e.split("/");for(f=o.length;f>0;f-=1){c=o.slice(0,f).join("/");if(g){for(u=g.length;u>0;u-=1){a=getOwn(b,g.slice(0,u).join("/"));if(a){a=getOwn(a,c);if(a){p=a;l=f;break}}}}if(p){break}if(!d&&v&&getOwn(v,c)){d=getOwn(v,c);h=f}}if(!p&&d){p=d;l=h}if(p){o.splice(0,l,p);e=o.join("/")}}return e}function x(e){if(isBrowser){each(scripts(),function(i){if(i.getAttribute("data-requiremodule")===e&&i.getAttribute("data-requirecontext")===r.contextName){i.parentNode.removeChild(i);return true}})}}function b(e){var i=getOwn(s.paths,e);if(i&&isArray(i)&&i.length>1){x(e);i.shift();r.require.undef(e);r.require([e]);return true}}function v(e){var i,t=e?e.indexOf("!"):-1;if(t>-1){i=e.substring(0,t);e=e.substring(t+1,e.length)}return[i,e]}function q(e,i,t,n){var a,s,o,f,u=null,c=i?i.name:null,l=e,m=true,x="";if(!e){m=false;e="_@r"+(d+=1)}f=v(e);u=f[0];e=f[1];if(u){u=g(u,c,n);s=getOwn(p,u)}if(e){if(u){if(s&&s.normalize){x=s.normalize(e,function(e){return g(e,c,n)})}else{x=g(e,c,n)}}else{x=g(e,c,n);f=v(x);u=f[0];x=f[1];t=true;a=r.nameToUrl(x)}}o=u&&!s&&!t?"_unnormalized"+(h+=1):"";return{prefix:u,name:x,parentMap:i,unnormalized:!!o,url:a,originalName:l,isDefine:m,id:(u?u+"!"+x:x)+o}}function E(e){var i=e.id,t=getOwn(o,i);if(!t){t=o[i]=new r.Module(e)}return t}function w(e,i,t){var r=e.id,n=getOwn(o,r);if(hasProp(p,r)&&(!n||n.defineEmitComplete)){if(i==="defined"){t(p[r])}}else{n=E(e);if(n.error&&i==="error"){t(n.error)}else{n.on(i,t)}}}function y(e,i){var t=e.requireModules,r=false;if(i){i(e)}else{each(t,function(i){var t=getOwn(o,i);if(t){t.error=e;if(t.events.error){r=true;t.emit("error",e)}}});if(!r){req.onError(e)}}}function k(){if(globalDefQueue.length){apsp.apply(c,[c.length-1,0].concat(globalDefQueue));globalDefQueue=[]}}n={require:function(e){if(e.require){return e.require}else{return e.require=r.makeRequire(e.map)}},exports:function(e){e.usingExports=true;if(e.map.isDefine){if(e.exports){return e.exports}else{return e.exports=p[e.map.id]={}}}},module:function(e){if(e.module){return e.module}else{return e.module={id:e.map.id,uri:e.map.url,config:function(){var i,t=getOwn(s.pkgs,e.map.id);i=t?getOwn(s.config,e.map.id+"/"+t.main):getOwn(s.config,e.map.id);return i||{}},exports:p[e.map.id]}}}};function S(e){delete o[e];delete f[e]}function O(e,i,t){var r=e.map.id;if(e.error){e.emit("error",e.error)}else{i[r]=true;each(e.depMaps,function(r,n){var a=r.id,s=getOwn(o,a);if(s&&!e.depMatched[n]&&!t[a]){if(getOwn(i,a)){e.defineDep(n,p[a]);e.check()}else{O(s,i,t)}}});t[r]=true}}function M(){var e,t,n,o,u=s.waitSeconds*1e3,c=u&&r.startTime+u<(new Date).getTime(),p=[],l=[],d=false,h=true;if(i){return}i=true;eachProp(f,function(i){e=i.map;t=e.id;if(!i.enabled){return}if(!e.isDefine){l.push(i)}if(!i.error){if(!i.inited&&c){if(b(t)){o=true;d=true}else{p.push(t);x(t)}}else if(!i.inited&&i.fetched&&e.isDefine){d=true;if(!e.prefix){return h=false}}}});if(c&&p.length){n=makeError("timeout","Load timeout for modules: "+p,null,p);n.contextName=r.contextName;return y(n)}if(h){each(l,function(e){O(e,{},{})})}if((!c||o)&&d){if((isBrowser||isWebWorker)&&!a){a=setTimeout(function(){a=0;M()},50)}}i=false}t=function(e){this.events=getOwn(u,e.id)||{};this.map=e;this.shim=getOwn(s.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};t.prototype={init:function(e,i,t,r){r=r||{};if(this.inited){return}this.factory=i;if(t){this.on("error",t)}else if(this.events.error){t=bind(this,function(e){this.emit("error",e)})}this.depMaps=e&&e.slice(0);this.errback=t;this.inited=true;this.ignore=r.ignore;if(r.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(e,i){if(!this.depMatched[e]){this.depMatched[e]=true;this.depCount-=1;this.depExports[e]=i}},fetch:function(){if(this.fetched){return}this.fetched=true;r.startTime=(new Date).getTime();var e=this.map;if(this.shim){r.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}else{return e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;if(!l[e]){l[e]=true;r.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling){return}var e,i,t=this.map.id,n=this.depExports,a=this.exports,s=this.factory;if(!this.inited){this.fetch()}else if(this.error){this.emit("error",this.error)}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError){try{a=r.execCb(t,s,n,a)}catch(i){e=i}}else{a=r.execCb(t,s,n,a)}if(this.map.isDefine){i=this.module;if(i&&i.exports!==undefined&&i.exports!==this.exports){a=i.exports}else if(a===undefined&&this.usingExports){a=this.exports}}if(e){e.requireMap=this.map;e.requireModules=this.map.isDefine?[this.map.id]:null;e.requireType=this.map.isDefine?"define":"require";return y(this.error=e)}}else{a=s}this.exports=a;if(this.map.isDefine&&!this.ignore){p[t]=a;if(req.onResourceLoad){req.onResourceLoad(r,this.map,this.depMaps)}}S(t);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}},callPlugin:function(){var e=this.map,i=e.id,t=q(e.prefix);this.depMaps.push(t);w(t,"defined",bind(this,function(t){var n,a,f,u=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,p=r.makeRequire(e.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(t.normalize){u=t.normalize(u,function(e){return g(e,c,true)})||""}a=q(e.prefix+"!"+u,this.map.parentMap);w(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:true,ignore:true})}));f=getOwn(o,a.id);if(f){this.depMaps.push(a);if(this.events.error){f.on("error",bind(this,function(e){this.emit("error",e)}))}f.enable()}return}n=bind(this,function(e){this.init([],function(){return e},null,{enabled:true})});n.error=bind(this,function(e){this.inited=true;this.error=e;e.requireModules=[i];eachProp(o,function(e){if(e.map.id.indexOf(i+"_unnormalized")===0){S(e.map.id)}});y(e)});n.fromText=bind(this,function(t,a){var o=e.name,f=q(o),u=useInteractive;if(a){t=a}if(u){useInteractive=false}E(f);if(hasProp(s.config,i)){s.config[o]=s.config[i]}try{req.exec(t)}catch(e){return y(makeError("fromtexteval","fromText eval for "+i+" failed: "+e,e,[i]))}if(u){useInteractive=true}this.depMaps.push(f);r.completeLoad(o);p([o],n)});t.load(e.name,p,n,s)}));r.enable(t,this);this.pluginMaps[t.id]=t},enable:function(){f[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(e,i){var t,a,s;if(typeof e==="string"){e=q(e,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[i]=e;s=getOwn(n,e.id);if(s){this.depExports[i]=s(this);return}this.depCount+=1;w(e,"defined",bind(this,function(e){this.defineDep(i,e);this.check()}));if(this.errback){w(e,"error",bind(this,this.errback))}}t=e.id;a=o[t];if(!hasProp(n,t)&&a&&!a.enabled){r.enable(e,this)}}));eachProp(this.pluginMaps,bind(this,function(e){var i=getOwn(o,e.id);if(i&&!i.enabled){r.enable(e,this)}}));this.enabling=false;this.check()},on:function(e,i){var t=this.events[e];if(!t){t=this.events[e]=[]}t.push(i)},emit:function(e,i){each(this.events[e],function(e){e(i)});if(e==="error"){delete this.events[e]}}};function j(e){if(!hasProp(p,e[0])){E(q(e[0],null,true)).init(e[1],e[2])}}function P(e,i,t,r){if(e.detachEvent&&!isOpera){if(r){e.detachEvent(r,i)}}else{e.removeEventListener(t,i,false)}}function A(e){var i=e.currentTarget||e.srcElement;P(i,r.onScriptLoad,"load","onreadystatechange");P(i,r.onScriptError,"error");return{node:i,id:i&&i.getAttribute("data-requiremodule")}}function R(){var e;k();while(c.length){e=c.shift();if(e[0]===null){return y(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]))}else{j(e)}}}r={config:s,contextName:e,registry:o,defined:p,urlFetched:l,defQueue:c,Module:t,makeModuleMap:q,nextTick:req.nextTick,onError:y,configure:function(e){if(e.baseUrl){if(e.baseUrl.charAt(e.baseUrl.length-1)!=="/"){e.baseUrl+="/"}}var i=s.pkgs,t=s.shim,n={paths:true,config:true,map:true};eachProp(e,function(e,i){if(n[i]){if(i==="map"){if(!s.map){s.map={}}mixin(s[i],e,true,true)}else{mixin(s[i],e,true)}}else{s[i]=e}});if(e.shim){eachProp(e.shim,function(e,i){if(isArray(e)){e={deps:e}}if((e.exports||e.init)&&!e.exportsFn){e.exportsFn=r.makeShimExports(e)}t[i]=e});s.shim=t}if(e.packages){each(e.packages,function(e){var t;e=typeof e==="string"?{name:e}:e;t=e.location;i[e.name]={name:e.name,location:t||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}});s.pkgs=i}eachProp(o,function(e,i){if(!e.inited&&!e.map.unnormalized){e.map=q(i)}});if(e.deps||e.callback){r.require(e.deps||[],e.callback)}},makeShimExports:function(e){function i(){var i;if(e.init){i=e.init.apply(global,arguments)}return i||e.exports&&getGlobal(e.exports)}return i},makeRequire:function(i,t){t=t||{};function a(s,f,u){var c,l,d;if(t.enableBuildCallback&&f&&isFunction(f)){f.__requireJsBuild=true}if(typeof s==="string"){if(isFunction(f)){return y(makeError("requireargs","Invalid require call"),u)}if(i&&hasProp(n,s)){return n[s](o[i.id])}if(req.get){return req.get(r,s,i,a)}l=q(s,i,false,true);c=l.id;if(!hasProp(p,c)){return y(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(i?"":". Use require([])")))}return p[c]}R();r.nextTick(function(){R();d=E(q(null,i));d.skipMap=t.skipMap;d.init(s,f,u,{enabled:true});M()});return a}mixin(a,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),a=e.split("/")[0],s=a==="."||a==="..";if(n!==-1&&(!s||n>1)){t=e.substring(n,e.length);e=e.substring(0,n)}return r.nameToUrl(g(e,i&&i.id,true),t,true)},defined:function(e){return hasProp(p,q(e,i,false,true).id)},specified:function(e){e=q(e,i,false,true).id;return hasProp(p,e)||hasProp(o,e)}});if(!i){a.undef=function(e){k();var t=q(e,i,true),r=getOwn(o,e);delete p[e];delete l[t.url];delete u[e];if(r){if(r.events.defined){u[e]=r.events}S(e)}}}return a},enable:function(e){var i=getOwn(o,e.id);if(i){E(e).enable()}},completeLoad:function(e){var i,t,r,n=getOwn(s.shim,e)||{},a=n.exports;k();while(c.length){t=c.shift();if(t[0]===null){t[0]=e;if(i){break}i=true}else if(t[0]===e){i=true}j(t)}r=getOwn(o,e);if(!i&&!hasProp(p,e)&&r&&!r.inited){if(s.enforceDefine&&(!a||!getGlobal(a))){if(b(e)){return}else{return y(makeError("nodefine","No define call for "+e,null,[e]))}}else{j([e,n.deps||[],n.exportsFn])}}M()},nameToUrl:function(e,i,t){var r,n,a,o,f,u,c,p,l;if(req.jsExtRegExp.test(e)){p=e+(i||"")}else{r=s.paths;n=s.pkgs;f=e.split("/");for(u=f.length;u>0;u-=1){c=f.slice(0,u).join("/");a=getOwn(n,c);l=getOwn(r,c);if(l){if(isArray(l)){l=l[0]}f.splice(0,u,l);break}else if(a){if(e===a.name){o=a.location+"/"+a.main}else{o=a.location}f.splice(0,u,o);break}}p=f.join("/");p+=i||(/\?/.test(p)||t?"":".js");p=(p.charAt(0)==="/"||p.match(/^[\w\+\.\-]+:/)?"":s.baseUrl)+p}return s.urlArgs?p+((p.indexOf("?")===-1?"?":"&")+s.urlArgs):p},load:function(e,i){req.load(r,e,i)},execCb:function(e,i,t,r){return i.apply(r,t)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var i=A(e);r.completeLoad(i.id)}},onScriptError:function(e){var i=A(e);if(!b(i.id)){return y(makeError("scripterror","Script error for: "+i.id,e,[i.id]))}}};r.require=r.makeRequire();return r}req=requirejs=function(e,i,t,r){var n,a,s=defContextName;if(!isArray(e)&&typeof e!=="string"){a=e;if(isArray(i)){e=i;i=t;t=r}else{e=[]}}if(a&&a.context){s=a.context}n=getOwn(contexts,s);if(!n){n=contexts[s]=req.s.newContext(s)}if(a){n.configure(a)}return n.require(e,i,t)};req.config=function(e){return req(e)};req.nextTick=typeof setTimeout!=="undefined"?function(e){setTimeout(e,4)}:function(e){e()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var i=contexts[defContextName];return i.require[e].apply(i,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(e,i,t){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");r.type=e.scriptType||"text/javascript";r.charset="utf-8";r.async=true;return r};req.load=function(e,i,t){var r=e&&e.config||{},n;if(isBrowser){n=req.createNode(r,i,t);n.setAttribute("data-requirecontext",e.contextName);n.setAttribute("data-requiremodule",i);if(n.attachEvent&&!(n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;n.attachEvent("onreadystatechange",e.onScriptLoad)}else{n.addEventListener("load",e.onScriptLoad,false);n.addEventListener("error",e.onScriptError,false)}n.src=t;currentlyAddingScript=n;if(baseElement){head.insertBefore(n,baseElement)}else{head.appendChild(n)}currentlyAddingScript=null;return n}else if(isWebWorker){try{importScripts(t);e.completeLoad(i)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+i+" at "+t,r,[i]))}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(e){if(e.readyState==="interactive"){return interactiveScript=e}});return interactiveScript}if(isBrowser){eachReverse(scripts(),function(e){if(!head){head=e.parentNode}dataMain=e.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(e,i,t){var r,n;if(typeof e!=="string"){t=i;i=e;e=null}if(!isArray(i)){t=i;i=null}if(!i&&isFunction(t)){i=[];if(t.length){t.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,t){i.push(t)});i=(t.length===1?["require"]:["require","exports","module"]).concat(i)}}if(useInteractive){r=currentlyAddingScript||getInteractiveScript();if(r){if(!e){e=r.getAttribute("data-requiremodule")}n=contexts[r.getAttribute("data-requirecontext")]}}(n?n.defQueue:globalDefQueue).push([e,i,t])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(this);
this.requirejs=requirejs;
this.require=require;
this.define=define;
},
	"sap/ui/thirdparty/vkbeautify.js":function(){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Version - 0.99.00.beta
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
(function(){function e(e){var r="    ";if(isNaN(parseInt(e))){r=e}else{switch(e){case 1:r=" ";break;case 2:r="  ";break;case 3:r="   ";break;case 4:r="    ";break;case 5:r="     ";break;case 6:r="      ";break;case 7:r="       ";break;case 8:r="        ";break;case 9:r="         ";break;case 10:r="          ";break;case 11:r="           ";break;case 12:r="            ";break}}var a=["\n"];for(var c=0;c<100;c++){a.push(a[c]+r)}return a}function r(){this.step="    ";this.shift=e(this.step)}r.prototype.xml=function(r,a){var c=r.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),s=c.length,l=false,i=0,p="",n=0,t=a?e(a):this.shift;for(n=0;n<s;n++){if(c[n].search(/<!/)>-1){p+=t[i]+c[n];l=true;if(c[n].search(/-->/)>-1||c[n].search(/\]>/)>-1||c[n].search(/!DOCTYPE/)>-1){l=false}}else if(c[n].search(/-->/)>-1||c[n].search(/\]>/)>-1){p+=c[n];l=false}else if(/^<\w/.exec(c[n-1])&&/^<\/\w/.exec(c[n])&&/^<[\w:\-\.\,]+/.exec(c[n-1])==/^<\/[\w:\-\.\,]+/.exec(c[n])[0].replace("/","")){p+=c[n];if(!l)i--}else if(c[n].search(/<\w/)>-1&&c[n].search(/<\//)==-1&&c[n].search(/\/>/)==-1){p=!l?p+=t[i++]+c[n]:p+=c[n]}else if(c[n].search(/<\w/)>-1&&c[n].search(/<\//)>-1){p=!l?p+=t[i]+c[n]:p+=c[n]}else if(c[n].search(/<\//)>-1){p=!l?p+=t[--i]+c[n]:p+=c[n]}else if(c[n].search(/\/>/)>-1){p=!l?p+=t[i]+c[n]:p+=c[n]}else if(c[n].search(/<\?/)>-1){p+=t[i]+c[n]}else if(c[n].search(/xmlns\:/)>-1||c[n].search(/xmlns\=/)>-1){p+=t[i]+c[n]}else{p+=c[n]}}return p[0]=="\n"?p.slice(1):p};r.prototype.json=function(e,r){var r=r?r:this.step;if(typeof JSON==="undefined")return e;if(typeof e==="string")return JSON.stringify(JSON.parse(e),null,r);if(typeof e==="object")return JSON.stringify(e,null,r);return e};r.prototype.css=function(r,a){var c=r.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),s=c.length,l=0,i="",p=0,n=a?e(a):this.shift;for(p=0;p<s;p++){if(/\{/.exec(c[p])){i+=n[l++]+c[p]}else if(/\}/.exec(c[p])){i+=n[--l]+c[p]}else if(/\*\\/.exec(c[p])){i+=n[l]+c[p]}else{i+=n[l]+c[p]}}return i.replace(/^\n{1,}/,"")};function a(e,r){return r-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function c(e,r){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+r+r+"AND ").replace(/ BETWEEN /gi,"~::~"+r+"BETWEEN ").replace(/ CASE /gi,"~::~"+r+"CASE ").replace(/ ELSE /gi,"~::~"+r+"ELSE ").replace(/ END /gi,"~::~"+r+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+r+"ON ").replace(/ OR /gi,"~::~"+r+r+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+r+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+r+"").replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+r+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.sql=function(r,s){var l=r.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),i=l.length,p=[],n=0,t=this.step,g=true,f=false,E=0,N="",o=0,S=s?e(s):this.shift;for(o=0;o<i;o++){if(o%2){p=p.concat(l[o])}else{p=p.concat(c(l[o],t))}}i=p.length;for(o=0;o<i;o++){E=a(p[o],E);if(/\s{0,}\s{0,}SELECT\s{0,}/.exec(p[o])){p[o]=p[o].replace(/\,/g,",\n"+t+t+"")}if(/\s{0,}\s{0,}SET\s{0,}/.exec(p[o])){p[o]=p[o].replace(/\,/g,",\n"+t+t+"")}if(/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(p[o])){n++;N+=S[n]+p[o]}else if(/\'/.exec(p[o])){if(E<1&&n){n--}N+=p[o]}else{N+=S[n]+p[o];if(E<1&&n){n--}}var u=0}N=N.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n");return N};r.prototype.xmlmin=function(e,r){var a=r?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return a.replace(/>\s{0,}</g,"><")};r.prototype.jsonmin=function(e){if(typeof JSON==="undefined")return e;return JSON.stringify(JSON.parse(e),null,0)};r.prototype.cssmin=function(e,r){var a=r?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"");return a.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")};r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};window.vkbeautify=new r})();
},
	"sap/ui/thirdparty/zyngascroll.js":function(){
/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 *
 * Inspired by: https://github.com/inexorabletash/raf-shim/blob/master/raf.js
 */
(function(e){if(e.requestAnimationFrame){return}var t=Date.now||function(){return+new Date};var i=Object.keys||function(e){var t={};for(var i in e){t[i]=true}return t};var o=Object.empty||function(e){for(var t in e){return false}return true};var _="RequestAnimationFrame";var l=function(){var t="webkit,moz,o,ms".split(",");for(var i=0;i<4;i++){if(e[t[i]+_]!=null){return t[i]}}}();if(l){e.requestAnimationFrame=e[l+_];e.cancelRequestAnimationFrame=e[l+"Cancel"+_];return}var r=60;var a={};var n=1;var c=null;e.requestAnimationFrame=function(e,o){var _=n++;a[_]=e;if(c===null){c=setTimeout(function(){var e=t();var o=a;var _=i(o);a={};c=null;for(var l=0,r=_.length;l<r;l++){o[_[l]](e)}},1e3/r)}return _};e.cancelRequestAnimationFrame=function(e){delete a[e];if(o(a)){clearTimeout(c);c=null}}})(this);
/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 */(function(e){var t=Date.now||function(){return+new Date};var i=60;var o=1e3;var _={};var l=1;if(!e.core){e.core={effect:{}}}else if(!core.effect){core.effect={}}core.effect.Animate={stop:function(e){var t=_[e]!=null;if(t){_[e]=null}return t},isRunning:function(e){return _[e]!=null},start:function(e,r,a,n,c,s){var f=t();var u=f;var h=0;var v=0;var p=l++;if(!s){s=document.body}if(p%20===0){var m={};for(var g in _){m[g]=true}_=m}var T=function(l){var m=l!==true;var g=t();if(!_[p]||r&&!r(p)){_[p]=null;a&&a(i-v/((g-f)/o),p,false);return}if(m){var d=Math.round((g-u)/(o/i))-1;for(var S=0;S<Math.min(d,4);S++){T(true);v++}}if(n){h=(g-f)/n;if(h>1){h=1}}var L=c?c(h):h;if((e(L,g,m)===false||h===1)&&m){_[p]=null;a&&a(i-v/((g-f)/o),p,h===1||n==null)}else if(m){u=g;requestAnimationFrame(T,s)}};_[p]=true;requestAnimationFrame(T,s);return p}}})(this);
/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 */var Scroller;(function(){Scroller=function(e,t){this.__callback=e;this.options={scrollingX:true,scrollingY:true,animating:true,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:.5,maxZoom:3};for(var i in t){this.options[i]=t[i]}};
// Easing Equations (c) 2003 Robert Penner, all rights reserved.
// Open source under the BSD License.
var e=function(e){return Math.pow(e-1,3)+1};var t=function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)};var i={__isSingleTouch:false,__isTracking:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,i,o){var _=this;if(e){_.__clientWidth=e}if(t){_.__clientHeight=t}if(i){_.__contentWidth=i}if(o){_.__contentHeight=o}_.__computeScrollMax();_.scrollTo(_.__scrollLeft,_.__scrollTop,true)},setPosition:function(e,t){var i=this;i.__clientLeft=e||0;i.__clientTop=t||0},setSnapSize:function(e,t){var i=this;i.__snapWidth=e;i.__snapHeight=t},activatePullToRefresh:function(e,t,i,o){var _=this;_.__refreshHeight=e;_.__refreshActivate=t;_.__refreshDeactivate=i;_.__refreshStart=o},finishPullToRefresh:function(){var e=this;e.__refreshActive=false;if(e.__refreshDeactivate){e.__refreshDeactivate()}e.scrollTo(e.__scrollLeft,e.__scrollTop,true)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,i,o){var _=this;if(!_.options.zooming){throw new Error("Zooming is not enabled!")}if(_.__isDecelerating){core.effect.Animate.stop(_.__isDecelerating);_.__isDecelerating=false}var l=_.__zoomLevel;if(i==null){i=_.__clientWidth/2}if(o==null){o=_.__clientHeight/2}e=Math.max(Math.min(e,_.options.maxZoom),_.options.minZoom);_.__computeScrollMax(e);var r=(i+_.__scrollLeft)*e/l-i;var a=(o+_.__scrollTop)*e/l-o;if(r>_.__maxScrollLeft){r=_.__maxScrollLeft}else if(r<0){r=0}if(a>_.__maxScrollTop){a=_.__maxScrollTop}else if(a<0){a=0}_.__publish(r,a,e,t)},zoomBy:function(e,t,i,o){var _=this;_.zoomTo(_.__zoomLevel*e,t,i,o)},scrollTo:function(e,t,i,o){var _=this;if(_.__isDecelerating){core.effect.Animate.stop(_.__isDecelerating);_.__isDecelerating=false}if(o!=null&&o!==_.__zoomLevel){if(!_.options.zooming){throw new Error("Zooming is not enabled!")}e*=o;t*=o;_.__computeScrollMax(o)}else{o=_.__zoomLevel}if(!_.options.scrollingX){e=_.__scrollLeft}else{if(_.options.paging){e=Math.round(e/_.__clientWidth)*_.__clientWidth}else if(_.options.snapping){e=Math.round(e/_.__snapWidth)*_.__snapWidth}}if(!_.options.scrollingY){t=_.__scrollTop}else{if(_.options.paging){t=Math.round(t/_.__clientHeight)*_.__clientHeight}else if(_.options.snapping){t=Math.round(t/_.__snapHeight)*_.__snapHeight}}e=Math.max(Math.min(_.__maxScrollLeft,e),0);t=Math.max(Math.min(_.__maxScrollTop,t),0);if(e===_.__scrollLeft&&t===_.__scrollTop){i=false}_.__publish(e,t,o,i)},scrollBy:function(e,t,i){var o=this;var _=o.__isAnimating?o.__scheduledLeft:o.__scrollLeft;var l=o.__isAnimating?o.__scheduledTop:o.__scrollTop;o.scrollTo(_+(e||0),l+(t||0),i)},doMouseZoom:function(e,t,i,o){var _=this;var l=e>0?.97:1.03;return _.zoomTo(_.__zoomLevel*l,false,i-_.__clientLeft,o-_.__clientTop)},doTouchStart:function(e,t){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var i=this;if(i.__isDecelerating){core.effect.Animate.stop(i.__isDecelerating);i.__isDecelerating=false}if(i.__isAnimating){core.effect.Animate.stop(i.__isAnimating);i.__isAnimating=false}var o,_;var l=e.length===1;if(l){o=e[0].pageX;_=e[0].pageY}else{o=Math.abs(e[0].pageX+e[1].pageX)/2;_=Math.abs(e[0].pageY+e[1].pageY)/2}i.__initialTouchLeft=o;i.__initialTouchTop=_;i.__zoomLevelStart=i.__zoomLevel;i.__lastTouchLeft=o;i.__lastTouchTop=_;i.__lastTouchMove=t;i.__lastScale=1;i.__enableScrollX=!l&&i.options.scrollingX;i.__enableScrollY=!l&&i.options.scrollingY;i.__isTracking=true;i.__isDragging=!l;i.__isSingleTouch=l;i.__positions=[]},doTouchMove:function(e,t,i){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var o=this;if(!o.__isTracking){return}var _,l;if(e.length===2){_=Math.abs(e[0].pageX+e[1].pageX)/2;l=Math.abs(e[0].pageY+e[1].pageY)/2}else{_=e[0].pageX;l=e[0].pageY}var r=o.__positions;if(o.__isDragging){var a=_-o.__lastTouchLeft;var n=l-o.__lastTouchTop;var c=o.__scrollLeft;var s=o.__scrollTop;var f=o.__zoomLevel;if(i!=null&&o.options.zooming){var u=f;f=f/o.__lastScale*i;f=Math.max(Math.min(f,o.options.maxZoom),o.options.minZoom);if(u!==f){var h=_-o.__clientLeft;var v=l-o.__clientTop;c=(h+c)*f/u-h;s=(v+s)*f/u-v;o.__computeScrollMax(f)}}if(o.__enableScrollX){c-=a;var p=o.__maxScrollLeft;if(c>p||c<0){if(o.options.bouncing){c+=a/2}else if(c>p){c=p}else{c=0}}}if(o.__enableScrollY){s-=n;var m=o.__maxScrollTop;if(s>m||s<0){if(o.options.bouncing){s+=n/2;if(!o.__enableScrollX&&o.__refreshHeight!=null){if(!o.__refreshActive&&s<=-o.__refreshHeight){o.__refreshActive=true;if(o.__refreshActivate){o.__refreshActivate()}}else if(o.__refreshActive&&s>-o.__refreshHeight){o.__refreshActive=false;if(o.__refreshDeactivate){o.__refreshDeactivate()}}}}else if(s>m){s=m}else{s=0}}}if(r.length>60){r.splice(0,30)}r.push(c,s,t);o.__publish(c,s,f)}else{var g=o.options.locking?3:0;var T=5;var d=Math.abs(_-o.__initialTouchLeft);var S=Math.abs(l-o.__initialTouchTop);o.__enableScrollX=o.options.scrollingX&&d>=g;o.__enableScrollY=o.options.scrollingY&&S>=g;r.push(o.__scrollLeft,o.__scrollTop,t);o.__isDragging=(o.__enableScrollX||o.__enableScrollY)&&(d>=T||S>=T)}o.__lastTouchLeft=_;o.__lastTouchTop=l;o.__lastTouchMove=t;o.__lastScale=i},doTouchEnd:function(e){if(e instanceof Date){e=e.valueOf()}if(typeof e!=="number"){throw new Error("Invalid timestamp value: "+e)}var t=this;if(!t.__isTracking){return}t.__isTracking=false;if(t.__isDragging){t.__isDragging=false;if(t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){var i=t.__positions;var o=i.length-1;var _=o;for(var l=o;l>0&&i[l]>t.__lastTouchMove-100;l-=3){_=l}if(_!==o){var r=i[o]-i[_];var a=t.__scrollLeft-i[_-2];var n=t.__scrollTop-i[_-1];t.__decelerationVelocityX=a/r*(1e3/60);t.__decelerationVelocityY=n/r*(1e3/60);var c=t.options.paging||t.options.snapping?4:1;if(Math.abs(t.__decelerationVelocityX)>c||Math.abs(t.__decelerationVelocityY)>c){if(!t.__refreshActive){t.__startDeceleration(e)}}}}}if(!t.__isDecelerating){if(t.__refreshActive&&t.__refreshStart){t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,true);if(t.__refreshStart){t.__refreshStart()}}else{t.scrollTo(t.__scrollLeft,t.__scrollTop,true,t.__zoomLevel);if(t.__refreshActive){t.__refreshActive=false;if(t.__refreshDeactivate){t.__refreshDeactivate()}}}}t.__positions.length=0},__publish:function(i,o,_,l){var r=this;var a=r.__isAnimating;if(a){core.effect.Animate.stop(a);r.__isAnimating=false}if(l&&r.options.animating){r.__scheduledLeft=i;r.__scheduledTop=o;r.__scheduledZoom=_;var n=r.__scrollLeft;var c=r.__scrollTop;var s=r.__zoomLevel;var f=i-n;var u=o-c;var h=_-s;var v=function(e,t,i){if(i){r.__scrollLeft=n+f*e;r.__scrollTop=c+u*e;r.__zoomLevel=s+h*e;if(r.__callback){r.__callback(r.__scrollLeft,r.__scrollTop,r.__zoomLevel)}}};var p=function(e){return r.__isAnimating===e};var m=function(e,t,i){if(t===r.__isAnimating){r.__isAnimating=false}if(r.options.zooming){r.__computeScrollMax()}};r.__isAnimating=core.effect.Animate.start(v,p,m,250,a?e:t)}else{r.__scheduledLeft=r.__scrollLeft=i;r.__scheduledTop=r.__scrollTop=o;r.__scheduledZoom=r.__zoomLevel=_;if(r.__callback){r.__callback(i,o,_)}if(r.options.zooming){r.__computeScrollMax()}}},__computeScrollMax:function(e){var t=this;if(e==null){e=t.__zoomLevel}t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0);t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var i=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0);var o=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0);var _=t.__clientWidth;var l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(i/_)*_;t.__minDecelerationScrollTop=Math.floor(o/l)*l;t.__maxDecelerationScrollLeft=Math.ceil(i/_)*_;t.__maxDecelerationScrollTop=Math.ceil(o/l)*l}else{t.__minDecelerationScrollLeft=0;t.__minDecelerationScrollTop=0;t.__maxDecelerationScrollLeft=t.__maxScrollLeft;t.__maxDecelerationScrollTop=t.__maxScrollTop}var r=function(e,i,o){t.__stepThroughDeceleration(o)};var a=t.options.snapping?4:.1;var n=function(){return Math.abs(t.__decelerationVelocityX)>=a||Math.abs(t.__decelerationVelocityY)>=a};var c=function(e,i,o){t.__isDecelerating=false;t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(r,n,c)},__stepThroughDeceleration:function(e){var t=this;var i=t.__scrollLeft+t.__decelerationVelocityX;var o=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var _=Math.max(Math.min(t.__maxScrollLeft,i),0);if(_!==i){i=_;t.__decelerationVelocityX=0}var l=Math.max(Math.min(t.__maxScrollTop,o),0);if(l!==o){o=l;t.__decelerationVelocityY=0}}if(e){t.__publish(i,o,t.__zoomLevel)}else{t.__scrollLeft=i;t.__scrollTop=o}if(!t.options.paging){var r=.95;t.__decelerationVelocityX*=r;t.__decelerationVelocityY*=r}if(t.options.bouncing){var a=0;var n=0;var c=.03;var s=.08;if(i<t.__minDecelerationScrollLeft){a=t.__minDecelerationScrollLeft-i}else if(i>t.__maxDecelerationScrollLeft){a=t.__maxDecelerationScrollLeft-i}if(o<t.__minDecelerationScrollTop){n=t.__minDecelerationScrollTop-o}else if(o>t.__maxDecelerationScrollTop){n=t.__maxDecelerationScrollTop-o}if(a!==0){if(a*t.__decelerationVelocityX<=0){t.__decelerationVelocityX+=a*c}else{t.__decelerationVelocityX=a*s}}if(n!==0){if(n*t.__decelerationVelocityY<=0){t.__decelerationVelocityY+=n*c}else{t.__decelerationVelocityY=n*s}}}}};for(var o in i){Scroller.prototype[o]=i[o]}})();
this.Scroller=Scroller;
},
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.view.js":function(){
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.require(["sap/ca/ui/model/format/NumberFormat","sap/ui/model/analytics/odata4analytics","sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil","sap/suite/ui/commons/HarveyBallMicroChart","sap/suite/ui/commons/HarveyBallMicroChartItem","sap/suite/ui/commons/TileContent","sap/suite/ui/commons/GenericTile"],(e,a,i,t,s,o,l)=>{"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorHarveyBall.HarveyBallTile",{getControllerName:function(){},createContent:function(){const e=new t({total:"{/value}",size:"{/size}",totalLabel:"{/totalLabel}",items:[new s({fraction:"{/fractionValue}",fractionLabel:"{/fractionLabel}",color:"{/color}"})]});const a=new o({size:"{/size}",content:e});this.oTile=new l({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[a]})}})});
},
	"sap/ushell/renderer/HeadEndItemsOverflowPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Popover\n        id="headEndItemsOverflow"\n        placement="Bottom"\n        showHeader="false"\n        showArrow="true"\n        class="sapUshellPopupContainer sapContrastPlus"\n        afterClose=".destroyHeadEndItemsOverflow"><content><List\n                id="headEndItemsOverflowList"\n                class="sapUshellPopoverList"\n                showSeparators="None"\n                items="{\n                    path: \'/headEndItems\',\n                    filters: {\n                        path: \'\',\n                        test: \'.isHeadEndItemInOverflow\'\n                    },\n                    factory: \'.headEndItemsOverflowItemFactory\'\n                }" /></content></Popover></core:FragmentDefinition>\n',
	"sap/ushell/renderer/allMyApps/AllMyApps.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.renderer.allMyApps.AllMyApps"\n    height="100%"><SplitApp\n        id="sapUshellAllMyAppsMasterDetail"\n        mode="{= ${configModel>/isPhoneWidth} ? \'ShowHideMode\' : \'StretchCompressMode\'}"><masterPages><Page id="sapUshellAllMyAppsMasterPage" showHeader="false"><landmarkInfo><PageAccessibleLandmarkInfo rootLabel="{i18n>allMyApps_CatalogsList}" /></landmarkInfo><List\n                    id="sapUshellAllMyAppsDataSourcesList"\n                    tooltip="{i18n>catalogSelect_tooltip}"\n                    rememberSelections="true"\n                    items="{allMyAppsModel>/AppsData}"\n                    showNoData="false"\n                    growingThreshold="100"\n                    mode="SingleSelectMaster"\n                    itemPress=".handleMasterListItemPress"\n                    selectionChange=".handleMasterListItemPress"><StandardListItem\n                        title="{allMyAppsModel>title}"\n                        wrapping="true"\n                        type="{\n                            parts: [\'allMyAppsModel>type\', \'configModel>/allMyAppsMasterLevel\'],\n                            formatter: \'.formatListItemType\'\n                        }" /></List></Page></masterPages><detailPages><Page id="sapUshellAllMyAppsDetailsPage" showHeader="false"><landmarkInfo><PageAccessibleLandmarkInfo rootLabel="{i18n>allMyApps_ListOfApps}" /></landmarkInfo><Title id="sapUshellAllMyAppsDetailsHeaderLabel" wrapping="true" class="sapUiSmallMarginTopBottom" /><ScrollContainer\n                    id="allMyAppsScrollContainer"\n                    horizontal="false"\n                    vertical="true"><List id="oItemsContainerlist" items="{allMyAppsModel>apps}"><StandardListItem\n                            title="{allMyAppsModel>title}"\n                            description="{allMyAppsModel>subTitle}"\n                            wrapping="true"\n                            type="Active"\n                            class="sapUshellAllMyAppsListItem"\n                            press=".onAppItemClick" /></List></ScrollContainer><VBox\n                    id="sapUshellAllMyAppsCustomPanel"\n                    visible="{= !!${allMyAppsModel>numberCustomTiles}}"\n                    class="sapUshellAllMyAppsCustomPanel"><Text id="sapUshellAllMyAppsCustomPanelLabel" text="{allMyAppsModel>sCustomLabel}" /><Link\n                        id="sapUshellAllMyAppsCustomPanelLink"\n                        visible="{allMyAppsModel>/catalogEnabled}"\n                        text="{allMyAppsModel>sCustomLink}"\n                        press=".handleCustomPanelLinkPress" /></VBox></Page><Page id="sapUshellAllMyAppsEmptyDetailsPage" showHeader="false" enableScrolling="false"><Label class="sapUshellAllMyAppsEmptyDetailsPageText" text="{i18n>AllMyAppsEmptyText}" textAlign="Center" /></Page></detailPages></SplitApp></mvc:View>\n',
	"sap/ushell/renderer/rendererTargetWrapper/RendererTarget.view.xml":'<mvc:View\n    xmlns="sap.ushell.renderer"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.renderer.rendererTargetWrapper.RendererTarget"\n    height="100%"><RendererAppContainer\n        id="appContainer"\n        childId="{/componentId}"\n        name="{/name}"\n        url="{/url}"\n        childDestroyed=".onChildDestroy" /></mvc:View>',
	"sap/ushell/ui/ContentNodeSelectorValueHelp.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:ushell="sap.ushell.ui"><Dialog\n        title="{= ${_internal>/isSpaces} ? ${_i18n>valueHelpDialogTitlePages} : ${_i18n>valueHelpDialogTitleGroups}}"\n        contentWidth="25rem"\n        stretch="{_device>/system/phone}"\n        horizontalScrolling="false"><subHeader><Toolbar><SearchField\n                    id="ContentNodesSearch"\n                    search="._onValueHelpSearch"\n                    width="100%"></SearchField></Toolbar></subHeader><content><Tree\n                id="ContentNodesTree"\n                items="{path: \'_internal>/items\', templateShareable: false}"\n                mode="MultiSelect"\n                includeItemInSelection="true"\n                rememberSelections="true"><items><ushell:ContentNodeTreeItem\n                        selectable="{_internal>isContainer}"\n                        title="{_internal>label}"\n                        selected="{_internal>selected}"/></items></Tree></content><beginButton><Button id="AddButton" text="{_i18n>valueHelpDialogButtonApply}" type="Emphasized" press="._onValueHelpBeginButtonPressed"/></beginButton><endButton><Button text="{_i18n>valueHelpDialogButtonCancel}" press="._onValueHelpEndButtonPressed"/></endButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/QuickAccess.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog\n        id="quickAccess"\n        class="sapContrastPlus"\n        title="{i18n>quickAccessDialog_title}"\n        verticalScrolling="false"\n        contentWidth="25rem"\n        draggable="true"\n        resizable="true"\n        stretch="{device>/system/phone}"><buttons><Button id="quickAccessCloseButton"\n                text="{i18n>closeBtn}"\n                press="._closeDialog"/></buttons><content><IconTabBar id="quickAccessIconTabBar"\n                class="sapUshellUserActionsMenuTabBar"\n                stretchContentHeight="true"\n                backgroundDesign="Transparent"\n                expandable="false"><items><IconTabFilter id="recentActivityFilter"\n                        text="{i18n>recentActivities}"><content><ScrollContainer horizontal="false" vertical="true" height="100%" width="100%"><List id="sapUshellActivityListrecentActivities"\n                                    showSeparators="None"\n                                    items="{/recentActivities}"\n                                    noDataText="{i18n>recentActivitiesNoDataText}"\n                                    itemPress="._itemPress"><items><StandardListItem\n                                            class="sapUshellQuickAccessListIcon"\n                                            type="Active"\n                                            title="{\n                                                parts: [\n                                                    {path:\'title\'},\n                                                    {path:\'appType\'}\n                                                ],\n                                                formatter:\'._titleFormatter\'\n                                            }"\n                                            description="{\n                                                parts: [\n                                                    {path:\'appType\'}\n                                                ],\n                                                formatter:\'._descriptionFormatter\'\n                                            }"\n                                            icon="{= ${icon} ? ${icon} : \'sap-icon://header\'}"\n                                            iconInset="false"\n                                            info="{timestamp}"/></items></List></ScrollContainer></content></IconTabFilter><IconTabFilter id="frequentlyUsedFilter"\n                        text="{i18n>frequentActivities}"><content><ScrollContainer horizontal="false" vertical="true" height="100%" width="100%"><List id="sapUshellActivityListfrequentActivities"\n                                      showSeparators="None"\n                                      items="{/frequentActivities}"\n                                      noDataText="{i18n>frequentActivitiesNoDataText}"\n                                      itemPress="._itemPress"><items><StandardListItem\n                                            class="sapUshellQuickAccessListIcon"\n                                            type="Active"\n                                            title="{\n                                                    parts: [\n                                                        {path:\'title\'},\n                                                        {path:\'appType\'}\n                                                    ],\n                                                    formatter:\'._titleFormatter\'\n                                                }"\n                                            description="{\n                                                    parts: [\n                                                        {path:\'appType\'}\n                                                    ],\n                                                formatter:\'._descriptionFormatter\'\n                                            }"\n                                            icon="{= ${icon} ? ${icon} : \'sap-icon://header\'}"\n                                            iconInset="false"/></items></List></ScrollContainer></content></IconTabFilter></items></IconTabBar></content></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/bookmark/SaveOnPage.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:ushell="sap.ushell.ui"\n    xmlns:layout="sap.ui.layout.form"\n    controllerName="sap.ushell.ui.bookmark.SaveOnPage"><VBox class="sapUiSmallMargin"><Label id="previewLbl" text="{i18n>previewFld}" visible="{/showPreview}" labelFor="saveAsTileHBox"/><FlexBox id="saveAsTileHBox" alignItems="Center" justifyContent="Center"\n                 class="sapUshellAddBookmarkTileBackground"><GenericTile header="{/title}" subheader="{/subtitle}" visible="{= !!${/serviceUrl}}" id="previewTileDynamic"\n                         pressEnabled="false"\n                         ariaLabel="{i18n>previewFld}" class="sapUiResponsiveMargin"><TileContent footer="{/info}" unit="{/numberUnit}"><NumericContent\n                        icon="{/icon}"\n                        value="{/numberValue}"\n                        width="100%"\n                        truncateValueTo="5"\n                        withMargin="false"/></TileContent></GenericTile><GenericTile header="{/title}" subheader="{/subtitle}" visible="{= !${/serviceUrl}}"\n                         pressEnabled="false"\n                         ariaLabel="{i18n>previewFld}" class="sapUiResponsiveMargin"\n                         id="previewTile"><TileContent footer="{/info}"><ImageContent src="{/icon}"/></TileContent></GenericTile></FlexBox></VBox><layout:SimpleForm><Label id="titleLbl" text="{i18n>titleFld}" labelFor="bookmarkTitleInput" showColon="true"/><Input\n            id="bookmarkTitleInput"\n            required="true"\n            ariaLabelledBy="titleLbl"\n            placeholder="{i18n>bookmarkDialogoTitle_tooltip}"\n            value="{/title}"/><Label id="subtitleLbl" text="{i18n>subtitleFld}" labelFor="bookmarkSubTitleInput" showColon="true"/><Input\n            id="bookmarkSubTitleInput"\n            ariaLabelledBy="subtitleLbl"\n            placeholder="{i18n>bookmarkDialogoSubTitle_tooltip}"\n            value="{/subtitle}"/><Label id="infoLbl" text="{i18n>tileSettingsDialog_informationField}" labelFor="bookmarkInfoInput"\n               showColon="true"/><Input\n            id="bookmarkInfoInput"\n            ariaLabelledBy="infoLbl"\n            placeholder="{i18n>bookmarkDialogoDescription_tooltip}"\n            value="{/info}"\n            visible="{/showInfo}"/><Label id="ContentNodeLabel" labelFor="SelectedNodesComboBox" showColon="true"/><ushell:ContentNodeSelector\n            id="SelectedNodesComboBox"\n            labelId="ContentNodeLabel"\n            valueHelpEndButtonPressed=".onValueHelpEndButtonPressed"/></layout:SimpleForm></mvc:View>\n',
	"sap/ushell/ui/footerbar/AboutDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\',\n        mobileLibrary: \'sap/m/library\'\n    }"><Dialog\n        id="aboutDialog"\n        title="{i18n>about}"\n        class="sapUshellUserSetting sapContrastPlus"\n        contentHeight="42rem"\n        contentWidth="62rem"\n        afterClose=".onAfterClose"\n        beforeOpen=".onBeforeOpen"\n        stretch="{device>/system/phone}"><customHeader><Bar id="aboutBar"><contentLeft><Button id="aboutDialogNavBackButton"\n                        icon="sap-icon://nav-back"\n                        press=".navigateBackToMaster"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /><ToggleButton id="aboutDialogMenuButton"\n                        icon="sap-icon://menu2"\n                        press=".navToggleButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false" /></contentLeft><contentMiddle><Title\n                        text="{i18n>about}" /></contentMiddle></Bar></customHeader><content><Page\n                showHeader="false"\n                class="sapUshellAboutPage"><content><SplitContainer id="aboutDialogContainer"\n                        initialDetail="aboutDialogDetail"\n                        defaultTransitionNameDetail="show"\n                        afterMasterClose=".onAfterMasterClose"\n                        beforeMasterOpen=".onBeforeMasterOpen"><masterPages><Page\n                                id="aboutDialogMaster"\n                                class="sapUshellUserSettingMaster"\n                                showHeader="false"><content><List id="aboutDialogEntryList"\n                                        itemPress=".onItemPress"\n                                        mode="{= mobileLibrary.ListMode.SingleSelectMaster}"><items><StandardListItem\n                                                title="{i18n>aboutCategoryApplication}"\n                                                type="Active"\n                                                icon="sap-icon://header"\n                                                custom:to="aboutDialogDetailApplication"\n                                                wrapping="true" /><StandardListItem\n                                                title="{i18n>aboutCategorySystem}"\n                                                icon="sap-icon://wrench"\n                                                type="Active"\n                                                custom:to="aboutDialogDetailSystem"\n                                                wrapping="true" /><StandardListItem\n                                                title="{i18n>aboutCategoryEnvironment}"\n                                                icon="sap-icon://desktop-mobile"\n                                                type="Active"\n                                                custom:to="aboutDialogDetailEnvironment"\n                                                wrapping="true" /></items></List></content></Page></masterPages><detailPages><Page\n                                id="aboutDialogDetailApplication"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategoryApplication}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogApplicationForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'AppInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogApplicationFormCustomValues"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'AppInfo>/customEntries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page><Page\n                                id="aboutDialogDetailSystem"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategorySystem}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogSystemForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'SysInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page><Page\n                                id="aboutDialogDetailEnvironment"\n                                showHeader="false"><content><ObjectHeader\n                                        title="{i18n>aboutCategoryEnvironment}"\n                                        titleLevel="{= coreLibrary.TitleLevel.H3}"\n                                        backgroundDesign="Solid"\n                                        class="sapUshellUserSettingDetailHeader"/><VBox class="sapUiSmallMargin"><form:SimpleForm\n                                            id="aboutDialogUserForm"\n                                            editable="false"\n                                            layout="ColumnLayout"\n                                            columnsM="2"\n                                            columnsL="2"\n                                            columnsXL="2"\n                                            content="{\n                                                path: \'UserEnvInfo>/entries\',\n                                                factory: \'.itemFactory\'\n                                            }"></form:SimpleForm></VBox></content></Page></detailPages></SplitContainer></content></Page></content><beginButton><Button\n                id="aboutDialogCloseButton"\n                text="{i18n>closeBtn}"\n                type="Transparent"\n                press=".onClose" /></beginButton></Dialog></core:FragmentDefinition>\n',
	"sap/ushell/ui/footerbar/ContactSupportDialog.fragment.xml":'<core:FragmentDefinition\n        xmlns="sap.m"\n        xmlns:core="sap.ui.core"\n        xmlns:form="sap.ui.layout.form"><Dialog\n        id="ContactSupportDialog"\n        title="{i18n>contactSupportBtn}"\n        contentWidth="29.6rem"\n        horizontalScrolling="false"\n        initialFocus="subjectInput"\n        class="sapContrastPlus sapUshellContactSupportDialog"\n        beforeOpen=".onBeforeOpen"\n        afterClose=".onAfterClose"><content><form:SimpleForm id="topForm" editable="false" layout="ResponsiveGridLayout"><Label id="subjectLabel" required="true" text="{i18n>subjectLabel}"/><Input\n                    id="subjectInput"\n                    value="{/subject}"\n                    valueStateText="{i18n>subjectEmptyErrorMessage}"\n                    liveChange=".onInputChange"\n                    placeholder="{i18n>subjectPlaceHolderHeader}"/><Label id="textAreaLabel" required="true" text="{i18n>txtAreaLabel}"/><TextArea\n                    id="textArea"\n                    rows="7"\n                    value="{/description}"\n                    valueStateText="{i18n>txtAreaEmptyErrorMessage}"\n                    liveChange=".onInputChange"\n                    placeholder="{i18n>txtAreaPlaceHolderHeader}"/></form:SimpleForm><form:SimpleForm\n                id="bottomForm"\n                editable="false"\n                visible="{= !${/showTechInfo}}"\n                ariaLabelledBy="bottomFormLabel"><Link id="technicalDataLink" text="{i18n>technicalDataLink}" press=".showTechnicalData"/><core:InvisibleText id="bottomFormLabel" text="{i18n>technicalDataTitle}" /></form:SimpleForm><form:SimpleForm\n                id="technicalInfoBox"\n                editable="false"\n                visible="{/showTechInfo}"\n                layout="ResponsiveGridLayout"\n                class="sapUshellTechnicalInfoBox"\n                ariaLabelledBy="technicalInfoBoxLabel"><Text text="{i18n>loginDetails}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>userFld}"/><Text text="{/userName}"/><Label text="{i18n>serverFld}"/><Text text="{/host}"/><Label text="{i18n>eMailFld}" visible="{= !!${/email}}"/><Text text="{/email}" visible="{= !!${/email}}"/><Label text="{i18n>languageFld}"/><Text text="{/language}"/><Text text="" visible="{/showAppData}"/><Text text="{i18n>navigationDataFld}" visible="{/showAppData}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>hashFld}" visible="{/showAppData}"/><Text text="{/navigationHash}" visible="{/showAppData}"/><Text text="" visible="{/showAppData}"/><Text text="{i18n>applicationInformationFld}" visible="{/showAppData}" class="sapUshellContactSupportHeaderInfoText"/><Label text="{i18n>applicationTypeFld}" visible="{/showAppData}"/><Text text="{/applicationType}" visible="{/showAppData}"/><Label text="{i18n>urlFld}" visible="{/showAppData}"/><Text text="{/url}" visible="{/showAppData}"/><Label text="{i18n>additionalInfoFld}" visible="{/showAppData}"/><Text text="{/additionalInfo}" visible="{/showAppData}"/><core:InvisibleText id="technicalInfoBoxLabel" text="{i18n>technicalDataTitle}" /></form:SimpleForm></content><beginButton><Button\n                id="contactSupportSendBtn"\n                text="{i18n>sendBtn}"\n                type="Emphasized"\n                press=".onSend"/></beginButton><endButton><Button\n                id="contactSupportCancelBtn"\n                text="{i18n>cancelBtn}"\n                press=".closeDialog"/></endButton></Dialog></core:FragmentDefinition>\n'
});
//# sourceMappingURL=core-ext-light-3.js.map
