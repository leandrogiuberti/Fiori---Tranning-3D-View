//@ui5-bundle sap/ushell/preload-bundles/core-ext-light-2.js
/*!
* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/layout/ResponsiveSplitter", ["./library","./PaneContainer","./ResponsiveSplitterPage","./ResponsiveSplitterRenderer","./ResponsiveSplitterUtilities","./SplitPane","./Splitter","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/delegate/ItemNavigation","sap/ui/core/ResizeHandler","sap/ui/core/RenderManager"],function(t,e,i,n,a,s,o,r,l,p,g,u,h){"use strict";var d=r.extend("sap.ui.layout.ResponsiveSplitter",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"}},defaultAggregation:"rootPaneContainer",aggregations:{rootPaneContainer:{type:"sap.ui.layout.PaneContainer",multiple:false},_pages:{type:"sap.ui.layout.ResponsiveSplitterPage",multiple:true,visibility:"hidden"}},associations:{defaultPane:{type:"sap.ui.layout.SplitPane",multiple:false}},events:{}},renderer:n});var f={MAX_VISIBLE_BUTTONS:7};d.prototype.init=function(){this._aPaneContainers=[];this._aPanes=[];this._oResourceBundle=p.getResourceBundleFor("sap.ui.layout");this._oItemNavigation=new g;this._oItemNavigation.setCycling(false);this.addDelegate(this._oItemNavigation);this._iDefaultPageIndex=0};d.prototype.onBeforeRendering=function(){var t=this.getRootPaneContainer();if(t){this._oSplitterDelegate=this._oSplitterDelegate||{onAfterRendering:function(){this._setSplitterBarsTooltips(t._oSplitter);this._updatePaginatorButtonsTooltips()}};t._oSplitter.addEventDelegate(this._oSplitterDelegate,this);this._createWidthIntervals();this._createPages();this._detachResizeHandler()}};d.prototype.onAfterRendering=function(){this._parentResizeHandler=u.register(this,this._onParentResize.bind(this));var t=this.getRootPaneContainer();if(t){this._onParentResize();this._updatePaginatorButtonsTooltips()}this._setItemNavigation()};d.prototype.exit=function(){this._detachResizeHandler();this._clearItemNavigation();this._oSplitterDelegate=null};d.prototype._setSplitterBarsTooltips=function(t,e){var i=t.$().find(" > .sapUiLoSplitterBar"),n=t.$().find(" > .sapUiLoSplitterContent"),a="",s,r,p,g;for(var u=0;u<n.length;u++){g=n[u].childNodes[0].id;p=l.getElementById(g);s=u+1;r=u+2;if(e){a+=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_RESIZE",[e+"."+s,e+"."+r])}else{a+=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_RESIZE",[s,r])}if(i[u]){i[u].setAttribute("title",a);a=""}if(p instanceof o){this._setSplitterBarsTooltips(p,s)}}};d.prototype._updatePaginatorButtonsTooltips=function(){var t=Array.prototype.slice.call(this._getVisibleButtons()),e=this.getRootPaneContainer()._oSplitter.getAssociatedContentAreas().length,i=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_HOME")+" ",n=this._oResourceBundle.getText("RESPONSIVE_SPLITTER_AND"),a="",s=this,o;if(t.length>0){o=t.shift();for(var r=1;r<=e;r++){i+=r;if(r<e-1){i+=", "}else if(r===e-1){i+=" "+n+" "}}o.setAttribute("title",i);[].forEach.call(t,function(t){a=s._oResourceBundle.getText("RESPONSIVE_SPLITTER_GOTO")+" "+(e+1);e+=1;t.setAttribute("title",a)})}};d.prototype.onsapright=function(t){this._handleArrowNavigation(6,"Forward",t)};d.prototype.onsapleft=function(t){this._handleArrowNavigation(0,"Back",t)};d.prototype._setItemNavigation=function(){var t=this._getVisibleButtons(),e=[];this._oItemNavigation.setRootDomRef(this.$().find(".sapUiResponsiveSplitterPaginator")[0]);for(var i=0;i<t.length;i++){if(t[i]){e.push(t[i])}}this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setFocusedIndex(this._iDefaultPageIndex)};d.prototype._clearItemNavigation=function(){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation};d.prototype._handleArrowNavigation=function(t,e,i){if(i.target===this._getVisibleButtons()[t]){this["_handlePaginator"+e](i);this._setItemNavigation()}else{return}};d.prototype._onParentResize=function(){var t=this._intervalHasChanged(),e=this.getRootPaneContainer();if(t&&e){this._arrangeContent();this._setPaginatorVisibility()}};d.prototype._detachResizeHandler=function(){if(this._parentResizeHandler){u.deregister(this._parentResizeHandler);this._parentResizeHandler=null}};d.prototype._createWidthIntervals=function(){var t=[];this._aIntervals=[];a.visitPanes(this.getRootPaneContainer(),function(e){var i=e.getRequiredParentWidth();if(t.indexOf(i)==-1){t.push(i)}});t.push(Number.NEGATIVE_INFINITY);t.push(Number.POSITIVE_INFINITY);t.sort(function(t,e){return t-e});for(var e=0;e<t.length-1;e++){var i=new a.splitterInterval(t[e],t[e+1],this.getRootPaneContainer());this._aIntervals.push(i)}};d.prototype._createPages=function(){var t=this._getMaxPageCount(),e=this.getAggregation("_pages")||[],n=e.length;if(n<t){while(n<t){n++;var a=new i;this.addAggregation("_pages",a,true)}}else if(n>t){while(n>t){n--;if(e[n].getDomRef()){h.preserveContent(e[n].getDomRef())}e[n].destroy()}}};d.prototype._intervalHasChanged=function(){var t=this.getDomRef().clientWidth,e=null,i=this._aIntervals;for(var n=0;n<i.length;n++){if(i[n].iFrom<t&&t<=i[n].iTo){e=i[n];break}}if(this._currentInterval!==e){this._currentInterval=e;return true}return false};d.prototype._setPaginatorVisibility=function(){var t=this.$().find(".sapUiResponsiveSplitterPaginatorButton"),e=this.$().find(".sapUiResponsiveSplitterPaginatorNavButton"),i=this.$().find(".sapUiResponsiveSplitterPaginator"),n=this._getHiddenPanes().length+1,a=this._getMaxPageCount(),s=n<f.MAX_VISIBLE_BUTTONS;t.addClass("sapUiResponsiveSplitterHiddenElement");if(a>1&&n>1){this.addStyleClass("sapUiRSVisiblePaginator");t=t.slice(0,s?n:f.MAX_VISIBLE_BUTTONS);t.removeClass("sapUiResponsiveSplitterHiddenElement");t.removeClass("sapUiResponsiveSplitterHiddenPaginatorButton");e.toggleClass("sapUiResponsiveSplitterHiddenPaginatorButton",s);i.toggleClass("sapUiResponsiveSplitterWithNavButtons",!s)}else{this.removeStyleClass("sapUiRSVisiblePaginator")}};d.prototype._getMaxPageCount=function(){var t=0;this._aIntervals.forEach(function(e){if(e.iPagesCount>t){t=e.iPagesCount}});return t};d.prototype._arrangeContent=function(){var t=this.getAggregation("_pages")||[],e=0,i=l.getElementById(this.getDefaultPane()),n,a,s;this._clearContent();t.forEach(function(t){t.setVisible(false)});this._fillPageContent(this.getRootPaneContainer());if(i){n=i.getContent();if(n){a=n.getId();for(s=0;s<t.length;s++){if(t[s].containsControl(a)){e=s;break}}}}this._iDefaultPageIndex=e;this._activatePage(e)};d.prototype._activatePage=function(t){var e=this.$().find(".sapUiResponsiveSplitterPaginatorButton"),i=this.$().find(".sapUiResponsiveSplitterPaginatorSelectedButton"),n=e.index(i),a=this.getAggregation("_pages")||[];a[n]&&a[n].setVisible(false);a[t]&&a[t].setVisible(true);i.removeClass("sapUiResponsiveSplitterPaginatorSelectedButton");e.eq(t).addClass("sapUiResponsiveSplitterPaginatorSelectedButton");i.attr("aria-selected",false);e.eq(t).attr("aria-selected",true)};d.prototype._fillPageContent=function(t){var i=t instanceof e,n=t instanceof s,a=t.getParent(),o=a instanceof e,r=this.getAggregation("_pages"),l,p,g,u,h,d;if(i&&r){this._aPaneContainers.push(t);p=this._getAllPanesInInterval(t,this._currentInterval.iFrom).length>0;g=t._oSplitter;if(o&&p){a._oSplitter.addAssociatedContentArea(g)}else if(!o){r[0].setContent(g)}t.getPanes().forEach(function(t){this._fillPageContent(t)},this)}else if(n&&r){this._assignDefault(t);this._aPanes.push(t);u=t.getDemandPane();l=this._getHiddenPanes();h=l.length;d=this._getMaxPageCount();var f;if(t._isInInterval(this._currentInterval.iFrom)){a._oSplitter.addAssociatedContentArea(t.getContent())}else if(u&&h<d){for(f=0;f<h;f++){r[f+1].setContent(l[f].getContent())}}else if(u&&h===d){for(f=0;f<h;f++){r[f].setContent(l[f].getContent())}}else if(this._isDefault(t)){r[0].setContent(t.getContent())}}};d.prototype._isDefault=function(t){return this.getDefaultPane()===t.getId()};d.prototype._assignDefault=function(t){var e=this.getDefaultPane();this.setDefaultPane(e||t)};d.prototype._getAllPanesInInterval=function(t,i){var n=[];function a(t){t.getPanes().forEach(function(t){if(t instanceof e){a(t)}else if(t._isInInterval(i)){n.push(t)}});return n}return a(t,i)};d.prototype._getHiddenPanes=function(){return this._aPanes.filter(function(t){return t.getDemandPane()&&!t._isInInterval(this._currentInterval.iFrom)},this)};d.prototype._clearContent=function(){this._aPaneContainers.forEach(function(t){t._oSplitter.removeAllAssociatedContentAreas()});this._aPaneContainers=[];this._aPanes=[]};d.prototype._getVisibleButtons=function(){return this.$().find(".sapUiResponsiveSplitterPaginatorButton:not(.sapUiResponsiveSplitterHiddenElement, .sapUiResponsiveSplitterHiddenPaginatorButton)")};d.prototype._handlePaginatorButtonTap=function(t){var e=t.target,i=t.target.classList,n;if(i&&i.contains("sapUiResponsiveSplitterPaginatorButton")){n=parseInt(e.getAttribute("page-index"));this._activatePage(n)}else if(i&&i.contains("sapUiResponsiveSplitterPaginatorNavButton")){if(i.contains("sapUiResponsiveSplitterPaginatorButtonForward")){this._handlePaginatorForward(t)}else{this._handlePaginatorBack(t)}}};d.prototype._handlePaginatorForward=function(t){var e=this._getVisibleButtons(),i=this._getHiddenPanes().length,n=this.$().find(".sapUiResponsiveSplitterPaginatorButton.sapUiResponsiveSplitterHiddenElement"),a,s=n.filter(function(){a=parseInt(this.getAttribute("page-index"));return a>=f.MAX_VISIBLE_BUTTONS&&a<=i});if(s.length>0){e.first().addClass("sapUiResponsiveSplitterHiddenElement");s.last().removeClass("sapUiResponsiveSplitterHiddenElement")}};d.prototype._handlePaginatorBack=function(t){var e=this._getVisibleButtons(),i=this._getMaxPageCount()-f.MAX_VISIBLE_BUTTONS,n=this.$().find(".sapUiResponsiveSplitterPaginatorButton.sapUiResponsiveSplitterHiddenElement"),a=n.filter(function(){return parseInt(this.getAttribute("page-index"))<i});if(a.length>0){e.last().addClass("sapUiResponsiveSplitterHiddenElement");a.last().removeClass("sapUiResponsiveSplitterHiddenElement")}};d.prototype.ontap=d.prototype._handlePaginatorButtonTap;d.prototype.onsapenter=d.prototype._handlePaginatorButtonTap;d.prototype.onsapspace=d.prototype._handlePaginatorButtonTap;return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/ResponsiveSplitterPage", ["./library","sap/ui/core/Control","sap/ui/core/Element"],function(e,t,n){"use strict";var i=t.extend("sap.ui.layout.ResponsiveSplitterPage",{metadata:{library:"sap.ui.layout",associations:{content:{type:"sap.ui.core.Control",multiple:false,singularName:"content"}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t).class("sapUiResponsiveSplitterPage").openEnd();var i=n.getElementById(t.getAssociation("content"));if(i){e.renderControl(i)}e.close("div")}}});i.prototype.containsControl=function(e){var t=n.getElementById(this.getAssociation("content"));if(!t){return false}if(t.isA("sap.ui.layout.AssociativeSplitter")){return t.containsControl(e)}return t.getId()===e};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/ResponsiveSplitterRenderer", ["sap/ui/core/IconPool","sap/ui/core/Lib"],function(t,e){"use strict";var a=e.getResourceBundleFor("sap.ui.layout");var i={apiVersion:2};t.insertFontFaceStyle();i.render=function(t,e){t.openStart("div",e).class("sapUiResponsiveSplitter").style("width",e.getWidth()).style("height",e.getHeight()).openEnd();var a=e.getAggregation("_pages");if(a){a.forEach(t.renderControl,t);this.renderPaginator(t,e)}t.close("div")};i.renderPaginator=function(t,e){var i=e._getMaxPageCount(),s=e.getAggregation("_pages")||[];if(i<=1){return}t.openStart("div").attr("role","navigation").class("sapUiResponsiveSplitterPaginator").openEnd();t.openStart("div").class("sapUiResponsiveSplitterPaginatorNavButton").class("sapUiResponsiveSplitterHiddenPaginatorButton").class("sapUiResponsiveSplitterPaginatorButtonBack").openEnd().close("div");t.openStart("div").class("sapUiResponsiveSplitterPaginatorButtons").attr("role","listbox").attr("aria-multiselectable",true).attr("aria-label",a.getText("RESPONSIVE_SPLITTER_ARIA_PAGINATOR_LABEL"));if(s.length>0){t.attr("aria-controls",s[0].getParent().getId())}t.openEnd();for(var n=0;n<i;n++){t.openStart("div").attr("tabindex",0).attr("page-index",n);if(n===0){t.class("sapUiResponsiveSplitterPaginatorSelectedButton")}t.class("sapUiResponsiveSplitterHiddenElement").class("sapUiResponsiveSplitterPaginatorButton").attr("role","option").attr("aria-selected",false).openEnd().close("div")}t.close("div");t.openStart("div").class("sapUiResponsiveSplitterPaginatorNavButton").class("sapUiResponsiveSplitterHiddenPaginatorButton").class("sapUiResponsiveSplitterPaginatorButtonForward").openEnd().close("div");t.close("div")};return i},true);
/*!
* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/layout/ResponsiveSplitterUtilities", [],function(){"use strict";var e={};e.visitPanes=function(i,t){var n,s;if(!i){return}n=i.getPanes();for(var a=0;a<n.length;a++){s=n[a];if(s&&s.isA("sap.ui.layout.SplitPane")){t(s)}else{e.visitPanes(s,t)}}};e.splitterInterval=function(i,t,n){this.iFrom=i;this.iTo=t;this.iPagesCount=0;var s=[],a=[s];e.visitPanes(n,function(e){var t=e.getRequiredParentWidth();var n={demandPane:e.getDemandPane()};if(t<=i){s.push(n)}else{a.push(n)}});if(s.length==0){a.splice(0,1)}this.iPagesCount=a.length;this.aPages=a};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/SplitPane", ["./library","sap/ui/core/Element"],function(t,e){"use strict";var a=e.extend("sap.ui.layout.SplitPane",{metadata:{library:"sap.ui.layout",properties:{demandPane:{type:"boolean",group:"Behavior",defaultValue:true},requiredParentWidth:{type:"int",defaultValue:800}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false,singularName:"content"}}}});a.prototype.setLayoutData=function(t){var e=this.getContent();if(e){return e.setLayoutData(t)}this._oLayoutData=t;return this};a.prototype.getLayoutData=function(){var t=this.getContent();if(t){return t.getLayoutData()}return this._oLayoutData};a.prototype.setContent=function(t){if(this._oLayoutData){t.setLayoutData(this._oLayoutData);this._oLayoutData=null}return this.setAggregation("content",t)};a.prototype.onLayoutDataChange=function(){var t=this.getParent();if(t){t._oSplitter._delayedResize()}};a.prototype._isInInterval=function(t){return this.getRequiredParentWidth()<=t};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/Splitter", ["./_SplitterRegistry","./SplitterRenderer","./SplitterLayoutData","./library","sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/core/library","sap/ui/core/ResizeHandler","sap/ui/core/RenderManager","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Theming"],function(e,t,i,r,s,a,n,o,h,l,u,d,jQuery,c){"use strict";var p=h.Orientation;var _=16;var v=a.extend("sap.ui.layout.Splitter",{metadata:{library:"sap.ui.layout",properties:{orientation:{type:"sap.ui.core.Orientation",group:"Behavior",defaultValue:p.Horizontal},width:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"100%"}},defaultAggregation:"contentAreas",aggregations:{contentAreas:{type:"sap.ui.core.Control",multiple:true,singularName:"contentArea"}},events:{resize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"}}}},designtime:"sap/ui/layout/designtime/Splitter.designtime"},renderer:t});v.prototype.init=function(){this._liveResize=true;this._keyboardEnabled=true;this._bHorizontal=true;this._calculatedSizes=[];this._move={};this._resizeTimeout=null;this._resizeCallback=function(e){this._delayedResize(0)}.bind(this);this._resizeHandlerId=null;this._autoResize=true;this._enableAutoResize();this._boundBarMoveEnd=this._onBarMoveEnd.bind(this);this._boundBarMove=this._onBarMove.bind(this);this._initOrientationProperties();this._bRtl=s.getRTL();this._keyListeners={increase:this._onKeyboardResize.bind(this,"inc",20),decrease:this._onKeyboardResize.bind(this,"dec",20),increaseMore:this._onKeyboardResize.bind(this,"incMore",20),decreaseMore:this._onKeyboardResize.bind(this,"decMore",20),max:this._onKeyboardResize.bind(this,"max",20),min:this._onKeyboardResize.bind(this,"min",20)};this._enableKeyboardListeners();this._handleThemeAppliedBound=this._handleThemeApplied.bind(this)};v.prototype.exit=function(){e.removeInstance(this);this._disableAutoResize();delete this._resizeCallback;delete this._boundBarMoveEnd;delete this._boundBarMove;delete this._$SplitterOverlay;delete this._$SplitterOverlayBar};v.prototype.onBeforeRendering=function(){e.removeInstance(this);this._initOrientationProperties()};v.prototype.onAfterRendering=function(){e.addInstance(this);this._$SplitterOverlay=this.$("overlay");this._$SplitterOverlayBar=this.$("overlayBar");if(!this._bThemeApplied){c.attachApplied(this._handleThemeAppliedBound)}this._resize()};v.prototype.triggerResize=function(e){if(e){this._resize()}else{this._delayedResize()}};v.prototype.resetContentAreasSizes=function(){var e=this._getContentAreas();for(var t=0;t<e.length;t++){e[t].getLayoutData().setSize("auto")}};v.prototype.getCalculatedSizes=function(){return this._calculatedSizes};v.prototype.enableAutoResize=function(e){this._enableAutoResize(e)};v.prototype._enableAutoResize=function(e){if(e&&!this._autoResize){return}this._autoResize=true;var t=this;n.ready(function(){t._resizeHandlerId=l.register(t,t._resizeCallback)});this._delayedResize()};v.prototype.disableAutoResize=function(e){this._disableAutoResize(e)};v.prototype._disableAutoResize=function(e){l.deregister(this._resizeHandlerId);if(!e){this._autoResize=false}};v.prototype.enableLiveResize=function(){this._liveResize=true;this.removeStyleClass("sapUiLoSplitterAnimated")};v.prototype.disableLiveResize=function(){this._liveResize=false;this.addStyleClass("sapUiLoSplitterAnimated")};v.prototype.enableKeyboardSupport=function(){var e=this.$().find(".sapUiLoSplitterBar");e.attr("tabindex","0");this._enableKeyboardListeners()};v.prototype.disableKeyboardSupport=function(){var e=this.$().find(".sapUiLoSplitterBar");e.attr("tabindex","-1");this._disableKeyboardListeners()};v.prototype.onLayoutDataChange=function(){this._delayedResize()};v.prototype.ontouchstart=function(e){if(this._ignoreTouch){return}var t=this._getBar(e.target);if(!t){return}if(!e.changedTouches||!e.changedTouches[0]){return}this._ignoreMouse=true;this._onBarMoveStart(e.changedTouches[0],t,true)};v.prototype.onmousedown=function(e){if(this._ignoreMouse){return}var t=this._getBar(e.target);if(!t){return}this._ignoreTouch=true;this._onBarMoveStart(e,t);this._oLastDOMclicked=t};v.prototype._onBarMoveStart=function(e,t,i){var r=this.getId();this._disableAutoResize(true);var s=e[this._moveCord];var a=parseInt(t.id.substr((r+"-splitbar-").length));var n=jQuery(t);var o=this._calculatedSizes;var h=this._bHorizontal?n.outerWidth():n.outerHeight();var l=this._getContentAreas();var u=l[a].getLayoutData();var d=l[a+1].getLayoutData();if(!u.getResizable()||!d.getResizable()){z(i);return}var c=0-h;for(var p=0;p<=a;++p){c+=o[p]+h}this._move={start:s,relStart:c,barNum:a,$bar:n,c1Size:o[a],c1MinSize:u.getMinSize(),c2Size:o[a+1],c2MinSize:d.getMinSize()};if(i){document.addEventListener("touchend",this._boundBarMoveEnd);document.addEventListener("touchmove",this._boundBarMove)}else{document.addEventListener("mouseup",this._boundBarMoveEnd);document.addEventListener("mousemove",this._boundBarMove)}this._$SplitterOverlay.css("display","block");this._$SplitterOverlayBar.css(this._sizeDirNot,"");this._move.$bar.css("visibility","hidden");this._onBarMove(e)};v.prototype._onBarMove=function(e){if(e.preventDefault&&!e.changedTouches){e.preventDefault()}var t=e;if(e.changedTouches&&e.changedTouches[0]){t=t.changedTouches[0]}var i=t[this._moveCord];var r=i-this._move.start;if(this.getOrientation()==p.Horizontal&&this._bRtl){r=-r}var s=this._move.c1Size+r;var a=this._move.c2Size-r;var n=s>=0&&a>=0&&s>=this._move.c1MinSize&&a>=this._move.c2MinSize;if(n){this._$SplitterOverlayBar.css(this._sizeDir,this._move.relStart+r);if(!this._liveResize){return}var o=this._move["start"]-t[this._moveCord];if(this.getOrientation()==p.Horizontal&&this._bRtl){o=-o}this._resizeContents(this._move["barNum"],-o,false)}};v.prototype._onBarMoveEnd=function(e){this._ignoreMouse=false;this._ignoreTouch=false;var t=e;if(e.changedTouches&&e.changedTouches[0]){t=t.changedTouches[0]}var i=t[this._moveCord];var r=this._move["start"]-i;if(this.getOrientation()==p.Horizontal&&this._bRtl){r=-r}this._resizeContents(this._move["barNum"],-r,true);this._move.$bar.css("visibility","");this._$SplitterOverlay.css("display","");document.removeEventListener("mouseup",this._boundBarMoveEnd);document.removeEventListener("mousemove",this._boundBarMove);document.removeEventListener("touchend",this._boundBarMoveEnd);document.removeEventListener("touchmove",this._boundBarMove);this._enableAutoResize(true);if(this._move.$bar){this._move.$bar.trigger("focus")}};v.prototype._resizeContents=function(e,t,i){if(isNaN(t)){d.warning("Splitter: Received invalid resizing values - resize aborted.");return}var r=this._getContentAreas();var s=r[e].getLayoutData();var a=r[e+1].getLayoutData();var n=s.getSize();var o=a.getSize();var h=this.$("content-"+e);var l=this.$("content-"+(e+1));var u=parseFloat(this._move.c1Size).toFixed(5);var c=parseFloat(this._move.c2Size).toFixed(5);var p=parseFloat(u)+t;var _=parseFloat(c)-t;var v=parseInt(s.getMinSize());var f=parseInt(a.getMinSize());var z,g;var y;if(p<v){y=v-p;t+=y;p=v;_-=y}else if(_<f){y=f-_;t-=y;_=f;p-=y}if(i){var b=this._calcAvailableContentSize();if(n==="auto"&&o!=="auto"){g=this._calcAreaSizeWithUnit(_,b,a._getSizeUnit());a.setSize(g);a._markModified()}else if(n!=="auto"&&o==="auto"){z=this._calcAreaSizeWithUnit(p,b,s._getSizeUnit());s.setSize(z);s._markModified()}else{z=this._calcAreaSizeWithUnit(p,b,s._getSizeUnit());g=this._calcAreaSizeWithUnit(_,b,a._getSizeUnit());s.setSize(z);a.setSize(g);s._markModified();a._markModified()}this._delayedResize()}else{var m=this._getTotalSize();z=this._pxToPercent(p,m);g=this._pxToPercent(_,m);h.css(this._sizeType,z);l.css(this._sizeType,g)}};v.prototype._calcAreaSizeWithUnit=function(e,t,i){if(i==="px"){return e+"px"}if(i==="rem"){return e/_+"rem"}return this._pxToPercent(e,t)};v.prototype._pxToPercent=function(e,t){return e*100/t+"%"};v.prototype._handleThemeApplied=function(){c.detachApplied(this._handleThemeAppliedBound);this._bThemeApplied=true;this._resize()};v.prototype._delayedResize=function(e){if(e===undefined){e=0}if(this.getDomRef()){clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(this._resize.bind(this),e)}};v.prototype._resizeBars=function(e){var t,i,r=this._bHorizontal?this.$().innerHeight():this.$().innerWidth();for(t=0;t<e.length-1;++t){i=this.$("splitbar-"+t);i.css(this._sizeTypeNot,"")}for(t=0;t<e.length-1;++t){i=this.$("splitbar-"+t);i.css(this._sizeType,"");i.css(this._sizeTypeNot,r+"px")}};v.prototype._resize=function(){if(!this._bThemeApplied){return}var e=this.getDomRef();if(!e||u.getPreserveAreaRef().contains(e)||e.scrollHeight===0||e.scrollWidth===0){return}var t=0,i;var r=this._getContentAreas();this._resizeBars(r);var s=this._calculatedSizes;this._recalculateSizes();var a=this._calculatedSizes;var n=false;for(t=0;t<a.length;++t){if(a[t]!==0){n=true;break}}if(!n){this._delayedResize(100);return}var o=true;for(t=0;t<r.length;++t){var h=this.$("content-"+t);var l=r[t];h.css(this._sizeType,a[t]+"px");h.css(this._sizeTypeNot,"");var d=l.getLayoutData();var c=d&&d.getResizable();if(t>0){var p=c&&o;i=this.$("splitbar-"+(t-1));i.toggleClass("sapUiLoSplitterNoResize",!p);i.attr("tabindex",p&&this._keyboardEnabled?"0":"-1")}o=c}this._resizeBars(r);if(f(s,a)){this.fireResize({oldSizes:s,newSizes:a})}};v.prototype._getTotalSize=function(){return this._bHorizontal?this.$().innerWidth():this.$().innerHeight()};v.prototype._calcAvailableContentSize=function(){return this._getTotalSize()-this._calcBarsSize()};v.prototype._calcBarsSize=function(){var e=0,t=this._getContentAreas().length-1;for(var i=0;i<t;i++){e+=this._bHorizontal?this.$("splitbar-"+i).outerWidth():this.$("splitbar-"+i).outerHeight()}return e};v.prototype._recalculateSizes=function(){var e,t,i,r;var s=[];var a=this._getContentAreas();var n=this._calcAvailableContentSize();var o=[];var h=[];var l=[];this._calculatedSizes=[];for(e=0;e<a.length;++e){s.push(a[e].getLayoutData().getSize())}for(e=0;e<s.length;++e){var u=s[e];var c;if(u.indexOf("rem")>-1){c=parseFloat(u)*_;n-=c;this._calculatedSizes[e]=c}else if(u.indexOf("px")>-1){c=parseInt(u);n-=c;this._calculatedSizes[e]=c}else if(u.indexOf("%")>-1){l.push(e)}else if(u==="auto"){if(a[e].getLayoutData().getMinSize()!==0){h.push(e)}else{o.push(e)}}else{d.error("Illegal size value: "+s[e])}}var p=false;if(n<0){p=true;n=0}n=this._calcPercentBasedSizes(l,n);if(n<0){p=true;n=0}var v=Math.floor(n/(h.length+o.length),0);for(e=0;e<h.length;++e){t=v;i=h[e];r=a[i].getLayoutData().getMinSize();if(t>n){t=n}if(t<r){t=r}this._calculatedSizes[i]=t;n-=t}if(n<0){p=true;n=0}var f=o.length;v=Math.floor(n/f,0);for(e=0;e<f;++e){i=o[e];this._calculatedSizes[i]=v;n-=v}if(p){this._logConstraintsViolated()}};v.prototype._calcPercentBasedSizes=function(e,t){var i=this._getContentAreas(),r=this._calcAvailableContentSize();for(let o=0;o<e.length;++o){var s=e[o];var a=parseFloat(i[s].getLayoutData().getSize())/100*r;var n=i[s].getLayoutData().getMinSize();if(a<n){a=n}this._calculatedSizes[s]=a;t-=a}var o=i.filter(function(e){return e.getLayoutData().getSize()==="auto"}).reduce(function(e,t){return e+t.getLayoutData().getMinSize()},0);if(t<o){var h=Math.abs(t-o);for(var l=e.length-1;l>=0;l--){var u=e[l],d=i[u],c=this._calculatedSizes[u],p=d.getLayoutData();if(p._isMarked()){var _=c-h;if(_<p.getMinSize()){_=p.getMinSize()}this._calculatedSizes[u]=_;var v=c-_;h-=v;t+=v}if(h<=0){break}}}return t};v.prototype._logConstraintsViolated=function(){d.warning("The set sizes and minimal sizes of the splitter contents are bigger than the available space in the UI.",null,"sap.ui.layout.Splitter")};v.prototype._initOrientationProperties=function(){this._bHorizontal=this.getOrientation()===p.Horizontal;if(this._bHorizontal){this._sizeDirNot="top";this._sizeTypeNot="height";this._sizeType="width";this._moveCord="pageX";if(this._bRtl){this._sizeDir="right"}else{this._sizeDir="left"}}else{this._moveCord="pageY";this._sizeType="height";this._sizeTypeNot="width";this._sizeDir="top";this._sizeDirNot="left"}};v.prototype._onKeyboardResize=function(e,t,i){var r=this.getId()+"-splitbar-";if(!i||!i.target||!i.target.id||i.target.id.indexOf(r)!==0){return}var s=999999;var a=parseInt(i.target.id.substr(r.length));var n=this._calculatedSizes;this._move.c1Size=n[a];this._move.c2Size=n[a+1];var o=0;switch(e){case"inc":o=t;break;case"incMore":o=t*10;break;case"dec":o=0-t;break;case"decMore":o=0-t*10;break;case"max":o=s;break;case"min":o=0-s;break;default:d.warn("[Splitter] Invalid keyboard resize type");break}this._resizeContents(a,o,true)};v.prototype._enableKeyboardListeners=function(){this.onsapright=this._keyListeners.increase;this.onsapdown=this._keyListeners.increase;this.onsapleft=this._keyListeners.decrease;this.onsapup=this._keyListeners.decrease;this.onsappageup=this._keyListeners.decreaseMore;this.onsappagedown=this._keyListeners.increaseMore;this.onsapend=this._keyListeners.max;this.onsaphome=this._keyListeners.min;this._keyboardEnabled=true};v.prototype._disableKeyboardListeners=function(){delete this.onsapincreasemodifiers;delete this.onsapdecreasemodifiers;delete this.onsapendmodifiers;delete this.onsaphomemodifiers;this._keyboardEnabled=false};v.prototype._getBar=function(e){var t=e,i=this.getId();if(t.classList.contains("sapUiLoSplitterBarGripIcon")){t=e.parentElement}if(t.classList.contains("sapUiLoSplitterBarDecorationBefore")||t.classList.contains("sapUiLoSplitterBarDecorationAfter")||t.classList.contains("sapUiLoSplitterBarGrip")){t=t.parentElement}if(!t.id||t.id.indexOf(i+"-splitbar")!==0){return null}return t};function f(e,t){if(e===t){return false}if(!e||!t||e.length===undefined||t.length===undefined){return true}if(e.length!=t.length){return true}for(var i=0;i<e.length;++i){if(e[i]!==t[i]){return true}}return false}function z(e){var t=function(t){if(!e){t.preventDefault()}};var i=null;i=function(){document.removeEventListener("touchend",i);document.removeEventListener("touchmove",t);document.removeEventListener("mouseup",i);document.removeEventListener("mousemove",t)};if(e){this._ignoreMouse=true;document.addEventListener("touchend",i);document.addEventListener("touchmove",t)}else{document.addEventListener("mouseup",i);document.addEventListener("mousemove",t)}}v.prototype._ensureLayoutData=function(e){var t=e.getLayoutData();if(t&&(!t.getResizable||!t.getSize||!t.getMinSize)){d.warning('Content "'+e.getId()+'" for the Splitter contained wrong LayoutData. '+"The LayoutData has been replaced with default values.");t=null}if(!t){e.setLayoutData(new i)}};v.prototype.getFocusDomRef=function(){return this.getDomRef("splitbar-0")||this.getDomRef()};v.prototype.invalidate=function(e){var t=e&&this.indexOfContentArea(e)!=-1||e&&e instanceof o&&e.getWriteToDom()||e===undefined;if(t){a.prototype.invalidate.apply(this,arguments)}};v.prototype.addContentArea=function(e){this._ensureLayoutData(e);return this.addAggregation("contentAreas",e)};v.prototype.insertContentArea=function(e,t){this._ensureLayoutData(e);return this.insertAggregation("contentAreas",e,t)};v.prototype._getContentAreas=function(){return this.getContentAreas()};return v});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/SplitterLayoutData", ["sap/ui/core/LayoutData","./library"],function(e,t){"use strict";var i=e.extend("sap.ui.layout.SplitterLayoutData",{metadata:{library:"sap.ui.layout",properties:{resizable:{type:"boolean",group:"Behavior",defaultValue:true},size:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},minSize:{type:"int",group:"Dimension",defaultValue:0}}}});i.prototype.init=function(){e.prototype.init.apply(this,arguments);this._bIsModified=false};i.prototype._markModified=function(){this._bIsModified=true};i.prototype._isMarked=function(){return this._bIsModified};i.prototype._getSizeUnit=function(){const e=this.getSize();if(e.includes("px")){return"px"}if(e.includes("rem")){return"rem"}if(e.includes("%")){return"%"}return"auto"};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/SplitterRenderer", ["sap/ui/core/AnimationMode","sap/ui/core/ControlBehavior","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/IconPool"],function(e,t,i,r){"use strict";var a=r.Orientation;var o=i.getResourceBundleFor("sap.ui.layout");var n={apiVersion:2};n.render=function(i,r){var o=r.getOrientation()===a.Horizontal,n=o?"sapUiLoSplitterH":"sapUiLoSplitterV";i.openStart("div",r).class("sapUiLoSplitter").class(n);if(!r._liveResize&&t.getAnimationMode()!==e.none&&t.getAnimationMode()!==e.minimal){i.class("sapUiLoSplitterAnimated")}i.style("width",r.getWidth()).style("height",r.getHeight()).openEnd();this.renderContentAreas(i,r);i.close("div")};n.renderContentAreas=function(e,t){var i=t.getId(),r=t.getOrientation()===a.Horizontal,o=r?"width":"height",s=t._getContentAreas(),p=s.length,l=t._calculatedSizes;s.forEach(function(a,s){var c=a.getLayoutData(),d="0";if(l[s]){d=l[s]+"px"}else if(c){d=c.getSize()}e.openStart("section",i+"-content-"+s).style(o,d).class("sapUiLoSplitterContent").openEnd();e.renderControl(a);e.close("section");if(s<p-1){n.renderBar(e,r,t.getId()+"-splitbar-"+s,"sapUiLoSplitterBar")}});e.openStart("div",i+"-overlay").class("sapUiLoSplitterOverlay").openEnd();n.renderBar(e,r,i+"-overlayBar","sapUiLoSplitterOverlayBar");e.close("div")};n.renderBar=function(e,t,i,r){e.openStart("div",i).attr("role","separator").attr("title",o.getText("SPLITTER_MOVE")).attr("aria-orientation",t?"vertical":"horizontal").attr("tabindex",0).class(r).openEnd();n.renderBarGripAndDecorations(e,t);e.close("div")};n.renderBarGripAndDecorations=function(e,t){var i=t?"sap-icon://vertical-grip":"sap-icon://horizontal-grip";e.openStart("div").class("sapUiLoSplitterBarDecorationBefore").openEnd().close("div");e.openStart("div").class("sapUiLoSplitterBarGrip").openEnd().icon(i,["sapUiLoSplitterBarGripIcon"]).close("div");e.openStart("div").class("sapUiLoSplitterBarDecorationAfter").openEnd().close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayout", ["sap/ui/core/Control","sap/ui/core/EnabledPropagator","./library","./VerticalLayoutRenderer"],function(e,t,a,r){"use strict";var i=e.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"},renderer:r});i.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};t.call(i.prototype);return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayoutRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){var i=t;i.openStart("div",e);i.class("sapUiVlt");i.class("sapuiVlt");if(e.getWidth()&&e.getWidth()!=""){i.style("width",e.getWidth())}i.openEnd();var n=e.getContent();for(var s=0;s<n.length;s++){i.openStart("div");i.class("sapUiVltCell");i.class("sapuiVltCell");i.openEnd();i.renderControl(n[s]);i.close("div")}i.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/_SplitterRegistry", ["sap/ui/Device"],e=>{"use strict";const t=new Set;const n=e=>{if(i(e.target)){e.preventDefault()}};let s=false;function i(e){return!!e.closest(".sapUiLoSplitterBar")}function u(){document.addEventListener("touchstart",n,{passive:false})}function a(){document.removeEventListener("touchstart",n)}function c(n){t.add(n);if(e.support.touch&&!s){u();s=true}}function o(e){t.delete(e);if(t.size===0){a();s=false}}return{addInstance:c,removeInstance:o}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/AddFormContainer", ["sap/ui/fl/changeHandler/Base","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,r){"use strict";var t={};t.applyChange=function(r,t,o){var n=o.modifier;var a=o.appComponent;var i=o.view;var l=r.getContent();var u=r.getTexts();if(u&&u.groupLabel&&u.groupLabel.value&&l&&l.group&&(l.group.selector||l.group.id)){var s=u.groupLabel.value;var p=l.group.index;var g=l.group.selector||{id:l.group.id};var c=Object.assign({},g);c.id=c.id+"--title";r.setRevertData({newGroupSelector:g});if(n.bySelector(c,a)){return e.markAsNotApplicable("Control to be created already exists:"+c)}else if(n.bySelector(g,a)){return e.markAsNotApplicable("Control to be created already exists:"+g)}return Promise.resolve().then(function(){return Promise.all([n.createControl("sap.ui.core.Title",a,i,c),n.createControl("sap.ui.layout.form.FormContainer",a,i,g)])}).then(function(e){var r=e[0];var o=e[1];n.setProperty(r,"text",s);return Promise.resolve().then(n.insertAggregation.bind(n,o,"title",r,0,i)).then(n.insertAggregation.bind(n,t,"formContainers",o,p,i))})}else{return Promise.resolve()}};t.completeChangeContent=function(e,t,o){var n=o.appComponent;if(t.newLabel){e.setText("groupLabel",t.newLabel,"XFLD")}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.groupLabel attribute required")}var a={group:{}};if(t.index===undefined){throw new Error("Cannot create a new group: oSpecificChangeInfo.index attribute required")}else{a.group.index=t.index}if(t.newControlId){a.group.selector=r.getSelector(t.newControlId,n)}else{throw new Error("Cannot create a new group: oSpecificChangeInfo.newControlId attribute required")}e.setContent(a)};t.revertChange=function(e,r,t){var o=t.appComponent;var n=t.view;var a=t.modifier;var i=e.getRevertData().newGroupSelector;var l=a.bySelector(i,o,n);return Promise.resolve().then(function(){return a.removeAggregation(r,"formContainers",l)}).then(function(){a.destroy(l);e.resetRevertData()})};t.getChangeVisualizationInfo=function(e){var r=e.getText("groupLabel");return r?{descriptionPayload:{originalLabel:r}}:{}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/AddFormField", ["sap/ui/fl/changeHandler/BaseAddViaDelegate"],function(e){"use strict";var n=e.createAddViaDelegateChangeHandler({addProperty:function(e){var n=e.innerControls;var r=e.modifier;var t=e.view;var a=e.appComponent;var o=e.change;var i=o.getContent();var l=i.newFieldIndex;var u=i.newFieldSelector;var d;var g;return Promise.resolve().then(function(){if(!n.layoutControl){return Promise.resolve().then(r.createControl.bind(r,"sap.ui.layout.form.FormElement",a,t,u)).then(function(e){d=e;return Promise.all([r.insertAggregation(d,"label",n.label,0,t),r.insertAggregation(d,"fields",n.control,0,t)])})}d=n.control;return undefined}).then(function(){g=o.getDependentControl("parentFormContainer",e);return r.insertAggregation(g,"formElements",d,l,t)}).then(function(){if(n.valueHelp){return r.insertAggregation(g,"dependents",n.valueHelp,0,t)}return undefined})},aggregationName:"formElements",parentAlias:"parentFormContainer",fieldSuffix:"-field"});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/AddSimpleFormField", ["sap/ui/fl/changeHandler/BaseAddViaDelegate","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t){"use strict";var r="sap.ui.core.Title";var n="sap.m.Toolbar";var a="sap.m.Label";var o="sap.ui.comp.smartfield.SmartLabel";function i(e,t){var i=t.change;var l=t.modifier;var g=i.getContent();var c=g.newFieldIndex;var d=i.getDependentControl("targetContainerHeader",t);var v=e.indexOf(d);var s=0;var f=0;if(e.length===1||e.length===v+1){s=e.length}else{var u=0;for(u=v+1;u<e.length;u++){var p=l.getControlType(e[u]);if(p===a||p===o){if(f===c){s=u;break}f++}if(p===r||p===n){s=u;break}if(u===e.length-1){s=e.length}}}return s}function l(e,t,r){var n=e.slice();n.splice(t,0,r.label,r.control);return n}var g=e.createAddViaDelegateChangeHandler({addProperty:function(e){var t=e.control;var r=e.innerControls;var n=e.modifier;var a=e.appComponent;var o;var g;var c;var d=e.change;var v=d.getRevertData();v.labelSelector=n.getSelector(r.label,a);d.setRevertData(v);return Promise.resolve().then(n.getAggregation.bind(n,t,"content")).then(function(a){o=a;g=i(o,e);c=l(o,g,r);return n.replaceAllAggregation(t,"content",c)}).then(function(){if(r.valueHelp){return n.insertAggregation(t,"dependents",r.valueHelp,0,e.view)}return undefined})},revertAdditionalControls:function(e){var t=e.control;var r=e.change;var n=e.modifier;var a=e.appComponent;var o=r.getRevertData().labelSelector;if(o){var i=n.bySelector(o,a);return Promise.resolve().then(n.removeAggregation.bind(n,t,"content",i)).then(n.destroy.bind(n,i))}return Promise.resolve()},aggregationName:"content",mapParentIdIntoChange:function(e,t,r){var n=r.appComponent;var a=r.view;var o=r.modifier.bySelector(t.parentId,n,a);var i=o.getTitle()||o.getToolbar();if(i){e.addDependentControl(i.getId(),"targetContainerHeader",r)}},parentAlias:"_",fieldSuffix:"",skipCreateLayout:true});g.getChangeVisualizationInfo=function(e,r){const n=e.getSelector();const a=t.bySelector(n,r);const o=e.getRevertData();const i={updateRequired:true};if(o&&o.labelSelector){const e=t.bySelector(o.labelSelector,r);i.affectedControls=[e.getParent().getId()];if(!e.getVisible()){i.displayControls=[a]}}else{const n=t.bySelector(e.getContent().elementSelector,r);i.affectedControls=[e.getContent().newFieldSelector];if(!n.getVisible()){i.displayControls=[a]}}return i};g.getCondenserInfo=function(){return undefined};return g},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/AddSimpleFormGroup", ["sap/ui/fl/changeHandler/Base","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,r){"use strict";var t={};t.CONTENT_AGGREGATION="content";var n=function(e,r,t){return t.reduce(function(t,n){return t.then(function(t){if(t!==undefined){return t}var o=e.getControlType(n);if(r.indexOf(o)===-1){return Promise.resolve().then(e.getVisible.bind(e,n)).then(function(e){return e||undefined})}else{return false}})},Promise.resolve())};var o=function(e,r,t,o){var i;var a=-1;if(o===0){return o}return n(e,r,t).then(function(n){if(n){a++}for(var u=0;u<t.length;u++){var l=e.getControlType(t[u]);if(r.indexOf(l)>-1){a++;if(a===o){i=t[u];return t.indexOf(i)}}}return t.length})};t.applyChange=function(r,n,i){var a=i.modifier;var u=i.view;var l=i.appComponent;var f;var g=r.getTexts();var c=r.getContent();if(g&&g.groupLabel&&g.groupLabel.value&&c&&c.group&&(c.group.selector||c.group.id)){var d=c.group.selector;var p;if(d){if(d.idIsLocal){p=l.createId(d.id)}else{p=d.id}}else{p=c.group.id}r.setRevertData({groupId:p});var s=g.groupLabel.value;var v;return Promise.resolve().then(function(){return a.getAggregation(n,t.CONTENT_AGGREGATION)}).then(function(e){if(typeof c.group.index==="number"){return c.group.index}else{v=c.group.relativeIndex;return o(a,["sap.ui.core.Title","sap.m.Title","sap.m.Toolbar","sap.m.OverflowToolbar"],e,v)}}).then(function(r){f=r;if(a.bySelector(p,l)){return e.markAsNotApplicable("Control to be created already exists:"+p)}return a.createControl("sap.ui.core.Title",l,u,p)}).then(function(e){a.setProperty(e,"text",s);return a.insertAggregation(n,"content",e,f,u)})}};t.completeChangeContent=function(e,t,n){var o=n.appComponent;var i={group:{}};if(t.newLabel){e.setText("groupLabel",t.newLabel,"XFLD")}else{throw new Error("oSpecificChangeInfo.newLabel attribute required")}if(t.newControlId){i.group.selector=r.getSelector(t.newControlId,o)}else{throw new Error("oSpecificChangeInfo.newControlId attribute required")}if(t.index===undefined){throw new Error("oSpecificChangeInfo.index attribute required")}else{i.group.relativeIndex=t.index}e.setContent(i)};t.getControlIdFromChangeContent=function(e){var r;if(e&&e.getContent()){r=e.getContent().group.id}return r};t.revertChange=function(e,r,n){var o=n.appComponent;var i=n.view;var a=n.modifier;var u=e.getRevertData().groupId;var l=a.getSelector(u,o);var f=a.bySelector(l,o,i);return Promise.resolve().then(function(){return a.removeAggregation(r,t.CONTENT_AGGREGATION,f)}).then(function(){a.destroy(f);e.resetRevertData()})};t.getChangeVisualizationInfo=function(e,t){var n=e.getContent().group.selector;var o=r.bySelector(n,t).getParent().getId();var i=e.getText("groupLabel");return{affectedControls:[o],updateRequired:true,descriptionPayload:{originalLabel:i}}};t.getCondenserInfo=function(){return undefined};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/HideSimpleForm", ["sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/base/Log"],function(e,t,n){"use strict";var r={};var o=function(e,t){var n=t.getControlType(e);return n==="sap.ui.core.Title"||n==="sap.m.Title"||n==="sap.m.Toolbar"||n==="sap.m.OverflowToolbar"};var i=function(e,t){var n;for(n=0;n<e.length;++n){if(o(e[n],t)){return e[n]}}return undefined};function a(e){return e.modifier.targets==="xmlTree"}r.applyChange=function(e,t,r){var s=r.modifier;var l=r.view;var u=r.appComponent;if(a(r)){return Promise.reject(Error("Change cannot be applied in XML. Retrying in JS."))}var g=e.getContent();var c=s.bySelector(g.elementSelector||g.sHideId,u,l);var f;return this._getState(t,s,u).then(function(n){e.setRevertData(n);return s.getAggregation(t,"content")}).then(function(e){f=e}).then(function(){return f.reduce(function(e,n){return e.then(s.insertAggregation.bind(s,t,"dependents",n,0,l))},Promise.resolve())}).then(function(){return f.reduce(function(e,n,r){return e.then(s.insertAggregation.bind(s,t,"content",n,r,l))},Promise.resolve())}).then(function(){var n=-1;var r=e.getChangeType();if(r==="hideSimpleFormField"){f.some(function(e,t){if(e===c){n=t;s.setVisible(e,false)}if(n>=0&&t>n){if(s.getControlType(e)==="sap.m.Label"||s.getControlType(e)==="sap.ui.comp.smartfield.SmartLabel"||o(e,s)){return true}else{s.setVisible(e,false)}}})}else if(r==="removeSimpleFormGroup"){var a=[];var u=i(f,s);var g=u&&!c;f.some(function(e,r){if(!u){s.setVisible(e,false)}else if(g){n=0;s.setVisible(e,false);g=false}else{if(e===c){n=r}if(n>=0&&r>n){if(o(e,s)){if(n===0){a.push(function(){return Promise.resolve().then(s.removeAggregation.bind(s,t,"content",e,l))});a.push(function(){return Promise.resolve().then(s.insertAggregation.bind(s,t,"content",e,0,l))})}return true}else{s.setVisible(e,false)}}}});if(c){a.push(function(){return Promise.resolve().then(s.removeAggregation.bind(s,t,"content",c,l))});a.push(function(){return Promise.resolve().then(s.insertAggregation.bind(s,t,"dependents",c,0,l))})}if(a.length>0){return a.reduce(function(e,t){return e.then(t)},Promise.resolve())}}return Promise.resolve()}).catch(function(t){e.resetRevertData();n.error(t.message||t.name)})};r._getStableElement=function(e){if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){return e.getTitle()||e.getToolbar()}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){return e.getLabel()}else{return e}};r.completeChangeContent=function(n,r,o){if(r.removedElement&&r.removedElement.id){var i=this._getStableElement(e.getElementById(r.removedElement.id));n.setContent({elementSelector:t.getSelector(i,o.appComponent)});n.addDependentControl(i,"elementSelector",o)}else{throw new Error("oSpecificChangeInfo.removedElement.id attribute required")}};r._getState=function(e,t,n){return Promise.resolve().then(function(){return t.getAggregation(e,"content")}).then(function(e){if(!e){return Promise.reject(new Error("Cannot get control state: 'content' aggregation doesn't exist"))}return{content:e.map(function(r){return{elementSelector:t.getSelector(t.getId(r),n),visible:r.getVisible?r.getVisible():undefined,index:e.indexOf(r)}})}})};r.revertChange=function(e,t,n){var r=e.getRevertData();var o=n.appComponent;var i=n.modifier;return Promise.resolve().then(i.removeAllAggregation.bind(i,t,"content")).then(function(){return r.content.reduce(function(e,r){var a=i.bySelector(r.elementSelector,o,n.view);var s=i.getId(a);return e.then(i.getAggregation.bind(i,t,"dependents")).then(function(e){var r=Promise.resolve();e.some(function(e){var o=i.getId(e);if(o===s){r=r.then(i.removeAggregation.bind(i,t,"dependents",e,n.view));return true}});return r}).then(i.insertAggregation.bind(i,t,"content",a,r.index,n.view)).then(function(){i.setProperty(a,"visible",r.visible)})},Promise.resolve()).then(function(){e.resetRevertData()})})};r.getChangeVisualizationInfo=function(e,n){const r=e.getContent().elementSelector;const o=e.getSelector();const i=t.bySelector(o,n);const a=t.bySelector(r,n);const s=a.getParent();let l=i.getId();if(s.isA("sap.ui.layout.form.FormElement")){if(a.getVisible()){l=s.getId()}}return{affectedControls:[a.getId()],displayControls:[l],updateRequired:true}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/MoveSimpleForm", ["sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/base/util/uid","sap/base/Log"],function(e,t,n,o){"use strict";const r={};const c="moveSimpleFormField";const i="moveSimpleFormGroup";const l="sap.ui.core.Title";const s="sap.m.Title";const u="sap.m.Toolbar";const a="sap.m.OverflowToolbar";const d="sap.m.Label";const g="sap.ui.comp.smartfield.SmartLabel";const p="content";const f="sap.ui.layout.form.FormContainer";function m(e,t,n){return n.reduce(function(n,o){return n.then(function(n){if(n!==undefined){return n}const r=e.getControlType(o);if(t.indexOf(r)===-1){return Promise.resolve().then(e.getVisible.bind(e,o)).then(function(e){return e||undefined})}else{return false}})},Promise.resolve())}function C(e,t,n,o,r,c,i){return m(t,c,n).then(function(n){if(n){const n=r.view;const c=r.appComponent;let s;return Promise.resolve().then(t.createControl.bind(t,l,c,n,i)).then(function(e){s=e;t.setProperty(s,"text","");return t.insertAggregation(o,p,s,0,n)}).then(function(){const t=e.getRevertData();t.createdTitleSelector=r.modifier.getSelector(s,r.appComponent);e.setRevertData(t)})}return Promise.resolve()}).then(function(){return t.getAggregation(o,p)})}function S(e,t,n,o){let r;let c=-1;return m(e,t,n).then(function(i){if(i){c++}for(let i=0;i<n.length;i++){const l=e.getControlType(n[i]);if(t.indexOf(l)>-1){c++;if(c===o){r=n[i];break}}}return n.indexOf(r)})}function h(e,t,n){if(t>=e.length||t===-1){return true}const o=n.getControlType(e[t]);return l===o||u===o||s===o||a===o}function v(e,t,n,o){let r=0;for(r=t+1;r<n.length;++r){const t=e.getControlType(n[r]);if(o.indexOf(t)>-1){break}}return r-t}function I(e,t,n){return v(e,n,t,[l,s,u,a,d,g])}function y(e,t,n,r,c){if(!h(t,n,e)){o.error("Illegal argument. iIndex has to point to a Label.");return-1}else{r=c?r+1:r;let o=0;let i=n;let l;while(i<t.length&&o<r){++o;l=I(e,t,i);i+=l}return i}}function b(e,t,n,o,r){const c=n;for(let n=0;n<r;n++){c.splice(o+n,0,e[t+n])}return c}function x(e){return e.getTitle()||e.getToolbar()}function T(e,t,n){const o=x(t.element);const r=n.modifier.getSelector(e,n.appComponent);const c={elementSelector:n.modifier.getSelector(o,n.appComponent),source:{groupIndex:t.sourceIndex},target:{groupIndex:t.targetIndex}};return{changeType:i,targetSelector:r,movedControl:o,movedElements:[c]}}function P(e,t,n,o,r){const i=r.modifier.getSelector(e,r.appComponent);const l=t.element.getLabel();const s=r.modifier.getSelector(l,r.appComponent);const u=x(o.parent);const a=x(n.parent);const d=r.modifier.getSelector(u,r.appComponent);const g=r.modifier.getSelector(a,r.appComponent);if(!g.id){g.id=n.parent.getId()}if(!d.id){d.id=o.parent.getId()}const p={elementSelector:s,source:{groupSelector:g,fieldIndex:t.sourceIndex},target:{groupSelector:d,fieldIndex:t.targetIndex}};return{changeType:c,targetSelector:i,target:u,source:a,movedControl:l,movedElements:[p]}}function w(e,t,n,o,r,c){return Promise.resolve().then(function(){return r.reduce(function(n,o){return n.then(e.insertAggregation.bind(e,t,"dependents",o,0,c))},Promise.resolve())}).then(function(){return o.reduce(function(n,o,r){return n.then(e.insertAggregation.bind(e,t,p,o,r,c))},Promise.resolve())})}r.applyChange=function(e,t,n){const d=n.modifier;const g=n.view;const f=n.appComponent;let m;let h;let x;const T=e.getContent();const P=T.movedElements[0];return Promise.resolve().then(function(){return d.getAggregation(t,p)}).then(function(p){const E=p.map(function(e){return d.getSelector(e,f)});const O={content:E};e.setRevertData(O);if(e.getChangeType()===c){const e=d.bySelector(P.elementSelector||P.element,f,g);const n=p.indexOf(e);const o=I(d,p,n);const c=d.bySelector(P.source.groupSelector||P.source.groupId,f,g);m=d.bySelector(P.target.groupSelector||P.target.groupId,f,g);const i=p.indexOf(c);const l=p.indexOf(m);const s=y(d,p,l,P.target.fieldIndex,i===l&&P.source.fieldIndex<P.target.fieldIndex);const u=I(d,p,s);h=p.slice();const a=h.slice(n,n+o);let C,S,v,b;if(n<s){C=h.slice(0,n);v=h.slice(n+o,s+u);b=h.slice(s+u,h.length);h=C.concat(v.concat(a.concat(b)))}else if(n>s){S=h.slice(0,s+u);v=h.slice(s+u,n);b=h.slice(n+o,h.length);h=S.concat(a.concat(v.concat(b)))}if(n!=s){return w(d,t,r,h,p,g)}}else if(e.getChangeType()===i){const o=[l,u,s,a];const c=d.bySelector(P.elementSelector||P.element,f,g);return Promise.resolve().then(function(){if(P.target.groupIndex===0||!c){return C(e,d,p,t,n,o,T.newControlId).then(function(e){p=e})}return undefined}).then(function(){x=c?p.indexOf(c):0;return S(d,o,p,P.target.groupIndex)}).then(function(e){m=p[e];const n=v(d,e,p,o);const c=v(d,x,p,o);h=p.slice();h.splice(x,c);e=h.indexOf(m);const i=P.source.groupIndex<P.target.groupIndex?n:0;h=b(p,x,h,e+i,c);return w(d,t,r,h,p,g)})}else{o.warning("Unknown change type detected. Cannot apply to SimpleForm")}})};r.completeChangeContent=function(t,r,c){let i;const l=c.modifier;const s=c.view;const u=c.appComponent;const a=l.bySelector(r.selector,u,s);const d=r.movedElements;if(d.length>1){o.warning("Moving more than 1 Formelement is not yet supported.")}const g=d[0];g.element=e.getElementById(g.id);const p=Object.assign({},r.source);const f=Object.assign({},r.target);if(!f.parent){f.parent=e.getElementById(f.id)}if(!p.parent){p.parent=e.getElementById(p.id)}if(a&&g.element&&f.parent){if(r.changeType==="moveSimpleFormGroup"){i=T(a,g,c)}else if(r.changeType==="moveSimpleFormField"){i=P(a,g,p,f,c)}}else{o.error("Element not found. This may be caused by an unstable id!")}const m={targetSelector:i.targetSelector,movedElements:i.movedElements,newControlId:l.getSelector(s.createId(n()),u)};t.setContent(m);if(i.source&&i.target){t.addDependentControl(i.source,"sourceParent",c);t.addDependentControl(i.target,"targetParent",c)}if(i.movedControl){t.addDependentControl([i.movedControl],"movedElements",c)}};r.revertChange=function(e,t,n){const o=n.modifier;const c=n.appComponent;const i=n.view;const l=e.getRevertData();const s=l.content;return o.getAggregation(t,p).then(function(u){const a=s.map(function(e){return o.bySelector(e,c,i)});return w(o,t,r,a,u,i).then(function(){const t=l.createdTitleSelector;const o=n.modifier.bySelector(t,n.appComponent);if(o){o.destroy()}e.resetRevertData();return true})})};r.getChangeVisualizationInfo=function(e,n){let o;const r=e.getContent().movedElements[0];if(r.elementSelector.id){o=t.bySelector(r.elementSelector,n)}else if(e.getContent().newControlId){o=t.bySelector(e.getContent().newControlId,n)}let i=r.source.groupSelector?{...r.source.groupSelector}:{};const l=r.target.groupSelector?{...r.target.groupSelector}:{};if(e.getChangeType()===c){const e=t.bySelector(i,n);const o=t.bySelector(r.target.groupSelector,n);if(e&&e.isA(f)){i.id=e.getId()}else{i.id=e?e.getParent().getId():null}if(o&&o.isA(f)){l.id=o.getId()}else{l.id=o?o.getParent().getId():null}}else if(!i&&h([o],0,t)){const e=o.getParent();i={id:e.getId()}}const s=o.getParent().getId();return{affectedControls:[s],dependentControls:[i&&i.id?i:e.getContent().targetSelector],updateRequired:true,descriptionPayload:{sourceContainer:i.id,targetContainer:l.id}}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/RenameFormContainer", [],function(){"use strict";var e={};var t={TARGET_ALIAS:"target"};e.applyChange=function(e,r,n){var o=n.modifier,i=e.getTexts(),a=e.getDependentControl(t.TARGET_ALIAS,n);return Promise.resolve().then(function(){return o.getAggregation(a,"title")}).then(function(t){if(i&&i.formText&&this._isProvided(i.formText.value)){var r=i.formText.value;var n;if(typeof t==="string"){n=Promise.resolve(o.getProperty(a,"title")).then(function(t){e.setRevertData(t);o.setProperty(a,"title",r)})}else{n=Promise.resolve(o.getProperty(t,"text")).then(function(n){e.setRevertData(n);o.setProperty(t,"text",r)})}return n}}.bind(this))};e.completeChangeContent=function(e,r,n){if(!(r.renamedElement&&r.renamedElement.id)){throw new Error("Rename of the group cannot be executed: oSpecificChangeInfo.renamedElement attribute required")}if(!this._isProvided(r.value)){throw new Error("Rename of the group cannot be executed: oSpecificChangeInfo.value attribute required")}e.addDependentControl(r.renamedElement.id,t.TARGET_ALIAS,n);e.setText("formText",r.value,"XGRP")};e.revertChange=function(e,r,n){var o=e.getRevertData(),i=n.modifier,a=e.getDependentControl(t.TARGET_ALIAS,n);return Promise.resolve().then(function(){return i.getAggregation(a,"title")}).then(function(t){if(typeof t==="string"){i.setProperty(a,"title",o)}else{i.setProperty(t,"text",o)}e.resetRevertData()})};e._isProvided=function(e){return typeof e==="string"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/RenameFormElement", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";var t={};var n=function(e){return typeof e==="string"};t.applyChange=function(e,t,n){var r=n.modifier,a=e.getText("fieldLabel");return Promise.resolve().then(function(){return r.getAggregation(t,"label")}).then(function(n){if(typeof n==="string"){e.setRevertData(n);return r.setProperty(t,"label",a)}return r.getProperty(n,"text").then(function(t){e.setRevertData(t);r.setProperty(n,"text",a)})})};t.completeChangeContent=function(e,t,r){if(!(t.renamedElement&&t.renamedElement.id)){throw new Error("Rename of label cannot be executed: oSpecificChangeInfo.renamedElement attribute required")}if(!n(t.value)){throw new Error("Rename of label cannot be executed: oSpecificChangeInfo.value attribute required")}e.setText("fieldLabel",t.value,"XGRP")};t.revertChange=function(e,t,n){var r=e.getRevertData(),a=n.modifier;return Promise.resolve().then(function(){return a.getAggregation(t,"label")}).then(function(n){if(typeof n==="string"){a.setProperty(t,"label",r)}else{a.setProperty(n,"text",r)}e.resetRevertData()})};t.getChangeVisualizationInfo=function(e){var t=e.getText("fieldLabel");return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:t}}};t.getCondenserInfo=function(t){return{affectedControl:t.getSelector(),classification:e.LastOneWins,uniqueKey:"label"}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/RenameSimpleForm", ["sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/base/Log"],function(e,t,r){"use strict";var n={};n.applyChange=function(e,t,r){var n=r.modifier;var o=r.view;var a=r.appComponent;var i=e.getTexts();var l=e.getContent();var d=l.elementSelector||l.sRenameId;var v=n.bySelector(d,a,o);if(i&&i.formText&&this._isProvided(i.formText.value)){if(!t){return Promise.reject(new Error("no Control provided for renaming"))}return n.getPropertyBindingOrProperty(v,"text").then(function(t){e.setRevertData(t);var r=i.formText.value;n.setPropertyBindingOrProperty(v,"text",r)})}else{return Promise.resolve()}};n.revertChange=function(e,t,n){var o=e.getRevertData();var a=n.appComponent;var i=e.getContent();var l=n.view;var d=n.modifier;var v=i.elementSelector||i.sRenameId;var f=d.bySelector(v,a,l);if(o||o===""){d.setPropertyBindingOrProperty(f,"text",o);f.getParent().invalidate();e.resetRevertData()}else{r.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")}};n.completeChangeContent=function(r,n,o){var a={};if(!n.changeType){throw new Error("oSpecificChangeInfo.changeType attribute required")}if(n.renamedElement&&n.renamedElement.id){var i=e.getElementById(n.renamedElement.id);var l;if(n.changeType==="renameLabel"){l=i.getLabel()}else if(n.changeType==="renameTitle"){l=i.getTitle()}a.elementSelector=t.getSelector(l,o.appComponent);r.addDependentControl(l,"elementSelector",o)}else{throw new Error("oSpecificChangeInfo.renamedElement attribute required")}if(this._isProvided(n.value)){r.setText("formText",n.value,"XFLD")}else{throw new Error("oSpecificChangeInfo.value attribute required")}r.setContent(a)};n._isProvided=function(e){return typeof e==="string"};n.getChangeVisualizationInfo=function(e,r){var n=e.getContent().elementSelector;var o=t.bySelector(n,r).getParent().getId();return{affectedControls:[o],updateRequired:true,descriptionPayload:{originalLabel:e.getRevertData(),newLabel:e.getTexts().formText.value}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/changeHandler/UnhideSimpleForm", ["sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t){"use strict";var r={};function n(e){return e.modifier.targets==="xmlTree"}r.applyChange=function(e,t,r){var o=r.modifier;var i=r.view;var l=r.appComponent;var a=e.getContent();if(n(r)){return Promise.reject(Error("Change cannot be applied in XML. Retrying in JS."))}var s=o.bySelector(a.elementSelector||a.sUnhideId,l,i);return Promise.resolve().then(function(){return o.getAggregation(t,"content")}).then(function(t){var r=-1;if(e.getChangeType()==="unhideSimpleFormField"){e.setRevertData(true);t.some(function(e,t){if(e===s){r=t;o.setVisible(e,true)}if(r>=0&&t>r){if(o.getControlType(e)==="sap.m.Label"||o.getControlType(e)==="sap.ui.comp.smartfield.SmartLabel"||o.getControlType(e)==="sap.ui.core.Title"||o.getControlType(e)==="sap.m.Title"||o.getControlType(e)==="sap.m.Toolbar"||o.getControlType(e)==="sap.m.OverflowToolbar"){return true}o.setVisible(e,true)}})}})};r.completeChangeContent=function(r,n,o){var i={};if(n.sUnhideId){var l=e.getElementById(n.sUnhideId);i.elementSelector=t.getSelector(l,o.appComponent);r.addDependentControl(l,"elementSelector",o)}else if(n.revealedElementId){var a=e.getElementById(n.revealedElementId||n.sUnhideId);var s=a.getLabel();i.elementSelector=t.getSelector(s,o.appComponent);r.addDependentControl(s,"elementSelector",o)}else{throw new Error("oSpecificChangeInfo.revealedElementId attribute required")}r.setContent(i)};r.revertChange=function(e,t,r){var n=r.modifier;var o=r.view;var i=r.appComponent;var l=e.getContent();var a=n.bySelector(l.elementSelector||l.sUnhideId,i,o);return Promise.resolve().then(function(){return n.getAggregation(t,"content")}).then(function(t){var r=-1;if(e.getChangeType()==="unhideSimpleFormField"){t.some(function(e,t){if(e===a){r=t;n.setVisible(e,false)}if(r>=0&&t>r){if(n.getControlType(e)==="sap.m.Label"||n.getControlType(e)==="sap.ui.comp.smartfield.SmartLabel"||n.getControlType(e)==="sap.ui.core.Title"||n.getControlType(e)==="sap.m.Title"||n.getControlType(e)==="sap.m.Toolbar"||n.getControlType(e)==="sap.m.OverflowToolbar"){return true}n.setVisible(e,false)}});e.resetRevertData()}return Promise.resolve()})};r.getChangeVisualizationInfo=function(e,r){const n=e.getContent().elementSelector;const o=e.getSelector();const i=t.bySelector(n,r);const l=i.getParent();const a=t.bySelector(o,r);const s={affectedControls:[l.getId()],updateRequired:true};if(!i.getVisible()){s.displayControls=[a.getId()]}return s};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/CSSGrid", ["sap/ui/core/Control","sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/layout/cssgrid/GridBasicLayout","sap/ui/layout/cssgrid/GridLayoutDelegate","./CSSGridRenderer","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library"],function(e,t,i,a,r,o){"use strict";var s=e.extend("sap.ui.layout.cssgrid.CSSGrid",{metadata:{library:"sap.ui.layout",defaultAggregation:"items",interfaces:["sap.ui.layout.cssgrid.IGridConfigurable"],properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}},aggregations:{customLayout:{type:"sap.ui.layout.cssgrid.GridLayoutBase",multiple:false},items:{type:"sap.ui.core.Control",multiple:true,singularName:"item",dnd:true}},dnd:{draggable:false,droppable:true}},renderer:r});s.prototype.getGridDomRefs=function(){return[this.getDomRef()]};s.prototype.getGridLayoutConfiguration=function(){if(this.getCustomLayout()){return this.getCustomLayout()}else{return this._getDefaultGridLayout()}};s.prototype._getDefaultGridLayout=function(){var e=new i({gridTemplateColumns:this.getGridTemplateColumns(),gridTemplateRows:this.getGridTemplateRows(),gridRowGap:this.getGridRowGap(),gridColumnGap:this.getGridColumnGap(),gridGap:this.getGridGap(),gridAutoRows:this.getGridAutoRows(),gridAutoColumns:this.getGridAutoColumns(),gridAutoFlow:this.getGridAutoFlow()});return e};s.prototype.init=function(){this._oItemDelegate={onAfterRendering:this._onAfterItemRendering};this._oGridObserver=new o(this._onGridChange.bind(this));this._oGridObserver.observe(this,{aggregations:["items"]});this._addGridLayoutDelegate()};s.prototype.exit=function(){this._removeGridLayoutDelegate();if(this._oGridObserver){this._oGridObserver.disconnect();this._oGridObserver=null}};s.prototype._addGridLayoutDelegate=function(){if(!this.oGridLayoutDelegate){this.oGridLayoutDelegate=new a;this.addDelegate(this.oGridLayoutDelegate,false,this,false)}};s.prototype._removeGridLayoutDelegate=function(){if(this.oGridLayoutDelegate){this.removeDelegate(this.oGridLayoutDelegate);this.oGridLayoutDelegate.destroy();this.oGridLayoutDelegate=null}};s.prototype._onGridChange=function(e){var t;if(e.name!=="items"||!e.child){return}if(e.mutation==="insert"){t=!e.child.isA("sap.ui.core.HTML");e.child.addDelegate(this._oItemDelegate,t,e.child)}else if(e.mutation==="remove"){e.child.removeEventDelegate(this._oItemDelegate,e.child)}};s.prototype._onAfterItemRendering=function(){t.setItemStyles(this)};s.prototype.onLayoutDataChange=function(e){t.setItemStyles(e.srcControl)};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/CSSGridRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){t.openStart("div",e).class("sapUiLayoutCSSGrid");if(e.getWidth()){t.style("width",e.getWidth())}e.getGridLayoutConfiguration().addGridStyles(t);t.openEnd();e.getItems().forEach(t.renderControl,t);t.close("div")};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridBasicLayout", ["sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/layout/cssgrid/GridSettings","sap/ui/layout/library"],function(t,i){"use strict";var a=t.extend("sap.ui.layout.cssgrid.GridBasicLayout",{metadata:{library:"sap.ui.layout",properties:{gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}}}});a.prototype.getActiveGridSettings=function(){return new i({gridTemplateColumns:this.getGridTemplateColumns(),gridTemplateRows:this.getGridTemplateRows(),gridRowGap:this.getGridRowGap(),gridColumnGap:this.getGridColumnGap(),gridGap:this.getGridGap(),gridAutoRows:this.getGridAutoRows(),gridAutoColumns:this.getGridAutoColumns(),gridAutoFlow:this.getGridAutoFlow()})};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridBoxLayout", ["sap/ui/core/Element","sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/layout/cssgrid/GridSettings","sap/ui/Device","sap/ui/thirdparty/jquery"],function(t,i,e,s,jQuery){"use strict";var a=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;var o=a.exec("XL7 L6 M4 S2");var r={Phone:"sapUiLayoutCSSGridBoxLayoutSizeS",Tablet:"sapUiLayoutCSSGridBoxLayoutSizeM",Desktop:"sapUiLayoutCSSGridBoxLayoutSizeL",LargeDesktop:"sapUiLayoutCSSGridBoxLayoutSizeXL"};var n={XL:"sapUiLayoutCSSGridBoxLayoutSpanXL7",L:"sapUiLayoutCSSGridBoxLayoutSpanL6",M:"sapUiLayoutCSSGridBoxLayoutSpanM4",S:"sapUiLayoutCSSGridBoxLayoutSpanS2"};var p="0.5rem";var l=i.extend("sap.ui.layout.cssgrid.GridBoxLayout",{metadata:{library:"sap.ui.layout",properties:{boxMinWidth:{type:"sap.ui.core.CSSSize",defaultValue:""},boxWidth:{type:"sap.ui.core.CSSSize",defaultValue:""},boxesPerRowConfig:{type:"sap.ui.layout.BoxesPerRowConfig",group:"Behavior",defaultValue:"XL7 L6 M4 S2"}}}});l.prototype.getActiveGridSettings=function(){return new e({gridTemplateColumns:this._getTemplateColumns(),gridGap:p+" "+p})};l.prototype._applySingleGridLayout=function(e){i.prototype._applySingleGridLayout.call(this,e);var s=t.getElementById(e.parentElement.id);if(s&&s.isA("sap.f.GridList")&&s.isGrouped()){this._flattenHeight(s)}};l.prototype.addGridStyles=function(t){i.prototype.addGridStyles.apply(this,arguments);this._addSpanClasses(t);t.class("sapUiLayoutCSSGridBoxLayoutContainer")};l.prototype.onGridAfterRendering=function(t){t.getGridDomRefs().forEach(function(t){if(t.children){for(var i=0;i<t.children.length;i++){if(!t.children[i].classList.contains("sapMGHLI")&&!t.children[i].classList.contains("sapUiBlockLayerTabbable")){t.children[i].classList.add("sapUiLayoutCSSGridItem")}}}});if(!this._hasBoxWidth()){this._applySizeClass(t)}if(t.isA("sap.f.GridList")&&t.getGrowing()){var i=t._oGrowingDelegate._onAfterPageLoaded;t._oGrowingDelegate._onAfterPageLoaded=function(){i.call(t._oGrowingDelegate);if(t.isA("sap.f.GridList")&&t.isGrouped()){this._flattenHeight(t)}}.bind(this)}};l.prototype.isResponsive=function(){return true};l.prototype.onGridResize=function(t){if(t.control&&t.control.isA("sap.f.GridList")&&t.control.isGrouped()){this._flattenHeight(t.control)}if(t){if(!this._hasBoxWidth()){this._applySizeClass(t.control)}}};l.prototype._flattenHeight=function(t){var i=0,e;this._loopOverGridItems(t,function(t){if(!t.classList.contains("sapMGHLI")){t.style.height=""}});this._loopOverGridItems(t,function(t){if(!t.classList.contains("sapMGHLI")){i=Math.max(jQuery(t).outerHeight(),i)}});e=i+"px";this._loopOverGridItems(t,function(t){if(!t.classList.contains("sapMGHLI")){t.style.height=e}})};l.prototype._applySizeClass=function(t){var i=s.media.getCurrentRange("StdExt",t.$().width());if(!i){return}var e=r[i.name];t.getGridDomRefs().forEach(function(t){if(!t.classList.contains(e)){Object.keys(r).map(function(i){t.classList.remove(r[i])});t.classList.add(e)}})};l.prototype._getTemplateColumns=function(){var t="";if(this.getBoxWidth()){t="repeat(auto-fit, "+this.getBoxWidth()+")"}else if(this.getBoxMinWidth()){t="repeat(auto-fit, minmax("+this.getBoxMinWidth()+", 1fr))"}return t};l.prototype._hasBoxWidth=function(){if(this.getBoxWidth()||this.getBoxMinWidth()){return true}else{return false}};l.prototype._addSpanClasses=function(t){var i,e=this.getBoxesPerRowConfig(),s,r,p,l;if(this._hasBoxWidth()){return}if(!e||!e.length===0){i=o}else{i=a.exec(e)}if(i){for(var u=1;u<i.length;u++){var d=i[u];if(!d){continue}d=d.toUpperCase();switch(d.substr(0,1)){case"X":if(d.substr(1,1)==="L"){s=this._getBoxesPerRowClass(d,2)}break;case"L":r=this._getBoxesPerRowClass(d,1);break;case"M":p=this._getBoxesPerRowClass(d,1);break;case"S":l=this._getBoxesPerRowClass(d,1);break;default:break}}}s=s||n.XL;r=r||n.L;p=p||n.M;l=l||n.S;t.class(s).class(r).class(p).class(l)};l.prototype._getBoxesPerRowClass=function(t,i){var e=parseInt(t.substr(i,t.length));if(e&&e>0&&e<13){return"sapUiLayoutCSSGridBoxLayoutSpan"+t}};l.prototype._loopOverGridItems=function(t,i){t.getGridDomRefs().forEach(function(t){if(t&&t.children){for(var e=0;e<t.children.length;e++){if(t.children[e].style.display!=="none"&&t.children[e].style.visibility!=="hidden"){i(t.children[e])}}}})};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridItemLayoutData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(t){"use strict";var e={gridColumnStart:"grid-column-start",gridColumnEnd:"grid-column-end",gridRowStart:"grid-row-start",gridRowEnd:"grid-row-end",gridColumn:"grid-column",gridRow:"grid-row"};var r=t.extend("sap.ui.layout.cssgrid.GridItemLayoutData",{metadata:{library:"sap.ui.layout",interfaces:["sap.ui.layout.cssgrid.IGridItemLayoutData"],properties:{gridColumnStart:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridColumnEnd:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRowStart:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRowEnd:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridColumn:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""},gridRow:{type:"sap.ui.layout.cssgrid.CSSGridLine",defaultValue:""}}}});r.prototype.setItemStyles=function(t){if(!t){return}var i=this.getMetadata().getProperties();for(var a in e){if(i[a]){var u=this.getProperty(a);if(typeof u!=="undefined"){r._setItemStyle(t,e[a],u)}}}};r.removeItemStyles=function(t){for(var r in e){t.style.removeProperty(e[r])}};r._setItemStyle=function(t,e,r){if(r!=="0"&&!r){t.style.removeProperty(e)}else{t.style.setProperty(e,r)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridLayoutBase", ["sap/ui/base/ManagedObject","./GridItemLayoutData"],function(t,e){"use strict";var r={gridTemplateColumns:"grid-template-columns",gridTemplateRows:"grid-template-rows",gridGap:"grid-gap",gridColumnGap:"grid-column-gap",gridRowGap:"grid-row-gap",gridAutoRows:"grid-auto-rows",gridAutoColumns:"grid-auto-columns",gridAutoFlow:"grid-auto-flow"};var i={Row:"row",Column:"column",RowDense:"row dense",ColumnDense:"column dense"};var o=t.extend("sap.ui.layout.cssgrid.GridLayoutBase",{metadata:{library:"sap.ui.layout",abstract:true}});o.setItemStyles=function(t){if(!t){return}var r=o._getLayoutDataForControl(t),i=t.getDomRef();if(!i){return}if(!r){e.removeItemStyles(i)}else{r.setItemStyles(i)}};o._getLayoutDataForControl=function(t){var e,r,i;if(!t){return undefined}e=t.getLayoutData();if(!e){return undefined}if(e.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return e}if(e.isA("sap.ui.core.VariantLayoutData")){r=e.getMultipleLayoutData();for(var o=0;o<r.length;o++){i=r[o];if(i.isA("sap.ui.layout.cssgrid.IGridItemLayoutData")){return i}}}};o.prototype.applyGridLayout=function(t){if(!t){return}t.forEach(this._applySingleGridLayout,this)};o.prototype._applySingleGridLayout=function(t){if(!t){return}t=t instanceof window.HTMLElement?t:t.getDomRef();var e=this.getActiveGridSettings();if(t.style.getPropertyValue("display")!=="grid"){t.style.setProperty("display","grid")}if(e){this._setGridLayout(t,e)}else{this._removeGridLayout(t)}};o.prototype._setGridLayout=function(t,e){var o=e.getMetadata().getProperties(),a,n;for(a in r){if(o[a]){n=e.getProperty(a);if(a==="gridAutoFlow"){n=i[n]}if(n===""&&(a==="gridRowGap"||a==="gridColumnGap")){continue}t.style.setProperty(r[a],n)}}};o.prototype._removeGridLayout=function(t){for(var e in r){t.style.removeProperty(r[e])}};o.prototype.getActiveGridSettings=function(){throw new Error("GridLayoutBase getActiveGridSettings not implemented in child class")};o.prototype.onGridAfterRendering=function(t){};o.prototype.onGridResize=function(t){};o.prototype.isResponsive=function(){return false};o.prototype.addGridStyles=function(t){var e=this.getActiveGridSettings();t.style("display","grid");if(!e||this.isResponsive()){return}var o=e.getMetadata().getProperties();for(var a in r){if(o[a]){var n=e.getProperty(a);if(a==="gridAutoFlow"){n=i[n]}t.style(r[a],n)}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridLayoutDelegate", ["sap/ui/base/Object","sap/ui/core/ResizeHandler"],function(e,i){"use strict";var r=e.extend("sap.ui.layout.cssgrid.GridLayoutDelegate");r.prototype.onBeforeRendering=function(){r.deregisterResizeListener(this)};r.prototype.onAfterRendering=function(){var e=this.getGridLayoutConfiguration();if(!e){return}e.onGridAfterRendering(this);if(e.isResponsive()){e.applyGridLayout(this.getGridDomRefs());r.registerResizeListener(this)}};r.prototype.exit=function(){r.deregisterResizeListener(this)};r.registerResizeListener=function(e){e.__grid__sResizeListenerId=i.register(e,r.onResize.bind(e))};r.deregisterResizeListener=function(e){if(e.__grid__sResizeListenerId){i.deregister(e.__grid__sResizeListenerId);e.__grid__sResizeListenerId=null}};r.onResize=function(e){var i=this.getGridLayoutConfiguration();if(!i){return}i.onGridResize(e);i.applyGridLayout(this.getGridDomRefs())};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridResponsiveLayout", ["sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/Device","sap/ui/layout/cssgrid/GridSettings"],function(t,e,i){"use strict";var s=t.extend("sap.ui.layout.cssgrid.GridResponsiveLayout",{metadata:{library:"sap.ui.layout",properties:{containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{layout:{type:"sap.ui.layout.cssgrid.GridSettings",defaultClass:i,multiple:false},layoutS:{type:"sap.ui.layout.cssgrid.GridSettings",defaultClass:i,multiple:false},layoutM:{type:"sap.ui.layout.cssgrid.GridSettings",defaultClass:i,multiple:false},layoutL:{type:"sap.ui.layout.cssgrid.GridSettings",defaultClass:i,multiple:false},layoutXL:{type:"sap.ui.layout.cssgrid.GridSettings",defaultClass:i,multiple:false}},events:{layoutChange:{parameters:{layout:{type:"string"}}}}}});s.mSizeClasses={Phone:"sapUiLayoutCSSGridS",Tablet:"sapUiLayoutCSSGridM",Desktop:"sapUiLayoutCSSGridL",LargeDesktop:"sapUiLayoutCSSGridXL"};s.mSizeLayouts={Phone:"layoutS",Tablet:"layoutM",Desktop:"layoutL",LargeDesktop:"layoutXL"};s.prototype.init=function(){this._sActiveLayout="layout"};s.prototype.getActiveGridSettings=function(){return this.getAggregation(this._sActiveLayout)};s.prototype.isResponsive=function(){return true};s.prototype.onGridAfterRendering=function(t){this.setActiveLayout(t,false)};s.prototype.onGridResize=function(t){if(!t||t.size.width===0){return}this.setActiveLayout(t.control,true)};s.prototype.applySizeClass=function(t,e){if(t.hasClass(e)){return}var i=Object.keys(s.mSizeClasses).map(function(t){return s.mSizeClasses[t]});t.removeClass(i.join(" "));t.addClass(e)};s.prototype.setActiveLayout=function(t,i){var a=this.getContainerQuery()?t.$().outerWidth():window.innerWidth;var o=e.media.getCurrentRange("StdExt",a),u=s.mSizeLayouts[o.name],r=this._getLayoutToApply(u);this.applySizeClass(t.$(),s.mSizeClasses[o.name]);if(this._sActiveLayout===r){return}this._sActiveLayout=r;if(i){this.fireLayoutChange({layout:r})}};s.prototype._getLayoutToApply=function(t){if(this.getAggregation(t)){return t}return"layout"};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/GridSettings", ["sap/ui/base/ManagedObject","sap/ui/layout/library"],function(a){"use strict";var u=a.extend("sap.ui.layout.cssgrid.GridSettings",{metadata:{library:"sap.ui.layout",properties:{gridTemplateColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridTemplateRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridRowGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridColumnGap:{type:"sap.ui.core.CSSSize",defaultValue:""},gridGap:{type:"sap.ui.core.CSSGapShortHand",defaultValue:""},gridAutoRows:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoColumns:{type:"sap.ui.layout.cssgrid.CSSGridTrack",defaultValue:""},gridAutoFlow:{type:"sap.ui.layout.cssgrid.CSSGridAutoFlow",defaultValue:"Row"}}}});return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/ResponsiveColumnItemLayoutData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(t){"use strict";var e=t.extend("sap.ui.layout.cssgrid.ResponsiveColumnItemLayoutData",{metadata:{library:"sap.ui.layout",interfaces:["sap.ui.layout.cssgrid.IGridItemLayoutData"],properties:{columns:{type:"int",group:"Misc",defaultValue:1},rows:{type:"int",group:"Misc",defaultValue:1}}}});e.prototype.setItemStyles=function(t){t.style.setProperty("grid-row","span "+this.getRows());t.style.setProperty("grid-column","span "+this.getColumns())};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/cssgrid/ResponsiveColumnLayout", ["sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/Device","sap/ui/layout/library"],function(t,e){"use strict";var a="RCLRangeSet";e.media.initRangeSet(a,[600,1024,1280,1440,1680,1920],"px",["S","M","ML","L","XL","XXL","XXXL"],true);var r=t.extend("sap.ui.layout.cssgrid.ResponsiveColumnLayout",{metadata:{library:"sap.ui.layout",properties:{},events:{layoutChange:{parameters:{layout:{type:"string"}}}}}});r.prototype._sCurrentLayoutClassName="";r.prototype.isResponsive=function(){return true};r.prototype.onGridAfterRendering=function(t){this._applyLayout(t)};r.prototype.getActiveGridSettings=function(){return null};r.prototype.onGridResize=function(t){if(!t||t.size.width===0){return}this._applyLayout(t.control)};r.prototype.addGridStyles=function(e){t.prototype.addGridStyles.apply(this,arguments);e.class("sapUiLayoutCSSGridRCL")};r.prototype._applyLayout=function(t){var r=t.getParent(),i=r?r.getDomRef().offsetWidth:t.getDomRef().parentElement.offsetWidth,o=e.media.getCurrentRange(a,i),s="sapUiLayoutCSSGridRCL-Layout"+o.name;if(this._sCurrentLayoutClassName===s){return}t.removeStyleClass(this._sCurrentLayoutClassName);t.addStyleClass(s);this._sCurrentLayoutClassName=s;this.fireLayoutChange({layout:o.name})};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/flexibility/BlockLayoutCell.flexibility", ["sap/ui/fl/changeHandler/BaseRename"],function(e){"use strict";return{hideControl:"default",moveControls:"default",rename:e.createRenameChangeHandler({propertyName:"title",translationTextType:"XTIT"}),unhideControl:"default"}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/flexibility/Form.flexibility", ["sap/ui/fl/apply/api/DelegateMediatorAPI","sap/ui/layout/changeHandler/AddFormContainer","sap/ui/layout/changeHandler/AddFormField"],function(e,a,i){"use strict";e.registerWriteDelegate({controlType:"sap.ui.layout.form.Form",delegate:"sap/ui/comp/smartfield/flexibility/SmartFieldWriteDelegate",requiredLibraries:{"sap.ui.comp":{minVersion:"1.81",lazy:false}}});return{moveControls:"default",addGroup:a,addFormField:i}},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/flexibility/FormContainer.flexibility", ["sap/ui/layout/changeHandler/RenameFormContainer","sap/ui/layout/changeHandler/AddFormField"],function(e,a){"use strict";return{hideControl:"default",renameGroup:e,moveControls:"default",addFormField:a}},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/flexibility/FormElement.flexibility", ["sap/ui/layout/changeHandler/RenameFormElement"],function(e){"use strict";return{hideControl:"default",unhideControl:"default",renameField:e}},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/flexibility/SimpleForm.flexibility", ["sap/ui/fl/apply/api/DelegateMediatorAPI","sap/ui/layout/changeHandler/RenameSimpleForm","sap/ui/layout/changeHandler/MoveSimpleForm","sap/ui/layout/changeHandler/HideSimpleForm","sap/ui/layout/changeHandler/UnhideSimpleForm","sap/ui/layout/changeHandler/AddSimpleFormGroup","sap/ui/layout/changeHandler/AddSimpleFormField"],function(e,i,a,l,r,m,o){"use strict";e.registerWriteDelegate({controlType:"sap.ui.layout.form.SimpleForm",delegate:"sap/ui/comp/smartfield/flexibility/SmartFieldWriteDelegate",requiredLibraries:{"sap.ui.comp":{minVersion:"1.81",lazy:false}}});return{renameLabel:i,renameTitle:i,moveSimpleFormField:a,moveSimpleFormGroup:a,hideSimpleFormField:l,unhideSimpleFormField:r,removeSimpleFormGroup:l,addSimpleFormGroup:m,addSimpleFormField:o}},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnContainerData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(a,u){"use strict";var e=a.extend("sap.ui.layout.form.ColumnContainerData",{metadata:{library:"sap.ui.layout",properties:{columnsXL:{type:"sap.ui.layout.form.ColumnsXL",group:"Appearance",defaultValue:2},columnsL:{type:"sap.ui.layout.form.ColumnsL",group:"Appearance",defaultValue:2},columnsM:{type:"sap.ui.layout.form.ColumnsM",group:"Appearance",defaultValue:1}}}});return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnElementData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(a,e){"use strict";var l=a.extend("sap.ui.layout.form.ColumnElementData",{metadata:{library:"sap.ui.layout",properties:{cellsLarge:{type:"sap.ui.layout.form.ColumnCells",group:"Appearance",defaultValue:8},cellsSmall:{type:"sap.ui.layout.form.ColumnCells",group:"Appearance",defaultValue:12}}}});return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnLayout", ["sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/layout/library","./FormLayout","./ColumnLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,l,jQuery){"use strict";var s=i.extend("sap.ui.layout.form.ColumnLayout",{metadata:{library:"sap.ui.layout",properties:{columnsXL:{type:"sap.ui.layout.form.ColumnsXL",group:"Appearance",defaultValue:2},columnsL:{type:"sap.ui.layout.form.ColumnsL",group:"Appearance",defaultValue:2},columnsM:{type:"sap.ui.layout.form.ColumnsM",group:"Appearance",defaultValue:1},labelCellsLarge:{type:"sap.ui.layout.form.ColumnCells",group:"Appearance",defaultValue:4},emptyCellsLarge:{type:"sap.ui.layout.form.EmptyCells",group:"Appearance",defaultValue:0}}},renderer:l});s.prototype.init=function(){i.prototype.init.apply(this,arguments);this._iBreakPointTablet=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._resizeProxy=jQuery.proxy(o,this);if(typeof ResizeObserver==="function"){this._oResizeObserver=new ResizeObserver(this._resizeProxy)}};s.prototype.exit=function(){r.call(this);this._oResizeObserver=undefined};s.prototype.onBeforeRendering=function(e){i.prototype.onBeforeRendering.apply(this,arguments);if(this.getColumnsM()>this.getColumnsL()||this.getColumnsL()>this.getColumnsXL()){throw new Error("Column size not correct defined for "+this)}r.call(this)};s.prototype.onAfterRendering=function(e){if(this._oResizeObserver){var a=this.getDomRef();this._oResizeObserver.observe(a)}else{this._sResizeListener=t.register(this,this._resizeProxy)}n.call(this)};s.prototype.toggleContainerExpanded=function(e){e.$().toggleClass("sapUiFormCLContainerColl",!e.getExpanded())};s.prototype.onLayoutDataChange=function(e){this.invalidate()};s.prototype.onsapup=function(e){this.onsapleft(e)};s.prototype.onsapdown=function(e){this.onsapright(e)};s.prototype.getContainerRenderedDomRef=function(e){return e.getDomRef()};s.prototype.getElementRenderedDomRef=function(e){return e.getDomRef()};s.prototype._getContainerSize=function(e){var t=this.getParent();var a=this.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnContainerData");var i=t.getVisibleFormContainers();var l=i.length;var s=this.getColumnsM();var r=this.getColumnsL();var o=this.getColumnsXL();var n={S:{Size:1,Break:false,FirstRow:false},M:{Size:1,Break:false,FirstRow:false},L:{Size:1,Break:false,FirstRow:false},XL:{Size:1,Break:false,FirstRow:false}};var u=function(e,t,a,i,l){if(a<e){t.Size=Math.floor(e/a);if(l&&t.Size*a<e){t.Size=t.Size+e-t.Size*a}}t.Break=e>1&&i>0&&i%e===0;t.FirstRow=a>1&&i<e};if(a){n.M.Size=a.getColumnsM();n.L.Size=a.getColumnsL();n.XL.Size=a.getColumnsXL();if(n.M.Size>s||n.L.Size>r||n.XL.Size>o){throw new Error("More cells defined for FormContainer "+e.getId()+" than columns on "+this)}}if(l===1){if(!a){n.M.Size=s;n.L.Size=r;n.XL.Size=o}n.S.FirstRow=true;n.M.FirstRow=true;n.L.FirstRow=true;n.XL.FirstRow=true}else{var f=0;var g=0;var m=0;var p;var C=false;var S=0;var L=s;var d=r;var h=o;var y=0;for(y=0;y<l;y++){if(e===i[y]){f=y;p=a}else{p=this.getLayoutDataForElement(i[y],"sap.ui.layout.form.ColumnContainerData")}if(!p){var v=i[y].getVisibleFormElements();if(g<v.length){g=v.length;m=y}S++}else{C=true;L=L-p.getColumnsM();d=d-p.getColumnsL();h=h-p.getColumnsXL()}}n.S.FirstRow=l>1&&f===0;n.S.Break=f>0;if(!C){u(s,n.M,l,f,f===m);u(r,n.L,l,f,f===m);u(o,n.XL,l,f,f===m)}else{if(!a){if(S<L){u(L,n.M,S,f,f===m)}if(S<d){u(d,n.L,S,f,f===m)}if(S<h){u(h,n.XL,S,f,f===m)}}var c={M:{rowColumns:0,lineBreak:false,first:true},L:{rowColumns:0,lineBreak:false,first:true},XL:{rowColumns:0,lineBreak:false,first:true}};var D=function(e,t,a){if(a){if(e.rowColumns+a<=t){e.rowColumns=e.rowColumns+a;e.lineBreak=false}else{e.rowColumns=a;if(t>1){e.lineBreak=true}e.first=false}}else{if(e.rowColumns<t){e.rowColumns++;e.lineBreak=false}else{e.rowColumns=1;if(t>1){e.lineBreak=true}e.first=false}}};for(y=0;y<l;y++){if(e===i[y]){p=a}else{p=this.getLayoutDataForElement(i[y],"sap.ui.layout.form.ColumnContainerData")}D(c.M,s,p?p.getColumnsM():0);D(c.L,r,p?p.getColumnsL():0);D(c.XL,o,p?p.getColumnsXL():0);if(e===i[y]){n.M.Break=c.M.lineBreak;n.L.Break=c.L.lineBreak;n.XL.Break=c.XL.lineBreak;n.M.FirstRow=c.M.first;n.L.FirstRow=c.L.first;n.XL.FirstRow=c.XL.first;break}}}}return n};s.prototype._getFieldSize=function(e){var t=12;var a=this.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");var i={S:{Size:t,Break:false,Space:0},L:{Size:t,Break:false,Space:0}};var l=t;var s=this.getLabelCellsLarge();if(a){i.S.Size=a.getCellsSmall()===-1?t:a.getCellsSmall();i.L.Size=a.getCellsLarge()===-1?t:a.getCellsLarge()}var r=e.getParent();var o=r.getLabelControl();if(o===e){if(!a||a.getCellsSmall()===-1){i.S.Size=l}if(!a||a.getCellsLarge()===-1){i.L.Size=s}}else{var n=r.getFieldsForRendering();var u=n.length;var f=t;var g=t-this.getEmptyCellsLarge();if(o){var m=this.getLayoutDataForElement(o,"sap.ui.layout.form.ColumnElementData");if(m){l=m.getCellsSmall()===-1?l:m.getCellsSmall();s=m.getCellsLarge()===-1?s:m.getCellsLarge()}if(l<t){f=f-l}if(s<t){g=g-s}}else{l=0;s=0}if(u===1){if(!a||a.getCellsSmall()===-1){i.S.Size=f}else if(o){if(i.S.Size>f){i.S.Break=true}}if(!a||a.getCellsLarge()===-1){i.L.Size=g}else if(o){if(i.L.Size>g){i.L.Break=true}}}else{var p=0;var C=[];var S=[];var L={availableCells:f,first:0,last:999,firstDefault:-1,defaultFields:0};var d=0;var h=0;var y=0;var v;C.push(jQuery.extend({},L));L.availableCells=g;S.push(jQuery.extend({},L));var c=function(e,t,a,i){e[t].last=a-1;e.push(jQuery.extend({},L));t++;e[t].first=a;e[t].availableCells=i;return t};var D=function(e,a,i,l,s){if(e[a].availableCells-e[a].defaultFields<i){if(i<=l){a=c(e,a,s,l)}else{a=c(e,a,s,t)}}e[a].availableCells=e[a].availableCells-i;return a};var F=function(e,t,a,i){if(e[t].availableCells===e[t].defaultFields){t=c(e,t,i,a)}if(e[t].firstDefault<0){e[t].firstDefault=i}e[t].defaultFields++;return t};for(p=0;p<u;p++){if(e!==n[p]){v=this.getLayoutDataForElement(n[p],"sap.ui.layout.form.ColumnElementData")}else{v=a;y=p}if(v&&v.getCellsSmall()>0){d=D(C,d,v.getCellsSmall(),f,p)}else{d=F(C,d,f,p)}if(v&&v.getCellsLarge()>0){h=D(S,h,v.getCellsLarge(),g,p)}else{h=F(S,h,g,p)}}var z=function(e,a,i,l,s){var r=0;var o;for(p=0;p<e.length;p++){if(a>=e[p].first&&a<=e[p].last){o=e[p];break}}if(i<=0){l.Size=Math.floor(o.availableCells/o.defaultFields)}if(a===o.first&&a>0){l.Break=true;if(s>0&&s<t&&l.Size<=t-s){l.Space=s}}if(a===o.firstDefault){r=o.availableCells-o.defaultFields*l.Size;if(r>0){l.Size=l.Size+r}}};z(C,y,a?a.getCellsSmall():-1,i.S,l);z(S,y,a?a.getCellsLarge():-1,i.L,s)}}return i};function r(){if(this._oResizeObserver){this._oResizeObserver.disconnect()}if(this._sResizeListener){t.deregister(this._sResizeListener);this._sResizeListener=undefined}}function o(e,t){window.requestAnimationFrame(function(){n.call(this,e,t)}.bind(this))}function n(e,a){var i=this.getDomRef();if(!i){r.call(this);return}var l=this.$();if(!l.is(":visible")){return}if(t.isSuspended(i,this._resizeProxy)){return}var s=i.clientWidth;var o=1;if(s<=this._iBreakPointTablet){this.toggleStyleClass("sapUiFormCLMedia-Std-Phone",true);this.toggleStyleClass("sapUiFormCLMedia-Std-Desktop",false).toggleStyleClass("sapUiFormCLMedia-Std-Tablet",false).toggleStyleClass("sapUiFormCLMedia-Std-LargeDesktop",false)}else if(s>this._iBreakPointTablet&&s<=this._iBreakPointDesktop){this.toggleStyleClass("sapUiFormCLMedia-Std-Tablet",true);this.toggleStyleClass("sapUiFormCLMedia-Std-Desktop",false).toggleStyleClass("sapUiFormCLMedia-Std-Phone",false).toggleStyleClass("sapUiFormCLMedia-Std-LargeDesktop",false);o=this.getColumnsM()}else if(s>this._iBreakPointDesktop&&s<=this._iBreakPointLargeDesktop){this.toggleStyleClass("sapUiFormCLMedia-Std-Desktop",true);this.toggleStyleClass("sapUiFormCLMedia-Std-Phone",false).toggleStyleClass("sapUiFormCLMedia-Std-Tablet",false).toggleStyleClass("sapUiFormCLMedia-Std-LargeDesktop",false);o=this.getColumnsL()}else{this.toggleStyleClass("sapUiFormCLMedia-Std-LargeDesktop",true);this.toggleStyleClass("sapUiFormCLMedia-Std-Desktop",false).toggleStyleClass("sapUiFormCLMedia-Std-Phone",false).toggleStyleClass("sapUiFormCLMedia-Std-Tablet",false);o=this.getColumnsXL()}var n=this.getLabelCellsLarge()<12&&s/o>this._iBreakPointTablet;this.toggleStyleClass("sapUiFormCLWideColumns",n);this.toggleStyleClass("sapUiFormCLSmallColumns",!n)}s.prototype.getLayoutDataForDelimiter=function(){var e=sap.ui.require("sap/ui/layout/form/ColumnElementData");if(!e){var t;sap.ui.require(["sap/ui/layout/form/ColumnElementData"],function(e){t(new e({cellsLarge:1,cellsSmall:1}))});return new Promise(function(e){t=e})}else{return new e({cellsLarge:1,cellsSmall:1})}};s.prototype.getLayoutDataForSemanticField=function(e,t,a){if(a){if(a.isA("sap.ui.layout.form.ColumnElementData")){a.setCellsLarge(-1).setCellsSmall(11);return a}else{a.destroy()}}var i=sap.ui.require("sap/ui/layout/form/ColumnElementData");if(!i){var l;sap.ui.require(["sap/ui/layout/form/ColumnElementData"],function(e){l(new e({cellsLarge:-1,cellsSmall:11}))});return new Promise(function(e){l=e})}else{return new i({cellsLarge:-1,cellsSmall:11})}};s.prototype.renderControlsForSemanticElement=function(){return true};s.prototype.hasLabelledContainers=function(e){const t=e.getFormContainers();return t.length!==1||this.isContainerLabelled(t[0])};s.prototype.invalidateEditableChange=function(){return true};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnLayoutRenderer", ["sap/ui/core/Renderer","sap/ui/Device","./FormLayoutRenderer"],function(e,i,t){"use strict";var r=e.extend(t);r.apiVersion=2;r.getMainClass=function(){return"sapUiFormCL"};r.renderContainers=function(e,i,t){var r=t.getVisibleFormContainers();var o=r.length;if(o>0){var a=o===1&&!i.getLayoutDataForElement(r[0],"sap.ui.layout.form.ColumnContainerData");if(!a){var n=i.getColumnsM();var s=i.getColumnsL();var l=i.getColumnsXL();e.openStart("div");e.class("sapUiFormCLContent");e.class("sapUiFormCLColumnsM"+n);e.class("sapUiFormCLColumnsL"+s);e.class("sapUiFormCLColumnsXL"+l);e.openEnd()}for(var c=0;c<o;c++){var C=r[c];this.renderContainer(e,i,C)}if(!a){e.close("div")}}};r.renderContainer=function(e,t,r){var o=r.getExpandable();var a=r.getToolbar();var n=r.getTitle();var s=t._getContainerSize(r);const l=r.getProperty("_editable");const c=l?"div":"dl";r._checkProperties();e.openStart("div",r);e.class("sapUiFormCLContainer");e.class("sapUiFormCLContainerS"+s.S.Size);e.class("sapUiFormCLContainerM"+s.M.Size);e.class("sapUiFormCLContainerL"+s.L.Size);e.class("sapUiFormCLContainerXL"+s.XL.Size);if(s.M.Break){e.class("sapUiFormCLContainerMBreak")}if(s.L.Break){e.class("sapUiFormCLContainerLBreak")}if(s.XL.Break){e.class("sapUiFormCLContainerXLBreak")}if(s.S.FirstRow){e.class("sapUiFormCLContainerSFirstRow")}if(s.M.FirstRow){e.class("sapUiFormCLContainerMFirstRow")}if(s.L.FirstRow){e.class("sapUiFormCLContainerLFirstRow")}if(s.XL.FirstRow){e.class("sapUiFormCLContainerXLFirstRow")}if(a){e.class("sapUiFormContainerToolbar")}else if(n){e.class("sapUiFormContainerTitle")}if(!r.getExpanded()){e.class("sapUiFormCLContainerColl")}if(r.getTooltip_AsString()){e.attr("title",r.getTooltip_AsString())}if(l||o||a){const i=r.getParent();let n="form";if(l&&!t.isContainerLabelled(r)&&i.getFormContainers().length===1){n=""}else if(!l&&(o||a)){n="region"}this.writeAccessibilityStateContainer(e,r,n)}e.openEnd();this.renderHeader(e,a,n,r._oExpandButton,o,t._sFormSubTitleSize,r.getId());e.openStart(c,r.getId()+"-content").class("sapUiFormCLContainerCont");if(!l&&!o&&!a){this.writeAccessibilityStateContainer(e,r,"")}e.openEnd();var C=r.getVisibleFormElements();for(var p=0;p<C.length;p++){var m=C[p];if(m.isA("sap.ui.layout.form.SemanticFormElement")&&!m._getEditable()){this.renderSemanticElement(e,t,m)}else{this.renderElement(e,t,m)}if(i.browser.chrome&&p<s.XL.Size-1&&C.length>1&&C.length<=s.XL.Size){e.openStart("div").class("sapUiFormCLElementDummy").openEnd().close("div")}}e.close(c);e.close("div")};r.renderElement=function(e,i,t){var r=t.getLabelControl();var a;const n=t.getProperty("_editable");const s=n?"div":"dd";e.openStart("div",t);e.class("sapUiFormCLElement");if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}e.openEnd();if(r){a=i._getFieldSize(r);o(e,t,r,a)}var l=t.getFieldsForRendering();if(l&&l.length>0){for(var c=0,C=l.length;c<C;c++){var p=l[c];if(!p.isA("sap.ui.core.IFormContent")){throw new Error(p+" is not a valid Form content! Only use valid content in "+i)}a=i._getFieldSize(p);e.openStart(s);e.class("sapUiFormCLCellsS"+a.S.Size);e.class("sapUiFormCLCellsL"+a.L.Size);if(a.S.Break){e.class("sapUiFormCLCellSBreak")}if(a.L.Break){e.class("sapUiFormCLCellLBreak")}if(a.S.Space){e.class("sapUiFormCLCellSSpace"+a.S.Space)}if(a.L.Space){e.class("sapUiFormCLCellLSpace"+a.L.Space)}e.openEnd();e.renderControl(p);e.close(s)}}e.close("div")};r.renderSemanticElement=function(e,i,t){var r=t.getLabelControl();var a;var n=12;var s=n;var l=n;const c=t.getProperty("_editable");const C=c?"div":"dd";e.openStart("div",t);e.class("sapUiFormCLElement").class("sapUiFormCLSemanticElement");if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}e.openEnd();if(r){a=i._getFieldSize(r);o(e,t,r,a);if(a.S.Size<s){s=s-a.S.Size}if(a.L.Size<l){l=l-a.L.Size}}e.openStart(C);e.class("sapUiFormCLCellsS"+s);e.class("sapUiFormCLCellsL"+l);e.openEnd();var p=t.getFieldsForRendering();if(p&&p.length>0){for(var m=0,L=p.length;m<L;m++){var d=p[m];if(!d.isA("sap.ui.core.IFormContent")||!d.isA("sap.ui.core.ISemanticFormContent")){throw new Error(d+" is not a valid Form content! Only use valid content in "+i)}e.renderControl(d)}}e.close(C);e.close("div")};function o(e,i,t,r){const o=i.getProperty("_editable");const a=o?"div":"dt";e.openStart(a).class("sapUiFormElementLbl").class("sapUiFormCLCellsS"+r.S.Size).class("sapUiFormCLCellsL"+r.L.Size).openEnd();e.renderControl(t);e.close(a)}return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/Form", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","./FormRenderer","./FormHelper"],function(e,t,i,o){"use strict";var r=e.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"},renderer:i});r.prototype.init=function(){this._oInitPromise=o.init();this._oObserver=new t(a.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]})};r.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined};r.prototype.toggleContainerExpanded=function(e){var t=this.getLayout();if(t){t.toggleContainerExpanded(e)}};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getLayout();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getLayout();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.onBeforeFastNavigationFocus=function(e){var t=this.getLayout();if(t&&t.onBeforeFastNavigationFocus){t.onBeforeFastNavigationFocus(e)}};r.prototype.setEditable=function(e){const t=this.getLayout();const i=!t?.invalidateEditableChange();this.setProperty("editable",e,i);return this};function n(e,t){if(e!=t&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly")}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true")}}var i=this.getFormContainers();for(var o=0;o<i.length;o++){var r=i[o];r._setEditable(e)}}r.prototype.setToolbar=function(e){const t=this.getToolbar();this.setAggregation("toolbar",e);if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;e=o.setToolbar(e,t)}.bind(this))}else{e=o.setToolbar(e,t)}return this};r.prototype.invalidate=function(t){if(!this._bNoInvalidate){e.prototype.invalidate.apply(this,arguments)}};r.prototype.getContainerRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormContainers=function(){var e=this.getFormContainers();var t=[];for(var i=0;i<e.length;i++){var o=e[i];if(o.isVisible()){t.push(o)}}return t};r.prototype._suggestTitleId=function(e){this._sSuggestedTitleId=e;if(this.getDomRef()){this.invalidate()}return this};function a(e){if(e.name==="editable"){n.call(this,e.current,e.old)}else if(e.name==="formContainers"){s.call(this,e.mutation,e.child)}}function s(e,t){if(e==="insert"){t._setEditable(this.getEditable())}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormContainer", ["sap/ui/core/Element","sap/ui/base/ManagedObjectObserver","sap/ui/core/Lib","sap/ui/core/theming/Parameters","./FormHelper","sap/base/Log"],function(e,t,i,n,o,r){"use strict";var a=e.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_expandButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/FormContainer.designtime"}});a.prototype.init=function(){this._oInitPromise=o.init();this._rb=i.getResourceBundleFor("sap.ui.layout");this._oObserver=new t(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["expanded","expandable"],aggregations:["formElements"]})};a.prototype.exit=function(){if(this._oExpandButton){delete this._oExpandButton}this._rb=undefined;this._oObserver.disconnect();this._oObserver=undefined};function s(e){if(e){if(!this._oExpandButton){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;l.call(this,o.createButton(this.getId()+"--Exp",h,this))}.bind(this))}else{l.call(this,o.createButton(this.getId()+"--Exp",h,this))}}else{d.call(this)}}}function l(e){if(!this._bIsBeingDestroyed){this._oExpandButton=e;this.setAggregation("_expandButton",this._oExpandButton);d.call(this)}}function u(e){d.call(this);var t=this.getParent();if(t&&t.toggleContainerExpanded){t.toggleContainerExpanded(this)}}a.prototype.setToolbar=function(e){const t=this.getToolbar();this.setAggregation("toolbar",e);if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;e=o.setToolbar(e,t)}.bind(this))}else{e=o.setToolbar(e,t)}return this};a.prototype.contentOnAfterRendering=function(e,t){var i=this.getParent();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};a.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};a.prototype._checkProperties=function(){var e=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){r.warning("Expander only displayed if title is set",this.getId(),"FormContainer");e=1}return e};a.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};a.prototype.getElementRenderedDomRef=function(e){var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};a.prototype.getVisibleFormElements=function(){var e=this.getFormElements();var t=[];for(var i=0;i<e.length;i++){var n=e[i];if(n.isVisible()){t.push(n)}}return t};a.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){var i=this.getFormElements();for(var n=0;n<i.length;n++){var o=i[n];o._setEditable(e)}}};a.prototype.isVisible=function(){return this.getVisible()};a.prototype.onThemeChanged=function(){d.call(this)};function p(e){return n.get({name:[e],_restrictedParseUrls:true})}function d(){if(!this._oExpandButton){return}var e,t,i,n;if(this.getExpanded()){e=p("_sap_ui_layout_Form_FormContainerColImageURL");t=p("_sap_ui_layout_Form_FormContainerColImageDownURL");i="-";n=this._rb.getText("FORM_COLLAPSE")}else{e=p("_sap_ui_layout_Form_FormContainerExpImageURL");t=p("_sap_ui_layout_Form_FormContainerExpImageDownURL");i="+";n=this._rb.getText("FORM_EXPAND")}if(e){i=""}o.setButtonContent(this._oExpandButton,i,n,e,t)}function h(e){this.setExpanded(!this.getExpanded())}a.prototype._observeChanges=function(e){if(e.name=="formElements"){g.call(this,e.mutation,e.child)}else if(e.name=="expanded"){u.call(this,e.current)}else if(e.name=="expandable"){s.call(this,e.current)}};function g(e,t){if(e==="insert"){var i=this.getProperty("_editable");t._setEditable(i)}}return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormElement", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","./FormHelper","sap/base/Log"],function(e,t,i,s,a){"use strict";var r=e.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},_label:{type:"sap.ui.core.Label",multiple:false,visibility:"hidden"},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designtime:"sap/ui/layout/designtime/form/FormElement.designtime"}});r.prototype.init=function(){this._oInitPromise=s.init();this._oFieldDelegate={oElement:this,onAfterRendering:f};this._oObserver=new i(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["fields"]})};r.prototype.exit=function(){if(this._oLabel){delete this._oLabel}this._oFieldDelegate=undefined;this._oObserver.disconnect();this._oObserver=undefined};r.prototype.setLabel=function(e){if(!this._oLabel){var t=this.getLabel();if(t){if(t.setAlternativeLabelFor){t.setAlternativeLabelFor(null)}if(t.isRequired){t.isRequired=t._sapuiIsRequired;t._sapuiIsRequired=undefined;t.disableRequiredChangeCheck(false)}if(t.isDisplayOnly){t.isDisplayOnly=t._sapuiIsDisplayOnly;t._sapuiIsDisplayOnly=undefined}if(t.isWrapping){t.isWrapping=t._sapuiIsWrapping;t._sapuiIsWrapping=undefined}}}this.setAggregation("label",e);var i=e;if(typeof i==="string"){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;var e=this.getLabel();if(typeof e==="string"){this._setInternalLabel(e)}}.bind(this))}else{this._setInternalLabel(i)}}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel}if(i&&i.isRequired){i._sapuiIsRequired=i.isRequired;i.isRequired=o;i.disableRequiredChangeCheck(true)}if(i&&i.isDisplayOnly){i._sapuiIsDisplayOnly=i.isDisplayOnly;i.isDisplayOnly=u}if(i&&i.isWrapping){i._sapuiIsWrapping=i.isWrapping;i.isWrapping=p}h.call(this)}return this};r.prototype._setInternalLabel=function(e){if(!this._oLabel){this._oLabel=s.createLabel(e,this.getId()+"-label");this.setAggregation("_label",this._oLabel);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=o}if(this._oLabel.isDisplayOnly){this._oLabel.isDisplayOnly=u}if(this._oLabel.setWrapping){this._oLabel.setWrapping(true)}}else{this._oLabel.setText(e)}h.call(this)};r.prototype.destroyLabel=function(){this.destroyAggregation("label");if(this._oLabel){this._oLabel.destroy();delete this._oLabel}return this};r.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel}else{var e=this.getLabel();if(typeof e==="string"){e=null}return e}};r.prototype.updateFields=function(){var e=this.getFields();var t;var i=0;for(i=0;i<e.length;i++){t=e[i];g.call(this,t)}this.updateAggregation("fields");e=this.getFields();for(i=0;i<e.length;i++){t=e[i];d.call(this,t)}h.call(this);return this};r.prototype.enhanceAccessibilityState=function(e,t){var i=this.getLabelControl();if(i&&i!=e&&e.getMetadata().getAllAssociations().ariaLabelledBy){var s=t["labelledby"];if(!s){s=i.getId()}else{var a=s.split(" ");if(a.indexOf(i.getId())<0){a.splice(0,0,i.getId());s=a.join(" ")}}t["labelledby"]=s}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype._setEditable=function(e){var t=this._getEditable();this.setProperty("_editable",e,true);if(e!==t){this.invalidateLabel()}};r.prototype._getEditable=function(){return this.getProperty("_editable")};r.prototype.invalidateLabel=function(){var e=this.getLabelControl();if(e&&e.getDomRef()){e.invalidate()}};r.prototype.isVisible=function(){return this.getVisible()};r.prototype.getFieldsForRendering=function(){return this.getFields()};r.prototype._observeChanges=function(e){if(e.object==this){if(e.name=="fields"){l.call(this,e.child,e.mutation)}}else{n.call(this,e)}};function l(e,t){if(t=="insert"){if(!e.isA("sap.ui.core.IFormContent")){a.warning(e+" is not valid Form content",this)}d.call(this,e)}else{g.call(this,e)}h.call(this)}function n(e){if(e.name=="required"||e.name=="editable"){this.invalidateLabel()}}function o(){if(this.getRequired&&this.getRequired()){return true}var e=this.getParent();var t=e.getFields();for(var i=0;i<t.length;i++){var s=t[i];if(s.getRequired&&s.getRequired()===true&&(!s.getEditable||s.getEditable())){return true}}return false}function u(){if(this.getDisplayOnly){if(!this.isPropertyInitial("displayOnly")){return this.getDisplayOnly()}var e=this.getParent();return!e._getEditable()}return false}function p(){if(this.getWrapping&&!this.isPropertyInitial("wrapping")){return this.getWrapping()}return true}function h(){var e=this.getFields();var i=e.length>0?e[0]:null;var s=this._oLabel;if(s){s.setLabelFor(i)}else{s=this.getLabel();if(s instanceof t){s.setAlternativeLabelFor(i)}}}function d(e){e.addDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){if(e.getMetadata().getProperty("required")){this._oObserver.observe(e,{properties:["required"]})}if(e.getMetadata().getProperty("editable")){this._oObserver.observe(e,{properties:["editable"]})}}}function g(e){e.removeDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){this._oObserver.unobserve(e)}}function f(e){var t=this.oElement.getParent();if(t&&t.contentOnAfterRendering){t.contentOnAfterRendering(this.oElement,e.srcControl)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormHelper", ["sap/ui/core/Lib","sap/ui/core/library","sap/base/util/merge"],function(t,e,n){"use strict";const i={Label:undefined,Button:undefined,Text:undefined,Library:undefined,init:function(){this.Label=sap.ui.require("sap/m/Label");this.Text=sap.ui.require("sap/m/Text");this.Button=sap.ui.require("sap/m/Button");this.Library=sap.ui.require("sap/m/library");if(!this.Label||!this.Text||!this.Button||!this.Library){if(!this.oInitPromise){this.oInitPromise=new Promise(function(t,e){sap.ui.require(["sap/m/Label","sap/m/Text","sap/m/Button","sap/m/library"],function(e,n,i,r){this.Label=e;this.Text=n;this.Button=i;this.Library=r;t(true)}.bind(this))}.bind(this))}return this.oInitPromise}else if(this.oInitPromise){delete this.oInitPromise}return null},createLabel:function(t,e){return new this.Label(e,{text:t})},createButton:function(t,e,n){const i=new this.Button(t,{type:this.Library.ButtonType.Transparent});i.attachEvent("press",e,n);return i},setButtonContent:function(t,e,n,i,r){t.setText(e);t.setTooltip(n);t.setIcon(i);t.setActiveIcon(r)},addFormClass:function(){return"sapUiFormM"},setToolbar:function(t,e){if(e&&e.setDesign){e.setDesign(e.getDesign(),true)}if(t&&t.setDesign){const e=t.getMetadata().getManagedProperty("design");if(e&&e.type==="sap.m.ToolbarDesign"){t.setDesign(this.Library.ToolbarDesign.Transparent,true)}}return t},getToolbarTitle:function(t){if(t){const e=t.getContent?t.getContent():[];for(let t=0;t<e.length;t++){const n=e[t];if(n.isA("sap.m.Title")){return n.getId()}}return t.getId()}},createDelimiter:function(t,n){return new this.Text(n,{text:t,textAlign:e.TextAlign.Center})},createSemanticDisplayControl:function(t,e){return new this.Text(e,{text:t})},updateDelimiter:function(t,e){t.setText(e)},updateSemanticDisplayControl:function(t,e){t.setText(e)},isArrowKeySupported:function(){return false}};const r={init:function(){return null},createLabel:function(t,e){return new sap.ui.commons.Label(e,{text:t})},createButton:function(t,e,n){const i=new sap.ui.commons.Button(t,{lite:true});i.attachEvent("press",e,n);return i},setButtonContent:function(t,e,n,i,r){t.setText(e);t.setTooltip(n);t.setIcon(i);t.setIconHovered(r)},getToolbarTitle:function(t){return t&&t.getId()}};const o={init:function(){if(t.isLoaded("sap.m")){n(o,i);return this.init()}if(t.isLoaded("sap.ui.commons")&&!t.isLoaded("sap.m")){n(o,r);return this.init()}return null},createLabel:function(t){throw new Error("no Label control available!")},createButton:function(t,e,n){throw new Error("no Button control available!")},setButtonContent:function(t,e,n,i,r){throw new Error("no Button control available!")},addFormClass:function(){return null},setToolbar:function(t,e){return t},getToolbarTitle:function(t){return t&&t.getId()},createDelimiter:function(t,e){throw new Error("no delimiter control available!")},createSemanticDisplayControl:function(t,e){throw new Error("no display control available!")},updateDelimiter:function(t,e){throw new Error("no delimiter control available!")},updateSemanticDisplayControl:function(t,e){throw new Error("no display control available!")},isArrowKeySupported:function(){return true}};return o},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayout", ["sap/base/i18n/Localization","sap/ui/core/Control","sap/ui/core/Element","sap/ui/layout/library","./FormLayoutRenderer","./FormHelper","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/Selectors"],function(e,t,r,i,n,o,a,jQuery){"use strict";var l=i.BackgroundDesign;var s=t.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:l.Translucent}}},renderer:n});s.prototype.init=function(){this._oInitPromise=o.init();this._sFormTitleSize="H4";this._sFormSubTitleSize="H5"};s.prototype.onBeforeRendering=function(e){this.loadTitleSizes()};s.prototype.contentOnAfterRendering=function(e,t){if(o.isArrowKeySupported()){jQuery(t.getFocusDomRef()).data("sap.InNavArea",true)}if(this.renderControlsForSemanticElement()&&e.isA("sap.ui.layout.form.SemanticFormElement")&&!e._getEditable()){t.$().css("max-width","100%")}else if(t.getWidth&&(!t.getWidth()||t.getWidth()=="auto")&&(!t.getFormDoNotAdjustWidth||!t.getFormDoNotAdjustWidth())){t.$().css("width","100%")}};s.prototype.toggleContainerExpanded=function(e){var t=e.getExpanded();if(this.getDomRef()){if(t){e.$("content").css("display","")}else{e.$("content").css("display","none")}}};s.prototype.getLayoutDataForElement=function(e,t){var r=e.getLayoutData();if(!r){return undefined}else if(r.isA(t)){return r}else if(r.isA("sap.ui.core.VariantLayoutData")){var i=r.getMultipleLayoutData();for(var n=0;n<i.length;n++){var o=i[n];if(o.isA(t)){return o}}}};s.prototype.onsapright=function(t){if(o.isArrowKeySupported()){var r=e.getRTL();if(!r){this.navigateForward(t)}else{this.navigateBack(t)}}};s.prototype.onsapleft=function(t){if(o.isArrowKeySupported()){var r=e.getRTL();if(!r){this.navigateBack(t)}else{this.navigateForward(t)}}};s.prototype.onsapdown=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r;var i=this.findElement(t);var n=i.element;t=i.rootControl;if(n&&n.isA("sap.ui.layout.form.FormElement")){r=this.findFieldBelow(t,n)}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){r=this.findFirstFieldOfNextElement(n,0)}if(r){r.focus();e.preventDefault()}}};s.prototype.onsapup=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;t=n.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){i=this.findFieldAbove(t,a)}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){var l=a.getParent();r=l.indexOfFormContainer(a);i=this.findLastFieldOfLastElementInPrevContainer(l,r-1)}if(i){i.focus();e.preventDefault()}}};s.prototype.onsaphome=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;var l=a.getParent();var s=l.getParent();r=s.indexOfFormContainer(l);i=this.findFirstFieldOfFirstElementInNextContainer(s,r);if(i){i.focus();e.preventDefault()}}};s.prototype.onsaptop=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;var a;if(i&&i.isA("sap.ui.layout.form.FormElement")){a=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){a=i}var l=a.getParent();n=this.findFirstFieldOfForm(l);if(n){n.focus();e.preventDefault()}}};s.prototype.onsapend=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var a=n.element;var l=a.getParent();var s=l.getParent();r=s.indexOfFormContainer(l);i=this.findLastFieldOfLastElementInPrevContainer(s,r);if(i){i.focus();e.preventDefault()}}};s.prototype.onsapbottom=function(e){if(o.isArrowKeySupported()){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;var a;if(i&&i.isA("sap.ui.layout.form.FormElement")){a=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){a=i}var l=a.getParent();var s=l.getFormContainers();var f=s.length;n=this.findLastFieldOfLastElementInPrevContainer(l,f-1);if(n){n.focus();e.preventDefault()}}};s.prototype.onsapexpand=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(true)}};s.prototype.onsapcollapse=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(false)}};s.prototype.onsapskipforward=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var l=a.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(a,l+1);if(n){n.focus();e.preventDefault()}};s.prototype.onsapskipback=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var l=a.getFormContainers();var s=a.indexOfFormContainer(o);while(!n&&s>0){var f=l[s-1];if(!f.getExpandable()||f.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(a,s-1)}s=s-1}if(n&&n!==t.getFocusDomRef()){n.focus();e.preventDefault()}};s.prototype.onBeforeFastNavigationFocus=function(e){if(jQuery.contains(this.getDomRef(),e.source)){e.srcControl=r.closestTo(e.source);if(e.forward){this.onsapskipforward(e)}else{this.onsapskipback(e)}}else{var t=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(t){t.focus();e.preventDefault()}}};s.prototype.findElement=function(e){var t=e.getParent();var r=e;while(t&&!t.isA("sap.ui.layout.form.FormElement")&&!t.isA("sap.ui.layout.form.FormContainer")&&!t.isA("sap.ui.layout.form.Form")){r=t;t=t.getParent()}return{rootControl:r,element:t}};s.prototype.navigateForward=function(e){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var o=n.element;t=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){if(t==o.getLabelControl()){r=-1}else{r=o.indexOfField(t)}i=this.findNextFieldOfElement(o,r+1);if(!i){var a=o.getParent();r=a.indexOfFormElement(o);i=this.findFirstFieldOfNextElement(a,r+1);if(!i){var l=a.getParent();r=l.indexOfFormContainer(a);i=this.findFirstFieldOfFirstElementInNextContainer(l,r+1)}}}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}};s.prototype.tabForward=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=-1}else{i=a.indexOfField(r)}n=this.findNextFieldOfElement(a,i+1,true);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findFirstFieldOfNextElement(l,i+1,true);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(a,0,true);if(!n){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}if(n){n.focus();e.preventDefault()}};s.prototype.findNextFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n=i.length;var o;for(var a=t;a<n;a++){var l=i[a];var s=this._getDomRef(l);if(r==true){if((!l.getEditable||l.getEditable())&&(!l.getEnabled||l.getEnabled())&&s){o=s;break}}else{if((!l.getEnabled||l.getEnabled())&&s){o=s;break}}}return o};s.prototype.findFirstFieldOfNextElement=function(e,t,r){var i=e.getFormElements();var n=i.length;var o;var a=t;while(!o&&a<n){var l=i[a];if(r==true){o=this.findNextFieldOfElement(l,0,true)}else{o=this.findNextFieldOfElement(l,0)}a++}return o};s.prototype.findFirstFieldOfForm=function(e){var t=this.findFirstFieldOfFirstElementInNextContainer(e,0);return t};s.prototype.findFirstFieldOfLastContainerOfForm=function(e){var t;var r=e.getFormContainers();var i=r.length;while(!t&&i>0){var n=r[i-1];if(!n.getExpandable()||n.getExpanded()){t=this.findFirstFieldOfFirstElementInPrevContainer(e,i-1)}i=i-1}return t};s.prototype.findFirstFieldOfFirstElementInNextContainer=function(e,t,r){var i=e.getFormContainers();var n=i.length;var o;var a=t;while(!o&&a<n){var l=i[a];if(l.getExpandable()&&r){o=l._oExpandButton.getFocusDomRef();if(o){break}}if(!l.getExpandable()||l.getExpanded()){if(r==true){o=this.findFirstFieldOfNextElement(l,0,true)}else{o=this.findFirstFieldOfNextElement(l,0)}}a++}return o};s.prototype.findFirstFieldOfFirstElementInPrevContainer=function(e,t){var r=e.getFormContainers();var i=r.length;var n;var o=t;while(!n&&o<i&&o>=0){var a=r[o];if(!a.getExpandable()||a.getExpanded()){n=this.findFirstFieldOfNextElement(a,0)}o++}return n};s.prototype.navigateBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(l,i-1);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}if(n){n.focus();e.preventDefault()}};s.prototype.tabBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1,true);if(!n){var l=a.getParent();i=l.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(l,i-1,true);if(!n){t=l.getParent();i=t.indexOfFormContainer(l);if(l.getExpandable()){n=l._oExpandButton.getFocusDomRef()}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}if(n){n.focus();e.preventDefault()}};s.prototype.findPrevFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n;for(var o=t;o>=0;o--){var a=i[o];var l=this._getDomRef(a);if(r==true){if((!a.getEditable||a.getEditable())&&(!a.getEnabled||a.getEnabled())&&l){n=l;break}}else{if((!a.getEnabled||a.getEnabled())&&l){n=l;break}}}return n};s.prototype.findLastFieldOfPrevElement=function(e,t,r){var i=e.getFormElements();var n;var o=t;while(!n&&o>=0){var a=i[o];var l=a.getFieldsForRendering().length;if(r==true){n=this.findPrevFieldOfElement(a,l-1,true)}else{n=this.findPrevFieldOfElement(a,l-1)}o--}return n};s.prototype.findLastFieldOfLastElementInPrevContainer=function(e,t,r){var i=e.getFormContainers();var n;var o=t;while(!n&&o>=0){var a=i[o];if(a.getExpandable()&&!a.getExpanded()&&r){n=a._oExpandButton.getFocusDomRef();if(n){break}}if(!a.getExpandable()||a.getExpanded()){var l=a.getFormElements().length;if(r==true){n=this.findLastFieldOfPrevElement(a,l-1,true)}else{n=this.findLastFieldOfPrevElement(a,l-1,0)}}o--}return n};s.prototype.findFieldBelow=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=this.findFirstFieldOfNextElement(r,i+1);if(!n){var o=r.getParent();i=o.indexOfFormContainer(r);n=this.findFirstFieldOfFirstElementInNextContainer(o,i+1)}return n};s.prototype.findFieldAbove=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=r.getFormElements();var o;var a=i-1;while(!o&&a>=0){var l=n[a];o=this.findPrevFieldOfElement(l,0);a--}if(!o){var s=r.getParent();i=s.indexOfFormContainer(r);o=this.findLastFieldOfLastElementInPrevContainer(s,i-1)}return o};s.prototype._getDomRef=function(e){var t=e.getFocusDomRef();if(!jQuery(t).is(":sapFocusable")){t=undefined}return t};s.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};s.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};s.prototype.getLayoutDataForDelimiter=function(){};s.prototype.getLayoutDataForSemanticField=function(e,t,r){};s.prototype.renderControlsForSemanticElement=function(){return false};s.prototype.loadTitleSizes=function(){var e=a.get({name:["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize","sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"],callback:this.applyTitleSizes.bind(this)});if(e&&e.hasOwnProperty("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")){this.applyTitleSizes(e,true)}};s.prototype.applyTitleSizes=function(e,t){if(e&&(this._sFormTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"]||this._sFormSubTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"])){this._sFormTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"];this._sFormSubTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"];if(!t){this.invalidate()}}};s.prototype.hasLabelledContainers=function(e){const t=e.getFormContainers();let r=false;for(let e=0;e<t.length;e++){if(this.isContainerLabelled(t[e])){r=true;break}}return r};s.prototype.isContainerLabelled=function(e){return!!e.getTitle()||!!e.getToolbar()||e.getAriaLabelledBy().length>0||e.getExpandable()};s.prototype.invalidateEditableChange=function(){return false};return s});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayoutRenderer", ["sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/form/Form","./FormHelper","sap/ui/core/IconPool"],function(e,t,i,r,n){"use strict";var o=e.TitleLevel;var a=t.BackgroundDesign;var s={apiVersion:2};s.render=function(e,t){var r=t.getParent();if(r&&r instanceof i){this.renderForm(e,t,r)}};s.renderForm=function(e,t,i){var r=i.getToolbar();e.openStart("div",t);e.class(this.getMainClass());if(r){e.class("sapUiFormToolbar")}this.addBackgroundClass(e,t);e.openEnd();this.renderHeader(e,r,i.getTitle(),undefined,false,t._sFormTitleSize,i.getId());this.renderContainers(e,t,i);e.close("div")};s.getMainClass=function(){return"sapUiFormLayout"};s.addBackgroundClass=function(e,t){var i=t.getBackgroundDesign();if(i!=a.Transparent){e.class("sapUiFormBackgr"+i)}};s.renderContainers=function(e,t,i){var r=i.getVisibleFormContainers();for(var n=0,o=r.length;n<o;n++){var a=r[n];this.renderContainer(e,t,a)}};s.renderContainer=function(e,t,i){var r=i.getExpandable();var n=i.getToolbar();var o=i.getTitle();e.openStart("div",i);e.class("sapUiFormContainer");if(n){e.class("sapUiFormContainerToolbar")}else if(o){e.class("sapUiFormContainerTitle")}if(i.getTooltip_AsString()){e.attr("title",i.getTooltip_AsString())}this.writeAccessibilityStateContainer(e,i,t.isContainerLabelled(i)?"form":"");e.openEnd();this.renderHeader(e,n,o,i._oExpandButton,r,t._sFormSubTitleSize,i.getId());if(r){e.openStart("div",i.getId()+"-content");if(!i.getExpanded()){e.style("display","none")}e.openEnd()}var a=i.getVisibleFormElements();for(var s=0,l=a.length;s<l;s++){var d=a[s];if(d.isA("sap.ui.layout.form.SemanticFormElement")&&!d._getEditable()){this.renderSemanticElement(e,t,d)}else{this.renderElement(e,t,d)}}if(r){e.close("div")}e.close("section")};s.renderElement=function(e,t,i){var r=i.getLabelControl();e.openStart("div",i);e.class("sapUiFormElement");if(r){e.class("sapUiFormElementLbl")}e.openEnd();if(r){e.renderControl(r)}var n=i.getFieldsForRendering();if(n&&n.length>0){for(var o=0,a=n.length;o<a;o++){var s=n[o];e.renderControl(s)}}e.close("div")};s.renderSemanticElement=function(e,t,i){this.renderElement(e,t,i)};s.renderTitle=function(e,t,i,r,n,a){if(t){if(typeof t!=="string"&&t.getLevel()!=o.Auto){n=t.getLevel()}if(!n){n="H5"}const c=r&&i;if(c){e.openStart("div",a+"--head");e.class("sapUiFormTitle");e.class("sapUiFormTitleExpandable");e.openEnd();e.renderControl(i)}if(typeof t!=="string"){e.openStart(n.toLowerCase(),t);if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getEmphasized()){e.class("sapUiFormTitleEmph")}}else{e.openStart(n.toLowerCase(),a+"--title")}if(!c){e.class("sapUiFormTitle")}e.class("sapUiFormTitle"+n);e.openEnd();if(typeof t==="string"){t.split(/\n/).forEach(function(t,i){if(i>0){e.voidStart("br").voidEnd()}e.text(t)})}else{var s=t.getIcon();if(s){var l=[];var d={title:null};d["id"]=t.getId()+"-ico";e.icon(s,l,d)}t.getText().split(/\n/).forEach(function(t,i){if(i>0){e.voidStart("br").voidEnd()}e.text(t)})}e.close(n.toLowerCase());if(c){e.close("div")}}};s.renderHeader=function(e,t,i,r,n,o,a){if(t){e.renderControl(t)}else{this.renderTitle(e,i,r,n,o,a)}};s.writeAccessibilityStateContainer=function(e,t,i){const r={};const n=this.getTitleId(t);if(n){r["labelledby"]={value:n,append:true}}if(i){r["role"]=i}e.accessibilityState(t,r)};s.getTitleId=function(e){const t=e.getTitle();const i=e.getToolbar();let n="";if(i){if(!e.getAriaLabelledBy()||e.getAriaLabelledBy().length==0){n=r.getToolbarTitle(i)}}else if(t){if(typeof t=="string"){n=e.getId()+"--title"}else{n=t.getId()}}return n};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormRenderer", ["./FormHelper","sap/base/Log"],function(e,t){"use strict";var s={apiVersion:2};s.render=function(s,i){const r=i.getLayout();const a={role:r&&r.hasLabelledContainers(i)?"region":"form"};s.openStart("div",i).class("sapUiForm").class("sapUiFormLblColon").attr("data-sap-ui-customfastnavgroup","true");var o=e.addFormClass();if(o){s.class(o)}if(i.getEditable()){s.class("sapUiFormEdit");s.class("sapUiFormEdit-CTX")}else{a.readonly=""}if(i.getWidth()){s.style("width",i.getWidth())}if(i.getTooltip_AsString()){s.attr("title",i.getTooltip_AsString())}const n=r?.getRenderer().getTitleId(i)||i._sSuggestedTitleId;if(n){a["labelledby"]={value:n,append:true}}s.accessibilityState(i,a);s.openEnd();if(r){s.renderControl(r)}else{t.warning('Form "'+i.getId()+'" - Layout missing!',"Renderer","Form")}s.close("div")};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/GridContainerData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(a,t){"use strict";var e=a.extend("sap.ui.layout.form.GridContainerData",{metadata:{library:"sap.ui.layout",properties:{halfGrid:{type:"boolean",group:"Misc",defaultValue:false}}}});return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/GridElementData", ["sap/ui/core/LayoutData","sap/ui/layout/library"],function(a,e){"use strict";var t=a.extend("sap.ui.layout.form.GridElementData",{metadata:{library:"sap.ui.layout",properties:{hCells:{type:"sap.ui.layout.form.GridElementCells",group:"Appearance",defaultValue:"auto"},vCells:{type:"int",group:"Appearance",defaultValue:1}}}});return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/GridLayout", ["sap/ui/layout/library","./FormLayout","./GridLayoutRenderer"],function(e,t,r){"use strict";var n=t.extend("sap.ui.layout.form.GridLayout",{metadata:{library:"sap.ui.layout",deprecated:true,properties:{singleColumn:{type:"boolean",group:"Misc",defaultValue:false}}},renderer:r});n.prototype.toggleContainerExpanded=function(e){this.invalidate()};n.prototype.onAfterRendering=function(){var e=this.getParent();if(e){var t=e.getVisibleFormContainers();for(var r=0;r<t.length;r++){var n=t[r];if(n.getExpandable()&&n._oExpandButton){n._oExpandButton.$().attr("tabindex","-1")}}}};n.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};n.prototype.onsaptabnext=function(e){this.tabForward(e)};n.prototype.onsaptabprevious=function(e){this.tabBack(e)};n.prototype.findFieldOfElement=function(e,r,n){if(!n){return t.prototype.findPrevFieldOfElement.apply(this,arguments)}if(!e.isVisible()){return null}var i=e.getFieldsForRendering();var a;var o=i.length;r=o-1;for(var f=r;f>=0;f--){var l=i[f];var d=l.$().offset().left;if(n<d&&f!=0){continue}var s=this._getDomRef(l);if((!l.getEnabled||l.getEnabled())&&s){a=s;break}}return a};n.prototype.findFieldBelow=function(e,t){var r=t.getParent();var n=r.indexOfFormElement(t);var i;if(r.isVisible()){var a=r.getFormElements();var o=a.length;var f=n+1;var l=e.$().offset().left;while(!i&&f<o){var d=a[f];i=this.findFieldOfElement(d,0,l);f++}}if(!i){var s=r.getParent();n=s.indexOfFormContainer(r);i=this.findFirstFieldOfFirstElementInNextContainer(s,n+1)}return i};n.prototype.findFieldAbove=function(e,t){var r=t.getParent();var n=r.indexOfFormElement(t);var i;if(r.isVisible()){var a=r.getFormElements();var o=n-1;var f=e.$().offset().left;while(!i&&o>=0){var l=a[o];i=this.findFieldOfElement(l,0,f);o--}}if(!i){var d=r.getParent();n=d.indexOfFormContainer(r);i=this.findLastFieldOfLastElementInPrevContainer(d,n-1)}return i};n.prototype.getContainerRenderedDomRef=function(e){return null};n.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){var t=this.getSingleColumn();var r=e.getParent();var n=this.getLayoutDataForElement(r,"sap.ui.layout.form.GridContainerData");if((t||!n||!n.getHalfGrid())&&!this.getRenderer().checkFullSizeElement(this,e)){return e.getDomRef()}}return null};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/GridLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer","sap/base/Log"],function(e,t,r){"use strict";var a=e.extend(t);a.apiVersion=2;a.renderForm=function(e,t,r){var a=t.getSingleColumn();var n=16;var i=false;var l=0;var o=r.getFormContainers();var s=o.length;var d=0;var f;var p;var c=r.getToolbar();var g=r.getTitle();if(a){n=n/2;l=n}else{l=n/2;for(d=0;d<s;d++){p=this.getContainerData(t,o[d]);if(p&&p.getHalfGrid()){i=true;break}}}e.openStart("table",t).attr("role","presentation").attr("cellpadding","0").attr("cellspacing","0").style("border-collapse","collapse").style("table-layout","fixed").style("width","100%").class("sapUiGrid");this.addBackgroundClass(e,t);if(c){e.class("sapUiFormToolbar")}e.openEnd();e.openStart("colgroup").openEnd();e.voidStart("col").attr("span",l).voidEnd();if(i){e.voidStart("col").class("sapUiGridSpace").attr("span","1").voidEnd()}if(!a){e.voidStart("col").attr("span",l).voidEnd()}e.close("colgroup");e.openStart("tbody").openEnd();if(c||g){var u=n;if(i){u++}e.openStart("tr").class("sapUiGridTitle").openEnd();e.openStart("th").attr("colspan",u).openEnd();this.renderHeader(e,c,g,undefined,false,t._sFormTitleSize,r.getId());e.close("th");e.close("tr")}d=0;var v;var E;while(d<s){f=o[d];f._checkProperties();if(f.isVisible()){p=this.getContainerData(t,f);if(p&&p.getHalfGrid()&&!a){v=o[d+1];E=undefined;if(v&&v.isVisible()){E=this.getContainerData(t,v)}if(E&&E.getHalfGrid()){v._checkProperties();this.renderContainerHalfSize(e,t,f,v,n);d++}else{this.renderContainerHalfSize(e,t,f,undefined,n)}}else{this.renderContainerFullSize(e,t,f,n,i)}}d++}e.close("tbody");e.close("table")};a.renderContainerFullSize=function(e,t,r,a,n){var i=r.getExpandable();var l=r.getTooltip_AsString();var o=r.getToolbar();var s=r.getTitle();if(o||s){var d=a;if(n){d++}e.openStart("tr").class("sapUiGridConteinerFirstRow").class("sapUiGridConteinerHeaderRow").openEnd();e.openStart("td").attr("colspan",d);e.class("sapUiGridHeader");if(l){e.attr("title",l)}if(o){e.class("sapUiFormContainerToolbar")}else if(s){e.class("sapUiFormContainerTitle")}e.openEnd();this.renderHeader(e,o,r.getTitle(),r._oExpandButton,i,t._sFormSubTitleSize,r.getId());e.close("td");e.close("tr")}if(!i||r.getExpanded()){var f=r.getFormElements();var p;var c=[];var g;var u=false;for(var v=0,E=f.length;v<E;v++){p=f[v];if(p.isVisible()){g=c[0]&&c[0][0]==a;if(!this.checkFullSizeElement(t,p)&&c[0]!="full"&&!g){e.openStart("tr",p);e.class("sapUiFormElement")}else{e.openStart("tr")}if(!u){u=true;if(!o&&!s){e.class("sapUiGridConteinerFirstRow")}}e.openEnd();if(!g){c=this.renderElement(e,t,p,false,a,n,c)}else{c.splice(0,1)}e.close("tr");if(c[0]=="full"||g){v=v-1}}}if(c.length>0){for(var h=0;h<c.length;h++){e.openStart("tr").openEnd().close("tr")}}}};a.renderContainerHalfSize=function(e,t,r,a,n){var i=n/2;var l=r.getExpandable();var o=r.getTooltip_AsString();var s;var d=r.getTitle();var f;var p=r.getToolbar();var c;var g=[];if(!l||r.getExpanded()){g=r.getFormElements()}var u=g.length;var v=[];var E=0;var h=false;if(a){h=a.getExpandable();s=a.getTooltip_AsString();f=a.getTitle();c=a.getToolbar();if(!h||a.getExpanded()){v=a.getFormElements()}E=v.length}if(d||f||p||c){e.openStart("tr").class("sapUiGridConteinerFirstRow").class("sapUiGridConteinerHeaderRow").openEnd();e.openStart("td").attr("colspan",i);e.class("sapUiGridHeader");if(o){e.attr("title",o)}if(p){e.class("sapUiFormContainerToolbar")}else if(d){e.class("sapUiFormContainerTitle")}e.openEnd();if(r){this.renderHeader(e,p,d,r._oExpandButton,l,t._sFormSubTitleSize,r.getId())}e.close("td");e.openStart("td").openEnd().close("td");e.openStart("td").attr("colspan",i);e.class("sapUiGridHeader");if(s){e.attr("title",s)}if(c){e.class("sapUiFormContainerToolbar")}else if(f){e.class("sapUiFormContainerTitle")}e.openEnd();if(a){this.renderHeader(e,c,f,a._oExpandButton,h,t._sFormSubTitleSize,a.getId())}e.close("td");e.close("tr")}if(!l||r.getExpanded()||(!h||a.getExpanded())){var m=[],S=[];var C=0,F=0;var b;var T;var U;var G;var H=false;while(C<u||F<E){b=g[C];T=v[F];U=m[0]&&m[0][0]==i;G=S[0]&&S[0][0]==i;if(b&&b.isVisible()||T&&T.isVisible()||U||G){e.openStart("tr");if(!H){H=true;if(!p&&!d&&!c&&!f){e.class("sapUiGridConteinerFirstRow")}}e.openEnd();if(!U){if(b&&b.isVisible()&&(!l||r.getExpanded())){m=this.renderElement(e,t,b,true,i,false,m)}else{e.openStart("td").attr("colspan",i).openEnd().close("td")}if(m[0]!="full"){C++}}else{if(m[0][2]>0){e.openStart("td").attr("colspan",m[0][2]).openEnd().close("td")}m.splice(0,1)}e.openStart("td").openEnd().close("td");if(!G){if(T&&T.isVisible()&&(!h||a.getExpanded())){S=this.renderElement(e,t,T,true,i,false,S)}else{e.openStart("td").attr("colspan",i).openEnd().close("td")}if(S[0]!="full"){F++}}else{if(S[0][2]>0){e.openStart("td").attr("colspan",S[0][2]).openEnd().close("td")}S.splice(0,1)}e.close("tr")}else{C++;F++}}if(m.length>0||S.length>0){for(var x=0;x<m.length||x<S.length;x++){e.openStart("tr").openEnd().close("tr")}}}};a.renderElement=function(e,t,a,n,i,l,o){var s=a.getLabelControl();var d=0;var f=a.getFieldsForRendering();var p=0;var c=0;var g=false;var u=1;var v=1;var E=0;if(this.checkFullSizeElement(t,a)){if(o.length>0&&o[0]!="full"){r.error('Element "'+a.getId()+'" - Too much fields for one row!',"Renderer","GridLayout");return o}if(l){i=i+1}if(s&&o[0]!="full"){e.openStart("td").attr("colspan",i).class("sapUiFormElementLbl").class("sapUiGridLabelFull").openEnd();e.renderControl(s);e.close("td");return["full"]}else{o.splice(0,1);v=this.getElementData(t,f[0]).getVCells();e.openStart("td").attr("colspan",i);if(v>1&&n){e.attr("rowspan",v);for(E=0;E<v-1;E++){o.push([i,undefined,false])}}e.openEnd();e.renderControl(f[0]);e.close("td");return o}}if(o.length>0&&o[0][0]>0){i=i-o[0][0]+o[0][2];g=o[0][1];d=o[0][2];o.splice(0,1)}var h=d;var m;var S="";if(s||d>0){h=3;if(s&&d==0){m=this.getElementData(t,s);if(m){S=m.getHCells();if(S!="auto"&&S!="full"){h=parseInt(S)}}}e.openStart("td").attr("colspan",h).class("sapUiFormElementLbl").openEnd();if(s){e.renderControl(s)}i=i-h;e.close("td")}if(f&&f.length>0){var C=i;var F=f.length;var b;var T=0;var U=0;for(T=0,U=f.length;T<U;T++){b=f[T];m=this.getElementData(t,b);if(m&&m.getHCells()!="auto"){C=C-parseInt(m.getHCells());F=F-1}}var G=0;for(T=0,G=0,U=f.length;T<U;T++){b=f[T];m=this.getElementData(t,b);S="auto";u=1;v=1;if(m){S=m.getHCells();v=m.getVCells()}if(S=="auto"){if(C>0){u=Math.floor(C/F);if(u<1){u=1}G++;c=c+u;if(G==F&&C>c){u=u+(C-c)}}else{u=1}}else{u=parseInt(S)}p=p+u;if(p>i){r.error('Element "'+a.getId()+'" - Too much fields for one row!',"Renderer","GridLayout");p=p-u;break}if(v>1){for(E=0;E<v-1;E++){if(s){d=h}if(o.length>E){o[E][0]=o[E][0]+u;o[E][2]=d}else{o.push([h+u,undefined,d])}}}if(l&&p>=Math.floor(i/2)&&!g){u=u+1;g=true;if(v>1){for(E=0;E<v-1;E++){o[E][1]=true}}}e.openStart("td");if(u>1){e.attr("colspan",u)}if(v>1){e.attr("rowspan",v)}e.openEnd();e.renderControl(b);e.close("td")}}if(p<i){var H=i-p;if(!n&&l&&!g){H++}e.openStart("td").attr("colspan",H).openEnd().close("td")}return o};a.checkFullSizeElement=function(e,t){var r=t.getFieldsForRendering();if(r.length==1&&this.getElementData(e,r[0])&&this.getElementData(e,r[0]).getHCells()=="full"){return true}else{return false}};a.getContainerData=function(e,t){return e.getLayoutDataForElement(t,"sap.ui.layout.form.GridContainerData")};a.getElementData=function(e,t){return e.getLayoutDataForElement(t,"sap.ui.layout.form.GridElementData")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayout", ["sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/layout/library","sap/ui/layout/Grid","sap/ui/layout/GridData","./Form","./FormContainer","./FormElement","./FormLayout","./ResponsiveGridLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,r,s,o,l,f,u,jQuery){"use strict";var d=f.extend("sap.ui.layout.form.ResponsiveGridLayout",{metadata:{library:"sap.ui.layout",properties:{labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600}}},renderer:u});var p=e.extend("sap.ui.layout.form.ResponsiveGridLayoutPanel",{metadata:{library:"sap.ui.layout",aggregations:{content:{type:"sap.ui.layout.Grid",multiple:false}},associations:{container:{type:"sap.ui.layout.form.FormContainer",multiple:false},layout:{type:"sap.ui.layout.form.ResponsiveGridLayout",multiple:false}}},getLayoutData:function(){var e=t.getElementById(this.getContainer());var a=t.getElementById(this.getLayout());var i;if(a&&e){i=a.getLayoutDataForElement(e,"sap.ui.layout.GridData")}if(i){return i}else{return this.getAggregation("layoutData")}},getCustomData:function(){var e=t.getElementById(this.getContainer());if(e){return e.getCustomData()}},refreshExpanded:function(){var e=t.getElementById(this.getContainer());if(e){if(e.getExpanded()){this.$().removeClass("sapUiRGLContainerColl")}else{this.$().addClass("sapUiRGLContainerColl")}}},renderer:{apiVersion:2,render:function(e,a){var i=t.getElementById(a.getContainer());var n=t.getElementById(a.getLayout());var r=a.getContent();var s=i.getExpandable();var o=i.getTooltip_AsString();var l=i.getToolbar();var f=i.getTitle();e.openStart("div",a);e.class("sapUiRGLContainer");if(s&&!i.getExpanded()){e.class("sapUiRGLContainerColl")}if(l){e.class("sapUiFormContainerToolbar")}else if(f){e.class("sapUiFormContainerTitle")}if(o){e.attr("title",o)}n.getRenderer().writeAccessibilityStateContainer(e,i,"form");e.openEnd();n.getRenderer().renderHeader(e,l,f,i._oExpandButton,s,n._sFormSubTitleSize,i.getId());if(r){e.openStart("div");e.class("sapUiRGLContainerCont");e.openEnd();e.renderControl(r);e.close("div")}e.close("div")}}});d.prototype.init=function(){f.prototype.init.apply(this,arguments);this.mContainers={};this.oDummyLayoutData=new r(this.getId()+"--Dummy")};d.prototype.exit=function(){for(var e in this.mContainers){_.call(this,e,true)}if(this._mainGrid){this._mainGrid.destroy();delete this._mainGrid}this.oDummyLayoutData.destroy();this.oDummyLayoutData=undefined};d.prototype.onBeforeRendering=function(e){f.prototype.onBeforeRendering.apply(this,arguments);var t=this.getParent();if(!t||!(t instanceof s)){return}t._bNoInvalidate=true;g.call(this,t);c.call(this,t);t._bNoInvalidate=false};d.prototype.onAfterRendering=function(e){if(this._mainGrid&&this._mainGrid.__bIsUsed){for(var t in this.mContainers){if(this.mContainers[t][1]._sContainerResizeListener){a.deregister(this.mContainers[t][1]._sContainerResizeListener);this.mContainers[t][1]._sContainerResizeListener=null}}}};d.prototype.toggleContainerExpanded=function(e){var t=e.getId();if(this.mContainers[t]&&this.mContainers[t][0]){var a=this.mContainers[t][0];a.refreshExpanded()}};d.prototype.onLayoutDataChange=function(e){var t=e.srcControl;if(t instanceof o){if(this._mainGrid){this._mainGrid.onLayoutDataChange(e);this.invalidate()}}else if(!(t instanceof l)){var a=t.getParent();if(a instanceof l){var i=a.getParent();var n=i.getId();if(this.mContainers[n]&&this.mContainers[n][1]){this.mContainers[n][1].onLayoutDataChange(e)}}}};d.prototype.onsapup=function(e){this.onsapleft(e)};d.prototype.onsapdown=function(e){this.onsapright(e)};d.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){var t=e.getId();if(this.mContainers[t]){if(this.mContainers[t][0]){var a=this.mContainers[t][0];return a.getDomRef()}else if(this.mContainers[t][1]){var i=this.mContainers[t][1];return i.getDomRef()}}}return null};d.prototype.getElementRenderedDomRef=function(e){return null};function g(e){var t=e.getVisibleFormContainers();var a=t.length;var i=0;var n;var r;var s;var o;var l=0;for(l=0;l<a;l++){s=t[l];s._checkProperties();if(s.isVisible()){i++;o=s.getId();n=undefined;r=undefined;var f=t[l+1];if(this.mContainers[o]&&this.mContainers[o][1]){r=this.mContainers[o][1]}else{r=h.call(this,s)}var u=s.getTitle();var d=s.getToolbar();if(d||u||s.getExpandable()){if(this.mContainers[o]&&this.mContainers[o][0]){n=this.mContainers[o][0]}else{n=m.call(this,s,r);v(r,true)}C(n,s,i,f,a)}else{if(this.mContainers[o]&&this.mContainers[o][0]){y(this.mContainers[o][0])}v(r,false);C(r,s,i,f,a)}this.mContainers[o]=[n,r]}}var p=Object.keys(this.mContainers).length;if(a<p){for(o in this.mContainers){var g=false;for(l=0;l<a;l++){s=t[l];if(o==s.getId()){g=true;break}}if(!g){_.call(this,o)}}}}function m(e,t){var a=e.getId();var i=new p(a+"---Panel",{container:e,layout:this,content:t});return i}function y(e,t){e.setLayout(null);e.setContainer(null);if(!t||!e.getParent()){e.setContent(null);e.destroy()}}function h(e){var a=e.getId()+"--Grid";var i=new n(a,{vSpacing:0,hSpacing:0,containerQuery:true});i.__myParentLayout=this;i.__myParentContainerId=e.getId();i.addStyleClass("sapUiFormResGridCont").addStyleClass("sapUiRespGridOverflowHidden");i.getContent=function(){var e=t.getElementById(this.__myParentContainerId);if(e){var a=[];var i=e.getVisibleFormElements();var n;var r;for(var s=0;s<i.length;s++){var o=i[s];r=o.getLabelControl();if(r){a.push(r)}n=o.getFieldsForRendering();for(var l=0;l<n.length;l++){a.push(n[l])}}return a}else{return false}};i.getAriaLabelledBy=function(){var e=t.getElementById(this.__myParentContainerId);if(e&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()){return e.getAriaLabelledBy()}return[]};var r={labelSpan:0,span:0,firstField:false,defaultFields:0,row:0,myRow:false,freeFields:0,finished:false};var s={id:"XL",getEffectiveSpan:function(e){var t=e._getEffectiveSpanXLarge();if(!t){t=e._getEffectiveSpanLarge()}return t},getEmptySpan:function(e){var t=e.getEmptySpanXL();if(t<0){t=e.getEmptySpanL()}return t},getLabelSpan:function(e){return e.getLabelSpanXL()},setIndent:function(e,t){e.setIndentXL(t)},setLinebreak:function(e,t){e.setLinebreakXL(t)}};jQuery.extend(s,r);var o={id:"L",getEffectiveSpan:function(e){return e._getEffectiveSpanLarge()},getEmptySpan:function(e){return e.getEmptySpanL()},getLabelSpan:function(e){return e.getLabelSpanL()},setIndent:function(e,t){e.setIndentL(t)},setLinebreak:function(e,t){e.setLinebreakL(t)}};jQuery.extend(o,r);var l={id:"M",getEffectiveSpan:function(e){return e._getEffectiveSpanMedium()},getEmptySpan:function(e){return e.getEmptySpanM()},getLabelSpan:function(e){return e.getLabelSpanM()},setIndent:function(e,t){e.setIndentM(t)},setLinebreak:function(e,t){e.setLinebreakM(t)}};jQuery.extend(l,r);var f={id:"S",getEffectiveSpan:function(e){return e._getEffectiveSpanSmall()},getEmptySpan:function(e){return e.getEmptySpanS()},getLabelSpan:function(e){return e.getLabelSpanS()},setIndent:function(e,t){e.setIndentS(t)},setLinebreak:function(e,t){e.setLinebreakS(t)}};jQuery.extend(f,r);var u=[s,o,l,f];i._getLayoutDataForControl=function(e){var a=this.__myParentLayout;var i=a.getLayoutDataForElement(e,"sap.ui.layout.GridData");var n=e.getParent();var d=n.getLabelControl();if(i){if(d==e){i._setStylesInternal("sapUiFormElementLbl")}return i}else{var p=t.getElementById(this.__myParentContainerId);var g=a.getLayoutDataForElement(p,"sap.ui.layout.GridData");var m=p.getParent();var y;var h=0;for(h=0;h<u.length;h++){y=u[h];jQuery.extend(y,r);y.labelSpan=y.getLabelSpan(a)}if(a.getAdjustLabelSpan()){if(m.getVisibleFormContainers().length>=1&&a.getColumnsM()>1){l.labelSpan=a.getLabelSpanL()}if(g){if(g._getEffectiveSpanLarge()==12){o.labelSpan=a.getLabelSpanM();l.labelSpan=a.getLabelSpanM()}}if(m.getVisibleFormContainers().length==1||a.getColumnsL()==1){o.labelSpan=a.getLabelSpanM();l.labelSpan=a.getLabelSpanM()}}if(s.labelSpan<0){s.labelSpan=o.labelSpan}if(d==e){a.oDummyLayoutData.setSpan("XL"+s.labelSpan+" L"+o.labelSpan+" M"+l.labelSpan+" S"+f.labelSpan);a.oDummyLayoutData.setLinebreak(true);a.oDummyLayoutData.setIndentXL(0).setIndentL(0).setIndentM(0).setIndentS(0);a.oDummyLayoutData._setStylesInternal("sapUiFormElementLbl");return a.oDummyLayoutData}else{var L;if(d){L=a.getLayoutDataForElement(d,"sap.ui.layout.GridData")}var v=n.getFieldsForRendering();var C=v.length;var _;var c;var b=1;var S=false;var D;var F=0;for(h=0;h<u.length;h++){y=u[h];y.span=12-y.getEmptySpan(a);if(d){if(L){D=y.getEffectiveSpan(L);if(D){y.labelSpan=D}}if(y.labelSpan<12){y.span=y.span-y.labelSpan}}y.spanFields=y.span}for(F=0;F<C;F++){_=v[F];if(_!=e){c=a.getLayoutDataForElement(_,"sap.ui.layout.GridData");if(c){for(h=0;h<u.length;h++){y=u[h];D=y.getEffectiveSpan(c);if(D&&D<y.span){y.span=y.span-D}}}else{b++}}else{if(b==1){S=true}}}var G=[];for(h=0;h<u.length;h++){y=u[h];y.firstField=S;y.defaultFields=b;if(y.span<b){y.defaultFields=0;y.row=0;y.myRow=false;y.freeFields=y.spanFields;y.span=y.spanFields;y.finished=false;G.push(y)}}if(G.length>0){for(F=0;F<C;F++){_=v[F];c=undefined;if(_!=e){c=a.getLayoutDataForElement(_,"sap.ui.layout.GridData")}for(h=0;h<G.length;h++){y=G[h];if(y.finished){continue}if(c){D=y.getEffectiveSpan(c);y.span=y.span-D}else{D=1}if(y.freeFields>=D){y.freeFields=y.freeFields-D;if(!c){y.defaultFields++}}else{if(y.myRow){y.finished=true}else{y.freeFields=y.spanFields-D;y.row++;if(c){y.defaultFields=0;y.span=y.spanFields-D}else{y.defaultFields=1;y.span=y.spanFields}if(_==e){y.firstField=true}}}if(_==e){y.myRow=true}}}}var I=0;var R="";var E;for(h=0;h<u.length;h++){y=u[h];if(y.id!="S"||y.labelSpan<12){if(y.firstField){I=y.span-Math.floor(y.span/y.defaultFields)*y.defaultFields;E=Math.floor(y.span/y.defaultFields)+I}else{E=Math.floor(y.span/y.defaultFields)}}else{E=12}if(R){R=R+" "}R=R+y.id+E;y.setLinebreak(a.oDummyLayoutData,y.firstField&&y.row>0);y.setIndent(a.oDummyLayoutData,y.firstField&&y.row>0?y.labelSpan:0)}a.oDummyLayoutData.setSpan(R);a.oDummyLayoutData.setLinebreak(S&&!d);a.oDummyLayoutData._setStylesInternal(undefined);return a.oDummyLayoutData}}};i._onParentResizeOrig=i._onParentResize;i._onParentResize=function(){if(!this.getDomRef()){this._cleanup();return}if(!jQuery(this.getDomRef()).is(":visible")){return}var e=this.__myParentLayout;if(!e._mainGrid||!e._mainGrid.__bIsUsed){var t=e.getParent().getVisibleFormContainers()[0];if(!t||!e.mContainers[t.getId()]||t.getId()!=this.__myParentContainerId){return}if(e.mContainers[this.__myParentContainerId][0]){var a=e.mContainers[this.__myParentContainerId][0].getDomRef();var i=a.clientWidth;if(i<=e.getBreakpointM()){this._toggleClass("Phone")}else if(i>e.getBreakpointM()&&i<=e.getBreakpointL()){this._toggleClass("Tablet")}else if(i>e.getBreakpointL()&&i<=e.getBreakpointXL()){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}else{this._setBreakPointTablet(e.getBreakpointM());this._setBreakPointDesktop(e.getBreakpointL());this._setBreakPointLargeDesktop(e.getBreakpointXL());this._onParentResizeOrig()}}else{var n=e._mainGrid.$();if(n.hasClass("sapUiRespGridMedia-Std-Phone")){this._toggleClass("Phone")}else if(n.hasClass("sapUiRespGridMedia-Std-Tablet")){this._toggleClass("Tablet")}else if(n.hasClass("sapUiRespGridMedia-Std-Desktop")){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}};i._getAccessibleRole=function(){var e=t.getElementById(this.__myParentContainerId);var a=this.__myParentLayout;if(a._mainGrid&&a._mainGrid.__bIsUsed&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()&&e.getAriaLabelledBy().length>0){return"form"}};i.getUIArea=function(){var e=this.__myParentLayout;if(e){return e.getUIArea()}else{return null}};return i}function L(e,t){if(e.__myParentContainerId){e.__myParentContainerId=undefined}e.__myParentLayout=undefined;if(!t||!e.getParent()){e.destroy()}}function v(e,a){if(a){if(e.__originalGetLayoutData){e.getLayoutData=e.__originalGetLayoutData;delete e.__originalGetLayoutData}}else if(!e.__originalGetLayoutData){e.__originalGetLayoutData=e.getLayoutData;e.getLayoutData=function(){var e=this.__myParentLayout;var a=t.getElementById(this.__myParentContainerId);var i;if(a){i=e.getLayoutDataForElement(a,"sap.ui.layout.GridData")}if(i){return i}else{return this.getAggregation("layoutData")}}}}function C(e,a,i,n,s){var o;if(e instanceof p){o=t.getElementById(e.getLayout())}else{o=e.__myParentLayout}var l=o.getLayoutDataForElement(a,"sap.ui.layout.GridData");if(!l){var f=o.getColumnsM();var u=o.getColumnsL();var d=o.getColumnsXL();var g=i%u==1;var m=i%u==0;var y=i>u*(Math.ceil(s/u)-1);var h=i<=u;var L=i%f==1;var v=i%f==0;var C=i>f*(Math.ceil(s/f)-1);var _=i<=f;var c=false;var b=m;var S=y;var D=h;if(d>0){c=i%d==1;b=i%d==0;S=i>d*(Math.ceil(s/d)-1);D=i<=d}if(n){var F=o.getLayoutDataForElement(n,"sap.ui.layout.GridData");if(F&&(F.getLinebreak()||F.getLinebreakXL())){b=true;S=false}if(F&&(F.getLinebreak()||F.getLinebreakL())){m=true;y=false}if(F&&(F.getLinebreak()||F.getLinebreakM())){v=true;C=false}}var G="";if(b){G="sapUiFormResGridLastContXL"}if(m){if(G){G=G+" "}G=G+"sapUiFormResGridLastContL"}if(v){if(G){G=G+" "}G=G+"sapUiFormResGridLastContM"}if(S){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowXL"}if(y){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowL"}if(C){if(G){G=G+" "}G=G+"sapUiFormResGridLastRowM"}if(D){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowXL"}if(h){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowL"}if(_){if(G){G=G+" "}G=G+"sapUiFormResGridFirstRowM"}l=e.getLayoutData();if(!l){l=new r(e.getId()+"--LD",{linebreakL:g,linebreakM:L});e.setLayoutData(l)}else{l.setLinebreakL(g);l.setLinebreakM(L)}if(d>0){l.setLinebreakXL(c)}l._setStylesInternal(G)}}function _(e,t){var a=this.mContainers[e];var i=a[1];if(i){L(i,t)}var n=a[0];if(n){y(n,t)}delete this.mContainers[e]}function c(e){var a=e.getVisibleFormContainers();var i;var r;var s=a.length;var o=0;var l=0;var f=0;if(s>1||!this.getSingleContainerFullSize()){var u=Math.floor(12/this.getColumnsM());var d=Math.floor(12/this.getColumnsL());var p;var g="";var m=this.getColumnsXL();if(m>=0){p=Math.floor(12/m);g=g+"XL"+p+" "}g=g+"L"+d+" M"+u+" S12";if(!this._mainGrid){this._mainGrid=new n(e.getId()+"--Grid",{defaultSpan:g,hSpacing:0,vSpacing:0,containerQuery:true}).setParent(this);this._mainGrid.addStyleClass("sapUiFormResGridMain").addStyleClass("sapUiRespGridOverflowHidden");this._mainGrid._onParentResizeOrig=this._mainGrid._onParentResize;this._mainGrid._onParentResize=function(){this._onParentResizeOrig();var e=this.getParent();for(var t in e.mContainers){e.mContainers[t][1]._onParentResize()}}}else{this._mainGrid.setDefaultSpan(g);var y=this._mainGrid.getContent();o=y.length;var h=false;for(l=0;l<o;l++){var L=y[l];i=undefined;if(L.getContainer){i=t.getElementById(L.getContainer())}else{i=t.getElementById(L.__myParentContainerId)}if(i&&i.isVisible()){var v=a[f];if(i!=v){h=true;break}var C=this.mContainers[i.getId()];if(C[0]&&C[0]!=L){h=true;break}if(!C[0]&&C[1]&&C[1]!=L){h=true;break}f++}else{this._mainGrid.removeContent(L)}}if(h){this._mainGrid.removeAllContent();o=0}}this._mainGrid._setBreakPointTablet(this.getBreakpointM());this._mainGrid._setBreakPointDesktop(this.getBreakpointL());this._mainGrid._setBreakPointLargeDesktop(this.getBreakpointXL());this._mainGrid.__bIsUsed=true;if(o<s){var _=0;if(o>0){_=o--}for(l=_;l<s;l++){i=a[l];r=i.getId();if(this.mContainers[r]){if(this.mContainers[r][0]){this._mainGrid.addContent(this.mContainers[r][0])}else if(this.mContainers[r][1]){this._mainGrid.addContent(this.mContainers[r][1])}}}}}else{if(this._mainGrid){this._mainGrid.__bIsUsed=false}for(l=0;l<s;l++){i=a[l];r=i.getId();if(this.mContainers[r]){if(this.mContainers[r][0]){if(this.mContainers[r][0].getParent()!==this){this.addDependent(this.mContainers[r][0])}}else if(this.mContainers[r][1]){if(this.mContainers[r][1].getParent()!==this){this.addDependent(this.mContainers[r][1])}}}}}}d.prototype.getLayoutDataForDelimiter=function(){return new r({spanS:1,spanM:1,spanL:1,spanXL:1})};d.prototype.getLayoutDataForSemanticField=function(e,t,a){var i=8-(e-1);i=Math.floor(i/e);if(e===t){i=i+8-(e-1+e*i)}if(a){if(a.isA("sap.ui.layout.GridData")){a.setSpanS(11).setSpanM(i).setSpanL(i).setSpanXL(i);return a}else{a.destroy()}}return new r({spanS:11,spanM:i,spanL:i,spanXL:i})};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);n.apiVersion=2;n.getMainClass=function(){return"sapUiFormResGrid"};n.renderContainers=function(e,r,n){var i=n.getVisibleFormContainers();var t=i.length;if(t>0){if(t>1||!r.getSingleContainerFullSize()){e.renderControl(r._mainGrid)}else if(r.mContainers[i[0].getId()][0]){e.renderControl(r.mContainers[i[0].getId()][0])}else{e.renderControl(r.mContainers[i[0].getId()][1])}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveLayout", ["sap/ui/core/Control","sap/ui/core/Element","sap/ui/layout/library","sap/ui/layout/ResponsiveFlowLayout","sap/ui/layout/ResponsiveFlowLayoutData","./Form","./FormContainer","./FormElement","./FormLayout","./ResponsiveLayoutRenderer"],function(t,e,a,n,i,r,o,s,l,u){"use strict";var f=l.extend("sap.ui.layout.form.ResponsiveLayout",{metadata:{library:"sap.ui.layout"},renderer:u});var d=t.extend("sap.ui.layout.form.ResponsiveLayoutPanel",{metadata:{library:"sap.ui.layout",aggregations:{content:{type:"sap.ui.layout.ResponsiveFlowLayout",multiple:false}},associations:{container:{type:"sap.ui.layout.form.FormContainer",multiple:false},layout:{type:"sap.ui.layout.form.ResponsiveLayout",multiple:false}}},getLayoutData:function(){var t=e.getElementById(this.getContainer());var a=e.getElementById(this.getLayout());var n;if(a&&t){n=a.getLayoutDataForElement(t,"sap.ui.layout.ResponsiveFlowLayoutData")}return n},getCustomData:function(){var t=e.getElementById(this.getContainer());if(t){return t.getCustomData()}},refreshExpanded:function(){var t=e.getElementById(this.getContainer());if(t){if(t.getExpanded()){this.$().removeClass("sapUiRLContainerColl")}else{this.$().addClass("sapUiRLContainerColl")}}},renderer:{apiVersion:2,render:function(t,a){var n=e.getElementById(a.getContainer());var i=e.getElementById(a.getLayout());var r=a.getContent();if(!n||!i){return}var o=n.getExpandable();var s=n.getTooltip_AsString();var l=n.getToolbar();var u=n.getTitle();t.openStart("div",a);t.class("sapUiRLContainer");if(o&&!n.getExpanded()){t.class("sapUiRLContainerColl")}if(l){t.class("sapUiFormContainerToolbar")}else if(u){t.class("sapUiFormContainerTitle")}if(s){t.attr("title",s)}i.getRenderer().writeAccessibilityStateContainer(t,n,"form");t.openEnd();i.getRenderer().renderHeader(t,l,u,n._oExpandButton,o,i._sFormSubTitleSize,n.getId());if(r){t.openStart("div");t.class("sapUiRLContainerCont");t.openEnd();t.renderControl(r);t.close("div")}t.close("div")}}});f.prototype.init=function(){l.prototype.init.apply(this,arguments);this.mContainers={};this._defaultLayoutData=new i({margin:false})};f.prototype.exit=function(){for(var t in this.mContainers){_.call(this,t)}if(this._mainRFLayout){this._mainRFLayout.destroy();delete this._mainRFLayout}this._defaultLayoutData.destroy();delete this._defaultLayoutData};f.prototype.onBeforeRendering=function(t){l.prototype.onBeforeRendering.apply(this,arguments);var e=this.getParent();if(!e||!(e instanceof r)){return}e._bNoInvalidate=true;m.call(this,e);I.call(this,e);e._bNoInvalidate=false};f.prototype.toggleContainerExpanded=function(t){var e=t.getId();if(this.mContainers[e]&&this.mContainers[e][0]){var a=this.mContainers[e][0];a.refreshExpanded()}};f.prototype.onLayoutDataChange=function(t){var e=t.srcControl;var a;var n;var i;if(e instanceof o){if(this._mainRFLayout){this._mainRFLayout.onLayoutDataChange(t)}}else if(e instanceof s){n=e.getParent().getId();if(this.mContainers[n]&&this.mContainers[n][1]){this.mContainers[n][1].onLayoutDataChange(t)}}else{var r=e.getParent();if(r instanceof s){a=r.getParent();n=a.getId();i=r.getId();if(this.mContainers[n]&&this.mContainers[n][2]&&this.mContainers[n][2][i]){if(this.mContainers[n][2][i][1]){var l=r.getFieldsForRendering();p.call(this,this.mContainers[n][2][i][1],l)}this.mContainers[n][2][i][0].onLayoutDataChange(t)}}}};f.prototype.onsapup=function(t){this.onsapleft(t)};f.prototype.onsapdown=function(t){this.onsapright(t)};f.prototype.getContainerRenderedDomRef=function(t){if(this.getDomRef()){var e=t.getId();if(this.mContainers[e]){if(this.mContainers[e][0]){var a=this.mContainers[e][0];return a.getDomRef()}else if(this.mContainers[e][1]){var n=this.mContainers[e][1];return n.getDomRef()}}}return null};f.prototype.getElementRenderedDomRef=function(t){if(this.getDomRef()){var e=t.getParent();var a=t.getId();var n=e.getId();if(this.mContainers[n]){if(this.mContainers[n][2]){var i=this.mContainers[n][2];if(i[a]){var r=i[a][0];return r.getDomRef()}}}}return null};function m(t){var e=t.getVisibleFormContainers();var a=e.length;var n;var i;var r;var o;var s=0;for(s=0;s<a;s++){n=e[s];n._checkProperties();i=n.getId();r=undefined;o=undefined;if(this.mContainers[i]&&this.mContainers[i][1]){o=this.mContainers[i][1]}else{o=h.call(this,n,undefined)}var l=n.getTitle();var u=n.getToolbar();if(u||l||n.getExpandable()){if(this.mContainers[i]&&this.mContainers[i][0]){r=this.mContainers[i][0]}else{r=y.call(this,n,o);C(o,true)}o.removeStyleClass("sapUiRLContainer")}else{if(this.mContainers[i]&&this.mContainers[i][0]){g(this.mContainers[i][0]);C(o,false)}o.addStyleClass("sapUiRLContainer")}var f=v.call(this,n,o);this.mContainers[i]=[r,o,f]}var d=Object.keys(this.mContainers).length;if(a<d){for(i in this.mContainers){var m=false;for(s=0;s<a;s++){n=e[s];if(i==n.getId()){m=true;break}}if(!m){_.call(this,i)}}}}function y(t,e){var a=t.getId();var n=new d(a+"--Panel",{container:t,layout:this,content:e});return n}function g(t){t.setContent(null);t.setLayout(null);t.setContainer(null);t.destroy()}function v(t,e){var a=t.getId();var n=t.getVisibleFormElements();var i=n.length;var r={};if(this.mContainers[a]&&this.mContainers[a][2]){r=this.mContainers[a][2]}var o;var s;var l=-1;var u;var f;var d=0;for(d=0;d<i;d++){u=n[d];f=u.getId();c.call(this,t,u,r,e,d);if(r[f]){o=r[f][0];l=e.indexOfContent(o);if(l!=i){e.removeContent(o);e.insertContent(o,i);l=i}}else{o=h.call(this,t,u);o.addStyleClass("sapUiRLElement");if(u.getLabel()){o.addStyleClass("sapUiRLElementWithLabel")}r[f]=[o,undefined];l++;e.insertContent(o,l)}var m=u.getFieldsForRendering();if(u.getLabel()&&m.length>1){if(r[f][1]){s=r[f][1]}else{s=h.call(this,t,u,true);s.addStyleClass("sapUiRLElementFields");r[f][1]=s}p.call(this,s,m)}else{if(r[f][1]){s=r[f][1];L(s);r[f][1]=undefined}}}var y=Object.keys(r).length;if(i<y){for(f in r){var g=false;for(d=0;d<i;d++){u=n[d];if(f==u.getId()){g=true;break}}if(!g){if(r[f][1]){s=r[f][1];L(s)}o=r[f][0];e.removeContent(o);L(o);delete r[f]}}}return r}function h(t,a,r){var o;if(a&&!r){o=a.getId()+"--RFLayout"}else if(a&&r){o=a.getId()+"--content--RFLayout"}else if(t){o=t.getId()+"--RFLayout"}else{return false}var s=new n(o);s.__myParentLayout=this;s.__myParentContainerId=t.getId();if(a){s.__myParentElementId=a.getId();if(!r){s.getContent=function(){var t=e.getElementById(this.__myParentElementId);if(t){var a=[];var n=t.getLabelControl();var i=t.getFieldsForRendering();if(!n||i.length<=1){a=i;if(n){a.unshift(n)}}else{var r=this.__myParentLayout;var o=this.__myParentContainerId;var s=t.getId();if(n){a.push(n)}if(r.mContainers[o]&&r.mContainers[o][2]&&r.mContainers[o][2][s]&&r.mContainers[o][2][s][1]){a.push(r.mContainers[o][2][s][1])}}return a}else{return false}};s._addContentClass=function(t,a){if(a==0){var n=e.getElementById(this.__myParentElementId);if(n){var i=n.getLabelControl();if(t==i){return"sapUiFormElementLbl"}}}return null}}else{s.getContent=function(){var t=e.getElementById(this.__myParentElementId);if(t){return t.getFieldsForRendering()}else{return false}}}}else if(t){s._getAccessibleRole=function(){var t=e.getElementById(this.__myParentContainerId);var a=this.__myParentLayout;if(a._mainRFLayout&&!t.getToolbar()&&!t.getTitle()&&!t.getExpandable()&&t.getAriaLabelledBy().length>0){return"form"}};s.getAriaLabelledBy=function(){var t=e.getElementById(this.__myParentContainerId);if(t&&!t.getToolbar()&&!t.getTitle()&&!t.getExpandable()){return t.getAriaLabelledBy()}return[]}}if(a&&!r||!a&&!t.getToolbar()&&!t.getTitle()&&!t.getExpandable()){C(s,false)}else{s.setLayoutData(new i({margin:false}))}return s}function C(t,a){if(a){if(t.__originalGetLayoutData){t.getLayoutData=t.__originalGetLayoutData;delete t.__originalGetLayoutData}}else if(!t.__originalGetLayoutData){t.__originalGetLayoutData=t.getLayoutData;t.getLayoutData=function(){var t=this.__myParentLayout;var a=e.getElementById(this.__myParentContainerId);var n=e.getElementById(this.__myParentElementId);var i;if(n){i=t.getLayoutDataForElement(n,"sap.ui.layout.ResponsiveFlowLayoutData")}else if(a){i=t.getLayoutDataForElement(a,"sap.ui.layout.ResponsiveFlowLayoutData")}if(i){return i}else if(n){return t._defaultLayoutData}}}}function p(t,e){var a;var n=0;for(var r=0;r<e.length;r++){var o=e[r];a=this.getLayoutDataForElement(o,"sap.ui.layout.ResponsiveFlowLayoutData");if(a){n=n+a.getWeight()}else{n++}}a=t.getLayoutData();if(a){a.setWeight(n)}else{t.setLayoutData(new i({weight:n}))}}function L(t){if(t.__myParentContainerId){t.__myParentContainerId=undefined}if(t.__myParentElementId){t.__myParentElementId=undefined}t.__myParentLayout=undefined;t.destroy()}function _(t){var e=this.mContainers[t];var a;var n=e[2];if(n){for(var i in n){if(n[i][1]){L(n[i][1])}a=n[i][0];L(a);delete n[i]}}a=e[1];if(a){a.removeAllContent();L(a)}var r=e[0];if(r){g(r)}delete this.mContainers[t]}function c(t,a,n,i,r){var o=a.getId();var s=o+"--RFLayout";var l=e.getElementById(s);if(!n[o]&&l){var u=l.__myParentContainerId;n[o]=this.mContainers[u][2][o];i.insertContent(l,r);l.__myParentContainerId=t.getId();if(n[o][1]){n[o][1].__myParentContainerId=t.getId()}delete this.mContainers[u][2][o]}}function I(t){var a=t.getVisibleFormContainers();var i;var r=a.length;var o=0;var s=0;var l=0;if(r>1){if(!this._mainRFLayout){this._mainRFLayout=new n(t.getId()+"--RFLayout").setParent(this)}else{var u=this._mainRFLayout.getContent();o=u.length;var f=false;for(s=0;s<o;s++){var d=u[s];i=undefined;if(d.getContainer){i=e.getElementById(d.getContainer())}else{i=e.getElementById(d.__myParentContainerId)}if(i&&i.isVisible()){var m=a[l];if(i!=m){f=true;break}var y=this.mContainers[i.getId()];if(y[0]&&y[0]!=d){f=true;break}if(!y[0]&&y[1]&&y[1]!=d){f=true;break}l++}else{this._mainRFLayout.removeContent(d)}}if(f){this._mainRFLayout.removeAllContent();o=0}}if(o<r){var g=0;if(o>0){g=o--}for(s=g;s<r;s++){i=a[s];var v=i.getId();if(this.mContainers[v]){if(this.mContainers[v][0]){this._mainRFLayout.addContent(this.mContainers[v][0])}else if(this.mContainers[v][1]){this._mainRFLayout.addContent(this.mContainers[v][1])}}}}}}return f});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);n.apiVersion=2;n.getMainClass=function(){return"sapUiFormResLayout"};n.renderContainers=function(e,r,n){var t=n.getVisibleFormContainers();var i=t.length;if(i>0){if(i>1){e.renderControl(r._mainRFLayout)}else if(r.mContainers[t[0].getId()][0]){e.renderControl(r.mContainers[t[0].getId()][0])}else{e.renderControl(r.mContainers[t[0].getId()][1])}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SemanticFormElement", ["./FormElement","./FormHelper"],function(e,t){"use strict";var i=e.extend("sap.ui.layout.form.SemanticFormElement",{metadata:{library:"sap.ui.layout",properties:{delimiter:{type:"string",group:"Data",defaultValue:"/"}},aggregations:{fieldLabels:{type:"sap.ui.core.Label",multiple:true},_delimiters:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_displayField:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}}});i.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:["_editable","delimiter"],aggregations:["fieldLabels"],parent:true})};i.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};i.prototype.enhanceAccessibilityState=function(t,i){var a=this.getAggregation("delimiters",[]);if(a.indexOf(t)<0){if(!m.call(this)){var r=this.indexOfField(t);if(r>=0){var l=this.getFieldLabels();var s=l[r];if(s){var o;if(typeof s==="string"){o=s}else{o=s.getText()}var n=i["label"];if(!n){n=o}else{n=n+" "+o}i["label"]=n;var g=i["labelledby"];if(g){s=this.getLabelControl();var h=g.split(" ");r=h.indexOf(s.getId());if(r>=0){h.splice(r,1);g=h.join(" ")}i["labelledby"]=g}return i}}}}e.prototype.enhanceAccessibilityState.apply(this,arguments)};i.prototype.onLayoutDataChange=function(t){var i=t.srcControl;var a=i.getLayoutData();if(!a||!a._bSetBySemanticFormElement){d.call(this)}e.prototype.onLayoutDataChange.apply(this,arguments)};i.prototype.getFieldsForRendering=function(){var e=[];if(!this._bLayoutDataCreated){d.call(this)}if(!m.call(this)){if(this.getAggregation("_displayField")){this.destroyAggregation("_displayField");g.call(this)}var t=this.getFields();var i=this.getAggregation("_delimiters",[]);for(var a=0;a<t.length;a++){var r=t[a];if(r.getVisible()){if(e.length>0&&i[a-1]){e.push(i[a-1])}e.push(r)}}}else{if(!this.getAggregation("_displayField")){this.destroyAggregation("_delimiters");this._bLayoutDataCreated=false;f.call(this)}var l=this.getAggregation("_displayField");if(l){e.push(l)}}return e};i.prototype._observeChanges=function(t){e.prototype._observeChanges.apply(this,arguments);if(t.object===this){if(t.type==="parent"){y.call(this,t.mutation,t.parent)}else if(t.name==="fields"){r.call(this,t.child,t.mutation)}else if(t.name==="_editable"){a.call(this,t.current)}else if(t.name==="delimiter"){l.call(this,t.current)}else if(t.name==="fieldLabels"){s.call(this,t.mutation,t.child)}}else{if(t.type==="parent"){y.call(this,t.mutation,t.parent)}else if(t.name==="layout"){v.call(this,t.child,t.mutation)}else if(t.object.isA("sap.ui.core.Label")){n.call(this,t)}else{o.call(this,t)}}};function a(e){if(e){this.destroyAggregation("_displayField");g.call(this)}else if(m.call(this)){this.destroyAggregation("_delimiters");this._bLayoutDataCreated=false;f.call(this)}else{g.call(this)}}function r(e,t){if(t==="insert"){if(!e.isA("sap.ui.core.IFormContent")||!e.isA("sap.ui.core.ISemanticFormContent")){throw new Error(e+" is not valid Form content. "+this)}var i=["visible"];if(e.getFormObservingProperties){i=i.concat(e.getFormObservingProperties())}if(e.getFormValueProperty){if(i.indexOf(e.getFormValueProperty())===-1){i.push(e.getFormValueProperty())}}else if(e.getMetadata().getProperty("value")){i.push("value")}else if(e.getMetadata().getProperty("text")){i.push("text")}this._oObserver.observe(e,{properties:i})}else{var a=e.getLayoutData();if(a&&a._bSetBySemanticFormElement){a.destroy()}}if(!m.call(this)){g.call(this)}else{f.call(this,true)}p.call(this)}function l(e){if(!m.call(this)){g.call(this)}else{u.call(this,false)}p.call(this)}function s(e,t){if(typeof t!=="string"){if(e==="insert"){this._oObserver.observe(t,{properties:["text"]})}else{this._oObserver.unobserve(t)}}p.call(this)}function o(e){var t=e.object.getFormValueProperty?e.object.getFormValueProperty():null;var i=e.object.getFormObservingProperties?e.object.getFormObservingProperties():[];if(e.name===t||e.name==="value"||e.name==="text"){if(m.call(this)){u.call(this,false)}}else if(e.name==="visible"||i.indexOf(e.name)>=0){if(!m.call(this)){g.call(this)}else{f.call(this,true)}p.call(this);this.invalidate()}}function n(e){p.call(this)}function g(){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;if(!m.call(this)){g.call(this)}}.bind(this));return}var e=this.getFields();var i=this.getAggregation("_delimiters",[]);var a=this.getDelimiter();var r=this.getId()+"-delimiter-";var l=0;if(!this._getEditable()){a=" "+a+" "}for(l=0;l<e.length;l++){if(l<e.length-1){if(i.length>l){t.updateDelimiter(i[l],a)}else{var s=t.createDelimiter(a,r+l);s.addStyleClass("sapUiFormDelimiter");this.addAggregation("_delimiters",s)}}}if(i.length>0&&i.length>e.length-1){for(l=e.length-1;l<i.length;l++){i[l].destroy()}}d.call(this)}var h={onBeforeRendering:function(){u.call(this,true)}};function f(e){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;if(m.call(this)){f.call(this)}}.bind(this));return}var i=this.getAggregation("_displayField");if(i){u.call(this,false)}else{var a=this.getId()+"-display";i=t.createSemanticDisplayControl("",a);i.addDelegate(h,true,this);this.setAggregation("_displayField",i)}}function u(e){var i=this.getAggregation("_displayField");if(i&&(i.getDomRef()||e)){if(e&&i._bNoForceUpdate){i._bNoForceUpdate=false;return}var a=this.getFields();var r=[];var l=false;for(var s=0;s<a.length;s++){var o=a[s];if(o.getVisible()){var n=o.getFormValueProperty?o.getFormValueProperty():null;var g;if(o.getFormFormattedValue){g=o.getFormFormattedValue();if(g instanceof Promise){l=true}}else if(n){g=o.getProperty(n)}else if(o.getMetadata().getProperty("value")){g=o.getValue()}else if(o.getMetadata().getProperty("text")){g=o.getText()}r.push(g)}}i._bNoForceUpdate=true;if(l){Promise.all(r).then(function(e){var i=this.getAggregation("_displayField");var a=c.call(this,e);i._bNoForceUpdate=true;t.updateSemanticDisplayControl(i,a)}.bind(this))}else{var h=c.call(this,r);t.updateSemanticDisplayControl(i,h)}}else if(i&&i._bNoForceUpdate){i._bNoForceUpdate=false}}function c(e){var t=this.getDelimiter();var i="";for(var a=0;a<e.length;a++){i=i+e[a];if(a<e.length-1){i=i+" "+t+" "}}return i}function p(){if(!this.getLabel()){if(this._oInitPromise){this._oInitPromise.then(function(){delete this._oInitPromise;p.call(this)}.bind(this));return}var e=this.getFieldLabels();var t=this.getFields();var i=[];for(var a=0;a<e.length;a++){if(t[a]&&t[a].getVisible()){var r=e[a];if(typeof r==="string"){i.push(r)}else{i.push(r.getText())}}}var l=c.call(this,i);this._setInternalLabel(l)}}function d(){var e=this.getFields().filter(function(e){return e.getVisible()});var t=this.getAggregation("_delimiters",[]);var i=this.getParent();var a=i&&i.getParent();var r=a&&a.getLayout();var l;var s=0;if(!r||!r.getLayoutDataForDelimiter){return}if(this._getEditable()){for(s=0;s<t.length;s++){var o=t[s];if(!o.getLayoutData()){l=r.getLayoutDataForDelimiter();if(l){if(l instanceof Promise){l.then(function(e){e._bSetBySemanticFormElement=true;this.setLayoutData(e)}.bind(o))}else if(l.isA("sap.ui.core.LayoutData")){l._bSetBySemanticFormElement=true;o.setLayoutData(l)}}}}if(e.length>1){for(s=0;s<e.length;s++){var n=e[s];l=n.getLayoutData();if(!l||l._bSetBySemanticFormElement){l=r.getLayoutDataForSemanticField(e.length,s+1,l);if(l){if(l instanceof Promise){l.then(function(e){e._bSetBySemanticFormElement=true;this.setLayoutData(e)}.bind(n))}else if(l.isA("sap.ui.core.LayoutData")&&!l._bSetBySemanticFormElement){l._bSetBySemanticFormElement=true;n.setLayoutData(l)}}}}}this._bLayoutDataCreated=true}}function m(){if(this._getEditable()){return false}else{var e=this.getFields();var t=true;for(var i=0;i<e.length;i++){if(!e[i].getFormRenderAsControl||!e[i].getFormRenderAsControl()){t=false;break}}var a=this.getParent();var r=a&&a.getParent();var l=r&&r.getLayout();var s=l?l.renderControlsForSemanticElement():true;return!(t&&s)}}function y(e,t){var i;if(e==="set"){var a;if(t.isA("sap.ui.layout.form.FormContainer")){this._oObserver.observe(t,{parent:true});a=t.getParent()}else if(t.isA("sap.ui.layout.form.Form")){this._oObserver.observe(t,{aggregations:["layout"]});a=t}i=a&&a.getLayout()}else if(t.isA("sap.ui.layout.form.FormContainer")||t.isA("sap.ui.layout.form.Form")){this._oObserver.unobserve(t)}if(i){v.call(this,i)}}function v(e,t){a.call(this,this._getEditable());d.call(this)}return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleForm", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/core/Element","sap/ui/layout/library","./Form","./FormContainer","./FormElement","./FormLayout","./SimpleFormRenderer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,i,s,r,n,o,l,u,jQuery){"use strict";var h=i.BackgroundDesign;var g=i.form.SimpleFormLayout;var f;var d;var y;var p;var m;var v;var c;var L;var b=e.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:g.ResponsiveGridLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:h.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false,forwarding:{idSuffix:"--Form",aggregation:"toolbar"}}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/SimpleForm.designtime"},renderer:l});b.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var e=new s(this.getId()+"--Form");e.getTitle=function(){return this.getParent().getTitle()};e._origInvalidate=e.invalidate;e.invalidate=function(e){if(this.bOutput){this._origInvalidate(e)}if(this._bIsBeingDestroyed){return}var t=this.getParent();if(t){t._formInvalidated(e)}};e.getAriaLabelledBy=function(){var e=this.getParent();if(e){return e.getAriaLabelledBy()}else{return null}};e._origOnLayoutDataChange=e.onLayoutDataChange;e.onLayoutDataChange=function(e){this._origOnLayoutDataChange(e);var t=this.getParent();if(t){t._onLayoutDataChange(e)}};this.setAggregation("form",e);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];this._oObserver=new t(N.bind(this))};b.prototype.exit=function(){var e=this.getAggregation("form");e.invalidate=e._origInvalidate;j.call(this);for(var t=0;t<this._aLayouts.length;t++){var i=a.getElementById(this._aLayouts[t]);if(i&&i.destroy){i.destroy()}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];this._oObserver.disconnect();this._oObserver=undefined};b.prototype.onBeforeRendering=function(){j.call(this);var e=this.getAggregation("form");var t=this.getLayout();if(!this._bResponsiveLayoutRequested&&t===g.ResponsiveLayout||!this._bGridLayoutRequested&&t===g.GridLayout||!this._bResponsiveGridLayoutRequested&&t===g.ResponsiveGridLayout||!this._bColumnLayoutRequested&&t===g.ColumnLayout){var a=true;if(!e.getLayout()){a=_.call(this)}if(a){A.call(this)}}};b.prototype.onAfterRendering=function(){if(this.getLayout()==g.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();if(!this._bResponsiveLayoutRequested&&L){this._sResizeListenerId=L.register(this.getDomRef(),jQuery.proxy(this._resize,this))}this._bChangedByMe=false}};b.prototype.setEditable=function(e){this._bChangedByMe=true;this.setProperty("editable",e,true);var t=this.getAggregation("form");t.setEditable(e);this._bChangedByMe=false;return this};b.prototype.setToolbar=function(e){this._bChangedByMe=true;this.setAggregation("toolbar",e);this._bChangedByMe=false;return this};b.prototype.destroyToolbar=function(){this._bChangedByMe=true;this.destroyAggregation("toolbar");this._bChangedByMe=false;return this};b.prototype.setLabelMinWidth=function(e){this.setProperty("labelMinWidth",e,true);if(this.getLayout()==g.ResponsiveLayout){this._bLayoutDataChangedByMe=true;var t=this.getContent();for(var a=0;a<t.length;a++){var i=t[a];if(i.isA("sap.ui.core.Label")){var s=w.call(this,i);if(s&&s.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&S.call(this,s)){s.setMinWidth(e)}}}this._bLayoutDataChangedByMe=false}return this};b.prototype.indexOfContent=function(e){var t=this._aElements;if(t){for(var a=0;a<t.length;a++){if(t[a]==e){return a}}}return-1};b.prototype.addContent=function(e){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.addContent: Content element '"+e+"' already assigned. Please remove before adding!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}this._bChangedByMe=true;var t=this._aElements.length;var a;var i=this.getAggregation("form");var s;var o;var l;var h;var f=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){s=W.call(this,e);i.addFormContainer(s);this._changedFormContainers.push(s)}else if(e.isA("sap.ui.core.Label")){if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent()}else if(l instanceof r){s=l}}if(!s){s=W.call(this);i.addFormContainer(s);this._changedFormContainers.push(s)}o=O.call(this,s,e)}else{if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent();o=l;h=w.call(this,e);if(h&&h.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&f===g.ResponsiveLayout&&!S.call(this,h)&&h.getLinebreak()){o=O.call(this,s)}}else if(l instanceof r){s=l;o=O.call(this,s)}}else{s=W.call(this);i.addFormContainer(s);this._changedFormContainers.push(s);o=O.call(this,s)}T.call(this,e,5,false,true);o.addField(e);H(this._changedFormElements,o)}this._aElements.push(e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};b.prototype.insertContent=function(e,t){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.insertContent: Content element '"+e+"' already assigned. Please remove before insert!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}var a=this._aElements.length;var i;if(t<0){i=0}else if(t>a){i=a}else{i=t}if(i!==t){u.warning("SimpleForm.insertContent: index '"+t+"' out of range [0,"+a+"], forced to "+i)}if(i==a){this.addContent(e);return this}this._bChangedByMe=true;var s=this._aElements[i];var r=this.getAggregation("form");var n;var o;var l;var h;var f;var d=0;var y;var p;var m;var v;var c=0;var L;var b;var _=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=W.call(this,e);if(t==0&&!s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent().getParent();m=l.getFormElements();for(c=0;c<m.length;c++){n.addFormElement(m[c])}l.destroy();f=0}else if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l)}else{h=s.getParent();l=h.getParent();f=r.indexOfFormContainer(l)+1;d=l.indexOfFormElement(h);if(!s.isA("sap.ui.core.Label")){y=h.indexOfField(s);if(y>0||h.getLabel()){o=O.call(this,n);this._changedFormElements.push(o);H(this._changedFormElements,h);p=h.getFields();for(c=y;c<p.length;c++){L=p[c];o.addField(L)}d++}}m=l.getFormElements();for(c=d;c<m.length;c++){n.addFormElement(m[c])}}r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else if(e.isA("sap.ui.core.Label")){if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);v=r.getFormContainers();if(f==0){n=W.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{n=v[f-1]}o=O.call(this,n,e)}else if(s.isA("sap.ui.core.Label")){l=s.getParent().getParent();d=l.indexOfFormElement(s.getParent());o=x.call(this,l,e,d)}else{h=s.getParent();l=h.getParent();d=l.indexOfFormElement(h)+1;y=h.indexOfField(s);p=h.getFields();o=x.call(this,l,e,d);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}if(y==0&&!h.getLabel()){h.destroy()}else{H(this._changedFormElements,h)}}this._changedFormElements.push(o)}else{b=w.call(this,e);if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);if(f==0){n=W.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{v=r.getFormContainers();n=v[f-1]}m=n.getFormElements();if(m.length==0){o=O.call(this,n)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()){o=O.call(this,n)}else{o=m[m.length-1]}o.addField(e)}else if(s.isA("sap.ui.core.Label")){h=s.getParent();n=h.getParent();d=n.indexOfFormElement(h);if(d==0){o=x.call(this,n,null,0)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()){o=x.call(this,n,null,d)}else{m=n.getFormElements();o=m[d-1]}o.addField(e)}else{o=s.getParent();y=o.indexOfField(s);if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!S.call(this,b)&&b.getLinebreak()&&y>0){n=o.getParent();d=n.indexOfFormElement(o);H(this._changedFormElements,o);p=o.getFields();o=x.call(this,n,undefined,d+1);o.addField(e);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}}else{o.insertField(e,y)}}H(this._changedFormElements,o);T.call(this,e,5,false,true)}this._aElements.splice(i,0,e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};b.prototype.removeContent=function(e){var t=null;var i=-1;var s=0;if(this._aElements){if(typeof e=="string"){e=a.getElementById(e)}if(typeof e=="object"){for(s=0;s<this._aElements.length;s++){if(this._aElements[s]==e){e=s;break}}}if(typeof e=="number"){if(e<0||e>=this._aElements.length){u.warning("Element.removeAggregation called with invalid index: Items, "+e)}else{i=e;t=this._aElements[i]}}}if(t){this._bChangedByMe=true;var r=this.getAggregation("form");var n;var o;var l;var h;if(t.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=t.getParent();n.setTitle(null);n.setToolbar(null);l=n.getFormElements();if(i>0||l.length>0){var g=r.indexOfFormContainer(n);var f;if(i===0){f=W.call(this);r.insertFormContainer(f,g)}else{f=r.getFormContainers()[g-1];if(l.length>0&&!l[0].getLabel()){var d=f.getFormElements();var y=d[d.length-1];h=l[0].getFields();for(s=0;s<h.length;s++){y.addField(h[s])}H(this._changedFormElements,y);n.removeFormElement(l[0]);l[0].destroy();l.splice(0,1)}}for(s=0;s<l.length;s++){f.addFormElement(l[s])}H(this._changedFormContainers,f);r.removeFormContainer(n);n.destroy()}else{r.removeFormContainer(n);n.destroy()}}else if(t.isA("sap.ui.core.Label")){o=t.getParent();n=o.getParent();o.setLabel(null);h=o.getFields();var p=n.indexOfFormElement(o);var m;if(p===0){if(h.length===0){n.removeFormElement(o);o.destroy();if(n.getFormElements().length==0&&!n.getTitle()&&!n.getToolbar()){r.removeFormContainer(n);n.destroy()}}else{m=x.call(this,n,null,0)}}else{l=n.getFormElements();m=l[p-1];H(this._changedFormElements,m)}for(s=0;s<h.length;s++){m.addField(h[s])}n.removeFormElement(o);o.destroy()}else{o=t.getParent();o.removeField(t);if(o.getFields().length==0&&!o.getLabel()){n=o.getParent();n.removeFormElement(o);o.destroy();if(n.getFormElements().length==0&&!n.getTitle()&&!n.getToolbar()){r.removeFormContainer(n);n.destroy()}}else{H(this._changedFormElements,o)}}this._aElements.splice(i,1);t.setParent(null);this._oObserver.unobserve(t);q.call(this,t);this.invalidate();this._bChangedByMe=false;return t}return null};b.prototype.removeAllContent=function(){var e=0;if(this._aElements){this._bChangedByMe=true;var t=this.getAggregation("form");var a=t.getFormContainers();for(e=0;e<a.length;e++){var i=a[e];i.setTitle(null);i.setToolbar(null);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];n.setLabel(null);n.removeAllFields()}i.destroyFormElements()}t.destroyFormContainers();for(e=0;e<this._aElements.length;e++){var o=this._aElements[e];q.call(this,o);this._oObserver.unobserve(o)}var l=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return l}else{return[]}};b.prototype.destroyContent=function(){var e=this.removeAllContent();if(e){this._bChangedByMe=true;for(var t=0;t<e.length;t++){e[t].destroy()}this.invalidate();this._bChangedByMe=false}return this};b.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[])}return this._aElements.slice()};b.prototype.setLayout=function(e){var t=this.getLayout();var a=this.isPropertyInitial("layout");if(e!=t){D.call(this)}this.setProperty("layout",e);if(e!=t||a){var i=_.call(this);if(i){B.call(this)}}return this};b.prototype.clone=function(t){this._bChangedByMe=true;var a=e.prototype.clone.apply(this,arguments);var i=this.getContent();for(var s=0;s<i.length;s++){var r=i[s];var n=r.getLayoutData();this._oObserver.unobserve(r);var o=r.clone(t);this._oObserver.observe(r,{properties:["visible"]});if(n){if(n.isA("sap.ui.core.VariantLayoutData")){var l=n.getMultipleLayoutData();for(var u=0;u<l.length;u++){if(S.call(this,l[u])){a._aLayouts.push(o.getLayoutData().getMultipleLayoutData()[u].getId())}}}else if(S.call(this,n)){a._aLayouts.push(o.getLayoutData().getId())}}a.addContent(o)}this._bChangedByMe=false;return a};function _(){var e=this.getAggregation("form");if(e.getLayout()){this._bChangedByMe=true;e.destroyLayout();j.call(this);this._bChangedByMe=false}var t;switch(this.getLayout()){case g.ResponsiveLayout:if((!f||!d||!L)&&!this._bResponsiveLayoutRequested){f=sap.ui.require("sap/ui/layout/form/ResponsiveLayout");d=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");L=sap.ui.require("sap/ui/core/ResizeHandler");if(!f||!d||!L){sap.ui.require(["sap/ui/layout/form/ResponsiveLayout","sap/ui/layout/ResponsiveFlowLayoutData","sap/ui/core/ResizeHandler"],C.bind(this));this._bResponsiveLayoutRequested=true}}if(f&&d){t=new f(this.getId()+"--Layout")}break;case g.GridLayout:if((!p||!m||!v)&&!this._bGridLayoutRequested){p=sap.ui.require("sap/ui/layout/form/GridLayout");m=sap.ui.require("sap/ui/layout/form/GridContainerData");v=sap.ui.require("sap/ui/layout/form/GridElementData");if(!p||!m||!v){sap.ui.require(["sap/ui/layout/form/GridLayout","sap/ui/layout/form/GridContainerData","sap/ui/layout/form/GridElementData"],F.bind(this));this._bGridLayoutRequested=true}}if(p&&m&&v){t=new p(this.getId()+"--Layout")}break;case g.ResponsiveGridLayout:if(!y&&!this._bResponsiveGridLayoutRequested){y=sap.ui.require("sap/ui/layout/form/ResponsiveGridLayout");if(!y){sap.ui.require(["sap/ui/layout/form/ResponsiveGridLayout"],E.bind(this));this._bResponsiveGridLayoutRequested=true}}if(y){t=new y(this.getId()+"--Layout")}break;case g.ColumnLayout:if(!c&&!this._bColumnLayoutRequested){c=sap.ui.require("sap/ui/layout/form/ColumnLayout");if(!c){sap.ui.require(["sap/ui/layout/form/ColumnLayout"],M.bind(this));this._bColumnLayoutRequested=true}}if(c){t=new c(this.getId()+"--Layout")}break}if(t){this._bChangedByMe=true;e.setLayout(t);this._bChangedByMe=false;return true}return false}function C(e,t,a){f=e;d=t;L=a;this._bResponsiveLayoutRequested=false;if(this.getLayout()==g.ResponsiveLayout){R.call(this);if(this.getDomRef()&&!this._sResizeListenerId){this._sResizeListenerId=L.register(this.getDomRef(),jQuery.proxy(this._resize,this))}}}function F(e,t,a){p=e;m=t;v=a;this._bGridLayoutRequested=false;if(this.getLayout()==g.GridLayout){R.call(this)}}function E(e){y=e;this._bResponsiveGridLayoutRequested=false;if(this.getLayout()==g.ResponsiveGridLayout){R.call(this)}}function M(e){c=e;this._bColumnLayoutRequested=false;if(this.getLayout()==g.ColumnLayout){R.call(this)}}function R(){if(!this._bIsBeingDestroyed){_.call(this);B.call(this);if(this.getDomRef()){A.call(this);var e=this.getAggregation("form");if(!e.getDomRef()){this.invalidate()}}}}function D(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];H(this._changedFormContainers,i);if(i.getLayoutData()){i.destroyLayoutData()}var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];H(this._changedFormElements,n);if(n.getLayoutData()){n.destroyLayoutData()}var o=n.getLabel();if(o){q.call(this,o)}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];q.call(this,h)}}}this._bChangedByMe=false}function B(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];H(this._changedFormContainers,i);P.call(this,i);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];H(this._changedFormElements,n);I.call(this,n);var o=n.getLabel();if(o){T.call(this,o,this._iLabelWeight,false,true,this.getLabelMinWidth())}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];T.call(this,h,5,false,true)}}}this._bChangedByMe=false}function A(){this._bChangedByMe=true;this._changedFormContainers=[];var e=this.getLayout();var t=this.getAggregation("form").getLayout();t.setBackgroundDesign(this.getBackgroundDesign());switch(e){case g.ResponsiveLayout:this._applyLinebreaks();for(var a=0;a<this._changedFormElements.length;a++){var i=this._changedFormElements[a];z.call(this,i)}break;case g.GridLayout:X.call(this);break;case g.ResponsiveGridLayout:t.setLabelSpanXL(this.getLabelSpanXL());t.setLabelSpanL(this.getLabelSpanL());t.setLabelSpanM(this.getLabelSpanM());t.setLabelSpanS(this.getLabelSpanS());t.setAdjustLabelSpan(this.getAdjustLabelSpan());t.setEmptySpanXL(this.getEmptySpanXL());t.setEmptySpanL(this.getEmptySpanL());t.setEmptySpanM(this.getEmptySpanM());t.setEmptySpanS(this.getEmptySpanS());t.setColumnsXL(this.getColumnsXL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setSingleContainerFullSize(this.getSingleContainerFullSize());t.setBreakpointXL(this.getBreakpointXL());t.setBreakpointL(this.getBreakpointL());t.setBreakpointM(this.getBreakpointM());break;case g.ColumnLayout:t.setColumnsXL(this.getColumnsXL()>0?this.getColumnsXL():this.getColumnsL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setLabelCellsLarge(this.getLabelSpanL());t.setEmptyCellsLarge(this.getEmptySpanL());break}this._changedFormElements=[];this._bChangedByMe=false}function S(e){var t=e.getId(),a=" "+this._aLayouts.join(" ")+" ";return a.indexOf(" "+t+" ")>-1}function k(e,t,a,i){var s=new d({weight:e,linebreak:t===true,linebreakable:a===true});if(i){s.setMinWidth(i)}this._aLayouts.push(s.getId());return s}function w(e){var t;switch(this.getLayout()){case g.ResponsiveLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.ResponsiveFlowLayoutData");break;case g.GridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.GridElementData");break;case g.ResponsiveGridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.GridData");break;case g.ColumnLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");break}return t}function G(){var e=this.getLayout();if(e===g.ResponsiveLayout&&this._bResponsiveLayoutRequested||e===g.GridLayout&&this._bGridLayoutRequested||e===g.ResponsiveGridLayout&&this._bResponsiveGridLayoutRequested||e===g.ColumnLayout&&this._bColumnLayoutRequested){return false}if(!this.getAggregation("form").getLayout()){var t=this._bChangedByMe;var a=_.call(this);this._bChangedByMe=t;if(!a){return false}}return true}function T(e,t,a,i,s){if(this.getLayout()!=g.ResponsiveLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;var r=w.call(this,e);if(!r||!S.call(this,r)){r=e.getLayoutData();if(r&&r.isA("sap.ui.core.VariantLayoutData")){r.addMultipleLayoutData(k.call(this,t,a,i,s))}else if(!r){e.setLayoutData(k.call(this,t,a,i,s))}else{u.warning("ResponsiveFlowLayoutData can not be set on Field "+e.getId(),"_createFieldLayoutData","SimpleForm")}}this._bLayoutDataChangedByMe=false}function I(e){if(this.getLayout()!=g.ResponsiveLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;e.setLayoutData(new d({linebreak:true,margin:false}));this._bLayoutDataChangedByMe=false}function P(e){var t=this.getLayout();if(t!=g.ResponsiveLayout&&t!=g.GridLayout){return}if(!G.call(this)){return}this._bLayoutDataChangedByMe=true;switch(t){case g.ResponsiveLayout:e.setLayoutData(new d({minWidth:280}));break;case g.GridLayout:if(this.getMaxContainerCols()>1){e.setLayoutData(new m({halfGrid:true}))}else{e.setLayoutData(new m({halfGrid:false}))}break}this._bLayoutDataChangedByMe=false}function q(e){this._bLayoutDataChangedByMe=true;var t=w.call(this,e);if(t){var a=t.getId();for(var i=0;i<this._aLayouts.length;i++){var s=this._aLayouts[i];if(a==s){t.destroy();this._aLayouts.splice(i,1);break}}}this._bLayoutDataChangedByMe=false}function O(e,t){var a=V.call(this,t,e);e.addFormElement(a);return a}function x(e,t,a){var i=V.call(this,t,e);e.insertFormElement(i,a);return i}function V(e,t){var i;var s={};if(e){i=this.getId()+"--"+e.getId()+"--FE";e.addStyleClass("sapUiFormLabel-CTX");if(!w.call(this,e)){T.call(this,e,this._iLabelWeight,false,true,this.getLabelMinWidth())}s["label"]=e}else{i=t.getId()+"--FE-NoLabel";if(a.getElementById(i)){i=undefined}}var r=new n(i,s);I.call(this,r);r.isVisible=function(){var e=this.getFields();var t=false;for(var a=0;a<e.length;a++){var i=e[a];if(i.getVisible()){t=true;break}}return t};return r}function W(e){var t;var a={};if(e){t=this.getId()+"--"+e.getId()+"--FC";if(e.isA("sap.ui.core.Title")){a["title"]=e}else if(e.isA("sap.ui.core.Toolbar")){a["toolbar"]=e}}else{t=this.getId()+"--FC-NoHead"}var i=new r(t,a);P.call(this,i);i.getAriaLabelledBy=function(){var e=this.getToolbar();if(e){return e.getAriaLabelledBy()}else{return[]}};return i}function z(e){var t=this._iMaxWeight;var a=e.getFields();var i;var s=a.length;var r=e.getLabel();var n;var o=0;this._bLayoutDataChangedByMe=true;if(r&&w.call(this,r)){t=t-w.call(this,r).getWeight()}for(o=0;o<a.length;o++){i=a[o];n=w.call(this,i);if(n&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!S.call(this,n)){t=t-n.getWeight();s--}}var l=Math.floor(t/s);var u=t%s;for(o=0;o<a.length;o++){i=a[o];n=w.call(this,i);var h=l;if(!n){T.call(this,i,h,false,o==0)}else if(S.call(this,n)&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")){if(u>0){h++;u--}n.setWeight(h)}}this._bLayoutDataChangedByMe=false}b.prototype._applyLinebreaks=function(){if(!f||this._bResponsiveLayoutRequested){return}this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form"),t=e.getFormContainers();var a=this.getDomRef();var i=this.$();for(var s=1;s<t.length;s++){var r=t[s],n=r.getLayoutData();if(!a||i.outerWidth(true)>this.getMinWidth()){if(s%this.getMaxContainerCols()==0){n.setLinebreak(true)}else{n.setLinebreak(false)}}else{n.setLinebreak(true)}}if(a&&i.css("visibility")=="hidden"){var o=this;setTimeout(function(){if(o.getDomRef()){o.$().css("visibility","")}},10)}this._bLayoutDataChangedByMe=false};function X(){this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();var a=t.length;for(var i=0;i<a;i++){var s=t[i];if(this.getMaxContainerCols()<=1||i==a-1&&a%2>0){s.getLayoutData().setHalfGrid(false)}else if(!s.getLayoutData().getHalfGrid()){s.getLayoutData().setHalfGrid(true)}}this._bLayoutDataChangedByMe=false}b.prototype._resize=function(e){this._bChangedByMe=true;if(this._iCurrentWidth==e.size.width){return}this._iCurrentWidth=e.size.width;this._applyLinebreaks();this._bChangedByMe=false};function j(){if(this._sResizeListenerId){L.deregister(this._sResizeListenerId);this._sResizeListenerId=null}}function H(e,t){var a=false;for(var i=0;i<e.length;i++){var s=e[i];if(s==t){a=true;break}}if(!a){e.push(t)}}function N(e){if(e.name=="visible"){var t=e.object.getParent();t.invalidate()}}function $(e){var t=[];var a=e.getFormContainers();for(var i=0;i<a.length;i++){var s=a[i];var r=s.getTitle();if(r){t.push(r)}else{var n=s.getToolbar();if(n){t.push(n)}}var o=s.getFormElements();for(var l=0;l<o.length;l++){var u=o[l];var h=u.getLabel();if(h){t.push(h)}var g=u.getFields();for(var f=0;f<g.length;f++){var d=g[f];t.push(d)}}}return t}b.prototype._formInvalidated=function(e){if(!this._bChangedByMe){var t=$(this.getAggregation("form"));var a=0;var i=0;var s=false;if(!this._aElements||t.length<this._aElements.length){s=true}else{for(a=0;a<t.length;a++){var r=t[a];var n=this._aElements[i];if(r===n){i++}else{var o=t[a+1];if(o===n){this.insertContent(r,a);break}o=this._aElements[i+1];if(o===r){s=true;break}break}}}if(s){this.removeAllContent();for(a=0;a<t.length;a++){var l=t[a];this.addContent(l)}}}};b.prototype._onLayoutDataChange=function(e){if(!this._bLayoutDataChangedByMe&&!this._bIsBeingDestroyed){switch(this.getLayout()){case g.ResponsiveLayout:var t=e.srcControl;var a=t.getParent();if(a instanceof n){var i=this.indexOfContent(t);this.removeContent(t);this.insertContent(t,i)}break}}};b.prototype._suggestTitleId=function(e){var t=this.getAggregation("form");t._suggestTitleId(e);return this};return b});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleFormRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){t._bChangedByMe=true;e.openStart("div",t).class("sapUiSimpleForm").style("width",t.getWidth()).openEnd();var r=t.getAggregation("form");if(r.getLayout()){e.renderControl(r)}e.close("div");t._bChangedByMe=false};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/ClientTreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/ClientTreeBinding","./TreeBindingAdapter","sap/ui/model/ChangeReason","sap/base/assert","sap/base/Log"],function(e,t,i,o,r,n){"use strict";var p=function(){if(!(this instanceof e)||this._bIsAdapted){return}i.apply(this);for(var t in p.prototype){if(p.prototype.hasOwnProperty(t)){this[t]=p.prototype[t]}}this._invalidTree=true;this.setNumberOfExpandedLevels(this.mParameters.numberOfExpandedLevels||0)};p.prototype.setNumberOfExpandedLevels=function(e){this._iNumberOfExpandedLevels=parseInt(e)};p.prototype.getNumberOfExpandedLevels=function(){return this._iNumberOfExpandedLevels};p.prototype.nodeHasChildren=function(e){r(e,"TreeBindingAdapter.nodeHasChildren: No node given!");if(!e){return false}else if(e.isArtificial){return true}else{return t.prototype.hasChildren.call(this,e.context)}};p.prototype.resetData=function(e,i){var r=t.prototype.resetData.call(this,e,i);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!i||i.reason!==o.Sort){this.clearSelection();this._createTreeState(true)}return r};p.prototype._calculateGroupID=function(e){var t=this.getPath();var i;if(e.context){var o=e.context.getPath();if(t!="/"){var r=o.match(t+"(.*)");if(r!=null&&r[1]){i=r[1]}else{n.warning("CTBA: BindingPath/ContextPath matching problem!")}}if(!i){i=o}if(i.startsWith("/")){i=i.substring(1,i.length)}var p;if(!e.parent){p=this._calculateGroupID({context:e.context._parentContext||null})}else{p=e.parent.groupID}i=p+i.replace(/\//g,"_")+"/"}else if(e.context===null){i="/"}return i};p.prototype.expand=function(){this._buildTree();i.prototype.expand.apply(this,arguments)};p.prototype.collapse=function(){this._buildTree();i.prototype.collapse.apply(this,arguments)};p.prototype._buildTree=function(e,t){if(this._invalidTree){e=e||0;t=t||this.getRootContexts().length;this._invalidTree=false;this._aRowIndexMap=[];i.prototype._buildTree.call(this,e,t)}};p.prototype.findNode=function(e){this._buildTree();return i.prototype.findNode.apply(this,arguments)};p.prototype.setSelectedIndex=function(e){this._buildTree();i.prototype.setSelectedIndex.apply(this,arguments)};p.prototype.setSelectionInterval=function(e,t){this._buildTree();i.prototype.setSelectionInterval.apply(this,arguments)};p.prototype.addSelectionInterval=function(){this._buildTree();i.prototype.addSelectionInterval.apply(this,arguments)};p.prototype.removeSelectionInterval=function(){this._buildTree();i.prototype.removeSelectionInterval.apply(this,arguments)};p.prototype.clearSelection=function(){this._buildTree();i.prototype.clearSelection.apply(this,arguments)};p.prototype.selectAll=function(){this._buildTree();i.prototype.selectAll.apply(this,arguments)};p.prototype._calculateRequestLength=function(e,t){return e};p.prototype.getLength=function(){this._buildTree();return i.prototype.getLength.apply(this,arguments)};p.prototype._fireChange=function(){this._invalidTree=true;this.constructor.prototype._fireChange.apply(this,arguments)};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/SelectionModel", ["sap/ui/base/EventProvider","sap/base/assert"],function(e,t){"use strict";var n=e.extend("sap.ui.model.SelectionModel",{constructor:function(t){e.apply(this);this.iSelectionMode=t||n.SINGLE_SELECTION;this.aSelectedIndices=[];this.iLeadIndex=-1;this.fnSort=function(e,t){return e-t};this.fnSortReverse=function(e,t){return t-e}}});n.SINGLE_SELECTION=0;n.MULTI_SELECTION=1;n.prototype.getSelectionMode=function(){return this.iSelectionMode};n.prototype.setSelectionMode=function(e){this.iSelectionMode=e||n.SINGLE_SELECTION};n.prototype.isSelectedIndex=function(e){return this.aSelectedIndices.indexOf(e)!==-1};n.prototype.getLeadSelectedIndex=function(){return this.iLeadIndex};n.prototype.setLeadSelectedIndex=function(e){t(typeof e==="number","iLeadIndex must be an integer");this.setSelectionInterval(e,e);return this};n.prototype.getMinSelectionIndex=function(){if(this.aSelectedIndices.length>0){var e=this.aSelectedIndices.sort(this.fnSort);return e[0]}else{return-1}};n.prototype.getMaxSelectionIndex=function(){if(this.aSelectedIndices.length>0){var e=this.aSelectedIndices.sort(this.fnSortReverse);return e[0]}else{return-1}};n.prototype.getSelectedIndices=function(){var e=this.aSelectedIndices.sort(this.fnSort);return e};n.prototype.setSelectionInterval=function(e,i){t(typeof e==="number","iFromIndex must be an integer");t(typeof i==="number","iToIndex must be an integer");if(this.iSelectionMode===n.SINGLE_SELECTION){e=i}var r=Math.min(e,i);var s=Math.max(e,i);var a=this.aSelectedIndices.slice();var o={};var d=[];for(var h=0;h<a.length;h++){o[a[h]]=true;if(a[h]<e||a[h]>i){d.push(a[h])}}var c=[];for(var u=r;u<=s;u++){c.push(u);if(!o[u]){d.push(u)}}this._update(c,i,d);return this};n.prototype.addSelectionInterval=function(e,i){t(typeof e==="number","iFromIndex must be an integer");t(typeof i==="number","iToIndex must be an integer");if(this.iSelectionMode===n.SINGLE_SELECTION){return this.setSelectionInterval(e,i)}var r=Math.min(e,i);var s=Math.max(e,i);var a=[];var o=this.aSelectedIndices;for(var d=r;d<=s;d++){if(o.indexOf(d)===-1){o.push(d);a.push(d)}}this._update(o,s,a);return this};n.prototype.moveSelectionInterval=function(e,n){t(typeof e==="number","iFromIndex must be an integer");t(typeof n==="number","iToIndex must be an integer");var i=[];var r=this.aSelectedIndices;var s=this.iLeadIndex;for(var a=0;a<r.length;a++){var o=r[a];if(o>=e){i.push(r[a]);r[a]+=n;i.push(r[a]);if(o===this.iLeadIndex){s+=n}}}this._update(r,s,i);return this};n.prototype.removeSelectionInterval=function(e,i){t(typeof e==="number","iFromIndex must be an integer");t(typeof i==="number","iToIndex must be an integer");if(this.iSelectionMode===n.SINGLE_SELECTION){e=i}var r=Math.min(e,i);var s=Math.max(e,i);var a=[];var o=this.aSelectedIndices;var d=this.iLeadIndex;for(var h=r;h<=s;h++){var c=o.indexOf(h);if(c>-1){o.splice(c,1);a.push(h)}if(h===this.iLeadIndex){d=-1}}this._update(o,d,a);return this};n.prototype.sliceSelectionInterval=function(e,n){t(typeof e==="number","iFromIndex must be an integer");t(typeof n==="number","iToIndex must be an integer");var i=Math.min(e,n);var r=Math.max(e,n);var s=[];var a=[];var o=this.aSelectedIndices.slice(0);var d=this.aSelectedIndices;var h=this.iLeadIndex;var c=r-i+1;for(var u=r;u>=i;u--){var f=d.indexOf(u);if(f>-1){d.splice(f,1);a.push(u)}if(u===this.iLeadIndex){h=-1}}for(var u=0;u<d.length;u++){var l=d[u];if(l>=i){var p=d[u]-c;if(l===h){h=p}d[u]=p;if(o.indexOf(p)===-1){s.push(p)}}}for(var I=0;I<a.length;I++){var u=o[o.length-1-I];if(s.indexOf(u)===-1){s.push(u)}}for(var I=0;I<a.length;I++){if(d.indexOf(a[I])===-1&&s.indexOf(a[I])===-1){s.push(a[I])}}this._update(d,h,s);return this};n.prototype.clearSelection=function(){if(this.aSelectedIndices.length>0||this.iLeadIndex!==-1){this._update([],-1,this.aSelectedIndices.slice())}return this};n.prototype.attachSelectionChanged=function(e,t,n){this.attachEvent("selectionChanged",e,t,n);return this};n.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};n.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};n.prototype._update=function(e,t,n,i){var r={rowIndices:n&&n.sort(this.fnSort),selectAll:i};this.aSelectedIndices=e;r.oldIndex=this.iLeadIndex;if(this.iLeadIndex!==t){this.iLeadIndex=t;r.leadIndex=this.iLeadIndex}if(n.length>0||typeof r.leadIndex!=="undefined"){this.fireSelectionChanged(r)}};n.prototype.selectAll=function(e){t(typeof e==="number","iToIndex must be an integer");var n=this.aSelectedIndices.slice();var i={};var r=[];var s=[];var a=0;for(a=0;a<n.length;a++){i[n[a]]=true;if(n[a]>e){r.push(n[a])}}for(a=0;a<=e;a++){s.push(a);if(!i[a]){r.push(a)}}this._update(s,0,r,true);return this};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeAutoExpandMode", [],function(){"use strict";var e={Sequential:"Sequential",Bundled:"Bundled"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/TreeAutoExpandMode","sap/ui/model/ChangeReason","sap/ui/model/TreeBindingUtils","sap/base/assert","sap/base/Log","sap/base/util/each","sap/base/util/isEmptyObject"],function(e,t,i,o,n,r,a,s){"use strict";var d=function(){if(!(this instanceof e)||this._bIsAdapted){return}for(var i in d.prototype){if(d.prototype.hasOwnProperty(i)){this[i]=d.prototype[i]}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||t.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._createTreeState();this._bIsAdapted=true};d.prototype.getCurrentTreeState=function(){var e=";",t;var i={};for(t in this._mTreeState.expanded){i[t]=true}var o={};for(t in this._mTreeState.collapsed){o[t]=true}var n={};for(t in this._mTreeState.selected){n[t]=true}return{_getExpandedList:function(){return Object.keys(i).join(e)},_getCollapsedList:function(){return Object.keys(o).join(e)},_getSelectedList:function(){return Object.keys(n).join(e)},_isExpanded:function(e){return!!i[e]},_isCollapsed:function(e){return!!o[e]},_remove:function(e){delete i[e];delete o[e];delete n[e]}}};d.prototype.setTreeState=function(e){this._oInitialTreeState=e};d.prototype.setAutoExpandMode=function(e){this._autoExpandMode=e};d.prototype.getLength=function(){if(!this._oRootNode){return 0}return this._oRootNode.magnitude};d.prototype.getContextByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t?t.context:undefined};d.prototype.getNodeByIndex=function(e){if(this.isInitial()){return undefined}if(e>=this.getLength()){return undefined}return this.findNode(e)};d.prototype.findNode=function(e){if(this.isInitial()){return undefined}var t=typeof e;var i;var o=[];if(t==="number"){i=this._aRowIndexMap[e];if(!i){var n=-1;this._match(this._oRootNode,o,1,function(t){if(n===e){return true}n+=1;return false});i=o[0]}}return i};d.prototype._createTreeState=function(e){if(!this._mTreeState||e){this._mTreeState={expanded:{},collapsed:{},selected:{},deselected:{}}}};d.prototype._updateTreeState=function(e){e=e||{};var t=e.expanded?this._mTreeState.expanded:this._mTreeState.collapsed;var i=e.expanded?this._mTreeState.collapsed:this._mTreeState.expanded;var o=this._getNodeState(e.groupID);if(!o){o=e.fallbackNodeState||this._createNodeState({groupID:e.groupID,expanded:e.expanded,sum:e.sum})}delete i[e.groupID];t[e.groupID]=o;o.expanded=e.expanded;return o};d.prototype._createNodeState=function(e){if(!e.groupID){n(false,"To create a node state a group ID is mandatory!");return undefined}var t;var i;if(this._oInitialTreeState){t=this._oInitialTreeState._isExpanded(e.groupID);i=this._oInitialTreeState._isCollapsed(e.groupID);this._oInitialTreeState._remove(e.groupID)}var o=e.expanded||t||false;var r=e.selected||false;var a={groupID:e.groupID,expanded:o,sections:e.sections||[{startIndex:0,length:this._iPageSize}],sum:e.sum||false,selected:r};if(t||i){this._updateTreeState({groupID:e.groupID,fallbackNodeState:a,expanded:t,collapsed:i})}return a};d.prototype._getNodeState=function(e){var t=this._mTreeState.expanded[e];var i=this._mTreeState.collapsed[e];var o=this._mTreeState.selected[e];var n=this._mTreeState.deselected[e];return t||i||o||n};d.prototype._updateNodeSections=function(e,t){var i=this._getNodeState(e);if(!i){n(false,"No Node State for Group ID '"+e+"' found!");return undefined}else if(!t){n(false,"No Section given!");return undefined}else if(t.length<=0){n(false,"The length of the given section must be positive greater than 0.");return undefined}else if(t.startIndex<0){n(false,"The sections start index must be greater/equal to 0.");return undefined}i.sections=o.mergeSections(i.sections,t);return i.sections};d.prototype._increaseSections=function(){var e=function(e){if(!e){return}var t=this._getMaxGroupSize(e);var i=e.nodeState;if(t===undefined){var n=[];for(var r=0;r<i.sections.length;r++){var a=i.sections[r];a.length=Math.max(a.length,this._iPageSize);n=o.mergeSections(n,a)}i.sections=n}};this._map(this._oRootNode,e)};d.prototype._getMaxGroupSize=function(e){var t=0;if(e.isArtificial){var i=this.oModel.isList(this.sPath,this.getContext());if(this.bDisplayRootNode&&!i&&!this._bRootMissing){t=1}else{t=this._getGroupSize(e)||0}}else{t=this.nodeHasChildren(e)?this._getGroupSize(e):0}return t};d.prototype.getContexts=function(e,t,i){return this._getContextsOrNodes(false,e,t,i)};d.prototype._getContextsOrNodes=function(e,t,i,o){var n,r,s=[],d=[];if(!this.isResolved()||this.isInitial()){return[]}t=t||0;i=i||this.oModel.iSizeLimit;o=o||0;if(i>this._iPageSize){this._iPageSize=i;this._increaseSections()}this._iThreshold=Math.max(this._iThreshold,o);this._aRowIndexMap=[];this._buildTree(t,i);if(this._oRootNode){d=this._retrieveNodeSection(this._oRootNode,t,i)}this._updateRowIndexMap(d,t);for(var l=0;l<d.length;l++){r=d[l];if(!r.context){n=n||{};var u=r.parent;n[u.groupID]=u;this._updateNodeSections(u.groupID,{startIndex:r.positionInParent,length:1})}s.push(r.context)}if(n){var h=this;a(n,function(e,t){t.magnitude=0;t.numberOfTotals=0;h._loadChildContexts(t)});s=[];for(var p=0;p<d.length;p++){r=d[p];s.push(r.context)}}if(e){return d}else{return s}};d.prototype.getNodes=function(e,t,i){return this._getContextsOrNodes(true,e,t,i)};d.prototype._updateRowIndexMap=function(e,t){this._aRowIndexMap=[];for(var i=0;i<e.length;i++){this._aRowIndexMap[t+i]=e[i]}};d.prototype._retrieveNodeSection=function(e,t,i){var o=-1;var n=[];this._match(this._oRootNode,[],i,function(e,r,a){if(!e||!e.isArtificial){o++}if(o>=t&&o<t+i){if(!e){e=this._createNode({parent:a,positionInParent:r});a.children[r]=e}n.push(e);return true}return false});return n};d.prototype._buildTree=function(e,t){this._oRootNode=undefined;var i=null;var o=this._calculateGroupID({context:i,parent:null});var n=this._getNodeState(o);if(!n){n=this._createNodeState({groupID:o,sum:true,sections:[{startIndex:e,length:t}]});this._updateTreeState({groupID:n.groupID,fallbackNodeState:n,expanded:true})}this._oRootNode=this._createNode({context:i,parent:null,level:this.bDisplayRootNode&&!(i===null)?0:-1,nodeState:n,isLeaf:false,autoExpand:this.getNumberOfExpandedLevels()+1});this._oRootNode.isArtificial=true;if(this._mTreeState.expanded[this._oRootNode.groupID]){this._loadChildContexts(this._oRootNode)}};d.prototype._calculateRequestLength=function(e,t){var i;if(!e){i=t.length}else{i=Math.max(Math.min(t.length,e-t.startIndex),0)}return i};d.prototype._loadChildContexts=function(e){var i=e.nodeState;var o=this._getMaxGroupSize(e);if(o>0){if(!e.children[o-1]){e.children[o-1]=undefined}i.leafCount=o}if(this.bClientOperation){i.sections=[{startIndex:0,length:o}]}for(var n=0;n<i.sections.length;n++){var r=i.sections[n];var a=this._calculateRequestLength(o,r);if(e.autoExpand>=0&&this._autoExpandMode===t.Bundled){a=Math.max(0,o)}var s;if(e.isArtificial){s=this.getRootContexts(r.startIndex,a,this._iThreshold)}else{s=this.nodeHasChildren(e)?this.getNodeContexts(e.context,r.startIndex,a,this._iThreshold):[]}for(var d=0;d<s.length;d++){var l=s[d];if(!l){continue}var u=d+r.startIndex;var h=e.children[u];var p={context:s[d],parent:e,level:e.level+1,positionInParent:u,autoExpand:Math.max(e.autoExpand-1,-1)};if(h){h.context=p.context;h.parent=p.parent;h.level=p.level;h.positionInParent=p.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.autoExpand=p.autoExpand;var f;if(l){f=this._calculateGroupID(h)}h.groupID=f}else{h=this._createNode(p)}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false})}h.nodeState.parentGroupID=e.groupID;h.isLeaf=!this.nodeHasChildren(h);e.children[u]=h;if(h.isLeaf){e.numberOfLeafs+=1}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){this.setNodeSelection(h.nodeState,true)}if((h.autoExpand>0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]&&!h.isLeaf){this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h)}e.magnitude+=Math.max(h.magnitude||0,0);e.numberOfLeafs+=h.numberOfLeafs}}}e.magnitude+=Math.max(o||0,0)};d.prototype.isGrouped=function(){return true};d.prototype._calculateGroupID=function(e){r.error("TreeBindingAdapter#_calculateGroupID: Not implemented. Needs to be implemented in respective sub-classes.")};d.prototype._createNode=function(e){e=e||{};var t=e.context;var i=e.level||0;var o={context:t,level:i,children:e.children||[],parent:e.parent,nodeState:e.nodeState,isLeaf:e.isLeaf||false,positionInParent:e.positionInParent,magnitude:e.magnitude||0,numberOfTotals:e.numberOfTotals||0,numberOfLeafs:e.numberOfLeafs||0,autoExpand:e.autoExpand||0,absoluteNodeIndex:e.absoluteNodeIndex||0,totalNumberOfLeafs:0};if(t!==undefined){o.groupID=this._calculateGroupID(o)}return o};d.prototype.expand=function(e,t){var o=this.findNode(e);if(!o){n(false,"No node found for index "+e);return}this._updateTreeState({groupID:o.nodeState.groupID,fallbackNodeState:o.nodeState,expanded:true});if(!t){this._fireChange({reason:i.Expand})}};d.prototype.expandToLevel=function(e){this._mTreeState.collapsed={};this.setNumberOfExpandedLevels(e);this._fireChange({reason:i.Expand})};d.prototype.isExpanded=function(e){var t=this.findNode(e);return t&&t.nodeState?t.nodeState.expanded:false};d.prototype.collapse=function(e,t){var o;var r=this;if(typeof e==="object"){o=e}else if(typeof e==="number"){var s=this.findNode(e);if(!s){n(false,"No node found for index "+e);return}o=s.nodeState}this._updateTreeState({groupID:o.groupID,fallbackNodeState:o,expanded:false});o.selectAllMode=false;if(this.bCollapseRecursive){var d=o.groupID;a(this._mTreeState.expanded,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){r._updateTreeState({groupID:e,expanded:false})}});var l=[];a(this._mTreeState.selected,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)&&e!==d){t.selectAllMode=false;r.setNodeSelection(t,false);l.push(e)}});if(l.length){var u={rowIndices:[]};var h=-1;this._map(this._oRootNode,function(e){if(!e||!e.isArtificial){h++}if(e&&l.indexOf(e.groupID)!==-1){if(e.groupID===this._sLeadSelectionGroupID){u.oldIndex=h;u.leadIndex=-1}u.rowIndices.push(h)}});this._publishSelectionChanges(u)}}if(!t){this._fireChange({reason:i.Collapse})}};d.prototype.collapseToLevel=function(e){if(!e||e<0){e=0}var t=this;a(this._mTreeState.expanded,function(i,o){var n=t._getGroupIdLevel(i)-1;if(n===e){t.collapse(o,true)}});if(this.bCollapseRecursive){this.setNumberOfExpandedLevels(e)}this._fireChange({reason:i.Collapse})};d.prototype._map=function(e,t){t.call(this,e);if(!e){return}for(var i=0;i<e.children.length;i++){var o=e.children[i];this._map(o,t)}if(this._afterMapHook){this._afterMapHook(e,t)}};d.prototype._match=function(e,t,i,o,n,r){if(t.length===i){return true}var a=o.call(this,e,n,r);if(a){t.push(e)}if(!e){return false}for(var s=0;s<e.children.length;s++){var d=e.children[s];var l=this._match(d,t,i,o,s,e);if(l){return true}}return this._afterMatchHook?this._afterMatchHook(e,t,i,o,n,r):false};d.prototype.toggleIndex=function(e){var t=this.findNode(e);if(!t){n(false,"There is no node at index "+e+".");return}if(t.nodeState.expanded){this.collapse(e)}else{this.expand(e)}};d.prototype._getGroupIdLevel=function(e){if(e==null){r.warning("assertion failed: no need to determine level of group ID = null");return-1}return e.split("/").length-2};d.prototype._getGroupSize=function(e){return this.getChildCount(e.context)};d.prototype.setNodeSelection=function(e,t){if(!e.groupID){n(false,"NodeState must have a group ID!");return}e.selected=t;if(t){this._mTreeState.selected[e.groupID]=e;delete this._mTreeState.deselected[e.groupID]}else{delete this._mTreeState.selected[e.groupID];this._mTreeState.deselected[e.groupID]=e}};d.prototype.isIndexSelected=function(e){var t=this.getNodeByIndex(e);return t&&t.nodeState?t.nodeState.selected:false};d.prototype.isIndexSelectable=function(e){var t=this.getNodeByIndex(e);return this._isNodeSelectable(t)};d.prototype._isNodeSelectable=function(e){return!!e&&!e.isArtificial};d.prototype.setSelectedIndex=function(e){var t=this.findNode(e);if(t&&this._isNodeSelectable(t)){var i=this._clearSelection();var o=i.rowIndices.indexOf(e);if(o>=0){i.rowIndices.splice(o,1)}else{i.rowIndices.push(e)}i.leadGroupID=t.groupID;i.leadIndex=e;this.setNodeSelection(t.nodeState,true);this._publishSelectionChanges(i)}else{r.warning("TreeBindingAdapter: The selection was ignored. Please make sure to only select rows, for which data has been fetched to the client. For AnalyticalTables, some rows might not be selectable at all.")}};d.prototype.getSelectedIndex=function(){if(!this._sLeadSelectionGroupID||s(this._mTreeState.selected)){return-1}var e=-1;var t=false;var i=function(i){if(!i||!i.isArtificial){e++}if(i){if(i.groupID===this._sLeadSelectionGroupID){t=true;return true}}return false};this._match(this._oRootNode,[],1,i);if(t){return e}return-1};d.prototype.getSelectedIndices=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(o);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.getSelectedNodesCount=function(){var e;if(this._oRootNode&&this._oRootNode.nodeState.selectAllMode){var t,i,o,n;var r,a=[];if(this.filterInfo&&this.oCombinedFilter){for(var s=this.filterInfo.aFilteredContexts.length-1;s>=0;s--){r=this.filterInfo.aFilteredContexts[s];a.push(this._calculateGroupID({context:r}))}}i=0;for(t in this._mTreeState.expanded){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.expanded[t];if(!n.selectAllMode&&n.leafCount!==undefined){i+=n.leafCount}}}for(t in this._mTreeState.selected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.selected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&!o.selectAllMode){i--}}}for(t in this._mTreeState.deselected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.deselected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&o.selectAllMode){i++}}}e=this._getSelectableNodesCount(this._oRootNode)-i}else{e=Object.keys(this._mTreeState.selected).length}return e};d.prototype._getSelectableNodesCount=function(e){if(e){return e.magnitude}else{return 0}};d.prototype.getSelectedContexts=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(i.context);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.setSelectionInterval=function(e,t){var i,o,n=this._clearSelection(),r={},a=[],s=this._setSelectionInterval(e,t,true);for(i=0;i<n.rowIndices.length;i++){o=n.rowIndices[i];r[o]=true}for(i=0;i<s.rowIndices.length;i++){o=s.rowIndices[i];if(r[o]){delete r[o]}else{r[o]=true}}for(o in r){if(r[o]){a.push(parseInt(o))}}this._publishSelectionChanges({rowIndices:a,oldIndex:n.oldIndex,leadIndex:s.leadIndex,leadGroupID:s.leadGroupID})};d.prototype._setSelectionInterval=function(e,t,i){var o=Math.min(e,t);var n=Math.max(e,t);var r=[];var a=[];var s=Math.abs(n-o)+1;var d;var l=-1;var u=function(e){if(!e||!e.isArtificial){l++}if(e){if(l>=o&&l<=n){if(this._isNodeSelectable(e)){if(e.nodeState.selected!==!!i){a.push(l)}if(e.groupID===this._sLeadSelectionGroupID){d=l}this.setNodeSelection(e.nodeState,!!i)}return true}}return false};this._match(this._oRootNode,r,s,u);var h={rowIndices:a,oldIndex:d,leadIndex:d&&!i?-1:undefined};if(r.length>0&&i){var p=r[r.length-1];h.leadGroupID=p.groupID;h.leadIndex=n}return h};d.prototype.addSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,true);this._publishSelectionChanges(i)};d.prototype.removeSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,false);this._publishSelectionChanges(i)};d.prototype.selectAll=function(){this._mTreeState.deselected={};var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=-1;this._map(this._oRootNode,function(i){if(!i||!i.isArtificial){t++}if(i){if(i.groupID===this._sLeadSelectionGroupID){e.oldIndex=t}if(this._isNodeSelectable(i)){if(i.nodeState.selected!==true){e.rowIndices.push(t)}this.setNodeSelection(i.nodeState,true);e.leadGroupID=i.groupID;e.leadIndex=t}if(i.nodeState.expanded){i.nodeState.selectAllMode=true}}});this._publishSelectionChanges(e)};d.prototype._clearSelection=function(){var e=-1;var t=-1;var i;var o=[];if(this._oRootNode&&!this._oRootNode.nodeState.selectAllMode){i=0;for(var n in this._mTreeState.selected){if(n){i++}}}var r=function(i){if(!i||!i.isArtificial){e++}if(i){i.nodeState.selectAllMode=false;if(this._mTreeState.selected[i.groupID]){if(!i.isArtificial){o.push(e)}this.setNodeSelection(i.nodeState,false);if(i.groupID===this._sLeadSelectionGroupID){t=e}return true}}return false};this._match(this._oRootNode,[],i,r);if(this._oRootNode&&this._oRootNode.nodeState&&this._oRootNode.isArtificial){this._oRootNode.nodeState.selectAllMode=false}return{rowIndices:o,oldIndex:t,leadIndex:-1}};d.prototype.clearSelection=function(e){var t=this._clearSelection();if(!e){this._publishSelectionChanges(t)}};d.prototype._publishSelectionChanges=function(e){e.oldIndex=e.oldIndex||this.getSelectedIndex();e.rowIndices.sort(function(e,t){return e-t});if(e.leadIndex>=0&&e.leadGroupID){this._sLeadSelectionGroupID=e.leadGroupID}else if(e.leadIndex===-1){this._sLeadSelectionGroupID=undefined}else{e.leadIndex=e.oldIndex}if(e.rowIndices.length>0||e.leadIndex!=undefined&&e.leadIndex!==-1){this.fireSelectionChanged(e)}};d.prototype.setCollapseRecursive=function(e){this.bCollapseRecursive=!!e};d.prototype.getCollapseRecursive=function(){return this.bCollapseRecursive};d.prototype.attachSelectionChanged=function(e,t,i){this.attachEvent("selectionChanged",e,t,i);return this};d.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};d.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingCompatibilityAdapter", ["sap/base/util/each"],function(t){"use strict";var e=function(e,n){Object.assign(e,{_init:function(t){this._bExpandFirstLevel=t;this.mContextInfo={};this._initContexts();if(t&&!this._bFirstLevelExpanded){this._expandFirstLevel()}},_initContexts:function(t){this.aContexts=this.getRootContexts(0,Number.MAX_VALUE);for(var e=0,n=this.aContexts.length;e<n;e++){var i=this._getContextInfo(this.aContexts[e]);this._setContextInfo({oContext:this.aContexts[e],iLevel:0,bExpanded:i?i.bExpanded:false})}if(this._bExpandFirstLevel&&!this._bFirstLevelExpanded){this._expandFirstLevel(t)}},_expandFirstLevel:function(e){var n=this;if(this.aContexts&&this.aContexts.length>0){t(this.aContexts.slice(),function(t,i){if(!e){n._loadChildContexts(i)}n._getContextInfo(i).bExpanded=true});this._bFirstLevelExpanded=true}},_fnFireFilter:e._fireFilter,_fireFilter:function(){this._fnFireFilter.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_fnFireChange:e._fireChange,_fireChange:function(){this._fnFireChange.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_restoreContexts:function(e){var n=this;var i=[];t(e.slice(),function(t,e){var o=n._getContextInfo(e);if(o&&o.bExpanded){i.push.apply(i,n._loadChildContexts(e))}});if(i.length>0){this._restoreContexts(i)}},_loadChildContexts:function(t){var e=this._getContextInfo(t);var n=this.aContexts?this.aContexts.indexOf(t):-1;var i=this.getNodeContexts(t,0,Number.MAX_VALUE);for(var o=0,s=i.length;o<s;o++){this.aContexts.splice(n+o+1,0,i[o]);var a=this._getContextInfo(i[o]);this._setContextInfo({oParentContext:t,oContext:i[o],iLevel:e.iLevel+1,bExpanded:a?a.bExpanded:false})}return i},_getContextInfo:function(t){return t?this.mContextInfo[t.getPath()]:undefined},_setContextInfo:function(t){if(t&&t.oContext){this.mContextInfo[t.oContext.getPath()]=t}},getLength:function(){return this.aContexts?this.aContexts.length:0},getContexts:function(t,e){return this.aContexts.slice(t,t+e)},getNodes:function(t,e){var n=this.getContexts(t,t+e);var i=[];for(var o=0;o<n.length;o++){var s=this._getContextInfo(n[o])||{};var a=n[o];i.push({context:a,level:s.iLevel,parent:s.oParentContext,nodeState:{expanded:s.bExpanded,collapsed:!s.bExpanded,selected:false}})}return i},hasChildren:function(){return true},nodeHasChildren:function(){return true},getContextByIndex:function(t){return this.aContexts[t]},getLevel:function(t){var e=this._getContextInfo(t);return e?e.iLevel:-1},isExpanded:function(t){var e=this.getContextByIndex(t);var n=this._getContextInfo(e);return n?n.bExpanded:false},expandContext:function(t){var e=this._getContextInfo(t);if(e&&!e.bExpanded){this.storeSelection();this._loadChildContexts(t);e.bExpanded=true;this._fireChange();this.restoreSelection()}},expand:function(t){this.expandContext(this.getContextByIndex(t))},collapseContext:function(t,e){var n=this._getContextInfo(t);if(n&&n.bExpanded){this.storeSelection();for(var i=this.aContexts.length-1;i>0;i--){if(this._getContextInfo(this.aContexts[i]).oParentContext===t){this.aContexts.splice(i,1)}}n.bExpanded=false;if(!e){this._fireChange()}this.restoreSelection()}},collapse:function(t){this.collapseContext(this.getContextByIndex(t))},collapseToLevel:function(t){if(!t||t<0){t=0}var e=this.aContexts.slice();for(var n=e.length-1;n>=0;n--){var i=this.getLevel(e[n]);if(i!=-1&&i>=t){this.collapseContext(e[n],true)}}this._fireChange()},toggleContext:function(t){var e=this._getContextInfo(t);if(e){if(e.bExpanded){this.collapseContext(t)}else{this.expandContext(t)}}},toggleIndex:function(t){this.toggleContext(this.getContextByIndex(t))},storeSelection:function(){var e=n.getSelectedIndices();var i=[];t(e,function(t,e){i.push(n.getContextByIndex(e))});this._aSelectedContexts=i},restoreSelection:function(){n.clearSelection();var e=this._aSelectedContexts;t(this.aContexts,function(t,i){if((e?e.indexOf(i):-1)>=0){n.addSelectionInterval(t,t)}});this._aSelectedContexts=undefined},attachSelectionChanged:function(){return undefined},detachSelectionChanged:function(){},clearSelection:function(){n._oSelection.clearSelection()},attachSort:function(){},detachSort:function(){}});e._init(n.getExpandFirstLevel())};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/AnalyticalBinding", ["./BatchResponseCollector","./odata4analytics","sap/base/Log","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/uid","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterProcessor","sap/ui/model/FilterType","sap/ui/model/Sorter","sap/ui/model/TreeAutoExpandMode","sap/ui/model/TreeBinding","sap/ui/model/odata/CountMode","sap/ui/model/odata/ODataUtils"],function(e,t,i,r,s,n,a,o,u,l,d,h,p,f,g,y,c,v){"use strict";var m="sap.ui.model.analytics.AnalyticalBinding",_=0,I=i.getLogger(m);function R(e){var i,r,s,n,a,o,u,l,d,h=new t.QueryResultRequest(e.oAnalyticalQueryResult),p=e.mParameters.select.split(","),f=q(p,e.sPath);h.setAggregationLevel(e.aMaxAggregationLevel);h.setMeasures(e.aMeasureName);Object.keys(e.oDimensionDetailsSet).forEach(function(t){n=e.oDimensionDetailsSet[t];h.includeDimensionKeyTextAttributes(t,true,n.textPropertyName!==undefined,n.aAttributeName)});Object.keys(e.oMeasureDetailsSet).forEach(function(t){u=e.oMeasureDetailsSet[t];h.includeMeasureRawFormattedValueUnit(t,u.rawValuePropertyName!==undefined,u.formattedValuePropertyName!==undefined,u.unitPropertyName!==undefined)});s=h.getURIQueryOptionValue("$select");if(s){r=s.split(",");for(a=0,l=r.length;a<l;a++){d=r[a];o=p.indexOf(d);if(o<0){i=e.mAnalyticalInfoByProperty[d];if(!i||!i.visible&&!i.inResult){continue}I.warning("Ignored the 'select' binding parameter, because"+" it does not contain the property '"+d+"'",e.sPath);f=true}else{p.splice(o,1)}}}const g=[];for(a=0;a<p.length;a+=1){d=p[a];n=e.oAnalyticalQueryResult.findDimensionByPropertyName(d);if(n){const t=e.oDimensionDetailsSet[n.getName()];if(t===undefined){M(e.sPath,d,n);f=true}else if(b._updateDimensionDetailsTextProperty(n,d,t)){continue}}u=e.oAnalyticalQueryResult.findMeasureByPropertyName(d);if(u&&e.oMeasureDetailsSet[u.getName()]===undefined){M(e.sPath,d,u);f=true}g.push(d)}return f?[]:g}function M(e,i,r){var s=r instanceof t.Dimension?"dimension":"measure";if(r.getName()===i){I.warning("Ignored the 'select' binding parameter, because it contains"+" the "+s+" property '"+i+"' which is not contained in the analytical info (see updateAnalyticalInfo)",e)}else{I.warning("Ignored the 'select' binding parameter, because the property '"+i+"' is associated with the "+s+" property '"+r.getName()+"' which is not contained in the analytical"+" info (see updateAnalyticalInfo)",e)}}function q(e,t){var i,r=false,s,n;for(s=0,n=e.length;s<n;s++){e[s]=e[s].trim()}for(s=e.length-1;s>=0;s--){i=e[s];if(e.indexOf(i)!==s){I.warning("Ignored the 'select' binding parameter, because it"+" contains the property '"+i+"' multiple times",t);e.splice(s,1);r=true}}return r}var b=y.extend("sap.ui.model.analytics.AnalyticalBinding",{constructor:function(e,t,i,r,s,n){y.call(this,e,t,i,s,n);this.iModelVersion=b._getModelVersion(this.oModel);if(this.iModelVersion===null){throw new Error("The AnalyticalBinding does not support the given model")}this.aAdditionalSelects=[];this.sEntitySetName=n.entitySet?n.entitySet:undefined;this.bArtificalRootContext=false;this.aApplicationFilter=this._convertDeprecatedFilterObjects(s);this.aControlFilter=undefined;this.aSorter=r?r:[];if(!Array.isArray(this.aSorter)){this.aSorter=[this.aSorter]}this.aMaxAggregationLevel=[];this.aAggregationLevel=[];this.oPendingRequests={};this.oPendingRequestHandle=[];this.oGroupedRequests={};this.bUseBatchRequests=n.useBatchRequests===true;this.bProvideTotalSize=n.provideTotalResultSize!==false;this.bProvideGrandTotals=n.provideGrandTotals!==false;this.bReloadSingleUnitMeasures=n.reloadSingleUnitMeasures!==false;this.bUseAcceleratedAutoExpand=n.useAcceleratedAutoExpand!==false;this.bNoPaging=n.noPaging===true;_+=1;this._iId=_;this.iTotalSize=-1;this.mServiceKey={};this.mServiceLength={};this.mServiceFinalLength={};this.mKeyIndex={};this.mFinalLength=this.mServiceFinalLength;this.mLength={};this.mMultiUnitKey={};this.aMultiUnitLoadFactor={};this.bNeedsUpdate=false;this.bApplySortersToGroups=true;this.sLastAutoExpandMode=undefined;this.mEntityKey={};this.sCustomParams=this.oModel.createCustomParams({custom:this.mParameters.custom});this.oAnalyticalQueryResult=null;this.aAnalyticalInfo=[];this.mAnalyticalInfoByProperty={};this.aBatchRequestQueue=[];if(n.countMode==c.None){I.fatal("requested count mode is ignored; OData requests will include"+" $inlinecount options")}else if(n.countMode==c.Request||n.countMode==c.Both){I.warning("default count mode is ignored; OData requests will include"+" $inlinecount options")}else if(this.oModel.sDefaultCountMode==c.Request){I.warning("default count mode is ignored; OData requests will include"+" $inlinecount options")}this.aAllDimensionSortedByName=null;this.aInitialAnalyticalInfo=n.analyticalInfo;this.bInitial=true}});function x(e,t){return function(){if(!e.__supportUID){e.__supportUID=o()}return{type:m,analyticalError:t,analyticalBindingId:e.__supportUID}}}b.prototype.setContext=function(e){var t;if(this.oContext!==e){this.oContext=e;if(!this.isRelative()){return}this.oDataState=null;this.bApplySortersToGroups=true;this.iTotalSize=-1;this._abortAllPendingRequests();t=this.getResolvedPath();if(t){this.resetData();this._initialize();this._fireChange({reason:u.Context})}else{this.bInitial=true}}};b.prototype.initialize=function(){if(this.oModel.oMetadata&&this.oModel.oMetadata.isLoaded()&&this.isInitial()){var e=this.isRelative();if(!e||e&&this.oContext){this._initialize()}this._fireRefresh({reason:u.Refresh})}return this};b.prototype._initialize=function(){if(this.oModel.oMetadata&&this.oModel.oMetadata.isLoaded()){this.bInitial=false;this.oAnalyticalQueryResult=this.oModel.getAnalyticalExtensions().findQueryResultByName(this._getEntitySet());if(!this.oAnalyticalQueryResult){throw"Error in AnalyticalBinding - The QueryResult '"+this._getEntitySet()+"' could not be retrieved. Please check your service definition."}this.updateAnalyticalInfo(this.aInitialAnalyticalInfo);this.aAllDimensionSortedByName=this.oAnalyticalQueryResult.getAllDimensionNames().concat([]).sort();this._fireRefresh({reason:u.Refresh})}};b.prototype.getRootContexts=function(e,t,i,r){if(typeof e!=="object"){e={length:t,numberOfExpandedLevels:i,startIndex:e,threshold:r}}if(this.isInitial()){return[]}var s=e&&e.numberOfExpandedLevels?e.numberOfExpandedLevels+1:1;var n=null;var a=this._getRequestId(b._requestType.groupMembersQuery,{groupId:null});if(this.bArtificalRootContext&&!this._cleanupGroupingForCompletedRequest(a)){return n}n=this._getContextsForParentContext(null);if(n.length==1){return n}if(s<=1){if(s==1){this._considerRequestGrouping([a,this._getRequestId(b._requestType.groupMembersQuery,{groupId:"/"})]);this.getNodeContexts(this.getModel().getContext("/"),{startIndex:e.startIndex,length:e.length,threshold:e.threshold,level:0,numberOfExpandedLevels:0})}}else{var o=this._prepareGroupMembersAutoExpansionRequestIds("/",e.numberOfExpandedLevels);o.push(a);this._considerRequestGrouping(o);this.getNodeContexts(this.getModel().getContext("/"),{startIndex:e.startIndex,length:e.length,threshold:e.threshold,level:0,numberOfExpandedLevels:e.numberOfExpandedLevels})}if(n.length>1){I.fatal("assertion failed: grand total represented by a single entry")}return n};b.prototype.getNodeContexts=function(e,t){if(this.isInitial()){return[]}var i,r,s,n,a,o;if(typeof t=="object"){i=t.startIndex;r=t.length;s=t.threshold;n=t.level;a=t.numberOfExpandedLevels;o=t.supressRequest}else{i=arguments[1];r=arguments[2];s=arguments[3];n=arguments[4];a=arguments[5];o=arguments[6]}var u=this._getContextsForParentContext(e,i,r,s,n,a,o);return u};b.prototype.ContextsAvailabilityStatus={ALL:2,SOME:1,NONE:0};b.prototype.hasAvailableNodeContexts=function(e,t){var i=this._getGroupIdFromContext(e,t);if(this._getKeys(i)!=undefined){if(this.mFinalLength[i]==true){return b.prototype.ContextsAvailabilityStatus.ALL}else{return b.prototype.ContextsAvailabilityStatus.SOME}}else{return b.prototype.ContextsAvailabilityStatus.NONE}};b.prototype.getGroupSize=function(e,t){if(e===undefined){return 0}var i=this._getGroupIdFromContext(e,t);return this.mFinalLength[i]?this.mLength[i]:-1};b.prototype.getCount=function(){return this.iTotalSize>=0?this.iTotalSize:undefined};b.prototype.getTotalSize=function(){if(!this.bProvideTotalSize){I.fatal("total size of result explicitly turned off, but getter invoked")}return this.iTotalSize};b.prototype.hasChildren=function(e,t){t=t||{level:1};if(e===undefined){return false}if(e==null){return true}var i=t.level;if(i==0){return true}if(this.aAggregationLevel.length<i){return false}return this.aMaxAggregationLevel.indexOf(this.aAggregationLevel[i-1])<this.aMaxAggregationLevel.length-1};b.prototype.hasMeasures=function(){var e=false;for(var t in this.oMeasureDetailsSet){if(this.oMeasureDetailsSet.hasOwnProperty(t)){e=true;break}}return e};b.prototype.getDimensionDetails=function(){return this.oDimensionDetailsSet};b.prototype.getMeasureDetails=function(){return this.oMeasureDetailsSet};b.prototype.providesGrandTotal=function(){return this.bProvideGrandTotals};b.prototype.getProperty=function(e){if(this.isInitial()){return{}}return this.oAnalyticalQueryResult.getEntityType().findPropertyByName(e)};b.prototype.getFilterablePropertyNames=function(){if(this.isInitial()){return[]}return this.oAnalyticalQueryResult.getEntityType().getFilterablePropertyNames()};b.prototype.getSortablePropertyNames=function(){if(this.isInitial()){return[]}return this.oAnalyticalQueryResult.getEntityType().getSortablePropertyNames()};b.prototype.getPropertyLabel=function(e){if(this.isInitial()){return""}return this.oAnalyticalQueryResult.getEntityType().getLabelOfProperty(e)};b.prototype.getPropertyHeading=function(e){if(this.isInitial()){return""}return this.oAnalyticalQueryResult.getEntityType().getHeadingOfProperty(e)};b.prototype.getPropertyQuickInfo=function(e){if(this.isInitial()){return""}return this.oAnalyticalQueryResult.getEntityType().getQuickInfoOfProperty(e)};b.prototype.isMeasure=function(e){return this.aMeasureName&&this.aMeasureName.indexOf(e)!==-1};b.prototype.filter=function(e,t){if(!e){e=[]}if(e instanceof l){e=[e]}e=this._convertDeprecatedFilterObjects(e);if(t==p.Application){this.aApplicationFilter=e}else{this.aControlFilter=e}this.iTotalSize=-1;this._abortAllPendingRequests();this.resetData();this.bApplySortersToGroups=true;this._fireRefresh({reason:u.Filter});return this};b.prototype.getFilterInfo=function(e){var t=h.combineFilters(this.aControlFilter,this.aApplicationFilter);if(t){return t.getAST(e)}return null};b.prototype.sort=function(e){if(e instanceof f){e=[e]}this.aSorter=e?e:[];this._abortAllPendingRequests();this.resetData(undefined,{reason:u.Sort});this._fireRefresh({reason:u.Sort});return this};b.prototype.getGroupName=function(e,t){if(e===undefined){return""}var i=this.aAggregationLevel[t-1],r=this.oAnalyticalQueryResult.findDimensionByPropertyName(i),s=this.mAnalyticalInfoByProperty[i]&&this.mAnalyticalInfoByProperty[i].formatter,n=e.getProperty(i),a,o,u,l,d,h,p,f;if(r&&this.oDimensionDetailsSet[i].textPropertyName){d=r.getTextProperty()}if(d){h=d.name;f=this.mAnalyticalInfoByProperty[h]&&this.mAnalyticalInfoByProperty[h].formatter;p=e.getProperty(h);a=s?s(n,p):n;o=f?f(p,n):p}else{a=s?s(n):n}l=r.getLabelText&&r.getLabelText();u=(l?l+": ":"")+a;if(o){u+=" - "+o}return u};b.prototype.updateAnalyticalInfo=function(e,r){var s,a,o,l,d=this;function h(e){var t=e.level,i=e.name;l=l||o.getAllHierarchyPropertyNames();l.forEach(function(r){var s=d.oAnalyticalQueryResult.findDimensionByPropertyName(r).getHierarchy(),n=null,a=s.getNodeIDProperty().name,u;if(a===i){n=p(s)}else{u=s.getNodeExternalKeyProperty();if(u&&u.name===i){n=p(s);n.nodeExternalKeyName=i}else{u=o.getTextPropertyOfProperty(a);if(u&&u.name===i){n=p(s);n.nodeTextName=i}}}if(n&&"level"in e){if(typeof t==="number"){if("level"in n&&n.level!==t){throw new Error("Multiple different level filter for hierarchy '"+a+"' defined")}n.level=t;n.grouped=!!e.grouped}else{throw new Error("The level of '"+a+"' has to be an integer value")}}})}function p(e){var t=e.getNodeIDProperty().name,i,r=d.mHierarchyDetailsByName[t];if(!r){i=e.getNodeLevelProperty();r={dimensionName:e.getNodeValueProperty().name,nodeIDName:t,nodeLevelName:i&&i.name};d.mHierarchyDetailsByName[t]=r}return r}if(!this.oModel.oMetadata||!this.oModel.oMetadata.isLoaded()||this.isInitial()){this.aInitialAnalyticalInfo=e;return}s=t.helper.deepEqual(this._aLastChangedAnalyticalInfo,e,function(e){d.mAnalyticalInfoByProperty[e.name].formatter=e.formatter});if(s){this._aLastChangedAnalyticalInfo=[];for(var f=0;f<e.length;f++){this._aLastChangedAnalyticalInfo[f]=n({},e[f])}}if(s<2){if(r||s){setTimeout(function(){this._fireChange({reason:u.Change})}.bind(this),0)}return}var g=this.oDimensionDetailsSet||{},y=this.oMeasureDetailsSet||{};this.mAnalyticalInfoByProperty={};this.aMaxAggregationLevel=[];this.aAggregationLevel=[];this.aMeasureName=[];if(this.iAnalyticalInfoVersionNumber==undefined){this.iAnalyticalInfoVersionNumber=1}else if(this.iAnalyticalInfoVersionNumber>999){this.iAnalyticalInfoVersionNumber=1}else{this.iAnalyticalInfoVersionNumber=this.iAnalyticalInfoVersionNumber+1}this.oMeasureDetailsSet={};this.oDimensionDetailsSet={};this.aAdditionalSelects=[];this.mHierarchyDetailsByName={};o=this.oAnalyticalQueryResult.getEntityType();for(var c=0;c<e.length;c++){var v=this.oAnalyticalQueryResult.findDimensionByPropertyName(e[c].name);if(v&&(e[c].inResult==true||e[c].visible==true)){e[c].dimensionPropertyName=v.getName();a=this.oDimensionDetailsSet[v.getName()];if(!a){a={};a.name=v.getName();a.aAttributeName=[];a.grouped=false;this.oDimensionDetailsSet[v.getName()]=a;this.aMaxAggregationLevel.push(a.name);if(e[c].grouped==true){this.aAggregationLevel.push(a.name)}}if(e[c].grouped==true){if(!this.getSortablePropertyNames()||this.getSortablePropertyNames().indexOf(v.getName())==-1){I.fatal("property "+v.getName()+" must be sortable in order to be used as grouped dimension")}a.grouped=true}if(v.getName()==e[c].name){a.keyPropertyName=e[c].name}b._updateDimensionDetailsTextProperty(v,e[c].name,a);if(v.findAttributeByName(e[c].name)){a.aAttributeName.push(e[c].name)}a.analyticalInfo=e[c]}var m=this.oAnalyticalQueryResult.findMeasureByPropertyName(e[c].name);if(m&&(e[c].inResult==true||e[c].visible==true)){e[c].measurePropertyName=m.getName();var _=this.oMeasureDetailsSet[m.getName()];if(!_){_={};_.name=m.getName();this.oMeasureDetailsSet[m.getName()]=_;this.aMeasureName.push(_.name)}if(m.getRawValueProperty().name==e[c].name){_.rawValuePropertyName=e[c].name}var M=m.getFormattedValueProperty();if(M&&M.name==e[c].name){_.formattedValuePropertyName=e[c].name}_.analyticalInfo=e[c]}if(!v&&!m){h(e[c])}this.mAnalyticalInfoByProperty[e[c].name]=e[c]}Object.keys(this.mHierarchyDetailsByName).forEach(function(e){var t=d.mHierarchyDetailsByName[e];if(!("level"in t)){delete d.mHierarchyDetailsByName[e];if(I.isLoggable(i.Level.INFO)){I.info("No level specified for hierarchy node '"+e+"'; ignoring hierarchy","")}}else if(!d.oDimensionDetailsSet[e]){d.oDimensionDetailsSet[e]={aAttributeName:[],grouped:t.grouped,isHierarchyDimension:true,name:e};d.aMaxAggregationLevel.push(e);if(t.grouped){d.aAggregationLevel.push(e)}}});for(var q in this.oMeasureDetailsSet){var x=this.oAnalyticalQueryResult.findMeasureByName(q).getUnitProperty();if(x){this.oMeasureDetailsSet[q].unitPropertyName=x.name}}var S=Object.keys(g).sort().join(";")!==Object.keys(this.oDimensionDetailsSet).sort().join(";");if(S){this.iTotalSize=-1}if(S||Object.keys(y).sort().join(";")!==Object.keys(this.oMeasureDetailsSet).sort().join(";")){this.bApplySortersToGroups=true}this.aAnalyticalInfo=e;this.resetData();this.bNeedsUpdate=false;if(this.mParameters.select){this.aAdditionalSelects=R(this)}if(r){this._fireChange({reason:u.Change})}};b.prototype.getAnalyticalInfoForColumn=function(e){return this.mAnalyticalInfoByProperty[e]};b.prototype.loadGroups=function(e){var t=[];for(var i in e){t.push(i);this._resetData(i);var r=e[i];for(var s=0;s<r.length;s++){var n=r[s];this._getContextsForParentGroupId(i,n.startIndex,n.length,n.threshold)}var a=[];for(var o=-1,u;(u=t[++o])!==undefined;){a.push(this._getRequestId(b._requestType.groupMembersQuery,{groupId:u}))}this._considerRequestGrouping(a)}};b.prototype.getAnalyticalQueryResult=function(){return this.oAnalyticalQueryResult};b._requestType={groupMembersQuery:1,totalSizeQuery:2,groupMembersAutoExpansionQuery:3,levelMembersQuery:4,reloadMeasuresQuery:5};b._artificialRootContextGroupId="artificialRootContext";b._addHierarchyLevelFilters=function(e,t){e.forEach(function(e){t.removeConditions(e.propertyName);t.addCondition(e.propertyName,d.EQ,e.level)})};b._getModelVersion=function(e){const t=e.getMetadata().getName();let i=t==="sap.ui.model.odata.v2.ODataModel"?2:null;if(t==="sap.ui.model.odata.ODataModel"){i=1}return i};b.prototype._getContextsForParentContext=function(e,t,i,r,s,n,a){if(e===undefined){return[]}if(e&&e.getPath()=="/"+b._artificialRootContextGroupId){e=this.getModel().getContext("/")}var o=this._getGroupIdFromContext(e,s);return this._getContextsForParentGroupId(o,t,i,r,n,a)};b.prototype._getContextsForParentGroupId=function(e,t,i,r,s,n){if(e===undefined){return[]}if(!t){t=0}if(!i){i=this.oModel.iSizeLimit}if(this.mFinalLength[e]&&this.mLength[e]<t+i){i=this.mLength[e]-t;if(i<0){I.fatal("invalid start index greater than total group length passed")}}if(!r){r=0}if(!s){s=0}if(e==null){if(s>0){I.fatal("invalid request to determine nodes of root context");return null}}else{if(this._getGroupIdLevel(e)>=this.aAggregationLevel.length&&s>0){I.fatal("invalid request to determine nodes of context with group ID "+e);return null}if(this._getGroupIdLevel(e)+s>this.aAggregationLevel.length){s=this.aAggregationLevel.length-this._getGroupIdLevel(e)-1}}var a=[],o,u,l,d;var h=e==null?0:this._getGroupIdLevel(e)+1;if(!this.aMultiUnitLoadFactor[h]){this.aMultiUnitLoadFactor[h]=1}var p=s>0&&e!=null;if(p){var f=this._getGroupIdLevel(e);var g=f+s;var y=true;if(!n){l=this._calculateRequiredGroupExpansion(e,g,t,i+r);y=l.groupId_Missing==null;y=y||l.groupId_Missing.length<e.length||l.groupId_Missing.substring(0,e.length)!=e}if(y){a=this._getLoadedContextsForGroup(e,t,i)}else{d=i+r}o=!y;d=Math.ceil(d*this.aMultiUnitLoadFactor[h])}else{a=this._getLoadedContextsForGroup(e,t,i,n);o=false;if(!n){if(this._oWatermark&&e===this._oWatermark.groupID){r=1e4}u=this._calculateRequiredGroupSection(e,t,i,r);var c=u.length>0&&i<u.length;o=a.length!=i&&!(this.mFinalLength[e]&&a.length>=this.mLength[e]-t)||c;u.length=Math.ceil(u.length*this.aMultiUnitLoadFactor[h])}}if(!o){this._cleanupGroupingForCompletedRequest(this._getRequestId(b._requestType.groupMembersQuery,{groupId:e}))}var v=false;if(this.oModel.getServiceMetadata()){if(o){var m=this.bProvideTotalSize&&this.iTotalSize==-1&&!this._isRequestPending(this._getRequestId(b._requestType.totalSizeQuery));v=true;var _;if(this.bUseBatchRequests){if(p){_=this._prepareGroupMembersAutoExpansionRequestIds(e,s);for(var R=-1,M;(M=_[++R])!==undefined;){if(this._isRequestPending(M)){v=false;break}}if(v){this.aBatchRequestQueue.push([b._requestType.groupMembersAutoExpansionQuery,e,l,d,s])}}else{v=u.length&&!this._isRequestPending(this._getRequestId(b._requestType.groupMembersQuery,{groupId:e}));if(v){this.aBatchRequestQueue.push([b._requestType.groupMembersQuery,e,u.startIndex,u.length]);_=[this._getRequestId(b._requestType.groupMembersQuery,{groupId:e})]}}if(v&&m){_.push(this._getRequestId(b._requestType.totalSizeQuery));this._considerRequestGrouping(_);this.aBatchRequestQueue.push([b._requestType.totalSizeQuery])}if(v){if(e==null){this._abortAllPendingRequests()}Promise.resolve().then(b.prototype._processRequestQueue.bind(this))}}else{var q;if(p){_=this._prepareGroupMembersAutoExpansionRequestIds(e,s);for(var x=-1,S;(S=_[++x])!==undefined;){if(this._isRequestPending(S)){v=false;break}}if(v){q=this._prepareGroupMembersAutoExpansionQueryRequest(b._requestType.groupMembersAutoExpansionQuery,e,l,d,s)}}else{v=u.length&&!this._isRequestPending(this._getRequestId(b._requestType.groupMembersQuery,{groupId:e}));if(v){q=this._prepareGroupMembersQueryRequest(b._requestType.groupMembersQuery,e,u.startIndex,u.length);_=[q.sRequestId]}}if(v){if(e==null){this._abortAllPendingRequests()}this._executeQueryRequest(q);if(m&&!q.bIsFlatListRequest){_.push(this._getRequestId(b._requestType.totalSizeQuery));this._considerRequestGrouping(_);this._executeQueryRequest(this._prepareTotalSizeQueryRequest(b._requestType.totalSizeQuery))}}}}}return a};b.prototype._getHierarchyLevelFiltersAndAddRecursiveHierarchy=function(e,t){var i,r=[],s=this;if(t===null){return r}i=Object.keys(this.mHierarchyDetailsByName);if(i.length>0&&t!=="/"){I.error("Hierarchy cannot be requested for members of a group",t);return r}i.forEach(function(t){var i=s.mHierarchyDetailsByName[t];e.addRecursiveHierarchy(i.dimensionName,!!i.nodeExternalKeyName,!!i.nodeTextName);r.push({propertyName:i.nodeLevelName,level:i.level})});return r};b.prototype._getNonHierarchyDimensions=function(e){var t=this;return e.filter(function(e){return!t.oDimensionDetailsSet[e].isHierarchyDimension})};b.prototype._processRequestQueue=function(e){if(e===undefined||e===null){e=this.aBatchRequestQueue||[]}if(e.length==0){return}var t=[];var i=false;var r,s,n;for(r=-1;(n=e[++r])!==undefined;){if(n[0]==b._requestType.groupMembersQuery){s=b.prototype._prepareGroupMembersQueryRequest.apply(this,n);i=i||s.bIsFlatListRequest;t.push(s)}}for(r=-1;(n=e[++r])!==undefined;){s=null;switch(n[0]){case b._requestType.groupMembersQuery:continue;case b._requestType.totalSizeQuery:if(!i){s=b.prototype._prepareTotalSizeQueryRequest.apply(this,n);t.push(s)}break;case b._requestType.groupMembersAutoExpansionQuery:s=b.prototype._prepareGroupMembersAutoExpansionQueryRequest.apply(this,n);for(var a=-1,o;(o=s.aGroupMembersAutoExpansionRequestDetails[++a])!==undefined;){t.push(o)}break;case b._requestType.reloadMeasuresQuery:{var u=n[1];for(var l=-1,d;(d=u[++l])!==undefined;){t.push(d)}break}default:I.fatal("unhandled request type "+e[r][0]);continue}}if(t.length>1){this._executeBatchRequest(t)}else{this._executeQueryRequest(t[0])}if(e===this.aBatchRequestQueue){this.aBatchRequestQueue=[]}};b.prototype._prepareGroupMembersQueryRequest=function(e,i,r,s){var n=[],a=[],o;var u=new t.QueryResultRequest(this.oAnalyticalQueryResult);u.setResourcePath(this._getResourcePath());u.getSortExpression().clear();var l=0,h=-1;if(i){n=this._getGroupIdComponents(i);l=h=n.length;var p=0;for(var f=0,g=0;f<l;g++){if(this.oDimensionDetailsSet[this.aMaxAggregationLevel[g]].grouped==false){++p}else{++f}}l=h=l+p;if(this.aMaxAggregationLevel.length>0){while(this.oDimensionDetailsSet[this.aMaxAggregationLevel[h]].grouped==false){if(++h==this.aMaxAggregationLevel.length){break}}}}var y=h>=this.aMaxAggregationLevel.length-1;o=this._getHierarchyLevelFiltersAndAddRecursiveHierarchy(u,i);var c=this.aMaxAggregationLevel.slice(0,h+1);var v=this._getNonHierarchyDimensions(c);u.setAggregationLevel(v);for(var m=0;m<v.length;m++){var _=this.oDimensionDetailsSet[v[m]];var R=_.textPropertyName!=undefined;u.includeDimensionKeyTextAttributes(_.name,true,R,_.aAttributeName);if(_.grouped){a.push({sPath:v[m],bDescending:false})}}var M=u.getFilterExpression();M.clear();if(this.aApplicationFilter){M.addUI5FilterConditions(this.aApplicationFilter)}if(this.aControlFilter){M.addUI5FilterConditions(this.aControlFilter)}if(l>=1){for(var q=0,x=n.length;q<x;q++){M.removeConditions(this.aAggregationLevel[q]);M.addCondition(this.aAggregationLevel[q],d.EQ,n[q])}}b._addHierarchyLevelFilters(o,M);var S;var A;var P;var L;var N=[];if(i!=null||this.bProvideGrandTotals||this._canApplySortersToGroups()&&this.aSorter.length>0){u.setMeasures(this.aMeasureName);for(var D in this.oMeasureDetailsSet){L=this.oMeasureDetailsSet[D];if(!y&&this._isSkippingTotalForMeasure(D)){S=false;A=false;P=false}else{S=L.rawValuePropertyName!=undefined;A=L.formattedValuePropertyName!=undefined;P=L.unitPropertyName!=undefined;if(P){if(N.indexOf(L.unitPropertyName)==-1){N.push(L.unitPropertyName)}}}u.includeMeasureRawFormattedValueUnit(L.name,S,A,P)}for(var G in v){var Q;if((Q=N.indexOf(v[G]))!=-1){N.splice(Q,1)}}}if(i){this._addSorters(u.getSortExpression(),a)}if(s==0){I.fatal("unhandled case: load 0 entities of sub group")}var F=this._getKeyIndexMapping(i,r);if(!this.bNoPaging){u.setResultPageBoundaries(F.iServiceKeyIndex+1,F.iServiceKeyIndex+s)}u.setRequestOptions(null,!this.mFinalLength[i]);return{iRequestType:e,sRequestId:this._getRequestId(b._requestType.groupMembersQuery,{groupId:i}),oAnalyticalQueryRequest:u,sGroupId:i,aSelectedUnitPropertyName:N,aAggregationLevel:c,bIsFlatListRequest:y&&l==0,bIsLeafGroupsRequest:y,iStartIndex:r,iLength:s,oKeyIndexMapping:F}};b.prototype._prepareTotalSizeQueryRequest=function(e){var i;var r=new t.QueryResultRequest(this.oAnalyticalQueryResult);r.setResourcePath(this._getResourcePath());i=this._getHierarchyLevelFiltersAndAddRecursiveHierarchy(r,"/");r.setAggregationLevel(this._getNonHierarchyDimensions(this.aMaxAggregationLevel));r.setMeasures([]);var s=r.getFilterExpression();s.clear();if(this.aApplicationFilter){s.addUI5FilterConditions(this.aApplicationFilter)}if(this.aControlFilter){s.addUI5FilterConditions(this.aControlFilter)}b._addHierarchyLevelFilters(i,s);r.setRequestOptions(null,null,true);r.setRequestOptions(null,true);return{iRequestType:e,sRequestId:this._getRequestId(b._requestType.totalSizeQuery),oAnalyticalQueryRequest:r}};b.prototype._prepareGroupMembersAutoExpansionQueryRequest=function(e,i,s,n,a){var o=this;var u=function(e,t){var i=[];if(e.groupId_Missing==null){I.fatal("missing group Id not present");return i}var s=o._getGroupIdComponents(e.groupId_Missing);var n=s.length;if(n>t){I.fatal("the given group ID is too deep for requested level for auto expansion");return i}var a=[];for(var u=0;u<n;u++){var h=o.aAggregationLevel[u];var p=s[u];var f=o._getFilterOperatorMatchingPropertySortOrder(h);a[u]=new l(h,f,p)}var g=null;if(e.startIndex_Missing>0){var y=o._getKey(e.groupId_Missing,e.startIndex_Missing-1);var c=o.oModel.getObject("/"+y);var v=o.aAggregationLevel[n];var m=c[v];g=new l(v,o._getFilterOperatorMatchingPropertySortOrder(v,false),m)}for(var _=0;_<t;_++){var R=[];var M=Math.min(n,_+1);for(var q=0;q<M;q++){var b=[];var x=Math.min(n,q+1);var S=e.startIndex_Missing>0;for(var A=0;A<x;A++){var P=new l("x",d.EQ,"x");P=r(P,a[A]);if(x>1&&A<x-1){P.sOperator=d.EQ}if(A==n-1&&_>n-1&&!S){if(P.sOperator==d.GT){P.sOperator=d.GE}else{P.sOperator=d.LE}}b.push(P)}if(b.length>0){R.push(new l(b,true));if(_>n-1&&q==n-1&&S){var L=[];for(var N=0;N<b.length;N++){var D=new l("x",d.EQ,"x");D=r(D,b[N]);L.push(D)}L[n-1].sOperator=d.EQ;L.push(g);R.push(new l(L,true));break}}}if(R.length>0){i[_]=new l(R,false)}else{i[_]=null}}return i};var h=function(e,i,r,s,n,a,u,l){var d;var h=new t.QueryResultRequest(o.oAnalyticalQueryResult);h.setResourcePath(o._getResourcePath());h.getSortExpression().clear();var p=0,g=-1;p=g=r-1;var y=0;for(var c=0,v=0;c<p;v++){if(o.oDimensionDetailsSet[o.aMaxAggregationLevel[v]].grouped==false){++y}else{++c}}p=g=p+y;if(o.aMaxAggregationLevel.length>0){while(o.aMaxAggregationLevel[g]&&o.oDimensionDetailsSet[o.aMaxAggregationLevel[g]].grouped==false){if(++g==o.aMaxAggregationLevel.length){break}}}var m=g>=o.aMaxAggregationLevel.length-1;d=o._getHierarchyLevelFiltersAndAddRecursiveHierarchy(h,i);var _=o.aMaxAggregationLevel.slice(0,g+1);h.setAggregationLevel(_);const R=[];for(var M=0;M<_.length;M++){var q=o.oDimensionDetailsSet[_[M]];var x=q.textPropertyName!=undefined;h.includeDimensionKeyTextAttributes(q.name,true,x,q.aAttributeName);if(q.grouped){R.push(new f(_[M]))}}var S=h.getFilterExpression();S.clear();if(o.aApplicationFilter){S.addUI5FilterConditions(o.aApplicationFilter)}if(o.aControlFilter){S.addUI5FilterConditions(o.aControlFilter)}if(s){S.addUI5FilterConditions([s])}b._addHierarchyLevelFilters(d,S);var A;var P;var L;var N;var D=[];h.setMeasures(o.aMeasureName);for(var G in o.oMeasureDetailsSet){N=o.oMeasureDetailsSet[G];if(!m&&o._isSkippingTotalForMeasure(G)){A=false;P=false;L=false}else{A=N.rawValuePropertyName!=undefined;P=N.formattedValuePropertyName!=undefined;L=N.unitPropertyName!=undefined;if(L){if(D.indexOf(N.unitPropertyName)==-1){D.push(N.unitPropertyName)}}}h.includeMeasureRawFormattedValueUnit(N.name,A,P,L)}for(var Q in _){var F;if((F=D.indexOf(_[Q]))!=-1){D.splice(F,1)}}o._mergeAndAddSorters(R,h.getSortExpression());if(a==0){I.fatal("unhandled case: load 0 entities of sub group")}var T=n;if(!l){T=0}else{var C=0;for(var E in o.mServiceKey){if(E.split("/").length===r+1){C+=o.mServiceKey[E].length}}T=Math.max(T,C)}if(!o.bNoPaging){h.setResultPageBoundaries(T+1,T+a)}return{iRequestType:e,sRequestId:null,oAnalyticalQueryRequest:h,iLevel:r,aSelectedUnitPropertyName:D,aAggregationLevel:_,bIsFlatListRequest:m,bIsLeafGroupsRequest:m,iStartIndex:n,iLength:a,bAvoidLengthUpdate:u}};var p=[];var g=[];if(!s){I.fatal("no first missing group member specified")}var y=this._getGroupIdLevel(i)+a+1;var c=o._getGroupIdComponents(s.groupId_Missing);var v=c.length;var m=u(s,y);var _;for(var R=1;R<=y;R++){var M;if(R>=v+2){M=0;_=undefined}else if(R==v+1){M=s.startIndex_Missing;_=s.groupId_Missing}else if(v>0){if(R==v){_=s.groupId_Missing}else{_=this._getGroupIdAncestors(s.groupId_Missing,-(v-R))[0]}var q=this._getGroupIdAncestors(s.groupId_Missing,-(v-R+1))[0];if(!q){I.fatal("failed to determine group id at parent level; group ID = "+i+", level = "+R)}M=this._findKeyIndex(q,this.mEntityKey[_]);if(M==-1){I.fatal("failed to determine position of value "+_+" in group "+q)}_=q;M++}var x=n>R?Math.ceil((n-R)/(y-R+1)):n;var S=m[R-1];if(this.bUseAcceleratedAutoExpand){var A=h(b._requestType.levelMembersQuery,i,R,S,M,x,false,S==null?true:false);A.sGroupId_Missing_AtLevel=_;A.sRequestId=this._getRequestId(b._requestType.levelMembersQuery,{groupId:i,level:R});p.push(A);g.push(A.sRequestId)}else if(S&&S.aFilters.length>0){if(!S._bMultiFilter||S.bAnd){I.fatal("level filter in wrong shape; cannot break it up")}for(var P=0;P<S.aFilters.length;P++){var L=S.aFilters[P];var N=h(b._requestType.levelMembersQuery,i,R,L,M,x,false,S==null?true:false);N.sGroupId_Missing_AtLevel=_;N.sRequestId=this._getRequestId(b._requestType.levelMembersQuery,{groupId:i,level:R,tupleIndex:P});p.push(N);g.push(N.sRequestId)}}else{var D=h(b._requestType.levelMembersQuery,i,R,null,M,x,false,S==null?true:false);D.sGroupId_Missing_AtLevel=_;D.sRequestId=this._getRequestId(b._requestType.levelMembersQuery,{groupId:i,level:R});p.push(D);g.push(D.sRequestId)}}return{iRequestType:e,aRequestId:g,aGroupMembersAutoExpansionRequestDetails:p,sGroupId:i,iLength:n}};b.prototype._prepareReloadMeasurePropertiesQueryRequest=function(e,i,r){var s=new t.QueryResultRequest(this.oAnalyticalQueryResult);s.setResourcePath(this._getResourcePath());s.getSortExpression().clear();var n=i.aAggregationLevel;s.setAggregationLevel(n);var a=i.bIsLeafGroupsRequest;var o=s.getFilterExpression();o.clear();if(this.aApplicationFilter){o.addUI5FilterConditions(this.aApplicationFilter)}if(this.aControlFilter){o.addUI5FilterConditions(this.aControlFilter)}var u=[];for(var h=0;h<n.length;h++){var p=new l(n[h],d.EQ,r.oEntry[n[h]]);u.push(p)}o.addUI5FilterConditions(u);var f;var g;var y;var c;var v=[];s.setMeasures(r.aReloadMeasurePropertyName);for(var m in this.oMeasureDetailsSet){c=this.oMeasureDetailsSet[m];if(!r.aReloadMeasurePropertyName||r.aReloadMeasurePropertyName.indexOf(c.name)==-1){continue}if(!a&&this._isSkippingTotalForMeasure(m)){f=false;g=false;y=false}else{f=c.rawValuePropertyName!=undefined;g=c.formattedValuePropertyName!=undefined;y=c.unitPropertyName!=undefined;if(y){if(v.indexOf(c.unitPropertyName)==-1){v.push(c.unitPropertyName)}}}s.includeMeasureRawFormattedValueUnit(c.name,f,g,y)}for(var _ in n){var I;if((I=v.indexOf(n[_]))!=-1){v.splice(I,1)}}return{iRequestType:e,sRequestId:this._getRequestId(b._requestType.reloadMeasuresQuery,{multiUnitEntryKey:this.oModel.getKey(r.oEntry)}),oAnalyticalQueryRequest:s,aSelectedUnitPropertyName:v,aAggregationLevel:n,oMultiUnitRepresentative:r}};b.prototype._prepareGroupMembersAutoExpansionRequestIds=function(e,t){var i=this._getGroupIdLevel(e)+1;var r=i+t;var s=[];for(var n=i;n<=r;n++){s.push(this._getRequestId(b._requestType.levelMembersQuery,{groupId:e,level:n}))}return s};b.prototype._getQueryODataRequestOptions=function(e,t,i){var r;i=i||{};try{e.getFilterExpression().checkValidity()}catch(e){I.fatal("filter expression is not valid",e.toString());return undefined}var s=e.getURIQueryOptionValue("$select");var n=e.getURIQueryOptionValue("$filter");var a=e.getURIQueryOptionValue("$orderby");var o=e.getURIQueryOptionValue("$skip");var u=e.getURIQueryOptionValue("$top");var l=e.getURIQueryOptionValue("$inlinecount");if(t&&this.aAdditionalSelects.length>0){s=(s?s.split(","):[]).concat(this.aAdditionalSelects).join(",");const t={};this.aAdditionalSelects.forEach(e=>{t[e]=true});const i=e.getSortExpression().getURIOrderByOptionValue(t);if(i){a=a?a+","+i:i}}if(this.mParameters&&this.mParameters["filter"]){if(n===null){n=this.mParameters["filter"]}else{n+="and ("+this.mParameters["filter"]+")"}}var d=[];if(s!==null){d.push("$select="+s)}if(n!==null){d.push("$filter="+n)}if(a!==null){d.push("$orderby="+a)}if(o!==null){d.push("$skip="+o)}if(u!==null){d.push("$top="+u)}if(l!==null){d.push("$inlinecount="+l)}if(i.encode===true){for(r=0;r<d.length;r++){d[r]=d[r].replace(/\ /g,"%20")}}return d};b.prototype._executeBatchRequest=function(t){var i=this.iAnalyticalInfoVersionNumber,r,s=this;var n=[],a=[];function o(){s.fireDataReceived({__simulateAsyncAnalyticalBinding:true})}var u=new e;function l(e,t){u.success(t)}function d(e,t){u.error(t||e)}this.bNeedsUpdate=true;for(var h=0;h<t.length;h++){var p=t[h];if(p.aAggregationLevel&&p.aAggregationLevel.length>0){this.bNeedsUpdate=false}}for(var f=-1,g;(g=t[++f])!==undefined;){var y=g.oAnalyticalQueryRequest,c=g.sGroupId;if(y.getURIQueryOptionValue("$select")==null){this.fireDataRequested({__simulateAsyncAnalyticalBinding:true});c=null;this.mServiceLength[c]=this.mLength[c]=1;this.mServiceFinalLength[c]=true;this._setServiceKey(this._getKeyIndexMapping(c,0),b._artificialRootContextGroupId);setTimeout(o);this.bArtificalRootContext=true;continue}var v=y.getURIToQueryResultEntries();if(!this.oContext&&v[0]!=="/"){v="/"+v}if(!this._isRequestPending(g.sRequestId)){this._registerNewRequest(g.sRequestId);if(this.iModelVersion===1){n.push(this.oModel.createBatchOperation(v.replace(/\ /g,"%20"),"GET"))}if(this.iModelVersion===2){var m=this._getQueryODataRequestOptions(y,g.bIsLeafGroupsRequest,{encode:true});if(this.sCustomParams){m.push(this.sCustomParams)}var _=this.oModel.read(v.replace(/\ /g,"%20"),{success:l,error:d,context:this.oContext,urlParameters:m});n.push(_)}a.push(g)}}if(n.length>0){I.debug("AnalyticalBinding: executing batch request with "+a.length+" operations");var R;r=this._getIdForNewRequestHandle();this.fireDataRequested();if(this.iModelVersion===1){this.oModel.addBatchReadOperations(n);R=this.oModel.submitBatch(M,q,true,true);this.oModel.fireRequestSent({url:this.oModel.sServiceUrl+"/$batch",type:"POST",async:true,info:"",infoObject:{}})}if(this.iModelVersion===2){R={abort:function(){for(var e=0;e<n.length;e++){n[e].abort()}}};u.setup({executedRequests:a,binding:this,success:M,error:q})}this._registerNewRequestHandle(r,R)}function M(e,t){s._deregisterHandleOfCompletedRequest(r);if(a.length!=e.__batchResponses.length){I.fatal("assertion failed: received "+e.__batchResponses.length+" responses for "+a.length+" read operations in the batch request")}if(i!=s.iAnalyticalInfoVersionNumber){for(var n=0;n<a.length;n++){var o=a[n].sRequestId;if(o!==undefined){s._deregisterCompletedRequest(o);s._cleanupGroupingForCompletedRequest(o)}}s.fireDataReceived({data:[]});return}var u=0;for(var l=0;l<e.__batchResponses.length;l++){if(e.__batchResponses[l].data!=undefined){if(e.__batchResponses[l].data.results.length==0){u++}switch(a[l].iRequestType){case b._requestType.groupMembersQuery:s._processGroupMembersQueryResponse(a[l],e.__batchResponses[l].data);break;case b._requestType.totalSizeQuery:s._processTotalSizeQueryResponse(a[l],e.__batchResponses[l].data);break;case b._requestType.levelMembersQuery:s._processLevelMembersQueryResponse(a[l],e.__batchResponses[l].data);break;case b._requestType.reloadMeasuresQuery:s._processReloadMeasurePropertiesQueryResponse(a[l],e.__batchResponses[l].data);break;default:I.fatal("invalid request type "+a[l].iRequestType);continue}}s._deregisterCompletedRequest(a[l].sRequestId);s._cleanupGroupingForCompletedRequest(a[l].sRequestId)}if(s.mParameters&&s.mParameters.numberOfExpandedLevels>0){if(u==e.__batchResponses.length){s.mLength["/"]=0;s.mFinalLength["/"]=true}}s.fireDataReceived({data:e});if(s.iModelVersion===1){let i=true;let r={};const n=s.oModel._getBatchErrors(e);if(n.length>0){i=false;r=s.oModel._handleError(n[0])}s.oModel.fireRequestCompleted({url:t.requestUri,type:"POST",async:true,info:"",infoObject:{},success:i,errorobject:i?{}:r});if(i){s.oModel.checkUpdate()}}}function q(e){if(e&&e.statusText!="abort"){s._deregisterHandleOfCompletedRequest(r);for(var t=-1,n;(n=a[++t])!==undefined;){s._deregisterCompletedRequest(n.sRequestId);s._cleanupGroupingForCompletedRequest(n.sRequestId)}}if(i!=s.iAnalyticalInfoVersionNumber){s.fireDataReceived();return}if(s.iModelVersion===1){e=s.oModel._handleError(e)}s.oModel.fireRequestCompleted({url:"",type:"POST",async:true,info:"",infoObject:{},success:false,errorobject:e});if(s.iModelVersion===1){s.oModel.fireRequestFailed(e)}s.fireDataReceived()}};b.prototype._executeQueryRequest=function(e){if(e.iRequestType==b._requestType.groupMembersAutoExpansionQuery){for(var t=-1,i;(i=e.aGroupMembersAutoExpansionRequestDetails[++t])!==undefined;){this._executeQueryRequest(i)}return}var r=this.iAnalyticalInfoVersionNumber;var s=e.oAnalyticalQueryRequest,n=e.sGroupId;var a=s.getURIToQueryResultEntitySet();var o=this._getQueryODataRequestOptions(s,e.bIsLeafGroupsRequest);if(!o){return}var u=this;if(s.getURIQueryOptionValue("$select")==null){this.fireDataRequested({__simulateAsyncAnalyticalBinding:true});n=null;this.mServiceLength[n]=this.mLength[n]=1;this.mServiceFinalLength[n]=true;this._setServiceKey(this._getKeyIndexMapping(n,0),b._artificialRootContextGroupId);this.bNeedsUpdate=true;setTimeout(function(){if(u._cleanupGroupingForCompletedRequest(e.sRequestId)){u.fireDataReceived({__simulateAsyncAnalyticalBinding:true})}});this.bArtificalRootContext=true;return}this._registerNewRequest(e.sRequestId);this.fireDataRequested();for(var l=0;l<o.length;l++){o[l]=o[l].replace(/\ /g,"%20")}I.debug("AnalyticalBinding: executing query request");var d=this._getIdForNewRequestHandle();if(this.iModelVersion===1){this.oModel._loadData(a,o,p,g,false,y,f)}if(this.iModelVersion===2){if(this.sCustomParams){o.push(this.sCustomParams)}var h=this.oModel.read(a.replace(/ /g,"%20"),{success:p,error:g,context:this.oContext,urlParameters:o});u._registerNewRequestHandle(d,h)}function p(t){u._deregisterHandleOfCompletedRequest(d);if(r!=u.iAnalyticalInfoVersionNumber){u._deregisterCompletedRequest(e.sRequestId);return}switch(e.iRequestType){case b._requestType.groupMembersQuery:u._processGroupMembersQueryResponse(e,t);break;case b._requestType.totalSizeQuery:u._processTotalSizeQueryResponse(e,t);break;case b._requestType.levelMembersQuery:u._processLevelMembersQueryResponse(e,t);break;case b._requestType.reloadMeasuresQuery:u._processReloadMeasurePropertiesQueryResponse(e,t);break;default:I.fatal("invalid request type "+e.iRequestType);break}u._deregisterCompletedRequest(e.sRequestId);if(u.iModelVersion===2){f(t)}}function f(t){if(r!=u.iAnalyticalInfoVersionNumber){return}if(u._cleanupGroupingForCompletedRequest(e.sRequestId)){u.fireDataReceived({data:t})}}function g(t){if(t&&t.statusText=="abort"){u.fireDataReceived();return}u._deregisterHandleOfCompletedRequest(d);u._deregisterCompletedRequest(e.sRequestId);u._cleanupGroupingForCompletedRequest(e.sRequestId);if(r!=u.iAnalyticalInfoVersionNumber){return}u.fireDataReceived()}function y(e){u._registerNewRequestHandle(d,e)}};b.prototype._abortAllPendingRequests=function(){this._abortAllPendingRequestsByHandle();this._clearAllPendingRequests()};b.prototype._processGroupMembersQueryResponse=function(e,t){var i,r=e.sGroupId,s=this.aSorter.length>0,n=e.aSelectedUnitPropertyName,a=e.aAggregationLevel,o=e.oKeyIndexMapping.iIndex,u=e.oKeyIndexMapping.iServiceKeyIndex,l=e.iLength,d=e.oKeyIndexMapping,h=r==null?0:this._getGroupIdLevel(r)+1,p=n.length>0,f,g,y,c=0,v,m,_=[];var R=t.results.length;if(r===null&&R>1&&this._canApplySortersToGroups()){this._warnNoSortingOfGroups(s?"binding is refreshed":undefined);if(s){setTimeout(this.refresh.bind(this),0);return}}var M=this._getServiceKeys(r,d.iIndex-1);f=undefined;if(M&&M.length>0){for(var q=0,S=M.length;q<S;q++){t.results[q-S]=this.oModel.getObject("/"+M[q])}var A=t.results[-M.length];f="";for(var P=0;P<a.length;P++){f+=b._getDimensionValue(A[a[P]])+"|"}}v=M&&M.length==1;for(var L=0;L<R;L++){var N=t.results[L];if(p){g="";for(var D=0;D<a.length;D++){g+=b._getDimensionValue(N[a[D]])+"|"}if(f==g){this._warnNoSortingOfGroups();if(y===undefined){if(L==0){y=-M.length;d.iServiceKeyIndex-=M.length-1}else{y=L-1}}var G=-1,Q=t.results[L-1];for(var F=0;F<n.length;F++){if(Q[n[F]]!=N[n[F]]){G=F;break}}if(G==-1){I.fatal("assertion failed: no deviating units found for result entries "+(L-1)+" and "+L,null,null,x(this,"NO_DEVIATING_UNITS"))}}if((f!=g||L==R-1)&&y!==undefined){var T=[];for(var C=y;C<L;C++){T.push(t.results[C])}if(f==g){T.push(t.results[L])}var E=b._getDeviatingUnitPropertyNames(n,T);var K=this._createMultiUnitRepresentativeEntry(r,t.results[y],n,E,e.bIsFlatListRequest);if(K.aReloadMeasurePropertyName.length>0){m=this._prepareReloadMeasurePropertiesQueryRequest(b._requestType.reloadMeasuresQuery,e,K);if(m.oAnalyticalQueryRequest&&m.oAnalyticalQueryRequest.getURIQueryOptionValue("$select")!=null){_.push(m)}}var O=this._setAdjacentMultiUnitKeys(d,K,T);var U;if(K.bIsNewEntry){U=T.length-1}else{U=O}if(v){v=false}if(U<0){I.fatal("assertion failed: iDiscardedEntriesCount must be non-negative")}c+=U;var w=this.oModel._getKey(K.oEntry);var V=this.oModel.getContext("/"+w);this._getGroupIdFromContext(V,h);this.mEntityKey[i]=w;y=undefined;if(f!=g){v=this._setServiceKey(d,this.oModel._getKey(N))}}else if(f!=g){v=this._setServiceKey(d,this.oModel._getKey(N))}f=g}else{this._setServiceKey(d,this.oModel._getKey(N))}if(!e.bIsLeafGroupsRequest){var B=this._getKey(r,d.iIndex-1);i=this._getGroupIdFromContext(this.oModel.getContext("/"+B),h);this.mEntityKey[i]=B}}var k=[];if(this.bReloadSingleUnitMeasures&&_.length>0){if(this.bUseBatchRequests){this.aBatchRequestQueue.push([b._requestType.reloadMeasuresQuery,_]);Promise.resolve().then(b.prototype._processRequestQueue.bind(this))}else{for(var H=0;H<_.length;H++){var z=_[H];this._executeQueryRequest(z)}}for(var j=0;j<_.length;j++){var $=_[j];k.push($.sRequestId)}this._considerRequestGrouping(k)}if(M&&M.length>0){for(var Z=0,W=M.length;Z<W;Z++){delete t.results[Z-W]}}if(p){c+=this._mergeLoadedKeyIndexWithSubsequentIndexes(d,a,n,e.bIsFlatListRequest)}if(!e.bAvoidLengthUpdate){var J=false;if(t.__count){this.mServiceLength[r]=parseInt(t.__count);this.mLength[r]=this.mServiceLength[r]-c;this.mFinalLength[r]=true;if(e.bIsFlatListRequest){this.iTotalSize=this.mServiceLength[r]}J=true}if(!(r in this.mServiceLength)||this.mServiceLength[r]<u+R){this.mServiceLength[r]=u+R;this.mLength[r]=o+R-c;this.mFinalLength[r]=false}if(R<l||l===undefined){this.mServiceLength[r]=u+R;this.mLength[r]=o+d.iIndex-o;this.mFinalLength[r]=true;J=true}if(R==0){this.mLength[r]=this.mServiceLength[r]=0;this.mFinalLength[r]=true;J=true}if(!J&&this.mLength[r]!==undefined&&c>0){this.mLength[r]-=c}}this.bNeedsUpdate=true;if(c>0){if(t.results.length-c>0){this.aMultiUnitLoadFactor[a.length]=t.results.length/(t.results.length-c)}if(this.aMultiUnitLoadFactor[a.length]<1.5){this.aMultiUnitLoadFactor[a.length]=2}}I.info("MultiUnit Situation in Group ("+r+"), discarded: "+c+", load-factor is now: "+this.aMultiUnitLoadFactor[a.length])};b.prototype._processTotalSizeQueryResponse=function(e,t){if(t.__count==undefined){I.fatal("missing entity count in query result");return}this.iTotalSize=parseInt(t.__count)};b.prototype._processLevelMembersQueryResponse=function(e,t){var i=this;var s,n;var a=function(a,o){var u={iRequestType:b._requestType.groupMembersQuery,sRequestId:i._getRequestId(b._requestType.groupMembersQuery,{groupId:s}),oAnalyticalQueryRequest:e.oAnalyticalQueryRequest,sGroupId:s,aSelectedUnitPropertyName:e.aSelectedUnitPropertyName,aAggregationLevel:e.aAggregationLevel,bIsFlatListRequest:e.bIsFlatListRequest,bIsLeafGroupsRequest:e.bIsLeafGroupsRequest,iStartIndex:a?e.iStartIndex:0,iLength:e.iLength,bAvoidLengthUpdate:e.bAvoidLengthUpdate};if(a&&e.iStartIndex>0&&(e.sGroupId_Missing_AtLevel!=u.sGroupId||i._getKeys(u.sGroupId)===undefined)){var l=i._getParentGroupId(u.sGroupId);var d=i._findKeyIndex(l,i.mEntityKey[u.sGroupId]);if(d<0){I.fatal("assertion failed: failed to determine position of "+u.sGroupId+" in group "+l)}else if(!d){i.mFinalLength[e.sGroupId_Missing_AtLevel]=true;u.iStartIndex=0}else if(i._getKey(l,d-1)!==undefined){var h=i._getKey(l,d-1);var p=i._getGroupIdFromContext(i.oModel.getContext("/"+h),i._getGroupIdLevel(u.sGroupId));i.mFinalLength[p]=true;u.iStartIndex=0}}if(o){u.iLength=n.length}u.oKeyIndexMapping=i._getKeyIndexMapping(u.sGroupId,u.iStartIndex);var f=r({},t);f.results=n;i._processGroupMembersQueryResponse(u,f)};if(t.results.length==0){this.bNeedsUpdate=true;return}s=this._getGroupIdFromContext(this.oModel.getContext("/"+this.oModel._getKey(t.results[0])),e.iLevel-1);n=[];var o=true;for(var u=0;u<t.results.length;u++){var l=t.results[u];var d=this.oModel.getContext("/"+this.oModel._getKey(t.results[u]));var h=this._getGroupIdFromContext(d,e.iLevel-1);if(s==h){n.push(l);if(u<t.results.length-1){continue}}a(o,t.results.length===e.iLength&&s===h);o=false;if(s!=h){n=[l]}s=h}if(t.results.length>1&&n.length==1){a(o,t.results.length==e.iLength)}};b.prototype._processReloadMeasurePropertiesQueryResponse=function(e,t){var i=e.oMultiUnitRepresentative;var r=this.oModel.getKey(i.oEntry);if(t.results.length!=1){I.fatal("assertion failed: more than one entity for reloaded measure properties of entity with key "+r);return}var s=t.results[0];var n=this.oModel.getObject("/"+r);if(!n){I.fatal("assertion failed: no entity found with key "+r);return}var a=i.aReloadMeasurePropertyName;for(var o=0;o<a.length;o++){n[a[o]]=s[a[o]]}};b.prototype._getLoadedContextsForGroup=function(e,t,i,r){var s=[],n,a,o=this._getKeys(e),u;if(!o){return s}if(!t){t=0}if(!i){i=this.oModel.iSizeLimit;if(this.mFinalLength[e]){i=this.mLength[e]}}if(r){a=t||0;u=o(a);while(u){n=this.oModel.getContext("/"+u);s.push(n);a++;u=o(a)}return s}for(a=t;a<t+i;a++){u=o(a);if(!u){break}n=this.oModel.getContext("/"+u);s.push(n)}return s};b.prototype._calculateRequiredGroupSection=function(e,t,i,r){var s=this.mKeyIndex[e]||[],n=this.mFinalLength[e]?this.mLength[e]:undefined,a=v._getReadIntervals(s,t,i,r,n),o=v._mergeIntervals(a);if(o){return{startIndex:o.start,length:o.end-o.start}}return{startIndex:0,length:Math.min(0,i)}};b.prototype._calculateRequiredGroupExpansion=function(e,t,i,r){var s={groupId_Missing:null,length_Missing:0};var n=this;var a=function(e,t,i,r){var o=n._getGroupIdLevel(e);if(o==t){var u=n._getLoadedContextsForGroup(e,i,r);var l=i+u.length-1;if(u.length>=r){return s}else if(n.mFinalLength[e]){if(u.length>=n.mLength[e]){return{groupId_Missing:null,length_Missing:r-u.length}}else{return{groupId_Missing:e,startIndex_Missing:l+1,length_Missing:r-u.length}}}else{return{groupId_Missing:e,startIndex_Missing:l+1,length_Missing:r-u.length}}}var d=n._getLoadedContextsForGroup(e,i,r);var h=r,p=i+d.length-1;for(var f=-1,g;(g=d[++f])!==undefined;){h--;var y=a(n._getGroupIdFromContext(g,o+1),t,0,h);if(y.groupId_Missing==null){if(y.length_Missing==0){return y}else{h=y.length_Missing}}else{return y}if(h==0){break}}if(n.mFinalLength[e]||h==0){return{groupId_Missing:null,length_Missing:h}}else{return{groupId_Missing:e,startIndex_Missing:p+1,length_Missing:h}}};var o=this._getGroupIdLevel(e);if(o==t+1){e=this._getParentGroupId(e);--o}if(e==null||o>t){return s}var u=r,l=i;while(e!=null){var d=a(e,t,l,u);if(d.groupId_Missing!=null){return d}else if(d.length_Missing==0){return d}else{var h=false;while(!h){var p=this._getParentGroupId(e);if(p==null){e=p;--o;break}var f=this.mEntityKey[e];if(!f){return s}var g=this._findKeyIndex(p,f);if(g==-1){return s}if(g==this._getKeyCount(p)-1){if(this.mFinalLength[p]){e=p;--o;continue}else{return{groupId_Missing:p,startIndex_Missing:g+1,length_Missing:u}}}else{f=this._getKey(p,g+1);e=this._getGroupIdFromContext(this.oModel.getContext("/"+f),o);h=true}}l=0;u=d.length_Missing}}return{groupId_Missing:null,length_Missing:u}};b.prototype._getResourcePath=function(){return this.isRelative()?this.getResolvedPath():this.sPath};b.prototype._getEntitySet=function(){var e=this.sEntitySetName;if(!e){e=this.sPath.split("/")[1];if(e.indexOf("(")!=-1){e=e.split("(")[0]+"Results"}}return e};b.prototype._getEffectiveSortOrder=function(e){for(var i=0;i<this.aSorter.length;i++){if(this.aSorter[i]&&this.aSorter[i].sPath==e){return this.aSorter[i].bDescending?t.SortOrder.Descending:t.SortOrder.Ascending}}return null};b.prototype._getFilterOperatorMatchingPropertySortOrder=function(e,i){var r;switch(this._getEffectiveSortOrder(e)){case t.SortOrder.Ascending:if(i){r=d.GE}else{r=d.GT}break;case t.SortOrder.Descending:if(i){r=d.LE}else{r=d.LT}break;default:r=d.GT}return r};b.prototype._convertDeprecatedFilterObjects=function(e){if(!e){return e}var t=sap.ui.require("sap/ui/model/odata/Filter");if(typeof t==="function"){for(var i=0,r=e.length;i<r;i++){if(e[i]instanceof t){e[i]=e[i].convert()}}}return e};b.prototype._getGroupIdFromContext=function(e,t){if(!e){return null}var i="/";var r=null;if(t>this.aAggregationLevel.length){I.fatal("assertion failed: aggregation level deeper than number of current aggregation levels")}for(var s=0;s<t;s++){r=e.getProperty(this.aAggregationLevel[s]);if(r!=null){if(r.__edmType==="Edm.Time"){r=r.ms}i+=encodeURIComponent(r)+"/"}else{i+="@/"}}return i};b.prototype._getGroupIdLevel=function(e){if(e==null){I.fatal("assertion failed: no need to determine level of group ID = null");return-1}return e.split("/").length-2};b.prototype._getGroupIdComponents=function(e){if(e==null){return null}var t=e.split("/");var i=[];for(var r=1;r<t.length-1;r++){if(t[r]=="@"){i[r-1]=null}else{i[r-1]=decodeURIComponent(t[r])}}return i};b.prototype._getGroupIdAncestors=function(e,t){if(!t){return[]}if(e==null){I.fatal("group ID null does not have ancestors");return[]}if(e=="/"){if(Math.abs(t)==1){return[null]}else{I.fatal("invalid level count "+t+" for ancestors of groupId "+e);return[]}}var i=e.split("/");var r=[],s="";var n=0,a=i.length-3;if(t>0){if(t-1>a){I.fatal("invalid level count "+t+" for ancestors of groupId "+e)}else{a=t-1}}else if(-(t+1)>a){I.fatal("invalid level count "+t+" for ancestors of groupId "+e)}else{n=a+1+t;for(var o=0;o<n;o++){s+=i[o]+"/"}}for(var u=n;u<=a;u++){s+=i[u]+"/";r.push(s)}return r};b.prototype._getParentGroupId=function(e){return this._getGroupIdAncestors(e,-1)[0]};b.prototype._removeDuplicatesFromStringArray=function(e){var t={};for(var i=0;i<e.length;i++){t[e[i]]=true}var r=[];for(var s in t){r.push(s)}return r};b.prototype._getIdForNewRequestHandle=function(){if(this.oPendingRequestHandle===undefined){this.oPendingRequestHandle=[]}for(var e=0;e<this.oPendingRequestHandle.length;e++){if(this.oPendingRequestHandle[e]===undefined){return e}}this.oPendingRequestHandle[this.oPendingRequestHandle.length]=undefined;return this.oPendingRequestHandle.length-1};b.prototype._registerNewRequestHandle=function(e,t){if(this.oPendingRequestHandle[e]!==undefined){I.fatal("request handle ID already in use")}this.oPendingRequestHandle[e]=t};b.prototype._deregisterHandleOfCompletedRequest=function(e){if(a(this.oPendingRequestHandle)){I.warning("No request handles to be cleared. Previous abort/resetData?");return}if(this.oPendingRequestHandle[e]===undefined){I.fatal("no handle found for this request ID")}this.oPendingRequestHandle[e]=undefined};b.prototype._abortAllPendingRequestsByHandle=function(){for(var e=0;e<this.oPendingRequestHandle.length;e++){if(this.oPendingRequestHandle[e]){if(this.oPendingRequestHandle[e]!==undefined){this.oPendingRequestHandle[e].abort()}}}this.oPendingRequestHandle=[]};b.prototype._getRequestId=function(e,t){switch(e){case b._requestType.groupMembersQuery:if(t.groupId===undefined){I.fatal("missing group ID")}return b._requestType.groupMembersQuery+(t.groupId==null?"":t.groupId);case b._requestType.levelMembersQuery:if(t.level===undefined){I.fatal("missing level")}if(t.groupId===undefined){I.fatal("missing groupId")}return""+b._requestType.levelMembersQuery+t.level+(t.tupleIndex?"-"+t.tupleIndex:"");case b._requestType.totalSizeQuery:return b._requestType.totalSizeQuery;case b._requestType.reloadMeasuresQuery:if(!t.multiUnitEntryKey){I.fatal("missing multi unit entry key")}return b._requestType.reloadMeasuresQuery+t.multiUnitEntryKey;default:I.fatal("invalid request type "+e);return-1}};b.prototype._registerNewRequest=function(e){if(e==undefined||e==""){I.fatal("missing request ID");return}if(!this.oPendingRequests[e]){this.oPendingRequests[e]=1}else{++this.oPendingRequests[e]}};b.prototype._considerRequestGrouping=function(e){for(var t=-1,i;(i=e[++t])!==undefined;){if(this.oGroupedRequests[i]===undefined){this.oGroupedRequests[i]={}}var r=this.oGroupedRequests[i];for(var s=0;s<e.length;s++){r[e[s]]=true}}};b.prototype._isRequestPending=function(e){return this.oPendingRequests[e]!=undefined&&this.oPendingRequests[e]>0};b.prototype._deregisterCompletedRequest=function(e){if(a(this.oPendingRequests)){I.warning("There are no pending requests which could be set to 'completed'.");return}if(!this.oPendingRequests[e]){I.fatal("assertion failed: there is no pending request ID "+e)}if(this.oPendingRequests[e]==1){delete this.oPendingRequests[e]}else{--this.oPendingRequests[e]}};b.prototype._cleanupGroupingForCompletedRequest=function(e){if(this._isRequestPending(e)){return false}var t=true;if(this.oGroupedRequests[e]!=undefined){for(var i in this.oGroupedRequests[e]){if(this.oPendingRequests[i]){t=false;break}}}if(t){var r=this.oGroupedRequests[e];delete this.oGroupedRequests[e];for(var s in r){if(s!=e){this._cleanupGroupingForCompletedRequest(s)}}}return t};b.prototype._getKeyIndexMapping=function(e,t){var i,r,s,n=this.mKeyIndex[e],a={sGroupId:e,iIndex:t,iServiceKeyIndex:t},o=this.mServiceKey[e];if(n!==undefined){if(n[t]!==undefined){a.iServiceKeyIndex=n[t]==="ZERO"?0:Math.abs(n[t]);return a}r=t;if(r>0){while(--r>0){if(n[r]!==undefined){break}}}if(r==0){s=0}else{if(n[r]>=0){s=n[r]}else if(n[r+1]===undefined){s=-n[r];while(o[s+1]!==undefined){++s}}else{s=Math.abs(n[r+1])-1}if(o[s]===undefined){I.fatal("assertion failed: no service key at iLastOccupiedServiceKeyIndex = "+s)}}i=t-r;a.iServiceKeyIndex=s+i}return a};b.prototype._moveKeyIndexMapping=function(e,t){return this._getKeyIndexMapping(e.sGroupId,e.iIndex+t)};b.prototype._getKey=function(e,t){var i=this.mKeyIndex[e][t];if(i===undefined){return undefined}if(i>=0){return this.mServiceKey[e][i]}if(this.mMultiUnitKey[e]===undefined){I.fatal("assertion failed: missing expected multi currency key for group with ID "+e);return null}var r=this.mMultiUnitKey[e][t];if(r===undefined){I.fatal("assertion failed: missing expected multi currency key for group with ID "+e+" at pos "+t);return null}return r};b.prototype._getKeys=function(e){if(this.mKeyIndex[e]===undefined){return undefined}var t=this;return function(i){return t._getKey(e,i)}};b.prototype._getServiceKeys=function(e,t){var i=this.mKeyIndex[e];if(i===undefined){return undefined}var r=this.mServiceKey[e],s=i[t];if(s===undefined){return undefined}if(s>=0){return[r[s]]}var n=[];if(i[t+1]===undefined){s=i[t]=="ZERO"?0:-i[t];while(r[s]!==undefined){n.push(r[s++])}}else{s=i[t]=="ZERO"?0:-i[t];for(var a=s,o=Math.abs(i[t+1]);a<o;a++){n.push(r[a])}}return n};b.prototype._getKeyCount=function(e){if(this.mKeyIndex[e]===undefined){return undefined}return this.mKeyIndex[e].length};b.prototype._findKeyIndex=function(e,t){var i=this.mKeyIndex[e];var r=this.mServiceKey[e];var s=this.mMultiUnitKey[e];for(var n=0;n<this.mLength[e];n++){if(i[n]<0||i[n]==="ZERO"){if(s[n]==t){return n}}else if(r[i[n]]==t){return n}}return-1};b.prototype._setServiceKey=function(e,t){if(!this.mServiceKey[e.sGroupId]){this.mServiceKey[e.sGroupId]=[]}if(!this.mKeyIndex[e.sGroupId]){this.mKeyIndex[e.sGroupId]=[]}var i=this.mServiceKey[e.sGroupId][e.iServiceKeyIndex]===undefined;this.mServiceKey[e.sGroupId][e.iServiceKeyIndex++]=t;this.mKeyIndex[e.sGroupId][e.iIndex++]=e.iServiceKeyIndex-1;return i};b.prototype._setAdjacentMultiUnitKeys=function(e,t,i){if(!this.mServiceKey[e.sGroupId]){this.mServiceKey[e.sGroupId]=[]}if(!this.mKeyIndex[e.sGroupId]){this.mKeyIndex[e.sGroupId]=[]}if(!this.mMultiUnitKey[e.sGroupId]){this.mMultiUnitKey[e.sGroupId]=[]}--e.iIndex;--e.iServiceKeyIndex;this.mMultiUnitKey[e.sGroupId][e.iIndex]=this.oModel._getKey(t.oEntry);this.mKeyIndex[e.sGroupId][e.iIndex++]=e.iServiceKeyIndex>0?-e.iServiceKeyIndex:"ZERO";var r=0;for(var s=0;s<i.length;s++){if(!this.mServiceKey[e.sGroupId][e.iServiceKeyIndex]){++r}this.mServiceKey[e.sGroupId][e.iServiceKeyIndex++]=this.oModel._getKey(i[s])}return r};b.prototype._mergeLoadedKeyIndexWithSubsequentIndexes=function(e,t,i,r){var s,n=this.mKeyIndex[e.sGroupId],a=this.mServiceKey[e.sGroupId],o=this.mMultiUnitKey[e.sGroupId],u=0,l=e.iServiceKeyIndex,d=e.iIndex;var h,p;if(n===undefined){return u}var f=false;var g=a[l-1],y=a[l];if(y===undefined){return u}if(g===undefined){I.fatal("assertion failed: missing expected entry before given key index");return u}var c=this.oModel.getObject("/"+g);var v=this.oModel.getObject("/"+y);var m="",_="";for(var R=0;R<t.length;R++){m+=b._getDimensionValue(c[t[R]])+"|";_+=b._getDimensionValue(v[t[R]])+"|"}f=m==_;var M=d;if(M>=this.mLength[e.sGroupId]){I.fatal("assertion failed: service key exists,but no corresponding key index found");return u}while(n[M]===undefined||Math.abs(n[M])<l){++M}if(f){if(Math.abs(n[M])==l&&n[M]<0){if(M>d){if(n[d-1]<0){o[M]=undefined;n.splice(d,M-d+1);o.splice(d,M-d+1)}else{n[d-1]=-n[d-1];o[d-1]=o[M];o[M]=undefined;n.splice(d,M-d+1);o.splice(d,M-d+1);u=1}}}else if(Math.abs(n[M])>l){var q=M-1;if(n[q]>0){s=b._getDeviatingUnitPropertyNames(i,[c,v]);h=this._createMultiUnitRepresentativeEntry(e.sGroupId,c,i,s,r);p=this.oModel._getKey(h.oEntry);n[q]=-n[q];o[q]=p;if(q>d){n.splice(d,q-d);o.splice(d,q-d)}if(h.bIsNewEntry){u=1}else{u=0}}else if(n[d-1]<0){if(M>d){o[q]=undefined;n.splice(d,q-d+1);o.splice(d,q-d+1)}}else{n[d-1]=-n[d-1];o[d-1]=o[q];o[q]=undefined;n.splice(d,q-d+1);o.splice(d,q-d+1)}}else if(n[M]==l){if(M>d){if(n[d-1]<0){n.splice(d,M-d+1);o.splice(d,M-d+1);u=1}else{s=b._getDeviatingUnitPropertyNames(i,[c,v]);h=this._createMultiUnitRepresentativeEntry(e.sGroupId,c,i,s,r);p=this.oModel._getKey(h.oEntry);if(!h.bIsNewEntry){I.fatal("assertion failed: multi-unit entry already existed before")}n[d-1]=-n[d-1];o[d-1]=p;n.splice(d,M-d+1);o.splice(d,M-d+1);u=1}}}else{I.fatal("assertion failed: uncovered case detected");return u}}else if(n[M]>l){I.fatal("unstable query result for group ID "+e.sGroupId+": entries have been removed or added. Complete reload required")}else if(M-d>0){n.splice(d,M-d);o.splice(d,M-d)}return u};b.prototype._createMultiUnitRepresentativeEntry=function(e,t,i,s,n){var a=r({},t);var o=[];for(var u in this.oMeasureDetailsSet){var l=this.oMeasureDetailsSet[u];if(!n&&this._isSkippingTotalForMeasure(u)){if(l.rawValuePropertyName!=undefined){a[l.rawValuePropertyName]=undefined}if(l.formattedValuePropertyName!=undefined){a[l.formattedValuePropertyName]=undefined}}else{if(l.rawValuePropertyName!=undefined){a[l.rawValuePropertyName]=null}if(l.formattedValuePropertyName!=undefined){a[l.formattedValuePropertyName]="*"}}if(s){if(!l.unitPropertyName||s.indexOf(l.unitPropertyName)==-1){o.push(l.rawValuePropertyName||l.name)}}}for(var d=0;d<i.length;d++){if(s.indexOf(i[d])!=-1){a[i[d]]="*"}}var h="";for(var p=0;p<this.aAllDimensionSortedByName.length;p++){var f=b._getDimensionValue(a[this.aAllDimensionSortedByName[p]]);var g=f===""?'""':f;g=g===undefined?"":g;h+=encodeURIComponent(g)+","}h+="-multiple-units-not-dereferencable|"+this._iId;var y;if(this.mMultiUnitKey[e]&&(y=this.mMultiUnitKey[e].indexOf(h))!=-1){return{oEntry:this.oModel.getObject("/"+h),bIsNewEntry:false,iIndex:y,aReloadMeasurePropertyName:o}}a.__metadata.uri=h;delete a.__metadata["self"];delete a.__metadata["self_link_extensions"];a["^~volatile"]=true;this.oModel._importData(a,{},{});var c=this.oModel._getKey(a);this.oModel.getContext("/"+c)["_volatile"]=true;return{oEntry:a,bIsNewEntry:true,aReloadMeasurePropertyName:o}};b.prototype._clearAllPendingRequests=function(){this.oPendingRequests={};this.oGroupedRequests={}};b.prototype.resetData=function(e){var t=e?e.getPath():undefined;this._resetData(t)};b.prototype._resetData=function(e){if(e){delete this.mServiceKey[e];delete this.mServiceLength[e];delete this.mServiceFinalLength[e];delete this.mKeyIndex[e];delete this.mLength[e];delete this.mMultiUnitKey[e];delete this.mEntityKey[e]}else{this.mServiceKey={};this.mServiceLength={};this.mServiceFinalLength={};this.mFinalLength=this.mServiceFinalLength;this.mKeyIndex={};this.mLength={};this.mMultiUnitKey={};this.mEntityKey={};this.aBatchRequestQueue=[]}};b.prototype.refresh=function(e){b.prototype._refresh.apply(this,arguments)};b.prototype._refresh=function(e,t,i){var r=false;if(!e){if(i){var n=this.getResolvedPath();var a=this.oModel.oMetadata._getEntityTypeByPath(n);if(a&&a.entityType in i){r=true}}if(t&&!r){s(this.mServiceKey,function(e,i){s(i,function(e,i){if(i in t){r=true;return false}return true});if(r){return false}return true})}if(!t&&!i){r=true}}if(e||r){this.iTotalSize=-1;this._abortAllPendingRequests();this.resetData();this.bNeedsUpdate=false;this._fireRefresh({reason:u.Refresh})}};b.prototype.checkUpdate=function(e,t){var i=false;if(!e){if(this.bNeedsUpdate||!t){i=true}else{s(this.mServiceKey,function(e,r){s(r,function(e,r){if(r in t){i=true;return false}return true});if(i){return false}return true})}}if(e||i){this.bNeedsUpdate=false;this._fireChange({reason:u.Change})}};b.prototype.getDownloadUrl=function(e){var i,r,s;var n=new t.QueryResultRequest(this.oAnalyticalQueryResult);n.setResourcePath(this._getResourcePath());var a=[];var o=[];for(var u in this.oDimensionDetailsSet){a.push(u)}n.setAggregationLevel(a);for(var l in this.oDimensionDetailsSet){var d=this.oDimensionDetailsSet[l];var h=d.textPropertyName!=undefined;n.includeDimensionKeyTextAttributes(d.name,true,h,d.aAttributeName)}for(var p in this.oMeasureDetailsSet){o.push(p)}n.setMeasures(o);for(var f in this.oMeasureDetailsSet){var g=this.oMeasureDetailsSet[f];var y=g.rawValuePropertyName!=undefined;var c=g.formattedValuePropertyName!=undefined;var v=g.unitPropertyName!=undefined;n.includeMeasureRawFormattedValueUnit(g.name,y,c,v)}var m=n.getSortExpression();m.clear();for(var _=0;_<this.aSorter.length;_++){if(this.aSorter[_]){m.addSorter(this.aSorter[_].sPath,this.aSorter[_].bDescending?t.SortOrder.Descending:t.SortOrder.Ascending)}}var I=n.getFilterExpression();I.clear();if(this.aApplicationFilter){I.addUI5FilterConditions(this.aApplicationFilter)}if(this.aControlFilter){I.addUI5FilterConditions(this.aControlFilter)}var R=n.getURIToQueryResultEntitySet();var M=this._getQueryODataRequestOptions(n,true);if(!M){return undefined}var q=[];for(var b=0,x=this.aAnalyticalInfo.length;b<x;b++){var S=this.aAnalyticalInfo[b];if((S.visible||S.inResult)&&S.name!==""&&S.name!==q[q.length-1]){q.push(S.name);if(this.oMeasureDetailsSet[S.name]!=undefined&&this.oMeasureDetailsSet[S.name].unitPropertyName!=undefined){q.push(this.oMeasureDetailsSet[S.name].unitPropertyName)}}}for(var A=0,P=M.length;A<P;A++){if(/^\$select/i.test(M[A])){if(this.mParameters.select){i=M[A].slice(8).split(",");for(s=0;s<i.length;s++){r=i[s];if(q.indexOf(r)===-1){q.push(r)}}}M[A]="$select="+q.join(",");break}}if(e){M.splice(0,0,"$format="+encodeURIComponent(e))}if(this.sCustomParams){M.push(this.sCustomParams)}if(R){return this.oModel._createRequestUrl(R,null,M).replace(/ /g,"%20")}return undefined};b.prototype._addSorters=function(e,t){if(this._canApplySortersToGroups()){this.aSorter.forEach(t=>{b._addSorter(t,e)});t.forEach(t=>{b._addSorter(t,e,true)});return}this._mergeAndAddSorters(t,e)};b._addSorter=function(e,i,r){i.addSorter(e.sPath,e.bDescending?t.SortOrder.Descending:t.SortOrder.Ascending,r)};b.prototype._mergeAndAddSorters=function(e,t){const i=this.aSorter.slice();e.forEach(e=>{const r=e.sPath;for(let e=0;e<i.length;e+=1){const s=i[e];const n=s.sPath;if(n===r||this.oDimensionDetailsSet[r].textPropertyName===n){b._addSorter(s,t);i.splice(e,1);break}}b._addSorter(e,t,true)});i.forEach(e=>{b._addSorter(e,t,true)})};b.prototype._canApplySortersToGroups=function(){var e=this._autoExpandMode;if(this.bApplySortersToGroups){if(this.aSorter.length>0){if(e!==this.sLastAutoExpandMode&&e!==g.Sequential){I.warning("Applying sorters to groups is only possible with auto"+" expand mode 'Sequential'; current mode is: "+e,this.sPath)}this.sLastAutoExpandMode=e}return e===g.Sequential}return false};b.prototype._warnNoSortingOfGroups=function(e){var t;if(this.bApplySortersToGroups){t="Detected a multi-unit case, so sorting is only possible on leaves";if(e){t+="; "+e}I.warning(t,this.sPath)}this.bApplySortersToGroups=false};b.prototype._isSkippingTotalForMeasure=function(e){var t=this.mAnalyticalInfoByProperty[e];return!!t&&t.total==false};b._updateDimensionDetailsTextProperty=function(e,t,i){const r=e.getTextProperty();if(r&&r.name===t){i.textPropertyName=t;return true}return false};b._getDimensionValue=function(e){if(e&&e.__edmType==="Edm.Time"){e=e.ms}return e};b._getDeviatingUnitPropertyNames=function(e,t){var i=[];e.forEach(function(e){for(var r=1;r<t.length;r+=1){if(t[r-1][e]!=t[r][e]){i.push(e);break}}});return i};b.Logger=I;return b});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/AnalyticalTreeBindingAdapter", ["./AnalyticalBinding","sap/base/assert","sap/base/Log","sap/base/util/each","sap/ui/model/ChangeReason","sap/ui/model/TreeAutoExpandMode","sap/ui/model/TreeBinding","sap/ui/model/TreeBindingAdapter","sap/ui/model/odata/ODataTreeBindingAdapter"],function(e,t,o,n,a,i,r,s,d){"use strict";var l=function(){if(!(this instanceof r)||this._bIsAdapted){return}d.apply(this);for(var e in l.prototype){if(l.prototype.hasOwnProperty(e)){this[e]=l.prototype[e]}}this.setAutoExpandMode(this.mParameters.autoExpandMode||i.Bundled)},u="sap.ui.model.analytics.AnalyticalTreeBindingAdapter";l.prototype.getGrandTotalContext=function(){return this._oRootNode&&this._oRootNode.context};l.prototype.getGrandTotalNode=function(){return this._oRootNode};l.prototype.getGrandTotalContextInfo=function(){return this._oRootNode};l.prototype.getLength=function(){if(!this._oRootNode){return 0}return this._oRootNode.magnitude+this._oRootNode.numberOfTotals+(this._oWatermark?1:0)};l.prototype.getContextByIndex=function(e){if(this._oRootNode&&e===this.getLength()-1&&this.providesGrandTotal()&&this.hasTotaledMeasures()){return this._oRootNode.context}var t=this.findNode(e);if(!t||!t.context){t={context:this.getContexts(e,1,0)[0]}}return t?t.context:undefined};l.prototype.getNodeByIndex=function(e){if(e===this.getLength()-1&&this.providesGrandTotal()&&this.hasTotaledMeasures()){return this._oRootNode}if(e>=this.getLength()){return undefined}return this.findNode(e)};l.prototype._isNodeSelectable=function(e){if(!e){return false}return e.isLeaf&&!e.isArtificial};l.prototype._getContextsOrNodes=function(e,t,o,a){var i,r,s,d,l=[],u=[],h=this;if(!this.isResolved()){return u}t=t||0;o=o||this.oModel.iSizeLimit;a=a||0;this._iPageSize=o;this._iThreshold=Math.max(this._iThreshold,a);this._aRowIndexMap=[];this._buildTree(t,o);if(this._oRootNode){u=this._retrieveNodeSection(this._oRootNode,t,o)}this._updateRowIndexMap(u,t);if(this._oWatermark){for(i=0;i<u.length;i+=1){if(u[i].absoluteNodeIndex>this._oWatermark.lastWatermarkNodeIndex){u.length=i+1;break}}if(u.length<o){this._autoExpandPaging()}}for(i=0;i<u.length;i++){s=u[i];if(!s.context){r=r||{};d=s.parent;r[d.groupID]=d;this._updateNodeSections(d.groupID,{startIndex:s.positionInParent,length:1})}l.push(s.context)}if(r){n(r,function(e,t){t.magnitude=0;t.numberOfTotals=0;h._loadChildContexts(t,{absoluteNodeIndex:t.absoluteNodeIndex})});l=[];for(i=0;i<u.length;i+=1){s=u[i];l.push(s.context)}}if(e){return u}else{return l}};l.prototype._autoExpandPaging=function(){t(this._oWatermark,"No watermark was set!");t(this._isRunningInAutoExpand(i.Bundled),"Optimised AutoExpand Paging can only be used with TreeAutoExpandMode.Bundled!");var e=this.getNodeContexts(this._oWatermark.context,{startIndex:this._oWatermark.startIndex,length:this._iPageSize,threshold:this._iThreshold,level:this._oWatermark.level,numberOfExpandedLevels:this._oWatermark.autoExpand});return e};l.prototype._afterMatchHook=function(e,t,o,n,a,i){if(e.sumNode&&e!==this._oRootNode){if(t.length===o){return true}var r=n.call(this,e.sumNode,e.sumNode.positionInParent,i);if(r){t.push(e.sumNode)}}return undefined};l.prototype._afterMapHook=function(e,t){if(e.sumNode&&e!==this._oRootNode){t.call(this,e.sumNode)}};l.prototype._createSumNode=function(e){var t;if(this.bProvideGrandTotals&&!this.mParameters.sumOnTop&&this.hasTotaledMeasures()&&e.children.length>1){t=this._createNode({parent:e.parent,positionInParent:e.children.length,context:e.context,level:e.level});t.nodeState=this._createNodeState({groupID:t.groupID,sum:true,expanded:false})}return t};l.prototype._buildTree=function(e,t){this._oRootNode=undefined;this._oWatermark=undefined;var n=this.mParameters&&this.getNumberOfExpandedLevels();var a=this.getRootContexts({startIndex:0,length:this._iPageSize,threshold:this._iThreshold,numberOfExpandedLevels:this._autoExpandMode===i.Bundled?n:undefined});var r;if(a==null){o.warning("AnalyticalTreeBindingAdapter: No Dimensions given. An artificial rootContext has be created. Please check your Table/Service definition for dimension columns!")}else{r=a[0]}if(!r){return}var s=this._getNodeState("/");if(!s){s=this._updateTreeState({groupID:"/",expanded:true,sum:true});this._updateNodeSections("/",{startIndex:0,length:t})}this._oRootNode=this._createNode({context:r,parent:null,level:0,nodeState:s,isLeaf:false,autoExpand:n,absoluteNodeIndex:-1});this._oRootNode.isArtificial=true;this._loadChildContexts(this._oRootNode,{absoluteNodeIndex:-1})};l.prototype._loadChildContexts=function(e,t){var n=e.nodeState;const a=this._isRunningInAutoExpand(i.Bundled);var r=this.getGroupSize(e.context,e.level);if(r>=0){if(!e.children[r-1]){e.children[r-1]=undefined}if(e.level===this.aAggregationLevel.length){n.leafCount=r}e.sumNode=this._createSumNode(e)}for(var s=0;s<n.sections.length;s++){var d=n.sections[s];if(d.startIndex>e.children.length){continue}var l;if(r===-1){l=d.length}else{l=Math.min(d.length,r-d.startIndex)}var h=false;if(e.autoExpand>=0&&a){h=true;l=Math.max(0,r)}var p=this.getNodeContexts(e.context,{startIndex:d.startIndex,length:l,threshold:h?0:this._iThreshold,level:e.level,supressRequest:h});for(var f=0;f<p.length;f++){var g=p[f];var c=f+d.startIndex;var x=e.children[c];var m={context:p[f],parent:e,level:e.level+1,positionInParent:c,autoExpand:Math.max(e.autoExpand-1,-1),absoluteNodeIndex:++t.absoluteNodeIndex};if(x){x.context=m.context;x.parent=m.parent;x.level=m.level;x.positionInParent=m.positionInParent;x.magnitude=0;x.numberOfTotals=0;x.totalNumberOfLeafs=0;x.autoExpand=m.autoExpand;x.absoluteNodeIndex=m.absoluteNodeIndex;var _;if(g){_=this._calculateGroupID(x)}x.groupID=_}else{x=this._createNode(m)}x.nodeState=this._getNodeState(x.groupID);if(!x.nodeState){x.nodeState=this._createNodeState({groupID:x.groupID,expanded:false})}x.nodeState.parentGroupID=e.groupID;x.isLeaf=!this.nodeHasChildren(x);e.children[c]=x;if(x.isLeaf){e.numberOfLeafs+=1}if(x.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[x.groupID]&&x.isLeaf){this.setNodeSelection(x.nodeState,true)}if((x.autoExpand>=0||x.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[x.groupID]){if(x.autoExpand>=0&&x.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[x.groupID]){if(x.nodeState.selectAllMode===undefined){x.nodeState.selectAllMode=true}}this._updateTreeState({groupID:x.nodeState.groupID,fallbackNodeState:x.nodeState,expanded:true});this._loadChildContexts(x,t)}e.magnitude+=x.magnitude;e.numberOfTotals+=x.numberOfTotals;e.numberOfLeafs+=x.numberOfLeafs}if(x&&x.isLeaf){e.totalNumberOfLeafs=r}else{e.totalNumberOfLeafs+=x.totalNumberOfLeafs}}}r=a?e.children.length:r;e.magnitude+=Math.max(r||0,0);if(!r&&!a){o.warning("AnalyticalTreeBindingAdapter: iMaxGroupSize("+r+") is undefined for node '"+e.groupID+"'!")}if(e.sumNode||e===this._oRootNode&&this.providesGrandTotal()&&this.hasTotaledMeasures()){e.numberOfTotals+=1}if(a&&e.autoExpand!=-1){if(!this._oWatermark&&!e.isLeaf&&!this.mFinalLength[e.groupID]){const t=this._getIndexBeforeFirstMissingNode(e);let n=e.children.length;let a="WATERMARK: at '"+e.groupID+"' ("+e.absoluteNodeIndex+") and start index "+n+" with last complete node index "+t;if(n===0){n=e.positionInParent;e=e.parent;a+=" --\x3e moved to '"+e.groupID+"' ("+e.absoluteNodeIndex+") and start index "+n}this._oWatermark={groupID:e.groupID,context:e.context,absoluteNodeIndex:e.absoluteNodeIndex,startIndex:n,level:e.level,autoExpand:e.autoExpand,lastWatermarkNodeIndex:t};o.debug(a,undefined,u)}}};l.prototype._getIndexBeforeFirstMissingNode=function(e){let t=e.absoluteNodeIndex;e.children.some(e=>{t=e.isLeaf?e.absoluteNodeIndex:this._getIndexBeforeFirstMissingNode(e);return!e.isLeaf&&!this.mFinalLength[e.groupID]});return t};l.prototype._calculateGroupID=function(e){var o;var n=this.aAggregationLevel.length;if(!this.isGrouped()&&e&&e.positionInParent){o="/"+e.positionInParent+"/"}else if(e.level>n){o=this._getGroupIdFromContext(e.context,n);t(e.positionInParent!=undefined,"If the node level is greater than the number of grouped columns, the position of the node to its parent must be defined!");o+=e.positionInParent+"/"}else{o=this._getGroupIdFromContext(e.context,e.level)}return o};l.prototype.collapse=function(e){var o,r;if(typeof e==="object"){o=e}else if(typeof e==="number"){r=this.findNode(e);t(r&&r.nodeState,"AnalyticalTreeBindingAdapter.collapse("+e+"): No node found!");if(!r){return}o=r.nodeState}this._updateTreeState({groupID:o.groupID,expanded:false});o.selectAllMode=false;var s=false;if(this.bCollapseRecursive||this._isRunningInAutoExpand(i.Bundled)){var d=o.groupID;if(this._isRunningInAutoExpand(i.Bundled)&&this._oWatermark&&(typeof d=="string"&&d.length>0&&this._oWatermark.groupID.startsWith(d))){if(r&&r.parent){const e=r.parent.children[r.positionInParent+1];this._oWatermark={groupID:r.parent.groupID,context:r.parent.context,absoluteNodeIndex:r.parent.absoluteNodeIndex,startIndex:r.positionInParent+1,level:r.parent.level,autoExpand:r.parent.autoExpand,lastWatermarkNodeIndex:this._getIndexBeforeFirstMissingNode(e??r)}}this._autoExpandPaging();s=true}var l=this;n(this._mTreeState.expanded,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){l._updateTreeState({groupID:e,expanded:false})}});var u=[];n(this._mTreeState.selected,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){t.selectAllMode=false;l.setNodeSelection(t,false);u.push(e)}});if(u.length){var h={rowIndices:[]};var p=0;this._map(this._oRootNode,function(e){if(!e||!e.isArtificial){p++}if(e&&u.indexOf(e.groupID)!==-1){if(e.groupID===this._sLeadSelectionGroupID){h.oldIndex=p;h.leadIndex=-1}h.rowIndices.push(p)}});this._publishSelectionChanges(h)}}if(!s){this._fireChange({reason:a.Collapse})}};l.prototype.collapseToLevel=function(e){this.setNumberOfExpandedLevels(e,true);s.prototype.collapseToLevel.call(this,e)};l.prototype.nodeHasChildren=function(o){t(o,"AnalyticalTreeBindingAdapter.nodeHasChildren: No node given!");if(!o||!o.parent||o.nodeState.sum){return false}else if(o.isArtificial){return true}else{return e.prototype.hasChildren.call(this,o.context,{level:o.level})}};l.prototype.resetData=function(t,o){var n=e.prototype.resetData.call(this,t,o);this._aRowIndexMap=[];this._oRootNode=undefined;this._oWatermark=undefined;this._iPageSize=0;this._iThreshold=0;if(!o||o.reason!==a.Sort){this.clearSelection();this._createTreeState(true)}return n};l.prototype.hasTotaledMeasures=function(){var e=false;n(this.getMeasureDetails()||[],function(t,o){if(o.analyticalInfo.total){e=true;return false}return true});return e};l.prototype.isGrouped=function(){return this.aAggregationLevel.length>0};l.prototype._isRunningInAutoExpand=function(e){if(this.getNumberOfExpandedLevels()>0&&this._autoExpandMode===e){return true}else{return false}};l.prototype.setNumberOfExpandedLevels=function(e,t){var n;e=e||0;if(e<0){o.warning("Number of expanded levels was set to 0. Negative values are prohibited",this,u);e=0}n=this.aAggregationLevel.length;if(e>n){o.warning("Number of expanded levels was reduced from "+e+" to "+n+" which is the number of grouped dimensions",this,u);e=n}if(!t){this.resetData()}this.mParameters.numberOfExpandedLevels=e};l.prototype.getNumberOfExpandedLevels=function(){return this.mParameters.numberOfExpandedLevels};l.prototype._getSelectableNodesCount=function(e){if(e){return e.totalNumberOfLeafs}else{return 0}};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/AnalyticalVersionInfo", ["sap/base/Log"],function(a){"use strict";var e={NONE:null,V1:1,V2:2,getVersion:function(e){var t;var i;if(e&&e.getMetadata){i=e.getMetadata().getName()}switch(i){case"sap.ui.model.odata.ODataModel":t=this.V1;break;case"sap.ui.model.odata.v2.ODataModel":t=this.V2;break;default:t=this.NONE;a.info("AnalyticalVersionInfo.getVersion(...) - The given object is no"+" instance of ODataModel V1 or V2!");break}return t}};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/BatchResponseCollector", function(){"use strict";function e(e){if(e){this.setup(e)}}e.TYPE_SUCCESS="success";e.TYPE_ERROR="error";e.prototype.setup=function(e){this.iRequestCollectionCount=0;this.aCollectedSuccesses=[];this.aCollectedErrors=[];this.aExecutedRequestDetails=e.executedRequests;this.oAnalyticalBinding=e.binding;this.fnSuccessHandler=e.success;this.fnErrorHandler=e.error};e.prototype.success=function(t){this.collect(t,e.TYPE_SUCCESS)};e.prototype.error=function(t){this.collect(t,e.TYPE_ERROR)};e.prototype.collect=function(t,s){this.iRequestCollectionCount++;if(s===e.TYPE_SUCCESS){this.aCollectedSuccesses.push(t)}else{this.aCollectedErrors.push(t)}var c=this.aCollectedSuccesses.length+this.aCollectedErrors.length;if(c===this.aExecutedRequestDetails.length){if(this.aCollectedSuccesses.length===c&&this.aCollectedErrors.length===0){this.fnSuccessHandler.call(window,{__batchResponses:this.aCollectedSuccesses},{requestUri:this.oAnalyticalBinding.oModel.sServiceUrl+"/$batch"})}else{this.fnErrorHandler.call(window,this.aCollectedErrors[0]||{})}}};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/ODataModelAdapter", ["./AnalyticalBinding","./AnalyticalTreeBindingAdapter","./odata4analytics","sap/base/Log"],function(t,e,n,a){"use strict";var i=function(){const e=t._getModelVersion(this);if(e===null||this.getAnalyticalExtensions){return}this._mPreadapterFunctions={bindList:this.bindList,bindTree:this.bindTree};for(var n in i.prototype){if(i.prototype.hasOwnProperty(n)){this[n]=i.prototype[n]}}if(e===1&&this.isCountSupported()){a.info("ODataModelAdapter: switched ODataModel to use inlinecount (mandatory for the AnalyticalBinding)");this.setCountSupported(false)}};i.prototype.bindList=function(n,a,i,o,s){if(s&&s.analyticalInfo){var r=new t(this,n,a,i,o,s);e.apply(r);return r}else{return this._mPreadapterFunctions.bindList.apply(this,arguments)}};i.prototype.bindTree=function(e,n,a,i){if(i&&i.analyticalInfo){var o=new t(this,e,n,[],a,i);return o}else{return this._mPreadapterFunctions.bindTree.apply(this,arguments)}};i.prototype.getAnalyticalExtensions=function(){if(this.oOData4SAPAnalyticsModel!=undefined&&this.oOData4SAPAnalyticsModel!=null){return this.oOData4SAPAnalyticsModel}const e=t._getModelVersion(this);if(e===2&&!(this.oMetadata&&this.oMetadata.isLoaded())){throw new Error("Failed to get the analytical extensions. The metadata have not been loaded by the model"+" yet. Register for the 'metadataLoaded' event of the ODataModel(v2) to know when the analytical"+" extensions can be retrieved.")}try{this.oOData4SAPAnalyticsModel=new n.Model(new n.Model.ReferenceByModel(this))}catch(t){throw new Error("Failed to instantiate analytical extensions for given OData model: "+(t.message||t))}return this.oOData4SAPAnalyticsModel};i.prototype.setAnalyticalExtensions=function(t){this.oOData4SAPAnalyticsModel=t};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/analytics/odata4analytics", ["sap/base/security/encodeURL","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/model/odata/ODataUtils"],function(e,t,r,i,n){"use strict";var o=o||{},a=/^\d+$/;o.constants={};o.constants["SAP_NAMESPACE"]="http://www.sap.com/Protocols/SAPData";o.constants["VERSION"]="0.7";o.helper={deepEqual:function(e,t,r){var i,n,o=0,a,s;if(!e||e.length!==t.length){return 2}if(e!==t){for(a=0,s=e.length;a<s;a+=1){n=e[a];i=t[a];if(n.grouped!==i.grouped||n.inResult!==i.inResult||n.level!==i.level||n.name!==i.name||n.total!==i.total||n.visible!==i.visible){return 2}if(n.formatter!==i.formatter){o=1;if(r){r(i)}}}}return o},tokenizeNametoLabelText:function(e){var t="";t=e.replace(/^P_(.*)/,"$1");t=t.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");t=t.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");t=t.replace(/(.*) _E$/,"$1");t=t.replace(/(.*) _(.*)/g,"$1 $2");return t}};o.Model=function(e,t){this._init(e,t)};o.Model.ReferenceByURI=function(e){return{sServiceURI:e}};o.Model.ReferenceByModel=function(e){return{oModel:e}};o.Model.ReferenceWithWorkaround=function(e,t){return{oModelReference:e,aWorkaroundID:t}};o.Model.prototype={_init:function(e,t){var r,i=this;if(typeof t=="string"){throw"Deprecated second argument: Adjust your invocation by passing an object with a property sAnnotationJSONDoc as a second argument instead"}this._mParameter=t;this._oActivatedWorkarounds={};if(e&&e.aWorkaroundID){for(var n=-1,o;(o=e.aWorkaroundID[++n])!==undefined;){this._oActivatedWorkarounds[o]=true}e=e.oModelReference}if(!e||!e.sServiceURI&&!e.oModel){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel"}if(e.oModel){this._oModel=e.oModel;a()}if(e.sServiceURI){if(t&&t.modelVersion===2){r=sap.ui.require("sap/ui/model/odata/v2/ODataModel")||sap.ui.requireSync("sap/ui/model/odata/v2/ODataModel");this._oModel=new r(e.sServiceURI);a()}else{r=sap.ui.require("sap/ui/model/odata/ODataModel")||sap.ui.requireSync("sap/ui/model/odata/ODataModel");this._oModel=new r(e.sServiceURI);a()}}if(this._oModel.getServiceMetadata()&&this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded"}function a(){if(!i._oModel.getServiceMetadata()){i._oModel.attachMetadataLoaded(s)}else{s()}}function s(){if(i.bIsInitialized){return}i.bIsInitialized=true;if(t&&t.sAnnotationJSONDoc){i.mergeV2Annotations(t.sAnnotationJSONDoc)}i._interpreteMetadata(i._oModel.getServiceMetadata().dataServices)}},_interpreteMetadata:function(e){this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};var t=this._oModel.getServiceMetadata().dataServices.schema[0];for(var r=-1,i;(i=t.entityContainer[++r])!==undefined;){if(i.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=i;break}}var n=t.entityType;var a=[],s=[],u=[];for(var l=-1,h;(h=n[++l])!==undefined;){var f=false;if(h.extensions!=undefined){for(var y=-1,p;(p=h.extensions[++y])!==undefined;){if(p.namespace==o.constants.SAP_NAMESPACE&&p.name=="semantics"){f=true;switch(p.value){case"aggregate":a.push(h);break;case"parameters":s.push(h);break;default:u.push(h)}}if(f){continue}}if(!f){u.push(h)}}else{u.push(h)}}for(var d=-1,_;(_=u[++d])!==undefined;){var m=new o.EntityType(this._oModel.getServiceMetadata(),t,_);this._oEntityTypeSet[m.getQName()]=m;var c=this._getEntitySetsOfType(t,m.getQName());if(c.length==0){throw"Invalid consumption model: No entity set for entity type "+m.getQName()+" found"}if(c.length>1){throw"Unsupported consumption model: More than one entity set for entity type "+m.getQName()+" found"}var g=new o.EntitySet(this._oModel.getServiceMetadata(),t,c[0][0],c[0][1],m);this._oEntitySetSet[g.getQName()]=g;this._oEntityTypeNameToEntitySetMap[m.getQName()]=g}var v={};for(var P=-1,S;(S=s[++P])!==undefined;){var E=new o.EntityType(this._oModel.getServiceMetadata(),t,S);this._oEntityTypeSet[E.getQName()]=E;var N=this._getEntitySetsOfType(t,E.getQName());if(N.length==0){throw"Invalid consumption model: No entity set for parameter entity type "+E.getQName()+" found"}if(N.length>1){throw"Unsupported consumption model: More than one entity set for parameter entity type "+E.getQName()+" found"}var b=new o.EntitySet(this._oModel.getServiceMetadata(),t,N[0][0],N[0][1],E);this._oEntitySetSet[b.getQName()]=b;this._oEntityTypeNameToEntitySetMap[E.getQName()]=b;var R=new o.Parameterization(E,b);this._oParameterizationSet[R.getName()]=R;v[E.getQName()]=R;var x=E.getQName();if(t.association!=undefined){for(var T=-1,A;(A=t.association[++T])!==undefined;){if(A.referentialConstraint==undefined){continue}var M=null;if(A.end[0].type==x&&A.end[0].multiplicity=="*"&&A.end[1].multiplicity=="1"){M=A.end[1].type}else if(A.end[1].type==x&&A.end[1].multiplicity=="*"&&A.end[0].multiplicity=="1"){M=A.end[0].type}if(!M){continue}if(A.referentialConstraint.dependent.propertyRef.length!=1){continue}var I=R.findParameterByName(A.referentialConstraint.dependent.propertyRef[0].name);if(I==null){continue}var Q=this._oEntityTypeSet[M];var F=this._oEntityTypeNameToEntitySetMap[M];I.setValueSetEntity(Q,F)}}}for(var D=-1,U;(U=a[++D])!==undefined;){var k=new o.EntityType(this._oModel.getServiceMetadata(),t,U);this._oEntityTypeSet[k.getQName()]=k;var w=k.getQName();var O=null;var V=null;if(t.association!=undefined){for(var L=-1,C;(C=t.association[++L])!==undefined;){var q=null;if(C.end[0].type==w){q=C.end[1].type}else if(C.end[1].type==w){q=C.end[0].type}else{continue}var B=null;B=v[q];if(B!=null){if(O!=null){throw"Unable to handle multiple parameter entity types of query entity "+k.name}else{O=B;V=C}}}}var z=this._getEntitySetsOfType(t,k.getQName());if(z.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics"}var $=new o.EntitySet(this._oModel.getServiceMetadata(),t,z[0][0],z[0][1],k);this._oEntitySetSet[$.getQName()]=$;this._oEntityTypeNameToEntitySetMap[k.getQName()]=$;var H=new o.QueryResult(this,k,$,O);this._oQueryResultSet[H.getName()]=H;if(O){O.setTargetQueryResult(H,V)}if(t.association!=undefined){for(var j=-1,K;(K=t.association[++j])!==undefined;){if(K.referentialConstraint==undefined){continue}var W=null;if(K.end[0].type==w&&K.end[0].multiplicity=="*"&&K.end[1].multiplicity=="1"){W=K.end[1].type}else if(K.end[1].type==w&&K.end[1].multiplicity=="*"&&K.end[0].multiplicity=="1"){W=K.end[0].type}if(!W){continue}if(K.referentialConstraint.dependent.propertyRef.length!=1){continue}var Z=H.findDimensionByName(K.referentialConstraint.dependent.propertyRef[0].name);if(Z==null){continue}var J=this._oEntityTypeNameToEntitySetMap[W];Z.setMembersEntitySet(J)}}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(e){var t=null;try{t=JSON.parse(e)}catch(e){return}var r;try{r=this._oModel.getServiceMetadata().dataServices}catch(e){return}for(var i in t){if(!(this.oUI5ODataModelAnnotatableObject.objectName==i)){continue}if(!(t[i]instanceof Array)){continue}this.mergeV2AnnotationLevel(r[this.oUI5ODataModelAnnotatableObject.objectName],t[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break}return},mergeV2AnnotationLevel:function(e,t,r){for(var i=-1,n;(n=t[++i])!==undefined;){for(var o=-1,a;(a=e[++o])!==undefined;){if(!(n[r.keyPropName]==a[r.keyPropName])){continue}if(n["extensions"]!=undefined){if(a["extensions"]==undefined){a["extensions"]=[]}for(var s=-1,u;(u=n["extensions"][++s])!==undefined;){var l=false;for(var h=-1,f;(f=a["extensions"][++h])!==undefined;){if(u.name==f.name&&u.namespace==f.namespace){f.value=u.value;l=true;break}}if(!l){a["extensions"].push(u)}}}for(var y=-1,p;(p=r.aSubObject[++y])!==undefined;){for(var d in n){if(!(p.objectName==d)){continue}if(!(n[p.objectName]instanceof Array)){continue}if(a[p.objectName]==undefined||!(a[p.objectName]instanceof Array)){continue}this.mergeV2AnnotationLevel(a[p.objectName],n[p.objectName],p);break}}}}return},findQueryResultByName:function(e){var t=this._oQueryResultSet[e];if(!t&&this._oDefaultEntityContainer){var r=this._oDefaultEntityContainer.name+"."+e;t=this._oQueryResultSet[r]}return t},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames}this._aQueryResultNames=new Array(0);for(var e in this._oQueryResultSet){this._aQueryResultNames.push(this._oQueryResultSet[e].getName())}return this._aQueryResultNames},getAllQueryResults:function(){return this._oQueryResultSet},getODataModel:function(){return this._oModel},_getEntitySetsOfType:function(e,t){var r=[];for(var i=-1,n;(n=e.entityContainer[++i])!==undefined;){for(var o=-1,a;(a=n.entitySet[++o])!==undefined;){if(a.entityType==t){r.push([n,a])}}}return r},_mParameter:null,_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};o.QueryResult=function(e,t,r,i){this._init(e,t,r,i)};o.QueryResult.prototype={_init:function(e,t,r,i,n){this._oModel=e;this._oEntityType=t;this._oEntitySet=r;this._oParameterization=i;this._oDimensionSet={};this._oMeasureSet={};var a=t.getTypeDescription().property;var s={};for(var u=-1,l;(l=a[++u])!==undefined;){if(l.extensions==undefined){continue}for(var h=-1,f;(f=l.extensions[++h])!==undefined;){if(!f.namespace==o.constants.SAP_NAMESPACE){continue}switch(f.name){case"aggregation-role":switch(f.value){case"dimension":{var y=new o.Dimension(this,l);this._oDimensionSet[y.getName()]=y;break}case"measure":{var p=new o.Measure(this,l);this._oMeasureSet[p.getName()]=p;break}case"totaled-properties-list":this._oTotaledPropertyListProperty=l;break;default:}break;case"attribute-for":{var d=new o.DimensionAttribute(this,l);var _=d.getKeyProperty();s[_.name]=d;break}default:}}}for(var m in s){var c=s[m];c.getDimension().addAttribute(c)}if(e._oActivatedWorkarounds.IdentifyTextPropertiesByName){var g=[];for(var v in this._oDimensionSet){var P=this._oDimensionSet[v];if(!P.getTextProperty()){var S=null;S=t.findPropertyByName(v+"Name");if(!S){S=t.findPropertyByName(v+"Text")}if(!S){S=t.findPropertyByName(v+"Desc")}if(!S){S=t.findPropertyByName(v+"Description")}if(S){P.setTextProperty(S);g.push(S.name)}}}for(var E=-1,N;(N=g[++E])!==undefined;){delete this._oDimensionSet[N]}}},getName:function(){return this.getEntitySet().getQName()},getParameterization:function(){return this._oParameterization},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames}this._aDimensionNames=[];for(var e in this._oDimensionSet){this._aDimensionNames.push(this._oDimensionSet[e].getName())}return this._aDimensionNames},getAllDimensions:function(){return this._oDimensionSet},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames}this._aMeasureNames=[];for(var e in this._oMeasureSet){this._aMeasureNames.push(this._oMeasureSet[e].getName())}return this._aMeasureNames},getAllMeasures:function(){return this._oMeasureSet},findDimensionByName:function(e){return this._oDimensionSet[e]},findDimensionByPropertyName:function(e){if(this._oDimensionSet[e]){return this._oDimensionSet[e]}for(var t in this._oDimensionSet){var r=this._oDimensionSet[t];var i=r.getTextProperty();if(i&&i.name==e){return r}if(r.findAttributeByName(e)){return r}}return null},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty},findMeasureByName:function(e){return this._oMeasureSet[e]},findMeasureByPropertyName:function(e){if(this._oMeasureSet[e]){return this._oMeasureSet[e]}for(var t in this._oMeasureSet){var r=this._oMeasureSet[t];var i=r.getFormattedValueProperty();if(i&&i.name==e){return r}}return null},getModel:function(){return this._oModel},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};o.Parameterization=function(e,t){this._init(e,t)};o.Parameterization.prototype={_init:function(e,t){this._oEntityType=e;this._oEntitySet=t;this._oParameterSet={};var r=e.getTypeDescription().property;for(var i=-1,n;(n=r[++i])!==undefined;){if(n.extensions==undefined){continue}for(var a=-1,s;(s=n.extensions[++a])!==undefined;){if(!s.namespace==o.constants.SAP_NAMESPACE){continue}switch(s.name){case"parameter":{var u=new o.Parameter(this,n);this._oParameterSet[u.getName()]=u;break}default:}}}},setTargetQueryResult:function(e,t){this._oQueryResult=e;var r=this._oEntityType.getSchema().namespace+"."+t.name;var i=this._oEntityType.getTypeDescription().navigationProperty;if(!i){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}for(var n=-1,o;(o=i[++n])!==undefined;){if(o.relationship==r){this._oNavPropToQueryResult=o.name}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type"}},getTargetQueryResult:function(){if(!this._oQueryResult){throw"No target query result set"}return this._oQueryResult},getName:function(){return this.getEntitySet().getQName()},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames}this._aParameterNames=[];for(var e in this._oParameterSet){this._aParameterNames.push(this._oParameterSet[e].getName())}return this._aParameterNames},getAllParameters:function(){return this._oParameterSet},findParameterByName:function(e){return this._oParameterSet[e]},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult},getEntityType:function(){return this._oEntityType},getEntitySet:function(){return this._oEntitySet},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};o.Parameter=function(e,t){this._init(e,t)};o.Parameter.prototype={_init:function(e,t){this._oParameterization=e;this._oProperty=t;var r=e.getEntityType();if(t.extensions!=undefined){for(var i=-1,n;(n=t.extensions[++i])!==undefined;){if(!n.namespace==o.constants.SAP_NAMESPACE){continue}switch(n.name){case"parameter":switch(n.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property"}break;case"label":this._sLabelText=n.value;break;case"text":this._oTextProperty=r.findPropertyByName(n.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=r.findPropertyByName(n.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=r.findPropertyByName(n.value);break;default:}}}if(!this._sLabelText){this._sLabelText=""}},setValueSetEntity:function(e,t){this._oValueSetEntityType=e;this._oValueSetEntitySet=t},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){if(!this._sLabelText&&this._oParameterization._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},isOptional:function(){return!this._bRequired},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter},isLowerIntervalBoundary:function(){return this._oUpperIntervalBoundaryParameterProperty?true:false},getPeerIntervalBoundaryParameter:function(){var e=null;if(this._oLowerIntervalBoundaryParameterProperty){e=this._oLowerIntervalBoundaryParameterProperty.name}else{e=this._oUpperIntervalBoundaryParameterProperty.name}if(!e){throw"Parameter is not an interval boundary"}return this._oParameterization.findParameterByName(e)},isValueSetAvailable:function(){return this._oValueSetEntityType?true:false},getName:function(){return this._oProperty.name},getProperty:function(){return this._oProperty},getContainingParameterization:function(){return this._oParameterization},getURIToValueEntitySet:function(e){var t=null;t=(e?e:"")+"/"+this._oValueSetEntitySet.getQName();return t},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};o.Dimension=function(e,t){this._init(e,t)};o.Dimension.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;this._oAttributeSet={}},setMembersEntitySet:function(e){this._oMembersEntitySet=e},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){if(!this._oTextProperty){this._oTextProperty=this._oQueryResult.getEntityType().getTextPropertyOfProperty(this.getName())}return this._oTextProperty},setTextProperty:function(e){this._oTextProperty=e},getLabelText:function(){if(!this._sLabelText){this._sLabelText=this._oQueryResult.getEntityType().getLabelOfProperty(this.getName())}if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText==null?"":this._sLabelText},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinateDimension){var e=this._oQueryResult.getEntityType().getSuperOrdinatePropertyOfProperty(this.getName());if(e){this._sSuperOrdinateDimension=this._oQueryResult.findDimensionByName(e.name)}}return this._sSuperOrdinateDimension},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name)}return this._oHierarchy},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames}this._aAttributeNames=[];for(var e in this._oAttributeSet){this._aAttributeNames.push(this._oAttributeSet[e].getName())}return this._aAttributeNames},getAllAttributes:function(){return this._oAttributeSet},findAttributeByName:function(e){return this._oAttributeSet[e]},addAttribute:function(e){this._oAttributeSet[e.getName()]=e},getContainingQueryResult:function(){return this._oQueryResult},hasMasterData:function(){return this._oMembersEntitySet!=null?true:false},getMasterDataEntitySet:function(){return this._oMembersEntitySet},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinateDimension:null,_aAttributeNames:null,_oAttributeSet:null,_oMembersEntitySet:null,_oHierarchy:null};o.DimensionAttribute=function(e,t){this._init(e,t)};o.DimensionAttribute.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(var r=-1,i;(i=t.extensions[++r])!==undefined;){if(!i.namespace==o.constants.SAP_NAMESPACE){continue}switch(i.name){case"attribute-for":this._sDimensionName=i.value;break;case"label":this._sLabelText=i.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(i.value);break;default:}}}},getName:function(){return this._oProperty.name},getKeyProperty:function(){return this._oProperty},getTextProperty:function(){return this._oTextProperty},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName)},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};o.Measure=function(e,t){this._init(e,t)};o.Measure.prototype={_init:function(e,t){this._oQueryResult=e;this._oProperty=t;if(t.extensions!=undefined){for(var r=-1,i;(i=t.extensions[++r])!==undefined;){if(!i.namespace==o.constants.SAP_NAMESPACE){continue}switch(i.name){case"label":this._sLabelText=i.value;break;case"text":this._oTextProperty=e.getEntityType().findPropertyByName(i.value);break;case"unit":this._oUnitProperty=e.getEntityType().findPropertyByName(i.value);break;default:}}}if(!this._sLabelText){this._sLabelText=""}},getName:function(){return this._oProperty.name},getRawValueProperty:function(){return this._oProperty},getFormattedValueProperty:function(){return this._oTextProperty},getUnitProperty:function(){return this._oUnitProperty},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=o.helper.tokenizeNametoLabelText(this.getName())}return this._sLabelText},isUpdatable:function(){if(this._bIsUpdatable!=null){return this._bIsUpdatable}var e=this._oQueryResult.getEntitySet().getUpdatablePropertyNameSet();return e[this.getName()]!=undefined},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null,_bIsUpdatable:null};o.EntitySet=function(e,t,r,i,n){this._init(e,t,r,i,n)};o.EntitySet.prototype={_init:function(e,t,r,i,n){this._oEntityType=n;this._oEntitySet=i;this._oContainer=r;this._oSchema=t;this._oModel=e;if(t.entityContainer.length>1){this._sQName=r.name+"."+i.name}else{this._sQName=i.name}},getQName:function(){return this._sQName},getSetDescription:function(){return this._oEntitySet},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},getUpdatablePropertyNameSet:function(){if(this._oUpdatablePropertyNames){return this._oUpdatablePropertyNames}this._oUpdatablePropertyNames={};var e=true;if(this._oEntitySet.extensions!=undefined){for(var t=-1,r;(r=this._oEntitySet.extensions[++t])!==undefined;){if(r.namespace==o.constants.SAP_NAMESPACE&&r.name=="updatable"){if(r.value=="false"){e=false;break}}}}if(!e){return this._oUpdatablePropertyNames}var i=this._oEntityType.getTypeDescription().property;for(var n=-1,a;(a=i[++n])!==undefined;){var s=true;if(a.extensions==undefined){continue}for(var u=-1,l;(l=a.extensions[++u])!==undefined;){if(l.namespace!=o.constants.SAP_NAMESPACE){continue}if(l.name=="updatable"){if(l.value=="false"){s=false;break}}}if(s){this._oUpdatablePropertyNames[a.name]=true}}return this._oUpdatablePropertyNames},_oEntityType:null,_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null,_oUpdatablePropertyNames:null};o.EntityType=function(e,t,r){this._init(e,t,r)};o.EntityType.propertyFilterRestriction={SINGLE_VALUE:"single-value",MULTI_VALUE:"multi-value",INTERVAL:"interval"};o.EntityType.prototype={_init:function(e,t,r){this._oEntityType=r;this._oSchema=t;this._oModel=e;this._aKeyProperties=[];this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._oPropertyFilterRestrictionSet={};this._oPropertyHeadingsSet={};this._oPropertyQuickInfosSet={};this._sQName=t.namespace+"."+r.name;var i={};function n(e){var t=i[e];if(!t){t=i[e]={}}return t}for(var a=-1,s;(s=r.key.propertyRef[++a])!==undefined;){this._aKeyProperties.push(s.name)}for(var u=-1,l;(l=r.property[++u])!==undefined;){this._oPropertySet[l.name]=l;this._aFilterablePropertyNames.push(l.name);this._aSortablePropertyNames.push(l.name);if(l.extensions==undefined){continue}for(var h=-1,f;(f=l.extensions[++h])!==undefined;){if(f.namespace!==o.constants.SAP_NAMESPACE){continue}switch(f.name){case"filterable":if(f.value=="false"){this._aFilterablePropertyNames.pop(l.name)}break;case"sortable":if(f.value=="false"){this._aSortablePropertyNames.pop(l.name)}break;case"required-in-filter":if(f.value=="true"){this._aRequiredFilterPropertyNames.push(l.name)}break;case"filter-restriction":if(f.value==o.EntityType.propertyFilterRestriction.SINGLE_VALUE||f.value==o.EntityType.propertyFilterRestriction.MULTI_VALUE||f.value==o.EntityType.propertyFilterRestriction.INTERVAL){this._oPropertyFilterRestrictionSet[l.name]=f.value}break;case"hierarchy-node-external-key-for":n(f.value).externalKeyProperty=l;break;case"hierarchy-node-for":n(l.name).dimensionName=f.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":n(f.value).parentNodeIDProperty=l;break;case"hierarchy-level-for":n(f.value).levelProperty=l;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":n(f.value).drillStateProperty=l;break;default:}}}this._oRecursiveHierarchySet={};for(var y in i){var p=i[y];var d=this._oPropertySet[y];var _=this._oPropertySet[p.dimensionName];if(_==null){_=d}this._oRecursiveHierarchySet[_.name]=new o.RecursiveHierarchy(r,d,p.parentNodeIDProperty,p.levelProperty,_,p.externalKeyProperty)}},getProperties:function(){return this._oPropertySet},findPropertyByName:function(e){return this._oPropertySet[e]},getKeyProperties:function(){return this._aKeyProperties},getLabelOfProperty:function(e){var t=this._oPropertySet[e];if(t==null){throw"no such property with name "+e}if(t.extensions!=undefined){for(var r=-1,i;(i=t.extensions[++r])!==undefined;){if(!i.namespace==o.constants.SAP_NAMESPACE){continue}if(i.name=="label"){return i.value}}}return null},getHeadingOfProperty:function(e){var t=this._oPropertySet[e];if(t==null){throw"no such property with name "+e}var r=null;if(t.extensions!=undefined){for(var i=-1,n;(n=t.extensions[++i])!==undefined;){if(!n.namespace==o.constants.SAP_NAMESPACE){continue}if(n.name=="heading"){return n.value}if(n.name=="label"){r=n.value}}}return r},getQuickInfoOfProperty:function(e){var t=this._oPropertySet[e];if(t==null){throw"no such property with name "+e}var r=null;if(t.extensions!=undefined){for(var i=-1,n;(n=t.extensions[++i])!==undefined;){if(!n.namespace==o.constants.SAP_NAMESPACE){continue}if(n.name=="quickinfo"){return n.value}if(n.name=="label"){r=n.value}}}return r},getTextPropertyOfProperty:function(e){var t=this._oPropertySet[e];if(t==null){throw"no such property with name "+e}if(t.extensions!=undefined){for(var r=-1,i;(i=t.extensions[++r])!==undefined;){if(i.name=="text"){return this.findPropertyByName(i.value)}}}return null},getSuperOrdinatePropertyOfProperty:function(e){var t=this._oPropertySet[e];if(t==null){throw"no such property with name "+e}if(t.extensions!=undefined){for(var r=-1,i;(i=t.extensions[++r])!==undefined;){if(i.name=="super-ordinate"){return this.findPropertyByName(i.value)}}}return null},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames},getSortablePropertyNames:function(){return this._aSortablePropertyNames},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames},getPropertiesWithFilterRestrictions:function(){return this._oPropertyFilterRestrictionSet},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames}this._aHierarchyPropertyNames=[];for(var e in this._oRecursiveHierarchySet){this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[e].getNodeValueProperty().name)}return this._aHierarchyPropertyNames},getHierarchy:function(e){if(this._oRecursiveHierarchySet[e]==undefined){return null}return this._oRecursiveHierarchySet[e]},getQName:function(){return this._sQName},getTypeDescription:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_aKeyProperties:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_oPropertyFilterRestrictionSet:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};o.RecursiveHierarchy=function(e,t,r,i,n,o){this._init(e,t,r,i,n,o)};o.RecursiveHierarchy.prototype={_init:function(e,t,r,i,n,o){this._oEntityType=e;this._oNodeIDProperty=t;this._oParentNodeIDProperty=r;this._oNodeLevelProperty=i;this._oNodeValueProperty=n;this._oNodeExternalKeyProperty=o},isRecursiveHierarchy:function(){return true},isLeveledHierarchy:function(){return false},getNodeExternalKeyProperty:function(){return this._oNodeExternalKeyProperty},getNodeIDProperty:function(){return this._oNodeIDProperty},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty},getNodeLevelProperty:function(){return this._oNodeLevelProperty},getNodeValueProperty:function(){return this._oNodeValueProperty},_oEntityType:null,_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null,_oNodeExternalKeyProperty:null};o.FilterExpression=function(e,t,r){this._init(e,t,r)};o.FilterExpression.prototype={_init:function(e,t,r){this._oEntityType=r;this._oSchema=t;this._oModel=e;this._aConditionUI5Filter=[];this._aUI5FilterArray=[]},_renderPropertyFilterValue:function(t,r,i){if(r==="Edm.Time"&&a.test(t)){t={ms:parseInt(t),__edmType:"Edm.Time"}}return e(n._formatValue(t,r,true,i))},clear:function(){this._aConditionUI5Filter=[];this._aUI5FilterArray=[]},_addCondition:function(e){const{sPath:t,sOperator:r,oValue1:i,oValue2:n,sFractionalSeconds1:o,sFractionalSeconds2:a}=e;const s=this._aConditionUI5Filter.some(e=>e.sPath===t&&e.sOperator===r&&e.oValue1==i&&e.oValue2==n&&e.sFractionalSeconds1===o&&e.sFractionalSeconds2===a);if(!s){this._aConditionUI5Filter.push(e)}},_addUI5FilterArray:function(e){this._aUI5FilterArray.push(e)},addCondition:function(e,r,i,n){let o=e;let a;if(typeof e==="object"){o=e.sPath;a=e}var s=this._oEntityType.findPropertyByName(o);if(s==null){throw"Cannot add filter condition for unknown property name "+o}var u=this._oEntityType.getFilterablePropertyNames();if((u?Array.prototype.indexOf.call(u,o):-1)===-1){throw"Cannot add filter condition for not filterable property name "+o}this._addCondition(a||new t(o,r,i,n));return this},removeConditions:function(e){var t=this._oEntityType.findPropertyByName(e);if(t==null){throw"Cannot remove filter conditions for unknown property name "+e}for(var r=0;r<this._aConditionUI5Filter.length;r++){var i=this._aConditionUI5Filter[r];if(i.sPath==e){this._aConditionUI5Filter.splice(r--,1)}}return this},addSetCondition:function(e,i){var n=this._oEntityType.findPropertyByName(e);if(n==null){throw"Cannot add filter condition for unknown property name "+e}var o=this._oEntityType.getFilterablePropertyNames();if((o?Array.prototype.indexOf.call(o,e):-1)===-1){throw"Cannot add filter condition for not filterable property name "+e}for(var a=-1,s;(s=i[++a])!==undefined;){this._addCondition(new t(e,r.EQ,s))}return this},addUI5FilterConditions:function(e){if(!Array.isArray(e)){throw"Argument is not an array"}if(e.length==0){return this}var t=false;for(var r=0;r<e.length;r++){if(e[r].aFilters!=undefined){t=true;break}}if(t){this._addUI5FilterArray(e)}else{for(var i=0;i<e.length;i++){this.addCondition(e[i])}}return this},getExpressionAsUI5FilterArray:function(){var e=this._aConditionUI5Filter.concat([]);for(var t=-1,r;(r=this._aUI5FilterArray[++t])!==undefined;){for(var i=-1,n;(n=r[++i])!==undefined;){e.push(n)}}return e},getPropertiesReferencedByUI5FilterArray:function(e,t){for(var r=-1,i;(i=e[++r])!==undefined;){if(i.aFilters!=undefined){this.getPropertiesReferencedByUI5FilterArray(i.aFilters,t)}else{if(t[i.sPath]==undefined){t[i.sPath]=[]}t[i.sPath].push(i)}}},getReferencedProperties:function(){var e={};for(var t=-1,r;(r=this._aConditionUI5Filter[++t])!==undefined;){if(e[r.sPath]==undefined){e[r.sPath]=[]}e[r.sPath].push(r)}for(var i=-1,n;(n=this._aUI5FilterArray[++i])!==undefined;){this.getPropertiesReferencedByUI5FilterArray(n,e)}return e},renderUI5Filter:function(e){const{sPath:t,sOperator:i,oValue1:n,oValue2:o,sFractionalSeconds1:a,sFractionalSeconds2:s}=e;let u=null;const l=this._oEntityType.findPropertyByName(t);if(l==null){throw"Cannot add filter condition for unknown property name "+t}switch(i){case r.BT:u="("+t+" ge "+this._renderPropertyFilterValue(n,l.type,a)+" and "+t+" le "+this._renderPropertyFilterValue(o,l.type,s)+")";break;case r.NB:u="("+t+" lt "+this._renderPropertyFilterValue(n,l.type,a)+" or "+t+" gt "+this._renderPropertyFilterValue(o,l.type,s)+")";break;case r.Contains:case r.NotContains:u=(i[0]==="N"?"not ":"")+"substringof("+this._renderPropertyFilterValue(n,"Edm.String")+","+t+")";break;case r.StartsWith:case r.EndsWith:case r.NotStartsWith:case r.NotEndsWith:u=i.toLowerCase().replace("not","not ")+"("+t+","+this._renderPropertyFilterValue(n,"Edm.String")+")";break;default:u=t+" "+i.toLowerCase()+" "+this._renderPropertyFilterValue(n,l.type,a)}return u},renderUI5MultiFilter:function(e){var t=[];var r="";var i=e.bAnd==true?" and ":" or ";for(var n=-1,o;(o=e.aFilters[++n])!==undefined;){if(o.aFilters!=undefined){t.push(o);continue}r+=(r==""?"":i)+"("+this.renderUI5Filter(o)+")"}if(t.length>0){for(var a=-1,s;(s=t[++a])!==undefined;){r+=(r==""?"":i)+"("+this.renderUI5MultiFilter(s)+")"}}return r},renderUI5FilterArray:function(e){if(e.length==0){return""}var t="";e.sort(function(e,t){const r=e.sPath||"";const i=t.sPath||"";if(r===i){return 0}return r>i?1:-1});var i=e[0].sPath;var n="";var o=[],a=[];for(var s=-1,u;(u=e[++s])!==undefined;){if(u.aFilters!=undefined){a.push(u);continue}if(i!=u.sPath){if(n!=""){t+=(t==""?"":" and ")+"("+n+")"}n="";if(o.length>0){for(var l=-1,h;(h=o[++l])!==undefined;){n+=(n==""?"":" and ")+this.renderUI5Filter(h)}t+=(t==""?"":" and ")+"("+n+")";n=""}i=u.sPath;o=[]}if(u.sOperator==r.NE){o.push(u);continue}n+=(n==""?"":" or ")+this.renderUI5Filter(u)}if(n!=""){t+=(t==""?"":" and ")+"("+n+")"}if(o.length>0){n="";for(var f=-1,y;(y=o[++f])!==undefined;){n+=(n==""?"":" and ")+this.renderUI5Filter(y)}t+=(t==""?"":" and ")+"("+n+")"}if(a.length>0){for(var p=-1,d;(d=a[++p])!==undefined;){t+=(t==""?"":" and ")+"("+this.renderUI5MultiFilter(d)+")"}}return t},getURIFilterOptionValue:function(){var e=this.renderUI5FilterArray(this._aConditionUI5Filter);for(var t=-1,r;(r=this._aUI5FilterArray[++t])!==undefined;){e+=(e==""?"":" and ")+"("+this.renderUI5FilterArray(r)+")"}return e},checkValidity:function(){var e=this._oEntityType.getRequiredFilterPropertyNames();var t=this.getReferencedProperties();for(var i=-1,n;(n=e[++i])!==undefined;){if(t[n]==undefined){throw"filter expression does not contain required property "+n}}var a=this._oEntityType.getPropertiesWithFilterRestrictions();for(var s in a){var u=a[s];if(u==o.EntityType.propertyFilterRestriction.SINGLE_VALUE){if(t[s]!=undefined){if(t[s].length>1){var l=t[s][0].oValue1;for(var h=0;h<t[s].length;h++){if(t[s][h].oValue1!=l||t[s][h].sOperator!=r.EQ){throw"filter expression may use "+s+" only with a single EQ condition"}}}}}}return true},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};o.SortOrder={Ascending:"asc",Descending:"desc"};o.SortExpression=function(e,t,r){this._init(e,t,r)};o.SortExpression.prototype={_init:function(e,t,r){this._oEntityType=r;this._oSchema=t;this._oModel=e;this._aSortCondition=[]},_containsSorter:function(e){var t=null;for(var r=-1,i;(i=this._aSortCondition[++r])!==undefined;){if(i.property.name===e){t={sorter:i,index:r};break}}return t},_removeFromArray:function(e,t,r){var i=e.slice((r||t)+1||e.length);e.length=t<0?e.length+t:t;return e.push.apply(e,i)},clear:function(){this._aSortCondition=[]},addSorter:function(e,t,r){var i=this._oEntityType.findPropertyByName(e);if(i==null){throw"Cannot add sort condition for unknown property name "+e}var n=this._containsSorter(e);if(n!=null){if(!r){n.sorter.order=t}return this}var o=this._oEntityType.getSortablePropertyNames();if((o?Array.prototype.indexOf.call(o,e):-1)===-1){throw"Cannot add sort condition for not sortable property name "+e}this._aSortCondition.push({property:i,order:t});return this},removeSorter:function(e){if(!e){return}var t=this._containsSorter(e);if(t){this._removeFromArray(this._aSortCondition,t.index)}},getExpressionsAsUI5SorterArray:function(){var e=[];for(var t=-1,r;(r=this._aSortCondition[++t])!==undefined;){e.push(new i(r.property.name,r.order==o.SortOrder.Descending))}return e},getExpressionAsUI5Sorter:function(){var e=this.getExpressionsAsUI5SorterArray();if(e.length==0){return null}else{return e[0]}},getURIOrderByOptionValue:function(e){if(this._aSortCondition.length==0){return""}var t="";for(var r=-1,i;(i=this._aSortCondition[++r])!==undefined;){if(!e[i.property.name]){continue}t+=(t==""?"":",")+i.property.name+" "+i.order}return t},getEntityType:function(){return this._oEntityType},getSchema:function(){return this._oSchema},getModel:function(){return this._oModel},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};o.ParameterizationRequest=function(e){this._init(e)};o.ParameterizationRequest.prototype={_init:function(e){if(!e){throw"No parameterization given"}this._oParameterization=e;this._oParameterValueAssignment=[]},_renderParameterKeyValue:function(t,r){return e(this._oParameterization.getTargetQueryResult().getModel().getODataModel().formatValue(t,r))},getParameterization:function(){return this._oParameterization},setParameterValue:function(e,t,r){var i=this._oParameterization.findParameterByName(e);if(!i){throw"Invalid parameter name "+e}if(r!=null){if(!i.isIntervalBoundary()){throw"Range value cannot be applied to parameter "+e+" accepting only single values"}if(!i.isLowerIntervalBoundary()){throw"Range value given, but parameter "+e+" does not hold the lower boundary"}}if(!i.isIntervalBoundary()){if(t==null){delete this._oParameterValueAssignment[e]}else{this._oParameterValueAssignment[e]=t}}else{if(t==null&&r!=null){throw"Parameter "+e+": An upper boundary cannot be given without the lower boundary"}if(t==null){delete this._oParameterValueAssignment[e];r=null}else{this._oParameterValueAssignment[e]=t}var n=i.getPeerIntervalBoundaryParameter();if(r==null){r=t}if(t==null){delete this._oParameterValueAssignment[n.getName()]}else{this._oParameterValueAssignment[n.getName()]=r}}return},getURIToParameterizationEntitySet:function(e){return(e?e:"")+"/"+this._oParameterization.getEntitySet().getQName()},getURIToParameterizationEntry:function(e){var t=this._oParameterization.getAllParameters();for(var r in t){if(this._oParameterValueAssignment[r]==undefined){throw"Parameter "+r+" has no value assigned"}}var i="",n=true;for(var o in this._oParameterValueAssignment){i+=(n?"":",")+o+"="+this._renderParameterKeyValue(this._oParameterValueAssignment[o],t[o].getProperty().type);n=false}return(e?e:"")+"/"+this._oParameterization.getEntitySet().getQName()+"("+i+")"},_oParameterization:null,_oParameterValueAssignment:null};o.QueryResultRequest=function(e,t){this._init(e,t)};o.QueryResultRequest.prototype={_init:function(e,t){this._oQueryResult=e;this._oParameterizationRequest=t;this._oAggregationLevel={};this._oDimensionHierarchies={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null;this._oSortExpression=null;this._oSelectedPropertyNames=null},addRecursiveHierarchy:function(e,t,r){var i;if(!e){return}i=this._oQueryResult.findDimensionByName(e);if(!i){throw new Error("'"+e+"' is not a dimension property")}if(!i.getHierarchy()){throw new Error("Dimension '"+e+"' does not have a hierarchy")}this._oSelectedPropertyNames=null;this._oDimensionHierarchies[e]={externalKey:t,id:true,text:r}},setParameterizationRequest:function(e){this._oParameterizationRequest=e},setResourcePath:function(e){this._sResourcePath=e;if(this._sResourcePath.indexOf("/")!=0){throw"Missing leading / (slash) for resource path"}if(this._oQueryResult.getParameterization()){var t=e.lastIndexOf("/");if(t==-1){throw"Missing navigation from parameter entity set to query result in resource path"}var r=e.substring(t+1);if(r!=this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult()){throw"Invalid navigation property from parameter entity set to query result in resource path"}}},getParameterizationRequest:function(){return this._oParameterizationRequest},getQueryResult:function(){return this._oQueryResult},setAggregationLevel:function(e){this._oAggregationLevel={};if(!e){e=this._oQueryResult.getAllDimensionNames()}this.addToAggregationLevel(e);this._oSelectedPropertyNames=null},addToAggregationLevel:function(e){if(!e){return}this._oSelectedPropertyNames=null;for(var t=-1,r;(r=e[++t])!==undefined;){if(!this._oQueryResult.findDimensionByName(r)){throw r+" is not a valid dimension name"}this._oAggregationLevel[r]={key:true,text:false,attributes:null}}},removeFromAggregationLevel:function(e){if(!e){return}this._oSelectedPropertyNames=null;for(var t=-1,r;(r=e[++t])!==undefined;){if(!this._oQueryResult.findDimensionByName(r)){throw r+" is not a valid dimension name"}if(this._oAggregationLevel[r]!=undefined){delete this._oAggregationLevel[r];this.getSortExpression().removeSorter(r)}}},getAggregationLevel:function(){var e=[];for(var t in this._oAggregationLevel){e.push(t)}return e},getAggregationLevelDetails:function(e){if(this._oAggregationLevel[e]==undefined){throw"Aggregation level does not include dimension "+e}return this._oAggregationLevel[e]},setMeasures:function(e){if(!e){e=this._oQueryResult.getAllMeasureNames()}this._oSelectedPropertyNames=null;this._oMeasures={};for(var t=-1,r;(r=e[++t])!==undefined;){if(!this._oQueryResult.findMeasureByName(r)){throw r+" is not a valid measure name"}this._oMeasures[r]={value:true,text:false,unit:false}}},getMeasureNames:function(){var e=[];for(var t in this._oMeasures){e.push(t)}return e},includeDimensionKeyTextAttributes:function(e,t,r,i){this._oSelectedPropertyNames=null;var n=[];if(e){if(this._oAggregationLevel[e]==undefined){throw e+" is not included in the aggregation level"}n.push(e)}else{for(var o in this._oAggregationLevel){n.push(o)}i=null}for(var a=-1,s;(s=n[++a])!==undefined;){if(t!=null){this._oAggregationLevel[s].key=t}if(r!=null){this._oAggregationLevel[s].text=r}if(i!=null){this._oAggregationLevel[s].attributes=i}}},includeMeasureRawFormattedValueUnit:function(e,t,r,i){this._oSelectedPropertyNames=null;var n=[];if(e){if(this._oMeasures[e]==undefined){throw e+" is not part of the query result"}n.push(e)}else{for(var o in this._oMeasures){n.push(o)}}for(var a=-1,s;(s=n[++a])!==undefined;){if(t!=null){this._oMeasures[s].value=t}if(r!=null){this._oMeasures[s].text=r}if(i!=null){this._oMeasures[s].unit=i}}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oQueryResult.getEntityType();this._oFilterExpression=new o.FilterExpression(this._oQueryResult.getModel(),e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new o.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},setRequestOptions:function(e,t,r){if(e!=null){this._bIncludeEntityKey=e}if(t!=null){this._bIncludeCount=t}if(r!=null){this._bReturnNoEntities=r}},setResultPageBoundaries:function(e,t){if(e!=null&&typeof e!=="number"){throw"Start value must be null or numeric"}if(t!==null&&typeof t!=="number"){throw"End value must be null or numeric"}if(e==null){e=1}if(e<1||e>(t==null?e:t)){throw"Invalid values for requested page boundaries"}this._iSkipRequestOption=e>1?e-1:null;this._iTopRequestOption=t!=null?t-e+1:null},getResultPageBoundaries:function(){var e=null;if(this._iTopRequestOption!=null){if(this._iSkipRequestOption==null){e=1}else{e=this._iSkipRequestOption+this._iTopRequestOption}}return{start:this._iSkipRequestOption==null?1:this._iSkipRequestOption,end:e}},getURIToQueryResultEntitySet:function(e){var t=null;if(this._sResourcePath!=null){t=(e?e:"")+this._sResourcePath}else if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request"}else{t=this._oParameterizationRequest.getURIToParameterizationEntry(e)+"/"+this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult()}}else{t=(e?e:"")+"/"+this._oQueryResult.getEntitySet().getQName()}return t},getURIOrderByOptionValue:function(){var e,t,r=null,i=this._oSortExpression?this._oSortExpression._aSortCondition:[],n,o=i.length;if(o){e=this._oQueryResult.getAllMeasureNames();for(n=0;n<o;n+=1){t=i[n];if(!this._oSelectedPropertyNames[t.property.name]&&e.indexOf(t.property.name)<0){continue}r=(r?r+",":"")+t.property.name+" "+t.order}}return r},getURIQueryOptionValue:function(e){var t,r=null,i,n=this;function o(e){var t;if(!e){return}t=typeof e==="string"?e:e.name;if(!n._oSelectedPropertyNames[t]){i+=(i==""?"":",")+t;n._oSelectedPropertyNames[t]=true}}switch(e){case"$select":{i="";this._oSelectedPropertyNames={};for(t in this._oAggregationLevel){var a=this._oQueryResult.findDimensionByName(t);var s=this._oAggregationLevel[t];if(s.key==true){o(a.getKeyProperty())}if(s.text==true){o(a.getTextProperty())}if(s.attributes){for(var u=-1,l;(l=s.attributes[++u])!==undefined;){o(a.findAttributeByName(l).getName())}}}for(t in this._oMeasures){var h=this._oQueryResult.findMeasureByName(t);var f=this._oMeasures[t];if(f.value==true){o(h.getRawValueProperty())}if(f.text==true){o(h.getFormattedValueProperty())}if(f.unit==true){o(h.getUnitProperty())}}for(t in this._oDimensionHierarchies){var y=this._oQueryResult.findDimensionByName(t).getHierarchy();var p=this._oDimensionHierarchies[t];if(p.id){o(y.getNodeIDProperty())}if(p.externalKey){o(y.getNodeExternalKeyProperty())}if(p.text){o(this._oQueryResult.getEntityType().getTextPropertyOfProperty(y.getNodeIDProperty().name))}}if(this._bIncludeEntityKey){var d=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;for(var _=-1,m;(m=d[++_])!==undefined;){i+=(i==""?"":",")+m.name}}r=i?i:null;break}case"$filter":{var c=null;if(this._oFilterExpression){c=this._oFilterExpression.getURIFilterOptionValue()}r=c?c:null;break}case"$orderby":{r=this.getURIOrderByOptionValue();break}case"$top":{r=null;if(this._bReturnNoEntities){r=0}else if(this._iTopRequestOption!==null){r=this._iTopRequestOption}break}case"$skip":{r=null;if(!this._bReturnNoEntities){r=this._iSkipRequestOption}break}case"$inlinecount":{r=this._bIncludeCount==true?"allpages":null;break}default:break}return r},getURIToQueryResultEntries:function(e,t){if(!t){t=this.getURIToQueryResultEntitySet(e)}this.getFilterExpression().checkValidity();var r=this.getURIQueryOptionValue("$select");var i=this.getURIQueryOptionValue("$filter");var n=this.getURIQueryOptionValue("$orderby");var o=this.getURIQueryOptionValue("$top");var a=this.getURIQueryOptionValue("$skip");var s=this.getURIQueryOptionValue("$inlinecount");var u=t;var l=false;if(r!==null){u+="?$select="+r;l=true}if(this._oFilterExpression&&i!==null){if(!l){u+="?";l=true}else{u+="&"}u+="$filter="+i}if(this._oSortExpression&&n!==null){if(!l){u+="?";l=true}else{u+="&"}u+="$orderby="+n}if((this._iTopRequestOption||this._bReturnNoEntities)&&o!==null){if(!l){u+="?";l=true}else{u+="&"}u+="$top="+o}if(this._iSkipRequestOption&&a!==null){if(!l){u+="?";l=true}else{u+="&"}u+="$skip="+a}if(this._bIncludeCount&&s!==null){if(!l){u+="?";l=true}else{u+="&"}u+="$inlinecount="+s}return u},_oQueryResult:null,_oParameterizationRequest:null,_sResourcePath:null,_oAggregationLevel:null,_oDimensionHierarchies:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_bReturnNoEntities:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:null,_iTopRequestOption:null};o.ParameterValueSetRequest=function(e){this._init(e)};o.ParameterValueSetRequest.prototype={_init:function(e){this._oParameter=e;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null},includeParameterText:function(e){if(e!=null){this._oValueSetResult.text=e}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();var t=this._oParameter.getContainingParameterization().getTargetQueryResult().getModel();this._oFilterExpression=new o.FilterExpression(t,e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();this._oSortExpression=new o.SortExpression(e.getModel(),e.getSchema(),e)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},getURIQueryOptionValue:function(e){var t=null;switch(e){case"$select":{var r="";r+=(r==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){r+=(r==""?"":",")+this._oParameter.getTextProperty().name}t=r?r:null;break}case"$filter":{var i=null;if(this._oFilterExpression){i=this._oFilterExpression.getURIFilterOptionValue()}t=i?i:null;break}case"$orderby":{var n=null;if(this._oSortExpression){n=this._oSortExpression.getURIOrderByOptionValue()}t=n?n:null;break}default:break}return t},getURIToParameterValueSetEntries:function(e){var t=null;t=(e?e:"")+"/"+this._oParameter.getContainingParameterization().getEntitySet().getQName();this.getFilterExpression().checkValidity();var r=this.getURIQueryOptionValue("$select");var i=this.getURIQueryOptionValue("$filter");var n=this.getURIQueryOptionValue("$orderby");var o=t;var a=false;if(r){o+="?$select="+r;a=true}if(this._oFilterExpression&&i){if(!a){o+="?";a=true}else{o+="&"}o+="$filter="+i}if(this._oSortExpression&&n){if(!a){o+="?";a=true}else{o+="&"}o+="$orderby="+n}return o},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};o.DimensionMemberSetRequest=function(e,t,r){this._init(e,t,r)};o.DimensionMemberSetRequest.prototype={_init:function(e,t,r){this._oDimension=e;this._oParameterizationRequest=t;this._bUseMasterData=r;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;if(this._oParameterizationRequest!=null&&this._bUseMasterData==true){throw"Parameterized master data entity sets are not yet implemented"}if(this._bUseMasterData){this._oEntitySet=this._oDimension.getMasterDataEntitySet()}else{this._oEntitySet=this._oDimension.getContainingQueryResult().getEntitySet();if(this._oDimension.getContainingQueryResult().getParameterization()&&!this._oParameterizationRequest){throw"Missing parameterization request"}}},setParameterizationRequest:function(e){this._oParameterizationRequest=e},includeDimensionTextAttributes:function(e,t){this._oValueSetResult.text={text:false,attributes:false};if(e==true){this._oValueSetResult.text=true}if(t==true){this._oValueSetResult.attributes=true}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oEntitySet.getEntityType();var t=this._oDimension.getContainingQueryResult().getModel();this._oFilterExpression=new o.FilterExpression(t,e.getSchema(),e)}return this._oFilterExpression},setFilterExpression:function(e){this._oFilterExpression=e},getSortExpression:function(){if(this._oSortExpression==null){this._oSortExpression=new o.SortExpression(this._oEntityType.getModel(),this._oEntityType.getSchema(),this._oEntityType)}return this._oSortExpression},setSortExpression:function(e){this._oSortExpression=e},setRequestOptions:function(e){if(e!=null){this._bIncludeCount=e}},setResultPageBoundaries:function(e,t){if(e!=null&&typeof e!=="number"){throw"Start value must be null or numeric"}if(t!==null&&typeof t!=="number"){throw"End value must be null or numeric"}if(e==null){e=1}if(e<1||e>(t==null?e:t)){throw"Invalid values for requested page boundaries"}this._iSkipRequestOption=e>1?e-1:null;this._iTopRequestOption=t!=null?t-e+1:null},getResultPageBoundaries:function(){var e=null;if(this._iTopRequestOption!=null){if(this._iSkipRequestOption==null){e=1}else{e=this._iSkipRequestOption+this._iTopRequestOption}}return{start:this._iSkipRequestOption==null?1:this._iSkipRequestOption,end:e}},getURIQueryOptionValue:function(e){var t=null;switch(e){case"$select":{var r="";var i=this._oEntitySet.getEntityType();var n=i.getKeyProperties();var o=[];if(this._bUseMasterData){for(var a=-1,s;(s=n[++a])!==undefined;){r+=(r==""?"":",")+s;var u=i.getTextPropertyOfProperty(s);if(u){if(this._oValueSetResult.text==true){r+=","+u.name}o.push(u.name)}}}else{r+=(r==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){r+=(r==""?"":",")+this._oDimension.getTextProperty().name}}if(this._oValueSetResult.attributes){if(this._bUseMasterData){var l=i.getProperties();for(var h in l){var f=false;for(var y=-1,p;(p=n[++y])!==undefined;){if(h==p){f=true;break}}if(f){continue}for(var d=-1,_;(_=o[++d])!==undefined;){if(h==_){f=true;break}}if(!f){r+=","+h}}}else{var m=this._oDimension.getAllAttributeNames();for(var c=-1,g;(g=m[++c])!==undefined;){r+=(r==""?"":",")+this._oDimension.findAttributeByName(g).getName()}}}t=r?r:null;break}case"$filter":{var v=null;if(this._oFilterExpression){v=this._oFilterExpression.getURIFilterOptionValue()}t=v?v:null;break}case"$orderby":{var P=null;if(this._oSortExpression){P=this._oSortExpression.getURIOrderByOptionValue()}t=P?P:null;break}case"$top":{if(this._iTopRequestOption!==null){t=this._iTopRequestOption}break}case"$skip":{t=this._iSkipRequestOption;break}case"$inlinecount":{t=this._bIncludeCount==true?"allpages":null;break}default:break}return t},getURIToDimensionMemberEntitySet:function(e){var t=null;if(!this._bUseMasterData&&this._oParameterizationRequest){t=this._oParameterizationRequest.getURIToParameterizationEntry(e)+"/"+this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult()}else{t=(e?e:"")+"/"+this._oEntitySet.getQName()}return t},getURIToDimensionMemberEntries:function(e){var t=this.getURIToDimensionMemberEntitySet(e);this.getFilterExpression().checkValidity();var r=this.getURIQueryOptionValue("$select");var i=this.getURIQueryOptionValue("$filter");var n=this.getURIQueryOptionValue("$orderby");var o=this.getURIQueryOptionValue("$top");var a=this.getURIQueryOptionValue("$skip");var s=this.getURIQueryOptionValue("$inlinecount");var u=t;var l=false;if(r){u+="?$select="+r;l=true}if(this._oFilterExpression&&i){if(!l){u+="?";l=true}else{u+="&"}u+="$filter="+i}if(this._oSortExpression&&n){if(!l){u+="?";l=true}else{u+="&"}u+="$orderby="+n}if(this._iTopRequestOption&&o){if(!l){u+="?";l=true}else{u+="&"}u+="$top="+o}if(this._iSkipRequestOption&&a){if(!l){u+="?";l=true}else{u+="&"}u+="$skip="+a}if(this._bIncludeCount&&s){if(!l){u+="?";l=true}else{u+="&"}u+="$inlinecount="+s}return u},_oDimension:null,_oParameterizationRequest:null,_oEntitySet:null,_bUseMasterData:false,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null,_bIncludeCount:null,_iSkipRequestOption:0,_iTopRequestOption:null};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/controlhelper/TreeBindingProxy", ["sap/base/assert","sap/base/Log"],function(e,t){"use strict";var n=function(e,t){this._oControl=e;this._sAggregation=t;var n=new URLSearchParams(window.location.search);this._bEnableV4=n.get("sap-ui-xx-v4tree")==="true"};n.prototype.isTreeBinding=function(){var e=this._oControl.getModel(this._oControl.getBindingInfo(this._sAggregation).model);if(e.isA("sap.ui.model.odata.v4.ODataModel")){return false}return true};n.prototype.isLeaf=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return true;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?r.getProperty("@$ui5.node.isExpanded")===undefined:true;default:var o=this.getNodeByIndex(e);return!n.nodeHasChildren(o)}};n.prototype.getNodeByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);var r=null;if(e<0){return r}switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported")}else{r=this.getContextByIndex(e)}break;default:r=n.getNodeByIndex(e)}return r||null};n.prototype.getContextByIndex=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);var r=null;if(e<0){return r}switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported")}else{r=n.getContexts(e,1,0,true)[0]}break;default:r=n.getContextByIndex(e)}return r||null};n.prototype.isExpanded=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return false;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return false}var r=this.getContextByIndex(e);return r?!!r.getProperty("@$ui5.node.isExpanded"):false;default:return n?n.isExpanded(e):false}};n.prototype.expand=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:true};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};n.prototype.collapse=function(e){var n=this._oControl.getBinding();var o=this._getBindingName(n);var a={proxy:this,binding:n,indices:e,expanded:false};if(typeof a.indices==="number"){a.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}r(a);break;default:i(a)}};function i(e){var t=e.indices.filter(function(t){return t>=0&&t<e.binding.getLength()&&!e.proxy.isLeaf(t)&&e.expanded!==e.proxy.isExpanded(t)}).sort(function(e,t){return e-t});if(t.length===0){return}for(var n=t.length-1;n>0;n--){if(e.expanded){e.binding.expand(t[n],true)}else{e.binding.collapse(t[n],true)}}if(e.expanded){e.binding.expand(t[0],false)}else{e.binding.collapse(t[0],false)}}function r(e){for(var t=0;t<e.indices.length;t++){var n=e.proxy.getContextByIndex(e.indices[t]);if(n){if(e.expanded){n.expand()}else{n.collapse()}}}}n.prototype.toggleExpandedState=function(e){if(this.isExpanded(e)){this.collapse(e)}else{this.expand(e)}};n.prototype.getContexts=function(e,n,i,r){var a=this._oControl.getBinding();var s=this._getBindingName(a);var d=[];switch(s){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return[]}d=a.getContexts(e,n,i,r);d.forEach(function(e){if(!e){return}e._mProxyInfo={};e._mProxyInfo.level=o(e,false);e._mProxyInfo.isLeaf=e.getProperty("@$ui5.node.isExpanded")===undefined;e._mProxyInfo.isExpanded=!!e.getProperty("@$ui5.node.isExpanded")},this);break;default:var p=a?a.getNodes(e,n,i):[];p.forEach(function(t,n){if(!t){return}var i=n+e;var r=t.context;if(r){r._mProxyInfo={};if(t.nodeState){r._mProxyInfo.nodeState=t.nodeState}r._mProxyInfo.level=o(t,true);r._mProxyInfo.isLeaf=!a.nodeHasChildren(t);r._mProxyInfo.isExpanded=a.isExpanded(i);d.push(t.context)}},this);break}return d};function o(e,t){if(e){return t?e.level+1:e.getProperty("@$ui5.node.level")}}function a(e,t){const n=e.getAggregation()?.expandTo===t;if(n){e.refresh()}else{e.setAggregation({...e.getAggregation(),...{expandTo:t}})}}n.prototype.collapseAll=function(){var e=this._oControl.getBinding();var n=this._getBindingName(e);switch(n){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(e,1);break;default:e.collapseToLevel(0)}};n.prototype.expandToLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}a(i,n);break;default:if(i.expandToLevel){i.expandToLevel(n)}else{e(i.expandToLevel,"Expanding all nodes to a certain level"+" is not supported with your current binding.")}}};n.prototype.setRootLevel=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting the root level is not supported with your current binding.");default:if(i.setRootLevel){i.setRootLevel(n)}else{e(i.setRootLevel,"Setting the root level is not supported with"+" your current binding.")}}};n.prototype.setCollapseRecursive=function(n){var i=this._oControl.getBinding();var r=this._getBindingName(i);switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return}throw Error("Setting 'collapseRecursive' is not supported with your"+" current binding.");default:if(i.setCollapseRecursive){i.setCollapseRecursive(n)}else{e(i.setCollapseRecursive,"Setting 'collapseRecursive' is"+" not supported with your current binding.")}}};n.prototype.getLevel=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}var r=this.getContextByIndex(e);return o(r,false);default:var a=this.getNodeByIndex(e);return o(a,true)}};n.prototype.getSiblingCount=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return 0;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return 0}throw Error("The number of siblings of a node cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r&&r.parent?r.parent.children.length:0}};n.prototype.getPositionInParent=function(e){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:return-1;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){t.error("UnsupportedOperationException: OData V4 is not supported");return-1}throw Error("The position of a node in its parent cannot be determined"+" with your current binding.");default:var r=this.getNodeByIndex(e);return r?r.positionInParent:-1}};n.prototype.isSelectionSupported=function(){var e=this._oControl.getBinding();var t=this._getBindingName(e);switch(t){case undefined:case"sap.ui.model.odata.v4.ODataListBinding":return false;default:return true}};n.prototype.applyLegacySettingsToBindingInfo=function(e,t){if(!e.parameters){e.parameters={}}if(!("rootLevel"in e.parameters)&&t.rootLevel!==undefined){e.parameters.rootLevel=t.rootLevel}if(!("collapseRecursive"in e.parameters)&&t.collapseRecursive!==undefined){e.parameters.collapseRecursive=t.collapseRecursive}if(!("numberOfExpandedLevels"in e.parameters)&&t.numberOfExpandedLevels!==undefined){e.parameters.numberOfExpandedLevels=t.numberOfExpandedLevels}};n.prototype._getBindingName=function(t){e(t,"Control does not have a binding.");return t?t.getMetadata().getName():undefined};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/TypedJSONContext", ["sap/ui/model/Context"],function(e){"use strict";return e.extend("sap.ui.model.json.TypedJSONContext",{})});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/TypedJSONModel", ["sap/ui/model/json/JSONModel"],function(e){"use strict";return e.extend("sap.ui.model.json.TypedJSONModel",{})});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/AnnotationHelper", ["./_AnnotationHelperBasics","./_AnnotationHelperExpression","sap/base/Log","sap/ui/base/BindingParser"],function(t,e,n,r){"use strict";function o(t,e){return function(){return t.call(this,e.apply(this,arguments))}}var i={createPropertySetting:function(t,e,n){var i=false,a;t=t.slice();t.forEach(function(e,o){switch(typeof e){case"boolean":case"number":case"undefined":i=true;break;case"string":a=r.complexParser(e,n,true,true,false,true);if(a!==undefined){if(a.functionsNotFound){throw new Error("Function name(s) "+a.functionsNotFound.join(", ")+" not found")}t[o]=e=a}case"object":if(!e||typeof e!=="object"||!("path"in e)){i=true}break;default:throw new Error("Unsupported part: "+e)}});a={formatter:e,parts:t};if(i){r.mergeParts(a)}e=a.formatter;if(a.parts.length===0){a=e&&e();if(typeof a==="string"){a=r.complexParser.escape(a)}}else if(a.parts.length===1){if(e&&!e.textFragments&&a.parts[0].formatter){a.formatter=o(e,a.parts[0].formatter);a.parts[0]=Object.assign({},a.parts[0]);delete a.parts[0].formatter}}return a},format:function(t,n){if(arguments.length===1){n=t.getObject("")}return e.getExpression(t,n,true)},getNavigationPath:function(e,n){if(arguments.length===1){n=e.getObject("")}var r=t.followPath(e,n);return r?"{"+r.navigationProperties.join("/")+"}":""},gotoEntitySet:function(e){var r,o,i=e.getObject(),a;if(typeof i==="string"){r=i}else{a=t.followPath(e,i);r=a&&a.associationSetEnd&&a.associationSetEnd.entitySet}if(r){o=e.getModel().getODataEntitySet(r,true)}if(!o){n.warning(e.getPath()+": found '"+r+"' which is not a name of an entity set",undefined,"sap.ui.model.odata.AnnotationHelper")}return o},gotoEntityType:function(t){var e=t.getProperty(""),r=t.getModel().getODataEntityType(e,true);if(!r){n.warning(t.getPath()+": found '"+e+"' which is not a name of an entity type",undefined,"sap.ui.model.odata.AnnotationHelper")}return r},gotoFunctionImport:function(t){var e=t.getProperty("String"),r=t.getModel().getODataFunctionImport(e,true);if(!r){n.warning(t.getPath()+": found '"+e+"' which is not a name of a function import",undefined,"sap.ui.model.odata.AnnotationHelper")}return r},isMultiple:function(e,n){if(arguments.length===1){n=e.getObject("")}var r=t.followPath(e,n);if(r){if(r.navigationAfterMultiple){throw new Error('Association end with multiplicity "*" is not the last one: '+n.AnnotationPath)}return String(r.isMultiple)}return""},resolvePath:function(e){var r=t.followPath(e,e.getObject());if(!r){n.warning(e.getPath()+": Path could not be resolved ",undefined,"sap.ui.model.odata.AnnotationHelper")}return r?r.resolvedPath:undefined},simplePath:function(t,n){if(arguments.length===1){n=t.getObject("")}return e.getExpression(t,n,false)}};i.format.requiresIContext=true;i.getNavigationPath.requiresIContext=true;i.isMultiple.requiresIContext=true;i.simplePath.requiresIContext=true;return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataAnnotations", ["./AnnotationParser","sap/base/assert","sap/base/Log","sap/base/i18n/Localization","sap/base/util/extend","sap/base/util/isEmptyObject","sap/ui/base/EventProvider","sap/ui/thirdparty/jquery"],function(t,e,a,o,s,n,r,jQuery){"use strict";var i=r.extend("sap.ui.model.odata.ODataAnnotations",{constructor:function(t){r.apply(this,arguments);if(arguments.length!==1){if(typeof arguments[2]==="object"){t=arguments[2]}t.urls=arguments[0];t.metadata=arguments[1]}this.oMetadata=t.metadata;this.oAnnotations=t.annotationData?t.annotationData:{};this.bLoaded=false;this.bAsync=t&&t.async;this.xPath=null;this.oError=null;this.bValidXML=true;this.oRequestHandles=[];this.oLoadEvent=null;this.oFailedEvent=null;this.mCustomHeaders=t.headers?s({},t.headers):{};if(t.urls){this.addUrl(t.urls);if(!this.bAsync){e(!n(this.oMetadata),"Metadata must be available for synchronous annotation loading");if(this.oError){a.error("OData annotations could not be loaded: "+this.oError.message)}}}},metadata:{publicMethods:["parse","getAnnotationsData","attachFailed","detachFailed","attachLoaded","detachLoaded"]}});i.prototype.getData=function(){return this.oAnnotations};i.prototype.getAnnotationsData=i.prototype.getData;i.prototype.isLoaded=function(){return this.bLoaded};i.prototype.isFailed=function(){return this.oError!==null};i.prototype.fireLoaded=function(t){this.fireEvent("loaded",t);return this};i.prototype.attachLoaded=function(t,e,a){this.attachEvent("loaded",t,e,a);return this};i.prototype.detachLoaded=function(t,e){this.detachEvent("loaded",t,e);return this};i.prototype.fireFailed=function(t){this.fireEvent("failed",t);return this};i.prototype.attachFailed=function(t,e,a){this.attachEvent("failed",t,e,a);return this};i.prototype.detachFailed=function(t,e){this.detachEvent("failed",t,e);return this};i.prototype.setHeaders=function(t){this.mCustomHeaders=s({},t)};i.prototype._createXMLDocument=function(t,e){var a=null;if(typeof t==="string"){e=t;t=null}if(t){a=t}else{a=(new DOMParser).parseFromString(e,"application/xml")}return a};i.prototype._documentHasErrors=function(t){return t.getElementsByTagName("parsererror").length>0};i.prototype._mergeAnnotationData=function(e,a){if(!this.oAnnotations){this.oAnnotations={}}t.merge(this.oAnnotations,e);this.bLoaded=true;if(!a){this.fireLoaded({annotations:e})}};i.prototype.setXML=function(e,a,o){var r={success:function(){},error:function(){},fireEvents:false};o=s({},r,o);var i=this._createXMLDocument(e,a);var u=function(e){var a={xmlDoc:e};var s=t.parse(this.oMetadata,e);if(s){a.annotations=s;o.success(a);this._mergeAnnotationData(s,!o.fireEvents)}else{o.error(a);if(o.fireEvents){this.fireFailed(a)}}}.bind(this,i);if(this._documentHasErrors(i)){o.error({xmlDoc:i});return false}else{var l=this.oMetadata.getServiceMetadata();if(!l||n(l)){this.oMetadata.attachLoaded(u)}else{u()}return true}};i.prototype.addUrl=function(t){var e=this;var a=t;if(Array.isArray(t)&&t.length==0){return Promise.resolve({annotations:this.oAnnotations})}if(!Array.isArray(t)){a=[t]}return new Promise(function(t,o){var s=0;var n={annotations:null,success:[],fail:[]};var r=function(r){s++;if(r.type==="success"){n.success.push(r)}else{n.fail.push(r)}if(s===a.length){n.annotations=e.oAnnotations;if(n.success.length>0){var i={annotations:e.oAnnotations,results:n};e.fireLoaded(i)}if(n.success.length<a.length){var u=new Error("At least one annotation failed to load/parse/merge");u.annotations=n.annotations;u.success=n.success;u.fail=n.fail;o(u)}else{t(n)}}};var i=0;if(e.bAsync){var u=Promise.resolve();for(i=0;i<a.length;++i){var l=e._loadFromUrl.bind(e,a[i]);u=u.then(l,l).then(r,r)}}else{for(i=0;i<a.length;++i){e._loadFromUrl(a[i]).then(r,r)}}})};i.prototype._loadFromUrl=function(t){var e=this;return new Promise(function(a,n){var r={url:t,async:e.bAsync,headers:s({},e.mCustomHeaders,{"Accept-Language":o.getLanguageTag().toString()})};var i;var u=function(a,o){if(i&&i.bSuppressErrorHandlerCall){return}e.oError={type:"fail",url:t,message:o,statusCode:a.status,statusText:a.statusText,responseText:a.responseText};if(e.bAsync){e.oFailedEvent=setTimeout(e.fireFailed.bind(e,e.oError),0)}else{e.fireFailed(e.oError)}n(e.oError)};var l=function(o,s,n){e.setXML(n.responseXML,n.responseText,{success:function(e){a({type:"success",url:t,message:s,statusCode:n.status,statusText:n.statusText,responseText:n.responseText})},error:function(t){u(n,"Malformed XML document")},url:t})};jQuery.ajax(r).done(l).fail(u)})};i.prototype.destroy=function(){for(var t=0;t<this.oRequestHandles.length;++t){if(this.oRequestHandles[t]){this.oRequestHandles[t].bSuppressErrorHandlerCall=true;this.oRequestHandles[t].abort();this.oRequestHandles[t]=null}}r.prototype.destroy.apply(this,arguments);if(this.oLoadEvent){clearTimeout(this.oLoadEvent)}if(this.oFailedEvent){clearTimeout(this.oFailedEvent)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataContextBinding", ["sap/ui/model/ContextBinding","sap/ui/model/ChangeReason"],function(t,e){"use strict";var i=t.extend("sap.ui.model.odata.ODataContextBinding",{constructor:function(e,i,o,s,n){t.call(this,e,i,o,s,n)}});i.prototype.initialize=function(){var t=this,i=this.oModel.resolve(this.sPath,this.oContext),o=this.oModel._getObject(this.sPath,this.oContext),s=this.oModel._isReloadNeeded(i,o,this.mParameters);if(this.oModel.oMetadata.isLoaded()){if(i&&s){this.fireDataRequested()}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(o){t.oElementContext=o;t._fireChange({reason:e.Context});if(i&&s){t.fireDataReceived()}},s)}};i.prototype.refresh=function(t,i){var o=this,s,n,a=false,h=this.oModel.resolve(this.sPath,this.oContext);if(i){n=this.oModel._getObject(this.sPath,this.oContext);if(n){s=this.oModel._getKey(n);if(s in i){a=true}}}else{a=true}if(t||a){if(h){this.fireDataRequested()}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(i){if(o.oElementContext===i){if(t){o._fireChange({reason:e.Context})}}else{o.oElementContext=i;o._fireChange({reason:e.Context})}if(h){o.fireDataReceived()}},true)}};i.prototype.setContext=function(t){var i=this,o,s,n;if(this.oContext!==t&&this.isRelative()){this.oContext=t;o=this.oModel.resolve(this.sPath,this.oContext);s=this.oModel._getObject(this.sPath,this.oContext);n=this.oModel._isReloadNeeded(o,s,this.mParameters);if(o&&n){this.fireDataRequested()}this.oModel.createBindingContext(this.sPath,this.oContext,this.mParameters,function(t){i.oElementContext=t;i._fireChange({reason:e.Context});if(o&&n){i.fireDataReceived()}},n)}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataExpressionAddons", ["sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v4/ODataUtils","sap/ui/thirdparty/URITemplate"],function(){"use strict"});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataListBinding", ["./CountMode","./ODataUtils","sap/base/assert","sap/base/Log","sap/base/util/deepEqual","sap/base/util/each","sap/base/util/merge","sap/base/util/array/diff","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/FilterProcessor","sap/ui/model/FilterType","sap/ui/model/ListBinding","sap/ui/model/Sorter","sap/ui/model/odata/Filter"],function(t,e,i,s,a,n,r,h,o,l,u,f,d,p,g){"use strict";var c=d.extend("sap.ui.model.odata.ODataListBinding",{constructor:function(t,e,i,s,a,n){d.apply(this,arguments);this.sFilterParams=null;this.sSortParams=null;this.sRangeParams=null;this.sCustomParams=this.oModel.createCustomParams(this.mParameters);this.iStartIndex=0;this.bPendingChange=false;this.aKeys=[];this.bInitial=true;this.sCountMode=n&&n.countMode||this.oModel.sDefaultCountMode;this.bRefresh=false;this.bNeedsUpdate=false;this.bDataAvailable=false;this.bIgnoreSuspend=false;this.oCombinedFilter=null;this.oModel.checkFilter(this.aApplicationFilters);if(!this.oModel.getServiceMetadata()){var r=this,h=function(t){r.bInitial=false;r._initSortersFilters();r.oModel.detachMetadataLoaded(h)};this.oModel.attachMetadataLoaded(this,h)}else{this.bInitial=false;this._initSortersFilters()}var o=this.oModel._getObject(this.sPath,this.oContext);this.aExpandRefs=o;if(Array.isArray(o)&&!s&&!a){this.aKeys=o;this.iLength=o.length;this.bLengthFinal=true;this.bDataAvailable=true}else if(o===null&&this.oModel.resolve(this.sPath,this.oContext)){this.aKeys=[];this.iLength=0;this.bLengthFinal=true;this.bDataAvailable=true}else if(this.oModel.getServiceMetadata()){this.resetData()}}});c.prototype.getAllCurrentContexts=function(){var t=[],e=this;this.aKeys.forEach(function(i){t.push(e.oModel.getContext("/"+i))});return t};c.prototype.getContexts=function(t,e,i){if(this.bInitial){return[]}this.iLastLength=e;this.iLastStartIndex=t;this.iLastThreshold=i;if(!t){t=0}if(!e){e=this.oModel.iSizeLimit;if(this.bLengthFinal&&this.iLength<e){e=this.iLength}}if(!i){i=0}var s=true,n=this._getContexts(t,e),o={},l;l=this.calculateSection(t,e,i,n);s=n.length!=e&&!(this.bLengthFinal&&n.length>=this.iLength-t);if(this.oModel.getServiceMetadata()){if(!this.bPendingRequest&&l.length>0&&(s||e<l.length)){this.loadData(l.startIndex,l.length);n.dataRequested=true}}if(this.bRefresh){if(this.bLengthFinal&&this.iLength==0){this.loadData(l.startIndex,l.length,true);n.dataRequested=true}this.bRefresh=false}else{for(var u=0;u<n.length;u++){o[n[u].getPath()]=n[u].getObject()}if(this.bUseExtendedChangeDetection){if(this.aLastContexts&&t<this.iLastEndIndex){var f=this;var d=h(this.aLastContexts,n,function(t,e){return a(t&&f.oLastContextData&&f.oLastContextData[t.getPath()],e&&o&&o[e.getPath()])});n.diff=d}}this.iLastEndIndex=t+e;this.aLastContexts=n.slice(0);this.oLastContextData=r({},o)}return n};c.prototype.getCurrentContexts=function(){return this.aLastContexts||[]};c.prototype._getContexts=function(t,e){var i=[],s,a;if(!t){t=0}if(!e){e=this.oModel.iSizeLimit;if(this.bLengthFinal&&this.iLength<e){e=this.iLength}}for(var n=t;n<t+e;n++){a=this.aKeys[n];if(!a){break}s=this.oModel.getContext("/"+a);i.push(s)}return i};c.prototype.calculateSection=function(t,e,i,s){var a,n,r,h,o,l={},u;n=t;a=0;for(var f=t;f>=Math.max(t-i,0);f--){u=this.aKeys[f];if(!u){h=f+1;break}}for(var d=t+e;d<t+e+i;d++){u=this.aKeys[d];if(!u){r=d;break}}o=t-h;if(h&&t>i&&o<i){if(s.length!=e){n=t-i}else{n=h-i}a=i}n=Math.max(n,0);if(n==t){n+=s.length}if(s.length!=e){a+=e-s.length}o=r-t-e;if(o==0){a+=i}if(r&&o<i&&o>0){if(n>t){n=r;a+=i}}if(this.bLengthFinal&&this.iLength<a+n){a=this.iLength-n}l.startIndex=n;l.length=a;return l};c.prototype.setContext=function(t){if(this.oContext!=t){this.oContext=t;if(this.isRelative()){this._initSortersFilters();if(!this.bInitial){var e=this.oModel._getObject(this.sPath,this.oContext);this.aExpandRefs=e;if(Array.isArray(e)&&!this.aSorters.length>0&&!this.aFilters.length>0){this.aKeys=e;this.iLength=e.length;this.bLengthFinal=true;this._fireChange({reason:o.Context})}else if(!this.oModel.resolve(this.sPath,this.oContext)||e===null){this.aKeys=[];this.iLength=0;this.bLengthFinal=true;this._fireChange({reason:o.Context})}else{this.refresh()}}}}};c.prototype.getDownloadUrl=function(t){var e=[],i;if(t){e.push("$format="+encodeURIComponent(t))}if(this.sSortParams){e.push(this.sSortParams)}if(this.sFilterParams){e.push(this.sFilterParams)}if(this.sCustomParams){e.push(this.sCustomParams)}i=this.oModel.resolve(this.sPath,this.oContext);return i&&this.oModel._createRequestUrl(i,null,e)};c.prototype.loadData=function(e,i,s){var a=this,r=false;if(e||i){this.sRangeParams="$skip="+e+"&$top="+i;this.iStartIndex=e}else{e=this.iStartIndex}var h=[];if(this.sRangeParams){h.push(this.sRangeParams)}if(this.sSortParams){h.push(this.sSortParams)}if(this.sFilterParams){h.push(this.sFilterParams)}if(this.sCustomParams){h.push(this.sCustomParams)}if(!this.bLengthFinal&&(this.sCountMode==t.Inline||this.sCountMode==t.Both)){h.push("$inlinecount=allpages");r=true}function l(t){n(t.results,function(t,i){a.aKeys[e+t]=a.oModel._getKey(i)});if(r&&t.__count){a.iLength=parseInt(t.__count);a.bLengthFinal=true}if(a.iLength<e+t.results.length){a.iLength=e+t.results.length;a.bLengthFinal=false}if(t.results.length<i||i===undefined){a.iLength=e+t.results.length;a.bLengthFinal=true}if(e==0&&t.results.length==0){a.iLength=0;a.bLengthFinal=true}a.oRequestHandle=null;a.bPendingRequest=false;a.bNeedsUpdate=true;a.bIgnoreSuspend=true}function u(t){a.fireDataReceived({data:t})}function f(t,e){a.oRequestHandle=null;a.bPendingRequest=false;if(!e){a.aKeys=[];a.iLength=0;a.bLengthFinal=true;a.bDataAvailable=true;a._fireChange({reason:o.Change})}a.fireDataReceived()}function d(t){a.oRequestHandle=t}var p=this.sPath,g=this.oContext;if(this.isRelative()){p=this.oModel.resolve(p,g)}if(p){if(s){var c=this.oModel._createRequestUrl(p,null,h);this.fireDataRequested();this.oModel.fireRequestSent({url:c,method:"GET",async:true});setTimeout(function(){a.bNeedsUpdate=true;a.checkUpdate();a.oModel.fireRequestCompleted({url:c,method:"GET",async:true,success:true});a.fireDataReceived({data:{}})},0)}else{this.bPendingRequest=true;this.fireDataRequested();this.oModel._loadData(p,h,l,f,false,d,u)}}};c.prototype.getLength=function(){if(this.bLengthFinal||this.iLength==0){return this.iLength}else{var t=this.iLastThreshold||this.iLastLength||10;return this.iLength+t}};c.prototype.isLengthFinal=function(){return this.bLengthFinal};c.prototype._getLength=function(){var t=this;var e=[];if(this.sFilterParams){e.push(this.sFilterParams)}if(this.mParameters&&this.mParameters.custom){var i={custom:{}};n(this.mParameters.custom,function(t,e){i.custom[t]=e});e.push(this.oModel.createCustomParams(i))}function a(e){t.iLength=parseInt(e);t.bLengthFinal=true}function r(t){var e="Request for $count failed: "+t.message;if(t.response){e+=", "+t.response.statusCode+", "+t.response.statusText+", "+t.response.body}s.warning(e)}var h=this.oModel.resolve(this.sPath,this.oContext);if(h){var o=this.oModel._createRequestUrl(h+"/$count",null,e);var l=this.oModel._createRequest(o,"GET",false);l.headers["Accept"]="text/plain, */*;q=0.5";this.oModel._request(l,a,r,undefined,undefined,this.oModel.getServiceMetadata())}};c.prototype.refresh=function(t,e,i){var s=false;if(!t){if(i){var a=this.oModel.resolve(this.sPath,this.oContext);var r=this.oModel.oMetadata._getEntityTypeByPath(a);if(r&&r.entityType in i){s=true}}if(e&&!s){n(this.aKeys,function(t,i){if(i in e){s=true;return false}return true})}if(!e&&!i){s=true}}if(t||s){this.abortPendingRequest();this.resetData();this._fireRefresh({reason:o.Refresh})}};c.prototype._fireRefresh=function(t){if(this.oModel.resolve(this.sPath,this.oContext)){this.bRefresh=true;this.fireEvent("refresh",t)}};c.prototype.initialize=function(){if(this.oModel.oMetadata.isLoaded()){if(this.bDataAvailable){this._fireChange({reason:o.Change})}else{this._fireRefresh({reason:o.Refresh})}}};c.prototype.checkUpdate=function(t,e){var i=this.sChangeReason?this.sChangeReason:o.Change,s=false,r,h,l=this,u,f;if(this.bSuspended&&!this.bIgnoreSuspend){return}if(!t&&!this.bNeedsUpdate){u=this.oModel._getObject(this.sPath,this.oContext);f=Array.isArray(u)&&!a(u,this.aExpandRefs);this.aExpandRefs=u;if(f){if(this.aSorters.length>0||this.aFilters.length>0){this.refresh();return}else{this.aKeys=u;this.iLength=u.length;this.bLengthFinal=true;s=true}}else if(e){n(this.aKeys,function(t,i){if(i in e){s=true;return false}return true})}else{s=true}if(s&&this.aLastContexts){s=false;var d=this._getContexts(this.iLastStartIndex,this.iLastLength,this.iLastThreshold);if(this.aLastContexts.length!=d.length){s=true}else{n(this.aLastContexts,function(t,e){r=l.oLastContextData[e.getPath()];h=d[t].getObject();if(!a(r,h,true)){s=true;return false}return true})}}}if(t||s||this.bNeedsUpdate){this.bNeedsUpdate=false;this._fireChange({reason:i})}this.sChangeReason=undefined;this.bIgnoreSuspend=false};c.prototype.resetData=function(){this.aKeys=[];this.iLength=0;this.bLengthFinal=false;this.sChangeReason=undefined;this.bDataAvailable=false;if(this.oModel.isCountSupported()&&(this.sCountMode==t.Request||this.sCountMode==t.Both)){this._getLength()}};c.prototype.abortPendingRequest=function(){if(this.oRequestHandle){this.oRequestHandle.abort();this.oRequestHandle=null;this.bPendingRequest=false}};c.prototype.sort=function(t,e){var i=false;if(!t){t=[]}if(t instanceof p){t=[t]}this.aSorters=t;this.createSortParams(t);if(!this.bInitial){this.aKeys=[];this.abortPendingRequest();this.sChangeReason=o.Sort;this._fireRefresh({reason:this.sChangeReason});this._fireSort({sorter:t});i=true}if(e){return i}else{return this}};c.prototype.createSortParams=function(t){this.sSortParams=e.createSortParams(t)};c.prototype.filter=function(t,e,i){var s=false;if(!t){t=[]}if(t instanceof l){t=[t]}this.oModel.checkFilter(t);if(e==f.Application){this.aApplicationFilters=t}else{this.aFilters=t}if(!t||!Array.isArray(t)||t.length==0){this.aFilters=[]}if(!this.aApplicationFilters||!Array.isArray(this.aApplicationFilters)||this.aApplicationFilters.length===0){this.aApplicationFilters=[]}this.convertFilters();this.oCombinedFilter=u.combineFilters(this.aFilters,this.aApplicationFilters);this.createFilterParams(this.oCombinedFilter);if(!this.bInitial){this.resetData();this.abortPendingRequest();this.sChangeReason=o.Filter;this._fireRefresh({reason:this.sChangeReason});if(e==f.Application){this._fireFilter({filters:this.aApplicationFilters})}else{this._fireFilter({filters:this.aFilters})}s=true}if(i){return s}else{return this}};c.prototype.convertFilters=function(){this.aFilters=this.aFilters.map(function(t){return t instanceof g?t.convert():t});this.aApplicationFilters=this.aApplicationFilters.map(function(t){return t instanceof g?t.convert():t})};c.prototype.createFilterParams=function(t){this.sFilterParams=e.createFilterParams(t,this.oModel.oMetadata,this.oEntityType)};c.prototype._initSortersFilters=function(){var t=this.oModel.resolve(this.sPath,this.oContext);if(!t){return}this.oEntityType=this._getEntityType();this.convertFilters();this.oCombinedFilter=u.combineFilters(this.aFilters,this.aApplicationFilters);this.createSortParams(this.aSorters);this.createFilterParams(this.oCombinedFilter)};c.prototype._getEntityType=function(){var t=this.oModel.resolve(this.sPath,this.oContext);if(t){var e=this.oModel.oMetadata._getEntityTypeByPath(t);i(e,"EntityType for path "+t+" could not be found!");return e}return undefined};c.prototype.resume=function(){this.bIgnoreSuspend=false;d.prototype.resume.apply(this,arguments)};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataModel", ["./CountMode","./ODataContextBinding","./ODataListBinding","./ODataMetadata","./ODataPropertyBinding","./ODataTreeBinding","./ODataUtils","sap/base/assert","sap/base/Log","sap/base/i18n/Localization","sap/base/security/encodeURL","sap/base/util/each","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/merge","sap/base/util/uid","sap/ui/core/Supportability","sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/model/FilterProcessor","sap/ui/model/Model","sap/ui/model/odata/ODataAnnotations","sap/ui/model/odata/ODataMetaModel","sap/ui/thirdparty/datajs","sap/ui/thirdparty/URI"],function(e,t,a,s,i,r,n,o,d,u,h,f,c,l,p,y,_,g,b,m,v,M,R,T,C,U){"use strict";var A=M.extend("sap.ui.model.odata.ODataModel",{constructor:function(t,a,i,r,o,d,h,f){M.apply(this,arguments);var c,l,p,y=null,_,m,v,R,T,U,q=this;if(typeof t==="object"){a=t;t=a.serviceUrl}if(typeof a==="object"){i=a.user;r=a.password;o=a.headers;d=a.tokenHandling;f=a.loadMetadataAsync;h=a.withCredentials;p=a.maxDataServiceVersion;c=a.useBatch;l=a.refreshAfterChange;y=a.annotationURI;_=a.loadAnnotationsJoined;v=a.defaultCountMode;m=a.metadataNamespaces;R=a.serviceUrlParams;T=a.metadataUrlParams;U=a.skipMetadataAnnotationParsing;a=a.json}this.oServiceData={};this.sDefaultBindingMode=b.OneWay;this.mSupportedBindingModes={OneWay:true,OneTime:true,TwoWay:true};this.mUnsupportedFilterOperators={All:true,Any:true,NotAll:true,NotAny:true};this.bCountSupported=true;this.bJSON=a;this.bCache=true;this.aPendingRequestHandles=[];this.oRequestQueue={};this.aBatchOperations=[];this.oHandler=undefined;this.bTokenHandling=d!==false;this.bWithCredentials=h===true;this.bUseBatch=c===true;this.bRefreshAfterChange=l!==false;this.sMaxDataServiceVersion=p;this.bLoadMetadataAsync=!!f;this.bLoadAnnotationsJoined=_===undefined?true:_;this.sAnnotationURI=y;this.sDefaultCountMode=v||e.Both;this.oMetadataLoadEvent=null;this.oMetadataFailedEvent=null;this.bSkipMetadataAnnotationParsing=U;this.oHeaders={};this.setHeaders(o);this.oData={};this.oMetadata=null;this.oAnnotations=null;this.aUrlParams=[];if(t.indexOf("?")==-1){this.sServiceUrl=t}else{var E=t.split("?");this.sServiceUrl=E[0];if(E[1]){this.aUrlParams.push(E[1])}}if(g.isStatisticsEnabled()){this.aUrlParams.push("sap-statistics=true")}this.sServiceUrl=this.sServiceUrl.replace(/\/$/,"");var P=this._createRequestUrl("$metadata",undefined,T);if(!A.mServiceData[P]){A.mServiceData[P]={}}this.oServiceData=A.mServiceData[P];if(this.bTokenHandling&&this.oServiceData.securityToken){this.oHeaders["x-csrf-token"]=this.oServiceData.securityToken}this.sUser=i;this.sPassword=r;this.oHeaders["Accept-Language"]=u.getLanguageTag().toString();if(!this.oServiceData.oMetadata){this.oServiceData.oMetadata=new s(P,{async:this.bLoadMetadataAsync,user:this.sUser,password:this.sPassword,headers:this.mCustomHeaders,namespaces:m,withCredentials:this.bWithCredentials})}this.oMetadata=this.oServiceData.oMetadata;this.pAnnotationsLoaded=this.oMetadata.loaded();if(this.sAnnotationURI||!this.bSkipMetadataAnnotationParsing){var S=this._getAnnotationParser();if(!this.bSkipMetadataAnnotationParsing){if(!this.bLoadMetadataAsync){this.addAnnotationXML(this.oMetadata.sMetadataBody,!!this.sAnnotationURI)}else{this.pAnnotationsLoaded=this.oMetadata.loaded().then(function(e,t){if(this.bDestroyed){return Promise.reject()}return this.addAnnotationXML(t["metadataString"],e)}.bind(this,!!this.sAnnotationURI))}}if(this.sAnnotationURI){if(this.bLoadMetadataAsync){this.pAnnotationsLoaded=this.pAnnotationsLoaded.then(S.addUrl.bind(S,this.sAnnotationURI))}else{this.pAnnotationsLoaded=Promise.all([this.pAnnotationsLoaded,S.addUrl(this.sAnnotationURI)])}}}if(R){this.aUrlParams=this.aUrlParams.concat(n._createUrlParamsArray(R))}this.onMetadataLoaded=function(e){q._initializeMetadata();q.initialize()};this.onMetadataFailed=function(e){q.fireMetadataFailed(e.getParameters())};if(!this.oMetadata.isLoaded()){this.oMetadata.attachLoaded(this.onMetadataLoaded);this.oMetadata.attachFailed(this.onMetadataFailed)}if(this.oMetadata.isFailed()){this.refreshMetadata()}if(this.oMetadata.isLoaded()){this._initializeMetadata(true)}if(this.bJSON){if(this.sMaxDataServiceVersion==="3.0"){this.oHeaders["Accept"]="application/json;odata=fullmetadata"}else{this.oHeaders["Accept"]="application/json"}this.oHandler=C.jsonHandler}else{this.oHeaders["Accept"]="application/atom+xml,application/atomsvc+xml,application/xml";this.oHandler=C.atomHandler}this.oHeaders["MaxDataServiceVersion"]="2.0";if(this.sMaxDataServiceVersion){this.oHeaders["MaxDataServiceVersion"]=this.sMaxDataServiceVersion}this.oHeaders["DataServiceVersion"]="2.0"},metadata:{publicMethods:["create","remove","update","submitChanges","getServiceMetadata","read","hasPendingChanges","refresh","refreshMetadata","resetChanges","isCountSupported","setCountSupported","setDefaultCountMode","getDefaultCountMode","forceNoCache","setProperty","getSecurityToken","refreshSecurityToken","setHeaders","getHeaders","setUseBatch"]}});A.M_EVENTS={RejectChange:"rejectChange",MetadataLoaded:"metadataLoaded",MetadataFailed:"metadataFailed",AnnotationsLoaded:"annotationsLoaded",AnnotationsFailed:"annotationsFailed"};A.mServiceData={};A.prototype.fireRejectChange=function(e){this.fireEvent("rejectChange",e);return this};A.prototype.attachRejectChange=function(e,t,a){this.attachEvent("rejectChange",e,t,a);return this};A.prototype.detachRejectChange=function(e,t){this.detachEvent("rejectChange",e,t);return this};A.prototype._initializeMetadata=function(e){var t=this;this.bUseBatch=this.bUseBatch||this.oMetadata.getUseBatch();var a=function(e){if(e){t.metadataLoadEvent=setTimeout(a.bind(t),0)}else if(t.oMetadata){t.fireMetadataLoaded({metadata:t.oMetadata});d.debug("ODataModel fired metadataloaded")}};if(this.sAnnotationURI&&this.bLoadAnnotationsJoined){if(this.oAnnotations&&(this.oAnnotations.bInitialized||this.oAnnotations.isFailed())){a(!this.bLoadMetadataAsync)}else{this.oAnnotations.attachEventOnce("loaded",function(){a(true)})}}else{a(e)}};A.prototype.fireAnnotationsLoaded=function(e){if(!this.bLoadMetadataAsync){setTimeout(this.fireEvent.bind(this,"annotationsLoaded",e),0)}else{this.fireEvent("annotationsLoaded",e)}return this};A.prototype.attachAnnotationsLoaded=function(e,t,a){this.attachEvent("annotationsLoaded",e,t,a);return this};A.prototype.detachAnnotationsLoaded=function(e,t){this.detachEvent("annotationsLoaded",e,t);return this};A.prototype.fireAnnotationsFailed=function(e){if(!this.bLoadMetadataAsync){setTimeout(this.fireEvent.bind(this,"annotationsFailed",e),0)}else{this.fireEvent("annotationsFailed",e)}d.debug("ODataModel fired annotationsFailed");return this};A.prototype.attachAnnotationsFailed=function(e,t,a){this.attachEvent("annotationsFailed",e,t,a);return this};A.prototype.detachAnnotationsFailed=function(e,t){this.detachEvent("annotationsFailed",e,t);return this};A.prototype.fireMetadataLoaded=function(e){this.fireEvent("metadataLoaded",e);return this};A.prototype.attachMetadataLoaded=function(e,t,a){this.attachEvent("metadataLoaded",e,t,a);return this};A.prototype.detachMetadataLoaded=function(e,t){this.detachEvent("metadataLoaded",e,t);return this};A.prototype.fireMetadataFailed=function(e){this.fireEvent("metadataFailed",e);return this};A.prototype.attachMetadataFailed=function(e,t,a){this.attachEvent("metadataFailed",e,t,a);return this};A.prototype.detachMetadataFailed=function(e,t){this.detachEvent("metadataFailed",e,t);return this};A.prototype.refreshMetadata=function(){if(this.oMetadata&&this.oMetadata.refresh){this.oMetadata.refresh().catch(e=>{d.fatal(e)})}};A.prototype._createRequestUrl=function(e,t,a,s,i){var r,o,d,u="";if(e&&e.indexOf("?")!=-1){d=e.substr(e.indexOf("?")+1);e=e.substr(0,e.indexOf("?"))}o=this._normalizePath(e,t);if(!s){u=this.sServiceUrl+o}else{u=o.substr(o.indexOf("/")+1)}r=n._createUrlParamsArray(a);if(this.aUrlParams){r=r.concat(this.aUrlParams)}if(d){r.push(d)}if(r.length>0){u+="?"+r.join("&")}if(i===undefined){i=true}if(i===false){var h=Date.now();var f=u.replace(/([?&])_=[^&]*/,"$1_="+h);u=f+(f===u?(/\?/.test(u)?"&":"?")+"_="+h:"")}return u};A.prototype._loadData=function(e,t,a,s,i,r,n){var o,u=[],h=this._createRequestUrl(e,null,t,null,i||this.bCache),f=this._createRequest(h,"GET",true),c=this;function l(e,t){var s=e,i={};if(t.statusCode==204){if(a){a(null)}if(n){n(null)}c.fireRequestCompleted({url:f.requestUri,type:"GET",async:f.async,info:"Accept headers:"+c.oHeaders["Accept"],infoObject:{acceptHeaders:c.oHeaders["Accept"]},success:true});return undefined}if(!s){d.fatal("The following problem occurred: No data was retrieved by service: "+t.requestUri);c.fireRequestCompleted({url:f.requestUri,type:"GET",async:f.async,info:"Accept headers:"+c.oHeaders["Accept"],infoObject:{acceptHeaders:c.oHeaders["Accept"]},success:false});return false}if(c.bUseBatch){var r=c._getBatchErrors(e);if(r.length>0){p(r[0]);return false}if(s.__batchResponses&&s.__batchResponses.length>0){s=s.__batchResponses[0].data}else{d.fatal("The following problem occurred: No data was retrieved by service: "+t.requestUri)}}u=u.concat(s.results);if(s.__next){var o=new U(s.__next);f.requestUri=o.absoluteTo(t.requestUri).toString();y(f)}else{if(s.results){var h,l;for(l in u){h=u[l];if(u===h){continue}s.results[l]=h}}if(s.results&&!Array.isArray(s.results)){s=s.results}c._importData(s,i);if(c.sChangeKey&&i){var _=c.sChangeKey.substr(c.sChangeKey.lastIndexOf("/")+1);if(i[_]){delete c.oRequestQueue[c.sChangeKey];c.sChangeKey=null}}if(a){a(s)}c.checkUpdate(false,false,i);if(n){n(s)}c.fireRequestCompleted({url:f.requestUri,type:"GET",async:f.async,info:"Accept headers:"+c.oHeaders["Accept"],infoObject:{acceptHeaders:c.oHeaders["Accept"]},success:true})}return undefined}function p(e){if(c.bTokenHandling&&e.response){var t=c._getHeader("x-csrf-token",e.response.headers);if(!f.bTokenReset&&e.response.statusCode=="403"&&t&&t.toLowerCase()=="required"){c.resetSecurityToken();f.bTokenReset=true;y();return}}var a=c._handleError(e);if(s){s(e,o&&o.bAborted)}c.fireRequestCompleted({url:f.requestUri,type:"GET",async:f.async,info:"Accept headers:"+c.oHeaders["Accept"],infoObject:{acceptHeaders:c.oHeaders["Accept"]},success:false,errorobject:a});if(!o||!o.bAborted){a.url=f.requestUri;c.fireRequestFailed(a)}}function y(){if(c.bUseBatch){c.updateSecurityToken();var t=U.parse(f.requestUri).query;var a=c._createRequestUrl(e,null,t,c.bUseBatch);f=c._createRequest(a,"GET",true);if(c.bTokenHandling){delete f.headers["x-csrf-token"]}var s=c._createBatchRequest([f],true);o=c._request(s,l,p,C.batchHandler,undefined,c.getServiceMetadata())}else{o=c._request(f,l,p,c.oHandler,undefined,c.getServiceMetadata())}if(r){var i={abort:function(){o.bAborted=true;o.abort()}};r(i)}}if(c.bTokenHandling){delete f.headers["x-csrf-token"]}this.fireRequestSent({url:f.requestUri,type:"GET",async:f.async,info:"Accept headers:"+this.oHeaders["Accept"],infoObject:{acceptHeaders:this.oHeaders["Accept"]}});y()};A.prototype._importData=function(e,t){var a=this,s,i,r,n;if(e.results){s=[];f(e.results,function(e,i){s.push(a._importData(i,t))});return s}else{i=this._getKey(e);n=this.oData[i];if(!n){n=e;this.oData[i]=n}f(e,function(e,s){if(s&&(s.__metadata&&s.__metadata.uri||s.results)&&!s.__deferred){r=a._importData(s,t);if(Array.isArray(r)){n[e]={__list:r}}else{n[e]={__ref:r}}}else if(!s||!s.__deferred){n[e]=s}});t[i]=true;return i}};A.prototype._removeReferences=function(e){var t=this,a;if(e.results){a=[];f(e.results,function(e,s){a.push(t._removeReferences(s))});return a}else{f(e,function(t,a){if(a){if(a["__ref"]||a["__list"]){delete e[t]}}});return e}};A.prototype._restoreReferences=function(e){var t=this,a,s=[];if(e.results){a=[];f(e.results,function(e,s){a.push(t._restoreReferences(s))});return a}else{f(e,function(a,i){if(i&&i["__ref"]){var r=t._getObject("/"+i["__ref"]);o(r,"ODataModel inconsistent: "+i["__ref"]+" not found!");if(r){delete i["__ref"];e[a]=r;t._restoreReferences(r)}}else if(i&&i["__list"]){f(i["__list"],function(e,a){var r=t._getObject("/"+i["__list"][e]);o(r,"ODataModel inconsistent: "+i["__list"][e]+" not found!");if(r){s.push(r);t._restoreReferences(r)}});delete i["__list"];i.results=s;s=[]}});return e}};A.prototype.removeData=function(){this.oData={}};A.prototype.initialize=function(){var e=this.getBindings();f(e,function(e,t){t.initialize()})};A.prototype.refresh=function(e,t){if(t){this.removeData()}this._refresh(e)};A.prototype._refresh=function(e,t,a){var s=this.getBindings();f(s,function(s,i){i.refresh(e,t,a)})};A.prototype.checkUpdate=function(e,t,a,s){if(t){if(!this.sUpdateTimer){this.sUpdateTimer=setTimeout(function(){this.checkUpdate(e,false,a)}.bind(this),0)}return}if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null}var i=this.getBindings();f(i,function(t,i){if(!s||this.isMetaModelPath(i.getPath())){i.checkUpdate(e,a)}}.bind(this))};A.prototype.bindProperty=function(e,t,a){var s=new i(this,e,t,a);return s};A.prototype.bindList=function(e,t,s,i,r){var n=new a(this,e,t,s,i,r);return n};A.prototype.bindTree=function(e,t,a,s){var i=new r(this,e,t,a,s);return i};A.prototype.createBindingContext=function(e,t,a,s,i){var r=this.resolve(e,t);i=!!i;if(typeof t=="function"){s=t;t=null}if(typeof a=="function"){s=a;a=null}if(!r){if(s){s(null)}return null}var n=this._getObject(e,t),o,d,u=this;if(!i){i=this._isReloadNeeded(r,n,a)}if(!i){o=this._getKey(n);d=this.getContext("/"+o);if(s){s(d)}return d}if(s){var h=!e.startsWith("/");if(r){var f=[],c=this.createCustomParams(a);if(c){f.push(c)}this._loadData(r,f,function(a){o=a?u._getKey(a):undefined;if(o&&t&&h){var i=t.getPath();i=i.substr(1);if(u.oData[i]){u.oData[i][e]={__ref:o}}}d=u.getContext("/"+o);s(d)},function(){s(null)})}else{s(null)}}return undefined};A.prototype._isReloadNeeded=function(e,t,a){var s,i,r,n,o,d,u=[],h=[];if(!e){return false}if(!t){return true}if(a&&a["expand"]){r=a["expand"].replace(/\s/g,"");u=r.split(",")}if(u){for(i=0;i<u.length;i++){var f=u[i].indexOf("/");if(f!==-1){var c=u[i].slice(0,f);var l=u[i].slice(f+1);u[i]=[c,l]}}}for(i=0;i<u.length;i++){var p=u[i];if(Array.isArray(p)){var y=t[p[0]];var _=p[1];if(!y||y&&y.__deferred){return true}else if(y){if(y.__list&&y.__list.length>0){for(var g=0;g<y.__list.length;g++){n="/"+y.__list[g];s=this.getObject(n);o=this._isReloadNeeded(n,s,{expand:_});if(o){return true}}}else if(y.__ref){n="/"+y.__ref;s=this.getObject(n);o=this._isReloadNeeded(n,s,{expand:_});if(o){return true}}}}else if(t[p]===undefined||t[p]&&t[p].__deferred){return true}}if(a&&a["select"]){d=a["select"].replace(/\s/g,"");h=d.split(",")}for(i=0;i<h.length;i++){if(t[h[i]]===undefined){return true}}if(h.length==0){var b=this.oMetadata._getEntityTypeByPath(e);if(!b){return false}else{for(i=0;i<b.property.length;i++){if(t[b.property[i].name]===undefined){return true}}}}return false};A.prototype.destroyBindingContext=function(e){};A.prototype.createCustomParams=function(e){var t,a,s=[],i,r={expand:true,select:true};for(a in e){if(a in r){s.push("$"+a+"="+h(e[a]))}if(a=="custom"){i=e[a];for(t in i){if(t.indexOf("$")==0){d.warning("Trying to set OData parameter "+t+" as custom query option!")}else{s.push(t+"="+h(i[t]))}}}}return s.join("&")};A.prototype.bindContext=function(e,a,s){var i=new t(this,e,a,s);return i};A.prototype.setCountSupported=function(e){this.bCountSupported=e};A.prototype.isCountSupported=function(){return this.bCountSupported};A.prototype.setDefaultCountMode=function(e){this.sDefaultCountMode=e};A.prototype.getDefaultCountMode=function(){return this.sDefaultCountMode};A.prototype._getKey=function(e,t){var a,s;if(e instanceof m){a=e.getPath().substr(1)}else if(e&&e.__metadata&&e.__metadata.uri){s=e.__metadata.uri;a=s.substr(s.lastIndexOf("/")+1)}if(t){a=decodeURIComponent(a)}return a};A.prototype.getKey=function(e,t){return this._getKey(e,t)};A.prototype.createKey=function(e,t,a){var s=this.oMetadata._getEntityTypeByPath(e),i=e,r=this,d,u,h;o(s,'Could not find entity type of collection "'+e+'" in service metadata!');i+="(";if(s.key.propertyRef.length==1){d=s.key.propertyRef[0].name;o(d in t,'Key property "'+d+'" is missing in object!');h=this.oMetadata._getPropertyMetadata(s,d);u=n.formatValue(t[d],h.type);i+=a?u:encodeURIComponent(u)}else{f(s.key.propertyRef,function(e,f){if(e>0){i+=","}d=f.name;o(d in t,'Key property "'+d+'" is missing in object!');h=r.oMetadata._getPropertyMetadata(s,d);u=n.formatValue(t[d],h.type);i+=d;i+="=";i+=a?u:encodeURIComponent(u)})}i+=")";return i};A.prototype.getProperty=function(e,t,a){var s=this._getObject(e,t);if(a==null||a==undefined){return s}if(!p(s)){return s}s=y({},s);if(a==true){return this._restoreReferences(s)}else{return this._removeReferences(s)}};A.prototype._getObject=function(e,t){var a=this.isLegacySyntax()?this.oData:null,s=this.resolve(e,t),i,r,n,o,d,u;if(this.oMetadata&&s&&s.indexOf("/#")>-1){if(this.isMetaModelPath(s)){i=s.indexOf("/##");u=this.getMetaModel();if(!this.bMetaModelLoaded){return null}r=s.substr(0,i);n=s.substr(i+3);o=u.getMetaContext(r);a=u.getProperty(n,o)}else{a=this.oMetadata._getAnnotation(s)}}else{if(t){d=t.getPath();d=d.substr(1);a=this.oData[d]}if(!e){return a}var h=e.split("/"),f=0;if(!h[0]){a=this.oData;f++}while(a&&h[f]){a=a[h[f]];if(a){if(a.__ref){a=this.oData[a.__ref]}else if(a.__list){a=a.__list}else if(a.__deferred){a=undefined}}f++}}return a};A.prototype.updateSecurityToken=function(){if(this.bTokenHandling){if(!this.oServiceData.securityToken){this.refreshSecurityToken()}if(this.bTokenHandling){this.oHeaders["x-csrf-token"]=this.oServiceData.securityToken}}};A.prototype.resetSecurityToken=function(){delete this.oServiceData.securityToken;delete this.oHeaders["x-csrf-token"]};A.prototype.getSecurityToken=function(){var e=this.oServiceData.securityToken;if(!e){this.refreshSecurityToken();e=this.oServiceData.securityToken}return e};A.prototype.refreshSecurityToken=function(e,t,a){var s=this,i,r;a=a===true;i=this._createRequestUrl("/");var n=this._createRequest(i,"GET",a);n.headers["x-csrf-token"]="Fetch";function o(t,a){if(a){r=s._getHeader("x-csrf-token",a.headers);if(r){s.oServiceData.securityToken=r;s.oHeaders["x-csrf-token"]=r}else{s.resetSecurityToken();s.bTokenHandling=false}}if(e){e(t,a)}}function d(e){s.resetSecurityToken();s.bTokenHandling=false;s._handleError(e);if(t){t(e)}}return this._request(n,o,d,undefined,undefined,this.getServiceMetadata())};A.prototype._submitRequest=function(e,t,a,s,i,r){var n=this,o,d={};function u(s,u){if(t&&i){var c=n._getBatchErrors(s);if(c.length>0){h(c[0]);return false}if(s.__batchResponses&&s.__batchResponses.length>0){o=s.__batchResponses[0].data;if(!o&&s.__batchResponses[0].__changeResponses){o=s.__batchResponses[0].__changeResponses[0].data}}s=o}if(r){if(s&&s.__batchResponses){f(s.__batchResponses,function(e,t){if(t&&t.data){n._importData(t.data,d)}})}}n._handleETag(e,u,t);n._updateRequestQueue(e,t);if(n._isRefreshNeeded(e,u)){n._refresh(false,e.keys,e.entityTypes)}if(a){a(s,u)}return undefined}function h(t){if(n.bTokenHandling&&t.response){var a=n._getHeader("x-csrf-token",t.response.headers);if(!e.bTokenReset&&t.response.statusCode=="403"&&a&&a.toLowerCase()=="required"){n.resetSecurityToken();e.bTokenReset=true;c();return}}n._handleError(t);if(s){s(t)}}function c(){if(n.bTokenHandling){delete e.headers["x-csrf-token"]}if(n.bTokenHandling&&e.method!=="GET"){n.updateSecurityToken();if(n.bTokenHandling){e.headers["x-csrf-token"]=n.oServiceData.securityToken}}if(t){return n._request(e,u,h,C.batchHandler,undefined,n.getServiceMetadata())}else{return n._request(e,u,h,n.oHandler,undefined,n.getServiceMetadata())}}return c()};A.prototype._createBatchRequest=function(e,t){var a,s,i={},r={},n={},o={};r.__batchRequests=e;a=this.sServiceUrl+"/$batch";if(this.aUrlParams.length>0){a+="?"+this.aUrlParams.join("&")}c(i,this.mCustomHeaders,this.oHeaders);delete i["Content-Type"];s={headers:i,requestUri:a,method:"POST",data:r,user:this.sUser,password:this.sPassword,async:t};if(t){s.withCredentials=this.bWithCredentials}f(e,function(e,t){if(t["__changeRequests"]){f(t["__changeRequests"],function(e,t){if(t.keys&&t.method!="POST"){f(t.keys,function(e,t){n[e]=t})}else if(t.entityTypes&&t.method=="POST"){f(t.entityTypes,function(e,t){o[e]=t})}})}});s.keys=n;s.entityTypes=o;return s};A.prototype._handleETag=function(e,t,a){var s,i,r,n,o,u;if(a){o=e.data.__batchRequests;u=t.data.__batchResponses;if(u&&o){for(var h=0;h<o.length;h++){r=o[h].__changeRequests;if(u[h]){n=u[h].__changeResponses;if(r&&n){for(var f=0;f<r.length;f++){if(r[f].method=="MERGE"||r[f].method=="PUT"){s=r[f].requestUri.replace(this.sServiceUrl+"/","");if(!s.startsWith("/")){s="/"+s}i=this._getObject(s);if(i&&i.__metadata&&n[f].headers&&n[f].headers.ETag){i.__metadata.etag=n[f].headers.ETag}}}}}else{d.warning("could not update ETags for batch request: corresponding response for request missing")}}}else{d.warning("could not update ETags for batch request: no batch responses/requests available")}}else{s=e.requestUri.replace(this.sServiceUrl+"/","");if(!s.startsWith("/")){s="/"+s}i=this._getObject(s);if(i&&i.__metadata&&t.headers.ETag){i.__metadata.etag=t.headers.ETag}}};A.prototype._handleBatchErrors=function(e,t){this._getBatchErrors(t);this._handleETag()};A.prototype._getBatchErrors=function(e){var t=[],a;f(e.__batchResponses,function(e,s){if(s.message){a="The following problem occurred: "+s.message;if(s.response){a+=s.response.statusCode+","+s.response.statusText+","+s.response.body}t.push(s);d.fatal(a)}if(s.__changeResponses){f(s.__changeResponses,function(e,s){if(s.message){a="The following problem occurred: "+s.message;if(s.response){a+=s.response.statusCode+","+s.response.statusText+","+s.response.body}t.push(s);d.fatal(a)}})}});return t};A.prototype._handleError=function(e){var t={},a;var s="The following problem occurred: "+e.message;t.message=e.message;if(e.response){if(this.bTokenHandling){a=this._getHeader("x-csrf-token",e.response.headers);if(e.response.statusCode=="403"&&a&&a.toLowerCase()=="required"){this.resetSecurityToken()}}s+=e.response.statusCode+","+e.response.statusText+","+e.response.body;t.statusCode=e.response.statusCode;t.statusText=e.response.statusText;t.responseText=e.response.body}d.fatal(s);return t};A.prototype.getData=function(e,t,a){return this.getProperty(e,t,a)};A.prototype._getETag=function(e,t,a){var s,i,r;if(a){s=a}else if(t&&t.__metadata){s=t.__metadata.etag}else if(e){i=e.replace(this.sServiceUrl+"/","");r=i.indexOf("?");if(r>-1){i=i.substr(0,r)}if(this.oData.hasOwnProperty(i)){s=this.getProperty("/"+i+"/__metadata/etag")}}return s};A.prototype._createRequest=function(e,t,a,s,i){var r={},n;c(r,this.mCustomHeaders,this.oHeaders);n=this._getETag(e,s,i);if(n&&t!="GET"){r["If-Match"]=n}if(this.bJSON&&t!="DELETE"&&this.sMaxDataServiceVersion==="2.0"){r["Content-Type"]="application/json"}if(t=="MERGE"&&!this.bUseBatch){r["x-http-method"]="MERGE";t="POST"}var o={headers:r,requestUri:e,method:t,user:this.sUser,password:this.sPassword,async:a};if(s){o.data=s}if(a){o.withCredentials=this.bWithCredentials}return o};A.prototype._isRefreshNeeded=function(e,t){var a=false,s,i=[],r=this;if(!this.bRefreshAfterChange){return a}if(e.data&&Array.isArray(e.data.__batchRequests)){if(t){i=r._getBatchErrors(t.data);f(i,function(e,t){if(t.response&&t.response.statusCode=="412"){s=t.response.statusCode;return false}return true});if(s){return false}}f(e.data.__batchRequests,function(e,t){if(Array.isArray(t.__changeRequests)){f(t.__changeRequests,function(e,t){a=a||r._isRefreshNeeded(t);return!a})}return!a})}else if(e.method==="GET"){return false}else if(t&&t.statusCode=="412"){a=false}else{a=true}return a};A.prototype.update=function(e,t,a){var s,i,r,n,o,d,u,h,f,c,l,p,y=false;if(a instanceof m||arguments.length>3){d=a;s=arguments[3];i=arguments[4];r=arguments[5]}else{d=a.context||a.oContext;s=a.success||a.fnSuccess;i=a.error||a.fnError;u=a.eTag||a.sETag;r=typeof a.merge=="undefined"?a.bMerge===true:a.merge===true;y=typeof a.async=="undefined"?a.bAsync===true:a.async===true;p=a.urlParameters}o=this._createRequestUrl(e,d,p,this.bUseBatch);if(r){n=this._createRequest(o,"MERGE",y,t,u)}else{n=this._createRequest(o,"PUT",y,t,u)}e=this._normalizePath(e,d);c=this._getObject(e);n.keys={};if(c){l=this._getKey(c);n.keys[l]=true}if(this.bUseBatch){f=this._createBatchRequest([{__changeRequests:[n]}],y);h=this._submitRequest(f,this.bUseBatch,s,i,true)}else{h=this._submitRequest(n,this.bUseBatch,s,i)}return h};A.prototype.create=function(e,t,a){var s,i,r,n,o,d,u,h,f=false,c;if(a&&typeof a=="object"&&!(a instanceof m)){d=a.context;u=a.success;c=a.urlParameters;h=a.error;f=a.async===true}else{d=a;u=arguments[3];h=arguments[4]}r=this._createRequestUrl(e,d,c,this.bUseBatch);s=this._createRequest(r,"POST",f,t);e=this._normalizePath(e,d);o=this.oMetadata._getEntityTypeByPath(e);s.entityTypes={};if(o){s.entityTypes[o.entityType]=true}if(this.bUseBatch){i=this._createBatchRequest([{__changeRequests:[s]}],f);n=this._submitRequest(i,this.bUseBatch,u,h,true)}else{n=this._submitRequest(s,this.bUseBatch,u,h)}return n};A.prototype.remove=function(e,t){var a,s,i,r,n,o,d,u,h,f,c,l,p,y,_=false,g=this;if(t instanceof m||arguments[2]){a=t;r=arguments[2];n=arguments[3]}else if(t){a=t.context||t.oContext;r=t.success||t.fnSuccess;n=t.error||t.fnError;u=t.eTag||t.sETag;f=t.payload||t.oPayload;_=typeof t.async=="undefined"?t.bAsync===true:t.async===true;y=t.urlParameters}c=function(e,t){s=d.substr(d.lastIndexOf("/")+1);if(s.indexOf("?")!=-1){s=s.substr(0,s.indexOf("?"))}delete g.oData[s];delete g.mContexts["/"+s];if(r){r(e,t)}};d=this._createRequestUrl(e,a,y,this.bUseBatch);o=this._createRequest(d,"DELETE",_,f,u);e=this._normalizePath(e,a);i=this._getObject(e);o.keys={};if(i){h=this._getKey(i);o.keys[h]=true}if(this.bUseBatch){l=this._createBatchRequest([{__changeRequests:[o]}],_);p=this._submitRequest(l,this.bUseBatch,c,n,true)}else{p=this._submitRequest(o,this.bUseBatch,c,n)}return p};A.prototype.callFunction=function(e,t){var a,s,i,r,u,h,c,l,p,y,_="GET",g={},b=this;if(t&&typeof t=="object"){_=t.method?t.method:_;h=t.urlParameters;c=t.context;l=t.success;p=t.error;y=t.async===true}else{_=t;h=arguments[2];c=arguments[3];l=arguments[4];p=arguments[5];y=arguments[6]===true}u=this.oMetadata._getFunctionImportMetadata(e,_);o(u,"Function "+e+" not found in the metadata !");if(u){i=this._createRequestUrl(e,c,null,this.bUseBatch);var m=new U(i);if(u.parameter!=null){f(h,function(t,a){var s=u.parameter.filter(function(e){return e.name==t&&e.mode=="In"});if(s.length>0){var i=s[0];g[t]=n.formatValue(a,i.type)}else{d.warning("Parameter "+t+" is not defined for function call "+e+"!")}})}if(_==="GET"){return b.read(e,c,g,true,l,p)}else{f(g,function(e,t){m.addQuery(e,t)});a=this._createRequest(m.toString(),_,y);if(this.bUseBatch){s=this._createBatchRequest([{__changeRequests:[a]}],y);r=this._submitRequest(s,this.bUseBatch,l,p,true)}else{r=this._submitRequest(a,this.bUseBatch,l,p)}return r}}return undefined};A.prototype.read=function(e,t){var a,s,i,r,o,u,h,f,c,l,p,y,_,g,b,M,R;if(t&&typeof t=="object"&&!(t instanceof m)){o=t.context;u=t.urlParameters;h=t.async!==false;f=t.success;c=t.error;l=t.filters;p=t.sorters}else{o=t;u=arguments[2];h=arguments[3]!==false;f=arguments[4];c=arguments[5]}h=h!==false;R=n._createUrlParamsArray(u);_=n.createSortParams(p);if(_){R.push(_)}if(l&&!this.oMetadata){d.fatal("Tried to use filters in read method before metadata is available.")}else{M=this._normalizePath(e,o);b=this.oMetadata&&this.oMetadata._getEntityTypeByPath(M);g=v.groupFilters(l);y=n.createFilterParams(g,this.oMetadata,b);if(y){R.push(y)}}s=this._createRequestUrl(e,o,R,this.bUseBatch);a=this._createRequest(s,"GET",h);if(this.bUseBatch){r=this._createBatchRequest([a],h);i=this._submitRequest(r,this.bUseBatch,f,c,true)}else{i=this._submitRequest(a,this.bUseBatch,f,c)}return i};A.prototype.createBatchOperation=function(e,t,a,s){var i={},r,n,o,d;c(i,this.mCustomHeaders,this.oHeaders);if(e.startsWith("/")){e=e.substr(1)}if(s){r=s.sETag}if(t!="GET"){r=this._getETag(e,a,r);if(r){i["If-Match"]=r}}if(this.bJSON){if(t!="DELETE"&&t!="GET"&&this.sMaxDataServiceVersion==="2.0"){i["Content-Type"]="application/json"}}else{i["Content-Type"]="application/atom+xml"}var u={requestUri:e,method:t.toUpperCase(),headers:i};if(a){u.data=a}if(t!="GET"&&t!="POST"){if(e&&e.indexOf("/")!=0){e="/"+e}n=this._getObject(e);if(n){o=this._getKey(n);u.keys={};u.keys[o]=true}}else if(t=="POST"){var h=e;if(e.indexOf("?")!=-1){h=e.substr(0,e.indexOf("?"))}d=this.oMetadata._getEntityTypeByPath(h);if(d){u.entityTypes={};u.entityTypes[d.entityType]=true}}return u};A.prototype.addBatchReadOperations=function(e){if(!Array.isArray(e)||e.length<=0){d.warning("No array with batch operations provided!");return false}var t=this;f(e,function(e,a){if(a.method!="GET"){d.warning("Batch operation should be a GET operation!");return false}t.aBatchOperations.push(a);return true});return undefined};A.prototype.addBatchChangeOperations=function(e){if(!Array.isArray(e)||e.length<=0){return false}f(e,function(e,t){if(t.method!="POST"&&t.method!="PUT"&&t.method!="MERGE"&&t.method!="DELETE"){d.warning("Batch operation should be a POST/PUT/MERGE/DELETE operation!");return false}return true});this.aBatchOperations.push({__changeRequests:e});return undefined};A.prototype.clearBatch=function(){this.aBatchOperations=[]};A.prototype.submitBatch=function(e,t,a,s){var i,r,n=this;function o(t,a){if(e){e(t,a,n._getBatchErrors(t))}}if(!(typeof e=="function")){var u=a;var h=t;a=e;e=h;t=u}a=a!==false;if(this.aBatchOperations.length<=0){d.warning("No batch operations in batch. No request will be triggered!");return false}i=this._createBatchRequest(this.aBatchOperations,a);r=this._submitRequest(i,true,o,t,false,s);this.clearBatch();return r};A.prototype.getServiceMetadata=function(){if(this.oMetadata&&this.oMetadata.isLoaded()){return this.oMetadata.getServiceMetadata()}return undefined};A.prototype.getServiceAnnotations=function(){if(this.oAnnotations&&this.oAnnotations.getAnnotationsData){return this.oAnnotations.getAnnotationsData()}return undefined};A.prototype.submitChanges=function(e,t,a){var s,i,r=this,n,o,d,u,h,c;if(this.sChangeKey){n=this.sChangeKey.replace(this.sServiceUrl,"");h=this._getObject(n);i=h;if(p(h)){i=y({},h);if(i.__metadata){d=i.__metadata.type;u=i.__metadata.etag;delete i.__metadata;if(d||u){i.__metadata={}}if(d){i.__metadata.type=d}if(u){i.__metadata.etag=u}}f(i,function(e,t){if(t&&t.__deferred){delete i[e]}});var _=this.oMetadata._getEntityTypeByPath(n);if(_){var g=this.oMetadata._getNavigationPropertyNames(_);f(g,function(e,t){delete i[t]})}i=this._removeReferences(i)}if(a&&a.sETag){o=a.sETag}s=this._createRequest(this.sChangeKey,"MERGE",true,i,o);if(this.sUrlParams){s.requestUri+="?"+this.sUrlParams}s.keys={};if(h){c=this._getKey(h);s.keys[c]=true}this.oRequestQueue[this.sChangeKey]=s}if(l(this.oRequestQueue)){return undefined}if(this.bUseBatch){var b=[];f(this.oRequestQueue,function(e,t){delete t._oRef;var a=y({},t);t._oRef=a;a.requestUri=a.requestUri.replace(r.sServiceUrl+"/","");if(a.data._bCreate){delete a.data._bCreate}b.push(a)});s=this._createBatchRequest([{__changeRequests:b}],true);this._submitRequest(s,this.bUseBatch,e,t,true)}else{f(this.oRequestQueue,function(a,s){delete s._oRef;var i=y({},s);s._oRef=i;if(i.data&&i.data._bCreate){delete i.data._bCreate}r._submitRequest(i,this.bUseBatch,e,t,true)})}return undefined};A.prototype._updateRequestQueue=function(e,t){var a,s,i,r=this;if(t){a=e.data.__batchRequests;if(a){for(var n=0;n<a.length;n++){s=a[n].__changeRequests;if(s){for(var o=0;o<s.length;o++){i=s[o];f(this.oRequestQueue,function(e,t){if(t._oRef===i&&e!==r.sChangeKey){delete r.oRequestQueue[e];delete r.oData[e];delete r.mContexts["/"+e]}else if(r.sChangeKey&&e===r.sChangeKey){delete r.oRequestQueue[e];r.sChangeKey=null}})}}}}}else{f(this.oRequestQueue,function(t,a){if(a._oRef===e&&t!==r.sChangeKey){delete r.oRequestQueue[t];delete r.oData[t];delete r.mContexts["/"+t]}else if(r.sChangeKey&&t===r.sChangeKey){delete r.oRequestQueue[t];r.sChangeKey=null}})}};A.prototype.resetChanges=function(e,t){var a;if(this.sChangeKey){a=this.sChangeKey.replace(this.sServiceUrl,"");this._loadData(a,null,e,t)}};A.prototype.setProperty=function(e,t,a,s){var i,r={},n={},o=this._createRequestUrl(e,a),d=e.substring(0,e.lastIndexOf("/")),u,h,f={},c=false;if(!this.resolve(e,a)){return false}o=o.replace(this.sServiceUrl+"/","");o=o.substring(0,o.indexOf("/"));o=this.sServiceUrl+"/"+o;i=e.substr(e.lastIndexOf("/")+1);n=this._getObject(d,a);if(!n){return false}h=d.split("/");for(var l=h.length-1;l>=0;l--){r=this._getObject(h.join("/"),a);if(r){u=this._getKey(r);if(u){break}}h.splice(l-1,1)}if(!u){u=this._getKey(a)}if(u){f[u]=true}if(n._bCreate){n[i]=t;c=true;this.checkUpdate(false,s,f)}else{if(!this.sChangeKey){this.sChangeKey=o}if(this.sChangeKey==o){n[i]=t;c=true;this.checkUpdate(false,s,f)}else{this.fireRejectChange({rejectedValue:t,oldValue:n[i]})}}return c};A.prototype._isHeaderPrivate=function(e){switch(e.toLowerCase()){case"accept":case"accept-language":case"maxdataserviceversion":case"dataserviceversion":return true;case"x-csrf-token":return this.bTokenHandling;default:return false}};A.prototype.setHeaders=function(e){var t={},a=this;if(e){f(e,function(e,s){if(a._isHeaderPrivate(e)){d.warning("Not allowed to modify private header: "+e)}else{t[e]=s}});this.mCustomHeaders=t}else{this.mCustomHeaders={}}if(this.oAnnotations){this.oAnnotations.setHeaders(this.mCustomHeaders)}};A.prototype.getHeaders=function(){return c({},this.mCustomHeaders,this.oHeaders)};A.prototype._getHeader=function(e,t){var a;for(a in t){if(a.toLowerCase()===e.toLowerCase()){return t[a]}}return null};A.prototype.hasPendingChanges=function(){return this.sChangeKey!=null};A.prototype.updateBindings=function(e){this.checkUpdate(e)};A.prototype.forceNoCache=function(e){this.bCache=!e};A.prototype.setTokenHandlingEnabled=function(e){this.bTokenHandling=e};A.prototype.setUseBatch=function(e){this.bUseBatch=e};A.prototype.formatValue=function(e,t){return n.formatValue(e,t)};A.prototype.deleteCreatedEntry=function(e){if(e){var t=e.getPath();delete this.mContexts[t];if(t.startsWith("/")){t=t.substr(1)}delete this.oRequestQueue[t];delete this.oData[t]}};A.prototype.createEntry=function(e,t){var a={},s,i,r;if(!e.startsWith("/")){e="/"+e}var n=this.oMetadata._getEntityTypeByPath(e);if(!n){o(n,"No Metadata for collection "+e+" found");return undefined}if(typeof t==="object"&&!Array.isArray(t)){a=t}else{for(var d=0;d<n.property.length;d++){var u=n.property[d];var h=t&&t.indexOf(u.name)>-1;if(!t||h){a[u.name]=this._createPropertyValue(u.type);if(h){t.splice(t.indexOf(u.name),1)}}}if(t){o(t.length===0,"No metadata for the following properties found: "+t.join(","))}}a._bCreate=true;s=e.substring(1)+"('"+_()+"')";this.oData[s]=a;a.__metadata={type:""+n.entityType};i=this._createRequestUrl(e);r=this._createRequest(i,"POST",true,a);r.entityTypes={};r.entityTypes[n.entityType]=true;this.oRequestQueue[s]=r;return this.getContext("/"+s)};A.prototype._createPropertyValue=function(e){var t=this.oMetadata._splitName(e);var a=t.namespace;var s=t.name;if(a.toUpperCase()!=="EDM"){var i={};var r=this.oMetadata._getObjectMetadata("complexType",s,a);o(r,"Complex type "+e+" not found in the metadata !");for(var n=0;n<r.property.length;n++){var d=r.property[n];i[d.name]=this._createPropertyValue(d.type)}return i}else{return this._getDefaultPropertyValue(s,a)}};A.prototype._getDefaultPropertyValue=function(e,t){return undefined};A.prototype._normalizePath=function(e,t){if(e&&e.indexOf("?")!=-1){e=e.substr(0,e.indexOf("?"))}if(!t&&!e.startsWith("/")){e="/"+e;d.warning(this+" path "+e+" should be absolute if no Context is set")}return this.resolve(e,t)};A.prototype.setRefreshAfterChange=function(e){this.bRefreshAfterChange=e};A.prototype.isList=function(e,t){e=this.resolve(e,t);return e&&e.substr(e.lastIndexOf("/")).indexOf("(")===-1};A.prototype.isMetaModelPath=function(e){return e.indexOf("##")==0||e.indexOf("/##")>-1};A.prototype._request=function(e,t,a,s,i,r){var n;if(this.bDestroyed){return{abort:function(){}}}var o=this;function d(e){return function(){if(o.aPendingRequestHandles){var t=o.aPendingRequestHandles.indexOf(n);if(t>-1){o.aPendingRequestHandles.splice(t,1)}}if(!(n&&n.bSuppressErrorHandlerCall)){e.apply(this,arguments)}}}n=C.request(e,d(t||C.defaultSuccess),d(a||C.defaultError),s,i,r);if(e.async!==false){this.aPendingRequestHandles.push(n)}return n};A.prototype.destroy=function(){this.bDestroyed=true;if(this.aPendingRequestHandles){for(var e=this.aPendingRequestHandles.length-1;e>=0;e--){var t=this.aPendingRequestHandles[e];if(t&&t.abort){t.bSuppressErrorHandlerCall=true;t.abort()}}delete this.aPendingRequestHandles}if(this.oMetadataLoadEvent){clearTimeout(this.oMetadataLoadEvent)}if(this.oMetadataFailedEvent){clearTimeout(this.oMetadataFailedEvent)}if(this.oMetadata){this.oMetadata.detachLoaded(this.onMetadataLoaded);this.oMetadata.detachFailed(this.onMetadataFailed);if(!this.oMetadata.isLoaded()&&!this.oMetadata.hasListeners("loaded")){this.oMetadata.destroy();delete this.oServiceData.oMetadata}delete this.oMetadata}if(this.oAnnotations){this.oAnnotations.detachFailed(this.onAnnotationsFailed);this.oAnnotations.detachLoaded(this.onAnnotationsLoaded);this.oAnnotations.destroy();delete this.oAnnotations;delete this.pAnnotationsLoaded}M.prototype.destroy.apply(this,arguments)};A.prototype._getAnnotationParser=function(e){if(!this.oAnnotations){this.oAnnotations=new R({annotationData:e,url:null,metadata:this.oMetadata,async:this.bLoadMetadataAsync,headers:this.mCustomHeaders});this.oAnnotations.attachFailed(this.onAnnotationsFailed,this);this.oAnnotations.attachLoaded(this.onAnnotationsLoaded,this)}return this.oAnnotations};A.prototype.onAnnotationsFailed=function(e){this.fireAnnotationsFailed(e.getParameters())};A.prototype.onAnnotationsLoaded=function(e){this.fireAnnotationsLoaded(e.getParameters())};A.prototype.addAnnotationUrl=function(e){var t=[].concat(e),a=[],s=[],i=[],r=this;f(t,function(e,t){var i=t.indexOf("$metadata");if(i>=0){if(i==0){t=r.sServiceUrl+"/"+t}a.push(t)}else{s.push(t)}});return this.oMetadata._addUrl(a).then(function(e){return Promise.all(e.map(function(e){i=i.concat(e.entitySets);return r.addAnnotationXML(e["metadataString"])}))}).then(function(){return r._getAnnotationParser().addUrl(s)}).then(function(e){return{annotations:e.annotations,entitySets:i}})};A.prototype.addAnnotationXML=function(e,t){return new Promise(function(a,s){this._getAnnotationParser().setXML(null,e,{success:a,error:s,fireEvents:!t})}.bind(this))};A.prototype.getMetaModel=function(){var e=this;if(!this.oMetaModel){this.oMetaModel=new T(this.oMetadata,this.oAnnotations,this);this.oMetaModel.loaded().then(function(){e.bMetaModelLoaded=true;e.checkUpdate(false,false,null,true)}).catch(()=>{})}return this.oMetaModel};A.prototype.annotationsLoaded=function(){return this.oMetadata.isLoaded()&&(!this.oAnnotations||this.oAnnotations.isLoaded())?null:this.pAnnotationsLoaded};return A});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataTreeBinding", ["./CountMode","sap/base/Log","sap/base/util/each","sap/ui/model/TreeBinding"],function(e,t,s,o){"use strict";var i=o.extend("sap.ui.model.odata.ODataTreeBinding",{constructor:function(e,s,i,r,n){o.apply(this,arguments);this.bPendingRequest=false;this.oFinalLengths={};this.oLengths={};this.oKeys={};this.bNeedsUpdate=false;this.bHasTreeAnnotations=this._hasTreeAnnotations();this.oRootContext=null;this.iNumberOfExpandedLevels=n&&n.numberOfExpandedLevels;this.sCountMode=n&&n.countMode||this.oModel.sDefaultCountMode;if(!this.bHasTreeAnnotations){if(!n||!n.navigation){t.error("A navigation paths parameter object has to be defined");this.oNavigationPaths={}}else{this.oNavigationPaths=n.navigation}}else{t.warning("Tree hierarchy annotations are deprecated and may not work correctly with the sap.ui.model.odata.ODataModel."+" Please use the sap.ui.model.odata.v2.ODataModel (since version 1.28) instead which fully supports hierarchy annotations.")}}});i.prototype.getRootContexts=function(e,t,s){var o=null,i={numberOfExpandedLevels:this.iNumberOfExpandedLevels},r=[],n=true,a=this;if(this.bHasTreeAnnotations){i.level=0;if(!this.bDisplayRootNode){i.level=1}}else{o=this.oModel.resolve(this.getPath(),this.getContext());i.navPath=this._getNavPath(this.getPath());if(i.numberOfExpandedLevels>0){var h=o;for(var l=0;l<i.numberOfExpandedLevels;l++){var f=this._getNavPath(h);i.navPath+="/"+f;h+="/"+f}}var u=this.oModel.isList(this.sPath,this.getContext());if(u){this.bDisplayRootNode=true}else{n=false;this.oModel.createBindingContext(o,null,{expand:i.navPath},function(e){r=[e];if(a.oRootContext!==e){a.oRootContext=e;a._processODataObject(e.getObject(),o,i.navPath);a.bNeedsUpdate=true}},this.bRefresh);this.bRefresh=false}}if(n){if(!this.bDisplayRootNode){r=this._getContextsForNodeId(o,0,1,0,i)}else{r=this._getContextsForNodeId(o,e,t,s,i)}}if(!this.bDisplayRootNode&&r.length>0){this.oRootContext=r[0];r=this.getNodeContexts(r[0],e,t,s)}return r};i.prototype.getNodeContexts=function(e,t,s,o){var i,r={};if(this.bHasTreeAnnotations){var n=e.getProperty(this.oTreeProperties["hierarchy-drill-state-for"]);if(n=="leaf"){return[]}i=e.getProperty(this.oTreeProperties["hierarchy-node-for"]);r.level=parseInt(e.getProperty(this.oTreeProperties["hierarchy-level-for"]))+1}else{var a=this._getNavPath(e.getPath());if(!a){return[]}i=this.oModel.resolve(a,e);r.navPath=this.oNavigationPaths[a]}return this._getContextsForNodeId(i,t,s,o,r)};i.prototype.hasChildren=function(e){if(!e){return false}if(this.bHasTreeAnnotations){var t=e.getProperty(this.oTreeProperties["hierarchy-drill-state-for"]);return t==="expanded"||t==="collapsed"}else{var s=this._getNavPath(e.getPath());var o=e.getPath()+"/"+s;return s&&this.oLengths[o]>0}};i.prototype.getChildCount=function(e){if(this.bHasTreeAnnotations){var t;if(!e){if(this.oRootContext){t=this.oRootContext.getProperty(this.oTreeProperties["hierarchy-node-for"])}else{t="000000"}}else{t=e.getProperty(this.oTreeProperties["hierarchy-node-for"])}return this.oLengths[t]}else{if(!e){return this.oLengths[this.getPath()]}return this.oLengths[e.getPath()+"/"+this._getNavPath(e.getPath())]}};i.prototype._getContextsForNodeId=function(e,t,s,o,i){var r=[],n,a;if(!t){t=0}if(!s){s=this.oModel.iSizeLimit}if(!o){o=0}if(this.bHasTreeAnnotations){if(e==null){e="000000"}if(i.level==0){i.level++}}if(this.oFinalLengths[e]&&this.oLengths[e]<s){s=this.oLengths[e]}if(this.oKeys[e]){for(var h=t;h<t+s;h++){a=this.oKeys[e][h];if(!a){break}r.push(this.oModel.getContext("/"+a))}}n=r.length!=s&&!(this.oFinalLengths[e]&&r.length>=this.oLengths[e]);if(this.oModel.getServiceMetadata()){if(!this.bPendingRequest&&n){var l=[];if(this.bHasTreeAnnotations){if(i.numberOfExpandedLevels>0){var f=i.level+i.numberOfExpandedLevels;l.push("$filter="+this.oTreeProperties["hierarchy-level-for"]+" le '0"+f+"'")}else{l.push("$filter="+this.oTreeProperties["hierarchy-level-for"]+" eq '0"+i.level+"' and "+this.oTreeProperties["hierarchy-parent-node-for"]+" eq '"+e+"'")}}else if(i.navPath){l.push("$expand="+i.navPath)}this._loadSubNodes(e,t,s,o,l,i)}}return r};i.prototype._getCountForNodeId=function(e,s,o,i,r){var n=this;var a=[];function h(t){n.oFinalLengths[e]=true;n.oLengths[e]=parseInt(t)}function l(e){var s="Request for $count failed: "+e.message;if(e.response){s+=", "+e.response.statusCode+", "+e.response.statusText+", "+e.response.body}t.warning(s)}var f;if(this.bHasTreeAnnotations){f=this.oModel.resolve(this.getPath(),this.getContext());a.push("$filter="+this.oTreeProperties["hierarchy-parent-node-for"]+" eq '"+e+"'")}else{f=e}if(f){var u=this.oModel._createRequestUrl(f+"/$count",null,a);var d=this.oModel._createRequest(u,"GET",false);d.headers["Accept"]="text/plain, */*;q=0.5";this.oModel._request(d,h,l,undefined,undefined,this.oModel.getServiceMetadata())}};i.prototype._loadSubNodes=function(t,s,o,i,r,n){var a=this,h=false;if(s||o){r.push("$skip="+s+"&$top="+o)}if(!a.bHasTreeAnnotations&&!this.oFinalLengths[t]&&(this.sCountMode==e.Inline||this.sCountMode==e.Both)){r.push("$inlinecount=allpages");h=true}function l(e){var o,i;if(e.results){if(!a.bHasTreeAnnotations){if(h&&e.__count){a.oLengths[t]=parseInt(e.__count);a.oFinalLengths[t]=true}else if(a.oModel.isCountSupported()){a._getCountForNodeId(t)}a.oKeys[t]=[];for(i=0;i<e.results.length;i++){o=e.results[i];var r=a.oModel._getKey(o);a._processODataObject(o,"/"+r,n.navPath);a.oKeys[t][i+s]=r}}else{var l={};for(i=0;i<e.results.length;i++){o=e.results[i];t=o[a.oTreeProperties["hierarchy-parent-node-for"]];if(i==0){l[t]=s}else if(l[t]==undefined){l[t]=0}if(!(t in a.oKeys)){a.oKeys[t]=[];a._getCountForNodeId(t)}a.oKeys[t][l[t]]=a.oModel._getKey(o);l[t]++}}}else{a.oKeys[null]=a.oModel._getKey(e);if(!a.bHasTreeAnnotations){a._processODataObject(e,t,n.navPath)}}a.oRequestHandle=null;a.bPendingRequest=false;a.bNeedsUpdate=true}function f(){a.fireDataReceived()}function u(e){a.oRequestHandle=null;a.bPendingRequest=false;a.fireDataReceived()}function d(e){a.oRequestHandle=e}if(t){if(!this.oFinalLengths[t]){this.bPendingRequest=true;this.fireDataRequested();var p;if(this.bHasTreeAnnotations){p=this.oModel.resolve(this.getPath(),this.getContext())}else{p=t}this.oModel._loadData(p,r,l,u,false,d,f)}}};i.prototype.resetData=function(e){if(e){var t=e.getPath();delete this.oKeys[t];delete this.oLengths[t];delete this.oFinalLengths[t]}else{this.oKeys={};this.oLengths={};this.oFinalLengths={};this.oRootContext=null}};i.prototype.refresh=function(e,t,o){var i=false;if(!e){if(o){var r=this.oModel.resolve(this.sPath,this.oContext);var n=this.oModel.oMetadata._getEntityTypeByPath(r);if(n&&n.entityType in o){i=true}}if(t&&!i){s(this.oKeys,function(e,o){s(o,function(e,s){if(s in t){i=true;return false}return true});if(i){return false}return true})}if(!t&&!o){i=true}}if(e||i){this.resetData();this.bNeedsUpdate=false;this.bRefresh=true;this._fireChange()}};i.prototype.filter=function(e){t.warning("Filtering is currently not possible in the ODataTreeBinding");return this};i.prototype.checkUpdate=function(e,t){var o=false;if(!e){if(this.bNeedsUpdate||!t){o=true}else{s(this.oKeys,function(e,i){s(i,function(e,s){if(s in t){o=true;return false}return true});if(o){return false}return true})}}if(e||o){this.bNeedsUpdate=false;this._fireChange()}};i.prototype._getNavPath=function(e){var t=this.oModel.resolve(e,this.getContext());if(!t){return undefined}var s=t.split("/"),o=s[s.length-1],i;var r=o.split("(")[0];if(r&&this.oNavigationPaths[r]){i=this.oNavigationPaths[r]}return i};i.prototype._processODataObject=function(e,t,s){var o=[],i=this;if(s&&s.indexOf("/")>-1){o=s.split("/");s=o[0];o.splice(0,1)}var r=this.oModel._getObject(t);if(Array.isArray(r)){this.oKeys[t]=r;this.oLengths[t]=r.length;this.oFinalLengths[t]=true}if(s&&e[s]){if(Array.isArray(r)){r.forEach(function(e){var t=i.getModel().getData("/"+e);i._processODataObject(t,"/"+e+"/"+s,o.join("/"))})}else if(typeof r==="object"){i._processODataObject(e,t+"/"+s,o.join("/"))}}};i.prototype._hasTreeAnnotations=function(){var e=this.oModel,o=e.oMetadata,i=e.resolve(this.getPath(),this.getContext()),r=o._getEntityTypeByPath(i),n=o.mNamespaces["sap"],a=this;this.oTreeProperties={"hierarchy-level-for":false,"hierarchy-parent-node-for":false,"hierarchy-node-for":false,"hierarchy-drill-state-for":false};if(!r){t.fatal("EntityType for path "+i+" could not be found.");return false}s(r.property,function(e,t){if(!t.extensions){return true}s(t.extensions,function(e,s){var o=s.name;if(s.namespace===n&&o in a.oTreeProperties&&!a.oTreeProperties[o]){a.oTreeProperties[o]=t.name}});return true});var h=false;s(this.oTreeProperties,function(e,t){if(!t){h=true;return false}return true});return!h};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataTreeBindingAdapter", ["sap/ui/model/TreeBinding","./v2/ODataTreeBinding","sap/ui/model/TreeBindingAdapter","sap/ui/model/TreeAutoExpandMode","sap/ui/model/ChangeReason","./OperationMode","sap/base/assert","sap/ui/model/Filter","sap/ui/model/odata/ODataUtils"],function(e,t,r,i,o,s,a,n,h){"use strict";var p=function(){if(!(this instanceof e)||this._bIsAdapted){return}r.apply(this);for(var t in p.prototype){if(p.prototype.hasOwnProperty(t)){this[t]=p.prototype[t]}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||i.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._createTreeState();if(this.mParameters.treeState&&this.sOperationMode==s.Client){this.setTreeState(this.mParameters.treeState)}};p.prototype.nodeHasChildren=function(e){a(e,"ODataTreeBindingAdapter.nodeHasChildren: No node given!");if(!e){return false}else if(e.isArtificial){return true}else{return t.prototype.hasChildren.call(this,e.context)}};p.prototype._calculateGroupID=function(e){var t="";var r="";var i;if(e.context===null){return"/"}if(e.parent){t=e.parent.groupID;t=t[t.length-1]!=="/"?t+"/":t;if(this.bHasTreeAnnotations){i=(e.context.getProperty(this.oTreeProperties["hierarchy-node-for"])+"").replace(/\//g,"%2F");r=i+"/"}else{r=e.context.sPath.substring(1)+"/"}}else if(this.bHasTreeAnnotations){t="/";i=(e.context.getProperty(this.oTreeProperties["hierarchy-node-for"])+"").replace(/\//g,"%2F");r=i+"/"}else{t="/";r=e.context.sPath[0]==="/"?e.context.sPath.substring(1):e.context.sPath}var o=t+r;return o};p.prototype.resetData=function(e,r){t.prototype.resetData.call(this,e,r);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!r||r.reason!==o.Sort){this.clearSelection();this._createTreeState(true)}};p.prototype.expandNodeToLevel=function(e,t,r){var i=this;if(this.sOperationMode!=="Server"){return Promise.reject(new Error("expandNodeToLevel() does not support binding operation modes other than OperationMode.Server"))}var s=this.findNode(e),a=[],p="";if(this.sOperationMode=="Server"||this.bUseServersideApplicationFilters){p=this.getFilterParams()}var d=s.context.getProperty(this.oTreeProperties["hierarchy-node-for"]);var l=this._getEntityType();var u=h._createFilterParams(new n(this.oTreeProperties["hierarchy-node-for"],"EQ",d),this.oModel.oMetadata,l);var c=this._getLevelFilterParams("LE",t);a.push("$filter="+u+"%20and%20"+c+(p?"%20and%20"+p:""));if(this.sCustomParams){a.push(this.sCustomParams)}return this._loadSubTree(s,a).then(function(e){var a=e.results.filter(function(e){return e[i.oTreeProperties["hierarchy-level-for"]]<t});this._expandSubTree(s,a);if(!r){this._fireChange({reason:o.Expand})}}.bind(this))};p.prototype._expandSubTree=function(e,t){this._updateTreeState({groupID:e.groupID,expanded:true});var r,i,o,s={},a;o=e.context.getProperty(this.oTreeProperties["hierarchy-node-for"]);s[o]=e.groupID;for(a=1;a<t.length;a++){var n,h,p,d,l;d=t[a];n=d[this.oTreeProperties["hierarchy-node-for"]];r=d[this.oTreeProperties["hierarchy-parent-node-for"]];if(d[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf"){continue}h=this.oModel._getKey(d);l=this.oModel.getContext("/"+h);i=s[r];p=this._calculateGroupID({parent:{groupID:i},context:l});s[n]=p;this._updateTreeState({groupID:p,expanded:true})}};p.prototype.getLength=function(){if((!this._oRootNode||!this._oRootNode.magnitude)&&this.oFinalLengths[null]){return this.oLengths[null]}return r.prototype.getLength.apply(this)};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/ODataTreeBindingFlat", ["sap/base/assert","sap/base/Log","sap/base/util/extend","sap/base/util/isEmptyObject","sap/base/util/uid","sap/ui/model/_Helper","sap/ui/model/ChangeReason","sap/ui/model/Context","sap/ui/model/Filter","sap/ui/model/TreeBinding","sap/ui/model/TreeBindingUtils","sap/ui/model/odata/v2/ODataTreeBinding"],function(e,t,i,n,r,o,s,a,d,l,h,u){"use strict";var f="sap.ui.model.odata.ODataTreeBindingFlat";var p=function(){if(!(this instanceof l)||this._bIsAdapted){return}for(var e in p.prototype){if(p.prototype.hasOwnProperty(e)){this[e]=p.prototype[e]}}this.mParameters=this.mParameters||{};this._iPageSize=0;this._aNodes=this._aNodes||[];this._aNodeCache=[];this._aCollapsed=this._aCollapsed||[];this._aExpanded=this._aExpanded||[];this._aRemoved=[];this._aAdded=[];this._aNodeChanges=[];this._aAllChangedNodes=[];this._aTurnedToLeaf=[];this._mSubtreeHandles={};this._iLowestServerLevel=null;this._aExpandedAfterSelectAll=this._aExpandedAfterSelectAll||[];this._mSelected=this._mSelected||{};this._mDeselected=this._mDeselected||{};this._bSelectAll=false;this._iLengthDelta=0;if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._bIsAdapted=true;this._bReadOnly=true;this._aPendingRequests=[];this._aPendingChildrenRequests=[];this._aPendingSubtreeRequests=[];this._bSubmitChangesCalled=false};p.prototype.setNumberOfExpandedLevels=function(e){this.resetData();u.prototype.setNumberOfExpandedLevels.apply(this,arguments)};p.prototype.getContexts=function(e,t,i){return this._getContextsOrNodes(false,e,t,i)};p.prototype._getContextsOrNodes=function(e,t,i,n){if(!this.isResolved()||this.isInitial()){return[]}t=t||0;i=i||this.oModel.iSizeLimit;n=n||0;this._iPageSize=i;this._iThreshold=n;if(this._aNodes.length==0&&!this.isLengthFinal()){this._loadData(t,i,n)}var r=[];var o=this._retrieveNodeSection(t,i);this._aNodeCache=[];var s;var a=0;var d=0;var l={};for(var h=0;h<o.length;h++){var u=o[h];this._aNodeCache[t+h]=u&&u.context?u:undefined;r.push(u.context);if(!u.context){if(u.serverIndex!=undefined){if(s==undefined){s=u.serverIndex}d=u.serverIndex}else if(u.positionInParent!=undefined){var f=u.parent;l[f.key]=l[f.key]||[];l[f.key].push(u)}}}a=1+Math.max(d-(s||0),0);if(s!=undefined&&a){this._loadData(s,a,n)}for(var p in l){var c=this._calculateRequestParameters(l[p]);this._loadChildren(l[p][0].parent,c.skip,c.top)}if(e){return o}else{return r}};p.prototype._calculateRequestParameters=function(e){var t,i=e[0].positionInParent,n=e[0].parent,r=Math.min(i+Math.max(this._iThreshold,e.length),n.children.length);for(t=i;t<r;t++){var o=n.children[t];if(o){break}}return{skip:i,top:t-i}};p.prototype._retrieveNodeSection=function(e,t){return this._bReadOnly?this._indexRetrieveNodeSection(e,t):this._mapRetrieveNodeSection(e,t)};p.prototype._hasPendingRequest=function(e){return this._aPendingChildrenRequests.some(t=>t.sParent===e)};p.prototype._turnNodeToLeaf=function(e){e.nodeState.collapsed=false;e.nodeState.expanded=false;e.nodeState.isLeaf=true;e.nodeState.wasExpanded=true;this._aTurnedToLeaf.push(e)};p.prototype._mapRetrieveNodeSection=function(e,t){const i=this.getLength()-1;var n=-1;var r=[];let o;this._map((s,a,d,l,h)=>{n++;if(s&&this._aRemoved.length){if(o&&o.nodeState.expanded&&o.level>=s.level&&!this._hasPendingRequest(o.key)){this._turnNodeToLeaf(o)}else if(s.nodeState.expanded&&i===n&&!this._hasPendingRequest(s.key)){this._turnNodeToLeaf(s)}}o=s;if(n>=e){if(!s){if(d=="serverIndex"){s={serverIndex:l}}else if(d=="positionInParent"){s={positionInParent:l,parent:h}}}r.push(s)}if(r.length>=t){a.broken=true}});return r};p.prototype._indexRetrieveNodeSection=function(e,t){var i,n=[],r,o;for(i=e;i<e+t;i++){r=this.getNodeInfoByRowIndex(i);if(r.index!==undefined&&r.index<this._aNodes.length){o=this._aNodes[r.index];if(!o){o={serverIndex:r.index}}}else if(r.parent){o=r.parent.children[r.childIndex];if(!o){o={parent:r.parent,positionInParent:r.childIndex}}}if(o){n.push(o);o=null}}return n};p.prototype.getNodes=function(e,t,i){return this._getContextsOrNodes(true,e,t,i)};p.prototype._map=function(e){var t,i,n,r,o={broken:false};t=function(e){if(e.addedSubtrees.length>0&&!e.nodeState.collapsed){for(var t=0;t<e.addedSubtrees.length;t++){var n=e.addedSubtrees[t];i(e,n);if(o.broken){return}}}};i=function(e,t){var i=t._getSubtree();if(t){if(Array.isArray(i)){if(t._oSubtreeRoot){r(i,t._oSubtreeRoot.serverIndex,t._oSubtreeRoot,t._oSubtreeRoot.originalLevel||0,e.level+1)}else{r(i,null,null,0,e.level+1)}}else{t._oSubtreeRoot.level=e.level+1;n(t._oSubtreeRoot,false,t._oNewParentNode,-1,t._oSubtreeRoot)}}};n=function(i,r,s,a,d){if(!r){if(!i.nodeState.removed||d==i){e(i,o,"positionInParent",a,s);if(o.broken){return}}}t(i);if(o.broken){return}if(i&&i.children&&i.nodeState.expanded){for(var l=0;l<i.children.length;l++){var h=i.children[l];if(h&&!h.nodeState.removed&&!h.nodeState.reinserted){h.level=i.level+1}if(h&&!h.nodeState.removed){n(h,false,i,l,d)}else if(!h){e(h,o,"positionInParent",l,i)}if(o.broken){return}}}};r=function(i,r,s,a,d){for(var l=0;l<i.length;l++){var h=i[l];if(h&&h.nodeState&&h.nodeState.removed&&h!=s){if(!h.initiallyCollapsed){l+=h.magnitude}continue}if(h&&a>=0&&d>=0){h.level=h.originalLevel||0;var u=h.level-a||0;h.level=d+u||0}if(r===null){e(h,o,"newNode")}else{e(h,o,"serverIndex",r+l)}if(o.broken){return}if(h&&h.nodeState){if(!h.initiallyCollapsed&&h.nodeState.collapsed){l+=h.magnitude}else if(h.initiallyCollapsed&&h.nodeState.expanded){n(h,true);if(o.broken){return}}else if(!h.initiallyCollapsed&&h.nodeState.expanded){t(h)}}if(o.broken){return}}};r(this._aNodes,0,null)};p.prototype._loadData=function(e,t,i){var n=this;if(!this.bSkipDataEvents){this.fireDataRequested()}this.bSkipDataEvents=false;return this._requestServerIndexNodes(e,t,i).then(function(e){n._addServerIndexNodes(e.oData,e.iSkip);n._fireChange({reason:s.Change});n.fireDataReceived({data:e.oData})},function(e){var t=e.statusCode===0;if(!t){n._aNodes=[];n._bLengthFinal=true;n._fireChange({reason:s.Change});n.fireDataReceived()}})};p.prototype._restoreServerIndexNodes=function(e,t,i){var n=this;return this._requestServerIndexNodes(e,t,0,i).then(function(e){n._addServerIndexNodes(e.oData,e.iSkip);return e})};p.prototype._addServerIndexNodes=function(e,i){var n,r,o,s,a=function(e,t){return!e.isDeepOne&&!e.initiallyCollapsed&&e.serverIndex<o&&e.serverIndex+e.magnitude>=o};if(!this._bLengthFinal){var d=e.__count?parseInt(e.__count):0;this._aNodes[d-1]=undefined;this._bLengthFinal=true}if(e.results&&e.results.length>0){for(s=0;s<e.results.length;s++){n=e.results[s];r=this.oModel.getKey(n);o=i+s;const d=n[this.oTreeProperties["hierarchy-node-descendant-count-for"]];let h=Number(d);if(h<0){h=0;t.error("The entry data with key '"+r+"' under binding path '"+this.getPath()+"' has a negative 'hierarchy-node-descendant-count-for' which isn't allowed.")}if(!Number.isSafeInteger(h)){t.error("The value of magnitude is not a safe integer: "+JSON.stringify(d),this.getResolvedPath(),f)}var l=this._aNodes[o]=this._aNodes[o]||{key:r,context:this.oModel.getContext("/"+r,this.oModel.resolveDeep(this.sPath,this.oContext)+r.slice(r.indexOf("("))),magnitude:h,level:n[this.oTreeProperties["hierarchy-level-for"]],originalLevel:n[this.oTreeProperties["hierarchy-level-for"]],initiallyCollapsed:n[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",initiallyIsLeaf:n[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",nodeState:{isLeaf:n[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",expanded:n[this.oTreeProperties["hierarchy-drill-state-for"]]==="expanded",collapsed:n[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",selected:this._mSelected[r]?this._mSelected[r].nodeState.selected:false},children:[],addedSubtrees:[],serverIndex:o,parent:null,originalParent:null,isDeepOne:false};if(this._iLowestServerLevel===null){this._iLowestServerLevel=l.level}else{this._iLowestServerLevel=Math.min(this._iLowestServerLevel,l.level)}if(this._bSelectAll){if(!this._aExpandedAfterSelectAll.some(a)){this.setNodeSelection(l,true)}}}}};p.prototype._requestServerIndexNodes=function(e,t,i,n){return new Promise(function(r,o){var s={iSkip:e,iTop:t+(i||0),iThreshold:i};this._aPendingRequests.sort(function(e,t){return e.iSkip-t.iSkip});for(var a=0;a<this._aPendingRequests.length;a++){if(h._determineRequestDelta(s,this._aPendingRequests[a])===false){return}}e=s.iSkip;t=s.iTop;function l(i){var n=this._aPendingRequests.indexOf(s);this._aPendingRequests.splice(n,1);r({oData:i,iSkip:e,iTop:t})}function u(e){var t=this._aPendingRequests.indexOf(s);this._aPendingRequests.splice(t,1);o(e)}var f=["$skip="+e,"$top="+t];if(!this._bLengthFinal||n){f.push("$inlinecount=allpages")}if(this.sCustomParams){f.push(this.sCustomParams)}var p=new d(this.oTreeProperties["hierarchy-level-for"],"LE",this.getNumberOfExpandedLevels());var c=[p];this._checkFilterForTreeProperties();const _=this.getCombinedFilter();if(_){c.push(_)}var v=this.getResolvedPath();if(v){s.oRequestHandle=this.oModel.read(v,{headers:this._getHeaders(),urlParameters:f,filters:[new d({filters:c,and:true})],sorters:this.aSorters||[],success:l.bind(this),error:u.bind(this),groupId:this.sRefreshGroupId?this.sRefreshGroupId:this.sGroupId});this._aPendingRequests.push(s)}}.bind(this))};p.prototype._propagateMagnitudeChange=function(e,t){while(e!=null&&(e.initiallyCollapsed||e.isDeepOne)){e.magnitude+=t;if(!e.nodeState.expanded){return}e=e.parent}};p.prototype._getInitialMagnitude=function(e){var t=0,i;if(e.isDeepOne){return 0}if(e.children){for(var n=0;n<e.children.length;n++){i=e.children[n];t+=i.magnitude+1}}return e.magnitude-t};p.prototype._loadChildren=function(e,t,i){var n=this;if(!this.bSkipDataEvents){this.fireDataRequested()}this.bSkipDataEvents=false;this._requestChildren(e,t,i).then(function(t){n._addChildNodes(t.oData,e,t.iSkip);n._fireChange({reason:s.Change});n.fireDataReceived({data:t.oData})},function(t){var i=t.statusCode===0;if(!i){if(e.childCount===undefined){e.children=[];e.childCount=0;n._fireChange({reason:s.Change})}n.fireDataReceived()}})};p.prototype._restoreChildren=function(e,t,i){var n=this,r=e.context.getProperty(this.oTreeProperties["hierarchy-node-for"]);return this._requestChildren(e,t,i,true).then(function(e){var t;n._map(function(e,i){if(e&&e.context.getProperty(n.oTreeProperties["hierarchy-node-for"])===r){t=e;i.broken=true}});if(t){n._addChildNodes(e.oData,t,e.iSkip);n.expand(t,true)}return e})};p.prototype._addChildNodes=function(e,t,i){if(t.childCount==undefined&&e&&e.__count){var n=e.__count?parseInt(e.__count):0;t.childCount=n;t.children[n-1]=undefined;if(t.nodeState.expanded){this._propagateMagnitudeChange(t,n)}else{t.magnitude=n}this._cleanTreeStateMaps()}if(e.results&&e.results.length>0){for(var r=0;r<e.results.length;r++){var o=e.results[r];this._createChildNode(o,t,i+r)}}};p.prototype._createChildNode=function(e,t,i){var n=this.oModel.getKey(e);var r;if(t.containingServerIndex!==undefined){r=t.containingServerIndex}else{r=t.serverIndex}var o=t.children[i]=t.children[i]||{key:n,context:this.oModel.getContext("/"+n,this.oModel.resolveDeep(this.sPath,this.oContext)+n.slice(n.indexOf("("))),magnitude:0,level:t.level+1,originalLevel:t.level+1,initiallyCollapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",initiallyIsLeaf:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",nodeState:{isLeaf:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="leaf",expanded:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="expanded",collapsed:e[this.oTreeProperties["hierarchy-drill-state-for"]]==="collapsed",selected:this._mSelected[n]?this._mSelected[n].nodeState.selected:false},positionInParent:i,children:[],addedSubtrees:[],parent:t,originalParent:t,isDeepOne:true,containingServerIndex:r};if(this._bSelectAll&&this._aExpandedAfterSelectAll.indexOf(t)===-1){this.setNodeSelection(o,true)}return o};p.prototype._requestChildren=function(e,t,i,n){return new Promise(function(r,o){var s={sParent:e.key,iSkip:t,iTop:i};this._aPendingChildrenRequests.sort(function(e,t){return e.iSkip-t.iSkip});for(var a=0;a<this._aPendingChildrenRequests.length;a++){var l=this._aPendingChildrenRequests[a];if(l.sParent===s.sParent){if(h._determineRequestDelta(s,l)===false){return}}}t=s.iSkip;i=s.iTop;function u(e){var n=this._aPendingChildrenRequests.indexOf(s);this._aPendingChildrenRequests.splice(n,1);r({oData:e,iSkip:t,iTop:i})}function f(e){var t=this._aPendingChildrenRequests.indexOf(s);this._aPendingChildrenRequests.splice(t,1);o(e)}var p=["$skip="+t,"$top="+i];if(e.childCount==undefined||n){p.push("$inlinecount=allpages")}if(this.sCustomParams){p.push(this.sCustomParams)}var c=new d(this.oTreeProperties["hierarchy-parent-node-for"],"EQ",e.context.getProperty(this.oTreeProperties["hierarchy-node-for"]));var _=[c];if(this.aApplicationFilters){_=_.concat(this.aApplicationFilters)}var v=this.getResolvedPath();if(v){s.oRequestHandle=this.oModel.read(v,{headers:this._getHeaders(),urlParameters:p,filters:[new d({filters:_,and:true})],sorters:this.aSorters||[],success:u.bind(this),error:f.bind(this),groupId:this.sRefreshGroupId?this.sRefreshGroupId:this.sGroupId});this._aPendingChildrenRequests.push(s)}}.bind(this))};p.prototype._loadSubTree=function(e,i){var n=this;var r;if(e.serverIndex!==undefined&&!e.initiallyCollapsed){var o=[];var s;var a=e.serverIndex+1;var d=a+e.magnitude;for(var l=a;l<d;l++){if(this._aNodes[l]===undefined){if(!s){s={iSkip:l,iTop:1};o.push(s)}else{s.iTop++}}else{s=null}}if(o.length){r=Promise.all(o.map(function(e){return n._loadData(e.iSkip,e.iTop)}))}}if(!r){r=Promise.resolve()}return r.then(function(){if(!n.bSkipDataEvents){n.fireDataRequested()}n.bSkipDataEvents=false;return n._requestSubTree(e,i).then(function(t){n._addSubTree(t.oData,e);n.fireDataReceived({data:t.oData})},function(e){t.warning("ODataTreeBindingFlat: Error during subtree request",e.message);var i=e.statusCode===0;if(!i){n.fireDataReceived()}})})};p.prototype._addSubTree=function(e,t){if(e.results&&e.results.length>0){var i,n,r,o,s,a=[],d={},l,h,u;if(t.serverIndex!==undefined&&!t.initiallyCollapsed){a=this._aNodes.slice(t.serverIndex,t.serverIndex+t.magnitude+1)}else{a.push(t)}for(h=a.length-1;h>=0;h--){o=a[h];if(o.nodeState.isLeaf){continue}if(o.initiallyCollapsed||o.isDeepOne){o.childCount=undefined;if(o.magnitude&&o.nodeState.expanded){this._propagateMagnitudeChange(o.parent,-o.magnitude)}o.magnitude=0}d[o.context.getProperty(this.oTreeProperties["hierarchy-node-for"])]=o}for(l=0;l<e.results.length;l++){r=e.results[l];i=r[this.oTreeProperties["hierarchy-node-for"]];if(d[i]){continue}n=r[this.oTreeProperties["hierarchy-parent-node-for"]];s=d[n];if(s.childCount===undefined){s.childCount=0}o=s.children[s.childCount];if(o){a.push(o);if(o.childCount){o.childCount=undefined;if(o.initiallyCollapsed||o.isDeepOne){o.magnitude=0}}}else{o=this._createChildNode(r,s,s.childCount);if(o.nodeState.expanded){this._aExpanded.push(o);this._sortNodes(this._aExpanded)}}s.childCount++;if(s.nodeState.expanded){this._propagateMagnitudeChange(s,1)}else{s.magnitude++}if(!o.nodeState.isLeaf){d[i]=o}}for(u=a.length-1;u>=0;u--){o=a[u];if(!o.nodeState.expanded&&!o.nodeState.isLeaf){this.expand(o,true)}}}};p.prototype._requestSubTree=function(e,t){return new Promise(function(i,n){var r={sParent:e.key,iLevel:t};for(var o=0;o<this._aPendingSubtreeRequests.length;o++){var s=this._aPendingSubtreeRequests[o];if(s.sParent===r.sParent&&s.iLevel===r.iLevel){return}}function a(e){var t=this._aPendingSubtreeRequests.indexOf(r);this._aPendingSubtreeRequests.splice(t,1);i({oData:e,sParent:r.sParent,iLevel:r.iLevel})}function l(e){var t=this._aPendingSubtreeRequests.indexOf(r);this._aPendingSubtreeRequests.splice(t,1);n(e)}var h=[];if(this.sCustomParams){h.push(this.sCustomParams)}const u=this.oTreeProperties["hierarchy-node-for"];const f=new d(u,"EQ",e.context.getProperty(u));var p=new d(this.oTreeProperties["hierarchy-level-for"],"LE",t);var c=[f,p];this._checkFilterForTreeProperties();const _=this.getCombinedFilter();if(_){c.push(_)}var v=this.getResolvedPath();if(v){r.oRequestHandle=this.oModel.read(v,{headers:this._getHeaders(),urlParameters:h,filters:[new d({filters:c,and:true})],sorters:this.aSorters||[],success:a.bind(this),error:l.bind(this),groupId:this.sRefreshGroupId?this.sRefreshGroupId:this.sGroupId});this._aPendingSubtreeRequests.push(r)}}.bind(this))};p.prototype.findNode=function(e){return this._bReadOnly?this._indexFindNode(e):this._mapFindNode(e)};p.prototype._mapFindNode=function(e){if(this.isInitial()){return undefined}var t=this._aNodeCache[e];if(t){return t}var i=-1;this._map(function(n,r,o,s,a){i++;if(i===e){t=n;r.broken=true}});return t};p.prototype._indexFindNode=function(e){if(this.isInitial()){return undefined}var t=this._aNodeCache[e];if(t){return t}var i=this.getNodeInfoByRowIndex(e);if(i.parent){t=i.parent.children[i.childIndex]}else{t=this._aNodes[i.index]}this._aNodeCache[e]=t;return t};p.prototype.toggleIndex=function(t){var i=this.findNode(t);e(i!=undefined,"toggleIndex("+t+"): Node not found!");if(i){if(i.nodeState.expanded){this.collapse(i)}else{this.expand(i)}}};p.prototype.expand=function(t,i){var n=t;if(typeof t!=="object"){n=this.findNode(t);e(n!=undefined,"expand("+t+"): Node not found!")}if(n.nodeState.expanded){return}n.nodeState.expanded=true;n.nodeState.collapsed=false;var r=this._aCollapsed.indexOf(n);if(r!=-1){this._aCollapsed.splice(r,1)}this._aExpanded.push(n);this._sortNodes(this._aExpanded);if(n.serverIndex!==undefined){this._aNodeChanges[n.serverIndex]=true}if(this._bSelectAll){this._aExpandedAfterSelectAll.push(n)}if(n.initiallyCollapsed&&n.childCount==undefined){this._loadChildren(n,0,this._iPageSize+this._iThreshold)}else{this._propagateMagnitudeChange(n.parent,n.magnitude)}this._cleanTreeStateMaps();this._aNodeCache=[];if(!i){this._fireChange({reason:s.Expand})}};p.prototype.expandToLevel=function(e){this.setNumberOfExpandedLevels(e)};p.prototype.expandNodeToLevel=function(e,t,i){if(!this._bReadOnly){return Promise.reject(new Error("ODataTreeBindingFlat: expandNodeToLevel is not supported while there are pending changes in the hierarchy"))}var n=this.findNode(e);return this._loadSubTree(n,t).then(function(){if(!i){this._fireChange({reason:s.Expand})}}.bind(this))};p.prototype.collapse=function(t,i){var n=t;if(typeof t!=="object"){n=this.findNode(t);e(n!=undefined,"expand("+t+"): Node not found!")}if(n.nodeState.collapsed){return}n.nodeState.expanded=false;n.nodeState.collapsed=true;var r=this._aExpanded.indexOf(n);if(r!=-1){this._aExpanded.splice(r,1)}if(this._bSelectAll){r=this._aExpandedAfterSelectAll.indexOf(n);if(r!==-1){this._aExpandedAfterSelectAll.splice(r,1)}}this._aCollapsed.push(n);this._sortNodes(this._aCollapsed);if(n.isDeepOne){this._propagateMagnitudeChange(n.parent,n.magnitude*-1)}if(n.serverIndex!==undefined){this._aNodeChanges[n.serverIndex]=true}this._cleanUpSelection();this._cleanTreeStateMaps();this._aNodeCache=[];if(!i){this._fireChange({reason:s.Collapse})}};p.prototype.collapseToLevel=function(e){var t=-1,i=[],n;if(this.bCollapseRecursive){for(var r in this._mSelected){var o=this._mSelected[r];if(o.level>e){n=this.getRowIndexByNode(o);i.push(n);if(this._sLeadSelectionKey==r){t=n}this.setNodeSelection(o,false)}}}this.setNumberOfExpandedLevels(e);if(this.bCollapseRecursive&&i.length){this._publishSelectionChanges({rowIndices:i,oldIndex:t,leadIndex:-1})}};p.prototype._getInvisibleSelectedNodes=function(){var e=[];var t=true;var i=function(e,i){if(e.nodeState.collapsed||e.nodeState.removed&&!e.nodeState.reinserted){t=false;i.broken=true}};for(var n in this._mSelected){var r=this._mSelected[n];t=true;this._up(r,i,false);if(!t){e.push(r)}}return e};p.prototype._cleanUpSelection=function(e){var t=this._getInvisibleSelectedNodes();t.forEach(function(t){if(t.key==this._sLeadSelectionKey){this._sLeadSelectionKey=null}if(this.bCollapseRecursive||e){this.setNodeSelection(t,false)}}.bind(this));if((this.bCollapseRecursive||e)&&t.length){this._publishSelectionChanges({rowIndices:[],indexChangesCouldNotBeDetermined:true})}};p.prototype._isInSubtree=function(e,t){var i=false;var n=function(t,n){if(t==e){n.broken=true;i=true}};this._up(t,n,false);return i};p.prototype._up=function(e,t,i){var n={broken:false};var r=this._getParent(e,i);if(r){this._structuralUp(r,t,n,i)}else{this._flatUp(e,t,n,true)}};p.prototype._structuralUp=function(e,t,i,n){var r=e;do{t(r,i);if(i.broken){return}e=r;r=this._getParent(r)}while(r);this._flatUp(e,t,i)};p.prototype._flatUp=function(e,t,i,n){var r=e.serverIndex,o=n?r-1:r,s,a;for(;o>=0;o--){if(this._aNodeChanges[o]){s=this._aNodes[o];if(s.initiallyCollapsed){continue}if(s.serverIndex+s.magnitude>=r){t(s,i);if(i.broken){return}a=this._getParent(s);if(a){this._structuralUp(a,t,i);return}}else{continue}}}};p.prototype._getParent=function(e,t){return t?e.originalParent:e.parent};p.prototype._cleanTreeStateMaps=function(){this._iLengthDelta=this._bReadOnly?this._indexCleanTreeStateMaps():this._mapCleanTreeStateMaps()};p.prototype._indexCleanTreeStateMaps=function(){return this._calcIndexDelta(this._aNodes.length)};p.prototype._mapCleanTreeStateMaps=function(){var e=this._aCollapsed.concat(this._aRemoved).concat(this._aExpanded).concat(this._aAdded),t=true,i,n=0,r=function(e,i){if(e.nodeState.isLeaf||e.nodeState.collapsed||e.nodeState.removed&&!e.nodeState.reinserted){t=false;i.broken=true}},o={};var s=[[0,1],[-1,0]];e.forEach(function(e){if(o[e.key]){return}else{o[e.key]=true}if(e.nodeState.added){if(!e.nodeState.removed||e.nodeState.reinserted){t=true;this._up(e,r,false);if(t){n++}}}else if(e.nodeState.collapsed||e.nodeState.expanded||e.nodeState.removed){t=true;this._up(e,r,false);if(t){if(e.nodeState.removed&&!e.nodeState.reinserted){if(e.isDeepOne||e.initiallyCollapsed){n-=1}else{n-=e.magnitude+1}}else{if(e.nodeState.collapsed&&e.serverIndex!==undefined&&!e.initiallyCollapsed){n-=e.magnitude}if(e.nodeState.expanded&&(e.isDeepOne||e.initiallyCollapsed)){n+=e.children.length}}}if(e.nodeState.reinserted){i=t;t=true;this._up(e,r,true);var a=s[t|0][i|0];if(a){if(e.isDeepOne){n+=a*1}else if(e.initiallyCollapsed){n+=a}else{n+=a*(1+e.magnitude)}}}}}.bind(this));return n};p.prototype.isLengthFinal=function(){return this._bLengthFinal};p.prototype.getLength=function(){return this._aNodes.length+this._iLengthDelta};p.prototype.getContextByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t&&t.context};p.prototype.getNodeByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t};p.prototype.isExpanded=function(e){var t=this.findNode(e);return t&&t.nodeState.expanded};p.prototype.hasChildren=function(e){if(!e){return false}var t=this._findNodeByContext(e);var i=t&&t.node;return!(i&&i.nodeState.isLeaf)};p.prototype.nodeHasChildren=function(e){return!(e&&e.nodeState.isLeaf)};p.prototype._hasChangedEntity=function(e){var t=false;this._map(function(i,n){if(i&&i.key in e){t=true;n.broken=true}});return t};p.prototype._isRefreshAfterChangeAllowed=function(){return!this._isRestoreTreeStateSupported()};p.prototype._isRestoreTreeStateSupported=function(){return this._bRestoreTreeStateAfterChange};p.prototype._hasPendingChanges=function(e){var t;if(!this.isResolved()||!this._aAllChangedNodes.length){return false}t=this._optimizeChanges();if(t.added.length||t.moved.length||t.removed.length){return true}t.creationCancelled.forEach(function(t){var i=e.indexOf(t.key);if(i>-1){e.splice(i,1)}});return false};p.prototype._getPendingChanges=function(){var e,t,i,n,r={};if(this.isResolved()){i=this._optimizeChanges();e=i.added.concat(i.moved);t=this.oTreeProperties["hierarchy-node-for"];n=this.oTreeProperties["hierarchy-parent-node-for"];e.forEach(function(e){r[e.key]={};r[e.key][n]=e.parent.context.getProperty(t)});i.removed.forEach(function(e){r[e.key]={}});i.creationCancelled.forEach(function(e){r[e.key]=null})}return r};p.prototype._resetChanges=function(e){var t,i=this.getResolvedPath();if(!i||!this._aAllChangedNodes.length){return}if(e){t=e.some(function(e){return e===i});if(!t){return}}this._aRemoved.forEach(e=>{this._resetMovedOrRemovedNode(e)});this._aAdded.forEach(e=>{this._resetParentState(e)});this._aTurnedToLeaf.forEach(e=>{if(!e.initiallyIsLeaf){e.nodeState.isLeaf=false;e.nodeState.expanded=true;e.nodeState.collapsed=false;delete e.nodeState.wasExpanded}});this._mSubtreeHandles={};this._aAdded=[];this._aRemoved=[];this._aAllChangedNodes=[];this._aNodeCache=[];this._aTurnedToLeaf=[];this._cleanTreeStateMaps();this._fireChange({reason:s.Change})};p.prototype.setNodeSelection=function(t,i){e(t,"Node must be defined!");t.nodeState.selected=i;if(i){delete this._mDeselected[t.key];this._mSelected[t.key]=t}else{delete this._mSelected[t.key];this._mDeselected[t.key]=t;if(t.key===this._sLeadSelectionKey){this._sLeadSelectionKey=null}}};p.prototype.isIndexSelected=function(e){var t=this.findNode(e);return t&&t.nodeState?t.nodeState.selected:false};p.prototype.isIndexSelectable=function(e){var t=this.findNode(e);return!!t};p.prototype._clearSelection=function(){return this._bReadOnly?this._indexClearSelection():this._mapClearSelection()};p.prototype._indexClearSelection=function(){var e=-1,t=[],i,n,r;this._bSelectAll=false;this._aExpandedAfterSelectAll=[];for(i in this._mSelected){n=this._mSelected[i];this.setNodeSelection(n,false);r=this.getRowIndexByNode(n);t.push(r);if(this._sLeadSelectionKey==i){e=r}}return{rowIndices:t,oldIndex:e,leadIndex:-1}};p.prototype._mapClearSelection=function(){var e=-1;var t=-1;var i=0;var n=[];this._bSelectAll=false;this._aExpandedAfterSelectAll=[];for(var r in this._mSelected){if(r){i++}}this._map(function(r,o,s,a,d){e++;if(r&&r.nodeState.selected){this.setNodeSelection(r,false);n.push(e);if(this._sLeadSelectionKey==r.key){t=e}if(n.length==i){o.broken=true}}}.bind(this));return{rowIndices:n,oldIndex:t,leadIndex:-1}};p.prototype.setSelectedIndex=function(e){var i=this.findNode(e);if(i){var n=this._clearSelection();var r=n.rowIndices.indexOf(e);if(r>=0){n.rowIndices.splice(r,1)}else{n.rowIndices.push(e)}n.leadKey=i.key;n.leadIndex=e;this.setNodeSelection(i,true);this._publishSelectionChanges(n)}else{t.warning("ODataTreeBindingFlat: The selection of index '"+e+"' was ignored. Please make sure to only select rows, for which data has been fetched to the client.")}};p.prototype.getSelectedIndex=function(){return this._bReadOnly?this._indexGetSelectedIndex():this._mapGetSelectedIndex()};p.prototype._indexGetSelectedIndex=function(){if(!this._sLeadSelectionKey||n(this._mSelected)){return-1}var e=this._mSelected[this._sLeadSelectionKey];if(e){return this.getRowIndexByNode(e)}else{return-1}};p.prototype._mapGetSelectedIndex=function(){if(!this._sLeadSelectionKey||n(this._mSelected)){return-1}var e=-1;this._map(function(t,i){e++;if(t){if(t.key===this._sLeadSelectionKey){i.broken=true}}}.bind(this));return e};p.prototype.getSelectedIndices=function(){return this._bReadOnly?this._indexGetSelectedIndices():this._mapGetSelectedIndices()};p.prototype._indexGetSelectedIndices=function(){var e=this._getSelectedNodesInfo();return e.map(function(e){return e.rowIndex})};p.prototype._mapGetSelectedIndices=function(){var e=[];if(n(this._mSelected)){return e}var t=-1;this._map(function(i){t++;if(i){if(i.nodeState&&i.nodeState.selected){e.push(t)}}});return e};p.prototype.getSelectedNodesCount=function(){var t;if(this._bSelectAll){if(this._bReadOnly){var i=[],n=0,r;this._aExpandedAfterSelectAll.sort(function(t,i){var n=this._getRelatedServerIndex(t);var r=this._getRelatedServerIndex(i);e(n!=undefined,"getSelectedNodesCount: (containing) Server-Index not found for node 'a'");e(r!=undefined,"getSelectedNodesCount: (containing) Server-Index not found node 'b'");if(n==r&&t.isDeepOne&&i.isDeepOne){return t.originalLevel-i.originalLevel}return n-r}.bind(this));var o=-1,s,a,d;for(d=0;d<this._aExpandedAfterSelectAll.length;d++){s=this._aExpandedAfterSelectAll[d];a=this._getRelatedServerIndex(s);if(a<=o&&!s.initiallyCollapsed){continue}if(s.initiallyCollapsed){o=a}else{o=a+s.magnitude}i.push(s);n+=s.magnitude}var l=function(e,t){if(i.indexOf(e)!==-1){n--;t.broken=true}};for(r in this._mSelected){this._up(this._mSelected[r],l,true)}var h;var u=function(e,t){if(e.nodeState.collapsed||e.nodeState.removed&&!e.nodeState.reinserted||i.indexOf(e)!==-1){h=false;t.broken=true}};for(r in this._mDeselected){h=true;this._up(this._mDeselected[r],u,true);if(h){n++}}t=this.getLength()-n}else{t=0;this._map(function(e,i,n,r,o){var s;if(e){if(e.nodeState.selected){t++}}else if(e===undefined&&n==="serverIndex"){var a=true;for(var d=r-1;d>=0;d--){if(this._aNodeChanges[d]){s=this._aNodes[d];if(s.serverIndex+s.magnitude>=r&&this._aExpandedAfterSelectAll.indexOf(s)!==-1){a=false;break}}}if(a){t++}}}.bind(this))}}else{var f=this._getInvisibleSelectedNodes();t=Math.max(Object.keys(this._mSelected).length-f.length,0)}return t};p.prototype.getSelectedContexts=function(){return this._bReadOnly?this._indexGetSelectedContexts():this._mapGetSelectedContexts()};p.prototype._indexGetSelectedContexts=function(){var e=this._getSelectedNodesInfo();return e.map(function(e){return e.node.context})};p.prototype._mapGetSelectedContexts=function(){var e=[];if(n(this._mSelected)){return e}var t=function(t){if(t){if(t.nodeState.selected&&!t.isArtificial){e.push(t.context)}}};this._map(t);return e};p.prototype.setSelectionInterval=function(e,t){var i,n,r=this._clearSelection(),o={},s=[],a=this._setSelectionInterval(e,t,true);for(n=0;n<r.rowIndices.length;n++){i=r.rowIndices[n];o[i]=true}for(n=0;n<a.rowIndices.length;n++){i=a.rowIndices[n];if(o[i]){delete o[i]}else{o[i]=true}}for(i in o){if(o[i]){s.push(parseInt(i))}}this._publishSelectionChanges({rowIndices:s,oldIndex:r.oldIndex,leadIndex:a.leadIndex,leadKey:a.leadKey})};p.prototype._setSelectionInterval=function(e,t,i){return this._bReadOnly?this._indexSetSelectionInterval(e,t,i):this._mapSetSelectionInterval(e,t,i)};p.prototype._indexSetSelectionInterval=function(e,t,i){var n=Math.min(e,t),r=Math.max(e,t),o=[],s=[],a,d,l,h;i=!!i;for(l=n;l<=r;l++){d=this.findNode(l);if(d){if(d.nodeState.selected!==i){s.push(l)}if(d.key===this._sLeadSelectionKey){a=l}this.setNodeSelection(d,i);o.push(d)}}h={rowIndices:s,oldIndex:a,leadIndex:a&&!i?-1:undefined};if(o.length>0&&i){h.leadKey=o[o.length-1].key;h.leadIndex=r}return h};p.prototype._mapSetSelectionInterval=function(e,t,i){var n=Math.min(e,t);var r=Math.max(e,t);var o=[];var s=[];var a=Math.abs(r-n)+1;var d;var l=-1;var h=function(e,t,h,u,f){l++;if(e){if(l>=n&&l<=r){if(e.nodeState.selected!==!!i){s.push(l)}if(e.key===this._sLeadSelectionKey){d=l}this.setNodeSelection(e,!!i);o.push(e);if(o.length===a){t.broken=true}}}}.bind(this);this._map(h);var u={rowIndices:s,oldIndex:d,leadIndex:d&&!i?-1:undefined};if(o.length>0&&i){var f=o[o.length-1];u.leadKey=f.key;u.leadIndex=r}return u};p.prototype.addSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,true);this._publishSelectionChanges(i)};p.prototype.removeSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,false);this._publishSelectionChanges(i)};p.prototype.selectAll=function(){if(this._bReadOnly){this._indexSelectAll()}else{this._mapSelectAll()}};p.prototype._indexSelectAll=function(){this._bSelectAll=true;this._aExpandedAfterSelectAll=[];var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=this.getLength(),i,n;for(i=0;i<t;i++){n=this.findNode(i);if(n&&!n.isArtificial){if(n.key===this._sLeadSelectionKey){e.oldIndex=i}if(!n.nodeState.selected){e.rowIndices.push(i)}this.setNodeSelection(n,true);e.leadKey=n.key;e.leadIndex=i}}this._publishSelectionChanges(e)};p.prototype._mapSelectAll=function(){this._bSelectAll=true;this._aExpandedAfterSelectAll=[];var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=-1;this._map(function(i){if(!i||!i.isArtificial){t++}if(i){if(i.key===this._sLeadSelectionKey){e.oldIndex=t}if(i){if(!i.isArtificial&&!i.nodeState.selected){e.rowIndices.push(t)}this.setNodeSelection(i,true);e.leadKey=i.key;e.leadIndex=t}}}.bind(this));this._publishSelectionChanges(e)};p.prototype.clearSelection=function(e){var t=this._clearSelection();if(!e){this._publishSelectionChanges(t)}};p.prototype._publishSelectionChanges=function(e){e.oldIndex=e.oldIndex||this.getSelectedIndex();e.rowIndices.sort(function(e,t){return e-t});if(e.leadIndex>=0&&e.leadKey){this._sLeadSelectionKey=e.leadKey}else if(e.leadIndex===-1){this._sLeadSelectionKey=undefined}else{e.leadIndex=e.oldIndex}if(e.rowIndices.length>0||e.leadIndex!=undefined&&e.leadIndex!==-1||e.indexChangesCouldNotBeDetermined){this.fireSelectionChanged(e)}};p.prototype.setCollapseRecursive=function(e){this.bCollapseRecursive=!!e};p.prototype.resetData=function(){u.prototype.resetData.apply(this,arguments);this._aNodes=[];this._aNodeCache=[];this._aCollapsed=[];this._aExpanded=[];this._aExpandedAfterSelectAll=[];this._mSelected={};this._mDeselected={};this._aAdded=[];this._aRemoved=[];this._aNodeChanges=[];this._aAllChangedNodes=[];this._bLengthFinal=false;this._iLowestServerLevel=null;this._bSelectAll=false;this._bReadOnly=true;this._iLengthDelta=0};p.prototype._findNodeByContext=function(e){for(var t in this._aNodeCache){if(this._aNodeCache[t]&&this._aNodeCache[t].context==e){return{node:this._aNodeCache[t],index:parseInt(t)}}}var i=-1;var n;this._map(function(t,r,o,s,a){i++;if(t){if(t.context===e){n=t;r.broken=true}}});return{node:n,index:i}};p.prototype.createEntry=function(e){var i,n=this.getResolvedPath();if(n){e=e||{};if(e.expand){throw new Error("Parameter 'expand' is not supported")}if(e.inactive){throw new Error("Parameter 'inactive' is not supported")}e.groupId=this.oModel._resolveGroup(n).groupId;e.refreshAfterChange=false;i=this.oModel.createEntry(n,e)}else{t.warning("ODataTreeBindingFlat: createEntry failed, as the binding path could not be resolved.")}return i};p.prototype.submitChanges=function(e){var i=this.getResolvedPath();if(!i){t.error("#submitChanges failed: binding is unresolved",this.getPath(),f);return}this._bSubmitChangesCalled=true;e=e||{};e.groupId=this.oModel._resolveGroup(i).groupId;this.oModel.submitChanges(e)};p.prototype._submitChanges=function(e){var i,n,r=e.groupId,o=this.getResolvedPath(),s=false,a=this;function d(e){t.error("Tree state restoration request failed for binding: "+o,e,f)}if(!o||r&&r!==this.oModel._resolveGroup(o).groupId){this._bSubmitChangesCalled=false;return}n=this._optimizeChanges();i=Object.values(n).some(function(e){return e.length});if(!i&&!this._bSubmitChangesCalled){return}this.bRefresh=false;this._bSubmitChangesCalled=false;e.success=function(e,i){var r,l=e.__batchResponses&&e.__batchResponses[0]&&e.__batchResponses[0].__changeResponses;if(l&&l.length>0){r=l.some(function(e){var t=parseInt(e.statusCode);return t<200||t>299});if(r){}else if(!s&&a._isRestoreTreeStateSupported()){a._restoreTreeState(n).catch(function(e){d(e);a._refresh(true)})}else if(!a.bRefresh){a._refresh(true)}}else if(i){t.warning("#submitChanges: no change response in batch response",o,f)}};this._generateSubmitData(n,function(e){d(e);s=true})};p.prototype._generateSubmitData=function(i,n){var r=i.added,o=i.creationCancelled,s=i.moved,a=i.removed,d={error:n,groupId:this.oModel._resolveGroup(this.getResolvedPath()).groupId};const l=t=>{e(t.context,"Node does not have a context.");const i=t.parent.context.getProperty(this.oTreeProperties["hierarchy-node-for"]);this.oModel.setProperty(this.oTreeProperties["hierarchy-parent-node-for"],i,t.context)};r.forEach(l);s.forEach(e=>{l(e);if(this._isRestoreTreeStateSupported()){this._generatePreorderPositionRequest(e,d)}});a.forEach(e=>{this._generateDeleteRequest(e);t.debug("ODataTreeBindingFlat: DELETE "+e.key)});o.forEach(e=>{this._generateDeleteRequest(e)})};p.prototype._generatePreorderPositionRequest=function(e,t){var i,n,r,s,a,l=[],h=this.getResolvedPath(),u=[],f=this;if(!h){return}t=t||{};r=t.success||function(){};s=function(t){f._updateNodeInfoAfterSave(e,t.results||[]);r.apply(null,arguments)};if(this.aApplicationFilters){l=l.concat(this.aApplicationFilters)}for(i=this._aTreeKeyProperties.length-1;i>=0;i--){n=this._aTreeKeyProperties[i];u.push(n);l.push(new d(n,"EQ",e.context.getProperty(n)))}l.push(new d(this.oTreeProperties["hierarchy-level-for"],"LE",this.getNumberOfExpandedLevels()));a=o.extend({},this.mParameters);u=u.concat([this.oTreeProperties["hierarchy-node-for"],this.oTreeProperties["hierarchy-node-descendant-count-for"],this.oTreeProperties["hierarchy-drill-state-for"],this.oTreeProperties["hierarchy-preorder-rank-for"]]);a.select=u.join(",");this.oModel.read(h,{headers:this._getHeaders(),filters:[new d({filters:l,and:true})],error:t.error,groupId:t.groupId||this.sGroupId,sorters:this.aSorters,success:s,urlParameters:this.oModel.createCustomParams(a)})};p.prototype._nodeIsOnTopLevel=function(e){if(e&&e.serverIndex>=0){var i=e.parent==null;if(i){if(e.originalLevel==this._iLowestServerLevel){return true}else{return false}}}else{t.warning("ODataTreeBindingFlat.nodeIsOnTopLevel: Node is not defined or not a server-indexed node.")}return undefined};p.prototype._generateDeleteRequest=function(e){var t=e.context;if(e.nodeState.added){this.oModel._discardEntityChanges(t.getPath().slice(1),true);return undefined}else{var i=this.oModel.remove(t.getPath(),{groupId:this.oModel._resolveGroup(this.getResolvedPath()).groupId,refreshAfterChange:false});return i}};p.prototype._filterChangeForServerSections=function(e){var t={};t.removed=e.removed.filter(function(e){return!e.isDeepOne});t.added=e.added.filter(function(e){return!e.isDeepOne});e.moved.forEach(function(e){if(!e.newIsDeepOne){t.added.push(e)}if(!e.isDeepOne){t.removed.push(e)}});return t};p.prototype._filterChangesForDeepSections=function(e){var t={};e.removed.forEach(function(e){var i;if(e.isDeepOne){i=e.parent;if(!t[i.key]){t[i.key]={added:[],removed:[]}}t[i.key].removed.push(e)}});e.added.forEach(function(e){var i;if(e.isDeepOne){i=e.parent;if(!t[i.key]){t[i.key]={added:[],removed:[]}}t[i.key].added.push(e)}});e.moved.forEach(function(e){var i;if(e.newIsDeepOne){i=e.parent;if(!t[i.key]){t[i.key]={added:[],removed:[]}}t[i.key].added.push(e)}if(e.isDeepOne){i=e.originalParent;if(!t[i.key]){t[i.key]={added:[],removed:[]}}t[i.key].removed.push(e)}});return t};p.prototype._optimizeOptimizedChanges=function(e){var t,i=this;t=e.added.slice();t.sort(function(e,t){var n=e.newIsDeepOne!==undefined?e.newIsDeepOne:e.isDeepOne,r=t.newIsDeepOne!==undefined?t.newIsDeepOne:t.isDeepOne;if(n&&r){return 0}if(n){return 1}if(r){return-1}return e.context.getProperty(i.oTreeProperties["hierarchy-preorder-rank-for"])-t.context.getProperty(i.oTreeProperties["hierarchy-preorder-rank-for"])});var n=-1;t=t.filter(function(e,t){if(e.newIsDeepOne!==undefined?e.newIsDeepOne:e.isDeepOne){return true}if(t<=n){return false}var r=e.context.getProperty(i.oTreeProperties["hierarchy-node-descendant-count-for"]);if(r){n=t+r}return true});return{added:t,removed:e.removed,moved:e.moved}};p.prototype._updateNodeInfoAfterSave=function(e,t){var i,n,r=e.context,o=this.oTreeProperties["hierarchy-drill-state-for"],s=this.oTreeProperties["hierarchy-node-for"],a=r.getProperty(s);n=!t.some(function(e){return a===e[s]});i=r.getProperty(o)==="collapsed";if(this._aAdded.includes(e)){e.isDeepOne=n;e.initiallyCollapsed=i}else{e.newIsDeepOne=n;e.newInitiallyCollapsed=i}};p.prototype._requestExtraInfoForAddedNodes=function(e){var t=[],i=this;e.forEach(function(e){var n=new Promise(function(t,n){i._generatePreorderPositionRequest(e,{success:t,error:n})});t.push(n)});t=t.map(function(e){return e.then(function(e){return{responseData:e}},function(e){return{error:e}})});return Promise.all(t).then(function(e){var t=0;e.forEach(function(e){if(e.error){if(e.error.statusCode===0){t++}else{throw new Error("Tree state restoration request failed. Complete or partial tree state might get lost. Error: "+(e.error.message.value||e.error.message))}}});return t===0})};p.prototype._restoreTreeState=function(e){var t=this;this._abortPendingRequest();e=e||{creationCancelled:[],added:[],removed:[],moved:[]};if(!this.bSkipDataEvents){this.fireDataRequested()}this.bSkipDataEvents=false;return this._requestExtraInfoForAddedNodes(e.added).then(function(i){if(i){return t._executeRestoreTreeState(e).then(function(e){if(e){t._fireChange({reason:s.Change});t.fireDataReceived({data:e});return e}return undefined})}return undefined})};p.prototype._executeRestoreTreeState=function(e){var t,i,n,r,o={},s=[],a=this;r=this._collectServerSections(this._aNodes);e=this._optimizeOptimizedChanges(e);t=this._filterChangeForServerSections(e);this._adaptSections(r,t);r.forEach(function(e,t){s.push(a._restoreServerIndexNodes(e.iSkip,e.iTop,t===0))});n=this._filterChangesForDeepSections(e);r=this._collectDeepNodes();r.forEach(function(e){var t=e.aChildSections,i=e.oParentNode,r=n[i.key];if(r){a._adaptSections(t,r,{ignoreMagnitude:true,indexName:"positionInParent"})}t.forEach(function(e){s.push(a._restoreChildren(i,e.iSkip,e.iTop))})});this._aCollapsed.forEach(function(e){o[e.key]=true});i=this._aCollapsed.length;this.resetData(true);s=s.map(function(e){return e.then(function(e){return{responseData:e}},function(e){return{error:e}})});return Promise.all(s).then(function(e){var t=0;e.forEach(function(e){var i=e.error;if(i){if(i.statusCode===0){t++}else{throw new Error("Tree state restoration request failed. Complete or partial"+" tree state might get lost. Error: "+(i.message.value||i.message))}}});if(t<e.length){if(i>0){a._map(function(e,t){if(e&&o[e.key]){a.collapse(e,true);i--;if(i===0){t.broken=true}}})}return e}return undefined})};p.prototype._collectServerSections=function(e){var t=[];var i;for(var n=0;n<e.length;n++){if(e[n]!==undefined){if(!i){i={iSkip:n,iTop:1};t.push(i)}else{i.iTop++}}else{i=null}}return t};p.prototype._adaptSections=function(e,i,n){var r=i.removed||[],o=i.added||[],s=n&&n.indexName||"serverIndex",a,d,l,h,u,f=0,p,c,_,v,g,S,x,y=0,m,C,I=[];let b=0;for(var P=o.length-1;P>=0;P--){a=o[P];if(a.newIsDeepOne!==undefined?a.newIsDeepOne:a.isDeepOne){c=b;b+=1}else{C=this.oTreeProperties["hierarchy-preorder-rank-for"];if(a.newInitiallyCollapsed!==undefined?!a.newInitiallyCollapsed:!a.initiallyCollapsed){p=a.context.getProperty(this.oTreeProperties["hierarchy-node-descendant-count-for"])}c=a.context.getProperty(C);if(c===undefined){t.warning("ODataTreeBindingFlat","Missing "+C+" value for node "+a.key);break}}I.push({position:c,magnitude:p||0,assignedToSection:false})}for(var N=0;N<e.length;N++){d=e[N];x=y;_=v;v=0;m=0;for(var R=r.length-1;R>=0;R--){a=r[R];c=a[s];if(c>=d.iSkip&&c<=d.iSkip+d.iTop){if(s==="serverIndex"){f++}p=n&&n.ignoreMagnitude?0:this._getInitialMagnitude(a);u=1+p;h=d.iSkip+d.iTop-c-u;if(h>0){m-=u}else{m-=d.iSkip+d.iTop-c;if(h<0){v=c+u}}x-=u}}if(d.iSkip<=_){g=d.iSkip-_;m+=g;if(d.iTop+m<0){v=_}}d.iSkip+=y;d.iTop+=m;if(d.iTop>0){y=0;m=0;for(var T=0;T<I.length;T++){l=I[T];c=l.position;S=n&&n.ignoreMagnitude?1:l.magnitude+1;if(c>=d.iSkip&&c<=d.iSkip+d.iTop){m+=S;I[T].assignedToSection=true}else if(c<d.iSkip){y+=S}}d.iSkip+=y;d.iTop+=m;d.iTop+=f}if(d.iTop<=0){e.splice(N,1);N--}y=x}for(var k=0;k<I.length;k++){l=I[k];S=n&&n.ignoreMagnitude?1:l.magnitude+1;if(!l.assignedToSection){e.push({iSkip:l.position,iTop:S})}}e.sort(function(e,t){return e.iSkip-t.iSkip});for(var D=0;D<e.length;D++){if(D+1<e.length){d=e[D];var O=e[D+1];if(d.iSkip+d.iTop===O.iSkip){d.iTop+=O.iTop;e.splice(D+1,1);D--}}}};p.prototype._optimizeChanges=function(){var t=[],i=[],n=[],r=[];var o=false;var s=function(e,t){if(e.nodeState.removed&&!e.nodeState.reinserted){o=true;t.broken=true}};var a=[];var d=function(e){if((e.isDeepOne||e.serverIndex>=0)&&a.indexOf(e)==-1){a.push(e)}if(e.nodeState.added){i.push(e)}};this._aAllChangedNodes.forEach(function(e){o=false;this._up(e,s,false);if(o){d(e)}else if(e.nodeState.removed&&!e.nodeState.reinserted){d(e)}else if(e.nodeState.added){n.push(e)}else{r.push(e)}}.bind(this));a.sort(function(t,i){var n=this._getRelatedServerIndex(t);var r=this._getRelatedServerIndex(i);e(n!=undefined,"_generateSubmitData: (containing) Server-Index not found for node 'a'");e(r!=undefined,"_generateSubmitData: (containing) Server-Index not found node 'b'");if(n==r&&t.isDeepOne&&i.isDeepOne){if(t.parent===i.parent){return t.positionInParent-i.positionInParent}else{return t.originalLevel-i.originalLevel}}return n-r}.bind(this));var l=function(e){var t=false;this._up(e,function(e,i){if(e.nodeState.removed&&!e.nodeState.reinserted){t=true;i.broken=true}},true);return t}.bind(this);for(var h=0;h<a.length;h++){var u=a[h];if(!l(u)){t.push(u)}}return{removed:t,creationCancelled:i,added:n,moved:r}};p.prototype._collectDeepNodes=function(){var e=[],t=this;this._map(function(i){if(i&&i.nodeState.expanded&&(i.isDeepOne||i.initiallyCollapsed||i.initiallyIsLeaf)){e.push({oParentNode:i,aChildSections:t._collectServerSections(i.children)})}});return e};p.prototype._trackChangedNode=function(e){if(this._aAllChangedNodes.indexOf(e)==-1){this._aAllChangedNodes.push(e)}};p.prototype.addContexts=function(i,n){var r=this._findNodeByContext(i),o=r.node,d=this.getModel(),l,h;e(i&&n,"ODataTreeBinding.addContexts() was called with incomplete arguments!");if(o){this._bReadOnly=false;if(o.nodeState&&o.nodeState.isLeaf){o.nodeState.isLeaf=false;o.nodeState.collapsed=true}if(!Array.isArray(n)){if(n instanceof a){n=[n]}else{t.warning("ODataTreeBinding.addContexts(): The child node argument is not of type sap.ui.model.Context.")}}var u=function(e){return function(){return[e]}};n=n.slice();n.reverse();for(var f=0;f<n.length;f++){h=n[f];if(!(h instanceof a)){t.warning("ODataTreeBindingFlat.addContexts(): no valid child context given!");return}l=this._mSubtreeHandles[h.getPath()];this._ensureHierarchyNodeIDForContext(h);if(l&&l._isRemovedSubtree){t.info("ODataTreeBindingFlat.addContexts(): Existing context added '"+h.getPath()+"'");l._oNewParentNode=o;l._oSubtreeRoot.nodeState.reinserted=true;l._oSubtreeRoot.originalParent=l._oSubtreeRoot.originalParent||l._oSubtreeRoot.parent;l._oSubtreeRoot.parent=o;l._oSubtreeRoot.containingSubtreeHandle=l;this._trackChangedNode(l._oSubtreeRoot)}else{t.info("ODataTreeBindingFlat.addContexts(): Newly created context added.");this._ensureHierarchyNodeIDForContext(h);var p={context:h,key:d.getKey(h),parent:o,nodeState:{isLeaf:true,collapsed:false,expanded:false,selected:false,added:true},addedSubtrees:[],children:[],magnitude:0};this._trackChangedNode(p);this._aAdded.push(p);l={_getSubtree:u(p),_oSubtreeRoot:null,_oNewParentNode:o}}o.addedSubtrees.unshift(l);if(o.serverIndex!==undefined){this._aNodeChanges[o.serverIndex]=true}}this._aNodeCache=[];this._cleanTreeStateMaps();this._fireChange({reason:s.Add})}else{t.warning("The given parent context could not be found in the tree. No new sub-nodes were added!")}};p.prototype._ensureHierarchyNodeIDForContext=function(e){if(e){var t=e.getProperty(this.oTreeProperties["hierarchy-node-for"]);if(e.isTransient()&&!t){this.oModel.setProperty(this.oTreeProperties["hierarchy-node-for"],r(),e)}}};p.prototype.removeContext=function(e){var i=this;var n=this._findNodeByContext(e);var r=n.node;var o=n.index;if(r){this._bReadOnly=false;r.nodeState.removed=true;this._aRemoved.push(r);this._trackChangedNode(r);if(r.serverIndex!==undefined){this._aNodeChanges[r.serverIndex]=true}if(r.containingSubtreeHandle&&r.parent!=null){var a=r.parent.addedSubtrees.indexOf(r.containingSubtreeHandle);if(a!=-1){r.parent.addedSubtrees.splice(a,1);r.nodeState.reinserted=false;r.parent=null}}this._aNodeCache=[];this.setNodeSelection(r,false);this._cleanUpSelection(true);this._cleanTreeStateMaps();this._fireChange({reason:s.Remove});this._mSubtreeHandles[e.getPath()]={_removedFromVisualIndex:o,_isRemovedSubtree:true,_oSubtreeRoot:r,_getSubtree:function(){if(r.serverIndex!=undefined&&!r.initiallyCollapsed){return i._aNodes.slice(r.serverIndex,r.serverIndex+r.magnitude+1)}else{return r}},getContext:function(){return e}};return e}else{t.warning("ODataTreeBinding.removeContext(): The given context is not part of the tree. Was it removed already?")}return undefined};p.prototype._getRelatedServerIndex=function(e){if(e.serverIndex===undefined){return e.containingServerIndex}else{return e.serverIndex}};p.prototype.getNodeInfoByRowIndex=function(e){var t=0,i=0,n,r,o=-1;while(t<this._aCollapsed.length||i<this._aExpanded.length){if(this._aCollapsed[t]&&this._aExpanded[i]){if(this._getRelatedServerIndex(this._aCollapsed[t])>this._getRelatedServerIndex(this._aExpanded[i])){n=this._aExpanded[i];i++;r=false}else{n=this._aCollapsed[t];t++;r=true}}else if(this._aCollapsed[t]){n=this._aCollapsed[t];t++;r=true}else{n=this._aExpanded[i];i++;r=false}if(e<=this._getRelatedServerIndex(n)){break}if(r){if(!n.isDeepOne&&!n.initiallyCollapsed&&n.serverIndex>o){e+=n.magnitude;o=n.serverIndex+n.magnitude}}else if(n.serverIndex>o){if(!n.isDeepOne&&n.initiallyCollapsed){e-=n.magnitude}if(e<=n.serverIndex){return this._calcDirectIndex(n,e+n.magnitude-n.serverIndex-1)}}}return{index:e}};p.prototype._calcDirectIndex=function(e,t){var i,n,r;for(n=0;n<e.children.length;n++){i=e.children[n];if(t===0){return{parent:e,childIndex:n}}r=i?i.magnitude:0;t--;if(!i||i.nodeState.collapsed){continue}if(t<r){return this._calcDirectIndex(i,t)}else{t-=r}}return undefined};p.prototype.getRowIndexByNode=function(e){var t=0;var i;var n;if(e.isDeepOne){while(e.parent){t+=e.positionInParent+1;for(n=0;n<e.positionInParent;n++){i=e.parent.children[n];if(i&&i.nodeState.expanded){t+=i.magnitude}}e=e.parent}}return this._calcIndexDelta(e.serverIndex)+e.serverIndex+t};p.prototype._getSelectedNodesInfo=function(){var e=[];if(n(this._mSelected)){return e}var t=true;var i=function(e,i){if(e.nodeState.collapsed||e.nodeState.removed&&!e.nodeState.reinserted){t=false;i.broken=true}};for(var r in this._mSelected){var o=this._mSelected[r];t=true;this._up(o,i,false);if(t){e.push({node:o,rowIndex:this.getRowIndexByNode(o)})}}e.sort(function(e,t){return e.rowIndex-t.rowIndex});return e};p.prototype._calcIndexDelta=function(e){var t,i,n,r=0,o=0,s=0;for(t=0;t<this._aCollapsed.length;t++){var a=this._aCollapsed[t];if(this._getRelatedServerIndex(a)>=e){break}if(!a.isDeepOne){if(a.serverIndex>=s&&!a.initiallyCollapsed){r-=a.magnitude;s=a.serverIndex+a.magnitude}else{}}else{}}n=this._aCollapsed.filter(function(t){return t.serverIndex>=0&&t.serverIndex<e&&!t.isDeepOne&&!t.initiallyCollapsed});var d=function(e){return n.some(function(t){return e>t.serverIndex&&e<t.serverIndex+t.magnitude})};for(t=0;t<this._aExpanded.length;t++){var l=this._aExpanded[t],h=this._getRelatedServerIndex(l);if(h>=e){break}if(l.isDeepOne){var u=l.parent;var f=false;while(u){if(u.nodeState.collapsed){f=true;break}u=u.parent}i=d(h);if(!f&&!i){o+=l.children.length}}else if(l.initiallyCollapsed){i=d(h);if(!i){o+=l.children.length}}}return o+r};p.prototype._sortNodes=function(e){var t=function(e,t){var i=this._getRelatedServerIndex(e);var n=this._getRelatedServerIndex(t);return i-n}.bind(this);e.sort(t)};p.prototype._abortPendingRequest=function(){if(this._aPendingRequests.length||this._aPendingChildrenRequests.length){this.bSkipDataEvents=true;var e,t;for(e=this._aPendingRequests.length-1;e>=0;e--){this._aPendingRequests[e].oRequestHandle.abort()}this._aPendingRequests=[];for(t=this._aPendingChildrenRequests.length-1;t>=0;t--){this._aPendingChildrenRequests[t].oRequestHandle.abort()}this._aPendingChildrenRequests=[]}};p.prototype.attachSelectionChanged=function(e,t,i){this.attachEvent("selectionChanged",e,t,i);return this};p.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};p.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};p.prototype.getRootContexts=function(){};p.prototype.getNodeContexts=function(){};p.prototype._findParentNode=function(e){if(e.parent){return e.parent}let t=e.serverIndex;let i;do{t-=1;i=this._aNodes[t];if(!i){break}}while(i.level>=e.level);return i};p.prototype._resetMovedOrRemovedNode=function(e){this._resetParentState(e);e.level=e.originalLevel;e.parent=e.originalParent;delete e.containingSubtreeHandle;delete e.nodeState.removed;delete e.nodeState.reinserted};p.prototype._resetParentState=function(e){const t=this._findParentNode(e);if(t){t.addedSubtrees=[];if(t.initiallyIsLeaf){t.nodeState.isLeaf=true;t.nodeState.expanded=false;t.nodeState.collapsed=false}else if(t.nodeState.wasExpanded){t.nodeState.isLeaf=false;t.nodeState.expanded=true;t.nodeState.collapsed=false;delete t.nodeState.wasExpanded;this._aTurnedToLeaf.splice(this._aTurnedToLeaf.indexOf(t),1)}}};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/_AnnotationHelperExpression", ["./_AnnotationHelperBasics","sap/base/Log","sap/base/i18n/date/CalendarType","sap/ui/base/BindingInfo","sap/ui/base/BindingParser","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils","sap/ui/performance/Measurement"],function(e,t,r,a,n,i,s,o){"use strict";var u="sap.ui.model.odata.AnnotationHelper",l,p,d="\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])",c="[-+]?\\d+(?:\\.\\d+)?",m=Number.MAX_SAFE_INTEGER.toString(),f=Number.MIN_SAFE_INTEGER.toString(),g=[u],y=u+"/getExpression",E,v="(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(\\.\\d{1,12})?)?",T={Bool:/^true$|^false$/i,Float:new RegExp("^"+c+"(?:[eE][-+]?\\d+)?$|^NaN$|^-INF$|^INF$"),Date:new RegExp("^"+d+"$"),DateTimeOffset:new RegExp("^"+d+"T"+v+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i"),Decimal:new RegExp("^"+c+"$"),Guid:/^[A-F0-9]{8}-(?:[A-F0-9]{4}-){3}[A-F0-9]{12}$/i,Int:/^[-+]?\d{1,19}$/,TimeOfDay:new RegExp("^"+v+"$")},D,x=/^\{@i18n>[^\\\{\}:]+\}$/,S=/^\d+$/,h={And:"&&",Eq:"===",Ge:">=",Gt:">",Le:"<=",Lt:"<",Ne:"!==",Not:"!",Or:"||"},O=/^(\/dataServices\/schema\/\d+)(?:\/|$)/,b={"Edm.Boolean":"boolean","Edm.Byte":"number","Edm.Date":"date","Edm.DateTime":"datetime","Edm.DateTimeOffset":"datetime","Edm.Decimal":"decimal","Edm.Double":"number","Edm.Float":"number","Edm.Guid":"string","Edm.Int16":"number","Edm.Int32":"number","Edm.Int64":"decimal","Edm.SByte":"number","Edm.Single":"number","Edm.String":"string","Edm.Time":"time","Edm.TimeOfDay":"time"},I={Bool:"Edm.Boolean",Float:"Edm.Double",Date:"Edm.Date",DateTimeOffset:"Edm.DateTimeOffset",Decimal:"Edm.Decimal",Guid:"Edm.Guid",Int:"Edm.Int64",String:"Edm.String",TimeOfDay:"Edm.TimeOfDay"},P={boolean:false,date:true,datetime:true,decimal:true,number:false,string:false,time:true};D={_setDateTimeFormatter:function(){l=i.getDateInstance({calendarType:r.Gregorian,pattern:"yyyy-MM-dd",strictParsing:true,UTC:true});p=i.getDateTimeInstance({calendarType:r.Gregorian,pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSXXX",strictParsing:true});E=i.getTimeInstance({calendarType:r.Gregorian,pattern:"HH:mm:ss.SSS",strictParsing:true,UTC:true})},adjustOperands:function(e,t){if(e.result!=="constant"&&e.category==="number"&&t.result==="constant"&&t.type==="Edm.Int64"){t.category="number"}if(e.result!=="constant"&&e.category==="decimal"&&t.result==="constant"&&t.type==="Edm.Int32"){t.category="decimal";t.type=e.type}if(e.result==="constant"&&e.category==="date"&&t.result!=="constant"&&t.category==="datetime"){t.category="date"}},apply:function(t,r){var a=e.descend(r,"Name","string"),n=e.descend(r,"Parameters");switch(a.value){case"odata.concat":return D.concat(t,n);case"odata.fillUriTemplate":return D.fillUriTemplate(t,n);case"odata.uriEncode":return D.uriEncode(t,n);default:e.error(a,"unknown function: "+a.value);return undefined}},concat:function(t,r){var a=r.asExpression,n=[],i,s=[];e.expectType(r,"array");r.value.forEach(function(e,n){i=D.parameter(t,r,n);a=a||i.result==="expression";s.push(i)});s.forEach(function(t){if(a){D.wrapExpression(t)}if(t.type!=="edm:Null"){n.push(e.resultToString(t,a,r.withType))}});i=a?{result:"expression",value:n.join("+")}:{result:"composite",value:n.join("")};i.type="Edm.String";return i},conditional:function(t,r){var a=D.parameter(t,r,0,"Edm.Boolean"),n=D.parameter(t,r,1),i=D.parameter(t,r,2),s=n.type,o=r.withType;if(n.type==="edm:Null"){s=i.type}else if(i.type!=="edm:Null"&&n.type!==i.type){e.error(r,"Expected same type for second and third parameter, types are '"+n.type+"' and '"+i.type+"'")}return{result:"expression",type:s,value:e.resultToString(D.wrapExpression(a),true,false)+"?"+e.resultToString(D.wrapExpression(n),true,o)+":"+e.resultToString(D.wrapExpression(i),true,o)}},constant:function(t,r,a){var n=r.value;e.expectType(r,"string");if(a==="String"){if(x.test(n)){return{ignoreTypeInPath:true,result:"binding",type:"Edm.String",value:n.slice(1,-1)}}else if(t.getSetting&&t.getSetting("bindTexts")){return{result:"binding",type:"Edm.String",ignoreTypeInPath:true,value:"/##"+D.replaceIndexes(t.getModel(),r.path)}}a="Edm.String"}else if(!T[a].test(n)){e.error(r,"Expected "+a+" value but instead saw '"+n+"'")}else{a=I[a];if(a==="Edm.Int64"&&s.compare(n,f,true)>=0&&s.compare(n,m,true)<=0){a="Edm.Int32"}}return{result:"constant",type:a,value:n}},expression:function(t,r){var a=r.value,n,i;e.expectType(r,"object");if(a.hasOwnProperty("Type")){i=e.property(r,"Type","string");n=e.descend(r,"Value")}else{["And","Apply","Bool","Date","DateTimeOffset","Decimal","Float","Eq","Ge","Gt","Guid","If","Int","Le","Lt","Ne","Not","Null","Or","Path","PropertyPath","String","TimeOfDay"].forEach(function(t){if(a.hasOwnProperty(t)){i=t;n=e.descend(r,t)}})}switch(i){case"Apply":return D.apply(t,n);case"If":return D.conditional(t,n);case"Path":case"PropertyPath":return D.path(t,n);case"Bool":case"Date":case"DateTimeOffset":case"Decimal":case"Float":case"Guid":case"Int":case"String":case"TimeOfDay":return D.constant(t,n,i);case"And":case"Eq":case"Ge":case"Gt":case"Le":case"Lt":case"Ne":case"Or":return D.operator(t,n,i);case"Not":return D.not(t,n);case"Null":return{result:"constant",value:"null",type:"edm:Null"};default:e.error(r,"Unsupported OData expression");return undefined}},formatOperand:function(t,r,a,n){var i;if(a.result==="constant"){switch(a.category){case"boolean":case"number":return a.value;case"date":i=D.parseDate(a.value);if(!i){e.error(e.descend(t,r),"Invalid Date "+a.value)}return String(i.getTime());case"datetime":i=D.parseDateTimeOffset(a.value);if(!i){e.error(e.descend(t,r),"Invalid DateTime "+a.value)}return String(i.getTime());case"time":return String(D.parseTimeOfDay(a.value).getTime())}}if(n){D.wrapExpression(a)}return e.resultToString(a,true)},getExpression:function(r,i,s){var l;if(i===undefined){return undefined}o.average(y,"",g);if(!D.simpleParserWarningLogged&&a.parse===n.simpleParser){t.warning("Complex binding syntax not active",null,u);D.simpleParserWarningLogged=true}try{l=D.expression(r,{asExpression:false,path:r.getPath(),value:i,withType:s});o.end(y);return e.resultToString(l,false,s)}catch(t){o.end(y);if(t instanceof SyntaxError){return"Unsupported: "+n.complexParser.escape(e.toErrorString(i))}throw t}},fillUriTemplate:function(t,r){var a,n,i=[],s="",o,u=r.value,l,p=D.parameter(t,r,0,"Edm.String");i.push("odata.fillUriTemplate(",e.resultToString(p,true),",{");for(a=1;a<u.length;a+=1){o=e.descend(r,a,"object");n=e.property(o,"Name","string");l=D.expression(t,e.descend(o,"Value"),true);i.push(s,e.toJSON(n),":",e.resultToString(l,true));s=","}i.push("})");return{result:"expression",value:i.join(""),type:"Edm.String"}},not:function(t,r){var a;r.asExpression=true;a=D.expression(t,r);return{result:"expression",value:"!"+e.resultToString(D.wrapExpression(a),true),type:"Edm.Boolean"}},operator:function(t,r,a){var n=a==="And"||a==="Or"?"Edm.Boolean":undefined,i=D.parameter(t,r,0,n),s=D.parameter(t,r,1,n),o,u,l,p;if(i.type!=="edm:Null"&&s.type!=="edm:Null"){i.category=b[i.type];s.category=b[s.type];D.adjustOperands(i,s);D.adjustOperands(s,i);if(i.category!==s.category){e.error(r,"Expected two comparable parameters but instead saw "+i.type+" and "+s.type)}o=i.category==="decimal"?",true":"";u=P[i.category]}l=D.formatOperand(r,0,i,!u);p=D.formatOperand(r,1,s,!u);return{result:"expression",value:u?"odata.compare("+l+","+p+o+")"+h[a]+"0":l+h[a]+p,type:"Edm.Boolean"}},parameter:function(t,r,a,n){var i=e.descend(r,a),s;i.asExpression=true;s=D.expression(t,i);if(n&&n!==s.type){e.error(i,"Expected "+n+" but instead saw "+s.type)}return s},parseDate:function(e){return l.parse(e)},parseDateTimeOffset:function(e){var t=T.DateTimeOffset.exec(e);if(t&&t[1]&&t[1].length>4){e=e.replace(t[1],t[1].slice(0,4))}return p.parse(e.toUpperCase())},parseTimeOfDay:function(e){if(e.length>12){e=e.slice(0,12)}return E.parse(e)},path:function(r,a){var n=a.value,i={},s,o,l,p=r.getModel(),d={getModel:function(){return p},getPath:function(){return a.path}},c,m={result:"binding",value:n},f;e.expectType(a,"string");f=e.followPath(d,{Path:n});if(f&&f.resolvedPath){c=p.getProperty(f.resolvedPath);m.type=c.type;switch(c.type){case"Edm.DateTime":i.displayFormat=c["sap:display-format"];break;case"Edm.Decimal":if(c.precision){i.precision=c.precision}if(c.scale){i.scale=c.scale}l=c["Org.OData.Validation.V1.Minimum"];if(l&&(l.Decimal||l.String)){i.minimum=l.Decimal||l.String;s=l["Org.OData.Validation.V1.Exclusive"];if(s){i.minimumExclusive=s.Bool||"true"}}l=c["Org.OData.Validation.V1.Maximum"];if(l&&(l.Decimal||l.String)){i.maximum=l.Decimal||l.String;s=l["Org.OData.Validation.V1.Exclusive"];if(s){i.maximumExclusive=s.Bool||"true"}}break;case"Edm.String":i.maxLength=c.maxLength;o=c["com.sap.vocabularies.Common.v1.IsDigitSequence"];if(o){i.isDigitSequence=o.Bool||"true"}break}if(c.nullable==="false"){i.nullable="false"}m.constraints=i}else{t.warning("Could not find property '"+n+"' starting from '"+a.path+"'",null,u)}return m},replaceIndexes:function(t,r){var a,n=r.split("/"),i,s;function o(r,a){var s=t.getProperty(i+"/"+r);if(typeof s==="string"){n[a]="[${"+r+"}==="+e.toJSON(s)+"]";return true}return false}a=O.exec(r);if(!a){return r}i=a[1];if(!o("namespace",3)){return r}for(var u=4;u<n.length;u+=1){i=i+"/"+n[u];if(S.test(n[u])&&!o("name",u)){s=t.getProperty(i+"/RecordType");if(s){if(s==="com.sap.vocabularies.UI.v1.DataFieldForAction"){o("Action/String",u)}else if(s==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){o("Target/AnnotationPath",u)}else if(s.indexOf("com.sap.vocabularies.UI.v1.DataField")===0){o("Value/Path",u)}}}}return n.join("/")},simpleParserWarningLogged:false,uriEncode:function(t,r){var a=D.parameter(t,r,0);if(a.result==="constant"){if(a.type==="Edm.Date"){a.type="Edm.DateTime";a.value=a.value+"T00:00:00Z"}else if(a.type==="Edm.TimeOfDay"){a.type="Edm.Time";a.value="PT"+a.value.slice(0,2)+"H"+a.value.slice(3,5)+"M"+a.value.slice(6,8)+"S"}}return{result:"expression",value:"odata.uriEncode("+e.resultToString(a,true)+","+e.toJSON(a.type)+")",type:"Edm.String"}},wrapExpression:function(e){if(e.result==="expression"){e.value="("+e.value+")"}return e}};D._setDateTimeFormatter();return D});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Boolean", ["sap/base/Log","sap/ui/core/Lib","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(e,t,n,o,a,r){"use strict";function i(){return u("EnterYesOrNo",[l(true),l(false)])}function u(e,n){return t.getResourceBundleFor("sap.ui.core").getText(e,n)}function l(e){return u(e?"YES":"NO")}function s(t,n){var o;t.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){e.warning("Illegal nullable: "+o,null,t.getName())}}}var f=r.extend("sap.ui.model.odata.type.Boolean",{constructor:function(e,t){r.apply(this,arguments);s(this,t)}});f.prototype.formatValue=function(e,t){if(e===null||e===undefined){return null}switch(this.getPrimitiveType(t)){case"any":case"boolean":return e;case"string":return l(e);default:throw new n("Don't know how to format "+this.getName()+" to "+t)}};f.prototype.parseValue=function(e,t){var n;if(e===null||e===""){return null}switch(this.getPrimitiveType(t)){case"boolean":return e;case"string":n=e.trim().toLowerCase();if(n===l(true).toLowerCase()){return true}if(n===l(false).toLowerCase()){return false}throw new o(i());default:throw new o("Don't know how to parse "+this.getName()+" from "+t)}};f.prototype.validateValue=function(e){if(e===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new a(i())}return}if(typeof e!=="boolean"){throw new a("Illegal "+this.getName()+" value: "+e)}};f.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean"};return f});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Byte", ["sap/ui/model/odata/type/Int"],function(t){"use strict";var e={minimum:0,maximum:255};var n=t.extend("sap.ui.model.odata.type.Byte",{constructor:function(){t.apply(this,arguments)}});n.prototype.getName=function(){return"sap.ui.model.odata.type.Byte"};n.prototype.getRange=function(){return e};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Currency", ["./UnitMixin","sap/ui/model/type/Currency"],function(t,e){"use strict";var n=e.extend("sap.ui.model.odata.type.Currency",{constructor:function(t,e){this._applyUnitMixin.apply(this,arguments)}});t(n.prototype,e,"customCurrencies","Currency");n.prototype.getCustomUnitForKey=function(t,e){return{decimals:t[e].UnitSpecificScale,isoCode:t[e].StandardCode}};n.prototype.getName=function(){return"sap.ui.model.odata.type.Currency"};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Date", ["sap/base/Log","sap/base/i18n/date/CalendarType","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,a,r,n,o,i,s,l,u){"use strict";var p=/\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\d|3[01])/,f;function c(){if(!f){f=o.getDateInstance({calendarType:e.Gregorian,pattern:"yyyy-MM-dd",strictParsing:true,UTC:true})}return f}function g(e,a){var r;e.oConstraints=undefined;if(a){r=a.nullable;if(r===false||r==="false"){e.oConstraints={nullable:false}}else if(r!==undefined&&r!==true&&r!=="true"){t.warning("Illegal nullable: "+r,null,e.getName())}}}var d=u.extend("sap.ui.model.odata.type.Date",{constructor:function(t,e){u.apply(this,arguments);this.oFormatOptions=t;g(this,e)}});d.prototype._handleLocalizationChange=function(){this.oFormat=null};d.prototype.formatValue=function(t,e){var a;if(t===undefined||t===null){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"object":return t instanceof Date?n.getInstance(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()):c().parse(t,false);case"string":a=t instanceof Date?t:c().parse(t);return a?this.getFormat().format(a):t;default:throw new i("Don't know how to format "+this.getName()+" to "+e)}};d.prototype._getErrorMessage=function(){var t=n.getInstance().getFullYear()+"-12-31";return r.getResourceBundleFor("sap.ui.core").getText("EnterDate",[this.formatValue(t,"string")])};d.prototype.getDateValue=function(t){return t?n.getInstance(t+"T00:00"):null};d.prototype.getFormat=function(){if(!this.oFormat){var t=a({strictParsing:true},this.oFormatOptions);t.UTC=true;this.oFormat=o.getDateInstance(t)}return this.oFormat};d.prototype.getISOStringFromModelValue=function(t){return t?t:null};d.prototype.getModelFormat=function(){return c()};d.prototype.getModelValue=function(t){var e;if(t===null){e=null}else{n.checkDate(t);e=n.getInstance(0);e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());e=this.getModelFormat().format(e)}this.validateValue(e);return e};d.prototype.getModelValueFromISOString=function(t){return t?t:null};d.prototype.getName=function(){return"sap.ui.model.odata.type.Date"};d.prototype.parseValue=function(t,e){var a;if(t===""||t===null){return null}switch(this.getPrimitiveType(e)){case"object":return c().format(t,false);case"string":a=this.getFormat().parse(t);if(!a){throw new s(this._getErrorMessage())}return c().format(a);default:throw new s("Don't know how to parse "+this.getName()+" from "+e)}};d.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new l(this._getErrorMessage())}}else if(typeof t!=="string"||!p.test(t)){throw new l("Illegal "+this.getName()+" value: "+t)}};d._resetModelFormatter=function(){f=undefined};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTime", ["sap/base/Log","sap/ui/core/date/UI5Date","sap/ui/model/odata/type/DateTimeBase"],function(t,e,a){"use strict";function n(e,a){var n={};if(a){switch(a.displayFormat){case"Date":n.isDateOnly=true;break;case undefined:break;default:t.warning("Illegal displayFormat: "+a.displayFormat,null,e.getName())}n.nullable=a.nullable}return n}var r=a.extend("sap.ui.model.odata.type.DateTime",{constructor:function(t,e){a.call(this,t,n(this,e))}});r.prototype.getConstraints=function(){var t=a.prototype.getConstraints.call(this);if(t.isDateOnly){t.displayFormat="Date";delete t.isDateOnly}return t};r.prototype.getISOStringFromModelValue=function(t){if(!t){return null}var e=t.toISOString();return this.oConstraints&&this.oConstraints.isDateOnly?e.split("T")[0]:e};r.prototype.getModelValue=function(t){var e=this._getModelValue(t);this.validateValue(e);return e};r.prototype.getModelValueFromISOString=function(t){if(!t){return null}return e.getInstance(t)};r.prototype.getName=function(){return"sap.ui.model.odata.type.DateTime"};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTimeOffset", ["sap/base/Log","sap/base/i18n/date/CalendarType","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/odata/type/DateTimeBase"],function(t,e,i,r,o,n){"use strict";var a=n.extend("sap.ui.model.odata.type.DateTimeOffset",{constructor:function(e,i){var r;n.call(this,e,{nullable:i?i.nullable:undefined,precision:i?i.precision:undefined});this.rDateTimeOffset=undefined;this.oModelFormat=undefined;this.bV4=false;if(i){r=i.V4;if(r===true){this.bV4=true}else if(r!==undefined&&r!==false){t.warning("Illegal V4: "+r,null,this.getName())}}}});function s(t){var i="yyyy-MM-dd'T'HH:mm:ss",o;if(!t.oModelFormat){o=t.oConstraints&&t.oConstraints.precision;if(o){i+="."+"".padEnd(o,"S")}t.oModelFormat=r.getDateInstance({calendarType:e.Gregorian,pattern:i+"XXX",strictParsing:true,UTC:t.oFormatOptions&&t.oFormatOptions.UTC})}return t.oModelFormat}a.prototype._resetModelFormatter=function(){this.oModelFormat=undefined};a.prototype.formatValue=function(t,e){var r;if(t===undefined||t===null){return null}if(this.getPrimitiveType(e)==="object"){if(t instanceof Date){return i.getInstance(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}return s(this).parse(t)}if(typeof t==="string"&&this.getPrimitiveType(e)==="string"){r=s(this).parse(t);if(!r){throw new o("Illegal "+this.getName()+" value: "+t)}t=r}return n.prototype.formatValue.call(this,t,e)};a.prototype.getConstraints=function(){var t=n.prototype.getConstraints.call(this);if(this.bV4){t.V4=true}return t};a.prototype.getISOStringFromModelValue=function(t){if(!t){return null}return this.bV4?t:t.toISOString()};a.prototype.getModelFormat=function(){if(this.bV4){return s(this)}return n.prototype.getModelFormat.call(this)};a.prototype.getModelValue=function(t){var e=this._getModelValue(t);if(this.bV4&&e!==null){e=this.getModelFormat().format(e)}this.validateValue(e);return e};a.prototype.getModelValueFromISOString=function(t){if(!t){return null}return this.bV4?this.getModelFormat().format(i.getInstance(t),true):i.getInstance(t)};a.prototype.getName=function(){return"sap.ui.model.odata.type.DateTimeOffset"};a.prototype.parseValue=function(t,e){var i=n.prototype.parseValue.call(this,t,e);return this.bV4&&i!==null?s(this).format(i):i};a.prototype.setV4=function(){this.bV4=true;return this};a.prototype.validateValue=function(t){var e;if(this.bV4){if(typeof t==="string"){if(!this.rDateTimeOffset){e=this.oConstraints&&this.oConstraints.precision;this.rDateTimeOffset=new RegExp("^"+"\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])"+"T"+"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(e?"(\\.\\d{1,"+e+"})?":"")+")?"+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i")}if(this.rDateTimeOffset.test(t)){return}}else if(t){t=t.toString()}}n.prototype.validateValue.call(this,t)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTimeWithTimezone", ["sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/_Helper","sap/ui/model/CompositeType","sap/ui/model/FormatException","sap/ui/model/ParseException"],function(e,t,o,i,n,r,a){"use strict";var s="For type 'object', at least one of the format options 'showDate' or"+" 'showTime' must be enabled";var h=n.extend("sap.ui.model.odata.type.DateTimeWithTimezone",{constructor:function(e,t){if(t&&Object.keys(t).length){throw new Error("Type "+this.getName()+" does not support constraints")}e=Object.assign({},e);n.call(this,e);this.oFormat=null;this.bParseWithValues=true;this.bUseInternalValues=true;this.vEmptyTimezoneValue=null;this.bShowDate=e.showDate===undefined||e.showDate;this.bShowTime=e.showTime===undefined||e.showTime;this.bShowTimezone=e.showTimezone===undefined||e.showTimezone;this.setConstraints=function(){throw new Error("Constraints are immutable")};this.setFormatOptions=function(){throw new Error("Format options are immutable")}}});h.prototype._getErrorMessage=function(){var o=new Date(Date.UTC(t.getInstance().getFullYear(),11,31,23,59,58)),i=!this.bShowDate&&!this.bShowTime?"EnterDateTimeTimezone":"EnterDateTime";return e.getResourceBundleFor("sap.ui.core").getText(i,[this.formatValue([o,"America/New_York"],"string")])};h.prototype.formatValue=function(e,t){var o=e&&e[0],i=e&&e[1];if(!e||i===undefined||o===undefined||!o&&!this.bShowTimezone){return null}if(o&&!(o instanceof Date)){throw new r("Timestamp value for "+this.getName()+" is not an instance of Date: "+o)}switch(this.getPrimitiveType(t)){case"object":if(!this.bShowDate&&!this.bShowTime){throw new r(s)}return o;case"string":return this.getFormat().format(o,i);default:throw new r("Don't know how to format "+this.getName()+" to "+t)}};h.prototype.getFormat=function(){if(!this.oFormat){var e=i.extend({strictParsing:true},this.oFormatOptions);this.oFormat=o.getDateTimeWithTimezoneInstance(e)}return this.oFormat};h.prototype.getName=function(){return"sap.ui.model.odata.type.DateTimeWithTimezone"};h.prototype.getPartsIgnoringMessages=function(){if(!this.bShowDate&&!this.bShowTime){return[0]}else if(!this.bShowTimezone){return[1]}return[]};h.prototype.getPlaceholderText=function(){return this.getFormat().getPlaceholderText()};h.prototype.parseValue=function(e,t,o){var i;if(!o){throw new a("'aCurrentValues' is mandatory")}switch(this.getPrimitiveType(t)){case"object":if(!this.bShowDate&&!this.bShowTime){throw new a(s)}if(!e){return[null,undefined]}if(!(e instanceof Date)){throw new a("Given value must be an instance of Date")}return[e,undefined];case"string":if(!e){if(!this.bShowDate&&!this.bShowTime){return[undefined,this.vEmptyTimezoneValue]}return[null,undefined]}try{i=this.getFormat().parse(e,o[1])}catch(e){throw new a(e.message)}if(!i){throw new a(this._getErrorMessage())}return i;default:throw new a("Don't know how to parse "+this.getName()+" from "+t)}};h.prototype.processPartTypes=function(e){var t=e[1];if(t&&t.isA("sap.ui.model.odata.type.String")&&t.getFormatOptions().parseKeepsEmptyString===true){this.vEmptyTimezoneValue=""}};h.prototype.validateValue=function(e){};h.prototype._handleLocalizationChange=function(){this.oFormat=null};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Decimal", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/type/ODataType"],function(t,e,i,n,r,a,o,s){"use strict";var u=/^[-+]?(\d+)(?:\.(\d+))?$/,m=/(?:(\.[0-9]*[1-9]+)0+|\.0*)$/;function l(t){return t.oConstraints&&t.oConstraints.scale||0}function f(t,i){return e.getResourceBundleFor("sap.ui.core").getText(t,i)}function c(t){if(t.indexOf(".")>=0){t=t.replace(m,"$1")}return t}function p(e,i){var n,r,a,o,s;function m(i,n){t.warning("Illegal "+n+": "+i,null,e.getName())}function l(t,e,i,n){var r=typeof t==="string"?parseInt(t):t;if(r===undefined){return e}if(typeof r!=="number"||isNaN(r)||r<i){m(t,n);return e}return r}function f(t,e){if(t){if(t.match(u)){return t}m(t,e)}return undefined}function c(t,e){if(t===true||t==="true"){return true}if(t!==undefined&&t!==false&&t!=="false"){m(t,e)}return undefined}function p(t,i,n){if(i!==n){e.oConstraints=e.oConstraints||{};e.oConstraints[t]=i}}e.oConstraints=undefined;if(i){n=i.nullable;a=i.precision;s=i.scale;o=s==="variable"?Infinity:l(s,0,0,"scale");r=l(a,Infinity,1,"precision");if(o!==Infinity&&r<o){t.warning("Illegal scale: must be less than or equal to precision (precision="+a+", scale="+s+")",null,e.getName());o=Infinity}p("precision",r,Infinity);p("scale",o,0);if(n===false||n==="false"){p("nullable",false,true)}else if(n!==undefined&&n!==true&&n!=="true"){m(n,"nullable")}p("minimum",f(i.minimum,"minimum"));p("minimumExclusive",c(i.minimumExclusive,"minimumExclusive"));p("maximum",f(i.maximum,"maximum"));p("maximumExclusive",c(i.maximumExclusive,"maximumExclusive"))}e._handleLocalizationChange()}var h=s.extend("sap.ui.model.odata.type.Decimal",{constructor:function(t,e){s.apply(this,arguments);this.oFormatOptions=t;p(this,e);this.checkParseEmptyValueToZero()}});h.prototype.formatValue=function(t,e){if(t===null||t===undefined){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"float":return parseFloat(t);case"int":return Math.floor(parseFloat(t));case"string":return this.getFormat().format(c(String(t)));default:throw new n("Don't know how to format "+this.getName()+" to "+e)}};h.prototype.getFormat=function(){if(!this.oFormat){var t={groupingEnabled:true,maxIntegerDigits:Infinity},e=l(this);if(e!==Infinity){t.minFractionDigits=t.maxFractionDigits=e}var n=this.oFormatOptions||{};if(n.style!=="short"&&n.style!=="long"){t.preserveDecimals=true}Object.assign(t,this.oFormatOptions);t.parseAsString=true;delete t.parseEmptyValueToZero;this.oFormat=i.getFloatInstance(t)}return this.oFormat};h.prototype.parseValue=function(t,n){var a=this.getEmptyValue(t);if(a!==undefined){return a}var o;switch(this.getPrimitiveType(n)){case"string":o=this.getFormat().parse(t);if(!o){throw new r(e.getResourceBundleFor("sap.ui.core").getText("EnterNumber"))}o=c(o);break;case"int":case"float":o=i.getFloatInstance({maxIntegerDigits:Infinity,decimalSeparator:".",groupingEnabled:false}).format(t);break;default:throw new r("Don't know how to parse "+this.getName()+" from "+n)}return o};h.prototype._handleLocalizationChange=function(){this.oFormat=null};h.prototype.validateValue=function(t){var e,i,n,r,s,m,c,p,h;if(t===null&&(!this.oConstraints||this.oConstraints.nullable!==false)){return}if(typeof t!=="string"){throw new a(f("EnterNumber"))}n=u.exec(t);if(!n){throw new a(f("EnterNumber"))}i=n[1].length;e=(n[2]||"").length;h=l(this);p=this.oConstraints&&this.oConstraints.precision||Infinity;m=this.oConstraints&&this.oConstraints.minimum;r=this.oConstraints&&this.oConstraints.maximum;if(e>h){if(h===0){throw new a(f("EnterInt"))}else if(i+h>p){if(h!==p){throw new a(f("EnterNumberIntegerFraction",[p-h,h]))}if(n[1]!=="0"){throw new a(f("EnterNumberFractionOnly",[h]))}}throw new a(f("EnterNumberFraction",[h]))}if(h===Infinity){if(i+e>p){throw new a(f("EnterNumberPrecision",[p]))}}else if(i>p-h){if(h!==p){if(h){throw new a(f("EnterNumberInteger",[p-h]))}throw new a(f("EnterMaximumOfDigits",[p]))}if(n[1]!=="0"){throw new a(f("EnterNumberFractionOnly",[h]))}}if(m){c=this.oConstraints.minimumExclusive;if(o.compare(m,t,true)>=(c?0:1)){throw new a(f(c?"EnterNumberMinExclusive":"EnterNumberMin",[this.formatValue(m,"string")]))}}if(r){s=this.oConstraints.maximumExclusive;if(o.compare(r,t,true)<=(s?0:-1)){throw new a(f(s?"EnterNumberMaxExclusive":"EnterNumberMax",[this.formatValue(r,"string")]))}}};h.prototype.getName=function(){return"sap.ui.model.odata.type.Decimal"};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Double", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(e,t,a,o,r,n,i){"use strict";function s(){return t.getResourceBundleFor("sap.ui.core").getText("EnterNumber")}function l(e){return!e.oConstraints||e.oConstraints.nullable!==false}function u(t,a){var o;t.oConstraints=undefined;if(a){o=a.nullable;if(o===false||o==="false"){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){e.warning("Illegal nullable: "+o,null,t.getName())}}t._handleLocalizationChange()}var p=i.extend("sap.ui.model.odata.type.Double",{constructor:function(e,t){i.apply(this,arguments);this.oFormatOptions=e;u(this,t);this.checkParseEmptyValueToZero()}});p.prototype.formatValue=function(e,t){var a,r;if(e===null||e===undefined){return null}if(typeof e==="number"){r=e}else if(typeof e==="string"){r=parseFloat(e)}else if(t!=="any"){throw new o("Illegal "+this.getName()+" value: "+e)}switch(this.getPrimitiveType(t)){case"any":return e;case"float":return r;case"int":return Math.floor(r);case"string":if(r&&(Math.abs(r)>=1e15||Math.abs(r)<1e-4)){a=this.getFormat().oFormatOptions;return r.toExponential().replace("e"," E").replace(".",a.decimalSeparator).replace("+",a.plusSign).replace("-",a.minusSign)}return this.getFormat().format(r);default:throw new o("Don't know how to format "+this.getName()+" to "+t)}};p.prototype.getFormat=function(){if(!this.oFormat){var e={groupingEnabled:true},t=this.oFormatOptions||{};if(t.style!=="short"&&t.style!=="long"){e.preserveDecimals=true}Object.assign(e,this.oFormatOptions);delete e.parseEmptyValueToZero;this.oFormat=a.getFloatInstance(e)}return this.oFormat};p.prototype.parseValue=function(e,t){var a=this.getEmptyValue(e,true);if(a!==undefined){return a}var o;switch(this.getPrimitiveType(t)){case"string":o=this.getFormat().parse(e);if(isNaN(o)){throw new r(s())}break;case"int":case"float":o=e;break;default:throw new r("Don't know how to parse "+this.getName()+" from "+t)}return o};p.prototype._handleLocalizationChange=function(){this.oFormat=null};p.prototype.validateValue=function(e){if(e===null&&l(this)){return}if(typeof e==="number"){return}throw new n(s())};p.prototype.getName=function(){return"sap.ui.model.odata.type.Double"};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Guid", ["sap/base/Log","sap/ui/core/Lib","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(e,t,n,i,a,o){"use strict";var r=/[-\s]/g,l=/^[A-F0-9]{8}-([A-F0-9]{4}-){3}[A-F0-9]{12}$/i;function s(){return t.getResourceBundleFor("sap.ui.core").getText("EnterGuid")}function u(t,n){var i;t.oConstraints=undefined;if(n){i=n.nullable;if(i===false||i==="false"){t.oConstraints={nullable:false}}else if(i!==undefined&&i!==true&&i!=="true"){e.warning("Illegal nullable: "+i,null,t.getName())}}}var p=o.extend("sap.ui.model.odata.type.Guid",{constructor:function(e,t){o.apply(this,arguments);u(this,t)}});p.prototype.formatValue=function(e,t){if(e===undefined||e===null){return null}switch(this.getPrimitiveType(t)){case"any":case"string":return e;default:throw new n("Don't know how to format "+this.getName()+" to "+t)}};p.prototype.getName=function(){return"sap.ui.model.odata.type.Guid"};p.prototype.parseValue=function(e,t){var n;if(e===""||e===null){return null}if(this.getPrimitiveType(t)!=="string"){throw new i("Don't know how to parse "+this.getName()+" from "+t)}n=e.replace(r,"");if(n.length!==32){return e}return n.slice(0,8)+"-"+n.slice(8,12)+"-"+n.slice(12,16)+"-"+n.slice(16,20)+"-"+n.slice(20)};p.prototype.validateValue=function(e){if(e===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new a(s())}return}if(typeof e!=="string"){throw new a("Illegal "+this.getName()+" value: "+e)}if(!l.test(e)){throw new a(s())}};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Int", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,a,n,o,r,i,s){"use strict";function u(t,e){return a.getResourceBundleFor("sap.ui.core").getText(t,e)}function l(e,a){var n;e.oConstraints=undefined;if(a){n=a.nullable;if(n===false||n==="false"){e.oConstraints={nullable:false}}else if(n!==undefined&&n!==true&&n!=="true"){t.warning("Illegal nullable: "+n,null,e.getName())}}e._handleLocalizationChange()}var m=s.extend("sap.ui.model.odata.type.Int",{constructor:function(t,e){s.apply(this,arguments);this.oFormatOptions=t;l(this,e);this.checkParseEmptyValueToZero()},metadata:{abstract:true}});m.prototype._handleLocalizationChange=function(){this.oFormat=null};m.prototype.formatValue=function(t,e){if(t===undefined||t===null){return null}if(typeof t!=="number"&&e!=="any"){throw new o("Illegal "+this.getName()+" value: "+t)}switch(this.getPrimitiveType(e)){case"string":return this.getFormat().format(t);case"int":return Math.floor(t);case"float":case"any":return t;default:throw new o("Don't know how to format "+this.getName()+" to "+e)}};m.prototype.getFormat=function(){if(!this.oFormat){var t=e({groupingEnabled:true},this.oFormatOptions);delete t.parseEmptyValueToZero;this.oFormat=n.getIntegerInstance(t)}return this.oFormat};m.prototype.parseValue=function(t,e){var a=this.getEmptyValue(t,true);if(a!==undefined){return a}switch(this.getPrimitiveType(e)){case"string":var n=this.getFormat().parse(t);if(isNaN(n)){throw new r(u("EnterInt"))}return n;case"float":return Math.floor(t);case"int":return t;default:throw new r("Don't know how to parse "+this.getName()+" from "+e)}};m.prototype.validateValue=function(t){var e=this.getRange();if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new i(u("EnterInt"))}return}if(typeof t!=="number"){throw new i(t+" (of type "+typeof t+") is not a valid "+this.getName()+" value")}if(Math.floor(t)!==t){throw new i(u("EnterInt"))}if(t<e.minimum){throw new i(u("EnterNumberMin",[this.formatValue(e.minimum,"string")]))}if(t>e.maximum){throw new i(u("EnterNumberMax",[this.formatValue(e.maximum,"string")]))}};return m});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Int16", ["sap/ui/model/odata/type/Int"],function(t){"use strict";var e={minimum:-32768,maximum:32767};var n=t.extend("sap.ui.model.odata.type.Int16",{constructor:function(){t.apply(this,arguments)}});n.prototype.getName=function(){return"sap.ui.model.odata.type.Int16"};n.prototype.getRange=function(){return e};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Int32", ["sap/ui/model/odata/type/Int"],function(t){"use strict";var e={minimum:-2147483648,maximum:2147483647};var n=t.extend("sap.ui.model.odata.type.Int32",{constructor:function(){t.apply(this,arguments)}});n.prototype.getName=function(){return"sap.ui.model.odata.type.Int32"};n.prototype.getRange=function(){return e};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Int64", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,n,r,a,i,o,u){"use strict";var s=/^[-+]?(\d+)$/,l={minimum:"-9223372036854775808",maximum:"9223372036854775807"},m={minimum:"-9007199254740991",maximum:"9007199254740991"};function f(t,e,n){var r,a,i;a=s.exec(e);if(a){i=e.charAt(0)==="-";r=i?n.minimum.slice(1):n.maximum;if(a[1].length<r.length){return undefined}if(a[1].length>r.length||a[1]>r){if(i){return p("EnterNumberMin",[t.formatValue(n.minimum,"string")])}else{return p("EnterNumberMax",[t.formatValue(n.maximum,"string")])}}return undefined}return p("EnterInt")}function p(t,e){return n.getResourceBundleFor("sap.ui.core").getText(t,e)}function c(t){return!t.oConstraints||t.oConstraints.nullable!==false}function h(e,n){var r;e.oConstraints=undefined;if(n){r=n.nullable;if(r===false||r==="false"){e.oConstraints={nullable:false}}else if(r!==undefined&&r!==true&&r!=="true"){t.warning("Illegal nullable: "+r,null,e.getName())}}e._handleLocalizationChange()}var g=u.extend("sap.ui.model.odata.type.Int64",{constructor:function(t,e){u.apply(this,arguments);this.oFormatOptions=t;h(this,e);this.checkParseEmptyValueToZero()}});g.prototype.formatValue=function(t,e){var n;if(t===null||t===undefined){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"float":case"int":n=f(this,t,m);if(n){throw new a(n)}return parseInt(t);case"string":return this.getFormat().format(t);default:throw new a("Don't know how to format "+this.getName()+" to "+e)}};g.prototype.getFormat=function(){if(!this.oFormat){var t=e({groupingEnabled:true},this.oFormatOptions);t.parseAsString=true;delete t.parseEmptyValueToZero;this.oFormat=r.getIntegerInstance(t)}return this.oFormat};g.prototype.getName=function(){return"sap.ui.model.odata.type.Int64"};g.prototype._handleLocalizationChange=function(){this.oFormat=null};g.prototype.parseValue=function(t,e){var n=this.getEmptyValue(t);if(n!==undefined){return n}var a;switch(this.getPrimitiveType(e)){case"string":a=this.getFormat().parse(t);if(!a){throw new i(p("EnterInt"))}break;case"int":case"float":a=r.getIntegerInstance({maxIntegerDigits:Infinity,groupingEnabled:false}).format(t);break;default:throw new i("Don't know how to parse "+this.getName()+" from "+e)}return a};g.prototype.validateValue=function(t){var e;if(t===null&&c(this)){return}if(typeof t==="string"){e=f(this,t,l);if(e){throw new o(e)}return}throw new o(p("EnterInt"))};return g});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Raw", ["sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,o,a){"use strict";var p=a.extend("sap.ui.model.odata.type.Raw",{constructor:function(t,e){a.apply(this,arguments);if(t!==undefined||e!==undefined||arguments.length>2){throw new Error("Unsupported arguments")}}});p.prototype.formatValue=function(e,o){if(o==="any"){return e}throw new t("Type 'sap.ui.model.odata.type.Raw' does not support formatting")};p.prototype.getName=function(){return"sap.ui.model.odata.type.Raw"};p.prototype.parseValue=function(){throw new e("Type 'sap.ui.model.odata.type.Raw' does not support parsing")};p.prototype.validateValue=function(){throw new o("Type 'sap.ui.model.odata.type.Raw' does not support validating")};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/SByte", ["sap/ui/model/odata/type/Int"],function(t){"use strict";var e={minimum:-128,maximum:127};var n=t.extend("sap.ui.model.odata.type.SByte",{constructor:function(){t.apply(this,arguments)}});n.prototype.getName=function(){return"sap.ui.model.odata.type.SByte"};n.prototype.getRange=function(){return e};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Single", ["sap/base/Log","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,o,a,n,r,i){"use strict";function s(){return e.getResourceBundleFor("sap.ui.core").getText("EnterNumber")}function u(t){return!t.oConstraints||t.oConstraints.nullable!==false}function l(e,o){var a;e.oConstraints=undefined;if(o){a=o.nullable;if(a===false||a==="false"){e.oConstraints={nullable:false}}else if(a!==undefined&&a!==true&&a!=="true"){t.warning("Illegal nullable: "+a,null,e.getName())}}e._handleLocalizationChange()}var p=i.extend("sap.ui.model.odata.type.Single",{constructor:function(t,e){i.apply(this,arguments);this.oFormatOptions=t;l(this,e);this.checkParseEmptyValueToZero()}});p.prototype.formatValue=function(t,e){var o;if(t===null||t===undefined){return null}if(typeof t==="number"){o=t}else if(typeof t==="string"){o=parseFloat(t)}else if(e!=="any"){throw new a("Illegal "+this.getName()+" value: "+t)}switch(this.getPrimitiveType(e)){case"any":return t;case"float":return o;case"int":return Math.floor(o);case"string":return this.getFormat().format(parseFloat(o.toPrecision(7)));default:throw new a("Don't know how to format "+this.getName()+" to "+e)}};p.prototype.getFormat=function(){if(!this.oFormat){var t={groupingEnabled:true},e=this.oFormatOptions||{};if(e.style!=="short"&&e.style!=="long"){t.preserveDecimals=true}Object.assign(t,this.oFormatOptions);delete t.parseEmptyValueToZero;this.oFormat=o.getFloatInstance(t)}return this.oFormat};p.prototype.parseValue=function(t,e){var o=this.getEmptyValue(t,true);if(o!==undefined){return o}switch(this.getPrimitiveType(e)){case"string":var a=this.getFormat().parse(t);if(isNaN(a)){throw new n(s())}return Math.fround(a);case"int":case"float":return Math.fround(t);default:throw new n("Don't know how to parse "+this.getName()+" from "+e)}};p.prototype._handleLocalizationChange=function(){this.oFormat=null};p.prototype.validateValue=function(t){if(t===null&&u(this)){return}if(typeof t==="number"){return}throw new r(s())};p.prototype.getName=function(){return"sap.ui.model.odata.type.Single"};return p});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Stream", ["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(e,t,a,o,n){"use strict";function i(t,a){var o;t.oConstraints=undefined;if(a){o=a.nullable;if(o===false){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true){e.warning("Illegal nullable: "+o,null,t.getName())}}}var r=n.extend("sap.ui.model.odata.type.Stream",{constructor:function(e,t){n.apply(this,arguments);if(e!==undefined&&e!==null){throw new Error("Unsupported arguments")}i(this,t)}});r.prototype.formatValue=function(e,a){switch(this.getPrimitiveType(a)){case"any":case"string":return e;default:throw new t("Don't know how to format "+this.getName()+" to "+a)}};r.prototype.getName=function(){return"sap.ui.model.odata.type.Stream"};r.prototype.parseValue=function(){throw new a("Type 'sap.ui.model.odata.type.Stream' does not support parsing")};r.prototype.validateValue=function(){throw new o("Type 'sap.ui.model.odata.type.Stream' does not support validating")};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/String", ["sap/base/Log","sap/ui/core/Lib","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/model/type/String"],function(e,t,i,n,s){"use strict";var r=/^\d+$/,a=/^0*(?=\d)/;function o(e,t){return t&&t.isDigitSequence&&e&&e.match(r)}function l(t,i){var n,s,r;t.oConstraints=undefined;if(i){s=i.maxLength;if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"&&!isNaN(s)&&s>0){t.oConstraints={maxLength:s}}else if(s!==undefined){e.warning("Illegal maxLength: "+i.maxLength,null,t.getName())}n=i.isDigitSequence;if(n===true||n==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true}else if(n!==undefined&&n!==false&&n!=="false"){e.warning("Illegal isDigitSequence: "+n,null,t.getName())}r=i.nullable;if(r===false||r==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false}else if(r!==undefined&&r!==true&&r!=="true"){e.warning("Illegal nullable: "+r,null,t.getName())}}}var u=n.extend("sap.ui.model.odata.type.String",{constructor:function(t,i){var s=t?t.parseKeepsEmptyString:undefined;n.apply(this,arguments);this.oFormatOptions=t;l(this,i);this._sParsedEmptyString=null;if(this.oConstraints&&this.oConstraints.nullable===false&&this.oConstraints.isDigitSequence){this._sParsedEmptyString="0"}else if(s!==undefined){if(s===true){this._sParsedEmptyString=""}else if(s!==false){e.warning("Illegal parseKeepsEmptyString: "+s,null,this.getName())}}}});u.prototype.formatValue=function(e,t){if(e===null&&this.getPrimitiveType(t)==="string"){return""}if(o(e,this.oConstraints)){e=e.replace(a,"");if(this.oConstraints.maxLength&&e==="0"&&this.getPrimitiveType(t)==="string"){return""}}return s.prototype.formatValue.call(this,e,t)};u.prototype.parseValue=function(e,t){var i;i=e===""?this._sParsedEmptyString:s.prototype.parseValue.apply(this,arguments);if(o(i,this.oConstraints)){i=i.replace(a,"");if(this.oConstraints.maxLength){i=i.padStart(this.oConstraints.maxLength,"0")}}return i};u.prototype.validateValue=function(e){var n=this.oConstraints||{},s=n.maxLength;if(e===null){if(n.nullable!==false){return}}else if(e===""&&this._sParsedEmptyString===""){return}else if(typeof e!=="string"){throw new i("Illegal "+this.getName()+" value: "+e)}else if(n.isDigitSequence){if(!e.match(r)){throw new i(t.getResourceBundleFor("sap.ui.core").getText("EnterDigitsOnly"))}if(s&&e.length>s){throw new i(t.getResourceBundleFor("sap.ui.core").getText("EnterMaximumOfDigits",[s]))}return}else if(!s||e.length<=s){return}throw new i(t.getResourceBundleFor("sap.ui.core").getText(s?"EnterTextMaxLength":"EnterText",[s]))};u.prototype.getName=function(){return"sap.ui.model.odata.type.String"};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Time", ["sap/base/Log","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,n,o,r,i,a,u,s){"use strict";var l={__edmType:"Edm.Time",ms:86398e3},p={format:d,parse:g};function m(t){return n.getResourceBundleFor("sap.ui.core").getText("EnterTime",[t.formatValue(l,"string")])}function f(t){return typeof t==="object"&&t.__edmType==="Edm.Time"&&typeof t.ms==="number"}function c(e,n){var o;e.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){e.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){t.warning("Illegal nullable: "+o,null,e.getName())}}}function g(t){if(!f(t)){throw new i("Illegal sap.ui.model.odata.type.Time value: "+h(t))}return new Date(t.ms)}function d(t){return{__edmType:"Edm.Time",ms:((t.getUTCHours()*60+t.getUTCMinutes())*60+t.getUTCSeconds())*1e3+t.getUTCMilliseconds()}}function h(t){try{return JSON.stringify(t)}catch(e){return String(t)}}var y=s.extend("sap.ui.model.odata.type.Time",{constructor:function(t,e){s.apply(this,arguments);c(this,e);this.oFormatOptions=t}});y.prototype.formatValue=function(t,e){if(t===undefined||t===null){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"string":return this.getFormat().format(g(t));default:throw new i("Don't know how to format "+this.getName()+" to "+e)}};y.prototype.getDateValue=function(t){var e;if(!t){return null}e=o.getInstance(t.ms);e.setFullYear(1970,0,1);e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return e};y.prototype.getFormat=function(){if(!this.oFormat){var t=e({strictParsing:true},this.oFormatOptions);t.UTC=true;this.oFormat=r.getTimeInstance(t)}return this.oFormat};y.prototype.getISOStringFromModelValue=function(t){if(!t){return null}return o.getInstance(t.ms).toISOString().slice(11,-1)};y.prototype.getModelFormat=function(){return p};y.prototype.getModelValue=function(t){var e;if(t===null){e=null}else{o.checkDate(t);e=o.getInstance(0);e.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());e=d(e)}this.validateValue(e);return e};y.prototype.getModelValueFromISOString=function(t){if(!t){return null}return d(o.getInstance("1970-01-01T"+t+"Z"))};y.prototype.getName=function(){return"sap.ui.model.odata.type.Time"};y.prototype.parseValue=function(t,e){var n;if(t===""||t===null){return null}if(this.getPrimitiveType(e)!=="string"){throw new a("Don't know how to parse "+this.getName()+" from "+e)}n=this.getFormat().parse(t);if(!n){throw new a(m(this))}return d(n)};y.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new u(m(this))}return}if(!f(t)){throw new u("Illegal "+this.getName()+" value: "+h(t))}};y.prototype._handleLocalizationChange=function(){this.oFormat=null};return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/TimeOfDay", ["sap/base/Log","sap/base/i18n/date/CalendarType","sap/base/util/extend","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,o,n,i,a,r,s,l,u){"use strict";function f(t){return n.getResourceBundleFor("sap.ui.core").getText("EnterTime",[t.formatValue("23:59:58","string")])}function p(e,o){var n,i;e.oConstraints=undefined;if(o){n=o.nullable;i=o.precision;if(n===false){e.oConstraints={nullable:false}}else if(n!==undefined&&n!==true){t.warning("Illegal nullable: "+n,null,e.getName())}if(i===Math.floor(i)&&i>0&&i<=12){e.oConstraints=e.oConstraints||{};e.oConstraints.precision=i}else if(i!==undefined&&i!==0){t.warning("Illegal precision: "+i,null,e.getName())}}}var d=u.extend("sap.ui.model.odata.type.TimeOfDay",{constructor:function(t,e){u.apply(this,arguments);this.oModelFormat=undefined;this.rTimeOfDay=undefined;this.oFormat=undefined;p(this,e);this.oFormatOptions=t}});d.prototype._handleLocalizationChange=function(){this.oFormat=null};d.prototype._resetModelFormatter=function(){this.oModelFormat=undefined};d.prototype.formatValue=function(t,e){var o,n,a;if(t===undefined||t===null){return null}a=this.getPrimitiveType(e);switch(a){case"any":return t;case"object":case"string":n=t.indexOf(".");if(n>=0){t=t.slice(0,n+4)}o=this.getModelFormat().parse(t);if(o){if(a==="object"){return i.getInstance(1970,0,1,o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}return this.getFormat().format(o)}throw new r("Illegal "+this.getName()+" value: "+t);default:throw new r("Don't know how to format "+this.getName()+" to "+e)}};d.prototype.getDateValue=function(t){return t?i.getInstance("1970-01-01T"+t):null};d.prototype.getFormat=function(){if(!this.oFormat){var t=o({strictParsing:true},this.oFormatOptions);t.UTC=true;this.oFormat=a.getTimeInstance(t)}return this.oFormat};d.prototype.getISOStringFromModelValue=function(t){return t?t:null};d.prototype.getModelFormat=function(){var t="HH:mm:ss",o;if(!this.oModelFormat){o=this.oConstraints&&this.oConstraints.precision;if(o){t+="."+"".padEnd(o,"S")}this.oModelFormat=a.getTimeInstance({calendarType:e.Gregorian,pattern:t,strictParsing:true,UTC:true})}return this.oModelFormat};d.prototype.getModelValue=function(t){var e;if(t===null){e=null}else{i.checkDate(t);e=i.getInstance(0);e.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());e=this.getModelFormat().format(e)}this.validateValue(e);return e};d.prototype.getModelValueFromISOString=function(t){return t?this.getModelFormat().format(i.getInstance("1970-01-01T"+t+"Z")):null};d.prototype.getName=function(){return"sap.ui.model.odata.type.TimeOfDay"};d.prototype.parseValue=function(t,e){var o;if(t===""||t===null){return null}switch(this.getPrimitiveType(e)){case"object":return this.getModelFormat().format(t,false);case"string":o=this.getFormat().parse(t);if(!o){throw new s(f(this))}return this.getModelFormat().format(o);default:throw new s("Don't know how to parse "+this.getName()+" from "+e)}};d.prototype.validateValue=function(t){var e;if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new l(f(this))}return}if(!this.rTimeOfDay){e=this.oConstraints&&this.oConstraints.precision;this.rTimeOfDay=new RegExp("^(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d"+(e?"(\\.\\d{1,"+e+"})?":"")+")?$")}if(!this.rTimeOfDay.test(t)){throw new l("Illegal sap.ui.model.odata.type.TimeOfDay value: "+t)}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Unit", ["./UnitMixin","sap/ui/core/format/NumberFormat","sap/ui/model/type/Unit"],function(t,e,i){"use strict";var n=i.extend("sap.ui.model.odata.type.Unit",{constructor:function(t,e,i){this._applyUnitMixin.apply(this,arguments)}});t(n.prototype,i,"customUnits","Unit");n.prototype.getCustomUnitForKey=function(t,i){return{decimals:t[i].UnitSpecificScale,displayName:t[i].Text,"unitPattern-count-other":e.getDefaultUnitPattern(i)}};n.prototype.getName=function(){return"sap.ui.model.odata.type.Unit"};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/UnitMixin", ["sap/ui/core/Lib","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,i,e){"use strict";var n=new Map,s=/\.(\d+)$/,o=/\.$/,r=/0+$/;function a(i,e){return t.getResourceBundleFor("sap.ui.core").getText(i,e)}return function(t,u,m,l){function c(t,i){var e,s=this;if(this.mCustomUnits===undefined&&t&&t[2]!==undefined){if(t[2]===null){this.mCustomUnits=null}else{this.mCustomUnits=n.get(t[2]);if(!this.mCustomUnits){this.mCustomUnits={};Object.keys(t[2]).forEach(function(i){s.mCustomUnits[i]=s.getCustomUnitForKey(t[2],i)});n.set(t[2],this.mCustomUnits)}e={};e[m]=this.mCustomUnits;u.prototype.setFormatOptions.call(this,Object.assign(e,this.oFormatOptions))}}if(!t||t[0]===undefined||t[1]===undefined||this.mCustomUnits===undefined&&t[2]===undefined){return null}return u.prototype.formatValue.call(this,t.slice(0,2),i)}function h(){var t=u.prototype.getFormatOptions.call(this);delete t[m];return t}function p(){if(!this.bShowMeasure){return[1,2]}else if(!this.bShowNumber){return[0,2]}return[2]}function f(t){var i;if(!this.bShowNumber){i=t?a(l+".WithDecimals",[t]):a(l+".WithoutDecimals")}else{i=t?a("EnterNumberFraction",[t]):a("EnterInt")}return new e(i)}function d(t,e){var n;if(this.mCustomUnits===undefined){throw new i("Cannot parse value without customizing")}n=u.prototype.parseValue.apply(this,arguments);if(n[0]&&typeof n[0]==="string"&&n[0].includes(".")){n[0]=n[0].replace(r,"").replace(o,"")}return n}function w(t){var i,n,o,a=t[0],u=t[1];if(this.mCustomUnits===undefined){throw new e("Cannot validate value without customizing")}if(!a||!u||!this.mCustomUnits||this.oConstraints.skipDecimalsValidation){return}o=s.exec(a);n=o?o[1].replace(r,"").length:0;i=this.mCustomUnits[u].decimals;if(n>i){throw this.getValidateException(i)}}function g(t,i){var e=i?Object.keys(i):[];function n(t){if(t!=="skipDecimalsValidation"){throw new Error("Only 'skipDecimalsValidation' constraint is supported")}}if(t&&t[m]){throw new Error("Format option "+m+" is not supported")}e.forEach(n);if(arguments.length>2){throw new Error("Only parameters oFormatOptions and oConstraints are supported")}const s=!t||!("showNumber"in t)||t["showNumber"];const o=!t||!("showMeasure"in t)||t["showMeasure"];t=Object.assign({emptyString:s?0:"",parseAsString:true,unitOptional:s&&o},t);i=Object.assign({},i);u.call(this,t,i);this.mCustomUnits=undefined;this.setConstraints=function(){throw new Error("Constraints are immutable")};this.setFormatOptions=function(){throw new Error("Format options are immutable")}}t._applyUnitMixin=g;t.formatValue=c;t.getFormatOptions=h;t.getPartsIgnoringMessages=p;t.getValidateException=f;t.parseValue=d;t.validateValue=w}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v2/BatchMode", function(){"use strict";var e={None:"None",Group:"Group"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/AnnotationHelper", ["./_AnnotationHelperExpression"],function(e){"use strict";var t=/[\\{}:]/,n=/\/\$count$/,r=/\$(?:(?:Annotation)|(?:(?:Navigation)?Property))?Path/,i=/^(.+?\/(\$(?:Annotation)?Path))(\/?)(.*)$/,a=/\$(?:(?:Any|Navigation)?Property|ModelElement)Path/,o={format:function(t,n){var r,o=n.context.getModel(),s=n.context.getPath();function l(r){if(s.endsWith("/")){s=s.slice(0,-1)}return e.getExpression({asExpression:false,complexBinding:true,formatOptions:n.arguments&&n.arguments[1],ignoreAsPrefix:n.overload&&n.overload.$IsBound&&!s.includes("/$Parameter/")?n.overload.$Parameter[0].$Name+"/":"",model:o,parameters:n.arguments&&n.arguments[0],path:s,prefix:r,value:t,$$valueAsPromise:true})}if(s.endsWith("/$Path")){s=s.slice(0,-6);t={$Path:t}}else if(s.endsWith("/$PropertyPath")){s=s.slice(0,-14);t={$PropertyPath:t}}r=a.exec(s);if(r){throw new Error("Unsupported path segment "+r[0]+" in "+s)}r=i.exec(s);if(r&&s.length>r[1].length){if(i.test(r[4])){throw new Error("Only one $Path or $AnnotationPath segment is supported: "+s)}return o.fetchObject(r[1]).then(function(e){var t=r[2]==="$AnnotationPath",n=t?e.split("@")[0]:e,i;if(!t&&r[3]){n+="/"}else if(!n.endsWith("/")){i=n.lastIndexOf("/");n=i<0?"":n.slice(0,i+1)}return l(n)})}return l("")},getNavigationBinding:function(e){e=o.getNavigationPath(e);if(t.test(e)){throw new Error("Invalid OData identifier: "+e)}return e?"{"+e+"}":e},getNavigationPath:function(e){var t;if(!e||e[0]==="@"){return""}if(n.test(e)){return e.slice(0,-7)}t=e.indexOf("@");if(t>-1){e=e.slice(0,t)}if(e[e.length-1]==="/"){e=e.slice(0,-1)}if(e.includes(".")){e=e.split("/").filter(function(e){return!e.includes(".")}).join("/")}return e},getValueListType:function(e,t){var n=typeof e==="string"?"/"+t.schemaChildName+"/"+e:t.context.getPath();return t.$$valueAsPromise?t.context.getModel().fetchValueListType(n).unwrap():t.context.getModel().getValueListType(n)},isMultiple:function(e,t){var r;function i(e){return e===true}if(!e||e[0]==="@"){return false}if(n.test(e)){return true}r=e.indexOf("@");if(r>-1){e=e.slice(0,r)}if(e[e.length-1]!=="/"){e+="/"}e="/"+t.schemaChildName+"/"+e+"$isCollection";return t.$$valueAsPromise?t.context.getModel().fetchObject(e).then(i).unwrap():t.context.getObject(e)===true},label:function(e,t){var n;if(e.Label){return o.value(e.Label,{context:t.context.getModel().createBindingContext("Label",t.context)})}if(e.Value&&e.Value.$Path){n=t.context.getModel().createBindingContext("Value/$Path@com.sap.vocabularies.Common.v1.Label",t.context);if(t.$$valueAsPromise){return n.getModel().fetchObject("",n).then(function(e){return o.value(e,{context:n})}).unwrap()}return o.value(n.getObject(""),{context:n})}},resolve$Path:function(e){var t,n,i,a,o,s=e.getPath(),l,u;for(;;){o=s.match(r);if(!o){return s}i=o.index;t=i+o[0].length;l=s.slice(0,t);u=e.getModel().getObject(l);if(typeof u!=="string"){throw new Error("Cannot resolve "+l+" due to unexpected value "+u)}l=s.slice(0,i);n=l.indexOf("@");a=l.lastIndexOf("/",n);if(a===0){l=l.slice(0,n);if(n>1&&u){l+="/"}}else{l=l.slice(0,a+1)}s=l+u+s.slice(t)}},value:function(t,n){var r=n.context.getPath();if(r.endsWith("/")){r=r.slice(0,-1)}else if(r.endsWith("/$Path")){r=r.slice(0,-6);t={$Path:t}}else if(r.endsWith("/$PropertyPath")){r=r.slice(0,-14);t={$PropertyPath:t}}return e.getExpression({asExpression:false,complexBinding:false,ignoreAsPrefix:n.overload&&n.overload.$IsBound&&!r.includes("/$Parameter/")?n.overload.$Parameter[0].$Name+"/":"",model:n.context.getModel(),parameters:n.arguments&&n.arguments[0],path:r,prefix:n.prefix??"",value:t,$$valueAsPromise:n.$$valueAsPromise})}};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/Context", ["./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/Context"],function(e,t,i,n){"use strict";var r="sap.ui.model.odata.v4.Context",o=0,s,h=Number.MIN_SAFE_INTEGER,a=n.extend("sap.ui.model.odata.v4.Context",{constructor:d});function d(e,t,i,r,o,s,h){if(i[0]!=="/"){throw new Error("Not an absolute path: "+i)}if(i.endsWith("/")){throw new Error("Unsupported trailing slash: "+i)}n.call(this,e,i);this.oBinding=t;this.setCreated(o);this.oDeletePromise=null;this.bFiringCreateActivate=false;this.iGeneration=s||0;this.bInactive=h||undefined;this.iIndex=r;this.bKeepAlive=false;this.bOutOfPlace=false;this.bSelected=false;this.fnOnBeforeDestroy=undefined}a.prototype.adjustPredicate=function(e,t,i){var n=this.sPath;this.sPath=n.replace(e,t);if(i){i(n,this.sPath)}this.oModel.getDependentBindings(this).forEach(function(i){i.adjustPredicate(e,t)})};a.prototype.checkUpdate=function(){if(this.oModel){this.oModel.getDependentBindings(this).forEach(function(e){e.checkUpdate()})}};a.prototype.checkUpdateInternal=function(){return i.all(this.oModel.getDependentBindings(this).map(function(e){return e.checkUpdateInternal()}))};a.prototype.collapse=function(e){switch(this.getProperty("@$ui5.node.level")===0?undefined:this.isExpanded()){case true:this.oBinding.collapse(this,e);break;case false:throw new Error("Already collapsed: "+this);default:throw new Error("Not expandable: "+this)}};a.prototype.created=function(){return this.oCreatedPromise};a.prototype.delete=function(t,n){var r,o=null,s=this;if(this.isDeleted()){throw new Error("Must not delete twice: "+this)}if(e.isDataAggregation(this.oBinding.mParameters)){throw new Error("Cannot delete "+this+" when using data aggregation")}this.oBinding.checkSuspended();if(this.isTransient()){if(!this.oBinding.getHeaderContext){throw new Error("Cannot delete "+this)}if(this.iIndex===undefined){return Promise.resolve()}t=null}else if(t===null){if(this.iIndex!==undefined||!this.isKeepAlive()){throw new Error("Cannot delete "+this)}}if(this.oBinding.mParameters.$$aggregation){if(this.iIndex===undefined){throw new Error("Unsupported kept-alive context: "+this)}if(t!==null){const e=t??this.oBinding.getUpdateGroupId();if(this.oModel.isApiGroup(e)){throw new Error("Unsupported group ID: "+e)}}}if(t===null){r=i.resolve();n=true}else{e.checkGroupId(t,false,true);r=this.fetchCanonicalPath().then(function(e){return e.slice(1)});o=this.oBinding.lockGroup(t,true,true)}return Promise.resolve(r.then(function(e){if(o&&s.oModel.getMetaModel().isAddressViaNavigationPath()){e=s.getPath().slice(1)}return s.oBinding.delete(o,e,s,null,n,function(){if(s.oDeletePromise){s.oDeletePromise=null;if(s.bSelected){s.oBinding.getHeaderContext().onSelectionChanged(s)}}})}).catch(function(e){if(o){o.unlock(true)}throw e}))};a.prototype.destroy=function(){var e=this.fnOnBeforeDestroy;if(e){this.fnOnBeforeDestroy=undefined;e()}this.oModel?.getDependentBindings(this).forEach(function(e){e.setContext(undefined)});this.oBinding=undefined;delete this.mChangeListeners;this.oCreatedPromise=undefined;this.oSyncCreatePromise=undefined;this.bInactive=undefined;this.bKeepAlive=undefined;this.bSelected=false;this.oModel=undefined;n.prototype.destroy.call(this)};a.prototype.doDelete=function(e,t,i,n,o,s){var h=this.oModel,a=this;this.oDeletePromise=o.deleteFromCache(e,t,i,n,s).then(function(){var e=a.sPath.slice(1);h.getAllBindings().forEach(function(t){t.removeCachesAndMessages(e,true)})}).catch(function(e){h.reportError("Failed to delete "+a.getPath(),r,e);a.checkUpdate();throw e});if(this.bSelected){this.oBinding.getHeaderContext().onSelectionChanged(this)}if(e&&h.isApiGroup(e.getGroupId())){h.getDependentBindings(this).forEach(function(e){e.setContext(undefined)})}return this.oDeletePromise};a.prototype.doSetProperty=function(t,n,o,s,h){var a=this.oModel,d=a.getMetaModel(),u,c,l=this;if(this.isDeleted()){if(o){o.unlock()}throw new Error("Must not modify a deleted entity: "+this)}if(t==="@$ui5.context.isSelected"){this.setSelected(n);if(o){o.unlock();o=null}if(this.oBinding.getHeaderContext?.()===this){return i.resolve()}}if(o&&this.isTransient()&&!this.isInactive()){c=this.getValue();u=c&&e.getPrivateAnnotation(c,"transient");if(u instanceof Promise){o.unlock();o=o.getUnlockedCopy();this.doSetProperty(t,n,null,true,true).catch(a.getReporter());return i.resolve(u).then(function(e){return e&&l.created()}).then(function(){return l.doSetProperty(t,n,o,s)})}}if(a.bAutoExpandSelect){t=d.getReducedPath(a.resolve(t,this),this.oBinding.getBaseForPathReduction())}return this.withCache(function(i,u,c){return c.doSetProperty(u,n,o)||d.fetchUpdateData(t,l,!o).then(function(u){var f=e.getRelativePath(u.entityPath,c.oReturnValueContext?c.oReturnValueContext.getPath():c.getResolvedPath()),p=false;function g(e){a.reportError("Failed to update path "+a.resolve(t,l),r,e);P(false)}function P(e){if(p){c.firePatchCompleted(e);p=false}}function v(){p=true;c.firePatchSent()}if(!o){return i.setProperty(u.propertyPath,n,f,h)}if(l.bInactive&&!l.bFiringCreateActivate){i.setProperty(u.propertyPath,n,f,h).catch(a.getReporter());l.bFiringCreateActivate=true;l.bInactive=c.fireCreateActivate(l)?false:1;l.bFiringCreateActivate=false;i.setInactive(f,l.bInactive)}const C=d.isAddressViaNavigationPath()?u.entityPath.slice(1):u.editUrl;const y=e.hasPathSuffix(l.sPath,f)?l.setCreated.bind(l):null;return i.update(o,u.propertyPath,n,s?undefined:g,C,f,d.getUnitOrCurrencyPath(l.oModel.resolve(t,l)),c.isPatchWithoutSideEffects(),v,l.isEffectivelyKeptAlive.bind(l),y).then(function(){P(true)},function(e){P(false);throw e})})},t,false,true)};a.prototype.doSetSelected=function(e,t){if(this.bSelected===e){return false}this.bSelected=e;if(!t){this.oBinding.onKeepAliveChanged(this)}const i=this.oBinding.getHeaderContext();if(i===this){if(!e){this.iSelectionCount=0}}else if(!this.isDeleted()){i.onSelectionChanged(this)}if(!t){this.withCache((t,i)=>{if(this.oBinding){t.setProperty("@$ui5.context.isSelected",e,i)}},"")}return true};a.prototype.expand=function(e){switch(this.isExpanded()){case true:if(!e){throw new Error("Already expanded: "+this)}this.oBinding.collapse(this,false,true);case false:{const t=e?Number.MAX_SAFE_INTEGER:1;return Promise.resolve(this.oBinding.expand(this,t)).then(()=>{})}default:throw new Error("Not expandable: "+this)}};a.prototype.fetchCanonicalPath=function(){return this.oModel.getMetaModel().fetchCanonicalPath(this)};a.prototype.fetchPrimitiveValue=function(e,t,n){var r,o=[this.fetchValue(e,null,n)],s=this.oModel.resolve(e,this);if(t){o.push(this.oModel.getMetaModel().fetchUI5Type(s))}return i.all(o).then(function(e){var i=e[1],n=e[0];if(n&&typeof n==="object"){r=new Error("Accessed value is not primitive: "+s);r.isNotPrimitive=true;throw r}return t?i.formatValue(n,"string"):n})};a.prototype.fetchValue=function(t,n,r){if(this.iIndex===h){return i.resolve()}if(this.oBinding.getHeaderContext?.()===this){const o=this.bSelected?undefined:this.iSelectionCount??0;if(t&&t.startsWith(this.sPath)){t=t.slice(this.sPath.length+1)}if(!t){if(n){throw new Error("Cannot register change listener for header context object")}return this.oBinding.fetchValue(this.sPath+"/$count",null,r).then(e=>({"@$ui5.context.isSelected":this.bSelected,$count:e,$selectionCount:o}))}else if(t==="@$ui5.context.isSelected"){this.mChangeListeners??={};e.registerChangeListener(this,t,n);return i.resolve(this.bSelected)}else if(t==="$selectionCount"){this.mChangeListeners??={};e.registerChangeListener(this,t,n);return i.resolve(o)}else if(t!=="$count"){throw new Error("Invalid header path: "+t)}}if(!t){t=this.sPath}else if(t[0]!=="/"){t=this.oModel.resolve(t,this);if(this.oModel.bAutoExpandSelect){t=this.oModel.getMetaModel().getReducedPath(t,this.oBinding.getBaseForPathReduction())}}return this.oBinding.fetchValue(t,n,r)};a.prototype.getAndRemoveCollection=function(e){return this.withCache(function(e,t){return e.getAndRemoveCollection(t)},e,true).unwrap()};a.prototype.getBinding=function(){return this.oBinding};a.prototype.getCanonicalPath=e.createGetMethod("fetchCanonicalPath",true);a.prototype.getFilter=function(){if(!this.oBinding.getHeaderContext||this.isTransient()){throw new Error("Not a list context path to an entity: "+this)}const t=e.getPredicateIndex(this.sPath);const i=this.sPath.slice(t).replace(/,?\$isTotal=true\)$/,")");if(i==="()"){return null}const n=this.oModel.getMetaModel();const r=e.getMetaPath(this.sPath);const o=n.getObject(r+"/");return e.getFilterForPredicate(i,o,n,r,true)};a.prototype.getGeneration=function(e){if(this.iGeneration||e){return this.iGeneration}return this.oBinding.getGeneration()};a.prototype.getGroupId=function(){return this.oBinding.getGroupId()};a.prototype.getIndex=function(){if(this.iIndex===undefined){return undefined}if(this.oBinding?.isFirstCreateAtEnd()){if(this.iIndex<0){return this.oBinding.bLengthFinal?this.oBinding.iMaxLength-this.iIndex-1:-this.iIndex-1}return this.iIndex}return this.getModelIndex()};a.prototype.getModelIndex=function(){if(this.iIndex!==undefined&&this.oBinding?.iCreatedContexts){return this.iIndex+this.oBinding.iCreatedContexts}return this.iIndex};a.prototype.getObject=function(t){return e.publicClone(this.getValue(t))};a.prototype.getParent=function(){if(!this.oBinding.fetchOrGetParent){throw new Error("Not a list binding's context: "+this)}return this.oBinding.fetchOrGetParent(this)};a.prototype.getProperty=function(e,i){var n,o;this.oBinding.checkSuspended();o=this.fetchPrimitiveValue(e,i,true);if(o.isRejected()){o.caught();n=o.getResult();if(n.isNotPrimitive){throw n}else if(!n.$cached){t.warning(n.message,e,r)}}return o.isFulfilled()?o.getResult():undefined};a.prototype.getQueryOptionsForPath=function(e){return this.oBinding.getQueryOptionsForPath(e)};a.prototype.getSibling=function(e){return this.oBinding.fetchOrGetSibling(this,e)};a.prototype.getUpdateGroupId=function(){return this.oBinding.getUpdateGroupId()};a.prototype.getValue=function(e){var t,i=this;this.oBinding.checkSuspended();t=this.fetchValue(e,null,true).catch(function(e){if(!e.$cached){i.oModel.reportError("Unexpected error",r,e)}});if(t.isFulfilled()){return t.getResult()}};a.prototype.hasPendingChanges=function(){var e=this;return this.isTransient()&&this.isInactive()!==true||this.oDeletePromise?.isPending()||this.oBinding.hasPendingChangesForPath(this.sPath)||this.oModel.getDependentBindings(this).some(function(t){return t.oCache?t._hasPendingChanges(false,e.sPath):t.hasPendingChangesInDependents(false,e.sPath)})||this.oModel.withUnresolvedBindings("hasPendingChangesInCaches",this.sPath.slice(1))};a.prototype.isAggregated=function(){this.oBinding.checkSuspended();const e=this.oBinding.mParameters.$$aggregation?.$leafLevelAggregated;if(e===undefined){return false}return e||this.oBinding.getHeaderContext()!==this&&this.isExpanded()!==undefined};a.prototype.isAncestorOf=function(e){if(!this.oBinding.isAncestorOf){throw new Error("Missing recursive hierarchy")}return this.oBinding.isAncestorOf(this,e)};a.prototype.isDeleted=function(){return!!this.oDeletePromise};a.prototype.isEffectivelyKeptAlive=function(){var e=this.oBinding.mParameters;return this.bKeepAlive&&!this.isDeleted()||!e.$$sharedRequest&&this.oBinding.getHeaderContext?.()&&this.oBinding.getHeaderContext().isSelected()!==this.isSelected()&&(e.$$ownRequest||!this.oBinding.isRelative())&&this.sPath.indexOf("(",this.sPath.lastIndexOf("/"))>0};a.prototype.isExpanded=function(){return this.getProperty("@$ui5.node.isExpanded")};a.prototype.isInactive=function(){return this.bInactive};a.prototype.isKeepAlive=function(){return this.bKeepAlive};a.prototype.isOutOfPlace=function(){return this.bOutOfPlace};a.prototype.isSelected=function(){return this.bSelected&&!this.oDeletePromise};a.prototype.isTransient=function(){return this.oSyncCreatePromise?.isPending()};a.prototype.move=function({copy:e,nextSibling:t,parent:i}={}){if(t===undefined&&i===undefined){return Promise.resolve()}if(this.iIndex===undefined||this.isDeleted()||this.isTransient()){throw new Error("Cannot move "+this)}if(i&&(i.iIndex===undefined||i.isDeleted()||i.isTransient())){throw new Error("Cannot move to "+i)}if(!e&&this.isAncestorOf(i)){throw new Error("Unsupported parent context: "+i)}return Promise.resolve(this.oBinding.move(this,i,t,e))};a.prototype.onSelectionChanged=function(t){this.iSelectionCount??=0;this.iSelectionCount+=t.isSelected()?+1:-1;if(this.iSelectionCount<0||t===this){throw new Error("Unexpected $selectionCount: "+this.iSelectionCount)}e.fireChange(this.mChangeListeners,"$selectionCount",this.iSelectionCount)};a.prototype.patch=function(e){return this.withCache(function(t,i){t.patch(i,e)},"")};a.prototype.refresh=function(e,t){this.requestRefresh.apply(this,arguments).catch(this.oModel.getReporter())};a.prototype.refreshDependentBindings=function(e,t,n,r){return i.all(this.oModel.getDependentBindings(this).map(function(i){return i.refreshInternal(e,t,n,r)}))};a.prototype.replaceWith=function(t){var i;this.oBinding.checkSuspended();if(this.isTransient()||this.isDeleted()){throw new Error("Cannot replace "+this)}if(t.oBinding!==this.oBinding||t.iIndex!==undefined||t.isDeleted()||!t.isKeepAlive()){throw new Error("Cannot replace with "+t)}i=t.getValue();this.oBinding.doReplaceWith(this,i,e.getPrivateAnnotation(i,"predicate"))};a.prototype.requestCanonicalPath=e.createRequestMethod("fetchCanonicalPath");a.prototype.requestObject=function(t){this.oBinding.checkSuspended();return Promise.resolve(this.fetchValue(t)).then(e.publicClone)};a.prototype.requestParent=function(){if(!this.oBinding.fetchOrGetParent){throw new Error("Not a list binding's context: "+this)}return Promise.resolve(this.oBinding.fetchOrGetParent(this,true))};a.prototype.requestProperty=function(e,i){var n=Array.isArray(e)?e:[e],o=this;this.oBinding.checkSuspended();return Promise.all(n.map(function(e){return o.oBinding.fetchIfChildCanUseCache(o,e,undefined,true).then(function(n){if(n){return o.fetchPrimitiveValue(n,i)}t.error("Not a valid property path: "+e,undefined,r)})})).then(function(t){return Array.isArray(e)?t:t[0]})};a.prototype.requestRefresh=function(t,i){var n;e.checkGroupId(t);if(this.oBinding.mParameters.$$aggregation){throw new Error("Cannot refresh "+this+" when using data aggregation")}this.oBinding.checkSuspended();if(this.hasPendingChanges()){throw new Error("Cannot refresh entity due to pending changes: "+this)}if(this.oBinding.refreshSingle){n=this.oBinding.refreshSingle(this,this.oBinding.lockGroup(t,true),i)}else{if(arguments.length>1){throw new Error("Unsupported parameter bAllowRemoval: "+i)}n=this.oBinding.refreshReturnValueContext(this,t)||this.oBinding.requestRefresh(t)}this.oModel.withUnresolvedBindings("removeCachesAndMessages",this.sPath.slice(1));return Promise.resolve(n).then(function(){})};a.prototype.requestSibling=function(e){return Promise.resolve(this.oBinding.fetchOrGetSibling(this,e,true))};a.prototype.requestSideEffects=function(t,n){var r,o=this.oModel.getMetaModel(),s=[],h=[],a,d,u=this;function c(e){if(!e){return false}if(e==="*"){return true}if(e.endsWith("/*")){e=e.slice(0,-2)}return!e.includes("*")}this.oBinding.checkSuspended();e.checkGroupId(n);if(this.isTransient()||this.isDeleted()){throw new Error("Unsupported context: "+this)}if(!t||!t.length){throw new Error("Missing edm:(Navigation)PropertyPath expressions")}if(!this.oBinding.isResolved()){throw new Error("Cannot request side effects of unresolved binding's context: "+this)}r=o.getObject("/$EntityContainer");if(!r){throw new Error("Missing metadata")}r="/"+r+"/";t.map(function(e){if(e&&typeof e==="object"){if(c(e.$PropertyPath)){return e.$PropertyPath}if(typeof e.$NavigationPropertyPath==="string"&&!e.$NavigationPropertyPath.includes("*")){return e.$NavigationPropertyPath}}else if(typeof e==="string"&&(!e||c(e))){return e}throw new Error("Not an edm:(Navigation)PropertyPath expression: "+JSON.stringify(e))}).forEach(function(e){if(e[0]==="/"){if(!e.startsWith(r)){throw new Error("Path must start with '"+r+"': "+e)}h.push(e.slice(r.length-1))}else{s.push(e)}});a=this.oBinding.getRootBinding();d=a.getResolvedPath();s=s.reduce(function(t,i){return t.concat(o.getAllPathReductions(e.buildPath(u.getPath(),i),d))},[]);s=e.filterPaths(h,s);n??=this.getUpdateGroupId();return Promise.resolve(i.resolve(this.oModel.isAutoGroup(n)&&this.oModel.oRequestor.waitForRunningChangeRequests(n).then(function(){u.oModel.oRequestor.relocateAll("$parked."+n,n)})).then(function(){return i.all([u.oModel.requestSideEffects(n,h),u.requestSideEffectsInternal(s,n)])})).then(function(){})};a.prototype.requestSideEffectsInternal=function(t,n){var r=this,o,s=r,h,a=[],d,u=[],c,l=[];if(!t.length){return undefined}for(;;){o=s.oBinding;c=o.getPath();d=o.getContext();if(o.oCache?.hasChangeListeners()||!h&&o.oCache!==null){h=s}if(h&&c){break}if(!o.getBoundContext){throw new Error("Not a context binding: "+o)}s=d}o=h.oBinding;t.forEach(function(t){var i=e.getRelativePath(t,h.getPath());if(i===undefined){u.push(t)}else{a.push(i)}});if(u.length){l.push(o.getContext().requestSideEffectsInternal(u,n))}if(a.length&&o.oCache!==undefined){l.push(o.requestSideEffects(n,a,h))}return i.all(l)};a.prototype.resetChanges=function(){var e=this.oDeletePromise?[this.oDeletePromise.catch(function(){})]:[],t=this;if(this.iIndex===h||this.oBinding.getHeaderContext&&!this.bInactive&&this.isTransient()||this.oBinding.getHeaderContext?.()===this||this.oBinding.oOperation&&this.oBinding.getParameterContext()===this){throw new Error("Cannot reset: "+this)}this.oBinding.checkSuspended();this.oBinding.resetChangesForPath(this.sPath,e);if(this.bInactive===1){this.bInactive=true}this.oModel.getDependentBindings(this).forEach(function(i){if(i.oCache){e.push(i._resetChanges(t.sPath))}else{i.resetChangesInDependents(e,t.sPath);i.resetInvalidDataState()}});return Promise.all(e).then(function(){})};a.prototype.resetKeepAlive=function(){this.bKeepAlive=false;this.doSetSelected(false,true)};a.prototype.setCreated=function(e){if(e&&this.oCreatedPromise){throw new Error("Already 'created'")}this.oCreatedPromise=e&&Promise.resolve(e).then(function(){});this.oSyncCreatePromise=e};a.prototype.setInactive=function(){if(!this.bInactive){throw new Error("Not inactive: "+this.bInactive)}this.bInactive=true};a.prototype.setKeepAlive=function(t,i,n){var r=this;if(this.isTransient()||t&&this.isDeleted()){throw new Error("Unsupported context: "+this)}e.getPredicateIndex(this.sPath);this.oBinding.checkKeepAlive(this,t);if(t&&n){if(!this.oModel.bAutoExpandSelect){throw new Error("Missing parameter autoExpandSelect at model")}this.bKeepAlive=t;this.oModel.getMetaModel().fetchObject(e.getMetaPath(this.sPath)+"/@com.sap.vocabularies.Common.v1.Messages/$Path").then(function(e){if(!e){throw new Error("Missing @com.sap.vocabularies.Common.v1.Messages")}return r.oBinding.fetchIfChildCanUseCache(r,e,undefined,true)}).then(function(e){return r.fetchValue(e)}).catch(this.oModel.getReporter())}this.bKeepAlive=t;this.fnOnBeforeDestroy=t?i:undefined;this.oBinding.onKeepAliveChanged(this)};a.prototype.setNewGeneration=function(){o+=1;this.iGeneration=o};a.prototype.setOutOfPlace=function(e){if(!e){this.setPersisted()}else if(!this.created()){throw new Error("Not 'created persisted'")}this.bOutOfPlace=e};a.prototype.setPersisted=function(e){if(!e&&this.isTransient()!==false){throw new Error("Not 'created persisted'")}this.bInactive=undefined;this.oCreatedPromise=undefined;this.oSyncCreatePromise=undefined};a.prototype.setProperty=function(t,i,n,o){var s=null,h=this.oModel,a=this;this.oBinding.checkSuspended();if(typeof i==="function"||i&&typeof i==="object"){throw new Error("Not a primitive value")}if(n!==null){e.checkGroupId(n);s=this.oBinding.lockGroup(n,true,true)}return Promise.resolve(this.doSetProperty(t,i,s,!o)).catch(function(e){if(s){s.unlock(true)}h.reportError("Failed to update path "+h.resolve(t,a),r,e);throw e})};a.prototype.setSelected=function(t){if(!this.oBinding?.getHeaderContext){throw new Error("Unsupported context: "+this)}if(t&&this.isDeleted()){throw new Error("Must not select a deleted entity: "+this)}const i=this.oBinding.getHeaderContext()===this&&this.oBinding._getAllExistingContexts().reduce((e,i)=>i.doSetSelected(t)||e,false);const n=this.doSetSelected(t);if(n&&this.mChangeListeners){e.fireChange(this.mChangeListeners,"@$ui5.context.isSelected",t)}if(n||i){this.oBinding.fireSelectionChanged(this)}};a.prototype.toString=function(){var e="";if(!this.oModel){e=";destroyed"}else if(this.isDeleted()){e=";deleted"}if(this.iIndex!==undefined){if(!e){switch(this.isTransient()){case false:e=";createdPersisted";break;case true:e=this.isInactive()?";inactive":";transient";break}if(this.isSelected()){e+=";selected"}}e="["+this.iIndex+e+"]"}else if(this.isSelected()){e+=";selected"}return this.sPath+e};a.prototype.updateAfterCreate=function(e,t){i.all(this.oModel.getDependentBindings(this).map(function(i){return i.updateAfterCreate(e,t)})).catch(this.oModel.getReporter())};a.prototype.withCache=function(e,t,n,r){if(this.iIndex===h){return i.resolve()}return this.oBinding.withCache(e,this.oModel.resolve(t,this),n,r)};s={create:function(e,t,i,n,r,o){return new a(e,t,i,n,r,0,o)},createNewContext:function(e,t,i){o+=1;return new a(e,t,i,undefined,undefined,o)}};Object.defineProperty(s,"VIRTUAL",{value:h});return s},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataBinding", ["./lib/_Helper","sap/ui/base/SyncPromise","sap/ui/model/ChangeReason","sap/ui/model/odata/OperationMode","sap/ui/model/odata/v4/Context"],function(e,t,n,i,r){"use strict";var o=[n.Context,n.Change,n.Refresh,n.Sort,n.Filter],s=/\/\d|\(\$uid=/;function a(e,t){return o.indexOf(e)>o.indexOf(t)}function h(){this.mCacheByResourcePath=undefined;this.oCache=null;this.oCachePromise=t.resolve(null);this.mCacheQueryOptions=undefined;this.fnDeregisterChangeListener=undefined;this.oFetchCacheCallToken=undefined;this.mLateQueryOptions=undefined;this.sReducedPath=undefined;this.sResumeChangeReason=undefined}h.prototype._hasPendingChanges=function(e,t){return this.isResolved()&&(this.hasPendingChangesForPath("",e)||this.hasPendingChangesInDependents(e,t))};h.prototype._resetChanges=function(e){var t=[];this.checkSuspended();this.resetChangesForPath("",t);this.resetChangesInDependents(t,e);this.resetInvalidDataState();return Promise.all(t).then(function(){})};h.prototype.adjustPredicate=function(e,t){this.sReducedPath=this.sReducedPath.replace(e,t)};h.prototype.checkBindingParameters=function(t,n){var r=this;Object.keys(t).forEach(function(o){var s=t[o];if(!o.startsWith("$$")){return}if(!n.includes(o)){throw new Error("Unsupported binding parameter: "+o)}switch(o){case"$$aggregation":break;case"$$groupId":case"$$updateGroupId":e.checkGroupId(s,false,"Unsupported value for binding parameter '"+o+"': ");break;case"$$ignoreMessages":case"$$sharedRequest":if(s!==true&&s!==false){throw new Error("Unsupported value for binding parameter '"+o+"': "+s)}break;case"$$inheritExpandSelect":if(s!==true&&s!==false){throw new Error("Unsupported value for binding parameter "+"'$$inheritExpandSelect': "+s)}if(!r.oOperation){throw new Error("Unsupported binding parameter $$inheritExpandSelect: "+"binding is not an operation binding")}if(t.$expand){throw new Error("Must not set parameter $$inheritExpandSelect on a binding "+"which has a $expand binding parameter")}break;case"$$operationMode":if(s!==i.Server){throw new Error("Unsupported operation mode: "+s)}break;case"$$getKeepAliveContext":if(r.isRelative()&&!t.$$ownRequest){throw new Error("$$getKeepAliveContext requires $$ownRequest in a relative binding")}["$$aggregation","$$canonicalPath","$$sharedRequest"].forEach(function(n,i){if(n in t&&(i>0||e.isDataAggregation(t))){throw new Error("Cannot combine $$getKeepAliveContext and "+n)}});case"$$canonicalPath":case"$$clearSelectionOnFilter":case"$$noPatch":case"$$ownRequest":case"$$patchWithoutSideEffects":if(s!==true){throw new Error("Unsupported value for binding parameter '"+o+"': "+s)}break;case"$$separate":if(t.$$aggregation){throw new Error("Cannot combine $$aggregation and $$separate")}break;default:throw new Error("Unknown binding-specific parameter: "+o)}})};h.prototype.checkSameCache=function(e,t){var n;if(this.oCache!==e||t!==undefined&&this.oCache.iResetCount!==t){n=new Error(this+" is ignoring response from inactive cache: "+e);n.canceled=true;throw n}};h.prototype.checkSuspended=function(e){if(this.isRootBindingSuspended()&&(!e||this.isRoot()||this.getResumeChangeReason())){throw new Error("Must not call method when the binding's root binding is suspended: "+this)}};h.prototype.checkTransient=function(){if(this.isTransient()){throw new Error("Must not call method when the binding is part of a deep create: "+this)}};h.prototype.checkUpdate=function(e){if(arguments.length>1){throw new Error("Only the parameter bForceUpdate is supported")}this.checkUpdateInternal(e).catch(this.oModel.getReporter())};h.prototype.createAndSetCache=function(e,t,n,i,r,o){var s,a,h;this.mCacheQueryOptions=Object.assign({},this.oModel.mUriParameters,e);if(this.bRelative){s=this.mCacheByResourcePath&&this.mCacheByResourcePath[t];h=n.getGeneration?.()??0;if(s&&s.$generation>=h){s.setActive(true)}else{a=this.oModel.resolve(this.sPath,n).slice(1);s=this.doCreateCache(t,this.mCacheQueryOptions,n,a,i,r,o);if(!(this.mParameters&&this.mParameters.$$sharedRequest)){this.mCacheByResourcePath??={};this.mCacheByResourcePath[t]=s}s.$deepResourcePath=a;s.$generation=h}}else{s=this.doCreateCache(t,this.mCacheQueryOptions,undefined,undefined,i,r,o)}if(o&&o!==s){this.deregisterChangeListener();o.setActive(false)}if(this.mLateQueryOptions){s.setLateQueryOptions(this.mLateQueryOptions)}this.oCache=s;return s};h.prototype.deregisterChangeListener=function(){this.fnDeregisterChangeListener?.();this.fnDeregisterChangeListener=undefined};h.prototype.destroy=function(){this.mCacheByResourcePath=undefined;this.deregisterChangeListener();this.oCachePromise.then(function(e){e?.setActive(false)},function(){});this.oCache=null;this.oCachePromise=t.resolve(null);this.mCacheQueryOptions=undefined;this.mLateQueryOptions=undefined;this.oContext=undefined;this.oFetchCacheCallToken=undefined};h.prototype.getEventingParent=function(){return this.oModel};h.prototype.fetchCache=function(e,n,i,r,o,s){var a=this.oCache,h={oOldCache:a===undefined?this.oFetchCacheCallToken.oOldCache:a},u,c=this;if(!this.bRelative){e=undefined}if(!a&&i){if(a===undefined){throw new Error("Unsupported bKeepQueryOptions while oCachePromise is pending")}return}if(s&&!i){throw new Error("Unsupported bSync w/o bKeepQueryOptions")}this.oCache=undefined;this.oFetchCacheCallToken=h;if(i){this.oCachePromise=t.resolve(s||Promise.resolve()).then(function(){return c.createAndSetCache(c.mCacheQueryOptions,a.getResourcePath(),e,r,o,a)});return}u=[this.fetchOrGetQueryOptionsForOwnCache(e,n),this.oModel.oRequestor.ready()];this.mCacheQueryOptions=undefined;this.oCachePromise=t.all(u).then(function(t){var n=t[0].mQueryOptions;if(t[0].sReducedPath){c.sReducedPath=t[0].sReducedPath}if(!c.prepareDeepCreate(e,n)){return c.fetchResourcePath(e).then(function(t){if(c.oFetchCacheCallToken!==h){return c.oCachePromise.then(function(e){if(e===h.oOldCache){return e}const t=new Error("Cache discarded as a new cache has been created");t.canceled=true;throw t})}return c.oModel.waitForKeepAliveBinding(c).then(function(){c.oFetchCacheCallToken=undefined;return c.createAndSetCache(n,t,e,r,o,h.oOldCache)})})}h.oOldCache=undefined;if(a){a.setActive(false)}c.oCache=null;return null});this.oCachePromise.catch(this.oModel.getReporter())};h.prototype.fetchOrGetQueryOptionsForOwnCache=function(n,i){var r,o,s=this.oModel.resolve(this.sPath,n),a=this;function h(t,n,i){if(n&&t&&e.isEmptyObject(t)){t=undefined}return{mQueryOptions:t,sReducedPath:i||s}}function u(e,n){if(o instanceof t){if(!o.isFulfilled()){return o.then(function(t){return h(t,e,n)})}o=o.getResult()}return h(o,e,n)}if(this.oOperation||!s||this.isMeta()){return h()}o=this.doFetchOrGetQueryOptions(n);if(this.oModel.bAutoExpandSelect&&this.aChildCanUseCachePromises&&!e.isDataAggregation(this.mParameters)){o=t.all([o,Promise.resolve().then(function(){return t.all(a.aChildCanUseCachePromises)})]).then(function(e){a.aChildCanUseCachePromises=[];a.updateAggregatedQueryOptions(e[0]);return a.mAggregatedQueryOptions})}if(i||!this.bRelative||!n.fetchValue){return u()}if(this.oModel.bAutoExpandSelect){r=this.mParameters&&Object.keys(a.mParameters).some(function(e){return e[0]!=="$"||e[1]==="$"});if(r){return u()}return n.getBinding().fetchIfChildCanUseCache(n,a.sPath,o,!this.mParameters).then(function(e){if(e){o=undefined}else{o??={}}return u(false,e)})}if(this.mParameters&&!e.isEmptyObject(this.mParameters)){return u()}return u(true)};h.prototype.fetchResourcePath=function(n){var i,r,o,a=this;if(!this.bRelative){return t.resolve(this.sPath.slice(1))}n??=this.oContext;if(!n){return t.resolve()}r=n.getPath();i=n.fetchCanonicalPath&&(this.mParameters&&this.mParameters.$$canonicalPath||!this.isTransient()&&s.test(r));o=i?n.fetchCanonicalPath():t.resolve(r);return o.then(function(t){return e.buildPath(t,a.sPath).slice(1)})};h.prototype.fireDataReceived=function(e,t){this.fireEvent("dataReceived",e,false,!t)};h.prototype.fireDataRequested=function(e){this.fireEvent("dataRequested",undefined,false,!e)};h.prototype.getGroupId=function(){return this.sGroupId||this.bRelative&&this.oContext&&this.oContext.getGroupId&&this.oContext.getGroupId()||this.oModel.getGroupId()};h.prototype.getRelativePath=function(t){var n;if(t[0]==="/"){n=e.getRelativePath(t,this.getResolvedPath());if(n===undefined&&this.oReturnValueContext){n=e.getRelativePath(t,this.oReturnValueContext.getPath())}return n}return t};h.prototype.getResumeChangeReason=function(){var e=this.sResumeChangeReason;this.getDependentBindings().forEach(function(t){var n=t.getResumeChangeReason();if(n&&a(n,e)){e=n}});return e};h.prototype.getRootBinding=function(){if(this.bRelative){if(!this.oContext){return undefined}if(this.oContext.getBinding){return this.oContext.getBinding().getRootBinding()}}return this};h.prototype.getRootBindingResumePromise=function(){var e=this.getRootBinding();return e&&e.getResumePromise()||t.resolve()};h.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId||this.bRelative&&this.oContext&&this.oContext.getUpdateGroupId&&this.oContext.getUpdateGroupId()||this.oModel.getUpdateGroupId()};h.prototype.hasPendingChanges=function(e){return this._hasPendingChanges(e)};h.prototype.hasPendingChangesForPath=function(e,t){return this.withCache(function(e,n,i){return e.hasPendingChangesForPath(n,t,t&&(i.isRoot()||i.mParameters.$$ownRequest))},e,true).unwrap()};h.prototype.hasPendingChangesInCaches=function(e){var t=this;if(!this.mCacheByResourcePath){return false}return Object.keys(this.mCacheByResourcePath).some(function(n){var i=t.mCacheByResourcePath[n];return i.$deepResourcePath.startsWith(e)&&i.hasPendingChangesForPath("")})};h.prototype.isInitial=function(){throw new Error("Unsupported operation: isInitial")};h.prototype.isRoot=function(){return!this.bRelative||this.oContext&&!this.oContext.getBinding};h.prototype.isRootBindingSuspended=function(){var e=this.getRootBinding();return e&&e.isSuspended()};h.prototype.isTransient=function(){return this.bRelative&&this.oContext?.getPath().includes("($uid=")};h.prototype.lockGroup=function(e,t,n,i){e??=n?this.getUpdateGroupId():this.getGroupId();return this.oModel.lockGroup(e,this,t,n,i)};h.prototype.prepareDeepCreate=function(e,t){if(e){if(e.iIndex===r.VIRTUAL){return true}if(e.getPath().includes("($uid=")){this.mCacheQueryOptions=t;return true}}return!t};h.prototype.ready=function(){return this.oCachePromise};h.prototype.refresh=function(e){if(typeof e==="boolean"){throw new Error("Unsupported parameter bForceUpdate")}this.requestRefresh(e).catch(this.oModel.getReporter())};h.prototype.refreshSuspended=function(e){if(e&&e!==this.getGroupId()){throw new Error(this+": Cannot refresh a suspended binding with group ID '"+e+"' (own group ID is '"+this.getGroupId()+"')")}this.setResumeChangeReason(n.Refresh)};h.prototype.removeCachesAndMessages=function(t,n){var i=this;if(!n&&this.oCache){this.oCache.removeMessages()}if(this.mCacheByResourcePath){Object.keys(this.mCacheByResourcePath).forEach(function(r){var o=i.mCacheByResourcePath[r],s=o.$deepResourcePath;if(e.hasPathPrefix(s,t)){if(!n){o.removeMessages()}delete i.mCacheByResourcePath[r]}})}};h.prototype.requestAbsoluteSideEffects=function(t,n){var i=[],r=e.getMetaPath(this.getResolvedPath());if(this.oCache===undefined){return undefined}n.some(function(t){var n=e.getRelativePath(t,r);if(n!==undefined){i.push(n)}else if(e.hasPathPrefix(r,t)){i=[""];return true}});if(i.length){if(this.requestSideEffects){return this.requestSideEffects(t,i)}return this.refreshInternal("",t,true,true)}};h.prototype.requestRefresh=function(t){if(!this.mParameters?.$$ownRequest&&!this.isRoot()){throw new Error("Refresh on this binding is not supported")}if(this.hasPendingChanges(true)){throw new Error("Cannot refresh due to pending changes")}e.checkGroupId(t);return Promise.resolve(this.refreshInternal("",t,true)).then(function(){})};h.prototype.resetChanges=function(){this.checkTransient();return this._resetChanges()};h.prototype.resetChangesForPath=function(e,t){t.push(this.withCache(function(e,t){e.resetChangesForPath(t)},e).unwrap())};h.prototype.resetInvalidDataState=function(){};h.prototype.setDeregisterChangeListener=function(e){this.fnDeregisterChangeListener=e};h.prototype.setResumeChangeReason=function(e){if(a(e,this.sResumeChangeReason)){this.sResumeChangeReason=e}};h.prototype.toString=function(){return this.getMetadata().getName()+": "+(this.bRelative?this.oContext+"|":"")+this.sPath};h.prototype.withCache=function(n,i="",r=false,o=false){var s=r?t.resolve(this.oCache):this.oCachePromise,a,h=this;return s.then(function(t){if(t){a=h.getRelativePath(i);if(a!==undefined){return n(t,a,h)}}else if(t===undefined){return undefined}else if(h.oOperation){return o?n(null,h.getRelativePath(i),h):undefined}if(h.bRelative&&h.oContext&&h.oContext.withCache){return h.oContext.withCache(n,i[0]==="/"?i:e.buildPath(h.sPath,i),r,o)}return undefined})};function u(e){if(this){h.apply(this,arguments)}else{Object.assign(e,h.prototype)}}["adjustPredicate","destroy","hasPendingChangesForPath"].forEach(function(e){u.prototype[e]=h.prototype[e]});return u},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataContextBinding", ["./Context","./ODataParentBinding","./lib/_Cache","./lib/_GroupLock","./lib/_Helper","sap/ui/base/SyncPromise","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/ContextBinding"],function(e,t,n,i,o,r,a,s,h){"use strict";var u="sap.ui.model.odata.v4.ODataContextBinding",d={AggregatedDataStateChange:true,change:true,dataReceived:true,dataRequested:true,DataStateChange:true,patchCompleted:true,patchSent:true},l=h.extend("sap.ui.model.odata.v4.ODataContextBinding",{constructor:c});function c(n,i,r,a){var s=i.indexOf("(...)"),u=this;h.call(this,n,i);t.call(this);if(i.endsWith("/")){throw new Error("Invalid path: "+i)}this.bHasFetchedExpandSelectProperties=false;this.oOperation=undefined;this.oParameterContext=null;this.oReturnValueContext=null;if(s>=0){if(s!==this.sPath.length-5){throw new Error("The path must not continue after a deferred operation: "+this.sPath)}this.oOperation={bAction:undefined,bAdditionalQueryOptionsForRVC:undefined,mChangeListeners:{},mParameters:{},mRefreshParameters:{}};if(!this.bRelative){this.oParameterContext=e.create(this.oModel,this,this.sPath+"/$Parameter")}}a=o.clone(a)||{};this.checkBindingParameters(a,["$$canonicalPath","$$groupId","$$inheritExpandSelect","$$ownRequest","$$patchWithoutSideEffects","$$updateGroupId"]);this.sGroupId=a.$$groupId;this.bInheritExpandSelect=a.$$inheritExpandSelect;this.sUpdateGroupId=a.$$updateGroupId;this.applyParameters(a);this.oElementContext=this.bRelative?null:e.createNewContext(this.oModel,this,i);if(!this.oOperation&&(!this.bRelative||r&&!r.fetchValue)){this.createReadGroupLock(this.getGroupId(),true)}this.setContext(r);n.bindingCreated(this);Promise.resolve().then(function(){u.bInitial=false})}t(l.prototype);l.prototype._invoke=function(e,t,n,i,a){var h=this.oModel.getMetaModel(),d,l,c=this.getResolvedPathWithReplacedTransientPredicates(),p=o.getMetaPath(c),f=this;function g(){f._fireChange({reason:s.Change});return f.refreshDependentBindings("",e.getGroupId(),true)}l=r.all([h.fetchObject(p+"/@$ui5.overload"),this.ready2Inherit()]).then(function([o]){var r,s,u;if(!o){d=h.getObject(p);if(!d||d.$kind!=="NavigationProperty"||!a){throw new Error("Unknown operation: "+c)}}else if(o.length!==1){throw new Error("Expected a single overload, but found "+o.length+" for "+c)}else{d=o[0]}if(f.bRelative&&f.oContext.getBinding){s=f.sPath.lastIndexOf("/");u=s>=0?f.sPath.slice(0,s):"";r=f.oContext.getValue.bind(f.oContext,u)}return f.createCacheAndRequest(e,c,d,t,r,n,i)}).then(function(e){return g().then(function(){return f.handleOperationResult(d,e,a)})},function(e){o.adjustTargetsInError(e,d,f.oParameterContext.getPath(),f.bRelative?f.oContext.getPath():undefined);return g().then(function(){throw e})}).catch(function(t){e.unlock(true);f.oModel.reportError("Failed to invoke "+c,u,t);throw t});return Promise.resolve(l)};l.prototype.addQueryOptionsForReturnValueContext=function(e,t){const n=o.getMetaPath(this.getResolvedPath()).split("/");if(!this.isReturnValueLikeBindingParameter(e)||!this.hasReturnValueContext()||n.length!==4){this.oOperation.bAdditionalQueryOptionsForRVC=false;return t}const i=this.oModel.getMetaModel();const r=i.getObject("/"+n[1]+"/$NavigationPropertyBinding/"+n[2]);const a=i.getObject("/"+n[1]+"/"+n[2]+"/$Partner");let s;if(r&&a){s={$expand:{}};s.$expand[a]={};o.selectKeyProperties(s.$expand[a],i.getObject("/"+r+"/"+a+"/"));if(t.$select){o.selectKeyProperties(s,i.getObject("/"+r+"/"))}t=o.clone(t);o.aggregateExpandSelect(t,s)}this.oOperation.bAdditionalQueryOptionsForRVC=!!s;return t};l.prototype.adjustPredicate=function(e,n){t.prototype.adjustPredicate.apply(this,arguments);if(this.mCacheQueryOptions){this.fetchCache(this.oContext,true)}if(this.oElementContext){this.oElementContext.adjustPredicate(e,n)}};l.prototype.applyParameters=function(e,t){this.mQueryOptions=this.oModel.buildQueryOptions(e,true);this.mParameters=e;if(this.isRootBindingSuspended()){if(!this.oOperation){this.sResumeChangeReason=s.Change}}else if(!this.oOperation){this.fetchCache(this.oContext);if(t){this.refreshInternal("",undefined,true).catch(this.oModel.getReporter())}}else if(this.oOperation.bAction===false){this.invoke().catch(this.oModel.getReporter())}};l.prototype.attachEvent=function(e,t,n,i){if(!(e in d)){throw new Error("Unsupported event '"+e+"': v4.ODataContextBinding#attachEvent")}return h.prototype.attachEvent.apply(this,arguments)};l.prototype.checkKeepAlive=function(){throw new Error("Unsupported "+this)};l.prototype.computeOperationQueryOptions=function(){return Object.assign({},this.oModel.mUriParameters,this.getQueryOptionsFromParameters())};l.prototype.createCacheAndRequest=function(e,t,i,a,s,h,u){var d=i.$kind==="Action",l,c=s,p=this.oModel,f=o.getMetaPath(t),g=t.slice(1),C=p.oRequestor,m=this;function x(e){if(m.isReturnValueLikeBindingParameter(i)){const t=m.getReturnValueContextPath(e);if(t){return t}if(m.oOperation.bAdditionalQueryOptionsForRVC===false&&o.getPrivateAnnotation(c,"predicate")===o.getPrivateAnnotation(e,"predicate")){return g.slice(0,g.lastIndexOf("/"))}}return g}function P(e){var t;o.adjustTargetsInError(e,i,m.oParameterContext.getPath(),m.bRelative?m.oContext.getPath():undefined);e.error.$ignoreTopLevel=true;t=u(o.extractMessages(e).map(function(e){return p.createUI5Message(e)}));if(!(t instanceof Promise)){throw new Error("Not a promise: "+t)}return t}if(u&&i.$kind!=="Action"){throw new Error("Not an action: "+t)}if(!d&&i.$kind!=="Function"&&i.$kind!=="NavigationProperty"){throw new Error("Not an operation: "+t)}if(d&&s){c=s()}if(h&&!(d&&i.$IsBound&&c!==null)){throw new Error("Not a bound action: "+t)}if(this.bInheritExpandSelect&&!this.isReturnValueLikeBindingParameter(i)){throw new Error("Must not set parameter $$inheritExpandSelect on this binding")}if(i.$kind!=="NavigationProperty"){f+="/@$ui5.overload/0/$ReturnType";if(i.$ReturnType&&!i.$ReturnType.$Type.startsWith("Edm.")){f+="/$Type"}}else if(!o.isEmptyObject(a)){throw new Error("Unsupported parameters for navigation property")}if(m.oReturnValueContext){m.oReturnValueContext.destroy();m.oReturnValueContext=null}this.oOperation.bAction=d;this.oOperation.mRefreshParameters=a;a=Object.assign({},a);this.mCacheQueryOptions=this.addQueryOptionsForReturnValueContext(i,this.computeOperationQueryOptions());t=C.getPathAndAddQueryOptions(t,i,a,this.mCacheQueryOptions,c);l=n.createSingle(C,t,this.mCacheQueryOptions,p.bAutoExpandSelect,p.bSharedRequests,undefined,d,f);this.oCache=l;this.oCachePromise=r.resolve(l);return d?l.post(e,a,c,h,u&&P,x):l.fetchValue(e,"",undefined,undefined,false,x)};l.prototype.delete=function(e,t,n,i,o,r){var a=this._findEmptyPathParentContext(this.oElementContext),h=a.getBinding(),u=h.getContext(),d=h.oReturnValueContext,l=this;function c(){r();a.oDeletePromise=null}if(!h.invoke){n.oDeletePromise=h.delete(e,t,a,n.getValue(),o,c);return n.oDeletePromise}h.oElementContext=null;if(d){h.oReturnValueContext=null}this._fireChange({reason:s.Remove});n.oDeletePromise=a.doDelete(e,t,"",null,this,function(e,t){if(t>0){c()}}).then(function(){a.destroy();if(d){d.destroy()}},function(e){c();if(!h.isRelative()||u===h.getContext()){h.oElementContext=a;if(d){h.oReturnValueContext=d}l._fireChange({reason:s.Add})}throw e});return n.oDeletePromise};l.prototype.destroy=function(){if(this.oElementContext){this.oElementContext.destroy();this.oElementContext=undefined}if(this.oParameterContext){this.oParameterContext.destroy();this.oParameterContext=undefined}if(this.oReturnValueContext){this.oReturnValueContext.destroy();this.oReturnValueContext=undefined}this.oModel.bindingDestroyed(this);this.oOperation=undefined;this.mParameters=undefined;this.mQueryOptions=undefined;t.prototype.destroy.call(this);h.prototype.destroy.call(this)};l.prototype.doCreateCache=function(e,t,i,o){return n.createSingle(this.oModel.oRequestor,e,t,this.oModel.bAutoExpandSelect,this.oModel.bSharedRequests,o)};l.prototype.doFetchExpandSelectProperties=function(){var e,t=this;if(this.bHasFetchedExpandSelectProperties||!this.oModel.bAutoExpandSelect||!this.mParameters.$expand&&!this.mParameters.$select){return}e=this.getResolvedPath();o.convertExpandSelectToPaths(this.oModel.buildQueryOptions(this.mParameters,true)).forEach(function(n){t.oContext.fetchValue(o.buildPath(e,n)).catch(t.oModel.getReporter())});this.bHasFetchedExpandSelectProperties=true};l.prototype.doFetchOrGetQueryOptions=function(e){return this.fetchResolvedQueryOptions(e)};l.prototype.doSetProperty=function(e,t,n){if(this.oOperation&&(e==="$Parameter"||e.startsWith("$Parameter/"))){o.updateAll(this.oOperation.mChangeListeners,"",this.oOperation.mParameters,o.makeUpdateData(e.split("/").slice(1),t));this.oOperation.bAction=undefined;if(n){n.unlock()}return r.resolve()}};l.prototype.doSuspend=function(){if(this.bInitial&&!this.oOperation){this.sResumeChangeReason=s.Change}};l.prototype.fetchValue=function(e,t,n){var a=n&&this.oCache!==undefined?r.resolve(this.oCache):this.oCachePromise,s=this;if(this.isRootBindingSuspended()){const e=new Error("Suspended binding provides no value");e.canceled="noDebugLog";throw e}return a.then(function(r){var a,h=false,d,l=s.getResolvedPath(),c=r||s.oOperation?s.getRelativePath(e):undefined,p;if(s.oOperation){if(c===undefined){return s.oContext.fetchValue(e,t,n)}p=c.split("/");if(p[0]==="$Parameter"){if(p.length===1){return undefined}o.registerChangeListener(s.oOperation,c.slice(11),t);const e=o.drillDown(s.oOperation.mParameters,p.slice(1));return e===undefined?null:e}}if(r&&c!==undefined){if(n){d=i.$cached}else{d=s.oReadGroupLock||s.lockGroup();s.oReadGroupLock=undefined}a=s.isRefreshWithoutBubbling();return s.resolveRefreshPromise(r.fetchValue(d,c,function(){h=true;s.fireDataRequested(a)},t)).then(function(e){s.checkSameCache(r);return e}).then(function(e){if(h){s.fireDataReceived({data:{}},a)}return e},function(e){d.unlock(true);if(h){s.oModel.reportError("Failed to read path "+l,u,e);s.fireDataReceived(e.canceled?{data:{}}:{error:e},a)}throw e})}if(!s.oOperation&&s.oContext){if(!n){s.doFetchExpandSelectProperties()}return s.oContext.fetchValue(e,t,n)}})};l.prototype.findContextForCanonicalPath=function(e){var t=this.oOperation?this.oReturnValueContext:this.oElementContext,n,i;if(t){n=t.getValue();if(n&&o.hasPrivateAnnotation(n,"predicate")){i=t.fetchCanonicalPath();i.caught();if(i.getResult()===e){return t}}}};l.prototype.getDependentBindings=function(){return this.oModel.getDependentBindings(this)};l.prototype.getParameterContext=function(){if(!this.oOperation){throw new Error("Not a deferred operation binding: "+this)}return this.oParameterContext};l.prototype.getQueryOptionsFromParameters=function(){var e,t=this.mQueryOptions;if(this.bInheritExpandSelect){e=this.oContext.getBinding().getInheritableQueryOptions();t=Object.assign({},t);if("$select"in e){t.$select&&=t.$select.slice();o.addToSelect(t,e.$select)}if("$expand"in e){t.$expand=e.$expand}}return t};l.prototype.getResolvedPathWithReplacedTransientPredicates=function(){var e="",t=this.getResolvedPath(),n,i=this;if(t&&t.includes("($uid=")){n=t.slice(1).split("/");t="";n.forEach(function(n){var r,a,s;e+="/"+n;s=n.indexOf("($uid=");if(s>=0){r=i.oContext.getValue(e);a=r&&o.getPrivateAnnotation(r,"predicate");if(!a){throw new Error("No key predicate known at "+e)}t+="/"+n.slice(0,s)+a}else{t+="/"+n}})}return t};l.prototype.getReturnValueContextPath=function(e){if(!this.hasReturnValueContext()){return undefined}const t=this.oContext.getPath().slice(1);const n=o.getPrivateAnnotation(e,"predicate");if(this.oOperation.bAdditionalQueryOptionsForRVC===false){const e=t.indexOf("(");return(e<0?t:t.slice(0,e))+n}const i=o.getMetaPath(t).split("/");const r=this.oModel.getMetaModel().getObject("/"+i[0]+"/"+i[1]+"/$Partner");const a=e[r];const s=a&&this.oModel.getKeyPredicate("/"+i[0],a);if(!(s&&n)){return undefined}return t.split("/").map((e,t)=>e.slice(0,e.indexOf("("))+(t?n:s)).join("/")};l.prototype.handleOperationResult=function(t,n,i){var a,s,h,u,d;if(this.isReturnValueLikeBindingParameter(t)){s=this.oContext.getValue();a=s&&o.getPrivateAnnotation(s,"predicate");h=o.getPrivateAnnotation(n,"predicate");if(h){if(a===h){this.oContext.patch(n)}u=this.getReturnValueContextPath(n);if(u){if(i){if(this.oOperation.bAdditionalQueryOptionsForRVC&&this.oContext.getPath().split("/")[1]!==u.split("/")[0]){throw new Error("Cannot replace due to changed key predicate"+" for navigation property in path")}this.oCache=null;this.oCachePromise=r.resolve(null);d=this.oContext.getPath().indexOf(u)===1?this.oContext:this.oContext.getBinding().doReplaceWith(this.oContext,n,h);d.setNewGeneration();return d}this.oReturnValueContext=e.createNewContext(this.oModel,this,"/"+u);this.oCache.setResourcePath(u);return this.oReturnValueContext}}}if(i){throw new Error("Cannot replace w/o return value context")}};l.prototype.hasReturnValueContext=function(){var e=o.getMetaPath(this.getResolvedPath()).split("/");if(e.length===4){return this.oOperation.bAdditionalQueryOptionsForRVC!==false}return e.length===3&&this.oModel.getMetaModel().getObject("/"+e[1]).$kind==="EntitySet"};l.prototype.initialize=function(){this.bInitial=false;if(this.isResolved()&&!this.isRootBindingSuspended()){this._fireChange({reason:s.Change})}};l.prototype.invoke=function(e,t,n,i){var r=this.getResolvedPath();this.checkSuspended();o.checkGroupId(e,false,true);if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath)}if(this.bRelative){if(!r){throw new Error("Unresolved binding: "+this.sPath)}if(this.oContext.isTransient&&this.oContext.isTransient()){throw new Error("Invoke for transient context not allowed: "+r)}if(this.oContext.getPath().includes("(...)")){throw new Error("Nested deferred operation bindings not supported: "+r)}if(i){if(!this.oContext.getBinding){throw new Error("Cannot replace this parent context: "+this.oContext)}this.oContext.getBinding().checkKeepAlive(this.oContext,true)}}else if(i){throw new Error("Cannot replace when operation is not relative")}return this._invoke(this.lockGroup(e,true),o.publicClone(this.oOperation.mParameters,true),t,n,i)};l.prototype.execute=l.prototype.invoke;l.prototype.isReturnValueLikeBindingParameter=function(e){var t,n;if(!(this.bRelative&&this.oContext&&this.oContext.getBinding)){return false}if(e.$kind==="NavigationProperty"){if(e.$isCollection||this.sPath.includes("/")){return false}n=o.getMetaPath(this.oContext.getPath());if(n.lastIndexOf("/")>0){return false}t=this.oModel.getMetaModel().getObject(n);return t.$kind==="EntitySet"&&t.$Type===e.$Type&&t.$NavigationPropertyBinding&&t.$NavigationPropertyBinding[this.sPath.slice(0,-5)]===n.slice(1)}return e.$IsBound&&e.$ReturnType&&!e.$ReturnType.$isCollection&&e.$EntitySetPath&&!e.$EntitySetPath.includes("/")};l.prototype.ready2Inherit=function(){return this.bInheritExpandSelect&&this.bRelative&&this.oContext.getBinding?.().ready()||r.resolve()};l.prototype.refreshDependentBindings=function(e,t,n,i){return r.all(this.getDependentBindings().map(function(o){return o.refreshInternal(e,t,n,i)}))};l.prototype.refreshInternal=function(t,n,i,o){var a=this;if(this.oOperation&&this.oOperation.bAction!==false){return r.resolve()}this.bHasFetchedExpandSelectProperties=false;if(this.isRootBindingSuspended()){this.refreshSuspended(n);return this.refreshDependentBindings(t,n,i,o)}this.createReadGroupLock(n,this.isRoot());return this.oCachePromise.then(function(h){var u,d=a.oRefreshPromise,l=a.oReadGroupLock;if(!a.oElementContext){a.oElementContext=e.create(a.oModel,a,a.getResolvedPath());if(!h){a._fireChange({reason:s.Refresh})}}if(a.oOperation){a.oReadGroupLock=undefined;return a._invoke(l,a.oOperation.mRefreshParameters)}if(h&&!d){u=h.hasChangeListeners();a.removeCachesAndMessages(t);if(a.mLateQueryOptions){a.mAggregatedQueryOptions=a.mLateQueryOptions;a.mLateQueryOptions=undefined}a.fetchCache(a.oContext,false,false,n,o);if(u){d=a.createRefreshPromise(o)}else{l.unlock();a.oReadGroupLock=undefined}if(o&&d){d=d.catch(function(e){return a.fetchResourcePath(a.oContext).then(function(e){if(!a.bRelative||h.getResourcePath()===e){a.oCache=h;a.oCachePromise=r.resolve(h);h.setActive(true);return a.checkUpdateInternal()}}).then(function(){throw e})})}if(!i){a.fetchValue("").catch(a.oModel.getReporter())}}return r.all([d,a.refreshDependentBindings(t,n,i,o)])})};l.prototype.refreshReturnValueContext=function(e,t,i){var a=this.oCache,s=this.mCacheQueryOptions,h=this.oModel,u,d=this;if(this.oReturnValueContext!==e){return null}this.mCacheQueryOptions=this.computeOperationQueryOptions();if(this.mLateQueryOptions){this.mCacheQueryOptions=o.clone(this.mCacheQueryOptions);o.aggregateExpandSelect(this.mCacheQueryOptions,this.mLateQueryOptions)}this.oCache=n.createSingle(h.oRequestor,e.getPath().slice(1),this.mCacheQueryOptions,true,h.bSharedRequests);this.oCachePromise=r.resolve(this.oCache);this.createReadGroupLock(t,true);u=e.refreshDependentBindings("",t,true,i);if(i){u=u.catch(function(t){d.oCache=a;d.oCachePromise=r.resolve(a);d.mCacheQueryOptions=s;a.setActive(true);return e.checkUpdateInternal().then(function(){throw t})})}return u};l.prototype.requestObject=function(e){return this.oElementContext?this.oElementContext.requestObject(e):Promise.resolve()};l.prototype.requestSideEffects=function(e,t,n){var i=this.oModel,o=[],a=this;function s(e){return e.catch(function(e){i.reportError("Failed to request side effects",u,e);if(!e.canceled){throw e}})}if(t.indexOf("")<0){try{if(!this.oOperation||this.oReturnValueContext){o.push(this.oCache.requestSideEffects(this.lockGroup(e),t,n&&n.getPath().slice(1)))}this.visitSideEffects(e,t,n,o);return r.all(o.map(s)).then(function(){return a.refreshDependentListBindingsWithoutCache()})}catch(e){if(!e.message.startsWith("Unsupported collection-valued navigation property ")){throw e}}}return n&&this.refreshReturnValueContext(n,e,true)||this.refreshInternal("",e,true,true)};l.prototype.resumeInternal=function(e,t){var n=this.sResumeChangeReason,i=this;function o(){i.getDependentBindings().forEach(function(t){t.resumeInternal(e,!!n)})}this.sResumeChangeReason=undefined;if(this.oOperation){o();return}if(t||n){this.mAggregatedQueryOptions={};this.bAggregatedQueryOptionsInitial=true;this.mCanUseCachePromiseByChildPath={};this.removeCachesAndMessages("");this.fetchCache(this.oContext)}o();if(n){this._fireChange({reason:n})}};l.prototype.setContext=function(t){if(this.oContext!==t){if(this.bRelative&&(this.oContext||t)){this.checkSuspended(true);if(this.oElementContext){this.oElementContext.destroy();this.oElementContext=null}if(this.oReturnValueContext){this.oReturnValueContext.destroy();this.oReturnValueContext=null}if(this.oParameterContext){this.oParameterContext.destroy();this.oParameterContext=null}this.fetchCache(t);if(t){this.oElementContext=e.create(this.oModel,this,this.oModel.resolve(this.sPath,t));if(this.oOperation){this.oParameterContext=e.create(this.oModel,this,this.oModel.resolve(this.sPath+"/$Parameter",t))}}this.bHasFetchedExpandSelectProperties=false;a.prototype.setContext.call(this,t)}else{this.oContext=t}}};l.prototype.setParameter=function(e,t){var n;if(!this.oOperation){throw new Error("The binding must be deferred: "+this.sPath)}if(!e){throw new Error("Missing parameter name")}if(t===undefined){throw new Error("Missing value for parameter: "+e)}n=this.oOperation.mParameters[e];this.oOperation.mParameters[e]=t;o.informAll(this.oOperation.mChangeListeners,e,n,t);this.oOperation.bAction=undefined;return this};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataListBinding", ["./Context","./ODataParentBinding","./lib/_AggregationCache","./lib/_AggregationHelper","./lib/_Cache","./lib/_GroupLock","./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/core/Messaging","sap/ui/model/Binding","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterProcessor","sap/ui/model/FilterType","sap/ui/model/ListBinding","sap/ui/model/Sorter","sap/ui/model/odata/OperationMode"],function(e,t,i,n,r,s,o,a,h,d,u,c,f,l,g,p,C,x,v){"use strict";var P="sap.ui.model.odata.v4.ODataListBinding",m=/All|Any|NotAll|NotAny/,y={AggregatedDataStateChange:true,change:true,createActivate:true,createCompleted:true,createSent:true,dataReceived:true,dataRequested:true,DataStateChange:true,patchCompleted:true,patchSent:true,refresh:true,selectionChanged:true,separateReceived:true},E=C.extend("sap.ui.model.odata.v4.ODataListBinding",{constructor:$});function $(i,n,r,s,a,h){C.call(this,i,n);t.call(this);if(n.endsWith("/")){throw new Error("Invalid path: "+n)}h=o.clone(h)||{};this.checkBindingParameters(h,["$$aggregation","$$canonicalPath","$$clearSelectionOnFilter","$$getKeepAliveContext","$$groupId","$$operationMode","$$ownRequest","$$patchWithoutSideEffects","$$separate","$$sharedRequest","$$updateGroupId"]);const d=o.toArray(a);if(h.$$aggregation&&d[0]===f.NONE){throw new Error("Cannot combine Filter.NONE with $$aggregation")}this.iActiveContexts=0;this.aApplicationFilters=d;this.sChangeReason=i.bAutoExpandSelect&&!o.isDataAggregation(h)?"AddVirtualContext":undefined;this.iCreatedContexts=0;this.iDeletedContexts=0;this.oDiff=undefined;this.aFilters=[];this.sGroupId=h.$$groupId;this.bHasAnalyticalInfo=false;this.oHeaderContext=this.bRelative?null:e.createNewContext(i,this,n);this.sOperationMode=h.$$operationMode||i.sOperationMode;this.mPreviousContextsByPath={};this.aPreviousData=null;this.bRefreshKeptElements=false;this.sResumeAction=undefined;this.bResetViaSideEffects=undefined;this.bSharedRequest="$$sharedRequest"in h?h.$$sharedRequest:i.bSharedRequests;this.aSorters=o.toArray(s);this.sUpdateGroupId=h.$$updateGroupId;if(!this.sOperationMode&&(this.aSorters.length||this.aApplicationFilters.length)){throw new Error("Unsupported operation mode: "+this.sOperationMode)}this.applyParameters(h);if(!this.bRelative||r&&!r.fetchValue){this.createReadGroupLock(this.getGroupId(),true)}this.setContext(r);i.bindingCreated(this)}t(E.prototype);E.prototype._checkDataStateMessages=function(e,t){if(t){e.setModelMessages(this.oModel.getMessagesByPath(t,true))}};E.prototype._getAllExistingContexts=function(e){let t=this.aContexts??[];if(e){t=t.slice(this.iCreatedContexts)}return t.filter(function(e){return e}).concat(Object.values(this.mPreviousContextsByPath).filter(function(t){const i=t.isEffectivelyKeptAlive();return e?i&&!t.isOutOfPlace():i}))};E.prototype.adjustPredicate=function(e,i,n){var r=this;function s(e,t){var i=r.aPreviousData?.indexOf(e);if(i>=0){r.aPreviousData[i]=t}}if(n){n.adjustPredicate(e,i,s)}else{t.prototype.adjustPredicate.apply(this,arguments);if(this.mCacheQueryOptions&&!this.oContext.getPath().includes("($uid=")){this.fetchCache(this.oContext,true)}this.oHeaderContext.adjustPredicate(e,i);this.aContexts.forEach(function(t){t.adjustPredicate(e,i,s)})}};E.prototype.applyParameters=function(e,t,i){var r,s=this.mParameters&&this.mParameters.$$aggregation,o=this.mQueryOptions&&this.mQueryOptions.$apply;if("$$getKeepAliveContext"in e&&"$apply"in e){throw new Error("Cannot combine $$getKeepAliveContext and $apply")}if("$$aggregation"in e){if("$apply"in e){throw new Error("Cannot combine $$aggregation and $apply")}if(!t){n.validateAggregationAndSetPath(e.$$aggregation,this.oModel.bAutoExpandSelect,this.oModel.oInterface.fetchMetadata,this.getResolvedPath())}r=n.buildApply(e.$$aggregation).$apply}const a=this.mParameters?.$$clearSelectionOnFilter&&(i?.includes("$filter")||i?.includes("$search")||e.$$aggregation?.search!==this.mParameters.$$aggregation?.search);this.mQueryOptions=this.oModel.buildQueryOptions(e,true);this.oQueryOptionsPromise=undefined;this.mParameters=e;if(r){this.mQueryOptions.$apply=r}if(t===""){if(this.mQueryOptions.$apply===o&&(!this.mParameters.$$aggregation||!s||this.isUnchangedParameter("$$aggregation",s))){return}t=this.bHasAnalyticalInfo?c.Change:c.Filter}if(i){this.setResetViaSideEffects(i.every(e=>e==="$orderby"||e==="$filter"))}if(this.isRootBindingSuspended()){this.setResumeChangeReason(t);return}if(a){this.oHeaderContext?.setSelected(false)}this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(t);this.oHeaderContext?.checkUpdate()};E.prototype.attachCreateActivate=function(e,t){return this.attachEvent("createActivate",e,t)};E.prototype.attachCreateCompleted=function(e,t){return this.attachEvent("createCompleted",e,t)};E.prototype.attachCreateSent=function(e,t){return this.attachEvent("createSent",e,t)};E.prototype.attachEvent=function(e,t,i,n){if(!(e in y)){throw new Error("Unsupported event '"+e+"': v4.ODataListBinding#attachEvent")}return C.prototype.attachEvent.apply(this,arguments)};E.prototype.attachSelectionChanged=function(e,t){return this.attachEvent("selectionChanged",e,t)};E.prototype.attachSeparateReceived=function(e,t){return this.attachEvent("separateReceived",e,t)};E.prototype.checkDeepCreate=function(){if(!this.oModel.bAutoExpandSelect){throw new Error("Deep create is only supported with autoExpandSelect")}if(E.isBelowAggregation(this.oContext)){throw new Error("Deep create is not supported with data aggregation")}if(!this.oContext.isTransient()){throw new Error("Unexpected ODataContextBinding in deep create")}if(this.sPath.includes("/")){throw new Error("Invalid path '"+this.sPath+"' in deep create")}};E.prototype.checkKeepAlive=function(e,t){if(this.isRelative()&&!this.mParameters.$$ownRequest){throw new Error("Missing $$ownRequest at "+this)}if(e===this.oHeaderContext){throw new Error("Unsupported header context "+e)}if(o.isDataAggregation(this.mParameters)){throw new Error("Unsupported $$aggregation at "+this)}if(this.bSharedRequest){throw new Error("Unsupported $$sharedRequest at "+this)}if(!t&&e&&e.getIndex()===undefined&&e.isKeepAlive()&&!e.isDeleted()&&e.hasPendingChanges()){throw new Error("Not allowed due to pending changes: "+e)}};E.prototype.collapse=function(e,t,i,n){this.checkSuspended();if(this.aContexts[e.iIndex]!==e){throw new Error("Not currently part of the hierarchy: "+e)}if(t&&!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}n??=this.oCache.collapse(o.getRelativePath(e.getPath(),this.oHeaderContext.getPath()),t?this.lockGroup():undefined,i);if(n>0){const t=this.aContexts;const r=e.getModelIndex();t.splice(r+1,n).forEach(e=>{if(!e.created()){this.mPreviousContextsByPath[e.getPath()]=e}});for(let e=r+1;e<t.length;e+=1){if(t[e]){t[e].iIndex=e}}this.iMaxLength-=n;if(!i){this._fireChange({reason:c.Change})}}};E.prototype.create=function(t,i,n,r){var s=this.mParameters.$$aggregation,a,d,u=s?.createInPlace,f=this.fetchResourcePath(),l,g,p=this.getUpdateGroupId(),C,x=this.getResolvedPath(),v="($uid="+o.uid()+")",m=x+v,y=this;if(!x){throw new Error("Binding is unresolved: "+this)}this.checkSuspended();if(o.isDataAggregation(this.mParameters)){throw new Error("Cannot create in "+this+" when using data aggregation")}if(this.isTransient()){this.checkDeepCreate();if(r){throw new Error("Must not create an inactive context in a deep create: "+this)}}n=!!n;if(n&&!(this.bLengthFinal||this.mParameters.$count)){throw new Error("Must know the final length to create at the end. Consider setting $count")}if(this.bFirstCreateAtEnd&&!n){throw new Error("Cannot create at the start after creation at end")}if(r){if(this.isRelative()&&!this.mParameters.$$ownRequest){throw new Error("Missing $$ownRequest at "+this)}p="$inactive."+p}else if(!s){this.iActiveContexts+=1}if(this.bFirstCreateAtEnd===undefined){this.bFirstCreateAtEnd=n}g=o.publicClone(t,true)||{};let E;if(s){if(!i){throw new Error("Missing bSkipRefresh")}if(arguments.length>2){throw new Error("Only the parameters oInitialData and bSkipRefresh are supported")}const e=t?.["@$ui5.node.parent"];if(e){a=this.aContexts.indexOf(e)+1;if(a<=0){throw new Error("Invalid parent context: "+e)}if(e.isExpanded()===false){throw new Error("Unsupported collapsed parent: "+e)}g["@$ui5.node.parent"]=e.getCanonicalPath().slice(1);E=this.oCache.isRefreshNeededAfterCreate(e.iIndex)}else{a=0}}else{this.iCreatedContexts+=1}C=this.lockGroup(p,true,true,function(){if(!y.aContexts.includes(d)){y.mPreviousContextsByPath[d.getPath()]=d;y.destroyPreviousContextsLater([d.getPath()]);return}d.doSetSelected(false,true);y.removeCreated(d);return Promise.resolve().then(function(){y._fireChange({reason:c.Remove})})});l=this.createInCache(C,f,x,v,g,this.bFirstCreateAtEnd!==n,function(e){y.oModel.reportError("POST on '"+f+"' failed; will be repeated automatically",P,e);y.fireEvent("createCompleted",{context:d,success:false})},function(){y.fireEvent("createSent",{context:d})}).then(function(e){var t,n,r;r=o.getPrivateAnnotation(e,"predicate");if(r){y.adjustPredicate(v,r,d);y.oModel.checkMessages()}y.fireEvent("createCompleted",{context:d,success:true});if(u){const t=o.getPrivateAnnotation(e,"rank");d.iIndex=t;if(t===undefined||E){d.destroy();return}d.setPersisted(true);y.insertContext(d,t)}t=o.getPrivateAnnotation(e,"deepCreate");o.deletePrivateAnnotation(e,"deepCreate");n=y.getGroupId();if(y.oModel.isApiGroup(n)){n="$auto"}return i||t?d.updateAfterCreate(i,n):y.refreshSingle(d,y.lockGroup(n))},function(e){C.unlock(true);throw e});if(E){l=h.all([l,this.refreshInternal("",p,false,true,true)])}const $=u?undefined:a??-this.iCreatedContexts;d=e.create(this.oModel,this,m,$,l,r);d.doSetSelected(this.oHeaderContext.isSelected());if(this.isTransient()){d.created().catch(this.oModel.getReporter())}if(u){return d}d.fetchValue().then(function(e){if(e){o.setPrivateAnnotation(e,"context",d);o.setPrivateAnnotation(e,"firstCreateAtEnd",y.bFirstCreateAtEnd)}});this.insertContext(d,a,n);return d};E.prototype.createContexts=function(t,i,n){var r=false,s,a,h=i.$count,d,u=this.bLengthFinal,c=this.oModel,f=this.getResolvedPath(),l,g=t>this.aContexts.length,p=this;function C(){var e=p.iMaxLength+p.iCreatedContexts;if(e>=p.aContexts.length){return}for(let t=e;t<p.aContexts.length;t+=1){if(p.aContexts[t]){p.aContexts[t].destroy()}}while(e>0&&!p.aContexts[e-1]){e-=1}p.aContexts.length=e;r=true}for(let n=0;n<i.length;n+=1){if(this.aContexts[t+n]===undefined&&i[n]){r=true;d=t+n-this.iCreatedContexts;l=o.getPrivateAnnotation(i[n],"predicate");a=f+(l||"/"+d);s=this.mPreviousContextsByPath[a];if(s&&(!s.created()||s.isEffectivelyKeptAlive()||this.mParameters.$$aggregation?.hierarchyQualifier)){delete this.mPreviousContextsByPath[a];s.iIndex=d;s.checkUpdate()}else if(o.hasPrivateAnnotation(i[n],"context")){s=o.getPrivateAnnotation(i[n],"context");if(s.getBinding()!==this){throw new Error("Cannot share created data between list bindings")}s.iIndex=d;a=s.getPath();if(this.mPreviousContextsByPath[a]===s){delete this.mPreviousContextsByPath[a]}}else{s=e.create(c,this,a,d);s.doSetSelected(this.oHeaderContext.isSelected())}this.aContexts[t+n]=s}}if(n){return r}this.destroyPreviousContextsLater(Object.keys(this.mPreviousContextsByPath));if(h!==undefined){this.bLengthFinal=true;this.iMaxLength=h-this.iActiveContexts;C()}else{if(!i.length){this.iMaxLength=t-this.iCreatedContexts;C()}else if(this.aContexts.length>this.iMaxLength+this.iCreatedContexts){this.iMaxLength=Infinity}if(!(g&&i.length===0)){this.bLengthFinal=this.aContexts.length===this.iMaxLength+this.iCreatedContexts}}if(this.bLengthFinal!==u){r=true}return r};E.prototype.createContextsForCachedData=function(e,t){if(this.bFirstCreateAtEnd){e+=this.iCreatedContexts}this.withCache((i,n)=>{const r=i.getElements(n,e,e+t);if(r){this.createContexts(e,r,true)}},"",true)};E.prototype.delete=function(t,i,n,r,s,a){var h=false,d=this;if(n.isDeleted()){return n.oDeletePromise}const u=n.isExpanded();if(u){this.collapse(n,false,true)}const f=n.iIndex<0;const l=n.iIndex===undefined?o.getRelativePath(n.getPath(),this.oHeaderContext.getPath()):String(n.getModelIndex());this.iDeletedContexts+=1;return n.doDelete(t,i,l,r,this,function(e,i){if(e!==undefined){if(i>0){delete d.mPreviousContextsByPath[n.getPath()];d.aContexts.splice(e,0,n);a()}else{d.mPreviousContextsByPath[n.getPath()]=n;d.aContexts.splice(e,1);n.iIndex=undefined;Promise.resolve().then(function(){d._fireChange({reason:c.Remove})})}if(f){d.iCreatedContexts+=i;d.iActiveContexts+=i}else{d.iMaxLength+=i}d.aContexts.forEach(function(e,t){e.iIndex=t-d.iCreatedContexts})}else if(i>0){h=true;a()}else if(d.bLengthFinal&&!s){d.oCache.requestCount(t&&!d.oModel.isApiGroup(t.getGroupId())?t.getUnlockedCopy():d.lockGroup("$auto")).then(function(e){var t=d.iMaxLength;d.iMaxLength=e-d.iActiveContexts;if(t!==d.iMaxLength){d._fireChange({reason:c.Remove})}})}}).then(function(){d.iDeletedContexts-=1;if(!d.iDeletedContexts&&!d.iCreatedContexts){d.bFirstCreateAtEnd=undefined}n.resetKeepAlive();n.iIndex=e.VIRTUAL;d.destroyPreviousContextsLater([n.getPath()])},function(e){d.iDeletedContexts-=1;a();if(h){d.oCache.reset(d.getKeepAlivePredicates());d.reset(c.Change)}else{if(u){d.expand(n,1,true).unwrap()}d._fireChange({reason:c.Add})}throw e})};E.prototype.destroy=function(){if(this.bHasAnalyticalInfo&&this.aContexts===undefined){return}this.aContexts.forEach(function(e){e.destroy()});this.destroyPreviousContexts();if(this.oHeaderContext){this.oHeaderContext.destroy()}this.oModel.bindingDestroyed(this);this.aApplicationFilters=undefined;this.aContexts=undefined;this.oDiff=undefined;this.aFilters=undefined;this.oHeaderContext=undefined;this.mParameters=undefined;this.mPreviousContextsByPath=undefined;this.aPreviousData=undefined;this.mQueryOptions=undefined;this.oQueryOptionsPromise=undefined;this.aSorters=undefined;t.prototype.destroy.call(this);C.prototype.destroy.call(this)};E.prototype.destroyLater=function(e){if(this.iCurrentEnd){this.mPreviousContextsByPath[e.getPath()]=e}else{e.destroy()}};E.prototype.destroyPreviousContexts=function(e){var t=this.mPreviousContextsByPath,i=this;if(t){(e||Object.keys(t)).forEach(function(n){var r=t[n];if(r){if(e&&(r.isEffectivelyKeptAlive()||r.isOutOfPlace()||r.oDeletePromise?.isPending())){r.iIndex=undefined}else{if(!r.isTransient()){r.destroy();if(r.iIndex===undefined&&i.oCache){i.oCache.removeKeptElement(o.getRelativePath(n,i.oHeaderContext.getPath()))}}delete t[n]}}})}};E.prototype.destroyPreviousContextsLater=function(e){if(e.length){this.oModel.addPrerenderingTask(this.destroyPreviousContexts.bind(this,e))}};E.prototype.detachCreateActivate=function(e,t){return this.detachEvent("createActivate",e,t)};E.prototype.detachCreateCompleted=function(e,t){return this.detachEvent("createCompleted",e,t)};E.prototype.detachCreateSent=function(e,t){return this.detachEvent("createSent",e,t)};E.prototype.detachSelectionChanged=function(e,t){return this.detachEvent("selectionChanged",e,t)};E.prototype.detachSeparateReceived=function(e,t){return this.detachEvent("separateReceived",e,t)};E.prototype.doCreateCache=function(e,t,n,r,s,o,a){var h,d,u,c=this.bResetViaSideEffects;this.bResetViaSideEffects=undefined;if(a&&a.getResourcePath()===e&&a.$deepResourcePath===r){d=this.getKeepAlivePredicates();if(this.iCreatedContexts||this.iDeletedContexts||d.length||this.mParameters.$$aggregation?.hierarchyQualifier&&a instanceof i){if(c&&this.mParameters.$$aggregation?.hierarchyQualifier){s=this.getGroupId();o=true;a.resetOutOfPlace()}a.reset(d,o?s:undefined,t,this.mParameters.$$aggregation,this.isGrouped());this.validateSelection(a,s);return a}}t=this.inheritQueryOptions(t,n);h=this.getCacheAndMoveKeepAliveContexts(e,t);if(h&&this.mParameters.$$aggregation){u={};d=this.getKeepAlivePredicates();d.forEach(function(e){u[e]=h.getValue(e)});h.setActive(false);h=undefined}h??=i.create(this.oModel.oRequestor,e,r,t,this.mParameters.$$aggregation,this.oModel.bAutoExpandSelect||"$$separate"in this.mParameters,this.bSharedRequest,this.isGrouped());h.setSeparate?.(this.mParameters.$$separate);if(u){d.forEach(function(e){h.addKeptElement(u[e])})}else if(this.bSharedRequest){h.registerChangeListener("",this)}return h};E.prototype.doFetchOrGetQueryOptions=function(e){var t=e&&o.getMetaPath(e.getPath()),i=this;if(!(this.oQueryOptionsPromise&&this.oQueryOptionsPromise.$metaPath===t)){this.oQueryOptionsPromise=this.fetchResolvedQueryOptions(e).then(function(t){return i.fetchFilter(e,t.$filter).then(function(e){return o.mergeQueryOptions(t,i.getOrderby(t.$orderby),e)})});this.oQueryOptionsPromise.$metaPath=t}return this.oQueryOptionsPromise};E.prototype.doReplaceWith=function(t,i,n){var r=t.getModelIndex(),s,o=t.fnOnBeforeDestroy,a,h=this.oHeaderContext.getPath()+n,d=this.mPreviousContextsByPath[h];if(d){if(d===t){return d}if(d.iIndex!==undefined){throw new Error("Unexpected index: "+d)}d.iIndex=t.iIndex;delete this.mPreviousContextsByPath[h]}else{d=e.create(this.oModel,this,h,t.iIndex);s=true}if(r===undefined){this.mPreviousContextsByPath[h]=d;this.oCache.addKeptElement(i)}else{t.iIndex=undefined;this.aContexts[r]=d;this.oCache.doReplaceWith(r,i)}if(t.isKeepAlive()){this.mPreviousContextsByPath[t.getPath()]=t;if(s){if(o){a=(o.$original||o).bind(null,d);a.$original=o}d.setKeepAlive(true,a)}}else{this.destroyLater(t)}this._fireChange({reason:c.Change});return d};E.prototype.doSetProperty=function(){};E.prototype.expand=function(e,t,i){this.checkSuspended();if(this.aContexts[e.iIndex]!==e){throw new Error("Not currently part of the hierarchy: "+e)}if(t>1&&!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}let n=false;const r=o.getRelativePath(e.getPath(),this.oHeaderContext.getPath());return this.oCache.expand(this.lockGroup(),r,t,()=>{n=true;this.fireDataRequested()}).then(t=>{if(t<0){return this.requestSideEffects(this.getGroupId(),[""])}if(t){this.insertGap(e.getModelIndex(),t);if(!i){this._fireChange({reason:c.Change})}}if(n){this.fireDataReceived({})}},e=>{if(n){this.fireDataReceived({error:e})}throw e})};E.prototype.fetchContexts=function(e,t,i,n,r,s){var o,a=this;if(this.bFirstCreateAtEnd){e+=this.iCreatedContexts}if(!n){n=this.oReadGroupLock||this.lockGroup();this.oReadGroupLock=undefined}o=this.fetchData(e,t,i,n,s);if(r){o=Promise.resolve(o)}return o.then(function(t){var i;if(!a.aContexts){i=new Error("Binding already destroyed");i.canceled=true;throw i}if(t){t.$checkStillValid?.();return a.createContexts(e,t.value)}},function(e){n.unlock(true);throw e})};E.prototype.fetchData=function(e,t,i,n,r){var s=this.oContext,o=this;return this.oCachePromise.then(function(a){var h;if(o.bRelative&&s!==o.oContext){return undefined}if(a){if(!a.hasSentRequest()&&o.isRelative()&&E.isBelowCreated(s)){h=s.getAndRemoveCollection(o.sPath);if(h){a.setPersistedCollection(h)}}return a.read(e,t,i,n,r,undefined,o.fireSeparateReceived.bind(o)).then(function(e){e.$checkStillValid=o.checkSameCache.bind(o,a,e["@$ui5.resetCount"]);return e})}n.unlock();return s.fetchValue(o.sReducedPath).then(function(i){var n;i??=[];n=i.$count;i=i.slice(e,e+t);i.$count=n;return{value:i}})})};E.prototype.fetchDownloadUrl=function(){var e=this.oModel.mUriParameters;this.checkTransient();if(!this.isResolved()){throw new Error("Binding is unresolved")}if(this.hasFilterNone()){return h.resolve(null)}const t=o.getMetaPath(this.getResolvedPath());const i={};for(const e in this.mChildPathsReducedToParent){const n=o.wrapChildQueryOptions(t,e,{},this.oModel.oInterface.fetchMetadata,true);o.aggregateExpandSelect(i,n)}return this.withCache(function(t,n){return t.getDownloadUrl(n,e,i)})};E.prototype.fetchFilter=function(e,t){let i;const r=this.oModel.getMetaModel();const s=r.getMetaContext(this.oModel.resolve(this.sPath,e));function a(e,t,n,r){var s,a,h,d;function u(e){return h?"tolower("+e+")":e}h=t==="Edm.String"&&e.isCaseSensitive()===false;a=r&&!i?.includes(e)?u(`$these/aggregate(${e.getPath()})`):u(decodeURIComponent(e.getPath()));d=u(o.formatLiteral(e.getValue1(),t));switch(e.getOperator()){case l.BT:s=a+" ge "+d+" and "+a+" le "+u(o.formatLiteral(e.getValue2(),t));break;case l.NB:s=c(a+" lt "+d+" or "+a+" gt "+u(o.formatLiteral(e.getValue2(),t)),n);break;case l.EQ:case l.GE:case l.GT:case l.LE:case l.LT:case l.NE:s=a+" "+e.getOperator().toLowerCase()+" "+d;break;case l.Contains:case l.EndsWith:case l.NotContains:case l.NotEndsWith:case l.NotStartsWith:case l.StartsWith:s=e.getOperator().toLowerCase().replace("not","not ")+"("+a+","+d+")";break;default:throw new Error("Unsupported operator: "+e.getOperator())}return s}function d(e,t,i,n){var o;if(!e){return h.resolve()}if(e.getFilters()){return h.all(e.getFilters().map(function(i){return d(i,t,e.isAnd(),n)})).then(function(t){return c(t.join(e.isAnd()?" and ":" or "),i&&!e.isAnd())})}o=r.resolve(u(e.getPath(),t),s);return r.fetchObject(o).then(function(r){var s,h,c;if(!r){throw new Error("Type cannot be determined, no metadata for path: "+o)}c=e.getOperator();if(m.test(c)){const i=c.startsWith("Not");c=c.replace("Not","");const n=(i?"not ":"")+e.getPath()+"/";s=e.getCondition();h=e.getVariable();if(c==="Any"&&!s){return n+"any()"}t=Object.create(t);t[h]=u(e.getPath(),t);return d(s,t).then(e=>n+c.toLowerCase()+"("+h+":"+e+")")}return a(e,r.$Type,i,n)})}function u(e,t){var i=e.split("/");i[0]=t[i[0]];return i[0]?i.join("/"):e}function c(e,t){return t?"("+e+")":e}const p=g.combineFilters(this.aFilters,this.aApplicationFilters);const C=o.isDataAggregation(this.mParameters)?r.fetchObject(s.getPath()+"/"):h.resolve();return C.then(e=>{const r=this.mParameters.$$aggregation;if(e){r.$leafLevelAggregated=!e.$Key?.every(e=>e in r.group||Object.keys(r.group).some(t=>r.group[t].additionally?.includes(e)))}if(!p){return[t]}if(p===f.NONE){return["false"]}const s=n.splitFilter(p,r);i=s[3];return h.all([d(s[0],{},t).then(e=>e&&t?e+" and ("+t+")":e||t),d(s[1],{}),d(s[2],{},undefined,true)])})};E.prototype.fetchOrGetParent=function(e,t){if(!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}if(this.aContexts[e.iIndex]!==e){throw new Error("Not currently part of a recursive hierarchy: "+e)}const i=this.oCache.getParentIndex(e.iIndex);if(i<0){return null}const n=e=>this.requestContexts(e,1).then(e=>e[0]);if(t){if(i===undefined){return this.oCache.fetchParentIndex(e.iIndex,this.lockGroup()).then(n)}return n(i)}return this.aContexts[i]};E.prototype.fetchOrGetSibling=function(e,t=+1,i=false){if(!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}if(t!==-1&&t!==+1){throw new Error("Unsupported offset: "+t)}if(e.isDeleted()||e.isTransient()||this.aContexts[e.iIndex]!==e){throw new Error("Unsupported context: "+e)}this.checkSuspended();let n;if(e.created()){if(t<0){return null}const r=e.getParent();if(r?.created()){return null}let s;let o;[n,s,o]=this.oCache.get1stInPlaceChildIndex(r?r.iIndex:-1);if(s){return i?this.requestContexts(n,1).then(e=>e[0]).then(e=>e.getProperty("@$ui5.node.level")===o?e:null):undefined}}else{n=this.oCache.getSiblingIndex(e.iIndex,t)}if(n<0){return null}if(n!==undefined){this.fetchContexts(n,1,0,s.$cached);return this.aContexts[n]}if(!i){return undefined}return this.oCache.requestSiblingIndex(e.iIndex,t,this.lockGroup()).then(e=>e<0?null:this.requestContexts(e,1).then(e=>e[0]))};E.prototype.fetchValue=function(e,t,i){var n=i&&this.oCache!==undefined?h.resolve(this.oCache):this.oCachePromise,r=this;return n.then(function(n){var o,a;if(n){o=i?s.$cached:r.lockGroup();a=r.getRelativePath(e);if(a!==undefined){return n.fetchValue(o,a,undefined,t)}}if(r.oContext){return r.oContext.fetchValue(e,t,i)}})};E.prototype.filter=function(e,t){var i=o.toArray(e);this.checkTransient();f.checkFilterNone(i);if(i[0]===f.NONE&&this.mParameters.$$aggregation){throw new Error("Cannot combine Filter.NONE with $$aggregation")}if(this.sOperationMode!==v.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server")}if(t===p.Control?o.deepEqual(i,this.aFilters):o.deepEqual(i,this.aApplicationFilters)){return this}if(this.hasPendingChanges(true)){throw new Error("Cannot filter due to pending changes")}if(t===p.Control){this.aFilters=i}else{this.aApplicationFilters=i}this.oQueryOptionsPromise=undefined;this.setResetViaSideEffects(true);if(this.isRootBindingSuspended()){this.setResumeChangeReason(c.Filter);return this}if(this.mParameters.$$clearSelectionOnFilter){this.oHeaderContext?.setSelected(false)}this.createReadGroupLock(this.getGroupId(),true);this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(c.Filter);this.oHeaderContext?.checkUpdate();return this};E.prototype.findContextForCanonicalPath=function(e){var t=Object.values(this.mPreviousContextsByPath).filter(function(e){return e.isEffectivelyKeptAlive()});function i(t){return t.find(function(t){var i;if(t){i=t.fetchCanonicalPath();i.caught();return i.getResult()===e}})}return i(t)||i(this.aContexts)};E.prototype.fireCreateActivate=function(e){if(this.fireEvent("createActivate",{context:e},true)){this.iActiveContexts+=1;return true}return false};E.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",{context:e})};E.prototype.fireSeparateReceived=function(e,t,i,n){const r={property:e,start:t,length:i-t};if(n){r.messagesOnError=this.oModel.reportTransitionMessages(o.extractMessages(n),n.resourcePath,true)}const s=this.fireEvent("separateReceived",r,true);if(n&&s){d.updateMessages(undefined,r.messagesOnError)}};E.prototype.getAggregation=function(e){return o.clone(this.mParameters.$$aggregation,function(t,i){return t[0]==="$"&&!(e&&["$DistanceFromRoot","$DrillState","$NodeProperty"].includes(t))?undefined:i})};E.prototype.getAllCurrentContexts=function(){var e;this.withCache(function(t,i){e=t.getElements(i)},"",true);if(e&&this.createContexts(0,e,true)){this._fireChange({reason:c.Change})}return this._getAllExistingContexts()};E.prototype.getCacheAndMoveKeepAliveContexts=function(e,t){var i,n,r=this;if(!this.mParameters.$$getKeepAliveContext){return undefined}i=this.oModel.releaseKeepAliveBinding("/"+e);if(!i){return undefined}Object.keys(i.mParameters).concat(Object.keys(this.mParameters)).forEach(function(e){if((e[0]!=="$"||e==="$$patchWithoutSideEffects"||e==="$$updateGroupId")&&r.mParameters[e]!==i.mParameters[e]){throw new Error(r+": parameter does not match getKeepAliveContext: "+e)}});this.mLateQueryOptions=o.clone(t);o.aggregateExpandSelect(this.mLateQueryOptions,i.mLateQueryOptions);this.mPreviousContextsByPath=i.mPreviousContextsByPath;Object.values(this.mPreviousContextsByPath).forEach(function(e){e.oBinding=r});n=i.oCache;n.setQueryOptions(t);i.oCache=null;i.oCachePromise=h.resolve(null);i.mPreviousContextsByPath={};i.destroy();return n};E.prototype.getContexts=function(t=0,i,n,r){var s,o,h=false,d,u,f,l=!!this.sChangeReason,g=this.getResolvedPath(),p,C=this;a.debug(this+"#getContexts("+t+", "+i+", "+n+")",undefined,P);this.checkSuspended();if(t!==0&&this.bUseExtendedChangeDetection){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" iStart must be 0 if extended change detection is enabled, but is "+t)}if(this.bUseExtendedChangeDetection){if(n!==undefined){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" iMaximumPrefetchSize must not be set if extended change detection is"+" enabled")}if(r){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" must not use bKeepCurrent if extended change detection is enabled")}}if(n&&r){throw new Error("Unsupported operation: v4.ODataListBinding#getContexts,"+" must not use both iMaximumPrefetchSize and bKeepCurrent")}if(!this.isResolved()){this.aPreviousData=null;return[]}s=this.sChangeReason||c.Change;this.sChangeReason=undefined;if(s==="AddVirtualContext"){this.oModel.addPrerenderingTask(function(){var e=C.bUseExtendedChangeDetection;if(C.aContexts&&!C.isRootBindingSuspended()){C.bUseExtendedChangeDetection=false;C.getContexts(t,i,n);C.bUseExtendedChangeDetection=e}C.oModel.addPrerenderingTask(function(){if(!C.isRootBindingSuspended()){C.sChangeReason="RemoveVirtualContext";C._fireChange({detailedReason:"RemoveVirtualContext",reason:c.Change});C.reset(c.Refresh)}})},true);p=e.create(this.oModel,this,g+"/"+e.VIRTUAL,e.VIRTUAL);C.mPreviousContextsByPath[p.getPath()]=p;return[p]}if(s==="RemoveVirtualContext"||this.oContext&&this.oContext.iIndex===e.VIRTUAL){return[]}i||=this.oModel.iSizeLimit;if(!n||n<0){n=0}if(!this.oDiff){u=this.isRefreshWithoutBubbling();f=this.fetchContexts(t,i,n,undefined,l,function(){if(d===undefined){d=true;C.fireDataRequested(u)}});if(!l&&f.isPending()){this.createContextsForCachedData(t,i)}this.resolveRefreshPromise(f).then(function(e){if(C.bUseExtendedChangeDetection){C.oDiff={aDiff:C.getDiff(i),iLength:i}}if(h){if(e||C.oDiff&&C.oDiff.aDiff?.length){C._fireChange({reason:s})}else{C.oDiff=undefined}}if(d){C.fireDataReceived({data:{}},u)}d=false},function(e){if(d){C.fireDataReceived(e.canceled?{data:{}}:{error:e},u)}throw e}).catch(function(e){C.oModel.reportError("Failed to get contexts for "+C.oModel.sServiceUrl+g.slice(1)+" with start index "+t+" and length "+i,P,e)});h=true}if(!r){this.iCurrentBegin=t;this.iCurrentEnd=t+i}o=this.getContextsInViewOrder(t,i);o.bExpectMore=this._isExpectingMoreContexts(o,t,i);if(this.bUseExtendedChangeDetection){if(this.oDiff&&i!==this.oDiff.iLength){throw new Error("Extended change detection protocol violation: Expected "+"getContexts(0,"+this.oDiff.iLength+"), but got getContexts(0,"+i+")")}o.dataRequested=!this.oDiff;o.diff=this.oDiff?this.oDiff.aDiff:[]}this.oDiff=undefined;return o};E.prototype.getContextsInViewOrder=function(e,t){var i,n,r;if(this.bFirstCreateAtEnd){i=[];n=Math.min(t,this.getLength()-e);for(r=0;r<n;r+=1){i[r]=this.aContexts[this.getModelIndex(e+r)]}}else{i=this.aContexts.slice(e,e+t)}return i};E.prototype.getCount=function(){return this.getHeaderContext()?.getProperty("$count")};E.prototype.getCurrentContexts=function(){var e,t=Math.min(this.iCurrentEnd,this.iMaxLength+this.iCreatedContexts)-this.iCurrentBegin;e=this.getContextsInViewOrder(this.iCurrentBegin,t);if(t<Infinity){while(e.length<t){e.push(undefined)}}return e};E.prototype.getDependentBindings=function(){var e=this;return this.oModel.getDependentBindings(this).filter(function(t){return t.oContext.isEffectivelyKeptAlive()||!(t.oContext.getPath()in e.mPreviousContextsByPath)})};E.prototype.getDiff=function(e){var t=this.aPreviousData,i=this;this.aPreviousData=this.getContextsInViewOrder(0,e).map(function(e){return i.getContextData(e)});return t?this.diffData(t,this.aPreviousData):null};E.prototype.getDistinctValues=function(e){throw new Error("Unsupported operation: v4.ODataListBinding#getDistinctValues")};E.prototype.getDownloadUrl=o.createGetMethod("fetchDownloadUrl",true);E.prototype.getEntryData=function(e){return o.publicClone(e.getValue(),false,true)};E.prototype.getEntryKey=function(e){return e.getPath()};E.prototype.getFilterInfo=function(e){var t=g.combineFilters(this.aFilters,this.aApplicationFilters),i=null,n;if(t){i=t.getAST(e)}if(this.mQueryOptions.$filter){n={expression:this.mQueryOptions.$filter,syntax:"OData "+this.oModel.getODataVersion(),type:"Custom"};if(i){i={left:i,op:"&&",right:n,type:"Logical"}}else{i=n}}return i};E.prototype.getGeneration=function(){return this.oHeaderContext.getGeneration(true)||t.prototype.getGeneration.call(this)};E.prototype.getHeaderContext=function(){return this.isResolved()?this.oHeaderContext:null};E.prototype.getKeepAliveContext=function(t,i,n){var r=this.mPreviousContextsByPath[t]||this.aContexts.find(function(e){return e&&e.getPath()===t}),s=o.getPredicateIndex(t),a=this.getResolvedPath();this.checkKeepAlive();this.checkSuspended();this.checkTransient();o.checkGroupId(n);if(!r){if(!a){throw new Error("Binding is unresolved: "+this)}if(t.slice(0,s)!==a){throw new Error(this+": Not a valid context path: "+t)}r=e.create(this.oModel,this,t);this.mPreviousContextsByPath[t]=r;this.oCachePromise.then(function(e){var i={};o.setPrivateAnnotation(i,"predicate",t.slice(s));e.addKeptElement(i);if(n){o.setPrivateAnnotation(i,"groupId",n)}});this.oModel.getMetaModel().requestObject(o.getMetaPath(a)+"/").then(function(e){return r.requestProperty(e.$Key.map(function(e){return typeof e==="object"?Object.values(e)[0]:e}))}).catch(this.oModel.getReporter())}r.setKeepAlive(true,r.fnOnBeforeDestroy,i);return r};E.prototype.getKeepAlivePredicates=function(){var e;if(!this.getHeaderContext()){return[]}e=this.getHeaderContext().getPath();return Object.values(this.mPreviousContextsByPath).concat(this.aContexts).filter(function(e){return e.isEffectivelyKeptAlive()}).map(function(t){return o.getRelativePath(t.getPath(),e)})};E.prototype.getLength=function(){if(this.bLengthFinal){return this.iMaxLength+this.iCreatedContexts}return this.aContexts.length?this.aContexts.length+10:0};E.prototype.getModelIndex=function(e){if(!this.bFirstCreateAtEnd){return e}if(!this.bLengthFinal){return this.aContexts.length-e-1}return e<this.getLength()-this.iCreatedContexts?e+this.iCreatedContexts:this.getLength()-e-1};E.prototype.getOrderby=function(e){var t=[],i=this;this.aSorters.forEach(function(e){if(e instanceof x){t.push(e.getPath()+(e.isDescending()?" desc":""))}else{throw new Error("Unsupported sorter: "+e+" - "+i)}});if(e){t.push(e)}return t.join(",")};E.prototype.getQueryOptions=function(e){var t={},i=this;if(e){throw new Error("Unsupported parameter value: bWithSystemQueryOptions: "+e)}Object.keys(this.mQueryOptions).forEach(function(e){if(e[0]!=="$"){t[e]=o.clone(i.mQueryOptions[e])}});return t};E.prototype.getQueryOptionsFromParameters=function(){return this.mQueryOptions};E.prototype.getSelectionCount=function(){return this.getHeaderContext()?.getProperty("$selectionCount")};E.prototype.hasFilterNone=function(){return this.aFilters[0]===f.NONE||this.aApplicationFilters[0]===f.NONE};E.prototype.hasPendingChangesForPath=function(e,i){if(this.oCache===undefined){return!i&&this.iActiveContexts>0}return t.prototype.hasPendingChangesForPath.apply(this,arguments)};E.prototype.inheritQueryOptions=function(e,t){var i;if(o.isEmptyObject(this.mParameters)){i=this.getQueryOptionsForPath("",t);if(e.$orderby&&i.$orderby){e.$orderby+=","+i.$orderby}if(e.$filter&&i.$filter){e.$filter="("+e.$filter+") and ("+i.$filter+")"}e=o.merge({},i,e);o.aggregateExpandSelect(e,i)}return e};E.prototype.initialize=function(){if(this.isResolved()){this.checkDataState();if(this.isRootBindingSuspended()){this.sResumeChangeReason=this.sChangeReason==="AddVirtualContext"?c.Change:c.Refresh}else if(this.sChangeReason==="AddVirtualContext"){this._fireChange({detailedReason:"AddVirtualContext",reason:c.Change})}else{this.sChangeReason=c.Refresh;this._fireRefresh({reason:c.Refresh})}}};E.prototype.insertContext=function(e,t,i){if(t!==undefined){o.insert(this.aContexts,t,e);for(let e=this.aContexts.length-1;e>t;e-=1){if(this.aContexts[e]){this.aContexts[e].iIndex+=1}}this.iMaxLength+=1}else if(this.bFirstCreateAtEnd!==i){this.aContexts.splice(this.iCreatedContexts-1,0,e);for(let e=this.iCreatedContexts-1;e>=0;e-=1){this.aContexts[e].iIndex=e-this.iCreatedContexts}}else{this.aContexts.unshift(e)}this._fireChange({reason:c.Add})};E.prototype.insertGap=function(e,t){const i=this.aContexts;if(e>=i.length){throw new Error("Array index out of bounds: "+e)}else if(e===i.length-1){i.length+=t}else{for(let n=i.length-1;n>e;n-=1){const e=i[n];if(e){e.iIndex+=t;i[n+t]=e;delete i[n]}}}this.iMaxLength+=t};E.prototype.isAncestorOf=function(e,t){if(!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}if(!t){return false}[e,t].forEach(e=>{if(this.aContexts[e.iIndex]!==e){throw new Error("Not currently part of a recursive hierarchy: "+e)}});return this.oCache.isAncestorOf(e.iIndex,t.iIndex)};E.prototype.isFirstCreateAtEnd=function(){return this.bFirstCreateAtEnd};E.prototype.isKeepAliveBindingFor=function(e){return this.mParameters.$$getKeepAliveContext&&this.getResolvedPath()===e&&(!this.isRootBindingSuspended()||this.aContexts.length||!o.isEmptyObject(this.mPreviousContextsByPath))};E.prototype.isLengthFinal=function(){return this.bLengthFinal};E.prototype.isUnchangedParameter=function(e,i){if(e==="$$aggregation"){if(!i){return this.mParameters.$$aggregation===i}i=o.clone(i);n.buildApply(i);return o.deepEqual(o.cloneNo$(this.mParameters.$$aggregation),o.cloneNo$(i))}return t.prototype.isUnchangedParameter.apply(this,arguments)};E.prototype.keepOnlyVisibleContexts=function(){const e=this.aContexts.slice(0,this.iCreatedContexts);const t=e.concat(this.getCurrentContexts().filter(t=>t&&!e.includes(t)));Object.keys(this.mPreviousContextsByPath).forEach(e=>{var i=this.mPreviousContextsByPath[e];if(i.isEffectivelyKeptAlive()){t.push(i)}});let i=0;function n(e,n,r){if(n.created()){t.push(n);i=e+r+1}else{delete this.aContexts[e+r];this.destroyLater(n)}}this.aContexts.slice(this.iCreatedContexts,this.iCurrentBegin).forEach(n.bind(this,this.iCreatedContexts));if(this.aContexts.length>this.iCurrentEnd&&this.iCurrentEnd>=this.iCreatedContexts){this.aContexts.slice(this.iCurrentEnd).forEach(n.bind(this,this.iCurrentEnd));this.aContexts.length=Math.max(i,this.iCurrentEnd)}return t.filter(e=>!e.getProperty("@$ui5.context.isTransient"))};E.prototype.move=function(e,t,i,n){const r=(e,t)=>{if(e>t){[e,t]=[t,e]}for(let i=e;i<=t;i+=1){if(this.aContexts[i]){this.aContexts[i].iIndex=i}}};if(!this.mParameters.$$aggregation?.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}this.checkSuspended();const s=this.getUpdateGroupId();const a=this.lockGroup(s,true,true);const d=e.getCanonicalPath().slice(1);const u=t===null?null:t.getCanonicalPath().slice(1);const f=i===null?null:i?.getCanonicalPath().slice(1);const l=i===undefined?undefined:e.getPath().slice(1);const g=i?.isEffectivelyKeptAlive();const{promise:p,refresh:C}=this.oCache.move(a,d,u,f,l,g,n);if(C){return h.all([p,this.requestSideEffects(s,[""])]).then(([t])=>{const[r,s,o]=t();e.iIndex=r;if(g){i.iIndex=s}if(n){return o}})}return p.then(([i,n,s])=>{if(i>1){this.insertGap(t.getModelIndex(),i-1)}if(s){this.collapse(e,false,true,s)}const a=e.getModelIndex();this.aContexts.splice(a,1);o.insert(this.aContexts,n,e);r(a,n);if(s){this.expand(e,1).unwrap()}else{this._fireChange({reason:c.Change})}})};E.prototype.onChange=function(){var e,t=this;if(!this.oRefreshPromise){if(this.isRootBindingSuspended()){this.sResumeAction="onChange"}else{e=this.getDependentBindings();this.reset(c.Refresh);h.all(e.map(function(e){return e.refreshInternal("")})).then(function(){return t.oHeaderContext.checkUpdateInternal()}).catch(this.oModel.getReporter())}}};E.prototype.onKeepAliveChanged=function(e){if(!e.isDeleted()&&e.getPath()in this.mPreviousContextsByPath&&!e.isEffectivelyKeptAlive()){this.destroyPreviousContextsLater([e.getPath()])}};E.prototype.prepareDeepCreate=function(t,i){var n=this;if(!t){return!i}if(t.iIndex===e.VIRTUAL){return true}if(!t.getPath().includes("($uid=")){return!i}this.mCacheQueryOptions=i;if(!this.oModel.bAutoExpandSelect||E.isBelowAggregation(t)){return true}t.withCache(function(t,r){var s=t.addTransientCollection(r,i&&i.$select),a=n.getResolvedPath();n.aContexts=s.map(function(t,i){var r,h=o.getPrivateAnnotation(t,"transientPredicate"),d=o.getPrivateAnnotation(t,"promise");r=e.create(n.oModel,n,a+h,i-s.length,d,false,true);r.created().catch(n.oModel.getReporter());o.setPrivateAnnotation(t,"context",r);o.setPrivateAnnotation(t,"firstCreateAtEnd",false);o.deletePrivateAnnotation(t,"promise");return r});n.iCreatedContexts=n.iActiveContexts=n.aContexts.length;n.bFirstCreateAtEnd=false},this.sPath);return true};E.prototype.refreshInternal=function(e,t,i,n,r){var s=this;function o(i){return i.map(function(i){if(i.bIsBeingDestroyed||i.getContext().isEffectivelyKeptAlive()&&i.hasPendingChanges()){return}return i.refreshInternal(e,t,false,n,r)})}if(this.isRootBindingSuspended()){if(this.bSharedRequest){this.sResumeAction="resetCache"}else{this.refreshSuspended(t);this.bRefreshKeptElements=true}return h.all(o(s.getDependentBindings()))}this.createReadGroupLock(t,this.isRoot());return this.oCachePromise.then(function(i){var a=s.iActiveContexts,d=s.iCreatedContexts,u=s.aContexts.slice(0,d),f,l,g=s.oRefreshPromise;if(i&&!g){s.removeCachesAndMessages(e);if(s.bSharedRequest){g=s.createRefreshPromise();i.reset([])}else{s.fetchCache(s.oContext,false,true,t,n,r);l=s.refreshKeptElements(t,n);if(s.iCurrentEnd>0){g=s.createRefreshPromise(n).catch(function(e){if(!n||e.canceled){throw e}return s.fetchResourcePath(s.oContext).then(function(t){var n;if(!s.bRelative||i.getResourcePath()===t){if(s.oCache===i){i.restore(true)}else{i.setActive(true);s.oCache=i;s.oCachePromise=h.resolve(i)}s.iActiveContexts=a;s.iCreatedContexts=d;for(n=0;n<d;n+=1){u[n].iIndex=n-d;delete s.mPreviousContextsByPath[u[n].getPath()]}s.aContexts=u;s._fireChange({reason:c.Change})}throw e})}).finally(function(){if(i.restore){i.restore(false)}})}}}f=s.getDependentBindings();s.reset(c.Refresh,!i||(n?false:undefined),t);return h.all(o(f).concat(g,l)).then(function(){return s.oHeaderContext?.checkUpdateInternal()})})};E.prototype.refreshKeptElements=function(e,t){var i=this;return this.oCachePromise.then(function(n){return n.refreshKeptElements(i.lockGroup(e),function e(t,n){var r=n>=0?i.aContexts[n]:i.mPreviousContextsByPath[i.getResolvedPath()+t];r.resetKeepAlive();if(n>=0){i.removeCreated(r)}},t)}).catch(function(e){i.oModel.reportError("Failed to refresh kept-alive elements",P,e);throw e})};E.prototype.refreshSingle=function(e,t,i,n,r){var s=e.getPath(),a=s.slice(1),d=this;if(e===this.oHeaderContext){throw new Error("Unsupported header context: "+e)}if(i&&r){throw new Error("Unsupported: bAllowRemoval && bWithMessages")}return this.withCache(function(u,f,l){var g=false,p=false,C=e.getModelIndex(),x=o.getRelativePath(s,d.oHeaderContext.getPath()),v=[];function m(e){if(g){d.fireDataReceived(e)}}function y(){if(!n){g=true;d.fireDataRequested()}}function E(t){var i=e.getModelIndex(),n;if(e.iIndex<0){if(t){d.mPreviousContextsByPath[s]=e}else{e.resetKeepAlive();p=true}d.removeCreated(e)}else{if(i===undefined){delete d.mPreviousContextsByPath[s]}else{d.aContexts.splice(i,1);d.iMaxLength-=1;for(n=i;n<d.aContexts.length;n+=1){if(d.aContexts[n]){d.aContexts[n].iIndex-=1}}if(t){d.mPreviousContextsByPath[s]=e}}if(!t){p=true;e.doSetSelected(false,true);e.destroy()}}if(i!==undefined){d._fireChange({reason:c.Remove})}}if(C<0){throw new Error("Cannot refresh. Hint: Side-effects refresh in parallel? "+e)}v.push((i?u.refreshSingleWithRemove(t,f,C,x,e.isEffectivelyKeptAlive(),y,E):u.refreshSingle(t,f,C,x,e.isKeepAlive(),r,y)).then(function(){var r=[];m({data:{}});l.checkSameCache(u);if(!p){r.push(e.checkUpdateInternal());if(i){r.push(e.refreshDependentBindings(a,t.getGroupId(),false,n))}}return h.all(r)},function(e){m({error:e});throw e}).catch(function(i){t.unlock(true);d.oModel.reportError("Failed to refresh entity: "+e,P,i);if(!i.canceled){throw i}}));if(!i){v.push(e.refreshDependentBindings(a,t.getGroupId(),false,n))}return h.all(v)})};E.prototype.removeCreated=function(e){var t,i;if(this.mParameters.$$aggregation){this.iMaxLength-=1;t=this.aContexts.indexOf(e);for(i=this.aContexts.length-1;i>t;i-=1){if(this.aContexts[i]){this.aContexts[i].iIndex-=1}}}else{t=e.getModelIndex();this.iCreatedContexts-=1;if(!this.iCreatedContexts){this.bFirstCreateAtEnd=undefined}if(!e.isInactive()){this.iActiveContexts-=1}for(i=0;i<t;i+=1){this.aContexts[i].iIndex+=1}}this.aContexts.splice(t,1);e.iIndex=undefined;if(!e.isEffectivelyKeptAlive()){this.destroyLater(e)}};E.prototype.requestContexts=function(e=0,t,i){var n=this;if(!this.isResolved()){throw new Error("Unresolved binding: "+this.sPath)}this.checkSuspended();o.checkGroupId(i);t||=this.oModel.iSizeLimit;const r=i&&this.lockGroup(i,true);return Promise.resolve(this.fetchContexts(e,t,0,r)).then(function(i){if(i){n._fireChange({reason:c.Change})}return n.getContextsInViewOrder(e,t)},function(i){n.oModel.reportError("Failed to get contexts for "+n.oModel.sServiceUrl+n.getResolvedPath().slice(1)+" with start index "+e+" and length "+t,P,i);throw i})};E.prototype.requestDownloadUrl=o.createRequestMethod("fetchDownloadUrl");E.prototype.requestFilterForMessages=function(e){var t=this.oModel.getMetaModel(),i,n=this.oHeaderContext&&this.oHeaderContext.getPath(),r=this;this.checkTransient();if(!n){return Promise.resolve(null)}i=o.getMetaPath(n);return t.requestObject(i+"/").then(function(s){var a,h={},d=false;r.oModel.getMessagesByPath(n,true).filter(function(t){return!e||e(t)}).forEach(function(e){e.getTargets().forEach(function(e){var t=e.slice(n.length).split("/")[0];if(t){if(t.startsWith("($uid=")){d=true}else{h[t]=true}}})});a=Object.keys(h).map(function(e){return o.getFilterForPredicate(e,s,t,i)});if(a.length===0){return d?f.NONE:null}return a.length===1?a[0]:new f({filters:a})})};E.prototype.requestSelectedContexts=function(e){if(this.bSharedRequest){throw new Error("Unsupported $$sharedRequest at "+this)}if("$$aggregation"in this.mParameters){throw new Error("Unsupported $$aggregation at "+this)}this.checkSuspended();this.checkTransient();if(this.oHeaderContext.isSelected()){throw new Error('Unsupported "Select All": '+this.oHeaderContext)}if(this.hasPendingChanges()){throw new Error("Unsupported pending changes")}o.checkGroupId(e);const t={};const i=this.getResolvedPath().length;const n=this._getAllExistingContexts().filter(e=>e.isSelected()).map(e=>{t[e.getPath()]=e;return e.getPath().slice(i)});if(!n.length){return Promise.resolve([])}return this.oCache.requestFilteredOrderedPredicates(n,this.lockGroup(e)).then(e=>e.map(e=>t[this.oHeaderContext.getPath()+e]))};E.prototype.requestSideEffects=function(e,t,i){var r=this.oModel,s,a,d=i&&i!==this.oHeaderContext,u=this;function c(e){return e.catch(function(e){r.reportError("Failed to request side effects",P,e);if(!e.canceled){throw e}})}if(o.isDataAggregation(this.mParameters)){if(d){throw new Error("Must not request side effects when using data aggregation")}if(n.isAffected(this.mParameters.$$aggregation,this.aFilters.concat(this.aApplicationFilters),t)){return this.refreshInternal("",e,false,true)}return h.resolve()}if(!d&&this.oCache&&this.oCache.isDeletingInOtherGroup(e)){throw new Error("Must not request side effects when there is a pending delete in a"+" different batch group")}if(this.oCache&&this.oCache.getPendingRequestsPromise()){return h.resolve(this.oCache.getPendingRequestsPromise()).then(function(){return u.requestSideEffects(e,t,i)})}if(t.indexOf("")<0){s=o.getPredicates(d?[i]:this.keepOnlyVisibleContexts());if(s){a=this.oCache?[this.oCache.requestSideEffects(this.lockGroup(e),t,s,d,d)]:[];this.visitSideEffects(e,t,d?i:undefined,a);return h.all(a.map(c)).then(function(){return u.refreshDependentListBindingsWithoutCache()})}}if(d){r.withUnresolvedBindings("removeCachesAndMessages",i.getPath().slice(1));return this.refreshSingle(i,this.lockGroup(e),false,true,true)}if(this.iCurrentEnd===0){return h.resolve()}return this.refreshInternal("",e,false,true)};E.prototype.reset=function(e,t,i){var n=0,r=this.iCurrentEnd===0,s=i&&i!==this.getUpdateGroupId(),o,a=this;if(t===true){this.iActiveContexts=0;this.iCreatedContexts=0}if(this.aContexts){this.aContexts.slice(this.iCreatedContexts).forEach(function(e){a.mPreviousContextsByPath[e.getPath()]=e});for(o=0;o<this.iCreatedContexts;o+=1){const e=this.aContexts[o];if(t===false?s&&e.isTransient()||e.isInactive()!==undefined:e.isTransient()){this.aContexts[n]=e;n+=1}else{this.iActiveContexts-=1;this.mPreviousContextsByPath[e.getPath()]=e}}for(o=0;o<n;o+=1){this.aContexts[o].iIndex=o-n}this.aContexts.length=this.iCreatedContexts=n}else{this.aContexts=[]}if(!this.iCreatedContexts){this.bFirstCreateAtEnd=undefined}this.iCurrentBegin=this.iCurrentEnd=0;this.iMaxLength=Infinity;this.bLengthFinal=false;if(e&&!(r&&e===c.Change)&&this.isResolved()){this.sChangeReason=e;this._fireRefresh({reason:e})}};E.prototype.resetKeepAlive=function(){var e=this.mPreviousContextsByPath;Object.keys(e).forEach(function(t){e[t].resetKeepAlive()});this.aContexts.forEach(function(e){e.resetKeepAlive()})};E.prototype.restoreCreated=function(){var e=this;this.withCache(function(t,i){if(e.aContexts.length){return}t.getCreatedElements(i).forEach(function(t,i){e.aContexts[i]=o.getPrivateAnnotation(t,"context");e.bFirstCreateAtEnd=o.getPrivateAnnotation(t,"firstCreateAtEnd");e.iCreatedContexts+=1;if(!t["@$ui5.context.isInactive"]){e.iActiveContexts+=1}})}).catch(this.oModel.getReporter())};E.prototype.resumeInternal=function(e,t){var i=this.sResumeAction,n=this.sResumeChangeReason,r=t||i||n;this.sResumeAction=undefined;this.sResumeChangeReason=undefined;if(r){if(this.mParameters.$$clearSelectionOnFilter&&n===c.Filter){this.oHeaderContext?.setSelected(false)}this.removeCachesAndMessages("");if(i==="onChange"){this.onChange();return}if(i==="resetCache"){this.oCache.reset([]);return}this.reset();this.fetchCache(this.oContext,!t);if(this.bRefreshKeptElements){this.bRefreshKeptElements=false;this.refreshKeptElements(this.getGroupId())}}this.getDependentBindings().forEach(function(e){e.resumeInternal(!r,!!n&&!e.oContext.isEffectivelyKeptAlive())});if(this.sChangeReason==="AddVirtualContext"){this._fireChange({detailedReason:"AddVirtualContext",reason:n})}else if(n){this._fireRefresh({reason:n})}else{this.removeReadGroupLock()}this.oHeaderContext.checkUpdate()};E.prototype.setAggregation=function(e){var t;function i(e){return e&&!!e.hierarchyQualifier}this.checkTransient();if(this.isUnchangedParameter("$$aggregation",e)){return}if(this.hasFilterNone()){throw new Error("Cannot combine Filter.NONE with $$aggregation")}if(this.hasPendingChanges()){throw new Error("Cannot set $$aggregation due to pending changes")}if(i(this.mParameters.$$aggregation)!==i(e)&&this.getKeepAlivePredicates().length){throw new Error("Cannot set $$aggregation due to a kept-alive context")}t=Object.assign({},this.mParameters);if(e===undefined){delete t.$$aggregation}else{t.$$aggregation=o.clone(e)}this.applyParameters(t,"")};E.prototype.setContext=function(t){var i;if(this.oContext!==t){if(this.bRelative){this.checkSuspended(true);this.reset(undefined,true);this.resetKeepAlive();this.fetchCache(t);if(t){this.restoreCreated();i=this.oModel.resolve(this.sPath,t);if(this.oHeaderContext&&this.oHeaderContext.getPath()!==i){this.oHeaderContext.doSetSelected(false);this.mPreviousContextsByPath[this.oHeaderContext.getPath()]=this.oHeaderContext;this.oHeaderContext=null}this.oHeaderContext??=e.create(this.oModel,this,i);if(this.mParameters.$$aggregation){n.setPath(this.mParameters.$$aggregation,i)}else if(!o.isEmptyObject(this.mChildPathsReducedToParent)&&this.oModel.bAutoExpandSelect){this.mCanUseCachePromiseByChildPath={};this.sChangeReason="AddVirtualContext"}if(t.getBinding&&t.getBinding().isRootBindingSuspended()){this.oContext=t;this.setResumeChangeReason(c.Context);return}}u.prototype.setContext.call(this,t,{detailedReason:this.sChangeReason})}else{this.oContext=t}}};E.prototype.setResetViaSideEffects=function(e){if(!e){this.bResetViaSideEffects=false}else if(this.bResetViaSideEffects===undefined){this.bResetViaSideEffects=true}};E.prototype.sort=function(e){var t=o.toArray(e);this.checkTransient();if(this.sOperationMode!==v.Server){throw new Error("Operation mode has to be sap.ui.model.odata.OperationMode.Server")}if(o.deepEqual(t,this.aSorters)){return this}if(this.hasPendingChanges(true)){throw new Error("Cannot sort due to pending changes")}this.aSorters=t;this.oQueryOptionsPromise=undefined;this.setResetViaSideEffects(true);if(this.isRootBindingSuspended()){this.setResumeChangeReason(c.Sort);return this}this.createReadGroupLock(this.getGroupId(),true);this.removeCachesAndMessages("");this.fetchCache(this.oContext);this.reset(c.Sort);if(this.oHeaderContext){this.oHeaderContext.checkUpdate()}return this};E.prototype.updateAfterCreate=function(e,i){var n,r,a=this;if(this.iCreatedContexts){if(e){this.reset(c.Change,true)}else{this.reset(undefined,true);r=this.fetchContexts(0,Infinity,0,s.$cached).then(function(){a.iCurrentEnd=a.aContexts.length;return a.requestSideEffects(i,o.getMissingPropertyPaths(a.fetchValue("",null,true).getResult(),a.mAggregatedQueryOptions))}).then(function(){a._fireChange({reason:c.Change})})}n=h.all([r,t.prototype.updateAfterCreate.apply(this,arguments)])}else{n=this.refreshInternal("",i)}return n};E.prototype.updateAnalyticalInfo=function(e){var t={aggregate:{},group:{},search:this.mParameters.$$aggregation&&this.mParameters.$$aggregation.search},i=false,n=this;e.forEach(function(e){var n={};if("total"in e){if("grouped"in e){throw new Error("Both dimension and measure: "+e.name)}if(e.as){n.name=e.name;t.aggregate[e.as]=n}else{t.aggregate[e.name]=n}if(e.min){n.min=true;i=true}if(e.max){n.max=true;i=true}if(e.with){n.with=e.with}}else if(!("grouped"in e)||e.inResult||e.visible){t.group[e.name]=n}});this.bHasAnalyticalInfo=true;this.setAggregation(t);if(i){return{measureRangePromise:Promise.resolve(this.getRootBindingResumePromise().then(function(){return n.oCachePromise}).then(function(e){return e.getMeasureRangePromise()}))}}};E.prototype.validateSelection=function(e,t){if(!this.mParameters.$$clearSelectionOnFilter||o.isDataAggregation(this.mParameters)||this.oHeaderContext.isSelected()){return}const i=this._getAllExistingContexts(true).filter(e=>e.isSelected());if(!i.length){return}const n=this.getResolvedPath().length;const r=i.map(e=>e.getPath().slice(n));e.requestFilteredOrderedPredicates(r,this.lockGroup(t),true).then(e=>{const t=new Set(e);i.forEach(e=>{if(!t.has(e.getPath().slice(n))){e.setSelected(false)}})},e=>{this.oModel.reportError("Failed to validate selection",P,e)})};E.isBelowAggregation=function(e){return!!e?.getBinding?.().getAggregation?.()};E.isBelowCreated=function(e){var t;if(!(e&&e.getBinding)){return false}if(e.isTransient()===false){return true}t=e.getBinding();return t&&t.isRelative()&&E.isBelowCreated(t.getContext())};return E});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataMetaModel", ["./AnnotationHelper","./ValueListType","./lib/_Helper","sap/base/assert","sap/base/Log","sap/base/util/JSTokenizer","sap/base/util/ObjectPath","sap/ui/base/ManagedObject","sap/ui/base/SyncPromise","sap/ui/model/BindingMode","sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding","sap/ui/model/Context","sap/ui/model/ContextBinding","sap/ui/model/MetaModel","sap/ui/model/PropertyBinding","sap/ui/model/odata/OperationMode","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Byte","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Double","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int16","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/Int64","sap/ui/model/odata/type/Raw","sap/ui/model/odata/type/SByte","sap/ui/model/odata/type/Single","sap/ui/model/odata/type/Stream","sap/ui/model/odata/type/String","sap/ui/model/odata/type/TimeOfDay","sap/ui/thirdparty/URI"],function(e,t,n,i,r,o,a,s,u,l,f,c,d,p,h,y,g,m,$,v,M,b,O,C,P,E,A,w,S,U,x,T,j,L){"use strict";var R=s.extend("sap.ui.model.odata.v4._any",{metadata:{properties:{any:"any"}}}),D,I={},V=Object.freeze({$kind:"Property",$Type:"Edm.Int64","@$ui5.$count":true}),k=r.Level.DEBUG,q=Object.freeze({$kind:"Property",$Type:"Edm.Untyped"}),N={$kind:"ComplexType",$OpenType:true,bbox:{$kind:"Property",$Type:"Edm.Double",$isCollection:true},type:{$kind:"Property",$Nullable:false,$Type:"Edm.String"}},B={...N,coordinates:{$kind:"Property",$Nullable:false,$Type:"Edm.Double",$isCollection:true}},_={"Edm.Geography":{...N,$Abstract:true},"Edm.GeographyLineString":B,"Edm.GeographyMultiLineString":B,"Edm.GeographyMultiPoint":B,"Edm.GeographyMultiPolygon":B,"Edm.GeographyPoint":B,"Edm.GeographyPolygon":B},F=["$count","$selectionCount","@$ui5.node.groupLevelCount","@$ui5.node.level"],G,W=/\$\(/g,z=/^-?\d+$/,K="sap.ui.model.odata.v4.ODataMetaModel",H=/\(.*\)$/,Q=new w,J=/\$\)/g,X={messageChange:true},Y={"Edm.Boolean":{Type:m},"Edm.Byte":{Type:$},"Edm.Date":{Type:v},"Edm.DateTimeOffset":{constraints:{$Precision:"precision"},Type:M},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},Type:b},"Edm.Double":{Type:O},"Edm.Guid":{Type:C},"Edm.Int16":{Type:P},"Edm.Int32":{Type:E},"Edm.Int64":{Type:A},"Edm.SByte":{Type:S},"Edm.Single":{Type:U},"Edm.Stream":{Type:x},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength"},Type:T},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},Type:j}},Z={},ee="@com.sap.vocabularies.Common.v1.ValueList",te="@com.sap.vocabularies.Common.v1.ValueListMapping",ne="@com.sap.vocabularies.Common.v1.ValueListReferences",ie="@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers",re="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues",oe=r.Level.WARNING,ae,se=h.extend("sap.ui.model.odata.v4.ODataMetaModel",{constructor:he}),ue,le;function fe(e,t){if(e===t){return""}if(e.startsWith(t)&&e[t.length]==="#"&&!e.includes("@",t.length)){return e.slice(t.length+1)}}function ce(e){var t=fe(e,te);return t!==undefined?t:fe(e,ee)}function de(e,t){return t.some(function(t){return e==="$ReturnType"?t.$ReturnType:t.$Parameter&&t.$Parameter.some(function(t){return t.$Name===e})})}function pe(e){return e.slice(0,e.lastIndexOf(".")+1)}ae=p.extend("sap.ui.model.odata.v4.ODataMetaContextBinding",{constructor:function(e,t,n){i(!n||n.getModel()===e,"oContext must belong to this model");p.call(this,e,t,n)},initialize:function(){var e=this.oModel.createBindingContext(this.sPath,this.oContext);this.bInitial=false;if(e!==this.oElementContext){this.oElementContext=e;this._fireChange()}},setContext:function(e){i(!e||e.getModel()===this.oModel,"oContext must belong to this model");if(e!==this.oContext){this.oContext=e;if(!this.bInitial){this.initialize()}}}});ue=c.extend("sap.ui.model.odata.v4.ODataMetaListBinding",{constructor:function(){c.apply(this,arguments)},_fireFilter:function(){},_fireSort:function(){},checkUpdate:function(e){var t=this.oList.length;this.update();if(e||this.oList.length!==t){this._fireChange({reason:f.Change})}},fetchContexts:function(){var e,t=this.getResolvedPath(),n=this;if(!t){return u.resolve([])}e=t.endsWith("@");if(!e&&!t.endsWith("/")){t+="/"}return this.oModel.fetchObject(t).then(function(i){if(!i){return[]}if(e){t=t.slice(0,-1)}return Object.keys(i).filter(function(t){return t[0]!=="$"&&e!==(t[0]!=="@")}).map(function(e){return new d(n.oModel,t+e)})})},getContexts:function(e,t){this.iCurrentStart=e||0;this.iCurrentLength=Math.min(t||Infinity,this.iLength-this.iCurrentStart);return this.getCurrentContexts()},getCurrentContexts:function(){var e=[],t,n=this.iCurrentStart+this.iCurrentLength;for(t=this.iCurrentStart;t<n;t+=1){e.push(this.oList[this.aIndices[t]])}if(this.oList.dataRequested){e.dataRequested=true}return e},setContexts:function(e){this.oList=e;this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength()},update:function(){var e=[],t=this.fetchContexts(),n=this;if(t.isFulfilled()){e=t.getResult()}else{t.then(function(e){n.setContexts(e);n._fireChange({reason:f.Change})});e.dataRequested=true}this.setContexts(e)}});le=y.extend("sap.ui.model.odata.v4.ODataMetaPropertyBinding",{constructor:function(){y.apply(this,arguments);this.vValue=undefined},checkUpdate:function(e,t){var n,i=this;function r(n){if(e||n!==i.vValue){i.vValue=n;i._fireChange({reason:t||f.Change})}return n}n=this.oModel.fetchObject(this.sPath,this.oContext,this.mParameters).then(r);if(this.mParameters&&this.mParameters.$$valueAsPromise&&n.isPending()){r(n.unwrap())}else if(n.isRejected()){n.unwrap()}},getValue:function(){return this.vValue},setContext:function(e){if(this.oContext!==e){this.oContext=e;if(this.bRelative){this.checkUpdate(false,f.Context)}}},setValue:function(){throw new Error("Unsupported operation: ODataMetaPropertyBinding#setValue")}});function he(e,t,n,i,r,o){h.call(this);this.aAnnotationUris=n&&!Array.isArray(n)?[n]:n;this.sDefaultBindingMode=l.OneTime;this.mETags={};this.sForbiddenSchema=undefined;this.sLanguage=o;this.oLastModified=new Date(0);this.oMetadataPromise=null;this.oMetaModelForAnnotations=null;this.oModel=i;this.mMetadataUrl2Promise={};this.oRequestor=e;this.mSchema2MetadataUrl={};this.mSharedModelByUrl={};this.mSupportedBindingModes={OneTime:true,OneWay:true};this.bSupportReferences=r!==false;this.mUnsupportedFilterOperators={All:true,Any:true,NotAll:true,NotAny:true};this.sUrl=t}se.prototype.$$valueAsPromise=true;se.prototype._addUrlForSchema=function(e,t,n){var i,r=this.mSchema2MetadataUrl[e];if(!r){r=this.mSchema2MetadataUrl[e]={};r[t]=false}else if(!(t in r)){i=Object.keys(r)[0];if(r[i]){this._reportAndThrowError("A schema cannot span more than one document: "+e+" - expected reference URI "+i+" but instead saw "+t,n)}r[t]=false}};se.prototype._changeAnnotations=function(e){if(this.oMetaModelForAnnotations){Object.keys(e).forEach(t=>{if(e[t].$kind==="Schema"){this._doMergeAnnotations({$Annotations:this.oMetaModelForAnnotations._getAnnotationsForSchema(t)},e.$Annotations,true)}})}this.aAnnotationChanges?.forEach(({path:t,value:n})=>{const i=t.indexOf("@");const r=this.getObject(t.slice(0,i)+"@$ui5.target");if(r){e.$Annotations[r]??={};e.$Annotations[r][t.slice(i)]=n}})};se.prototype._copyAnnotations=function(e){if(this.aAnnotationUris){throw new Error("Must not copy annotations when there are local annotation files")}this.oMetaModelForAnnotations=e};se.prototype._doMergeAnnotations=function(e,t,n){let i=false;function r(e,t){for(const r in t){if(n||!(r in e)){e[r]=t[r];i=true}}}for(const n in e.$Annotations){t[n]??={};r(t[n],e.$Annotations[n])}delete e.$Annotations;return i};se.prototype._getAnnotationsForSchema=function(e){const t={};const n=this.fetchEntityContainer().getResult();Object.keys(n.$Annotations).forEach(i=>{if(i.startsWith(e)){t[i]=n.$Annotations[i]}});return t};se.prototype._getOrFetchSchema=function(e,t,n){var i,r,o,a,s=this;function l(i){if(!(t in i)){n(oe,r," does not contain ",t);return}n(k,"Including ",t," from ",r);let o=false;for(const n in i){if(n[0]!=="$"&&pe(n)===t){e[n]=i[n];if(s._doMergeAnnotations(e[n],e.$Annotations)){o=true}}}if(o){s._changeAnnotations(e)}}if(t in e){return e[t]}a=this.mSchema2MetadataUrl[t];if(a){o=Object.keys(a);if(o.length>1){this._reportAndThrowError("A schema cannot span more than one document: "+"schema is referenced by following URLs: "+o.join(", "),t)}r=o[0];a[r]=true;n(k,"Namespace ",t," found in $Include of ",r);i=this.mMetadataUrl2Promise[r];if(!i){n(k,"Reading ",r);i=this.mMetadataUrl2Promise[r]=u.resolve(this.oRequestor.read(r)).then(this.validate.bind(this,r))}i=i.then(l);if(t in e){return e[t]}e[t]=i;return i}};se.prototype._mergeAnnotations=function(e,t){var n=this;this.validate(this.sUrl,e);e.$Annotations={};Object.keys(e).forEach(function(t){if(e[t].$kind==="Schema"){n._addUrlForSchema(t,n.sUrl);n._doMergeAnnotations(e[t],e.$Annotations)}});t.forEach(function(t,i){var r,o;n.validate(n.aAnnotationUris[i],t);for(o in t){if(o[0]!=="$"){if(o in e){n._reportAndThrowError("A schema cannot span more than one document: "+o,n.aAnnotationUris[i])}r=t[o];e[o]=r;if(r.$kind==="Schema"){n._addUrlForSchema(o,n.aAnnotationUris[i]);n._doMergeAnnotations(r,e.$Annotations,true)}}}})};se.prototype._reportAndThrowError=function(e,t){var n=new Error(t+": "+e);this.oModel.reportError(e,K,n);throw n};se.prototype._setForbiddenSchema=function(e){this.sForbiddenSchema=e};se.prototype.attachEvent=function(e,t,n,i){if(!(e in X)){throw new Error("Unsupported event '"+e+"': v4.ODataMetaModel#attachEvent")}return h.prototype.attachEvent.apply(this,arguments)};se.prototype.bindContext=function(e,t){return new ae(this,e,t)};se.prototype.bindList=function(e,t,n,i){return new ue(this,e,t,n,i)};se.prototype.bindProperty=function(e,t,n){return new le(this,e,t,n)};se.prototype.bindTree=function(e,t,n,i,r){throw new Error("Unsupported operation: v4.ODataMetaModel#bindTree")};se.prototype.destroy=function(){this.oMetaModelForAnnotations=undefined;Object.values(this.mSharedModelByUrl).forEach(e=>e.destroy());this.mSharedModelByUrl=undefined;h.prototype.destroy.apply(this)};se.prototype.fetchCanonicalPath=function(e){return this.fetchUpdateData("",e).then(function(t){if(!t.editUrl){throw new Error(e.getPath()+": No canonical path for transient entity")}if(t.propertyPath){throw new Error("Context "+e.getPath()+" does not point to an entity. It should be "+t.entityPath)}return"/"+t.editUrl})};se.prototype.fetchData=function(){return this.fetchEntityContainer().then(function(e){return JSON.parse(JSON.stringify(e))})};se.prototype.fetchEntityContainer=function(e){var t,n=this;if(!this.oMetadataPromise){t=[u.resolve(this.oRequestor.read(this.sUrl,false,e))];if(this.aAnnotationUris){this.aAnnotationUris.forEach(function(i){t.push(u.resolve(n.oRequestor.read(i,true,e)))})}if(!e){t.push(this.oModel._requestAnnotationChanges());this.oMetadataPromise=u.all(t).then(function(e){var t=Object.assign(e[0],_);n.aAnnotationChanges=e.pop();n._mergeAnnotations(t,e.slice(1));return t});this.oMetadataPromise.then(e=>this._changeAnnotations(e),()=>{})}}return this.oMetadataPromise};se.prototype.fetchObject=function(e,t,n){var i=this.resolve(e,t),s=this;if(!i){r.error("Invalid relative path w/o context",e,K);return u.resolve(null)}return this.fetchEntityContainer().then(function(l){var f,c,p,h,y,g,m,$,v,M,b;function O(e,t,n=""){var i,r,o,a,s="";if(t){r=t.indexOf("@@");if(r>0){t=t.slice(0,r)}}else{t=e}if(f){$=a=b.filter(E);if(a.length!==1){return A(oe,"Expected a single overload, but found ",a.length)}if(f!==Z){s=a[0].$Parameter[0].$isCollection?"Collection("+f+")":f}o=M+"("+s+")"+n;if(l.$Annotations[o]){if(t==="@"){b=l.$Annotations[o];i=l.$Annotations[M+n];if(i){b=Object.assign({},i,b)}return false}if(t in l.$Annotations[o]){M=o;b=l;return true}}}M+=n;b=l;return true}function C(e,t){var i,r,u,l=e.indexOf("@",2);if(l>-1){return A(oe,"Unsupported path after ",e.slice(0,l))}e=e.slice(2);u=e.indexOf("(");if(u>0){if(!e.endsWith(")")){return A(oe,"Expected ')' instead of '",e.slice(-1),"'")}try{r=o.parseJS("["+e.slice(u+1,-1).replace(W,"{").replace(J,"}")+"]")}catch(e){return A(oe,e.message,": ",e.text.slice(1,e.at),"<--",e.text.slice(e.at,-1))}e=e.slice(0,u)}i=e[0]==="."?a.get(e.slice(1),n.scope):n&&a.get(e,n.scope)||(e==="requestCurrencyCodes"||e==="requestUnitsOfMeasure"?s[e].bind(s):a.get(e));if(typeof i!=="function"){return A(oe,e," is not a function but: "+i)}try{b=i(b,{$$valueAsPromise:n&&n.$$valueAsPromise,arguments:r,context:new d(s,t),schemaChildName:v,overload:$.length===1?$[0]:undefined})}catch(t){A(oe,"Error calling ",e,": ",t)}return true}function P(e,t){var n;if(e==="$ReturnType"){if(t.$ReturnType){b=t.$ReturnType;return true}}else if(e&&t.$Parameter){n=t.$Parameter.filter(function(t){return t.$Name===e});if(n.length){b=n[0];return true}}return false}function E(e){return!e.$IsBound&&f===Z||e.$IsBound&&f===e.$Parameter[0].$Type}function A(e){var t;if(r.isLoggable(e,K)){t=Array.isArray(h)?h.join("/"):h;r[e===k?"debug":"warning"](Array.prototype.slice.call(arguments,1).join("")+(t?" at /"+t:""),i,K)}if(e===oe){b=undefined}return false}function w(e,t){var n;function r(){h??=M&&t&&M+"/"+t;return A.apply(this,arguments)}f=b&&b.$Type||f;if(s.bSupportReferences&&!(e in l)){if(i.endsWith("@$ui5.target")){b=undefined;return false}n=pe(e);if(n===s.sForbiddenSchema){return r(oe,"Must not access schema '",n,"' from meta model for ",s.sUrl)}b=s._getOrFetchSchema(l,n,r)}if(e in l){M=y=v=e;b=$=l[v];if(!u.isThenable(b)){m=b.$OpenType;return true}}if(u.isThenable(b)&&b.isPending()){return r(k,"Waiting for ",n)}return r(oe,"Unknown qualified name ",e)}function S(e,t,n){var i,r,o;function a(i){b=i;if(b===undefined){A(oe,"Unsupported path before ",e)}else if(t+1<n.length){A(oe,"Unsupported path after ",e)}return false}if(e==="$Annotations"){return A(oe,"Invalid segment: $Annotations")}e=e.replaceAll("%2F","/");if(t&&typeof b==="object"&&e in b){if(e[0]==="$"||z.test(e)){g=false}}else{i=e.indexOf("@@");if(i<0){if(e.endsWith("@sapui.name")){i=e.length-11}else{i=e.indexOf("@")}}if(i>0){if(!S(e.slice(0,i),t,n)){return false}e=e.slice(i);o=true;if(b&&(b.$kind==="EntitySet"||b.$kind==="Singleton")){c=b}}if(typeof b==="string"&&!(o&&(e==="@sapui.name"||e[1]==="@"))&&!(g&&$&&$.$kind==="EnumType")&&!U(b,n.slice(0,t))){return false}if(g){if(e==="$count"){return a(b.$kind==="EntitySet"||b.$isCollection&&(b.$kind==="NavigationProperty"||b.$kind==="Property")?V:undefined)}if(e[0]==="$"&&e!=="$Parameter"&&e!=="$ReturnType"||z.test(e)){g=false}else{r=typeof b==="object";if(o){}else if(e[0]!=="@"&&e.includes(".",1)){return w(e)}else if(r&&"$Type"in b){if(m&&b.$Type==="Edm.Untyped"){y=undefined}else if(!w(b.$Type,"$Type")){return false}}else if(r&&"$Action"in b){if(!w(b.$Action,"$Action")){return false}f=Z}else if(r&&"$Function"in b){if(!w(b.$Function,"$Function")){return false}f=Z}else if(!t){M=y=v??=l.$EntityContainer;b=$??=l[v];if(Array.isArray(b)){if(f){b=b.filter(E)}if(P(e,b[0])){return true}}if(e&&e[0]!=="@"&&!(e in $)){return A(oe,"Unknown child ",e," of ",v)}}if(Array.isArray(b)){if(e==="$Parameter"){return true}if(e.startsWith("@$ui5.overload@")){e=e.slice(14);o=true}if(o){if(e[1]!=="@"&&!O(e)){return false}}else{if(e!==n[t]&&n[t][e.length+1]!=="@"&&de(e,b)){y=e;return O(e,n[t].slice(e.length),"/"+y)}if(f){b=b.filter(E)}if(e==="@$ui5.overload"){return true}if(b.length!==1){return A(oe,"Expected a single overload, but found "+b.length)}if(P(e,b[0])){return true}b=b[0].$ReturnType;M+="/0/$ReturnType";if(b){if(e==="value"&&!(l[b.$Type]&&l[b.$Type].value)){y=undefined;return true}if(!w(b.$Type,"$Type")){return false}}if(!e){return true}}}}}if(!e){return t+1>=n.length||A(oe,"Invalid empty segment")}if(e[0]==="@"){if(e==="@sapui.name"){if(y===undefined&&o&&t&&n[t-1]==="$NavigationPropertyBinding"){y=b}return a(y)}if(e==="@$ui5.target"){return a(M)}if(e[1]==="@"){if(t+1<n.length){return A(oe,"Unsupported path after ",e)}return C(e,[""].concat(n.slice(0,t),n[t].slice(0,i)).join("/"))}}if(g&&e[0]==="@"){f=b&&b.$Type||f;b=l.$Annotations[M]||{};g=false}else if(e==="$"&&t+1<n.length){return A(oe,"Unsupported path after $")}else if(!b||typeof b!=="object"){b=undefined;return!p&&A(k,"Invalid segment: ",e)}}if(e!=="@"&&e!=="$"){if(e[0]==="@"){p=true}y=g||e[0]==="@"?e:undefined;M=g?M+"/"+e:undefined;b=g&&m&&!(e in b)?q:b[e]}return true}function U(e,t){var n;if(h){return A(oe,"Invalid recursion")}h=t;p=false;g=true;b=l;if(e[0]==="/"){c=undefined;e=e.slice(1)}else if(c){if(!e){b=c;c=h=undefined;return true}v=c.$Type;c=$=undefined}n=e.split("/").every(S);h=undefined;return n}if(!U(i)&&u.isThenable(b)){b=b.then(function(){return s.fetchObject(e,t,n)})}return b})};se.prototype.fetchUI5Type=function(e,t){const i=e.slice(e.lastIndexOf("/")+1);if(i[0]==="$"||i[0]==="@"){if(F.includes(i)){G??=new A;return u.resolve(G)}if(i.startsWith("@$ui5.context.is")||i.startsWith("@$ui5.node.is")){D??=new m;return u.resolve(D)}}const o=this.getMetaContext(e);return this.fetchObject(undefined,o).catch(this.oModel.getReporter()).then(a=>{var s=Q,u;if(!a){r.warning("No metadata for path '"+e+"', using "+s.getName(),undefined,K);return s}if(t){if(n.isEmptyObject(t)){t=undefined}else if("parseKeepsEmptyString"in t&&a.$Type!=="Edm.String"){if(Object.keys(t).length===1){t=undefined}else{t=Object.assign({},t);delete t.parseKeepsEmptyString}}}if(!t&&a["$ui5.type"]){return a["$ui5.type"]}if(a.$isCollection&&!z.test(i)){r.warning("Unsupported collection type, using "+s.getName(),e,K)}else{u=Y[a.$Type];if(u){s=new u.Type(t,this.getConstraints(a,o.getPath()))}else{r.warning("Unsupported type '"+a.$Type+"', using "+s.getName(),e,K)}}if(!t){a["$ui5.type"]=s}return s})};se.prototype.fetchUpdateData=function(e,t,i){var r=t.getModel(),o=r.resolve(e,t),a=this;function s(e){var t=new Error(o+": "+e);if(i!==undefined){r.reportError(e,K,t)}throw t}return this.fetchObject(n.getMetaPath(o)).then(function(){return a.fetchEntityContainer()}).then(function(r){var a,l=r[r.$EntityContainer],f,c,d,p,h=false,y,g,m,$=false,v,M=false;function b(e){var t=e.indexOf("(");return t>=0?e.slice(t):""}function O(e){a.push({path:y,prefix:e})}function C(e){var t=e.indexOf("(");return t>=0?e.slice(0,t):e}m=o.slice(1).split("/");p=m.shift();y="/"+p;f=y;d=decodeURIComponent(C(p));c=l[d];if(!c){s("Not an entity set: "+d)}v=r[c.$Type];e="";g="";a=[p];$=p.includes("($uid=");m.forEach(function(t){var i,o;y+="/"+t;if(z.test(t)){O(a.pop());f+="/"+t}else{o=decodeURIComponent(C(t));g=n.buildPath(g,o);i=h?{}:v[o];if(!i){if(o.includes("@")||v.$OpenType){if(o.includes("@$ui5.")&&o!=="@$ui5.context.isSelected"){s("Read-only path must not be updated")}h=true;i={}}else{s("Not a (navigation) property: "+o)}}v=r[i.$Type];if(t.includes("($uid=")){f=y;e="";$=true}else if(!$&&i.$kind==="NavigationProperty"){if(c.$NavigationPropertyBinding&&g in c.$NavigationPropertyBinding){d=c.$NavigationPropertyBinding[g];c=l[d];g="";a=[encodeURIComponent(d)+b(t)];if(!i.$isCollection){O(a.pop())}}else{a.push(t)}f=y;e=""}else{e=n.buildPath(e,t)}}});if($||i){return u.resolve({editUrl:undefined,entityPath:f,propertyPath:e})}return u.all(a.map(function(e,r){if(typeof e==="string"){return e}return t.fetchValue(e.path).then(function(t){var o;if(i!==undefined&&r===a.length-1&&(t===null||t&&n.hasPrivateAnnotation(t,"upsert"))){M=true;return undefined}if(!t){s("No instance to calculate key predicate at "+e.path)}o=n.getPrivateAnnotation(t,"predicate");if(!o){s("No key predicate known at "+e.path)}return e.prefix+o},function(t){s(t.message+" at "+e.path)})})).then(function(t){return{editUrl:M?f.slice(1):t.join("/"),entityPath:f,propertyPath:e}})})};se.prototype.fetchValueListMappings=function(e,t,i,r){var o=this,a=e.getMetaModel();function s(){var e=r[0],n="";if(r.length!==1){throw new Error("Expected a single overload, but found "+r.length)}if(e.$IsBound){n=e.$Parameter[0].$isCollection?"Collection("+e.$Parameter[0].$Type+")":e.$Parameter[0].$Type}return t+"("+n+")"}return a.fetchEntityContainer().then(function(r){var u,l=r.$Annotations,f,c=n.namespace(t),d={},p=o===a,h,y;if(i.$Name){f=s()+"/"+i.$Name;y=t+"/"+i.$Name}h=Object.keys(l).filter(function(t){if(n.namespace(t)===c){if(f?t===f||t===y:o.getObject("/"+t)===i){return true}if(p||y&&n.getMetaPath(t)===y){return false}throw new Error("Unexpected annotation target '"+t+"' with namespace of data service in "+e.sServiceUrl)}return false});if(!h.length){throw new Error("No annotation '"+ee.slice(1)+"' in "+e.sServiceUrl)}if(h.length===1){u=l[h[0]]}else{u=Object.assign({},l[y],l[f])}Object.keys(u).forEach(function(t){var n=ce(t);if(n!==undefined){d[n]=u[t];["CollectionRoot","SearchSupported"].forEach(function(n){if(n in u[t]){throw new Error("Property '"+n+"' is not allowed in annotation '"+t.slice(1)+"' for target '"+h[0]+"' in "+e.sServiceUrl)}})}else if(!p){throw new Error("Unexpected annotation '"+t.slice(1)+"' for target '"+h[0]+"' with namespace of data service in "+e.sServiceUrl)}});return d})};se.prototype.fetchValueListType=function(e){var n=this.getMetaContext(e),i=this;return this.fetchObject(undefined,n).then(function(r){var o,a;if(!r){throw new Error("No metadata for "+e)}o=i.getObject("@",n);if(o[re]){return t.Fixed}for(a in o){if(fe(a,ne)!==undefined||fe(a,te)!==undefined){return t.Standard}if(fe(a,ee)!==undefined){return o[a].SearchSupported===false?t.Fixed:t.Standard}}return t.None})};se.prototype.filterValueListRelevantQualifiers=function(e,t,n,i){return this.requestValue4Annotation(t,n,i).then(function(t){var n={};t.forEach(function(t){if(t in e){n[t]=e[t]}});return n})};se.prototype.getAbsoluteServiceUrl=function(e){var t=new L(this.sUrl).absoluteTo(document.baseURI).pathname().toString();return new L(e).absoluteTo(t).filename("").toString()};se.prototype.getAllPathReductions=function(e,t,i,r){var o=t.split("/").length,a,s={},u=e.split("/"),l=this;function f(e,t,a,u){var c,d,p;function h(n){if(!i){f(e,t,p-1,true)}if(u){t=t.slice();e=e.slice()}t.splice(p,n);e.splice(p,n);if(!i){s[e.join("/")]=true}}for(p=a;p>=o;p-=1){c=z.test(e[p+1])?p+2:p+1;if(c<e.length&&t[p].$Partner===e[c]&&!t[c].$isCollection&&t[c].$Partner===e[p].replace(H,"")){h(c-p+1)}else if(Array.isArray(t[p])&&e[p+1]==="$Parameter"){d=l.getObject(n.getMetaPath(e.slice(0,p+1).join("/")+"/@$ui5.overload"));if(d.length===1&&d[0].$Parameter[0].$Name===e[p+2]){h(3)}}else if(r&&t[p].$isCollection){break}}}a=u.map(function(e,t){return t<o||e[0]==="#"||e[0]==="@"||z.test(e)||e==="$Parameter"?{}:l.getObject(n.getMetaPath(u.slice(0,t+1).join("/")))||{}});s[e]=true;if(!(r&&a[u.length-1].$isCollection)){f(u,a,u.length-2)}return i?u.join("/"):Object.keys(s)};se.prototype.getConstraints=function(e,t){var n,i,r,o=Y[e.$Type];function a(e,t){if(t!==undefined){i??={};i[e]=t}}if(o){r=o.constraints;for(n in r){a(r[n],n[0]==="@"?this.getObject(t+n):e[n])}if(e.$Nullable===false){a("nullable",false)}if(e.$Type==="Edm.DateTimeOffset"){a("V4",true)}}return i};se.prototype.getData=n.createGetMethod("fetchData");se.prototype.getETags=function(){return this.mETags};se.prototype.getLastModified=function(){return this.oLastModified};se.prototype.getMetaContext=function(e){return new d(this,n.getMetaPath(e))};se.prototype.getMetaPath=function(e){return n.getMetaPath(e)};se.prototype.getObject=n.createGetMethod("fetchObject");se.prototype.getOrCreateSharedModel=function(e,t,n,i){e=this.getAbsoluteServiceUrl(e);const r=!!n+e;let o=this.mSharedModelByUrl;if(!t){o??={}}let a=o[r];if(!a){a=new this.oModel.constructor({autoExpandSelect:n,groupId:t?undefined:"$direct",httpHeaders:this.oModel.getHttpHeaders(),metadataUrlParams:this.sLanguage&&{"sap-language":this.sLanguage},operationMode:g.Server,serviceUrl:e,sharedRequests:true});if(t){a.getMetaModel()._copyAnnotations(this.oMetaModelForAnnotations??this)}if(i){a.getMetaModel()._setForbiddenSchema(pe(i))}a.setRetryAfterHandler(e=>this.oModel.getOrCreateRetryAfterPromise(e));o[r]=a}return a};se.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#getOriginalProperty")};se.prototype.getProperty=se.prototype.getObject;se.prototype.getReducedPath=function(e,t){return this.getAllPathReductions(e,t,true,true)};se.prototype.getUI5Type=n.createGetMethod("fetchUI5Type",true);se.prototype.getUnitOrCurrencyPath=function(e){var t=this.getObject("@",this.getMetaContext(e)),n=t&&(t["@Org.OData.Measures.V1.Unit"]||t["@Org.OData.Measures.V1.ISOCurrency"]);return n&&n.$Path};se.prototype.getValueListType=n.createGetMethod("fetchValueListType",true);se.prototype.isAddressViaNavigationPath=function(){return this.getObject("/@com.sap.vocabularies.Common.v1.AddressViaNavigationPath")};se.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#isList")};se.prototype.refresh=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#refresh")};se.prototype.requestCodeList=function(e,t,i){var o=this.fetchEntityContainer().getResult(),a=o[o.$EntityContainer],s=this;if(i&&i.context){if(i.context.getModel()!==this||i.context.getPath()!=="/"){throw new Error("Unsupported context: "+i.context)}}if(t!==undefined&&t!==a){throw new Error("Unsupported raw value: "+t)}return this.requestObject("/@com.sap.vocabularies.CodeList.v1."+e).then(function(e){var t,i,o,a,u,l;if(!e){return null}l=s.getAbsoluteServiceUrl(n.setLanguage(e.Url,s.sLanguage));t=e.CollectionPath+"#"+l;a=I[t];if(a){return a}const f=!s.mSharedModelByUrl;o=s.getOrCreateSharedModel(l);i=o.getMetaModel();u="/"+e.CollectionPath+"/";a=i.requestObject(u).then(function(t){var n=u+"@Org.OData.Core.V1.AlternateKeys",a=i.getObject(n),s,l=$(t.$Key),c=u+l+"@com.sap.vocabularies.Common.v1.",d,p,h=u+l+"@com.sap.vocabularies.CodeList.v1.StandardCode/$Path",y,g;function m(t,n){var i=n.getProperty(l),o={Text:n.getProperty(g),UnitSpecificScale:n.getProperty(p)};if(y){o.StandardCode=n.getProperty(y)}if(o.UnitSpecificScale===null){r.error("Ignoring customizing w/o unit-specific scale for code "+i+" from "+e.CollectionPath,e.Url,K)}else{t[i]=o}return t}function $(e){var t;if(e&&e.length===1){t=e[0]}else{throw new Error("Single key expected: "+u)}return typeof t==="string"?t:t[Object.keys(t)[0]]}if(a){if(a.length!==1){throw new Error("Single alternative expected: "+n)}else if(a[0].Key.length!==1){throw new Error("Single key expected: "+n+"/0/Key")}l=a[0].Key[0].Name.$PropertyPath}p=i.getObject(c+"UnitSpecificScale/$Path");g=i.getObject(c+"Text/$Path");d=[l,p,g];y=i.getObject(h);if(y){d.push(y)}s=o.bindList("/"+e.CollectionPath,null,null,null,{$select:d});return s.requestContexts(0,Infinity).then(function(t){if(!t.length){r.error("Customizing empty for ",o.sServiceUrl+e.CollectionPath,K)}return t.reduce(m,{})}).finally(function(){s.destroy();if(f){o.destroy()}})});I[t]=a;return a})};se.prototype.requestCurrencyCodes=function(e,t){return this.requestCodeList("CurrencyCodes",e,t)};se.prototype.requestData=n.createRequestMethod("fetchData");se.prototype.requestObject=n.createRequestMethod("fetchObject");se.prototype.requestUI5Type=n.createRequestMethod("fetchUI5Type");se.prototype.requestUnitsOfMeasure=function(e,t){return this.requestCodeList("UnitsOfMeasure",e,t)};se.prototype.requestValue4Annotation=function(t,i,r){let o;let a;const s=n.getMetaPath(r.getPath());const u=i.indexOf("/",s.length+1);if(u>0){const e=this.getObject(i.slice(0,u));if(!e.$isCollection){a=i.slice(s.length+1,u+1)}else if(e.$Partner){o={$IsBound:true,$Parameter:[{$Name:e.$Partner}]}}}const l=new R({any:e.value(t,{context:this.createBindingContext(i),overload:o,prefix:a}),bindingContexts:r,models:r.getModel()});const f=l.getBinding("any");let c;if(f){if(f.getBindings){c=Promise.all(f.getBindings().map(function(e){return e.requestValue()}))}else{c=f.requestValue()}}else{c=Promise.resolve()}return c.then(function(){return l.getAny()})};se.prototype.requestValueListInfo=function(e,t,i){var r=n.getMetaPath(e),o=r.slice(0,r.lastIndexOf("/")).replace("/$Parameter",""),a=o.slice(o.lastIndexOf("/")+1),s=this;if(!a.includes(".")){a=undefined}return Promise.all([a||this.requestObject(o+"/@sapui.name"),this.requestObject(r),this.requestObject(r+"@"),this.requestObject(r+re),this.requestObject(o+"/@$ui5.overload")]).then(function([o,a,u,l,f]){var c={},d={};function p(i,r,a,u){if("CollectionRoot"in i){u=s.getOrCreateSharedModel(i.CollectionRoot,true,t,o);if(d[r]&&d[r].$model===u){c[r]=undefined}}if(c[r]){throw new Error("Annotations '"+ee.slice(1)+"' with identical qualifier '"+r+"' for property "+e+" in "+c[r]+" and "+a)}c[r]=a;i=n.clone(i);i.$model=u;delete i.CollectionRoot;delete i.SearchSupported;d[r]=i}if(!a){throw new Error("No metadata for "+e)}return Promise.all(Object.keys(u).filter(function(e){return fe(e,ne)!==undefined}).map(function(e){var n=u[e];return Promise.all(n.map(function(e){var n=s.getOrCreateSharedModel(e,true,t,o);return s.fetchValueListMappings(n,o,a,f).then(function(e){return{valueListMappingByQualifier:e,$model:n}})})).then(function(e){n.forEach(function(t,n){var i=e[n].valueListMappingByQualifier;Object.keys(i).forEach(function(r){p(i[r],r,t,e[n].$model)})})})})).then(function(){var t=u[ie];Object.keys(u).filter(function(e){return ce(e)!==undefined}).forEach(function(e){p(u[e],ce(e),s.sUrl,s.oModel)});if(n.isEmptyObject(d)){throw new Error("No annotation '"+ne.slice(1)+"' for "+e)}return t&&i&&i.getBinding?s.filterValueListRelevantQualifiers(d,t,r+ie,i):d}).then(function(t){var n,i;if(l){n=Object.keys(t);if(n.length!==1){throw new Error("Annotation '"+re.slice(1)+"' but not exactly one '"+ee.slice(1)+"' for property "+e)}i=t[n[0]];i.$qualifier=n[0];return{"":i}}return t})})};se.prototype.requestValueListType=n.createRequestMethod("fetchValueListType");se.prototype.resolve=function(e,t){var n,i;if(!e){return t?t.getPath():undefined}i=e[0];if(i==="/"){return e}if(!t){return undefined}if(i==="."){if(e[1]!=="/"){throw new Error("Unsupported relative path: "+e)}e=e.slice(2)}n=t.getPath();return i==="@"||n.endsWith("/")?n+e:n+"/"+e};se.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataMetaModel#setLegacySyntax")};se.prototype.toString=function(){return K+": "+this.sUrl};se.prototype.validate=function(e,t){var n,i,r,o,a,s;if(!this.bSupportReferences){return t}for(a in t.$Reference){o=t.$Reference[a];a=new L(a).absoluteTo(this.sUrl).toString();if("$IncludeAnnotations"in o){this._reportAndThrowError("Unsupported IncludeAnnotations",e)}for(s in o.$Include){r=o.$Include[s];if(r in t){this._reportAndThrowError("A schema cannot span more than one document: "+r+" - is both included and defined",e)}this._addUrlForSchema(r,a,e)}}i=t.$LastModified?new Date(t.$LastModified):null;this.mETags[e]=t.$ETag?t.$ETag:i;n=t.$Date?new Date(t.$Date):new Date;i??=n;if(this.oLastModified<i){this.oLastModified=i}delete t.$Date;delete t.$ETag;delete t.$LastModified;return t};se.clearCodeListsCache=function(){I={}};Object.keys(_).forEach(e=>{const t=e.replace("Geography","Geometry");_[t]=_[e]});return se});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataModel", ["./ODataContextBinding","./ODataListBinding","./ODataMetaModel","./ODataPropertyBinding","./SubmitMode","./lib/_GroupLock","./lib/_Helper","./lib/_MetadataRequestor","./lib/_Parser","./lib/_Requestor","sap/base/assert","sap/base/Log","sap/base/i18n/Localization","sap/ui/base/SyncPromise","sap/ui/core/Messaging","sap/ui/core/Rendering","sap/ui/core/Supportability","sap/ui/core/cache/CacheManager","sap/ui/core/message/Message","sap/ui/core/message/MessageType","sap/ui/model/BindingMode","sap/ui/model/Context","sap/ui/model/Model","sap/ui/model/odata/OperationMode","sap/ui/thirdparty/URI"],function(e,t,r,i,o,n,s,a,u,p,d,h,c,f,l,g,y,m,v,w,E,b,P,M,R){"use strict";const A=false;var C=["apply","compute","count","expand","filter","format","id","index","levels","orderby","schemaversion","search","select","skip","top"],B="sap.ui.model.odata.v4.ODataModel",q=["$count","$expand","$filter","$levels","$orderby","$search","$select"],O=["$$groupId","$$patchWithoutSideEffects","$$updateGroupId"],I=[undefined,w.Success,w.Information,w.Warning,w.Error],$={dataReceived:true,dataRequested:true,messageChange:true,propertyChange:true,sessionTimeout:true},k={annotationURI:true,autoExpandSelect:true,earlyRequests:true,groupId:true,groupProperties:true,httpHeaders:true,ignoreAnnotationsFromMetadata:true,metadataUrlParams:true,odataVersion:true,operationMode:true,serviceUrl:true,sharedRequests:true,supportReferences:true,synchronizationMode:true,updateGroupId:true,withCredentials:true},D=["$apply","$count","$expand","$filter","$orderby","$search","$select"],T=/^[ -~]+$/,G=P.extend("sap.ui.model.odata.v4.ODataModel",{constructor:x,metadata:{final:A}});function x(e={}){var t,i=c.getLanguageTag().toString(),n,u,d,h,f,g,m=this;P.call(this);if("synchronizationMode"in e&&e.synchronizationMode!=="None"){throw new Error("Synchronization mode must be 'None'")}n=e.odataVersion||"4.0";this.sODataVersion=n;if(n!=="4.0"&&n!=="2.0"){throw new Error("Unsupported value for parameter odataVersion: "+n)}for(u in e){if(!(u in k)){throw new Error("Unsupported parameter: "+u)}}h=e.serviceUrl;if(!h){throw new Error("Missing service root URL")}f=new R(h);if(f.path()[f.path().length-1]!=="/"){throw new Error("Service root URL must end with '/'")}if(e.operationMode&&e.operationMode!==M.Server){throw new Error("Unsupported operation mode: "+e.operationMode)}this.sOperationMode=e.operationMode;g=this.buildQueryOptions(f.query(true),false,true);this.mUriParameters=g;if(y.isStatisticsEnabled()){g=Object.assign({"sap-statistics":true},g)}this.sServiceUrl=f.query("").toString();this.sGroupId=e.groupId;if(this.sGroupId===undefined){this.sGroupId="$auto"}if(this.sGroupId!=="$auto"&&this.sGroupId!=="$direct"){throw new Error("Group ID must be '$auto' or '$direct'")}s.checkGroupId(e.updateGroupId,false,false,"Invalid update group ID: ");this.sUpdateGroupId=e.updateGroupId||this.getGroupId();this.mGroupProperties={};for(const r in e.groupProperties){s.checkGroupId(r,true);t=e.groupProperties[r];if(typeof t!=="object"||Object.keys(t).length!==1||!(t.submit in o)){throw new Error("Group '"+r+"' has invalid properties: '"+t+"'")}}this.mGroupProperties=s.clone(e.groupProperties)||{};this.mGroupProperties.$auto={submit:o.Auto};this.mGroupProperties.$direct={submit:o.Direct};if(e.autoExpandSelect!==undefined&&typeof e.autoExpandSelect!=="boolean"){throw new Error("Value for autoExpandSelect must be true or false")}this.bAutoExpandSelect=e.autoExpandSelect===true;if("sharedRequests"in e&&e.sharedRequests!==true){throw new Error("Value for sharedRequests must be true")}this.bSharedRequests=e.sharedRequests===true;this.bIgnoreETag=false;if("ignoreAnnotationsFromMetadata"in e&&e.ignoreAnnotationsFromMetadata!==true){throw new Error("Value for ignoreAnnotationsFromMetadata must be true")}this.mHeaders={"Accept-Language":i};this.mMetadataHeaders={"Accept-Language":i};d=Object.assign({},g,e.metadataUrlParams);const v=this.getOrCreateRetryAfterPromise.bind(this);this.oMetaModel=new r(a.create(this.mMetadataHeaders,n,e.ignoreAnnotationsFromMetadata,d,e.withCredentials,v),this.sServiceUrl+"$metadata",e.annotationURI,this,e.supportReferences,d["sap-language"]);this.oInterface={fetchEntityContainer:this.oMetaModel.fetchEntityContainer.bind(this.oMetaModel),fetchMetadata:this.oMetaModel.fetchObject.bind(this.oMetaModel),fireDataReceived:this.fireDataReceived.bind(this),fireDataRequested:this.fireDataRequested.bind(this),fireSessionTimeout:function(){m.fireEvent("sessionTimeout")},getGroupProperty:this.getGroupProperty.bind(this),getMessagesByPath:this.getMessagesByPath.bind(this),getOptimisticBatchEnabler:this.getOptimisticBatchEnabler.bind(this),getOrCreateRetryAfterPromise:v,getReporter:this.getReporter.bind(this),isIgnoreETag:function(){return m.bIgnoreETag},onCreateGroup:function(e){if(m.isAutoGroup(e)){m.addPrerenderingTask(m._submitBatch.bind(m,e,true))}},onHttpResponse:function(e){const t=m.fnHttpListener;t?.({responseHeaders:e})},reportError:this.reportError.bind(this),reportStateMessages:this.reportStateMessages.bind(this),reportTransitionMessages:this.reportTransitionMessages.bind(this),updateMessages:function(e,t){l.updateMessages(e,t)}};this.oRequestor=p.create(this.sServiceUrl,this.oInterface,this.mHeaders,g,n,e.withCredentials);this.changeHttpHeaders(e.httpHeaders);this.bEarlyRequests=e.earlyRequests;if(this.bEarlyRequests){this.oMetaModel.fetchEntityContainer(true);this.initializeSecurityToken();this.oRequestor.sendOptimisticBatch()}this.aAllBindings=[];this.oAnnotationChangePromise=null;this.mKeepAliveBindingsByPath={};this.mSupportedBindingModes={OneTime:true,OneWay:true};if(e.sharedRequests){this.sDefaultBindingMode=E.OneWay}else{this.sDefaultBindingMode=E.TwoWay;this.mSupportedBindingModes.TwoWay=true}this.aPrerenderingTasks=null;this.fnHttpListener=null;this.fnOptimisticBatchEnabler=null;this.mPath2DataReceivedError={};this.mPath2DataRequestedCount={};this.fnRetryAfter=null;this.oRetryAfterPromise=null}G.prototype._requestAnnotationChanges=function(){this.oAnnotationChangePromise??=f.resolve();return this.oAnnotationChangePromise};G.prototype._submitBatch=function(e,t){var r=this;return this.oRequestor.submitBatch(e).catch(function(e){r.reportError("$batch failed",B,e);if(!t){throw e}})};G.prototype.addPrerenderingTask=function(e,t){var r,i,o=this;function n(e){clearTimeout(i);while(e.length){e.shift()()}if(o.aPrerenderingTasks===e){o.aPrerenderingTasks=null}}if(!this.aPrerenderingTasks){this.aPrerenderingTasks=[];r=n.bind(null,this.aPrerenderingTasks);g.addPrerenderingTask(r);i=setTimeout(function(){i=setTimeout(r,0)},0)}if(t){this.aPrerenderingTasks.unshift(e)}else{this.aPrerenderingTasks.push(e)}};G.prototype.attachDataReceived=function(e,t){return this.attachEvent("dataReceived",e,t)};G.prototype.attachDataRequested=function(e,t){return this.attachEvent("dataRequested",e,t)};G.prototype.attachEvent=function(e,t,r,i){if(!(e in $)){throw new Error("Unsupported event '"+e+"': v4.ODataModel#attachEvent")}return P.prototype.attachEvent.apply(this,arguments)};G.prototype.attachSessionTimeout=function(e,t){return this.attachEvent("sessionTimeout",e,t)};G.prototype.bindContext=function(t,r,i){return new e(this,t,r,i)};G.prototype.bindingCreated=function(e){this.aAllBindings.push(e)};G.prototype.bindingDestroyed=function(e){var t=this.aAllBindings.indexOf(e);if(t<0){throw new Error("Unknown "+e)}this.aAllBindings.splice(t,1)};G.prototype.bindList=function(e,r,i,o,n){return new t(this,e,r,i,o,n)};G.prototype.bindProperty=function(e,t,r){return new i(this,e,t,r)};G.prototype.bindTree=function(e,t,r,i,o){throw new Error("Unsupported operation: v4.ODataModel#bindTree")};G.prototype.buildQueryOptions=function(e,t,r){var i,o=Object.assign({},e);function n(e,r,i){var o,a,p,d=e[r];if(!t||!i.includes(r)){throw new Error("System query option "+r+" is not supported")}if((r==="$expand"||r==="$select")&&typeof d==="string"){d=u.parseSystemQueryOption(r+"="+d)[r];e[r]=d}if(r==="$expand"){d=e[r]=s.clone(d);for(p in d){a=d[p];if(a===null||typeof a!=="object"){a=d[p]={}}for(o in a){n(a,o,q)}}}else if(r==="$count"){if(typeof d==="boolean"){if(!d){delete e.$count}}else{switch(typeof d==="string"&&d.toLowerCase()){case"false":delete e.$count;break;case"true":e.$count=true;break;default:throw new Error("Invalid value for $count: "+d)}}}}if(e){for(i in e){if(C.includes(i.toLowerCase())){h.warning("[FUTURE FATAL] Custom query option "+i+" will not be supported with OData 4.01, see"+" https://sdk.openui5.org/topic/cda632b01c1e4a988ccecab759d19380",undefined,B)}if(i.startsWith("$$")){delete o[i]}else if(i[0]==="@"){throw new Error("Parameter "+i+" is not supported")}else if(i[0]==="$"){n(o,i,D)}else if(!r&&i.startsWith("sap-")&&!i.startsWith("sap-valid-")){throw new Error("Custom query option "+i+" is not supported")}}}return o};G.prototype.changeHttpHeaders=function(e){var t,r,i={},o,n;this.oRequestor.checkHeaderNames(e);for(n in e){r=n.toLowerCase();o=e[n];if(i[r]){throw new Error("Duplicate header "+n)}else if(!(typeof o==="string"&&T.test(o)||o===undefined)){throw new Error("Unsupported value for header '"+n+"': "+o)}else{if(r==="x-csrf-token"){n="X-CSRF-Token"}i[r]={key:n,value:o}}}this.oRequestor.checkForOpenRequests();for(n in this.mHeaders){r=n.toLowerCase();t=i[r];if(t){delete this.mHeaders[n];delete this.mMetadataHeaders[n];if(t.value!==undefined){this.mHeaders[t.key]=t.value;this.mMetadataHeaders[t.key]=t.value}delete i[r]}}for(n in i){t=i[n];if(t.value!==undefined){this.mHeaders[t.key]=t.value;if(n!=="x-csrf-token"){this.mMetadataHeaders[t.key]=t.value}}}};G.prototype.checkBatchGroupId=function(e){s.checkGroupId(e);if(this.isDirectGroup(e)){throw new Error("Group ID does not use batch requests: "+e)}};G.prototype.clearSessionContext=function(){this.oRequestor.clearSessionContext()};G.prototype.createBindingContext=function(e,t){var r,i,o,n;function s(e){var t=e.indexOf("."),r=e.indexOf("/");return t>0&&(r<0||t<r)}if(arguments.length>2){throw new Error("Only the parameters sPath and oContext are supported")}if(t&&t.getBinding){throw new Error("Unsupported type: oContext must be of type sap.ui.model.Context, "+"but was sap.ui.model.odata.v4.Context")}o=this.resolve(e,t);if(o===undefined){throw new Error("Cannot create binding context from relative path '"+e+"' without context")}n=o.indexOf("#");if(n>=0){r=o.slice(0,n);let e=o.slice(n+1);if(e[0]==="#"){e=e.slice(1)}else if(r.length>1&&e[0]!=="@"&&s(e)){return new b(this,o)}if(e[0]==="/"){e="."+e}i=this.oMetaModel.getMetaContext(r);return this.oMetaModel.createBindingContext(e,i)}return new b(this,o)};G.prototype.createUI5Message=function(e,t,r,i=e){var o=typeof e.target==="string",n=e.longtextUrl,a,u=this;function p(e){return u.normalizeMessageTarget(e[0]==="/"?e:s.buildPath("/"+t,r,e))}if(o){t&&=t.split("?")[0];a=[p(e.target)];if(e.additionalTargets){e.additionalTargets.forEach(function(e){a.push(p(e))})}}if(n&&t){n=s.makeAbsolute(n,this.sServiceUrl+t)}return new v({code:e.code,descriptionUrl:n||undefined,message:e.message,persistent:!o||e.transition,processor:this,target:o?a:"",technical:e.technical,technicalDetails:s.createTechnicalDetails(i),type:I[e.numericSeverity]||w.None})};G.prototype.delete=function(e,t,r){var i,o,n=this;if(typeof e==="string"){if(e[0]!=="/"){throw new Error("Invalid path: "+e)}i=true;o=Promise.resolve([e,"*"])}else{o=Promise.all([e.fetchCanonicalPath(),e.fetchValue("@odata.etag",null,true)])}s.checkGroupId(t,false,true);t??=this.getUpdateGroupId();if(this.isApiGroup(t)){throw new Error("Illegal update group ID: "+t)}return o.then(function(o){return n.oRequestor.request("DELETE",o[0].slice(1)+s.buildQuery(n.mUriParameters),n.lockGroup(t,n,true,true),{"If-Match":o[1]}).catch(function(e){if(r||!(e.status===404||i&&e.status===412)){n.reportError("Failed to delete "+o[0],B,e);throw e}}).then(function(){if(i){n.aAllBindings.forEach(function(t){t.onDelete(e)})}})})};G.prototype.destroy=function(){this.oMetaModel.destroy();this.oRequestor.destroy();this.mHeaders=undefined;this.mMetadataHeaders=undefined;this.oRetryAfterPromise=undefined;return P.prototype.destroy.apply(this,arguments)};G.prototype.destroyBindingContext=function(){throw new Error("Unsupported operation: v4.ODataModel#destroyBindingContext")};G.prototype.detachDataReceived=function(e,t){return this.detachEvent("dataReceived",e,t)};G.prototype.detachDataRequested=function(e,t){return this.detachEvent("dataRequested",e,t)};G.prototype.detachSessionTimeout=function(e,t){return this.detachEvent("sessionTimeout",e,t)};G.prototype.fetchKeyPredicate=function(e,t){var r={};return this.oRequestor.fetchType(r,e).then(function(){return s.getKeyPredicate(t,e,r)})};G.prototype.filterMatchingMessages=function(e,t){return s.hasPathPrefix(e,t)?this.mMessages[e]:[]};G.prototype.fireDataReceived=function(e,t){if(!(t in this.mPath2DataRequestedCount)){throw new Error("Received more data than requested")}this.mPath2DataRequestedCount[t]-=1;this.mPath2DataReceivedError[t]??=e;if(this.mPath2DataRequestedCount[t]===0){this.fireEvent("dataReceived",this.mPath2DataReceivedError[t]?{error:this.mPath2DataReceivedError[t],path:t}:{data:{},path:t});delete this.mPath2DataReceivedError[t];delete this.mPath2DataRequestedCount[t]}};G.prototype.fireDataRequested=function(e){if(e in this.mPath2DataRequestedCount){this.mPath2DataRequestedCount[e]+=1}else{this.mPath2DataRequestedCount[e]=1;this.fireEvent("dataRequested",{path:e})}};G.prototype.getAllBindings=function(){return this.aAllBindings.slice()};G.prototype.getContext=function(){throw new Error("Unsupported operation: v4.ODataModel#getContext")};G.prototype.getDependentBindings=function(e){return this.aAllBindings.filter(function(t){var r=t.getContext();return t.isRelative()&&(r===e||r&&r.getBinding&&r.getBinding()===e)})};G.prototype.getGroupId=function(){return this.sGroupId};G.prototype.getGroupProperty=function(e,t){switch(t){case"submit":if(e.startsWith("$auto.")){return o.Auto}if(e==="$single"){return"Single"}return this.mGroupProperties[e]?this.mGroupProperties[e].submit:o.API;default:throw new Error("Unsupported group property: '"+t+"'")}};G.prototype.getHttpHeaders=function(e){var t=Object.assign({},this.mHeaders);if(!e){delete t["SAP-ContextId"]}if(t["X-CSRF-Token"]===null){delete t["X-CSRF-Token"]}return t};G.prototype.getKeepAliveContext=function(e,t,r={}){var i,o,n;if(!this.bAutoExpandSelect){throw new Error("Missing parameter autoExpandSelect")}if(e[0]!=="/"){throw new Error("Not a list context path to an entity: "+e)}Object.keys(r).forEach(function(e){if(e.startsWith("sap-")&&!e.startsWith("sap-valid-")||e[0]==="$"&&!O.includes(e)){throw new Error("Invalid parameter: "+e)}});n=e.slice(0,s.getPredicateIndex(e));i=this.mKeepAliveBindingsByPath[n];if(!i){o=this.aAllBindings.filter(function(e){if(e.mParameters&&e.mParameters.$$getKeepAliveContext){e.removeCachesAndMessages(n.slice(1),true)}return e.isKeepAliveBindingFor&&e.isKeepAliveBindingFor(n)});if(o.length>1){throw new Error("Multiple bindings with $$getKeepAliveContext for: "+e)}i=o[0];if(!i){i=this.bindList(n,undefined,undefined,undefined,r);this.mKeepAliveBindingsByPath[n]=i}}return i.getKeepAliveContext(e,t,r.$$groupId)};G.prototype.getKeyPredicate=s.createGetMethod("fetchKeyPredicate",true);G.prototype.getMessages=function(e){return this.getMessagesByPath(e.getPath(),true).sort(v.compare)};G.prototype.getMetaModel=function(){return this.oMetaModel};G.prototype.getObject=function(){throw new Error("Unsupported operation: v4.ODataModel#getObject")};G.prototype.getODataVersion=function(){return this.sODataVersion};G.prototype.getOptimisticBatchEnabler=function(){return this.fnOptimisticBatchEnabler};G.prototype.getOrCreateRetryAfterPromise=function(e){if(!this.oRetryAfterPromise&&this.fnRetryAfter&&e){this.oRetryAfterPromise=this.fnRetryAfter(e);this.oRetryAfterPromise.finally(()=>{this.oRetryAfterPromise=null}).catch(()=>{});this.oRetryAfterPromise.catch(t=>{if(t===e){this.reportError(t.message,B,t)}else{t.$reported=true}})}return this.oRetryAfterPromise};G.prototype.getOriginalProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getOriginalProperty")};G.prototype.getProperty=function(){throw new Error("Unsupported operation: v4.ODataModel#getProperty")};G.prototype.getReporter=function(){var e=this;return function(t){if(!t.$reported){e.reportError(t.message,B,t)}}};G.prototype.getServiceUrl=function(){return this.sServiceUrl};G.prototype.getUpdateGroupId=function(){return this.sUpdateGroupId};G.prototype.hasPendingChanges=function(e){if(e!==undefined){this.checkBatchGroupId(e);if(this.isAutoGroup(e)&&this.oRequestor.hasPendingChanges("$parked."+e)){return true}}return this.oRequestor.hasPendingChanges(e)};G.prototype.initializeSecurityToken=function(){this.oRequestor.refreshSecurityToken()};G.prototype.isApiGroup=function(e){return this.getGroupProperty(e,"submit")===o.API};G.prototype.isAutoGroup=function(e){return this.getGroupProperty(e,"submit")===o.Auto};G.prototype.isDirectGroup=function(e){return this.getGroupProperty(e,"submit")===o.Direct};G.prototype.isList=function(){throw new Error("Unsupported operation: v4.ODataModel#isList")};G.prototype.lock=function(e){var t;if(!this.isAutoGroup(e)){throw new Error("Group ID does not use automatic batch requests: "+e)}t=this.lockGroup(e,this,true);return{isLocked:function(){return t.isLocked()},unlock:function(){t.unlock()}}};G.prototype.lockGroup=function(e,t,r,i,o){return this.oRequestor.lockGroup(e,t,r,i,o)};G.prototype.normalizeMessageTarget=function(e){var t,r,i="",o=this;if(e.includes("$uid=")){return e}t=e.split("/").map(function(e){var t,n=e.indexOf("("),a,p,d;function h(e){if(e in p){return encodeURIComponent(decodeURIComponent(p[e]))}r=true}if(n<0){i=s.buildPath(i,e);return e}t=e.slice(0,n);i=s.buildPath(i,t);p=u.parseKeyPredicate(e.slice(n));if(""in p){return t+"("+h("")+")"}d=o.oMetaModel.getObject("/"+i+"/");if(!(d&&d.$Key)){r=true;return e}a=d.$Key.map(function(e){var t=h(e);return d.$Key.length>1?e+"="+t:t});return t+"("+a.join(",")+")"}).join("/");return r?e:t};G.prototype.refresh=function(e){if(typeof e==="boolean"){throw new Error("Unsupported parameter bForceUpdate")}s.checkGroupId(e);this.getBindings().forEach(function(t){if(t.isRoot()){t.refresh(t.isSuspended()?undefined:e)}})};G.prototype.releaseKeepAliveBinding=function(e){var t=this.mKeepAliveBindingsByPath[e];if(t){delete this.mKeepAliveBindingsByPath[e];return t}};G.prototype.reportError=function(e,t,r){var i;if(r.canceled==="noDebugLog"){return}i=r.stack.includes(r.message)?r.stack:r.message+"\n"+r.stack;if(r.canceled){h.debug(e,i,t);return}h.error(e,i,t);if(r.$reported){return}r.$reported=true;this.reportTransitionMessages(s.extractMessages(r),r.resourcePath)};G.prototype.reportStateMessages=function(e,t,r){var i="/"+e,o=[],n=[],a=this;Object.keys(t).forEach(function(r){t[r].forEach(function(t){o.push(a.createUI5Message(t,e,r))})});(r||[""]).forEach(function(e){var t=s.buildPath(i,e);Object.keys(a.mMessages).forEach(function(e){if(e===t||e.startsWith(t+"/")||e.startsWith(t+"(")){n=n.concat(a.mMessages[e].filter(function(e){return!e.persistent}))}})});if(o.length||n.length){l.updateMessages(n,o)}};G.prototype.reportTransitionMessages=function(e,t,r,i){var o,n;if(!e.length){return}if(t){const e=this.getMetaModel();o="/"+t.split("?")[0];const r=s.getMetaPath(o);const i=e.getObject(r);if(Array.isArray(i)){n=e.getObject(r+"/@$ui5.overload/0");o=o.slice(0,o.lastIndexOf("/"))}}const a=e.map(e=>{const r=e;if(n){e=s.clone(e);s.adjustTargets(e,n,undefined,o,i)}e.transition=true;return this.createUI5Message(e,t,undefined,r)});if(!r){l.updateMessages(undefined,a)}return a};G.prototype.requestCanonicalPath=function(e){d(e.getModel()===this,"oEntityContext must belong to this model");return e.requestCanonicalPath()};G.prototype.requestKeyPredicate=s.createRequestMethod("fetchKeyPredicate");G.prototype.requestSideEffects=function(e,t){if(!t.length){return undefined}return f.all(this.aAllBindings.filter(function(e){return e.isRoot()}).map(function(r){return r.requestAbsoluteSideEffects(e,t)}))};G.prototype.resetChanges=function(e){e??=this.sUpdateGroupId;this.checkBatchGroupId(e);if(this.isAutoGroup(e)){this.oRequestor.cancelChanges("$parked."+e);this.oRequestor.cancelChanges("$inactive."+e,true)}this.oRequestor.cancelChanges(e);this.aAllBindings.forEach(function(t){if(e===t.getUpdateGroupId()){t.resetInvalidDataState()}})};G.prototype.resolve=function(e,t){var r;if(e&&e[0]==="/"){r=e}else if(t){r=t.getPath();if(e){if(!r.endsWith("/")){r+="/"}r+=e}}if(r&&r!=="/"&&r[r.length-1]==="/"&&!r.includes("#")){r=r.slice(0,r.length-1)}return r};G.prototype.setAnnotationChangePromise=function(e){if(this.oAnnotationChangePromise){throw Error("Too late")}this.oAnnotationChangePromise=e};G.prototype.setContinueOnError=function(e){this.checkBatchGroupId(e);this.oRequestor.setContinueOnError(e)};G.prototype.setHttpListener=function(e){this.fnHttpListener=e};G.prototype.setIgnoreETag=function(e){this.bIgnoreETag=e};G.prototype.setLegacySyntax=function(){throw new Error("Unsupported operation: v4.ODataModel#setLegacySyntax")};G.prototype.setOptimisticBatchEnabler=function(e){if(!this.bEarlyRequests){throw new Error("The earlyRequests model parameter is not set")}if(this.oRequestor.isBatchSent()){throw new Error("The setter is called after a non-optimistic batch is sent")}if(typeof e!=="function"){throw new Error("The given fnOptimisticBatchEnabler parameter is not a function")}if(this.fnOptimisticBatchEnabler){throw new Error("The setter is called more than once")}this.fnOptimisticBatchEnabler=e};G.prototype.setRetryAfterHandler=function(e){this.fnRetryAfter=e};G.prototype.submitBatch=function(e){var t=this;this.checkBatchGroupId(e);if(this.isAutoGroup(e)){this.oRequestor.relocateAll("$parked."+e,e)}this.oRequestor.addChangeSet(e);return new Promise(function(r){t.addPrerenderingTask(function(){r(t._submitBatch(e))})})};G.prototype.toString=function(){return B+": "+this.sServiceUrl};G.prototype.waitForKeepAliveBinding=function(e){if(e.mParameters?.$$getKeepAliveContext){const t=this.mKeepAliveBindingsByPath[e.getResolvedPath()];if(t){return t.ready()}}return f.resolve()};G.prototype.withUnresolvedBindings=function(e,t){return this.aAllBindings.filter(function(e){return!e.isResolved()}).some(function(r){return r[e](t)})};G.cleanUpOptimisticBatch=function(e){return m.delWithFilters({olderThan:e,prefix:"sap.ui.model.odata.v4.optimisticBatch:"})};(()=>{const e=G.extend;G.extend=function(){h.error("[FUTURE FATAL] sap.ui.model.odata.v4.ODataModel must not be extended");return e.apply(this,arguments)}})();return G});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataParentBinding", ["./Context","./ODataBinding","./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/ChangeReason"],function(e,t,n,r,i,o){"use strict";function s(){t.call(this);this.mAggregatedQueryOptions={};this.bAggregatedQueryOptionsInitial=true;this.mCanUseCachePromiseByChildPath={};this.aChildCanUseCachePromises=[];this.mChildPathsReducedToParent={};this.iPatchCounter=0;this.bPatchSuccess=true;this.oReadGroupLock=undefined;this.oRefreshPromise=null;this.oResumePromise=undefined}t(s.prototype);var a="sap.ui.model.odata.v4.ODataParentBinding";s.prototype._findEmptyPathParentContext=function(e){if(this.sPath===""&&this.oContext.getBinding){return this.oContext.getBinding()._findEmptyPathParentContext(this.oContext)}return e};s.prototype._resume=function(e){var t=this;function n(){t.bSuspended=false;if(t.oResumePromise){t.resumeInternal(true);t.oResumePromise.$resolve();t.oResumePromise=undefined}}if(this.oOperation){throw new Error("Cannot resume an operation binding: "+this)}if(!this.isRoot()){throw new Error("Cannot resume a relative binding: "+this)}if(!this.bSuspended){throw new Error("Cannot resume a not suspended binding: "+this)}if(e){this.createReadGroupLock(this.getGroupId(),true,1);this.oModel.addPrerenderingTask(n)}else{this.createReadGroupLock(this.getGroupId(),true);n()}};s.prototype.aggregateQueryOptions=function(e,t,r,i){var o=n.clone(r&&this.mLateQueryOptions||this.mAggregatedQueryOptions),s=this;function a(e,t,n,o,h){function u(i){var o=!e.$expand[i],h=n+"/"+i;if(o){e.$expand[i]={};if(r&&s.oModel.getMetaModel().fetchObject(h).getResult().$isCollection){return false}}return a(e.$expand[i],t.$expand[i],h,true,o)}function c(t){if(!e.$select.includes(t)){e.$select.push(t)}return true}return(i||!o||Object.keys(e).every(function(e){return e in t||e==="$count"||e==="$expand"||e==="$select"||e==="$top"}))&&Object.keys(t).every(function(n){switch(n){case"$count":if(t.$top===0&&e.$select){return true}if(t.$count){e.$count=true}return true;case"$expand":e.$expand??={};return Object.keys(t.$expand).every(u);case"$select":e.$select??=[];if(e.$top===0){delete e.$count;delete e.$top}return t.$select.every(c);case"$top":if(t.$top!==0||!t.$count){return false}if(!e.$select){e.$top=0}return true;default:if(h){e[n]=t[n];return true}return t[n]===e[n]}})}if(a(o,e,t)){if(r){this.mLateQueryOptions=o}else{this.mAggregatedQueryOptions=o;if(this.mLateQueryOptions){a(this.mLateQueryOptions,e)}}return true}return false};s.prototype.attachPatchCompleted=function(e,t){return this.attachEvent("patchCompleted",e,t)};s.prototype.attachPatchSent=function(e,t){return this.attachEvent("patchSent",e,t)};s.prototype.changeParameters=function(e){var t=Object.assign({},this.mParameters),r,i=[],s,a=this;function h(n){if(a.oModel.bAutoExpandSelect&&(n==="$expand"||n==="$select")){throw new Error("Cannot change "+n+" parameter in auto-$expand/$select mode: "+JSON.stringify(e[n])+" !== "+JSON.stringify(t[n]))}if(n==="$filter"||n==="$search"){r=o.Filter}else if(n==="$orderby"&&r!==o.Filter){r=o.Sort}else{r??=o.Change}i.push(s)}this.checkTransient();if(!e){throw new Error("Missing map of binding parameters")}for(s in e){if(s.startsWith("$$")){if(this.isUnchangedParameter(s,e[s])){continue}throw new Error("Unsupported parameter: "+s)}if(e[s]===undefined&&t[s]!==undefined){h(s);delete t[s]}else if(t[s]!==e[s]){h(s);if(typeof e[s]==="object"){t[s]=n.clone(e[s])}else{t[s]=e[s]}}}if(r){if(this.hasPendingChanges(true)){throw new Error("Cannot change parameters due to pending changes")}this.applyParameters(t,r,i)}};s.prototype.checkUpdateInternal=function(e){var t=this;function n(){return i.all(t.getDependentBindings().map(function(e){return e.checkUpdateInternal()}))}if(e!==undefined){throw new Error("Unsupported operation: "+a+"#checkUpdateInternal must not"+" be called with parameters")}return this.oCachePromise.then(function(e){if(e&&t.bRelative){return t.fetchResourcePath(t.oContext).then(function(r){if(e.getResourcePath()===r){return n()}return t.refreshInternal("")})}return n()})};s.prototype.createInCache=function(e,t,r,i,o,s,a,h){var u=this;return this.oCachePromise.then(function(c){var d;if(c){d=n.getRelativePath(r,u.getResolvedPath());return c.create(e,t,d,i,o,s,a,h).then(function(e){if(u.mCacheByResourcePath){delete u.mCacheByResourcePath[c.getResourcePath()]}return e})}return u.oContext.getBinding().createInCache(e,t,r,i,o,s,a,h)})};s.prototype.createReadGroupLock=function(e,t,n){var i,o=this;function s(){o.oModel.addPrerenderingTask(function(){if(o.oReadGroupLock===i){n-=1;if(n>0){Promise.resolve().then(s)}else{r.debug("Timeout: unlocked "+i,null,a);o.removeReadGroupLock()}}})}this.removeReadGroupLock();this.oReadGroupLock=i=this.lockGroup(e,t);if(t){n=2+(n||0);s()}};s.prototype.createRefreshPromise=function(e){var t,n;t=new Promise(function(e){n=e});t.$preventBubbling=e;t.$resolve=n;this.oRefreshPromise=t;return t};s.prototype.deleteFromCache=function(e,t,n,r,i){return this.withCache(function(n,o){return n._delete(e,t,o,r,i)},n,true)};s.prototype.destroy=function(){this.mAggregatedQueryOptions=undefined;this.aChildCanUseCachePromises=[];this.mChildPathsReducedToParent={};this.removeReadGroupLock();this.oRefreshPromise=undefined;this.oResumePromise=undefined;this.mCanUseCachePromiseByChildPath=undefined;t.prototype.destroy.call(this)};s.prototype.detachPatchCompleted=function(e,t){return this.detachEvent("patchCompleted",e,t)};s.prototype.detachPatchSent=function(e,t){return this.detachEvent("patchSent",e,t)};s.prototype.doSuspend=function(){};s.prototype.fetchIfChildCanUseCache=function(t,o,s,h){var u=this.getBaseForPathReduction(),c,d,p,f=t.getPath().includes("(...)"),l=t.getIndex(),g=o[0]==="#",P=this.oModel.getMetaModel(),m=this.oContext,y,C=this.oModel.resolve(o,t),v=this;function R(){if(g){return P.fetchObject(c+"/")}return n.fetchPropertyAndType(v.oModel.oInterface.fetchMetadata,$(C))}function $(e){var t;e=n.getMetaPath(e);t=e.indexOf("@");return t>0?e.slice(0,t):e}if(f&&!C.includes("/$Parameter/")||this.isRootBindingSuspended()||n.isDataAggregation(this.mParameters)){return i.resolve(C)}p=this.mCanUseCachePromiseByChildPath[o];if(h&&this.oCache!==null&&p){return p.then(function(e){if(!e){return undefined}if(!o.includes("/")||n.getMetaPath(e)===n.getMetaPath(C)){return C}return P.getReducedPath(C,u)})}d=this.oCachePromise.isRejected()||l!==undefined&&l!==e.VIRTUAL||t.isEffectivelyKeptAlive()||this.oCache===null||this.oCache&&this.oCache.hasSentRequest();c=n.getMetaPath(t.getPath());y=[this.doFetchOrGetQueryOptions(m),R(),s];p=i.all(y).then(function(e){var i=e[2]||{},s,p,l=e[0],y=e[1],R,O;if(Array.isArray(y)){return undefined}O=P.getReducedPath(C,u);R=n.getRelativePath($(O),c);if(R===undefined){v.mChildPathsReducedToParent[o]=true;return m.getBinding().fetchIfChildCanUseCache(m,n.getRelativePath(C,m.getPath()),i,h)}if(y?.["@$ui5.$count"]&&t!==t.getBinding().getHeaderContext?.()&&!l.$expand?.[o.slice(0,-7)]){s={$expand:{[o.slice(0,-7)]:{$count:true,$top:0}}}}else if(f||R==="$count"||R.endsWith("/$count")||R==="$selectionCount"){return O}if(v.bAggregatedQueryOptionsInitial){v.mAggregatedQueryOptions=n.clone(l);v.selectKeyProperties(v.mAggregatedQueryOptions,c);v.bAggregatedQueryOptionsInitial=false}if(g){p={$select:[R.slice(1)]};return v.aggregateQueryOptions(p,c,d,h)?O:undefined}if(R===""||y&&(y.$kind==="Property"||y.$kind==="NavigationProperty")){p=s??n.wrapChildQueryOptions(c,R,i,v.oModel.oInterface.fetchMetadata);if(p){return v.aggregateQueryOptions(p,c,d,h)?O:undefined}return undefined}if(R==="value"){return v.aggregateQueryOptions(i,c,d,h)?O:undefined}r.error("Failed to enhance query options for auto-$expand/$select as the path '"+C+"' does not point to a property",JSON.stringify(y),a);return undefined}).then(function(e){if(v.mLateQueryOptions&&!v.isTransient()){if(v.oCache){v.oCache.setLateQueryOptions(v.mLateQueryOptions)}else if(v.oCache===null){return m.getBinding().fetchIfChildCanUseCache(m,v.sPath,v.mLateQueryOptions).then(function(t){return t&&e})}}return e});if(h&&this.oCache!==null&&!t.getPath().includes("($uid=")){this.mCanUseCachePromiseByChildPath[o]=p}this.aChildCanUseCachePromises.push(p);const O=d?p:i.all([this.oCachePromise,p]).then(function(e){var r=e[0];if(r&&!r.hasSentRequest()&&!v.oOperation){if(v.bSharedRequest){r.setActive(false);r=v.createAndSetCache(v.mAggregatedQueryOptions,r.getResourcePath(),t)}else{r.setQueryOptions(n.merge({},v.oModel.mUriParameters,v.mAggregatedQueryOptions))}}return r});O.catch(function(e){v.oModel.reportError(v+": Failed to enhance query options for "+"auto-$expand/$select for child "+o,a,e)});if(!d){this.oCachePromise=O}return p};s.prototype.fetchResolvedQueryOptions=function(e){var t,r,o,s=this.oModel,a=this.getQueryOptionsFromParameters(),h=this;if(!(s.bAutoExpandSelect&&a.$select)){return i.resolve(a)}t=s.oInterface.fetchMetadata;o=n.getMetaPath(s.resolve(this.sPath,e));r=Object.assign({},n.clone(a),{$select:[]});return i.all(a.$select.map(function(e){var i=o+"/"+e;if(i.endsWith(".*")){i=i.slice(0,-1)}return n.fetchPropertyAndType(t,i).then(function(s){if(!s&&!i.endsWith("/*")){throw new Error("Invalid (navigation) property '"+e+"' in $select of "+h)}const a=n.wrapChildQueryOptions(o,e,{},t);if(a){n.aggregateExpandSelect(r,a)}else{n.addToSelect(r,[e])}})})).then(function(){return r})};s.prototype.firePatchCompleted=function(e){if(this.iPatchCounter===0){throw new Error("Completed more PATCH requests than sent")}this.iPatchCounter-=1;this.bPatchSuccess&&=e;if(this.iPatchCounter===0){this.fireEvent("patchCompleted",{success:this.bPatchSuccess});this.bPatchSuccess=true}};s.prototype.firePatchSent=function(){this.iPatchCounter+=1;if(this.iPatchCounter===1){this.fireEvent("patchSent")}};s.prototype.getBaseForPathReduction=function(){var e,t;if(!this.isRoot()){e=this.oContext.getBinding();t=e.getUpdateGroupId();if(t===this.getUpdateGroupId()||!this.oModel.isApiGroup(t)){return e.getBaseForPathReduction()}}return this.getResolvedPath()};s.prototype.getGeneration=function(){return this.bRelative&&this.oContext?.getGeneration?.()||0};s.prototype.getInheritableQueryOptions=function(){if(this.mLateQueryOptions){return n.merge({},this.mCacheQueryOptions,this.mLateQueryOptions)}return this.mCacheQueryOptions||n.getQueryOptionsForPath(this.oContext.getBinding().getInheritableQueryOptions(),this.sPath)};s.prototype.getQueryOptionsForPath=function(e,t){if(!n.isEmptyObject(this.mParameters)){return n.getQueryOptionsForPath(this.getQueryOptionsFromParameters(),e)}t??=this.oContext;if(!this.bRelative||!t.getQueryOptionsForPath){return{}}return t.getQueryOptionsForPath(n.buildPath(this.sPath,e))};s.prototype.getResumePromise=function(){return this.oResumePromise};s.prototype.hasPendingChangesInDependents=function(e,t){return this.getDependentBindings().some(function(n){var r=n.oCache,i,o=e;if(o){if(n.oContext.isEffectivelyKeptAlive()){return false}if(n.oContext.getIndex()!==undefined){o=false}}if(r!==undefined){if(r&&r.hasPendingChangesForPath("",false,o&&n.mParameters&&n.mParameters.$$ownRequest)){return true}}else if(n.hasPendingChangesForPath("")){return true}if(n.mCacheByResourcePath){i=Object.keys(n.mCacheByResourcePath).some(function(e){var i=n.mCacheByResourcePath[e];return(!t||e.startsWith(t.slice(1)))&&i!==r&&i.hasPendingChangesForPath("")});if(i){return true}}return n.hasPendingChangesInDependents(o,t)})||this.oModel.withUnresolvedBindings("hasPendingChangesInCaches",this.getResolvedPath().slice(1))};s.prototype.isMeta=function(){return false};s.prototype.isPatchWithoutSideEffects=function(){return this.mParameters.$$patchWithoutSideEffects||!this.isRoot()&&this.oContext&&this.oContext.getBinding().isPatchWithoutSideEffects()};s.prototype.isRefreshWithoutBubbling=function(){return this.oRefreshPromise&&this.oRefreshPromise.$preventBubbling};s.prototype.isUnchangedParameter=function(e,t){return this.mParameters[e]===t};s.prototype.onDelete=function(e){var t=this.findContextForCanonicalPath(e);if(t){this.resetChangesForPath(this.getRelativePath(t.getPath()),[]);this.oModel.getDependentBindings(t).forEach(function(e){e.resetChanges()});this.delete(null,e.slice(1),t)}};s.prototype.refreshDependentListBindingsWithoutCache=function(){return i.all(this.getDependentBindings().map(function(e){if(e.filter&&e.oCache===null){return e.refreshInternal("")}if(e.refreshDependentListBindingsWithoutCache){return e.refreshDependentListBindingsWithoutCache()}}))};s.prototype.removeReadGroupLock=function(){if(this.oReadGroupLock){this.oReadGroupLock.unlock(true);this.oReadGroupLock=undefined}};s.prototype.resetChangesInDependents=function(e,t){this.getDependentBindings().forEach(function(n){e.push(n.oCachePromise.then(function(e){if(e){e.resetChangesForPath("")}n.resetInvalidDataState()}).unwrap());if(n.mCacheByResourcePath){Object.keys(n.mCacheByResourcePath).forEach(function(e){if(!t||e.startsWith(t.slice(1))){n.mCacheByResourcePath[e].resetChangesForPath("")}})}n.resetChangesInDependents(e,t)})};s.prototype.resolveRefreshPromise=function(e){if(this.oRefreshPromise){this.oRefreshPromise.$resolve(e.catch(function(e){if(!e.canceled){throw e}}));this.oRefreshPromise=null}return e};s.prototype.resume=function(){this._resume(false)};s.prototype.resumeAsync=function(){this._resume(true);return Promise.resolve(this.oResumePromise)};s.prototype.selectKeyProperties=function(e,t){n.selectKeyProperties(e,this.oModel.getMetaModel().getObject(t+"/"))};s.prototype.suspend=function(){var e;if(this.oOperation){throw new Error("Cannot suspend an operation binding: "+this)}if(!this.isRoot()){throw new Error("Cannot suspend a relative binding: "+this)}if(this.bSuspended){throw new Error("Cannot suspend a suspended binding: "+this)}if(this.hasPendingChanges(true)){throw new Error("Cannot suspend a binding with pending changes: "+this)}this.bSuspended=true;this.oResumePromise=new i(function(t){e=t});this.oResumePromise.$resolve=e;this.removeReadGroupLock();this.doSuspend()};s.prototype.updateAfterCreate=function(e,t){return i.all(this.getDependentBindings().map(function(n){return n.updateAfterCreate(e,t)}))};s.prototype.updateAggregatedQueryOptions=function(e){var t=this.mAggregatedQueryOptions,n=Object.keys(e),r=this;if(t){n=n.concat(Object.keys(t));n.forEach(function(n){if(r.bAggregatedQueryOptionsInitial||n!=="$select"&&n!=="$expand"){if(e[n]===undefined){delete t[n]}else{t[n]=e[n]}}});if(t.$select&&!t.$select.length){t.$select=[Object.keys(t.$expand)[0]]}}};s.prototype.visitSideEffects=function(e,t,r,i,o){var s=r?this.oModel.getDependentBindings(r):this.getDependentBindings();s.forEach(function(r){var s=n.buildPath(o,r.oOperation?"":n.getMetaPath(r.getPath())),a;if(r.oCache){a=n.stripPathPrefix(s,t);if(a.length){i.push(r.requestSideEffects(e,a))}}else{r.visitSideEffects(e,t,null,i,s)}})};function h(e){if(this){s.apply(this,arguments)}else{Object.assign(e,s.prototype)}}["adjustPredicate","destroy","getGeneration","hasPendingChangesForPath","isUnchangedParameter","updateAfterCreate"].forEach(function(e){h.prototype[e]=s.prototype[e]});return h},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ODataPropertyBinding", ["./Context","./ODataBinding","./lib/_Cache","./lib/_Helper","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/BindingMode","sap/ui/model/ChangeReason","sap/ui/model/PropertyBinding"],function(e,t,o,n,i,s,r,a,h){"use strict";var d="sap.ui.model.odata.v4.ODataPropertyBinding",u=Object.freeze([]),p={AggregatedDataStateChange:true,change:true,dataReceived:true,dataRequested:true,DataStateChange:true},c="/"+e.VIRTUAL,l=h.extend("sap.ui.model.odata.v4.ODataPropertyBinding",{constructor:f});function f(e,o,i,s){h.call(this,e,o);t.call(this);if(o.endsWith("/")){throw new Error("Invalid path: "+o)}this.mScope=undefined;if(s){if(typeof s.scope==="object"){this.mScope=s.scope;s={...s};delete s.scope}this.checkBindingParameters(s,["$$groupId","$$ignoreMessages","$$noPatch"]);this.sGroupId=s.$$groupId;this.bNoPatch=s.$$noPatch;this.setIgnoreMessages(s.$$ignoreMessages)}else{this.sGroupId=undefined;this.bNoPatch=false}if(this.sPath==="@$ui5.context.isSelected"){this.bNoPatch=true}this.oCheckUpdateCallToken=undefined;this.oContext=i;this.bHasDeclaredType=undefined;this.bInitial=true;this.mQueryOptions=this.oModel.buildQueryOptions(n.clone(s),o.endsWith("$count"));this.vValue=undefined;this.fetchCache(i);e.bindingCreated(this)}t(l.prototype);l.prototype.attachEvent=function(e,t,o,n){if(!(e in p)){throw new Error("Unsupported event '"+e+"': v4.ODataPropertyBinding#attachEvent")}return h.prototype.attachEvent.apply(this,arguments)};l.prototype.checkUpdateInternal=function(e,t,o,h,u){var p=false,l=this.sPath.indexOf("##"),f=l>=0,g=this.oModel.getMetaModel(),y={data:{}},C=this.getResolvedPath(),v={forceUpdate:C&&(e||e===undefined&&this.getDataState().getControlMessages().length>0||this.oCheckUpdateCallToken&&this.oCheckUpdateCallToken.forceUpdate)},P=this.oType,R=this;this.oCheckUpdateCallToken=v;if(!P&&C&&this.sInternalType!=="any"&&!f&&!C.includes(c)){P=g.fetchUI5Type(this.sReducedPath||C)}if(u===undefined){u=this.oCachePromise.then(function(e){var t,n;if(e){return e.fetchValue(R.lockGroup(o||R.getGroupId()),undefined,function(){p=true;R.fireDataRequested(h)},R).then(function(t){R.checkSameCache(e);return t})}if(!R.isResolved()){return undefined}if(C.includes(c)){v.forceUpdate=false}if(!f){return R.oContext.fetchValue(R.sReducedPath,R)}t=R.sPath.slice(0,l);n=R.sPath.slice(l+2);if(n[0]==="/"){n="."+n}return g.fetchObject(n,g.getMetaContext(R.oModel.resolve(t,R.oContext)),R.mScope&&{scope:R.mScope})}).then(function(e){if(!e||typeof e!=="object"){return e}if(R.sInternalType==="any"&&(R.getBindingMode()===r.OneTime||!f&&(R.getBindingMode()===r.OneWay||R.sPath[R.sPath.lastIndexOf("/")+1]==="#"))){if(f){return e}else if(R.bRelative){return n.publicClone(e)}}i.error("Accessed value is not primitive",C,d)},function(e){R.oModel.reportError("Failed to read path "+C,d,e);if(e.canceled){v.forceUpdate=false;return R.vValue}y={error:e}});if(e&&u.isFulfilled()){if(P&&P.isFulfilled&&P.isFulfilled()){this.doSetType(P.getResult())}this.vValue=u.getResult()}u=Promise.resolve(u)}else if(u&&typeof u==="object"){u=n.publicClone(u)}return s.all([u,P]).then(function(e){var o=e[1],n=e[0];if(v===R.oCheckUpdateCallToken){R.oCheckUpdateCallToken=undefined;R.doSetType(o);if(v.forceUpdate||R.vValue!==n){R.bInitial=false;R.vValue=n;R._fireChange({reason:t||a.Change})}R.checkDataState()}if(p){R.fireDataReceived(y,h)}if(y.error){throw y.error}})};l.prototype.destroy=function(){this.oModel.bindingDestroyed(this);this.oCheckUpdateCallToken=undefined;this.mQueryOptions=undefined;this.mScope=undefined;this.vValue=undefined;t.prototype.destroy.call(this);h.prototype.destroy.apply(this,arguments)};l.prototype.doCreateCache=function(e,t){return o.createProperty(this.oModel.oRequestor,e,t)};l.prototype.doFetchOrGetQueryOptions=function(){return this.isRoot()?this.mQueryOptions:undefined};l.prototype.doSetType=function(e){h.prototype.setType.call(this,e,this.sInternalType)};l.prototype.getDependentBindings=function(){return u};l.prototype.getResumePromise=function(){};l.prototype.getValue=function(){return this.vValue};l.prototype.getValueListType=function(){var e=this.getResolvedPath();if(!e){throw new Error(this+" is unresolved")}return this.getModel().getMetaModel().getValueListType(e)};l.prototype.hasPendingChangesInDependents=function(){return false};l.prototype.initialize=function(){if(this.isResolved()){if(this.isRootBindingSuspended()){this.sResumeChangeReason=a.Change}else{this.checkUpdate(true)}}};l.prototype.isMeta=function(){return this.sPath.includes("##")};l.prototype.onChange=function(e,t){this.checkUpdateInternal(t,undefined,undefined,false,e).catch(this.oModel.getReporter())};l.prototype.onDelete=function(){};l.prototype.refreshInternal=function(e,t,o,n){var i=this;if(this.isRootBindingSuspended()){this.refreshSuspended(t);return s.resolve()}return this.oCachePromise.then(function(){if(i.oCache&&i.oCache.reset){i.oCache.reset()}else{i.fetchCache(i.oContext,false,true,t,n)}if(o){return i.checkUpdateInternal(undefined,a.Refresh,t,n)}})};l.prototype.requestValue=function(){var e=this;return Promise.resolve(this.checkUpdateInternal(false).then(function(){return e.getValue()}))};l.prototype.requestValueListInfo=function(e){var t=this.getResolvedPath();if(!t){throw new Error(this+" is unresolved")}return this.getModel().getMetaModel().requestValueListInfo(t,e,this.oContext)};l.prototype.requestValueListType=function(){var e=this.getResolvedPath();if(!e){throw new Error(this+" is unresolved")}return this.getModel().getMetaModel().requestValueListType(e)};l.prototype.resetChangesInDependents=function(){};l.prototype.resetInvalidDataState=function(){if(this.getDataState().isControlDirty()){this._fireChange({reason:a.Change})}};l.prototype.resume=function(){throw new Error("Unsupported operation: resume")};l.prototype.resumeInternal=function(e,t){var o=this.sResumeChangeReason;this.sResumeChangeReason=undefined;this.fetchCache(this.oContext);if(e){this.checkUpdateInternal(t?undefined:false,o).catch(this.oModel.getReporter())}};l.prototype.setContext=function(e){if(this.oContext!==e){if(this.bRelative){this.checkSuspended(true);this.deregisterChangeListener();if(e){if(this.oType&&!this.bHasDeclaredType&&n.getMetaPath(this.oModel.resolve(this.sPath,e))!==n.getMetaPath(this.sReducedPath)){this.doSetType(undefined)}this.sReducedPath=undefined}}this.oContext=e;this.sResumeChangeReason=undefined;if(this.bRelative){this.fetchCache(this.oContext);this.checkUpdateInternal(this.bInitial||undefined,a.Context).catch(this.oModel.getReporter())}}};l.prototype.setType=function(e,t){var o=this.oType;this.bHasDeclaredType=!!e;if(e&&e.getName()==="sap.ui.model.odata.type.DateTimeOffset"){e.setV4()}h.prototype.setType.apply(this,arguments);if(!this.bInitial&&o!==e){this._fireChange({reason:a.Change})}};l.prototype.setValue=function(e,t){var o,i,s=this.getResolvedPath(),r=this;function h(e){r.oModel.reportError("Failed to update path "+s,d,e);return e}this.checkSuspended();if(this.bNoPatch&&t){throw h(new Error("Must not specify a group ID ("+t+") with $$noPatch"))}n.checkGroupId(t);if(typeof e==="function"||e&&typeof e==="object"){throw h(new Error("Not a primitive value"))}if(!this.bNoPatch&&this.vValue===undefined){throw h(new Error("Must not change a property before it has been read"))}if(this.vValue!==e){if(this.oCache){h(new Error("Cannot set value on this binding as it is not relative"+" to a sap.ui.model.odata.v4.Context"));return}o=this.bNoPatch?null:this.lockGroup(t,true,true);i=this.oContext.doSetProperty(this.sPath,e,o);i.catch(function(e){if(o){o.unlock(true)}h(e)});if(!i.isRejected()&&r.oModel.hasListeners("propertyChange")){r.oModel.firePropertyChange({context:r.oContext,path:r.sPath,promise:i.isPending()?i.getResult():undefined,reason:a.Binding,resolvedPath:s,value:e})}}};l.prototype.supportsIgnoreMessages=function(){return true};l.prototype.suspend=function(){throw new Error("Unsupported operation: suspend")};l.prototype.updateAfterCreate=function(){return this.checkUpdateInternal()};l.prototype.visitSideEffects=function(){};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/SubmitMode", function(){"use strict";var t={API:"API",Auto:"Auto",Direct:"Direct"};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/ValueListType", function(){"use strict";var e={None:"None",Fixed:"Fixed",Standard:"Standard"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/_AnnotationHelperExpression", ["../_AnnotationHelperBasics","sap/base/Log","sap/ui/base/BindingInfo","sap/ui/base/BindingParser","sap/ui/base/SyncPromise","sap/ui/performance/Measurement"],function(e,t,n,r,a,i){"use strict";var s="sap.ui.model.odata.v4.AnnotationHelper",u=[s],o=s+"/getExpression",l=/^{@i18n>[^\\{}:]+}$/,c={And:"&&",Eq:"===",Ge:">=",Gt:">",Le:"<=",Lt:"<",Ne:"!==",Not:"!",Or:"||"},p=false,f={"Edm.Boolean":"boolean","Edm.Byte":"number","Edm.Date":"Date","Edm.DateTimeOffset":"DateTimeOffset","Edm.Decimal":"Decimal","Edm.Double":"number","Edm.Guid":"string","Edm.Int16":"number","Edm.Int32":"number","Edm.Int64":"Decimal","Edm.SByte":"number","Edm.Single":"number","Edm.String":"string","Edm.TimeOfDay":"TimeOfDay"},m={Bool:"Edm.Boolean",Float:"Edm.Double",Date:"Edm.Date",DateTimeOffset:"Edm.DateTimeOffset",Decimal:"Edm.Decimal",Guid:"Edm.Guid",Int:"Edm.Int64",Int32:"Edm.Int32",String:"Edm.String",TimeOfDay:"Edm.TimeOfDay"},d={boolean:false,Date:false,DateTimeOffset:true,Decimal:true,number:false,string:false,TimeOfDay:false},y;function g(e,t){return a.resolve().then(function(){h(e,t)})}function h(t,n){e.error(t,n,s)}y={adjustOperands:function(e,t){if(e.result!=="constant"&&e.category==="number"&&t.result==="constant"&&t.type==="Edm.Int64"){t.category="number"}if(e.result!=="constant"&&e.category==="Decimal"&&t.result==="constant"&&t.type==="Edm.Int32"){t.category="Decimal";t.type=e.type}},apply:function(t,n){var r=e.descend(t,"$Function","string");switch(r.value){case"odata.concat":return y.concat(n);case"odata.fillUriTemplate":return y.fillUriTemplate(n);case"odata.uriEncode":return y.uriEncode(n);default:return g(r,"unknown function: "+r.value)}},collection:function(t){var n;e.expectType(t,"array");n=t.value.map(function(n,r){return y.expression(e.descend(t,r,true),true)});return a.all(n).then(function(t){t=t.map(function(t){return e.resultToString(t,true,false,true)});return{result:"expression",value:"odata.collection(["+t.join(",")+"])"}})},concat:function(t){var n;e.expectType(t,"array");n=t.value.map(function(e,n){return y.parameter(t,n)});return a.all(n).then(function(n){var r,a,i;r=t.asExpression||n.some(function(e){return e.result==="expression"});a=n.filter(function(e){return e.type!=="edm:Null"}).map(function(n){if(r){y.wrapExpression(n)}return e.resultToString(n,r,t.complexBinding)});i=r?{result:"expression",value:a.join("+")}:{result:"composite",value:a.join("")};i.type="Edm.String";return i})},conditional:function(t,n){var r=t.complexBinding,i=r?Object.assign({},t,{complexBinding:false}):t;function s(t,n,r){return e.resultToString(y.wrapExpression(t),true,n,r)}return a.all([y.parameter(i,0,"Edm.Boolean"),y.parameter(t,1),n&&t.value.length===2?{result:"constant",type:"edm:Null",value:undefined}:y.parameter(t,2)]).then(function(e){var n=e[0],a=e[1],i=e[2],u=a.type;if(a.type==="edm:Null"){u=i.type}else if(i.type!=="edm:Null"&&a.type!==i.type){h(t,"Expected same type for second and third parameter, types are '"+a.type+"' and '"+i.type+"'")}return{result:"expression",type:u,value:s(n,false,true)+"?"+s(a,r)+":"+s(i,r)}})},constant:function(e,t){var n=e.value;if(t==="String"){if(l.test(n)){return{ignoreTypeInPath:true,result:"binding",type:"Edm.String",value:n.slice(1,-1)}}}return{result:"constant",type:m[t],value:n}},expression:function(t,n){var r=t.value,i=t,s;if(r===null){s="Null"}else if(typeof r==="boolean"){s="Bool"}else if(typeof r==="number"){s=isFinite(r)&&Math.floor(r)===r?"Int32":"Float"}else if(typeof r==="string"){s="String"}else if(Array.isArray(r)){return y.collection(t)}else{e.expectType(t,"object");if(r.$kind==="Property"){t.value=t.model.getObject(t.path+"@sapui.name");return y.path(t)}["$And","$Apply","$Date","$DateTimeOffset","$Decimal","$Float","$Eq","$Ge","$Gt","$Guid","$If","$Int","$Le","$Lt","$Name","$Ne","$Not","$Null","$Or","$Path","$PropertyPath","$TimeOfDay","$LabeledElement"].forEach(function(n){if(n in r){s=n.slice(1);i=e.descend(t,n)}})}switch(s){case"Apply":return y.apply(t,i);case"If":return y.conditional(i,n);case"Name":case"Path":case"PropertyPath":return y.path(i);case"Date":case"DateTimeOffset":case"Decimal":case"Guid":case"Int":case"String":case"TimeOfDay":e.expectType(i,"string");case"Bool":case"Float":case"Int32":return a.resolve(y.constant(i,s));case"And":case"Eq":case"Ge":case"Gt":case"Le":case"Lt":case"Ne":case"Or":return y.operator(i,s);case"Not":return y.not(i);case"Null":return a.resolve({result:"constant",type:"edm:Null",value:null});default:return g(t,"Unsupported OData expression")}},fetchCurrencyOrUnit:function(t,n,r,a){var i="sap.ui.model.odata.type.Unit",s="@@requestUnitsOfMeasure",u=t.model,o=t.path+"@Org.OData.Measures.V1.Unit/$Path",l=u.getObject(o);function c(n,r,a){return e.resultToString(y.pathResult(t,r,a,n),false,true)}if(!l){i="sap.ui.model.odata.type.Currency";s="@@requestCurrencyCodes";o=t.path+"@Org.OData.Measures.V1.ISOCurrency/$Path";l=u.getObject(o)}if(!l){return undefined}return u.fetchObject(o+"/$").then(function(e){var p=u.getObject(t.path+"@com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasuredQuantity")?",constraints:{'skipDecimalsValidation':true}":"";return{result:"composite",type:i,value:(f[r]==="number"?"{formatOptions:{parseAsString:false},":"{")+"mode:'TwoWay',parts:["+c(a,r,n)+","+c(u.getConstraints(e,o),e.$Type,l)+",{mode:'OneTime',path:'/##"+s+"',targetType:'any'}"+"],type:'"+i+"'"+p+"}"}})},fetchDateTimeWithTimezone:function(t,n,r){var a=t.model,i=t.path+"@com.sap.vocabularies.Common.v1.Timezone/$Path",s=a.getObject(i);function u(n,r,a){return e.resultToString(y.pathResult(t,r,a,n),false,true)}if(!s){return undefined}return a.fetchObject(i+"/$").then(function(e){return{result:"composite",type:"sap.ui.model.odata.type.DateTimeWithTimezone",value:"{mode:'TwoWay',parts:["+u(r,"Edm.DateTimeOffset",n)+","+u(a.getConstraints(e,i),e.$Type,s)+"],type:'sap.ui.model.odata.type.DateTimeWithTimezone'}"}})},fillUriTemplate:function(t){var n=[],r,i;t.complexBinding=false;r=[y.parameter(t,0,"Edm.String")];for(i=1;i<t.value.length;i+=1){n[i]=e.descend(t,i,"object");r.push(y.expression(e.descend(n[i],"$LabeledElement",true)))}return a.all(r).then(function(r){var a,s=[],u="";s.push("odata.fillUriTemplate(",e.resultToString(r[0],true,false,true),",{");for(i=1;i<t.value.length;i+=1){a=e.property(n[i],"$Name","string");s.push(u,e.toJSON(a),":",e.resultToString(r[i],true,false,true));u=","}s.push("})");return{result:"expression",type:"Edm.String",value:s.join("")}})},formatOperand:function(t,n){if(t.result==="constant"){switch(t.category){case"boolean":case"number":return String(t.value)}}if(n){y.wrapExpression(t)}return e.resultToString(t,true,false,true)},getExpression:function(a){if(a.value===undefined){return undefined}i.average(o,"",u);if(!p&&n.parse===r.simpleParser){t.warning("Complex binding syntax not active",null,s);p=true}return y.expression(a).then(function(t){return e.resultToString(t,false,a.complexBinding)},function(t){if(t instanceof SyntaxError){return"Unsupported: "+r.complexParser.escape(e.toErrorString(a.value))}throw t}).finally(function(){i.end(o)}).unwrap()},not:function(t){t.asExpression=true;t.complexBinding=false;return y.expression(t).then(function(t){return{result:"expression",type:"Edm.Boolean",value:"!"+e.resultToString(y.wrapExpression(t),true,false,true)}})},operator:function(e,t){var n=t==="And"||t==="Or"?"Edm.Boolean":undefined;e.complexBinding=false;return a.all([y.parameter(e,0,n),y.parameter(e,1,n)]).then(function(n){var r,a=n[0],i=n[1],s="",u,o;if(a.type!=="edm:Null"&&i.type!=="edm:Null"){a.category=f[a.type];i.category=f[i.type];y.adjustOperands(a,i);y.adjustOperands(i,a);if(a.category!==i.category){h(e,"Expected two comparable parameters but instead saw "+a.type+" and "+i.type)}switch(a.category){case"Decimal":s=",'Decimal'";break;case"DateTimeOffset":s=",'DateTime'";break}r=d[a.category]}u=y.formatOperand(a,!r);o=y.formatOperand(i,!r);return{result:"expression",type:"Edm.Boolean",value:r?"odata.compare("+u+","+o+s+")"+c[t]+"0":u+c[t]+o}})},parameter:function(t,n,r){var a=e.descend(t,n,true);return y.expression(a).then(function(e){if(r&&r!==e.type){h(a,"Expected "+r+" but instead saw "+e.type)}return e})},path:function(t){var n=t.ignoreAsPrefix,r=t.model,i,s=t.value;if(n&&s.startsWith(n)){s=s.slice(n.length)}e.expectType(t,"string");i=r.fetchObject(t.path+"/$");if(i.isPending()&&!t.$$valueAsPromise){i.caught();i=a.resolve()}return i.then(function(e){var n,a,i=e&&e.$Type;if(e&&t.complexBinding){a=r.getConstraints(e,t.path);n=i==="Edm.DateTimeOffset"?y.fetchDateTimeWithTimezone(t,s,a):y.fetchCurrencyOrUnit(t,s,i,a)}return n||y.pathResult(t,i,s,a)})},pathResult:function(e,t,n,r){return{constraints:r,formatOptions:t==="Edm.String"?Object.assign({parseKeepsEmptyString:true},e.formatOptions):e.formatOptions,parameters:e.parameters,result:"binding",type:t,value:e.prefix+n}},uriEncode:function(t){return y.parameter(t,0).then(function(t){return{result:"expression",type:"Edm.String",value:t.type==="Edm.String"?"odata.uriEncode("+e.resultToString(t,true,false,true)+","+e.toJSON(t.type)+")":"String("+e.resultToString(t,true,false,true)+")"}})},wrapExpression:function(e){if(e.result==="expression"){e.value="("+e.value+")"}return e}};return y},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_AggregationCache", ["./_AggregationHelper","./_Cache","./_ConcatHelper","./_GroupLock","./_Helper","./_MinMaxHelper","./_TreeState","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/odata/ODataUtils"],function(e,t,n,i,o,r,s,a,l,u){"use strict";function d(e,n,i,r,a){t.call(this,e,n,r,true);this.aElements=[];this.aElements.$byPredicate={};this.aElements.$count=undefined;this.aElements.$created=0;this.iResetCount=0;this.bUnifiedCache=i.expandTo>=Number.MAX_SAFE_INTEGER||!!i.createInPlace;this.doReset(i,a);this.addKeptElement=this.oFirstLevel.addKeptElement;this.removeKeptElement=this.oFirstLevel.removeKeptElement;this.requestSideEffects=this.oFirstLevel.requestSideEffects;this.oTreeState=new s(i.$NodeProperty,e=>o.getKeyFilter(e,this.sMetaPath,this.getTypes()))}d.prototype=Object.create(t.prototype);d.prototype.addTransientCollection=null;d.prototype._delete=function(e,n,i,r,s){let a=parseInt(i);if(isNaN(a)){throw new Error(`Unsupported kept-alive entity: ${this.sResourcePath}${i}`)}const u=this.aElements[a];const d=o.getPrivateAnnotation(u,"predicate");if(u["@$ui5.node.isExpanded"]){throw new Error(`Unsupported expanded node: ${this.sResourcePath}${d}`)}const h=o.getPrivateAnnotation(u,"parent");if(u["@$ui5.context.isTransient"]){return h._delete(e,n,o.getPrivateAnnotation(u,"transientPredicate"))}if(this.oCountPromise){this.createCountPromise()}return l.all([this.oRequestor.request("DELETE",n,e,{"If-Match":u}),this.readCount(e)]).then(()=>{this.oTreeState.delete(u);if(this.aElements.$count===undefined){return}a=t.getElementIndex(this.aElements,d,a);const e=h.removeElement(o.getPrivateAnnotation(u,"rank",0),d);const n=o.getPrivateAnnotation(u,"descendants",0);for(let t=0;t<n;t+=1){h.removeElement(e)}const i=n+1;if(h===this.oFirstLevel){this.adjustDescendantCount(u,a,-i)}else if(!h.getValue("$count")){this.makeLeaf(this.aElements[a-1])}this.shiftRank(a,-i);this.removeElement(a,d);s(a,-1)})};d.prototype.addElements=function(t,n,i,r){var s=this.aElements,a=this.oAggregation.$NodeProperty,u=this;function d(t,d){var h=s[n+d],c,f=o.getPrivateAnnotation(t,"predicate"),g=o.getPrivateAnnotation(t,"transientPredicate");if(h){if(h===t){return}e.beforeOverwritePlaceholder(h,t,i,r===undefined?undefined:r+d,a)}else if(n+d>=s.length){throw new Error("Array index out of bounds: "+(n+d))}c=s.$byPredicate[f];if(c&&c!==t&&!(c instanceof l)){if(s.includes(c)){const e=i.fixDuplicatePredicate(t,f);if(e){f=e;c=t}else{throw new Error("Duplicate key predicate: "+f)}}if(!c["@odata.etag"]||t["@odata.etag"]===c["@odata.etag"]){o.updateNonExisting(t,c)}else if(u.hasPendingChangesForPath(f)){throw new Error("Modified on client and on server: "+u.sResourcePath+f)}else{o.copySelected(c,t)}}if(f){s.$byPredicate[f]=t}if(g){s.$byPredicate[g]=t}s[n+d]=t;if(i){o.setPrivateAnnotation(t,"parent",i)}if(g){r-=1}else{o.setPrivateAnnotation(t,"rank",r+d)}}if(n<0){throw new Error("Illegal offset: "+n)}if(Array.isArray(t)){t.forEach(d)}else{d(t,0)}};d.prototype.adjustDescendantCount=function(e,t,n){let i=e["@$ui5.node.level"];let r=false;for(let e=t-1;e>=0&&i>1;e-=1){const s=this.aElements[e];const a=s["@$ui5.node.level"];if(a===0){r=true}else if(a<i){if(!r||this.isAncestorOf(e,t)){const i=o.getPrivateAnnotation(s,"descendants",0)+n;o.setPrivateAnnotation(s,"descendants",i);if(i===0){this.makeLeaf(s)}else if(i===n){o.updateAll(this.mChangeListeners,o.getPrivateAnnotation(s,"predicate"),s,{"@$ui5.node.isExpanded":true})}t=e;r=false}i=a}}};d.prototype.beforeRequestSideEffects=function(e){if(!this.oAggregation.hierarchyQualifier){throw new Error("Missing recursive hierarchy")}delete e.$apply;if(!e.$select.includes(this.oAggregation.$NodeProperty)){e.$select.push(this.oAggregation.$NodeProperty)}};d.prototype.beforeUpdateSelected=function(t,n){e.checkNodeProperty(this.aElements.$byPredicate[t],n,this.oAggregation.$NodeProperty,true)};d.prototype.collapse=function(t,n,i,r){const s=this.getValue(t);const a=e.getCollapsedObject(s);o.updateAll(i?{}:this.mChangeListeners,t,s,a);const l=!!n;this.oTreeState.collapse(s,l,r);const u=this.aElements;const d=u.indexOf(s);let h=this.countDescendants(s,d);if(this.oAggregation.subtotalsAtBottomOnly!==undefined&&Object.keys(a).length>1){h+=1}let c=h;for(let e=d+1;e<d+1+c;e+=1){const t=u[e];if(o.hasPrivateAnnotation(t,"placeholder")){continue}if(l&&t["@$ui5.node.isExpanded"]){c-=this.collapse(o.getPrivateAnnotation(t,"predicate"),n,i,true)}if(!this.isSelectionDifferent(t)){delete u.$byPredicate[o.getPrivateAnnotation(t,"predicate")];delete u.$byPredicate[o.getPrivateAnnotation(t,"transientPredicate")]}}const f=u.splice(d+1,c);const g=s["@$ui5.node.level"];if(!l||!this.bUnifiedCache&&g>=this.oAggregation.expandTo){f.$level=g;f.$rank=o.getPrivateAnnotation(s,"rank");o.setPrivateAnnotation(s,"spliced",f)}u.$count-=c;if(l&&!r){this.validateAndDeleteExpandInfo(n,s)}return h};d.prototype.countDescendants=function(e,t){var n;const i=e["@$ui5.node.level"];const r=this.bUnifiedCache?Infinity:this.oAggregation.expandTo;let s=o.getPrivateAnnotation(e,"descendants");for(n=t+1;n<this.aElements.length;n+=1){const e=this.aElements[n];const t=e["@$ui5.node.level"];const a=t===0&&o.hasPrivateAnnotation(e,"placeholder");if(!a&&t<=i){break}if(t<=r&&o.hasPrivateAnnotation(e,"rank")){if(!s){break}s-=1;if(e["@$ui5.node.isExpanded"]===false){s-=o.getPrivateAnnotation(e,"descendants",0)}}}return n-(t+1)};d.prototype.create=function(e,t,n,i,r,s,a,l){if(s){throw new Error("Unsupported bAtEndOfCreated")}const u=r["@$ui5.node.parent"];delete r["@$ui5.node.parent"];const d=u?.slice(u.indexOf("("));const h=this.aElements;const c=h.$byPredicate[d];if(c?.["@$ui5.node.isExpanded"]===false){throw new Error("Unsupported collapsed parent: "+u)}const f=c?c["@$ui5.node.level"]+1:1;let g=f>this.oAggregation.expandTo&&!this.oAggregation.createInPlace?o.getPrivateAnnotation(c,"cache"):this.oFirstLevel;if(!g){g=this.createGroupLevelCache(c);g.setEmpty();o.setPrivateAnnotation(c,"cache",g)}o.addByPath(this.mPostRequests,i,r);const p=h.indexOf(c)+1;if(this.oCountPromise){const t=l;this.createCountPromise(true);l=()=>{this.readCount(e)?.catch(this.oRequestor.getModelInterface().getReporter());t()}}const P=g.create(e,t,n,i,r,s,a,l,()=>{o.removeByPath(this.mPostRequests,i,r);this.oCountPromise?.$restore();if(this.oAggregation.createInPlace){return}h.$count-=1;delete h.$byPredicate[i];h.splice(p,1)});if(u){o.getPrivateAnnotation(r,"postBody")[this.oAggregation.$ParentNavigationProperty+"@odata.bind"]=o.makeRelativeUrl("/"+u,"/"+this.sResourcePath)}const m=c&&c["@$ui5.node.isExpanded"]===undefined;const v=m&&c?.["@$ui5.node.level"]>=this.oAggregation.expandTo;if(v){this.oTreeState.expand(c)}const $=(e,t)=>{if(m){o.updateAll(this.mChangeListeners,d,c,{"@$ui5.node.isExpanded":true})}r["@$ui5.node.level"]=f;h.splice(e,0,null);this.addElements(r,e,g,t);h.$count+=1};const y=(e,t)=>{g.removeElement(0);o.deletePrivateAnnotation(r,"transientPredicate");delete h.$byPredicate[i];if(t!==undefined){this.adjustDescendantCount(r,e,+1);g.restoreElement(t,r);o.setPrivateAnnotation(r,"rank",t);this.shiftRank(e,+1)}};if(this.oAggregation.createInPlace){return P.then(async()=>{o.removeByPath(this.mPostRequests,i,r);delete r["@$ui5.context.isTransient"];const[t]=await Promise.all([this.requestRank(r,e),this.requestNodeProperty(r,e)]);if(v){o.setPrivateAnnotation(r,"rank",t)}else if(t===undefined){g.removeElement(0)}else{$(t,t);y(t,t)}return r})}$(p,undefined);return P.then(async()=>{o.removeByPath(this.mPostRequests,i,r);h.$byPredicate[o.getPrivateAnnotation(r,"predicate")]=r;r["@$ui5.node.level"]=f;this.oTreeState.setOutOfPlace(r,c);if(g===this.oFirstLevel&&this.oAggregation.expandTo>1){const[t]=await Promise.all([this.requestRank(r,e),this.requestNodeProperty(r,e,true)]);y(p,t)}else{await this.requestNodeProperty(r,e,true)}return r})};d.prototype.createCountPromise=function(e){const t=this.oCountPromise;if(t?.isPending()){return}let n;this.oCountPromise=new l(e=>{n=t=>{delete this.oCountPromise?.$old;e(t)}});this.oCountPromise.$resolve=n;this.oCountPromise.$restore=()=>{n(t)};this.oCountPromise.$old=t;this.oCountPromise.$retryIfFailed=e};d.prototype.createGroupLevelCache=function(n,i){var r=this.oAggregation,s=n?n["@$ui5.node.level"]+1:1,a,l,u,h,c,f,g;if(r.hierarchyQualifier){f=Object.assign({},this.mQueryOptions)}else{a=e.getAllProperties(r);h=s>r.groupLevels.length;u=h?r.groupLevels.concat(Object.keys(r.group).sort()):r.groupLevels.slice(0,s);f=e.filterOrderby(this.mQueryOptions,r,s);g=!h&&Object.keys(r.aggregate).some(function(e){return r.aggregate[e].subtotals})}if(n){c=o.getPrivateAnnotation(n,"filter")||o.getKeyFilter(n,this.sMetaPath,this.getTypes());f.$$filterBeforeAggregate=c+(f.$$filterBeforeAggregate?" and ("+f.$$filterBeforeAggregate+")":"")}if(!i){delete f.$count;f=e.buildApply(r,f,s)}f.$count=true;l=t.create(this.oRequestor,this.sResourcePath,f,true);l.calculateKeyPredicate=r.hierarchyQualifier?d.calculateKeyPredicateRH.bind(null,n,r):d.calculateKeyPredicate.bind(null,n,u,a,h,g);if(c){l.$parentFilter=c}if(!r.hierarchyQualifier){l.fixDuplicatePredicate=d.fixDuplicatePredicate.bind(l)}return l};d.prototype.doReset=function(t,i){this.oAggregation=t;this.sToString=this.getDownloadUrl("");const o=[];if(this.mQueryOptions.$count){if(t.hierarchyQualifier){this.createCountPromise()}else if(t.groupLevels.length){this.setQueryOptions({...this.mQueryOptions,$$leaves:true});this.oCountPromise=new l(function(e){o.push(t=>{e(parseInt(t.UI5__leaves))})})}else{this.oCountPromise=undefined}}else{this.oCountPromise=undefined}this.oGrandTotalPromise=i?new l(n=>{o.push(i=>{e.handleGrandTotal(t,i);n(i)})}):undefined;const r=o.length>0;this.oFirstLevel=this.createGroupLevelCache(null,r);if(r){o.push(function(){});n.enhanceCache(this.oFirstLevel,t,o)}};d.prototype.expand=function(t,n,r,s){var a,u=typeof n==="string"?this.getValue(n):n,d=o.getPrivateAnnotation(u,"spliced"),h=this;if(n!==u){o.updateAll(this.mChangeListeners,n,u,e.getOrCreateExpandedObject(this.oAggregation,u));this.oTreeState.expand(u,r)}if(r>=Number.MAX_SAFE_INTEGER){return l.resolve(this.validateAndDeleteExpandInfo(t,u)).then(()=>-1)}if(d){o.deletePrivateAnnotation(u,"spliced");const e=this.aElements;const t=e.indexOf(u)+1;this.aElements=e.concat(d,e.splice(t));this.aElements.$byPredicate=e.$byPredicate;a=d.length;this.aElements.$count=e.$count+a;o.copySelected(e,this.aElements);const n=u["@$ui5.node.level"]-d.$level;const r=o.getPrivateAnnotation(u,"rank")-d.$rank;d.forEach(function(e){var t=o.getPrivateAnnotation(e,"predicate");if(e["@$ui5.node.level"]){e["@$ui5.node.level"]+=n}if(o.getPrivateAnnotation(e,"parent")===h.oFirstLevel){const t=o.getPrivateAnnotation(e,"rank");if(t!==undefined){o.setPrivateAnnotation(e,"rank",t+r)}}if(!o.hasPrivateAnnotation(e,"placeholder")){if(d.$stale&&!h.isSelectionDifferent(e)){h.turnIntoPlaceholder(e,t)}else{h.aElements.$byPredicate[t]=e;const n=o.getPrivateAnnotation(e,"transientPredicate");if(n){h.aElements.$byPredicate[n]=e}if(o.hasPrivateAnnotation(e,"expanding")){o.deletePrivateAnnotation(e,"expanding");a+=h.expand(i.$cached,e).getResult()}}}});return l.resolve(a)}if(this.bUnifiedCache||r>1||u["@$ui5.node.level"]<this.oAggregation.expandTo){return l.resolve(-1)}let c=o.getPrivateAnnotation(u,"cache");if(!c){c=this.createGroupLevelCache(u);o.setPrivateAnnotation(u,"cache",c)}return c.read(0,this.iReadLength,0,t,s).then(function(t){var i=h.aElements.indexOf(u)+1,r=u["@$ui5.node.level"],s=e.getCollapsedObject(u),l=h.oAggregation.subtotalsAtBottomOnly!==undefined&&Object.keys(s).length>1,d;if(!u["@$ui5.node.isExpanded"]){o.deletePrivateAnnotation(u,"spliced");return 0}if(!i){o.setPrivateAnnotation(u,"expanding",true);return 0}a=t.value.$count;if(o.hasPrivateAnnotation(u,"groupLevelCount")&&o.getPrivateAnnotation(u,"groupLevelCount")!==a){throw new Error("Unexpected structural change: groupLevelCount")}o.setPrivateAnnotation(u,"groupLevelCount",a);o.updateAll(h.mChangeListeners,n,u,{"@$ui5.node.groupLevelCount":a});if(l){a+=1}if(i===h.aElements.length){h.aElements.length+=a}else{for(d=h.aElements.length-1;d>=i;d-=1){h.aElements[d+a]=h.aElements[d];delete h.aElements[d]}}h.addElements(t.value,i,c,0);for(d=i+t.value.length;d<i+t.value.$count;d+=1){h.aElements[d]=e.createPlaceholder(r+1,d-i,c)}if(l){s=Object.assign({},s);e.setAnnotations(s,undefined,true,r,e.getAllProperties(h.oAggregation));o.setPrivateAnnotation(s,"predicate",o.getPrivateAnnotation(u,"predicate").slice(0,-1)+",$isTotal=true)");h.addElements(s,i+a-1)}h.aElements.$count+=a;return a},function(t){o.updateAll(h.mChangeListeners,n,u,e.getCollapsedObject(u));h.oTreeState.collapse(u);throw t})};d.prototype.fetchParentIndex=function(e,t){const n=this.aElements[e]["@$ui5.node.level"];for(let t=e-1;t>=0;t-=1){const i=this.aElements[t]["@$ui5.node.level"];if(i===0){break}if(i===n){e=t}}const i=this.aElements[e];let r=o.getPrivateAnnotation(i,"parentIndexPromise");if(r){return r}const s=o.getKeyFilter(i,this.sMetaPath,this.getTypes());const a=Object.assign({},this.mQueryOptions);a.$apply="ancestors($root"+this.oAggregation.$path+","+this.oAggregation.hierarchyQualifier+","+this.oAggregation.$NodeProperty+",filter("+s+"),1)";const u=this.sResourcePath+this.oRequestor.buildQueryString(null,a);r=this.oRequestor.request("GET",u,t).then(async e=>{const n=e.value[0];const i=this.aElements.$byPredicate[o.getKeyPredicate(n,this.sMetaPath,this.getTypes())];if(i&&o.getPrivateAnnotation(i,"rank")!==undefined){return this.aElements.indexOf(i)}o.setPrivateAnnotation(n,"parent",this.oFirstLevel);const r=[this.oAggregation.$DistanceFromRoot,this.oAggregation.$DrillState,this.oAggregation.$LimitedDescendantCount];const[s]=await Promise.all([this.requestRank(n,t),this.requestProperties(n,r,t,true),this.requestNodeProperty(n,t,false)]);this.oFirstLevel.calculateKeyPredicate(n,this.getTypes(),this.sMetaPath);const a=this.findIndex(s);if(o.hasPrivateAnnotation(this.aElements[a],"placeholder")){this.insertNode(n,s,a)}return a}).finally(()=>{o.deletePrivateAnnotation(i,"parentIndexPromise")});r=l.resolve(r);o.setPrivateAnnotation(i,"parentIndexPromise",r);return r};d.prototype.fetchValue=function(e,t,n,o){var r=this;if(t==="$count"){if(this.oCountPromise){if(this.oAggregation.hierarchyQualifier){this.registerChangeListener("./$count",o)}if(e===i.$cached&&this.oCountPromise.$old){return this.oCountPromise.$old}return this.oCountPromise}if(this.oAggregation.hierarchyQualifier||this.oAggregation.groupLevels.length){a.error("Failed to drill-down into $count, invalid segment: $count",this.toString(),"sap.ui.model.odata.v4.lib._Cache");return l.resolve()}return this.oFirstLevel.fetchValue(e,t,n,o)}return l.resolve(this.aElements.$byPredicate[t.split("/")[0]]).then(function(){r.registerChangeListener(t,o);return r.drillDown(r.aElements,t,e)})};d.prototype.findIndex=function(e,t=this.oFirstLevel){return this.aElements.findIndex(n=>o.getPrivateAnnotation(n,"rank")===e&&o.getPrivateAnnotation(n,"parent")===t)};d.prototype.get1stInPlaceChildIndex=function(e){let t=e+1;while(this.aElements[t]?.["@$ui5.context.isTransient"]!==undefined){t+=1}const n=this.aElements[t];if(!n){return[-1]}const i=n["@$ui5.node.level"];const r=e>=0?this.aElements[e]["@$ui5.node.level"]+1:1;const s=o.hasPrivateAnnotation(n,"placeholder");return i===r||i===0?[t,s,r]:[-1]};d.prototype.getCreatedElements=function(e){return[]};d.prototype.getDownloadQueryOptions=function(t){if(this.oAggregation.hierarchyQualifier){if("$count"in t){t=Object.assign({},t);delete t.$count}}else{t=e.filterOrderby(t,this.oAggregation)}return e.buildApply(this.oAggregation,t,0,true)};d.prototype.getElements=function(e,t,n){if(e){throw new Error("Unsupported path: "+e)}const i=this.aElements.slice(t,n).map(e=>o.hasPrivateAnnotation(e,"placeholder")?undefined:e);i.$count=this.aElements.$count;return i};d.prototype.getInsertIndex=function(e){var t;for(t=0;t<this.aElements.length;t+=1){const n=this.aElements[t];if(o.getPrivateAnnotation(n,"rank")>e&&!this.oTreeState.isOutOfPlace(o.getPrivateAnnotation(n,"predicate"))){return t}}return t};d.prototype.getParentIndex=function(e){const t=this.aElements[e]["@$ui5.node.level"];if(t<=1){return-1}let n=false;for(let i=e;i>=0;i-=1){const o=this.aElements[i];const r=o["@$ui5.node.level"];if(r===0){n=true}else if(r<t){if(r===t-1&&(!n||this.isAncestorOf(i,e))){return i}break}}};d.prototype.getSiblingIndex=function(t,n,i){const r=this.aElements[t];const s=o.getPrivateAnnotation(r,"parent");const a=s!==this.oFirstLevel||this.oAggregation.expandTo===1&&!this.oAggregation.$ExpandLevels;const l=o.getPrivateAnnotation(r,"rank");let u=l+n;if(n<0){if(!a){u=e.findPreviousSiblingIndex(s.aElements,l)}if(u<0){return-1}}else{u+=o.getPrivateAnnotation(r,"descendants",0);if(u>=s.aElements.$count||s.aElements[u]?.["@$ui5.node.level"]<r["@$ui5.node.level"]){return-1}}if(u>=0){const e=this.findIndex(u,s);if(e<0){return-1}const t=this.aElements[e];if(a&&i||!o.hasPrivateAnnotation(t,"placeholder")){if(t["@$ui5.context.isTransient"]!==undefined){return this.getSiblingIndex(e,n,i)}return e}}};d.prototype.getQueryOptions4Single=function(e){if(e!==""){throw new Error("Unsupported path: "+e)}const t=o.clone({...this.mQueryOptions,...this.mLateExpandSelect});const n=t.$select.indexOf(this.oAggregation.$NodeProperty);if(n>=0){t.$select.splice(n,1)}return t};d.prototype.getValue=function(e){var t;t=this.fetchValue(i.$cached,e);if(t.isFulfilled()){return t.getResult()}t.caught()};d.prototype.handleOutOfPlaceNodes=function([e,...t]){if(!e){return}const n=e=>o.getKeyPredicate(e,this.sMetaPath,this.getTypes());const i=e=>parseInt(o.drillDown(e,this.oAggregation.$LimitedRank));const r={};e.value.forEach(e=>{r[n(e)]=e});const s=new Set(this.oTreeState.getOutOfPlacePredicates());t.forEach(e=>{e.value.forEach(e=>{const t=n(e);s.delete(t);if(this.aElements.$byPredicate[t]){return}const a=this.oTreeState.getOutOfPlace(t).parentPredicate;const l=r[a];if(l){const e=o.drillDown(l,this.oAggregation.$DrillState);if(e==="collapsed"){return}}else if(a){return}o.merge(e,r[t]);this.oFirstLevel.calculateKeyPredicate(e,this.getTypes(),this.sMetaPath);const u=i(e);o.deleteProperty(e,this.oAggregation.$LimitedRank);this.insertNode(e,u)})});s.forEach(e=>this.oTreeState.deleteOutOfPlace(e));this.oTreeState.getOutOfPlaceGroupedByParent().forEach(e=>{const t=r[e.parentPredicate];this.moveOutOfPlaceNodes(t&&i(t),e.nodePredicates)})};d.prototype.insertNode=function(e,t,n=t){this.addElements(e,n,this.oFirstLevel,t);this.oFirstLevel.removeElement(t);this.oFirstLevel.restoreElement(t,e)};d.prototype.isAncestorOf=function(e,t){if(t===e){return true}if(t<e||!this.aElements[e]["@$ui5.node.isExpanded"]||this.aElements[e]["@$ui5.node.level"]>=this.aElements[t]["@$ui5.node.level"]){return false}return t<=e+this.countDescendants(this.aElements[e],e)};d.prototype.isDeletingInOtherGroup=function(e){return false};d.prototype.isRefreshNeededAfterCreate=function(e){const t=this.aElements[e];return this.oAggregation.createInPlace&&t["@$ui5.node.isExpanded"]===undefined&&t["@$ui5.node.level"]>=this.oAggregation.expandTo};d.prototype.isSelectionDifferent=function(e){return(e["@$ui5.context.isSelected"]??false)!==(this.aElements["@$ui5.context.isSelected"]??false)};d.prototype.keepOnlyGivenElements=function(t){var n={},i=this;t.forEach(function(e){n[e]=true});return Object.values(this.aElements.$byPredicate).filter(function(t){var r=o.getPrivateAnnotation(t,"predicate");if(!r){return}if(n[r]){e.markSplicedStale(t);n[r]=false;return true}if(!(r in n)){i.turnIntoPlaceholder(t,r)}})};d.prototype.makeLeaf=function(e){o.updateAll(this.mChangeListeners,o.getPrivateAnnotation(e,"predicate"),e,{"@$ui5.node.isExpanded":undefined});delete e["@$ui5.node.isExpanded"];o.deletePrivateAnnotation(e,"descendants")};d.prototype.move=function(e,t,n,r,s,a,u){let d=!this.bUnifiedCache;const h=t.slice(t.indexOf("("));const c=this.aElements.$byPredicate[h];if(!u&&this.oTreeState.isOutOfPlace(h)){this.oTreeState.deleteOutOfPlace(h);delete c["@$ui5.context.isTransient"];d=true}const f=n?.slice(n.indexOf("("));const g=this.aElements.$byPredicate[f];if(this.oTreeState.isOutOfPlace(f)){this.oTreeState.deleteOutOfPlace(f,true);d=true}if(g?.["@$ui5.node.isExpanded"]===false||g?.["@$ui5.node.level"]>=this.oAggregation.expandTo&&!g["@$ui5.node.isExpanded"]){this.oTreeState.expand(g);if(!o.hasPrivateAnnotation(g,"spliced")){d=true}}let p;const P=()=>{if(r!==undefined){d=true;const t=r?.slice(r.indexOf("("));p=this.aElements.$byPredicate[t];let n=null;if(p){this.oTreeState.deleteOutOfPlace(t);const e=this.oAggregation.$fetchMetadata(o.getMetaPath("/"+s+"/"+this.oAggregation.$Actions.ChangeNextSiblingAction+"/NextSibling/")).getResult();const i=Object.keys(e).filter(e=>e[0]!=="$");n=i.reduce((e,t)=>{e[t]=p[t];return e},{})}const i=(u?"$-2":s)+"/"+this.oAggregation.$Actions.ChangeNextSiblingAction;return this.oRequestor.request("POST",i,e.getUnlockedCopy(),{"If-Match":c,Prefer:"return=minimal"},{NextSibling:n})}};let m;if(u){d=true;const n={$select:[]};o.selectKeyProperties(n,this.getTypes()[this.sMetaPath]);const i=t+"/"+this.oAggregation.$Actions.CopyAction+this.oRequestor.buildQueryString(this.sMetaPath,n,false,true);m=this.oRequestor.request("POST",i,e.getUnlockedCopy(),{"If-Match":c},{});t="$-1"}let v=l.all([this.oRequestor.request("PATCH",t,e,{"If-Match":c,Prefer:"return=minimal"},{[this.oAggregation.$ParentNavigationProperty+"@odata.bind"]:n},null,function e(){}),P(),this.requestRank(c,e,d),a&&this.requestRank(p,e,true),m]);if(d){v=v.then(([,,t,n,i])=>()=>{let o;if(u){o=this.requestRank(i,e,true).then(e=>this.findIndex(e))}return[t===undefined?undefined:this.findIndex(t),a&&this.findIndex(n),o]})}else{v=v.then(([e,,t])=>{const n=c["@$ui5.node.isExpanded"]?this.collapse(h):undefined;let r=1;switch(g?g["@$ui5.node.isExpanded"]:true){case false:r=this.expand(i.$cached,f).unwrap()+1;case true:break;default:o.updateAll(this.mChangeListeners,f,g,{"@$ui5.node.isExpanded":true})}const s=this.aElements.indexOf(c);const a=o.getPrivateAnnotation(c,"descendants",0)+1;this.adjustDescendantCount(c,s,-a);this.aElements.splice(s,1);const l=o.getPrivateAnnotation(c,"rank");this.shiftRankForMove(l,a,t);this.oFirstLevel.move(l,t,a);o.updateExisting(this.mChangeListeners,h,c,{"@odata.etag":e["@odata.etag"],"@$ui5.context.isTransient":undefined,"@$ui5.node.level":g?g["@$ui5.node.level"]+1:1});o.deletePrivateAnnotation(c,"rank");const u=this.getInsertIndex(t);this.aElements.splice(u,0,c);this.adjustDescendantCount(c,u,+a);o.setPrivateAnnotation(c,"rank",t);return[r,u,n]})}return{promise:v,refresh:d}};d.prototype.moveOutOfPlaceNodes=function(e,t){const n=e===undefined?-1:this.findIndex(e);t.forEach(e=>{const t=this.aElements.$byPredicate[e];if(t){this.oTreeState.stillOutOfPlace(t,e);const o=t["@$ui5.node.isExpanded"];if(o){this.collapse(e)}const r=this.aElements.indexOf(t);this.aElements.splice(r,1);this.aElements.splice(n+1,0,t);if(o){this.expand(i.$cached,e)}}})};d.prototype.read=function(e,t,n,i,r){var s,a=e,d=t,h,c,f=this.oGrandTotalPromise&&this.oAggregation.grandTotalAtBottomOnly!==true,g=[],p,P=this;function m(e,t){g.push(P.readGap(h,e,t,i.getUnlockedCopy(),r))}if(f&&!e&&t===1){if(n!==0){throw new Error("Unsupported prefetch length: "+n)}i.unlock();return this.oGrandTotalPromise.then(function(e){return{value:[e]}})}if(this.aElements.$count===undefined){this.iReadLength=t+n;if(f){if(a){a-=1}else{d-=1}}g.push(this.readCount(i),this.readFirst(a,d,n,i,r))}else{const r=u._getReadRange(this.aElements,e,t,n,e=>{switch(o.getPrivateAnnotation(e,"placeholder")){case true:return o.getPrivateAnnotation(e,"parent").isMissing(o.getPrivateAnnotation(e,"rank"));case 1:return!(this.aElements.$byPredicate[o.getPrivateAnnotation(e,"predicate")]instanceof l);default:return false}});const a=Math.min(r.start+r.length,this.aElements.length);for(p=r.start;p<a;p+=1){const e=this.aElements[p];s=o.hasPrivateAnnotation(e,"placeholder")?o.getPrivateAnnotation(e,"parent"):undefined;if(s!==h){if(c!==undefined){m(c,p);h=c=undefined}if(s){c=p;h=s}}else if(c!==undefined&&o.getPrivateAnnotation(e,"rank")!==o.getPrivateAnnotation(this.aElements[p-1],"rank")+1){m(c,p);c=p}}if(c!==undefined){m(c,p)}i.unlock()}return l.all(g).then(function(){var n=P.aElements.slice(e,e+t).map(function(e){return o.hasPrivateAnnotation(e,"placeholder")?undefined:e});n.$count=P.aElements.$count;return{"@$ui5.resetCount":P.iResetCount,value:n}})};d.prototype.readCount=function(e){var t,n=this.oCountPromise&&this.oCountPromise.$resolve,i;if(n){delete this.oCountPromise.$resolve;t=Object.assign({},this.mQueryOptions);delete t.$apply;delete t.$count;delete t.$expand;delete t.$orderby;if(this.oAggregation.search){t.$search=this.oAggregation.search}delete t.$select;i=this.sResourcePath+"/$count"+this.oRequestor.buildQueryString(null,t);return this.oRequestor.request("GET",i,e.getUnlockedCopy()).then(e=>{n(e);o.fireChange(this.mChangeListeners,"./$count",e)}).catch(e=>{if(e.cause&&this.oCountPromise.$retryIfFailed){this.oCountPromise.$resolve=n}else{this.oCountPromise.$restore()}throw e})}};d.prototype.readFirst=function(t,n,r,s,a){var u=this;n+=r;const d=this.oTreeState.getOutOfPlaceCount();r=Math.max(r,d);if(t>r){n+=r;t-=r}else{n+=t;t=0}const h=this.iResetCount;const c=this.oFirstLevel.bSentRequest;if(c&&d){s=i.$cached}return l.all([this.oFirstLevel.read(t,n,0,s,a),...c?[]:this.requestOutOfPlaceNodes(s)]).then(function([n,...i]){if(h!==u.iResetCount){return}if(c&&d){return}var r,s,a=0,l;u.aElements.length=u.aElements.$count=n.value.$count;if(u.aElements.length&&u.oGrandTotalPromise){u.aElements.$count+=1;u.aElements.length+=1;r=u.oGrandTotalPromise.getResult();switch(u.oAggregation.grandTotalAtBottomOnly){case false:a=1;u.aElements.$count+=1;u.aElements.length+=1;u.addElements(r,0);s=o.getPrivateAnnotation(r,"copy");u.addElements(s,u.aElements.length-1);break;case true:u.addElements(r,u.aElements.length-1);break;default:a=1;u.addElements(r,0)}}u.addElements(n.value,t+a,u.oFirstLevel,t);for(l=0;l<u.aElements.$count;l+=1){u.aElements[l]??=e.createPlaceholder(u.oAggregation.expandTo>1||u.bUnifiedCache?0:1,l-a,u.oFirstLevel)}u.handleOutOfPlaceNodes(i)})};d.prototype.readGap=function(e,t,n,i,r){const s=this.aElements[t];const a=o.getPrivateAnnotation(s,"rank");if(a===undefined){if(n-t!==1){throw new Error("Not just a single created persisted")}const a=o.getPrivateAnnotation(s,"predicate");const l=e.refreshSingle(i,"",-1,a,true,false,r).then(n=>{o.inheritPathValue(this.oAggregation.$NodeProperty.split("/"),s,n,true);this.addElements(n,t,e)});this.aElements.$byPredicate[a]=l;return l}let l=e.getQueryOptions();if(l.$count){l={...l};delete l.$count;e.setQueryOptions(l,true)}const u=e.read(a,n-t,0,i,r,true).then(n=>{var i=false,o;if(s!==this.aElements[t]&&n.value[0]!==this.aElements[t]){i=true;t=this.aElements.indexOf(s);if(t<0){t=this.aElements.indexOf(n.value[0]);if(t<0){o=new Error("Collapse before read has finished");o.canceled=true;throw o}}}this.addElements(n.value,t,e,a);if(i){o=new Error("Collapse or expand before read has finished");o.canceled=true;throw o}});if(u.isPending()){for(let e=t;e<n;e+=1){const t=o.getPrivateAnnotation(this.aElements[e],"predicate");if(t){this.aElements.$byPredicate[t]=u}}}return u};d.prototype.refreshKeptElements=function(e,t,n,i){if(!this.oAggregation.hierarchyQualifier){return}const o=this.oFirstLevel.refreshKeptElements;return o.call(this,e,t,n,true)};d.prototype.replaceElement=function(e,t,n,i,r,s,a){this.visitResponse(i,r,o.getMetaPath(o.buildPath(this.sMetaPath,s)),s+n,undefined,a);o.updateAll({},"",e.$byPredicate[n],i)};d.prototype.requestFilteredOrderedPredicates=async function(t,n,i){if(!i){throw new Error("Not implemented")}let r={...this.mQueryOptions};delete r.$count;delete r.$expand;delete r.$orderby;r=e.buildApply4Hierarchy(this.oAggregation,r,true);r.$select=[];const s=this.getTypes();o.selectKeyProperties(r,s[this.sMetaPath]);const a=t.map(e=>o.getKeyFilter(this.aElements.$byPredicate[e],this.sMetaPath,s));r.$top=a.length;r.$filter=a.join(" or ");const l=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,r,false,true,true);const u=await this.oRequestor.request("GET",l,n);return u.value.map(e=>{this.calculateKeyPredicate(e,s,this.sMetaPath);return o.getPrivateAnnotation(e,"predicate")})};d.prototype.requestNodeProperty=async function(e,t,n){if(o.drillDown(e,this.oAggregation.$NodeProperty)!==undefined){return}await this.requestProperties(e,[this.oAggregation.$NodeProperty],t,true,n)};d.prototype.requestOutOfPlaceNodes=function(t){const n=this.oTreeState.getOutOfPlaceGroupedByParent();if(!n.length){return[]}const i=[];const o=e=>{const n=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,e,false,true);i.push(this.oRequestor.request("GET",n,t.getUnlockedCopy()))};let r=e.getQueryOptionsForOutOfPlaceNodesRank(n,this.oAggregation,this.oFirstLevel.getQueryOptions());o(r);n.forEach(t=>{r=e.getQueryOptionsForOutOfPlaceNodesData(t,this.oAggregation,this.mQueryOptions);o(r)});return i};d.prototype.requestProperties=async function(t,n,i,r,s,a){function l(e){e={...e};delete e.$count;delete e.$expand;delete e.$select;return e}let u;if(a){const t={...this.oAggregation,$ExpandLevels:this.oTreeState.getExpandLevels()};u=l(e.buildApply4Hierarchy(t,this.mQueryOptions))}else{const n=o.getPrivateAnnotation(t,"parent",this.oFirstLevel);u=s?e.dropFilter(this.oAggregation,this.mQueryOptions,n.$parentFilter):l(n.getQueryOptions())}u.$filter=o.getKeyFilter(t,this.sMetaPath,this.getTypes());const d=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,u,false,true);const h=await this.oRequestor.request("GET",d,i.getUnlockedCopy(),undefined,undefined,undefined,undefined,this.sMetaPath,undefined,false,{$select:n},this);const c=h.value[0];if(r&&c){n.forEach(e=>{o.inheritPathValue(e.split("/"),c,t,true)})}else{return c}};d.prototype.requestRank=async function(e,t,n){const i=await this.requestProperties(e,[this.oAggregation.$LimitedRank],t,false,false,n);return i&&parseInt(o.drillDown(i,this.oAggregation.$LimitedRank))};d.prototype.requestSiblingIndex=async function(e,t,n){const i=this.getSiblingIndex(e,t,true);if(i!==undefined){return i}const r=this.aElements[e];const s={...this.oFirstLevel.mQueryOptions,$filter:this.oAggregation.$LimitedRank+(t<0?" lt ":" gt ")+o.getPrivateAnnotation(r,"rank")+" and "+this.oAggregation.$DistanceFromRoot+" lt "+r["@$ui5.node.level"],$top:1};if(t<0){s.$orderby=this.oAggregation.$LimitedRank+" desc"}s.$select=[...s.$select,this.oAggregation.$LimitedRank];delete s.$count;const a=this.sResourcePath+this.oRequestor.buildQueryString("",s,false,true,true);const l=await this.oRequestor.request("GET",a,n);const u=l.value[0];this.oFirstLevel.calculateKeyPredicate(u,this.getTypes(),this.sMetaPath);const d=parseInt(o.drillDown(u,this.oAggregation.$LimitedRank));o.deleteProperty(u,this.oAggregation.$LimitedRank);if(o.hasPrivateAnnotation(this.aElements[d],"placeholder")){this.insertNode(u,d)}return u["@$ui5.node.level"]===r["@$ui5.node.level"]?d:-1};d.prototype.reset=function(t,n,i,r,s){if(s){throw new Error("Unsupported grouping via sorter")}t.forEach(e=>{var t=this.aElements.$byPredicate[e];if(o.hasPrivateAnnotation(t,"placeholder")){throw new Error("Unexpected placeholder")}delete t["@$ui5.node.isExpanded"];delete t["@$ui5.node.level"];delete t["@$ui5._"];o.setPrivateAnnotation(t,"predicate",e)});const a=this.oFirstLevel.reset;a.call(this,t,n,i);if(n){this.oBackup.oCountPromise=this.oCountPromise;this.oBackup.oFirstLevel=this.oFirstLevel;this.oBackup.oGrandTotalPromise=this.oGrandTotalPromise;this.oBackup.bUnifiedCache=this.bUnifiedCache;this.bUnifiedCache=true}else{this.oTreeState.reset()}r=Object.assign({},r);r.$ExpandLevels=this.oTreeState.getExpandLevels();this.doReset(r,e.hasGrandTotal(r.aggregate))};d.prototype.resetOutOfPlace=function(){this.oTreeState.resetOutOfPlace()};d.prototype.restore=function(e){if(e){this.oCountPromise=this.oBackup.oCountPromise;this.oFirstLevel=this.oBackup.oFirstLevel;this.oGrandTotalPromise=this.oBackup.oGrandTotalPromise;this.bUnifiedCache=this.oBackup.bUnifiedCache}const t=this.oFirstLevel.restore;t.call(this,e)};d.prototype.shiftRank=function(e,t){const n=this.aElements[e];const i=o.getPrivateAnnotation(n,"rank");if(i===undefined){return}const r=o.getPrivateAnnotation(n,"parent");if(r===this.oFirstLevel){e=-1}for(let s=e+1;s<this.aElements.length;s+=1){const e=this.aElements[s];if(e===n){continue}if(o.getPrivateAnnotation(e,"parent")===r){const n=o.getPrivateAnnotation(e,"rank");if(n>=i){o.setPrivateAnnotation(e,"rank",n+t)}}if(r!==this.oFirstLevel&&e["@$ui5.node.level"]<n["@$ui5.node.level"]){break}}};d.prototype.shiftRankForMove=function(e,t,n){if(e<n){this.aElements.forEach(i=>{const r=o.getPrivateAnnotation(i,"rank");if(e+t<=r&&r<n+t){o.setPrivateAnnotation(i,"rank",r-t)}})}else if(n<e){this.aElements.forEach(i=>{const r=o.getPrivateAnnotation(i,"rank");if(n<=r&&r<e){o.setPrivateAnnotation(i,"rank",r+t)}})}};d.prototype.toString=function(){return this.sToString};d.prototype.turnIntoPlaceholder=function(t,n){if(o.hasPrivateAnnotation(t,"placeholder")){return}o.setPrivateAnnotation(t,"placeholder",1);e.markSplicedStale(t);delete this.aElements.$byPredicate[n];const i=o.getPrivateAnnotation(t,"rank");if(i!==undefined){o.getPrivateAnnotation(t,"parent").drop(i,n,true)}};d.prototype.validateAndDeleteExpandInfo=async function(t,n){const i=this.oTreeState.getExpandFilters(e=>{const t=this.aElements.$byPredicate[e];return!this.aElements.includes(t)});if(!i.length){return}const r=this.getTypes();let s={...this.mQueryOptions};s.$$filterBeforeAggregate=o.getKeyFilter(n,this.sMetaPath,r);delete s.$count;delete s.$expand;delete s.$orderby;s=e.buildApply4Hierarchy(this.oAggregation,s,true);s.$filter=i.sort().join(" or ");s.$select=[];o.selectKeyProperties(s,r[this.sMetaPath]);s.$top=i.length;const a=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,s,false,true,true);const l=await this.oRequestor.request("GET",a,this.oRequestor.getUnlockedAutoCopy(t));l.value.forEach(e=>{this.calculateKeyPredicate(e,r,this.sMetaPath);this.oTreeState.deleteExpandInfo(e)})};d.calculateKeyPredicate=function(t,n,i,r,s,a,l,u){var d;if(!(u in l)){return undefined}if(t){i.forEach(function(e){if(Array.isArray(e)){o.inheritPathValue(e,t,a)}else if(!(e in a)){if(t[e+"@$ui5.noData"]){a[e+"@$ui5.noData"]=true}a[e]=t[e]}})}d=r&&o.getKeyPredicate(a,u,l)||o.getKeyPredicate(a,u,l,n,true);o.setPrivateAnnotation(a,"predicate",d);if(!r){o.setPrivateAnnotation(a,"filter",o.getKeyFilter(a,u,l,n))}e.setAnnotations(a,r?undefined:false,s,t?t["@$ui5.node.level"]+1:1,t?null:i);return d};d.calculateKeyPredicateRH=function(t,n,i,r,s){var a,l,u=1,d,h;if(!(s in r)){return undefined}h=o.getKeyPredicate(i,s,r);o.setPrivateAnnotation(i,"predicate",h);if(s!==n.$metaPath){return h}switch(o.drillDown(i,n.$DrillState)){case"expanded":l=true;break;case"collapsed":l=false;break;default:}o.deleteProperty(i,n.$DrillState);if(t){u=t["@$ui5.node.level"]+1}else{a=o.drillDown(i,n.$DistanceFromRoot);if(a){o.deleteProperty(i,n.$DistanceFromRoot);u=parseInt(a)+1}}e.setAnnotations(i,l,undefined,u);if(n.$LimitedDescendantCount){d=o.drillDown(i,n.$LimitedDescendantCount);if(d){o.deleteProperty(i,n.$LimitedDescendantCount);if(d!=="0"){o.setPrivateAnnotation(i,"descendants",parseInt(d))}}}return h};d.create=function(n,i,o,s,a,l,u,h){var c,f;function g(){if("$expand"in s){throw new Error("Unsupported system query option: $expand")}if("$select"in s){throw new Error("Unsupported system query option: $select")}}if(a){c=e.hasGrandTotal(a.aggregate);f=a.groupLevels&&!!a.groupLevels.length;if(e.hasMinOrMax(a.aggregate)){if(c){throw new Error("Unsupported grand totals together with min/max")}if(f){throw new Error("Unsupported group levels together with min/max")}if(a.hierarchyQualifier){throw new Error("Unsupported recursive hierarchy together with min/max")}if(u){throw new Error("Unsupported $$sharedRequest together with min/max")}g();return r.createCache(n,i,a,s)}if(s.$filter&&(c&&!a["grandTotal like 1.84"]||f)){throw new Error("Unsupported system query option: $filter")}if(c||f||a.hierarchyQualifier){if(s.$search){throw new Error("Unsupported system query option: $search")}if(!a.hierarchyQualifier){g()}if(h){throw new Error("Unsupported grouping via sorter")}if(u){throw new Error("Unsupported $$sharedRequest")}return new d(n,i,a,s,c)}}if("$$filterOnAggregate"in s){throw new Error("Unsupported $$filterOnAggregate")}if(s.$$filterBeforeAggregate){s={...s,$apply:"filter("+s.$$filterBeforeAggregate+")/"+s.$apply};delete s.$$filterBeforeAggregate}return t.create(n,i,s,l,o,u)};d.fixDuplicatePredicate=function(e,t){if(t==="('')"||t.includes("=''")){a.warning("Duplicate key predicate: "+t,this.toString(),"sap.ui.model.odata.v4.lib._AggregationCache");const n=t.slice(0,-1)+",$duplicate="+o.uid()+")";o.setPrivateAnnotation(e,"predicate",n);if(this.aElements.$byPredicate[t]===e){delete this.aElements.$byPredicate[t];this.aElements.$byPredicate[n]=e}return n}};return d},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_AggregationHelper", ["./_Helper","./_Parser","sap/ui/model/Filter"],function(e,t,r){"use strict";var n=/,|%2C|%2c/,i={aggregate:{"*":{grandTotal:"boolean",max:"boolean",min:"boolean",name:"string",subtotals:"boolean",unit:"string",with:"string"}},"grandTotal like 1.84":"boolean",grandTotalAtBottomOnly:"boolean",group:{"*":{additionally:["string"]}},groupLevels:["string"],search:"string",subtotalsAtBottomOnly:"boolean"},a=Object.freeze({"@$ui5.node.isExpanded":false}),o=Object.freeze({"@$ui5.node.isExpanded":true}),l=new RegExp("^("+t.sODataIdentifier+"(?:/"+t.sODataIdentifier+")*"+")(?:"+t.sWhitespace+"+(?:asc|desc))?$"),s={createInPlace:true,expandTo:/^[1-9]\d*$/,hierarchyQualifier:"string",search:"string"},u="com.sap.vocabularies.Hierarchy.v1.",f;function c(e,t,r,n,i,a,o){var l=e.aggregate[i],s=l.name||i,u=l.unit,f=l.with;if(n){if(f==="average"||f==="countdistinct"){throw new Error("Cannot aggregate totals with '"+f+"'")}s=i;i="UI5grand__"+i}if(f){s+=" with "+f+" as "+i}else if(l.name){s+=" as "+i}r.push(s);if(u&&!r.includes(u)&&!o.includes(u,a+1)&&!t.includes(u)){r.push(u)}}function g(e){var t=[];if(e.$skip){t.push("skip("+e.$skip+")")}delete e.$skip;if(e.$top<Infinity){t.push("top("+e.$top+")")}delete e.$top;return t.join("/")}f={beforeOverwritePlaceholder:function(t,r,n,i,a){var o=e.getPrivateAnnotation(t,"parent");if(!e.hasPrivateAnnotation(t,"placeholder")){throw new Error("Unexpected element")}if(o!==n||e.getPrivateAnnotation(t,"rank")!==i||t["@$ui5.node.level"]!==r["@$ui5.node.level"]&&t["@$ui5.node.level"]!==0){throw new Error("Wrong placeholder")}["descendants","predicate"].forEach(function(n){if(e.hasPrivateAnnotation(t,n)&&e.getPrivateAnnotation(t,n)!==e.getPrivateAnnotation(r,n)){throw new Error("Unexpected structural change: "+n)}});if(a){f.checkNodeProperty(t,r,a)}e.copyPrivateAnnotation(t,"cache",r);e.copyPrivateAnnotation(t,"context",r);e.copyPrivateAnnotation(t,"spliced",r);if("@$ui5.context.isTransient"in t){r["@$ui5.context.isTransient"]=false}if(e.getPrivateAnnotation(t,"placeholder")===1){if(t["@$ui5.node.isExpanded"]===undefined!==(r["@$ui5.node.isExpanded"]===undefined)){throw new Error("Not a leaf anymore (or vice versa)")}if(t["@$ui5.node.isExpanded"]!==undefined){r["@$ui5.node.isExpanded"]=t["@$ui5.node.isExpanded"]}}},buildApply:function(e,t,r,n,i){var a,o="",l=[],s=e["grandTotal like 1.84"],u,d,p,h=[],$,y,v=[];function b(t,r){var n,a=e.aggregate[t];if(a[r]){n="UI5"+r+"__"+t;h.push(t+" with "+r+" as "+n);if(i){i[n]={measure:t,method:r}}}}if(e.hierarchyQualifier){return f.buildApply4Hierarchy(e,t,!r)}t=Object.assign({},t);e.groupLevels??=[];e.group??={};e.groupLevels.forEach(function(t){e.group[t]??={}});y=Object.keys(e.group).sort();if(y.length===e.groupLevels.length){e.groupLevels.pop()}d=!r||r>e.groupLevels.length;u=d?y.filter(function(t){return!e.groupLevels.includes(t)}):[e.groupLevels[r-1]];if(!r){u=e.groupLevels.concat(u)}e.aggregate??={};a=Object.keys(e.aggregate).sort();if(r===1&&!n){a.filter(function(t){return e.aggregate[t].grandTotal}).forEach(c.bind(null,e,[],l,s))}if(!n){a.forEach(function(e){b(e,"min");b(e,"max")})}a.filter(function(t){return d||e.aggregate[t].subtotals}).forEach(c.bind(null,e,u,v,false));if(v.length){o="aggregate("+v.join(",")+")"}if(u.length){u.forEach(function(t){var r=e.group[t].additionally;if(r){u.push.apply(u,r)}});o="groupby(("+u.join(",")+(o?"),"+o+")":"))")}if(n){delete t.$count}else if(t.$count){h.push("$count as UI5__count");delete t.$count}if(t.$filter){o+="/filter("+t.$filter+")";delete t.$filter}if(t.$orderby){o+="/orderby("+t.$orderby+")";delete t.$orderby}$=g(t);if(s&&l.length){if(e.groupLevels.length){throw new Error("Cannot combine visual grouping with grand total")}o+="/concat(aggregate("+l.join(",")+"),aggregate("+h.join(",")+"),"+($||"identity")+")"}else{if(h.length){o+="/concat(aggregate("+h.join(",")+"),"+($||"identity")+")"}else if($){o+="/"+$}if(r===1&&t.$$leaves&&!n){p="groupby(("+y.join(",")+"))/aggregate($count as UI5__leaves)"}delete t.$$leaves;if(l.length){o="concat("+(p?p+",":"")+"aggregate("+l.join(",")+"),"+o+")"}else if(p){o="concat("+p+","+o+")"}}if(t.$$filterOnAggregate){o="groupby(("+y.join(",")+"),filter("+t.$$filterOnAggregate+"))/"+o;delete t.$$filterOnAggregate}if(e.search){o="search("+e.search+")/"+o}if(t.$$filterBeforeAggregate){o="filter("+t.$$filterBeforeAggregate+")/"+o;delete t.$$filterBeforeAggregate}if(o){t.$apply=o}return t},buildApply4Hierarchy:function(e,t,r){let n;function i(r){if(t.$select){let i=e["$"+r];if(!i){n??=e.$fetchMetadata(e.$metaPath+"/@"+u+"RecursiveHierarchy#"+e.hierarchyQualifier).getResult();i=e["$"+r]=n[r+"Property"]?.$PropertyPath??n[r]?.$Path}t.$select.push(i)}}let a=e.$NodeProperty;if(!a){a="???";if(t){const t=e.$fetchMetadata(e.$metaPath+"/@Org.OData.Aggregation.V1.RecursiveHierarchy#"+e.hierarchyQualifier);if(t.isFulfilled()){a=e.$NodeProperty=t.getResult().NodeProperty.$PropertyPath;e.$ParentNavigationProperty=t.getResult().ParentNavigationProperty.$NavigationPropertyPath}}}t=Object.assign({},t);if(t.$select){t.$select=t.$select.slice();if(!t.$select.includes(a)){t.$select.push(a)}e.$Actions??=e.$fetchMetadata(e.$metaPath+"/@"+u+"RecursiveHierarchyActions#"+e.hierarchyQualifier).getResult()}let o="";if(t.$filter||e.search){let r="";if(t.$filter){o="filter("+t.$filter;r=")/";delete t.$filter}if(e.search){o+=r+"search("+e.search}o="ancestors($root"+e.$path+","+e.hierarchyQualifier+","+a+","+o+"),keep start)/"}if(t.$$filterBeforeAggregate){o+="descendants($root"+e.$path+","+e.hierarchyQualifier+","+a+",filter("+t.$$filterBeforeAggregate+(r?"))":"),1)");delete t.$$filterBeforeAggregate;if(t.$orderby){o+="/orderby("+t.$orderby+")";delete t.$orderby}}else{if(t.$orderby){o+="orderby("+t.$orderby+")/";delete t.$orderby}e.expandTo??=1;if(e.expandTo>Number.MAX_SAFE_INTEGER){e.expandTo=Number.MAX_SAFE_INTEGER}const n=!r&&e.$ExpandLevels;o+=u+"TopLevels(HierarchyNodes=$root"+(e.$path||"")+",HierarchyQualifier='"+e.hierarchyQualifier+"',NodeProperty='"+a+"'"+(r||e.expandTo>=Number.MAX_SAFE_INTEGER?"":",Levels="+e.expandTo)+(n?",ExpandLevels="+n:"")+")";if(r){i("DistanceFromRoot")}else if(e.expandTo>1||n){i("DistanceFromRoot");i("LimitedDescendantCount")}}i("DrillState");if(n&&!e.$LimitedRank){e.$LimitedRank=n.LimitedRank?.$Path??e.$DrillState.slice(0,e.$DrillState.lastIndexOf("/")+1)+"LimitedRank"}t.$apply=o;return t},checkNodeProperty:function(t,r,n,i){var a=e.drillDown(r,n),o=e.drillDown(t,n);if((i||o!==undefined)&&a!==undefined&&o!==a){throw new Error("Unexpected structural change: "+n+" from "+JSON.stringify(o)+" to "+JSON.stringify(a))}},checkTypeof:function(e,t,r){if(Array.isArray(t)){if(!Array.isArray(e)){throw new Error("Not an array value for '"+r+"'")}e.forEach(function(e,n){f.checkTypeof(e,t[0],r+"/"+n)})}else if(t instanceof RegExp){if(!t.test(e)){throw new Error("Not a matching value for '"+r+"'")}}else if(typeof t==="object"){const n="*"in t;if(typeof e!=="object"||!e||Array.isArray(e)){throw new Error("Not an object value for '"+r+"'")}Object.keys(e).forEach(function(i){if(!n&&!(i in t)){throw new Error("Unsupported property: '"+r+"/"+i+"'")}f.checkTypeof(e[i],t[n?"*":i],r+"/"+i)})}else if(t===true){if(e!==true){throw new Error("Not a true value for '"+r+"'")}}else if(typeof e!==t){throw new Error("Not a "+t+" value for '"+r+"'")}},createPlaceholder:function(t,r,n){var i={"@$ui5.node.level":t};e.setPrivateAnnotation(i,"parent",n);e.setPrivateAnnotation(i,"placeholder",true);e.setPrivateAnnotation(i,"rank",r);return i},dropFilter:function(e,t,r){e={...e};delete e.search;t={...t};delete t.$count;delete t.$expand;delete t.$filter;delete t.$orderby;delete t.$select;if(r){t.$$filterBeforeAggregate=r}else{delete t.$$filterBeforeAggregate}return f.buildApply4Hierarchy(e,t)},extractSubtotals:function(e,t,r,n){var i=t["@$ui5.node.level"];Object.keys(e.aggregate).forEach(function(a){var o=e.aggregate[a],l,s=o.unit;if(!o.subtotals){return}r[a]=t[a];if(n){n[a]=null}if(s){r[s]=t[s];if(n){l=e.groupLevels.indexOf(s);if(l<0||l>=i){n[s]=null}}}})},filterOrderby:function(e,t,r){var n=f.getFilteredOrderby(e.$orderby,t,r);e=Object.assign({},e);if(n){e.$orderby=n}else{delete e.$orderby}return e},findPreviousSiblingIndex:function(t,r){let n;const i=t[r]["@$ui5.node.level"];for(let a=r-1;a>=0;a-=1){const o=t[a];if(!o){n=true;continue}if(o["@$ui5.node.level"]<i){break}if(o["@$ui5.node.level"]>i){continue}if(a+e.getPrivateAnnotation(o,"descendants",0)===r-1){return a}break}return n?undefined:-1},getAllProperties:function(e){var t=Object.keys(e.aggregate),r=Object.keys(e.group),n=t.concat(r);t.forEach(function(t){var r=e.aggregate[t].unit;if(r){n.push(r)}});r.forEach(function(t){e.group[t].additionally?.forEach(function(e){n.push(e.includes("/")?e.split("/"):e)})});return n},getCollapsedObject:function(t){return e.getPrivateAnnotation(t,"collapsed",a)},getFilteredOrderby:function(e,t,r){var i=!r||r>t.groupLevels.length;function a(e){return Object.keys(t.aggregate).some(function(r){var n=t.aggregate[r];return n.subtotals&&e===n.unit})}function o(e){if(e in t.group&&(!r||!t.groupLevels.includes(e))){return true}return Object.keys(t.aggregate).some(function(r){return e===t.aggregate[r].unit})||Object.keys(t.group).some(function(n){return(!r||!t.groupLevels.includes(n))&&s(e,n)})}function s(e,r){return e===r||t.group[r].additionally?.includes(e)}if(e){return e.split(n).filter(function(e){var n=l.exec(e),u;if(n){u=n[1];return u in t.aggregate&&(i||t.aggregate[u].subtotals)||i&&o(u)||!i&&(s(u,t.groupLevels[r-1])||a(u))}return true}).join(",")}},getOrCreateExpandedObject:function(t,r){var n,i;if(t.subtotalsAtBottomOnly===undefined){return o}i=e.getPrivateAnnotation(r,"expanded");if(!i){n={"@$ui5.node.isExpanded":false};e.setPrivateAnnotation(r,"collapsed",n);i={"@$ui5.node.isExpanded":true};e.setPrivateAnnotation(r,"expanded",i);f.extractSubtotals(t,r,n,t.subtotalsAtBottomOnly?i:null)}return i},getQueryOptionsForOutOfPlaceNodesData:function(e,t,r){t=Object.assign({},t);t.expandTo=1;delete t.search;delete t.$ExpandLevels;r=Object.assign({},r);if(e.parentFilter){r.$$filterBeforeAggregate=e.parentFilter}delete r.$count;delete r.$filter;delete r.$orderby;r=f.buildApply(t,r,1);const n=e.nodeFilters.slice().sort();r.$filter=n.join(" or ");r.$top=n.length;const i=r.$select.indexOf(t.$DrillState);if(i>=0){r.$select.splice(i,1)}return r},getQueryOptionsForOutOfPlaceNodesRank:function(t,r,n){const i=new Set;t.forEach(function(e){if(e.parentFilter){i.add(e.parentFilter)}e.nodeFilters.forEach(function(e){i.add(e)})});const a=[r.$DistanceFromRoot,r.$DrillState,r.$LimitedRank];if(r.$LimitedDescendantCount){a.push(r.$LimitedDescendantCount)}n=Object.assign({},n,{$filter:[...i].sort().join(" or "),$select:a,$top:i.size});delete n.$count;delete n.$orderby;e.selectKeyProperties(n,r.$fetchMetadata(r.$metaPath+"/").getResult());return n},handleGrandTotal:function(t,r){if(t["grandTotal like 1.84"]){f.removeUI5grand__(r)}f.setAnnotations(r,true,true,0,f.getAllProperties(t));if(t.grandTotalAtBottomOnly===false){const t=Object.assign({},r,{"@$ui5.node.isExpanded":undefined});e.setPrivateAnnotation(r,"copy",t);e.setPrivateAnnotation(t,"predicate","($isTotal=true)")}e.setPrivateAnnotation(r,"predicate","()")},hasGrandTotal:function(e){return e&&Object.keys(e).some(function(t){return e[t].grandTotal})},hasMinOrMax:function(e){return e&&Object.keys(e).some(function(t){var r=e[t];return r.min||r.max})},isAffected:function(t,r,n){return n.some(function(n){function i(t){return e.hasPathPrefix(t,n.endsWith("/*")?n.slice(0,-2):n)||e.hasPathPrefix(n,t)}function a(e){return e.some(function(e){return e.getFilters()?a(e.getFilters()):i(e.getPath())})}return n===""||n==="*"||a(r)||Object.keys(t.aggregate).some(e=>{const r=t.aggregate[e];return i(r.name||e)||r.unit&&i(r.unit)})||Object.keys(t.group).some(e=>i(e)||t.group[e].additionally?.some(e=>i(e)))})},markSplicedStale:function(t){var r=e.getPrivateAnnotation(t,"spliced");if(r){r.$stale=true}},removeUI5grand__:function(e){Object.keys(e).forEach(function(t){if(t.startsWith("UI5grand__")){e[t.slice(10)]=e[t];delete e[t]}})},setAnnotations:function(t,r,n,i,a){e.setAnnotation(t,"@$ui5.node.isExpanded",r);e.setAnnotation(t,"@$ui5.node.isTotal",n);t["@$ui5.node.level"]=i;if(a){a.forEach(function(r){if(Array.isArray(r)){e.createMissing(t,r)}else if(!(r in t)){t[r]=undefined;t[r+"@$ui5.noData"]=true}})}},setPath:function(t,r){t.$metaPath=r&&e.getMetaPath(r);t.$path=r},splitFilter:function(e,t){var n=[],i=[],a=[];function o(e){return e.getFilters()?e.getFilters().some(o):e.getPath()in t.aggregate}function l(e){return Object.keys(t.aggregate).some(r=>t.aggregate[r].unit===e)}function s(e){if(e.getFilters()&&e.isAnd()){e.getFilters().forEach(s)}else if(e.getPath()&&l(e.getPath())){n.push(e);i.push(e);a.push(e)}else{(o(e)?a:n).push(e)}}function u(e){return e.length>1?new r(e,true):e[0]}if(!t?.aggregate){return[e]}if(!t.$leafLevelAggregated){return[undefined,e]}s(e);let c=[u(a),u(n)];if(t.groupLevels.length||!t["grandTotal like 1.84"]&&f.hasGrandTotal(t.aggregate)){c=[undefined,c[1],c[0],i]}return c},validateAggregation:function(e,t){if(e.hierarchyQualifier&&!t){throw new Error("Missing parameter autoExpandSelect at model")}f.checkTypeof(e,e.hierarchyQualifier?s:i,"$$aggregation")},validateAggregationAndSetPath:function(e,t,r,n){f.validateAggregation(e,t);e.$fetchMetadata=r;f.setPath(e,n)}};return f},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_Cache", ["./_GroupLock","./_Helper","./_Requestor","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/model/odata/ODataUtils"],function(e,t,i,n,s,r){"use strict";var a="sap.ui.model.odata.v4.lib._Cache",o=/\(\$uid=[-\w]+\)$/,u=/^\$inactive\./,h="@com.sap.vocabularies.Common.v1.Messages",c=/^-?\d+$/,l=/^([^(]*)(\(.*\))$/;function d(e,t){return t===""||e===t||e.startsWith(t+"/")}function f(e,t,i,n,s,r){this.iActiveUsages=1;this.mChangeListeners={};this.mChangeRequests={};this.sOriginalResourcePath=s||t;this.iInactiveSince=Infinity;this.mEditUrl2PatchPromise={};this.oPendingRequestsPromise=null;this.mPostRequests={};this.sReportedMessagesPath=undefined;this.oRequestor=e;this.bSentRequest=false;this.bSortExpandSelect=n;this.setResourcePath(t);this.setQueryOptions(i);this.bSharedRequest=r}f.prototype._delete=function(i,n,r,a,o){var u=r.split("/"),h=u.pop(),l=u.join("/"),d=this;this.checkSharedRequest();return this.fetchValue(e.$cached,l).then(function(e){var r,u=h?e[h]||e.$byPredicate[h]:e,f,p,g,P=c.test(h)?Number(h):undefined,m=t.getPrivateAnnotation(u,"predicate"),y=t.buildPath(l,Array.isArray(e)?m:h),$=d.oRequestor.getModelInterface(),v,R=t.getPrivateAnnotation(u,"transient"),E=t.getPrivateAnnotation(u,"transientPredicate");function q(){t.removeByPath(d.mChangeRequests,y,v);if(p.length){$.updateMessages(undefined,p)}delete u["@$ui5.context.isDeleted"];if(Array.isArray(e)){P=r.index;const t=e.$deleted.indexOf(r);if(P!==undefined){d.restoreElement(P,u,t,e,l)}e.$deleted.splice(t,1)}if(d.iActiveUsages){o(P,1)}else if(P===undefined&&d.reset){d.reset([])}}if(R){if(typeof R!=="string"){throw new Error("No 'delete' allowed while waiting for server response")}if(e.$postBodyCollection){e.$postBodyCollection.splice(P,1);d.removeElement(P,E,e,l);o(P,-1);const i=new Error("Deleted from deep create");i.canceled=true;t.getPrivateAnnotation(u,"reject")(i);t.cancelNestedCreates(u,"Deleted from deep create")}else{d.oRequestor.removePost(R,u)}return undefined}p=$.getMessagesByPath(t.buildPath("/",d.sResourcePath,y),true);$.updateMessages(p);u["@$ui5.context.isDeleted"]=true;if(Array.isArray(e)){r=d.addDeleted(e,P,m,i,!!E);d.removeElement(P,m,e,l)}o(P,-1);if(i){f=i.getGroupId();d.oRequestor.relocateAll("$parked."+f,f,u)}g={"If-Match":a||u};n+=d.oRequestor.buildQueryString(d.sMetaPath,d.mQueryOptions,true);v=i?d.oRequestor.request("DELETE",n,i,g,undefined,undefined,q,undefined,t.buildPath(d.sOriginalResourcePath,y)):s.resolve();t.addByPath(d.mChangeRequests,y,v);return v.catch(function(e){if(e.status!==404){throw e}}).then(function(){t.removeByPath(d.mChangeRequests,y,v);if(Array.isArray(e)){e.$deleted.splice(e.$deleted.indexOf(r),1);delete e.$byPredicate[m];delete e.$byPredicate[E]}else if(h){t.updateExisting(d.mChangeListeners,l,e,t.makeUpdateData([h],null))}else{u["$ui5.deleted"]=true}},function(e){if(!e.canceled){p=p.filter(function(e){return!e.persistent});q()}throw e})})};f.prototype.addDeleted=function(e,t,i,n,s){var r={created:s,groupId:n&&n.getGroupId(),predicate:i,index:t},a;e.$deleted??=[];if(t===undefined){e.$deleted.unshift(r)}else{for(a=0;a<e.$deleted.length;a+=1){if(t<e.$deleted[a].index){break}}e.$deleted.splice(a,0,r)}return r};f.prototype.addPendingRequest=function(){var e;if(!this.oPendingRequestsPromise){this.oPendingRequestsPromise=new s(function(t){e=t});this.oPendingRequestsPromise.$count=0;this.oPendingRequestsPromise.$resolve=e}this.oPendingRequestsPromise.$count+=1};f.prototype.addTransientCollection=function(e,i){var n,s=e.split("/"),r=s.pop(),a=this.getValue(s.join("/")),o=t.getPrivateAnnotation(a,"postBody"),u,h=e.indexOf(")",e.indexOf("($uid="))+1,c=this.getValue(e.slice(0,h)),l=t.getPrivateAnnotation(c,"select",{}),d=this;function f(){n.$postBodyCollection=o[r]=u}this.checkSharedRequest();n=a[r]??=[];n.$count=n.$created=n.length;n.$byPredicate={};u=o[r]||[];if(n.length){f()}else{n.$postBodyCollection=f}l[t.getMetaPath(e.slice(h+1))]=i;t.setPrivateAnnotation(c,"select",l);n.forEach(function(e,i){var s="($uid="+t.uid()+")";e["@$ui5.context.isTransient"]=true;t.setPrivateAnnotation(e,"postBody",u[i]);t.setPrivateAnnotation(e,"transient",t.getPrivateAnnotation(a,"transient"));t.setPrivateAnnotation(e,"transientPredicate",s);t.setPrivateAnnotation(e,"promise",t.addPromise(e));n.$byPredicate[s]=e});this.fetchTypes().then(function(i){d.oRequestor.fetchType(i,d.sMetaPath+"/"+t.getMetaPath(e))});return n};f.prototype.adjustIndexes=function(e,t,i,n,s,r){if(i===undefined){return}if(!e&&this.aReadRequests){this.aReadRequests.forEach(function(e){if(e.iStart>=i){e.iStart+=n;e.iEnd+=n}})}(t.$deleted||[]).forEach(function(e,t){if(i<e.index||s<t||r&&(i===0||!e.created)){e.index+=n}})};f.prototype.calculateKeyPredicate=function(e,i,n){var s,r=i[n];if(r&&r.$Key){s=t.getKeyPredicate(e,n,i);if(s){t.setPrivateAnnotation(e,"predicate",s)}}return s};f.prototype.checkSharedRequest=function(){if(this.bSharedRequest){throw new Error(this+" is read-only")}};f.prototype.create=function(e,i,n,r,a,o,h,c,l){var d=this.getValue(n),f=e.getGroupId(),p,g,P=this;function m(s){var o=a["@$ui5.context.isInactive"],u=d.indexOf(a);if(s&&o){if(o===1){t.resetInactiveEntity(P.mChangeListeners,r,a)}return true}t.cancelNestedCreates(a,"Deep create of "+i.getResult()+" canceled; group: "+e.getGroupId());t.removeByPath(P.mPostRequests,n,a);d.splice(u,1);d.$created-=1;if(!a["@$ui5.context.isInactive"]){if(!n){P.iActiveElements-=1}t.addToCount(P.mChangeListeners,n,d,-1)}delete d.$byPredicate[r];P.adjustIndexes(n,d,u,-1);if(l){l()}e.cancel()}function y(){P.addPendingRequest();t.setPrivateAnnotation(a,"transient",new Promise(function(e){g=e}));c()}function $(e,i){t.setPrivateAnnotation(a,"transient",f);t.addByPath(P.mPostRequests,n,a);return s.all([P.oRequestor.request("POST",e,i,null,p,y,m,undefined,t.buildPath(P.sResourcePath,n,r)),P.fetchTypes()]).then(function([i,s]){var o,u,h;t.deletePrivateAnnotation(a,"postBody");t.deletePrivateAnnotation(a,"transient");i["@$ui5.context.isTransient"]=false;t.removeByPath(P.mPostRequests,n,a);P.visitResponse(i,s,t.getMetaPath(t.buildPath(P.sMetaPath,n)),n+r,undefined,true);o=t.getPrivateAnnotation(i,"predicate");if(o){t.setPrivateAnnotation(a,"predicate",o);if(r in d.$byPredicate){d.$byPredicate[o]=a;t.updateTransientPaths(P.mChangeListeners,r,o)}}t.cancelNestedCreates(a,"Deep create of "+e+" succeeded. Do not use this promise.");u=t.buildPath(n,o||r);const c=t.updateNestedCreates(P.mChangeListeners,P.mQueryOptions,u,a,i,t.getPrivateAnnotation(a,"select"));if(!c){h=t.getQueryOptionsForPath(P.mLateExpandSelect||P.mQueryOptions,n).$select}t.updateSelected(P.mChangeListeners,u,a,i,h,undefined,true);t.setPrivateAnnotation(a,"deepCreate",c);t.deletePrivateAnnotation(a,"select");P.removePendingRequest();g(true);return a},function(t){var i;if(t.canceled){throw t}if(g){P.removePendingRequest();g()}if(P.fetchTypes().isRejected()){h(t);throw t}f=f.replace(u,"");f=P.oRequestor.getGroupSubmitMode(f)==="API"?f:"$parked."+f;i=$(e,P.oRequestor.lockGroup(f,P,true,true));h(t);return i})}this.checkSharedRequest();if(!Array.isArray(d)){throw new Error("Create is only supported for collections; '"+n+"' does not reference a collection")}p=t.clone(a);t.setPrivateAnnotation(a,"postBody",p);t.setPrivateAnnotation(a,"transientPredicate",r);a["@$ui5.context.isTransient"]=true;if(f.startsWith("$inactive.")){t.setPrivateAnnotation(a,"initialData",t.publicClone(a,true));a["@$ui5.context.isInactive"]=true}else{if(!n){this.iActiveElements+=1}t.addToCount(this.mChangeListeners,n,d,1)}if(o){d.splice(d.$created,0,a)}else{d.unshift(a)}d.$created+=1;d.$byPredicate??={};d.$byPredicate[r]=a;P.adjustIndexes(n,d,0,1,0,true);if(d.$postBodyCollection){if(typeof d.$postBodyCollection==="function"){d.$postBodyCollection()}t.setPrivateAnnotation(a,"transient",f);if(o){d.$postBodyCollection.push(p)}else{d.$postBodyCollection.unshift(p)}e.unlock();return t.addPromise(a)}return i.then(function(t){t+=P.oRequestor.buildQueryString(P.sMetaPath,P.mQueryOptions,true);return $(t,e)})};f.prototype.drillDown=function(i,r,o,u){var h=s.resolve(i),c,d,p=false,g,P=false,m=this;function y(e,t){t||=e[0]==="("&&e.at(-1)===")";n[t?"info":"error"]("Failed to drill-down into "+r+", invalid segment: "+e,m.toString(),a);return undefined}function $(e,n,s,r){var a,u,h=g.slice(0,s).join("/"),l=t.getMetaPath(h),f;if(Array.isArray(e)){return y(n,n==="0")}if(p){return y(n,true)}if(n.includes("@")){u=n.split("@")[0];l=t.getMetaPath(h.split("@")[0]);if(P||u in e||e[u+"@$ui5.noData"]||t.isSelected(l,m.mQueryOptions)){return y(n,true)}}const $=m.mSeparateProperty2ReadRequests?.[n];if($){const t=m.aElements.indexOf(e);const i=$.find(e=>t>=e.start&&t<e.end);if(i){return i.promise}}a=e[t.getAnnotationKey(e,".Permissions",n)];if(a===0||a==="None"){return undefined}return m.oRequestor.getModelInterface().fetchMetadata(m.sMetaPath+"/"+l).then(function(s){var a=false;if(!s){return y(n)}if(s.$Type==="Edm.Stream"&&!u){f=e[n+"@odata.mediaReadLink"]||e[n+"@mediaReadLink"];if(f){return f}if(e[n+"@$ui5.noData"]||t.isSelected(l,m.mQueryOptions)){return t.buildPath(m.oRequestor.getServiceUrl()+m.sResourcePath,h)}}if(!r&&e[n+"@$ui5.noData"]){return undefined}if(!P){if(!c&&!Array.isArray(i)){c=i;d=0}if(c&&!r){a=m.fetchLateProperty(o,c,g.slice(0,d).join("/"),g.slice(d).join("/"))}return typeof a==="boolean"?y(n,a):a}if(s.$kind==="NavigationProperty"){return null}if(!s.$Type.startsWith("Edm.")){return{}}if("$DefaultValue"in s){return s.$Type==="Edm.String"?s.$DefaultValue:t.parseLiteral(s.$DefaultValue,s.$Type,h)}return null})}if(!r){return h}g=r.split("/");return g.reduce(function(i,n,r){return i.then(function i(a,h){var v,R,E;if(a===undefined){return undefined}if(n==="$count"){return Array.isArray(a)?a.$count:y(n)}if(a===null){P=true;return $({},n,r+1)}if(typeof a!=="object"||n==="@$ui5._"||Array.isArray(a)&&(n[0]==="$"||n==="length")){return y(n)}if(t.hasPrivateAnnotation(a,"predicate")){c=a;d=r}E=a;P||=a["@$ui5.context.isTransient"];R=l.exec(n);if(R){if(R[1]){a=a[R[1]]}a&&=a.$byPredicate&&a.$byPredicate[R[2]]}else{v=f.from$skip(n,a);if(u&&v===n&&(a[n]===undefined||a[n]===null)){a[n]={}}a=a[v]}if(g.length===1&&o!==e.$cached&&m.mSeparateProperty2ReadRequests){const e=m.aElements.indexOf(a);const t=[];for(const i in m.mSeparateProperty2ReadRequests){const n=m.mSeparateProperty2ReadRequests[i].find(t=>e>=t.start&&e<t.end);if(n){t.push(n.promise)}}if(t.length){return Promise.all(t).then(function(){return i(E)})}}if(a===undefined&&n[0]!=="#"&&n[0]!=="@"){a=$(E,n,r+1,h);if(a instanceof s&&a.isPending()){return a.then(function(){return i(E,true)})}}if(n.includes("@")){p=true}return a})},h)};f.prototype.fetchLateProperty=function(e,i,n,s){var r=false,a,o,u,h=s.indexOf("@"),c,l,d,f,p=t.getMetaPath(n),g=this.getTypes(),P,m=this;function y(){r=true;m.oRequestor.getModelInterface().fireDataRequested("/"+o)}function $(e,i){var n=t.buildPath(a,i),s=g[n],r;s??=m.oRequestor.fetchType(g,n).getResult();if(i){(s.$Key||[]).forEach(function(e){if(typeof e==="object"){e=e[Object.keys(e)[0]]}P.push(t.buildPath(i,e))})}if(e.$expand){r=Object.keys(e.$expand)[0];$(e.$expand[r],t.buildPath(i,r))}}if(!(this.mLateExpandSelect||this.mQueryOptions&&this.mQueryOptions.$select)){return false}if(h>=0){if(s.startsWith("@$ui5.",h)){return true}s=s.slice(0,h)}P=[s];a=t.buildPath(this.sMetaPath,p);d=this.mLateExpandSelect||{$select:this.mQueryOptions.$select,$expand:this.mQueryOptions.$expand};d=t.intersectQueryOptions(t.getQueryOptionsForPath(d,n),[s],this.oRequestor.getModelInterface().fetchMetadata,a);if(!d){return false}$(d);o=t.buildPath(this.sResourcePath,n);f=o+this.oRequestor.buildQueryString(a,d,false,true);l=this.mPropertyRequestByPath[f];if(!l){c=o+this.oRequestor.buildQueryString(a,this.mQueryOptions,true);u=t.getPrivateAnnotation(i,"groupId");l=this.oRequestor.request("GET",c,u?this.oRequestor.lockGroup(u,this):e.getUnlockedCopy(),undefined,undefined,y,undefined,a,undefined,false,d).then(function(e){m.visitResponse(e,g,a,n);return e});this.mPropertyRequestByPath[f]=l}return l.then(function(e){var s=t.getPrivateAnnotation(e,"predicate"),a=t.getPrivateAnnotation(i,"predicate");if(a&&s&&a!==s){throw new Error("GET "+f+": Key predicate changed from "+a+" to "+s)}if(i["@odata.etag"]&&e["@odata.etag"]!==i["@odata.etag"]){throw new Error("GET "+f+": ETag changed")}t.updateSelected(m.mChangeListeners,n,i,e,P);if(r){r=false;m.oRequestor.getModelInterface().fireDataReceived(undefined,"/"+o)}}).catch(function(e){if(r){m.oRequestor.getModelInterface().fireDataReceived(e,"/"+o)}throw e}).finally(function(){delete m.mPropertyRequestByPath[f]})};f.prototype.fetchTypes=function(){var e,t,i=this;function n(s,r){if(r&&r.$expand){Object.keys(r.$expand).forEach(function(a){var o=s;a.split("/").forEach(function(n){o+="/"+n;e.push(i.oRequestor.fetchType(t,o))});n(o,r.$expand[a])})}}if(!this.oTypePromise){e=[];t={};e.push(this.oRequestor.fetchType(t,this.sMetaPath));n(this.sMetaPath,this.mQueryOptions);this.oTypePromise=s.all(e).then(function(){return t})}return this.oTypePromise};f.prototype.getAndRemoveCollection=function(t){var i=t.split("/"),n=i.pop(),s=this.fetchValue(e.$cached,i.join("/")).getResult(),r=s[n];this.checkSharedRequest();if(r){if(!Array.isArray(r)){throw new Error(`${t} must point to a collection`)}if(!r.$transfer){return undefined}delete r.$transfer}delete s[n];return r};f.prototype.getCreatedElements=function(e){var t=this.getValue(e);return t?t.slice(0,t.$created):[]};f.prototype.getDownloadQueryOptions=function(e){return e};f.prototype.getDownloadUrl=function(e,i,n){var s=this.mQueryOptions;if(e){s=t.getQueryOptionsForPath(s,e);s=t.merge({},i,s)}s=t.merge({},s,n);return this.oRequestor.getServiceUrl()+t.buildPath(this.sResourcePath,e)+this.oRequestor.buildQueryString(t.buildPath(this.sMetaPath,t.getMetaPath(e)),this.getDownloadQueryOptions(s),false,true,!t.isEmptyObject(n))};f.prototype.getElements=function(e,t,i){const n=this.getValue(e);if(!n){return undefined}const r=n.slice(t,i).map(e=>e instanceof s?undefined:e);r.$count=n.$count;return r};f.prototype.getPendingRequestsPromise=function(){return this.oPendingRequestsPromise&&this.oPendingRequestsPromise.getResult()};f.prototype.getQueryOptions=function(){return this.mQueryOptions};f.prototype.getQueryOptions4Single=function(e){return t.clone(t.getQueryOptionsForPath(this.mQueryOptions,e))};f.prototype.getResourcePath=function(){return this.sResourcePath};f.prototype.getTypes=function(){return this.fetchTypes().getResult()};f.prototype.getValue=function(e){throw new Error("Unsupported operation")};f.prototype.hasChangeListeners=function(){return!t.isEmptyObject(this.mChangeListeners)};f.prototype.hasPendingChangesForPath=function(e,i,n){var s=this;return Object.keys(this.mChangeRequests).some(function(n){return t.hasPathPrefix(n,e)&&!(i&&s.mChangeRequests[n].every(function(e){return!e.$isKeepAlive||e.$isKeepAlive()}))})||Object.keys(this.mPostRequests).some(function(i){return n&&!i?false:t.hasPathPrefix(i,e)&&s.mPostRequests[i].some(function(e){return e["@$ui5.context.isInactive"]!==true})})};f.prototype.hasSentRequest=function(){return this.bSentRequest};f.prototype.patch=function(i,n){var s=this;this.checkSharedRequest();return this.fetchValue(e.$cached,i).then(function(e){t.updateExisting(s.mChangeListeners,i,e,n);return e})};f.prototype.refreshSingle=function(i,n,r,a,o,u,h){var c=false,l=this;this.checkSharedRequest();return this.fetchValue(e.$cached,n).then(function(e){var d=u&&n===""&&l.oRequestor.getModelInterface().fetchMetadata(l.sMetaPath+"/@com.sap.vocabularies.Common.v1.Messages/$Path").getResult(),f=l.getQueryOptions4Single(n),p;if(r>=0){a=t.getPrivateAnnotation(e[r],"predicate")}if(!a){throw new Error("No key predicate known")}p=t.buildPath(l.sResourcePath,n,a);if(o&&l.mLateExpandSelect){t.aggregateExpandSelect(f,l.mLateExpandSelect)}if(d&&f.$select&&!f.$select.includes(d)){f.$select.push(d);c=true}const g=t.extractMergeableQueryOptions(f);g.$$sortIfMerged=true;p+=l.oRequestor.buildQueryString(l.sMetaPath,f,true,l.bSortExpandSelect);l.bSentRequest=true;return s.all([l.oRequestor.request("GET",p,i,undefined,undefined,h,undefined,undefined,undefined,undefined,g),l.fetchTypes()]).then(function(t){var i=t[0];l.replaceElement(e,r,a,i,t[1],n,c);return i})})};f.prototype.refreshSingleWithRemove=function(i,n,r,a,o,u,h){var c=this;this.checkSharedRequest();return s.all([this.fetchValue(e.$cached,n),this.fetchTypes()]).then(function(e){var l=e[0],d,f,p={},g,P,m=t.clone(t.getQueryOptionsForPath(c.mQueryOptions,n)),y,$=t.buildPath(c.sResourcePath,n),v=[],R=e[1];if(r!==undefined){d=l[r];a=t.getPrivateAnnotation(d,"predicate");if(!a){throw new Error("No key predicate known")}}else{d=l.$byPredicate[a]}P=t.getKeyFilter(d,c.sMetaPath,R);f=(m.$filter?"("+m.$filter+") and ":"")+P;delete m.$count;delete m.$orderby;c.bSentRequest=true;if(o){if(c.mLateExpandSelect){t.aggregateExpandSelect(m,c.mLateExpandSelect)}p=Object.assign({},m);p.$filter=f;m.$filter=P;delete m.$search;y=$+c.oRequestor.buildQueryString(c.sMetaPath,m,false,c.bSortExpandSelect);v.push(c.oRequestor.request("GET",y,i,undefined,undefined,u));if(r!==undefined&&(P!==f||p.$search)){delete p.$select;delete p.$expand;p.$count=true;p.$top=0;g=$+c.oRequestor.buildQueryString(c.sMetaPath,p);v.push(c.oRequestor.request("GET",g,i.getUnlockedCopy()))}}else{m.$filter=f;y=$+c.oRequestor.buildQueryString(c.sMetaPath,m,false,c.bSortExpandSelect);v.push(c.oRequestor.request("GET",y,i,undefined,undefined,u))}return s.all(v).then(function(e){var i=e[0].value,s=e[1]&&e[1]["@odata.count"]==="0";if(i.length>1){throw new Error("Unexpected server response, more than one entity returned.")}else if(i.length===0){c.removeElement(r,a,l,n);c.oRequestor.getModelInterface().reportStateMessages(c.sResourcePath,{},[n+a]);h(false)}else if(s){const e=l.$byPredicate[a];t.copySelected(e,i[0]);if("@$ui5.context.isTransient"in e){i[0]["@$ui5.context.isTransient"]=false}c.removeElement(r,a,l,n);c.replaceElement(l,undefined,a,i[0],R,n);h(true)}else{c.replaceElement(l,r,a,i[0],R,n)}})})};f.prototype.registerChangeListener=function(e,i){if(!(this.bSharedRequest&&e)){t.registerChangeListener(this,e,i)}};f.prototype.removeElement=function(e,i,n=this.aElements,s=""){const r=i?n.$byPredicate[i]:n[e];if(!i){i=r&&t.getPrivateAnnotation(r,"predicate")}else if(e!==undefined){e=f.getElementIndex(n,i,e)}if(r&&!r["@$ui5.context.isDeleted"]){delete n.$byPredicate[i];delete n.$byPredicate[t.getPrivateAnnotation(r,"transientPredicate")]}if(e>=0){n.splice(e,1);t.addToCount(this.mChangeListeners,s,n,-1);if(e<n.$created){n.$created-=1;if(!s){this.iActiveElements-=1}}else if(!s){this.iLimit-=1}this.adjustIndexes(s,n,e,-1)}return e};f.prototype.removeMessages=function(){if(this.sReportedMessagesPath){this.oRequestor.getModelInterface().reportStateMessages(this.sReportedMessagesPath,{});this.sReportedMessagesPath=undefined}};f.prototype.removePendingRequest=function(){if(this.oPendingRequestsPromise){this.oPendingRequestsPromise.$count-=1;if(!this.oPendingRequestsPromise.$count){this.oPendingRequestsPromise.$resolve();this.oPendingRequestsPromise=null}}};f.prototype.replaceElement=function(e,i,n,s,r,a,o){var u,h;if(i===undefined){u=e.$byPredicate[n];e.$byPredicate[n]=s}else{i=f.getElementIndex(e,n,i);u=e[i];e[i]=e.$byPredicate[n]=s;h=t.getPrivateAnnotation(u,"transientPredicate");if(h){if("@$ui5.context.isInactive"in u){s["@$ui5.context.isInactive"]=false}s["@$ui5.context.isTransient"]=false;e.$byPredicate[h]=s;t.setPrivateAnnotation(s,"transientPredicate",h)}}if(u){t.copySelected(u,s)}t.restoreUpdatingProperties(u,s);this.visitResponse(s,r,t.getMetaPath(t.buildPath(this.sMetaPath,a)),a+n,undefined,o)};f.prototype.requestCount=function(e){var i,n,s,r=this;if(this.mQueryOptions&&this.mQueryOptions.$count){n=Object.assign({},this.mQueryOptions);delete n.$expand;delete n.$orderby;delete n.$select;i=this.getExclusiveFilter();if(i){n.$filter=n.$filter?"("+n.$filter+") and "+i:i}n.$top=0;s=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,n);return this.oRequestor.request("GET",s,e.getUnlockedCopy()).catch(function(t){if(t.cause&&t.cause.status===404){return r.oRequestor.request("GET",s,e.getUnlockedCopy())}throw t}).then(function(e){var i=parseInt(e["@odata.count"])+r.iActiveElements;t.setCount(r.mChangeListeners,"",r.aElements,i);r.iLimit=i;return i})}return Promise.resolve(r.iLimit)};f.prototype.resetChangesForPath=function(e){var i=this;this.checkSharedRequest();Object.keys(this.mChangeRequests).reverse().forEach(function(n){var s,r;if(t.hasPathPrefix(n,e)){s=i.mChangeRequests[n];for(r=s.length-1;r>=0;r-=1){i.oRequestor.removeChangeRequest(s[r])}delete i.mChangeRequests[n]}});Object.keys(this.mPostRequests).forEach(function(n){var s=i.mPostRequests[n],r,a,o;if(e.startsWith("($uid=")){s.forEach(function(n){a=t.getPrivateAnnotation(n,"transientPredicate");if(a===e&&n["@$ui5.context.isInactive"]===1){t.resetInactiveEntity(i.mChangeListeners,a,n)}})}else if(d(n,e)){for(o=s.length-1;o>=0;o-=1){r=t.getPrivateAnnotation(s[o],"transient");if(r.startsWith("$inactive.")){t.resetInactiveEntity(i.mChangeListeners,t.getPrivateAnnotation(s[o],"transientPredicate"),s[o])}else{i.oRequestor.removePost(r,s[o])}}}})};f.prototype.restoreElement=function(e,i,n,s=this.aElements,r=""){this.adjustIndexes(r,s,e,1,n);const a=t.getPrivateAnnotation(i,"transientPredicate");if(a){s.$created+=1;if(!r){this.iActiveElements+=1}}else if(!r){this.iLimit+=1}t.addToCount(this.mChangeListeners,r,s,1);t.insert(s,e,i);s.$byPredicate[t.getPrivateAnnotation(i,"predicate")]=i};f.prototype.setActive=function(e){if(e){this.iActiveUsages+=1;this.iInactiveSince=Infinity}else{this.iActiveUsages-=1;if(!this.iActiveUsages){this.iInactiveSince=Date.now();this.mChangeListeners={}}}};f.prototype.setLateQueryOptions=function(e){if(e){this.mLateExpandSelect={$select:e.$select,$expand:e.$expand}}else{this.mLateExpandSelect=null}};f.prototype.setProperty=function(i,n,s,r){var a=this;this.checkSharedRequest();return this.fetchValue(e.$cached,s,null,null,true).then(function(e){t.updateAll(a.mChangeListeners,s,e,t.makeUpdateData(i.split("/"),n,r))})};f.prototype.setQueryOptions=function(e={},t=false){this.checkSharedRequest();if(this.bSentRequest&&!t){throw new Error("Cannot set query options: Cache has already sent a request")}this.mQueryOptions=e;this.sQueryString=this.oRequestor.buildQueryString(this.sMetaPath,e,false,this.bSortExpandSelect)};f.prototype.setResourcePath=function(e){this.checkSharedRequest();this.sResourcePath=e;this.sMetaPath=t.getMetaPath("/"+e);this.oTypePromise=undefined;this.mLateExpandSelect=null;this.mPropertyRequestByPath={}};f.prototype.toString=function(){return this.oRequestor.getServiceUrl()+this.sResourcePath+this.sQueryString};f.prototype.update=function(i,r,o,u,h,c,l,d,f,p,g){var P,m=r.split("/"),y,$=this;this.checkSharedRequest();try{P=this.fetchValue(e.$cached,c)}catch(e){if(!e.$cached||this.oPromise!==null){throw e}P=this.oPromise=s.resolve({"@odata.etag":"*"})}const v=P.then(function(e){var P=t.buildPath(c,r),v=i.getGroupId(),R,E,q,b=t.makeUpdateData(m,o);function S(n,r){var a={"If-Match":e},o,l,m;function A(e){if(arguments.length===0){m=true;return E}if(E){t.updateNonExisting(E,e)}}function C(){t.removeByPath($.mChangeRequests,P,o);if(y){t.updateAll($.mChangeListeners,q,$.getValue(q),{[R]:null});g?.()}else{t.updateAll($.mChangeListeners,c,e,E)}}function x(){if(y&&$.iActiveUsages){$.refreshSingleNoCollection(i,c).catch($.oRequestor.getModelInterface().getReporter())}l=$.oRequestor.lockGroup(v,$,true);f()}if(y){a["If-None-Match"]="*";d=true}if(d){a.Prefer="return=minimal"}o=$.oRequestor.request("PATCH",h,n,a,b,x,C,undefined,t.buildPath($.sOriginalResourcePath,c),r,undefined,undefined,A);o.$isKeepAlive=p;t.addByPath($.mChangeRequests,P,o);return s.all([o,$.fetchTypes()]).then(function([i,n]){t.removeByPath($.mChangeRequests,P,o);if(m){return}if(!d){$.visitResponse(i,n,t.getMetaPath(t.buildPath($.sMetaPath,c)),c)}t.updateExisting($.mChangeListeners,c,e,d?{"@odata.etag":i["@odata.etag"]}:i);if(y){t.updateAll($.mChangeListeners,c,e,{"@$ui5.context.isTransient":false});t.deletePrivateAnnotation(e,"upsert")}},function(i){var n=v;if(!u&&!i.canceled){C();throw i}t.removeByPath($.mChangeRequests,P,o);if(i.canceled){throw i}l.unlock();l=undefined;u(i);if(m){return $.mEditUrl2PatchPromise[h]}switch($.oRequestor.getGroupSubmitMode(v)){case"API":break;case"Auto":if(!$.oRequestor.hasChanges(v,e)){n="$parked."+v}break;default:throw i}$.mEditUrl2PatchPromise[h]=S($.oRequestor.lockGroup(n,$,true,true),true);return $.mEditUrl2PatchPromise[h]}).finally(function(){if(l){l.unlock()}delete $.mEditUrl2PatchPromise[h]})}function A(i){t.updateAll($.mChangeListeners,c,e,b);if(l){l=t.buildPath(m.slice(0,-1).join("/"),l);const e=l.split("/");l=t.buildPath(c,l);const s=$.getValue(l);if(s===undefined){n.debug("Missing value for unit of measure "+l+" when updating "+P,$.toString(),a)}else{t.merge(i,t.makeUpdateData(e,s))}}}y=e===null;if(y){const i=c.split("/");R=i.pop();q=i.join("/");e={"@$ui5.context.isTransient":true};t.setPrivateAnnotation(e,"upsert",true);$.getValue(q)[R]=e;t.fireChanges($.mChangeListeners,c,e,false);A(b)}else{if(!e){throw new Error("Cannot update '"+r+"': '"+c+"' does not exist")}t.deleteUpdating(r,e);let n;let s=t.getPrivateAnnotation(e,"transient");if(s){if(typeof s!=="string"){throw new Error("No 'update' allowed while waiting for server response")}if(s.startsWith("$parked.")||s.startsWith("$inactive.")){n=s;s=s.slice(s.indexOf(".")+1)}if(s!==v){throw new Error("The entity will be created via group '"+s+"'. Cannot patch via group '"+v+"'")}}E=t.makeUpdateData(m,t.drillDown(e,m));const a=t.getPrivateAnnotation(e,"postBody");if(a){t.updateAll({},c,a,b)}A(s?a:b);if(s){if(n&&!e["@$ui5.context.isInactive"]){t.setPrivateAnnotation(e,"transient",s);$.oRequestor.relocate(n,a,s)}i.unlock();return Promise.resolve()}$.oRequestor.relocateAll("$parked."+v,v,e)}h+=$.oRequestor.buildQueryString($.sMetaPath,$.mQueryOptions,true);return S(i)});if(y){g?.(v)}return v};f.prototype.visitResponse=function(e,i,n,s,r,a){var u,c=false,l={},d=this.oRequestor.getServiceUrl()+this.sResourcePath,f=this;function p(e,i,n){c=true;if(e&&e.length){f.checkSharedRequest();l[i]=e;e.forEach(function(e){e.longtextUrl&&=t.makeAbsolute(e.longtextUrl,n)})}}function g(e,i){return i?t.makeAbsolute(i,e):e}function P(e,i,n,s){var a={},o,h,c,l;for(l=0;l<e.length;l+=1){h=e[l];o=n===""?r+l:l;if(h&&typeof h==="object"){m(h,i,n,s,o);c=t.getPrivateAnnotation(h,"predicate");if(!n){u.push(c||""+o)}if(c){a[c]=h;e.$byPredicate=a}}}}function m(e,n,r,a,c){var l,d,y=i[n],$=y&&y[h]&&y[h].$Path,v;a=g(a,e["@odata.context"]);d=f.calculateKeyPredicate(e,i,n);if(c!==undefined){r=t.buildPath(r,d||c)}else if(d){l=o.exec(r);if(l){r=r.slice(0,-l[0].length)+d}}if(s&&!u){u=[r]}if($){v=t.drillDown(e,$.split("/"));if(v!==undefined){p(v,r,a)}}Object.keys(e).forEach(function(i){var s,o=n+"/"+i,u=e[i],h=t.buildPath(r,i);if(i.endsWith("@odata.mediaReadLink")||i.endsWith("@mediaReadLink")){e[i]=t.makeAbsolute(u,a)}if(i===$||i.includes("@")){return}if(Array.isArray(u)){u.$created=0;s=e[i+"@odata.count"];if(s){u.$count=parseInt(s)}else if(!e[i+"@odata.nextLink"]){u.$count=u.length}else{u.$count=undefined}P(u,o,h,g(a,e[i+"@odata.context"]))}else if(u&&typeof u==="object"){m(u,o,h,a)}})}if(r!==undefined){u=[];P(e.value,n||this.sMetaPath,"",g(d,e["@odata.context"]))}else if(e&&typeof e==="object"){m(e,n||this.sMetaPath,s||"",d)}if(c&&!this.bSharedRequest){if(!a){this.sReportedMessagesPath=this.sOriginalResourcePath}this.oRequestor.getModelInterface().reportStateMessages(this.sOriginalResourcePath,l,u)}};function p(e,t,i,n,s,r){f.call(this,e,t,i,n,s,r);this.iActiveElements=0;this.oBackup=null;this.sContext=undefined;this.aElements=[];this.aElements.$byPredicate={};this.aElements.$count=undefined;this.aElements.$created=0;this.aElements.$tail=undefined;this.iLimit=Infinity;this.aReadRequests=[];this.iResetCount=0;this.aSeparateProperties=[];this.mSeparateProperty2ReadRequests={};this.bServerDrivenPaging=false;this.oSyncPromiseAll=undefined}p.prototype=Object.create(f.prototype);p.prototype.addKeptElement=function(e){this.checkSharedRequest();this.aElements.$byPredicate[t.getPrivateAnnotation(e,"predicate")]=e};p.prototype.checkRange=function(e,t,i){var n;if(e!==this.aElements.$tail){i=Math.min(i,this.aElements.length);for(n=t;n<i;n+=1){if(this.aElements[n]!==e){throw new Error("Found data at an index being read from the back end")}}}};p.prototype.doReplaceWith=function(e,i){var n=this.aElements[e];this.checkSharedRequest();if(n&&t.hasPrivateAnnotation(n,"transientPredicate")&&!t.hasPrivateAnnotation(i,"transientPredicate")){t.setPrivateAnnotation(i,"transientPredicate",t.getPrivateAnnotation(i,"predicate"))}this.aElements[e]=i;this.addKeptElement(i)};p.prototype.drop=function(e,i,n){if(n){e+=this.aElements.$created}const s=this.aElements[e];if(s["@$ui5.context.isTransient"]){throw new Error("Must not drop a transient element")}delete this.aElements[e];delete this.aElements.$byPredicate[i];const r=t.getPrivateAnnotation(s,"transientPredicate");if(r){this.aElements.$created-=1;this.iActiveElements-=1;this.iLimit+=1;delete this.aElements.$byPredicate[r]}};p.prototype.fetchValue=function(t,i,n,r,a){var o,u=i.split("/")[0],h,c=this;t.unlock();c.registerChangeListener(i,r);if(this.aElements.$byPredicate[u]){h=s.resolve()}else if((t===e.$cached||u!=="$count")&&this.aElements[u]!==undefined){h=s.resolve(this.aElements[u])}else{if(!this.oSyncPromiseAll){o=this.aElements.$tail?this.aElements.concat(this.aElements.$tail):this.aElements;this.oSyncPromiseAll=s.all(o)}h=this.oSyncPromiseAll}return h.then(function(){return c.drillDown(c.aElements,i,t,a)})};p.prototype.fill=function(e,t,i){var n;if(!this.aElements.$count&&i>this.aElements.length&&i-t>1024){if(this.aElements.$tail&&e){throw new Error("Cannot fill from "+t+" to "+i+", $tail already in use, # of elements is "+this.aElements.length)}this.aElements.$tail=e;i=this.aElements.length}for(n=t;n<i;n+=1){this.aElements[n]=e}this.oSyncPromiseAll=undefined};p.prototype.fixDuplicatePredicate=function(e,t){};p.prototype.getExclusiveFilter=function(){var e=[],i,n,s=this;function r(n){var r;i??=s.getTypes();r=t.getKeyFilter(n,s.sMetaPath,i);if(r){e.push(r)}}for(n=0;n<this.aElements.$created;n+=1){const e=this.aElements[n];if(!e["@$ui5.context.isTransient"]){r(e)}}(this.aElements.$deleted||[]).forEach(function(e){r(s.aElements.$byPredicate[e.predicate])});return e.length?"not ("+e.sort().join(" or ")+")":undefined};p.prototype.getQueryString=function(e){var i=this.getExclusiveFilter(),n=Object.assign({},this.mQueryOptions),s=this.sQueryString,r,a;if(this.aSeparateProperties.length){if(e){delete n.$count;n.$expand={[e]:n.$expand[e]};n.$select=[];t.selectKeyProperties(n,this.getTypes()[this.sMetaPath])}else{n.$expand={...n.$expand};this.aSeparateProperties.forEach(e=>{delete n.$expand[e]});if(t.isEmptyObject(n.$expand)){delete n.$expand}}a=true;r=true}if(i){if(n.$filter){r=true}else{s+=(s?"&":"?")+"$filter="+t.encode(i,false)}n.$filter=n.$filter?"("+n.$filter+") and "+i:i}if(r){s=this.oRequestor.buildQueryString(this.sMetaPath,n,false,this.bSortExpandSelect,a)}return s};p.prototype.getResourcePathWithQuery=function(e,t,i){var n=this.aElements.$created,s=this.getQueryString(i),r=s?"&":"?",a=t-e,o=this.sResourcePath+s;if(e<n){throw new Error("Must not request created element")}e-=n;if(e>0||a<Infinity){o+=r+"$skip="+e}if(a<Infinity){o+="&$top="+a}return o};p.prototype.getValue=function(t){var i;if(!t){return this.aElements}i=this.fetchValue(e.$cached,t);if(i.isFulfilled()){return i.getResult()}i.caught()};p.prototype.handleCount=function(e,i,n,s,r,a){var o=r["@odata.count"],u=this.aElements.$created,h,c=-1,l=this.aElements.$count,d,f=r.value.length,p;s-=a;f-=a;if(o){h=parseInt(o)-a;if(a===i||n===u&&f===h){this.iLimit=c=h}else{d=this.requestCount(this.oRequestor.getUnlockedAutoCopy(e))}}if(r["@odata.nextLink"]){this.bServerDrivenPaging=true;if(s<this.aElements.length){for(p=n+f;p<s;p+=1){delete this.aElements[p]}}else{this.aElements.length=n+f}}else if(f<s-n){if(c===-1){c=l&&l-this.iActiveElements}c=Math.min(c!==undefined?c:Infinity,n-u+f);this.aElements.length=u+c;this.iLimit=c;if(!o&&c>0&&!this.aElements[c-1]){c=undefined}}if(c!==-1){t.setCount(this.mChangeListeners,"",this.aElements,c!==undefined?c+this.iActiveElements:undefined)}return d};p.prototype.handleResponse=function(e,i,n){var s,r=this.aElements,a=r.$created,o,u=0,h,c=e.value.length,l;this.sContext=e["@odata.context"];this.visitResponse(e,n,undefined,undefined,i);for(l=0;l<c;l+=1){s=e.value[l];h=t.getPrivateAnnotation(s,"predicate");if(h){o=r.$byPredicate[h];if(o){if(a&&r.lastIndexOf(o,a-1)>=0){u+=1;r[i+c-u]=undefined;continue}const e=r.indexOf(o);if(e>=0&&e!==i+l-u){const t=this.fixDuplicatePredicate(s,h);if(t){h=t;o=s}else if(e<i||e>=i+c){o=s}else{throw new Error("Duplicate key predicate: "+h)}}if(!o["@odata.etag"]||s["@odata.etag"]===o["@odata.etag"]){t.updateNonExisting(o,s);s=o}else if(this.hasPendingChangesForPath(h)){throw new Error("Modified on client and on server: "+this.sResourcePath+h)}}r.$byPredicate[h]=s}r[i+l-u]=s}return u};p.prototype.isDeletingInOtherGroup=function(e){return Object.values(this.aElements.$deleted||{}).some(function(t){return t.groupId!==e})};p.prototype.isMissing=function(e){return this.aElements[e]===undefined&&!(this.$tail&&this.aReadRequests.some(t=>t.iStart<=e&&e<t.iEnd))};p.prototype.keepOnlyGivenElements=function(e){var i,n=-1,s={},r=this;e.forEach(function(e){s[e]=true});i=this.aElements.filter(function(e,i){var a;if(!e){return false}if(t.hasPrivateAnnotation(e,"transient")){n=i;return false}a=t.getPrivateAnnotation(e,"predicate");if(s[a]){n=i;delete s[a];return true}r.drop(i,a);return false});this.aElements.length=n+1;Object.keys(s).forEach(function(e){i.push(r.aElements.$byPredicate[e])});return i};p.prototype.move=function(e,t,i){const n=this.aElements;function s(e,t){while(e<t){const i=n[e];n[e]=n[t];n[t]=i;e+=1;t-=1}}function r(e,t,i){s(e,t-1);s(t,i-1);s(e,i-1)}if(i>0){if(e<t){r(e,e+i,t+i)}else if(e>t){r(t,e,e+i)}}};p.prototype.read=function(e,i,n,a,o,u,h){var c=0,l,d,f,p=this.oPendingRequestsPromise||this.aElements.$tail,g,P=0,m,y=this;if(e<0){throw new Error("Illegal index "+e+", must be >= 0")}if(i<0){throw new Error("Illegal length "+i+", must be >= 0")}if(p){return p.then(function(){return y.read(e,i,n,a,o,u,h)})}if(u){e+=this.aElements.$created}for(m=0;m<this.aElements.$created;m+=1){l=this.aElements[m];if(t.getPrivateAnnotation(l,"transient")===a.getGroupId()){P+=1}if(y.oBackup&&!l["@$ui5.context.isTransient"]){c+=1}}g=r._getReadIntervals(this.aElements,e,i,this.bServerDrivenPaging?0:Math.max(n,P,c),this.aElements.$created+this.iLimit);if(P&&(g.length>1||g.length&&g[0].start>this.aElements.$created)){a.unlock();return this.oRequestor.waitForBatchResponseReceived(a.getGroupId()).then(function(){return y.read(e,i,n,y.oRequestor.getUnlockedAutoCopy(a),o)})}g.forEach(function(e){y.requestElements(e.start,e.end,a.getUnlockedCopy(),P,o,h);o=undefined});a.unlock();f=e+i+n;d=this.aElements.slice(Math.max(0,e-n),f);if(this.aElements.$tail){d.push(this.aElements.$tail)}return s.all(d).then(function(){var t=y.aElements.slice(e,e+i);t.$count=y.aElements.$count;return{"@$ui5.resetCount":y.iResetCount,"@odata.context":y.sContext,value:t}})};p.prototype.refreshKeptElements=function(e,i,n,s){var r=this,a=Object.keys(this.aElements.$byPredicate).filter(h).sort(),o;function u(){var e,i=t.clone(r.mQueryOptions);if(r.mLateExpandSelect){t.aggregateExpandSelect(i,r.mLateExpandSelect)}if(s){delete i.$apply}delete i.$count;delete i.$orderby;delete i.$search;e=a.map(function(e){return t.getKeyFilter(r.aElements.$byPredicate[e],r.sMetaPath,o)});i.$filter=e.join(" or ");if(e.length>1){i.$top=e.length}return r.sResourcePath+r.oRequestor.buildQueryString(r.sMetaPath,i,false,true)}function h(e){var i=r.aElements.$byPredicate[e];return t.getPrivateAnnotation(i,"predicate")===e&&Object.keys(i).length>1&&!i["@$ui5.context.isDeleted"]&&!r.hasPendingChangesForPath(e,n)}this.checkSharedRequest();if(a.length===0){return undefined}o=this.getTypes();return this.oRequestor.request("GET",u(),e).then(function(e){var n;r.visitResponse(e,o,undefined,undefined,0);n=e.value.$byPredicate||{};a.forEach(function(e){var s,a;if(e in n){t.updateAll(r.mChangeListeners,e,r.aElements.$byPredicate[e],n[e])}else{s=r.aElements.$byPredicate[e];if(t.hasPrivateAnnotation(s,"transientPredicate")){a=r.removeElement(-1,e)}else{delete r.aElements.$byPredicate[e]}i(e,a)}})})};p.prototype.refreshSingleNoCollection=function(e,i){return this.requestSideEffects(e.getUnlockedCopy(),[t.getMetaPath(i)],[i.split("/")[0]],true)};p.prototype.removeKeptElement=function(e){this.checkSharedRequest();delete this.aElements.$byPredicate[e]};p.prototype.requestElements=function(e,t,i,n,r,a){var o,u={iEnd:t,bObsolete:false,iStart:e},h=this;this.aReadRequests.push(u);this.bSentRequest=true;o=s.all([this.mQueryOptions.$filter==="false"?Promise.resolve({"@odata.count":"0",value:[]}):this.oRequestor.request("GET",this.getResourcePathWithQuery(e,t),i,undefined,undefined,r),this.fetchTypes()]).then(function(e){var t;if(u.bObsolete){const e=new Error("Request is obsolete");e.canceled=true;throw e}h.checkRange(o,u.iStart,u.iEnd);if(h.aElements.$tail===o){h.aElements.$tail=undefined}t=h.handleResponse(e[0],u.iStart,e[1]);return h.handleCount(i,n,u.iStart,u.iEnd,e[0],t)},function(e){if(!e.canceled&&!u.bObsolete){h.checkRange(o,u.iStart,u.iEnd);h.fill(undefined,u.iStart,u.iEnd)}throw e}).finally(function(){h.aReadRequests.splice(h.aReadRequests.indexOf(u),1)});this.requestSeparateProperties(e,t,o,a);this.fill(o,e,t);return o};p.prototype.requestFilteredOrderedPredicates=async function(e,i,n){this.checkSharedRequest();const s=this.getTypes();const r=e.map(e=>t.getKeyFilter(this.aElements.$byPredicate[e],this.sMetaPath,s));const a={...this.mQueryOptions};delete a.$count;a.$filter=a.$filter?`${a.$filter} and (${r.join(" or ")})`:r.join(" or ");a.$top=r.length;if(n){delete a.$expand;delete a.$orderby;a.$select=[];t.selectKeyProperties(a,s[this.sMetaPath])}const o=this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,a,false,true,true);const u=await this.oRequestor.request("GET",o,i);this.visitResponse(u,s,undefined,undefined,0);return u.value.map(e=>{const i=t.getPrivateAnnotation(e,"predicate");if(!n){const n=this.aElements.$byPredicate[i];t.copySelected(n,e);this.aElements.$byPredicate[i]=e;this.aElements[this.aElements.indexOf(n)]=e;t.fireChanges(this.mChangeListeners,i,n,true);t.fireChanges(this.mChangeListeners,i,e)}return i})};p.prototype.requestSeparateProperties=async function(e,i,r,o){if(!this.aSeparateProperties.length){return}const u=await this.fetchTypes();this.aSeparateProperties.forEach(async h=>{let c;let l;const d={start:e,end:i,promise:new s(function(e,t){c=e;l=function(e){const i=new Error("$$separate: canceled "+h,{cause:e});i.canceled=true;t(i)}})};d.promise.catch(()=>{});try{this.mSeparateProperty2ReadRequests[h].push(d);const s=this.getResourcePathWithQuery(e,i,h);const f=await this.oRequestor.request("GET",s,this.oRequestor.lockGroup("$single",this));let p;await r.catch(e=>{p=e});const g=this.mSeparateProperty2ReadRequests[h].indexOf(d);if(g<0){l();return}this.mSeparateProperty2ReadRequests[h].splice(g,1);if(p){l(p);return}this.visitResponse(f,u,undefined,undefined,e);for(const e of f.value){const i=t.getPrivateAnnotation(e,"predicate");const r=this.aElements.$byPredicate[i];if(r){if(r["@odata.etag"]===e["@odata.etag"]){if(r[h]?.["@odata.etag"]!==e[h]?.["@odata.etag"]){delete r[h]}t.updateSelected(this.mChangeListeners,i,r,e,[h])}else{n.error(`ETag changed: ${this.sResourcePath+i}`,s,a)}}}c();o(h,e,i)}catch(t){l(t);o(h,e,i,t)}})};p.prototype.requestSideEffects=function(e,i,n,r,a){var o,u,h,c,l,d=this.getTypes(),f=this;function p(e,n=t.getPrivateAnnotation(e,"predicate")){f.beforeUpdateSelected?.(n,e);t.updateSelected(f.mChangeListeners,n,f.aElements.$byPredicate[n],e,i,function e(s){s=s.slice(n.length+1);return!i.some(function(e){return t.getRelativePath(s,e)!==undefined})})}this.checkSharedRequest();h=t.intersectQueryOptions(Object.assign({},this.mQueryOptions,this.mLateExpandSelect),i,this.oRequestor.getModelInterface().fetchMetadata,this.sMetaPath,"",a);if(!h){return s.resolve()}this.beforeRequestSideEffects?.(h);delete h.$count;delete h.$orderby;delete h.$search;if(r){delete h.$filter}else{o=this.keepOnlyGivenElements(n);if(!o.length){return s.resolve()}h.$filter=o.map(function(e){return t.getKeyFilter(e,f.sMetaPath,d)}).sort().join(" or ");if(o.length>1){h.$top=o.length}t.selectKeyProperties(h,d[this.sMetaPath])}u=t.extractMergeableQueryOptions(h);c=this.sResourcePath+(r?n[0]:"")+this.oRequestor.buildQueryString(this.sMetaPath,h,false,true);return this.oRequestor.request("GET",c,e,undefined,undefined,undefined,undefined,this.sMetaPath,undefined,false,u,this,function(e){if(arguments.length){i=i.concat(e)}else{l=true;return i}}).then(function(e){if(l){return}if(r){f.visitResponse(e,d,undefined,n[0],undefined,true);p(e,n[0])}else{if(e.value.length!==o.length){throw new Error("Expected "+o.length+" row(s), but instead saw "+e.value.length)}f.visitResponse(e,d,undefined,"",NaN,true);for(let t=0,i=e.value.length;t<i;t+=1){p(e.value[t])}}})};p.prototype.reset=function(e,i,n,s,r){var a=this.aElements.$byPredicate,o=this.mChangeListeners,u=0,h,c,l,d=this;if(i){this.checkSharedRequest();this.oBackup={iActiveElements:this.iActiveElements,mChangeListeners:this.mChangeListeners,sContext:this.sContext,aElements:this.aElements.slice(),$byPredicate:a,$count:this.aElements.$count,$created:this.aElements.$created,iLimit:this.iLimit}}this.iResetCount+=1;if(n){this.setQueryOptions(n,true)}for(l=0;l<this.aElements.$created;l+=1){h=this.aElements[l];c=t.getPrivateAnnotation(h,"transient");if(i?"@$ui5.context.isInactive"in h||c&&c!==i:c){e.push(t.getPrivateAnnotation(h,"predicate")||t.getPrivateAnnotation(h,"transientPredicate"));this.aElements[u]=h;u+=1}else{this.iActiveElements-=1}}Object.keys(a).forEach(function(t){if("@$ui5.context.isDeleted"in a[t]){e.push(t)}});this.mChangeListeners={};this.sContext=undefined;this.aElements.length=this.aElements.$created=u;this.aElements.$byPredicate={};this.aElements.$count=undefined;this.iLimit=Infinity;Object.keys(o).forEach(function(t){if(t==="$count"||e.includes(t.split("/")[0])){d.mChangeListeners[t]=o[t]}});e.forEach(function(e){d.aElements.$byPredicate[e]=a[e]});this.aReadRequests?.forEach(e=>{e.bObsolete=true});for(const e in this.mSeparateProperty2ReadRequests){this.mSeparateProperty2ReadRequests[e]=[]}if(o[""]){this.mChangeListeners[""]=o[""];t.fireChange(this.mChangeListeners,"")}Object.values(this.aElements.$deleted||{}).forEach(function(e){e.index=undefined})};p.prototype.restore=function(e){if(e){this.checkSharedRequest();this.iActiveElements=this.oBackup.iActiveElements;this.mChangeListeners=this.oBackup.mChangeListeners;this.sContext=this.oBackup.sContext;this.aElements.length=this.oBackup.aElements.length;this.oBackup.aElements.forEach(function(e,t){this[t]=e},this.aElements);this.aElements.$byPredicate=this.oBackup.$byPredicate;this.aElements.$count=this.oBackup.$count;this.aElements.$created=this.oBackup.$created;this.iLimit=this.oBackup.iLimit;this.iResetCount-=1}this.oBackup=null};p.prototype.setEmpty=function(){if(this.iLimit!==Infinity||this.aElements.$count!==undefined||this.aElements.length){throw new Error("Unsupported")}this.iLimit=this.aElements.$count=0};p.prototype.setInactive=function(e,i){const n=this.getValue(e);t.updateAll(this.mChangeListeners,e,n,{"@$ui5.context.isInactive":i});if(!i){t.deletePrivateAnnotation(n,"initialData");this.iActiveElements+=1;t.addToCount(this.mChangeListeners,"",this.aElements,1)}};p.prototype.setPersistedCollection=function(e){this.aElements=e;this.iActiveElements=e.$created;this.iLimit=e.length};p.prototype.setSeparate=function(e=[]){this.aSeparateProperties=e;this.aSeparateProperties.forEach(e=>{this.mSeparateProperty2ReadRequests[e]=[]})};function g(e,t,i){f.call(this,e,t,i);this.oPromise=null}g.prototype=Object.create(f.prototype);g.prototype._delete=function(){throw new Error("Unsupported")};g.prototype.create=function(){throw new Error("Unsupported")};g.prototype.fetchValue=function(e,t,i,n,r){var a=this;if(r){throw new Error("Unsupported argument: bCreateOnDemand")}if(this.oPromise){e.unlock()}else{this.bSentRequest=true;this.oPromise=s.resolve(this.oRequestor.request("GET",this.sResourcePath+this.sQueryString,e,undefined,undefined,i,undefined,this.sMetaPath))}a.registerChangeListener("",n);return this.oPromise.then(function(e){return e&&typeof e==="object"?e.value:e})};g.prototype.update=function(){throw new Error("Unsupported")};function P(e,t,i,n,r,a,o,u,h){f.call(this,e,t,i,n,a,r);this.sMetaPath=u||this.sMetaPath;this.bPost=o;this.bPosting=false;if(h){this.oPromise=s.resolve({})}else{this.oPromise=null}}P.prototype=Object.create(f.prototype);P.prototype.buildOriginalResourcePath=function(e,t,i){if(i){this.calculateKeyPredicate(e,t,this.sMetaPath);this.sOriginalResourcePath=i(e)}};P.prototype.fetchValue=function(e,t,i,n,r,a){var o=this.sResourcePath+this.sQueryString,u=this;this.registerChangeListener(t,n);if(this.oPromise){e.unlock()}else{if(this.bPost){throw new Error("Cannot fetch a value before the POST request")}this.oPromise=s.all([this.oRequestor.request("GET",o,e,undefined,undefined,i,undefined,this.sMetaPath),this.fetchTypes()]).then(function(e){u.buildOriginalResourcePath(e[0],e[1],a);u.visitResponse(e[0],e[1]);return e[0]});this.bSentRequest=true}return this.oPromise.then(function(i){if(i&&i["$ui5.deleted"]){throw new Error("Cannot read a deleted entity")}return u.drillDown(i,t,e,r)})};P.prototype.getValue=function(t){var i;if(this.oPromise&&this.oPromise.isFulfilled()){i=this.drillDown(this.oPromise.getResult(),t,e.$cached);if(i.isFulfilled()){return i.getResult()}i.caught()}};P.prototype.post=function(e,i,n,r,a,o){var u,h={},c="POST",l,d=this;function f(){l=d.oRequestor.lockGroup(u,d,true)}function p(e){d.bPosting=true;return s.all([d.oRequestor.request(c,d.sResourcePath+d.sQueryString,e,h,i,n&&u!=="$single"&&f,undefined,undefined,"R#V#C"),d.fetchTypes()]).then(function(e){d.buildOriginalResourcePath(e[0],e[1],o);const i=t.getPrivateAnnotation(e[0],"headerMessages");if(i){d.oRequestor.getModelInterface().reportTransitionMessages(i,d.sResourcePath,false,d.sOriginalResourcePath);t.deletePrivateAnnotation(e[0],"headerMessages")}d.visitResponse(e[0],e[1]);if(d.mQueryOptions&&d.mQueryOptions.$select){t.updateSelected({},"",e[0],e[0],d.mQueryOptions.$select)}d.bPosting=false;if(l){l.unlock()}return e[0]},function(t){d.bPosting=false;if(l){l.unlock();l=undefined}if(a&&t.strictHandlingFailed){return a(t).then(function(i){var n;if(i){delete h["Prefer"];return p(e.getUnlockedCopy(!t.decomposed))}n=Error("Action canceled due to strict handling");n.canceled=true;throw n})}throw t})}this.checkSharedRequest();if(!this.bPost){throw new Error("POST request not allowed")}if(this.bPosting){throw new Error("Parallel POST requests not allowed")}if(n){u=e.getGroupId();this.oRequestor.relocateAll("$parked."+u,u,n)}if(i){c=i["X-HTTP-Method"]||c;delete i["X-HTTP-Method"];if(this.oRequestor.isActionBodyOptional()&&t.isEmptyObject(i)){i=undefined}}if(r&&n&&!("@odata.etag"in n)&&!t.isEmptyObject(t.publicClone(n))){r=false}if(r||n){h["If-Match"]=r?"*":n}if(a){h["Prefer"]="handling=strict"}this.bSentRequest=true;this.oPromise=p(e);return this.oPromise};P.prototype.refreshSingleNoCollection=function(e,i){return this.requestSideEffects(e.getUnlockedCopy(),[t.getMetaPath(i)])};P.prototype.requestSideEffects=function(i,n,r){var a,o,u,h,c=this;this.checkSharedRequest();o=this.oPromise&&t.intersectQueryOptions(Object.assign({},this.mQueryOptions,this.mLateExpandSelect),n,this.oRequestor.getModelInterface().fetchMetadata,this.sMetaPath);if(!o){return s.resolve()}if(this.oPromise.isRejected()){throw new Error(this+": Cannot call requestSideEffects, cache is broken: "+this.oPromise.getResult().message)}a=t.extractMergeableQueryOptions(o);r=(r||this.sResourcePath)+this.oRequestor.buildQueryString(this.sMetaPath,o,false,true);u=s.all([this.oRequestor.request("GET",r,i,undefined,undefined,undefined,undefined,this.sMetaPath,undefined,false,a,this,function(e){if(arguments.length){n=n.concat(e)}else{h=true;return n}}),this.fetchTypes(),this.fetchValue(e.$cached,"")]).then(function(e){return e}).then(function(e){var i=e[0],s=e[2];if(h){return}t.setPrivateAnnotation(i,"predicate",t.getPrivateAnnotation(s,"predicate"));c.visitResponse(i,e[1]);t.updateSelected(c.mChangeListeners,"",s,i,n,function(e){return!n.some(function(i){return t.getRelativePath(e,i)!==undefined})})});return u};P.prototype.resetProperty=function(e){var t=this.oPromise.getResult();if(t){e.split("/").some(function(e){delete t["@odata.etag"];if(typeof t[e]==="object"){t=t[e];return false}delete t[e];return true})}};function m(e,t,i){var n=t.split("/"),s=n[0],r=s+JSON.stringify(i),a;g.call(this,e,t,{});a=e.$mSingletonCacheByPath??={};this.oSingleton=a[r]??=new P(e,s,i,undefined,undefined,undefined,undefined,undefined,true);this.sRelativePath=t.split(s+"/")[1]}m.prototype=Object.create(g.prototype);m.prototype.fetchValue=function(e,i,n,s,r){var a=this.oSingleton.sResourcePath+"/"+this.sRelativePath,o,u=this.oMetadataPromise||this.oRequestor.getModelInterface().fetchMetadata("/"+t.getMetaPath(a)),h=this;return u.then(function(){if(!h.oMetadataPromise){o=h.oSingleton.mLateExpandSelect||{};t.aggregateExpandSelect(o,t.wrapChildQueryOptions("/"+h.oSingleton.sResourcePath,h.sRelativePath,{},h.oRequestor.getModelInterface().fetchMetadata));h.oSingleton.setLateQueryOptions(o)}h.oMetadataPromise=u;return h.oSingleton.fetchValue(e,h.sRelativePath,n,s,r)})};m.prototype.reset=function(){this.oSingleton.resetProperty(this.sRelativePath)};f.create=function(e,i,n,s,r,a){var o,u,h,c,l;if(a){h=i+e.buildQueryString(t.getMetaPath("/"+i),n,false,s);l=e.$mSharedCollectionCacheByPath??={};c=l[h];if(c){c.setActive(true)}else{u=Object.keys(l);o=u.length;if(o>100){u.filter(function(e){return!l[e].iActiveUsages}).sort(function(e,t){return l[e].iInactiveSince-l[t].iInactiveSince}).every(function(e){delete l[e];o-=1;return o>100})}c=l[h]=new p(e,i,n,s,r,a)}return c}return new p(e,i,n,s,r,a)};f.createProperty=function(e,t,i){if(t.includes("(")||t.endsWith("/$count")){return new g(e,t,i)}return new m(e,t,i)};f.createSingle=function(e,t,i,n,s,r,a,o){return new P(e,t,i,n,s,r,a,o)};f.from$skip=function(e,t){return c.test(e)?(t.$created||0)+Number(e):e};f.getElementIndex=function(e,i,n){var s=e[n];if(!s||t.getPrivateAnnotation(s,"predicate")!==i){n=e.indexOf(e.$byPredicate[i])}return n};return f},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_ConcatHelper", ["./_AggregationHelper"],function(e){"use strict";return{enhanceCache:function(t,n,s,i){var u;t.getResourcePathWithQuery=function(t,s){var a=e.buildApply(n,Object.assign({},this.mQueryOptions,{$skip:t,$top:s-t}),1,u,i);u=true;return this.sResourcePath+this.oRequestor.buildQueryString(this.sMetaPath,a,false,true)};t.handleResponse=function(e){s.forEach(function(t){var n;if(t){n=e.value.shift();if("UI5__count"in n){e["@odata.count"]=n.UI5__count}t(n)}});delete this.handleResponse;return this.handleResponse.apply(this,arguments)}}}},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_GroupLock", ["sap/ui/base/SyncPromise"],function(i){"use strict";function e(i,e,o,t,n,r){if(!e){throw new Error("Missing owner")}if(t&&!o){throw new Error("A modifying group lock has to be locked")}this.fnCancel=r;this.bCanceled=false;this.sGroupId=i;this.bLocked=!!o;this.bModifying=!!t;this.oOwner=e;this.oPromise=null;this.iSerialNumber=n===undefined?Infinity:n}e.prototype.cancel=function(){if(!this.bCanceled){this.bCanceled=true;if(this.fnCancel){this.fnCancel()}this.unlock(true)}};e.prototype.getGroupId=function(){return this.sGroupId};e.prototype.getOwner=function(){return this.oOwner};e.prototype.getSerialNumber=function(){return this.iSerialNumber};e.prototype.getUnlockedCopy=function(i){return new e(this.sGroupId,this.oOwner,false,false,i?NaN:this.iSerialNumber)};e.prototype.isCanceled=function(){return this.bCanceled};e.prototype.isLocked=function(){return this.bLocked};e.prototype.isModifying=function(){return this.bModifying};e.prototype.toString=function(){return"sap.ui.model.odata.v4.lib._GroupLock(group="+this.sGroupId+", owner="+this.oOwner+(this.isLocked()?", locked":"")+(this.isModifying()?", modifying":"")+(this.iSerialNumber!==Infinity?", serialNumber="+this.iSerialNumber:"")+")"};e.prototype.unlock=function(i){if(this.bLocked===undefined&&!i){throw new Error("GroupLock unlocked twice")}this.bLocked=undefined;if(this.oPromise){this.oPromise.$resolve()}};e.prototype.waitFor=function(e){var o;if(this.bLocked&&this.sGroupId===e){if(!this.oPromise){this.oPromise=new i(function(i){o=i});this.oPromise.$resolve=o}return this.oPromise}};e.$cached=new e("$cached","sap.ui.model.odata.v4.lib._GroupLock");e.$cached.unlock=function(){};return e},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_MetadataConverter", ["./_Helper","sap/base/Log","sap/ui/performance/Measurement"],function(e,t,o){"use strict";var s="sap.ui.model.odata.v4.lib._MetadataConverter";function r(){this.aliases={};this.oAnnotatable=null;this.entityContainer=null;this.entitySet=null;this.namespace=null;this.oOperation=null;this.reference=null;this.schema=null;this.type=null;this.result=null;this.url=null;this.xmlns=null}r.prototype.rCollection=/^Collection\((.*)\)$/;r.prototype.sEdmNamespace="http://docs.oasis-open.org/odata/ns/edm";r.prototype.sEdmxNamespace="http://docs.oasis-open.org/odata/ns/edmx";r.prototype.addToResult=function(e,o){if(e in this.result){t.warning("Duplicate qualified name "+e,undefined,s)}this.result[e]=o};r.prototype.annotatable=function(t,o,s){var r,n,a;if(typeof t==="string"){r=this.oAnnotatable;if(r){t=e.buildPath(r.path,t)}a=t;n=this.schema.$Annotations;if(n&&n[t]){t=n[t]}}this.oAnnotatable={parent:this.oAnnotatable,path:a,prefix:o||"",qualifiedName:undefined,qualifier:s,target:t}};r.prototype.convertXMLMetadata=function(e,t,s){var r;o.average("convertXMLMetadata","","sap.ui.model.odata.v4.lib._V4MetadataConverter");r=e.documentElement;if(r.localName!=="Edmx"||r.namespaceURI!==this.sRootNamespace){throw new Error(t+": expected <Edmx> in namespace '"+this.sRootNamespace+"'")}this.result={};this.url=t;this.bIgnoreAnnotations=s;this.traverse(r,this.oAliasConfig);this.traverse(r,this.oFullConfig,true);this.finalize();o.end("convertXMLMetadata");return this.result};r.prototype.getAnnotationValue=function(t,o){var s,r,n;switch(t){case"AnnotationPath":case"AnyPropertyPath":case"ModelElementPath":case"NavigationPropertyPath":case"Path":case"PropertyPath":o=this.resolveAliasInPath(o);case"Binary":case"Date":case"DateTimeOffset":case"Decimal":case"Duration":case"Guid":case"TimeOfDay":case"UrlRef":s={};s["$"+t]=o;return s;case"Bool":return o==="true";case"EnumMember":r=o.trim().replace(/ +/g," ").split(" ");for(n=0;n<r.length;n+=1){r[n]=this.resolveAliasInPath(r[n])}return{$EnumMember:r.join(" ")};case"Float":if(o==="NaN"||o==="INF"||o==="-INF"){return{$Float:o}}return parseFloat(o);case"Int":s=parseInt(o);return e.isSafeInteger(s)?s:{$Int:o};case"String":return o;default:return undefined}};r.prototype.getInlineAnnotationValue=function(e){var t,o=e.attributes,s,r;for(r=o.length-1;r>=0;r-=1){t=o.item(r);s=this.getAnnotationValue(t.name,t.value);if(s!==undefined){return s}}return true};r.prototype.getOrCreateArray=function(e,t){var o=e[t];o??=e[t]=[];return o};r.prototype.getOrCreateObject=function(e,t){var o=e[t];o??=e[t]={};return o};r.prototype.postProcessAnnotation=function(e,t){var o=this.oAnnotatable.parent;if(!this.bIgnoreAnnotations){o.target[o.qualifiedName]=t.length?t[0]:this.getInlineAnnotationValue(e)}};r.prototype.postProcessApply=function(e,t){var o=this.oAnnotatable.target;o.$Apply=t;o.$Function=this.resolveAlias(e.getAttribute("Function"));return o};r.prototype.postProcessCastOrIsOf=function(e,t){var o=e.localName,s=this.oAnnotatable.target;s["$"+o]=t[0];this.processTypedCollection(e.getAttribute("Type"),s);this.processFacetAttributes(e,s);return s};r.prototype.postProcessCollection=function(e,t){return t};r.prototype.postProcessLabeledElement=function(e,t){var o=this.oAnnotatable.target;o.$LabeledElement=t.length?t[0]:this.getInlineAnnotationValue(e);o.$Name=e.getAttribute("Name");return o};r.prototype.postProcessLabeledElementReference=function(e,t){return{$LabeledElementReference:this.resolveAlias(e.textContent)}};r.prototype.postProcessLeaf=function(e,t){return this.getAnnotationValue(e.localName,e.textContent)};r.prototype.postProcessNeg=function(e,t){var o=this.oAnnotatable.target;o.$Neg=t[0];return o};r.prototype.postProcessNot=function(e,t){var o=this.oAnnotatable.target;o.$Not=t[0];return o};r.prototype.postProcessNull=function(e,t){var o=this.oAnnotatable,s=null;if(o.qualifiedName){s=o.target;s.$Null=null}return s};r.prototype.postProcessOperation=function(e,t){var o=this.oAnnotatable.target;o["$"+e.localName]=t;return o};r.prototype.postProcessPropertyValue=function(e,t){return{property:e.getAttribute("Property"),value:t.length?t[0]:this.getInlineAnnotationValue(e)}};r.prototype.postProcessRecord=function(e,t){var o,s=this.oAnnotatable.target,r=e.getAttribute("Type"),n;if(r){s.$Type=this.resolveAlias(r)}for(n=0;n<t.length;n+=1){o=t[n];s[o.property]=o.value}return s};r.prototype.postProcessUrlRef=function(e,t){return{$UrlRef:t[0]}};r.prototype.processAlias=function(e){var t=e.getAttribute("Alias");if(t){this.aliases[t]=e.getAttribute("Namespace")+"."}};r.prototype.processAnnotatableExpression=function(e){this.annotatable({})};r.prototype.processAnnotation=function(e){var t=this.oAnnotatable,o,s=t.prefix+"@"+this.resolveAlias(e.getAttribute("Term")),r=t.qualifier||e.getAttribute("Qualifier");if(r){s+="#"+r}if(typeof t.target==="string"){o=this.getOrCreateObject(this.schema,"$Annotations");if(this.bIgnoreAnnotations){return}t.target=o[t.target]={}}t.qualifiedName=s;this.annotatable(t.target,s)};r.prototype.processAnnotations=function(e){this.annotatable(this.resolveAliasInPath(e.getAttribute("Target"),true),undefined,e.getAttribute("Qualifier"))};r.prototype.processAttributes=function(e,t,o){var s,r;for(s in o){r=o[s](e.getAttribute(s));if(r!==undefined&&r!==null){t["$"+s]=r}}};r.prototype.processInclude=function(e){var t=this.getOrCreateArray(this.reference,"$Include");t.push(e.getAttribute("Namespace")+".")};r.prototype.processIncludeAnnotations=function(e){var t=this.reference,o={$TermNamespace:e.getAttribute("TermNamespace")+"."},s=this.getOrCreateArray(t,"$IncludeAnnotations");this.processAttributes(e,o,{TargetNamespace:function e(t){return t?t+".":t},Qualifier:this.setValue});s.push(o)};r.prototype.processPropertyValue=function(e){this.annotatable(this.oAnnotatable.target,e.getAttribute("Property"))};r.prototype.processReference=function(e){var t=this.getOrCreateObject(this.result,"$Reference");this.reference=t[e.getAttribute("Uri")]={};this.annotatable(this.reference)};r.prototype.resolveAlias=function(e){var t=e?e.indexOf("."):-1,o;if(t>=0&&!e.includes(".",t+1)){o=this.aliases[e.slice(0,t)];if(o){return o+e.slice(t+1)}}return e};r.prototype.resolveAliasInParentheses=function(e,t){var o=e?t.indexOf("("):-1;if(o>=0){return this.resolveAlias(t.slice(0,o))+"("+t.slice(o+1,-1).split(",").map(this.resolveAliasInParentheses.bind(this,e)).join(",")+")"}return this.resolveAlias(t)};r.prototype.resolveAliasInPath=function(e,t){var o,s="";if(!e.includes(".")){return e}o=e.indexOf("@");if(o>=0){s="@"+this.resolveAlias(e.slice(o+1));e=e.slice(0,o)}return e.split("/").map(this.resolveAliasInParentheses.bind(this,t)).join("/")+s};r.prototype.setIfFalse=function(e){return e==="false"?false:undefined};r.prototype.setIfTrue=function(e){return e==="true"?true:undefined};r.prototype.setNumber=function(e){return e?parseInt(e):undefined};r.prototype.setValue=function(e){return e};r.prototype.traverse=function(e,t,o){var s=this.oAnnotatable,r,n=e.childNodes,a,i,p,c,l=this.xmlns,u,f=[],_=t.__xmlns||this.xmlns,h,P;if(_&&_!==e.namespaceURI){return undefined}this.xmlns=_;if(o){this.processElement(e,t.__processor)}else if(t.__processor){t.__processor.call(this,e)}for(h=0;h<n.length;h+=1){a=n.item(h);if(a.nodeType===1){c=a.localName;r=t[c];if(!r&&t.__include){p=t.__include;for(P=0;P<p.length;P+=1){r=p[P][c];if(r){break}}}if(r){i=this.traverse(a,r,o);if(i!==undefined&&t.__postProcessor){f.push(i)}}}}if(t.__postProcessor){u=t.__postProcessor.call(this,e,f)}this.oAnnotatable=s;this.xmlns=l;return u};(function(e){var t,o,s,r,n;s={AnnotationPath:{__postProcessor:e.postProcessLeaf},AnyPropertyPath:{__postProcessor:e.postProcessLeaf},Binary:{__postProcessor:e.postProcessLeaf},Bool:{__postProcessor:e.postProcessLeaf},Date:{__postProcessor:e.postProcessLeaf},DateTimeOffset:{__postProcessor:e.postProcessLeaf},Decimal:{__postProcessor:e.postProcessLeaf},Duration:{__postProcessor:e.postProcessLeaf},EnumMember:{__postProcessor:e.postProcessLeaf},Float:{__postProcessor:e.postProcessLeaf},Guid:{__postProcessor:e.postProcessLeaf},Int:{__postProcessor:e.postProcessLeaf},LabeledElementReference:{__postProcessor:e.postProcessLabeledElementReference},ModelElementPath:{__postProcessor:e.postProcessLeaf},NavigationPropertyPath:{__postProcessor:e.postProcessLeaf},Path:{__postProcessor:e.postProcessLeaf},PropertyPath:{__postProcessor:e.postProcessLeaf},String:{__postProcessor:e.postProcessLeaf},TimeOfDay:{__postProcessor:e.postProcessLeaf}};r=[s];e.oAnnotationConfig={Annotation:{__xmlns:e.sEdmNamespace,__processor:e.processAnnotation,__postProcessor:e.postProcessAnnotation,__include:r}};t=[s,e.oAnnotationConfig];n={__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessOperation,__include:t};o={Add:n,And:n,Apply:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessApply,__include:t},Cast:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessCastOrIsOf,__include:t},Collection:{__postProcessor:e.postProcessCollection,__include:r},Div:n,DivBy:n,Eq:n,Ge:n,Gt:n,Has:n,If:n,In:n,IsOf:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessCastOrIsOf,__include:t},LabeledElement:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessLabeledElement,__include:t},Le:n,Lt:n,Mod:n,Mul:n,Ne:n,Neg:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessNeg,__include:t},Not:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessNot,__include:t},Null:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessNull,__include:[e.oAnnotationConfig]},Or:n,Record:{__processor:e.processAnnotatableExpression,__postProcessor:e.postProcessRecord,__include:[e.oAnnotationConfig],PropertyValue:{__processor:e.processPropertyValue,__postProcessor:e.postProcessPropertyValue,__include:t}},Sub:n,UrlRef:{__postProcessor:e.postProcessUrlRef,__include:r}};e.oAnnotationsConfig={Annotations:{__processor:e.processAnnotations,__include:[e.oAnnotationConfig]}};r.push(o);t.push(o);e.oAnnotationConfig.Annotation.Annotation=e.oAnnotationConfig.Annotation;e.oReferenceInclude={Reference:{__xmlns:e.sEdmxNamespace,__processor:e.processReference,__include:[e.oAnnotationConfig],Include:{__processor:e.processInclude},IncludeAnnotations:{__processor:e.processIncludeAnnotations}}}})(r.prototype);return r},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_MetadataRequestor", ["./_Helper","./_V2MetadataConverter","./_V4MetadataConverter","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";return{create:function(n,i,s,o,d,u){var f={},c=e.buildQuery(o);return{read:function(l,p,h){var M;function g(e){var r=i==="4.0"||p?a:t,n=e.$XML,o=s&&!p;delete e.$XML;return Object.assign((new r).convertXMLMetadata(n,l,o),e)}if(l in f){if(h){throw new Error("Must not prefetch twice: "+l)}M=f[l].then(g);delete f[l]}else{M=new Promise(function(t,a){function i(){const s={method:"GET",headers:n};if(d){s.xhrFields={withCredentials:true}}jQuery.ajax(p?l:l+c,s).then(function(e,a,r){var n=r.getResponseHeader("Date"),i=r.getResponseHeader("ETag"),s={$XML:e},o=r.getResponseHeader("Last-Modified");if(n){s.$Date=n}if(i){s.$ETag=i}if(o){s.$LastModified=o}t(s)},function(t){var n=e.createError(t,"Could not load metadata");if(t.status===503&&t.getResponseHeader("Retry-After")&&u(n)){u().then(i,a)}else{r.error("GET "+l,n.message,"sap.ui.model.odata.v4.lib._MetadataRequestor");a(n)}})}const s=u();if(s){s.then(i,a)}else{i()}if(!p&&o&&"sap-context-token"in o){delete o["sap-context-token"];c=e.buildQuery(o)}});if(h){f[l]=M}else{M=M.then(g)}}return M}}}}},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_MinMaxHelper", ["./_Cache","./_ConcatHelper"],function(e,n){"use strict";return{createCache:function(r,t,u,a){var c={},i,o,f=new Promise(function(e){o=e});function s(e){var n,r={};function t(e){r[e]??={};return r[e]}for(n in c){t(c[n].measure)[c[n].method]=e[n]}o(r)}i=e.create(r,t,a,true);n.enhanceCache(i,u,[s],c);i.getMeasureRangePromise=function(){return f};return i}}},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_Requestor", ["./_Batch","./_GroupLock","./_Helper","./_V2Requestor","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/core/cache/CacheManager","sap/ui/security/Security","sap/ui/thirdparty/jquery"],function(e,t,r,n,o,i,s,a,jQuery){"use strict";var u={Accept:"multipart/mixed"},c="sap.ui.model.odata.v4.optimisticBatch:",h="sap.ui.model.odata.v4.lib._Requestor",f="@com.sap.vocabularies.Common.v1.Messages",p=/(\$\w+)=~/g,d=/^\d+$/;function l(e){var t=Object.assign({},e);delete t["X-CSRF-Token"];return t}function m(e){var t;e=e.toLowerCase();for(t in this.headers){if(t.toLowerCase()===e){return this.headers[t]}}}function g(e,t,n,o,i){this.mBatchQueue={};this.bBatchSent=false;this.mHeaders=t||{};this.aLockedGroupLocks=[];this.oModelInterface=o;this.oOptimisticBatch=null;this.sQueryParams=r.buildQuery(n);this.mRunningChangeRequests={};this.iSessionTimer=0;this.iSerialNumber=0;this.sServiceUrl=e;this.vStatistics=n&&n["sap-statistics"];this.bWithCredentials=i;this.processSecurityTokenHandlers()}g.prototype.mFinalHeaders={"Content-Type":"application/json;charset=UTF-8;IEEE754Compatible=true"};g.prototype.mPredefinedPartHeaders={Accept:"application/json;odata.metadata=minimal;IEEE754Compatible=true"};g.prototype.mPredefinedRequestHeaders={Accept:"application/json;odata.metadata=minimal;IEEE754Compatible=true","OData-MaxVersion":"4.0","OData-Version":"4.0","X-CSRF-Token":"Fetch"};g.prototype.mReservedHeaders={accept:true,"accept-charset":true,"content-encoding":true,"content-id":true,"content-language":true,"content-length":true,"content-transfer-encoding":true,"content-type":true,"if-match":true,"if-none-match":true,isolation:true,"odata-isolation":true,"odata-maxversion":true,"odata-version":true,prefer:true,"sap-contextid":true};g.prototype.addChangeSet=function(e){var t=[],r=this.getOrCreateBatchQueue(e,true);t.iSerialNumber=this.getSerialNumber();r.iChangeSet+=1;r.splice(r.iChangeSet,0,t)};g.prototype.addChangeToGroup=function(e,t){var r;if(this.getGroupSubmitMode(t)==="Direct"){e.$resolve(this.request(e.method,e.url,this.lockGroup(t,this,true,true),e.headers,e.body,e.$submit,e.$cancel))}else{r=this.getOrCreateBatchQueue(t);r[r.iChangeSet].push(e)}};g.prototype.addQueryString=function(e,t,n,o){var i;n=this.convertQueryOptions(t,n,false,true);e=e.replace(p,function(e,t){var o=n[t];delete n[t];return r.encodePair(t,o)});i=r.buildQuery(n,o);if(!i){return e}return e+(e.includes("?")?"&"+i.slice(1):i)};g.prototype.batchRequestSent=function(e,t,r){var n,o;if(r){if(!(e in this.mRunningChangeRequests)){this.mRunningChangeRequests[e]=[]}n=new i(function(e){o=e});n.$resolve=o;n.$requests=t;this.mRunningChangeRequests[e].push(n)}};g.prototype.batchResponseReceived=function(e,t,r){var n;if(r){n=this.mRunningChangeRequests[e].filter(function(e){if(e.$requests===t){e.$resolve();return false}return true});if(n.length){this.mRunningChangeRequests[e]=n}else{delete this.mRunningChangeRequests[e]}}};g.prototype.buildQueryString=function(e,t,n,o,i){return r.buildQuery(this.convertQueryOptions(e,t,n,o),i)};g.prototype.cancelChanges=function(e,t){if(this.mRunningChangeRequests[e]){throw new Error("Cannot cancel the changes for group '"+e+"', the batch request is running")}this.cancelChangesByFilter(function(){return true},e,t);this.cancelGroupLocks(e)};g.prototype.cancelChangesByFilter=function(e,t,r){var n=false,o=this;function i(t){var i=o.mBatchQueue[t],s,a,u,c,h;for(h=i.length-1;h>=0;h-=1){if(Array.isArray(i[h])){a=i[h];for(c=a.length-1;c>=0;c-=1){s=a[c];if(s.$cancel&&e(s)){if(!s.$cancel(r)){u=new Error("Request canceled: "+s.method+" "+s.url+"; group: "+t);u.canceled=true;s.$reject(u);a.splice(c,1);n=true}}}}}}if(t){if(this.mBatchQueue[t]){i(t)}}else{for(t in this.mBatchQueue){i(t)}}return n};g.prototype.cancelGroupLocks=function(e){this.aLockedGroupLocks.forEach(function(t){if((!e||e===t.getGroupId())&&t.isModifying()&&t.isLocked()){t.cancel()}})};g.prototype.checkConflictingStrictRequest=function(e,t,r){function n(e){return e.filter(i).length>1}function o(e,t){return r!==t&&e.some(i)}function i(e){return e.headers.Prefer?.includes("handling=strict")}const s="Each request with strict handling must belong to its own change set due"+' to the "odata.continue-on-error" preference';const a=t.slice(0,t.iChangeSet+1);if(e===null){if(a.some(n)){throw new Error(s)}}else if(t.bContinueOnError){if(a[r].length&&(i(e)||i(a[r][0]))){throw new Error(s)}}else if(i(e)&&a.some(o)){throw new Error("All requests with strict handling must belong to the same change set")}};g.prototype.checkForOpenRequests=function(){var e=this;if(!r.isEmptyObject(this.mRunningChangeRequests)||Object.keys(this.mBatchQueue).some(function(t){return e.mBatchQueue[t].some(function(e){return Array.isArray(e)?e.length:true})})||this.aLockedGroupLocks.some(function(e){return e.isLocked()})){throw new Error("Unexpected open requests")}};g.prototype.checkHeaderNames=function(e){var t;for(t in e){if(this.mReservedHeaders[t.toLowerCase()]){throw new Error("Unsupported header: "+t)}}};g.prototype.cleanUpChangeSets=function(e){var t,n=false,o;function i(e){if(!s(e)){if(e.method==="DELETE"&&e.headers["If-Match"]&&e.headers["If-Match"]["@odata.etag"]&&t.find(function(t){return t.headers["If-Match"]===e.headers["If-Match"]})){e.headers["If-Match"]={"@odata.etag":"*"}}t.push(e)}}function s(e){if(e.method!=="PATCH"){return false}return t.some(function(t){if(t.method==="PATCH"&&t.headers["If-Match"]===e.headers["If-Match"]){r.merge(t.body,e.body);e.$resolve(t.$promise);t.$mergeRequests(e.$mergeRequests());return true}})}for(o=e.iChangeSet;o>=0;o-=1){t=[];e[o].forEach(i);if(t.length===0){e.splice(o,1)}else if(t.length===1&&this.isChangeSetOptional()){e[o]=t[0]}else{e[o]=t}n||=t.length>0}return n};g.prototype.clearSessionContext=function(e){if(e){this.oModelInterface.fireSessionTimeout()}delete this.mHeaders["SAP-ContextId"];if(this.iSessionTimer){clearInterval(this.iSessionTimer);this.iSessionTimer=0}};g.prototype.convertExpand=function(e,t){var r,n=[],o=this;if(!e||typeof e!=="object"){throw new Error("$expand must be a valid object")}r=Object.keys(e);if(t){r=r.sort()}r.forEach(function(r){var i=e[r];if(i&&typeof i==="object"){n.push(o.convertExpandOptions(r,i,t))}else{n.push(r)}});return n.join(",")};g.prototype.convertExpandOptions=function(e,t,r){var n=[];this.doConvertSystemQueryOptions(undefined,t,function(e,t){n.push(e+"="+t)},undefined,r);return n.length?e+"("+n.join(";")+")":e};g.prototype.convertQueryOptions=function(e,t,r,n){var o={};if(!t){return undefined}this.doConvertSystemQueryOptions(e,t,function(e,t){o[e]=t},r,n);return o};g.prototype.convertResourcePath=function(e){return e};g.prototype.destroy=function(){this.clearSessionContext()};g.prototype.doCheckVersionHeader=function(e,t,r){var n=e("OData-Version"),o=!n&&e("DataServiceVersion");if(o){throw new Error("Expected 'OData-Version' header with value '4.0' but received"+" 'DataServiceVersion' header with value '"+o+"' in response for "+this.sServiceUrl+t)}if(n==="4.0"||!n&&r){return}throw new Error("Expected 'OData-Version' header with value '4.0' but received value '"+n+"' in response for "+this.sServiceUrl+t)};g.prototype.doConvertResponse=function(e,t){return e};g.prototype.doConvertSystemQueryOptions=function(e,t,n,o,i){var s=this;Object.keys(t).forEach(function(e){var a=t[e];if(o&&e[0]==="$"){return}switch(e){case"$expand":if(a!=="~"){a=s.convertExpand(a,i)}break;case"$select":if(Array.isArray(a)){if(i){a=a.slice().sort();for(let e=1;e<a.length;){if(r.hasPathPrefix(a[e],a[e-1])){a.splice(e,1)}else{e+=1}}}a=a.join(",")}break;default:}n(e,a)})};g.prototype.fetchType=function(e,t){var r=this;if(t in e){return i.resolve(e[t])}return this.fetchTypeForPath(t).then(function(n){var o,s=[];if(n){o=r.getModelInterface().fetchMetadata(t+"/"+f).getResult();if(o){n=Object.create(n);n[f]=o}e[t]=n;(n.$Key||[]).forEach(function(n){if(typeof n==="object"){n=n[Object.keys(n)[0]];s.push(r.fetchType(e,t+"/"+n.slice(0,n.lastIndexOf("/"))))}});return i.all(s).then(function(){return n})}})};g.prototype.fetchTypeForPath=function(e){return this.oModelInterface.fetchMetadata(e+"/")};g.prototype.formatPropertyAsLiteral=function(e,t){return r.formatLiteral(e,t.$Type)};g.prototype.getGroupSubmitMode=function(e){return this.oModelInterface.getGroupProperty(e,"submit")};g.prototype.getModelInterface=function(){return this.oModelInterface};g.prototype.getOrCreateBatchQueue=function(e,t){var r,n=this.mBatchQueue[e];if(!n){r=[];r.iSerialNumber=0;n=this.mBatchQueue[e]=[r];n.iChangeSet=0;if(!t){this.oModelInterface.onCreateGroup(e)}}return n};g.prototype.getPathAndAddQueryOptions=function(e,t,r){var n=[],o,i={},s=this;e=e.slice(1,-5);if(t.$Parameter){t.$Parameter.forEach(function(e){i[e.$Name]=e})}if(t.$kind==="Function"){for(o in r){const e=i[o];if(e){if(e.$isCollection){throw new Error("Unsupported collection-valued parameter: "+o)}n.push(encodeURIComponent(o)+"="+encodeURIComponent(s.formatPropertyAsLiteral(r[o],e)))}}e+="("+n.join(",")+")"}else{for(o in r){if(!(o in i)){delete r[o]}}}return e};g.prototype.getSerialNumber=function(){this.iSerialNumber+=1;return this.iSerialNumber};g.prototype.getServiceUrl=function(){return this.sServiceUrl};g.prototype.getUnlockedAutoCopy=function(e){if(this.getGroupSubmitMode(e.getGroupId())!=="API"){return e.getUnlockedCopy()}return this.lockGroup("$auto",e.getOwner())};g.prototype.hasChanges=function(e,t){var r=this.mBatchQueue[e];if(r){return r.some(function(e){return Array.isArray(e)&&e.some(function(e){return e.headers["If-Match"]===t})})}return false};g.prototype.hasOnlyPatchesWithoutSideEffects=function(e){return this.getGroupSubmitMode(e)==="Auto"&&!!this.mBatchQueue[e]&&this.mBatchQueue[e].every(function(e){return Array.isArray(e)&&e.every(function(e){return e.method==="PATCH"&&e.headers.Prefer==="return=minimal"})})};g.prototype.hasPendingChanges=function(e){var t=this;function r(t){if(!e){return Object.keys(t)}return e in t?[e]:[]}return r(this.mRunningChangeRequests).length>0||this.aLockedGroupLocks.some(function(t){var r=t.getGroupId();return(e===undefined||r===e)&&t.isModifying()&&t.isLocked()&&!r.startsWith("$inactive.")})||r(this.mBatchQueue).some(function(e){return!e.startsWith("$inactive.")&&t.mBatchQueue[e].some(function(e){return Array.isArray(e)&&e.some(function(e){return e.$cancel})})})};g.prototype.isActionBodyOptional=function(){return false};g.prototype.isBatchSent=function(){return this.bBatchSent};g.prototype.isChangeSetOptional=function(){return true};g.prototype.lockGroup=function(e,r,n,o,i){var s;s=new t(e,r,n,o,this.getSerialNumber(),i);if(n){this.aLockedGroupLocks.push(s)}return s};g.prototype.mergeGetRequests=function(e){var t=[],n=this;function o(e){return e.$queryOptions&&t.some(function(t){if(t.$queryOptions&&e.url===t.url&&e.$owner===t.$owner){t.$queryOptions=r.clone(t.$queryOptions);r.aggregateExpandSelect(t.$queryOptions,e.$queryOptions);e.$resolve(t.$promise);if(t.$mergeRequests&&e.$mergeRequests){t.$mergeRequests(e.$mergeRequests())}t.$sortSystemQueryOptions||=t.$queryOptions.$$sortIfMerged||e.$queryOptions.$$sortIfMerged;return true}return false})}e.forEach(function(e){if(!o(e)){t.push(e)}});t.forEach(function(e){var t=e.$queryOptions;if(t){if(t.$expand&&t.$select?.length===0){t.$select=Object.keys(t.$expand).sort().slice(0,1)}e.url=n.addQueryString(e.url,e.$metaPath,t,e.$sortSystemQueryOptions)}});t.iChangeSet=e.iChangeSet;if(e.bContinueOnError){t.bContinueOnError=true}return t};g.prototype.processBatch=function(e){var t,n=this.mBatchQueue[e]||[],o=this;function i(e){if(Array.isArray(e)){e.forEach(i)}else if(e.$submit){e.$submit()}}function s(e,t){if(Array.isArray(t)){t.forEach(s.bind(null,e))}else{t.$reject(e)}}function a(e,t){var n;e.forEach(function(e,i){var u,c,h=t[i];if(Array.isArray(h)){a(e,h)}else if(!h){const t=new Error("HTTP request was not processed because the previous request failed");t.cause=n;t.$reported=true;s(t,e)}else if(h.status>=400){o.oModelInterface.onHttpResponse(h.headers);h.getResponseHeader=m;n=r.createError(h,"Communication error",e.url?o.sServiceUrl+e.url:undefined,e.$resourcePath);if(Array.isArray(e)){r.decomposeError(n,e,o.sServiceUrl).forEach(function(t,r){e[r].$reject(t)})}else{e.$reject(n)}}else{o.oModelInterface.onHttpResponse(h.headers);if(h.responseText){try{o.doCheckVersionHeader(m.bind(h),e.url,true);c=o.doConvertResponse(JSON.parse(h.responseText),e.$metaPath)}catch(t){e.$reject(t);return}}else{c=e.method==="GET"?null:{}}o.reportHeaderMessages(e.$resourcePath,m.call(h,"sap-messages"),c);u=m.call(h,"ETag");if(u){c["@odata.etag"]=u}e.$resolve(c)}})}i(n);delete this.mBatchQueue[e];t=this.cleanUpChangeSets(n);if(n.length===0){return Promise.resolve()}this.bBatchSent=true;n=this.mergeGetRequests(n);this.batchRequestSent(e,n,t);return this.sendBatch(n,e,t).then(function(e){a(n,e)}).catch(function(e){var t=new Error("HTTP request was not processed because $batch failed");t.cause=e;t.$reported=true;s(t,n);throw e}).finally(function(){o.batchResponseReceived(e,n,t)})};g.prototype.processOptimisticBatch=function(e,t){var r,n,i=this.oOptimisticBatch,a,u=this;if(!i){return}a=this.oModelInterface.getOptimisticBatchEnabler();n=i.key;this.oOptimisticBatch=null;if(i.result){if(g.matchesOptimisticBatch(e,t,i.firstBatch.requests,i.firstBatch.groupId)){if(a){Promise.resolve(a(n)).then(async e=>{if(!e){await s.del(c+n);o.info("optimistic batch: disabled, batch payload deleted",n,h)}}).catch(u.oModelInterface.getReporter())}o.info("optimistic batch: success, response consumed",n,h);return i.result}o.warning("optimistic batch: mismatch, response skipped",n,h);s.del(c+n).catch(this.oModelInterface.getReporter())}if(a){r=e.some(function(e){return Array.isArray(e)||e.method!=="GET"});if(r){o.warning("optimistic batch: modifying batch not supported",n,h);return}Promise.resolve(a(n)).then(function(r){if(r){return s.set(c+n,{groupId:t,requests:e.map(function(e){return{headers:l(e.headers),method:"GET",url:e.url}})}).then(function(){o.info("optimistic batch: enabled, batch payload saved",n,h)})}o.info("optimistic batch: disabled",n,h)}).catch(u.oModelInterface.getReporter())}};g.prototype.processSecurityTokenHandlers=function(){var e=this;this.oSecurityTokenPromise=null;a.getSecurityTokenHandlers().some(function(t){var r=t(e.sServiceUrl);if(r!==undefined){e.oSecurityTokenPromise=r.then(function(t){e.checkHeaderNames(t);Object.assign(e.mHeaders,{"X-CSRF-Token":undefined},t);e.oSecurityTokenPromise=null}).catch(function(e){o.error("An error occurred within security token handler: "+t,e,h);throw e});return true}})};g.prototype.ready=function(){return i.resolve()};g.prototype.refreshSecurityToken=function(e){var t=this;if(!this.oSecurityTokenPromise){if(e!==this.mHeaders["X-CSRF-Token"]){return Promise.resolve()}this.oSecurityTokenPromise=new Promise(function(n,o){const i={method:"HEAD",headers:Object.assign({},t.mHeaders,{"X-CSRF-Token":"Fetch"})};if(t.bWithCredentials){i.xhrFields={withCredentials:true}}jQuery.ajax(t.sServiceUrl+t.sQueryParams,i).then(function(e,o,i){var s=i.getResponseHeader("X-CSRF-Token");if(s){t.mHeaders["X-CSRF-Token"]=s}else{delete t.mHeaders["X-CSRF-Token"]}t.oSecurityTokenPromise=null;t.oModelInterface.onHttpResponse(r.parseRawHeaders(i.getAllResponseHeaders()));n()},function(i){t.oSecurityTokenPromise=null;if(!e||i.status===503&&i.getResponseHeader("Retry-After")){n()}else{o(r.createError(i,"Could not refresh security token"))}})})}return this.oSecurityTokenPromise};g.prototype.relocate=function(e,t,r){var n=this.mBatchQueue[e],o=this,i=n&&n[0].some(function(e,i){if(e.body===t){o.addChangeToGroup(e,r);n[0].splice(i,1);return true}});if(!i){throw new Error("Request not found in group '"+e+"'")}};g.prototype.relocateAll=function(e,t,r){var n=0,o=this.mBatchQueue[e],i=this;if(o){o[0].slice().forEach(function(e){if(!r||e.headers["If-Match"]===r){i.addChangeToGroup(e,t);o[0].splice(n,1)}else{n+=1}})}};g.prototype.removeChangeRequest=function(e){var t=this.cancelChangesByFilter(function(t){return t.$promise===e});if(!t){throw new Error("Cannot reset the changes, the batch request is running")}};g.prototype.removePost=function(e,t){var n=r.getPrivateAnnotation(t,"postBody"),o=this.cancelChangesByFilter(function(e){return e.body===n},e);if(!o){throw new Error("Cannot reset the changes, the batch request is running")}};g.prototype.reportHeaderMessages=function(e,t,n){if(t){const o=JSON.parse(t);if(e==="R#V#C"){r.setPrivateAnnotation(n,"headerMessages",o)}else{this.oModelInterface.reportTransitionMessages(o,e)}}};g.prototype.request=function(e,t,r,n,o,i,s,a,u,c,h,f,p){var d,l,m=r&&r.getGroupId()||"$direct",g,y=Infinity,S,v=this;if(m==="$cached"){l=new Error("Unexpected request: "+e+" "+t);l.$cached=true;throw l}if(r&&r.isCanceled()){if(s){s()}l=new Error("Request already canceled");l.canceled=true;return Promise.reject(l)}if(r){r.unlock();y=r.getSerialNumber()}t=this.convertResourcePath(t);u??=t;if(this.getGroupSubmitMode(m)!=="Direct"){if(m==="$single"&&this.mBatchQueue[m]){throw new Error("Cannot add new request to already existing $single queue")}g=new Promise(function(r,l){var g=v.getOrCreateBatchQueue(m);S={method:e,url:t,headers:Object.assign({},v.mPredefinedPartHeaders,v.mHeaders,n,v.mFinalHeaders),body:o,$cancel:s,$mergeRequests:p,$metaPath:a,$owner:f,$queryOptions:h,$reject:l,$resolve:r,$resourcePath:u,$submit:i};if(e==="GET"){g.push(S)}else if(c){g[0].unshift(S)}else{if(!y&&g[g.iChangeSet].length){v.addChangeSet(m)}d=g.iChangeSet;while(g[d].iSerialNumber>y){d-=1}v.checkConflictingStrictRequest(S,g,d);g[d].push(S);if(!y){v.addChangeSet(m)}}if(m==="$single"){v.submitBatch("$single").catch(v.oModelInterface.getReporter())}});S.$promise=g;return g}if(this.vStatistics!==undefined){h=Object.assign({"sap-statistics":this.vStatistics},h)}if(h){t=v.addQueryString(t,a,h)}if(i){i()}return this.sendRequest(e,t,Object.assign({},n,this.mFinalHeaders,e==="GET"?{"sap-cancel-on-close":"true"}:undefined),JSON.stringify(o),u==="R#V#C"?t:u).then(function(e){const t=v.doConvertResponse(typeof e.body==="string"?JSON.parse(e.body):e.body,a);v.reportHeaderMessages(u,e.messages,t);return t})};g.prototype.sendBatch=function(t,r,n){var o=e.serializeBatchRequest(t,this.getGroupSubmitMode(r)==="Auto"?"Group ID: "+r:"Group ID (API): "+r,this.oModelInterface.isIgnoreETag());return this.processOptimisticBatch(t,r)||this.sendRequest("POST","$batch"+this.sQueryParams,Object.assign(o.headers,u,n?undefined:{"sap-cancel-on-close":"true"},t.bContinueOnError?{Prefer:"odata.continue-on-error"}:undefined),o.body).then(function(t){if(t.messages!==null){throw new Error("Unexpected 'sap-messages' response header for batch request")}return e.deserializeBatchResponse(t.contentType,t.body)})};g.prototype.sendOptimisticBatch=function(){var e=window.location.href,t=this;s.get(c+e).then(function(r){var n={key:e};if(r){if(t.isBatchSent()){o.error("optimistic batch: #sendBatch called before optimistic batch "+"payload could be read",undefined,h);return}n.firstBatch=r;n.result=t.sendBatch(r.requests,r.groupId);o.info("optimistic batch: sent ",e,h)}t.oOptimisticBatch=n}).catch(this.oModelInterface.getReporter())};g.prototype.sendRequest=function(e,t,n,i,s){var a=this.sServiceUrl+t,u=this;return new Promise(function(c,f){function p(d){const l={contentType:n&&n["Content-Type"],data:i,headers:Object.assign({},u.mPredefinedRequestHeaders,u.mHeaders,r.resolveIfMatchHeader(n,u.oModelInterface.isIgnoreETag())),method:e};var m=u.mHeaders["X-CSRF-Token"];if(u.bWithCredentials){l.xhrFields={withCredentials:true}}jQuery.ajax(a,l).then(function(n,o,i){var s=i.getResponseHeader("ETag"),a=i.getResponseHeader("X-CSRF-Token");u.oModelInterface.onHttpResponse(r.parseRawHeaders(i.getAllResponseHeaders()));try{u.doCheckVersionHeader(i.getResponseHeader,t,!n)}catch(e){f(e);return}if(a){u.mHeaders["X-CSRF-Token"]=a}u.setSessionContext(i.getResponseHeader("SAP-ContextId"),i.getResponseHeader("SAP-Http-Session-Timeout"));n||=e==="GET"?null:{};if(s&&typeof n==="object"){n["@odata.etag"]=s}c({body:n,contentType:i.getResponseHeader("Content-Type"),messages:i.getResponseHeader("sap-messages"),resourcePath:t})},function(e){var t=e.getResponseHeader("SAP-ContextId"),n=e.getResponseHeader("X-CSRF-Token"),i;if(!d&&e.status===403&&n&&n.toLowerCase()==="required"){u.refreshSecurityToken(m).then(function(){p(true)},f)}else if(e.status===503&&e.getResponseHeader("Retry-After")&&u.oModelInterface.getOrCreateRetryAfterPromise(r.createError(e,""))){u.oModelInterface.getOrCreateRetryAfterPromise().then(p,f)}else{i="Communication error";if(t){u.setSessionContext(t,e.getResponseHeader("SAP-Http-Session-Timeout"))}else if(u.mHeaders["SAP-ContextId"]){i="Session not found on server";o.error(i,undefined,h);u.clearSessionContext(true)}f(r.createError(e,i,a,s))}})}const d=u.oModelInterface.getOrCreateRetryAfterPromise();if(d){d.then(p,f)}else if(u.oSecurityTokenPromise&&e!=="GET"){u.oSecurityTokenPromise.then(p)}else{p()}})};g.prototype.setContinueOnError=function(e){const t=this.getOrCreateBatchQueue(e);this.checkConflictingStrictRequest(null,t);t.bContinueOnError=true};g.prototype.setSessionContext=function(e,t){var r=d.test(t)?parseInt(t):0,n=Date.now()+30*60*1e3,i=this;this.clearSessionContext();if(e){this.mHeaders["SAP-ContextId"]=e;if(r>=60){this.iSessionTimer=setInterval(function(){if(Date.now()>=n){i.clearSessionContext(true);return}const e={method:"HEAD",headers:{"SAP-ContextId":i.mHeaders["SAP-ContextId"]}};if(i.bWithCredentials){e.xhrFields={withCredentials:true}}jQuery.ajax(i.sServiceUrl+i.sQueryParams,e).fail(function(e){if(e.getResponseHeader("SAP-Err-Id")==="ICMENOSESSION"){o.error("Session not found on server",undefined,h);i.clearSessionContext(true)}})},(r-5)*1e3)}else if(t!==null){o.warning("Unsupported SAP-Http-Session-Timeout header",t,h)}}};g.prototype.submitBatch=function(e){var t,r,n=this;r=i.all(this.aLockedGroupLocks.map(function(t){return t.waitFor(e)}));t=r.isPending();if(t){o.info("submitBatch('"+e+"') is waiting for locks",null,h)}return r.then(function(){if(n.hasOnlyPatchesWithoutSideEffects(e)){t=true;o.info("submitBatch('"+e+"') is waiting for potential side effect requests",null,h);return new Promise(function(e){setTimeout(function(){e()},0)})}}).then(function(){if(t){o.info("submitBatch('"+e+"') continues",null,h)}n.aLockedGroupLocks=n.aLockedGroupLocks.filter(function(e){return e.isLocked()});return n.processBatch(e)})};g.prototype.waitForBatchResponseReceived=function(e){return i.resolve(this.mBatchQueue[e][0][0].$promise)};g.prototype.waitForRunningChangeRequests=function(e){var t=this.mRunningChangeRequests[e];if(t){return t.length>1?i.all(t):t[0]}return i.resolve()};g.matchesOptimisticBatch=function(e,t,n,o){return t===o&&e.length===n.length&&e.every(function(e,t){return e.url===n[t].url&&r.deepEqual(l(e.headers),n[t].headers)})};g.create=function(e,t,r,o,i,s){var a=new g(e,r,o,t,s);if(i==="2.0"){n(a)}return a};return g},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_TreeState", ["./_Helper"],function(e){"use strict";class t{mPredicate2ExpandInfo={};mPredicate2OutOfPlace={};constructor(e,t){this.fnGetKeyFilter=t;this.sNodeProperty=e}collapse(t,i,a){if(!this.sNodeProperty){return}const r=e.getPrivateAnnotation(t,"predicate");const n=this.mPredicate2ExpandInfo[r];if(a||n&&n.levels!==0){delete this.mPredicate2ExpandInfo[r]}else{this.mPredicate2ExpandInfo[r]={collapseAll:i,filter:this.fnGetKeyFilter(t),levels:0,nodeId:e.drillDown(t,this.sNodeProperty)}}}delete(t){if(!this.sNodeProperty){return}const i=e.getPrivateAnnotation(t,"predicate");delete this.mPredicate2ExpandInfo[i];this.deleteOutOfPlace(i);e.getPrivateAnnotation(t,"spliced",[]).forEach(e=>{this.delete(e)})}deleteExpandInfo(t){delete this.mPredicate2ExpandInfo[e.getPrivateAnnotation(t,"predicate")];e.getPrivateAnnotation(t,"spliced",[]).forEach(e=>{this.deleteExpandInfo(e)})}deleteOutOfPlace(e,t){if(!this.isOutOfPlace(e)){return}if(t){for(;;){const t=this.mPredicate2OutOfPlace[e].parentPredicate;if(!this.isOutOfPlace(t)){break}e=t}}this.mPredicate2OutOfPlace[e].context.setOutOfPlace(false);delete this.mPredicate2OutOfPlace[e];Object.values(this.mPredicate2OutOfPlace).forEach(t=>{if(t.parentPredicate===e){this.deleteOutOfPlace(t.nodePredicate)}})}expand(t,i=1){if(!this.sNodeProperty){return}if(i>=Number.MAX_SAFE_INTEGER){i=null;this.deleteExpandInfo(t)}const a=e.getPrivateAnnotation(t,"predicate");const r=this.mPredicate2ExpandInfo[a];if(r&&!r.levels&&!r.collapseAll){delete this.mPredicate2ExpandInfo[a]}else{this.mPredicate2ExpandInfo[a]={filter:this.fnGetKeyFilter(t),levels:i,nodeId:e.drillDown(t,this.sNodeProperty)}}}getExpandFilters(e){return Object.keys(this.mPredicate2ExpandInfo).filter(e).map(e=>this.mPredicate2ExpandInfo[e].filter)}getExpandLevels(){const e=Object.values(this.mPredicate2ExpandInfo);return e.length?JSON.stringify(e.map(e=>({NodeID:e.nodeId,Levels:e.levels}))):undefined}getOutOfPlace(e){return this.mPredicate2OutOfPlace[e]}getOutOfPlaceCount(){return this.getOutOfPlacePredicates().length}getOutOfPlaceGroupedByParent(){const e={};for(const t of Object.values(this.mPredicate2OutOfPlace)){const i=t.parentPredicate;const a=e[i]??={nodeFilters:[],nodePredicates:[],parentFilter:t.parentFilter,parentPredicate:i};a.nodeFilters.push(t.nodeFilter);a.nodePredicates.push(t.nodePredicate)}return Object.values(e)}getOutOfPlacePredicates(){return Object.keys(this.mPredicate2OutOfPlace)}isOutOfPlace(e){return e in this.mPredicate2OutOfPlace}reset(){this.mPredicate2ExpandInfo={};this.resetOutOfPlace()}resetOutOfPlace(){this.getOutOfPlacePredicates().forEach(e=>this.deleteOutOfPlace(e))}setOutOfPlace(t,i){if(t["@$ui5.context.isTransient"]!==false){throw new Error("Not 'created persisted'")}const a={context:e.getPrivateAnnotation(t,"context"),nodeFilter:this.fnGetKeyFilter(t),nodePredicate:e.getPrivateAnnotation(t,"predicate")};a.context.setOutOfPlace(true);if(i){a.parentFilter=this.fnGetKeyFilter(i);a.parentPredicate=e.getPrivateAnnotation(i,"predicate")}this.mPredicate2OutOfPlace[a.nodePredicate]=a}stillOutOfPlace(t,i){t["@$ui5.context.isTransient"]=false;e.setPrivateAnnotation(t,"context",this.mPredicate2OutOfPlace[i].context)}}return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_V2MetadataConverter", ["./_Helper","./_MetadataConverter","sap/base/Log"],function(t,e,a){"use strict";var o="sap.ui.model.odata.v4.lib._V2MetadataConverter",n=/^(?:DELETE|GET|MERGE|PATCH|POST|PUT)$/,i="http://schemas.microsoft.com/ado/2007/06/edmx",r="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata",s="http://www.sap.com/Protocols/SAPData",p={creatable:{property:"Insertable",term:"@Org.OData.Capabilities.V1.InsertRestrictions"},deletable:{property:"Deletable",term:"@Org.OData.Capabilities.V1.DeleteRestrictions"},"deletable-path":{property:"Deletable",term:"@Org.OData.Capabilities.V1.DeleteRestrictions"},"field-control":{term:"@com.sap.vocabularies.Common.v1.FieldControl"},heading:{term:"@com.sap.vocabularies.Common.v1.Heading"},label:{term:"@com.sap.vocabularies.Common.v1.Label"},precision:{term:"@Org.OData.Measures.V1.Scale"},quickinfo:{term:"@com.sap.vocabularies.Common.v1.QuickInfo"},"requires-filter":{property:"RequiresFilter",term:"@Org.OData.Capabilities.V1.FilterRestrictions"},searchable:{property:"Searchable",term:"@Org.OData.Capabilities.V1.SearchRestrictions"},text:{term:"@com.sap.vocabularies.Common.v1.Text"},topable:{term:"@Org.OData.Capabilities.V1.TopSupported"},updatable:{property:"Updatable",term:"@Org.OData.Capabilities.V1.UpdateRestrictions"},"updatable-path":{property:"Updatable",term:"@Org.OData.Capabilities.V1.UpdateRestrictions"}},c={bday:{TermName:"Contact"},city:{Path:"adr",TermName:"Contact",V4Attribute:"locality"},country:{Path:"adr",TermName:"Contact"},email:{Path:"address",TermName:"Contact",V4Attribute:"uri",typeMapping:{home:"home",pref:"preferred",work:"work"},v4EnumType:"com.sap.vocabularies.Communication.v1.ContactInformationType",v4PropertyAnnotation:"@com.sap.vocabularies.Communication.v1.IsEmailAddress"},familyname:{Path:"n",TermName:"Contact",V4Attribute:"surname"},givenname:{Path:"n",TermName:"Contact",V4Attribute:"given"},honorific:{Path:"n",TermName:"Contact",V4Attribute:"prefix"},middlename:{Path:"n",TermName:"Contact",V4Attribute:"additional"},name:{TermName:"Contact",V4Attribute:"fn"},nickname:{TermName:"Contact"},note:{TermName:"Contact"},org:{TermName:"Contact"},"org-role":{TermName:"Contact",V4Attribute:"role"},"org-unit":{TermName:"Contact",V4Attribute:"orgunit"},photo:{TermName:"Contact"},pobox:{Path:"adr",TermName:"Contact"},region:{Path:"adr",TermName:"Contact"},street:{Path:"adr",TermName:"Contact"},suffix:{Path:"n",TermName:"Contact"},tel:{Path:"tel",TermName:"Contact",V4Attribute:"uri",typeMapping:{cell:"cell",fax:"fax",home:"home",pref:"preferred",video:"video",voice:"voice",work:"work"},v4EnumType:"com.sap.vocabularies.Communication.v1.PhoneType",v4PropertyAnnotation:"@com.sap.vocabularies.Communication.v1.IsPhoneNumber"},title:{TermName:"Contact"},zip:{Path:"adr",TermName:"Contact",V4Attribute:"code"},class:{TermName:"Event"},dtend:{TermName:"Event"},dtstart:{TermName:"Event"},duration:{TermName:"Event"},fbtype:{TermName:"Event"},location:{TermName:"Event"},status:{TermName:"Event"},transp:{TermName:"Event"},wholeday:{TermName:"Event"},body:{TermName:"Message"},from:{TermName:"Message"},received:{TermName:"Message"},sender:{TermName:"Message"},subject:{TermName:"Message"},completed:{TermName:"Task"},due:{TermName:"Task"},"percent-complete":{TermName:"Task",V4Attribute:"percentcomplete"},priority:{TermName:"Task"}},l={fiscalyear:"@com.sap.vocabularies.Common.v1.IsFiscalYear",fiscalyearperiod:"@com.sap.vocabularies.Common.v1.IsFiscalYearPeriod",year:"@com.sap.vocabularies.Common.v1.IsCalendarYear",yearmonth:"@com.sap.vocabularies.Common.v1.IsCalendarYearMonth",yearmonthday:"@com.sap.vocabularies.Common.v1.IsCalendarDate",yearquarter:"@com.sap.vocabularies.Common.v1.IsCalendarYearQuarter",yearweek:"@com.sap.vocabularies.Common.v1.IsCalendarYearWeek",url:"@Org.OData.Core.V1.IsURL"};function m(e,a){var o=e.oAnnotatable;if(o){a=t.buildPath(o.sPath,a)}this.oConverter=e;this.sPath=a;this.oParent=o;this.mSapAttributes=e.mSapAttributes;this.mAnnotationsForTarget=null}m.prototype.annotate=function(t,e){this.getTarget()[t]=e};m.prototype.consume=function(t){return this.oConverter.consumeSapAnnotation(t)};m.prototype.convert=function(t,e){var a,o;if(e===undefined||e===""){return}o=p[t];if(o.property){a=this.getOrCreateAnnotationRecord(o.term);a[o.property]=e}else{this.annotate(o.term,e)}};m.prototype.getOrCreateAnnotationRecord=function(t){return this.oConverter.getOrCreateObject(this.getTarget(),t)};m.prototype.getTarget=function(){if(!this.mAnnotationsForTarget){this.mAnnotationsForTarget=this.oConverter.convertedV2Annotations[this.sPath]={}}return this.mAnnotationsForTarget};m.prototype.peek=function(t){return this.oConverter.mSapAnnotations[t]};function u(){this.association=null;this.associations={};this.associationSet=null;this.associationSets=[];this.aBoundOperations=[];this.constraintRole=null;this.convertedV2Annotations={};this.defaultEntityContainer=null;this.mEntityContainersOfSchema={};this.mEntityType2EntitySetAnnotation={};this.mProperty2Semantics={};this.sPropertyName=null;this.navigationProperties=[];this.mSapAnnotations={};this.sTypeName=null;this.mProperty2Unit={};e.call(this)}u.prototype=Object.create(e.prototype);u.prototype.collectSapAnnotations=function(t){var e,a=t.attributes,o,n;this.mSapAnnotations={};for(o=0,n=a.length;o<n;o+=1){e=a.item(o);if(e.namespaceURI===s&&e.localName!=="content-version"){this.mSapAnnotations[e.localName]=e.value}}};u.prototype.consumeSapAnnotation=function(t){var e=this.mSapAnnotations[t];delete this.mSapAnnotations[t];return e};u.prototype.convertEntitySetAnnotation=function(t,e){var n,i;switch(e){case"creatable":case"deletable":case"updatable":if(t.peek(e)==="false"){t.convert(e,false)}break;case"deletable-path":case"updatable-path":n=e.slice(0,9);i=t.consume(e);if(t.peek(n)){t.convert(e,false);a.warning("Inconsistent metadata in '"+this.url+"'","Use either 'sap:"+n+"' or 'sap:"+n+"-path'"+" at entity set '"+t.sPath+"'",o)}else{t.convert(e,{$Path:i})}break;case"label":this.convertLabel(t);break;case"pageable":i=t.consume(e);if(i==="false"){t.annotate("@Org.OData.Capabilities.V1.SkipSupported",false);t.annotate("@Org.OData.Capabilities.V1.TopSupported",false)}break;case"requires-filter":i=t.consume(e);if(i==="true"){t.convert(e,true)}break;case"topable":i=t.consume(e);if(i==="false"){t.convert(e,false)}break;default:}};u.prototype.convertLabel=function(t){t.convert("label",t.consume("label"))};u.prototype.convertPropertyAnnotation=function(t,e){var a;switch(e){case"heading":case"label":case"quickinfo":t.convert(e,t.consume(e));break;case"field-control":case"precision":case"text":t.convert(e,{$Path:t.consume(e)});break;case"aggregation-role":a=t.consume(e);if(a==="dimension"){t.annotate("@com.sap.vocabularies.Analytics.v1.Dimension",true)}else if(a==="measure"){t.annotate("@com.sap.vocabularies.Analytics.v1.Measure",true)}break;case"display-format":a=t.consume(e);if(a==="NonNegative"){t.annotate("@com.sap.vocabularies.Common.v1.IsDigitSequence",true)}else if(a==="UpperCase"){t.annotate("@com.sap.vocabularies.Common.v1.IsUpperCase",true)}break;case"semantics":this.convertPropertySemanticsAnnotation(t);break;case"unit":this.mProperty2Unit[t.sPath]=t.consume("unit");break;case"visible":a=t.consume(e);if(a==="false"){t.annotate("@com.sap.vocabularies.UI.v1.Hidden",true);t.annotate("@com.sap.vocabularies.Common.v1.FieldControl",{$EnumMember:"com.sap.vocabularies.Common.v1.FieldControlType/Hidden"})}break;default:}};u.prototype.convertPropertySemanticsAnnotation=function(t){var e,n,i,r,s,p=t.peek("semantics").split(";"),m=p[0],u=c[m];if(m==="unit-of-measure"||m==="currency-code"){this.mProperty2Semantics[t.sPath]=t.consume("semantics")}else if(l[m]){t.annotate(l[m],true);t.consume("semantics")}else if(u){i={$Path:this.sPropertyName};e=t.oParent.getOrCreateAnnotationRecord("@com.sap.vocabularies.Communication.v1."+u.TermName);if(u.Path){s=this.getOrCreateObject(e,u.Path);s[u.V4Attribute||m]=i;if(u.v4PropertyAnnotation){t.annotate(u.v4PropertyAnnotation,true);if(p[1]){r=[];n=p[1].split("=")[1];n.split(",").forEach(function(t){var e=u.typeMapping[t];if(e){r.push(u.v4EnumType+"/"+e)}else{a.warning("Unsupported semantic type: "+t,undefined,o)}});if(r.length){s.type={EnumMember:r.join(" ")}}}e[u.Path]=[s]}else{e[u.Path]=s}}else{e[u.V4Attribute||m]=i}t.consume("semantics")}};u.prototype.finalize=function(){this.result.$Version="4.0";this.setDefaultEntityContainer();this.updateNavigationPropertiesAndCreateBindings();this.processBoundOperations();this.processUnitConversion()};u.prototype.mergeAnnotations=function(t,e){var a;for(a in t){if(a in e){e[a]=Object.assign(t[a],e[a])}else{e[a]=t[a]}}};u.prototype.postProcessSchema=function(e,a){var o,n,i,r,s,p;for(i in this.mEntityContainersOfSchema){n=this.mEntityContainersOfSchema[i];for(s in n){r=n[s];if(r.$kind!=="EntitySet"){continue}p=i+"/"+s;o=t.merge(this.convertedV2Annotations[p]||{},this.mEntityType2EntitySetAnnotation[r.$Type]);if(!t.isEmptyObject(o)){this.convertedV2Annotations[p]=o}}}if(this.bIgnoreAnnotations){if(!t.isEmptyObject(this.convertedV2Annotations)){this.schema.$Annotations={}}}else if(this.schema.$Annotations){this.mergeAnnotations(this.convertedV2Annotations,this.schema.$Annotations)}else if(!t.isEmptyObject(this.convertedV2Annotations)){this.schema.$Annotations=this.convertedV2Annotations}this.convertedV2Annotations={};this.mEntityContainersOfSchema={}};u.prototype.processAssociation=function(t){var e=this.namespace+t.getAttribute("Name");this.associations[e]=this.association={referentialConstraint:null,roles:{}}};u.prototype.processAssociationEnd=function(t){var e=t.getAttribute("Role");this.association.roles[e]={multiplicity:t.getAttribute("Multiplicity"),propertyName:undefined,typeName:this.resolveAlias(t.getAttribute("Type"))}};u.prototype.processAssociationSet=function(t){var e={associationName:this.resolveAlias(t.getAttribute("Association")),ends:[],entityContainer:this.entityContainer};this.associationSet=e;this.associationSets.push(e);this.consumeSapAnnotation("creatable");this.consumeSapAnnotation("deletable");this.consumeSapAnnotation("updatable")};u.prototype.processAssociationSetEnd=function(t){this.associationSet.ends.push({entitySetName:t.getAttribute("EntitySet"),roleName:t.getAttribute("Role")})};u.prototype.processBoundOperations=function(){var t=this;this.aBoundOperations.forEach(function(e){var a=t.result[e.$Parameter[0].$Type];a.$Key.forEach(function(t){e.$Parameter.some(function(a,o){if(a.$Name===t){e.$Parameter.splice(o,1);return true}})})})};u.prototype.processComplexType=function(t){this.processType(t,{$kind:"ComplexType"})};u.prototype.processDataServices=function(t){if(t.getAttributeNS(r,"DataServiceVersion")!=="2.0"){throw new Error(this.url+': expected DataServiceVersion="2.0": '+h(t))}};u.prototype.processDependent=function(t){var e=this.association.referentialConstraint;this.constraintRole=e.dependent={roleName:t.getAttribute("Role")}};u.prototype.processElement=function(t,e){this.collectSapAnnotations(t);if(e){e.call(this,t)}this.warnUnsupportedSapAnnotations(t)};u.prototype.processEntityContainer=function(t){var e=this.namespace+t.getAttribute("Name");this.mEntityContainersOfSchema[e]=this.entityContainer={$kind:"EntityContainer"};this.addToResult(e,this.entityContainer);if(t.getAttributeNS(r,"IsDefaultEntityContainer")==="true"){this.defaultEntityContainer=e}this.v2annotatable(e)};u.prototype.processEntitySet=function(t){var e,a=t.getAttribute("Name");this.entityContainer[a]=this.entitySet={$kind:"EntitySet",$Type:this.resolveAlias(t.getAttribute("EntityType"))};e=this.v2annotatable(a,this.convertEntitySetAnnotation);e.consume("creatable");e.consume("deletable");e.consume("updatable");if(e.consume("searchable")!=="true"){e.convert("searchable",false)}};u.prototype.processEntityType=function(t){var e={$kind:"EntityType"},a=this;this.processType(t,e);this.processAttributes(t,e,{Abstract:this.setIfTrue,BaseType:function(t){return t?a.resolveAlias(t):undefined}});this.convertLabel(this.oAnnotatable)};u.prototype.processEntityTypeKeyPropertyRef=function(t){var e=t.getAttribute("Name");this.getOrCreateArray(this.type,"$Key").push(e)};u.prototype.processFacetAttributes=function(t,e){var a=this;this.processAttributes(t,e,{DefaultValue:this.setValue,MaxLength:function(t){return t==="Max"?undefined:a.setNumber(t)},Nullable:this.setIfFalse,Precision:this.setNumber,Scale:this.setNumber,Unicode:this.setIfFalse});if(t.getAttribute("FixedLength")==="false"){e.$Scale="variable"}};u.prototype.processFunctionImport=function(t){var e,i=t.getAttributeNS(r,"HttpMethod"),s=i!=="GET"?"Action":"Function",c,l=t.getAttribute("Name"),m={$kind:s},u={$kind:s+"Import"},h=this.namespace+l,y=t.getAttribute("ReturnType"),f;u["$"+s]=h;this.processAttributes(t,u,{EntitySet:this.setValue});if(y){m.$ReturnType=f={};this.processTypedCollection(y,f)}if(!n.test(i)){a.warning("Unsupported HttpMethod at FunctionImport '"+l+"', removing this FunctionImport",undefined,o);this.consumeSapAnnotation("action-for");this.consumeSapAnnotation("applicable-path")}else{if(i!=="GET"&&i!=="POST"){m.$v2HttpMethod=i}this.addToResult(h,[m]);e=this.consumeSapAnnotation("action-for");if(e){m.$IsBound=true;m.$Parameter=[{$Name:null,$Nullable:false,$Type:this.resolveAlias(e)}];this.aBoundOperations.push(m);this.consumeSapAnnotation("applicable-path");c=this.consumeSapAnnotation("label");if(c){m[p["label"].term]=c}}else{this.entityContainer[l]=u;this.v2annotatable(l);this.convertLabel(this.oAnnotatable)}}this.oOperation=m};u.prototype.processParameter=function(t){var e,a=this.oOperation,o={$Name:t.getAttribute("Name")};this.processFacetAttributes(t,o);this.processTypedCollection(t.getAttribute("Type"),o);this.getOrCreateArray(a,"$Parameter").push(o);e=this.consumeSapAnnotation("label");if(e){o[p["label"].term]=e}};u.prototype.processPrincipal=function(t){var e=this.association.referentialConstraint;this.constraintRole=e.principal={roleName:t.getAttribute("Role")}};u.prototype.processReferentialConstraint=function(t){this.association.referentialConstraint={}};u.prototype.processReferentialConstraintPropertyRef=function(t){this.constraintRole.propertyRef=t.getAttribute("Name")};u.prototype.processSchema=function(t){var e=this.consumeSapAnnotation("schema-version");this.namespace=t.getAttribute("Namespace")+".";this.schema={$kind:"Schema"};this.addToResult(this.namespace,this.schema);if(e){this.schema["@Org.Odata.Core.V1.SchemaVersion"]=e}};u.prototype.processType=function(t,e){var a=this.namespace+t.getAttribute("Name");this.sTypeName=a;this.type=e;this.addToResult(a,e);this.v2annotatable(a)};u.prototype.processTypedCollection=function(t,e){var a=this.rCollection.exec(t);if(a){e.$isCollection=true;t=a[1]}if(!t.includes(".")){t="Edm."+t}switch(t){case"Edm.DateTime":e.$v2Type=t;if(this.mSapAnnotations["display-format"]==="Date"){t="Edm.Date";delete e.$Precision}else{t="Edm.DateTimeOffset"}break;case"Edm.Float":e.$v2Type=t;t="Edm.Single";break;case"Edm.Time":e.$v2Type=t;t="Edm.TimeOfDay";break;default:t=this.resolveAlias(t)}e.$Type=t};u.prototype.processTypeNavigationProperty=function(t){var e=this.consumeSapAnnotation("creatable"),n=this.consumeSapAnnotation("creatable-path"),i=this.consumeSapAnnotation("filterable"),r,s,p=t.getAttribute("Name"),c,l={$kind:"NavigationProperty"},m=this;function u(t,e,a){s=m.getOrCreateObject(m.mEntityType2EntitySetAnnotation,m.sTypeName);s=m.getOrCreateObject(s,t);s=m.getOrCreateArray(s,e);s.push(a)}this.type[p]=l;this.navigationProperties.push({associationName:this.resolveAlias(t.getAttribute("Relationship")),fromRoleName:t.getAttribute("FromRole"),property:l,propertyName:p,toRoleName:t.getAttribute("ToRole")});this.v2annotatable(p);if(e){c={$NavigationPropertyPath:p};if(n){a.warning("Inconsistent metadata in '"+this.url+"'","Use either 'sap:creatable' or 'sap:creatable-path' at navigation property '"+this.oAnnotatable.sPath+"'",o)}else if(e==="true"){c=null}}else if(n){c={$If:[{$Not:{$Path:n}},{$NavigationPropertyPath:p}]}}if(c){u("@Org.OData.Capabilities.V1.InsertRestrictions","NonInsertableNavigationProperties",c)}if(i==="false"){r={NavigationProperty:{$NavigationPropertyPath:p},FilterRestrictions:{Filterable:false}};u("@Org.OData.Capabilities.V1.NavigationRestrictions","RestrictedProperties",r)}};u.prototype.processTypeProperty=function(t){var e,n,i,r,s=t.getAttribute("Name"),p={$kind:"Property"},c=this;function l(t,n,i){if(c.type.$kind==="EntityType"){r=c.getOrCreateObject(c.mEntityType2EntitySetAnnotation,c.sTypeName);r=c.getOrCreateObject(r,t);r=c.getOrCreateArray(r,n);r.push({$PropertyPath:s})}else{a.warning("Unsupported SAP annotation at a complex type in '"+c.url+"'","sap:"+i+" at property '"+e.sPath+"'",o)}}this.sPropertyName=s;this.type[s]=p;this.processFacetAttributes(t,p);this.processTypedCollection(t.getAttribute("Type"),p);e=this.v2annotatable(s,this.convertPropertyAnnotation);if(e.consume("updatable")==="false"){if(e.consume("creatable")==="false"){e.annotate("@Org.OData.Core.V1.Computed",true)}else{e.annotate("@Org.OData.Core.V1.Immutable",true)}}if(e.consume("filterable")==="false"){l("@Org.OData.Capabilities.V1.FilterRestrictions","NonFilterableProperties","filterable")}i=e.consume("filter-restriction");if(i){switch(i){case"interval":n="SingleInterval";break;case"multi-value":n="MultiValue";break;case"single-value":n="SingleValue";break;default:a.warning("Inconsistent metadata in '"+this.url+"'",'Unsupported sap:filter-restriction="'+i+"\" at property '"+e.sPath+"'",o)}if(n){if(this.type.$kind==="EntityType"){r=this.getOrCreateObject(this.mEntityType2EntitySetAnnotation,this.sTypeName);r=this.getOrCreateArray(r,"@com.sap.vocabularies.Common.v1.FilterExpressionRestrictions");r.push({AllowedExpressions:{EnumMember:"com.sap.vocabularies.Common.v1.FilterExpressionType/"+n},Property:{$PropertyPath:s}})}else{a.warning("Unsupported SAP annotation at a complex type in '"+this.url+"'","sap:filter-restriction at property '"+e.sPath+"'",o)}}}if(e.consume("required-in-filter")==="true"){l("@Org.OData.Capabilities.V1.FilterRestrictions","RequiredProperties","required-in-filter")}if(e.consume("sortable")==="false"){l("@Org.OData.Capabilities.V1.SortRestrictions","NonSortableProperties","sortable")}};u.prototype.processUnitConversion=function(){var e=this;Object.keys(this.mProperty2Unit).forEach(function(n){var i,r,s=n.split("/")[0],p,c=e.mProperty2Unit[n],l=c.split("/"),m,u,h,y=l.length;for(h=0;h<y;h+=1){r=e.result[s];m=r[l[h]];if(!m){a.warning("Path '"+c+"' for sap:unit cannot be resolved",n,o);return}if(h<y-1){s=m.$Type}}u=e.mProperty2Semantics[s+"/"+l[y-1]];if(!u){a.warning("Unsupported sap:semantics at sap:unit='"+c+"'; expected 'currency-code' or 'unit-of-measure'",n,o);return}p=u==="currency-code"?"ISOCurrency":"Unit";p="@Org.OData.Measures.V1."+p;i=e.getOrCreateObject(e.result[t.namespace(n)+"."],"$Annotations");if(e.bIgnoreAnnotations){return}i=e.getOrCreateObject(i,n);if(!(p in i)){i[p]={$Path:c}}})};function h(t){var e,a=t.attributes,o="<"+t.nodeName,n,i;for(n=0,i=a.length;n<i;n+=1){e=a.item(n);o+=" "+e.name+'="'+e.value+'"'}return o+(t.childNodes.length?">":"/>")}u.prototype.setDefaultEntityContainer=function(){var t=this.defaultEntityContainer,e,a=this.result;if(t){a.$EntityContainer=t}else{e=Object.keys(a).filter(function(t){return a[t].$kind==="EntityContainer"});if(e.length===1){a.$EntityContainer=e[0]}}};u.prototype.updateNavigationPropertiesAndCreateBindings=function(){var t=this;this.navigationProperties.forEach(function(e){var a=t.associations[e.associationName],o=a.referentialConstraint,n=e.property,i=a.roles[e.toRoleName];n.$Type=i.typeName;i.propertyName=e.propertyName;if(i.multiplicity==="1"){n.$Nullable=false}if(i.multiplicity==="*"){n.$isCollection=true}if(o&&o.principal.roleName===e.toRoleName){n.$ReferentialConstraint={};n.$ReferentialConstraint[o.dependent.propertyRef]=o.principal.propertyRef}});this.associationSets.forEach(function(e){var a=t.associations[e.associationName],o=e.entityContainer;function n(t,e){var n=o[t.entitySetName],i=a.roles[e.roleName];if(i.propertyName){n.$NavigationPropertyBinding??={};n.$NavigationPropertyBinding[i.propertyName]=e.entitySetName}}n(e.ends[0],e.ends[1]);n(e.ends[1],e.ends[0])})};u.prototype.v2annotatable=function(t,e){var a=new m(this,t);this.oAnnotatable=a;if(e){e=e.bind(this);Object.keys(this.mSapAnnotations).forEach(function(t){e(a,t)})}return a};u.prototype.warnUnsupportedSapAnnotations=function(t){Object.keys(this.mSapAnnotations).forEach(function(e){a.warning("Unsupported annotation 'sap:"+e+"'",h(t),o)})};(function(t){var a;t.sRootNamespace=i;t.oAliasConfig={Reference:{__xmlns:e.sEdmxNamespace,Include:{__processor:t.processAlias}},DataServices:{Schema:{__processor:t.processAlias}}};a={NavigationProperty:{__processor:t.processTypeNavigationProperty},Property:{__processor:t.processTypeProperty}};t.oFullConfig={__include:[t.oReferenceInclude],DataServices:{__processor:t.processDataServices,Schema:{__postProcessor:t.postProcessSchema,__processor:t.processSchema,__include:[t.oAnnotationsConfig],Association:{__processor:t.processAssociation,End:{__processor:t.processAssociationEnd},ReferentialConstraint:{__processor:t.processReferentialConstraint,Dependent:{__processor:t.processDependent,PropertyRef:{__processor:t.processReferentialConstraintPropertyRef}},Principal:{__processor:t.processPrincipal,PropertyRef:{__processor:t.processReferentialConstraintPropertyRef}}}},ComplexType:{__processor:t.processComplexType,__include:[a]},EntityContainer:{__processor:t.processEntityContainer,AssociationSet:{__processor:t.processAssociationSet,End:{__processor:t.processAssociationSetEnd}},EntitySet:{__processor:t.processEntitySet},FunctionImport:{__processor:t.processFunctionImport,Parameter:{__processor:t.processParameter}}},EntityType:{__processor:t.processEntityType,__include:[a],Key:{PropertyRef:{__processor:t.processEntityTypeKeyPropertyRef}}}}}}})(u.prototype);return u},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_V2Requestor", ["./_Helper","./_Parser","sap/base/i18n/date/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils"],function(e,t,r,a,n){"use strict";var i=/^\/Date\((-?\d+)\)\/$/,o,s=/^\/Date\((-?\d+)(?:([-+])(\d\d)(\d\d))?\)\/$/,c,u={},f=/\+/g,d=/^([^(]+)(\(.+\))$/,l=/\//g,p=/^PT(?:(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)(\.\d+)?S)?)$/i,m;const y={};y.mFinalHeaders={"Content-Type":"application/json;charset=UTF-8"};y.mPredefinedPartHeaders={Accept:"application/json"};y.mPredefinedRequestHeaders={Accept:"application/json",MaxDataServiceVersion:"2.0",DataServiceVersion:"2.0","X-CSRF-Token":"Fetch"};y.mReservedHeaders={accept:true,"content-id":true,"content-transfer-encoding":true,"content-type":true,dataserviceversion:true,"if-match":true,"if-none-match":true,maxdataserviceversion:true,"sap-contextid":true,"x-http-method":true};y.convertBinary=function(e){return e.replace(f,"-").replace(l,"_")};y.convertDate=function(e){var t,r=i.exec(e);if(!r){throw new Error("Not a valid Edm.DateTime value '"+e+"'")}t=new Date(parseInt(r[1]));if(Number(r[1]%(24*60*60*1e3))!==0){throw new Error("Cannot convert Edm.DateTime value '"+e+"' to Edm.Date because it contains a time of day")}return o.format(t)};y.convertDateTimeOffset=function(e,t){var n=s.exec(e),i,o,c,f,d="yyyy-MM-dd'T'HH:mm:ss",l=t.$Precision,p;if(!n){throw new Error("Not a valid Edm.DateTimeOffset value '"+e+"'")}p=parseInt(n[1]);o=parseInt(n[3]);c=parseInt(n[4]);if(!n[2]||o===0&&c===0){i="Z"}else{f=n[2]==="-"?-1:1;p+=f*(o*60*60*1e3+c*60*1e3);i=n[2]+n[3]+":"+n[4]}if(l>0){d+="."+"".padEnd(l,"S")}u[d]??=a.getDateTimeInstance({calendarType:r.Gregorian,pattern:d,UTC:true});return u[d].format(new Date(p))+i};y.convertDoubleSingle=function(e){switch(e){case"NaN":case"INF":case"-INF":return e;default:return parseFloat(e)}};y.convertFilter=function(r,a){var n=t.parseFilter(r),i=this;function o(t,r){var a,n=c(r);if(n.$Type!=="Edm.String"){a=e.parseLiteral(t.value,n.$Type,n.path);t.value=i.formatPropertyAsLiteral(a,n)}}function s(e,t){throw new Error("Cannot convert filter to V2, "+t+" at "+e.at+": "+r)}function c(e){var t;if(e.type){return{$Type:e.type}}if(e.id==="PATH"){t=i.oModelInterface.fetchMetadata(a+"/"+e.value).getResult();if(!t){throw new Error("Invalid filter path: "+e.value)}return{path:e.value,$Type:t.$Type,$v2Type:t.$v2Type}}return c(e.parameters[0])}function u(e){if(e){if(e.id==="VALUE"&&e.ambiguous){s(e,"ambiguous type for the literal")}u(e.left);u(e.right);if(e.parameters){if(e.value==="contains"){e.value="substringof";e.parameters.push(e.parameters.shift())}e.parameters.forEach(u)}if(e.left&&e.right){if(e.left.id==="VALUE"){if(e.right.id==="VALUE"){s(e,"saw literals on both sides of '"+e.id+"'")}o(e.left,e.right)}else if(e.right.id==="VALUE"){o(e.right,e.left)}}}}u(n);return t.buildFilterString(n)};y.convertKeyPredicate=function(r,a){var n=this.fetchTypeForPath(e.getMetaPath(a)).getResult(),i=t.parseKeyPredicate(decodeURIComponent(r)),o=this;function s(t,r){var i=n[t];if(i.$Type!=="Edm.String"){r=o.formatPropertyAsLiteral(e.parseLiteral(r,i.$Type,a),i)}return encodeURIComponent(r)}if(""in i){return"("+s(n.$Key[0],i[""])+")"}return"("+n.$Key.map(function(e){return encodeURIComponent(e)+"="+s(e,i[e])}).join(",")+")"};y.convertNonPrimitive=function(e){var t,r,a,n,i=this;if(Array.isArray(e.results)){e.results.forEach(function(e){i.convertNonPrimitive(e)});return e.results}if(!e.__metadata||!e.__metadata.type){throw new Error("Cannot convert structured value without type information in "+"__metadata.type: "+JSON.stringify(e))}a=e.__metadata.type;r=i.getTypeForName(a);delete e.__metadata;for(t in e){n=e[t];if(n===null){continue}if(typeof n==="object"){if(n.__deferred){delete e[t]}else{e[t]=this.convertNonPrimitive(n)}continue}e[t]=this.convertPrimitive(n,r[t],a,t)}return e};y.convertPrimitive=function(e,t,r,a){switch(t&&t.$Type){case"Edm.Binary":return this.convertBinary(e);case"Edm.Date":return this.convertDate(e);case"Edm.DateTimeOffset":return this.convertDateTimeOffset(e,t);case"Edm.Boolean":case"Edm.Byte":case"Edm.Decimal":case"Edm.Guid":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":case"Edm.SByte":case"Edm.String":return e;case"Edm.Double":case"Edm.Single":return this.convertDoubleSingle(e);case"Edm.TimeOfDay":return this.convertTimeOfDay(e);default:throw new Error("Type '"+(t&&t.$Type)+"' of property '"+a+"' in type '"+r+"' is unknown; cannot convert value: "+e)}};y.convertResourcePath=function(e){var t=e.indexOf("?"),r="",a,n=-1,i=this;if(t>0){r=e.slice(t);e=e.slice(0,t)}a=e.split("/");return a.map(function(t){var r=d.exec(t);n+=t.length+1;if(r){t=r[1]+i.convertKeyPredicate(r[2],"/"+e.slice(0,n))}return t}).join("/")+r};y.convertTimeOfDay=function(e){var t,r=p.exec(e),a;if(!r){throw new Error("Not a valid Edm.Time value '"+e+"'")}a=Date.UTC(1970,0,1,r[1]||0,r[2]||0,r[3]||0);t=new Date(a);return m.format(t)+(r[4]||"")};y.doCheckVersionHeader=function(e,t,r){var a=e("DataServiceVersion"),n=!a&&e("OData-Version");if(n){throw new Error("Expected 'DataServiceVersion' header with value '1.0' or '2.0' but "+"received 'OData-Version' header with value '"+n+"' in response for "+this.sServiceUrl+t)}if(!a){return}a=a.split(";")[0];if(a==="1.0"||a==="2.0"){return}throw new Error("Expected 'DataServiceVersion' header with value '1.0' or '2.0' but "+"received value '"+a+"' in response for "+this.sServiceUrl+t)};y.doConvertResponse=function(e,t){var r,a,n,i,o,s=this;e=e.d;a=Array.isArray(e.results);if(!a&&!e.__metadata){n=Object.keys(e);r=e[n[0]];if(n.length===1){if(r===null){return{value:null}}else if(typeof r!=="object"){return{value:this.convertPrimitive(r,this.oModelInterface.fetchMetadata(t).getResult(),t,n[0])}}else if(r.__metadata){e=r}}}if(a&&!e.results.length){i=[]}else if(a&&!e.results[0].__metadata){o=this.oModelInterface.fetchMetadata(t).getResult();i=e.results.map(function(e){return s.convertPrimitive(e,o,t,"")})}else{i=this.convertNonPrimitive(e)}if(a){i={value:i};if(e.__count){i["@odata.count"]=e.__count}if(e.__next){i["@odata.nextLink"]=e.__next}}return i};y.doConvertSystemQueryOptions=function(t,r,a,n,i){var o,s={},c=this;function u(t,r){if(!Array.isArray(t)){t=t.split(",")}t.forEach(function(t){var a=t.indexOf("/");if(a>=0&&!t.includes(".")){t=t.slice(0,a)}s[e.buildPath(r,t)]=true})}function f(t,r,a){if(!r||typeof r!=="object"){throw new Error("$expand must be a valid object")}Object.keys(r).forEach(function(n){var i=e.buildPath(a,n),o=r[n];t.push(i);if(typeof o==="object"){Object.keys(o).forEach(function(e){switch(e){case"$expand":f(t,o.$expand,i);break;case"$select":u(o.$select,i);break;default:throw new Error("Unsupported query option in $expand: "+e)}})}if(!o.$select){s[i+"/*"]=true}});return t}Object.keys(r).forEach(function(e){var o=e[0]==="$",s=r[e];if(n&&o){return}switch(e){case"$count":e="$inlinecount";s=s?"allpages":"none";break;case"$expand":s=f([],s,"");s=(i?s.sort():s).join(",");break;case"$orderby":case"$search":break;case"$select":u(s);return;case"$filter":s=c.convertFilter(s,t);break;default:if(o){throw new Error("Unsupported system query option: "+e)}}a(e,s)});o=Object.keys(s);if(o.length){if(!r.$select){o.push("*")}a("$select",(i?o.sort():o).join(","))}};y.formatPropertyAsLiteral=function(e,t){function r(e,r){var a=e.parse(r);if(!a){throw new Error("Not a valid "+t.$Type+" value: "+r)}return a}if(e===null){return"null"}switch(t.$Type){case"Edm.Boolean":case"Edm.Byte":case"Edm.Decimal":case"Edm.Double":case"Edm.Guid":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":case"Edm.SByte":case"Edm.Single":case"Edm.String":break;case"Edm.Date":e=r(o,e);break;case"Edm.DateTimeOffset":e=r(c,e);break;case"Edm.TimeOfDay":e={__edmType:"Edm.Time",ms:r(m,e).getTime()};break;default:throw new Error("Type '"+t.$Type+"' in the key predicate is not supported")}return n.formatValue(e,t.$v2Type||t.$Type)};y.getPathAndAddQueryOptions=function(e,t,r,a,n){var i,o,s=this;e=e.slice(1,-5);if(t.$IsBound){e=e.slice(e.lastIndexOf(".")+1);if(typeof n==="function"){n=n()}o=this.getTypeForName(t.$Parameter[0].$Type);o.$Key.forEach(function(e){a[e]=s.formatPropertyAsLiteral(n[e],o[e])})}if(t.$Parameter){t.$Parameter.forEach(function(e){i=e.$Name;if(i in r){if(e.$isCollection){throw new Error("Unsupported collection-valued parameter: "+i)}a[i]=s.formatPropertyAsLiteral(r[i],e);delete r[i]}})}for(i in r){delete r[i]}if(t.$v2HttpMethod){r["X-HTTP-Method"]=t.$v2HttpMethod}return e};y.getTypeForName=function(e){this.mTypesByName??={};this.mTypesByName[e]??=this.oModelInterface.fetchMetadata("/"+e).getResult();return this.mTypesByName[e]};y.isActionBodyOptional=function(){return true};y.isChangeSetOptional=function(){return false};y.ready=function(){return this.oModelInterface.fetchEntityContainer().then(function(){})};function h(e){Object.assign(e,y);e.oModelInterface.reportStateMessages=function(){};e.oModelInterface.reportTransitionMessages=function(){}}h._setDateTimeFormatter=function(){o=a.getDateInstance({calendarType:r.Gregorian,pattern:"yyyy-MM-dd",UTC:true});c=a.getDateTimeInstance({calendarType:r.Gregorian,pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"});m=a.getTimeInstance({calendarType:r.Gregorian,pattern:"HH:mm:ss",UTC:true})};h._setDateTimeFormatter();return h},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/v4/lib/_V4MetadataConverter", ["./_Helper","./_MetadataConverter"],function(t,e){"use strict";function o(){this.enumType=null;this.enumTypeMemberCounter=0;this.navigationProperty=null;e.call(this)}o.prototype=Object.create(e.prototype);o.prototype.finalize=function(){if(this.result.$Version!=="4.0"){throw new Error(this.url+": Unsupported OData version "+this.result.$Version)}};o.prototype.processActionOrFunction=function(t){var e=t.localName,o={$kind:e},s,i,n=this.namespace+t.getAttribute("Name"),r="",a=this;function p(t){var e={};a.processTypedCollection(t.getAttribute("Type"),e);return e.$isCollection?"Collection("+e.$Type+")":e.$Type}this.processAttributes(t,o,{IsBound:this.setIfTrue,EntitySetPath:this.setValue,IsComposable:this.setIfTrue});s=this.getOrCreateArray(this.result,n);if(!Array.isArray(s)){s=[];this.addToResult(n,s)}s.push(o);this.oOperation=o;if(o.$IsBound){i=t.getElementsByTagName("Parameter");r=t.localName==="Action"?p(i[0]):Array.prototype.map.call(i,p).join(",")}this.annotatable(n+"("+r+")")};o.prototype.processComplexType=function(t){this.processType(t,{$kind:"ComplexType"})};o.prototype.processEdmx=function(t){this.processAttributes(t,this.result,{Version:this.setValue})};o.prototype.processElement=function(t,e){if(e){e.call(this,t)}};o.prototype.processEntityContainer=function(t){var e=this.namespace+t.getAttribute("Name");this.entityContainer={$kind:"EntityContainer"};this.addToResult(e,this.entityContainer);this.addToResult("$EntityContainer",e);this.annotatable(e)};o.prototype.processEntitySet=function(t){var e=t.getAttribute("Name");this.entityContainer[e]=this.entitySet={$kind:"EntitySet",$Type:this.resolveAlias(t.getAttribute("EntityType"))};this.processAttributes(t,this.entitySet,{IncludeInServiceDocument:this.setIfFalse});this.annotatable(e)};o.prototype.processEntityType=function(t){this.processType(t,{$kind:"EntityType"})};o.prototype.processEntityTypeKeyPropertyRef=function(t){var e=t.getAttribute("Alias"),o,s=t.getAttribute("Name");if(e){o={};o[e]=s}else{o=s}this.getOrCreateArray(this.type,"$Key").push(o)};o.prototype.processEnumType=function(t){var e=this.namespace+t.getAttribute("Name"),o={$kind:"EnumType"};this.processAttributes(t,o,{IsFlags:this.setIfTrue,UnderlyingType:function(t){return t!=="Edm.Int32"?t:undefined}});this.enumType=o;this.addToResult(e,o);this.enumTypeMemberCounter=0;this.annotatable(e)};o.prototype.processEnumTypeMember=function(e){var o=e.getAttribute("Name"),s=e.getAttribute("Value"),i;if(s){i=parseInt(s);if(!t.isSafeInteger(i)){i=s}}else{i=this.enumTypeMemberCounter;this.enumTypeMemberCounter+=1}this.enumType[o]=i;this.annotatable(o)};o.prototype.processFacetAttributes=function(t,e){var o=this;this.processAttributes(t,e,{MaxLength:function(t){return t==="max"?undefined:o.setNumber(t)},Precision:this.setNumber,Scale:function(t){return t==="variable"?t:o.setNumber(t)},SRID:this.setValue,Unicode:this.setIfFalse})};o.prototype.processImport=function(t){var e=t.localName,o={$kind:e},s=t.getAttribute("Name"),i=this;e=e.replace("Import","");o["$"+e]=this.resolveAlias(t.getAttribute(e));this.processAttributes(t,o,{EntitySet:function(t){return i.resolveTargetPath(t)},IncludeInServiceDocument:this.setIfTrue});this.entityContainer[s]=o;this.annotatable(s)};o.prototype.processNavigationPropertyBinding=function(t){var e=this.getOrCreateObject(this.entitySet,"$NavigationPropertyBinding");e[t.getAttribute("Path")]=this.resolveTargetPath(t.getAttribute("Target"))};o.prototype.processParameter=function(t){var e=this.oOperation,o={};this.processTypedCollection(t.getAttribute("Type"),o);this.processAttributes(t,o,{Name:this.setValue,Nullable:this.setIfFalse});this.processFacetAttributes(t,o);this.getOrCreateArray(e,"$Parameter").push(o);this.annotatable(o.$Name)};o.prototype.processReturnType=function(t){var e=this.oOperation,o={};this.processTypedCollection(t.getAttribute("Type"),o);this.processAttributes(t,o,{Nullable:this.setIfFalse});this.processFacetAttributes(t,o);e.$ReturnType=o;this.annotatable("$ReturnType")};o.prototype.processSchema=function(t){this.namespace=t.getAttribute("Namespace")+".";this.schema={$kind:"Schema"};this.addToResult(this.namespace,this.schema);this.annotatable(this.schema)};o.prototype.processSingleton=function(t){var e=t.getAttribute("Name");this.entityContainer[e]=this.entitySet={$kind:"Singleton",$Type:this.resolveAlias(t.getAttribute("Type"))};this.annotatable(e)};o.prototype.processTerm=function(t){var e=this.namespace+t.getAttribute("Name"),o={$kind:"Term"},s=this;this.processTypedCollection(t.getAttribute("Type"),o);this.processAttributes(t,o,{Nullable:this.setIfFalse,BaseTerm:function(t){return t?s.resolveAlias(t):undefined}});this.processFacetAttributes(t,o);this.addToResult(e,o);this.annotatable(e)};o.prototype.processType=function(t,e){var o=this.namespace+t.getAttribute("Name"),s=this;this.processAttributes(t,e,{OpenType:s.setIfTrue,HasStream:s.setIfTrue,Abstract:s.setIfTrue,BaseType:function(t){return t?s.resolveAlias(t):undefined}});this.type=e;this.addToResult(o,e);this.annotatable(o)};o.prototype.processTypedCollection=function(t,e){var o=this.rCollection.exec(t);if(o){e.$isCollection=true;t=o[1]}e.$Type=this.resolveAlias(t)};o.prototype.processTypeDefinition=function(t){var e=this.namespace+t.getAttribute("Name"),o={$kind:"TypeDefinition",$UnderlyingType:t.getAttribute("UnderlyingType")};this.addToResult(e,o);this.processFacetAttributes(t,o);this.annotatable(e)};o.prototype.processTypeNavigationProperty=function(t){var e=t.getAttribute("Name"),o={$kind:"NavigationProperty"};this.processTypedCollection(t.getAttribute("Type"),o);this.processAttributes(t,o,{Nullable:this.setIfFalse,Partner:this.setValue,ContainsTarget:this.setIfTrue});this.type[e]=this.navigationProperty=o;this.annotatable(e)};o.prototype.processTypeNavigationPropertyOnDelete=function(t){this.navigationProperty.$OnDelete=t.getAttribute("Action");this.annotatable(this.navigationProperty,"$OnDelete")};o.prototype.processTypeNavigationPropertyReferentialConstraint=function(t){var e=t.getAttribute("Property"),o=this.getOrCreateObject(this.navigationProperty,"$ReferentialConstraint");o[e]=t.getAttribute("ReferencedProperty");this.annotatable(o,e)};o.prototype.processTypeProperty=function(t){var e=t.getAttribute("Name"),o={$kind:"Property"};this.processTypedCollection(t.getAttribute("Type"),o);this.processAttributes(t,o,{Nullable:this.setIfFalse,DefaultValue:this.setValue});this.processFacetAttributes(t,o);this.type[e]=o;this.annotatable(e)};o.prototype.resolveTargetPath=function(t){var e;if(!t){return t}t=this.resolveAliasInPath(t);e=t.indexOf("/");if(e>=0&&!t.includes("/",e+1)){if(t.slice(0,e)===this.result.$EntityContainer){return t.slice(e+1)}}return t};(function(t){var e,o,s;t.sRootNamespace=t.sEdmxNamespace;t.oAliasConfig={__xmlns:t.sEdmxNamespace,Reference:{Include:{__processor:t.processAlias}},DataServices:{Schema:{__xmlns:t.sEdmNamespace,__processor:t.processAlias}}};s={Property:{__processor:t.processTypeProperty,__include:[t.oAnnotationConfig]},NavigationProperty:{__processor:t.processTypeNavigationProperty,__include:[t.oAnnotationConfig],OnDelete:{__processor:t.processTypeNavigationPropertyOnDelete,__include:[t.oAnnotationConfig]},ReferentialConstraint:{__processor:t.processTypeNavigationPropertyReferentialConstraint,__include:[t.oAnnotationConfig]}}};o={NavigationPropertyBinding:{__processor:t.processNavigationPropertyBinding}};e={Parameter:{__processor:t.processParameter,__include:[t.oAnnotationConfig]},ReturnType:{__processor:t.processReturnType,__include:[t.oAnnotationConfig]}};t.oFullConfig={__xmlns:t.sEdmxNamespace,__processor:t.processEdmx,__include:[t.oReferenceInclude],DataServices:{Schema:{__xmlns:t.sEdmNamespace,__processor:t.processSchema,__include:[t.oAnnotationsConfig,t.oAnnotationConfig],Action:{__processor:t.processActionOrFunction,__include:[e,t.oAnnotationConfig]},Function:{__processor:t.processActionOrFunction,__include:[e,t.oAnnotationConfig]},EntityType:{__processor:t.processEntityType,__include:[s,t.oAnnotationConfig],Key:{PropertyRef:{__processor:t.processEntityTypeKeyPropertyRef}}},ComplexType:{__processor:t.processComplexType,__include:[s,t.oAnnotationConfig]},EntityContainer:{__processor:t.processEntityContainer,__include:[t.oAnnotationConfig],ActionImport:{__processor:t.processImport,__include:[t.oAnnotationConfig]},EntitySet:{__processor:t.processEntitySet,__include:[o,t.oAnnotationConfig]},FunctionImport:{__processor:t.processImport,__include:[t.oAnnotationConfig]},Singleton:{__processor:t.processSingleton,__include:[o,t.oAnnotationConfig]}},EnumType:{__processor:t.processEnumType,__include:[t.oAnnotationConfig],Member:{__processor:t.processEnumTypeMember,__include:[t.oAnnotationConfig]}},Term:{__processor:t.processTerm,__include:[t.oAnnotationConfig]},TypeDefinition:{__processor:t.processTypeDefinition,__include:[t.oAnnotationConfig]}}}}})(o.prototype);return o},false);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Boolean", ["sap/ui/core/Lib","sap/ui/model/SimpleType","sap/ui/model/FormatException","sap/ui/model/ParseException"],function(e,t,o,n){"use strict";var r=t.extend("sap.ui.model.type.Boolean",{constructor:function(){t.apply(this,arguments);this.sName="Boolean"}});r.prototype.formatValue=function(e,t){if(e==undefined||e==null){return null}switch(this.getPrimitiveType(t)){case"any":case"boolean":return e;case"string":return e.toString();default:throw new o("Don't know how to format Boolean to "+t)}};r.prototype.parseValue=function(t,o){var r;switch(this.getPrimitiveType(o)){case"boolean":return t;case"string":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""||t==" "){return false}r=e.getResourceBundleFor("sap.ui.core");throw new n(r.getText("Boolean.Invalid"));default:throw new n("Don't know how to parse Boolean from "+o)}};r.prototype.validateValue=function(){};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Currency", ["sap/base/Log","sap/base/util/each","sap/base/util/extend","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/CompositeType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,e,r,i,o,s,a,n,u,p){"use strict";var h=a.extend("sap.ui.model.type.Currency",{constructor:function(t){a.apply(this,arguments);this.sName="Currency";this.bShowMeasure=!t||!("showMeasure"in t)||t.showMeasure;this.bShowNumber=!t||!("showNumber"in t)||t.showNumber;this.bUseRawValues=true}});h.prototype.formatValue=function(t,e){var r=t;if(t==undefined||t==null){return null}if(this.oInputFormat){r=this.oInputFormat.parse(t)}if(!Array.isArray(r)){throw new n("Cannot format currency: "+t+" has the wrong format")}if((r[0]==undefined||r[0]==null)&&this.bShowNumber){return null}switch(this.getPrimitiveType(e)){case"string":return this.oOutputFormat.format(r);default:throw new n("Don't know how to format currency to "+e)}};h.prototype.parseValue=function(t,e){var r;switch(this.getPrimitiveType(e)){case"string":r=this.oOutputFormat.parse(t);if(!Array.isArray(r)||this.bShowNumber&&isNaN(r[0])){throw this.getParseException()}break;default:throw new u("Don't know how to parse Currency from "+e)}if(this.oInputFormat){r=this.oInputFormat.format(r)}return r};h.prototype.validateValue=function(r){if(this.oConstraints){var i=o.getResourceBundleFor("sap.ui.core"),s=[],a=[],n=r,u;if(this.oInputFormat){n=this.oInputFormat.parse(r)}u=n[0];e(this.oConstraints,function(e,r){switch(e){case"minimum":if(u<r){s.push("minimum");a.push(i.getText("Currency.Minimum",[r]))}break;case"maximum":if(u>r){s.push("maximum");a.push(i.getText("Currency.Maximum",[r]))}break;default:t.warning("Unknown constraint '"+e+"': Value is not validated.",null,"sap.ui.model.type.Currency")}});if(s.length>0){throw new p(this.combineMessages(a),s)}}};h.prototype.setFormatOptions=function(t){this.oFormatOptions=Object.assign(t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},t);this._createFormats()};h.prototype._handleLocalizationChange=function(){this._createFormats()};h.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=s.getCurrencyInstance(this.iScale>=0?r({},{maxFractionDigits:this.iScale},this.oFormatOptions):this.oFormatOptions);if(t){if(i(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=s.getCurrencyInstance(t)}};h.prototype.getParseException=function(){var t=o.getResourceBundleFor("sap.ui.core"),e;if(!this.bShowNumber){e=t.getText("Currency.InvalidMeasure")}else if(!this.bShowMeasure){e=t.getText("EnterNumber")}else{e=t.getText("Currency.Invalid")}return new u(e)};h.prototype.getPartsIgnoringMessages=function(){if(!this.bShowMeasure){return[1]}else if(!this.bShowNumber){return[0]}return[]};h.prototype.getPartsListeningToTypeChanges=function(){return this.bShowNumber?[0]:[]};h.prototype.processPartTypes=function(t){const e=this.iScale;const r=t[0];if(r?.isA("sap.ui.model.odata.type.Decimal")){this.iScale=r.oConstraints?.scale||0}if(e!==this.iScale){this._createFormats()}};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateInterval", ["sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/date/UI5Date","sap/ui/core/format/DateFormat","sap/ui/model/CompositeType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,e,o,a,i,r,n,s){"use strict";var u=i.extend("sap.ui.model.type.DateInterval",{constructor:function(){i.apply(this,arguments);this.sName="DateInterval";this.bUseInternalValues=true}});u.prototype.formatValue=function(t,e){var a=this;if(!Array.isArray(t)){throw new r("Cannot format date interval: "+t+" is expected as an Array but given the wrong format")}switch(this.getPrimitiveType(e)){case"string":case"any":if(!t[0]||!t[1]&&!this.oFormatOptions.singleIntervalValue){return""}if(this.oInputFormat){t=t.map(function(t){if(a.oFormatOptions.source.pattern==="timestamp"){if(typeof t!=="number"){if(isNaN(t)){throw new r("Cannot format date: "+t+" is not a valid Timestamp")}else{t=parseInt(t)}}t=o.getInstance(t)}else{t=a.oInputFormat.parse(t);if(t==null){throw new r("Cannot format date: "+t+" has the wrong format")}}return t})}return this.oOutputFormat.format(t);default:throw new r("Don't know how to format Date to "+e)}};u.prototype.parseValue=function(t,o){var a,i,r=this;switch(this.getPrimitiveType(o)){case"string":if(t===""){return[null,null]}i=this.oOutputFormat.parse(t);if(!i[0]||!i[1]&&!this.oFormatOptions.singleIntervalValue){a=e.getResourceBundleFor("sap.ui.core");throw new n(a.getText("Enter"+this.getName(),[this.oOutputFormat.format(this.oOutputFormat.getSampleValue()[0])]))}if(i[1]&&this.sName==="DateInterval"){if(this.oFormatOptions.UTC){i[1].setUTCHours(23,59,59,0)}else{i[1].setHours(23,59,59,0)}}if(this.oInputFormat){i=i.map(function(t){return r.oFormatOptions.source.pattern==="timestamp"?t.getTime():r.oInputFormat.format(t)})}return i;default:throw new n("Don't know how to parse a date interval from "+o)}};u.prototype.validateValue=function(t){var o,a,i=e.getResourceBundleFor("sap.ui.core"),r=[],n=[],u=this;if(this.oInputFormat&&this.oFormatOptions.source.pattern!="timestamp"){t=t.map(function(t){return u.oInputFormat.parse(t)})}o=!this.oFormatOptions.singleIntervalValue||t[1]!==null;if(this.oConstraints.minimum){a=this.oConstraints.minimum;if(t[0]<a||o&&t[1]<a){r.push("minimum");n.push(i.getText("Date.Minimum",[a]))}}if(this.oConstraints.maximum){a=this.oConstraints.maximum;if(t[0]>a||o&&t[1]>a){r.push("maximum");n.push(i.getText("Date.Maximum",[a]))}}if(r.length>0){throw new s(this.combineMessages(n),r)}};u.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._createFormats()};u.prototype._handleLocalizationChange=function(){this._createFormats()};u.prototype._createFormats=function(){var e=this.oFormatOptions.source;this.oFormatOptions.interval=true;this.oOutputFormat=a.getDateInstance(this.oFormatOptions);if(e){if(t(e)){e={pattern:"yyyy-MM-dd"}}this.oInputFormat=a.getDateInstance(e)}};u.prototype.getPlaceholderText=function(){return this.oOutputFormat.getPlaceholderText()};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateTime", ["./Date","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.DateTime",{constructor:function(){t.apply(this,arguments);this.sName="DateTime"}});o.prototype._createFormats=function(){this.oOutputFormat=e.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getDateTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateTimeInterval", ["./DateInterval","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.DateTimeInterval",{constructor:function(){t.apply(this,arguments);this.sName="DateTimeInterval"}});o.prototype._createFormats=function(){this.oFormatOptions.interval=true;this.oOutputFormat=e.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getDateTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/FileSize", ["sap/base/util/each","sap/ui/core/Lib","sap/ui/core/format/FileSizeFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,i,o,n,r,s){"use strict";var a=r.extend("sap.ui.model.type.FileSize",{constructor:function(){r.apply(this,arguments);this.sName="FileSize"}});a.prototype.formatValue=function(t,e){var i;if(t==undefined||t==null){return null}if(this.oInputFormat&&typeof t==="string"){i=this.oInputFormat.parse(t);if(isNaN(i)){throw new o("Cannot format file size: "+t+" has the wrong format")}}else if(!this.oInputFormat&&typeof t==="string"){throw new o("Cannot format file size: "+t+" of type string without input/source formatter")}else if(typeof t==="number"){i=t}else{throw new o("Cannot format file size: "+t+" has wrong type: "+typeof t)}if(i==undefined||i==null){return null}switch(this.getPrimitiveType(e)){case"string":return this.oOutputFormat.format(i);case"int":return Math.floor(i);case"float":case"any":return i;default:throw new o("Don't know how to format FileSize to "+e)}};a.prototype.parseValue=function(t,i){var o,r;if(t==undefined||t==null){return null}switch(this.getPrimitiveType(i)){case"string":o=this.oOutputFormat.parse(t);if(isNaN(o)){r=e.getResourceBundleFor("sap.ui.core");throw new n(r.getText("FileSize.Invalid"))}break;case"int":case"float":o=t;break;default:throw new n("Don't know how to parse FileSize from "+i)}if(this.oInputFormat){o=this.oInputFormat.format(o)}return o};a.prototype.validateValue=function(i){if(this.oConstraints){var o=e.getResourceBundleFor("sap.ui.core"),n=[],r=[],a=this.oInputFormat;if(a&&typeof i==="string"){i=a.parse(i)}else if(!a&&typeof i==="string"){throw new Error("No Validation possible: '"+i+"' is of type string but not input/source format specified.")}t(this.oConstraints,function(t,e){if(a&&typeof e==="string"){e=a.parse(e)}else if(!a&&typeof e==="string"){throw new Error("No Validation possible: Compare value ("+t+") '"+e+"' is of type string but not input/source format specified.")}switch(t){case"minimum":if(i<e){n.push("minimum");r.push(o.getText("FileSize.Minimum",[e]))}break;case"maximum":if(i>e){n.push("maximum");r.push(o.getText("FileSize.Maximum",[e]))}break;default:break}});if(n.length>0){throw new s(this.combineMessages(r),n)}}};a.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._handleLocalizationChange()};a.prototype._handleLocalizationChange=function(){this.oOutputFormat=i.getInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=i.getInstance(this.oFormatOptions.source)}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Float", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,o,e,a,i,r,s,n){"use strict";var u=s.extend("sap.ui.model.type.Float",{constructor:function(){s.apply(this,arguments);this.sName="Float"}});u.prototype.formatValue=function(t,o){var e=t;if(t==undefined||t==null){return null}if(this.oInputFormat){e=this.oInputFormat.parse(t);if(e==null){throw new i("Cannot format float: "+t+" has the wrong format")}}switch(this.getPrimitiveType(o)){case"string":return this.oOutputFormat.format(e);case"int":return Math.floor(e);case"float":case"any":return e;default:throw new i("Don't know how to format Float to "+o)}};u.prototype.parseValue=function(t,o){var a,i;switch(this.getPrimitiveType(o)){case"string":a=this.oOutputFormat.parse(t);if(isNaN(a)){i=e.getResourceBundleFor("sap.ui.core");throw new r(i.getText("Float.Invalid"))}break;case"int":case"float":a=t;break;default:throw new r("Don't know how to parse Float from "+o)}if(this.oInputFormat){a=this.oInputFormat.format(a)}return a};u.prototype.validateValue=function(o){if(this.oConstraints){var a=e.getResourceBundleFor("sap.ui.core"),i=[],r=[],s=o,u=this;if(this.oInputFormat){s=this.oInputFormat.parse(o)}t(this.oConstraints,function(t,o){switch(t){case"minimum":if(s<o){i.push("minimum");r.push(a.getText("Float.Minimum",[u.oOutputFormat.format(o)]))}break;case"maximum":if(s>o){i.push("maximum");r.push(a.getText("Float.Maximum",[u.oOutputFormat.format(o)]))}break;default:break}});if(i.length>0){throw new n(this.combineMessages(r),i)}}};u.prototype.setFormatOptions=function(t){this.oFormatOptions=Object.assign(t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},t);this._createFormats()};u.prototype._handleLocalizationChange=function(){this._createFormats()};u.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=a.getFloatInstance(this.oFormatOptions);if(t){if(o(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=a.getFloatInstance(t)}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Integer", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,o,a,r,i,n,s){"use strict";var u=n.extend("sap.ui.model.type.Integer",{constructor:function(){n.apply(this,arguments);this.sName="Integer"}});u.prototype.formatValue=function(t,e){var o=t;if(t==undefined||t==null){return null}if(this.oInputFormat){o=this.oInputFormat.parse(t);if(o==null){throw new r("Cannot format float: "+t+" has the wrong format")}}switch(this.getPrimitiveType(e)){case"string":return this.oOutputFormat.format(o);case"int":case"float":case"any":return o;default:throw new r("Don't know how to format Integer to "+e)}};u.prototype.parseValue=function(t,e){var a,r;switch(this.getPrimitiveType(e)){case"string":a=this.oOutputFormat.parse(String(t));if(isNaN(a)){r=o.getResourceBundleFor("sap.ui.core");throw new i(r.getText("EnterInt"))}break;case"float":a=Math.floor(t);if(a!=t){r=o.getResourceBundleFor("sap.ui.core");throw new i(r.getText("EnterInt"))}break;case"int":a=t;break;default:throw new i("Don't know how to parse Integer from "+e)}if(this.oInputFormat){a=this.oInputFormat.format(a)}return a};u.prototype.validateValue=function(e){if(this.oConstraints){var a=o.getResourceBundleFor("sap.ui.core"),r=[],i=[],n=e,u=this;if(this.oInputFormat){n=this.oInputFormat.parse(e)}t(this.oConstraints,function(t,e){switch(t){case"minimum":if(n<e){r.push("minimum");i.push(a.getText("Integer.Minimum",[u.oOutputFormat.format(e)]))}break;case"maximum":if(n>e){r.push("maximum");i.push(a.getText("Integer.Maximum",[u.oOutputFormat.format(e)]))}break;default:break}});if(r.length>0){throw new s(this.combineMessages(i),r)}}};u.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._createFormats()};u.prototype._handleLocalizationChange=function(){this._createFormats()};u.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=a.getIntegerInstance(this.oFormatOptions);if(t){if(e(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=a.getIntegerInstance(t)}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/String", ["sap/base/Log","sap/base/util/each","sap/ui/core/Lib","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,s,n,a,i,r){"use strict";var o=i.extend("sap.ui.model.type.String",{constructor:function(){i.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search)}}});o.prototype.formatValue=function(t,e){if(t==undefined||t==null){return null}switch(this.getPrimitiveType(e)){case"string":case"any":return t;case"int":var s=parseInt(t);if(isNaN(s)){throw new n(t+" is not a valid int value")}return s;case"float":var a=parseFloat(t);if(isNaN(a)){throw new n(t+" is not a valid float value")}return a;case"boolean":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""){return false}throw new n(t+" is not a valid boolean value");default:throw new n("Don't know how to format String to "+e)}};o.prototype.parseValue=function(t,e){switch(this.getPrimitiveType(e)){case"string":return t;case"boolean":case"int":case"float":return t.toString();default:throw new a("Don't know how to parse String from "+e)}};o.prototype.validateValue=function(n){if(this.oConstraints){var a=s.getResourceBundleFor("sap.ui.core"),i=[],o=[];if(n===null){n=""}e(this.oConstraints,function(e,s){switch(e){case"maxLength":if(n.length>s){i.push("maxLength");o.push(a.getText("String.MaxLength",[s]))}break;case"minLength":if(n.length<s){i.push("minLength");o.push(a.getText("String.MinLength",[s]))}break;case"startsWith":if(!(typeof s=="string"&&s.length>0&&n.startsWith(s))){i.push("startsWith");o.push(a.getText("String.StartsWith",[s]))}break;case"startsWithIgnoreCase":if(!(typeof s=="string"&&s!=""?n.toLowerCase().startsWith(s.toLowerCase()):false)){i.push("startsWithIgnoreCase");o.push(a.getText("String.StartsWith",[s]))}break;case"endsWith":if(!(typeof s=="string"&&s.length>0&&n.endsWith(s))){i.push("endsWith");o.push(a.getText("String.EndsWith",[s]))}break;case"endsWithIgnoreCase":if(!(typeof s=="string"&&s!=""?n.toLowerCase().endsWith(s.toLowerCase()):false)){i.push("endsWithIgnoreCase");o.push(a.getText("String.EndsWith",[s]))}break;case"contains":if(n.indexOf(s)==-1){i.push("contains");o.push(a.getText("String.Contains",[s]))}break;case"equals":if(n!=s){i.push("equals");o.push(a.getText("String.Equals",[s]))}break;case"search":if(n.search(s)==-1){i.push("search");o.push(a.getText("String.Search",[s]))}break;default:t.warning("Ignoring unknown constraint: '"+e+"'",null,"sap.ui.model.type.String")}});if(i.length>0){throw new r(this.combineMessages(o),i)}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Time", ["./Date","sap/ui/core/format/DateFormat"],function(t,o){"use strict";var e=t.extend("sap.ui.model.type.Time",{constructor:function(){t.apply(this,arguments);this.sName="Time"}});e.prototype._createFormats=function(){this.oOutputFormat=o.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=o.getTimeInstance(this.oFormatOptions.source)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/TimeInterval", ["./DateInterval","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.TimeInterval",{constructor:function(){t.apply(this,arguments);this.sName="TimeInterval"}});o.prototype._createFormats=function(){this.oFormatOptions.interval=true;this.oOutputFormat=e.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Unit", ["sap/base/i18n/Formatting","sap/base/strings/hash","sap/base/util/each","sap/base/util/extend","sap/base/util/isEmptyObject","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/NumberFormat","sap/ui/model/CompositeType","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException"],function(t,e,i,a,s,n,o,r,u,c,p,m,h){"use strict";var l=c.extend("sap.ui.model.type.Unit",{constructor:function(t,e,i){c.apply(this,arguments);this.sName="Unit";this.bShowMeasure=!t||!("showMeasure"in t)||t.showMeasure;this.bShowNumber=!t||!("showNumber"in t)||t.showNumber;this.bUseRawValues=true;this.aDynamicFormatOptionNames=i}});l.prototype._getInstance=function(i,s){var n=this.createFormatOptions(i);if(s&&!this.oFormatOptions.customUnits&&!n.customUnits){var c=new o(t.getLanguageTag());var p=r.getInstance(c);var m=p.getUnitFromMapping(s)||s;var h=p.getUnitFormat(m);if(h){var f=a({},h);f.decimals=n.decimals!=undefined?n.decimals:f.decimals;f.precision=n.precision!=undefined?n.precision:f.precision;n.customUnits={};n.customUnits[s]=f}}var g=n;if(this.oFormatOptions){g=a({},this.oFormatOptions,n)}if(this.iScale>=0){g=a({},{maxFractionDigits:this.iScale},g)}if(this.getMetadata().getClass()!==l){var d=this.getMetadata();d._mTypeInstanceCache=d._mTypeInstanceCache||{};var y=e(JSON.stringify(g)||"");var F=d._mTypeInstanceCache[y];if(!F){F=u.getUnitInstance(g);d._mTypeInstanceCache[y]=F}return F}else{return u.getUnitInstance(g)}};l.prototype._clearInstances=function(){if(this.getMetadata().getClass()!==l){var t=this.getMetadata();if(t._mTypeInstanceCache){t._mTypeInstanceCache={}}}};l.prototype.createFormatOptions=function(t){var e={};if(this.aDynamicFormatOptionNames&&t.length>=this.aDynamicFormatOptionNames.length){this.aDynamicFormatOptionNames.forEach(function(i,a){if(i){e[i]=t[a]}})}return e};l.prototype.extractArguments=function(t){return Array.isArray(t)&&t.length>2?t.slice(2):[]};l.prototype.formatValue=function(t,e){var i=t;if(t==undefined||t==null){return null}if(this.oInputFormat){i=this.oInputFormat.parse(t)}if(!Array.isArray(i)){throw new p("Cannot format Unit: "+t+" has the wrong format")}if((i[0]==undefined||i[0]==null)&&this.bShowNumber){return null}switch(this.getPrimitiveType(e)){case"string":this.aDynamicValues=this.extractArguments(i);this.oOutputFormat=this._getInstance(this.aDynamicValues,i[1]);return this.oOutputFormat.format(i);case"int":case"float":case"any":default:throw new p("Don't know how to format Unit to "+e)}};l.prototype.getPartsListeningToTypeChanges=function(){return this.bShowNumber?[0]:[]};l.prototype.parseValue=function(t,e){var i;switch(this.getPrimitiveType(e)){case"string":this.oOutputFormat=this._getInstance(this.aDynamicValues);i=this.oOutputFormat.parse(t);if(!Array.isArray(i)||this.bShowNumber&&isNaN(i[0])){throw this.getParseException()}break;case"int":case"float":default:throw new m("Don't know how to parse Unit from "+e)}if(this.oInputFormat){i=this.oInputFormat.format(i)}return i};l.prototype.processPartTypes=function(t){this.iScale=undefined;const e=t[0];if(e?.isA(["sap.ui.model.odata.type.Int","sap.ui.model.odata.type.Int64"])){this.iScale=0}if(e?.isA("sap.ui.model.odata.type.Decimal")){const t=e.oConstraints?.scale;if(t!==Infinity){this.iScale=t||0}}};l.prototype.validateValue=function(t){if(this.oConstraints){var e=n.getResourceBundleFor("sap.ui.core"),a=[],s=[],o=t,r;if(this.oInputFormat){o=this.oInputFormat.parse(t)}r=o[0];i(this.oConstraints,function(t,i){switch(t){case"minimum":if(r<i){a.push("minimum");s.push(e.getText("Unit.Minimum",[i]))}break;case"maximum":if(r>i){a.push("maximum");s.push(e.getText("Unit.Maximum",[i]))}break;case"decimals":var n=u._shiftDecimalPoint(r,i);if(Math.floor(n)!==n){a.push("decimals");s.push(e.getText("Unit.Decimals",[i]))}break;default:break}});if(a.length>0){throw new h(s.join(" "),a)}}};l.prototype.setFormatOptions=function(t){const e=t.maxFractionDigits===undefined&&t.minFractionDigits===undefined&&t.decimals===undefined;this.oFormatOptions={...t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},...t,...e?{decimals:3}:{}};this._clearInstances();this._createInputFormat()};l.prototype._handleLocalizationChange=function(){this._clearInstances();this._createInputFormat()};l.prototype._createInputFormat=function(){var t=this.oFormatOptions.source;if(t){if(s(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=u.getUnitInstance(t)}};l.prototype.getParseException=function(){var t=n.getResourceBundleFor("sap.ui.core"),e;if(!this.bShowNumber){e=t.getText("Unit.InvalidMeasure")}else if(!this.bShowMeasure){e=t.getText("EnterNumber")}else{e=t.getText("Unit.Invalid")}return new m(e)};l.prototype.getPartsIgnoringMessages=function(){if(!this.bShowMeasure){return[1]}else if(!this.bShowNumber){return[0]}return[]};return l});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/xml/XMLListBinding", ["sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding","sap/ui/util/XMLHelper","sap/base/util/deepEqual","sap/base/util/each"],function(t,e,i,s,n){"use strict";var h=e.extend("sap.ui.model.xml.XMLListBinding");h.prototype.getEntryData=function(t){return i.serialize(t.getObject())};h.prototype.update=function(){var t=this.oModel._getObject(this.sPath,this.oContext);if(t){this.oList=[];var e=this;if(this.bUseExtendedChangeDetection){n(t,function(t,i){e.oList.push(i.cloneNode(true))})}else{this.oList=t.slice(0)}this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength()}else{this.oList=[];this.aIndices=[];this.iLength=0}};h.prototype.checkUpdate=function(e){var i;if(this.bSuspended&&!this.bIgnoreSuspend&&!e){return}if(!this.bUseExtendedChangeDetection){i=this.oModel._getObject(this.sPath,this.oContext)||[];if(i.length!=this.oList.length||e){this.update();this._fireChange({reason:t.Change})}}else{var h=false;var a=this;i=this.oModel._getObject(this.sPath,this.oContext)||[];if(this.oList.length!=i.length){h=true}if(!s(this.oList,i)){this.update()}var o=this._getContexts(this.iLastStartIndex,this.iLastLength);if(this.aLastContexts){if(this.aLastContexts.length!=o.length){h=true}else{n(this.aLastContextData,function(t,e){var i=a.getContextData(o[t]);if(i!==e){h=true;return false}return true})}}else{h=true}if(h||e){this._fireChange({reason:t.Change})}}};return h});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/xml/XMLModel", ["sap/ui/model/ClientModel","sap/ui/model/Context","./XMLListBinding","./XMLPropertyBinding","./XMLTreeBinding","sap/ui/util/XMLHelper","sap/base/Log","sap/base/util/each"],function(e,t,r,s,i,a,o,n){"use strict";var u=e.extend("sap.ui.model.xml.XMLModel",{constructor:function(t){e.apply(this,arguments);this.oNameSpaces=null;if(t&&t.documentElement){this.setData(t)}},metadata:{publicMethods:["setXML","getXML","setNameSpace"]}});u.prototype.setXML=function(e){var t=a.parse(e);if(t.parseError.errorCode!=0){var r=t.parseError;o.fatal("The following problem occurred: XML parse Error for "+r.url+" code: "+r.errorCode+" reason: "+r.reason+" src: "+r.srcText+" line: "+r.line+" linepos: "+r.linepos+" filepos: "+r.filepos);this.fireParseError({url:r.url,errorCode:r.errorCode,reason:r.reason,srcText:r.srcText,line:r.line,linepos:r.linepos,filepos:r.filepos})}this.setData(t)};u.prototype.getXML=function(){return a.serialize(this.oData)};u.prototype.setData=function(e){this.oData=e;this.checkUpdate()};u.prototype.loadData=function(e,t,r,s,i,a){var n=this;r=r!==false;s=s||"GET";i=i===undefined?this.bCache:i;this.fireRequestSent({url:e,type:s,async:r,headers:a,info:"cache="+i,infoObject:{cache:i}});this._ajax({url:e,async:r,cache:i,dataType:"xml",data:t,headers:a,type:s,success:function(t){if(!t){o.fatal("The following problem occurred: No data was retrieved by service: "+e)}n.setData(t);n.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+i,infoObject:{cache:i},success:true})},error:function(t,u,c){var f={message:u,statusCode:t.status,statusText:t.statusText,responseText:t.responseText};o.fatal("The following problem occurred: "+u,t.responseText+","+t.status+","+t.statusText);n.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+i,infoObject:{cache:i},success:false,errorobject:f});n.fireRequestFailed(f)}})};u.prototype.setNameSpace=function(e,t){if(!t){t=""}if(!this.oNameSpaces){this.oNameSpaces={}}this.oNameSpaces[t]=e};u.prototype.bindProperty=function(e,t,r){var i=new s(this,e,t,r);return i};u.prototype.bindList=function(e,t,s,i,a){var o=new r(this,e,t,s,i,a);return o};u.prototype.bindTree=function(e,t,r,s,a){var o=new i(this,e,t,r,s,a);return o};u.prototype.setProperty=function(e,t,r,s){var i=e.substring(0,e.lastIndexOf("/")+1),a=e.substr(e.lastIndexOf("/")+1);if(!this.resolve(e,r)){return false}if(!this.oData.documentElement){o.warning("Trying to set property "+e+", but no document exists.");return false}var n;if(a.indexOf("@")==0){n=this._getObject(i,r);if(n[0]){n[0].setAttribute(a.substr(1),t);this.checkUpdate(false,s);return true}}else{n=this._getObject(e,r);if(n[0]){n[0].textContent=t;this.checkUpdate(false,s);return true}}return false};u.prototype.getProperty=function(e,t){var r=this._getObject(e,t);if(r&&typeof r!="string"){r=r[0]?r[0].textContent:""}return r};u.prototype.getObject=function(e,t){var r=this._getObject(e,t);if(Array.isArray(r)){r=r[0]}return r};u.prototype._getObject=function(e,r){var s=this.oData.documentElement;if(!s){return null}let i=[];if(this.isLegacySyntax()){i=[s]}if(r instanceof t){i=this._getObject(r.getPath())}else if(r){i=[r]}if(!e){return i}var a=e.split("/"),o,n=0;if(!a[0]){i=s;n++}i=i.length==undefined?[i]:i;i=i[0]?i:null;while(i&&i.length>0&&a[n]){o=a[n];if(o.indexOf("@")==0){i=this._getAttribute(i[0],o.substr(1))}else if(o=="text()"){i=i[0]?i[0].textContent:""}else if(isNaN(o)){i=this._getChildElementsByTagName(i[0],o)}else{i=[i[o]]}n++}return i};u.prototype._getAttribute=function(e,t){if(!this.oNameSpaces||t.indexOf(":")==-1){return e.getAttribute(t)}var r=this._getNameSpace(t),s=this._getLocalName(t);return e.getAttributeNS(r,s)};u.prototype._getChildElementsByTagName=function(e,t){var r=e.childNodes,s=[];if(this.oNameSpaces){var i=this._getNameSpace(t),a=this._getLocalName(t),o;n(r,function(e,t){o=t.localName||t.baseName;if(t.nodeType==1&&o==a&&t.namespaceURI==i){s.push(t)}})}else{n(r,function(e,r){if(r.nodeType==1&&r.nodeName==t){s.push(r)}})}return s};u.prototype._getNameSpace=function(e){var t=e.indexOf(":"),r="";if(t>0){r=e.substr(0,t)}return this.oNameSpaces[r]};u.prototype._getLocalName=function(e){var t=e.indexOf(":"),r=e;if(t>0){r=e.substr(t+1)}return r};u.prototype._getDocNSPrefixes=function(){var e={},t=this.oData&&this.oData.documentElement;if(!t){return e}var r=t.attributes;n(r,function(t,r){var s=r.name,i=r.value;if(s=="xmlns"){e[i]=""}else if(s.indexOf("xmlns")==0){e[i]=s.substr(6)}});return e};u.prototype._resolve=function(e,t){var r=!e.startsWith("/"),s=e;if(r){if(t){s=t.getPath()+"/"+e}else{s=undefined;if(this.isLegacySyntax()){s="/"+e}}}return s};u.prototype.isList=function(e,t){return false};u.prototype._setMetaModel=function(e){this._oMetaModel=e};u.prototype.getMetaModel=function(){return this._oMetaModel};return u});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/xml/XMLPropertyBinding", ["sap/ui/model/ChangeReason","sap/ui/model/ClientPropertyBinding","sap/base/util/deepEqual"],function(e,t,i){"use strict";var a=t.extend("sap.ui.model.xml.XMLPropertyBinding");a.prototype.setValue=function(t){if(this.bSuspended){return}if(this.oValue!=t){if(this.oModel.setProperty(this.sPath,t,this.oContext,true)){this.oValue=t;this.oModel.firePropertyChange({reason:e.Binding,path:this.sPath,context:this.oContext,value:t})}}};a.prototype.checkUpdate=function(t){if(this.bSuspended&&!t){return}var a=this._getValue();if(!i(a,this.oValue)||t){this.oValue=a;this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:e.Change})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/xml/XMLTreeBinding", ["sap/ui/model/ClientTreeBinding","sap/base/util/each"],function(e,t){"use strict";var i=e.extend("sap.ui.model.xml.XMLTreeBinding");i.prototype.getNodeContexts=function(e,i,n){if(!i){i=0}if(!n){n=this.oModel.iSizeLimit}var o=e.getPath();if(!o.endsWith("/")){o=o+"/"}if(!o.startsWith("/")){o="/"+o}var s=[],d={},a=this,l=this.oModel._getObject(e.getPath()),r,f;t(l[0].childNodes,function(e,t){if(t.nodeType==1){if(d[t.nodeName]==undefined){d[t.nodeName]=0}else{d[t.nodeName]++}r=o+t.nodeName+"/"+d[t.nodeName];f=a.oModel.getContext(r);if(a.oCombinedFilter&&!a.bIsFiltering){if(a.filterInfo.aFilteredContexts&&a.filterInfo.aFilteredContexts.indexOf(f)!=-1){s.push(f)}}else{s.push(f)}}});this._applySorter(s);this._setLengthCache(o,s.length);return s.slice(i,i+n)};return i});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/performance/trace/FESRHelper", [],function(){"use strict";var t={FESR_NAMESPACE:"http://schemas.sap.com/sapui5/extension/sap.ui.core.FESR/1",setSemanticStepname:function(t,s,i){var a=t.data("sap-ui-custom-settings");if(a===null){a={}}if(!a[this.FESR_NAMESPACE]){a[this.FESR_NAMESPACE]={}}a[this.FESR_NAMESPACE][s]=i;t.data("sap-ui-custom-settings",a)},getSemanticStepname:function(t,s){var i=t&&t.data("sap-ui-custom-settings")&&t.data("sap-ui-custom-settings")[this.FESR_NAMESPACE];if(!i){return}return i[s]}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/performance/trace/_InteractionImpl", ["sap/ui/performance/Measurement","sap/ui/performance/XHRInterceptor","sap/ui/performance/trace/FESRHelper","sap/ui/util/isCrossOriginURL","sap/base/util/LoaderExtensions","sap/base/util/now","sap/base/util/uid","sap/base/Log"],function(e,t,i,n,r,s,a,o){"use strict";let u=false,p=false,d=[],f,g,c=false,l=false,m,h=0,v=false,y=false,I,S;const L={"application/zip":true,"application/vnd.rar":true,"application/gzip":true,"application/x-tar":true,"application/java-archive":true,"image/jpeg":true,"application/pdf":true},T="zip,rar,arj,z,gz,tar,lzh,cab,hqx,ace,jar,ear,war,jpg,jpeg,pdf,gzip";function b(e){var t=e.toString();var i="";for(var n=0;n<t.length;n+=2){i+=String.fromCharCode(parseInt(t.substr(n,2),16))}return i.trim()}function E(e){return{event:"startup",trigger:"undetermined",component:"undetermined",appVersion:"undetermined",start:e||performance.timeOrigin,end:0,navigation:0,roundtrip:0,processing:0,duration:0,requests:[],measurements:[],sapStatistics:[],requestTime:0,networkTime:0,bytesSent:0,bytesReceived:0,requestCompression:"X",busyDuration:0,id:a(),passportAction:"undetermined_startup_0",rootId:undefined}}function H(e){if(e.start>f.start&&e.end<f.end){return e}}function q(e){var t=e.startTime>0&&e.startTime<=e.requestStart&&e.requestStart<=e.responseEnd;var i=f.start<=performance.timeOrigin+e.requestStart&&f.end>=performance.timeOrigin+e.responseEnd;return i&&t&&e.initiatorType==="xmlhttprequest"}function P(e){this.end=e.responseEnd>this.end?e.responseEnd:this.end;f.requestTime+=e.responseEnd-e.startTime;if(this.roundtripHigherLimit<=e.startTime){f.navigation+=this.navigationHigherLimit-this.navigationLowerLimit;f.roundtrip+=this.roundtripHigherLimit-this.roundtripLowerLimit;this.navigationLowerLimit=e.startTime;this.roundtripLowerLimit=e.startTime}if(e.responseEnd>this.roundtripHigherLimit){this.roundtripHigherLimit=e.responseEnd}if(e.requestStart>this.navigationHigherLimit){this.navigationHigherLimit=e.requestStart}}function R(e){var t={start:e[0].startTime,end:e[0].responseEnd,navigationLowerLimit:e[0].startTime,navigationHigherLimit:e[0].requestStart,roundtripLowerLimit:e[0].startTime,roundtripHigherLimit:e[0].responseEnd};e.forEach(P,t);f.navigation+=t.navigationHigherLimit-t.navigationLowerLimit;f.roundtrip+=t.roundtripHigherLimit-t.roundtripLowerLimit;if(f.networkTime){var i=f.requestTime-f.networkTime;f.networkTime=i/e.length}else{f.networkTime=0}}function w(t){if(f){var i=performance.getEntriesByType("resource");var n;f.end=t;f.processing=t-f.start;f.duration=f.processing;f.requests=i.filter(q);f.completeRoundtrips=0;f.measurements=e.filterMeasurements(H,true);if(f.requests.length>0){R(f.requests)}f.completeRoundtrips=f.requests.length;var r=f.processing-f.navigation-f.roundtrip;f.processing=r>-1?r:0;f.completed=true;if(f.semanticStepName||f.duration>=2||f.requests.length>0||u){d.push(f);n=d[d.length-1];if(o.isLoggable()){o.debug("Interaction step finished: trigger: "+f.trigger+"; duration: "+f.duration+"; requests: "+f.requests.length,"_InteractionImpl.js")}}if(I?.onInteractionFinished){I.onInteractionFinished(n)}Object.freeze(f);f=null;g=null;u=false;l=false;c=false;clearTimeout(p)}}function N(e){var t,i;if(e){var n,r;n=sap.ui.require("sap/ui/core/Component");if(n){while(e&&e.getParent){r=n.getOwnerComponentFor(e);if(r||e instanceof n){r=r||e;var s=r.getManifestEntry("sap.app");t=s&&s.id||r.getMetadata().getName();i=s&&s.applicationVersion&&s.applicationVersion.version}e=e.getParent()}}}return{id:t?t:"undetermined",version:i?i:""}}function A(){const e=Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src");Object.defineProperty(HTMLScriptElement.prototype,"src",{set:function(t){var i;if(!this.dataset.sapUiCoreInteractionHandled){i=D.notifyAsyncStep();this.addEventListener("load",function(){i()});this.addEventListener("error",function(){i()});this.dataset.sapUiCoreInteractionHandled="true"}e.set.call(this,t)},get:e.get})}function C(){t.register("INTERACTION","send",function(){if(this.oPendingInteraction){this.oPendingInteraction.bytesSent+=arguments[0]?arguments[0].length:0}});t.register("INTERACTION","setRequestHeader",function(e,t){if(!this.requestHeaderLength){this.requestHeaderLength=0}this.requestHeaderLength+=(e+"").length+(t+"").length});t.register("INTERACTION","open",function(e,t,i){var r,s,a;function o(e){if(this.readyState===4){e()}}if(f){var u=!n(t);if(u){r=I?.passportHeader.get(this);if(r&&r.length>=370){s=b(r.substring(150,230));if(parseInt(r.substring(8,10),16)>2){a=r.substring(372,404)}}if(!r||s&&a&&f.passportAction.endsWith(s)){this.addEventListener("readystatechange",O.bind(this,f.id))}}if(u||i!==false){this.addEventListener("readystatechange",o.bind(this,D.notifyAsyncStep()))}this.oPendingInteraction=f}})}function _(e,t,i,n){var r=e.split(".").pop().split(/\#|\?/)[0];if(t==="gzip"||t==="br"||i in L||r&&T.indexOf(r)!==-1||n<1024){return true}else{return false}}function O(e){if(this.readyState===4){if(this.oPendingInteraction&&!this.oPendingInteraction.completed&&f.id===e){var t=this.getResponseHeader("content-length"),i=_(this.responseURL,this.getResponseHeader("content-encoding"),this.getResponseHeader("content-type"),t),n=this.getResponseHeader("sap-perf-fesrec");this.oPendingInteraction.bytesReceived+=t?parseInt(t):0;this.oPendingInteraction.bytesReceived+=this.getAllResponseHeaders().length;this.oPendingInteraction.bytesSent+=this.requestHeaderLength||0;this.oPendingInteraction.requestCompression=i&&this.oPendingInteraction.requestCompression!==false;this.oPendingInteraction.networkTime+=n?Math.round(parseFloat(n,10)/1e3):0;var r=this.getResponseHeader("sap-statistics");if(r){var s=performance.getEntriesByType("resource");this.oPendingInteraction.sapStatistics.push({url:this.responseURL,statistics:r,timing:s?s[s.length-1]:undefined})}delete this.requestHeaderLength;delete this.oPendingInteraction}}}var D={getAll:function(e){if(e){D.end(true)}return d},filter:function(e){var t=[];if(e){for(var i=0,n=d.length;i<n;i++){if(e(d[i])){t.push(d[i])}}}return t},getPending:function(){return f},clear:function(){d=[]},start:function(e,t){var n=s();if(f){w(n)}if(m){clearTimeout(m)}h=0;if(performance.clearResourceTimings){performance.clearResourceTimings()}var r=N(t);f=E(n);f.event=e;f.component=r.id;f.appVersion=r.version;if(t&&t.getId){f.trigger=t.getId();f.semanticStepName=i.getSemanticStepname(t,e)}if(o.isLoggable(null,"sap.ui.Performance")){console.time("INTERACTION: "+f.trigger+" - "+f.event)}if(o.isLoggable()){o.debug("Interaction step started: trigger: "+f.trigger+"; type: "+f.event,"_InteractionImpl.js")}},end:function(e){if(f){if(e){if(o.isLoggable(null,"sap.ui.Performance")){console.timeEnd("INTERACTION: "+f.trigger+" - "+f.event)}w(f.preliminaryEnd||s());if(o.isLoggable()){o.debug("Interaction ended...")}}else{f.preliminaryEnd=s()}}},notifyNavigation:function(){u=true},notifyShowBusyIndicator:function(e){e._sapui_fesr_fDelayedStartTime=s()+e.getBusyIndicatorDelay()},notifyHideBusyIndicator:function(e){if(e._sapui_fesr_fDelayedStartTime){var t=s()-e._sapui_fesr_fDelayedStartTime;D.addBusyDuration(t>0?t:0);delete e._sapui_fesr_fDelayedStartTime}},notifyStepStart:function(e,t,n){if(y){let r,s,a;if(!f&&g||n){if(n){r="startup"}else{r=e}D.start(r,t);f=D.getPending();if(f&&!f.completed&&I?.onInteractionStarted){f.passportAction=I.onInteractionStarted(f,n)}if(g){S=g.srcControl}a=i.getSemanticStepname(S,e);if(t&&t.getId&&S&&t.getId()===S.getId()){c=true}else if(a){f.trigger=S.getId();f.semanticStepName=a;c=true}else{s=S;while(s&&s.getParent()){s=s.getParent();if(t.getId()===s.getId()){l=true;break}}}g=null;u=false;p=setTimeout(function(){g=null},0);v=false;D.notifyStepEnd(true)}else if(f&&S&&!c){s=S;a=i.getSemanticStepname(S,e);if(s&&t.getId()===s.getId()){f.trigger=t.getId();f.semanticStepName=a;f.event=e;c=true}else if(a){f.trigger=S.getId();f.semanticStepName=a;c=true}else if(!l){while(s&&s.getParent()){s=s.getParent();if(t.getId()===s.getId()){f.trigger=t.getId();f.semanticStepName=i.getSemanticStepname(t,e);f.event=e;break}}}}}},notifyAsyncStep:function(e){if(f){if(o.isLoggable(null,"sap.ui.Performance")&&e){console.time(e)}var t=f.id;delete f.preliminaryEnd;D.notifyAsyncStepStart();return function(){D.notifyAsyncStepEnd(t);if(o.isLoggable(null,"sap.ui.Performance")&&e){console.timeEnd(e)}}}else{return function(){}}},notifyAsyncStepStart:function(){if(f){h++;clearTimeout(m);v=false;if(o.isLoggable()){o.debug("Interaction relevant step started - Number of pending steps: "+h)}}},notifyAsyncStepEnd:function(e){if(f&&e===f.id){h--;D.notifyStepEnd(true);if(o.isLoggable()){o.debug("Interaction relevant step stopped - Number of pending steps: "+h)}}},notifyStepEnd:function(e){if(y){if(h===0||!e){if(v||!e){D.end(true);if(o.isLoggable()){o.debug("Interaction stopped")}v=false}else{D.end();v=true;if(m){clearTimeout(m)}m=setTimeout(D.notifyStepEnd,301);if(o.isLoggable()){o.debug("Interaction check for bIdle time - Number of pending steps: "+h)}}}}},notifyEventStart:function(e){g=y?e:null},notifyScrollEvent:function(e){},notifyEventEnd:function(){if(g){if(g.type.match(/^(mousedown|touchstart|keydown)$/)){D.end(true)}if(this.eventEndTimer){clearTimeout(this.eventEndTimer)}this.eventEndTimer=setTimeout(function(){g=null;delete this.eventEndTimer}.bind(this),10)}},setStepComponent:function(e){if(y&&f&&e&&!f.stepComponent){f.stepComponent=e}},addBusyDuration:function(e){if(y&&f){if(!f.busyDuration){f.busyDuration=0}f.busyDuration+=e}},_setActive:function(e){y=e;if(e){D.notifyStepStart("startup","startup",true)}},_setFESR:function(e){I=e}};C();A();r.notifyResourceLoading=D.notifyAsyncStep;return D});
sap.ui.require.preload({
	"sap/ui/model/odata/datajs.js":function(){
(function(jQuery){var e="The file datajs.js has been moved from sap.ui.model.odata to sap.ui.thirdparty! Please update the dependencies accordingly.";if(jQuery&&jQuery.sap&&jQuery.sap.require){jQuery.sap.require("sap.ui.thirdparty.datajs");jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery);
},
	"sap/ui/model/odata/v4/ts.js":function(){
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */

},
	"sap/ui/thirdparty/IPv6.js":function(){
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(e,i){"use strict";if(typeof module==="object"&&module.exports){module.exports=i()}else if(typeof define==="function"&&define.amd){define(i)}else{e.IPv6=i(e)}})(this,function(e){"use strict";var i=e&&e.IPv6;function f(e){var i=e.toLowerCase();var f=i.split(":");var r=f.length;var t=8;if(f[0]===""&&f[1]===""&&f[2]===""){f.shift();f.shift()}else if(f[0]===""&&f[1]===""){f.shift()}else if(f[r-1]===""&&f[r-2]===""){f.pop()}r=f.length;if(f[r-1].indexOf(".")!==-1){t=7}var s;for(s=0;s<r;s++){if(f[s]===""){break}}if(s<t){f.splice(s,1,"0000");while(f.length<t){f.splice(s,0,"0000")}}var l;for(var n=0;n<t;n++){l=f[n].split("");for(var o=0;o<3;o++){if(l[0]==="0"&&l.length>1){l.splice(0,1)}else{break}}f[n]=l.join("")}var a=-1;var v=0;var u=0;var c=-1;var h=false;for(n=0;n<t;n++){if(h){if(f[n]==="0"){u+=1}else{h=false;if(u>v){a=c;v=u}}}else{if(f[n]==="0"){h=true;c=n;u=1}}}if(u>v){a=c;v=u}if(v>1){f.splice(a,v,"")}r=f.length;var p="";if(f[0]===""){p=":"}for(n=0;n<r;n++){p+=f[n];if(n===r-1){break}p+=":"}if(f[r-1]===""){p+=":"}return p}function r(){if(e.IPv6===this){e.IPv6=i}return this}return{best:f,noConflict:r}});
},
	"sap/ui/thirdparty/RequestRecorder.js":function(){
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(e,t){"use strict";if(typeof define==="function"&&define.amd){define(["URI","sinon"],function(e,r){return t(e,r)})}else{e.RequestRecorder=t(e.URI,e.sinon)}})(this,function(e,t){"use strict";var r="RequestRecorder";function n(t){return new e(t).absoluteTo(new e(document.baseURI).search("")).toString()}function i(){}i.prototype={bIsRecording:false,bIsPaused:false,aEntriesUrlFilter:[],aEntriesUrlReplace:[],fnCustomGroupNameCallback:null,sDefaultFilename:"Record",aRequests:[],mXhrNativeFunctions:{},sFilename:"",bIsDownloadDisabled:false,bPromptForDownloadFilename:false,mHarFileContent:null,sDefaultMajorHarVersion:1,sDefaultCustomGroup:"defaultCustomGroup",oSinonXhr:null,mDelaySettings:null,oLog:{info:function(e){console.info(e)},debug:function(e){console.debug(e)},warning:function(e){console.warn(e)},error:function(e){console.error(e)}},preciseDateNow:function(){return window.performance.timeOrigin+window.performance.now()},loadFile:function(e){var t=null;var n=new XMLHttpRequest;n.open("GET",e,false);n.addEventListener("load",function(){if(this.status===200){t=JSON.parse(this.responseText)}});n.send();try{t=JSON.parse(n.responseText)}catch(e){throw new Error("Har file could not be loaded.")}if(t&&(!t.log||!t.log.version||parseInt(t.log.version,10)!=this.sDefaultMajorHarVersion)){this.oLog.error(r+" - Incompatible version. Please provide .har file with version "+this.sDefaultMajorHarVersion+".x")}return t},prepareEntries:function(e){var t;if(!e.log.entries||!e.log.entries.length){this.oLog.info(r+" - Empty entries array or the provided har file is empty.");t=[]}else{t=e.log.entries;for(var n=0;n<t.length;n++){t[n]._timestampStarted=new Date(t[n].startedDateTime).getTime();t[n]._timestampFinished=t[n]._timestampStarted+t[n].time;t[n]._initialOrder=n}this.prepareEntriesOrder(t,"_timestampFinished");this.prepareEntriesOrder(t,"_timestampStarted");e._groupedEntries={};for(var i=0;i<t.length;i++){this.addEntryToMapping(e,t,i)}}e.log.entries=t;return e},prepareEntriesOrder:function(e,t){e.sort(function(e,r){var n=e[t]-r[t];if(n===0){return e._initialOrder-r._initialOrder}else{return n}})},addEntryToMapping:function(e,t,r){var n=this.createUrlGroup(t[r].request.method,t[r].request.url);var i=t[r]._customGroupName?t[r]._customGroupName:this.sDefaultCustomGroup;if(!e._groupedEntries[i]){e._groupedEntries[i]={}}if(!e._groupedEntries[i][n]){e._groupedEntries[i][n]=[]}e._groupedEntries[i][n].push(r)},createUrlGroup:function(t,r){var n=new e(r).resource();n=this.replaceEntriesUrlByRegex(n);return t+n},replaceEntriesUrlByRegex:function(e){for(var t=0;t<this.aEntriesUrlReplace.length;t++){var n=this.aEntriesUrlReplace[t];if(n.regex instanceof RegExp&&n.value!==undefined){e=e.replace(n.regex,n.value)}else{this.oLog.warning(r+" - Invalid regular expression for url replace.")}}return e},prepareRequestForHar:function(e,t){var r={startedDateTime:new Date(t).toISOString(),time:this.preciseDateNow()-t,request:{headers:e._requestParams.headers,url:n(e._requestParams.url),method:e._requestParams.method},response:{status:e.status,content:{text:e.responseText}}};if(e._requestParams.customGroupName){r._customGroupName=e._requestParams.customGroupName}r.response.headers=this.transformHeadersFromArrayToObject(e);return r},transformHeadersFromArrayToObject:function(e){var t=e.getAllResponseHeaders().split("\r\n");var r=[];for(var n=0;n<t.length;n++){if(t[n]){var i=t[n].split(":");r.push({name:i[0].trim(),value:i[1].trim()})}}return r},deleteRecordedEntries:function(){this.aRequests=[]},getHarContent:function(e){var t=this.sFilename||this.sDefaultFilename;if(this.bPromptForDownloadFilename){t=window.prompt("Enter file name",t+".har")}else{t=t+".har"}var r={log:{version:"1.2",creator:{name:"RequestRecorder",version:"1.0"},entries:this.aRequests}};if(e){this.deleteRecordedEntries()}if(!this.bIsDownloadDisabled){var n=JSON.stringify(r,null,4);var i=document.createElement("a");document.body.appendChild(i);var s=new window.Blob([n],{type:"octet/stream"});var o=window.URL.createObjectURL(s);i.href=o;i.download=t;i.click();window.URL.revokeObjectURL(o)}return r},calculateDelay:function(e,t){if(e){if(e.factor!==undefined&&typeof e.factor==="number"){t*=e.factor}if(e.offset!==undefined&&typeof e.offset==="number"){t+=e.offset}if(e.max!==undefined&&typeof e.max==="number"){t=Math.min(e.max,t)}if(e.min!==undefined&&typeof e.min==="number"){t=Math.max(e.min,t)}}return t},respond:function(e,t){var r=function(){if(e.readyState!==0){var r=t.response.content.text;var n={};t.response.headers.forEach(function(e){n[e.name]=e.value});if(typeof r==="function"){r=r()}e.respond(t.response.status,n,r)}};if(e.async){setTimeout(function(){r()},this.calculateDelay(this.mDelaySettings,t.time))}else{r()}},isUrlFiltered:function(e,t){if(this.bIsPaused){return true}var n=this;return t.every(function(t){if(t instanceof RegExp){return!t.test(e)}else{n.oLog.error(r+" - Invalid regular expression for filter.");return true}})},init:function(e){e=e||{};if(typeof e!=="object"){throw new Error("Parameter object isn't a valid object")}this.mHarFileContent=null;this.aRequests=[];this.sFilename="";this.bIsRecording=false;this.bIsPaused=false;this.bIsDownloadDisabled=false;if(this.oSinonXhr){this.oSinonXhr.filters=this.aSinonFilters;this.aSinonFilters=[];this.oSinonXhr.restore();this.oSinonXhr=null}for(var t in this.mXhrNativeFunctions){if(this.mXhrNativeFunctions.hasOwnProperty(t)){window.XMLHttpRequest.prototype[t]=this.mXhrNativeFunctions[t]}}this.mXhrNativeFunctions={};this.bIsDownloadDisabled=e.disableDownload===true;this.bPromptForDownloadFilename=e.promptForDownloadFilename===true;if(e.delay){if(e.delay===true){this.mDelaySettings={}}else{this.mDelaySettings=e.delay}}else{this.mDelaySettings={max:0}}if(e.entriesUrlFilter){if(Array.isArray(e.entriesUrlFilter)){this.aEntriesUrlFilter=e.entriesUrlFilter}else{this.aEntriesUrlFilter=[e.entriesUrlFilter]}}else{this.aEntriesUrlFilter=[new RegExp(".*")]}if(e.entriesUrlReplace){if(Array.isArray(e.entriesUrlReplace)){this.aEntriesUrlReplace=e.entriesUrlReplace}else{this.aEntriesUrlReplace=[e.entriesUrlReplace]}}else{this.aEntriesUrlReplace=[]}if(e.customGroupNameCallback&&typeof e.customGroupNameCallback==="function"){this.fnCustomGroupNameCallback=e.customGroupNameCallback}else{this.fnCustomGroupNameCallback=function(){return false}}},isPlayStarted:function(){return!!this.oSinonXhr},isRecordStarted:function(){return this.bIsRecording}};var s=new i;var o={start:function(t,n){try{this.play(t,n)}catch(a){var i=new e(t);var o=i.suffix();if(o!="har"){s.oLog.warning(r+" - Invalid file extension: "+o+", please use '.har' files.")}this.record(i.filename().replace("."+o,""),n)}},record:function(e,t){s.oLog.info(r+" - Record");if(window.XMLHttpRequest.name==="FakeXMLHttpRequest"){s.oLog.warning(r+" - Sinon FakeXMLHttpRequest is enabled by another application, recording could be defective")}if(s.isRecordStarted()){s.oLog.error(r+" - RequestRecorder is already recording, please stop first...");return}s.init(t);s.sFilename=e;s.bIsRecording=true;s.mXhrNativeFunctions.open=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){this._requestParams=this._requestParams||{};this._requestParams.method=arguments[0];this._requestParams.url=arguments[1];this._requestParams.customGroupName=s.fnCustomGroupNameCallback();this._requestParams.headers=this._requestParams.headers||[];s.mXhrNativeFunctions.open.apply(this,arguments)};s.mXhrNativeFunctions.setRequestHeader=window.XMLHttpRequest.prototype.setRequestHeader;window.XMLHttpRequest.prototype.setRequestHeader=function(e,t){this._requestParams=this._requestParams||{headers:[]};this._requestParams.headers.push({name:e,value:t});s.mXhrNativeFunctions.setRequestHeader.apply(this,arguments)};s.mXhrNativeFunctions.send=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(){if(!s.isUrlFiltered(this._requestParams.url,s.aEntriesUrlFilter)){var e=s.preciseDateNow();var t=this.onreadystatechange;this.onreadystatechange=function(){if(this.readyState===4){s.aRequests.push(s.prepareRequestForHar(this,e));s.oLog.info(r+" - Record XMLHttpRequest. Method: "+this._requestParams.method+", URL: "+this._requestParams.url)}if(t){t.apply(this,arguments)}}}s.mXhrNativeFunctions.send.apply(this,arguments)}},play:function(i,o){s.oLog.info(r+" - Play");if(s.isPlayStarted()){s.oLog.error(r+" - RequestRecorder is already playing, please stop first...");return}s.init(o);var a;if(i&&Array.isArray(i)){s.mHarFileContent={};s.mHarFileContent.log={entries:i.slice(0)};a=""}else{a=i;s.mHarFileContent=s.loadFile(a)}if(s.mHarFileContent){s.mHarFileContent=s.prepareEntries(s.mHarFileContent);s.oLog.info(r+" - Har file found, replay started ("+a+")");s.oSinonXhr=t.useFakeXMLHttpRequest();s.oSinonXhr.useFilters=true;s.aSinonFilters=s.oSinonXhr.filters;s.oSinonXhr.filters=[];s.oSinonXhr.addFilter(function(e,t,n,i,o){if(!s.isUrlFiltered(t,s.aEntriesUrlFilter)){return false}for(var a=0;a<s.aSinonFilters.length;a++){if(s.aSinonFilters[a](e,t,n,i,o)===false){s.oLog.debug(r+" - Foreign URL filter from sinon filters are applied.");return false}}return true});var l=s.oSinonXhr.onCreate;s.oSinonXhr.onCreate=function(t){var i=t.send;t.send=function(){if(!s.isUrlFiltered(t.url,s.aEntriesUrlFilter)){var o;var a;var l=n(t.url);l=new e(l).resource();l=s.replaceEntriesUrlByRegex(l);var u=t.method+l;var f=s.fnCustomGroupNameCallback();if(!f){f=s.sDefaultCustomGroup}if(!s.mHarFileContent._groupedEntries[f]){throw new Error("Custom group name does not exist: "+f)}a=s.mHarFileContent._groupedEntries[f];if(!a[u]){throw new Error("URL does not exist: "+u)}if(!a[u].length){throw new Error("No more entries left for: "+u)}o=s.mHarFileContent.log.entries[a[u].shift()];s.oLog.info(r+" - Respond XMLHttpRequest. Method: "+t.method+", URL: "+l);s.respond(t,o)}else{i.apply(this,arguments)}};if(l){l.apply(this,arguments)}}}},stop:function(){s.oLog.info(r+" - Stop");var e=null;if(s.isRecordStarted()){e=s.getHarContent(true)}s.init();return e},pause:function(){s.oLog.info(r+" - Pause");s.bIsPaused=true},resume:function(){s.oLog.info(r+" - Resume");s.bIsPaused=false},getRecordings:function(e){var t=e||false;s.oLog.info(r+" - Get Recordings");return s.getHarContent(t)},addResponseJson:function(e,t,r,n,i){var s=i||[];s.push({name:"Content-Type",value:"application/json;charset=utf-8"});this.addResponse(e,t,r,n,s)},addResponse:function(e,t,r,n,i){if(!s.isPlayStarted()){throw new Error("Start the player first before you add a response.")}var o=r||"GET";var a=i||[{name:"Content-Type",value:"text/plain;charset=utf-8"}];var l=n||200;var u={startedDateTime:(new Date).toISOString(),time:0,request:{headers:[],url:e,method:o},response:{status:l,content:{text:t},headers:a}};var f=s.mHarFileContent.log.entries.push(u)-1;s.addEntryToMapping(s.mHarFileContent,s.mHarFileContent.log.entries,f)},setLogger:function(e){if(typeof e!="object"||typeof e.info!="function"||typeof e.debug!="function"||typeof e.warning!="function"||typeof e.error!="function"){throw new Error("Logger is not valid. It should implement at least the functions: info, debug, warning, error.")}s.oLog=e}};return o});
},
	"sap/ui/thirdparty/SecondLevelDomains.js":function(){
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(o,e){"use strict";if(typeof module==="object"&&module.exports){module.exports=e()}else if(typeof define==="function"&&define.amd){define(e)}else{o.SecondLevelDomains=e(o)}})(this,function(o){"use strict";var e=o&&o.SecondLevelDomains;var n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1){return false}var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1){return false}var g=n.list[o.slice(e+1)];if(!g){return false}return g.indexOf(" "+o.slice(r+1,e)+" ")>=0},is:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1){return false}var r=o.lastIndexOf(".",e-1);if(r>=0){return false}var g=n.list[o.slice(e+1)];if(!g){return false}return g.indexOf(" "+o.slice(0,e)+" ")>=0},get:function(o){var e=o.lastIndexOf(".");if(e<=0||e>=o.length-1){return null}var r=o.lastIndexOf(".",e-1);if(r<=0||r>=e-1){return null}var g=n.list[o.slice(e+1)];if(!g){return null}if(g.indexOf(" "+o.slice(r+1,e)+" ")<0){return null}return o.slice(r+1)},noConflict:function(){if(o.SecondLevelDomains===this){o.SecondLevelDomains=e}return this}};return n});
},
	"sap/ui/thirdparty/bignumber.js":function(){
(function(e){"use strict";
/*
 *      bignumber.js v6.0.0
 *      A JavaScript library for arbitrary-precision arithmetic.
 *      https://github.com/MikeMcl/bignumber.js
 *      Copyright (c) 2018 Michael Mclaughlin <M8ch88l@gmail.com>
 *      MIT Licensed.
 *
 *      BigNumber.prototype methods     |  BigNumber methods
 *                                      |
 *      absoluteValue            abs    |  clone
 *      comparedTo                      |  config               set
 *      decimalPlaces            dp     |      DECIMAL_PLACES
 *      dividedBy                div    |      ROUNDING_MODE
 *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT
 *      exponentiatedBy          pow    |      RANGE
 *      integerValue                    |      CRYPTO
 *      isEqualTo                eq     |      MODULO_MODE
 *      isFinite                        |      POW_PRECISION
 *      isGreaterThan            gt     |      FORMAT
 *      isGreaterThanOrEqualTo   gte    |      ALPHABET
 *      isInteger                       |  isBigNumber
 *      isLessThan               lt     |  maximum              max
 *      isLessThanOrEqualTo      lte    |  minimum              min
 *      isNaN                           |  random
 *      isNegative                      |
 *      isPositive                      |
 *      isZero                          |
 *      minus                           |
 *      modulo                   mod    |
 *      multipliedBy             times  |
 *      negated                         |
 *      plus                            |
 *      precision                sd     |
 *      shiftedBy                       |
 *      squareRoot               sqrt   |
 *      toExponential                   |
 *      toFixed                         |
 *      toFormat                        |
 *      toFraction                      |
 *      toJSON                          |
 *      toNumber                        |
 *      toPrecision                     |
 *      toString                        |
 *      valueOf                         |
 *
 */var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,t=Math.floor,f="[BigNumber Error] ",s=f+"Number primitive has more than 15 significant digits: ",o=1e14,l=14,u=9007199254740991,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],a=1e7,h=1e9;function g(e){var r,y,b,E=M.prototype,A=new M(1),R=20,P=4,S=-7,_=21,L=-1e7,D=1e7,T=false,I=1,B=0,x={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},C="0123456789abcdefghijklmnopqrstuvwxyz";function M(e,r){var i,f,o,c,a,h,g,p=this;if(!(p instanceof M)){return new M(e,r)}if(r==null){if(e instanceof M){p.s=e.s;p.e=e.e;p.c=(e=e.c)?e.slice():e;return}a=typeof e=="number";if(a&&e*0==0){p.s=1/e<0?(e=-e,-1):1;if(e===~~e){for(o=0,c=e;c>=10;c/=10,o++);p.e=o;p.c=[e];return}g=e+""}else{if(!n.test(g=e+""))return b(p,g,a);p.s=g.charCodeAt(0)==45?(g=g.slice(1),-1):1}}else{m(r,2,C.length,"Base");g=e+"";if(r==10){p=new M(e instanceof M?e:g);return G(p,R+p.e+1,P)}a=typeof e=="number";if(a){if(e*0!=0)return b(p,g,a,r);p.s=1/e<0?(g=g.slice(1),-1):1;if(g.replace(/^0\.0*|\./,"").length>15){throw Error(s+e)}a=false}else{p.s=g.charCodeAt(0)===45?(g=g.slice(1),-1):1;if(r>10&&r<37)g=g.toLowerCase()}i=C.slice(0,r);o=c=0;for(h=g.length;c<h;c++){if(i.indexOf(f=g.charAt(c))<0){if(f=="."){if(c>o){o=h;continue}}return b(p,e+"",a,r)}}g=y(g,r,10,p.s)}if((o=g.indexOf("."))>-1)g=g.replace(".","");if((c=g.search(/e/i))>0){if(o<0)o=c;o+=+g.slice(c+1);g=g.substring(0,c)}else if(o<0){o=g.length}for(c=0;g.charCodeAt(c)===48;c++);for(h=g.length;g.charCodeAt(--h)===48;);g=g.slice(c,h+1);if(g){h=g.length;if(a&&h>15&&(e>u||e!==t(e))){throw Error(s+p.s*e)}o=o-c-1;if(o>D){p.c=p.e=null}else if(o<L){p.c=[p.e=0]}else{p.e=o;p.c=[];c=(o+1)%l;if(o<0)c+=l;if(c<h){if(c)p.c.push(+g.slice(0,c));for(h-=l;c<h;){p.c.push(+g.slice(c,c+=l))}g=g.slice(c);c=l-g.length}else{c-=h}for(;c--;g+="0");p.c.push(+g)}}else{p.c=[p.e=0]}}M.clone=g;M.ROUND_UP=0;M.ROUND_DOWN=1;M.ROUND_CEIL=2;M.ROUND_FLOOR=3;M.ROUND_HALF_UP=4;M.ROUND_HALF_DOWN=5;M.ROUND_HALF_EVEN=6;M.ROUND_HALF_CEIL=7;M.ROUND_HALF_FLOOR=8;M.EUCLID=9;M.config=M.set=function(e){var r,n;if(e!=null){if(typeof e=="object"){if(e.hasOwnProperty(r="DECIMAL_PLACES")){n=e[r];m(n,0,h,r);R=n}if(e.hasOwnProperty(r="ROUNDING_MODE")){n=e[r];m(n,0,8,r);P=n}if(e.hasOwnProperty(r="EXPONENTIAL_AT")){n=e[r];if(v(n)){m(n[0],-h,0,r);m(n[1],0,h,r);S=n[0];_=n[1]}else{m(n,-h,h,r);S=-(_=n<0?-n:n)}}if(e.hasOwnProperty(r="RANGE")){n=e[r];if(v(n)){m(n[0],-h,-1,r);m(n[1],1,h,r);L=n[0];D=n[1]}else{m(n,-h,h,r);if(n){L=-(D=n<0?-n:n)}else{throw Error(f+r+" cannot be zero: "+n)}}}if(e.hasOwnProperty(r="CRYPTO")){n=e[r];if(n===!!n){if(n){if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)){T=n}else{T=!n;throw Error(f+"crypto unavailable")}}else{T=n}}else{throw Error(f+r+" not true or false: "+n)}}if(e.hasOwnProperty(r="MODULO_MODE")){n=e[r];m(n,0,9,r);I=n}if(e.hasOwnProperty(r="POW_PRECISION")){n=e[r];m(n,0,h,r);B=n}if(e.hasOwnProperty(r="FORMAT")){n=e[r];if(typeof n=="object")x=n;else throw Error(f+r+" not an object: "+n)}if(e.hasOwnProperty(r="ALPHABET")){n=e[r];if(typeof n=="string"&&!/^.$|\.|(.).*\1/.test(n)){C=n}else{throw Error(f+r+" invalid: "+n)}}}else{throw Error(f+"Object expected: "+e)}}return{DECIMAL_PLACES:R,ROUNDING_MODE:P,EXPONENTIAL_AT:[S,_],RANGE:[L,D],CRYPTO:T,MODULO_MODE:I,POW_PRECISION:B,FORMAT:x,ALPHABET:C}};M.isBigNumber=function(e){return e instanceof M||e&&e._isBigNumber===true||false};M.maximum=M.max=function(){return F(arguments,E.lt)};M.minimum=M.min=function(){return F(arguments,E.gt)};M.random=function(){var e=9007199254740992;var r=Math.random()*e&2097151?function(){return t(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(e){var n,s,o,u,a,g=0,p=[],w=new M(A);if(e==null)e=R;else m(e,0,h);u=i(e/l);if(T){if(crypto.getRandomValues){n=crypto.getRandomValues(new Uint32Array(u*=2));for(;g<u;){a=n[g]*131072+(n[g+1]>>>11);if(a>=9e15){s=crypto.getRandomValues(new Uint32Array(2));n[g]=s[0];n[g+1]=s[1]}else{p.push(a%1e14);g+=2}}g=u/2}else if(crypto.randomBytes){n=crypto.randomBytes(u*=7);for(;g<u;){a=(n[g]&31)*281474976710656+n[g+1]*1099511627776+n[g+2]*4294967296+n[g+3]*16777216+(n[g+4]<<16)+(n[g+5]<<8)+n[g+6];if(a>=9e15){crypto.randomBytes(7).copy(n,g)}else{p.push(a%1e14);g+=7}}g=u/7}else{T=false;throw Error(f+"crypto unavailable")}}if(!T){for(;g<u;){a=r();if(a<9e15)p[g++]=a%1e14}}u=p[--g];e%=l;if(u&&e){a=c[l-e];p[g]=t(u/a)*a}for(;p[g]===0;p.pop(),g--);if(g<0){p=[o=0]}else{for(o=-1;p[0]===0;p.splice(0,1),o-=l);for(g=1,a=p[0];a>=10;a/=10,g++);if(g<l)o-=l-g}w.e=o;w.c=p;return w}}();y=function(){var e="0123456789";function n(e,r,n,i){var t,f=[0],s,o=0,l=e.length;for(;o<l;){for(s=f.length;s--;f[s]*=r);f[0]+=i.indexOf(e.charAt(o++));for(t=0;t<f.length;t++){if(f[t]>n-1){if(f[t+1]==null)f[t+1]=0;f[t+1]+=f[t]/n|0;f[t]%=n}}}return f.reverse()}return function(i,t,f,s,o){var l,u,c,a,h,g,p,d,m=i.indexOf("."),v=R,N=P;if(m>=0){a=B;B=0;i=i.replace(".","");d=new M(t);g=d.pow(i.length-m);B=a;d.c=n(O(w(g.c),g.e,"0"),10,f,e);d.e=d.c.length}p=n(i,t,f,o?(l=C,e):(l=e,C));c=a=p.length;for(;p[--a]==0;p.pop());if(!p[0])return l.charAt(0);if(m<0){--c}else{g.c=p;g.e=c;g.s=s;g=r(g,d,v,N,f);p=g.c;h=g.r;c=g.e}u=c+v+1;m=p[u];a=f/2;h=h||u<0||p[u+1]!=null;h=N<4?(m!=null||h)&&(N==0||N==(g.s<0?3:2)):m>a||m==a&&(N==4||h||N==6&&p[u-1]&1||N==(g.s<0?8:7));if(u<1||!p[0]){i=h?O(l.charAt(1),-v,l.charAt(0)):l.charAt(0)}else{p.length=u;if(h){for(--f;++p[--u]>f;){p[u]=0;if(!u){++c;p=[1].concat(p)}}}for(a=p.length;!p[--a];);for(m=0,i="";m<=a;i+=l.charAt(p[m++]));i=O(i,c,l.charAt(0))}return i}}();r=function(){function e(e,r,n){var i,t,f,s,o=0,l=e.length,u=r%a,c=r/a|0;for(e=e.slice();l--;){f=e[l]%a;s=e[l]/a|0;i=c*f+s*u;t=u*f+i%a*a+o;o=(t/n|0)+(i/a|0)+c*s;e[l]=t%n}if(o)e=[o].concat(e);return e}function r(e,r,n,i){var t,f;if(n!=i){f=n>i?1:-1}else{for(t=f=0;t<n;t++){if(e[t]!=r[t]){f=e[t]>r[t]?1:-1;break}}}return f}function n(e,r,n,i){var t=0;for(;n--;){e[n]-=t;t=e[n]<r[n]?1:0;e[n]=t*i+e[n]-r[n]}for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,f,s,u,c){var a,h,g,w,d,m,v,N,O,y,b,E,A,R,P,S,_,L=i.s==f.s?1:-1,D=i.c,T=f.c;if(!D||!D[0]||!T||!T[0]){return new M(!i.s||!f.s||(D?T&&D[0]==T[0]:!T)?NaN:D&&D[0]==0||!T?L*0:L/0)}N=new M(L);O=N.c=[];h=i.e-f.e;L=s+h+1;if(!c){c=o;h=p(i.e/l)-p(f.e/l);L=L/l|0}for(g=0;T[g]==(D[g]||0);g++);if(T[g]>(D[g]||0))h--;if(L<0){O.push(1);w=true}else{R=D.length;S=T.length;g=0;L+=2;d=t(c/(T[0]+1));if(d>1){T=e(T,d,c);D=e(D,d,c);S=T.length;R=D.length}A=S;y=D.slice(0,S);b=y.length;for(;b<S;y[b++]=0);_=T.slice();_=[0].concat(_);P=T[0];if(T[1]>=c/2)P++;do{d=0;a=r(T,y,S,b);if(a<0){E=y[0];if(S!=b)E=E*c+(y[1]||0);d=t(E/P);if(d>1){if(d>=c)d=c-1;m=e(T,d,c);v=m.length;b=y.length;while(r(m,y,v,b)==1){d--;n(m,S<v?_:T,v,c);v=m.length;a=1}}else{if(d==0){a=d=1}m=T.slice();v=m.length}if(v<b)m=[0].concat(m);n(y,m,b,c);b=y.length;if(a==-1){while(r(T,y,S,b)<1){d++;n(y,S<b?_:T,b,c);b=y.length}}}else if(a===0){d++;y=[0]}O[g++]=d;if(y[0]){y[b++]=D[A]||0}else{y=[D[A]];b=1}}while((A++<R||y[0]!=null)&&L--);w=y[0]!=null;if(!O[0])O.splice(0,1)}if(c==o){for(g=1,L=O[0];L>=10;L/=10,g++);G(N,s+(N.e=g+h*l-1)+1,u,w)}else{N.e=h;N.r=+w}return N}}();function U(e,r,n,i){var t,f,s,o,l;if(n==null)n=P;else m(n,0,8);if(!e.c)return e.toString();t=e.c[0];s=e.e;if(r==null){l=w(e.c);l=i==1||i==2&&s<=S?N(l,s):O(l,s,"0")}else{e=G(new M(e),r,n);f=e.e;l=w(e.c);o=l.length;if(i==1||i==2&&(r<=f||f<=S)){for(;o<r;l+="0",o++);l=N(l,f)}else{r-=s;l=O(l,f,"0");if(f+1>o){if(--r>0)for(l+=".";r--;l+="0");}else{r+=f-o;if(r>0){if(f+1==o)l+=".";for(;r--;l+="0");}}}}return e.s<0&&t?"-"+l:l}function F(e,r){var n,i,t=0;if(v(e[0]))e=e[0];n=new M(e[0]);for(;++t<e.length;){i=new M(e[t]);if(!i.s){n=i;break}else if(r.call(n,i)){n=i}}return n}function k(e,r,n){var i=1,t=r.length;for(;!r[--t];r.pop());for(t=r[0];t>=10;t/=10,i++);if((n=i+n*l-1)>D){e.c=e.e=null}else if(n<L){e.c=[e.e=0]}else{e.e=n;e.c=r}return e}b=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,t=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,o,l,u){var c,a=l?o:o.replace(t,"");if(i.test(a)){s.s=isNaN(a)?null:a<0?-1:1;s.c=s.e=null}else{if(!l){a=a.replace(e,function(e,r,n){c=(n=n.toLowerCase())=="x"?16:n=="b"?2:8;return!u||u==c?r:e});if(u){c=u;a=a.replace(r,"$1").replace(n,"0.$1")}if(o!=a)return new M(a,c)}throw Error(f+"Not a"+(u?" base "+u:"")+" number: "+o)}}}();function G(e,r,n,f){var s,u,a,h,g,p,w,d=e.c,m=c;if(d){e:{for(s=1,h=d[0];h>=10;h/=10,s++);u=r-s;if(u<0){u+=l;a=r;g=d[p=0];w=g/m[s-a-1]%10|0}else{p=i((u+1)/l);if(p>=d.length){if(f){for(;d.length<=p;d.push(0));g=w=0;s=1;u%=l;a=u-l+1}else{break e}}else{g=h=d[p];for(s=1;h>=10;h/=10,s++);u%=l;a=u-l+s;w=a<0?0:g/m[s-a-1]%10|0}}f=f||r<0||d[p+1]!=null||(a<0?g:g%m[s-a-1]);f=n<4?(w||f)&&(n==0||n==(e.s<0?3:2)):w>5||w==5&&(n==4||f||n==6&&(u>0?a>0?g/m[s-a]:0:d[p-1])%10&1||n==(e.s<0?8:7));if(r<1||!d[0]){d.length=0;if(f){r-=e.e+1;d[0]=m[(l-r%l)%l];e.e=-r||0}else{d[0]=e.e=0}return e}if(u==0){d.length=p;h=1;p--}else{d.length=p+1;h=m[l-u];d[p]=a>0?t(g/m[s-a]%m[a])*h:0}if(f){for(;;){if(p==0){for(u=1,a=d[0];a>=10;a/=10,u++);a=d[0]+=h;for(h=1;a>=10;a/=10,h++);if(u!=h){e.e++;if(d[0]==o)d[0]=1}break}else{d[p]+=h;if(d[p]!=o)break;d[p--]=0;h=1}}}for(u=d.length;d[--u]===0;d.pop());}if(e.e>D){e.c=e.e=null}else if(e.e<L){e.c=[e.e=0]}}return e}E.absoluteValue=E.abs=function(){var e=new M(this);if(e.s<0)e.s=1;return e};E.comparedTo=function(e,r){return d(this,new M(e,r))};E.decimalPlaces=E.dp=function(e,r){var n,i,t,f=this;if(e!=null){m(e,0,h);if(r==null)r=P;else m(r,0,8);return G(new M(f),e+f.e+1,r)}if(!(n=f.c))return null;i=((t=n.length-1)-p(this.e/l))*l;if(t=n[t])for(;t%10==0;t/=10,i--);if(i<0)i=0;return i};E.dividedBy=E.div=function(e,n){return r(this,new M(e,n),R,P)};E.dividedToIntegerBy=E.idiv=function(e,n){return r(this,new M(e,n),0,1)};E.isEqualTo=E.eq=function(e,r){return d(this,new M(e,r))===0};E.integerValue=function(e){var r=new M(this);if(e==null)e=P;else m(e,0,8);return G(r,r.e+1,e)};E.isGreaterThan=E.gt=function(e,r){return d(this,new M(e,r))>0};E.isGreaterThanOrEqualTo=E.gte=function(e,r){return(r=d(this,new M(e,r)))===1||r===0};E.isFinite=function(){return!!this.c};E.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2};E.isNaN=function(){return!this.s};E.isNegative=function(){return this.s<0};E.isPositive=function(){return this.s>0};E.isZero=function(){return!!this.c&&this.c[0]==0};E.isLessThan=E.lt=function(e,r){return d(this,new M(e,r))<0};E.isLessThanOrEqualTo=E.lte=function(e,r){return(r=d(this,new M(e,r)))===-1||r===0};E.minus=function(e,r){var n,i,t,f,s=this,u=s.s;e=new M(e,r);r=e.s;if(!u||!r)return new M(NaN);if(u!=r){e.s=-r;return s.plus(e)}var c=s.e/l,a=e.e/l,h=s.c,g=e.c;if(!c||!a){if(!h||!g)return h?(e.s=-r,e):new M(g?s:NaN);if(!h[0]||!g[0]){return g[0]?(e.s=-r,e):new M(h[0]?s:P==3?-0:0)}}c=p(c);a=p(a);h=h.slice();if(u=c-a){if(f=u<0){u=-u;t=h}else{a=c;t=g}t.reverse();for(r=u;r--;t.push(0));t.reverse()}else{i=(f=(u=h.length)<(r=g.length))?u:r;for(u=r=0;r<i;r++){if(h[r]!=g[r]){f=h[r]<g[r];break}}}if(f)t=h,h=g,g=t,e.s=-e.s;r=(i=g.length)-(n=h.length);if(r>0)for(;r--;h[n++]=0);r=o-1;for(;i>u;){if(h[--i]<g[i]){for(n=i;n&&!h[--n];h[n]=r);--h[n];h[i]+=o}h[i]-=g[i]}for(;h[0]==0;h.splice(0,1),--a);if(!h[0]){e.s=P==3?-1:1;e.c=[e.e=0];return e}return k(e,h,a)};E.modulo=E.mod=function(e,n){var i,t,f=this;e=new M(e,n);if(!f.c||!e.s||e.c&&!e.c[0]){return new M(NaN)}else if(!e.c||f.c&&!f.c[0]){return new M(f)}if(I==9){t=e.s;e.s=1;i=r(f,e,0,3);e.s=t;i.s*=t}else{i=r(f,e,0,I)}return f.minus(i.times(e))};E.multipliedBy=E.times=function(e,r){var n,i,t,f,s,u,c,h,g,w,d,m,v,N,O,y=this,b=y.c,E=(e=new M(e,r)).c;if(!b||!E||!b[0]||!E[0]){if(!y.s||!e.s||b&&!b[0]&&!E||E&&!E[0]&&!b){e.c=e.e=e.s=null}else{e.s*=y.s;if(!b||!E){e.c=e.e=null}else{e.c=[0];e.e=0}}return e}i=p(y.e/l)+p(e.e/l);e.s*=y.s;c=b.length;w=E.length;if(c<w)v=b,b=E,E=v,t=c,c=w,w=t;for(t=c+w,v=[];t--;v.push(0));N=o;O=a;for(t=w;--t>=0;){n=0;d=E[t]%O;m=E[t]/O|0;for(s=c,f=t+s;f>t;){h=b[--s]%O;g=b[s]/O|0;u=m*h+g*d;h=d*h+u%O*O+v[f]+n;n=(h/N|0)+(u/O|0)+m*g;v[f--]=h%N}v[f]=n}if(n){++i}else{v.splice(0,1)}return k(e,v,i)};E.negated=function(){var e=new M(this);e.s=-e.s||null;return e};E.plus=function(e,r){var n,i=this,t=i.s;e=new M(e,r);r=e.s;if(!t||!r)return new M(NaN);if(t!=r){e.s=-r;return i.minus(e)}var f=i.e/l,s=e.e/l,u=i.c,c=e.c;if(!f||!s){if(!u||!c)return new M(t/0);if(!u[0]||!c[0])return c[0]?e:new M(u[0]?i:t*0)}f=p(f);s=p(s);u=u.slice();if(t=f-s){if(t>0){s=f;n=c}else{t=-t;n=u}n.reverse();for(;t--;n.push(0));n.reverse()}t=u.length;r=c.length;if(t-r<0)n=c,c=u,u=n,r=t;for(t=0;r;){t=(u[--r]=u[r]+c[r]+t)/o|0;u[r]=o===u[r]?0:u[r]%o}if(t){u=[t].concat(u);++s}return k(e,u,s)};E.precision=E.sd=function(e,r){var n,i,t,f=this;if(e!=null&&e!==!!e){m(e,1,h);if(r==null)r=P;else m(r,0,8);return G(new M(f),e,r)}if(!(n=f.c))return null;t=n.length-1;i=t*l+1;if(t=n[t]){for(;t%10==0;t/=10,i--);for(t=n[0];t>=10;t/=10,i++);}if(e&&f.e+1>i)i=f.e+1;return i};E.shiftedBy=function(e){m(e,-u,u);return this.times("1e"+e)};E.squareRoot=E.sqrt=function(){var e,n,i,t,f,s=this,o=s.c,l=s.s,u=s.e,c=R+4,a=new M("0.5");if(l!==1||!o||!o[0]){return new M(!l||l<0&&(!o||o[0])?NaN:o?s:1/0)}l=Math.sqrt(+s);if(l==0||l==1/0){n=w(o);if((n.length+u)%2==0)n+="0";l=Math.sqrt(n);u=p((u+1)/2)-(u<0||u%2);if(l==1/0){n="1e"+u}else{n=l.toExponential();n=n.slice(0,n.indexOf("e")+1)+u}i=new M(n)}else{i=new M(l+"")}if(i.c[0]){u=i.e;l=u+c;if(l<3)l=0;for(;;){f=i;i=a.times(f.plus(r(s,f,c,1)));if(w(f.c).slice(0,l)===(n=w(i.c)).slice(0,l)){if(i.e<u)--l;n=n.slice(l-3,l+1);if(n=="9999"||!t&&n=="4999"){if(!t){G(f,f.e+R+2,0);if(f.times(f).eq(s)){i=f;break}}c+=4;l+=4;t=1}else{if(!+n||!+n.slice(1)&&n.charAt(0)=="5"){G(i,i.e+R+2,1);e=!i.times(i).eq(s)}break}}}}return G(i,i.e+R+1,P,e)};E.toExponential=function(e,r){if(e!=null){m(e,0,h);e++}return U(this,e,r,1)};E.toFixed=function(e,r){if(e!=null){m(e,0,h);e=e+this.e+1}return U(this,e,r)};E.toFormat=function(e,r){var n=this.toFixed(e,r);if(this.c){var i,t=n.split("."),f=+x.groupSize,s=+x.secondaryGroupSize,o=x.groupSeparator,l=t[0],u=t[1],c=this.s<0,a=c?l.slice(1):l,h=a.length;if(s)i=f,f=s,s=i,h-=i;if(f>0&&h>0){i=h%f||f;l=a.substr(0,i);for(;i<h;i+=f){l+=o+a.substr(i,f)}if(s>0)l+=o+a.slice(i);if(c)l="-"+l}n=u?l+x.decimalSeparator+((s=+x.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+x.fractionGroupSeparator):u):l}return n};E.toFraction=function(e){var n,i,t,s,o,u,a,h,g,p,d,m,v=this,N=v.c;if(e!=null){h=new M(e);if(!h.isInteger()||h.lt(A)){throw Error(f+"Argument "+(h.isInteger()?"out of range: ":"not an integer: ")+e)}}if(!N)return v.toString();i=new M(A);p=t=new M(A);s=g=new M(A);m=w(N);u=i.e=m.length-v.e-1;i.c[0]=c[(a=u%l)<0?l+a:a];e=!e||h.comparedTo(i)>0?u>0?i:p:h;a=D;D=1/0;h=new M(m);g.c[0]=0;for(;;){d=r(h,i,0,1);o=t.plus(d.times(s));if(o.comparedTo(e)==1)break;t=s;s=o;p=g.plus(d.times(o=p));g=o;i=h.minus(d.times(o=i));h=o}o=r(e.minus(t),s,0,1);g=g.plus(o.times(p));t=t.plus(o.times(s));g.s=p.s=v.s;u*=2;n=r(p,s,u,P).minus(v).abs().comparedTo(r(g,t,u,P).minus(v).abs())<1?[p.toString(),s.toString()]:[g.toString(),t.toString()];D=a;return n};E.toNumber=function(){return+this};E.exponentiatedBy=E.pow=function(e,r){var n,f,s,o,c=this;m(e,-u,u);if(r!=null)r=new M(r);if(r){if(e>1&&c.gt(A)&&c.isInteger()&&r.gt(A)&&r.isInteger()){c=c.mod(r)}else{o=r;r=null}}else if(B){f=i(B/l+2)}s=new M(A);for(n=t(e<0?-e:e);;){if(n%2){s=s.times(c);if(!s.c)break;if(f){if(s.c.length>f)s.c.length=f}else if(r){s=s.mod(r)}}n=t(n/2);if(!n)break;c=c.times(c);if(f){if(c.c&&c.c.length>f)c.c.length=f}else if(r){c=c.mod(r)}}if(r)return s;if(e<0)s=A.div(s);return o?s.mod(o):f?G(s,B,P):s};E.toPrecision=function(e,r){if(e!=null)m(e,1,h);return U(this,e,r,2)};E.toString=function(e){var r,n=this,i=n.s,t=n.e;if(t===null){if(i){r="Infinity";if(i<0)r="-"+r}else{r="NaN"}}else{r=w(n.c);if(e==null){r=t<=S||t>=_?N(r,t):O(r,t,"0")}else{m(e,2,C.length,"Base");r=y(O(r,t,"0"),10,e,i,true)}if(i<0&&n.c[0])r="-"+r}return r};E.valueOf=E.toJSON=function(){var e,r=this,n=r.e;if(n===null)return r.toString();e=w(r.c);e=n<=S||n>=_?N(e,n):O(e,n,"0");return r.s<0?"-"+e:e};E._isBigNumber=true;if(e!=null)M.set(e);return M}function p(e){var r=e|0;return e>0||e===r?r:r-1}function w(e){var r,n,i=1,t=e.length,f=e[0]+"";for(;i<t;){r=e[i++]+"";n=l-r.length;for(;n--;r="0"+r);f+=r}for(t=f.length;f.charCodeAt(--t)===48;);return f.slice(0,t+1||1)}function d(e,r){var n,i,t=e.c,f=r.c,s=e.s,o=r.s,l=e.e,u=r.e;if(!s||!o)return null;n=t&&!t[0];i=f&&!f[0];if(n||i)return n?i?0:-o:s;if(s!=o)return s;n=s<0;i=l==u;if(!t||!f)return i?0:!t^n?1:-1;if(!i)return l>u^n?1:-1;o=(l=t.length)<(u=f.length)?l:u;for(s=0;s<o;s++)if(t[s]!=f[s])return t[s]>f[s]^n?1:-1;return l==u?0:l>u^n?1:-1}function m(e,r,n,s){if(e<r||e>n||e!==(e<0?i(e):t(e))){throw Error(f+(s||"Argument")+(typeof e=="number"?e<r||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}}function v(e){return Object.prototype.toString.call(e)=="[object Array]"}function N(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function O(e,r,n){var i,t;if(r<0){for(t=n+".";++r;t+=n);e=t+e}else{i=e.length;if(++r>i){for(t=n,r-=i;--r;t+=n);e+=t}else if(r<i){e=e.slice(0,r)+"."+e.slice(r)}}return e}r=g();r["default"]=r.BigNumber=r;if(typeof define=="function"&&define.amd){define(function(){return r})}else if(typeof module!="undefined"&&module.exports){module.exports=r}else{if(!e){e=typeof self!="undefined"?self:Function("return this")()}e.BigNumber=r}})(this);
},
	"sap/ui/thirdparty/d3.js":function(){
/*!
 * D3 v3.4.12 - http://d3js.org/
 *
 * Copyright (c) 2010-2014, Michael Bostock
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(){var n={version:"3.4.12"};if(!Date.now)Date.now=function(){return+new Date};var t=[].slice,e=function(n){return t.call(n)};var r=document,i=r.documentElement,u=window;try{e(i.childNodes)[0].nodeType}catch(n){e=function(n){var t=n.length,e=new Array(t);while(t--)e[t]=n[t];return e}}try{r.createElement("div").style.setProperty("opacity",0,"")}catch(n){var o=u.Element.prototype,a=o.setAttribute,f=o.setAttributeNS,l=u.CSSStyleDeclaration.prototype,c=l.setProperty;o.setAttribute=function(n,t){a.call(this,n,t+"")};o.setAttributeNS=function(n,t,e){f.call(this,n,t,e+"")};l.setProperty=function(n,t,e){c.call(this,n,t+"",e)}}n.ascending=s;function s(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};n.min=function(n,t){var e=-1,r=n.length,i,u;if(arguments.length===1){while(++e<r&&!((i=n[e])!=null&&i<=i))i=undefined;while(++e<r)if((u=n[e])!=null&&i>u)i=u}else{while(++e<r&&!((i=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null&&i>u)i=u}return i};n.max=function(n,t){var e=-1,r=n.length,i,u;if(arguments.length===1){while(++e<r&&!((i=n[e])!=null&&i<=i))i=undefined;while(++e<r)if((u=n[e])!=null&&u>i)i=u}else{while(++e<r&&!((i=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null&&u>i)i=u}return i};n.extent=function(n,t){var e=-1,r=n.length,i,u,o;if(arguments.length===1){while(++e<r&&!((i=o=n[e])!=null&&i<=i))i=o=undefined;while(++e<r)if((u=n[e])!=null){if(i>u)i=u;if(o<u)o=u}}else{while(++e<r&&!((i=o=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null){if(i>u)i=u;if(o<u)o=u}}return[i,o]};n.sum=function(n,t){var e=0,r=n.length,i,u=-1;if(arguments.length===1){while(++u<r)if(!isNaN(i=+n[u]))e+=i}else{while(++u<r)if(!isNaN(i=+t.call(n,n[u],u)))e+=i}return e};function h(n){return n!=null&&!isNaN(n)}n.mean=function(n,t){var e=0,r=n.length,i,u=-1,o=r;if(arguments.length===1){while(++u<r)if(h(i=n[u]))e+=i;else--o}else{while(++u<r)if(h(i=t.call(n,n[u],u)))e+=i;else--o}return o?e/o:undefined};n.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i};n.median=function(t,e){if(arguments.length>1)t=t.map(e);t=t.filter(h);return t.length?n.quantile(t.sort(s),.5):undefined};function p(n){return{left:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)<0)r=u+1;else i=u}return r},right:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)>0)i=u;else r=u+1}return r}}}var g=p(s);n.bisectLeft=g.left;n.bisect=n.bisectRight=g.right;n.bisector=function(n){return p(n.length===1?function(t,e){return s(n(t),e)}:n)};n.shuffle=function(n){var t=n.length,e,r;while(t){r=Math.random()*t--|0;e=n[t],n[t]=n[r],n[r]=e}return n};n.permute=function(n,t){var e=t.length,r=new Array(e);while(e--)r[e]=n[t[e]];return r};n.pairs=function(n){var t=0,e=n.length-1,r,i=n[0],u=new Array(e<0?0:e);while(t<e)u[t]=[r=i,i=n[++t]];return u};n.zip=function(){if(!(u=arguments.length))return[];for(var t=-1,e=n.min(arguments,v),r=new Array(e);++t<e;){for(var i=-1,u,o=r[t]=new Array(u);++i<u;){o[i]=arguments[i][t]}}return r};function v(n){return n.length}n.transpose=function(t){return n.zip.apply(n,t)};n.keys=function(n){var t=[];for(var e in n)t.push(e);return t};n.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t};n.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t};n.merge=function(n){var t=n.length,e,r=-1,i=0,u,o;while(++r<t)i+=n[r].length;u=new Array(i);while(--t>=0){o=n[t];e=o.length;while(--e>=0){u[--i]=o[e]}}return u};var d=Math.abs;n.range=function(n,t,e){if(arguments.length<3){e=1;if(arguments.length<2){t=n;n=0}}if((t-n)/e===Infinity)throw new Error("infinite range");var r=[],i=y(d(e)),u=-1,o;n*=i,t*=i,e*=i;if(e<0)while((o=n+e*++u)>t)r.push(o/i);else while((o=n+e*++u)<t)r.push(o/i);return r};function y(n){var t=1;while(n*t%1)t*=10;return t}function m(n,t){try{for(var e in t){Object.defineProperty(n.prototype,e,{value:t[e],enumerable:false})}}catch(e){n.prototype=t}}n.map=function(n){var t=new x;if(n instanceof x)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t};function x(){}m(x,{has:_,get:function(n){return this[M+n]},set:function(n,t){return this[M+n]=t},remove:b,keys:S,values:function(){var n=[];this.forEach(function(t,e){n.push(e)});return n},entries:function(){var n=[];this.forEach(function(t,e){n.push({key:t,value:e})});return n},size:k,empty:N,forEach:function(n){for(var t in this)if(t.charCodeAt(0)===w)n.call(this,t.slice(1),this[t])}});var M="\0",w=M.charCodeAt(0);function _(n){return M+n in this}function b(n){n=M+n;return n in this&&delete this[n]}function S(){var n=[];this.forEach(function(t){n.push(t)});return n}function k(){var n=0;for(var t in this)if(t.charCodeAt(0)===w)++n;return n}function N(){for(var n in this)if(n.charCodeAt(0)===w)return false;return true}n.nest=function(){var t={},e=[],r=[],i,u;function o(n,r,a){if(a>=e.length)return u?u.call(t,r):i?r.sort(i):r;var f=-1,l=r.length,c=e[a++],s,h,p,g=new x,v;while(++f<l){if(v=g.get(s=c(h=r[f]))){v.push(h)}else{g.set(s,[h])}}if(n){h=n();p=function(t,e){h.set(t,o(n,e,a))}}else{h={};p=function(t,e){h[t]=o(n,e,a)}}g.forEach(p);return h}function a(n,t){if(t>=e.length)return n;var i=[],u=r[t++];n.forEach(function(n,e){i.push({key:n,values:a(e,t)})});return u?i.sort(function(n,t){return u(n.key,t.key)}):i}t.map=function(n,t){return o(t,n,0)};t.entries=function(t){return a(o(n.map,t,0),0)};t.key=function(n){e.push(n);return t};t.sortKeys=function(n){r[e.length-1]=n;return t};t.sortValues=function(n){i=n;return t};t.rollup=function(n){u=n;return t};return t};n.set=function(n){var t=new E;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t};function E(){}m(E,{has:_,add:function(n){this[M+n]=true;return n},remove:function(n){n=M+n;return n in this&&delete this[n]},values:S,size:k,empty:N,forEach:function(n){for(var t in this)if(t.charCodeAt(0)===w)n.call(this,t.slice(1))}});n.behavior={};n.rebind=function(n,t){var e=1,r=arguments.length,i;while(++e<r)n[i=arguments[e]]=A(n,t,t[i]);return n};function A(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function C(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=z.length;e<r;++e){var i=z[e]+t;if(i in n)return i}}var z=["webkit","ms","moz","Moz","o","O"];function L(){}n.dispatch=function(){var n=new T,t=-1,e=arguments.length;while(++t<e)n[arguments[t]]=q(n);return n};function T(){}T.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0){r=n.slice(e+1);n=n.slice(0,e)}if(n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(arguments.length===2){if(t==null)for(n in this){if(this.hasOwnProperty(n))this[n].on(r,null)}return this}};function q(n){var t=[],e=new x;function r(){var e=t,r=-1,i=e.length,u;while(++r<i)if(u=e[r].on)u.apply(this,arguments);return n}r.on=function(r,i){var u=e.get(r),o;if(arguments.length<2)return u&&u.on;if(u){u.on=null;t=t.slice(0,o=t.indexOf(u)).concat(t.slice(o+1));e.remove(r)}if(i)t.push(e.set(r,{on:i}));return n};return r}n.event=null;function R(){n.event.preventDefault()}function D(){var t=n.event,e;while(e=t.sourceEvent)t=e;return t}function P(t){var e=new T,r=0,i=arguments.length;while(++r<i)e[arguments[r]]=q(e);e.of=function(r,i){return function(u){try{var o=u.sourceEvent=n.event;u.target=t;n.event=u;e[u.type].apply(r,i)}finally{n.event=o}}};return e}n.requote=function(n){return n.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var j={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]};function I(n){j(n,Z);return n}var H=function(n,t){return t.querySelector(n)},F=function(n,t){return t.querySelectorAll(n)},O=i.matches||i[C(i,"matchesSelector")],Y=function(n,t){return O.call(n,t)};if(typeof Sizzle==="function"){H=function(n,t){return Sizzle(n,t)[0]||null};F=Sizzle;Y=Sizzle.matchesSelector}n.selection=function(){return hn};var Z=n.selection.prototype=[];Z.select=function(n){var t=[],e,r,i,u;n=V(n);for(var o=-1,a=this.length;++o<a;){t.push(e=[]);e.parentNode=(i=this[o]).parentNode;for(var f=-1,l=i.length;++f<l;){if(u=i[f]){e.push(r=n.call(u,u.__data__,f,o));if(r&&"__data__"in u)r.__data__=u.__data__}else{e.push(null)}}}return I(t)};function V(n){return typeof n==="function"?n:function(){return H(n,this)}}Z.selectAll=function(n){var t=[],r,i;n=X(n);for(var u=-1,o=this.length;++u<o;){for(var a=this[u],f=-1,l=a.length;++f<l;){if(i=a[f]){t.push(r=e(n.call(i,i.__data__,f,u)));r.parentNode=i}}}return I(t)};function X(n){return typeof n==="function"?n:function(){return F(n,this)}}var $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:$,qualify:function(n){var t=n.indexOf(":"),e=n;if(t>=0){e=n.slice(0,t);n=n.slice(t+1)}return $.hasOwnProperty(e)?{space:$[e],local:n}:n}};Z.attr=function(t,e){if(arguments.length<2){if(typeof t==="string"){var r=this.node();t=n.ns.qualify(t);return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(B(e,t[e]));return this}return this.each(B(t,e))};function B(t,e){t=n.ns.qualify(t);function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function u(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}function f(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}return e==null?t.local?i:r:typeof e==="function"?t.local?f:a:t.local?o:u}function W(n){return n.trim().replace(/\s+/g," ")}Z.classed=function(n,t){if(arguments.length<2){if(typeof n==="string"){var e=this.node(),r=(n=G(n)).length,i=-1;if(t=e.classList){while(++i<r)if(!t.contains(n[i]))return false}else{t=e.getAttribute("class");while(++i<r)if(!J(n[i]).test(t))return false}return true}for(t in n)this.each(K(t,n[t]));return this}return this.each(K(n,t))};function J(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function G(n){return(n+"").trim().split(/^|\s+/)}function K(n,t){n=G(n).map(Q);var e=n.length;function r(){var r=-1;while(++r<e)n[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<e)n[r](this,i)}return typeof t==="function"?i:r}function Q(n){var t=J(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";if(r){t.lastIndex=0;if(!t.test(i))e.setAttribute("class",W(i+" "+n))}else{e.setAttribute("class",W(i.replace(t," ")))}}}Z.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t="";for(e in n)this.each(nn(e,n[e],t));return this}if(r<2)return u.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(nn(n,t,e))};function nn(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(n);else this.style.setProperty(n,r,e)}return t==null?r:typeof t==="function"?u:i}Z.property=function(n,t){if(arguments.length<2){if(typeof n==="string")return this.node()[n];for(t in n)this.each(tn(t,n[t]));return this}return this.each(tn(n,t))};function tn(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);if(e==null)delete this[n];else this[n]=e}return t==null?e:typeof t==="function"?i:r}Z.text=function(n){return arguments.length?this.each(typeof n==="function"?function(){var t=n.apply(this,arguments);this.textContent=t==null?"":t}:n==null?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent};Z.html=function(n){return arguments.length?this.each(typeof n==="function"?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?"":t}:n==null?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML};Z.append=function(n){n=en(n);return this.select(function(){return this.appendChild(n.apply(this,arguments))})};function en(t){return typeof t==="function"?t:(t=n.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}Z.insert=function(n,t){n=en(n);t=V(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})};Z.remove=function(){return this.each(function(){var n=this.parentNode;if(n)n.removeChild(this)})};Z.data=function(n,t){var e=-1,r=this.length,i,u;if(!arguments.length){n=new Array(r=(i=this[0]).length);while(++e<r){if(u=i[e]){n[e]=u.__data__}}return n}function o(n,e){var r,i=n.length,u=e.length,o=Math.min(i,u),c=new Array(u),s=new Array(u),h=new Array(i),p,g;if(t){var v=new x,d=new x,y=[],m;for(r=-1;++r<i;){m=t.call(p=n[r],p.__data__,r);if(v.has(m)){h[r]=p}else{v.set(m,p)}y.push(m)}for(r=-1;++r<u;){m=t.call(e,g=e[r],r);if(p=v.get(m)){c[r]=p;p.__data__=g}else if(!d.has(m)){s[r]=rn(g)}d.set(m,g);v.remove(m)}for(r=-1;++r<i;){if(v.has(y[r])){h[r]=n[r]}}}else{for(r=-1;++r<o;){p=n[r];g=e[r];if(p){p.__data__=g;c[r]=p}else{s[r]=rn(g)}}for(;r<u;++r){s[r]=rn(e[r])}for(;r<i;++r){h[r]=n[r]}}s.update=c;s.parentNode=c.parentNode=h.parentNode=n.parentNode;a.push(s);f.push(c);l.push(h)}var a=fn([]),f=I([]),l=I([]);if(typeof n==="function"){while(++e<r){o(i=this[e],n.call(i,i.parentNode.__data__,e))}}else{while(++e<r){o(i=this[e],n)}}f.enter=function(){return a};f.exit=function(){return l};return f};function rn(n){return{__data__:n}}Z.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")};Z.filter=function(n){var t=[],e,r,i;if(typeof n!=="function")n=un(n);for(var u=0,o=this.length;u<o;u++){t.push(e=[]);e.parentNode=(r=this[u]).parentNode;for(var a=0,f=r.length;a<f;a++){if((i=r[a])&&n.call(i,i.__data__,a,u)){e.push(i)}}}return I(t)};function un(n){return function(){return Y(this,n)}}Z.order=function(){for(var n=-1,t=this.length;++n<t;){for(var e=this[n],r=e.length-1,i=e[r],u;--r>=0;){if(u=e[r]){if(i&&i!==u.nextSibling)i.parentNode.insertBefore(u,i);i=u}}}return this};Z.sort=function(n){n=on.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()};function on(n){if(!arguments.length)n=s;return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}Z.each=function(n){return an(this,function(t,e,r){n.call(t,t.__data__,e,r)})};function an(n,t){for(var e=0,r=n.length;e<r;e++){for(var i=n[e],u=0,o=i.length,a;u<o;u++){if(a=i[u])t(a,u,e)}}return n}Z.call=function(n){var t=e(arguments);n.apply(t[0]=this,t);return this};Z.empty=function(){return!this.node()};Z.node=function(){for(var n=0,t=this.length;n<t;n++){for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}}return null};Z.size=function(){var n=0;an(this,function(){++n});return n};function fn(n){j(n,ln);return n}var ln=[];n.selection.enter=fn;n.selection.enter.prototype=ln;ln.append=Z.append;ln.empty=Z.empty;ln.node=Z.node;ln.call=Z.call;ln.size=Z.size;ln.select=function(n){var t=[],e,r,i,u,o;for(var a=-1,f=this.length;++a<f;){i=(u=this[a]).update;t.push(e=[]);e.parentNode=u.parentNode;for(var l=-1,c=u.length;++l<c;){if(o=u[l]){e.push(i[l]=r=n.call(u.parentNode,o.__data__,l,a));r.__data__=o.__data__}else{e.push(null)}}}return I(t)};ln.insert=function(n,t){if(arguments.length<2)t=cn(this);return Z.insert.call(this,n,t)};function cn(n){var t,e;return function(r,i,u){var o=n[u].update,a=o.length,f;if(u!=e)e=u,t=0;if(i>=t)t=i+1;while(!(f=o[t])&&++t<a);return f}}Z.transition=function(){var n=xf||++mf,t=[],e,r,i=Mf||{time:Date.now(),ease:Lu,delay:0,duration:250};for(var u=-1,o=this.length;++u<o;){t.push(e=[]);for(var a=this[u],f=-1,l=a.length;++f<l;){if(r=a[f])bf(r,f,n,i);e.push(r)}}return df(t,n)};Z.interrupt=function(){return this.each(sn)};function sn(){var n=this.__transition__;if(n)++n.active}n.select=function(n){var t=[typeof n==="string"?H(n,r):n];t.parentNode=i;return I([t])};n.selectAll=function(n){var t=e(typeof n==="string"?F(n,r):n);t.parentNode=i;return I([t])};var hn=n.select(i);Z.on=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t=false;for(e in n)this.each(pn(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=false}return this.each(pn(n,t,e))};function pn(t,r,i){var u="__on"+t,o=t.indexOf("."),a=vn;if(o>0)t=t.slice(0,o);var f=gn.get(t);if(f)t=f,a=dn;function l(){var n=this[u];if(n){this.removeEventListener(t,n,n.$);delete this[u]}}function c(){var n=a(r,e(arguments));l.call(this);this.addEventListener(t,this[u]=n,n.$=i);n._=r}function s(){var e=new RegExp("^__on([^.]+)"+n.requote(t)+"$"),r;for(var i in this){if(r=i.match(e)){var u=this[i];this.removeEventListener(r[1],u,u.$);delete this[i]}}}return o?r?c:l:r?L:s}var gn=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});gn.forEach(function(n){if("on"+n in r)gn.remove(n)});function vn(t,e){return function(r){var i=n.event;n.event=r;e[0]=this.__data__;try{t.apply(this,e)}finally{n.event=i}}}function dn(n,t){var e=vn(n,t);return function(n){var t=this,r=n.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){e.call(t,n)}}}var yn="onselectstart"in r?null:C(i.style,"userSelect"),mn=0;function xn(){var t=".dragsuppress-"+ ++mn,e="click"+t,r=n.select(u).on("touchmove"+t,R).on("dragstart"+t,R).on("selectstart"+t,R);if(yn){var o=i.style,a=o[yn];o[yn]="none"}return function(n){r.on(t,null);if(yn)o[yn]=a;if(n){function i(){r.on(e,null)}r.on(e,function(){R();i()},true);setTimeout(i,0)}}}n.mouse=function(n){return wn(n,D())};var Mn=/WebKit/.test(u.navigator.userAgent)?-1:0;function wn(t,e){if(e.changedTouches)e=e.changedTouches[0];var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Mn<0&&(u.scrollX||u.scrollY)){r=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Mn=!(o.f||o.e);r.remove()}if(Mn)i.x=e.pageX,i.y=e.pageY;else i.x=e.clientX,i.y=e.clientY;i=i.matrixTransform(t.getScreenCTM().inverse());return[i.x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}n.touch=function(n,t,e){if(arguments.length<3)e=t,t=D().changedTouches;if(t)for(var r=0,i=t.length,u;r<i;++r){if((u=t[r]).identifier===e){return wn(n,u)}}};n.behavior.drag=function(){var t=P(u,"drag","dragstart","dragend"),e=null,r=o(L,n.mouse,Sn,"mousemove","mouseup"),i=o(_n,n.touch,bn,"touchmove","touchend");function u(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,u,o,a){return function(){var f=this,l=n.event.target,c=f.parentNode,s=t.of(f,arguments),h=0,p=r(),g=".drag"+(p==null?"":"-"+p),v,d=n.select(u()).on(o+g,x).on(a+g,M),y=xn(),m=i(c,p);if(e){v=e.apply(f,arguments);v=[v.x-m[0],v.y-m[1]]}else{v=[0,0]}s({type:"dragstart"});function x(){var n=i(c,p),t,e;if(!n)return;t=n[0]-m[0];e=n[1]-m[1];h|=t|e;m=n;s({type:"drag",x:n[0]+v[0],y:n[1]+v[1],dx:t,dy:e})}function M(){if(!i(c,p))return;d.on(o+g,null).on(a+g,null);y(h&&n.event.target===l);s({type:"dragend"})}}}u.origin=function(n){if(!arguments.length)return e;e=n;return u};return n.rebind(u,t,"on")};function _n(){return n.event.changedTouches[0].identifier}function bn(){return n.event.target}function Sn(){return u}n.touches=function(n,t){if(arguments.length<2)t=D().touches;return t?e(t).map(function(t){var e=wn(n,t);e.identifier=t.identifier;return e}):[]};var kn=Math.PI,Nn=2*kn,En=kn/2,An=1e-6,Cn=An*An,zn=kn/180,Ln=180/kn;function Tn(n){return n>0?1:n<0?-1:0}function qn(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function Rn(n){return n>1?0:n<-1?kn:Math.acos(n)}function Dn(n){return n>1?En:n<-1?-En:Math.asin(n)}function Pn(n){return((n=Math.exp(n))-1/n)/2}function Un(n){return((n=Math.exp(n))+1/n)/2}function jn(n){return((n=Math.exp(2*n))-1)/(n+1)}function In(n){return(n=Math.sin(n/2))*n}var Hn=Math.SQRT2,Fn=2,On=4;n.interpolateZoom=function(n,t){var e=n[0],r=n[1],i=n[2],u=t[0],o=t[1],a=t[2];var f=u-e,l=o-r,c=f*f+l*l,s=Math.sqrt(c),h=(a*a-i*i+On*c)/(2*i*Fn*s),p=(a*a-i*i-On*c)/(2*a*Fn*s),g=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p),d=v-g,y=(d||Math.log(a/i))/Hn;function m(n){var t=n*y;if(d){var u=Un(g),o=i/(Fn*s)*(u*jn(Hn*t+g)-Pn(g));return[e+o*f,r+o*l,i*u/Un(Hn*t+g)]}return[e+n*f,r+n*l,i*Math.exp(Hn*t)]}m.duration=y*1e3;return m};n.behavior.zoom=function(){var t={x:0,y:0,k:1},e,r,i,o=[960,500],a=Yn,f="mousedown.zoom",l="mousemove.zoom",c="mouseup.zoom",s,h="touchstart.zoom",p,g=P(x,"zoomstart","zoom","zoomend"),v,d,y,m;function x(n){n.on(f,A).on(Vn+".zoom",z).on("dblclick.zoom",L).on(h,C)}x.event=function(e){e.each(function(){var e=g.of(this,arguments),r=t;if(xf){n.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};k(e)}).tween("zoom:zoom",function(){var i=o[0],u=o[1],a=i/2,f=u/2,l=n.interpolateZoom([(a-t.x)/t.k,(f-t.y)/t.k,i/t.k],[(a-r.x)/r.k,(f-r.y)/r.k,i/r.k]);return function(n){var r=l(n),u=i/r[2];this.__chart__=t={x:a-r[0]*u,y:f-r[1]*u,k:u};N(e)}}).each("end.zoom",function(){E(e)})}else{this.__chart__=t;k(e);N(e);E(e)}})};x.translate=function(n){if(!arguments.length)return[t.x,t.y];t={x:+n[0],y:+n[1],k:t.k};S();return x};x.scale=function(n){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:+n};S();return x};x.scaleExtent=function(n){if(!arguments.length)return a;a=n==null?Yn:[+n[0],+n[1]];return x};x.center=function(n){if(!arguments.length)return i;i=n&&[+n[0],+n[1]];return x};x.size=function(n){if(!arguments.length)return o;o=n&&[+n[0],+n[1]];return x};x.x=function(n){if(!arguments.length)return d;d=n;v=n.copy();t={x:0,y:0,k:1};return x};x.y=function(n){if(!arguments.length)return m;m=n;y=n.copy();t={x:0,y:0,k:1};return x};function M(n){return[(n[0]-t.x)/t.k,(n[1]-t.y)/t.k]}function w(n){return[n[0]*t.k+t.x,n[1]*t.k+t.y]}function _(n){t.k=Math.max(a[0],Math.min(a[1],n))}function b(n,e){e=w(e);t.x+=n[0]-e[0];t.y+=n[1]-e[1]}function S(){if(d)d.domain(v.range().map(function(n){return(n-t.x)/t.k}).map(v.invert));if(m)m.domain(y.range().map(function(n){return(n-t.y)/t.k}).map(y.invert))}function k(n){n({type:"zoomstart"})}function N(n){S();n({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function E(n){n({type:"zoomend"})}function A(){var t=this,e=n.event.target,r=g.of(t,arguments),i=0,o=n.select(u).on(l,s).on(c,h),a=M(n.mouse(t)),f=xn();sn.call(t);k(r);function s(){i=1;b(n.mouse(t),a);N(r)}function h(){o.on(l,null).on(c,null);f(i&&n.event.target===e);E(r)}}function C(){var e=this,r=g.of(e,arguments),i={},u=0,o,a=".zoom-"+n.event.changedTouches[0].identifier,l="touchmove"+a,c="touchend"+a,s=[],v=n.select(e),d=xn();sn.call(e);m();k(r);v.on(f,null).on(h,m);function y(){var r=n.touches(e);o=t.k;r.forEach(function(n){if(n.identifier in i)i[n.identifier]=M(n)});return r}function m(){var e=n.event.target;n.select(e).on(l,x).on(c,w);s.push(e);var o=n.event.changedTouches;for(var a=0,f=o.length;a<f;++a){i[o[a].identifier]=null}var h=y(),g=Date.now();if(h.length===1){if(g-p<500){var v=h[0],d=i[v.identifier];_(t.k*2);b(v,d);R();N(r)}p=g}else if(h.length>1){var v=h[0],m=h[1],M=v[0]-m[0],S=v[1]-m[1];u=M*M+S*S}}function x(){var t=n.touches(e),a,f,l,c;for(var s=0,h=t.length;s<h;++s,c=null){l=t[s];if(c=i[l.identifier]){if(f)break;a=l,f=c}}if(c){var g=(g=l[0]-a[0])*g+(g=l[1]-a[1])*g,v=u&&Math.sqrt(g/u);a=[(a[0]+l[0])/2,(a[1]+l[1])/2];f=[(f[0]+c[0])/2,(f[1]+c[1])/2];_(v*o)}p=null;b(a,f);N(r)}function w(){if(n.event.touches.length){var t=n.event.changedTouches;for(var e=0,u=t.length;e<u;++e){delete i[t[e].identifier]}for(var o in i){return void y()}}n.selectAll(s).on(a,null);v.on(f,A).on(h,C);d();E(r)}}function z(){var u=g.of(this,arguments);if(s)clearTimeout(s);else e=M(r=i||n.mouse(this)),sn.call(this),k(u);s=setTimeout(function(){s=null;E(u)},50);R();_(Math.pow(2,Zn()*.002)*t.k);b(r,e);N(u)}function L(){var e=g.of(this,arguments),r=n.mouse(this),i=M(r),u=Math.log(t.k)/Math.LN2;k(e);_(Math.pow(2,n.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1));b(r,i);N(e);E(e)}return n.rebind(x,g,"on")};var Yn=[0,Infinity];var Zn,Vn="onwheel"in r?(Zn=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Zn=function(){return n.event.wheelDelta},"mousewheel"):(Zn=function(){return-n.event.detail},"MozMousePixelScroll");n.color=Xn;function Xn(){}Xn.prototype.toString=function(){return this.rgb()+""};n.hsl=$n;function $n(n,t,e){return this instanceof $n?void(this.h=+n,this.s=+t,this.l=+e):arguments.length<2?n instanceof $n?new $n(n.h,n.s,n.l):vt(""+n,dt,$n):new $n(n,t,e)}var Bn=$n.prototype=new Xn;Bn.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);return new $n(this.h,this.s,this.l/n)};Bn.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new $n(this.h,this.s,n*this.l)};Bn.rgb=function(){return Wn(this.h,this.s,this.l)};function Wn(n,t,e){var r,i;n=isNaN(n)?0:(n%=360)<0?n+360:n;t=isNaN(t)?0:t<0?0:t>1?1:t;e=e<0?0:e>1?1:e;i=e<=.5?e*(1+t):e+t-e*t;r=2*e-i;function u(n){if(n>360)n-=360;else if(n<0)n+=360;if(n<60)return r+(i-r)*n/60;if(n<180)return i;if(n<240)return r+(i-r)*(240-n)/60;return r}function o(n){return Math.round(u(n)*255)}return new ct(o(n+120),o(n),o(n-120))}n.hcl=Jn;function Jn(t,e,r){return this instanceof Jn?void(this.h=+t,this.c=+e,this.l=+r):arguments.length<2?t instanceof Jn?new Jn(t.h,t.c,t.l):t instanceof Qn?ot(t.l,t.a,t.b):ot((t=yt((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Jn(t,e,r)}var Gn=Jn.prototype=new Xn;Gn.brighter=function(n){return new Jn(this.h,this.c,Math.min(100,this.l+nt*(arguments.length?n:1)))};Gn.darker=function(n){return new Jn(this.h,this.c,Math.max(0,this.l-nt*(arguments.length?n:1)))};Gn.rgb=function(){return Kn(this.h,this.c,this.l).rgb()};function Kn(n,t,e){if(isNaN(n))n=0;if(isNaN(t))t=0;return new Qn(e,Math.cos(n*=zn)*t,Math.sin(n)*t)}n.lab=Qn;function Qn(n,t,e){return this instanceof Qn?void(this.l=+n,this.a=+t,this.b=+e):arguments.length<2?n instanceof Qn?new Qn(n.l,n.a,n.b):n instanceof Jn?Kn(n.l,n.c,n.h):yt((n=ct(n)).r,n.g,n.b):new Qn(n,t,e)}var nt=18;var tt=.95047,et=1,rt=1.08883;var it=Qn.prototype=new Xn;it.brighter=function(n){return new Qn(Math.min(100,this.l+nt*(arguments.length?n:1)),this.a,this.b)};it.darker=function(n){return new Qn(Math.max(0,this.l-nt*(arguments.length?n:1)),this.a,this.b)};it.rgb=function(){return ut(this.l,this.a,this.b)};function ut(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;i=at(i)*tt;r=at(r)*et;u=at(u)*rt;return new ct(lt(3.2404542*i-1.5371385*r-.4985314*u),lt(-.969266*i+1.8760108*r+.041556*u),lt(.0556434*i-.2040259*r+1.0572252*u))}function ot(n,t,e){return n>0?new Jn(Math.atan2(e,t)*Ln,Math.sqrt(t*t+e*e),n):new Jn(NaN,NaN,n)}function at(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ft(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function lt(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}n.rgb=ct;function ct(n,t,e){return this instanceof ct?void(this.r=~~n,this.g=~~t,this.b=~~e):arguments.length<2?n instanceof ct?new ct(n.r,n.g,n.b):vt(""+n,ct,Wn):new ct(n,t,e)}function st(n){return new ct(n>>16,n>>8&255,n&255)}function ht(n){return st(n)+""}var pt=ct.prototype=new Xn;pt.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;if(!t&&!e&&!r)return new ct(i,i,i);if(t&&t<i)t=i;if(e&&e<i)e=i;if(r&&r<i)r=i;return new ct(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))};pt.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new ct(n*this.r,n*this.g,n*this.b)};pt.hsl=function(){return dt(this.r,this.g,this.b)};pt.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};function gt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function vt(n,t,e){var r=0,i=0,u=0,o,a,f;o=/([a-z]+)\((.*)\)/i.exec(n);if(o){a=o[2].split(",");switch(o[1]){case"hsl":{return e(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100)}case"rgb":{return t(xt(a[0]),xt(a[1]),xt(a[2]))}}}if(f=Mt.get(n))return t(f.r,f.g,f.b);if(n!=null&&n.charAt(0)==="#"&&!isNaN(f=parseInt(n.slice(1),16))){if(n.length===4){r=(f&3840)>>4;r=r>>4|r;i=f&240;i=i>>4|i;u=f&15;u=u<<4|u}else if(n.length===7){r=(f&16711680)>>16;i=(f&65280)>>8;u=f&255}}return t(r,i,u)}function dt(n,t,e){var r=Math.min(n/=255,t/=255,e/=255),i=Math.max(n,t,e),u=i-r,o,a,f=(i+r)/2;if(u){a=f<.5?u/(i+r):u/(2-i-r);if(n==i)o=(t-e)/u+(t<e?6:0);else if(t==i)o=(e-n)/u+2;else o=(n-t)/u+4;o*=60}else{o=NaN;a=f>0&&f<1?0:o}return new $n(o,a,f)}function yt(n,t,e){n=mt(n);t=mt(t);e=mt(e);var r=ft((.4124564*n+.3575761*t+.1804375*e)/tt),i=ft((.2126729*n+.7151522*t+.072175*e)/et),u=ft((.0193339*n+.119192*t+.9503041*e)/rt);return Qn(116*i-16,500*(r-i),200*(i-u))}function mt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function xt(n){var t=parseFloat(n);return n.charAt(n.length-1)==="%"?Math.round(t*2.55):t}var Mt=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Mt.forEach(function(n,t){Mt.set(n,st(t))});function wt(n){return typeof n==="function"?n:function(){return n}}n.functor=wt;function _t(n){return n}n.xhr=bt(_t);function bt(n){return function(t,e,r){if(arguments.length===2&&typeof e==="function")r=e,e=null;return St(t,e,n,r)}}function St(t,r,i,o){var a={},f=n.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,s=null;if(u.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t))c=new XDomainRequest;"onload"in c?c.onload=c.onerror=h:c.onreadystatechange=function(){c.readyState>3&&h()};function h(){var n=c.status,t;if(!n&&Nt(c)||n>=200&&n<300||n===304){try{t=i.call(a,c)}catch(n){f.error.call(a,n);return}f.load.call(a,t)}else{f.error.call(a,c)}}c.onprogress=function(t){var e=n.event;n.event=t;try{f.progress.call(a,c)}finally{n.event=e}};a.header=function(n,t){n=(n+"").toLowerCase();if(arguments.length<2)return l[n];if(t==null)delete l[n];else l[n]=t+"";return a};a.mimeType=function(n){if(!arguments.length)return r;r=n==null?null:n+"";return a};a.responseType=function(n){if(!arguments.length)return s;s=n;return a};a.response=function(n){i=n;return a};["get","post"].forEach(function(n){a[n]=function(){return a.send.apply(a,[n].concat(e(arguments)))}});a.send=function(n,e,i){if(arguments.length===2&&typeof e==="function")i=e,e=null;c.open(n,t,true);if(r!=null&&!("accept"in l))l["accept"]=r+",*/*";if(c.setRequestHeader)for(var u in l)c.setRequestHeader(u,l[u]);if(r!=null&&c.overrideMimeType)c.overrideMimeType(r);if(s!=null)c.responseType=s;if(i!=null)a.on("error",i).on("load",function(n){i(null,n)});f.beforesend.call(a,c);c.send(e==null?null:e);return a};a.abort=function(){c.abort();return a};n.rebind(a,f,"on");return o==null?a:a.get(kt(o))}function kt(n){return n.length===1?function(t,e){n(t==null?e:null)}:n}function Nt(n){var t=n.responseType;return t&&t!=="text"?n.response:n.responseText}n.dsv=function(n,t){var e=new RegExp('["'+n+"\n]"),r=n.charCodeAt(0);function i(n,e,r){if(arguments.length<3)r=e,e=null;var i=St(n,t,e==null?u:o(e),r);i.row=function(n){return arguments.length?i.response((e=n)==null?u:o(n)):e};return i}function u(n){return i.parse(n.responseText)}function o(n){return function(t){return i.parse(t.responseText,n)}}i.parse=function(n,t){var e;return i.parseRows(n,function(n,r){if(e)return e(n,r-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");e=t?function(n,e){return t(i(n),e)}:i})};i.parseRows=function(n,t){var e={},i={},u=[],o=n.length,a=0,f=0,l,c;function s(){if(a>=o)return i;if(c)return c=false,e;var t=a;if(n.charCodeAt(t)===34){var u=t;while(u++<o){if(n.charCodeAt(u)===34){if(n.charCodeAt(u+1)!==34)break;++u}}a=u+2;var f=n.charCodeAt(u+1);if(f===13){c=true;if(n.charCodeAt(u+2)===10)++a}else if(f===10){c=true}return n.slice(t+1,u).replace(/""/g,'"')}while(a<o){var f=n.charCodeAt(a++),l=1;if(f===10)c=true;else if(f===13){c=true;if(n.charCodeAt(a)===10)++a,++l}else if(f!==r)continue;return n.slice(t,a-l)}return n.slice(t)}while((l=s())!==i){var h=[];while(l!==e&&l!==i){h.push(l);l=s()}if(t&&!(h=t(h,f++)))continue;u.push(h)}return u};i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var e=new E,r=[];t.forEach(function(n){for(var t in n){if(!e.has(t)){r.push(e.add(t))}}});return[r.map(f).join(n)].concat(t.map(function(t){return r.map(function(n){return f(t[n])}).join(n)})).join("\n")};i.formatRows=function(n){return n.map(a).join("\n")};function a(t){return t.map(f).join(n)}function f(n){return e.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return i};n.csv=n.dsv(",","text/csv");n.tsv=n.dsv("\t","text/tab-separated-values");var Et,At,Ct,zt,Lt,Tt=u[C(u,"requestAnimationFrame")]||function(n){setTimeout(n,17)};n.timer=function(n,t,e){var r=arguments.length;if(r<2)t=0;if(r<3)e=Date.now();var i=e+t,u={c:n,t:i,f:false,n:null};if(At)At.n=u;else Et=u;At=u;if(!Ct){zt=clearTimeout(zt);Ct=1;Tt(qt)}};function qt(){var n=Rt(),t=Dt()-n;if(t>24){if(isFinite(t)){clearTimeout(zt);zt=setTimeout(qt,t)}Ct=0}else{Ct=1;Tt(qt)}}n.timer.flush=function(){Rt();Dt()};function Rt(){var n=Date.now();Lt=Et;while(Lt){if(n>=Lt.t)Lt.f=Lt.c(n-Lt.t);Lt=Lt.n}return n}function Dt(){var n,t=Et,e=Infinity;while(t){if(t.f){t=n?n.n=t.n:Et=t.n}else{if(t.t<e)e=t.t;t=(n=t).n}}At=n;return e}function Pt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Ut=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jt);n.formatPrefix=function(t,e){var r=0;if(t){if(t<0)t*=-1;if(e)t=n.round(t,Pt(t,e));r=1+Math.floor(1e-12+Math.log(t)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3))}return Ut[8+r/3]};function jt(n,t){var e=Math.pow(10,d(8-t)*3);return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function It(t){var e=t.decimal,r=t.thousands,i=t.grouping,u=t.currency,o=i?function(n){var t=n.length,e=[],u=0,o=i[0];while(o>0&&t>0){e.push(n.substring(t-=o,t+o));o=i[u=(u+1)%i.length]}return e.reverse().join(r)}:_t;return function(t){var r=Ht.exec(t),i=r[1]||" ",a=r[2]||">",f=r[3]||"",l=r[4]||"",c=r[5],s=+r[6],h=r[7],p=r[8],g=r[9],v=1,d="",y="",m=false;if(p)p=+p.substring(1);if(c||i==="0"&&a==="="){c=i="0";a="=";if(h)s-=Math.floor((s-1)/4)}switch(g){case"n":h=true;g="g";break;case"%":v=100;y="%";g="f";break;case"p":v=100;y="%";g="r";break;case"b":case"o":case"x":case"X":if(l==="#")d="0"+g.toLowerCase();case"c":case"d":m=true;p=0;break;case"s":v=-1;g="r";break}if(l==="$")d=u[0],y=u[1];if(g=="r"&&!p)g="g";if(p!=null){if(g=="g")p=Math.max(1,Math.min(21,p));else if(g=="e"||g=="f")p=Math.max(0,Math.min(20,p))}g=Ft.get(g)||Ot;var x=c&&h;return function(t){var r=y;if(m&&t%1)return"";var u=t<0||t===0&&1/t<0?(t=-t,"-"):f;if(v<0){var l=n.formatPrefix(t,p);t=l.scale(t);r=l.symbol+y}else{t*=v}t=g(t,p);var M=t.lastIndexOf("."),w=M<0?t:t.substring(0,M),_=M<0?"":e+t.substring(M+1);if(!c&&h)w=o(w);var b=d.length+w.length+_.length+(x?0:u.length),S=b<s?new Array(b=s-b+1).join(i):"";if(x)w=o(S+w);u+=d;t=w+_;return(a==="<"?u+t+S:a===">"?S+u+t:a==="^"?S.substring(0,b>>=1)+u+t+S.substring(b):u+(x?t:S+t))+r}}}var Ht=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Ft=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,e){return(t=n.round(t,Pt(t,e))).toFixed(Math.max(0,Math.min(20,Pt(t*(1+1e-15),e))))}});function Ot(n){return n+""}var Yt=n.time={},Zt=Date;function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xt.setUTCDate.apply(this._,arguments)},setDay:function(){Xt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Xt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xt.setTime.apply(this._,arguments)}};var Xt=Date.prototype;function $t(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){t(e=n(new Zt(e-1)),1);return e}function u(n,e){t(n=new Zt(+n),e);return n}function o(n,r,u){var o=i(n),a=[];if(u>1){while(o<r){if(!(e(o)%u))a.push(new Date(+o));t(o,1)}}else{while(o<r)a.push(new Date(+o)),t(o,1)}return a}function a(n,t,e){try{Zt=Vt;var r=new Vt;r._=n;return o(r,t,e)}finally{Zt=Date}}n.floor=n;n.round=r;n.ceil=i;n.offset=u;n.range=o;var f=n.utc=Bt(n);f.floor=f;f.round=Bt(r);f.ceil=Bt(i);f.offset=Bt(u);f.range=a;return n}function Bt(n){return function(t,e){try{Zt=Vt;var r=new Vt;r._=t;return n(r,e)._}finally{Zt=Date}}}Yt.year=$t(function(n){n=Yt.day(n);n.setMonth(0,1);return n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()});Yt.years=Yt.year.range;Yt.years.utc=Yt.year.utc.range;Yt.day=$t(function(n){var t=new Zt(2e3,0);t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());return t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1});Yt.days=Yt.day.range;Yt.days.utc=Yt.day.utc.range;Yt.dayOfYear=function(n){var t=Yt.year(n);return Math.floor((n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=Yt[n]=$t(function(n){(n=Yt.day(n)).setDate(n.getDate()-(n.getDay()+t)%7);return n},function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)},function(n){var e=Yt.year(n).getDay();return Math.floor((Yt.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});Yt[n+"s"]=e.range;Yt[n+"s"].utc=e.utc.range;Yt[n+"OfYear"]=function(n){var e=Yt.year(n).getDay();return Math.floor((Yt.dayOfYear(n)+(e+t)%7)/7)}});Yt.week=Yt.sunday;Yt.weeks=Yt.sunday.range;Yt.weeks.utc=Yt.sunday.utc.range;Yt.weekOfYear=Yt.sundayOfYear;function Wt(t){var e=t.dateTime,r=t.date,i=t.time,u=t.periods,o=t.days,a=t.shortDays,f=t.months,l=t.shortMonths;function c(n){var t=n.length;function e(e){var r=[],i=-1,u=0,o,a,f;while(++i<t){if(n.charCodeAt(i)===37){r.push(n.slice(u,i));if((a=Jt[o=n.charAt(++i)])!=null)o=n.charAt(++i);if(f=w[o])o=f(e,a==null?o==="e"?" ":"0":a);r.push(o);u=i+1}}r.push(n.slice(u,i));return r.join("")}e.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=s(e,n,t,0);if(r!=t.length)return null;if("p"in e)e.H=e.H%12+e.p*12;var i=e.Z!=null&&Zt!==Vt,u=new(i?Vt:Zt);if("j"in e)u.setFullYear(e.y,0,e.j);else if("w"in e&&("W"in e||"U"in e)){u.setFullYear(e.y,0,1);u.setFullYear(e.y,0,"W"in e?(e.w+6)%7+e.W*7-(u.getDay()+5)%7:e.w+e.U*7-(u.getDay()+6)%7)}else u.setFullYear(e.y,e.m,e.d);u.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L);return i?u._:u};e.toString=function(){return n};return e}function s(n,t,e,r){var i,u,o,a=0,f=t.length,l=e.length;while(a<f){if(r>=l)return-1;i=t.charCodeAt(a++);if(i===37){o=t.charAt(a++);u=_[o in Jt?t.charAt(a++):o];if(!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++)){return-1}}return r}c.utc=function(n){var t=c(n);function e(n){try{Zt=Vt;var e=new Zt;e._=n;return t(e)}finally{Zt=Date}}e.parse=function(n){try{Zt=Vt;var e=t.parse(n);return e&&e._}finally{Zt=Date}};e.toString=t.toString;return e};c.multi=c.utc.multi=me;var h=n.map(),p=ne(o),g=te(o),v=ne(a),d=te(a),y=ne(f),m=te(f),x=ne(l),M=te(l);u.forEach(function(n,t){h.set(n.toLowerCase(),t)});var w={a:function(n){return a[n.getDay()]},A:function(n){return o[n.getDay()]},b:function(n){return l[n.getMonth()]},B:function(n){return f[n.getMonth()]},c:c(e),d:function(n,t){return Qt(n.getDate(),t,2)},e:function(n,t){return Qt(n.getDate(),t,2)},H:function(n,t){return Qt(n.getHours(),t,2)},I:function(n,t){return Qt(n.getHours()%12||12,t,2)},j:function(n,t){return Qt(1+Yt.dayOfYear(n),t,3)},L:function(n,t){return Qt(n.getMilliseconds(),t,3)},m:function(n,t){return Qt(n.getMonth()+1,t,2)},M:function(n,t){return Qt(n.getMinutes(),t,2)},p:function(n){return u[+(n.getHours()>=12)]},S:function(n,t){return Qt(n.getSeconds(),t,2)},U:function(n,t){return Qt(Yt.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Qt(Yt.mondayOfYear(n),t,2)},x:c(r),X:c(i),y:function(n,t){return Qt(n.getFullYear()%100,t,2)},Y:function(n,t){return Qt(n.getFullYear()%1e4,t,4)},Z:de,"%":function(){return"%"}};var _={a:b,A:S,b:k,B:N,c:E,d:ce,e:ce,H:he,I:he,j:se,L:ve,m:le,M:pe,p:z,S:ge,U:re,w:ee,W:ie,x:A,X:C,y:oe,Y:ue,Z:ae,"%":ye};function b(n,t,e){v.lastIndex=0;var r=v.exec(t.slice(e));return r?(n.w=d.get(r[0].toLowerCase()),e+r[0].length):-1}function S(n,t,e){p.lastIndex=0;var r=p.exec(t.slice(e));return r?(n.w=g.get(r[0].toLowerCase()),e+r[0].length):-1}function k(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.m=M.get(r[0].toLowerCase()),e+r[0].length):-1}function N(n,t,e){y.lastIndex=0;var r=y.exec(t.slice(e));return r?(n.m=m.get(r[0].toLowerCase()),e+r[0].length):-1}function E(n,t,e){return s(n,w.c.toString(),t,e)}function A(n,t,e){return s(n,w.x.toString(),t,e)}function C(n,t,e){return s(n,w.X.toString(),t,e)}function z(n,t,e){var r=h.get(t.slice(e,e+=2).toLowerCase());return r==null?-1:(n.p=r,e)}return c}var Jt={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,Kt=/^%/;function Qt(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function ne(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function te(n){var t=new x,e=-1,r=n.length;while(++e<r)t.set(n[e].toLowerCase(),e);return t}function ee(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function re(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function ie(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function ue(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function oe(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.y=fe(+r[0]),e+r[0].length):-1}function ae(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function fe(n){return n+(n>68?1900:2e3)}function le(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function ce(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function se(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function he(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function pe(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ge(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ve(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function de(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=d(t)/60|0,i=d(t)%60;return e+Qt(r,"0",2)+Qt(i,"0",2)}function ye(n,t,e){Kt.lastIndex=0;var r=Kt.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function me(n){var t=n.length,e=-1;while(++e<t)n[e][0]=this(n[e][0]);return function(t){var e=0,r=n[e];while(!r[1](t))r=n[++e];return r[0](t)}}n.locale=function(n){return{numberFormat:It(n),timeFormat:Wt(n)}};var xe=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});n.format=xe.numberFormat;n.geo={};function Me(){}Me.prototype={s:0,t:0,add:function(n){_e(n,this.t,we);_e(we.s,this.s,this);if(this.s)this.t+=we.t;else this.s=we.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var we=new Me;function _e(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}n.geo.stream=function(n,t){if(n&&Se.hasOwnProperty(n.type)){Se[n.type](n,t)}else{be(n,t)}};function be(n,t){if(n&&ke.hasOwnProperty(n.type)){ke[n.type](n,t)}}var Se={Feature:function(n,t){be(n.geometry,t)},FeatureCollection:function(n,t){var e=n.features,r=-1,i=e.length;while(++r<i)be(e[r].geometry,t)}};var ke={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Ne(n.coordinates,t,0)},MultiLineString:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)Ne(e[r],t,0)},Polygon:function(n,t){Ee(n.coordinates,t)},MultiPolygon:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)Ee(e[r],t)},GeometryCollection:function(n,t){var e=n.geometries,r=-1,i=e.length;while(++r<i)be(e[r],t)}};function Ne(n,t,e){var r=-1,i=n.length-e,u;t.lineStart();while(++r<i)u=n[r],t.point(u[0],u[1],u[2]);t.lineEnd()}function Ee(n,t){var e=-1,r=n.length;t.polygonStart();while(++e<r)Ne(n[e],t,1);t.polygonEnd()}n.geo.area=function(t){Ae=0;n.geo.stream(t,ze);return Ae};var Ae,Ce=new Me;var ze={sphere:function(){Ae+=4*kn},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Ce.reset();ze.lineStart=Le},polygonEnd:function(){var n=2*Ce;Ae+=n<0?4*kn+n:n;ze.lineStart=ze.lineEnd=ze.point=L}};function Le(){var n,t,e,r,i;ze.point=function(o,a){ze.point=u;e=(n=o)*zn,r=Math.cos(a=(t=a)*zn/2+kn/4),i=Math.sin(a)};function u(n,t){n*=zn;t=t*zn/2+kn/4;var u=n-e,o=u>=0?1:-1,a=o*u,f=Math.cos(t),l=Math.sin(t),c=i*l,s=r*f+c*Math.cos(a),h=c*o*Math.sin(a);Ce.add(Math.atan2(h,s));e=n,r=f,i=l}ze.lineEnd=function(){u(n,t)}}function Te(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function qe(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Re(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function De(n,t){n[0]+=t[0];n[1]+=t[1];n[2]+=t[2]}function Pe(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ue(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t;n[1]/=t;n[2]/=t}function je(n){return[Math.atan2(n[1],n[0]),Dn(n[2])]}function Ie(n,t){return d(n[0]-t[0])<An&&d(n[1]-t[1])<An}n.geo.bounds=function(){var t,e,r,i,u,o,a,f,l,c,s;var h={point:p,lineStart:v,lineEnd:y,polygonStart:function(){h.point=m;h.lineStart=x;h.lineEnd=M;l=0;ze.polygonStart()},polygonEnd:function(){ze.polygonEnd();h.point=p;h.lineStart=v;h.lineEnd=y;if(Ce<0)t=-(r=180),e=-(i=90);else if(l>An)i=90;else if(l<-An)e=-90;s[0]=t,s[1]=r}};function p(n,u){c.push(s=[t=n,r=n]);if(u<e)e=u;if(u>i)i=u}function g(n,o){var a=Te([n*zn,o*zn]);if(f){var l=Re(f,a),c=[l[1],-l[0],0],s=Re(c,l);Ue(s);s=je(s);var h=n-u,g=h>0?1:-1,v=s[0]*Ln*g,y=d(h)>180;if(y^(g*u<v&&v<g*n)){var m=s[1]*Ln;if(m>i)i=m}else if(v=(v+360)%360-180,y^(g*u<v&&v<g*n)){var m=-s[1]*Ln;if(m<e)e=m}else{if(o<e)e=o;if(o>i)i=o}if(y){if(n<u){if(w(t,n)>w(t,r))r=n}else{if(w(n,r)>w(t,r))t=n}}else{if(r>=t){if(n<t)t=n;if(n>r)r=n}else{if(n>u){if(w(t,n)>w(t,r))r=n}else{if(w(n,r)>w(t,r))t=n}}}}else{p(n,o)}f=a,u=n}function v(){h.point=g}function y(){s[0]=t,s[1]=r;h.point=p;f=null}function m(n,t){if(f){var e=n-u;l+=d(e)>180?e+(e>0?360:-360):e}else o=n,a=t;ze.point(n,t);g(n,t)}function x(){ze.lineStart()}function M(){m(o,a);ze.lineEnd();if(d(l)>An)t=-(r=180);s[0]=t,s[1]=r;f=null}function w(n,t){return(t-=n)<0?t+360:t}function _(n,t){return n[0]-t[0]}function b(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}return function(u){i=r=-(t=e=Infinity);c=[];n.geo.stream(u,h);var o=c.length;if(o){c.sort(_);for(var a=1,f=c[0],l,p=[f];a<o;++a){l=c[a];if(b(l[0],f)||b(l[1],f)){if(w(f[0],l[1])>w(f[0],f[1]))f[1]=l[1];if(w(l[0],f[1])>w(f[0],f[1]))f[0]=l[0]}else{p.push(f=l)}}var g=-Infinity,v;for(var o=p.length-1,a=0,f=p[o],l;a<=o;f=l,++a){l=p[a];if((v=w(f[1],l[0]))>g)g=v,t=l[0],r=f[1]}}c=s=null;return t===Infinity||e===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,i]]}}();n.geo.centroid=function(t){He=Fe=Oe=Ye=Ze=Ve=Xe=$e=Be=We=Je=0;n.geo.stream(t,Ge);var e=Be,r=We,i=Je,u=e*e+r*r+i*i;if(u<Cn){e=Ve,r=Xe,i=$e;if(Fe<An)e=Oe,r=Ye,i=Ze;u=e*e+r*r+i*i;if(u<Cn)return[NaN,NaN]}return[Math.atan2(r,e)*Ln,Dn(i/Math.sqrt(u))*Ln]};var He,Fe,Oe,Ye,Ze,Ve,Xe,$e,Be,We,Je;var Ge={sphere:L,point:Ke,lineStart:nr,lineEnd:tr,polygonStart:function(){Ge.lineStart=er},polygonEnd:function(){Ge.lineStart=nr}};function Ke(n,t){n*=zn;var e=Math.cos(t*=zn);Qe(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function Qe(n,t,e){++He;Oe+=(n-Oe)/He;Ye+=(t-Ye)/He;Ze+=(e-Ze)/He}function nr(){var n,t,e;Ge.point=function(i,u){i*=zn;var o=Math.cos(u*=zn);n=o*Math.cos(i);t=o*Math.sin(i);e=Math.sin(u);Ge.point=r;Qe(n,t,e)};function r(r,i){r*=zn;var u=Math.cos(i*=zn),o=u*Math.cos(r),a=u*Math.sin(r),f=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*f-e*a)*l+(l=e*o-n*f)*l+(l=n*a-t*o)*l),n*o+t*a+e*f);Fe+=l;Ve+=l*(n+(n=o));Xe+=l*(t+(t=a));$e+=l*(e+(e=f));Qe(n,t,e)}}function tr(){Ge.point=Ke}function er(){var n,t,e,r,i;Ge.point=function(o,a){n=o,t=a;Ge.point=u;o*=zn;var f=Math.cos(a*=zn);e=f*Math.cos(o);r=f*Math.sin(o);i=Math.sin(a);Qe(e,r,i)};Ge.lineEnd=function(){u(n,t);Ge.lineEnd=tr;Ge.point=Ke};function u(n,t){n*=zn;var u=Math.cos(t*=zn),o=u*Math.cos(n),a=u*Math.sin(n),f=Math.sin(t),l=r*f-i*a,c=i*o-e*f,s=e*a-r*o,h=Math.sqrt(l*l+c*c+s*s),p=e*o+r*a+i*f,g=h&&-Rn(p)/h,v=Math.atan2(h,p);Be+=g*l;We+=g*c;Je+=g*s;Fe+=v;Ve+=v*(e+(e=o));Xe+=v*(r+(r=a));$e+=v*(i+(i=f));Qe(e,r,i)}}function rr(){return true}function ir(n,t,e,r,i){var u=[],o=[];n.forEach(function(n){if((t=n.length-1)<=0)return;var t,e=n[0],r=n[t];if(Ie(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);i.lineEnd();return}var f=new or(e,n,null,true),l=new or(e,null,f,false);f.o=l;u.push(f);o.push(l);f=new or(r,n,null,false);l=new or(r,null,f,true);f.o=l;u.push(f);o.push(l)});o.sort(t);ur(u);ur(o);if(!u.length)return;for(var a=0,f=e,l=o.length;a<l;++a){o[a].e=f=!f}var c=u[0],s,h;while(1){var p=c,g=true;while(p.v)if((p=p.n)===c)return;s=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(g){for(var a=0,l=s.length;a<l;++a)i.point((h=s[a])[0],h[1])}else{r(p.x,p.n.x,1,i)}p=p.n}else{if(g){s=p.p.z;for(var a=s.length-1;a>=0;--a)i.point((h=s[a])[0],h[1])}else{r(p.x,p.p.x,-1,i)}p=p.p}p=p.o;s=p.z;g=!g}while(!p.v);i.lineEnd()}}function ur(n){if(!(t=n.length))return;var t,e=0,r=n[0],i;while(++e<t){r.n=i=n[e];i.p=r;r=i}r.n=i=n[0];i.p=r}function or(n,t,e,r){this.x=n;this.z=t;this.o=e;this.e=r;this.v=false;this.n=this.p=null}function ar(t,e,r,i){return function(u,o){var a=e(o),f=u.invert(i[0],i[1]);var l={point:c,lineStart:h,lineEnd:p,polygonStart:function(){l.point=M;l.lineStart=w;l.lineEnd=_;g=[];m=[]},polygonEnd:function(){l.point=c;l.lineStart=h;l.lineEnd=p;g=n.merge(g);var t=vr(f,m);if(g.length){if(!y)o.polygonStart(),y=true;ir(g,cr,t,r,o)}else if(t){if(!y)o.polygonStart(),y=true;o.lineStart();r(null,null,1,o);o.lineEnd()}if(y)o.polygonEnd(),y=false;g=m=null},sphere:function(){o.polygonStart();o.lineStart();r(null,null,1,o);o.lineEnd();o.polygonEnd()}};function c(n,e){var r=u(n,e);if(t(n=r[0],e=r[1]))o.point(n,e)}function s(n,t){var e=u(n,t);a.point(e[0],e[1])}function h(){l.point=s;a.lineStart()}function p(){l.point=c;a.lineEnd()}var g;var v=lr(),d=e(v),y=false,m,x;function M(n,t){x.push([n,t]);var e=u(n,t);d.point(e[0],e[1])}function w(){d.lineStart();x=[]}function _(){M(x[0][0],x[0][1]);d.lineEnd();var n=d.clean(),t=v.buffer(),e,r=t.length;x.pop();m.push(x);x=null;if(!r)return;if(n&1){e=t[0];var r=e.length-1,i=-1,u;if(r>0){if(!y)o.polygonStart(),y=true;o.lineStart();while(++i<r)o.point((u=e[i])[0],u[1]);o.lineEnd()}return}if(r>1&&n&2)t.push(t.pop().concat(t.shift()));g.push(t.filter(fr))}return l}}function fr(n){return n.length>1}function lr(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:L,buffer:function(){var e=n;n=[];t=null;return e},rejoin:function(){if(n.length>1)n.push(n.pop().concat(n.shift()))}}}function cr(n,t){return((n=n.x)[0]<0?n[1]-En-An:En-n[1])-((t=t.x)[0]<0?t[1]-En-An:En-t[1])}var sr=ar(rr,hr,gr,[-kn,-kn/2]);function hr(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart();i=1},point:function(u,o){var a=u>0?kn:-kn,f=d(u-t);if(d(f-kn)<An){n.point(t,e=(e+o)/2>0?En:-En);n.point(r,e);n.lineEnd();n.lineStart();n.point(a,e);n.point(u,e);i=0}else if(r!==a&&f>=kn){if(d(t-r)<An)t-=r*An;if(d(u-a)<An)u-=a*An;e=pr(t,e,u,o);n.point(r,e);n.lineEnd();n.lineStart();n.point(a,e);i=0}n.point(t=u,e=o);r=a},lineEnd:function(){n.lineEnd();t=e=NaN},clean:function(){return 2-i}}}function pr(n,t,e,r){var i,u,o=Math.sin(n-e);return d(o)>An?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function gr(n,t,e,r){var i;if(n==null){i=e*En;r.point(-kn,i);r.point(0,i);r.point(kn,i);r.point(kn,0);r.point(kn,-i);r.point(0,-i);r.point(-kn,-i);r.point(-kn,0);r.point(-kn,i)}else if(d(n[0]-t[0])>An){var u=n[0]<t[0]?kn:-kn;i=e*u/2;r.point(-u,i);r.point(0,i);r.point(u,i)}else{r.point(t[0],t[1])}}function vr(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;Ce.reset();for(var a=0,f=t.length;a<f;++a){var l=t[a],c=l.length;if(!c)continue;var s=l[0],h=s[0],p=s[1]/2+kn/4,g=Math.sin(p),v=Math.cos(p),d=1;while(true){if(d===c)d=0;n=l[d];var y=n[0],m=n[1]/2+kn/4,x=Math.sin(m),M=Math.cos(m),w=y-h,_=w>=0?1:-1,b=_*w,S=b>kn,k=g*x;Ce.add(Math.atan2(k*_*Math.sin(b),v*M+k*Math.cos(b)));u+=S?w+_*Nn:w;if(S^h>=e^y>=e){var N=Re(Te(s),Te(n));Ue(N);var E=Re(i,N);Ue(E);var A=(S^w>=0?-1:1)*Dn(E[2]);if(r>A||r===A&&(N[0]||N[1])){o+=S^w>=0?1:-1}}if(!d++)break;h=y,g=x,v=M,s=n}}return(u<-An||u<An&&Ce<0)^o&1}function dr(n){var t=Math.cos(n),e=t>0,r=d(t)>An,i=ni(n,6*zn);return ar(u,o,i,e?[0,-n]:[-kn,n-kn]);function u(n,e){return Math.cos(n)*Math.cos(e)>t}function o(n){var t,i,o,l,c;return{lineStart:function(){l=o=false;c=1},point:function(s,h){var p=[s,h],g,v=u(s,h),d=e?v?0:f(s,h):v?f(s+(s<0?kn:-kn),h):0;if(!t&&(l=o=v))n.lineStart();if(v!==o){g=a(t,p);if(Ie(t,g)||Ie(p,g)){p[0]+=An;p[1]+=An;v=u(p[0],p[1])}}if(v!==o){c=0;if(v){n.lineStart();g=a(p,t);n.point(g[0],g[1])}else{g=a(t,p);n.point(g[0],g[1]);n.lineEnd()}t=g}else if(r&&t&&e^v){var y;if(!(d&i)&&(y=a(p,t,true))){c=0;if(e){n.lineStart();n.point(y[0][0],y[0][1]);n.point(y[1][0],y[1][1]);n.lineEnd()}else{n.point(y[1][0],y[1][1]);n.lineEnd();n.lineStart();n.point(y[0][0],y[0][1])}}}if(v&&(!t||!Ie(t,p))){n.point(p[0],p[1])}t=p,o=v,i=d},lineEnd:function(){if(o)n.lineEnd();t=null},clean:function(){return c|(l&&o)<<1}}}function a(n,e,r){var i=Te(n),u=Te(e);var o=[1,0,0],a=Re(i,u),f=qe(a,a),l=a[0],c=f-l*l;if(!c)return!r&&n;var s=t*f/c,h=-t*l/c,p=Re(o,a),g=Pe(o,s),v=Pe(a,h);De(g,v);var y=p,m=qe(g,y),x=qe(y,y),M=m*m-x*(qe(g,g)-1);if(M<0)return;var w=Math.sqrt(M),_=Pe(y,(-m-w)/x);De(_,g);_=je(_);if(!r)return _;var b=n[0],S=e[0],k=n[1],N=e[1],E;if(S<b)E=b,b=S,S=E;var A=S-b,C=d(A-kn)<An,z=C||A<An;if(!C&&N<k)E=k,k=N,N=E;if(z?C?k+N>0^_[1]<(d(_[0]-b)<An?k:N):k<=_[1]&&_[1]<=N:A>kn^(b<=_[0]&&_[0]<=S)){var L=Pe(y,(-m+w)/x);De(L,g);return[_,je(L)]}}function f(t,r){var i=e?n:kn-n,u=0;if(t<-i)u|=1;else if(t>i)u|=2;if(r<-i)u|=4;else if(r>i)u|=8;return u}}function yr(n,t,e,r){return function(i){var u=i.a,o=i.b,a=u.x,f=u.y,l=o.x,c=o.y,s=0,h=1,p=l-a,g=c-f,v;v=n-a;if(!p&&v>0)return;v/=p;if(p<0){if(v<s)return;if(v<h)h=v}else if(p>0){if(v>h)return;if(v>s)s=v}v=e-a;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;if(v>s)s=v}else if(p>0){if(v<s)return;if(v<h)h=v}v=t-f;if(!g&&v>0)return;v/=g;if(g<0){if(v<s)return;if(v<h)h=v}else if(g>0){if(v>h)return;if(v>s)s=v}v=r-f;if(!g&&v<0)return;v/=g;if(g<0){if(v>h)return;if(v>s)s=v}else if(g>0){if(v<s)return;if(v<h)h=v}if(s>0)i.a={x:a+s*p,y:f+s*g};if(h<1)i.b={x:a+h*p,y:f+h*g};return i}}var mr=1e9;n.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){if(i)i.valid=false;i=u(n);i.valid=true;return i},extent:function(a){if(!arguments.length)return[[n,t],[e,r]];u=xr(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]);if(i)i.valid=false,i=null;return o}};return o.extent([[0,0],[960,500]])};function xr(t,e,r,i){return function(f){var l=f,c=lr(),s=yr(t,e,r,i),h,p,g;var v={point:x,lineStart:A,lineEnd:C,polygonStart:function(){f=c;h=[];p=[];E=true},polygonEnd:function(){f=l;h=n.merge(h);var e=d([t,i]),r=E&&e,u=h.length;if(r||u){f.polygonStart();if(r){f.lineStart();y(null,null,1,f);f.lineEnd()}if(u){ir(h,o,e,y,f)}f.polygonEnd()}h=p=g=null}};function d(n){var t=0,e=p.length,r=n[1];for(var i=0;i<e;++i){for(var u=1,o=p[i],a=o.length,f=o[0],l;u<a;++u){l=o[u];if(f[1]<=r){if(l[1]>r&&qn(f,l,n)>0)++t}else{if(l[1]<=r&&qn(f,l,n)<0)--t}f=l}}return t!==0}function y(n,o,f,l){var c=0,s=0;if(n==null||(c=u(n,f))!==(s=u(o,f))||a(n,o)<0^f>0){do{l.point(c===0||c===3?t:r,c>1?i:e)}while((c=(c+f+4)%4)!==s)}else{l.point(o[0],o[1])}}function m(n,u){return t<=n&&n<=r&&e<=u&&u<=i}function x(n,t){if(m(n,t))f.point(n,t)}var M,w,_,b,S,k,N,E;function A(){v.point=z;if(p)p.push(g=[]);N=true;k=false;b=S=NaN}function C(){if(h){z(M,w);if(_&&k)c.rejoin();h.push(c.buffer())}v.point=x;if(k)f.lineEnd()}function z(n,t){n=Math.max(-mr,Math.min(mr,n));t=Math.max(-mr,Math.min(mr,t));var e=m(n,t);if(p)g.push([n,t]);if(N){M=n,w=t,_=e;N=false;if(e){f.lineStart();f.point(n,t)}}else{if(e&&k)f.point(n,t);else{var r={a:{x:b,y:S},b:{x:n,y:t}};if(s(r)){if(!k){f.lineStart();f.point(r.a.x,r.a.y)}f.point(r.b.x,r.b.y);if(!e)f.lineEnd();E=false}else if(e){f.lineStart();f.point(n,t);E=false}}}b=n,S=t,k=e}return v};function u(n,i){return d(n[0]-t)<An?i>0?0:3:d(n[0]-r)<An?i>0?2:1:d(n[1]-e)<An?i>0?1:0:i>0?3:2}function o(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:e===0?t[1]-n[1]:e===1?n[0]-t[0]:e===2?n[1]-t[1]:t[0]-n[0]}}function Mr(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}if(n.invert&&t.invert)e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])};return e}function wr(n){var t=0,e=kn/3,r=Xr(n),i=r(t,e);i.parallels=function(n){if(!arguments.length)return[t/kn*180,e/kn*180];return r(t=n[0]*kn/180,e=n[1]*kn/180)};return i}function _r(n,t){var e=Math.sin(n),r=(e+Math.sin(t))/2,i=1+e*(2*r-e),u=Math.sqrt(i)/r;function o(n,t){var e=Math.sqrt(i-2*r*Math.sin(t))/r;return[e*Math.sin(n*=r),u-e*Math.cos(n)]}o.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/r,Dn((i-(n*n+e*e)*r*r)/(2*r))]};return o}(n.geo.conicEqualArea=function(){return wr(_r)}).raw=_r;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){var t=n.geo.albers();var e=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var r=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var i,u={point:function(n,t){i=[n,t]}},o,a,f;function l(n){var t=n[0],e=n[1];i=null;(o(t,e),i)||(a(t,e),i)||f(t,e);return i}l.invert=function(n){var i=t.scale(),u=t.translate(),o=(n[0]-u[0])/i,a=(n[1]-u[1])/i;return(a>=.12&&a<.234&&o>=-.425&&o<-.214?e:a>=.166&&a<.234&&o>=-.214&&o<-.115?r:t).invert(n)};l.stream=function(n){var i=t.stream(n),u=e.stream(n),o=r.stream(n);return{point:function(n,t){i.point(n,t);u.point(n,t);o.point(n,t)},sphere:function(){i.sphere();u.sphere();o.sphere()},lineStart:function(){i.lineStart();u.lineStart();o.lineStart()},lineEnd:function(){i.lineEnd();u.lineEnd();o.lineEnd()},polygonStart:function(){i.polygonStart();u.polygonStart();o.polygonStart()},polygonEnd:function(){i.polygonEnd();u.polygonEnd();o.polygonEnd()}}};l.precision=function(n){if(!arguments.length)return t.precision();t.precision(n);e.precision(n);r.precision(n);return l};l.scale=function(n){if(!arguments.length)return t.scale();t.scale(n);e.scale(n*.35);r.scale(n);return l.translate(t.translate())};l.translate=function(n){if(!arguments.length)return t.translate();var i=t.scale(),c=+n[0],s=+n[1];o=t.translate(n).clipExtent([[c-.455*i,s-.238*i],[c+.455*i,s+.238*i]]).stream(u).point;a=e.translate([c-.307*i,s+.201*i]).clipExtent([[c-.425*i+An,s+.12*i+An],[c-.214*i-An,s+.234*i-An]]).stream(u).point;f=r.translate([c-.205*i,s+.212*i]).clipExtent([[c-.214*i+An,s+.166*i+An],[c-.115*i-An,s+.234*i-An]]).stream(u).point;return l};return l.scale(1070)};var br,Sr,kr={point:L,lineStart:L,lineEnd:L,polygonStart:function(){Sr=0;kr.lineStart=Nr},polygonEnd:function(){kr.lineStart=kr.lineEnd=kr.point=L;br+=d(Sr/2)}};function Nr(){var n,t,e,r;kr.point=function(u,o){kr.point=i;n=e=u,t=r=o};function i(n,t){Sr+=r*n-e*t;e=n,r=t}kr.lineEnd=function(){i(n,t)}}var Er,Ar,Cr,zr;var Lr={point:Tr,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function Tr(n,t){if(n<Er)Er=n;if(n>Cr)Cr=n;if(t<Ar)Ar=t;if(t>zr)zr=t}function qr(){var n=Rr(4.5),t=[];var e={point:r,lineStart:function(){e.point=i},lineEnd:o,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=o;e.point=r},pointRadius:function(t){n=Rr(t);return e},result:function(){if(t.length){var n=t.join("");t=[];return n}}};function r(e,r){t.push("M",e,",",r,n)}function i(n,r){t.push("M",n,",",r);e.point=u}function u(n,e){t.push("L",n,",",e)}function o(){e.point=r}function a(){t.push("Z")}return e}function Rr(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var Dr={point:Pr,lineStart:Ur,lineEnd:jr,polygonStart:function(){Dr.lineStart=Ir},polygonEnd:function(){Dr.point=Pr;Dr.lineStart=Ur;Dr.lineEnd=jr}};function Pr(n,t){Oe+=n;Ye+=t;++Ze}function Ur(){var n,t;Dr.point=function(r,i){Dr.point=e;Pr(n=r,t=i)};function e(e,r){var i=e-n,u=r-t,o=Math.sqrt(i*i+u*u);Ve+=o*(n+e)/2;Xe+=o*(t+r)/2;$e+=o;Pr(n=e,t=r)}}function jr(){Dr.point=Pr}function Ir(){var n,t,e,r;Dr.point=function(u,o){Dr.point=i;Pr(n=e=u,t=r=o)};function i(n,t){var i=n-e,u=t-r,o=Math.sqrt(i*i+u*u);Ve+=o*(e+n)/2;Xe+=o*(r+t)/2;$e+=o;o=r*n-e*t;Be+=o*(e+n);We+=o*(r+t);Je+=o*3;Pr(e=n,r=t)}Dr.lineEnd=function(){i(n,t)}}function Hr(n){var t=4.5;var e={point:r,lineStart:function(){e.point=i},lineEnd:o,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=o;e.point=r},pointRadius:function(n){t=n;return e},result:L};function r(e,r){n.moveTo(e,r);n.arc(e,r,t,0,Nn)}function i(t,r){n.moveTo(t,r);e.point=u}function u(t,e){n.lineTo(t,e)}function o(){e.point=r}function a(){n.closePath()}return e}function Fr(n){var t=.5,e=Math.cos(30*zn),r=16;function i(n){return(r?o:u)(n)}function u(t){return Zr(t,function(e,r){e=n(e,r);t.point(e[0],e[1])})}function o(t){var e,i,u,o,f,l,c,s,h,p,g,v,d;var y={point:m,lineStart:x,lineEnd:w,polygonStart:function(){t.polygonStart();y.lineStart=_},polygonEnd:function(){t.polygonEnd();y.lineStart=x}};function m(e,r){e=n(e,r);t.point(e[0],e[1])}function x(){h=NaN;y.point=M;t.lineStart()}function M(e,i){var u=Te([e,i]),o=n(e,i);a(h,p,s,g,v,d,h=o[0],p=o[1],s=e,g=u[0],v=u[1],d=u[2],r,t);t.point(h,p)}function w(){y.point=m;t.lineEnd()}function _(){x();y.point=b;y.lineEnd=S}function b(n,t){M(e=n,i=t),u=h,o=p,f=g,l=v,c=d;y.point=M}function S(){a(h,p,s,g,v,d,u,o,e,f,l,c,r,t);y.lineEnd=w;w()}return y}function a(r,i,u,o,f,l,c,s,h,p,g,v,y,m){var x=c-r,M=s-i,w=x*x+M*M;if(w>4*t&&y--){var _=o+p,b=f+g,S=l+v,k=Math.sqrt(_*_+b*b+S*S),N=Math.asin(S/=k),E=d(d(S)-1)<An||d(u-h)<An?(u+h)/2:Math.atan2(b,_),A=n(E,N),C=A[0],z=A[1],L=C-r,T=z-i,q=M*L-x*T;if(q*q/w>t||d((x*L+M*T)/w-.5)>.3||o*p+f*g+l*v<e){a(r,i,u,o,f,l,C,z,E,_/=k,b/=k,S,y,m);m.point(C,z);a(C,z,E,_,b,S,c,s,h,p,g,v,y,m)}}}i.precision=function(n){if(!arguments.length)return Math.sqrt(t);r=(t=n*n)>0&&16;return i};return i}n.geo.path=function(){var t=4.5,e,r,i,u,o;function a(e){if(e){if(typeof t==="function")u.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=i(u);n.geo.stream(e,o)}return u.result()}a.area=function(t){br=0;n.geo.stream(t,i(kr));return br};a.centroid=function(t){Oe=Ye=Ze=Ve=Xe=$e=Be=We=Je=0;n.geo.stream(t,i(Dr));return Je?[Be/Je,We/Je]:$e?[Ve/$e,Xe/$e]:Ze?[Oe/Ze,Ye/Ze]:[NaN,NaN]};a.bounds=function(t){Cr=zr=-(Er=Ar=Infinity);n.geo.stream(t,i(Lr));return[[Er,Ar],[Cr,zr]]};a.projection=function(n){if(!arguments.length)return e;i=(e=n)?n.stream||Or(n):_t;return f()};a.context=function(n){if(!arguments.length)return r;u=(r=n)==null?new qr:new Hr(n);if(typeof t!=="function")u.pointRadius(t);return f()};a.pointRadius=function(n){if(!arguments.length)return t;t=typeof n==="function"?n:(u.pointRadius(+n),+n);return a};function f(){o=null;return a}return a.projection(n.geo.albersUsa()).context(null)};function Or(n){var t=Fr(function(t,e){return n([t*Ln,e*Ln])});return function(n){return $r(t(n))}}n.geo.transform=function(n){return{stream:function(t){var e=new Yr(t);for(var r in n)e[r]=n[r];return e}}};function Yr(n){this.stream=n}Yr.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}n.geo.projection=Vr;n.geo.projectionMutator=Xr;function Vr(n){return Xr(function(){return n})()}function Xr(t){var e,r,i,u=Fr(function(n,t){n=e(n,t);return[n[0]*o+g,v-n[1]*o]}),o=150,a=480,f=250,l=0,c=0,s=0,h=0,p=0,g,v,d=sr,y=_t,m=null,x=null,M;function w(n){n=i(n[0]*zn,n[1]*zn);return[n[0]*o+g,v-n[1]*o]}function _(n){n=i.invert((n[0]-g)/o,(v-n[1])/o);return n&&[n[0]*Ln,n[1]*Ln]}w.stream=function(n){if(M)M.valid=false;M=$r(d(r,u(y(n))));M.valid=true;return M};w.clipAngle=function(n){if(!arguments.length)return m;d=n==null?(m=n,sr):dr((m=+n)*zn);return S()};w.clipExtent=function(n){if(!arguments.length)return x;x=n;y=n?xr(n[0][0],n[0][1],n[1][0],n[1][1]):_t;return S()};w.scale=function(n){if(!arguments.length)return o;o=+n;return b()};w.translate=function(n){if(!arguments.length)return[a,f];a=+n[0];f=+n[1];return b()};w.center=function(n){if(!arguments.length)return[l*Ln,c*Ln];l=n[0]%360*zn;c=n[1]%360*zn;return b()};w.rotate=function(n){if(!arguments.length)return[s*Ln,h*Ln,p*Ln];s=n[0]%360*zn;h=n[1]%360*zn;p=n.length>2?n[2]%360*zn:0;return b()};n.rebind(w,u,"precision");function b(){i=Mr(r=Jr(s,h,p),e);var n=e(l,c);g=a-n[0]*o;v=f+n[1]*o;return S()}function S(){if(M)M.valid=false,M=null;return w}return function(){e=t.apply(this,arguments);w.invert=e.invert&&_;return b()}}function $r(n){return Zr(n,function(t,e){n.point(t*zn,e*zn)})}function Br(n,t){return[n,t]}(n.geo.equirectangular=function(){return Vr(Br)}).raw=Br.invert=Br;n.geo.rotation=function(n){n=Jr(n[0]%360*zn,n[1]*zn,n.length>2?n[2]*zn:0);function t(t){t=n(t[0]*zn,t[1]*zn);return t[0]*=Ln,t[1]*=Ln,t}t.invert=function(t){t=n.invert(t[0]*zn,t[1]*zn);return t[0]*=Ln,t[1]*=Ln,t};return t};function Wr(n,t){return[n>kn?n-Nn:n<-kn?n+Nn:n,t]}Wr.invert=Br;function Jr(n,t,e){return n?t||e?Mr(Kr(n),Qr(t,e)):Kr(n):t||e?Qr(t,e):Wr}function Gr(n){return function(t,e){return t+=n,[t>kn?t-Nn:t<-kn?t+Nn:t,e]}}function Kr(n){var t=Gr(n);t.invert=Gr(-n);return t}function Qr(n,t){var e=Math.cos(n),r=Math.sin(n),i=Math.cos(t),u=Math.sin(t);function o(n,t){var o=Math.cos(t),a=Math.cos(n)*o,f=Math.sin(n)*o,l=Math.sin(t),c=l*e+a*r;return[Math.atan2(f*i-c*u,a*e-l*r),Dn(c*i+f*u)]}o.invert=function(n,t){var o=Math.cos(t),a=Math.cos(n)*o,f=Math.sin(n)*o,l=Math.sin(t),c=l*i-f*u;return[Math.atan2(f*i+l*u,a*e+c*r),Dn(c*e-a*r)]};return o}n.geo.circle=function(){var n=[0,0],t,e=6,r;function i(){var t=typeof n==="function"?n.apply(this,arguments):n,e=Jr(-t[0]*zn,-t[1]*zn,0).invert,i=[];r(null,null,1,{point:function(n,t){i.push(n=e(n,t));n[0]*=Ln,n[1]*=Ln}});return{type:"Polygon",coordinates:[i]}}i.origin=function(t){if(!arguments.length)return n;n=t;return i};i.angle=function(n){if(!arguments.length)return t;r=ni((t=+n)*zn,e*zn);return i};i.precision=function(n){if(!arguments.length)return e;r=ni(t*zn,(e=+n)*zn);return i};return i.angle(90)};function ni(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var f=o*t;if(i!=null){i=ti(e,i);u=ti(e,u);if(o>0?i<u:i>u)i+=o*Nn}else{i=n+o*Nn;u=n-.5*f}for(var l,c=i;o>0?c>u:c<u;c-=f){a.point((l=je([e,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}}function ti(n,t){var e=Te(t);e[0]-=n;Ue(e);var r=Rn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-An)%(2*Math.PI)}n.geo.distance=function(n,t){var e=(t[0]-n[0])*zn,r=n[1]*zn,i=t[1]*zn,u=Math.sin(e),o=Math.cos(e),a=Math.sin(r),f=Math.cos(r),l=Math.sin(i),c=Math.cos(i),s;return Math.atan2(Math.sqrt((s=c*u)*s+(s=f*l-a*c*o)*s),a*l+f*c*o)};n.geo.graticule=function(){var t,e,r,i,u,o,a,f,l=10,c=l,s=90,h=360,p,g,v,y,m=2.5;function x(){return{type:"MultiLineString",coordinates:M()}}function M(){return n.range(Math.ceil(i/s)*s,r,s).map(v).concat(n.range(Math.ceil(f/h)*h,a,h).map(y)).concat(n.range(Math.ceil(e/l)*l,t,l).filter(function(n){return d(n%s)>An}).map(p)).concat(n.range(Math.ceil(o/c)*c,u,c).filter(function(n){return d(n%h)>An}).map(g))}x.lines=function(){return M().map(function(n){return{type:"LineString",coordinates:n}})};x.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(y(a).slice(1),v(r).reverse().slice(1),y(f).reverse().slice(1))]}};x.extent=function(n){if(!arguments.length)return x.minorExtent();return x.majorExtent(n).minorExtent(n)};x.majorExtent=function(n){if(!arguments.length)return[[i,f],[r,a]];i=+n[0][0],r=+n[1][0];f=+n[0][1],a=+n[1][1];if(i>r)n=i,i=r,r=n;if(f>a)n=f,f=a,a=n;return x.precision(m)};x.minorExtent=function(n){if(!arguments.length)return[[e,o],[t,u]];e=+n[0][0],t=+n[1][0];o=+n[0][1],u=+n[1][1];if(e>t)n=e,e=t,t=n;if(o>u)n=o,o=u,u=n;return x.precision(m)};x.step=function(n){if(!arguments.length)return x.minorStep();return x.majorStep(n).minorStep(n)};x.majorStep=function(n){if(!arguments.length)return[s,h];s=+n[0],h=+n[1];return x};x.minorStep=function(n){if(!arguments.length)return[l,c];l=+n[0],c=+n[1];return x};x.precision=function(n){if(!arguments.length)return m;m=+n;p=ei(o,u,90);g=ri(e,t,m);v=ei(f,a,90);y=ri(i,r,m);return x};return x.majorExtent([[-180,-90+An],[180,90-An]]).minorExtent([[-180,-80-An],[180,80+An]])};function ei(t,e,r){var i=n.range(t,e-An,r).concat(e);return function(n){return i.map(function(t){return[n,t]})}}function ri(t,e,r){var i=n.range(t,e-An,r).concat(e);return function(n){return i.map(function(t){return[t,n]})}}function ii(n){return n.source}function ui(n){return n.target}n.geo.greatArc=function(){var t=ii,e,r=ui,i;function u(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),i||r.apply(this,arguments)]}}u.distance=function(){return n.geo.distance(e||t.apply(this,arguments),i||r.apply(this,arguments))};u.source=function(n){if(!arguments.length)return t;t=n,e=typeof n==="function"?null:n;return u};u.target=function(n){if(!arguments.length)return r;r=n,i=typeof n==="function"?null:n;return u};u.precision=function(){return arguments.length?u:0};return u};n.geo.interpolate=function(n,t){return oi(n[0]*zn,n[1]*zn,t[0]*zn,t[1]*zn)};function oi(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),f=i*Math.cos(n),l=i*Math.sin(n),c=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(In(r-t)+i*o*In(e-n))),p=1/Math.sin(h);var g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*f+t*c,i=e*l+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Ln,Math.atan2(o,Math.sqrt(r*r+i*i))*Ln]}:function(){return[n*Ln,t*Ln]};g.distance=h;return g}n.geo.length=function(t){ai=0;n.geo.stream(t,fi);return ai};var ai;var fi={sphere:L,point:L,lineStart:li,lineEnd:L,polygonStart:L,polygonEnd:L};function li(){var n,t,e;fi.point=function(i,u){n=i*zn,t=Math.sin(u*=zn),e=Math.cos(u);fi.point=r};fi.lineEnd=function(){fi.point=fi.lineEnd=L};function r(r,i){var u=Math.sin(i*=zn),o=Math.cos(i),a=d((r*=zn)-n),f=Math.cos(a);ai+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=e*u-t*o*f)*a),t*u+e*o*f);n=r,t=u,e=o}}function ci(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]};return e}var si=ci(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(n.geo.azimuthalEqualArea=function(){return Vr(si)}).raw=si;var hi=ci(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},_t);(n.geo.azimuthalEquidistant=function(){return Vr(hi)}).raw=hi;function pi(n,t){var e=Math.cos(n),r=function(n){return Math.tan(kn/4+n/2)},i=n===t?Math.sin(n):Math.log(e/Math.cos(t))/Math.log(r(t)/r(n)),u=e*Math.pow(r(n),i)/i;if(!i)return di;function o(n,t){if(u>0){if(t<-En+An)t=-En+An}else{if(t>En-An)t=En-An}var e=u/Math.pow(r(t),i);return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}o.invert=function(n,t){var e=u-t,r=Tn(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(u/r,1/i))-En]};return o}(n.geo.conicConformal=function(){return wr(pi)}).raw=pi;function gi(n,t){var e=Math.cos(n),r=n===t?Math.sin(n):(e-Math.cos(t))/(t-n),i=e/r+n;if(d(r)<An)return Br;function u(n,t){var e=i-t;return[e*Math.sin(r*n),i-e*Math.cos(r*n)]}u.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/r,i-Tn(r)*Math.sqrt(n*n+e*e)]};return u}(n.geo.conicEquidistant=function(){return wr(gi)}).raw=gi;var vi=ci(function(n){return 1/n},Math.atan);(n.geo.gnomonic=function(){return Vr(vi)}).raw=vi;function di(n,t){return[n,Math.log(Math.tan(kn/4+t/2))]}di.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-En]};function yi(n){var t=Vr(n),e=t.scale,r=t.translate,i=t.clipExtent,u;t.scale=function(){var n=e.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n};t.translate=function(){var n=r.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n};t.clipExtent=function(n){var o=i.apply(t,arguments);if(o===t){if(u=n==null){var a=kn*e(),f=r();i([[f[0]-a,f[1]-a],[f[0]+a,f[1]+a]])}}else if(u){o=null}return o};return t.clipExtent(null)}(n.geo.mercator=function(){return yi(di)}).raw=di;var mi=ci(function(){return 1},Math.asin);(n.geo.orthographic=function(){return Vr(mi)}).raw=mi;var xi=ci(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(n.geo.stereographic=function(){return Vr(xi)}).raw=xi;function Mi(n,t){return[Math.log(Math.tan(kn/4+t/2)),-n]}Mi.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-En]};(n.geo.transverseMercator=function(){var n=yi(Mi),t=n.center,e=n.rotate;n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])};n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])};return e([0,0,90])}).raw=Mi;n.geom={};function wi(n){return n[0]}function _i(n){return n[1]}n.geom.hull=function(n){var t=wi,e=_i;if(arguments.length)return r(n);function r(n){if(n.length<3)return[];var r=wt(t),i=wt(e),u,o=n.length,a=[],f=[];for(u=0;u<o;u++){a.push([+r.call(this,n[u],u),+i.call(this,n[u],u),u])}a.sort(Si);for(u=0;u<o;u++)f.push([a[u][0],-a[u][1]]);var l=bi(a),c=bi(f);var s=c[0]===l[0],h=c[c.length-1]===l[l.length-1],p=[];for(u=l.length-1;u>=0;--u)p.push(n[a[l[u]][2]]);for(u=+s;u<c.length-h;++u)p.push(n[a[c[u]][2]]);return p}r.x=function(n){return arguments.length?(t=n,r):t};r.y=function(n){return arguments.length?(e=n,r):e};return r};function bi(n){var t=n.length,e=[0,1],r=2;for(var i=2;i<t;i++){while(r>1&&qn(n[e[r-2]],n[e[r-1]],n[i])<=0)--r;e[r++]=i}return e.slice(0,r)}function Si(n,t){return n[0]-t[0]||n[1]-t[1]}n.geom.polygon=function(n){j(n,ki);return n};var ki=n.geom.polygon.prototype=[];ki.area=function(){var n=-1,t=this.length,e,r=this[t-1],i=0;while(++n<t){e=r;r=this[n];i+=e[1]*r[0]-e[0]*r[1]}return i*.5};ki.centroid=function(n){var t=-1,e=this.length,r=0,i=0,u,o=this[e-1],a;if(!arguments.length)n=-1/(6*this.area());while(++t<e){u=o;o=this[t];a=u[0]*o[1]-o[0]*u[1];r+=(u[0]+o[0])*a;i+=(u[1]+o[1])*a}return[r*n,i*n]};ki.clip=function(n){var t,e=Ai(n),r=-1,i=this.length-Ai(this),u,o,a=this[i-1],f,l,c;while(++r<i){t=n.slice();n.length=0;f=this[r];l=t[(o=t.length-e)-1];u=-1;while(++u<o){c=t[u];if(Ni(c,a,f)){if(!Ni(l,a,f)){n.push(Ei(l,c,a,f))}n.push(c)}else if(Ni(l,a,f)){n.push(Ei(l,c,a,f))}l=c}if(e)n.push(n[0]);a=f}return n};function Ni(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Ei(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,f=n[1],l=e[1],c=t[1]-f,s=r[1]-l,h=(a*(f-l)-s*(i-u))/(s*o-a*c);return[i+h*o,f+h*c]}function Ai(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}var Ci,zi,Li,Ti=[],qi,Ri,Di=[];function Pi(){ru(this);this.edge=this.site=this.circle=null}function Ui(n){var t=Ti.pop()||new Pi;t.site=n;return t}function ji(n){Bi(n);Li.remove(n);Ti.push(n);ru(n)}function Ii(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];ji(n);var f=u;while(f.circle&&d(e-f.circle.x)<An&&d(r-f.circle.cy)<An){u=f.P;a.unshift(f);ji(f);f=u}a.unshift(f);Bi(f);var l=o;while(l.circle&&d(e-l.circle.x)<An&&d(r-l.circle.cy)<An){o=l.N;a.push(l);ji(l);l=o}a.push(l);Bi(l);var c=a.length,s;for(s=1;s<c;++s){l=a[s];f=a[s-1];nu(l.edge,f.site,l.site,i)}f=a[0];l=a[c-1];l.edge=Ki(f.site,l.site,null,i);$i(f);$i(l)}function Hi(n){var t=n.x,e=n.y,r,i,u,o,a=Li._;while(a){u=Fi(a,e)-t;if(u>An)a=a.L;else{o=t-Oi(a,e);if(o>An){if(!a.R){r=a;break}a=a.R}else{if(u>-An){r=a.P;i=a}else if(o>-An){r=a;i=a.N}else{r=i=a}break}}}var f=Ui(n);Li.insert(r,f);if(!r&&!i)return;if(r===i){Bi(r);i=Ui(r.site);Li.insert(f,i);f.edge=i.edge=Ki(r.site,f.site);$i(r);$i(i);return}if(!i){f.edge=Ki(r.site,f.site);return}Bi(r);Bi(i);var l=r.site,c=l.x,s=l.y,h=n.x-c,p=n.y-s,g=i.site,v=g.x-c,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,x=v*v+d*d,M={x:(d*m-p*x)/y+c,y:(h*x-v*m)/y+s};nu(i.edge,l,g,M);f.edge=Ki(l,n,null,M);i.edge=Ki(n,g,null,M);$i(r);$i(i)}function Fi(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-Infinity;e=o.site;var a=e.x,f=e.y,l=f-t;if(!l)return a;var c=a-r,s=1/u-1/l,h=c/l;if(s)return(-h+Math.sqrt(h*h-2*s*(c*c/(-2*l)-f+l/2+i-u/2)))/s+r;return(r+a)/2}function Oi(n,t){var e=n.N;if(e)return Fi(e,t);var r=n.site;return r.y===t?r.x:Infinity}function Yi(n){this.site=n;this.edges=[]}Yi.prototype.prepare=function(){var n=this.edges,t=n.length,e;while(t--){e=n[t].edge;if(!e.b||!e.a)n.splice(t,1)}n.sort(Vi);return n.length};function Zi(n){var t=n[0][0],e=n[1][0],r=n[0][1],i=n[1][1],u,o,a,f,l=zi,c=l.length,s,h,p,g,v,y;while(c--){s=l[c];if(!s||!s.prepare())continue;p=s.edges;g=p.length;h=0;while(h<g){y=p[h].end(),a=y.x,f=y.y;v=p[++h%g].start(),u=v.x,o=v.y;if(d(a-u)>An||d(f-o)>An){p.splice(h,0,new tu(Qi(s.site,y,d(a-t)<An&&i-f>An?{x:t,y:d(u-t)<An?o:i}:d(f-i)<An&&e-a>An?{x:d(o-i)<An?u:e,y:i}:d(a-e)<An&&f-r>An?{x:e,y:d(u-e)<An?o:r}:d(f-r)<An&&a-t>An?{x:d(o-r)<An?u:t,y:r}:null),s.site,null));++g}}}}function Vi(n,t){return t.angle-n.angle}function Xi(){ru(this);this.x=this.y=this.arc=this.site=this.cy=null}function $i(n){var t=n.P,e=n.N;if(!t||!e)return;var r=t.site,i=n.site,u=e.site;if(r===u)return;var o=i.x,a=i.y,f=r.x-o,l=r.y-a,c=u.x-o,s=u.y-a;var h=2*(f*s-l*c);if(h>=-Cn)return;var p=f*f+l*l,g=c*c+s*s,v=(s*p-l*g)/h,d=(f*g-c*p)/h,s=d+a;var y=Di.pop()||new Xi;y.arc=n;y.site=i;y.x=v+o;y.y=s+Math.sqrt(v*v+d*d);y.cy=s;n.circle=y;var m=null,x=Ri._;while(x){if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(x.L)x=x.L;else{m=x.P;break}}else{if(x.R)x=x.R;else{m=x;break}}}Ri.insert(m,y);if(!m)qi=y}function Bi(n){var t=n.circle;if(t){if(!t.P)qi=t.N;Ri.remove(t);Di.push(t);ru(t);n.circle=null}}function Wi(n){var t=Ci,e=yr(n[0][0],n[0][1],n[1][0],n[1][1]),r=t.length,i;while(r--){i=t[r];if(!Ji(i,n)||!e(i)||d(i.a.x-i.b.x)<An&&d(i.a.y-i.b.y)<An){i.a=i.b=null;t.splice(r,1)}}}function Ji(n,t){var e=n.b;if(e)return true;var r=n.a,i=t[0][0],u=t[1][0],o=t[0][1],a=t[1][1],f=n.l,l=n.r,c=f.x,s=f.y,h=l.x,p=l.y,g=(c+h)/2,v=(s+p)/2,d,y;if(p===s){if(g<i||g>=u)return;if(c>h){if(!r)r={x:g,y:o};else if(r.y>=a)return;e={x:g,y:a}}else{if(!r)r={x:g,y:a};else if(r.y<o)return;e={x:g,y:o}}}else{d=(c-h)/(p-s);y=v-d*g;if(d<-1||d>1){if(c>h){if(!r)r={x:(o-y)/d,y:o};else if(r.y>=a)return;e={x:(a-y)/d,y:a}}else{if(!r)r={x:(a-y)/d,y:a};else if(r.y<o)return;e={x:(o-y)/d,y:o}}}else{if(s<p){if(!r)r={x:i,y:d*i+y};else if(r.x>=u)return;e={x:u,y:d*u+y}}else{if(!r)r={x:u,y:d*u+y};else if(r.x<i)return;e={x:i,y:d*i+y}}}}n.a=r;n.b=e;return true}function Gi(n,t){this.l=n;this.r=t;this.a=this.b=null}function Ki(n,t,e,r){var i=new Gi(n,t);Ci.push(i);if(e)nu(i,n,t,e);if(r)nu(i,t,n,r);zi[n.i].edges.push(new tu(i,n,t));zi[t.i].edges.push(new tu(i,t,n));return i}function Qi(n,t,e){var r=new Gi(n,null);r.a=t;r.b=e;Ci.push(r);return r}function nu(n,t,e,r){if(!n.a&&!n.b){n.a=r;n.l=t;n.r=e}else if(n.l===e){n.b=r}else{n.a=r}}function tu(n,t,e){var r=n.a,i=n.b;this.edge=n;this.site=t;this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}tu.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function eu(){this._=null}function ru(n){n.U=n.C=n.L=n.R=n.P=n.N=null}eu.prototype={insert:function(n,t){var e,r,i;if(n){t.P=n;t.N=n.N;if(n.N)n.N.P=t;n.N=t;if(n.R){n=n.R;while(n.L)n=n.L;n.L=t}else{n.R=t}e=n}else if(this._){n=ou(this._);t.P=null;t.N=n;n.P=n.L=t;e=n}else{t.P=t.N=null;this._=t;e=null}t.L=t.R=null;t.U=e;t.C=true;n=t;while(e&&e.C){r=e.U;if(e===r.L){i=r.R;if(i&&i.C){e.C=i.C=false;r.C=true;n=r}else{if(n===e.R){iu(this,e);n=e;e=n.U}e.C=false;r.C=true;uu(this,r)}}else{i=r.L;if(i&&i.C){e.C=i.C=false;r.C=true;n=r}else{if(n===e.L){uu(this,e);n=e;e=n.U}e.C=false;r.C=true;iu(this,r)}}e=n.U}this._.C=false},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var t=n.U,e,r=n.L,i=n.R,u,o;if(!r)u=i;else if(!i)u=r;else u=ou(i);if(t){if(t.L===n)t.L=u;else t.R=u}else{this._=u}if(r&&i){o=u.C;u.C=n.C;u.L=r;r.U=u;if(u!==i){t=u.U;u.U=n.U;n=u.R;t.L=n;u.R=i;i.U=u}else{u.U=t;t=u;n=u.R}}else{o=n.C;n=u}if(n)n.U=t;if(o)return;if(n&&n.C){n.C=false;return}do{if(n===this._)break;if(n===t.L){e=t.R;if(e.C){e.C=false;t.C=true;iu(this,t);e=t.R}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.R||!e.R.C){e.L.C=false;e.C=true;uu(this,e);e=t.R}e.C=t.C;t.C=e.R.C=false;iu(this,t);n=this._;break}}else{e=t.L;if(e.C){e.C=false;t.C=true;uu(this,t);e=t.L}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.L||!e.L.C){e.R.C=false;e.C=true;iu(this,e);e=t.L}e.C=t.C;t.C=e.L.C=false;uu(this,t);n=this._;break}}e.C=true;n=t;t=t.U}while(!n.C);if(n)n.C=false}};function iu(n,t){var e=t,r=t.R,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{n._=r}r.U=i;e.U=r;e.R=r.L;if(e.R)e.R.U=e;r.L=e}function uu(n,t){var e=t,r=t.L,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{n._=r}r.U=i;e.U=r;e.L=r.R;if(e.L)e.L.U=e;r.R=e}function ou(n){while(n.L)n=n.L;return n}function au(n,t){var e=n.sort(fu).pop(),r,i,u;Ci=[];zi=new Array(n.length);Li=new eu;Ri=new eu;while(true){u=qi;if(e&&(!u||e.y<u.y||e.y===u.y&&e.x<u.x)){if(e.x!==r||e.y!==i){zi[e.i]=new Yi(e);Hi(e);r=e.x,i=e.y}e=n.pop()}else if(u){Ii(u.arc)}else{break}}if(t)Wi(t),Zi(t);var o={cells:zi,edges:Ci};Li=Ri=Ci=zi=null;return o}function fu(n,t){return t.y-n.y||t.x-n.x}n.geom.voronoi=function(n){var t=wi,e=_i,r=t,i=e,u=lu;if(n)return o(n);function o(n){var t=new Array(n.length),e=u[0][0],r=u[0][1],i=u[1][0],o=u[1][1];au(a(n),u).cells.forEach(function(u,a){var f=u.edges,l=u.site,c=t[a]=f.length?f.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=e&&l.x<=i&&l.y>=r&&l.y<=o?[[e,o],[i,o],[i,r],[e,r]]:[];c.point=n[a]});return t}function a(n){return n.map(function(n,t){return{x:Math.round(r(n,t)/An)*An,y:Math.round(i(n,t)/An)*An,i:t}})}o.links=function(n){return au(a(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})};o.triangles=function(n){var t=[];au(a(n)).cells.forEach(function(e,r){var i=e.site,u=e.edges.sort(Vi),o=-1,a=u.length,f,l,c=u[a-1].edge,s=c.l===i?c.r:c.l;while(++o<a){f=c;l=s;c=u[o].edge;s=c.l===i?c.r:c.l;if(r<l.i&&r<s.i&&cu(i,l,s)<0){t.push([n[r],n[l.i],n[s.i]])}}});return t};o.x=function(n){return arguments.length?(r=wt(t=n),o):t};o.y=function(n){return arguments.length?(i=wt(e=n),o):e};o.clipExtent=function(n){if(!arguments.length)return u===lu?null:u;u=n==null?lu:n;return o};o.size=function(n){if(!arguments.length)return u===lu?null:u&&u[1];return o.clipExtent(n&&[[0,0],n])};return o};var lu=[[-1e6,-1e6],[1e6,1e6]];function cu(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)};n.geom.quadtree=function(n,t,e,r,i){var u=wi,o=_i,a;if(a=arguments.length){u=su;o=hu;if(a===3){i=e;r=t;e=t=0}return f(n)}function f(n){var f,l=wt(u),c=wt(o),s,h,p,g,v,y,m,x;if(t!=null){v=t,y=e,m=r,x=i}else{m=x=-(v=y=Infinity);s=[],h=[];g=n.length;if(a)for(p=0;p<g;++p){f=n[p];if(f.x<v)v=f.x;if(f.y<y)y=f.y;if(f.x>m)m=f.x;if(f.y>x)x=f.y;s.push(f.x);h.push(f.y)}else for(p=0;p<g;++p){var M=+l(f=n[p],p),w=+c(f,p);if(M<v)v=M;if(w<y)y=w;if(M>m)m=M;if(w>x)x=w;s.push(M);h.push(w)}}var _=m-v,b=x-y;if(_>b)x=y+_;else m=v+b;function S(n,t,e,r,i,u,o,a){if(isNaN(e)||isNaN(r))return;if(n.leaf){var f=n.x,l=n.y;if(f!=null){if(d(f-e)+d(l-r)<.01){k(n,t,e,r,i,u,o,a)}else{var c=n.point;n.x=n.y=n.point=null;k(n,c,f,l,i,u,o,a);k(n,t,e,r,i,u,o,a)}}else{n.x=e,n.y=r,n.point=t}}else{k(n,t,e,r,i,u,o,a)}}function k(n,t,e,r,i,u,o,a){var f=(i+o)*.5,l=(u+a)*.5,c=e>=f,s=r>=l,h=(s<<1)+c;n.leaf=false;n=n.nodes[h]||(n.nodes[h]=pu());if(c)i=f;else o=f;if(s)u=l;else a=l;S(n,t,e,r,i,u,o,a)}var N=pu();N.add=function(n){S(N,n,+l(n,++p),+c(n,p),v,y,m,x)};N.visit=function(n){gu(n,N,v,y,m,x)};p=-1;if(t==null){while(++p<g){S(N,n[p],s[p],h[p],v,y,m,x)}--p}else n.forEach(N.add);s=h=n=f=null;return N}f.x=function(n){return arguments.length?(u=n,f):u};f.y=function(n){return arguments.length?(o=n,f):o};f.extent=function(n){if(!arguments.length)return t==null?null:[[t,e],[r,i]];if(n==null)t=e=r=i=null;else t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1];return f};f.size=function(n){if(!arguments.length)return t==null?null:[r-t,i-e];if(n==null)t=e=r=i=null;else t=e=0,r=+n[0],i=+n[1];return f};return f};function su(n){return n.x}function hu(n){return n.y}function pu(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function gu(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=(e+i)*.5,a=(r+u)*.5,f=t.nodes;if(f[0])gu(n,f[0],e,r,o,a);if(f[1])gu(n,f[1],o,r,i,a);if(f[2])gu(n,f[2],e,a,o,u);if(f[3])gu(n,f[3],o,a,i,u)}}n.interpolateRgb=vu;function vu(t,e){t=n.rgb(t);e=n.rgb(e);var r=t.r,i=t.g,u=t.b,o=e.r-r,a=e.g-i,f=e.b-u;return function(n){return"#"+gt(Math.round(r+o*n))+gt(Math.round(i+a*n))+gt(Math.round(u+f*n))}}n.interpolateObject=du;function du(n,t){var e={},r={},i;for(i in n){if(i in t){e[i]=wu(n[i],t[i])}else{r[i]=n[i]}}for(i in t){if(!(i in n)){r[i]=t[i]}}return function(n){for(i in e)r[i]=e[i](n);return r}}n.interpolateNumber=yu;function yu(n,t){t-=n=+n;return function(e){return n+t*e}}n.interpolateString=mu;function mu(n,t){var e=xu.lastIndex=Mu.lastIndex=0,r,i,u,o=-1,a=[],f=[];n=n+"",t=t+"";while((r=xu.exec(n))&&(i=Mu.exec(t))){if((u=i.index)>e){u=t.slice(e,u);if(a[o])a[o]+=u;else a[++o]=u}if((r=r[0])===(i=i[0])){if(a[o])a[o]+=i;else a[++o]=i}else{a[++o]=null;f.push({i:o,x:yu(r,i)})}e=Mu.lastIndex}if(e<t.length){u=t.slice(e);if(a[o])a[o]+=u;else a[++o]=u}return a.length<2?f[0]?(t=f[0].x,function(n){return t(n)+""}):function(){return t}:(t=f.length,function(n){for(var e=0,r;e<t;++e)a[(r=f[e]).i]=r.x(n);return a.join("")})}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mu=new RegExp(xu.source,"g");n.interpolate=wu;function wu(t,e){var r=n.interpolators.length,i;while(--r>=0&&!(i=n.interpolators[r](t,e)));return i}n.interpolators=[function(n,t){var e=typeof t;return(e==="string"?Mt.has(t)||/^(#|rgb\(|hsl\()/.test(t)?vu:mu:t instanceof Xn?vu:Array.isArray(t)?_u:e==="object"&&isNaN(t)?du:yu)(n,t)}];n.interpolateArray=_u;function _u(n,t){var e=[],r=[],i=n.length,u=t.length,o=Math.min(n.length,t.length),a;for(a=0;a<o;++a)e.push(wu(n[a],t[a]));for(;a<i;++a)r[a]=n[a];for(;a<u;++a)r[a]=t[a];return function(n){for(a=0;a<o;++a)r[a]=e[a](n);return r}}var bu=function(){return _t};var Su=n.map({linear:bu,poly:Tu,quad:function(){return Cu},cubic:function(){return zu},sin:function(){return qu},exp:function(){return Ru},circle:function(){return Du},elastic:Pu,back:Uu,bounce:function(){return ju}});var ku=n.map({in:_t,out:Eu,"in-out":Au,"out-in":function(n){return Au(Eu(n))}});n.ease=function(n){var e=n.indexOf("-"),r=e>=0?n.slice(0,e):n,i=e>=0?n.slice(e+1):"in";r=Su.get(r)||bu;i=ku.get(i)||_t;return Nu(i(r.apply(null,t.call(arguments,1))))};function Nu(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function Eu(n){return function(t){return 1-n(1-t)}}function Au(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function Cu(n){return n*n}function zu(n){return n*n*n}function Lu(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Tu(n){return function(t){return Math.pow(t,n)}}function qu(n){return 1-Math.cos(n*En)}function Ru(n){return Math.pow(2,10*(n-1))}function Du(n){return 1-Math.sqrt(1-n*n)}function Pu(n,t){var e;if(arguments.length<2)t=.45;if(arguments.length)e=t/Nn*Math.asin(1/n);else n=1,e=t/4;return function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Nn/t)}}function Uu(n){if(!n)n=1.70158;return function(t){return t*t*((n+1)*t-n)}}function ju(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}n.interpolateHcl=Iu;function Iu(t,e){t=n.hcl(t);e=n.hcl(e);var r=t.h,i=t.c,u=t.l,o=e.h-r,a=e.c-i,f=e.l-u;if(isNaN(a))a=0,i=isNaN(i)?e.c:i;if(isNaN(o))o=0,r=isNaN(r)?e.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(n){return Kn(r+o*n,i+a*n,u+f*n)+""}}n.interpolateHsl=Hu;function Hu(t,e){t=n.hsl(t);e=n.hsl(e);var r=t.h,i=t.s,u=t.l,o=e.h-r,a=e.s-i,f=e.l-u;if(isNaN(a))a=0,i=isNaN(i)?e.s:i;if(isNaN(o))o=0,r=isNaN(r)?e.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(n){return Wn(r+o*n,i+a*n,u+f*n)+""}}n.interpolateLab=Fu;function Fu(t,e){t=n.lab(t);e=n.lab(e);var r=t.l,i=t.a,u=t.b,o=e.l-r,a=e.a-i,f=e.b-u;return function(n){return ut(r+o*n,i+a*n,u+f*n)+""}}n.interpolateRound=Ou;function Ou(n,t){t-=n;return function(e){return Math.round(n+t*e)}}n.transform=function(t){var e=r.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(n){if(n!=null){e.setAttribute("transform",n);var t=e.transform.baseVal.consolidate()}return new Yu(t?t.matrix:$u)})(t)};function Yu(n){var t=[n.a,n.b],e=[n.c,n.d],r=Vu(t),i=Zu(t,e),u=Vu(Xu(e,t,-i))||0;if(t[0]*e[1]<e[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ln;this.translate=[n.e,n.f];this.scale=[r,u];this.skew=u?Math.atan2(i,u)*Ln:0}Yu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Zu(n,t){return n[0]*t[0]+n[1]*t[1]}function Vu(n){var t=Math.sqrt(Zu(n,n));if(t){n[0]/=t;n[1]/=t}return t}function Xu(n,t,e){n[0]+=e*t[0];n[1]+=e*t[1];return n}var $u={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Bu;function Bu(t,e){var r=[],i=[],u,o=n.transform(t),a=n.transform(e),f=o.translate,l=a.translate,c=o.rotate,s=a.rotate,h=o.skew,p=a.skew,g=o.scale,v=a.scale;if(f[0]!=l[0]||f[1]!=l[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:yu(f[0],l[0])},{i:3,x:yu(f[1],l[1])})}else if(l[0]||l[1]){r.push("translate("+l+")")}else{r.push("")}if(c!=s){if(c-s>180)s+=360;else if(s-c>180)c+=360;i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:yu(c,s)})}else if(s){r.push(r.pop()+"rotate("+s+")")}if(h!=p){i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:yu(h,p)})}else if(p){r.push(r.pop()+"skewX("+p+")")}if(g[0]!=v[0]||g[1]!=v[1]){u=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:u-4,x:yu(g[0],v[0])},{i:u-2,x:yu(g[1],v[1])})}else if(v[0]!=1||v[1]!=1){r.push(r.pop()+"scale("+v+")")}u=i.length;return function(n){var t=-1,e;while(++t<u)r[(e=i[t]).i]=e.x(n);return r.join("")}}function Wu(n,t){t=t-(n=+n)?1/(t-n):0;return function(e){return(e-n)*t}}function Ju(n,t){t=t-(n=+n)?1/(t-n):0;return function(e){return Math.max(0,Math.min(1,(e-n)*t))}}n.layout={};n.layout.bundle=function(){return function(n){var t=[],e=-1,r=n.length;while(++e<r)t.push(Gu(n[e]));return t}};function Gu(n){var t=n.source,e=n.target,r=Qu(t,e),i=[t];while(t!==r){t=t.parent;i.push(t)}var u=i.length;while(e!==r){i.splice(u,0,e);e=e.parent}return i}function Ku(n){var t=[],e=n.parent;while(e!=null){t.push(n);n=e;e=e.parent}t.push(n);return t}function Qu(n,t){if(n===t)return n;var e=Ku(n),r=Ku(t),i=e.pop(),u=r.pop(),o=null;while(i===u){o=i;i=e.pop();u=r.pop()}return o}n.layout.chord=function(){var t={},e,r,i,u,o=0,a,f,l;function c(){var t={},c=[],h=n.range(u),p=[],g,v,d,y,m;e=[];r=[];g=0,y=-1;while(++y<u){v=0,m=-1;while(++m<u){v+=i[y][m]}c.push(v);p.push(n.range(u));g+=v}if(a){h.sort(function(n,t){return a(c[n],c[t])})}if(f){p.forEach(function(n,t){n.sort(function(n,e){return f(i[t][n],i[t][e])})})}g=(Nn-o*u)/g;v=0,y=-1;while(++y<u){d=v,m=-1;while(++m<u){var x=h[y],M=p[x][m],w=i[x][M],_=v,b=v+=w*g;t[x+"-"+M]={index:x,subindex:M,startAngle:_,endAngle:b,value:w}}r[x]={index:x,startAngle:d,endAngle:v,value:(v-d)/g};v+=o}y=-1;while(++y<u){m=y-1;while(++m<u){var S=t[y+"-"+m],k=t[m+"-"+y];if(S.value||k.value){e.push(S.value<k.value?{source:k,target:S}:{source:S,target:k})}}}if(l)s()}function s(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}t.matrix=function(n){if(!arguments.length)return i;u=(i=n)&&i.length;e=r=null;return t};t.padding=function(n){if(!arguments.length)return o;o=n;e=r=null;return t};t.sortGroups=function(n){if(!arguments.length)return a;a=n;e=r=null;return t};t.sortSubgroups=function(n){if(!arguments.length)return f;f=n;e=null;return t};t.sortChords=function(n){if(!arguments.length)return l;l=n;if(e)s();return t};t.chords=function(){if(!e)c();return e};t.groups=function(){if(!r)c();return r};return t};n.layout.force=function(){var t={},e=n.dispatch("start","tick","end"),r=[1,1],i,u,o=.9,a=uo,f=oo,l=-30,c=ao,s=.1,h=.64,p=[],g=[],v,d,y;function m(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,f=u*u+o*o;if(a*a/h<f){if(f<c){var l=t.charge/f;n.px-=u*l;n.py-=o*l}return true}if(t.point&&f&&f<c){var l=t.pointCharge/f;n.px-=u*l;n.py-=o*l}}return!t.charge}}t.tick=function(){if((u*=.99)<.005){e.end({type:"end",alpha:u=0});return true}var t=p.length,i=g.length,a,f,c,h,x,M,w,_,b;for(f=0;f<i;++f){c=g[f];h=c.source;x=c.target;_=x.x-h.x;b=x.y-h.y;if(M=_*_+b*b){M=u*d[f]*((M=Math.sqrt(M))-v[f])/M;_*=M;b*=M;x.x-=_*(w=h.weight/(x.weight+h.weight));x.y-=b*w;h.x+=_*(w=1-w);h.y+=b*w}}if(w=u*s){_=r[0]/2;b=r[1]/2;f=-1;if(w)while(++f<t){c=p[f];c.x+=(_-c.x)*w;c.y+=(b-c.y)*w}}if(l){io(a=n.geom.quadtree(p),u,y);f=-1;while(++f<t){if(!(c=p[f]).fixed){a.visit(m(c))}}}f=-1;while(++f<t){c=p[f];if(c.fixed){c.x=c.px;c.y=c.py}else{c.x-=(c.px-(c.px=c.x))*o;c.y-=(c.py-(c.py=c.y))*o}}e.tick({type:"tick",alpha:u})};t.nodes=function(n){if(!arguments.length)return p;p=n;return t};t.links=function(n){if(!arguments.length)return g;g=n;return t};t.size=function(n){if(!arguments.length)return r;r=n;return t};t.linkDistance=function(n){if(!arguments.length)return a;a=typeof n==="function"?n:+n;return t};t.distance=t.linkDistance;t.linkStrength=function(n){if(!arguments.length)return f;f=typeof n==="function"?n:+n;return t};t.friction=function(n){if(!arguments.length)return o;o=+n;return t};t.charge=function(n){if(!arguments.length)return l;l=typeof n==="function"?n:+n;return t};t.chargeDistance=function(n){if(!arguments.length)return Math.sqrt(c);c=n*n;return t};t.gravity=function(n){if(!arguments.length)return s;s=+n;return t};t.theta=function(n){if(!arguments.length)return Math.sqrt(h);h=n*n;return t};t.alpha=function(r){if(!arguments.length)return u;r=+r;if(u){if(r>0)u=r;else u=0}else if(r>0){e.start({type:"start",alpha:u=r});n.timer(t.tick)}return t};t.start=function(){var n,e=p.length,i=g.length,u=r[0],o=r[1],c,s;for(n=0;n<e;++n){(s=p[n]).index=n;s.weight=0}for(n=0;n<i;++n){s=g[n];if(typeof s.source=="number")s.source=p[s.source];if(typeof s.target=="number")s.target=p[s.target];++s.source.weight;++s.target.weight}for(n=0;n<e;++n){s=p[n];if(isNaN(s.x))s.x=h("x",u);if(isNaN(s.y))s.y=h("y",o);if(isNaN(s.px))s.px=s.x;if(isNaN(s.py))s.py=s.y}v=[];if(typeof a==="function")for(n=0;n<i;++n)v[n]=+a.call(this,g[n],n);else for(n=0;n<i;++n)v[n]=a;d=[];if(typeof f==="function")for(n=0;n<i;++n)d[n]=+f.call(this,g[n],n);else for(n=0;n<i;++n)d[n]=f;y=[];if(typeof l==="function")for(n=0;n<e;++n)y[n]=+l.call(this,p[n],n);else for(n=0;n<e;++n)y[n]=l;function h(t,r){if(!c){c=new Array(e);for(o=0;o<e;++o){c[o]=[]}for(o=0;o<a;++o){var i=g[o];c[i.source.index].push(i.target);c[i.target.index].push(i.source)}}var u=c[n],o=-1,a=u.length,f;while(++o<a)if(!isNaN(f=u[o][t]))return f;return Math.random()*r}return t.resume()};t.resume=function(){return t.alpha(.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!i)i=n.behavior.drag().origin(_t).on("dragstart.force",no).on("drag.force",x).on("dragend.force",to);if(!arguments.length)return i;this.on("mouseover.force",eo).on("mouseout.force",ro).call(i)};function x(e){e.px=n.event.x,e.py=n.event.y;t.resume()}return n.rebind(t,e,"on")};function no(n){n.fixed|=2}function to(n){n.fixed&=~6}function eo(n){n.fixed|=4;n.px=n.x,n.py=n.y}function ro(n){n.fixed&=~4}function io(n,t,e){var r=0,i=0;n.charge=0;if(!n.leaf){var u=n.nodes,o=u.length,a=-1,f;while(++a<o){f=u[a];if(f==null)continue;io(f,t,e);n.charge+=f.charge;r+=f.charge*f.cx;i+=f.charge*f.cy}}if(n.point){if(!n.leaf){n.point.x+=Math.random()-.5;n.point.y+=Math.random()-.5}var l=t*e[n.point.index];n.charge+=n.pointCharge=l;r+=l*n.point.x;i+=l*n.point.y}n.cx=r/n.charge;n.cy=i/n.charge}var uo=20,oo=1,ao=Infinity;n.layout.hierarchy=function(){var n=po,t=so,e=ho;function r(i){var u=[i],o=[],a;i.depth=0;while((a=u.pop())!=null){o.push(a);if((l=t.call(r,a,a.depth))&&(f=l.length)){var f,l,c;while(--f>=0){u.push(c=l[f]);c.parent=a;c.depth=a.depth+1}if(e)a.value=0;a.children=l}else{if(e)a.value=+e.call(r,a,a.depth)||0;delete a.children}}co(i,function(t){var r,i;if(n&&(r=t.children))r.sort(n);if(e&&(i=t.parent))i.value+=t.value});return o}r.sort=function(t){if(!arguments.length)return n;n=t;return r};r.children=function(n){if(!arguments.length)return t;t=n;return r};r.value=function(n){if(!arguments.length)return e;e=n;return r};r.revalue=function(n){if(e){lo(n,function(n){if(n.children)n.value=0});co(n,function(n){var t;if(!n.children)n.value=+e.call(r,n,n.depth)||0;if(t=n.parent)t.value+=n.value})}return n};return r};function fo(t,e){n.rebind(t,e,"sort","children","value");t.nodes=t;t.links=go;return t}function lo(n,t){var e=[n];while((n=e.pop())!=null){t(n);if((i=n.children)&&(r=i.length)){var r,i;while(--r>=0)e.push(i[r])}}}function co(n,t){var e=[n],r=[];while((n=e.pop())!=null){r.push(n);if((o=n.children)&&(u=o.length)){var i=-1,u,o;while(++i<u)e.push(o[i])}}while((n=r.pop())!=null){t(n)}}function so(n){return n.children}function ho(n){return n.value}function po(n,t){return t.value-n.value}function go(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}n.layout.partition=function(){var t=n.layout.hierarchy(),e=[1,1];function r(n,t,e,i){var u=n.children;n.x=t;n.y=n.depth*i;n.dx=e;n.dy=i;if(u&&(a=u.length)){var o=-1,a,f,l;e=n.value?e/n.value:0;while(++o<a){r(f=u[o],t,l=f.value*e,i);t+=l}}}function i(n){var t=n.children,e=0;if(t&&(u=t.length)){var r=-1,u;while(++r<u)e=Math.max(e,i(t[r]))}return 1+e}function u(n,u){var o=t.call(this,n,u);r(o[0],0,e[0],e[1]/i(o[0]));return o}u.size=function(n){if(!arguments.length)return e;e=n;return u};return fo(u,t)};n.layout.pie=function(){var t=Number,e=vo,r=0,i=Nn;function u(o){var a=o.map(function(n,e){return+t.call(u,n,e)});var f=+(typeof r==="function"?r.apply(this,arguments):r);var l=((typeof i==="function"?i.apply(this,arguments):i)-f)/n.sum(a);var c=n.range(o.length);if(e!=null)c.sort(e===vo?function(n,t){return a[t]-a[n]}:function(n,t){return e(o[n],o[t])});var s=[];c.forEach(function(n){var t;s[n]={data:o[n],value:t=a[n],startAngle:f,endAngle:f+=t*l}});return s}u.value=function(n){if(!arguments.length)return t;t=n;return u};u.sort=function(n){if(!arguments.length)return e;e=n;return u};u.startAngle=function(n){if(!arguments.length)return r;r=n;return u};u.endAngle=function(n){if(!arguments.length)return i;i=n;return u};return u};var vo={};n.layout.stack=function(){var t=_t,e=_o,r=bo,i=xo,u=yo,o=mo;function a(f,l){var c=f.map(function(n,e){return t.call(a,n,e)});var s=c.map(function(n){return n.map(function(n,t){return[u.call(a,n,t),o.call(a,n,t)]})});var h=e.call(a,s,l);c=n.permute(c,h);s=n.permute(s,h);var p=r.call(a,s,l);var g=c.length,v=c[0].length,d,y,m;for(y=0;y<v;++y){i.call(a,c[0][y],m=p[y],s[0][y][1]);for(d=1;d<g;++d){i.call(a,c[d][y],m+=s[d-1][y][1],s[d][y][1])}}return f}a.values=function(n){if(!arguments.length)return t;t=n;return a};a.order=function(n){if(!arguments.length)return e;e=typeof n==="function"?n:Mo.get(n)||_o;return a};a.offset=function(n){if(!arguments.length)return r;r=typeof n==="function"?n:wo.get(n)||bo;return a};a.x=function(n){if(!arguments.length)return u;u=n;return a};a.y=function(n){if(!arguments.length)return o;o=n;return a};a.out=function(n){if(!arguments.length)return i;i=n;return a};return a};function yo(n){return n.x}function mo(n){return n.y}function xo(n,t,e){n.y0=t;n.y=e}var Mo=n.map({"inside-out":function(t){var e=t.length,r,i,u=t.map(So),o=t.map(ko),a=n.range(e).sort(function(n,t){return u[n]-u[t]}),f=0,l=0,c=[],s=[];for(r=0;r<e;++r){i=a[r];if(f<l){f+=o[i];c.push(i)}else{l+=o[i];s.push(i)}}return s.reverse().concat(c)},reverse:function(t){return n.range(t.length).reverse()},default:_o});var wo=n.map({silhouette:function(n){var t=n.length,e=n[0].length,r=[],i=0,u,o,a,f=[];for(o=0;o<e;++o){for(u=0,a=0;u<t;u++)a+=n[u][o][1];if(a>i)i=a;r.push(a)}for(o=0;o<e;++o){f[o]=(i-r[o])/2}return f},wiggle:function(n){var t=n.length,e=n[0],r=e.length,i,u,o,a,f,l,c,s,h,p=[];p[0]=s=h=0;for(u=1;u<r;++u){for(i=0,a=0;i<t;++i)a+=n[i][u][1];for(i=0,f=0,c=e[u][0]-e[u-1][0];i<t;++i){for(o=0,l=(n[i][u][1]-n[i][u-1][1])/(2*c);o<i;++o){l+=(n[o][u][1]-n[o][u-1][1])/c}f+=l*n[i][u][1]}p[u]=s-=a?f/a*c:0;if(s<h)h=s}for(u=0;u<r;++u)p[u]-=h;return p},expand:function(n){var t=n.length,e=n[0].length,r=1/t,i,u,o,a=[];for(u=0;u<e;++u){for(i=0,o=0;i<t;i++)o+=n[i][u][1];if(o)for(i=0;i<t;i++)n[i][u][1]/=o;else for(i=0;i<t;i++)n[i][u][1]=r}for(u=0;u<e;++u)a[u]=0;return a},zero:bo});function _o(t){return n.range(t.length)}function bo(n){var t=-1,e=n[0].length,r=[];while(++t<e)r[t]=0;return r}function So(n){var t=1,e=0,r=n[0][1],i,u=n.length;for(;t<u;++t){if((i=n[t][1])>r){e=t;r=i}}return e}function ko(n){return n.reduce(No,0)}function No(n,t){return n+t[1]}n.layout.histogram=function(){var t=true,e=Number,r=Co,i=Eo;function u(u,o){var a=[],f=u.map(e,this),l=r.call(this,f,o),c=i.call(this,l,f,o),s,o=-1,h=f.length,p=c.length-1,g=t?1:1/h,v;while(++o<p){s=a[o]=[];s.dx=c[o+1]-(s.x=c[o]);s.y=0}if(p>0){o=-1;while(++o<h){v=f[o];if(v>=l[0]&&v<=l[1]){s=a[n.bisect(c,v,1,p)-1];s.y+=g;s.push(u[o])}}}return a}u.value=function(n){if(!arguments.length)return e;e=n;return u};u.range=function(n){if(!arguments.length)return r;r=wt(n);return u};u.bins=function(n){if(!arguments.length)return i;i=typeof n==="number"?function(t){return Ao(t,n)}:wt(n);return u};u.frequency=function(n){if(!arguments.length)return t;t=!!n;return u};return u};function Eo(n,t){return Ao(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ao(n,t){var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];while(++e<=t)u[e]=i*e+r;return u}function Co(t){return[n.min(t),n.max(t)]}n.layout.pack=function(){var t=n.layout.hierarchy().sort(zo),e=0,r=[1,1],i;function u(n,u){var o=t.call(this,n,u),a=o[0],f=r[0],l=r[1],c=i==null?Math.sqrt:typeof i==="function"?i:function(){return i};a.x=a.y=0;co(a,function(n){n.r=+c(n.value)});co(a,Ro);if(e){var s=e*(i?1:Math.max(2*a.r/f,2*a.r/l))/2;co(a,function(n){n.r+=s});co(a,Ro);co(a,function(n){n.r-=s})}Uo(a,f/2,l/2,i?1:1/Math.max(2*a.r/f,2*a.r/l));return o}u.size=function(n){if(!arguments.length)return r;r=n;return u};u.radius=function(n){if(!arguments.length)return i;i=n==null||typeof n==="function"?n:+n;return u};u.padding=function(n){if(!arguments.length)return e;e=+n;return u};return fo(u,t)};function zo(n,t){return n.value-t.value}function Lo(n,t){var e=n._pack_next;n._pack_next=t;t._pack_prev=n;t._pack_next=e;e._pack_prev=t}function To(n,t){n._pack_next=t;t._pack_prev=n}function qo(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ro(n){if(!(t=n.children)||!(h=t.length))return;var t,e=Infinity,r=-Infinity,i=Infinity,u=-Infinity,o,a,f,l,c,s,h;function p(n){e=Math.min(n.x-n.r,e);r=Math.max(n.x+n.r,r);i=Math.min(n.y-n.r,i);u=Math.max(n.y+n.r,u)}t.forEach(Do);o=t[0];o.x=-o.r;o.y=0;p(o);if(h>1){a=t[1];a.x=a.r;a.y=0;p(a);if(h>2){f=t[2];jo(o,a,f);p(f);Lo(o,f);o._pack_prev=f;Lo(f,a);a=o._pack_next;for(l=3;l<h;l++){jo(o,a,f=t[l]);var g=0,v=1,d=1;for(c=a._pack_next;c!==a;c=c._pack_next,v++){if(qo(c,f)){g=1;break}}if(g==1){for(s=o._pack_prev;s!==c._pack_prev;s=s._pack_prev,d++){if(qo(s,f)){break}}}if(g){if(v<d||v==d&&a.r<o.r)To(o,a=c);else To(o=s,a);l--}else{Lo(o,f);a=f;p(f)}}}}var y=(e+r)/2,m=(i+u)/2,x=0;for(l=0;l<h;l++){f=t[l];f.x-=y;f.y-=m;x=Math.max(x,f.r+Math.sqrt(f.x*f.x+f.y*f.y))}n.r=x;t.forEach(Po)}function Do(n){n._pack_next=n._pack_prev=n}function Po(n){delete n._pack_next;delete n._pack_prev}function Uo(n,t,e,r){var i=n.children;n.x=t+=r*n.x;n.y=e+=r*n.y;n.r*=r;if(i){var u=-1,o=i.length;while(++u<o)Uo(i[u],t,e,r)}}function jo(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o;r*=r;var f=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+f*i+l*u;e.y=n.y+f*u-l*i}else{e.x=n.x+r;e.y=n.y}}n.layout.tree=function(){var t=n.layout.hierarchy().sort(null).value(null),e=Io,r=[1,1],i=null;function u(n,u){var l=t.call(this,n,u),s=l[0],h=o(s);co(h,a),h.parent.m=-h.z;lo(h,f);if(i)lo(s,c);else{var p=s,g=s,v=s;lo(s,function(n){if(n.x<p.x)p=n;if(n.x>g.x)g=n;if(n.depth>v.depth)v=n});var d=e(p,g)/2-p.x,y=r[0]/(g.x+e(g,p)/2+d),m=r[1]/(v.depth||1);lo(s,function(n){n.x=(n.x+d)*y;n.y=n.depth*m})}return l}function o(n){var t={A:null,children:[n]},e=[t],r;while((r=e.pop())!=null){for(var i=r.children,u,o=0,a=i.length;o<a;++o){e.push((i[o]=u={_:i[o],parent:r,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u)}}return t.children[0]}function a(n){var t=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(t.length){Yo(n);var u=(t[0].z+t[t.length-1].z)/2;if(i){n.z=i.z+e(n._,i._);n.m=n.z-u}else{n.z=u}}else if(i){n.z=i.z+e(n._,i._)}n.parent.A=l(n,i,n.parent.A||r[0])}function f(n){n._.x=n.z+n.parent.m;n.m+=n.parent.m}function l(n,t,r){if(t){var i=n,u=n,o=t,a=i.parent.children[0],f=i.m,l=u.m,c=o.m,s=a.m,h;while(o=Fo(o),i=Ho(i),o&&i){a=Ho(a);u=Fo(u);u.a=n;h=o.z+c-i.z-f+e(o._,i._);if(h>0){Oo(Zo(o,n,r),n,h);f+=h;l+=h}c+=o.m;f+=i.m;s+=a.m;l+=u.m}if(o&&!Fo(u)){u.t=o;u.m+=c-l}if(i&&!Ho(a)){a.t=i;a.m+=f-s;r=n}}return r}function c(n){n.x*=r[0];n.y=n.depth*r[1]}u.separation=function(n){if(!arguments.length)return e;e=n;return u};u.size=function(n){if(!arguments.length)return i?null:r;i=(r=n)==null?c:null;return u};u.nodeSize=function(n){if(!arguments.length)return i?r:null;i=(r=n)==null?null:c;return u};return fo(u,t)};function Io(n,t){return n.parent==t.parent?1:2}function Ho(n){var t=n.children;return t.length?t[0]:n.t}function Fo(n){var t=n.children,e;return(e=t.length)?t[e-1]:n.t}function Oo(n,t,e){var r=e/(t.i-n.i);t.c-=r;t.s+=e;n.c+=r;t.z+=e;t.m+=e}function Yo(n){var t=0,e=0,r=n.children,i=r.length,u;while(--i>=0){u=r[i];u.z+=t;u.m+=t;t+=u.s+(e+=u.c)}}function Zo(n,t,e){return n.a.parent===t.parent?n.a:e}n.layout.cluster=function(){var t=n.layout.hierarchy().sort(null).value(null),e=Io,r=[1,1],i=false;function u(n,u){var o=t.call(this,n,u),a=o[0],f,l=0;co(a,function(n){var t=n.children;if(t&&t.length){n.x=Xo(t);n.y=Vo(t)}else{n.x=f?l+=e(n,f):0;n.y=0;f=n}});var c=$o(a),s=Bo(a),h=c.x-e(c,s)/2,p=s.x+e(s,c)/2;co(a,i?function(n){n.x=(n.x-a.x)*r[0];n.y=(a.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0];n.y=(1-(a.y?n.y/a.y:1))*r[1]});return o}u.separation=function(n){if(!arguments.length)return e;e=n;return u};u.size=function(n){if(!arguments.length)return i?null:r;i=(r=n)==null;return u};u.nodeSize=function(n){if(!arguments.length)return i?r:null;i=(r=n)!=null;return u};return fo(u,t)};function Vo(t){return 1+n.max(t,function(n){return n.y})}function Xo(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function $o(n){var t=n.children;return t&&t.length?$o(t[0]):n}function Bo(n){var t=n.children,e;return t&&(e=t.length)?Bo(t[e-1]):n}n.layout.treemap=function(){var t=n.layout.hierarchy(),e=Math.round,r=[1,1],i=null,u=Wo,o=false,a,f="squarify",l=.5*(1+Math.sqrt(5));function c(n,t){var e=-1,r=n.length,i,u;while(++e<r){u=(i=n[e]).value*(t<0?0:t);i.area=isNaN(u)||u<=0?0:u}}function s(n){var t=n.children;if(t&&t.length){var e=u(n),r=[],i=t.slice(),o,a=Infinity,l,h=f==="slice"?e.dx:f==="dice"?e.dy:f==="slice-dice"?n.depth&1?e.dy:e.dx:Math.min(e.dx,e.dy),v;c(i,e.dx*e.dy/n.value);r.area=0;while((v=i.length)>0){r.push(o=i[v-1]);r.area+=o.area;if(f!=="squarify"||(l=p(r,h))<=a){i.pop();a=l}else{r.area-=r.pop().area;g(r,h,e,false);h=Math.min(e.dx,e.dy);r.length=r.area=0;a=Infinity}}if(r.length){g(r,h,e,true);r.length=r.area=0}t.forEach(s)}}function h(n){var t=n.children;if(t&&t.length){var e=u(n),r=t.slice(),i,o=[];c(r,e.dx*e.dy/n.value);o.area=0;while(i=r.pop()){o.push(i);o.area+=i.area;if(i.z!=null){g(o,i.z?e.dx:e.dy,e,!r.length);o.length=o.area=0}}t.forEach(h)}}function p(n,t){var e=n.area,r,i=0,u=Infinity,o=-1,a=n.length;while(++o<a){if(!(r=n[o].area))continue;if(r<u)u=r;if(r>i)i=r}e*=e;t*=t;return e?Math.max(t*i*l/e,e/(t*u*l)):Infinity}function g(n,t,r,i){var u=-1,o=n.length,a=r.x,f=r.y,l=t?e(n.area/t):0,c;if(t==r.dx){if(i||l>r.dy)l=r.dy;while(++u<o){c=n[u];c.x=a;c.y=f;c.dy=l;a+=c.dx=Math.min(r.x+r.dx-a,l?e(c.area/l):0)}c.z=true;c.dx+=r.x+r.dx-a;r.y+=l;r.dy-=l}else{if(i||l>r.dx)l=r.dx;while(++u<o){c=n[u];c.x=a;c.y=f;c.dx=l;f+=c.dy=Math.min(r.y+r.dy-f,l?e(c.area/l):0)}c.z=false;c.dy+=r.y+r.dy-f;r.x+=l;r.dx-=l}}function v(n){var e=a||t(n),i=e[0];i.x=0;i.y=0;i.dx=r[0];i.dy=r[1];if(a)t.revalue(i);c([i],i.dx*i.dy/i.value);(a?h:s)(i);if(o)a=e;return e}v.size=function(n){if(!arguments.length)return r;r=n;return v};v.padding=function(n){if(!arguments.length)return i;function t(t){var e=n.call(v,t,t.depth);return e==null?Wo(t):Jo(t,typeof e==="number"?[e,e,e,e]:e)}function e(t){return Jo(t,n)}var r;u=(i=n)==null?Wo:(r=typeof n)==="function"?t:r==="number"?(n=[n,n,n,n],e):e;return v};v.round=function(n){if(!arguments.length)return e!=Number;e=n?Math.round:Number;return v};v.sticky=function(n){if(!arguments.length)return o;o=n;a=null;return v};v.ratio=function(n){if(!arguments.length)return l;l=n;return v};v.mode=function(n){if(!arguments.length)return f;f=n+"";return v};return fo(v,t)};function Wo(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Jo(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];if(i<0){e+=i/2;i=0}if(u<0){r+=u/2;u=0}return{x:e,y:r,dx:i,dy:u}}n.random={normal:function(n,t){var e=arguments.length;if(e<2)t=1;if(e<1)n=0;return function(){var e,r,i;do{e=Math.random()*2-1;r=Math.random()*2-1;i=e*e+r*r}while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=n.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}};n.scale={};function Go(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Ko(n){return n.rangeExtent?n.rangeExtent():Go(n.range())}function Qo(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function na(n,t){var e=0,r=n.length-1,i=n[e],u=n[r],o;if(u<i){o=e,e=r,r=o;o=i,i=u,u=o}n[e]=t.floor(i);n[r]=t.ceil(u);return n}function ta(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ea}var ea={floor:_t,ceil:_t};function ra(t,e,r,i){var u=[],o=[],a=0,f=Math.min(t.length,e.length)-1;if(t[f]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++a<=f){u.push(r(t[a-1],t[a]));o.push(i(e[a-1],e[a]))}return function(e){var r=n.bisect(t,e,1,f)-1;return o[r](u[r](e))}}n.scale.linear=function(){return ia([0,1],[0,1],wu,false)};function ia(n,t,e,r){var i,u;function o(){var o=Math.min(n.length,t.length)>2?ra:Qo,f=r?Ju:Wu;i=o(n,t,f,e);u=o(t,n,f,wu);return a}function a(n){return i(n)}a.invert=function(n){return u(n)};a.domain=function(t){if(!arguments.length)return n;n=t.map(Number);return o()};a.range=function(n){if(!arguments.length)return t;t=n;return o()};a.rangeRound=function(n){return a.range(n).interpolate(Ou)};a.clamp=function(n){if(!arguments.length)return r;r=n;return o()};a.interpolate=function(n){if(!arguments.length)return e;e=n;return o()};a.ticks=function(t){return fa(n,t)};a.tickFormat=function(t,e){return la(n,t,e)};a.nice=function(t){oa(n,t);return o()};a.copy=function(){return ia(n,t,e,r)};return o()}function ua(t,e){return n.rebind(t,e,"range","rangeRound","interpolate","clamp")}function oa(n,t){return na(n,ta(aa(n,t)[2]))}function aa(n,t){if(t==null)t=10;var e=Go(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;if(u<=.15)i*=10;else if(u<=.35)i*=5;else if(u<=.75)i*=2;e[0]=Math.ceil(e[0]/i)*i;e[1]=Math.floor(e[1]/i)*i+i*.5;e[2]=i;return e}function fa(t,e){return n.range.apply(n,aa(t,e))}function la(t,e,r){var i=aa(t,e);if(r){var u=Ht.exec(r);u.shift();if(u[8]==="s"){var o=n.formatPrefix(Math.max(d(i[0]),d(i[1])));if(!u[7])u[7]="."+sa(o.scale(i[2]));u[8]="f";r=n.format(u.join(""));return function(n){return r(o.scale(n))+o.symbol}}if(!u[7])u[7]="."+ha(u[8],i);r=u.join("")}else{r=",."+sa(i[2])+"f"}return n.format(r)}var ca={s:1,g:1,p:1,r:1,e:1};function sa(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ha(n,t){var e=sa(t[2]);return n in ca?Math.abs(e-sa(Math.max(d(t[0]),d(t[1]))))+ +(n!=="e"):e-(n==="%")*2}n.scale.log=function(){return pa(n.scale.linear().domain([0,1]),10,true,[1,10])};function pa(t,e,r,i){function u(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(e)}function o(n){return r?Math.pow(e,n):-Math.pow(e,-n)}function a(n){return t(u(n))}a.invert=function(n){return o(t.invert(n))};a.domain=function(n){if(!arguments.length)return i;r=n[0]>=0;t.domain((i=n.map(Number)).map(u));return a};a.base=function(n){if(!arguments.length)return e;e=+n;t.domain(i.map(u));return a};a.nice=function(){var n=na(i.map(u),r?Math:va);t.domain(n);i=n.map(o);return a};a.ticks=function(){var n=Go(i),t=[],a=n[0],f=n[1],l=Math.floor(u(a)),c=Math.ceil(u(f)),s=e%1?2:e;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var h=1;h<s;h++)t.push(o(l)*h);t.push(o(l))}else{t.push(o(l));for(;l++<c;)for(var h=s-1;h>0;h--)t.push(o(l)*h)}for(l=0;t[l]<a;l++){}for(c=t.length;t[c-1]>f;c--){}t=t.slice(l,c)}return t};a.tickFormat=function(t,e){if(!arguments.length)return ga;if(arguments.length<2)e=ga;else if(typeof e!=="function")e=n.format(e);var i=Math.max(.1,t/a.ticks().length),f=r?(l=1e-12,Math.ceil):(l=-1e-12,Math.floor),l;return function(n){return n/o(f(u(n)+l))<=i?e(n):""}};a.copy=function(){return pa(t.copy(),e,r,i)};return ua(a,t)}var ga=n.format(".0e"),va={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};n.scale.pow=function(){return da(n.scale.linear(),1,[0,1])};function da(n,t,e){var r=ya(t),i=ya(1/t);function u(t){return n(r(t))}u.invert=function(t){return i(n.invert(t))};u.domain=function(t){if(!arguments.length)return e;n.domain((e=t.map(Number)).map(r));return u};u.ticks=function(n){return fa(e,n)};u.tickFormat=function(n,t){return la(e,n,t)};u.nice=function(n){return u.domain(oa(e,n))};u.exponent=function(o){if(!arguments.length)return t;r=ya(t=o);i=ya(1/t);n.domain(e.map(r));return u};u.copy=function(){return da(n.copy(),t,e)};return ua(u,n)}function ya(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return ma([],{t:"range",a:[[]]})};function ma(t,e){var r,i,u;function o(n){return i[((r.get(n)||(e.t==="range"?r.set(n,t.push(n)):NaN))-1)%i.length]}function a(e,r){return n.range(t.length).map(function(n){return e+r*n})}o.domain=function(n){if(!arguments.length)return t;t=[];r=new x;var i=-1,u=n.length,a;while(++i<u)if(!r.has(a=n[i]))r.set(a,t.push(a));return o[e.t].apply(o,e.a)};o.range=function(n){if(!arguments.length)return i;i=n;u=0;e={t:"range",a:arguments};return o};o.rangePoints=function(n,r){if(arguments.length<2)r=0;var f=n[0],l=n[1],c=(l-f)/(Math.max(1,t.length-1)+r);i=a(t.length<2?(f+l)/2:f+c*r/2,c);u=0;e={t:"rangePoints",a:arguments};return o};o.rangeBands=function(n,r,f){if(arguments.length<2)r=0;if(arguments.length<3)f=r;var l=n[1]<n[0],c=n[l-0],s=n[1-l],h=(s-c)/(t.length-r+2*f);i=a(c+h*f,h);if(l)i.reverse();u=h*(1-r);e={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(n,r,f){if(arguments.length<2)r=0;if(arguments.length<3)f=r;var l=n[1]<n[0],c=n[l-0],s=n[1-l],h=Math.floor((s-c)/(t.length-r+2*f)),p=s-c-(t.length-r)*h;i=a(c+Math.round(p/2),h);if(l)i.reverse();u=Math.round(h*(1-r));e={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return u};o.rangeExtent=function(){return Go(e.a[0])};o.copy=function(){return ma(t,e)};return o.domain(t)}n.scale.category10=function(){return n.scale.ordinal().range(xa)};n.scale.category20=function(){return n.scale.ordinal().range(Ma)};n.scale.category20b=function(){return n.scale.ordinal().range(wa)};n.scale.category20c=function(){return n.scale.ordinal().range(_a)};var xa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ht);var Ma=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ht);var wa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ht);var _a=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ht);n.scale.quantile=function(){return ba([],[])};function ba(t,e){var r;function i(){var i=0,o=e.length;r=[];while(++i<o)r[i-1]=n.quantile(t,i/o);return u}function u(t){if(!isNaN(t=+t))return e[n.bisect(r,t)]}u.domain=function(n){if(!arguments.length)return t;t=n.filter(h).sort(s);return i()};u.range=function(n){if(!arguments.length)return e;e=n;return i()};u.quantiles=function(){return r};u.invertExtent=function(n){n=e.indexOf(n);return n<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]};u.copy=function(){return ba(t,e)};return i()}n.scale.quantize=function(){return Sa(0,1,[0,1])};function Sa(n,t,e){var r,i;function u(t){return e[Math.max(0,Math.min(i,Math.floor(r*(t-n))))]}function o(){r=e.length/(t-n);i=e.length-1;return u}u.domain=function(e){if(!arguments.length)return[n,t];n=+e[0];t=+e[e.length-1];return o()};u.range=function(n){if(!arguments.length)return e;e=n;return o()};u.invertExtent=function(t){t=e.indexOf(t);t=t<0?NaN:t/r+n;return[t,t+1/r]};u.copy=function(){return Sa(n,t,e)};return o()}n.scale.threshold=function(){return ka([.5],[0,1])};function ka(t,e){function r(r){if(r<=r)return e[n.bisect(t,r)]}r.domain=function(n){if(!arguments.length)return t;t=n;return r};r.range=function(n){if(!arguments.length)return e;e=n;return r};r.invertExtent=function(n){n=e.indexOf(n);return[t[n-1],t[n]]};r.copy=function(){return ka(t,e)};return r}n.scale.identity=function(){return Na([0,1])};function Na(n){function t(n){return+n}t.invert=t;t.domain=t.range=function(e){if(!arguments.length)return n;n=e.map(t);return t};t.ticks=function(t){return fa(n,t)};t.tickFormat=function(t,e){return la(n,t,e)};t.copy=function(){return Na(n)};return t}n.svg={};n.svg.arc=function(){var n=Ca,t=za,e=La,r=Ta;function i(){var i=n.apply(this,arguments),u=t.apply(this,arguments),o=e.apply(this,arguments)+Ea,a=r.apply(this,arguments)+Ea,f=(a<o&&(f=o,o=a,a=f),a-o),l=f<kn?"0":"1",c=Math.cos(o),s=Math.sin(o),h=Math.cos(a),p=Math.sin(a);return f>=Aa?i?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":i?"M"+u*c+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+l+",0 "+i*c+","+i*s+"Z":"M"+u*c+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L0,0"+"Z"}i.innerRadius=function(t){if(!arguments.length)return n;n=wt(t);return i};i.outerRadius=function(n){if(!arguments.length)return t;t=wt(n);return i};i.startAngle=function(n){if(!arguments.length)return e;e=wt(n);return i};i.endAngle=function(n){if(!arguments.length)return r;r=wt(n);return i};i.centroid=function(){var i=(n.apply(this,arguments)+t.apply(this,arguments))/2,u=(e.apply(this,arguments)+r.apply(this,arguments))/2+Ea;return[Math.cos(u)*i,Math.sin(u)*i]};return i};var Ea=-En,Aa=Nn-An;function Ca(n){return n.innerRadius}function za(n){return n.outerRadius}function La(n){return n.startAngle}function Ta(n){return n.endAngle}function qa(n){var t=wi,e=_i,r=rr,i=Da,u=i.key,o=.7;function a(u){var a=[],f=[],l=-1,c=u.length,s,h=wt(t),p=wt(e);function g(){a.push("M",i(n(f),o))}while(++l<c){if(r.call(this,s=u[l],l)){f.push([+h.call(this,s,l),+p.call(this,s,l)])}else if(f.length){g();f=[]}}if(f.length)g();return a.length?a.join(""):null}a.x=function(n){if(!arguments.length)return t;t=n;return a};a.y=function(n){if(!arguments.length)return e;e=n;return a};a.defined=function(n){if(!arguments.length)return r;r=n;return a};a.interpolate=function(n){if(!arguments.length)return u;if(typeof n==="function")u=i=n;else u=(i=Ra.get(n)||Da).key;return a};a.tension=function(n){if(!arguments.length)return o;o=n;return a};return a}n.svg.line=function(){return qa(_t)};var Ra=n.map({linear:Da,"linear-closed":Pa,step:Ua,"step-before":ja,"step-after":Ia,basis:Va,"basis-open":Xa,"basis-closed":$a,bundle:Ba,cardinal:Oa,"cardinal-open":Ha,"cardinal-closed":Fa,monotone:rf});Ra.forEach(function(n,t){t.key=n;t.closed=/-closed$/.test(n)});function Da(n){return n.join("L")}function Pa(n){return Da(n)+"Z"}function Ua(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);if(e>1)i.push("H",r[0]);return i.join("")}function ja(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function Ia(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Ha(n,t){return n.length<4?Da(n):n[1]+Ya(n.slice(1,n.length-1),Za(n,t))}function Fa(n,t){return n.length<3?Da(n):n[0]+Ya((n.push(n[0]),n),Za([n[n.length-2]].concat(n,[n[1]]),t))}function Oa(n,t){return n.length<3?Da(n):n[0]+Ya(n,Za(n,t))}function Ya(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2){return Da(n)}var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,f=1;if(e){r+="Q"+(u[0]-o[0]*2/3)+","+(u[1]-o[1]*2/3)+","+u[0]+","+u[1];i=n[1];f=2}if(t.length>1){a=t[1];u=n[f];f++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,f++){u=n[f];a=t[l];r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}}if(e){var c=n[f];r+="Q"+(u[0]+a[0]*2/3)+","+(u[1]+a[1]*2/3)+","+c[0]+","+c[1]}return r}function Za(n,t){var e=[],r=(1-t)/2,i,u=n[0],o=n[1],a=1,f=n.length;while(++a<f){i=u;u=o;o=n[a];e.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return e}function Va(n){if(n.length<3)return Da(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],f=[i,",",u,"L",Wa(Ka,o),",",Wa(Ka,a)];n.push(n[e-1]);while(++t<=e){r=n[t];o.shift();o.push(r[0]);a.shift();a.push(r[1]);Qa(f,o,a)}n.pop();f.push("L",r);return f.join("")}function Xa(n){if(n.length<4)return Da(n);var t=[],e=-1,r=n.length,i,u=[0],o=[0];while(++e<3){i=n[e];u.push(i[0]);o.push(i[1])}t.push(Wa(Ka,u)+","+Wa(Ka,o));--e;while(++e<r){i=n[e];u.shift();u.push(i[0]);o.shift();o.push(i[1]);Qa(t,u,o)}return t.join("")}function $a(n){var t,e=-1,r=n.length,i=r+4,u,o=[],a=[];while(++e<4){u=n[e%r];o.push(u[0]);a.push(u[1])}t=[Wa(Ka,o),",",Wa(Ka,a)];--e;while(++e<i){u=n[e%r];o.shift();o.push(u[0]);a.shift();a.push(u[1]);Qa(t,o,a)}return t.join("")}function Ba(n,t){var e=n.length-1;if(e){var r=n[0][0],i=n[0][1],u=n[e][0]-r,o=n[e][1]-i,a=-1,f,l;while(++a<=e){f=n[a];l=a/e;f[0]=t*f[0]+(1-t)*(r+l*u);f[1]=t*f[1]+(1-t)*(i+l*o)}}return Va(n)}function Wa(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}var Ja=[0,2/3,1/3,0],Ga=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Qa(n,t,e){n.push("C",Wa(Ja,t),",",Wa(Ja,e),",",Wa(Ga,t),",",Wa(Ga,e),",",Wa(Ka,t),",",Wa(Ka,e))}function nf(n,t){return(t[1]-n[1])/(t[0]-n[0])}function tf(n){var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=nf(i,u);while(++t<e){r[t]=(o+(o=nf(i=u,u=n[t+1])))/2}r[t]=o;return r}function ef(n){var t=[],e,r,i,u,o=tf(n),a=-1,f=n.length-1;while(++a<f){e=nf(n[a],n[a+1]);if(d(e)<An){o[a]=o[a+1]=0}else{r=o[a]/e;i=o[a+1]/e;u=r*r+i*i;if(u>9){u=e*3/Math.sqrt(u);o[a]=u*r;o[a+1]=u*i}}}a=-1;while(++a<=f){u=(n[Math.min(f,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a]));t.push([u||0,o[a]*u||0])}return t}function rf(n){return n.length<3?Da(n):n[0]+Ya(n,ef(n))}n.svg.line.radial=function(){var n=qa(uf);n.radius=n.x,delete n.x;n.angle=n.y,delete n.y;return n};function uf(n){var t,e=-1,r=n.length,i,u;while(++e<r){t=n[e];i=t[0];u=t[1]+Ea;t[0]=i*Math.cos(u);t[1]=i*Math.sin(u)}return n}function of(n){var t=wi,e=wi,r=0,i=_i,u=rr,o=Da,a=o.key,f=o,l="L",c=.7;function s(a){var s=[],h=[],p=[],g=-1,v=a.length,d,y=wt(t),m=wt(r),x=t===e?function(){return w}:wt(e),M=r===i?function(){return _}:wt(i),w,_;function b(){s.push("M",o(n(p),c),l,f(n(h.reverse()),c),"Z")}while(++g<v){if(u.call(this,d=a[g],g)){h.push([w=+y.call(this,d,g),_=+m.call(this,d,g)]);p.push([+x.call(this,d,g),+M.call(this,d,g)])}else if(h.length){b();h=[];p=[]}}if(h.length)b();return s.length?s.join(""):null}s.x=function(n){if(!arguments.length)return e;t=e=n;return s};s.x0=function(n){if(!arguments.length)return t;t=n;return s};s.x1=function(n){if(!arguments.length)return e;e=n;return s};s.y=function(n){if(!arguments.length)return i;r=i=n;return s};s.y0=function(n){if(!arguments.length)return r;r=n;return s};s.y1=function(n){if(!arguments.length)return i;i=n;return s};s.defined=function(n){if(!arguments.length)return u;u=n;return s};s.interpolate=function(n){if(!arguments.length)return a;if(typeof n==="function")a=o=n;else a=(o=Ra.get(n)||Da).key;f=o.reverse||o;l=o.closed?"M":"L";return s};s.tension=function(n){if(!arguments.length)return c;c=n;return s};return s}ja.reverse=Ia;Ia.reverse=ja;n.svg.area=function(){return of(_t)};n.svg.area.radial=function(){var n=of(uf);n.radius=n.x,delete n.x;n.innerRadius=n.x0,delete n.x0;n.outerRadius=n.x1,delete n.x1;n.angle=n.y,delete n.y;n.startAngle=n.y0,delete n.y0;n.endAngle=n.y1,delete n.y1;return n};n.svg.chord=function(){var n=ii,t=ui,e=af,r=La,i=Ta;function u(e,r){var i=o(this,n,e,r),u=o(this,t,e,r);return"M"+i.p0+f(i.r,i.p1,i.a1-i.a0)+(a(i,u)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,u.r,u.p0)+f(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,i.r,i.p0))+"Z"}function o(n,t,u,o){var a=t.call(n,u,o),f=e.call(n,a,o),l=r.call(n,a,o)+Ea,c=i.call(n,a,o)+Ea;return{r:f,a0:l,a1:c,p0:[f*Math.cos(l),f*Math.sin(l)],p1:[f*Math.cos(c),f*Math.sin(c)]}}function a(n,t){return n.a0==t.a0&&n.a1==t.a1}function f(n,t,e){return"A"+n+","+n+" 0 "+ +(e>kn)+",1 "+t}function l(n,t,e,r){return"Q 0,0 "+r}u.radius=function(n){if(!arguments.length)return e;e=wt(n);return u};u.source=function(t){if(!arguments.length)return n;n=wt(t);return u};u.target=function(n){if(!arguments.length)return t;t=wt(n);return u};u.startAngle=function(n){if(!arguments.length)return r;r=wt(n);return u};u.endAngle=function(n){if(!arguments.length)return i;i=wt(n);return u};return u};function af(n){return n.radius}n.svg.diagonal=function(){var n=ii,t=ui,e=ff;function r(r,i){var u=n.call(this,r,i),o=t.call(this,r,i),a=(u.y+o.y)/2,f=[u,{x:u.x,y:a},{x:o.x,y:a},o];f=f.map(e);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}r.source=function(t){if(!arguments.length)return n;n=wt(t);return r};r.target=function(n){if(!arguments.length)return t;t=wt(n);return r};r.projection=function(n){if(!arguments.length)return e;e=n;return r};return r};function ff(n){return[n.x,n.y]}n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),e=ff,r=t.projection;t.projection=function(n){return arguments.length?r(lf(e=n)):e};return t};function lf(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+Ea;return[e*Math.cos(r),e*Math.sin(r)]}}n.svg.symbol=function(){var n=sf,t=cf;function e(e,r){return(pf.get(n.call(this,e,r))||hf)(t.call(this,e,r))}e.type=function(t){if(!arguments.length)return n;n=wt(t);return e};e.size=function(n){if(!arguments.length)return t;t=wt(n);return e};return e};function cf(){return 64}function sf(){return"circle"}function hf(n){var t=Math.sqrt(n/kn);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}var pf=n.map({circle:hf,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*vf)),e=t*vf;return"M0,"+-t+"L"+e+",0"+" 0,"+t+" "+-e+",0"+"Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/gf),e=t*gf/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/gf),e=t*gf/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});n.svg.symbolTypes=pf.keys();var gf=Math.sqrt(3),vf=Math.tan(30*zn);function df(n,t){j(n,yf);n.id=t;return n}var yf=[],mf=0,xf,Mf;yf.call=Z.call;yf.empty=Z.empty;yf.node=Z.node;yf.size=Z.size;n.transition=function(n){return arguments.length?xf?n.transition():n:hn.transition()};n.transition.prototype=yf;yf.select=function(n){var t=this.id,e=[],r,i,u;n=V(n);for(var o=-1,a=this.length;++o<a;){e.push(r=[]);for(var f=this[o],l=-1,c=f.length;++l<c;){if((u=f[l])&&(i=n.call(u,u.__data__,l,o))){if("__data__"in u)i.__data__=u.__data__;bf(i,l,t,u.__transition__[t]);r.push(i)}else{r.push(null)}}}return df(e,t)};yf.selectAll=function(n){var t=this.id,e=[],r,i,u,o,a;n=X(n);for(var f=-1,l=this.length;++f<l;){for(var c=this[f],s=-1,h=c.length;++s<h;){if(u=c[s]){a=u.__transition__[t];i=n.call(u,u.__data__,s,f);e.push(r=[]);for(var p=-1,g=i.length;++p<g;){if(o=i[p])bf(o,p,t,a);r.push(o)}}}}return df(e,t)};yf.filter=function(n){var t=[],e,r,i;if(typeof n!=="function")n=un(n);for(var u=0,o=this.length;u<o;u++){t.push(e=[]);for(var r=this[u],a=0,f=r.length;a<f;a++){if((i=r[a])&&n.call(i,i.__data__,a,u)){e.push(i)}}}return df(t,this.id)};yf.tween=function(n,t){var e=this.id;if(arguments.length<2)return this.node().__transition__[e].tween.get(n);return an(this,t==null?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})};function wf(n,t,e,r){var i=n.id;return an(n,typeof e==="function"?function(n,u,o){n.__transition__[i].tween.set(t,r(e.call(n,n.__data__,u,o)))}:(e=r(e),function(n){n.__transition__[i].tween.set(t,e)}))}yf.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r=t=="transform"?Bu:wu,i=n.ns.qualify(t);function u(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function a(n){return n==null?u:(n+="",function(){var t=this.getAttribute(i),e;return t!==n&&(e=r(t,n),function(n){this.setAttribute(i,e(n))})})}function f(n){return n==null?o:(n+="",function(){var t=this.getAttributeNS(i.space,i.local),e;return t!==n&&(e=r(t,n),function(n){this.setAttributeNS(i.space,i.local,e(n))})})}return wf(this,"attr."+t,e,i.local?f:a)};yf.attrTween=function(t,e){var r=n.ns.qualify(t);function i(n,t){var i=e.call(this,n,t,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}}function u(n,t){var i=e.call(this,n,t,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}return this.tween("attr."+t,r.local?u:i)};yf.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t="";for(e in n)this.style(e,n[e],t);return this}e=""}function i(){this.style.removeProperty(n)}function o(t){return t==null?i:(t+="",function(){var r=u.getComputedStyle(this,null).getPropertyValue(n),i;return r!==t&&(i=wu(r,t),function(t){this.style.setProperty(n,i(t),e)})})}return wf(this,"style."+n,t,o)};yf.styleTween=function(n,t,e){if(arguments.length<3)e="";function r(r,i){var o=t.call(this,r,i,u.getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),e)}}return this.tween("style."+n,r)};yf.text=function(n){return wf(this,"text",n,_f)};function _f(n){if(n==null)n="";return function(){this.textContent=n}}yf.remove=function(){return this.each("end.transition",function(){var n;if(this.__transition__.count<2&&(n=this.parentNode))n.removeChild(this)})};yf.ease=function(t){var e=this.id;if(arguments.length<1)return this.node().__transition__[e].ease;if(typeof t!=="function")t=n.ease.apply(n,arguments);return an(this,function(n){n.__transition__[e].ease=t})};yf.delay=function(n){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].delay;return an(this,typeof n==="function"?function(e,r,i){e.__transition__[t].delay=+n.call(e,e.__data__,r,i)}:(n=+n,function(e){e.__transition__[t].delay=n}))};yf.duration=function(n){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].duration;return an(this,typeof n==="function"?function(e,r,i){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,i))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))};yf.each=function(t,e){var r=this.id;if(arguments.length<2){var i=Mf,u=xf;xf=r;an(this,function(n,e,i){Mf=n.__transition__[r];t.call(n,n.__data__,e,i)});Mf=i;xf=u}else{an(this,function(i){var u=i.__transition__[r];(u.event||(u.event=n.dispatch("start","end"))).on(t,e)})}return this};yf.transition=function(){var n=this.id,t=++mf,e=[],r,i,u,o;for(var a=0,f=this.length;a<f;a++){e.push(r=[]);for(var i=this[a],l=0,c=i.length;l<c;l++){if(u=i[l]){o=Object.create(u.__transition__[n]);o.delay+=o.duration;bf(u,l,t,o)}r.push(u)}}return df(e,t)};function bf(t,e,r,i){var u=t.__transition__||(t.__transition__={active:0,count:0}),o=u[r];if(!o){var a=i.time;o=u[r]={tween:new x,time:a,ease:i.ease,delay:i.delay,duration:i.duration};++u.count;n.timer(function(i){var f=t.__data__,l=o.ease,c=o.delay,s=o.duration,h=Lt,p=[];h.t=c+a;if(c<=i)return g(i-c);h.c=g;function g(i){if(u.active>r)return d();u.active=r;o.event&&o.event.start.call(t,f,e);o.tween.forEach(function(n,r){if(r=r.call(t,f,e)){p.push(r)}});n.timer(function(){h.c=v(i||1)?rr:v;return 1},0,a)}function v(n){if(u.active!==r)return d();var i=n/s,a=l(i),c=p.length;while(c>0){p[--c].call(t,a)}if(i>=1){o.event&&o.event.end.call(t,f,e);return d()}}function d(){if(--u.count)delete u[r];else delete t.__transition__;return 1}},0,a)}}n.svg.axis=function(){var t=n.scale.linear(),e=Sf,r=6,i=6,u=3,o=[10],a=null,f;function l(l){l.each(function(){var l=n.select(this);var c=this.__chart__||t,s=this.__chart__=t.copy();var h=a==null?s.ticks?s.ticks.apply(s,o):s.domain():a,p=f==null?s.tickFormat?s.tickFormat.apply(s,o):_t:f,g=l.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",An),d=n.transition(g.exit()).style("opacity",An).remove(),y=n.transition(g.order()).style("opacity",1),m;var x=Ko(s),M=l.selectAll(".domain").data([0]),w=(M.enter().append("path").attr("class","domain"),n.transition(M));v.append("line");v.append("text");var _=v.select("line"),b=y.select("line"),S=g.select("text").text(p),k=v.select("text"),N=y.select("text");switch(e){case"bottom":{m=Nf;_.attr("y2",r);k.attr("y",Math.max(r,0)+u);b.attr("x2",0).attr("y2",r);N.attr("x",0).attr("y",Math.max(r,0)+u);S.attr("dy",".71em").style("text-anchor","middle");w.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break}case"top":{m=Nf;_.attr("y2",-r);k.attr("y",-(Math.max(r,0)+u));b.attr("x2",0).attr("y2",-r);N.attr("x",0).attr("y",-(Math.max(r,0)+u));S.attr("dy","0em").style("text-anchor","middle");w.attr("d","M"+x[0]+","+-i+"V0H"+x[1]+"V"+-i);break}case"left":{m=Ef;_.attr("x2",-r);k.attr("x",-(Math.max(r,0)+u));b.attr("x2",-r).attr("y2",0);N.attr("x",-(Math.max(r,0)+u)).attr("y",0);S.attr("dy",".32em").style("text-anchor","end");w.attr("d","M"+-i+","+x[0]+"H0V"+x[1]+"H"+-i);break}case"right":{m=Ef;_.attr("x2",r);k.attr("x",Math.max(r,0)+u);b.attr("x2",r).attr("y2",0);N.attr("x",Math.max(r,0)+u).attr("y",0);S.attr("dy",".32em").style("text-anchor","start");w.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i);break}}if(s.rangeBand){var E=s,A=E.rangeBand()/2;c=s=function(n){return E(n)+A}}else if(c.rangeBand){c=s}else{d.call(m,s)}v.call(m,c);y.call(m,s)})}l.scale=function(n){if(!arguments.length)return t;t=n;return l};l.orient=function(n){if(!arguments.length)return e;e=n in kf?n+"":Sf;return l};l.ticks=function(){if(!arguments.length)return o;o=arguments;return l};l.tickValues=function(n){if(!arguments.length)return a;a=n;return l};l.tickFormat=function(n){if(!arguments.length)return f;f=n;return l};l.tickSize=function(n){var t=arguments.length;if(!t)return r;r=+n;i=+arguments[t-1];return l};l.innerTickSize=function(n){if(!arguments.length)return r;r=+n;return l};l.outerTickSize=function(n){if(!arguments.length)return i;i=+n;return l};l.tickPadding=function(n){if(!arguments.length)return u;u=+n;return l};l.tickSubdivide=function(){return arguments.length&&l};return l};var Sf="bottom",kf={top:1,right:1,bottom:1,left:1};function Nf(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function Ef(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}n.svg.brush=function(){var t=P(h,"brushstart","brush","brushend"),e=null,r=null,i=[0,0],o=[0,0],a,f,l=true,c=true,s=Cf[0];function h(t){t.each(function(){var t=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d);var i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=t.selectAll(".resize").data(s,_t);u.exit().remove();u.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Af[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",h.empty()?"none":null);var o=n.transition(t),a=n.transition(i),f;if(e){f=Ko(e);a.attr("x",f[0]).attr("width",f[1]-f[0]);g(o)}if(r){f=Ko(r);a.attr("y",f[0]).attr("height",f[1]-f[0]);v(o)}p(o)})}h.event=function(e){e.each(function(){var e=t.of(this,arguments),r={x:i,y:o,i:a,j:f},u=this.__chart__||r;this.__chart__=r;if(xf){n.select(this).transition().each("start.brush",function(){a=u.i;f=u.j;i=u.x;o=u.y;e({type:"brushstart"})}).tween("brush:brush",function(){var n=_u(i,r.x),t=_u(o,r.y);a=f=null;return function(u){i=r.x=n(u);o=r.y=t(u);e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=r.i;f=r.j;e({type:"brush",mode:"resize"});e({type:"brushend"})})}else{e({type:"brushstart"});e({type:"brush",mode:"resize"});e({type:"brushend"})}})};function p(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+i[+/e$/.test(n)]+","+o[+/^s/.test(n)]+")"})}function g(n){n.select(".extent").attr("x",i[0]);n.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(n){n.select(".extent").attr("y",o[0]);n.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function d(){var s=this,d=n.select(n.event.target),y=t.of(s,arguments),m=n.select(s),x=d.datum(),M=!/^(n|s)$/.test(x)&&e,w=!/^(e|w)$/.test(x)&&r,_=d.classed("extent"),b=xn(),S,k=n.mouse(s),N;var E=n.select(u).on("keydown.brush",z).on("keyup.brush",L);if(n.event.changedTouches){E.on("touchmove.brush",T).on("touchend.brush",D)}else{E.on("mousemove.brush",T).on("mouseup.brush",D)}m.interrupt().selectAll("*").interrupt();if(_){k[0]=i[0]-k[0];k[1]=o[0]-k[1]}else if(x){var A=+/w$/.test(x),C=+/^n/.test(x);N=[i[1-A]-k[0],o[1-C]-k[1]];k[0]=i[A];k[1]=o[C]}else if(n.event.altKey)S=k.slice();m.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",d.style("cursor"));y({type:"brushstart"});T();function z(){if(n.event.keyCode==32){if(!_){S=null;k[0]-=i[1];k[1]-=o[1];_=2}R()}}function L(){if(n.event.keyCode==32&&_==2){k[0]+=i[1];k[1]+=o[1];_=0;R()}}function T(){var t=n.mouse(s),u=false;if(N){t[0]+=N[0];t[1]+=N[1]}if(!_){if(n.event.altKey){if(!S)S=[(i[0]+i[1])/2,(o[0]+o[1])/2];k[0]=i[+(t[0]<S[0])];k[1]=o[+(t[1]<S[1])]}else S=null}if(M&&q(t,e,0)){g(m);u=true}if(w&&q(t,r,1)){v(m);u=true}if(u){p(m);y({type:"brush",mode:_?"move":"resize"})}}function q(n,t,e){var r=Ko(t),u=r[0],s=r[1],h=k[e],p=e?o:i,g=p[1]-p[0],v,d;if(_){u-=h;s-=g+h}v=(e?c:l)?Math.max(u,Math.min(s,n[e])):n[e];if(_){d=(v+=h)+g}else{if(S)h=Math.max(u,Math.min(s,2*S[e]-v));if(h<v){d=v;v=h}else{d=h}}if(p[0]!=v||p[1]!=d){if(e)f=null;else a=null;p[0]=v;p[1]=d;return true}}function D(){T();m.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null);n.select("body").style("cursor",null);E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);b();y({type:"brushend"})}}h.x=function(n){if(!arguments.length)return e;e=n;s=Cf[!e<<1|!r];return h};h.y=function(n){if(!arguments.length)return r;r=n;s=Cf[!e<<1|!r];return h};h.clamp=function(n){if(!arguments.length)return e&&r?[l,c]:e?l:r?c:null;if(e&&r)l=!!n[0],c=!!n[1];else if(e)l=!!n;else if(r)c=!!n;return h};h.extent=function(n){var t,u,l,c,s;if(!arguments.length){if(e){if(a){t=a[0],u=a[1]}else{t=i[0],u=i[1];if(e.invert)t=e.invert(t),u=e.invert(u);if(u<t)s=t,t=u,u=s}}if(r){if(f){l=f[0],c=f[1]}else{l=o[0],c=o[1];if(r.invert)l=r.invert(l),c=r.invert(c);if(c<l)s=l,l=c,c=s}}return e&&r?[[t,l],[u,c]]:e?[t,u]:r&&[l,c]}if(e){t=n[0],u=n[1];if(r)t=t[0],u=u[0];a=[t,u];if(e.invert)t=e(t),u=e(u);if(u<t)s=t,t=u,u=s;if(t!=i[0]||u!=i[1])i=[t,u]}if(r){l=n[0],c=n[1];if(e)l=l[1],c=c[1];f=[l,c];if(r.invert)l=r(l),c=r(c);if(c<l)s=l,l=c,c=s;if(l!=o[0]||c!=o[1])o=[l,c]}return h};h.clear=function(){if(!h.empty()){i=[0,0],o=[0,0];a=f=null}return h};h.empty=function(){return!!e&&i[0]==i[1]||!!r&&o[0]==o[1]};return n.rebind(h,t,"on")};var Af={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Cf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var zf=Yt.format=xe.timeFormat;var Lf=zf.utc;var Tf=Lf("%Y-%m-%dT%H:%M:%S.%LZ");zf.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qf:Tf;function qf(n){return n.toISOString()}qf.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};qf.toString=Tf.toString;Yt.second=$t(function(n){return new Zt(Math.floor(n/1e3)*1e3)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)},function(n){return n.getSeconds()});Yt.seconds=Yt.second.range;Yt.seconds.utc=Yt.second.utc.range;Yt.minute=$t(function(n){return new Zt(Math.floor(n/6e4)*6e4)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)},function(n){return n.getMinutes()});Yt.minutes=Yt.minute.range;Yt.minutes.utc=Yt.minute.utc.range;Yt.hour=$t(function(n){var t=n.getTimezoneOffset()/60;return new Zt((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)},function(n){return n.getHours()});Yt.hours=Yt.hour.range;Yt.hours.utc=Yt.hour.utc.range;Yt.month=$t(function(n){n=Yt.day(n);n.setDate(1);return n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()});Yt.months=Yt.month.range;Yt.months.utc=Yt.month.utc.range;function Rf(t,e,r){function i(n){return t(n)}i.invert=function(n){return Df(t.invert(n))};i.domain=function(n){if(!arguments.length)return t.domain().map(Df);t.domain(n);return i};function u(t,r){var i=t[1]-t[0],u=i/r,o=n.bisect(Pf,u);return o==Pf.length?[e.year,aa(t.map(function(n){return n/31536e6}),r)[2]]:!o?[If,aa(t,r)[2]]:e[u/Pf[o-1]<Pf[o]/u?o-1:o]}i.nice=function(n,t){var e=i.domain(),r=Go(e),o=n==null?u(r,10):typeof n==="number"&&u(r,n);if(o)n=o[0],t=o[1];function a(e){return!isNaN(e)&&!n.range(e,Df(+e+1),t).length}return i.domain(na(e,t>1?{floor:function(t){while(a(t=n.floor(t)))t=Df(t-1);return t},ceil:function(t){while(a(t=n.ceil(t)))t=Df(+t+1);return t}}:n))};i.ticks=function(n,t){var e=Go(i.domain()),r=n==null?u(e,10):typeof n==="number"?u(e,n):!n.range&&[{range:n},t];if(r)n=r[0],t=r[1];return n.range(e[0],Df(+e[1]+1),t<1?1:t)};i.tickFormat=function(){return r};i.copy=function(){return Rf(t.copy(),e,r)};return ua(i,t)}function Df(n){return new Date(n)}var Pf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Uf=[[Yt.second,1],[Yt.second,5],[Yt.second,15],[Yt.second,30],[Yt.minute,1],[Yt.minute,5],[Yt.minute,15],[Yt.minute,30],[Yt.hour,1],[Yt.hour,3],[Yt.hour,6],[Yt.hour,12],[Yt.day,1],[Yt.day,2],[Yt.week,1],[Yt.month,1],[Yt.month,3],[Yt.year,1]];var jf=zf.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&n.getDate()!=1}],["%b %d",function(n){return n.getDate()!=1}],["%B",function(n){return n.getMonth()}],["%Y",rr]]);var If={range:function(t,e,r){return n.range(Math.ceil(t/r)*r,+e,r).map(Df)},floor:_t,ceil:_t};Uf.year=Yt.year;Yt.scale=function(){return Rf(n.scale.linear(),Uf,jf)};var Hf=Uf.map(function(n){return[n[0].utc,n[1]]});var Ff=Lf.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],["%b %d",function(n){return n.getUTCDate()!=1}],["%B",function(n){return n.getUTCMonth()}],["%Y",rr]]);Hf.year=Yt.year.utc;Yt.scale.utc=function(){return Rf(n.scale.linear(),Hf,Ff)};n.text=bt(function(n){return n.responseText});n.json=function(n,t){return St(n,"application/json",Of,t)};function Of(n){return JSON.parse(n.responseText)}n.html=function(n,t){return St(n,"text/html",Yf,t)};function Yf(n){var t=r.createRange();t.selectNode(r.body);return t.createContextualFragment(n.responseText)}n.xml=bt(function(n){return n.responseXML});if(typeof define==="function"&&define.amd)define(n);else if(typeof module==="object"&&module.exports)module.exports=n;this.d3=n}();
},
	"sap/ui/thirdparty/handlebars.js":function(){
/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define([],r);else if(typeof exports==="object")exports["Handlebars"]=r();else t["Handlebars"]=r()})(this,function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={exports:{},id:i,loaded:false};e[i].call(n.exports,n,n.exports,r);n.loaded=true;return n.exports}r.m=e;r.c=t;r.p="";return r(0)}([function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(2);var s=i(n);var a=r(45);var o=i(a);var u=r(46);var l=r(51);var c=r(52);var p=i(c);var h=r(49);var f=i(h);var d=r(44);var m=i(d);var v=s["default"].create;function g(){var e=v();e.compile=function(t,r){return l.compile(t,r,e)};e.precompile=function(t,r){return l.precompile(t,r,e)};e.AST=o["default"];e.Compiler=l.Compiler;e.JavaScriptCompiler=p["default"];e.Parser=u.parser;e.parse=u.parse;e.parseWithoutProcessing=u.parseWithoutProcessing;return e}var k=g();k.create=g;m["default"](k);k.Visitor=f["default"];k["default"]=k;t["default"]=k;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,r){"use strict";var i=r(3)["default"];var n=r(1)["default"];t.__esModule=true;var s=r(4);var a=i(s);var o=r(37);var u=n(o);var l=r(6);var c=n(l);var p=r(5);var h=i(p);var f=r(38);var d=i(f);var m=r(44);var v=n(m);function g(){var e=new a.HandlebarsEnvironment;h.extend(e,a);e.SafeString=u["default"];e.Exception=c["default"];e.Utils=h;e.escapeExpression=h.escapeExpression;e.VM=d;e.template=function(t){return d.template(t,e)};return e}var k=g();k.create=g;v["default"](k);k["default"]=k;t["default"]=k;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}};t.__esModule=true},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=g;var n=r(5);var s=r(6);var a=i(s);var o=r(10);var u=r(30);var l=r(32);var c=i(l);var p=r(33);var h="4.7.7";t.VERSION=h;var f=8;t.COMPILER_REVISION=f;var d=7;t.LAST_COMPATIBLE_COMPILER_REVISION=d;var m={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=m;var v="[object Object]";function g(e,t,r){this.helpers=e||{};this.partials=t||{};this.decorators=r||{};o.registerDefaultHelpers(this);u.registerDefaultDecorators(this)}g.prototype={constructor:g,logger:c["default"],log:c["default"].log,registerHelper:function e(t,r){if(n.toString.call(t)===v){if(r){throw new a["default"]("Arg not supported with multiple helpers")}n.extend(this.helpers,t)}else{this.helpers[t]=r}},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,r){if(n.toString.call(t)===v){n.extend(this.partials,t)}else{if(typeof r==="undefined"){throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined')}this.partials[t]=r}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,r){if(n.toString.call(t)===v){if(r){throw new a["default"]("Arg not supported with multiple decorators")}n.extend(this.decorators,t)}else{this.decorators[t]=r}},unregisterDecorator:function e(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function e(){p.resetLoggedProperties()}};var k=c["default"].log;t.log=k;t.createFrame=n.createFrame;t.logger=c["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=a;t.indexOf=c;t.escapeExpression=p;t.isEmpty=h;t.createFrame=f;t.blockParams=d;t.appendContextPath=m;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,n=/[&<>"'`=]/;function s(e){return r[e]}function a(e){for(var t=1;t<arguments.length;t++){for(var r in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],r)){e[r]=arguments[t][r]}}}return e}var o=Object.prototype.toString;t.toString=o;
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
var u=function e(t){return typeof t==="function"};if(u(/x/)){t.isFunction=u=function(e){return typeof e==="function"&&o.call(e)==="[object Function]"}}t.isFunction=u;var l=Array.isArray||function(e){return e&&typeof e==="object"?o.call(e)==="[object Array]":false};t.isArray=l;function c(e,t){for(var r=0,i=e.length;r<i;r++){if(e[r]===t){return r}}return-1}function p(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!n.test(e)){return e}return e.replace(i,s)}function h(e){if(!e&&e!==0){return true}else if(l(e)&&e.length===0){return true}else{return false}}function f(e){var t=a({},e);t._parent=e;return t}function d(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,r){"use strict";var i=r(7)["default"];t.__esModule=true;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function s(e,t){var r=t&&t.loc,a=undefined,o=undefined,u=undefined,l=undefined;if(r){a=r.start.line;o=r.end.line;u=r.start.column;l=r.end.column;e+=" - "+a+":"+u}var c=Error.prototype.constructor.call(this,e);for(var p=0;p<n.length;p++){this[n[p]]=c[n[p]]}if(Error.captureStackTrace){Error.captureStackTrace(this,s)}try{if(r){this.lineNumber=a;this.endLineNumber=o;if(i){Object.defineProperty(this,"column",{value:u,enumerable:true});Object.defineProperty(this,"endColumn",{value:l,enumerable:true})}else{this.column=u;this.endColumn=l}}}catch(e){}}s.prototype=new Error;t["default"]=s;e.exports=t["default"]},function(e,t,r){e.exports={default:r(8),__esModule:true}},function(e,t,r){var i=r(9);e.exports=function e(t,r,n){return i.setDesc(t,r,n)}},function(e,t){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;t.registerDefaultHelpers=k;t.moveHelperToHooks=y;var n=r(11);var s=i(n);var a=r(12);var o=i(a);var u=r(25);var l=i(u);var c=r(26);var p=i(c);var h=r(27);var f=i(h);var d=r(28);var m=i(d);var v=r(29);var g=i(v);function k(e){s["default"](e);o["default"](e);l["default"](e);p["default"](e);f["default"](e);m["default"](e);g["default"](e)}function y(e,t,r){if(e.helpers[t]){e.hooks[t]=e.helpers[t];if(!r){delete e.helpers[t]}}}},function(e,t,r){"use strict";t.__esModule=true;var i=r(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,r){var n=r.inverse,s=r.fn;if(t===true){return s(this)}else if(t===false||t==null){return n(this)}else if(i.isArray(t)){if(t.length>0){if(r.ids){r.ids=[r.name]}return e.helpers.each(t,r)}else{return n(this)}}else{if(r.data&&r.ids){var a=i.createFrame(r.data);a.contextPath=i.appendContextPath(r.data.contextPath,r.name);r={data:a}}return s(t,r)}})};e.exports=t["default"]},function(e,t,r){(function(i){"use strict";var n=r(13)["default"];var s=r(1)["default"];t.__esModule=true;var a=r(5);var o=r(6);var u=s(o);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t){throw new u["default"]("Must pass iterator to #each")}var r=t.fn,s=t.inverse,o=0,l="",c=undefined,p=undefined;if(t.data&&t.ids){p=a.appendContextPath(t.data.contextPath,t.ids[0])+"."}if(a.isFunction(e)){e=e.call(this)}if(t.data){c=a.createFrame(t.data)}function h(t,i,n){if(c){c.key=t;c.index=i;c.first=i===0;c.last=!!n;if(p){c.contextPath=p+t}}l=l+r(e[t],{data:c,blockParams:a.blockParams([e[t],t],[p+t,null])})}if(e&&typeof e==="object"){if(a.isArray(e)){for(var f=e.length;o<f;o++){if(o in e){h(o,o,o===e.length-1)}}}else if(i.Symbol&&e[i.Symbol.iterator]){var d=[];var m=e[i.Symbol.iterator]();for(var v=m.next();!v.done;v=m.next()){d.push(v.value)}e=d;for(var f=e.length;o<f;o++){h(o,o,o===e.length-1)}}else{(function(){var t=undefined;n(e).forEach(function(e){if(t!==undefined){h(t,o-1)}t=e;o++});if(t!==undefined){h(t,o-1,true)}})()}}if(o===0){l=s(this)}return l})};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,r){e.exports={default:r(14),__esModule:true}},function(e,t,r){r(15);e.exports=r(21).Object.keys},function(e,t,r){var i=r(16);r(18)("keys",function(e){return function t(r){return e(i(r))}})},function(e,t,r){var i=r(17);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var i=r(19),n=r(21),s=r(24);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],a={};a[e]=t(r);i(i.S+i.F*s(function(){r(1)}),"Object",a)}},function(e,t,r){var i=r(20),n=r(21),s=r(22),a="prototype";var o=function(e,t,r){var u=e&o.F,l=e&o.G,c=e&o.S,p=e&o.P,h=e&o.B,f=e&o.W,d=l?n:n[t]||(n[t]={}),m=l?i:c?i[t]:(i[t]||{})[a],v,g,k;if(l)r=t;for(v in r){g=!u&&m&&v in m;if(g&&v in d)continue;k=g?m[v]:r[v];d[v]=l&&typeof m[v]!="function"?r[v]:h&&g?s(k,i):f&&m[v]==k?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[a]=e[a];return t}(k):p&&typeof k=="function"?s(Function.call,k):k;if(p)(d[a]||(d[a]={}))[v]=k}};o.F=1;o.G=2;o.S=4;o.P=8;o.B=16;o.W=32;e.exports=o},function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},function(e,t){var r=e.exports={version:"1.2.6"};if(typeof __e=="number")__e=r},function(e,t,r){var i=r(23);e.exports=function(e,t,r){i(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(6);var s=i(n);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(5);var s=r(6);var a=i(s);t["default"]=function(e){e.registerHelper("if",function(e,t){if(arguments.length!=2){throw new a["default"]("#if requires exactly one argument")}if(n.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||n.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,r){if(arguments.length!=2){throw new a["default"]("#unless requires exactly one argument")}return e.helpers["if"].call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[undefined],r=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){t.push(arguments[i])}var n=1;if(r.hash.level!=null){n=r.hash.level}else if(r.data&&r.data.level!=null){n=r.data.level}t[0]=n;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t,r){if(!e){return e}return r.lookupProperty(e,t)})};e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(5);var s=r(6);var a=i(s);t["default"]=function(e){e.registerHelper("with",function(e,t){if(arguments.length!=2){throw new a["default"]("#with requires exactly one argument")}if(n.isFunction(e)){e=e.call(this)}var r=t.fn;if(!n.isEmpty(e)){var i=t.data;if(t.data&&t.ids){i=n.createFrame(t.data);i.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])}return r(e,{data:i,blockParams:n.blockParams([e],[i&&i.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;t.registerDefaultDecorators=a;var n=r(31);var s=i(n);function a(e){s["default"](e)}},function(e,t,r){"use strict";t.__esModule=true;var i=r(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,r,n){var s=e;if(!t.partials){t.partials={};s=function(n,s){var a=r.partials;r.partials=i.extend({},a,t.partials);var o=e(n,s);r.partials=a;return o}}t.partials[n.args[0]]=n.fn;return s})};e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var i=r(5);var n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if(typeof t==="string"){var r=i.indexOf(n.methodMap,t.toLowerCase());if(r>=0){t=r}else{t=parseInt(t,10)}}return t},log:function e(t){t=n.lookupLevel(t);if(typeof console!=="undefined"&&n.lookupLevel(n.level)<=t){var r=n.methodMap[t];if(!console[r]){r="log"}for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++){s[a-1]=arguments[a]}console[r].apply(console,s)}}};t["default"]=n;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(34)["default"];var n=r(13)["default"];var s=r(3)["default"];t.__esModule=true;t.createProtoAccessControl=c;t.resultIsAllowed=p;t.resetLoggedProperties=d;var a=r(36);var o=r(32);var u=s(o);var l=i(null);function c(e){var t=i(null);t["constructor"]=false;t["__defineGetter__"]=false;t["__defineSetter__"]=false;t["__lookupGetter__"]=false;var r=i(null);r["__proto__"]=false;return{properties:{whitelist:a.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:a.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function p(e,t,r){if(typeof e==="function"){return h(t.methods,r)}else{return h(t.properties,r)}}function h(e,t){if(e.whitelist[t]!==undefined){return e.whitelist[t]===true}if(e.defaultValue!==undefined){return e.defaultValue}f(t);return false}function f(e){if(l[e]!==true){l[e]=true;u.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\n'+"You can add a runtime option to disable the check or this warning:\n"+"See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details")}}function d(){n(l).forEach(function(e){delete l[e]})}},function(e,t,r){e.exports={default:r(35),__esModule:true}},function(e,t,r){var i=r(9);e.exports=function e(t,r){return i.create(t,r)}},function(e,t,r){"use strict";var i=r(34)["default"];t.__esModule=true;t.createNewLookupObject=s;var n=r(5);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return n.extend.apply(undefined,[i(null)].concat(t))}},function(e,t){"use strict";t.__esModule=true;function r(e){this.string=e}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string};t["default"]=r;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(39)["default"];var n=r(13)["default"];var s=r(3)["default"];var a=r(1)["default"];t.__esModule=true;t.checkRevision=m;t.template=v;t.wrapProgram=g;t.resolvePartial=k;t.invokePartial=y;t.noop=b;var o=r(5);var u=s(o);var l=r(6);var c=a(l);var p=r(4);var h=r(10);var f=r(43);var d=r(33);function m(e){var t=e&&e[0]||1,r=p.COMPILER_REVISION;if(t>=p.LAST_COMPATIBLE_COMPILER_REVISION&&t<=p.COMPILER_REVISION){return}if(t<p.LAST_COMPATIBLE_COMPILER_REVISION){var i=p.REVISION_CHANGES[r],n=p.REVISION_CHANGES[t];throw new c["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+n+").")}else{throw new c["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}function v(e,t){if(!t){throw new c["default"]("No environment passed to template")}if(!e||!e.main){throw new c["default"]("Unknown template object: "+typeof e)}e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);var r=e.compiler&&e.compiler[0]===7;function n(r,i,n){if(n.hash){i=u.extend({},i,n.hash);if(n.ids){n.ids[0]=true}}r=t.VM.resolvePartial.call(this,r,i,n);var s=u.extend({},n,{hooks:this.hooks,protoAccessControl:this.protoAccessControl});var a=t.VM.invokePartial.call(this,r,i,s);if(a==null&&t.compile){n.partials[n.name]=t.compile(r,e.compilerOptions,t);a=n.partials[n.name](i,s)}if(a!=null){if(n.indent){var o=a.split("\n");for(var l=0,p=o.length;l<p;l++){if(!o[l]&&l+1===p){break}o[l]=n.indent+o[l]}a=o.join("\n")}return a}else{throw new c["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}}var s={strict:function e(t,r,i){if(!t||!(r in t)){throw new c["default"]('"'+r+'" not defined in '+t,{loc:i})}return s.lookupProperty(t,r)},lookupProperty:function e(t,r){var i=t[r];if(i==null){return i}if(Object.prototype.hasOwnProperty.call(t,r)){return i}if(d.resultIsAllowed(i,s.protoAccessControl,r)){return i}return undefined},lookup:function e(t,r){var i=t.length;for(var n=0;n<i;n++){var a=t[n]&&s.lookupProperty(t[n],r);if(a!=null){return t[n][r]}}},lambda:function e(t,r){return typeof t==="function"?t.call(r):t},escapeExpression:u.escapeExpression,invokePartial:n,fn:function t(r){var i=e[r];i.decorator=e[r+"_d"];return i},programs:[],program:function e(t,r,i,n,s){var a=this.programs[t],o=this.fn(t);if(r||s||n||i){a=g(this,t,o,r,i,n,s)}else if(!a){a=this.programs[t]=g(this,t,o)}return a},data:function e(t,r){while(t&&r--){t=t._parent}return t},mergeIfNeeded:function e(t,r){var i=t||r;if(t&&r&&t!==r){i=u.extend({},r,t)}return i},nullContext:i({}),noop:t.VM.noop,compilerInfo:e.compiler};function a(t){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i=r.data;a._setup(r);if(!r.partial&&e.useData){i=S(t,i)}var n=undefined,o=e.useBlockParams?[]:undefined;if(e.useDepths){if(r.depths){n=t!=r.depths[0]?[t].concat(r.depths):r.depths}else{n=[t]}}function u(t){return""+e.main(s,t,s.helpers,s.partials,i,o,n)}u=_(e.main,u,s,r.depths||[],i,o);return u(t,r)}a.isTop=true;a._setup=function(i){if(!i.partial){var n=u.extend({},t.helpers,i.helpers);P(n,s);s.helpers=n;if(e.usePartial){s.partials=s.mergeIfNeeded(i.partials,t.partials)}if(e.usePartial||e.useDecorators){s.decorators=u.extend({},t.decorators,i.decorators)}s.hooks={};s.protoAccessControl=d.createProtoAccessControl(i);var a=i.allowCallsToHelperMissing||r;h.moveHelperToHooks(s,"helperMissing",a);h.moveHelperToHooks(s,"blockHelperMissing",a)}else{s.protoAccessControl=i.protoAccessControl;s.helpers=i.helpers;s.partials=i.partials;s.decorators=i.decorators;s.hooks=i.hooks}};a._child=function(t,r,i,n){if(e.useBlockParams&&!i){throw new c["default"]("must pass block params")}if(e.useDepths&&!n){throw new c["default"]("must pass parent depths")}return g(s,t,e[t],r,0,i,n)};return a}function g(e,t,r,i,n,s,a){function o(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var o=a;if(a){o=[t].concat(a)}return r(e,t,e.helpers,e.partials,n.data||i,s&&[n.blockParams].concat(s),o)}o=_(r,o,e,a,i,s);o.program=t;o.depth=a?a.length:0;o.blockParams=n||0;return o}function k(e,t,r){if(!e){if(r.name==="@partial-block"){e=r.data["partial-block"]}else{e=r.partials[r.name]}}else if(!e.call&&!r.name){r.name=e;e=r.partials[e]}return e}function y(e,t,r){var i=r.data&&r.data["partial-block"];r.partial=true;if(r.ids){r.data.contextPath=r.ids[0]||r.data.contextPath}var n=undefined;if(r.fn&&r.fn!==b){(function(){r.data=p.createFrame(r.data);var e=r.fn;n=r.data["partial-block"]=function t(r){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n.data=p.createFrame(n.data);n.data["partial-block"]=i;return e(r,n)};if(e.partials){r.partials=u.extend({},r.partials,e.partials)}})()}if(e===undefined&&n){e=n}if(e===undefined){throw new c["default"]("The partial "+r.name+" could not be found")}else if(e instanceof Function){return e(t,r)}}function b(){return""}function S(e,t){if(!t||!("root"in t)){t=t?p.createFrame(t):{};t.root=e}return t}function _(e,t,r,i,n,s){if(e.decorator){var a={};t=e.decorator(t,a,r,i&&i[0],n,s,i);u.extend(t,a)}return t}function P(e,t){n(e).forEach(function(r){var i=e[r];e[r]=x(i,t)})}function x(e,t){var r=t.lookupProperty;return f.wrapHelper(e,function(e){return u.extend({lookupProperty:r},e)})}},function(e,t,r){e.exports={default:r(40),__esModule:true}},function(e,t,r){r(41);e.exports=r(21).Object.seal},function(e,t,r){var i=r(42);r(18)("seal",function(e){return function t(r){return e&&i(r)?e(r):r}})},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t){"use strict";t.__esModule=true;t.wrapHelper=r;function r(e,t){if(typeof e!=="function"){return e}var r=function r(){var i=arguments[arguments.length-1];arguments[arguments.length-1]=t(i);return e.apply(this,arguments)};return r}},function(e,t){(function(r){"use strict";t.__esModule=true;t["default"]=function(e){var t=typeof r!=="undefined"?r:window,i=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=i}return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var r={helpers:{helperExpression:function e(t){return t.type==="SubExpression"||(t.type==="MustacheStatement"||t.type==="BlockStatement")&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return t.parts.length===1&&!r.helpers.scopedId(t)&&!t.depth}}};t["default"]=r;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];var n=r(3)["default"];t.__esModule=true;t.parseWithoutProcessing=f;t.parse=d;var s=r(47);var a=i(s);var o=r(48);var u=i(o);var l=r(50);var c=n(l);var p=r(5);t.parser=a["default"];var h={};p.extend(h,c);function f(e,t){if(e.type==="Program"){return e}a["default"].yy=h;h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)};var r=a["default"].parse(e);return r}function d(e,t){var r=f(e,t);var i=new u["default"](t);return i.accept(r)}},function(e,t){"use strict";t.__esModule=true;var r=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,r,i,n,s,a,o){var u=a.length-1;switch(s){case 1:return a[u-1];break;case 2:this.$=n.prepareProgram(a[u]);break;case 3:this.$=a[u];break;case 4:this.$=a[u];break;case 5:this.$=a[u];break;case 6:this.$=a[u];break;case 7:this.$=a[u];break;case 8:this.$=a[u];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(a[u]),strip:n.stripFlags(a[u],a[u]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[u],value:a[u],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(a[u-2],a[u-1],a[u],this._$);break;case 12:this.$={path:a[u-3],params:a[u-2],hash:a[u-1]};break;case 13:this.$=n.prepareBlock(a[u-3],a[u-2],a[u-1],a[u],false,this._$);break;case 14:this.$=n.prepareBlock(a[u-3],a[u-2],a[u-1],a[u],true,this._$);break;case 15:this.$={open:a[u-5],path:a[u-4],params:a[u-3],hash:a[u-2],blockParams:a[u-1],strip:n.stripFlags(a[u-5],a[u])};break;case 16:this.$={path:a[u-4],params:a[u-3],hash:a[u-2],blockParams:a[u-1],strip:n.stripFlags(a[u-5],a[u])};break;case 17:this.$={path:a[u-4],params:a[u-3],hash:a[u-2],blockParams:a[u-1],strip:n.stripFlags(a[u-5],a[u])};break;case 18:this.$={strip:n.stripFlags(a[u-1],a[u-1]),program:a[u]};break;case 19:var l=n.prepareBlock(a[u-2],a[u-1],a[u],a[u],false,this._$),c=n.prepareProgram([l],a[u-1].loc);c.chained=true;this.$={strip:a[u-2].strip,program:c,chain:true};break;case 20:this.$=a[u];break;case 21:this.$={path:a[u-1],strip:n.stripFlags(a[u-2],a[u])};break;case 22:this.$=n.prepareMustache(a[u-3],a[u-2],a[u-1],a[u-4],n.stripFlags(a[u-4],a[u]),this._$);break;case 23:this.$=n.prepareMustache(a[u-3],a[u-2],a[u-1],a[u-4],n.stripFlags(a[u-4],a[u]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[u-3],params:a[u-2],hash:a[u-1],indent:"",strip:n.stripFlags(a[u-4],a[u]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(a[u-2],a[u-1],a[u],this._$);break;case 26:this.$={path:a[u-3],params:a[u-2],hash:a[u-1],strip:n.stripFlags(a[u-4],a[u])};break;case 27:this.$=a[u];break;case 28:this.$=a[u];break;case 29:this.$={type:"SubExpression",path:a[u-3],params:a[u-2],hash:a[u-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[u],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(a[u-2]),value:a[u],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(a[u-1]);break;case 33:this.$=a[u];break;case 34:this.$=a[u];break;case 35:this.$={type:"StringLiteral",value:a[u],original:a[u],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[u]),original:Number(a[u]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:a[u]==="true",original:a[u]==="true",loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:this.$=a[u];break;case 41:this.$=a[u];break;case 42:this.$=n.preparePath(true,a[u],this._$);break;case 43:this.$=n.preparePath(false,a[u],this._$);break;case 44:a[u-2].push({part:n.id(a[u]),original:a[u],separator:a[u-1]});this.$=a[u-2];break;case 45:this.$=[{part:n.id(a[u]),original:a[u]}];break;case 46:this.$=[];break;case 47:a[u-1].push(a[u]);break;case 48:this.$=[];break;case 49:a[u-1].push(a[u]);break;case 50:this.$=[];break;case 51:a[u-1].push(a[u]);break;case 58:this.$=[];break;case 59:a[u-1].push(a[u]);break;case 64:this.$=[];break;case 65:a[u-1].push(a[u]);break;case 70:this.$=[];break;case 71:a[u-1].push(a[u]);break;case 78:this.$=[];break;case 79:a[u-1].push(a[u]);break;case 82:this.$=[];break;case 83:a[u-1].push(a[u]);break;case 86:this.$=[];break;case 87:a[u-1].push(a[u]);break;case 90:this.$=[];break;case 91:a[u-1].push(a[u]);break;case 94:this.$=[];break;case 95:a[u-1].push(a[u]);break;case 98:this.$=[a[u]];break;case 99:a[u-1].push(a[u]);break;case 100:this.$=[a[u]];break;case 101:a[u-1].push(a[u]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function e(t,r){throw new Error(t)},parse:function e(t){var r=this,i=[0],n=[null],s=[],a=this.table,o="",u=0,l=0,c=0,p=2,h=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var f=this.lexer.yylloc;s.push(f);var d=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function m(e){i.length=i.length-2*e;n.length=n.length-e;s.length=s.length-e}function v(){var e;e=r.lexer.lex()||1;if(typeof e!=="number"){e=r.symbols_[e]||e}return e}var g,k,y,b,S,_,P={},x,w,E,L;while(true){y=i[i.length-1];if(this.defaultActions[y]){b=this.defaultActions[y]}else{if(g===null||typeof g=="undefined"){g=v()}b=a[y]&&a[y][g]}if(typeof b==="undefined"||!b.length||!b[0]){var C="";if(!c){L=[];for(x in a[y])if(this.terminals_[x]&&x>2){L.push("'"+this.terminals_[x]+"'")}if(this.lexer.showPosition){C="Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[g]||g)+"'"}else{C="Parse error on line "+(u+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'")}this.parseError(C,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:f,expected:L})}}if(b[0]instanceof Array&&b.length>1){throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g)}switch(b[0]){case 1:i.push(g);n.push(this.lexer.yytext);s.push(this.lexer.yylloc);i.push(b[1]);g=null;if(!k){l=this.lexer.yyleng;o=this.lexer.yytext;u=this.lexer.yylineno;f=this.lexer.yylloc;if(c>0)c--}else{g=k;k=null}break;case 2:w=this.productions_[b[1]][1];P.$=n[n.length-w];P._$={first_line:s[s.length-(w||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(w||1)].first_column,last_column:s[s.length-1].last_column};if(d){P._$.range=[s[s.length-(w||1)].range[0],s[s.length-1].range[1]]}_=this.performAction.call(P,o,l,u,this.yy,b[1],n,s);if(typeof _!=="undefined"){return _}if(w){i=i.slice(0,-1*w*2);n=n.slice(0,-1*w);s=s.slice(0,-1*w)}i.push(this.productions_[b[1]][0]);n.push(P.$);s.push(P._$);E=a[i[i.length-2]][i[i.length-1]];i.push(E);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,r){if(this.yy.parser){this.yy.parser.parseError(t,r)}else{throw new Error(t)}},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var r=t.match(/(?:\r\n?|\n).*/g);if(r){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var r=t.length;var i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-r-1);this.offset-=r;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(i.length-1)this.yylineno-=i.length-1;var s=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-r};if(this.options.ranges){this.yylloc.range=[s[0],s[0]+this.yyleng-r]}return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;if(t.length<20){t+=this._input.substr(0,20-t.length)}return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var r=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+r+"^"},next:function e(){if(this.done){return this.EOF}if(!this._input)this.done=true;var t,r,i,n,s,a;if(!this._more){this.yytext="";this.match=""}var o=this._currentRules();for(var u=0;u<o.length;u++){i=this._input.match(this.rules[o[u]]);if(i&&(!r||i[0].length>r[0].length)){r=i;n=u;if(!this.options.flex)break}}if(r){a=r[0].match(/(?:\r\n?|\n).*/g);if(a)this.yylineno+=a.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+r[0].length};this.yytext+=r[0];this.match+=r[0];this.matches=r;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(r[0].length);this.matched+=r[0];t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(t)return t;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(typeof t!=="undefined"){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,r,i,n){function s(e,t){return r.yytext=r.yytext.substring(e,r.yyleng-t+e)}var a=n;switch(i){case 0:if(r.yytext.slice(-2)==="\\\\"){s(0,1);this.begin("mu")}else if(r.yytext.slice(-1)==="\\"){s(0,1);this.begin("emu")}else{this.begin("mu")}if(r.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{s(5,9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(r.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:r.yytext=s(1,2).replace(/\\"/g,'"');return 80;break;case 32:r.yytext=s(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:r.yytext=r.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function r(){this.yy={}}r.prototype=e;e.Parser=r;return new r}();t["default"]=r;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(49);var s=i(n);function a(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=e}a.prototype=new s["default"];a.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var r=!this.isRootSeen;this.isRootSeen=true;var i=e.body;for(var n=0,s=i.length;n<s;n++){var a=i[n],p=this.accept(a);if(!p){continue}var h=o(i,n,r),f=u(i,n,r),d=p.openStandalone&&h,m=p.closeStandalone&&f,v=p.inlineStandalone&&h&&f;if(p.close){l(i,n,true)}if(p.open){c(i,n,true)}if(t&&v){l(i,n);if(c(i,n)){if(a.type==="PartialStatement"){a.indent=/([ \t]+$)/.exec(i[n-1].original)[1]}}}if(t&&d){l((a.program||a.inverse).body);c(i,n)}if(t&&m){l(i,n);c((a.inverse||a.program).body)}}return e};a.prototype.BlockStatement=a.prototype.DecoratorBlock=a.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,i=r,n=r;if(r&&r.chained){i=r.body[0].program;while(n.chained){n=n.body[n.body.length-1].program}}var s={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:u(t.body),closeStandalone:o((i||t).body)};if(e.openStrip.close){l(t.body,null,true)}if(r){var a=e.inverseStrip;if(a.open){c(t.body,null,true)}if(a.close){l(i.body,null,true)}if(e.closeStrip.open){c(n.body,null,true)}if(!this.options.ignoreStandalone&&o(t.body)&&u(i.body)){c(t.body);l(i.body)}}else if(e.closeStrip.open){c(t.body,null,true)}return s};a.prototype.Decorator=a.prototype.MustacheStatement=function(e){return e.strip};a.prototype.PartialStatement=a.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function o(e,t,r){if(t===undefined){t=e.length}var i=e[t-1],n=e[t-2];if(!i){return r}if(i.type==="ContentStatement"){return(n||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}}function u(e,t,r){if(t===undefined){t=-1}var i=e[t+1],n=e[t+2];if(!i){return r}if(i.type==="ContentStatement"){return(n||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}}function l(e,t,r){var i=e[t==null?0:t+1];if(!i||i.type!=="ContentStatement"||!r&&i.rightStripped){return}var n=i.value;i.value=i.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,"");i.rightStripped=i.value!==n}function c(e,t,r){var i=e[t==null?e.length-1:t-1];if(!i||i.type!=="ContentStatement"||!r&&i.leftStripped){return}var n=i.value;i.value=i.value.replace(r?/\s+$/:/[ \t]+$/,"");i.leftStripped=i.value!==n;return i.leftStripped}t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;var n=r(6);var s=i(n);function a(){this.parents=[]}a.prototype={constructor:a,mutating:false,acceptKey:function e(t,r){var i=this.accept(t[r]);if(this.mutating){if(i&&!a.prototype[i.type]){throw new s["default"]('Unexpected node type "'+i.type+'" found when accepting '+r+" on "+t.type)}t[r]=i}},acceptRequired:function e(t,r){this.acceptKey(t,r);if(!t[r]){throw new s["default"](t.type+" requires "+r)}},acceptArray:function e(t){for(var r=0,i=t.length;r<i;r++){this.acceptKey(t,r);if(!t[r]){t.splice(r,1);r--;i--}}},accept:function e(t){if(!t){return}if(!this[t.type]){throw new s["default"]("Unknown type: "+t.type,t)}if(this.current){this.parents.unshift(this.current)}this.current=t;var r=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||r){return r}else if(r!==false){return t}},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:u,DecoratorBlock:u,PartialStatement:l,PartialBlockStatement:function e(t){l.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:o,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function o(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function u(e){o.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function l(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(1)["default"];t.__esModule=true;t.SourceLocation=o;t.id=u;t.stripFlags=l;t.stripComment=c;t.preparePath=p;t.prepareMustache=h;t.prepareRawBlock=f;t.prepareBlock=d;t.prepareProgram=m;t.preparePartialBlock=v;var n=r(6);var s=i(n);function a(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var r={loc:e.path.loc};throw new s["default"](e.path.original+" doesn't match "+t,r)}}function o(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function u(e){if(/^\[.*\]$/.test(e)){return e.substring(1,e.length-1)}else{return e}}function l(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function c(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function p(e,t,r){r=this.locInfo(r);var i=e?"@":"",n=[],a=0;for(var o=0,u=t.length;o<u;o++){var l=t[o].part,c=t[o].original!==l;i+=(t[o].separator||"")+l;if(!c&&(l===".."||l==="."||l==="this")){if(n.length>0){throw new s["default"]("Invalid path: "+i,{loc:r})}else if(l===".."){a++}}else{n.push(l)}}return{type:"PathExpression",data:e,depth:a,parts:n,original:i,loc:r}}function h(e,t,r,i,n,s){var a=i.charAt(3)||i.charAt(2),o=a!=="{"&&a!=="&";var u=/\*/.test(i);return{type:u?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:o,strip:n,loc:this.locInfo(s)}}function f(e,t,r,i){a(e,r);i=this.locInfo(i);var n={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:n,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function d(e,t,r,i,n,o){if(i&&i.path){a(e,i)}var u=/\*/.test(e.open);t.blockParams=e.blockParams;var l=undefined,c=undefined;if(r){if(u){throw new s["default"]("Unexpected inverse block on decorator",r)}if(r.chain){r.program.body[0].closeStrip=i.strip}c=r.strip;l=r.program}if(n){n=l;l=t;t=n}return{type:u?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function m(e,t){if(!t&&e.length){var r=e[0].loc,i=e[e.length-1].loc;if(r&&i){t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:i.end.line,column:i.end.column}}}}return{type:"Program",body:e,strip:{},loc:t}}function v(e,t,r,i){a(e,r);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(i)}}},function(e,t,r){"use strict";var i=r(34)["default"];var n=r(1)["default"];t.__esModule=true;t.Compiler=p;t.precompile=h;t.compile=f;var s=r(6);var a=n(s);var o=r(5);var u=r(45);var l=n(u);var c=[].slice;function p(){}p.prototype={compiler:p,equals:function e(t){var r=this.opcodes.length;if(t.opcodes.length!==r){return false}for(var i=0;i<r;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!d(n.args,s.args)){return false}}r=this.children.length;for(var i=0;i<r;i++){if(!this.children[i].equals(t.children[i])){return false}}return true},guid:0,compile:function e(t,r){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=r;this.stringParams=r.stringParams;this.trackIds=r.trackIds;r.blockParams=r.blockParams||[];r.knownHelpers=o.extend(i(null),{helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true},r.knownHelpers);return this.accept(t)},compileProgram:function e(t){var r=new this.compiler,i=r.compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial;this.children[n]=i;this.useDepths=this.useDepths||i.useDepths;return n},accept:function e(t){if(!this[t.type]){throw new a["default"]("Unknown type: "+t.type,t)}this.sourceNode.unshift(t);var r=this[t.type](t);this.sourceNode.shift();return r},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var r=t.body,i=r.length;for(var n=0;n<i;n++){this.accept(r[n])}this.options.blockParams.shift();this.isSimple=i===1;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){m(t);var r=t.program,i=t.inverse;r=r&&this.compileProgram(r);i=i&&this.compileProgram(i);var n=this.classifySexpr(t);if(n==="helper"){this.helperSexpr(t,r,i)}else if(n==="simple"){this.simpleSexpr(t);this.opcode("pushProgram",r);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,r,i);this.opcode("pushProgram",r);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var r=t.program&&this.compileProgram(t.program);var i=this.setupFullMustacheParams(t,r,undefined),n=t.path;this.useDecorators=true;this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function e(t){this.usePartial=true;var r=t.program;if(r){r=this.compileProgram(t.program)}var i=t.params;if(i.length>1){throw new a["default"]("Unsupported number of partial arguments: "+i.length,t)}else if(!i.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{i.push({type:"PathExpression",parts:[],depth:0})}}var n=t.name.original,s=t.name.type==="SubExpression";if(s){this.accept(t.name)}this.setupFullMustacheParams(t,r,undefined,true);var o=t.indent||"";if(this.options.preventIndent&&o){this.opcode("appendContent",o);o=""}this.opcode("invokePartial",s,n,o);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);if(t.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){if(t.value){this.opcode("appendContent",t.value)}},CommentStatement:function e(){},SubExpression:function e(t){m(t);var r=this.classifySexpr(t);if(r==="simple"){this.simpleSexpr(t)}else if(r==="helper"){this.helperSexpr(t)}else{this.ambiguousSexpr(t)}},ambiguousSexpr:function e(t,r,i){var n=t.path,s=n.parts[0],a=r!=null||i!=null;this.opcode("getContext",n.depth);this.opcode("pushProgram",r);this.opcode("pushProgram",i);n.strict=true;this.accept(n);this.opcode("invokeAmbiguous",s,a)},simpleSexpr:function e(t){var r=t.path;r.strict=true;this.accept(r);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,r,i){var n=this.setupFullMustacheParams(t,r,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o]){this.opcode("invokeKnownHelper",n.length,o)}else if(this.options.knownHelpersOnly){throw new a["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t)}else{s.strict=true;s.falsy=true;this.accept(s);this.opcode("invokeHelper",n.length,s.original,l["default"].helpers.simpleId(s))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var r=t.parts[0],i=l["default"].helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(r);if(n){this.opcode("lookupBlockParam",n,t.parts)}else if(!r){this.opcode("pushContext")}else if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else{this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i)}},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var r=t.pairs,i=0,n=r.length;this.opcode("pushHash");for(;i<n;i++){this.pushParam(r[i].value)}while(i--){this.opcode("assignToHash",r[i].key)}this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:c.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t){return}this.useDepths=true},classifySexpr:function e(t){var r=l["default"].helpers.simpleId(t.path);var i=r&&!!this.blockParamIndex(t.path.parts[0]);var n=!i&&l["default"].helpers.helperExpression(t);var s=!i&&(n||r);if(s&&!n){var a=t.path.parts[0],o=this.options;if(o.knownHelpers[a]){n=true}else if(o.knownHelpersOnly){s=false}}if(n){return"helper"}else if(s){return"ambiguous"}else{return"simple"}},pushParams:function e(t){for(var r=0,i=t.length;r<i;r++){this.pushParam(t[r])}},pushParam:function e(t){var r=t.value!=null?t.value:t.original||"";if(this.stringParams){if(r.replace){r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(t.depth){this.addDepth(t.depth)}this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",r,t.type);if(t.type==="SubExpression"){this.accept(t)}}else{if(this.trackIds){var i=undefined;if(t.parts&&!l["default"].helpers.scopedId(t)&&!t.depth){i=this.blockParamIndex(t.parts[0])}if(i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else{r=t.original||r;if(r.replace){r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",t.type,r)}}this.accept(t)}},setupFullMustacheParams:function e(t,r,i,n){var s=t.params;this.pushParams(s);this.opcode("pushProgram",r);this.opcode("pushProgram",i);if(t.hash){this.accept(t.hash)}else{this.opcode("emptyHash",n)}return s},blockParamIndex:function e(t){for(var r=0,i=this.options.blockParams.length;r<i;r++){var n=this.options.blockParams[r],s=n&&o.indexOf(n,t);if(n&&s>=0){return[r,s]}}}};function h(e,t,r){if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new a["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e)}t=t||{};if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=r.parse(e,t),n=(new r.Compiler).compile(i,t);return(new r.JavaScriptCompiler).compile(n,t)}function f(e,t,r){if(t===undefined)t={};if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new a["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e)}t=o.extend({},t);if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=undefined;function n(){var i=r.parse(e,t),n=(new r.Compiler).compile(i,t),s=(new r.JavaScriptCompiler).compile(n,t,undefined,true);return r.template(s)}function s(e,t){if(!i){i=n()}return i.call(this,e,t)}s._setup=function(e){if(!i){i=n()}return i._setup(e)};s._child=function(e,t,r,s){if(!i){i=n()}return i._child(e,t,r,s)};return s}function d(e,t){if(e===t){return true}if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++){if(!d(e[r],t[r])){return false}}return true}}function m(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,r){"use strict";var i=r(13)["default"];var n=r(1)["default"];t.__esModule=true;var s=r(4);var a=r(6);var o=n(a);var u=r(5);var l=r(53);var c=n(l);function p(e){this.value=e}function h(){}h.prototype={nameLookup:function e(t,r){return this.internalNameLookup(t,r)},depthedLookup:function e(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function e(){var t=s.COMPILER_REVISION,r=s.REVISION_CHANGES[t];return[t,r]},appendToBuffer:function e(t,r,i){if(!u.isArray(t)){t=[t]}t=this.source.wrap(t,r);if(this.environment.isSimple){return["return ",t,";"]}else if(i){return["buffer += ",t,";"]}else{t.appendToBuffer=true;return t}},initializeBuffer:function e(){return this.quotedString("")},internalNameLookup:function e(t,r){this.lookupPropertyFunctionIsUsed=true;return["lookupProperty(",t,",",JSON.stringify(r),")"]},lookupPropertyFunctionIsUsed:false,compile:function e(t,r,i,n){this.environment=t;this.options=r;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!n;this.name=this.environment.name;this.isChild=!!i;this.context=i||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,r);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var s=t.opcodes,a=undefined,u=undefined,l=undefined,c=undefined;for(l=0,c=s.length;l<c;l++){a=s[l];this.source.currentLocation=a.loc;u=u||a.loc;this[a.opcode].apply(this,a.args)}this.source.currentLocation=u;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new o["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]);this.decorators.push("return fn;");if(n){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var p=this.createFunctionContext(n);if(!this.isChild){var h={compiler:this.compilerInfo(),main:p};if(this.decorators){h.main_d=this.decorators;h.useDecorators=true}var f=this.context;var d=f.programs;var m=f.decorators;for(l=0,c=d.length;l<c;l++){if(d[l]){h[l]=d[l];if(m[l]){h[l+"_d"]=m[l];h.useDecorators=true}}}if(this.environment.usePartial){h.usePartial=true}if(this.options.data){h.useData=true}if(this.useDepths){h.useDepths=true}if(this.useBlockParams){h.useBlockParams=true}if(this.options.compat){h.compat=true}if(!n){h.compiler=JSON.stringify(h.compiler);this.source.currentLocation={start:{line:1,column:0}};h=this.objectLiteral(h);if(r.srcName){h=h.toStringWithSourceMap({file:r.destName});h.map=h.map&&h.map.toString()}else{h=h.toString()}}else{h.compilerOptions=this.options}return h}else{return p}},preamble:function e(){this.lastContext=0;this.source=new c["default"](this.options.srcName);this.decorators=new c["default"](this.options.srcName)},createFunctionContext:function e(t){var r=this;var n="";var s=this.stackVars.concat(this.registers.list);if(s.length>0){n+=", "+s.join(", ")}var a=0;i(this.aliases).forEach(function(e){var t=r.aliases[e];if(t.children&&t.referenceCount>1){n+=", alias"+ ++a+"="+e;t.children[0]="alias"+a}});if(this.lookupPropertyFunctionIsUsed){n+=", "+this.lookupPropertyFunctionVarDeclaration()}var o=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){o.push("blockParams")}if(this.useDepths){o.push("depths")}var u=this.mergeSource(n);if(t){o.push(u);return Function.apply(this,o)}else{return this.source.wrap(["function(",o.join(","),") {\n  ",u,"}"])}},mergeSource:function e(t){var r=this.environment.isSimple,i=!this.forceBuffer,n=undefined,s=undefined,a=undefined,o=undefined;this.source.each(function(e){if(e.appendToBuffer){if(a){e.prepend("  + ")}else{a=e}o=e}else{if(a){if(!s){n=true}else{a.prepend("buffer += ")}o.add(";");a=o=undefined}s=true;if(!r){i=false}}});if(i){if(a){a.prepend("return ");o.add(";")}else if(!s){this.source.push('return "";')}}else{t+=", buffer = "+(n?"":this.initializeBuffer());if(a){a.prepend("return buffer + ");o.add(";")}else{this.source.push("return buffer;")}}if(t){this.source.prepend("var "+t.substring(2)+(n?"":";\n"))}return this.source.merge()},lookupPropertyFunctionVarDeclaration:function e(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function e(t){var r=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n);this.push(this.source.functionCall(r,"call",i))},ambiguousBlockValue:function e(){var t=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs("",0,r,true);this.flushInline();var i=this.topStack();r.splice(1,0,i);this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",r),"}"])},appendContent:function e(t){if(this.pendingContent){t=this.pendingContent+t}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,r,i,n){var s=0;if(!n&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(t[s++]))}else{this.pushContext()}this.resolvePath("context",t,s,r,i)},lookupBlockParam:function e(t,r){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",r,1)},lookupData:function e(t,r,i){if(!t){this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+t+")")}this.resolvePath("data",r,0,true,i)},resolvePath:function e(t,r,i,n,s){var a=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&s,this,r,t));return}var o=r.length;for(;i<o;i++){this.replaceStack(function(e){var s=a.nameLookup(e,r[i],t);if(!n){return[" != null ? ",s," : ",e]}else{return[" && ",s]}})}},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,r){this.pushContext();this.pushString(r);if(r!=="SubExpression"){if(typeof t==="string"){this.pushString(t)}else{this.pushStackLiteral(t)}}},emptyHash:function e(t){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(t.ids))}if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){if(t!=null){this.pushStackLiteral(this.programExpression(t))}else{this.pushStackLiteral(null)}},registerDecorator:function e(t,r){var i=this.nameLookup("decorators",r,"decorator"),n=this.setupHelperArgs(r,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function e(t,r,i){var n=this.popStack(),s=this.setupHelper(t,r);var a=[];if(i){a.push(s.name)}a.push(n);if(!this.options.strict){a.push(this.aliasable("container.hooks.helperMissing"))}var o=["(",this.itemsSeparatedBy(a,"||"),")"];var u=this.source.functionCall(o,"call",s.callParams);this.push(u)},itemsSeparatedBy:function e(t,r){var i=[];i.push(t[0]);for(var n=1;n<t.length;n++){i.push(r,t[n])}return i},invokeKnownHelper:function e(t,r){var i=this.setupHelper(t,r);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function e(t,r){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,r);var s=this.lastHelper=this.nameLookup("helpers",t,"helper");var a=["(","(helper = ",s," || ",i,")"];if(!this.options.strict){a[0]="(helper = ";a.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))}this.push(["(",a,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function e(t,r,i){var n=[],s=this.setupParams(r,1,n);if(t){r=this.popStack();delete s.name}if(i){s.indent=JSON.stringify(i)}s.helpers="helpers";s.partials="partials";s.decorators="container.decorators";if(!t){n.unshift(this.nameLookup("partials",r,"partial"))}else{n.unshift(r)}if(this.options.compat){s.depths="depths"}s=this.objectLiteral(s);n.push(s);this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function e(t){var r=this.popStack(),i=undefined,n=undefined,s=undefined;if(this.trackIds){s=this.popStack()}if(this.stringParams){n=this.popStack();i=this.popStack()}var a=this.hash;if(i){a.contexts[t]=i}if(n){a.types[t]=n}if(s){a.ids[t]=s}a.values[t]=r},pushId:function e(t,r,i){if(t==="BlockParam"){this.pushStackLiteral("blockParams["+r[0]+"].path["+r[1]+"]"+(i?" + "+JSON.stringify("."+i):""))}else if(t==="PathExpression"){this.pushString(r)}else if(t==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:h,compileChildren:function e(t,r){var i=t.children,n=undefined,s=undefined;for(var a=0,o=i.length;a<o;a++){n=i[a];s=new this.compiler;var u=this.matchExistingProgram(n);if(u==null){this.context.programs.push("");var l=this.context.programs.length;n.index=l;n.name="program"+l;this.context.programs[l]=s.compile(n,r,this.context,!this.precompile);this.context.decorators[l]=s.decorators;this.context.environments[l]=n;this.useDepths=this.useDepths||s.useDepths;this.useBlockParams=this.useBlockParams||s.useBlockParams;n.useDepths=this.useDepths;n.useBlockParams=this.useBlockParams}else{n.index=u.index;n.name="program"+u.index;this.useDepths=this.useDepths||u.useDepths;this.useBlockParams=this.useBlockParams||u.useBlockParams}}},matchExistingProgram:function e(t){for(var r=0,i=this.context.environments.length;r<i;r++){var n=this.context.environments[r];if(n&&n.equals(t)){return n}}},programExpression:function e(t){var r=this.environment.children[t],i=[r.index,"data",r.blockParams];if(this.useBlockParams||this.useDepths){i.push("blockParams")}if(this.useDepths){i.push("depths")}return"container.program("+i.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){if(!(t instanceof p)){t=this.source.wrap(t)}this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new p(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(t){this.source.push(t)}},replaceStack:function e(t){var r=["("],i=undefined,n=undefined,s=undefined;if(!this.isInline()){throw new o["default"]("replaceStack on non-inline")}var a=this.popStack(true);if(a instanceof p){i=[a.value];r=["(",i];s=true}else{n=true;var u=this.incrStack();r=["((",this.push(u)," = ",a,")"];i=this.topStack()}var l=t.call(this,i);if(!s){this.popStack()}if(n){this.stackSlot--}this.push(r.concat(l,")"))},incrStack:function e(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var r=0,i=t.length;r<i;r++){var n=t[r];if(n instanceof p){this.compileStack.push(n)}else{var s=this.incrStack();this.pushSource([s," = ",n,";"]);this.compileStack.push(s)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var r=this.isInline(),i=(r?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof p){return i.value}else{if(!r){if(!this.stackSlot){throw new o["default"]("Invalid stack pop")}this.stackSlot--}return i}},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,r=t[t.length-1];if(r instanceof p){return r.value}else{return r}},contextName:function e(t){if(this.useDepths&&t){return"depths["+t+"]"}else{return"depth"+t}},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var r=this.aliases[t];if(r){r.referenceCount++;return r}r=this.aliases[t]=this.source.wrap(t);r.aliasable=true;r.referenceCount=1;return r},setupHelper:function e(t,r,i){var n=[],s=this.setupHelperArgs(r,t,n,i);var a=this.nameLookup("helpers",r,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:n,paramsInit:s,name:a,callParams:[o].concat(n)}},setupParams:function e(t,r,i){var n={},s=[],a=[],o=[],u=!i,l=undefined;if(u){i=[]}n.name=this.quotedString(t);n.hash=this.popStack();if(this.trackIds){n.hashIds=this.popStack()}if(this.stringParams){n.hashTypes=this.popStack();n.hashContexts=this.popStack()}var c=this.popStack(),p=this.popStack();if(p||c){n.fn=p||"container.noop";n.inverse=c||"container.noop"}var h=r;while(h--){l=this.popStack();i[h]=l;if(this.trackIds){o[h]=this.popStack()}if(this.stringParams){a[h]=this.popStack();s[h]=this.popStack()}}if(u){n.args=this.source.generateArray(i)}if(this.trackIds){n.ids=this.source.generateArray(o)}if(this.stringParams){n.types=this.source.generateArray(a);n.contexts=this.source.generateArray(s)}if(this.options.data){n.data="data"}if(this.useBlockParams){n.blockParams="blockParams"}return n},setupHelperArgs:function e(t,r,i,n){var s=this.setupParams(t,r,i);s.loc=JSON.stringify(this.source.currentLocation);s=this.objectLiteral(s);if(n){this.useRegister("options");i.push("options");return["options=",s]}else if(i){i.push(s);return""}else{return s}}};(function(){var e=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var t=h.RESERVED_WORDS={};for(var r=0,i=e.length;r<i;r++){t[e[r]]=true}})();h.isValidJavaScriptVariableName=function(e){return!h.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,r,i){var n=t.popStack(),s=0,a=r.length;if(e){a--}for(;s<a;s++){n=t.nameLookup(n,r[s],i)}if(e){return[t.aliasable("container.strict"),"(",n,", ",t.quotedString(r[s]),", ",JSON.stringify(t.source.currentLocation)," )"]}else{return n}}t["default"]=h;e.exports=t["default"]},function(e,t,r){"use strict";var i=r(13)["default"];t.__esModule=true;var n=r(5);var s=undefined;try{if(false){var a=require("source-map");s=a.SourceNode}}catch(e){}if(!s){s=function(e,t,r,i){this.src="";if(i){this.add(i)}};s.prototype={add:function e(t){if(n.isArray(t)){t=t.join("")}this.src+=t},prepend:function e(t){if(n.isArray(t)){t=t.join("")}this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function o(e,t,r){if(n.isArray(e)){var i=[];for(var s=0,a=e.length;s<a;s++){i.push(t.wrap(e[s],r))}return i}else if(typeof e==="boolean"||typeof e==="number"){return e+""}return e}function u(e){this.srcFile=e;this.source=[]}u.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,r){this.source.unshift(this.wrap(t,r))},push:function e(t,r){this.source.push(this.wrap(t,r))},merge:function e(){var t=this.empty();this.each(function(e){t.add(["  ",e,"\n"])});return t},each:function e(t){for(var r=0,i=this.source.length;r<i;r++){t(this.source[r])}},empty:function e(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var r=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(t instanceof s){return t}t=o(t,this,r);return new s(r.start.line,r.start.column,this.srcFile,t)},functionCall:function e(t,r,i){i=this.generateList(i);return this.wrap([t,r?"."+r+"(":"(",i,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var r=this;var n=[];i(t).forEach(function(e){var i=o(t[e],r);if(i!=="undefined"){n.push([r.quotedString(e),":",i])}});var s=this.generateList(n);s.prepend("{");s.add("}");return s},generateList:function e(t){var r=this.empty();for(var i=0,n=t.length;i<n;i++){if(i){r.add(",")}r.add(o(t[i],this))}return r},generateArray:function e(t){var r=this.generateList(t);r.prepend("[");r.add("]");return r}};t["default"]=u;e.exports=t["default"]}])});
},
	"sap/ui/thirdparty/hyphenopoly/Hyphenopoly.js":function(){
/**
 * @license Hyphenopoly 3.4.0 - client side hyphenation for webbrowsers
 * ©2019  Mathias Nater, Zürich (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
(function e(n){"use strict";var t=String.fromCharCode(173);function r(){return Object.create(null)}Math.imul=Math.imul||function e(n,t){var r=n>>>16&65535;var a=n&65535;var i=t>>>16&65535;var o=t&65535;return a*o+(r*o+a*i<<16>>>0)|0};function a(e,n){return{configurable:(n&4)>0,enumerable:(n&2)>0,writable:(n&1)>0,value:e}}function i(e){e.addEventListener("copy",function e(r){r.preventDefault();var a=n.getSelection();var i=a.getRangeAt(0).cloneContents();var o=document.createElement("div");o.appendChild(i);var l=o.innerHTML;var s=a.toString();r.clipboardData.setData("text/plain",s.replace(new RegExp(t,"g"),""));r.clipboardData.setData("text/html",l.replace(new RegExp(t,"g"),""))},true)}(function e(n){var i=Object.create(null,{defaultLanguage:a("en-us",2),dontHyphenate:a(function e(){var n=r();var t="abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video";t.split(",").forEach(function e(t){n[t]=true});return n}(),2),dontHyphenateClass:a("donthyphenate",2),exceptions:a(r(),2),keepAlive:a(true,2),normalize:a(false,2),safeCopy:a(true,2),timeout:a(1e3,2)});var o=Object.create(i);var l=Object.create(null,{compound:a("hyphen",2),hyphen:a(t,2),leftmin:a(0,2),leftminPerLang:a(0,2),minWordLength:a(6,2),mixedCase:a(true,2),orphanControl:a(1,2),rightmin:a(0,2),rightminPerLang:a(0,2)});Object.keys(n.setup).forEach(function e(t){if(t==="selectors"){var s=Object.keys(n.setup.selectors);Object.defineProperty(o,"selectors",a(s,2));s.forEach(function e(t){var i=r();Object.keys(n.setup.selectors[t]).forEach(function e(r){i[r]=a(n.setup.selectors[t][r],2)});Object.defineProperty(o,t,a(Object.create(l,i),2))})}else if(t==="dontHyphenate"){var c=r();Object.keys(n.setup.dontHyphenate).forEach(function e(t){c[t]=a(n.setup.dontHyphenate[t],2)});Object.defineProperty(o,t,a(Object.create(i.dontHyphenate,c),3))}else{Object.defineProperty(o,t,a(n.setup[t],3))}});n.c=o})(Hyphenopoly);(function e(t){var o=t.c;var l=null;var s=null;function c(){var e=new Map;var n=[0];function r(t,r,a){var i={element:t,selector:a};if(!e.has(r)){e.set(r,[])}e.get(r).push(i);n[0]+=1;return i}function a(r){var a=0;if(e.has(r)){a=e.get(r).length;e.delete(r);n[0]-=a;if(n[0]===0){t.events.dispatch("hyphenopolyEnd")}}}function i(n){e.forEach(function e(t,r){n(r,t)})}return{add:r,counter:n,each:i,list:e,rem:a}}function f(e,n){try{return e.getAttribute("lang")?e.getAttribute("lang").toLowerCase():e.tagName.toLowerCase()==="html"?n?l:null:f(e.parentNode,n)}catch(e){return null}}function u(){var e=n.document.getElementsByTagName("html")[0];l=f(e,false);if(!l&&o.defaultLanguage!==""){l=o.defaultLanguage}}function h(e,n){if(!e.matches){e.matches=e.msMatchesSelector||e.webkitMatchesSelector}return e.matches(n)}function p(){s=c();var e=function e(){var n="."+t.c.dontHyphenateClass;var r=null;for(r in o.dontHyphenate){if(o.dontHyphenate[r]){n+=", "+r}}return n}();var r=o.selectors.join(", ")+", "+e;function a(e,n){if(e.lang&&typeof e.lang==="string"){return e.lang.toLowerCase()}else if(n&&n!==""){return n.toLowerCase()}return f(e,true)}function l(e,n,c,f){f=f||false;var u=a(e,n);if(t.cf.langs[u]==="H9Y"){s.add(e,u,c);if(!f&&o.safeCopy){i(e)}}else if(!t.cf.langs[u]){t.events.dispatch("error",{lvl:"warn",msg:"Element with '"+u+"' found, but '"+u+".hpb' not loaded. Check language tags!"})}var p=e.childNodes;Array.prototype.forEach.call(p,function e(n){if(n.nodeType===1&&!h(n,r)){l(n,u,c,true)}})}o.selectors.forEach(function e(t){var r=n.document.querySelectorAll(t);Array.prototype.forEach.call(r,function e(n){l(n,f(n,true),t,false)})});t.elementsReady=true}var g=new Map;function m(e,n,r){var a=o[r];var i=a.hyphen;e.cache.set(r,new Map);function l(t){var i=String.fromCharCode(8203);var o=null;var l=null;if(a.compound==="auto"||a.compound==="all"){l=m(e,n,r);o=t.split("-").map(function e(n){if(n.length>=a.minWordLength){return l(n)}return n});if(a.compound==="auto"){t=o.join("-")}else{t=o.join("-"+i)}}else{t=t.replace("-","-"+i)}return t}function s(e){return Array.prototype.map.call(e,function e(n){return n===n.toLowerCase()}).some(function e(n,t,r){return n!==r[0]})}function c(o){var c=e.cache.get(r).get(o);if(!a.mixedCase&&s(o)){c=o}if(!c){if(e.exceptions.has(o)){c=e.exceptions.get(o).replace(/-/g,a.hyphen)}else if(o.indexOf("-")===-1){if(o.length>61){t.events.dispatch("error",{lvl:"warn",msg:"found word longer than 61 characters"});c=o}else{c=e.hyphenateFunction(o,i.charCodeAt(0),a.leftminPerLang[n],a.rightminPerLang[n])}}else{c=l(o)}e.cache.get(r).set(o,c)}return c}g.set(n+"-"+r,c);return c}var d=new Map;function v(e){function n(n,t,r,a){var i=o[e];var l=i.hyphen;if(".\\+*?[^]$(){}=!<>|:-".indexOf(i.hyphen)!==-1){l="\\"+i.hyphen}if(i.orphanControl===3&&t===" "){t=String.fromCharCode(160)}return t+r.replace(new RegExp(l,"g"),"")+a}d.set(e,n);return n}function y(e,n,r){var a=t.languages.get(e);var i=o[n];var l=i.minWordLength;var c=o.normalize&&Boolean(String.prototype.normalize);var f=e+"-"+n;var u=g.has(f)?g.get(f):m(a,e,n);var h=d.has(n)?d.get(n):v(n);var p=a.genRegExps.get(n);function y(e){var n=null;if(c){n=e.normalize("NFC").replace(p,u)}else{n=e.replace(p,u)}if(i.orphanControl!==1){n=n.replace(/(\u0020*)(\S+)(\s*)$/,h)}return n}function b(n){t.events.dispatch("beforeElementHyphenation",{el:n,lang:e});var r=n.childNodes;Array.prototype.forEach.call(r,function e(n){if(n.nodeType===3&&n.data.length>=l){n.data=y(n.data)}});s.counter[0]-=1;t.events.dispatch("afterElementHyphenation",{el:n,lang:e})}var w=null;if(typeof r==="string"){w=y(r)}else if(r instanceof HTMLElement){b(r)}return w}t.createHyphenator=function e(n){return function e(t,r){r=r||".hyphenate";return y(n,r,t)}};t.unhyphenate=function e(){s.each(function e(n,t){t.forEach(function e(n){var t=n.element.firstChild;var r=o[n.selector].hyphen;t.data=t.data.replace(new RegExp(r,"g"),"")})})};function b(e,n){if(n){n.forEach(function n(t){y(e,t.selector,t.element)})}else{t.events.dispatch("error",{lvl:"warn",msg:"engine for language '"+e+"' loaded, but no elements found."})}if(s.counter[0]===0){t.events.dispatch("hyphenopolyEnd")}}function w(e){var n=new Map;e.split(", ").forEach(function e(t){var r=t.replace(/-/g,"");n.set(r,t)});return n}function E(e){if(!t.languages){t.languages=new Map}if(!t.languages.has(e)){t.languages.set(e,r())}return t.languages.get(e)}function x(e,n,i,l,s){i=i.replace(/-/g,"");var c=E(e);if(!c.engineReady){c.cache=new Map;if(t.c.exceptions.global){if(t.c.exceptions[e]){t.c.exceptions[e]+=", "+t.c.exceptions.global}else{t.c.exceptions[e]=t.c.exceptions.global}}if(t.c.exceptions[e]){c.exceptions=w(t.c.exceptions[e]);delete t.c.exceptions[e]}else{c.exceptions=new Map}c.genRegExps=new Map;c.leftmin=l;c.rightmin=s;c.hyphenateFunction=n;o.selectors.forEach(function n(t){var l=o[t];if(l.leftminPerLang===0){Object.defineProperty(l,"leftminPerLang",a(r(),2))}if(l.rightminPerLang===0){Object.defineProperty(l,"rightminPerLang",a(r(),2))}if(l.leftminPerLang[e]){l.leftminPerLang[e]=Math.max(c.leftmin,l.leftmin,l.leftminPerLang[e])}else{l.leftminPerLang[e]=Math.max(c.leftmin,l.leftmin)}if(l.rightminPerLang[e]){l.rightminPerLang[e]=Math.max(c.rightmin,l.rightmin,l.rightminPerLang[e])}else{l.rightminPerLang[e]=Math.max(c.rightmin,l.rightmin)}c.genRegExps.set(t,new RegExp("[\\w"+i+String.fromCharCode(8204)+"-]{"+l.minWordLength+",}","gi"))});c.engineReady=true}Hyphenopoly.events.dispatch("engineReady",{msg:e})}function L(e){if(t.cf.wasm){return Math.ceil(e/65536)*65536}var n=Math.ceil(Math.log(e)*Math.LOG2E);if(n<=12){return 1<<12}if(n<24){return 1<<n}return Math.ceil(e/(1<<24))*(1<<24)}var M=function e(){if(n.TextDecoder){var t=new TextDecoder("utf-16le");return function e(n){return t.decode(n)}}return function e(n){return String.fromCharCode.apply(null,n)}}();function A(e){var n=new Uint32Array(e).subarray(0,8);if(n[0]!==40005736){t.events.dispatch("error",{lvl:"error",msg:"Pattern file format error: "+new Uint8Array(Uint32Array.of(n[0]).buffer)});throw new Error("Pattern file format error!")}var r=n[7];var a=1280;var i=a+r+(4-(a+r)%4);var o=i+n[6]*4;return{ho:o+512,hp:o+192,hs:Math.max(L(o+512+n[2]+n[3]),32*1024*64),hw:o+256,lm:n[4],pl:n[3],po:o+512+n[2],pt:i,rm:n[5],to:o+512+n[1],tw:o+128,vs:a,wo:o}}function C(e,n){var r=t.cf.wasm?e.wasmMemory.buffer:e.heapBuffer;var a=new Uint16Array(r).subarray(e.wo>>1,(e.wo>>1)+64);var i=new Uint16Array(r).subarray(e.hw>>1,(e.hw>>1)+128);a[0]=95;return function e(t,r,o,l){var s=0;var c=0;do{c=t.charCodeAt(s);s+=1;a[s]=c}while(c);a[s]=95;a[s+1]=0;if(n(o,l,r)===1){t=M(i.subarray(1,i[0]+1))}return t}}function H(e){Promise.all([t.bins.get(e),t.bins.get("hyphenEngine")]).then(function n(r){var a=r[0];var i=A(a);var o=r[1];var l=t.specMems.get(e);var s=l.buffer.byteLength>=i.hs?l:new WebAssembly.Memory({initial:i.hs/65536,maximum:256});var c=new Uint32Array(s.buffer);c.set(new Uint32Array(a),i.ho>>2);i.wasmMemory=s;WebAssembly.instantiate(o,{env:{memory:i.wasmMemory,memoryBase:0},x:i}).then(function n(t){var r=t.exports.convert();x(e,C(i,t.exports.hyphenate),M(new Uint16Array(s.buffer).subarray(385,384+r)),i.lm,i.rm)})})}function P(e){var r=t.bins.get(e);var a=A(r);var i=t.specMems.get(e);var o=i.byteLength>=a.hs?i:new ArrayBuffer(a.hs);var l=new Uint8Array(o);var s=new Uint8Array(r);l.set(s,a.ho);a.heapBuffer=o;var c=asmHyphenEngine({Int32Array:n.Int32Array,Math:Math,Uint16Array:n.Uint16Array,Uint8Array:n.Uint8Array},a,a.heapBuffer);var f=c.convert();x(e,C(a,c.hyphenate),M(new Uint16Array(o).subarray(385,384+f)),a.lm,a.rm)}var O=null;var j=[];function R(e,n){if(e==="*"){if(n==="wasm"){O=H}else if(n==="asm"){O=P}j.forEach(function e(n){O(n)})}else if(O){O(e)}else{j.push(e)}}t.events.define("contentLoaded",function e(){u();p();t.events.dispatch("elementsReady")},false);t.events.define("elementsReady",function e(){s.each(function e(n,r){if(t.languages&&t.languages.has(n)&&t.languages.get(n).engineReady){b(n,r)}})},false);t.events.define("engineLoaded",function e(n){R("*",n.msg)},false);t.events.define("hpbLoaded",function e(n){R(n.msg,"*")},false);t.events.addListener("loadError",function e(n){if(n.msg!=="wasm"){s.rem(n.name)}},false);t.events.define("engineReady",function e(n){if(t.elementsReady){b(n.msg,s.list.get(n.msg))}},false);t.events.define("hyphenopolyStart",null,true);t.events.define("hyphenopolyEnd",function e(){n.clearTimeout(o.timeOutHandler);if(o.hide!=="none"){t.toggle("on")}if(!o.keepAlive){window.Hyphenopoly=null}},false);t.events.define("beforeElementHyphenation",null,true);t.events.define("afterElementHyphenation",null,true);t.events.tempRegister.forEach(function e(n){t.events.addListener(n.name,n.handler,false)});delete t.events.tempRegister;t.events.dispatch("hyphenopolyStart",{msg:"Hyphenopoly started"});n.clearTimeout(t.c.timeOutHandler);Object.defineProperty(o,"timeOutHandler",a(n.setTimeout(function e(){t.events.dispatch("timeout",{delay:o.timeout})},o.timeout),2));t.events.deferred.forEach(function e(n){t.events.dispatch(n.name,n.data)});delete t.events.deferred})(Hyphenopoly)})(window);
},
	"sap/ui/thirdparty/hyphenopoly/Hyphenopoly_Loader.js":function(){
/**
 * @license Hyphenopoly_Loader 3.4.0 - client side hyphenation
 * ©2019  Mathias Nater, Zürich (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 * Modifications SAP SE or an SAP affiliate company and OpenUI5 contributors. All rights reserved.
 */
(function e(n,t,a,s){"use strict";var r=sessionStorage;var i=n.WebAssembly;var o=new Map;var l=new Map;function f(){return s.create(null)}function c(e,n){s.keys(e).forEach(n)}(function e(){if(a.cacheFeatureTests&&r.getItem("Hyphenopoly_Loader")){a.cf=JSON.parse(r.getItem("Hyphenopoly_Loader"))}else{a.cf={langs:f(),polyfill:false,wasm:null}}})();(function e(){var n=t.currentScript?t.currentScript.src.replace(/Hyphenopoly_Loader.js/i,""):"../";var r=n+"patterns/";if(a.paths){a.paths.maindir=a.paths.maindir||n;a.paths.patterndir=a.paths.patterndir||r}else{a.paths=s.create({maindir:n,patterndir:r})}})();(function e(){if(a.setup){a.setup.selectors=a.setup.selectors||{".hyphenate":{}};a.setup.timeout=a.setup.timeout||1e3;a.setup.hide=a.setup.hide||"all"}else{a.setup={hide:"all",selectors:{".hyphenate":{}},timeout:1e3}}})();(function e(){c(a.require,function e(n){l.set(n.toLowerCase(),a.require[n])});if(a.fallbacks){c(a.fallbacks,function e(n){o.set(n.toLowerCase(),a.fallbacks[n].toLowerCase())})}})();a.toggle=function e(n){if(n==="on"){var s=t.getElementById("H9Y_Styles");if(s){s.parentNode.removeChild(s)}}else{var r=" {visibility: hidden !important}\n";var i=t.createElement("style");var o="";i.id="H9Y_Styles";switch(a.setup.hide){case"all":o="html"+r;break;case"element":c(a.setup.selectors,function e(n){o+=n+r});break;case"text":c(a.setup.selectors,function e(n){o+=n+" {color: transparent !important}\n"});break}i.appendChild(t.createTextNode(o));t.head.appendChild(i)}};(function e(){var t=new Map;var s=[];var r=[];function i(e,n,a){t.set(e,{cancellable:a,default:n,register:[]})}i("timeout",function e(t){a.toggle("on");n.console.info("Hyphenopolys 'FOUHC'-prevention timed out after %dms",t.delay)},false);i("error",function e(t){switch(t.lvl){case"info":n.console.info(t.msg);break;case"warn":n.console.warn(t.msg);break;default:n.console.error(t.msg)}},true);i("contentLoaded",function e(n){s.push({data:n,name:"contentLoaded"})},false);i("engineLoaded",function e(n){s.push({data:n,name:"engineLoaded"})},false);i("hpbLoaded",function e(n){s.push({data:n,name:"hpbLoaded"})},false);i("loadError",function e(n){s.push({data:n,name:"loadError"})},false);i("tearDown",null,true);function o(e,n){n=n||f();var a=false;t.get(e).register.forEach(function s(r){n.preventDefault=function n(){if(t.get(e).cancellable){a=true}};r(n)});if(!a&&t.get(e).default){t.get(e).default(n)}}function l(e,n,s){if(t.has(e)){t.get(e).register.push(n)}else if(s){r.push({handler:n,name:e})}else{a.events.dispatch("error",{lvl:"warn",msg:'unknown Event "'+e+'" discarded'})}}if(a.handleEvent){c(a.handleEvent,function e(n){l(n,a.handleEvent[n],true)})}a.events=f();a.events.deferred=s;a.events.tempRegister=r;a.events.dispatch=o;a.events.define=i;a.events.addListener=l})();function p(){if(typeof i==="object"&&typeof i.Instance==="function"){try{var e=new i.Module(Uint8Array.from([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,5,1,1,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]));return new i.Instance(e).exports.t(4)!==0}catch(e){return false}}return false}function u(e,n){var s=t.createElement("script");s.src=e+n;if(n==="hyphenEngine.asm.js"){s.addEventListener("load",function e(){a.events.dispatch("engineLoaded",{msg:"asm"})})}t.head.appendChild(s)}var d=new Map;function h(e,t,s,r){function o(e,t,s,r){n.fetch(e+t).then(function n(o){if(o.ok){if(s==="hyphenEngine"){a.bins.set(s,o.arrayBuffer().then(function e(n){return new i.Module(n)}));a.events.dispatch("engineLoaded",{msg:r})}else{var l=d.get(t);l.forEach(function e(n){a.bins.set(n,l.length>1?o.clone().arrayBuffer():o.arrayBuffer());a.events.dispatch("hpbLoaded",{msg:n})})}}else{a.events.dispatch("loadError",{file:t,msg:r,name:s,path:e})}})}function l(e,n,t,s){var r=new XMLHttpRequest;r.onload=function i(){if(r.status===200){d.get(n).forEach(function e(n){a.bins.set(n,r.response);a.events.dispatch("hpbLoaded",{msg:n})})}else{a.events.dispatch("loadError",{file:n,msg:s,name:t,path:e})}};r.open("GET",e+n);r.responseType="arraybuffer";r.send()}if(!d.has(t)){d.set(t,[r]);if(a.cf.wasm){o(e,t,s,r)}else{l(e,t,s,r)}}else if(s!=="hyphenEngine"){d.get(t).push(r)}}function m(e){var n=new Map([["de",54],["hu",205],["nb-no",91],["nl",41]]);var t=n.get(e)||32;a.specMems=a.specMems||new Map;if(a.cf.wasm){a.specMems.set(e,new i.Memory({initial:t,maximum:256}))}else{var s=2<<Math.floor(Math.log(t)*Math.LOG2E)<<16;a.specMems.set(e,new ArrayBuffer(s))}}(function e(){var s=function e(){var n=null;var s=["visibility:hidden","-moz-hyphens:auto","-webkit-hyphens:auto","-ms-hyphens:auto","hyphens:auto","width:48px","font-size:12px","line-height:12px","border:none","padding:0","word-wrap:normal"].join(";");function r(e){if(a.cf.langs[e]){return}n=n||t.createElement("body");var r=t.createElement("div");r.lang=e;r.style.cssText=s;r.appendChild(t.createTextNode(l.get(e).toLowerCase()));n.appendChild(r)}function i(e){if(n){e.appendChild(n);return n}return null}function o(){if(n){n.parentNode.removeChild(n)}}return{append:i,clear:o,create:r}}();function r(e){return e.style.hyphens==="auto"||e.style.webkitHyphens==="auto"||e.style.msHyphens==="auto"||e.style["-moz-hyphens"]==="auto"}function i(e){a.hyphenators=a.hyphenators||f();if(!a.hyphenators[e]){if(n.Promise){a.hyphenators[e]=new Promise(function n(t,s){a.events.addListener("engineReady",function n(s){if(s.msg===e){t(a.createHyphenator(s.msg))}},true);a.events.addListener("loadError",function n(t){if(t.name===e||t.name==="hyphenEngine"){s(new Error("File "+t.file+" can't be loaded from "+t.path))}},false)});a.hyphenators[e].catch(function e(n){a.events.dispatch("error",{lvl:"error",msg:n.message})})}else{a.hyphenators[e]={then:function(){a.events.dispatch("error",{msg:"Promises not supported in this engine. Use a polyfill."})}}}}}function d(e){var n=e+".hpb";var t=e;a.cf.polyfill=true;a.cf.langs[e]="H9Y";if(o&&o.has(e)){t=o.get(e);n=t+".hpb"}a.bins=a.bins||new Map;h(a.paths.patterndir,n,t,e)}if(a.cf.wasm===null){a.cf.wasm=p()}l.forEach(function e(n,t){if(n==="FORCEHYPHENOPOLY"||a.cf.langs[t]&&a.cf.langs[t]==="H9Y"){d(t)}else{s.create(t)}});var y=s.append(t.documentElement);if(y!==null){var g=y.querySelectorAll("div");Array.prototype.forEach.call(g,function e(n){if(r(n)&&n.offsetHeight>12){a.cf.langs[n.lang]="CSS"}else{d(n.lang)}});s.clear()}if(a.cf.polyfill){u(a.paths.maindir,"Hyphenopoly.js");if(a.cf.wasm){h(a.paths.maindir,"hyphenEngine.wasm","hyphenEngine","wasm")}else{u(a.paths.maindir,"hyphenEngine.asm.js")}c(a.cf.langs,function e(n){if(a.cf.langs[n]==="H9Y"){m(n);i(n)}})}})();function y(){if(a.setup.hide.match(/^(?:element|text)$/)){a.toggle("off")}a.events.dispatch("contentLoaded",{msg:["contentLoaded"]})}if(a.cf.polyfill){if(a.setup.hide==="all"){a.toggle("off")}if(a.setup.hide!=="none"){a.setup.timeOutHandler=n.setTimeout(function e(){a.toggle("on");a.events.dispatch("timeout",{delay:a.setup.timeout})},a.setup.timeout)}if(t.readyState==="loading"){t.addEventListener("DOMContentLoaded",y,{once:true,passive:true})}else{y()}}else{a.events.dispatch("tearDown",{});n.Hyphenopoly=null}if(a.cacheFeatureTests){r.setItem("Hyphenopoly_Loader",JSON.stringify(a.cf))}})(window,document,Hyphenopoly,Object);
},
	"sap/ui/thirdparty/hyphenopoly/hyphenEngine.asm.js":function(){
/**
 * @license hyphenEngine.asm.js 3.4.0 - client side hyphenation for webbrowsers
 * ©2019  Mathias Nater, Zürich (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
function asmHyphenEngine(r,a,v){"use asm";var e=new r.Uint8Array(v);var i=new r.Uint16Array(v);var n=new r.Int32Array(v);var t=r.Math.imul;var f=a.to|0;var l=a.po|0;var u=a.pl|0;var h=a.vs|0;var w=a.pt|0;var o=a.wo|0;var s=a.tw|0;var c=a.hp|0;var p=a.hw|0;function y(r){r=r|0;var a=0;a=t(r,40503);a=a&255;return a<<1}function m(r,a){r=r|0;a=a|0;var v=0;v=y(r|0)|0;while((i[v>>1]|0)!=0){v=v+2|0}i[v>>1]=r;e[(v>>1)+512|0]=a}function A(r){r=r|0;var a=0;a=y(r)|0;while((i[a>>1]|0)!=(r|0)){a=a+2|0;if((a|0)>=512){return 255}}return e[(a>>1)+512|0]|0}function U(){var r=0;var a=0;var v=0;var e=0;var n=0;var t=0;r=f+2|0;while((r|0)<(l|0)){v=i[r>>1]|0;e=i[r+2>>1]|0;if((e|0)==0){n=255}else{n=A(e)|0}if((n|0)==255){m(v,a);if((e|0)!=0){m(e,a)}a=a+1|0}else{m(v,n)}i[768+(t<<1)>>1]=v;t=t+1|0;r=r+4|0}return t|0}function b(){var r=0;var a=0;var v=0;var t=0;var o=0;var s=0;var c=0;var p=0;var y=0;var m=0;var A=0;var b=0;var g=0;var k=0;var E=0;E=(i[f>>1]<<1)+1<<2;o=w;s=w;c=w;y=h;m=h;A=h;b=U()|0;r=l|0;while((r|0)<(l+u|0)){if((e[r|0]|0)==0){v=e[r+1|0]|0;r=r+2|0}else{if((e[r|0]|0)==255){g=e[r+1|0]|0;k=e[r+2|0]|0;r=r+3|0}while((t|0)<(v|0)){if((t|0)==0){a=g}else if((t|0)==1){a=k}else{a=e[r|0]|0;r=r+1|0}if((a|0)>11){m=m+1|0;if((o|0)==0){s=s+E|0;o=s;n[c+p>>2]=o}p=(a-12|0)<<3;c=o;o=n[c+p>>2]|0}else{e[m|0]=a|0;A=m}t=t+1|0}e[A+1|0]=255;n[c+p+4>>2]=y|0;y=A+2|0;m=y;t=0;c=w;o=w}}return b|0}function g(r,a,v){r=r|0;a=a|0;v=v|0;var t=0;var f=0;var l=0;var u=0;var h=0;var y=0;var m=0;var U=0;var b=0;var g=0;var k=0;var E=0;u=i[o>>1]|0;while((u|0)!=0){E=A(u|0)|0;if((E|0)==255){return 0}e[s+l|0]=E|0;l=l+1|0;e[c+l|0]=0;u=i[o+(l<<1)>>1]|0}f=l;while((t|0)<(f|0)){h=w;l=t|0;while((l|0)<(f|0)){y=e[s+l|0]<<3;m=n[h+y>>2]|0;U=n[h+y+4>>2]|0;if((U|0)>0){b=0;g=e[U|0]|0;while((g|0)!=255){k=c+t+b|0;if((g|0)>(e[k|0]|0)){e[k|0]=g|0}b=b+1|0;g=e[U+b|0]|0}}if((m|0)>0){h=m|0}else{break}l=l+1|0}t=t+1|0}l=1;b=0;f=f-2|0;while((l|0)<=(f|0)){i[p+(l<<1)+b>>1]=i[o+(l<<1)>>1]|0;if(((l|0)>=(r|0)|0)&((l|0)<=(f-a|0)|0)){if(e[c+l+1|0]&1){b=b+2|0;i[p+(l<<1)+b>>1]=v}}l=l+1|0}i[p>>1]=f+(b>>1)|0;return 1}return{convert:b,hyphenate:g}}
this.asmHyphenEngine=asmHyphenEngine;
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-blind.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-blind.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-bounce.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-bounce.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-clip.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-clip.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-core.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-core.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-drop.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-drop.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-explode.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-explode.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-fade.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-fade.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-fold.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-fold.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-highlight.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-highlight.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-pulsate.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-pulsate.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-scale.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-scale.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-shake.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-shake.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-slide.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-slide.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-transfer.js":function(){
(function(jQuery,sap){var e="The file sap/ui/thirdparty/jqueryui/jquery-effects-transfer.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer.js! Please update the dependencies accordingly.";if(sap&&sap.ui&&sap.ui.define){sap.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer"],function(jQuery){return jQuery});jQuery.sap.log.warning(e)}else{throw new Error(e)}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-core.js":function(){
/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(e,t){e.fn.zIndex=t;e.fn.enableSelection=t;e.fn.disableSelection=t;e.expr.pseudos.focusable=t;var n=0,i=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(n,i){return typeof n==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).trigger("focus");if(i){i.call(t)}},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;if(e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}else{t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t){return this.css("zIndex",n)}if(this.length){var i=e(this[0]),r,s;while(i.length&&i[0]!==document){r=i.css("position");if(r==="absolute"||r==="relative"||r==="fixed"){s=parseInt(i.css("zIndex"),10);if(!isNaN(s)&&s!==0){return s}}i=i.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++n}})},removeUniqueId:function(){return this.each(function(){if(i.test(this.id)){e(this).removeAttr("id")}})}});function r(t,n){var i,r,o,u=t.nodeName.toLowerCase();if("area"===u){i=t.parentNode;r=i.name;if(!t.href||!r||i.nodeName.toLowerCase()!=="map"){return false}o=e("img[usemap='#"+r+"']")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&r(t,!i)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(n,i){var r=i==="Width"?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function u(t,n,i,s){e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0;if(i){n-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(s){n-=parseFloat(e.css(t,"margin"+this))||0}});return n}e.fn["inner"+i]=function(n){if(n===t){return o["inner"+i].call(this)}return this.each(function(){e(this).css(s,u(this,n)+"px")})};e.fn["outer"+i]=function(t,n){if(typeof t!=="number"){return o["outer"+i].call(this,t)}return this.each(function(){e(this).css(s,u(this,t,true,n)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(n){if(arguments.length){return t.call(this,e.camelCase(n))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.on((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.off(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,n,i){var r,s=e.ui[t].prototype;for(r in i){s.plugins[r]=s.plugins[r]||[];s.plugins[r].push([n,i[r]])}},call:function(e,t,n){var i,r=e.plugins[t];if(!r||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11){return}for(i=0;i<r.length;i++){if(e.options[r[i][0]]){r[i][1].apply(e.element,n)}}}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden"){return false}var i=n&&n==="left"?"scrollLeft":"scrollTop",r=false;if(t[i]>0){return true}t[i]=1;r=t[i]>0;t[i]=0;return r}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-datepicker.js":function(){
/*!
 * jQuery UI Datepicker 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 *
 * Depends:
 *	jquery.ui.core.js
 */
(function(e,t){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var a="datepicker",i;function s(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){n(this._defaults,e||{});return this},_attachDatepicker:function(t,a){var i,s,r;i=t.nodeName.toLowerCase();s=i==="div"||i==="span";if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}r=this._newInst(e(t),s);r.settings=e.extend({},a||{});if(i==="input"){this._connectDatepicker(t,r)}else if(s){this._inlineDatepicker(t,r)}},_newInst:function(t,a){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:!a?this.dpDiv:r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]);i.trigger=e([]);if(s.hasClass(this.markerClassName)){return}this._attachments(s,i);s.addClass(this.markerClassName).on("keydown",this._doKeyDown).keypress(this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(i);e.data(t,a,i);if(i.settings.disabled){this._disableDatepicker(t)}},_attachments:function(t,a){var i,s,r,n=this._get(a,"appendText"),l=this._get(a,"isRTL");if(a.append){a.append.remove()}if(n){a.append=e("<span></span>").addClass(this._appendClass).text(n);t[l?"before":"after"](a.append)}t.off("focus",this._showDatepicker);if(a.trigger){a.trigger.remove()}i=this._get(a,"showOn");if(i==="focus"||i==="both"){t.on("focus",this._showDatepicker)}if(i==="button"||i==="both"){s=this._get(a,"buttonText");r=this._get(a,"buttonImage");if(this._get(a,"buttonImageOnly")){a.trigger=e("<img>").addClass(this._triggerClass).attr({src:r,alt:s,title:s})}else{a.trigger=e("<button type='button'></button>").addClass(this._triggerClass);if(r){a.trigger.html(e("<img>").attr({src:r,alt:s,title:s}))}else{a.trigger.text(s)}}t[l?"before":"after"](a.trigger);a.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]){e.datepicker._hideDatepicker()}else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else{e.datepicker._showDatepicker(t[0])}return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,i,s,r=new Date(2009,12-1,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){t=function(e){a=0;i=0;for(s=0;s<e.length;s++){if(e[s].length>a){a=e[s].length;i=s}}return i};r.setMonth(t(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort")));r.setDate(t(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())}e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var s=e(t);if(s.hasClass(this.markerClassName)){return}s.addClass(this.markerClassName).append(i.dpDiv);e.data(t,a,i);this._setDate(i,this._getDefaultDate(i),true);this._updateDatepicker(i);this._updateAlternate(i);if(i.settings.disabled){this._disableDatepicker(t)}i.dpDiv.css("display","block")},_dialogDatepicker:function(t,i,s,r,l){var d,c,o,u,h,p=this._dialogInst;if(!p){this.uuid+=1;d="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+d+"'/>").css({position:"absolute",top:"-100px",width:"0px"});this._dialogInput.on("keydown",this._doKeyDown);e("body").append(this._dialogInput);p=this._dialogInst=this._newInst(this._dialogInput,false);p.settings={};e.data(this._dialogInput[0],a,p)}n(p.settings,r||{});i=i&&i.constructor===Date?this._formatDate(p,i):i;this._dialogInput.val(i);this._pos=l?l.length?l:[l.pageX,l.pageY]:null;if(!this._pos){c=document.documentElement.clientWidth;o=document.documentElement.clientHeight;u=document.documentElement.scrollLeft||document.body.scrollLeft;h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[c/2-100+u,o/2-150+h]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");p.settings.onSelect=s;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],a,p);return this},_destroyDatepicker:function(t){var i,s=e(t),r=e.data(t,a);if(!s.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();e.removeData(t,a);if(i==="input"){r.append.remove();r.trigger.remove();s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(i==="div"||i==="span"){s.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var i,s,r=e(t),n=e.data(t,a);if(!r.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();if(i==="input"){t.disabled=false;n.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(i==="div"||i==="span"){s=r.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled");s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var i,s,r=e(t),n=e.data(t,a);if(!r.hasClass(this.markerClassName)){return}i=t.nodeName.toLowerCase();if(i==="input"){t.disabled=true;n.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(i==="div"||i==="span"){s=r.children("."+this._inlineClass);s.children().addClass("ui-state-disabled");s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e){return false}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]===e){return true}}return false},_getInst:function(t){try{return e.data(t,a)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,i,s){var r,l,d,c,o=this._getInst(a);if(arguments.length===2&&typeof i==="string"){return i==="defaults"?e.extend({},e.datepicker._defaults):o?i==="all"?e.extend({},o.settings):this._get(o,i):null}r=i||{};if(typeof i==="string"){r={};r[i]=s}if(o){if(this._curInst===o){this._hideDatepicker()}l=this._getDateDatepicker(a,true);d=this._getMinMaxDate(o,"min");c=this._getMinMaxDate(o,"max");n(o.settings,r);if(d!==null&&r.dateFormat!==t&&r.minDate===t){o.settings.minDate=this._formatDate(o,d)}if(c!==null&&r.dateFormat!==t&&r.maxDate===t){o.settings.maxDate=this._formatDate(o,c)}if("disabled"in r){if(r.disabled){this._disableDatepicker(a)}else{this._enableDatepicker(a)}}this._attachments(e(a),o);this._autoSize(o);this._setDate(o,l);this._updateAlternate(o);this._updateDatepicker(o)}},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);if(t){this._updateDatepicker(t)}},_setDateDatepicker:function(e,t){var a=this._getInst(e);if(a){this._setDate(a,t);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(e,t){var a=this._getInst(e);if(a&&!a.inline){this._setDateFromField(a,t)}return a?this._getDate(a):null},_doKeyDown:function(t){var a,i,s,r=e.datepicker._getInst(t.target),n=true,l=r.dpDiv.is(".ui-datepicker-rtl");r._keyEvent=true;if(e.datepicker._datepickerShowing){switch(t.keyCode){case 9:e.datepicker._hideDatepicker();n=false;break;case 13:s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv);if(s[0]){e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,s[0])}a=e.datepicker._get(r,"onSelect");if(a){i=e.datepicker._formatDate(r);a.apply(r.input?r.input[0]:null,[i,r])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:if(t.ctrlKey||t.metaKey){e.datepicker._clearDate(t.target)}n=t.ctrlKey||t.metaKey;break;case 36:if(t.ctrlKey||t.metaKey){e.datepicker._gotoToday(t.target)}n=t.ctrlKey||t.metaKey;break;case 37:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,l?+1:-1,"D")}n=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M")}break;case 38:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,-7,"D")}n=t.ctrlKey||t.metaKey;break;case 39:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,l?-1:+1,"D")}n=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M")}break;case 40:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,+7,"D")}n=t.ctrlKey||t.metaKey;break;default:n=false}}else if(t.keyCode===36&&t.ctrlKey){e.datepicker._showDatepicker(this)}else{n=false}if(n){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var a,i,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,"constrainInput")){a=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat"));i=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||(i<" "||!a||a.indexOf(i)>-1)}},_doKeyUp:function(t){var a,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal){try{a=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i));if(a){e.datepicker._setDateFromField(i);e.datepicker._updateAlternate(i);e.datepicker._updateDatepicker(i)}}catch(e){}}return true},_showDatepicker:function(t){t=t.target||t;if(t.nodeName.toLowerCase()!=="input"){t=e("input",t.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t){return}var a,i,s,r,l,d,c;a=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==a){e.datepicker._curInst.dpDiv.stop(true,true);if(a&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}i=e.datepicker._get(a,"beforeShow");s=i?i.apply(t,[t,a]):{};if(s===false){return}n(a.settings,s);a.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(a);if(e.datepicker._inDialog){t.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}r=false;e(t).parents().each(function(){r|=e(this).css("position")==="fixed";return!r});l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;a.dpDiv.empty();a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(a);l=e.datepicker._checkOffset(a,l,r);a.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"});if(!a.inline){d=e.datepicker._get(a,"showAnim");c=e.datepicker._get(a,"duration");a.dpDiv.zIndex(e(t).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[d]){a.dpDiv.show(d,e.datepicker._get(a,"showOptions"),c)}else{a.dpDiv[d||"show"](d?c:null)}if(e.datepicker._shouldFocusInput(a)){a.input.focus()}e.datepicker._curInst=a}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var a,s=this._getNumberOfMonths(t),r=s[1],n=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(r>1){t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",n*r+"em")}t.dpDiv[(s[0]!==1||s[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)){t.input.focus()}if(t.yearshtml){a=t.yearshtml;setTimeout(function(){if(a===t.yearshtml&&t.yearshtml){t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml)}a=t.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,a,i){var s=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),n=t.input?t.input.outerWidth():0,l=t.input?t.input.outerHeight():0,d=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());a.left-=this._get(t,"isRTL")?s-n:0;a.left-=i&&a.left===t.input.offset().left?e(document).scrollLeft():0;a.top-=i&&a.top===t.input.offset().top+l?e(document).scrollTop():0;a.left-=Math.min(a.left,a.left+s>d&&d>s?Math.abs(a.left+s-d):0);a.top-=Math.min(a.top,a.top+r>c&&c>r?Math.abs(r+l):0);return a},_findPos:function(t){var a,i=this._getInst(t),s=this._get(i,"isRTL");while(t&&(t.type==="hidden"||t.nodeType!==1||e.expr.filters.hidden(t))){t=t[s?"previousSibling":"nextSibling"]}a=e(t).offset();return[a.left,a.top]},_hideDatepicker:function(t){var i,s,r,n,l=this._curInst;if(!l||t&&l!==e.data(t,a)){return}if(this._datepickerShowing){i=this._get(l,"showAnim");s=this._get(l,"duration");r=function(){e.datepicker._tidyDialog(l)};if(e.effects&&(e.effects.effect[i]||e.effects[i])){l.dpDiv.hide(i,e.datepicker._get(l,"showOptions"),s,r)}else{l.dpDiv[i==="slideDown"?"slideUp":i==="fadeIn"?"fadeOut":"hide"](i?s:null,r)}if(!i){r()}this._datepickerShowing=false;n=this._get(l,"onClose");if(n){n.apply(l.input?l.input[0]:null,[l.input?l.input.val():"",l])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst){return}var a=e(t.target),i=e.datepicker._getInst(a[0]);if(a[0].id!==e.datepicker._mainDivId&&a.parents("#"+e.datepicker._mainDivId).length===0&&!a.hasClass(e.datepicker.markerClassName)&&!a.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)||a.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i){e.datepicker._hideDatepicker()}},_adjustDate:function(t,a,i){var s=e(t),r=this._getInst(s[0]);if(this._isDisabledDatepicker(s[0])){return}this._adjustInstDate(r,a+(i==="M"?this._get(r,"showCurrentAtPos"):0),i);this._updateDatepicker(r)},_gotoToday:function(t){var a,i=e(t),s=this._getInst(i[0]);if(this._get(s,"gotoCurrent")&&s.currentDay){s.selectedDay=s.currentDay;s.drawMonth=s.selectedMonth=s.currentMonth;s.drawYear=s.selectedYear=s.currentYear}else{a=new Date;s.selectedDay=a.getDate();s.drawMonth=s.selectedMonth=a.getMonth();s.drawYear=s.selectedYear=a.getFullYear()}this._notifyChange(s);this._adjustDate(i)},_selectMonthYear:function(t,a,i){var s=e(t),r=this._getInst(s[0]);r["selected"+(i==="M"?"Month":"Year")]=r["draw"+(i==="M"?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10);this._notifyChange(r);this._adjustDate(s)},_selectDay:function(t,a,i,s){var r,n=e(t);if(e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])){return}r=this._getInst(n[0]);r.selectedDay=r.currentDay=e("a",s).html();r.selectedMonth=r.currentMonth=a;r.selectedYear=r.currentYear=i;this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))},_clearDate:function(t){var a=e(t);this._selectDate(a,"")},_selectDate:function(t,a){var i,s=e(t),r=this._getInst(s[0]);a=a!=null?a:this._formatDate(r);if(r.input){r.input.val(a)}this._updateAlternate(r);i=this._get(r,"onSelect");if(i){i.apply(r.input?r.input[0]:null,[a,r])}else if(r.input){r.input.trigger("change")}if(r.inline){this._updateDatepicker(r)}else{this._hideDatepicker();this._lastInput=r.input[0];if(typeof r.input[0]!=="object"){r.input.focus()}this._lastInput=null}},_updateAlternate:function(t){var a,i,s,r=this._get(t,"altField");if(r){a=this._get(t,"altFormat")||this._get(t,"dateFormat");i=this._getDate(t);s=this.formatDate(a,i,this._getFormatConfig(t));e(document).find(r).val(s)}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));t=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(t,a,i){if(t==null||a==null){throw"Invalid arguments"}a=typeof a==="object"?a.toString():a+"";if(a===""){return null}var s,r,n,l=0,d=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c=typeof d!=="string"?d:(new Date).getFullYear()%100+parseInt(d,10),o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,u=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,_=-1,k=-1,D=false,m,y=function(e){var a=s+1<t.length&&t.charAt(s+1)===e;if(a){s++}return a},v=function(e){var t=y(e),i=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,s=new RegExp("^\\d{1,"+i+"}"),r=a.substring(l).match(s);if(!r){throw"Missing number at position "+l}l+=r[0].length;return parseInt(r[0],10)},M=function(t,i,s){var r=-1,n=e.map(y(t)?s:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(n,function(e,t){var i=t[1];if(a.substr(l,i.length).toLowerCase()===i.toLowerCase()){r=t[0];l+=i.length;return false}});if(r!==-1){return r+1}else{throw"Unknown name at position "+l}},w=function(){if(a.charAt(l)!==t.charAt(s)){throw"Unexpected literal at position "+l}l++};for(s=0;s<t.length;s++){if(D){if(t.charAt(s)==="'"&&!y("'")){D=false}else{w()}}else{switch(t.charAt(s)){case"d":_=v("d");break;case"D":M("D",o,u);break;case"o":k=v("o");break;case"m":g=v("m");break;case"M":g=M("M",h,p);break;case"y":f=v("y");break;case"@":m=new Date(v("@"));f=m.getFullYear();g=m.getMonth()+1;_=m.getDate();break;case"!":m=new Date((v("!")-this._ticksTo1970)/1e4);f=m.getFullYear();g=m.getMonth()+1;_=m.getDate();break;case"'":if(y("'")){w()}else{D=true}break;default:w()}}}if(l<a.length){n=a.substr(l);if(!/^\s+/.test(n)){throw"Extra/unparsed characters found in date: "+n}}if(f===-1){f=(new Date).getFullYear()}else if(f<100){f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=c?0:-100)}if(k>-1){g=1;_=k;do{r=this._getDaysInMonth(f,g-1);if(_<=r){break}g++;_-=r}while(true)}m=this._daylightSavingAdjust(new Date(f,g-1,_));if(m.getFullYear()!==f||m.getMonth()+1!==g||m.getDate()!==_){throw"Invalid date"}return m},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,t,a){if(!t){return""}var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,n=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,l=(a?a.monthNames:null)||this._defaults.monthNames,d=function(t){var a=i+1<e.length&&e.charAt(i+1)===t;if(a){i++}return a},c=function(e,t,a){var i=""+t;if(d(e)){while(i.length<a){i="0"+i}}return i},o=function(e,t,a,i){return d(e)?i[t]:a[t]},u="",h=false;if(t){for(i=0;i<e.length;i++){if(h){if(e.charAt(i)==="'"&&!d("'")){h=false}else{u+=e.charAt(i)}}else{switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=o("D",t.getDay(),s,r);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=o("M",t.getMonth(),n,l);break;case"y":u+=d("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=t.getTime()*1e4+this._ticksTo1970;break;case"'":if(d("'")){u+="'"}else{h=true}break;default:u+=e.charAt(i)}}}}return u},_possibleChars:function(e){var t,a="",i=false,s=function(a){var i=t+1<e.length&&e.charAt(t+1)===a;if(i){t++}return i};for(t=0;t<e.length;t++){if(i){if(e.charAt(t)==="'"&&!s("'")){i=false}else{a+=e.charAt(t)}}else{switch(e.charAt(t)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":if(s("'")){a+="'"}else{i=true}break;default:a+=e.charAt(t)}}}return a},_get:function(e,a){return e.settings[a]!==t?e.settings[a]:this._defaults[a]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal){return}var a=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,n=this._getFormatConfig(e);try{r=this.parseDate(a,i,n)||s}catch(e){i=t?"":i}e.selectedDay=r.getDate();e.drawMonth=e.selectedMonth=r.getMonth();e.drawYear=e.selectedYear=r.getFullYear();e.currentDay=i?r.getDate():0;e.currentMonth=i?r.getMonth():0;e.currentYear=i?r.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,a,i){var s=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},r=function(a){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),a,e.datepicker._getFormatConfig(t))}catch(e){}var i=(a.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),r=i.getMonth(),n=i.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(a);while(d){switch(d[2]||"d"){case"d":case"D":n+=parseInt(d[1],10);break;case"w":case"W":n+=parseInt(d[1],10)*7;break;case"m":case"M":r+=parseInt(d[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(d[1],10);n=Math.min(n,e.datepicker._getDaysInMonth(s,r));break}d=l.exec(a)}return new Date(s,r,n)},n=a==null||a===""?i:typeof a==="string"?r(a):typeof a==="number"?isNaN(a)?i:s(a):new Date(a.getTime());n=n&&n.toString()==="Invalid Date"?i:n;if(n){n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}return this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,a){var i=!t,s=e.selectedMonth,r=e.selectedYear,n=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=n.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=n.getMonth();e.drawYear=e.selectedYear=e.currentYear=n.getFullYear();if((s!==e.selectedMonth||r!==e.selectedYear)&&!a){this._notifyChange(e)}this._adjustInstDate(e);if(e.input){e.input.val(i?"":this._formatDate(e))}},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var a=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-a,"M")},next:function(){e.datepicker._adjustDate(i,+a,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(i,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(i,this,"Y");return false}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var a,i,s,r,n,l,d,c,o,u,h,p,f,g,_,k,D,m,y,v,M,w,b,C,I,x,Y,S,F,N,T,A,K,j,O,L,R,H,W,E=new Date,P=this._daylightSavingAdjust(new Date(E.getFullYear(),E.getMonth(),E.getDate())),z=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),J=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),Q=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),Z=V[0]!==1||V[1]!==1,$=this._daylightSavingAdjust(!t.currentDay?new Date(9999,9,9):new Date(t.currentYear,t.currentMonth,t.currentDay)),q=this._getMinMaxDate(t,"min"),G=this._getMinMaxDate(t,"max"),ee=t.drawMonth-Q,te=t.drawYear;if(ee<0){ee+=12;te--}if(G){a=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth()-V[0]*V[1]+1,G.getDate()));a=q&&a<q?q:a;while(this._daylightSavingAdjust(new Date(te,ee,1))>a){ee--;if(ee<0){ee=11;te--}}}t.drawMonth=ee;t.drawYear=te;i=this._get(t,"prevText");i=!J?i:this.formatDate(i,this._daylightSavingAdjust(new Date(te,ee-X,1)),this._getFormatConfig(t));if(this._canAdjustMonth(t,-1,te,ee)){s=e("<a></a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:i}).append(e("<span></span>").addClass("ui-icon ui-icon-circle-triangle-"+(z?"e":"w")).text(i))[0].outerHTML}else if(B){s=""}else{s=e("<a></a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:i}).append(e("<span></span>").addClass("ui-icon ui-icon-circle-triangle-"+(z?"e":"w")).text(i))[0].outerHTML}r=this._get(t,"nextText");r=!J?r:this.formatDate(r,this._daylightSavingAdjust(new Date(te,ee+X,1)),this._getFormatConfig(t));if(this._canAdjustMonth(t,+1,te,ee)){n=e("<a></a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:r}).append(e("<span></span>").addClass("ui-icon ui-icon-circle-triangle-"+(z?"w":"e")).text(r))[0].outerHTML}else if(B){n=""}else{n=e("<a></a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:r}).append(e("<span></span>").attr("class","ui-icon ui-icon-circle-triangle-"+(z?"w":"e")).text(r))[0].outerHTML}l=this._get(t,"currentText");d=this._get(t,"gotoCurrent")&&t.currentDay?$:P;l=!J?l:this.formatDate(l,d,this._getFormatConfig(t));c="";if(!t.inline){c=e("<button></button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML}o="";if(U){o=e("<div class='ui-datepicker-buttonpane ui-widget-content'></div>").append(z?c:"").append(this._isInRange(t,d)?e("<button></button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(l):"").append(z?"":c)[0].outerHTML}u=parseInt(this._get(t,"firstDay"),10);u=isNaN(u)?0:u;h=this._get(t,"showWeek");p=this._get(t,"dayNames");f=this._get(t,"dayNamesMin");g=this._get(t,"monthNames");_=this._get(t,"monthNamesShort");k=this._get(t,"beforeShowDay");D=this._get(t,"showOtherMonths");m=this._get(t,"selectOtherMonths");y=this._getDefaultDate(t);v="";M;for(w=0;w<V[0];w++){b="";this.maxRows=4;for(C=0;C<V[1];C++){I=this._daylightSavingAdjust(new Date(te,ee,t.selectedDay));x=" ui-corner-all";Y="";if(Z){Y+="<div class='ui-datepicker-group";if(V[1]>1){switch(C){case 0:Y+=" ui-datepicker-group-first";x=" ui-corner-"+(z?"right":"left");break;case V[1]-1:Y+=" ui-datepicker-group-last";x=" ui-corner-"+(z?"left":"right");break;default:Y+=" ui-datepicker-group-middle";x="";break}}Y+="'>"}Y+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&w===0?z?n:s:"")+(/all|right/.test(x)&&w===0?z?s:n:"")+this._generateMonthYearHeader(t,ee,te,q,G,w>0||C>0,g,_)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";S=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"";for(M=0;M<7;M++){F=(M+u)%7;S+="<th"+((M+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+p[F]+"'>"+f[F]+"</span></th>"}Y+=S+"</tr></thead><tbody>";N=this._getDaysInMonth(te,ee);if(te===t.selectedYear&&ee===t.selectedMonth){t.selectedDay=Math.min(t.selectedDay,N)}T=(this._getFirstDayOfMonth(te,ee)-u+7)%7;A=Math.ceil((T+N)/7);K=Z?this.maxRows>A?this.maxRows:A:A;this.maxRows=K;j=this._daylightSavingAdjust(new Date(te,ee,1-T));for(O=0;O<K;O++){Y+="<tr>";L=!h?"":"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(j)+"</td>";for(M=0;M<7;M++){R=k?k.apply(t.input?t.input[0]:null,[j]):[true,""];H=j.getMonth()!==ee;W=H&&!m||!R[0]||q&&j<q||G&&j>G;L+="<td class='"+((M+u+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(j.getTime()===I.getTime()&&ee===t.selectedMonth&&t._keyEvent||y.getTime()===j.getTime()&&y.getTime()===I.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!D?"":" "+R[1]+(j.getTime()===$.getTime()?" "+this._currentClass:"")+(j.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+((!H||D)&&R[2]?" title='"+R[2].replace(/'/g,"&#39;")+"'":"")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(H&&!D?"&#xa0;":W?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===P.getTime()?" ui-state-highlight":"")+(j.getTime()===$.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>";j.setDate(j.getDate()+1);j=this._daylightSavingAdjust(j)}Y+=L+"</tr>"}ee++;if(ee>11){ee=0;te++}Y+="</tbody></table>"+(Z?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");b+=Y}v+=b}v+=o;t._keyEvent=false;return v},_generateMonthYearHeader:function(e,t,a,i,s,r,n,l){var d,c,o,u,h,p,f,g,_=this._get(e,"changeMonth"),k=this._get(e,"changeYear"),D=this._get(e,"showMonthAfterYear"),m="<div class='ui-datepicker-title'>",y="";if(r||!_){y+="<span class='ui-datepicker-month'>"+n[t]+"</span>"}else{d=i&&i.getFullYear()===a;c=s&&s.getFullYear()===a;y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(o=0;o<12;o++){if((!d||o>=i.getMonth())&&(!c||o<=s.getMonth())){y+="<option value='"+o+"'"+(o===t?" selected='selected'":"")+">"+l[o]+"</option>"}}y+="</select>"}if(!D){m+=y+(r||!(_&&k)?"&#xa0;":"")}if(!e.yearshtml){e.yearshtml="";if(r||!k){m+="<span class='ui-datepicker-year'>"+a+"</span>"}else{u=this._get(e,"yearRange").split(":");h=(new Date).getFullYear();p=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t};f=p(u[0]);g=Math.max(f,p(u[1]||""));f=i?Math.max(f,i.getFullYear()):f;g=s?Math.min(g,s.getFullYear()):g;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;f<=g;f++){e.yearshtml+="<option value='"+f+"'"+(f===a?" selected='selected'":"")+">"+f+"</option>"}e.yearshtml+="</select>";m+=e.yearshtml;e.yearshtml=null}}m+=this._get(e,"yearSuffix");if(D){m+=(r||!(_&&k)?"&#xa0;":"")+y}m+="</div>";return m},_adjustInstDate:function(e,t,a){var i=e.drawYear+(a==="Y"?t:0),s=e.drawMonth+(a==="M"?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,s))+(a==="D"?t:0),n=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,s,r)));e.selectedDay=n.getDate();e.drawMonth=e.selectedMonth=n.getMonth();e.drawYear=e.selectedYear=n.getFullYear();if(a==="M"||a==="Y"){this._notifyChange(e)}},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),s=a&&t<a?a:t;return i&&s>i?i:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");if(t){t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])}},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t==="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,i){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(a,i+(t<0?t:s[0]*s[1]),1));if(t<0){r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth()))}return this._isInRange(e,r)},_isInRange:function(e,t){var a,i,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),n=null,l=null,d=this._get(e,"yearRange");if(d){a=d.split(":");i=(new Date).getFullYear();n=parseInt(a[0],10);l=parseInt(a[1],10);if(a[0].match(/[+\-].*/)){n+=i}if(a[1].match(/[+\-].*/)){l+=i}}return(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!n||t.getFullYear()>=n)&&(!l||t.getFullYear()<=l)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t=typeof t!=="string"?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,i){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var s=t?typeof t==="object"?t:this._daylightSavingAdjust(new Date(i,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}});function r(t){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(a,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(a,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(i.inline?t.parent()[0]:i.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function n(t,a){e.extend(t,a);for(var i in a){if(a[i]==null){t[i]=a[i]}}return t}e.fn.datepicker=function(t){if(!this.length){return this}if(!e.datepicker.initialized){e(document).on("mousedown",e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var a=Array.prototype.slice.call(arguments,1);if(typeof t==="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a))}if(t==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a))}return this.each(function(){typeof t==="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(a)):e.datepicker._attachDatepicker(this,t)})};e.datepicker=new s;e.datepicker.initialized=false;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.10.4"})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-draggable.js":function(){
/*!
 * jQuery UI Draggable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;if(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}t(i.iframeFix===true?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix'></div>").css({background:"#fff",width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")});return true},_mouseStart:function(e){var i=this.options;this.helper=this._createHelper(e);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(t.ui.ddmanager){t.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(t.ui.ddmanager&&!i.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(t.ui.ddmanager){t.ui.ddmanager.dragStart(this,e)}return true},_mouseDrag:function(e,i){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!i){var s=this._uiHash();if(this._trigger("drag",e,s)===false){this._mouseUp({});return false}this.position=s.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var i=this,s=false;if(t.ui.ddmanager&&!this.options.dropBehaviour){s=t.ui.ddmanager.drop(this,e)}if(this.dropped){s=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!t.contains(this.element[0].ownerDocument,this.element[0])){return false}if(this.options.revert==="invalid"&&!s||this.options.revert==="valid"&&s||this.options.revert===true||typeof this.options.revert==="function"&&this.options.revert.call(this.element,s)){t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",e)!==false){i._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(t.ui.ddmanager){t.ui.ddmanager.dragStop(this,e)}return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(e){var i=this.options,s=typeof i.helper==="function"?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!s.parents("body").length){s.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(s[0]!==this.element[0]&&!/(fixed|absolute)/.test(s.css("position"))){s.css("position","absolute")}return s},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;if(!o.containment){this.containment=null;return}if(o.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment==="document"){this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment.constructor===Array){this.containment=o.containment;return}if(o.containment==="parent"){o.containment=this.helper[0].parentNode}i=t(o.containment);s=i[0];if(!s){return}e=i.css("overflow")!=="hidden";this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i},_convertPositionTo:function(e,i){if(!i){i=this.position}var s=e==="absolute"?1:-1,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}}return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,o,n,r=this.options,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=e.pageX,f=e.pageY;if(!this.offset.scroll){this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){s=this.relative_container.offset();i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]}else{i=this.containment}if(e.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<i[1]){f=i[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>i[3]){f=i[3]+this.offset.click.top}}if(r.grid){o=r.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY;f=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o;n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX;l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,i,s){s=s||this._uiHash();t.ui.plugin.call(this,e,[i,s]);if(e==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),o=s.options,n=t.extend({},i,{item:s.element});s.sortables=[];t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");if(i&&!i.options.disabled){s.sortables.push({instance:i,shouldRevert:i.options.revert});i.refreshPositions();i._trigger("activate",e,n)}})},stop:function(e,i){var s=t(this).data("ui-draggable"),o=t.extend({},i,{item:s.element});t.each(s.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;s.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;if(s.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,o)}})},drag:function(e,i){var s=t(this).data("ui-draggable"),o=this;t.each(s.sortables,function(){var n=false,r=this;this.instance.positionAbs=s.positionAbs;this.instance.helperProportions=s.helperProportions;this.instance.offset.click=s.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){n=true;t.each(s.sortables,function(){this.instance.positionAbs=s.positionAbs;this.instance.helperProportions=s.helperProportions;this.instance.offset.click=s.offset.click;if(this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])){n=false}return n})}if(n){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return i.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=s.offset.click.top;this.instance.offset.click.left=s.offset.click.left;this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top;s._trigger("toSortable",e);s.dropped=this.instance.element;s.currentItem=s.element;this.instance.fromOutside=s}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}s._trigger("fromSortable",e);s.dropped=false}}})}});t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;if(e.css("cursor")){i._cursor=e.css("cursor")}e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;if(e._cursor){t("body").css("cursor",e._cursor)}}});t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;if(s.css("opacity")){o._opacity=s.css("opacity")}s.css("opacity",o.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;if(s._opacity){t(i.helper).css("opacity",s._opacity)}}});t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");if(e.scrollParent[0]!==document&&e.scrollParent[0].tagName!=="HTML"){e.overflowOffset=e.scrollParent.offset()}},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,o=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!s.axis||s.axis!=="x"){if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity){i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+s.scrollSpeed}else if(e.pageY-i.overflowOffset.top<s.scrollSensitivity){i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-s.scrollSpeed}}if(!s.axis||s.axis!=="y"){if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity){i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+s.scrollSpeed}else if(e.pageX-i.overflowOffset.left<s.scrollSensitivity){i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-s.scrollSpeed}}}else{if(!s.axis||s.axis!=="x"){if(e.pageY-t(document).scrollTop()<s.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed)}else if(t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)}}if(!s.axis||s.axis!=="y"){if(e.pageX-t(document).scrollLeft()<s.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed)}else if(t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)}}}if(o!==false&&t.ui.ddmanager&&!s.dropBehaviour){t.ui.ddmanager.prepareOffsets(i,e)}}});t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[];t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();if(this!==e.element[0]){e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})}})},drag:function(e,i){var s,o,n,r,a,l,f,h,c,p,d=t(this).data("ui-draggable"),g=d.options,u=g.snapTolerance,m=i.offset.left,v=m+d.helperProportions.width,P=i.offset.top,b=P+d.helperProportions.height;for(c=d.snapElements.length-1;c>=0;c--){a=d.snapElements[c].left;l=a+d.snapElements[c].width;f=d.snapElements[c].top;h=f+d.snapElements[c].height;if(v<a-u||m>l+u||b<f-u||P>h+u||!t.contains(d.snapElements[c].item.ownerDocument,d.snapElements[c].item)){if(d.snapElements[c].snapping){d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=false;continue}if(g.snapMode!=="inner"){s=Math.abs(f-b)<=u;o=Math.abs(h-P)<=u;n=Math.abs(a-v)<=u;r=Math.abs(l-m)<=u;if(s){i.position.top=d._convertPositionTo("relative",{top:f-d.helperProportions.height,left:0}).top-d.margins.top}if(o){i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top}if(n){i.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left}}p=s||o||n||r;if(g.snapMode!=="outer"){s=Math.abs(f-P)<=u;o=Math.abs(h-b)<=u;n=Math.abs(a-m)<=u;r=Math.abs(l-v)<=u;if(s){i.position.top=d._convertPositionTo("relative",{top:f,left:0}).top-d.margins.top}if(o){i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top}if(n){i.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left}}if(!d.snapElements[c].snapping&&(s||o||n||r||p)){d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=s||o||n||r||p}}});t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(!s.length){return}e=parseInt(t(s[0]).css("zIndex"),10)||0;t(s).each(function(i){t(this).css("zIndex",e+i)});this.css("zIndex",e+s.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;if(s.css("zIndex")){o._zIndex=s.css("zIndex")}s.css("zIndex",o.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;if(s._zIndex){t(i.helper).css("zIndex",s._zIndex)}}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-droppable.js":function(){
/*!
 * jQuery UI Droppable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
(function(e,t){function i(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=false;this.isout=true;this.accept=typeof s==="function"?s:function(e){return e.is(s)};this.proportions=function(){if(arguments.length){t=arguments[0]}else{return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};e.ui.ddmanager.droppables[i.scope]=e.ui.ddmanager.droppables[i.scope]||[];e.ui.ddmanager.droppables[i.scope].push(this);i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,i=e.ui.ddmanager.droppables[this.options.scope];for(;t<i.length;t++){if(i[t]===this){i.splice(t,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if(t==="accept"){this.accept=typeof i==="function"?i:function(e){return e.is(i)}}e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(i){this._trigger("activate",t,this.ui(i))}},_deactivate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(i){this._trigger("deactivate",t,this.ui(i))}},_over:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",t,this.ui(i))}},_out:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",t,this.ui(i))}},_drop:function(t,i){var s=i||e.ui.ddmanager.current,o=false;if(!s||(s.currentItem||s.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)){o=true;return false}});if(o){return false}if(this.accept.call(this.element[0],s.currentItem||s.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",t,this.ui(s));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}});e.ui.intersect=function(e,t,s){if(!t.offset){return false}var o,r,n=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,l=n+e.helperProportions.width,p=a+e.helperProportions.height,u=t.offset.left,c=t.offset.top,h=u+t.proportions().width,f=c+t.proportions().height;switch(s){case"fit":return u<=n&&l<=h&&c<=a&&p<=f;case"intersect":return u<n+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&c<a+e.helperProportions.height/2&&p-e.helperProportions.height/2<f;case"pointer":o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left;r=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return i(r,c,t.proportions().height)&&i(o,u,t.proportions().width);case"touch":return(a>=c&&a<=f||p>=c&&p<=f||a<c&&p>f)&&(n>=u&&n<=h||l>=u&&l<=h||n<u&&l>h);default:return false}};e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],n=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<r.length;s++){if(r[s].options.disabled||t&&!r[s].accept.call(r[s].element[0],t.currentItem||t.element)){continue}for(o=0;o<a.length;o++){if(a[o]===r[s].element[0]){r[s].proportions().height=0;continue e}}r[s].visible=r[s].element.css("display")!=="none";if(!r[s].visible){continue}if(n==="mousedown"){r[s]._activate.call(r[s],i)}r[s].offset=r[s].element.offset();r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight})}},drop:function(t,i){var s=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)){s=this._drop.call(this,i)||s}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,i)}});return s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}})},drag:function(t,i){if(t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var s,o,r,n=e.ui.intersect(t,this,this.options.tolerance),a=!n&&this.isover?"isout":n&&!this.isover?"isover":null;if(!a){return}if(this.options.greedy){o=this.options.scope;r=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===o});if(r.length){s=e.data(r[0],"ui-droppable");s.greedyChild=a==="isover"}}if(s&&a==="isover"){s.isover=false;s.isout=true;s._out.call(s,i)}this[a]=true;this[a==="isout"?"isover":"isout"]=false;this[a==="isover"?"_over":"_out"].call(this,i);if(s&&a==="isout"){s.isout=false;s.isover=true;s._over.call(s,i)}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}}}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind.js":function(){
/*!
 * jQuery UI Effects Blind 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){var s=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,f){var o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),c=t.direction||"up",n=s.test(c),p=n?"height":"width",h=n?"top":"left",d=i.test(c),l={},u=a==="show",v,w,g;if(o.parent().is(".ui-effects-wrapper")){e.effects.save(o.parent(),r)}else{e.effects.save(o,r)}o.show();v=e.effects.createWrapper(o).css({overflow:"hidden"});w=v[p]();g=parseFloat(v.css(h))||0;l[p]=u?w:0;if(!d){o.css(n?"bottom":"right",0).css(n?"top":"left","auto").css({position:"absolute"});l[h]=u?g:w+g}if(u){v.css(p,0);if(!d){v.css(h,g+w)}}v.animate(l,{duration:t.duration,easing:t.easing,queue:false,complete:function(){if(a==="hide"){o.hide()}e.effects.restore(o,r);e.effects.removeWrapper(o);f()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce.js":function(){
/*!
 * jQuery UI Effects Bounce 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.bounce=function(t,i){var f=e(this),o=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(f,t.mode||"effect"),a=c==="hide",s=c==="show",p=t.direction||"up",n=t.distance,u=t.times||5,r=u*2+(s||a?1:0),h=t.duration/r,d=t.easing,m=p==="up"||p==="down"?"top":"left",l=p==="up"||p==="left",y,g,w,q=f.queue(),v=q.length;if(s||a){o.push("opacity")}e.effects.save(f,o);f.show();e.effects.createWrapper(f);if(!n){n=f[m==="top"?"outerHeight":"outerWidth"]()/3}if(s){w={opacity:1};w[m]=0;f.css("opacity",0).css(m,l?-n*2:n*2).animate(w,h,d)}if(a){n=n/Math.pow(2,u-1)}w={};w[m]=0;for(y=0;y<u;y++){g={};g[m]=(l?"-=":"+=")+n;f.animate(g,h,d).animate(w,h,d);n=a?n*2:n/2}if(a){g={opacity:0};g[m]=(l?"-=":"+=")+n;f.animate(g,h,d)}f.queue(function(){if(a){f.hide()}e.effects.restore(f,o);e.effects.removeWrapper(f);i()});if(v>1){q.splice.apply(q,[1,0].concat(q.splice(v,r+1)))}f.dequeue()}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip.js":function(){
/*!
 * jQuery UI Effects Clip 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.clip=function(t,i){var f=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(f,t.mode||"hide"),c=o==="show",r=t.direction||"vertical",a=r==="vertical",n=a?"height":"width",h=a?"top":"left",d={},p,l,u;e.effects.save(f,s);f.show();p=e.effects.createWrapper(f).css({overflow:"hidden"});l=f[0].tagName==="IMG"?p:f;u=l[n]();if(c){l.css(n,0);l.css(h,u/2)}d[n]=c?u:0;d[h]=c?0:u/2;l.animate(d,{queue:false,duration:t.duration,easing:t.easing,complete:function(){if(!c){f.hide()}e.effects.restore(f,s);e.effects.removeWrapper(f);i()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop.js":function(){
/*!
 * jQuery UI Effects Drop 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.drop=function(t,o){var i=e(this),s=["position","top","bottom","left","right","opacity","height","width"],f=e.effects.setMode(i,t.mode||"hide"),c=f==="show",p=t.direction||"left",r=p==="up"||p==="down"?"top":"left",a=p==="up"||p==="left"?"pos":"neg",n={opacity:c?1:0},d;e.effects.save(i,s);i.show();e.effects.createWrapper(i);d=t.distance||i[r==="top"?"outerHeight":"outerWidth"](true)/2;if(c){i.css("opacity",0).css(r,a==="pos"?-d:d)}n[r]=(c?a==="pos"?"+=":"-=":a==="pos"?"-=":"+=")+d;i.animate(n,{queue:false,duration:t.duration,easing:t.easing,complete:function(){if(f==="hide"){i.hide()}e.effects.restore(i,s);e.effects.removeWrapper(i);o()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode.js":function(){
/*!
 * jQuery UI Effects Explode 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,i){e.effects.effect.explode=function(i,t){var o=i.pieces?Math.round(Math.sqrt(i.pieces)):3,s=o,f=e(this),d=e.effects.setMode(f,i.mode||"hide"),n=d==="show",c=f.show().css("visibility","hidden").offset(),h=Math.ceil(f.outerWidth()/s),l=Math.ceil(f.outerHeight()/o),a=[],p,r,u,v,b,y;function w(){a.push(this);if(a.length===o*s){M()}}for(p=0;p<o;p++){v=c.top+p*l;y=p-(o-1)/2;for(r=0;r<s;r++){u=c.left+r*h;b=r-(s-1)/2;f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*h,top:-p*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:l,left:u+(n?b*h:0),top:v+(n?y*l:0),opacity:n?0:1}).animate({left:u+(n?0:b*h),top:v+(n?0:y*l),opacity:n?1:0},i.duration||500,i.easing,w)}}function M(){f.css({visibility:"visible"});e(a).remove();if(!n){f.hide()}t()}}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade.js":function(){
/*!
 * jQuery UI Effects Fade 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.fade=function(t,a){var f=e(this),i=e.effects.setMode(f,t.mode||"toggle");f.animate({opacity:i},{queue:false,duration:t.duration,easing:t.easing,complete:a})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold.js":function(){
/*!
 * jQuery UI Effects Fold 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.fold=function(t,i){var h=e(this),f=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(h,t.mode||"hide"),o=s==="show",d=s==="hide",r=t.size||15,c=/([0-9]+)%/.exec(r),n=!!t.horizFirst,a=o!==n,g=a?["width","height"]:["height","width"],w=t.duration/2,p,m,u={},v={};e.effects.save(h,f);h.show();p=e.effects.createWrapper(h).css({overflow:"hidden"});m=a?[p.width(),p.height()]:[p.height(),p.width()];if(c){r=parseInt(c[1],10)/100*m[d?0:1]}if(o){p.css(n?{height:0,width:r}:{height:r,width:0})}u[g[0]]=o?m[0]:r;v[g[1]]=o?m[1]:0;p.animate(u,w,t.easing).animate(v,w,t.easing,function(){if(d){h.hide()}e.effects.restore(h,f);e.effects.removeWrapper(h);i()})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight.js":function(){
/*!
 * jQuery UI Effects Highlight 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,o){e.effects.effect.highlight=function(o,c){var f=e(this),a=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(f,o.mode||"show"),i={backgroundColor:f.css("backgroundColor")};if(n==="hide"){i.opacity=0}e.effects.save(f,a);f.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(i,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(n==="hide"){f.hide()}e.effects.restore(f,a);c()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate.js":function(){
/*!
 * jQuery UI Effects Pulsate 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,i){e.effects.effect.pulsate=function(i,t){var s=e(this),a=e.effects.setMode(s,i.mode||"show"),c=a==="show",o=a==="hide",f=c||a==="hide",n=(i.times||5)*2+(f?1:0),u=i.duration/n,h=0,p=s.queue(),d=p.length,l;if(c||!s.is(":visible")){s.css("opacity",0).show();h=1}for(l=1;l<n;l++){s.animate({opacity:h},u,i.easing);h=1-h}s.animate({opacity:h},u,i.easing);s.queue(function(){if(o){s.hide()}t()});if(d>1){p.splice.apply(p,[1,0].concat(p.splice(d,n+1)))}s.dequeue()}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale.js":function(){
/*!
 * jQuery UI Effects Scale 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(t,e){t.effects.effect.puff=function(e,o){var i=t(this),f=t.effects.setMode(i,e.mode||"hide"),r=f==="hide",h=parseInt(e.percent,10)||150,s=h/100,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:false,fade:true,mode:f,complete:o,percent:r?h:100,from:r?c:{height:c.height*s,width:c.width*s,outerHeight:c.outerHeight*s,outerWidth:c.outerWidth*s}});i.effect(e)};t.effects.effect.scale=function(e,o){var i=t(this),f=t.extend(true,{},e),r=t.effects.setMode(i,e.mode||"effect"),h=parseInt(e.percent,10)||(parseInt(e.percent,10)===0?0:r==="hide"?0:100),s=e.direction||"both",c=e.origin,n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d={y:s!=="horizontal"?h/100:1,x:s!=="vertical"?h/100:1};f.effect="size";f.queue=false;f.complete=o;if(r!=="effect"){f.origin=c||["middle","center"];f.restore=true}f.from=e.from||(r==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:n);f.to={height:n.height*d.y,width:n.width*d.x,outerHeight:n.outerHeight*d.y,outerWidth:n.outerWidth*d.x};if(f.fade){if(r==="show"){f.from.opacity=0;f.to.opacity=1}if(r==="hide"){f.from.opacity=1;f.to.opacity=0}}i.effect(f)};t.effects.effect.size=function(e,o){var i,f,r,h=t(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],c=["position","top","bottom","left","right","overflow","opacity"],n=["width","height","overflow"],d=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.effects.setMode(h,e.mode||"effect"),m=e.restore||u!=="effect",p=e.scale||"both",w=e.origin||["middle","center"],y=h.css("position"),l=m?s:c,W={height:0,width:0,outerHeight:0,outerWidth:0};if(u==="show"){h.show()}i={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};if(e.mode==="toggle"&&u==="show"){h.from=e.to||W;h.to=e.from||i}else{h.from=e.from||(u==="show"?W:i);h.to=e.to||(u==="hide"?W:i)}r={from:{y:h.from.height/i.height,x:h.from.width/i.width},to:{y:h.to.height/i.height,x:h.to.width/i.width}};if(p==="box"||p==="both"){if(r.from.y!==r.to.y){l=l.concat(a);h.from=t.effects.setTransition(h,a,r.from.y,h.from);h.to=t.effects.setTransition(h,a,r.to.y,h.to)}if(r.from.x!==r.to.x){l=l.concat(g);h.from=t.effects.setTransition(h,g,r.from.x,h.from);h.to=t.effects.setTransition(h,g,r.to.x,h.to)}}if(p==="content"||p==="both"){if(r.from.y!==r.to.y){l=l.concat(d).concat(n);h.from=t.effects.setTransition(h,d,r.from.y,h.from);h.to=t.effects.setTransition(h,d,r.to.y,h.to)}}t.effects.save(h,l);h.show();t.effects.createWrapper(h);h.css("overflow","hidden").css(h.from);if(w){f=t.effects.getBaseline(w,i);h.from.top=(i.outerHeight-h.outerHeight())*f.y;h.from.left=(i.outerWidth-h.outerWidth())*f.x;h.to.top=(i.outerHeight-h.to.outerHeight)*f.y;h.to.left=(i.outerWidth-h.to.outerWidth)*f.x}h.css(h.from);if(p==="content"||p==="both"){a=a.concat(["marginTop","marginBottom"]).concat(d);g=g.concat(["marginLeft","marginRight"]);n=s.concat(a).concat(g);h.find("*[width]").each(function(){var o=t(this),i={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()};if(m){t.effects.save(o,n)}o.from={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x};o.to={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};if(r.from.y!==r.to.y){o.from=t.effects.setTransition(o,a,r.from.y,o.from);o.to=t.effects.setTransition(o,a,r.to.y,o.to)}if(r.from.x!==r.to.x){o.from=t.effects.setTransition(o,g,r.from.x,o.from);o.to=t.effects.setTransition(o,g,r.to.x,o.to)}o.css(o.from);o.animate(o.to,e.duration,e.easing,function(){if(m){t.effects.restore(o,n)}})})}h.animate(h.to,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(h.to.opacity===0){h.css("opacity",h.from.opacity)}if(u==="hide"){h.hide()}t.effects.restore(h,l);if(!m){if(y==="static"){h.css({position:"relative",top:h.to.top,left:h.to.left})}else{t.each(["top","left"],function(t,e){h.css(e,function(e,o){var i=parseInt(o,10),f=t?h.to.left:h.to.top;if(o==="auto"){return f+"px"}return i+f+"px"})})}}t.effects.removeWrapper(h);o()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake.js":function(){
/*!
 * jQuery UI Effects Shake 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.shake=function(t,i){var a=e(this),f=["position","top","bottom","left","right","height","width"],n=e.effects.setMode(a,t.mode||"effect"),s=t.direction||"left",o=t.distance||20,c=t.times||3,r=c*2+1,u=Math.round(t.duration/r),p=s==="up"||s==="down"?"top":"left",d=s==="up"||s==="left",h={},m={},g={},l,q=a.queue(),v=q.length;e.effects.save(a,f);a.show();e.effects.createWrapper(a);h[p]=(d?"-=":"+=")+o;m[p]=(d?"+=":"-=")+o*2;g[p]=(d?"-=":"+=")+o*2;a.animate(h,u,t.easing);for(l=1;l<c;l++){a.animate(m,u,t.easing).animate(g,u,t.easing)}a.animate(m,u,t.easing).animate(h,u/2,t.easing).queue(function(){if(n==="hide"){a.hide()}e.effects.restore(a,f);e.effects.removeWrapper(a);i()});if(v>1){q.splice.apply(q,[1,0].concat(q.splice(v,r+1)))}a.dequeue()}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide.js":function(){
/*!
 * jQuery UI Effects Slide 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(e,t){e.effects.effect.slide=function(t,i){var o=e(this),f=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(o,t.mode||"show"),r=s==="show",c=t.direction||"left",n=c==="up"||c==="down"?"top":"left",a=c==="up"||c==="left",d,h={};e.effects.save(o,f);o.show();d=t.distance||o[n==="top"?"outerHeight":"outerWidth"](true);e.effects.createWrapper(o).css({overflow:"hidden"});if(r){o.css(n,a?isNaN(d)?"-"+d:-d:d)}h[n]=(r?a?"+=":"-=":a?"-=":"+=")+d;o.animate(h,{queue:false,duration:t.duration,easing:t.easing,complete:function(){if(s==="hide"){o.hide()}e.effects.restore(o,f);e.effects.removeWrapper(o);i()}})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer.js":function(){
/*!
 * jQuery UI Effects Transfer 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
(function(t,e){t.effects.effect.transfer=function(e,i){var o=t(this),n=t(e.to),s=n.css("position")==="fixed",f=t("body"),d=s?f.scrollTop():0,a=s?f.scrollLeft():0,r=n.offset(),c={top:r.top-d,left:r.left-a,height:n.innerHeight(),width:n.innerWidth()},l=o.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:l.top-d,left:l.left-a,height:o.innerHeight(),width:o.innerWidth(),position:s?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove();i()})}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-effect.js":function(){
/*!
 * jQuery UI Effects 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
(function(t,e){var n="ui-effects-";t.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */(function(jQuery,t){var e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",n=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1]*2.55,t[2]*2.55,t[3]*2.55,t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],i=jQuery.Color=function(t,e,n,r){return new jQuery.Color.fn.parse(t,e,n,r)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},f=i.support={},s=jQuery("<p>")[0],u,c=jQuery.each;s.style.cssText="background-color:rgba(1,1,1,.5)";f.rgba=s.style.backgroundColor.indexOf("rgba")>-1;c(o,function(t,e){e.cache="_"+t;e.props.alpha={idx:3,type:"percent",def:1}});function l(t,e,n){var r=a[e.type]||{};if(t==null){return n||!e.def?null:e.def}t=r.floor?~~t:parseFloat(t);if(isNaN(t)){return e.def}if(r.mod){return(t+r.mod)%r.mod}return 0>t?0:r.max<t?r.max:t}function p(t){var e=i(),n=e._rgba=[];t=t.toLowerCase();c(r,function(r,i){var a,f=i.re.exec(t),s=f&&i.parse(f),u=i.space||"rgba";if(s){a=e[u](s);e[o[u].cache]=a[o[u].cache];n=e._rgba=a._rgba;return false}});if(n.length){if(n.join()==="0,0,0,0"){jQuery.extend(n,u.transparent)}return e}return u[t]}i.fn=jQuery.extend(i.prototype,{parse:function(e,n,r,a){if(e===t){this._rgba=[null,null,null,null];return this}if(e.jquery||e.nodeType){e=jQuery(e).css(n);n=t}var f=this,s=jQuery.type(e),d=this._rgba=[];if(n!==t){e=[e,n,r,a];s="array"}if(s==="string"){return this.parse(p(e)||u._default)}if(s==="array"){c(o.rgba.props,function(t,n){d[n.idx]=l(e[n.idx],n)});return this}if(s==="object"){if(e instanceof i){c(o,function(t,n){if(e[n.cache]){f[n.cache]=e[n.cache].slice()}})}else{c(o,function(t,n){var r=n.cache;c(n.props,function(t,i){if(!f[r]&&n.to){if(t==="alpha"||e[t]==null){return}f[r]=n.to(f._rgba)}f[r][i.idx]=l(e[t],i,true)});if(f[r]&&jQuery.inArray(null,f[r].slice(0,3))<0){f[r][3]=1;if(n.from){f._rgba=n.from(f[r])}}})}return this}},is:function(t){var e=i(t),n=true,r=this;c(o,function(t,i){var o,a=e[i.cache];if(a){o=r[i.cache]||i.to&&i.to(r._rgba)||[];c(i.props,function(t,e){if(a[e.idx]!=null){n=a[e.idx]===o[e.idx];return n}})}return n});return n},_space:function(){var t=[],e=this;c(o,function(n,r){if(e[r.cache]){t.push(n)}});return t.pop()},transition:function(t,e){var n=i(t),r=n._space(),f=o[r],s=this.alpha()===0?i("transparent"):this,u=s[f.cache]||f.to(s._rgba),p=u.slice();n=n[f.cache];c(f.props,function(t,r){var i=r.idx,o=u[i],f=n[i],s=a[r.type]||{};if(f===null){return}if(o===null){p[i]=f}else{if(s.mod){if(f-o>s.mod/2){o+=s.mod}else if(o-f>s.mod/2){o-=s.mod}}p[i]=l((f-o)*e+o,r)}});return this[r](p)},blend:function(t){if(this._rgba[3]===1){return this}var e=this._rgba.slice(),n=e.pop(),r=i(t)._rgba;return i(jQuery.map(e,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=jQuery.map(this._rgba,function(t,e){return t==null?e>2?1:0:t});if(e[3]===1){e.pop();t="rgb("}return t+e.join()+")"},toHslaString:function(){var t="hsla(",e=jQuery.map(this.hsla(),function(t,e){if(t==null){t=e>2?1:0}if(e&&e<3){t=Math.round(t*100)+"%"}return t});if(e[3]===1){e.pop();t="hsl("}return t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();if(t){e.push(~~(n*255))}return"#"+jQuery.map(e,function(t){t=(t||0).toString(16);return t.length===1?"0"+t:t}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;function d(t,e,n){n=(n+1)%1;if(n*6<1){return t+(e-t)*n*6}if(n*2<1){return e}if(n*3<2){return t+(e-t)*(2/3-n)*6}return t}o.hsla.to=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=t[3],o=Math.max(e,n,r),a=Math.min(e,n,r),f=o-a,s=o+a,u=s*.5,c,l;if(a===o){c=0}else if(e===o){c=60*(n-r)/f+360}else if(n===o){c=60*(r-e)/f+120}else{c=60*(e-n)/f+240}if(f===0){l=0}else if(u<=.5){l=f/s}else{l=f/(2-s)}return[Math.round(c)%360,l,u,i==null?1:i]};o.hsla.from=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var e=t[0]/360,n=t[1],r=t[2],i=t[3],o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;return[Math.round(d(a,o,e+1/3)*255),Math.round(d(a,o,e)*255),Math.round(d(a,o,e-1/3)*255),i]};c(o,function(e,r){var o=r.props,a=r.cache,f=r.to,s=r.from;i.fn[e]=function(e){if(f&&!this[a]){this[a]=f(this._rgba)}if(e===t){return this[a].slice()}var n,r=jQuery.type(e),u=r==="array"||r==="object"?e:arguments,p=this[a].slice();c(o,function(t,e){var n=u[r==="object"?t:e.idx];if(n==null){n=p[e.idx]}p[e.idx]=l(n,e)});if(s){n=i(s(p));n[a]=p;return n}else{return i(p)}};c(o,function(t,r){if(i.fn[t]){return}i.fn[t]=function(i){var o=jQuery.type(i),a=t==="alpha"?this._hsla?"hsla":"rgba":e,f=this[a](),s=f[r.idx],u;if(o==="undefined"){return s}if(o==="function"){i=i.call(this,s);o=jQuery.type(i)}if(i==null&&r.empty){return this}if(o==="string"){u=n.exec(i);if(u){i=s+parseFloat(u[2])*(u[1]==="+"?1:-1)}}f[r.idx]=i;return this[a](f)}})});i.hook=function(t){var e=t.split(" ");c(e,function(t,e){jQuery.cssHooks[e]={set:function(t,n){var r,o,a="";if(n!=="transparent"&&(jQuery.type(n)!=="string"||(r=p(n)))){n=i(r||n);if(!f.rgba&&n._rgba[3]!==1){o=e==="backgroundColor"?t.parentNode:t;while((a===""||a==="transparent")&&o&&o.style){try{a=jQuery.css(o,"backgroundColor");o=o.parentNode}catch(t){}}n=n.blend(a&&a!=="transparent"?a:"_default")}n=n.toRgbaString()}try{t.style[e]=n}catch(t){}}};jQuery.fx.step[e]=function(t){if(!t.colorInit){t.start=i(t.elem,e);t.end=i(t.end);t.colorInit=true}jQuery.cssHooks[e].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook(e);jQuery.cssHooks.borderColor={expand:function(t){var e={};c(["Top","Right","Bottom","Left"],function(n,r){e["border"+r+"Color"]=t});return e}};u=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){if(t.end!=="none"&&!t.setAttr||t.pos===1&&!t.setAttr){jQuery.style(t.elem,n,t.end);t.setAttr=true}}});function i(e){var n,r,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]]){r=i.length;while(r--){n=i[r];if(typeof i[n]==="string"){o[t.camelCase(n)]=i[n]}}}else{for(n in i){if(typeof i[n]==="string"){o[n]=i[n]}}}return o}function o(e,n){var i={},o,a;for(o in n){a=n[o];if(e[o]!==a){if(!r[o]){if(t.fx.step[o]||!isNaN(parseFloat(a))){i[o]=a}}}}return i}if(!t.fn.addBack){t.fn.addBack=function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}}t.effects.animateClass=function(e,r,a,f){var s=t.speed(r,a,f);return this.queue(function(){var r=t(this),a=r.attr("class")||"",f,u=s.children?r.find("*").addBack():r;u=u.map(function(){var e=t(this);return{el:e,start:i(this)}});f=function(){t.each(n,function(t,n){if(e[n]){r[n+"Class"](e[n])}})};f();u=u.map(function(){this.end=i(this.el[0]);this.diff=o(this.start,this.end);return this});r.attr("class",a);u=u.map(function(){var e=this,n=t.Deferred(),r=t.extend({},s,{queue:false,complete:function(){n.resolve(e)}});this.el.animate(this.diff,r);return n.promise()});t.when.apply(t,u.get()).done(function(){f();t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})});s.complete.call(r[0])})})};t.fn.extend({addClass:function(e){return function(n,r,i,o){return r?t.effects.animateClass.call(this,{add:n},r,i,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,r,i,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},r,i,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(n){return function(r,i,o,a,f){if(typeof i==="boolean"||i===e){if(!o){return n.apply(this,arguments)}else{return t.effects.animateClass.call(this,i?{add:r}:{remove:r},o,a,f)}}else{return t.effects.animateClass.call(this,{toggle:r},i,o,a)}}}(t.fn.toggleClass),switchClass:function(e,n,r,i,o){return t.effects.animateClass.call(this,{add:n,remove:e},r,i,o)}})})();(function(){t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var r=0;r<e.length;r++){if(e[r]!==null){t.data(n+e[r],t[0].style[e[r]])}}},restore:function(t,r){var i,o;for(o=0;o<r.length;o++){if(r[o]!==null){i=t.data(n+r[o]);if(i===e){i=""}t.css(r[o],i)}}},setMode:function(t,e){if(e==="toggle"){e=t.is(":hidden")?"show":"hide"}return e},getBaseline:function(t,e){var n,r;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=t[1]/e.width}return{x:r,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper")){return e.parent()}var n={width:e.outerWidth(true),height:e.outerHeight(true),float:e.css("float")},r=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}e.wrap(r);if(e[0]===o||t.contains(e[0],o)){t(o).trigger("focus")}r=e.parent();if(e.css("position")==="static"){r.css({position:"relative"});e.css({position:"relative"})}else{t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")});t.each(["top","left","bottom","right"],function(t,r){n[r]=e.css(r);if(isNaN(parseInt(n[r],10))){n[r]="auto"}});e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}e.css(i);return r.css(n).show()},removeWrapper:function(e){var n=document.activeElement;if(e.parent().is(".ui-effects-wrapper")){e.parent().replaceWith(e);if(e[0]===n||t.contains(e[0],n)){t(n).trigger("focus")}}return e},setTransition:function(e,n,r,i){i=i||{};t.each(n,function(t,n){var o=e.cssUnit(n);if(o[0]>0){i[n]=o[0]*r+o[1]}});return i}});function r(e,n,r,i){if(t.isPlainObject(e)){n=e;e=e.effect}e={effect:e};if(n==null){n={}}if(typeof n==="function"){i=n;r=null;n={}}if(typeof n==="number"||t.fx.speeds[n]){i=r;r=n;n={}}if(typeof r==="function"){i=r;r=null}if(n){t.extend(e,n)}r=r||n.duration;e.duration=t.fx.off?0:typeof r==="number"?r:r in t.fx.speeds?t.fx.speeds[r]:t.fx.speeds._default;e.complete=i||n.complete;return e}function i(e){if(!e||typeof e==="number"||t.fx.speeds[e]){return true}if(typeof e==="string"&&!t.effects.effect[e]){return true}if(typeof e==="function"){return true}if(typeof e==="object"&&!e.effect){return true}return false}t.fn.extend({effect:function(){var e=r.apply(this,arguments),n=e.mode,i=e.queue,o=t.effects.effect[e.effect];if(t.fx.off||!o){if(n){return this[n](e.duration,e.complete)}else{return this.each(function(){if(e.complete){e.complete.call(this)}})}}function a(n){var r=t(this),i=e.complete,a=e.mode;function f(){if(typeof i==="function"){i.call(r[0])}if(typeof n==="function"){n()}}if(r.is(":hidden")?a==="hide":a==="show"){r[a]();f()}else{o.call(r[0],e,f)}}return i===false?this.each(a):this.queue(i||"fx",a)},show:function(t){return function(e){if(i(e)){return t.apply(this,arguments)}else{var n=r.apply(this,arguments);n.mode="show";return this.effect.call(this,n)}}}(t.fn.show),hide:function(t){return function(e){if(i(e)){return t.apply(this,arguments)}else{var n=r.apply(this,arguments);n.mode="hide";return this.effect.call(this,n)}}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||typeof e==="boolean"){return t.apply(this,arguments)}else{var n=r.apply(this,arguments);n.mode="toggle";return this.effect.call(this,n)}}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),r=[];t.each(["em","px","%","pt"],function(t,e){if(n.indexOf(e)>0){r=[parseFloat(n),e]}});return r}})})();(function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}});t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return t===0||t===1?t:-Math.pow(2,8*(t-1))*Math.sin(((t-1)*80-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){var e,n=4;while(t<((e=Math.pow(2,--n))-1)/11){}return 1/Math.pow(4,3-n)-7.5625*Math.pow((e*3-2)/22-t,2)}});t.each(e,function(e,n){t.easing["easeIn"+e]=n;t.easing["easeOut"+e]=function(t){return 1-n(1-t)};t.easing["easeInOut"+e]=function(t){return t<.5?n(t*2)/2:1-n(t*-2+2)/2}})})()})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-mouse.js":function(){
/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,t){var s=false;e(document).on("mouseup",function(){s=false});e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(s){if(true===e.data(s.target,t.widgetName+".preventClickEvent")){e.removeData(s.target,t.widgetName+".preventClickEvent");s.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){e(document).off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(t){if(s){return}this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var o=this,i=t.which===1,u=typeof this.options.cancel==="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:false;if(!i||u||!this._mouseCapture(t)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==false;if(!this._mouseStarted){t.preventDefault();return true}}if(true===e.data(t.target,this.widgetName+".preventClickEvent")){e.removeData(t.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return o._mouseMove(e)};this._mouseUpDelegate=function(e){return o._mouseUp(e)};e(document).on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();s=true;return true},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(t.target===this._mouseDownEvent.target){e.data(t.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(t)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-resizable.js":function(){
/*!
 * jQuery UI Resizable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(i,t){function e(i){return parseInt(i,10)||0}function s(i){return!isNaN(parseInt(i,10))}i.widget("ui.resizable",i.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,e,s,h,n,o=this,a=this.options;this.element.addClass("ui-resizable");i.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(i("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!i(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}t=this.handles.split(",");this.handles={};for(e=0;e<t.length;e++){s=t[e].trim();n="ui-resizable-"+s;h=i("<div class='ui-resizable-handle "+n+"'></div>");h.css({zIndex:a.zIndex});if("se"===s){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[s]=".ui-resizable-"+s;this.element.append(h)}}this._renderAxis=function(t){var e,s,h,n;t=t||this.element;for(e in this.handles){if(this.handles[e].constructor===String){this.handles[e]=i(this.handles[e],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){s=i(this.handles[e],this.element);n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth();h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(h,n);this._proportionallyResize()}if(!i(this.handles[e]).length){continue}}};this._renderAxis(this.element);this._handles=i(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!o.resizing){if(this.className){h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}o.axis=h&&h[1]?h[1]:"se"}});if(a.autoHide){this._handles.hide();i(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(a.disabled){return}i(this).removeClass("ui-resizable-autohide");o._handles.show()}).mouseleave(function(){if(a.disabled){return}if(!o.resizing){i(this).addClass("ui-resizable-autohide");o._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){i(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(t){var e,s,h=false;for(e in this.handles){s=i(this.handles[e])[0];if(s===t.target||i.contains(s,t.target)){h=true}}return!this.options.disabled&&h},_mouseStart:function(t){var s,h,n,o=this.options,a=this.element.position(),l=this.element;this.resizing=true;if(/absolute/.test(l.css("position"))){l.css({position:"absolute",top:l.css("top"),left:l.css("left")})}else if(l.is(".ui-draggable")){l.css({position:"absolute",top:a.top,left:a.left})}this._renderProxy();s=e(this.helper.css("left"));h=e(this.helper.css("top"));if(o.containment){s+=i(o.containment).scrollLeft()||0;h+=i(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:s,top:h};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()};this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()};this.originalPosition={left:s,top:h};this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;n=i(".ui-resizable-"+this.axis).css("cursor");i("body").css("cursor",n==="auto"?this.axis+"-resize":n);l.addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var e,s=this.helper,h={},n=this.originalMousePosition,o=this.axis,a=this.position.top,l=this.position.left,r=this.size.width,p=this.size.height,f=t.pageX-n.left||0,d=t.pageY-n.top||0,g=this._change[o];if(!g){return false}e=g.apply(this,[t,f,d]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){e=this._updateRatio(e,t)}e=this._respectSize(e,t);this._updateCache(e);this._propagate("resize",t);if(this.position.top!==a){h.top=this.position.top+"px"}if(this.position.left!==l){h.left=this.position.left+"px"}if(this.size.width!==r){h.width=this.size.width+"px"}if(this.size.height!==p){h.height=this.size.height+"px"}s.css(h);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!i.isEmptyObject(h)){this._trigger("resize",t,this.ui())}return false},_mouseStop:function(t){this.resizing=false;var e,s,h,n,o,a,l,r=this.options,p=this;if(this._helper){e=this._proportionallyResizeElements;s=e.length&&/textarea/i.test(e[0].nodeName);h=s&&i.ui.hasScroll(e[0],"left")?0:p.sizeDiff.height;n=s?0:p.sizeDiff.width;o={width:p.helper.width()-n,height:p.helper.height()-h};a=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null;l=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;if(!r.animate){this.element.css(i.extend(o,{top:l,left:a}))}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!r.animate){this._proportionallyResize()}}i("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(i){var t,e,h,n,o,a=this.options;o={minWidth:s(a.minWidth)?a.minWidth:0,maxWidth:s(a.maxWidth)?a.maxWidth:Infinity,minHeight:s(a.minHeight)?a.minHeight:0,maxHeight:s(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||i){t=o.minHeight*this.aspectRatio;h=o.minWidth/this.aspectRatio;e=o.maxHeight*this.aspectRatio;n=o.maxWidth/this.aspectRatio;if(t>o.minWidth){o.minWidth=t}if(h>o.minHeight){o.minHeight=h}if(e<o.maxWidth){o.maxWidth=e}if(n<o.maxHeight){o.maxHeight=n}}this._vBoundaries=o},_updateCache:function(i){this.offset=this.helper.offset();if(s(i.left)){this.position.left=i.left}if(s(i.top)){this.position.top=i.top}if(s(i.height)){this.size.height=i.height}if(s(i.width)){this.size.width=i.width}},_updateRatio:function(i){var t=this.position,e=this.size,h=this.axis;if(s(i.height)){i.width=i.height*this.aspectRatio}else if(s(i.width)){i.height=i.width/this.aspectRatio}if(h==="sw"){i.left=t.left+(e.width-i.width);i.top=null}if(h==="nw"){i.top=t.top+(e.height-i.height);i.left=t.left+(e.width-i.width)}return i},_respectSize:function(i){var t=this._vBoundaries,e=this.axis,h=s(i.width)&&t.maxWidth&&t.maxWidth<i.width,n=s(i.height)&&t.maxHeight&&t.maxHeight<i.height,o=s(i.width)&&t.minWidth&&t.minWidth>i.width,a=s(i.height)&&t.minHeight&&t.minHeight>i.height,l=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,p=/sw|nw|w/.test(e),f=/nw|ne|n/.test(e);if(o){i.width=t.minWidth}if(a){i.height=t.minHeight}if(h){i.width=t.maxWidth}if(n){i.height=t.maxHeight}if(o&&p){i.left=l-t.minWidth}if(h&&p){i.left=l-t.maxWidth}if(a&&f){i.top=r-t.minHeight}if(n&&f){i.top=r-t.maxHeight}if(!i.width&&!i.height&&!i.left&&i.top){i.top=null}else if(!i.width&&!i.height&&!i.top&&i.left){i.left=null}return i},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var i,t,e,s,h,n=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){h=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")];s=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];for(t=0;t<e.length;t++){this.borderDif[t]=(parseInt(e[t],10)||0)+(parseInt(s[t],10)||0)}}h.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||i("<div></div>");this.helper.addClass(this._helper).css({overflow:"hidden",width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(i,t){return{width:this.originalSize.width+t}},w:function(i,t){var e=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:e.width-t}},n:function(i,t,e){var s=this.originalSize,h=this.originalPosition;return{top:h.top+e,height:s.height-e}},s:function(i,t,e){return{height:this.originalSize.height+e}},se:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},sw:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,s]))},ne:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},nw:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,s]))}},_propagate:function(t,e){i.ui.plugin.call(this,t,[e,this.ui()]);t!=="resize"&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});i.ui.plugin.add("resizable","animate",{stop:function(t){var e=i(this).data("ui-resizable"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&i.ui.hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(i.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};if(h&&h.length){i(h[0]).css({width:s.width,height:s.height})}e._updateCache(s);e._propagate("resize",t)}})}});i.ui.plugin.add("resizable","containment",{start:function(){var t,s,h,n,o,a,l,r=i(this).data("ui-resizable"),p=r.options,f=r.element,d=p.containment,g=d instanceof i?d.get(0):/parent/.test(d)?f.parent().get(0):d;if(!g){return}r.containerElement=i(g);if(/document/.test(d)||d===document){r.containerOffset={left:0,top:0};r.containerPosition={left:0,top:0};r.parentData={element:i(document),left:0,top:0,width:i(document).width(),height:i(document).height()||document.body.parentNode.scrollHeight}}else{t=i(g);s=[];i(["Top","Right","Left","Bottom"]).each(function(i,h){s[i]=e(t.css("padding"+h))});r.containerOffset=t.offset();r.containerPosition=t.position();r.containerSize={height:t.innerHeight()-s[3],width:t.innerWidth()-s[1]};h=r.containerOffset;n=r.containerSize.height;o=r.containerSize.width;a=i.ui.hasScroll(g,"left")?g.scrollWidth:o;l=i.ui.hasScroll(g)?g.scrollHeight:n;r.parentData={element:g,left:h.left,top:h.top,width:a,height:l}}},resize:function(t){var e,s,h,n,o=i(this).data("ui-resizable"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||t.shiftKey,f={top:0,left:0},d=o.containerElement;if(d[0]!==document&&/static/.test(d.css("position"))){f=l}if(r.left<(o._helper?l.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-f.left);if(p){o.size.height=o.size.width/o.aspectRatio}o.position.left=a.helper?l.left:0}if(r.top<(o._helper?l.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top);if(p){o.size.width=o.size.height*o.aspectRatio}o.position.top=o._helper?l.top:0}o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top;e=Math.abs((o._helper?o.offset.left-f.left:o.offset.left-f.left)+o.sizeDiff.width);s=Math.abs((o._helper?o.offset.top-f.top:o.offset.top-l.top)+o.sizeDiff.height);h=o.containerElement.get(0)===o.element.parent().get(0);n=/relative|absolute/.test(o.containerElement.css("position"));if(h&&n){e-=Math.abs(o.parentData.left)}if(e+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-e;if(p){o.size.height=o.size.width/o.aspectRatio}}if(s+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-s;if(p){o.size.width=o.size.height*o.aspectRatio}}},stop:function(){var t=i(this).data("ui-resizable"),e=t.options,s=t.containerOffset,h=t.containerPosition,n=t.containerElement,o=i(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,r=o.outerHeight()-t.sizeDiff.height;if(t._helper&&!e.animate&&/relative/.test(n.css("position"))){i(this).css({left:a.left-h.left-s.left,width:l,height:r})}if(t._helper&&!e.animate&&/static/.test(n.css("position"))){i(this).css({left:a.left-h.left-s.left,width:l,height:r})}}});i.ui.plugin.add("resizable","alsoResize",{start:function(){var t=i(this).data("ui-resizable"),e=t.options,s=function(t){i(t).each(function(){var t=i(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};if(typeof e.alsoResize==="object"&&!e.alsoResize.parentNode){if(e.alsoResize.length){e.alsoResize=e.alsoResize[0];s(e.alsoResize)}else{i.each(e.alsoResize,function(i){s(i)})}}else{s(e.alsoResize)}},resize:function(t,e){var s=i(this).data("ui-resizable"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},l=function(t,s){i(t).each(function(){var t=i(this),h=i(this).data("ui-resizable-alsoresize"),n={},o=s&&s.length?s:t.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];i.each(o,function(i,t){var e=(h[t]||0)+(a[t]||0);if(e&&e>=0){n[t]=e||null}});t.css(n)})};if(typeof h.alsoResize==="object"&&!h.alsoResize.nodeType){i.each(h.alsoResize,function(i,t){l(i,t)})}else{l(h.alsoResize)}},stop:function(){i(this).removeData("resizable-alsoresize")}});i.ui.plugin.add("resizable","ghost",{start:function(){var t=i(this).data("ui-resizable"),e=t.options,s=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost==="string"?e.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=i(this).data("ui-resizable");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=i(this).data("ui-resizable");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});i.ui.plugin.add("resizable","grid",{resize:function(){var t=i(this).data("ui-resizable"),e=t.options,s=t.size,h=t.originalSize,n=t.originalPosition,o=t.axis,a=typeof e.grid==="number"?[e.grid,e.grid]:e.grid,l=a[0]||1,r=a[1]||1,p=Math.round((s.width-h.width)/l)*l,f=Math.round((s.height-h.height)/r)*r,d=h.width+p,g=h.height+f,u=e.maxWidth&&e.maxWidth<d,c=e.maxHeight&&e.maxHeight<g,m=e.minWidth&&e.minWidth>d,z=e.minHeight&&e.minHeight>g;e.grid=a;if(m){d=d+l}if(z){g=g+r}if(u){d=d-l}if(c){g=g-r}if(/^(se|s|e)$/.test(o)){t.size.width=d;t.size.height=g}else if(/^(ne)$/.test(o)){t.size.width=d;t.size.height=g;t.position.top=n.top-f}else if(/^(sw)$/.test(o)){t.size.width=d;t.size.height=g;t.position.left=n.left-p}else{if(g-r>0){t.size.height=g;t.position.top=n.top-f}else{t.size.height=r;t.position.top=n.top+h.height-r}if(d-l>0){t.size.width=d;t.position.left=n.left-p}else{t.size.width=l;t.position.left=n.left+h.width-l}}}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-selectable.js":function(){
/*!
 * jQuery UI Selectable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,s=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){t=e(s.options.filter,s.element[0]);t.addClass("ui-selectee");t.each(function(){var t=e(this),s=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:s.left,top:s.top,right:s.left+t.outerWidth(),bottom:s.top+t.outerHeight(),startselected:false,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var s=this,l=this.options;this.opos=[t.pageX,t.pageY];if(this.options.disabled){return}this.selectees=e(l.filter,this.element[0]);this._trigger("start",t);e(l.appendTo).append(this.helper);this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0});if(l.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var l=e.data(this,"selectable-item");l.startselected=true;if(!t.metaKey&&!t.ctrlKey){l.$element.removeClass("ui-selected");l.selected=false;l.$element.addClass("ui-unselecting");l.unselecting=true;s._trigger("unselecting",t,{unselecting:l.element})}});e(t.target).parents().addBack().each(function(){var l,i=e.data(this,"selectable-item");if(i){l=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");i.$element.removeClass(l?"ui-unselecting":"ui-selected").addClass(l?"ui-selecting":"ui-unselecting");i.unselecting=!l;i.selecting=l;i.selected=l;if(l){s._trigger("selecting",t,{selecting:i.element})}else{s._trigger("unselecting",t,{unselecting:i.element})}return false}})},_mouseDrag:function(t){this.dragged=true;if(this.options.disabled){return}var s,l=this,i=this.options,n=this.opos[0],a=this.opos[1],c=t.pageX,r=t.pageY;if(n>c){s=c;c=n;n=s}if(a>r){s=r;r=a;a=s}this.helper.css({left:n,top:a,width:c-n,height:r-a});this.selectees.each(function(){var s=e.data(this,"selectable-item"),u=false;if(!s||s.element===l.element[0]){return}if(i.tolerance==="touch"){u=!(s.left>c||s.right<n||s.top>r||s.bottom<a)}else if(i.tolerance==="fit"){u=s.left>n&&s.right<c&&s.top>a&&s.bottom<r}if(u){if(s.selected){s.$element.removeClass("ui-selected");s.selected=false}if(s.unselecting){s.$element.removeClass("ui-unselecting");s.unselecting=false}if(!s.selecting){s.$element.addClass("ui-selecting");s.selecting=true;l._trigger("selecting",t,{selecting:s.element})}}else{if(s.selecting){if((t.metaKey||t.ctrlKey)&&s.startselected){s.$element.removeClass("ui-selecting");s.selecting=false;s.$element.addClass("ui-selected");s.selected=true}else{s.$element.removeClass("ui-selecting");s.selecting=false;if(s.startselected){s.$element.addClass("ui-unselecting");s.unselecting=true}l._trigger("unselecting",t,{unselecting:s.element})}}if(s.selected){if(!t.metaKey&&!t.ctrlKey&&!s.startselected){s.$element.removeClass("ui-selected");s.selected=false;s.$element.addClass("ui-unselecting");s.unselecting=true;l._trigger("unselecting",t,{unselecting:s.element})}}}});return false},_mouseStop:function(t){var s=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var l=e.data(this,"selectable-item");l.$element.removeClass("ui-unselecting");l.unselecting=false;l.startselected=false;s._trigger("unselected",t,{unselected:l.element})});e(".ui-selecting",this.element[0]).each(function(){var l=e.data(this,"selectable-item");l.$element.removeClass("ui-selecting").addClass("ui-selected");l.selecting=false;l.selected=true;l.startselected=true;s._trigger("selected",t,{selected:l.element})});this._trigger("stop",t);this.helper.remove();return false}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-sortable.js":function(){
/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(t,e){function i(t,e,i){return t>e&&t<e+i}function s(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?t.axis==="x"||s(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--){this.items[t].item.removeData(this.widgetName+"-item")}return this},_setOption:function(e,i){if(e==="disabled"){this.options[e]=i;this.widget().toggleClass("ui-sortable-disabled",!!i)}else{t.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(e,i){var s=null,o=false,r=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r){s=t(this);return false}});if(t.data(e.target,r.widgetName+"-item")===r){s=t(e.target)}if(!s){return false}if(this.options.handle&&!i){t(this.options.handle,s).find("*").addBack().each(function(){if(this===e.target){o=true}});if(!o){return false}}this.currentItem=s;this._removeCurrentsFromItems();return true},_mouseStart:function(e,i,s){var o,r,n=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(n.containment){this._setContainment()}if(n.cursor&&n.cursor!=="auto"){r=this.document.find("body");this.storedCursor=r.css("cursor");r.css("cursor",n.cursor);this.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)}if(n.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",n.opacity)}if(n.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",n.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!s){for(o=this.containers.length-1;o>=0;o--){this.containers[o]._trigger("activate",e,this._uiHash(this))}}if(t.ui.ddmanager){t.ui.ddmanager.current=this}if(t.ui.ddmanager&&!n.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var i,s,o,r,n=this.options,h=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity){this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+n.scrollSpeed}else if(e.pageY-this.overflowOffset.top<n.scrollSensitivity){this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-n.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity){this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+n.scrollSpeed}else if(e.pageX-this.overflowOffset.left<n.scrollSensitivity){this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-n.scrollSpeed}}else{if(e.pageY-t(document).scrollTop()<n.scrollSensitivity){h=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed)}else if(t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity){h=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)}if(e.pageX-t(document).scrollLeft()<n.scrollSensitivity){h=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed)}else if(t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity){h=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)}}if(h!==false&&t.ui.ddmanager&&!n.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){s=this.items[i];o=s.item[0];r=this._intersectsWithPointer(s);if(!r){continue}if(s.instance!==this.currentContainer){continue}if(o!==this.currentItem[0]&&this.placeholder[r===1?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],o):true)){this.direction=r===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(s)){this._rearrange(e,s)}else{break}this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,i){if(!e){return}if(t.ui.ddmanager&&!this.options.dropBehaviour){t.ui.ddmanager.drop(this,e)}if(this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};if(!r||r==="x"){n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!r||r==="y"){n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;t(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else{this._clear(e,i)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}t.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){t(this.domPosition.prev).after(this.currentItem)}else{t(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];e=e||{};t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);if(i){s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}});if(!s.length&&e.key){s.push(e.key+"=")}return s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];e=e||{};i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")});return s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,l=h+t.height,a=this.offset.click.top,c=this.offset.click.left,f=this.options.axis==="x"||s+a>h&&s+a<l,p=this.options.axis==="y"||e+c>r&&e+c<n,u=f&&p;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]){return u}else{return r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<l}},_intersectsWithPointer:function(t){var e=this.options.axis==="x"||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),s=this.options.axis==="y"||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=e&&s,r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();if(!o){return false}return this.floating?n&&n==="right"||r==="down"?2:1:r&&(r==="down"?2:1)},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&s||r==="left"&&!s}else{return o&&(o==="down"&&e||o==="up"&&!e)}},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,o,r,n=[],h=[],l=this._connectWith();if(l&&e){for(i=l.length-1;i>=0;i--){o=t(l[i]);for(s=o.length-1;s>=0;s--){r=t.data(o[s],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){h.push([typeof r.options.items==="function"?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}}}h.push([typeof this.options.items==="function"?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function a(){n.push(this)}for(i=h.length-1;i>=0;i--){h[i][0].each(a)}return t(n)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++){if(e[i]===t.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var i,s,o,r,n,h,l,a,c=this.items,f=[[typeof this.options.items==="function"?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready){for(i=p.length-1;i>=0;i--){o=t(p[i]);for(s=o.length-1;s>=0;s--){r=t.data(o[s],this.widgetFullName);if(r&&r!==this&&!r.options.disabled){f.push([typeof r.options.items==="function"?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]);this.containers.push(r)}}}}for(i=f.length-1;i>=0;i--){n=f[i][1];h=f[i][0];for(s=0,a=h.length;s<a;s++){l=t(h[s]);l.data(this.widgetName+"-item",n);c.push({item:l,instance:n,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,s,o,r;for(i=this.items.length-1;i>=0;i--){s=this.items[i];if(s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]){continue}o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item;if(!e){s.width=o.outerWidth();s.height=o.outerHeight()}r=o.offset();s.left=r.left;s.top=r.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){r=this.containers[i].element.offset();this.containers[i].containerCache.left=r.left;this.containers[i].containerCache.top=r.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;if(!s.placeholder||s.placeholder.constructor===String){i=s.placeholder;s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(s==="tr"){e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)})}else if(s==="img"){o.attr("src",e.currentItem.attr("src"))}if(!i){o.css("visibility","hidden")}return o},update:function(t,o){if(i&&!s.forcePlaceholderSize){return}if(!o.height()){o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10))}if(!o.width()){o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);s.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var o,r,n,h,l,a,c,f,p,u,d=null,m=null;for(o=this.containers.length-1;o>=0;o--){if(t.contains(this.currentItem[0],this.containers[o].element[0])){continue}if(this._intersectsWith(this.containers[o].containerCache)){if(d&&t.contains(this.containers[o].element[0],d.element[0])){continue}d=this.containers[o];m=o}else{if(this.containers[o].containerCache.over){this.containers[o]._trigger("out",e,this._uiHash(this));this.containers[o].containerCache.over=0}}}if(!d){return}if(this.containers.length===1){if(!this.containers[m].containerCache.over){this.containers[m]._trigger("over",e,this._uiHash(this));this.containers[m].containerCache.over=1}}else{n=1e4;h=null;u=d.floating||s(this.currentItem);l=u?"left":"top";a=u?"width":"height";c=this.positionAbs[l]+this.offset.click[l];for(r=this.items.length-1;r>=0;r--){if(!t.contains(this.containers[m].element[0],this.items[r].item[0])){continue}if(this.items[r].item[0]===this.currentItem[0]){continue}if(u&&!i(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height)){continue}f=this.items[r].item.offset()[l];p=false;if(Math.abs(f-c)>Math.abs(f+this.items[r][a]-c)){p=true;f+=this.items[r][a]}if(Math.abs(f-c)<n){n=Math.abs(f-c);h=this.items[r];this.direction=p?"up":"down"}}if(!h&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[m]){return}h?this._rearrange(e,h,null,true):this._rearrange(e,null,this.containers[m].element,true);this._trigger("change",e,this._uiHash());this.containers[m]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[m];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[m]._trigger("over",e,this._uiHash(this));this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=typeof i.helper==="function"?t(i.helper.apply(this.element[0],[e,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!s.parents("body").length){t(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0])}if(s[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!s[0].style.width||i.forceHelperSize){s.width(this.currentItem.width())}if(!s[0].style.height||i.forceHelperSize){s.height(this.currentItem.height())}return s},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode}if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(o.containment)){e=t(o.containment)[0];i=t(o.containment).offset();s=t(e).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){if(!i){i=this.position}var s=e==="absolute"?1:-1,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(e){var i,s,o=this.options,r=e.pageX,n=e.pageY,h=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(h[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){r=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){n=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){r=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){n=this.containment[3]+this.offset.click.top}}if(o.grid){i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1];n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i;s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0];r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){if(o===this.counter){this.refreshPositions(!s)}})},_clear:function(t,e){this.reverting=false;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e){s.push(function(t){this._trigger("update",t,this._uiHash())})}if(this!==this.currentContainer){if(!e){s.push(function(t){this._trigger("remove",t,this._uiHash())});s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}}function o(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}for(i=this.containers.length-1;i>=0;i--){if(!e){s.push(o("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){s.push(o("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(i=0;i<s.length;i++){s[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return false}if(!e){this._trigger("beforeStop",t,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(i=0;i<s.length;i++){s[i].call(this,t)}this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(t.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-widget.js":function(){
/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i=0,n;(n=e[i])!=null;i++){try{t(n).triggerHandler("remove")}catch(t){}}s(e)};t.widget=function(e,i,n){var s,o,r,a,u={},l=e.split(".")[0];e=e.split(".")[1];s=l+"-"+e;if(!n){n=i;i=t.Widget}t.expr.pseudos[s.toLowerCase()]=function(e){return!!t.data(e,s)};t[l]=t[l]||{};o=t[l][e];r=t[l][e]=function(t,e){if(!this._createWidget){return new r(t,e)}if(arguments.length){this._createWidget(t,e)}};t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]});a=new i;a.options=t.widget.extend({},a.options);t.each(n,function(t,e){if(typeof e!=="function"){u[t]=e;return}u[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t=this._super,i=this._superApply,o;this._super=n;this._superApply=s;o=e.apply(this,arguments);this._super=t;this._superApply=i;return o}}()});r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:r,namespace:l,widgetName:e,widgetFullName:s});if(o){t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)});delete o._childConstructors}else{i._childConstructors.push(r)}t.widget.bridge(e,r)};t.widget.extend=function(i){var s=n.call(arguments,1),o=0,r=s.length,a,u;for(;o<r;o++){for(a in s[o]){u=s[o][a];if(s[o].hasOwnProperty(a)&&u!==e){if(t.isPlainObject(u)){i[a]=t.isPlainObject(i[a])?t.widget.extend({},i[a],u):t.widget.extend({},u)}else{i[a]=u}}}}return i};t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(r){var a=typeof r==="string",u=n.call(arguments,1),l=this;r=!a&&u.length?t.widget.extend.apply(null,[r].concat(u)):r;if(a){this.each(function(){var n,s=t.data(this,o);if(!s){return t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}if(typeof s[r]!=="function"||r.charAt(0)==="_"){return t.error("no such method '"+r+"' for "+i+" widget instance")}n=s[r].apply(s,u);if(n!==s&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var e=t.data(this,o);if(e){e.option(r||{})._init()}else{t.data(this,o,new s(r,this))}})}return l}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this.bindings=t();this.hoverable=t();this.focusable=t();if(n!==this){t.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();this.element.off(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName));this.widget().off(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.off(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s=i,o,r,a;if(arguments.length===0){return t.widget.extend({},this.options)}if(typeof i==="string"){s={};o=i.split(".");i=o.shift();if(o.length){r=s[i]=t.widget.extend({},this.options[i]);for(a=0;a<o.length-1;a++){r[o[a]]=r[o[a]]||{};r=r[o[a]]}i=o.pop();if(arguments.length===1){return r[i]===e?null:r[i]}r[i]=n}else{if(arguments.length===1){return this.options[i]===e?null:this.options[i]}s[i]=n}}this._setOptions(s);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){this.options[t]=e;if(t==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(e,i,n){var s,o=this;if(typeof e!=="boolean"){n=i;i=e;e=false}if(!n){n=i;i=this.element;s=this.widget()}else{i=s=t(i);this.bindings=this.bindings.add(i)}t.each(n,function(n,r){function a(){if(!e&&(o.options.disabled===true||t(this).hasClass("ui-state-disabled"))){return}return(typeof r==="string"?o[r]:r).apply(o,arguments)}if(typeof r!=="string"){a.guid=r.guid=r.guid||a.guid||t.guid++}var u=n.match(/^(\w+)\s*(.*)$/),l=u[1]+o.eventNamespace,f=u[2];if(f){s.delegate(f,l,a)}else{i.on(l,a)}})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(e).undelegate(e)},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];o=i.originalEvent;if(o){for(s in o){if(!(s in i)){i[s]=o[s]}}}this.element.trigger(i,n);return!(typeof r==="function"&&r.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){if(typeof s==="string"){s={effect:s}}var r,a=!s?e:s===true||typeof s==="number"?i:s.effect||i;s=s||{};if(typeof s==="number"){s={duration:s}}r=!t.isEmptyObject(s);s.complete=o;if(s.delay){n.delay(s.delay)}if(r&&t.effects&&t.effects.effect[a]){n[e](s)}else if(a!==e&&n[a]){n[a](s.duration,s.easing,o)}else{n.queue(function(i){t(this)[e]();if(o){o.call(n[0])}i()})}}})})(jQuery);
}
});
//# sourceMappingURL=core-ext-light-2.js.map
