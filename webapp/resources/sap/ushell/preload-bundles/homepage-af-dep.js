//@ui5-bundle sap/ushell/preload-bundles/homepage-af-dep.js
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/f/dnd/GridDragOver", ["sap/base/i18n/Localization","sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/Element"],function(t,i,jQuery,e,o){"use strict";var r=i.extend("sap.f.dnd.GridDragOver",{_iTimeoutBeforeDrop:200,_$indicator:jQuery("<div class='sapUiDnDGridIndicator'></div>"),constructor:function(){this._oDragControlDelegate={ondragend:this.scheduleEndDrag};this._oDropContainerDelegate={ondragleave:this._onDragLeave,onBeforeRendering:this._onDropContainerBeforeRendering,onAfterRendering:this._onDropContainerAfterRendering}},destroy:function(){this._oDragEndDelegate=null}});r.prototype.setCurrentContext=function(t,i,e,o){if(this._oDragControl===t&&this._oDropContainer===i&&this._sTargetAggregation===e){return this}if(this._oDragControl&&this._oDragControl!==t){this.endDrag()}this._oDragControl=t;this._oDragContainer=t.getParent();this._oDropContainer=i;this._sTargetAggregation=e;this._oCoreDragSession=o;this._mDragItemDimensions=this._getDimensions(t);this._bIsInSameContainer=this._oDragContainer===this._oDropContainer;if(this._bIsInSameContainer){this._iDragFromIndex=i.indexOfAggregation(e,t)}else{this._iDragFromIndex=null}i.getAggregation(e).forEach(function(t){t.addStyleClass("sapUiDnDGridControl")});this._attachEventDelegates();this._hideCoreDefaultIndicator();return this};r.prototype.handleDragOver=function(t){if(this._shouldFreeze(t.pageX,t.pageY)){return}this._hideCoreDefaultIndicator();var i=this._calculateDropPosition(t);if(!i){return}if(this._timeoutOnSamePosition(i)){if(i.targetControl===this._oDragControl){return}this._hideDraggedItem();this._showIndicator(i,t);this._freezeCurrentPosition(t.pageX,t.pageY)}};r.prototype.getSuggestedDropPosition=function(){return this._mLastDropPosition};r.prototype.setDropIndicatorSize=function(t){if(!t){this._mDropIndicatorSize=null;return}if(!t.rows||!t.columns){e.error("Custom indicator size for grid drag and drop is not valid. It must be an object with rows and columns properties: '{rows: <int>, columns: <int>}'.");this._mDropIndicatorSize=null;return}this._mDropIndicatorSize=t};r.prototype.scheduleEndDrag=function(){if(!this._isDragActive()){return}var t=this._oDropContainer.getBindingInfo(this._sTargetAggregation);if(t&&t.template){setTimeout(this.endDrag.bind(this),0)}else{this.endDrag()}};r.prototype.endDrag=function(){if(!this._isDragActive()){return}this._hideIndicator();this._showDraggedItem();this._removeEventDelegates();this._resetCoreDefaultIndicator();this._mDropIndicatorSize=null;this._oDragControl=null;this._oDropContainer=null;this._sTargetAggregation=null;this._iDragFromIndex=null;this._iDropPositionHoldStart=null;this._mLastDropPosition=null;this._mFreezePosition=null;this._oCoreDragSession=null};r.prototype._isDragActive=function(){return this._oDragControl&&this._oDropContainer};r.prototype._showIndicator=function(t,i){var e=this._oDropContainer,o=e.getDomRefForSetting(this._sTargetAggregation)||e.getDomRef(),r=t.targetControl,n=e.indexOfAggregation(this._sTargetAggregation,r),s,a,g;if(r){s=this._findContainingGridItem(r);a=s||r.$()}if(this._mDropIndicatorSize){g={"grid-row-start":"span "+this._mDropIndicatorSize.rows,"grid-column-start":"span "+this._mDropIndicatorSize.columns}}else{g={"grid-column-start":this._mDragItemDimensions.columnsSpan,"grid-row-start":this._mDragItemDimensions.rowsSpan}}if(g){this._$indicator.css(g)}if(a&&t.position=="Before"){this._$indicator.insertBefore(a)}else if(a){this._$indicator.insertAfter(a);n+=1}else{o.appendChild(this._$indicator[0])}this._$indicator.show();this._iDragFromIndex=n};r.prototype._hideIndicator=function(){this._$indicator.detach();this._$indicator.attr("style","")};r.prototype._hideDraggedItem=function(){this._oDragControl.$().hide();var t=this._findContainingGridItem(this._oDragControl);if(t&&this._bIsInSameContainer){t.hide()}};r.prototype._showDraggedItem=function(){if(this._oDragControl.getDomRef()){this._oDragControl.$().show()}var t=this._findContainingGridItem(this._oDragControl);if(t){t.show()}};r.prototype._hideCoreDefaultIndicator=function(){var t=this._oCoreDragSession.getIndicator(),i={visibility:"hidden",position:"relative"};this._oCoreDragSession.setIndicatorConfig(i);if(t){jQuery(t).css(i)}};r.prototype._resetCoreDefaultIndicator=function(){var t=this._oCoreDragSession.getIndicator(),i={visibility:"visible",position:"absolute"};this._oCoreDragSession.setIndicatorConfig(i);if(t){jQuery(t).css(i)}};r.prototype._timeoutOnSamePosition=function(t){if(!this._mLastDropPosition||t.targetControl!==this._mLastDropPosition.targetControl||t.position!=this._mLastDropPosition.position){this._iDropPositionHoldStart=Date.now();this._mLastDropPosition=t;return false}return Date.now()-this._iDropPositionHoldStart>this._iTimeoutBeforeDrop};r.prototype._shouldFreeze=function(t,i){var e=20;return this._mFreezePosition&&Math.abs(this._mFreezePosition.pageX-t)<e&&Math.abs(this._mFreezePosition.pageY-i)<e};r.prototype._freezeCurrentPosition=function(t,i){this._mFreezePosition={pageX:t,pageY:i}};r.prototype._calculateDropPosition=function(t){var i=this._findItemFromPoint(t.pageX,t.pageY),e,r,n;if(!i){e=this._findClosestItem(t.pageX,t.pageY)}if(e){i=e.target}if(e&&e.direction==="Left"){n="After"}if(!i){i=this._getLastItem();n="After"}if(!i){return{targetControl:null,position:"After"}}if(i.hasClass("sapUiDnDGridIndicator")){return null}r=o.closestTo(i[0],true);if(!n){n=this._calculateDropBeforeOrAfter(r,t)}return{targetControl:r,position:n}};r.prototype._calculateDropBeforeOrAfter=function(t,i){var e=this._getDimensions(t),o=e.rect;if(this._oDragControl===t){return"Before"}if(this._mDragItemDimensions.rect.width*1.5<o.width){var r=window.pageXOffset,n={left:o.left+r,width:o.width},s=i.pageX-n.left;return s<n.width*.5?"Before":"After"}if(this._iDragFromIndex===null){return"Before"}var a=this._oDropContainer.indexOfAggregation(this._sTargetAggregation,t);if(this._iDragFromIndex>a){return"Before"}return"After"};r.prototype._getDimensions=function(t){var i=this._findContainingGridItem(t);if(i){return{rect:i[0].getBoundingClientRect(),columnsSpan:i.css("grid-column-start"),rowsSpan:i.css("grid-row-start")}}return{rect:t.getDomRef().getBoundingClientRect(),columnsSpan:"span 1",rowsSpan:"span 1"}};r.prototype._findContainingGridItem=function(t){var i=t.$(),e=i.parent().css("display");if(e==="grid"||e==="inline-grid"){return i}e=i.parent().parent().css("display");if(e==="grid"||e==="inline-grid"){return i.parent()}return null};r.prototype._getLastItem=function(){var t=this._oDropContainer.getAggregation(this._sTargetAggregation),i;if(t&&t.length){i=t[t.length-1].$()}return i};r.prototype._findItemFromPoint=function(t,i){var e=document.elementFromPoint(t-window.pageXOffset,i-window.pageYOffset),o=jQuery(e).closest(".sapUiDnDGridControl, .sapUiDnDGridIndicator");if(o.hasClass("sapUiDnDGridIndicator")){return o}if(o.hasClass("sapUiDnDGridControl")){return o}return null};r.prototype._findClosestItem=function(i,e){var o=t.getRTL(),r=o?-1:1,n=80*r,s=20,a,g,h=0,d=i-n;while(!a&&d>0&&h<4){a=this._findItemFromPoint(d,e);d-=n;h++}if(a){g="Left"}if(!a&&e-s>0){a=this._findItemFromPoint(i,e-20);g="Top"}return{target:a,direction:g}};r.prototype._removeEventDelegates=function(){if(this._oDropContainer){this._oDropContainer.removeEventDelegate(this._oDropContainerDelegate)}if(this._oDragControl){this._oDragControl.removeEventDelegate(this._oDragControlDelegate)}};r.prototype._attachEventDelegates=function(){this._removeEventDelegates();this._oDragControl.addEventDelegate(this._oDragControlDelegate,this);this._oDropContainer.addEventDelegate(this._oDropContainerDelegate,this)};r.prototype._onDragLeave=function(t){var i=document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset),e=this._oDropContainer.getDomRef().contains(i);if(!e){this.scheduleEndDrag()}};r.prototype._onDropContainerBeforeRendering=function(){if(!this._isDragActive()){return}this._hideIndicator()};r.prototype._onDropContainerAfterRendering=function(){if(!this._isDragActive()){return}this._hideDraggedItem();if(this._mLastDropPosition){this._showIndicator(this._mLastDropPosition)}};var n;r.getInstance=function(){if(!n){n=new r}return n};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/f/dnd/GridDropInfo", ["sap/ui/core/library","sap/ui/core/dnd/DropInfo","sap/f/dnd/GridDragOver","sap/base/Log"],function(r,t,e,o){"use strict";var n=t.extend("sap.f.dnd.GridDropInfo",{metadata:{library:"sap.f",interfaces:["sap.ui.core.dnd.IDropInfo"],properties:{dropIndicatorSize:{type:"function",invalidate:false,parameters:{draggedControl:{type:"sap.ui.core.Control"}}}},events:{}}});n.prototype.isDroppable=function(r,e){if(!this._shouldEnhance()){return t.prototype.isDroppable.apply(this,arguments)}if(!this.getEnabled()){return false}if(!r||!e){return false}var o=this.getDropTarget();if(!o){return false}var n=o.getDomRefForSetting(this.getTargetAggregation());if(n&&n.contains(e.target)){e.setMark("DragWithin",this.getTargetAggregation());return true}if(!n&&o===r){return true}return false};n.prototype.fireDragEnter=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDragEnter.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var o=e.getInstance(),n=r.dragSession.getDragControl();if(this.getDropIndicatorSize()){o.setDropIndicatorSize(this.getDropIndicatorSize()(n))}o.setCurrentContext(r.dragSession.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),r.dragSession);var i=o.getSuggestedDropPosition();var s=this.fireEvent("dragEnter",{dragSession:r.dragSession,browserEvent:r.originalEvent,target:i?i.targetControl:null},true);if(s){o.handleDragOver(r)}return s};n.prototype.fireDragOver=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDragOver.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var e=this._suggestDropPosition(r);if(e&&r.dragSession&&e.targetControl){r.dragSession.setDropControl(e.targetControl)}return this.fireEvent("dragOver",{dragSession:r.dragSession,browserEvent:r.originalEvent,target:e?e.targetControl:null,dropPosition:e?e.position:null})};n.prototype.fireDrop=function(r){if(!this._shouldEnhance()||this._isKeyboardEvent(r)){return t.prototype.fireDrop.apply(this,arguments)}if(!r||!r.dragSession||!r.dragSession.getDragControl()){return null}var o=r.dragSession,n=e.getInstance(),i;n.setCurrentContext(o.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),o);i=n.getSuggestedDropPosition();this.fireEvent("drop",{dragSession:r.dragSession,browserEvent:r.originalEvent,dropPosition:i?i.position:null,draggedControl:o.getDragControl(),droppedControl:i?i.targetControl:null});n.scheduleEndDrag()};n.prototype._shouldEnhance=function(){if(this._bShouldEnhance===undefined){if(!this.getParent().isA("sap.f.dnd.IGridDroppable")){o.error("The control which uses 'sap.f.dnd.GridDropInfo' has to implement 'sap.f.dnd.IGridDroppable'.","sap.f.dnd.GridDropInfo");this._bShouldEnhance=false;return this._bShouldEnhance}this._bShouldEnhance=this.getDropPosition()===r.dnd.DropPosition.Between&&this.getDropLayout()===r.dnd.DropLayout.Horizontal}return this._bShouldEnhance};n.prototype._isKeyboardEvent=function(r){return r.originalEvent.type==="keydown"};n.prototype._suggestDropPosition=function(r){if(!r.dragSession||!r.dragSession.getDragControl()){return null}var t=e.getInstance();t.setCurrentContext(r.dragSession.getDragControl(),this.getDropTarget(),this.getTargetAggregation(),r.dragSession);t.handleDragOver(r);return t.getSuggestedDropPosition()};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBox", ["./ComboBoxTextField","./ComboBoxBase","./List","./library","sap/ui/Device","sap/ui/core/Element","sap/ui/core/Item","./ComboBoxRenderer","sap/ui/dom/containsOrEquals","sap/m/inputUtils/scrollToItem","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/filterItems","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/selectionRange","sap/m/inputUtils/calculateSelectionStart","sap/ui/events/KeyCodes","sap/base/Log"],function(e,t,s,i,o,n,r,a,l,h,p,c,u,d,g,f,m,y,I){"use strict";var S=i.ListMode;var v=t.extend("sap.m.ComboBox",{metadata:{interfaces:["sap.m.IToolbarInteractiveControl"],library:"sap.m",designtime:"sap/m/designtime/ComboBox.designtime",properties:{selectedKey:{type:"string",group:"Data",defaultValue:""},selectedItemId:{type:"string",group:"Misc",defaultValue:""},filterSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},_open:{type:"boolean",defaultValue:false,visibility:"hidden"}},associations:{selectedItem:{type:"sap.ui.core.Item",multiple:false}},events:{change:{parameters:{value:{type:"string"},itemPressed:{type:"boolean"}}},selectionChange:{parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},dnd:{draggable:false,droppable:true}},renderer:a});function L(e){var t=this.getSelectedItem(),s=d.getListItem(t),i=t&&s&&s.getDomRef(),o=i&&i.offsetTop,n=i&&i.offsetHeight,r=this.getPicker(),a=r.getDomRef("cont"),l=a.clientHeight;if(t&&o+n>l){if(!e){this._getList().$().css("visibility","hidden")}else{a.scrollTop=o-n/2;this._getList().$().css("visibility","visible")}}}v.prototype._getSelectedItemText=function(e){e=e||this.getSelectedItem();if(!e){e=this.getDefaultSelectedItem()}if(e){return e.getText()}return""};v.prototype.setSelectedIndex=function(e,t){var s;t=t||this.getItems();e=e>t.length-1?t.length-1:Math.max(0,e);s=t[e];if(s){this.setSelection(s)}};v.prototype.revertSelection=function(){var e,t=this.getPickerTextField();this.setSelectedItem(this._oSelectedItemBeforeOpen);this.setValue(this._sValueBeforeOpen);if(this.getSelectedItem()===null){e=this._sValueBeforeOpen}else{e=this._oSelectedItemBeforeOpen.getText()}t&&t.setValue(e)};v.prototype._filterStartsWithItems=function(e,t){var s=e.toLowerCase();var i=this.getItems(),o=i.filter(function(e){return e[t]&&e[t]().toLowerCase().startsWith(s)});return o};v.prototype.setSelection=function(e){var t=this._getList(),s,i;this.setAssociation("selectedItem",e);this._setPropertyProtected("selectedItemId",e instanceof r?e.getId():e,true);if(typeof e==="string"){e=n.getElementById(e)}if(t){s=d.getListItem(e);if(s){t.setSelectedItem(s,true)}else{t.removeSelections(true)}}i=e?e.getKey():this.getMetadata().getProperty("selectedKey").defaultValue;this._setPropertyProtected("selectedKey",i)};v.prototype.isSelectionSynchronized=function(){var e=this.getSelectedItem();return this.getSelectedKey()===(e&&e.getKey())};v.prototype.isItemSelected=function(e){return e&&e.getId()===this.getAssociation("selectedItem")};v.prototype.setAssociation=function(e,s,i){var o=this._getList();if(o&&e==="selectedItem"){if(!(s instanceof r)){s=this.findItem("id",s)}o.setSelectedItem(d.getListItem(s),true)}return t.prototype.setAssociation.apply(this,arguments)};v.prototype.removeAllAssociation=function(e,i){var o=this._getList();if(o&&e==="selectedItem"){s.prototype.removeAllAssociation.apply(o,arguments)}return t.prototype.removeAllAssociation.apply(this,arguments)};v.prototype.init=function(){t.prototype.init.apply(this,arguments);this.bOpenValueStateMessage=true;this._sValueBeforeOpen="";this._sInputValueBeforeOpen="";this._oSelectedItemBeforeOpen=null;if(o.system.phone){this.attachEvent("_change",this.onPropertyChange,this)}this.setLastFocusedListItem(null)};v.prototype.onBeforeRendering=function(){t.prototype.onBeforeRendering.apply(this,arguments);var e=this.getItems();if(this.getRecreateItems()){d.fillList(e,this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false)}this.synchronizeSelection();if(!this.isOpen()&&document.activeElement===this.getFocusDomRef()&&this.getEnabled()){this.addStyleClass("sapMFocus")}if(this.getSelectedItem()&&e.indexOf(this.getSelectedItem())===-1){var s=this.getValue();this.clearSelection();this.setValue(s)}if(this.getShowClearIcon()){this._getClearIcon().setVisible(this.shouldShowClearIcon())}else if(this._oClearIcon){this._getClearIcon().setVisible(false)}};v.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._oSelectedItemBeforeOpen=null;this._bInputFired=null;this.setLastFocusedListItem(null)};v.prototype.onBeforeRenderingPicker=function(){var e=this["onBeforeRendering"+this.getPickerType()];e&&e.call(this)};v.prototype.onBeforeRenderingDropdown=function(){var e=this.getPicker(),t=this.$().outerWidth()/parseFloat(i.BaseFontSize)+"rem";if(e){e.setContentMinWidth(t)}};v.prototype.onBeforeRenderingList=function(){if(this.bProcessingLoadItemsEvent){var e=this._getList(),t=this.getFocusDomRef();if(e){e.setBusy(true)}if(t){t.setAttribute("aria-busy","true")}}};v.prototype.onAfterRenderingPicker=function(){var e=this["onAfterRendering"+this.getPickerType()];var t=this.getDomRef().getBoundingClientRect().width;var s=getComputedStyle(this.getDomRef()).getPropertyValue("--sPopoverMaxWidth");e&&e.call(this);L.call(this,false);if(t<=parseInt(s)&&!o.system.phone){this.getPicker().addStyleClass("sapMSuggestionPopoverDefaultWidth")}else{this.getPicker().getDomRef().style.setProperty("max-width",t+"px");this.getPicker().addStyleClass("sapMSuggestionPopoverInputWidth")}};v.prototype.onAfterRenderingList=function(){var e=this.getSelectedItem(),t=d.getListItem(e);if(this.bProcessingLoadItemsEvent&&!this.bItemsUpdated&&this.getItems().length===0){return}var s=this._getList(),i=this.getFocusDomRef();this.highlightList(this._sInputValueBeforeOpen);if(e){s.setSelectedItem(t);this.setLastFocusedListItem(t)}if(s){s.setBusy(false)}if(i){i.removeAttribute("aria-busy")}};v.prototype.filterItems=function(e){return u(this,this.getItems(),e,true,this.getFilterSecondaryValues(),this.fnFilter||p)};v.prototype._mapItemToListItem=function(e){var t=d.createListItemFromCoreItem(e,this.getShowSecondaryValues());if(e.isA("sap.ui.core.Item")){this.setSelectable(e,e.getEnabled())}if(e.isA("sap.ui.core.SeparatorItem")){t.addAriaLabelledBy(this._getGroupHeaderInvisibleText().getId())}t.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"NonInteractiveItem");return t};v.prototype.oninput=function(e){t.prototype.oninput.apply(this,arguments);this.syncPickerContent();if(e.isMarked("invalid")){return}this._bInputFired=true;this.loadItems(function(){this.handleInputValidation(e)},{name:"input",busyIndicator:false});if(this.bProcessingLoadItemsEvent&&this.getPickerType()==="Dropdown"){if(this.isOpen()&&!this.getValue()){this.close()}else{this.open()}}if(this.getLastFocusedListItem()){this.getLastFocusedListItem().removeStyleClass("sapMLIBFocused");this.setLastFocusedListItem(null)}this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus");if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};v.prototype.handleInputValidation=function(e){var t,s,i,o,n=this.getSelectedItem(),r=e.target.value,a=r==="",l=e.srcControl,p=this.getPickerType()==="Dropdown",c=d.getListItem(n),u=this.filterItems(r);if(a&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){t=this.getItems()}else{t=u.items;g(this.getItems(),u)}i=t[0];o=t.some(function(e){return e.getKey()===this.getSelectedKey()},this);s=this.intersectItems(this._filterStartsWithItems(r,"getText"),t);if(i&&this.getSelectedKey()&&!o){this.setSelection(null)}const f=s.some(e=>e.getText()===r);if(!a&&l&&(l._bDoTypeAhead||f)){this.handleTypeAhead(l,t,r)}else if(!a&&s[0]&&r===s[0].getText()){this.setSelection(s[0])}else{this.setSelection(null)}if(n!==this.getSelectedItem()){this.fireSelectionChange({selectedItem:this.getSelectedItem()});c=d.getListItem(this.getSelectedItem())}this._sInputValueBeforeOpen=r;if(this.isOpen()){setTimeout(function(){this.highlightList(r)}.bind(this))}if(i){if(a&&!this.bOpenedByKeyboardOrButton){this.close()}else if(p){this.open();h(c,this.getPicker())}}else if(this.isOpen()){if(p&&!this.bOpenedByKeyboardOrButton){this.close()}}else{this.clearFilter()}};v.prototype.handleTypeAhead=function(e,t,s){var i,o=this.getFilterSecondaryValues(),n=c(s,e,t,function(e){i=[e.getText()];if(o){i.push(e.getAdditionalText())}return i});this.setSelection(n[0]);this.addStyleClass("sapMFocus");this._getList().removeStyleClass("sapMListFocus")};v.prototype.onSelectionChange=function(e){var t=d.getItemByListItem(this.getItems(),e.getParameter("listItem")),s=this.getChangeEventParams(),i=t!==this.getSelectedItem();t&&this.updateDomValue(t.getText());this.setSelection(t);this.fireSelectionChange({selectedItem:this.getSelectedItem()});if(i){s.itemPressed=true;this.onChange(null,s)}};v.prototype.onItemPress=function(e){var t=e.getParameter("listItem"),s=t.getTitle(),i=this.getChangeEventParams(),o=t!==d.getListItem(this.getSelectedItem());if(t.isA("sap.m.GroupHeaderListItem")){return}this.setLastFocusedListItem(t);this.updateDomValue(s);if(!o){i.itemPressed=true;this.onChange(null,i)}this._setPropertyProtected("value",s,true);if(this.getPickerType()==="Dropdown"&&!this.isPlatformTablet()){this.selectText(this.getValue().length,this.getValue().length)}this.close()};v.prototype.onBeforeOpen=function(){t.prototype.onBeforeOpen.apply(this,arguments);var e=this._getSuggestionsPopover();var s=this["onBeforeOpen"+this.getPickerType()];this.setProperty("_open",true);if(this.hasLoadItemsEventListeners()&&!this.bProcessingLoadItemsEvent){this.loadItems()}this.addContent();s&&s.call(this);e.resizePopup(this)};v.prototype.onBeforeOpenDialog=function(){var e=this.getPickerTextField();this._oSelectedItemBeforeOpen=this.getSelectedItem();this._sValueBeforeOpen=this.getValue();this.getSelectedItem()&&g(this.getItems(),this.filterItems(""));e.setValue(this._sValueBeforeOpen)};v.prototype.onAfterOpen=function(){var e=this.getSelectedItem(),t=f(this.getFocusDomRef()),s=this.isPlatformTablet();this.closeValueStateMessage();L.call(this,true);if(!s&&e&&t.start===t.end&&t.start>1){setTimeout(function(){this.selectText(0,t.end)}.bind(this),0)}};v.prototype.onBeforeClose=function(){t.prototype.onBeforeClose.apply(this,arguments);var e=this.getFocusDomRef();this.setProperty("_open",false);if(document.activeElement===e){this.updateFocusOnClose()}this.toggleIconPressedStyle(false)};v.prototype.onAfterClose=function(){this.clearFilter();this._sInputValueBeforeOpen="";if(this.isPickerDialog()){t.prototype.closeValueStateMessage.apply(this,arguments)}};v.prototype.onItemChange=function(e){var s=this.getAssociation("selectedItem"),i=e.getParameter("newValue"),o=e.getParameter("name");if(s===e.getParameter("id")){switch(o){case"text":if(!this.isBound("value")){this.setValue(i)}break;case"key":if(!this.isBound("selectedKey")){this.setSelectedKey(i)}break}}return t.prototype.onItemChange.call(this,e,this.getShowSecondaryValues())};v.prototype.onkeydown=function(e){var s=e.srcControl;t.prototype.onkeydown.apply(s,arguments);if(!s.getEnabled()||!s.getEditable()){return}var i=y;s._bDoTypeAhead=!o.os.android&&e.which!==i.BACKSPACE&&e.which!==i.DELETE};v.prototype.oncut=function(e){var s=e.srcControl;t.prototype.oncut.apply(s,arguments);s._bDoTypeAhead=false};v.prototype.onsapenter=function(e){var s=e.srcControl,i=s.getSelectedItem(),o=s._getSuggestionsPopover(),n=o&&o.getFocusedListItem();if(i&&this.getFilterSecondaryValues()){s.updateDomValue(i.getText())}t.prototype.onsapenter.apply(s,arguments);if(!s.getEnabled()||!s.getEditable()){return}if(n&&n.isA("sap.m.GroupHeaderListItem")){return}if(s.isOpen()&&!this.isComposingCharacter()){s.close()}};["onsapup","onsapdown","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(e){v.prototype[e]=function(t){this.handleListNavigation(t,e)}});v.prototype.handleListNavigation=function(e,t){var s=e.srcControl;if(!s.getEnabled()||!s.getEditable()){return}e.preventDefault();this.loadItems(function(){this.syncPickerContent();if(!this.isOpen()){this.handleInlineListNavigation(t)}else{var s=this._getSuggestionsPopover();s&&s.handleListNavigation(this,e,!!this.getSelectedItem())}e.setMarked()})};v.prototype.handleInlineListNavigation=function(e){var t=this.getItems(),s=d.getSelectableItems(t),i=this.getSelectedItem(),o;switch(e){case"onsapdown":o=s.indexOf(i)+1;break;case"onsapup":o=i?s.indexOf(i)-1:s.length-1;break;case"onsapend":o=s.length-1;break;case"onsaphome":o=0;break;case"onsappagedown":o=Math.min(s.length-1,s.indexOf(i)+10);break;case"onsappageup":o=Math.max(0,s.indexOf(i)-10);break}this.handleSelectionFromList(s[o])};v.prototype.handleSelectionFromList=function(e){if(!e){return}var t=this.getFocusDomRef(),s=t.value.substring(0,t.selectionStart),i=this.getSelectedItem(),o=this.getLastFocusedListItem(),n,r,a,l;if(e.isA("sap.m.StandardListItem")||e.isA("sap.m.GroupHeaderListItem")){n=e;e=d.getItemByListItem(this.getItems(),e)}else{n=d.getListItem(e)}this.setSelection(e);this.setLastFocusedListItem(n);if(e.isA("sap.ui.core.SeparatorItem")){this.setSelectedItem(null);this.updateDomValue(s);this.fireSelectionChange({selectedItem:null});this._getGroupHeaderInvisibleText().setText(this._oRb.getText("LIST_ITEM_GROUP_HEADER")+" "+e.getText());return}if(e!==i){r=e.getText();l=o&&o.isA("sap.m.GroupHeaderListItem");a=m(f(t,l),r,s,l);this.updateDomValue(r);this.fireSelectionChange({selectedItem:e});e=this.getSelectedItem();this.selectText(a,t.value.length)}};v.prototype.setLastFocusedListItem=function(e){this._oLastFocusedListItem=e};v.prototype.getLastFocusedListItem=function(){return this._oLastFocusedListItem};v.prototype.onsapshow=function(e){var s,i,o=this.getEditable(),n;t.prototype.onsapshow.apply(this,arguments);this.syncPickerContent();if(!this.getValue()&&o){s=d.getSelectableItems(this.getItems());i=s[0];if(i){n=d.getListItem(i);if(this.isOpen()){this._getSuggestionsPopover().updateFocus(this,n);this.setLastFocusedListItem(n)}else{this.addStyleClass("sapMFocus")}this.setSelection(i);this.updateDomValue(i.getText());this.fireSelectionChange({selectedItem:i});setTimeout(function(){this.selectText(0,i.getText().length)}.bind(this),0)}}};v.prototype.onsaphide=v.prototype.onsapshow;v.prototype.ontap=function(e){if(!this.getEnabled()){return}if(!this.isMobileDevice()){this.openValueStateMessage()}this.updateFocusOnClose()};v.prototype.updateFocusOnClose=function(){var e=this.getFocusDomRef(),t=this._getSuggestionsPopover();this.setLastFocusedListItem(null);if(t){t.setValueStateActiveState(false);t.updateFocus(this)}e.removeAttribute("aria-activedescendant")};v.prototype.onmouseup=function(){if(this.getPickerType()==="Dropdown"&&document.activeElement===this.getFocusDomRef()&&!this.getSelectedText()){this.selectText(0,this.getValue().length)}};v.prototype.onfocusin=function(e){var t=this.getPickerType()==="Dropdown";if(this._bIsBeingDestroyed){return}if(e.target===this.getOpenArea()){this.bOpenValueStateMessage=false;if(t&&!this.isPlatformTablet()){this.focus()}}else{if(!this.isOpen()&&this.bOpenValueStateMessage&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}this.bOpenValueStateMessage=true}if(this.getEnabled()&&(!this.isOpen()||!this.getSelectedItem()||!this._getList().hasStyleClass("sapMListFocus"))){this.addStyleClass("sapMFocus")}};v.prototype.onsapfocusleave=function(e){var s,i,o,r,a=this.getSelectedItem();if(a&&this.getFilterSecondaryValues()){this.updateDomValue(a.getText())}t.prototype.onsapfocusleave.apply(this,arguments);if(this.isPickerDialog()){return}i=this.getPicker();if(!e.relatedControlId||!i){return}s=this.isPlatformTablet();o=n.getElementById(e.relatedControlId);r=o&&o.getFocusDomRef();if(l(i.getFocusDomRef(),r)&&!s&&!this._getSuggestionsPopover().getValueStateActiveState()){this.focus()}};v.prototype.synchronizeSelection=function(){if(this.isSelectionSynchronized()){return}var e=this.getSelectedKey(),t=this.getItemByKey(""+e);if(t&&e!==""){this.setAssociation("selectedItem",t,true);this._setPropertyProtected("selectedItemId",t.getId(),true);this.setValue(t.getText());this._sValue=this.getValue()}};v.prototype.configPicker=function(e){var t=this.getRenderer(),s=t.CSS_CLASS_COMBOBOXBASE;e.setHorizontalScrolling(false).addStyleClass(s+"Picker").addStyleClass(s+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this)};v.prototype._configureList=function(e){var t=this.getRenderer();if(!e){return}e.applyAriaRole("listbox");e.setMode(S.SingleSelectMaster).addStyleClass(t.CSS_CLASS_COMBOBOXBASE+"List").addStyleClass(t.CSS_CLASS_COMBOBOX+"List");e.attachSelectionChange(this.onSelectionChange,this).attachItemPress(this.onItemPress,this);e.addEventDelegate({onBeforeRendering:this.onBeforeRenderingList,onAfterRendering:this.onAfterRenderingList},this)};v.prototype.getDefaultSelectedItem=function(){return null};v.prototype.getChangeEventParams=function(){return{itemPressed:false}};v.prototype.clearSelection=function(){this.setAssociation("selectedItem",null);this.setSelectedItemId("");this.setSelectedKey("")};v.prototype.selectText=function(e,s){t.prototype.selectText.apply(this,arguments);return this};v.prototype.clone=function(e){var s=t.prototype.clone.apply(this,arguments),i=this._getList();s.setAssociation("selectedItem",null);if(!this.isBound("items")&&i){s.syncPickerContent();s.setSelectedIndex(this.indexOfItem(this.getSelectedItem()))}return s};v.prototype.open=function(){this.syncPickerContent();t.prototype.open.call(this);var e=d.getListItem(this.getSelectedItem());const s=this._getSuggestionsPopover();if(!this._bInputFired&&s){s.updateFocus(this,e)}this._bInputFired=false;return this};v.prototype.syncPickerContent=function(){var e,t=this.getPicker(),s=this.getInputForwardableProperties();if(!t){var i,o;t=this.createPicker(this.getPickerType());e=this.getPickerTextField();d.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));g(this.getItems(),this.filterItems(""));if(e){s.forEach(function(t){t=t.charAt(0).toUpperCase()+t.slice(1);i="set"+t;o="get"+t;if(e[i]){e[i](this[o]())}},this)}this._getSuggestionsPopover().updateValueState(this.getValueState(),this.getValueStateText(),this.getShowValueStateMessage())}this.synchronizeSelection();return t};v.prototype.findAggregatedObjects=function(){var e=this._getList();if(e){return s.prototype.findAggregatedObjects.apply(e,arguments)}return[]};v.prototype.setSelectedItem=function(e){if(typeof e==="string"){this.setAssociation("selectedItem",e,true);e=n.getElementById(e)}if(!(e instanceof r)&&e!==null){return this}if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);this.setValue(this._getSelectedItemText(e));return this};v.prototype.setSelectedItemId=function(e){e=this.validateProperty("selectedItemId",e);if(!e){e=this.getDefaultSelectedItem()}this.setSelection(e);e=this.getSelectedItem();this.setValue(this._getSelectedItemText(e));return this};v.prototype.setSelectedKey=function(e){e=this.validateProperty("selectedKey",e);var t=this.shouldResetSelection(e),s=this.isBound("selectedKey")&&this.isBound("value")&&this.getBindingInfo("selectedKey").skipModelUpdate;if(t){this.setSelection(null);if(!s){this.setValue("")}return this}var i=this.getItemByKey(e);if(i){this.setSelection(i);if(!s){this.setValue(this._getSelectedItemText(i))}return this}this._sValue=this.getValue();return this._setPropertyProtected("selectedKey",e)};v.prototype.shouldResetSelection=function(e){return e===this.getMetadata().getProperty("selectedKey").defaultValue};v.prototype._setPropertyProtected=function(e,t,s){try{return this.setProperty(e,t,s)}catch(e){I.warning("setSelectedKey update failed due to exception. Loggable in support mode log",null,null,function(){return{exception:e}})}};v.prototype.getSelectedItem=function(){var e=this.getAssociation("selectedItem");return e===null?null:n.getElementById(e)||null};v.prototype._decoratePopupInput=function(e){t.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return}e.addEventDelegate({onsapenter:function(){var t=e.getValue();this.updateDomValue(t);this.onChange();if(t){this.updateDomValue(t);this.onChange();this.close()}}},this);e.attachChange(this._handleInnerInputChange.bind(this));return e};v.prototype._handleInnerInputChange=function(e){if(e.getParameter("value")===""){this.clearSelection();this.clearFilter()}};v.prototype.applyShowItemsFilters=function(){var e,t;this.syncPickerContent();e=this.getPicker();t=function(){e.detachBeforeOpen(t,this);e=null;g(this.getItems(),this.filterItems(this.getValue()||"_"))};e.attachBeforeOpen(t,this)};v.prototype.showItems=function(e){var s,i,o=Array.prototype.slice.call(arguments),n=this.fnFilter,r=function(){this.setFilterFunction(e||function(){return true});i=this.filterItems(this.getValue()||"_");g(this.getItems(),i);this.setFilterFunction(n);s=i.items;if(s&&s.length){t.prototype.showItems.apply(this,o)}}.bind(this);this.attachLoadItems(r);this.loadItems(r)};v.prototype.handleClearIconPress=function(e){var t=this.getSelectedItem(),s=this.getChangeEventParams();if(!(this.getEnabled()&&this.getEditable())){return}if(this.getValue()!==""){this.clearSelection();this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false)}if(t){this.fireSelectionChange({selectedItem:null});this.fireChangeEvent(null,s)}};v.prototype._getToolbarInteractive=function(){return true};return v});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxBase", ["./Input","./ComboBoxTextField","./ComboBoxBaseRenderer","./SuggestionsPopover","sap/ui/base/ManagedObjectObserver","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/SeparatorItem","sap/ui/core/InvisibleText","sap/ui/base/ManagedObject","sap/base/Log","./library","sap/ui/Device","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/m/inputUtils/forwardItemProperties","sap/m/inputUtils/highlightDOMElements","sap/m/inputUtils/highlightItemsWithContains","sap/m/inputUtils/ListHelpers","sap/ui/core/IconPool"],function(t,e,i,s,o,n,r,a,u,l,p,h,c,d,g,jQuery,f,I,y,m,b){"use strict";var v=h.PlacementType;var S=["value","enabled","name","placeholder","editable","textAlign","textDirection","valueState","valueStateText"];var P=e.extend("sap.m.ComboBoxBase",{metadata:{library:"sap.m",abstract:true,defaultAggregation:"items",properties:{showSecondaryValues:{type:"boolean",group:"Misc",defaultValue:false},open:{type:"boolean",defaultValue:false},showClearIcon:{type:"boolean",defaultValue:false},effectiveShowClearIcon:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{items:{type:"sap.ui.core.Item",multiple:true,singularName:"item",bindable:"bindable"},picker:{type:"sap.ui.core.PopupInterface",multiple:false,visibility:"hidden"}},events:{loadItems:{}},dnd:{draggable:false,droppable:true}},renderer:i});P.prototype.oncompositionend=function(t){e.prototype.oncompositionend.apply(this,arguments);if(!c.browser.firefox){this.handleInputValidation(t,this.isComposingCharacter())}};P.prototype.shouldShowClearIcon=function(){return this.getProperty("effectiveShowClearIcon")&&!!this.getValue()&&this.getEditable()&&this.getEnabled()};P.prototype.updateItems=function(t){this.bItemsUpdated=false;var e=this.getItems().length;var i;this.destroyItems();this.updateAggregation("items");this.bItemsUpdated=true;if(this.hasLoadItemsEventListeners()){if(this.isOpen()){m.fillList(this.getItems(),this._getList(),this._mapItemToListItem.bind(this));this.setRecreateItems(false)}this.onItemsLoaded()}i=this._getList();if(i&&e===this.getItems().length){i.setBusy(false);i.setShowNoData(!this.getItems().length);this.bInitialBusyIndicatorState=false}};P.prototype.setFilterFunction=function(t){if(t===null||t===undefined){this.fnFilter=null;return this}if(typeof t!=="function"){p.warning("Passed filter is not a function and the default implementation will be used")}else{this.fnFilter=t}return this};P.prototype.highlightList=function(t){var e=[];e=this._getList().$().find(".sapMSLIInfo [id$=-infoText], .sapMSLITitleOnly [id$=-titleText]");if(this.useHighlightItemsWithContains()){y(e,t)}else{I(e,t)}};P.prototype.useHighlightItemsWithContains=function(){return false};P.prototype._decoratePopupInput=function(t){if(t){this.setTextFieldHandler(t);t.setShowClearIcon(this.getShowClearIcon())}return t};P.prototype.setTextFieldHandler=function(t){var e=this,i=t._handleEvent;t._handleEvent=function(t){i.apply(this,arguments);if(/keydown|keyup|sapdown|sapup|saphome|sapend|sappagedown|sappageup|input/.test(t.type)){e._handleEvent(t)}}};P.prototype.refreshItems=function(){this.bItemsUpdated=false;this.refreshAggregation("items")};P.prototype.loadItems=function(t,e){var i=typeof t==="function";if(this.hasLoadItemsEventListeners()&&this.getItems().length===0){this._bOnItemsLoadedScheduled=false;if(i){e=jQuery.extend({action:t,busyIndicator:true,busyIndicatorDelay:300},e);this.aMessageQueue.push(e);if(this.iLoadItemsEventInitialProcessingTimeoutID===-1&&e.busyIndicator){this.iLoadItemsEventInitialProcessingTimeoutID=setTimeout(function t(){this.setInternalBusyIndicatorDelay(0);this.setInternalBusyIndicator(true)}.bind(this),e.busyIndicatorDelay)}}if(!this.bProcessingLoadItemsEvent){this.bProcessingLoadItemsEvent=true;this.fireLoadItems()}}else if(i){t.call(this)}};P.prototype.onItemsLoaded=function(){this.bProcessingLoadItemsEvent=false;clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);if(this.bInitialBusyIndicatorState!==this.getBusy()){this.setInternalBusyIndicator(this.bInitialBusyIndicatorState)}if(this.iInitialBusyIndicatorDelay!==this.getBusyIndicatorDelay()){this.setInternalBusyIndicatorDelay(this.iInitialBusyIndicatorDelay)}for(var t=0,e,i,s;t<this.aMessageQueue.length;t++){e=this.aMessageQueue.shift();t--;s=t+1===this.aMessageQueue.length;i=s?null:this.aMessageQueue[t+1];if(typeof e.action==="function"){if(e.name==="input"&&!s&&i.name==="input"){continue}e.action.call(this)}}};P.prototype.hasLoadItemsEventListeners=function(){return this.hasListeners("loadItems")};P.prototype._scheduleOnItemsLoadedOnce=function(){if(!this._bOnItemsLoadedScheduled&&!this.isBound("items")&&this.hasLoadItemsEventListeners()&&this.bProcessingLoadItemsEvent){this._bOnItemsLoadedScheduled=true;setTimeout(this.onItemsLoaded.bind(this),0)}};P.prototype.getPickerInvisibleTextId=function(){return u.getStaticId("sap.m","COMBOBOX_AVAILABLE_OPTIONS")};P.prototype._getGroupHeaderInvisibleText=function(){if(!this._oGroupHeaderInvisibleText){this._oGroupHeaderInvisibleText=new u;this._oGroupHeaderInvisibleText.toStatic()}return this._oGroupHeaderInvisibleText};P.prototype._isListInSuggestMode=function(){return this._getList().getItems().some(function(t){return!t.getVisible()&&m.getItemByListItem(this.getItems(),t).getEnabled()},this)};P.prototype.getSelectable=function(t){return t._bSelectable};P.prototype._setItemsShownWithFilter=function(t){this._bItemsShownWithFilter=t};P.prototype._getItemsShownWithFilter=function(){return this._bItemsShownWithFilter};P.prototype._getClearIcon=function(){if(this._oClearIcon){return this._oClearIcon}this._oClearIcon=this.addEndIcon({src:b.getIconURI("decline"),noTabStop:true,visible:false,alt:this._oRb.getText("INPUT_CLEAR_ICON_ALT"),useIconTooltip:false,decorative:false,press:this.handleClearIconPress.bind(this)},0);this._oClearIcon.addStyleClass("sapMComboBoxBaseClearIcon");return this._oClearIcon};P.prototype.handleClearIconPress=function(t){};P.prototype.onkeyup=function(t){if(!this.getEnabled()||!this.getEditable()){return}this.getShowClearIcon()&&this.setProperty("effectiveShowClearIcon",!!this.getValue())};P.prototype.onkeydown=function(t){e.prototype.onkeydown.apply(this,arguments);var i=this._getSuggestionsPopover();if(this.areHotKeysPressed(t)){if(i&&i.isOpen()){i.setValueStateActiveState(true);i._handleValueStateLinkNav(this,t);i.updateFocus(this,null)}else{this._handleValueStateLinkNav()}}};P.prototype.setValue=function(t){e.prototype.setValue.apply(this,arguments);this.setProperty("effectiveShowClearIcon",!!t);return this};P.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oRb=r.getResourceBundleFor("sap.m");this.setPickerType(c.system.phone?"Dialog":"Dropdown");this._setItemsShownWithFilter(false);this.bItemsUpdated=false;this.bOpenedByKeyboardOrButton=false;this._bShouldClosePicker=false;this.bProcessingLoadItemsEvent=false;this.iLoadItemsEventInitialProcessingTimeoutID=-1;this.aMessageQueue=[];this.bInitialBusyIndicatorState=this.getBusy();this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();this._bOnItemsLoadedScheduled=false;this._bDoTypeAhead=true;this.getArrowIcon().addEventDelegate({onmousedown:function(t){this._bShouldClosePicker=this.isOpen()}},this);this.getArrowIcon().attachPress(this._handlePopupOpenAndItemsLoad.bind(this,true,this));this.fnFilter=null;var t=new o(function(t){var e=t.mutation;var i=t.child;var s={remove:"detachEvent",insert:"attachEvent"};var o={remove:"handleItemRemoval",insert:"handleItemInsertion"};if(!i[s[e]]||!this[o[e]]){return}i[s[e]]("_change",this.onItemChange,this);this.setRecreateItems(true);this[o[e]](i)}.bind(this));t.observe(this,{aggregations:["items"]})};P.prototype.handleItemRemoval=function(t){};P.prototype.handleItemInsertion=function(t){};P.prototype.setRecreateItems=function(t){this._bRecreateItems=t};P.prototype.getRecreateItems=function(){return this._bRecreateItems};P.prototype.onBeforeRendering=function(){var t=this.isOpen(),i=t?this._getSuggestionsPopover()._getValueStateHeader().getText():null,s=t?this._getSuggestionsPopover()._getValueStateHeader().getValueState():null;e.prototype.onBeforeRendering.apply(this,arguments);if(t&&(this.getValueStateText()&&i!==this.getValueStateText()||this.getValueState()!==s||this.getFormattedValueStateText())){this._updateSuggestionsPopoverValueState(true)}};P.prototype._handlePopupOpenAndItemsLoad=function(t,e){var i;if(!this.getEnabled()||!this.getEditable()){return}if(t&&this._getItemsShownWithFilter()){this._bShouldClosePicker=false;this.toggleIconPressedStyle(true);this.bOpenedByKeyboardOrButton=false;this.clearFilter();this._setItemsShownWithFilter(false);return}if(this._bShouldClosePicker){this._bShouldClosePicker=false;this.close();return}this.loadItems();this.bOpenedByKeyboardOrButton=t;if(this.isPlatformTablet()){this.syncPickerContent();i=this.getPicker();i.setInitialFocus(i)}if(e){i=this.getPicker();i&&i.setInitialFocus(e)}this.open()};P.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this._oRb=null;if(this._getGroupHeaderInvisibleText()){this._getGroupHeaderInvisibleText().destroy();this._oGroupHeaderInvisibleText=null}if(this._oSuggestionPopover){this._oSuggestionPopover.destroy();this._oSuggestionPopover=null}clearTimeout(this.iLoadItemsEventInitialProcessingTimeoutID);this.aMessageQueue=null;this.fnFilter=null};P.prototype.onsapshow=function(t){if(!this.getEnabled()||!this.getEditable()){return}t.setMarked();if(t.keyCode===g.F4){this.onF4(t)}if(this._getItemsShownWithFilter()){this.loadItems(this._handlePopupOpenAndItemsLoad.bind(this,true));return}if(this.isOpen()){this.close();return}this.selectText(0,this.getValue().length);this.loadItems();this.bOpenedByKeyboardOrButton=true;this.open()};P.prototype.onF4=function(t){t.preventDefault()};P.prototype.onsapescape=function(t){if(this.getEnabled()&&this.getEditable()&&this.isOpen()){t.setMarked();t.preventDefault();this.close()}else{e.prototype.onsapescape.apply(this,arguments)}};P.prototype.onsaphide=P.prototype.onsapshow;P.prototype.onsapfocusleave=function(t){if(!t.relatedControlId){e.prototype.onsapfocusleave.apply(this,arguments);return}var i=n.getElementById(t.relatedControlId);if(i===this){return}var s=this.getPicker(),o=i&&i.getFocusDomRef();if(s&&d(s.getFocusDomRef(),o)){return}e.prototype.onsapfocusleave.apply(this,arguments)};P.prototype.getPopupAnchorDomRef=function(){return this.getDomRef()};P.prototype.addContent=function(t){};P.prototype.getList=function(){p.warning("[Warning]:","You are attempting to use deprecated method 'getList()', please refer to SAP note 2746748.",this);return this._getList()};P.prototype._getList=function(){var t=this._oSuggestionPopover&&this._oSuggestionPopover.getItemsContainer();if(this.bIsDestroyed||!t){return null}return t};P.prototype.setPickerType=function(t){this._sPickerType=t};P.prototype.getPickerType=function(){return this._sPickerType};P.prototype._updateSuggestionsPopoverValueState=function(t){var e=this._getSuggestionsPopover();if(!e){return}var i=this.getValueState(),s=this.getValueState()!==e._getValueStateHeader().getValueState(),o=this.getFormattedValueStateText(),n=this.getValueStateText(),r=o!==null||s;if(e.isOpen()&&!r){this.setFormattedValueStateText(e._getValueStateHeader().getFormattedText())}e.updateValueState(i,o||n,this.getShowValueStateMessage(),t)};P.prototype.shouldValueStateMessageBeOpened=function(){var t=e.prototype.shouldValueStateMessageBeOpened.apply(this,arguments);return t&&!this.isOpen()};P.prototype.onPropertyChange=function(t,e){var i=t.getParameter("newValue"),s=t.getParameter("name"),o="set"+s.charAt(0).toUpperCase()+s.slice(1),n=e&&e.srcControl||this.getPickerTextField();if(this.getInputForwardableProperties().indexOf(s)>-1&&n&&typeof n[o]==="function"){n[o](i)}};P.prototype.getInputForwardableProperties=function(){return S};P.prototype.isPickerDialog=function(){return this.getPickerType()==="Dialog"};P.prototype.isPlatformTablet=function(){var t=!c.system.combi,e=c.system.tablet&&t;return e};P.prototype.getDropdownSettings=function(){return{showArrow:false,placement:v.VerticalPreferredBottom,offsetX:0,offsetY:0,bounce:false,ariaLabelledBy:this.getPickerInvisibleTextId()||undefined}};P.prototype._configureList=function(){};P.prototype.createPicker=function(t){var e=this.getAggregation("picker");if(e){return e}this._oSuggestionPopover=this._createSuggestionsPopover();e=this._oSuggestionPopover.getPopover();this.setAggregation("picker",e,true);this.configPicker(e);return e};P.prototype.configPicker=function(t){};P.prototype._hasShowSelectedButton=function(){return false};P.prototype._createSuggestionsPopover=function(){var e=new s(this);e.decorateParent(this);e.createSuggestionPopup(this,{showSelectedButton:this._hasShowSelectedButton()},t);this._decoratePopupInput(e.getInput());e.initContent(this.getId());this.forwardEventHandlersToSuggPopover(e);this._configureList(e.getItemsContainer());return e};P.prototype.forwardEventHandlersToSuggPopover=function(t){t.setOkPressHandler(this._handleOkPress.bind(this));t.setCancelPressHandler(this._handleCancelPress.bind(this));t.setInputLabels(this.getLabels.bind(this))};P.prototype._handleOkPress=function(){var t=this,e=t.getPickerTextField();t.updateDomValue(e.getValue());t.onChange();t.close()};P.prototype._handleCancelPress=function(){this.close();this.revertSelection()};P.prototype.setSelectable=function(t,e){if(this.indexOfItem(t)<0){return}t._bSelectable=e;var i=m.getListItem(t);if(i){i.setVisible(e)}};P.prototype.onBeforeOpen=function(){this.closeValueStateMessage();this._updateSuggestionsPopoverValueState();if(!this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};P.prototype.onBeforeClose=function(){this.bOpenedByKeyboardOrButton=false;this._setItemsShownWithFilter(false);this._updateSuggestionsPopoverValueState()};P.prototype.getPicker=function(){var t=this.getAggregation("picker");if(t&&!t.bIsDestroyed&&!this.bIsDestroyed){return t}return null};P.prototype._getSuggestionsPopover=function(){return this._oSuggestionPopover};P.prototype.getValueStateLinks=function(){var t=this.getPicker()&&this.getPicker().getCustomHeader()&&typeof this.getPicker().getCustomHeader().getFormattedText==="function",e=t&&this.getPicker().getCustomHeader().getFormattedText(),i=e&&e.getControls();return i||[]};P.prototype.getPickerTextField=function(){var t=this._getSuggestionsPopover();return t?t.getInput():null};P.prototype.getPickerTitle=function(){var t=this.getPicker(),e=t&&t.getCustomHeader();if(this.isPickerDialog()&&e){return e.getContentMiddle()[0]}return null};P.prototype.revertSelection=function(){};P.prototype.hasContent=function(){return this.getItems().length>0};P.prototype.syncPickerContent=function(){};P.prototype.open=function(){var t=this.getPicker();if(t){t.open()}return this};P.prototype.getVisibleItems=function(){return m.getVisibleItems(this.getItems())};P.prototype.isItemSelected=function(){};P.prototype.getKeys=function(t){t=t||this.getItems();for(var e=0,i=[];e<t.length;e++){i[e]=t[e].getKey()}return i};P.prototype.findItem=function(t,e){var i="get"+t.charAt(0).toUpperCase()+t.slice(1);for(var s=0,o=this.getItems();s<o.length;s++){if(o[s][i]()===e){return o[s]}}return null};P.prototype.getItemByText=function(t){return this.findItem("text",t)};P.prototype.clearFilter=function(){this.getItems().forEach(function(t){var e=m.getListItem(t);if(e){e.setVisible(t.getEnabled()&&this.getSelectable(t))}},this)};P.prototype.onItemChange=function(t,e){f({item:t.getSource(),propName:t.getParameter("name"),propValue:t.getParameter("newValue")},e)};P.prototype.clearSelection=function(){};P.prototype.setInternalBusyIndicator=function(t){this.bInitialBusyIndicatorState=this.getBusy();return this.setBusy.apply(this,arguments)};P.prototype.setInternalBusyIndicatorDelay=function(t){this.iInitialBusyIndicatorDelay=this.getBusyIndicatorDelay();return this.setBusyIndicatorDelay.apply(this,arguments)};P.prototype.getItemAt=function(t){return this.getItems()[+t]||null};P.prototype.getFirstItem=function(){return this.getItems()[0]||null};P.prototype.getLastItem=function(){var t=this.getItems();return t[t.length-1]||null};P.prototype.getEnabledItems=function(t){return m.getEnabledItems(t||this.getItems())};P.prototype.getItemByKey=function(t){return this.findItem("key",t)};P.prototype.addItemGroup=function(t,e,i){e=e||new a({text:l.escapeSettingsValue(t.text)||l.escapeSettingsValue(t.key)});this.addAggregation("items",e,i);if(this._getList()&&e.isA("sap.ui.core.SeparatorItem")){this._getList().addItem(this._mapItemToListItem(e))}return e};P.prototype.isOpen=function(){var t=this.getPicker();return!!(t&&t.isOpen())};P.prototype.close=function(){var t=this.getPicker();if(t){t.close()}return this};P.prototype.intersectItems=function(t,e){return t.filter(function(t){return e.map(function(t){return t.getId()}).indexOf(t.getId())!==-1})};P.prototype.showItems=function(t){var e=this.fnFilter,i=function(){if(!this.getItems().length){return}this.detachLoadItems(i);this.setFilterFunction(t||function(){return true});this.applyShowItemsFilters();this._handlePopupOpenAndItemsLoad(false,this);this.setFilterFunction(e)}.bind(this);if(!this.getEnabled()||!this.getEditable()){return}this._setItemsShownWithFilter(true);this.attachLoadItems(i);this.loadItems(i)};P.prototype._getFormattedValueStateText=function(){if(this.isOpen()){return this._getSuggestionsPopover()._getValueStateHeader().getFormattedText()}else{return e.prototype.getFormattedValueStateText.call(this)}};P.prototype.applyShowItemsFilters=function(){};P.prototype.getValueStateLinksForAcc=function(){const t=this._getFormattedValueStateText();if(!t){return[]}return t.getControls()};return P});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxBaseRenderer", ["./ComboBoxTextFieldRenderer","sap/ui/core/Renderer","sap/ui/core/library"],function(e,t,s){"use strict";var a=t.extend(e);a.apiVersion=2;a.CSS_CLASS_COMBOBOXBASE="sapMComboBoxBase";a.getAriaDescribedBy=function(t){let s=e.getAriaDescribedBy.apply(this,arguments);if(t.getValueStateLinksForAcc().length){s=s?`${s} ${t.getValueStateLinksShortcutsId()}`:t.getValueStateLinksShortcutsId()}return s};a.getAccessibilityState=function(t){var s=e.getAccessibilityState.call(this,t),a=t.getPicker();if(a){s.controls=a.getId()}return s};a.addOuterClasses=function(t,s){e.addOuterClasses.apply(this,arguments);var i=a.CSS_CLASS_COMBOBOXBASE;t.class(i);if(!s.getEnabled()){t.class(i+"Disabled")}if(!s.getEditable()){t.class(i+"Readonly")}};a.addButtonClasses=function(t,s){e.addButtonClasses.apply(this,arguments);t.class(a.CSS_CLASS_COMBOBOXBASE+"Arrow")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxRenderer", ["./ComboBoxBaseRenderer","sap/ui/core/Renderer","sap/m/inputUtils/ListHelpers"],function(e,s,t){"use strict";var a=s.extend(e);a.apiVersion=2;a.CSS_CLASS_COMBOBOX="sapMComboBox";a.addOuterClasses=function(s,t){e.addOuterClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX)};a.addInnerClasses=function(s,t){e.addInnerClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Inner")};a.addButtonClasses=function(s,t){e.addButtonClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Arrow")};a.addPlaceholderClasses=function(s,t){e.addPlaceholderClasses.apply(this,arguments);s.class(a.CSS_CLASS_COMBOBOX+"Placeholder")};a.writeInnerAttributes=function(s,a){var r=a.isOpen(),i,n,d;var o=a._getSuggestionsPopover();e.writeInnerAttributes.apply(this,arguments);s.attr("aria-expanded",r);if(!o){return}var l=o.getFocusedListItem();if(!r||!l){return}i=l.isA("sap.m.GroupHeaderListItem")||l.isA("sap.ui.core.SeparatorItem");n=a.getSelectedItem();d=n&&t.getListItem(n);l=i?l:d;if(l){s.attr("aria-activedescendant",l.getId())}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxTextField", ["./InputBase","./library","sap/ui/core/LabelEnablement","./ComboBoxTextFieldRenderer","sap/ui/core/Lib"],function(e,t,o,r,i){"use strict";var n=e.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:r});var a=i.getResourceBundleFor("sap.m");n.prototype.init=function(){e.prototype.init.apply(this,arguments);this._oArrowIcon=this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:a.getText("COMBOBOX_BUTTON"),decorative:false})};n.prototype.getArrowIcon=function(){return this._oArrowIcon};n.prototype.getIcon=n.prototype.getArrowIcon;n.prototype.toggleIconPressedStyle=function(t){this.toggleStyleClass(e.ICON_PRESSED_CSS_CLASS,t)};n.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments);var t=o.getReferencingLabels(this)||[],r=this.getArrowIcon();r.setVisible(this.getShowButton());t.forEach(function(e){if(r.getAriaLabelledBy().indexOf(e)===-1){r.addAssociation("ariaLabelledBy",e,true)}},this)};n.prototype.getOpenArea=function(){var e=this.getArrowIcon().getDomRef();return e?e.parentNode:e};n.prototype.onsapenter=function(t){e.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}this._bCheckDomValue&&t.setMarked();var o=this.getValue(),r=o.length;this.setValue(o);this.selectText(r,r)};n.prototype.getValue=function(){var e=this.getFocusDomRef();if(e){return e.value}return this.getProperty("value")};n.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef()};n.prototype.getAccessibilityInfo=function(){var t=e.prototype.getAccessibilityInfo.apply(this,arguments);t.type=a.getText("ACC_CTR_TYPE_COMBO");return t};n.prototype.exit=function(){e.prototype.exit.apply(this,arguments);this._oArrowIcon=null};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ComboBoxTextFieldRenderer", ["./InputBaseRenderer","sap/ui/core/Renderer"],function(t,e){"use strict";var a=e.extend(t);a.apiVersion=2;a.CSS_CLASS_COMBOBOXTEXTFIELD="sapMComboBoxTextField";a.writeInnerAttributes=function(t,e){t.attr("role","combobox");t.attr("aria-haspopup","dialog");t.attr("aria-autocomplete","both");t.attr("aria-expanded","false");t.attr("autocomplete","off");t.attr("autocorrect","off");t.attr("autocapitalize","off");t.attr("type","text")};a.getAriaRole=function(){};a.addOuterStyles=function(t,e){t.style("max-width",e.getMaxWidth())};a.writeIcons=function(t,e){t.openStart("div").attr("tabindex","-1").attr("aria-hidden","true").class("sapMInputBaseIconContainer").openEnd();e.forEach(t.renderControl,t);t.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Menu", ["sap/m/library","sap/ui/core/library","sap/ui/core/Control","sap/m/ResponsivePopover","sap/m/Button","sap/m/Bar","sap/m/Title","sap/m/MenuItem","sap/m/MenuWrapper","sap/ui/core/Lib","sap/ui/Device","sap/ui/core/InvisibleText","sap/ui/base/ManagedObjectMetadata","sap/ui/core/EnabledPropagator","sap/base/i18n/Localization","sap/base/Log"],function(e,t,o,n,s,i,r,a,u,p,l,c,d,h,g,m){"use strict";const f=e.PlacementType;const _=t.ItemSelectionMode;const y=o.extend("sap.m.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.IMenuItem",multiple:true,singularName:"item",bindable:"bindable",defaultClass:a,forwarding:{idSuffix:"-menuWrapper",aggregation:"items"}},_menuWrapper:{type:"sap.m.MenuWrapper",multiple:false,visibility:"hidden"},_popover:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.IMenuItem"}}},closed:{},beforeClose:{allowPreventDefault:true,parameters:{item:{type:"sap.m.IMenuItem"}}}}},renderer:null});h.call(y.prototype);y.prototype.init=function(){const e=this._createMenuWrapper(),t=this._createPopover();e.attachClosePopover(this.close,this);e.attachCloseItemSubmenu(this._collectSubmenusToClose,this);e.attachItemSelected(this._handleItemSelected,this);t.attachAfterClose(this._menuClosed,this);this._aSubmenusToClose=[];this._openDuration=l.system.phone?null:0};y.prototype.updateItems=function(e,t){if(t&&t.detailedReason==="AddVirtualContext"){b(this);return}else if(t&&t.detailedReason==="RemoveVirtualContext"){C(this);return}if(this._bReceivingData){this._bReceivingData=false}else{this._updateStarted(e)}this.updateAggregation("items");this._updateFinished()};y.prototype._updateStarted=function(e){if(!this._bReceivingData&&!this._bUpdating){this._bUpdating=true}};y.prototype._updateFinished=function(){if(!this._bReceivingData&&this._bUpdating){setTimeout(function(){this._getMenuWrapper()?._setHoveredItem(this._getMenuWrapper()._getNextFocusableItem(-1,1),true)}.bind(this),0);this._bUpdating=false}};y.prototype.refreshItems=function(e){this._bRefreshItems=true;if(!this._bReceivingData){this._updateStarted(e);this._bReceivingData=true}this.refreshAggregation("items")};y.prototype.createItem=function(e,t,o){const n=t.factory(d.uid(o?o:"clone"),e);return n.setBindingContext(e,t.model)};y.prototype.exit=function(){const e=this._getMenuWrapper(),t=this._getPopover();e.detachClosePopover(this.close,this);e.detachCloseItemSubmenu(this._collectSubmenusToClose,this);e.detachItemSelected(this._handleItemSelected,this);t.detachAfterClose(this._menuClosed,this);e.destroy();t.destroy()};y.prototype.setTitle=function(e){const t=this._getPopover(),o=this._getMenuWrapper(),n=t.getCustomHeader();if(n){o.setTitle(e);n.getContentMiddle()[0].setText(e)}this.setProperty("title",e,true);return this};y.prototype.openBy=function(e){const t=this._getPopover();if(!e){e=document.body}this._openPopoverBy(t,e);this.bIgnoreOpenerFocus=true;return this};y.prototype.close=function(e){const t=e?e.getParameters():{},o={},n=this._getPopover();if(t["origin"]){o["item"]=t["origin"]}this._refreshSubmenusToClose();if(n&&this.fireBeforeClose(o)){this._closeSubmenuPopovers();n._getPopup().setDurations(this._openDuration,0);n.close()}return this};y.prototype._openPopoverBy=function(e,t){e._getPopup().setDurations(this._openDuration,0);e.openBy(t)};y.prototype._handleItemSelected=function(e){e.cancelBubble();this.fireItemSelected({item:e.getParameter("item")});this.bIgnoreOpenerFocus=false};y.prototype._refreshSubmenusToClose=function(){this._aSubmenusToClose=this._aSubmenusToClose.filter(e=>e._getPopover().isOpen())};y.prototype._closeSubmenuPopovers=function(){while(this._aSubmenusToClose.length){this._aSubmenusToClose.pop()._closeSubmenu()}};y.prototype.isOpen=function(){return this._getPopover().isOpen()};y.prototype.getDomRefId=function(){const e=this._getPopover().getDomRef();return e?e.id:""};y.prototype.openAsContextMenu=function(e,t){const o=this._getPopover(),n=e?e.originalEvent||e:null,s=n&&n.button!==undefined&&!!n.type,i=n&&!s&&n.type===undefined&&(n.offsetX!==undefined&&n.offsetY!==undefined),r=n.type?.substr(0,3)==="key"||s&&t&&(n.pageX===undefined&&n.clientX===undefined||n.pageY===undefined&&n.clientY===undefined);let a=t&&t.getDomRef?t.getDomRef():t,u=document.getElementById("sapMMenuContextMenuPointer"),p=document.body,c=null,d=0,h=0;o._getPopup().setDurations(this._openDuration,0);if(o.isOpen()){o.close()}if(l.system.phone){o.openBy();return}if(!t&&!i){a=e.srcControl?e.srcControl.getDomRef():null;if(!a){if(n?.currentTarget){a=n.currentTarget}else if(n?.target){a=n.target}else{a=document.body}}}if(u){u.remove()}u=document.createElement("div");u.id="sapMMenuContextMenuPointer";u.className="sapMMenuContextMenuPointer";const m=a?a.getBoundingClientRect():null;if((!n||r)&&m){d=m.left+m.width/2+(document.documentElement.scrollLeft||document.body.scrollLeft);h=m.top+m.height/2+(document.documentElement.scrollTop||document.body.scrollTop)}else if(n&&s){const e=(n.pageX||n.clientX)+(document.documentElement.scrollLeft||document.body.scrollLeft);const t=(n.pageY||n.clientY)+(document.documentElement.scrollTop||document.body.scrollTop);if(a.tagName&&a.tagName.toLowerCase()==="tr"){p=a.firstChild?a.firstChild:a;c=p.firstChild?p.firstChild:null}else{p=a;c=a.firstChild?a.firstChild:null}d=e-m.left-window.scrollX;h=t-m.top-window.scrollY;if(g.getRTL()){d=document.body.clientWidth-d}}else if(i){d=e.offsetX||0;h=e.offsetY||0}p.insertBefore(u,c);u.style.insetInlineStart=`${d}px`;u.style.insetBlockStart=`${h}px`;u.setAttribute("aria-hidden","true");o.openBy(u);o.attachAfterClose(this._onContextMenuClose,this)};y.prototype._onContextMenuClose=function(){const e=document.getElementById("sapMMenuContextMenuPointer"),t=this._getPopover();e&&e.remove();t.detachAfterClose(this._onContextMenuClose,this)};["addStyleClass","removeStyleClass","toggleStyleClass"].forEach(function(e){y.prototype[e]=function(t,n){const s=this._getPopover();this._getMenuWrapper()._processStyleClasses(t,e);o.prototype[e].apply(this,arguments);if(e!=="toggleStyleClass"&&s){s[e].apply(s,arguments)}return this}});y.prototype.getSelectedItems=function(){return this._getItems().filter(e=>e.getSelected&&e.getSelected()&&e._getItemSelectionMode()!==_.None)};y.prototype._collectSubmenusToClose=function(e){const t=e.getParameter("item");this._refreshSubmenusToClose();if(this._aSubmenusToClose.indexOf(t)===-1){this._aSubmenusToClose.push(t)}};y.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnEnhanceUnifiedMenuAccState=e};y.prototype._menuClosed=function(e){const t=e&&e.getParameter("openBy");this.fireClosed();if(t&&!this.bIgnoreOpenerFocus){try{t.focus()}catch(e){m.warning("Menu.close cannot restore the focus on opener "+t+", "+e)}}};y.prototype._isMenuItemGroup=function(e){return!!e.getItemSelectionMode};y.prototype._getItems=function(){const e=[];const t=o=>{o.forEach(o=>{if(!this._isMenuItemGroup(o)){e.push(o)}else{t(o.getItems())}})};t(this.getItems());return e};y.prototype._createMenuWrapper=function(e){const t=new u(this.getId()+"-menuWrapper",{isSubmenu:e});this.setAggregation("_menuWrapper",t,true);return t};y.prototype._createPopover=function(){let e=this._getPopover();if(e){return e}const t=l.system.phone?`${this.getId()}-title`:c.getStaticId("sap.m","MENU_POPOVER_ACCESSIBLE_NAME");const o=this._getMenuWrapper(),s=g.getRTL(),i=o.getIsSubmenu(),r=s?4:-4;e=new n(this.getId()+"-rp",{placement:this._getPopoverPlacement(),showHeader:false,showArrow:false,showCloseButton:false,verticalScrolling:true,horizontalScrolling:false,offsetX:i?r:1,offsetY:i?4:1,content:o,ariaLabelledBy:[t]});e.addStyleClass("sapMMenu");this.setAggregation("_popover",e,true);if(l.system.phone){e.setShowHeader(true);e.setEndButton(this._createCloseButton());e.setCustomHeader(this._createHeaderBar())}else if(i){e.getAggregation("_popup")._adaptPositionParams=function(){this._marginTop=0;this._marginLeft=0;this._marginRight=0;this._marginBottom=0;this._arrowOffset=0;this._offsets=["0 0","0 0","0 0","0 0"];this._myPositions=["begin bottom","begin top","begin top","end top"];this._atPositions=["begin top","end top","begin bottom","begin top"]}}e._oControl._getDocHeight=()=>window.innerHeight+window.scrollY;return e};y.prototype._createBackButton=function(){return new s(this.getId()+"-backbutton",{icon:"sap-icon://nav-back",press:e=>{this._getMenuWrapper().fireClosePopover()}})};y.prototype._createHeaderBar=function(){const e=this._getMenuWrapper(),t=new i({contentMiddle:new r(this.getId()+"-title",{text:e.getTitle()})}),o=this._getMenuWrapper().getIsSubmenu();if(o){t.addContentLeft(this._createBackButton())}return t};y.prototype._createCloseButton=function(){const e=p.getResourceBundleFor("sap.m");return new s({text:e.getText("MENU_CLOSE"),press:()=>{this._getMenuWrapper().fireClosePopover({bubbleToRoot:true})}})};y.prototype._getMenuWrapper=function(){const e=this._getPopover();return e?e.getContent()[0]:this.getAggregation("_menuWrapper")};y.prototype._getPopover=function(){return this.getAggregation("_popover")};y.prototype._getPopoverPlacement=function(){const e=this._getMenuWrapper().getIsSubmenu();if(e){const e=g.getRTL(),t=e?f.HorizontalPreferredLeft:f.HorizontalPreferredRight;return t}return f.VerticalPreferredBottom};y.prototype._setExtraContent=function(e){this._getPopover()._getPopup().setExtraContent([e])};function b(e){const t=e.getBinding("items");const o=e.getBindingInfo("items");const n=o.length;const s=o.startIndex;const i=t.getContexts(s,n)[0];C(e);e._oVirtualItem=e.createItem(i,o,"virtual");e.addAggregation("dependents",e._oVirtualItem,true)}function C(e){if(e._oVirtualItem){e._oVirtualItem.destroy();delete e._oVirtualItem}}return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuItem", ["sap/m/library","sap/ui/core/library","sap/ui/core/Element","sap/ui/core/Control","sap/m/ResponsivePopover","sap/m/Button","sap/m/Bar","sap/m/Title","sap/m/MenuWrapper","sap/ui/core/Lib","sap/m/MenuItemRenderer","sap/ui/Device","sap/ui/core/InvisibleText","sap/base/i18n/Localization","sap/ui/core/IconPool","sap/m/Image"],function(e,t,o,n,s,i,r,a,p,u,l,c,g,h,d,_){"use strict";const f=e.PlacementType;const m=t.ItemSelectionMode;var b=t.TextDirection;const y=n.extend("sap.m.MenuItem",{metadata:{interfaces:["sap.m.IMenuItem"],library:"sap.m",properties:{text:{type:"string",group:"Data",defaultValue:""},icon:{type:"string",group:"Appearance",defaultValue:null},enabled:{type:"boolean",group:"Misc",defaultValue:true},visible:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Behavior",defaultValue:false},shortcutText:{type:"string",group:"Appearance",defaultValue:""},startsSection:{type:"boolean",group:"Behavior",defaultValue:false},textDirection:{type:"sap.ui.core.TextDirection",group:"Misc",defaultValue:b.Inherit},key:{type:"string",group:"Data",defaultValue:null},_expanded:{type:"boolean",group:"Misc",visibility:"hidden",defaultValue:undefined}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.IMenuItem",multiple:true,singularName:"item",bindable:"bindable",forwarding:{idSuffix:"-menuWrapper",aggregation:"items"}},endContent:{type:"sap.ui.core.Control",multiple:true},_icon:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_menuWrapper:{type:"sap.m.MenuWrapper",multiple:false,visibility:"hidden"},_popover:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{_group:{type:"sap.m.MenuItemGroup",group:"Behavior",visibility:"hidden"}},events:{press:{}},renderer:l}});y.prototype.init=function(){const e=this._createMenuWrapper(true);this._itemSelectionMode=m.None;e.attachClosePopover(this._handleCloseRequest,this);this._openDuration=c.system.phone?null:0};y.prototype.exit=function(){const e=this._getMenuWrapper(),t=this._getPopover(),o=this.getAggregation("_icon");e.detachClosePopover(this._handleCloseRequest,this);e.destroy();if(t){t.detachAfterClose(this._afterPopoverClose,this);t.destroy()}if(o){o.destroy()}};y.prototype.onBeforeRendering=function(){let e=this._getPopover();if(this._hasSubmenu()&&!e){e=this._createPopover();e.attachAfterClose(this._afterPopoverClose,this);this._hasSubmenu()&&this.setProperty("_expanded",false)}};y.prototype.onfocusin=function(e){if(!this.isFocusable||!this.isFocusable()){e.preventDefault()}};y.prototype.setSelected=function(e){const t=o.getElementById(this.getAssociation("_group"));if(e&&t&&t.getItemSelectionMode()===m.SingleSelect){t._clearSelectedItems()}this.setProperty("selected",e);return this};y.prototype.isInteractive=function(){return true};y.prototype.isFocusable=function(){return true};y.prototype.isCountable=function(){return this.isFocusable()};y.prototype._getAccessibilityAttributes=function(){const e=this._oAccInfo||{bAccessible:false};if(!e.bAccessible){return{}}const o=this._hasSubmenu(),n=this._getMenuWrapper(),s=this.getSelected()&&this._getItemSelectionMode()!==m.None,i=!o?this.getShortcutText():null;return{role:this._getRole(),disabled:!this.getEnabled(),posinset:e["posinset"]||null,setsize:e["setsize"]||null,selected:null,checked:s||null,keyshortcuts:i||null,labelledby:{value:`${this.getId()}-txt`,append:true},haspopup:o?t.aria.HasPopup.Menu.toLowerCase():null,owns:o?n.getId():null,expanded:this.getProperty("_expanded")}};y.prototype._getRole=function(){let e;switch(this._getItemSelectionMode()){case m.SingleSelect:e="menuitemradio";break;case m.MultiSelect:e="menuitemcheckbox";break;default:e="menuitem"}return e};y.prototype._handleCloseRequest=function(e){if(!e.getParameter("bubbleToRoot")){this._closeSubmenu();e.cancelBubble()}else{this._getMenuWrapper().fireCloseItemSubmenu({item:this})}};y.prototype._closeSubmenu=function(){const e=this._getVisibleItems(),t=this._getPopover();e.forEach(e=>{if(e._hasSubmenu&&e._hasSubmenu()){e._closeSubmenu()}});if(t){t.removeStyleClass(this._getMenuWrapper()._aStyleClasses.join(" "));t._getPopup().setDurations(this._openDuration,0);t.close()}this.setProperty("_expanded",false);this.removeStyleClass("sapMMenuItemSubMenuOpen");this._getMenuWrapper().oOpenedSubmenuParent=null};y.prototype._openSubmenu=function(){if(!this.getEnabled()||!this._hasSubmenu()){return}const e=this._getMenuWrapper(),t=this._getPopover();if(t.isOpen()){return}t.addStyleClass(e._aStyleClasses.join(" "));this.setProperty("_expanded",true);if(c.system.phone){e.setTitle(this.getText());t.getCustomHeader().getContentMiddle()[0].setText(this.getText())}else{this.addStyleClass("sapMMenuItemSubMenuOpen")}t._getPopup().setDurations(this._openDuration,0);t.openBy(this)};y.prototype._getBackButtonTooltipForPageWithParent=function(){return u.getResourceBundleFor("sap.m").getText("MENU_PAGE_BACK_BUTTON")+" "+this.getText()};y.prototype._afterPopoverClose=function(){this.removeStyleClass("sapMMenuItemSubMenuOpen")};y.prototype._getItems=function(){const e=[];const t=o=>{o.forEach(o=>{if(!o.getItemSelectionMode){e.push(o)}else{t(o.getItems())}})};t(this.getItems());return e};y.prototype._getVisibleItems=function(){return this._getItems().filter(e=>e.getVisible())};y.prototype._getIcon=function(){const e=this.getIcon();let t=this.getAggregation("_icon");if(t){t.destroy()}if(!e){return null}t=d.createControlByURI({src:e,useIconTooltip:false},_);this.setAggregation("_icon",t,true);return t};y.prototype._getItemSelectionMode=function(){return this._itemSelectionMode};y.prototype._hasSubmenu=function(){return this._getVisibleItems().length>0};y.prototype._createMenuWrapper=function(e){const t=new p(this.getId()+"-menuWrapper",{isSubmenu:e});this.setAggregation("_menuWrapper",t,true);return t};y.prototype._createPopover=function(){let e=this._getPopover();if(e){return e}const t=c.system.phone?`${this.getId()}-title`:g.getStaticId("sap.m","MENU_POPOVER_ACCESSIBLE_NAME");const o=this._getMenuWrapper(),n=h.getRTL(),i=o.getIsSubmenu(),r=n?4:-4;e=new s(this.getId()+"-rp",{placement:this._getPopoverPlacement(),showHeader:false,showArrow:false,showCloseButton:false,verticalScrolling:true,horizontalScrolling:false,offsetX:i?r:0,offsetY:i?4:0,content:o,ariaLabelledBy:[t]});e.addStyleClass("sapMMenu");this.setAggregation("_popover",e,true);if(c.system.phone){e.setShowHeader(true);e.setEndButton(this._createCloseButton());e.setCustomHeader(this._createHeaderBar())}else if(i){e.getAggregation("_popup")._adaptPositionParams=function(){this._marginTop=0;this._marginLeft=0;this._marginRight=0;this._marginBottom=0;this._arrowOffset=0;this._offsets=["0 0","0 0","0 0","0 0"];this._myPositions=["begin bottom","begin top","begin top","end top"];this._atPositions=["begin top","end top","begin bottom","begin top"]}}e._oControl._getDocHeight=()=>window.innerHeight+window.scrollY;return e};y.prototype._createBackButton=function(){return new i(this.getId()+"-backbutton",{icon:"sap-icon://nav-back",tooltip:this._getBackButtonTooltipForPageWithParent(),press:e=>{this._getMenuWrapper().fireClosePopover()}})};y.prototype._createHeaderBar=function(){const e=this._getMenuWrapper(),t=new r({contentMiddle:new a(this.getId()+"-title",{text:e.getTitle()})}),o=this._getMenuWrapper().getIsSubmenu();if(o){t.addContentLeft(this._createBackButton())}return t};y.prototype._createCloseButton=function(){const e=u.getResourceBundleFor("sap.m");return new i({text:e.getText("MENU_CLOSE"),press:()=>{this._getMenuWrapper().fireClosePopover({bubbleToRoot:true})}})};y.prototype._getMenuWrapper=function(){const e=this._getPopover();return e?e.getContent()[0]:this.getAggregation("_menuWrapper")};y.prototype._getPopover=function(){return this.getAggregation("_popover")};y.prototype._getPopoverPlacement=function(){const e=this._getMenuWrapper().getIsSubmenu();if(e){const e=h.getRTL(),t=e?f.HorizontalPreferredLeft:f.HorizontalPreferredRight;return t}return f.VerticalPreferredBottom};y.prototype._setExtraContent=function(e){this._getPopover()._getPopup().setExtraContent([e])};return y});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuItemRenderer", ["sap/ui/core/library"],function(e){"use strict";const t=e.ItemSelectionMode;const n={apiVersion:2};n.render=function(e,t){const n=!!t._getVisibleItems().length;e.openStart("li",t);this.renderAttributes(e,t);this.renderStyleClasses(e,t);this.renderInlineStyles(e,t);this.setAccessibilityAttributes(e,t);e.openEnd();this.renderIcon(e,t);this.renderText(e,t);if(n){this.renderSubmenuArrow(e,t)}else{this.renderShortcut(e,t);this.renderEndContent(e,t);this.renderSelectionMark(e,t)}e.close("li")};n.renderAttributes=function(e,t){if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getVisible()&&t.isFocusable&&t.isFocusable()){e.attr("tabindex","0")}};n.renderStyleClasses=function(e,t){const n=t.getEnabled();e.class("sapMMenuItem");if(!n){e.class("sapMMenuItemDisabled")}};n.renderInlineStyles=function(e,t){};n.setAccessibilityAttributes=function(e,t){e.accessibilityState(t._getAccessibilityAttributes())};n.renderIcon=function(e,t){e.openStart("div");e.class("sapMMenuItemIcon");e.openEnd();if(t.getIcon()){const n=t._getIcon();e.renderControl(n)}e.close("div")};n.renderText=function(e,t){e.openStart("div",`${t.getId()}-txt`);e.class("sapMMenuItemText");e.openEnd();e.text(t.getText());e.close("div")};n.renderShortcut=function(e,t){const n=t.getShortcutText();if(n){e.openStart("div",`${t.getId()}-scuttxt`);e.class("sapMMenuItemShortcut");e.openEnd();e.text(n);e.close("div")}};n.renderSubmenuArrow=function(e,t){e.openStart("div");e.class("sapMMenuItemSubMenu");e.openEnd();e.openStart("div");e.class("sapUiIconMirrorInRTL");e.openEnd();e.close("div");e.close("div")};n.renderEndContent=function(e,t){const n=t.getEndContent();if(n.length){e.openStart("div",`${t.getId()}-endContent`);e.class("sapMMenuEndContent");e.openEnd();n.forEach(t=>e.renderControl(t));e.close("div")}};n.renderSelectionMark=function(e,n){if(n.getSelected()&&n._getItemSelectionMode()!==t.None){e.openStart("div",`${n.getId()}-sel`);e.class("sapMMenuItemSelected");e.openEnd();e.close("div")}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuWrapper", ["sap/ui/core/library","sap/ui/core/Control","sap/m/MenuWrapperRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/Device","sap/ui/core/Lib","sap/base/i18n/Localization","sap/ui/events/PseudoEvents"],function(e,t,s,o,n,i,r,u,l){"use strict";const a=e.ItemSelectionMode;const p=300;const c=t.extend("sap.m.MenuWrapper",{metadata:{library:"sap.m",properties:{title:{type:"string",defaultValue:""},isSubmenu:{type:"boolean",defaultValue:false}},aggregations:{items:{type:"sap.m.IMenuItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{itemSelected:{enableEventBubbling:true,parameters:{item:{type:"sap.m.IMenuItem"}}},closePopover:{enableEventBubbling:true,parameters:{bubbleToRoot:{type:"boolean"},origin:{type:"sap.m.IMenuItem"}}},closeItemSubmenu:{enableEventBubbling:true,parameters:{item:{type:"sap.m.IMenuItem"}}}},renderer:s}});c.prototype.init=function(){this._aStyleClasses=[];this._oRb=r.getResourceBundleFor("sap.m")};c.prototype.onBeforeRendering=function(){const e=this.getItems().filter(function(e){return e.isA("sap.m.MenuItemGroup")});e.forEach(function(e){const t=e.getItems();t.forEach(function(t){t.setAssociation("_group",e);t._itemSelectionMode=e.getItemSelectionMode()});if(e.getItemSelectionMode()===a.SingleSelect){e._ensureSingleSelection()}})};c.prototype.onAfterRendering=function(){if(document.body.classList.contains("sapUiSizeCompact")||this.hasStyleClass("sapUiSizeCompact")||this.getDomRef()?.closest(".sapUiSizeCompact")){this.addStyleClass("sapUiSizeCompact")}};c.prototype.onmouseover=function(e){const t=this.getItemByDomRef(e.target);if(!t){return}if(t!==this.oHoveredItem){this._setHoveredItem(t)}this._handleSubmenusAppearance(t,false)};c.prototype.onclick=function(e){const t=this.getItemByDomRef(e.target);if(!t){return}if(e.target.closest(`#${CSS.escape(t.getId())}-endContent`)){this.fireClosePopover({bubbleToRoot:true});return}this._bPreventPopoverClose=this._isShiftKeyPressed(e);this._selectItem(t,true);e.preventDefault();e.stopPropagation()};c.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};c.prototype.onsapselectmodifiers=function(e){this._sapSelectOnKeyDown=true;this._bPreventPopoverClose=this._isShiftKeyPressed(e);e.preventDefault();e.stopPropagation()};c.prototype.onkeydown=function(e){const t=this.oHoveredItem?this._getVisibleItems().indexOf(this.oHoveredItem):-1,s=u.getRTL(),o=s?n.ARROW_RIGHT:n.ARROW_LEFT,i=s?n.ARROW_LEFT:n.ARROW_RIGHT;let r=true;if(t===-1){return}if(e.keyCode===n.ARROW_DOWN){this._setHoveredItem(this._getNextFocusableItem(t,1),true)}else if(e.keyCode===n.ARROW_UP){this._setHoveredItem(this._getPrevFocusableItem(t,1),true)}else if(e.keyCode===o){const t=this.oHoveredItem?this.oHoveredItem.getEndContent():[];if(t.length){this._handleEndContentNavigation(e,t)}else if(this.getIsSubmenu()){this.fireClosePopover()}}else if(e.keyCode===i){const t=this.oHoveredItem?this.oHoveredItem.getEndContent():[];if(this.oHoveredItem&&this.oHoveredItem._hasSubmenu()){this._handleSubmenusAppearance(this.oHoveredItem,true)}else if(t.length){this._handleEndContentNavigation(e,t)}}else if(e.keyCode===n.ESCAPE){this.fireClosePopover()}else if(e.keyCode===n.HOME){this._setHoveredItem(this._getNextFocusableItem(-1,1),true)}else if(e.keyCode===n.END){this._setHoveredItem(this._getPrevFocusableItem(this._getItems().length,1),true)}else if(e.keyCode===n.PAGE_UP){this._setHoveredItem(this._getPrevFocusableItem(t,this._getPageSize()),true)}else if(e.keyCode===n.PAGE_DOWN){this._setHoveredItem(this._getNextFocusableItem(t,this._getPageSize()),true)}else if(e.keyCode===n.TAB){if(this.getIsSubmenu()){e.preventDefault()}this.fireClosePopover()}else if(e.keyCode===n.F6&&this.oFocusedEndContentItem){this.oHoveredItem.focus();this.oFocusedEndContentItem=null}else{r=false}if(r&&!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};c.prototype.onkeyup=function(e){if(!this._sapSelectOnKeyDown&&!this._bPreventPopoverClose){return}else{this._sapSelectOnKeyDown=false}if(!l.events.sapselect.fnCheck(e)&&e.keyCode!==n.ENTER&&!this._bPreventPopoverClose){return}this._selectItem(this.oHoveredItem,false,true);e.preventDefault();e.stopPropagation()};c.prototype.onsapbackspacemodifiers=c.prototype.onsapbackspace;c.prototype.onfocusin=function(e){const t=this.getItemByDomRef(e.target);if(t){this.oHoveredItem=t}};c.prototype.getItemByDomRef=function(e){const t=this._getItems();for(let s=0;s<t.length;s++){const n=t[s],i=n.getDomRef();if(o(i,e)){return n}}return null};c.prototype._isShiftKeyPressed=function(e){return e.shiftKey&&!e.metaKey&&!e.altKey&&!e.ctrlKey};c.prototype._processStyleClasses=function(e,t){if(t==="setStyleClass"){this._aStyleClasses=[];t="addStyleClass"}if(e===""){return}const s=e.split(/\s+/).filter(Boolean);const o=this._aStyleClasses.join(" ");s.forEach(e=>{const s=this._aStyleClasses.indexOf(e);const o=(t==="addStyleClass"||t==="toggleStyleClass")&&s===-1;const n=(t==="removeStyleClass"||t==="toggleStyleClass")&&s!==-1;if(o){this._aStyleClasses.push(e)}else if(n){this._aStyleClasses.splice(s,1)}});if(this.oOpenedSubmenuParent){const e=this._aStyleClasses.join(" ");const t=this.oOpenedSubmenuParent._getPopover();this.oOpenedSubmenuParent._getMenuWrapper()._processStyleClasses(o,"removeStyleClass");this.oOpenedSubmenuParent._getMenuWrapper()._processStyleClasses(this._aStyleClasses.join(" "),"addStyleClass");if(t){t.removeStyleClass(o);t.addStyleClass(e)}}};c.prototype._selectItem=function(e,t,s){if(this.oFocusedEndContentItem){this.fireClosePopover({bubbleToRoot:true});return}if(!e||!e.getEnabled()){return}if(e._hasSubmenu()){this._handleSubmenusAppearance(e,!t)}else if(e.isInteractive&&e.isInteractive()){if(e._getItemSelectionMode&&e._getItemSelectionMode()!==a.None){e.setSelected(!e.getSelected())}else{this._bPreventPopoverClose=false}this.fireItemSelected({item:e});e.firePress({item:e});if(!this._bPreventPopoverClose){this.fireClosePopover({bubbleToRoot:true,origin:e})}this._bPreventPopoverClose=false}};c.prototype._handleEndContentNavigation=function(e,t){const s=this.oFocusedEndContentItem?t.indexOf(this.oFocusedEndContentItem):-1,o=u.getRTL(),i=o?n.ARROW_LEFT:n.ARROW_RIGHT;let r;if(e.keyCode===i){r=s+1>=t.length?t.length-1:s+1}else{r=s-1<0?0:s-1}const l=t[r];if(!l){this.oFocusedEndContentItem=null;return}if(l&&l!==this.oFocusedEndContentItem&&l.isFocusable()){this.oFocusedEndContentItem=l;l.focus()}};c.prototype._handleSubmenusAppearance=function(e,t,s){if(this.oOpenedSubmenuParent&&this.oOpenedSubmenuParent._hasSubmenu()&&!this.oOpenedSubmenuParent._getPopover().isOpen()){this.oOpenedSubmenuParent.removeStyleClass("sapMMenuItemSubMenuOpen");this.oOpenedSubmenuParent=null}if(!t&&!i.system.phone&&e===this.oOpenedSubmenuParent){return}const o=e._hasSubmenu();this._closeOpenedSubmenu();this._discardOpenSubmenuDelayed();if(!o||!e.getEnabled()){return}if(s){this._openSubmenuDelayed(e,t)}else{this._openSubmenu(e,t)}};c.prototype._getItems=function(){const e=[];const t=s=>{s.forEach(s=>{if(!this._isMenuItemGroup(s)){e.push(s)}else{t(s.getItems())}})};t(this.getItems());return e};c.prototype._getVisibleItems=function(){return this._getItems().filter(e=>e.getVisible())};c.prototype._getPrevFocusableItem=function(e,t){const s=this._getVisibleItems();let o=e,n=e;if(!s.length){return undefined}while(n>0&&t>0){n--;if(s[n].isFocusable&&s[n].isFocusable()){t--;o=n}}return o!==e?s[o]:undefined};c.prototype._getNextFocusableItem=function(e,t){const s=this._getVisibleItems();let o=e,n=e;if(!s.length){return undefined}while(n<s.length-1&&t>0){n++;if(s[n].isFocusable&&s[n].isFocusable()){t--;o=n}}return o!==e?s[o]:undefined};c.prototype._setHoveredItem=function(e,t){if(!e||e===this.oHoveredItem){return}if(e){t&&this._closeOpenedSubmenu();this.oHoveredItem=e;e.focus();this.oFocusedEndContentItem=null}};c.prototype._isMenuItemGroup=function(e){return!!e.getItemSelectionMode};c.prototype._getPageSize=function(){return 5};c.prototype._closeOpenedSubmenu=function(e){if(this.oOpenedSubmenuParent){const t=this.oOpenedSubmenuParent._getPopover(),s=this.getItems().includes(this.oOpenedSubmenuParent)?this.oOpenedSubmenuParent._getMenuWrapper():null;if(t&&t._oControl){t._oControl._oPreviousFocus=undefined}this.oOpenedSubmenuParent=null;if(!s){return}if(e){setTimeout(()=>{s.fireClosePopover()},p)}else{s.fireClosePopover()}}};c.prototype._openSubmenu=function(e,t){if(!e){return}const s=e._getPopover();e._getMenuWrapper()._processStyleClasses(this._aStyleClasses.join(" "),"setStyleClass");s.setInitialFocus(t?null:e);e._openSubmenu();e._setExtraContent(this.getDomRef());this.oOpenedSubmenuParent=e;e.oParentWrapper=this};c.prototype._openSubmenuDelayed=function(e,t){this._delayedSubmenuTimer=setTimeout(()=>this._openSubmenu(e,t),p)};c.prototype._discardOpenSubmenuDelayed=function(){if(this._delayedSubmenuTimer){clearTimeout(this._delayedSubmenuTimer);this._delayedSubmenuTimer=null}};c.prototype._getItemsWithIconCount=function(){return this._getVisibleItems().filter(e=>e.getIcon&&e.getIcon()).length};c.prototype._getAccessibilityEnabled=function(){};c.prototype._prepareItemsAccessibilityInfo=function(){const e=this._getVisibleItems(),t=e.filter(e=>e.isCountable&&e.isCountable()).length;let s=1;e.forEach(e=>{const o={bAccessible:true};if(e.isCountable&&e.isCountable()){o["posinset"]=s;o["setsize"]=t;s++}e._oAccInfo=o})};return c});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuWrapperRenderer", ["sap/ui/core/library","sap/ui/core/ControlBehavior"],function(e,t){"use strict";const r={apiVersion:2};const i=e.ItemSelectionMode;r.render=function(e,r){const i=r._getVisibleItems(),s=t.isAccessibilityEnabled();if(i.length){e.openStart("ul",r);if(s){e.attr("role","menu");r._prepareItemsAccessibilityInfo()}e.class("sapMMenuList");if(!r._getItemsWithIconCount()){e.class("sapMMenuNoIcons")}e.openEnd();this.renderItems(e,r);e.close("ul")}};r.renderItems=function(e,t){const r=t._getVisibleItems();let s=null,o=null,n=false,a=false,l;r.forEach((r,c)=>{o=r.getAssociation("_group");if(n&&s!==o){e.close("div");n=false;this.renderSeparator(e);a=true}if((s!==o||r.getStartsSection())&&!a&&c!==0){this.renderSeparator(e)}if(o&&!n){switch(r._itemSelectionMode){case i.None:l=t._oRb.getText("MENU_ITEM_GROUP_NONE_ACCESSIBLE_NAME");break;case i.SingleSelect:l=t._oRb.getText("MENU_ITEM_GROUP_SINGLE_ACCESSIBLE_NAME");break;case i.MultiSelect:l=t._oRb.getText("MENU_ITEM_GROUP_MULTI_ACCESSIBLE_NAME");break;default:l=""}e.openStart("div");e.attr("role","group");l&&e.attr("aria-label",l);e.openEnd();n=true}s=o;a=false;e.renderControl(r)});if(n){e.close("div")}};r.renderSeparator=function(e){const r=t.isAccessibilityEnabled();e.openStart("li");e.class("sapMMenuSeparator");if(r){e.attr("role","separator")}e.openEnd();e.voidStart("hr").voidEnd();e.close("li")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MessageBox", ["./Button","./Dialog","./Text","./FormattedText","./Link","./MessageStrip","./VBox","sap/ui/core/IconPool","sap/ui/core/ElementMetadata","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/message/MessageType","sap/ui/core/Control","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,i,n,s,o,a,l,r,c,u,d,f,g,jQuery){"use strict";var O=g.DialogType;var p=g.DialogRoleType;var I=g.ButtonType;var T=g.TitleAlignment;var R=g.FlexRendertype;var S=g.FlexAlignItems;var E=g.LinkAccessibleRole;var y=u.TextDirection;var x={};x.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};x.Icon={NONE:"NONE",INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};var A=x.Action,N=x.Icon;function C(){if(x._rb!==c.getResourceBundleFor("sap.m")){x._rb=c.getResourceBundleFor("sap.m")}}function M(e){if(typeof e==="object"){return"<pre>"+JSON.stringify(e,null,"\t").replace(/{/gi,"&#x007B;")+"</pre>"}return e}function h(e,t,i,l){var r,c,u,f,g=false,O=new a({renderType:R.Bare,alignItems:S.Start,items:[t]});if(!e.details){return O}function p(e){r.setHtmlText(M(e));var t=i.getInitialFocus();i.addAriaLabelledBy(r);r.setVisible(true);c.setVisible(false);i._setInitialFocus();if(!t||t===c.getId()){l.focus()}}function I(){c.setBusyIndicatorDelay(0).setBusy(true);c.getDomRef("busyIndicator").focus();e.details().then(function(e){if(i.isDestroyed()){return}p(e)}).catch(function(){if(i.isDestroyed()){return}if(document.activeElement===c.getDomRef("busyIndicator")){g=true}c.setVisible(false);u.setVisible(true)})}r=new n({visible:false});c=new s({accessibleRole:E.Button,text:x._rb.getText("MSGBOX_LINK_TITLE"),press:function(){if(typeof e.details==="function"){I()}else{p(e.details)}}});f=new s({text:x._rb.getText("MSGBOX_DETAILS_RETRY_LOADING"),accessibleRole:E.Button,press:function(){c.setVisible(true);u.setVisible(false);var e={onAfterRendering:function(){c.removeEventDelegate(e);I()}};c.addEventDelegate(e)}});f.addEventDelegate({onAfterRendering:function(){if(g){f.focus()}g=false}});u=new o({text:x._rb.getText("MSGBOX_DETAILS_LOAD_ERROR"),type:d.Error,visible:false,link:f});c.addStyleClass("sapMMessageBoxLinkText");u.addStyleClass("sapMMessageBoxErrorText");r.addStyleClass("sapMMessageBoxDetails");O.addItem(c);O.addItem(u);O.addItem(r);return O}x.show=function(n,s){var o,a,c,u=null,d=[],g,R,S,E,M,b,m,B={id:r.uid("mbox"),initialFocus:null,textDirection:y.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null},v={INFORMATION:"sapMMessageBoxInfo",WARNING:"sapMMessageBoxWarning",ERROR:"sapMMessageBoxError",SUCCESS:"sapMMessageBoxSuccess",QUESTION:"sapMMessageBoxQuestion",STANDARD:"sapMMessageBoxStandard"},_={INFORMATION:l.getIconURI("information"),WARNING:l.getIconURI("alert"),ERROR:l.getIconURI("error"),SUCCESS:l.getIconURI("sys-enter-2"),QUESTION:l.getIconURI("sys-help-2")};C();if(typeof s==="string"||arguments.length>2){R=arguments[1];S=arguments[2];E=arguments[3];M=arguments[4];b=arguments[5];m=arguments[6];s={icon:R,title:S,actions:E,onClose:M,id:b,styleClass:m}}if(s&&s.hasOwnProperty("details")){B.icon=N.INFORMATION;B.emphasizedAction=A.OK;B.actions=[A.OK,A.CANCEL];s=jQuery.extend({},B,s)}s=jQuery.extend({},B,s);if(typeof s.actions!=="undefined"&&!Array.isArray(s.actions)){if(s.emphasizedAction!==null){s.emphasizedAction=s.actions}s.actions=[s.actions]}if(!s.actions||s.actions.length===0){s.emphasizedAction=A.OK;s.actions=[A.OK]}function L(t,i){var n;if(x.Action.hasOwnProperty(t)){n=x._rb.getText("MSGBOX_"+t)}var s=new e({id:r.uid("mbox-btn-"),text:n||t,type:i,press:function(){u=t;o.close()}});return s}var F;for(g=0;g<s.actions.length;g++){F=s.emphasizedAction===s.actions[g]?I.Emphasized:I.Default;d.push(L(s.actions[g],F))}function D(){if(typeof s.onClose==="function"){s.onClose(u)}o.detachAfterClose(D);o.destroy()}function w(){var e=0;var t=null;if(s.initialFocus){if(s.initialFocus instanceof f){t=s.initialFocus}if(typeof s.initialFocus==="string"){for(e=0;e<d.length;e++){if(x.Action.hasOwnProperty(s.initialFocus)){if(x._rb.getText("MSGBOX_"+s.initialFocus).toLowerCase()===d[e].getText().toLowerCase()){t=d[e];break}}else{if(s.initialFocus.toLowerCase()===d[e].getText().toLowerCase()){t=d[e];break}}}}}return t}if(typeof n==="string"){c=new i({textDirection:s.textDirection}).setText(n).addStyleClass("sapMMsgBoxText");a=c}else if(n instanceof f){c=n.addStyleClass("sapMMsgBoxText")}o=new t({id:s.id,type:O.Message,title:s.title,titleAlignment:T.Auto,icon:_[s.icon],initialFocus:w(),verticalScrolling:s.verticalScrolling,horizontalScrolling:s.horizontalScrolling,afterClose:D,buttons:d,ariaLabelledBy:a?a.getId():undefined,contentWidth:s.contentWidth,closeOnNavigation:s.closeOnNavigation}).addStyleClass("sapMMessageBox");if(s.hasOwnProperty("details")&&s.details!==""){c=h(s,c,o,d[0])}o.addContent(c);o.setProperty("role",p.AlertDialog);if(v[s.icon]){o.addStyleClass(v[s.icon])}else{o.addStyleClass(v.STANDARD)}if(s.styleClass){o.addStyleClass(s.styleClass)}if(s.dependentOn){s.dependentOn.addDependent(o)}o.open()};x.alert=function(e,t){C();var i={icon:N.NONE,title:x._rb.getText("MSGBOX_TITLE_ALERT"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("alert"),initialFocus:null},n,s,o,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];s=arguments[2];o=arguments[3];a=arguments[4];t={onClose:n,title:s,id:o,styleClass:a}}t=jQuery.extend({},i,t);x.show(e,t)};x.confirm=function(e,t){C();var i={icon:N.QUESTION,title:x._rb.getText("MSGBOX_TITLE_CONFIRM"),emphasizedAction:t&&t.actions?null:A.OK,actions:[A.OK,A.CANCEL],id:r.uid("confirm"),initialFocus:null},n,s,o,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];s=arguments[2];o=arguments[3];a=arguments[4];t={onClose:n,title:s,id:o,styleClass:a}}t=jQuery.extend({},i,t);x.show(e,t)};x.error=function(e,t){C();var i={icon:N.ERROR,title:x._rb.getText("MSGBOX_TITLE_ERROR"),emphasizedAction:null,actions:A.CLOSE,id:r.uid("error"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.information=function(e,t){C();var i={icon:N.INFORMATION,title:x._rb.getText("MSGBOX_TITLE_INFO"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("info"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.warning=function(e,t){C();var i={icon:N.WARNING,title:x._rb.getText("MSGBOX_TITLE_WARNING"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("warning"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};x.success=function(e,t){C();var i={icon:N.SUCCESS,title:x._rb.getText("MSGBOX_TITLE_SUCCESS"),emphasizedAction:t&&t.actions?null:A.OK,actions:A.OK,id:r.uid("success"),initialFocus:null};t=jQuery.extend({},i,t);x.show(e,t)};return x},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MessageToast", ["./InstanceManager","sap/ui/base/DataType","sap/ui/core/AnimationMode","sap/ui/core/ControlBehavior","sap/ui/core/Popup","sap/ui/core/library","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/UIArea","sap/ui/Device","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,o,i,n,s,a,r,u,l,f,jQuery){"use strict";var d=t.getType("sap.ui.core.Popup.Dock");var c=s.CSSSize;var p={};var m="0 -64",v="sapMMessageToast",_="sapUiSelectable",y="sapContrast",g="sapContrastPlus";p._mSettings={duration:3e3,width:"15em",my:"CenterBottom",at:"CenterBottom",of:document.defaultView,offset:"0 0",collision:"fit fit",onClose:null,animationTimingFunction:"ease",animationDuration:1e3,autoClose:true,closeOnBrowserNavigation:true};p._aPopups=[];p._iOpenedPopups=0;p._bBoundedEvents=false;p._mOptions={};p._sMessage="";p._validateSettings=function(e){p._isFiniteInteger(e.duration);p._validateWidth(e.width);p._validateDockPosition(e.my);p._validateDockPosition(e.at);p._validateOf(e.of);p._validateOffset(e.offset);p._validateCollision(e.collision);p._validateOnClose(e.onClose);p._validateAutoClose(e.autoClose);p._validateAnimationTimingFunction(e.animationTimingFunction);p._isFiniteInteger(e.animationDuration)};p._isFiniteInteger=function(e){if(typeof e!=="number"||!isFinite(e)||!(Math.floor(e)===e)||e<=0){f.error('"iNumber" needs to be a finite positive nonzero integer on '+p+"._isFiniteInteger")}};p._validateWidth=function(e){if(!c.isValid(e)){f.error(e+" is not of type "+'"sap.ui.core.CSSSize" for property "width" on '+p+"._validateWidth")}};p._validateDockPosition=function(e){if(!d.isValid(e)){f.error('"'+e+'"'+" is not of type "+'"sap.ui.core.Popup.Dock" on '+p+"._validateDockPosition")}};p._validateOf=function(e){if(!(e instanceof jQuery)&&!(e&&e.nodeType===1)&&!(e instanceof a)&&e!==window){f.error('"of" needs to be an instance of sap.ui.core.Control or an Element or a jQuery object or the window on '+p+"._validateOf")}};p._validateOffset=function(e){if(typeof e!=="string"){f.error(e+" is of type "+typeof e+', expected "string" for property "offset" on '+p+"._validateOffset")}};p._validateCollision=function(e){var t=/^(fit|flip|none|flipfit|flipflip|flip flip|flip fit|fitflip|fitfit|fit fit|fit flip)$/i;if(!t.test(e)){f.error('"collision" needs to be a single value fit, flip, or none, or a pair for horizontal and vertical e.g. "fit flip, "fit none", "flipfit" on '+p+"._validateOffset")}};p._validateOnClose=function(e){if(typeof e!=="function"&&e!==null){f.error('"onClose" should be a function or null on '+p+"._validateOnClose")}};p._validateAutoClose=function(e){if(typeof e!=="boolean"){f.error('"autoClose" should be a boolean on '+p+"._validateAutoClose")}};p._validateAnimationTimingFunction=function(e){var t=/^(ease|linear|ease-in|ease-out|ease-in-out)$/i;if(!t.test(e)){f.error('"animationTimingFunction" should be a string, expected values: '+"ease, linear, ease-in, ease-out, ease-in-out on "+p+"._validateAnimationTimingFunction")}};function h(e){for(var t=["my","at","of","offset"],o=0;o<t.length;o++){if(e[t[o]]!==undefined){return false}}return true}function C(e){var t=document.createElement("div");t.className=v+" "+_+" "+y+" "+g;if(i.isAccessibilityEnabled()){t.setAttribute("role","alert")}t.style.width=e.width;t.appendChild(document.createTextNode(e.message));return t}function b(e){if(e){if(h(e)){e.offset=m}if(e.of&&e.of.nodeType===9){e.of=document.defaultView}}else{e={offset:m}}return e}p._handleResizeEvent=function(){if(l.system.phone||l.system.tablet){p._resetPosition(p._aPopups)}setTimeout(p["_applyPositions"].bind(p,p._aPopups),0)};p._handleMouseDownEvent=function(e){var t=e.target.hasAttribute("class")&&e.target.getAttribute("class").indexOf(v)!==-1;if(t||e.isMarked("delayedMouseEvent")){return}p._aPopups.forEach(function(e){e&&e.__bAutoClose&&e.close()})};p._resetPosition=function(e){for(var t=0,o;t<e.length;t++){o=e[t]&&e[t].getContent();if(o){o.style.visibility="hidden";o.style.left=0}}};p._applyPositions=function(e){for(var t=0,o,i;t<e.length;t++){o=e[t];if(o){i=o._oPosition;if(l.system.phone||l.system.tablet){setTimeout(p["_applyPosition"].bind(p,o,i),0)}else{o.setPosition(i.my,i.at,i.of,i.offset)}}}};p._applyPosition=function(e,t){t=t||e._oPosition;var o=e.getContent();e.setPosition(t.my,t.at,t.of,t.offset);o.style.visibility="visible"};p._setCloseAnimation=function(e,t,n,s){var a="opacity "+s.animationTimingFunction+" "+s.animationDuration+"ms",r="webkitTransitionEnd."+v+" transitionend."+v,u=i.getAnimationMode(),l=u!==o.none&&u!==o.minimal;if(l&&s.animationDuration>0){e[0].style.webkitTransition=a;e[0].style.transition=a;e[0].style.opacity=0;e.on(r,function t(){e.off(r);n()})}else{n()}};p._fnKeyDown=function(e){var t;var o=this._aPopups[0];var i=e.shiftKey;var n=l.os.macintosh?e.metaKey:e.ctrlKey;if(o&&o.isOpen()&&i&&n&&e.code==="KeyM"){e.preventDefault();t=document.querySelector(".sapMMessageToastHiddenFocusable");o.getContent().classList.add("sapMFocus");t.focus();clearTimeout(this._iCloseTimeoutId)}};function P(e){var t=e.shiftKey;var o=l.os.macintosh?e.metaKey:e.ctrlKey;var i=this._aPopups[0];if(e.code==="Escape"||t&&o&&e.code==="KeyM"){e.preventDefault();setTimeout(function(){this._mSettings.opener&&this._mSettings.opener.focus()}.bind(this),0);i.close()}}p.show=function(t,o){if(/sap-ui-xx-no-toasts=true/.test(document.location.search)){return}var i=r.closestTo(document.activeElement);var s=i&&i.getUIArea&&i.getUIArea();var a;var u=p,f=jQuery.extend({},p._mSettings,{message:t}),d=new n,c,m,_="mousedown."+v+" touchstart."+v,y;p._mSettings.opener=i;if(!this._oRootNode||this._oRootNode&&s&&s.getRootNode()!==this._oRootNode){this._oRootNode=s?s.getRootNode():document.documentElement}o=b(o);jQuery.extend(f,o);p._validateSettings(f);m=C(f);c=p._aPopups.push(d)-1;d.setContent(m);d.setPosition(f.my,f.at,f.of,f.offset,f.collision);d.setAnimations(function e(t,o,i){i()},function e(t,o,i){u._setCloseAnimation(t,o,i,f)});d.setShadow(false);d.__bAutoClose=f.autoClose;if(f.closeOnBrowserNavigation){e.addPopoverInstance(d)}if(!p._bBoundedEvents){jQuery(window).on("resize."+v,p._handleResizeEvent.bind(p));jQuery(document).on(_,p._handleMouseDownEvent.bind(p));p._bBoundedEvents=true}a=document.createElement("span");a.setAttribute("tabIndex",0);a.setAttribute("class","sapMMessageToastHiddenFocusable");d.getContent().prepend(a);if(this._oRootNode){this._oRootNode.removeEventListener("keydown",u._fnKeyDown.bind(u));this._oRootNode.addEventListener("keydown",u._fnKeyDown.bind(u));a.addEventListener("keydown",P.bind(this))}d.open();p._iOpenedPopups++;function g(){e.removePopoverInstance(u._aPopups[c]);jQuery(u._aPopups[c].getContent()).remove();u._aPopups[c].detachClosed(g);u._aPopups[c].destroy();u._aPopups[c]=null;u._iOpenedPopups--;if(u._iOpenedPopups===0){u._aPopups=[];jQuery(window).off("resize."+v);jQuery(document).off(_);u._bBoundedEvents=false}if(typeof f.onClose==="function"){f.onClose.call(u)}}d.attachClosed(g);this._iCloseTimeoutId=setTimeout(d["close"].bind(d),f.duration);function h(){clearTimeout(u._iCloseTimeoutId);u._iCloseTimeoutId=null;function e(){y=setTimeout(d["close"].bind(d),f.duration);d.getContent().removeEventListener("mouseleave",e)}d.getContent().addEventListener("mouseleave",e);clearTimeout(y);y=null}d.getContent().addEventListener("touchstart",h);d.getContent().addEventListener("mouseover",h);if(l.system.desktop){d.getContent().addEventListener("mouseleave",function(){if(document.activeElement!==d.getContent()){this._iCloseTimeoutId=setTimeout(d["close"].bind(d),f.duration)}})}};p.toString=function(){return"sap.m.MessageToast"};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MultiComboBox", ["./InputBase","./ComboBoxBase","./Tokenizer","./Token","./Popover","./CheckBox","./Toolbar","./library","sap/ui/core/Element","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","sap/ui/core/Lib","sap/ui/core/library","sap/ui/Device","sap/ui/core/Item","sap/ui/core/ResizeHandler","./MultiComboBoxRenderer","sap/ui/dom/containsOrEquals","sap/m/inputUtils/completeTextSelected","sap/m/inputUtils/inputsDefaultFilter","sap/m/inputUtils/typeAhead","sap/m/inputUtils/ListHelpers","sap/m/inputUtils/filterItems","sap/m/inputUtils/itemsVisibilityHandler","sap/m/inputUtils/forwardItemPropertiesToToken","sap/m/inputUtils/getTokenByItem","sap/ui/events/KeyCodes","sap/base/util/deepEqual","sap/base/assert","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/cursorPos"],function(e,t,i,s,n,o,r,a,l,h,u,c,g,p,d,f,m,I,y,v,S,_,k,T,b,C,E,P,A,V,O,jQuery){"use strict";var D=a.ListMode;var x=g.ValueState;var F=g.OpenState;var L=a.TokenizerRenderMode;var R=t.extend("sap.m.MultiComboBox",{metadata:{library:"sap.m",designtime:"sap/m/designtime/MultiComboBox.designtime",properties:{selectedKeys:{type:"string[]",group:"Data",defaultValue:[]},hasSelection:{type:"boolean",visibility:"hidden",defaultValue:false},showSelectAll:{type:"boolean",defaultValue:false}},associations:{selectedItems:{type:"sap.ui.core.Item",multiple:true,singularName:"selectedItem"}},aggregations:{tokenizer:{type:"sap.m.Tokenizer",multiple:false,visibility:"hidden"}},events:{selectionChange:{parameters:{changedItem:{type:"sap.ui.core.Item"},changedItems:{type:"sap.ui.core.Item[]"},selected:{type:"boolean"},selectAll:{type:"boolean"}}},selectionFinish:{parameters:{selectedItems:{type:"sap.ui.core.Item[]"}}}},dnd:{draggable:false,droppable:true}},renderer:m});u.insertFontFaceStyle();h.apply(R.prototype,[true]);R.prototype.clone=function(e){var i=t.prototype.clone.apply(this,arguments),s=this._getList();if(s){i.syncPickerContent()}return i};R.prototype.open=function(){if(!this.isOpen()){this._bPickerIsOpening=true}this.syncPickerContent();return t.prototype.open.apply(this,arguments)};R.prototype.onsapend=function(e){if(e.isMarked("forwardFocusToParent")){this.focus()}};R.prototype.onsaphome=function(e){if(!this.getFocusDomRef().selectionStart&&this._hasTokens()){i.prototype.onsaphome.apply(this.getAggregation("tokenizer"),arguments)}e.setMarked()};R.prototype.onsapdown=function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();e.preventDefault();this.syncPickerContent();if(!this.isOpen()){this._oTraversalItem=this._getNextTraversalItem();if(this._oTraversalItem&&!this.isFocusInTokenizer()&&!this.isComposingCharacter()){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length)}return}setTimeout(this.handleDownEvent.bind(this,e),0)};R.prototype.onsapup=function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();e.preventDefault();this.syncPickerContent();if(this.isFocusInTokenizer()||this.isOpen()){return}this._oTraversalItem=this._getPreviousTraversalItem();if(this._oTraversalItem){this.updateDomValue(this._oTraversalItem.getText());this.selectText(0,this.getValue().length)}};R.prototype.handleDownEvent=function(e){if(!this.isOpen()){return}var t=e.srcControl,i=t&&t.getDomRef(),s=I(this.getDomRef(),i);e.setMarked();e.preventDefault();if(s&&this.getShowSelectAll()){this.focusSelectAll();return}this.focusFirstItemInList()};R.prototype.handleEndEvent=function(e){e.setMarked();e.preventDefault();var t=_.getVisibleItems(this.getItems()),i=t.length&&_.getListItem(t[t.length-1]);i&&i.focus()};R.prototype.handleHomeEvent=function(e){e.setMarked();e.preventDefault();if(this.getShowSelectAll()){this.focusSelectAll();e.stopPropagation(true);return}this.focusFirstItemInList()};R.prototype.focusFirstItemInList=function(){var e=_.getVisibleItems(this.getItems()),t=e.length&&_.getListItem(e[0]);t&&t.focus()};R.prototype.isFocusInTokenizer=function(){return jQuery.contains(this.getAggregation("tokenizer").getFocusDomRef(),document.activeElement)};R.prototype.onsapshow=function(e){e.preventDefault();this._handleItemToFocus();t.prototype.onsapshow.apply(this,arguments)};R.prototype._handlePopupOpenAndItemsLoad=function(){this._handleItemToFocus();t.prototype._handlePopupOpenAndItemsLoad.apply(this,arguments)};R.prototype._closePickerDelegate={onsaptabnext:function(){this.close();setTimeout(function(){this.closeValueStateMessage()}.bind(this),0)}};R.prototype._formattedTextLinksNav=function(){return{onsapup:this.focus,onsapdown:this.handleDownEvent}};R.prototype._handleFormattedTextNav=function(){var e=this.getPicker().getCustomHeader();var t=this.getValueStateLinks();if(!e.getDomRef()||t.length===0){return}const i=t[t.length-1];const s=t[0];s.focus();if(!this.bSetLinksDelegates){this.bSetLinksDelegates=true;t.forEach(function(e){e.addEventDelegate(this._formattedTextLinksNav(),this)},this);const e={onsaptabprevious:function(e){e.preventDefault();this.getFocusDomRef().focus()}};i.addEventDelegate(this._closePickerDelegate,this);s.addEventDelegate(e,this)}};R.prototype.onsaphide=function(e){this.onsapshow(e)};R.prototype._selectItemByKey=function(e){var t,i,s,n,o,r;if(!this.getEnabled()||!this.getEditable()){return}if(e){e.setMarked()}t=this._getUnselectedItems();for(n=0;n<t.length;n++){r=!(t[n].getKey()===undefined||t[n].getKey()===null)&&!t[n].isA("sap.ui.core.SeparatorItem");if(t[n].getText().toUpperCase()===this.getValue().toUpperCase()&&r){s=t[n];o=true;break}}if(o){i={item:s,id:s.getId(),key:s.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false};this._bPreventValueRemove=false;if(this.getValue()===""||typeof this.getValue()==="string"&&s.getText().toLowerCase().startsWith(this.getValue().toLowerCase())){if(_.getListItem(s).getSelected()){this.setValue("")}else{this.setSelection(i)}}}else{this._bPreventValueRemove=true}if(e){this.close()}};R.prototype.onsapenter=function(t){var i=this.getAggregation("tokenizer");e.prototype.onsapenter.apply(this,arguments);this._showAlreadySelectedVisualEffect();if(this.getValue()&&!this.isComposingCharacter()){this._selectItemByKey(t)}if(!this.getEditable()&&i.getHiddenTokensCount()&&t.target===this.getFocusDomRef()){i._togglePopup()}};R.prototype.onsaptabnext=function(e){var t=this.getValue();if(t){var i=this._getUnselectedItemsStartingText(t);if(i.length){this._selectItemByKey(e)}else{this._showWrongValueVisualEffect()}}};R.prototype.onsaptabprevious=R.prototype.onsaptabnext;R.prototype.onsapfocusleave=function(e){var t=this.isPlatformTablet(),i=l.getElementById(e.relatedControlId),s=i&&i.getFocusDomRef(),n=this.getPicker(),o=this.getAggregation("tokenizer");if(!this._bPickerIsOpening&&(!n||!n.getFocusDomRef()||!s||!jQuery.contains(n.getFocusDomRef(),s))){if(!jQuery.contains(this.getDomRef(),document.activeElement)){o.setRenderMode(L.Narrow)}}if(n&&s){if(P(n.getFocusDomRef(),s)&&!t&&!this.isPickerDialog()){this.focus()}}};R.prototype.onfocusin=function(e){var t=this.getPicker();var i=false;var s=t&&t.getFocusDomRef();var n=t&&t.oPopup.getOpenState()||F.CLOSED;var o=n===F.CLOSING||n===F.CLOSED;var r=this.getPickerType()==="Dropdown";var a=this.getAggregation("tokenizer");if(r){i=s&&jQuery.contains(s,e.relatedTarget)}if(this.getEditable()&&e.target===this.getDomRef("inner")){a.setRenderMode(L.Loose);setTimeout(a["scrollToEnd"].bind(a),0)}if(e.target===this.getFocusDomRef()){a.hasOneTruncatedToken()&&a.setFirstTokenTruncated(false);this.getEnabled()&&this.addStyleClass("sapMFocus");!o&&i&&this.handleInputValidation(e,false)}if(e.target===this.getOpenArea()&&r&&!this.isPlatformTablet()){this.focus()}if(!this.isOpen()&&this.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};R.prototype._handleItemTap=function(e){var t=l.closestTo(e.target);if(!t.isA("sap.m.CheckBox")&&!t.isA("sap.m.GroupHeaderListItem")){this._bCheckBoxClicked=false}};R.prototype._handleItemPress=function(e){if(this.isOpen()&&this._isListInSuggestMode()&&this.getPicker().oPopup.getOpenState()!==F.CLOSING){this.clearFilter();var t=this._getLastSelectedItem();if(t){_.getListItem(t).focus()}}};R.prototype._handleSelectionLiveChange=function(e){if(e.getParameter("selectAll")){return}var t=e.getParameter("listItem");var i=e.getParameter("listItems");var s=i&&i[i.length-1]||t;var n=this.isPickerDialog()?this.getPickerTextField():this;var o=this._getIsClick()&&!!s;var r=e.getParameter("selected");var a=_.getItemByListItem(this.getItems(),t);var l;if(i&&i.length){l=[];i.forEach(function(e){if(e.getType()==="Active"){l.push(_.getItemByListItem(this.getItems(),e))}},this)}if(t.getType()==="Inactive"){return}A(a,"The corresponding mapped item was not found on "+this);if(!a){return}var h={item:a,items:l,id:a.getId(),key:a.getKey(),selectAll:false,fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};if(r){this.fireChangeEvent(a.getText());this.setSelection(h)}else{this.fireChangeEvent(a.getText());this.removeSelection(h)}if(this._bCheckBoxClicked){n.setValue(this._sOldInput);if(o&&this.isOpen()&&this.getPicker().oPopup.getOpenState()!==F.CLOSING){s.focus();this._setIsClick(false)}}else{this._bCheckBoxClicked=true;this.setValue("");this.close()}};R.prototype.onkeydown=function(e){if(this.areHotKeysPressed(e)&&this.isOpen()){this._handleFormattedTextNav();return}var i=this.getEditable(),s=this.getAggregation("tokenizer"),n=s.getTokens().length;t.prototype.onkeydown.apply(this,arguments);if(!this.getEnabled()){return}if((e.ctrlKey||e.metaKey)&&e.which===E.I&&n){e.preventDefault();if(i){this._togglePopover()}else{this._handleIndicatorPress()}return}this._bIsPasteEvent=(e.ctrlKey||e.metaKey)&&e.which===E.V;if(this.getValue().length===0&&(e.ctrlKey||e.metaKey)&&e.which===E.A&&this._hasTokens()){s.focus();s.selectAllTokens(true);e.preventDefault()}if(this.isPickerDialog()){this._sOldValue=this.getPickerTextField().getValue();this._iOldCursorPos=jQuery(this.getFocusDomRef()).cursorPos()}this._bDoTypeAhead=!p.os.android&&e.which!==E.BACKSPACE&&e.which!==E.DELETE};R.prototype.oninput=function(e){t.prototype.oninput.apply(this,arguments);var i=e.srcControl,s=this.isPickerDialog(),n=s?this.getPickerTextField():this,o=n.getValueState();if(o===x.Error&&this._bAlreadySelected){n.setValueState(this._sInitialValueState);n.setValueStateText(this._sInitialValueStateText);this._bAlreadySelected=false}if(!this.getEnabled()||!this.getEditable()){return}this.syncPickerContent();this.handleInputValidation(e,this.isComposingCharacter());if(this._bIsPasteEvent){i.updateDomValue(this._sOldValue||e.target.value||"");return}if(this.isOpen()){setTimeout(this.highlightList.bind(this,this._sOldInput))}if(this._getItemsShownWithFilter()){this.toggleIconPressedStyle(true)}};R.prototype.filterItems=function(e){return k(this,e.items,e.value,true,false,this.fnFilter||v)};R.prototype.onkeyup=function(e){t.prototype.onkeyup.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}this._sOldValue=this.getValue();this._iOldCursorPos=jQuery(this.getFocusDomRef()).cursorPos()};R.prototype._showWrongValueVisualEffect=function(){var e=this._getSuggestionsPopover();var t=this._sInitialValueStateText;var i=this._sInitialValueState;var s=t||this._oRbC.getText("VALUE_STATE_ERROR");var n=this;if(i===x.Error){return}if(e){e.updateValueState(x.Error,s,true);setTimeout(e.updateValueState.bind(e,n.getValueState(),s,true),1e3)}if(!this.isPickerDialog()){this.setValueState(x.Error);this.setValueStateText(this.getValueStateText()||s);setTimeout(this["setValueState"].bind(this,i||x.Error),1e3)}this._syncInputWidth(this.getAggregation("tokenizer"))};R.prototype._showAlreadySelectedVisualEffect=function(){var e=this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED");if(!this.getValue()){return}var t=!!this.getSelectedItems().filter(function(e){return e.getText().toLowerCase()===this.getValue().toLowerCase()},this).length;var i=this.getItems().filter(function(e){return e.getText().toLowerCase()===this.getValue().toLowerCase()},this).length;if(t){if(!this._bAlreadySelected){this._sInitialValueState=this.getValueState();this._sInitialValueStateText=this.getValueStateText()}this._bAlreadySelected=true;this.setValueStateText(e);this.setValueState("Error");return}else if(i){return}else{this._showWrongValueVisualEffect()}};R.prototype._hasShowSelectedButton=function(){return true};R.prototype.forwardEventHandlersToSuggPopover=function(e){t.prototype.forwardEventHandlersToSuggPopover.apply(this,arguments);e.setShowSelectedPressHandler(this._filterSelectedItems.bind(this))};R.prototype.configPicker=function(e){var t=this.getRenderer(),i=t.CSS_CLASS_MULTICOMBOBOX;e.setHorizontalScrolling(false).addStyleClass(t.CSS_CLASS_COMBOBOXBASE+"Picker").addStyleClass(i+"Picker").addStyleClass(i+"Picker-CTX").attachBeforeOpen(this.onBeforeOpen,this).attachAfterOpen(this.onAfterOpen,this).attachBeforeClose(this.onBeforeClose,this).attachAfterClose(this.onAfterClose,this).addEventDelegate({onBeforeRendering:this.onBeforeRenderingPicker,onAfterRendering:this.onAfterRenderingPicker},this)};R.prototype._configureList=function(e){var t=10;if(!e){return}e.applyAriaRole("listbox");e.setMode(D.MultiSelect);e.setIncludeItemInSelection(true);e.setGrowingThreshold(t);e.attachBrowserEvent("tap",this._handleItemTap,this).attachSelectionChange(this._handleSelectionLiveChange,this).attachItemPress(this._handleItemPress,this);e.addEventDelegate({onAfterRendering:this.onAfterRenderingList,onfocusin:this.onFocusinList},this);this.getShowSelectAll()&&this.createSelectAllHeaderToolbar(e)};R.prototype._decoratePopupInput=function(e){t.prototype._decoratePopupInput.apply(this,arguments);if(!e||!e.isA(["sap.m.InputBase"])){return}e.attachSubmit(function(t){var i=e.getValue();if(i){this.setValue(i);this._selectItemByKey();this.setValue(this._sOldInput);this.close()}}.bind(this));e.addEventDelegate({onfocusout:this._handleInputFocusOut},this);e.attachChange(this._handleInnerInputChange.bind(this));return e};R.prototype._handleOkPress=function(){t.prototype._handleOkPress.apply(this,arguments);if(this.getValue()){this._selectItemByKey()}};R.prototype._handleInnerInputChange=function(e){if(e.getParameter("value")===""){this._sOldInput="";this.clearFilter()}};R.prototype.onBeforeRendering=function(){var e=this.getEditable();var i=this.getAggregation("tokenizer");var s=this.getItems();t.prototype.onBeforeRendering.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=true;i.setEnabled(this.getEnabled());i.setEditable(e);this._updatePopoverBasedOnEditMode(e);if(!s.length){this._clearTokenizer()}if(this._getList()){this.syncPickerContent(true)}this.toggleSelectAllVisibility(this.getShowSelectAll());if(this._sOldInput&&s.length&&this.isOpen()){T(this.getItems(),this.filterItems({value:this._sOldInput,items:s}));setTimeout(this.highlightList.bind(this,this._sOldInput))}this._deregisterResizeHandler();this._synchronizeSelectedItemAndKey();this.setProperty("hasSelection",!!this.getSelectedItems().length);if(!this._bAlreadySelected){this._sInitialValueState=this.getValueState();this._sInitialValueStateText=this.getValueStateText()}if(this.getShowClearIcon()){this._getClearIcon().setVisible(this.shouldShowClearIcon())}else if(this._oClearIcon){this._getClearIcon().setVisible(false)}};R.prototype.syncPickerContent=function(e){var t,i;var s=this.getPicker();var n=this.getAggregation("tokenizer");if(!s){s=this.createPicker(this.getPickerType());this._updateSuggestionsPopoverValueState();e=true}if(e){i=this._getList();t=this.getEditable()?this.getItems():this.getSelectedItems();this._synchronizeSelectedItemAndKey();var o=n.getTokens();var r=o.findIndex(function(e){return document.activeElement===e.getDomRef()});i.destroyItems();this._clearTokenizer();this._fillList(t);this.bShouldRestoreTokenizerFocus=r>-1;this.iFocusedIndex=r;if(i.getItemNavigation()){this._iFocusedIndex=i.getItemNavigation().getFocusedIndex()}}return s};R.prototype._registerResizeHandler=function(){A(!this._iResizeHandlerId,"Resize handler already registered");this._iResizeHandlerId=f.register(this,this._onResize.bind(this))};R.prototype._deregisterResizeHandler=function(){if(this._iResizeHandlerId){f.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null}};R.prototype._onResize=function(){var e=this.getAggregation("tokenizer");e.setMaxWidth(this._calculateSpaceForTokenizer());this._syncInputWidth(e);this._handleNMoreAccessibility()};R.prototype.onAfterRenderingPicker=function(){var e=this["_onAfterRendering"+this.getPickerType()];var t=this.getDomRef().getBoundingClientRect().width;var i=getComputedStyle(this.getDomRef()).getPropertyValue("--sPopoverMaxWidth");if(e){e.call(this)}if(t<=parseInt(i)&&!p.system.phone){this.getPicker().addStyleClass("sapMSuggestionPopoverDefaultWidth")}else{this.getPicker().getDomRef().style.setProperty("max-width",t+"px");this.getPicker().addStyleClass("sapMSuggestionPopoverInputWidth")}};R.prototype.onBeforeOpen=function(){t.prototype.onBeforeOpen.apply(this,arguments);var e=this._getSuggestionsPopover();var i=this["_onBeforeOpen"+this.getPickerType()],s=this.getFocusDomRef();if(s){s.setAttribute("aria-controls",this.getPicker().getId())}this.addContent();this._aInitiallySelectedItems=this.getSelectedItems();this._synchronizeSelectedItemAndKey();if(i){i.call(this)}e.resizePopup(this)};R.prototype.onAfterOpen=function(){var e=this.getFocusDomRef();e&&this.getFocusDomRef().setAttribute("aria-expanded","true");this._bPickerIsOpening=false;this.closeValueStateMessage()};R.prototype.onBeforeClose=function(){t.prototype.onBeforeClose.apply(this,arguments)};R.prototype.onAfterClose=function(){var e=!jQuery.contains(this.getDomRef(),document.activeElement)||this.isPickerDialog(),t=this.getFocusDomRef();t&&this.getFocusDomRef().setAttribute("aria-expanded","false");this.toggleIconPressedStyle(false);this.clearFilter();!this.isComposingCharacter()&&!this._bPreventValueRemove&&this.setValue("");this._sOldValue="";this._sOldInput="";this._getSuggestionsPopover()._sTypedInValue="";if(this.isPickerDialog()){this.getPickerTextField().setValue("");this.getFilterSelectedButton()&&this.getFilterSelectedButton().setPressed(false)}this.fireSelectionFinish({selectedItems:this.getSelectedItems()});this.getAggregation("tokenizer").setRenderMode(e?L.Narrow:L.Loose);if(this.getValueState()==x.Error&&document.activeElement===this.getFocusDomRef()){this.selectText(0,this.getValue().length)}};R.prototype._onBeforeOpenDialog=function(){};R.prototype._onBeforeOpenDropdown=function(){var e=this.getPicker(),t=this.getDomRef(),i;if(t&&e){i=t.offsetWidth/parseFloat(a.BaseFontSize)+"rem";e.setContentMinWidth(i)}};R.prototype.getFilterSelectedButton=function(){return this._getSuggestionsPopover().getFilterSelectedButton()};R.prototype._filterSelectedItems=function(e,t){var i=e.oSource,s,n,o=this.getPickerTextField()?this.getPickerTextField().getValue():"",r=i&&i.getPressed&&i.getPressed()||t,a=_.getVisibleItems(this.getItems()),l=this.getItems(),h=this.getSelectedItems(),u=null;if(r){a.forEach(function(e){n=h.indexOf(e)>-1?true:false;s=_.getListItem(e);if(!s){return}if(s.isA("sap.m.GroupHeaderListItem")){s.setVisible(false);u=s}else{s.setVisible(n);if(n&&u){u.setVisible(true)}}},this)}else{T(this.getItems(),this.filterItems({value:o,items:l}))}this.manageSelectAllCheckBoxState()};R.prototype.revertSelection=function(){this.setSelectedItems(this._aInitiallySelectedItems)};R.prototype.setSelection=function(e){var t=this._getList(),i;if(e.item&&this.isItemSelected(e.item)){return}if(!e.item){return}if(!e.items||!e.items.length||e.selectAll){i=[e.item]}else{i=e.items}i.forEach(function(i){if(!e.listItemUpdated&&_.getListItem(i)&&t){t.setSelectedItem(_.getListItem(i),true)}var n=new s({key:i.getKey()});n.setText(i.getText());i.data(_.CSS_CLASS+"Token",n);this.getAggregation("tokenizer").addToken(n);this.addAssociation("selectedItems",i,e.suppressInvalidate);var o=this.getSelectedKeys();var r=this.getKeys([i])[0];if(r===""||o.indexOf(r)===-1){o.push(r);this.setProperty("selectedKeys",o,e.suppressInvalidate)}if(e.fireChangeEvent){this.fireSelectionChange({changedItem:e.item,changedItems:e.items,selectAll:e.selectAll,selected:true})}},this);if(!this.getProperty("hasSelection")&&this.getSelectedItems().length){this.setProperty("hasSelection",true)}this.setValue("");if(e.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()})}}};R.prototype.removeSelection=function(e){var t,i,s;if(e.item&&!this.isItemSelected(e.item)){return}if(!e.item){return}if(!e.items||!e.items.length||e.selectAll){t=[e.item]}else{t=e.items}t.forEach(function(t){this.removeAssociation("selectedItems",t,e.suppressInvalidate);i=this.getSelectedKeys();s=i.indexOf(t.getKey());i.splice(s,1);this.setProperty("selectedKeys",i,e.suppressInvalidate);if(!e.listItemUpdated&&_.getListItem(t)){var n=_.getListItem(t);this._getList().setSelectedItem(n,false)}if(!e.tokenUpdated){var o=C(t);t.data(_.CSS_CLASS+"Token",null);this.getAggregation("tokenizer").removeToken(o)}if(e.fireChangeEvent){this.fireSelectionChange({changedItem:e.item,changedItems:e.items,selectAll:e.selectAll,selected:false})}},this);if(this.getProperty("hasSelection")&&!this.getSelectedItems().length){this.setProperty("hasSelection",false)}if(e.fireFinishEvent){if(!this.isOpen()){this.fireSelectionFinish({selectedItems:this.getSelectedItems()})}}};R.prototype._synchronizeSelectedItemAndKey=function(){var e=this.getSelectedKeys();var t=this.getKeys(this.getSelectedItems());if(!e.length){V.info("Info: _synchronizeSelectedItemAndKey() the MultiComboBox control does not contain any item on ",this);return}for(var i=0,s=null,n=null,o=e.length;i<o;i++){s=e[i];if(t.indexOf(s)>-1){continue}n=this.getItemByKey(""+s);if(n){this.setSelection({item:n,id:n.getId(),key:n.getKey(),fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:false})}}};R.prototype.updateItems=function(e){var i=function(e){return e&&e.getKey&&e.getKey()},s,n=this.getSelectedItems().map(i),o=this.getSelectedKeys();var r=t.prototype.updateItems.apply(this,arguments);n=this.getSelectedItems().map(i).filter(function(e){return n.indexOf(e)>-1});s=o.concat(n);this.setSelectedKeys(s);return r};R.prototype._getSelectedItemsOf=function(e){for(var t=0,i=e.length,s=[];t<i;t++){if(_.getListItem(e[t]).getSelected()){s.push(e[t])}}return s};R.prototype._getLastSelectedItem=function(){var e=this.getAggregation("tokenizer").getTokens();var t=e.length?e[e.length-1]:null;if(!t){return null}return this._getItemByToken(t)};R.prototype._getFocusedListItem=function(){if(!document.activeElement){return null}var e=l.getElementById(document.activeElement.id);if(this._getList()&&I(this._getList().getFocusDomRef(),e.getFocusDomRef())){return e}return null};R.prototype._getFocusedItem=function(){return _.getItemByListItem(this.getItems(),this._getFocusedListItem())};R.prototype._hasTokens=function(){return this.getAggregation("tokenizer").getTokens().length>0};R.prototype._decorateListItem=function(e){e.addDelegate({onkeydown:function(e){if((e.ctrlKey||e.metaKey)&&e.which==E.A){e.setMarked();e.preventDefault();var t=_.getSelectableItems(this.getItems());var i=this._getSelectedItemsOf(t);if(i.length!==t.length){t.forEach(function(e){this.setSelection({item:e,items:t,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}else{t.forEach(function(e){this.removeSelection({item:e,items:t,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}}if(this.areHotKeysPressed(e)){this._handleFormattedTextNav(e)}},onmousedown:function(e){this._setIsClick(true)},onkeyup:function(e){var t=null;if(e.which==E.SPACE&&this.isOpen()&&this._isListInSuggestMode()){this.open();t=this._getLastSelectedItem();if(t){_.getListItem(t).focus()}return}}},true,this);e.addEventDelegate({onsapbackspace:function(e){e.preventDefault()},onsapshow:function(e){e.setMarked();this.close()},onsaphide:function(e){this.onsapshow(e)},onsapenter:function(e){e.setMarked();if(e.srcControl&&e.srcControl.isA("sap.m.GroupHeaderListItem")){return}this.close()},onsaphome:this.handleHomeEvent.bind(this),onsapend:this.handleEndEvent.bind(this),onsapup:function(e){e.setMarked();e.preventDefault();var t=_.getVisibleItems(this.getItems());var i=t[0];var s=l.closestTo(document.activeElement);if(s!==_.getListItem(i)){return}if(this.getShowSelectAll()){this.focusSelectAll()}else{this.focus()}e.stopPropagation(true)},onfocusin:function(e){this.addStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused")},onfocusout:function(e){this.removeStyleClass(this.getRenderer().CSS_CLASS_MULTICOMBOBOX+"Focused")},onsapfocusleave:function(e){var t=this.getAggregation("picker");var i=l.getElementById(e.relatedControlId);if(t&&i&&P(t.getFocusDomRef(),i.getFocusDomRef())){if(e.srcControl){e.srcControl.focus()}}},onsaptabnext:function(){this.getPicker().close()},onsaptabprevious:function(){this.getPicker().close()}},this);if(p.support.touch){e.addEventDelegate({ontouchstart:function(e){e.setMark("cancelAutoClose")}})}};R.prototype._handleInputFocusOut=function(e){var t=this.isPickerDialog(),i=t?this.getPickerTextField():this,s=this._sOldInput||this._sOldValue||"",n=t&&e&&e.relatedTarget&&e.relatedTarget.id.includes("-popup-closeButton");if(!n){i.updateDomValue(s)}this._bIsPasteEvent=null};R.prototype.onItemChange=function(e){var i=t.prototype.onItemChange.call(this,e,this.getShowSecondaryValues());var s=e.getParameters();b({item:e.getSource(),propName:s.name,propValue:s.newValue});return i};R.prototype._handleIndicatorPress=function(){var e,t=this.getAggregation("tokenizer");if(this.getEditable()){this.syncPickerContent();this._filterSelectedItems({},true);this.focus();e=this.getPicker();e.open()}else{t._togglePopup()}if(this.isPickerDialog()){this.getFilterSelectedButton().setPressed(true);this.bOpenedByKeyboardOrButton=true}};R.prototype._togglePopover=function(){var e=this.getPicker();if(!e){e=this.syncPickerContent(true)}if(e.isOpen()){e.close()}else{e.open()}};R.prototype._createTokenizer=function(){var e=new i({renderMode:L.Narrow}).attachTokenDelete(this._handleTokenDelete,this);e.getTokensPopup().attachAfterOpen(function(){if(e.hasOneTruncatedToken()){e.setFirstTokenTruncated(false)}}).attachAfterClose(function(){var t=e.getTokens();if(t.length===1&&!t[0].getTruncated()){e.setFirstTokenTruncated(true)}});e.addEventDelegate({onAfterRendering:this._onAfterRenderingTokenizer},this);e.setShouldRenderTabIndex(false);return e};R.prototype._onAfterRenderingTokenizer=function(){var e=this.getAggregation("tokenizer");if(this.getEditable()){e.addStyleClass("sapMTokenizerIndicatorDisabled")}else{e.removeStyleClass("sapMTokenizerIndicatorDisabled")}setTimeout(this._syncInputWidth.bind(this,e),0);setTimeout(this._handleNMoreAccessibility.bind(this),0)};R.prototype._handleTokenDelete=function(e){var t=e.getParameter("tokens");var i=this.getSelectedItems();this._removeSelection(t);if(i.length!==_.getSelectableItems(this.getItems())){!this.isPickerDialog()&&!this.isFocusInTokenizer()&&this.focus();this.fireChangeEvent("")}};R.prototype._removeSelection=function(e){var t=this.getAggregation("tokenizer");e.forEach(function(e){var i=e&&this._getItemByToken(e);if(!this.getEditable()||!this.getEnabled()||!i||!this.isItemSelected(i)||!i.getEnabled()||!e.getEditable()){return}this.removeSelection({item:i,id:i.getId(),key:i.getKey(),tokenUpdated:true,fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true});e.destroy();if(this.getSelectedItems().length>0){var s=t.getTokens();s[s.length-1].focus()}else{this.focus()}},this)};R.prototype.onAfterRenderingList=function(){var e=document.activeElement===this.getFocusDomRef();var t=l.closestTo(document.activeElement);var i=t&&t.isA("sap.m.Token");var s=this._getList();var n=s?s.getVisibleItems():[];if(this.getEditable()&&!e&&!i&&n[this._iFocusedIndex]){n[this._iFocusedIndex].focus();this._iFocusedIndex=null}this.manageSelectAllCheckBoxState()};R.prototype.onFocusinList=function(){var e=this._getList();if(this._bListItemNavigationInvalidated&&this._getList().getItemNavigation()){e.getItemNavigation().setSelectedIndex(this._iInitialItemFocus);this._bListItemNavigationInvalidated=false}this._getSuggestionsPopover().updateListDataAttributes(e)};R.prototype.onAfterRendering=function(){var e=this.getAggregation("tokenizer");var i=l.getElementById(e.getProperty("opener"))?.getDomRef();var s;t.prototype.onAfterRendering.apply(this,arguments);this._registerResizeHandler();setTimeout(function(){e.setMaxWidth(this._calculateSpaceForTokenizer())}.bind(this),0);if(this.bShouldRestoreTokenizerFocus){s=e.getTokens()[this.iFocusedIndex];if(s){s.focus()}this.bShouldRestoreTokenizerFocus=false}if(i!==this.getDomRef()){e.setProperty("opener",this.getId(),true)}};R.prototype.onfocusout=function(e){this.isOpen()&&this._handleInputFocusOut();this.removeStyleClass("sapMFocus");if(this.getValueState()===x.Error&&this.getValueStateText()===this._oRb.getText("VALUE_STATE_ERROR_ALREADY_SELECTED")){this.setValueState(this._sInitialValueState);this.setValueStateText(this._sInitialValueStateText)}t.prototype.onfocusout.apply(this,arguments);var i=this.getValue(),s=this.getPicker(),n=e.relatedTarget;if(!I(s?.getDomRef(),n)&&!I(this.getDomRef(),n)){this.setValue(null);if(i){this.fireChangeEvent("",{value:i})}}};R.prototype.onpaste=function(e){var t;var i=false;var s=this.getSelectedItems();var n=_.getSelectableItems(this.getItems());if(!n.length){this.syncPickerContent(true)}n=_.getSelectableItems(this.getItems());t=e.originalEvent.clipboardData.getData("text/plain");if(t.length&&t.endsWith("\r\n")){t=t.substring(0,t.lastIndexOf("\r\n"))}var o=t.split(/\r\n|\r|\n|\t/g);if(o&&o.length>1){n.filter(function(e){return s.indexOf(e)===-1}).forEach(function(e){if(o.indexOf(e.getText())>-1){i=true;this.setSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:true,fireFinishEvent:true,suppressInvalidate:true,listItemUpdated:false})}},this)}if(i){e.stopPropagation();e.preventDefault()}};R.prototype.onsapbackspace=function(e){var t=this.getAggregation("tokenizer");var i=t.getTokens();var s=i.filter(function(e){return e.getSelected()});if(!this.getEnabled()||!this.getEditable()){e.preventDefault();return}if(this.getCursorPosition()>0||this.getValue().length>0){return}if(s.length>0){this._removeAllTokens();return}if(document.activeElement===this.getFocusDomRef()){i[i.length-1]&&i[i.length-1].focus()}e.preventDefault()};R.prototype._removeAllTokens=function(){var e=this.getAggregation("tokenizer");var t=e.getTokens().filter(function(e){return e.getSelected()});if(!t.length){return}this._removeSelection(t);this.fireChangeEvent("");this.invalidate()};R.prototype.onsapdelete=R.prototype.onsapbackspace;R.prototype.onsapnext=function(e){var t=this.getAggregation("tokenizer");if(e.isMarked()){return}var i=l.closestTo(document.activeElement);if(!i){return}if(i===t||t.$().find(i.$()).length>0&&this.getEditable()){t.scrollToEnd();this.focus()}};R.prototype.onsapprevious=function(e){if(this.getCursorPosition()===0&&!y(this.getFocusDomRef())){if(e.srcControl===this){i.prototype.onsapprevious.apply(this.getAggregation("tokenizer"),arguments)}}};R.prototype.onclick=function(e){var t=this.getEditable(),i=this.getEnabled(),s=e.target.className.indexOf("sapMTokenizerIndicator")>-1;if(t&&i&&s){e.preventDefault();this._handleIndicatorPress()}};R.prototype.ontap=function(e){t.prototype.ontap.apply(this,arguments);var i=this.getOpenArea();if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(this.isPickerDialog()&&i.contains(e.target)){this.open()}};R.prototype.getOpenArea=function(){if(this.isPickerDialog()){return this.getDomRef()}else{return t.prototype.getOpenArea.apply(this,arguments)}};R.prototype._getItemsStartingWithPerTerm=function(e,t){var i=[],s=t?_.getEnabledItems(this.getItems()):_.getSelectableItems(this.getItems()),n=this.fnFilter?this.fnFilter:v;s.forEach(function(t){if(n(e,t)){i.push(t)}},this);return i};R.prototype._getItemsStartingWith=function(e,t){var i=[],s=t?_.getEnabledItems(this.getItems()):_.getSelectableItems(this.getItems());s.forEach(function(t){if(typeof e==="string"&&e!==""&&t.getText().toLowerCase().startsWith(e.toLowerCase())){i.push(t)}},this);return i};R.prototype._getUnselectedItemsStartingText=function(e){var t=[];this._getUnselectedItems().forEach(function(i){if(typeof e==="string"&&e!==""&&i.getText().toLowerCase().startsWith(e.toLowerCase())){t.push(i)}},this);return t};R.prototype.getCursorPosition=function(){return this._$input.cursorPos()};R.prototype._selectPreviousItemsOf=function(e){var t;do{t=true;var i=this._getPreviousVisibleItemOf(e);if(i){var s=_.getListItem(i);if(s){t=_.getListItem(i).getSelected()}}this.setSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true});e=i}while(!t)};R.prototype._getNextVisibleItemOf=function(e){var t=_.getSelectableItems(this.getItems());var i=t.indexOf(e)+1;if(i<=0||i>t.length-1){return null}return t[i]};R.prototype._getPreviousVisibleItemOf=function(e){var t=_.getSelectableItems(this.getItems());var i=t.indexOf(e)-1;if(i<0){return null}return t[i]};R.prototype._getNextUnselectedItemOf=function(e){var t=this._getUnselectedItems();var i=t.indexOf(e)+1;if(i<=0||i>t.length-1){return null}return t[i]};R.prototype._getPreviousUnselectedItemOf=function(e){var t=this._getUnselectedItems();var i=t.indexOf(e)-1;if(i<0){return null}return t[i]};R.prototype._getNextTraversalItem=function(){var e=this.getValue();var t=this._getUnselectedItemsPerTerm(e);if(t.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getNextUnselectedItemOf(this._oTraversalItem)}return t[0]};R.prototype._getPreviousTraversalItem=function(){var e=this.getValue();var t=this._getUnselectedItemsPerTerm(e);if(t.indexOf(this._oTraversalItem)>-1&&this._oTraversalItem.getText()===this.getValue()){return this._getPreviousUnselectedItemOf(this._oTraversalItem)}return t[t.length-1]};R.prototype.setSelectedItems=function(e){this.removeAllSelectedItems();if(!e||!e.length){return this}if(!Array.isArray(e)){V.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return this}e.forEach(function(e){if(!(e instanceof d)&&typeof e!=="string"){V.warning("Warning: setSelectedItems() has to be an array of sap.ui.core.Item instances or of valid sap.ui.core.Item IDs",this);return}if(typeof e==="string"){e=l.getElementById(e)}this.setSelection({item:e?e:null,id:e?e.getId():"",key:e?e.getKey():"",suppressInvalidate:true})},this);return this};R.prototype.addSelectedItem=function(e){if(!e){return this}if(typeof e==="string"){e=l.getElementById(e)}this.setSelection({item:e?e:null,id:e?e.getId():"",key:e?e.getKey():"",fireChangeEvent:false,suppressInvalidate:true});return this};R.prototype.removeSelectedItem=function(e){if(!e){return null}if(typeof e==="string"){e=l.getElementById(e)}if(!this.isItemSelected(e)){return null}this.removeSelection({item:e,id:e.getId(),key:e.getKey(),fireChangeEvent:false,suppressInvalidate:true});return e};R.prototype.removeAllSelectedItems=function(){var e=[];var t=this.getAssociation("selectedItems",[]);t.forEach(function(t){var i=this.removeSelectedItem(t);if(i){e.push(i.getId())}},this);return e};R.prototype.removeSelectedKeys=function(e){var t,i=[];if(!e||!e.length||!Array.isArray(e)){return i}e.forEach(function(e){t=this.getItemByKey(e);if(t){this.removeSelection({item:t?t:null,id:t?t.getId():"",key:t?t.getKey():"",fireChangeEvent:false,suppressInvalidate:true});i.push(t)}},this);return i};R.prototype.setSelectedKeys=function(e){if(this._bInitialSelectedKeysSettersCompleted){this.setProperty("selectedKeys",[],true);this.removeAllSelectedItems()}this.addSelectedKeys(e);this._bInitialSelectedKeysSettersCompleted=true;return this};R.prototype.addSelectedKeys=function(e){var t,i=[];e=this.validateProperty("selectedKeys",e);e.forEach(function(e){var t=this.getItemByKey(e);if(t){this.addSelectedItem(t)}else if(e!=null){i.push(e)}},this);if(i.length>0){t=this.getProperty("selectedKeys").filter(function(e){return i.indexOf(e)===-1});i=t.concat(i);this.setProperty("selectedKeys",i,true)}return this};R.prototype._getUnselectedItems=function(){var e=jQuery(_.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();if(!this.isOpen()){return e.filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")})}return e};R.prototype._getUnselectedItemsPerTerm=function(e){var t=jQuery(_.getSelectableItems(this.getItems())).not(this.getSelectedItems()).get();var i=[];var s=this.fnFilter?this.fnFilter:v;if(!this.isOpen()){t=t.filter(function(e){return!e.isA("sap.ui.core.SeparatorItem")})}t.forEach(function(t){if(s(e,t)){i.push(t)}},this);return i};R.prototype.getSelectedItems=function(){var e=[],t=this.getAssociation("selectedItems")||[];t.forEach(function(t){var i=l.getElementById(t);if(i){e.push(i)}},this);return e};R.prototype.getWidth=function(){return this.getProperty("width")||"100%"};R.prototype._updatePopoverBasedOnEditMode=function(e){var t=this._getList(),i=this._getSuggestionsPopover();if(t&&e!==this._bPrevEditable&&e){i.addContent(t)}this._bPrevEditable=e};R.prototype._mapItemToListItem=function(e){var t,i,s,n=this.getRenderer();if(!e){return null}t=_.createListItemFromCoreItem(e,this.getShowSecondaryValues());this._decorateListItem(t);if(e.isA("sap.ui.core.SeparatorItem")){return t}i=n.CSS_CLASS_MULTICOMBOBOX+"Item";s=this.isItemSelected(e)?i+"Selected":"";t.addStyleClass(i+" "+s);this.setSelectable(e,e.getEnabled());return t};R.prototype.setSelectable=function(e,i){t.prototype.setSelectable.call(this,e,i);var s=C(e);if(s){s.setVisible(i)}};R.prototype._fillList=function(){var e;var t;var i;var n=this._getList();var o=this.getEditable()?this.getItems():this.getSelectedItems();if(!n){return}n.destroyItems();for(var r=0,a,l=o.length;r<l;r++){a=this._mapItemToListItem(o[r]);if(a.isA("sap.m.GroupHeaderListItem")){this._getList().addItemGroup(null,a)}else{this._getList().addItem(a)}if(this.isItemSelected(o[r])){this._getList().setSelectedItem(a,true)}}e=this.getAggregation("tokenizer");t=this.getSelectedItems();for(var h=0;h<t.length;h++){i=t[h];var u=new s({key:i.getKey(),text:i.getText()});i.data(_.CSS_CLASS+"Token",u);e.addToken(u,true)}};R.prototype.handleInputValidation=function(e,t){var i=e.target.value,s=this.isValueValid(i),n,o,r;var a=e.srcControl;if(!s&&i!==""&&!t){this._handleFieldValidationState(a);return}r=this._getItemsStartingWith(i,true);if(!t||this._bIsPasteEvent){this._handleTypeAhead(i,r,a)}n=this.getItems();if(this.isPickerDialog()){o=this.getFilterSelectedButton();if(o!=null&&o.getPressed()){o.setPressed(false)}}T(this.getItems(),this.filterItems({value:i,items:n}));this.manageSelectAllCheckBoxState();this._sOldInput=i;if((!this.getValue()||!s)&&!this.bOpenedByKeyboardOrButton&&!this.isPickerDialog()){this.close()}else{this.open()}};R.prototype.isValueValid=function(e){var t=this._getItemsStartingWith(e,true);var i=this._getItemsStartingWithPerTerm(e,true);return t.length||i.length};R.prototype._handleTypeAhead=function(e,t,i){var s,n;if(!this._bDoTypeAhead){return}s=this.getSelectedItems();n=t.filter(function(e){return s.indexOf(e)===-1});S(e,i,n)};R.prototype._handleFieldValidationState=function(e){if(this._sOldInput&&this.isValueValid(this._sOldInput)){e.updateDomValue(this._sOldInput)}else if(this._sOldValue&&this.isValueValid(this._sOldValue)){e.updateDomValue(this._sOldValue)}else{e.updateDomValue("");e.setProperty("effectiveShowClearIcon",false)}if(this._iOldCursorPos){jQuery(e.getFocusDomRef()).cursorPos(this._iOldCursorPos)}this._showWrongValueVisualEffect()};R.prototype.init=function(){t.prototype.init.apply(this,arguments);this._bInitialSelectedKeysSettersCompleted=false;this._bListItemNavigationInvalidated=false;this._iInitialItemFocus=-1;this._bCheckBoxClicked=true;this._bPreventValueRemove=false;this._oTokenizer=this._createTokenizer();this._oTokenizer.onfocusfail=function(){};this.setAggregation("tokenizer",this._oTokenizer);this._aInitiallySelectedItems=[];this._oRbC=c.getResourceBundleFor("sap.ui.core");this._fillList()};R.prototype.handleItemRemoval=function(e){this.removeSelection({item:e,id:e?e.getId():"",key:e?e.getKey():"",fireChangeEvent:false,suppressInvalidate:true,listItemUpdated:true})};R.prototype.isItemSelected=function(e){return this.getSelectedItems().indexOf(e)>-1};R.prototype._clearTokenizer=function(){this.getAggregation("tokenizer").destroyTokens()};R.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._deregisterResizeHandler();if(this._oTokenizer){this._oTokenizer.destroy();this._oTokenizer=null}this._oRbC=null;this.oValueStateNavDelegate=null;this._sInitialValueState=null};R.prototype.destroyItems=function(){this.setProperty("selectedKeys",[]);this._clearTokenizer();return this.destroyAggregation("items")};R.prototype._getItemByToken=function(e){return _.getItemBy(this.getItems(),e,"Token")};R.prototype._getItemByValue=function(e){var t=_.getSelectableItems(this.getItems());for(var i=0;i<t.length;i++){if(t[i].getText().toLowerCase()===e.toLowerCase()){return t[i]}}};R.prototype._handleItemToFocus=function(){if(this.isOpen()){return}this.syncPickerContent();var e,t,i=l.getElementById(document.activeElement.id),s=this.getSelectedItems(),n=_.getSelectableItems(this.getItems()),o=this._getList(),r=o&&o.getItemNavigation(),a=this.getValue(),h=this.getPicker();if(i&&i.isA("sap.m.Token")){t=this._getItemByToken(i)}else if(a){t=this._getItemByValue(a)}if(!t){t=s.length?_.getItemByListItem(this.getItems(),this._getList().getSelectedItems()[0]):n[0]}e=_.getVisibleItems(this.getItems()).indexOf(t);if(r){r.setSelectedIndex(e)}else{this._bListItemNavigationInvalidated=true;this._iInitialItemFocus=e}if(!t){h.setInitialFocus(this)}else{h.setInitialFocus(o)}};R.prototype.getAccessibilityInfo=function(){var e=this.getSelectedItems().map(function(e){return e.getText()}).join(" ");var i=t.prototype.getAccessibilityInfo.apply(this,arguments);i.type=c.getResourceBundleFor("sap.m").getText("ACC_CTR_TYPE_MULTICOMBO");i.description=(this.getValueDescriptionInfo()+" "+e).trim();return i};R.prototype.getValueDescriptionInfo=function(){if(this.getValue()){return this.getValue()}return this._hasTokens()?"":c.getResourceBundleFor("sap.m").getText("INPUTBASE_VALUE_EMPTY")};R.prototype._setIsClick=function(e){this._bIsClick=e};R.prototype._getIsClick=function(){return this._bIsClick};R.prototype._calculateSpaceForTokenizer=function(){if(this.getDomRef()){var e,t=this.getDomRef().getBoundingClientRect().width,i=this._calculateIconsSpace(),s=this.$().find(".sapMInputBaseInner"),n=["min-width","padding-right","padding-left"],o=n.reduce(function(e,t){return e+(parseInt(s.css(t))||0)},0);e=t-(i+o);e=e<0?0:e;return e+"px"}else{return null}};R.prototype._syncInputWidth=function(e){var t=this.getDomRef("inner"),i,s;if(!t||e&&!e.getDomRef()){return}s=parseFloat(e.getDomRef().getBoundingClientRect().width.toFixed(2));i=this._calculateIconsSpace();t.style.width="calc(100% - "+parseFloat(i+s)+"px)"};R.prototype._handleNMoreAccessibility=function(){var e=O.getStaticId("sap.m","MULTICOMBOBOX_OPEN_NMORE_POPOVER"),t=this.getAggregation("tokenizer"),i=this.getFocusDomRef(),s=i&&i.getAttribute("aria-describedby"),n=s?s.split(" "):[],o=n.indexOf(e),r=this.getEnabled(),a=!this.getEditable()&&t&&t.getHiddenTokensCount();if(a&&o===-1){n.push(e);r&&this.getFocusDomRef().setAttribute("aria-keyshortcuts","Enter")}else if(o!==-1&&!a){n.splice(o,1);this.getFocusDomRef().removeAttribute("aria-keyshortcuts")}if(i&&n.length){i.setAttribute("aria-describedby",n.join(" ").trim())}};R.prototype.applyShowItemsFilters=function(){this.syncPickerContent();T(this.getItems(),this.filterItems({value:this.getValue()||"_",items:this.getItems()}));this.manageSelectAllCheckBoxState()};R.prototype.showItems=function(e){var i=true,s=this.fnFilter;if(typeof e==="function"){this.syncPickerContent();this.setFilterFunction(e||function(){return true});i=this.filterItems({value:this.getValue()||"_",items:this.getItems()}).items.length>0;this.setFilterFunction(s)}if(i){t.prototype.showItems.apply(this,arguments)}};R.prototype.createSelectAllHeaderToolbar=function(e){e=e||this._getList();if(!e||e.getHeaderToolbar()){return}var t=new o({select:function(e){var t=e.getSource(),i=_.getSelectableItems(this.getItems()),s=this._getSelectedItemsOf(i);if(e.getParameter("selected")){var n=i.filter(function(e){return s.indexOf(e)===-1});n.forEach(function(e){this.setSelection({item:e,items:n,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}else{s.forEach(function(e){this.removeSelection({item:e,items:s,selectAll:true,id:e.getId(),key:e.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:false})},this)}t.focus()}.bind(this)});t.addEventDelegate(this._selectAllDelegate(),this);e.setHeaderToolbar(new r({content:t}).addStyleClass("sapMMultiComboBoxSelectAll")).setSticky(["HeaderToolbar"]);this.attachSelectionChange(this.manageSelectAllCheckBoxState.bind(this))};R.prototype.manageSelectAllCheckBoxState=function(){var e=this.getSelectAllCheckbox();if(!e){return}var t=this.getItems(),i=this.getSelectedItems(),s=_.getSelectableItems(t).filter(function(e){return i.indexOf(e)>-1}).length===_.getSelectableItems(t).length;e.setText(this._oRb.getText("MULTICOMBOBOX_SELECT_ALL_CHECKBOX",[i.length,_.getAllSelectableItems(t).length])).setSelected(s)};R.prototype.getSelectAllToolbar=function(){var e=this._getList();return e&&e.getHeaderToolbar()};R.prototype.getSelectAllCheckbox=function(){var e=this.getSelectAllToolbar();return e&&e.getContent()[0]};R.prototype._selectAllDelegate=function(){return{onsapdown:this.handleDownEvent,onsapup:function(e){e.preventDefault();this.getFocusDomRef().focus()},onsaphome:this.handleHomeEvent,onsapend:this.handleEndEvent,onfocusin:function(){var e=this.getRenderer(),t=this.getSelectAllToolbar();t&&t.addStyleClass(e.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused")},onfocusout:function(){var e=this.getRenderer(),t=this.getSelectAllToolbar();t&&t.removeStyleClass(e.CSS_CLASS_MULTICOMBOBOX+"SelectAllFocused")},onsapshow:this.close,onsaphide:this.close}};R.prototype.focusSelectAll=function(){var e=this.getSelectAllCheckbox();e&&e.focus()};R.prototype.toggleSelectAllVisibility=function(e){var t=this.getSelectAllToolbar();if(t){t.setVisible(e);return}e&&this.createSelectAllHeaderToolbar()};R.prototype.handleClearIconPress=function(){if(!(this.getEnabled()&&this.getEditable())){return}if(this.getValue()!==""){this.setValue("");this._sOldInput="";this.bOpenedByKeyboardOrButton?this.clearFilter():this.close();this.setProperty("effectiveShowClearIcon",false)}};R.prototype.getFormFormattedValue=function(){return this.getSelectedItems().map(function(e){return e.getText()}).join(", ")};R.prototype.getFormObservingProperties=function(){return["value","selectedKeys"]};return R});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MultiComboBoxRenderer", ["./ComboBoxBaseRenderer","./ComboBoxTextFieldRenderer","sap/ui/core/Lib","sap/ui/core/Renderer","sap/ui/core/library"],function(e,t,r,i,n){"use strict";var o=i.extend(e);o.apiVersion=2;o.CSS_CLASS_MULTICOMBOBOX="sapMMultiComboBox";o.addOuterClasses=function(t,r){e.addOuterClasses.apply(this,arguments);t.class(o.CSS_CLASS_MULTICOMBOBOX);if(r.getProperty("hasSelection")){t.class("sapMMultiComboBoxHasToken")}};o.getAriaDescribedBy=function(e){var r=t.getAriaDescribedBy.apply(this,arguments),i=e.getAggregation("tokenizer"),n=i&&i.getTokensInfoId();if(e.getValueStateLinksForAcc().length){r=r?`${r} ${e.getValueStateLinksShortcutsId()}`:e.getValueStateLinksShortcutsId()}return(r?r+" ":"")+n};o.getAccessibilityState=function(t){var i=e.getAccessibilityState.apply(this,arguments),n=r.getResourceBundleFor("sap.m");i.roledescription=n.getText("MULTICOMBOBOX_ARIA_ROLE_DESCRIPTION");return i};o.prependInnerContent=function(e,t){e.renderControl(t.getAggregation("tokenizer"))};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitApp", ["./SplitContainer","./library","sap/ui/Device","./SplitAppRenderer","sap/ui/util/Mobile","sap/ui/thirdparty/jquery"],function(e,t,i,n,o,jQuery){"use strict";var r=e.extend("sap.m.SplitApp",{metadata:{library:"sap.m",properties:{homeIcon:{type:"any",group:"Misc",defaultValue:null}},events:{orientationChange:{deprecated:true,parameters:{landscape:{type:"boolean"}}}},designtime:"sap/m/designtime/SplitApp.designtime"},renderer:n});r.prototype.init=function(){if(e.prototype.init){e.prototype.init.apply(this,arguments)}this.addStyleClass("sapMSplitApp");o.init({viewport:!this._debugZoomAndScroll,statusBar:"default",preventScroll:!this._debugZoomAndScroll})};r.prototype.onBeforeRendering=function(){if(e.prototype.onBeforeRendering){e.prototype.onBeforeRendering.apply(this,arguments)}o.init({homeIcon:this.getHomeIcon()})};r.prototype.onAfterRendering=function(){if(e.prototype.onAfterRendering){e.prototype.onAfterRendering.apply(this,arguments)}var t=this.getDomRef().parentNode;while(t&&t!==document.documentElement){var i=jQuery(t);if(i.attr("data-sap-ui-root-content")){break}if(!t.style.height){t.style.height="100%"}t=t.parentNode}};r.prototype._onOrientationChange=function(){this.fireOrientationChange({landscape:i.orientation.landscape})};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitAppRenderer", ["./SplitContainerRenderer","sap/ui/core/Renderer","sap/m/library"],function(e,r,n){"use strict";var a=n.BackgroundHelper;var t=r.extend(e);t.apiVersion=2;t.renderAttributes=function(e,r){a.addBackgroundColorStyles(e,r.getBackgroundColor(),r.getBackgroundImage())};t.renderBeforeContent=function(e,r){a.renderBackgroundImageTag(e,r,"sapMSplitContainerBG",r.getBackgroundImage(),r.getBackgroundRepeat(),r.getBackgroundOpacity())};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Token", ["./library","sap/ui/core/Control","sap/ui/core/Lib","sap/ui/core/library","sap/ui/core/Icon","./TokenRenderer","sap/ui/events/KeyCodes"],function(e,t,i,r,o,a,n){"use strict";var s=r.TextDirection;var p=t.extend("sap.m.Token",{metadata:{library:"sap.m",properties:{selected:{type:"boolean",group:"Misc",defaultValue:false},key:{type:"string",group:"Data",defaultValue:""},text:{type:"string",group:"Data",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:s.Inherit},editableParent:{type:"boolean",group:"Behavior",defaultValue:true,visibility:"hidden"},truncated:{type:"boolean",group:"Appearance",defaultValue:false,visibility:"hidden"},posinset:{type:"int",visibility:"hidden"},setsize:{type:"int",visibility:"hidden"}},aggregations:{deleteIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{delete:{enableEventBubbling:true},press:{},select:{},deselect:{}}},renderer:a});p.prototype.init=function(){var e=new o({id:this.getId()+"-icon",src:"sap-icon://decline",noTabStop:true,press:this._fireDeleteToken.bind(this),tooltip:i.getResourceBundleFor("sap.m").getText("TOKEN_ICON_TOOLTIP")});e.addStyleClass("sapMTokenIcon");e.setUseIconTooltip(false);this.setAggregation("deleteIcon",e)};p.prototype.ontouchstart=function(e){if(e.target.id===this.getId()+"-icon"){e.preventDefault()}};p.prototype._getTooltip=function(e,t){return e.getTooltip_AsString()};p.prototype._onTokenPress=function(e){var t=this.getSelected(),i=e.ctrlKey||e.metaKey,r=!t;if(i||e.which===n.SPACE){r=!t}this.setSelected(r);this.firePress();if(t!==r){if(r){this.fireSelect()}else{this.fireDeselect()}}if(this.getSelected()){this.focus()}};p.prototype.ontap=function(e){var t=this.getAggregation("deleteIcon");if(t&&e.target.id===t.getId()){e.setMark("tokenDeletePress",true);return}e.setMark("tokenTap",this);this._onTokenPress(e)};p.prototype._fireDeleteToken=function(e,t,i){if(this.getEditable()&&this.getProperty("editableParent")){this.fireDelete({token:this,byKeyboard:t,backspace:i})}e.preventDefault()};p.prototype.onsapspace=function(e){this._onTokenPress(e);if(e){e.preventDefault();e.stopPropagation()}};p.prototype.onkeydown=function(e){if((e.ctrlKey||e.metaKey)&&e.which===n.SPACE){this.onsapspace(e);e.preventDefault()}};p.prototype.getTruncated=function(){return this.getProperty("truncated")};p.prototype.setTruncated=function(e){return this.setProperty("truncated",e)};return p});
/*!

* OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.

*/
sap.ui.predefine("sap/m/TokenRenderer", ["sap/ui/core/library","sap/ui/core/InvisibleText"],function(e,t){"use strict";var r=e.TextDirection;var a={apiVersion:2};a.render=function(e,r){var i=r._getTooltip(r,r.getEditable()&&r.getProperty("editableParent"));var n=r.getAggregation("deleteIcon");var s=[];var o={role:"option"};var d=r.getProperty("posinset");var l=r.getProperty("setsize");e.openStart("div",r).class("sapMToken");this._setAttributes(e,r);if(r.getSelected()){e.class("sapMTokenSelected")}if(d!==undefined){e.attr("aria-posinset",r.getProperty("posinset"))}if(l!==undefined){e.attr("aria-setsize",r.getProperty("setsize"))}if(!r.getEditable()){e.class("sapMTokenReadOnly");o.readonly=null}if(r.getTruncated()){e.class("sapMTokenTruncated")}if(i){e.attr("title",i)}s.push(t.getStaticId("sap.m","TOKEN_ARIA_LABEL"));if(r.getEditable()&&r.getProperty("editableParent")){s.push(t.getStaticId("sap.m","TOKEN_ARIA_DELETABLE"))}e.attr("aria-selected",r.getSelected());o.describedby={value:s.join(" "),append:true};e.accessibilityState(r,o);e.openEnd();a._renderInnerControl(e,r);if(r.getEditable()&&n){e.renderControl(n)}e.close("div")};a._renderInnerControl=function(e,t){var a=t.getTextDirection();e.openStart("span").class("sapMTokenText");if(a!==r.Inherit){e.attr("dir",a.toLowerCase())}e.openEnd();var i=t.getText();if(i){e.text(i)}e.close("span")};a._setAttributes=function(e,t){e.attr("tabindex","-1")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Tokenizer", ["./library","sap/base/i18n/Localization","sap/m/Button","sap/m/List","sap/m/StandardListItem","sap/m/ResponsivePopover","sap/ui/core/ControlBehavior","sap/ui/core/Control","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/core/delegate/ScrollEnablement","sap/ui/base/ManagedObjectObserver","sap/ui/Device","sap/ui/core/InvisibleText","sap/ui/core/ResizeHandler","./TokenizerRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Theming","sap/ui/core/theming/Parameters","sap/ui/dom/jquery/scrollLeftRTL"],function(e,t,o,i,n,s,r,a,l,d,h,p,u,c,f,g,T,k,_,m,y){"use strict";var v="sapUiNoContentPadding";var b="sapMTokenizerTokensPopup";var I=e.TokenizerRenderMode;var R=e.PlacementType;var S=e.ListMode;var M=e.ListType;var E=e.ButtonType;var C=a.extend("sap.m.Tokenizer",{metadata:{library:"sap.m",properties:{editable:{type:"boolean",group:"Misc",defaultValue:true},enabled:{type:"boolean",group:"Misc",defaultValue:true},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},renderMode:{type:"string",group:"Misc",defaultValue:I.Narrow},hiddenTokensCount:{type:"int",group:"Misc",defaultValue:0,visibility:"hidden"},opener:{type:"string",multiple:false,visibility:"hidden"}},defaultAggregation:"tokens",aggregations:{tokens:{type:"sap.m.Token",multiple:true,singularName:"token"},_tokensInfo:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{tokenChange:{deprecated:true,parameters:{type:{type:"string"},token:{type:"sap.m.Token"},tokens:{type:"sap.m.Token[]"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenUpdate:{deprecated:true,allowPreventDefault:true,parameters:{type:{type:"string"},addedTokens:{type:"sap.m.Token[]"},removedTokens:{type:"sap.m.Token[]"}}},tokenDelete:{parameters:{tokens:{type:"sap.m.Token[]"},keyCode:{type:"number"}}},renderModeChange:{parameters:{renderMode:{type:"string"}}}}},renderer:g});var P=d.getResourceBundleFor("sap.m");C.prototype.init=function(){this.allowTextSelection(false);this._oTokensWidthMap={};this._oIndicator=null;this._bShouldRenderTabIndex=null;this._oScroller=new h(this,this.getId()+"-scrollContainer",{horizontal:true,vertical:false,nonTouchScrolling:true});this._fFontSizeRatio=1;if(r.isAccessibilityEnabled()){var e=new c({text:P.getText("TOKENIZER_ARIA_NO_TOKENS")});this.setAggregation("_tokensInfo",e)}this.attachEvent("delete",function(e){var t=e.getSource();var o=this.getSelectedTokens();var i=!!o.length&&o[o.indexOf(t)+1]||o[o.indexOf(t)-1];this._fireCompatibilityEvents(t,o);this.fireEvent("tokenDelete",{tokens:[t]});if(i){i.focus()}e.cancelBubble()},this);this._bThemeApplied=false;this._handleThemeApplied=()=>{this._bThemeApplied=true;m.detachApplied(this._handleThemeApplied)};m.attachApplied(this._handleThemeApplied);this._observeTokens()};C.prototype._fireCompatibilityEvents=function(e,t){this.fireTokenChange({type:C.TokenChangeType.Removed,token:e,tokens:t.length?t:[e],addedTokens:[],removedTokens:t.length?t:[e]});this.fireTokenUpdate({type:C.TokenChangeType.Removed,addedTokens:[],removedTokens:t.length?t:[e]})};C.prototype._handleNMoreIndicatorPress=function(){this._bIsOpenedByNMoreIndicator=true;this._togglePopup(this.getTokensPopup(),this._getEffectiveOpener())};C.prototype._getEffectiveOpener=function(){return document.getElementById(this.getProperty("opener"))||this.getDomRef()};C.prototype._getTokensList=function(){if(!this._oTokensList){this._oTokensList=new i({width:"auto",mode:S.Delete}).attachDelete(this._handleListItemDelete,this).attachItemPress(this._handleListItemPress,this)}return this._oTokensList};C.prototype._setPopoverMode=function(e){var t=this.getTokensPopup();var o={showArrow:true,placement:R.VerticalPreferredBottom};t.setShowArrow(o.showArrow);t.setPlacement(o.placement);this._getTokensList().setMode(e)};C.prototype._fillTokensList=function(e,t){e.destroyItems();t=t?t:function(){return true};this.getTokens().filter(t).forEach(function(t){e.addItem(this._mapTokenToListItem(t))},this)};C.prototype._handleListItemDelete=function(e){var t=e.getParameter("listItem");var o=t&&t.data("tokenId");var i;i=this.getTokens().filter(function(e){return e.getId()===o&&e.getEditable()})[0];if(i){this.fireTokenUpdate({addedTokens:[],removedTokens:[i],type:C.TokenUpdateType.Removed});this.fireTokenDelete({tokens:[i]});this._adjustTokensVisibility()}};C.prototype._handleListItemPress=function(e){var t=e.getParameter("listItem");var o=t&&t.data("tokenId");var i=this.getTokens().filter(function(e){return e.getId()===o})[0];if(i){i.firePress()}};C.prototype.focusFirstTokenItem=function(){const e=this._getTokensList();const t=e.getItems();if(t.length){t[0].focus()}};C.prototype._handleTokenizerAfterOpen=function(e){this.focusFirstTokenItem();this.setRenderMode(I.Loose);this.fireRenderModeChange({renderMode:I.Loose})};C.prototype.addPopupClasses=function(e){if(e.hasStyleClass(b)){return}e.addStyleClass(b);e.addStyleClass(v)};C.prototype.getTokensPopup=function(){var e=this._getTokensList();if(this._oPopup){return this._oPopup}this._oPopup=new s({showArrow:true,showHeader:u.system.phone,placement:R.Auto,offsetX:0,offsetY:3,horizontalScrolling:false,title:this._getDialogTitle(),content:this._getTokensList()}).attachBeforeOpen(function(){var t=this.getEditable()?120:32,o=this._oPopup,i=function(){var e=this.getDomRef()&&this.getDomRef().parentElement;var t="Cozy";if(!e){return t}if(e.closest(".sapUiSizeCompact")!==null||document.body.classList.contains("sapUiSizeCompact")){t="Compact"}return t}.bind(this),n=new Promise(function(e){y.get({name:["_sap_m_Tokenizer_FontSizeRatio"+i()],callback:function(t){var o=parseFloat(t);if(isNaN(o)){e(this._fFontSizeRatio);return}e(o)}.bind(this)})}.bind(this));if(o.getContent&&!o.getContent().length){o.addContent(e)}this._fillTokensList(e);t+=Object.keys(this._oTokensWidthMap).map(function(e){return this._oTokensWidthMap[e]},this).sort(function(e,t){return e-t}).pop()||0;n.then(function(e){t+=Math.ceil(t*(1-e));o.setContentWidth(t+"px")})},this).attachAfterClose(this.afterPopupClose,this).attachAfterOpen(this._handleTokenizerAfterOpen,this);this.addDependent(this._oPopup);this.addPopupClasses(this._oPopup);if(u.system.phone){this._oPopup.setEndButton(new o({text:P.getText("SUGGESTIONSPOPOVER_CLOSE_BUTTON"),type:E.Emphasized,press:function(){this._oPopup.close()}.bind(this)}))}return this._oPopup};C.prototype.afterPopupClose=function(){if(!this.checkFocus()){this.setRenderMode(I.Narrow);this.fireRenderModeChange({renderMode:"Narrow"})}};C.prototype._getDialogTitle=function(){var e=d.getResourceBundleFor("sap.m");var t=this.getAriaLabelledBy().map(function(e){return l.getElementById(e)});return t.length?t[0].getText?.():e.getText("COMBOBOX_PICKER_TITLE")};C.prototype._togglePopup=function(){var e=this._getEffectiveOpener(),t=this.getTokensPopup(),o=t.isOpen(),i=this.getEditable();this._setPopoverMode(i?S.Delete:S.None);if(o){t.close()}else{t.openBy(e)}};C.prototype._mapTokenToListItem=function(e){if(!e){return null}var t=new n({selected:true,wrapping:true,type:M.Active,wrapCharLimit:1e4}).data("tokenId",e.getId());var o=function(e){this._togglePopup(this.getTokensPopup());if(this.getTokens().length&&this._bIsOpenedByNMoreIndicator){this.getTokens()[0].focus();this._bIsOpenedByNMoreIndicator=false}};t.setTitle(e.getText());t.addDelegate({onkeydown:function(e){e.preventDefault();if(!((e.ctrlKey||e.metaKey)&&e.which===k.I)&&e.which!==k.ESCAPE){return}this._togglePopup(this.getTokensPopup());if(this.getTokens().length&&this._bIsOpenedByNMoreIndicator){this.getTokens()[0].focus();this._bIsOpenedByNMoreIndicator=false}},onsapshow:o,onsaphide:o},this);return t};C.prototype._getPixelWidth=function(){var e=this.getMaxWidth(),t,o=this.getDomRef("inner")||this.getDomRef(),i;if(!o){return}i=parseInt(this.$().css("padding-left"));if(e.indexOf("px")===-1){t=o.clientWidth}else{t=parseInt(this.getMaxWidth())}return t-i};C.prototype._adjustTokensVisibility=function(){if(!this.getDomRef()){return}var e=this._getPixelWidth(),t=this._getVisibleTokens(),o=t.length,i,n,s,r=-1;t.some(function(t,i){e=e-this._oTokensWidthMap[t.getId()];if(e<=1&&o===1||e<0){r=i;return true}else{n=e;return false}},this);if(o===1&&r!==-1){this.setFirstTokenTruncated(true);return}else if(o===1&&t[0].getTruncated()){this.setFirstTokenTruncated(false)}if(r>-1){for(s=0;s<o;s++){if(s>=r){t[s].addStyleClass("sapMHiddenToken")}else{t[s].removeStyleClass("sapMHiddenToken")}}this._handleNMoreIndicator(o-r);i=this._oIndicator.width();if(i>=n){r=r-1;this._handleNMoreIndicator(o-r);t[r].addStyleClass("sapMHiddenToken")}this._setHiddenTokensCount(o-r)}else{this._setHiddenTokensCount(0);this._showAllTokens()}};C.prototype.setFirstTokenTruncated=function(e){var t=this.getTokens()[0];t&&t.setTruncated(e);if(e){this.addStyleClass("sapMTokenizerOneLongToken")}else{this.removeStyleClass("sapMTokenizerOneLongToken")}return this};C.prototype.hasOneTruncatedToken=function(){return this.getTokens().length===1&&this.getTokens()[0].getTruncated()};C.prototype._handleNMoreIndicator=function(e){if(!this.getDomRef()){return this}if(e){let t="MULTIINPUT_SHOW_MORE_TOKENS";if(e===this._getVisibleTokens().length){if(e===1){t="TOKENIZER_SHOW_ALL_ITEM"}else{t="TOKENIZER_SHOW_ALL_ITEMS"}}this._oIndicator.html(P.getText(t,[e]))}return this};C.prototype._getVisibleTokens=function(){return this.getTokens().filter(function(e){return e.getVisible()})};C.prototype._showAllTokens=function(){this._getVisibleTokens().forEach(function(e){e.removeStyleClass("sapMHiddenToken")})};C.prototype.getScrollDelegate=function(){return this._oScroller};C.prototype.scrollToEnd=function(){var e=this.getDomRef(),o=t.getRTL(),i=this.getTokens()[0]&&this.getTokens()[0].getDomRef()&&this.getTokens()[0].getDomRef()===document.activeElement,n,s;if(!this.getDomRef()||i){return}s=this.$().find(".sapMTokenizerScrollContainer")[0];n=s.scrollWidth;if(o){n*=-1}e.scrollLeft=n};C.prototype._registerResizeHandler=function(){if(!this._sResizeHandlerId){this._sResizeHandlerId=f.register(this,this._handleResize.bind(this))}};C.prototype._handleResize=function(){this._useCollapsedMode(this.getRenderMode())};C.prototype.setPixelWidth=function(e){if(typeof e!=="number"){_.warning("Tokenizer.setPixelWidth called with invalid parameter. Expected parameter of type number.");return}this.setWidth(e+"px");if(this._oScroller){this._oScroller.refresh()}};C.prototype.scrollToStart=function(){var e=this.getDomRef();if(!e){return}e.scrollLeft=0};C.prototype.getScrollWidth=function(){if(!this.getDomRef()){return 0}return this.$().children(".sapMTokenizerScrollContainer")[0].scrollWidth};C.prototype.onBeforeRendering=function(){var e=this.getTokens();if(e.length!==1){this.setFirstTokenTruncated(false)}e.forEach(function(t,o){t.setProperty("editableParent",this.getEditable()&&this.getEnabled());t.setProperty("posinset",o+1);t.setProperty("setsize",e.length)},this);this._setTokensAria();if(this.getTokensPopup()&&this.getTokensPopup().isOpen()){const t=this._getTokensList().getItems().length;if(e.length!==t){this._fillTokensList(this._getTokensList())}}};C.prototype.onAfterRendering=function(){var e=this.getRenderMode();var t=this._getTokenToFocus();this._oIndicator=this.$().find(".sapMTokenizerIndicator");if(this._bThemeApplied){this._storeTokensSizes()}this._useCollapsedMode(e);this._registerResizeHandler();if(!this.getEnabled()&&this.getTokens().length){this.getTokens().forEach(function(e){if(!e.getDomRef()){return}e.getDomRef().setAttribute("tabindex","-1")})}if(t&&t.getDomRef()&&this.getEffectiveTabIndex()){t.getDomRef().setAttribute("tabindex","0")}if(this._bFocusFirstToken){this.scrollToStart();this._bFocusFirstToken=false;return}if(e===I.Loose&&this._nMoreIndicatorPressed){this.scrollToEnd()}};C.prototype.onThemeChanged=function(){this._storeTokensSizes();this._useCollapsedMode(this.getRenderMode())};C.prototype._storeTokensSizes=function(){var e=this.getTokens();e.forEach(function(e){if(e.getDomRef()&&!e.$().hasClass("sapMHiddenToken")&&!e.getTruncated()){this._oTokensWidthMap[e.getId()]=e.$().outerWidth(true)}},this)};C.prototype._getTokenToFocus=function(){var e=this._getVisibleTokens();return e.find(e=>e.getSelected())||e[0]};C.prototype._useCollapsedMode=function(e){var t=this._getVisibleTokens();if(!t.length){this._setHiddenTokensCount(0);return}if(e===I.Loose){this._setHiddenTokensCount(0);this._showAllTokens();return}this._adjustTokensVisibility()};C.prototype.onsapfocusleave=function(e){if(document.activeElement===this.getDomRef()||!this.checkFocus()){this._oSelectionOrigin=null}if(!this.checkFocus()){this._bFocusFirstToken=true;this.setRenderMode(I.Narrow);this.fireRenderModeChange({renderMode:"Narrow"})}};C.prototype.onsapbackspace=function(e){var t=this.getSelectedTokens();var o=this.getTokens().filter(function(e){return e.getFocusDomRef()===document.activeElement})[0];var i=this.getTokens();var n=t.length?t:[o];var s=!!t.length&&i[t.indexOf(o)+1]||i[t.indexOf(o)-1];e.preventDefault();if(s){s.focus()}return this.fireTokenDelete({tokens:n,keyCode:e.which})};C.prototype.onsapdelete=C.prototype.onsapbackspace;C.prototype.onkeydown=function(e){var t;var o=(e.ctrlKey||e.metaKey)&&e.which===k.I;if(!this.getEnabled()){return}if(e.which===k.TAB){this._changeAllTokensSelection(false)}if((e.ctrlKey||e.metaKey)&&e.which===k.A){t=this.getSelectedTokens().length<this._getVisibleTokens().length;if(this._getVisibleTokens().length>0){this.focus();this._changeAllTokensSelection(t);e.preventDefault();e.stopPropagation()}}if((e.ctrlKey||e.metaKey)&&(e.which===k.C||e.which===k.INSERT)){this._copy()}if((e.ctrlKey||e.metaKey)&&e.which===k.X||e.shiftKey&&e.which===k.DELETE){if(this.getEditable()){this._cut()}else{this._copy()}}if(o){e.preventDefault();e.stopPropagation();this._togglePopup(this.getTokensPopup());return}};C.prototype.onsaphide=function(e){this._togglePopup(this.getTokensPopup())};C.prototype.onsapshow=C.prototype.onsaphide;C.prototype._shouldPreventModifier=function(e){var t=u.os.macintosh&&e.metaKey;var o=u.os.windows&&e.altKey;return t||o};C.prototype.onsappreviousmodifiers=function(e){if(!this._shouldPreventModifier(e)){this.onsapprevious(e)}};C.prototype._observeTokens=function(){var e=new p(function(e){var t=e.mutation;var o=e.child;switch(t){case"insert":o.attachEvent("_change",this.invalidate,this);break;case"remove":o.detachEvent("_change",this.invalidate,this);break;default:break}}.bind(this));e.observe(this,{aggregations:["tokens"]})};C.prototype.onsapnextmodifiers=function(e){if(!this._shouldPreventModifier(e)){this.onsapnext(e)}};C.prototype.onsaphomemodifiers=function(e){this._selectRange(false);this.scrollToStart()};C.prototype.onsappageupmodifiers=function(e){this._selectRange(false);this.scrollToStart()};C.prototype.onsapendmodifiers=function(e){this._selectRange(true);this.scrollToEnd()};C.prototype.onsappagedownmodifiers=function(e){this._selectRange(true);this.scrollToEnd()};C.prototype._selectRange=function(e){var t={},o=this._getVisibleTokens(),i=l.closestTo(document.activeElement),n=o.indexOf(i);if(!i||!i.isA("sap.m.Token")){return}if(e){t.start=n;t.end=o.length-1}else{t.start=0;t.end=n}if(t.start<t.end){for(var s=t.start;s<=t.end;s++){o[s].setSelected(true)}}};C.prototype._copy=function(){this._fillClipboard("copy")};C.prototype._fillClipboard=function(e){var t=this.getSelectedTokens();var o=t.map(function(e){return e.getText()}).join("\r\n");var i=function(e){if(e.clipboardData){e.clipboardData.setData("text/plain",o)}else{e.originalEvent.clipboardData.setData("text/plain",o)}e.preventDefault()};document.addEventListener(e,i);document.execCommand(e);document.removeEventListener(e,i)};C.prototype._cut=function(){var e=this.getSelectedTokens();this._fillClipboard("cut");this.fireTokenChange({type:C.TokenChangeType.Removed,token:e,tokens:e,addedTokens:[],removedTokens:e});this.fireTokenUpdate({type:C.TokenChangeType.Removed,addedTokens:[],removedTokens:e});this.fireTokenDelete({tokens:e})};C.prototype._ensureTokenVisible=function(e){if(!e||!e.getDomRef()||!this.getDomRef()){return}var o=this.$().offset().left,i=this.$().width(),n=e.$().offset().left,s=t.getRTL(),r=s?parseInt(e.$().css("margin-left")):parseInt(e.$().css("margin-right")),a=parseInt(e.$().css("border-left-width"))+parseInt(e.$().css("border-right-width")),l=e.$().width()+r+a,d=s?this.$().scrollLeftRTL():this.$().scrollLeft(),h=d-o+n,p=d+(n-o+l-i);if(this._getVisibleTokens().indexOf(e)===0){this.$().scrollLeft(0);return}if(n<o){s?this.$().scrollLeftRTL(h):this.$().scrollLeft(h)}if(n-o+l>i){s?this.$().scrollLeftRTL(p):this.$().scrollLeft(p)}};C.prototype.onfocusin=function(e){this.setRenderMode(I.Loose);this.fireRenderModeChange({renderMode:"Loose"});const t=this.getTokens()[0];this._bFocusFirstToken=e.srcControl===t;if(!this._bFocusFirstToken&&!this._bTokenToBeDeleted){this._ensureTokenVisible(e.srcControl)}};C.prototype.onmousedown=function(e){this._bTokenToBeDeleted=e.target.matches(".sapMTokenIcon, .sapMTokenIcon *")};C.prototype.ontap=function(e){var t=e.shiftKey,o=e.ctrlKey||e.metaKey,i=e.getMark("tokenTap"),n=e.getMark("tokenDeletePress"),s=this._getVisibleTokens(),r,a,l,d,h;if(n||!i||!t&&o){this._oSelectionOrigin=null;return}if(!t){this._oSelectionOrigin=i;this._changeAllTokensSelection(false,i,true)}r=i;if(this._oSelectionOrigin){r=this._oSelectionOrigin}else{this._oSelectionOrigin=r}if(i&&this.hasOneTruncatedToken()){this._handleNMoreIndicatorPress();return}a=this.indexOfToken(r);l=this.indexOfToken(i);d=Math.min(a,l);h=Math.max(a,l);s.forEach(function(e,o){if(o>=d&&o<=h&&t){e.setSelected(i.getSelected())}})};C.prototype.onsapprevious=function(e){var t=this._getVisibleTokens(),o=t.length;e.preventDefault();if(o===0){return}var i=l.closestTo(document.activeElement);var n=i?t.indexOf(i):-1;if(n===0){e.setMarked("forwardFocusToParent");return}var s,r;if(n>0){s=t[n-1];this._ensureTokenVisible(s);s.focus()}else{s=t[t.length-1];this._ensureTokenVisible(s);s.focus({preventScroll:true})}if(e.shiftKey){r=t[n];s.setSelected(true);r.setSelected(true)}e.setMarked()};C.prototype.onsapnext=function(e){var t=this._getVisibleTokens(),o=t.length;e.preventDefault();if(o===0){return}var i=l.closestTo(document.activeElement);var n=i?t.indexOf(i):-1;var s=t[n+1];this._ensureTokenVisible(s);if(n<o-1){var r=t[n];s.focus();if(e.shiftKey){s.setSelected(true);r.setSelected(true)}}else{e.setMarked("forwardFocusToParent");return}e.setMarked()};C.prototype.addValidator=function(e){_.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};C.prototype.removeValidator=function(e){_.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};C.prototype.removeAllValidators=function(){_.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};C.prototype.addValidateToken=function(e){_.warning("[Warning]:","You are attempting to use deprecated method 'addValidator()', please use MultiInput.prototype.addValidator instead.",this)};C.prototype._parseString=function(e){return e.split(/\r\n|\r|\n/g)};C.prototype.checkFocus=function(){var e=this._oPopup&&this._oPopup.getDomRef();var t=T(e,document.activeElement);return this.getDomRef()&&T(this.getDomRef(),document.activeElement)||t};C.prototype.selectAllTokens=function(e){if(e===undefined){e=true}this._changeAllTokensSelection(e);return this};C.prototype._changeAllTokensSelection=function(e,t,o){var i=this._getVisibleTokens();i.filter(function(e){return e!==t}).forEach(function(t){t.setSelected(e)});if(!o){this._doSelect()}return this};C.prototype.getSelectedTokens=function(){return this._getVisibleTokens().filter(function(e){return e.getSelected()})};["onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(e){C.prototype[e]=function(t){if(e==="onsaphome"||e==="onsappageup"){var o=this.getTokens().filter(function(e){return e.getDomRef()&&!e.getDomRef().classList.contains("sapMHiddenToken")});o.length&&o[0].focus();this.scrollToStart();t.preventDefault();return}var i=this._getVisibleTokens(),n=i[i.length-1];if(n.getDomRef()!==document.activeElement){n.focus();this.scrollToEnd();t.stopPropagation()}else{t.setMarked("forwardFocusToParent")}t.preventDefault()}});C.prototype.setShouldRenderTabIndex=function(e){this._bShouldRenderTabIndex=e};C.prototype.getEffectiveTabIndex=function(){return this._bShouldRenderTabIndex===null?!!this.getTokens().length:this._bShouldRenderTabIndex};C.prototype.onclick=function(e){if(!this.getEnabled()){return}this._nMoreIndicatorPressed=!this.hasOneTruncatedToken()&&!this.hasStyleClass("sapMTokenizerIndicatorDisabled")&&e.target.classList.contains("sapMTokenizerIndicator");if(this._nMoreIndicatorPressed){this._handleNMoreIndicatorPress()}};C.prototype.ontouchstart=function(e){e.setMarked();if(u.browser.chrome&&window.getSelection()){window.getSelection().removeAllRanges()}};C.prototype.exit=function(){this._deregisterResizeHandler();if(this._oTokensList){this._oTokensList.destroy();this._oTokensList=null}if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this._oPopup){this._oPopup.destroy();this._oPopup=null}this._oTokensWidthMap=null;this._oIndicator=null;this._aTokenValidators=null;this._bShouldRenderTabIndex=null;this._bThemeApplied=false};C.prototype._deregisterResizeHandler=function(){if(this._sResizeHandlerId){f.deregister(this._sResizeHandlerId);delete this._sResizeHandlerId}};C.prototype._setTokensAria=function(){var e=this._getVisibleTokens().length;var t;var o="";var i="";var n={0:"TOKENIZER_ARIA_NO_TOKENS",1:"TOKENIZER_ARIA_CONTAIN_ONE_TOKEN"};if(r.isAccessibilityEnabled()){t=this.getAggregation("_tokensInfo");i=n[e]?n[e]:"TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS";o=P.getText(i,[e]);t.setText(o)}};C.prototype._doSelect=function(){if(this.checkFocus()&&this._bCopyToClipboardSupport){var e=document.activeElement;var t=window.getSelection();t.removeAllRanges();if(this.getSelectedTokens().length){var o=document.createRange();o.selectNodeContents(this.getDomRef("clip"));t.addRange(o)}if(window.clipboardData&&e.id===this.getId()+"-clip"&&this.getDomRef()){this.getDomRef().focus()}}};C.prototype._setHiddenTokensCount=function(e){e=this.validateProperty("hiddenTokensCount",e);return this.setProperty("hiddenTokensCount",e)};C.prototype.getHiddenTokensCount=function(){return this.getProperty("hiddenTokensCount")};C.prototype.getTokensInfoId=function(){return this.getAggregation("_tokensInfo").getId()};C.prototype._handleBackspace=function(e,t){var o=this.getTokens();if(o[e-1]){return o[e-1].focus()}return t()};C.prototype._handleDelete=function(e,t){var o=this.getTokens();if(o[e+1]){return o[e+1].focus()}return t()};C.prototype.focusToken=function(e,t,o){var i=this.getTokens();var n=t.keyCode;var s=t.keyCode===k.BACKSPACE;if(i.length===0){return}if(!n){return}if(s){return this._handleBackspace(e,o)}return this._handleDelete(e,o)};C.TokenChangeType={Added:"added",Removed:"removed",RemovedAll:"removedAll",TokensChanged:"tokensChanged"};C.TokenUpdateType={Added:"added",Removed:"removed"};return C});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TokenizerRenderer", ["sap/ui/Device","sap/ui/core/InvisibleText"],function(e,n){"use strict";var t={apiVersion:2};t.render=function(e,n){this.renderOpenTag(e,n);this.renderInnerContent(e,n)};t.renderInnerContent=function(t,o){var r=o.getTokens();t.class("sapMTokenizer");if(!o.getEditable()){t.class("sapMTokenizerReadonly")}if(!o.getEnabled()){t.class("sapMTokenizerDisabled")}if(!r.length){t.class("sapMTokenizerEmpty");t.attr("aria-hidden","true")}this.addWidthStyles(t,o);var i={role:"listbox"};i.labelledby={value:n.getStaticId("sap.m","TOKENIZER_ARIA_LABEL"),append:true};t.accessibilityState(o,i);t.openEnd();t.renderControl(o.getAggregation("_tokensInfo"));o._bCopyToClipboardSupport=false;if((e.system.desktop||e.system.combi)&&r.length){t.openStart("div",o.getId()+"-clip").class("sapMTokenizerClip");if(window.clipboardData){t.attr("contenteditable","true");t.attr("tabindex","-1")}t.openEnd();t.unsafeHtml("&nbsp");t.close("div");o._bCopyToClipboardSupport=true}t.openStart("div",o.getId()+"-scrollContainer");t.class("sapMTokenizerScrollContainer");if(o.getHiddenTokensCount()===o.getTokens().length){t.class("sapMTokenizerScrollContainerNoVisibleTokens")}t.openEnd();this._renderTokens(t,o);t.close("div");this._renderIndicator(t,o);t.close("div")};t.renderOpenTag=function(e,n){e.openStart("div",n)};t.addWidthStyles=function(e,n){e.style("max-width",n.getMaxWidth());var t=n.getWidth();if(t){e.style("width",t)}};t._renderTokens=function(e,n){var t=0,o=n.getTokens(),r=o.length;for(t=0;t<r;t++){e.renderControl(o[t])}};t._renderIndicator=function(e,n){var t=n._oPopup?.isOpen();var o=n._oPopup?.getDomRef()&&n._oPopup?._oControl.getId();e.openStart("span");e.class("sapMTokenizerIndicator");this._renderIndicatorTabIndex(e,n);if(n.getHiddenTokensCount()===0){e.class("sapUiHidden")}e.attr("role","button").attr("aria-haspopup","dialog").attr("aria-expanded",t);if(o){e.attr("aria-controls",o)}e.openEnd().close("span")};t._renderIndicatorTabIndex=function(e,n){};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/completeTextSelected", [],function(){"use strict";var e=function(e){var t=e&&e.value&&e.value.length;if(!e||!t||e.selectionStart!==0||e.selectionEnd!==t){return false}return true};return e});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/forwardItemProperties", ["sap/m/inputUtils/ListHelpers"],function(e){"use strict";var t=function(t,i){var a=t.item;var r=a.data(e.CSS_CLASS+"ListItem");var s;var l;var p;var n={text:"title",enabled:"visible",tooltip:"tooltip"};var o=t.propName;var v=t.propValue;if(!r){return}if(a.isA("sap.ui.core.Item")&&o==="enabled"){a._bSelectable=!!v}if(n[o]){l=n[o];p="set"+l.charAt(0).toUpperCase()+l.slice(1);r[p](v)}if(o==="additionalText"){s=i?v:"";r.setInfo(s)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/forwardItemPropertiesToToken", ["sap/m/inputUtils/ListHelpers","sap/m/inputUtils/getTokenByItem"],function(e,t){"use strict";var r=function(e){var r=e.item;var i=e.propName;var a=e.propValue;var s=t(r);if(!s){return}if(i==="enabled"){s.setVisible(a)}else if(s.getMetadata().hasProperty(i)){s.setProperty(i,a)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/getTokenByItem", ["sap/m/inputUtils/ListHelpers"],function(n){"use strict";var t=function(t){return t?t.data(n.CSS_CLASS+"Token"):null};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/highlightItemsWithContains", ["sap/base/security/encodeXML"],function(e){"use strict";var n=function(n,t){if(!RegExp.escape){RegExp.escape=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}}var r=n?n.textContent:"",i="",u=RegExp.escape(t),a=new RegExp(u,"gi"),p=function(e){return e.match(new RegExp(a,"i"))};if(!p(r)){return e(r)}else{i=r.replace(a,function(n){return'<span class="sapMInputHighlight">'+e(n)+"</span>"})}return i};var t=function(e,t,r){var i,u;r=r||200;if(!t||!e&&!e.length||e.length>r){return}u=[];for(i=0;i<e.length;i++){u.push(n(e[i],t))}for(i=0;i<e.length;i++){e[i].innerHTML=u[i]}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/inputUtils/itemsVisibilityHandler", ["sap/m/inputUtils/ListHelpers"],function(i){"use strict";return function(e,t){var s,r,n;if(!Array.isArray(e)||!e.length){return}t=t||{};s=t.items||[];r=t.groups||[];e.forEach(function(e){n=i.getListItem(e);if(!e.isA("sap.ui.core.SeparatorItem")&&n){n.setVisible(s.indexOf(e)!==-1)}});r.forEach(function(e){n=i.getListItem(e.header);n&&n.setVisible(e.visible)})}});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollLeftRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return t.clientWidth+i-t.scrollWidth}}else{t=function(i,t){return i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollLeftRTL", ["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i;if(e.initialScrollPositionIsZero()){i=function(t){return t.scrollWidth+t.scrollLeft-t.clientWidth}}else{i=function(t){return t.scrollLeft}}var r=function(e){var r=this.get(0);if(r){if(e===undefined){return i(r)}else{r.scrollLeft=t(e,r);return this}}};jQuery.fn.scrollLeftRTL=r;return jQuery});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Layout", ["sap/base/i18n/Localization","sap/base/util/extend","sap/ui/Device","sap/ui/core/Element","sap/ui/core/EventBus","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/Container"],(t,e,i,s,n,jQuery,o,r)=>{"use strict";function l(t){this.init(t)}l.prototype={settings:null,tileWidth:0,tileHeight:0,tileMargin:0,curTouchMatrixCords:null,tilesInRow:null,groupsList:null,item:null,matrix:null,tiles:null,collisionLeft:false,startGroup:null,currentGroup:null,endGroup:null,init:function(i){this.curTouchMatrixCords={column:null,row:null};this.endGroup=null;this.groupSwitched=false;this.item=null;this.matrix=null;this.tiles=null;this.collisionLeft=false;this.startArea=null;this.currentArea=null;this.endArea=undefined;this.startGroup=null;this.draggedTileDomRef=null;this.sDragStartGroupModelId=undefined;this.sDragTargetGroupModelId=undefined;this.currentGroup=null;this.groupsList=null;this.allGroups=null;this.settings=this.settings||i;e(this,this.settings);this.tileWidth=this.thisLayout.styleInfo.tileWidth;this.tileHeight=this.thisLayout.styleInfo.tileHeight;this.tileMargin=this.thisLayout.styleInfo.tileMarginWidth;this.aExcludedControlClass=this.aExcludedControlClass||[];this.reorderElementsCallback=this.reorderElementsCallback||function(){};this.rightToLeft=t.getRTL();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false;this.collidedLinkAreas=[];this.intersectedLink=null;this.aLinksBoundingRects=[];this.intersectedLinkPlaceHolder=undefined;this.isLinkPersonalizationSupported=this.thisLayout.oLaunchPageService?this.thisLayout.oLaunchPageService.isLinkPersonalizationSupported():null;this.isLinkMarkerShown=false;this.bIsTabBarCollision=false},moveDraggable:function(t,e,i){const s=this.getCollisionObject(t,e,i);let n;if(s){this._toggleAnchorItemHighlighting(false);if(s.collidedObjectType!=="TabBar"){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();this.bIsTabBarCollision=false}else{this.bIsTabBarCollision=true;this._toggleTabBarOverflowArrows(true);this.removePlaceHolders();this._handleTabBarCollision(t,i)}if(this.isLinkPersonalizationSupported&&s.collidedObjectType==="Group-link"){n=this._handleLinkAreaIntersection(s.collidedObject,t,e)}else if(s.collidedObjectType==="Group-tile"){n=this._handleTileAreaIntersection(s.collidedObject,t,e);this._toggleTileCloneHoverOpacity(false)}if(n||this.endAreaChanged){this.handlePlaceHolder(s.collidedObject)}}else{this._removeEmptyLinkAreaMark()}},_toggleAnchorItemHighlighting:function(t){if(this.targetGroup){this.targetGroup.classList.toggle("sapUshellAnchorItemDropCollision",t);this.targetGroup.firstElementChild.classList.toggle("sapUshellAnchorInnerMarker",t)}},removePlaceHolders:function(){this._removeLinkDropMarker();this._removeEmptyLinkAreaMark();this._handleChangedGroup(this.currentGroup)},handlePlaceHolder:function(t){if(this.endArea==="tiles"){if(this.endAreaChanged){this._removeLinkDropMarker()}this.handlePlaceholderChange()}else if(this.endArea==="links"&&this.intersectedLink){this._changeLinkPlaceholder(this.intersectedLink,t);if(this.endAreaChanged){this.handlePlaceholderChange()}}},switchLinkWithClone:function(t){if(t){this.intersectedLinkPlaceHolder=t.getDomRef().cloneNode(true);this.intersectedLinkPlaceHolder.setAttribute("id","sapUshellIntersectedLinkPlaceHolder");t.$().replaceWith(this.intersectedLinkPlaceHolder)}},_removeLinkDropMarker:function(){jQuery("#sapUshellLinkDropMarker").remove();this.isLinkMarkerShown=false},saveLinkBoundingRects:function(t){const e=s.getElementById(t.getAttribute("id"));this.draggedLinkBoundingRects=e.getBoundingRects()},_getMarkerOffset:function(t,e){const i=e.getDomRef().getElementsByClassName("sapUshellLineModeContainer")[0].getBoundingClientRect();const s=i.left;const n=i.top;const o=this.rightToLeft?20:-1;const r=this.rightToLeft?42:21;let l=t[t.length-1].offset.x-s+t[t.length-1].width-o;let a=t[this.rightToLeft?t.length-1:0].offset.x-s-r;let h=t[this.rightToLeft?t.length-1:0].offset.y-n;let u=t[this.rightToLeft?0:t.length-1].offset.y-n;if(document.body.classList.contains("sapUiSizeCompact")){h-=6;u-=6}if(this.rightToLeft){if(i.right-t[t.length-1].offset.x-t[t.length-1].width<16){l=l-8}}else if(a<16){a=0}return{right:l,left:a,topLeft:h,topRight:u}},_changeLinkPlaceholder:function(t,e){const i=this.aLinksBoundingRects[t.link.getId()];const s=i.left;const n=i.topLeft;const o=i.topRight;const r=i.right;if(!e.getDomRef().querySelector("#sapUshellLinkDropMarker")){this._removeLinkDropMarker();const t=e.getDomRef().getElementsByClassName("sapUshellLinksInnerContainer")[0];jQuery(t).prepend(this.LinkDropMarker)}this.LinkDropMarker.style.left=`${t.leftSide?s:r}px`;this.LinkDropMarker.style.top=`${t.leftSide?n:o}px`;this.isLinkMarkerShown=true},showTilePlaceholder:function(t,e,i){const s=this.curTouchMatrixCords.row;const n=this.curTouchMatrixCords.column;this.domRef=this.item.getDomRef()?this.item.getDomRef():this.domRef;this.domRef.style.display="";this.removeExcludedElementsFromMatrix(this.aExcludedControlClass);const o=this.tiles||this.thisLayout.getGroupTiles(this.endGroup).slice(0);if(this.matrix[s]&&typeof this.matrix[s][n]==="object"){this.handleMatrixCollision(o,t,e,i);return}this._handleMoveOutOfBorders(o,t)},removeTilePlaceholder:function(){this.domRef=this.item.getDomRef()||this.domRef;let t=this.thisLayout.getGroupTiles(this.currentGroup);t=t.slice(0);if(this.startArea!=="links"&&t.indexOf(this.item)>-1){t.splice(t.indexOf(this.item),1)}if(!this.domRef.parentNode.contains("sapUshellLinksInnerContainer")){this.domRef.style.display="none"}this.thisLayout.initGroupDragMode(this.endGroup);const e=this.thisLayout.organizeGroup(t);this.thisLayout.renderLayoutGroup(this.currentGroup,e)},handlePlaceholderChange:function(){const t=this.currentGroup;const e=this.endGroup!==this.currentGroup;const i=this.endAreaChanged&&this.endArea==="links";const s=this.thisLayout.isTabBarActive()&&this.groupSwitched;this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0);this.matrix=this.thisLayout.organizeGroup(this.tiles);if(s){this.handleTabBarSwitch(t)}if(e){this._handleChangedGroup(t)}else if(i){this.removeTilePlaceholder()}if(!i){this.showTilePlaceholder(t,e,i)}},handleMatrixCollision:function(t,e,i,s){let n=this.matrix[this.curTouchMatrixCords.row][this.curTouchMatrixCords.column];const o=t.indexOf(n);const r=t.indexOf(this.item);if(this.rightToLeft){this.collisionLeft=!this.collisionLeft}if(r>-1&&r<o){n=t[o+1]}if(n===this.item){if(i||s){t.splice(t.indexOf(this.item),1)}this._handleTileReplace(t,e);return}const l=this.changeTilesOrder(this.item,n,t,this.matrix);if(l&&!this.isLinkMarkerShown){this._handleTileReplace(l,e)}},handleTabBarSwitch:function(t){this._appendTargetGroupDomRefWithDraggedTile();if(!this.item.getDomRef()){this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.draggedTileDomRef)}else{this.endGroup.getInnerContainersDomRefs()[0].appendChild(this.item.getDomRef())}this.currentGroup=this.endGroup;const e=this.thisLayout.getGroupTiles(t);this.thisLayout.initGroupDragMode(this.endGroup);const i=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,i)},_handleMoveOutOfBorders:function(t,e){const i=this.findTileToPlaceAfter(this.matrix,t);if(t[i+1]===this.item){return}let s;if(t[i+1]){s=t[i+1]}else if(this.currentGroup.getShowPlaceholder()){s=t[0]}const n=this.changeTilesOrder(this.item,s,t,this.matrix);if(n){this._handleTileReplace(n,e)}},_handleChangedGroup:function(t){let e=this.thisLayout.getGroupTiles(this.currentGroup);if(this.currentGroup===this.startGroup&&(this.startArea==="tiles"||this.intersectedLinkPlaceHolder)){e=e.slice(0);if(e.indexOf(this.item)>-1){e.splice(e.indexOf(this.item),1)}}if(this.startGroup===this.endGroup&&this.startArea==="tiles"){this.tiles.splice(this.tiles.indexOf(this.item),1)}const i=this.item.getDomRef()||this.domRef;if(this.startArea==="links"&&!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea==="tiles"){this.endGroup.getInnerContainersDomRefs()[0].appendChild(i)}if(!i.parentNode.contains("sapUshellLinksInnerContainer")){i.style.display="none"}this.currentGroup=this.endGroup;this.thisLayout.initGroupDragMode(this.endGroup);const s=this.thisLayout.organizeGroup(e);this.thisLayout.renderLayoutGroup(t,s)},_handleTileReplace:function(t,e){this.reorderElementsCallback({currentGroup:e,endGroup:this.endGroup,tiles:t,item:this.item});this.reorderTilesView(t,this.endGroup);this.reorderTilesInDom();this.thisLayout.renderLayoutGroup(this.endGroup,this.matrix)},_getIntersectedLink:function(t,e,i){const s=document.getElementsByClassName("sapUshellLinkTile")[0];if(!s){return}const n=t.getDomRef().querySelector(".sapUshellLineModeContainer").getBoundingClientRect();const o=!document.body.classList.contains("sapUiSizeCompact");let r=Math.floor((i-n.top)/(o?45:31));const l=this.collidedLinkAreas[t.getId()];let a;if(this.rightToLeft){a=Math.floor((n.right-e)/20)}else{a=Math.floor((e-n.left)/20)}if(r<l.length&&l[r]&&a<l[r].length){return l[r][a]}else if(l.length){const e=l.length;if(r>=e){r=e-1}if(!this.collidedLinkAreas[t.getId()][r]){return}a=this.collidedLinkAreas[t.getId()][r].length;return this.collidedLinkAreas[t.getId()][r][a-1]}},_mapGroupLinks:function(t){const e=t.getId();if(!this.collidedLinkAreas[e]||this.bElapseGroupLinksMap){this.bElapseGroupLinksMap=false;const i=t.getLinks();const s=[];let n;let o;let r=0;this.collidedLinkAreas.push(t.getId());i.forEach(e=>{o=this._getLinkBoundingRects(e,t);o.forEach(i=>{if(i.offset.y>n){r++}n=i.offset.y;this._addLinkToHashMap(s,t,i,r,e)})});this.collidedLinkAreas[e]=s}},_getLinkBoundingRects:function(t,e){let i=t.getBoundingRects();if(this.item&&this.item.getId()===t.getId()){i=this.draggedLinkBoundingRects}if(i.length){this.aLinksBoundingRects[t.getId()]=this._getMarkerOffset(i,e)}return i},_addLinkToHashMap:function(t,e,i,s,n){if(!t[s]){t[s]=[]}for(let e=0;e<=(i.width+20)/20;e++){const o={link:n,leftSide:!this.rightToLeft};if(e>(i.width+20)/20/2){o.leftSide=this.rightToLeft}t[s].push(o)}},_isLinkAreaIntersection:function(t,e,i){const s=t.getInnerContainersDomRefs();if(s[1]){return this._isElementCollideByGivenCordinates(s[1],e,i)}return false},_isLinksEquals:function(t,e){if(!t||!e){return false}if(t.link.getId()!==e.link.getId()){return false}return t.link.leftSide===e.link.leftSide},_toggleTileCloneHoverOpacity:function(t){const e=document.getElementsByClassName("sapUshellTile-clone");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTileDragOpacity",t)}},_handleLinkAreaIntersection:function(t,e,i){if(this.isLinkPersonalizationSupported){this._toggleTileCloneHoverOpacity(true)}this._mapGroupLinks(t);this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const s=this._getIntersectedLink(t,e,i);let n=false;if(s){n=this._isLinksEquals(this.intersectedLink,s);this.intersectedLink=s}else{this.removeTilePlaceholder()}this._markEmptyLinkArea(t);return n},_markEmptyLinkArea:function(t){if(!t.getLinks().length){const e=t.getDomRef();if(e){const t=e.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.add("sapUshellEmptyLinkAreaHover")}}}},_removeEmptyLinkAreaMark:function(){const t=document.getElementsByClassName("sapUshellLineModeContainer");for(let e=0;e<t.length;++e){t[e].classList.remove("sapUshellEmptyLinkAreaHover")}},reorderTilesInDom:function(){const t=this.item.getDomRef()?this.item.getDomRef():this.domRef;const e=jQuery(t).index();const i=jQuery(t).closest(".sapUshellTilesContainer-sortable");const s=this.calcDestIndexInGroup();const n=jQuery(this.endGroup.getDomRef()).find(".sapUshellTilesContainer-sortable");let o=n.find(".sapUshellTile");if(this.startArea==="tiles"){i.find(o[e]).remove()}else if(!this.intersectedLinkPlaceHolder){this.switchLinkWithClone(this.item)}if(this.endArea!=="links"){o=n.find(".sapUshellTile");n[0].insertBefore(t,o[s])}},isLinkIntersected:function(){return this.intersectedLink!==undefined},calcDestIndexInGroup:function(){let t;let e=0;let i;let s;let n=false;for(i=0;i<this.matrix.length&&!n;i++){for(s=0;s<this.matrix[i].length;s++){if(this.matrix[i][s]!==undefined){if(this.item.sId!==this.matrix[i][s].sId){if(t!==this.matrix[i][s].sId){t=this.matrix[i][s].sId;e++}}else{n=true;break}}}}return e},layoutStartCallback:function(t){this.init();this.item=s.getElementById(t.getAttribute("id"));this.tilesInRow=this.thisLayout.getTilesInRow();this.groupsList=this.thisLayout.getGroups();this.allGroups=this.thisLayout.getAllGroups();this.startGroup=this.currentGroup=this.item.getParent();this.groupSwitched=false;this.startArea=this.isLinkPersonalizationSupported&&this.item.getMode&&this.item.getMode()==="LineMode"?"links":"tiles";this.currentArea=this.startArea;this.thisLayout.initDragMode();if(this.isLinkPersonalizationSupported){this.LinkDropMarker=this._getLinkDropMarkerElement()}},_getLinkDropMarkerElement:function(){const t=document.createElement("DIV");const e=document.createElement("DIV");const i=document.createElement("DIV");t.setAttribute("id","sapUshellLinkDropMarker");e.setAttribute("id","sapUshellLinkDropMarkerDot");i.setAttribute("id","sapUshellLinkDropMarkerLine");t.appendChild(e);t.appendChild(i);return t},isAreaChanged:function(){return this.currentArea&&this.endArea?this.currentArea!==this.endArea:false},isOriginalAreaChanged:function(){return this.startArea&&this.endArea?this.startArea!==this.endArea:false},_getDestinationIndex:function(t){if(t==="links"){if(this.intersectedLink){let t=this.endGroup.getLinks().indexOf(this.intersectedLink.link);const e=this.endGroup.getLinks().indexOf(this.item);if(this.intersectedLink.leftSide){t=this.rightToLeft?t+1:t-1}if(e<0||e>t){t=this.rightToLeft?t:t+1}return t}return this.endGroup.getLinks().length}return this._getDestinationTileIndex()},layoutEndCallback:function(){this._removeLinkDropMarker();if(this.endArea!=="links"&&!this.tiles){return{tile:this.item}}const t=this._getDragSourceGroup();if(!u.isTabBarActive()||!this.bIsTabBarCollision){this.targetGroup=""}const e=this._getDestGroupObject(this.targetGroup);const i={srcGroup:t,dstGroup:e,dstGroupData:this._getDropTargetGroup(),tile:this.item,dstTileIndex:this._getDestinationIndex(this.endArea),tileMovedFlag:true,srcArea:this.startArea,dstArea:this.bIsTabBarCollision?undefined:this.endArea};return i},_getDestGroupObject:function(t){return t?s.getElementById(t.getAttribute("id")):this.endGroup},_getDragSourceGroup:function(){let t;t=this.startGroup;if(this.thisLayout.isTabBarActive()&&this.groupSwitched===true){t={groupId:this.sDragStartGroupModelId}}return t},_getDropTargetGroup:function(){let t;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t={groupId:this.sDragTargetGroupModelId}}else{t=this.endGroup}return t},_getDestinationTileIndex:function(){let t;let e;if(this.thisLayout.isTabBarActive()&&this.thisLayout.isOnTabBarElement()){t=this._getDropTargetGroup().groupId;e=this._getModelGroupById(t);return e.tiles.length}return this.tiles.indexOf(this.item)},compareArrays:function(t,e){if(t.length!==e.length){return false}for(let i=0;i<t.length;i++){if(t[i]!==e[i]){return false}}return true},reorderTilesView:function(t){this.tiles=t;this.matrix=this.thisLayout.organizeGroup(t)},changeTilesOrder:function(t,e,i,s){const n=i.slice(0);const o=n.indexOf(t);let r;let l;let a;if(o>-1){n.splice(o,1)}if(e){n.splice(n.indexOf(e),0,this.item)}else{n.push(t)}if(this.currentGroup===this.endGroup){if(this.compareArrays(i,n)){return false}r=this.thisLayout.organizeGroup(n);l=this.thisLayout.getTilePositionInMatrix(t,s);a=this.thisLayout.getTilePositionInMatrix(t,r);if(l.row===a.row&&l.col===a.col){return false}}this.tiles=n;this.currentGroup=this.endGroup;return n},setMatrix:function(t){this.matrix=t},findTileToPlaceAfter:function(t,e){let i=this.thisLayout.rightToLeft?0:this.curTouchMatrixCords.column;const s=this.thisLayout.rightToLeft?1:-1;let n=0;let o;let r;let l;const a=t[0].length;for(o=this.curTouchMatrixCords.row;o>=0;o--){for(r=i;r>=0&&r<a;r+=s){if(!t[o]||typeof t[o][r]!=="object"){continue}l=e.indexOf(t[o][r]);n=l>n?l:n}i=t[0].length-1}return n||e.length-1},_isElementCollideByGivenCordinates:function(t,e,i){let s=t.getBoundingClientRect();let n=false;let o=false;if(s.height===0&&!t.classList.contains("sapUshellNoLinksAreaPresent")){s=t.parentNode.getBoundingClientRect()}n=s.right>=e&&s.left<=e;o=s.bottom>=i&&s.top<=i;return n&&o},_getMatrixCordinatesOfTouchedTile:function(t,i,s){let n=e({},this.curTouchMatrixCords);const o=t.getInnerContainersDomRefs()[0].getBoundingClientRect();this.matrix=this.matrix||this.thisLayout.organizeGroup(this.thisLayout.getGroupTiles(t));const r=this.rightToLeft?o.right+-1*i:o.left*-1+i;const l=(o.top*-1+s)/(this.tileHeight+this.tileMargin);const a=r/(this.tileWidth+this.tileMargin);n={row:Math.floor(l),column:Math.floor(a)};return n},_getCollidedGroup:function(t,e){for(let i=0;i<this.groupsList.length;i++){const s=this.groupsList[i];const n=s.getInnerContainersDomRefs();if(!n){continue}for(let o=0;o<n.length;o++){if(n[o]&&this._isElementCollideByGivenCordinates(n[o],t,e)){const t=!s.groupHasTiles();for(let e=this.groupsList.length-1;e>=i;e--){if(t){break}if(!this.groupsList[e].groupHasTiles()){const t=this.groupsList[e].getDomRef();if(!t||!t.classList.contains("sapUshellInDragMode")){continue}const i=t.getElementsByClassName("sapUshellInner");for(let t=0;t<i.length;t++){i[t].removeAttribute("style")}}}return s}}}},_handleTileAreaIntersection:function(t,i,s){const n=this._getMatrixCordinatesOfTouchedTile(t,i,s);if(t===this.endGroup&&n.column===this.curTouchMatrixCords.column&&n.row===this.curTouchMatrixCords.row){return false}if(this.rightToLeft){this.collisionLeft=this.curTouchMatrixCords.column-n.column>0}else{this.collisionLeft=n.column-this.curTouchMatrixCords.column>0}if(n.column===this.curTouchMatrixCords.column){this.collisionLeft=false}e(this.curTouchMatrixCords,n);return true},_getGroupCollisionObject:function(t,e){const i=this._getCollidedGroup(t,e);if(!i||i.getIsGroupLocked()){return undefined}const s=this._isLinkAreaIntersection(i,t,e);this.endGroup=i;if(!this.tiles){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}this.endArea=s?"links":"tiles";this.endAreaChanged=this.isAreaChanged();this.currentArea=this.endArea;return{collidedObjectType:s?"Group-link":"Group-tile",collidedObject:i}},getCollisionObject:function(t,e){if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}if(this.thisLayout.isTabBarActive()&&this._isTabBarCollision(e)){return{collidedObjectType:"TabBar"}}return this._getGroupCollisionObject(t,e)},_isTabBarScrollArea:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;const n=e+s;return e>0&&t>n&&t<n+30},_cancelLongDropTimmer:function(){clearTimeout(this.thisLayout.oTabBarItemClickTimer)},_isTabBarCollision:function(t){const e=jQuery("#anchorNavigationBar").height()||0;const i=jQuery("#anchorNavigationBar").offset();const s=i?i.top:0;return t<e+s&&t>s},_handleTabBarCollision:function(t,e){const i=this._getTabBarHoverItem(t,e);if(u.isTabBarActive()){this._toggleTileCloneHoverOpacity(true)}this.lastHighlitedTabItem=i;this.thisLayout.setOnTabBarElement(true);const s=this._handleOverflowCollision(t);if(s){return}if(!i){return}this.targetGroup=i;this.sDragTargetGroupModelId=i.getAttribute("modelGroupId");const o=this._getTabBarGroupIndexByModelId(this.sDragTargetGroupModelId);if(this.thisLayout.oTabBarItemClickTimer){clearTimeout(this.thisLayout.oTabBarItemClickTimer)}const r=this._getModelGroupById(this._getDropTargetGroup().groupId);if(r.isGroupLocked){this._toggleTabBarOverflowArrows(false);this.thisLayout.setOnTabBarElement(false);this._resetOverFlowButtonElements();return}this._toggleAnchorItemHighlighting(true);if(!this.sDragStartGroupModelId){this.sDragStartGroupModelId=this.startGroup.getGroupId()}this.thisLayout.oTabBarItemClickTimer=setTimeout(()=>{const t=this._getSelectedTabBarItem();if(this.lastHighlitedTabItem===t){return}this.draggedTileModelPath=this.item.getBindingContext().getPath();this._prepareDomForDragAndDrop();this.startGroup.removeAggregation("tiles",this.item,true);const e=this.sDragStartGroupModelId===this.sDragTargetGroupModelId;this.item.getBindingContext().oModel.setProperty(`${this.draggedTileModelPath}/draggedInTabBarToSourceGroup`,e);this.groupSwitched=true;n.getInstance().publish("launchpad","switchTabBarItem",{iGroupIndex:o});const i=this.thisLayout.getGroups();this.endGroup=i[0];this.bElapseGroupLinksMap=true},800);if(this.tiles===null&&this.endGroup){this.tiles=this.thisLayout.getGroupTiles(this.endGroup).slice(0)}const l=document.getElementsByClassName("sapUshellTabBarHoverOn");for(let t=l.length-1;t>=0;--t){l[t].classList.remove("sapUshellTabBarHoverOn")}i.classList.add("sapUshellTabBarHoverOn");return true},_prepareDomForDragAndDrop:function(){const t=this.item.getDomRef();if(i.system.tablet){const e=t.cloneNode(true);const i=t.parentNode;this.origItemId=t.getAttribute("id");this.origItemDataSapUi=t.getAttribute("data-sap-ui");t.removeAttribute("id");t.removeAttribute("data-sap-ui");t.style.display="none";e.style.display="none";const s=document.getElementById("dashboardGroups");s.parentNode.appendChild(t);i.appendChild(e);this.draggedTileDomRef=t}else if(!this.draggedTileDomRef){this.draggedTileDomRef=t}},_appendTargetGroupDomRefWithDraggedTile:function(){const t=this.endGroup.getInnerContainerDomRefs()?this.endGroup.getInnerContainerDomRefs()[0]:null;if(!this.item.getDomRef()){if(i.system.tablet){this.draggedTileDomRef.setAttribute("id",this.origItemId);this.draggedTileDomRef.setAttribute("data-sap-ui",this.origItemDataSapUi);this.draggedTileDomRef.style.display=""}if(t){t.appendChild(this.draggedTileDomRef)}}else{if(t){t.appendChild(this.item.getDomRef())}if(i.system.tablet){this.item.getDomRef().style.display=""}}},_getSelectedTabBarItem:function(){return document.getElementsByClassName("sapUshellAnchorItemSelected")[0]},_getTabBarGroupIndexByModelId:function(t){let e;for(let i=0;i<this.allGroups.length;++i){e=this.allGroups[i].groupId;if(t===e){return i}}},_getModelGroupById:function(t){const e=this.thisLayout.getAllGroups();let i;let s;for(let n=0;n<e.length;++n){i=e[n];s=i.groupId;if(s===t){return i}}},_handleOverflowCollision:function(t){const e=s.getElementById("anchorNavigationBar");const i=this._calculateOverflowButtonSideCollision(t);if(i==="right"){if(!this.tabBarArrowCollisionRight){e._scrollToGroupByGroupIndex(e.anchorItems.length-1,5e3);this.tabBarArrowCollisionRight=true}return true}else if(i==="left"){if(!this.tabBarArrowCollisionLeft){e._scrollToGroupByGroupIndex(0,5e3);this.tabBarArrowCollisionLeft=true}return true}this._resetOverFlowButtonElements();return false},_calculateOverflowButtonSideCollision:function(t){const e=jQuery(".sapUshellAnchorRightOverFlowButton");const i=e.offset().left;const s=jQuery(".sapUshellAnchorItemOverFlow");const n=s.offset().left;const o=jQuery(".sapUshellAnchorLeftOverFlowButton");const r=o.offset().left;const l=32;const a=jQuery("#anchorNavigationBar");const h=a.offset().left;if(t>i&&t<n){return"right"}if(t>h&&t<r+l){return"left"}},_resetOverFlowButtonElements:function(){const t=i.system.tablet;const e=jQuery(t?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems");e.stop();this.tabBarArrowCollisionRight=false;this.tabBarArrowCollisionLeft=false},_toggleTabBarOverflowArrows:function(t){const e=document.getElementsByClassName("sapUshellAnchorRightOverFlowButton");const i=document.getElementsByClassName("sapUshellAnchorLeftOverFlowButton");for(let i=0;i<e.length;++i){e[i].classList.toggle("sapUshellTabBarOverflowButton",t)}for(let e=0;e<i.length;++e){i[e].classList.toggle("sapUshellTabBarOverflowButton",t)}},_getTabBarHoverItem:function(t,e){const i=jQuery(".sapUshellAnchorItem:not(.sapUshellShellHidden)").eq(0).offset().left;if(t-i<=0){return}let s=Math.round((t-i)/10);if(s>=e.length){s=e.length-1}const n=e[s];const o=document.getElementsByClassName("sapUshellAnchorItem");return o[n]},removeExcludedElementsFromMatrix:function(t){if(!t.length){return}if(!this.matrix){return}const e=this.matrix.map(e=>e.map(e=>{const i=t.some(t=>e instanceof t);return i?undefined:e}));this.setMatrix(e)},setExcludedControl:function(t){if(t){this.aExcludedControlClass.push(t)}},setReorderTilesCallback:function(t){if(typeof t==="function"){this.reorderElementsCallback=t}}};function a(){}let h;a.prototype={_initDeferred:new Promise(t=>{h=t}),init:function(t){const e=function(){const t=this.container&&this.container.getAttribute("id")||"";if(t.includes("destroyed")){return}const i=this.getStyleInfo(this.container);if(i.tileWidth>0){this.isInited=true;this.reRenderGroupsLayout();this.layoutEngine=new l({thisLayout:this});h();return}setTimeout(e,100)}.bind(this);this.cfg=t||this.cfg;this.minTilesinRow=2;this.container=this.cfg.container||document.getElementById("dashboardGroups");this.oTabBarItemClickTimer=new Date;this.bTabBarModeActive=false;this.bOnTabBarElement=false;const i=r.getServiceAsync("FlpLaunchPage");if(i){i.then(t=>{this.oLaunchPageService=t;e()})}else{e()}n.getInstance().subscribe("launchpad","tabBarChange",this._onTabBarChange,this);return this.getInitPromise()},setOnTabBarElement:function(t){this.bOnTabBarElement=t},isOnTabBarElement:function(){return this.bOnTabBarElement},_onTabBarChange:function(t,e,i){if(i==="tabs"){this.bTabBarModeActive=true}else{this.bTabBarModeActive=false}},tabBarTileDropped:function(){if(this.oTabBarItemClickTimer){clearTimeout(this.oTabBarItemClickTimer)}},getInitPromise:function(){return this._initDeferred},getLayoutEngine:function(){return this.layoutEngine},getStyleInfo:function(t){const e=document.createElement("div");const i=t.getAttribute("id");t=i?document.getElementById(i):t;if(!t){return{}}e.className="sapUshellTile";const s=o.last("/core/home/sizeBehavior");if(s==="Small"){e.classList.add("sapUshellSmall")}e.style.position="absolute";e.style.visibility="hidden";t.appendChild(e);const n=window.getComputedStyle(e);const r=window.getComputedStyle(t);const l={tileMarginHeight:parseFloat(n.marginBottom,10)+parseFloat(n.marginTop,10),tileMarginWidth:parseFloat(n.marginLeft,10)+parseFloat(n.marginRight,10),tileWidth:e.offsetWidth,tileHeight:e.offsetHeight,containerWidth:r.width?parseInt(r.width,10):t.offsetWidth};t.removeChild(e);return l},getGroups:function(){return this.cfg.getGroups()},getAllGroups:function(){return this.cfg.getAllGroups?this.cfg.getAllGroups():[]},isTabBarActive:function(){return this.cfg.isTabBarActive?this.cfg.isTabBarActive():false},getTilesInRow:function(){return this.tilesInRow},setTilesInRow:function(t){this.tilesInRow=t},checkPlaceForTile:function(t,i,s,n,o){if(typeof i[s.y]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y+1]==="undefined"){i.push(new Array(i[0].length))}if(typeof i[s.y][s.x]!=="undefined"){return false}const r=e({},s);if(o||t&&t.getLong&&!t.getLong()){return[r]}const l=[r];if(t&&t.getLong&&t.getLong()){if(s.x+1>=i[0].length||typeof i[r.y][r.x+1]!=="undefined"){return false}l.push({y:r.y,x:r.x+1})}return l},placeTile:function(t,e,i){for(let s=0;s<i.length;s++){e[i[s].y][i[s].x]=t}},getTilePositionInMatrix:function(t,e){for(let i=0;i<e.length;i++){for(let s=0;s<e[i].length;s++){if(e[i][s]===t){return{row:i,col:s}}}}return false},fillRowsInLine:function(t,e,i,s){if(!e.length){return 0}let n;for(let o=0;o<t[0].length&&e.length;o++){n=this.checkPlaceForTile(e[0],t,{x:o,y:i},s);if(n){this.placeTile(e[0],t,n);e.shift()}}},organizeGroup:function(t,e){const i=t.slice(0);let s=[];let n=0;s.push(new Array(e?Math.floor(this.tilesInRow/2):this.tilesInRow));while(i.length){this.fillRowsInLine(s,i,n,e);n++}if(this.rightToLeft){for(let t=0;t<s.length;t++){s[t].reverse()}}s=this.cleanRows(s);return s},cleanRows:function(t){let e=false;for(let i=t.length-1;i>0&&!e;i--){for(let s=0;s<t[i].length&&!e;s++){if(typeof t[i][s]==="object"){e=true}}if(!e){t.pop()}}return t},setGroupsLayout:function(t,e){if(t.getIsGroupLocked()&&e.length>0){const e=t.getDomRef().parentElement;t.getDomRef().style.width="";e.style.width="";e.style.display=""}},calcTilesInRow:function(t,e,i){let s=Math.floor(t/(e+i));s=s<this.minTilesinRow?this.minTilesinRow:s;return s},getGroupTiles:function(t){const e=t.getTiles();if(t.getShowPlaceholder()){e.push(t.oPlusTile)}return e},reRenderGroupsLayout:function(t){if(!this.isInited){return}const e=this.getStyleInfo(this.container);if(!e.tileWidth){return}this.styleInfo=e;this.tilesInRow=this.calcTilesInRow(e.containerWidth,e.tileWidth,e.tileMarginWidth);t=t||this.getGroups();for(let e=0;e<t.length;e++){if(t[e].getDomRef&&!t[e].getDomRef()){continue}const i=this.getGroupTiles(t[e]);const s=this.organizeGroup(i);this.setGroupsLayout(t[e],s)}},initDragMode:function(){this.initGroupDragMode(this.layoutEngine.currentGroup)},endDragMode:function(){const t=this.getGroups();for(let e=0;e<t.length;e++){const i=t[e].getDomRef();if(!i||!i.classList.contains("sapUshellInDragMode")){continue}i.classList.remove("sapUshellInDragMode");const s=this.getGroupTiles(t[e]);for(let t=0;t<s.length;t++){s[t].getDomRef().removeAttribute("style")}const n=i.getElementsByClassName("sapUshellInner");for(let t=0;t<n.length;t++){n[t].removeAttribute("style")}}},initGroupDragMode:function(t){if(t.$().hasClass("sapUshellInDragMode")){return}const e=this.getGroupTiles(t);const i=this.organizeGroup(e);t.$().addClass("sapUshellInDragMode");this.renderLayoutGroup(t,i)},calcTranslate:function(t,e){let i=e*(this.styleInfo.tileWidth+this.styleInfo.tileMarginWidth);const s=t*(this.styleInfo.tileHeight+this.styleInfo.tileMarginHeight);if(this.layoutEngine.rightToLeft){i=-i}return{x:i,y:s}},renderLayoutGroup:function(t,e){let i;this.styleInfo=this.getStyleInfo(this.container);for(let t=0;t<e.length;t++){for(let s=0;s<e[t].length;s++){if(i===e[t][s]){continue}else{i=e[t][s]}if(typeof i==="undefined"){break}}}}};const u=new a;return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/CatalogsManager", ["sap/ui/base/Object","sap/ui/core/EventBus","sap/ushell/ui/launchpad/TileStateInternal","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager","sap/ushell/resources","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/Log","sap/ushell/Config","sap/ushell/adapters/cdm/v3/_LaunchPage/readUtils","sap/ushell/Container"],(e,t,o,a,s,i,n,l,r,g,jQuery,c,u,h,d,p)=>{"use strict";let P;const T=e.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoables:[],constructor:function(e,t){this.oLaunchPageServicePromise=p.getServiceAsync("FlpLaunchPage").then(e=>{this.oLaunchPageService=e;return e});this.oTileCatalogToGroupsMap={};this.tagsPool=[];this.iInitialLoad=100;this.oModel=t.model;if(!h.last("/core/spaces/enabled")){const e={model:this.oModel};this.oHomepageManager=r.prototype.getInstance();if(!this.oHomepageManager){this.oHomepageManager=new r("dashboardMgr",e)}}P=this.getInterface();this.registerEvents()},registerEvents:function(){const e=t.getInstance();e.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables=[];this._aDoables.push(a.on("showCatalog").do(this.updateTilesAssociation.bind(this)));this._aDoables.push(a.on("updateGroups").do(this.updateTilesAssociation.bind(this)))},unregisterEvents:function(){const e=t.getInstance();e.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoables.forEach(e=>{e.off()});this._aDoables=[]},getModel:function(){return this.oModel},loadAllCatalogs:function(){let e=new jQuery.Deferred;const t=this;e.resolve();function o(){e.done(()=>{const e=t.getModel().getProperty("/groups");if(e&&e.length!==0){t.updateTilesAssociation()}})}if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){if(!h.last("/core/spaces/enabled")){e=this.oHomepageManager.loadPersonalizedGroups()}}i.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));i.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];c.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");c.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");c.pause("FLP:DashboardManager.getCatalogTiles");c.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageServicePromise.then(e=>{e.getCatalogs().done(e=>{const t=e.slice(0,this.iInitialLoad);c.end("FLP:DashboardManager.GetCatalogsRequest");this.aPromises=t.map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this)).then(()=>{this.aPromises=e.slice(this.iInitialLoad).map(this.addCatalogToModel.bind(this));Promise.all(this.aPromises).then(this.processPendingCatalogs.bind(this))}).then(this.onDoneLoadingCatalogs.bind(this,e)).then(o)}).fail(l.showLocalizedErrorHelper("fail_to_load_catalog_msg"))})}else{o()}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap()},mapCatalogTilesToGroups:function(){const e=this;this.oTileCatalogToGroupsMap={};const t=this.oModel.getProperty("/groups");t.forEach(t=>{["tiles","links"].forEach(o=>{const a=t[o];if(a){for(let o=0;o<a.length;++o){const s=encodeURIComponent(e.oLaunchPageService.getCatalogTileId(a[o].object));const i=e.oTileCatalogToGroupsMap[s]||[];const n=e.oLaunchPageService.getGroupId(t.object);if(i.indexOf(n)===-1&&(typeof t.isGroupVisible==="undefined"||t.isGroupVisible)&&!t.isGroupLocked){i.push(n)}e.oTileCatalogToGroupsMap[s]=i}}})})},updateCatalogTilesToGroupsMap:function(){let e;let t;let o;const a=this.getModel().getProperty("/catalogs");if(a){for(let s=0;s<a.length;s++){const i=a[s].appBoxes;if(i){for(let a=0;a<i.length;a++){const s=i[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}const n=a[s].customTiles;if(n){for(let a=0;a<n.length;a++){const s=n[a];e=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(s.src));o=this.oTileCatalogToGroupsMap[e];t=o||[];s.associatedGroups=t}}}}this.getModel().setProperty("/catalogs",a)},addCatalogToModel:function(e){const t={title:this.oLaunchPageService.getCatalogTitle(e),id:this.oLaunchPageService.getCatalogId(e),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]};c.resume("FLP:DashboardManager.getCatalogTiles");return new Promise((o,a)=>{this.oLaunchPageService.getCatalogTiles(e).done(e=>{c.pause("FLP:DashboardManager.getCatalogTiles");o({oCatalogEntry:e,oCatalogModel:t})}).fail(e=>{l.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg");a(e)})})},getTagList:function(e){const t={};const o=[];if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"))}for(let e=0;e<this.tagsPool.length;e++){const o=this.tagsPool[e];if(t[o]){t[o]++}else{t[o]=1}}for(const e in t){o.push({tag:e,occ:t[e]})}const a=o.sort((e,t)=>t.occ-e.occ);if(e){this.oModel.setProperty("/tagList",a.slice(0,e))}else{this.oModel.setProperty("/tagList",a)}},processPendingCatalogs:function(e){const o=this.oModel.getProperty("/catalogs");const i=t.getInstance();const n=this.oModel.getProperty("/masterCatalogs")||[{title:l.getLocalizedText("all")}];c.end("FLP:DashboardManager.getCatalogTiles");c.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");const r=e.reduce((e,t)=>e.then(()=>{let e;let a;const s=t.oCatalogEntry;const i=t.oCatalogModel;const l=this.searchModelCatalogByTitle(i.title);if(l.result){a=this.oModel.getProperty("/catalogs")[l.indexOfPreviousInstanceInModel];e=false}else{e=true;a=i}const r=s.map(e=>this._processCatalogObjectForModel(a,e));return Promise.all(r).then(()=>{if(a.appBoxes.length>0||a.customTiles.length>0){if(e){o.push(i);n.push({title:i.title})}}if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList()}})}),Promise.resolve());return r.then(()=>{this.oModel.setProperty("/masterCatalogs",n);this.oModel.setProperty("/catalogs",o);i.publish("launchpad","afterCatalogSegment");setTimeout(()=>{s.setPerformanceMark("FLP-TTI-AppFinder",{bUseUniqueMark:true});a.emit("firstCatalogSegmentCompleteLoaded",true)},0);c.pause("FLP:DashboardManager.BuildCatalogModelWithRendering")})},_processCatalogObjectForModel:function(e,t){if(this._getIsIntentSupported(t)){if(this._getIsAppBox(t)){return this.createCatalogAppBoxes(t,true).then(t=>{e.appBoxes.push(t)})}return this.createCatalogTiles(t).then(t=>{e.customTiles.push(t);if(!this.aFnToGetTileView){this.aFnToGetTileView=[]}})}return Promise.resolve()},searchModelCatalogByTitle:function(e){const t=this.oModel.getProperty("/catalogs");let o=false;let a;let s=0;let i=false;let n;for(let l=0;l<t.length;++l){n=t[l];if(n.title===g.i18n.getText("catalogsLoading")){i=true}else if(e===n.title){a=l;s=n.numberOfTiles;o=true;break}}return{result:o,indexOfPreviousInstanceInModel:a,indexOfPreviousInstanceInPage:i?a-1:a,numOfTilesInCatalog:s}},_getCatalogTileId:function(e){let t=this.oLaunchPageService.getStableCatalogTileId(e);if(!h.last("/core/spaces/enabled")){t=null}if(!t){t=this.oLaunchPageService.getCatalogTileId(e)}return t},createCatalogAppBoxes:async function(e,t){const o=encodeURIComponent(this._getCatalogTileId(e));const a=this.oTileCatalogToGroupsMap[o]||[];const s=this.oLaunchPageService.getCatalogTileTags(e)||[];const i=this.oLaunchPageService.getCatalogTileContentProviderId(e);const n=await d.getContentProviderLabel(i)||i;if(s.length>0){this.tagsPool=this.tagsPool.concat(s)}let l;if(e.tileResolutionResult){l=e.tileResolutionResult.navigationMode}return{id:o,associatedGroups:a,src:e,title:this.oLaunchPageService.getCatalogTilePreviewTitle(e),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(e),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(e),keywords:t?(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","):[],tags:s,navigationMode:l,url:this.oLaunchPageService.getCatalogTileTargetURL(e),contentProviderLabel:n}},onDoneLoadingCatalogs:function(e){const o=e.map(e=>new Promise((t,o)=>{this.oLaunchPageService.getCatalogTiles(e).done(t).fail(o)}));Promise.all(o).then(t=>{let o=true;for(let e=0;e<t.length;e++){if(t[e].length!==0){o=false;break}}if(o||!e.length){this.oModel.setProperty("/catalogsNoDataText",g.i18n.getText("noCatalogs"))}});const a=t.getInstance();a.publish("launchpad","catalogContentLoaded");const i=e.filter(e=>{const t=this.oLaunchPageService.getCatalogError(e);if(t){u.error("A catalog could not be loaded",t,"sap.ushell.components.CatalogsManager")}return!t});if(i.length!==e.length){l.showLocalizedError("partialCatalogFail")}s.handleTilesVisibility()},createCatalogTiles:async function(e){let t=Promise.resolve();const a=e.getChip&&e.getChip().getBaseChipId&&e.getChip().getBaseChipId();if(a&&["X-SAP-UI2-CHIP:/UI2/DYNAMIC_APPLAUNCHER","X-SAP-UI2-CHIP:/UI2/STATIC_APPLAUNCHER"].indexOf(a)===-1){t=new Promise((t,o)=>{this.oLaunchPageService.getCatalogTileViewControl(e).done(t).fail(o)})}return t.then(async t=>{const a=encodeURIComponent(this._getCatalogTileId(e));const s=this.oTileCatalogToGroupsMap[a]||[];const i=this.oLaunchPageService.getCatalogTileTags(e)||[];const n=this.oLaunchPageService.getCatalogTileContentProviderId(e);const l=await d.getContentProviderLabel(n);if(i.length>0){this.tagsPool=this.tagsPool.concat(i)}if(!t){t=new o({state:"Loading"})}let r=this.oLaunchPageService.getCatalogTilePreviewTitle(e);if(!r){r=this.oLaunchPageService.getCatalogTileTitle(e)}return{associatedGroups:s,src:e,catalog:e.title,catalogId:e.id,title:r,tags:i,keywords:(this.oLaunchPageService.getCatalogTileKeywords(e)||[]).join(","),id:a,size:this.oLaunchPageService.getCatalogTileSize(e),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(e),tileType:e.tileType,contentProviderLabel:l}})},createGroupAndSaveTile:function(e){const o=e.catalogTileContext;const a=e.newGroupName;const i=new jQuery.Deferred;if(s.validHash(a)&&o){this.createGroup(a).then(e=>{const a=this.oHomepageManager.getDashboardView();if(a&&a.getModel().getProperty("/tileActionModeActive")){t.getInstance().publish("launchpad","AddTileContainerContent")}let s={};this.createTile({catalogTileContext:o,groupContext:e}).done(e=>{s={group:e.group,status:1,action:"addTileToNewGroup"};i.resolve(s)}).fail(e=>{s={group:e.group,status:0,action:"addTileToNewGroup"};i.resolve(s)})})}return i.promise()},createGroup:function(e){const t=this;const o=new jQuery.Deferred;if(!s.validHash(e)){return o.reject(new Error("Invalid group title"))}const a=this.oLaunchPageService.addGroup(e);a.done(e=>{const a=t.oHomepageManager.addGroupToModel(e);o.resolve(a)});a.fail(()=>{l.showLocalizedError("fail_to_create_group_msg");const e={status:0,action:"createNewGroup"};o.resolve(e)});return o.promise()},createTile:function(e){const o=this;const a=e.catalogTileContext;const s=e.groupContext;const i=this.oModel.getProperty(s.getPath());const r=i.groupId;const g=new jQuery.Deferred;let c={};const h=t.getInstance();h.publish("launchpad","addTile",{catalogTileContext:a,groupContext:s});if(!a){u.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);c={group:i,status:0,action:"add"};return Promise.resolve(c)}const d=this.oLaunchPageService.addTile(a.getProperty("src"),s.getProperty("object"));d.done(e=>{const t=o.oModel.getProperty("/groups");const a=n.getModelPathOfGroup(t,r);o.oHomepageManager.addTileToGroup(a,e);c={group:i,status:1,action:"add"};g.resolve(c)}).fail(()=>{l.showLocalizedError("fail_to_add_tile_msg");c={group:i,status:0,action:"add"};g.resolve(c)});return g.promise()},deleteCatalogTileFromGroup:function(e){const t=this;const o=decodeURIComponent(e.tileId);const a=e.groupIndex;const s=this.oModel.getProperty(`/groups/${a}`);const i=new jQuery.Deferred;const n=[];const l=[];["tiles","links"].forEach(e=>{s[e].forEach(e=>{const a=t.oLaunchPageService.getCatalogTileId(e.object);if(a===o){const o=new jQuery.Deferred;const a=t.oLaunchPageService.removeTile(s.object,e.object);a.done(function(t){return function(){l.push(e.uuid);t.resolve({status:true})}}(o));a.fail(function(e){return function(){e.resolve({status:false})}}(o));n.push(o)}})});jQuery.when.apply(jQuery,n).done(e=>{const o=n.length===l.length;t.oHomepageManager.deleteTilesFromGroup(s.groupId,l);t.updateTilesAssociation();i.resolve({group:s,status:o,action:"remove"})});return i.promise()},calculateCatalogTileIndex:function(e,t,o){let a=parseInt(e*1e5,10);a+=(t!==undefined?t:0)+o;return a},notifyOnActionFailure:function(e,t){l.showLocalizedError(e,t)},resetAssociationOnFailure:function(e,t){this.notifyOnActionFailure(e,t);this.updateTilesAssociation()},_getIsIntentSupported:function(e){return!!this.oLaunchPageService.isTileIntentSupported(e)},_getIsAppBox:function(e){let t;const o=this.oModel.getProperty("/appFinderDisplayMode")||"appBoxes";if(o.toLowerCase()==="tiles"){t=false}else{t=!!(this.oLaunchPageService.getCatalogTileTargetURL(e)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(e)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(e)))}return t},destroy:function(){this.unregisterEvents()}});T.prototype.getInstance=function(){return P};return T});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/DestroyHelper", [],()=>{"use strict";function t(t){let e;if(t&&t.content){for(e=0;e<t.content.length;e++){if(t.content[e].destroy){t.content[e].destroy()}}}}function e(e){let n;if(e){for(n=0;n<e.length;n++){t(e[n])}}}function n(t){if(t){e(t.tiles)}}function o(t){let e;if(t){for(e=0;e<t.length;e++){n(t[e])}}}return{destroyFLPAggregationModel:n,destroyFLPAggregationModels:o,destroyTileModel:t,destroyTileModels:e}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/GroupsHelper", [],()=>{"use strict";function r(r,t){for(let e=0;e<r.length;e++){if(r[e].groupId===t){return e}}return-1}function t(t,e){const n=r(t,e);if(n<0){return null}return`/groups/${n}`}return{getIndexOfGroup:r,getModelPathOfGroup:t}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HomepageManager", ["sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/core/Theming","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter","sap/ushell/components/_HomepageManager/TransientPageOperationAdapter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/model/Context","sap/m/MessageToast","sap/base/Log","sap/base/util/extend","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/Container"],(jQuery,e,t,o,i,s,n,r,l,a,d,u,p,c,h,g,f,b,m,M,P,T,G,y,_,I,k,w,L,S)=>{"use strict";const v=G.GenericTileScope;const A={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};const O=[];let V;const x=o.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:A,constructor:function(e,o){if(V){if(!V.view){V.setDashboardView(o.view)}return V}this.oServiceLoadingPromise=S.getServiceAsync("FlpLaunchPage").then(e=>{this.oPageBuilderService=e;this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));this.oPageOperationAdapter=M.getInstance(e);this.bLinkPersonalizationSupported=this.oPageOperationAdapter.isLinkPersonalizationSupported()});t.attachApplied(u.handleTilesVisibility);V=this;this.oModel=o.model;this.oRouter=o.router;this.oDashboardView=o.view;this.oSortableDeferred=new jQuery.Deferred;this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.bIsGroupsModelLoading=false;this.bIsGroupsRequestPending=false;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new s("isGroupLocked",T.EQ,false);this.oDashboardLoadingManager=new l("loadingManager",{oDashboardManager:this});if(this.oRouter){const e=this.oRouter.getTarget("home");e.attachDisplay(e=>{this.oDashboardView=e.getParameter("view")})}let i=d.last("/core/home/enableTransientMode");O.push(d.on("/core/home/enableTransientMode").do(e=>{if(i===e){return}i=e;this._changeMode(e)}));this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));this._aRequestQueue=[];this._bRequestRunning=false;return undefined},_addRequest:function(e){this._aRequestQueue.push(e);if(!this._bRequestRunning){this._bRequestRunning=true;this._aRequestQueue.shift()()}},_checkRequestQueue:function(){if(this._aRequestQueue.length===0){this._bRequestRunning=false}else{this._aRequestQueue.shift()()}},_requestFailed:function(){this._aRequestQueue=[];this._bRequestRunning=false},isBlindLoading:function(){const e=d.last("/core/home/homePageGroupDisplay");if((e===undefined||e==="scroll")&&this.bIsScrollModeAccordingKPI){I.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true}if(this.oModel.getProperty("/tileActionModeActive")){I.info("isBlindLoading reason TileActionModeActive : true");return true}return false},createMoveActionDialog:function(e){const t=new b(e,{title:p.i18n.getText("moveTileDialog_title"),rememberSelections:false,contentWidth:"400px",contentHeight:"auto",confirm:function(t){const o=t.getParameter("selectedContexts");this.publishMoveActionEvents(o,e)}.bind(this),cancel:function(){const e=document.querySelector('.sapUshellTile[tabindex="0"]');if(e){e.focus()}},items:{path:"/groups",template:new m({title:"{title}"})}});return t},publishMoveActionEvents:function(t,o){const s=e.getEventBus();if(t.length){const e=this.tileType==="link"?"links":"tiles";const n=t[0].getObject().groupId;const r={sTileId:this.tileUuid,sToItems:e,sFromItems:e,sTileType:e,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:o};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{r.callBack=e.callbackSetFocus.bind(e);s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)})})}else{s.publish("launchpad","scrollToGroup",{groupId:n});s.publish("launchpad","movetile",r)}}},_changeLinksScope:function(e){const t=this;if(this.bLinkPersonalizationSupported){const o=e.getSource().getValue();this.oModel.getProperty("/groups").forEach((e,i)=>{if(!e.isGroupLocked){t._changeGroupLinksScope(e,o?"Actions":"Display")}})}},_changeGroupLinksScope:function(e,t){const o=this;e.links.forEach((e,i)=>{o._changeLinkScope(e.content[0],t)})},_changeLinkScope:function(e,t){let o;if(e.getScope){o=e}else if(e.getContent){o=e.getContent()[0]}if(this.bLinkPersonalizationSupported&&o&&o.setScope){o.setScope(t)}},registerEvents:function(){const t=e.getEventBus();t.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);t.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);t.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);t.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);t.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);t.subscribe("launchpad","createGroupAt",this._createGroupAt,this);t.subscribe("launchpad","deleteGroup",this._deleteGroup,this);t.subscribe("launchpad","resetGroup",this._resetGroup,this);t.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);t.subscribe("launchpad","moveGroup",this._moveGroup,this);t.subscribe("launchpad","deleteTile",this._deleteTile,this);t.subscribe("launchpad","movetile",this._moveTile,this);t.subscribe("launchpad","sortableStart",this._sortableStart,this);t.subscribe("launchpad","sortableStop",this._sortableStop,this);t.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.subscribe("launchpad","convertTile",this._convertTile,this)},_changeMode:function(e){const t=this.getModel().getProperty("/groups");if(e){this.oPageOperationAdapter=P.getInstance();const e=this.oPageOperationAdapter.transformGroupModel(t);this.getModel().setProperty("/groups",e)}else{this.oPageOperationAdapter=M.getInstance();c.destroyFLPAggregationModels(t);this.getModel().setProperty("/groups",[]);this.loadPersonalizedGroups()}},_addFLPActionsToTile:function(e){const t=[];if(d.last("/core/shell/enablePersonalization")){const o=this.bLinkPersonalizationSupported&&this.oPageOperationAdapter.isLinkPersonalizationSupported(e);t.push(this._getMoveTileAction(e));if(o){t.push(this._getConvertTileAction(e))}}return t},getPersonalizableGroups:function(){const e=this.getModel().getProperty("/groups");return e.filter(e=>!e.isGroupLocked)},_getConvertTileAction:function(t){const o=e.getEventBus();const s=this.oPageOperationAdapter.getTileType(t);const n=s==="tile"?"ConvertToLink":"ConvertToTile";return{id:n,text:p.i18n.getText(n),press:function(e){const t={tile:e};if(i.system.desktop){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{t.callBack=e.callbackSetFocus.bind(e);o.publish("launchpad","convertTile",t)})})}else{o.publish("launchpad","convertTile",t)}}}},_getMoveTileAction:function(e){const t="moveTile_action";return{id:t,text:p.i18n.getText(t),press:function(t){this.tileType=this.oPageOperationAdapter.getTileType(e);const o=this.tileType==="tile";this.tileUuid=this.getModelTileById(this.oPageOperationAdapter.getTileId(e),o?"tiles":"links").uuid;const i=t.getParent().getProperty("groupId");const n=new s("groupId",T.NE,i);const r=function(e){const t=e.getParameter("value");const o=new s("title",T.Contains,t);const i=e.getSource().getBinding("items");i.filter([o,this.oGroupNotLockedFilter,n])}.bind(this);let l=o?this.moveTileDialog:this.moveLinkDialog;if(!l){l=this.createMoveActionDialog(`move${this.tileType}Dialog`);l.setModel(this.oModel);if(o){this.moveTileDialog=l}else{this.moveLinkDialog=l}}else{l.detachSearch(l._searchHandler)}l.getBinding("items").filter([this.oGroupNotLockedFilter,n]);l.attachSearch(r);l._searchHandler=r;l.open()}.bind(this)}},_handleTileAppearanceAnimation:function(e){if(!e){return}const t=["webkit",""];function o(o,i){for(let o=0;o<t.length;o++){i=i.toLowerCase();e.attachBrowserEvent(t[o]+i,t=>{if(t.originalEvent&&t.originalEvent.animationName==="sapUshellTileEntranceAnimation"){e.removeStyleClass("sapUshellTileEntrance")}},false)}}o(e,"AnimationEnd");e.addStyleClass("sapUshellTileEntrance")},destroy:function(){const i=e.getEventBus();i.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);i.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);i.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);i.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);i.unsubscribe("launchpad","resetGroup",this._resetGroup,this);i.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);i.unsubscribe("launchpad","moveGroup",this._moveGroup,this);i.unsubscribe("launchpad","deleteTile",this._deleteTile,this);i.unsubscribe("launchpad","movetile",this._moveTile,this);i.unsubscribe("launchpad","sortableStart",this._sortableStart,this);i.unsubscribe("launchpad","sortableStop",this._sortableStop,this);i.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);t.detachApplied(u.handleTilesVisibility);O.forEach(e=>{e.off()});M.destroy();P.destroy();V=undefined;o.prototype.destroy.apply(this,arguments)},_sortableStart:function(){this.oSortableDeferred=new jQuery.Deferred},_createBookmark:function(e,t,o){const i=o.group?o.group.object:"";delete o.group;function s(){S.getServiceAsync("BookmarkV2").then(e=>{e.addBookmark(o,i).then(()=>{g.showLocalizedMessage("tile_created_msg")}).catch(e=>{I.error("Failed to add bookmark",e,"sap.ushell.ui.footerbar.AddBookmarkButton");g.showLocalizedError("fail_to_add_tile_msg")}).finally(this._checkRequestQueue.bind(this))})}this._addRequest(s.bind(this))},_addBookmarkToModel:function(e,t,o){const i=o.tile;let s=o.group;if(!o||!i){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate()}return}if(!s){const e=this.getModel().getProperty("/groups");for(let t=0;t<e.length;t++){if(e[t].isDefaultGroup===true){s=e[t].object;break}}}const n=this._getIndexOfGroupByObject(s);const r=this.oModel.getProperty(`/groups/${n}`);const l=this.oPageOperationAdapter.getPreparedTileModel(i,r.isGroupLocked);this.getTileView(l);r.tiles.push(l);r.visibilityModes=u.calcVisibilityModes(r,true);const a=r.tiles.length;this._updateModelWithTileView(n,a);this.oModel.setProperty(`/groups/${n}`,r)},_refreshGroupInModel:function(e,t,o){const i=this;this.oPageOperationAdapter.refreshGroup(o).then(e=>{if(!e){return}const t=i._getIndexOfGroupByObject(e.object);e.visibilityModes=u.calcVisibilityModes(e.object,true);i.oModel.setProperty(`/groups/${t}`,e);if(e.tiles){e.tiles.forEach(e=>{i.getTileView(e)})}})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return function(){const t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(()=>{e.apply(null,t)})}.bind(this)},_createGroupAt:function(e,t,o){const i=parseInt(o.location,10);const s=this.oModel.getProperty("/groups");const n=this.oPageOperationAdapter.getPreparedGroupModel(null,false,i===s.length,o);const r=this.oModel;let l;n.index=i;s.splice(i,0,n);for(l=0;l<s.length-1;l++){s[l].isLastGroup=false}for(l=i+1;l<s.length;l++){s[l].index++}r.setProperty("/groups",s)},_getIndexOfGroupByObject:function(e){const t=this.oModel.getProperty("/groups");return this.oPageOperationAdapter.getIndexOfGroup(t,e)},getTileActions:function(e){return this.oPageOperationAdapter.getTileActions(e)},addTileToGroup:function(e,t){const o=`${e}/tiles`;const i=this.oModel.getProperty(e);const s=this.oModel.getProperty(o).length;const n=this.oModel.getProperty(`${e}/isGroupLocked`);const r=this.oModel.getProperty("/personalization");i.tiles[s]=this.oPageOperationAdapter.getPreparedTileModel(t,n);this.getTileView(i.tiles[s]);i.visibilityModes=u.calcVisibilityModes(i,r);this._updateModelWithTileView(i.index,s);this.oModel.setProperty(e,i)},addTilesToGroupByCatalogTileId:function(e,t){const o=e.getBindingContext();for(let e=0;e<t.length;e++){this.addTileToGroupByCatalogTileId(o.sPath,t[e])}},addTileToGroupByCatalogTileId:function(e,t){if(!d.last("/core/home/enableTransientMode")){return}const o=this.oPageOperationAdapter.getTileModelByCatalogTileId(t);if(!o){return}this.oDashboardLoadingManager.setTileResolved(o);const i=this.oModel.getProperty(`${e}/tiles`).length;const s=this.oModel.getProperty(e);s.tiles[i]=o;this.oModel.setProperty(e,s)},_getPathOfTile:function(e){const t=this.oModel.getProperty("/groups");for(let o=0;o<t.length;++o){const i=t[o];const s=i.tiles;const n=i.links;for(let t=0;t<s.length;++t){if(s[t].uuid===e){return`/groups/${o}/tiles/${t}`}}for(let t=0;t<n.length;++t){if(n[t].uuid===e){return`/groups/${o}/links/${t}`}}}return null},_moveInArray:function(e,t,o){if(o>=e.length){let t=o-e.length;while(t--+1){e.push(undefined)}}e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){for(let t=0;t<e.length;t++){e[t].index=t}},_deleteGroup:function(t,o,i){const s=this.oModel;const n=i.groupId;const r=s.getProperty("/groups");const l=h.getIndexOfGroup(r,n);const a=r.length-1===l;const d=a?l-1:l;c.destroyFLPAggregationModel(s.getProperty(`/groups/${l}`));const u=r.splice(l,1)[0];if(a){s.setProperty(`/groups/${d}/isLastGroup`,a)}s.setProperty("/groups",r);this._updateGroupIndices(r);if(d>=0){window.setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:s.getProperty("/groups")[d].groupId})},200)}function p(){this.oPageOperationAdapter.deleteGroup(u).then(()=>{g.showLocalizedMessage("group_deleted_msg",[u.title]);this._checkRequestQueue()}).catch(()=>{this._resetGroupsOnFailure("fail_to_delete_group_msg")})}this._addRequest(p.bind(this))},_resetGroup:function(t,o,i){const s=this;const n=i.groupId;const r=this.oModel;const l=r.getProperty("/groups");const d=h.getIndexOfGroup(l,n);const p=s.oModel.getProperty("/groups/indexOfDefaultGroup")===d;const c=r.getProperty(`/groups/${d}`);r.setProperty(`/groups/${d}/sortable`,false);function f(){s.oPageOperationAdapter.resetGroup(c,p).then(t=>{s._handleAfterSortable((t,o,i)=>{const n=s.oModel.getProperty("/groups");const r=h.getIndexOfGroup(n,t);s._loadGroup(r,i||o);g.showLocalizedMessage("group_reset_msg",[o.title]);s.oModel.setProperty(`/groups/${r}/sortable`,true);const l=e.byId("dashboardGroups").getGroupControlByGroupId(t);const d=l.getBindingContext().getObject().links;if(d&&d.length&&!l.getIsGroupLocked()){s._changeGroupLinksScope(l.getBindingContext().getObject(),s.oModel.getProperty("/tileActionModeActive")?v.Actions:v.Display)}if(l){l.invalidate();a.emit("updateGroups",Date.now());u.handleTilesVisibility()}})(n,c,t);s._checkRequestQueue()}).catch(()=>{s._resetGroupsOnFailure("fail_to_reset_group_msg")})}this._addRequest(f)},_moveGroup:function(e,t,o){if(isNaN(o.fromIndex)){return}let i=o.fromIndex;let s=o.toIndex;const n=this.oModel;let r=n.getProperty("/groups");const l=n.getProperty("/tileActionModeActive");const a=this;if(!l){i=this._adjustFromGroupIndex(i,r)}const d=r[i];const u=d.groupId;if(!l){s=this._adjustToGroupIndex(s,r,u)}const p=r[s];this._moveInArray(r,i,s);this._updateGroupIndices(r);for(let e=0;e<r.length-1;e++){r[e].isLastGroup=false}r[r.length-1].isLastGroup=true;n.setProperty("/groups",r);function c(){r=n.getProperty("/groups");const e=n.getProperty(h.getModelPathOfGroup(r,u));if(!e.object){return}a.oPageOperationAdapter.getOriginalGroupIndex(p,r).then(t=>{const o={iFromIndex:i,iToIndex:s};return a.oPageOperationAdapter.moveGroup(e,t,o)}).then(a._checkRequestQueue.bind(a)).catch(()=>{a._resetGroupsOnFailure("fail_to_move_group_msg")})}this._addRequest(c)},_adjustToGroupIndex:function(e,t,o){let i=0;let s=false;let n;for(n=0;n<t.length&&i<e;n++){if(t[n].isGroupVisible){if(t[n].groupId===o){s=true}else{i++}}}if(s){return n-1}return n},_adjustFromGroupIndex:function(e,t){let o=0;for(let i=0;i<t.length;i++){if(t[i].isGroupVisible){o++}if(o===e+1){return i}}return e},_changeGroupTitle:function(e,t,o){const i=this;const s=o.newTitle;const n=this.oModel.getProperty("/groups");const r=o.groupId;const l=h.getIndexOfGroup(n,r);const a=i.oModel.getProperty("/groups/indexOfDefaultGroup")===l;const d=this.oModel.getProperty(`/groups/${l}`);const u=d.title;this.oModel.setProperty(`/groups/${l}/title`,s);function p(){let e;if(d.isLastGroup){e=i.oPageOperationAdapter.addGroupAt(d,undefined,a)}else{const t=i.oModel.getProperty("/groups")[l+1];e=i.oPageOperationAdapter.getOriginalGroupIndex(t,n).then(e=>i.oPageOperationAdapter.addGroupAt(d,e,a))}e.then(e=>{i._handleAfterSortable((e,t)=>{const o=i.oModel.getProperty("/groups");const s=h.getIndexOfGroup(o,e);const n=o[s];Object.keys(t).forEach(e=>{if(e==="tiles"||e==="links"){return}n[e]=t[e]});i.oModel.refresh();i._checkRequestQueue()})(r,e)}).catch(()=>{i._resetGroupsOnFailure("fail_to_create_group_msg")})}function c(){this.oPageOperationAdapter.renameGroup(d,s,u).then(()=>{i._checkRequestQueue()}).catch(()=>{i._resetGroupsOnFailure("fail_to_rename_group_msg")})}if(!d.object){this._checkRequestQueue();this._addRequest(p.bind(this))}else{this._addRequest(c.bind(this))}},addGroupToModel:function(e){const t=this.oPageOperationAdapter.getPreparedGroupModel(e,false,true,{isRendered:true});const o=this.oModel.getProperty("/groups");const i=o.length;if(i>0){o[i-1].isLastGroup=false}t.index=i;o.push(t);this.oModel.setProperty("/groups/",o);const s=new y(this.oModel,`/groups/${i}`);return s},_deleteTile:function(t,o,s){const n=s.tileId;const r=this.oModel.getProperty("/groups");const l=s.items||"tiles";function a(e,t){this.oPageOperationAdapter.removeTile(e,t).then(this._checkRequestQueue.bind(this)).catch(this._resetGroupsOnFailure.bind(this,"fail_to_remove_tile_msg"))}function d(t,o,i){const s=e.byId("dashboardGroups");const n=s.getGroupControlByGroupId(o.groupId);let r;if(i==="tiles"){if(t+1===o[i].length){r=n.oPlusTile}}else{const e=n.getLinks();if(t+1===e.length){if(e.length===1){r=n.oPlusTile}else{r=e[t-1]}}else{r=e[t+1]}}if(r){sap.ui.require(["sap/ushell/components/ComponentKeysHandler"],e=>{e.getInstance().then(e=>{e.moveScrollDashboard(r.$())})})}}for(let e=0;e<r.length;++e){const t=r[e];for(let o=0;o<t[l].length;++o){const s=t[l][o];if(s.uuid===n){if(i.system.desktop){d(o,t,l)}c.destroyTileModel(this.oModel.getProperty(`/groups/${e}/${l}/${o}`));const s=t[l].splice(o,1)[0];const n=this.oModel.getProperty("/personalization");t.visibilityModes=u.calcVisibilityModes(t,n);this.oModel.setProperty(`/groups/${e}`,t);this._addRequest(a.bind(this,t,s));u.handleTilesVisibility();return}}}},deleteTilesFromGroup:function(e,t){const o=this.oModel.getProperty("/groups");const i=h.getIndexOfGroup(o,e);const s=this.oModel.getProperty(`/groups/${i}`);let n=[];["tiles","links"].forEach(e=>{n=s[e].filter(e=>t.indexOf(e.uuid)<0);s[e]=n});s.visibilityModes=u.calcVisibilityModes(s,true);this.oModel.setProperty(`/groups/${i}`,s)},_getGroupIndex:function(e){const t=this.oModel.getProperty("/groups");const o=this._getNewGroupInfo(t,e);if(o){return o.newGroupIndex}return undefined},_convertTile:function(e,t,o){const i=o.tile?o.tile:o;const s=o.srcGroupId?this._getGroupIndex(o.srcGroupId):undefined;const n=o.srcGroupId?this.oModel.getProperty(`/groups/${s}`):i.getParent().getBindingContext().getObject();const r=i.getBindingContext().sPath.split("/");const l=i.getBindingContext().getObject();const d=r[r.length-2];const c=l.uuid;const h=parseInt(r[r.length-1],10);const g=o.toIndex!==undefined?o.toIndex:undefined;const f=this.oModel.getProperty("/tileActionModeActive");const b=o.toGroupId?this._getGroupIndex(o.toGroupId):n.index;const m=o.toGroupId?this.oModel.getProperty(`/groups/${b}`):n;const M=this;const P=this._getIndexForConvert(d,h,g,n,m);const T={tileIndex:h,groupIndex:s,group:n};function G(){l.tileIsBeingMoved=true;const e=this.oPageOperationAdapter.moveTile(l,P,n,m,d==="links"?"tile":"link");e.then(e=>{M._handleAfterSortable((e,t)=>{const i=M._getPathOfTile(e);const s=t.content;if(i){if(d==="tiles"){M._attachLinkPressHandlers(s);M._changeLinkScope(s,f?"Actions":"Display")}if(n===m){_.show(p.i18n.getText("PageRuntime.Message.VisualizationConverted"))}else{_.show(p.i18n.getText("PageRuntime.Message.VisualizationMovedAndConverted"))}const e={tileIndex:g,groupIndex:b,group:m};const i={tile:l,view:s,type:d,tileObj:t.object};l.tileIsBeingMoved=true;M.replaceTileViewAfterConvert(T,e,i);a.emit("updateGroups",Date.now());u.handleTilesVisibility();if(o.callBack){o.callBack(s)}}})(c,e);M._checkRequestQueue()}).catch(()=>{M._handleAfterSortable(M._resetGroupsOnFailure.bind(M))("fail_to_move_tile_msg")})}this._addRequest(G.bind(this))},replaceTileViewAfterConvert:function(e,t,o){const i=o.tile;const s=i.content;i.tileIsBeingMoved=false;i.content=[o.view];i.object=o.tileObj;i.originalTileId=this.oPageOperationAdapter.getTileId(o.tileObj);e.group[o.type].splice(e.tileIndex,1);if(t.tileIndex!==undefined){t.group[o.type==="tiles"?"links":"tiles"].splice(t.tileIndex,0,i)}else{t.group[o.type==="tiles"?"links":"tiles"].push(i)}this.oModel.setProperty(`/groups/${t.groupIndex}`,t.group);this.oModel.setProperty(`/groups/${e.groupIndex}`,e.group);if(o.type==="links"){this._handleTileAppearanceAnimation(i.content[0].getParent())}else{this._handleTileAppearanceAnimation(i.content[0])}if(s&&s[0]){s[0].destroy()}},_getIndexForConvert:function(e,t,o,i,s){let n;if(e==="tiles"){if(o!==undefined){n=s[e].length+o}else{n=s[e].length+s.links.length}if(i.groupId===s.groupId){n--}}else{n=o||i.tiles.length;t+=i.tiles.length}return{tileIndex:t,newTileIndex:n}},_getIndexForMove:function(e,t,o,i,s){let n;if(e==="tiles"){n=o!==undefined?o:i[e].length}else{if(o!==undefined){n=i.tiles.length+o}else{n=i.tiles.length+i.links.length}t+=s.tiles.length}return{tileIndex:t,newTileIndex:n}},_getTileInfo:function(e,t,o){for(let i=0;i<e.length;++i){const s=e[i];for(let e=0;e<s[o].length;++e){const n=s[o][e];if(n.uuid===t){return{oTile:n,tileIndex:e,oGroup:s,groupIndex:i}}}}return},_getNewGroupInfo:function(e,t){for(let o=0;o<e.length;++o){const i=e[o];if(i.groupId===t){return{oNewGroup:i,newGroupIndex:o}}}return},_moveTile:function(e,t,o){let i=o.toIndex;const s=o.toGroupId;const n=o.sTileId;const r=o.source;const l=o.sTileType==="tiles"||o.sTileType==="tile"?"tile":"link";const d=o.sToItems;const c=o.sFromItems;const h=this.oModel.getProperty("/tileActionModeActive");const g=this.oModel.getProperty("/groups");const f=this._getTileInfo(g,n,c);const b=this._getNewGroupInfo(g,s);const m=this;const M=f.tileIndex===b.oNewGroup.tiles.length-1&&i>=b.oNewGroup.tiles.length;if((f.tileIndex===i||M)&&f.oGroup.groupId===b.oNewGroup.groupId){return}if(f.oGroup.groupId===b.oNewGroup.groupId&&(r==="movetileDialog"||i===null||r==="movelinkDialog")){if(o.callBack&&f.oTile&&f.oTile.content&&f.oTile.content.length){o.callBack(f.oTile.content[0])}return}if(l==="link"){f.oTile.content[0].addStyleClass("sapUshellZeroOpacity")}if(l==="tile"&&d==="tiles"){if(i&&i>b.oNewGroup[d].length){i=b.oNewGroup[d].length}}if(f.oGroup.groupId===s&&d===c){if(i===null||i===undefined){f.oGroup[d].splice(f.tileIndex,1);i=f.oGroup[d].length;f.oGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,f.oGroup,d);this._moveInArray(f.oGroup[d],f.tileIndex,i)}this.oModel.setProperty(`/groups/${f.groupIndex}/${d}`,f.oGroup[d])}else{const e=this.oModel.getProperty("/personalization");f.oGroup[c].splice(f.tileIndex,1);f.oGroup.visibilityModes=u.calcVisibilityModes(f.oGroup,e);this.oModel.setProperty(`/groups/${f.groupIndex}/${c}`,f.oGroup[c]);if(i===null||i===undefined){i=b.oNewGroup[d].length;b.oNewGroup[d].push(f.oTile)}else{i=this._adjustTileIndex(i,f.oTile,b.oNewGroup,d);b.oNewGroup[d].splice(i,0,f.oTile)}b.oNewGroup.visibilityModes=u.calcVisibilityModes(b.oNewGroup,e);this.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,b.oNewGroup[d])}a.emit("updateGroups",Date.now());u.handleTilesVisibility();function P(){const e=this.oModel.getProperty(`/groups/${f.groupIndex}`);const t=this.oModel.getProperty(`/groups/${b.newGroupIndex}`);const s=this._getIndexForMove(c,f.tileIndex,i,b.oNewGroup,e);f.oTile.tileIsBeingMoved=true;this.oPageOperationAdapter.moveTile(f.oTile,s,e,t,l).then(e=>{const t=m._getPathOfTile(n);if(t){m.oModel.setProperty(`${t}/object`,e.object);m.oModel.setProperty(`${t}/originalTileId`,e.originalTileId);const i=m.oModel.getProperty(`${t}/content`);const s=e.content;if(d==="links"){m._changeLinkScope(s,h?"Actions":"Display");m._attachLinkPressHandlers(s);m._handleTileAppearanceAnimation(s);f.oTile.content=[s];m.oModel.setProperty(t,k({},f.oTile));m.oModel.setProperty(`/groups/${b.newGroupIndex}/${d}`,m.oModel.getProperty(`/groups/${b.newGroupIndex}/${d}`))}else{m.oModel.setProperty(`${t}/content`,[s])}if(i&&i[0]){const e=s.onAfterRendering;s.onAfterRendering=function(){e.apply(this);i[0].destroy();s.onAfterRendering=e}}m.oModel.setProperty(`${t}/tileIsBeingMoved`,false);if(o.callBack){o.callBack(s)}_.show(p.i18n.getText("PageRuntime.Message.VisualizationMoved"))}m._checkRequestQueue()}).catch(()=>{m._resetGroupsOnFailure("fail_to_move_tile_msg")})}this._addRequest(P.bind(this))},_adjustTileIndex:function(e,t,o,i){let s=0;let n=false;let r=0;for(r=0;r<o[i].length&&s<e;r++){if(o[i][r].isTileIntentSupported){if(o[i][r]===t){n=true}else{s++}}}if(n){return r-1}return r},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},setDashboardView:function(e){this.oDashboardView=e;return this},setTileVisible:function(e,t){this.oPageOperationAdapter.setTileVisible(e.object,t)},refreshTile:function(e){this.oPageOperationAdapter.refreshTile(e.object)},updateSettings:function(e){this.oModel=e.model||this.oModel;this.oConfig=e.config||this.oConfig;this.oRouter=e.router||this.oRouter;this.oDashboardView=e.view||this.oDashboardView},_resetGroupsOnFailure:function(e,t){this._requestFailed();g.showLocalizedError(e,t);this.bStartLoadRemainSegment=false;this.loadPersonalizedGroups();this.oModel.updateBindings(true)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){for(let o=0;o<t.length;o++){const i=t[o];const s=i.index;const n=e[s];if(n){n.isRendered=true;n.tiles=n.tiles.concat(i.tiles);n.links=n.links.concat(i.links)}}return e},createGroupsModelFrame:function(e,t){const o=[];function i(e){const t=k({},e);t.tiles=[];t.pendingLinks=[];t.links=[];return t}for(let s=0;s<e.length;s++){const n=e[s];o[s]=i(n);o[s].isRendered=false;o[s].visibilityModes=u.calcVisibilityModes(n,t)}return o},_splitGroups:function(e,t){let o=[];let i=0;const s=this.oModel.getProperty("/homePageGroupDisplay")==="tabs";const n=this.oModel.getProperty("/personalization");let r=0;const l=500;for(let a=0;a<e.length;a++){const d=e[a];o.push(d);if(!this.segmentsStore.length){i+=this.PagingManager.getGroupHeight(d,t===a,n)}else{r+=d.tiles.length+d.links.length}if(s&&!this.segmentsStore.length&&i>0){o.loadTilesView=true;this.segmentsStore.push(o);o=[];i=0}if(i>=1||r>=l){this.segmentsStore.push(o);o=[];i=0;r=0}}if(o.length){this.segmentsStore.push(o)}},_processSegment:function(e){const t=this.segmentsStore.shift();if(!t){return e}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=="tabs"||t.loadTilesView){this.getSegmentContentViews(t)}}e=this._bindSegment(e,t);return e},getSegmentContentViews:function(e){let t;let o;for(let i=0;i<e.length;i++){const s=e[i];for(t=0;t<s.tiles.length;t++){o=s.tiles[t];if(o.isTileIntentSupported){this.getTileView(o)}}for(t=0;t<s.links.length;t++){o=s.links[t];if(o.isTileIntentSupported){this.getTileView(o,s.index)}}}this.bIsFirstSegmentViewLoaded=true},getSegmentTabContentViews:function(e,t,o){let i;let s;const n=o.iSelectedGroup;const r=this.oModel.getProperty(`/groups/${n}`);for(i=0;i<r.tiles.length;i++){s=r.tiles[i];if(s.isTileIntentSupported){this.getTileView(s)}}for(i=0;i<r.links.length;i++){s=r.links[i];if(s.isTileIntentSupported){this.getTileView(s,n)}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate()}},handleFirstSegmentLoaded:function(){const e=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(e,this.aGroupsFrame);this.aGroupsFrame=null}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments()}},_initializeAnchorNavigationBar:function(){const e=V.getDashboardView();const t=e.getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:t})},_processRemainingSegments:function(){let t;if(this.segmentsStore.length>0){window.setTimeout(()=>{t=this._processSegment(this.oModel.getProperty("/groups"));this.oModel.setProperty("/groups",t);this.bIsFirstSegment=false;this._processRemainingSegments()},0)}else{this.bIsGroupsModelLoading=false;this._updateModelWithTileView(0,0);u.handleTilesVisibility();e.getEventBus().publish("launchpad","dashboardModelContentLoaded");a.emit("updateGroups",Date.now())}},tabsModeVisibilityChanged:function(){if(this.bIsFirstSegmentViewLoaded===false&&this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){this.oDashboardLoadingManager.manageTilesView();this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},_setGroupModel:function(e){if(this.bIsGroupsModelLoading){I.info("Skip set the group model, because the group model is still loading");return}let t=0;let o;let i=0;let s=0;let n=0;let l=null;let d=[];this.bIsGroupsModelLoading=true;try{i=this.oModel.getProperty("/groups").length}catch{}for(t=e.length;t<i;++t){c.destroyFLPAggregationModel(this.oModel.getProperty(`/groups/${t}`))}if(!this.PagingManager){let e=jQuery("#dashboardGroups").width();if(!e){e=window.innerWidth}let t=jQuery("#sapUshellDashboardPage-cont").height();if(t<100){t=window.innerHeight}this.PagingManager=new r("dashboardPaging",{supportedElements:{tile:{className:"sapUshellTile"},link:{className:"sapUshellLinkTile"}},containerHeight:t,containerWidth:e})}e.forEach(e=>{if(e.isGroupVisible){s+=e.tiles.length}});this.bIsScrollModeAccordingKPI=s>this.iMinNumOfTilesForBlindLoading;this.aGroupsFrame=this.createGroupsModelFrame(e,this.oModel.getProperty("/personalization"));for(t=0;t<this.aGroupsFrame.length;t++){if(this.aGroupsFrame[t].isGroupVisible&&this.aGroupsFrame[t].visibilityModes[0]){if(l===null){l=t;this.aGroupsFrame[t].isGroupSelected=true;this.oModel.setProperty("/iSelectedGroup",t)}n++;if(n>1){this.aGroupsFrame[l].showGroupHeader=false;break}}}this._splitGroups(e,l);const p=this.segmentsStore[0]?this.segmentsStore[0].length:0;const h=this.aGroupsFrame.splice(0,p);w.start("FLP:DashboardManager._processSegment","_processSegment","FLP");d=this._processSegment(h);e.every((e,t)=>{if(e.isDefaultGroup){o=t;return false}return true});d.indexOfDefaultGroup=o;if(this.oModel.getProperty("/homePageGroupDisplay")==="tabs"){const e=this.getDashboardView();if(e){const t=e.oDashboardGroupsBox;const o=t.getBinding("groups");if(o){o.filter([e.oFilterSelectedGroup])}}}w.end("FLP:DashboardManager._processSegment");this.oModel.setProperty("/groups",d);this.aGroupModel=d;if(this.oDashboardView){a.once("firstSegmentCompleteLoaded").do(()=>{u.setPerformanceMark("FLP-TTI-Homepage",{bUseUniqueMark:true})}).do(this.handleFirstSegmentLoaded.bind(this))}else{setTimeout(()=>{Array.prototype.push.apply(this.aGroupModel,this.aGroupsFrame);this.aGroupsFrame=null;this.bStartLoadRemainSegment=true;this._processRemainingSegments()},0)}if(!this.bIsFirstSegmentViewLoaded&&this.isBlindLoading()){this.bIsFirstSegmentViewLoaded=!this._isAtLeastOneTileVisibleInASegment(h)}if(this.bIsFirstSegmentViewLoaded){a.emit("firstSegmentCompleteLoaded",true)}w.end("FLP:DashboardManager.loadGroupsFromArray")},_isAtLeastOneTileVisibleInASegment:function(e){let t;let o;for(let i=0;i<e.length;++i){t=e[i];for(let e=0;e<t.tiles.length;++e){o=t.tiles[e];if(o.isTileIntentSupported){return true}}}return false},getPreparedGroupModel:function(){return this.aGroupModel},_loadGroup:function(e,t){const o=this;const i=`/groups/${e}`;const s=o.oModel.getProperty(i);const n=s.isLastGroup;const r=s.groupId;c.destroyFLPAggregationModel(s);if(r){t.groupId=r}t.isLastGroup=n;t.index=e;t.isRendered=true;this.oModel.setProperty(i,t)},_hasPendingLinks:function(e){for(let t=0;t<e.length;t++){if(e[t].content[0]===undefined){return true}}return false},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){const o=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID)}this.tileViewUpdateTimeoutID=window.setTimeout(()=>{o.tileViewUpdateTimeoutID=undefined;o.oSortableDeferred.done(()=>{o._updateModelWithTilesViews(e,t)})},50)},_updateGroupModelWithTilesViews:function(e,t,o,i){const s=t||0;for(let t=s;t<e.length;t=t+1){const s=e[t];for(let e=0;e<this.tileViewUpdateQueue.length;e++){const t=this.tileViewUpdateQueue[e];if(s.uuid===t.uuid){o.push(e);if(t.view){if(i){s.content=[t.view]}else{s.content[0].destroy();s.content=[t.view]}this.oDashboardLoadingManager.setTileResolved(s);const e=this.oPageOperationAdapter.getTileSize(s.object);const o=e!==null&&e==="1x2"||false;if(s.long!==o){s.long=o}}else{s.content[0].setState("Failed")}break}}}},_updateModelWithTilesViews:function(e,t){const o=this.oModel.getProperty("/groups");const i=e||0;const s=[];if(!o||this.tileViewUpdateQueue.length===0){return}for(let e=i;e<o.length;e=e+1){this._updateGroupModelWithTilesViews(o[e].tiles,t,s);if(o[e].links){this._updateGroupModelWithTilesViews(o[e].links,t,s,true);if(o[e].pendingLinks.length>0){if(!o[e].links){o[e].links=[]}o[e].links=o[e].links.concat(o[e].pendingLinks);o[e].pendingLinks=[]}}}const n=[];let r;for(r=0;r<this.tileViewUpdateQueue.length;r++){if(s.indexOf(r)===-1){n.push(this.tileViewUpdateQueue[r])}}this.tileViewUpdateQueue=n;this.oModel.setProperty("/groups",o)},getModelTileById:function(e,t){const o=this.oModel.getProperty("/groups");let i;let s=false;o.every(o=>{o[t].every(t=>{if(t.uuid===e||t.originalTileId===e){i=t;s=true}return!s});return!s});return i},_attachLinkPressHandlers:function(t){const o=e.getEventBus();const i=t.attachPress?t:t.getContent()[0];i.attachPress(function(e){const i=t.getBindingContext().getObject().tileIsBeingMoved;if(!i&&this.getScope&&this.getScope()==="Actions"){switch(e.getParameters().action){case"Press":const i=t.getState?t.getState():"";if(i!=="Failed"){const t=sap.ui.require("sap/ushell/components/homepage/ActionMode");if(t){t._openActionsMenu(e)}else{I.error("Race condition occurred! - sap/ushell/components/homepage/ActionMode was not required in time.")}}break;case"Remove":const s=t.getBindingContext().getObject().uuid;o.publish("launchpad","deleteTile",{tileId:s,items:"links"});break;default:break}}else{o.publish("launchpad","dashboardTileLinkClick")}})},handleDisplayModeChange:function(e){this.oModel.setProperty("/homePageGroupDisplay",e);switch(e){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break}},_handleDisplayModeChangeToTabs:function(){const e=this.oModel.getProperty("/iSelectedGroup");const t=this.oModel.getProperty("/groups");this.oDashboardLoadingManager.manageTilesView();if(t.length>0){for(let e=0;e<t.length;e++){this.oModel.setProperty(`/groups/${e}/isGroupSelected`,false)}this.oModel.setProperty(`/groups/${e}/isGroupSelected`,true)}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return}const t=this.oModel.getProperty("/groups");let o=[];let i;for(let e=0;e<t.length;e++){const s=t[e];const n=s.tiles||[];for(i=0;i<n.length;i++){const t=n[i];if(t.content.length===0){this.getTileView(t,e)}}o=s.links||[];for(i=0;i<o.length;i++){this.getTileView(o[i],e)}}this.oModel.refresh(false);const s=this.oModel.getProperty("/iSelectedGroup");if(s){setTimeout(()=>{e.getEventBus().publish("launchpad","scrollToGroup",{groupId:t[s].groupId})},100)}},getTileViewsFromArray:function(e){const t=this;if(e.length===0){return}e.forEach(e=>{t.getTileView(e.oTile,e.iGroup)});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;a.emit("firstSegmentCompleteLoaded",true)}},getTileView:function(e,t){const o=this.oPageOperationAdapter.getTileType(e.object);if(this.oDashboardLoadingManager.isTileViewRequestIssued(e)){return}this.oDashboardLoadingManager.setTileInProgress(e);this.oPageOperationAdapter.setTileVisible(e.object,false);if(o==="card"){this._loadCardData(e)}else{this._loadTileData(e,t,o)}},_loadCardData:function(t){const o=e.byId(t.controlId);if(o&&o.setManifest&&this.isBlindLoading()){o.setManifest(t.manifest)}t.content=[t.manifest];this.oDashboardLoadingManager.setTileResolved(t)},getCurrentHiddenGroupIds:function(e){return this.oPageOperationAdapter.getCurrentHiddenGroupIds(e)},_loadTileData:function(e,t,o){const i=this;const s=this.oPageOperationAdapter.getTileView(e);let r;const l=this._addModelToTileViewUpdateQueue;let a;let d=false;const u=e.uuid;let p=false;if(s.state()==="resolved"){p=true}s.done(o=>{if(o.oController&&o.oController.navigationTargetUrl&&!e.isCustomTile){e.target=o.oController.navigationTargetUrl}a=o;if(a.getComponentInstance){w.average("FLP:getComponentInstance","get info for navMode","FLP1");const t=a.getComponentInstance().getComponentData();if(t&&t.properties){e.navigationMode=t.properties.navigationMode}w.end("FLP:getComponentInstance")}i.oDashboardLoadingManager.setTileResolved(e);const s=o.getMode?o.getMode():"ContentMode";if(i.bLinkPersonalizationSupported&&s==="LineMode"){a.setScope(i.oModel.getProperty("/tileActionModeActive")?"Actions":"Display");i._attachLinkPressHandlers(a);if(t>=0){const o=i.oModel.getProperty("/groups");if(o[t]){e.content=[a];r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}}else if(i.isBlindLoading()){if(e.content&&e.content.length>0){e.content[0].destroy()}e.content=[a];if(t>=0&&!p){i.oModel.refresh(false)}}if(i.isBlindLoading()){const t=i.oPageOperationAdapter.getTileSize(e.object);const o=t==="1x2";if(e.long!==o){e.long=o;i.oModel.refresh(false)}}else if(s==="LineMode"){e.content=[a];if(d){r=i.oModel.getProperty(`/groups/${t}/links`);i.oModel.setProperty(`/groups/${t}/links`,[]);i.oModel.setProperty(`/groups/${t}/links`,r)}}else if(e.content.length===0){e.content=[a]}else{l.apply(i,[u,a]);i._updateModelWithTileView(0,0)}});s.fail(()=>{if(i.oPageOperationAdapter.getTileType(e.object)==="link"&&i.bLinkPersonalizationSupported){a=i.oPageOperationAdapter.getFailedLinkView(e);i._attachLinkPressHandlers(a)}else{a=new n({state:"Failed"})}e.content=[a]});if(!a){if(i.oPageOperationAdapter.getTileType(e.object)==="link"){d=true;a=new f({mode:"LineMode"})}else{a=new n}e.content=[a]}},loadLibraryForCardModuleIfNeeded:function(){if(L.last("/core/home/featuredGroup/enable")){return e.loadLibrary("sap.ui.integration",{async:true})}return Promise.resolve()},loadPersonalizedGroups:function(){const e=this;const t=new jQuery.Deferred;if(this.bIsGroupsRequestPending){I.info("loadPersonalizedGroups was skipped because there is already a pending request.");t.reject(new Error("loadPersonalizedGroups was skipped because there is already a pending request."));return t.promise()}this.bIsGroupsRequestPending=true;this.oServiceLoadingPromise.then(e.loadLibraryForCardModuleIfNeeded).then(()=>e.oPageOperationAdapter.getPage()).then(o=>{e._setGroupModel(o);e.bIsGroupsRequestPending=false;t.resolve()}).catch(t=>{I.error("Loading of personalized groups failed.",t,"sap.ushell.components.HomepageManager");g.showLocalizedError("fail_to_load_groups_msg");e.bIsGroupsRequestPending=false});w.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return t.promise()}});x.prototype.getInstance=function(){return V};return x});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/MessagingHelper", ["sap/ushell/resources","sap/ushell/Container"],(e,n)=>{"use strict";function r(n,r){const s=Array.isArray(r)?r:[r];return e.i18n.getText(n,s)}function s(e,s){n.getServiceAsync("MessageInternal").then(n=>{n.show(n.Type.ERROR,r(e,s),s)})}function t(e,n){return function(){s(e,n)}}function o(e,s,t){n.getServiceAsync("MessageInternal").then(n=>{n.show(t||n.Type.INFO,r(e,s),s)})}return{getLocalizedText:r,showLocalizedError:s,showLocalizedErrorHelper:t,showLocalizedMessage:o}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/DashboardLoadingManager", ["sap/base/util/deepExtend","sap/ui/base/Object","sap/ui/core/EventBus","sap/ui/performance/Measurement"],(e,i,s,t)=>{"use strict";const n=i.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{},constructor:function(e,i){const t=s.getInstance();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=i.oDashboardManager;t.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);t.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);t.subscribe("launchpad","refreshTiles",this._refreshTiles,this);t.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);t.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this)},_onVisibilityChanged:function(e,i,s){this.currentVisibleTiles=s;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView()}this.oDashboardManager.tabsModeVisibilityChanged();this.manageBusyIndicatorTiles();this.manageDynamicTiles()},manageDynamicTiles:function(){t.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");let i;let s;const n={};const l=e({},this.oActiveDynamicTiles);for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e];if(!i.bIsExtanded){delete l[i.oTile.uuid]}}for(const e in l){i=this.oActiveDynamicTiles[e];s=i.object;this.oDashboardManager.setTileVisible(i,false)}for(let e=0;e<this.currentVisibleTiles.length;e++){const t=this.currentVisibleTiles[e];if(!t.bIsExtanded){i=t.oTile;s=i.object;if(this.oActiveDynamicTiles[i.uuid]===undefined&&s){this.oDashboardManager.setTileVisible(i,true)}n[i.uuid]=i}}this.oActiveDynamicTiles=n;t.end("DashboardLoadingManagerActiveDynamicTile")},isTileViewRequestIssued:function(e){if(this.oInProgressTiles[e.uuid]===undefined&&this.oResolvedTiles[e.uuid]===undefined){return false}return true},manageBusyIndicatorTiles:function(){t.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");let e;let i;let s;let n;const l=[];let o;const a=[];for(i in this.oBusyIndicatorTiles){o=true;n=this.oBusyIndicatorTiles[i];if(this.oResolvedTiles[i]===undefined){for(let e=0;e<this.currentVisibleTiles.length;e++){if(this.currentVisibleTiles[e].oTile.uuid===n.oTile.uuid){o=false;break}}if(o){l.push(n)}}}for(e=0;e<this.currentVisibleTiles.length;e++){s=this.currentVisibleTiles[e];if(this.oBusyIndicatorTiles[s.oTile.uuid]===undefined&&this.oResolvedTiles[s.oTile.uuid]===undefined){a.push(s)}}for(e=0;e<l.length;e++){s=l[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState()}}else{s.oTile.content[0].setState()}}delete this.oBusyIndicatorTiles[s.oTile.uuid]}for(e=0;e<a.length;e++){s=a[e];if(s.oTile.content[0]&&s.oTile.content[0].setState){if(s.oTile.content[0].getState){if(s.oTile.content[0].getState()!=="Failed"){s.oTile.content[0].setState("Loading")}}else{s.oTile.content[0].setState("Loading")}}this.oBusyIndicatorTiles[s.oTile.uuid]=s}t.end("DashboardLoadingManagerBusyIndicators")},setTileInProgress:function(e){this.oInProgressTiles[e.uuid]=e},setTileResolved:function(e){delete this.oInProgressTiles[e.uuid];this.oResolvedTiles[e.uuid]=e},_addTileToRefreshArray:function(e,i,s){this.aRefreshTiles.push(s.uuid)},_refreshTiles:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){for(let e=0;e<this.aRefreshTiles.length;e++){if(i.uuid===this.aRefreshTiles[e]){this.aRefreshTiles.splice(e,1);this.oDashboardManager.setTileVisible(i,true);this.oDashboardManager.refreshTile(i);break}}}}},_setTilesNoVisibility:function(){for(let e=0;e<this.currentVisibleTiles.length;e++){const i=this.currentVisibleTiles[e].oTile;const s=i.object;if(s){this.oDashboardManager.setTileVisible(i,false)}delete this.oActiveDynamicTiles[i.uuid]}},manageTilesView:function(){let e;let i;const s=[];for(e=0;e<this.currentVisibleTiles.length;e++){i=this.currentVisibleTiles[e];if(this.oInProgressTiles[i.oTile.uuid]===undefined&&this.oResolvedTiles[i.oTile.uuid]===undefined){s.push(i)}}this.oDashboardManager.getTileViewsFromArray(s)}});return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PagingManager", ["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],(e,t,i)=>{"use strict";const n=7;const s=e.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(e,t){this.currentPageIndex=0;this.containerHeight=t.containerHeight||0;this.containerWidth=t.containerWidth||0;this.supportedElements=t.supportedElements||"";this.tileHeight=0;this.tileSize={sapUshellTile:{width:100,height:100},sapUshellLinkTile:{width:40,height:20},default:{width:40,height:20}}},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},_getTileHeight:function(e){return e?148:176},_getTileWidth:function(e,t){if(e){return t?304:360}return t?148:176},getGroupHeight:function(e,s,h){if(!e||e.isGroupVisible===false){return 0}const r=e.tiles;const l=e.links;const o=t.system.phone||i.last("/core/home/sizeBehavior")==="Small";const a=this._getTileWidth(false,o);const c=this._getTileWidth(true,o);const u=48;const g=8;const d=this.containerWidth-g;let f=0;let p=1;let m;let E;const H=r.some(e=>!!e&&e.isTileIntentSupported!==false);if(!H){if(e.isGroupLocked||e.isDefaultGroup||!h||t.system.phone){return 0}return(u+g)/this.containerHeight}let P=g;if(!s){P+=u}if(l&&l.length){P+=44}let w;for(E=0;E<r.length;E++){if(P>this.containerHeight){break}w=r[E];if(!w||w.isTileIntentSupported===false){continue}m=w.long?c:a;if(f>0){f+=n}f+=m;if(f>d){p+=1;f=m}}P+=(this._getTileHeight(o)+n)*p;return P/this.containerHeight},setContainerSize:function(e,t){const i=this.getNumberOfAllocatedElements();this.containerHeight=e;this.containerWidth=t;this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},resetCurrentPageIndex:function(){this.currentPageIndex=0},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){const t=document.createElement("div");t.classList.add(e);document.body.appendChild(t);const i=t.clientHeight;const n=t.clientWidth;let s;if(i<20||n<40){s=this.tileSize[e]||this.tileSize.default}else{s={width:n,height:i}}this.tileHeight=i;t.remove();return s},_calcElementsPerPage:function(){let e;let t;let i;let n;let s;for(e in this.supportedElements){i=this.supportedElements[e];n=this._calcElementMatrix(i.className);i.matrix=n;if(t){t.width=t.width>n.width?n.width:t.width;t.height=t.height>n.height?n.height:t.height}else{t={width:n.width,height:n.height}}}for(e in this.supportedElements){i=this.supportedElements[e];s=i.matrix;i.sizeInBaseUnits=Math.round(s.width/t.width*s.height/t.height)}const h=Math.round(this.containerWidth/t.width);const r=Math.round(this.containerHeight/t.height);if(!r||!h||h===Infinity||r===Infinity||h===0||r===0){return 10}return r*h}});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/PersistentPageOperationAdapter", ["sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/base/util/uid","sap/base/Log","sap/ui/performance/Measurement","sap/m/library","sap/base/util/deepEqual","sap/ushell/Container"],(e,t,r,i,o,n,s,l,a,u,d)=>{"use strict";const c=a.GenericTileMode;const g=a.LoadState;const p=e.extend("sap.ushell.components._HomepageManager.PersistentPageOperationAdapter",{constructor:function(t){e.call(this);this.oPageBuilderService=t},_getIsAppBox:function(e){const t=this.oPageBuilderService;const r=!!(t.getCatalogTileTargetURL(e)&&(t.getCatalogTilePreviewTitle(e)||t.getCatalogTilePreviewSubtitle(e)));return r},getCurrentHiddenGroupIds:function(e){const t=e.getProperty("/groups");const r=[];let i;let o;let n;for(o=0;o<t.length;o++){n=t[o]?t[o].isGroupVisible:true;if(t[o].object){i=this.oPageBuilderService.getGroupId(t[o].object)}if(!n&&i!==undefined){r.push(i)}}return r},getPreparedTileModel:function(e,r,i){const s=this.oPageBuilderService;const l=n();const a=s.getTileSize(e);let u=[];let d;i=i||s.getTileType(e);if(i==="link"){u=[new o({mode:c.LineMode})]}const g={isCustomTile:!this._getIsAppBox(e),object:e,originalTileId:s.getTileId(e),uuid:l,tileCatalogId:encodeURIComponent(s.getCatalogTileId(e)),tileCatalogIdStable:s.getStableCatalogTileId(e)||"",content:u,long:a==="1x2",target:s.getTileTarget(e)||"",debugInfo:s.getTileDebugInfo(e),isTileIntentSupported:s.isTileIntentSupported(e),rgba:"",isLocked:r,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:s.isLinkPersonalizationSupported(e),navigationMode:undefined};if(i==="card"){d=s.getCardManifest(e);g.isCard=true;if(d){g.manifest=d}}return g},getPreparedGroupModel:function(e,r,o,l){const a=this.oPageBuilderService;const u=e&&a.getGroupTiles(e)||[];const d=[];const c=[];let g;const p=t.last("/core/shell/model/personalization");const f=t.last("/core/extension/enableHelp");const h=!!(e&&a.isGroupLocked(e));const P=!!(e&&a.isGroupFeatured(e));for(g=0;g<u.length;++g){const e=u[g];const t=a.getTileType(e).toLowerCase();if(t==="tile"||t==="card"){d.push(this.getPreparedTileModel(u[g],h,t))}else if(t==="link"){c.push(this.getPreparedTileModel(u[g],h,t))}else{s.error(`Unknown tile type: '${t}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:r&&i.getLocalizedText("my_group")||e&&a.getGroupTitle(e)||l&&l.title||"",object:e,groupId:n(),helpId:f&&e?a.getGroupId(e):null,links:c,pendingLinks:[],tiles:d,isDefaultGroup:!!r,editMode:!e,isGroupLocked:h,isFeatured:P,visibilityModes:[true,true],removable:!e||a.isGroupRemovable(e),sortable:p,isGroupVisible:!e||a.isGroupVisible(e),isEnabled:!r,isLastGroup:o||false,isRendered:!!(l&&l.isRendered),isGroupSelected:false}},getPage:function(){l.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this._getGroupsFromServer().then(this.loadGroupsFromArray.bind(this))},_getGroupsFromServer:function(){const e=this;return new Promise((t,r)=>{e.oPageBuilderService.getGroups().done(e=>{l.end("FLP:DashboardManager.loadPersonalizedGroups");t(e)}).fail(r)})},loadGroupsFromArray:function(e){const t=this;l.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");l.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");return new Promise((r,i)=>{t.oPageBuilderService.getDefaultGroup().done(i=>{l.end("FLP:DashboardManager.getDefaultGroup");if(e.length===0&&i===undefined){r([]);return}let o;const n=[];e=t._sortGroups(i,e);const s=e.findIndex(e=>u(e,i));const a=e.length;l.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(let r=0;r<a;++r){o=t.getPreparedGroupModel(e[r],r===s,r===a-1);o.index=r;n.push(o)}l.end("FLP:DashboardManager._getGroupModel");l.end("FLP:DashboardManager.loadGroupsFromArray");r(n)}).fail(i)})},_sortGroups:function(e,r){let i=0;const o=this;const n=r.findIndex(t=>u(t,e));const s=[];let l;let a;if(n>-1){r.splice(n,1)}while(i<r.length){l=r[i];a=this.oPageBuilderService.isGroupLocked(l);if(a){s.push(l);r.splice(i,1)}else{i++}}if(!t.last("/core/home/disableSortedLockedGroups")){s.sort((e,t)=>{const r=o.oPageBuilderService.getGroupTitle(e).toLowerCase();const i=o.oPageBuilderService.getGroupTitle(t).toLowerCase();return r<i?-1:1})}s.sort((e,t)=>{const r=o.oPageBuilderService.isGroupFeatured(e);const i=o.oPageBuilderService.isGroupFeatured(t);if(r===i){return 0}else if(r>i){return-1}return 1});const d=s;d.push(e);d.push.apply(d,r);return d},addGroupAt:function(e,t,r){const i=this;return new Promise((o,n)=>{try{if(t===undefined){i.oPageBuilderService.addGroup(e.title).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}else{i.oPageBuilderService.addGroupAt(e.title,t).done(t=>{o(i.getPreparedGroupModel(t,r,e.isLastGroup,undefined))}).fail(n)}}catch(e){n(e)}})},renameGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.setGroupTitle(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},deleteGroup:function(e){const t=this;const r=e.object;return new Promise((e,i)=>{try{t.oPageBuilderService.removeGroup(r).done(()=>{e()}).fail(i)}catch(e){i(e)}})},moveGroup:function(e,t,r){const i=this;return new Promise((r,o)=>{try{i.oPageBuilderService.moveGroup(e.object,t).done(()=>{r()}).fail(o)}catch(e){o(e)}})},resetGroup:function(e,t){const r=this;const i=e.object;return new Promise((o,n)=>{try{r.oPageBuilderService.resetGroup(i).done(n=>{o(r.getPreparedGroupModel(n||i,t,e.isLastGroup,undefined))}).fail(n)}catch(e){n(e)}})},refreshGroup:function(e){const t=this;const r=`Failed to refresh group with id:${e} in the model`;return new Promise(i=>{t.oPageBuilderService.getGroups().fail(e=>{s.error(r,e,"sap.ushell.components.HomepageManager");i(null)}).done(r=>{let o=null;for(let i=0;i<r.length;i++){if(t.oPageBuilderService.getGroupId(r[i])===e){o=r[i];break}}if(o){t.oPageBuilderService.getDefaultGroup().done(r=>{const n=e===r.getId();const s=t.getPreparedGroupModel(o,n,false,{isRendered:true});i(s)})}else{i(null)}})})},getIndexOfGroup:function(e,t){let r=-1;const i=this;const o=this.oPageBuilderService.getGroupId(t);e.every((e,t)=>{const n=i.oPageBuilderService.getGroupId(e.object);if(n===o){r=t;return false}return true});return r},getOriginalGroupIndex:function(e){const t=this.oPageBuilderService;const r=e.object;const i=this.oPageBuilderService.getGroups();return new Promise((e,o)=>{i.done(i=>{let o;for(let e=0;e<i.length;e++){if(t.getGroupId(i[e])===t.getGroupId(r)){o=e;break}}e(o)}).fail(o)})},moveTile:function(e,t,r,i,o){const n=this;let s;const l=new Promise((l,a)=>{try{const u=n.oPageBuilderService.moveTile(e.object,t.tileIndex,t.newTileIndex,r.object,i.object,o);u.done(e=>{s=e;l(e)});u.fail(a)}catch(e){a(e)}});return l.then(this._getTileViewAsPromise.bind(this)).then(e=>Promise.resolve({content:e,originalTileId:n.oPageBuilderService.getTileId(s),object:s}))},removeTile:function(e,t){const r=t.object;const o=this.oPageBuilderService.getTileTitle(r);return new Promise((t,n)=>{try{this.oPageBuilderService.removeTile(e.object,r).done(()=>{i.showLocalizedMessage("tile_deleted_msg",[o,e.title]);t()}).fail(n)}catch(e){n(e)}})},_getTileViewAsPromise:function(e){return new Promise((t,r)=>{const i=this.oPageBuilderService.getTileView(e);i.done(t);i.fail(r)})},refreshTile:function(e){this.oPageBuilderService.refreshTile(e)},setTileVisible:function(e,t){this.oPageBuilderService.setTileVisible(e,t)},getTileType:function(e){return this.oPageBuilderService.getTileType(e)},getTileSize:function(e){return this.oPageBuilderService.getTileSize(e)},getTileTitle:function(e){return this.oPageBuilderService.getTileTitle(e.object)},getTileId:function(e){return this.oPageBuilderService.getTileId(e)},isLinkPersonalizationSupported:function(e){return this.oPageBuilderService.isLinkPersonalizationSupported(e)},getTileTarget:function(e){return this.oPageBuilderService.getTileTarget(e.object)},getTileView:function(e){return this.oPageBuilderService.getTileView(e.object)},getTileActions:function(e){return this.oPageBuilderService.getTileActions(e)},getFailedLinkView:function(e){const t=this.oPageBuilderService.getCatalogTilePreviewSubtitle(e.object);let i=this.oPageBuilderService.getCatalogTilePreviewTitle(e.object);if(!i&&!t){i=r.i18n.getText("cannotLoadLinkInformation")}return new o({mode:c.LineMode,state:g.Failed,header:i,subheader:t})},getTileModelByCatalogTileId:function(e){s.error(`Cannot get tile with id ${e}: Method is not supported`)},transformGroupModel:function(){return}});let f=null;return{getInstance:function(e){if(!f){f=new p(e)}return f},destroy:function(){f=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HomepageManager/TransientPageOperationAdapter", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ushell/Config","sap/ushell/resources","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/ImageContent","sap/m/TileContent","sap/base/util/uid","sap/base/Log","sap/m/library"],(jQuery,e,t,i,o,n,r,l,s,a,u)=>{"use strict";const c=u.GenericTileMode;const g=u.LoadState;const d=e.extend("sap.ushell.components._HomepageManager.TransientPageOperationAdapter.js",{constructor:function(t){e.call(this);this.oPageBuilderService=t;this._createCatalogMap()},_createCatalogMap:function(){if(this.mCatalogTiles){return}const e=this.oPageBuilderService;const t=this;this.mCatalogTiles={};this._getAllCatalogTiles().then(i=>{for(let o=0;o<i.length;o++){for(let n=0;n<i[o].length;n++){t.mCatalogTiles[e.getCatalogTileId(i[o][n])]=i[o][n]}}})},getCurrentHiddenGroupIds:function(){return[]},getTileActions:function(e){e.isStub=function(){return true};const t=this.oPageBuilderService.getTileActions(e);delete e.isStub;return t},getPreparedTileModel:function(e,i,o){const r=s();let l=[];o=o||e.type;if(o==="link"){l=[new n({mode:c.LineMode})]}const a={isCustomTile:false,object:e,originalTileId:r,uuid:r,tileCatalogId:"",content:l,long:false,target:"",debugInfo:null,isTileIntentSupported:true,rgba:"",isLocked:i,showActionsIcon:t.last("/core/home/enableTileActionsIcon"),isLinkPersonalizationSupported:true,navigationMode:undefined};if(o==="card"){a.isCard=true;a.manifest={}}return a},getPreparedGroupModel:function(e,t,i,n){const r=s();const l=e&&e.tiles||[];const u=[];const c=[];for(let e=0;e<l.length;++e){const t=l[e];const i=t.type.toLowerCase();if(i==="tile"||i==="card"){u.push(this.getPreparedTileModel(l[e],false,i))}else if(i==="link"){c.push(this.getPreparedTileModel(l[e],false,i))}else{a.error(`Unknown tile type: '${i}'`,undefined,"sap.ushell.components.HomepageManager")}}return{title:t&&o.getLocalizedText("my_group")||e&&e.title||n&&n.title||"",object:e,groupId:r,links:c,pendingLinks:[],tiles:u,isDefaultGroup:!!t,editMode:!e,isGroupLocked:false,isFeatured:false,visibilityModes:[true,true],removable:true,sortable:true,isGroupVisible:true,isEnabled:!t,isLastGroup:i||false,isRendered:!!(n&&n.isRendered),isGroupSelected:false}},getPage:function(){return Promise.resolve([this.getPreparedGroupModel(null,false,true)])},addGroupAt:function(e,t,i){const o={title:e.title};return Promise.resolve(this.getPreparedGroupModel({},i,e.isLastGroup,o))},renameGroup:function(){return Promise.resolve()},deleteGroup:function(){return Promise.resolve()},moveGroup:function(){return Promise.resolve()},resetGroup:async function(){throw new Error("Reset group not supported in transient mode")},refreshGroup:async function(){throw new Error("Refresh group not supported in transient mode")},getIndexOfGroup:function(){return Promise.resolve(-1)},getOriginalGroupIndex:function(e,t){let i;for(let o=0;o<t.length;o++){if(t[o].groupId===e.groupId){i=o;break}}return Promise.resolve(i)},moveTile:function(e,t,i,o,n){const r=this._findCatalogTile(e.tileCatalogId);return Promise.resolve({content:this._getTileView(r,n),originalTileId:e.uuid,object:{id:e.uuid,type:n,title:this.oPageBuilderService.getCatalogTileTitle(r)}})},removeTile:function(){return Promise.resolve()},_getTileView:function(e,t){if(t==="link"){return new n({mode:c.LineMode,header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e)})}return new n({header:this.oPageBuilderService.getCatalogTileTitle(e),subheader:this.oPageBuilderService.getCatalogTilePreviewSubtitle(e),tileContent:new l({content:new r({src:this.oPageBuilderService.getCatalogTilePreviewIcon(e)})})})},refreshTile:function(){return},setTileVisible:function(){return},getTileType:function(e){return e.type},getTileSize:function(){return"1x1"},getTileId:function(e){return e.id},isLinkPersonalizationSupported:function(){return true},getTileTarget:function(e){const t=this._findCatalogTile(e.tileCatalogId);return this.oPageBuilderService.getCatalogTileTargetURL(t)},getTileTitle:function(e){return e.object.title},_getAllCatalogTiles:function(){const e=this.oPageBuilderService;function t(t){t.map(t=>{const i=e.getCatalogId(t)||"";return e.getCatalogTitle(t)||i.split(":").slice(1).join(":")});return Promise.all(t.map(t=>e.getCatalogTiles(t)))}return Promise.resolve(e.getCatalogs()).then(t)},_findCatalogTile:function(e){return this.mCatalogTiles[e]},getTileView:function(e){const t=this._findCatalogTile(e.tileCatalogId);const i=this._getTileView(t,e.object.type);const o=new jQuery.Deferred;o.resolve(i);return o.promise()},getFailedLinkView:function(e){const t=e.object.title||i.i18n.getText("cannotLoadLinkInformation");const o="";return new n({mode:c.LineMode,state:g.Failed,header:t,subheader:o})},getTileModelByCatalogTileId:function(e,t){t=t||"tile";const i=this._findCatalogTile(e);const o=this.getPreparedTileModel({},false,t);o.tileCatalogId=e;o.object={id:o.uuid,type:t,title:this.oPageBuilderService.getCatalogTileTitle(i)};const n=this._getTileView(i,t);o.content=[n];return o},transformGroupModel:function(e){const t=this;for(let i=0;i<e.length;i++){const o=e[i];o.object={};o.tiles.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"tile",title:t.oPageBuilderService.getTileTitle(i)}});o.links.forEach(e=>{const i=e.object;e.tileCatalogId=t.oPageBuilderService.getCatalogTileId(i);e.object={id:e.uuid,type:"link",title:t.oPageBuilderService.getTileTitle(i)}})}return e}});let p;return{getInstance:function(e){if(!p){p=new d(e)}return p},destroy:function(){p=null}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/visualizationOrganizer/Component", ["sap/base/Log","sap/m/library","sap/m/MessageBox","sap/m/GroupHeaderListItem","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/Container","sap/ushell/library","sap/ushell/resources"],(e,t,i,n,s,o,a,r,l,c,g,u,d)=>{"use strict";const h=t.ButtonType;const p=u.ContentNodeType;return o.extend("sap.ushell.components.visualizationOrganizer.Component",{metadata:{version:"1.141.0",library:"sap.ushell",dependencies:{libs:["sap.m"]},properties:{pressed:{type:"boolean",group:"Misc",defaultValue:false}}},init:function(){o.prototype.init.apply(this,arguments);this.aPersonalizablePages=[];this.mVizIdInPages=new Map;this.stVizIdInSection=new Set},requestData:function(){const e=!c.last("/core/shell/enablePersonalization")&&c.last("/core/spaces/myHome/enabled");const t=c.last("/core/spaces/myHome/myHomePageId");return g.getServiceAsync("CommonDataModel").then(e=>e.getAllPages()).then(i=>{if(e){i=i.filter(e=>e.identification.id===t)}this.aPersonalizablePages=i.map(e=>({id:e.identification.id,title:e.identification.title}));this._fillVizIdMaps(i);return this.aPersonalizablePages})},_fillVizIdMaps:function(e){this.mVizIdInPages=new Map;e.forEach(e=>{Object.keys(e.payload.sections).forEach(t=>{Object.keys(e.payload.sections[t].viz).forEach(i=>{const n=e.payload.sections[t].viz[i].vizId;if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e.identification.id)}else{this.mVizIdInPages.set(n,new Set([e.identification.id]))}})})})},isVizIdPresent:function(e,t){if(t){return this.stVizIdInSection.has(e)}const i=this.mVizIdInPages.get(e);return!!(i&&i.size)},formatPinButtonIcon:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?"sap-icon://accept":"sap-icon://add"},formatPinButtonType:function(e,t){return this.isVizIdPresent(decodeURIComponent(e),t)?h.Emphasized:h.Default},formatPinButtonTooltip:function(e,t){const i=this.isVizIdPresent(decodeURIComponent(e),!!t);if(!t&&i){return d.i18n.getText("EasyAccessMenu_PinButton_Toggled_Tooltip")}if(!t&&!i){return d.i18n.getText("EasyAccessMenu_PinButton_UnToggled_Tooltip")}if(t.sectionID&&i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromSection")}if(t.sectionID&&!i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToSection")}if(!t.sectionID&&i){return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.RemoveFromPage",[t.pageTitle])}return d.i18n.getText("VisualizationOrganizer.Button.Tooltip.AddToPage",[t.pageTitle])},onTilePinButtonClick:function(e,t){const i=e.getSource();const n=i.getBindingContext().getProperty();if(i.getBusy()){return Promise.resolve()}if(t){i.setBusy(true);return this._applyOrganizationChangeToSection(i,n,t).then(()=>{i.setBusy(false)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(()=>{i.setBusy(false)})}return this.toggle(i,n)},open:function(e,t){let i=s.getElementById("sapUshellVisualizationOrganizerPopover");let n=Promise.resolve();if(!i){n=new Promise((e,t)=>{sap.ui.require(["sap/ui/core/Fragment"],i=>{i.load({name:"sap.ushell.components.visualizationOrganizer.VisualizationOrganizerPopover",type:"XML",controller:this}).then(e).catch(t)})}).then(e=>{i=e;i.setModel(new l({pages:[],searchTerm:""}));i.setModel(d.i18nModel,"i18n")})}return n.then(()=>{this.oOpenBy=e;this.sVisualizationId=decodeURIComponent(t.id);this.sVisualizationTitle=t.title;this.oVizInfo=t;this.fnResetPopup=this._resetPopup.bind(this);i.attachAfterClose(this.fnResetPopup);return Promise.all([g.getServiceAsync("Menu"),g.getServiceAsync("Pages")]).then(e=>{let i;const n=e[0];const s=e[1];if(t.isBookmark){i=s._findBookmarks({url:t.url}).then(e=>{const t=e.map(e=>e.pageId);return Promise.resolve(new Set(t))})}else{i=this.mVizIdInPages.get(this.sVisualizationId)}return Promise.all([n.getContentNodes([p.Space,p.Page]),i])}).then(t=>{let n=t[0];const s=t[1];const o=!c.last("/core/shell/enablePersonalization")&&c.last("/core/spaces/myHome/enabled");const a=c.last("/core/spaces/myHome/myHomeSpaceId");const r=[];n=this._filterPersonalizableContentNodes(n);n.forEach(e=>{if(o&&e.id!==a){return}e.children.forEach(t=>{if(!this._isPersonalizablePage(t.id)){return}r.push({id:t.id,title:t.label,space:e.label,spaceId:e.id,selected:s&&s.has(t.id)})})});const l=i.getModel();l.setProperty("/pages",r);l.setProperty("/pinnedPages",s);this._updatePagesList();i.openBy(e)})})},_filterPersonalizableContentNodes:function(e){if(!Array.isArray(e)){return[]}return e.reduce((e,t)=>{t.children=this._filterPersonalizableContentNodes(t.children);if(t.type===p.HomepageGroup||t.type===p.Space||t.type===p.Page&&t.isContainer){e.push(t)}return e},[])},cancel:function(){const e=s.getElementById("sapUshellVisualizationOrganizerPopover");const t=this._retrieveChangedPageIds();if(e&&t.deleteFromPageIds.length===0&&t.addToPageIds.length===0){e.close()}else{i.show(d.i18n.getText("VisualizationOrganizer.MessageBox.Description"),{id:"sapUshellVisualizationOrganizerDiscardDialog",title:d.i18n.getText("VisualizationOrganizer.MessageBox.Title"),actions:[d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),i.Action.CANCEL],emphasizedAction:d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard"),onClose:function(t){if(t===d.i18n.getText("VisualizationOrganizer.MessageBox.ActionDiscard")){e.close()}}})}},toggle:function(e,t){const i=s.getElementById("sapUshellVisualizationOrganizerPopover");if(i&&i.isOpen()&&i._oOpenBy&&i._oOpenBy.getId()===e.getId()){this.cancel();return Promise.resolve()}return this.open(e,t)},_applyOrganizationChangeToSection:function(e,t,i){return g.getServiceAsync("Pages").then(n=>{let s;const o=decodeURIComponent(t.id);const a=t.title;const r=i.pageID;const l=i.sectionID;const c=this._getTextMsgSectionContext(i,o,a);if(this.stVizIdInSection.has(o)){s=n.findVisualization(r,l,o).then(e=>{if(e.length===0){return Promise.resolve()}let t;const i=n.getPageIndex(r);const s=e.sort((e,t)=>t.sectionIndex-e.sectionIndex);s.forEach(e=>{e.vizIndexes.sort((e,t)=>t-e)});s.forEach(e=>{const s=e.sectionIndex;e.vizIndexes.forEach(e=>{if(!t){t=n.deleteVisualization(i,s,e)}else{t=t.then(()=>n.deleteVisualization(i,s,e))}})});return t}).then(()=>{this.stVizIdInSection.delete(o)})}else{s=n.addVisualization(r,l,o).then(()=>{this.stVizIdInSection.add(o)})}return s.then(()=>{e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],e=>{e.show(c,{offset:"0 -50"})})})})},_getTextMsgSectionContext:function(e,t,i){const n=e.sectionID;const s=e.sectionTitle;const o=e.pageTitle;if(n&&this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[i||t,s,o])}if(n&&!this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[i||t,s,o])}if(!n&&this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastPageRemove",[i||t,o])}if(!n&&!this.stVizIdInSection.has(t)){return d.i18n.getText("VisualizationOrganizer.MessageToastPageAdd",[i||t,o])}},_organizeVisualizations:function(){const e=this._retrieveChangedPageIds();if(this.oVizInfo.isBookmark){return this._applyBookmarkOrganizationChange(e,true)}return this._applyOrganizationChange(e,true)},_applyOrganizationChange:function(e,t){const i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}const n=this.sVisualizationId;const s=this.oOpenBy;const o=new Set;let a;let r=g.getServiceAsync("Pages").then(e=>{a=e});e.deleteFromPageIds.forEach(e=>{if(!o.has(e)){o.add(e);r=r.then(()=>a.findVisualization(e,null,n).then(e=>{const t=[];for(let i=e.length-1;i>=0;i--){const n=e[i];const s=a.getPageIndex(n.pageId);for(let e=n.vizIndexes.length-1;e>=0;e--){const i=n.vizIndexes[e];t.push(a.deleteVisualization(s,n.sectionIndex,i))}}return Promise.all(t)}))}this.mVizIdInPages.get(n).delete(e)});e.addToPageIds.forEach(e=>{r=r.then(()=>a.addVisualization(e,null,n));if(this.mVizIdInPages.has(n)){this.mVizIdInPages.get(n).add(e)}else{this.mVizIdInPages.set(n,new Set([e]))}});return r.then(()=>{if(s){s.getBinding("icon")?.refresh(true);s.getBinding("type")?.refresh(true);s.getBinding("tooltip")?.refresh(true)}if(t){sap.ui.require(["sap/m/MessageToast"],e=>{e.show(d.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_resetPopup:function(e){const t=s.getElementById("sapUshellVisualizationOrganizerPopover");const i=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const n=s.getElementById("sapUshellVisualizationOrganizerSearch");const o=s.getElementById("sapUshellVisualizationOrganizerSelectedPages");t.detachAfterClose(this.fnResetPopup);n.setValue("");o.setType(h.Default);i.getBinding("items").filter(null);i.removeSelections();delete this.fnResetPopup;delete this.sVisualizationId;delete this.sVisualizationTitle},onSelectionChange:function(e){const t=e.getParameter("listItem");const i=e.getParameter("selected");this._changeSelectionForAllPagesWithTheSamePageId(t,i)},_changeSelectionForAllPagesWithTheSamePageId:function(e,t){const i=e.getModel();const n=e.getBindingContext();const s=n.getProperty("id");const o=t!==undefined?t:!n.getProperty("selected");const a=i.getProperty("/pages");for(let e=0;e<a.length;e++){const t=a[e];if(t.id===s){t.selected=o}}i.setProperty("/pages",a)},_onSearch:function(e){const t=s.getElementById("sapUshellVisualizationOrganizerSelectedPages");let i=this.getPressed();if(e.sId==="press"){i=!i;this.setPressed(i);t.setPressed(i)}this._updatePagesList()},_updatePagesList:function(){const e=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const t=s.getElementById("sapUshellVisualizationOrganizerSearch");const i=e.getBinding("items");const n=t.getValue();const o=this.getPressed();if(o){i.filter(new a({filters:[new a({filters:[new a({path:"title",operator:r.Contains,value1:n}),new a({path:"selected",operator:r.EQ,value1:o})],and:true}),new a({filters:[new a({path:"space",operator:r.Contains,value1:n}),new a({path:"selected",operator:r.EQ,value1:o})],and:true})],and:false}))}else{i.filter(new a({filters:[new a({path:"title",operator:r.Contains,value1:n}),new a({path:"space",operator:r.Contains,value1:n})],and:false}))}if(i.getLength()===0){e.setNoDataText(d.i18n.getText(n?"VisualizationOrganizer.PagesList.NoResultsText":"VisualizationOrganizer.PagesList.NoDataText"))}},loadSectionContext:function(t){this.stVizIdInSection.clear();if(!t||!t.pageID){return Promise.resolve(null)}return g.getServiceAsync("Pages").then(i=>{const n=decodeURIComponent(t.pageID);const s=t.sectionID?decodeURIComponent(t.sectionID):"";return i.loadPage(n).then(e=>{const t=i.getModel().getProperty(e);const n=this._createSectionContext(t,s);return n}).catch(()=>{e.warning(`${n} cannot be loaded. Please, check the id of the page.`);return Promise.resolve(null)})})},_createSectionContext:function(e,t){const i=e.sections;let n;if(t){n=i.find(e=>e.id===t);this._initVizIdsInSection(n);return{pageID:e.id,sectionID:t,pageTitle:e.title,sectionTitle:n.title}}i.forEach(e=>{this._initVizIdsInSection(e)});return{pageID:e.id,sectionID:t,pageTitle:e.title}},_initVizIdsInSection:function(e){e.visualizations.forEach(e=>{this.stVizIdInSection.add(e.vizId)})},getPersonalizablePages:function(){return this.aPersonalizablePages},_isPersonalizablePage:function(e){const t=this.aPersonalizablePages.findIndex(t=>t.id===e);return t>-1},_retrieveChangedPageIds:function(){const e=s.getElementById("sapUshellVisualizationOrganizerSpacesList");const t=s.getElementById("sapUshellVisualizationOrganizerSearch");const i=e.getModel();const n=i.getProperty("/pinnedPages")||new Set;e.getBinding("items").filter(null);const o=e.getItems().filter(e=>e.isA("sap.m.StandardListItem"));t.fireSearch();const a={};const r=[];const l=[];o.forEach(e=>{const t=e.getBindingContext().getProperty("id");if(!a[t]){a[t]=true;if(e.getSelected()&&!n.has(t)){r.push(t)}else if(!e.getSelected()&&n.has(t)){l.push(t)}}});return{addToPageIds:r,deleteFromPageIds:l}},okay:function(){const t=s.getElementById("sapUshellVisualizationOrganizerPopover");if(t.getBusy()){return}t.setBusy(true);this._organizeVisualizations().then(()=>{t.setBusy(false);t.close()}).catch(t=>{e.error("Could not save the selected pages on the VisualizationOrganizerPopover",t)})},onHierarchyAppsPinButtonClick:function(e,t){const i=e.getSource();const n=i.getParent().getBinding("title").getContext().getObject();if(i.getBusy()){return Promise.resolve(false)}n.isBookmark=true;n.title=n.text;if(t){i.setBusy(true);return this._applyBookmarkTileChangeToSection(n,t).then(()=>{i.setBusy(false);return Promise.resolve(true)})}if(this.aPersonalizablePages.length===1){i.setBusy(true);return this._applyChangeToPage(i,n,this.aPersonalizablePages[0]).then(()=>{i.setBusy(false);return Promise.resolve(true)})}return new Promise(e=>{this.toggle(i,n).then(()=>{const t=s.getElementById("sapUshellVisualizationOrganizerPopover");if(t&&t.isOpen()){t.attachEventOnce("afterClose",()=>{e(true)})}else{e(false)}})})},_applyBookmarkOrganizationChange:function(e,t){const i=e.addToPageIds.length+e.deleteFromPageIds.length;if(!i){return Promise.resolve()}const n=this.oVizInfo;const s=new Set;let o;let a;let r=Promise.all([g.getServiceAsync("BookmarkV2"),g.getServiceAsync("Pages")]).then(e=>{o=e[0];a=e[1];return Promise.resolve()});e.deleteFromPageIds.forEach(e=>{if(!s.has(e)){s.add(e);r=r.then(()=>a.deleteBookmarks({url:n.url},e))}});e.addToPageIds.forEach(e=>{r=r.then(()=>{const t={url:n.url,title:n.text,subtitle:n.subtitle,icon:n.icon};const i={type:u.ContentNodeType.Page,id:e,isContainer:true};return o.addBookmark(t,i)})});return r.then(()=>{if(t){sap.ui.require(["sap/m/MessageToast"],e=>{e.show(d.i18n.getText("VisualizationOrganizer.MessageToast"))})}})},_applyBookmarkTileChangeToSection:function(e,t){return g.getServiceAsync("Pages").then(i=>{let n;let s;const o=e.url;const a=e.title;const r=t.pageID;const l=t.sectionID;if(e.bookmarkCount>0){s=d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextRemove",[a,t.sectionTitle,t.pageTitle]);n=i.deleteBookmarks({url:o},r,l)}else{const c={url:o,title:e.text,subtitle:e.subtitle,icon:e.icon};s=d.i18n.getText("VisualizationOrganizer.MessageToastSectionContextAdd",[a,t.sectionTitle,t.pageTitle]);n=i.addBookmarkToPage(r,c,l)}return n.then(()=>{sap.ui.require(["sap/m/MessageToast"],e=>{e.show(s,{offset:"0 -50"})})})})},updateBookmarkCount:function(e,t){return g.getServiceAsync("Pages").then(i=>{const n=e.map(e=>i._findBookmarks({url:e.url}).then(i=>{if(t){i=i.filter(e=>t.pageID===e.pageId&&t.sectionID===e.sectionId)}e.bookmarkCount=i.length;return e}));return Promise.all(n)})},formatBookmarkPinButtonTooltip:function(e,t){let i;if(t){if(e>0){i="VisualizationOrganizer.Button.Tooltip.RemoveFromSection"}else{i="VisualizationOrganizer.Button.Tooltip.AddToSection"}}else if(e>0){i="EasyAccessMenu_PinButton_Toggled_Tooltip"}else{i="EasyAccessMenu_PinButton_UnToggled_Tooltip"}return d.i18n.getText(i)},_applyChangeToPage:function(e,t,i){const n=decodeURIComponent(t.id);const s=t.title;const o=i.id;const a=t.isBookmark?t.bookmarkCount>0:this.isVizIdPresent(n);const r={addToPageIds:a?[]:[o],deleteFromPageIds:a?[o]:[]};const l=d.i18n.getText(a?"VisualizationOrganizer.MessageToastPageRemove":"VisualizationOrganizer.MessageToastPageAdd",[s||n,i.title]);this.oVizInfo=t;this.sVisualizationId=n;let c;if(t.isBookmark){c=this._applyBookmarkOrganizationChange(r,false)}else{c=this._applyOrganizationChange(r,false)}return c.then(()=>{e.getBinding("icon")?.refresh(true);e.getBinding("type")?.refresh(true);e.getBinding("tooltip")?.refresh(true);sap.ui.require(["sap/m/MessageToast"],e=>{e.show(l,{offset:"0 -50"})})})},groupBySpace:function(e){return{key:e.getProperty("spaceId"),title:e.getProperty("space")}},getGroupHeader:function(e){return new n({title:e.title})},exit:function(){const e=s.getElementById("sapUshellVisualizationOrganizerPopover");if(e){e.destroy()}}})});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBox", ["sap/ushell/ui/appfinder/AppBoxInternal"],e=>{"use strict";const p=e.extend("sap.ushell.ui.appfinder.AppBox");return p});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/appfinder/AppBoxInternalRenderer","sap/ushell/Config"],(e,t,o,s,n,i,r)=>{"use strict";const l=e.extend("sap.ushell.ui.appfinder.AppBoxInternal",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},url:{type:"string",group:"Misc",defaultValue:null},navigationMode:{type:"string",group:"Misc",defaultValue:null},contentProviderLabel:{type:"string",group:"Misc",defaultValue:""},showContentProviderLabel:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{pinButton:{type:"sap.m.Button",multiple:false}},events:{press:{},afterRendering:{}}},renderer:i});l.prototype.init=function(){this._oIcon=(new t).addStyleClass("sapUshellAppBoxIcon");this._oDoable=r.on("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations").do(e=>{this.setProperty("showContentProviderLabel",e)})};l.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);this._oIcon.destroy();this._oDoable.off()};l.prototype.onAfterRendering=function(){const e=this.$("title");const t=this.$("subTitle");const o=parseInt(e.css("lineHeight"),10);const s=e.height();if(s/o>1){e.addClass("sapUshellAppBoxHeaderElementTwoLines");t.addClass("sapUshellAppBoxHeaderElementOneLine")}else{e.addClass("sapUshellAppBoxHeaderElementOneLine");t.addClass("sapUshellAppBoxHeaderElementTwoLines")}this.fireAfterRendering()};l.prototype.setIcon=function(e){this.setProperty("icon",e);this._oIcon.setSrc(o.isIconURI(e)?e:null)};l.prototype._getAriaLabel=function(){let e=this.getTitle();const t=this.getSubtitle();const o=this.getNavigationMode();const s=this.getShowContentProviderLabel()&&this.getContentProviderLabel();if(t){e+=` ${t}`}if(o){e+=` ${n.i18n.getText(`${o}NavigationMode`)}`}if(s){e+=` ${s}`}return e};l.prototype.onclick=l.prototype.firePress;l.prototype.onsapspace=function(e){e.preventDefault();this.firePress(e)};l.prototype.onsapenter=l.prototype.onsapspace;return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxInternalRenderer", ["sap/ushell/resources"],e=>{"use strict";const t={apiVersion:2};t.render=function(t,o){t.openStart("li",o);t.class("sapUshellAppBox");t.attr("aria-label",o._getAriaLabel());t.attr("aria-roledescription",e.i18n.getText("tile"));t.attr("aria-describedby",o.getId());t.openEnd();t.openStart("div");t.class("sapUshellAppBoxInner");t.openEnd();const l=o.getIcon();if(l){t.renderControl(o._oIcon)}t.openStart("div");if(l){t.class("sapUshellAppBoxHeader")}else{t.class("sapUshellAppBoxHeaderNoIcon")}t.openEnd();t.openStart("div",`${o.getId()}-title`);t.class("sapUshellAppBoxTitle");t.openEnd();t.text(o.getTitle());t.close("div");if(o.getSubtitle()){t.openStart("div",`${o.getId()}-subTitle`);t.class("sapUshellAppBoxSubtitle");t.openEnd();t.text(o.getSubtitle());t.close("div")}t.close("div");t.close("div");t.openStart("div");t.class("sapUshellAppBoxActionsArea");if(o.getTitle){t.attr("role","toolbar");t.attr("aria-label",o.getTitle())}t.openEnd();if(o.getShowContentProviderLabel()&&o.getContentProviderLabel()!==""){t.openStart("div",`${o.getId()}-contentProviderLabel`);t.class("sapUshellAppBoxContentProviderLabel");t.openEnd();t.openStart("span",`${o.getId()}-contentProviderLabelInner`);t.class("sapUshellAppBoxContentProviderLabelInner");t.attr("title",o.getContentProviderLabel().toUpperCase());t.openEnd();t.text(o.getContentProviderLabel());t.close("span");t.close("div")}t.renderControl(o.getPinButton());t.close("div");t.close("li")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/AppBoxRenderer", ["sap/ushell/ui/appfinder/AppBoxInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButton", ["sap/m/Button","sap/ushell/library","sap/ushell/ui/appfinder/PinButtonRenderer"],(e,t,n)=>{"use strict";const r=e.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{library:"sap.ushell",properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:n});r.prototype.onAfterRendering=function(){this.$("inner").toggleClass("sapUshellPinSelected",this.getSelected())};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/appfinder/PinButtonRenderer", ["sap/m/ButtonRenderer","sap/ui/core/Renderer"],(e,t)=>{"use strict";const r=t.extend(e);r.apiVersion=2;r.renderAccessibilityAttributes=function(e,t,r){r.pressed=t.getSelected();r.selected=null};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItem", ["sap/ui/core/Control","sap/ushell/ui/launchpad/AnchorItemRenderer","sap/ushell/library"],(e,t)=>{"use strict";const i=e.extend("sap.ushell.ui.launchpad.AnchorItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Misc",defaultValue:false},groupId:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},helpId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true},isGroupRendered:{type:"boolean",group:"Misc",defaultValue:false},isGroupDisabled:{type:"boolean",group:"Misc",defaultValue:false},locked:{type:"boolean",group:"Misc",defaultValue:false},posinset:{type:"int",group:"Misc",defaultValue:0},setsize:{type:"int",group:"Misc",defaultValue:0}},events:{press:{},afterRendering:{},visibilityChanged:{}}},renderer:t});i.prototype.init=function(){this.addDelegate({onAfterRendering:this.fireAfterRendering.bind(this),onclick:this.firePress.bind(this),onsapenter:this.firePress.bind(this),onsapspace:function(e){e.preventDefault();this.firePress()}.bind(this)})};i.prototype.setVisible=function(e,t){this.setProperty("visible",e,t);this.fireVisibilityChanged();return this};return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorItemRenderer", ()=>{"use strict";const e={apiVersion:2,render:function(e,t){const s=t.getGroupId();const a=t.getSelected();e.openStart("li",t);e.attr("modelGroupId",s);e.attr("role","tab");e.attr("aria-selected",a);e.class("sapUshellAnchorItem");if(t.getSetsize()){e.attr("aria-posinset",t.getPosinset());e.attr("aria-setsize",t.getSetsize())}if(t.getHelpId()){if(t.getDefaultGroup()){e.class("help-id-homeAnchorNavigationBarItem")}else{e.class("help-id-anchorNavigationBarItem")}e.attr("data-help-id",t.getHelpId())}if(a){e.attr("tabindex","0");e.class("sapUshellAnchorItemSelected")}if(!t.getVisible()||!t.getIsGroupVisible()){e.class("sapUshellShellHidden")}e.openEnd();e.openStart("div",`${t.getId()}-inner`);e.class("sapUshellAnchorItemInner");if(t.getIsGroupDisabled()){e.class("sapUshellAnchorItemDisabled")}e.openEnd();e.text(t.getTitle());e.close("div");e.close("li")}};return e});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBar", ["./AnchorNavigationBarRenderer","sap/base/i18n/Localization","sap/base/util/isEmptyObject","sap/m/Bar","sap/m/Button","sap/ui/core/Element","sap/ui/core/ResizeHandler","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/resources"],(t,e,s,o,i,l,r,n,jQuery,h,a)=>{"use strict";const c=o.extend("sap.ushell.ui.launchpad.AnchorNavigationBar",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},selectedItemIndex:{type:"int",group:"Misc",defaultValue:0},overflowEnabled:{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{groups:{type:"sap.ushell.ui.launchpad.AnchorItem",multiple:true,singularName:"group"}},events:{afterRendering:{},itemPress:{}}},renderer:t});c.prototype.init=function(){this.bGroupWasPressed=false;this.bIsRtl=e.getRTL();this._bIsRenderedCompletely=false;this.fnNavigationBarItemsVisibility=this.setNavigationBarItemsVisibility.bind(this);this.fnAdjustVisibleAnchorItemsAccessibility=this.adjustVisibleAnchorItemsAccessibility.bind(this)};c.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}const t=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(t){t.removeEventListener("scroll",this.fnNavigationBarItemsVisibility)}};c.prototype.onAfterRendering=function(){const t=this.getDomRef();if(this._bIsRenderedCompletely){this.reArrangeNavigationBarElements();this.adjustVisibleAnchorItemsAccessibility();const e=window.document.getElementsByClassName("sapUshellAnchorNavigationBarItemsScroll")[0];if(e){e.addEventListener("scroll",this.fnNavigationBarItemsVisibility)}if(t){this._sResizeListenerId=r.register(t,this.reArrangeNavigationBarElements.bind(this))}}};c.prototype.openOverflowPopup=function(){const t=jQuery(".sapUshellAnchorItemOverFlow").hasClass("sapUshellAnchorItemOverFlowOpen");if(this.oOverflowButton&&!t){this.oOverflowButton.firePress()}};c.prototype.closeOverflowPopup=function(){if(this.oPopover){this.oPopover.close()}};c.prototype.reArrangeNavigationBarElements=function(){this.anchorItems=this.getVisibleGroups();const t=this.getSelectedItemIndex()||0;if(this.anchorItems.length){this.adjustItemSelection(t)}if(n.system.phone&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setIsGroupVisible(false)});this.anchorItems[this.getSelectedItemIndex()].setIsGroupVisible(true)}else{setTimeout(()=>{if(this.isDestroyed()){return}this.setNavigationBarItemsVisibility()},200)}};c.prototype._scrollToGroupByGroupIndex=function(t,e){const s=n.system.tablet?".sapUshellAnchorNavigationBarItemsScroll":".sapUshellAnchorNavigationBarItems";const o=document.documentElement.querySelector(s);const i=this.anchorItems[t].getDomRef();if(o&&i){const t=o.getBoundingClientRect();const e=i.getBoundingClientRect();const s=jQuery(o);const l=this.bIsRtl?s.scrollLeftRTL():o.scrollLeft;let r;if(e.left<t.left){r=e.left-t.left-16}else if(e.right>t.right){r=e.right-t.right+16}if(r){if(this.bIsRtl){s.scrollLeftRTL(l+r)}else{o.scrollLeft=l+r}}this.setNavigationBarItemsVisibility()}};c.prototype.setNavigationBarItemsVisibility=function(){if(!n.system.phone){this.setNavigationBarItemsVisibilityOnDesktop()}else if(this.anchorItems&&this.anchorItems.length>0){this.oOverflowButton.removeStyleClass("sapUshellShellHidden");const t=this.getSelectedItemIndex()||0;if(this.oPopover){this.oPopover.setTitle(this.anchorItems[t].getTitle())}}};c.prototype.setNavigationBarItemsVisibilityOnDesktop=function(){if(this.anchorItems.length&&(!this.isMostRightAnchorItemVisible()||!this.isMostLeftAnchorItemVisible())){this.oOverflowButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowButton){this.oOverflowButton.addStyleClass("sapUshellShellHidden")}if(this.bIsRtl){if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}}else{if(this.anchorItems.length&&!this.isMostLeftAnchorItemVisible()){this.oOverflowLeftButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowLeftButton){this.oOverflowLeftButton.addStyleClass("sapUshellShellHidden")}if(this.anchorItems.length&&!this.isMostRightAnchorItemVisible()){this.oOverflowRightButton.removeStyleClass("sapUshellShellHidden")}else if(this.oOverflowRightButton){this.oOverflowRightButton.addStyleClass("sapUshellShellHidden")}}};c.prototype.adjustItemSelection=function(t){setTimeout(()=>{if(this.anchorItems&&this.anchorItems.length){this.anchorItems.forEach(t=>{t.setSelected(false)});if(t>=0&&t<this.anchorItems.length){this.anchorItems[t].setSelected(true);this._scrollToGroupByGroupIndex(t)}}},50)};c.prototype.isMostRightAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)?t.width():0;const o=!s(t)&&t.offset()?t.offset().left:0;const i=this.bIsRtl?this.anchorItems[0].getDomRef():this.anchorItems[this.anchorItems.length-1].getDomRef();let l=!s(i)?jQuery(i).width():0;if(l<0){l=80}const r=i&&jQuery(i).offset()?jQuery(i).offset().left:0;return Math.ceil(r)+l<=o+e};c.prototype.isMostLeftAnchorItemVisible=function(){const t=jQuery(".sapUshellAnchorNavigationBarInner");const e=!s(t)&&t.offset()&&t.offset().left||0;const o=this.bIsRtl?this.anchorItems[this.anchorItems.length-1].getDomRef():this.anchorItems[0].getDomRef();const i=!s(o)&&jQuery(o).offset()?jQuery(o).offset().left:0;return Math.ceil(i)>=e};c.prototype.setSelectedItemIndex=function(t){if(t!==undefined){this.setProperty("selectedItemIndex",t,true)}};c.prototype.setOverflowEnabled=function(t){this.setProperty("overflowEnabled",t);if(this.oOverflowButton){this.oOverflowButton.setEnabled(t)}};c.prototype._getOverflowLeftArrowButton=function(){if(!this.oOverflowLeftButton){this.oOverflowLeftButton=new i({icon:"sap-icon://slim-arrow-left",tooltip:a.i18n.getText("scrollToTop"),press:function(){this._scrollToGroupByGroupIndex(0)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowLeftButton._bExcludeFromTabChain=true}return this.oOverflowLeftButton};c.prototype._getOverflowRightArrowButton=function(){if(!this.oOverflowRightButton){this.oOverflowRightButton=new i({icon:"sap-icon://slim-arrow-right",tooltip:a.i18n.getText("scrollToEnd"),press:function(){this._scrollToGroupByGroupIndex(this.anchorItems.length-1)}.bind(this)}).addStyleClass("sapUshellShellHidden");this.oOverflowRightButton._bExcludeFromTabChain=true}return this.oOverflowRightButton};c.prototype._getOverflowButton=function(){if(!this.oOverflowButton){this.oOverflowButton=new i("sapUshellAnchorBarOverflowButton",{icon:"sap-icon://slim-arrow-down",tooltip:a.i18n.getText("more_groups"),enabled:this.getOverflowEnabled(),press:function(){this._togglePopover()}.bind(this)}).addStyleClass("sapUshellShellHidden")}return this.oOverflowButton};c.prototype._togglePopover=function(){sap.ui.require(["sap/m/Popover","sap/ui/model/Filter","sap/ushell/ui/launchpad/GroupListItem","sap/m/List","sap/m/library"],(t,s,o,i,r)=>{const n=r.ListMode;if(!this.oPopover){this.oList=new i({mode:n.SingleSelectMaster,rememberSelections:false,selectionChange:function(t){this.fireItemPress({group:t.getParameter("listItem")});this.oPopover.close()}.bind(this)});this.oPopover=new t("sapUshellAnchorBarOverflowPopover",{showArrow:false,showHeader:false,placement:"Left",content:[this.oList],horizontalScrolling:false,beforeOpen:function(){const t=jQuery(".sapUshellAnchorItemOverFlow");const s=e.getRTL();const o=s?-1*t.outerWidth():t.outerWidth();this.setOffsetX(o)},afterClose:function(){jQuery(".sapUshellAnchorItemOverFlow").removeClass("sapUshellAnchorItemOverFlowOpen");jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",false)}}).addStyleClass("sapUshellAnchorItemsPopover").addStyleClass("sapContrastPlus")}if(this.oPopover.isOpen()){this.oPopover.close()}else{this.anchorItems=this.getVisibleGroups();this.oList.setModel(this.getModel());const t=this.getModel().getProperty("/tileActionModeActive");const e=new s("","EQ","a");e.fnTest=function(e){if(!e.visibilityModes[t?1:0]){return false}return e.isGroupVisible||t};this.oList.bindItems({path:"/groups",template:new o({title:"{title}",groupId:"{groupId}",index:"{index}"}),filters:[e]});const i=jQuery(".sapUshellAnchorItemSelected").attr("id");const r=l.getElementById(i);this.oList.getItems().forEach(t=>{if(r.mProperties.groupId===t.mProperties.groupId){t.addStyleClass("sapUshellAnchorPopoverItemSelected")}else{t.addStyleClass("sapUshellAnchorPopoverItemNonSelected")}});jQuery(".sapUshellAnchorItemOverFlow").toggleClass("sapUshellAnchorItemOverFlowPressed",true);this.oPopover.openBy(this.oOverflowButton)}})};c.prototype.getVisibleGroups=function(){return this.getGroups().filter(t=>t.getVisible())};c.prototype._setRenderedCompletely=function(t){this._bIsRenderedCompletely=t};c.prototype.handleAnchorItemPress=function(t){this.bGroupWasPressed=true;this.fireItemPress({group:t.getSource(),manualPress:true})};c.prototype.adjustVisibleAnchorItemsAccessibility=function(){const t=this.getVisibleGroups();const e=t.length;t.forEach((t,s)=>{t.setPosinset(s+1);t.setSetsize(e)})};c.prototype.addGroup=function(t,e){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.addAggregation("groups",t,e)};c.prototype.insertGroup=function(t,e,s){t.attachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.insertAggregation("groups",t,e,s)};c.prototype.removeGroup=function(t,e){t.detachVisibilityChanged(this.fnAdjustVisibleAnchorItemsAccessibility);return this.removeAggregation("groups",t,e)};c.prototype.exit=function(){if(this.oOverflowLeftButton){this.oOverflowLeftButton.destroy()}if(this.oOverflowRightButton){this.oOverflowRightButton.destroy()}if(this.oOverflowButton){this.oOverflowButton.destroy()}if(this.oPopover){this.oPopover.destroy()}if(o.prototype.exit){o.prototype.exit.apply(this,arguments)}if(this._sResizeListenerId){r.deregister(this._sResizeListenerId);this._sResizeListenerId=null}};return c});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/AnchorNavigationBarRenderer", ["sap/ushell/resources","sap/ui/core/library"],(e,t)=>{"use strict";const r=t.AccessibleLandmarkRole;const a={apiVersion:2};a.render=function(t,a){t.openStart("div",a);t.attr("role",r.Navigation);t.attr("aria-label",e.i18n.getText("Dashboard.Page.Header.AriaLabel"));t.attr("data-sap-ui-customfastnavgroup","true");t.class("sapUshellAnchorNavigationBar");t.class("sapMPageHeader");t.class("sapMIBar-CTX");t.class("sapMHeader-CTX");t.openEnd();t.openStart("div");t.class("sapUshellAnchorNavigationBarInner");t.openEnd();if(a.getGroups().length>0){a._setRenderedCompletely(true);t.openStart("div");t.class("sapUshellAnchorLeftOverFlowButton");t.accessibilityState(a._getOverflowLeftArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowLeftArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorNavigationBarItems");t.openEnd();t.openStart("ul");t.class("sapUshellAnchorNavigationBarItemsScroll");t.accessibilityState(a,{role:"tablist",label:e.i18n.getText("AnchorNavigationBar_AriaLabel")});t.openEnd();this.renderAnchorNavigationItems(t,a);t.close("ul");t.close("div");t.openStart("div");t.class("sapUshellAnchorRightOverFlowButton");t.accessibilityState(a._getOverflowRightArrowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowRightArrowButton());t.close("div");t.openStart("div");t.class("sapUshellAnchorItemOverFlow");t.accessibilityState(a._getOverflowButton(),{hidden:true});t.openEnd();t.renderControl(a._getOverflowButton());t.close("div")}t.close("div");t.close("div")};a.renderAnchorNavigationItems=function(e,t){t.getGroups().forEach(t=>{e.renderControl(t)})};a.shouldAddIBarContext=function(){return false};return a},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogEntryContainer", ["sap/base/Log","sap/ui/core/Control","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/Container"],(e,t,n,i,s,a)=>{"use strict";const l=t.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{library:"sap.ushell",properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBoxInternal",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.attr("aria-labeledby",`${t.getId()}-title`);e.attr("role","group");e.class("sapUshellTileContainer");e.class("sapUshellCatalogTileContainer");e.openEnd();e.openStart("div");e.class("sapUshellTileContainerContent");e.attr("tabindex","-1");e.openEnd();let n=t.getHeader();if(n){if(i.i18n.hasText(n)){n=i.i18n.getText(n)}e.openStart("div");e.class("sapUshellTileContainerHeader");e.class("sapUshellCatalogTileContainerHeader");e.attr("id",`${t.getId()}-groupheader`);e.openEnd();e.openStart("div");e.class("sapUshellCatalogTileContainerHeaderInner");e.attr("id",`${t.getId()}-title`);e.openEnd();e.openStart("h2");e.class("sapUshellContainerTitle");e.class("sapUshellCatalogContainerTitle");e.attr("title",n);e.attr("aria-level","2");e.openEnd();e.text(n);e.close("h2");e.close("div");e.close("div")}const s=t.getAppBoxesContainer();let a;const l=t.getCustomTilesContainer();if(s.length>0||l.length>0){e.openStart("ul");e.class("sapUshellInner");e.openEnd();for(a=0;a<s.length;a++){e.renderControl(s[a])}if(s.length&&l.length){e.voidStart("br");e.voidEnd()}for(a=0;a<l.length;a++){e.renderControl(l[a])}e.close("ul")}e.close("div");e.close("div")}}});l.prototype.setAfterHandleElements=function(e){this.onAfterHandleElements=e};l.prototype.onAfterUpdate=function(e){this.fnCallback=e};l.prototype.updateAggregation=function(t){e.debug("Updating CatalogEntryContainer. Reason: ",t)};l.prototype.addNewItem=function(e,t){if(this.catalogState[t]!=="full"&&this.getAllocatedUnits&&!this.getAllocatedUnits()){this.catalogState[t]="partial";return false}if(t==="customTilesContainer"){const t=e.getObject&&e.getObject().src;if(t!==undefined){let e;if(t.Chip!==undefined&&t.Chip.getContract!==undefined){e=t.Chip.getContract("preview")}else if(t.getContract!==undefined){e=t.getContract("preview")}if(e!==undefined){e.setEnabled(true)}}a.getServiceAsync("FlpLaunchPage").then(t=>{t.getCatalogTileViewControl(e.getProperty("src")).done(t=>{e.getModel().setProperty(`${e.getPath()}/content`,[t])})})}const n=s.createNewItem.bind(this)(e,t);s.addNewItem.bind(this)(n,t);const i=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();const l=e.getPath();this.indexingMaps[t].onScreenPathIndexMap[l]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true};l.prototype.getNumberResults=function(){return{nAppboxes:this.nNumberOfVisibleElements.appBoxesContainer,nCustom:this.nNumberOfVisibleElements.customTilesContainer}};l.prototype.handleElements=function(e){const t=e;const n=this.mBindingInfos[t].binding;const i=n.getContexts();let a;if(!this.catalogState){this.catalogState={}}if(!this.catalogState[e]){this.catalogState[e]="start"}if(!this.indexingMaps){this.indexingMaps={}}if(!this.nNumberOfVisibleElements){this.nNumberOfVisibleElements=[]}if(!this.nNumberOfVisibleElements.customTilesContainer){this.nNumberOfVisibleElements.customTilesContainer=0}if(!this.nNumberOfVisibleElements.appBoxesContainer){this.nNumberOfVisibleElements.appBoxesContainer=0}if(!this.filters){this.filters={}}a=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[t]=s.indexOnScreenElements(a,false);const l=s.markVisibleOnScreenElementsSearchCatalog(i,this.indexingMaps[t],true);if(s.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[t],i,l,this.addNewItem.bind(this),a,this.filters[t],t,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[e]="full"}}a=t==="appBoxesContainer"?this.getAppBoxesContainer():this.getCustomTilesContainer();const o=s.showHideTilesAndHeaders(this.indexingMaps[t],a);this.nNumberOfVisibleElements[t]=o.nCountVisibleElements;if(this.fnCallback){this.fnCallback(this)}if(this.onAfterHandleElements){this.onAfterHandleElements(this)}};l.prototype.processFiltering=function(e,t){const n=e.getPath();if(t){const e=this.indexingMaps[t].onScreenPathIndexMap[n];if(e.isVisible&&this.currElementVisible){this.currElementVisible()}}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/CatalogsContainer", ["sap/base/Log","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ushell/library","sap/ushell/ui/launchpad/TileContainerUtils","sap/ushell/resources"],(t,e,i,n,s,a)=>{"use strict";const l=e.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{library:"sap.ushell",properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{apiVersion:2,render:function(t,e){const i=e.getCatalogs();t.openStart("div",e);t.class("sapUshellCatalogsContainer");t.openEnd();for(let e=0,n=i.length;e<n;++e){t.renderControl(i[e])}t.close("div")}}});l.prototype.onBeforeRendering=function(){if(this.getCatalogs().length){this.setBusy(false)}};l.prototype.setPagingManager=function(t){i.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");i.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=t};l.prototype.updateAllocatedUnits=function(t){this.nAllocatedUnits=t};l.prototype.applyPagingCategoryFilters=function(t,e){const i=this.getCatalogs();this.nAllocatedUnits=t;if(e&&e!==a.i18n.getText("all")){this.sCatalogTerm=e}else{this.sCatalogTerm=""}if(!this.filters){this.filters={}}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(t){const e=t.getPath();const i=t.getProperty("title")===this.sCatalogTerm;if(!this.sCatalogTerm){return}const n=this.indexingMaps.onScreenPathIndexMap[e];if(n){n.isVisible=i}}.bind(this)}if(!this.filters.pagination){this.filters.pagination=function(t){const e=t.getPath();const i=this.indexingMaps.onScreenPathIndexMap[e];if(!this.nAllocatedUnits){i.isVisible=false}}.bind(this)}if(!this.indexingMaps){return}this.indexingMaps=s.indexOnScreenElements(i);s.applyFilterOnAllItems(this.mBindingInfos.catalogs,this.filters,this.processFiltering.bind(this));if(this.indexingMaps){s.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs())}};l.prototype.processFiltering=function(t){const e=this.getCatalogs();const i=t.getPath();const n=this.indexingMaps.onScreenPathIndexMap[i];const s=e[n.aItemsRefrenceIndex];let a;if(n.isVisible&&(!this.catalogPagination[i]||this.catalogPagination[i]==="start")){if(this.catalogPagination[i]===undefined){this.catalogPagination[i]="start";s.catalogState={}}else if(this.catalogPagination[i]==="start"){const t=s.nNumberOfVisibleElements;this.nAllocatedUnits+=t.appBoxesContainer+t.customTilesContainer}a=this.nAllocatedUnits;s.handleElements("appBoxesContainer");s.handleElements("customTilesContainer");if(s.catalogState.appBoxesContainer==="full"&&s.catalogState.customTilesContainer==="full"){this.catalogPagination[i]="full"}if(a-this.nAllocatedUnits>0){this.bSearchResults=true}else{n.isVisible=false}}else if(n.isVisible&&this.catalogPagination[i]==="full"){const t=s.nNumberOfVisibleElements;const e=t.appBoxesContainer+t.customTilesContainer;if(e===0){n.isVisible=false}}};l.prototype.resetCatalogPagination=function(){this.catalogPagination={}};l.prototype.updateAggregation=function(n){t.debug("Updating TileContainer. Reason: ",n);try{i.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();i.pause("FLP:DashboardManager.CatalogsRendering")}catch(t){e.prototype.updateAggregation.apply(this,arguments)}};l.prototype.addNewItem=function(t,e){let i;const n=t.getPath();const a=s.createNewItem.bind(this)(t,e);if(!a.filters){a.filters={};a.filters.appBoxesContainer={};a.filters.customTilesContainer={};a.filters.appBoxesContainer.pagination=function(t){const e=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(a);a.filters.customTilesContainer.pagination=function(t){const e=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[t.getPath()];if(this.getAllocatedUnits){e.isVisible=!!this.getAllocatedUnits()}}.bind(a)}a.nAllocatedUnits=this.nAllocatedUnits;a.getAllocatedUnits=function(){return this.nAllocatedUnits}.bind(this);a.elementFiltered=function(t){i=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=t*i;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.elementsVisible=function(t){i=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=t*i;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.newElementCreated=function(t,e){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);a.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0}}.bind(this);s.addNewItem.bind(this)(a,e);const l=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[n]={aItemsRefrenceIndex:l.length-1,isVisible:true};return true};l.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={}}if(!this.catalogsElementsMap){this.catalogsElementsMap={}}if(!this.filters){this.filters={}}};l.prototype.setHandleSearchCallback=function(t){this.handleSearchCallback=t};l.prototype.filterElements=function(){const t="catalogs";const e=this.mBindingInfos[t].binding;const i=e.getContexts();let n=this.getCatalogs();if(!this.indexingMaps){this.indexingMaps=s.indexOnScreenElements(n)}this.handleFilters();const a=s.markVisibleOnScreenElements(i,this.indexingMaps,false);if(!s.validateOrder(i,n,a)){throw new Error("Invalid order")}s.createMissingElementsInOnScreenElements(this.indexingMaps,i,a,this.addNewItem.bind(this),n,this.filters,t);n=this.getCatalogs();s.showHideTilesAndHeaders(this.indexingMaps,n);if(this.handleSearchCallback){this.handleSearchCallback()}};return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainer", ["sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/ushell/Config","sap/ushell/library","sap/ushell/override","sap/ushell/resources","sap/ushell/utils","./DashboardGroupsContainerRenderer"],(e,t,o,s,i,r,n,l,a,p)=>{"use strict";const u=t.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{accessibilityLabel:{type:"string",defaultValue:null},displayMode:{type:"string",defaultValue:null}},aggregations:{groups:{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{afterRendering:{}}},renderer:p});u.prototype.init=function(){this.addInvisibleAccessabilityTexts()};u.prototype.exit=function(){if(this.oTileText){this.oTileText.destroy()}if(this.oTileEditModeText){this.oTileEditModeText.destroy()}t.prototype.exit.apply(this,arguments)};u.prototype.updateGroups=n.updateAggregatesFactory("groups");u.prototype.onAfterRendering=function(){const e=this;const t={bUseUniqueMark:true};a.setPerformanceMark("FLP-TimeToInteractive_tilesLoaded",t);e.fireAfterRendering()};u.prototype.getGroupControlByGroupId=function(e){try{const t=this.getGroups();for(let o=0,s=t.length;o<s;++o){if(t[o].getGroupId()===e){return t[o]}}}catch{}return null};u.prototype.addLinksToUnselectedGroups=function(){const t=this.getGroups();t.forEach((t,o)=>{if(!t.getIsGroupSelected()){e.prototype.updateAggregation.call(t,"links")}})};u.prototype.removeLinksFromAllGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.removeLinksFromUnselectedGroups=function(){const e=this.getGroups();e.forEach((e,t)=>{const o=e.getLinks();if(o.length&&!e.getIsGroupSelected()){if(o[0].getMetadata().getName()==="sap.m.GenericTile"){e.removeAllLinks()}else{for(let e=0;e<o.length;e++){o[e].destroy()}}}})};u.prototype.addInvisibleAccessabilityTexts=function(){this.oTileText=new s("sapUshellDashboardAccessibilityTileText",{text:l.i18n.getText("tile")}).toStatic();const e=o.getLibraryResourceBundle("sap.m");if(e){this.oTileEditModeText=new s("sapUshellDashboardAccessibilityTileEditModeText",{text:e.getText("LIST_ITEM_NAVIGATION")}).toStatic()}};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer", ["sap/ushell/utils"],e=>{"use strict";const s={apiVersion:2};s.render=function(s,t){s.openStart("div",t);s.attr("data-sap-ui-customfastnavgroup","true");s.class("sapUshellDashboardGroupsContainer");if(t.getAccessibilityLabel()){s.accessibilityState(t,{role:"navigation",label:t.getAccessibilityLabel()})}s.openEnd();const a=t.getGroups();let r;for(let e=0;e<a.length;e++){r=a[e];s.openStart("div");s.class("sapUshellDashboardGroupsContainerItem");if(r.getIsGroupLocked()||r.getDefaultGroup()){s.class("sapUshellDisableDragAndDrop")}s.openEnd();s.renderControl(r);s.close("div")}s.close("div");e.setPerformanceMark("FLP -- dashboardgroupscontainer renderer")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ExtendedChangeDetection", ["sap/ui/base/ManagedObject","sap/ushell/Config"],(t,e)=>{"use strict";const n=t.extend("sap.ushell.ui.launchpad.ExtendedChangeDetection",{metadata:{library:"sap.ushell",events:{itemDeleted:{},itemAdded:{},itemsReordered:{}}},constructor:function(n,i,o){t.call(this);this._oAggregation=i.getMetadata().getAggregation(n);this._oControl=i;this._sAggregationName=n;this._aSiblingAggregationNames=o;const s=e.last("/core/spaces/extendedChangeDetection/enabled");if(s){this._oControl[this._oAggregation._sUpdater]=this._updateAggregation.bind(this);this._oControl.bUseExtendedChangeDetection=true}}});n.oUpdateFromSiblingCache={};n.prototype._updateAggregation=function(){const t=this._oControl.getBindingInfo(this._sAggregationName);const e=t.binding;const n=this._isUpdateFromSibling();const i=e.aLastContextData||[];const o=i.map(e=>{try{const n=JSON.parse(e);return n[t.key]}catch{return e}});const s=e.getContexts();const r=s.map(e=>e.getProperty(t.key));const g=s.diff;let a;const l=[];const d=[];const h={};let c=false;let f=false;if(g){for(a=0;a<g.length;a++){const t=g[a];if(t.type==="insert"){l.push({item:r[t.index],index:t.index})}if(t.type==="delete"){d.push({item:o[t.index-l.length],index:t.index-l.length});o.splice(t.index-l.length,1)}}for(a=0;a<d.length;a++){h[d[a].item]=this._oControl.removeAggregation(this._sAggregationName,d[a].index,true)}for(a=0;a<l.length;a++){const e=l[a];const n=h[e.item];if(n&&!(g.length>=2&&g[0].index===g[1].index)){this._oControl.insertAggregation(this._sAggregationName,n,e.index,true);delete h[e.item]}else{this._createAndInsertItem(s[e.index],t,e.index);f=true}}c=!!Object.keys(h).length;for(const t in h){h[t].destroy();delete h[t]}}else if(!(n&&r.length===0&&o.length===0)){this._createAndInsertItems(s,t);f=true}else{return}this._updateBindingContexts(s);if(s.length===0){this._oControl.invalidate()}if(c){this.fireItemDeleted()}if(f){this.fireItemAdded()}if(!c&&!f&&g){this.fireItemsReordered()}if(g&&g.length&&!n){this._refreshSiblingBindings()}};n.prototype._isUpdateFromSibling=function(){const t=`${this._oControl.getId()}:${this._sAggregationName}`;if(n.oUpdateFromSiblingCache[t]){delete n.oUpdateFromSiblingCache[t];return true}return false};n.prototype._refreshSiblingBindings=function(){if(this._aSiblingAggregationNames){for(let t=0;t<this._aSiblingAggregationNames.length;++t){const e=this._aSiblingAggregationNames[t];const i=`${this._oControl.getId()}:${e}`;const o=this._oControl.getBinding(e);n.oUpdateFromSiblingCache[i]=true;o.refresh(true)}}};n.prototype._createAndInsertItems=function(t,e){this._oAggregation.destroy(this._oControl);for(let n=0;n<t.length;n++){this._createAndInsertItem(t[n],e,n)}};n.prototype._createAndInsertItem=function(t,e,n){const i=e.factory(null,t);this._oControl.insertAggregation(this._sAggregationName,i,n,true)};n.prototype._updateBindingContexts=function(t){const e=this._oAggregation.get(this._oControl);for(let n=0;n<e.length;n++){e[n].setBindingContext(t[n])}};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/FailedTileDialog", ["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],(e,t)=>{"use strict";return function(){function o(e){if(!e){throw new Error("Could not find the Tile of the given control")}if(e.isA(["sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.LinkTileWrapper"])){return e}return o(e.getParent())}function i(e){if(!e){throw new Error("Could not find the Group of the given control")}if(e.isA("sap.ushell.ui.launchpad.TileContainer")){return e}return i(e.getParent())}function n(e){let t={};const n=o(e);if(n.getDebugInfo){const e=n.getDebugInfo();if(e){t=JSON.parse(e);t.debugInfo=e}}if(n.getTileCatalogId){const e=n.getTileCatalogId();if(e){t.chipId=decodeURIComponent(e)}}const r=i(e);const l=r.getBindingContext();if(l){const e=l.getProperty("object");if(e){t.groupId=e.getId()}}return t}this.openFor=function(o){function i(e){if(!e){throw new Error("Could not find the View of the given control")}return e.isA("sap.ui.core.mvc.View")?e:i(e.getParent())}const r=i(o);if(!r.oFailedTileDialog){return e.load({id:r.createId("failedTileDialogFragment"),name:"sap.ushell.ui.launchpad.FailedTileDialog",controller:this}).then(e=>{e.setModel(new t({}));e.bindObject({path:"/"});r.oFailedTileDialog=e;r.addDependent(r.oFailedTileDialog);this.openFor(o)})}const l=r.oFailedTileDialog.getModel();l.setProperty("/",n(o));l.setProperty("/showDetails",false);r.oFailedTileDialog.open();return Promise.resolve()};this.onShowDetails=function(e){e.getSource().getModel().setProperty("/showDetails",true)};this.onClose=function(e){e.getSource().getParent().close()}}});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupHeaderActions", ["sap/m/Button","sap/m/library","sap/ui/core/Control","sap/ushell/library"],(t,e,o)=>{"use strict";const n=e.ButtonType;const i=e.PlacementType;const s=o.extend("sap.ushell.ui.launchpad.GroupHeaderActions",{metadata:{library:"sap.ushell",properties:{isOverflow:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();const o=e.getContent();if(e.getTileActionModeActive()){if(e.getIsOverflow()){const n=o.some(t=>t.getVisible());if(n){t.renderControl(e._getOverflowButton())}}else{o.forEach(e=>{t.renderControl(e)})}}t.close("div")}}});s.prototype.exit=function(){if(this._oOverflowButton){this._oOverflowButton.destroy()}if(this._oActionSheet){this._oActionSheet.destroy()}};s.prototype._getOverflowButton=function(){if(!this._oOverflowButton){this._oOverflowButton=new t({icon:"sap-icon://overflow",type:n.Transparent,enabled:"{= !${/editTitle}}",press:function(){sap.ui.require(["sap/m/ActionSheet"],t=>{if(!this._oActionSheet){this._oActionSheet=new t({placement:i.Auto})}this._oActionSheet.destroyButtons();this.getContent().forEach(t=>{const e=t.clone();e.setModel(t.getModel());e.setBindingContext(t.getBindingContext());this._oActionSheet.addButton(e)});this._oActionSheet.openBy(this._oOverflowButton)})}.bind(this)}).addStyleClass("sapUshellHeaderActionButton");this._oOverflowButton.setParent(this)}return this._oOverflowButton};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItem", ["sap/m/ListItemBase","sap/ushell/library","sap/ushell/utils","./GroupListItemRenderer"],(e,t,r,i)=>{"use strict";const s=e.extend("sap.ushell.ui.launchpad.GroupListItem",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Misc",defaultValue:null},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},show:{type:"boolean",group:"Misc",defaultValue:true},groupId:{type:"string",group:"Misc",defaultValue:null},index:{type:"int",group:"Misc",defaultValue:null},numberOfTiles:{type:"int",group:"Misc",defaultValue:0},isGroupVisible:{type:"boolean",group:"Misc",defaultValue:true}},events:{press:{},afterRendering:{}}},renderer:i});s.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};s.prototype.onAfterRendering=function(){this.fireAfterRendering()};s.prototype.groupHasVisibleTiles=function(){const e=this.getModel().getProperty(`/groups/${this.getIndex()}/tiles`);const t=this.getModel().getProperty(`/groups/${this.getIndex()}/links`);return r.groupHasVisibleTiles(e,t)};s.prototype.onclick=function(){this.firePress({id:this.getId()})};s.prototype.setGroupId=function(e){this.setProperty("groupId",e,true);return this};s.prototype.setTitle=function(e){this.setProperty("title",e);this.$().find(".sapMSLITitleOnly").text(e);return this};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/GroupListItemRenderer", ["sap/m/ListItemBaseRenderer","sap/ui/core/Renderer"],(e,s)=>{"use strict";const t=s.extend(e);t.apiVersion=2;t.renderLIAttributes=function(e){e.class("sapUshellGroupLI");e.class("sapUshellGroupListItem")};t.renderLIContent=function(e,s){e.openStart("div",s);e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");if(!s.getVisible()){e.style("display","none")}e.openEnd();e.openStart("div",s);e.class("sapMSLITitleOnly");e.openEnd();e.text(s.getTitle());e.close("div");e.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapper", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/Core","sap/ui/thirdparty/jquery","sap/ushell/library","sap/ushell/ui/launchpad/AccessibilityCustomData","./LinkTileWrapperRenderer"],(e,t,i,s,jQuery,o,l,a)=>{"use strict";const r=i.extend("sap.ushell.ui.launchpad.LinkTileWrapper",{metadata:{library:"sap.ushell",properties:{uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},tileCatalogIdStable:{type:"string",group:"Misc",defaultValue:null},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},footItems:{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{}}},renderer:a});r.prototype.destroy=function(e){this.destroyTileViews();i.prototype.destroy.call(this,e)};r.prototype.addTileView=function(e,i){e.setParent(null);e.addCustomData(new l({key:"tabindex",value:"-1",writeToDom:true}));t.prototype.addAggregation.call(this,"tileViews",e,i)};r.prototype.destroyTileViews=function(){if(this.mAggregations.tileViews){this.mAggregations.tileViews.length=0}};r.prototype.onAfterRendering=function(){this.fireAfterRendering()};r.prototype.onclick=r.prototype._onPress;r.prototype.onsapenter=r.prototype._launchTileViaKeyboard;r.prototype.onsapspace=r.prototype._launchTileViaKeyboard;r.prototype._launchTileViaKeyboard=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(this.getTileActionModeActive()){return}else if(this._getTileState()==="Failed"){this._onFailedStatePress()}else if(t.target.tagName!=="BUTTON"){let e=this.getTileViews()[0];let t=false;if(e.firePress){e.firePress()}else{while(e.getContent&&!t){e=e.getContent()[0];if(e.firePress){e.firePress();t=true}}}}};r.prototype._onPress=function(t){e.info("Tile pressed:",this.getDebugInfo(),"sap.ushell.ui.launchpad.LinkTileWrapper");s.getEventBus().publish("launchpad","dashboardTileLinkClick");if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){this._onFailedStatePress()}};r.prototype._onFailedStatePress=function(){if(!this.getTileActionModeActive()&&this._getTileState()==="Failed"){if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],e=>{this.FailedTileDialog=new e;this._onFailedStatePress()})}else{this.FailedTileDialog.openFor(this)}return}};r.prototype._getTileState=function(){const e=this.getTileViews();let t;for(let i=0;i<e.length&&!t;++i){if(e[i].isA("sap.m.GenericTile")){t=e[i]}}if(!t){throw new Error("Could not find the wrapped Tile")}return t.getState()};r.prototype.setVisible=function(e){this.setProperty("visible",e,true);return this.toggleStyleClass("sapUshellHidden",!e)};r.prototype.setAnimationRendered=function(e){this.setProperty("animationRendered",e,true)};r.prototype._handleTileShadow=function(e,t){if(e.length){e.off("mouseenter mouseleave");let t;const i=e.css("border").split("px")[0];const s=this.getModel();if(i>0){t=e.css("border-color")}else{t=this.getRgba()}e.hover(function(){if(!s.getProperty("/tileActionModeActive")){const i=jQuery(e).css("box-shadow");const s=i?i.split(") ")[1]:null;let o;if(s){o=`${s} ${t}`;jQuery(this).css("box-shadow",o)}}},function(){jQuery(this).css("box-shadow","")})}};r.prototype.setUuid=function(e){this.setProperty("uuid",e,true);return this};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/LinkTileWrapperRenderer", ["sap/base/Log","sap/m/GenericTile","sap/m/library","sap/ushell/resources"],(e,t,a,i)=>{"use strict";const l=a.GenericTileMode;const n=a.LoadState;const s={apiVersion:2};s.render=function(a,s){let o=null;const d=s.getModel();function r(){o=new t({header:i.i18n.getText("cannotLoadTile"),mode:l.LineMode,state:n.Failed})}try{o=s.getTileViews()[0]}catch(t){e.warning("Failed to load tile view: ",t);r()}if(!o){e.warning("Failed to load tile view: the control has no tileViews");r()}a.openStart("div",s);if(d&&d.getProperty("/enableHelp")){a.attr("data-help-id",s.getTileCatalogId());if(s.getTileCatalogIdStable()){a.attr("data-help-id2",s.getTileCatalogIdStable())}}a.class("sapUshellLinkTile");if(!s.getVisible()){a.class("sapUshellHidden")}if(s.getIsLocked()){a.class("sapUshellLockedTile")}a.attr("tabindex","-1");a.openEnd();a.renderControl(o);a.close("div")};return s},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Page", ["sap/m/Button","sap/m/library","sap/m/Menu","sap/m/MenuItem","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ushell/library","sap/ushell/resources","./PageRenderer"],(e,t,i,n,o,s,a,r,c,l,u,d)=>{"use strict";const p=t.ButtonType;const g=c.TextAlign;const h=c.InvisibleMessageMode;const f=l.DisplayFormat;const m=s.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableSectionReordering:{type:"boolean",group:"Misc",defaultValue:false},dataHelpId:{type:"string",group:"Misc",defaultValue:""},noSectionsText:{type:"string",group:"Misc",defaultValue:""},showNoSectionsText:{type:"boolean",group:"Misc",defaultValue:true},showTitle:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:""}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.ushell.ui.launchpad.Section",multiple:true,dnd:true},messageStrip:{type:"sap.m.MessageStrip",multiple:false},_addSectionButtons:{type:"sap.m.Button",multiple:true,visibility:"hidden"},_noSectionText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addSectionButtonPressed:{parameters:{index:{type:"int"}}},sectionDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}},renderer:d});m.prototype.enhanceAccessibilityState=function(e,t){delete t.readonly};m.prototype.init=function(){this.setAggregation("_noSectionText",new o({text:u.i18n.getText("Page.NoSectionText"),width:"100%",textAlign:g.Center}));this._oDragDropInfo=new a({sourceAggregation:"sections",targetAggregation:"sections",dropPosition:"Between",dragStart:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},dragEnter:function(e){if(e.getParameter("target").getDefault()){e.preventDefault()}},drop:function(e){this.fireSectionDrop(e.getParameters())}.bind(this)});this.addDelegate({onsappageup:this._handleKeyboardPageNavigation.bind(this),onsappagedown:this._handleKeyboardPageNavigation.bind(this),onsapdown:this._handleKeyboardArrowNavigation.bind(this,false),onsapdownmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsapup:this._handleKeyboardArrowNavigation.bind(this,false),onsapupmodifiers:this._handleKeyboardArrowNavigation.bind(this,true),onsaphome:this._handleKeyboardHomeEndNavigation.bind(this),onsaphomemodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onsapend:this._handleKeyboardHomeEndNavigation.bind(this),onsapendmodifiers:this._handleKeyboardHomeEndNavigation.bind(this),onfocusin:this._saveFocus.bind(this),onsapskipback:this._handleSkipBack.bind(this),onsapskipforward:this._handleSkipForward.bind(this),onBeforeFastNavigationFocus:this._handleBeforeFastNavigationFocus.bind(this)});this._oInvisibleMessageInstance=r.getInstance()};m.prototype._onSectionContextMenu=function(e,t){if(!this.getEdit()){return}for(let t=e.srcControl;!t.isA("sap.ushell.ui.launchpad.Section");t=t.getParent()){if(t.isA("sap.m.Input")||t.isA("sap.ushell.ui.launchpad.VizInstance")||t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){return}}function o(e){const i=this.getSections();const n=i.indexOf(t);const o=i[e?n-1:n+1];this.fireSectionDrop({draggedControl:t,droppedControl:o,dropPosition:e?"Before":"After"})}const s=this.getEnableSectionReordering();const a=this.getSections().filter(e=>!e.getDefault());const r=a.indexOf(t);const c=new i("sapUshellSectionContextMenu",{items:[new n({text:"{i18n>Page.MoveSection.Up}",enabled:s&&r>0,press:o.bind(this,true)}),new n({text:"{i18n>Page.MoveSection.Down}",enabled:s&&r!==-1&&r<a.length-1,press:o.bind(this,false)})],closed:function(){setTimeout(this.destroy.bind(this))}}).setModel(u.i18nModel,"i18n");this.addDependent(c);e.preventDefault();c.openAsContextMenu(e,t)};m.prototype._saveFocus=function(e){const t=e.srcControl;if(t.isA("sap.ushell.ui.launchpad.Section")){if(t){if(t.indexOfVisualization(this._oLastFocusedViz)===-1){this._oLastFocusedViz=t.getVisualizations()[0];this._oLastFocusedSection=this._oLastFocusedViz?undefined:t}}else{this._oLastFocusedViz=undefined;this._oLastFocusedSection=undefined}}else if(t.isA("sap.f.GridContainer")){const i=t.getItems();this._oLastFocusedViz=i.find(t=>{const i=t.getDomRef();return i&&i.parentNode===e.target})}else if(t.isA("sap.ushell.ui.launchpad.VizInstanceLink")){this._oLastFocusedViz=t}};m.prototype._handleSkipBack=function(e){if(this.getEdit()){let t;const i=e.srcControl;if(i.isA("sap.f.GridContainer")||i.isA("sap.ushell.ui.launchpad.VizInstanceLink")){t=this._getAncestorSection(i)}if(t){e.preventDefault();t.focus()}}};m.prototype._handleSkipForward=function(e){let t;let i;const n=e.srcControl;if(n.isA("sap.ushell.ui.launchpad.Section")){i=n}if(i){if(i.indexOfVisualization(this._oLastFocusedViz)!==-1){t=this._oLastFocusedViz}else{t=i.getAllItems()[0]}}if(t){e.preventDefault();this._focusVisualization(t)}};m.prototype._handleBeforeFastNavigationFocus=function(e){const t=this.getSections();const i=this.getEdit();if(i&&this._oLastFocusedSection){this._oLastFocusedSection.focus()}else if(i&&e.forward&&this._oLastFocusedViz){this._getAncestorSection(this._oLastFocusedViz).focus()}else if(this._oLastFocusedViz&&this._oLastFocusedViz.getDomRef()){this._focusVisualization(this._oLastFocusedViz)}else if(i&&e.forward&&t.length>0){this._getFirstVisibleSection().focus()}else if(i&&!e.forward&&t.length>0){const e=t[0];if(e.getAllItems().length===0){e.focus()}else{this._focusVisualization(e.getAllItems()[0])}}else{const e=t.find(e=>e.getDomRef()&&e.getAllItems().length>0);this._focusVisualization(e.getAllItems()[0])}e.preventDefault()};m.prototype._getAncestorSection=function(e){if(!e){return null}if(e.isA("sap.ushell.ui.launchpad.Section")){return e}else if(e.getParent){return this._getAncestorSection(e.getParent())}return null};m.prototype.exit=function(){this._oDragDropInfo.destroy()};m.prototype.onBeforeRendering=function(){const t=this.getSections().length;const i=this.getAggregation("_addSectionButtons")||[];let n;for(let o=i.length;o<t+1;o++){n=new e({type:p.Transparent,icon:"sap-icon://add",text:u.i18n.getText("Page.Button.AddSection"),press:this.fireAddSectionButtonPressed.bind(this,{index:o})});n.addStyleClass("sapUshellPageAddSectionButton");this.addAggregation("_addSectionButtons",n)}};m.prototype.getFocusDomRef=function(){const e=this.getAggregation("_addSectionButtons")||[];if(!this.getSections().length&&e.length&&this.getEdit()){return e[0].getFocusDomRef()}return this.getDomRef()};m.prototype.setEnableSectionReordering=function(e){if(e===undefined||this.getEnableSectionReordering()===e){return this}this.setProperty("enableSectionReordering",!!e,true);if(e){this.addDragDropConfig(this._oDragDropInfo)}else{this.removeDragDropConfig(this._oDragDropInfo)}return this};m.prototype.setNoSectionsText=function(e){if(e===undefined||this.getNoSectionsText()===e){return this}this.setProperty("noSectionsText",e,true);const t=this.getAggregation("_noSectionText");t.setText(e||u.i18n.getText("Page.NoSectionText"));return this};m.prototype._focusVisualization=function(e){if(!e){return}else if(e.isA("sap.ushell.ui.launchpad.VizInstanceLink")){e.focus()}else{e.getDomRef().parentElement.focus()}};m.prototype._focusNextVisualization=function(e){const t=this.getSections();let i=this.indexOfSection(e.section);const n=e.event.getParameter?e.event.getParameter("event"):e.event;const o=n.target.firstElementChild;let s;let a;while(true){if(e.direction==="up"){i--}else{i++}s=t[i];if(!s){return}a=s.focusVisualization({keycode:n.keyCode,ref:o});if(a){n.preventDefault();return}}};m.prototype._handleKeyboardPageNavigation=function(e){if(this._isFocusInInput()){return}const t=this.getSections();for(let i=0;i<t.length;i++){const n=t[i].getDomRef();if(n.contains(window.document.activeElement)){this._focusNextVisualization({event:e,section:t[i],direction:e.type==="sappagedown"?"down":"up",prefIndex:0});return}}};m.prototype._handleKeyboardArrowNavigation=function(e,t){if(e&&!this.getEnableSectionReordering()||e&&!t.ctrlKey){return}const i=this.getSections();let n;let o;let s;for(let e=0;e<i.length;e++){n=i[e-1];o=i[e];s=i[e+1];if(window.document.activeElement===o.getFocusDomRef()){if(t.type==="sapup"&&n){n.focus()}else if(t.type==="sapdown"&&s){s.focus()}else if(t.type==="sapupmodifiers"&&n){if(n.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:n,dropPosition:"Before"});t.preventDefault();t.stopPropagation()}else if(t.type==="sapdownmodifiers"&&s){if(o.getDefault()){return}this.fireSectionDrop({draggedControl:o,droppedControl:s,dropPosition:"After"});t.preventDefault();t.stopPropagation()}return}}};m.prototype._isFocusInInput=function(){const e=(document.activeElement||{}).tagName;return e==="INPUT"||e==="TEXTAREA"};m.prototype._handleKeyboardHomeEndNavigation=function(e){if(this._isFocusInInput()){return}let t;let i;let n=false;if(e.type==="saphome"){i=this._getSectionAreaItems(e.srcControl)}else if(e.type==="saphomemodifiers"){t=this._getFirstVisibleSection(true)}else if(e.type==="sapend"){i=this._getSectionAreaItems(e.srcControl);n=true}else if(e.type==="sapendmodifiers"){t=this._getLastVisibleSection(true);n=true}if(t){i=t.getAllItems()}if(n){this._focusVisualization(i[i.length-1])}else{this._focusVisualization(i[0])}e.preventDefault();e.stopPropagation()};m.prototype._getFirstVisibleSection=function(e){const t=this.getSections();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._getLastVisibleSection=function(e){const t=this.getSections().reverse();return t.find(t=>this._isSectionVisible(t,e))};m.prototype._isSectionVisible=function(e,t){const i=t?false:this.getEdit();return i||e.getVisualizations().length>0&&e.getDomRef()&&e.getShowSection()};m.prototype._getSectionAreaItems=function(e){let t;let i;const n=e.getBindingContext();if(n){i=n.getProperty("displayFormatHint")}const o=this.getSections();const s=o.find(t=>{const i=t.getDomRef();return i&&i.contains(e.getDomRef())});if(s){switch(i){case f.Compact:return s.getCompactItems();case f.Standard:case f.StandardWide:return s.getDefaultItems();case f.Flat:case f.FlatWide:return s.getFlatItems();default:t=s.getDefaultItems();if(t.length>0){return t}t=s.getFlatItems();if(t.length>0){return t}t=s.getCompactItems();return t}}return[]};m.prototype._handleSectionBorderReached=function(e){this._focusNextVisualization(e.getParameters())};m.prototype.addAggregation=function(e,t){s.prototype.addAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.insertAggregation=function(e,t){s.prototype.insertAggregation.apply(this,arguments);if(e==="sections"){t.attachEvent("borderReached",this._handleSectionBorderReached.bind(this));t.addEventDelegate({oncontextmenu:e=>{this._onSectionContextMenu(e,t)}})}return this};m.prototype.announceMove=function(){const e=u.i18n.getText("PageRuntime.Message.SectionMoved");this._oInvisibleMessageInstance.announce(e,h.Polite)};return m});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PageRenderer", [],()=>{"use strict";const t={apiVersion:2};t.render=function(t,e){const o=e.getSections().filter(t=>e.getEdit()||t.getShowSection()&&t.getVisible());const i=o.length;const n=e.getDataHelpId();const a=e.getTitle();t.openStart("div",e);t.class("sapUshellPage");t.class("sapContrastPlus");t.attr("role","region");t.attr("aria-label",a);t.attr("data-sap-ui-customfastnavgroup","true");if(n){t.attr("data-help-id",n)}t.openEnd();if(e.getEdit()&&e.getAggregation("messageStrip")){t.renderControl(e.getAggregation("messageStrip"))}t.openStart("h2",`${e.getId()}-title`);t.class("sapMTitle");t.class("sapUshellPageTitle");if(!e.getShowTitle()){t.class("sapUiPseudoInvisibleText")}t.attr("aria-level","2");t.openEnd();t.text(a);t.close("h2");if(e.getEdit()&&!i){t.renderControl(e.getAggregation("_addSectionButtons")[0])}if(!i&&e.getShowNoSectionsText()){t.renderControl(e.getAggregation("_noSectionText"))}let s;let r;for(s=0;s<i;s++){r=o[s];t.openStart("div");t.class("sapUshellPageSection");t.openEnd();t.renderControl(r);if(e.getEdit()){t.renderControl(e.getAggregation("_addSectionButtons")[s+1])}t.close("div")}t.close("div")};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTile", ["sap/ui/core/Icon","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTileRenderer","sap/ushell/ui/launchpad/Tile"],(e,t,o,s,n)=>{"use strict";const i=n.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{groupId:{type:"string",group:"Misc",defaultValue:""},enableHelp:{type:"boolean",group:"Misc",defaultValue:false}},events:{press:{}}},renderer:s});i.prototype.init=function(){this.oIcon=new e({src:"sap-icon://add",tooltip:o.i18n.getText("openAppFinder_tooltip")})};i.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};i.prototype.onclick=function(){const e=this.getParent().getBindingContext().getObject();if(!e.object){return}this.firePress()};i.prototype.onsapspace=i.onclick;i.prototype.onsapenter=i.onclick;return i});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/PlusTileRenderer", ["sap/ushell/resources","sap/ushell/Config"],(l,s)=>{"use strict";const e={apiVersion:2,render:function(e,a){e.openStart("li",a);e.attr("tabindex","-1");e.class("sapUshellTile");e.class("sapUshellPlusTile");e.class("sapContrastPlus");e.class("sapMGT");if(s.last("/core/home/sizeBehavior")==="Small"){e.class("sapUshellSmall")}if(a.getEnableHelp()){e.class("help-id-plusTile")}e.attr("aria-label",l.i18n.getText("TilePlus_label"));e.openEnd();e.renderControl(a.oIcon);e.close("li")}};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/Section", ["sap/base/Log","sap/base/util/deepClone","sap/f/dnd/GridDropInfo","sap/f/GridContainer","sap/f/GridContainerItemLayoutData","sap/f/GridContainerSettings","sap/m/Button","sap/m/Input","sap/m/Label","sap/m/library","sap/m/Text","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/Lib","sap/ui/core/dnd/DragInfo","sap/ui/core/dnd/DropInfo","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/events/KeyCodes","sap/ui/model/Filter","sap/ushell/resources","sap/ushell/ui/launchpad/ExtendedChangeDetection","sap/ushell/library","sap/ushell/ui/launchpad/section/CompactArea","sap/ui/core/Element","sap/ushell/ui/launchpad/SectionRenderer"],(t,e,i,a,o,n,r,s,g,l,u,p,d,h,c,f,y,m,A,S,b,C,z,_,w,L,V,D,G,R)=>{"use strict";const I=l.ButtonType;const v=l.OverflowToolbarPriority;const x=l.TileSizeBehavior;const E=C.dnd.DropLayout;const T=C.dnd.DropPosition;const B=C.InvisibleMessageMode;const P=C.TextAlign;const F=C.TitleLevel;const X=V.DisplayFormat;function M(t,e,i){if(!Array.isArray(e)||!e.length){return null}if(t&&t.getDomRef){t=t.getDomRef()}if(!t){return e[i?e.length-1:0]}function a(t,e){const i=t.left+t.right-e.left-e.right;const a=t.top+t.bottom-e.top-e.bottom;return i*i+a*a}function o(t){const e=t.querySelector(".sapMGTLineStyleHelper");return(e||t).getBoundingClientRect()}const n=o(t);let r=null;let s=0;let g;let l;let u;for(let t=e.length-1;t>=0;t--){l=e[t].getDomRef();if(l){g=o(l);if(!g.width&&!g.height){continue}if(i&&g.top>=n.top||!i&&g.bottom<=n.bottom){continue}u=a(g,n);if(!r||u<s){r=e[t];s=u}}}return r}const N=f.extend("sap.ushell.ui.launchpad.Section",{metadata:{library:"sap.ushell",properties:{dataHelpId:{type:"string",group:"Misc",defaultValue:""},ariaLabel:{type:"string",group:"Misc",defaultValue:""},default:{type:"boolean",group:"Misc",defaultValue:false},editable:{type:"boolean",group:"Misc",defaultValue:false},enableAddButton:{type:"boolean",group:"Behavior",defaultValue:true},enableDeleteButton:{type:"boolean",group:"Behavior",defaultValue:true},enableGridBreakpoints:{type:"boolean",group:"Appearance",defaultValue:false},enableGridContainerQuery:{type:"boolean",group:"Appearance",defaultValue:false},enableResetButton:{type:"boolean",group:"Behavior",defaultValue:true},enableShowHideButton:{type:"boolean",group:"Behavior",defaultValue:true},enableVisualizationReordering:{type:"boolean",group:"Behavior",defaultValue:false},gridContainerGap:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapS:{type:"string",group:"Appearance",defaultValue:"0.475rem"},gridContainerGapM:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerGapXL:{type:"string",group:"Appearance",defaultValue:"0.5rem"},gridContainerRowSize:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXS:{type:"string",group:"Appearance",defaultValue:"4.375rem"},gridContainerRowSizeS:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeM:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},gridContainerRowSizeXL:{type:"string",group:"Appearance",defaultValue:"5.25rem"},noVisualizationsText:{type:"string",group:"Appearance",defaultValue:""},title:{type:"string",group:"Appearance",defaultValue:""},showNoVisualizationsText:{type:"boolean",group:"Behavior",defaultValue:false},showSection:{type:"boolean",group:"Misc",defaultValue:true},showLinks:{type:"boolean",group:"Behavior",defaultValue:true},sizeBehavior:{type:"sap.m.TileSizeBehavior",group:"Misc",defaultValue:x.Responsive}},defaultAggregation:"visualizations",aggregations:{visualizations:{type:"sap.ui.core.Control",bindable:"bindable",multiple:true},defaultItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-defaultArea",aggregation:"items",forwardBinding:false},dnd:true},flatItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-flatArea",aggregation:"items",forwardBinding:false},dnd:true},compactItems:{type:"sap.ui.core.Control",multiple:true,forwarding:{idSuffix:"-compactArea",aggregation:"items",forwardBinding:false},dnd:true},_title:{type:"sap.m.Title",multiple:false,hidden:true},_header:{type:"sap.m.OverflowToolbar",multiple:false,hidden:true},_noVisualizationsText:{type:"sap.m.Text",multiple:false,hidden:true},_defaultArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_flatArea:{type:"sap.f.GridContainer",multiple:false,hidden:true},_compactArea:{type:"sap.ushell.ui.launchpad.section.CompactArea",multiple:false,hidden:true}},events:{add:{},delete:{},reset:{},titleChange:{},visualizationDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}},areaDragEnter:{parameters:{originalEvent:{type:"sap.ui.base.Event"},dragControl:{type:"sap.ui.core.Control"},sourceArea:{type:"string"},targetArea:{type:"string"}}},sectionVisibilityChange:{parameters:{visible:{type:"boolean"}}},borderReached:{parameters:{event:{type:"jQuery.Event"}}}}},renderer:R,resourceModel:w.i18nModel});function k(e){for(const t in X){if(e.displayFormatHint===X[t]){return X[t]}}if(e.displayFormatHint&&e.displayFormatHint!=="tile"){t.error(`DisplayFormat '${e.displayFormatHint}' not valid - 'standard' is used`)}return X.Standard}function O(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Standard||e===X.StandardWide}})}function H(){return new _({path:"",caseSensitive:true,test:function(t){const e=k(t);return e===X.Flat||e===X.FlatWide}})}function W(){return new _({path:"",caseSensitive:true,test:function(t){return k(t)===X.Compact}})}N.prototype.bindAggregation=function(i,a){if(i==="visualizations"){if(a.filters){t.error("bind visualizations with pre-existing filters is not implemented.")}const i=e(a);i.filters=O();f.prototype.bindAggregation.call(this,"defaultItems",i);const o=e(a);o.filters=H();f.prototype.bindAggregation.call(this,"flatItems",o);const n=e(a);n.filters=W();f.prototype.bindAggregation.call(this,"compactItems",n)}else{f.prototype.bindAggregation.call(this,i,a)}return this};N.prototype.getAllItems=function(){return this.getDefaultItems().concat(this.getFlatItems(),this.getCompactItems())};N.prototype.getVisualizations=function(){const t=this.getAllItems();t.sort((e,i)=>{let a=e.getBindingContext().getPath();let o=parseInt(a.split("/").pop(),10);a=i.getBindingContext().getPath();let n=parseInt(a.split("/").pop(),10);if(o===n){o=t.indexOf(e);n=t.indexOf(i)}return o<n?-1:1});return t};N.prototype.filterVisualizations=function(t){const e=t?new _({filters:[O(),t],and:true}):O();const i=t?new _({filters:[H(),t],and:true}):H();const a=t?new _({filters:[W(),t],and:true}):W();this.getBinding("defaultItems").filter(e);this.getBinding("flatItems").filter(i);this.getBinding("compactItems").filter(a)};N.prototype.indexOfVisualization=function(t){return this.getVisualizations().indexOf(t)};N.prototype.addVisualization=function(e,i){t.error("Section.prototype.addVisualization should not be called");return this.addAggregation("visualizations",e,i)};N.prototype.insertVisualization=function(e,i,a){t.error("Section.prototype.insertVisualization should not be called");return this.insertAggregation("visualizations",e,i,a)};N.prototype.removeVisualization=function(e,i){t.error("Section.prototype.removeVisualization should not be called");return this.removeAggregation("visualizations",e,i)};N.prototype.onBorderReached=function(t){let e;const i=t.getParameter("event");const a=i.keyCode;const o=i.type;const n=G.closestTo(i.target.firstElementChild);switch(a){case z.ARROW_UP:e=this.getClosestVizualization(n,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(n,false);break;case z.ARROW_LEFT:e=this._getPreviousViz(n);break;case z.ARROW_RIGHT:e=this._getNextViz(n);break;default:return}if(e){this._focusItem(this.getItemPosition(e));i.preventDefault()}else{this.fireBorderReached({event:t,section:this,direction:o==="sapnext"?"down":"up"})}};N.prototype._getNextViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[0]:e[i+1]};N.prototype._getPreviousViz=function(t){const e=this.getAllItems();const i=e.indexOf(t);return i===-1?e[e.length-1]:e[i-1]};N.prototype.handleEmptyContentAreas=function(){const t=!!this.getDefaultItems().length;const e=!!this.getFlatItems().length;const i=!!this.getCompactItems().length;const a=!t&&!i&&!e;this.toggleStyleClass("sapUshellSectionNoVisualizations",a);this.getAggregation("_defaultArea").toggleStyleClass("sapUshellSectionDefaultArea",t);this.getAggregation("_flatArea").toggleStyleClass("sapUshellSectionFlatArea",e);if(!t){this._removeTabIndexFromGridContainer(this.getAggregation("_defaultArea"))}if(!e){this._removeTabIndexFromGridContainer(this.getAggregation("_flatArea"))}const o=this.getDomRef();if(o){if(this.getEditable()&&this.getShowNoVisualizationsText()&&a){o.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{o.removeAttribute("aria-describedBy")}}};N.prototype._removeTabIndexFromGridContainer=function(t){const e=t.getFocusDomRef();if(e){e.setAttribute("tabindex","-1");for(let t=0;t<e.children.length;++t){e.children[t].setAttribute("tabindex","-1")}}};N.prototype.init=function(){this.setProperty("noVisualizationsText",w.i18n.getText("Section.NoVisualizationsText"),true);this.setAggregation("_title",new p({text:this.getTitle(),level:F.H3,visible:!this.getEditable()&&this.getShowSection()}).addStyleClass("sapUshellSectionTitle sapContrastPlus"));this._initHeaderAggregation();this.setAggregation("_noVisualizationsText",new u({text:this.getNoVisualizationsText(),textAlign:P.Center,visible:this.getEditable()&&this.getShowNoVisualizationsText()}).addStyleClass("sapUshellSectionNoVisualizationsText"));this._initGridContainerAggregation();this._initGridContainerAggregation(true);this._initCompactAreaAggregation(true);this._oInvisibleMessageInstance=b.getInstance();this._oDefaultItemsChangeDetection=new L("defaultItems",this,["flatItems","compactItems"]);this._oFlatItemsChangeDetection=new L("flatItems",this,["defaultItems","compactItems"]);this._oCompactItemsChangeDetection=new L("compactItems",this,["defaultItems","flatItems"]);this._fnGlobalDragStart=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("Section");t[1].setGroupName("Section");e[0].setGroupName("Section");e[1].setGroupName("Section");e[2].setGroupName("Section")}.bind(this);this._fnGlobalDragEnd=function(){const t=this.getAggregation("_flatArea").getDragDropConfig();const e=this.getAggregation("_compactArea").getDragDropConfig();t[0].setGroupName("FlatArea");t[1].setGroupName("FlatArea");e[0].setGroupName("CompactArea");e[1].setGroupName("CompactArea");e[2].setGroupName("CompactArea")}.bind(this);document.addEventListener("dragstart",this._fnGlobalDragStart,false);document.addEventListener("dragend",this._fnGlobalDragEnd,false)};N.prototype._initHeaderAggregation=function(){const t=this.getTitle();const e=this.getDefault();const i=new s({maxLength:100,placeholder:w.i18n.getText("Section.TitlePlaceholder"),value:t,valueLiveUpdate:true,visible:!e,change:function(t){this.setTitle(t.getParameter("value"));this.fireTitleChange()}.bind(this),layoutData:new c({priority:v.NeverOverflow,shrinkable:true,minWidth:"9rem",maxWidth:"40rem"})});this.setAggregation("_header",new h({content:[new u({text:t,visible:e,layoutData:new c({priority:v.NeverOverflow})}),new g({text:w.i18n.getText("Section.Label.Title"),labelFor:i.getId(),showColon:true,visible:!e,layoutData:new c({priority:v.NeverOverflow})}),i,new d,new r({text:w.i18n.getText("Section.Button.AddVisualization"),type:I.Transparent,press:this.fireAdd.bind(this,{section:this}),visible:this.getEnableAddButton()&&!e}),new r({text:this.getShowSection()?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"),type:I.Transparent,press:function(){const t=!this.getShowSection();const e=m.getResourceBundleFor("sap.m");this._oInvisibleMessageInstance.announce([w.i18n.getText(t?"Section.nowBeingShown":"Section.nowBeingHidden"),w.i18n.getText("Section.ButtonLabelChanged"),w.i18n.getText(t?"Section.Button.Hide":"Section.Button.Show"),e.getText("ACC_CTR_TYPE_BUTTON")].join(" "),B.Polite);this.setShowSection(t);this.fireSectionVisibilityChange({visible:t})}.bind(this),visible:this.getEnableShowHideButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Reset"),type:I.Transparent,press:this.fireReset.bind(this),visible:this.getEnableResetButton()&&!e}),new r({text:w.i18n.getText("Section.Button.Delete"),type:I.Transparent,press:this.fireDelete.bind(this),visible:this.getEnableDeleteButton()&&!e})],visible:this.getEditable()}).addStyleClass("sapUshellSectionHeader"))};N.prototype._initGridContainerAggregation=function(t){const e=new a({id:this.getId()+(t?"-flatArea":"-defaultArea"),containerQuery:this.getEnableGridContainerQuery(),minHeight:"0",visible:this.getEditable()||this.getShowSection(),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:t?X.Flat:X.Standard})],layout:new n({rowSize:this.getGridContainerRowSize(),columnSize:this.getGridContainerRowSize(),gap:this.getGridContainerGap()}),layoutXS:new n({columns:0,rowSize:this.getGridContainerRowSizeXS(),columnSize:this.getGridContainerRowSizeXS(),gap:this.getGridContainerGapXS()}),layoutS:new n({columns:0,rowSize:this.getGridContainerRowSizeS(),columnSize:this.getGridContainerRowSizeS(),gap:this.getGridContainerGapS()}),layoutM:new n({columns:0,rowSize:this.getGridContainerRowSizeM(),columnSize:this.getGridContainerRowSizeM(),gap:this.getGridContainerGapM()}),layoutL:new n({columns:0,rowSize:this.getGridContainerRowSizeL(),columnSize:this.getGridContainerRowSizeL(),gap:this.getGridContainerGapL()}),layoutXL:new n({columns:0,rowSize:this.getGridContainerRowSizeXL(),columnSize:this.getGridContainerRowSizeXL(),gap:this.getGridContainerGapXL()}),dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",sourceAggregation:"items"}),new i({enabled:this.getEnableVisualizationReordering(),groupName:t?"flatArea":"Section",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dropIndicatorSize:t?this._getFlatDropIndicatorSize.bind(this):this._getDefaultDropIndicatorSize.bind(this),dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");if(this.getEnableGridBreakpoints()){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14)}e.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});e.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation(t?"_flatArea":"_defaultArea",e)};N.prototype._initCompactAreaAggregation=function(){const t=new D({id:`${this.getId()}-compactArea`,enableLinkReordering:this.getEnableVisualizationReordering(),itemDrop:this._reorderVisualizations.bind(this),customData:[new y({key:"default",value:this.getDefault()}),new y({key:"area",value:X.Compact})],dragDropConfig:[new A({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",sourceAggregation:"items"}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dropLayout:E.Horizontal,dropPosition:T.Between,targetAggregation:"items",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)}),new S({enabled:this.getEnableVisualizationReordering(),groupName:"CompactArea",dragEnter:this._onDragEnter.bind(this),drop:this._reorderVisualizations.bind(this)})]}).addStyleClass("sapUshellSectionGridContainer");t.addEventDelegate({onAfterRendering:this.handleEmptyContentAreas.bind(this)});t.attachBorderReached(this.onBorderReached.bind(this));this.setAggregation("_compactArea",t)};N.prototype.setDefault=function(t){this.setProperty("default",t,true);const e=this.getAggregation("_header").getContent();e[0].setVisible(t);e[1].setVisible(!t);e[2].setVisible(!t);e[4].setVisible(this.getEnableAddButton()&&!t);e[5].setVisible(this.getEnableShowHideButton()&&!t);e[6].setVisible(this.getEnableResetButton()&&!t);e[7].setVisible(this.getEnableDeleteButton()&&!t);this.getAggregation("_defaultArea").getCustomData()[0].setValue(t);this.getAggregation("_flatArea").getCustomData()[0].setValue(t);this.getAggregation("_compactArea").getCustomData()[0].setValue(t);return this};N.prototype.setEditable=function(t){if(t===undefined||this.getEditable()===t){return this}this.setProperty("editable",t,true);this.toggleStyleClass("sapUshellSectionEdit",t);this.getAggregation("_title").setVisible(!t&&this.getShowSection());this.getAggregation("_header").setVisible(t);this.getAggregation("_noVisualizationsText").setVisible(t&&this.getShowNoVisualizationsText());this.getAggregation("_defaultArea").setVisible(t||this.getShowSection());this.getAggregation("_flatArea").setVisible(t||this.getShowSection());this.getAggregation("_compactArea").setVisible(t||this.getShowSection());const e=this.getDomRef();if(e){if(t){e.setAttribute("tabindex","0");if(this.getShowNoVisualizationsText()){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}else{e.removeAttribute("tabindex")}}return this};N.prototype.setEnableAddButton=function(t){this.setProperty("enableAddButton",t,true);this.getAggregation("_header").getContent()[4].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableDeleteButton=function(t){this.setProperty("enableDeleteButton",t,true);this.getAggregation("_header").getContent()[7].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableGridBreakpoints=function(t){this.setProperty("enableGridBreakpoints",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");if(t){const t=this.getSizeBehavior()==="Small";e.getLayoutXS().setColumns(4);e.getLayoutS().setColumns(4);e.getLayoutM().setColumns(6);e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutXS().setColumns(4);i.getLayoutS().setColumns(4);i.getLayoutM().setColumns(6);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}else{e.getLayoutXS().setColumns(0);e.getLayoutS().setColumns(0);e.getLayoutM().setColumns(0);e.getLayoutL().setColumns(0);e.getLayoutXL().setColumns(0);i.getLayoutXS().setColumns(0);i.getLayoutS().setColumns(0);i.getLayoutM().setColumns(0);i.getLayoutL().setColumns(0);i.getLayoutXL().setColumns(0)}return this};N.prototype.setEnableGridContainerQuery=function(t){this.setProperty("enableGridContainerQuery",t,true);this.getAggregation("_defaultArea").setContainerQuery(t);this.getAggregation("_flatArea").setContainerQuery(t);return this};N.prototype.setEnableResetButton=function(t){this.setProperty("enableResetButton",t,true);this.getAggregation("_header").getContent()[6].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableShowHideButton=function(t){this.setProperty("enableShowHideButton",t,true);this.getAggregation("_header").getContent()[5].setVisible(t&&!this.getDefault());return this};N.prototype.setEnableVisualizationReordering=function(t){this.setProperty("enableVisualizationReordering",t,true);const e=this.getAggregation("_compactArea");const i=this.getAggregation("_defaultArea").getDragDropConfig();const a=this.getAggregation("_flatArea").getDragDropConfig();const o=e.getDragDropConfig();e.setEnableLinkReordering(t);i[0].setEnabled(t);i[1].setEnabled(t);a[0].setEnabled(t);a[1].setEnabled(t);o[0].setEnabled(t);o[1].setEnabled(t);o[2].setEnabled(t);return this};N.prototype.setGridContainerGap=function(t){this.setProperty("gridContainerGap",t,true);this.getAggregation("_defaultArea").getLayout().setGap(t);this.getAggregation("_flatArea").getLayout().setGap(t);return this};N.prototype.setGridContainerGapXS=function(t){this.setProperty("gridContainerGapXS",t,true);this.getAggregation("_defaultArea").getLayoutXS().setGap(t);this.getAggregation("_flatArea").getLayoutXS().setGap(t);return this};N.prototype.setGridContainerGapS=function(t){this.setProperty("gridContainerGapS",t,true);this.getAggregation("_defaultArea").getLayoutS().setGap(t);this.getAggregation("_flatArea").getLayoutS().setGap(t);return this};N.prototype.setGridContainerGapM=function(t){this.setProperty("gridContainerGapM",t,true);this.getAggregation("_defaultArea").getLayoutM().setGap(t);this.getAggregation("_flatArea").getLayoutM().setGap(t);return this};N.prototype.setGridContainerGapL=function(t){this.setProperty("gridContainerGapL",t,true);this.getAggregation("_defaultArea").getLayoutL().setGap(t);this.getAggregation("_flatArea").getLayoutL().setGap(t);return this};N.prototype.setGridContainerGapXL=function(t){this.setProperty("gridContainerGapXL",t,true);this.getAggregation("_defaultArea").getLayoutXL().setGap(t);this.getAggregation("_flatArea").getLayoutXL().setGap(t);return this};N.prototype.setGridContainerRowSize=function(t){this.setProperty("gridContainerRowSize",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayout().setRowSize(t);e.getLayout().setColumnSize(t);i.getLayout().setRowSize(t);i.getLayout().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXS=function(t){this.setProperty("gridContainerRowSizeXS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXS().setRowSize(t);e.getLayoutXS().setColumnSize(t);i.getLayoutXS().setRowSize(t);i.getLayoutXS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeS=function(t){this.setProperty("gridContainerRowSizeS",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutS().setRowSize(t);e.getLayoutS().setColumnSize(t);i.getLayoutS().setRowSize(t);i.getLayoutS().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeM=function(t){this.setProperty("gridContainerRowSizeM",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutM().setRowSize(t);e.getLayoutM().setColumnSize(t);i.getLayoutM().setRowSize(t);i.getLayoutM().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeL=function(t){this.setProperty("gridContainerRowSizeL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setRowSize(t);e.getLayoutL().setColumnSize(t);i.getLayoutL().setRowSize(t);i.getLayoutL().setColumnSize(t);return this};N.prototype.setGridContainerRowSizeXL=function(t){this.setProperty("gridContainerRowSizeXL",t,true);const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutXL().setRowSize(t);e.getLayoutXL().setColumnSize(t);i.getLayoutXL().setRowSize(t);i.getLayoutXL().setColumnSize(t);return this};N.prototype.setNoVisualizationsText=function(t){this.setProperty("noVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setText(t);return this};N.prototype.setTitle=function(t){this.setProperty("title",t,true);this.getAggregation("_title").setText(t);this.getAggregation("_header").getContent()[0].setText(t);this.getAggregation("_header").getContent()[2].setValue(t);const e=this.getDomRef();if(e){e.setAttribute("aria-label",this.getAriaLabel())}return this};N.prototype.setShowNoVisualizationsText=function(t){this.setProperty("showNoVisualizationsText",t,true);this.getAggregation("_noVisualizationsText").setVisible(this.getEditable()&&t);const e=this.getDomRef();if(e){if(this.getEditable()&&t){e.setAttribute("aria-describedBy",this.getAggregation("_noVisualizationsText").getId())}else{e.removeAttribute("aria-describedBy")}}return this};N.prototype.setShowSection=function(t){if(t===undefined||this.getShowSection()===t){return this}this.setProperty("showSection",t,true);this.toggleStyleClass("sapUshellSectionHidden",!t);this.getAggregation("_title").setVisible(!this.getEditable()&&t);this.getAggregation("_defaultArea").setVisible(this.getEditable()||t);this.getAggregation("_flatArea").setVisible(this.getEditable()||t);this.getAggregation("_compactArea").setVisible(this.getEditable()||t);this.getAggregation("_header").getContent()[5].setText(t?w.i18n.getText("Section.Button.Hide"):w.i18n.getText("Section.Button.Show"));return this};N.prototype.setSizeBehavior=function(t){this.setProperty("sizeBehavior",t,true);if(this.getEnableGridBreakpoints()){const e=this.getAggregation("_defaultArea");const i=this.getAggregation("_flatArea");e.getLayoutL().setColumns(t?12:10);e.getLayoutXL().setColumns(t?16:14);i.getLayoutL().setColumns(t?12:10);i.getLayoutXL().setColumns(t?16:14)}return this};N.prototype.destroy=function(){f.prototype.destroy.apply(this,arguments);this._oDefaultItemsChangeDetection.destroy();this._oFlatItemsChangeDetection.destroy();this._oCompactItemsChangeDetection.destroy();document.removeEventListener("dragstart",this._fnGlobalDragStart,false);document.removeEventListener("dragend",this._fnGlobalDragEnd,false);if(this._oInvisibleMessageInstance){this._oInvisibleMessageInstance.destroy()}};N.prototype.getTitleInput=function(){return this.getAggregation("_header").getContent()[2]};N.prototype._reorderVisualizations=function(t){this.fireVisualizationDrop(t.getParameters())};N.prototype.getClosestVizualization=function(t,e){const i=this.getAllItems();return M(t,i,e)};N.prototype.getClosestVizIndex=function(t,e){const i=this.getClosestVizualization(t,e);return i?this.indexOfVisualization(i):-1};N.prototype.getClosestCompactItemIndex=function(t,e){const i=M(t,this.getCompactItems(),e);if(i){return this.indexOfVisualization(i)}return e?this.getVisualizations().length:0};N.prototype._onDragEnter=function(t){const e=t.getParameter("dragSession");const i=e.getDragControl();const a=i.getParent();let o=e.getDropControl&&e.getDropControl();if(!o){return}if(!o.data("area")){o=o.getParent()}if(o.data("default")&&!a.data("default")){t.preventDefault()}this.fireAreaDragEnter({originalEvent:t,dragControl:i,sourceArea:a.data("area"),targetArea:o.data("area")})};N.prototype.addAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e)}f.prototype.addAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.insertAggregation=function(t,e){if(t==="defaultItems"||t==="flatItems"){this._addVisualizationLayoutData(e,t)}f.prototype.insertAggregation.apply(this,arguments);this.handleEmptyContentAreas();return this};N.prototype.getFocusDomRef=function(){if(this.getEditable()){return this.getDomRef()}if(this.getDefaultItems().length){return this.getAggregation("_defaultArea").getFocusDomRef()}if(this.getFlatItems().length){return this.getAggregation("_flatArea").getFocusDomRef()}return this.getAggregation("_compactArea").getFocusDomRef()};N.prototype._getVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:2,columns:2}};N.prototype._getFlatVisualizationLayoutData=function(t){if(t.getLayout){return t.getLayout()}return{rows:1,columns:2}};N.prototype._addVisualizationLayoutData=function(t,e){if(!t.getLayoutData()){const i=e==="defaultItems"?this._getVisualizationLayoutData(t):this._getFlatVisualizationLayoutData(t);t.setLayoutData(new o(i))}};N.prototype._getDefaultDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Standard)};N.prototype._getFlatDropIndicatorSize=function(t){return this._getDropIndicatorSize(t,X.Flat)};N.prototype._getDropIndicatorSize=function(t,e){const i=t.getParent();const a=i&&i.data("area");if(e===a&&t.getLayoutData){const e=t.getLayoutData();return{rows:e.getRows(),columns:e.getColumns()}}const o={};let n=[];if(t.getSupportedDisplayFormats){n=t.getSupportedDisplayFormats()}if(e===X.Flat){o.rows=1;o.columns=2;if(!n.includes(X.Flat)&&n.includes(X.FlatWide)){o.columns=4}}else{o.rows=2;o.columns=2;if(!n.includes(X.Standard)&&n.includes(X.StandardWide)){o.columns=4}}return o};N.prototype.getItemPosition=function(t){if(isFinite(t)){t=this.getVisualizations()[t]}let e=this.getAggregation("_defaultArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Standard}}e=this.getAggregation("_flatArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Flat}}e=this.getAggregation("_compactArea").getItems().indexOf(t);if(e>=0){return{index:e,area:X.Compact}}return{index:-1,area:X.Standard}};N.prototype._focusItem=function(t){window.setTimeout(()=>{let e=t&&t.area?t.area:X.Standard;let i=t&&t.index?t.index:t;const a=this.getAggregation("_defaultArea").getItems().length;const o=this.getAggregation("_flatArea").getItems().length;const n=this.getAggregation("_compactArea").getItems().length;if(isNaN(i)||i<0){i=0}if(e===X.Standard&&a===0){e=X.Flat}if(e===X.Flat&&o===0){e=X.Compact}if(e===X.Compact&&n===0){e=X.Standard}if(a+o+n===0){e="section"}switch(e){case"section":this.focus();break;case X.Flat:if(i>=o){i=o-1}this.getAggregation("_flatArea").focusItem(i);break;case X.Compact:this.getAggregation("_compactArea").focusItem(i);break;default:if(i>=a){i=a-1}this.getAggregation("_defaultArea").focusItem(i);break}},0)};N.prototype.focusVisualization=function(t){let e;if(!this.getShowSection()&&!this.getEditable()){return false}const i=this.getAllItems();if(!i.length){return false}if(t&&t.area){this._focusItem(t);return true}if(t&&t.getMetadata){e=t}if(!e&&t&&t.keycode){switch(t.keycode){case z.ARROW_UP:e=this.getClosestVizualization(t.ref,true);break;case z.ARROW_DOWN:e=this.getClosestVizualization(t.ref,false);break;case z.ARROW_LEFT:t=-1;break;default:break}}if(!e&&t===-1){e=i[i.length-1]}if(!e){e=i[0]}this._focusItem(this.getItemPosition(e));return true};return N});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/SectionRenderer", [],()=>{"use strict";const e={apiVersion:2};function t(e){const t=!!e.getDefaultItems().length;const a=!!e.getFlatItems().length;const n=!!e.getCompactItems().length;return!t&&!n&&!a}e.render=function(e,a){const n=a.getDefault()?"recently-added-apps":a.getDataHelpId();const r=a.getEditable();const o=a.getAggregation("_noVisualizationsText");e.openStart("div",a);e.class("sapUshellSection");if(r){e.class("sapUshellSectionEdit");e.attr("tabindex","0")}if(!a.getShowSection()){e.class("sapUshellSectionHidden")}if(t(a)){e.class("sapUshellSectionNoVisualizations");if(r&&a.getShowNoVisualizationsText()){e.attr("aria-describedBy",o.getId())}}if(n){e.attr("data-help-id",n)}e.attr("role","region");e.attr("aria-label",a.getAriaLabel());e.openEnd();e.renderControl(a.getAggregation("_title"));e.renderControl(a.getAggregation("_header"));e.renderControl(o);e.renderControl(a.getAggregation("_defaultArea"));e.renderControl(a.getAggregation("_flatArea"));e.renderControl(a.getAggregation("_compactArea"));e.close("div")};return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainer", ["sap/base/Log","sap/m/Input","sap/m/library","sap/m/Text","sap/ui/base/ManagedObject","sap/ui/core/Control","sap/ui/core/EventBus","sap/ui/core/Icon","sap/ushell/override","sap/ushell/library","sap/ushell/resources","sap/ushell/ui/launchpad/PlusTile","sap/ushell/utils","sap/ushell/ui/launchpad/TileContainerRenderer","sap/ushell/Container","sap/ui/dom/jquery/selectText"],(e,t,i,o,s,n,l,r,a,u,p,d,c,f,h)=>{"use strict";const g=i.HeaderLevel;const y=n.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{scrollType:{type:"string",group:"Misc",defaultValue:"item"},animationSpeed:{type:"int",group:"Misc",defaultValue:500},groupId:{type:"string",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:true},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:true},defaultGroup:{type:"boolean",group:"Misc",defaultValue:false},isLastGroup:{type:"boolean",group:"Misc",defaultValue:false},headerText:{type:"string",group:"Misc",defaultValue:null},headerLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H2},groupHeaderLevel:{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:g.H4},showGroupHeader:{type:"boolean",group:"Misc",defaultValue:true},homePageGroupDisplay:{type:"string",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},sortable:{type:"boolean",group:"Misc",defaultValue:true},showNoData:{type:"boolean",group:"Misc",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:""},isGroupLocked:{type:"boolean",group:"Misc",defaultValue:null},isGroupSelected:{type:"boolean",group:"Misc",defaultValue:false},editMode:{type:"boolean",group:"Misc",defaultValue:false},showBackground:{type:"boolean",group:"Misc",defaultValue:false},icon:{type:"string",group:"Misc",defaultValue:"sap-icon://locked"},showIcon:{type:"boolean",group:"Misc",defaultValue:false},deluminate:{type:"boolean",group:"Misc",defaultValue:false},showMobileActions:{type:"boolean",group:"Misc",defaultValue:false},enableHelp:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},hidden:{type:"boolean",group:"Misc",defaultValue:false},transformationError:{type:"boolean",group:"Misc",defaultValue:false},supportLinkPersonalization:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tiles:{type:"sap.ui.core.Control",multiple:true,singularName:"tile"},links:{type:"sap.ui.core.Control",multiple:true,singularName:"link"},beforeContent:{type:"sap.ui.core.Control",multiple:true,singularName:"beforeContent"},afterContent:{type:"sap.ui.core.Control",multiple:true,singularName:"afterContent"},headerActions:{type:"sap.ui.core.Control",multiple:true,singularName:"headerAction"}},events:{afterRendering:{},add:{},titleChange:{}}},renderer:f});y.prototype.init=function(){this.bIsFirstTitleChange=true;this.setProperty("noDataText",p.i18n.getText("noFilteredItems"),true);this._sDefaultValue=p.i18n.getText("new_group_name");this.oNoLinksText=new o({text:p.i18n.getText("emptyLinkContainerInEditMode")}).addStyleClass("sapUshellNoLinksAreaPresentTextInner");this.oTransformationErrorText=new o({text:p.i18n.getText("transformationErrorText")}).addStyleClass("sapUshellTransformationErrorText");this.oTransformationErrorIcon=new r({src:"sap-icon://message-error"}).addStyleClass("sapUshellTransformationErrorIcon");this.oIcon=new r({src:this.getIcon()}).addStyleClass("sapUshellContainerIcon");this.oPlusTile=new d({groupId:this.getGroupId(),enableHelp:this.getEnableHelp(),press:[this.fireAdd,this]}).setParent(this);const e=function(){this.getDomRef("groupheader").focus();this._stopEdit();const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this);this.oEditInputField=new t({placeholder:this._sDefaultValue,value:this.getHeaderText()}).addEventDelegate({onBeforeRendering:function(){const t=this.oEditInputField.getDomRef();if(t){t.removeEventListener("focusout",e)}}.bind(this),onAfterRendering:function(){setTimeout(()=>{const t=this.oEditInputField.$("inner");t.focus();t.selectText(0,t.val().length);const i=this.oEditInputField.getDomRef();if(i){i.addEventListener("focusout",e)}},0)}.bind(this)}).addStyleClass("sapUshellTileContainerTitleInput");h.getServiceAsync("FlpLaunchPage").then(e=>{if(e.isLinkPersonalizationSupported()){y.prototype.isLinkPersonalizationOveride()}});this.fnTitleTextClickHandler=this._titleTextClickHandler.bind(this)};y.prototype.onBeforeRendering=function(){const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("data-oldTabindex");if(e){t.setAttribute("tabindex",e);t.removeAttribute("data-oldTabindex")}else{t.removeAttribute("tabindex")}}})};y.prototype.onAfterRendering=function(){const e=this.getDomRef("titleText");if(e){e.addEventListener("click",this.fnTitleTextClickHandler)}const t=this.getTiles();const i=this.getLinks();const o=t.concat(i);o.forEach(e=>{const t=e.getDomRef();if(t){const e=t.getAttribute("tabindex");if(e){t.setAttribute("data-oldTabindex",e)}t.setAttribute("tabindex","-1")}});const s=t.filter(e=>e.isA("sap.ui.integration.widgets.Card"));this._resizeCards(s);l.getInstance().publish("launchpad","GroupHeaderVisibility");this.fireAfterRendering()};y.prototype._titleTextClickHandler=function(){const e=this.getModel()&&this.getModel().getProperty("/enableRenameLockedGroup");const t=(e||!this.getIsGroupLocked())&&!this.getDefaultGroup()&&this.getTileActionModeActive();this.setEditMode(t)};y.prototype.updateAggregation=a.updateAggregation;y.prototype.setGroupId=function(e,t){this.setProperty("groupId",e,t);this.oPlusTile.setGroupId(e,t);return this};y.prototype.setShowIcon=function(e,t){this.setProperty("showIcon",e,t);this.oIcon.toggleStyleClass("sapUshellContainerIconHidden",!e);return this};y.prototype.groupHasTiles=function(){let e="";let t=this.getTiles();const i=[];if(this.getBindingContext()){e=this.getBindingContext().sPath;t=this.getModel().getProperty(e).tiles}return c.groupHasVisibleTiles(t,i)};y.prototype.getInnerContainersDomRefs=function(){const e=this.getDomRef();if(!e){return null}return[e.querySelector(".sapUshellTilesContainer-sortable"),e.querySelector(".sapUshellLineModeContainer")]};y.prototype.isLinkPersonalizationOveride=function(){y.prototype.updateLinks=function(e){const t=this.getParent();const i=t&&t.getDisplayMode&&t.getDisplayMode()==="tabs";if(i&&!this.getTileActionModeActive()){t.removeLinksFromUnselectedGroups()}if(this.getLinks().length>0){this.removeAllLinks()}s.prototype.updateAggregation.call(this,"links")};y.prototype.destroyLinks=function(t){e.debug(`link is destroyed because: ${t}`,null,"sap.ushell.ui.launchpad.TileContainer")}};y.prototype._resizeCards=function(e){let t;let i;const o=5.5;const s=.4375;let n;let l;let r;let a;for(let u=0;u<e.length;u++){t=e[u];i=t.getManifest();n=i["sap.flp"].rows;l=i["sap.flp"].columns;r=`${l*o+(l-3)*s}rem`;a=`${n*o+(n-1)*s}rem`;t.setHeight(a);t.setWidth(r)}};y.prototype.setEditMode=function(e,t){this.setProperty("editMode",e,t);if(e){this.oEditInputField.setValue(this.getHeaderText())}const i=this.getModel();if(i){i.setProperty("/editTitle",e)}};y.prototype._stopEdit=function(){const e=this.getHeaderText();let t=this.oEditInputField.getValue();let i;t=t.substring(0,256).trim()||this._sDefaultValue;i=t!==e;if(this.bIsFirstTitleChange&&t===this.oEditInputField.getPlaceholder()){i=true}this.bIsFirstTitleChange=false;if(this.getModel()&&this.getModel().getProperty("/editTitle")){this.getModel().setProperty("/editTitle",false,false)}if(i){this.fireTitleChange({newTitle:t});this.setHeaderText(t)}this.setEditMode(false)};y.prototype.exit=function(){if(this.oNoLinksText){this.oNoLinksText.destroy()}if(this.oTransformationErrorText){this.oTransformationErrorText.destroy()}if(this.oTransformationErrorIcon){this.oTransformationErrorIcon.destroy()}if(this.oIcon){this.oIcon.destroy()}if(this.oPlusTile){this.oPlusTile.destroy()}if(this.oEditInputField){this.oEditInputField.destroy()}const e=this.getDomRef("titleText");if(e){e.removeEventListener("click",this.fnTitleTextClickHandler)}if(n.prototype.exit){n.prototype.exit.apply(this,arguments)}};return y});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerRenderer", ["sap/ushell/resources","sap/ushell/utils","sap/ushell/bootstrap/common/common.load.model","sap/ushell/Config","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/ui/core/CustomData"],(e,t,s,o,a,i)=>{"use strict";const l={apiVersion:2};l.oModel=s.getModel();l.render=function(s,o){const l=o.getHeaderActions();const n=o.getBeforeContent();const r=o.getAfterContent();const d=o.getLinks();const c=d.length;const p=this;s.openStart("div",o);s.class("sapUshellTileContainer");if(!o.getVisible()){s.class("sapUshellHidden")}if(o.getDeluminate()){s.class("sapUshellDisableLockedGroupDuringDrag")}if(o.getEditMode()){s.class("sapUshellEditing")}if(o.getHidden()){s.class("sapUshellTileContainerEditModeHidden")}if(!o.getShowEmptyLinksArea()){s.class("sapUshellLinksAreaHidden")}if(o.getShowEmptyLinksAreaPlaceHolder()){s.class("sapUshellTileContainerEditMode");s.class("sapUshellTileContainerTabsModeEmptyLinksArea")}else{s.class("sapUshellEmptyLinksAreaPlaceHolder")}s.openEnd();if(n.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerBeforeContent");s.class("sapContrastPlus");s.openEnd();n.forEach(e=>{s.renderControl(e)});s.close("div")}s.openStart("div");s.class("sapUshellTileContainerContent");if(o.getIsGroupLocked()){s.class("sapUshellTileContainerLocked")}if(o.getDefaultGroup()){s.class("sapUshellTileContainerDefault")}if(o.getShowBackground()){s.class("sapUshellTileContainerEditMode")}s.openEnd();if(o.getShowBackground()){s.openStart("div");s.class("sapUshellGroupBackgroundContainer");s.class("sapContrastPlus");s.openEnd();s.close("div")}if(o.getShowHeader()){s.openStart("div",`${o.getId()}-groupheader`);s.class("sapUshellTileContainerHeader");s.class("sapContrastPlus");if(!o.getShowGroupHeader()){s.class("sapUshellFirstGroupHeaderHidden");s.class("sapUiPseudoInvisibleText")}if(o.getTileActionModeActive()){s.attr("tabindex","0")}let t;if(o.getDefaultGroup()){t=e.i18n.getText("ariaLabelEditModeGroupDefault",[o.getHeaderText()])}else if(o.getIsGroupLocked()){t=e.i18n.getText("ariaLabelEditModeGroupLocked",[o.getHeaderText()])}else{t=e.i18n.getText("ariaLabelEditModeGroup",[o.getHeaderText()])}s.attr("aria-label",t);s.openEnd();s.openStart("div",`${o.getId()}-title`);s.class("sapUshellContainerTitleFlex");s.openEnd();if(o.getEditMode()){s.renderControl(o.oEditInputField)}else{const e=o.getHeaderLevel().toLowerCase();s.openStart(e,`${o.getId()}-titleText`);s.class("sapUshellContainerTitle");s.attr("title",o.getHeaderText());s.attr("role","region");if(o.getTileActionModeActive()&&!o.getIsGroupLocked()&&!o.getDefaultGroup()){s.attr("tabindex","0")}s.openEnd();s.text(o.getHeaderText());s.close(e)}if(o.getIsGroupLocked()){s.renderControl(o.oIcon)}else if(o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellContainerHeaderActions");s.openEnd();l.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");s.close("div")}s.openStart("ul");s.class("sapUshellTilesContainer-sortable");s.class("sapUshellInner");s.openEnd();let g=false;o.getTiles().forEach(e=>{if(e.getVisible()){g=true}if(p._isUserActivityCard(e)){p._updateUserActivityCardVisibility(e)}s.renderControl(e)});if(o.getShowPlaceholder()){s.renderControl(o.oPlusTile)}if(o.getShowNoData()){this.renderNoData(s,o,!g)}s.close("ul");const u=o.getSupportLinkPersonalization();if(c>0||u){s.openStart("div");s.class("sapUshellLineModeContainer");if(!c&&u){s.class("sapUshellNoLinksAreaPresent");if(o.getTransformationError()){s.class("sapUshellNoLinksAreaPresentError")}s.openEnd();s.openStart("div");s.class("sapUshellNoLinksAreaPresentText");s.openEnd();s.renderControl(o.oNoLinksText);s.close("div")}else{s.openEnd()}if(u){if(o.getTransformationError()){s.openStart("div");s.class("sapUshellTransformationError");if(!o.transformationError){s.style("display","none")}s.openEnd();s.openStart("div");s.class("sapUshellTransformationErrorInnerWrapper");s.openEnd();s.renderControl(o.oTransformationErrorIcon);s.renderControl(o.oTransformationErrorText);s.close("div");s.close("div")}s.openStart("div");s.class("sapUshellLinksInnerContainer");s.openEnd();let e;let t;let l;let n;d.forEach((r,d)=>{e=r.getCustomData();t=false;l=false;n=false;e.forEach(e=>{if(e.getKey()==="aria-posinset"){e.setValue((d+1).toString());e.setWriteToDom(true);t=true}else if(e.getKey()==="aria-setsize"){e.setValue(c.toString());e.setWriteToDom(true);l=true}else if(e.getKey()==="help-id"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"));e.setWriteToDom(true);n=true}else if(e.getKey()==="help-id2"){e.setValue(r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"));e.setWriteToDom(true);n=true}});if(!t){r.addCustomData(new a({key:"aria-posinset",value:(d+1).toString(),writeToDom:true}))}if(!l){r.addCustomData(new a({key:"aria-setsize",value:c.toString(),writeToDom:true}))}if(r.getModel()&&r.getModel().getProperty("/enableHelp")&&!n){r.addCustomData(new i({key:"help-id",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogId"),writeToDom:true}));r.addCustomData(new i({key:"help-id2",value:r.getBindingContext()&&r.getBindingContext().getProperty("tileCatalogIdStable"),writeToDom:true}))}r.addStyleClass("sapUshellLinkTile");if(o.getIsGroupLocked()){r.addStyleClass("sapUshellLockedTile")}s.renderControl(r)});s.close("div")}else{d.forEach(e=>{s.renderControl(e)})}s.close("div")}s.close("div");if(r.length&&o.getTileActionModeActive()){s.openStart("div");s.class("sapUshellTileContainerAfterContent");s.class("sapContrastPlus");s.openEnd();r.forEach(e=>{s.renderControl(e)});s.close("div")}s.close("div");t.setPerformanceMark("FLP -- tile container renderer")};l.renderNoData=function(e,t,s){e.openStart("div",`${t.getId()}-listNoData`);e.class("sapUshellNoFilteredItems");e.class("sapUiStrongBackgroundTextColor");e.openEnd();e.text(s?t.getNoDataText():"");e.close("div")};l._isUserActivityCard=function(t){if(typeof t.getManifest!=="function"){return false}const s=t.getManifest();const o=s&&s["sap.card"]&&s["sap.card"].header&&s["sap.card"].header.title;return o===e.i18n.getText("recentActivities")||o===e.i18n.getText("frequentActivities")};l._updateUserActivityCardVisibility=function(e){e.setVisible(o.last("/core/shell/model/enableTrackingActivity"));o.on("/core/shell/model/enableTrackingActivity").do(t=>{e.setVisible(t)})};return l},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileContainerUtils", ["sap/base/util/uid"],e=>{"use strict";const t={};t.showHideTilesAndHeaders=function(e,t){let n;let r;let i;let l=0;let s=0;for(n in e.onScreenPathIndexMap){if(e.onScreenPathIndexMap.hasOwnProperty(n)){i=e.onScreenPathIndexMap[n];r=t[i.aItemsRefrenceIndex];if(r.getVisible()&&!i.isVisible){s++}r.setVisible(i.isVisible);if(i.isVisible){l++}}}return{nCountVisibleElements:l,nCountFilteredElement:s}};t.applyFilterOnItem=function(e,t,n,r){let i;for(i in t){if(t.hasOwnProperty(i)){t[i](e)}}if(n){n(e,r)}};t.createNewItem=function(t,n){const r=this.mBindingInfos[n];const i=r.factory;const l=function(t){const n=`${this.getId()}-${e()}`;const l=i(n,t);l.setBindingContext(t,r.model);return l}.bind(this);return l(t)};t.addNewItem=function(e,t){const n=this.getMetadata().getJSONKeys()[t];this[n._sMutator](e);return true};t.createMissingElementsInOnScreenElements=function(e,n,r,i,l,s,a){let o;let f;const c=n.length;for(f=r;f<c;f++){o=n[f].getPath();if(!e.onScreenPathIndexMap[o]){if(i(n[f],a)===false){return false}t.applyFilterOnItem(n[f],s)}else{throw new Error("Order problem needs to refresh")}}return true};t.createMissingElementsInOnScreenElementsSearchCatalog=function(e,n,r,i,l,s,a,o){let f;let c;const u=n.length;for(c=0;c<u;c++){f=n[c].getPath();if(!e.onScreenPathIndexMap[f]){if(i(n[c],a)===false){return false}}t.applyFilterOnItem(n[c],s,o,a)}return true};t.applyFilterOnAllItems=function(e,n,r){let i;const l=e.binding;if(!l){return}const s=l.getContexts();for(i=0;i<s.length;i++){t.applyFilterOnItem(s[i],n,r)}};t.validateOrder=function(e,t,n){let r;let i;let l;let s;let a;let o;let f;let c;if(e[n]&&t.length>0){r=t[t.length-1].getBindingContext().getPath();i=e[n].getPath();s=r.split("/");a=i.split("/");for(o=0;o<s.length&&o<a.length;o++){f=s[o];c=a[o];if(parseInt(f,10)&&parseInt(c,10)){if(parseInt(f,10)>parseInt(c,10)){return false}else if(parseInt(f,10)<parseInt(c,10)){return true}}else{for(l=0;l<c.length&&l<f.length;l++){if(f[l].charCodeAt()>c[l].charCodeAt()){return false}else if(f[l].charCodeAt()<c[l].charCodeAt()){return true}}}}}return true};t.markVisibleOnScreenElements=function(e,t,n){let r=0;let i;const l=e.length;for(r=0;r<l;r++){i=e[r].getPath();if(t.onScreenPathIndexMap[i]){if(n){t.onScreenPathIndexMap[i].isVisible=true}}else{return r}}return r};t.markVisibleOnScreenElementsSearchCatalog=function(e,t,n){let r=0;let i;const l=e.length;for(r=0;r<l;r++){i=e[r].getPath();if(t.onScreenPathIndexMap[i]){if(n){t.onScreenPathIndexMap[i].isVisible=true}}}return r};t.indexOnScreenElements=function(e,t){let n;let r;const i={onScreenPathIndexMap:{}};const l=e.length;let s;let a=true;if(t===false){a=false}for(r=0;r<l;r++){s=e[r];if(s.getBindingContext()){n=s.getBindingContext().getPath();if(!i.onScreenPathIndexMap[n]){i.onScreenPathIndexMap[n]={aItemsRefrenceIndex:r,isVisible:a}}}}return i};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileState", ["sap/ushell/ui/launchpad/TileStateInternal","./TileStateRenderer"],(e,t)=>{"use strict";const a=e.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:t});return a});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternal", ["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","./TileStateInternalRenderer","sap/ushell/library"],(e,t,i,s,n)=>{"use strict";const o=e.extend("sap.ushell.ui.launchpad.TileStateInternal",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}},renderer:n});o.prototype.init=function(){this._rb=i.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new t(`${this.getId()}-warn-icon`,{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress)};o.prototype.onclick=function(){this.firePress()};o.prototype._onPress=function(e){if(this.getState()!=="Failed"){return}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],t=>{this.FailedTileDialog=new t;this._onPress(e)})}else{this.FailedTileDialog.openFor(this)}};o.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new s({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusy(true)}return this._oBusyContainer};o.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy()}};o.prototype.setState=function(e,t){this.setProperty("state",e,t);return this};return o});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateInternalRenderer", [],()=>{"use strict";const e={apiVersion:2};e.render=function(e,t){e.openStart("div",t);e.class("sapUshellGT");e.openEnd();const a=t.getState();e.openStart("div",`${t.getId()}-overlay`);e.class("sapUshellOverlay");if(a==="Failed"){e.attr("title",t._sFailedToLoad)}e.openEnd();switch(a){case"Loading":const a=t._getBusyContainer();e.renderControl(a);break;case"Failed":e.openStart("div",`${t.getId()}-failed-ftr`);e.class("sapUshellTileStateFtrFld");e.openEnd();e.openStart("div",`${t.getId()}-failed-icon`);e.class("sapUshellTileStateFtrFldIcn");e.openEnd();e.renderControl(t._oWarningIcon);e.close("div");e.openStart("div",`${t.getId()}-failed-text`);e.class("sapUshellTileStateFtrFldTxt");e.openEnd();e.text(t._sFailedToLoad);e.close("div");e.close("div");break;default:}e.close("div");e.close("div")};return e},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/TileStateRenderer", ["sap/ushell/ui/launchpad/TileStateInternalRenderer"],e=>{"use strict";return e},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/ViewPortState", ()=>{"use strict"},false);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactArea", ["sap/ui/core/Control","sap/ui/events/KeyCodes","sap/ushell/library","./CompactAreaRenderer"],function(e,t,o,r){"use strict";const n=e.extend("sap.ushell.ui.launchpad.section.CompactArea",{metadata:{library:"sap.ushell",properties:{showEmptyLinksArea:{type:"boolean",group:"Misc",defaultValue:false},showEmptyLinksAreaPlaceHolder:{type:"boolean",group:"Misc",defaultValue:false},enableLinkReordering:{type:"boolean",group:"Behavior",defaultValue:false}},dnd:{draggable:false,droppable:true},aggregations:{items:{type:"sap.ui.core.Control",singularName:"item",multiple:true,dnd:true}},events:{borderReached:{parameters:{event:{type:"jQuery.Event"}}},itemDrop:{parameters:{draggedControl:{type:"sap.ui.core.Control"},droppedControl:{type:"sap.ui.core.Control"},dropPosition:{type:"string"}}}}},renderer:r});n.prototype.onBorderReached=this.fireBorderReached;n.prototype.onsapnext=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT){const e=this.getFocusedItemIndex();if(e>=0&&e<this.getItems().length-1){this.focusItem(e+1);return}}this.fireBorderReached({event:e})};n.prototype.onsapprevious=function(e){e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT){const e=this.getFocusedItemIndex();if(e>0){this.focusItem(e-1);return}}this.fireBorderReached({event:e})};n.prototype.onsapnextmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_RIGHT&&o>-1&&o<r.length-1){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o+1],dropPosition:"After",browserEvent:e})}if(e.keyCode===t.ARROW_DOWN&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"After",browserEvent:e})}};n.prototype.onsappreviousmodifiers=function(e){if(!this.getEnableLinkReordering()){return}const o=this.getFocusedItemIndex();const r=this.getItems();e.stopImmediatePropagation(true);e.preventDefault();if(e.keyCode===t.ARROW_LEFT&&o>0){this.fireItemDrop({draggedControl:r[o],droppedControl:r[o-1],dropPosition:"Before",browserEvent:e})}if(e.keyCode===t.ARROW_UP&&o>-1){this.fireItemDrop({draggedControl:r[o],droppedControl:null,dropPosition:"Before",browserEvent:e})}};n.prototype.focusItem=function(e){e=e||0;const t=this.getItems();if(e===-1||e>=t.length){e=t.length-1}if(e>=0){const o=t[e].getFocusDomRef()||t[e].getDomRef();(o.querySelector("a")||o).focus()}else{this.focus()}};n.prototype.onmousedown=function(e){const t=this.getDOMItemIndex(e.srcControl.getDomRef());let o=this.getFocusedItemIndex();if(o<0){o=0}if(t<0){window.setTimeout(()=>{this.focusItem(o)},0)}};n.prototype.getDOMItemIndex=function(e){let t=-1;this.getItems().forEach((o,r)=>{const n=o.getDomRef();if(n&&n.contains(e)){t=r}});return t};n.prototype.getFocusDomRef=function(){if(this.getItems().length){return this.getItems()[0].getFocusDomRef()}return this.getDomRef()};n.prototype.onfocusin=function(e){if(document.activeElement===this.getDomRef()){this.focusItem(0)}};n.prototype.getFocusedItemIndex=function(){return this.getDOMItemIndex(document.activeElement)};return n});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/launchpad/section/CompactAreaRenderer", ["sap/ushell/resources"],e=>{"use strict";const t={apiVersion:2};t.render=function(t,r){t.openStart("div",r);if(!r.getVisible()){t.style("display","none")}t.attr("role","group");t.attr("aria-label",e.i18n.getText("Section.CompactArea.Description"));t.style("width","100%");t.class("sapUshellSectionCompactArea");t.openEnd();r.getItems().forEach(t.renderControl);t.close("div")};return t},true);
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTile", ["sap/ushell/library","./TileBase","./DynamicTileRenderer"],(e,t,a)=>{"use strict";const u=e.ui.tile.State;const r=e.ui.tile.StateArrow;const l=t.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{numberValue:{type:"string",group:"Data",defaultValue:"0.0"},numberState:{type:"sap.ushell.ui.tile.State",group:"Appearance",defaultValue:u.Neutral},numberUnit:{type:"string",group:"Data",defaultValue:null},numberDigits:{type:"int",group:"Appearance",defaultValue:0},stateArrow:{type:"sap.ushell.ui.tile.StateArrow",group:"Appearance",defaultValue:r.None},numberFactor:{type:"string",group:"Data",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/DynamicTileRenderer", ["sap/ui/core/Renderer","sap/ui/core/format/NumberFormat","sap/ushell/library","sap/ushell/ui/tile/TileBaseRenderer","sap/ushell/resources"],(e,t,i,s,a)=>{"use strict";const l=i.ui.tile.State;const n=i.ui.tile.StateArrow;const r=e.extend(s);r.apiVersion=2;r.renderPart=function(e,i){const s=i.getNumberValue();let r=i.getNumberFactor();let o=s.toString();const c=i.getIcon()?4:5;const u=this._shouldProcessDigits(o,i);if(o.length>c||u){const e=this._normalizeNumber(s,c,r,i);r=e.numberFactor;o=e.displayNumber}else if(o!==""){const e=t.getFloatInstance({maxFractionDigits:c});o=e.format(s)}e.openStart("div");e.class("sapUshellDynamicTile");e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileData");e.class(l[i.getNumberState()]?`sapUshellDynamicTileData${i.getNumberState()}`:`sapUshellDynamicTileData${l.Neutral}`);e.openEnd();e.openStart("div");e.class("sapUshellDynamicTileIndication");e.openEnd();if(n[i.getStateArrow()]){e.openStart("div");e.class("sapUshellDynamicTileStateArrow");e.class(`sapUshellDynamicTileData${n[i.getStateArrow()]}`);e.openEnd();e.close("div")}e.voidStart("br");e.voidEnd();e.openStart("div");e.class("sapUshellDynamicTileNumberFactor");e.accessibilityState(i,{label:a.i18n.getText("TileUnits_lable")+r});e.openEnd();e.text(r);e.close("div");e.close("div");e.openStart("div");e.class("sapUshellDynamicTileNumber");if(o&&o!==""){e.accessibilityState(i,{label:a.i18n.getText("TileValue_lable")+o});e.openEnd();e.text(o)}else{e.openEnd();e.text(i.getNumberValue())}e.close("div");e.close("div");e.close("div")};r._normalizeNumber=function(e,i,s,a){let l;if(isNaN(e)){l=e}else{const i=t.getFloatInstance({maxFractionDigits:a.getNumberDigits()});if(!s){const t=Math.abs(e);if(t>=1e9){s="B";e/=1e9}else if(t>=1e6){s="M";e/=1e6}else if(t>=1e3){s="K";e/=1e3}}l=i.format(e)}let n=l;const r=n[i-1];i-=r==="."||r===","?1:0;n=n.substring(0,i);return{displayNumber:n,numberFactor:s}};r._shouldProcessDigits=function(e,t){const i=t.getNumberDigits();let s;if(e.indexOf(".")!==-1){s=e.split(".")[1].length;if(s>i){return true}}return false};r.getInfoPrefix=function(e){return e.getNumberUnit()};return r});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTile", ["sap/ushell/library","./TileBase","./ImageTileRenderer"],(e,r,a)=>{"use strict";const l=r.extend("sap.ushell.ui.tile.ImageTile",{metadata:{library:"sap.ushell",properties:{imageSource:{type:"string",group:"Appearance",defaultValue:null}}},renderer:a});return l});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/ImageTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],(e,r)=>{"use strict";const t=e.extend(r);t.apiVersion=2;t.renderPart=function(e,r){e.voidStart("img");e.class("sapUshellImageTile");e.attr("src",r.getImageSource());e.attr("alt"," ");e.voidEnd()};return t});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTile", ["sap/ushell/library","sap/ushell/ui/tile/TileBase","sap/ushell/ui/tile/StaticTileRenderer"],(e,l,i)=>{"use strict";const s=l.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"},renderer:i});return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/StaticTileRenderer", ["sap/ui/core/Renderer","./TileBaseRenderer"],(e,n)=>{"use strict";const s=e.extend(n);s.apiVersion=2;s.renderPart=function(e,n){e.openStart("span");e.class("sapUshellStaticTile");e.openEnd();e.close("span")};return s});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBase", ["sap/ushell/library","sap/ui/core/Control","sap/ushell/library","./TileBaseRenderer"],(e,t,a,l)=>{"use strict";const r=e.ui.tile.State;const u=t.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{title:{type:"string",group:"Data",defaultValue:null},subtitle:{type:"string",group:"Data",defaultValue:null},icon:{type:"string",group:"Data",defaultValue:null},info:{type:"string",group:"Data",defaultValue:null},infoState:{type:"sap.ushell.ui.tile.State",defaultValue:r.Neutral},targetURL:{type:"string",group:"Behavior",defaultValue:null},highlightTerms:{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{press:{}}},renderer:l});u.prototype.ontap=function(e){this.firePress({})};u.prototype.onsapenter=function(e){this.firePress({})};u.prototype.onsapspace=function(e){this.firePress({})};return u});
// Copyright (c) 2009-2025 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui/tile/TileBaseRenderer", ["sap/ushell/library","sap/ushell/resources","sap/base/security/encodeXML","sap/ui/core/Icon"],(e,t,l,i)=>{"use strict";const s=e.ui.tile.State;const a={apiVersion:2};a.highlight=function(e,t){let i;let s;let a=l(t).replace(/&#xa;/g,"<br>");if(e&&e.length&&e.length>0){for(i=0;i<e.length;i=i+1){s=new RegExp(`(${l(e[i]).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")})`,"gi");a=a.replace(s,"<b>$1</b>")}}return a};a.render=function(e,l){let a;let n;e.openStart("div",l);if(l.getTargetURL()){e.attr("data-targeturl",l.getTargetURL())}e.class("sapUshellTileBase");e.openEnd();e.openStart("div");e.class("sapUshellTileBaseHeader");e.openEnd();e.openStart("h3");e.class("sapUshellTileBaseTitle");e.accessibilityState(l,{label:t.i18n.getText("tileTypeListItem")+t.i18n.getText("TileDetails_lable")+t.i18n.getText("TileTitle_lable")+l.getTitle(),level:"3"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getTitle()||""));e.close("h3");if(l.getSubtitle()){e.openStart("h4");e.class("sapUshellTileBaseSubtitle");e.accessibilityState(l,{label:t.i18n.getText("TileSubTitle_lable")+l.getSubtitle(),level:"4"});e.openEnd();e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getSubtitle()));e.close("h4")}e.close("div");if(typeof this.renderPart==="function"){this.renderPart(e,l)}if(l.getIcon()){n=new i({src:l.getIcon()});n.addStyleClass("sapUshellTileBaseIcon");e.renderControl(n)}if(l.getInfo()||typeof this.getInfoPrefix==="function"&&this.getInfoPrefix(l)){e.openStart("div");e.class("sapUshellTileBaseInfo");e.class(l.getInfoState()?`sapUshellTileBase${l.getInfoState()}`:`sapUshellTileBase${s.Neutral}`);e.accessibilityState(l,{label:t.i18n.getText("TileInfo_lable")+l.getInfo()});e.openEnd();if(typeof this.getInfoPrefix==="function"){a=this.getInfoPrefix(l);e.text(a)}if(l.getInfo()){if(a){e.text(", ")}e.unsafeHtml(this.highlight(l.getHighlightTerms(),l.getInfo()))}e.close("div")}e.close("div")};return a});
sap.ui.require.preload({
	"sap/ushell/ui/launchpad/FailedTileDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:formLayout="sap.ui.layout.form"><Dialog\n        id="failedTileDialog"\n        title="{i18n>cannotLoadTile}"\n        type="Message"\n        state="Error"\n        contentWidth="480px"\n        class="sapUiNoContentPadding"><content><VBox id="vBox" class="sapUiSmallMargin"><Text id="failedMessageText" text="{i18n>FailedTileDialog.Message.Text}" /><Link id="showDetailsLink" text="{i18n>FailedTileDialog.ShowDetails.Text}" visible="{= !${showDetails}}" press=".onShowDetails" class="sapUiSmallMarginTop" /></VBox><formLayout:SimpleForm id="simpleForm" visible="{showDetails}" layout="ResponsiveGridLayout" editable="false"><formLayout:content><Label id="groupIdLabel" visible="{= !!${groupId}}" text="{i18n>FailedTileDialog.groupId.Label}" /><Text id="groupId" visible="{= !!${groupId}}" text="{groupId}" /><Label id="chipTitleLabel" visible="{= !!${chipTitle}}" text="{i18n>FailedTileDialog.chipTitle.Label}" /><Text id="chipTitle" visible="{= !!${chipTitle}}" text="{chipTitle}" /><Label id="chipDescriptionLabel" visible="{= !!${chipDescription}}" text="{i18n>FailedTileDialog.chipDescription.Label}" /><Text id="chipDescription" visible="{= !!${chipDescription}}" text="{chipDescription}" /><Label id="chipInstanceIdLabel" visible="{= !!${chipInstanceId}}" text="{i18n>FailedTileDialog.chipInstanceId.Label}" /><Text id="chipInstanceId" visible="{= !!${chipInstanceId}}" text="{chipInstanceId}" /><Label id="chipIdLabel" visible="{= !!${chipId}}" text="{i18n>FailedTileDialog.chipId.Label}" /><Text id="chipId" visible="{= !!${chipId}}" text="{chipId}" /><Label id="catalogIdLabel" visible="{= !!${catalogId}}" text="{i18n>FailedTileDialog.catalogId.Label}" /><Text id="catalogId" visible="{= !!${catalogId}}" text="{catalogId}" /><Label id="completelyLoadedLabel" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{i18n>FailedTileDialog.completelyLoaded.Label}" /><Text id="completelyLoaded" visible="{= typeof ${completelyLoaded} === \'boolean\'}" text="{completelyLoaded}" /><Label id="debugInfoLabel" visible="{= !!${debugInfo}}" text="{i18n>FailedTileDialog.debugInfo.Label}" /><Text id="debugInfo" visible="{= !!${debugInfo}}" text="{debugInfo}" /></formLayout:content></formLayout:SimpleForm></content><endButton><Button id="closeButton" text="{i18n>closeBtn}" press=".onClose" /></endButton></Dialog></core:FragmentDefinition>\n'
});
//# sourceMappingURL=homepage-af-dep.js.map
